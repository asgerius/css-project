[{"tags": ["java", "mongodb", "kotlin", "persistence", "hibernate-ogm"], "comments": [{"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1535005479, "post_id": 51976621, "comment_id": 90908623, "body": "Doesn&#39;t look like the exception has anything to do with the code you posted? Why don&#39;t you post the code where the exception actually happens?"}, {"owner": {"reputation": 357, "user_id": 7175503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qwHqN.jpg?s=128&g=1", "display_name": "&#193;ngel Rodr&#237;guez", "link": "https://stackoverflow.com/users/7175503/%c3%81ngel-rodr%c3%adguez"}, "reply_to_user": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1535017289, "post_id": 51976621, "comment_id": 90915032, "body": "@Strelok I have edited it. You are right! Hope now it&#180;s better. Thank you."}, {"owner": {"reputation": 2896, "user_id": 2404683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d5SiO.jpg?s=128&g=1", "display_name": "Davide", "link": "https://stackoverflow.com/users/2404683/davide"}, "edited": false, "score": 0, "creation_date": 1535018404, "post_id": 51976621, "comment_id": 90915720, "body": "Would you be able to create a small project as an example an publish it somewhere so that we can re-create the error?"}, {"owner": {"reputation": 2896, "user_id": 2404683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d5SiO.jpg?s=128&g=1", "display_name": "Davide", "link": "https://stackoverflow.com/users/2404683/davide"}, "edited": false, "score": 0, "creation_date": 1535018464, "post_id": 51976621, "comment_id": 90915760, "body": "The error might be in the configuration"}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1535036091, "post_id": 51976621, "comment_id": 90926872, "body": "You\u2019re not seeing the full exception. Remove your try catch clause so you can get the full stack trace of the hibernate exception."}, {"owner": {"reputation": 357, "user_id": 7175503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qwHqN.jpg?s=128&g=1", "display_name": "&#193;ngel Rodr&#237;guez", "link": "https://stackoverflow.com/users/7175503/%c3%81ngel-rodr%c3%adguez"}, "reply_to_user": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1535094345, "post_id": 51976621, "comment_id": 90947316, "body": "@Strelok I took your advice. Full stack trace is now updated in my post. My problem should be this: org.hibernate.MappingException: Could not determine type for: applicationdatamodel.sleep.SleepLevels, at table: Sleep, for columns: [org.hibernate.mapping.Column(levels)]. What should I do to solve it?"}, {"owner": {"reputation": 357, "user_id": 7175503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qwHqN.jpg?s=128&g=1", "display_name": "&#193;ngel Rodr&#237;guez", "link": "https://stackoverflow.com/users/7175503/%c3%81ngel-rodr%c3%adguez"}, "edited": false, "score": 0, "creation_date": 1535192611, "post_id": 51976621, "comment_id": 90982689, "body": "I solved the problem! I had to add &#39;Embedded&#39; annotation to &#39;levels&#39; attribute. Then I added &#39;Embeddable&#39; annotation to its class. Finally I used this for the rest of embedded classes that represent a embedded object in the mongoDB document. Finally, I had to add &#39;ElementCollection&#39; annotation to a List of another class that I implemented."}, {"owner": {"reputation": 2896, "user_id": 2404683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d5SiO.jpg?s=128&g=1", "display_name": "Davide", "link": "https://stackoverflow.com/users/2404683/davide"}, "edited": false, "score": 0, "creation_date": 1535532496, "post_id": 51976621, "comment_id": 91096178, "body": "I wrote the answer without noticing your last comment, I guess it will be useful for other people having similar issues."}], "answers": [{"tags": [], "owner": {"reputation": 2896, "user_id": 2404683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d5SiO.jpg?s=128&g=1", "display_name": "Davide", "link": "https://stackoverflow.com/users/2404683/davide"}, "is_accepted": true, "score": 1, "last_activity_date": 1536842721, "last_edit_date": 1536842721, "creation_date": 1535532402, "answer_id": 52073226, "question_id": 51976621, "link": "https://stackoverflow.com/questions/51976621/exception-using-hibernate-ogm-and-mongodb-at-entity-declaration/52073226#52073226", "title": "Exception using Hibernate OGM and MongoDB at Entity declaration", "body": "<p>The column causing the issue is: <code>val levels: SleepLevels</code>.</p>\n\n<p>Hibernate doesn't know how to map this class on the database (I assume it's not an enum).\nThis means that you need to map it as:</p>\n\n<ol>\n<li><a href=\"http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#embeddables\" rel=\"nofollow noreferrer\">Embedded</a>, using the <code>@Embeddaded</code> and <code>@Embeddable</code> annotations;</li>\n<li><a href=\"http://docs.jboss.org/hibernate/orm/5.3/userguide/html_single/Hibernate_User_Guide.html#associations\" rel=\"nofollow noreferrer\">Association</a>, using the <code>@OneToOne</code> or <code>@ManyToOne</code> annotations.</li>\n</ol>\n\n<p>Not knowing the details of your model I cannot help you more than this but you should be able to find all the details you need in the official hibernate documentation.</p>\n"}], "owner": {"reputation": 357, "user_id": 7175503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qwHqN.jpg?s=128&g=1", "display_name": "&#193;ngel Rodr&#237;guez", "link": "https://stackoverflow.com/users/7175503/%c3%81ngel-rodr%c3%adguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 52073226, "answer_count": 1, "score": 0, "last_activity_date": 1536842721, "creation_date": 1534981855, "last_edit_date": 1535094261, "question_id": 51976621, "link": "https://stackoverflow.com/questions/51976621/exception-using-hibernate-ogm-and-mongodb-at-entity-declaration", "title": "Exception using Hibernate OGM and MongoDB at Entity declaration", "body": "<p>I\u00b4m not able to initialize my EntityManagerFactory using Hibernate OGM and mongoDB, I\u00b4m getting the following Exception:</p>\n\n<pre><code>    Exception in thread \"main\" java.lang.ExceptionInInitializerError\n    at model.DBManager.initEntityManagerFactory(DBManager.kt:11)\n    at controller.restapi.RestapiApplicationKt.main(RestapiApplication.kt:13)\nCaused by: javax.persistence.PersistenceException: [PersistenceUnit: myPersistenceConfig] Unable to build Hibernate SessionFactory\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:970)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:895)\n    at org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:58)\n    at org.hibernate.ogm.jpa.HibernateOgmPersistence.createEntityManagerFactory(HibernateOgmPersistence.java:57)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\n    at javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:39)\n    at model.util.HibernateOGMUtil.&lt;clinit&gt;(HibernateOGMUtil.kt:15)\n    ... 2 more\nCaused by: org.hibernate.MappingException: Could not determine type for: applicationdatamodel.sleep.SleepLevels, at table: Sleep, for columns: [org.hibernate.mapping.Column(levels)]\n    at org.hibernate.mapping.SimpleValue.getType(SimpleValue.java:456)\n    at org.hibernate.mapping.Property.getType(Property.java:69)\n    at org.hibernate.jpa.event.spi.JpaIntegrator.integrate(JpaIntegrator.java:150)\n    at org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:281)\n    at org.hibernate.ogm.boot.impl.OgmSessionFactoryBuilderImpl.build(OgmSessionFactoryBuilderImpl.java:55)\n    at org.hibernate.ogm.boot.impl.OgmSessionFactoryBuilderImpl.build(OgmSessionFactoryBuilderImpl.java:23)\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:892)\n</code></pre>\n\n<p>This is the code involved with the Exception:</p>\n\n<pre><code>class HibernateOGMUtil {\n\n    companion object {\n\n        private lateinit var entityManagerFactory: EntityManagerFactory\n\n        init {\n            try{\n                entityManagerFactory = Persistence.createEntityManagerFactory(\"myPersistenceConfig\")\n\n            }catch (e:Exception){\n                println(System.err.println(\"Initial EntityManagerFactory creation failed.\" + e))\n            }\n        }\n        fun getEntityManagerFactory(): EntityManagerFactory{\n            return entityManagerFactory\n        }\n    }\n}\n</code></pre>\n\n<p>On the other hand, I have tried to remove the attribute 'levels' from next Entity and then, there is no exception and persistence works. So I suppose that something wrong is happening with this attribute. Maybe I should add a special annotation but I\u00b4m really stuck on this.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>import applicationdatamodel.sleep.SleepLevels\nimport org.hibernate.annotations.Type\nimport java.util.*\nimport javax.persistence.*\n\n@Entity\ndata class Sleep (\n    @Temporal(TemporalType.TIMESTAMP) val dateOfSleep: Date,\n    val user_cif: String,\n    val duration: Int,\n    @Temporal(TemporalType.TIMESTAMP) val startTime: Date,\n    @Temporal(TemporalType.TIMESTAMP) val endTime: Date,\n    val minutesAsleep: Int,\n    val minutesAwake: Int,\n    val levels: SleepLevels\n){\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Type(type = \"objectid\")\n    private lateinit var id: String\n}\n</code></pre>\n\n<p>I would apreciate any help.</p>\n"}, {"tags": ["java", "android", "kotlin", "request", "okhttp"], "comments": [{"owner": {"reputation": 24292, "user_id": 1261266, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/We9Ka.jpg?s=128&g=1", "display_name": "pyus13", "link": "https://stackoverflow.com/users/1261266/pyus13"}, "edited": false, "score": 1, "creation_date": 1535000658, "post_id": 51976455, "comment_id": 90906890, "body": "I would suggest trying the API from a postman or any other REST API client, It seems the stream returned by the API request is not proper."}], "answers": [{"tags": [], "owner": {"reputation": 428, "user_id": 1234031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gG3tk.jpg?s=128&g=1", "display_name": "Julian Corr&#234;a", "link": "https://stackoverflow.com/users/1234031/julian-corr%c3%aaa"}, "is_accepted": false, "score": 3, "last_activity_date": 1561777584, "creation_date": 1561777584, "answer_id": 56814806, "question_id": 51976455, "link": "https://stackoverflow.com/questions/51976455/why-am-i-getting-a-protocol-error-from-okhttp-request/56814806#56814806", "title": "why am I getting a PROTOCOL ERROR from OkHttp request?", "body": "<p>I solved a similar problem by restricting the request to use HTTP 1, see:</p>\n\n<pre><code>OkHttpClient okHttpClient = new OkHttpClient();\nokHttpClient.setProtocols(Arrays.asList(Protocol.HTTP_1_1));\n</code></pre>\n"}], "owner": {"reputation": 60, "user_id": 9189076, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jKmVb41obiI/AAAAAAAAAAI/AAAAAAAAAAs/TTLZooybnvQ/photo.jpg?sz=128", "display_name": "C&#39;Aira Shields", "link": "https://stackoverflow.com/users/9189076/caira-shields"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1819, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1561777584, "creation_date": 1534980295, "last_edit_date": 1534989463, "question_id": 51976455, "link": "https://stackoverflow.com/questions/51976455/why-am-i-getting-a-protocol-error-from-okhttp-request", "title": "why am I getting a PROTOCOL ERROR from OkHttp request?", "body": "<p>I've been searching for awhile on this topic. I'm trying to send data to my backend server using <code>OkHttp</code>. However, I am getting this error: </p>\n\n<p><code>okhttp3.internal.http2.StreamResetException:</code> <code>stream was reset:PROTOCOL_ERROR</code></p>\n\n<pre><code>val client = OkHttpClient()\nval response = client.newCall(\n    Request.Builder()\n           .addHeader(\"Authorization:\", \"Bearer $firebaseToken\")\n           .url(\"https://someURL/\"+ podcastId.toString())\n           .build())\n    .execute()\n</code></pre>\n\n<p>I'm not sure if this has to do with the <code>URL</code> or my <code>Authorization</code> header? Any help would be appreciated, thanks in advance. </p>\n"}, {"tags": ["kotlin", "mockito"], "answers": [{"comments": [{"owner": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "edited": false, "score": 0, "creation_date": 1534979071, "post_id": 51976123, "comment_id": 90902850, "body": "To some abstract degree, this is what I&#39;m doing. <code>MyClass</code> in this example is owned by a fragment that injects <code>uiPrinter</code> as a dependency into <code>MyClass</code>. If I&#39;m being totally honest, I just understand the idea of higher-order functions better than interfaces, but I think both of our examples are achieving the same principle. I had hoped to figure out a way to test it without wrapping it in an interface object, but if that&#39;s not possible I&#39;ll change my implementation."}, {"owner": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "edited": false, "score": 0, "creation_date": 1534979992, "post_id": 51976123, "comment_id": 90903039, "body": "I figured out how to achieve the functionality I desired, see my answer to this question."}], "tags": [], "owner": {"reputation": 1228, "user_id": 6580534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8420463b82450b19a1e4537d8ee17c8?s=128&d=identicon&r=PG&f=1", "display_name": "M. Palsich", "link": "https://stackoverflow.com/users/6580534/m-palsich"}, "is_accepted": false, "score": 1, "last_activity_date": 1534977719, "creation_date": 1534977719, "answer_id": 51976123, "question_id": 51975740, "link": "https://stackoverflow.com/questions/51975740/is-there-a-way-to-verify-that-a-top-level-function-passed-as-a-dependency-to-a-c/51976123#51976123", "title": "Is there a way to verify that a top-level function passed as a dependency to a class has been called during testing?", "body": "<p>You may want to check out the Model-View-Presenter architecture. Its purpose is to hide the Android framework behind an abstract View interface which a purely Java Presenter can interact with. In your example:</p>\n\n<pre><code>interface ViewInterface {\n  fun printError(error: String)\n}\n\n\nclass MyPresenter(private val view: ViewInterface) {\n  fun foo() {\n    // do some stuff (testable stuff)\n    view.printError(\"Printing from foo()!\")\n    // do some more (testable) stuff\n  }\n} \n\nclass MyPresenterTest() { // Test using Mockito to mock the abstract view\n    private val view = mock(ViewInterface::class.java)\n    private val presenter = MyPresenter(view)\n\n    @Test\n    fun printsError() {\n        // set up preconditions\n\n        presenter.foo()\n\n        verify(view).printError(\"Printing from foo()!\")\n    }\n}\n</code></pre>\n\n<p>Your concrete view will generally be an Android Activity, Fragment, or View which implements the view interface. Notice MyPresenter only expects the abstract view and does not need knowledge of the framework-dependent operations.</p>\n\n<pre><code>class MyActivity : Activity(), ViewInterface {\n    // ...\n\n    override fun printError(error: String) {\n        textView.text = error // For example\n    }\n    // ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "is_accepted": true, "score": 0, "last_activity_date": 1534979956, "creation_date": 1534979956, "answer_id": 51976412, "question_id": 51975740, "link": "https://stackoverflow.com/questions/51975740/is-there-a-way-to-verify-that-a-top-level-function-passed-as-a-dependency-to-a-c/51976412#51976412", "title": "Is there a way to verify that a top-level function passed as a dependency to a class has been called during testing?", "body": "<p>This can be achieved by mocking the higher-order function as higher-order functions are objects unless inlined. </p>\n\n<pre><code>@Mock\nval testUiPrinter: (String) -&gt; Unit\n\n@Test\nfun uiPrinterIsInvoked() {\n    val myClass = MyClass(testUiPrinter)\n    myClass.foo()\n    verify(testUiPrinter).invoke(\"Printing from foo!\")\n}\n</code></pre>\n"}], "owner": {"reputation": 611, "user_id": 3698170, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a7bb9870ae150c48d6d20f9203675031?s=128&d=identicon&r=PG&f=1", "display_name": "FutureShocked", "link": "https://stackoverflow.com/users/3698170/futureshocked"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 364, "favorite_count": 0, "accepted_answer_id": 51976412, "answer_count": 2, "score": 0, "last_activity_date": 1534979956, "creation_date": 1534975146, "question_id": 51975740, "link": "https://stackoverflow.com/questions/51975740/is-there-a-way-to-verify-that-a-top-level-function-passed-as-a-dependency-to-a-c", "title": "Is there a way to verify that a top-level function passed as a dependency to a class has been called during testing?", "body": "<p>I have a class that receives a function allowing it to display things on the UI during a failure case. What's the best way that I can verify that the function is called in my test?</p>\n\n<pre><code>MyClass(private val uiPrinter: (String) -&gt; Unit) {\n    fun foo() {\n        // do some stuff\n        uiPrinter(\"printing from foo!\")\n        // do some more stuff \n    }\n}\n\nMyClassTest() {\n    val testUiPrinter: (String) -&gt; Unit = { System.out.println(it) }\n\n    @Test\n    fun uiPrinterIsInvoked() {\n        val myClass = MyClass(testUiPrinter)\n        myClass.foo()\n        // can I verify that testUiPrinter has been invoked?\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1534973922, "post_id": 51975499, "comment_id": 90901438, "body": "You can&#39;t do this <i>with an array.</i>  You could maybe do it with a <code>List</code> or the like, but if you have an object of type <code>IntArray</code>, the only thing that will happen when you get or set an element is that you get or set the element."}], "answers": [{"comments": [{"owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "edited": false, "score": 0, "creation_date": 1535051762, "post_id": 51976098, "comment_id": 90935251, "body": "Gotcha, makes sense.  Thank you!"}], "tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 1, "last_activity_date": 1534977471, "creation_date": 1534977471, "answer_id": 51976098, "question_id": 51975499, "link": "https://stackoverflow.com/questions/51975499/observable-array-in-kotlin-to-know-when-an-array-elt-value-is-changed/51976098#51976098", "title": "Observable array in Kotlin to know when an array elt value is changed", "body": "<p>You will have to use a custom class instead, <code>IntArray</code> is mapped to primitive <code>int[]</code> array so it doesn't provide any place to inject callback - changing value like your example (<code>myObj.reds[5] = 100</code>) you only know when array is returned, but have no control over changes after that.</p>\n\n<p>For example you can create class like this:</p>\n\n<pre><code>class IntArrayWrapper(size: Int, \n                      val setterObs : ((index: Int, value: Int) -&gt; Unit)? = null){  \n    val field = IntArray(size)\n    val size\n        get() = field.size\n    operator fun iterator() = field.iterator()\n\n    operator fun get(i: Int) : Int {\n        return field[i]\n    }\n    operator fun set(i: Int, value: Int){\n        field[i] = value\n        setterObs?.invoke(i, value)\n    }\n}\n</code></pre>\n\n<p>Operator functions will let you get values from underlying array with same syntax as if you were accessing it directly. <code>setterObs</code> argument in constructor lets you pass the \"observer\" for setter method:</p>\n\n<pre><code>val reds = IntArrayWrapper(10){index, value -&gt;\n    println(\"$index changed to $value\")\n    invalidateLums(index) // method that modifies lums or whatever you need\n}\n\nval a = reds[2] // getter usage\nreds[3] = 5  // setter usage that triggers the setter observer callback\nreds.field[4] = 3 // set value in backing array directly, allows modification without setter callback\n</code></pre>\n\n<p>Note that this imposes limitations, as you won't be able to freely use <code>IntArray</code> extension methods without referencing backing <code>field</code> nor will you be able to pass this class as an <code>Array</code> argument.</p>\n"}, {"tags": [], "owner": {"reputation": 894, "user_id": 5070552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-2Xo1h4e-Zpg/AAAAAAAAAAI/AAAAAAAAACQ/2vxAWb-LHNo/photo.jpg?sz=128", "display_name": "Samuel Kodytek", "link": "https://stackoverflow.com/users/5070552/samuel-kodytek"}, "is_accepted": false, "score": 0, "last_activity_date": 1535009938, "creation_date": 1535009938, "answer_id": 51980614, "question_id": 51975499, "link": "https://stackoverflow.com/questions/51975499/observable-array-in-kotlin-to-know-when-an-array-elt-value-is-changed/51980614#51980614", "title": "Observable array in Kotlin to know when an array elt value is changed", "body": "<p>I do not know if it is the cleanest way of solving your problem but, you could use the <code>ObservableList</code> (<a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/collections/ObservableList.html\" rel=\"nofollow noreferrer\">FX observable collections</a>):</p>\n\n<pre><code>var numbers: ObservableList&lt;Int&gt; = FXCollections.observableArrayList()\nnumbers.addListener(ListChangeListener&lt;Int&gt; {\n    //Do things on change\n})\n</code></pre>\n\n<p><strong><em>But as I mentioned, by adding these collections you are mixing FX components into your application, which I do not know if it is wanted or even if it works on various platforms like android!</em></strong></p>\n"}], "owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1443, "favorite_count": 1, "accepted_answer_id": 51976098, "answer_count": 2, "score": 0, "last_activity_date": 1535009938, "creation_date": 1534973842, "question_id": 51975499, "link": "https://stackoverflow.com/questions/51975499/observable-array-in-kotlin-to-know-when-an-array-elt-value-is-changed", "title": "Observable array in Kotlin to know when an array elt value is changed", "body": "<p>My goal: I have a simple class with a public </p>\n\n<pre><code>val reds = IntArray(10)\nval greens = IntArray(10)\nval blues = IntArray(10)\nval lums = IntArray(10)\n</code></pre>\n\n<p>If someone modifies <strong>any</strong> red value, I'd like to update the lum value.  </p>\n\n<pre><code>myObj.reds[5] = 100 // Should update myObj.lums[5] = reds[5]+greens[5]+blues[5]\n</code></pre>\n\n<p>The problems is that the <code>by Delegates.observable</code> seem to only be used for var objects - nothing mentions \"and if you modify an element of an array, here is what gets triggered\"</p>\n\n<p>Maybe this isn't possible and I have to do all modifications through getters and setters - but I'd much rather have something trigger like an observable!</p>\n"}, {"tags": ["unit-testing", "kotlin", "mockito"], "answers": [{"comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1534969825, "post_id": 51973819, "comment_id": 90899769, "body": "<code>The backticks are special syntax that make these functions defined in Java still callable from Kotlin.</code> - Not just that though. They can also be called in Kotlin to escape normally illegal characters. For an instance, <code>**</code> doesn&#39;t compile, but <code>`**`</code> is. Though it&#39;s just generally easier just using non-reserved keywords and supported names, there are cases where the backticks can be used in function declaration (i.e. <code>fun `**`(something: Any)</code>)"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 4, "last_activity_date": 1534965916, "creation_date": 1534965916, "answer_id": 51973819, "question_id": 51973542, "link": "https://stackoverflow.com/questions/51973542/what-does-when-mean-inside-in-kotlin/51973819#51973819", "title": "What does `when` mean inside ` ` in Kotlin?", "body": "<p><code>when</code> is a keyword in Kotlin, as it's used in the <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#when-expression\" rel=\"nofollow noreferrer\">when expression</a>. In Mockito, there is a static function that's also called <a href=\"http://static.javadoc.io/org.mockito/mockito-core/2.21.0/org/mockito/Mockito.html#when-T-\" rel=\"nofollow noreferrer\"><code>when</code></a>. This can happen because <code>when</code> wasn't a keyword in Java, so it was available for identifier naming.</p>\n\n<p>The backticks are <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#escaping-for-java-identifiers-that-are-keywords-in-kotlin\" rel=\"nofollow noreferrer\">special syntax</a> that make these functions defined in Java still callable from Kotlin.</p>\n\n<p>Ps. You might want to look into <a href=\"https://github.com/nhaarman/mockito-kotlin\" rel=\"nofollow noreferrer\">mockito-kotlin</a>, it makes a couple Mockito-related tasks simpler in Kotlin, for example it renames the <code>when</code> function to <code>whenever</code> so that it's easier and nicer to call.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1535008728, "last_edit_date": 1535008728, "creation_date": 1534967489, "answer_id": 51974169, "question_id": 51973542, "link": "https://stackoverflow.com/questions/51973542/what-does-when-mean-inside-in-kotlin/51974169#51974169", "title": "What does `when` mean inside ` ` in Kotlin?", "body": "<p>If you don't want to depend on another third party library as suggested in the accepted answer, you may want to take a look at <a href=\"https://static.javadoc.io/org.mockito/mockito-core/2.21.0/org/mockito/BDDMockito.html\" rel=\"nofollow noreferrer\">BDDMockito</a> (part of Mockito already). This basically just changes the style you write tests with Mockito and happens to provide Kotlin-friendly function names, which don't need to be escaped like <code>when</code>:</p>\n\n<pre><code>//Given\ngiven(calcService.add(20.0,10.0)).willReturn(30.0);\n\n//when\ndouble result = calcService.add(20.0,10.0);\n\n//then\nAssert.assertEquals(result,30.0,0); \n</code></pre>\n"}], "owner": {"reputation": 7265, "user_id": 3457177, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bae2e85ed6794ece744ee124d9ac7842?s=128&d=identicon&r=PG&f=1", "display_name": "Vitalii", "link": "https://stackoverflow.com/users/3457177/vitalii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 51973819, "answer_count": 2, "score": 2, "last_activity_date": 1535008728, "creation_date": 1534964705, "last_edit_date": 1534965009, "question_id": 51973542, "link": "https://stackoverflow.com/questions/51973542/what-does-when-mean-inside-in-kotlin", "title": "What does `when` mean inside ` ` in Kotlin?", "body": "<p>I see in unit tests for Android created in Kotlin the code like this</p>\n\n<pre><code>`when`(context.getSharedPreferences(anyString(), anyInt())).thenReturn(sharedPreferences)\n</code></pre>\n\n<p>Could you explain me why <code>when</code> is inside `` ? If I remove `` around <code>when</code> I see an issue that <code>thenReturn</code> could not be resolved.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 553, "user_id": 5294432, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/411c8d915e7ee7041d35fdf24ae0ca27?s=128&d=identicon&r=PG&f=1", "display_name": "minizibi", "link": "https://stackoverflow.com/users/5294432/minizibi"}, "edited": false, "score": 0, "creation_date": 1534963384, "post_id": 51973210, "comment_id": 90896889, "body": "HiddenService interface is still visible outside module right?"}, {"owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "reply_to_user": {"reputation": 553, "user_id": 5294432, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/411c8d915e7ee7041d35fdf24ae0ca27?s=128&d=identicon&r=PG&f=1", "display_name": "minizibi", "link": "https://stackoverflow.com/users/5294432/minizibi"}, "edited": false, "score": 0, "creation_date": 1534963569, "post_id": 51973210, "comment_id": 90896968, "body": "If you want for someone to supply you the service, you&#39;ll have to make it public, as someone will be outside of your module. Spring DI is based on interfaces. Otherwise, use factory method pattern."}, {"owner": {"reputation": 553, "user_id": 5294432, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/411c8d915e7ee7041d35fdf24ae0ca27?s=128&d=identicon&r=PG&f=1", "display_name": "minizibi", "link": "https://stackoverflow.com/users/5294432/minizibi"}, "edited": false, "score": 0, "creation_date": 1534963691, "post_id": 51973210, "comment_id": 90897022, "body": "I want inject with Spring&#39;s DI internal class into public one. Requirement is to inject by constructor"}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 0, "last_activity_date": 1534963475, "last_edit_date": 1534963475, "creation_date": 1534963201, "answer_id": 51973210, "question_id": 51973013, "link": "https://stackoverflow.com/questions/51973013/kotlins-scopes-exposing-single-entry-point/51973210#51973210", "title": "Kotlin&#39;s scopes - exposing single entry point", "body": "<p><a href=\"https://en.wikipedia.org/wiki/Dependency_inversion_principle\" rel=\"nofollow noreferrer\">Dependency inversion principle</a> is a good place to start:</p>\n\n<pre><code>internal class HiddenServiceImpl : HiddenService {\n    override fun someFunction() {    \n    }\n}\n\ninterface HiddenService {\n    fun someFunction()\n}\n\n\nclass Service(private val hiddenService: HiddenService) {\n    fun someFunction() {  \n    }\n}\n</code></pre>\n\n<p>Other option is to use factory method:</p>\n\n<pre><code>class Service private constructor(hiddenService: HiddenService) {\n\n    companion object {\n        fun create() = Service(HiddenService())\n    }\n\n    fun someFunction() {\n\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 553, "user_id": 5294432, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/411c8d915e7ee7041d35fdf24ae0ca27?s=128&d=identicon&r=PG&f=1", "display_name": "minizibi", "link": "https://stackoverflow.com/users/5294432/minizibi"}, "edited": false, "score": 0, "creation_date": 1534963459, "post_id": 51973260, "comment_id": 90896919, "body": "Hmm can I use Spring&#39;s DI for this purpose?"}, {"owner": {"reputation": 553, "user_id": 5294432, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/411c8d915e7ee7041d35fdf24ae0ca27?s=128&d=identicon&r=PG&f=1", "display_name": "minizibi", "link": "https://stackoverflow.com/users/5294432/minizibi"}, "edited": false, "score": 0, "creation_date": 1534963861, "post_id": 51973260, "comment_id": 90897105, "body": "class Service internal constructor(private val hiddenService: HiddenService) I think injection should work in this case. I will check it when get back to home, thanks :)"}, {"owner": {"reputation": 553, "user_id": 5294432, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/411c8d915e7ee7041d35fdf24ae0ca27?s=128&d=identicon&r=PG&f=1", "display_name": "minizibi", "link": "https://stackoverflow.com/users/5294432/minizibi"}, "edited": false, "score": 0, "creation_date": 1534965623, "post_id": 51973260, "comment_id": 90897914, "body": "Oh great! Thanks a lot!"}], "tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": true, "score": 1, "last_activity_date": 1535012503, "last_edit_date": 1535012503, "creation_date": 1534963389, "answer_id": 51973260, "question_id": 51973013, "link": "https://stackoverflow.com/questions/51973013/kotlins-scopes-exposing-single-entry-point/51973260#51973260", "title": "Kotlin&#39;s scopes - exposing single entry point", "body": "<p>You have to declare the constructor <code>internal</code> or <code>private</code> and provide another \nfunction / constructor to create your service:</p>\n\n<pre><code>class Service internal constructor(private val hiddenService: HiddenService) {\n    constructor() : this(HiddenService())\n\n    fun someFunction() {\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 553, "user_id": 5294432, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/411c8d915e7ee7041d35fdf24ae0ca27?s=128&d=identicon&r=PG&f=1", "display_name": "minizibi", "link": "https://stackoverflow.com/users/5294432/minizibi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 51973260, "answer_count": 2, "score": 0, "last_activity_date": 1535012503, "creation_date": 1534962311, "question_id": 51973013, "link": "https://stackoverflow.com/questions/51973013/kotlins-scopes-exposing-single-entry-point", "title": "Kotlin&#39;s scopes - exposing single entry point", "body": "<p>Hello I have a simple question about kotln's scopes. I always design my modules to get an single entry point for module. It's just one (exact one) <code>public</code> class. I really care for this kind of hermetization. So imagine these 2 classes (please pay attention for packages):</p>\n\n<pre><code>package group.moduleA.service\ninternal class HiddenService() {\n\n    fun someFunction {\n\n    }\n}\n\n  package group.moduleA.service\n    class Service(private val hiddenService: HiddenService) {\n\n        fun someFunction {\n\n        }\n    }\n</code></pre>\n\n<p>So we have 2 classes in same package, one is <code>public</code> and the second one <code>internal</code>. You can imagine there is a lot of <code>internal</code> classes there. I would like to make visible just only <code>Service</code> class to another modules. Pretty common (for me) behavior in Java. In kotlin I get an error:<br>\n\"public function exposes its internal parameter...\"<br>\nAm I doing something wrong or it's just how Kotlin scopes works? How can I solve this problem?</p>\n"}, {"tags": ["kotlin", "jakarta-mail", "apache-commons"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1535013121, "post_id": 51972953, "comment_id": 90912577, "body": "Have a look at <a href=\"https://stackoverflow.com/questions/35186/how-do-i-fix-a-nosuchmethoderror\">How do I fix a NoSuchMethodError?</a>. In short: you may have compiled your code against another version of the library that you are actually using at runtime or the libraries you use don&#39;t match the required dependencies."}], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 3662222, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/f9ade8cbaaad469db0e3ccfea2d94adb?s=128&d=identicon&r=PG&f=1", "display_name": "RoflWaffle17", "link": "https://stackoverflow.com/users/3662222/roflwaffle17"}, "edited": false, "score": 0, "creation_date": 1535027429, "post_id": 51977788, "comment_id": 90921015, "body": "This was the ticket! Thanks so much, @BillShannon"}], "tags": [], "owner": {"reputation": 27744, "user_id": 1040885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NXgVZ.jpg?s=128&g=1", "display_name": "Bill Shannon", "link": "https://stackoverflow.com/users/1040885/bill-shannon"}, "is_accepted": true, "score": 1, "last_activity_date": 1534993505, "creation_date": 1534993505, "answer_id": 51977788, "question_id": 51972953, "link": "https://stackoverflow.com/questions/51972953/issue-sending-email-from-kotlin-service/51977788#51977788", "title": "Issue sending email from Kotlin service", "body": "<p>Somehow you've got the wrong JavaMail jar files included in your project.  You only want the javax.mail.jar file, as described on the <a href=\"https://javaee.github.io/javamail/#Download_JavaMail_Release\" rel=\"nofollow noreferrer\">JavaMail web site</a>.</p>\n"}], "owner": {"reputation": 151, "user_id": 3662222, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/f9ade8cbaaad469db0e3ccfea2d94adb?s=128&d=identicon&r=PG&f=1", "display_name": "RoflWaffle17", "link": "https://stackoverflow.com/users/3662222/roflwaffle17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 648, "favorite_count": 0, "accepted_answer_id": 51977788, "answer_count": 1, "score": 0, "last_activity_date": 1534993505, "creation_date": 1534962053, "question_id": 51972953, "link": "https://stackoverflow.com/questions/51972953/issue-sending-email-from-kotlin-service", "title": "Issue sending email from Kotlin service", "body": "<p>I'm trying to make my first kotlin service and want it to send emails. I'm following this tutorial <a href=\"https://odalinjo.wordpress.com/2017/06/06/sending-mail-via-gmail-using-kotlin-and-commons-mail-library/\" rel=\"nofollow noreferrer\">https://odalinjo.wordpress.com/2017/06/06/sending-mail-via-gmail-using-kotlin-and-commons-mail-library/</a>, but I'm getting the following error....I'm not really sure what it even means?</p>\n\n<pre><code> java.lang.NoSuchMethodError: com.sun.mail.util.TraceInputStream.&lt;init&gt;(Ljava/io/InputStream;Lcom/sun/mail/util/MailLogger;\n</code></pre>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1535009097, "post_id": 51972859, "comment_id": 90910365, "body": "I think <a href=\"https://stackoverflow.com/a/51972983/6202869\">Sweepers answer</a> summarizes it good. Extended classes always contain a <code>(..)</code> and interfaces not. Note that you may want to introduce some coding convention if you haven&#39;t done so yet, e.g. that you write the extended class in front, followed by all the implemented interfaces (that would basically correspond to what Java forces you to do)... But you don&#39;t need to obviously... coding conventions are helpful sometimes and handled too dogmatic other times..."}], "answers": [{"comments": [{"owner": {"reputation": 473, "user_id": 9647365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4l6DD.png?s=128&g=1", "display_name": "CrazyKP", "link": "https://stackoverflow.com/users/9647365/crazykp"}, "edited": false, "score": 0, "creation_date": 1535041503, "post_id": 51972983, "comment_id": 90930251, "body": "what if they use the secondary constructor instead of a primary constructor?"}, {"owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "reply_to_user": {"reputation": 473, "user_id": 9647365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4l6DD.png?s=128&g=1", "display_name": "CrazyKP", "link": "https://stackoverflow.com/users/9647365/crazykp"}, "edited": false, "score": 0, "creation_date": 1535042677, "post_id": 51972983, "comment_id": 90930872, "body": "@CrazyKP What do you mean? All classes have a primary constructor. Can you give me an example of a class that &quot;uses the secondary constructor instead of a primary constructor&quot;?"}, {"owner": {"reputation": 473, "user_id": 9647365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4l6DD.png?s=128&g=1", "display_name": "CrazyKP", "link": "https://stackoverflow.com/users/9647365/crazykp"}, "edited": false, "score": 0, "creation_date": 1536890200, "post_id": 51972983, "comment_id": 91595105, "body": "Now I get it Thanks for your answer."}], "tags": [], "owner": {"reputation": 142455, "user_id": 5133585, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/dfqcw.png?s=128&g=1", "display_name": "Sweeper", "link": "https://stackoverflow.com/users/5133585/sweeper"}, "is_accepted": true, "score": 11, "last_activity_date": 1534962570, "last_edit_date": 1534962570, "creation_date": 1534962169, "answer_id": 51972983, "question_id": 51972859, "link": "https://stackoverflow.com/questions/51972859/how-to-differentiate-between-kotlins-class-inheritenceextends-in-java-and-int/51972983#51972983", "title": "How to Differentiate between kotlin&#39;s class inheritence(extends in java) and interface implementation(implements in ) here kotlin uses ( : ) for both?", "body": "<p>In Kotlin, to inherit from a class you have to write its primary constructor, so you will always see the parent class followed by <code>()</code>, sometimes with things inside.</p>\n\n<p>Interfaces don't need this. You just write the names of the interfaces and that's it.</p>\n\n<p>So if you see brackets after a name, that's a parent class. Otherwise its an interface.</p>\n"}, {"tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 4, "last_activity_date": 1534967401, "creation_date": 1534967401, "answer_id": 51974153, "question_id": 51972859, "link": "https://stackoverflow.com/questions/51972859/how-to-differentiate-between-kotlins-class-inheritenceextends-in-java-and-int/51974153#51974153", "title": "How to Differentiate between kotlin&#39;s class inheritence(extends in java) and interface implementation(implements in ) here kotlin uses ( : ) for both?", "body": "<p>Consider the following example:</p>\n\n<pre><code>abstract class Employee(val firstName: String, val lastName: String) {\n    abstract fun earnings(): Double\n}\n\ninterface Hireable {\n    fun hire()\n}\n\nclass HireableEmployee(firstName: String, lastName: String) : Employee(firstName, lastName), Hireable {\n    override fun earnings(): Double {\n        return 10000.0\n    }\n\n    override fun hire() {\n        //...\n    }\n}\n</code></pre>\n\n<p>as you can see the parent class is declared with a constructor invocation <code>Employee(firstName, lastName)</code>, the interface declaration <code>Hireable</code> has <em>no</em> parentheses behind it. </p>\n\n<p>So in Kotlin <code>extends</code> corresponds to the <code>()</code> behind the name signalling that this is a constructor invocation and therefore the parent class. <code>implements</code> has no special syntax, just the name. </p>\n\n<p>For more Information about interfaces see <a href=\"https://kotlinlang.org/docs/reference/interfaces.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/interfaces.html</a></p>\n\n<p>About class hierarchies see <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/classes.html</a></p>\n"}], "owner": {"reputation": 473, "user_id": 9647365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4l6DD.png?s=128&g=1", "display_name": "CrazyKP", "link": "https://stackoverflow.com/users/9647365/crazykp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 952, "favorite_count": 1, "accepted_answer_id": 51972983, "answer_count": 2, "score": 4, "last_activity_date": 1534967401, "creation_date": 1534961715, "question_id": 51972859, "link": "https://stackoverflow.com/questions/51972859/how-to-differentiate-between-kotlins-class-inheritenceextends-in-java-and-int", "title": "How to Differentiate between kotlin&#39;s class inheritence(extends in java) and interface implementation(implements in ) here kotlin uses ( : ) for both?", "body": "<p>As I'm working in the middle of some kotlin project I got a confusion like whether a child class implements another parent class or else implementing an interface? like I am using some interfaces and classes from a jar which I am not aware a lot about it could someone explain to me a way to solve this since I am new to kotlin.<br>\nFor Example:<br>\na class definition  </p>\n\n<pre><code>abstract class Employee (val firstName: String, val lastName: String) {\n    abstract fun earnings(): Double\n}\n</code></pre>\n\n<p>which is extended by some other class  </p>\n\n<pre><code>abstract class Employee (val firstName: String, val lastName: String) {\n    // ... \n\n    fun fullName(): String {\n        return lastName + \" \" + firstName;\n    }\n}\n</code></pre>\n\n<p>Similarly an Interface  </p>\n\n<pre><code>class Result\nclass Student \n\ninterface StudentRepository {\n    fun getById(id: Long): Student\n    fun getResultsById(id: Long): List&lt;Result&gt;\n}\n</code></pre>\n\n<p>Interface implementation  </p>\n\n<pre><code>class StudentLocalDataSource : StudentRepository {\n    override fun getResults(id: Long): List&lt;Result&gt; {\n       // do implementation\n    }\n\n    override fun getById(id: Long): Student {\n        // do implementation\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 1, "last_activity_date": 1534961789, "creation_date": 1534961789, "answer_id": 51972877, "question_id": 51972696, "link": "https://stackoverflow.com/questions/51972696/kotlin-partition-command-not-working-as-expected/51972877#51972877", "title": "Kotlin partition command not working as expected", "body": "<p>You swapped the arguments. Try </p>\n\n<pre><code>val(found,notFound) = \"abcdef\".partition { \"abcd\".contains(it)}\n</code></pre>\n\n<p>and you will get the expected result.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": true, "score": 1, "last_activity_date": 1534962476, "last_edit_date": 1534962476, "creation_date": 1534961799, "answer_id": 51972883, "question_id": 51972696, "link": "https://stackoverflow.com/questions/51972696/kotlin-partition-command-not-working-as-expected/51972883#51972883", "title": "Kotlin partition command not working as expected", "body": "<p>The partition is applied to <code>\"abcd\"</code>. So this string is partitioned in a pair.  <br/>\n<code>\"abcdef\".contains(it)</code> is a predicate that returns always true.  <br/>\nSo the result is for <code>found</code> the whole partitioned string and for <code>notFound</code> nothing.  <br/>\nFor the solution that propose Todd and leonardkraemer I'm not sure that this is what you need.  <br/>\nFor example:  <br/></p>\n\n<pre><code>val(found, notFound) = \"abcdefa\".partition { \"abcd\".contains(it) }\n</code></pre>\n\n<p>returns:  <br/></p>\n\n<pre><code>found = abcda\nnotFound = ef\n</code></pre>\n\n<p>Is this what you expect?</p>\n"}, {"tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": false, "score": 1, "last_activity_date": 1534961809, "creation_date": 1534961809, "answer_id": 51972885, "question_id": 51972696, "link": "https://stackoverflow.com/questions/51972696/kotlin-partition-command-not-working-as-expected/51972885#51972885", "title": "Kotlin partition command not working as expected", "body": "<p>I think you just have your strings backwards. </p>\n\n<p>I was able to get the results you want with this:</p>\n\n<pre><code>val (found, notFound) = \"abcdef\".partition { \"abcd\".contains(it) }\n</code></pre>\n"}], "owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 51972883, "answer_count": 3, "score": 0, "last_activity_date": 1534962476, "creation_date": 1534960996, "question_id": 51972696, "link": "https://stackoverflow.com/questions/51972696/kotlin-partition-command-not-working-as-expected", "title": "Kotlin partition command not working as expected", "body": "<p>i am using '1.2.60' version of the kotlin plugin. and from the docs it says that partition should split an collection based on some predicate.  But when i try it its not splitting into pairs both true and false results. let me show you whats happening and what i have tried:</p>\n\n<pre><code>val(found,notFound) = \"abcd\".partition { \"abcdef\".contains(it)}\n</code></pre>\n\n<p>here i am expecting that i will get back a Kotlin Pair. the first would be \"abcd\" and i want the second to be \"ef\"\nWhat i am trying to do is if any char is not in one string then it should be seperated.  so since \"ef\" is not in \"abcd\" it should be parititioned .</p>\n\n<p>To be clear i am expecting that <code>found = \"abcd\" , notFound = \"ef\"</code></p>\n\n<p>but instead when i run this code i get the following:  <code>found=\"abcd\" ,notFound=\"\"</code></p>\n\n<p>why is notFound empty, what am i doing wrong ? can you guys try it and let me know ?</p>\n\n<p>if we check <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/partition.html\" rel=\"nofollow noreferrer\">the docs</a> it says this partition command should be split by predicate:</p>\n\n<blockquote>\n  <p>Splits the original string into pair of strings, where first string contains characters for which predicate yielded true, while second string contains characters for which predicate yielded false.</p>\n</blockquote>\n"}, {"tags": ["android", "compiler-errors", "kotlin"], "comments": [{"owner": {"reputation": 2141, "user_id": 2587343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52874e9b4f06834f233ea323925fd305?s=128&d=identicon&r=PG", "display_name": "Vlastimil Ov\u010d&#225;\u010d&#237;k", "link": "https://stackoverflow.com/users/2587343/vlastimil-ov%c4%8d%c3%a1%c4%8d%c3%adk"}, "edited": false, "score": 3, "creation_date": 1534959429, "post_id": 51972199, "comment_id": 90895116, "body": "Hi Kapil, whats the compilation error?"}, {"owner": {"reputation": 16154, "user_id": 4747587, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/VdsH3.png?s=128&g=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4747587/henry"}, "edited": false, "score": 0, "creation_date": 1534986837, "post_id": 51972199, "comment_id": 90904273, "body": "The piece of code won&#39;t compile, because it&#39;s not Kotlin. It&#39;s a mix of Kotlin and Java. Also, <code>clearFindViewByIdCache()</code> is parameterless function. You can&#39;t use it like this."}], "owner": {"reputation": 17, "user_id": 10261025, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df458b1763088332757f658785c4ee67?s=128&d=identicon&r=PG&f=1", "display_name": "Simant Shrestha", "link": "https://stackoverflow.com/users/10261025/simant-shrestha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534963201, "creation_date": 1534958819, "last_edit_date": 1534963201, "question_id": 51972199, "link": "https://stackoverflow.com/questions/51972199/android-app-data-extract-it-is-getting-compilation-error", "title": "Android app data extract it is getting compilation error", "body": "<pre><code>fun clickFunction(view: View)\n{\n    setContentView(R.layout.activity_main);\n    EditText txt = (EditText) clearFindViewByIdCache(R.id.editText);\n    EditText pwd = (EditText) clearFindViewByIdCache(R.id.editText2);\n    Log.i(\"info\",txt.getText().toString());\n}\n</code></pre>\n\n<p>I want to extract the values from the plain text view in <em>android studio 3.1.4</em> but i am not able to because I get an compilation error.</p>\n"}, {"tags": ["android", "kotlin", "material-components-android", "snackbar"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1534958886, "post_id": 51972083, "comment_id": 90894867, "body": "What error do you get?"}, {"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1534960461, "post_id": 51972083, "comment_id": 90895612, "body": "@marstran The errors were so many I am not sure but unable to instantiate stick in my mink what remains of it I did look at the byte code and not sure how to read it But will explore further"}], "answers": [{"comments": [{"owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "edited": false, "score": 0, "creation_date": 1534960222, "post_id": 51972260, "comment_id": 90895495, "body": "Just after posting the question I realized that support design that jetbrains  stdlib v7 has no design support Thanks and welcome to stack overflow"}, {"owner": {"reputation": 183, "user_id": 5528079, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ErPaY.png?s=128&g=1", "display_name": "Sina Rahimi", "link": "https://stackoverflow.com/users/5528079/sina-rahimi"}, "edited": false, "score": 0, "creation_date": 1573835600, "post_id": 51972260, "comment_id": 104029517, "body": "For those who want to use material dependency you can use this <code>val textView =             snackView.findViewById(com.google.android.material.R.id.snac&zwnj;&#8203;kbar_text) as TextView</code>"}], "tags": [], "owner": {"reputation": 816, "user_id": 8987788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a787055b0213252aee00965b087d956f?s=128&d=identicon&r=PG", "display_name": "SSB", "link": "https://stackoverflow.com/users/8987788/ssb"}, "is_accepted": true, "score": 18, "last_activity_date": 1581012830, "last_edit_date": 1581012830, "creation_date": 1534959086, "answer_id": 51972260, "question_id": 51972083, "link": "https://stackoverflow.com/questions/51972083/kotlin-create-a-snackbar/51972260#51972260", "title": "Kotlin create a snackbar", "body": "<p><a href=\"https://developer.android.com/reference/android/support/design/widget/Snackbar\" rel=\"noreferrer\">Refer this for more details</a></p>\n\n<p>and then here's your modified code which will show snack bar</p>\n\n<pre><code>fun onSNACK(view: View){\n    //Snackbar(view)\n    val snackbar = Snackbar.make(view, \"Replace with your own action\",\n            Snackbar.LENGTH_LONG).setAction(\"Action\", null)\n    snackbar.setActionTextColor(Color.BLUE)\n    val snackbarView = snackbar.view\n    snackbarView.setBackgroundColor(Color.LTGRAY)\n    val textView =\n            snackbarView.findViewById(com.google.android.material.R.id.snackbar_text) as TextView\n    textView.setTextColor(Color.BLUE)\n    textView.textSize = 28f\n    snackbar.show()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "is_accepted": false, "score": 1, "last_activity_date": 1534976292, "creation_date": 1534976292, "answer_id": 51975920, "question_id": 51972083, "link": "https://stackoverflow.com/questions/51972083/kotlin-create-a-snackbar/51975920#51975920", "title": "Kotlin create a snackbar", "body": "<p>We were very happy with @SSB answer. We noticed that we did not have a Action button so the code below provides the addition of a Action button and how to style it seems the snackbar_action in Support Design gets little or no mention on sites that try to provide example code. We are just calling another function when the DISMISS button is clicked.</p>\n\n<pre><code>    fun onSNACK(view: View){\n\n    var AC:String\n    AC = \"DISMISS\"\n\n    val snackbar = Snackbar.make(view, \"Click DISMISS to CLOSE\", Snackbar.LENGTH_INDEFINITE)\n            .setAction(AC,View.OnClickListener {weekDAY(null) })\n\n    snackbar.setActionTextColor(Color.RED)\n    val snackbarView = snackbar.view\n    snackbarView.setBackgroundColor(Color.LTGRAY)\n    val textView = snackbarView.findViewById(android.support.design.R.id.snackbar_text) as TextView\n    val actionTextView = snackbarView.findViewById(android.support.design.R.id.snackbar_action)as TextView\n    textView.setTextColor(Color.BLUE)\n    textView.textSize = 28f\n    actionTextView.textSize = 28f\n\n    snackbar.show()\n}\n</code></pre>\n\n<p>The two lines of code at the top were an experiment to see if text in the Snackbar could be set from a EditText. This design would permit a Snackbar that could be called from other functions in the Activity with optional wording </p>\n"}, {"tags": [], "owner": {"reputation": 1256, "user_id": 3692788, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/KbpJg.png?s=128&g=1", "display_name": "JCarlosR", "link": "https://stackoverflow.com/users/3692788/jcarlosr"}, "is_accepted": false, "score": 2, "last_activity_date": 1576616865, "creation_date": 1576616865, "answer_id": 59382088, "question_id": 51972083, "link": "https://stackoverflow.com/questions/51972083/kotlin-create-a-snackbar/59382088#59382088", "title": "Kotlin create a snackbar", "body": "<p>In case someone does not need to customize it too much, you can use it directly, as follows:</p>\n\n<pre><code>view.snack(\"Your message\")\n</code></pre>\n\n<p>To do so, just define an extension function (preferably in a <a href=\"https://github.com/JCarlosR/Redemnorte/blob/0eb6754973a75093ddac3dcdb11f9a12c2f7dd55/app/src/main/java/com/youtube/sorcjc/redemnorte/util/ViewExtensions.kt#L6\" rel=\"nofollow noreferrer\">separated file</a>):</p>\n\n<pre><code>fun View.snack(message: String, duration: Int = Snackbar.LENGTH_LONG) {\n    Snackbar.make(this, message, duration).show()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16592, "user_id": 2462531, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/oQIzz.jpg?s=128&g=1", "display_name": "Shailendra Madda", "link": "https://stackoverflow.com/users/2462531/shailendra-madda"}, "is_accepted": false, "score": 1, "last_activity_date": 1595493557, "creation_date": 1595493557, "answer_id": 63050233, "question_id": 51972083, "link": "https://stackoverflow.com/questions/51972083/kotlin-create-a-snackbar/63050233#63050233", "title": "Kotlin create a snackbar", "body": "<p>Simple way to show it in Koltin:</p>\n<pre><code>private fun showSnackBar() {\n        val snack = Snackbar.make(rootView, &quot;Sample snack bar message&quot;, Snackbar.LENGTH_INDEFINITE)\n        snack.setAction(&quot;Click Me&quot;) {\n            // TODO when you tap on &quot;Click Me&quot;\n        }\n        snack.show()\n    }\n</code></pre>\n<p>Note: Replace rootView with your view ID present in the layout, and change <code>LENGTH_INDEFINITE</code> to <code>LENGTH_SHORT</code> for a short period of time or <code>LENGTH_LONG</code> to show for a long period of time and dismiss.</p>\n"}, {"tags": [], "owner": {"reputation": 9356, "user_id": 3792198, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/lLz4m.jpg?s=128&g=1", "display_name": "Thiago", "link": "https://stackoverflow.com/users/3792198/thiago"}, "is_accepted": false, "score": 0, "last_activity_date": 1608065228, "creation_date": 1608065228, "answer_id": 65313436, "question_id": 51972083, "link": "https://stackoverflow.com/questions/51972083/kotlin-create-a-snackbar/65313436#65313436", "title": "Kotlin create a snackbar", "body": "<p>Here is how,</p>\n<pre><code>Snackbar.make(requireView(), &quot;Hello World&quot;, Snackbar.LENGTH_SHORT).show()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9356, "user_id": 3792198, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/lLz4m.jpg?s=128&g=1", "display_name": "Thiago", "link": "https://stackoverflow.com/users/3792198/thiago"}, "is_accepted": false, "score": 0, "last_activity_date": 1614251172, "creation_date": 1614251172, "answer_id": 66367301, "question_id": 51972083, "link": "https://stackoverflow.com/questions/51972083/kotlin-create-a-snackbar/66367301#66367301", "title": "Kotlin create a snackbar", "body": "<p>In Kotlin like so</p>\n<p>Snackbar.make(binding.root, &quot;My Message&quot;, Snackbar.LENGTH_SHORT).show()</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 15562920, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GjsXiY5_LP9w9u6qoS3h2k4MKDTrZmMlADIzlOx0w=k-s128", "display_name": "19CM059 Vedika Sontakke", "link": "https://stackoverflow.com/users/15562920/19cm059-vedika-sontakke"}, "is_accepted": false, "score": 0, "last_activity_date": 1617946419, "creation_date": 1617946419, "answer_id": 67015580, "question_id": 51972083, "link": "https://stackoverflow.com/questions/51972083/kotlin-create-a-snackbar/67015580#67015580", "title": "Kotlin create a snackbar", "body": "<p>i have a same problem  but i use this to solve my problem</p>\n<pre><code>     val snack = Snackbar.make(View(this@MainActivity),&quot;This is a simple Snackbar&quot;,Snackbar.LENGTH_LONG)\n     snack.show()\n</code></pre>\n"}], "owner": {"reputation": 2413, "user_id": 2475470, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/1tcOU.png?s=128&g=1", "display_name": "Vector", "link": "https://stackoverflow.com/users/2475470/vector"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21856, "favorite_count": 3, "accepted_answer_id": 51972260, "answer_count": 7, "score": 8, "last_activity_date": 1617946419, "creation_date": 1534958298, "last_edit_date": 1582373046, "question_id": 51972083, "link": "https://stackoverflow.com/questions/51972083/kotlin-create-a-snackbar", "title": "Kotlin create a snackbar", "body": "<p>We are trying to create a Snackbar. The code from a Java app was converted using the Java to Kotlin converter in Android Studio. Next we looked at various examples on many different websites and even tried to implement the code from the book Kotlin Programming Cookbook. We will post all our non working examples below.\nOur question is how to create the proper syntax to show a Snackbar?\nWe would like to click a btnSNACK with a onClick=onSNACK to show the Snackbar</p>\n\n<p>This is our Java to Kotlin converter code we would really like to use this one</p>\n\n<pre><code>    fun onSNACK(view: View){\n    //Snackbar(view)\n    //val snackbar = Snackbar(view, \"Permission Granted\", Snackbar.LENGTH_LONG).setAction(\"Action\", null).show()\n        snackbar.make(view, \"Replace with your own action\", \n        snackbar.LENGTH_LONG).setAction(\"Action\", null).show()    \n        snackbar.setActionTextColor(Color.BLUE)\n        val snackbarView = snackbar.getView()\n        snackbarView.setBackgroundColor(Color.LTGRAY)\n        val textView = \n        snackbarView.findViewById(android.support.design.R.id.snackbar_text)\n        textView.setTextColor(Color.BLUE)\n        textView.setTextSize(28f)\n        snackbar.show()\n}\n</code></pre>\n\n<p>Next Try was with this code</p>\n\n<pre><code>    class Snackbar{\n    object LENGTH_LONG {\n    }\n    fun show() {\n    }\n}\n\nfun onSNACK(view: View){\n    snackbar = Snackbar.make(this, \"Welcome to Android Teachers..!!\", \n    Snackbar.LENGTH_LONG)\n    snackbar.show()\n}\n</code></pre>\n\n<p>Our layout is a RelativeLayout (RL) for the Activity that has the Snackbar</p>\n\n<pre><code>    class Snackbar(view: View?): Any() {\n    object LENGTH_SHORT {}\n\nfun View.snack(message: String, length: Int = Toast.LENGTH_LONG, f: Snackbar. \n() -&gt; Unit) {\n    val snack = Snackbar.make(this.findViewById(R.id.RL), message, length)\n    snack.f()\n    snack.show()\n}\n</code></pre>\n\n<p>We thought this would work the first line of code was declared top level</p>\n\n<pre><code>    lateinit var snackbar: Snackbar//top level\nfun onSNACK(){\n    btnSNACK.setOnClickListener { view -&gt;\n        Snackbar.make(view, \"Replace with your own action\", \n        Snackbar.LENGTH_LONG)\n                .setAction(\"Action\", null).show()\n    }\n}\n</code></pre>\n\n<p>We used the class Snackbar with and without these various methods.\nWe were able to remove all the red warnings in most of these examples\nbut the work \"make\" just offers the same suggestion \"change variable name\"\nwhich makes no sense from our Kotlin novice point of view.\nWe do not desire to use Anko plugin\nWe also see no imports that refer to Snackbar\nYes we have jetbrains stdlib v7 dependency no design dependency </p>\n"}, {"tags": ["android", "firebase", "kotlin", "notifications", "firebase-cloud-messaging"], "comments": [{"owner": {"reputation": 449, "user_id": 7775673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcff1f0f3fe7ed5fc8beddeee6c91fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Badran", "link": "https://stackoverflow.com/users/7775673/badran"}, "edited": false, "score": 0, "creation_date": 1534960282, "post_id": 51971959, "comment_id": 90895517, "body": "I have done a full tutorial on Firebase and One signal it is on youtube , I tried it and it send even for offline (they will receive it after they become online) do you need the link?"}, {"owner": {"reputation": 45, "user_id": 8633927, "user_type": "registered", "profile_image": "https://graph.facebook.com/295189130887765/picture?type=large", "display_name": "Hon Ey Mon Ey", "link": "https://stackoverflow.com/users/8633927/hon-ey-mon-ey"}, "reply_to_user": {"reputation": 449, "user_id": 7775673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcff1f0f3fe7ed5fc8beddeee6c91fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Badran", "link": "https://stackoverflow.com/users/7775673/badran"}, "edited": false, "score": 0, "creation_date": 1534960808, "post_id": 51971959, "comment_id": 90895768, "body": "yes please / //"}, {"owner": {"reputation": 449, "user_id": 7775673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcff1f0f3fe7ed5fc8beddeee6c91fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Badran", "link": "https://stackoverflow.com/users/7775673/badran"}, "edited": false, "score": 0, "creation_date": 1534961327, "post_id": 51971959, "comment_id": 90895982, "body": "Check out the solution section"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1535012228, "post_id": 51971959, "comment_id": 90912093, "body": "If you are interested, I have exaplained in one of my <b><a href=\"https://www.youtube.com/playlist?list=PLn2n4GESV0AmXOWOam729bC47v0d0Ohee\" rel=\"nofollow noreferrer\">tutorials</a></b> step by step, how you can send <b><a href=\"https://www.youtube.com/watch?v=6RzB4HXzQyA&amp;t=3s&amp;list=PLn2n4GESV0AmXOWOam729bC47v0d0Ohee&amp;index=17\" rel=\"nofollow noreferrer\">notifications</a></b> to specific users using Cloud Firestore and Node.js."}], "answers": [{"tags": [], "owner": {"reputation": 626, "user_id": 7874124, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XZws6.png?s=128&g=1", "display_name": "R7G", "link": "https://stackoverflow.com/users/7874124/r7g"}, "is_accepted": false, "score": 0, "last_activity_date": 1534960945, "last_edit_date": 1534960945, "creation_date": 1534959834, "answer_id": 51972443, "question_id": 51971959, "link": "https://stackoverflow.com/questions/51971959/how-to-send-notification-to-any-device-when-it-goes-online/51972443#51972443", "title": "How to send notification to any device when it goes online?", "body": "<p>The best way to do it is to use the topic from firebase. You can find more in these two links:</p>\n\n<p><a href=\"https://firebase.google.com/docs/cloud-messaging/android/topic-messaging\" rel=\"nofollow noreferrer\">Link 1</a>\n<a href=\"https://firebase.google.com/docs/cloud-messaging/admin/manage-topic-subscriptions\" rel=\"nofollow noreferrer\">Link 2</a></p>\n\n<p>Another way\nis getting the listener for database changes (update that particular node value in database) from your application class and fire notification on basis of that. This will automatically do all your work, no need to send notification from server side just the listener, which will automatically destroy, and can control if your app is not in foreground.</p>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 8633927, "user_type": "registered", "profile_image": "https://graph.facebook.com/295189130887765/picture?type=large", "display_name": "Hon Ey Mon Ey", "link": "https://stackoverflow.com/users/8633927/hon-ey-mon-ey"}, "edited": false, "score": 0, "creation_date": 1534964318, "post_id": 51972764, "comment_id": 90897321, "body": "Awesome Work Brother it solve all my problems thank you very much!!"}, {"owner": {"reputation": 449, "user_id": 7775673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcff1f0f3fe7ed5fc8beddeee6c91fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Badran", "link": "https://stackoverflow.com/users/7775673/badran"}, "reply_to_user": {"reputation": 45, "user_id": 8633927, "user_type": "registered", "profile_image": "https://graph.facebook.com/295189130887765/picture?type=large", "display_name": "Hon Ey Mon Ey", "link": "https://stackoverflow.com/users/8633927/hon-ey-mon-ey"}, "edited": false, "score": 0, "creation_date": 1534964824, "post_id": 51972764, "comment_id": 90897554, "body": "you are most welcome ! feel free to upvote as a support and thank you so much for trying my solution !"}], "tags": [], "owner": {"reputation": 449, "user_id": 7775673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcff1f0f3fe7ed5fc8beddeee6c91fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Badran", "link": "https://stackoverflow.com/users/7775673/badran"}, "is_accepted": true, "score": 0, "last_activity_date": 1534961292, "creation_date": 1534961292, "answer_id": 51972764, "question_id": 51971959, "link": "https://stackoverflow.com/questions/51971959/how-to-send-notification-to-any-device-when-it-goes-online/51972764#51972764", "title": "How to send notification to any device when it goes online?", "body": "<p>I posted these on your request these are the implementation :</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=TZ5IQnV4otI\" rel=\"nofollow noreferrer\">part 1</a> Firebase part</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=1cOum0Bz0Uk\" rel=\"nofollow noreferrer\">part 2</a> One Signal Part</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=zLSaFZ_ZfvA\" rel=\"nofollow noreferrer\">part 3</a> One Signal Part Completion ( 2 minutes)</p>\n\n<p>I think you have done part 1 since you told that you have integrated firebase but you can check them and please if it worked for you accept my solution thank you so much :) .</p>\n"}], "owner": {"reputation": 45, "user_id": 8633927, "user_type": "registered", "profile_image": "https://graph.facebook.com/295189130887765/picture?type=large", "display_name": "Hon Ey Mon Ey", "link": "https://stackoverflow.com/users/8633927/hon-ey-mon-ey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 51972764, "answer_count": 2, "score": 0, "last_activity_date": 1534961292, "creation_date": 1534957806, "last_edit_date": 1534960793, "question_id": 51971959, "link": "https://stackoverflow.com/questions/51971959/how-to-send-notification-to-any-device-when-it-goes-online", "title": "How to send notification to any device when it goes online?", "body": "<p>I remark that when I send a message using FCM only the online devices receive the notification is there any way to send to all Devices ( the online devices and the other devices when they go online)?</p>\n"}, {"tags": ["android", "json", "encryption", "kotlin", "retrofit2"], "answers": [{"tags": [], "owner": {"reputation": 1694, "user_id": 10172915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dgRVP.png?s=128&g=1", "display_name": "Akaki Kapanadze", "link": "https://stackoverflow.com/users/10172915/akaki-kapanadze"}, "is_accepted": true, "score": 1, "last_activity_date": 1535121826, "creation_date": 1535121826, "answer_id": 52006876, "question_id": 51971261, "link": "https://stackoverflow.com/questions/51971261/call-retrofit2-decrypt-json-conversor/52006876#52006876", "title": "Call Retrofit2 + Decrypt + Json conversor", "body": "<p>This can be done by creating an decrypt <a href=\"https://github.com/square/okhttp/wiki/Interceptors\" rel=\"nofollow noreferrer\">interceptor</a>:</p>\n\n<pre><code>class DecryptInterceptor : Interceptor {\n\n    override fun intercept(chain: Interceptor.Chain): Response = chain\n            .run { proceed(request()) }\n            .let { response -&gt;\n                return@let if (response.isSuccessful) {\n                    val body = response.body()!!\n\n                    val contentType = body.contentType()\n                    val charset = contentType?.charset() ?: Charset.defaultCharset()\n                    val buffer = body.source().apply { request(Long.MAX_VALUE) }.buffer()\n                    val bodyContent = buffer.clone().readString(charset)\n\n                    response.newBuilder()\n                            .body(ResponseBody.create(contentType, bodyContent.let(::decryptBody)))\n                            .build()\n                } else response\n            }\n\n    private fun decryptBody(content: String): String {\n        //decryption\n        return content\n    }\n}\n</code></pre>\n\n<p>setup:</p>\n\n<pre><code>val httpClient = OkHttpClient().newBuilder()\nhttpClient.addInterceptor(DecryptInterceptor())\nval retrofit = Retrofit.Builder()\n        .baseUrl(\"http://100.1.1.100/\")\n        .addConverterFactory(JacksonConverterFactory.create())\n        .client(httpClient.build())\n        .build()\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 8054713, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dcZV7Ll_Eyk/AAAAAAAAAAI/AAAAAAAAAFA/HyBnAUUoF7g/photo.jpg?sz=128", "display_name": "RC Egsys", "link": "https://stackoverflow.com/users/8054713/rc-egsys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 0, "accepted_answer_id": 52006876, "answer_count": 1, "score": 1, "last_activity_date": 1535121826, "creation_date": 1534955128, "last_edit_date": 1534957957, "question_id": 51971261, "link": "https://stackoverflow.com/questions/51971261/call-retrofit2-decrypt-json-conversor", "title": "Call Retrofit2 + Decrypt + Json conversor", "body": "<p>I am using <code>retrofit2</code> in <code>kotlin</code>, and I need to get the content that is a <code>json</code> and this <code>encrypted</code>, I know that to convert <code>json</code> just use the <code>JacksonConverterFactory</code> (until this part was working well) but an <code>encryption</code> was added before that and I do not know how To handle this, do I need to create a converter of my own? Does anyone have a read to tell me?</p>\n\n<p>My current call for retrofit</p>\n\n<pre><code>val retrofit = Retrofit.Builder()                \n            .baseUrl(\"http://100.1.1.100/\")\n            .addConverterFactory(JacksonConverterFactory.create())\n            .client(httpClient.build())\n            .build()\n</code></pre>\n\n<p>And i already have my fucntion (working) to decrypt:</p>\n\n<pre><code>CryptAES.decrypt(value))\n</code></pre>\n"}, {"tags": ["android", "json", "kotlin"], "comments": [{"owner": {"reputation": 3546, "user_id": 2437655, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/pLYS0.jpg?s=128&g=1", "display_name": "Killer", "link": "https://stackoverflow.com/users/2437655/killer"}, "edited": false, "score": 1, "creation_date": 1534954453, "post_id": 51970903, "comment_id": 90892553, "body": "Nothing will be big if you organize the backend database carefully."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 7916268, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/1b0697c24a903fa979449e5a2ed4919c?s=128&d=identicon&r=PG&f=1", "display_name": "p_d", "link": "https://stackoverflow.com/users/7916268/p-d"}, "edited": false, "score": 0, "creation_date": 1534955774, "post_id": 51971034, "comment_id": 90893354, "body": "The Json is literally just an example and the properties will be named properly at a later stage. Currenly im getting the instance of the singleton in every fragment that needs access, you reckon the approach is alright? I don&#39;t really want to pass the object around all the time, thats why i initially chose a singleton. Cheers"}], "tags": [], "owner": {"reputation": 945, "user_id": 4733231, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8s2.jpg?s=128&g=1", "display_name": "egorikem", "link": "https://stackoverflow.com/users/4733231/egorikem"}, "is_accepted": false, "score": 0, "last_activity_date": 1534954316, "creation_date": 1534954316, "answer_id": 51971034, "question_id": 51970903, "link": "https://stackoverflow.com/questions/51970903/kotlin-structuring-classes-for-3000-lines-json-deserialization-accessibilit/51971034#51971034", "title": "Kotlin structuring classes for ~3000 lines JSON (de)serialization - accessibility/storage?", "body": "<p>Take a look at <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"nofollow noreferrer\">Kotlin version of singleton</a>. </p>\n\n<p>About the object itself, I don't really think that that's an issue, actually. Of course, the smaller the object \u2013 the better, but frankly, in your case, I would consider using HashMap instead of class for this case, as all your classes just have bunch of weird named properties </p>\n"}], "owner": {"reputation": 91, "user_id": 7916268, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/1b0697c24a903fa979449e5a2ed4919c?s=128&d=identicon&r=PG&f=1", "display_name": "p_d", "link": "https://stackoverflow.com/users/7916268/p-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534954316, "creation_date": 1534953882, "question_id": 51970903, "link": "https://stackoverflow.com/questions/51970903/kotlin-structuring-classes-for-3000-lines-json-deserialization-accessibilit", "title": "Kotlin structuring classes for ~3000 lines JSON (de)serialization - accessibility/storage?", "body": "<p>just recently made the switch from java to kotlin, what i'm having troubles with is how to structure/nest my data classes correctly in kotlin.\nI need to parse a json string of roughly 3000 lines.</p>\n\n<p>Sample Data:</p>\n\n<pre><code>{\n\"OBJECT1\": {\n    \"Property_0\": 0,\n    \"Property_1\": 0,\n    \"Property_2\": 0,\n    \"Property_3\": 0,\n    \"Property_4\": 0,\n    \"Property_5\": 0,\n    \"Property_6\": 0,\n    \"Property_7\": 0,\n    \"Property_8\": 0,\n    \"Property_9\": 0,\n    \"Property_10\": 0,\n    \"Property_11\": 0,\n    \"Property_12\": 0,\n    \"Property_13\": 0,\n    \"Property_14\": 0,\n    \"Property_15\": 0,\n    \"Property_16\": 0,\n    \"Property_17\": 0,\n    \"Property_18\": 0,\n    \"Property_19\": 0,\n    \"Property_20\": 0\n},\n\"OBJECT2\": {\n    \"Property_0\": 0,\n    \"Property_1\": 0,\n    \"Property_2\": 0,\n    \"Property_3\": 0,\n    \"Property_4\": 0,\n    \"Property_5\": 0\n},\n\"OBJECT3\": {\n    \"Property_0\": 0,\n    \"Property_1\": 0,\n    \"Property_2\": 0,\n    \"Property_3\": 0,\n    \"Property_4\": 0,\n    \"Property_5\": 0,\n    \"Property_6\": 0,\n    \"Property_7\": 0,\n    \"Property_8\": 0,\n    \"Property_9\": 0,\n    \"Property_10\": 0,\n    \"Property_11\": 0,\n    \"Property_12\": 0,\n    \"Property_13\": 0,\n    \"Property_14\": 0,\n    \"Property_15\": 0,\n    \"Property_16\": 0,\n    \"Property_17\": 0,\n    \"Property_18\": 0,\n    \"Property_19\": 0,\n    \"Property_20\": 0,\n    \"Property_21\": 0,\n    \"Property_22\": 0,\n    \"Property_23\": 0,\n    \"Property_24\": 0,\n    \"Property_25\": 0,\n    \"Property_26\": 0,\n    \"Property_27\": 0\n},\n\"OBJECT4\": {\n    \"Property_0\": 0,\n    \"Property_1\": 0,\n    \"Property_2\": 0,\n    \"Property_3\": 0,\n    \"Property_4\": 0,\n    \"Property_5\": 0,\n    \"Property_6\": 0,\n    \"Property_7\": 0,\n    \"Property_8\": 0,\n    \"Property_9\": 0,\n    \"Property_10\": 0,\n    \"Property_11\": 0\n},\n\"OBJECT5\": {\n    \"Property_0\": 0,\n    \"Property_1\": 0,\n    \"Property_2\": 0,\n    \"Property_3\": 0,\n    \"Property_4\": 0,\n    \"Property_5\": 0,\n    \"Property_6\": 0,\n    \"Property_7\": 0,\n    \"Property_8\": 0,\n    \"Property_9\": 0,\n    \"Property_10\": 0,\n    \"Property_11\": 0,\n    \"Property_12\": 0,\n    \"Property_13\": 0,\n    \"Property_14\": 0,\n    \"Property_15\": 0,\n    \"Property_16\": 0,\n    \"Property_17\": 0,\n    \"Property_18\": 0,\n    \"Property_19\": 0,\n    \"Property_20\": 0,\n    \"Property_21\": 0,\n    \"Property_22\": 0,\n    \"Property_23\": 0,\n    \"Property_24\": 0,\n    \"Property_25\": 0,\n    \"Property_26\": 0,\n    \"Property_27\": 0,\n    \"Property_28\": 0,\n    \"Property_29\": 0,\n    \"Property_30\": 0,\n    \"Property_31\": 0,\n    \"Property_32\": 0,\n    \"Property_33\": 0,\n    \"Property_34\": 0,\n    \"Property_35\": 0,\n    \"Property_36\": 0\n},\n\"OBJECT6\": {\n    \"Property_0\": 0,\n    \"Property_1\": 0,\n    \"Property_2\": 0,\n    \"Property_3\": 0,\n    \"Property_4\": 0,\n    \"Property_5\": 0,\n    \"Property_6\": 0,\n    \"Property_7\": 0,\n    \"Property_8\": 0,\n    \"Property_9\": 0\n},\n\"OBJECT7\": {\n\n    \"DEFAULTOBJECT1\": {\n        \"Default_Property2\": 1,\n        \"Default_Property3\": 50,\n        \"SUBOBJECT1\": {\n            \"Suboject1_Property1\": 0,\n            \"Suboject1_Property2\": 6,\n            \"Suboject1_Property3\": 0,\n            \"Suboject1_Property4\": 0,\n            \"Suboject1_Property5\": 100,\n            \"Suboject1_Property6\": 0,\n            \"Suboject1_Property7\": 0,\n            \"Suboject1_Property8\": 0,\n            \"Suboject1_Property9\": 0,\n            \"Suboject1_Property10\": 256,\n            \"Suboject1_Property11\": 0,\n            \"Suboject1_Property12\": 0,\n            \"Suboject1_Property13\": 0,\n            \"Suboject1_Property14\": 0,\n            \"Suboject1_Property15\": 0,\n            \"Suboject1_Property16\": 0,\n            \"Suboject1_Property17\": 0,\n            \"Suboject1_Property18\": 0,\n            \"Suboject1_Property19\": 0,\n            \"Suboject1_Property20\": 0,\n            \"Suboject1_Property21\": 0,\n            \"Suboject1_Property22\": 1,\n            \"Suboject1_Property23\": 1.0,\n            \"Suboject1_Property24\": 0,\n            \"Suboject1_Property25\": 1.0,\n            \"Suboject1_Property26\": 0,\n            \"Suboject1_Property27\": 0,\n            \"Suboject1_Property28\": 0\n        },\n        \"SUBOBJECT2\": {\n            \"Suboject2_Property1\": 1,\n            \"Suboject2_Property2\": 0,\n            \"Suboject2_Property3\": 1,\n            \"Suboject2_Property4\": 0,\n            \"Suboject2_Property5\": 1,\n            \"Suboject2_Property6\": 0,\n            \"Suboject2_Property7\": 0.8,\n            \"Suboject2_Property8\": 2,\n            \"Suboject2_Property9\": 0.25,\n            \"Suboject2_Property10\": 1,\n            \"Suboject2_Property11\": 16.0,\n            \"Suboject2_Property12\": 500,\n            \"Suboject2_Property13\": 0,\n            \"Suboject2_Property14\": 0,\n            \"Suboject2_Property15\": 3,\n            \"Suboject2_Property16\": 3,\n            \"Suboject2_Property17\": 1,\n            \"Suboject2_Property18\": 100,\n            \"Suboject2_Property19\": 1,\n            \"Suboject2_Property20\": 0,\n            \"Suboject2_Property21\": 0,\n            \"Suboject2_Property22\": 0,\n            \"Suboject2_Property23\": 75,\n            \"Suboject2_Property24\": 0,\n            \"Suboject2_Property25\": 50,\n            \"Suboject2_Property26\": 1,\n            \"Suboject2_Property27\": 0,\n            \"Suboject2_Property28\": 1,\n            \"Suboject2_Property29\": 0,\n            \"Suboject2_Property30\": 0,\n            \"Suboject2_Property31\": 0,\n            \"Suboject2_Property32\": 0,\n            \"Suboject2_Property33\": 0,\n            \"Suboject2_Property34\": 0\n        },\n        \"SUBOBJECT3\": {\n            \"Suboject2_Property1\": 1,\n            \"Suboject2_Property2\": 100.0,\n            \"Suboject2_Property3\": 100.0,\n            \"Suboject2_Property4\": 0,\n            \"Suboject2_Property5\": 0\n        }\n    },\n    \"DEFAULTOBJECT2\": {\n        \"Default_Property1\": 0,\n        \"Default_Property2\": 0,\n        \"Default_Property3\": 200,\n        \"SUBOBJECT1\": {\n            \"Suboject1_Property1\": 0,\n            \"Suboject1_Property2\": 6,\n            \"Suboject1_Property3\": 0,\n            \"Suboject1_Property4\": 0,\n            \"Suboject1_Property5\": 100,\n            \"Suboject1_Property6\": 0,\n            \"Suboject1_Property7\": 0,\n            \"Suboject1_Property8\": 0,\n            \"Suboject1_Property9\": 0,\n            \"Suboject1_Property10\": 256,\n            \"Suboject1_Property11\": 0,\n            \"Suboject1_Property12\": 0,\n            \"Suboject1_Property13\": 0,\n            \"Suboject1_Property14\": 0,\n            \"Suboject1_Property15\": 0,\n            \"Suboject1_Property16\": 0,\n            \"Suboject1_Property17\": 0,\n            \"Suboject1_Property18\": 0,\n            \"Suboject1_Property19\": 0,\n            \"Suboject1_Property20\": 0,\n            \"Suboject1_Property21\": 0,\n            \"Suboject1_Property22\": 1,\n            \"Suboject1_Property23\": 1.0,\n            \"Suboject1_Property24\": 0,\n            \"Suboject1_Property25\": 1.0,\n            \"Suboject1_Property26\": 0,\n            \"Suboject1_Property27\": 0,\n            \"Suboject1_Property28\": 0\n        },\n        \"SUBOBJECT2\": {\n            \"Suboject2_Property1\": 0,\n            \"Suboject2_Property2\": 0,\n            \"Suboject2_Property3\": 1,\n            \"Suboject2_Property4\": 0,\n            \"Suboject2_Property5\": 1,\n            \"Suboject2_Property6\": 0,\n            \"Suboject2_Property7\": 2.0,\n            \"Suboject2_Property8\": 0,\n            \"Suboject2_Property9\": 1.0,\n            \"Suboject2_Property10\": 0,\n            \"Suboject2_Property11\": 1.0,\n            \"Suboject2_Property12\": 1000,\n            \"Suboject2_Property13\": 0,\n            \"Suboject2_Property14\": 0,\n            \"Suboject2_Property15\": 0,\n            \"Suboject2_Property16\": 0,\n            \"Suboject2_Property17\": 0,\n            \"Suboject2_Property18\": 0,\n            \"Suboject2_Property19\": 0,\n            \"Suboject2_Property20\": 0,\n            \"Suboject2_Property21\": 0,\n            \"Suboject2_Property22\": 0,\n            \"Suboject2_Property23\": 60,\n            \"Suboject2_Property24\": 0,\n            \"Suboject2_Property25\": 100,\n            \"Suboject2_Property26\": 0,\n            \"Suboject2_Property27\": 0,\n            \"Suboject2_Property28\": 1,\n            \"Suboject2_Property29\": 0,\n            \"Suboject2_Property30\": 0,\n            \"Suboject2_Property31\": 0,\n            \"Suboject2_Property32\": 0,\n            \"Suboject2_Property33\": 0,\n            \"Suboject2_Property34\": 0\n        },\n        \"SUBOBJECT3\": {\n            \"Suboject2_Property1\": 1,\n            \"Suboject2_Property2\": 50.0,\n            \"Suboject2_Property3\": 50.0,\n            \"Suboject2_Property4\": 0,\n            \"Suboject2_Property5\": 0\n        }\n    },\n    \"DEFAULTOBJECT3\": {\n        \"Default_Property1\": 1,\n        \"Default_Property2\": 1,\n        \"Default_Property3\": 50,\n        \"SUBOBJECT1\": {\n            \"Suboject1_Property1\": 0,\n            \"Suboject1_Property2\": 6,\n            \"Suboject1_Property3\": 0,\n            \"Suboject1_Property4\": 0,\n            \"Suboject1_Property5\": 100,\n            \"Suboject1_Property6\": 0,\n            \"Suboject1_Property7\": 0,\n            \"Suboject1_Property8\": 0,\n            \"Suboject1_Property9\": 0,\n            \"Suboject1_Property10\": 256,\n            \"Suboject1_Property11\": 0,\n            \"Suboject1_Property12\": 0,\n            \"Suboject1_Property13\": 0,\n            \"Suboject1_Property14\": 0,\n            \"Suboject1_Property15\": 0,\n            \"Suboject1_Property16\": 0,\n            \"Suboject1_Property17\": 0,\n            \"Suboject1_Property18\": 0,\n            \"Suboject1_Property19\": 0,\n            \"Suboject1_Property20\": 0,\n            \"Suboject1_Property21\": 0,\n            \"Suboject1_Property22\": 1,\n            \"Suboject1_Property23\": 1.0,\n            \"Suboject1_Property24\": 0,\n            \"Suboject1_Property25\": 1.0,\n            \"Suboject1_Property26\": 0,\n            \"Suboject1_Property27\": 0,\n            \"Suboject1_Property28\": 0\n        },\n        \"SUBOBJECT2\": {\n            \"Suboject2_Property1\": 1,\n            \"Suboject2_Property2\": 0,\n            \"Suboject2_Property3\": 1,\n            \"Suboject2_Property4\": 0,\n            \"Suboject2_Property5\": 1,\n            \"Suboject2_Property6\": 0,\n            \"Suboject2_Property7\": 0.35,\n            \"Suboject2_Property8\": 1,\n            \"Suboject2_Property9\": 0.25,\n            \"Suboject2_Property10\": 0,\n            \"Suboject2_Property11\": 1.0,\n            \"Suboject2_Property12\": 1000,\n            \"Suboject2_Property13\": 0,\n            \"Suboject2_Property14\": 0,\n            \"Suboject2_Property15\": 0,\n            \"Suboject2_Property16\": 0,\n            \"Suboject2_Property17\": 1,\n            \"Suboject2_Property18\": 0,\n            \"Suboject2_Property19\": 1,\n            \"Suboject2_Property20\": 0,\n            \"Suboject2_Property21\": 0,\n            \"Suboject2_Property22\": 0,\n            \"Suboject2_Property23\": 60,\n            \"Suboject2_Property24\": 0,\n            \"Suboject2_Property25\": 100,\n            \"Suboject2_Property26\": 1,\n            \"Suboject2_Property27\": 0,\n            \"Suboject2_Property28\": 1,\n            \"Suboject2_Property29\": 0,\n            \"Suboject2_Property30\": 0,\n            \"Suboject2_Property31\": 0,\n            \"Suboject2_Property32\": 0,\n            \"Suboject2_Property33\": 0,\n            \"Suboject2_Property34\": 0\n        },\n        \"SUBOBJECT3\": {\n            \"Suboject2_Property1\": 0,\n            \"Suboject2_Property2\": 100.0,\n            \"Suboject2_Property3\": 100.0,\n            \"Suboject2_Property4\": 0,\n            \"Suboject2_Property5\": 0\n        }\n    },\n    \"DEFAULTOBJECT4\": {\n        \"Default_Property1\": 0,\n        \"Default_Property2\": 1,\n        \"Default_Property3\": 100,\n        \"SUBOBJECT1\": {\n            \"Suboject1_Property1\": 0,\n            \"Suboject1_Property2\": 6,\n            \"Suboject1_Property3\": 0,\n            \"Suboject1_Property4\": 0,\n            \"Suboject1_Property5\": 100,\n            \"Suboject1_Property6\": 0,\n            \"Suboject1_Property7\": 0,\n            \"Suboject1_Property8\": 0,\n            \"Suboject1_Property9\": 0,\n            \"Suboject1_Property10\": 256,\n            \"Suboject1_Property11\": 0,\n            \"Suboject1_Property12\": 0,\n            \"Suboject1_Property13\": 0,\n            \"Suboject1_Property14\": 0,\n            \"Suboject1_Property15\": 0,\n            \"Suboject1_Property16\": 0,\n            \"Suboject1_Property17\": 0,\n            \"Suboject1_Property18\": 0,\n            \"Suboject1_Property19\": 0,\n            \"Suboject1_Property20\": 0,\n            \"Suboject1_Property21\": 0,\n            \"Suboject1_Property22\": 1,\n            \"Suboject1_Property23\": 1.0,\n            \"Suboject1_Property24\": 0,\n            \"Suboject1_Property25\": 1.0,\n            \"Suboject1_Property26\": 0,\n            \"Suboject1_Property27\": 0,\n            \"Suboject1_Property28\": 0\n        },\n        \"SUBOBJECT2\": {\n            \"Suboject2_Property1\": 0,\n            \"Suboject2_Property2\": 0,\n            \"Suboject2_Property3\": 1,\n            \"Suboject2_Property4\": 0,\n            \"Suboject2_Property5\": 1,\n            \"Suboject2_Property6\": 0,\n            \"Suboject2_Property7\": 2.0,\n            \"Suboject2_Property8\": 0,\n            \"Suboject2_Property9\": 1.0,\n            \"Suboject2_Property10\": 0,\n            \"Suboject2_Property11\": 1.0,\n            \"Suboject2_Property12\": 1000,\n            \"Suboject2_Property13\": 0,\n            \"Suboject2_Property14\": 0,\n            \"Suboject2_Property15\": 0,\n            \"Suboject2_Property16\": 0,\n            \"Suboject2_Property17\": 0,\n            \"Suboject2_Property18\": 0,\n            \"Suboject2_Property19\": 0,\n            \"Suboject2_Property20\": 0,\n            \"Suboject2_Property21\": 0,\n            \"Suboject2_Property22\": 0,\n            \"Suboject2_Property23\": 60,\n            \"Suboject2_Property24\": 0,\n            \"Suboject2_Property25\": 100,\n            \"Suboject2_Property26\": 0,\n            \"Suboject2_Property27\": 0,\n            \"Suboject2_Property28\": 1,\n            \"Suboject2_Property29\": 0,\n            \"Suboject2_Property30\": 0,\n            \"Suboject2_Property31\": 0,\n            \"Suboject2_Property32\": 0,\n            \"Suboject2_Property33\": 0,\n            \"Suboject2_Property34\": 0\n        },\n        \"SUBOBJECT3\": {\n            \"Suboject2_Property1\": 0,\n            \"Suboject2_Property2\": 50.0,\n            \"Suboject2_Property3\": 50.0,\n            \"Suboject2_Property4\": 0,\n            \"Suboject2_Property5\": 0\n        }\n    },\n    \"DEFAULTOBJECT5\": {\n        \"Default_Property1\": 1,\n        \"Default_Property2\": 1,\n        \"Default_Property3\": 60,\n        \"SUBOBJECT1\": {\n            \"Suboject1_Property1\": 0,\n            \"Suboject1_Property2\": 6,\n            \"Suboject1_Property3\": 0,\n            \"Suboject1_Property4\": 0,\n            \"Suboject1_Property5\": 100,\n            \"Suboject1_Property6\": 0,\n            \"Suboject1_Property7\": 0,\n            \"Suboject1_Property8\": 0,\n            \"Suboject1_Property9\": 0,\n            \"Suboject1_Property10\": 256,\n            \"Suboject1_Property11\": 0,\n            \"Suboject1_Property12\": 0,\n            \"Suboject1_Property13\": 0,\n            \"Suboject1_Property14\": 0,\n            \"Suboject1_Property15\": 0,\n            \"Suboject1_Property16\": 1,\n            \"Suboject1_Property17\": 1,\n            \"Suboject1_Property18\": 0,\n            \"Suboject1_Property19\": 0,\n            \"Suboject1_Property20\": 1,\n            \"Suboject1_Property21\": 1,\n            \"Suboject1_Property22\": 1,\n            \"Suboject1_Property23\": 5.0,\n            \"Suboject1_Property24\": 0,\n            \"Suboject1_Property25\": 0.0,\n            \"Suboject1_Property26\": 0,\n            \"Suboject1_Property27\": 0,\n            \"Suboject1_Property28\": 1\n        },\n        \"SUBOBJECT2\": {\n            \"Suboject2_Property1\": 1,\n            \"Suboject2_Property2\": 0,\n            \"Suboject2_Property3\": 6,\n            \"Suboject2_Property4\": 0,\n            \"Suboject2_Property5\": 1,\n            \"Suboject2_Property6\": 0,\n            \"Suboject2_Property7\": 4.0,\n            \"Suboject2_Property8\": 0,\n            \"Suboject2_Property9\": 0.2,\n            \"Suboject2_Property10\": 1,\n            \"Suboject2_Property11\": 15.0,\n            \"Suboject2_Property12\": 1000,\n            \"Suboject2_Property13\": 0,\n            \"Suboject2_Property14\": 0,\n            \"Suboject2_Property15\": 0,\n            \"Suboject2_Property16\": 0,\n            \"Suboject2_Property17\": 1,\n            \"Suboject2_Property18\": 0,\n            \"Suboject2_Property19\": 1,\n            \"Suboject2_Property20\": 0,\n            \"Suboject2_Property21\": 0,\n            \"Suboject2_Property22\": 0,\n            \"Suboject2_Property23\": 60,\n            \"Suboject2_Property24\": 0,\n            \"Suboject2_Property25\": 100,\n            \"Suboject2_Property26\": 1,\n            \"Suboject2_Property27\": 0,\n            \"Suboject2_Property28\": 0,\n            \"Suboject2_Property29\": 0,\n            \"Suboject2_Property30\": 1,\n            \"Suboject2_Property31\": 1,\n            \"Suboject2_Property32\": 1,\n            \"Suboject2_Property33\": 1,\n            \"Suboject2_Property34\": 0\n        },\n        \"SUBOBJECT3\": {\n            \"Suboject2_Property1\": 0,\n            \"Suboject2_Property2\": 100.0,\n            \"Suboject2_Property3\": 100.0,\n            \"Suboject2_Property4\": 0,\n            \"Suboject2_Property5\": 0\n        }\n    },\n    \"DEFAULTOBJECT6\": {\n        \"Default_Property1\": 0,\n        \"Default_Property2\": 1,\n        \"Default_Property3\": 200,\n        \"SUBOBJECT1\": {\n            \"Suboject1_Property1\": 0,\n            \"Suboject1_Property2\": 6,\n            \"Suboject1_Property3\": 0,\n            \"Suboject1_Property4\": 0,\n            \"Suboject1_Property5\": 100,\n            \"Suboject1_Property6\": 0,\n            \"Suboject1_Property7\": 0,\n            \"Suboject1_Property8\": 0,\n            \"Suboject1_Property9\": 0,\n            \"Suboject1_Property10\": 256,\n            \"Suboject1_Property11\": 0,\n            \"Suboject1_Property12\": 0,\n            \"Suboject1_Property13\": 0,\n            \"Suboject1_Property14\": 0,\n            \"Suboject1_Property15\": 0,\n            \"Suboject1_Property16\": 0,\n            \"Suboject1_Property17\": 0,\n            \"Suboject1_Property18\": 0,\n            \"Suboject1_Property19\": 0,\n            \"Suboject1_Property20\": 0,\n            \"Suboject1_Property21\": 0,\n            \"Suboject1_Property22\": 1,\n            \"Suboject1_Property23\": 1.0,\n            \"Suboject1_Property24\": 0,\n            \"Suboject1_Property25\": 1.0,\n            \"Suboject1_Property26\": 0,\n            \"Suboject1_Property27\": 0,\n            \"Suboject1_Property28\": 0\n        },\n        \"SUBOBJECT2\": {\n            \"Suboject2_Property1\": 0,\n            \"Suboject2_Property2\": 0,\n            \"Suboject2_Property3\": 1,\n            \"Suboject2_Property4\": 0,\n            \"Suboject2_Property5\": 1,\n            \"Suboject2_Property6\": 0,\n            \"Suboject2_Property7\": 2.0,\n            \"Suboject2_Property8\": 0,\n            \"Suboject2_Property9\": 1.0,\n            \"Suboject2_Property10\": 0,\n            \"Suboject2_Property11\": 1.0,\n            \"Suboject2_Property12\": 1000,\n            \"Suboject2_Property13\": 0,\n            \"Suboject2_Property14\": 0,\n            \"Suboject2_Property15\": 0,\n            \"Suboject2_Property16\": 0,\n            \"Suboject2_Property17\": 0,\n            \"Suboject2_Property18\": 0,\n            \"Suboject2_Property19\": 0,\n            \"Suboject2_Property20\": 0,\n            \"Suboject2_Property21\": 0,\n            \"Suboject2_Property22\": 0,\n            \"Suboject2_Property23\": 60,\n            \"Suboject2_Property24\": 0,\n            \"Suboject2_Property25\": 100,\n            \"Suboject2_Property26\": 0,\n            \"Suboject2_Property27\": 0,\n            \"Suboject2_Property28\": 1,\n            \"Suboject2_Property29\": 0,\n            \"Suboject2_Property30\": 0,\n            \"Suboject2_Property31\": 0,\n            \"Suboject2_Property32\": 0,\n            \"Suboject2_Property33\": 0,\n            \"Suboject2_Property34\": 0\n        },\n        \"SUBOBJECT3\": {\n            \"Suboject2_Property1\": 0,\n            \"Suboject2_Property2\": 100.0,\n            \"Suboject2_Property3\": 100.0,\n            \"Suboject2_Property4\": 0,\n            \"Suboject2_Property5\": 0\n        }\n    },\n    \"DEFAULTOBJECT7\": {\n        \"Default_Property1\": 0,\n        \"Default_Property2\": 1,\n        \"Default_Property3\": 200,\n        \"SUBOBJECT1\": {\n            \"Suboject1_Property1\": 0,\n            \"Suboject1_Property2\": 6,\n            \"Suboject1_Property3\": 0,\n            \"Suboject1_Property4\": 0,\n            \"Suboject1_Property5\": 100,\n            \"Suboject1_Property6\": 0,\n            \"Suboject1_Property7\": 0,\n            \"Suboject1_Property8\": 0,\n            \"Suboject1_Property9\": 0,\n            \"Suboject1_Property10\": 256,\n            \"Suboject1_Property11\": 0,\n            \"Suboject1_Property12\": 0,\n            \"Suboject1_Property13\": 0,\n            \"Suboject1_Property14\": 0,\n            \"Suboject1_Property15\": 0,\n            \"Suboject1_Property16\": 0,\n            \"Suboject1_Property17\": 0,\n            \"Suboject1_Property18\": 0,\n            \"Suboject1_Property19\": 0,\n            \"Suboject1_Property20\": 0,\n            \"Suboject1_Property21\": 0,\n            \"Suboject1_Property22\": 1,\n            \"Suboject1_Property23\": 1.0,\n            \"Suboject1_Property24\": 0,\n            \"Suboject1_Property25\": 1.0,\n            \"Suboject1_Property26\": 0,\n            \"Suboject1_Property27\": 0,\n            \"Suboject1_Property28\": 0\n        },\n        \"SUBOBJECT2\": {\n            \"Suboject2_Property1\": 0,\n            \"Suboject2_Property2\": 0,\n            \"Suboject2_Property3\": 1,\n            \"Suboject2_Property4\": 0,\n            \"Suboject2_Property5\": 1,\n            \"Suboject2_Property6\": 0,\n            \"Suboject2_Property7\": 2.0,\n            \"Suboject2_Property8\": 0,\n            \"Suboject2_Property9\": 1.0,\n            \"Suboject2_Property10\": 0,\n            \"Suboject2_Property11\": 1.0,\n            \"Suboject2_Property12\": 1000,\n            \"Suboject2_Property13\": 0,\n            \"Suboject2_Property14\": 0,\n            \"Suboject2_Property15\": 0,\n            \"Suboject2_Property16\": 0,\n            \"Suboject2_Property17\": 0,\n            \"Suboject2_Property18\": 0,\n            \"Suboject2_Property19\": 0,\n            \"Suboject2_Property20\": 0,\n            \"Suboject2_Property21\": 0,\n            \"Suboject2_Property22\": 0,\n            \"Suboject2_Property23\": 60,\n            \"Suboject2_Property24\": 0,\n            \"Suboject2_Property25\": 100,\n            \"Suboject2_Property26\": 0,\n            \"Suboject2_Property27\": 0,\n            \"Suboject2_Property28\": 1,\n            \"Suboject2_Property29\": 0,\n            \"Suboject2_Property30\": 0,\n            \"Suboject2_Property31\": 0,\n            \"Suboject2_Property32\": 0,\n            \"Suboject2_Property33\": 0,\n            \"Suboject2_Property34\": 0\n        },\n        \"SUBOBJECT3\": {\n            \"Suboject2_Property1\": 0,\n            \"Suboject2_Property2\": 50.0,\n            \"Suboject2_Property3\": 50.0,\n            \"Suboject2_Property4\": 0,\n            \"Suboject2_Property5\": 0\n        }\n    },\n    \"DEFAULTOBJECT8\": {\n        \"Default_Property1\": 0,\n        \"Default_Property2\": 1,\n        \"Default_Property3\": 200,\n        \"SUBOBJECT1\": {\n            \"Suboject1_Property1\": 0,\n            \"Suboject1_Property2\": 6,\n            \"Suboject1_Property3\": 0,\n            \"Suboject1_Property4\": 0,\n            \"Suboject1_Property5\": 100,\n            \"Suboject1_Property6\": 0,\n            \"Suboject1_Property7\": 0,\n            \"Suboject1_Property8\": 0,\n            \"Suboject1_Property9\": 0,\n            \"Suboject1_Property10\": 256,\n            \"Suboject1_Property11\": 0,\n            \"Suboject1_Property12\": 0,\n            \"Suboject1_Property13\": 0,\n            \"Suboject1_Property14\": 0,\n            \"Suboject1_Property15\": 0,\n            \"Suboject1_Property16\": 0,\n            \"Suboject1_Property17\": 0,\n            \"Suboject1_Property18\": 0,\n            \"Suboject1_Property19\": 0,\n            \"Suboject1_Property20\": 0,\n            \"Suboject1_Property21\": 0,\n            \"Suboject1_Property22\": 1,\n            \"Suboject1_Property23\": 1.0,\n            \"Suboject1_Property24\": 0,\n            \"Suboject1_Property25\": 1.0,\n            \"Suboject1_Property26\": 0,\n            \"Suboject1_Property27\": 0,\n            \"Suboject1_Property28\": 0\n        },\n        \"SUBOBJECT2\": {\n            \"Suboject2_Property1\": 0,\n            \"Suboject2_Property2\": 0,\n            \"Suboject2_Property3\": 1,\n            \"Suboject2_Property4\": 0,\n            \"Suboject2_Property5\": 1,\n            \"Suboject2_Property6\": 0,\n            \"Suboject2_Property7\": 2.0,\n            \"Suboject2_Property8\": 0,\n            \"Suboject2_Property9\": 1.0,\n            \"Suboject2_Property10\": 0,\n            \"Suboject2_Property11\": 1.0,\n            \"Suboject2_Property12\": 1000,\n            \"Suboject2_Property13\": 0,\n            \"Suboject2_Property14\": 0,\n            \"Suboject2_Property15\": 0,\n            \"Suboject2_Property16\": 0,\n            \"Suboject2_Property17\": 0,\n            \"Suboject2_Property18\": 0,\n            \"Suboject2_Property19\": 0,\n            \"Suboject2_Property20\": 0,\n            \"Suboject2_Property21\": 0,\n            \"Suboject2_Property22\": 0,\n            \"Suboject2_Property23\": 60,\n            \"Suboject2_Property24\": 0,\n            \"Suboject2_Property25\": 100,\n            \"Suboject2_Property26\": 0,\n            \"Suboject2_Property27\": 0,\n            \"Suboject2_Property28\": 1,\n            \"Suboject2_Property29\": 0,\n            \"Suboject2_Property30\": 0,\n            \"Suboject2_Property31\": 0,\n            \"Suboject2_Property32\": 0,\n            \"Suboject2_Property33\": 0,\n            \"Suboject2_Property34\": 0\n        },\n        \"SUBOBJECT3\": {\n            \"Suboject2_Property1\": 0,\n            \"Suboject2_Property2\": 100.0,\n            \"Suboject2_Property3\": 100.0,\n            \"Suboject2_Property4\": 0,\n            \"Suboject2_Property5\": 0\n        }\n    },\n    \"DEFAULTOBJECT9\": {\n        \"Default_Property1\": 0,\n        \"Default_Property2\": 1,\n        \"Default_Property3\": 200,\n        \"SUBOBJECT1\": {\n            \"Suboject1_Property1\": 0,\n            \"Suboject1_Property2\": 6,\n            \"Suboject1_Property3\": 0,\n            \"Suboject1_Property4\": 0,\n            \"Suboject1_Property5\": 100,\n            \"Suboject1_Property6\": 0,\n            \"Suboject1_Property7\": 0,\n            \"Suboject1_Property8\": 0,\n            \"Suboject1_Property9\": 0,\n            \"Suboject1_Property10\": 256,\n            \"Suboject1_Property11\": 0,\n            \"Suboject1_Property12\": 0,\n            \"Suboject1_Property13\": 0,\n            \"Suboject1_Property14\": 0,\n            \"Suboject1_Property15\": 0,\n            \"Suboject1_Property16\": 0,\n            \"Suboject1_Property17\": 0,\n            \"Suboject1_Property18\": 0,\n            \"Suboject1_Property19\": 0,\n            \"Suboject1_Property20\": 0,\n            \"Suboject1_Property21\": 0,\n            \"Suboject1_Property22\": 1,\n            \"Suboject1_Property23\": 1.0,\n            \"Suboject1_Property24\": 0,\n            \"Suboject1_Property25\": 1.0,\n            \"Suboject1_Property26\": 0,\n            \"Suboject1_Property27\": 0,\n            \"Suboject1_Property28\": 0\n        },\n        \"SUBOBJECT2\": {\n            \"Suboject2_Property1\": 0,\n            \"Suboject2_Property2\": 0,\n            \"Suboject2_Property3\": 1,\n            \"Suboject2_Property4\": 0,\n            \"Suboject2_Property5\": 1,\n            \"Suboject2_Property6\": 0,\n            \"Suboject2_Property7\": 2.0,\n            \"Suboject2_Property8\": 0,\n            \"Suboject2_Property9\": 1.0,\n            \"Suboject2_Property10\": 0,\n            \"Suboject2_Property11\": 1.0,\n            \"Suboject2_Property12\": 1000,\n            \"Suboject2_Property13\": 0,\n            \"Suboject2_Property14\": 0,\n            \"Suboject2_Property15\": 0,\n            \"Suboject2_Property16\": 0,\n            \"Suboject2_Property17\": 0,\n            \"Suboject2_Property18\": 0,\n            \"Suboject2_Property19\": 0,\n            \"Suboject2_Property20\": 0,\n            \"Suboject2_Property21\": 0,\n            \"Suboject2_Property22\": 0,\n            \"Suboject2_Property23\": 60,\n            \"Suboject2_Property24\": 0,\n            \"Suboject2_Property25\": 100,\n            \"Suboject2_Property26\": 0,\n            \"Suboject2_Property27\": 0,\n            \"Suboject2_Property28\": 1,\n            \"Suboject2_Property29\": 0,\n            \"Suboject2_Property30\": 0,\n            \"Suboject2_Property31\": 0,\n            \"Suboject2_Property32\": 0,\n            \"Suboject2_Property33\": 0,\n            \"Suboject2_Property34\": 0\n        },\n        \"SUBOBJECT3\": {\n            \"Suboject2_Property1\": 0,\n            \"Suboject2_Property2\": 100.0,\n            \"Suboject2_Property3\": 100.0,\n            \"Suboject2_Property4\": 0,\n            \"Suboject2_Property5\": 0\n        }\n    },\n    ...\n    ...\n    ...\n\n  }\n}\n</code></pre>\n\n<p>Its pretty much a big object that contains 6 objects that only have properties mostly integer/floats, the 7th objects is nested pretty heavily -> list of \"defaultObjects\", which has 2/3 properties and 3 \"subObjects\". The \"subobjects\" all have tons of properties.</p>\n\n<p>I would need for this data to be accessible in different fragments, lets say each of the 7 objects is associated with one fragment in a viewPager/tabLayout. </p>\n\n<p>Java implementation is just simple singleton that gets initialized once from the deserialized JSON and stays in memory aslong as the user is accessing the data. \nProbably not the best performance-wise since its a pretty big object. </p>\n\n<p>Would love to hear a few opinions on how to implement a solution in kotlin, handle the access to the data etc.</p>\n\n<p>cheers</p>\n"}, {"tags": ["android", "firebase", "kotlin", "notifications"], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 8633927, "user_type": "registered", "profile_image": "https://graph.facebook.com/295189130887765/picture?type=large", "display_name": "Hon Ey Mon Ey", "link": "https://stackoverflow.com/users/8633927/hon-ey-mon-ey"}, "edited": false, "score": 0, "creation_date": 1534954050, "post_id": 51970416, "comment_id": 90892327, "body": "what&#39;s  CHANNEL_ID and  pendingIntent ? and why must  i use only white or black icon ? and thank you for all."}, {"owner": {"reputation": 1631, "user_id": 9130109, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4QgXr.jpg?s=128&g=1", "display_name": "EL TEGANI MOHAMED HAMAD GABIR", "link": "https://stackoverflow.com/users/9130109/el-tegani-mohamed-hamad-gabir"}, "edited": false, "score": 1, "creation_date": 1534955584, "post_id": 51970416, "comment_id": 90893231, "body": "Then you have to read  <a href=\"https://developer.android.com/training/notify-user/channels\" rel=\"nofollow noreferrer\">developer.android.com/training/notify-user/channels</a>"}], "tags": [], "owner": {"reputation": 7766, "user_id": 4517450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AFIyx.jpg?s=128&g=1", "display_name": "vikas kumar", "link": "https://stackoverflow.com/users/4517450/vikas-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1534952291, "creation_date": 1534952291, "answer_id": 51970416, "question_id": 51970287, "link": "https://stackoverflow.com/questions/51970287/how-to-change-the-notification-icon/51970416#51970416", "title": "How to change the notification icon?", "body": "<p>Here you go, make a drawable around 40px or just use SVG if you can, and pass the icon below and make sure the icon is black or white only. </p>\n\n<pre><code> val mBuilder = NotificationCompat.Builder(this, CHANNEL_ID)\n            .setSmallIcon(R.drawable.notification_icon)\n            .setContentTitle(\"FCM\")\n            .setContentText(\"FCM notification\")\n            .setContentIntent(pendingIntent)\n</code></pre>\n\n<p>read more <a href=\"https://developer.android.com/guide/practices/ui_guidelines/icon_design_status_bar\" rel=\"nofollow noreferrer\">here.</a>. And yes you only receive FCM notifications whenever you are online, once sent from the dashboard or backend it has some time before it expires.</p>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 8633927, "user_type": "registered", "profile_image": "https://graph.facebook.com/295189130887765/picture?type=large", "display_name": "Hon Ey Mon Ey", "link": "https://stackoverflow.com/users/8633927/hon-ey-mon-ey"}, "edited": false, "score": 0, "creation_date": 1534956059, "post_id": 51971024, "comment_id": 90893498, "body": "i have one more QS help me please : I remark that when i send a message using FCM only the online devices receive the notification is there any way to send to all Devices ( the online devices and the other devices when they become Online ) ??"}], "tags": [], "owner": {"reputation": 124, "user_id": 8837568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wB7Eh.jpg?s=128&g=1", "display_name": "fevziomurtekin", "link": "https://stackoverflow.com/users/8837568/fevziomurtekin"}, "is_accepted": false, "score": 0, "last_activity_date": 1534954276, "creation_date": 1534954276, "answer_id": 51971024, "question_id": 51970287, "link": "https://stackoverflow.com/questions/51970287/how-to-change-the-notification-icon/51971024#51971024", "title": "How to change the notification icon?", "body": "<p>Does the manifest file contain the following piece of code?</p>\n\n<pre><code>        &lt;meta-data\n      android:name=\"com.google.firebase.messaging.default_notification_icon\"\n        android:resource=\"@drawable/main_icon\" /&gt;\n\n    &lt;meta-data\n     android:name=\"com.google.firebase.messaging.default_notification_color\"\n        android:resource=\"@color/colorAccent\" /&gt;\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 8633927, "user_type": "registered", "profile_image": "https://graph.facebook.com/295189130887765/picture?type=large", "display_name": "Hon Ey Mon Ey", "link": "https://stackoverflow.com/users/8633927/hon-ey-mon-ey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 575, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1534958697, "creation_date": 1534951887, "last_edit_date": 1534958697, "question_id": 51970287, "link": "https://stackoverflow.com/questions/51970287/how-to-change-the-notification-icon", "title": "How to change the notification icon?", "body": "<p>I'm using Firebase Cloud Messaging service to send notifications, I want to change the notification icon and background if that is possible.\nNOTE: I remark that when I send a message using FCM only the online devices receive the notification is there any way to send to all Devices ( the online devices and the other devices when they become Online)?</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1535039164, "post_id": 51969410, "comment_id": 90928857, "body": "Why do you use <code>async-await</code> around a <code>suspend fun</code> call? Looks redundant."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1535097031, "post_id": 51969410, "comment_id": 90948637, "body": "Just for reference, your second example can look like this: <code>for (cc in ccs) cc.getExchangeRateAsync(from, to)?.also { return it }; throw CurrencyConverterException()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4155, "user_id": 18802, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/05qwF.jpg?s=128&g=1", "display_name": "chroder", "link": "https://stackoverflow.com/users/18802/chroder"}, "edited": false, "score": 0, "creation_date": 1534954184, "post_id": 51970678, "comment_id": 90892403, "body": "I tried this before; the error is the same on the await(): &quot;Suspension functions can be called only within coroutine body&quot;"}, {"owner": {"reputation": 4155, "user_id": 18802, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/05qwF.jpg?s=128&g=1", "display_name": "chroder", "link": "https://stackoverflow.com/users/18802/chroder"}, "edited": false, "score": 1, "creation_date": 1534954390, "post_id": 51970678, "comment_id": 90892523, "body": "Just to say, yes, it works fine if mapped against the List; but that&#39;s the point of this Q -- I don&#39;t know how you&#39;d write idiomatic code that&#39;d work on a sequence."}, {"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "reply_to_user": {"reputation": 4155, "user_id": 18802, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/05qwF.jpg?s=128&g=1", "display_name": "chroder", "link": "https://stackoverflow.com/users/18802/chroder"}, "edited": false, "score": 0, "creation_date": 1534961449, "post_id": 51970678, "comment_id": 90896029, "body": "@chroder I&#39;ve added another solution, not sure it&#39;s idiomatic"}], "tags": [], "owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "is_accepted": false, "score": 3, "last_activity_date": 1534961956, "last_edit_date": 1534961956, "creation_date": 1534953120, "answer_id": 51970678, "question_id": 51969410, "link": "https://stackoverflow.com/questions/51969410/how-to-asynchronously-map-over-sequence/51970678#51970678", "title": "How to asynchronously map over sequence", "body": "<p>You are getting an error, because <code>Sequence</code> is lazy by default and it's <code>map</code> isn't an inline function, so it's scope isn't defined</p>\n\n<p>You can avoid using <code>Sequence</code> by creating a list of lazy coroutines</p>\n\n<pre><code>// ccs: List&lt;CurrencyConverter&gt;\nsuspend fun getExchangeRateAsync(from: String, to: String) =\n    ccs\n    .map { async(start = CoroutineStart.LAZY) { it.getExchangeRateAsync(from, to) } }\n    .firstOrNull { it.await() != null }\n    ?.getCompleted() ?: throw Exception()\n</code></pre>\n\n<p>This doesn't give any errors and seems to be working. But I'm not sure it's an idiomatic way</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10844796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4561bf38886fca09f4e48009229bf3f?s=128&d=identicon&r=PG&f=1", "display_name": "jrhy", "link": "https://stackoverflow.com/users/10844796/jrhy"}, "is_accepted": false, "score": 1, "last_activity_date": 1546133291, "creation_date": 1546133291, "answer_id": 53974652, "question_id": 51969410, "link": "https://stackoverflow.com/questions/51969410/how-to-asynchronously-map-over-sequence/53974652#53974652", "title": "How to asynchronously map over sequence", "body": "<p>FWIW, I found the suggestion in <a href=\"https://stackoverflow.com/questions/51969410/how-to-asynchronously-map-over-sequence\">How to asynchronously map over sequence</a> to be very intuitive.  The code at <a href=\"https://github.com/Kotlin/kotlin-coroutines-examples/blob/master/examples/suspendingSequence/suspendingSequence.kt\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlin-coroutines-examples/blob/master/examples/suspendingSequence/suspendingSequence.kt</a> defines <code>SuspendingIterator</code> which allows <code>next()</code> to suspend, then builds <code>SuspendingSequence</code> on top of it.  Unfortunately, you need to duplicate extension functions like <code>flatMap()</code>, <code>filter()</code>, etc. since <code>SuspendingSequence</code> can't be related to <code>Sequence</code>, but I did this and am much happier with the result than using a Channel.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 1376548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a59606bf6eb3331138a82fa103096f59?s=128&d=identicon&r=PG", "display_name": "jlinhart", "link": "https://stackoverflow.com/users/1376548/jlinhart"}, "is_accepted": false, "score": 1, "last_activity_date": 1590491672, "last_edit_date": 1590491672, "creation_date": 1590489577, "answer_id": 62020261, "question_id": 51969410, "link": "https://stackoverflow.com/questions/51969410/how-to-asynchronously-map-over-sequence/62020261#62020261", "title": "How to asynchronously map over sequence", "body": "<p>I would suggest replacing Sequence with Flow. Flow api and behavior is pretty much same as for Sequence, but with suspending options.</p>\n\n<pre><code>https://kotlinlang.org/docs/reference/coroutines/flow.html\n</code></pre>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>override suspend fun getExchangeRateAsync(from: String, to: String) =\n    ccs.asFlow()\n    .map { it.getExchangeRateAsync(from, to) }\n    .firstOrNull { it != null }\n    ?: throw CurrencyConverterException()\n</code></pre>\n"}], "owner": {"reputation": 4155, "user_id": 18802, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/05qwF.jpg?s=128&g=1", "display_name": "chroder", "link": "https://stackoverflow.com/users/18802/chroder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2595, "favorite_count": 3, "answer_count": 3, "score": 8, "last_activity_date": 1590491672, "creation_date": 1534948960, "last_edit_date": 1534954498, "question_id": 51969410, "link": "https://stackoverflow.com/questions/51969410/how-to-asynchronously-map-over-sequence", "title": "How to asynchronously map over sequence", "body": "<p>I want to iterate over a sequence of objects and return the first non-null of an async call.</p>\n\n<p>The point is to perform some kind of async operation that might fail, and I have a series of fallbacks that I want to try in order, one after the other (i.e. lazily / not in parallel).</p>\n\n<p>I've tried to do something similar to what I'd do if it were a sync call:</p>\n\n<pre><code>// ccs: List&lt;CurrencyConverter&gt;\noverride suspend fun getExchangeRateAsync(from: String, to: String) =\n  ccs.asSequence()\n    .map { it.getExchangeRateAsync(from, to) }\n    .firstOrNull { it != null }\n    ?: throw CurrencyConverterException()\n</code></pre>\n\n<p>IntelliJ complains:</p>\n\n<blockquote>\n  <p>Suspension functions can only be called within coroutine body</p>\n</blockquote>\n\n<p>Edit: To clarify, this works as expected if mapping on a List, but I want to see how I'd do this on a sequence.</p>\n\n<p>So I guess this is because the map lambda isn't suspended? But I'm not sure how to actually do that. I tried a bunch of different ways but none seemed to work. I couldn't find any examples.</p>\n\n<p>If I re-write this in a more procedural style using a <code>for</code> loop with an async block, I can get it working:</p>\n\n<pre><code>override suspend fun getExchangeRateAsync(from: String, to: String) {\n    for (cc in ccs) {\n        var res: BigDecimal? = async {\n            cc.getExchangeRateAsync(from, to)\n        }.await()\n\n        if (res != null) {\n            return res\n        }\n    }\n\n    throw CurrencyConverterException()\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-layout", "gridview", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "edited": false, "score": 0, "creation_date": 1534949809, "post_id": 51969525, "comment_id": 90889780, "body": "Now height expanded, but its not solution for me, because the data dynamic and last text can be short text like first three"}], "tags": [], "owner": {"reputation": 4743, "user_id": 4906597, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d0107ae196d98789dc36245c5fa00953?s=128&d=identicon&r=PG&f=1", "display_name": "dudi", "link": "https://stackoverflow.com/users/4906597/dudi"}, "is_accepted": false, "score": 0, "last_activity_date": 1534949304, "creation_date": 1534949304, "answer_id": 51969525, "question_id": 51969388, "link": "https://stackoverflow.com/questions/51969388/gridview-view-height-is-not-wrapping-all-horizontal-items/51969525#51969525", "title": "Gridview view height is not wrapping all horizontal items", "body": "<p>Try to set <code>android:minLines=\"\"</code> and <code>android:maxLines = \"\"</code> to your <code>TextView</code> like this</p>\n\n<pre><code> &lt;TextView\n    android:id=\"@+id/itemMenuFilter\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:padding=\"8dp\"\n    android:textSize=\"@dimen/large_font\"\n    android:textColor=\"@color/colorDarkGrey\"\n    android:minLines=\"2\"\n    android:maxLines=\"2\"\n    android:textStyle=\"bold\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 112, "user_id": 8943301, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c796ded90cbffee620c6636c244335ae?s=128&d=identicon&r=PG&f=1", "display_name": "Nisarg", "link": "https://stackoverflow.com/users/8943301/nisarg"}, "is_accepted": false, "score": -1, "last_activity_date": 1534949315, "creation_date": 1534949315, "answer_id": 51969528, "question_id": 51969388, "link": "https://stackoverflow.com/questions/51969388/gridview-view-height-is-not-wrapping-all-horizontal-items/51969528#51969528", "title": "Gridview view height is not wrapping all horizontal items", "body": "<p>Try to change from </p>\n\n<pre><code> &lt;com.fifth_llc.siply.main.views.Line\n    android:id=\"@+id/itemMenuSelected\"\n    android:layout_width=\"15dp\"\n    android:layout_height=\"wrap_content\"\n    app:underlineHeight=\"2dp\"\n    app:underlineColor=\"@color/colorOrange\" /&gt;\n</code></pre>\n\n<p>to</p>\n\n<pre><code> &lt;com.fifth_llc.siply.main.views.Line\n    android:id=\"@+id/itemMenuSelected\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"1dp\"\n    app:underlineHeight=\"2dp\"\n    app:underlineColor=\"@color/colorOrange\" /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "is_accepted": true, "score": 1, "last_activity_date": 1534953029, "creation_date": 1534953029, "answer_id": 51970653, "question_id": 51969388, "link": "https://stackoverflow.com/questions/51969388/gridview-view-height-is-not-wrapping-all-horizontal-items/51970653#51970653", "title": "Gridview view height is not wrapping all horizontal items", "body": "<p>Its solution</p>\n\n<pre><code>class FullHeightGridView : GridView {\n\n    constructor(context: Context) : super(context) {}\n\n    constructor(context: Context, attrs: AttributeSet) : super(context, attrs) {}\n\n    constructor(context: Context, attrs: AttributeSet, defStyle: Int) : super(context, attrs, defStyle) {}\n\n    override fun onLayout(changed: Boolean, l: Int, t: Int, r: Int, b: Int) {\n        super.onLayout(changed, l, t, r, b)\n        if (adapter != null) {\n            var i = 0\n            while (i &lt; childCount) {\n                // Determine the maximum height for this row\n                var maxHeight = 0\n\n                for (j in i until i + numColumns) {\n                    val view = getChildAt(j)\n                    if (view != null &amp;&amp; view.height &gt; maxHeight) {\n                        maxHeight = view.height\n                    }\n                }\n                //Log.d(TAG, \"Max height for row #\" + i/numColumns + \": \" + maxHeight);\n\n                // Set max height for each element in this row\n                if (maxHeight &gt; 0) {\n                    for (j in i until i + numColumns) {\n                        val view = getChildAt(j)\n                        if (view != null &amp;&amp; view.height != maxHeight) {\n                            view.minimumHeight = maxHeight\n                        }\n                    }\n                }\n\n                layoutParams.height = maxHeight\n\n                i += numColumns\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>and use FullHeightGridView instead of GridView in xml</p>\n"}], "owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 51970653, "answer_count": 3, "score": 1, "last_activity_date": 1534953029, "creation_date": 1534948913, "question_id": 51969388, "link": "https://stackoverflow.com/questions/51969388/gridview-view-height-is-not-wrapping-all-horizontal-items", "title": "Gridview view height is not wrapping all horizontal items", "body": "<p>One of gridview items has a greater height and its not wrapping by gridview</p>\n\n<p><a href=\"https://i.stack.imgur.com/sXStn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sXStn.png\" alt=\"enter image description here\"></a></p>\n\n<p>But if I put it on first then gridview wrapped that, problem in case big element in last column.</p>\n\n<p><strong>GridView</strong></p>\n\n<pre><code>&lt;GridView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/menuListFilter\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:isScrollContainer=\"false\"\n    android:stretchMode=\"columnWidth\" /&gt;\n</code></pre>\n\n<p><strong>Item</strong></p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/itemMenuContainer\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:gravity=\"center\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/itemMenuFilter\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:padding=\"8dp\"\n        android:textSize=\"@dimen/large_font\"\n        android:textColor=\"@color/colorDarkGrey\"\n        android:textStyle=\"bold\" /&gt;\n\n    &lt;com.fifth_llc.siply.main.views.Line\n        android:id=\"@+id/itemMenuSelected\"\n        android:layout_width=\"15dp\"\n        android:layout_height=\"wrap_content\"\n        app:underlineHeight=\"2dp\"\n        app:underlineColor=\"@color/colorOrange\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Any suggestion?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "dagger", "kapt"], "comments": [{"owner": {"reputation": 1192, "user_id": 615855, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5591806b9b0c58bb7a9e97d0156d6b3e?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/615855/robert"}, "edited": false, "score": 0, "creation_date": 1534944151, "post_id": 51966033, "comment_id": 90885890, "body": "After some time looks that the problem was with kapt dependency I have been using &quot;dagger-android-processor&quot; where I should use dagger-compiller."}, {"owner": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "edited": false, "score": 0, "creation_date": 1535028001, "post_id": 51966033, "comment_id": 90921372, "body": "Can you post your build.gradle file as well."}, {"owner": {"reputation": 1192, "user_id": 615855, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5591806b9b0c58bb7a9e97d0156d6b3e?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/615855/robert"}, "reply_to_user": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "edited": false, "score": 0, "creation_date": 1535116236, "post_id": 51966033, "comment_id": 90959983, "body": "There is nothing there besides standard stuff additional dependencies and stub generation for kotlin-kapt and as I have mentioned the missing one was dagger-compiller dependency."}, {"owner": {"reputation": 73871, "user_id": 1426891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFJE8.png?s=128&g=1", "display_name": "Jeff Bowman", "link": "https://stackoverflow.com/users/1426891/jeff-bowman"}, "edited": false, "score": 0, "creation_date": 1535133630, "post_id": 51966033, "comment_id": 90969985, "body": "@Robert Thank you for posting your answer! Rather than the comments, please consider <a href=\"https://stackoverflow.com/help/self-answer\">adding it below as a &quot;self-answer&quot;</a> and marking it accepted--it helps potential answerers know that you&#39;ve solved your problem, and lets you get credit in the future when someone else stumbles on a similar problem. Cheers!"}], "answers": [{"tags": [], "owner": {"reputation": 1028, "user_id": 3616253, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ecdc62ac77c5d2c51747317bd31462ed?s=128&d=identicon&r=PG&f=1", "display_name": "Jithish P N", "link": "https://stackoverflow.com/users/3616253/jithish-p-n"}, "is_accepted": false, "score": 0, "last_activity_date": 1540391001, "creation_date": 1540391001, "answer_id": 52971418, "question_id": 51966033, "link": "https://stackoverflow.com/questions/51966033/unresolved-reference-to-daggerapplicationcomponent/52971418#52971418", "title": "Unresolved reference to DaggerApplicationComponent", "body": "<p>app.gradle</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n\nandroid {\nkapt {\n  generateStubs = true\n}\n}\n\n// Dagger 2\nimplementation \"com.google.dagger:dagger:$dagger2_version\"\nkapt \"com.google.dagger:dagger-compiler:$dagger2_version\"\n</code></pre>\n\n<p>Build -> Rebuild project</p>\n"}, {"tags": [], "owner": {"reputation": 1457, "user_id": 2462241, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/11da47c8987402a92cb8b1f2aef11216?s=128&d=identicon&r=PG", "display_name": "Xi Wei", "link": "https://stackoverflow.com/users/2462241/xi-wei"}, "is_accepted": false, "score": 0, "last_activity_date": 1540409091, "creation_date": 1540409091, "answer_id": 52976544, "question_id": 51966033, "link": "https://stackoverflow.com/questions/51966033/unresolved-reference-to-daggerapplicationcomponent/52976544#52976544", "title": "Unresolved reference to DaggerApplicationComponent", "body": "<p>Your <code>build.gradle</code> should look something like this</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n\u2026\ndependencies {\n\u2026\n    final dagger_version = '2.17'\n    implementation \"com.google.dagger:dagger:$dagger_version\"\n    kapt \"com.google.dagger:dagger-compiler:$dagger_version\"\n    compileOnly 'javax.annotation:javax.annotation-api:1.3.2'\n}\n</code></pre>\n\n<p>I think what you are missing is <code>compileOnly 'javax.annotation:javax.annotation-api:1.3.2'</code>. I have an <a href=\"https://medium.com/@xiwei/simplest-dagger-example-920bbd10258\" rel=\"nofollow noreferrer\">article for detailed steps to setup Dagger</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 3818185, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bV0jv.jpg?s=128&g=1", "display_name": "barmacki", "link": "https://stackoverflow.com/users/3818185/barmacki"}, "is_accepted": false, "score": 0, "last_activity_date": 1593514438, "creation_date": 1593514438, "answer_id": 62655827, "question_id": 51966033, "link": "https://stackoverflow.com/questions/51966033/unresolved-reference-to-daggerapplicationcomponent/62655827#62655827", "title": "Unresolved reference to DaggerApplicationComponent", "body": "<p>For me it was a gradle dependency issue. Solved it by adding the following to the app.gradle script:</p>\n<pre><code>apply plugin: 'kotlin-kapt'\n.\n.\ndependencies {\n    .\n    .\n    kapt &quot;com.google.dagger:dagger-compiler:$dagger2_version&quot;\n    kapt &quot;com.google.dagger:dagger-android-processor:$dagger2_version&quot;\n}\n</code></pre>\n<p>Then I cleaned and rebuilt the project.</p>\n"}], "owner": {"reputation": 1192, "user_id": 615855, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5591806b9b0c58bb7a9e97d0156d6b3e?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/615855/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2005, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1593514438, "creation_date": 1534937934, "question_id": 51966033, "link": "https://stackoverflow.com/questions/51966033/unresolved-reference-to-daggerapplicationcomponent", "title": "Unresolved reference to DaggerApplicationComponent", "body": "<p>I can't handle error related to Dagger and it's generation of component.</p>\n\n<pre><code>import android.app.Application\nimport dagger.Component\n\n@Component(modules = arrayOf(ApplicationModule::class))\ninterface ApplicationComponent{\n    fun inject(app: Application)\n}\n</code></pre>\n\n<p>The place where component is called looks like that</p>\n\n<pre><code>class MyAwesomeApplication : Application(){\n    val component: ApplicationComponent by lazy {\n        DaggerApplicationComponent.builder().appModule(ApplicationModule(this)).build()\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        component.inject(this)\n    }\n}\n</code></pre>\n\n<p>In gradle build file I have set up:</p>\n\n<pre><code>implementation \"com.google.dagger:dagger:$dagger_version\"\nimplementation \"com.google.dagger:dagger-android:$dagger_version\"\nimplementation \"com.google.dagger:dagger-android-support:$dagger_version\"\nkapt \"com.google.dagger:dagger-android-processor:$dagger_version\"\n</code></pre>\n\n<p>Also the stub generation is turned on and <code>kotlin-kapt</code> has been applied</p>\n\n<p>Any ideas what is wrong there?</p>\n"}, {"tags": ["android", "google-maps", "kotlin"], "comments": [{"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 1, "creation_date": 1534937939, "post_id": 51965922, "comment_id": 90881756, "body": "I think you need to scale it using <code>Bitmap.createScaledBitmap</code>"}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 1, "creation_date": 1534938087, "post_id": 51965922, "comment_id": 90881850, "body": "If this simple method is not sufficient, you can look into a better scaling method here: <a href=\"https://stackoverflow.com/a/39247574/2788\">stackoverflow.com/a/39247574/2788</a>"}, {"owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "reply_to_user": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1534938282, "post_id": 51965922, "comment_id": 90881964, "body": "it worked, thanks a lot"}], "owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 475, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534937527, "creation_date": 1534937527, "question_id": 51965922, "link": "https://stackoverflow.com/questions/51965922/bitmap-height-and-width-change-in-kotlin", "title": "bitmap height and width change in kotlin", "body": "<p>I have a custom made .bmp file and I am drawing it on googlemaps with the addMarker call.\nNow I want to change the size depending on the zoomlevel from the google maps. It actually changes the size as it should, but the result is far from ok. It destroys my whole bitmap from the looks of it and I don't know what I can do to have the copy look exactly the same but smaller/bigger.\nI divide there by 13 because thats my starting zoomlevel for the normal .bmp \nHere is my code:</p>\n\n<pre><code> var Bitmap_copy = original_Bitmap.copy(original_Bitmap.config,true)                       // kopiert elipse, da es sonst nicht in canvas gewandelt werden kann\n        Bitmap_copy.height=mMap.cameraPosition.zoom.toInt()*Bitmap_copy.height/13\n        Bitmap_copy.width=Bitmap_copy.width*mMap.cameraPosition.zoom.toInt()/13\n\n        var canvas = Canvas(Bitmap_copy);                                                                   //Ben\u00f6tigt um Text auf Elipse zu schreiben\n        var paint = Paint()                                                                                 //Grafikdaten des Textes\nmMap.addMarker(MarkerOptions().position(LatLng(breitengrade_live[k], langengrade_live[k])).title(Busname).icon(BitmapDescriptorFactory.fromBitmap(Bitmap_copy)))\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Cs5lW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Cs5lW.png\" alt=\"thats what it looks like after it is zommed out\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/fDAKR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fDAKR.png\" alt=\"thats how it should look\"></a></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 0, "creation_date": 1534936999, "post_id": 51965743, "comment_id": 90881255, "body": "<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/java.math.-big-decimal/index.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1605, "user_id": 4748607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fDup3.jpg?s=128&g=1", "display_name": "Nirav Bhavsar", "link": "https://stackoverflow.com/users/4748607/nirav-bhavsar"}, "is_accepted": false, "score": 0, "last_activity_date": 1534937244, "creation_date": 1534937244, "answer_id": 51965845, "question_id": 51965743, "link": "https://stackoverflow.com/questions/51965743/data-type-for-currency-in-kotlin/51965845#51965845", "title": "Data type for currency in Kotlin", "body": "<p>You can use <code>BigDecimal</code> in kotlin, please see below variable</p>\n\n<pre><code>var currency: BigDecimal? = BigDecimal.ZERO\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4438, "user_id": 5427663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9f9c9fe9199349793db217d3a9e9596?s=128&d=identicon&r=PG&f=1", "display_name": "TheOperator", "link": "https://stackoverflow.com/users/5427663/theoperator"}, "edited": false, "score": 4, "creation_date": 1535010796, "post_id": 51967453, "comment_id": 90911311, "body": "You can convert <i>platform types</i> (coming from JVM, not Kotlin itself) to non-null or nullable Kotlin types. In your case, you can assign <code>BigDecimal.ZERO</code> directly to <code>BigDecimal</code> instead of <code>BigDecimal?</code>, since you know the value zero will not be null. Also, I&#39;d use <code>val</code> wherever possible."}], "tags": [], "owner": {"reputation": 415, "user_id": 8992732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P3Vkg.jpg?s=128&g=1", "display_name": "Yohan Malshika", "link": "https://stackoverflow.com/users/8992732/yohan-malshika"}, "is_accepted": true, "score": 10, "last_activity_date": 1534942681, "creation_date": 1534942681, "answer_id": 51967453, "question_id": 51965743, "link": "https://stackoverflow.com/questions/51965743/data-type-for-currency-in-kotlin/51967453#51967453", "title": "Data type for currency in Kotlin", "body": "<p>You can use <strong>BigDecimal</strong> in kotlin too. </p>\n\n<pre><code>var num1 : BigDecimal? = BigDecimal.ZERO\n\nvar num2  = BigDecimal(\"67.9\") \n</code></pre>\n\n<p>Also you can use Double data type and then you can use <strong>toBigDecimal()</strong> for convert it to BigDecimal.  </p>\n\n<p>For the more details :- <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/to-big-decimal.html\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/to-big-decimal.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 2, "last_activity_date": 1535102030, "creation_date": 1535102030, "answer_id": 52001144, "question_id": 51965743, "link": "https://stackoverflow.com/questions/51965743/data-type-for-currency-in-kotlin/52001144#52001144", "title": "Data type for currency in Kotlin", "body": "<p>If you're targeting the JVM, then you can use BigDecimal in Kotlin, too (as other answers have said) \u2014 in fact, <em>anything</em> that's available for Java can also be used in Kotlin!\u00a0 And often in a more concise and natural way.</p>\n\n<p>For example:</p>\n\n<pre><code>val a = BigDecimal(\"1.2\")\nval b = BigDecimal(\"3.4\")\n\nprintln(\"Sum = ${a + b}\")\nprintln(\"Product = ${a * b}\")\nval c = a / -b\n</code></pre>\n\n<p>That's probably the standard way to store money values right now.\u00a0 If you needed extra features, you could write a class wrapping a BigDecimal along with e.g. a java.util.Currency or whatever else you needed.</p>\n\n<p>(If you're targeting JS or native code, then BigDecimal isn't available, though <a href=\"https://discuss.kotlinlang.org/t/multiplatform-bigdecimal-implementation/5631\" rel=\"nofollow noreferrer\">that may change</a>.)</p>\n\n<p>The reason why it's <a href=\"https://stackoverflow.com/questions/3730019\">not</a> good practice to use floats or doubles for storing money values is that those can't store decimal values exactly (as they use floating-point binary), so are only appropriate when efficiency (of storage/calculation) is more important than precision.</p>\n\n<p>If you'll never be dealing with fractions of a penny/cent/&amp;c, then an alternative might be to store an integer number of pennies instead.\u00a0 That can be more efficient, but doesn't apply very often.</p>\n\n<p>(You'll note the example above creates BigDecimals from Strings.\u00a0\u00a0This is usually a good idea; if you create them from floats or doubles, then the value will already have been truncated before BigDecimal gets to see it.)</p>\n"}], "owner": {"reputation": 181, "user_id": 1818125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5204c6a779b62f54b0248913e000ae?s=128&d=identicon&r=PG", "display_name": "user1818125", "link": "https://stackoverflow.com/users/1818125/user1818125"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7967, "favorite_count": 3, "accepted_answer_id": 51967453, "answer_count": 3, "score": 13, "last_activity_date": 1535102030, "creation_date": 1534936881, "question_id": 51965743, "link": "https://stackoverflow.com/questions/51965743/data-type-for-currency-in-kotlin", "title": "Data type for currency in Kotlin", "body": "<p>I'm new for Kotlin. I did search and read the docs but couldn't figure out What the best data type to use in Kotlin for currency. In Java there is BigDecimal. Is there something similar in Kotlin? Thanks in advance.</p>\n"}, {"tags": ["android", "kotlin", "android-annotations"], "comments": [{"owner": {"reputation": 1266, "user_id": 905414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgrFf.jpg?s=128&g=1", "display_name": "3mpty", "link": "https://stackoverflow.com/users/905414/3mpty"}, "edited": false, "score": 0, "creation_date": 1534936552, "post_id": 51965508, "comment_id": 90880992, "body": "It&#39;s an issue with creating those classes. Check build log. Give up android-annotations - It causes more problems than benefits."}, {"owner": {"reputation": 769, "user_id": 5293286, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/1040158916003437/picture?type=large", "display_name": "Zach Bublil", "link": "https://stackoverflow.com/users/5293286/zach-bublil"}, "reply_to_user": {"reputation": 1266, "user_id": 905414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgrFf.jpg?s=128&g=1", "display_name": "3mpty", "link": "https://stackoverflow.com/users/905414/3mpty"}, "edited": false, "score": 0, "creation_date": 1534936908, "post_id": 51965508, "comment_id": 90881193, "body": "Well, I can&#39;t agree with you. Passing arguments to fragments looks much harder in Kotlin. The build method for any generated fragment save me that &quot;newInstance&quot; method in every fragment"}, {"owner": {"reputation": 1266, "user_id": 905414, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgrFf.jpg?s=128&g=1", "display_name": "3mpty", "link": "https://stackoverflow.com/users/905414/3mpty"}, "edited": false, "score": 0, "creation_date": 1534939767, "post_id": 51965508, "comment_id": 90882920, "body": "When you have more than one code generating dependency it&#39;s getting harder to track compile time issues, for example dagger2 and android annotations. Also if you will want remove (bug or any other reason) android annotations dependency in future it will be very hard to do it. Any annotation based library increases build time.  <code>newInstance</code> is not that hard to implement and you can always use Kotlin features like optional arguments."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1534973796, "post_id": 51965508, "comment_id": 90901394, "body": "I dunno man. I generally pass a single <code>@Parcelize data class</code> as argument and it works fine for me. But if that&#39;s not your cup of tea, setting the arguments bundle of a Fragment isn&#39;t that hard anyway."}, {"owner": {"reputation": 2503, "user_id": 1461568, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/06c71fd1a954d783e9be11cc7eecd5d0?s=128&d=identicon&r=PG", "display_name": "LunaVulpo", "link": "https://stackoverflow.com/users/1461568/lunavulpo"}, "edited": false, "score": 0, "creation_date": 1597273327, "post_id": 51965508, "comment_id": 112082482, "body": "@ZachBublil did you find how to do it? do you have a solution? share pls."}, {"owner": {"reputation": 769, "user_id": 5293286, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/1040158916003437/picture?type=large", "display_name": "Zach Bublil", "link": "https://stackoverflow.com/users/5293286/zach-bublil"}, "edited": false, "score": 0, "creation_date": 1597401864, "post_id": 51965508, "comment_id": 112127381, "body": "I just stopped using Android annotations and moved to kotlin :)"}], "owner": {"reputation": 769, "user_id": 5293286, "user_type": "registered", "accept_rate": 21, "profile_image": "https://graph.facebook.com/1040158916003437/picture?type=large", "display_name": "Zach Bublil", "link": "https://stackoverflow.com/users/5293286/zach-bublil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1534936049, "creation_date": 1534936049, "question_id": 51965508, "link": "https://stackoverflow.com/questions/51965508/use-auto-generated-classes-from-android-annotations-in-kotlin", "title": "Use auto generated classes from Android Annotations in Kotlin", "body": "<p>I want to refactor my code and use Kotlin instead.\nI used Android Annotations in my project and most of my classes are auto-generated (with underscores).\nSo I tried to use some of my beans in a Kotlin Activity and I get \"Unresolved reference \"..... _\"</p>\n\n<p>This is my code:</p>\n\n<pre><code>import com.zeekit.client.android.service.AppInitializer\nimport com.zeekit.client.android.service.AppInitializer_\nimport com.zeekit.client.android.service.NotificationsManager\nimport com.zeekit.client.android.service.NotificationsManager_\n\nclass MainActivity : NavigationActivity() {\n\n    private val appInitializer: AppInitializer = AppInitializer_.getInstance_(applicationContext)\n    private val notificationsManager: NotificationsManager = NotificationsManager_.getInstance_(applicationContext)\n\n    override fun onCreate(savedInstanceState: Bundle?, persistentState: PersistableBundle?) {\n        super.onCreate(savedInstanceState, persistentState)\n        setContentView(R.layout.activity_main)\n        if (appInitializer.isValidVersion == false) {\n            showUpdatePopup()\n            return\n        }\n    }\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>activity\\MainActivity.kt: (10, 42): Unresolved reference: AppInitializer_\nactivity\\MainActivity.kt: (12, 42): Unresolved reference: NotificationsManager_\nactivity\\MainActivity.kt: (16, 50): Unresolved reference: AppInitializer_\nactivity\\MainActivity.kt: (17, 62): Unresolved reference: NotificationsManager_\n</code></pre>\n"}, {"tags": ["regex", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534937394, "post_id": 51965452, "comment_id": 90881473, "body": "The alternative approach is definitely the way to go regarding readability... it already reads like: &quot;find all words&quot; in contrast to &quot;split by everything which isn&#39;t a word, filter out which isn&#39;t blank and call it &#39;words&#39;&quot; ;-)"}], "tags": [], "owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "is_accepted": true, "score": 3, "last_activity_date": 1534936230, "last_edit_date": 1534936230, "creation_date": 1534935856, "answer_id": 51965452, "question_id": 51965340, "link": "https://stackoverflow.com/questions/51965340/kotlin-regex-split-removing-trailing-space/51965452#51965452", "title": "Kotlin regex split - removing trailing space", "body": "<p>The empty item appears there because your string has a non-word <code>.</code> char at the end. You may just omit empty items to solve the problem:</p>\n\n<pre><code>val text = \"I saw a fox in the wood. The fox had red fur.\"\nval pattern = \"\"\"\\W+\"\"\".toRegex()\nval words = pattern.split(text).filter { it.isNotBlank() }\nprintln(words) // =&gt; [I, saw, a, fox, in, the, wood, The, fox, had, red, fur]\n</code></pre>\n\n<p>Alternatively, use a matching approach with the opposite pattern, <code>\\w+</code>:</p>\n\n<pre><code>val pattern = \"\"\"\\w+\"\"\".toRegex()\nval words = pattern.findAll(text).map{it.value}.toList()\n// =&gt; [I, saw, a, fox, in, the, wood, The, fox, had, red, fur]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1534936260, "post_id": 51965482, "comment_id": 90880854, "body": "Oh no, it is a bad idea because the last item is not always empty when using the <code>\\W+</code> regex to split a string. It happened to be empty here because of the dot at the end."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1534936386, "post_id": 51965482, "comment_id": 90880896, "body": "@WiktorStribi\u017cew <i>The split method adds an empty space a the end of the list, however</i> this is the OP&#39;s question"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1534936527, "post_id": 51965482, "comment_id": 90880976, "body": "If the text is <code>I saw a fox in the wood. The fox had red fur</code>, then <code>\\W+</code> splitting <a href=\"http://rextester.com/FPOMU40120\" rel=\"nofollow noreferrer\">will result in a list that has no empty item at the end</a>, and your code will remove <code>fur</code>. It is not that regex splitting always produces an empty trailing item."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534937773, "post_id": 51965482, "comment_id": 90881662, "body": "I can&#39;t recommend this approach as well. It is rather a quick fix for that specific case, but will not work for other sentences as Wiktor already demonstrated. It&#39;s better to solve the actual problem then to use quick fixes."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534937891, "post_id": 51965482, "comment_id": 90881730, "body": "@Roland I agree, but the question was not about proposing a new split method but for removing the last item without creating a new list"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534938752, "post_id": 51965482, "comment_id": 90882227, "body": "@Roland the problem is the last empty string if it exists, or not? The problem is solved by removing the last item if it is empty, or not?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534939647, "post_id": 51965482, "comment_id": 90882841, "body": "@Roland at the beginning I took as a fact that everytime an empty string was added at the end. I did not question that. Since this is not the case I edited my answer and now it produces the result the OP wanted. If the OP prefers to modify the regex and some filtering it&#39;s his right to go that way. But don&#39;t tell me that filtering is recommendable and drop() is not."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 0, "last_activity_date": 1534938291, "last_edit_date": 1534938291, "creation_date": 1534935972, "answer_id": 51965482, "question_id": 51965340, "link": "https://stackoverflow.com/questions/51965340/kotlin-regex-split-removing-trailing-space/51965482#51965482", "title": "Kotlin regex split - removing trailing space", "body": "<p>You can remove the last item:  <br/></p>\n\n<pre><code>val words = pattern.split(text).dropLastWhile { it == \"\" }\n</code></pre>\n"}], "owner": {"reputation": 8155, "user_id": 2008247, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/wis7M.jpg?s=128&g=1", "display_name": "Jan Bodnar", "link": "https://stackoverflow.com/users/2008247/jan-bodnar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 925, "favorite_count": 0, "accepted_answer_id": 51965452, "answer_count": 2, "score": 2, "last_activity_date": 1534938291, "creation_date": 1534935465, "question_id": 51965340, "link": "https://stackoverflow.com/questions/51965340/kotlin-regex-split-removing-trailing-space", "title": "Kotlin regex split - removing trailing space", "body": "<p>In Kotlin, I split a sentence into words. The <code>split</code> method adds an empty space a the end of the list, however. How to get rid of the trailing space?\nIs there a simple way to do it without creating a new list?</p>\n\n<pre><code>package com.zetcode\n\nfun main(args: Array&lt;String&gt;) {\n\n    val text = \"I saw a fox in the wood. The fox had red fur.\"\n\n    val pattern = \"\\\\W+\".toRegex()\n\n    val words = pattern.split(text)\n\n    println(words)\n}\n</code></pre>\n\n<p>The example prints <code>[I, saw, a, fox, in, the, wood, The, fox, had, red, fur, ]</code></p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "android-dialogfragment"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1534938866, "post_id": 51965141, "comment_id": 90882312, "body": "Welcome to so. You can try <code>android:adjustViewBounds=&quot;true&quot;</code> in the sticker ImageView. If that doesnt help I have some questions to narrow down the problem: Can you please include the <code>StickerPickerAdapter</code>? Do the views behave as expected, when they are not in a <code>DialogFragment</code>?"}, {"owner": {"reputation": 180, "user_id": 10259099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOFWi.png?s=128&g=1", "display_name": "Rofie Sagara", "link": "https://stackoverflow.com/users/10259099/rofie-sagara"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1534939881, "post_id": 51965141, "comment_id": 90883010, "body": "Thank You. silly of me. this has been solved. because ip of localhost changed and the image not load, the one image is from temp folder of Glide so its still loaded without internet."}], "owner": {"reputation": 180, "user_id": 10259099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOFWi.png?s=128&g=1", "display_name": "Rofie Sagara", "link": "https://stackoverflow.com/users/10259099/rofie-sagara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 135, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534943588, "creation_date": 1534934806, "last_edit_date": 1534943588, "question_id": 51965141, "link": "https://stackoverflow.com/questions/51965141/recycleview-item-size-not-work-in-dialog-fragment", "title": "Recycleview item size not work in dialog fragment", "body": "<p>I made a <code>DialogFragment</code> which has a <code>ViewPager</code> in it, and the <code>ViewPager</code> contains <code>Fragments</code> that have <code>Recyclerview</code> in it. The problem I face is that there is only one item in <code>Recyclerview</code> and the item size in <code>Recyclerview</code> is incorrect.</p>\n\n<p>This is My <code>DialogFragment</code></p>\n\n<pre><code>class StickerSelectorPopup: DialogFragment(), StickerPickerAdapter.Listener {\nprivate lateinit var mAdapter: FeedFragment.Adapter\nprivate lateinit var mViewPager: ViewPager\nprivate lateinit var mTabs: TabLayout\nprivate var isFirstTime = true\nprivate var mUserUid = \"\"\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val mView = inflater.inflate(R.layout.dialog_view_sticker_tab, container, false)\n\n    mViewPager = mView.findViewById(R.id.viewpager)\n    mTabs = mView.findViewById(R.id.result_tabs)\n    mAdapter = FeedFragment.Adapter(childFragmentManager)\n\n    return mView\n}\n\noverride fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n            mAdapter.addFragment(StickerPickerFragment.newInstance(mutableListOf(\"chat.gif\", \"fhere.gif\", \"hai.gif\", \"sedih.gif\"), 2, this@StickerSelectorPopup, \"gabut_woman\"), \"Gabut Woman\")\n    mAdapter.addFragment(StickerPickerFragment.newInstance(mutableListOf(\"8.gif\"), 2, this@StickerSelectorPopup, \"gabut_man\"), \"Gabut Man\")\n\n    mViewPager.adapter = mAdapter\n\n    mTabs.setupWithViewPager(mViewPager)\n}\n}\n</code></pre>\n\n<p>This is The <code>Fragment</code> load by <code>ViewPager</code></p>\n\n<pre><code>class StickerPickerFragment : Fragment() {\nprivate var mListSticker = mutableListOf&lt;String&gt;()\nprivate var mStickerUid = 0\nprivate var mFolder = \"\"\nprivate lateinit var mListener: StickerPickerAdapter.Listener\nprivate lateinit var mRecycleView: RecyclerView\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                          savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n    val v = inflater.inflate(R.layout.fragment_sticker_picker, container, false)\n    mRecycleView = v.findViewById(R.id.adStickerPickerRvMain)\n    mRecycleView.setHasFixedSize(true)\n    mRecycleView.layoutManager = LinearLayoutManager(context!!)\n    mRecycleView.adapter = StickerPickerAdapter(mFolder, mStickerUid, mListener)\n\n    (mRecycleView.adapter as StickerPickerAdapter).addAll(mListSticker)\n\n    return  v\n}\n}\n</code></pre>\n\n<p>This is <code>DialogFragment</code> xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:id=\"@+id/main_content\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:orientation=\"vertical\"&gt;\n\n&lt;android.support.design.widget.AppBarLayout\n    android:id=\"@+id/appbar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"&gt;\n\n    &lt;android.support.design.widget.TabLayout\n        android:id=\"@+id/result_tabs\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@color/colorPrimary\"\n        app:tabIndicatorColor=\"@color/colorPrimary\"\n        app:tabMode=\"scrollable\"\n        app:tabSelectedTextColor=\"@color/colorWhite\"\n        app:tabTextColor=\"@color/gray_btn_bg_pressed_color\"/&gt;\n&lt;/android.support.design.widget.AppBarLayout&gt;\n\n&lt;android.support.v4.view.ViewPager\n    android:id=\"@+id/viewpager\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"300dp\"\n    /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>This Fragment load by ViewPager XML</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    tools:context=\".ui.stickerpicker.StickerPickerFragment\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/adStickerPickerRvMain\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:background=\"@color/amber_100\"/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>This item <code>RecyclerviewAdapter</code> xml</p>\n\n<pre><code>&lt;RelativeLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_width=\"80dp\"\nandroid:layout_height=\"80dp\"\nandroid:background=\"@color/blue_100\"&gt;\n\n&lt;ImageView\n    android:id=\"@+id/adStickerItemImage\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_margin=\"8dp\"\n    android:adjustViewBounds=\"false\"\n    android:contentDescription=\"Sticker\"/&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>It works only with 1 item. If there is more than 1 item, then it only shows the first item and the item view size is not right.</p>\n\n<p><a href=\"https://i.imgur.com/uWRaNTY.png\" rel=\"nofollow noreferrer\">1 item</a><br>\n<a href=\"https://i.imgur.com/fqERWzn.png\" rel=\"nofollow noreferrer\">more than 1 item</a></p>\n\n<p>blue is the background of item adapter\nand the yellow is the background of Recyclerview in Fragment</p>\n"}, {"tags": ["junit", "kotlin", "junit5"], "answers": [{"comments": [{"owner": {"reputation": 5962, "user_id": 1431016, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GU1Dw.png?s=128&g=1", "display_name": "Sormuras", "link": "https://stackoverflow.com/users/1431016/sormuras"}, "edited": false, "score": 0, "creation_date": 1534935821, "post_id": 51965179, "comment_id": 90880638, "body": "Wonder why we didn&#39;t renamed <code>@Test</code> to <code>@Te5t</code> ... or <code>@T357</code>. ;-)"}, {"owner": {"reputation": 19479, "user_id": 131929, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/06780f50c30ffab584630481476ba6f4?s=128&d=identicon&r=PG", "display_name": "Marcel St&#246;r", "link": "https://stackoverflow.com/users/131929/marcel-st%c3%b6r"}, "edited": false, "score": 0, "creation_date": 1534937110, "post_id": 51965179, "comment_id": 90881307, "body": "Argg, bloody hell...Thanks for the quick answer."}, {"owner": {"reputation": 19479, "user_id": 131929, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/06780f50c30ffab584630481476ba6f4?s=128&d=identicon&r=PG", "display_name": "Marcel St&#246;r", "link": "https://stackoverflow.com/users/131929/marcel-st%c3%b6r"}, "edited": false, "score": 0, "creation_date": 1534938078, "post_id": 51965179, "comment_id": 90881842, "body": "I&#39;m glad I included the imports."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534946716, "post_id": 51965179, "comment_id": 90887652, "body": "yes, that helped a bit ;-) but to be honest: it happended to me too... maybe <code>@Te5t</code> would really have made things easier ;-)"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 5, "last_activity_date": 1534935289, "last_edit_date": 1534935289, "creation_date": 1534934933, "answer_id": 51965179, "question_id": 51965064, "link": "https://stackoverflow.com/questions/51965064/junit-5-afterall-not-executed-on-kotlin/51965179#51965179", "title": "JUnit 5 AfterAll not executed on Kotlin", "body": "<p>Use <a href=\"https://junit.org/junit5/docs/current/api/org/junit/jupiter/api/Test.html\" rel=\"noreferrer\"><code>org.junit.jupiter.api.Test</code></a> instead of <code>org.junit.Test</code> in your JUnit5-tests (check also <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-annotations\" rel=\"noreferrer\">JUnit 5 User Guide - Annotations</a>).</p>\n\n<p>The following will work as expected:</p>\n\n<pre><code>import org.junit.jupiter.api.Test\n\nopen class SubClass : SuperClass() {\n  init {\n    println(\"init in sub class\")\n  }\n\n  @Test\n  fun shouldRun() {\n    println(\"test OK\")\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 19479, "user_id": 131929, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/06780f50c30ffab584630481476ba6f4?s=128&d=identicon&r=PG", "display_name": "Marcel St&#246;r", "link": "https://stackoverflow.com/users/131929/marcel-st%c3%b6r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 985, "favorite_count": 0, "accepted_answer_id": 51965179, "answer_count": 1, "score": 2, "last_activity_date": 1534935289, "creation_date": 1534934557, "question_id": 51965064, "link": "https://stackoverflow.com/questions/51965064/junit-5-afterall-not-executed-on-kotlin", "title": "JUnit 5 AfterAll not executed on Kotlin", "body": "<p>If I run the <code>SubClass</code> unit below I expect <code>@AfterAll</code> to be executed after the test. Yet, the output is just this:</p>\n\n<pre><code>init in super class\ninit in sub class\ntest OK\n</code></pre>\n\n<p>I don't understand why <code>SuperClass#stop()</code> is not invoked. I understand that <code>@AfterAll</code> requires a static method or <code>Lifecycle.PER_CLASS</code> but this is given.</p>\n\n<p><strong>Super class</strong></p>\n\n<pre><code>import org.junit.jupiter.api.AfterAll\nimport org.junit.jupiter.api.TestInstance\n\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\nopen class SuperClass {\n\n    init {\n        println(\"init in super class\")\n    }\n\n    @AfterAll\n    fun stop(){\n        println(\"service stopped\")\n    }\n}\n</code></pre>\n\n<p><strong>Sub class</strong></p>\n\n<pre><code>import org.junit.Test\n\nopen class SubClass : SuperClass() {\n\n    init {\n        println(\"init in sub class\")\n    }\n\n    @Test\n    fun shouldRun() {\n        println(\"test OK\")\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "kotlin", "three.js"], "comments": [{"owner": {"reputation": 5863, "user_id": 123219, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IDcaw.jpg?s=128&g=1", "display_name": "Martin Schuhfu&#223;", "link": "https://stackoverflow.com/users/123219/martin-schuhfu%c3%9f"}, "edited": false, "score": 0, "creation_date": 1534935503, "post_id": 51964616, "comment_id": 90880475, "body": "&quot;after setting needsUpdate, it immediately becomes undefined and the version is incremented.&quot; - that is exactly how it should work: <a href=\"https://github.com/mrdoob/three.js/blob/dev/src/core/BufferAttribute.js#L32-L40\" rel=\"nofollow noreferrer\">github.com/mrdoob/three.js/blob/dev/src/core/&hellip;</a>"}, {"owner": {"reputation": 5863, "user_id": 123219, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IDcaw.jpg?s=128&g=1", "display_name": "Martin Schuhfu&#223;", "link": "https://stackoverflow.com/users/123219/martin-schuhfu%c3%9f"}, "edited": false, "score": 0, "creation_date": 1534935625, "post_id": 51964616, "comment_id": 90880532, "body": "From your code we can&#39;t see the connection between <code>heights</code> and <code>heightsAttribute</code>. Can you try to use <code>heightsAttribute.array</code> directly?"}, {"owner": {"reputation": 3212, "user_id": 45062, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bae9466571d0f6d585ac54a3816592c6?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/45062/andy"}, "reply_to_user": {"reputation": 5863, "user_id": 123219, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IDcaw.jpg?s=128&g=1", "display_name": "Martin Schuhfu&#223;", "link": "https://stackoverflow.com/users/123219/martin-schuhfu%c3%9f"}, "edited": false, "score": 0, "creation_date": 1534940421, "post_id": 51964616, "comment_id": 90883384, "body": "@Martin yes I figured that was how it should work regarding needsUpdate. I&#39;ll try modifying heightsAttribute.array directly (heights is the initial Float32Array that is passed to the attribute constructor)"}, {"owner": {"reputation": 3212, "user_id": 45062, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bae9466571d0f6d585ac54a3816592c6?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/45062/andy"}, "reply_to_user": {"reputation": 5863, "user_id": 123219, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IDcaw.jpg?s=128&g=1", "display_name": "Martin Schuhfu&#223;", "link": "https://stackoverflow.com/users/123219/martin-schuhfu%c3%9f"}, "edited": false, "score": 0, "creation_date": 1534940769, "post_id": 51964616, "comment_id": 90883613, "body": "Just to confirm directly modifying heightsAttribute.array does not work"}, {"owner": {"reputation": 12403, "user_id": 4045502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0crws.jpg?s=128&g=1", "display_name": "prisoner849", "link": "https://stackoverflow.com/users/4045502/prisoner849"}, "edited": false, "score": 0, "creation_date": 1534941401, "post_id": 51964616, "comment_id": 90884006, "body": "@Andy Could you provide a live code example? Or more code, that the others could understand what and how you try to do."}, {"owner": {"reputation": 3212, "user_id": 45062, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bae9466571d0f6d585ac54a3816592c6?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/45062/andy"}, "edited": false, "score": 0, "creation_date": 1534947553, "post_id": 51964616, "comment_id": 90888205, "body": "Many thanks for checking guys - I did indeed make an example (<a href=\"http://jsfiddle.net/kc4egp9b/3/\" rel=\"nofollow noreferrer\">jsfiddle.net/kc4egp9b/3</a>) but in doing so I found out that I was reusing the attributes in multiple geometries and this was what wasn&#39;t working. I&#39;ll close out the question"}], "owner": {"reputation": 3212, "user_id": 45062, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bae9466571d0f6d585ac54a3816592c6?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/45062/andy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1534932829, "creation_date": 1534932829, "question_id": 51964616, "link": "https://stackoverflow.com/questions/51964616/modifying-the-array-of-an-instanced-buffer-attribute-in-three-js", "title": "Modifying the array of an instanced buffer attribute in three js", "body": "<p>I'm having trouble modifying the contents of an InstancedBufferAttribute array in three.js - I can set it up fine and the mesh renders as expected, but running the following code to modify the contents of the attribute</p>\n\n<pre><code>        heights.set(x + y * params.patchWidth, height.toFloat())\n        heightAttribute.needsUpdate = true\n</code></pre>\n\n<p>does nothing (note that this is kotlin compiling to JS, to explain the toFloat() and other idiosyncracies). While debugging I can see that after setting needsUpdate, it immediately becomes undefined and the version is incremented. I've also tried changing the array assigned to the attribute to a new one containing the modified values with no luck. Finally, setting the attribute to dynamic doesn't help either.</p>\n"}, {"tags": ["android", "kotlin", "permissions", "user-permissions"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 3, "creation_date": 1534932959, "post_id": 51964611, "comment_id": 90879114, "body": "you do not handle cases where user denied and/or blocks the permission. What do you expect to happen? You should learn to debug your code. I am 99.99% sure that it works fine, you just don&#39;t handle the cases"}, {"owner": {"reputation": 3872, "user_id": 5471104, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh5.googleusercontent.com/-VaHYel-EssQ/AAAAAAAAAAI/AAAAAAAAAMs/TI3mU2yIZtE/photo.jpg?sz=128", "display_name": "Mohammed Atif", "link": "https://stackoverflow.com/users/5471104/mohammed-atif"}, "edited": false, "score": 0, "creation_date": 1534933040, "post_id": 51964611, "comment_id": 90879164, "body": "Why didn\u2019t you write codes in show permission rationale block?"}, {"owner": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1534933114, "post_id": 51964611, "comment_id": 90879197, "body": "You have to handle all the stages of app permission requests.. If you do not, it will not ask again as you are facing.."}, {"owner": {"reputation": 646, "user_id": 7106542, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/dfwii.png?s=128&g=1", "display_name": "jle", "link": "https://stackoverflow.com/users/7106542/jle"}, "edited": false, "score": 0, "creation_date": 1534933167, "post_id": 51964611, "comment_id": 90879232, "body": "I&#39;m not sure if I get the question right, but you could use shared preferences to see on every start whether the request was already allowed or not."}, {"owner": {"reputation": 188, "user_id": 6146332, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/978824495566902/picture?type=large", "display_name": "M\u0101rti\u0146\u0161 Ciekurs", "link": "https://stackoverflow.com/users/6146332/m%c4%81rti%c5%86%c5%a1-ciekurs"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534933409, "post_id": 51964611, "comment_id": 90879369, "body": "@TimCastelijns Thank you for your answer.  I will try to debug my code and check which cases I didn&#39;t handle."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534933611, "post_id": 51964611, "comment_id": 90879468, "body": "no need, I already told you in my first comment"}], "answers": [{"tags": [], "owner": {"reputation": 15590, "user_id": 6478047, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/Rd7gY.jpg?s=128&g=1", "display_name": "Manohar Reddy", "link": "https://stackoverflow.com/users/6478047/manohar-reddy"}, "is_accepted": true, "score": 3, "last_activity_date": 1534933488, "last_edit_date": 1534933488, "creation_date": 1534933005, "answer_id": 51964665, "question_id": 51964611, "link": "https://stackoverflow.com/questions/51964611/user-permission-check-only-works-first-time-after-installation/51964665#51964665", "title": "User permission check only works first time after installation", "body": "<p>you left <code>shouldShowRequestPermissionRationale</code> part empty so it is not requesting permission second time . In it show an alert dialog why you need permission and when user clicks Ok ask for permission again . As an alternate you can ask permission again directly.</p>\n\n<pre><code>private fun checkPermission(){\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION)\n            != PackageManager.PERMISSION_GRANTED) {\n        //permission not granted\n\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                        Manifest.permission.ACCESS_COARSE_LOCATION)) {\n             ActivityCompat.requestPermissions(this,\n                arrayOf(Manifest.permission.ACCESS_COARSE_LOCATION),\n                ACCESS_COARSE_LOCATION_CODE)\n        } else {\n            //request the permission\n            ActivityCompat.requestPermissions(this,\n                    arrayOf(Manifest.permission.ACCESS_COARSE_LOCATION),\n                    ACCESS_COARSE_LOCATION_CODE)\n        }\n    } else {\n        ActivityCompat.requestPermissions(this,\n                arrayOf(Manifest.permission.ACCESS_COARSE_LOCATION),\n                ACCESS_COARSE_LOCATION_CODE)\n    }\n}\n</code></pre>\n\n<p>You are not handling the deny and dont ask again cases properly , I would suggest you to use <a href=\"https://github.com/nabinbhandari/Android-Permissions\" rel=\"nofollow noreferrer\">this</a> library for simplicity . you will get all call backs at single place</p>\n\n<pre><code>  Permissions.check(this, Manifest.permission.ACCESS_COARSE_LOCATION, null, new PermissionHandler() {\n    @Override\n    public void onGranted() {\n        // do your task.\n    }\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534933555, "post_id": 51964694, "comment_id": 90879438, "body": "<i>when the user accepts your permission it accepts it permanently</i> -- not true. Permissions can be manually revoked at any time"}, {"owner": {"reputation": 452, "user_id": 7575491, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-z6rskOgDBU4/AAAAAAAAAAI/AAAAAAAAALA/NQbRiRRs3ns/photo.jpg?sz=128", "display_name": "Mohammad Rbabah", "link": "https://stackoverflow.com/users/7575491/mohammad-rbabah"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534933677, "post_id": 51964694, "comment_id": 90879504, "body": "@TimCastelijns I didn&#39;t mean that maybe my English is not that good"}], "tags": [], "owner": {"reputation": 452, "user_id": 7575491, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-z6rskOgDBU4/AAAAAAAAAAI/AAAAAAAAALA/NQbRiRRs3ns/photo.jpg?sz=128", "display_name": "Mohammad Rbabah", "link": "https://stackoverflow.com/users/7575491/mohammad-rbabah"}, "is_accepted": false, "score": 0, "last_activity_date": 1534933621, "last_edit_date": 1534933621, "creation_date": 1534933141, "answer_id": 51964694, "question_id": 51964611, "link": "https://stackoverflow.com/questions/51964611/user-permission-check-only-works-first-time-after-installation/51964694#51964694", "title": "User permission check only works first time after installation", "body": "<p>when the user accepts your permission it accepts it permanently (unless the user remove it) check permission shows only when the permission is not granted yet. when the user clear data or uncheck the permission through setings->app settings-> chosen app->permisson.</p>\n"}, {"tags": [], "owner": {"reputation": 252, "user_id": 10087711, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dVZmRJJMnlw/AAAAAAAAAAI/AAAAAAAAADE/UiKb0Oef9X8/photo.jpg?sz=128", "display_name": "Umesh Maharjan", "link": "https://stackoverflow.com/users/10087711/umesh-maharjan"}, "is_accepted": false, "score": 0, "last_activity_date": 1534935584, "creation_date": 1534935584, "answer_id": 51965373, "question_id": 51964611, "link": "https://stackoverflow.com/questions/51964611/user-permission-check-only-works-first-time-after-installation/51965373#51965373", "title": "User permission check only works first time after installation", "body": "<pre><code>    private fun checkAndRequestPermissions(): Boolean {\n\n    val permissionContact = ContextCompat.checkSelfPermission(activity,\n            Manifest.permission.READ_CONTACTS)\n\n    val permissionPhoneState = ContextCompat.checkSelfPermission(activity,\n            Manifest.permission.READ_PHONE_STATE)\n    val permissionCamera = ContextCompat.checkSelfPermission(activity,\n            Manifest.permission.CAMERA)\n    val permissionWriteExternal = ContextCompat.checkSelfPermission(activity,\n            Manifest.permission.WRITE_EXTERNAL_STORAGE)\n\n    val locationPermission = ContextCompat.checkSelfPermission(activity, Manifest.permission.ACCESS_FINE_LOCATION)\n    val listPermissionsNeeded = java.util.ArrayList&lt;String&gt;()\n    when {\n        locationPermission != PackageManager.PERMISSION_GRANTED -&gt; listPermissionsNeeded.add(Manifest.permission.ACCESS_FINE_LOCATION)\n    }\n\n    when {\n        permissionContact != PackageManager.PERMISSION_GRANTED -&gt; listPermissionsNeeded.add(Manifest.permission.READ_CONTACTS)\n    }\n\n    when {\n        permissionPhoneState != PackageManager.PERMISSION_GRANTED -&gt; listPermissionsNeeded.add(Manifest.permission.READ_PHONE_STATE)\n    }\n    when {\n        permissionCamera != PackageManager.PERMISSION_GRANTED -&gt; listPermissionsNeeded.add(Manifest.permission.CAMERA)\n    }\n    when {\n        permissionWriteExternal != PackageManager.PERMISSION_GRANTED -&gt; listPermissionsNeeded.add(Manifest.permission.WRITE_EXTERNAL_STORAGE)\n    }\n    when {\n        !listPermissionsNeeded.isEmpty() -&gt; ActivityCompat.requestPermissions(activity, listPermissionsNeeded.toTypedArray(), REQUEST_ID_MULTIPLE_PERMISSIONS)\n    }\n    return true\n}\n</code></pre>\n"}], "owner": {"reputation": 188, "user_id": 6146332, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/978824495566902/picture?type=large", "display_name": "M\u0101rti\u0146\u0161 Ciekurs", "link": "https://stackoverflow.com/users/6146332/m%c4%81rti%c5%86%c5%a1-ciekurs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1320, "favorite_count": 0, "accepted_answer_id": 51964665, "answer_count": 3, "score": 0, "last_activity_date": 1534935584, "creation_date": 1534932821, "question_id": 51964611, "link": "https://stackoverflow.com/questions/51964611/user-permission-check-only-works-first-time-after-installation", "title": "User permission check only works first time after installation", "body": "<p>My application only shows permission dialog only first time after app has been installed.  If I close it and open again, it doesn't show request window. Even if I manually disable location permission or request permission window on clickEvent it doesnt work.</p>\n\n<p>checkPermission:</p>\n\n<pre><code>private fun checkPermission(){\n    if (ContextCompat.checkSelfPermission(this, Manifest.permission.ACCESS_COARSE_LOCATION)\n            != PackageManager.PERMISSION_GRANTED) {\n        //permission not granted\n\n        if (ActivityCompat.shouldShowRequestPermissionRationale(this,\n                        Manifest.permission.ACCESS_COARSE_LOCATION)) {\n            //show an explanation to the user\n        } else {\n            //request the permission\n            ActivityCompat.requestPermissions(this,\n                    arrayOf(Manifest.permission.ACCESS_COARSE_LOCATION),\n                    ACCESS_COARSE_LOCATION_CODE)\n        }\n    } else {\n        ActivityCompat.requestPermissions(this,\n                arrayOf(Manifest.permission.ACCESS_COARSE_LOCATION),\n                ACCESS_COARSE_LOCATION_CODE)\n    }\n}\n</code></pre>\n\n<p>onRequestPermissionsResult:</p>\n\n<pre><code>override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n    when(requestCode){\n        ACCESS_COARSE_LOCATION_CODE -&gt; {\n            if ((grantResults.isNotEmpty() &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED)) {\n                //granted\n            } else {\n                //denied\n            }\n            return\n        }\n    }\n}\n</code></pre>\n\n<p>I call <code>checkPermission</code> function on <code>onStart</code> and when I click icon.</p>\n"}, {"tags": ["android", "google-maps", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1534932888, "creation_date": 1534932888, "answer_id": 51964638, "question_id": 51964390, "link": "https://stackoverflow.com/questions/51964390/get-camera-zoomlevel-from-googlemaps-in-kotlin/51964638#51964638", "title": "Get camera zoomlevel from googlemaps in Kotlin", "body": "<p>Ok I found it,\nyou can just do: <code>mMap.setOnCameraMoveListener { println(\"zoomed\") }</code>\nthis opens automatically when you zoomed</p>\n"}, {"comments": [{"owner": {"reputation": 2275, "user_id": 1972843, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/874ed4c4111d7048aad97ce21ee01a36?s=128&d=identicon&r=PG", "display_name": "Pinkie Swirl", "link": "https://stackoverflow.com/users/1972843/pinkie-swirl"}, "edited": false, "score": 0, "creation_date": 1534948430, "post_id": 51965442, "comment_id": 90888829, "body": "Please describe what your code does and how it answers the question."}], "tags": [], "owner": {"reputation": 252, "user_id": 10087711, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-dVZmRJJMnlw/AAAAAAAAAAI/AAAAAAAAADE/UiKb0Oef9X8/photo.jpg?sz=128", "display_name": "Umesh Maharjan", "link": "https://stackoverflow.com/users/10087711/umesh-maharjan"}, "is_accepted": false, "score": 0, "last_activity_date": 1534947399, "last_edit_date": 1534947399, "creation_date": 1534935836, "answer_id": 51965442, "question_id": 51964390, "link": "https://stackoverflow.com/questions/51964390/get-camera-zoomlevel-from-googlemaps-in-kotlin/51965442#51965442", "title": "Get camera zoomlevel from googlemaps in Kotlin", "body": "<pre><code>val center = CameraUpdateFactory.newLatLng(LatLng(latitude, longitude))\nval zoom = CameraUpdateFactory.zoomTo(13)\n\nmMap.moveCamera(center)\nmMap.animateCamera(zoom)\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 165, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1534947399, "creation_date": 1534932113, "question_id": 51964390, "link": "https://stackoverflow.com/questions/51964390/get-camera-zoomlevel-from-googlemaps-in-kotlin", "title": "Get camera zoomlevel from googlemaps in Kotlin", "body": "<p>I want to get the camerazoomlevel in googlemaps, so that I can resize my markers depending on the zoomlevel. I know that I can set the zoomlevel as in \n<code>mMap.moveCamera(CameraUpdateFactory.newLatLngZoom(Berlin, zoomLevel))</code> but is there any way to get a feedback from googlemaps or make googlemaps change the iconsize automatically?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "edited": false, "score": 0, "creation_date": 1534934635, "post_id": 51964339, "comment_id": 90879993, "body": "From where you are adding this fragment?"}, {"owner": {"reputation": 3441, "user_id": 2589738, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/q7fWk.jpg?s=128&g=1", "display_name": "Samantha Withanage", "link": "https://stackoverflow.com/users/2589738/samantha-withanage"}, "reply_to_user": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "edited": false, "score": 0, "creation_date": 1534935038, "post_id": 51964339, "comment_id": 90880210, "body": "@SangeetSuresh I&#39;m adding the fragment from the Activity."}, {"owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "edited": false, "score": 0, "creation_date": 1534947885, "post_id": 51964339, "comment_id": 90888424, "body": "So both fragments are added from the same activity right ?"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1534983985, "post_id": 51964339, "comment_id": 90903724, "body": "Why are you calling <code>DataBindingUtil.setContentView()</code> for your <code>Activity</code> in the <code>Fragment</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 3441, "user_id": 2589738, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/q7fWk.jpg?s=128&g=1", "display_name": "Samantha Withanage", "link": "https://stackoverflow.com/users/2589738/samantha-withanage"}, "edited": false, "score": 0, "creation_date": 1534933772, "post_id": 51964674, "comment_id": 90879556, "body": "Tried that and received same result with same error message. Thanks a lot for the reply :)"}], "tags": [], "owner": {"reputation": 788, "user_id": 6082859, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PxzKQ2pJ2s8/AAAAAAAAAAI/AAAAAAAADHk/__o-vvZiH90/photo.jpg?sz=128", "display_name": "Nishita", "link": "https://stackoverflow.com/users/6082859/nishita"}, "is_accepted": false, "score": 0, "last_activity_date": 1534933045, "creation_date": 1534933045, "answer_id": 51964674, "question_id": 51964339, "link": "https://stackoverflow.com/questions/51964339/android-kotlin-inflating-fragment-into-container-fails/51964674#51964674", "title": "Android Kotlin inflating fragment into container fails", "body": "<p>Try using replace method instead of add method.</p>\n\n<pre><code>supportFragmentManager\n            .beginTransaction()\n            .replace(R.id.content_frame, CreateAccountFragment.newInstance())\n            .addToBackStack(CreateAccountFragment.javaClass.simpleName)\n            .commit()\n</code></pre>\n"}], "owner": {"reputation": 3441, "user_id": 2589738, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/q7fWk.jpg?s=128&g=1", "display_name": "Samantha Withanage", "link": "https://stackoverflow.com/users/2589738/samantha-withanage"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1586085279, "creation_date": 1534931993, "last_edit_date": 1586085279, "question_id": 51964339, "link": "https://stackoverflow.com/questions/51964339/android-kotlin-inflating-fragment-into-container-fails", "title": "Android Kotlin inflating fragment into container fails", "body": "<p>I'm using <strong>Kotlin</strong> in my Android project and when adding <strong>fragments</strong> to container I'm receiving an error saying <em>the view for the particular Id is not available</em> and app crashes. This is happens from adding the second fragment onwards.</p>\n\n<p>First I thought it could be an issue with constraint layout and changed activity layout implementation into a Relative layout implementation and realize it wasn't making issues in this context.This is some kind of strange behavior since I did the same in Java and it works fine and didn't find any solution or visible issue in my implementation.</p>\n\n<p>My activity layout is implemented like this</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/content_frame\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_alignParentStart=\"true\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>My Fragment transaction is done like this</p>\n\n<pre><code>supportFragmentManager\n                .beginTransaction()\n                .add(R.id.content_frame, CreateAccountFragment.newInstance())\n                .addToBackStack(CreateAccountFragment.javaClass.simpleName)\n                .commit()\n</code></pre>\n\n<p>My fragment implementation is like below</p>\n\n<p>Fragment layout</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;data&gt;\n        &lt;variable\n            name=\"viewModel\"\n            type=\"test.feature.createAccount.CreateAccountViewModel\"/&gt;\n    &lt;/data&gt;\n\n    &lt;android.support.constraint.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n        &lt;!-- AppBar and Toolbar --&gt;\n        &lt;include\n            android:id=\"@+id/include\"\n            layout=\"@layout/appbar_layout\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/imageView\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginBottom=\"@dimen/padding_m\"\n            android:layout_marginEnd=\"@dimen/padding_m\"\n            android:layout_marginStart=\"@dimen/padding_m\"\n            android:layout_marginTop=\"@dimen/padding_xxl\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.5\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/include\"\n            app:layout_constraintVertical_bias=\"0.0\"\n            app:srcCompat=\"@drawable/test_logo_large\" /&gt;\n\n        &lt;!-- Content --&gt;\n\n        &lt;test.feature.shared.EditTextWithIcon\n            android:id=\"@+id/nameEditTextWithLabel\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"40dp\"\n            android:layout_marginStart=\"40dp\"\n            android:layout_marginTop=\"32dp\"\n            android:imeOptions=\"actionNext\"\n            android:nextFocusDown=\"@+id/passwordEditTextWithLabel\"\n            app:edit_text_email=\"true\"\n            app:edit_text_hint=\"@string/name_hint\"\n            app:edit_text_icon=\"@drawable/ic_name_24dp\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.5\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/imageView\"\n            app:text=\"@{viewModel.email}\" /&gt;\n\n        &lt;test.feature.shared.EditTextWithIcon\n            android:id=\"@+id/emailEditTextWithLabel\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"40dp\"\n            android:layout_marginStart=\"40dp\"\n            android:imeOptions=\"actionNext\"\n            android:nextFocusDown=\"@+id/passwordEditTextWithLabel\"\n            app:edit_text_email=\"true\"\n            app:edit_text_hint=\"@string/email_hint\"\n            app:edit_text_icon=\"@drawable/ic_email_24dp\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.5\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/nameEditTextWithLabel\"\n            app:text=\"@{viewModel.email}\" /&gt;\n\n        &lt;test.feature.shared.EditTextWithIcon\n            android:id=\"@+id/passwordEditTextWithLabel\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"40dp\"\n            android:layout_marginStart=\"40dp\"\n            android:imeOptions=\"actionDone\"\n            app:edit_text_hint=\"@string/password_hint\"\n            app:edit_text_icon=\"@drawable/ic_password_24dp\"\n            app:edit_text_password=\"true\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.5\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/emailEditTextWithLabel\"\n            app:text=\"@{viewModel.password}\" /&gt;\n\n        &lt;test.feature.shared.CheckBoxWithHint\n            android:id=\"@+id/acceptTermsCheckBox\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"40dp\"\n            android:layout_marginStart=\"40dp\"\n            app:checkbox_text=\"@string/accept_saving_data_checkbox_text\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.5\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/passwordEditTextWithLabel\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/goToSignUpButton\"\n            style=\"@style/SecondaryButton\"\n            android:text=\"@string/sign_up_button\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintHorizontal_bias=\"0.5\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@+id/acceptTermsCheckBox\" /&gt;\n\n    &lt;/android.support.constraint.ConstraintLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n\n<p>Fragment class</p>\n\n<pre><code>class CreateAccountFragment : Fragment() {\n\n    companion object {\n        fun newInstance(): CreateAccountFragment {\n            return CreateAccountFragment()\n        }\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        retainInstance = true\n    }\n\n    override fun onCreateView(\n            inflater: LayoutInflater,\n            container: ViewGroup?,\n            savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.fragment_create_account, container, false)\n    }\n\n    private val viewModel: CreateAccountViewModel by lazy {\n        ViewModelProviders.of(this).get(CreateAccountViewModel::class.java)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        //setup ui\n        setTitle(R.string.create_account_title)\n        setSupportActionBar(toolbar)\n\n        val binding = activity?.let { DataBindingUtil.setContentView&lt;FragmentCreateAccountBinding&gt;(it, R.layout.fragment_create_account) }\n        binding?.viewModel = viewModel\n        binding?.setLifecycleOwner(activity)\n        binding?.executePendingBindings()\n\n        nameEditTextWithLabel.toObservableValue().subscribe {\n            viewModel.setName(it)\n        }\n\n        emailEditTextWithLabel.toObservableValue().subscribe {\n            viewModel.setEmail(it)\n        }\n\n        passwordEditTextWithLabel.toObservableValue().subscribe {\n            viewModel.setPassword(it)\n        }\n    }\n}\n</code></pre>\n\n<p>And the Log is looks like below when the app crashes</p>\n\n<pre><code>08-22 14:48:25.393 6905-6905/? E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: ec.test.android.debug, PID: 6905\n    java.lang.IllegalArgumentException: No view found for id 0x7f09003c (ec.test.android.debug:id/content_frame) for fragment CreateAccountFragment{82d27b9 #1 id=0x7f09003c}\n        at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1422)\n        at android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1759)\n        at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1827)\n        at android.support.v4.app.BackStackRecord.executeOps(BackStackRecord.java:797)\n        at android.support.v4.app.FragmentManagerImpl.executeOps(FragmentManager.java:2596)\n        at android.support.v4.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2383)\n        at android.support.v4.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManager.java:2338)\n        at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:2245)\n        at android.support.v4.app.FragmentManagerImpl$1.run(FragmentManager.java:703)\n        at android.os.Handler.handleCallback(Handler.java:873)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n</code></pre>\n\n<p>I was unable to determine the cause of the crash and it adds the first fragment fine and from the next one it gives this error and crashes.</p>\n"}, {"tags": ["android", "kotlin", "facebook-android-sdk"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 9522009, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7HvIVnR9elM/AAAAAAAAAAI/AAAAAAAAACg/7ZVs6Q8fAE8/photo.jpg?sz=128", "display_name": "Fluent Gamer", "link": "https://stackoverflow.com/users/9522009/fluent-gamer"}, "edited": false, "score": 0, "creation_date": 1534952731, "post_id": 51967838, "comment_id": 90891524, "body": "on adView it now says val cannot be reassigned, please help"}, {"owner": {"reputation": 46, "user_id": 10259537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/951c76ae530954ce2a83ddfe4216f9b0?s=128&d=identicon&r=PG", "display_name": "tomasznajda", "link": "https://stackoverflow.com/users/10259537/tomasznajda"}, "reply_to_user": {"reputation": 33, "user_id": 9522009, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7HvIVnR9elM/AAAAAAAAAAI/AAAAAAAAACg/7ZVs6Q8fAE8/photo.jpg?sz=128", "display_name": "Fluent Gamer", "link": "https://stackoverflow.com/users/9522009/fluent-gamer"}, "edited": false, "score": 0, "creation_date": 1534955710, "post_id": 51967838, "comment_id": 90893320, "body": "Mutable property should be declared by the &#39;var&#39; keyword. &#39;val&#39; is read-only. It is similar to the Java final field. See documentation: <a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/properties.html</a>"}], "tags": [], "owner": {"reputation": 46, "user_id": 10259537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/951c76ae530954ce2a83ddfe4216f9b0?s=128&d=identicon&r=PG", "display_name": "tomasznajda", "link": "https://stackoverflow.com/users/10259537/tomasznajda"}, "is_accepted": true, "score": 0, "last_activity_date": 1534943908, "creation_date": 1534943908, "answer_id": 51967838, "question_id": 51964233, "link": "https://stackoverflow.com/questions/51964233/facebook-ads-for-kotlin/51967838#51967838", "title": "Facebook ads for kotlin", "body": "<p>Android Studio provides the converting tool from Java to Kotlin. To find it double click SHIFT and type 'Convert Java to Kotlin'.</p>\n\n<pre><code>adView = AdView(this, \"YOUR_PLACEMENT_ID\", AdSize.BANNER_HEIGHT_50)\n// Find the Ad Container\nval adContainer = findViewById&lt;LinearLayout&gt;(R.id.banner_container)\n// Add the ad view to your activity layout\nadContainer.addView(adView)\n// Request an ad\nadView.loadAd()\n</code></pre>\n\n<p>or using kotlin extensions</p>\n\n<pre><code>adView = AdView(this, \"YOUR_PLACEMENT_ID\", AdSize.BANNER_HEIGHT_50)\n// Find the Ad Container and add the ad view to your activity layout\nbanner_container.addView(adView)\n// Request an ad\nadView.loadAd()\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 9522009, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7HvIVnR9elM/AAAAAAAAAAI/AAAAAAAAACg/7ZVs6Q8fAE8/photo.jpg?sz=128", "display_name": "Fluent Gamer", "link": "https://stackoverflow.com/users/9522009/fluent-gamer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1153, "favorite_count": 0, "accepted_answer_id": 51967838, "answer_count": 1, "score": 1, "last_activity_date": 1545566009, "creation_date": 1534931719, "last_edit_date": 1534943238, "question_id": 51964233, "link": "https://stackoverflow.com/questions/51964233/facebook-ads-for-kotlin", "title": "Facebook ads for kotlin", "body": "<p>i am trying to show facebook ads on my android app written in kotlin but everytime i try to add code it shows errors, i searched everywhere but could not find a kotlin version</p>\n\n<pre><code>    adView = new AdView(this, \"YOUR_PLACEMENT_ID\", AdSize.BANNER_HEIGHT_50);\n\n  // Find the Ad Container\n  LinearLayout adContainer = (LinearLayout) findViewById(R.id.banner_container);\n\n  // Add the ad view to your activity layout\n  adContainer.addView(adView);\n\n  // Request an ad\n  adView.loadAd();\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 2, "creation_date": 1534929293, "post_id": 51963429, "comment_id": 90877089, "body": "do you use synthetic view binding? You need to tell what layout you are binding to. In this case it would be the 2nd option"}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534929407, "post_id": 51963429, "comment_id": 90877139, "body": "@TimCastelijns , yes i am aware of it that synthetic import is the one I need, But I don&#39;t know why there are two imports, Because it was working in another app, same module is not working in another app."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534929451, "post_id": 51963429, "comment_id": 90877154, "body": "there are 2 options because the module you imported provides a R.id.drawar_layout. AS does not know which one to import. You have to tell it."}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534929483, "post_id": 51963429, "comment_id": 90877173, "body": "@TimCastelijns in kotlin I never imported any id like this, I can see there are not any imports for synthetic also, it automatically takes reference."}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534929533, "post_id": 51963429, "comment_id": 90877198, "body": "@TimCastelijns please try to understand, I am not talking about single id, all my id (above 100) are showing two imports."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 2, "creation_date": 1534929672, "post_id": 51963429, "comment_id": 90877273, "body": "show an example of an view reference that is not <code>drawer_layout</code> that also shows 2 options"}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534930019, "post_id": 51963429, "comment_id": 90877465, "body": "@TimCastelijns I have edited my question for better understanding"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534930186, "post_id": 51963429, "comment_id": 90877577, "body": "what happens when you import the synthetic layout?"}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534930290, "post_id": 51963429, "comment_id": 90877647, "body": "1. It is imported, 2. It does not add any imports in class, 3. All errors related to that id are gone."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534930330, "post_id": 51963429, "comment_id": 90877679, "body": "make sure not to import single id, but import the whole layout"}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534930346, "post_id": 51963429, "comment_id": 90877692, "body": "@TimCastelijns But here big question is why all ids are available at two places in another project, weather in one project I don&#39;t need to import any id."}, {"owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1534930395, "post_id": 51963429, "comment_id": 90877718, "body": "@TimCastelijns please let me know how to import whole layout?"}], "answers": [{"comments": [{"owner": {"reputation": 16154, "user_id": 4747587, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/VdsH3.png?s=128&g=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4747587/henry"}, "edited": false, "score": 0, "creation_date": 1534937353, "post_id": 51965736, "comment_id": 90881446, "body": "It works in fragments as well. You need to choose <code>kotlinx.android.synthetic.main.fragment_main.*</code>"}], "tags": [], "owner": {"reputation": 180, "user_id": 10259099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOFWi.png?s=128&g=1", "display_name": "Rofie Sagara", "link": "https://stackoverflow.com/users/10259099/rofie-sagara"}, "is_accepted": false, "score": 0, "last_activity_date": 1534936869, "creation_date": 1534936869, "answer_id": 51965736, "question_id": 51963429, "link": "https://stackoverflow.com/questions/51963429/kotlin-layout-id-is-showing-two-imports/51965736#51965736", "title": "Kotlin layout id is showing two imports", "body": "<p>it's automatic in kotlin. You just have to choose kotlinx.android.synthetic</p>\n\n<p>I've tried it in fragments and it can't. when in fragment you still have to use findViewById</p>\n"}, {"tags": [], "owner": {"reputation": 16154, "user_id": 4747587, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/VdsH3.png?s=128&g=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4747587/henry"}, "is_accepted": false, "score": 0, "last_activity_date": 1534937539, "last_edit_date": 1534937539, "creation_date": 1534937208, "answer_id": 51965833, "question_id": 51963429, "link": "https://stackoverflow.com/questions/51963429/kotlin-layout-id-is-showing-two-imports/51965833#51965833", "title": "Kotlin layout id is showing two imports", "body": "<p>So if you have a view in the xml layout with id = drawer_layout, there are two imports:</p>\n\n<ol>\n<li><p><code>acr.browser.lightning.R.id.drawer_layout</code> : This is the ID mapping that you will find in your <code>R.java</code> file. You will have an entry for every view there. This import exists even when you are not using kotlin. You will use this, for example, when you want to compare the View Id to determine which View is clicked, etc...</p></li>\n<li><p><code>kotlinx.android.synthetic.main.activity_main.drawer_layout</code> : Now this is the way by which you can access the VIEW without using <code>findViewById</code> and <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">reference it directly</a>. </p></li>\n</ol>\n\n<p>Looking at your code, I see that the 2nd import is what you need to choose. It's normal for the IDE to show both the imports, because both are valid. Now, <a href=\"https://issuetracker.google.com/issues/78547457\" rel=\"nofollow noreferrer\">there is a bug in Android Studio</a> (at least in the 3.1 version), where even when you choose the 2nd import, sometimes Android Studio will show ALL THE ID's as errors (since it won't recognize the synthetic import). To resolve this you need to Build the app again, and the errors will go away (if the synthetic import is still present)</p>\n"}], "owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 283, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1534937539, "creation_date": 1534929053, "last_edit_date": 1592644375, "question_id": 51963429, "link": "https://stackoverflow.com/questions/51963429/kotlin-layout-id-is-showing-two-imports", "title": "Kotlin layout id is showing two imports", "body": "<p>I imported a module to my project. That module was working in my sample,</p>\n<p>But in my app this is showing two imports, Can someone let me know, why did this happen. And what will be its solution. Because I never imported the ids in kotlin, so why I faced this behaviour now?</p>\n<p><a href=\"https://i.stack.imgur.com/yimKU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yimKU.png\" alt=\"Image\" /></a></p>\n<p><strong>Please note:</strong></p>\n<p>It is not about one id <code>drawer_layout</code>, all my ids are showing two imports, Also please note that I never imported all these ids in my old sample project. But in my other app, all ids are showing two imports.</p>\n<p><strong>Edit</strong></p>\n<p>I am adding some additional screenshots for better understanding.</p>\n<h3>No duplicate id</h3>\n<p><a href=\"https://i.stack.imgur.com/gggzo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gggzo.png\" alt=\"No duplicate id\" /></a></p>\n<h3>But showing two imports</h3>\n<p><a href=\"https://i.stack.imgur.com/TJLrB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TJLrB.png\" alt=\"Two imports\" /></a></p>\n<h3>All ids are showing two imports in class (Almost 100 erros in class)</h3>\n<p><a href=\"https://i.stack.imgur.com/Ex9so.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ex9so.png\" alt=\"Errors\" /></a></p>\n"}, {"tags": ["spring-boot", "kotlin", "mockito"], "comments": [{"owner": {"reputation": 3920, "user_id": 5260008, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ea7ba79b7b351a532f9f8bdacfd8649?s=128&d=identicon&r=PG&f=1", "display_name": "N00b Pr0grammer", "link": "https://stackoverflow.com/users/5260008/n00b-pr0grammer"}, "edited": false, "score": 0, "creation_date": 1534937054, "post_id": 51963312, "comment_id": 90881277, "body": "Your test should also implement <code>Optional</code> as like your source to resolve the issue - Not answering as I&#39;m not aware of Kotlin syntax"}, {"owner": {"reputation": 1614, "user_id": 3609514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/92C38.jpg?s=128&g=1", "display_name": "TheTechWolf", "link": "https://stackoverflow.com/users/3609514/thetechwolf"}, "edited": false, "score": 0, "creation_date": 1534937909, "post_id": 51963312, "comment_id": 90881744, "body": "Extension function is a static method which accepts receiver, in your case CrudRepository&lt;T, String&gt;, as a first argument. Therefore Mockito is not able to mock the function call. In order to mock static function, you should use Powermock or some other lib that allows it."}, {"owner": {"reputation": 4769, "user_id": 2722870, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d32c53a4179206fb284e383dd67af4a3?s=128&d=identicon&r=PG&f=1", "display_name": "ThanosFisherman", "link": "https://stackoverflow.com/users/2722870/thanosfisherman"}, "reply_to_user": {"reputation": 1614, "user_id": 3609514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/92C38.jpg?s=128&g=1", "display_name": "TheTechWolf", "link": "https://stackoverflow.com/users/3609514/thetechwolf"}, "edited": false, "score": 0, "creation_date": 1534943783, "post_id": 51963312, "comment_id": 90885628, "body": "@TheTechWolf I see. So Mockito does not support this kind of syntax in kotlin out of the box. Is there a workaround maybe to this specific testing scenario? I don&#39;t want to use another mocking lib for now."}], "answers": [{"comments": [{"owner": {"reputation": 4769, "user_id": 2722870, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d32c53a4179206fb284e383dd67af4a3?s=128&d=identicon&r=PG&f=1", "display_name": "ThanosFisherman", "link": "https://stackoverflow.com/users/2722870/thanosfisherman"}, "edited": false, "score": 0, "creation_date": 1534948652, "post_id": 51968815, "comment_id": 90889002, "body": "Thank you it works. That will do the job for now since there is no other way to trick Mockito into behaving more idiomatically with Kotlin. I will give PowerMock a try soon and see how static methods/extension functions behave there."}], "tags": [], "owner": {"reputation": 1614, "user_id": 3609514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/92C38.jpg?s=128&g=1", "display_name": "TheTechWolf", "link": "https://stackoverflow.com/users/3609514/thetechwolf"}, "is_accepted": true, "score": 0, "last_activity_date": 1534947147, "creation_date": 1534947147, "answer_id": 51968815, "question_id": 51963312, "link": "https://stackoverflow.com/questions/51963312/mocking-an-extension-function-with-mockito/51968815#51968815", "title": "Mocking an extension function with Mockito", "body": "<p>As I said in a comment above, in the bytecode extension functions are nothing more than static functions which accept receiver as a first argument. Therefore you can't mock an extension function with a Mockito since it is not able to mock static functions. </p>\n\n<p>What you can do, in case that <code>findById(id)</code> is implemented by Repository and not another extension function, is next: </p>\n\n<blockquote>\n  <p>Mock return value of <code>findById(id)</code> instead.</p>\n</blockquote>\n\n<p>Take a look at the sample code below:</p>\n\n<pre><code>@Test\nfun getIslandById() {\n    //given\n    BDDMockito.given(islandRepository.findById(\"islandId1\"))\n    .willReturn(Optional.of(IslandEntity(tileList, \"1\", \"islandId1\"))) //mock findById function\n\n    //when\n    val island = islandService.getIslandById(\"islandId1\")\n\n    //then\n    Assertions.assertThat(island?.id).isEqualTo(\"islandId1\")\n}\n</code></pre>\n\n<p>This way you are indirectly mocking your extension by providing it a mocked value that you want it to operate on.</p>\n\n<p>Note: Error that you posted above says that your <code>findById(id)</code> should return an optional. So, wrap your return value of <code>findById(id)</code> function with an optional by calling <code>Optional.of(result)</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 5230, "user_id": 305532, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/be1815a0a124a8a1935f67426690a3eb?s=128&d=identicon&r=PG", "display_name": "Thomas Keller", "link": "https://stackoverflow.com/users/305532/thomas-keller"}, "is_accepted": false, "score": 1, "last_activity_date": 1597097406, "creation_date": 1597097406, "answer_id": 63348689, "question_id": 51963312, "link": "https://stackoverflow.com/questions/51963312/mocking-an-extension-function-with-mockito/63348689#63348689", "title": "Mocking an extension function with Mockito", "body": "<p>Instance extension functions can be mocked like this with a little help of mockito-kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>data class Bar(thing: Int)\n\nclass Foo {\n   fun Bar.bla(anotherThing: Int): Int { ... }\n}\n\nval bar = Bar(thing = 1)\nval foo = mock&lt;Foo&gt;()\n\nwith(foo) {\n  whenever(any&lt;Bar&gt;().bla(any()).doReturn(3)\n}\n\nverify(foo).apply {\n  bar.bla(anotherThing = 2)\n}\n</code></pre>\n"}], "owner": {"reputation": 4769, "user_id": 2722870, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d32c53a4179206fb284e383dd67af4a3?s=128&d=identicon&r=PG&f=1", "display_name": "ThanosFisherman", "link": "https://stackoverflow.com/users/2722870/thanosfisherman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1547, "favorite_count": 1, "accepted_answer_id": 51968815, "answer_count": 2, "score": 0, "last_activity_date": 1597097406, "creation_date": 1534928635, "last_edit_date": 1534930507, "question_id": 51963312, "link": "https://stackoverflow.com/questions/51963312/mocking-an-extension-function-with-mockito", "title": "Mocking an extension function with Mockito", "body": "<p>How can I test an extension function with Mockito? It doesn't seem to work nicely.</p>\n\n<p>This is my extension function</p>\n\n<pre><code>fun &lt;T&gt; CrudRepository&lt;T, String&gt;.findOneById(id: String): T? {\n    val o = findById(id)\n    return if (o.isPresent) o.get() else null\n}\n</code></pre>\n\n<p>And this is what I'm trying to test</p>\n\n<pre><code>  @Test\n    fun getIslandById() {\n        //given\n        BDDMockito.given(islandRepository.findOneById(\"islandId1\"))\n        .willReturn(IslandEntity(tileList, \"1\", \"islandId1\")) //findOneById is my extension function\n        //when\n        val island = islandService.getIslandById(\"islandId1\")\n        //then\n        Assertions.assertThat(island?.id).isEqualTo(\"islandId1\")\n    }\n</code></pre>\n\n<p>But the preceeding test throws the following error</p>\n\n<pre><code>org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \nIslandEntity cannot be returned by findById()\nfindById() should return Optional\n</code></pre>\n\n<p>Any ideas?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1224, "user_id": 9695678, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Asset Bekbossynov", "link": "https://stackoverflow.com/users/9695678/asset-bekbossynov"}, "edited": false, "score": 0, "creation_date": 1534927339, "post_id": 51962885, "comment_id": 90876017, "body": "just try to change val intent = Intent(LoginActivity.this, MainWindowActivity::class.java)"}, {"owner": {"reputation": 73, "user_id": 9711227, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Entertainment S", "link": "https://stackoverflow.com/users/9711227/entertainment-s"}, "reply_to_user": {"reputation": 1224, "user_id": 9695678, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Asset Bekbossynov", "link": "https://stackoverflow.com/users/9695678/asset-bekbossynov"}, "edited": false, "score": 0, "creation_date": 1534927822, "post_id": 51962885, "comment_id": 90876264, "body": "I tried it earlier but not working"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 9711227, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Entertainment S", "link": "https://stackoverflow.com/users/9711227/entertainment-s"}, "edited": false, "score": 0, "creation_date": 1534927528, "post_id": 51962916, "comment_id": 90876130, "body": "It is not Working.i tried it and i got an error while building this as:<code>The expression cannot be a selector (occur after a dot)</code>"}, {"owner": {"reputation": 994, "user_id": 1006959, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8232112cd8c2eaa20cfebe28594634fd?s=128&d=identicon&r=PG", "display_name": "jantursky", "link": "https://stackoverflow.com/users/1006959/jantursky"}, "reply_to_user": {"reputation": 73, "user_id": 9711227, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Entertainment S", "link": "https://stackoverflow.com/users/9711227/entertainment-s"}, "edited": false, "score": 0, "creation_date": 1534928348, "post_id": 51962916, "comment_id": 90876539, "body": "@EntertainmentS I edited my answer, the point is to link to current Activity, where the code is + plus use <b>this</b> reference."}], "tags": [], "owner": {"reputation": 994, "user_id": 1006959, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8232112cd8c2eaa20cfebe28594634fd?s=128&d=identicon&r=PG", "display_name": "jantursky", "link": "https://stackoverflow.com/users/1006959/jantursky"}, "is_accepted": false, "score": 0, "last_activity_date": 1534928299, "last_edit_date": 1534928299, "creation_date": 1534927281, "answer_id": 51962916, "question_id": 51962885, "link": "https://stackoverflow.com/questions/51962885/how-to-change-activity-from-onpostexecute-method-using-kotlin/51962916#51962916", "title": "How to change activity from onPostExecute() method using kotlin", "body": "<p>Simple:</p>\n\n<pre><code>val intent = Intent(name_of_your_activity:class.this, MainWindowActivity::class.java)\nstartActivity(intent)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "reply_to_user": {"reputation": 73, "user_id": 9711227, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Entertainment S", "link": "https://stackoverflow.com/users/9711227/entertainment-s"}, "edited": false, "score": 0, "creation_date": 1534927994, "post_id": 51962957, "comment_id": 90876363, "body": "Add inner keyword before class PostJsonAsync: AsyncTask."}, {"owner": {"reputation": 73, "user_id": 9711227, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Entertainment S", "link": "https://stackoverflow.com/users/9711227/entertainment-s"}, "edited": false, "score": 0, "creation_date": 1534928558, "post_id": 51962957, "comment_id": 90876674, "body": "Working perfectly"}], "tags": [], "owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "is_accepted": true, "score": 2, "last_activity_date": 1534929079, "last_edit_date": 1534929079, "creation_date": 1534927451, "answer_id": 51962957, "question_id": 51962885, "link": "https://stackoverflow.com/questions/51962885/how-to-change-activity-from-onpostexecute-method-using-kotlin/51962957#51962957", "title": "How to change activity from onPostExecute() method using kotlin", "body": "<p>To refer an outer class instance (LoginActivity) from inner class (PostJsonAsync) in Kotlin, you must make your class as inner (they can access outer class instance) by adding <code>inner</code> keyword before class.</p>\n\n<pre><code>inner class PostJsonAsync : AsyncTask&lt;Void, Void, Void&gt;() {\n\n    override fun onPostExecute(result: Void?) {\n        super.onPostExecute(result)\n        val intent = Intent(this@LoginActivity, LoginActivity::class.java)\n        startActivity(intent)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 9711227, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Entertainment S", "link": "https://stackoverflow.com/users/9711227/entertainment-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 535, "favorite_count": 0, "accepted_answer_id": 51962957, "answer_count": 2, "score": -1, "last_activity_date": 1534929079, "creation_date": 1534927181, "last_edit_date": 1534927860, "question_id": 51962885, "link": "https://stackoverflow.com/questions/51962885/how-to-change-activity-from-onpostexecute-method-using-kotlin", "title": "How to change activity from onPostExecute() method using kotlin", "body": "<p>I have an <strong>activity</strong> called <code>LoginActivity</code> in my app (using kotlin). This will send a post request to an API as an <strong>Async task</strong>. I want to change the <strong>activity</strong> from <code>onPostExecute</code> method to <code>MainWindowActivity</code> after getting response from the API.\nI cannot change the activity:</p>\n\n<pre><code> val intent = Intent(this, MainWindowActivity::class.java)\n startActivity(intent)\n</code></pre>\n\n<p>since <code>this</code> will only return <code>LoginActivity.PostJsonAsync</code></p>\n\n<p>(<code>PostJsonAsync</code> is a class which <code>extends</code> <code>AsyncTask</code>)</p>\n"}, {"tags": ["kotlin", "corda"], "answers": [{"tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": false, "score": 0, "last_activity_date": 1534929583, "creation_date": 1534929583, "answer_id": 51963577, "question_id": 51962307, "link": "https://stackoverflow.com/questions/51962307/what-would-be-idiomatic-corda-agreement-flow-and-state/51963577#51963577", "title": "What would be idiomatic Corda &quot;agreement&quot; flow and state?", "body": "<p>You would define a state that tracks which parties have already agreed, out of the overall list of participants:</p>\n\n<pre><code>data class AgreementState(\n        val partiesAgreed: List&lt;Party&gt;,\n        override val participants: List&lt;Party&gt;,\n        override val linearId: UniqueIdentifier) : LinearState\n</code></pre>\n\n<p>You would write a contract ensuring that for each transaction:</p>\n\n<ul>\n<li>The participants don't change</li>\n<li>Only one agreeing party is added</li>\n<li>The agreeing party is a participant</li>\n<li><p>The agreeing party is the required signer</p>\n\n<p>class AgreementContract : Contract {\n    companion object {\n        val ID = \"com.template.AgreementState\"\n    }</p>\n\n<pre><code>override fun verify(tx: LedgerTransaction) {\n    val input = tx.inputsOfType&lt;AgreementState&gt;().single()\n    val output = tx.outputsOfType&lt;AgreementState&gt;().single()\n    val requiredSigner = tx.commands.single().signers.single()\n\n    if (input.participants != output.participants) throw Exception()\n\n    val changeInPartiesAgreed = (output.partiesAgreed - input.partiesAgreed)\n    if (changeInPartiesAgreed.size != 1) throw Exception()\n\n    val newPartyAgreeing = changeInPartiesAgreed.single()\n    if (newPartyAgreeing !in output.participants) throw Exception()\n\n    if (requiredSigner != newPartyAgreeing.owningKey) throw Exception()\n}\n\nclass AddParty: CommandData\n</code></pre>\n\n<p>}</p></li>\n</ul>\n\n<p>And finally, we would write a flow that each party can invoke to signify its approval:</p>\n\n<pre><code>@InitiatingFlow\n@StartableByRPC\nclass AgreementFlow(val agreementState: StateAndRef&lt;AgreementState&gt;): FlowLogic&lt;Unit&gt;() {\n    override fun call() {\n        val notary = serviceHub.networkMapCache.notaryIdentities[0]\n        val inputState = agreementState.state.data\n        val transactionBuilder = TransactionBuilder(notary)\n                .addInputState(agreementState)\n                .addOutputState(inputState.copy(partiesAgreed = inputState.partiesAgreed + ourIdentity), AgreementContract.ID)\n                .addCommand(AgreementContract.AddParty(), ourIdentity.owningKey)\n\n        val stx = serviceHub.signInitialTransaction(transactionBuilder)\n        subFlow(FinalityFlow(stx))\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 74, "user_id": 894154, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2CDWe.jpg?s=128&g=1", "display_name": "Jan", "link": "https://stackoverflow.com/users/894154/jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534929583, "creation_date": 1534924860, "question_id": 51962307, "link": "https://stackoverflow.com/questions/51962307/what-would-be-idiomatic-corda-agreement-flow-and-state", "title": "What would be idiomatic Corda &quot;agreement&quot; flow and state?", "body": "<p>Given scenario that several >2 parties need to agree on some state before proceeding to \"next stage\" of whatever process is being implemented.</p>\n\n<p>What would be current Corda (Corda 3.x) idiomatic approach for implemetnation, and how such state(s) would look like.</p>\n\n<p>Some expected rules</p>\n\n<ol>\n<li>More than 2 parties are invovled and each need to \"agree\" on the state to proceed on next stage</li>\n<li>Agreement is \"manual\" so no code controls it, but party has to \"press the button\"</li>\n<li>Press the button can be done only once per \"document package\" by any party, but the order can be arbitrary</li>\n<li>If at least one party does \"reject\" button, the state exits.</li>\n</ol>\n\n<p>How it can be simulated by flows and state transitions.</p>\n\n<p>My initial idea would be to have linear state which besides classical \"participants\" contain similar list but with tracked \"agreed\" flag against each party. And corresponding initiator and acceptor flows and contract which tracks the rules, and whenever the list of participants has gathered all \"agree\" flags, then next stage of flow is triggered meaning - everybody agreed.</p>\n\n<p>Can it be done more elegantly? Encumberances?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 16018, "user_id": 1511776, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/g3ZQs.jpg?s=128&g=1", "display_name": "hardartcore", "link": "https://stackoverflow.com/users/1511776/hardartcore"}, "edited": false, "score": 0, "creation_date": 1534925170, "post_id": 51962167, "comment_id": 90874889, "body": "Why not using replace instead of add?"}, {"owner": {"reputation": 431, "user_id": 1284060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/huKvS.jpg?s=128&g=1", "display_name": "nosyjoe", "link": "https://stackoverflow.com/users/1284060/nosyjoe"}, "reply_to_user": {"reputation": 16018, "user_id": 1511776, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/g3ZQs.jpg?s=128&g=1", "display_name": "hardartcore", "link": "https://stackoverflow.com/users/1511776/hardartcore"}, "edited": false, "score": 0, "creation_date": 1534925418, "post_id": 51962167, "comment_id": 90875010, "body": "because it replace ends the lifecycle of the fragment. for faster tab switching, I wanted to keep the fragments and only hide them."}, {"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "edited": false, "score": 0, "creation_date": 1534931178, "post_id": 51962167, "comment_id": 90878158, "body": "Do you have solid background color added for each fragment on their root layout?"}, {"owner": {"reputation": 431, "user_id": 1284060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/huKvS.jpg?s=128&g=1", "display_name": "nosyjoe", "link": "https://stackoverflow.com/users/1284060/nosyjoe"}, "edited": false, "score": 0, "creation_date": 1534935670, "post_id": 51962167, "comment_id": 90880561, "body": "currently I don&#39;t. that is a good workaround, but still it is not clear to me why it works most of the time but sometimes fails"}], "owner": {"reputation": 431, "user_id": 1284060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/huKvS.jpg?s=128&g=1", "display_name": "nosyjoe", "link": "https://stackoverflow.com/users/1284060/nosyjoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534924353, "creation_date": 1534924353, "question_id": 51962167, "link": "https://stackoverflow.com/questions/51962167/two-fragments-overlapping-each-other", "title": "Two Fragments overlapping each other", "body": "<p>I am using a <code>BottomNavigationView</code> for a Tab-Interface in my main activity. in <code>onCreate()</code>, the switchTab method is called with the initial fragment. Tapping the the bottom navigation calls <code>switchTab()</code> for the respective tabs and should hide the current and display the new one. If the fragment was not added to the <code>SupportFragmentManager</code>, it gets added, otherwise it will be shown. Here's my code snippet:</p>\n\n<pre><code>private fun switchTab(fragment: Fragment, tag: String): Boolean {\n    val currentFragment = supportFragmentManager.fragments.find { it.tag == tag }\n\n    val ta = supportFragmentManager.beginTransaction()\n\n    if (currentFragment != null) {\n        ta.hide(currentFragment)\n    }\n\n    if (supportFragmentManager.fragments.contains(fragment)) {\n        ta.show(fragment)\n    } else {\n        ta.add(R.id.contentContainer, fragment, tag)\n    }\n\n    ta.commit()\n    return true\n}\n</code></pre>\n\n<p>Now the problem is that sometimes two fragments are visible and overlay each other, making the userinterface unusable. How can this happen?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "owner": {"reputation": 629, "user_id": 7406696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/d8e99f62483082d6e035c172ac28b094?s=128&d=identicon&r=PG&f=1", "display_name": "Pablo R.", "link": "https://stackoverflow.com/users/7406696/pablo-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1534931217, "creation_date": 1534922968, "last_edit_date": 1534931217, "question_id": 51961802, "link": "https://stackoverflow.com/questions/51961802/managing-fragments-hide-and-show", "title": "Managing Fragments: Hide and Show", "body": "<p>I know there is a lot of questions about fragments but I have some doubts.</p>\n\n<p>I have some activities showing up multiple fragments. I have done my own fragment manager to control them and it worked very well until I had to hide and show some fragments to reuse them for another issues.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6zfSF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6zfSF.png\" alt=\"enter image description here\"></a></p>\n\n<p>My problem is when I go back from fragment B to Activity 1 this is what I do</p>\n\n<pre><code> fun hidePaymentsBackStack(manager: FragmentManager) {\n        for (fragment in manager.fragments) {\n            if (fragment !is PaymentsFragment) {\n                manager.beginTransaction().hide(fragment).commit()\n            }\n        }\n    }\n</code></pre>\n\n<p>go through the stack of fragments shown in Activity 1 and hide them instead of the first one on top of the activity.</p>\n\n<p>If I add Fragment C it's all ok but when I add Fragment A again is not shown on top of the last one. If I remove the fragments instead of showing when I call \nMyFragmentManager.add()...  manager.findFragmentByTag(fragmentTag) is not null and I thought removing them should completely remove the fragment, it enters in showFragment() and when I do transaction.show never appears on top.</p>\n\n<p>This is part of the important code. I am missing something? </p>\n\n<pre><code>fun add(manager: FragmentManager, fragmentTag: String, container: Int) {\n        var fragment = manager.findFragmentByTag(fragmentTag)\n        if (fragment != null) {\n            showFragment(manager, fragment)\n        } else {\n            addFragment(manager, getFragment(fragmentTag, manager)!!, container, fragmentTag)\n        }\n    }\n\n\n   private fun addFragment(manager: FragmentManager, fragment: Fragment, container: Int, fragmentTag: String) {\n        val transaction = manager.beginTransaction()\n        transaction.add(container, fragment, fragmentTag)\n        transaction.commit()\n    }\n\nprivate fun showFragment(fragmentManager: FragmentManager,\n                             fragment: Fragment) {\n        fragmentManager.popBackStack()\n        val transaction = fragmentManager.beginTransaction()\n        transaction.show(fragment)\n        transaction.commit()\n    }\n\n\nprivate fun removeFragment(manager: FragmentManager,\n                               fragment: Fragment) {\n        val trans = manager.beginTransaction()\n        trans.remove(fragment)\n        trans.commit()\n        manager.popBackStack()\n    }\n\n fun removePaymentsBackStack(manager: FragmentManager) {\n        for (fragment in manager.fragments) {\n            if (fragment !is PaymentsFragment) {\n                manager.beginTransaction().remove(fragment).commit()\n                manager.popBackStack()\n            }\n        }\n    }\n</code></pre>\n\n<p>Please help to show again this fragments.</p>\n\n<p>Thank you!!</p>\n"}, {"tags": ["casting", "kotlin"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1534921360, "post_id": 51961271, "comment_id": 90872993, "body": "<code>item as T</code> works only if item &quot;is a&quot; <code>T</code>. In this case, though, <code>item</code> is a <code>String</code> and <code>T</code> is an <code>Int</code>, so <code>String as Int</code> fails. The only possible solution that comes to my mind is something like &quot;if T is an Int -&gt; castedList.add(item.toInt())&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 5, "last_activity_date": 1534952853, "last_edit_date": 1534952853, "creation_date": 1534921364, "answer_id": 51961378, "question_id": 51961271, "link": "https://stackoverflow.com/questions/51961271/cast-of-the-liststring-to-listt-in-kotlin/51961378#51961378", "title": "Cast of the List&lt;String&gt; to List&lt;T&gt; in Kotlin", "body": "<p>I would rather suggest you to supply a transformation function, e.g.</p>\n\n<pre><code>inline fun &lt;T: Any&gt; convertFromString(myString: String, transformation: (String) -&gt; T)\n                                                      = myString.split(\";\")\n                                                                .map(transformation)\n                                                                .toList()\n</code></pre>\n\n<p>Note that you can't cast the <code>String</code> to anything else then <code>String</code> that is why <code>item as T</code> will not work. With the transformation function you ensure that it is transformed correctly (as long as you do not use <code>item as T</code> as the transformation ;-)).</p>\n\n<p>Some sample usages/transformation functions could be:</p>\n\n<pre><code>val doubleList = convertFromString(\"123;123\") { it.toDouble() }\nval intList = convertFromString(\"123;123\") { it.toInt() }\nval objList = convertFromString(\"data=123;data=444\") { yourParser.parse(it) }\n</code></pre>\n\n<p>Additionally with that approach you do not require the <code>reified</code> anymore. The <code>inline</code> however is still useful for any function containing a lambda function.</p>\n"}], "owner": {"reputation": 7265, "user_id": 3457177, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bae2e85ed6794ece744ee124d9ac7842?s=128&d=identicon&r=PG&f=1", "display_name": "Vitalii", "link": "https://stackoverflow.com/users/3457177/vitalii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 0, "accepted_answer_id": 51961378, "answer_count": 1, "score": 0, "last_activity_date": 1534952853, "creation_date": 1534920941, "question_id": 51961271, "link": "https://stackoverflow.com/questions/51961271/cast-of-the-liststring-to-listt-in-kotlin", "title": "Cast of the List&lt;String&gt; to List&lt;T&gt; in Kotlin", "body": "<p>I need to create a generic method that splits a string and casts values</p>\n\n<pre><code>inline fun &lt;reified T: Any&gt; convertFromString(myString: String) : List&lt;T&gt;{\n    val castedList = ArrayList&lt;T&gt;()\n    for(item in  myString.split(\";\")){\n        castedList.add(item as T)\n    }\n    return castedList\n}\n</code></pre>\n\n<p>I call this method <code>convertFromString&lt;Int&gt;(\"1;2;3;4;5;6\")</code> and expect to have output <code>List&lt;Int&gt;</code> but it fails during the cast <code>item as T</code>.</p>\n\n<p>How can I cast all values to generic <code>T</code>?</p>\n"}, {"tags": ["android", "kotlin", "android-fingerprint-api"], "answers": [{"comments": [{"owner": {"reputation": 5174, "user_id": 2358309, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6ca6af0c338582ec6f83b36fa9c48816?s=128&d=identicon&r=PG", "display_name": "antanas_sepikas", "link": "https://stackoverflow.com/users/2358309/antanas-sepikas"}, "edited": false, "score": 0, "creation_date": 1534929245, "post_id": 51961976, "comment_id": 90877060, "body": "This doesn&#39;t work and the library that the application that you provided uses says that device doesn&#39;t support fingerprint"}, {"owner": {"reputation": 2469, "user_id": 9455518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uGUZ0.jpg?s=128&g=1", "display_name": "Hamed", "link": "https://stackoverflow.com/users/9455518/hamed"}, "reply_to_user": {"reputation": 5174, "user_id": 2358309, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6ca6af0c338582ec6f83b36fa9c48816?s=128&d=identicon&r=PG", "display_name": "antanas_sepikas", "link": "https://stackoverflow.com/users/2358309/antanas-sepikas"}, "edited": false, "score": 0, "creation_date": 1534948118, "post_id": 51961976, "comment_id": 90888604, "body": "I know some fingerprint sensors dose not support officially, for instance old Samsung cell phones do it by own API libraries. probably this phone did that so."}], "tags": [], "owner": {"reputation": 2469, "user_id": 9455518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uGUZ0.jpg?s=128&g=1", "display_name": "Hamed", "link": "https://stackoverflow.com/users/9455518/hamed"}, "is_accepted": false, "score": 0, "last_activity_date": 1582552816, "last_edit_date": 1582552816, "creation_date": 1534923618, "answer_id": 51961976, "question_id": 51961227, "link": "https://stackoverflow.com/questions/51961227/android-fingerprint-scanner-is-not-recognised/51961976#51961976", "title": "Android fingerprint scanner is not recognised", "body": "<p>This is a simple example of fingerprint authentication in Github, please check and see the result:</p>\n\n<p><a href=\"https://github.com/hamedrezaee/FingerprintAuthentication\" rel=\"nofollow noreferrer\">Fingerprint Authentication</a> </p>\n\n<p>you can also use this helper method for further usages:</p>\n\n<pre><code>public static boolean isFingerprintDefined(@NonNull Context context) {\n    return FingerprintManagerCompat.from(context).isHardwareDetected() &amp;&amp; FingerprintManagerCompat.from(context).hasEnrolledFingerprints();\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5174, "user_id": 2358309, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6ca6af0c338582ec6f83b36fa9c48816?s=128&d=identicon&r=PG", "display_name": "antanas_sepikas", "link": "https://stackoverflow.com/users/2358309/antanas-sepikas"}, "edited": false, "score": 0, "creation_date": 1534939748, "post_id": 51961997, "comment_id": 90882908, "body": "I tried, also I tested on similar device Samsung Galaxy S5 Android 6.0.1 version, which has the same issue. I tested sensor seems to work fine, and other apps seems to be working alright"}], "tags": [], "owner": {"reputation": 4863, "user_id": 3141231, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mCtac.png?s=128&g=1", "display_name": "Qasim", "link": "https://stackoverflow.com/users/3141231/qasim"}, "is_accepted": false, "score": 0, "last_activity_date": 1534923731, "creation_date": 1534923731, "answer_id": 51961997, "question_id": 51961227, "link": "https://stackoverflow.com/questions/51961227/android-fingerprint-scanner-is-not-recognised/51961997#51961997", "title": "Android fingerprint scanner is not recognised", "body": "<p>Seems more like a hardware issue, </p>\n\n<ul>\n<li>Try removing all fingerprints and adding new ones, if you got error while adding new fingerprints like <code>Hardware not ready</code> etc, it means something wrong with the hardware sensor.</li>\n<li>you can also try dialing *#808# on your device and go to finger print test . And do a finger print auto test, it will give you brief diagnostic report for your hardware sensor.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 4582, "user_id": 1294150, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/vyetp.jpg?s=128&g=1", "display_name": "Ponsuyambu Velladurai", "link": "https://stackoverflow.com/users/1294150/ponsuyambu-velladurai"}, "is_accepted": false, "score": 0, "last_activity_date": 1541687309, "creation_date": 1541687309, "answer_id": 53209787, "question_id": 51961227, "link": "https://stackoverflow.com/questions/51961227/android-fingerprint-scanner-is-not-recognised/53209787#53209787", "title": "Android fingerprint scanner is not recognised", "body": "<p>I remember long time ago, I faced the same problem. It was the issue with <code>FingerprintManagerCompat</code> class from support library. Try using the <code>FingerprintManager</code> class from platform or update to the latest version of support library.</p>\n"}], "owner": {"reputation": 5174, "user_id": 2358309, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/6ca6af0c338582ec6f83b36fa9c48816?s=128&d=identicon&r=PG", "display_name": "antanas_sepikas", "link": "https://stackoverflow.com/users/2358309/antanas-sepikas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 636, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1582552816, "creation_date": 1534920773, "last_edit_date": 1535088853, "question_id": 51961227, "link": "https://stackoverflow.com/questions/51961227/android-fingerprint-scanner-is-not-recognised", "title": "Android fingerprint scanner is not recognised", "body": "<p>I have a device which has a fingerprint sensor on a home button. Other applications seems to recognise and handle it properly however the application I am building is failing at couple of steps:</p>\n\n<p>I am using android.support.v4.hardware.fingerprint.FingerprintManagerCompat</p>\n\n<pre><code>// at this point isHardwareDetected returns false\nval fingerprintManager = FingerprintManagerCompat.from(context)\nif (!fingerprintManager.isHardwareDetected) {\n    return false\n}\n</code></pre>\n\n<p>If I skip hardware detection step it still fails at </p>\n\n<pre><code>// hasEnrolledFingerprints returns false even tough there \n// are couple of fingerprints registered\nif (!fingerprintManager.hasEnrolledFingerprints()) {\n    return false\n}\n</code></pre>\n\n<p>The device is UMI Plus E Android 6.0.1</p>\n\n<p>What can be wrong with it?</p>\n\n<p>Additionally here's my manifest regarding fingerprint:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.USE_FINGERPRINT\" /&gt;\n&lt;uses-feature android:name=\"android.hardware.fingerprint\" android:required=\"false\" /&gt;\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>I solved this issue by using reprint library: <a href=\"https://github.com/ajalt/reprint\" rel=\"nofollow noreferrer\">https://github.com/ajalt/reprint</a></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 538, "user_id": 8433430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VajL1.jpg?s=128&g=1", "display_name": "dorintufar", "link": "https://stackoverflow.com/users/8433430/dorintufar"}, "edited": false, "score": 3, "creation_date": 1534920852, "post_id": 51961220, "comment_id": 90872756, "body": "because you converting char to int and char &quot;1&quot; is equivalent to code 49"}, {"owner": {"reputation": 3924, "user_id": 6722100, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f1c741df6363ff4fe3e32eee854821c3?s=128&d=identicon&r=PG&f=1", "display_name": "achAmh&#225;in", "link": "https://stackoverflow.com/users/6722100/achamh%c3%a1in"}, "edited": false, "score": 1, "creation_date": 1534920871, "post_id": 51961220, "comment_id": 90872765, "body": "It&#39;s likely the ASCII value of 1"}], "answers": [{"tags": [], "owner": {"reputation": 4994, "user_id": 1718042, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/A0fvm.png?s=128&g=1", "display_name": "max", "link": "https://stackoverflow.com/users/1718042/max"}, "is_accepted": false, "score": 0, "last_activity_date": 1534921770, "creation_date": 1534921770, "answer_id": 51961478, "question_id": 51961220, "link": "https://stackoverflow.com/questions/51961220/what-happens-with-toint/51961478#51961478", "title": "What happens with toInt()", "body": "<p>a is String,<br>\nwhen you get a[index] return type is char,<br>\nin kotlin char.toInt method return ASCII code of the character and it's 49     </p>\n\n<p>if you want to get the integer value of \"1\" just use toString method     </p>\n\n<pre><code>val a =  \"1\"\nval b = a[0].toString()\nval c = b.toInt()       \nprintln(c)\n\nprints:1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1865, "user_id": 3703819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822bb82fae2070a74869ea657ee2759d?s=128&d=identicon&r=PG&f=1", "display_name": "dey", "link": "https://stackoverflow.com/users/3703819/dey"}, "is_accepted": false, "score": 0, "last_activity_date": 1534922356, "creation_date": 1534922356, "answer_id": 51961638, "question_id": 51961220, "link": "https://stackoverflow.com/questions/51961220/what-happens-with-toint/51961638#51961638", "title": "What happens with toInt()", "body": "<p>In your example <code>a</code> is a <code>String</code>, but <code>String</code>. <code>String</code> is under the hood an <code>Array of Char</code>. And by accessing your <code>String</code> using <code>a[0]</code> operator, you get first element of this Char Array. So you get Char <code>'1'</code>, not String <code>\"1\"</code>. And now, when you run <code>'1'.toInt()</code> function on <code>Char</code> - it will return ASCII code of that <code>Char</code>. When you run <code>\"1\".toInt()</code> on String - it will convert this String into Int \"1\". When you need to get Int value of first letter in your String, you need to convert it first into String:</p>\n\n<pre><code>val a = \"123\"\nval b = a[0].toString() // returns first Char of String \"123\" and converts to String\nval c = b.toInt()       // returns Int: 1\n</code></pre>\n\n<p>or in one line:</p>\n\n<pre><code>\"123\"[0].toString().toInt()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 2, "last_activity_date": 1534923394, "creation_date": 1534923394, "answer_id": 51961916, "question_id": 51961220, "link": "https://stackoverflow.com/questions/51961220/what-happens-with-toint/51961916#51961916", "title": "What happens with toInt()", "body": "<p><code>a</code> is a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html\" rel=\"nofollow noreferrer\"><code>String</code></a>, which is a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-char-sequence/index.html\" rel=\"nofollow noreferrer\"><code>CharSequence</code></a>. That is why you can access <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-char-sequence/get.html\" rel=\"nofollow noreferrer\"><code>a[0]</code></a> in the first place. <code>a.get(0)</code> or <code>a[0]</code> then returns a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-char/index.html\" rel=\"nofollow noreferrer\"><code>Char</code></a>. <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-char/index.html\" rel=\"nofollow noreferrer\"><code>Char</code></a> on the other hand returns its character value when calling <code>toInt()</code>, check also the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-char/to-int.html\" rel=\"nofollow noreferrer\">documentation of <code>toInt()</code></a>.</p>\n\n<p>So your code commented:</p>\n\n<pre><code>val a =  \"1\" // a is a String\nval b = a[0] // b is a Char\nval c = b.toInt() // c is (an Int representing) the character value of b\n</code></pre>\n\n<p>If you just want to return the number you rather need to parse it or use any of the answers you like the most of: <a href=\"https://stackoverflow.com/questions/47592167/how-do-i-convert-a-char-to-int\">How do I convert a Char to Int?</a>\n(one simple way being <code>b.toString().toInt()</code>).</p>\n"}], "owner": {"reputation": 3, "user_id": 10238966, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AndvP9JHbNk/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsJ6rzSW2I27E2baJLkZSWpZCQHw/mo/photo.jpg?sz=128", "display_name": "Hello GFP", "link": "https://stackoverflow.com/users/10238966/hello-gfp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 296, "favorite_count": 0, "accepted_answer_id": 51961916, "answer_count": 3, "score": 0, "last_activity_date": 1534923394, "creation_date": 1534920743, "last_edit_date": 1534920793, "question_id": 51961220, "link": "https://stackoverflow.com/questions/51961220/what-happens-with-toint", "title": "What happens with toInt()", "body": "<p>I currently start to learn Kotlin and I was making this code</p>\n\n<pre><code>val a =  \"1\"\nval b = a[0]\nval c = b.toInt()\nprintln(c)\n</code></pre>\n\n<p>When I run the code, the result is 49. What really happened? Because I think the result will be 1.</p>\n"}, {"tags": ["android", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 85180, "user_id": 493939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa881f5e177eb698ff51740270bf6f52?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/493939/user"}, "edited": false, "score": 0, "creation_date": 1534916510, "post_id": 51960104, "comment_id": 90871101, "body": "Use the field directly without calling get() on it, just <i>viewModel.textView_1</i> for example."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "reply_to_user": {"reputation": 2060, "user_id": 5380981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SGQhd.jpg?s=128&g=1", "display_name": "PRATEEK BHARDWAJ", "link": "https://stackoverflow.com/users/5380981/prateek-bhardwaj"}, "edited": false, "score": 0, "creation_date": 1535322487, "post_id": 51960104, "comment_id": 91011840, "body": "@PrateekBhardwaj: thanks for wanting to edit and improve questions here. However, please do not use quote blocks for the titles of code - they are not themselves quotes. Quotes have a special semantic meaning, which is that they were spoken or written elsewhere, e.g. a speech, a book, a manual, a website, etc."}], "answers": [{"comments": [{"owner": {"reputation": 45698, "user_id": 513413, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e0b73975f75df2f25f8b7cc8ce834f0c?s=128&d=identicon&r=PG", "display_name": "Hesam", "link": "https://stackoverflow.com/users/513413/hesam"}, "edited": false, "score": 1, "creation_date": 1534952639, "post_id": 51960470, "comment_id": 90891467, "body": "Thanks Shweta for your answer. I didn&#39;t know <code>safeUnbox</code> and even related warning&#39;s gone by using this method. However, I still don&#39;t see TextViews. I confirm I have those gradle lines. So, in this case, let me enable/disable Views in old way to see does it work or still not working. I&#39;ll update my question."}], "tags": [], "owner": {"reputation": 5408, "user_id": 6021469, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2Slrs.jpg?s=128&g=1", "display_name": "Shweta Chauhan", "link": "https://stackoverflow.com/users/6021469/shweta-chauhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1534919219, "last_edit_date": 1534919219, "creation_date": 1534916523, "answer_id": 51960470, "question_id": 51960104, "link": "https://stackoverflow.com/questions/51960104/how-to-set-visibility-of-android-compound-view-via-databinding-in-kotlin/51960470#51960470", "title": "How to set visibility of Android compound view via databinding in Kotlin?", "body": "<p>Check below is added or not in build.gradle(obviously you already added)</p>\n\n<pre><code>    apply plugin: 'kotlin-kapt'\n\n    android {\n        dataBinding {\n            enabled = true\n        }     \n    }\n    dependencies {\n       kapt \"com.android.databinding:compiler:3.1.3\"\n    }\n</code></pre>\n\n<p>And add below line in your xml file for visibility or invisible</p>\n\n<pre><code> &lt;TextView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"48dp\"\n        android:text=\"profile 1\"\n        android:visibility=\"@{safeUnbox(viewModel.textView_1) ? View.VISIBLE : View.INVISIBLE}\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 45698, "user_id": 513413, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/e0b73975f75df2f25f8b7cc8ce834f0c?s=128&d=identicon&r=PG", "display_name": "Hesam", "link": "https://stackoverflow.com/users/513413/hesam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 750, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535322508, "creation_date": 1534913839, "last_edit_date": 1535322508, "question_id": 51960104, "link": "https://stackoverflow.com/questions/51960104/how-to-set-visibility-of-android-compound-view-via-databinding-in-kotlin", "title": "How to set visibility of Android compound view via databinding in Kotlin?", "body": "<p>I have checked many answers to find my issue however I was not successful. I have an activity that holds a compound drawable.</p>\n\n<pre><code>&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;com.my.profile.widgets.ProfileWidget\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"/&gt;\n\n    ....\n    &lt;/LinearLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>This is my ProfileWidget:</p>\n\n<pre><code>  class ProfileWidget @JvmOverloads constructor(context: Context,\n                                                  attrs: AttributeSet? = null,\n                                                  defStyleAttr: Int = 0\n    ) : LinearLayout(context, attrs, defStyleAttr) {\n\n        @Inject lateinit var viewModel: ProfileWidgetViewData\n        @Inject lateinit var viewActions: ProfileWidgetActions\n\n        private val binding: WidgetProfileBinding = DataBindingUtil.inflate(\n                LayoutInflater.from(context), R.layout.widget_profile, this, true)\n    //    private val binding = WidgetProfileBinding.inflate(LayoutInflater.from(context), this, true)\n\n        override fun onAttachedToWindow() {\n            super.onAttachedToWindow()\n            setupDependencyInjection()\n            setupDataBinding()\n\n            viewActions.testUI()\n        }\n\n        private fun setupDependencyInjection() {\n            (context as ProfileActivity).getProfileComponent()?.inject(this)\n        }\n\n        private fun setupDataBinding() {\n            binding.viewModel = viewModel\n        }\n    }\n</code></pre>\n\n<p>This is its layout:</p>\n\n<pre><code> &lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n        &lt;data&gt;\n            &lt;import type=\"android.view.View\" /&gt;\n\n            &lt;variable\n                name=\"viewModel\"\n                type=\"com.my.profile.widgets.ProfileWidgetViewData\" /&gt;\n        &lt;/data&gt;\n\n        &lt;LinearLayout\n            android:id=\"@+id/profilesContainer\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"\n            android:background=\"#FF0000\"\n            &gt;\n\n            &lt;TextView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"48dp\"\n                android:text=\"profile 1\"\n                android:visibility=\"@{viewModel.textView_1.get() ? View.VISIBLE : View.INVISIBLE}\"/&gt;\n\n            &lt;TextView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"48dp\"\n                android:text=\"profile 2\"\n                android:visibility=\"@{viewModel.textView_2.get() ? View.VISIBLE : View.INVISIBLE}\"/&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/layout&gt;\n</code></pre>\n\n<p>Finally my ViewModel class supposed to make TextViews\n visible/invisible.</p>\n\n<pre><code> interface ProfileWidgetViewData {\n        val textView_1: ObservableBoolean\n        val textView_2: ObservableBoolean\n    }\n\n    interface ProfileWidgetActions {\n        fun testUI()\n    }\n\n    class ProfileWidgetViewModelImpl : ProfileWidgetViewData, ProfileWidgetActions {\n\n        override val textView_1 = ObservableBoolean(false)\n        override val textView_2 = ObservableBoolean(false)\n\n        override fun testUI() {\n            setProfilesContainerVisibility(true)\n            setAddProfileContainerVisibility(true)\n        }\n\n        private fun setProfilesContainerVisibility(isVisible: Boolean) {\n            textView_1.set(isVisible)\n        }\n\n        private fun setAddProfileContainerVisibility(isVisible: Boolean) {\n            textView_2.set(isVisible)\n        }\n    }\n</code></pre>\n\n<p>Unfortunately I don't see anything wrong in above codes. When I launch\nthe app, those two TextView are Invisible although I have set them to be visible.</p>\n"}, {"tags": ["kotlin", "gradle-kotlin-dsl", "kotlin-js"], "comments": [{"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 1, "creation_date": 1534915079, "post_id": 51959709, "comment_id": 90870660, "body": "No, there is not"}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1544528607, "post_id": 51959709, "comment_id": 94300325, "body": "It doesn&#39;t work since plugin for JS isn&#39;t published yet on Gradle Plugins Portal.  Feel free to vote for the issue <a href=\"https://youtrack.jetbrains.com/issue/KT-20156\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-20156</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "is_accepted": false, "score": 0, "last_activity_date": 1535155475, "creation_date": 1535155475, "answer_id": 52013003, "question_id": 51959709, "link": "https://stackoverflow.com/questions/51959709/gradle-kotlin-script-configuration-for-javascript/52013003#52013003", "title": "gradle kotlin script configuration for javascript", "body": "<p>So the answer is taken as \"not yet\"  - and no current plan for that to change either.   So stick with the id().</p>\n"}, {"tags": [], "owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "is_accepted": false, "score": 0, "last_activity_date": 1544531263, "creation_date": 1544531263, "answer_id": 53724241, "question_id": 51959709, "link": "https://stackoverflow.com/questions/51959709/gradle-kotlin-script-configuration-for-javascript/53724241#53724241", "title": "gradle kotlin script configuration for javascript", "body": "<p>It doesn't work since plugin for JS isn't published yet on Gradle Plugins Portal. Feel free to vote for <a href=\"https://youtrack.jetbrains.com/issue/KT-20156\" rel=\"nofollow noreferrer\">the issue</a>.</p>\n\n<p>As a workaround, you can add to your settings.gradle:</p>\n\n<pre><code>pluginManagement {\n    resolutionStrategy {\n        eachPlugin {\n            if (requested.id.id == \"kotlin2js\") {\n                useModule(\"org.jetbrains.kotlin:kotlin-gradle-plugin:${requested.version}\")\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>And then in your build.gradle.kts files you can write like</p>\n\n<pre><code>plugins {\n    id(\"kotlin2js\") version \"1.3.10\"\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(kotlin(\"stdlib-js\"))\n}\n</code></pre>\n"}], "owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1544531263, "creation_date": 1534910710, "question_id": 51959709, "link": "https://stackoverflow.com/questions/51959709/gradle-kotlin-script-configuration-for-javascript", "title": "gradle kotlin script configuration for javascript", "body": "<p>For jvm i can use:</p>\n\n<pre><code>plugins {\n    kotlin(\"jvm\") version \"1.2.60\"\n}\n</code></pre>\n\n<p>I have found no equivanent string for \"jvm\" for use with javascript and am using the following:</p>\n\n<pre><code>plugins {\n    id(\"kotlin2js\") version \"1.2.60\"\n}\n</code></pre>\n\n<p>So the questions. \nIs there an equivalent string to \"jvm\" to for javascript or some other more direct equivalent to the 'kotlin(\"jvm\")'?</p>\n"}, {"tags": ["java", "kotlin", "mockito", "guice", "apache-storm"], "answers": [{"comments": [{"owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1534974298, "post_id": 51959946, "comment_id": 90901577, "body": "I don&#39;t know how the function as interface approach would look like. Can you show me how it looks like in my example?"}, {"owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1534974347, "post_id": 51959946, "comment_id": 90901596, "body": "Also <code>MyController</code> has a few methods that I need to mock. So if I can only do it once, it may not meet my needs?"}, {"owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1534974635, "post_id": 51959946, "comment_id": 90901701, "body": "I&#39;ve read briefly the documentation for <code>mockK</code> and it looks real interesting. However, all the examples I saw in the doc were mocking the object directly, instead of mocking an indirect object that is derived from a guice injector."}], "tags": [], "owner": {"reputation": 999, "user_id": 9781957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33a1e0d914b68527a9f82e76c830e8c0?s=128&d=identicon&r=PG&f=1", "display_name": "DCTID", "link": "https://stackoverflow.com/users/9781957/dctid"}, "is_accepted": false, "score": 1, "last_activity_date": 1535076983, "last_edit_date": 1535076983, "creation_date": 1534912583, "answer_id": 51959946, "question_id": 51957364, "link": "https://stackoverflow.com/questions/51957364/kotlin-add-an-interface-to-guice-injected-dependencies-such-that-we-could-mock/51959946#51959946", "title": "Kotlin: add an interface to guice-injected dependencies such that we could mock them just for unit test purposes?", "body": "<p>Kotlin has a feature that allows you to implement a function as an interface. See <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#instantiating-a-function-type\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/lambdas.html#instantiating-a-function-type</a>. </p>\n\n<pre><code>class MyController : (Int) -&gt; String {\n    override fun invoke(in: Int) : String = \"Real Logic\"\n}\n</code></pre>\n\n<p>Then make a test double with the behavior you want in your tests</p>\n\n<pre><code>class StubMyController : (Int) -&gt; String {\n    override fun invoke(in: Int) : String = \"Test Logic\"\n}\n</code></pre>\n\n<p>Then inject the test double using your injector</p>\n\n<pre><code>bind(MyController::class.java).toInstance(StubMyController())\n</code></pre>\n\n<p>You can only do this once for a class. I have used this feature instead of extra interfaces or adding open to the class. It believe it very much encourages SOLID principles. There's a lot more to them, but having only one public method on a class certainly can help keep one focused on SOLID. </p>\n\n<p>I understand the desire to group related methods into a single class, but with Kotlin you can have the best of both. You can have very simple classes with one public method, but group these related classes into a single file. It is difficult to explain why this can help, but it can really make testing easier and more readable.</p>\n\n<p>You can also use mockk <a href=\"https://mockk.io/\" rel=\"nofollow noreferrer\">https://mockk.io/</a> to mock the dependencies directly. </p>\n"}], "owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1535076983, "creation_date": 1534889275, "last_edit_date": 1534891215, "question_id": 51957364, "link": "https://stackoverflow.com/questions/51957364/kotlin-add-an-interface-to-guice-injected-dependencies-such-that-we-could-mock", "title": "Kotlin: add an interface to guice-injected dependencies such that we could mock them just for unit test purposes?", "body": "<p>I have a storm topology that uses guice to inject various dependencies in the bolts. The dependencies are not constructer injected because of storm serialization/deserialization issues. We pass a guice <code>injector</code> object to the bolt constructor and use it in the bolt's <code>prepare</code> method to field inject the dependencies (non-ideal, I know, but don't know a better scenario for now).</p>\n\n<pre><code>class MyBolt(val injector: Injector) : AbstractRichBolt() {\n   @Inject\n   @Transient\n   private lateinit var myController: MyController\n   ...\n   override fun prepare(...) {\n       this.injector.injectMembers(this)\n   }\n   override fun execute(input: Tuple) {\n       // use myController in our logic here\n   }\n}\n</code></pre>\n\n<p>I'm writing unit tests for the bolt with a test guice module such that I can inject mock dependencies for things like database controllers, etc. To do that, I need to bind the controller class to a mocked class:</p>\n\n<pre><code>bind(MyController::class.java).toInstance(MockController())\n</code></pre>\n\n<p>However, to make this work, I have to make <code>MockController</code> inherit from the same interface/super class as <code>MyController</code>. What I am not sure about is if this is a good practice to add an interface to <code>MyController</code> just for unit testing.</p>\n"}, {"tags": ["android-studio", "kotlin", "android-spinner"], "comments": [{"owner": {"reputation": 86, "user_id": 9329155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1c2d38409773d457e790b62da83cec9?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin M.", "link": "https://stackoverflow.com/users/9329155/kevin-m"}, "edited": false, "score": 0, "creation_date": 1534889426, "post_id": 51957103, "comment_id": 90865250, "body": "<a href=\"https://stackoverflow.com/questions/10127396/save-values-before-close-the-app\" title=\"save values before close the app\">stackoverflow.com/questions/10127396/&hellip;</a>"}, {"owner": {"reputation": 78, "user_id": 9882708, "user_type": "registered", "profile_image": "https://graph.facebook.com/1041793205978050/picture?type=large", "display_name": "Abdulrhman Alanazi", "link": "https://stackoverflow.com/users/9882708/abdulrhman-alanazi"}, "reply_to_user": {"reputation": 86, "user_id": 9329155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1c2d38409773d457e790b62da83cec9?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin M.", "link": "https://stackoverflow.com/users/9329155/kevin-m"}, "edited": false, "score": 0, "creation_date": 1534891339, "post_id": 51957103, "comment_id": 90865724, "body": "I am a new learner of Kotlin and I don&#39;t know anything about java"}, {"owner": {"reputation": 2275, "user_id": 1972843, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/874ed4c4111d7048aad97ce21ee01a36?s=128&d=identicon&r=PG", "display_name": "Pinkie Swirl", "link": "https://stackoverflow.com/users/1972843/pinkie-swirl"}, "edited": false, "score": 0, "creation_date": 1534893664, "post_id": 51957103, "comment_id": 90866282, "body": "The IDE has a java to kotlin code converter. So you can convert the code and check the answer."}, {"owner": {"reputation": 78, "user_id": 9882708, "user_type": "registered", "profile_image": "https://graph.facebook.com/1041793205978050/picture?type=large", "display_name": "Abdulrhman Alanazi", "link": "https://stackoverflow.com/users/9882708/abdulrhman-alanazi"}, "edited": false, "score": 0, "creation_date": 1534900252, "post_id": 51957103, "comment_id": 90867596, "body": "I tried them and none of them works"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1534942229, "post_id": 51957103, "comment_id": 90884539, "body": "use a <code>Preference</code> for that; this certainly works and is suitable for settings."}], "answers": [{"tags": [], "owner": {"reputation": 4149, "user_id": 5715935, "user_type": "registered", "profile_image": "https://graph.facebook.com/1659768280958223/picture?type=large", "display_name": "Jay Mungara", "link": "https://stackoverflow.com/users/5715935/jay-mungara"}, "is_accepted": true, "score": 1, "last_activity_date": 1534921713, "creation_date": 1534921713, "answer_id": 51961458, "question_id": 51957103, "link": "https://stackoverflow.com/questions/51957103/save-the-value-of-the-array-list-to-a-spinner/51961458#51961458", "title": "save the value of the array list to a spinner", "body": "<p>just write the following code in your mainActivity,</p>\n\n<pre><code>        val preferences = applicationContext.getSharedPreferences(\"MyPrefs\", Context.MODE_PRIVATE)\n        val prefEditor = preferences.edit()\n\n        val fonts = arrayOf(\"Data1\", \"Data2\", \"Data3\", \"Data4\")\n        var adapterCountry = ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, fonts)\n\n        val spinner = findViewById&lt;Spinner&gt;(R.id.spinner)\n        spinner.adapter = adapterCountry;\n        spinner.setSelection(preferences.getInt(\"position\", 0))\n\n        spinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n            override fun onItemSelected(parent: AdapterView&lt;*&gt;, view: View, position: Int, id: Long) {\n                spinner.setSelection(position)\n                prefEditor.putInt(\"position\", position)\n                prefEditor.apply()\n            }\n\n            override fun onNothingSelected(parent: AdapterView&lt;*&gt;) {\n            }\n        }\n</code></pre>\n\n<p>this will do your work. I hope this is helpful for you.</p>\n"}], "owner": {"reputation": 78, "user_id": 9882708, "user_type": "registered", "profile_image": "https://graph.facebook.com/1041793205978050/picture?type=large", "display_name": "Abdulrhman Alanazi", "link": "https://stackoverflow.com/users/9882708/abdulrhman-alanazi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 1, "closed_date": 1534942107, "accepted_answer_id": 51961458, "answer_count": 1, "score": -1, "last_activity_date": 1535067342, "creation_date": 1534887846, "last_edit_date": 1535067342, "question_id": 51957103, "link": "https://stackoverflow.com/questions/51957103/save-the-value-of-the-array-list-to-a-spinner", "closed_reason": "Not suitable for this site", "title": "save the value of the array list to a spinner", "body": "<p>I have a spinner in my app and I want to save the state of the array list to so if the user chooses an option and closed the app, I want the spinner to save it value if the user reopen my app.</p>\n\n<p>My Main Activity:</p>\n\n<pre><code>        t1.typeface = Typeface.createFromAsset(assets, \"andlso.ttf\")\n        val fonts = arrayOf(\"\u0627\u0644\u062e\u0637 \u0627\u0644\u062f\u064a\u0648\u0627\u0646\u064a\", \"\u0627\u0644\u062e\u0637 \u0627\u0644\u0623\u0646\u062f\u0644\u0633\u064a\")\n\n        spinner.adapter = ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, fonts)\n        spinner.onItemSelectedListener = object :AdapterView.OnItemSelectedListener {\n\n\n            override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n\n                val SelectedItem = parent!!.getItemAtPosition(position).toString()\n\n                val sharedPreferences = getSharedPreferences(\"savefile\", Context.MODE_PRIVATE)\n                val editor = sharedPreferences.edit()\n                editor.putString(\"savefile\", fonts.toString())\n                editor.apply()\n\n                if (SelectedItem == \"\u0627\u0644\u062e\u0637 \u0627\u0644\u062f\u064a\u0648\u0627\u0646\u064a\"){\n                        t.typeface = Typeface.createFromAsset(assets, \"andlso.ttf\")\n                }else if (SelectedItem == \"\u0627\u0644\u062e\u0637 \u0627\u0644\u0623\u0646\u062f\u0644\u0633\u064a\"){\n                        t.typeface = Typeface.createFromAsset(assets, \"frsspbl.TTF\") \n                }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java"], "answers": [{"comments": [{"owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "edited": false, "score": 0, "creation_date": 1534942484, "post_id": 51957665, "comment_id": 90884719, "body": "What&#39;s autoConnect(0) mean? The observable is always connected?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "edited": false, "score": 1, "creation_date": 1534953806, "post_id": 51957665, "comment_id": 90892191, "body": "Even if there are no subscribers, Observable retains last value, instead of being disposed."}, {"owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "edited": false, "score": 0, "creation_date": 1534957720, "post_id": 51957665, "comment_id": 90894363, "body": "This was exactly what I was looking for but didn&#39;t think possible in RxJava. Thanks a lot"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "edited": false, "score": 0, "creation_date": 1534959744, "post_id": 51957665, "comment_id": 90895268, "body": "When I found out this is possible. I think of this as the holy grail of RxJava"}, {"owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "edited": false, "score": 0, "creation_date": 1534963488, "post_id": 51957665, "comment_id": 90896933, "body": "How about when user logs out and I do want it to be disposed, what should I do?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "edited": false, "score": 0, "creation_date": 1534973114, "post_id": 51957665, "comment_id": 90901119, "body": "Uh. Probably just call <code>dispose()</code> on it and then let it die, and re-create it when there is an active user again. If the app is singleton, then the unfortunate way to model it would be to make this thing nullable. Basically, to dispose it, call <code>dispose()</code> on it, but then it won&#39;t work again and needs to be recreated."}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 2, "last_activity_date": 1534891442, "creation_date": 1534891442, "answer_id": 51957665, "question_id": 51957051, "link": "https://stackoverflow.com/questions/51957051/rxjava-how-to-cache-static-observable/51957665#51957665", "title": "RxJava how to cache static observable", "body": "<p>Have you tried:</p>\n\n<pre><code>val currentUser: Observable&lt;User&gt; = Observable.create { emitter -&gt;\n    ...\n}.replay(1)\n .autoConnect(0)\n</code></pre>\n\n<p>?</p>\n"}, {"tags": [], "owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "is_accepted": false, "score": 1, "last_activity_date": 1534942649, "creation_date": 1534942649, "answer_id": 51967437, "question_id": 51957051, "link": "https://stackoverflow.com/questions/51957051/rxjava-how-to-cache-static-observable/51967437#51967437", "title": "RxJava how to cache static observable", "body": "<p>Thanks to EpicPandaForce, this is what I ended up using. I had to specify the emitter type otherwise there's error</p>\n\n<pre><code>val currentUser: Observable&lt;User&gt; = Observable.create { emitter: ObservableEmitter&lt;User&gt; -&gt;\n    ...\n}.replay(1)\n .autoConnect(0)\n</code></pre>\n"}], "owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 201, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1534942649, "creation_date": 1534887599, "question_id": 51957051, "link": "https://stackoverflow.com/questions/51957051/rxjava-how-to-cache-static-observable", "title": "RxJava how to cache static observable", "body": "<p>I want to cache the following observable</p>\n\n<pre><code>val currentUser: Observable&lt;User&gt;\n    get() = Observable.create { emitter -&gt;\n            ...\n    }\n</code></pre>\n\n<p>Since the observable returned by <code>create</code> is static, I can't just call <code>cache</code> on it. The reason I am doing this is that the observable is accessed in different parts of the app, and I want it to immediately return the latest value, instead of making network calls every time.</p>\n"}, {"tags": ["inheritance", "kotlin", "kotlin-interop"], "answers": [{"tags": [], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "is_accepted": true, "score": 0, "last_activity_date": 1534939968, "creation_date": 1534939968, "answer_id": 51966621, "question_id": 51956789, "link": "https://stackoverflow.com/questions/51956789/how-to-define-class-in-kotlin-with-member-can-be-accessed-in-java-derived-class/51966621#51966621", "title": "how to define class in kotlin with member can be accessed in java derived class", "body": "<p>It must be the IDE issue, no matter what else (sync, clean, rebuild) tried it only works after delete the project and re clone to get a fresh code base and adding those code back.</p>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 51966621, "answer_count": 1, "score": 0, "last_activity_date": 1535023121, "creation_date": 1534886030, "last_edit_date": 1535023121, "question_id": 51956789, "link": "https://stackoverflow.com/questions/51956789/how-to-define-class-in-kotlin-with-member-can-be-accessed-in-java-derived-class", "title": "how to define class in kotlin with member can be accessed in java derived class", "body": "<p>Having a class defined in kotlin, with members</p>\n\n<pre><code>@JvmField protected val clickHandler: BaseClickHandler\n@JvmField protected var layoutId : Int\n</code></pre>\n\n<p>but when in java trying to extends this class and access the member it gets error.</p>\n\n<pre><code>interface ViewDelegate {\n\n    fun onCreateViewHolder(parent: ViewGroup): RecyclerView.ViewHolder\n    fun onBindViewHolder(holder: RecyclerView.ViewHolder, item: Data, position: Int)\n}\n\n\nopen class ViewDelegateImp(@JvmField protected val clickHandler: BaseClickHandler) : ViewDelegate {\n\n    @JvmField protected var layoutId = R.layout.default\n\n    override fun onCreateViewHolder(parent: ViewGroup): RecyclerView.ViewHolder {\n        return ItemViewHolder(parent.inflate(layoutId, false), clickHandler)\n    }\n\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, item: Data, position: Int) {\n        (holder as? ItemViewHolder)?.bindView(item, position)\n    }\n}\n\n//extension:\nfun ViewGroup.inflate(layoutId: Int, attachToRoot: Boolean = false): View {\n    return LayoutInflater.from(context).inflate(layoutId, this, attachToRoot)\n}\n</code></pre>\n\n<p>in java want to derive from ViewDelegateImp, and override the var layoutId and the use the protected val clickHandler</p>\n\n<pre><code>class DerivedDelegateImp extends ViewDelegateImp {\n\n    public DerivedDelegateImp(BaseClickHandler clickHandler) {\n        super(clickHandler);\n        layoutId = R.layout.derived;  // want to use different layout, but get error \"cannot resolve layoutId\"\n    }\n\n    @Override\n    public void onBindViewHolder(RecyclerView.ViewHolder holder, Data item, int position) {\n        super.onBindViewHolder(holder, item, position);\n    }\n\n    @NotNull\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(ViewGroup parent) {\n\n        View vw = LayoutInflater.from(parent.getContext()).inflate(layoutId, parent, false);\n\n        return new StoryItemViewHolder(vw, clickHandler); // here got error clickHandler has private access in ViewDelegateImp \n\n        //return super.onCreateViewHolder(parent);  //&lt;== this is fine\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 280, "user_id": 5116698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/14d7f903ce27954f8fdf75ad544598a0?s=128&d=identicon&r=PG", "display_name": "Ioannis I", "link": "https://stackoverflow.com/users/5116698/ioannis-i"}, "edited": false, "score": 0, "creation_date": 1534967322, "post_id": 51971066, "comment_id": 90898677, "body": "Ok so if I understood correctly what you mean, whatever is in the doAsync runs sequentially. So first the file will be downloaded. After it is downloaded the file will be parsed and finally the database will be called to be shown on screen. Well this now makes much more sense :). Thank you"}], "tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": true, "score": 5, "last_activity_date": 1534954435, "creation_date": 1534954435, "answer_id": 51971066, "question_id": 51956326, "link": "https://stackoverflow.com/questions/51956326/anko-doasyncresult-coroutines/51971066#51971066", "title": "Anko doAsyncResult coroutines", "body": "<p>Doing this:</p>\n\n<pre><code>doAsync {\n   // 1. Something\n   uiThread {\n      // 2. Nothing\n      doAsync {\n</code></pre>\n\n<p>Indeed doesn't make much sense, unless (2) is not nothing, and you just omitted some code.<br>\nIf you didn't, you can just stay with this version:</p>\n\n<pre><code>doAsync {\n   downloadFileFromUrl(fileUrl)\n   IOUtils.parseFile(context!!)\n   val database = AppDatabase.getInstance(context!!)\n   val results = database.resultsDao().all\n\n   uiThread {\n      //show Results\n   }\n}\n</code></pre>\n\n<p>Since <code>parseFile()</code> depends on <code>downloadFileFromUrl()</code> anyway, and everything runs in a coroutine, you don't become more concurrent by adding this back-and-forth.</p>\n"}], "owner": {"reputation": 280, "user_id": 5116698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/14d7f903ce27954f8fdf75ad544598a0?s=128&d=identicon&r=PG", "display_name": "Ioannis I", "link": "https://stackoverflow.com/users/5116698/ioannis-i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1288, "favorite_count": 0, "accepted_answer_id": 51971066, "answer_count": 1, "score": 5, "last_activity_date": 1534954435, "creation_date": 1534883635, "question_id": 51956326, "link": "https://stackoverflow.com/questions/51956326/anko-doasyncresult-coroutines", "title": "Anko doAsyncResult coroutines", "body": "<p>I am new to anko and coroutines so excuse me if I am asking something trivial :)</p>\n\n<p>So what I am trying to do is have the user click a button and then I want to download a JSON from the internet, store it locally and parse it. Since both operations can take considerable time I thought to use anko coroutines.</p>\n\n<p>So first question is:</p>\n\n<p><strong>1. Can I use nested doAsync calls, calling the 2nd doAsync in the UIThread of the first one? \nI tried it and it seems to work but it feels wrong so I was trying to find a more elegant way</strong></p>\n\n<p>Example:</p>\n\n<pre><code>doAsync {\n            downloadFileFromUrl(fileUrl)\n\n            uiThread {\n                doAsync {\n                    IOUtils.parseFile(context!!)\n                    val database = AppDatabase.getInstance(context!!)\n                    val results = database.resultsDao().all\n\n                    uiThread {\n                        //show Results\n                    }\n                }\n            }\n        }\n</code></pre>\n\n<p><strong>2. While searching a solution for my problem I found doAsyncResult. If 1 it's not correct, is this is the correct approach? I tried already to use it but with Boolean I get errors. See below:</strong></p>\n\n<pre><code>    private fun downloadFileFromUrl(fileUrl: String): Boolean {\n\n        try{\n        //Download file. No doAsync calls here.\n        //The procedure just returns true if successful or false in case of any errors\n\n            return true\n        } catch (e: Exception) {\n            Log.e(\"Error: \", e.message)\n            return false\n        }\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        parseButton.setOnClickListener {\n            try {\n                val downloadFileResult: (AnkoAsyncContext&lt;Boolean&gt;.() -&gt; Boolean) = {\n                    ::downloadFileFromUrl.invoke(fileUrl)\n                }\n\n                val downloadFileResultFutureValue: Future&lt;Boolean&gt; = doAsyncResult(null, downloadFileResult)\n\n                //Continue processing if downloadFileResultFutureValue is true\n            } catch (e: IOException) {\n                e.printStackTrace()\n            }\n        }\n    }\n</code></pre>\n\n<p>This line </p>\n\n<pre><code>val downloadFileResultFutureValue: Future&lt;Boolean&gt; = doAsyncResult(null, downloadFileResult)\n</code></pre>\n\n<p>does not compile with the following error which I don't understand how to fix:</p>\n\n<pre><code>Type inference failed: Cannot infer type parameter T in \n\nfun &lt;T, R&gt; T.doAsyncResult\n(\nexceptionHandler: ((Throwable) \u2192 Unit)? = ...,\ntask: AnkoAsyncContext&lt;T&gt;.() \u2192 R\n)\n: Future&lt;R&gt;\nNone of the following substitutions\n\nreceiver: Boolean\narguments:\n(\n((Throwable) \u2192 Unit)?,\nAnkoAsyncContext&lt;Boolean&gt;.() \u2192 Boolean\n)\n\nreceiver: BlankFragment\narguments:\n(\n((Throwable) \u2192 Unit)?,\nAnkoAsyncContext&lt;BlankFragment&gt;.() \u2192 Boolean\n)\ncan be applied to\n\nreceiver: BlankFragment\narguments:\n(\nNothing?,\nAnkoAsyncContext&lt;Boolean&gt;.() \u2192 Boolean\n)\n</code></pre>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["android", "unicode", "kotlin"], "comments": [{"owner": {"reputation": 7280, "user_id": 67808, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/82f739e9ff8a37a0ea13a2b4389c8257?s=128&d=identicon&r=PG", "display_name": "Dmitry Brant", "link": "https://stackoverflow.com/users/67808/dmitry-brant"}, "edited": false, "score": 0, "creation_date": 1534880979, "post_id": 51955622, "comment_id": 90861981, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/16335178/different-font-size-of-strings-in-the-same-textview\">Different font size of strings in the same TextView</a>"}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 10084714, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-W4lLLvYiBHE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7q8JPDsVIl3z05akDsbK7y_bbNi0w/mo/photo.jpg?sz=128", "display_name": "Earl Whitney", "link": "https://stackoverflow.com/users/10084714/earl-whitney"}, "edited": false, "score": 0, "creation_date": 1534884168, "post_id": 51955848, "comment_id": 90863435, "body": "Thank you for your insight!"}, {"owner": {"reputation": 103, "user_id": 10084714, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-W4lLLvYiBHE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7q8JPDsVIl3z05akDsbK7y_bbNi0w/mo/photo.jpg?sz=128", "display_name": "Earl Whitney", "link": "https://stackoverflow.com/users/10084714/earl-whitney"}, "edited": false, "score": 0, "creation_date": 1534903656, "post_id": 51955848, "comment_id": 90868256, "body": "@Killian  What you suggested worked great.  i show the code that worked for me below.  Thanks for the help!"}], "tags": [], "owner": {"reputation": 66, "user_id": 2993579, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wz1Mt.jpg?s=128&g=1", "display_name": "Kilian", "link": "https://stackoverflow.com/users/2993579/kilian"}, "is_accepted": false, "score": 4, "last_activity_date": 1534881804, "last_edit_date": 1534881804, "creation_date": 1534881451, "answer_id": 51955848, "question_id": 51955622, "link": "https://stackoverflow.com/questions/51955622/want-to-increase-the-size-of-unicode-surrogate-pair-symbol-e-g-the-mathematic/51955848#51955848", "title": "Want to increase the size of unicode surrogate pair symbol, e.g., the mathematical i symbol, within a string", "body": "<p>You can use a <a href=\"https://developer.android.com/reference/android/text/SpannableString\" rel=\"nofollow noreferrer\">SpannableString</a> with a <a href=\"https://developer.android.com/reference/android/text/style/RelativeSizeSpan\" rel=\"nofollow noreferrer\">RelativeSizeSpan</a> to resize just the infinity symbol.</p>\n\n<p>For example we can resize the &amp; symbol like this:</p>\n\n<pre><code>var styledString = SpannableString(\"Hello &amp; welcome\")\n// 6 and 7 are the start and end index of the &amp; sign\nstyledString.setSpan(new RelativeSizeSpan(2f), 6, 7, 0)\ntextView.setText(styledString)\n</code></pre>\n\n<p>I found <a href=\"http://androidcocktail.blogspot.com/2014/03/android-spannablestring-example.html\" rel=\"nofollow noreferrer\">this</a> to be a good resource that helped me understand Spannable Strings.</p>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 10084714, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-W4lLLvYiBHE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7q8JPDsVIl3z05akDsbK7y_bbNi0w/mo/photo.jpg?sz=128", "display_name": "Earl Whitney", "link": "https://stackoverflow.com/users/10084714/earl-whitney"}, "is_accepted": false, "score": 1, "last_activity_date": 1534903420, "last_edit_date": 1534903420, "creation_date": 1534902554, "answer_id": 51958849, "question_id": 51955622, "link": "https://stackoverflow.com/questions/51955622/want-to-increase-the-size-of-unicode-surrogate-pair-symbol-e-g-the-mathematic/51958849#51958849", "title": "Want to increase the size of unicode surrogate pair symbol, e.g., the mathematical i symbol, within a string", "body": "<p>I needed to enlarge the mathematical script i in various locations in a string, i.e., not always at the same position in the string.  So, here's the code that worked:</p>\n\n<pre><code>    numerator = \"Surrogate pair test: \"\n    var len: Int = numerator.length\n    val iScript: String = \"\\uD835\\uDCBE\"\n    numerator = numerator + iScript + iScript + \" End of test.\"\n    var styledString = SpannableString(numerator)\n    var sizeI: Float = 4.0f\n    styledString.setSpan(RelativeSizeSpan(sizeI), len, len+2, 0)\n    txtV_Numerator3.setText(styledString)\n</code></pre>\n\n<p>Notice that I put two surrogate pairs in succession in the String \"numerator\" for purposes of the test.  I needed \"len+2\" in the setSpan construct in order to print the first surrogate pair 4 times normal size.  Not surprisingly, using \"len+4\" in the setSpan construct printed both surrogate pairs 4 times normal size.  Using \"len+1\" or \"len+3\" provided ugly results with large question marks.</p>\n\n<p>I also noticed that changing the size (i.e.largeness) of the surrogate pair changed the vertical spacing in my user interface.  That is, the change in size also changed the vertical spacing between the textView widgets of my activity.  Accounting for that will require additional programming.</p>\n\n<p>Conclusion: You can use the above answer to generate a different size surrogate pair as long as you allow for each surrogate pair to be 2 characters in length, and as long as you don't mind changing the vertical spacing in your user interface.</p>\n"}], "owner": {"reputation": 103, "user_id": 10084714, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-W4lLLvYiBHE/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7q8JPDsVIl3z05akDsbK7y_bbNi0w/mo/photo.jpg?sz=128", "display_name": "Earl Whitney", "link": "https://stackoverflow.com/users/10084714/earl-whitney"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1534903420, "creation_date": 1534880450, "last_edit_date": 1534898200, "question_id": 51955622, "link": "https://stackoverflow.com/questions/51955622/want-to-increase-the-size-of-unicode-surrogate-pair-symbol-e-g-the-mathematic", "title": "Want to increase the size of unicode surrogate pair symbol, e.g., the mathematical i symbol, within a string", "body": "<p>I am programming in Kotlin in Android Studio 3.1.4. I have strings that contain the mathematical i symbol. I want to increase the size of the symbol only, not the rest of the text in the string. The mathematical i requires a unicode surrogate pair, which I just recently learned how to display. I fear that this makes things a little more complicated than just having two separate fonts in a single string. The entire string is displayed in a viewText widget.  </p>\n\n<p>Note: I am experimenting using a SpannableString with a RelativeSizeSpan as suggested in the answer below.  I hope to learn how this applies to unicode surrogate pairs.  Thank you.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-bottom-nav-view", "android-architecture-navigation"], "answers": [{"tags": [], "owner": {"reputation": 2556, "user_id": 5955784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c12dc4e9a11dbe06a656c4329fb68081?s=128&d=identicon&r=PG&f=1", "display_name": "Ankit Patidar", "link": "https://stackoverflow.com/users/5955784/ankit-patidar"}, "is_accepted": true, "score": 3, "last_activity_date": 1534939051, "last_edit_date": 1534939051, "creation_date": 1534909809, "answer_id": 51959609, "question_id": 51955357, "link": "https://stackoverflow.com/questions/51955357/hide-android-bottom-navigation-view-for-child-screens-fragments/51959609#51959609", "title": "Hide android bottom navigation view for child screens/ fragments", "body": "<p>You have to make a method in MainActivity for visibility. Do call that method from fragments where you want to show or hide. </p>\n\n<p>One thing I faced with such scenario is, bottom navigation visibility is not being properly gone. So I put bottom navigation view in Relative layout and hide that parent view.</p>\n"}, {"comments": [{"owner": {"reputation": 280, "user_id": 955198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b3fb84c56c64f29af7f748af0651d0c?s=128&d=identicon&r=PG", "display_name": "IainCunningham", "link": "https://stackoverflow.com/users/955198/iaincunningham"}, "edited": false, "score": 1, "creation_date": 1551621605, "post_id": 52079726, "comment_id": 96698801, "body": "Is using <code>addOnNavigatedListener</code> still possible?  I get an unresolved reference when trying to use it?"}, {"owner": {"reputation": 997, "user_id": 2735557, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/07ad4a41f841b9e425f4c4727702aa49?s=128&d=identicon&r=PG", "display_name": "Kalyan Dechiraju", "link": "https://stackoverflow.com/users/2735557/kalyan-dechiraju"}, "edited": false, "score": 2, "creation_date": 1552933107, "post_id": 52079726, "comment_id": 97190015, "body": "<code>addOnNavigatedListener</code>  is changed to <code>addOnDestinationChangedListener</code>"}, {"owner": {"reputation": 1499, "user_id": 1469472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vD3Ty.jpg?s=128&g=1", "display_name": "A1m", "link": "https://stackoverflow.com/users/1469472/a1m"}, "edited": false, "score": 0, "creation_date": 1585209764, "post_id": 52079726, "comment_id": 107682709, "body": "Where is <code>EXIT_DURATION</code> and <code>ENTER_DURATION</code> defined?"}, {"owner": {"reputation": 1434, "user_id": 5569272, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6P6D29MaQ3k/AAAAAAAAAAI/AAAAAAAABWU/NUdfvvfIUJ0/photo.jpg?sz=128", "display_name": "artnest", "link": "https://stackoverflow.com/users/5569272/artnest"}, "reply_to_user": {"reputation": 1499, "user_id": 1469472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vD3Ty.jpg?s=128&g=1", "display_name": "A1m", "link": "https://stackoverflow.com/users/1469472/a1m"}, "edited": false, "score": 0, "creation_date": 1585253000, "post_id": 52079726, "comment_id": 107703344, "body": "@A1m you can define them wherever you want, these are just constants in milliseconds."}, {"owner": {"reputation": 1499, "user_id": 1469472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vD3Ty.jpg?s=128&g=1", "display_name": "A1m", "link": "https://stackoverflow.com/users/1469472/a1m"}, "edited": false, "score": 0, "creation_date": 1585274568, "post_id": 52079726, "comment_id": 107709602, "body": "But how can I get them matching, such that the BottomNavigation does always align with the Fragments. Without this sometimes you can see a delay where the Fragment appears but the Bar appears later or the other way around."}, {"owner": {"reputation": 1434, "user_id": 5569272, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6P6D29MaQ3k/AAAAAAAAAAI/AAAAAAAABWU/NUdfvvfIUJ0/photo.jpg?sz=128", "display_name": "artnest", "link": "https://stackoverflow.com/users/5569272/artnest"}, "reply_to_user": {"reputation": 1499, "user_id": 1469472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vD3Ty.jpg?s=128&g=1", "display_name": "A1m", "link": "https://stackoverflow.com/users/1469472/a1m"}, "edited": false, "score": 1, "creation_date": 1585288934, "post_id": 52079726, "comment_id": 107712345, "body": "@A1m yeah, this solution does has such problem, but it was written before FragmentLifecycleCallbacks was there. I recommend you trying out Hicham&#39;s solution for better animation choreographing."}], "tags": [], "owner": {"reputation": 1434, "user_id": 5569272, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6P6D29MaQ3k/AAAAAAAAAAI/AAAAAAAABWU/NUdfvvfIUJ0/photo.jpg?sz=128", "display_name": "artnest", "link": "https://stackoverflow.com/users/5569272/artnest"}, "is_accepted": false, "score": 33, "last_activity_date": 1552983947, "last_edit_date": 1552983947, "creation_date": 1535552381, "answer_id": 52079726, "question_id": 51955357, "link": "https://stackoverflow.com/questions/51955357/hide-android-bottom-navigation-view-for-child-screens-fragments/52079726#52079726", "title": "Hide android bottom navigation view for child screens/ fragments", "body": "<p><strong>Update (Navigation component 1.0)</strong></p>\n\n<p>As of <a href=\"https://developer.android.com/jetpack/androidx/releases/navigation#1.0.0-alpha08\" rel=\"noreferrer\">Navigation component 1.0.0-alpha08</a>, method <code>addOnNavigatedListener(controller: NavController, destination: NavDestination)</code> was changed to <code>addOnDestinationChangedListener(controller: NavController, destination: NavDestination, arguments: Bundle)</code>. Its behavior was also slightly changed (it is also called if the destinations arguments change).</p>\n\n<p><strong>Old Answer</strong></p>\n\n<p>You can use NavController.OnNavigatedListener to achieve this behavior (set it in Activity onCreate):</p>\n\n<pre><code>findNavController(R.id.container).addOnNavigatedListener { _, destination -&gt;\n    when (destination.id) {\n        R.id.dashboardFragment -&gt; showBottomNavigation()\n        else -&gt; hideBottomNavigation()\n    }\n}\n\nprivate fun hideBottomNavigation() {\n    // bottom_navigation is BottomNavigationView\n    with(bottom_navigation) {\n        if (visibility == View.VISIBLE &amp;&amp; alpha == 1f) {\n            animate()\n                    .alpha(0f)\n                    .withEndAction { visibility = View.GONE }\n                    .duration = EXIT_DURATION\n        }\n    }\n}\n\nprivate fun showBottomNavigation() {\n    // bottom_navigation is BottomNavigationView\n    with(bottom_navigation) {\n        visibility = View.VISIBLE\n        animate()\n                .alpha(1f)\n                .duration = ENTER_DURATION\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 116, "user_id": 8768147, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Jl9p8_1C6pU/AAAAAAAAAAI/AAAAAAAAABY/9cITTuGaqhw/photo.jpg?sz=128", "display_name": "Amina Bekir", "link": "https://stackoverflow.com/users/8768147/amina-bekir"}, "is_accepted": false, "score": 3, "last_activity_date": 1570395393, "creation_date": 1570395393, "answer_id": 58261165, "question_id": 51955357, "link": "https://stackoverflow.com/questions/51955357/hide-android-bottom-navigation-view-for-child-screens-fragments/58261165#58261165", "title": "Hide android bottom navigation view for child screens/ fragments", "body": "<p>you just need to write this code in <code>MainActivity</code></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private lateinit var navController: NavController\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n\n        //Getting the Navigation Controller\n        navController = Navigation.findNavController(this, R.id.fragment)\n\n        //Setting the navigation controller to Bottom Nav\n        bottomNav.setupWithNavController(navController)\n\n\n        //Setting up the action bar\n        NavigationUI.setupActionBarWithNavController(this, navController)\n\n        //setting the Bottom navigation visibiliy\n        navController.addOnDestinationChangedListener { _, destination, _ -&gt;\n\n           if(destination.id == R.id.full_screen_destination ){\n               bottomNav.visibility = View.GONE\n           }else{\n               bottomNav.visibility = View.VISIBLE\n           }\n\n\n        }\n\n    }\n</code></pre>\n\n<p>get more details from  the android developer documentation:\n<a href=\"https://developer.android.com/guide/navigation/navigation-ui\" rel=\"nofollow noreferrer\">Update UI components with NavigationUI</a> </p>\n"}, {"comments": [{"owner": {"reputation": 1293, "user_id": 12423905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80c2e6034770729b699cd274a1738ff?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/12423905/andrew"}, "edited": false, "score": 0, "creation_date": 1598887220, "post_id": 60838035, "comment_id": 112595897, "body": "How to use this with navigation component?"}, {"owner": {"reputation": 516, "user_id": 5494024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/701327383bf685816667b95a35f71eac?s=128&d=identicon&r=PG&f=1", "display_name": "Hicham", "link": "https://stackoverflow.com/users/5494024/hicham"}, "reply_to_user": {"reputation": 1293, "user_id": 12423905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80c2e6034770729b699cd274a1738ff?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/12423905/andrew"}, "edited": false, "score": 0, "creation_date": 1600700301, "post_id": 60838035, "comment_id": 113162754, "body": "This doesn&#39;t depend on the navigation component, it depends only on the fragment manager."}, {"owner": {"reputation": 1293, "user_id": 12423905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80c2e6034770729b699cd274a1738ff?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/12423905/andrew"}, "edited": false, "score": 0, "creation_date": 1600703060, "post_id": 60838035, "comment_id": 113164140, "body": "I&#39;ve already solved my problem. I change the visibility in my onCreateView and change the visibility again in my main Fragment. This works better than your approach, without any flicker etc."}, {"owner": {"reputation": 176, "user_id": 5067435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07f798da0a725772797e973dd01e1301?s=128&d=identicon&r=PG&f=1", "display_name": "11m0", "link": "https://stackoverflow.com/users/5067435/11m0"}, "edited": false, "score": 0, "creation_date": 1604970833, "post_id": 60838035, "comment_id": 114504660, "body": "I think @Hicham &#39;s answer works well, and prevents the flicker"}], "tags": [], "owner": {"reputation": 516, "user_id": 5494024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/701327383bf685816667b95a35f71eac?s=128&d=identicon&r=PG&f=1", "display_name": "Hicham", "link": "https://stackoverflow.com/users/5494024/hicham"}, "is_accepted": false, "score": 5, "last_activity_date": 1585078303, "creation_date": 1585078303, "answer_id": 60838035, "question_id": 51955357, "link": "https://stackoverflow.com/questions/51955357/hide-android-bottom-navigation-view-for-child-screens-fragments/60838035#60838035", "title": "Hide android bottom navigation view for child screens/ fragments", "body": "<p>Using addOnDestinationChangedListener works, and it's the solution recommended in the official documentation, but it does cause some flickering, as the callback is executed before the fragment is attached.</p>\n\n<p>I find the below answer more flexible, and handles animations better:</p>\n\n<pre><code>supportFragmentManager.registerFragmentLifecycleCallbacks(object : FragmentManager.FragmentLifecycleCallbacks() {\n        override fun onFragmentViewCreated(fm: FragmentManager, f: Fragment, v: View, savedInstanceState: Bundle?) {\n            TransitionManager.beginDelayedTransition(binding.root, Slide(Gravity.BOTTOM).excludeTarget(R.id.nav_host_fragment, true))\n            when (f) {\n                is ModalFragment -&gt; {\n                    binding.bottomNavigation.visibility = View.GONE\n                }\n                else -&gt; {\n                    binding.bottomNavigation.visibility = View.VISIBLE\n                }\n            }\n        }\n    }, true)\n</code></pre>\n\n<p>You can customize it depending on the transitions between your fragments, by choosing different animation (on my example it's a Slide), or by making the call at another lifecycle callback.</p>\n"}, {"tags": [], "owner": {"reputation": 1293, "user_id": 12423905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f80c2e6034770729b699cd274a1738ff?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/12423905/andrew"}, "is_accepted": false, "score": 1, "last_activity_date": 1599577996, "last_edit_date": 1599577996, "creation_date": 1599574351, "answer_id": 63795766, "question_id": 51955357, "link": "https://stackoverflow.com/questions/51955357/hide-android-bottom-navigation-view-for-child-screens-fragments/63795766#63795766", "title": "Hide android bottom navigation view for child screens/ fragments", "body": "<p>So even tho this question was already answered and the accepted answer is one that works, here is the code to actually achieve this behaviour:</p>\n<h2>MainActivity</h2>\n<pre><code>fun hideBottomNav() {\n   bottomNavigationView.visibility = View.GONE\n}\n    \nfun showBottomNav() {\n    bottomNavigationView.visibility = View.VISIBLE\n}\n</code></pre>\n<p>Then you call the functions in your fragment <code>onViewCreated()</code>, <code>onDetach()</code> function, like:</p>\n<h2>Fragment</h2>\n<pre><code>class FragmentWithOutBottomNav() : Fragment() {\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        (activity as MainActivity).hideBottomNav()\n    }\n\n    override fun onDetach() {\n        super.onDetach()\n        (activity as MainActivity).showBottomNav()\n    }\n}\n</code></pre>\n<p>Hope I could help some people. Happy coding!</p>\n"}], "owner": {"reputation": 3145, "user_id": 10256445, "user_type": "registered", "profile_image": "https://graph.facebook.com/958583107646439/picture?type=large", "display_name": "Subhojit Shaw", "link": "https://stackoverflow.com/users/10256445/subhojit-shaw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8362, "favorite_count": 10, "accepted_answer_id": 51959609, "answer_count": 5, "score": 19, "last_activity_date": 1599577996, "creation_date": 1534879226, "question_id": 51955357, "link": "https://stackoverflow.com/questions/51955357/hide-android-bottom-navigation-view-for-child-screens-fragments", "title": "Hide android bottom navigation view for child screens/ fragments", "body": "<p>I'm trying to create a single activity Android application. \nI have MainActivity (only activity) with BottomNavigationView, three top level fragments and some child fragments. My requirement is whenever the screen is showing top level fragments, bottom navigation should be visible such that switching is possible. But when I'm viewing any of the child fragments, bottom navigation should be hidden.\nIs there any out-of-box way using the Navigation component or need to change the visibility manually ?</p>\n"}, {"tags": ["android", "json", "kotlin", "gson"], "comments": [{"owner": {"reputation": 679, "user_id": 4545369, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bee9efe083a4ae8468688e9e57536f08?s=128&d=identicon&r=PG&f=1", "display_name": "StarterPack", "link": "https://stackoverflow.com/users/4545369/starterpack"}, "edited": false, "score": 3, "creation_date": 1534879275, "post_id": 51955313, "comment_id": 90861221, "body": "Are you sure the extra quotation marks are not part of your JSON?"}, {"owner": {"reputation": 645, "user_id": 4420802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/091f8ece32f5400a00e1e79e22c5c5fe?s=128&d=identicon&r=PG&f=1", "display_name": "firedrillsergeant", "link": "https://stackoverflow.com/users/4420802/firedrillsergeant"}, "reply_to_user": {"reputation": 679, "user_id": 4545369, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bee9efe083a4ae8468688e9e57536f08?s=128&d=identicon&r=PG&f=1", "display_name": "StarterPack", "link": "https://stackoverflow.com/users/4545369/starterpack"}, "edited": false, "score": 0, "creation_date": 1534879455, "post_id": 51955313, "comment_id": 90861293, "body": "Maybe, but I get the same exact Log output when I remove<code>asString</code>  <code>D&#47;JournalFetchr: Value of ret is: &quot;http:&#47;&#47;telechargement.rfi.fr&#47;rfi&#47;francais&#47;audio&#47;jff&#47;201808&#47;&zwnj;&#8203;journal_francais_fac&zwnj;&#8203;ile_20h00_-_20h10_tu&zwnj;&#8203;_20180820.mp3&quot;</code>"}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1534924560, "post_id": 51955313, "comment_id": 90874552, "body": "If you print the whole JSON you should easily detect whether quotes are part of your JSON or not"}], "answers": [{"tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": true, "score": 1, "last_activity_date": 1534955211, "creation_date": 1534955211, "answer_id": 51971291, "question_id": 51955313, "link": "https://stackoverflow.com/questions/51955313/gson-getasstring-method-does-not-strip-double-quotes-from-json-element/51971291#51971291", "title": "GSON getAsString() method does not strip double quotes from JSON element?", "body": "<p>What you do now is encode the string again:</p>\n\n<pre><code>val tempObject = JsonObject().apply {\n    addProperty(\"a\", \"b\")\n}\nval r0 = tempObject.get(\"a\").asString                  // b\nval r1 = Gson().toJson(tempObject.get(\"a\"))            // \"b\"\nval r2 = Gson().toJson(tempObject.get(\"a\").asString)   // \"b\"\nval r3 = Gson().toJson(tempObject.get(\"a\").toString()) // \"\\\"b\\\"\"\n</code></pre>\n\n<p><code>asString</code> returns the string value just fine. Calling on it <code>toJson()</code> adds the quotes.</p>\n"}], "owner": {"reputation": 645, "user_id": 4420802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/091f8ece32f5400a00e1e79e22c5c5fe?s=128&d=identicon&r=PG&f=1", "display_name": "firedrillsergeant", "link": "https://stackoverflow.com/users/4420802/firedrillsergeant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 762, "favorite_count": 0, "accepted_answer_id": 51971291, "answer_count": 1, "score": 1, "last_activity_date": 1534955211, "creation_date": 1534879032, "question_id": 51955313, "link": "https://stackoverflow.com/questions/51955313/gson-getasstring-method-does-not-strip-double-quotes-from-json-element", "title": "GSON getAsString() method does not strip double quotes from JSON element?", "body": "<p>I am  parsing this JSON using GSON, but when I try to get the deserialized string, I still end up with quotes around the element. So, for example, for the code below:</p>\n\n<pre><code>val ret = gson.toJson(tempObject.getAsJsonObject(\"medias\")\n        .getAsJsonObject(\"media\").getAsJsonObject(\"media_sources\")\n        .getAsJsonArray(\"media_source\").get(0).asJsonObject.get(\"source\").asString)\nLog.d(JOURNAL_FETCHR_TAG, \"Value of ret is: $ret\")\n</code></pre>\n\n<p>The value of ret is:</p>\n\n<pre><code>D/JournalFetchr: Value of ret is: \"http://telechargement.rfi.fr/rfi/francais/audio/jff/201808/journal_francais_facile_20h00_-_20h10_tu_20180820.mp3\"\n</code></pre>\n\n<p>I can just get the substring to solve my problem, but I am curious as to why asString is not giving me the string without the quotes around it? Thank you.</p>\n"}, {"tags": ["java", "kotlin", "teamcity", "classnotfoundexception"], "answers": [{"comments": [{"owner": {"reputation": 25698, "user_id": 58391, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e59c8cc8b022a9ddd36b3821cf168b4f?s=128&d=identicon&r=PG", "display_name": "codekaizen", "link": "https://stackoverflow.com/users/58391/codekaizen"}, "edited": false, "score": 0, "creation_date": 1536620123, "post_id": 52257082, "comment_id": 91480906, "body": "Thanks for the insight, I was wondering about this exact possibility. Do you know if this is documented somewhere?"}, {"owner": {"reputation": 323, "user_id": 5936605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1216b119acb392ebc0ef29c9e6a22090?s=128&d=identicon&r=PG&f=1", "display_name": "OneMoreNerd", "link": "https://stackoverflow.com/users/5936605/onemorenerd"}, "edited": false, "score": 0, "creation_date": 1595267228, "post_id": 52257082, "comment_id": 111409599, "body": "Hej Piotr - where did you see &quot;Subprojects can be defined either in their own settings.kts or by calling the subProjects() method in this project.&quot; .. I have tried doing this (version 2019.1), but get the message: ... &quot;The mix of top-level and project-level settings scripts is not supported. To proceed, remove the project-level scripts:&quot; etc .."}], "tags": [], "owner": {"reputation": 2140, "user_id": 3979731, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/wEazC.jpg?s=128&g=1", "display_name": "Piotr Boho", "link": "https://stackoverflow.com/users/3979731/piotr-boho"}, "is_accepted": false, "score": 1, "last_activity_date": 1536579898, "creation_date": 1536579898, "answer_id": 52257082, "question_id": 51955230, "link": "https://stackoverflow.com/questions/51955230/how-can-i-dynamically-load-teamcity-subprojects-in-kotlin-dsl/52257082#52257082", "title": "How can I dynamically load TeamCity subprojects in Kotlin DSL", "body": "<p>Another option instead of calling subProject()\nis to create <code>settings.kts</code> file in each subproject directory.</p>\n\n<p>you can find this comment in you current settings.kts:</p>\n\n<blockquote>\n  <p>Subprojects can be defined either in their own settings.kts or by\n  calling the subProjects() method in this project.</p>\n</blockquote>\n\n<p>I'm not sure why you want to do this \"dynamically\". Your example have hardcoded names.</p>\n\n<p>If you really need from some reason to create a subproject relation dynamically\nyou can create those .kts files dynamically</p>\n"}], "owner": {"reputation": 25698, "user_id": 58391, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e59c8cc8b022a9ddd36b3821cf168b4f?s=128&d=identicon&r=PG", "display_name": "codekaizen", "link": "https://stackoverflow.com/users/58391/codekaizen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 634, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1536579898, "creation_date": 1534878640, "question_id": 51955230, "link": "https://stackoverflow.com/questions/51955230/how-can-i-dynamically-load-teamcity-subprojects-in-kotlin-dsl", "title": "How can I dynamically load TeamCity subprojects in Kotlin DSL", "body": "<p>I'm configuring a TeamCity 2018.1 instance using Kotlin portable DSL. When I exported the DSL from the TeamCity web UI, my project structure looked like this:</p>\n\n<pre><code>&lt;Root&gt;\n|- Project A\n|- Project B\n</code></pre>\n\n<p>This gave me a file system structure that looked something like this:</p>\n\n<pre><code>.teamcity\n|- _Self\n   |- project.kts\n|- Project A\n   |- project.kts\n|- Project B\n   |- project.kts\n|- settings.kts\n</code></pre>\n\n<p>Currently, there are static references when loading subprojects, similar to this</p>\n\n<pre><code>import Project_A.*\n// \u2026\nsubProject(Project_A.Project)\nsubProject(Project_B.Project)\n</code></pre>\n\n<p>I want to modify the Root settings.kts file so that I could load projects dynamically. I'm trying this:</p>\n\n<pre><code>version = \"2018.1\"\nproject {\n    subProject {\n        id(\"Root\")\n        name = \"Root\"\n        for(project in arrayListOf(\"Project_A.Project\", \"Project_B.Project\")) {\n            val subProj = Class.forName(\"$project\").getConstructor().newInstance() as Project\n            subProject(subProj)\n        }\n    }\n}\n</code></pre>\n\n<p>However, this fails with:</p>\n\n<pre><code>_Root: java.net.URLClassLoader [381]:                  \n              java.lang.ClassNotFoundException: Project_A\n</code></pre>\n\n<p>Why does it fail?</p>\n"}, {"tags": ["collections", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 513, "user_id": 9342380, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10155483838779234/picture?type=large", "display_name": "javaland235", "link": "https://stackoverflow.com/users/9342380/javaland235"}, "edited": false, "score": 1, "creation_date": 1534878960, "post_id": 51955147, "comment_id": 90861086, "body": "It gives the following error:  Error:(20, 54) Kotlin: Type inference failed: inline fun &lt;T, R&gt; Iterable&lt;T&gt;.flatMap(transform: (T) -&gt; Iterable&lt;R&gt;): List&lt;R&gt; cannot be applied to receiver: List&lt;String&gt;  arguments: ((String) -&gt; List&lt;Expense&gt;?)"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 513, "user_id": 9342380, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10155483838779234/picture?type=large", "display_name": "javaland235", "link": "https://stackoverflow.com/users/9342380/javaland235"}, "edited": false, "score": 0, "creation_date": 1534879076, "post_id": 51955147, "comment_id": 90861143, "body": "@Econ_newbie, sorry, fixed the example by adding a fallback in case the key is missing: <code>groups[it].orEmpty()</code>."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 5, "last_activity_date": 1534881454, "last_edit_date": 1534881454, "creation_date": 1534878233, "answer_id": 51955147, "question_id": 51955074, "link": "https://stackoverflow.com/questions/51955074/kotlin-filter-map-from-two-collections/51955147#51955147", "title": "Kotlin - Filter/Map from two Collections", "body": "<p>You can simplify and optimize your code by first grouping <code>expenses</code> by the <code>date</code> and then selecting and merging the groups that have their key in the <code>selectedDates</code>, like this:</p>\n\n<pre><code>val selectedDates = listOf(\"2018-08-12\", \"2018-08-13\", \"2018-08-14\")\nval expenses: List&lt;Expense&gt; = TODO(\"content omitted\")\n\nval groups = expenses.groupBy { it.date }\nval listOfExpensesInSelectedDate = selectedDates.flatMap { groups[it].orEmpty() }\n</code></pre>\n\n<p>See: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/group-by.html\" rel=\"nofollow noreferrer\"><code>groupBy</code></a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/flat-map.html\" rel=\"nofollow noreferrer\"><code>flatMap</code></a></p>\n"}, {"comments": [{"owner": {"reputation": 513, "user_id": 9342380, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10155483838779234/picture?type=large", "display_name": "javaland235", "link": "https://stackoverflow.com/users/9342380/javaland235"}, "edited": false, "score": 1, "creation_date": 1534907821, "post_id": 51957629, "comment_id": 90869086, "body": "wow thanks. This is the most concise solution I have found so far"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 1865, "user_id": 3703819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822bb82fae2070a74869ea657ee2759d?s=128&d=identicon&r=PG&f=1", "display_name": "dey", "link": "https://stackoverflow.com/users/3703819/dey"}, "edited": false, "score": 0, "creation_date": 1534922916, "post_id": 51957629, "comment_id": 90873733, "body": "@dey this is <b>my</b> answer and the communication with OP is mine. No need for inbetween delegates. Delete your comment"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1534927802, "post_id": 51957629, "comment_id": 90876258, "body": "Note that it is not an optimal solution since it will iterate over <code>seectedDates</code> each time to check the predicate. To improve it, convert <code>selectedDates</code> to a set."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1534929515, "post_id": 51957629, "comment_id": 90877188, "body": "@hotkey the iteration does not vanish with a set. It could be worse since the set is unordered."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1534934949, "post_id": 51957629, "comment_id": 90880160, "body": "@mTak, most sets have constant, O(1) time for a <code>contains</code> check, whereas lists do that with O(n) worst case. A test with large <code>selectedDates</code> would show that."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1534935228, "post_id": 51957629, "comment_id": 90880324, "body": "@hotkey I did simple tests with the proposed by the OP lists. See my edited answer."}, {"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1576307053, "post_id": 51957629, "comment_id": 104864615, "body": "@user8959091 it would shows: <code>Type inference failed</code> using keywords <code>in</code> inside <code>.filter { it.name in list }</code>"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 6, "last_activity_date": 1534931807, "last_edit_date": 1534931807, "creation_date": 1534891145, "answer_id": 51957629, "question_id": 51955074, "link": "https://stackoverflow.com/questions/51955074/kotlin-filter-map-from-two-collections/51957629#51957629", "title": "Kotlin - Filter/Map from two Collections", "body": "<p>You could just use <code>in</code> to filter:  <br/> </p>\n\n<pre><code>val listOfExpensesInSelectedDate = expenses.filter { it.date in selectedDates }\n</code></pre>\n\n<p><strong>Edit</strong>: since hotkey posted the comment about optimal solution, I have tried this in my pc and anyone interested can try it too:  <br/></p>\n\n<p><strong>(1st)</strong> my answer as was posted:  <br/></p>\n\n<pre><code>val start = Date().time\nfor (i in 1..10000) {\n    val listOfExpensesInSelectedDate = expenses.filter { it.date in selectedDates }\n}\nval end= Date().time\n\nprintln(end - start)\n</code></pre>\n\n<blockquote>\n  <p>Average time result: 26ms (23ms-35ms)</p>\n</blockquote>\n\n<p><strong>(2nd)</strong> my answer with the hotkey's suggestion to use a set:  <br/></p>\n\n<pre><code>val start = Date().time\nfor (i in 1..10000) {\n    val expSet = selectedDates.toSet()\n    val listOfExpensesInSelectedDate = expenses.filter { it.date in expSet }\n}\nval end= Date().time\n\nprintln(end - start)\n</code></pre>\n\n<blockquote>\n  <p>Average time result: 70ms (50ms-86ms)</p>\n</blockquote>\n\n<p><strong>(3d)</strong> hotkey's answer:  <br/></p>\n\n<pre><code>val start = Date().time\nfor (i in 1..10000) {\n    val groups = expenses.groupBy { it.date }\n    val listOfExpensesInSelectedDate = selectedDates.flatMap { groups[it].orEmpty() }\n}\nval end= Date().time\n\nprintln(end - start)\n</code></pre>\n\n<blockquote>\n  <p>Average time result: 100ms (74ms-150ms)</p>\n</blockquote>\n"}], "owner": {"reputation": 513, "user_id": 9342380, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10155483838779234/picture?type=large", "display_name": "javaland235", "link": "https://stackoverflow.com/users/9342380/javaland235"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2311, "favorite_count": 2, "answer_count": 2, "score": 6, "last_activity_date": 1534931807, "creation_date": 1534877889, "question_id": 51955074, "link": "https://stackoverflow.com/questions/51955074/kotlin-filter-map-from-two-collections", "title": "Kotlin - Filter/Map from two Collections", "body": "<p>Is it possible to filter and map two Collections based on desired criteria match like the following:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val selectedDates = listOf(\"2018-08-12\", \"2018-08-13\", \"2018-08-14\")\n\n    val expenses = listOf(Expense(\"Food\", \"2018-08-12\"),\n    Expense(\"Transportation\", \"2018-08-15\"),\n    Expense(\"Misc.\", \"2018-08-13\"),\n     Expense(\"Uber\", \"2018-08-12\"),\n    Expense(\"Clothing\", \"2018-08-16\"))\n\n    val listOfExpensesInSelectedDate = mutableListOf&lt;Expense&gt;()\n\n    for (date in selectedDates){\n        listOfExpensesInSelectedDate.addAll(expenses.filter { it.date==date })\n\n    }\n    println(listOfExpensesInSelectedDate)\n\n}\n\ndata class Expense(\n        val expense:String,\n        val date: String\n)\n</code></pre>\n\n<p>Provided the given code above, I am trying to return a list of Expenses that match with the dates from another list of Strings.  In the example above, I have used both for Loop and filter function to get my desired result.  But is it possible to avoid the for loop and filter and map both the Collections in single line of code?</p>\n"}, {"tags": ["android", "kotlin", "android-jetpack"], "comments": [{"owner": {"reputation": 8390, "user_id": 1869968, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/kTFyG.jpg?s=128&g=1", "display_name": "Submersed", "link": "https://stackoverflow.com/users/1869968/submersed"}, "edited": false, "score": 0, "creation_date": 1534874163, "post_id": 51954201, "comment_id": 90858872, "body": "It could potentially be the close out animation on the back press?  Have you tried overrideExistingTransitions?  I&#39;m not really sure what the desired effect is here."}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1534874560, "post_id": 51954201, "comment_id": 90859083, "body": "what happens when <code>android:fitsSystemWindows=&quot;false&quot;?</code>"}], "owner": {"reputation": 8651, "user_id": 1270257, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3490b7ca8caa9263dc4de0aea5837a11?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/1270257/alan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1534874689, "creation_date": 1534873988, "question_id": 51954201, "link": "https://stackoverflow.com/questions/51954201/gap-between-status-and-app-bar-when-pressing-back", "title": "Gap between status and app bar when pressing back", "body": "<p>When I load my app, it looks fine as shown:\n<a href=\"https://i.stack.imgur.com/FXFvT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FXFvT.png\" alt=\"enter image description here\"></a></p>\n\n<p>However when I tap into a <code>ListItem</code> and press the back button, a gap is created as shown:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kHxxa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kHxxa.png\" alt=\"enter image description here\"></a></p>\n\n<p>Not sure what is causing this:</p>\n\n<p><code>activity_main.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;LinearLayout\n        android:id=\"@+id/container\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"\n        android:fitsSystemWindows=\"true\"&gt;\n\n        &lt;android.support.design.widget.AppBarLayout\n            android:id=\"@+id/appbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"&gt;\n\n            &lt;android.support.v7.widget.Toolbar\n                android:id=\"@+id/toolbar\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"0dp\"/&gt;\n        &lt;/android.support.design.widget.AppBarLayout&gt;\n\n        &lt;fragment\n            android:id=\"@+id/car_nav_fragment\"\n            android:name=\"androidx.navigation.fragment.NavHostFragment\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            app:defaultNavHost=\"true\"\n            app:navGraph=\"@navigation/nav_transport\" /&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n\n<p>And I am using Android JetPack's Navigation Controller</p>\n\n<p><code>nav_transport.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;navigation xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    app:startDestination=\"@+id/car_list_fragment\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/car_list_fragment\"\n        android:name=\"com.example.transportdirectory.fragments.CarListFragment\"\n        android:label=\"@string/cars_title\"\n        tools:layout=\"@layout/fragment_car_list\"&gt;\n\n        &lt;action\n            android:id=\"@+id/action_car_list_fragment_to_car_detail_fragment\"\n            app:destination=\"@id/car_detail_fragment\"\n            app:enterAnim=\"@anim/slide_in_right\"\n            app:exitAnim=\"@anim/slide_out_left\"\n            app:popEnterAnim=\"@anim/slide_in_left\"\n            app:popExitAnim=\"@anim/slide_out_right\" /&gt;\n    &lt;/fragment&gt;\n\n    &lt;fragment\n        android:id=\"@+id/car_detail_fragment\"\n        android:name=\"com.example.transportdirectory.fragments.CarDetailFragment\"\n        android:label=\"@string/car_detail\"\n        tools:layout=\"@layout/fragment_car_detail\"&gt;\n        &lt;argument\n            android:name=\"vin\"\n            app:argType=\"string\" /&gt;\n    &lt;/fragment&gt;\n\n&lt;/navigation&gt;\n</code></pre>\n\n<p>This is how I invoke the navigation</p>\n\n<pre><code>val direction = CarListFragmentDirections.ActionCarListFragmentToCarDetailFragment(vin)\n            it.findNavController().navigate(direction)\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "higher-order-functions"], "answers": [{"tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": false, "score": 0, "last_activity_date": 1534958631, "creation_date": 1534958631, "answer_id": 51972158, "question_id": 51953519, "link": "https://stackoverflow.com/questions/51953519/can-we-use-kotlins-higher-order-function-for-creation-of-recyclerview-customvie/51972158#51972158", "title": "Can we use Kotlin&#39;s higher order function for creation of RecyclerView CustomViewHolder?", "body": "<p>If only there was a way to operate on generic types... </p>\n\n<p>Oh, wait. There is, and it's called generics!</p>\n\n<p>Signatures of your companion functions should look like:</p>\n\n<pre><code>fun &lt;T&gt; initAndGetAdapter(\n                rv : RecyclerView,\n                layoutManager: RecyclerView.LayoutManager,\n                viewLayout: Int,\n                viewHolder: (view: View) -&gt; T,\n                bindView: (viewHolder: T, position: Int) -&gt; Unit,\n                size: () -&gt; Int\n): RecyclerView.Adapter&lt;T&gt;\n</code></pre>\n\n<p>And </p>\n\n<pre><code>fun &lt;T&gt; initAndGetAdapter(\n            rv: RecyclerView,\n            layoutManager: RecyclerView.LayoutManager,\n            viewType: (position: Int) -&gt; Int,\n            viewLayout: (viewType: Int) -&gt; Int,\n            viewHolder: (view: View, viewType: Int) -&gt; T,\n            bindView: (viewHolder: T, viewType: Int, position: Int) -&gt; Unit,\n            size: () -&gt; Int\n\n): RecyclerView.Adapter&lt;T&gt;\n</code></pre>\n\n<p>Respectively.</p>\n\n<p>Then you won't need to upcast to <code>RecyclerView.ViewHolder</code> all the time.<br>\nAlso, no need to unsafe <code>as</code> casts:</p>\n\n<pre><code>val adapter = AirRv.initAndGetAdapter(\n        rv,\n        LinearLayoutManager(\"\"),\n        1,\n        fun(view: View) : RvViewHolder {\n            return RvViewHolder(view)     // NOTICE THIS LINE\n        },\n        fun(viewHolder: RvViewHolder, position: Int) {\n            val rvViewHolder = viewHolder // No as RvViewHolder anymore\n        },\n        { arrayList.size }\n)\n</code></pre>\n\n<p>Those guys from 2005 sure knew what they were doing.</p>\n\n<p>Remember, I don't have your full code, so you'll have to make some adjustments as you go.</p>\n\n<p>You can read more about generics in Kotlin <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 1402, "user_id": 3811983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Aam84.png?s=128&g=1", "display_name": "mumayank", "link": "https://stackoverflow.com/users/3811983/mumayank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 321, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1534958631, "creation_date": 1534870875, "last_edit_date": 1534876602, "question_id": 51953519, "link": "https://stackoverflow.com/questions/51953519/can-we-use-kotlins-higher-order-function-for-creation-of-recyclerview-customvie", "title": "Can we use Kotlin&#39;s higher order function for creation of RecyclerView CustomViewHolder?", "body": "<p>I wanted to create a helper method to make it very easy to set up a new RecyclerView in Android. I achieved this using this helper class:</p>\n\n<pre><code>class AirRv {\n\n    companion object {\n\n        fun initAndGetAdapter(\n                rv : RecyclerView,\n                layoutManager: RecyclerView.LayoutManager,\n                viewLayout: Int,\n                viewHolder: (view: View) -&gt; RecyclerView.ViewHolder,\n                bindView: (viewHolder: RecyclerView.ViewHolder, position: Int) -&gt; Unit,\n                size: () -&gt; Int\n        ): RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;\n        {\n            return initAndGetAdapter(\n                    rv,\n                    layoutManager,\n                    {\n                        0\n                    },\n                    {\n                        viewLayout\n                    },\n                    fun(view: View, viewType: Int) : RecyclerView.ViewHolder {\n                        return viewHolder(view)\n                    },\n                    fun(viewHolder: RecyclerView.ViewHolder, viewType: Int, position: Int) {\n                        bindView(viewHolder, position)\n                    },\n                    { size.invoke() }\n            )\n        }\n\n        fun initAndGetAdapter(\n                rv: RecyclerView,\n                layoutManager: RecyclerView.LayoutManager,\n                viewType: (position: Int) -&gt; Int,\n                viewLayout: (viewType: Int) -&gt; Int,\n                viewHolder: (view: View, viewType: Int) -&gt; RecyclerView.ViewHolder,\n                bindView: (viewHolder: RecyclerView.ViewHolder, viewType: Int, position: Int) -&gt; Unit,\n                size: () -&gt; Int\n\n        ): RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;\n        {\n            val rvAdapter = object : RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt;() {\n\n                override fun getItemViewType(position: Int): Int {\n                    return viewType(position)\n                }\n\n                override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): RecyclerView.ViewHolder {\n                    val view = LayoutInflater.from(rv.context).inflate(viewLayout(viewType), parent, false)\n                    return viewHolder(view, viewType)\n                }\n\n                override fun onBindViewHolder(holder: RecyclerView.ViewHolder, position: Int) {\n                    bindView(holder, viewType(position), position)\n                }\n\n                override fun getItemCount(): Int {\n                    return size()\n                }\n\n            }\n\n            rv.layoutManager = layoutManager\n            rv.adapter = rvAdapter\n            return rvAdapter\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Here's my implementation example:</p>\n\n<pre><code>val adapter = AirRv.initAndGetAdapter(\n                rv,\n                LinearLayoutManager(this),\n                R.layout.item_layout,\n                fun(view: View) : RecyclerView.ViewHolder {\n                    return RvViewHolder(view)     // NOTICE THIS LINE\n                },\n                fun(viewHolder: RecyclerView.ViewHolder, position: Int) {\n                    val value = arrayList.get(position).toString()\n                    val rvViewHolder = viewHolder as RvViewHolder\n                    rvViewHolder.textView.text = value\n                },\n                { arrayList.size }\n        )\n</code></pre>\n\n<p>This works fine. But can I improve this:</p>\n\n<p><code>RvViewHolder(view)</code> (Line no 6)</p>\n\n<p>All the enclosing function does is pass view and retrieve corresponding viewHolder. With Kotlin's higher order function, is it not possible to somehow receive the function definition so that the helper method can create an instance and do the needful to get the corresponding viewHolder internally.</p>\n\n<p>The end user of this helper function (the programmer) shouldn't do this manually. It is very predictable that when the helper library will give him a view, the user will return a viewHolder. Why can't the program do it internally?</p>\n\n<p>If someone could shed some light on this matter, that'd be appreciated.</p>\n"}, {"tags": ["kotlin", "mutablelist"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1534871049, "post_id": 51953468, "comment_id": 90857441, "body": "<code>List&lt;Data&gt;</code>... Just use Ctrl-I (Cmd-I on Mac), and IntelliJ will allow you to override methods, and will add the necessary code for you."}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1534872086, "post_id": 51953468, "comment_id": 90857877, "body": "Thanks @JB Nizet, clicking Cmd-I  on where? I am using AndroidStudio, seems it does not anything?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1534872172, "post_id": 51953468, "comment_id": 90857928, "body": "Sorry, it&#39;s Ctrl-O, for Override method, in the Java subclass."}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1534872563, "post_id": 51953468, "comment_id": 90858126, "body": "doesnt work in androidstudio, Cmd-O opens the class file."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1534874012, "post_id": 51953468, "comment_id": 90858791, "body": "It&#39;s Ctrl-O, not Cmd-O"}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1534873430, "creation_date": 1534873430, "answer_id": 51954082, "question_id": 51953468, "link": "https://stackoverflow.com/questions/51953468/what-list-type-which-is-mutable-in-kotlin-can-be-used-in-java/51954082#51954082", "title": "what list type which is mutable in kotlin can be used in java?", "body": "<p>The <code>kotlin.List&lt;out T&gt;</code> and <code>kotlin.MutableList&lt;E&gt;</code> <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">are mapped types</a>, which, on the JVM and Android, are both represented by the <code>java.util.List&lt;E&gt;</code> interface. </p>\n\n<p>So you just need to use the Java <code>List&lt;E&gt;</code> type wherever you need to inter-operate with the Kotlin <code>List&lt;out E&gt;</code> or <code>MutableList&lt;E&gt;</code>.</p>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 51954082, "answer_count": 1, "score": 1, "last_activity_date": 1534873430, "creation_date": 1534870643, "question_id": 51953468, "link": "https://stackoverflow.com/questions/51953468/what-list-type-which-is-mutable-in-kotlin-can-be-used-in-java", "title": "what list type which is mutable in kotlin can be used in java?", "body": "<p>Having a lib created with kotlin, in it there is a function expected to be overriden by its descendent class, which takes a mutableList (expected to be modified in this function)  </p>\n\n<pre><code>protected open fun makeDataForAdapter(itemsList: MutableList&lt;Data&gt;) : List&lt;Data&gt;{\n    return itemsList // default behavior\n}\n</code></pre>\n\n<p>the lib is used in a app with java, so the descendent class overrides it:</p>\n\n<pre><code>@Override\nprotected List&lt;Data&gt; makeDataForAdapter(MutableList&lt;Data&gt; itemsList) {\n     ......\n}\n</code></pre>\n\n<p>the compiler complains about <code>\"cant resolve the MutableList\"</code></p>\n\n<p>what list type which is mutable in kotlin can be used in java?</p>\n"}, {"tags": ["sqlite", "kotlin"], "comments": [{"owner": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1534873150, "post_id": 51951936, "comment_id": 90858383, "body": "I don&#39;t know if Kotlin is different, but in java, Class.forName() takes a string argument..."}, {"owner": {"reputation": 13, "user_id": 7897593, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6-I_8HesCDQ/AAAAAAAAAAI/AAAAAAAAABQ/hqsvSQhUocs/photo.jpg?sz=128", "display_name": "superFred", "link": "https://stackoverflow.com/users/7897593/superfred"}, "reply_to_user": {"reputation": 27648, "user_id": 9952196, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216835866235879/picture?type=large", "display_name": "Shawn", "link": "https://stackoverflow.com/users/9952196/shawn"}, "edited": false, "score": 0, "creation_date": 1534897999, "post_id": 51951936, "comment_id": 90867188, "body": "I noticed this but it still has the same error if I put in the string argument of &quot;org.sqlite.JDBC&quot;"}], "owner": {"reputation": 13, "user_id": 7897593, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6-I_8HesCDQ/AAAAAAAAAAI/AAAAAAAAABQ/hqsvSQhUocs/photo.jpg?sz=128", "display_name": "superFred", "link": "https://stackoverflow.com/users/7897593/superfred"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 229, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534864873, "creation_date": 1534864873, "question_id": 51951936, "link": "https://stackoverflow.com/questions/51951936/kotlin-sqlite-no-suitable-driver-found", "title": "Kotlin - SQLITE (No suitable driver found)", "body": "<p>I have been trying to use SQLite as my database manager but I am unable to resolve the problem where I am unable to get the program to recognise what driver to use.\nthis is the code I have for getting the connection to the database</p>\n\n<pre><code>package net.superfred.apps.sfam.utils\n\nimport java.sql.Connection\nimport java.sql.DriverManager\n\nclass Database(id: String) {\n\n    private lateinit var con: Connection\n\n    init {\n        println(\"Database ID: $id\")\n    }\n\n    fun connect(name: String, path: String) {\n//        Class.forName(org.sqlite.JDBC)\n        val url = \"jdbc:sqlite:$path\\\\$name\"\n        con =  DriverManager.getConnection(url)\n        println(\"${con.schema} schema is open\")\n    }\n}\n</code></pre>\n\n<p>I have read up that i need to use this\n   Class.forName(org.sqlite.JDBC)\nHowever with kotlin, it causes the error: Classifier 'JDBC' does not have a companion object, and thus must be initialised here.\nBut I do not know what this means by this.\nI have added the driver to my libraries and to the module dependencies using the IntelliJ settings to add libraries.</p>\n\n<p>If anyone needs more information on what I am doing I will promptly respond with it.</p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 379, "user_id": 3341096, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1da90e0c1bb0883b7ef40fa0a945ddb2?s=128&d=identicon&r=PG&f=1", "display_name": "zenn1337", "link": "https://stackoverflow.com/users/3341096/zenn1337"}, "is_accepted": false, "score": 2, "last_activity_date": 1534865550, "creation_date": 1534865550, "answer_id": 51952130, "question_id": 51951848, "link": "https://stackoverflow.com/questions/51951848/when-i-set-a-kotlin-variable-as-private-i-get-an-error-saying-modifier-privat/51952130#51952130", "title": "when i set a kotlin variable as private, i get an error saying &quot; modifier private are not applicable to local variables", "body": "<p>That's because it's true. You cannot declare variables as <code>private</code> inside methods. </p>\n\n<p>You can, however, do it at a class level like this:</p>\n\n<pre><code>class Bank { \n    private val name: String = ...                 \n    private val country: String = ...\n    private val address: String = ...\n    private val code: Int = ...\n}\n</code></pre>\n\n<p>or you should rather do it using data class:</p>\n\n<pre><code>data class Bank(\n    val name: String, \n    val country: String,\n    val address: String,\n    val code: Int\n)\n</code></pre>\n\n<p>...or at a method level like this:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val name: String                 \n    val country: String\n    val address: String\n    val code: Int\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 10255517, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HsB1sLVrIN4/AAAAAAAAAAI/AAAAAAAAAuo/XtZrjrA8qCM/photo.jpg?sz=128", "display_name": "Nasser", "link": "https://stackoverflow.com/users/10255517/nasser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1315, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1534866971, "creation_date": 1534864602, "last_edit_date": 1534866971, "question_id": 51951848, "link": "https://stackoverflow.com/questions/51951848/when-i-set-a-kotlin-variable-as-private-i-get-an-error-saying-modifier-privat", "title": "when i set a kotlin variable as private, i get an error saying &quot; modifier private are not applicable to local variables", "body": "<pre><code>class Bank_ {\n    fun main(args: Array&lt;String&gt;) {\n\n        private val bank_name:String                 \n        private val bank_country:String\n        private val ank_address:String\n        private val bank_code:Int\n}}\n</code></pre>\n"}, {"tags": ["collections", "kotlin", "hashmap", "mapping", "flatmap"], "answers": [{"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 0, "last_activity_date": 1534929947, "last_edit_date": 1534929947, "creation_date": 1534865625, "answer_id": 51952149, "question_id": 51951504, "link": "https://stackoverflow.com/questions/51951504/kotlin-group-elements-by-a-key-under-some-conditions-with-new-value-type/51952149#51952149", "title": "Kotlin - group elements by a key under some conditions with new value type", "body": "<p>It's actually the mixture of those methods which you require. There are also other ways to achieve it, but here is one possible example using <code>groupBy</code> and <code>flatMap</code>:</p>\n\n<pre><code>val result = students.groupBy { it.major }\n    .flatMap { (key, values) -&gt; when (key) {\n        \"chemistry\" -&gt; values.map { it.firstname }\n                             .distinct()\n                             .map { firstname -&gt; \"chemistry_$firstname\" to ClassRoom(values.filter { it.firstname == firstname }) }\n        else -&gt; listOf(key to ClassRoom(values))\n    }\n}.toMap()\n</code></pre>\n\n<p>Assuming the following data classes:</p>\n\n<pre><code>data class Student(val major: String, val firstname: String)\ndata class ClassRoom(val students : List&lt;Student&gt;)\n</code></pre>\n\n<p>If you also want a map with all students grouped by major, the following suffices:</p>\n\n<pre><code>val studentsPerMajor = students.groupBy { it.major }\n                               .map { (major, values) -&gt; major to ClassRoom(values) }\n</code></pre>\n\n<p>If you then rather want to continue working with that map instead of recalculating everything from the source, it's also possible, e.g. the following will then return your desired map based on the <code>studentsPerMajor</code>:</p>\n\n<pre><code>val result = studentsPerMajor.flatMap { (key, classroom) -&gt; when (key) {\n        \"chemistry\" -&gt; classroom.students.map { it.firstname }\n                                         .distinct()\n                                         .map { firstname -&gt; \"chemistry_$firstname\" to ClassRoom(classroom.students.filter { it.firstname == firstname }) }\n        else -&gt; listOf(key to classroom)\n    }\n}.toMap()\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 0, "last_activity_date": 1534871913, "creation_date": 1534871913, "answer_id": 51953770, "question_id": 51951504, "link": "https://stackoverflow.com/questions/51951504/kotlin-group-elements-by-a-key-under-some-conditions-with-new-value-type/51953770#51953770", "title": "Kotlin - group elements by a key under some conditions with new value type", "body": "<p>I will try to answer the 1st part as Roland posted an answer for the 2nd part (although I did not try it).  <br/>\nAssuming your classes are:  <br/></p>\n\n<pre><code>class Student(val major: String, val firstName: String)\n\nclass Classroom(val studentList: MutableList&lt;Student&gt;) {\n    fun getStudents(): MutableList&lt;Student&gt; {\n        return studentList\n    }\n}\n</code></pre>\n\n<p>and with an initialization like: <br/></p>\n\n<pre><code>val list = mutableListOf&lt;Student&gt;(\n        Student(\"chemistry\", \"rafael\"),\n        Student(\"physics\", \"adam\"),\n        Student(\"chemistry\", \"michael\"),\n        Student(\"math\", \"jack\"),\n        Student(\"chemistry\", \"rafael\"),\n        Student(\"biology\", \"kevin\"))\n\nval classroom = Classroom(list)\nval allStudents = classroom.getStudents()\n</code></pre>\n\n<p>you can have a result list:  <br/></p>\n\n<pre><code>val finalList: MutableList&lt;Pair&lt;String, Classroom&gt;&gt; = mutableListOf()\n\nallStudents.map { it.major }.distinctBy { it }.forEach { major -&gt;\n    finalList.add(major to Classroom(allStudents.filter { it.major == major }.toMutableList()))\n}\n</code></pre>\n\n<p>so by the below code:  <br/></p>\n\n<pre><code>finalList.forEach {\n    println(it.first + \"-&gt;\")\n    it.second.getStudents().forEach { println(\"    \" + it.major + \", \" + it.firstName) }\n}\n</code></pre>\n\n<p>this will be printed:  <br/></p>\n\n<pre><code>chemistry-&gt;\n    chemistry, rafael\n    chemistry, michael\n    chemistry, rafael\nphysics-&gt;\n    physics, adam\nmath-&gt;\n    math, jack\nbiology-&gt;\n    biology, kevin\n</code></pre>\n"}], "owner": {"reputation": 7262, "user_id": 845371, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/8095efdc89f4a70029477fcb58cddd06?s=128&d=identicon&r=PG", "display_name": "Rafael Adel", "link": "https://stackoverflow.com/users/845371/rafael-adel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1263, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1534929947, "creation_date": 1534863481, "question_id": 51951504, "link": "https://stackoverflow.com/questions/51951504/kotlin-group-elements-by-a-key-under-some-conditions-with-new-value-type", "title": "Kotlin - group elements by a key under some conditions with new value type", "body": "<p>I'm trying to find a way to use Kotlin collection operation to do some logic that I'm going to explain:</p>\n\n<p>Let's say type <code>Classroom</code> contains a list of <code>Student</code> as a field in it, <code>eg. classroom.getSudents()</code> returns a list of certain studends.</p>\n\n<p>Now I have a list of mixed <code>Student</code> that I need to group by one of its fields say <strong>major</strong>, and the value of the resultant map to be <code>Classroom</code>.</p>\n\n<p>So I need to convert <code>List&lt;Student&gt;</code> to <code>Map&lt;Student.major, Classroom&gt;</code></p>\n\n<p>Also at some cases of <strong>major</strong>, for example for all <code>major == chemistry</code>, I'll need to group by another criteria, say <strong>firstname</strong>, so the keys of major chemistry would be <code>major_firstname</code></p>\n\n<p>Here's an example, I have a list of <code>Student(major, firstname)</code>:</p>\n\n<pre><code>[\n    Student(\"chemistry\", \"rafael\"), \n    Student(\"physics\", \"adam\"),\n    Student(\"chemistry\", \"michael\"),\n    Student(\"math\", \"jack\"),\n    Student(\"chemistry\", \"rafael\"),\n    Student(\"biology\", \"kevin\")\n]\n</code></pre>\n\n<p>I need the result to be:</p>\n\n<pre><code>{\n    \"math\" -&gt; Classroom(Student(\"math\", \"jack\")),\n    \"physics\" -&gt; Classroom(Student(\"physics\", \"adam\")),\n    \"chemistry_michael\" -&gt; Classroom(Student(\"chemistry\", \"michael\")),\n    \"chemistry_rafael\" -&gt; Classroom(Student(\"chemistry\", \"rafael\"), Student(\"chemistry\", \"rafael\")),\n    \"biology\" -&gt; Classroom(Student(\"biology\", \"kevin\"))\n}\n</code></pre>\n\n<p>I've tried <code>groupBy</code>, <code>flatMapTo</code> and <code>associateBy</code> but as far as I understand all of these doesn't group by a certain condition.</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "mockito"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1534863234, "post_id": 51951389, "comment_id": 90853001, "body": "<code>viewModel.predictionNominatimsObservable</code> is not set in your <code>createViewModel()</code> and ends up being <code>null</code> indeed"}, {"owner": {"reputation": 2212, "user_id": 1373050, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yX9WD.jpg?s=128&g=1", "display_name": "Mark Buikema", "link": "https://stackoverflow.com/users/1373050/mark-buikema"}, "reply_to_user": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1534864180, "post_id": 51951389, "comment_id": 90853649, "body": "@shkschneider No, it is actually set"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1534865673, "post_id": 51951389, "comment_id": 90854559, "body": "maybe use <code>@Override public void setUp() throws Exception {super.setUp(); &#47;* ... *&#47;}</code> or annotation <code>@Before</code> in order to have things setup before any test runs? maybe, use <code>@RunWith(AndroidJUnit4.class)</code> instead of the jUnit runner for unit tests, when accessing views?"}, {"owner": {"reputation": 2212, "user_id": 1373050, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yX9WD.jpg?s=128&g=1", "display_name": "Mark Buikema", "link": "https://stackoverflow.com/users/1373050/mark-buikema"}, "reply_to_user": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1534925349, "post_id": 51951389, "comment_id": 90874977, "body": "@MartinZeitler I don&#39;t need accessing views, it&#39;s a viewmodel test"}], "answers": [{"tags": [], "owner": {"reputation": 7503, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "is_accepted": false, "score": 0, "last_activity_date": 1553703791, "creation_date": 1553703791, "answer_id": 55382048, "question_id": 51951389, "link": "https://stackoverflow.com/questions/51951389/nullpointerexception-when-subscribing-to-observable-in-unit-test/55382048#55382048", "title": "NullPointerException when subscribing to Observable in unit test", "body": "<p>I am late with the answer but it may help somebody. </p>\n\n<p>The result of <code>viewModel.predictionNominatimsObservable</code> is null so when you call subscribe it just throws NPE. </p>\n\n<p>Instead you need to stub the result of this method. To be able to use stubs you need to make your ViewModel a mock. You need to <code>spy</code> on it. So this line will change like this </p>\n\n<pre><code>viewModel = AddressSearchViewModel(country) // before\nviewModel = spy(AddressSearchViewModel(country)) //after\n</code></pre>\n\n<p>after that you can stub the desired behavior like so </p>\n\n<pre><code>`when`(viewModel.predictionNominatimsObservable).thenReturn(Observable.just(fakeExpectedResponse))\n</code></pre>\n\n<p>or you can also test error or empty cases like so </p>\n\n<pre><code>`when`(viewModel.predictionNominatimsObservable).thenReturn(Observable.empty()) \n`when`(viewModel.predictionNominatimsObservable).thenReturn(Observable.error(expectedException))\n</code></pre>\n\n<p>This stub method should go before the \"real\" call. So first you tell your mock ViewModel what to do and then invoke the method. </p>\n\n<pre><code>viewModel.predictionNominatimsObservable.subscribe(predictionsObserver)\n</code></pre>\n"}], "owner": {"reputation": 2212, "user_id": 1373050, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/yX9WD.jpg?s=128&g=1", "display_name": "Mark Buikema", "link": "https://stackoverflow.com/users/1373050/mark-buikema"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1356, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1553703791, "creation_date": 1534863068, "last_edit_date": 1534864249, "question_id": 51951389, "link": "https://stackoverflow.com/questions/51951389/nullpointerexception-when-subscribing-to-observable-in-unit-test", "title": "NullPointerException when subscribing to Observable in unit test", "body": "<p>I want to subscribe to an observable in my unit test. This is my code:</p>\n\n<pre><code>private lateinit var viewModel: AddressSearchViewModel\n\nprivate lateinit var ioScheduler: TestScheduler\nprivate lateinit var scheduler: TestScheduler\n\nprivate lateinit var requestHelper: RequestHelper\n\n@Test\nfun testAutoComplete2Chars() {\n    MockitoAnnotations.initMocks(this)\n\n    requestHelper = RequestHelper(createConfiguration())\n\n    ioScheduler = Schedulers.test()\n    scheduler = Schedulers.test()\n\n    val country = getCountry(\"NL\")\n    createViewModel(country)\n\n    viewModel.predict(\"Br\")\n\n////// Error on this line!!\n    viewModel.predictionNominatimsObservable.subscribe(predictionsObserver)\n\n    ioScheduler.triggerActions()\n    scheduler.triggerActions()\n\n    verify(predictionsObserver, times(1)).onNext(viewModel.predictionNominatimsObservable.value)\n    assertEquals(0, viewModel.predictionNominatimsObservable.value?.size ?: 0)\n}\n\nprivate fun createViewModel(country: Country) {\n    viewModel = AddressSearchViewModel(country)\n    viewModel.ioScheduler = ioScheduler\n    viewModel.scheduler = scheduler\n}\n</code></pre>\n\n<p>Stack trace: </p>\n\n<pre><code>java.lang.NullPointerException\nat rx.Subscriber.isUnsubscribed(Subscriber.java:108)\nat rx.Observable.subscribe(Observable.java:10358)\nat rx.Observable.subscribe(Observable.java:10319)\nat com.takeaway.android.core.view_model.AddressSearchViewModelTest.testAutoComplete2Chars(AddressSearchViewModelTest.kt:529)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\nat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\nat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\nat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\nat org.junit.rules.TestWatcher$1.evaluate(TestWatcher.java:55)\nat org.junit.rules.RunRules.evaluate(RunRules.java:20)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\nat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat com.intellij.rt.execution.application.AppMainV2.main(AppMainV2.java:131)\n</code></pre>\n\n<p>I can not figure out what is wrong with my code. Can anybody help? I can confirm that <code>viewModel.predictionNominatimsObservable</code> is not null.</p>\n"}, {"tags": ["android", "datetime", "unix", "kotlin", "unix-timestamp"], "comments": [{"owner": {"reputation": 2529, "user_id": 8031784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4tjD9.jpg?s=128&g=1", "display_name": "Aniruddh Parihar", "link": "https://stackoverflow.com/users/8031784/aniruddh-parihar"}, "edited": false, "score": 0, "creation_date": 1534859029, "post_id": 51950047, "comment_id": 90850155, "body": "follow this link : <a href=\"https://stackoverflow.com/questions/44341891/java-android-calculate-difference-between-timestamps/44342317#44342317\" title=\"java android calculate difference between timestamps\">stackoverflow.com/questions/44341891/&hellip;</a>"}, {"owner": {"reputation": 335, "user_id": 110078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7deacec09480d94a10e3a12b29596ef3?s=128&d=identicon&r=PG", "display_name": "David Zimmerman", "link": "https://stackoverflow.com/users/110078/david-zimmerman"}, "edited": false, "score": 0, "creation_date": 1534863011, "post_id": 51950047, "comment_id": 90852861, "body": "I think your timestamps are in seconds, not milliseconds"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1534877340, "post_id": 51950047, "comment_id": 90860397, "body": "Your first calculation ends up with a result under 0. <code>2881 &#47; ((1000 * 60) * 60) = 0.00080027778</code>. Which means this is a duplicate."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 2, "creation_date": 1534877347, "post_id": 51950047, "comment_id": 90860401, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4685450/why-is-the-result-of-1-3-0\">Why is the result of 1/3 == 0?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4863, "user_id": 3141231, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mCtac.png?s=128&g=1", "display_name": "Qasim", "link": "https://stackoverflow.com/users/3141231/qasim"}, "is_accepted": false, "score": 0, "last_activity_date": 1534859079, "creation_date": 1534859079, "answer_id": 51950159, "question_id": 51950047, "link": "https://stackoverflow.com/questions/51950047/how-to-find-difference-between-two-unix-time-stamp-in-hours-in-kotlin/51950159#51950159", "title": "How to find difference between two UNIX time stamp in hours in KOTLIN?", "body": "<p>Do something like this, I have not tested this but it should work</p>\n\n<pre><code>    long mills = 1534857527 - 1534854646;\n    String period = String.format(\"%02d:%02d\", \n        TimeUnit.MILLISECONDS.toHours(mills),\n        TimeUnit.MILLISECONDS.toMinutes(mills) % TimeUnit.HOURS.toMinutes(1));\n\n    System.out.println(\"Duration hh:mm -  \" + period);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "is_accepted": false, "score": 2, "last_activity_date": 1551420787, "last_edit_date": 1551420787, "creation_date": 1534911609, "answer_id": 51959827, "question_id": 51950047, "link": "https://stackoverflow.com/questions/51950047/how-to-find-difference-between-two-unix-time-stamp-in-hours-in-kotlin/51959827#51959827", "title": "How to find difference between two UNIX time stamp in hours in KOTLIN?", "body": "<p>Here is my solution, the code is written in Kotlin.</p>\n\n<p><strong>TimeInHours.kt</strong></p>\n\n<pre><code>class TimeInHours(val hours: Int, val minutes: Int, val seconds: Int) {\n        override fun toString(): String {\n            return String.format(\"%dh : %02dm : %02ds\", hours, minutes, seconds)\n        }\n}\n</code></pre>\n\n<p>Write a function which converts time duration in seconds to <code>TimeInHours</code>.</p>\n\n<pre><code>fun convertFromDuration(timeInSeconds: Long): TimeInHours {\n        var time = timeInSeconds\n        val hours = time / 3600\n        time %= 3600\n        val minutes = time / 60\n        time %= 60\n        val seconds = time\n        return TimeInHours(hours.toInt(), minutes.toInt(), seconds.toInt())\n}\n</code></pre>\n\n<p><strong>Test.kt</strong></p>\n\n<pre><code>val oldTime: Long = 1534854646\nval currentTime: Long = 1534857527\nval result = convertFromDuration(currentTime - oldTime)\nLog.i(\"TAG\", result.toString())\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>I/TAG: 0h : 48m : 01s\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user3997016"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1866, "favorite_count": 1, "answer_count": 2, "score": -1, "last_activity_date": 1551420787, "creation_date": 1534858685, "last_edit_date": 1534861769, "question_id": 51950047, "link": "https://stackoverflow.com/questions/51950047/how-to-find-difference-between-two-unix-time-stamp-in-hours-in-kotlin", "title": "How to find difference between two UNIX time stamp in hours in KOTLIN?", "body": "<p>I have two UNIX time stamp and i am using KOTLIN</p>\n\n<p>1) old time  - 1534854646\n2) current time - 1534857527</p>\n\n<p>Now i want the difference in hours and minutes.</p>\n\n<pre><code> val result = DateUtils.getRelativeTimeSpanString(1534854646, 1534857527, 0)\n</code></pre>\n\n<p>But it gives me 2 seconds but actual time difference is around 0 hour and 48 minutes.</p>\n\n<p>I have also tried :</p>\n\n<pre><code>long mills = 1534857527 - 1534854646;\nint hours = millis/(1000 * 60 * 60);\nint mins = (mills/(1000*60)) % 60;\n\nString diff = hours + \":\" + mins; \n</code></pre>\n\n<p>But still it gives 0 hours and 0 minute.</p>\n"}, {"tags": ["generics", "kotlin", "nullable"], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 11, "last_activity_date": 1581117231, "last_edit_date": 1581117231, "creation_date": 1534855402, "answer_id": 51948958, "question_id": 51948726, "link": "https://stackoverflow.com/questions/51948726/kotlin-is-it-ok-to-call-null-also/51948958#51948958", "title": "kotlin, is it ok to call null.also{}", "body": "<p>Yes it is. As the function definition tells you...</p>\n\n<pre><code>inline fun &lt;T&gt; T.also(block: (T) -&gt; Unit): T (source)\n</code></pre>\n\n<p>...<code>T</code> does not define any upper bound and may therefore be used with any, <em>nullable</em> and <em>non-nullable</em>, type (<code>&lt;T&gt;</code> is the same as <code>&lt;T: Any?&gt;</code>).</p>\n\n<p>If you're afraid about NullPointerExceptions, you don't need to be. The <code>also</code> function simply invokes the <code>block</code> with its receiver, <code>null</code> in your case, before again returning the receiver. For example, the following is legit:</p>\n\n<pre><code> //returns null and _also_ prints \"null\"\nreturn null.also { println(it) }\n</code></pre>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 413, "favorite_count": 1, "accepted_answer_id": 51948958, "answer_count": 1, "score": 5, "last_activity_date": 1581117231, "creation_date": 1534854585, "last_edit_date": 1534855990, "question_id": 51948726, "link": "https://stackoverflow.com/questions/51948726/kotlin-is-it-ok-to-call-null-also", "title": "kotlin, is it ok to call null.also{}", "body": "<p>There is code like:</p>\n\n<pre><code>result.also{......}\n</code></pre>\n\n<p>but the <code>result</code> might be null and the compiler does not complain,  it is same as </p>\n\n<pre><code>null.also{...}\n</code></pre>\n\n<p>is it ok to call <code>also{}</code>  on <code>null</code>?</p>\n"}, {"tags": ["kotlin", "jackson", "kotlin-extension", "jackson-modules"], "answers": [{"comments": [{"owner": {"reputation": 627, "user_id": 2585241, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d6d2e53402c1d283c0b862cd56691db3?s=128&d=identicon&r=PG", "display_name": "Tin Ng", "link": "https://stackoverflow.com/users/2585241/tin-ng"}, "edited": false, "score": 0, "creation_date": 1534887613, "post_id": 51948319, "comment_id": 90864695, "body": "I have a generic message listener than can accept any kind of payload, and I want to be able to parse the payload to a generic type and then call appropriate handler s based on the topic mapping. So I don&#39;t know if it&#39;s <code>SimpleBody</code> or not. Can I still achieve that somehow? <code>override fun messageArrived(topic: String?, message: MqttMessage?) { mapper.readValue&lt;MyResponse&lt;T&gt;&gt;(String(message.payload))}</code>"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 1, "last_activity_date": 1534853233, "creation_date": 1534853233, "answer_id": 51948319, "question_id": 51948178, "link": "https://stackoverflow.com/questions/51948178/error-in-typereference-in-kotlin-jackson-mapper/51948319#51948319", "title": "Error in TypeReference in Kotlin Jackson Mapper", "body": "<p>You don't need this, just use <code>com.fasterxml.jackson.module.kotlin.readValue</code>:</p>\n\n<pre><code>val response: MyResponse&lt;SimpleBody&gt; = jacksonObjectMapper().readValue(\"\"\"{\"header\":\"myheader\", \"body\":{\"name\": \"A\"}}\"\"\")\n</code></pre>\n\n<p>Please note that I changed the json a bit so that Jackson can parse it without further modifications</p>\n"}], "owner": {"reputation": 627, "user_id": 2585241, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d6d2e53402c1d283c0b862cd56691db3?s=128&d=identicon&r=PG", "display_name": "Tin Ng", "link": "https://stackoverflow.com/users/2585241/tin-ng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 884, "favorite_count": 0, "accepted_answer_id": 51948319, "answer_count": 1, "score": 2, "last_activity_date": 1534853233, "creation_date": 1534852759, "question_id": 51948178, "link": "https://stackoverflow.com/questions/51948178/error-in-typereference-in-kotlin-jackson-mapper", "title": "Error in TypeReference in Kotlin Jackson Mapper", "body": "<p>I've got the following data class</p>\n\n<pre><code>data class MyResponse&lt;T&gt;(val header: String,\n                     val body: T)\n</code></pre>\n\n<p>I want to write a generic Kotlin function that can deserialise json to various <code>MyResponse&lt;SimpleBody&gt;</code> or <code>MyResponse&lt;ComplexBody&gt;</code></p>\n\n<pre><code>class JsonSerialiser {   \n\n    val mapper = jacksonObjectMapper()\n    fun &lt;T&gt; fromJson(message: String, classz: Class&lt;T&gt;): T {\n        return mapper.readValue(message, classz)\n    }\n}\nval response: MyResponse&lt;SimpleBody&gt; = jsonSerialiser.fromJson(\"\"\"{\"header\":\"myheader\", \"body\":{\"simpleBody\":{\"name\": \"A\"}}}\"\"\", MyResponse::class.java)\n\ndata class SimpleBody(val name: String)\n</code></pre>\n\n<p>It failed to compile with this error message</p>\n\n<pre><code>Kotlin: Type inference failed. Expected type mismatch: inferred type is MyResponse&lt;*&gt; but MyResponse&lt;SimpleBody&gt; was expected\n</code></pre>\n\n<p>Anyone knows how I can get this to work? I could use MyResponse&lt;*> and then cast it, but I don't feel that's the right way.</p>\n\n<p>Thanks &amp; regards\nTin</p>\n"}, {"tags": ["android", "kotlin", "sdk", "here-api"], "comments": [{"owner": {"reputation": 6644, "user_id": 3946958, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/UZtJu.jpg?s=128&g=1", "display_name": "Ravindra Kushwaha", "link": "https://stackoverflow.com/users/3946958/ravindra-kushwaha"}, "edited": false, "score": 0, "creation_date": 1534852161, "post_id": 51948029, "comment_id": 90845457, "body": "Share your gradle dependency"}, {"owner": {"reputation": 994, "user_id": 3992260, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/imxG7.png?s=128&g=1", "display_name": "Nitin Karande", "link": "https://stackoverflow.com/users/3992260/nitin-karande"}, "reply_to_user": {"reputation": 6644, "user_id": 3946958, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/UZtJu.jpg?s=128&g=1", "display_name": "Ravindra Kushwaha", "link": "https://stackoverflow.com/users/3946958/ravindra-kushwaha"}, "edited": false, "score": 0, "creation_date": 1534852275, "post_id": 51948029, "comment_id": 90845543, "body": "This is an aar file , this  provided by Here Maps Premium  SDK.     <b>implementation(name: &#39;HERE-sdk&#39;, ext: &#39;aar&#39;)</b>"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1534852392, "post_id": 51948029, "comment_id": 90845625, "body": "Use the APK Analyzer in Android Studio to see where your space is going."}, {"owner": {"reputation": 994, "user_id": 3992260, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/imxG7.png?s=128&g=1", "display_name": "Nitin Karande", "link": "https://stackoverflow.com/users/3992260/nitin-karande"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1534852503, "post_id": 51948029, "comment_id": 90845687, "body": "@CommonsWare Here-sdk aar size is 62MB. all space gone by in libs folder"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 5, "creation_date": 1534853644, "post_id": 51948029, "comment_id": 90846430, "body": "If <code>libs</code> contains several CPU architectures, you might consider using <a href=\"https://developer.android.com/studio/build/configure-apk-splits\" rel=\"nofollow noreferrer\">APK splits</a> to have different APKs per CPU architecture."}, {"owner": {"reputation": 994, "user_id": 3992260, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/imxG7.png?s=128&g=1", "display_name": "Nitin Karande", "link": "https://stackoverflow.com/users/3992260/nitin-karande"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1534916814, "post_id": 51948029, "comment_id": 90871201, "body": "@CommonsWare I have used splits {     abi {         include &#39;armeabi&#39;, &#39;mips&#39;, &#39;mips64&#39;       } }  but facing same issue"}, {"owner": {"reputation": 1024, "user_id": 4247832, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/syIk9.jpg?s=128&g=1", "display_name": "Jithin Krishnan", "link": "https://stackoverflow.com/users/4247832/jithin-krishnan"}, "edited": false, "score": 1, "creation_date": 1534921400, "post_id": 51948029, "comment_id": 90873009, "body": "There are some fonts you can try deleting (<a href=\"https://developer.here.com/documentation/android-premium/dev_guide/topics/size-management.html\" rel=\"nofollow noreferrer\">developer.here.com/documentation/android-premium/dev_guide/&zwnj;&#8203;&hellip;</a>) however the Premium sdk is about 50-60 Mb in the end and you might not be able to bring it down further. If a light weight aplpication is required you might consider using the Starter SDK (with limited features ofcourse)"}], "answers": [{"comments": [{"owner": {"reputation": 1748, "user_id": 472355, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5f55772cb3a79220ba598283db1d46e9?s=128&d=identicon&r=PG", "display_name": "softwaresupply", "link": "https://stackoverflow.com/users/472355/softwaresupply"}, "edited": false, "score": 0, "creation_date": 1608034102, "post_id": 59874788, "comment_id": 115452901, "body": "How to remove that fonts from the integration?"}, {"owner": {"reputation": 1884, "user_id": 2674149, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/hGFWr.jpg?s=128&g=1", "display_name": "RaRa", "link": "https://stackoverflow.com/users/2674149/rara"}, "reply_to_user": {"reputation": 1748, "user_id": 472355, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/5f55772cb3a79220ba598283db1d46e9?s=128&d=identicon&r=PG", "display_name": "softwaresupply", "link": "https://stackoverflow.com/users/472355/softwaresupply"}, "edited": false, "score": 0, "creation_date": 1613727640, "post_id": 59874788, "comment_id": 117170841, "body": "@softwaresupply App level gradle &gt; android{ packagingOptions {         exclude &#39;/lib/armeabi-v7a/libNanumGothicFontPkg.so&#39;         exclude &#39;/lib/armeabi-v7a/libLohitIndicFontPkg.so&#39;         exclude &#39;/lib/armeabi-v7a/libChineseFontPkg.so&#39;     }}"}], "tags": [], "owner": {"reputation": 6669, "user_id": 3505695, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ni0YL.png?s=128&g=1", "display_name": "HERE Developer Support", "link": "https://stackoverflow.com/users/3505695/here-developer-support"}, "is_accepted": false, "score": 1, "last_activity_date": 1579770299, "creation_date": 1579770299, "answer_id": 59874788, "question_id": 51948029, "link": "https://stackoverflow.com/questions/51948029/how-to-reduce-apk-size-in-here-maps-android-sdk/59874788#59874788", "title": "How to reduce APK size in HERE Maps Android SDK", "body": "<p>Summary: There are some fonts you can try deleting (developer.here.com/documentation/android-premium/dev_guide/\u2026) however the Premium SDK is about 50-60 Mb in the end and you might not be able to bring it down further. \nIf a light weight application is required you might consider using the HERE SDK Lite (with limited features of course)</p>\n"}], "owner": {"reputation": 994, "user_id": 3992260, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/imxG7.png?s=128&g=1", "display_name": "Nitin Karande", "link": "https://stackoverflow.com/users/3992260/nitin-karande"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 708, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1579770299, "creation_date": 1534852128, "last_edit_date": 1534869933, "question_id": 51948029, "link": "https://stackoverflow.com/questions/51948029/how-to-reduce-apk-size-in-here-maps-android-sdk", "title": "How to reduce APK size in HERE Maps Android SDK", "body": "<p>I have used Premium Android SDK of <strong>HERE Maps API</strong> and implemented demo app. But my application size is <strong>65\u00a0MB</strong>.</p>\n\n<p>Also I have enabled <code>shrinkResources</code> in app <code>build.gradle</code> file as follows, but this didn't work for me.</p>\n\n<pre><code> android {\n    // Other settings\n\n    buildTypes {\n        release {\n            minifyEnabled true\n            shrinkResources true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n</code></pre>\n\n<p>So, my question is how can we reduce APK size used in Android SDK on HERE Maps API.</p>\n"}, {"tags": ["android", "image", "memory", "bitmap", "kotlin"], "comments": [{"owner": {"reputation": 3419, "user_id": 2401265, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/16369b0c7c1f0fff22ff47be0a22289a?s=128&d=identicon&r=PG", "display_name": "gmetax", "link": "https://stackoverflow.com/users/2401265/gmetax"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1534851578, "post_id": 51947831, "comment_id": 90845140, "body": "@pskink because the original is too big and I want just a scaled down version"}, {"owner": {"reputation": 3419, "user_id": 2401265, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/16369b0c7c1f0fff22ff47be0a22289a?s=128&d=identicon&r=PG", "display_name": "gmetax", "link": "https://stackoverflow.com/users/2401265/gmetax"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1534852187, "post_id": 51947831, "comment_id": 90845472, "body": "@pskink because this call doesn&#39;t maintain the aspect ratio"}, {"owner": {"reputation": 3419, "user_id": 2401265, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/16369b0c7c1f0fff22ff47be0a22289a?s=128&d=identicon&r=PG", "display_name": "gmetax", "link": "https://stackoverflow.com/users/2401265/gmetax"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1534852785, "post_id": 51947831, "comment_id": 90845883, "body": "@pskink even with the createScaledBitmap there are memory issues, let&#39;s not concentrate on how the scale works"}], "owner": {"reputation": 3419, "user_id": 2401265, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/16369b0c7c1f0fff22ff47be0a22289a?s=128&d=identicon&r=PG", "display_name": "gmetax", "link": "https://stackoverflow.com/users/2401265/gmetax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 198, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534853184, "creation_date": 1534851352, "last_edit_date": 1534853184, "question_id": 51947831, "link": "https://stackoverflow.com/questions/51947831/media-metadata-retriever-scaled-image", "title": "Media Metadata Retriever scaled image", "body": "<p>Is there a better solution to get frame of a video? </p>\n\n<p>Is there any issue with the scaling image part? </p>\n\n<p>If I don't use the bitmaps (remove code) and run the same scenario (open view for 10 times) the Memory Usage that the Profiler shows is 30-40MB smaller than when I am using those bitmaps that I am getting from the <code>mediaMetadataRetriever</code></p>\n\n<pre><code>private fun getScaledBitmap(timeUs: Long): Bitmap? {\n    try {\n        mediaMetadataRetriever?.getFrameAtTime(timeUs, MediaMetadataRetriever.OPTION_CLOSEST_SYNC)?.let {\n            val result = Bitmap.createBitmap(frameWidth, frameHeight, it.config)\n            val canvas = Canvas(result)\n            val scaleX = frameWidth.toFloat() / it.width.toFloat()\n            val scaleY = frameHeight.toFloat() / it.height.toFloat()\n            val scale = if (scaleX &gt; scaleY) scaleX else scaleY\n            val w = (it.width * scale).toInt()\n            val h = (it.height * scale).toInt()\n            val srcRect = Rect(0, 0, it.width, it.height)\n            val destRect = Rect((frameWidth - w) / 2, (frameHeight - h) / 2, w, h)\n            canvas.drawBitmap(it, srcRect, destRect, null)\n            it.recycle()\n            return result\n        }\n    } catch (e: Exception) {\n        e.printStackTrace()\n    }\n    return null\n}\n</code></pre>\n\n<blockquote>\n  <p>note <code>frameWidth</code> and <code>frameHeight</code> are the desired size of the frame</p>\n</blockquote>\n"}, {"tags": ["kotlin", "android-tv", "m3u8", "exoplayer"], "answers": [{"tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": false, "score": 1, "last_activity_date": 1535619894, "last_edit_date": 1535619894, "creation_date": 1535570253, "answer_id": 52084645, "question_id": 51947763, "link": "https://stackoverflow.com/questions/51947763/exoplayer-in-android-tv-plays-video-in-portrait-mode-instead-of-landscape/52084645#52084645", "title": "ExoPlayer in Android TV plays video in portrait mode instead of landscape", "body": "<p>Metadata of the <code>MP4</code> video contains a property called <code>Rotation=90\u00b0</code> but it's ignored by the <code>ExoPlayer</code>. To fix it you need to inject this Java function into your code:</p>\n\n<pre><code>void onVideoSizeChanged(int width, \n                        int height, \n                        int unappliedRotationDegrees, // 90\u00b0 or 270\u00b0\n                      float pixelWidthHeightRatio);\n</code></pre>\n\n<p>This allows an application using <code>TextureView</code> to easily apply the rotation by making the appropriate call to <code>TextureView.setTransform</code>. Note that on Lollypop+ <code>unappliedRotationDegrees</code> will always be equal to 0.</p>\n\n<p>You can find this function on a line #74 at <a href=\"https://github.com/google/ExoPlayer/blob/d3995eaa7ad2e8406c1c86f3035f31d762352baf/library/src/main/java/com/google/android/exoplayer/MediaCodecVideoTrackRenderer.java#L74\" rel=\"nofollow noreferrer\">MediaCodecVideoTrackRenderer</a> page of GitHub.</p>\n\n<blockquote>\n  <p>If the above-mentioned method doesn't work for you, you may find another remedy in <a href=\"https://github.com/google/ExoPlayer/issues/91\" rel=\"nofollow noreferrer\">Rotation Issue #91</a> post on a GitHub.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 7531910, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Th1llJq48LE/AAAAAAAAAAI/AAAAAAAAAAs/R-3ox_C1zb4/photo.jpg?sz=128", "display_name": "GunSky7", "link": "https://stackoverflow.com/users/7531910/gunsky7"}, "is_accepted": false, "score": 0, "last_activity_date": 1539140382, "creation_date": 1539140382, "answer_id": 52731967, "question_id": 51947763, "link": "https://stackoverflow.com/questions/51947763/exoplayer-in-android-tv-plays-video-in-portrait-mode-instead-of-landscape/52731967#52731967", "title": "ExoPlayer in Android TV plays video in portrait mode instead of landscape", "body": "<p>As far i know, <code>exoplayer</code> will generate its size based on <code>texture view</code> size. So try to programmatically resize your <code>texture view</code> by</p>\n\n<pre><code>playerView.setResizeMode(AspectRatioFrameLayout.RESIZE_MODE_FILL);\n</code></pre>\n\n<p>and also try to resize your player programmatically</p>\n\n<pre><code>mPlayer.setVideoScalingMode(C.VIDEO_SCALING_MODE_SCALE_TO_FIT_WITH_CROPPING);\n</code></pre>\n\n<p>Hope this will help.</p>\n"}], "owner": {"reputation": 996, "user_id": 271753, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/lN1NI.jpg?s=128&g=1", "display_name": "Omkar Jadhav", "link": "https://stackoverflow.com/users/271753/omkar-jadhav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1089, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1539140382, "creation_date": 1534851055, "last_edit_date": 1535569636, "question_id": 51947763, "link": "https://stackoverflow.com/questions/51947763/exoplayer-in-android-tv-plays-video-in-portrait-mode-instead-of-landscape", "title": "ExoPlayer in Android TV plays video in portrait mode instead of landscape", "body": "<p>We are using ExoPlayer to play m3u8 files (stream) on Android TV. The streaming is working fine, but the video plays in portrait mode (even if the video is shot in landscape).\nLooks like some issue with orientation of the android TV instead of aspect ratio.</p>\n\n<pre><code>private fun initializePlayer() {\n\n    if(mPlayer == null) {\n\n        playerView = activity!!.findViewById&lt;SimpleExoPlayerView&gt;(R.id.texture_view)\n       // playerView!!.setControllerVisibilityListener(this)\n        playerView!!.requestFocus()\n        val bandwidthMeter = DefaultBandwidthMeter()\n        val videoTrackSelectionFactory = AdaptiveTrackSelection.Factory(bandwidthMeter)\n        mTrackSelector = DefaultTrackSelector(videoTrackSelectionFactory)\n\n        mPlayer = ExoPlayerFactory.newSimpleInstance(activity, mTrackSelector)\n        playerView!!.player= mPlayer\n\n        mPlayerAdapter = LeanbackPlayerAdapter(activity, mPlayer, UPDATE_DELAY)\n        mPlayerGlue = VideoPlayerGlue(activity!!, mPlayerAdapter!!)\n        mPlayerGlue!!.host = VideoSupportFragmentGlueHost(this)\n        mPlayerGlue!!.playWhenPrepared()\n        play(s1)\n    }\n}\n</code></pre>\n\n<p>Commenting these lines :</p>\n\n<pre><code>mPlayerAdapter = LeanbackPlayerAdapter(activity, mPlayer, UPDATE_DELAY)\nmPlayerGlue = VideoPlayerGlue(activity!!, mPlayerAdapter!!)\nmPlayerGlue!!.host = VideoSupportFragmentGlueHost(this)\nmPlayerGlue!!.playWhenPrepared()\n</code></pre>\n\n<p>Plays the video in landscape but the player controls are hidden and it only plays the lowest quality of the video. Please help us with this. </p>\n"}, {"tags": ["android", "kotlin", "android-room", "android-livedata", "android-viewmodel"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 1, "creation_date": 1534851333, "post_id": 51947757, "comment_id": 90845014, "body": "Then <code>LiveData</code> is not needed for your categories. To sum it up, <code>LiveData</code> are data binded with a callback. So any update done in background triggers your callback, independently of anything else."}, {"owner": {"reputation": 678, "user_id": 8039540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lZolZ.jpg?s=128&g=1", "display_name": "pistolcaffe", "link": "https://stackoverflow.com/users/8039540/pistolcaffe"}, "reply_to_user": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 1, "creation_date": 1534852143, "post_id": 51947757, "comment_id": 90845443, "body": "If so, is it not desirable to use LiveData for callback only when loading category data initially?"}, {"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 1, "creation_date": 1534852537, "post_id": 51947757, "comment_id": 90845710, "body": "<code>LiveData</code> allows both asynchronized get <i>plus</i> live updates. Depends on your needs. For what I understand, your categories are fixed. Up to you."}], "answers": [{"tags": [], "owner": {"reputation": 16154, "user_id": 4747587, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/VdsH3.png?s=128&g=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4747587/henry"}, "is_accepted": true, "score": 1, "last_activity_date": 1534988163, "creation_date": 1534988163, "answer_id": 51977205, "question_id": 51947757, "link": "https://stackoverflow.com/questions/51947757/is-this-the-correct-way-of-livedata-usage/51977205#51977205", "title": "is this the correct way of LiveData usage?", "body": "<p>This is fine, but you can make a few changes:</p>\n\n<ol>\n<li><p>Change <code>LiveData&lt;MutableList&lt;CategoryItem&gt;&gt;</code> to <code>LiveData&lt;List&lt;CategoryItem&gt;&gt;</code>. Don't use a <code>MutableList</code> unless you really have to. In your case, <code>List</code> would work fine.</p></li>\n<li><p>In your <code>CategoryRepository</code> instead of fetching in <code>init</code>, do it during the <code>getAllCategories()</code> call. So change your code like this: <code>fun getAllCategories() = categoryItemDao.getAllCategoryItems()</code></p></li>\n<li><p>Similarly do the same in <code>CategoryViewModel</code> as well. Change you code to: <code>fun getAllCategories() = repository.getAllCategories()</code></p></li>\n</ol>\n\n<p>A common misconception is to use <code>LiveData</code> only when the data changes. But that's not true. Your 13 categories may not change, but that's in a database. So if you were to accomplish this without a <code>LiveData</code> you have to query the DB and populate the view in the main thread, or you need to wrap this around in a background thread. But if you do this via <code>LiveData</code>, you get the Asynchronous Reactive way of coding for free. Whenever possible, try to make your view observe a <code>LiveData</code>. </p>\n"}], "owner": {"reputation": 678, "user_id": 8039540, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lZolZ.jpg?s=128&g=1", "display_name": "pistolcaffe", "link": "https://stackoverflow.com/users/8039540/pistolcaffe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 903, "favorite_count": 0, "accepted_answer_id": 51977205, "answer_count": 1, "score": 1, "last_activity_date": 1534988163, "creation_date": 1534851038, "question_id": 51947757, "link": "https://stackoverflow.com/questions/51947757/is-this-the-correct-way-of-livedata-usage", "title": "is this the correct way of LiveData usage?", "body": "<p>I am currently applying <code>Room</code> + <code>ViewModel</code> + <code>LiveData</code> to my project.\nIn my app, there is \"obviously\" observe data that is needed, but not all.</p>\n\n<p>The code below is example code for <code>category</code> data. In my situation, category data does not change and always maintains the same value state (13 categories and content does not change). Categories are data that is loaded from the Database through the <code>CategoryItemDao</code> class.</p>\n\n<p>Does category data need to be wrapped with livedata?\nOr is there a reason enough to use LiveData in addition to its <code>observerable</code> feature?</p>\n\n<p>I've read the guide to LiveData several times, but I do not understand the exact concept.</p>\n\n<p><strong>CategoryItemDao</strong></p>\n\n<pre><code>@Dao\ninterface CategoryItemDao {\n    @Query(\"SELECT * FROM CategoryItem\")\n    fun getAllCategoryItems(): LiveData&lt;MutableList&lt;CategoryItem&gt;&gt;\n}\n</code></pre>\n\n<p><strong>CategoryRepository</strong></p>\n\n<pre><code>class CategoryRepository(application: Application) {\n    private val categoryItemDao: CategoryItemDao\n    private val allCategories: LiveData&lt;MutableList&lt;CategoryItem&gt;&gt;\n\n    init {\n        val db = AppDatabase.getDatabase(application)\n        categoryItemDao = db.categoryItemDao()\n        allCategories = categoryItemDao.getAllCategoryItems()\n    }\n\n    fun getAllCategories() = allCategories\n}\n</code></pre>\n\n<p><strong>CategoryViewModel</strong></p>\n\n<pre><code>class CategoryViewModel(application: Application) : AndroidViewModel(application) {\n    private val repository = CategoryRepository(application)\n    private val allCategories: LiveData&lt;MutableList&lt;CategoryItem&gt;&gt;\n\n    init {\n        allCategories = repository.getAllCategories()\n    }\n\n    fun getAllCategories() = allCategories\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "themes"], "comments": [{"owner": {"reputation": 1057, "user_id": 2978334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZBoIF.png?s=128&g=1", "display_name": "M.G", "link": "https://stackoverflow.com/users/2978334/m-g"}, "edited": false, "score": 0, "creation_date": 1534848643, "post_id": 51945822, "comment_id": 90843387, "body": "did you try to add this code in onCreateView ?"}, {"owner": {"reputation": 145, "user_id": 8200095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/996c7251182aa09347583ac903cf1aaa?s=128&d=identicon&r=PG&f=1", "display_name": "PastAndSalmon", "link": "https://stackoverflow.com/users/8200095/pastandsalmon"}, "reply_to_user": {"reputation": 1057, "user_id": 2978334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZBoIF.png?s=128&g=1", "display_name": "M.G", "link": "https://stackoverflow.com/users/2978334/m-g"}, "edited": false, "score": 0, "creation_date": 1534850590, "post_id": 51945822, "comment_id": 90844564, "body": "yes, i tried it in the onCrreateView of the fragment."}, {"owner": {"reputation": 27253, "user_id": 969325, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d92bf9a788b29869c47858839982f27?s=128&d=identicon&r=PG", "display_name": "Warpzit", "link": "https://stackoverflow.com/users/969325/warpzit"}, "edited": false, "score": 0, "creation_date": 1534935631, "post_id": 51945822, "comment_id": 90880538, "body": "So they are both applied. This is how I&#39;d expect it to work. Now you fragment theme should just override the styles and everything should work as expected. Correct me if I&#39;m wrong. Also it be nice to know why you want to do this as we might be able to suggest an alternative approach..."}], "answers": [{"tags": [], "owner": {"reputation": 1045, "user_id": 2552813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Kz5xz.jpg?s=128&g=1", "display_name": "pratt", "link": "https://stackoverflow.com/users/2552813/pratt"}, "is_accepted": false, "score": 0, "last_activity_date": 1571849295, "creation_date": 1571849295, "answer_id": 58527600, "question_id": 51945822, "link": "https://stackoverflow.com/questions/51945822/replacing-activity-theme-in-android-fragment/58527600#58527600", "title": "Replacing activity theme in android fragment", "body": "<p>You can try to override context theme in <code>Fragment.onGetLayoutInflater()</code> method. This is place where fragment view is not inflated yet.</p>\n\n<pre><code>override fun onGetLayoutInflater(savedInstanceState: Bundle?): LayoutInflater {\n    context?.setTheme(R.style.Theme_AppName_Light)\n    return super.onGetLayoutInflater(savedInstanceState)\n}\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 8200095, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/996c7251182aa09347583ac903cf1aaa?s=128&d=identicon&r=PG&f=1", "display_name": "PastAndSalmon", "link": "https://stackoverflow.com/users/8200095/pastandsalmon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 750, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1571849295, "creation_date": 1534844430, "last_edit_date": 1534850604, "question_id": 51945822, "link": "https://stackoverflow.com/questions/51945822/replacing-activity-theme-in-android-fragment", "title": "Replacing activity theme in android fragment", "body": "<p>I'm trying to set a theme for a fragment within an activity. </p>\n\n<p>When I set the fragment theme in the onCreate function of the fragment using the inflator as described in <a href=\"https://stackoverflow.com/questions/9469174/set-theme-for-a-fragment\">Set a theme for a fragment</a> like this:</p>\n\n<pre><code>    var contextThemeWrapper = ContextThemeWrapper(getActivity(), R.style.FragmentTheme);\n    var localInflater = inflater.cloneInContext(contextThemeWrapper)\n    return localInflater.inflate(R.layout.fragment_component_indicator, container, false)\n</code></pre>\n\n<p>or in the layout of the fragment XML, the theme for the fragment does not take effect. </p>\n\n<p>Using the Layout Inspector, I see that the theme does get added to the fragment layout but the activity theme is still there:</p>\n\n<p><a href=\"https://i.stack.imgur.com/D9byy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D9byy.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any tips on how I can set the theme of the fragment?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["kotlin", "subtraction"], "comments": [{"owner": {"reputation": 8386, "user_id": 1682559, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MefSP.jpg?s=128&g=1", "display_name": "Kevin Cruijssen", "link": "https://stackoverflow.com/users/1682559/kevin-cruijssen"}, "edited": false, "score": 3, "creation_date": 1534843969, "post_id": 51945648, "comment_id": 90840680, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/322749/retain-precision-with-double-in-java\">Retain precision with double in Java</a>"}, {"owner": {"reputation": 40344, "user_id": 1796579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b14d3685f0765c738fd90c7ec71fa9ba?s=128&d=identicon&r=PG", "display_name": "Henry", "link": "https://stackoverflow.com/users/1796579/henry"}, "edited": false, "score": 0, "creation_date": 1534844048, "post_id": 51945648, "comment_id": 90840729, "body": "If the numbers are really of type float, the result is OK. You can expect only about 6 decimal digits accuracy."}, {"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 2, "creation_date": 1534844100, "post_id": 51945648, "comment_id": 90840750, "body": "those are double not float."}, {"owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "edited": false, "score": 0, "creation_date": 1534844260, "post_id": 51945648, "comment_id": 90840849, "body": "Blackbelt I declare them as float. I am going to try to cast them in double. Thanks !"}, {"owner": {"reputation": 8386, "user_id": 1682559, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/MefSP.jpg?s=128&g=1", "display_name": "Kevin Cruijssen", "link": "https://stackoverflow.com/users/1682559/kevin-cruijssen"}, "edited": false, "score": 1, "creation_date": 1534844453, "post_id": 51945648, "comment_id": 90840977, "body": "@Elynad <code>double</code> will still give floating point inaccuracies same as <code>float</code>. You&#39;ll have to use <code>BigDecimal</code> for actual precision."}], "answers": [{"comments": [{"owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "edited": false, "score": 0, "creation_date": 1534844148, "post_id": 51945706, "comment_id": 90840775, "body": "Unfortunatly I don&#39;t want to just print or display the result, I also need to do some calculations with it.   But I am going to try the BigDecimal thing, thanks for the tip !"}], "tags": [], "owner": {"reputation": 5156, "user_id": 1834941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/831dcf778d5b10e2b63b6b0454d530e4?s=128&d=identicon&r=PG", "display_name": "Dev", "link": "https://stackoverflow.com/users/1834941/dev"}, "is_accepted": false, "score": 0, "last_activity_date": 1534844002, "creation_date": 1534844002, "answer_id": 51945706, "question_id": 51945648, "link": "https://stackoverflow.com/questions/51945648/how-to-subtract-2-floats-in-kotlin/51945706#51945706", "title": "How to subtract 2 floats in Kotlin", "body": "<p>This is a floating point error if you are not into financial calculations then you can use</p>\n\n<pre><code>var var1 = 14.9\nvar var2 = 12.8\nvar var3 = var1.minus(var2)\nprintln(\"%.2f\".format(var3))\n</code></pre>\n\n<p>Else try BigDecimal</p>\n"}], "owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2232, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1534844199, "creation_date": 1534843805, "last_edit_date": 1534844199, "question_id": 51945648, "link": "https://stackoverflow.com/questions/51945648/how-to-subtract-2-floats-in-kotlin", "title": "How to subtract 2 floats in Kotlin", "body": "<p>I have a very strange problem in my Kotlin app :</p>\n\n<pre><code>14.9 - 12.8 == 2.0999994\n</code></pre>\n\n<p>I also tried to do :</p>\n\n<pre><code>var1 = 14.9\nvar2 = 12.8\nvar1.minus(var2)\n</code></pre>\n\n<p>but I strangely get the same result.</p>\n\n<p>How can I subtract 2 floats in Kotlin and getting a decent value, like 2.1 in this case ?</p>\n"}, {"tags": ["android", "kotlin", "android-workmanager"], "answers": [{"comments": [{"owner": {"reputation": 1599, "user_id": 7397730, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-ysI7jDMeZ80/AAAAAAAAAAI/AAAAAAAAAjM/kNmyThJcrKc/photo.jpg?sz=128", "display_name": "Sriram R", "link": "https://stackoverflow.com/users/7397730/sriram-r"}, "edited": false, "score": 0, "creation_date": 1534869296, "post_id": 51947148, "comment_id": 90856593, "body": "Yeah, that&#39;s my current strategy. I was just wondering if there was any straightforward way."}, {"owner": {"reputation": 583, "user_id": 7608371, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C89cAhqPeZU/AAAAAAAAAAI/AAAAAAAAABk/gp8pl2OjmQg/photo.jpg?sz=128", "display_name": "Noor Hossain", "link": "https://stackoverflow.com/users/7608371/noor-hossain"}, "edited": false, "score": 0, "creation_date": 1609350529, "post_id": 51947148, "comment_id": 115821541, "body": "@qasim, have some codes, how to achieve this ?"}], "tags": [], "owner": {"reputation": 4863, "user_id": 3141231, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/mCtac.png?s=128&g=1", "display_name": "Qasim", "link": "https://stackoverflow.com/users/3141231/qasim"}, "is_accepted": false, "score": 3, "last_activity_date": 1534849019, "creation_date": 1534849019, "answer_id": 51947148, "question_id": 51945439, "link": "https://stackoverflow.com/questions/51945439/set-initial-delay-to-a-periodic-work-manager-in-android/51947148#51947148", "title": "Set initial delay to a Periodic Work Manager in Android", "body": "<p>With the current alpha release of <code>WorkManager</code> (<code>v1.0.0-alpha07</code>), i think it's not possible to set initial delay for the <code>PeriodicWorkReqeust</code>. May be we'll get some API in next releases.</p>\n\n<p>For the time being, as you said, you can use a <code>OneTimeWork</code> request setup with initial delay, which will then en-queue a <code>PeriodicWork</code> request to WorkManager.</p>\n\n<p>I would say it a hack but not that much dirty.</p>\n"}, {"comments": [{"owner": {"reputation": 948, "user_id": 8919323, "user_type": "registered", "profile_image": "https://graph.facebook.com/1792111867490136/picture?type=large", "display_name": "Micha\u0142 Pow\u0142oka", "link": "https://stackoverflow.com/users/8919323/micha%c5%82-pow%c5%82oka"}, "edited": false, "score": 0, "creation_date": 1554553314, "post_id": 54394957, "comment_id": 97799635, "body": "Docs say that flexTime is ignored on certain API versions (23 for example)... Is there any reasonable solution yet?"}], "tags": [], "owner": {"reputation": 599, "user_id": 1575605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7adc5b468053cf53de99bc97e32ae58f?s=128&d=identicon&r=PG", "display_name": "Rafael Chagas", "link": "https://stackoverflow.com/users/1575605/rafael-chagas"}, "is_accepted": false, "score": 5, "last_activity_date": 1548682802, "last_edit_date": 1548682802, "creation_date": 1548643955, "answer_id": 54394957, "question_id": 51945439, "link": "https://stackoverflow.com/questions/51945439/set-initial-delay-to-a-periodic-work-manager-in-android/54394957#54394957", "title": "Set initial delay to a Periodic Work Manager in Android", "body": "<p><strong>PeriodicWorkRequest</strong> has a nice Builder constructor where you can pass an interval for which the work can execute. You can check the details of the Builder and each parameter <a href=\"https://developer.android.com/reference/androidx/work/PeriodicWorkRequest.Builder#PeriodicWorkRequest.Builder(java.lang.Class%3C?%20extends%20androidx.work.ListenableWorker%3E,%20long,%20java.util.concurrent.TimeUnit,%20long,%20java.util.concurrent.TimeUnit)\" rel=\"noreferrer\">here</a></p>\n\n<p>So, to set an initial delay to your periodic work you can do like this:</p>\n\n<pre><code>int hourOfTheDay = 10; // When to run the job\nint repeatInterval = 1; // In days\n\nlong flexTime = calculateFlex(hourOfTheDay, repeatInterval);\n\nConstraints myConstraints = new Constraints.Builder()\n        .setRequiresBatteryNotLow(true)\n        .build();\n\nPeriodicWorkRequest workRequest =\n        new PeriodicWorkRequest.Builder(MyNiceWorker.class,\n                repeatInterval, TimeUnit.DAYS,\n                flexTime, TimeUnit.MILLISECONDS)\n                .setConstraints(myConstraints)\n                .build();\n\nWorkManager.getInstance().enqueueUniquePeriodicWork(YOUR_NICE_WORK_TAG,\n        ExistingPeriodicWorkPolicy.REPLACE,\n        workRequest);\n</code></pre>\n\n<p>Here is where the magic happens:</p>\n\n<pre><code>private long calculateFlex(int hourOfTheDay, int periodInDays) {\n\n    // Initialize the calendar with today and the preferred time to run the job.\n    Calendar cal1 = Calendar.getInstance();\n    cal1.set(Calendar.HOUR_OF_DAY, hourOfTheDay);\n    cal1.set(Calendar.MINUTE, 0);\n    cal1.set(Calendar.SECOND, 0);\n\n    // Initialize a calendar with now.\n    Calendar cal2 = Calendar.getInstance();\n\n    if (cal2.getTimeInMillis() &lt; cal1.getTimeInMillis()) {\n        // Add the worker periodicity.\n        cal2.setTimeInMillis(cal2.getTimeInMillis() + TimeUnit.DAYS.toMillis(periodInDays));\n    }\n\n    long delta = (cal2.getTimeInMillis() - cal1.getTimeInMillis());\n\n    return ((delta &gt; PeriodicWorkRequest.MIN_PERIODIC_FLEX_MILLIS) ? delta\n            : PeriodicWorkRequest.MIN_PERIODIC_FLEX_MILLIS);\n}\n</code></pre>\n\n<p>Please be aware that this time is not exact. <strong>WorkManager</strong> may trigger your job at any time in that flex window depending on your constraints, system load, other scheduled jobs, etc.</p>\n\n<p>If you want a precise timing, switch to <strong>AlarmManager</strong>.</p>\n\n<p>Hope it helps!</p>\n"}, {"comments": [{"owner": {"reputation": 306, "user_id": 5994250, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/370b663384b8d58905a254ecb1c48029?s=128&d=identicon&r=PG", "display_name": "proninyaroslav", "link": "https://stackoverflow.com/users/5994250/proninyaroslav"}, "edited": false, "score": 0, "creation_date": 1563906949, "post_id": 56250354, "comment_id": 100853908, "body": "<code>setInitialDelay</code> works weird. When I set a startup period of 15 minutes and the initial delay of 1 minute, the worker starts after 16 minutes. I thought it would immediately (as <code>OneTimeWorkRequest</code>), but after 1 minute (and not after 16 minutes). And the subsequent starts will be every 15 minutes."}, {"owner": {"reputation": 2582, "user_id": 7368826, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-4ZbdUCL5TtY/AAAAAAAAAAI/AAAAAAAAAEs/7LgtAp-9ITg/photo.jpg?sz=128", "display_name": "Anjal Saneen", "link": "https://stackoverflow.com/users/7368826/anjal-saneen"}, "reply_to_user": {"reputation": 306, "user_id": 5994250, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/370b663384b8d58905a254ecb1c48029?s=128&d=identicon&r=PG", "display_name": "proninyaroslav", "link": "https://stackoverflow.com/users/5994250/proninyaroslav"}, "edited": false, "score": 2, "creation_date": 1563910574, "post_id": 56250354, "comment_id": 100855437, "body": "@proninyaroslav Periodic work has a minimum interval of 15 minutes and it cannot have an initial delay. MIN_PERIODIC_INTERVAL_MILLIS is 15 minute. <a href=\"https://developer.android.com/reference/kotlin/androidx/work/PeriodicWorkRequest#min_periodic_interval_millis\" rel=\"nofollow noreferrer\">developer.android.com/reference/kotlin/androidx/work/&hellip;</a>"}, {"owner": {"reputation": 306, "user_id": 5994250, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/370b663384b8d58905a254ecb1c48029?s=128&d=identicon&r=PG", "display_name": "proninyaroslav", "link": "https://stackoverflow.com/users/5994250/proninyaroslav"}, "edited": false, "score": 0, "creation_date": 1563960576, "post_id": 56250354, "comment_id": 100870486, "body": "Thank you. I will try to do a trick with <code>OneTimeWorkRequest</code>"}, {"owner": {"reputation": 285, "user_id": 5821291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2b4557deb00af07d565a6e1eca8bf?s=128&d=identicon&r=PG&f=1", "display_name": "SmartAndroidian", "link": "https://stackoverflow.com/users/5821291/smartandroidian"}, "edited": false, "score": 1, "creation_date": 1564655175, "post_id": 56250354, "comment_id": 101106334, "body": "Initial delay cannot be set on PeriodicWorker, initial delay is for oneTimeWorker only"}, {"owner": {"reputation": 2582, "user_id": 7368826, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-4ZbdUCL5TtY/AAAAAAAAAAI/AAAAAAAAAEs/7LgtAp-9ITg/photo.jpg?sz=128", "display_name": "Anjal Saneen", "link": "https://stackoverflow.com/users/7368826/anjal-saneen"}, "reply_to_user": {"reputation": 285, "user_id": 5821291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2b4557deb00af07d565a6e1eca8bf?s=128&d=identicon&r=PG&f=1", "display_name": "SmartAndroidian", "link": "https://stackoverflow.com/users/5821291/smartandroidian"}, "edited": false, "score": 0, "creation_date": 1564844096, "post_id": 56250354, "comment_id": 101167290, "body": "@SmartAndroidian Can you check the version of Work manager? it should be Version 2.1.0-alpha02+ to get the setInitialDelay()."}, {"owner": {"reputation": 285, "user_id": 5821291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2b4557deb00af07d565a6e1eca8bf?s=128&d=identicon&r=PG&f=1", "display_name": "SmartAndroidian", "link": "https://stackoverflow.com/users/5821291/smartandroidian"}, "edited": false, "score": 2, "creation_date": 1564990640, "post_id": 56250354, "comment_id": 101195435, "body": "I am using the version <code>implementation &#39;android.arch.work:work-runtime:1.0.1&#39;</code> and here setInitialDelay() is not there. Sorry I am using stable version of <code>WorkManager</code> and not alpha."}, {"owner": {"reputation": 2582, "user_id": 7368826, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-4ZbdUCL5TtY/AAAAAAAAAAI/AAAAAAAAAEs/7LgtAp-9ITg/photo.jpg?sz=128", "display_name": "Anjal Saneen", "link": "https://stackoverflow.com/users/7368826/anjal-saneen"}, "reply_to_user": {"reputation": 285, "user_id": 5821291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8f2b4557deb00af07d565a6e1eca8bf?s=128&d=identicon&r=PG&f=1", "display_name": "SmartAndroidian", "link": "https://stackoverflow.com/users/5821291/smartandroidian"}, "edited": false, "score": 0, "creation_date": 1565024550, "post_id": 56250354, "comment_id": 101212615, "body": "@SmartAndroidian You can use stable version <code>2.2.0-rc01</code>. it&#39;s there as well."}, {"owner": {"reputation": 177, "user_id": 9311439, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rmTru.jpg?s=128&g=1", "display_name": "Evgeny Gil", "link": "https://stackoverflow.com/users/9311439/evgeny-gil"}, "edited": false, "score": 0, "creation_date": 1604867373, "post_id": 56250354, "comment_id": 114471336, "body": "A little clarification, this method (setInitialDelay) does not work for a worker on android 23, worker version 2.4.0"}], "tags": [], "owner": {"reputation": 2582, "user_id": 7368826, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-4ZbdUCL5TtY/AAAAAAAAAAI/AAAAAAAAAEs/7LgtAp-9ITg/photo.jpg?sz=128", "display_name": "Anjal Saneen", "link": "https://stackoverflow.com/users/7368826/anjal-saneen"}, "is_accepted": false, "score": 10, "last_activity_date": 1558505545, "creation_date": 1558505545, "answer_id": 56250354, "question_id": 51945439, "link": "https://stackoverflow.com/questions/51945439/set-initial-delay-to-a-periodic-work-manager-in-android/56250354#56250354", "title": "Set initial delay to a Periodic Work Manager in Android", "body": "<p>On the new version of Work manager (<a href=\"https://developer.android.com/jetpack/androidx/releases/work#2.1.0-alpha02\" rel=\"noreferrer\">Version 2.1.0-alpha02</a> released on May 16, 2019) PeriodicWorkRequests now support initial delays. You can use the setInitialDelay method on PeriodicWorkRequest.Builder to set an initial delay.</p>\n\n<p>Example: </p>\n\n<pre><code>    PeriodicWorkRequest workRequest = new PeriodicWorkRequest.Builder(\n        WorkerReminderPeriodic.class,\n        24,\n        TimeUnit.HOURS,\n        PeriodicWorkRequest.MIN_PERIODIC_FLEX_MILLIS,\n        TimeUnit.MILLISECONDS)\n      .setInitialDelay(1, TimeUnit.HOURS)\n      .addTag(\"send_reminder_periodic\")\n      .build();\n\n\n    WorkManager.getInstance()\n        .enqueueUniquePeriodicWork(\"send_reminder_periodic\", ExistingPeriodicWorkPolicy.REPLACE, workRequest);\n</code></pre>\n"}], "owner": {"reputation": 1599, "user_id": 7397730, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-ysI7jDMeZ80/AAAAAAAAAAI/AAAAAAAAAjM/kNmyThJcrKc/photo.jpg?sz=128", "display_name": "Sriram R", "link": "https://stackoverflow.com/users/7397730/sriram-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8614, "favorite_count": 7, "answer_count": 3, "score": 15, "last_activity_date": 1558505545, "creation_date": 1534843121, "question_id": 51945439, "link": "https://stackoverflow.com/questions/51945439/set-initial-delay-to-a-periodic-work-manager-in-android", "title": "Set initial delay to a Periodic Work Manager in Android", "body": "<p>I have a <code>Worker</code> instance that needs to run every 24 hours which is pretty simple considering the <code>PeriodicWorkRequest</code> API. But here's the catch.</p>\n\n<p>If the user initiates the work at say 8 PM, I need the first instance of the work manager to run at 9 AM the next morning and then follow the 24-hour periodic constraint.</p>\n\n<p>I looked <a href=\"https://stackoverflow.com/questions/50363541/schedule-a-work-on-a-specific-time-with-workmanager/50363613\">here</a>and I found that the OneTimeWorkRequest API has a <code>setInitialDelay()</code> function that can be used but I wasn't able to find anything for the <code>PeriodicWork</code> API.</p>\n\n<p>Ther are some hacks for this such as I can use the <code>OneTimeWork</code> with the initial delay and then schedule a <code>PeriodicWork</code> from there but it's kinda a dirty hack.</p>\n\n<p>Is there any way to do this with just the <code>PeriodicWorkRequest</code> API?</p>\n"}, {"tags": ["android", "kotlin", "android-architecture-navigation"], "answers": [{"comments": [{"owner": {"reputation": 134, "user_id": 9189225, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vFnrZxSuOJ0/AAAAAAAAAAI/AAAAAAAAAAw/I9EB3nixs_I/photo.jpg?sz=128", "display_name": "P&#233;ter Kov&#225;cs", "link": "https://stackoverflow.com/users/9189225/p%c3%a9ter-kov%c3%a1cs"}, "edited": false, "score": 0, "creation_date": 1534842547, "post_id": 51945228, "comment_id": 90839901, "body": "But it worked yesterday, and I&#39;ve followed the implementation manual. O.o Thanks, I&#39;m gonna check it."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 134, "user_id": 9189225, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vFnrZxSuOJ0/AAAAAAAAAAI/AAAAAAAAAAw/I9EB3nixs_I/photo.jpg?sz=128", "display_name": "P&#233;ter Kov&#225;cs", "link": "https://stackoverflow.com/users/9189225/p%c3%a9ter-kov%c3%a1cs"}, "edited": false, "score": 0, "creation_date": 1534843143, "post_id": 51945228, "comment_id": 90840228, "body": "findNavController needs an activity or fragment as 1st parameter: <code>Navigation.findNavController(myActivity, R.id.nav_host)</code>"}, {"owner": {"reputation": 395, "user_id": 1529266, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9e028288c108403efdd4c6311a51263f?s=128&d=identicon&r=PG", "display_name": "Ben Ezard", "link": "https://stackoverflow.com/users/1529266/ben-ezard"}, "edited": false, "score": 0, "creation_date": 1534845550, "post_id": 51945228, "comment_id": 90841620, "body": "@mTak since the OP is using Kotlin, there are some extension functions provided in the Kotlin version of the navigation libraries, such as <code>fun View.findNavController(): NavController = Navigation.findNavController(this)</code> which mean that you can just call <code>findNavController()</code> on a <code>View</code> object, as opposed to passing the <code>View</code> into a static function"}, {"owner": {"reputation": 134, "user_id": 9189225, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vFnrZxSuOJ0/AAAAAAAAAAI/AAAAAAAAAAw/I9EB3nixs_I/photo.jpg?sz=128", "display_name": "P&#233;ter Kov&#225;cs", "link": "https://stackoverflow.com/users/9189225/p%c3%a9ter-kov%c3%a1cs"}, "edited": false, "score": 0, "creation_date": 1534845969, "post_id": 51945228, "comment_id": 90841845, "body": "mTak is right. Upgrading gradle to 3.3.0.alpha6 causes, that View.findnavController() doesn&#39;t work but Navigation.findnavcontroller(View) works. (@mTak, if you also write the gradle issue to your answer i&#39;ll accept it)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 395, "user_id": 1529266, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9e028288c108403efdd4c6311a51263f?s=128&d=identicon&r=PG", "display_name": "Ben Ezard", "link": "https://stackoverflow.com/users/1529266/ben-ezard"}, "edited": false, "score": 0, "creation_date": 1534845979, "post_id": 51945228, "comment_id": 90841852, "body": "@BenEzard I guess you&#39; re right. I&#39;ve only used the Java version."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 134, "user_id": 9189225, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vFnrZxSuOJ0/AAAAAAAAAAI/AAAAAAAAAAw/I9EB3nixs_I/photo.jpg?sz=128", "display_name": "P&#233;ter Kov&#225;cs", "link": "https://stackoverflow.com/users/9189225/p%c3%a9ter-kov%c3%a1cs"}, "edited": false, "score": 0, "creation_date": 1534846083, "post_id": 51945228, "comment_id": 90841909, "body": "@P&#233;terKov&#225;cs the gradle case did not occur to me so I&#39;m fine"}, {"owner": {"reputation": 134, "user_id": 9189225, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vFnrZxSuOJ0/AAAAAAAAAAI/AAAAAAAAAAw/I9EB3nixs_I/photo.jpg?sz=128", "display_name": "P&#233;ter Kov&#225;cs", "link": "https://stackoverflow.com/users/9189225/p%c3%a9ter-kov%c3%a1cs"}, "edited": false, "score": 0, "creation_date": 1534847002, "post_id": 51945228, "comment_id": 90842383, "body": "That&#39;s strange, because I&#39;ve downgraded the gradle and View.findnavcontroller worked as before."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "reply_to_user": {"reputation": 134, "user_id": 9189225, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vFnrZxSuOJ0/AAAAAAAAAAI/AAAAAAAAAAw/I9EB3nixs_I/photo.jpg?sz=128", "display_name": "P&#233;ter Kov&#225;cs", "link": "https://stackoverflow.com/users/9189225/p%c3%a9ter-kov%c3%a1cs"}, "edited": false, "score": 0, "creation_date": 1534847183, "post_id": 51945228, "comment_id": 90842488, "body": "@P&#233;terKov&#225;cs it seems that Ben Ezard is right, but since this is Kotlin I can&#39;t be sure"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": true, "score": 2, "last_activity_date": 1534842370, "creation_date": 1534842370, "answer_id": 51945228, "question_id": 51944698, "link": "https://stackoverflow.com/questions/51944698/android-navigation-component-unresolved-reference/51945228#51945228", "title": "Android Navigation Component unresolved reference", "body": "<p>There are 2 implementations for <code>findNavController</code>:  <br/>\n<code>public static NavController findNavController (View view)</code> and <br/>\n<code>public static NavController findNavController (Activity activity, int viewId)</code> <br/>\nbut you use   <br/></p>\n\n<pre><code>findNavController()  \n</code></pre>\n\n<p>you' re missing the needed parameters</p>\n"}, {"tags": [], "owner": {"reputation": 395, "user_id": 1529266, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9e028288c108403efdd4c6311a51263f?s=128&d=identicon&r=PG", "display_name": "Ben Ezard", "link": "https://stackoverflow.com/users/1529266/ben-ezard"}, "is_accepted": false, "score": 1, "last_activity_date": 1534845418, "creation_date": 1534845418, "answer_id": 51946123, "question_id": 51944698, "link": "https://stackoverflow.com/questions/51944698/android-navigation-component-unresolved-reference/51946123#51946123", "title": "Android Navigation Component unresolved reference", "body": "<p>Yes, it just appears to be a bug with the latest version of Android Studio Canary. At least, rolling back to a previous Canary build solved the issue for me</p>\n\n<p>I'm running Windows, so it's not a Mac issue</p>\n"}], "owner": {"reputation": 134, "user_id": 9189225, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vFnrZxSuOJ0/AAAAAAAAAAI/AAAAAAAAAAw/I9EB3nixs_I/photo.jpg?sz=128", "display_name": "P&#233;ter Kov&#225;cs", "link": "https://stackoverflow.com/users/9189225/p%c3%a9ter-kov%c3%a1cs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4235, "favorite_count": 0, "accepted_answer_id": 51945228, "answer_count": 2, "score": 6, "last_activity_date": 1534845418, "creation_date": 1534840456, "question_id": 51944698, "link": "https://stackoverflow.com/questions/51944698/android-navigation-component-unresolved-reference", "title": "Android Navigation Component unresolved reference", "body": "<p>I've just changed platform from windows to mac, and when I try to build my app I get this message: </p>\n\n<pre><code>Unresolved reference. None of the following candidates is applicable because of receiver type mismatch:\npublic fun `Activity;`.findNavController(viewId: Int): `NavController;` defined in androidx.navigation\npublic fun `View;`.findNavController(): `NavController;` defined in androidx.navigation\n</code></pre>\n\n<p>The error is in that line:</p>\n\n<pre><code>bSettingsLogout.findNavController().navigate(R.id.authenticationActivity)\n</code></pre>\n\n<p>On Windows I've used older 3.3 canary version, but on the developer site nothing changed about navigation components.</p>\n\n<p>I'm not sure if it a mac, or a Android Studio canary 6 error.</p>\n\n<p>Any help would be appreciated!</p>\n"}, {"tags": ["android", "button", "android-recyclerview", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1290, "user_id": 10035978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ca7M0.jpg?s=128&g=1", "display_name": "Alex Kolydas", "link": "https://stackoverflow.com/users/10035978/alex-kolydas"}, "edited": false, "score": 1, "creation_date": 1534841045, "post_id": 51944763, "comment_id": 90839154, "body": "Thank you very much!!!(i will accept answer in 5 minutes!)"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "reply_to_user": {"reputation": 1290, "user_id": 10035978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ca7M0.jpg?s=128&g=1", "display_name": "Alex Kolydas", "link": "https://stackoverflow.com/users/10035978/alex-kolydas"}, "edited": false, "score": 1, "creation_date": 1534841113, "post_id": 51944763, "comment_id": 90839195, "body": "@AlexKolydas happy to help you"}, {"owner": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1534841284, "post_id": 51944763, "comment_id": 90839277, "body": "I think you want two buttons in your recyclerview right"}, {"owner": {"reputation": 1290, "user_id": 10035978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ca7M0.jpg?s=128&g=1", "display_name": "Alex Kolydas", "link": "https://stackoverflow.com/users/10035978/alex-kolydas"}, "edited": false, "score": 0, "creation_date": 1534841485, "post_id": 51944763, "comment_id": 90839367, "body": "Yeah i will do it with the way Nilesh showed me!"}, {"owner": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 1, "creation_date": 1534841521, "post_id": 51944763, "comment_id": 90839380, "body": "Oh, right right.. I hope you succeed.. :)"}, {"owner": {"reputation": 3296, "user_id": 495420, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/PMCxu.jpg?s=128&g=1", "display_name": "timv", "link": "https://stackoverflow.com/users/495420/timv"}, "edited": false, "score": 0, "creation_date": 1547532470, "post_id": 51944763, "comment_id": 95214282, "body": "Very simple perfect solution. +1"}, {"owner": {"reputation": 747, "user_id": 4208582, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001724898318/picture?type=large", "display_name": "Michel Fernandes", "link": "https://stackoverflow.com/users/4208582/michel-fernandes"}, "edited": false, "score": 0, "creation_date": 1596449535, "post_id": 51944763, "comment_id": 111804999, "body": "I&#39;ve look for it for two days! Thank you!!!"}], "tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": true, "score": 9, "last_activity_date": 1534840682, "creation_date": 1534840682, "answer_id": 51944763, "question_id": 51944693, "link": "https://stackoverflow.com/questions/51944693/how-to-add-a-click-listener-to-my-recycler-view-android-kotlin/51944763#51944763", "title": "How to add a click listener to my recycler view (Android kotlin)", "body": "<p>Try this</p>\n\n<pre><code> override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n        holder.textViewName.text = seriesList[position].name\n        holder.textViewNameDesc.text = seriesList[position].desc\n\n        holder.textViewName.setOnClickListener {\n            Toast.makeText(context,\"clicked\",Toast.LENGTH_SHORT).show()\n        }\n\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 1290, "user_id": 10035978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ca7M0.jpg?s=128&g=1", "display_name": "Alex Kolydas", "link": "https://stackoverflow.com/users/10035978/alex-kolydas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7225, "favorite_count": 0, "closed_date": 1534958889, "accepted_answer_id": 51944763, "answer_count": 1, "score": 7, "last_activity_date": 1534840682, "creation_date": 1534840431, "question_id": 51944693, "link": "https://stackoverflow.com/questions/51944693/how-to-add-a-click-listener-to-my-recycler-view-android-kotlin", "closed_reason": "Duplicate", "title": "How to add a click listener to my recycler view (Android kotlin)", "body": "<p>I have a recycler view with 2 elements.I want to add 2 buttons in order to do different things(depends on which element of the recycler view.How is it possible to do that?My elements are textviews</p>\n\n<p><strong>SettingsActiv.kt</strong></p>\n\n<pre><code>class SettingsActiv : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_settings)\n\n        val arrow_backBtn = findViewById(R.id.settingsToolbarBtn) as Button\n        arrow_backBtn.setOnClickListener{\n            startActivity(Intent(this, MainActivity::class.java))\n        }\n\n        val linearLayout  = findViewById(R.id.constr) as LinearLayout\n        val recyclerView =  RecyclerView(this)\n        val series = ArrayList&lt;SeriesModel&gt;()\n        recyclerView.layoutParams = LinearLayout.LayoutParams(LinearLayout.LayoutParams.MATCH_PARENT, LinearLayout.LayoutParams.WRAP_CONTENT)\n        series.add(SeriesModel(\"Unit of length\",\"Meter\"))\n        series.add(SeriesModel(\"Unit of temperature\",\"Celcius\"))\n        val adapter = MyAdapter(series)\n        recyclerView.setHasFixedSize(true)\n        recyclerView.layoutManager = LinearLayoutManager(this, LinearLayout.VERTICAL, false)\n        recyclerView.adapter = adapter\n        linearLayout.addView(recyclerView,1)\n}\n</code></pre>\n\n<p><strong>MyAdapter.kt</strong></p>\n\n<pre><code>class MyAdapter(private val seriesList: ArrayList&lt;SeriesModel&gt;) : RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt;() {\n\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyAdapter.MyViewHolder {\n        val v = LayoutInflater.from(parent.context).inflate(R.layout.activity_settings_child, parent, false)\n        return MyViewHolder(v)\n    }\n\n    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n        holder.textViewName.text = seriesList[position].name\n        holder.textViewNameDesc.text = seriesList[position].desc\n\n    }\n\n    override fun getItemCount(): Int {\n        return seriesList.size\n    }\n\n    class MyViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n        val textViewName = itemView.findViewById(R.id.name) as TextView\n        val textViewNameDesc = itemView.findViewById(R.id.desc) as TextView\n\n    }\n}\n</code></pre>\n"}, {"tags": ["javafx", "kotlin", "observable", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 894, "user_id": 5070552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-2Xo1h4e-Zpg/AAAAAAAAAAI/AAAAAAAAACQ/2vxAWb-LHNo/photo.jpg?sz=128", "display_name": "Samuel Kodytek", "link": "https://stackoverflow.com/users/5070552/samuel-kodytek"}, "edited": false, "score": 0, "creation_date": 1534842269, "post_id": 51945150, "comment_id": 90839774, "body": "Yes thats, +/- what I expected (more in my edited question), there isn&#39;t a really neater way of doing such things is there?"}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 894, "user_id": 5070552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-2Xo1h4e-Zpg/AAAAAAAAAAI/AAAAAAAAACQ/2vxAWb-LHNo/photo.jpg?sz=128", "display_name": "Samuel Kodytek", "link": "https://stackoverflow.com/users/5070552/samuel-kodytek"}, "edited": false, "score": 0, "creation_date": 1534843064, "post_id": 51945150, "comment_id": 90840185, "body": "Not that I can think of :)"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 2, "last_activity_date": 1534842105, "creation_date": 1534842105, "answer_id": 51945150, "question_id": 51944279, "link": "https://stackoverflow.com/questions/51944279/tornadofx-compare-2-form-values-in-validationcontext/51945150#51945150", "title": "TornadoFX: Compare 2 form values in ValidationContext", "body": "<p>You can create validators for each field so that they compare against the other field. Then you need to make sure to re-evaluate the validator for the other field when a field is changed. Make sure to include <code>focusFirstError = false</code> to avoid the focus to shift when you make a change in the input fields.</p>\n\n<pre><code>class DualValidationForm : View() {\n    private val vm = object : ViewModel() {\n        val text1Property = bind { SimpleStringProperty() }\n        val text2Property = bind { SimpleStringProperty() }\n    }\n\n    override val root = form {\n        fieldset(\"Make sure both fields have the same value\") {\n            field(\"Text 1\") {\n                textfield(vm.text1Property) {\n                    validator {\n                        if (it == vm.text2Property.value) null else ValidationMessage(\"Not the same!\", ValidationSeverity.Error)\n                    }\n                    vm.text1Property.onChange {\n                        vm.validate(focusFirstError = false, fields = vm.text2Property)\n                    }\n                }\n            }\n            field(\"Text 2\") {\n                textfield(vm.text2Property) {\n                    validator {\n                        if (it == vm.text1Property.value) null else ValidationMessage(\"Not the same!\", ValidationSeverity.Error)\n                    }\n                    vm.text2Property.onChange {\n                        vm.validate(focusFirstError = false, fields = vm.text1Property)\n                    }\n                }\n            }\n            button(\"You can click me when both fields have the same value\") {\n                enableWhen(vm.valid)\n                action {\n                    information(\"Yay!\", \"You made it!\").show()\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 894, "user_id": 5070552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-2Xo1h4e-Zpg/AAAAAAAAAAI/AAAAAAAAACQ/2vxAWb-LHNo/photo.jpg?sz=128", "display_name": "Samuel Kodytek", "link": "https://stackoverflow.com/users/5070552/samuel-kodytek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 51945150, "answer_count": 1, "score": 1, "last_activity_date": 1534842105, "creation_date": 1534838806, "last_edit_date": 1534841240, "question_id": 51944279, "link": "https://stackoverflow.com/questions/51944279/tornadofx-compare-2-form-values-in-validationcontext", "title": "TornadoFX: Compare 2 form values in ValidationContext", "body": "<p><strong>In tornadofx</strong>, I am trying to validate if two values of inputs in a form equal. I followed <a href=\"https://github.com/edvin/tornadofx-guide/blob/master/part1/11.%20Editing%20Models%20and%20Validation.md#ad-hoc-validation\" rel=\"nofollow noreferrer\">this</a> guide and everything works as expected. But I encountered that I have no way how to check if the two values in inputs equal.</p>\n\n<p>For example, let's say I want to create the simple registration form where I have to check if the 2 passwords equal. What I tried was:</p>\n\n<pre><code>val validator = ValidationContext()\n\nvalidator.addValidator(this, this.textProperty()) {\n    if(!password!!.isEqualTo(it).get()) //password1 != password2 -&gt; does not work\n        error(\"Passwords do not equal\")\n}\n</code></pre>\n\n<p>I looked into the <a href=\"https://github.com/edvin/tornadofx-samples/tree/master/login\" rel=\"nofollow noreferrer\">login example</a> hoping I would find help in the example code but without success.</p>\n\n<p>Is there a way to compare the inputs in the validation context? If so how? </p>\n\n<p><strong>EDIT:</strong> This does work but I don't think it is the desired way to check the inputs in the validation context. Is there a better way? </p>\n\n<pre><code>if (password.get() != password2.get()) \n    error(\"Passwords do not equal\") //Returns the error message \n</code></pre>\n"}, {"tags": ["java", "android", "json", "kotlin", "jackson"], "answers": [{"tags": [], "owner": {"reputation": 472, "user_id": 10215959, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4yDn058sW3k/AAAAAAAAAAI/AAAAAAAAAMg/zvFfpXqnviA/photo.jpg?sz=128", "display_name": "Mahdi Rajabi", "link": "https://stackoverflow.com/users/10215959/mahdi-rajabi"}, "is_accepted": false, "score": 0, "last_activity_date": 1534837721, "creation_date": 1534837721, "answer_id": 51943992, "question_id": 51943696, "link": "https://stackoverflow.com/questions/51943696/deserialize-json-to-different-types-with-jacksonobjectmapper/51943992#51943992", "title": "Deserialize JSON to Different types with jacksonObjectMapper", "body": "<p>As far as I know, at least I experienced, you can not assign abstract type to readValue method, you have to specified it's concrete type both in readValue parameterizedType and it's properties. </p>\n\n<pre><code>jacksonObjectMapper().readValue&lt;Error&gt;(response.body)\n</code></pre>\n\n<p>In the line above you have to replace Error by one of it's subtype you wish and in following you must replace <code>Map</code> bye <code>HashedMap</code></p>\n\n<pre><code>data class MultiError(val errorMessage: Map&lt;String, String&gt;) : Error()\n</code></pre>\n\n<p>Another way is using @JsonTypeInfo into json object to notify JackSon to include exact object type as meta-data into json stream. this solution needs code correction in both server and client side application. Refer to following link:</p>\n\n<p><a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonTypeInfo.html\" rel=\"nofollow noreferrer\">https://fasterxml.github.io/jackson-annotations/javadoc/2.4/com/fasterxml/jackson/annotation/JsonTypeInfo.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "is_accepted": false, "score": 0, "last_activity_date": 1534839598, "creation_date": 1534839598, "answer_id": 51944484, "question_id": 51943696, "link": "https://stackoverflow.com/questions/51943696/deserialize-json-to-different-types-with-jacksonobjectmapper/51944484#51944484", "title": "Deserialize JSON to Different types with jacksonObjectMapper", "body": "<p>The problem is that Jackson either needs a JsonCreator or an empty constructor.</p>\n\n<p>Data classes don't have empty constructors. If you want an empty constructor anyway, you can use the <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html#no-arg-compiler-plugin\" rel=\"nofollow noreferrer\">Kotlin No-Args plugin.</a></p>\n\n<p>gradle:</p>\n\n<pre><code> dependencies {\n classpath \"org.jetbrains.kotlin:kotlin-noarg:$kotlinVersion\"\n     ... \n }\n ...\n apply plugin: \"kotlin-noarg\"\n ...\n noArg {\n    annotation(\"com.your.package.NoArgs\")\n }\n</code></pre>\n\n<p>Now, create the Custom Annotation:</p>\n\n<pre><code>package com.your.package\n\nannotation class NoArgs\n</code></pre>\n\n<p>Now the <em>easiest</em> <sup>*</sup> way is to use a generic type as your error message and use the custom annotation:</p>\n\n<pre><code>@NoArgs\ndata class Error&lt;out T&gt;(val errorMessage: T)\n\nval x = ObjectMapper().readValue&lt;Error&lt;*&gt;&gt;(json1)\nval y = ObjectMapper().readValue&lt;Error&lt;*&gt;&gt;(json2)\n\nwhen(y.errorMessage) {\n  is String -&gt; println(\"I'm a String!\")\n  is Map&lt;*,*&gt; -&gt; println(\"I'm a Map\")\n  else -&gt; println(\"I'm something else!\")\n}\n</code></pre>\n\n<p>You could also define the type explicitly on <code>readValue</code>, if you know it in advance: <code>readValue&lt;Error&lt;String&gt;&gt;</code></p>\n\n<p>You could also create a method inside <code>Error</code> for that logic in <code>when</code></p>\n\n<hr>\n\n<p><sup>*</sup> There might be more elegant or useful solutions depending on your exact context.</p>\n"}, {"comments": [{"owner": {"reputation": 143, "user_id": 5648644, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RuLKb.jpg?s=128&g=1", "display_name": "jef", "link": "https://stackoverflow.com/users/5648644/jef"}, "edited": false, "score": 0, "creation_date": 1588880583, "post_id": 51945392, "comment_id": 109079089, "body": "How would you do this if <code>Error</code> was used in another class?  <code>data class Message(val error: Error)</code>"}], "tags": [], "owner": {"reputation": 1694, "user_id": 10172915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dgRVP.png?s=128&g=1", "display_name": "Akaki Kapanadze", "link": "https://stackoverflow.com/users/10172915/akaki-kapanadze"}, "is_accepted": true, "score": 2, "last_activity_date": 1534842948, "creation_date": 1534842948, "answer_id": 51945392, "question_id": 51943696, "link": "https://stackoverflow.com/questions/51943696/deserialize-json-to-different-types-with-jacksonobjectmapper/51945392#51945392", "title": "Deserialize JSON to Different types with jacksonObjectMapper", "body": "<p>Custom deserializer approach:</p>\n\n<pre><code>sealed class Error() {\n    data class SingleError(val errorMessage: String) : Error()\n    data class MultiError(val errorMessage: Map&lt;String, String&gt;) : Error()\n}\n...\nclass ErrorDeserializer : StdDeserializer&lt;Error&gt;(Error::class.java) {\n\n    companion object {\n        private val MAP_TYPE_REFERENCE = object : TypeReference&lt;Map&lt;String, String&gt;&gt;() {}\n    }\n\n    @Throws(IOException::class, JsonProcessingException::class)\n    override fun deserialize(jp: JsonParser, ctxt: DeserializationContext): Error {\n        val mapper = jp.codec as ObjectMapper\n        val node: JsonNode = mapper.readTree(jp)\n        val msgNode = node.get(\"errorMessage\")\n        if (msgNode.isValueNode) {\n            val errorMsg = msgNode.asText()\n            return Error.SingleError(errorMsg)\n        } else {\n            val errorMsgs = mapper.readValue&lt;Map&lt;String, String&gt;&gt;(msgNode.toString(), \n                    MAP_TYPE_REFERENCE)\n            return Error.MultiError(errorMsgs)\n        }\n    }\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>val mapper = ObjectMapper()\nval module = SimpleModule().addDeserializer(Error::class.java, ErrorDeserializer())\nmapper.registerModule(module)\n\nval error = mapper.readValue&lt;Error&gt;(\"json content\", Error::class.java)\nwhen (error) {\n    is Error.SingleError -&gt; {\n        // error.errorMessage\n    }\n    is Error.MultiError -&gt; {\n        // error.errorMessage\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1715, "user_id": 4553806, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vV8Uii_F19I/AAAAAAAAAAI/AAAAAAAAAA8/Q0P8fyB3j-c/photo.jpg?sz=128", "display_name": "Tigran Babajanyan", "link": "https://stackoverflow.com/users/4553806/tigran-babajanyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1760, "favorite_count": 0, "accepted_answer_id": 51945392, "answer_count": 3, "score": 0, "last_activity_date": 1534842948, "creation_date": 1534836697, "question_id": 51943696, "link": "https://stackoverflow.com/questions/51943696/deserialize-json-to-different-types-with-jacksonobjectmapper", "title": "Deserialize JSON to Different types with jacksonObjectMapper", "body": "<p>Suppose I got an error from server as JSON which can be in two different structure:</p>\n\n<pre><code>{\"errorMessage\": \"This action is unauthorized.\"}\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code>{\"errorMessage\":{\"changePassword\":\"Old password is incorrect.\"}}\n</code></pre>\n\n<p><strong>How can I deserialize this kind of json?</strong></p>\n\n<p><em>What I tried</em></p>\n\n<p>I tried to have abstract class \"Error\" and two childs:</p>\n\n<pre><code>abstract class Error() {}\n\ndata class SingleError(val errorMessage: String) : Error() \n\ndata class MultiError(val errorMessage: Map&lt;String, String&gt;) : Error() \n</code></pre>\n\n<p>Then I try:</p>\n\n<pre><code>jacksonObjectMapper().readValue&lt;Error&gt;(response.body)\n</code></pre>\n\n<p>to deserialize, but I haave exception:</p>\n\n<pre><code>com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.fifth_llc.siply.main.request.Forbidden$Error` (no Creators, like default construct, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n     at [Source: (String)\"{\"errorMessage\":{\"changePassword\":\"Old password is incorrect.\"}}\"; line: 1, column: 1]\n</code></pre>\n\n<p>Also I have tried JsonDeserialize annotaiton, but it seem I can use it if I want to parse to concrete type:</p>\n\n<pre><code>@JsonDeserialize(`as` = MultiError::class)\n</code></pre>\n\n<p>Any help?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "build.gradle", "android-studio-3.1.4"], "comments": [{"owner": {"reputation": 2776, "user_id": 4038820, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-ReZtfniYigs/AAAAAAAAAAI/AAAAAAAAAD0/7FMo2Efir-g/photo.jpg?sz=128", "display_name": "RoShan Shan", "link": "https://stackoverflow.com/users/4038820/roshan-shan"}, "edited": false, "score": 0, "creation_date": 1534835656, "post_id": 51943379, "comment_id": 90836386, "body": "Your network is ok?"}, {"owner": {"reputation": 23, "user_id": 5672662, "user_type": "registered", "profile_image": "https://graph.facebook.com/1735011536720550/picture?type=large", "display_name": "Mohammad Zahid Khan", "link": "https://stackoverflow.com/users/5672662/mohammad-zahid-khan"}, "reply_to_user": {"reputation": 2776, "user_id": 4038820, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-ReZtfniYigs/AAAAAAAAAAI/AAAAAAAAAD0/7FMo2Efir-g/photo.jpg?sz=128", "display_name": "RoShan Shan", "link": "https://stackoverflow.com/users/4038820/roshan-shan"}, "edited": false, "score": 0, "creation_date": 1534843804, "post_id": 51943379, "comment_id": 90840578, "body": "yes network is good"}, {"owner": {"reputation": 871, "user_id": 5870824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090afb28f773c2af4cc4633b698a2af7?s=128&d=identicon&r=PG", "display_name": "Parth Patel", "link": "https://stackoverflow.com/users/5870824/parth-patel"}, "edited": false, "score": 0, "creation_date": 1534857177, "post_id": 51943379, "comment_id": 90848831, "body": "While you are going to build your project, at bottom-right corner a baloon will be opend and ask to agree with terms. You have to click on Agree with terms option and it will start downloading of missing files. That&#39;s it."}, {"owner": {"reputation": 16154, "user_id": 4747587, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/VdsH3.png?s=128&g=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4747587/henry"}, "edited": false, "score": 0, "creation_date": 1534988270, "post_id": 51943379, "comment_id": 90904549, "body": "Are you behind any firewall?"}, {"owner": {"reputation": 23, "user_id": 5672662, "user_type": "registered", "profile_image": "https://graph.facebook.com/1735011536720550/picture?type=large", "display_name": "Mohammad Zahid Khan", "link": "https://stackoverflow.com/users/5672662/mohammad-zahid-khan"}, "reply_to_user": {"reputation": 16154, "user_id": 4747587, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/VdsH3.png?s=128&g=1", "display_name": "Henry", "link": "https://stackoverflow.com/users/4747587/henry"}, "edited": false, "score": 0, "creation_date": 1535617133, "post_id": 51943379, "comment_id": 91134421, "body": "I tested connection all Ok. @Henry"}, {"owner": {"reputation": 23, "user_id": 5672662, "user_type": "registered", "profile_image": "https://graph.facebook.com/1735011536720550/picture?type=large", "display_name": "Mohammad Zahid Khan", "link": "https://stackoverflow.com/users/5672662/mohammad-zahid-khan"}, "reply_to_user": {"reputation": 871, "user_id": 5870824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090afb28f773c2af4cc4633b698a2af7?s=128&d=identicon&r=PG", "display_name": "Parth Patel", "link": "https://stackoverflow.com/users/5870824/parth-patel"}, "edited": false, "score": 0, "creation_date": 1535617211, "post_id": 51943379, "comment_id": 91134460, "body": "@ParthPatel no bro there&#39;s no such popup for terms n all"}, {"owner": {"reputation": 23, "user_id": 5672662, "user_type": "registered", "profile_image": "https://graph.facebook.com/1735011536720550/picture?type=large", "display_name": "Mohammad Zahid Khan", "link": "https://stackoverflow.com/users/5672662/mohammad-zahid-khan"}, "edited": false, "score": 0, "creation_date": 1535617285, "post_id": 51943379, "comment_id": 91134505, "body": "I&#39;m using android studio in windows but in Mac unable to build gradle in latest of version of android studio"}, {"owner": {"reputation": 871, "user_id": 5870824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090afb28f773c2af4cc4633b698a2af7?s=128&d=identicon&r=PG", "display_name": "Parth Patel", "link": "https://stackoverflow.com/users/5870824/parth-patel"}, "edited": false, "score": 0, "creation_date": 1535621699, "post_id": 51943379, "comment_id": 91137341, "body": "@MohammadZahidKhan please go through this: Preference -&gt; Build,Execution, Deployment -&gt; Gradle -&gt; Android Studio. then check &quot;Enable embedded Maven repository&quot; option. then try to build your project. it will sure ask you in Bubble notification at bottom-right corner of Android Studio."}, {"owner": {"reputation": 23, "user_id": 5672662, "user_type": "registered", "profile_image": "https://graph.facebook.com/1735011536720550/picture?type=large", "display_name": "Mohammad Zahid Khan", "link": "https://stackoverflow.com/users/5672662/mohammad-zahid-khan"}, "reply_to_user": {"reputation": 871, "user_id": 5870824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090afb28f773c2af4cc4633b698a2af7?s=128&d=identicon&r=PG", "display_name": "Parth Patel", "link": "https://stackoverflow.com/users/5870824/parth-patel"}, "edited": false, "score": 0, "creation_date": 1535699641, "post_id": 51943379, "comment_id": 91171053, "body": "@ParthPatel still not working bro, tried it now"}, {"owner": {"reputation": 871, "user_id": 5870824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090afb28f773c2af4cc4633b698a2af7?s=128&d=identicon&r=PG", "display_name": "Parth Patel", "link": "https://stackoverflow.com/users/5870824/parth-patel"}, "edited": false, "score": 0, "creation_date": 1535709204, "post_id": 51943379, "comment_id": 91176181, "body": "Check, have you set proxy in Android Studio. If set then please set it No Proxy option."}], "owner": {"reputation": 23, "user_id": 5672662, "user_type": "registered", "profile_image": "https://graph.facebook.com/1735011536720550/picture?type=large", "display_name": "Mohammad Zahid Khan", "link": "https://stackoverflow.com/users/5672662/mohammad-zahid-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 484, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534835354, "creation_date": 1534835354, "question_id": 51943379, "link": "https://stackoverflow.com/questions/51943379/unable-to-create-sync-android-project-in-mac-with-android-studio-3-1-4", "title": "Unable to create &amp; sync android project in mac with android studio 3.1.4", "body": "<p>Unknown host 'jcenter.bintray.com: nodename nor servname provided, or not known'. You may need to adjust the proxy settings in Gradle.\nEnable Gradle 'offline mode' and sync project\nLearn about configuring HTTP proxies in Gradle\n<a href=\"https://i.stack.imgur.com/9QxOY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9QxOY.png\" alt=\"\"></a></p>\n\n<p>if I do it in offline mode getting different errors</p>\n\n<p><a href=\"https://i.stack.imgur.com/eOCe8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eOCe8.png\" alt=\"Could not download kotlin-reflect.jar (org.jetbrains.kotlin:kotlin-reflect:1.1.3-2): No cached version available for offline mode\"></a></p>\n\n<p>these are my gradle files tried different build tool versions in last few days but non working please help.\n<a href=\"https://i.stack.imgur.com/fm0OE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fm0OE.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/MkIIX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MkIIX.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin", "android-gradle-plugin", "build.gradle", "gradle-kotlin-dsl"], "comments": [{"owner": {"reputation": 1015, "user_id": 2201465, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/5a0c9498b267859b922786160fdadbff?s=128&d=identicon&r=PG", "display_name": "Bulu", "link": "https://stackoverflow.com/users/2201465/bulu"}, "edited": false, "score": 0, "creation_date": 1534836004, "post_id": 51943038, "comment_id": 90836542, "body": "This is working  But is this the right way? task(&quot;assembleAll&quot;) {     dependsOn(&quot;assembleQa&quot;,&quot;assembleRelease&quot;) }"}], "answers": [{"tags": [], "owner": {"reputation": 1015, "user_id": 2201465, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/5a0c9498b267859b922786160fdadbff?s=128&d=identicon&r=PG", "display_name": "Bulu", "link": "https://stackoverflow.com/users/2201465/bulu"}, "is_accepted": true, "score": 1, "last_activity_date": 1534853222, "creation_date": 1534853222, "answer_id": 51948315, "question_id": 51943038, "link": "https://stackoverflow.com/questions/51943038/kotlin-dsl-android-gradle-tasks/51948315#51948315", "title": "Kotlin DSL Android Gradle Tasks", "body": "<pre><code> task(\"assembleAll\") \n{ dependsOn(\"assembleQa\",\"assembleRelease\") } \n</code></pre>\n\n<p>This is the solution</p>\n"}, {"tags": [], "owner": {"reputation": 986, "user_id": 2984747, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OF7av.jpg?s=128&g=1", "display_name": "codeWhisperer", "link": "https://stackoverflow.com/users/2984747/codewhisperer"}, "is_accepted": false, "score": 2, "last_activity_date": 1560348942, "creation_date": 1560348942, "answer_id": 56564317, "question_id": 51943038, "link": "https://stackoverflow.com/questions/51943038/kotlin-dsl-android-gradle-tasks/56564317#56564317", "title": "Kotlin DSL Android Gradle Tasks", "body": "<p>If you're converting your scripts from Gradle Groovy to Kotlin DSL: </p>\n\n<pre><code>tasks.register(\"assembleAll\") {\n    dependsOn(\"assembleQa\", \"assembleRelease\")\n}\n</code></pre>\n"}], "owner": {"reputation": 1015, "user_id": 2201465, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/5a0c9498b267859b922786160fdadbff?s=128&d=identicon&r=PG", "display_name": "Bulu", "link": "https://stackoverflow.com/users/2201465/bulu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 723, "favorite_count": 1, "accepted_answer_id": 51948315, "answer_count": 2, "score": 1, "last_activity_date": 1560348942, "creation_date": 1534833930, "question_id": 51943038, "link": "https://stackoverflow.com/questions/51943038/kotlin-dsl-android-gradle-tasks", "title": "Kotlin DSL Android Gradle Tasks", "body": "<p>I am in process of migrating all the Groovy scripts to Kotlin DSL for our android project. Our build flavours looks like below:</p>\n\n<pre><code>   buildTypes {\n    getByName(\"debug\") {\n        isDebuggable = true\n        signingConfig = signingConfigs.getByName(\"default\")\n    }\n\n    create(\"qa\") {\n        isShrinkResources = true\n        isMinifyEnabled = true\n        isUseProguard = true\n        proguardFiles(getDefaultProguardFile(\"proguard-android.txt\"), \"proguard-rules.pro\")\n    }\n\n    getByName(\"release\") {\n        isShrinkResources = true\n        isMinifyEnabled = true\n        isUseProguard = true\n        proguardFiles(getDefaultProguardFile(\"proguard-android.txt\"), \"proguard-rules.pro\")\n    }\n}\n</code></pre>\n\n<p>So for this works If I am looking to run of the taks from command line </p>\n\n<pre><code>./gradleW aDebug\n./gradleW aQa\n./gradleW aRelease\n</code></pre>\n\n<p>Now, the current problem is when I am trying to combine all the tasks into one below is the code how looks like in Groovy but not sure how to write in Kotlin DSL. Appreciate your help</p>\n\n<pre><code>//This is in Groovy        \ntask assembleAll(dependsOn:\n            [\n                    'assembleQa',\n                    'assembleRelease',\n            ])\n</code></pre>\n\n<p>Can you please let me know how it would look like in Kotlin DSL?\nI have tried the below but not working so far.</p>\n\n<pre><code>task(\"assembleAll\") {\n    dependsOn(\"assembleQa\")\n    dependsOn(\"assembleRelease\")\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1534833729, "post_id": 51942941, "comment_id": 90835436, "body": "No. You should avoid nulls as much as you can. So your array should be a String array, and not a String? array."}, {"owner": {"reputation": 3664, "user_id": 1771055, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e72db016ef8a0d3cd83cf132964456c3?s=128&d=identicon&r=PG", "display_name": "rozina", "link": "https://stackoverflow.com/users/1771055/rozina"}, "edited": false, "score": 0, "creation_date": 1534835368, "post_id": 51942941, "comment_id": 90836249, "body": "Depends, can <code>options[i].value</code> ever be null? If not then <code>optionStrArr</code> should be of type <code>Array&lt;String&gt;</code>. Otherwise you need to change the vararg type to <code>Array&lt;String?&gt;</code>."}, {"owner": {"reputation": 1325, "user_id": 4535784, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/eb648e1f76dbc03bc4f252b35bb69294?s=128&d=identicon&r=PG&f=1", "display_name": "Gensoukyou1337", "link": "https://stackoverflow.com/users/4535784/gensoukyou1337"}, "edited": false, "score": 0, "creation_date": 1534835764, "post_id": 51942941, "comment_id": 90836436, "body": "Actually, <code>options[i]</code> is an Object itself, and I just changed the value from <code>String?</code> to <code>String</code>. But when I pass the resulting array into the varargs argument, the compiler still thinks it&#39;s an <code>Array&lt;String?&gt;</code>. Though maybe it&#39;s just me needing to delete the original Java files."}], "answers": [{"comments": [{"owner": {"reputation": 1325, "user_id": 4535784, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/eb648e1f76dbc03bc4f252b35bb69294?s=128&d=identicon&r=PG&f=1", "display_name": "Gensoukyou1337", "link": "https://stackoverflow.com/users/4535784/gensoukyou1337"}, "edited": false, "score": 0, "creation_date": 1534836546, "post_id": 51943521, "comment_id": 90836807, "body": "Well, since I&#39;ve changed the String type of <code>options[i].value</code> to <code>String</code> instead of <code>String?</code>, I suppose I&#39;ll take the first option [<code>val optionStrArr = Array&lt;String&gt;(options!!.size, {options[it].value})</code>, if that&#39;s the right syntax]. Thanks. By the way, does Kotlin&#39;s <code>String</code> mean <code>@NonNull String</code> in Java? Does <code>String?</code> mean <code>@Nullable String</code>?"}, {"owner": {"reputation": 3664, "user_id": 1771055, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e72db016ef8a0d3cd83cf132964456c3?s=128&d=identicon&r=PG", "display_name": "rozina", "link": "https://stackoverflow.com/users/1771055/rozina"}, "reply_to_user": {"reputation": 1325, "user_id": 4535784, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/eb648e1f76dbc03bc4f252b35bb69294?s=128&d=identicon&r=PG&f=1", "display_name": "Gensoukyou1337", "link": "https://stackoverflow.com/users/4535784/gensoukyou1337"}, "edited": false, "score": 0, "creation_date": 1534836778, "post_id": 51943521, "comment_id": 90836941, "body": "@Gensoukyou1337 Yes that is how it works. You should read some basics about Kotlin before you continue with porting your Java code to Kotlin, so you will understand all the weird syntax the converter will generate, because all types are nullable in Java. Once you have most of your code in Kotlin and you have nullable types only when actually needed, your code will look much cleaner."}], "tags": [], "owner": {"reputation": 3664, "user_id": 1771055, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e72db016ef8a0d3cd83cf132964456c3?s=128&d=identicon&r=PG", "display_name": "rozina", "link": "https://stackoverflow.com/users/1771055/rozina"}, "is_accepted": true, "score": 0, "last_activity_date": 1534836019, "creation_date": 1534836019, "answer_id": 51943521, "question_id": 51942941, "link": "https://stackoverflow.com/questions/51942941/strange-behavior-when-passing-arraystring-as-varargs-with-spread-operator/51943521#51943521", "title": "Strange behavior when passing Array&lt;String&gt; as varargs with spread operator", "body": "<p>This happens because in Java any String variable can also be null. In Kotlin you have different types for non nullable (<code>String</code>) and nullabe (<code>String?</code>) variables.</p>\n\n<p>In your case it depends on what type <code>options[i].value</code> is. If it can never be <code>null</code>, then you can change the type of <code>optionStrArr</code> to <code>Array&lt;String&gt;</code> and the code will work fine. You can create array of <code>Strings</code> this way:</p>\n\n<pre><code>val optionStrArr = Array&lt;String&gt;(options.size) { options[it].value }\n</code></pre>\n\n<p>If <code>options[i].value</code> is of type <code>String?</code>, then you either change the vararg type of <code>analyticPollReceive()</code>, if it makes sense for that function to receive nullable array. Otherwise you have to rethink why do you have a nullable array that you want to pass to a function that does not want nulls.</p>\n"}, {"tags": [], "owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "is_accepted": false, "score": 0, "last_activity_date": 1534836173, "creation_date": 1534836173, "answer_id": 51943558, "question_id": 51942941, "link": "https://stackoverflow.com/questions/51942941/strange-behavior-when-passing-arraystring-as-varargs-with-spread-operator/51943558#51943558", "title": "Strange behavior when passing Array&lt;String&gt; as varargs with spread operator", "body": "<p>The second error you see is because you initialise the Array with <code>arrayOfNulls&lt;String&gt;</code>. That will create an <code>Array&lt;String?&gt;</code> since it has to be filled with nulls.  </p>\n\n<p>To fix it, look into other ways to create the array, such as <code>Collection#toTypedArray</code> or <code>Array#copyOf</code> (depending on what type <code>options</code> actually is.<br>\nThese will generate an array of the same type as the source, and not implicitly make it nullable.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8959091"}, "is_accepted": false, "score": 0, "last_activity_date": 1534836245, "creation_date": 1534836245, "answer_id": 51943568, "question_id": 51942941, "link": "https://stackoverflow.com/questions/51942941/strange-behavior-when-passing-arraystring-as-varargs-with-spread-operator/51943568#51943568", "title": "Strange behavior when passing Array&lt;String&gt; as varargs with spread operator", "body": "<p>The array's <code>optionStrArr</code> type is <code>Array&lt;String?&gt;</code>.  <br/>\nSo you need to make this change:  <br/></p>\n\n<pre><code>fun analyticPollReceive(id: String, title: String, question: String, vararg options: String?) {\n    // function body\n}\n</code></pre>\n"}], "owner": {"reputation": 1325, "user_id": 4535784, "user_type": "registered", "accept_rate": 13, "profile_image": "https://www.gravatar.com/avatar/eb648e1f76dbc03bc4f252b35bb69294?s=128&d=identicon&r=PG&f=1", "display_name": "Gensoukyou1337", "link": "https://stackoverflow.com/users/4535784/gensoukyou1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "accepted_answer_id": 51943521, "answer_count": 3, "score": 1, "last_activity_date": 1534836245, "creation_date": 1534833499, "question_id": 51942941, "link": "https://stackoverflow.com/questions/51942941/strange-behavior-when-passing-arraystring-as-varargs-with-spread-operator", "title": "Strange behavior when passing Array&lt;String&gt; as varargs with spread operator", "body": "<p>I've only just started Kotlin and now have to figure out something about a function requiring <code>varargs</code> of the type String. The problematic code is as follows:</p>\n\n<pre><code>val optionStrArr = arrayOfNulls&lt;String&gt;(options.size)\nfor (i in options.indices) {\n    optionStrArr[i] = options[i].value\n}\nApp.instance?.analyticPollReceive(pollID!!, title!!, question!!, *optionStrArr)\n\n...\n\nfun analyticPollReceive(id: String, title: String, question: String, vararg options: String) {\n    // function body\n}\n</code></pre>\n\n<p>This is just part of the code that was converted from Java by Android Studio's Java-Kotlin converter.</p>\n\n<p>The error is in the function call, where, if I remove the spread operator, the compiler says:</p>\n\n<blockquote>\n  <p><code>Type mismatch. Required: String; Found: Array&lt;String?&gt;</code></p>\n</blockquote>\n\n<p>However, when I put that spread operator in, the compiler says:</p>\n\n<blockquote>\n  <p><code>Type mismatch. Required: Array&lt;out String&gt;; Found: Array&lt;String?&gt;</code></p>\n</blockquote>\n\n<p>Should I just change the vararg type to <code>vararg options: String?</code>?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 4323, "user_id": 8942811, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vr8pK.jpg?s=128&g=1", "display_name": "Bek", "link": "https://stackoverflow.com/users/8942811/bek"}, "edited": false, "score": 1, "creation_date": 1534829399, "post_id": 51942020, "comment_id": 90833699, "body": "share your code"}, {"owner": {"reputation": 11, "user_id": 10253012, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QjPwsM_rA_4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMmkdGOXg2j1-DzgOaFVN7Cm4oyLg/mo/photo.jpg?sz=128", "display_name": "Alexandre Piquemal", "link": "https://stackoverflow.com/users/10253012/alexandre-piquemal"}, "reply_to_user": {"reputation": 4323, "user_id": 8942811, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/vr8pK.jpg?s=128&g=1", "display_name": "Bek", "link": "https://stackoverflow.com/users/8942811/bek"}, "edited": false, "score": 0, "creation_date": 1534829971, "post_id": 51942020, "comment_id": 90833896, "body": "just edited now"}, {"owner": {"reputation": 11206, "user_id": 4571931, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/L8ohX.png?s=128&g=1", "display_name": "Android Team", "link": "https://stackoverflow.com/users/4571931/android-team"}, "edited": false, "score": 0, "creation_date": 1534831689, "post_id": 51942020, "comment_id": 90834519, "body": "refer this answer <a href=\"https://stackoverflow.com/questions/15313598/once-for-all-how-to-correctly-save-instance-state-of-fragments-in-back-stack\" title=\"once for all how to correctly save instance state of fragments in back stack\">stackoverflow.com/questions/15313598/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 10253012, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QjPwsM_rA_4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMmkdGOXg2j1-DzgOaFVN7Cm4oyLg/mo/photo.jpg?sz=128", "display_name": "Alexandre Piquemal", "link": "https://stackoverflow.com/users/10253012/alexandre-piquemal"}, "edited": false, "score": 0, "creation_date": 1534832726, "post_id": 51942020, "comment_id": 90834940, "body": "where should i save instance state, child or fragment 1 ? That&#39;s where I am mainly confused"}], "owner": {"reputation": 11, "user_id": 10253012, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QjPwsM_rA_4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMmkdGOXg2j1-DzgOaFVN7Cm4oyLg/mo/photo.jpg?sz=128", "display_name": "Alexandre Piquemal", "link": "https://stackoverflow.com/users/10253012/alexandre-piquemal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 203, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1534829940, "creation_date": 1534828804, "last_edit_date": 1534829940, "question_id": 51942020, "link": "https://stackoverflow.com/questions/51942020/save-a-child-fragment-state", "title": "Save a child fragment state", "body": "<p>I am using 3 different fragments. First in a fragment (fragment 1), I immediately call a child fragment (child) in onCreateView. Then in this child fragment, when I click on a button I call another different fragment (fragment 2). I add these 2 fragments (child and fragment 2) to BackStack. </p>\n\n<p>But here is my issue, when I return from fragment 2, fragment 1 is called with savedInstance = null and I loose the state I had from the child fragment. My wish is to keep the state I had from the child fragment when I call fragment 2. How can I do that please ?</p>\n\n<p>Here are my 2 fragments calls :</p>\n\n<pre><code>\\\\ Fragment 1 to Child\noverride fun onCreateView(savedInstanceState: Bundle?) {\n    super.onCreateView(savedInstanceState)\n\n    showChild(screen = Screen.WORKSPACE_HOME.create(), container = R.id.Frame_layout, transition = Transition.RIGHT, addToBackStack = true, isScreen = true)}\n\n\\\\ Child to Fragment 2\noverride fun onItemClick(v: View, position: Int) {\n    val photo = items[position]\n    toolbarActivity?.show(screen = Screen.IMAGE_DETAILS_WORKSPACE.create().withArguments(ITEM to photo), container = R.id.container, transition = Transition.RIGHT, addToBackStack = true)\n}\n</code></pre>\n"}, {"tags": ["eclipse", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1534915293, "post_id": 51941817, "comment_id": 90870707, "body": "And your Kotlin source?"}, {"owner": {"reputation": 7822, "user_id": 1152549, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/A8C66.jpg?s=128&g=1", "display_name": "Ali Behzadian Nejad", "link": "https://stackoverflow.com/users/1152549/ali-behzadian-nejad"}, "reply_to_user": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1535197337, "post_id": 51941817, "comment_id": 90983875, "body": "<code>Kotlin plugin for Eclipse 0.8.6</code>"}], "owner": {"reputation": 7822, "user_id": 1152549, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/A8C66.jpg?s=128&g=1", "display_name": "Ali Behzadian Nejad", "link": "https://stackoverflow.com/users/1152549/ali-behzadian-nejad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 606, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1534827514, "creation_date": 1534827514, "question_id": 51941817, "link": "https://stackoverflow.com/questions/51941817/unable-to-run-spring-boot-with-kotlin-project-in-eclipse", "title": "Unable to run Spring Boot with Kotlin project in Eclipse", "body": "<p>I have <code>Eclipse Photon</code> with <code>Kotlin plugin for Eclipse 0.8.6</code> and <code>Spring Tools 3.9.5.RELEASE</code> plugins installed. I followed <a href=\"https://docs.spring.io/sts/nan/v373/SpringToolSuiteAndKotlin.html\" rel=\"nofollow noreferrer\">these</a> instructions and created a new project with wizard:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Ng8vq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ng8vq.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then I created a new <code>Run Configuration</code> and edited the main class as instructed in the reference:</p>\n\n<p><a href=\"https://i.stack.imgur.com/aP7Zi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aP7Zi.png\" alt=\"enter image description here\"></a> </p>\n\n<p>After running project, I got this error:</p>\n\n<pre><code>Error: Could not find or load main class com.kotlinexample.KotlinExampleApplicationKt\nCaused by: java.lang.ClassNotFoundException: com.kotlinexample.KotlinExampleApplicationKt\n</code></pre>\n\n<p>I've checked my <code>build.gradle</code> with <a href=\"https://spring.io/guides/tutorials/spring-boot-kotlin/\" rel=\"nofollow noreferrer\">this</a> documentation and it seems OK:</p>\n\n<pre><code>buildscript {\n    ext {\n        kotlinVersion = '1.2.51'\n        springBootVersion = '2.0.4.RELEASE'\n    }\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-gradle-plugin:${kotlinVersion}\")\n        classpath(\"org.jetbrains.kotlin:kotlin-allopen:${kotlinVersion}\")\n    }\n}\n\napply plugin: 'kotlin'\napply plugin: 'kotlin-spring'\napply plugin: 'eclipse'\napply plugin: 'org.springframework.boot'\napply plugin: 'io.spring.dependency-management'\n\ngroup = 'com.kotlinexample'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = 1.8\ncompileKotlin {\n    kotlinOptions {\n        freeCompilerArgs = [\"-Xjsr305=strict\"]\n        jvmTarget = \"1.8\"\n    }\n}\ncompileTestKotlin {\n    kotlinOptions {\n        freeCompilerArgs = [\"-Xjsr305=strict\"]\n        jvmTarget = \"1.8\"\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile('org.springframework.boot:spring-boot-starter-thymeleaf')\n    compile('org.springframework.boot:spring-boot-starter-web')\n    compile('com.fasterxml.jackson.module:jackson-module-kotlin')\n    compile(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\")\n    compile(\"org.jetbrains.kotlin:kotlin-reflect\")\n    runtime('com.h2database:h2')\n    testCompile('org.springframework.boot:spring-boot-starter-test')\n}\n</code></pre>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-relativelayout"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 3, "creation_date": 1534833164, "post_id": 51941778, "comment_id": 90835177, "body": "You can&#39;t inflate just part of a layout. When you inflate one, it&#39;s the whole thing. You need to have two separate layouts; one for the header, and one for the items. <code>ListView</code> supports headers separately from items, so you can just add that header <code>View</code> once, instead of trying to somehow remove it from every item but the first. Also, I&#39;m not sure exactly what you mean by re-use, but if you need those layouts combined as one in some other part of your app, you can always inflate one into the other, at that point."}, {"owner": {"reputation": 75, "user_id": 6867082, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh4.googleusercontent.com/-Q6xk-pqw9ag/AAAAAAAAAAI/AAAAAAAACcw/R2ABgcq4iL0/photo.jpg?sz=128", "display_name": "Michael Wood", "link": "https://stackoverflow.com/users/6867082/michael-wood"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1534870096, "post_id": 51941778, "comment_id": 90857015, "body": "Thanks for the tip.  I&#39;ll edit the post now with your solution."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1534876700, "post_id": 51941778, "comment_id": 90860115, "body": "Please post the solution as answer, this way people know that the issue is solved. see <a href=\"https://stackoverflow.com/help/self-answer\">stackoverflow.com/help/self-answer</a>"}], "answers": [{"tags": [], "owner": {"reputation": 75, "user_id": 6867082, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh4.googleusercontent.com/-Q6xk-pqw9ag/AAAAAAAAAAI/AAAAAAAACcw/R2ABgcq4iL0/photo.jpg?sz=128", "display_name": "Michael Wood", "link": "https://stackoverflow.com/users/6867082/michael-wood"}, "is_accepted": true, "score": 0, "last_activity_date": 1534967591, "creation_date": 1534967591, "answer_id": 51974192, "question_id": 51941778, "link": "https://stackoverflow.com/questions/51941778/inflating-relativelayout-within-another-relativelayout/51974192#51974192", "title": "Inflating RelativeLayout within another RelativeLayout", "body": "<p>Solution:</p>\n\n<p><a href=\"https://stackoverflow.com/users/2850651/mike-m\">https://stackoverflow.com/users/2850651/mike-m</a> had the guidance I needed. I was able to separate the row format from the header format XML layouts. The Adapter was unchanged and the Activity has new code to add the header if content is found for the list in question.</p>\n\n<pre><code>val headerView = layoutInflater.inflate(R.layout.estimated_ftp_head, null)\nestimated_ftp_list.addHeaderView(headerView)\n</code></pre>\n"}], "owner": {"reputation": 75, "user_id": 6867082, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh4.googleusercontent.com/-Q6xk-pqw9ag/AAAAAAAAAAI/AAAAAAAACcw/R2ABgcq4iL0/photo.jpg?sz=128", "display_name": "Michael Wood", "link": "https://stackoverflow.com/users/6867082/michael-wood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "accepted_answer_id": 51974192, "answer_count": 1, "score": 1, "last_activity_date": 1534967591, "creation_date": 1534827289, "last_edit_date": 1534870456, "question_id": 51941778, "link": "https://stackoverflow.com/questions/51941778/inflating-relativelayout-within-another-relativelayout", "title": "Inflating RelativeLayout within another RelativeLayout", "body": "<p>I'm trying to contain the layout model for a custom list view in a single custom list view layout.xml file and inflate that using an custom adaptor class using kotlin.</p>\n\n<p>The data seems to come through fine and the row formatting is accurate with the exception of the header being repeated for each row.  I'm guessing I could just move the header out of the list view layout.xml file but I'd prefer to keep that self contained so it could be re-used.</p>\n\n<p>This is the layout file in question:</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\" &gt;\n\n&lt;!-- Header aligned to top --&gt;\n\n&lt;RelativeLayout\n    android:id=\"@+id/estimated_ftp_header\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentTop=\"true\"\n    android:background=\"@color/colorHeader\"\n    android:gravity=\"start\" &gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"15dp\"\n        android:text=\"@string/estimated_ftp\"\n        android:textColor=\"#000\"\n        android:textSize=\"20sp\" /&gt;\n&lt;/RelativeLayout&gt;\n\n&lt;!-- Content below header --&gt;\n\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"?android:attr/listPreferredItemHeight\"\n    android:layout_below=\"@id/estimated_ftp_header\"\n    android:orientation=\"horizontal\"\n    android:padding=\"6dip\"\n    android:id=\"@+id/estimated_ftp_row\"&gt;\n\n    &lt;ImageView\n        android:contentDescription=\"@string/ftp_type\"\n        android:id=\"@+id/ftp_icon\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentLeft=\"true\"\n        android:layout_toLeftOf=\"@+id/centerPoint\"\n        android:gravity = \"center|end|end\"\n        android:src=\"@drawable/glyphicons_13_heart\"/&gt;\n\n    &lt;TextView\n        android:id=\"@+id/centerPoint\"\n        android:text=\"\"\n        android:layout_width=\"0dip\"\n        android:layout_height=\"wrap_content\"\n        android:layout_centerHorizontal=\"true\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/ftp_value\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_toRightOf=\"@+id/centerPoint\"\n        android:gravity = \"center|start|start\"\n        android:text=\"141 bpm\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>I believe the solution would be to figure out how to select the estimated_ftp_row id and inflate it instead of the the whole estimated_fto.xml file.</p>\n\n<p>Here is the code in the adapter that selects the layout before inflating within the getView method:</p>\n\n<pre><code>val inflater = activity?.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\nview = inflater.inflate(R.layout.estimated_ftp, null)\nviewHolder = ViewHolder(view)\nview?.tag = viewHolder\n</code></pre>\n\n<p>How would I change the inflater.inflate to inflate something within R.layout.estimated_ftp?  </p>\n\n<p>FWIW, the activity's XML layout has a ListView control in the location used for this as a placeholder.  It doesn't reference the custom layout file.  That connection is done via the adapter class noted above.  Not sure that's a problem or not so I wanted to mention it...</p>\n\n<p>Thanks in advance for any suggestions.</p>\n\n<p>mike</p>\n\n<p>Solution Update:\n<a href=\"https://stackoverflow.com/users/2850651/mike-m\">https://stackoverflow.com/users/2850651/mike-m</a> had the guidance I needed.  I was able to separate the row format from the header format XML layouts.  The Adapter was unchanged and the Activity has new code to add the header if content is found for the list in question.</p>\n\n<pre><code>val headerView = layoutInflater.inflate(R.layout.estimated_ftp_head, null)\nestimated_ftp_list.addHeaderView(headerView)\n</code></pre>\n"}, {"tags": ["android", "push-notification", "kotlin", "dialog", "onesignal"], "owner": {"reputation": 95, "user_id": 9937145, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HKmx5_fKE1Y/AAAAAAAAAAI/AAAAAAAAAAA/kZukbFxZM5Y/photo.jpg?sz=128", "display_name": "Gabo Walker", "link": "https://stackoverflow.com/users/9937145/gabo-walker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 316, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1534824422, "creation_date": 1534824422, "question_id": 51941419, "link": "https://stackoverflow.com/questions/51941419/start-a-dialog-from-onesignal-push-notification", "title": "Start a Dialog from OneSignal Push Notification", "body": "<p>Dunno if this is possible, I have read the documentation in one signal site regarding the Action Buttons and I just couldn\u00b4t find an answer.</p>\n\n<p>What I\u00b4m trying to achieve, is that when user press the push notification, I\u00b4d like it to trigger a dialog when starting the main activity of my app.</p>\n\n<p>For example, If I send a push notification to check updates on the husky screen, I\u00b4d like it to trigger the dialog that takes the user to the husky screen, and if I send a push notification to check updates on the chihuahua screen, I\u00b4d like it to take the user to the chihuahua screen.</p>\n\n<p>I have created all my screens in same activity, and instead of moving from activities, my app hides and shows layouts.</p>\n\n<p>I also kind of want to do the same with the dialogs, depeandig on the notification ID.</p>\n\n<p>I\u00b4d like to create many layouts for the different dialogs I want to display, and I\u00b4d like the push notification to trigger an specific dialog depeanding on which notification ID was pressed, as an example here is the husky dialog:</p>\n\n<pre><code>    var builder = AlertDialog.Builder(this)\n    var inflater: LayoutInflater = layoutInflater\n    var view: View = inflater.inflate(R.layout.dialghusky, null)\n    builder.setView(view)\n    builder.setTitle(\"Dogs\")\n    builder.setPositiveButton(\"Watch Updates\", { dialogInterface: DialogInterface, i: Int -&gt;\n        mainscreen.visibility = View.GONE\n        ListView.visibility = View.VISIBLE\n        listHusky.visibility = View.VISIBLE\n        listaHusky.adapter = adapterSalud\n        edit_huskysearch.setText(\"Brown\")\n    })\n    builder.setNegativeButton(\"Cancel\", { dialogInterface: DialogInterface, i: Int -&gt; })\n    var dialog: Dialog = builder.create()\n    dialog.show()\n</code></pre>\n\n<p>This is what I would like to be displayed when user press the push notification with the husky ID.</p>\n\n<p>AS you can see it hides the mainscreen and displays the screen containing the Husky list, and also sets the editText.text to \"Brown\" (I\u00b4m using it to filter among the list).</p>\n\n<p>I\u00b4m kinda new in using this OneSignal push notifications, and so far I\u00b4m able to send them, to edit them according to my preferences, images, colors, icons, etc, I\u00b4m able to make the notification open websites when push them (but this can be achieved from the onesignal site itself so that\u00b4s not a problem).</p>\n\n<p>Is there a one I can achieve this from a push notification from oneSignal or I\u00b4m totally going in the wrong direction and this can be achieved by doing something else?</p>\n\n<p>Thank you in advance for your support</p>\n\n<p>Regards</p>\n"}, {"tags": ["kotlin", "mockito", "guice", "apache-storm"], "answers": [{"comments": [{"owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1534834446, "post_id": 51941737, "comment_id": 90835802, "body": "I tried both and neither worked in my case. It&#39;s still trying to read from the database."}, {"owner": {"reputation": 2817, "user_id": 1963973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5364da37e0b8fcf0af75906ee36b84fd?s=128&d=identicon&r=PG", "display_name": "marianosimone", "link": "https://stackoverflow.com/users/1963973/marianosimone"}, "reply_to_user": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1534834853, "post_id": 51941737, "comment_id": 90835993, "body": "Can you share what <code>createInjector</code> actually does? There&#39;s probably something there that&#39;s making <code>MyBolt::prepare</code> call to <code>Injector::injectMembers</code> actually get a real <code>MyMapper</code> instead of the mock"}, {"owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1534887993, "post_id": 51941737, "comment_id": 90864813, "body": "actually your solution might be working. However, I have no way to validate it because the <code>@InjectMocks</code> won&#39;t work with my case since <code>MyMapper</code> has a constructor injected dependency <code>MyDAO</code>."}, {"owner": {"reputation": 2817, "user_id": 1963973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5364da37e0b8fcf0af75906ee36b84fd?s=128&d=identicon&r=PG", "display_name": "marianosimone", "link": "https://stackoverflow.com/users/1963973/marianosimone"}, "reply_to_user": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 1, "creation_date": 1534900562, "post_id": 51941737, "comment_id": 90867656, "body": "You have at least two ways to go over that: 1. Mock the DAO as well, so it gets injected. 2. Extract an interface for <code>MyMpper</code>, and use that as the property in <code>MyBolt</code>. That way, your test is agnostic of the implementation details"}], "tags": [], "owner": {"reputation": 2817, "user_id": 1963973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5364da37e0b8fcf0af75906ee36b84fd?s=128&d=identicon&r=PG", "display_name": "marianosimone", "link": "https://stackoverflow.com/users/1963973/marianosimone"}, "is_accepted": false, "score": 0, "last_activity_date": 1534826973, "creation_date": 1534826973, "answer_id": 51941737, "question_id": 51941059, "link": "https://stackoverflow.com/questions/51941059/mockito-mock-an-indirectly-injected-singleton/51941737#51941737", "title": "Mockito: mock an indirectly injected singleton", "body": "<p>You are missing the actual initialization of the mocks either by using <code>MockitoJUnitRunner.class</code> as your runner, or by calling <code>Mockito.initMocks(this)</code>.</p>\n\n<p>Something like either:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\nclass MyTest {\n    // everything as it is right now\n}\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>class MyTest {\n\n    @Before\n    fun setUp() {\n        injector = createInjector()\n        myBolt = Mockito.spy(MyBolt(injector))\n        Mockito.initMocks(this)\n    }\n\n    // everything else\n}\n</code></pre>\n"}], "owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 459, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534826973, "creation_date": 1534821127, "question_id": 51941059, "link": "https://stackoverflow.com/questions/51941059/mockito-mock-an-indirectly-injected-singleton", "title": "Mockito: mock an indirectly injected singleton", "body": "<p>I've got a storm bolt class that has quite a few field injected dependencies with guice, one of which, <code>MyMapper</code>, is a singleton:</p>\n\n<pre><code>class MyBolt(val injector: Injector): BaseRichBolt {\n  ...\n  @Inject\n  @Transient\n  private lateinit var myMapper: MyMapper\n\n  override fun prepare(Map stormConf, TopologyContext context, OutputCollector collector) {\n    super.prepare()\n    // actually inject the fields\n    this.injector.injectMembers(this)\n  }\n\n  override fun execute(input: Tuple) {\n    // use myMapper here to query database\n    val value: String = myMapper.read(someKey)\n    ...\n  }\n}\n\n@Singleton\nclass MyMapper @Inject constructor(private val myDAO: MyDAO) {\n  ...\n  fun read(key: String): String {\n    // use myDAO to read from database\n    return ...\n  }\n}\n</code></pre>\n\n<p>I'm writing a test for the bolt and would like to mock <code>myMapper</code> so that it does not actually need to go to database to read some <code>value</code>. In my test class, I've tried to mock it like the following:</p>\n\n<pre><code>class MyTest {\n  private lateinit var injector: Injector\n  private lateinit var myBolt: MyBolt\n\n  private fun createInjector() : Injector {\n    // create the injector with my guice modules\n    ...\n  }\n\n  @Before\n  fun setUp() {\n    injector = createInjector()\n    myBolt = Mockito.spy(MyBolt(injector))\n  }\n\n  @InjectMocks private val myMapper: MyMapper = mock(MyMapper::class.java)\n  ...\n  @Test\n  fun test1() {\n    ...\n    Mockito.`when`(myMapper.read(any()).thenReturn(\"something\")\n    ...\n    // execute on a test tuple and verify some method got called\n    myBolt.execute(someTuple)\n    verify(myBolt).someMethod(any())\n  }\n}\n</code></pre>\n\n<p>I'm hoping the above will redirect the call to <code>myMapper.read()</code> to return <code>something</code>. But it still tries to read from a database. Any ideas how I can do this?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-9.0-pie"], "comments": [{"owner": {"reputation": 2005, "user_id": 7639296, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fDudS.png?s=128&g=1", "display_name": "Dr Mido", "link": "https://stackoverflow.com/users/7639296/dr-mido"}, "edited": false, "score": 0, "creation_date": 1551693284, "post_id": 51940442, "comment_id": 96719320, "body": "If you fixed this problem, please inform me How you fixed it"}], "answers": [{"tags": [], "owner": {"reputation": 366, "user_id": 4566621, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Tw6kZoYpMP0/AAAAAAAAAAI/AAAAAAAAAEQ/6J55RyCeRdE/photo.jpg?sz=128", "display_name": "sokarcreative", "link": "https://stackoverflow.com/users/4566621/sokarcreative"}, "is_accepted": false, "score": 0, "last_activity_date": 1535375232, "creation_date": 1535375232, "answer_id": 52040107, "question_id": 51940442, "link": "https://stackoverflow.com/questions/51940442/after-android-api-28-update-getting-error-while-merging-dex-archives/52040107#52040107", "title": "After Android API 28 update, getting: Error while merging dex archives", "body": "<p>Maybe have you forgotten this: <code>implementation 'com.android.support:multidex:1.0.3'</code> in your dependencies</p>\n"}], "owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2237, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1535377753, "creation_date": 1534815127, "last_edit_date": 1535377753, "question_id": 51940442, "link": "https://stackoverflow.com/questions/51940442/after-android-api-28-update-getting-error-while-merging-dex-archives", "title": "After Android API 28 update, getting: Error while merging dex archives", "body": "<p>I'm trying to move my Android app to API 28 (Android 9/P)</p>\n\n<p>I'm getting 5 errors that I can't fix.I'm still relatively new to Android development and I think, I might not have the best updating approach. </p>\n\n<p>I've already tried to clean and rebuild but the problem is still happening.</p>\n\n<p>Here is my project gradle: </p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.61'\n\n    repositories {\n        google()\n        jcenter()\n    }\n\n    dependencies {\n        classpath 'com.google.gms:google-services:4.1.0'\n        classpath 'com.android.tools.build:gradle:3.1.4'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'io.realm:realm-gradle-plugin:5.4.2'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>And here's my application gradle: </p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'realm-android'\n\nandroid {\n\n    lintOptions {\n        checkReleaseBuilds false\n    }\n\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"org.siku.siku\"\n        minSdkVersion 21\n        targetSdkVersion 28\n        versionCode 118\n        versionName \"1.0.3\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n        multiDexEnabled true //important\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude module: 'support-annotations'\n    })\n\n    implementation 'com.google.firebase:firebase-auth:16.0.3'\n    implementation 'com.google.firebase:firebase-core:16.0.1'\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.google.android.material:material:1.0.0-rc01'\n    implementation 'androidx.appcompat:appcompat:1.0.0-rc01'\n    implementation 'androidx.legacy:legacy-support-core-ui:1.0.0-rc01'\n    implementation 'androidx.core:core-ktx:1.0.0-rc01'\n    implementation 'androidx.exifinterface:exifinterface:1.0.0-rc01'\n    implementation 'androidx.vectordrawable:vectordrawable:1.0.0-rc01'\n    implementation 'androidx.cardview:cardview:1.0.0-rc01'\n    implementation 'androidx.browser:browser:1.0.0-rc01'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.2'\n    implementation 'com.google.android.gms:play-services-maps:15.0.1'\n    implementation 'com.google.android.gms:play-services-location:15.0.1'\n    implementation 'com.google.android.gms:play-services-auth:16.0.0'\n    implementation 'com.google.code.gson:gson:2.8.5'\n    implementation 'com.amitshekhar.android:android-networking:1.0.2'\n    implementation 'com.squareup.picasso:picasso:2.5.2'\n    implementation 'de.hdodenhof:circleimageview:2.2.0'\n    implementation 'joda-time:joda-time:2.9.9'\n    implementation 'info.hoang8f:android-segmented:1.0.6'\n    implementation 'io.nlopez.smartlocation:library:3.3.3'\n    implementation 'com.facebook.android:facebook-android-sdk:4.35.0'\n    implementation files('libs/CircleImageView-master/gradle/wrapper/gradle-wrapper.jar')\n    implementation 'org.greenrobot:eventbus:3.1.1'\n    testImplementation 'org.mockito:mockito-core:2.8.9'\n    testImplementation 'junit:junit:4.12'\n    debugImplementation 'com.squareup.leakcanary:leakcanary-android:1.5.4'\n    releaseImplementation 'com.squareup.leakcanary:leakcanary-android-no-op:1.5.4'\n}\n\napply plugin: 'com.google.gms.google-services'\n\nrepositories {\n    mavenCentral()\n    google()\n}\n</code></pre>\n\n<p>I am getting 5 errors: </p>\n\n<p>1- Program type already present: android.support.customtabs.ICustomTabsCallback</p>\n\n<p>2- Caused by: java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives:</p>\n\n<p>3- Caused by: com.android.builder.dexing.DexArchiveMergerException: Error while merging dex archives:</p>\n\n<p>4- Caused by: com.android.tools.r8.CompilationFailedException: Compilation failed to complete</p>\n\n<p>5- Caused by: com.android.tools.r8.utils.AbortException</p>\n\n<p>I've been trying to find documentation on the matter.\nAny suggestions or links to documentation would be appreciated.</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 4, "creation_date": 1534810592, "post_id": 51939883, "comment_id": 90829942, "body": "It looks like you&#39;re somehow ending up with parentheses in <code>url</code>. That Exception message prints the URL string bare. That is, if it didn&#39;t have extraneous parens, it would&#39;ve printed <code>no protocol: http:&#47;&#47;...</code>."}, {"owner": {"reputation": 3081, "user_id": 2711811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fc519c42e8a7c55c1e33af5ca6203f4?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/2711811/andy"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 4, "creation_date": 1534814817, "post_id": 51939883, "comment_id": 90830679, "body": "I&#39;d say @MikeM. is correct - except I believe he meant &quot;extraneous double-quotes&quot;.  Maybe include the Log.d output as well to confirm."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "reply_to_user": {"reputation": 3081, "user_id": 2711811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1fc519c42e8a7c55c1e33af5ca6203f4?s=128&d=identicon&r=PG&f=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/2711811/andy"}, "edited": false, "score": 0, "creation_date": 1534814902, "post_id": 51939883, "comment_id": 90830693, "body": "@Andy Oh, jeez, yeah. Duh. Quotes, I meant. Been a long day, I guess."}, {"owner": {"reputation": 645, "user_id": 4420802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/091f8ece32f5400a00e1e79e22c5c5fe?s=128&d=identicon&r=PG&f=1", "display_name": "firedrillsergeant", "link": "https://stackoverflow.com/users/4420802/firedrillsergeant"}, "edited": false, "score": 0, "creation_date": 1534816719, "post_id": 51939883, "comment_id": 90830977, "body": "Thank you so much, the Log.d output is <code>D&#47;JournalFetchr: URL is &quot;http:&#47;&#47;telechargement.rfi.fr&#47;rfi&#47;francais&#47;audio&#47;jff&#47;201808&#47;&zwnj;&#8203;journal_francais_fac&zwnj;&#8203;ile_20h00_-_20h10_tu&zwnj;&#8203;_20180819.mp3&quot;</code>"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1534819695, "post_id": 51939883, "comment_id": 90831552, "body": "Yep, extra quotes. Work backwards from <code>downloadAudio()</code> to figure out where they&#39;re coming from."}, {"owner": {"reputation": 645, "user_id": 4420802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/091f8ece32f5400a00e1e79e22c5c5fe?s=128&d=identicon&r=PG&f=1", "display_name": "firedrillsergeant", "link": "https://stackoverflow.com/users/4420802/firedrillsergeant"}, "edited": false, "score": 0, "creation_date": 1534819797, "post_id": 51939883, "comment_id": 90831570, "body": "Thank you so so much, I have been trying to figure this out for a while now."}], "owner": {"reputation": 645, "user_id": 4420802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/091f8ece32f5400a00e1e79e22c5c5fe?s=128&d=identicon&r=PG&f=1", "display_name": "firedrillsergeant", "link": "https://stackoverflow.com/users/4420802/firedrillsergeant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 566, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1534809243, "creation_date": 1534809243, "question_id": 51939883, "link": "https://stackoverflow.com/questions/51939883/getting-java-net-malformedurlexception-no-protocol-exception-on-a-valid-url-s", "title": "Getting &quot;java.net.MalformedURLException: no protocol&quot; exception on a valid url string?", "body": "<p>I am trying to write an android app in kotlin that downloads an mp3 file over the web. The code where the problem happens is as follows:</p>\n\n<pre><code>fun downloadAudio(url: String, f: File) {\n    Log.d(JOURNAL_FETCHR_TAG, \"URL is $url\")\n    val iStream: InputStream = URL(url).openStream() // EXCEPTION ON THIS LINE\n    val oStream: OutputStream = FileOutputStream(f)\n    var buffer = ByteArray(1024)\n    var len = iStream.read(buffer)\n\n    while (len &gt; 0) {\n        oStream.write(buffer, 0, len)\n        len = iStream.read(buffer)\n    }\n    oStream.close()\n}\n</code></pre>\n\n<p>I am getting the following exception on the line above:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: IntentService[DownloadIntentService]\n                  Process: com.sarpuner.journal, PID: 23301\n                  java.net.MalformedURLException: no protocol: \"http://telechargement.rfi.fr/rfi/francais/audio/jff/201808/journal_francais_facile_20h00_-_20h10_tu_20180819.mp3\"\n                      at java.net.URL.&lt;init&gt;(URL.java:601)\n                      at java.net.URL.&lt;init&gt;(URL.java:498)\n                      at java.net.URL.&lt;init&gt;(URL.java:447)\n                      at com.sarpuner.journal.JournalFetchrKt.downloadAudio(JournalFetchr.kt:78)\n                      at com.sarpuner.journal.DownloadIntentService.onHandleIntent(DownloadIntentService.kt:24)\n                      at android.app.IntentService$ServiceHandler.handleMessage(IntentService.java:76)\n                      at android.os.Handler.dispatchMessage(Handler.java:106)\n                      at android.os.Looper.loop(Looper.java:193)\n                      at android.os.HandlerThread.run(HandlerThread.java:65)\n</code></pre>\n\n<p>The url seems fine though, so I can't figure out the reason for the error. Any help is appreciated. </p>\n"}, {"tags": ["android", "kotlin", "android-edittext", "android-alertdialog"], "comments": [{"owner": {"reputation": 24739, "user_id": 1790644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1a2a40ddbc52508d5b53e9879961251?s=128&d=identicon&r=PG", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/1790644/matt-clark"}, "edited": false, "score": 0, "creation_date": 1534807627, "post_id": 51938863, "comment_id": 90829360, "body": "What is <b>input_dialog_single</b>?"}, {"owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "reply_to_user": {"reputation": 24739, "user_id": 1790644, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f1a2a40ddbc52508d5b53e9879961251?s=128&d=identicon&r=PG", "display_name": "Matt Clark", "link": "https://stackoverflow.com/users/1790644/matt-clark"}, "edited": false, "score": 0, "creation_date": 1534859723, "post_id": 51938863, "comment_id": 90850674, "body": "A typo, sorry it wasn&#39;t the problem"}, {"owner": {"reputation": 1798, "user_id": 5225247, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/0d5fb959272a6b5703b5f6eb5c0bd7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Aalap Patel", "link": "https://stackoverflow.com/users/5225247/aalap-patel"}, "edited": false, "score": 0, "creation_date": 1534860105, "post_id": 51938863, "comment_id": 90850909, "body": "instead of null try to add the root of the layout as viewgroup in inflate method.."}, {"owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "reply_to_user": {"reputation": 1798, "user_id": 5225247, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/0d5fb959272a6b5703b5f6eb5c0bd7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Aalap Patel", "link": "https://stackoverflow.com/users/5225247/aalap-patel"}, "edited": false, "score": 0, "creation_date": 1534860522, "post_id": 51938863, "comment_id": 90851213, "body": "@AalapPatel, the root layout of activity or dialog? How to get it"}, {"owner": {"reputation": 1798, "user_id": 5225247, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/0d5fb959272a6b5703b5f6eb5c0bd7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Aalap Patel", "link": "https://stackoverflow.com/users/5225247/aalap-patel"}, "edited": false, "score": 0, "creation_date": 1534860945, "post_id": 51938863, "comment_id": 90851497, "body": "root of activity, in your activity.xml, give ID to the root layout and use it here and see what happens, I also want to know that this edit text doesnt appear or you dont have focus on it ?? i.e. if you click there you dont see the edit text focus .. ???"}, {"owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "edited": false, "score": 0, "creation_date": 1534861149, "post_id": 51938863, "comment_id": 90851635, "body": "got you. No it&#39;s just not there, even when I focus on it and start typing"}, {"owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "reply_to_user": {"reputation": 1798, "user_id": 5225247, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/0d5fb959272a6b5703b5f6eb5c0bd7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Aalap Patel", "link": "https://stackoverflow.com/users/5225247/aalap-patel"}, "edited": false, "score": 0, "creation_date": 1534862108, "post_id": 51938863, "comment_id": 90852291, "body": "@AalapPatel, tried, the problem remains"}, {"owner": {"reputation": 1798, "user_id": 5225247, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/0d5fb959272a6b5703b5f6eb5c0bd7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Aalap Patel", "link": "https://stackoverflow.com/users/5225247/aalap-patel"}, "edited": false, "score": 0, "creation_date": 1534862200, "post_id": 51938863, "comment_id": 90852347, "body": "@JGuo How can you start tying without an EditText ?"}, {"owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "edited": false, "score": 0, "creation_date": 1534862331, "post_id": 51938863, "comment_id": 90852429, "body": "EditText is there, I can type, but just no underline no cursor nothing"}], "answers": [{"comments": [{"owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "edited": false, "score": 0, "creation_date": 1534859745, "post_id": 51939677, "comment_id": 90850692, "body": "A typo, sorry. It wasn&#39;t the problem"}], "tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 0, "last_activity_date": 1534807411, "creation_date": 1534807411, "answer_id": 51939677, "question_id": 51938863, "link": "https://stackoverflow.com/questions/51938863/alert-dialog-view-is-set-incorrectly/51939677#51939677", "title": "Alert dialog view is set incorrectly", "body": "<p>I guess you need to change <code>R.layout.input_dialog_single</code> to <code>R.layout.input_dialog</code></p>\n"}, {"tags": [], "owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "is_accepted": true, "score": 0, "last_activity_date": 1534947439, "creation_date": 1534947439, "answer_id": 51968915, "question_id": 51938863, "link": "https://stackoverflow.com/questions/51938863/alert-dialog-view-is-set-incorrectly/51968915#51968915", "title": "Alert dialog view is set incorrectly", "body": "<p>I found that once I remove the <code>TextInputLayout</code> and leave just <code>EditText</code>, everything works. <code>TextInputLayout</code> doesn't seem to work properly in alert dialog for some reason.</p>\n"}], "owner": {"reputation": 2677, "user_id": 3808183, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/7a1088f9d9dc671b0e3d4d337a546913?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Guo", "link": "https://stackoverflow.com/users/3808183/jack-guo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 51968915, "answer_count": 2, "score": 1, "last_activity_date": 1534947439, "creation_date": 1534801285, "last_edit_date": 1534859699, "question_id": 51938863, "link": "https://stackoverflow.com/questions/51938863/alert-dialog-view-is-set-incorrectly", "title": "Alert dialog view is set incorrectly", "body": "<p>I have an alert dialog with <code>EditText</code> wrapped in <code>TextInputLayout</code>. The following works fine</p>\n\n<pre><code>builder.setView(R.layout.input_dialog)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/s2zzp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s2zzp.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>But since I want to get a reference to the edit text, when I try the following, the <code>TextInputLayout</code> is gone and only the edit text is left. What have I done wrong?</p>\n\n<pre><code>val input = LayoutInflater.from(this).inflate(R.layout.input_dialog, null)\nbuilder.setView(input)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/iod5L.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iod5L.jpg\" alt=\"enter image description here\"></a></p>\n\n<h3>input_dialog.xml</h3>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;android.support.design.widget.TextInputLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginLeft=\"20dp\"\n        android:layout_marginRight=\"20dp\"\n        app:hintEnabled=\"false\"\n        android:textColorHint=\"@android:color/darker_gray\"&gt;\n\n        &lt;EditText\n            android:id=\"@+id/input_name\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:inputType=\"textNoSuggestions\"\n            android:textColor=\"@android:color/black\"\n            android:textSize=\"16dp\" /&gt;\n    &lt;/android.support.design.widget.TextInputLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<h3>activity</h3>\n\n<pre><code>val builder = AlertDialog.Builder(this, android.R.style.Theme_Material_Light_Dialog_Alert)\n</code></pre>\n"}, {"tags": ["kotlin", "function-pointers"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1534802543, "post_id": 51938840, "comment_id": 90828180, "body": "Sure.  What do you think <code>cbFuncYes</code> and <code>cbFuncNo</code> are in the first place?  They&#39;re functions passed around."}], "answers": [{"comments": [{"owner": {"reputation": 335, "user_id": 243306, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a46e3eb31cc80190fd241dd893a11514?s=128&d=identicon&r=PG", "display_name": "Jesse Knott", "link": "https://stackoverflow.com/users/243306/jesse-knott"}, "edited": false, "score": 0, "creation_date": 1534809045, "post_id": 51939077, "comment_id": 90829648, "body": "Excellent! Thanks! I wound up using the alternate method you supplied. When I tried changing the lambdas in the function adding the <code>(DialogInterface, Int) -&gt; Unit</code> I would get an error in the callback function since it was using a <code>(View, String)</code>. Thanks again! I also was able to refactor all the functions. Cheers!"}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 2, "last_activity_date": 1534803071, "last_edit_date": 1534803071, "creation_date": 1534802688, "answer_id": 51939077, "question_id": 51938840, "link": "https://stackoverflow.com/questions/51938840/does-kotlin-support-passng-a-custom-function-as-a-variable-in-another-function/51939077#51939077", "title": "Does Kotlin support passng a custom function as a variable in another function?", "body": "<p><strong>One way:</strong></p>\n\n<p>You coud change the type of <code>cbFuncYes</code> and <code>cbFuncNo</code> to <code>(DialogInterface, Int) -&gt; Unit</code> and pass them like this</p>\n\n<pre><code>val dlgBldr = AlertDialog.Builder(this @MainActivity)\ndlgBldr.setPositiveButton(\"YES\", ::cbFuncYes)\ndlgBldr.setNegativeButton(\"No\", ::cbFuncNo)\n</code></pre>\n\n<p><code>::cbFuncYes</code> and <code>::cbFuncNo</code> are called function references.</p>\n\n<p><strong>Another way:</strong></p>\n\n<p>You invoke those passed lambdas inside the lambdas with the signature that <code>setPositiveButton</code> and <code>setNegativeButton</code> expect like this:</p>\n\n<pre><code>val dlgBldr = AlertDialog.Builder(this @MainActivity)\ndlgBldr.setPositiveButton(\"YES\", {_,_ -&gt; cbFuncYes()})\ndlgBldr.setNegativeButton(\"No\", {_,_ -&gt; cbFuncNo()})\n</code></pre>\n\n<p><strong>Note:</strong> Function names start lower-case in Kotlin.</p>\n"}], "owner": {"reputation": 335, "user_id": 243306, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a46e3eb31cc80190fd241dd893a11514?s=128&d=identicon&r=PG", "display_name": "Jesse Knott", "link": "https://stackoverflow.com/users/243306/jesse-knott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 51939077, "answer_count": 1, "score": -1, "last_activity_date": 1534803071, "creation_date": 1534801121, "last_edit_date": 1534803003, "question_id": 51938840, "link": "https://stackoverflow.com/questions/51938840/does-kotlin-support-passng-a-custom-function-as-a-variable-in-another-function", "title": "Does Kotlin support passng a custom function as a variable in another function?", "body": "<p>I have a class I need to pass custom functions to an alert dialog, in effect creating a custom callback function</p>\n\n<p>Here's some pseudo code. </p>\n\n<pre><code>fun someFunction(v: View) {\n  ...\n  ShowPopup(name, \"Title\", {YesAction(v, \"Test for yes action\")},{NoAction(v, \"Test for no action\")})\n  ...\n}\n\nfun NoAction (v: View, msg: String) {\n  SendMessage( v, msg)\n  SomeCancelationFunction() \n}\n\nfun YesAction (v: View, msg: String) {\n  SendMessage(v, msg) \n  SomeYesAction()\n}\n\nfun SendMessage(v: View, msg: String) {\n    var snack = Snackbar.make(v, msg, Snackbar.LENGTH_LONG)\n    snack.show()\n}\n\nfun ShowPopup(msg: String,\n      title: String,\n      cbFuncYes: () - &gt; Unit,\n      cbFuncNo: () - &gt; Unit\n) {\n  val dlgBldr = AlertDialog.Builder(this @MainActivity)\n  dlgBldr.setPositiveButton(\"YES\", {_,_ -&gt; ::cbFuncYes()})\n  dlgBldr.setNegativeButton(\"No\", {_,_ -&gt; ::cbFuncNo()})\n  dlgBldr.setTitle(title)\n  dlgBldr.setMessage(msg)\n  val dlgShow: AlertDialog = builder.create()\n  dlgShow.show()\n}\n</code></pre>\n\n<p>My goal is to be able to call the <code>ShowPopup()</code> function handing it some functions as variables to be used in the set pos/neg actions for the alert dialog.</p>\n"}, {"tags": ["maven", "javafx", "kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1534807278, "post_id": 51938626, "comment_id": 90829306, "body": "It would be really helpful if you would post your pom.xml"}, {"owner": {"reputation": 27, "user_id": 10102376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12674074afda591a5badc024fedc0fac?s=128&d=identicon&r=PG&f=1", "display_name": "speedy", "link": "https://stackoverflow.com/users/10102376/speedy"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1534807459, "post_id": 51938626, "comment_id": 90829341, "body": "hi sorry but this command &quot;kscript&quot; no use xml files , works only with a text file that i post ."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1534807532, "post_id": 51938626, "comment_id": 90829347, "body": "Sorry then, I assumed it uses maven as build system because of the tag"}, {"owner": {"reputation": 894, "user_id": 5070552, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-2Xo1h4e-Zpg/AAAAAAAAAAI/AAAAAAAAACQ/2vxAWb-LHNo/photo.jpg?sz=128", "display_name": "Samuel Kodytek", "link": "https://stackoverflow.com/users/5070552/samuel-kodytek"}, "edited": false, "score": 0, "creation_date": 1534829099, "post_id": 51938626, "comment_id": 90833605, "body": "I don&#39;t think tornadofx is compatible yet with Java 9/10, check out there GitHub page - <a href=\"https://github.com/edvin/tornadofx#tornadofx\" rel=\"nofollow noreferrer\">github.com/edvin/tornadofx#tornadofx</a>"}], "owner": {"reputation": 27, "user_id": 10102376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12674074afda591a5badc024fedc0fac?s=128&d=identicon&r=PG&f=1", "display_name": "speedy", "link": "https://stackoverflow.com/users/10102376/speedy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1534801763, "creation_date": 1534799950, "last_edit_date": 1534801763, "question_id": 51938626, "link": "https://stackoverflow.com/questions/51938626/how-i-could-compile-kotlin-tornadofx-using-kscript", "title": "how I could compile kotlin tornadofx using kscript?", "body": "<p>Im trying to compile <code>Kotlin</code> with <code>tornadofx</code> using <code>kscript</code></p>\n\n<p>But I don't know which is the correct dependency for <code>javafx</code> and <code>tornadofx</code></p>\n\n<p>when I Compile appears the next error:</p>\n\n<pre><code>[kscript] Resolving dependencies...Failed to lookup dependencies. Maven reported the following error:\n[ERROR] Failed to execute goal on project maven_template: Could not resolve dependencies for project kscript:maven_template:jar:1.0: Could not find artifact javafx-packager:javafx-packager:jar:1.8.0_20 at specified path /usr/lib/jvm/java-9-oracle/../lib/ant-javafx.jar -&gt; [Help 1]\n</code></pre>\n\n<p>this is my code</p>\n\n<pre><code>#!/usr/bin/env kscript\n@file:DependsOn(\"no.tornado:tornadofx:1.7.17\")\n@file:DependsOn(\"com.zenjava:javafx-maven-plugin:8.8.3\")\n\nimport tornadofx.*\nimport javafx.*\nvbox {\n    button(\"Button 1\").setOnAction {\n        println(\"Button 1 Pressed\")\n    }\n    button(\"Button 2\").setOnAction {\n        println(\"Button 2 Pressed\")\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "ios", "swift", "kotlin", "extension-methods"], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 7023059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qp9UP.jpg?s=128&g=1", "display_name": "Keith Kowalski", "link": "https://stackoverflow.com/users/7023059/keith-kowalski"}, "edited": false, "score": 0, "creation_date": 1534918251, "post_id": 51937636, "comment_id": 90871679, "body": "This appears to be working now that I&#39;ve had time to implement it.  There is only 1 problem remaining:  When I call:   intent.fooModel = _fooModel  The class is not recognizing &#39;fooModel&#39; and claims it&#39;s an unresolved reference.  It suggests I import &#39;fooModel&#39;, but won&#39;t allow me to do so (doesn&#39;t make sense to do this regardless).  Any further ideas would be welcomed!  I will keep trying some various ideas...   Once I am able to run the code and verify this solution did in fact work, I will be sure to checkmark your response!  Thanks again."}, {"owner": {"reputation": 115, "user_id": 7023059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qp9UP.jpg?s=128&g=1", "display_name": "Keith Kowalski", "link": "https://stackoverflow.com/users/7023059/keith-kowalski"}, "edited": false, "score": 0, "creation_date": 1534919472, "post_id": 51937636, "comment_id": 90872150, "body": "I believe I resolved it!  I had the Intent.fooModel variable in a separate class than the newInstance function.  (This is how we built it in iOS). Apparently, Android prefers that, as you show here, everything be in the same class when working with extensions.   Is this always the case?  Can I not create an extension in one class that applies to all others?  Perhaps if I place it inside of a custom class &#39;companionObject&#39; to act as a Singleton... but, I fear I&#39;m straying into areas I shouldn&#39;t by doing so.  Either way, thank you.  Your solution helped very much."}], "tags": [], "owner": {"reputation": 1694, "user_id": 10172915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dgRVP.png?s=128&g=1", "display_name": "Akaki Kapanadze", "link": "https://stackoverflow.com/users/10172915/akaki-kapanadze"}, "is_accepted": true, "score": 1, "last_activity_date": 1534795803, "last_edit_date": 1534795803, "creation_date": 1534794642, "answer_id": 51937636, "question_id": 51936746, "link": "https://stackoverflow.com/questions/51936746/swift-to-kotlin-extensions/51937636#51937636", "title": "Swift to Kotlin - Extensions", "body": "<p>If I understand correctly, this should look like:</p>\n\n<pre><code>object AssociatedKeys {\n    const val fooModel = \"fooModel\"\n}\n\nopen class BarFooModel : Serializable\n\nvar Intent.fooModel: BarFooModel?\n    get() {\n        return getSerializableExtra(AssociatedKeys.fooModel) as BarFooModel?\n    }\n    set(value) {\n        putExtra(AssociatedKeys.fooModel, value)\n    }\n\nfun &lt;T : Activity, M : BarFooModel&gt; newInstance(context: Context, activityType: T, _fooModel: M): Intent {\n\n    val intent = Intent(context, activityType::class.java)\n    intent.fooModel = _fooModel\n\n    return intent\n}\n</code></pre>\n\n<p>Intent may be used for storing <code>Associated Objects</code></p>\n"}], "owner": {"reputation": 115, "user_id": 7023059, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qp9UP.jpg?s=128&g=1", "display_name": "Keith Kowalski", "link": "https://stackoverflow.com/users/7023059/keith-kowalski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 508, "favorite_count": 0, "accepted_answer_id": 51937636, "answer_count": 1, "score": 1, "last_activity_date": 1534795803, "creation_date": 1534790447, "question_id": 51936746, "link": "https://stackoverflow.com/questions/51936746/swift-to-kotlin-extensions", "title": "Swift to Kotlin - Extensions", "body": "<p>I am trying to create a custom variable (fooModel) as an extension to the Android 'Activity' class.  In Swift, this was done simply as a class extension to 'UIViewController', creating the variable and then accessing it at anytime.</p>\n\n<p>Here is the extension that works in Swift:</p>\n\n<pre><code>extension UIViewController {\n    var fooModel : barFooModel? {\n        get {\n            return objc_getAssociatedObject(self, &amp;AssociatedKeys.fooModel) as? barFooModel\n        }\n\n        set(value) {\n            objc_setAssociatedObject(self, &amp;AssociatedKeys.fooModel, value, objc_AssociationPolicy.OBJC_ASSOCIATION_RETAIN_NONATOMIC)\n        }\n    }\n}   \n</code></pre>\n\n<p>In Kotlin, I've done the following:</p>\n\n<pre><code>var Activity.fooModel: barFooModel?\n\nget() = fooModel as barFooModel\n\nset(value) {\n    fooModel = value\n}\n</code></pre>\n\n<p>This throws the following error:</p>\n\n<blockquote>\n  <p>Unresolved reference: fooModel</p>\n</blockquote>\n\n<p>One auto-generated solution is to import 'fooModel', but this seems incorrect and still does not solve the error.</p>\n\n<p>Note: I AM able to access this variable extension via a variable adhering to the 'Activity' class, (see below for an example of how that looks), which makes this seem like it SHOULD work, I'm just missing something:</p>\n\n<pre><code>fun &lt;T: Activity, M: BarFooModel&gt; newInstance(context: Context, activityType: T, _fooModel: M): T {\n\n        val intent = Intent(context, activityType::class.java) as T\n        **intent.fooModel = _fooModel**   // intent.fooModel IS accessible, based on the extension created.\n\n        return intent\n    }\n</code></pre>\n\n<p>Am I on the right track?  What can I do to match the Swift implementation of the 'fooModel' variable extension?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["oop", "inheritance", "methods", "kotlin", "overriding"], "answers": [{"tags": [], "owner": {"reputation": 28310, "user_id": 1642079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/OheTJ.jpg?s=128&g=1", "display_name": "Chad Bingham", "link": "https://stackoverflow.com/users/1642079/chad-bingham"}, "is_accepted": false, "score": 0, "last_activity_date": 1534795235, "creation_date": 1534795235, "answer_id": 51937763, "question_id": 51936586, "link": "https://stackoverflow.com/questions/51936586/subclass-var-initialization-step-and-oop-structure-design/51937763#51937763", "title": "Subclass var initialization step and OOP structure design", "body": "<p>I am not sure what you mean by \"super class <code>Child</code>\", but it seems you may be confused of the order of derived classes. Here is a really good <a href=\"https://kotlinlang.org/docs/reference/classes.html#derived-class-initialization-order\" rel=\"nofollow noreferrer\">example that shows the order</a>. It has a code snippet that you can run on the site. </p>\n"}, {"comments": [{"owner": {"reputation": 340, "user_id": 8244977, "user_type": "registered", "profile_image": "https://graph.facebook.com/100007678740593/picture?type=large", "display_name": "BingLi224", "link": "https://stackoverflow.com/users/8244977/bingli224"}, "edited": false, "score": 0, "creation_date": 1535283969, "post_id": 51939103, "comment_id": 91001938, "body": "Thanks for your explanation. i&#39;m figuring out what IOC stuff actually is; I&#39;m newbie, really.  Thinking about my imagination, the <code>Parent</code> shouldn&#39;t be &quot;parent&quot;; the <i>super class</i> is like a conceptual thing that can extract data, while any <i>sub class</i> can extract in various method. So, in your suggestion, all <i>sub classes</i> should make quite similar <code>fun makeChild(..)</code> pattern?"}], "tags": [], "owner": {"reputation": 2841, "user_id": 1307108, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a3597ff7f20fe726589d2dbf56e3fb66?s=128&d=identicon&r=PG", "display_name": "Groostav", "link": "https://stackoverflow.com/users/1307108/groostav"}, "is_accepted": false, "score": 0, "last_activity_date": 1534802831, "creation_date": 1534802831, "answer_id": 51939103, "question_id": 51936586, "link": "https://stackoverflow.com/questions/51936586/subclass-var-initialization-step-and-oop-structure-design/51939103#51939103", "title": "Subclass var initialization step and OOP structure design", "body": "<p>Generally speaking this kind of initializer interaction is frowned upon, since the exact order of operations, while well defined, is often counter-intuitive. </p>\n\n<p>Specifically, what I <em>believe</em> is happening here, might be more clear using the more verbose explicit-constructor syntax in kotlin. You're code is an abbreviated version of this (note, this is legal kotlin):</p>\n\n<pre><code>abstract class Parent {\n\n    val a: Int\n\n    constructor(a: Int){\n        this.a = a\n        extract(a)\n    }\n\n    abstract fun extract ( i : Int )\n}\n\nclass Child: Parent {\n\n    var x : Int\n\n    constructor(b: Int): Parent(b) {\n        //super.constructor(b) fires here\n\n        // initialize x variable to -1 \n        x = -1\n    }\n\n    override fun extract (i : Int) {\n        // set x to given int\n        x = i\n    }\n}\n</code></pre>\n\n<p>thus, as I hope is now a little more clear, a pseudo-call-trace is like this:</p>\n\n<blockquote>\n  <ol>\n  <li>enter <code>Child.constructor(10)</code></li>\n  <li>enter <code>Parent.constructor(10)</code></li>\n  <li>assign 10 to <code>this@Parent.a</code></li>\n  <li>enter <code>this.extract(10)</code> => V-Table resolves <code>Child.extract()</code></li>\n  <li>assign 10 to <code>this@Child.x</code></li>\n  <li><code>extract</code> returns</li>\n  <li><code>Parent.constructor</code> returns</li>\n  <li>assign -1 to <code>this@Child.x</code> <em>this is probably your point of confusion</em></li>\n  <li><code>Child.constructor</code> returns</li>\n  </ol>\n</blockquote>\n\n<h2>What you can do</h2>\n\n<p>Generally speaking, when you encounter confusing initialization flows, the answer on the JVM is to formalize the complex initialization in <strong>another method</strong>, rather than in more <code>init</code> or <code>constructors</code>.</p>\n\n<p>In kotlin the simplest way to do this --and a strategy used by many many libraries-- is to create a static factory method. </p>\n\n<pre><code>abstract class Parent(val a: Int) {\n  //...\n}\n\nclass Child private constructor(var x: Int): Parent(x) {\n\n    companion object {\n\n        fun makeChild(unextracted: Int) {\n            val extracted = extract(unextracted)\n            return Child(extracted)\n        }\n\n        // a first good step is to make `extract` referentially transparent \n        // aka pure\n        // IE all of its function is provided in its return type\n        fun extract (i : Int): Int {\n            return i //do appropriate transforms.\n            //note, if you need multiple return values here, consider Pairs or Triples. \n        }\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Note, kotlin provides some syntax sugar for this, you can override the invoke operator:</p>\n  \n  <p><code>class Child { companion object { operator fun invoke(x: Int) { ... } } }</code></p>\n  \n  <p>which means that instead of <code>makeChild</code> (eg <code>Child.makeChild(10)</code>) to call your factory function you to use ~constructor syntax (<code>Child(10)</code>). </p>\n</blockquote>\n\n<p>Even more generally, if you find yourself running into this problem under an IOC container which, for whatever reason, <em>must</em> use initializer flow, I would encourage you to refactor your IOC consumers to use old-fashioned java factories. I'll need more details to elaborate here. </p>\n"}], "owner": {"reputation": 340, "user_id": 8244977, "user_type": "registered", "profile_image": "https://graph.facebook.com/100007678740593/picture?type=large", "display_name": "BingLi224", "link": "https://stackoverflow.com/users/8244977/bingli224"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1534818076, "creation_date": 1534789658, "last_edit_date": 1534818076, "question_id": 51936586, "link": "https://stackoverflow.com/questions/51936586/subclass-var-initialization-step-and-oop-structure-design", "title": "Subclass var initialization step and OOP structure design", "body": "<p>The abstract super class <code>Parent</code> has abstract method <code>extract(Int)</code>, getting the value <code>a</code> from primary constructor, and submit it to that method <code>extract(a)</code>.</p>\n\n<pre><code>abstract class Parent ( val a : Int ) {\n\n    abstract fun extract ( i : Int )\n\n    init {\n        // call overriden extract(Int)\n        extract ( a )\n    }\n}\n</code></pre>\n\n<p>The sub class <code>Child</code> defines the method <code>extract(Int)</code>, sending the value <code>b</code> to the <code>Parent</code>'s constructor, then the super class <code>Parent</code> calling <code>extract(Int)</code> to set that value to <code>Child</code>'s variable <code>x</code>.</p>\n\n<pre><code>class Child ( b : Int ) : Parent ( b ) {\n\n    // initialize x variable to -1\n    var x : Int = -1\n\n    override fun extract ( i : Int ) {\n        // set x to given int\n        x = i\n    }\n}\n</code></pre>\n\n<p>Testing:</p>\n\n<pre><code>println ( Child ( 10 ).x )\n</code></pre>\n\n<p>And got:</p>\n\n<pre><code>-1\n</code></pre>\n\n<p>Now, try adding <code>init{}</code> of the sub class <code>Child</code></p>\n\n<pre><code>    init {\n        x = -2\n    }\n</code></pre>\n\n<p>Testing again:</p>\n\n<pre><code>println ( Child ( 10 ).x )\n</code></pre>\n\n<p>And got:</p>\n\n<pre><code>-2\n</code></pre>\n\n<p>Seemingly, the <code>init{}</code> of sub class <code>Child</code> is done after the super class <code>Parent</code>'s construction.</p>\n\n<p>Should the <code>extract(Int)</code> be overridden ann called by all sub classes, rather than by the super class?</p>\n"}, {"tags": ["android", "json", "if-statement", "kotlin", "openweathermap"], "comments": [{"owner": {"reputation": 687, "user_id": 4267697, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-R9fnFSEkiH4/AAAAAAAAAAI/AAAAAAAAD0A/o2Bs6OqDn-s/photo.jpg?sz=128", "display_name": "karthik prasad", "link": "https://stackoverflow.com/users/4267697/karthik-prasad"}, "edited": false, "score": 0, "creation_date": 1534791262, "post_id": 51936565, "comment_id": 90823839, "body": "could you paste a sample response?"}, {"owner": {"reputation": 1290, "user_id": 10035978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ca7M0.jpg?s=128&g=1", "display_name": "Alex Kolydas", "link": "https://stackoverflow.com/users/10035978/alex-kolydas"}, "reply_to_user": {"reputation": 687, "user_id": 4267697, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-R9fnFSEkiH4/AAAAAAAAAAI/AAAAAAAAD0A/o2Bs6OqDn-s/photo.jpg?sz=128", "display_name": "karthik prasad", "link": "https://stackoverflow.com/users/4267697/karthik-prasad"}, "edited": false, "score": 0, "creation_date": 1534791842, "post_id": 51936565, "comment_id": 90824023, "body": "@karthikprasad What do you mean?(sorry i&#39;m new to this)"}, {"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "edited": false, "score": 0, "creation_date": 1534820615, "post_id": 51936565, "comment_id": 90831733, "body": "can you share your ForecastWeatherList object ?"}], "answers": [{"comments": [{"owner": {"reputation": 1290, "user_id": 10035978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ca7M0.jpg?s=128&g=1", "display_name": "Alex Kolydas", "link": "https://stackoverflow.com/users/10035978/alex-kolydas"}, "edited": false, "score": 0, "creation_date": 1534836437, "post_id": 51941858, "comment_id": 90836756, "body": "Oh thanks so much!!!The problem now is that it displays what i want but it has a big white gap.How can we not add at allthe elements if the time is not 3.00 o&#39;clock?"}, {"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "reply_to_user": {"reputation": 1290, "user_id": 10035978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ca7M0.jpg?s=128&g=1", "display_name": "Alex Kolydas", "link": "https://stackoverflow.com/users/10035978/alex-kolydas"}, "edited": false, "score": 1, "creation_date": 1534852511, "post_id": 51941858, "comment_id": 90845695, "body": "you have to  filter the list content with the time. Edited the answer. Please Accept and Upvote the answer if it helps."}], "tags": [], "owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "is_accepted": true, "score": 1, "last_activity_date": 1534852389, "last_edit_date": 1534852389, "creation_date": 1534827768, "answer_id": 51941858, "question_id": 51936565, "link": "https://stackoverflow.com/questions/51936565/using-if-statement-on-json-data-goes-wrong-android-kotlin/51941858#51941858", "title": "using IF statement on JSON data goes wrong (Android Kotlin)", "body": "<p>So there are couple of things you have to change.</p>\n\n<ol>\n<li><p>IF statement which you have added just set the texts for condition and leave the rest with Default strings. For that, one hack to change the code like below. This will remove your extra TextViews. </p>\n\n<pre><code>if(weatherFor.dt_txt==\"2018-08-21 00:00:00\") \n{\n       holder?.view?.textWeatherDataForecast?.text = \"${weatherFor.weather.map { it.description }.joinToString(\",\")} on ${date}\"\n    holder?.view?.tempTextForecast?.text = weatherFor.main.temp.toString() + \"\u00b0C\"\n\n}\nelse\n{ \n     holder?.view?.visibility = View.GONE\n}\n</code></pre></li>\n</ol>\n\n<p>But Ideally you have to filter your response to have only 15:00 weather data in the list. you can google how to filter list using list.filter{predicate} method.</p>\n\n<ol start=\"2\">\n<li><p>Parsing date has to be done in a way to get 15:00:00 time and add if condition just for 15:00:00</p>\n\n<pre><code> val localDateFormat = SimpleDateFormat(\"HH:mm:ss\")\nval dt_time: String = localDateFormat.format(date)\n\n if(dt_time == \"15:00:00\"){\n        // your set holder text goes here\n }\n</code></pre></li>\n</ol>\n\n<p>Edited:</p>\n\n<p>Add a var to your adapter class</p>\n\n<pre><code>    lateinit var weatherList: List&lt;ForecastWeatherList&gt;\n</code></pre>\n\n<p>Add a init block</p>\n\n<pre><code>    init{\n        weatherList = forecastfeed.list.filter{ //add your condition here this should plain condition which gives true or false like it.dt_txt ==\"15:00:00\" }\n    }\n</code></pre>\n\n<p>Inside your getItemCount() replace</p>\n\n<pre><code>    weatherList.count()\n</code></pre>\n"}], "owner": {"reputation": 1290, "user_id": 10035978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ca7M0.jpg?s=128&g=1", "display_name": "Alex Kolydas", "link": "https://stackoverflow.com/users/10035978/alex-kolydas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 51941858, "answer_count": 1, "score": 0, "last_activity_date": 1534852389, "creation_date": 1534789540, "last_edit_date": 1534842216, "question_id": 51936565, "link": "https://stackoverflow.com/questions/51936565/using-if-statement-on-json-data-goes-wrong-android-kotlin", "title": "using IF statement on JSON data goes wrong (Android Kotlin)", "body": "<p>I'm trying to display the weather forecast for 5 days but the openweathermap gives me the weather for 5 days/3 hours. What I want to do is to display only the weather at 15:00.</p>\n\n<p>I'm using an if statement with one of the date&amp;time and if you see my emulator it displays the same date and time many times and also displays the whole JSON file as empty texts. Any idea on this please?\n<a href=\"https://i.stack.imgur.com/D6tjM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D6tjM.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Here is my if statement</strong></p>\n\n<pre><code>if(weatherFor.dt_txt==\"2018-08-21 00:00:00\") {\n            holder?.view?.textWeatherDataForecast?.text = \"${weatherFor.weather.map { it.description }.joinToString(\",\")} on ${date}\"\n            holder?.view?.tempTextForecast?.text = weatherFor.main.temp.toString() + \"\u00b0C\"\n\n        }\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 816, "user_id": 8987788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a787055b0213252aee00965b087d956f?s=128&d=identicon&r=PG", "display_name": "SSB", "link": "https://stackoverflow.com/users/8987788/ssb"}, "is_accepted": false, "score": 1, "last_activity_date": 1534789400, "creation_date": 1534789400, "answer_id": 51936546, "question_id": 51936197, "link": "https://stackoverflow.com/questions/51936197/recyclerview-2-views-updating-when-i-only-want-1-to-update/51936546#51936546", "title": "RecyclerView - 2 views updating when I only want 1 to update", "body": "<p>That is happening because recycler view as name suggests it recycle(reuses) the view so it can save memory and give user smooth scrolling experience, refer this link for more details <a href=\"https://developer.android.com/guide/topics/ui/layout/recyclerview\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/ui/layout/recyclerview</a></p>\n\n<p>So you have create two more fields in your model class TimeStampLabels which will store date and time and then you have to change onClick implementation as below</p>\n\n<pre><code>override fun onClick(v: View?) {\n    var dateFormat = SimpleDateFormat(\"MM / dd / yyyy\")\n    var timeFormat = SimpleDateFormat(\"HH:mm\")\n    var date = dateFormat.format(calendar.timeInMillis)\n    var time = timeFormat.format(calendar.getTime())\n\n    // Get the position of relevant row\n    var position: Int = adapterPosition\n    Log.d(\"POSITION:  \", position.toString())\n    var mList = labelList[position]\n    // What ever name you give for date and time field in your model class\n    mList.date = date\n    mList.time = time\n    labelList[position] = mList\n    notifyDataSetChanged()\n}\n</code></pre>\n\n<p>and change your bindItem method like below</p>\n\n<pre><code>fun bindItem(label: TimeStampLabels) {\n    // What ever name you give for date and time field in your model class\n    tsDate.setText(label.date)\n    tsTime.setText(label.time)\n    categoryLabel.text = label.tsLabel\n    nowButton.setOnClickListener(this)\n\n}\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 5099224, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OwMN38q9kjE/AAAAAAAAAAI/AAAAAAAAABc/thntfuichGE/photo.jpg?sz=128", "display_name": "Pis7ftw", "link": "https://stackoverflow.com/users/5099224/pis7ftw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1534803310, "creation_date": 1534787982, "question_id": 51936197, "link": "https://stackoverflow.com/questions/51936197/recyclerview-2-views-updating-when-i-only-want-1-to-update", "title": "RecyclerView - 2 views updating when I only want 1 to update", "body": "<p>I have created a RecyclerView in which the user can press a \"Now\" button and it would update recycler view's TextViews with the current date and time.</p>\n\n<p>Weirdly, if I press the \"Now\" button on the recycler view at position 0, it also updates the RecyclerView at position 9. Similarly, pressing it at position 1 also updates it at position 10. </p>\n\n<p>Currently, the date and time are not saved anywhere; that part hasn't been set up yet. I'm just trying to figure out why clicking the button updates two views 10 positions apart.</p>\n\n<p>Here is the code for my adapter; I'm using Kotlin:</p>\n\n<pre><code>class TimeStampListAdapter(private val labelList: ArrayList&lt;TimeStampLabels&gt;,\n                       private val context: Context) : RecyclerView.Adapter&lt;TimeStampListAdapter.ViewHolder&gt;() {\n\noverride fun onCreateViewHolder(parent: ViewGroup, position: Int): ViewHolder {\n    val view: View = LayoutInflater.from(context).inflate(R.layout.list_time_category, parent, false)\n    return ViewHolder(view, context, labelList)\n}\n\noverride fun getItemCount(): Int {\n    return labelList.size\n}\n\noverride fun onBindViewHolder(viewHolder: ViewHolder, position: Int) {\n    viewHolder?.bindItem(labelList[position])\n\n}\n\n inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView), View.OnClickListener {\n\n    var tsDate = itemView.findViewById(R.id.txtEDate) as EditText\n    var tsTime = itemView.findViewById(R.id.txtETime) as EditText\n\n    var categoryLabel = itemView.findViewById(R.id.txtVCategory) as TextView\n\n    var nowButton = itemView.findViewById(R.id.btnNow) as Button\n\n    val calendar = Calendar.getInstance()\n\n    // Inserts the time stamp labels into each RecyclerView instance\n    fun bindItem(label: TimeStampLabels) {\n\n        categoryLabel.text = label.tsLabel\n        nowButton.setOnClickListener(this)\n\n    }\n\n\n\n     override fun onClick(v: View?) {\n         var dateFormat = SimpleDateFormat(\"MM / dd / yyyy\")\n         var timeFormat = SimpleDateFormat(\"HH:mm\")\n         var date = dateFormat.format(calendar.timeInMillis)\n         var time = timeFormat.format(calendar.getTime())\n\n         // Get the position of relevant row\n         var position: Int = adapterPosition\n         Log.d(\"POSITION:  \", position.toString())\n         var mList = labelList[position]\n         if (v!!.id == nowButton.id) {\n             Log.d(\"POSITION in conditional\", position.toString())\n             tsDate.setText(date)\n             tsTime.setText(time)\n\n\n             //notifyItemChanged(adapterPosition) - This isn't needed, \n             // but if uncommented doesn't help the main issue I'm    \n             // having.\n         }\n\n     }\n</code></pre>\n\n<p>The issue occurs on the firing of the overridden onClick function.</p>\n\n<p>The Activity:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_time_stamp)\n\n\n\n    labelListItems = ArrayList()\n    adapter = TimeStampListAdapter(labelListItems!!, this )\n    layoutManager = LinearLayoutManager(this)\n\n\n    timeStampRecyclerView.layoutManager = layoutManager\n    timeStampRecyclerView.adapter = adapter\n\n    /**\n     * Create the recycler views out of the TimeStampLabels table\n     */\n    for (i in 0..labels.timeStampLabels!!.size - 1) {\n        val label = TimeStampLabels()\n        label.tsLabel = label.timeStampLabels[i]\n        labelListItems!!.add(label)\n    }\n    adapter!!.notifyDataSetChanged()\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "picasso"], "comments": [{"owner": {"reputation": 25612, "user_id": 423105, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ced7f76fd1b5573ce3bdce2f3392df04?s=128&d=identicon&r=PG", "display_name": "LarsH", "link": "https://stackoverflow.com/users/423105/larsh"}, "edited": false, "score": 0, "creation_date": 1534787681, "post_id": 51936061, "comment_id": 90822250, "body": "Do the images that are not getting autorotated have the required EXIF data that allows them to be autorotated?"}, {"owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "reply_to_user": {"reputation": 25612, "user_id": 423105, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ced7f76fd1b5573ce3bdce2f3392df04?s=128&d=identicon&r=PG", "display_name": "LarsH", "link": "https://stackoverflow.com/users/423105/larsh"}, "edited": false, "score": 0, "creation_date": 1534787836, "post_id": 51936061, "comment_id": 90822313, "body": "I use EXIF to get degrees, but all image is 0 degrees"}], "answers": [{"tags": [], "owner": {"reputation": 458, "user_id": 8761120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ae274bf1c7da7a49cab0562f206bc8f?s=128&d=identicon&r=PG", "display_name": "Erselan Khan", "link": "https://stackoverflow.com/users/8761120/erselan-khan"}, "is_accepted": true, "score": 4, "last_activity_date": 1534789602, "creation_date": 1534789602, "answer_id": 51936579, "question_id": 51936061, "link": "https://stackoverflow.com/questions/51936061/picasso-auto-rotate-photo-captured-from-camera-but-not-rotate-image-downloaded/51936579#51936579", "title": "Picasso auto rotate photo captured from camera, but not rotate image downloaded from internet", "body": "<p>First cross check that your camera image bitmap is rotated or not because some phones like samsung s4 rotates image 90 degree when taking image from camera. If image not rotated then use glide for loading image because picasso rotates image to 90 degree when it's size is bigger.</p>\n\n<p>For Glide there is documentation how to use : <a href=\"https://github.com/bumptech/glide\" rel=\"nofollow noreferrer\">https://github.com/bumptech/glide</a></p>\n\n<p>Gradle:</p>\n\n<p>root: </p>\n\n<pre><code>repositories {\n  mavenCentral()\n  google()\n}\n</code></pre>\n\n<p>app:</p>\n\n<pre><code>dependencies {\n  implementation 'com.github.bumptech.glide:glide:4.8.0'\n  annotationProcessor 'com.github.bumptech.glide:compiler:4.8.0'\n}\n</code></pre>\n\n<p>How to set your uri data on glide:</p>\n\n<pre><code>Glide.with(mContext)\n    .load(new File(pictureUri.getPath())) // Uri of the picture\n    .transform(new CircleTransform(..))\n    .into(image);\n</code></pre>\n"}], "owner": {"reputation": 573, "user_id": 9273266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qb2ZO.jpg?s=128&g=1", "display_name": "mducc", "link": "https://stackoverflow.com/users/9273266/mducc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1652, "favorite_count": 0, "accepted_answer_id": 51936579, "answer_count": 1, "score": 4, "last_activity_date": 1534789602, "creation_date": 1534787403, "question_id": 51936061, "link": "https://stackoverflow.com/questions/51936061/picasso-auto-rotate-photo-captured-from-camera-but-not-rotate-image-downloaded", "title": "Picasso auto rotate photo captured from camera, but not rotate image downloaded from internet", "body": "<p>I writting a application. My app will select photo from gallery. I use Picasso to load Image to ImageView.</p>\n\n<p>Problem is Picasso auto rotate any photo captured from camera, but not rotate any image downloaded and saved to internal storage from internet</p>\n\n<p>This is image download from internet:</p>\n\n<p><a href=\"https://i.stack.imgur.com/26oL7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/26oL7.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is photo captured from camera, Picasso auto rotate it, i want fix it:</p>\n\n<p><a href=\"https://i.stack.imgur.com/f5MKp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f5MKp.png\" alt=\"enter image description here\"></a></p>\n\n<p>This is my code:</p>\n\n<pre><code>picasso\n       .load(uriPhoto)\n       .resize(newWidthBitmap.toInt(), newHeightBitmap.toInt())\n       .centerInside()\n       //.rotate(90f)\n       .into(target_image)\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 816, "user_id": 8987788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a787055b0213252aee00965b087d956f?s=128&d=identicon&r=PG", "display_name": "SSB", "link": "https://stackoverflow.com/users/8987788/ssb"}, "is_accepted": false, "score": 6, "last_activity_date": 1534791866, "creation_date": 1534791866, "answer_id": 51937021, "question_id": 51934701, "link": "https://stackoverflow.com/questions/51934701/android-toggle-fullscreen-in-kotlin/51937021#51937021", "title": "Android toggle fullscreen in kotlin", "body": "<p>You can call toggle fullscreen using this method</p>\n\n<pre><code>fun toggleFullScreen() {\n    if (window.decorView.systemUiVisibility == View.SYSTEM_UI_FLAG_VISIBLE) {\n        window.setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN, WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        window.decorView.systemUiVisibility = View.SYSTEM_UI_FLAG_HIDE_NAVIGATION or View.SYSTEM_UI_FLAG_IMMERSIVE_STICKY or View.SYSTEM_UI_FLAG_FULLSCREEN\n    } else {\n        window.clearFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN)\n        window.decorView.systemUiVisibility = View.SYSTEM_UI_FLAG_VISIBLE\n    }\n}\n</code></pre>\n\n<p>For more details refer this link <a href=\"https://developer.android.com/training/system-ui/immersive\" rel=\"noreferrer\">https://developer.android.com/training/system-ui/immersive</a> and for details about flags refer this link <a href=\"https://developer.android.com/reference/android/view/View.html#SYSTEM_UI_FLAG_VISIBLE\" rel=\"noreferrer\">https://developer.android.com/reference/android/view/View.html#SYSTEM_UI_FLAG_VISIBLE</a></p>\n"}], "owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1973, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1534791866, "creation_date": 1534781468, "question_id": 51934701, "link": "https://stackoverflow.com/questions/51934701/android-toggle-fullscreen-in-kotlin", "title": "Android toggle fullscreen in kotlin", "body": "<p>I'm trying to make my android app toggle between a fullscreen and non-fullscreen mode. Based on other stack overflow answers I've made this extension to do most the work I need...</p>\n\n<pre><code>fun AppCompatActivity?.toggleFullscreen(fullscreen: Boolean) {\n    if (this == null) return\n    val attrs = window.attributes\n    if (fullscreen) {\n        attrs.flags = attrs.flags or  WindowManager.LayoutParams.FLAG_FULLSCREEN \n    } else {\n        attrs.flags = attrs.flags and WindowManager.LayoutParams.FLAG_FULLSCREEN.inv()\n    }\n    window.attributes = attrs\n}    \n</code></pre>\n\n<p>but this still leaves the naviagtion bar at the bottom of the screen, ive tried adding some other flags (by putting another or after the fullscreen flag) suggested by <a href=\"https://developer.android.com/training/system-ui/immersive\" rel=\"nofollow noreferrer\">https://developer.android.com/training/system-ui/immersive</a>, incluing:</p>\n\n<pre><code>SYSTEM_UI_FLAG_HIDE_NAVIGATION\nSYSTEM_UI_FLAG_IMMERSIVE_STICKY\n</code></pre>\n\n<p>but none seemed to work, is there something I'm missing?</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 2841, "user_id": 1307108, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a3597ff7f20fe726589d2dbf56e3fb66?s=128&d=identicon&r=PG", "display_name": "Groostav", "link": "https://stackoverflow.com/users/1307108/groostav"}, "edited": false, "score": 1, "creation_date": 1534803541, "post_id": 51934492, "comment_id": 90828481, "body": "you can also always smart-cast local variables. so something like <code>val viewAdapter = BezziningAdapter(); viewAdapter.whatever(); &#47;*...*&#47; this.viewAdapter = viewAdapter</code> would work <i>in the general case</i>, since a <code>val</code> stack variable will never change value"}, {"owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "reply_to_user": {"reputation": 2841, "user_id": 1307108, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/a3597ff7f20fe726589d2dbf56e3fb66?s=128&d=identicon&r=PG", "display_name": "Groostav", "link": "https://stackoverflow.com/users/1307108/groostav"}, "edited": false, "score": 0, "creation_date": 1535386945, "post_id": 51934492, "comment_id": 91037567, "body": "I see thanks @Groostav,makes sense because <code>val</code> is like a <code>final</code> in java i guess"}], "answers": [{"comments": [{"owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "edited": false, "score": 0, "creation_date": 1534785254, "post_id": 51934707, "comment_id": 90821235, "body": "Thanks. it is working if I do like that <code>private lateinit var viewAdapter: BezinningAdapter</code> without the diamond. So I am starting to understand, the reason why I get this Smartcast exception is the fact that I am kind of initializing it twice?"}, {"owner": {"reputation": 230, "user_id": 6806787, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DA7Gscb8GcA/AAAAAAAAAAI/AAAAAAAAAEc/BGsdeHaAvLo/photo.jpg?sz=128", "display_name": "natonomo", "link": "https://stackoverflow.com/users/6806787/natonomo"}, "reply_to_user": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "edited": false, "score": 1, "creation_date": 1534785763, "post_id": 51934707, "comment_id": 90821456, "body": "It has to be casted in general because you declared <code>viewAdapter</code> as a <code>RecyclerView.Adapter</code> at first and then assigned it to a <code>BezinningAdapter</code> later. Smartcast isn&#39;t possible here (on <code>var</code> types) because the reference could be any subtype of <code>RecyclerView.Adapter</code> at any time."}], "tags": [], "owner": {"reputation": 230, "user_id": 6806787, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DA7Gscb8GcA/AAAAAAAAAAI/AAAAAAAAAEc/BGsdeHaAvLo/photo.jpg?sz=128", "display_name": "natonomo", "link": "https://stackoverflow.com/users/6806787/natonomo"}, "is_accepted": true, "score": 2, "last_activity_date": 1534782339, "last_edit_date": 1534782339, "creation_date": 1534781496, "answer_id": 51934707, "question_id": 51934492, "link": "https://stackoverflow.com/questions/51934492/avoiding-race-conditions-in-kotlin-smartcast-is-impossible-runtime-exception/51934707#51934707", "title": "Avoiding race conditions in Kotlin, Smartcast is impossible runtime exception", "body": "<p>If you know that <code>viewAdapter</code> is going to be a <code>BezinningAdapter</code>, then declare it as such:</p>\n\n<pre><code>private lateinit var viewAdapter: BezinningAdapter&lt;*&gt;\n</code></pre>\n"}], "owner": {"reputation": 257, "user_id": 4403927, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3ff3676a971cc3fd244d79ada43f76a5?s=128&d=identicon&r=PG&f=1", "display_name": "Drocchio", "link": "https://stackoverflow.com/users/4403927/drocchio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "accepted_answer_id": 51934707, "answer_count": 1, "score": 1, "last_activity_date": 1534786374, "creation_date": 1534780750, "last_edit_date": 1534786374, "question_id": 51934492, "link": "https://stackoverflow.com/questions/51934492/avoiding-race-conditions-in-kotlin-smartcast-is-impossible-runtime-exception", "title": "Avoiding race conditions in Kotlin, Smartcast is impossible runtime exception", "body": "<p>The line:</p>\n\n<blockquote>\n  <p>viewAdapter.setTitleData(bezinningModels)</p>\n</blockquote>\n\n<p>in the below snippet is giving me the runtime warning:</p>\n\n<blockquote>\n  <p>Smart cast to 'BezinningAdapter' is impossible, because 'viewAdapter'\n  is a mutable property that could have been changed by this time</p>\n</blockquote>\n\n<p>I went through a lot of posts with a similar runtime warning, and I understood why this happens. Basically Kotlin wants to avoid race conditions so that the value of a mutable object could not change,but still I do not get what I should do to avoid this mistake so that I can call the retrofit call into the <code>RecyclerView Array</code>\nI tried to change from <code>var</code> to <code>val</code> the value of <code>RecyclerView</code> but did not work</p>\n\n<p>Here the snippet that causes the problem:</p>\n\n<pre><code>@RequiresApi(Build.VERSION_CODES.HONEYCOMB)\nclass MainFragment : android.app.Fragment() {\n\n\n\n\nprivate lateinit var viewManager: RecyclerView.LayoutManager\nprivate lateinit var recyclerView: RecyclerView\n\nprivate lateinit var viewAdapter: RecyclerView.Adapter&lt;*&gt;\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n    val view = inflater!!.inflate(R.layout.bezinning_fragment, container, false)\n\n   viewManager=LinearLayoutManager(activity)\n    viewAdapter=BezinningAdapter()\n\n    recyclerView = view.findViewById(R.id.recycler_view) as RecyclerView\n    recyclerView.setHasFixedSize(true)\n    recyclerView.layoutManager=viewManager\n    recyclerView.adapter=viewAdapter\n\n\n    val subscribe = bezinningListViewModel!!.showBezinningLijst(\"132\")\n            ?.subscribeOn(schedulerProvider!!.io())\n            ?.observeOn(schedulerProvider!!.ui())\n            ?.subscribe(object : FlowableSubscriber&lt;List&lt;BezinningModel&gt;&gt; {\n                override fun onError(t: Throwable?) {\n                    Log.d(\"IVO\", \"onError: \")\n                }\n\n                override fun onComplete() {\n                    Log.d(\"IVO\", \"onComplete: \")\n                }\n\n                override fun onSubscribe(s: Subscription) {\n                    s.request(Long.MAX_VALUE);\n\n                }\n\n                override fun onNext(bezinningModels: List&lt;BezinningModel&gt;?) \n   {\n\n                    val JSONResponseBody = bezinningModels!! \n[0].attribute.body\n                    viewAdapter.setTitleData(bezinningModels)\n\n\n                    val bodyBezinningParsedHtml = \nHtml.fromHtml(JSONResponseBody)\n\n\n\n                }\n\n\n            })\n\n    return view\n\n}\n\n\n\n}\n</code></pre>\n"}, {"tags": ["spring", "spring-boot", "kotlin", "swagger-ui", "springfox"], "comments": [{"owner": {"reputation": 1399, "user_id": 4292467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nQGFG.png?s=128&g=1", "display_name": "sven.kwiotek", "link": "https://stackoverflow.com/users/4292467/sven-kwiotek"}, "edited": false, "score": 0, "creation_date": 1543313501, "post_id": 51933559, "comment_id": 93863808, "body": "Which version of swagger you use?"}, {"owner": {"reputation": 2160, "user_id": 4079507, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/emaoR.jpg?s=128&g=1", "display_name": "louis amoros", "link": "https://stackoverflow.com/users/4079507/louis-amoros"}, "reply_to_user": {"reputation": 1399, "user_id": 4292467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nQGFG.png?s=128&g=1", "display_name": "sven.kwiotek", "link": "https://stackoverflow.com/users/4292467/sven-kwiotek"}, "edited": false, "score": 0, "creation_date": 1543336604, "post_id": 51933559, "comment_id": 93877784, "body": "I used <code>io.springfox:springfox-swagger2:2.9.2</code> and <code>io.springfox:springfox-swagger-ui:2.9.2</code> but I finally removed de springfox dependencies and went with the classic swagger editor..."}, {"owner": {"reputation": 2707, "user_id": 498690, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/SfNP3.png?s=128&g=1", "display_name": "Capacytron", "link": "https://stackoverflow.com/users/498690/capacytron"}, "edited": false, "score": 0, "creation_date": 1571141495, "post_id": 51933559, "comment_id": 103134380, "body": "I have same issue at springfox-swagger2+springfox-swagger-ui v 2.9.2"}, {"owner": {"reputation": 1717, "user_id": 1158142, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/15OA1.jpg?s=128&g=1", "display_name": "ipohfly", "link": "https://stackoverflow.com/users/1158142/ipohfly"}, "edited": false, "score": 0, "creation_date": 1590775964, "post_id": 51933559, "comment_id": 109819247, "body": "Understand that this is an old post but somebody just posted an answer that worked for me, so posting here for reference : <a href=\"https://stackoverflow.com/questions/62078786/springfox-swagger-ui-not-sending-with-content-type-header\" title=\"springfox swagger ui not sending with content type header\">stackoverflow.com/questions/62078786/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 335, "user_id": 1756854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbee31f6c20963ec6c863bda013f9912?s=128&d=identicon&r=PG", "display_name": "Given Nyauyanga", "link": "https://stackoverflow.com/users/1756854/given-nyauyanga"}, "edited": false, "score": 0, "creation_date": 1596537523, "post_id": 60396362, "comment_id": 111836351, "body": "That makes sense since there is no json request payload. Thanks man. Had not thought of that"}], "tags": [], "owner": {"reputation": 371, "user_id": 4045599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0b0cbde5086e214db5ceba458969793?s=128&d=identicon&r=PG&f=1", "display_name": "Tuomo Kestil&#228;", "link": "https://stackoverflow.com/users/4045599/tuomo-kestil%c3%a4"}, "is_accepted": false, "score": 1, "last_activity_date": 1582639218, "creation_date": 1582639218, "answer_id": 60396362, "question_id": 51933559, "link": "https://stackoverflow.com/questions/51933559/swagger-annotation-content-type-not-set/60396362#60396362", "title": "swagger annotation content-type not set", "body": "<p>There is nothing to consume in HTTP GET request. I think you should remove the <code>consumes</code> from <code>@GetMapping</code> and <code>@ApiOperation</code>.</p>\n"}], "owner": {"reputation": 2160, "user_id": 4079507, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/emaoR.jpg?s=128&g=1", "display_name": "louis amoros", "link": "https://stackoverflow.com/users/4079507/louis-amoros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2338, "favorite_count": 0, "answer_count": 1, "score": 8, "last_activity_date": 1582639218, "creation_date": 1534777330, "last_edit_date": 1543301695, "question_id": 51933559, "link": "https://stackoverflow.com/questions/51933559/swagger-annotation-content-type-not-set", "title": "swagger annotation content-type not set", "body": "<p>I have this spring rest controller: </p>\n\n<pre><code>@RestController\n@RequestMapping(\"/communications\")\nclass CommunicationController(private val service: CommunicationService) {\n\n    @ApiOperation(\n        produces = APPLICATION_JSON_VALUE, \n        consumes = APPLICATION_JSON_VALUE\n    )\n    @GetMapping(\n        consumes = [APPLICATION_JSON_VALUE], \n        produces = [APPLICATION_JSON_VALUE]\n    )\n    fun findAll(\n        criterias: CommunicationCriterias, \n        page: Pageable\n    ): List&lt;CommunicationDTO&gt; = service.findCommunications(criterias, page)\n\n}\n</code></pre>\n\n<p>When I test this endpoint via the <code>swagger-ui</code> (springfox) interface, i got a <code>415: content type invalid</code> error. It seems that <code>content-type: application/json</code> is not set in the header. </p>\n\n<p>What is missing ?</p>\n"}, {"tags": ["android", "performance", "kotlin", "parcelable"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1534775152, "post_id": 51932820, "comment_id": 90815745, "body": "Some of the answers here will help you: <a href=\"https://stackoverflow.com/q/3323074/4465208\">stackoverflow.com/q/3323074/4465208</a>"}], "answers": [{"tags": [], "owner": {"reputation": 10501, "user_id": 4070469, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OKYPb.png?s=128&g=1", "display_name": "Mauker", "link": "https://stackoverflow.com/users/4070469/mauker"}, "is_accepted": false, "score": 0, "last_activity_date": 1534965663, "last_edit_date": 1534965663, "creation_date": 1534965343, "answer_id": 51973682, "question_id": 51932820, "link": "https://stackoverflow.com/questions/51932820/measuring-performance-with-parcelable/51973682#51973682", "title": "Measuring performance with parcelable", "body": "<p>According to <a href=\"http://www.developerphil.com/parcelable-vs-serializable/\" rel=\"nofollow noreferrer\">Philippe Breault's benchmark</a>, <code>Parcelable</code> is way faster than <code>Serializable</code>. He tested it on 3 different devices, with Android versions 2.3.3 and 4.2.2. </p>\n\n<p>You can see the results below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/nMoqi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nMoqi.png\" alt=\"benchmark\"></a></p>\n\n<ul>\n<li><p>Nexus 10 Serializable: 1.0004ms \u2013 Parcelable: 0.0850ms - 10.16x faster.</p></li>\n<li><p>Nexus 4 Serializable: 1.8539ms \u2013 Parcelable: 0.1824ms - 11.80x faster.</p></li>\n<li><p>Desire Z Serializable: 5.1224ms \u2013 Parcelable: 0.2938ms - 17.36x faster.</p></li>\n</ul>\n\n<p>Those numbers are for a single object, passed through a <code>Bundle</code> 1000 times around. If you're expecting to add 100+ more, things will escalate quickly.</p>\n\n<p><code>Serializable</code> is a standard Java interface, and it tends to leave a lot of temporary objects behing, which can trigger many GC events.</p>\n\n<p><code>Parcelable</code> on the other hand, is an Android interface, that was conceived to tackle performance issues, and it achieves that by not using reflection on the serialization. Thing is, you have to define the serialization yourself. But you'll get a huge performance difference compared to <code>Serializable</code> objects.</p>\n\n<p>You can read more about <code>Parcelable</code> <a href=\"https://developer.android.com/reference/android/os/Parcelable\" rel=\"nofollow noreferrer\">on the docs</a>.</p>\n\n<p>Also, <a href=\"https://stackoverflow.com/a/3612364/4070469\">related answer on why you should use Parcelable</a>.</p>\n"}], "owner": {"reputation": 1316, "user_id": 4646227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-YHNURzkB3Qk/AAAAAAAAAAI/AAAAAAAAAEo/NcFD3VHNLcE/photo.jpg?sz=128", "display_name": "farhan patel", "link": "https://stackoverflow.com/users/4646227/farhan-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1534965663, "creation_date": 1534774870, "question_id": 51932820, "link": "https://stackoverflow.com/questions/51932820/measuring-performance-with-parcelable", "title": "Measuring performance with parcelable", "body": "<p>Currently, I am having around 100 Pojo's which implements serializable and passed throughout the app, Since I am expecting more to come as the app grows &amp; it will be better to make use of parcelable.</p>\n\n<p>Will there be any significant performance gain and how can I measure it?</p>\n\n<p>I know about android studio profiler etc. but not really aware which area I will see the performance gain i.e overall app speed, memory consumption etc.</p>\n\n<p>Also, any thing to take care of while making this change?</p>\n"}, {"tags": ["java", "scala", "gradle", "kotlin", "jvm"], "owner": {"reputation": 368, "user_id": 2228725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/068d65adecccf5ceee9cc6574422eae6?s=128&d=identicon&r=PG", "display_name": "RESTfulGeoffrey", "link": "https://stackoverflow.com/users/2228725/restfulgeoffrey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 394, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1534772053, "creation_date": 1534772053, "question_id": 51931913, "link": "https://stackoverflow.com/questions/51931913/scala-kotlin-java-mixed-project-failing-on-compilescala-after-migrating-to-gr", "title": "Scala, Kotlin &amp; Java Mixed Project failing on compileScala after migrating to gradle 4.0", "body": "<p>I have a project that works fine on Gradle 3.5, but compiling scala fails with the Zinc compiler when it goes through the Java files. I know about the build caching that was added in 4.0, and overriding that functionality to have one output directory changed nothing. I attached my gradle file and the stack trace from gradle. Any suggestions on anything to try would be appreciated, I have hit a wall with this issue over the past couple of days.</p>\n\n<pre><code>    group 'com.g'\nversion '1.0-SNAPSHOT'\n\nbuildscript {\n    ext.kotlin_version = '1.2.60'\n    repositories {\n        mavenCentral()\n//        maven {\n//            url \"https://plugins.gradle.org/m2/\"\n//        }\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath ('org.springframework.boot:spring-boot-gradle-plugin:1.5.15.RELEASE')\n//        classpath \"com.gradle:build-scan-plugin:1.15.2\"\n    }\n}\n\n//apply plugin: \"com.gradle.build-scan\"\napply plugin: 'org.springframework.boot'\napply plugin: 'kotlin'\napply plugin: 'java'\napply plugin: 'scala'\napply plugin: 'idea'\n\nsourceCompatibility = 1.8\ntargetCompatibility = 1.8\n\n//tasks.compileJava.dependsOn compileScala\n//tasks.compileScala.dependsOn.remove(\"compileJava\")\n\nsourceSets.main.scala.srcDirs = ['src/main/scala', 'src/main/java']\nsourceSets.main.java.srcDirs = []\nsourceSets.main.kotlin.srcDirs = ['src/main/kotlin', 'src/main/java']\n//sourceSets.main.output.classesDir = new File(buildDir, \"classes/main\")\n\nrepositories {\n    jcenter()\n    mavenLocal()\n    mavenCentral()\n    maven {\n        url \"https://oss.sonatype.org/content/repositories/snapshots\"\n    }\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n\n    compile 'org.slf4j:slf4j-api:1.7.5'\n\n//    zinc 'com.typesafe.zinc:zinc:0.3.9'\n//    zinc 'org.scala-lang:scala-library:' + scalaVersion\n//    zinc 'org.scala-lang:scala-reflect:' + scalaVersion\n\n//    zinc 'com.typesafe.zinc:zinc:0.3.7'\n    // scala\n    compile \"org.scala-lang:scala-library:\" + scalaVersion\n    compile \"org.scala-lang:scala-reflect:\" + scalaVersion\n    compile \"org.scala-lang:scala-compiler:\" + scalaVersion\n//    compile group: 'org.scala-lang', name: 'scala-library', version: '2.12.6'\n//    compile group: 'org.scala-lang', name: 'scala-reflect', version: '2.12.6'\n//    compile group: 'org.scala-lang', name: 'scala-compiler', version: '2.12.6'\n\n    // spark\n    compile('org.apache.spark:spark-mllib_2.11:2.3.1')\n//    compile 'org.apache.spark:spark-sql_2.11:2.1.0'\n//    compile 'org.apache.spark:spark-streaming-flume-assembly_2.11:2.1.0'\n//    compile 'org.apache.spark:spark-graphx_2.11:2.1.0'\n//    compile 'org.apache.spark:spark-launcher_2.11:2.1.0'\n//    compile 'org.apache.spark:spark-catalyst_2.11:2.1.0'\n//    compile 'org.apache.spark:spark-streaming_2.11:2.1.0'\n    compile 'org.apache.spark:spark-core_2.11:2.3.1'\n//     https://mvnrepository.com/artifact/org.codehaus.janino/commons-compiler\n    compile group: 'org.codehaus.janino', name: 'commons-compiler', version: '3.0.8'\n    compile group: 'org.codehaus.janino', name: 'janino', version: '3.0.8'\n\n    // postgres\n    compile group: 'org.postgresql', name: 'postgresql', version: '9.3-1104-jdbc4'\n\n    // hibernate\n    compile group: 'org.hibernate', name: 'hibernate-core', version: '5.2.13.Final'\n    compile group: 'org.hibernate', name: 'hibernate-ehcache', version: '5.2.13.Final'\n    compile group: 'org.hibernate', name: 'hibernate-entitymanager', version: '5.2.13.Final'\n    compile group: 'org.hibernate', name: 'hibernate-envers', version: '5.2.13.Final'\n\n    // spring\n    compile group: 'org.springframework', name: 'spring-web', version: '5.0.8.RELEASE'\n    compile group: 'org.springframework.data', name: 'spring-data-jpa', version: '2.0.9.RELEASE'\n    compile('org.springframework.boot:spring-boot-starter:1.5.15.RELEASE') {\n        exclude group: 'org.slf4j'\n    }\n\n    // open csv\n    compile group: 'com.opencsv', name: 'opencsv', version: '4.1'\n\n    // jersey\n    compile group: 'com.sun.jersey', name: 'jersey-server', version: '1.19.4'\n    compile group: 'com.sun.jersey', name: 'jersey-json', version: '1.19.4'\n\n    // jbcrypt\n    compile group: 'org.mindrot', name: 'jbcrypt', version: '0.4'\n\n    // jetty\n    compile group: 'org.eclipse.jetty', name: 'jetty-servlet', version: '7.6.0.v20120127'\n    compile group: 'org.eclipse.jetty', name: 'jetty-webapp', version: '7.6.0.v20120127'\n\n    //todo delete\n    compile group: 'com.wordnik', name: 'swagger-jaxrs_2.10', version: '1.3.0'\n\n    // log4j\n    compile group: 'log4j', name: 'log4j', version: '1.2.17'\n\n    compile group: 'commons-io', name: 'commons-io', version: '2.5'\n}\n\ntask run(type: JavaExec, dependsOn: classes) {\n    main = mainClassFile\n    classpath sourceSets.main.runtimeClasspath\n    classpath configurations.runtime\n}\n\ntask wrapper(type: Wrapper) {\n    gradleVersion = '4.0'\n}\n</code></pre>\n\n<p>And the stack trace:</p>\n\n<pre><code>org.gradle.api.tasks.TaskExecutionException: Execution failed for task ':compileScala'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:242)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:317)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:309)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:185)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:95)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:235)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:224)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:121)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:77)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:102)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:96)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:612)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:567)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:96)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:46)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: org.gradle.api.internal.tasks.compile.CompilationFailedException: javac returned nonzero exit code\n    at org.gradle.api.internal.tasks.scala.ZincScalaCompiler$Compiler.execute(ZincScalaCompiler.java:83)\n    at org.gradle.api.internal.tasks.scala.ZincScalaCompiler.execute(ZincScalaCompiler.java:52)\n    at org.gradle.api.internal.tasks.scala.ZincScalaCompiler.execute(ZincScalaCompiler.java:38)\n    at org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$WorkerCompileSpec.compile(AbstractDaemonCompiler.java:74)\n    at org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$CompilerDaemonServer.execute(AbstractDaemonCompiler.java:82)\n    at org.gradle.api.internal.tasks.compile.daemon.AbstractDaemonCompiler$CompilerDaemonServer.execute(AbstractDaemonCompiler.java:78)\n    at org.gradle.process.internal.worker.request.WorkerAction.run(WorkerAction.java:91)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:146)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:128)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)\n    ... 3 more\nCaused by: javac returned nonzero exit code\n    at sbt.compiler.JavaCompiler$JavaTool0.compile(JavaCompiler.scala:97)\n    at sbt.compiler.JavaTool$class.apply(JavaCompiler.scala:54)\n    at sbt.compiler.JavaCompiler$JavaTool0.apply(JavaCompiler.scala:84)\n    at sbt.compiler.JavaCompiler$class.compile(JavaCompiler.scala:35)\n    at sbt.compiler.JavaCompiler$JavaTool0.compile(JavaCompiler.scala:84)\n    at sbt.compiler.JavaCompiler$class.compileWithReporter(JavaCompiler.scala:40)\n    at sbt.compiler.JavaCompiler$JavaTool0.compileWithReporter(JavaCompiler.scala:84)\n    at sbt.compiler.AggressiveCompile$$anonfun$3$$anonfun$compileJava$1$1.apply$mcV$sp(AggressiveCompile.scala:121)\n    at sbt.compiler.AggressiveCompile$$anonfun$3$$anonfun$compileJava$1$1.apply(AggressiveCompile.scala:121)\n    at sbt.compiler.AggressiveCompile$$anonfun$3$$anonfun$compileJava$1$1.apply(AggressiveCompile.scala:121)\n    at sbt.compiler.AggressiveCompile.sbt$compiler$AggressiveCompile$$timed(AggressiveCompile.scala:168)\n    at sbt.compiler.AggressiveCompile$$anonfun$3.compileJava$1(AggressiveCompile.scala:120)\n    at sbt.compiler.AggressiveCompile$$anonfun$3.apply(AggressiveCompile.scala:142)\n    at sbt.compiler.AggressiveCompile$$anonfun$3.apply(AggressiveCompile.scala:84)\n    at sbt.inc.IncrementalCompile$$anonfun$doCompile$1.apply(Compile.scala:66)\n    at sbt.inc.IncrementalCompile$$anonfun$doCompile$1.apply(Compile.scala:64)\n    at sbt.inc.IncrementalCommon.cycle(IncrementalCommon.scala:32)\n    at sbt.inc.Incremental$$anonfun$1.apply(Incremental.scala:72)\n    at sbt.inc.Incremental$$anonfun$1.apply(Incremental.scala:71)\n    at sbt.inc.Incremental$.manageClassfiles(Incremental.scala:99)\n    at sbt.inc.Incremental$.compile(Incremental.scala:71)\n    at sbt.inc.IncrementalCompile$.apply(Compile.scala:54)\n    at sbt.compiler.AggressiveCompile.compile2(AggressiveCompile.scala:159)\n    at sbt.compiler.AggressiveCompile.compile1(AggressiveCompile.scala:68)\n    at com.typesafe.zinc.Compiler.compile(Compiler.scala:201)\n    at com.typesafe.zinc.Compiler.compile(Compiler.scala:183)\n    at com.typesafe.zinc.Compiler.compile(Compiler.scala:174)\n    at com.typesafe.zinc.Compiler.compile(Compiler.scala:165)\n    at org.gradle.api.internal.tasks.scala.ZincScalaCompiler$Compiler.execute(ZincScalaCompiler.java:81)\n    ... 14 more\n</code></pre>\n"}, {"tags": ["android", "json", "parsing", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1290, "user_id": 10035978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ca7M0.jpg?s=128&g=1", "display_name": "Alex Kolydas", "link": "https://stackoverflow.com/users/10035978/alex-kolydas"}, "edited": false, "score": 0, "creation_date": 1534775909, "post_id": 51930364, "comment_id": 90816245, "body": "Ok but how can i get only the main or only the icon??"}], "tags": [], "owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "is_accepted": false, "score": 0, "last_activity_date": 1534766673, "creation_date": 1534766673, "answer_id": 51930364, "question_id": 51930167, "link": "https://stackoverflow.com/questions/51930167/how-to-fetch-data-from-json-in-kotlin-android/51930364#51930364", "title": "How to fetch data from JSON in Kotlin Android", "body": "<p>You need to overwrite <code>WeatherData.toString()</code> to have a hand on what's displayed.</p>\n\n<pre><code>class WeatherData(val main:String,val icon:String) {\n\n    override fun toString(): String {\n        return \"$main $icon\"\n    }\n\n}\n</code></pre>\n\n<p>Further more you should use a <code>RecyclerView</code> with a <code>ViewHolder</code> to handle properties one-by-one and enable more complex layouts. If needed.</p>\n"}, {"comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 1, "creation_date": 1534768912, "post_id": 51930578, "comment_id": 90811742, "body": "I think the OP should not use either manual formatting or data classes, but both of them: <code>WeatherData</code> looks like a simple data container, so a <code>data class</code> would perfectly fit the use case. Also, I think manual formatting is better than overriding <code>toString</code>, since the latter should be used to return &quot;a string representation of the object&quot;, not something specific to a specific use case"}, {"owner": {"reputation": 1290, "user_id": 10035978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ca7M0.jpg?s=128&g=1", "display_name": "Alex Kolydas", "link": "https://stackoverflow.com/users/10035978/alex-kolydas"}, "edited": false, "score": 0, "creation_date": 1534774883, "post_id": 51930578, "comment_id": 90815582, "body": "it still gives me an error on the &quot;main&quot; word &quot;Unresolved reference main&quot;"}, {"owner": {"reputation": 1694, "user_id": 10172915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dgRVP.png?s=128&g=1", "display_name": "Akaki Kapanadze", "link": "https://stackoverflow.com/users/10172915/akaki-kapanadze"}, "edited": false, "score": 1, "creation_date": 1534776034, "post_id": 51930578, "comment_id": 90816313, "body": "<code>weatherFor.weather</code> is a collection of WeatherData objects, you can iterate over it. for example: <code>holder?.view?.textWeather?.text =&quot;weather ${weatherFor.weather.map{it.main}.joinToString(&quot;, &quot;)}&quot;</code>"}, {"owner": {"reputation": 1290, "user_id": 10035978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ca7M0.jpg?s=128&g=1", "display_name": "Alex Kolydas", "link": "https://stackoverflow.com/users/10035978/alex-kolydas"}, "edited": false, "score": 0, "creation_date": 1534776587, "post_id": 51930578, "comment_id": 90816629, "body": "@akaki Thank you so much!!(If you want edit your post and put the answer you gave me now on it!)"}], "tags": [], "owner": {"reputation": 1694, "user_id": 10172915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dgRVP.png?s=128&g=1", "display_name": "Akaki Kapanadze", "link": "https://stackoverflow.com/users/10172915/akaki-kapanadze"}, "is_accepted": true, "score": 2, "last_activity_date": 1534776839, "last_edit_date": 1534776839, "creation_date": 1534767419, "answer_id": 51930578, "question_id": 51930167, "link": "https://stackoverflow.com/questions/51930167/how-to-fetch-data-from-json-in-kotlin-android/51930578#51930578", "title": "How to fetch data from JSON in Kotlin Android", "body": "<p>You can format the data manually </p>\n\n<pre><code>holder?.view?.textWeather?.text = \"weather ${weatherFor.weather.map{it.main}.joinToString(\", \")}\"\n</code></pre>\n\n<p>or use <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"nofollow noreferrer\">data classes</a></p>\n"}], "owner": {"reputation": 1290, "user_id": 10035978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ca7M0.jpg?s=128&g=1", "display_name": "Alex Kolydas", "link": "https://stackoverflow.com/users/10035978/alex-kolydas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2503, "favorite_count": 0, "accepted_answer_id": 51930578, "answer_count": 2, "score": 1, "last_activity_date": 1534776839, "creation_date": 1534765870, "last_edit_date": 1534768000, "question_id": 51930167, "link": "https://stackoverflow.com/questions/51930167/how-to-fetch-data-from-json-in-kotlin-android", "title": "How to fetch data from JSON in Kotlin Android", "body": "<p>I want to fetch some json data, see in the image the green arrow:</p>\n\n<p><a href=\"https://i.stack.imgur.com/TINXi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TINXi.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>The problem is that Android Studio doesn't let me get the data I want.  It stops until a step before (I think).  In my adapter class check:</strong></p>\n\n<pre><code>holder?.view?.textWeather?.text = weatherFor.weather.toString()\n</code></pre>\n\n<p><strong>Also it shows me in the emulator the red arrow, what is this?</strong></p>\n\n<p>Below is my main Activity's json method with the classes i want to fetch data for, and the associated Adapter class.</p>\n\n<p><strong>Main Activity</strong></p>\n\n<pre><code>fun fetchJson() {\n     val url=\"https://api.openweathermap.org/data/2.5/forecast?q=Prague,CZ&amp;appid=4cf7f6610d941a1ca7583f50e7e41ba3\"\n     val request=Request.Builder().url(url).build()\n     val client= OkHttpClient()\n     client.newCall(request).enqueue(object :Callback {\n\n         override fun onResponse(call: Call?, response: Response?) {\n             val body=response?.body()?.string()\n             println(body)\n\n             val gson=GsonBuilder().create()\n\n             val forecastfeed=gson.fromJson(body,ForecastFeed::class.java)\n\n             runOnUiThread{\n                 recyclerView_main.adapter=MainAdapter(forecastfeed)\n             }\n         }\n\n         override fun onFailure(call: Call?, e: IOException?) {\n             println(\"Failed to execute request\")\n         }\n     })\n}\n\nclass ForecastFeed(val list:List&lt;ForecastWeatherList&gt;) { }\n\nclass ForecastWeatherList(val weather:List&lt;WeatherData&gt;) { }\n\nclass WeatherData(val main:String,val icon:String) { }\n</code></pre>\n\n<p><strong>Adapter</strong></p>\n\n<pre><code>class MainAdapter(val forecastfeed: ForecastFeed): RecyclerView.Adapter&lt;CustomViewHolder&gt;() {\n\n    val forecastWeather = listOf&lt;String&gt;(\"First\",\"Second\")\n\n    override fun onBindViewHolder(holder: CustomViewHolder, position: Int) {\n        val weatherFor = forecastfeed.list.get(position)\n        holder?.view?.textWeather?.text = weatherFor.weather.toString()\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomViewHolder{\n        //how do we even create a view\n        val layoutInflater =LayoutInflater.from(parent?.context)\n        val cellForRow=layoutInflater.inflate(R.layout.weather_row,parent,false)\n        return CustomViewHolder(cellForRow)\n    }    \n\n    override fun getItemCount(): Int {\n        return forecastfeed.list.count()\n    }\n}\n\nclass CustomViewHolder(val view: View):RecyclerView.ViewHolder(view) { }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 1, "creation_date": 1534765758, "post_id": 51930083, "comment_id": 90809870, "body": "Can you post your <code>Multiselectorspinner</code> or the library you&#39;re using?"}], "answers": [{"tags": [], "owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1534932441, "creation_date": 1534932441, "answer_id": 51964498, "question_id": 51930083, "link": "https://stackoverflow.com/questions/51930083/how-can-i-bring-my-onclicklistener-for-my-multiselectorspinner-to-work/51964498#51964498", "title": "How can I bring my OnClickListener for my Multiselectorspinner to work?", "body": "<p>Ok, I couldn't get it to work, but what I did instead was making a timer with a handler. that timer would open every 2 seconds and see if any box is checked and give me back the string for it.\nhere is the code snipplet</p>\n\n<pre><code>val handler_spinner=Handler()\nhandler_spinner.post(Timer_identify_spinnerchange);\nprivate val Timer_identify_spinnerchange = object : Runnable {\n    override fun run() {\n        handler_spinner.postDelayed(this,2000)\n        if(spinner.selectedItemsAsString.....){do sth}\n    }\n}\n</code></pre>\n\n<p>Maybe it helps someone someday </p>\n"}], "owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1534932441, "creation_date": 1534765549, "last_edit_date": 1534766058, "question_id": 51930083, "link": "https://stackoverflow.com/questions/51930083/how-can-i-bring-my-onclicklistener-for-my-multiselectorspinner-to-work", "title": "How can I bring my OnClickListener for my Multiselectorspinner to work?", "body": "<p>I have a Multiselectorspinner (with checkboxes on the side) and want to get a call when something is clicked on.\nNow I implemented the OnClickListener, but it only opens once the app starts and isnt called afterwards.\nhere is my code:</p>\n\n<pre><code> override fun onCreate(savedInstanceState: Bundle?) {\n  var spinner: MultiSelectionSpinner\n    spinner = findViewById(R.id.mySpinner1) as MultiSelectionSpinner\n    spinner.setItems(Busliste)\n    spinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener{\n        override fun onNothingSelected(parent: AdapterView&lt;*&gt;?) {\n            println(\"works\")\n        }\n\n        override fun onItemSelected(parent: AdapterView&lt;*&gt;?, view: View?, position: Int, id: Long) {\n            println(\"listener works\")\n        }\n    }\n</code></pre>\n\n<blockquote>\n  <p>The MultiselectorSpinner I am using has the following code:</p>\n</blockquote>\n\n<pre><code>package com.hdmc.smartristraveller;\n\nimport android.app.AlertDialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.content.DialogInterface.OnMultiChoiceClickListener;\nimport android.os.AsyncTask;\nimport android.util.AttributeSet;\nimport android.widget.ArrayAdapter;\nimport android.widget.Spinner;\nimport android.support.v7.widget.AppCompatSpinner;\nimport android.widget.SpinnerAdapter;\nimport java.util.Arrays;\nimport java.util.LinkedList;\nimport java.util.List;\n\n\n\n/**\n * Created by Aneh Thakur on 5/7/2015.\n */\npublic class MultiSelectionSpinner extends AppCompatSpinner implements\n    OnMultiChoiceClickListener {\nString[] _items = null;\nboolean[] mSelection = null;\n\nArrayAdapter&lt;String&gt; simple_adapter;\n\n\npublic MultiSelectionSpinner(Context context) {\n    super(context);\n\n    simple_adapter = new ArrayAdapter&lt;String&gt;(context,\n            android.R.layout.simple_spinner_item);\n    super.setAdapter(simple_adapter);\n}\n\npublic MultiSelectionSpinner(Context context, AttributeSet attrs) {\n    super(context, attrs);\n\n    simple_adapter = new ArrayAdapter&lt;String&gt;(context,\n            android.R.layout.simple_spinner_item);\n    super.setAdapter(simple_adapter);\n}\n\npublic void onClick(DialogInterface dialog, int which, boolean isChecked) {\n    if (mSelection != null &amp;&amp; which &lt; mSelection.length) {\n        mSelection[which] = isChecked;\n\n        simple_adapter.clear();\n        simple_adapter.add(buildSelectedItemString());\n    } else {\n        throw new IllegalArgumentException(\n                \"Argument 'which' is out of bounds.\");\n    }\n}\n\n@Override\npublic boolean performClick() {\n    AlertDialog.Builder builder = new AlertDialog.Builder(getContext());\n    builder.setMultiChoiceItems(_items, mSelection,this);\n\n    builder.show();\n    return true;\n}\n\n@Override\npublic void setAdapter(SpinnerAdapter adapter) {\n    throw new RuntimeException(\n            \"setAdapter is not supported by MultiSelectSpinner.\");\n}\n\npublic void setItems(String[] items) {\n    _items = items;\n    mSelection = new boolean[_items.length];\n    simple_adapter.clear();\n    simple_adapter.add(_items[0]);\n    Arrays.fill(mSelection, false);\n}\n\npublic void setItems(List&lt;String&gt; items) {\n    _items = items.toArray(new String[items.size()]);\n    mSelection = new boolean[_items.length];\n    simple_adapter.clear();\n    simple_adapter.add(_items[0]);\n    Arrays.fill(mSelection, false);\n}\n\npublic void setSelection(String[] selection) {\n    for (String cell : selection) {\n        for (int j = 0; j &lt; _items.length; ++j) {\n            if (_items[j].equals(cell)) {\n                mSelection[j] = true;\n            }\n        }\n    }\n}\n\npublic void setSelection(List&lt;String&gt; selection) {\n    for (int i = 0; i &lt; mSelection.length; i++) {\n        mSelection[i] = false;\n    }\n    for (String sel : selection) {\n        for (int j = 0; j &lt; _items.length; ++j) {\n            if (_items[j].equals(sel)) {\n                mSelection[j] = true;\n            }\n        }\n    }\n    simple_adapter.clear();\n    simple_adapter.add(buildSelectedItemString());\n}\n\npublic void setSelection(int index) {\n    for (int i = 0; i &lt; mSelection.length; i++) {\n        mSelection[i] = false;\n    }\n    if (index &gt;= 0 &amp;&amp; index &lt; mSelection.length) {\n        mSelection[index] = true;\n    } else {\n        throw new IllegalArgumentException(\"Index \" + index\n                + \" is out of bounds.\");\n    }\n    simple_adapter.clear();\n    simple_adapter.add(buildSelectedItemString());\n}\n\npublic void setSelection(int[] selectedIndicies) {\n    for (int i = 0; i &lt; mSelection.length; i++) {\n        mSelection[i] = false;\n    }\n    for (int index : selectedIndicies) {\n        if (index &gt;= 0 &amp;&amp; index &lt; mSelection.length) {\n            mSelection[index] = true;\n        } else {\n            throw new IllegalArgumentException(\"Index \" + index\n                    + \" is out of bounds.\");\n        }\n    }\n    simple_adapter.clear();\n    simple_adapter.add(buildSelectedItemString());\n}\n\npublic List&lt;String&gt; getSelectedStrings() {\n    List&lt;String&gt; selection = new LinkedList&lt;String&gt;();\n    for (int i = 0; i &lt; _items.length; ++i) {\n        if (mSelection[i]) {\n            selection.add(_items[i]);\n        }\n    }\n    return selection;\n}\n\npublic List&lt;Integer&gt; getSelectedIndicies() {\n    List&lt;Integer&gt; selection = new LinkedList&lt;Integer&gt;();\n    for (int i = 0; i &lt; _items.length; ++i) {\n        if (mSelection[i]) {\n            selection.add(i);\n        }\n    }\n    return selection;\n}\n\nprivate String buildSelectedItemString() {\n    StringBuilder sb = new StringBuilder();\n    boolean foundOne = false;\n\n    for (int i = 0; i &lt; _items.length; ++i) {\n        if (mSelection[i]) {\n            if (foundOne) {\n                sb.append(\", \");\n            }\n            foundOne = true;\n\n            sb.append(_items[i]);\n        }\n    }\n    return sb.toString();\n}\n\npublic String getSelectedItemsAsString() {\n    StringBuilder sb = new StringBuilder();\n    boolean foundOne = false;\n\n    for (int i = 0; i &lt; _items.length; ++i) {\n        if (mSelection[i]) {\n            if (foundOne) {\n                sb.append(\", \");\n            }\n            foundOne = true;\n            sb.append(_items[i]);\n        }\n    }\n    return sb.toString();\n}\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-generics", "kotlin-reified-type-parameters"], "comments": [{"owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1534766118, "post_id": 51929938, "comment_id": 90810039, "body": "Is it possible to place <code>makeJuice</code> function inside <code>Juice</code> class in this case?"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534766527, "post_id": 51929938, "comment_id": 90810295, "body": "if it doesn&#39;t matter which <code>Fruit</code> you actually pass in, then you could just remove <code>F</code> and use <code>Juice&lt;out Fruit&gt;</code> and a <code>Fruit</code> parameter instead."}, {"owner": {"reputation": 131, "user_id": 4167198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46806bb56f32164db7e6b03a8170b6d?s=128&d=identicon&r=PG&f=1", "display_name": "Mindaugas Varkalys", "link": "https://stackoverflow.com/users/4167198/mindaugas-varkalys"}, "reply_to_user": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1534768362, "post_id": 51929938, "comment_id": 90811416, "body": "@Mosius No, it&#39;s not possible. It must be a static method"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534768420, "post_id": 51929938, "comment_id": 90811454, "body": "extension functions are also static methods... are extension functions ok? ;-)"}, {"owner": {"reputation": 131, "user_id": 4167198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46806bb56f32164db7e6b03a8170b6d?s=128&d=identicon&r=PG&f=1", "display_name": "Mindaugas Varkalys", "link": "https://stackoverflow.com/users/4167198/mindaugas-varkalys"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534768460, "post_id": 51929938, "comment_id": 90811480, "body": "@Roland It matters for me. I am doing some assignments in the method and it must be of the same as <code>Juice</code> generic"}, {"owner": {"reputation": 131, "user_id": 4167198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46806bb56f32164db7e6b03a8170b6d?s=128&d=identicon&r=PG&f=1", "display_name": "Mindaugas Varkalys", "link": "https://stackoverflow.com/users/4167198/mindaugas-varkalys"}, "reply_to_user": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1534768759, "post_id": 51929938, "comment_id": 90811651, "body": "@Roland Well, it would be better to have just a simple static method. But if it&#39;s not possible, then an extension function is fine."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1534769288, "post_id": 51929938, "comment_id": 90811984, "body": "well... I don&#39;t think that you can have a single static function with reified type the way you want it to (i.e. where you actually require 2 generic types). Variant 3 in my answer is probably the best you can get without writing lots of additional implementations."}], "answers": [{"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 6, "last_activity_date": 1534782344, "last_edit_date": 1534782344, "creation_date": 1534765859, "answer_id": 51930162, "question_id": 51929938, "link": "https://stackoverflow.com/questions/51929938/passing-only-types-marked-as-reified-to-kotlin-generic-function/51930162#51930162", "title": "Passing only types marked as reified to Kotlin generic function", "body": "<p>The main problem I see with your solution is, that you are asking for 2 generic types on your <code>makeJuice</code>-method. Both <code>F</code> and <code>J</code> need to be given to the function. While it is obvious for you (and anyone looking at the method), I think it might not be that obvious during runtime when the generic types are erased (but that is now mainly a guess here).</p>\n\n<p>If you do not mind that the fruits you are passing are not really matching subtypes of the juice you are expecting then the following may be something for you:</p>\n\n<pre><code>inline fun &lt;reified J : Juice&lt;out Fruit&gt;&gt; makeJuice(fruit : Fruit) : J = TODO()\n</code></pre>\n\n<p>If however you want to ensure that <code>AppleJuice</code> can only be constructed with <code>Apple</code>s, then I can only think of solutions similar to the following:</p>\n\n<ol>\n<li><p>adding the <code>makeJuice</code> to the <code>Fruit</code> classes, e.g. </p>\n\n<pre><code>abstract class Fruit {\n  abstract fun makeJuice() : Juice&lt;out Fruit&gt;\n}\n// and subclasses:\nclass Apple : Fruit() {\n  override fun makeJuice(): AppleJuice = TODO()\n}\n</code></pre></li>\n<li><p>adding a <code>makeJuice</code> (/<code>makeFrom</code>?) to the <code>Juice</code> classes, e.g.</p>\n\n<pre><code>open class Juice&lt;T : Fruit&gt; {\n  fun makeFrom(fruit : T) { TODO() }\n}\n</code></pre></li>\n<li><p>adding any other intermediate object so that you do not require 2 generic types at once, e.g.</p>\n\n<pre><code>class JuiceMaker&lt;F : Fruit&gt;(val fruit : F) {\n  inline fun &lt;reified J : Juice&lt;F&gt;&gt; makeJuice() : J = TODO()\n}\nfun &lt;F : Fruit&gt; using(fruit : F) = JuiceMaker(fruit)\n</code></pre>\n\n<p>and calling it with</p>\n\n<pre><code>using(Apple()).makeJuice&lt;AppleJuice&gt;()\n</code></pre></li>\n<li><p>variants of the above using extension functions, e.g.</p>\n\n<pre><code>inline fun &lt;reified J : Juice&lt;out Apple&gt;&gt; Apple.makeJuice() : J = TODO()\n</code></pre>\n\n<p>but you need to specify it for all types. The following unfortunately will not work:</p>\n\n<pre><code>inline fun &lt;F : Fruit, reified J : Juice&lt;F&gt;&gt; F.makeJuice() : J = TODO()\n</code></pre>\n\n<p>as we then have the same problem again... and need to specify <code>&lt;Apple, AppleJuice&gt;</code>.</p></li>\n</ol>\n\n<p>But maybe none of these are what you were hoping to get.\nSo if you want to have a single method that handles it all, the third variant is probably your best choice (even though it uses a wrapper).</p>\n"}], "owner": {"reputation": 131, "user_id": 4167198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c46806bb56f32164db7e6b03a8170b6d?s=128&d=identicon&r=PG&f=1", "display_name": "Mindaugas Varkalys", "link": "https://stackoverflow.com/users/4167198/mindaugas-varkalys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 662, "favorite_count": 0, "accepted_answer_id": 51930162, "answer_count": 1, "score": 3, "last_activity_date": 1534782344, "creation_date": 1534765009, "last_edit_date": 1534769267, "question_id": 51929938, "link": "https://stackoverflow.com/questions/51929938/passing-only-types-marked-as-reified-to-kotlin-generic-function", "title": "Passing only types marked as reified to Kotlin generic function", "body": "<p>Let's say I have the following code:</p>\n\n<pre><code>open class Fruit\nclass Apple : Fruit()\nopen class Juice&lt;T : Fruit&gt;\nclass AppleJuice : Juice&lt;Apple&gt;()\n\nfun &lt;F : Fruit, J : Juice&lt;F&gt;&gt; makeJuice(juiceClass : Class&lt;J&gt;, fruit : F) : J {}\n</code></pre>\n\n<p>I call the function like this:</p>\n\n<pre><code>val appleJuice : AppleJuice = makeJuice(AppleJuice::class.java, Apple())\n</code></pre>\n\n<p>But instead of passing a class object I would like to pass <code>AppleJuice</code> as a type: </p>\n\n<pre><code>val appleJuice : AppleJuice = makeJuice&lt;AppleJuice&gt;(Apple())\n</code></pre>\n\n<p>I have refactored my function to inline with <code>reified</code>:</p>\n\n<pre><code>inline fun &lt;F : Fruit, reified J : Juice&lt;F&gt;&gt; makeJuice(fruit : F) : J {}\n</code></pre>\n\n<p>But now I have to specify both types:</p>\n\n<pre><code>val appleJuice : AppleJuice = makeJuice&lt;Apple, AppleJuice&gt;(Apple())\n</code></pre>\n\n<p>In theory, <code>Apple</code> type shouldn't be needed because it's already known from <code>AppleJuice</code> type. Is it somehow possible to get rid of passing unnecessary types and pass only those maked as <code>reified</code>?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-edittext"], "comments": [{"owner": {"reputation": 355, "user_id": 6592863, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1XbCz.jpg?s=128&g=1", "display_name": "Jan Stoltman", "link": "https://stackoverflow.com/users/6592863/jan-stoltman"}, "edited": false, "score": 1, "creation_date": 1534763679, "post_id": 51929409, "comment_id": 90808626, "body": "Simple solution is to add <code>if(errorTextView != null)</code> check in your code, it will prevent these crashes. More elegant one would use <code>Fragment#isRemoving()</code> to check whether you fragment is being removed from the activity."}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 3398945, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/84fb23a6c6a58ed30d5cac92c478c7c0?s=128&d=identicon&r=PG&f=1", "display_name": "user3398945", "link": "https://stackoverflow.com/users/3398945/user3398945"}, "edited": false, "score": 0, "creation_date": 1617877597, "post_id": 51929546, "comment_id": 118433744, "body": "This worked for me, except that had to set the Boolean to false in onPause (and true in onCreateView and onResume), as the listener gets called before onDestroyView."}], "tags": [], "owner": {"reputation": 6777, "user_id": 4853133, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3GSSn.jpg?s=128&g=1", "display_name": "Quick learner", "link": "https://stackoverflow.com/users/4853133/quick-learner"}, "is_accepted": true, "score": 1, "last_activity_date": 1534827560, "last_edit_date": 1534827560, "creation_date": 1534763642, "answer_id": 51929546, "question_id": 51929409, "link": "https://stackoverflow.com/questions/51929409/edittext-onfocuschangelistener-error-on-detaching-fragment/51929546#51929546", "title": "EditText onFocusChangeListener error on detaching Fragment", "body": "<p>Please try this solution</p>\n\n<p><strong>Declare this variable</strong></p>\n\n<pre><code>  private var isFragment_visible: Boolean = false;\n</code></pre>\n\n<p>then in <code>onCreateView()</code></p>\n\n<pre><code> isFragment_visible=true\n</code></pre>\n\n<p>and in <code>onDestroyView()</code></p>\n\n<pre><code> isFragment_visible=false\n</code></pre>\n\n<p>Now use this variable</p>\n\n<pre><code>EmailEditText.setOnFocusChangeListener { view, hasFocus -&gt;\n            if (!hasFocus&amp;&amp;isFragment_visible){\n                checkEmailAvailability()\n            }else{\n                canRegisterEmail = false\n                emailAvailabilityCheckDone = false\n            }\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 6807483, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rfLH2vALXj8/AAAAAAAAAAI/AAAAAAAAADU/9-UCtSDKlY4/photo.jpg?sz=128", "display_name": "Tarak Bhawalkar", "link": "https://stackoverflow.com/users/6807483/tarak-bhawalkar"}, "is_accepted": false, "score": 0, "last_activity_date": 1534763705, "creation_date": 1534763705, "answer_id": 51929570, "question_id": 51929409, "link": "https://stackoverflow.com/questions/51929409/edittext-onfocuschangelistener-error-on-detaching-fragment/51929570#51929570", "title": "EditText onFocusChangeListener error on detaching Fragment", "body": "<p>try writing the listener in the onViewCreated and accessing the editText as view.editText</p>\n"}], "owner": {"reputation": 19, "user_id": 4349376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb9e45a2f5ff45f96051f660af5e209?s=128&d=identicon&r=PG&f=1", "display_name": "Mujtaba", "link": "https://stackoverflow.com/users/4349376/mujtaba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 282, "favorite_count": 0, "accepted_answer_id": 51929546, "answer_count": 2, "score": 0, "last_activity_date": 1534827560, "creation_date": 1534763218, "question_id": 51929409, "link": "https://stackoverflow.com/questions/51929409/edittext-onfocuschangelistener-error-on-detaching-fragment", "title": "EditText onFocusChangeListener error on detaching Fragment", "body": "<p><strong>Background</strong></p>\n\n<p>Hi all, I have a function called <code>checkEmailAvailability</code> that sends <code>HTTP</code> request when the focus is out of <code>EmailEditText</code> (basically I wanted to <code>checkEmailAvailability</code> when the user is done typing).</p>\n\n<p>Based on the result of the function I show or hide an error textView called <code>errorTextView</code>.</p>\n\n<p><strong>The Problem</strong></p>\n\n<p>I am using the following method to handle focus change and checking for email availability.</p>\n\n<pre><code>EmailEditText.setOnFocusChangeListener { view, hasFocus -&gt;\n            if (!hasFocus){\n                checkEmailAvailability()\n            }else{\n                canRegisterEmail = false\n                emailAvailabilityCheckDone = false\n            }\n        }\n</code></pre>\n\n<p>Everything works fine, except when the focus is on <code>EmailEditText</code> and I go to another <code>fragment</code>, again the  <code>checkEmailAvailability()</code> gets called and since I am already outside of this <code>fragment</code> and the function tries to hide/show the <code>errorTextView</code>, the app crashes with an error:</p>\n\n<pre><code>errorTextView must not be null\n</code></pre>\n\n<p>How can I stop to check onFocusChange when the fragment is going to be closed or what would you suggest to prevent this crash?</p>\n"}, {"tags": ["android", "kotlin", "android-service", "android-8.0-oreo", "jobservice"], "comments": [{"owner": {"reputation": 6777, "user_id": 4853133, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3GSSn.jpg?s=128&g=1", "display_name": "Quick learner", "link": "https://stackoverflow.com/users/4853133/quick-learner"}, "edited": false, "score": 0, "creation_date": 1534763169, "post_id": 51929358, "comment_id": 90808336, "body": "are you using service class ?"}, {"owner": {"reputation": 6777, "user_id": 4853133, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3GSSn.jpg?s=128&g=1", "display_name": "Quick learner", "link": "https://stackoverflow.com/users/4853133/quick-learner"}, "edited": false, "score": 0, "creation_date": 1534763191, "post_id": 51929358, "comment_id": 90808352, "body": "you should use job scheduler"}, {"owner": {"reputation": 3384, "user_id": 1269737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7f4819805723a0723f6aa14480be00f?s=128&d=identicon&r=PG", "display_name": "user1269737", "link": "https://stackoverflow.com/users/1269737/user1269737"}, "reply_to_user": {"reputation": 6777, "user_id": 4853133, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3GSSn.jpg?s=128&g=1", "display_name": "Quick learner", "link": "https://stackoverflow.com/users/4853133/quick-learner"}, "edited": false, "score": 0, "creation_date": 1534763268, "post_id": 51929358, "comment_id": 90808402, "body": "Thank you guys, JobService.onTaskRemoved() doesn&#39;t called"}, {"owner": {"reputation": 6777, "user_id": 4853133, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3GSSn.jpg?s=128&g=1", "display_name": "Quick learner", "link": "https://stackoverflow.com/users/4853133/quick-learner"}, "edited": false, "score": 0, "creation_date": 1534763336, "post_id": 51929358, "comment_id": 90808437, "body": "what is your requirement and post your code here"}, {"owner": {"reputation": 3384, "user_id": 1269737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7f4819805723a0723f6aa14480be00f?s=128&d=identicon&r=PG", "display_name": "user1269737", "link": "https://stackoverflow.com/users/1269737/user1269737"}, "reply_to_user": {"reputation": 6777, "user_id": 4853133, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3GSSn.jpg?s=128&g=1", "display_name": "Quick learner", "link": "https://stackoverflow.com/users/4853133/quick-learner"}, "edited": false, "score": 0, "creation_date": 1534763928, "post_id": 51929358, "comment_id": 90808776, "body": "Goal: finish all AppTasks + stop process when App-Task is removed from  recent apps.  I have 2 AppTasks: if AppTasks.size = 2 and 1 task is removed from recent apps, process is NOT killed, because 2nd AppTask still in memory.Goal is to finish all tasks + kill app process, when 1 task is removed."}, {"owner": {"reputation": 6777, "user_id": 4853133, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/3GSSn.jpg?s=128&g=1", "display_name": "Quick learner", "link": "https://stackoverflow.com/users/4853133/quick-learner"}, "edited": false, "score": 0, "creation_date": 1534764943, "post_id": 51929358, "comment_id": 90809412, "body": "alright dear let me check it"}], "answers": [{"tags": [], "owner": {"reputation": 913, "user_id": 4801470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3d7ca491e6527482ff79784e7a52c626?s=128&d=identicon&r=PG&f=1", "display_name": "Zachary Sweigart", "link": "https://stackoverflow.com/users/4801470/zachary-sweigart"}, "is_accepted": false, "score": 0, "last_activity_date": 1535132572, "creation_date": 1535132572, "answer_id": 52009410, "question_id": 51929358, "link": "https://stackoverflow.com/questions/51929358/ontaskremoved-doesnt-work-on-android-8-0-oreo-api-level-26/52009410#52009410", "title": "onTaskRemoved() doesn&#39;t work on Android 8.0 Oreo API level 26", "body": "<p>You can override <code>JobService#onStop()</code> and then create a message and pass it to the other service, when the service receives that message you can clean up it's work and kill it.</p>\n"}, {"tags": [], "owner": {"reputation": 965, "user_id": 3774909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1c9c22b87c0524fe2523a588f711c9e?s=128&d=identicon&r=PG&f=1", "display_name": "ravidl", "link": "https://stackoverflow.com/users/3774909/ravidl"}, "is_accepted": false, "score": 0, "last_activity_date": 1535623359, "creation_date": 1535623359, "answer_id": 52094301, "question_id": 51929358, "link": "https://stackoverflow.com/questions/51929358/ontaskremoved-doesnt-work-on-android-8-0-oreo-api-level-26/52094301#52094301", "title": "onTaskRemoved() doesn&#39;t work on Android 8.0 Oreo API level 26", "body": "<p>The expected behavior of <code>START_STICKY</code> might have changed due to custom implementation by device manufacturer or due to new implementation in android Oreo</p>\n\n<p>You can use <a href=\"https://developer.android.com/reference/android/app/job/JobScheduler\" rel=\"nofollow noreferrer\"><code>JobScheduler</code></a> to monitor a service lifecycle after regular interval.\nIf service is destroyed, then you can perform your task in <code>onDestroy()</code> method just before service is actually being destroyed.</p>\n\n<p>This will remove your dependency from <code>onTaskremoved()</code> method.</p>\n\n<p>Please refer below question with similar problem\n<a href=\"https://stackoverflow.com/questions/49486656/ontaskremoved-not-getting-called-when-home-press-kill-the-app\">onTaskRemoved() not getting called when Home press &amp; kill the app</a></p>\n"}], "owner": {"reputation": 3384, "user_id": 1269737, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7f4819805723a0723f6aa14480be00f?s=128&d=identicon&r=PG", "display_name": "user1269737", "link": "https://stackoverflow.com/users/1269737/user1269737"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1624, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1535737299, "creation_date": 1534763026, "last_edit_date": 1535737299, "question_id": 51929358, "link": "https://stackoverflow.com/questions/51929358/ontaskremoved-doesnt-work-on-android-8-0-oreo-api-level-26", "title": "onTaskRemoved() doesn&#39;t work on Android 8.0 Oreo API level 26", "body": "<p>On device with Android Oreo 8.0 (API level 26) <code>JobService.onTaskRemoved()</code> isn't called</p>\n\n<ul>\n<li>How to listen for such an event?</li>\n</ul>\n\n<p>Code used which stopped working:</p>\n\n<pre><code>class TaskRemovalWatcherService: JobIntentService() {\n    ...\n    override fun onTaskRemoved(rootIntent: Intent?) {  \n    //not called on Android Oreo\n\n        super.onTaskRemoved(rootIntent);   \n        onAppRemovedFromRecentApps()\n    }\n}\n</code></pre>\n\n<p>When App-Task is removed from recent apps I need to </p>\n\n<ol>\n<li>Stop a process </li>\n<li>Finish 2nd AppTask</li>\n</ol>\n\n<p>if AppTasks.size = 2 and 1 task is removed from recent apps, then process is NOT killed, because 2nd AppTask still in memory.</p>\n\n<p>Update:</p>\n\n<ol>\n<li>when use <code>JobIntentService.enqueueWork</code> then right after <code>JobIntentService.onHandleWork()</code> <code>JobIntentService.onDestroy()</code> is called </li>\n<li>when use <code>JobService.schedule()</code> throws <code>IllegalArgumentException</code> when schadule job without constraints.</li>\n</ol>\n\n<p>P.S. <strong>The idea of checking each X seconds isTaskWasRemoved seems not a good one.</strong></p>\n"}, {"tags": ["java", "spring", "spring-boot", "kotlin", "spring-transactions"], "answers": [{"comments": [{"owner": {"reputation": 3549, "user_id": 59724, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/50954aec029a724824dca5a32a1c00fa?s=128&d=identicon&r=PG", "display_name": "Graham", "link": "https://stackoverflow.com/users/59724/graham"}, "edited": false, "score": 0, "creation_date": 1534771785, "post_id": 51931119, "comment_id": 90813552, "body": "So I&#39;m not using Component Scanning, preferring to wire everything up by hand so I can see what&#39;s going on. However, I&#39;ve added @Component to the healthcheck just in case - and it&#39;s made no difference :("}, {"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "reply_to_user": {"reputation": 3549, "user_id": 59724, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/50954aec029a724824dca5a32a1c00fa?s=128&d=identicon&r=PG", "display_name": "Graham", "link": "https://stackoverflow.com/users/59724/graham"}, "edited": false, "score": 0, "creation_date": 1534773940, "post_id": 51931119, "comment_id": 90815002, "body": "Can you try to remove       fun neo4jHealthcheck(neo4jOperations: Neo4jOperations) = Neo4jHealthcheck(neo4jOperations) and annotate Neo4JHealthcheck and the Neo4jOperations with @Component. I made a simple test and for me it works"}, {"owner": {"reputation": 3549, "user_id": 59724, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/50954aec029a724824dca5a32a1c00fa?s=128&d=identicon&r=PG", "display_name": "Graham", "link": "https://stackoverflow.com/users/59724/graham"}, "edited": false, "score": 0, "creation_date": 1534779403, "post_id": 51931119, "comment_id": 90818319, "body": "So - Interesting fact. My Transaction Manager works fine. I just can&#39;t make the healthcheck transactional for some reason. If I put @Transactional on my Neo4jOperations methods then they <i>are</i> transactional exactly as I expected. Which then begs the question of why one class works and not the other :("}, {"owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "reply_to_user": {"reputation": 3549, "user_id": 59724, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/50954aec029a724824dca5a32a1c00fa?s=128&d=identicon&r=PG", "display_name": "Graham", "link": "https://stackoverflow.com/users/59724/graham"}, "edited": false, "score": 0, "creation_date": 1534780592, "post_id": 51931119, "comment_id": 90818981, "body": "I assume that the healthcheck is not called trough a proxy as the Neo4jOperation. But it&#39;s just guessing."}, {"owner": {"reputation": 3549, "user_id": 59724, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/50954aec029a724824dca5a32a1c00fa?s=128&d=identicon&r=PG", "display_name": "Graham", "link": "https://stackoverflow.com/users/59724/graham"}, "edited": false, "score": 0, "creation_date": 1534786635, "post_id": 51931119, "comment_id": 90821800, "body": "I&#39;m just not sure why. They&#39;re both being created in exactly the same way. Ah well, it works now at least :)"}], "tags": [], "owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "is_accepted": true, "score": 0, "last_activity_date": 1534774312, "last_edit_date": 1534774312, "creation_date": 1534769316, "answer_id": 51931119, "question_id": 51929356, "link": "https://stackoverflow.com/questions/51929356/transactional-not-working-in-spring-boot-with-a-custom-transaction-manager/51931119#51931119", "title": "@Transactional not working in Spring Boot with a custom Transaction Manager", "body": "<p>As I can see Neo4jHealthcheck is not a spring component. So there is maybe no proxy created.</p>\n\n<p>You must add @Component or any of the subtypes to Neo4jHealthcheck </p>\n\n<p>Have a look at an example with acutator and transactions:</p>\n\n<p><a href=\"https://github.com/simasch/actuator-transactional\" rel=\"nofollow noreferrer\">https://github.com/simasch/actuator-transactional</a></p>\n"}], "owner": {"reputation": 3549, "user_id": 59724, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/50954aec029a724824dca5a32a1c00fa?s=128&d=identicon&r=PG", "display_name": "Graham", "link": "https://stackoverflow.com/users/59724/graham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 704, "favorite_count": 0, "accepted_answer_id": 51931119, "answer_count": 1, "score": 0, "last_activity_date": 1534774312, "creation_date": 1534763020, "last_edit_date": 1534771935, "question_id": 51929356, "link": "https://stackoverflow.com/questions/51929356/transactional-not-working-in-spring-boot-with-a-custom-transaction-manager", "title": "@Transactional not working in Spring Boot with a custom Transaction Manager", "body": "<p>I'm trying to write my own custom PlatformTransactionManager for working with Neo4J (Note - I don't want to use OGM for various reasons, which means not using Spring Data).</p>\n\n<p>I've written a very simple Neo4jTransactionManager and added it to my context, as well as the @EnableTransactionManagement annotation, and then added @Transactonal to my healthcheck - and it's not triggering anything.</p>\n\n<p>Code as follows: (Note - Neo4jOperations is a wrapper around Driver to make calling the database easier, similar in intention to JdbcOperations)</p>\n\n<pre><code>class Neo4jTransactionManager(private val driver: Driver) : AbstractPlatformTransactionManager() {\n    companion object {\n        private val LOG = LoggerFactory.getLogger(Neo4jTransactionManager::class.java)\n    }\n\n    class Neo4jTransaction(private val driver: Driver) {\n        var session: Session? = null\n        var transaction: Transaction? = null\n\n        fun start() {\n            if (session != null) {\n                throw CannotCreateTransactionException(\"Transaction already started\")\n            }\n\n            session = driver.session()\n            transaction = session?.beginTransaction()\n        }\n    }\n\n    override fun doCommit(status: DefaultTransactionStatus) {\n        val transaction = unwrapTransaction(status)\n        LOG.debug(\"Committing transaction: {}\", transaction)\n\n        if (transaction.transaction == null) {\n            throw NoTransactionException(\"No current transaction\")\n        }\n        transaction.transaction?.success()\n        transaction.transaction?.close()\n        transaction.session?.close()\n    }\n\n    override fun doBegin(transaction: Any, definition: TransactionDefinition) {\n        (transaction as Neo4jTransaction).start()\n    }\n\n    override fun doGetTransaction(): Any {\n        return Neo4jTransaction(driver)\n    }\n\n    override fun doRollback(status: DefaultTransactionStatus) {\n        val transaction = unwrapTransaction(status)\n        LOG.debug(\"Rolling back transaction: {}\", transaction)\n\n        if (transaction.transaction == null) {\n            throw NoTransactionException(\"No current transaction\")\n        }\n        transaction.transaction?.failure()\n        transaction.transaction?.close()\n        transaction.session?.close()\n    }\n\n    private fun unwrapTransaction(status: DefaultTransactionStatus) : Neo4jTransaction {\n        return status.transaction as Neo4jTransaction\n    }\n}\n\n@Configuration\n@EnableTransactionManagement(proxyTargetClass = true, mode = AdviceMode.PROXY)\nclass DatabaseConfig {\n.....\n    @Bean(\"transactionManager\")\n    fun neo4jTransactionManager(driver: Driver) = Neo4jTransactionManager(driver)\n\n    @Bean\n    fun neo4jHealthcheck(neo4jOperations: Neo4jOperations) = Neo4jHealthcheck(neo4jOperations)\n\n}\n\n@Transactional\nclass Neo4jHealthcheck(private val neo4jOperations: Neo4jOperations) : AbstractHealthIndicator() {\n    companion object {\n        private const val QUERY = \"MATCH (n) RETURN count(*) as count\"\n    }\n\n    @Transactional\n    override fun doHealthCheck(builder: Health.Builder) {\n        val count = neo4jOperations.queryOne(QUERY).get(\"count\").asInt()\n\n        builder.up()\n                .withDetail(\"Nodes\", count)\n                .build()\n    }\n}\n</code></pre>\n\n<p>I'd expect to see my healthcheck emit some log messages around the transaction stuff, and to see them in the stacktrace when debugging. But I don't see any of that, so it's almost as if it's completely ignoring my @Transactional annotations.</p>\n\n<p>What have I missed?</p>\n\n<p>Cheers</p>\n"}]