[{"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "is_accepted": true, "score": 1, "last_activity_date": 1498941459, "creation_date": 1498941459, "answer_id": 44865213, "question_id": 44814163, "link": "https://stackoverflow.com/questions/44814163/collapsingtoolbarlayout-showing-broken-title-when-collapsed/44865213#44865213", "title": "CollapsingToolbarLayout showing broken title when collapsed", "body": "<p><code>android:fitsSystemWindows=\"true\"</code> typically adds the appropriate padding in some cases to make sure that views are not layered under the status bar/nav bar. In your case, I think that is the cause of pushing your text downwards.</p>\n\n<p>You may need to play around with this, but try removing it for your AppBarLayout and its children and perhaps try some different combinations.</p>\n\n<p>It may also help to show us the view boundaries so we can see where the views actually are. This can be done either in the Android Studio preview or via developer options</p>\n"}], "owner": {"reputation": 3, "user_id": 8228856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1cedb033a64aa1baf2b800f9b9e22c6?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Apps", "link": "https://stackoverflow.com/users/8228856/omar-apps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "accepted_answer_id": 44865213, "answer_count": 1, "score": 0, "last_activity_date": 1498941459, "creation_date": 1498693173, "question_id": 44814163, "link": "https://stackoverflow.com/questions/44814163/collapsingtoolbarlayout-showing-broken-title-when-collapsed", "title": "CollapsingToolbarLayout showing broken title when collapsed", "body": "<p><a href=\"https://i.stack.imgur.com/51OWz.jpg\" rel=\"nofollow noreferrer\">Bugged title</a></p>\n\n<p>Hey, as you can see in this picture, I am trying to use the CollpasingToolbarLayout but the title is not being drawn correctly. In the expanded state I set the title to fade out like this: </p>\n\n<pre><code>val collapsingToolbarLayout = layout.findViewById&lt;CollapsingToolbarLayout&gt;(R.id.collapsing_toolbar)\n    collapsingToolbarLayout.setExpandedTitleColor(android.R.color.transparent)\n</code></pre>\n\n<p>so the expanded state isn't really important. My xml looks like this:</p>\n\n<pre><code>&lt;android.support.design.widget.CoordinatorLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"&gt;\n\n    &lt;android.support.design.widget.AppBarLayout\n        android:id=\"@+id/app_bar_layout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"\n        android:fitsSystemWindows=\"true\"\n        app:expanded=\"false\"\n        &gt;\n\n        &lt;android.support.design.widget.CollapsingToolbarLayout\n            android:id=\"@+id/collapsing_toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            app:layout_scrollFlags=\"scroll|exitUntilCollapsed\"\n            app:contentScrim=\"?attr/colorPrimary\"\n            app:expandedTitleMarginStart=\"48dp\"\n            app:expandedTitleMarginEnd=\"64dp\"\n            android:fitsSystemWindows=\"true\"&gt;\n\n            &lt;CalendarView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:paddingBottom=\"35dp\"/&gt;\n\n            &lt;android.support.v7.widget.Toolbar\n                android:id=\"@+id/toolbar\"\n                app:title=\"Title\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"?attr/actionBarSize\"\n                android:theme=\"@style/ThemeOverlay.AppCompat.ActionBar\"\n                app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\"\n                app:layout_collapseMode=\"pin\"&gt;\n\n            &lt;/android.support.v7.widget.Toolbar&gt;\n\n        &lt;/android.support.design.widget.CollapsingToolbarLayout&gt;\n\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n\n    &lt;android.support.v4.widget.NestedScrollView\n        android:id=\"@+id/scroll\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:clipToPadding=\"false\"\n        app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"&gt;\n\n        &lt;include layout=\"@layout/main_fragment\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\" /&gt;\n\n        &lt;/android.support.v4.widget.NestedScrollView&gt;&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>Whan can I try? I am thinking this is a bug but I wouldn't know. Thanks</p>\n"}, {"tags": ["list", "kotlin", "filtering"], "answers": [{"comments": [{"owner": {"reputation": 3487, "user_id": 1777839, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/43bb079d35ba13d8bbb53fa755d27be1?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/1777839/jordan"}, "edited": false, "score": 1, "creation_date": 1498741862, "post_id": 44814060, "comment_id": 76632384, "body": "I wound up getting this to do what I wanted: <code>bCol.filterTo(matches) { aCol.map { it.id }.contains(it.id)}</code>. Any idea on how that affects performance vs. your answer? In this particular instance, I&#39;m never going to have a terribly large data set (&lt;=128 items)."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 3487, "user_id": 1777839, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/43bb079d35ba13d8bbb53fa755d27be1?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/1777839/jordan"}, "edited": false, "score": 1, "creation_date": 1498779523, "post_id": 44814060, "comment_id": 76653623, "body": "@JordanBondo That&#39;s even slower than the first approach, since <code>aCol.map</code> is called for every item in <code>bCol</code> and then the result is thrown away. So it does not only increase computational complexity, but also imposes significant memory cost."}, {"owner": {"reputation": 3487, "user_id": 1777839, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/43bb079d35ba13d8bbb53fa755d27be1?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/1777839/jordan"}, "edited": false, "score": 0, "creation_date": 1498843724, "post_id": 44814060, "comment_id": 76684658, "body": "For anyone else stumbling upon this, I did some testing with both large (1mil) and small (256) datasets and found that while @Ilya&#39;s solution is indeed MUCH faster than mine, using <code>filterTo</code> rather than <code>filter</code> also had a significant performance improvement."}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 7, "last_activity_date": 1498692341, "creation_date": 1498692341, "answer_id": 44814060, "question_id": 44813905, "link": "https://stackoverflow.com/questions/44813905/make-a-new-list-from-two-other-lists-of-different-types-by-comparing-values-of-e/44814060#44814060", "title": "Make a new list from two other lists of different types by comparing values of each type", "body": "<p>A straightforward approach would be to search <code>aCol</code> for an object with the same id for each <code>b</code> in <code>bCol</code>:</p>\n\n<pre><code>bCol.filter { b -&gt; aCol.any { a -&gt; a.id == b.id } }\n</code></pre>\n\n<p>However that may become too slow if your lists are big enough.</p>\n\n<p>To make it more scalable you can first build a set of all ids in <code>aCol</code>:</p>\n\n<pre><code>val aColIds = aCol.map { it.id }.toSet()\n</code></pre>\n\n<p>And then use <code>Set.contains</code> method to determine whether <code>b.id</code> is in <code>aColIds</code>:</p>\n\n<pre><code>bCol.filter { it.id in aColIds }\n// or equivalent\nbCol.filter { aColIds.contains(it.id) }\n</code></pre>\n"}], "owner": {"reputation": 3487, "user_id": 1777839, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/43bb079d35ba13d8bbb53fa755d27be1?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan", "link": "https://stackoverflow.com/users/1777839/jordan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3212, "favorite_count": 2, "accepted_answer_id": 44814060, "answer_count": 1, "score": 4, "last_activity_date": 1546468175, "creation_date": 1498691312, "last_edit_date": 1546468175, "question_id": 44813905, "link": "https://stackoverflow.com/questions/44813905/make-a-new-list-from-two-other-lists-of-different-types-by-comparing-values-of-e", "title": "Make a new list from two other lists of different types by comparing values of each type", "body": "<p>I have two Lists of objects that both implement an interface, but are otherwise unrelated. How can I create a new collection of objects containing only the objects of one of the lists that match a value in the other list?</p>\n\n<p>Obviously I could use a for loop &amp; do this manually, but I'd like to know how I can do this using Kotlin's standard library collection filtering functions.</p>\n\n<p>So here's an example:</p>\n\n<pre><code>interface Ids\n{\n    val id: Int\n}\n\ndata class A(override val id: Int, val name: String) : Ids\ndata class B(override val id: Int, val timestamp: Long) : Ids\n\nfun main(args: Array&lt;String&gt;) {\n    val a1 = A(1, \"Steve\")\n    val a2 = A(2, \"Ed\")\n    val aCol = listOf(a1, a2)\n\n    val b2 = B(2, 12345)\n    val b3 = B(3, 67890)\n    val bCol = listOf(b2, b3)\n\n    val matches = mutableListOf&lt;B&gt;()\n    // This is where I'm stuck.\n    // I want to filter bCol using objects from aCol as a filter.\n    // The result should be that matches contains only a single object: b2\n    // because bCol[0].id == aCol[1].id\n    // I'm guessing I need to start with something like this:\n    bCol.filterTo(matches) { ??? }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 2, "creation_date": 1498682902, "post_id": 44812146, "comment_id": 76605144, "body": "It seems like you do not understand async calls/mulithreading. Adding something to request queue doesn&#39;t means that listener was called. <a href=\"http://ideone.com/PPHi95\" rel=\"nofollow noreferrer\">Example</a>"}, {"owner": {"reputation": 3640, "user_id": 4618331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7356f3874129c5cf6b5ed6dbd9b9436?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4618331/sam"}, "edited": false, "score": 0, "creation_date": 1498682986, "post_id": 44812146, "comment_id": 76605181, "body": "A variable can only be used inside the scope where it&#39;s declared. If you tried declaring it in the enclosing scope and still had problems, maybe you accidentally <i>re-declared</i> it instead of using the existing one?"}, {"owner": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "edited": false, "score": 0, "creation_date": 1498683321, "post_id": 44812146, "comment_id": 76605369, "body": "Actually I try to declare outside the scope the variable equals to 0 but what I don&#39;t achieve is to get the new value of the variable... How can I do this ?"}, {"owner": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "edited": false, "score": 0, "creation_date": 1498684694, "post_id": 44812146, "comment_id": 76605980, "body": "So how can I solve this ?"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "edited": false, "score": 0, "creation_date": 1498686056, "post_id": 44812805, "comment_id": 76606605, "body": "I edited my post but unfortunately it did not solve my problem :/"}, {"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "reply_to_user": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "edited": false, "score": 0, "creation_date": 1498686426, "post_id": 44812805, "comment_id": 76606760, "body": "What is your code trying to achieve? The second invocation of <code>Toast</code> will always have <code>0</code> as the value of <code>value100</code>, so you might as well hardcode it."}, {"owner": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "edited": false, "score": 0, "creation_date": 1498686745, "post_id": 44812805, "comment_id": 76606898, "body": "But what I don&#39;t understant is this : at the beginning  value100 = 0 but then normally  value100 = value.toDouble() so according to me the second Toast should display value.toDouble()"}, {"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "reply_to_user": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "edited": false, "score": 0, "creation_date": 1498686886, "post_id": 44812805, "comment_id": 76606957, "body": "That will happen in the callback, which is going to be invoked when the Volley request finishes. This will almost always happen after the second <code>Toast</code> call, which will just do <code>0.toString()</code>."}, {"owner": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "edited": false, "score": 0, "creation_date": 1498687311, "post_id": 44812805, "comment_id": 76607139, "body": "Okay I am beginning to understand.. So to solve this I have to insert a kind of wait ? Or How can I achieve to get the new value of value100 ? Thank you a lot for your help !"}, {"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "reply_to_user": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "edited": false, "score": 0, "creation_date": 1498687484, "post_id": 44812805, "comment_id": 76607203, "body": "You&#39;re welcome! Again, what are you trying to achieve? If you want to display the <code>Toast</code> when the response is returned - the callback is a perfect place for that. Your first <code>Toast</code> already does that."}, {"owner": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "edited": false, "score": 0, "creation_date": 1498688037, "post_id": 44812805, "comment_id": 76607411, "body": "Actually it is very long to explain...but what I want is to get the value to use it in an other function so for me it is difficult to put all in the loop..."}], "tags": [], "owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "is_accepted": false, "score": 0, "last_activity_date": 1498685168, "creation_date": 1498685168, "answer_id": 44812805, "question_id": 44812146, "link": "https://stackoverflow.com/questions/44812146/unresolved-reference/44812805#44812805", "title": "Unresolved reference", "body": "<p>You're declaring the variable inside a <code>for</code> loop, hence it will only be visible inside that loop. To make it visible to all the code inside the function, declare it at the function scope. To be able to change the value later, use <code>var</code> instead of <code>val</code>. <code>val</code> is similar to Java's <code>final</code>: the value can only be assigned once.</p>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "edited": false, "score": 0, "creation_date": 1498688624, "post_id": 44813265, "comment_id": 76607601, "body": "Thank you I understood that, but I suppose there is a way to solve this right ? Because I have to get this value to use it in a function. Maybe I can put a kind of wait ?"}, {"owner": {"reputation": 57206, "user_id": 974731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG", "display_name": "cybersam", "link": "https://stackoverflow.com/users/974731/cybersam"}, "reply_to_user": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "edited": false, "score": 0, "creation_date": 1498689762, "post_id": 44813265, "comment_id": 76607978, "body": "One way to approach that is to use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\">Future</a>. <a href=\"http://www.vogella.com/tutorials/JavaConcurrency/article.html#futures-and-callables\" rel=\"nofollow noreferrer\">This tutorial</a> may be helpful."}, {"owner": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "edited": false, "score": 0, "creation_date": 1498692415, "post_id": 44813265, "comment_id": 76608669, "body": "I think you&#39;re right Future will help me, Is it easy to modify my code to solve the problem ? How I have to put Future in my code ? Many thanks !"}, {"owner": {"reputation": 57206, "user_id": 974731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG", "display_name": "cybersam", "link": "https://stackoverflow.com/users/974731/cybersam"}, "reply_to_user": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "edited": false, "score": 0, "creation_date": 1498693258, "post_id": 44813265, "comment_id": 76608867, "body": "&quot;Easiness&quot; varies by the person :-). It will probably take some time and effort to familiarize yourself with the concepts.Read that tutorial, or look for others that may be easier for you to follow."}, {"owner": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "edited": false, "score": 0, "creation_date": 1498693450, "post_id": 44813265, "comment_id": 76608917, "body": "Thank you but for me, I assume it is the first time I hear about Future so thank you ! I mean what is the most simple example to understand Future ?"}, {"owner": {"reputation": 57206, "user_id": 974731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG", "display_name": "cybersam", "link": "https://stackoverflow.com/users/974731/cybersam"}, "reply_to_user": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "edited": false, "score": 0, "creation_date": 1498693869, "post_id": 44813265, "comment_id": 76609012, "body": "If you are targeting Java 8, look at this <a href=\"http://www.baeldung.com/java-completablefuture\" rel=\"nofollow noreferrer\">CompletableFuture tutorial</a>. Otherwise, <a href=\"http://www.baeldung.com/java-future\" rel=\"nofollow noreferrer\">this one on Future</a>."}, {"owner": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "edited": false, "score": 0, "creation_date": 1498695120, "post_id": 44813265, "comment_id": 76609299, "body": "I saw this code on stackoverflow which seems to work : <code>RequestFuture&lt;JSONObject&gt; future = RequestFuture.newFuture(); JsonObjectRequest request = new JsonObjectRequest(URL, new JSONObject(), future, future); requestQueue.add(request);  try {   JSONObject response = future.get(); &#47;&#47; this will block } catch (InterruptedException e) {   &#47;&#47; exception handling } catch (ExecutionException e) {   &#47;&#47; exception handling }</code> but I don&#39;t know how to modify my code :/"}], "tags": [], "owner": {"reputation": 57206, "user_id": 974731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f54ba41697411b238379022f9a6df56?s=128&d=identicon&r=PG", "display_name": "cybersam", "link": "https://stackoverflow.com/users/974731/cybersam"}, "is_accepted": false, "score": 0, "last_activity_date": 1498687449, "creation_date": 1498687449, "answer_id": 44813265, "question_id": 44812146, "link": "https://stackoverflow.com/questions/44812146/unresolved-reference/44813265#44813265", "title": "Unresolved reference", "body": "<p>The \"right value\" call to <code>makeText</code> is made inside your listener, which is called asynchronously -- <em>after</em> the response to the GET request is received. That is why it always displays the right value.</p>\n\n<p>The \"wrong value\" call to <code>makeText</code> is made synchronously (which is generally going to be <em>before</em> the response to the GET request is received). That is why it would (almost) always display the wrong value (even if <code>value100</code> were in scope).</p>\n"}], "owner": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2970, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1498687449, "creation_date": 1498682342, "last_edit_date": 1498685701, "question_id": 44812146, "link": "https://stackoverflow.com/questions/44812146/unresolved-reference", "title": "Unresolved reference", "body": "<p>Hello I am using Kotlin with Android Studio And when I try to run my code I have this error : Unresolved reference. Here is my code :</p>\n\n<pre><code>private fun loadLocation(){\n\n    val stringRequest = StringRequest(Request.Method.GET,\n            \"localhost\",\n            Response.Listener&lt;String&gt; { s -&gt;\n                try {\n                    val obj = JSONObject(s)\n                    val array = obj.getJSONArray(\"response\")\n\n                    for (i in 0..array.length() - 1) {\n                        val objectArtist = array.getJSONObject(i)\n                        val value = objectArtist.getString(\"value\")\n\n                        val value100 = value.toDouble()\n\n                    }\n    //This line below displays the right value\n\n      Toast.makeText(getApplicationContext(), value100.toString(), Toast.LENGTH_LONG).show()\n\n                } catch (e: JSONException) {\n                    e.printStackTrace()\n                }\n            }, Response.ErrorListener { volleyError -&gt; Toast.makeText(applicationContext, volleyError.message, Toast.LENGTH_LONG).show() })\n\n    val requestQueue = Volley.newRequestQueue(this)\n    requestQueue.add&lt;String&gt;(stringRequest)\n\n    //This line below displays the wrong value\n\n    Toast.makeText(getApplicationContext(), value100.toString(), Toast.LENGTH_LONG).show()\n\n\n\n}\n</code></pre>\n\n<p>The problem is this : If I am looking at this line :</p>\n\n<pre><code>Toast.makeText(getApplicationContext(), value100.toString(), Toast.LENGTH_LONG).show()\n</code></pre>\n\n<p>This first line displays the good values the first time but if I try this line at the end of the code it does not work... I try to declare the variable after <code>private fun loadLocation(){</code> but when I try to displays this I got 0. And I need absolutely to get the value of my variable. Thank you for your help !</p>\n\n<p>EDIT :</p>\n\n<p>I tried also this code :</p>\n\n<pre><code>private fun loadLocation(){\n\n                        var value100 = 0\n\n\n    val stringRequest = StringRequest(Request.Method.GET,\n            \"localhost\",\n            Response.Listener&lt;String&gt; { s -&gt;\n                try {\n                    val obj = JSONObject(s)\n                    val array = obj.getJSONArray(\"response\")\n\n                    for (i in 0..array.length() - 1) {\n                        val objectArtist = array.getJSONObject(i)\n                        val value = objectArtist.getString(\"value\")\n\n                        value100 = value.toDouble()\n\n                    }\n    //This line below displays the right value\n\n      Toast.makeText(getApplicationContext(), value100.toString(), Toast.LENGTH_LONG).show()\n\n                } catch (e: JSONException) {\n                    e.printStackTrace()\n                }\n            }, Response.ErrorListener { volleyError -&gt; Toast.makeText(applicationContext, volleyError.message, Toast.LENGTH_LONG).show() })\n\n    val requestQueue = Volley.newRequestQueue(this)\n    requestQueue.add&lt;String&gt;(stringRequest)\n\n    //This line below displays the wrong value\n\n    Toast.makeText(getApplicationContext(), value100.toString(), Toast.LENGTH_LONG).show()\n\n\n\n}\n</code></pre>\n\n<p>And in this case I get for the first Toast the correct value and for the second I get 0 which is not the correct value...</p>\n"}, {"tags": ["kotlin", "tail-recursion"], "answers": [{"tags": [], "owner": {"reputation": 3640, "user_id": 4618331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7356f3874129c5cf6b5ed6dbd9b9436?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4618331/sam"}, "is_accepted": true, "score": 7, "last_activity_date": 1498682385, "last_edit_date": 1498682385, "creation_date": 1498681502, "answer_id": 44811945, "question_id": 44811852, "link": "https://stackoverflow.com/questions/44811852/kotlin-why-is-this-function-ineligible-for-tail-recursion/44811945#44811945", "title": "Kotlin - Why is this function ineligible for tail recursion?", "body": "<p>Although your method <em>appears</em> to contain a call to itself, it's not actually a recursive method at all.</p>\n\n<p>The call to <code>send</code> appears inside a closure. That means that it's not invoked immediately. It will only be invoked when the closure itself is invoked. In your case, that's done by a timer. It will take place outside of the current call stack, and probably even outside of the current thread.</p>\n\n<p>In any case, the last call is the call to <code>vertx.setTimer</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 3588231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/857a8434509b4fecdf201233b8806f89?s=128&d=identicon&r=PG&f=1", "display_name": "Tim van der Leeuw", "link": "https://stackoverflow.com/users/3588231/tim-van-der-leeuw"}, "is_accepted": false, "score": 0, "last_activity_date": 1503317809, "creation_date": 1503317809, "answer_id": 45796936, "question_id": 44811852, "link": "https://stackoverflow.com/questions/44811852/kotlin-why-is-this-function-ineligible-for-tail-recursion/45796936#45796936", "title": "Kotlin - Why is this function ineligible for tail recursion?", "body": "<p>Kotlin allows inline closure functions which it uses for a number of it's own library functions, such as forEach. The tailrec might work if it's called from an inline closure, after all return from an inline closure returns from the outer function.</p>\n\n<p>However, as noted above, this is a timer callback function, so it can by definition not be an inline call, and not be tail recursive.</p>\n"}], "owner": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 712, "favorite_count": 0, "accepted_answer_id": 44811945, "answer_count": 2, "score": 1, "last_activity_date": 1503317809, "creation_date": 1498681158, "question_id": 44811852, "link": "https://stackoverflow.com/questions/44811852/kotlin-why-is-this-function-ineligible-for-tail-recursion", "title": "Kotlin - Why is this function ineligible for tail recursion?", "body": "<p>The function <code>send()</code> in the following example calls itself recursively:</p>\n\n<pre><code>internal inner class RouteSender(\n        val features: List&lt;Feature&gt;,\n        val exchange: GrpcUniExchange&lt;Point, RouteSummary&gt;\n) {\n    var result: AsyncResult&lt;RouteSummary&gt;? = null // Set in stub for recordRoute.\n\n    fun send(numPoints: Int) {\n        result?.let {\n            // RPC completed or err'd before sending completed.\n            // Sending further requests won't error, but they will be thrown away.\n            return\n        }\n\n        val index = random.nextInt(features.size)\n        val point = features[index].location\n        println(\"Visiting point ${RouteGuideUtil.getLatitude(point)}, \" +\n                \"${RouteGuideUtil.getLongitude(point)}\")\n        exchange.write(point)\n        if (numPoints &gt; 0) {\n            vertx.setTimer(random.nextInt(1000) + 500L) { _ -&gt;\n                send(numPoints - 1)\n            }\n        } else {\n            exchange.end()\n        }\n    }\n}\n</code></pre>\n\n<p>It can be re-written so that the last operation performed is the recursive call to itself:</p>\n\n<pre><code>...\nif (numPoints &lt;= 0) {\n                exchange.end()\n            } else {\n                vertx.setTimer(random.nextInt(1000) + 500L) { _ -&gt;\n                    send(numPoints - 1)\n                }\n            }\n...\n</code></pre>\n\n<p>Yet, if I mark it as a <code>tailrec</code> function, I get a warning that the recursive call is not a tail call. This doesn't stop compilation of the successful running of the program. However, why is this not a tail call?</p>\n\n<p>The <a href=\"https://kotlinlang.org/docs/reference/functions.html#tail-recursive-functions\" rel=\"nofollow noreferrer\">documentation</a> says:</p>\n\n<blockquote>\n  <p>To be eligible for the <code>tailrec</code> modifier, a function must call itself\n  as the last operation it performs. You cannot use tail recursion when\n  there is more code after the recursive call, and you cannot use it\n  within try/catch/finally blocks.</p>\n</blockquote>\n\n<p>This is not within a try/catch/finally block and there is no more code after the recursive call. What is it that means this code block is ineligible for tail recursion optimisation?</p>\n\n<p>I'll take a stab at answering my own question, in that it has no return value. Based on <a href=\"https://stackoverflow.com/questions/18582333/is-this-tail-recursion\">this</a> discussion, that's about all I can think of. Thoughts?</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin", "android-mvp"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 6000267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb81e049fc2fa1279e44c497d887c39d?s=128&d=identicon&r=PG", "display_name": "Alex oladele", "link": "https://stackoverflow.com/users/6000267/alex-oladele"}, "edited": false, "score": 0, "creation_date": 1498689799, "post_id": 44812975, "comment_id": 76607984, "body": "So how would I return the returnList in that function?"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 69, "user_id": 6000267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb81e049fc2fa1279e44c497d887c39d?s=128&d=identicon&r=PG", "display_name": "Alex oladele", "link": "https://stackoverflow.com/users/6000267/alex-oladele"}, "edited": false, "score": 0, "creation_date": 1498690016, "post_id": 44812975, "comment_id": 76608047, "body": "Whatever you want to do with it, just use it there, in that function."}, {"owner": {"reputation": 69, "user_id": 6000267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb81e049fc2fa1279e44c497d887c39d?s=128&d=identicon&r=PG", "display_name": "Alex oladele", "link": "https://stackoverflow.com/users/6000267/alex-oladele"}, "edited": false, "score": 0, "creation_date": 1498691249, "post_id": 44812975, "comment_id": 76608353, "body": "I&#39;m sorry, I&#39;m just trying to clarify. So the returnList returns the mutableList of items from the database that I pass to the dataArray in the CourseFragment to pass to the adapter. Are you saying that I should pass it to the dataArray variable in this function?"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 69, "user_id": 6000267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb81e049fc2fa1279e44c497d887c39d?s=128&d=identicon&r=PG", "display_name": "Alex oladele", "link": "https://stackoverflow.com/users/6000267/alex-oladele"}, "edited": false, "score": 0, "creation_date": 1498691300, "post_id": 44812975, "comment_id": 76608365, "body": "Yes, give it a try."}, {"owner": {"reputation": 69, "user_id": 6000267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb81e049fc2fa1279e44c497d887c39d?s=128&d=identicon&r=PG", "display_name": "Alex oladele", "link": "https://stackoverflow.com/users/6000267/alex-oladele"}, "edited": false, "score": 0, "creation_date": 1498693477, "post_id": 44812975, "comment_id": 76608925, "body": "I&#39;ve tried doing this, and it still doesn&#39;t get the value from the database before the view is created. See edit in main post"}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 0, "last_activity_date": 1564392687, "last_edit_date": 1564392687, "creation_date": 1498685994, "answer_id": 44812975, "question_id": 44811432, "link": "https://stackoverflow.com/questions/44811432/firebase-not-getting-data-from-ondatachange-method/44812975#44812975", "title": "Firebase not getting data from onDataChange method", "body": "<p>To solve this, you need declare and use <code>val returnList</code> inside the overriden <code>doCallback</code> function in your <code>CoursePresenter.kt</code> file. In this way won't get empty String because you wait for that in order to use it.</p>\n\n<p>For more informations, you can see my answer from the following post:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/51594772/how-to-return-a-list-from-firestore-database-as-a-result-of-a-function-in-kotlin/51595202\">How to return a list from Firestore database as a result of a function in Kotlin?</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1564392623, "post_id": 44833298, "comment_id": 101001776, "body": "Setting the adapter inside a background thread isn&#39;t such a good idea because you&#39;ll get a warning such as <a href=\"https://stackoverflow.com/q/54677804/5246885\">No Adapter attached :skipping layout</a>. Beside that, this answer doesn&#39;t solve the asynchronous part of the problem at all."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1564393913, "post_id": 44833298, "comment_id": 101002476, "body": "Please also take a look at the link from my edited answer."}], "tags": [], "owner": {"reputation": 69, "user_id": 6000267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb81e049fc2fa1279e44c497d887c39d?s=128&d=identicon&r=PG", "display_name": "Alex oladele", "link": "https://stackoverflow.com/users/6000267/alex-oladele"}, "is_accepted": true, "score": 0, "last_activity_date": 1498763874, "creation_date": 1498763874, "answer_id": 44833298, "question_id": 44811432, "link": "https://stackoverflow.com/questions/44811432/firebase-not-getting-data-from-ondatachange-method/44833298#44833298", "title": "Firebase not getting data from onDataChange method", "body": "<p>I fixed it by doing away with the callback completely! I set the recyclerView adapter inside the onDataChange() method, therefore I'm not setting the layout before I get data which might cause it to load a bit slow and probably violates MVP, but it works!!!</p>\n"}], "owner": {"reputation": 69, "user_id": 6000267, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/eb81e049fc2fa1279e44c497d887c39d?s=128&d=identicon&r=PG", "display_name": "Alex oladele", "link": "https://stackoverflow.com/users/6000267/alex-oladele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 751, "favorite_count": 1, "accepted_answer_id": 44833298, "answer_count": 2, "score": 0, "last_activity_date": 1564392687, "creation_date": 1498679543, "last_edit_date": 1498697730, "question_id": 44811432, "link": "https://stackoverflow.com/questions/44811432/firebase-not-getting-data-from-ondatachange-method", "title": "Firebase not getting data from onDataChange method", "body": "<p>I understand that Firebase gets the data asynchronously and I'm trying to set the data before it gets loaded into my recyclerView adapter so that it shows up in the recyclerview.  But when I launch the app, it only gets the \"EMPTY\" string that I initially set, and it seems like firebase is not even going to the onDataChange method</p>\n\n<p><strong>CoursesFragment.kt</strong></p>\n\n<pre><code>class CoursesFragment : android.support.v4.app.Fragment(), Contract.View {\n    val TAG: String = CoursesFragment::class.java.name\n    val presenter: Contract.Presenter.CoursePresenter = CoursePresenter(this)\n    var tempDataList: MutableList&lt;String&gt; = mutableListOf()\n    var dataArray: Array&lt;String&gt; = arrayOf(\"EMPTY\")\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        tempDataList = presenter.retrieveCourseNames()\n        for (i in 0 until tempDataList.size) dataArray[i] = tempDataList[i]\n    }\n\n    override fun onCreateView(inflater: android.view.LayoutInflater?, container: android.view.ViewGroup?,\n                              savedInstanceState: Bundle?): android.view.View? {\n        // Inflate the layout for this fragment\n        val v = inflater!!.inflate(R.layout.fragment_courses, container, false)\n\n//        Gets cardview widget and sets property\n        val rView = v.findViewById&lt;RecyclerView&gt;(R.id.recyclerView_courses)\n        rView.setHasFixedSize(true)\n\n//        Creates the 2 column recycler view with the cards\n        val layoutMan = GridLayoutManager(context, 1)\n        rView.layoutManager = layoutMan\n        //        Sets up cardview in recycler view\n\n        val adapter = CourseRecyclerAdapter(dataArray, presenter)\n        adapter.notifyDataSetChanged()\n        rView.adapter = adapter\n\n//        actually inflates view\n        return v\n    }\n\n    //    ======================== INTERFACE OVERRIDE METHODS ========================\n\n    //    CourseContract\n    override fun showToastMessage(message: String) {\n        Toast.makeText(context, message, Toast.LENGTH_SHORT).show()\n    }\n\n    //    ======================== USER METHODS ========================\n//    New Instance Method\n    companion object {\n        fun newInstance(page: Int = 0): CoursesFragment {\n            val argPage: String = \"ARG_PAGE\"\n            val args: Bundle = Bundle()\n            args.putInt(argPage, page)\n            val fragment = CoursesFragment()\n            fragment.arguments = args\n            return fragment\n        }\n    }\n}\n</code></pre>\n\n<p><strong>CoursePresenter.kt</strong></p>\n\n<pre><code>class CoursePresenter(val courseView: Contract.View) : Contract.Presenter.CoursePresenter {\n    val courseInstance = com.alexoladele.cvap.MVP.Course.Model.Course()\n    override fun retrieveCourseNames(): MutableList&lt;String&gt; {\n        val returnList: MutableList&lt;String&gt; = mutableListOf()\n        courseInstance.getCourseNamesFromDB(object : MyCallBack{\n            override fun doCallback(dbValue: String) {\n                returnList.add(dbValue)\n            }\n        })\n        return returnList\n    }\n\n    fun testToast() {\n        courseView.showToastMessage(\"TOAST TEST\")\n    }\n    override fun onCourseClick(cardPosition: Int) {\n        testToast()\n    }\n}\n</code></pre>\n\n<p><strong>Course.kt</strong></p>\n\n<pre><code>class Course (val name: String = \"GENERIC\", val content: String = \"PLACEHOLDER\") : Contract.Model.CourseModel {\n    val dbReference: DatabaseReference = FirebaseDatabase.getInstance().reference\n    val courseRef = dbReference.child(\"Course\")\n    val courseNames = mutableListOf&lt;String&gt;()\n\n    override fun getCourseNamesFromDB(callback: MyCallBack) {\n        courseRef.addValueEventListener(object : ValueEventListener {\n            override fun onCancelled(p0: DatabaseError?) {\n//                TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n            }\n\n            override fun onDataChange(p0: DataSnapshot) {\n                val tempString = p0.value as String\n                Log.d(TAG, \"onDataChange: Value from DB is: $tempString\");\n\n                callback.doCallback(tempString)\n            }\n        })\n    }\n}\ninterface MyCallBack {\n    fun doCallback(dbValue: String)\n}\n</code></pre>\n\n<p><strong>EDIT:</strong> I've tried this in the CoursePresenter</p>\n\n<pre><code>override fun retrieveCourseNames(dataArray: Array&lt;String&gt;): Array&lt;String&gt; {\n//        val returnList: MutableList&lt;String&gt; = mutableListOf()\n        courseInstance.getCourseNamesFromDB(object : MyCallBack{\n            override fun doCallback(dbValue: String) {\n                val returnList = mutableListOf&lt;String&gt;()\n                returnList.add(dbValue)\n                for (i in 0 until returnList.size)\n                     dataArray[i] = returnList[i]\n            }\n        })\n\n        return dataArray\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1498763472, "post_id": 44810606, "comment_id": 76646937, "body": "thanks, i like this solution. would you suggest also some other approach?"}, {"owner": {"reputation": 722, "user_id": 3142342, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100000973086717/picture?type=large", "display_name": "Rahul Ahuja", "link": "https://stackoverflow.com/users/3142342/rahul-ahuja"}, "edited": false, "score": 0, "creation_date": 1507635327, "post_id": 44810606, "comment_id": 80279574, "body": "but how do u invoke this method from caller activity? I tried your second option."}, {"owner": {"reputation": 2517, "user_id": 4312751, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PuJuA.jpg?s=128&g=1", "display_name": "mac229", "link": "https://stackoverflow.com/users/4312751/mac229"}, "edited": false, "score": 0, "creation_date": 1513178222, "post_id": 44810606, "comment_id": 82553739, "body": "@Sam Do you have any suggestion to create Fragments to avoid companion objects?"}, {"owner": {"reputation": 706, "user_id": 5422725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a77f5066ddf47d74395b0e5972f53365?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Troyanskii", "link": "https://stackoverflow.com/users/5422725/eugene-troyanskii"}, "edited": false, "score": 0, "creation_date": 1598010814, "post_id": 44810606, "comment_id": 112326150, "body": "@Sam still can&#39;t call startMyActivity method cuz extansion doesn&#39;t make it static... MyActivity still doesn&#39;t have startMyActivity method."}], "tags": [], "owner": {"reputation": 3640, "user_id": 4618331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7356f3874129c5cf6b5ed6dbd9b9436?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4618331/sam"}, "is_accepted": true, "score": 2, "last_activity_date": 1498678458, "last_edit_date": 1498678458, "creation_date": 1498676609, "answer_id": 44810606, "question_id": 44810263, "link": "https://stackoverflow.com/questions/44810263/android-activity-static-starter-method-in-kotlin/44810606#44810606", "title": "android Activity static starter method in Kotlin", "body": "<p>There are a few approaches you could take. I'm a fan of <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">extension functions</a>:</p>\n\n<pre><code>class MyActivity : AppCompatActivity()\n\nprivate fun Intent.extraFoo(bar : String) = putExtra(\"foo\", bar)\n\nfun Context.startMyActivity(bar : String) =\n    Intent(this, MyActivity::class.java).apply { extraFoo(bar) }.let(this::startActivity)\n</code></pre>\n\n<p>This creates an extension to <code>Context</code> so that you can call <code>startMyActivity</code> on any <code>Context</code> object.</p>\n\n<hr>\n\n<p>Here's that same extension function in a more Java-like style, so you can compare it more easily to what you already have:</p>\n\n<pre><code>private val EXTRA_FOO = \"foo\"\n\nfun Context.startMyActivity(bar : String) {\n    val intent = Intent(this, MyActivity::class.java)\n    intent.putExtra(EXTRA_FOO, bar)\n    startActivity(intent)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "is_accepted": false, "score": 0, "last_activity_date": 1498941700, "creation_date": 1498941700, "answer_id": 44865242, "question_id": 44810263, "link": "https://stackoverflow.com/questions/44810263/android-activity-static-starter-method-in-kotlin/44865242#44865242", "title": "android Activity static starter method in Kotlin", "body": "<p>To add onto Sam's approach, I typically use extensions for activities, but in cases like fragments where you need to create a new instance and pass arguments, I may consider the following:</p>\n\n<pre><code>class F : Fragment() {\n    companion object {\n        operator fun invoke(text: String): F {\n            val f = F()\n            val bundle = Bundle()\n            bundle.putString(\"key\", text)\n            f.arguments = bundle\n            return f\n        }\n\n        fun test() {\n            //you can now initialize a fragment and put text in its bundle like so\n            val f = F(\"hi\")\n        }\n    }\n}\n</code></pre>\n\n<p>The operator function allows you to use the constructor like notation.</p>\n"}], "owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1835, "favorite_count": 0, "accepted_answer_id": 44810606, "answer_count": 2, "score": 5, "last_activity_date": 1541534021, "creation_date": 1498675370, "last_edit_date": 1541534021, "question_id": 44810263, "link": "https://stackoverflow.com/questions/44810263/android-activity-static-starter-method-in-kotlin", "title": "android Activity static starter method in Kotlin", "body": "<p>In java, one can define a starter static method for an Activity. In Android Studio, there is even a \"starter\" template for it: it would look something like this:</p>\n\n<pre><code>public class MyActivity extends AppCompatActivity {\n\n    private static final String EXTRA_FOO = \"foo\";\n\n    public static void start(Context caller, String bar){\n        Intent intent = new Intent(caller, MyActivity.class);\n        intent.putExtra(EXTRA_FOO, bar);\n        caller.startActivity(intent);\n    }\n}\n</code></pre>\n\n<p>I'm wrapping my head around this same concept in Kotlin and the closest thing I came up with looks like this:</p>\n\n<pre><code>class MyActivity : AppCompatActivity() {\n\n    companion object {\n        private val EXTRA_FOO = \"foo\"\n\n        fun start(caller: Context, bar: String){\n            val intent = Intent(caller, MyActivity::class.java)\n            intent.putExtra(EXTRA_FOO, bar)\n            caller.startActivity(intent)\n        }\n    }\n}\n</code></pre>\n\n<p>Is there a more concise and elegant way to do this? I can't believe this is the way to go, it looks uglier than in Java. Also, there is no \"starter\" template for Kotlin.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 2, "creation_date": 1498706068, "post_id": 44809630, "comment_id": 76611713, "body": "It seems that frontend recognized <code>B.I {}</code> as a function call with lambda argument outside of parenthesis. I bet this is a result of failing assumptions. Verifier (or whatsoever they name it) did found <code>B.I</code> denotes a valid SAM interface through some name registry that follow the JLS (allow supertype static members referenced through subtypes). The compiler backend, whose name system don&#39;t follow JLS (because kotlin doesn&#39;t have static), however didn&#39;t found <code>B.I</code> <i>declared</i> in <code>B.java</code>, so it expect it to be a function call. This is just a random guess though."}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 1, "creation_date": 1498706075, "post_id": 44809630, "comment_id": 76611715, "body": "Conclusion of my guess: the compiler frontend and backend have different policy regarding <i>whether supertype static members referenced through subtypes is allowed</i>. You should file a issue on <a href=\"https://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow noreferrer\">kotlin youtrack</a>."}, {"owner": {"reputation": 653, "user_id": 3594403, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1rc95.jpg?s=128&g=1", "display_name": "dpoetzsch", "link": "https://stackoverflow.com/users/3594403/dpoetzsch"}, "reply_to_user": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 1, "creation_date": 1498733231, "post_id": 44809630, "comment_id": 76625747, "body": "<a href=\"https://youtrack.jetbrains.com/issue/KT-18745\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-18745</a>"}], "answers": [{"tags": [], "owner": {"reputation": 683, "user_id": 5069742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bkgnc.jpg?s=128&g=1", "display_name": "Vijay Pal Vishwakarma", "link": "https://stackoverflow.com/users/5069742/vijay-pal-vishwakarma"}, "is_accepted": false, "score": 0, "last_activity_date": 1498759533, "creation_date": 1498759533, "answer_id": 44832148, "question_id": 44809630, "link": "https://stackoverflow.com/questions/44809630/kotlin-sam-runtime-error-nosuchmethoderror-no-static-method/44832148#44832148", "title": "Kotlin SAM Runtime Error: NoSuchMethodError: No static method", "body": "<p>Define main method as static like- </p>\n\n<pre><code>companion object {\n    @JvmStatic fun main(args: Array&lt;String&gt;) {\n        A().i = B.I {}\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 653, "user_id": 3594403, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/1rc95.jpg?s=128&g=1", "display_name": "dpoetzsch", "link": "https://stackoverflow.com/users/3594403/dpoetzsch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1047, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1498759533, "creation_date": 1498673028, "last_edit_date": 1498673382, "question_id": 44809630, "link": "https://stackoverflow.com/questions/44809630/kotlin-sam-runtime-error-nosuchmethoderror-no-static-method", "title": "Kotlin SAM Runtime Error: NoSuchMethodError: No static method", "body": "<p>Today I ran into a really strange runtime error while developing kotlin / android that involves SAM conversions and sub classing.</p>\n\n<p>Here's a minimal example of pure java + kotlin. Here are two java classes:</p>\n\n<pre><code>public class A {\n    public interface I {\n        public void f();\n    }\n\n    public I i;\n}\n\npublic class B extends A {}\n</code></pre>\n\n<p>And here is a kotlin main function:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    A().i = B.I {}\n}\n</code></pre>\n\n<p>This code compiles fine but at run time I get the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchMethodError: B.I(Lkotlin/jvm/functions/Function0;)LA$I;\n        at MainKt.main(Main.kt:2)\n</code></pre>\n\n<p>Now, this is already bad -- if code like this does not work (it never will I guess) the compiler should raise an error. But at least one could say that it is bad idea to reference to the interface <code>I</code> via the subclass <code>B</code> instead of the place of definition <code>A</code> (i.e., <code>A.I</code>).</p>\n\n<p>It's less clear though, if this code is in a sub class of <code>B</code> where I can reference <code>I</code> directly using <code>I</code>:</p>\n\n<pre><code>class C: B {\n    constructor() {\n        this.i = I {}\n    }\n}\n</code></pre>\n\n<p>So my questions would be:</p>\n\n<ol>\n<li>Why is this behavior happening at all?</li>\n<li>If it is happening, why is the compiler not raising an error already?</li>\n</ol>\n\n<p>PS: In android the error message looks similar to this, which is even more confusing:</p>\n\n<pre><code>Caused by: java.lang.NoSuchMethodError: No static method OnFocusChangeListener(Lkotlin/jvm/functions/Function2;)Landroid/view/View$OnFocusChangeListener; in class Landroid/widget/LinearLayout; or its super classes (declaration of 'android.widget.LinearLayout' appears in /system/framework/framework.jar:classes2.dex)\n</code></pre>\n"}, {"tags": ["android", "android-activity", "fragment", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4743, "user_id": 4906597, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d0107ae196d98789dc36245c5fa00953?s=128&d=identicon&r=PG&f=1", "display_name": "dudi", "link": "https://stackoverflow.com/users/4906597/dudi"}, "edited": false, "score": 0, "creation_date": 1498672872, "post_id": 44808849, "comment_id": 76599416, "body": "Thanks, you totally right! But if I put the code above the  &#180;return super.onCreateView(inflater, container, savedInstanceState)` I got only the toast. The layout isn&#39;t set"}], "tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": true, "score": 3, "last_activity_date": 1498722385, "last_edit_date": 1498722385, "creation_date": 1498670088, "answer_id": 44808849, "question_id": 44808795, "link": "https://stackoverflow.com/questions/44808795/kotlin-fragment/44808849#44808849", "title": "Kotlin Fragment", "body": "<p>All the code after</p>\n\n<pre><code>    return super.onCreateView(inflater, container, savedInstanceState)\n</code></pre>\n\n<p>is unreachable. Just read IDE warnings.</p>\n\n<p>Also, layout becomes attached only if you returned it from <code>onCreateView</code>, i. e. <code>return inflater.inflate(...)</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 2, "creation_date": 1498722445, "post_id": 44809606, "comment_id": 76618383, "body": "<code>@JvmField val TAG</code> may be <code>const val TAG</code>."}], "tags": [], "owner": {"reputation": 4743, "user_id": 4906597, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d0107ae196d98789dc36245c5fa00953?s=128&d=identicon&r=PG&f=1", "display_name": "dudi", "link": "https://stackoverflow.com/users/4906597/dudi"}, "is_accepted": false, "score": 0, "last_activity_date": 1498672956, "creation_date": 1498672956, "answer_id": 44809606, "question_id": 44808795, "link": "https://stackoverflow.com/questions/44808795/kotlin-fragment/44809606#44809606", "title": "Kotlin Fragment", "body": "<p>Solved:</p>\n\n<p>class HomeFragment : Fragment() {</p>\n\n<pre><code>object statics {\n    @JvmField val TAG = \"Homefragment\"\n}\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n    Toast.makeText(activity, \"HomeFragment\", Toast.LENGTH_SHORT).show()\n\n    return inflater?.inflate(R.layout.fragment_home, container, false)\n\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": [], "owner": {"reputation": 4116, "user_id": 9039646, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/t6Slz.jpg?s=128&g=1", "display_name": "DINA TAKLIT", "link": "https://stackoverflow.com/users/9039646/dina-taklit"}, "is_accepted": false, "score": 1, "last_activity_date": 1526510522, "creation_date": 1526510522, "answer_id": 50380923, "question_id": 44808795, "link": "https://stackoverflow.com/questions/44808795/kotlin-fragment/50380923#50380923", "title": "Kotlin Fragment", "body": "<p>In Kotlin the <strong>onCreateView</strong> should be on this way </p>\n\n<pre><code> override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n       return   inflater!!.inflate(R.layout.input_field_frag, container, false)\n    }\n</code></pre>\n\n<p>If you want to add somthing inside you fragment you can use <strong>onViewCreated</strong> method and do whatever you want here </p>\n\n<pre><code>  override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n          //Here u can call function of add listners to button...\n\n        })\n    }\n</code></pre>\n\n<p>Like this you gonna create a safe propriate code</p>\n"}], "owner": {"reputation": 4743, "user_id": 4906597, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/d0107ae196d98789dc36245c5fa00953?s=128&d=identicon&r=PG&f=1", "display_name": "dudi", "link": "https://stackoverflow.com/users/4906597/dudi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2037, "favorite_count": 0, "accepted_answer_id": 44808849, "answer_count": 3, "score": 0, "last_activity_date": 1526510522, "creation_date": 1498669892, "question_id": 44808795, "link": "https://stackoverflow.com/questions/44808795/kotlin-fragment", "title": "Kotlin Fragment", "body": "<p>I have a simply Activity. In this activity I want start a fragment. But the Fragment doesn't start.</p>\n\n<p>This is my Activity</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    //start Homefragment\n    startHomeFragment()\n}\n\n/**\n * Create Homefragment\n */\nprivate fun  startHomeFragment() {\n    val homeFragment = fragmentManager.findFragmentByTag(statics.TAG) ?: HomeFragment()\n    fragmentManager.beginTransaction()\n            .replace(R.id.container, homeFragment, statics.TAG)\n            .commit()\n}\n</code></pre>\n\n<p>And this is my Fragment</p>\n\n<pre><code>class HomeFragment : Fragment() {\n\nobject statics {\n    @JvmField val TAG = \"Homefragment\"\n}\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    return super.onCreateView(inflater, container, savedInstanceState)\n    inflater?.inflate(R.layout.fragment_home, container)\n\n    background_home.setBackgroundResource(R.drawable.gc_bg_home)\n</code></pre>\n"}, {"tags": ["kotlin", "android-espresso"], "owner": {"reputation": 1227, "user_id": 8164968, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/c76845207f72226c13e5546f8ddff26c?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8164968/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 290, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1498725968, "creation_date": 1498661108, "last_edit_date": 1498725968, "question_id": 44805774, "link": "https://stackoverflow.com/questions/44805774/android-espresso-test-cant-work-with-activity-write-on-kotlin", "title": "Android, Espresso test can&#39;t work with activity write on Kotlin", "body": "<pre><code>org.jetbrains.kotlin:kotlin-gradle-plugin:1.1.3\ncom.android.support.test.espresso:espresso-core:2.2.2\n</code></pre>\n\n<p>Workflow:</p>\n\n<ol>\n<li>Fragment has list view (news)</li>\n<li>When click on some item on list then open activity (NewsDetailsActivity) that show news details with title \"Single news\"</li>\n</ol>\n\n<p>Fragment's code:</p>\n\n<pre><code>Integer newsId = 1234;\nIntent intent = new Intent(context, NewsDetailsActivity.class);\nintent.putExtra(NewsDetailsActivity.ID newsId);\nstartActivity(intent);\n</code></pre>\n\n<p>NewsDetailsActivity's java code:</p>\n\n<pre><code>public class NewsDetailsActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Bundle extras = getIntent().getExtras();\n        setContentView(R.layout.news_details);\n        int newsID = 0;\n        String mainCaption = \"\";\n        if (extras != null) {\n            newsID = extras.getInt(SELECTED_NEWS_ID);\n            mainCaption = extras.getString(SELECTED_NEWS);\n        }\n        titleTextView = (TextView) findViewById(R.id.titleTextView);\n        mainNewsDetailsContainer = (LinearLayout) findViewById(R.id.mainNewsDetailsContainer);\n        mainCaptionTextView = (TextView) findViewById(R.id.mainCaptionTextView);\n}\n</code></pre>\n\n<p>When activity is open it's title is \"<strong>Single news</strong>\".\nHere screenshot:\n<a href=\"https://i.stack.imgur.com/nBFc7.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>So work fine. OK.</p>\n\n<p>So I write Android Espresso test:</p>\n\n<pre><code> @Test\n public void newsDetailsTitle() {\n    // click on listView item and as result open NewsDetailsActivity\n   onData(anything()).inAdapterView(withId(R.id.containerNotEmptyListView)).atPosition(NEWS_LIST_POSITION).perform(click());\n    // test that title of NewsDetailsActivity is \"Single news\"\n    onView(allOf(withId(R.id.titleTextView), withText(R.string.news_single))).check(matches(isDisplayed()));\n    }\n</code></pre>\n\n<p>And it's passed and work fine. OK.</p>\n\n<p>So now we rewrite NewsDetailsActivity on language Kotlin.</p>\n\n<p>NewsDetailsActivity's Kotlin code:</p>\n\n<pre><code>   class NewsDetailsActivity : AppCompatActivity() {\n\n    @SuppressLint(\"NewApi\")\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        verticalLayout {\n            include&lt;View&gt;(R.layout.toolbar)\n            find&lt;TextView&gt;(R.id.titleTextView).setText(R.string.single_news)\n            setSupportActionBar(find&lt;Toolbar&gt;(R.id.toolbar))\n            supportActionBar?.setDisplayHomeAsUpEnabled(true)\n            supportActionBar?.setDisplayShowHomeEnabled(true)\n            supportActionBar?.setDisplayShowTitleEnabled(false)\n        }\n    }\n}\n</code></pre>\n\n<p>When I start application all work fine. News details open and show title \"<strong>Single news\"</strong>. OK.</p>\n\n<p>But when I start test the title of NewsDetailsActivity now is NOT \"<strong>Single news</strong>\". Its absolute another title = \"<strong>Recomendation</strong>\".</p>\n\n<p>Here screenshot:\n<a href=\"https://i.stack.imgur.com/ZO0Pu.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n\n<p>As result test fail. The key <strong>R.string.news_single</strong> was not changed.</p>\n\n<p>Why title of news detalis was changed?</p>\n"}, {"tags": ["kotlin", "akka-stream"], "owner": {"reputation": 1955, "user_id": 3205941, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/149aec707f522e284ce8d8a50f704578?s=128&d=identicon&r=PG&f=1", "display_name": "Overly Excessive", "link": "https://stackoverflow.com/users/3205941/overly-excessive"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1498659591, "creation_date": 1498659591, "question_id": 44805187, "link": "https://stackoverflow.com/questions/44805187/akka-stream-upstream-not-producing-values", "title": "Akka stream, upstream not producing values", "body": "<p>I have an Akka stream that I want to use to start a session against a 3rd party API and then I want it to keep that session alive by emitting keepAlive requests on a set interval.</p>\n\n<p>Now I've managed to collect the first session signature element from the stream by collecting it to a SinkQueue but I cannot seem to get upstream to keep producing elements, this is my code:</p>\n\n<pre><code> val signatures = Source.single({ _: String -&gt;\n        sessionManager.logon(logonReq, contractVersion).signature\n    }).keepAlive(interval, {{ signature: String -&gt;\n        sessionManager.keepAlive(KeepAliveRequest(), contractVersion, signature)\n        signature\n    }})\n\nfun start() = signatures.\n        conflateWithSeed({ it(\"\") } ,{ x, f -&gt; f(x) }).\n        runWith(Sink.queue&lt;String&gt;().withAttributes(Attributes.inputBuffer(0, 1)), mat)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498653600, "post_id": 44802012, "comment_id": 76585272, "body": "Try marking <code>localStore</code> as <code>@JvmField</code>. If it won&#39;t work then run <code>gradlew build --debug --stacktrace</code> and paste the stacktrace"}, {"owner": {"reputation": 885, "user_id": 4947010, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-p7qc7MdO2mM/AAAAAAAAAAI/AAAAAAAAAQ8/6jG6kh1jKcI/photo.jpg?sz=128", "display_name": "MrLeblond", "link": "https://stackoverflow.com/users/4947010/mrleblond"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498654608, "post_id": 44802012, "comment_id": 76586081, "body": "@Mibac I cannot apply this annotation cause my <code>localStore</code> has a custom getter"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498654853, "post_id": 44802012, "comment_id": 76586301, "body": "Could you create another variable (and put the <code>@JvmField</code> as well as <code>@Inject</code> annotations on it) or delete the custom getter to test if the getter is the problem? if not then please run gradle with <code>--debug --stacktrace</code> arguments so we can see what the exception is"}, {"owner": {"reputation": 885, "user_id": 4947010, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-p7qc7MdO2mM/AAAAAAAAAAI/AAAAAAAAAQ8/6jG6kh1jKcI/photo.jpg?sz=128", "display_name": "MrLeblond", "link": "https://stackoverflow.com/users/4947010/mrleblond"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498655422, "post_id": 44802012, "comment_id": 76586783, "body": "@Mibac i tried too, but same things, cannot work, because inject in variable needs a <code>lateinit var</code> and <code>@JvmField</code> cannot annotate a lateinit field"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498655521, "post_id": 44802012, "comment_id": 76586882, "body": "Then run gradle with <code>build --debug --stacktrace</code> and paste the stacktrace so we can see what the error is"}, {"owner": {"reputation": 885, "user_id": 4947010, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-p7qc7MdO2mM/AAAAAAAAAAI/AAAAAAAAAQ8/6jG6kh1jKcI/photo.jpg?sz=128", "display_name": "MrLeblond", "link": "https://stackoverflow.com/users/4947010/mrleblond"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498655578, "post_id": 44802012, "comment_id": 76586929, "body": "@Mibac I also tried without <code>lateinit</code> but compiler and dagger does not appreciate that"}, {"owner": {"reputation": 885, "user_id": 4947010, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-p7qc7MdO2mM/AAAAAAAAAAI/AAAAAAAAAQ8/6jG6kh1jKcI/photo.jpg?sz=128", "display_name": "MrLeblond", "link": "https://stackoverflow.com/users/4947010/mrleblond"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498655831, "post_id": 44802012, "comment_id": 76587121, "body": "Ok I got this info : <code>TaskWorker cannot be provided without an @Inject constructor or from an @Provides-annotated method.</code>"}, {"owner": {"reputation": 885, "user_id": 4947010, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-p7qc7MdO2mM/AAAAAAAAAAI/AAAAAAAAAQ8/6jG6kh1jKcI/photo.jpg?sz=128", "display_name": "MrLeblond", "link": "https://stackoverflow.com/users/4947010/mrleblond"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498656174, "post_id": 44802012, "comment_id": 76587400, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/147826/discussion-between-mrleblond-and-mibac\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 885, "user_id": 4947010, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-p7qc7MdO2mM/AAAAAAAAAAI/AAAAAAAAAQ8/6jG6kh1jKcI/photo.jpg?sz=128", "display_name": "MrLeblond", "link": "https://stackoverflow.com/users/4947010/mrleblond"}, "edited": false, "score": 0, "creation_date": 1498657121, "post_id": 44803872, "comment_id": 76588135, "body": "Yes I&#39;m using kapt, but i had forgotten this annotationProcessor."}, {"owner": {"reputation": 885, "user_id": 4947010, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-p7qc7MdO2mM/AAAAAAAAAAI/AAAAAAAAAQ8/6jG6kh1jKcI/photo.jpg?sz=128", "display_name": "MrLeblond", "link": "https://stackoverflow.com/users/4947010/mrleblond"}, "edited": false, "score": 0, "creation_date": 1498657850, "post_id": 44803872, "comment_id": 76588764, "body": "But my &quot;hack&quot; to inject in static var by overriding getter not work"}], "tags": [], "owner": {"reputation": 3910, "user_id": 4103854, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EUnmsdTd6P4/AAAAAAAAAAI/AAAAAAAAAGI/TBEWqWgj0wo/photo.jpg?sz=128", "display_name": "Logain", "link": "https://stackoverflow.com/users/4103854/logain"}, "is_accepted": false, "score": 1, "last_activity_date": 1498656425, "creation_date": 1498656425, "answer_id": 44803872, "question_id": 44802012, "link": "https://stackoverflow.com/questions/44802012/dagger2-and-kotlin-run-failed-cause-by-appcompiledebugkotlinafterjava/44803872#44803872", "title": "Dagger2 and Kotlin run failed cause by :app:compileDebugKotlinAfterJava", "body": "<p>Make sure you are using:</p>\n\n<pre><code>kapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p>Due to some <a href=\"https://blog.jetbrains.com/kotlin/2015/06/better-annotation-processing-supporting-stubs-in-kapt/\" rel=\"nofollow noreferrer\">limitations on kapt</a></p>\n\n<p>Or just try with:</p>\n\n<pre><code>annotationProcessor 'com.google.dagger:dagger-compiler:2.11'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "is_accepted": false, "score": 0, "last_activity_date": 1498658231, "creation_date": 1498658231, "answer_id": 44804600, "question_id": 44802012, "link": "https://stackoverflow.com/questions/44802012/dagger2-and-kotlin-run-failed-cause-by-appcompiledebugkotlinafterjava/44804600#44804600", "title": "Dagger2 and Kotlin run failed cause by :app:compileDebugKotlinAfterJava", "body": "<p>You don't need this.</p>\n\n<pre><code>kapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p>Just apply the plugin:</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>and add the dependencies:</p>\n\n<pre><code>compile androidDependencies.dagger2\ncompile androidDependencies.dagger2Android\nkapt androidDependencies.dagger2Kapt\n</code></pre>\n\n<p>sometimes the tasks fail with errors like that. Try to <code>clean</code> and as last resort use <code>invalidate and restart</code>. Most of the times it works.</p>\n"}], "owner": {"reputation": 885, "user_id": 4947010, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-p7qc7MdO2mM/AAAAAAAAAAI/AAAAAAAAAQ8/6jG6kh1jKcI/photo.jpg?sz=128", "display_name": "MrLeblond", "link": "https://stackoverflow.com/users/4947010/mrleblond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 326, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1498660443, "creation_date": 1498651772, "last_edit_date": 1592644375, "question_id": 44802012, "link": "https://stackoverflow.com/questions/44802012/dagger2-and-kotlin-run-failed-cause-by-appcompiledebugkotlinafterjava", "title": "Dagger2 and Kotlin run failed cause by :app:compileDebugKotlinAfterJava", "body": "<p>I'm trying to implement Dagger 2 in a test app to learn Clean Architecture and dependancy injection in Kotlin language.</p>\n<blockquote>\n<p><strong>EDIT :</strong><br />\nI can compile thanks to @Logain, but I have always the static member problem with Dagger in my singleton (see below my <em>TaskWorker</em>), so I'm looking for how can I fix this error</p>\n</blockquote>\n<p>But i got a problem, my DaggerComponent is well generated when i do a <em>rebuild</em>, but not when i want to run my app for testing, it fails and disappears. It fails with this error :</p>\n<blockquote>\n<p>Error:(21, 29) Unresolved reference: DaggerInjectorComponent</p>\n<p>Error:Execution failed for task ':app:compileDebugKotlinAfterJava'.</p>\n<p>&gt; Compilation error. See log for more details</p>\n</blockquote>\n<p>While when i do a rebuild, this task is passed correctly</p>\n<pre><code>:app:compileDebugKotlinAfterJava\n</code></pre>\n<p>So i don't understand why it fails.</p>\n<p>Here is my <strong>InjectorComponent</strong> :</p>\n<pre><code>@Singleton\n@Component(modules = arrayOf(ContextDaggerModule::class, LocalStoreDaggerModule::class))\ninterface InjectorComponent {\n\n    fun inject(realmLocalStore: RealmLocalStore)\n\n    fun inject(taskWorker: TaskWorker)\n\n}\n</code></pre>\n<p><strong>ContectDaggerModule</strong> :</p>\n<pre><code>@Module\nclass ContextDaggerModule (val app: Application) {\n\n    @Provides\n    @Singleton\n    fun provideContext(): Context = app\n\n    @Provides\n    @Singleton\n    fun provideApplication(): Application = app\n\n    @Provides\n    @Singleton\n    fun provideResources(): Resources = app.resources\n\n}\n</code></pre>\n<p><strong>LocalStoreDaggerModule</strong> :</p>\n<pre><code>@Module\nclass LocalStoreDaggerModule {\n\n    @Provides\n    @Singleton\n    fun provideLocalStore(context: Context): LocalStore {\n        return RealmLocalStore(context)\n    }\n\n}\n</code></pre>\n<p>I think the problem is caused because I inject dependencies in <a href=\"http://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"nofollow noreferrer\">Object-declarations</a> but all elements are static and Dagger does not appreciate it.\nSo, i try to hack it with a simple override getter and injecting data but nop.</p>\n<p>Here is my &quot;hack&quot; :</p>\n<pre><code>object TaskWorker {\n\n    // @Inject lateinit var localStore: LocalStore\n    // Not work cause it's a static variable\n\n    var localStore: LocalStore? = null\n        @Inject\n        get() = localStore\n\n    // some cool function\n}\n</code></pre>\n<p>I follow this <a href=\"https://github.com/juanchosaravia/KedditBySteps\" rel=\"nofollow noreferrer\">code</a> and this <a href=\"http://www.andevcon.com/news/keddit-part-10-kotlin-dagger-2-dependency-injection\" rel=\"nofollow noreferrer\">tutorial</a></p>\n<p>I use these dependencies :</p>\n<pre><code>//  Dagger2\n    compile 'com.google.dagger:dagger:2.11'\n    kapt 'com.google.dagger:dagger-compiler:2.11'\n    provided 'org.glassfish:javax.annotation:10.0-b28'\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 296034, "user_id": 829571, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/zflGZ.png?s=128&g=1", "display_name": "assylias", "link": "https://stackoverflow.com/users/829571/assylias"}, "edited": false, "score": 2, "creation_date": 1498650677, "post_id": 44801587, "comment_id": 76583036, "body": "The same as a <code>public class Empty { }</code> in Java?"}], "answers": [{"comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1498651099, "post_id": 44801738, "comment_id": 76583358, "body": "And, <code>data class MyDataClass(...)</code>"}], "tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": true, "score": 14, "last_activity_date": 1498654861, "last_edit_date": 1498654861, "creation_date": 1498651057, "answer_id": 44801738, "question_id": 44801587, "link": "https://stackoverflow.com/questions/44801587/kotlin-what-is-the-use-of-class-without-body/44801738#44801738", "title": "Kotlin - What is the use of class without body?", "body": "<p>You can use it for some custom exceptions: </p>\n\n<pre><code>class Empty : Exception()\n</code></pre>\n\n<p>or as a <a href=\"https://en.wikipedia.org/wiki/Marker_interface_pattern\" rel=\"noreferrer\">marker interface</a>: </p>\n\n<pre><code>interface Empty\n</code></pre>\n\n<p>or as a <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"noreferrer\">data class</a>:</p>\n\n<pre><code>data class Empty(val s: String)\n</code></pre>\n\n<p>or as a <a href=\"https://codescracker.com/java/java-marker-annotations.htm\" rel=\"noreferrer\">marker annotation</a>:</p>\n\n<pre><code>annotation class Empty\n</code></pre>\n\n<p>~ <em>That's a good <a href=\"https://stackoverflow.com/a/28090353/7637657\">post</a> to read.</em></p>\n"}, {"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 3, "last_activity_date": 1498652842, "last_edit_date": 1498652842, "creation_date": 1498651395, "answer_id": 44801883, "question_id": 44801587, "link": "https://stackoverflow.com/questions/44801587/kotlin-what-is-the-use-of-class-without-body/44801883#44801883", "title": "Kotlin - What is the use of class without body?", "body": "<p>Kotlin allows to declare any type without body, for example:</p>\n\n<pre><code>interface Interface;\n\nclass Class;\n\nannotation class Annotation;\n\nsealed class SealedClass;\n\ndata class DataClass(var value: String);\n\nobject ObjectClass;\n\nenum class EnumClass;\n\nclass CompanionClass {\n    companion object\n}\n</code></pre>\n\n<p>the usage of each definition can be described as below:</p>\n\n<ul>\n<li>interface - as a <a href=\"https://stackoverflow.com/questions/25850328/marker-interfaces-in-java\">marker interface</a>.</li>\n<li>annotation - describe the annotated type has some ability. e.g: junit4 <code>@Before</code> and <code>@After</code> annotations.</li>\n<li>object - it often present as a token or a lock or a placeholder and .etc. e.g: <code>synchronized(lock){ /*thread safe working*/ }</code></li>\n<li>data class - quickly define a java <a href=\"https://en.wikipedia.org/wiki/Plain_old_Java_object\" rel=\"nofollow noreferrer\">POJO</a> class with <code>getters</code>, <code>setters</code>? , <code>equals</code>, <code>hashCode</code>, <code>toString</code> and <code>componentN</code> operators for destructuring in kotlin.</li>\n<li>others - they are meaningless, just are the language syntax.</li>\n</ul>\n"}], "owner": {"reputation": 1420, "user_id": 7333260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KGUpL.png?s=128&g=1", "display_name": "paril", "link": "https://stackoverflow.com/users/7333260/paril"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2045, "favorite_count": 1, "accepted_answer_id": 44801738, "answer_count": 2, "score": 8, "last_activity_date": 1498654861, "creation_date": 1498650638, "question_id": 44801587, "link": "https://stackoverflow.com/questions/44801587/kotlin-what-is-the-use-of-class-without-body", "title": "Kotlin - What is the use of class without body?", "body": "<p>In Kotlin both the header and the body are optional; if the class has no body, curly braces can be omitted.</p>\n\n<p>So we can define class like,</p>\n\n<pre><code>class Empty\n</code></pre>\n\n<p>What is the use of this type of class?</p>\n"}, {"tags": ["android", "kotlin", "android-studio-3.0"], "answers": [{"tags": [], "owner": {"reputation": 1033, "user_id": 6628878, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5IHTc.jpg?s=128&g=1", "display_name": "MedAmine.Rihane", "link": "https://stackoverflow.com/users/6628878/medamine-rihane"}, "is_accepted": true, "score": 0, "last_activity_date": 1498651238, "creation_date": 1498651238, "answer_id": 44801813, "question_id": 44800967, "link": "https://stackoverflow.com/questions/44800967/missing-classes-in-android-studio-3-0-canary-4-ui-preview/44801813#44801813", "title": "Missing classes in android studio 3.0 canary 4 ui preview", "body": "<p>its a bug on android studio Canary 4 you need just to use Canary 1 until they fix it ! :) </p>\n"}], "owner": {"reputation": 427, "user_id": 3586048, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/80d950570f4678ff949924a2ce62c9e3?s=128&d=identicon&r=PG&f=1", "display_name": "Sanne", "link": "https://stackoverflow.com/users/3586048/sanne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 477, "favorite_count": 0, "accepted_answer_id": 44801813, "answer_count": 1, "score": 0, "last_activity_date": 1498651238, "creation_date": 1498648753, "question_id": 44800967, "link": "https://stackoverflow.com/questions/44800967/missing-classes-in-android-studio-3-0-canary-4-ui-preview", "title": "Missing classes in android studio 3.0 canary 4 ui preview", "body": "<p>I'm getting the error that there are classes missing in my XML previewer. So I cannot see my layout in the preview but when I run the app I can see everything just fine.</p>\n\n<p>The classes are inside a module within my android studio project and are included like so:</p>\n\n<pre><code>dependencies {\n    compile project(\":styleguide\")\n}\n</code></pre>\n\n<p>And used in the XML like this:</p>\n\n<pre><code>&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:custom=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_marginTop=\"64dp\"\n    android:orientation=\"vertical\"&gt;\n\n        &lt;com.company.packagename.buttons.SecondaryButtonLink\n            android:layout_height=\"wrap_content\"\n            android:layout_width=\"match_parent\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>And the button looks like this:</p>\n\n<pre><code>&lt;merge xmlns:android=\"http://schemas.android.com/apk/res/android\"\n          android:id=\"@+id/base_secondary_button_link_ll\"\n          android:layout_width=\"match_parent\"\n          android:layout_height=\"@dimen/button_height\"\n          android:clickable=\"true\"\n          style=\"@style/SelectableItemBackground\"\n          android:orientation=\"horizontal\"&gt;\n\n    &lt;com.company.packagename.textviews.LabelTextView\n        android:id=\"@+id/secondary_button_link_title_tv\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"center_vertical\"\n        android:textColor=\"@drawable/selector_secondary_button_link\"\n        android:drawableRight=\"@drawable/arrow_light_blue\"\n        android:drawablePadding=\"@dimen/button_icon_left_margin\"/&gt;\n\n&lt;/merge&gt;\n</code></pre>\n\n<p>And the code behind the button class is like this:</p>\n\n<pre><code>class SecondaryButtonLink @JvmOverloads constructor(\n        context: Context, attrs: AttributeSet? = null, defStyleAttr: Int = 0\n) : LinearLayout(context, attrs, defStyleAttr) {\n    init {\n        initializeView(attrs)\n    }\n\n    private fun initializeView(attrs: AttributeSet?) {\n        val inflater = context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        inflater.inflate(R.layout.secondary_button_link, this)\n\n        if (attrs == null) return\n        checkForImage(attrs)\n        val typedArray = context.obtainStyledAttributes(attrs, R.styleable.StyleGuideButton)\n        if (typedArray.hasValue(R.styleable.StyleGuideButton_title)) {\n            setButtonTitle(typedArray)\n        }\n\n    }\n\n    private fun setButtonTitle(typedArray: TypedArray) {\n        for (i in 0..typedArray.indexCount - 1) {\n            val attr = typedArray.getIndex(i)\n            if (attr == R.styleable.StyleGuideButton_title) {\n                secondary_button_link_title_tv.text = typedArray.getString(attr)\n            }\n        }\n    }\n\n    private fun checkForImage(attrs: AttributeSet){\n        val typedArray = context.obtainStyledAttributes(attrs, R.styleable.SecondaryButtonLink)\n        if (typedArray.hasValue(R.styleable.SecondaryButtonLink_rightimage)) {\n            setImage(typedArray)\n        }\n    }\n\n    private fun setImage(typedArray: TypedArray){\n        for (i in 0..typedArray.indexCount - 1) {\n            val attr = typedArray.getIndex(i)\n            if (attr == R.styleable.SecondaryButtonLink_rightimage) {\n                secondary_button_link_title_tv.setCompoundDrawablesWithIntrinsicBounds(null, null, typedArray.getDrawable(attr),null)\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I cannot seem to pin point why it is not showing up in the previewer. Does anyone have an idea why is doesn't show up?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 11620, "user_id": 2580975, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ccedad3e932e4c921598394c3626663f?s=128&d=identicon&r=PG&f=1", "display_name": "Shayan Pourvatan", "link": "https://stackoverflow.com/users/2580975/shayan-pourvatan"}, "edited": false, "score": 3, "creation_date": 1498647354, "post_id": 44800502, "comment_id": 76580848, "body": "add <code>, NonHindiQurary</code> after <code>AppCompatActivity()</code> before class body"}, {"owner": {"reputation": 1877, "user_id": 5727285, "user_type": "registered", "accept_rate": 19, "profile_image": "https://i.stack.imgur.com/AwYFr.jpg?s=128&g=1", "display_name": "Hamza", "link": "https://stackoverflow.com/users/5727285/hamza"}, "reply_to_user": {"reputation": 11620, "user_id": 2580975, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ccedad3e932e4c921598394c3626663f?s=128&d=identicon&r=PG&f=1", "display_name": "Shayan Pourvatan", "link": "https://stackoverflow.com/users/2580975/shayan-pourvatan"}, "edited": false, "score": 0, "creation_date": 1498647617, "post_id": 44800502, "comment_id": 76581043, "body": "now i getting this error   kotlin.NotImplementedError: An operation is not implemented: not implemented"}, {"owner": {"reputation": 11620, "user_id": 2580975, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ccedad3e932e4c921598394c3626663f?s=128&d=identicon&r=PG&f=1", "display_name": "Shayan Pourvatan", "link": "https://stackoverflow.com/users/2580975/shayan-pourvatan"}, "edited": false, "score": 0, "creation_date": 1498647682, "post_id": 44800502, "comment_id": 76581080, "body": "you must implement interface methods in your class, you&#39;ve get this error because <code>MainActivity</code> must implement <code>void onNonHindiQuraryRecived(String Queary)</code>; or set your class as abstract. but you need first way"}, {"owner": {"reputation": 1877, "user_id": 5727285, "user_type": "registered", "accept_rate": 19, "profile_image": "https://i.stack.imgur.com/AwYFr.jpg?s=128&g=1", "display_name": "Hamza", "link": "https://stackoverflow.com/users/5727285/hamza"}, "reply_to_user": {"reputation": 11620, "user_id": 2580975, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ccedad3e932e4c921598394c3626663f?s=128&d=identicon&r=PG&f=1", "display_name": "Shayan Pourvatan", "link": "https://stackoverflow.com/users/2580975/shayan-pourvatan"}, "edited": false, "score": 0, "creation_date": 1498648334, "post_id": 44800502, "comment_id": 76581467, "body": "i implemented interface , then i get this error"}, {"owner": {"reputation": 1877, "user_id": 5727285, "user_type": "registered", "accept_rate": 19, "profile_image": "https://i.stack.imgur.com/AwYFr.jpg?s=128&g=1", "display_name": "Hamza", "link": "https://stackoverflow.com/users/5727285/hamza"}, "reply_to_user": {"reputation": 11620, "user_id": 2580975, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ccedad3e932e4c921598394c3626663f?s=128&d=identicon&r=PG&f=1", "display_name": "Shayan Pourvatan", "link": "https://stackoverflow.com/users/2580975/shayan-pourvatan"}, "edited": false, "score": 0, "creation_date": 1498648387, "post_id": 44800502, "comment_id": 76581503, "body": "this is how i did it class MainActivity : AppCompatActivity(),NonHindiQurary"}], "answers": [{"comments": [{"owner": {"reputation": 11571, "user_id": 1830228, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/8Yfo5.png?s=128&g=1", "display_name": "DolDurma", "link": "https://stackoverflow.com/users/1830228/doldurma"}, "edited": false, "score": 0, "creation_date": 1500954385, "post_id": 44800999, "comment_id": 77548871, "body": "@Alexander Romanov could you help me on this topic: <a href=\"https://stackoverflow.com/q/45293506/1830228\">stackoverflow.com/q/45293506/1830228</a>"}, {"owner": {"reputation": 8310, "user_id": 1717036, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/B2a6K.jpg?s=128&g=1", "display_name": "Qadir Hussain", "link": "https://stackoverflow.com/users/1717036/qadir-hussain"}, "edited": false, "score": 0, "creation_date": 1513948089, "post_id": 44800999, "comment_id": 82853562, "body": "What rubbish. why they do such stupid things :) BTW this worked. thanks"}], "tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": true, "score": 26, "last_activity_date": 1499770764, "last_edit_date": 1499770764, "creation_date": 1498648844, "answer_id": 44800999, "question_id": 44800502, "link": "https://stackoverflow.com/questions/44800502/implementing-java-interface-in-kotlin/44800999#44800999", "title": "Implementing Java interface in Kotlin", "body": "<p>It's simple:</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), NonHindiQuery {\n    override fun onNonHindiQueryReceived(q: String) {\n        // &lt;...&gt;\n    }\n}\n</code></pre>\n\n<p>To get rid of <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-not-implemented-error/index.html#notimplementederror\" rel=\"noreferrer\"><code>kotlin.NotImplementedError</code></a> remove <code>TODO(\"not implemented\")</code> from the method body:</p>\n\n<pre><code>@kotlin.internal.InlineOnly\npublic inline fun TODO(reason: String): Nothing = \n    throw NotImplementedError(\"An operation is not implemented: $reason\")\n</code></pre>\n"}], "owner": {"reputation": 1877, "user_id": 5727285, "user_type": "registered", "accept_rate": 19, "profile_image": "https://i.stack.imgur.com/AwYFr.jpg?s=128&g=1", "display_name": "Hamza", "link": "https://stackoverflow.com/users/5727285/hamza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6845, "favorite_count": 0, "accepted_answer_id": 44800999, "answer_count": 1, "score": 4, "last_activity_date": 1598194875, "creation_date": 1498647294, "last_edit_date": 1598194875, "question_id": 44800502, "link": "https://stackoverflow.com/questions/44800502/implementing-java-interface-in-kotlin", "title": "Implementing Java interface in Kotlin", "body": "<p>I have a <strong>Java</strong> interface:</p>\n<pre><code>public interface NonHindiQuery {\n    void onNonHindiQueryReceived(String Query);\n}\n</code></pre>\n<p>I want to implement it on <strong>Kotlin</strong> class:</p>\n<pre><code>class MainActivity : AppCompatActivity() {...}\n</code></pre>\n<p><strong>Q:</strong> How can I do it?</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 3, "last_activity_date": 1498730786, "last_edit_date": 1498730786, "creation_date": 1498650930, "answer_id": 44801687, "question_id": 44800225, "link": "https://stackoverflow.com/questions/44800225/variable-is-declared-as-var-but-compiler-is-saying-it-val/44801687#44801687", "title": "Variable is declared as var but compiler is saying it val", "body": "<p>Seems like a bug in the static code analysis or it may be caused by incremental compiling. Try to rebuild/clean the project.</p>\n\n<p>Or try this:</p>\n\n<pre><code>private fun getMainView(): View {\n    return with(context) {\n        frameLayout {\n           rcv = null\n        }\n    }\n}\n</code></pre>\n\n<p>If the compilation works now, add back your original code and compile again.</p>\n"}], "owner": {"reputation": 457, "user_id": 8182960, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1f2d11d0f72f8c9057b4462a6186e0c5?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8182960/rahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 534, "favorite_count": 0, "accepted_answer_id": 44801687, "answer_count": 1, "score": 0, "last_activity_date": 1498730786, "creation_date": 1498646506, "last_edit_date": 1498648076, "question_id": 44800225, "link": "https://stackoverflow.com/questions/44800225/variable-is-declared-as-var-but-compiler-is-saying-it-val", "title": "Variable is declared as var but compiler is saying it val", "body": "<p>Compiler is giving me the error</p>\n\n<blockquote>\n  <p>Error:(97, 17) Val cannot be reassigned</p>\n</blockquote>\n\n<p>but the variable is declared as <code>var</code>.</p>\n\n<p><strong>Edit:</strong> You can see comments in my code. When i assign <strong>rcv = recyclerView</strong> and<br>\n <strong>chkStrictSearch = checkBox</strong> I get red underline here with above error message tooltip</p>\n\n<p>Below is my code:  </p>\n\n<pre><code>private var rcv: RecyclerView? = null\nprivate var chkStrictSearch: android.widget.CheckBox? = null  \n\nprivate fun getMainView(): View{\n    return with(context){\n        frameLayout{\n            lparams(width = matchParent, height = matchParent)\n            //Error is below - val cannot be reassign\n            rcv = recyclerView{\n                lparams(width = matchParent, height = matchParent)\n                setPadding(0, resources.getDimension(R.dimen.toolbar_height).toInt(), 0, dip(48))\n                clipToPadding = false\n            }\n           //and here - val cannot be reassign\n            chkStrictSearch = checkBox{\n                text = \"Strict Search\"\n            }.lparams(width = wrapContent, height = wrapContent){\n                marginEnd = dip(24)\n                bottomMargin = dip(50)\n                gravity = Gravity.BOTTOM\n            }\n        }\n    }\n}  \n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "retrofit", "retrofit2"], "comments": [{"owner": {"reputation": 1541, "user_id": 964411, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/cb9a1fdfa05b19757e92451f14aa9985?s=128&d=identicon&r=PG", "display_name": "SripadRaj", "link": "https://stackoverflow.com/users/964411/sripadraj"}, "edited": false, "score": 0, "creation_date": 1498646579, "post_id": 44800204, "comment_id": 76580300, "body": "call the A2 when A1 returns success in <code>onResponse()</code> of A1. Call A3 in A2 <code>onResponse()</code> and so on.."}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "reply_to_user": {"reputation": 1541, "user_id": 964411, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/cb9a1fdfa05b19757e92451f14aa9985?s=128&d=identicon&r=PG", "display_name": "SripadRaj", "link": "https://stackoverflow.com/users/964411/sripadraj"}, "edited": false, "score": 0, "creation_date": 1498646792, "post_id": 44800204, "comment_id": 76580444, "body": "These requests uses same Java interface and differ only by parameters they take which are contained in ArrayList."}], "answers": [{"comments": [{"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1517343572, "post_id": 44800401, "comment_id": 84055022, "body": "can you post full example?"}], "tags": [], "owner": {"reputation": 2776, "user_id": 4038820, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-ReZtfniYigs/AAAAAAAAAAI/AAAAAAAAAD0/7FMo2Efir-g/photo.jpg?sz=128", "display_name": "RoShan Shan", "link": "https://stackoverflow.com/users/4038820/roshan-shan"}, "is_accepted": false, "score": 0, "last_activity_date": 1498647040, "creation_date": 1498647040, "answer_id": 44800401, "question_id": 44800204, "link": "https://stackoverflow.com/questions/44800204/multiple-similar-requests-in-sequence-in-retrofit/44800401#44800401", "title": "Multiple similar requests in sequence in retrofit", "body": "<p>You can do this easily by using <strong>zip function</strong> in Rx (For ex: each request in retrofit 2 return <code>Observable&lt;Object&gt;</code>). It will run request sequentially. You can try my codes below:</p>\n\n<pre><code>public Observable buildCombineObserverable() {\n        List&lt;Observable&lt;Object&gt;&gt; observables = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; number_of_your_request; i++) {\n            observables.add(your_each_request_with_retrofit);\n        }\n\n        return Observable.zip(observables, new FuncN&lt;Object&gt;() {\n            @Override\n            public Object call(Object... args) {\n                return args;\n            }\n        });\n    }\n</code></pre>\n\n<p>You can subscribe this Observable and get data from all requests. Zip function will do request sequentially but zip data and return data as <code>Object...</code> </p>\n"}, {"comments": [{"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1517911363, "post_id": 48535273, "comment_id": 84276948, "body": "Please add some more details. Thank you very much."}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "reply_to_user": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1517919798, "post_id": 48535273, "comment_id": 84282463, "body": "@MalwinderSingh what more info do you need?"}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1517921054, "post_id": 48535273, "comment_id": 84283245, "body": "I am new to Rx. Can you please explain the complete meaning of integration along with example? With method meanings? Thanks"}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "reply_to_user": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1517922947, "post_id": 48535273, "comment_id": 84284433, "body": "@MalwinderSingh, see performed changes."}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1520514621, "post_id": 48535273, "comment_id": 85352701, "body": "Retrofit&#39;s <code>Call</code> cannot be converted to <code>Completable</code>. error is coming."}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "reply_to_user": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1520516919, "post_id": 48535273, "comment_id": 85354287, "body": "@MalwinderSingh, it can if you <a href=\"https://github.com/square/retrofit/tree/master/retrofit-adapters/rxjava\" rel=\"nofollow noreferrer\">apply <code>RxJavaCallAdapterFactory</code></a> to retrofit."}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1520521504, "post_id": 48535273, "comment_id": 85357677, "body": "I added `           addCallAdapterFactory(RxJavaCallAdapterFactory.create()) ` Still there is no method with name <code>.toCompletable()</code>"}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1520678332, "post_id": 48535273, "comment_id": 85420887, "body": "But how to handle the response? I want to store the response of every call. And how to add a condition that if a call fails, then no new call should be made."}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1521231834, "post_id": 48535273, "comment_id": 85659840, "body": "Please provide answer to above question. How to handle response?"}], "tags": [], "owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "is_accepted": true, "score": 3, "last_activity_date": 1517922927, "last_edit_date": 1517922927, "creation_date": 1517377641, "answer_id": 48535273, "question_id": 44800204, "link": "https://stackoverflow.com/questions/44800204/multiple-similar-requests-in-sequence-in-retrofit/48535273#48535273", "title": "Multiple similar requests in sequence in retrofit", "body": "<p>The problem can be easily solved with <a href=\"https://github.com/ReactiveX/RxJava/wiki\" rel=\"nofollow noreferrer\">RxJava</a>.</p>\n\n<p>Assuming you have a retrofit <code>Api</code> class, that returns a <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/Completable.html\" rel=\"nofollow noreferrer\"><code>Completable</code></a>:</p>\n\n<pre>\n<code>\n    interface Api {\n      @GET(...)\n      fun getUser(id: String): Completable\n    }\n</code>\n</pre>\n\n<p>Then you can perform this:</p>\n\n<pre>\n<code>\n    // Create a stream, that emits each item from the list, in this case \"param1\" continued with \"param2\" and then \"param3\"\n    Observable.fromIterable(listOf(\"param1\", \"param2\", \"param3\"))\n      // we are converting `Observable` stream into `Completable`\n      // also we perform request here: first time parameter `it` is equal to \"param1\", so a request is being made with \"param1\"\n      // execution will halt here until responce is received. If response is successful, only then a call with second param (\"param2\") will be executed\n      // then the same again with \"param3\"\n      .flatMapCompletable { api.getUser(it) }\n      // we want request to happen on a background thread\n      .subscribeOn(Schedulers.io())\n      // we want to be notified about completition on UI thread\n      .observeOn(AndroidSchedulers.mainThread())\n      // here we'll get notified, that operation has either successfully performed OR failed for some reason (specified by `Throwable it`)\n      .subscribe({ println(\"completed\") }, { println(it.message) })\n</code>\n</pre>\n\n<p>If your retrofit API does not return a <code>Completable</code>, then change <code>api.getUser(it)</code> to <code>api.getUser(it).toCompletable()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 4189, "user_id": 2855059, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/tZXSk.jpg?s=128&g=1", "display_name": "M D P", "link": "https://stackoverflow.com/users/2855059/m-d-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1517435717, "last_edit_date": 1517435717, "creation_date": 1517434464, "answer_id": 48551821, "question_id": 44800204, "link": "https://stackoverflow.com/questions/44800204/multiple-similar-requests-in-sequence-in-retrofit/48551821#48551821", "title": "Multiple similar requests in sequence in retrofit", "body": "<p>Ok, I don't know about Retrofit, I use loopj's library, but the concept is the same. they both have a method for success and a method for failure. so here is my general suggestion:</p>\n\n<pre><code>    ArrayList&lt;MyRequest&gt; requests = new ArrayList&lt;&gt;();\n    int        numberOfRequests = 10;\n    JSONObject params           = null;\n    try{\n        params = new JSONObject(\"{\\\"key\\\":\\\"value\\\"}\");\n    }catch(JSONException e){\n        e.printStackTrace();\n    }\n    MyRequest firstRequest = new MyRequest();\n    requests.add(firstRequest);\n    for(int i = 0; i &lt; numberOfRequests; i++){\n        MyRequest myRequest = new MyRequest();\n        requests.get(requests.size() - 1).addNextRequest(myRequest);\n        myRequest.addPreviousRequest(requests.get(requests.size() - 1));\n        //don't invoke sendRequest before addNextRequest\n        requests.get(requests.size() - 1).sendRequest(params, \"example.com\", App.context);\n        requests.add(myRequest);\n    }\n    requests.get(requests.size() - 1).sendRequest(params, \"example.com\", App.context);\n</code></pre>\n\n<p>and the MyRequest class:</p>\n\n<pre><code>import android.content.Context;\nimport com.loopj.android.http.AsyncHttpClient;\nimport com.loopj.android.http.AsyncHttpResponseHandler;\nimport org.json.JSONObject;\nimport cz.msebera.android.httpclient.Header;\nimport cz.msebera.android.httpclient.entity.StringEntity;\n\npublic class MyRequest{\n\nprivate Object result, nextRequestsResult;\n\nprivate MyRequest nextRequest, previousRequest;\n\npublic void addNextRequest(MyRequest nextRequest){\n    this.nextRequest = nextRequest;\n}\n\npublic void addPreviousRequest(MyRequest previousRequest){\n    this.previousRequest = previousRequest;\n}\n\npublic void sendRequest(JSONObject parameters, String url, Context ctx){\n    AsyncHttpClient mClient     = new AsyncHttpClient();\n    StringEntity    entity      = new StringEntity(parameters.toString(), \"UTF-8\");\n    String          contentType = \"application/json\";\n    mClient.post(ctx, url, entity, contentType,\n                 new AsyncHttpResponseHandler(){\n\n                     private void sendResult(Object... results){\n                         MyRequest.this.result = results;\n                         if(previousRequest != null){\n                             if(nextRequest != null){\n                                 if( nextRequestsResult != null){\n                                     previousRequest.onResult(results, nextRequestsResult);\n                                 }else{\n                                     //next request's result is not ready yet\n                                     //so we don't do anything here. When nextRequestsResult\n                                     //gets ready, it will invoke this request's onResult\n                                 }\n                             }else {\n                                 //nextRequest == null means this the last request\n                                 previousRequest.onResult(results);\n                             }\n                         }else{\n                             //previousRequest == null means this is the first request\n                             if(nextRequest != null){\n                                 if(nextRequestsResult != null){\n                                     previousRequest.onResult(results, nextRequestsResult);\n                                 }else{\n                                     //next request's result is not ready yet\n                                     //so we don't do anything here. When nextRequestsResult\n                                     //gets ready, it will invoke this request's onResult\n                                 }\n                             }else{\n                                 //next request and previous request are null so it means\n                                 //this is the only request, so this is the final destination\n                                 doFinalJobWithResults(results);\n                             }\n                         }\n                     }\n\n                     @Override\n                     public void onSuccess(final int statusCode, final Header[] headers,\n                                           final byte[] responseBody){\n                         sendResult(responseBody, true, null, false);//whatever\n                     }\n\n                     @Override\n                     public void onFailure(final int statusCode, final Header[] headers,\n                                           final byte[] responseBody,\n                                           final Throwable error){\n                         sendResult(responseBody, error);//or just sendResult();\n                     }\n                 });\n}\n\n/**\n This method should be invoked only by next request\n\n @param nextRequestsResult\n results of the next request which this request is expecting.\n */\nprivate void onResult(Object... nextRequestsResult){\n    this.nextRequestsResult = nextRequestsResult;\n    //do whatever you want with the result of next requests here\n    if(previousRequest != null){\n        if(result != null){\n            previousRequest.onResult(result, this.nextRequestsResult);\n        }\n    }else{\n        //if it doesn't have previous request then it means this is the first request\n        //so since this method gets invoked only by next request then it means\n        //all of the next requests have done their job and this is the final destination\n        if(nextRequestsResult != null){\n            if(this.result != null){\n                doFinalJobWithResults(nextRequestsResult, this.result);\n            }\n        }\n    }\n}\n\nprivate void doFinalJobWithResults(Object... results){\n    //whatever\n}\n}\n</code></pre>\n\n<p>It's a general purpose class, you can send hundreds of network requests simultaneously but their results will be processed in sequence.\nThis way for example 100 requests will be sent to the server but it takes the time of one request to get all responses of them and process.</p>\n\n<p>I haven't tested this code at all, it may have some bugs and mistakes, I wrote it just for this question only to give an idea. </p>\n"}], "owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3466, "favorite_count": 2, "accepted_answer_id": 48535273, "answer_count": 3, "score": 6, "last_activity_date": 1575604432, "creation_date": 1498646406, "last_edit_date": 1575604432, "question_id": 44800204, "link": "https://stackoverflow.com/questions/44800204/multiple-similar-requests-in-sequence-in-retrofit", "title": "Multiple similar requests in sequence in retrofit", "body": "<p>Is there any way to execute multiple requests in sequence in Retrofit?</p>\n\n<p>These requests uses same Java interface and differ only by parameters they take which are contained in <code>ArrayList</code>.</p>\n\n<p>For requests A1, A2, A3, A4, A5...... An</p>\n\n<ol>\n<li><p>Hit A1,</p></li>\n<li><p><code>onResponse()</code> of A1 is called</p></li>\n<li><p>Hit A2,</p></li>\n<li><p><code>onResponse()</code> of A2 is called</p></li>\n<li><p>Hit A3\n.</p></li>\n</ol>\n\n<p>.</p>\n\n<p>.</p>\n\n<p>.</p>\n\n<p>.</p>\n\n<p>.\n<code>onResponse()</code> of An is called.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-extension"], "answers": [{"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": false, "score": 21, "last_activity_date": 1498641848, "creation_date": 1498641848, "answer_id": 44798539, "question_id": 44798440, "link": "https://stackoverflow.com/questions/44798440/cannot-resolve-string-supplied-to-vararg-parameter-in-extension-function/44798539#44798539", "title": "Cannot resolve string supplied to vararg parameter in extension function", "body": "<p>Use the <a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"noreferrer\">spread</a> operator:</p>\n\n<pre><code>fun Activity.showToast(textResId: Int, vararg formatArgs: String) {\n    val text = getString(textResId, *formatArgs)\n    Toast.makeText(this, text, Toast.LENGTH_SHORT).show()\n}\n</code></pre>\n\n<p>Currently, you're passing an array as the format argument. By using the spread operator you pass the contents of the array as the format argument.</p>\n"}, {"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1498642226, "post_id": 44798552, "comment_id": 76577402, "body": "why the same answer without any up-vote? +1, maybe you are a bit late. :)"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1498642333, "post_id": 44798552, "comment_id": 76577478, "body": "Oh, I didn&#39;t see the other one yet, I was on mobile. I&#39;ll leave this up just in case the explanation about the type helps anyone."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1498642438, "post_id": 44798552, "comment_id": 76577552, "body": "I know. all of the answers almost were published at the same time."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 13, "last_activity_date": 1498641877, "creation_date": 1498641877, "answer_id": 44798552, "question_id": 44798440, "link": "https://stackoverflow.com/questions/44798440/cannot-resolve-string-supplied-to-vararg-parameter-in-extension-function/44798552#44798552", "title": "Cannot resolve string supplied to vararg parameter in extension function", "body": "<p>You should use the <a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"noreferrer\">spread operator</a> to pass in the varargs to the <code>getString</code> function:</p>\n\n<pre><code>val text = getString(textResId, *formatArgs)\n</code></pre>\n\n<p>This is because the type of <code>formatArgs</code> inside the <code>showToast</code> function is <code>Array&lt;String&gt;</code> (there's no <code>vararg</code> type or anything like that), and if you pass that in without the <code>*</code>, you'll only pass a single parameter, which will be the array instead of its contents.</p>\n"}], "owner": {"reputation": 1413, "user_id": 6020904, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh4.googleusercontent.com/-A7hKj0_djRA/AAAAAAAAAAI/AAAAAAAAA5Q/a2W-17Kld4A/photo.jpg?sz=128", "display_name": "Yuriy Seredyuk", "link": "https://stackoverflow.com/users/6020904/yuriy-seredyuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2375, "favorite_count": 3, "answer_count": 2, "score": 10, "last_activity_date": 1498641877, "creation_date": 1498641582, "question_id": 44798440, "link": "https://stackoverflow.com/questions/44798440/cannot-resolve-string-supplied-to-vararg-parameter-in-extension-function", "title": "Cannot resolve string supplied to vararg parameter in extension function", "body": "<p><strong>strings.xml</strong></p>\n\n<pre><code>&lt;string name=\"my_string\"&gt;Showing your number: %1$s&lt;/string&gt;\n</code></pre>\n\n<p><strong>ActivityExt.kt</strong></p>\n\n<pre><code>fun Activity.showToast(textResId: Int, vararg formatArgs: String) {\n    val text = getString(textResId, formatArgs)\n    Toast.makeText(this, text, Toast.LENGTH_SHORT).show()\n}\n</code></pre>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code>val number = 11\nshowToast(R.string.my_string, number.toString())\n</code></pre>\n\n<p>Toast with following text is showing:</p>\n\n<pre><code>Showing your number: [Ljava.lang.String;@2cfa3b]\n</code></pre>\n\n<p>Why this happens?</p>\n"}, {"tags": ["dependency-injection", "kotlin", "kodein"], "comments": [{"owner": {"reputation": 7879, "user_id": 1269640, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/41b92fffd289939497f29809d146c59d?s=128&d=identicon&r=PG", "display_name": "Salomon BRYS", "link": "https://stackoverflow.com/users/1269640/salomon-brys"}, "edited": false, "score": 0, "creation_date": 1498681320, "post_id": 44796248, "comment_id": 76604310, "body": "I&#39;m the author of Kodein. At the moment, Kodein 4.0 does not include this feature. I will be posting a reponse once it does."}], "answers": [{"comments": [{"owner": {"reputation": 387, "user_id": 6186709, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/G5lWJ.png?s=128&g=1", "display_name": "I60R", "link": "https://stackoverflow.com/users/6186709/i60r"}, "edited": false, "score": 0, "creation_date": 1501244942, "post_id": 45373023, "comment_id": 77707905, "body": "Thank you for a great library, feedback and that feature!"}], "tags": [], "owner": {"reputation": 7879, "user_id": 1269640, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/41b92fffd289939497f29809d146c59d?s=128&d=identicon&r=PG", "display_name": "Salomon BRYS", "link": "https://stackoverflow.com/users/1269640/salomon-brys"}, "is_accepted": true, "score": 2, "last_activity_date": 1501243341, "creation_date": 1501243341, "answer_id": 45373023, "question_id": 44796248, "link": "https://stackoverflow.com/questions/44796248/how-to-do-multibinding-using-kodein-dependency-retrieval-container/45373023#45373023", "title": "How to do multibinding using Kodein dependency retrieval container?", "body": "<p>Kodein <code>4.1.0</code> has just been released and now supports <a href=\"https://salomonbrys.github.io/Kodein/#_multi_binding\" rel=\"nofollow noreferrer\">multi-binding</a>.</p>\n\n<p>I hope it does answer your needs.</p>\n"}], "owner": {"reputation": 387, "user_id": 6186709, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/G5lWJ.png?s=128&g=1", "display_name": "I60R", "link": "https://stackoverflow.com/users/6186709/i60r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 447, "favorite_count": 0, "accepted_answer_id": 45373023, "answer_count": 1, "score": 0, "last_activity_date": 1501243341, "creation_date": 1498635211, "last_edit_date": 1498636346, "question_id": 44796248, "link": "https://stackoverflow.com/questions/44796248/how-to-do-multibinding-using-kodein-dependency-retrieval-container", "title": "How to do multibinding using Kodein dependency retrieval container?", "body": "<p>I do migration from Dagger 2 to Kodein and want good alternative to <a href=\"https://google.github.io/dagger//multibindings.html\" rel=\"nofollow noreferrer\">multibinding</a> feature. Is there one?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1865, "user_id": 4286341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5700ee15b739644b6c8a3cc513815d1c?s=128&d=identicon&r=PG", "display_name": "Shashank Udupa", "link": "https://stackoverflow.com/users/4286341/shashank-udupa"}, "edited": false, "score": 3, "creation_date": 1498635083, "post_id": 44796102, "comment_id": 76572777, "body": "If you are absolutely sure a variable will be initialised BEFORE being used. You can use lateinit. Use nullable variables otherwise"}, {"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1569310390, "post_id": 44796102, "comment_id": 102545302, "body": "for lateint add check if (this::c.isInitilized())"}], "answers": [{"tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": false, "score": 21, "last_activity_date": 1519828608, "last_edit_date": 1519828608, "creation_date": 1498635007, "answer_id": 44796188, "question_id": 44796102, "link": "https://stackoverflow.com/questions/44796102/kotlin-how-to-decide-between-lateinit-and-nullable-variable/44796188#44796188", "title": "Kotlin - How to decide between &quot;lateinit&quot; and &quot;nullable variable&quot;?", "body": "<blockquote>\n  <p>These are two <strong>completely different</strong> concepts.</p>\n</blockquote>\n\n<p>You can use <code>lateinit</code> to avoid <em>null checks</em> when referencing the property. It's very convenient in case your properties are initialized through dependency injection, or, for example, in the setup method of a unit test.</p>\n\n<p>However, you should keep in mind that accessing a <code>lateinit</code> property before it has been initialized throws an exception.  That means you should use them only if you are absolutely sure, they <strong>will</strong> be initialized.</p>\n\n<p><em>Nullable types</em>, on the other hand, are used when a variable <strong>can hold</strong> <code>null</code>. </p>\n\n<hr>\n\n<pre><code>class A {\n    lateinit var a: String\n\n    fun cat() {\n        print(a.length)  // UninitializedPropertyAccessException is thrown\n        a = \"cat\"\n        print(a.length)  // &gt;&gt;&gt; 3\n    }\n}\n\nclass B {\n    var b: String? = null\n\n    fun dog() {\n        print(b.length)  // won't compile, null check is obligatory here\n        print(b?.length) // &gt;&gt;&gt; null\n        b = \"dog\"\n        print(b?.length) // &gt;&gt;&gt; 3\n    }\n}\n</code></pre>\n\n<hr>\n\n<p><em>For more information:</em></p>\n\n<ul>\n<li><a href=\"https://kotlinlang.org/docs/reference/properties.html#late-initialized-properties\" rel=\"noreferrer\">Late-initialized properties</a></li>\n<li><a href=\"https://kotlinlang.org/docs/reference/null-safety.html#nullable-types-and-non-null-types\" rel=\"noreferrer\">Nullable types</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1602006074, "post_id": 44796205, "comment_id": 113581119, "body": "<code>lateinit</code> can be null?"}, {"owner": {"reputation": 1761, "user_id": 474986, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/c66bbd221e47d9a68977bffc9441a58a?s=128&d=identicon&r=PG", "display_name": "ruben", "link": "https://stackoverflow.com/users/474986/ruben"}, "edited": false, "score": 0, "creation_date": 1608795685, "post_id": 44796205, "comment_id": 115686806, "body": "<code>lateinit</code> is only for avoid null checks in future, that&#39;s why <code>lateinit</code> modifier is not allowed on properties of nullable types."}], "tags": [], "owner": {"reputation": 6089, "user_id": 2086009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e7ab26eda52e199bb9e35d2a76b2dd?s=128&d=identicon&r=PG", "display_name": "alex", "link": "https://stackoverflow.com/users/2086009/alex"}, "is_accepted": true, "score": 29, "last_activity_date": 1498635074, "creation_date": 1498635074, "answer_id": 44796205, "question_id": 44796102, "link": "https://stackoverflow.com/questions/44796102/kotlin-how-to-decide-between-lateinit-and-nullable-variable/44796205#44796205", "title": "Kotlin - How to decide between &quot;lateinit&quot; and &quot;nullable variable&quot;?", "body": "<p>A type that is nullable is just that, a thing that has a valid state that is null.</p>\n\n<p>A non-nullable late init var represents something where null is an invalid state, but for some reason you can't populate it in the constructor.</p>\n\n<p>Android Activities are a good example of a use of lateinit. Activities must have a no args constructor and their lifecycle only really starts with onCreate().</p>\n"}, {"tags": [], "owner": {"reputation": 2178, "user_id": 4260554, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/GVZ6I.jpg?s=128&g=1", "display_name": "Vadims Savjolovs", "link": "https://stackoverflow.com/users/4260554/vadims-savjolovs"}, "is_accepted": false, "score": 10, "last_activity_date": 1498637697, "last_edit_date": 1498637697, "creation_date": 1498637393, "answer_id": 44796976, "question_id": 44796102, "link": "https://stackoverflow.com/questions/44796102/kotlin-how-to-decide-between-lateinit-and-nullable-variable/44796976#44796976", "title": "Kotlin - How to decide between &quot;lateinit&quot; and &quot;nullable variable&quot;?", "body": "<p>It depends.\nNullable variable means that variable can hold value or null. <code>lateinit</code> means that variable <strong>must</strong> be initialised later. It should be initialized before accessing it. If you attempt accessing uninitialized <code>lateinit</code> variable <code>UninitializedPropertyAccessException</code> will be thrown. </p>\n\n<p>It's always better to avoid using nulls in your app. Nulls are evil. So if you can initialize variable in <code>onCreate</code> then it's better to use <code>lateinit</code>. Also if you use dependency injection in your app and fields should be injected it's also a valid case to use <code>lateinit</code> instead of handling nulls.</p>\n\n<p>If for some reason you can't initialize variable, initializing code can result to null, or null can be assigned to this variable later than you should use nullable variable. Generally speaking if null is a valid value for the variable.</p>\n"}, {"comments": [{"owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "edited": false, "score": 0, "creation_date": 1563636348, "post_id": 51669443, "comment_id": 100769036, "body": "Don&#39;t you mean usse <code>lateinit</code> for properties that can be initialized in the constructor. If you use lateinit and don&#39;t initialize it a constructor then you run the risk of accessing it before its been initialized resulting in a exception."}, {"owner": {"reputation": 306, "user_id": 5613727, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ElE9qmwO4qk/AAAAAAAAAAI/AAAAAAAAALw/jr0UbQBbLow/photo.jpg?sz=128", "display_name": "TheKvist", "link": "https://stackoverflow.com/users/5613727/thekvist"}, "reply_to_user": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "edited": false, "score": 0, "creation_date": 1594372070, "post_id": 51669443, "comment_id": 111108715, "body": "@ant2009 If you were to initialize it in the constructor, then the property is - by definition - not <code>lateinit</code>. Should you initialize a <code>lateinit</code> property in the constructor, the Kotlin compiler emits a <code>UNNECESSARY_LATEINIT</code> warning."}, {"owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "reply_to_user": {"reputation": 306, "user_id": 5613727, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ElE9qmwO4qk/AAAAAAAAAAI/AAAAAAAAALw/jr0UbQBbLow/photo.jpg?sz=128", "display_name": "TheKvist", "link": "https://stackoverflow.com/users/5613727/thekvist"}, "edited": false, "score": 1, "creation_date": 1594373880, "post_id": 51669443, "comment_id": 111109648, "body": "@TheKvist Thanks for pointing that out. if the lateinit property is initialized in a constructor its always guarenteed to be iniitialized as the constructor will always run. However, if you have a lateinit property and its not initialized in the constructor but in another method you can always check if its been initialized or not by using this <code>if(::fullName.isInitialized()) { &#47;* do something *&#47; }</code> This is what I normally do."}, {"owner": {"reputation": 306, "user_id": 5613727, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ElE9qmwO4qk/AAAAAAAAAAI/AAAAAAAAALw/jr0UbQBbLow/photo.jpg?sz=128", "display_name": "TheKvist", "link": "https://stackoverflow.com/users/5613727/thekvist"}, "reply_to_user": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "edited": false, "score": 0, "creation_date": 1594393475, "post_id": 51669443, "comment_id": 111119995, "body": "@ant2009 To use the <code>isInitialized</code> is how you should do it :) Just realized your original comment is over a year old, so sorry for necroing, and thanks for replying!  The thing is, if you can guarantee that you will initialize the property in the constructor, there is no reason for the property to be marked as <code>lateinit</code> as it will never be &quot;initialized later&quot;, hence the compiler warning.  Personally, in classes where I have lateinit props, I define a simple <code>validate</code> method that checks itself for the lateinits to be initialized and throws an exception if they&#39;re not."}], "tags": [], "owner": {"reputation": 721, "user_id": 6893685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pc8f4.jpg?s=128&g=1", "display_name": "Gulzar Bhat", "link": "https://stackoverflow.com/users/6893685/gulzar-bhat"}, "is_accepted": false, "score": 2, "last_activity_date": 1533288359, "creation_date": 1533288359, "answer_id": 51669443, "question_id": 44796102, "link": "https://stackoverflow.com/questions/44796102/kotlin-how-to-decide-between-lateinit-and-nullable-variable/51669443#51669443", "title": "Kotlin - How to decide between &quot;lateinit&quot; and &quot;nullable variable&quot;?", "body": "<p>Use <code>lateinit</code> for properties that cannot be initialized in a constructor.</p>\n"}], "owner": {"reputation": 1420, "user_id": 7333260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KGUpL.png?s=128&g=1", "display_name": "paril", "link": "https://stackoverflow.com/users/7333260/paril"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11920, "favorite_count": 8, "accepted_answer_id": 44796205, "answer_count": 4, "score": 35, "last_activity_date": 1533288359, "creation_date": 1498634742, "last_edit_date": 1498695253, "question_id": 44796102, "link": "https://stackoverflow.com/questions/44796102/kotlin-how-to-decide-between-lateinit-and-nullable-variable", "title": "Kotlin - How to decide between &quot;lateinit&quot; and &quot;nullable variable&quot;?", "body": "<p>I am confuse for lateinit and nullable variable, which one to use for variable.</p>\n\n<pre><code>lateinit var c: String\nvar d: String? = null\nc = \"UserDefinedTarget\"\n\n// if not added initialisation for c than throws UninitializedPropertyAccessException\nif (c == \"UserDefinedTarget\") {\n    //do some stuff.\n}\n//not throws any exception whether d is initialise or not.\nif(d == \"UserDefinedTarget\") {\n     //do some stuff\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 357, "user_id": 3685304, "user_type": "registered", "profile_image": "https://graph.facebook.com/1063909616/picture?type=large", "display_name": "quiro", "link": "https://stackoverflow.com/users/3685304/quiro"}, "is_accepted": false, "score": 5, "last_activity_date": 1498633107, "creation_date": 1498633107, "answer_id": 44795596, "question_id": 44795441, "link": "https://stackoverflow.com/questions/44795441/kotlins-android-extensions-and-variables/44795596#44795596", "title": "Kotlin&#39;s Android Extensions and variables", "body": "<p>It's cached, so <code>findViewById</code> isn't called every time you need it. Storing the variable won't definitely improve the app's performance</p>\n"}, {"comments": [{"owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "edited": false, "score": 1, "creation_date": 1498638284, "post_id": 44795826, "comment_id": 76574808, "body": "Why limited to only <code>Activities</code> and <code>Fragments</code>? Its because they have easy access to <code>Context</code>?"}, {"owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "reply_to_user": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "edited": false, "score": 1, "creation_date": 1498640292, "post_id": 44795826, "comment_id": 76576080, "body": "@Tuby it might be related to the <code>Context</code>, and to the way Kotlin create extension-funtions (<a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#under-the-hood\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/&hellip;</a>). There is a GitHub PR that addresses the issue and makes it available to use KAE for elements like a <code>ViewHolder</code> (<a href=\"https://github.com/Kotlin/KEEP/pull/33\" rel=\"nofollow noreferrer\">github.com/Kotlin/KEEP/pull/33</a>). However it is inactive for a year now."}, {"owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "reply_to_user": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "edited": false, "score": 0, "creation_date": 1498640460, "post_id": 44795826, "comment_id": 76576184, "body": "Also, with a proper way of using Google Data Binding library and the MVVM pattern - there is no need for <code>findViewById</code>. I am personally waiting for the Architecture Components to become stable, so it implements data-binding, after which I am going to move my project to use it."}], "tags": [], "owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "is_accepted": true, "score": 4, "last_activity_date": 1498634624, "last_edit_date": 1498634624, "creation_date": 1498633840, "answer_id": 44795826, "question_id": 44795441, "link": "https://stackoverflow.com/questions/44795441/kotlins-android-extensions-and-variables/44795826#44795826", "title": "Kotlin&#39;s Android Extensions and variables", "body": "<p>One of the Kotlin Android Extension (KAE) developers <a href=\"https://medium.com/@ihorkucherenko\" rel=\"nofollow noreferrer\">Ihor Kucherenko</a> confirmed that:</p>\n\n<ul>\n<li><p>KAE will keep a reference to the view after the first call, instead of using <code>findViewById</code> all the time. That works <strong>only</strong> for <code>Activities</code> and <code>Fragments</code>.</p></li>\n<li><p>KAE will not cache data and will use <code>findViewById</code> every time for any other element (except for an <code>Activity</code>/<code>Fragment</code>).</p></li>\n</ul>\n\n<p>So in case you are going to init a <code>ViewHolder</code>:</p>\n\n<pre><code>class FooViewHolder(view: View): RecyclerView.ViewHolder(view) {\n    fun bind(day: FooItem.Day) {\n        btn_foo.text = day.title\n    }\n}\n</code></pre>\n\n<p>Decompile into Java call will look like:</p>\n\n<pre><code>((Button)this.itemView.findViewById(R.id.btn_foo)).setText((CharSequence)day.getTitle());\n</code></pre>\n\n<p>which is exactly what you want to avoid. </p>\n\n<p>The developers might be aware of this.</p>\n\n<hr>\n\n<p><strong>Conclusion</strong>: fill free to use KAE without any additional variables, but only for your <code>Activitiies</code>/<code>Fragments</code>.</p>\n"}], "owner": {"reputation": 10206, "user_id": 865866, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/QXzpS.jpg?s=128&g=1", "display_name": "0leg", "link": "https://stackoverflow.com/users/865866/0leg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 463, "favorite_count": 3, "accepted_answer_id": 44795826, "answer_count": 2, "score": 3, "last_activity_date": 1498634624, "creation_date": 1498632584, "question_id": 44795441, "link": "https://stackoverflow.com/questions/44795441/kotlins-android-extensions-and-variables", "title": "Kotlin&#39;s Android Extensions and variables", "body": "<p>Before Kotlin, Android developers supposed to save reference to the Activity's Views in a variable like this:</p>\n\n<pre><code>Button fooBtn = (Button) findViewById(R.id.btn_foo)\n</code></pre>\n\n<p>to reduce the amount of the boiler-plate code and the number of <code>findViewById</code> calls.</p>\n\n<p>With the introduction of the <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">Kotlin's Android Extensions</a> we can reference the same Button by simply using:</p>\n\n<pre><code>btn_foo\n</code></pre>\n\n<hr>\n\n<p><strong>Questions:</strong> </p>\n\n<ol>\n<li>Does the <code>btn_foo</code> have a reference to the Button saved, or does it call <code>findViewById</code> every time?</li>\n<li>Do developers still suppose to use variables to store <code>btn_foo</code> to improve app's performance, or just use it directly in the code?</li>\n</ol>\n\n<hr>\n\n<p><strong>Edit:</strong> there is <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#under-the-hood\" rel=\"nofollow noreferrer\">an explanation</a> how Extensions work, however it is still a bit unclear.</p>\n"}, {"tags": ["android", "kotlin", "anko", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1498636471, "post_id": 44794669, "comment_id": 76573636, "body": "<code>Deferred</code> is Kotlin-specific future/promise. What&#39;s the question then?"}, {"owner": {"reputation": 6568, "user_id": 7235539, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/SJIPO.jpg?s=128&g=1", "display_name": "Patel Pinkal", "link": "https://stackoverflow.com/users/7235539/patel-pinkal"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1498638679, "post_id": 44794669, "comment_id": 76575017, "body": "My question is what is Deferred?"}], "answers": [{"tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 6, "last_activity_date": 1498636484, "creation_date": 1498636484, "answer_id": 44796686, "question_id": 44794669, "link": "https://stackoverflow.com/questions/44794669/what-is-deferred-in-anko-coroutines-kotlin/44796686#44796686", "title": "What is Deferred in Anko coroutines kotlin?", "body": "<p>I would start, if you excuse me, by quoting the first sentence from the documentation on <code>Deferred</code> class from the first link in the question: </p>\n\n<blockquote>\n  <p>Deferred value is a non-blocking cancellable future.</p>\n</blockquote>\n\n<p>In fact, deferred is a synonym for <em>future</em> or <em>promise</em> (<a href=\"https://en.wikipedia.org/wiki/Futures_and_promises\" rel=\"noreferrer\">see this wikipedia article</a>). </p>\n\n<p>The <code>Deferred</code> class is part of <a href=\"https://github.com/Kotlin/kotlinx.coroutines/\" rel=\"noreferrer\"><code>kotlinx-coroutines</code></a> project that provides library support for Kotlin coroutines. The recommended way to start learning more about it is by reading this <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md\" rel=\"noreferrer\">guide</a>.</p>\n"}], "owner": {"reputation": 6568, "user_id": 7235539, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/SJIPO.jpg?s=128&g=1", "display_name": "Patel Pinkal", "link": "https://stackoverflow.com/users/7235539/patel-pinkal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1791, "favorite_count": 0, "accepted_answer_id": 44796686, "answer_count": 1, "score": 2, "last_activity_date": 1552981814, "creation_date": 1498629552, "last_edit_date": 1552981814, "question_id": 44794669, "link": "https://stackoverflow.com/questions/44794669/what-is-deferred-in-anko-coroutines-kotlin", "title": "What is Deferred in Anko coroutines kotlin?", "body": "<p>In Anko coroutines library by kotlin, In that, there is one feature <strong>bg()</strong> for easily execute your code on the background thread. In that return type is <strong>Deferred</strong>. Then what is <strong>Deferred</strong>?</p>\n\n<p><strong>Refrence Link</strong> </p>\n\n<p><strong>(1)</strong> <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/kotlinx-coroutines-core/src/main/kotlin/kotlinx/coroutines/experimental/Deferred.kt\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/blob/master/kotlinx-coroutines-core/src/main/kotlin/kotlinx/coroutines/experimental/Deferred.kt</a></p>\n\n<p><strong>(2)</strong> <a href=\"https://github.com/Kotlin/anko/wiki/Anko-Coroutines#bg\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/anko/wiki/Anko-Coroutines#bg</a></p>\n\n<pre><code>  fun getData(): Data { ... }\n  fun showData(data: Data) { ... }\n\n  async(UI) {\n      val data: Deferred&lt;Data&gt; = bg {\n      // Runs in background\n      getData()\n      }\n\n      // This code is executed on the UI thread\n      showData(data.await())\n  }\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-reflect"], "answers": [{"tags": [], "owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "is_accepted": true, "score": 11, "last_activity_date": 1498633982, "last_edit_date": 1498633982, "creation_date": 1498631973, "answer_id": 44795271, "question_id": 44792787, "link": "https://stackoverflow.com/questions/44792787/reflectively-calling-function-and-using-default-parameters/44795271#44795271", "title": "Reflectively calling function and using default parameters", "body": "<p>You can use the <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-callable/call-by.html\" rel=\"noreferrer\"><code>callBy</code></a>, which respects the default values:</p>\n\n<pre><code>::function.callBy(emptyMap()) // is just function()\n</code></pre>\n\n<p>Things will be messy if you have many parameters without default values:</p>\n\n<pre><code>fun foo(a: Int, b: String = \"\") {}\nval ref = ::foo\nval params = ref.parameters\nref.callBy(mapOf(params[0] to 1))  // is just foo(1)\n</code></pre>\n\n<p>It will be even more boring if your function is a member function of a non-object type, or it's extension function, or it's an extension function to a type as a member function of a (other) non-object type.</p>\n\n<p>I wrote a convenient method to reduce boilerplate:</p>\n\n<pre><code>fun &lt;R&gt; KFunction&lt;R&gt;.callNamed(params: Map&lt;String, Any?&gt;, self: Any? = null, extSelf: Any? = null): R {\n    val map = params.entries.mapTo(ArrayList()) { entry -&gt;\n        parameters.find { name == entry.key }!! to entry.value\n    }\n    if (self != null) map += instanceParameter!! to self\n    if (extSelf != null) map += extensionReceiverParameter!! to extSelf\n    return callBy(map.toMap())\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>fun String.foo(a: Int, b: String = \"\") {}\nfun foo(a: Int, b: String = \"\") {}\nclass Foo {\n    fun bar(a: Int, b: String = \"\") {}\n    fun String.baz(a: Int, b: String = \"\") {}\n}\n\n::foo.callNamed(mapOf(\"a\" to 0))\nString::foo.callNamed(mapOf(\"a\" to 0), extSelf = \"\")\nFoo::bar.callNamed(mapOf(\"a\" to 0), Foo())\n// function reference don't work on member extension functions\nFoo::class.declaredFunctions.find { it.name == \"baz\" }!!.callNamed(mapOf(\"a\" to 0), Foo(), \"\") \n</code></pre>\n"}], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1439, "favorite_count": 0, "accepted_answer_id": 44795271, "answer_count": 1, "score": 6, "last_activity_date": 1498633982, "creation_date": 1498617731, "question_id": 44792787, "link": "https://stackoverflow.com/questions/44792787/reflectively-calling-function-and-using-default-parameters", "title": "Reflectively calling function and using default parameters", "body": "<p>Given the following function</p>\n\n<pre><code>fun function(x: Int = 12) {\n    println(\"x = $x\")\n}\n</code></pre>\n\n<p>How can I using reflection invoke it without specifying <code>x</code> (or somehow using default value, <em>not</em> hard coding it)?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 3640, "user_id": 4618331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7356f3874129c5cf6b5ed6dbd9b9436?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4618331/sam"}, "edited": false, "score": 2, "creation_date": 1498597228, "post_id": 44789492, "comment_id": 76560368, "body": "There was an interesting discussion about this same issue recently: <a href=\"https://stackoverflow.com/questions/35100389/writing-a-kotlin-util-function-which-provides-self-reference-in-initializer\" title=\"writing a kotlin util function which provides self reference in initializer\">stackoverflow.com/questions/35100389/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": true, "score": 41, "last_activity_date": 1530710279, "last_edit_date": 1530710279, "creation_date": 1498597209, "answer_id": 44789778, "question_id": 44789492, "link": "https://stackoverflow.com/questions/44789492/convert-indefinitely-running-runnable-from-java-to-kotlin/44789778#44789778", "title": "Convert indefinitely running Runnable from java to kotlin", "body": "<p>Lambda-expressions do not have <code>this</code>, but object expressions (anonymous classes) do.</p>\n\n<pre><code>object : Runnable {\n    override fun run() {\n        handler.postDelayed(this, 1000)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 592, "user_id": 2316935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4154f0c2f5c59b85b51d189fcc2f5cac?s=128&d=identicon&r=PG", "display_name": "Hobo Joe", "link": "https://stackoverflow.com/users/2316935/hobo-joe"}, "is_accepted": false, "score": 9, "last_activity_date": 1498597586, "creation_date": 1498597586, "answer_id": 44789882, "question_id": 44789492, "link": "https://stackoverflow.com/questions/44789492/convert-indefinitely-running-runnable-from-java-to-kotlin/44789882#44789882", "title": "Convert indefinitely running Runnable from java to kotlin", "body": "<p>A slightly different approach which may be more readable</p>\n\n<pre><code>val timer = Timer()\nval monitor = object : TimerTask() {\n    override fun run() {\n        // whatever you need to do every second\n    }\n}\n\ntimer.schedule(monitor, 1000, 1000)\n</code></pre>\n\n<p>From: <a href=\"https://stackoverflow.com/questions/25296718/repeat-an-action-every-2-seconds-in-java\">Repeat an action every 2 seconds in java</a></p>\n"}, {"tags": [], "owner": {"reputation": 417, "user_id": 4857522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd4420653b8bd1fc8e5d0eac1d0e3aad?s=128&d=identicon&r=PG&f=1", "display_name": "taranjeetsapra", "link": "https://stackoverflow.com/users/4857522/taranjeetsapra"}, "is_accepted": false, "score": 2, "last_activity_date": 1590988727, "creation_date": 1590988727, "answer_id": 62126124, "question_id": 44789492, "link": "https://stackoverflow.com/questions/44789492/convert-indefinitely-running-runnable-from-java-to-kotlin/62126124#62126124", "title": "Convert indefinitely running Runnable from java to kotlin", "body": "<p>Lambda-expressions do not have <strong><em>this</em></strong>, but object expressions (anonymous classes) do. Then the corrected code would be:</p>\n\n<pre><code>private val mHandler = Handler()\nval monitor: Runnable = object : Runnable{\n override fun run() {\n                   //any action\n                }\n                //runnable\n\n            }\n\n mHandler.postDelayed(monitor, 1000)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 13294261, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GgmvnU1an0dtllLalQhmZBLJYXR5i5FPRYfS9Z9bQ=k-s128", "display_name": "KaZaiya", "link": "https://stackoverflow.com/users/13294261/kazaiya"}, "is_accepted": false, "score": 1, "last_activity_date": 1608697584, "creation_date": 1608697584, "answer_id": 65419024, "question_id": 44789492, "link": "https://stackoverflow.com/questions/44789492/convert-indefinitely-running-runnable-from-java-to-kotlin/65419024#65419024", "title": "Convert indefinitely running Runnable from java to kotlin", "body": "<p>runnable display Toast Message &quot;Hello World every 4 seconds</p>\n<p>//Inside a class main activity</p>\n<pre><code>    val handler: Handler = Handler()\n    val run = object : Runnable {\n       override fun run() {\n           val message: String = &quot;Hello World&quot; // your message\n           handler.postDelayed(this, 4000)// 4 seconds\n           Toast.makeText(this@MainActivity,message,Toast.LENGTH_SHORT).show() // toast method\n       }\n\n   }\n    handler.post(run)\n}\n</code></pre>\n"}], "owner": {"reputation": 15679, "user_id": 1068546, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/VJvqA.jpg?s=128&g=1", "display_name": "Binoy Babu", "link": "https://stackoverflow.com/users/1068546/binoy-babu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23926, "favorite_count": 5, "accepted_answer_id": 44789778, "answer_count": 4, "score": 25, "last_activity_date": 1608697584, "creation_date": 1498596215, "question_id": 44789492, "link": "https://stackoverflow.com/questions/44789492/convert-indefinitely-running-runnable-from-java-to-kotlin", "title": "Convert indefinitely running Runnable from java to kotlin", "body": "<p>I have some code like this in java that monitors a certain file:</p>\n\n<pre><code>private Handler mHandler = new Handler();\nprivate final Runnable monitor = new Runnable() {\n\n    public void run() {\n        // Do my stuff\n        mHandler.postDelayed(monitor, 1000); // 1 second\n    }\n};\n</code></pre>\n\n<p>This is my kotlin code:</p>\n\n<pre><code>private val mHandler = Handler()\nval monitor: Runnable = Runnable {\n    // do my stuff\n    mHandler.postDelayed(whatToDoHere, 1000) // 1 second\n}\n</code></pre>\n\n<p>I dont understand what <code>Runnable</code> I should pass into <code>mHandler.postDelayed</code>. What is the right solution? Another interesting thing is that the kotlin to java convertor freezes when I feed this code.</p>\n"}, {"tags": ["java", "servlets", "kotlin", "undertow"], "answers": [{"comments": [{"owner": {"reputation": 353, "user_id": 7916291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d1aa078505f7f0172995ed93d817485?s=128&d=identicon&r=PG&f=1", "display_name": "tipsy", "link": "https://stackoverflow.com/users/7916291/tipsy"}, "edited": false, "score": 0, "creation_date": 1498596851, "post_id": 44789510, "comment_id": 76560181, "body": "I really want to avoid having to create an actual Servlet class though."}], "tags": [], "owner": {"reputation": 5538, "user_id": 812787, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/9bfd1118658eeaac257e60eb9f0cb5de?s=128&d=identicon&r=PG", "display_name": "tsolakp", "link": "https://stackoverflow.com/users/812787/tsolakp"}, "is_accepted": false, "score": 0, "last_activity_date": 1498596254, "creation_date": 1498596254, "answer_id": 44789510, "question_id": 44789342, "link": "https://stackoverflow.com/questions/44789342/servlets-undertow-accessing-httpservletrequest-and-httpservletresponse/44789510#44789510", "title": "Servlets/Undertow - Accessing HttpServletRequest and HttpServletResponse", "body": "<p>I am not familiar with Undertow but by quick look at their documentation says that it is a application server (web as well) and you can mix Servlet and Undertow handlers together. This most likely means that you either need to use Handler with <code>HttpServerExchange</code> or define a Servlet in order to use HttpServletRequest or HttpServletResponse.</p>\n"}, {"tags": [], "owner": {"reputation": 619, "user_id": 1155759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/58d591b4b4bd1aad63c0e3fc49187816?s=128&d=identicon&r=PG", "display_name": "Osmund Francis", "link": "https://stackoverflow.com/users/1155759/osmund-francis"}, "is_accepted": true, "score": 2, "last_activity_date": 1505858138, "creation_date": 1505858138, "answer_id": 46310308, "question_id": 44789342, "link": "https://stackoverflow.com/questions/44789342/servlets-undertow-accessing-httpservletrequest-and-httpservletresponse/46310308#46310308", "title": "Servlets/Undertow - Accessing HttpServletRequest and HttpServletResponse", "body": "<p>The solution I got is to create a \"stub\" servlet into which you pass the servicer.</p>\n\n<pre><code>    val servletBuilder = Servlets.deployment()\n            .setClassLoader(EmbeddedUndertowServer::class.java.getClassLoader())\n            .setContextPath(\"/\")\n            .setDeploymentName(\"javalinDeployment\")\n            .addServletContextAttribute(\"javalin-servlet\", javalinServlet)\n            .addServlets(Servlets.servlet(\"javalinServlet\", UndertowServlet::class.java).addMapping(\"/\"))\n    val manager = Servlets.defaultContainer().addDeployment(servletBuilder)\n    manager.deploy()\n    val httpHandler = manager.start()\n    val path = Handlers.path(Handlers.redirect(\"/\")).addPrefixPath(\"/\", httpHandler)\n    this.undertow = Undertow.builder().addHttpListener(port, host).setHandler(path).build()\n    undertow.start()\n</code></pre>\n\n<p>The servicer can then be loaded during each servlet initialisation phase:</p>\n\n<pre><code>private var javalinServlet: JavalinServlet? = null\n\n@Throws(ServletException::class)\noverride fun init(config: ServletConfig) {\n    this.config = config\n    javalinServlet = config.servletContext.getAttribute(\"javalin-servlet\") as JavalinServlet\n}\n</code></pre>\n\n<p>You can view the changes here: <a href=\"https://github.com/osmundf/javalin-undertow/commit/30487196f2dd7a44d3ef524f642040a7330caf4e\" rel=\"nofollow noreferrer\">https://github.com/osmundf/javalin-undertow/commit/30487196f2dd7a44d3ef524f642040a7330caf4e</a></p>\n"}], "owner": {"reputation": 353, "user_id": 7916291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d1aa078505f7f0172995ed93d817485?s=128&d=identicon&r=PG&f=1", "display_name": "tipsy", "link": "https://stackoverflow.com/users/7916291/tipsy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 769, "favorite_count": 0, "accepted_answer_id": 46310308, "answer_count": 2, "score": 1, "last_activity_date": 1505858138, "creation_date": 1498595479, "last_edit_date": 1498595808, "question_id": 44789342, "link": "https://stackoverflow.com/questions/44789342/servlets-undertow-accessing-httpservletrequest-and-httpservletresponse", "title": "Servlets/Undertow - Accessing HttpServletRequest and HttpServletResponse", "body": "<p>I'm trying to create a simple undertow servlet-server, but I have some problems with undertow wanting to instantiate the servlet. I don't necessarily need to use <code>HttpServlet</code>, I just need access to <code>HttpServletRequest</code> and <code>HttpServletResponse</code> so I can run them through <code>myServicer</code>. What's the best way to achieve this?\nMy current code:</p>\n\n<pre><code>myServicer = ...\nundertow = Undertow.builder()\n    .addHttpListener(port, host)\n    .setHandler(Handlers.path(Handlers.redirect(\"/\")).addPrefixPath(\"/\",\n        Servlets.defaultContainer().addDeployment(\n            Servlets.deployment()\n                .setClassLoader(EmbeddedUndertowServer::class.java.classLoader)\n                .setDeploymentName(\"myDeployment\").setContextPath(\"/\")\n                .addServlets(Servlets.servlet(\"myServlet\",\n                    object : HttpServlet() {\n                        override fun service(request: HttpServletRequest, response: HttpServletResponse) {\n                            myServicer.service(request, response) // doesn't work\n                        }\n                    }.javaClass).addMapping(\"/\"))\n        ).apply { deploy() }.start()\n    ))\n    .build()\nundertow.start()\n</code></pre>\n\n<p>This doesn't work because undertow just wants a class, which it tries to instantiate.</p>\n\n<p>Full code/project here: <a href=\"https://github.com/tipsy/javalin/pull/25/files\" rel=\"nofollow noreferrer\">https://github.com/tipsy/javalin/pull/25/files</a></p>\n"}, {"tags": ["java", "exception-handling", "try-catch", "kotlin"], "comments": [{"owner": {"reputation": 1003, "user_id": 1743867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cad90354cb11d5f43b3aefe0fb637b8?s=128&d=identicon&r=PG", "display_name": "seal", "link": "https://stackoverflow.com/users/1743867/seal"}, "edited": false, "score": 0, "creation_date": 1498593972, "post_id": 44788906, "comment_id": 76558687, "body": "@Mibac Yes. Those two are from the <code>java.text</code> package."}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 1, "creation_date": 1498594144, "post_id": 44788906, "comment_id": 76558773, "body": "I just runned your code and it seems it doesn&#39;t throw any exceptions. I printed the output and got this: <code>Sat Jan 21 23:58:00 CET 2017</code>"}, {"owner": {"reputation": 13720, "user_id": 393786, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1a06556a2b54632228d999822950f42e?s=128&d=identicon&r=PG&f=1", "display_name": "mhshams", "link": "https://stackoverflow.com/users/393786/mhshams"}, "edited": false, "score": 0, "creation_date": 1498594305, "post_id": 44788906, "comment_id": 76558863, "body": "&quot;22--2-2017&quot; is a valid string for the given pattern. try with something obvious like &quot;foo&quot;.convertToDate()"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498594431, "post_id": 44788906, "comment_id": 76558933, "body": "Tried using foo but the exception got caught correctly (printed <code>Parse exception occur</code>)"}, {"owner": {"reputation": 13720, "user_id": 393786, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1a06556a2b54632228d999822950f42e?s=128&d=identicon&r=PG&f=1", "display_name": "mhshams", "link": "https://stackoverflow.com/users/393786/mhshams"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498594896, "post_id": 44788906, "comment_id": 76559183, "body": "@Mibac, you are right. my comment was for seal."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1498595258, "post_id": 44788906, "comment_id": 76559337, "body": "@seal try replace <code>ParseException</code>  with <code>java.text.ParseException</code>. there are half dozen classes simply named <code>ParseException</code>."}, {"owner": {"reputation": 1003, "user_id": 1743867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cad90354cb11d5f43b3aefe0fb637b8?s=128&d=identicon&r=PG", "display_name": "seal", "link": "https://stackoverflow.com/users/1743867/seal"}, "edited": false, "score": 0, "creation_date": 1498596170, "post_id": 44788906, "comment_id": 76559828, "body": "I have updated my Question. Please review the <b>Update</b> section"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498596280, "post_id": 44788906, "comment_id": 76559879, "body": "So your code printed only <code>Exception occur</code>. It didn&#39;t print <code>What the hell is happening?</code> right?"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1498596393, "post_id": 44788906, "comment_id": 76559932, "body": "why don&#39;t you print the exception stack trace?"}, {"owner": {"reputation": 1003, "user_id": 1743867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cad90354cb11d5f43b3aefe0fb637b8?s=128&d=identicon&r=PG", "display_name": "seal", "link": "https://stackoverflow.com/users/1743867/seal"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1498597124, "post_id": 44788906, "comment_id": 76560321, "body": "@holi-java I have added the Exception. Please review the Exception section. I have print stack trace in ParseException and Exception both block."}, {"owner": {"reputation": 1003, "user_id": 1743867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cad90354cb11d5f43b3aefe0fb637b8?s=128&d=identicon&r=PG", "display_name": "seal", "link": "https://stackoverflow.com/users/1743867/seal"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498597292, "post_id": 44788906, "comment_id": 76560403, "body": "@Mibac Now it printing the <code>What the hell is happening</code>. Before there was an error. I have made change like <code>if (ex.cause is ParseException) {                 logger.info(&quot;What the hell is happening&quot;)             }</code> . Before I was not extract the <code>cause</code>. You may review the Controller section again. I updated again."}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 1, "creation_date": 1498597295, "post_id": 44788906, "comment_id": 76560404, "body": "The thrown exception isn&#39;t <code>ParseException</code> - it&#39;s <code>UndeclaredThrowableException</code>. <code>ParseException</code> is the cause of <code>UndeclaredThrowableException</code> though"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1498597297, "post_id": 44788906, "comment_id": 76560407, "body": "the root exception is <code>UndeclaredThrowableException</code> not a <code>ParseException</code>"}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1498597785, "post_id": 44788906, "comment_id": 76560665, "body": "<code>UndeclaredThrowableException</code> is thrown when a separated <i>thread</i> exits with an exception if I&#39;m not mistaken. It&#39;s much more likely that the <code>ParseException</code> is the root than the other way around: I don&#39;t expect the parser to split off a separate thread."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1498598266, "post_id": 44788906, "comment_id": 76560906, "body": "And the trace confirms this by the way..."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 1, "creation_date": 1498598688, "post_id": 44788906, "comment_id": 76561113, "body": "I&#39;m not an expert on this, but I could imagine that the service and controller each run on their own invocable. In that case you should catch the exception locally, not in the calling function, as there is a proxy in between - and that proxy gets any runtime exceptions wrapped in the <code>UndeclaredThrowableException</code>. I could imagine that <i>explicitly throwing</i> this or otherwise a checked exception may also help."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1498598936, "post_id": 44788906, "comment_id": 76561246, "body": "An ugly hack would be to catch the <code>UndeclaredThrowableException</code> and then rethrow the cause (as exceptions in Kotlin are handled differently than in Java)"}, {"owner": {"reputation": 1003, "user_id": 1743867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cad90354cb11d5f43b3aefe0fb637b8?s=128&d=identicon&r=PG", "display_name": "seal", "link": "https://stackoverflow.com/users/1743867/seal"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1498599038, "post_id": 44788906, "comment_id": 76561306, "body": "@MaartenBodewes In Kotlin there is nothing like Checked Exception. Could it be another reason for throwing <code>UndeclaredThrowableException</code> ?"}, {"owner": {"reputation": 1003, "user_id": 1743867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cad90354cb11d5f43b3aefe0fb637b8?s=128&d=identicon&r=PG", "display_name": "seal", "link": "https://stackoverflow.com/users/1743867/seal"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1498599163, "post_id": 44788906, "comment_id": 76561373, "body": "@MaartenBodewes also I could do like - catch it as <code>Exception</code> and then check the cause if the instanceOf ParseException."}, {"owner": {"reputation": 1003, "user_id": 1743867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cad90354cb11d5f43b3aefe0fb637b8?s=128&d=identicon&r=PG", "display_name": "seal", "link": "https://stackoverflow.com/users/1743867/seal"}, "edited": false, "score": 0, "creation_date": 1498599457, "post_id": 44788906, "comment_id": 76561529, "body": "You guys can provide answer for this post along with possible work around. That will give me chance to upvote :)."}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 1, "creation_date": 1498599480, "post_id": 44788906, "comment_id": 76561546, "body": "That would also catch <code>ParseException</code> or one of its friends itself - not recommended."}], "answers": [{"comments": [{"owner": {"reputation": 1003, "user_id": 1743867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cad90354cb11d5f43b3aefe0fb637b8?s=128&d=identicon&r=PG", "display_name": "seal", "link": "https://stackoverflow.com/users/1743867/seal"}, "edited": false, "score": 0, "creation_date": 1498601044, "post_id": 44790461, "comment_id": 76562168, "body": "I may have several exception in service layer, DAO layer like SQLException, IOException, many custom exception. And I am catching those exception from controller  or  <code>ControllerAdvice</code>. What would be the best practice to handle this scenario ? Your given Option 1 or Option 2 ?"}, {"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "reply_to_user": {"reputation": 1003, "user_id": 1743867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cad90354cb11d5f43b3aefe0fb637b8?s=128&d=identicon&r=PG", "display_name": "seal", "link": "https://stackoverflow.com/users/1743867/seal"}, "edited": false, "score": 2, "creation_date": 1498601836, "post_id": 44790461, "comment_id": 76562454, "body": "Although I have little experience with such a server setup, I would prefer fail fast - the more locally you can handle exceptions the better. That said, you may have to catch an exception at the controller anyway. The best thing to do is probably to catch specific excpetions locally and then catch a service specific exception at the controller. As always: think of what <b>you</b> want to do with the exception when it is thrown. Then the solution should come to you automatically."}], "tags": [], "owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "is_accepted": false, "score": 1, "last_activity_date": 1498599885, "creation_date": 1498599885, "answer_id": 44790461, "question_id": 44788906, "link": "https://stackoverflow.com/questions/44788906/why-kotlin-receives-such-an-undeclaredthrowableexception-rather-than-a-parseexce/44790461#44790461", "title": "Why Kotlin receives such an UndeclaredThrowableException rather than a ParseException?", "body": "<p>It seems that your service is running in a different invocation context than your controller. As the service is throwing the exception you cannot catch it in the controller; it looks like you're calling the service directly, but due to code injection you really aren't. So what happens is that the invocation context (usually a thread) ends with an exception. This gets translated into a <code>UndeclaredThrowableException</code> with the original exception as cause.</p>\n\n<p>There are two ways of dealing with this:</p>\n\n<ol>\n<li>catch the exception locally in the service where the exception is generated;</li>\n<li>catch the <code>UndeclaredThrowableException</code> in a separate try/catch and then re-throw the cause.</li>\n</ol>\n\n<p>The first option should be preferred but requires you to handle the exception in the service. The second one looks too much like a hack to me, but it doesn't require setting up the exception handling in the service instead of the controller.</p>\n"}, {"comments": [{"owner": {"reputation": 1003, "user_id": 1743867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cad90354cb11d5f43b3aefe0fb637b8?s=128&d=identicon&r=PG", "display_name": "seal", "link": "https://stackoverflow.com/users/1743867/seal"}, "edited": false, "score": 0, "creation_date": 1498603666, "post_id": 44790753, "comment_id": 76563007, "body": "Could you explain a bit more about this - <code>when the kotlin function throw a java checked exception and don&#39;t declare the exception that it will maybe throwing (actually you can&#39;t declare any exception to be throwing at all)</code>"}, {"owner": {"reputation": 1003, "user_id": 1743867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cad90354cb11d5f43b3aefe0fb637b8?s=128&d=identicon&r=PG", "display_name": "seal", "link": "https://stackoverflow.com/users/1743867/seal"}, "edited": false, "score": 0, "creation_date": 1498605410, "post_id": 44790753, "comment_id": 76563506, "body": "OK . But why not this &quot;peculiar&quot;  exception thrown in simple kotlin program. For example that code I gave in my post at very first."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 1003, "user_id": 1743867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cad90354cb11d5f43b3aefe0fb637b8?s=128&d=identicon&r=PG", "display_name": "seal", "link": "https://stackoverflow.com/users/1743867/seal"}, "edited": false, "score": 1, "creation_date": 1498605736, "post_id": 44790753, "comment_id": 76563601, "body": "@seal becaue your example don&#39;t using java proxy in kotlin."}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 1, "creation_date": 1498611220, "post_id": 44790753, "comment_id": 76564853, "body": "Kotlin can explicitly declare something maybe thrown using <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-throws/index.html\" rel=\"nofollow noreferrer\"><code>@Throws</code></a> annotation to support Java interop. It will be a hazard for kotlin libraries targeting JVM if they can&#39;t specify an exception being thrown in the method signature."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 21, "last_activity_date": 1498612557, "last_edit_date": 1498612557, "creation_date": 1498601452, "answer_id": 44790753, "question_id": 44788906, "link": "https://stackoverflow.com/questions/44788906/why-kotlin-receives-such-an-undeclaredthrowableexception-rather-than-a-parseexce/44790753#44790753", "title": "Why Kotlin receives such an UndeclaredThrowableException rather than a ParseException?", "body": "<p>The <code>UndeclaredThrowableException</code> is caused by kotlin. why? we know kotlin does not have checked exceptions.</p>\n\n<p>The documentation of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/reflect/UndeclaredThrowableException.html\" rel=\"noreferrer\">UndeclaredThrowableException</a> says:</p>\n\n<blockquote>\n  <p>Thrown by <strong>a method invocation</strong> on a <strong>proxy instance</strong> if its invocation handler's invoke method throws a checked exception</p>\n</blockquote>\n\n<p>On the other hand, Kotlin can throw any exceptions but in java them will are: unchecked/checked exception and error.\nwe know almost all of the popular frameworks is created base on <code>java.reflect</code> package includes <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Proxy.html\" rel=\"noreferrer\">java.reflect.Proxy</a>.</p>\n\n<p>In short, when the kotlin function throw a java <strong>checked exception</strong> and don't declare the exception that it will maybe throwing.\nthen call a java <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Proxy.html\" rel=\"noreferrer\">Proxy</a> you maybe receive such a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/reflect/UndeclaredThrowableException.html\" rel=\"noreferrer\">UndeclaredThrowableException</a>.</p>\n\n<p>In java you can declare a checked-exception will be throwing as below:</p>\n\n<pre><code>//                v--- it is a checked exception in java\nint read() throws IOException{/**/}\n</code></pre>\n\n<p>Thanks for @glee8e to points my mistake.\nyou also can throws an exception in kotlin, since kotlin don't have <code>throws</code> keyword so you must using <code>@Throws</code> to declare an exception will be throwing:</p>\n\n<pre><code>@Throws(IOException::class)\nfun read():Int{/**/}\n</code></pre>\n\n<hr>\n\n<p>let's reproduce the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/reflect/UndeclaredThrowableException.html\" rel=\"noreferrer\">UndeclaredThrowableException</a> in kotlin:</p>\n\n<pre><code>//throws a UndeclaredThrowableException takes the original IOException as its cause\n// because java.lang.Runnable don't declare any checked exception at all\n//                                                      |\n//                                                      v\nRunnable::class.proxying(::throwsAJavaCheckedException).run()\n\n\n// throws the original IOException directly because java.util.concurrent.Callable\n// has declared that it will be throwing a checked Exception\n//                                                      |\n//                                                      v\nCallable::class.proxying(::throwsAJavaCheckedException).call()\n</code></pre>\n\n<hr>\n\n<pre><code>fun throwsAJavaCheckedException(proxy:Any, method:Method, args:Array&lt;Any&gt;?): Any? {\n    throw IOException();\n}\n\ntypealias Invocation = (Any, Method, Array&lt;Any&gt;?) -&gt; Any?;\n\nfun &lt;T:Any&gt; KClass&lt;T&gt;.proxying(handler:Invocation) = cast(Proxy.newProxyInstance(\n        ClassLoader.getSystemClassLoader(),\n        arrayOf(java),\n        handler\n));\n</code></pre>\n\n<h2>How to avoiding this problem?</h2>\n\n<p>If the function is wrote by yourself the solution is so simpler.\nyes, declare the function will be throwing a checked exception. for example:</p>\n\n<pre><code>@Throws(ParseException::class)\nfun convertToDate(){/**/}\n</code></pre>\n\n<p><strong>OR</strong> write some gradle-plugin like as <code>allopen</code>, I named it <code>allthrows</code> here.</p>\n\n<p><strong>But</strong> you also can make some compromises. If you are not sure what will be happens in the frameworks like as spring,\n you should wrap your invocation into a helper method. for example:</p>\n\n<pre><code>val task = Runnable::class.proxying(::throwsAJavaCheckedException)\n\n//  v-- the result return by catch-block immediately if no exception occurs\nval result : Unit = catch(task::run).by { actual: Throwable -&gt;\n    val exceptional: Unit = Unit;\n    //    v--- you can choose return an exceptional value or rethrow the exception\n    when (actual) {\n        is RuntimeException -&gt; exceptional\n        is ParseException -&gt; logger.info(acutal)\n        else -&gt; throw actual\n    }\n}\n\n\nval result : Unit? = catch(task::run).only { actual:Throwable -&gt;\n// only handle the exception don't return the exceptional value\n    logger.info(actual);\n}\n</code></pre>\n\n<hr>\n\n<pre><code>inline fun &lt;T&gt; catch(crossinline block: () -&gt; T): () -&gt; T {\n    return { block(); };\n}\n\ninline fun &lt;T&gt; (() -&gt; T).by(exceptionally: (Throwable) -&gt; T): T {\n    return only { exceptionally(it) }!!\n}\n\ninline fun &lt;T : R, R&gt; (() -&gt; T).only(exceptionally: (Throwable) -&gt; R): R? {\n    try {\n        return invoke();\n    } catch(e: UndeclaredThrowableException) {\n        return exceptionally(e.cause ?: e);\n    } catch(e: Exception) {\n        return exceptionally(e);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1003, "user_id": 1743867, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cad90354cb11d5f43b3aefe0fb637b8?s=128&d=identicon&r=PG", "display_name": "seal", "link": "https://stackoverflow.com/users/1743867/seal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5604, "favorite_count": 2, "accepted_answer_id": 44790753, "answer_count": 2, "score": 14, "last_activity_date": 1498612557, "creation_date": 1498593732, "last_edit_date": 1498610955, "question_id": 44788906, "link": "https://stackoverflow.com/questions/44788906/why-kotlin-receives-such-an-undeclaredthrowableexception-rather-than-a-parseexce", "title": "Why Kotlin receives such an UndeclaredThrowableException rather than a ParseException?", "body": "<p>I have an <code>extension</code> method that converts string to Date in Kotlin. </p>\n\n<pre><code>fun String.convertToDate() : Date {\n  var pattern: String = \"dd-mm-yyyy\"\n  val dateFormatter = SimpleDateFormat(pattern)\n  return dateFormatter.parse(this) // parse method throw ParseException\n}\n</code></pre>\n\n<p>And this is the code where I am trying to catch possible exception.</p>\n\n<pre><code>    try {\n        \"22---2017\".convertToDate()\n    } catch (ex: ParseException) {\n        // ParseException supposed to be caught in this block\n\n        logger.error(\"Parse exception occur\")      \n    } catch (ex: Exception) {\n\n        // ParseException caught in this block\n\n        logger.error(\"Exception occur\")            \n    }\n</code></pre>\n\n<p>The <code>ParseException</code> caught in the last block that is where <code>Exception</code> is caught. But should it be caught in the ParseException block ? What am I missing here ? </p>\n\n<p>===<strong>UPDATE</strong>===</p>\n\n<p>I am developing an Spring MVC project. I have run the code in simple stand alone  kotlin program where it behaves accordingly. But in my spring project it behaves differently. I am giving the the full code, <code>Controller</code> and the <code>Service</code> layer. </p>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>@PostMapping\n@PreAuthorize(\"hasAnyRole('USER','ROLE_USER','ROLE_ADMIN','ADMIN')\")\nfun postAttendance(@RequestBody attendanceJson: AttendanceJsonWrapper,\n                   request: HttpServletRequest): ResponseEntity&lt;*&gt; {\n    val organization = getOrganizationFromSession(request)\n    try {\n        val attendanceBook: AttendanceBook = attendanceService.post(attendanceJson, organization.id!!)\n        logger.info(\"Post successfully attendance book {}\", attendanceBook)\n    } catch (ex: SameDateAttendanceException) {\n        logger.error(\"Duplicate attendance entry found at date [{}]\", attendanceJson.date, attendanceJson.classId)\n        return responseConflict(attendanceJson)\n    } catch (ex: java.text.ParseException) {\n        ex.printStackTrace()\n        logger.error(\"Parse exception occur\")\n        return responseError(ErrorObject(\n                attendanceJson,\n                \"date\",\n                Constants.INVALID_DATE_FORMAT,\n                Constants.EXPECTED_DATE_FORMAT))\n    } catch (ex: Exception) {\n        ex.printStackTrace()\n        logger.error(\"Exception occur\")\n        if (ex.cause is ParseException) {\n            logger.info(\"What the hell is happening\")\n        }\n    return responseOK(attendanceJson)\n}\n</code></pre>\n\n<p><strong>Service</strong></p>\n\n<pre><code>@Service\nopen class AttendanceService constructor(val attendanceRepository: AttendanceRepository) {\n@Transactional\nopen fun post(attendanceJsonWrapper: AttendanceJsonWrapper, orgId: Long): AttendanceBook {\n    // ParseException should thrown from this line.\n    val _attendanceDate = attendanceJsonWrapper.date.convertToDate()\n    // Other logic goes here\n    return attendanceRepository.save(attendanceBook)\n}\n}\n</code></pre>\n\n<p><strong>Log</strong></p>\n\n<p>for given input <code>28--2017</code> from front end following log produced.</p>\n\n<pre><code>2017-06-28 02:36:52.942 ERROR 4632 --- [nio-8080-exec-1] c.l.c.rest.AttendanceRestController      : Exception occur\n2017-06-28 02:52:32.485  INFO 2796 --- [io-8080-exec-10] c.l.c.rest.AttendanceRestController      : What the hell is happening\n</code></pre>\n\n<p><strong>Exception</strong></p>\n\n<pre><code>java.lang.reflect.UndeclaredThrowableException\nat com.lynas.service.AttendanceService$$EnhancerBySpringCGLIB$$7b42c004.post(&lt;generated&gt;)\nat com.lynas.controller.rest.AttendanceRestController.postAttendance(AttendanceRestController.kt:34)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:133)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:661)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:742)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:110)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:114)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:170)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:116)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:124)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:64)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.springframework.boot.actuate.autoconfigure.MetricsFilter.doFilterInternal(MetricsFilter.java:106)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342)\nat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799)\nat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66)\nat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861)\nat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455)\nat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\nat java.lang.Thread.run(Thread.java:745)\nCaused by: java.text.ParseException: Unparseable date: \"28--2017\"\nat java.text.DateFormat.parse(DateFormat.java:366)\nat com.lynas.util.UtilKt.convertToDate(Util.kt:56)\nat com.lynas.service.AttendanceService.post(AttendanceService.kt:23)\nat com.lynas.service.AttendanceService$$FastClassBySpringCGLIB$$2b941a4b.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:738)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:673)\n... 103 more\n</code></pre>\n"}, {"tags": ["html", "spring-mvc", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1498588429, "post_id": 44787389, "comment_id": 76555666, "body": "Your website link points to <code>localhost</code>."}, {"owner": {"reputation": 1, "user_id": 8222049, "user_type": "registered", "profile_image": "https://graph.facebook.com/323731938073959/picture?type=large", "display_name": "Rare\u015f Cristian", "link": "https://stackoverflow.com/users/8222049/rare%c5%9f-cristian"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1498589124, "post_id": 44787389, "comment_id": 76556095, "body": "Yes, my bad. Had forgotten it is only locally available. I added a description of what appears. It&#39;s very minimalistic, so it shouldn&#39;t be a problem on that end."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8222049, "user_type": "registered", "profile_image": "https://graph.facebook.com/323731938073959/picture?type=large", "display_name": "Rare\u015f Cristian", "link": "https://stackoverflow.com/users/8222049/rare%c5%9f-cristian"}, "is_accepted": false, "score": 0, "last_activity_date": 1498590219, "creation_date": 1498590219, "answer_id": 44787959, "question_id": 44787389, "link": "https://stackoverflow.com/questions/44787389/integrating-html-and-css-with-kotlin-and-spring-mvc/44787959#44787959", "title": "Integrating HTML and CSS with Kotlin and Spring MVC", "body": "<p>The problem was that I was using the @RestController when I should have used only @Controller. \nAdditionally, the html file should have been located in the resources/templates directory.</p>\n"}], "owner": {"reputation": 1, "user_id": 8222049, "user_type": "registered", "profile_image": "https://graph.facebook.com/323731938073959/picture?type=large", "display_name": "Rare\u015f Cristian", "link": "https://stackoverflow.com/users/8222049/rare%c5%9f-cristian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 417, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498590219, "creation_date": 1498588045, "last_edit_date": 1498588960, "question_id": 44787389, "link": "https://stackoverflow.com/questions/44787389/integrating-html-and-css-with-kotlin-and-spring-mvc", "title": "Integrating HTML and CSS with Kotlin and Spring MVC", "body": "<p>I would like to add some html and css for my spring project. I am running gradle, and using Kotlin. My current tree directory is like so: <a href=\"https://i.stack.imgur.com/DrL75.png\" rel=\"nofollow noreferrer\">link</a> (I have not included gradle build files). </p>\n\n<p>I am simply trying to print \"Hello $name$\" given some input at web address. This works. Here is GreetingController.kt :</p>\n\n<pre><code>@RestController\n    class GreetingController {\n\n    @RequestMapping(\"/greeting\")\n         fun greeting(@RequestParam(value = \"name\", defaultValue = \"World\") name: String, model: Model) {\n         model.addAttribute(\"name\", name);\n         return \"greeting\";\n    }\n}\n</code></pre>\n\n<p>My gradle.build file:</p>\n\n<pre><code>buildscript {\next.kotlin_version = '1.1.2' // Required for Kotlin integration\next.spring_boot_version = '1.5.3.RELEASE'\nrepositories {\n    jcenter()\n    mavenCentral()\n}\n    dependencies {\n        classpath \"se.transmode.gradle:gradle-docker:1.2\"\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\" // Required for Kotlin integration\n        classpath \"org.springframework.boot:spring-boot-gradle-plugin:$spring_boot_version\"\n     }\n}\n\napply plugin: 'docker'\napply plugin: 'eclipse'\napply plugin: 'idea'\napply plugin: 'kotlin' // Required for Kotlin integration\napply plugin: 'org.springframework.boot'\napply plugin: 'application'\n\njar {\n    baseName = 'webapp'\n    version = '0.1.0'\n}\n\nrepositories {\n    jcenter()\n}\n\ndependencies {\n    compile \"org.springframework.boot:spring-boot-starter-thymeleaf\"\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\" // Required for Kotlin integration\n    compile 'org.springframework.boot:spring-boot-starter-web'\n    testCompile 'junit:junit'\n}\n\ntask buildDocker(type: Docker, dependsOn: build) {\n    push = false\n    applicationName = jar.baseName\n    dockerfile = file('src/main/docker/Dockerfile')\n    doFirst {\n        copy {\n            from jar\n            into stageDir\n        }\n    }\n} \n\ntask wrapper(type: Wrapper) {\n    gradleVersion = '3.5'\n}\n\nspringBoot {\n    mainClass = 'com.tunnll.spring.webapp.Application'\n}\n</code></pre>\n\n<p>Additionally, my html file: </p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html xmlns:th=\"http://www.thymeleaf.org\"&gt;\n&lt;head&gt;\n&lt;title&gt;Getting Started: Serving Web Content&lt;/title&gt;\n&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;p th:text=\"'Hello, ' + ${name} + '!'\" /&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>EDIT: The website is running locally, so I cannot provide a link.\nAt present, it prints \"greeting\" which is what I am returning in the GreetingController. However, I would like it to show up as \"Hello World\", which is what would be produced by the html file. It may be an issue that the html file is not connected to the application. I'm not certain. Any help would be appreciated. </p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1498587364, "post_id": 44787177, "comment_id": 76555116, "body": "TL;DR: this feature is not present in Kotlin."}, {"owner": {"reputation": 1482, "user_id": 1468531, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/HYEt1.jpg?s=128&g=1", "display_name": "Moses Aprico", "link": "https://stackoverflow.com/users/1468531/moses-aprico"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1498587481, "post_id": 44787177, "comment_id": 76555174, "body": "@zsmb13 whoop, missed that search result. :( Flagged as duplicate. Thanks"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1498593005, "post_id": 44787177, "comment_id": 76558193, "body": "You could use destructuring though. 2 arguments: <code>val (first, second) = 1 to 2</code>. 3 arguments: <code>val (first, second, third) = Triple(1,2,3)</code>. For more, you need a data class. I wouldn&#39;t really recommend doing it unless you have the object to destructure from before though. You shouldn&#39;t create an object just to destructure it."}], "owner": {"reputation": 1482, "user_id": 1468531, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/HYEt1.jpg?s=128&g=1", "display_name": "Moses Aprico", "link": "https://stackoverflow.com/users/1468531/moses-aprico"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "closed_date": 1498587497, "answer_count": 0, "score": 0, "last_activity_date": 1498587235, "creation_date": 1498587235, "question_id": 44787177, "link": "https://stackoverflow.com/questions/44787177/chaining-declarations-of-property-field-in-kotlin", "closed_reason": "Duplicate", "title": "Chaining declarations of property / field in Kotlin", "body": "<p>For example, in java, we can do something like:</p>\n\n<p><code>int first = 1, second = 2, third = 3;</code></p>\n\n<p>How to do such thing in Kotlin <strong>aside</strong> from declaring one-by-one like:</p>\n\n<pre><code>var first: Int = 1\nvar second: Int = 2\nvar third: Int = 3\n</code></pre>\n\n<p><strong>Maybe</strong> something like this (I know below code <strong>doesn't work</strong> in kotlin, just to make a visualization)</p>\n\n<p><code>var first = 1, second = 2, third = 3: Int //Error</code></p>\n\n<hr>\n\n<p><strong>ADDITIONAL NOTES (What I already know)</strong></p>\n\n<p>I definitely didn't mean this:</p>\n\n<p><code>var first: Integer = 1; var second: Integer = 2; var third: Integer = 3</code></p>\n\n<p>Neither this:</p>\n\n<p><code>var first = 1; var second = 2; var third = 3</code></p>\n"}, {"tags": ["java", "jvm", "kotlin"], "comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498589639, "post_id": 44787176, "comment_id": 76556344, "body": "<code>Where does this conversion actually happen?</code> What do you mean by that? Kotlin&#39;s <code>String</code> is basically a typealias of Java&#39;s <code>java.lang.String</code>"}, {"owner": {"reputation": 18360, "user_id": 2911458, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3a6060bc7ace07fa75791cd5dac2d46a?s=128&d=identicon&r=PG", "display_name": "stkent", "link": "https://stackoverflow.com/users/2911458/stkent"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498589797, "post_id": 44787176, "comment_id": 76556424, "body": "@Mibac how do you know that? It&#39;s not obvious from the source code, as I showed above, so that &quot;aliasing&quot; must occur somewhere. I&#39;m looking for the <i>where</i> part :)"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1498594477, "post_id": 44787176, "comment_id": 76558956, "body": "I think there&#39;s a bit of compiler magic involved to make strings work like Java strings. I couldn&#39;t find documentation for it right now though."}], "answers": [{"comments": [{"owner": {"reputation": 18360, "user_id": 2911458, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3a6060bc7ace07fa75791cd5dac2d46a?s=128&d=identicon&r=PG", "display_name": "stkent", "link": "https://stackoverflow.com/users/2911458/stkent"}, "edited": false, "score": 0, "creation_date": 1498610346, "post_id": 44791029, "comment_id": 76564634, "body": "Ah, nice find! Armed with this information I found <a href=\"https://github.com/JetBrains/kotlin/blob/v1.1.2/core/descriptor.loader.java/src/org/jetbrains/kotlin/platform/JavaToKotlinClassMap.java\" rel=\"nofollow noreferrer\">this relevant class</a> from within the Kotlin repo, which defines the mappings described in the documentation. In fact the whole <a href=\"https://github.com/JetBrains/kotlin/tree/v1.1.2/core/descriptor.loader.java/src/org/jetbrains/kotlin/platform\" rel=\"nofollow noreferrer\"><code>platform</code> directory</a> is interesting."}, {"owner": {"reputation": 18360, "user_id": 2911458, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3a6060bc7ace07fa75791cd5dac2d46a?s=128&d=identicon&r=PG", "display_name": "stkent", "link": "https://stackoverflow.com/users/2911458/stkent"}, "edited": false, "score": 0, "creation_date": 1498610463, "post_id": 44791029, "comment_id": 76564662, "body": "Also <a href=\"https://github.com/JetBrains/kotlin/blob/v1.1.2/j2k/src/org/jetbrains/kotlin/j2k/Converter.kt\" rel=\"nofollow noreferrer\">the <code>Converter</code> type</a>."}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 3, "last_activity_date": 1498603143, "creation_date": 1498603143, "answer_id": 44791029, "question_id": 44787176, "link": "https://stackoverflow.com/questions/44787176/how-can-i-identify-when-a-kotlin-type-will-be-mapped-to-a-java-type/44791029#44791029", "title": "How can I identify when a Kotlin type will be mapped to a Java type?", "body": "<p>In Kotlin/JVM <code>kotlin.String</code> is one of the <a href=\"http://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">mapped types</a> - a type that is represented with some existing JDK class in runtime.</p>\n\n<p>Therefore a cast between <code>kotlin.String</code> and <code>java.lang.String</code> succeeds in runtime, even though these are two unrelated types from the point of Kotlin type system.</p>\n"}], "owner": {"reputation": 18360, "user_id": 2911458, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3a6060bc7ace07fa75791cd5dac2d46a?s=128&d=identicon&r=PG", "display_name": "stkent", "link": "https://stackoverflow.com/users/2911458/stkent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 44791029, "answer_count": 1, "score": 3, "last_activity_date": 1498603143, "creation_date": 1498587230, "question_id": 44787176, "link": "https://stackoverflow.com/questions/44787176/how-can-i-identify-when-a-kotlin-type-will-be-mapped-to-a-java-type", "title": "How can I identify when a Kotlin type will be mapped to a Java type?", "body": "<h1>Context</h1>\n\n\n\n<p>Kotlin's <code>kotlin.String</code> type is <a href=\"https://github.com/JetBrains/kotlin/blob/v1.1.2/core/builtins/native/kotlin/String.kt#L23-L38\" rel=\"nofollow noreferrer\">currently defined as follows (1.1.2)</a>:</p>\n\n<pre><code>public class String : Comparable&lt;String&gt;, CharSequence {\n    companion object {}\n\n    // Operator and override function definitions.\n}\n</code></pre>\n\n<p>Some extensions defined on <code>kotlin.String</code> cast the receiving instance to the <code>java.lang.String</code> type to forward method invocations. <a href=\"https://github.com/JetBrains/kotlin/blob/v1.1.2/libraries/stdlib/src/kotlin/text/StringsJVM.kt#L92-L96\" rel=\"nofollow noreferrer\">For example (1.1.2)</a>:</p>\n\n<pre><code>@kotlin.internal.InlineOnly\npublic inline fun String.toLowerCase(): String = (this as java.lang.String).toLowerCase()\n</code></pre>\n\n<p>However, nothing in the <code>kotlin.String</code> type <em>definition</em> makes it clear to me that this cast is guaranteed to succeed.</p>\n\n<h1>Questions</h1>\n\n<ul>\n<li>Is there any way to easily determine if any given Kotlin type is mapped to a corresponding Java type in this manner?</li>\n<li>Where does this conversion actually happen? (Looking for a link to the relevant source code if possible.)</li>\n</ul>\n"}, {"tags": ["javascript", "node.js", "kotlin"], "comments": [{"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 2, "creation_date": 1498587078, "post_id": 44786990, "comment_id": 76554965, "body": "What are you trying to do? Use JavaScript in a Kotlin program? Use Kotlin For what platform (server, android)? Or are you trying to use Kotlin in a node program?"}], "answers": [{"comments": [{"owner": {"reputation": 710, "user_id": 1842548, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/17d979c4dcb1e86a573d3fcd4f7cb782?s=128&d=identicon&r=PG", "display_name": "SigmaSoldier", "link": "https://stackoverflow.com/users/1842548/sigmasoldier"}, "edited": false, "score": 1, "creation_date": 1589276743, "post_id": 44797802, "comment_id": 109222066, "body": "Deactivated or deleted account (broken link), could you provide a simple hello world?"}], "tags": [], "owner": {"reputation": 1598, "user_id": 4747981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PHhrz.jpg?s=128&g=1", "display_name": "Bulwinkel", "link": "https://stackoverflow.com/users/4747981/bulwinkel"}, "is_accepted": false, "score": 1, "last_activity_date": 1498639754, "creation_date": 1498639754, "answer_id": 44797802, "question_id": 44786990, "link": "https://stackoverflow.com/questions/44786990/how-to-integrate-kotlin-with-node-js/44797802#44797802", "title": "how to integrate kotlin with node.js", "body": "<p><a href=\"https://medium.com/@Miqubel/your-first-node-js-app-with-kotlin-30e07baa0bf7\" rel=\"nofollow noreferrer\">This blog post</a> has a great walk through of setting up a simple nodejs app with Kotlin. All credit to the author <a href=\"https://medium.com/@Miqubel\" rel=\"nofollow noreferrer\">Miquel Beltran</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 3065813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GDQ54.png?s=128&g=1", "display_name": "techprd.com", "link": "https://stackoverflow.com/users/3065813/techprd-com"}, "is_accepted": false, "score": 0, "last_activity_date": 1509981531, "creation_date": 1509981531, "answer_id": 47140167, "question_id": 44786990, "link": "https://stackoverflow.com/questions/44786990/how-to-integrate-kotlin-with-node-js/47140167#47140167", "title": "how to integrate kotlin with node.js", "body": "<p>You can write your app in kotlin then compile it to JavaScript and then run it with node </p>\n\n<p>Here is example project on GitHub:\n<a href=\"https://github.com/techprd/kotlin_node_js_seed\" rel=\"nofollow noreferrer\">Node js Todo app written entirely with kotlin</a></p>\n"}], "owner": {"reputation": 55, "user_id": 6752097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bc3d135b4930acd2afb0492134f3183?s=128&d=identicon&r=PG&f=1", "display_name": "ankush tiwari", "link": "https://stackoverflow.com/users/6752097/ankush-tiwari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1985, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1509981531, "creation_date": 1498586553, "last_edit_date": 1498586736, "question_id": 44786990, "link": "https://stackoverflow.com/questions/44786990/how-to-integrate-kotlin-with-node-js", "title": "how to integrate kotlin with node.js", "body": "<p>I'm new in kotlin and found that we can integrate JavaScript with kotlin but I'm not able to understand how I can achieve this with the nodejs and kotlin.</p>\n\n<p>I found that I can use the <a href=\"http://kotlinlang.org/docs/reference/js-interop.html\" rel=\"nofollow noreferrer\">javaScript with kotlin</a> \nbut not able to setup kotlin with javascript.\nAny help would be appreciated.\nThanks</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1498580852, "post_id": 44785306, "comment_id": 76551553, "body": "You need to define &quot;work&quot;. What should null compare to 42 be? What should 42 compare to null be? What should null compare to null be?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1498580886, "post_id": 44785306, "comment_id": 76551573, "body": "You need to define &quot;work&quot;. What should null compare to 42 be? What should 42 compare to null be? What should null compare to null be?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1498580919, "post_id": 44785306, "comment_id": 76551590, "body": "Comparing nullable primitives is generally pretty complicated. Using the default <code>compareTo</code> implementation in these cases is only really possible the way you&#39;ve already shown. The first thing you&#39;d have to decide is what you want the results of comparisons against <code>null</code> values to result in, then you can write your own solution for comparing them."}, {"owner": {"reputation": 626, "user_id": 790832, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/52cbd33cb7d8a8644e70ce1b519df0d3?s=128&d=identicon&r=PG", "display_name": "Dusko", "link": "https://stackoverflow.com/users/790832/dusko"}, "edited": false, "score": 0, "creation_date": 1498596849, "post_id": 44785306, "comment_id": 76560178, "body": "I agree that it is hard to compare null value with an existing one, but let&#39;s say I am trying to find a way to compare primitives that are not exiting in Kotlin as everything is an object. For example Python I believe treats everything as an object but (5 &lt; 4) == True exists."}, {"owner": {"reputation": 626, "user_id": 790832, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/52cbd33cb7d8a8644e70ce1b519df0d3?s=128&d=identicon&r=PG", "display_name": "Dusko", "link": "https://stackoverflow.com/users/790832/dusko"}, "edited": false, "score": 0, "creation_date": 1499954267, "post_id": 44785306, "comment_id": 77138181, "body": "I realised above is not true, there are primitives in a way and can be compared when it is not a nullable object in question."}], "answers": [{"tags": [], "owner": {"reputation": 7635, "user_id": 1722882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3nr6N.png?s=128&g=1", "display_name": "Plog", "link": "https://stackoverflow.com/users/1722882/plog"}, "is_accepted": false, "score": 0, "last_activity_date": 1498580818, "creation_date": 1498580818, "answer_id": 44785415, "question_id": 44785306, "link": "https://stackoverflow.com/questions/44785306/what-is-the-right-approach-when-kotlin-function-does-not-take-nullable-type/44785415#44785415", "title": "What is the right approach when Kotlin function does not take nullable type", "body": "<p>The Int.compareTo() method's signature is not defined for nullable arguments so it's not possible to do without ensuring null safety of the argument by e.g. using an elvis operator just as you have suggested.</p>\n"}, {"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1498582485, "post_id": 44785435, "comment_id": 76552504, "body": "sir, the expression <code>(null?:0).compareTo(-1) </code> violate the rule. it return a positive number <code>1</code>."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1498585695, "post_id": 44785435, "comment_id": 76554242, "body": "... which means that <code>null</code> is greater than <code>-1</code>, which is what you expect if you assume that <code>null</code> is equivalent to <code>0</code>."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1498580859, "creation_date": 1498580859, "answer_id": 44785435, "question_id": 44785306, "link": "https://stackoverflow.com/questions/44785306/what-is-the-right-approach-when-kotlin-function-does-not-take-nullable-type/44785435#44785435", "title": "What is the right approach when Kotlin function does not take nullable type", "body": "<p>You should try to implement your solution without nullability. But if you still need it and if it's safe to assume that <code>null==0</code> you should not use the <code>?.</code> method call. It'll return you an <code>Int?</code> as well. Just map both <code>null</code> integers to 0.</p>\n\n<pre><code>(a?:0).compareTo(b?:0)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": false, "score": 0, "last_activity_date": 1498580967, "creation_date": 1498580967, "answer_id": 44785467, "question_id": 44785306, "link": "https://stackoverflow.com/questions/44785306/what-is-the-right-approach-when-kotlin-function-does-not-take-nullable-type/44785467#44785467", "title": "What is the right approach when Kotlin function does not take nullable type", "body": "<p>The only better way is to implement <code>compareTo</code> yourself. The default compare does not know what result you want when you compare i.e. <code>12</code> to <code>null</code> or <code>null</code> to <code>null</code>. It only knows how to compare actual numbers. I think your best way is to implement the behaviour you want for dealing with <code>null</code>s.</p>\n\n<p>Example implementation:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(compareNullableInts(null, 2))    // -1\n    println(compareNullableInts(null, null)) // 0\n    println(compareNullableInts(2, null))    // 1\n    println(compareNullableInts(10, 5))      // 1\n}\n\n\nfun compareNullableInts(a: Int?, b: Int?): Int {\n    if (a == null &amp;&amp; b == null) return 0\n    if (a == null) return -1\n    if (b == null) return 1\n    return a.compareTo(b)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": -1, "last_activity_date": 1498583582, "last_edit_date": 1498583582, "creation_date": 1498581524, "answer_id": 44785615, "question_id": 44785306, "link": "https://stackoverflow.com/questions/44785306/what-is-the-right-approach-when-kotlin-function-does-not-take-nullable-type/44785615#44785615", "title": "What is the right approach when Kotlin function does not take nullable type", "body": "<p>the expression should be like this:</p>\n\n<pre><code>val result = b?.let { a?.compareTo(b) ?: -1 } ?: 1;\n</code></pre>\n\n<h2>Examples</h2>\n\n<pre><code>&gt; a = 1      b = 2          ---&gt;  -1\n\n&gt; a = null   b = 2          ---&gt;  -1\n\n&gt; a = null   b = -1          ---&gt;  -1\n\n&gt; a = 1      b = null       ---&gt;   1\n\n&gt; a = -1      b = null       ---&gt;   1\n\n&gt; a = null   b = null       ---&gt;   1 // the order is no matter\n</code></pre>\n\n<p><strong>IF</strong> you want to let <code>null</code> compare <code>null</code> return <code>0</code> then the expression is a bit long:</p>\n\n<pre><code>val result = b?.let { a?.compareTo(b) ?: -1 } ?: a?.let { 1 } ?: 0;\n</code></pre>\n\n<p><strong>Note</strong>: you don't care about the performance, since <code>let</code> function is an inline function. which means it will generates the code like as below in java:</p>\n\n<pre><code>int result =  b != null ? a != null ? a.compareTo(b) : -1 : a != null ? 1 : 0;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2178, "user_id": 4260554, "user_type": "registered", "accept_rate": 47, "profile_image": "https://i.stack.imgur.com/GVZ6I.jpg?s=128&g=1", "display_name": "Vadims Savjolovs", "link": "https://stackoverflow.com/users/4260554/vadims-savjolovs"}, "is_accepted": true, "score": 2, "last_activity_date": 1498639765, "creation_date": 1498639765, "answer_id": 44797806, "question_id": 44785306, "link": "https://stackoverflow.com/questions/44785306/what-is-the-right-approach-when-kotlin-function-does-not-take-nullable-type/44797806#44797806", "title": "What is the right approach when Kotlin function does not take nullable type", "body": "<p>You can do </p>\n\n<pre><code>val a: Int? = 1\nval b: Int? = 2\nb?.let {\n   a?.compareTo(b)\n}\n</code></pre>\n\n<p><code>let</code> block will be executed only if b is not null.</p>\n\n<p>Or just</p>\n\n<pre><code>if (a != null &amp;&amp; b != null) {\n   a.compareTo(b)\n}\n</code></pre>\n\n<p>I think second solution is very clear and easy to read.</p>\n"}], "owner": {"reputation": 626, "user_id": 790832, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/52cbd33cb7d8a8644e70ce1b519df0d3?s=128&d=identicon&r=PG", "display_name": "Dusko", "link": "https://stackoverflow.com/users/790832/dusko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 44797806, "answer_count": 5, "score": 2, "last_activity_date": 1498639765, "creation_date": 1498580459, "question_id": 44785306, "link": "https://stackoverflow.com/questions/44785306/what-is-the-right-approach-when-kotlin-function-does-not-take-nullable-type", "title": "What is the right approach when Kotlin function does not take nullable type", "body": "<p>So I was solving Koans problem and through my overly complex solution bumped into a thing that bothers me. I was using Int.compareTo() function on nullable types. It is \"easy\" if the first one is nullable because I just write:</p>\n\n<pre><code>val a : Int? = 1\nval b : Int = 1\na?.compareTo(b)\n</code></pre>\n\n<p>But if b is nullable, then I was not able to get it to work, maybe I missed something somewhere? So what to do when this is the case?</p>\n\n<pre><code>val a : Int? = 1\nval b : Int? = 2\na?.compareTo(b)\n</code></pre>\n\n<p>I get a syntax error saying \"None of the following functions can be called with the arguments supplied.\"</p>\n\n<p>But, when I introduce this:</p>\n\n<pre><code>val a : Int? = 1\nval b : Int? = 2\nval x : Int = b ?: 0;\no1?.compareTo(x)\n</code></pre>\n\n<p>It works but it feels like it is not the right way to do this. Is there a better way?</p>\n"}, {"tags": ["android", "android-studio", "null", "kotlin", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1498594104, "post_id": 44784720, "comment_id": 76558750, "body": "FYI: IntelliJ IDEA does mark <code>val myvar: String =</code> with a warning: &quot;Unreachable code&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 9, "last_activity_date": 1498580005, "last_edit_date": 1498580005, "creation_date": 1498579316, "answer_id": 44784963, "question_id": 44784720, "link": "https://stackoverflow.com/questions/44784720/kotlin-non-null-assertion-on-null/44784963#44784963", "title": "Kotlin non-null assertion on null", "body": "<p><code>!!</code> is evaluated at runtime, it's just an operator. </p>\n\n<p>The expression <code>(x!!)</code> </p>\n\n<ul>\n<li>throws a <code>KotlinNullPointerException</code> if <code>x == null</code>,</li>\n<li>otherwise, it returns <code>x</code> cast to the corresponding non-nullable type (for example, it returns it as a <code>String</code> when called on a variable with type <code>String?</code>). </li>\n</ul>\n\n<p>This, of course, makes <code>null!!</code> shorthand for <code>throw KotlinNullPointerException()</code>.</p>\n\n<hr>\n\n<p>If it helps, you can think of <code>!!</code> as doing the same as a function like this does:</p>\n\n<pre><code>fun &lt;T&gt; T?.toNonNullable() : T {\n    if(this == null) {\n        throw KotlinNullPointerException()\n    }\n    return this as T // this would actually get smart cast, but this \n                     // explicit cast demonstrates the point better\n}\n</code></pre>\n\n<p>So doing <code>x!!</code> would give you the same result as <code>x.toNonNullable()</code>.</p>\n"}], "owner": {"reputation": 2278, "user_id": 2149195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wH8P5.jpg?s=128&g=1", "display_name": "RBK", "link": "https://stackoverflow.com/users/2149195/rbk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1724, "favorite_count": 0, "accepted_answer_id": 44784963, "answer_count": 1, "score": 5, "last_activity_date": 1502610960, "creation_date": 1498578648, "last_edit_date": 1502610960, "question_id": 44784720, "link": "https://stackoverflow.com/questions/44784720/kotlin-non-null-assertion-on-null", "title": "Kotlin non-null assertion on null", "body": "<p>As Kotlin have the non-null assertion, I found some funny stuff...</p>\n\n<pre><code>val myvar: String = null!!\n</code></pre>\n\n<p>It will crash.</p>\n\n<p>But the point is, it doesn't check at compile time.</p>\n\n<p>The app will crash at runtime.</p>\n\n<p>Shouldn't it throw compile time error?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1498578327, "post_id": 44784328, "comment_id": 76549940, "body": "AFAIK adding them manually to an array is actually the only <i>acceptable</i> way to proceed here. You have no way to know all possible subclasses for a given class. This is a limitation of how the JVM actually works. Please correct me if I&#39;m wrong."}, {"owner": {"reputation": 22091, "user_id": 5684257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea5090cde8ea066a1fda67ed52dd5084?s=128&d=identicon&r=PG&f=1", "display_name": "HTNW", "link": "https://stackoverflow.com/users/5684257/htnw"}, "edited": false, "score": 1, "creation_date": 1498578975, "post_id": 44784328, "comment_id": 76550380, "body": "<a href=\"https://youtrack.jetbrains.com/issueMobile/KT-14657\" rel=\"nofollow noreferrer\">Related</a>"}, {"owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "edited": false, "score": 0, "creation_date": 1498582256, "post_id": 44784328, "comment_id": 76552372, "body": "What are you trying to achieve? Can you post some code?"}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1498610664, "post_id": 44784328, "comment_id": 76564705, "body": "@m0skit0 There are actually <a href=\"https://github.com/ronmamo/reflections\" rel=\"nofollow noreferrer\">implementation</a> that do this, however it seems too heavy just for this situation."}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "reply_to_user": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "edited": false, "score": 1, "creation_date": 1498610673, "post_id": 44784328, "comment_id": 76564710, "body": "@D3xter <i>obtain all subclasses of a given sealed class</i>, as said in title, and usage is <i>as replacement of Enum.values</i>. There <i>are</i> some questions that can be understood without code, and this is one of them. I added some code anyway, if you are really concerned about that."}, {"owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "edited": false, "score": 0, "creation_date": 1498637598, "post_id": 44784328, "comment_id": 76574343, "body": "@glee8e I&#39;m not asking about code that you&#39;ve tried to achieve your goal, but rather what you are trying to achieve with this code in a bigger picture. It seems to me, that you are trying to use sealed classes in a special way. For comparison, ADTs in most functional languages are not enumerable"}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "reply_to_user": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "edited": false, "score": 0, "creation_date": 1498637762, "post_id": 44784328, "comment_id": 76574464, "body": "@D3xter Well, we are using sealed classes as <i>enum types that can have direct super class other than Enum</i>. We just need a enum (complex one though) and we are not using it as ADT. As you can see, it&#39;s State."}], "answers": [{"comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1498579026, "post_id": 44784543, "comment_id": 76550406, "body": "This still implies &quot;adding them manually to an array&quot; even if not literally :)"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1498580031, "post_id": 44784543, "comment_id": 76551030, "body": "@m0skit0 yes, sir. indeed, the 1st approach is  manually. but it for the maintaining purpose. because you can split logic to pieces."}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1498581373, "post_id": 44784543, "comment_id": 76551872, "body": "Yes but question states that &quot;Adding them to a array manually is unacceptable&quot;."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1498581658, "post_id": 44784543, "comment_id": 76552046, "body": "@m0skit0 yes, sir. then I give him another complicated option."}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1498610153, "post_id": 44784543, "comment_id": 76564598, "body": "Thanks for your complicated anwser. This is actually considered because it offers better flexiblity but we think this may have a great performance impact (<i>scanning the whole classpath sounds bad dude</i>). We&#39;d rather make them all nested classes and use mfulton26&#39;s solution."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1498610277, "post_id": 44784543, "comment_id": 76564626, "body": "@glee8e Not at all. the hard thing is you must solve how to get all the instances of sealed class. if your sealed class subclass are <code>enum</code>s or <code>object</code>s there is no problem. but it has <code>class</code>es you must thing how to design your api."}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1498610477, "post_id": 44784543, "comment_id": 76564665, "body": "They are <code>object</code> so it&#39;s okay. I have just updated my question to reflect that. After all, these sealed classes resulted from upgrading enums, so they must be singletons"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1498610523, "post_id": 44784543, "comment_id": 76564674, "body": "@glee8e okay, the 2nd way is sufficient to you."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 5, "last_activity_date": 1590797210, "last_edit_date": 1590797210, "creation_date": 1498578142, "answer_id": 44784543, "question_id": 44784328, "link": "https://stackoverflow.com/questions/44784328/how-to-obtain-all-subclasses-of-a-given-sealed-class/44784543#44784543", "title": "How to obtain all subclasses of a given sealed class?", "body": "<p>A wise choice is using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">ServiceLoader</a> in kotlin. and then write some providers to get a common class, enum, object or data class instance. for example:</p>\n\n<pre><code>val provides = ServiceLoader.load(YourSealedClassProvider.class).iterator();\n\nval subInstances =  providers.flatMap{it.get()};\n\nfun YourSealedClassProvider.get():List&lt;SealedClass&gt;{/*todo*/};\n</code></pre>\n\n<p>the hierarchy as below:</p>\n\n<pre><code>                Provider                    SealedClass\n                   ^                             ^\n                   |                             |\n            --------------                --------------\n            |            |                |            |\n        EnumProvider ObjectProvider    ObjectClass  EnumClass\n            |            |-------------------^          ^\n            |                    &lt;uses&gt;                 |\n            |-------------------------------------------|\n                                 &lt;uses&gt;\n</code></pre>\n\n<hr>\n\n<p>Another option, is more complicated, but it can meet your needs since sealed classes in the same package. let me tell you how to archive in this way:</p>\n\n<ol>\n<li>get the URL of your sealed class, e.g: <code>ClassLoader.getResource(\"com/xxx/app/YourSealedClass.class\")</code></li>\n<li>scan all jar entry/directory files in parent of sealed class URL, e.g: <code>jar://**/com/xxx/app</code> or <code>file://**/com/xxx/app</code>, and then find out all the <code>\"com/xxx/app/*.class\"</code> files/entries.</li>\n<li>load filtered classes by using <code>ClassLoader.loadClass(eachClassName)</code></li>\n<li>check the loaded class whether is a subclass of your sealed class</li>\n<li>decide how to get the subclass instance, e.g: <code>Enum.values()</code>, <code>object.INSTANCE</code>.</li>\n<li>return all of instances of the founded sealed classes </li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1498609985, "post_id": 44789360, "comment_id": 76564565, "body": "All right before KT-14657(thanks @HTNW) is resolved we should take this. And about the instance, well, we managed to find that <code>KClass</code> got an <code>objectInstance</code> property."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1498611120, "post_id": 44789360, "comment_id": 76564826, "body": "@glee8e Great. I&#39;m glad it helped. I&#39;ve updated my answer based on your updated question and your comment."}, {"owner": {"reputation": 3833, "user_id": 2422453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f554a658430799c5da0dd1489f079d9?s=128&d=identicon&r=PG", "display_name": "Defuera", "link": "https://stackoverflow.com/users/2422453/defuera"}, "edited": false, "score": 2, "creation_date": 1506704720, "post_id": 44789360, "comment_id": 79941808, "body": "for those who like me cannot figure out immedaately where <code>isSubclassOf</code> coming from - it&#39;s kotlin reflect api. add <code>compile &quot;org.jetbrains.kotlin:kotlin-reflect:1.1.4-3&quot;</code> to your build.gradle dependencies"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 3833, "user_id": 2422453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f554a658430799c5da0dd1489f079d9?s=128&d=identicon&r=PG", "display_name": "Defuera", "link": "https://stackoverflow.com/users/2422453/defuera"}, "edited": false, "score": 1, "creation_date": 1506713531, "post_id": 44789360, "comment_id": 79946051, "body": "Thanks @Defuera I&#39;ve added clarification that the enum-like solution requires reflection. Thanks."}, {"owner": {"reputation": 5141, "user_id": 1567541, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bgQcd.jpg?s=128&g=1", "display_name": "Hendra Anggrian", "link": "https://stackoverflow.com/users/1567541/hendra-anggrian"}, "edited": false, "score": 0, "creation_date": 1524521720, "post_id": 44789360, "comment_id": 86997981, "body": "I&#39;m getting <code>Class Enum cannot be extended directly.</code>. Is this solution still supported?"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 5141, "user_id": 1567541, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bgQcd.jpg?s=128&g=1", "display_name": "Hendra Anggrian", "link": "https://stackoverflow.com/users/1567541/hendra-anggrian"}, "edited": false, "score": 1, "creation_date": 1524664598, "post_id": 44789360, "comment_id": 87064384, "body": "@HendraAnggrian, apparently this is no longer possible as of Kotlin 1.1.4. :-("}, {"owner": {"reputation": 5141, "user_id": 1567541, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bgQcd.jpg?s=128&g=1", "display_name": "Hendra Anggrian", "link": "https://stackoverflow.com/users/1567541/hendra-anggrian"}, "edited": false, "score": 2, "creation_date": 1524824337, "post_id": 44789360, "comment_id": 87136783, "body": "@mfulton26 thanks for clarifying. Such a shame though, it&#39;s such a neat trick."}, {"owner": {"reputation": 982, "user_id": 311060, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5f2e96f38521ebf8a1c9f103d5384095?s=128&d=identicon&r=PG", "display_name": "southerton", "link": "https://stackoverflow.com/users/311060/southerton"}, "edited": false, "score": 0, "creation_date": 1545044616, "post_id": 44789360, "comment_id": 94475944, "body": "Base::class.nestedClasses method seems to break with java.lang.ExceptionInInitializerError on android proguard obfuscated builds."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 982, "user_id": 311060, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5f2e96f38521ebf8a1c9f103d5384095?s=128&d=identicon&r=PG", "display_name": "southerton", "link": "https://stackoverflow.com/users/311060/southerton"}, "edited": false, "score": 0, "creation_date": 1545055327, "post_id": 44789360, "comment_id": 94481811, "body": "@southerton Sounds like you may have found a bug. I suggest looking to see if it already exists in JetBrains YouTrack and if not then creating a new issue there: <a href=\"https://youtrack.jetbrains.com/issues/KT?q=nestedClasses\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/KT?q=nestedClasses</a>"}], "tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 69, "last_activity_date": 1544565614, "last_edit_date": 1544565614, "creation_date": 1498595537, "answer_id": 44789360, "question_id": 44784328, "link": "https://stackoverflow.com/questions/44784328/how-to-obtain-all-subclasses-of-a-given-sealed-class/44789360#44789360", "title": "How to obtain all subclasses of a given sealed class?", "body": "<p>In Kotlin 1.3+ you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/sealed-subclasses.html\" rel=\"noreferrer\"><code>sealedSubclasses</code></a>.</p>\n\n<p>In prior versions, if you nest the subclasses in your base class then you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/nested-classes.html\" rel=\"noreferrer\"><code>nestedClasses</code></a>:</p>\n\n<pre><code>Base::class.nestedClasses\n</code></pre>\n\n<p>If you nest other classes within your base class then you'll need to add filtering. e.g.:</p>\n\n<pre><code>Base::class.nestedClasses.filter { it.isFinal &amp;&amp; it.isSubclassOf(Base::class) }\n</code></pre>\n\n<p>Note that this gives you the subclasses and not the instances of those subclasses (unlike <code>Enum.values()</code>).</p>\n\n<hr>\n\n<p>With your particular example, if all of your nested classes in <code>State</code> are your <code>object</code> states then you can use the following to get all of the instances (like <code>Enum.values()</code>):</p>\n\n<pre><code>State::class.nestedClasses.map { it.objectInstance as State }\n</code></pre>\n\n<hr>\n\n<p>And if you want to get really fancy you can even extend <code>Enum&lt;E: Enum&lt;E&gt;&gt;</code> and create your own class hierarchy from it to your concrete objects using <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"noreferrer\">reflection</a>. e.g.:</p>\n\n<pre><code>sealed class State(name: String, ordinal: Int) : Enum&lt;State&gt;(name, ordinal) {\n    companion object {\n        @JvmStatic private val map = State::class.nestedClasses\n                .filter { klass -&gt; klass.isSubclassOf(State::class) }\n                .map { klass -&gt; klass.objectInstance }\n                .filterIsInstance&lt;State&gt;()\n                .associateBy { value -&gt; value.name }\n\n        @JvmStatic fun valueOf(value: String) = requireNotNull(map[value]) {\n            \"No enum constant ${State::class.java.name}.$value\"\n        }\n\n        @JvmStatic fun values() = map.values.toTypedArray()\n    }\n\n    abstract class VanillaState(name: String, ordinal: Int) : State(name, ordinal)\n    abstract class ChocolateState(name: String, ordinal: Int) : State(name, ordinal)\n\n    object StateA : VanillaState(\"StateA\", 0)\n    object StateB : VanillaState(\"StateB\", 1)\n    object StateC : ChocolateState(\"StateC\", 2)\n}\n</code></pre>\n\n<p>This makes it so that you can call the following just like with any other <code>Enum</code>:</p>\n\n<pre><code>State.valueOf(\"StateB\")\nState.values()\nenumValueOf&lt;State&gt;(\"StateC\")\nenumValues&lt;State&gt;()\n</code></pre>\n\n<hr>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Extending <code>Enum</code> directly is no longer supported in Kotlin. See \n<a href=\"https://youtrack.jetbrains.com/issue/KT-7773\" rel=\"noreferrer\">Disallow to explicitly extend Enum class : KT-7773</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 1672, "user_id": 4878968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aee48067a9d435eab1991fec2baece3c?s=128&d=identicon&r=PG", "display_name": "Jacques.S", "link": "https://stackoverflow.com/users/4878968/jacques-s"}, "edited": false, "score": 0, "creation_date": 1601028637, "post_id": 53066919, "comment_id": 113283080, "body": "This feature is useful but it&#39;s important for anyone considering using this to note that it can be very slow, because it uses reflection."}], "tags": [], "owner": {"reputation": 656, "user_id": 1581466, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ea6564e87009c96a838f01aa7253a812?s=128&d=identicon&r=PG", "display_name": "Romain F.", "link": "https://stackoverflow.com/users/1581466/romain-f"}, "is_accepted": false, "score": 7, "last_activity_date": 1540910769, "creation_date": 1540910769, "answer_id": 53066919, "question_id": 44784328, "link": "https://stackoverflow.com/questions/44784328/how-to-obtain-all-subclasses-of-a-given-sealed-class/53066919#53066919", "title": "How to obtain all subclasses of a given sealed class?", "body": "<p>With Kotlin 1.3+ you can use reflection to list all sealed sub-classes without having to use nested classes: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/sealed-subclasses.html\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/sealed-subclasses.html</a></p>\n\n<p>I asked for some feature to achieve the same without reflection: <a href=\"https://discuss.kotlinlang.org/t/list-of-sealed-class-objects/10087\" rel=\"noreferrer\">https://discuss.kotlinlang.org/t/list-of-sealed-class-objects/10087</a></p>\n"}, {"tags": [], "owner": {"reputation": 3319, "user_id": 1008162, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3cc96f948b570ebccf311078a6f7aab0?s=128&d=identicon&r=PG", "display_name": "Naruto Sempai", "link": "https://stackoverflow.com/users/1008162/naruto-sempai"}, "is_accepted": false, "score": 2, "last_activity_date": 1586103650, "creation_date": 1586103650, "answer_id": 61045660, "question_id": 44784328, "link": "https://stackoverflow.com/questions/44784328/how-to-obtain-all-subclasses-of-a-given-sealed-class/61045660#61045660", "title": "How to obtain all subclasses of a given sealed class?", "body": "<p>Full example: </p>\n\n<pre><code>sealed class State{\n    companion object {\n        fun find(state: State) =\n            State::class.sealedSubclasses\n                    .map { it.objectInstance as State}\n                    .firstOrNull { it == state }\n                    .let {\n                        when (it) {\n                            null -&gt; UNKNOWN\n                            else -&gt; it\n                        }\n                    }\n    }\n    object StateA: State()\n    object StateB: State()\n    object StateC: State()\n    object UNKNOWN: State()\n\n}\n</code></pre>\n"}], "owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17951, "favorite_count": 8, "accepted_answer_id": 44789360, "answer_count": 4, "score": 47, "last_activity_date": 1590797210, "creation_date": 1498577523, "last_edit_date": 1498613368, "question_id": 44784328, "link": "https://stackoverflow.com/questions/44784328/how-to-obtain-all-subclasses-of-a-given-sealed-class", "title": "How to obtain all subclasses of a given sealed class?", "body": "<p>Recently we upgraded one of our enum class to sealed class <strong>with objects as sub-classes</strong> so we can make another tier of abstraction to simplify code. However we can no longer get all possible subclasses through <code>Enum.values()</code> function, which is bad because we heavily rely on that functionality. Is there a way to retrieve such information with reflection or any other tool?</p>\n\n<p>PS: Adding them to a array manually is <em>unacceptable</em>. There are currently 45 of them, and there are plans to add more.  </p>\n\n<hr>\n\n<p>This is how our sealed class looks like:</p>\n\n<pre><code>sealed class State\n\nobject StateA: State()\nobject StateB: State()\nobject StateC: State()\n....// 42 more\n</code></pre>\n\n<p>If there is an values collection, it will be in this shape:</p>\n\n<pre><code>val VALUES = setOf(StateA, StateB, StateC, StateC, StateD, StateE,\n    StateF, StateG, StateH, StateI, StateJ, StateK, StateL, ......\n</code></pre>\n\n<p>Naturally no one wants to maintain such a monster.</p>\n"}, {"tags": ["asynchronous", "kotlin", "coroutine"], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 2, "last_activity_date": 1498576131, "creation_date": 1498576131, "answer_id": 44783827, "question_id": 44783043, "link": "https://stackoverflow.com/questions/44783043/how-to-fire-and-forget-async-coroutines-in-kotlin/44783827#44783827", "title": "How to: fire and forget async coroutines in Kotlin", "body": "<p>maybe <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#coroutines-are-like-daemon-threads\" rel=\"nofollow noreferrer\">kotlinx.coroutines#launch</a> or <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#async-style-functions\" rel=\"nofollow noreferrer\">kotlinx.coroutines#async</a> meet your needs. for examples:</p>\n\n<pre><code>launch(CommonPool) {\n    for(item in collection){\n      val result = apiCall(item);\n      log(result);\n    }\n}\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code>for(item in collection){\n    launch(CommonPool) {\n      val result = apiCall(item)\n      log(result)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 6320642, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UyIeV_GC2Ys/AAAAAAAAAAI/AAAAAAAAxvo/pLjLhUW7-AA/photo.jpg?sz=128", "display_name": "Pau Garc&#237;a", "link": "https://stackoverflow.com/users/6320642/pau-garc%c3%ada"}, "is_accepted": false, "score": 3, "last_activity_date": 1584627431, "last_edit_date": 1584627431, "creation_date": 1565019917, "answer_id": 57361975, "question_id": 44783043, "link": "https://stackoverflow.com/questions/44783043/how-to-fire-and-forget-async-coroutines-in-kotlin/57361975#57361975", "title": "How to: fire and forget async coroutines in Kotlin", "body": "<p>Notice that, if no specific coroutine scope exists already (not a suspend function, i.e.) you can use:</p>\n\n<pre><code>fun Process (item: String): Response {\n    GlobalScope.launch {\n       ... &lt;YOUR ASYNC (Processing) CODE GOES HERE&gt; ...\n    }\n    ... &lt;YOUR SYNC CODE GOES HERE&gt; ...\n    return Response(\"Your request for $item is being processed...\")\n}\n</code></pre>\n\n<p>This way you can return a quick answer (acting as an Acknowledge) stating that it has been received and you are processing it, without blocking the client/consumer, in a Fire&amp;Forget fashion.</p>\n\n<p>But be careful with posible memory leaks when the async part raises exceptions, for instance. Extending CoroutineScope is a better approach. More info at <a href=\"https://discuss.kotlinlang.org/t/unavoidable-memory-leak-when-using-coroutines/11603/7\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/unavoidable-memory-leak-when-using-coroutines/11603/7</a> and <a href=\"https://stackoverflow.com/questions/54335365/why-not-use-globalscope-launch\">Why not use GlobalScope.launch?</a></p>\n"}], "owner": {"reputation": 1132, "user_id": 483777, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/a00ef265aa1b7372fc2f128a196a2378?s=128&d=identicon&r=PG", "display_name": "Sherms", "link": "https://stackoverflow.com/users/483777/sherms"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2963, "favorite_count": 0, "accepted_answer_id": 44783827, "answer_count": 2, "score": 5, "last_activity_date": 1584627431, "creation_date": 1498574116, "last_edit_date": 1498611144, "question_id": 44783043, "link": "https://stackoverflow.com/questions/44783043/how-to-fire-and-forget-async-coroutines-in-kotlin", "title": "How to: fire and forget async coroutines in Kotlin", "body": "<p>I've been reading up on Kotlin co-routines but am not finding the answer to a specific problem.</p>\n\n<p>Say I want to iterate over a collection making an API call for each element (in this particular case pushing a file to Amazon S3). I want these calls to be handled by an async coroutine so as not to block the underlying thread while waiting. </p>\n\n<p>I do not need a return value from the request, only to log exceptions.</p>\n\n<p>How would I create a \"fire and forget\" async coroutine to make one of these requests?</p>\n"}, {"tags": ["android", "media-player", "kotlin"], "comments": [{"owner": {"reputation": 328, "user_id": 7714941, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-ZEz9p6f0CrA/AAAAAAAAAAI/AAAAAAAAAH8/iKN2jTxSV7Q/photo.jpg?sz=128", "display_name": "Abhishek Charismatic", "link": "https://stackoverflow.com/users/7714941/abhishek-charismatic"}, "edited": false, "score": 0, "creation_date": 1498570108, "post_id": 44781537, "comment_id": 76543659, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/6425778/play-music-from-memory-in-android\">Play music from memory in Android</a>"}, {"owner": {"reputation": 411, "user_id": 7763344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04ea5dc14d3c160e6865b4d22333700?s=128&d=identicon&r=PG&f=1", "display_name": "blesson Samuel", "link": "https://stackoverflow.com/users/7763344/blesson-samuel"}, "reply_to_user": {"reputation": 328, "user_id": 7714941, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-ZEz9p6f0CrA/AAAAAAAAAAI/AAAAAAAAAH8/iKN2jTxSV7Q/photo.jpg?sz=128", "display_name": "Abhishek Charismatic", "link": "https://stackoverflow.com/users/7714941/abhishek-charismatic"}, "edited": false, "score": 0, "creation_date": 1498570221, "post_id": 44781537, "comment_id": 76543746, "body": "No, Its a complete different question"}, {"owner": {"reputation": 1598, "user_id": 4747981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PHhrz.jpg?s=128&g=1", "display_name": "Bulwinkel", "link": "https://stackoverflow.com/users/4747981/bulwinkel"}, "edited": false, "score": 0, "creation_date": 1498640706, "post_id": 44781537, "comment_id": 76576326, "body": "@blessonSamuel can you put up an example project on github?"}], "owner": {"reputation": 411, "user_id": 7763344, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b04ea5dc14d3c160e6865b4d22333700?s=128&d=identicon&r=PG&f=1", "display_name": "blesson Samuel", "link": "https://stackoverflow.com/users/7763344/blesson-samuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 101, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1498570047, "creation_date": 1498570047, "question_id": 44781537, "link": "https://stackoverflow.com/questions/44781537/i-am-trying-to-play-music-from-sdcard", "title": "I am trying to play music from SDcard", "body": "<p>// I am trying to play music from SDCARD , one after the other but I want to play the second music after the compilation of the first music. It should automatically happen. I am new to android, any help would be appreciated. with the give code. I can play music</p>\n\n<pre><code>class Play : AppCompatActivity() {\n\n\n    var play: ImageView? = null\n    var stop: ImageView? = null\n    var AudioSavePathInDevice = \"Blesson\"\n    var mediaPlayer: MediaPlayer? = null\n\n\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_play)\n\n         play = findViewById(R.id.play) as ImageView\n         stop = findViewById(R.id.stop) as ImageView\n\n        play!!.setOnClickListener {\n\n            play!!.visibility = View.INVISIBLE\n            stop!!.visibility = View.VISIBLE\n\n            val file = intent.extras[\"file\"]\n            for (hello in 1..3) {\n\n                AudioSavePathInDevice = File(\"$file/bless$hello.mp3\").toString()\n\n\n            Toast.makeText(this, AudioSavePathInDevice, Toast.LENGTH_LONG).show()\n\n                mediaPlayer = MediaPlayer()\n                try {\n                    mediaPlayer!!.setDataSource(AudioSavePathInDevice)\n                    mediaPlayer!!.prepare()\n\n                } catch (e: IOException) {\n                    Toast.makeText(this, \"Recoring not found\",\n                            Toast.LENGTH_LONG).show()\n                }\n\n                mediaPlayer!!.start()\n\n                Toast.makeText(this, \"Recording Playing\",\n                        Toast.LENGTH_LONG).show()\n\n                mediaPlayer!!.setOnCompletionListener{}\n\n                try {\n                    mediaPlayer!!.stop()\n                    mediaPlayer!!.release()\n                }catch (ex: Exception){ }\n            }\n\n\n        }\n    }\n\n}\n</code></pre>\n"}, {"tags": ["maven", "kotlin", "executable-jar", "jsr223"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1498570300, "post_id": 44781462, "comment_id": 76543813, "body": "make sure the resouces of  <code>META-INF</code> is included or there is no duplicated files in that folder."}, {"owner": {"reputation": 1588, "user_id": 4990550, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/37847ab3fb9405bd7c9a8cac7fc01a84?s=128&d=identicon&r=PG&f=1", "display_name": "David Siro", "link": "https://stackoverflow.com/users/4990550/david-siro"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1498571066, "post_id": 44781462, "comment_id": 76544423, "body": "I believe that&#39;s ok, it&#39;s something with way how the Kotlin&#39;s ScriptEngineFactory resolves the compiler class..."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1498571627, "post_id": 44781462, "comment_id": 76544850, "body": "well, may be kotlin module info was orverwrote."}], "answers": [{"comments": [{"owner": {"reputation": 1588, "user_id": 4990550, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/37847ab3fb9405bd7c9a8cac7fc01a84?s=128&d=identicon&r=PG&f=1", "display_name": "David Siro", "link": "https://stackoverflow.com/users/4990550/david-siro"}, "edited": false, "score": 0, "creation_date": 1498724739, "post_id": 44796842, "comment_id": 76619879, "body": "Thanks, that seems to be the way to go. Anyway, could you please elaborate on <i>Not talking about the overheads for the compiler</i> ?"}, {"owner": {"reputation": 326, "user_id": 5660200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a053aa187ae95a70bb030ff97abdd0ed?s=128&d=identicon&r=PG", "display_name": "Ilya Chernikov", "link": "https://stackoverflow.com/users/5660200/ilya-chernikov"}, "reply_to_user": {"reputation": 1588, "user_id": 4990550, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/37847ab3fb9405bd7c9a8cac7fc01a84?s=128&d=identicon&r=PG&f=1", "display_name": "David Siro", "link": "https://stackoverflow.com/users/4990550/david-siro"}, "edited": false, "score": 0, "creation_date": 1498741767, "post_id": 44796842, "comment_id": 76632303, "body": "@DavidSiro on the resolving stage the compiler will seek types in the compilation classpath, so the larger the search scope the bigger the overheads."}, {"owner": {"reputation": 12398, "user_id": 1310566, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5qiMO.jpg?s=128&g=1", "display_name": "Simon Forsberg", "link": "https://stackoverflow.com/users/1310566/simon-forsberg"}, "edited": false, "score": 0, "creation_date": 1617975238, "post_id": 44796842, "comment_id": 118468610, "body": "I can&#39;t seem to resolve <code>KotlinJsr223JvmLocalScriptEngine</code> during compile time"}], "tags": [], "owner": {"reputation": 326, "user_id": 5660200, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a053aa187ae95a70bb030ff97abdd0ed?s=128&d=identicon&r=PG", "display_name": "Ilya Chernikov", "link": "https://stackoverflow.com/users/5660200/ilya-chernikov"}, "is_accepted": true, "score": 8, "last_activity_date": 1511982915, "last_edit_date": 1511982915, "creation_date": 1498636983, "answer_id": 44796842, "question_id": 44781462, "link": "https://stackoverflow.com/questions/44781462/kotlin-jsr-223-scriptenginefactory-within-the-fat-jar-cannot-find-kotlin-compi/44796842#44796842", "title": "Kotlin JSR-223 ScriptEngineFactory within the fat jar - Cannot find kotlin compiler jar", "body": "<p>The JSR223 factories in the <em>kotlin-script-util</em> are trying to find the compiler jar in order to setup the compilation. In your case, you'll need to write your own factory to supply the script compilation classpath explicitly, e.g.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>class MyScriptEngineFactory : KotlinJsr223JvmScriptEngineFactoryBase() {   \n    override fun getScriptEngine(): ScriptEngine =\n        KotlinJsr223JvmLocalScriptEngine(\n            Disposer.newDisposable(),\n            this,\n            classpath, // !!! supply the script classpath here\n            KotlinStandardJsr223ScriptTemplate::class.qualifiedName!!,\n            { ctx, types -&gt; ScriptArgsWithTypes(arrayOf(ctx.getBindings(ScriptContext.ENGINE_SCOPE)), types ?: emptyArray()) },\n            arrayOf(Bindings::class)\n        )\n}\n</code></pre>\n\n<p>You need to put the following jars into <code>classpath</code>:</p>\n\n<ul>\n<li><code>kotlin-script-util.jar</code> - it contains the template class used as a superclass for the script</li>\n<li><code>kotlin-script-runtime.jar</code> - for base classes used in scripting</li>\n<li>any other jars you'll need to use in your scripts, quite likely - <code>kotlin-stdlib.jar</code></li>\n</ul>\n\n<p>You may put your fat jar there instead, but that would mean that everything from it will be accessible from your scripts. Not talking about the overheads for the compiler.</p>\n"}], "owner": {"reputation": 1588, "user_id": 4990550, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/37847ab3fb9405bd7c9a8cac7fc01a84?s=128&d=identicon&r=PG&f=1", "display_name": "David Siro", "link": "https://stackoverflow.com/users/4990550/david-siro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3360, "favorite_count": 3, "accepted_answer_id": 44796842, "answer_count": 1, "score": 4, "last_activity_date": 1511983139, "creation_date": 1498569842, "last_edit_date": 1511983139, "question_id": 44781462, "link": "https://stackoverflow.com/questions/44781462/kotlin-jsr-223-scriptenginefactory-within-the-fat-jar-cannot-find-kotlin-compi", "title": "Kotlin JSR-223 ScriptEngineFactory within the fat jar - Cannot find kotlin compiler jar", "body": "<p>I have a fat jar where I'm trying to get the instance of Kotlin's <code>ScriptEngine</code>. </p>\n\n<p>For the debugging purposes I'm iterating through available Script Engine Factories and getting the engines.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>val scriptEngineManager = ScriptEngineManager()\nfor (factory in scriptEngineManager.engineFactories) {\n    val scriptEngine = factory.scriptEngine\n}\n</code></pre>\n\n<p>When it hits the Kotlin's engine, it fails with following exception:</p>\n\n<pre><code>Exception in thread \"main\" java.io.FileNotFoundException: Cannot find kotlin compiler jar, set kotlin.compiler.jar property to proper location\n        at org.jetbrains.kotlin.script.jsr223.KotlinJsr223ScriptEngineFactoryExamplesKt$kotlinCompilerJar$2.invoke(KotlinJsr223ScriptEngineFactoryExamples.kt:100)\n        at org.jetbrains.kotlin.script.jsr223.KotlinJsr223ScriptEngineFactoryExamplesKt$kotlinCompilerJar$2.invoke(KotlinJsr223ScriptEngineFactoryExamples.kt)\n        at kotlin.SynchronizedLazyImpl.getValue(Lazy.kt:130)\n        at org.jetbrains.kotlin.script.jsr223.KotlinJsr223ScriptEngineFactoryExamplesKt.getKotlinCompilerJar(KotlinJsr223ScriptEngineFactoryExamples.kt)\n        at org.jetbrains.kotlin.script.jsr223.KotlinJsr223ScriptEngineFactoryExamplesKt.access$getKotlinCompilerJar$p(KotlinJsr223ScriptEngineFactoryExamples.kt:1)\n        at org.jetbrains.kotlin.script.jsr223.KotlinJsr223JvmDaemonLocalEvalScriptEngineFactory.getScriptEngine(KotlinJsr223ScriptEngineFactoryExamples.kt:56)\n        at davidsiro.invoices.InvoiceGeneratorKt.generateInvoice(invoiceGenerator.kt:16)\n        at davidsiro.invoices.MainKt.main(main.kt:11)\n</code></pre>\n\n<p>My fat jar contains all of the dependencies (though unpacked), including Kotlin Compiler. I'm using Maven Assembly Plugin to build it, which configured like these:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.6&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;make-assembly&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;archive&gt;\n                    &lt;manifest&gt;\n                        &lt;mainClass&gt;${main.class}&lt;/mainClass&gt;\n                    &lt;/manifest&gt;\n                &lt;/archive&gt;\n                &lt;descriptorRefs&gt;\n                    &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                &lt;/descriptorRefs&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Any ideas?</p>\n\n<p><strong>Update</strong></p>\n\n<p>For the record, I tried to both <em>KotlinJsr223JvmLocalScriptEngineFactory</em> and <em>KotlinJsr223JvmDaemonLocalEvalScriptEngineFactory</em> with the same result.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1498568758, "post_id": 44781054, "comment_id": 76542668, "body": "What do you get after conversion? It would be easier to fix a specific error."}, {"owner": {"reputation": 312, "user_id": 7280257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-GLoFpDJjEU4/AAAAAAAAAAI/AAAAAAAAAKo/NqOPJ09IIEE/photo.jpg?sz=128", "display_name": "QUIQUELHAPPY", "link": "https://stackoverflow.com/users/7280257/quiquelhappy"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1498568931, "post_id": 44781054, "comment_id": 76542807, "body": "@zsmb13 question updated with the kotlin output"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1498569010, "post_id": 44781054, "comment_id": 76542851, "body": "Can you also say what&#39;s not valid here?"}, {"owner": {"reputation": 312, "user_id": 7280257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-GLoFpDJjEU4/AAAAAAAAAAI/AAAAAAAAAKo/NqOPJ09IIEE/photo.jpg?sz=128", "display_name": "QUIQUELHAPPY", "link": "https://stackoverflow.com/users/7280257/quiquelhappy"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1498569138, "post_id": 44781054, "comment_id": 76542956, "body": "@zsmb13 i&#39;ve linked the error shown in the ide"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1498569141, "post_id": 44781054, "comment_id": 76542957, "body": "This code doesn&#39;t make sens(I mean original answer) ... why? Do a simple test ... enable <code>Dev Options-&gt;Don&#39;t Keep Activities</code> check if it&#39;s work"}, {"owner": {"reputation": 312, "user_id": 7280257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-GLoFpDJjEU4/AAAAAAAAAAI/AAAAAAAAAKo/NqOPJ09IIEE/photo.jpg?sz=128", "display_name": "QUIQUELHAPPY", "link": "https://stackoverflow.com/users/7280257/quiquelhappy"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1498569218, "post_id": 44781054, "comment_id": 76543019, "body": "@Selvin why it doesn&#39;t make sense...?"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1498569351, "post_id": 44781054, "comment_id": 76543120, "body": "Obviously because you should think like there is only one instance of living Activity class at the same time"}, {"owner": {"reputation": 312, "user_id": 7280257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-GLoFpDJjEU4/AAAAAAAAAAI/AAAAAAAAAKo/NqOPJ09IIEE/photo.jpg?sz=128", "display_name": "QUIQUELHAPPY", "link": "https://stackoverflow.com/users/7280257/quiquelhappy"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1498569585, "post_id": 44781054, "comment_id": 76543288, "body": "@Selvin not exacly, I&#39;m ussing this because at first I load a login screen, then you select the login method. If the user didn&#39;t selected the login method that he wanted by accident he can always go back and select antoher method (because the login method picker is still active), but if he complete the login the two activities close."}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1498570405, "post_id": 44781054, "comment_id": 76543896, "body": "It&#39;s not working!!! just turn on <code>Dev Options-&gt;Don&#39;t Keep Activities</code>"}, {"owner": {"reputation": 312, "user_id": 7280257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-GLoFpDJjEU4/AAAAAAAAAAI/AAAAAAAAAKo/NqOPJ09IIEE/photo.jpg?sz=128", "display_name": "QUIQUELHAPPY", "link": "https://stackoverflow.com/users/7280257/quiquelhappy"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1498584006, "post_id": 44781054, "comment_id": 76553337, "body": "@Selvin it&#39;s working perfectly fine (tested)"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1498584111, "post_id": 44781054, "comment_id": 76553400, "body": "No, it&#39;s not working , <a href=\"https://gist.github.com/SelvinPL/3599baab8dd9dbf50f283dd3bfe4fdfd\" rel=\"nofollow noreferrer\">tested</a> as you see on gif image the mainactivity is still there when don&#39;t keep activities is on."}, {"owner": {"reputation": 312, "user_id": 7280257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-GLoFpDJjEU4/AAAAAAAAAAI/AAAAAAAAAKo/NqOPJ09IIEE/photo.jpg?sz=128", "display_name": "QUIQUELHAPPY", "link": "https://stackoverflow.com/users/7280257/quiquelhappy"}, "edited": false, "score": 0, "creation_date": 1498584157, "post_id": 44781054, "comment_id": 76553436, "body": "so you want a video? photos? what"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1498584258, "post_id": 44781054, "comment_id": 76553492, "body": "I did a video... And convert it to gif it&#39;s not working as you can see on gist from previous comment."}, {"owner": {"reputation": 312, "user_id": 7280257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-GLoFpDJjEU4/AAAAAAAAAAI/AAAAAAAAAKo/NqOPJ09IIEE/photo.jpg?sz=128", "display_name": "QUIQUELHAPPY", "link": "https://stackoverflow.com/users/7280257/quiquelhappy"}, "edited": false, "score": 0, "creation_date": 1498584564, "post_id": 44781054, "comment_id": 76553636, "body": "I&#39;m not to waste more time on this because it&#39;s working perfectly, here you have the code if you want to test it by ys."}, {"owner": {"reputation": 312, "user_id": 7280257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-GLoFpDJjEU4/AAAAAAAAAAI/AAAAAAAAAKo/NqOPJ09IIEE/photo.jpg?sz=128", "display_name": "QUIQUELHAPPY", "link": "https://stackoverflow.com/users/7280257/quiquelhappy"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1498584766, "post_id": 44781054, "comment_id": 76553744, "body": "@Selvin 1st: <a href=\"http://i.imgur.com/vN7bThS.png\" rel=\"nofollow noreferrer\">i.imgur.com/vN7bThS.png</a> 2nd: <a href=\"http://i.imgur.com/4sp2JSK.png\" rel=\"nofollow noreferrer\">i.imgur.com/4sp2JSK.png</a> (both of them are finished())"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1498584970, "post_id": 44781054, "comment_id": 76553856, "body": "Ok, you are right, you can keep using bad code... it&#39;s not my problem...  The only right way is to use startActivityForResult and onActivityResult"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 1, "last_activity_date": 1498569423, "creation_date": 1498569423, "answer_id": 44781315, "question_id": 44781054, "link": "https://stackoverflow.com/questions/44781054/finish-android-activity-from-another-with-kotlin/44781315#44781315", "title": "Finish android activity from another with Kotlin", "body": "<p>The error <code>Expecting member declaration</code> is there because you wrote a statement (the function call) inside a class. In that scope, declarations (functions, inner classes) are expected.</p>\n\n<p>You have to place your statements inside functions (and then call those from somewhere) in order for them to be executed.</p>\n"}, {"comments": [{"owner": {"reputation": 109, "user_id": 9409327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/135e4d6a8a3d278f1ab60e41b1da9f07?s=128&d=identicon&r=PG&f=1", "display_name": "Marco", "link": "https://stackoverflow.com/users/9409327/marco"}, "edited": false, "score": 0, "creation_date": 1563963204, "post_id": 56800502, "comment_id": 100871978, "body": "You should not save activites to a variable, because this could cause a memory leak."}], "tags": [], "owner": {"reputation": 61, "user_id": 4753652, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-J83O27AYBBU/AAAAAAAAAAI/AAAAAAAAACA/1CkTrGO-394/photo.jpg?sz=128", "display_name": "Ashish Tyagi", "link": "https://stackoverflow.com/users/4753652/ashish-tyagi"}, "is_accepted": false, "score": 3, "last_activity_date": 1563964151, "last_edit_date": 1563964151, "creation_date": 1561691824, "answer_id": 56800502, "question_id": 44781054, "link": "https://stackoverflow.com/questions/44781054/finish-android-activity-from-another-with-kotlin/56800502#56800502", "title": "Finish android activity from another with Kotlin", "body": "<p>Simple code to finish a particular activity from another:</p>\n\n<pre><code>class SplashActivity : AppCompatActivity(), NavigationListner {\n\n  class MyClass{\n    companion object{\n        var activity: Activity? = null\n    }\n  }\n\n  override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    MyClass.activity = this@SplashActivity\n  }\n\n\n  override fun navigateFromScreen() {\n    val intent = Intent(this,LoginActivity::class.java)\n    startActivity(intent)\n  }\n}\n</code></pre>\n\n<p>Now call <code>SplashActivity.MyClass.activity?.finish()</code> from another activity to finish above activity.</p>\n"}], "owner": {"reputation": 312, "user_id": 7280257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh4.googleusercontent.com/-GLoFpDJjEU4/AAAAAAAAAAI/AAAAAAAAAKo/NqOPJ09IIEE/photo.jpg?sz=128", "display_name": "QUIQUELHAPPY", "link": "https://stackoverflow.com/users/7280257/quiquelhappy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10133, "favorite_count": 0, "accepted_answer_id": 44781315, "answer_count": 2, "score": 2, "last_activity_date": 1563964151, "creation_date": 1498568715, "last_edit_date": 1499083950, "question_id": 44781054, "link": "https://stackoverflow.com/questions/44781054/finish-android-activity-from-another-with-kotlin", "title": "Finish android activity from another with Kotlin", "body": "<p>I'm trying to finish an activity from another (android) with kotlin. I know the wat to do it with java is with the following code (<a href=\"https://stackoverflow.com/a/10379275/7280257\">https://stackoverflow.com/a/10379275/7280257</a>)</p>\n\n<p>at the first activity:</p>\n\n<pre><code>BroadcastReceiver broadcast_reciever = new BroadcastReceiver() {\n\n    @Override\n    public void onReceive(Context arg0, Intent intent) {\n        String action = intent.getAction();\n        if (action.equals(\"finish_activity\")) {\n            finish();\n            // DO WHATEVER YOU WANT.\n        }\n    }\n};\nregisterReceiver(broadcast_reciever, new IntentFilter(\"finish_activity\"));\n</code></pre>\n\n<p>On the other activity:</p>\n\n<pre><code>Intent intent = new Intent(\"finish_activity\");\nsendBroadcast(intent);\n</code></pre>\n\n<p>For some reason converting the java activity to kotlin doesn't give a valid output, if someone could give me the correct syntax to do it properly with <strong>kotlin</strong> I will appreciate it</p>\n\n<p>kotlin output (first activity) <strong>[OK]</strong>:</p>\n\n<pre><code>val broadcast_reciever = object : BroadcastReceiver() {\n\n    override fun onReceive(arg0: Context, intent: Intent) {\n        val action = intent.action\n        if (action == \"finish_activity\") {\n            finish()\n            // DO WHATEVER YOU WANT.\n        }\n    }\n}\nregisterReceiver(broadcast_reciever, IntentFilter(\"finish_activity\"))\n</code></pre>\n\n<p>kotlin output (2nd activity) <strong>[OK]</strong></p>\n\n<pre><code>            val intent = Intent(\"finish_activity\")\n            sendBroadcast(intent)\n</code></pre>\n\n<p>ERROR: <a href=\"https://i.imgur.com/qaQ2YHv.png\" rel=\"nofollow noreferrer\">http://i.imgur.com/qaQ2YHv.png</a></p>\n\n<p><strong>FIX: THE CODE SHOWN IS RIGHT, YOU JUST NEED TO PLACE IT INSIDE THE onCreate FUNCTION</strong> </p>\n"}, {"tags": ["kotlin", "vert.x"], "comments": [{"owner": {"reputation": 1878, "user_id": 1126831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a85dcf0a3326db827d5e805b884fdd7?s=128&d=identicon&r=PG", "display_name": "ledniov", "link": "https://stackoverflow.com/users/1126831/ledniov"}, "edited": false, "score": 0, "creation_date": 1498592778, "post_id": 44781041, "comment_id": 76558070, "body": "try moving <code>package-info.java</code> to the folder with Kotlin sources instead of Java"}, {"owner": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "reply_to_user": {"reputation": 1878, "user_id": 1126831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a85dcf0a3326db827d5e805b884fdd7?s=128&d=identicon&r=PG", "display_name": "ledniov", "link": "https://stackoverflow.com/users/1126831/ledniov"}, "edited": false, "score": 0, "creation_date": 1498661234, "post_id": 44781041, "comment_id": 76591575, "body": "Just tried that but still no generated sources."}], "answers": [{"tags": [], "owner": {"reputation": 2580, "user_id": 8295283, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/82e91e74e9091501247d9b71125c0eee?s=128&d=identicon&r=PG", "display_name": "Arnold Schrijver", "link": "https://stackoverflow.com/users/8295283/arnold-schrijver"}, "is_accepted": false, "score": 0, "last_activity_date": 1500140999, "creation_date": 1500140999, "answer_id": 45121135, "question_id": 44781041, "link": "https://stackoverflow.com/questions/44781041/vert-x-service-proxies-from-kotlin-with-vertx-codegen/45121135#45121135", "title": "Vert.x Service Proxies from Kotlin with vertx-codegen", "body": "<p>You should probably define a source set for <code>generated</code>. I have a separate Gradle script <code>gradle/vertx-codegen.gradle</code> that I include where needed, and that works fine (its only for Java, so you should adapt it a bit):</p>\n\n<pre><code>sourceSets {\n    generated{\n        java.srcDir \"${projectDir}/src/generated/java\"\n    }\n}\n\ntask generateProxies(type: JavaCompile) {\n    group = \"build\"\n    description = \"Generate Vert.x service proxies\"\n\n    source = sourceSets.main.java\n    classpath = configurations.compile\n    options.compilerArgs = [\n        \"-proc:only\",\n        \"-processor\", \"io.vertx.codegen.CodeGenProcessor\",\n        \"-AoutputDirectory=${projectDir}/src/main\"\n    ]\n    destinationDir = file(\"${projectDir}/src/generated/java\")\n}\n\ncompileJava{\n    dependsOn generateProxies\n    source += sourceSets.generated.java\n}\n\nclean {\n    delete += sourceSets.generated.java.srcDirs\n}\n</code></pre>\n\n<p>Hope this helps!</p>\n"}, {"comments": [{"owner": {"reputation": 3284, "user_id": 1098758, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dca1d5f8e92ef9d9ba7a2aa7d6257d0c?s=128&d=identicon&r=PG", "display_name": "Lionel Port", "link": "https://stackoverflow.com/users/1098758/lionel-port"}, "edited": false, "score": 0, "creation_date": 1525093939, "post_id": 48155603, "comment_id": 87219164, "body": "This should be the accepted answer. Works as stated without the complicate build config."}], "tags": [], "owner": {"reputation": 2833, "user_id": 1824898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2590cf264facfb642d166ab19bcf9035?s=128&d=identicon&r=PG", "display_name": "\u041a\u043b\u0430\u0443\u0441 \u0428\u0432\u0430\u0440\u0446", "link": "https://stackoverflow.com/users/1824898/%d0%9a%d0%bb%d0%b0%d1%83%d1%81-%d0%a8%d0%b2%d0%b0%d1%80%d1%86"}, "is_accepted": false, "score": 5, "last_activity_date": 1515434154, "creation_date": 1515434154, "answer_id": 48155603, "question_id": 44781041, "link": "https://stackoverflow.com/questions/44781041/vert-x-service-proxies-from-kotlin-with-vertx-codegen/48155603#48155603", "title": "Vert.x Service Proxies from Kotlin with vertx-codegen", "body": "<p>The easiest way to use vertx service proxies with <code>kotlin</code> is to use <a href=\"https://kotlinlang.org/docs/reference/kapt.html\" rel=\"noreferrer\">kapt</a> and vertx-codegen <code>processor</code> classified dependency.</p>\n\n<p>In your <code>build.gradle</code> you should add following: </p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n\ndependencies {\n\n    kapt \"io.vertx:vertx-codegen:$vertx_version:processor\"\n    compileOnly \"io.vertx:vertx-codegen:$vertx_version\"\n\n    // other deps go here\n}\n</code></pre>\n\n<p>Nothing else needed so far. </p>\n"}, {"tags": [], "owner": {"reputation": 25, "user_id": 1547351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89dd39a7aa2a058add9e59f03ef237cb?s=128&d=identicon&r=PG", "display_name": "user1547351", "link": "https://stackoverflow.com/users/1547351/user1547351"}, "is_accepted": false, "score": 1, "last_activity_date": 1541668262, "last_edit_date": 1541668262, "creation_date": 1541667268, "answer_id": 53204301, "question_id": 44781041, "link": "https://stackoverflow.com/questions/44781041/vert-x-service-proxies-from-kotlin-with-vertx-codegen/53204301#53204301", "title": "Vert.x Service Proxies from Kotlin with vertx-codegen", "body": "<p>Add the service proxy procesor in order to generate the proxy.</p>\n\n<pre><code>kapt \"io.vertx:vertx-codegen:$vertxVersion:processor\"\nkapt \"io.vertx:vertx-service-proxy:$vertxVersion:processor\"\ncompile \"io.vertx:vertx-service-proxy:$vertxVersion\"\n</code></pre>\n\n<p>And if you are going to generate the service with @VertxGen you should use the package-info.java even if you are writing Kotlin:</p>\n\n<pre><code>@ModuleGen(name = \"example\", groupPackage = \"com.some\")\n\npackage com.something;\n\nimport io.vertx.codegen.annotations.ModuleGen;\n</code></pre>\n"}], "owner": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1739, "favorite_count": 2, "answer_count": 3, "score": 2, "last_activity_date": 1541668262, "creation_date": 1498568664, "question_id": 44781041, "link": "https://stackoverflow.com/questions/44781041/vert-x-service-proxies-from-kotlin-with-vertx-codegen", "title": "Vert.x Service Proxies from Kotlin with vertx-codegen", "body": "<p>I've written a vertx service interface in Kotlin, for which I am trying to generate service proxies. However, apart from generating the <code>generated</code> directory in <code>src/main</code>, it does nothing.</p>\n\n<p><code>src/main/java/amb85/portfolio/package-info.java</code>:</p>\n\n<pre><code>@ModuleGen(name = \"portfolio\", groupPackage = \"amb85.portfolio\")\npackage amb85.portfolio;\n\nimport io.vertx.codegen.annotations.ModuleGen;\n</code></pre>\n\n<p>I then have the following service interface <code>src/main/kotlin/amb85/portfolio/PortfolioService.kt</code>:</p>\n\n<pre><code>@VertxGen\n@ProxyGen\ninterface PortfolioService {\n    companion object {\n        val ADDRESS = \"service.portfolio\"\n        val EVENT_ADDRESS = \"portfolio\"\n    }\n    fun getPortfolio(resultHandler: (AsyncResult&lt;Portfolio&gt;) -&gt; Unit)\n    fun buy(amount: Int, quote: JsonObject, resultHandler: (AsyncResult&lt;Portfolio&gt;) -&gt; Unit)\n    fun sell(amount: Int, quote:JsonObject, resultHandler: (AsyncResult&lt;Portfolio&gt;) -&gt; Unit)\n    fun evaluate(resultHandler: (AsyncResult&lt;Double&gt;) -&gt; Unit)\n}\n</code></pre>\n\n<p>And the relevant configuration from <code>build.gradle</code>:</p>\n\n<pre><code>task generateProxies(type: JavaCompile, group: \"build\",\n        description: \"Generates the Vert.x proxies\") { // codegen\n    source = sourceSets.main.java\n    source += sourceSets.main.kotlin\n    classpath = configurations.compile + configurations.compileOnly\n    destinationDir = project.file(\"${projectDir}/src/main/generated\")\n    options.compilerArgs = [\n            \"-proc:only\",\n            \"-processor\", \"io.vertx.codegen.CodeGenProcessor\",\n            \"-Acodegen.output=${project.projectDir}/src/main\"\n    ]\n}\n</code></pre>\n\n<p>I then run <code>./gradlew portfolio:generateProxies</code>, but nothing beyond the <code>generated</code> directory.</p>\n\n<p>Is it possible to use <code>vertx-codegen</code> to generate service proxies based on an interface written in Kotlin? If so, what configuration steps am I missing? If not, is there any other way to generate the proxies? Even better, is there a way to do it entirely in Kotlin, avoiding the java generation or using it as an intermediate step?</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 1797, "user_id": 5620882, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dd51ec041d87e0abb834ccd760ccbe5a?s=128&d=identicon&r=PG&f=1", "display_name": "PN10", "link": "https://stackoverflow.com/users/5620882/pn10"}, "edited": false, "score": 0, "creation_date": 1498566518, "post_id": 44779578, "comment_id": 76541025, "body": "<a href=\"https://developer.android.com/studio/intro/keyboard-shortcuts.html#custom\" rel=\"nofollow noreferrer\">developer.android.com/studio/intro/&hellip;</a> this might help ..."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1498592873, "post_id": 44779578, "comment_id": 76558124, "body": "What would you rather type? Have you looked at <a href=\"https://www.jetbrains.com/help/idea/2017.1/live-templates.html\" rel=\"nofollow noreferrer\">live templates</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 3, "last_activity_date": 1498565684, "last_edit_date": 1498565684, "creation_date": 1498564386, "answer_id": 44779629, "question_id": 44779578, "link": "https://stackoverflow.com/questions/44779578/how-to-type-efficient-in-android-studio/44779629#44779629", "title": "how to type &quot;-&gt;&quot; efficient in Android Studio", "body": "<p>uses <code>ALT+ENTER</code> and then choose makes the parameters explicitly / specify the lambda signature.</p>\n\n<pre><code>//  move the cursor here `ALT+ENTER` specify the lambda signature\n//                        v\nval sum: (Int) -&gt; Unit = {\n    it\n//  ^--- move the cursor here `ALT+ENTER` to makes the parameters explicitly\n};\n</code></pre>\n\n<p><strong>OR</strong> uses <code>CTRL+SHIFT+SPACE</code>.</p>\n\n<pre><code>val sum: (Int) -&gt; Unit = { }\n//                        ^--- move the cursor here `CTRL+SHIFT+SPACE`     \n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 5291397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ccda326034b32d021e68016fdd9e60f?s=128&d=identicon&r=PG&f=1", "display_name": "Long.Zhou", "link": "https://stackoverflow.com/users/5291397/long-zhou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1498565684, "creation_date": 1498564224, "last_edit_date": 1498564635, "question_id": 44779578, "link": "https://stackoverflow.com/questions/44779578/how-to-type-efficient-in-android-studio", "title": "how to type &quot;-&gt;&quot; efficient in Android Studio", "body": "<p>I'm learning <strong>Kotlin</strong>. </p>\n\n<p>I don't want to type \"-\" + \">\" to get \"->\",so how can I type this symbol quickly?</p>\n\n<p>Note- IDE is Android Studio.</p>\n"}, {"tags": ["lambda", "kotlin", "apply"], "answers": [{"comments": [{"owner": {"reputation": 1016, "user_id": 3590155, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001211241573/picture?type=large", "display_name": "LeonardoSibela", "link": "https://stackoverflow.com/users/3590155/leonardosibela"}, "edited": false, "score": 0, "creation_date": 1581002013, "post_id": 44779656, "comment_id": 106291136, "body": "Should this work on an extension function as well? In my case, I&#39;m extending a function on the <code>java.util.Date</code> class. inside my function I was thinking about calling <code>Calendar.getInstance().apply {</code> and I could not figure out how to get a reference for my Date object."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 33, "last_activity_date": 1498564470, "creation_date": 1498564470, "answer_id": 44779656, "question_id": 44779568, "link": "https://stackoverflow.com/questions/44779568/kotlin-how-to-refer-outer-scope-this-in-multi-layer-apply-functions/44779656#44779656", "title": "kotlin how to refer outer-scope this in multi-layer apply functions", "body": "<p>You can use a <a href=\"https://kotlinlang.org/docs/reference/returns.html#return-at-labels\" rel=\"noreferrer\">label</a> and then a <a href=\"https://kotlinlang.org/docs/reference/this-expressions.html#qualified\" rel=\"noreferrer\">qualified <code>this</code></a> expression:</p>\n\n<pre><code>v1?.apply outer@ {\n    v2?.apply {\n        call(this, target, this@outer)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "is_accepted": false, "score": 9, "last_activity_date": 1498568934, "last_edit_date": 1498568934, "creation_date": 1498567884, "answer_id": 44780777, "question_id": 44779568, "link": "https://stackoverflow.com/questions/44779568/kotlin-how-to-refer-outer-scope-this-in-multi-layer-apply-functions/44780777#44780777", "title": "kotlin how to refer outer-scope this in multi-layer apply functions", "body": "<p>It's generally not recommended to use nested <code>apply</code> calls, which is to avoid your situation. You may of course use labels as a workaround, but you may also use <code>also</code> as an alternative:</p>\n\n<pre><code>v1?.also { outer -&gt;\n    v2?.apply { \n        call(this, target, outer)\n    }\n}\n</code></pre>\n\n<p>This prevents the usage of a label, which is often frowned upon. <sub>There is nothing wrong with labels though.</sub></p>\n\n<p>Note: <code>also</code> is a new addition to the stdlib in kotlin 1.1. If you are using older version you may not be able to see it. Either update kotlin to 1.1 or add this piece of code anywhere in your module:</p>\n\n<pre><code>inline fun &lt;T&gt; T.also(block: (T) -&gt; Unit) { block(this) }\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 7398901, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GJN_RiTMB2A/AAAAAAAAAAI/AAAAAAAAAD0/jdCrp4KN3gM/photo.jpg?sz=128", "display_name": "Jack Zhu", "link": "https://stackoverflow.com/users/7398901/jack-zhu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3887, "favorite_count": 1, "accepted_answer_id": 44779656, "answer_count": 2, "score": 17, "last_activity_date": 1498978879, "creation_date": 1498564202, "last_edit_date": 1498978879, "question_id": 44779568, "link": "https://stackoverflow.com/questions/44779568/kotlin-how-to-refer-outer-scope-this-in-multi-layer-apply-functions", "title": "kotlin how to refer outer-scope this in multi-layer apply functions", "body": "<p>for example:</p>\n\n<pre><code> v1?.apply {\n       v2?.apply {\n           call(this, target, outerThis);\n       }\n    }\n</code></pre>\n\n<p>my question is how to refer to \"outerThis\"? \nthanks for any help.</p>\n"}, {"tags": ["kotlin", "sequences", "purely-functional"], "comments": [{"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 1, "creation_date": 1498558946, "post_id": 44777706, "comment_id": 76536137, "body": "<code>map&#47;reduce&#47;flatMap</code> ? i&#39;m afraid I don&#39;t quite understand what you want to do. whats your input and desired output?"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1498559030, "post_id": 44777706, "comment_id": 76536187, "body": "your question is too broad. could you describe it clearly?"}, {"owner": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "edited": false, "score": 0, "creation_date": 1498561181, "post_id": 44777706, "comment_id": 76537634, "body": "added example. The question isn&#39;t broad, it&#39;s rather abstract because it&#39;s about idiom/pattern to be used for more than a single problem."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 2, "creation_date": 1498597889, "post_id": 44777706, "comment_id": 76560705, "body": "Kotlin 1.2-M1 (EAP) defines new functions that will help with this. Namely <code>windowed(size: Int, step: Int)</code> but also <code>chunked(size: Int)</code> and <code>pairwise()</code> for similar scenarios. See <a href=\"https://blog.jetbrains.com/kotlin/2017/06/early-access-program-for-kotlin-1-2-has-been-started/\" rel=\"nofollow noreferrer\">Early access program for Kotlin 1.2 has been started | Kotlin Blog</a> for details."}], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 0, "last_activity_date": 1498563043, "last_edit_date": 1498563043, "creation_date": 1498562274, "answer_id": 44778942, "question_id": 44777706, "link": "https://stackoverflow.com/questions/44777706/unweave-sequence-kotlin-functional-streaming-idiom/44778942#44778942", "title": "Unweave sequence, Kotlin functional/streaming idiom", "body": "<h2>Excludes remaining elements:</h2>\n\n<pre><code>const val N = 3\nfun greyscale(stream: List&lt;Byte&gt;) = (0 until stream.size / N)\n        .map { it * N }\n        .map { stream.subList(it, it + N).sum() / N }\n        .map(Int::toByte)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<blockquote>\n  <p>[1, 2, 3, 4, 5, 6]  => [2, 5]</p>\n  \n  <p>[1, 2, 3, 4, 5]  => [2]</p>\n</blockquote>\n\n<h2>Includes remaining elements:</h2>\n\n<pre><code>const val N = 3\nfun greyscale(stream: List&lt;Byte&gt;) = (0 until (stream.size + N - 1) / N)\n        .map { it * N }\n        .map { stream.subList(it, minOf(stream.size, it + N)).sum() / N }\n        .map(Int::toByte)\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<blockquote>\n  <p>[1, 2, 3, 4, 5, 6]  => [2, 5]</p>\n  \n  <p>[1, 2, 3, 4, 5]  => [2, 3]</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "is_accepted": false, "score": 0, "last_activity_date": 1498565072, "creation_date": 1498565072, "answer_id": 44779845, "question_id": 44777706, "link": "https://stackoverflow.com/questions/44777706/unweave-sequence-kotlin-functional-streaming-idiom/44779845#44779845", "title": "Unweave sequence, Kotlin functional/streaming idiom", "body": "<p>Best what I'm capable of is this:</p>\n\n<pre><code>fun grayscale(rgb:List&lt;Byte&gt;):List&lt;Byte&gt;\n    = rgb.foldIndexed(\n        IntArray(rgb.size / 3),\n        { idx, acc, i -&gt; \n            acc[idx / 3] = acc[idx / 3] + i; acc\n        }).map{ (it / 3).toByte() }\n</code></pre>\n\n<h3>Output</h3>\n\n<blockquote>\n  <p>in: [1, 2, 3, 4, 5, 6] </p>\n  \n  <p>out: [2, 5]</p>\n</blockquote>\n\n<p>And variations with <code>ArrayList</code> with <code>add</code> and <code>last</code></p>\n"}, {"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1498569157, "post_id": 44779865, "comment_id": 76542971, "body": "Not at all. :) and no need <code>toSortedMap</code> since the map is ordered as iteration order."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 2, "last_activity_date": 1498568538, "last_edit_date": 1498568538, "creation_date": 1498565142, "answer_id": 44779865, "question_id": 44777706, "link": "https://stackoverflow.com/questions/44777706/unweave-sequence-kotlin-functional-streaming-idiom/44779865#44779865", "title": "Unweave sequence, Kotlin functional/streaming idiom", "body": "<p>A possible way would be grouping by the index of the elements (in this case <code>/3</code>) and mapping these groups to their sum.</p>\n\n<pre><code>stream.withIndex()\n      .groupBy { it.index / 3 }\n      .toSortedMap()\n      .values\n      .map { (it.sumBy { it.value } / 3).toByte() }\n</code></pre>\n\n<p>Also strictly functional, but using Rx, would be possible by using <a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Observable.html#window(long)\" rel=\"nofollow noreferrer\"><code>window(long)</code></a></p>\n\n<pre><code>Observable.from(stream)\n          .window(3)\n          .concatMap { it.reduce(Int::plus).toObservable() }\n          .map { (it / 3).toByte() }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 3, "last_activity_date": 1498634271, "creation_date": 1498634271, "answer_id": 44795953, "question_id": 44777706, "link": "https://stackoverflow.com/questions/44777706/unweave-sequence-kotlin-functional-streaming-idiom/44795953#44795953", "title": "Unweave sequence, Kotlin functional/streaming idiom", "body": "<p>Kotlin 1.2 (Milestone 1 was released yesterday) brings the <code>chunked</code> method on collections. It chunks up the collection into blocks of a given size. You can use this to implement your function:</p>\n\n<pre><code>fun greyscale(stream: List&lt;Byte&gt;): List&lt;Byte&gt; = \n      stream.chunked(3)\n            .map { (it.sum() / 3).toByte() }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 1, "last_activity_date": 1511918136, "creation_date": 1511918136, "answer_id": 47543525, "question_id": 44777706, "link": "https://stackoverflow.com/questions/44777706/unweave-sequence-kotlin-functional-streaming-idiom/47543525#47543525", "title": "Unweave sequence, Kotlin functional/streaming idiom", "body": "<p>Similar to @marstran's answer, in Kotlin 1.2 you can use <code>chunked</code> function, but providing the transform lambda to it:</p>\n\n<pre><code>fun greyscale(stream: List&lt;Byte&gt;): List&lt;Byte&gt; = \n      stream.chunked(3) { it.average().toByte() }\n</code></pre>\n\n<p>This variant has an advantage that it doesn't instantiate a new List for every triple, but rather creates a single List and reuses it during the entire operation.</p>\n"}], "owner": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 44795953, "answer_count": 5, "score": 3, "last_activity_date": 1511918136, "creation_date": 1498558526, "last_edit_date": 1498560772, "question_id": 44777706, "link": "https://stackoverflow.com/questions/44777706/unweave-sequence-kotlin-functional-streaming-idiom", "title": "Unweave sequence, Kotlin functional/streaming idiom", "body": "<p>I have a sequence of interleaved data (with fixed stride) and I'd like to reduce it to a single value for each \"structure\" (n*stride values to n values).</p>\n\n<p>I could just use loop writing into the mutable list with selected step for reader index, but I'm looking for more functional and readable approach. Any thoughts?</p>\n\n<p>For example: \nInput sequence consists of RGB triplets (stride 3) and output is grayscale.</p>\n\n<p>Imperative way is like:</p>\n\n<pre><code>fun greyscale(stream:List&lt;Byte&gt;):List&lt;Byte&gt;{\n    val out = ArrayList(stream.size / 3)\n    var i = 0; var o = 0\n    while(i &lt; stream.size)\n        out[o++]=(stream[i++] + stream[i++] + stream[i++])/3\n    return out\n}\n</code></pre>\n\n<p>How can I make something like that without explicitly implementing a function and mutable container, but purely on functional extensions like <code>.map</code> and so on?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 2292, "user_id": 3383038, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PR3Vp.jpg?s=128&g=1", "display_name": "Oleg Osipenko", "link": "https://stackoverflow.com/users/3383038/oleg-osipenko"}, "edited": false, "score": 0, "creation_date": 1498551911, "post_id": 44775393, "comment_id": 76531417, "body": "what are the <code>msg</code> and <code>to</code> in the constructor do you use them as columns in the table or it&#39;s supposed to be <code>id</code>, <code>createTime</code> and <code>translMsg</code>?"}, {"owner": {"reputation": 5907, "user_id": 6892311, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ej62j.jpg?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/6892311/cyrus"}, "reply_to_user": {"reputation": 2292, "user_id": 3383038, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PR3Vp.jpg?s=128&g=1", "display_name": "Oleg Osipenko", "link": "https://stackoverflow.com/users/3383038/oleg-osipenko"}, "edited": false, "score": 0, "creation_date": 1498552231, "post_id": 44775393, "comment_id": 76531628, "body": "@OlegOsipenko The msg field means the main content about ChatMsg .  The to field means ChatMsg sent to and its value is MASTER or ROBOT. I need to use all those fields as columns in the table."}, {"owner": {"reputation": 2292, "user_id": 3383038, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PR3Vp.jpg?s=128&g=1", "display_name": "Oleg Osipenko", "link": "https://stackoverflow.com/users/3383038/oleg-osipenko"}, "edited": false, "score": 0, "creation_date": 1498552305, "post_id": 44775393, "comment_id": 76531667, "body": "so only two columns? But I see an <code>id</code> with <code>@PrimaryKey</code> annotation, so I think it&#39;s also a column"}, {"owner": {"reputation": 5907, "user_id": 6892311, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ej62j.jpg?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/6892311/cyrus"}, "reply_to_user": {"reputation": 2292, "user_id": 3383038, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PR3Vp.jpg?s=128&g=1", "display_name": "Oleg Osipenko", "link": "https://stackoverflow.com/users/3383038/oleg-osipenko"}, "edited": false, "score": 0, "creation_date": 1498552574, "post_id": 44775393, "comment_id": 76531831, "body": "I remember all fields would be taken as column  except I add @Ingore annotation to those fields ."}, {"owner": {"reputation": 2292, "user_id": 3383038, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PR3Vp.jpg?s=128&g=1", "display_name": "Oleg Osipenko", "link": "https://stackoverflow.com/users/3383038/oleg-osipenko"}, "edited": false, "score": 1, "creation_date": 1498552701, "post_id": 44775393, "comment_id": 76531907, "body": "so it&#39;s already answered: you have explanation in the stacktrace, basically either make an empty constructor with empty parameters or pass all the fields to the constructor. <code>You can have an empty   constructor or a constructor whose parameters match the fields (by name and type)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 5907, "user_id": 6892311, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ej62j.jpg?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/6892311/cyrus"}, "edited": false, "score": 0, "creation_date": 1498553443, "post_id": 44775621, "comment_id": 76532382, "body": "Thanks for your answer . My problem has been solved."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 5907, "user_id": 6892311, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ej62j.jpg?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/6892311/cyrus"}, "edited": false, "score": 0, "creation_date": 1498553464, "post_id": 44775621, "comment_id": 76532400, "body": "@Cyrus Not at all."}, {"owner": {"reputation": 5907, "user_id": 6892311, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ej62j.jpg?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/6892311/cyrus"}, "edited": false, "score": 0, "creation_date": 1498554062, "post_id": 44775621, "comment_id": 76532792, "body": "On more question, NOTE: On the JVM, if all of the parameters of the primary constructor have default values, the compiler will generate an additional parameterless constructor which will use the default values. This makes it easier to use Kotlin with libraries such as Jackson or JPA that create class instances through parameterless constructors.  I copy that from <a href=\"http://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\">here</a>.Why  additional parameterless constructor can&#39;t be  generated?"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 5907, "user_id": 6892311, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ej62j.jpg?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/6892311/cyrus"}, "edited": false, "score": 0, "creation_date": 1498554269, "post_id": 44775621, "comment_id": 76532919, "body": "@Cyrus because it don&#39;t have any <b>default</b> parameters."}, {"owner": {"reputation": 5907, "user_id": 6892311, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ej62j.jpg?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/6892311/cyrus"}, "edited": false, "score": 0, "creation_date": 1498554784, "post_id": 44775621, "comment_id": 76533237, "body": "Oh , I see. Thanks for your patience . There&#39;s always  a little difficult for me to understand English documents"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 5907, "user_id": 6892311, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ej62j.jpg?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/6892311/cyrus"}, "edited": false, "score": 0, "creation_date": 1498554943, "post_id": 44775621, "comment_id": 76533335, "body": "@Cyrus I&#39;m from China. my english is so bad too. :)"}, {"owner": {"reputation": 5907, "user_id": 6892311, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ej62j.jpg?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/6892311/cyrus"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1498554958, "post_id": 44775621, "comment_id": 76533349, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/147697/discussion-between-cyrus-and-holi-java\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 5, "last_activity_date": 1507378832, "last_edit_date": 1507378832, "creation_date": 1498552371, "answer_id": 44775621, "question_id": 44775393, "link": "https://stackoverflow.com/questions/44775393/room-kotlinentities-and-pojos-must-have-a-usable-public-constructor/44775621#44775621", "title": "Room Kotlin:Entities and Pojos must have a usable public constructor", "body": "<p>The error message said exactly:</p>\n\n<blockquote>\n  <p>You can have an <strong>empty\n    constructor</strong> or a constructor whose parameters match the fields (by <strong>name and type</strong>).</p>\n</blockquote>\n\n<p>One thing should be noted. You should be using <a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\">Annotation Site Target</a> to put the <code>@PrimaryKey</code> into the correct place.</p>\n\n<p>so your entity should have an empty constructor:</p>\n\n<pre><code>@Entity\ndata class ChatMsg(var msg: String, var to: Int) {\n    constructor() : this(\"\", UNKNOWN);\n\n    companion object TO {\n        val MASTER = 0\n        val ROBOT = 1\n        private val UNKNOWN = -1; // just use for initializing\n    }\n\n    @field: PrimaryKey(autoGenerate = true)\n    var id: Int = 0\n}\n</code></pre>\n\n<p><strong>OR</strong> should have a constructor that matches the fields.</p>\n\n<pre><code>@Entity\ndata class ChatMsg(\n        @field:PrimaryKey(autoGenerate = true) var id: Int, \n        var createTime: Long = System.currentTimeMillis(),\n        var translMsg: String = \"\", \n        var msg: String, var to: Int\n) {\n\n    companion object TO {\n        val MASTER = 0\n        val ROBOT = 1\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 5907, "user_id": 6892311, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ej62j.jpg?s=128&g=1", "display_name": "Cyrus", "link": "https://stackoverflow.com/users/6892311/cyrus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7381, "favorite_count": 0, "accepted_answer_id": 44775621, "answer_count": 1, "score": 5, "last_activity_date": 1507378832, "creation_date": 1498551613, "question_id": 44775393, "link": "https://stackoverflow.com/questions/44775393/room-kotlinentities-and-pojos-must-have-a-usable-public-constructor", "title": "Room Kotlin:Entities and Pojos must have a usable public constructor", "body": "<p>When I run my app,I got follow error.</p>\n\n<pre><code>Error: Entities and Pojos must have a usable public constructor. You can have an empty\n  constructor or a constructor whose parameters match the fields (by name and type).\n  Tried the following constructors but they failed to match:\n  ChatMsg(java.lang.String,int) : [arg0 : null, arg1 : null]\nError: Entities and Pojos must have a usable public constructor. You can have an empty\n  constructor or a constructor whose parameters match the fields (by name and type).\nError: Entities and Pojos must have a usable public constructor. You can have an empty\n  constructor or a constructor whose parameters match the fields (by name and type).\n  Tried the following constructors but they failed to match:\n  ChatMsg(java.lang.String,int) : [arg0 : null, arg1 : null]\nError: Entities and Pojos must have a usable public constructor. You can have an empty\n  constructor or a constructor whose parameters match the fields (by name and type).\nWarning: Schema export directory is not provided to the annotation processor so we cannot export the schema. You can either provide `room.schemaLocation` annotation processor argument OR set exportSchema to false.\n</code></pre>\n\n<p>That's my build.gradle for project</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.2-4'\n    repositories {\n        maven { url 'https://maven.google.com' }\n        jcenter()  \n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-alpha4'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'com.letv.sarrsdesktop:BlockCanaryExPlugin:0.9.9.2'\n\n    }\n}   \nallprojects {\n    repositories {\n        jcenter()\n        maven { url 'https://maven.google.com' }\n        maven { url \"https://jitpack.io\" }\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>That's my build.gradle for module</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\nkapt {\n    generateStubs = true\n}\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n        applicationId \"cn.sz.cyrus.kotlintest\"\n        minSdkVersion 14\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n        javaCompileOptions{\n            annotationProcessorOptions{\n                includeCompileClasspath = true\n            }\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    testCompile 'junit:junit:4.12'\n    compile 'com.android.support:design:25.3.1'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    debugCompile 'com.squareup.leakcanary:leakcanary-android:1.5.1'\n    releaseCompile 'com.squareup.leakcanary:leakcanary-android-no-op:1.5.1'\n    testCompile 'com.squareup.leakcanary:leakcanary-android-no-op:1.5.1'\n    compile 'com.github.GrenderG:Toasty:1.2.5'\n    compile 'com.orhanobut:logger:1.15'\n    compile 'io.reactivex.rxjava2:rxandroid:2.0.1'\n    compile 'com.umeng.analytics:analytics:latest.integration'\n    compile 'com.github.kittinunf.fuel:fuel-android:1.7.0' //for Android\n    compile 'com.github.kittinunf.fuel:fuel-rxjava:1.7.0' //for RxJava support\n    compile \"android.arch.persistence.room:runtime:1.0.0-alpha3\"\n    annotationProcessor \"android.arch.persistence.room:compiler:1.0.0-alpha3\"\n    kapt \"android.arch.persistence.room:compiler:1.0.0-alpha3\"\n    compile \"android.arch.persistence.room:rxjava2:1.0.0-alpha3\" \n}\n</code></pre>\n\n<p>That's my pojo class</p>\n\n<pre><code>@Entity\ndata class ChatMsg(var msg: String,\n              var to: Int) {\n\n    companion object TO {\n        val MASTER = 0\n        val ROBOT = 1\n    }\n\n    @PrimaryKey(autoGenerate = true)\n    var id: Int = 0\n    var createTime: Long = System.currentTimeMillis()\n    var translMsg: String = \"\"\n}\n</code></pre>\n\n<p>I have google my problem,but results seems can't answer my question.Who has ideas for this question . Thanks for first!</p>\n"}, {"tags": ["android", "memory-leaks", "kotlin", "android-lint"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1498548609, "post_id": 44774187, "comment_id": 76529541, "body": "I&#39;d like to say <code>AsyncTask</code> should be as local as possible. so all the code above are wrong usage. which means  dispose/release it immediately after used."}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1498548629, "post_id": 44774187, "comment_id": 76529557, "body": "Nested classes in Kotlin are equivalent to <code>static class</code> in Java by default - did you try dropping the <code>inner</code> keyword of <code>Attempt2Task</code>? See <a href=\"https://kotlinlang.org/docs/reference/nested-classes.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/nested-classes.html</a>"}, {"owner": {"reputation": 2964, "user_id": 2829759, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/9da698fc9637fd30b69c8dc096773ad3?s=128&d=identicon&r=PG&f=1", "display_name": "user2829759", "link": "https://stackoverflow.com/users/2829759/user2829759"}, "reply_to_user": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1498549383, "post_id": 44774187, "comment_id": 76529991, "body": "@JK Thanks for pointing out! I have read the <code>inner classes</code> section multiple times without realising it is implied that nested classes has no access to member of outer class!"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1498555624, "post_id": 44774187, "comment_id": 76533786, "body": "<code>Attempt3Task(this)</code> has a reference to the activity as well. You&#39;re only providing it explicitly as the callback."}, {"owner": {"reputation": 1849, "user_id": 7679573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czZkd.jpg?s=128&g=1", "display_name": "A. Shevchuk", "link": "https://stackoverflow.com/users/7679573/a-shevchuk"}, "edited": false, "score": 0, "creation_date": 1498558482, "post_id": 44774187, "comment_id": 76535791, "body": "I&#39;d like to advice you to declare your <code>AsyncTask</code> in java file as static class and then use it from kotlin."}, {"owner": {"reputation": 1849, "user_id": 7679573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czZkd.jpg?s=128&g=1", "display_name": "A. Shevchuk", "link": "https://stackoverflow.com/users/7679573/a-shevchuk"}, "edited": false, "score": 0, "creation_date": 1498559161, "post_id": 44774187, "comment_id": 76536283, "body": "and another option: have you tried to make nested <code>AsyncTask</code> <code>internal</code> visibility? Seems like it won&#39;t have a reference to root class"}, {"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 0, "creation_date": 1498942165, "post_id": 44774187, "comment_id": 76709952, "body": "The <code>inner</code> portion seems to be the issue here. Having it as just a nested <code>class</code> should be fine, as with putting it in another file. Likewise, have you looked into other solutions? Kotlin has an experimental <a href=\"https://kotlinlang.org/docs/reference/coroutines.html\" rel=\"nofollow noreferrer\">coroutines</a> function set as well as <a href=\"https://github.com/Kotlin/anko\" rel=\"nofollow noreferrer\">anko</a> which may help you deal with async tasks with ease."}, {"owner": {"reputation": 2355, "user_id": 7745946, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/guDLD.png?s=128&g=1", "display_name": "Aashish", "link": "https://stackoverflow.com/users/7745946/aashish"}, "edited": false, "score": 0, "creation_date": 1558774459, "post_id": 44774187, "comment_id": 99217661, "body": "You should try this answer: <a href=\"https://stackoverflow.com/questions/44309241/warning-this-asynctask-class-should-be-static-or-leaks-might-occur\" title=\"warning this asynctask class should be static or leaks might occur\">stackoverflow.com/questions/44309241/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 26838, "user_id": 490961, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LZHSa.png?s=128&g=1", "display_name": "Vincent Mimoun-Prat", "link": "https://stackoverflow.com/users/490961/vincent-mimoun-prat"}, "is_accepted": false, "score": 1, "last_activity_date": 1511522881, "creation_date": 1511522881, "answer_id": 47472348, "question_id": 44774187, "link": "https://stackoverflow.com/questions/44774187/what-is-the-right-approach-to-this-asynctask-class-should-be-static-or-leaks-mi/47472348#47472348", "title": "What is the right approach to &quot;This AsyncTask class should be static or leaks might occur&quot; in Kotlin Android?", "body": "<p>Why don't you have the AsyncTask class declaration outside of the activity class?</p>\n\n<p>In Kotlin that could be in the same file as the activity but just above/below the Activity class.</p>\n\n<p>That way there is no issue about a hidden reference. </p>\n\n<p>Also make sure to just keep a WeakReference to the listener inside your AsyncTask.</p>\n\n<p>That said, according to me, AsyncTask belongs to the past, and you should now be using some more modern alternatives such as RxJava, co-routines, Loaders, etc.</p>\n"}], "owner": {"reputation": 2964, "user_id": 2829759, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/9da698fc9637fd30b69c8dc096773ad3?s=128&d=identicon&r=PG&f=1", "display_name": "user2829759", "link": "https://stackoverflow.com/users/2829759/user2829759"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4867, "favorite_count": 3, "answer_count": 1, "score": 15, "last_activity_date": 1511522881, "creation_date": 1498547258, "question_id": 44774187, "link": "https://stackoverflow.com/questions/44774187/what-is-the-right-approach-to-this-asynctask-class-should-be-static-or-leaks-mi", "title": "What is the right approach to &quot;This AsyncTask class should be static or leaks might occur&quot; in Kotlin Android?", "body": "<p>There are many questions here dealing with <code>This class should be static or leaks might occur</code> in java android.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/11407943/this-handler-class-should-be-static-or-leaks-might-occur-incominghandler\">This Handler class should be static or leaks might occur: IncomingHandler</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/37188519/this-handler-class-should-be-static-or-leaks-might-occurasyncqueryhandler\">This Handler class should be static or leaks might occur:AsyncQueryHandler</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/44309241/this-asynctask-class-should-be-static-or-leaks-might-occur-anonymous-android-os\">This AsyncTask class should be static or leaks might occur (anonymous android.os.AsyncTask)</a></p>\n\n<p>The warning is due to the fact that inner class holds an implicit reference to the outer class, and hence preventing the outer class from GC'd.\nThe solution lies in the warning itself that the class should be declared static.</p>\n\n<p>However, the solution is java specific. Given that kotlin has no <code>static</code> modifier, the closest thing is <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"noreferrer\">companion object</a> and companion object does hold reference to it's \"outer class\". </p>\n\n<p>Below are my [failed] attempts with remarks</p>\n\n<pre><code>class MyActivity : AppCompatActivity(), MyListener {\n\n    companion object {\n        class Attempt3Task(val callback: MyListener) : AsyncTask&lt;Unit, Unit, Unit&gt;() {\n            override fun doInBackground(vararg params: Unit?) {\n                TODO(\"\")\n            }\n\n            override fun onPostExecute(result: Unit?) {\n                callback.updateUi()\n            }\n        }\n    }\n\n    inner class Attempt2Task : AsyncTask&lt;Unit, Unit, Unit&gt; () {\n        override fun doInBackground(vararg params: Unit?) {\n            TODO(\"\n        }\n    }\n\n    // Gives warning \"This AsyncTask class should be static or leaks might occur\"\n    val attempt_1 = object: AsyncTask&lt;Unit, Unit, Unit&gt;() {\n        override fun doInBackground(vararg params: Unit?) {\n            TODO(\"\")\n        }\n    }\n\n    // Does not give warning but, as far as I can tell, is conceptually same as attempt_1\n    val attempt_2 = Attempt2Task()\n\n   // Does not give warning but companion object does have reference to the activity, no?\n    val attempt_3 = Attempt3Task(this)\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n    }\n}\n</code></pre>\n\n<p>Are the assertion about attempt2 and attempt3 correct that even without the linter warning, the code is still leaking?</p>\n\n<p>What options do we have to avoid the leaking? \nShould I resolve to plain old top-level <code>class MyTask : AsyncTask&lt;Unit, Unit, Unit&gt; ()</code> with a member of <code>WeakReference</code> to callback?</p>\n"}, {"tags": ["kotlin", "vert.x", "kotlin-interop"], "answers": [{"comments": [{"owner": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "edited": false, "score": 0, "creation_date": 1498547258, "post_id": 44773873, "comment_id": 76528723, "body": "Thanks. Yes, you&#39;re exactly right. Those pesky capital letters!"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "edited": false, "score": 0, "creation_date": 1498547287, "post_id": 44773873, "comment_id": 76528739, "body": "@amb85 Not at all."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 3, "last_activity_date": 1498547259, "last_edit_date": 1498547259, "creation_date": 1498546145, "answer_id": 44773873, "question_id": 44773682, "link": "https://stackoverflow.com/questions/44773682/kotlin-vertx-type-mismatch-found-futureunit-expected-handlerasyncresultvoid/44773873#44773873", "title": "Kotlin Vertx Type Mismatch found Future&lt;Unit&gt; expected Handler&lt;AsyncResult&lt;Void&gt;&gt;", "body": "<p><code>Unit</code> is not equivalent to <code>Void</code>, it is equivalent to <code>void</code> in kotlin. </p>\n\n<p>In java, <code>void</code> is a keyword, but <code>Void</code> is a class. so the code below can't be compiled:</p>\n\n<pre><code>fun foo():Void{/**need return a Void instance exactly**/}\n\nfun bar():Void{ return Unit; }\n//                     ^--- type mismatch error\n</code></pre>\n\n<p>java applies the same rule, for example:</p>\n\n<pre><code>Void canNotBeCompiled(){\n  // must return a Void instance exactly.\n}\n\nVoid foo(){\n  return Void.TYPE;\n}\n\nVoid nil(){\n  return null;\n}\n</code></pre>\n\n<p>Finally the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html\" rel=\"nofollow noreferrer\">Unit</a> documentation also says:</p>\n\n<blockquote>\n  <p>The type with only one value: the Unit object. This type corresponds to the <strong>void</strong> type in Java.</p>\n</blockquote>\n"}], "owner": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "accepted_answer_id": 44773873, "answer_count": 1, "score": 1, "last_activity_date": 1498547259, "creation_date": 1498545375, "question_id": 44773682, "link": "https://stackoverflow.com/questions/44773682/kotlin-vertx-type-mismatch-found-futureunit-expected-handlerasyncresultvoid", "title": "Kotlin Vertx Type Mismatch found Future&lt;Unit&gt; expected Handler&lt;AsyncResult&lt;Void&gt;&gt;", "body": "<p>I thought that in Kotlin, <code>Unit</code> was equivalent to <code>Void</code>. With Vert.x Service Discovery, it is not possible to pass a <code>Future&lt;Unit&gt;</code> to <code>unpublish(String id, Handler&lt;AsyncResult&lt;Void&gt;&gt; resultHandler)</code> (gives a type mismatch) yet it will accept <code>Future&lt;Void&gt;</code> without any problem. Why is this and is there a solution or will I just have to live with using <code>Void</code>?</p>\n"}, {"tags": ["java", "file", "jvm", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 4, "creation_date": 1498544184, "post_id": 44773351, "comment_id": 76527111, "body": "<a href=\"https://kotlinlang.org/docs/reference/lambdas.html#it-implicit-name-of-a-single-parameter\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 2702, "user_id": 7254873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jfQVFidpSlo/AAAAAAAAAAI/AAAAAAAAAFM/DBb8C8t0w64/photo.jpg?sz=128", "display_name": "Sumit Shukla", "link": "https://stackoverflow.com/users/7254873/sumit-shukla"}, "edited": false, "score": 0, "creation_date": 1565527106, "post_id": 44773351, "comment_id": 101375185, "body": "How can we rename it parameter?"}, {"owner": {"reputation": 868, "user_id": 6286539, "user_type": "registered", "profile_image": "https://graph.facebook.com/1195207520519710/picture?type=large", "display_name": "Sujin Shrestha", "link": "https://stackoverflow.com/users/6286539/sujin-shrestha"}, "edited": false, "score": 0, "creation_date": 1565586373, "post_id": 44773351, "comment_id": 101385655, "body": "Just put some variable name and use it. eg. randomList.map { myVariable -&gt; print(myVariable) }"}], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 38, "last_activity_date": 1498544201, "creation_date": 1498544201, "answer_id": 44773399, "question_id": 44773351, "link": "https://stackoverflow.com/questions/44773351/what-is-the-it-in-kotlin-lambda-body/44773399#44773399", "title": "What is the `it` in Kotlin lambda body?", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/lambdas.html#it-implicit-name-of-a-single-parameter\" rel=\"noreferrer\">it</a> variable is an implicit parameter in lambda.</p>\n\n<blockquote>\n  <p>One other helpful convention is that if a function literal has only <strong>one parameter</strong>, its declaration may be omitted (along with the ->), and its name will be <strong>it</strong>:</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 542, "user_id": 2960480, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/Uig7R.jpg?s=128&g=1", "display_name": "JAEMOON HWANG", "link": "https://stackoverflow.com/users/2960480/jaemoon-hwang"}, "is_accepted": false, "score": 5, "last_activity_date": 1524562119, "creation_date": 1524562119, "answer_id": 49998057, "question_id": 44773351, "link": "https://stackoverflow.com/questions/44773351/what-is-the-it-in-kotlin-lambda-body/49998057#49998057", "title": "What is the `it` in Kotlin lambda body?", "body": "<p>Please refer to the following description. </p>\n\n<blockquote>\n  <p><strong>it: implicit name of a single parameter</strong></p>\n  \n  <p>It's very common that a lambda expression has only one parameter.</p>\n  \n  <p>If the compiler can figure the signature out itself, it is allowed not\n  to declare the only parameter and omit ->. The parameter will be\n  implicitly declared under the name it:</p>\n</blockquote>\n\n<pre><code>ints.filter { it &gt; 0 } // this literal is of type '(it: Int) -&gt; Boolean'\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/lambdas.html#it-implicit-name-of-a-single-parameter\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/lambdas.html#it-implicit-name-of-a-single-parameter</a></p>\n"}, {"tags": [], "owner": {"reputation": 7877, "user_id": 8822337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojyRl.jpg?s=128&g=1", "display_name": "BloodLoss", "link": "https://stackoverflow.com/users/8822337/bloodloss"}, "is_accepted": false, "score": 3, "last_activity_date": 1547004573, "creation_date": 1547004573, "answer_id": 54102851, "question_id": 44773351, "link": "https://stackoverflow.com/questions/44773351/what-is-the-it-in-kotlin-lambda-body/54102851#54102851", "title": "What is the `it` in Kotlin lambda body?", "body": "<pre><code>val list = listOf(1,2,3,4,5,6,7).filter { it &gt; 2 }\nfor(i in list){\n    println(i)\n}\n</code></pre>\n\n<p>In this Example, list size is 7. Using <strong>it</strong>, list size is 5. for loop only check > 2 numbers</p>\n\n<blockquote>\n  <p>size = 5 and output is 3,4,5,6,7</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 8317158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/735a45bef59f8052a1da93b2262c94ce?s=128&d=identicon&r=PG&f=1", "display_name": "Nano", "link": "https://stackoverflow.com/users/8317158/nano"}, "is_accepted": false, "score": 4, "last_activity_date": 1592718493, "creation_date": 1592718493, "answer_id": 62494875, "question_id": 44773351, "link": "https://stackoverflow.com/questions/44773351/what-is-the-it-in-kotlin-lambda-body/62494875#62494875", "title": "What is the `it` in Kotlin lambda body?", "body": "<p>Here is the kotlin org doc: <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#it-implicit-name-of-a-single-parameter\" rel=\"nofollow noreferrer\">it: implicit name of a single parameter</a></p>\n<p>for example</p>\n<pre><code>ints.filter { value -&gt; value &gt; 0 }\n</code></pre>\n<p>you can simplify it to:</p>\n<pre><code>ints.filter { it &gt; 0 }\n</code></pre>\n<p>while you cannot use</p>\n<pre><code>ints.filter { value &gt; 0 }\n</code></pre>\n"}], "owner": {"reputation": 868, "user_id": 6286539, "user_type": "registered", "profile_image": "https://graph.facebook.com/1195207520519710/picture?type=large", "display_name": "Sujin Shrestha", "link": "https://stackoverflow.com/users/6286539/sujin-shrestha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12522, "favorite_count": 5, "accepted_answer_id": 44773399, "answer_count": 4, "score": 32, "last_activity_date": 1592718493, "creation_date": 1498543979, "last_edit_date": 1500325870, "question_id": 44773351, "link": "https://stackoverflow.com/questions/44773351/what-is-the-it-in-kotlin-lambda-body", "title": "What is the `it` in Kotlin lambda body?", "body": "<p>For example in these two following codes:</p>\n\n<pre><code>File(\"./file1.txt\").forEachLine { println(it) }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>File(\"somefile.txt\").bufferedWriter().use { out -&gt;\n    history.forEach {\n        out.write(\"${it.key}, ${it.value}\\n\")\n    }\n}\n</code></pre>\n\n<p>In this code what does <code>it</code> mean?</p>\n"}, {"tags": ["arrays", "string", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 415, "user_id": 7905888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ecf268c06ea43d76b2445baf7b66ed5?s=128&d=identicon&r=PG&f=1", "display_name": "A. Amini", "link": "https://stackoverflow.com/users/7905888/a-amini"}, "edited": false, "score": 0, "creation_date": 1596107936, "post_id": 44773025, "comment_id": 111708369, "body": "<code>toCharArray</code> Won&#39;t work if String contains emojis.  <code>&quot;AB\ud83d\ude1f\ud83e\udd39\ud83d\udc68\ud83c\udffb\u2705\ud83d\udc68\ud83d\udc68\ud83c\udfff&quot;.toCharArray()</code> will print: <code>[A, B, ?, ?, ?, ?, ?, ?, ?, ?, \u2705, ?, ?, ?, ?, ?, ?] </code>"}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 45, "last_activity_date": 1498543715, "last_edit_date": 1498543715, "creation_date": 1498542555, "answer_id": 44773025, "question_id": 44772937, "link": "https://stackoverflow.com/questions/44772937/how-can-i-convert-chararray-arraychar-to-a-string/44773025#44773025", "title": "How can I convert CharArray / Array&lt;Char&gt; to a String?", "body": "<p>you can simply using <code>Array#joinToString</code>:</p>\n\n<pre><code>val result: String = chars.joinToString(\"\");\n</code></pre>\n\n<p><strong>OR</strong> convert <code>chars</code> to <code>CharArray</code>:</p>\n\n<pre><code>val result: String = String(chars.toCharArray());\n</code></pre>\n\n<p><strong>OR</strong> declaring a primitive <code>CharArray</code> by using <code>charArrayOf</code>:</p>\n\n<pre><code>val chars = charArrayOf('A', 'B', 'C');\nval result: String = String(chars);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3991, "user_id": 1343979, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1cde802f2b3fae0e23f43a65b507bd05?s=128&d=identicon&r=PG", "display_name": "Bass", "link": "https://stackoverflow.com/users/1343979/bass"}, "is_accepted": false, "score": 1, "last_activity_date": 1561041399, "creation_date": 1561041399, "answer_id": 56688352, "question_id": 44772937, "link": "https://stackoverflow.com/questions/44772937/how-can-i-convert-chararray-arraychar-to-a-string/56688352#56688352", "title": "How can I convert CharArray / Array&lt;Char&gt; to a String?", "body": "<p>Additionally, the <code>String(chars: CharArray)</code> constructor can be invoked as either</p>\n\n<pre><code>    val ctor: (CharArray) -&gt; String = ::String\n    val result = chars.let(ctor)\n</code></pre>\n\n<p>or </p>\n\n<pre><code>    val result = chars.let { String(it) }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1944, "user_id": 5844686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdc03955e4050fc063d6593d6e1c8b8a?s=128&d=identicon&r=PG&f=1", "display_name": "Big Pumpkin", "link": "https://stackoverflow.com/users/5844686/big-pumpkin"}, "is_accepted": false, "score": 0, "last_activity_date": 1609349438, "creation_date": 1609349438, "answer_id": 65511106, "question_id": 44772937, "link": "https://stackoverflow.com/questions/44772937/how-can-i-convert-chararray-arraychar-to-a-string/65511106#65511106", "title": "How can I convert CharArray / Array&lt;Char&gt; to a String?", "body": "<p>You can also use <code>concatToString</code>.</p>\n<pre><code>val chars = &quot;ABC&quot;.toCharArray()\nval result = chars.concatToString()\n</code></pre>\n"}], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13939, "favorite_count": 3, "accepted_answer_id": 44773025, "answer_count": 3, "score": 22, "last_activity_date": 1609349438, "creation_date": 1498542056, "last_edit_date": 1500326513, "question_id": 44772937, "link": "https://stackoverflow.com/questions/44772937/how-can-i-convert-chararray-arraychar-to-a-string", "title": "How can I convert CharArray / Array&lt;Char&gt; to a String?", "body": "<p>I have a <code>CharArray</code> whose contents are characters like:</p>\n\n<pre><code>val chars = arrayOf('A', 'B', 'C')\n</code></pre>\n\n<p>or</p>\n\n<pre><code>val chars = \"ABC\".toCharArray()\n</code></pre>\n\n<p>I want to get the string <code>\"ABC\"</code> from this. How can I do it?</p>\n\n<p><code>chars.toString()</code> does not work; it works as if <code>chars</code> was a normal integer array.</p>\n"}, {"tags": ["inheritance", "constructor", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1498548911, "post_id": 44772936, "comment_id": 76529745, "body": "Please add the error message you are getting"}], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 7, "last_activity_date": 1498543199, "creation_date": 1498543199, "answer_id": 44773145, "question_id": 44772936, "link": "https://stackoverflow.com/questions/44772936/kotlin-how-can-a-child-constructor-use-its-parents-secondary-constructor/44773145#44773145", "title": "Kotlin: How can a child constructor use its parent&#39;s secondary constructor?", "body": "<p>First, you can't extends the <code>Parent</code> class since it is not <code>open</code>ed.</p>\n\n<p>Secondly, if a class has declared a primary constructor, you can't call the constructor of the superclass via <code>super</code> keyword.</p>\n\n<p>On the other hand, if you want to call the superlcass's constructor by the keyword <code>super</code>. you need make the primary constructor to the secondary constructor, for example:</p>\n\n<pre><code>class Child : Parent {\n  constructor(id: Int, name: String?) : super(id, name)\n  constructor() : super()\n}\n</code></pre>\n\n<p>Another option is let the secondary constructor call the primary constructor by <code>this</code> keyword, but I think it is unnecessary and duplicated parameters with superclass's secondary constructor:</p>\n\n<pre><code>class Child(id: Int, name: String?) : Parent(id, name) {\n  constructor() : this(-1, null);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "is_accepted": true, "score": 9, "last_activity_date": 1498547702, "last_edit_date": 1498547702, "creation_date": 1498545596, "answer_id": 44773738, "question_id": 44772936, "link": "https://stackoverflow.com/questions/44772936/kotlin-how-can-a-child-constructor-use-its-parents-secondary-constructor/44773738#44773738", "title": "Kotlin: How can a child constructor use its parent&#39;s secondary constructor?", "body": "<p>The best way to achieve this is imho using <em>default parameters</em> for your constructor</p>\n\n<pre><code>class Child(id: Int = -1, name: String? = null) : Parent(id, name)\n</code></pre>\n\n<p>Depending on how much influence you've got on the <code>Parent</code> class, maybe even</p>\n\n<pre><code>class Parent(val id: Int = -1, val name: String? = null)\n</code></pre>\n\n<p>This has one \"drawback\", though: you'll technically get three different constructors. But I can't see how this could be a problem, since you have to handle the <code>id=-1</code> and <code>name=null</code> cases anyway.</p>\n\n<p>Additionally, I don't think your solution</p>\n\n<pre><code>class Child(id: Int, name: String?) : Parent(id, name) {\n    constructor() : this(-1, null) \n}\n</code></pre>\n\n<p>is bad, or \"redundant\" in any way - on the contrary: it's highly expressive and explicit, so the reader knows exactly what your intention was.</p>\n"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8286, "favorite_count": 1, "accepted_answer_id": 44773738, "answer_count": 2, "score": 8, "last_activity_date": 1498547702, "creation_date": 1498542055, "last_edit_date": 1498544109, "question_id": 44772936, "link": "https://stackoverflow.com/questions/44772936/kotlin-how-can-a-child-constructor-use-its-parents-secondary-constructor", "title": "Kotlin: How can a child constructor use its parent&#39;s secondary constructor?", "body": "<p>For example, we have this parent:</p>\n\n<pre><code>open class Parent(val id: Int, val name: String?) {\n    constructor() : this(-1, null)\n}\n</code></pre>\n\n<p>And a child, which must have both a two-param constructor and an empty constructor, like the parent:</p>\n\n<pre><code>class Child(id: Int, name: String?) : Parent(id, name) {\n    constructor() : super() // syntax error\n}\n</code></pre>\n\n<p>How can a child constructor use its parent's secondary constructor?</p>\n\n<p>I am aware that I can implement a child constructor passing in the same values as the parent, but this not only seems redundant but also often times my childs have extra parameters for its primary constructor, but don't require intermediary constructors (constructors with params that don't include all the extra params). Here's an example child implementing it that way, in case I wasn't clear:</p>\n\n<pre><code>class Child(id: Int, name: String?) : Parent(id, name) {\n    constructor() : this(-1, null) // no syntax error, but redundant\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1498563163, "post_id": 44772515, "comment_id": 76538837, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/39798269/return-from-lambdas-or-kotlin-return-is-not-allowed-here\">Return from lambdas or Kotlin: &#39;return&#39; is not allowed here</a>"}], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 8, "last_activity_date": 1498539651, "creation_date": 1498539651, "answer_id": 44772557, "question_id": 44772515, "link": "https://stackoverflow.com/questions/44772515/how-to-return-from-kotlin-function-type/44772557#44772557", "title": "How to return from Kotlin function type", "body": "<p>you need to create a <a href=\"https://kotlinlang.org/docs/reference/returns.html#return-at-labels\" rel=\"noreferrer\">label</a> with explicit return statement in lambda, for example:</p>\n\n<pre><code>//   label for lambda---v\nval Search_Click = action@{ searchString: String -&gt;\n    if (searchString.isEmpty()) {\n        return@action;\n    }\n    // do working\n}\n</code></pre>\n\n<p><strong>OR</strong> invert the if statement as below:</p>\n\n<pre><code>val Search_Click = { searchString: String -&gt;\n    if (!searchString.isEmpty()) {\n      // do working\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": false, "score": 2, "last_activity_date": 1498542356, "last_edit_date": 1498542356, "creation_date": 1498541636, "answer_id": 44772865, "question_id": 44772515, "link": "https://stackoverflow.com/questions/44772515/how-to-return-from-kotlin-function-type/44772865#44772865", "title": "How to return from Kotlin function type", "body": "<p>You can also do it like this:</p>\n\n<pre><code>private val Search_Click =\n    fun(searchString: String) {\n        if (searchString.isEmpty()) return\n        // more code\n    }\n</code></pre>\n\n<p><em>Kotlin in Action:</em></p>\n\n<blockquote>\n  <p>If you use the <code>return</code> keyword in a lambda, it returns from the\n  function in which you called the lambda, not just from the lambda\n  itself. Such a <code>return</code> statement is called a <strong>non-local return</strong>, because\n  it returns from a larger block than the block containing the <code>return</code>\n  statement.</p>\n  \n  <p>The rule is simple: <code>return</code> returns from the closest function\n  declared using the <code>fun</code> keyword. Lambda expressions don\u2019t use the\n  <code>fun</code> keyword, so a <code>return</code> in a lambda returns from the outer\n  function.</p>\n</blockquote>\n"}], "owner": {"reputation": 457, "user_id": 8182960, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1f2d11d0f72f8c9057b4462a6186e0c5?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8182960/rahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 855, "favorite_count": 0, "accepted_answer_id": 44772557, "answer_count": 2, "score": 6, "last_activity_date": 1498565330, "creation_date": 1498539395, "last_edit_date": 1498565330, "question_id": 44772515, "link": "https://stackoverflow.com/questions/44772515/how-to-return-from-kotlin-function-type", "title": "How to return from Kotlin function type", "body": "<p>I'm using function type to store code to be invoked on button click.<br>\nHow to return from this function type<br>\nCode given below :  </p>\n\n<pre><code>var SearchClickEvent: ((searchString: String) -&gt; Unit)? = null\n\ninputDialog!!.SearchClickEvent = Search_Click  \n\nprivate val Search_Click = { searchString: String -&gt;\n    if(searchString.isEmpty()){\n        return//Error msg : return is not allowed here  \n        //How to return from here\n    }\n}\n</code></pre>\n\n<p><strong>NOTE:</strong> I'm storing a piece of code in a variable not calling or writing any function</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 383, "user_id": 7955472, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5e27d959ccf20210eb515c8fed4f077e?s=128&d=identicon&r=PG&f=1", "display_name": "GeekyInt", "link": "https://stackoverflow.com/users/7955472/geekyint"}, "edited": false, "score": 0, "creation_date": 1498539031, "post_id": 44772371, "comment_id": 76525307, "body": "use <code>app:srcCompat</code> instead of  <code>android:src</code>"}, {"owner": {"reputation": 229, "user_id": 8192173, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-x7W1vNxY6fQ/AAAAAAAAAAI/AAAAAAAAABI/Dvf4hSZq1WE/photo.jpg?sz=128", "display_name": "theerasan tonthongkam", "link": "https://stackoverflow.com/users/8192173/theerasan-tonthongkam"}, "reply_to_user": {"reputation": 383, "user_id": 7955472, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5e27d959ccf20210eb515c8fed4f077e?s=128&d=identicon&r=PG&f=1", "display_name": "GeekyInt", "link": "https://stackoverflow.com/users/7955472/geekyint"}, "edited": false, "score": 0, "creation_date": 1498539298, "post_id": 44772371, "comment_id": 76525388, "body": "Still the same."}], "answers": [{"comments": [{"owner": {"reputation": 229, "user_id": 8192173, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-x7W1vNxY6fQ/AAAAAAAAAAI/AAAAAAAAABI/Dvf4hSZq1WE/photo.jpg?sz=128", "display_name": "theerasan tonthongkam", "link": "https://stackoverflow.com/users/8192173/theerasan-tonthongkam"}, "edited": false, "score": 0, "creation_date": 1498539517, "post_id": 44772506, "comment_id": 76525461, "body": "I don&#39;t want to change the tint color of the imageView. But it changes according to the menu item. Then I add tint color in imageView to change to different thin color but it still show the same color of the menu"}, {"owner": {"reputation": 731, "user_id": 6880829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab640a2f5107cdc74b2f0c861475e764?s=128&d=identicon&r=PG&f=1", "display_name": "PranavKAndro", "link": "https://stackoverflow.com/users/6880829/pranavkandro"}, "reply_to_user": {"reputation": 229, "user_id": 8192173, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-x7W1vNxY6fQ/AAAAAAAAAAI/AAAAAAAAABI/Dvf4hSZq1WE/photo.jpg?sz=128", "display_name": "theerasan tonthongkam", "link": "https://stackoverflow.com/users/8192173/theerasan-tonthongkam"}, "edited": false, "score": 0, "creation_date": 1498539943, "post_id": 44772506, "comment_id": 76525613, "body": "I think since you apply the tint color this is getting applied to all the child in it. Tint is applied to the parent right. Try making the tint color null or the transparent @android:color/transparent for the imageView."}, {"owner": {"reputation": 229, "user_id": 8192173, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-x7W1vNxY6fQ/AAAAAAAAAAI/AAAAAAAAABI/Dvf4hSZq1WE/photo.jpg?sz=128", "display_name": "theerasan tonthongkam", "link": "https://stackoverflow.com/users/8192173/theerasan-tonthongkam"}, "edited": false, "score": 0, "creation_date": 1498540299, "post_id": 44772506, "comment_id": 76525719, "body": "If I apply tint color to <code>R.id.menu_setting</code> now every place that use drawable <code>@drawable&#47;ic_settings_black_24dp</code> it always changes tint following the menu. But I don&#39;t want to."}], "tags": [], "owner": {"reputation": 731, "user_id": 6880829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab640a2f5107cdc74b2f0c861475e764?s=128&d=identicon&r=PG&f=1", "display_name": "PranavKAndro", "link": "https://stackoverflow.com/users/6880829/pranavkandro"}, "is_accepted": false, "score": 0, "last_activity_date": 1498539664, "last_edit_date": 1498539664, "creation_date": 1498539330, "answer_id": 44772506, "question_id": 44772371, "link": "https://stackoverflow.com/questions/44772371/change-navigation-drawer-item-color-filter-also-change-the-imageview-which-is-us/44772506#44772506", "title": "Change Navigation drawer item color filter also change the imageView which is use same image id", "body": "<p>What i can understand from your question is that you need to change the color of the selected item to blue and non selected items to grey for both the menu item and the imageView. You can use the colorstatelist to do this rather than writting the own logic to change the tint.</p>\n\n<p>Follow this link to get the idea .. <a href=\"https://developer.android.com/guide/topics/resources/color-list-resource.html\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/resources/color-list-resource.html</a></p>\n\n<p>Overall the solution could be like..</p>\n\n<ol>\n<li><p>create a color state list xml file \"selection_state.xml\"</p>\n\n<p><code>&lt;selector&gt;\n  &lt;item android:color='@color/your_preffered_color' \n  android:state_selected='true'/&gt;\n  &lt;item android:color='@color/your_preffered_color'\n  android:state_selected='false'/&gt;\n &lt;/selector&gt;</code> </p></li>\n<li><p>Apply this a background to the view that you need to show on screen.</p>\n\n<p><code>&lt;ImageView android:background='@drawable/selection_state\n ...../&gt;</code></p></li>\n</ol>\n\n<p>After this once if the view comes to the selected state automatically the color will be changed for all the view to which this state list is applied.</p>\n"}, {"tags": [], "owner": {"reputation": 229, "user_id": 8192173, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-x7W1vNxY6fQ/AAAAAAAAAAI/AAAAAAAAABI/Dvf4hSZq1WE/photo.jpg?sz=128", "display_name": "theerasan tonthongkam", "link": "https://stackoverflow.com/users/8192173/theerasan-tonthongkam"}, "is_accepted": true, "score": 0, "last_activity_date": 1498545905, "creation_date": 1498545905, "answer_id": 44773815, "question_id": 44772371, "link": "https://stackoverflow.com/questions/44772371/change-navigation-drawer-item-color-filter-also-change-the-imageview-which-is-us/44773815#44773815", "title": "Change Navigation drawer item color filter also change the imageView which is use same image id", "body": "<p>Thank everyone for helping me. I finally find the answer.</p>\n\n<p>First of all <code>menu.getItem(i)?.icon?</code> is return drawable. And when using fixed something within this drawable, the drawable being cache despite that when I try to use the same image ID, it returns me the cache drawable. In order to fix it just call method <code>drawable.mutate()</code> for preventing the drawable cache. The final code should look like this.</p>\n\n<pre><code>fun setSelectedMenuItemColor(selectedId: Int) {\n  val menu = binding?.navView?.menu\n   repeat(menu!!.size()) { i -&gt;\n     menu.getItem(i)?.icon?.mutate()\n     menu.getItem(i)?.icon?.colorFilter = when {\n       menu.getItem(i).itemId == selectedId &amp;&amp; selectedId == R.id.menu_main -&gt; null\n       menu.getItem(i).itemId == selectedId -&gt; selectedFilterColor\n       else -&gt; idleFilterColor!!\n     }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 229, "user_id": 8192173, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-x7W1vNxY6fQ/AAAAAAAAAAI/AAAAAAAAABI/Dvf4hSZq1WE/photo.jpg?sz=128", "display_name": "theerasan tonthongkam", "link": "https://stackoverflow.com/users/8192173/theerasan-tonthongkam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 0, "accepted_answer_id": 44773815, "answer_count": 2, "score": 0, "last_activity_date": 1498545905, "creation_date": 1498538469, "last_edit_date": 1498540088, "question_id": 44772371, "link": "https://stackoverflow.com/questions/44772371/change-navigation-drawer-item-color-filter-also-change-the-imageview-which-is-us", "title": "Change Navigation drawer item color filter also change the imageView which is use same image id", "body": "<p>In the app have Navigation drawer contains a lot of menu items. The limitation is, there is one item will show its color instance of tint color but the other show tint. With this limitation, I decided to use the color filter to handle the icon color stage of the item drawer. This path work perfectly fine.</p>\n\n<p>And my menu looks like this.</p>\n\n<pre><code>    &lt;item\n        android:id=\"@+id/menu_main\"\n        android:icon=\"@drawable/ic_my_logo_24dp\"\n        android:title=\"@string/app_name\" /&gt;\n    &lt;item\n        android:id=\"@+id/menu_setting\"\n        android:icon=\"@drawable/ic_settings_black_24dp\"\n        android:title=\"@string/text_menu_settings\" /&gt;\n    &lt;item\n        android:id=\"@+id/menu_contact_us\"\n        android:icon=\"@drawable/ic_markunread_black_24dp\"\n        android:title=\"@string/text_menu_contact_us\" /&gt;\n    &lt;item\n        android:id=\"@+id/menu_faq\"\n        android:icon=\"@drawable/ic_faq_black_24dp\"\n        android:title=\"@string/text_menu_faq\" /&gt;\n</code></pre>\n\n<p><strong>Every menu</strong> expect the main menu should show color state like this</p>\n\n<p><em>selected: blue</em></p>\n\n<p><em>not selected: gray</em></p>\n\n<p><strong>Main menu</strong></p>\n\n<p><em>selected: show its color</em></p>\n\n<p><em>not selected: gray</em></p>\n\n<p>And the code to handle the state look like this</p>\n\n<pre><code>fun setSelectedMenuItemColor(selectedId: Int) {\n  val menu = binding?.navView?.menu\n   repeat(menu!!.size()) { i -&gt;\n     menu.getItem(i)?.icon?.colorFilter = when {\n       menu.getItem(i).itemId == selectedId &amp;&amp; selectedId == R.id.menu_main -&gt; null\n       menu.getItem(i).itemId == selectedId -&gt; selectedFilterColor\n       else -&gt; idleFilterColor!!\n     }\n  }\n}\n</code></pre>\n\n<p><strong>The problem is</strong></p>\n\n<p>If I use imageView and set drawable as same as one of the menu item. The color state will change following the menu item. I don't want to change the tint color of the imageView. But it changes according to the menu item. Then I add tint color in imageView to change to different thin color but it still shows the same color of the menu. For example.</p>\n\n<pre><code>&lt;ImageView\n   android:tint=\"@color/black\"\n   android:src=\"@drawable/ic_settings_black_24dp\" /&gt;\n</code></pre>\n\n<p><strong>In this case, imageView should show only black color. But it show gray or blue according to the menu.</strong></p>\n\n<p>The expecting result is the imageView should tint color from the color I set in the XML</p>\n\n<p>But the result is it shown the same tint color like the menu item.</p>\n\n<p>I think it independently, can someone explains why this issue happened and how to fix it\n<strong>In the project use data binding and Kotlin</strong></p>\n"}, {"tags": ["java", "android", "kotlin", "kotlin-extension"], "answers": [{"comments": [{"owner": {"reputation": 1316, "user_id": 4130820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-2S298U9YFkQ/AAAAAAAAAAI/AAAAAAAAAAA/H6nUaGopaIw/photo.jpg?sz=128", "display_name": "Pinaki Mukherjee", "link": "https://stackoverflow.com/users/4130820/pinaki-mukherjee"}, "edited": false, "score": 0, "creation_date": 1498525520, "post_id": 44770804, "comment_id": 76522393, "body": "This works If i declare the method outside. But my question is, if there is a way we can declare methods inside like java."}, {"owner": {"reputation": 7044, "user_id": 4898635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb453ab0095d0aca172146d840702791?s=128&d=identicon&r=PG&f=1", "display_name": "Dom", "link": "https://stackoverflow.com/users/4898635/dom"}, "reply_to_user": {"reputation": 1316, "user_id": 4130820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-2S298U9YFkQ/AAAAAAAAAAI/AAAAAAAAAAA/H6nUaGopaIw/photo.jpg?sz=128", "display_name": "Pinaki Mukherjee", "link": "https://stackoverflow.com/users/4130820/pinaki-mukherjee"}, "edited": false, "score": 1, "creation_date": 1498525807, "post_id": 44770804, "comment_id": 76522467, "body": "Updated the answer, you can&#39;t override methods inside another method in Java but you can create an object expression."}], "tags": [], "owner": {"reputation": 7044, "user_id": 4898635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb453ab0095d0aca172146d840702791?s=128&d=identicon&r=PG&f=1", "display_name": "Dom", "link": "https://stackoverflow.com/users/4898635/dom"}, "is_accepted": false, "score": 8, "last_activity_date": 1498525772, "last_edit_date": 1498525772, "creation_date": 1498524955, "answer_id": 44770804, "question_id": 44770758, "link": "https://stackoverflow.com/questions/44770758/android-kotlin-overriding-interface-methods-inside-oncreateview-method/44770804#44770804", "title": "Android kotlin overriding interface methods inside onCreateView() method", "body": "<p>You need to implement the interface on your fragment and move the overriding methods outside your onCreateView method.</p>\n\n<p>class MyFragment : Fragment, MyInterface</p>\n\n<p>You can't override methods inside a method. Another option is you can create an object expression demonstrated below</p>\n\n<pre><code>window.addMouseListener(object : MouseAdapter() {\n    override fun mouseClicked(e: MouseEvent) {\n        // ...\n    }\n\n    override fun mouseEntered(e: MouseEvent) {\n        // ...\n    }\n})\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/object-declarations.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/object-declarations.html</a></p>\n"}], "owner": {"reputation": 1316, "user_id": 4130820, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-2S298U9YFkQ/AAAAAAAAAAI/AAAAAAAAAAA/H6nUaGopaIw/photo.jpg?sz=128", "display_name": "Pinaki Mukherjee", "link": "https://stackoverflow.com/users/4130820/pinaki-mukherjee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7312, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1498525772, "creation_date": 1498524632, "question_id": 44770758, "link": "https://stackoverflow.com/questions/44770758/android-kotlin-overriding-interface-methods-inside-oncreateview-method", "title": "Android kotlin overriding interface methods inside onCreateView() method", "body": "<p>I am new to Kotlin. I have an interface containing two method definitions:</p>\n\n<pre><code>fun onSuccess(result: T)\nfun onFailure(e: Exception)\n</code></pre>\n\n<p>Now, in my fragment I have implemented this interface and want to use these methods inside as:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n     ..................\n     ..................\n     override fun onSuccess(result: String) {}\n     override fun onFailure(e: Exception) {}\n}\n</code></pre>\n\n<p>In java we can use with @override but here I am getting the error 'Modifier 'override' is not applicable to local function'. I am working in kotlin for last 2-3 days and I love it. But some time small issues taking some time to debug.</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "is_accepted": false, "score": 2, "last_activity_date": 1498518211, "creation_date": 1498518211, "answer_id": 44769899, "question_id": 44769601, "link": "https://stackoverflow.com/questions/44769601/convert-android-hashmap-to-kotlin/44769899#44769899", "title": "convert android hashmap to kotlin", "body": "<p>You need to use <code>val myMap = mutableMapOf&lt;String, Int&gt;()</code> if you want to mutate the map within the loop.</p>\n"}, {"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 8, "last_activity_date": 1498518723, "creation_date": 1498518723, "answer_id": 44769968, "question_id": 44769601, "link": "https://stackoverflow.com/questions/44769601/convert-android-hashmap-to-kotlin/44769968#44769968", "title": "convert android hashmap to kotlin", "body": "<p>You can instantiate the <code>HashMap</code> directly. Instead of a for-loop you could then use <code>forEachIndexed</code> for example (if <code>objects</code> is an <code>Array</code> or <code>Iterable</code>).</p>\n\n<pre><code>val myMap = HashMap&lt;String, Int&gt;()\nobjects.forEachIndexed { index, item -&gt;\n    myMap.put(item, index)\n    System.out.println(\"myMapInForLoop\" + myMap)\n}\n</code></pre>\n\n<p>In your version of the code you get <code>null</code>, because you assign it to <code>myMap</code>. Also you might have only a single value, because you only set a <code>\"sample\"</code> key for testing.</p>\n"}, {"tags": [], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "is_accepted": false, "score": 3, "last_activity_date": 1498583076, "creation_date": 1498583076, "answer_id": 44786030, "question_id": 44769601, "link": "https://stackoverflow.com/questions/44769601/convert-android-hashmap-to-kotlin/44786030#44786030", "title": "convert android hashmap to kotlin", "body": "<p>Late to the party, but you can also use</p>\n\n<pre><code>val myMap = objects.withIndex().associateTo(HashMap&lt;String, Int&gt;()) {\n    it.value to it.index\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 224, "user_id": 4319818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b71afc82f02df484a5c562b99187e50d?s=128&d=identicon&r=PG&f=1", "display_name": "doubleThunder", "link": "https://stackoverflow.com/users/4319818/doublethunder"}, "is_accepted": false, "score": 0, "last_activity_date": 1498583908, "creation_date": 1498583908, "answer_id": 44786269, "question_id": 44769601, "link": "https://stackoverflow.com/questions/44769601/convert-android-hashmap-to-kotlin/44786269#44786269", "title": "convert android hashmap to kotlin", "body": "<p>You should initialize your <code>myMap</code>.</p>\n\n<pre><code>val list = listOf(\"hello\", \"world\", \"kotlin\", \"sfyc23\")\nval myMap = HashMap&lt;String, Int&gt;()\nfor (i in list.indices) {\n    myMap.put(list[i], i)\n}\nprintln(myMap)\n</code></pre>\n"}], "owner": {"reputation": 2305, "user_id": 2661518, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/53609c591c8124a5d7251ae3e25db250?s=128&d=identicon&r=PG", "display_name": "user2661518", "link": "https://stackoverflow.com/users/2661518/user2661518"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7034, "favorite_count": 1, "accepted_answer_id": 44769968, "answer_count": 4, "score": 6, "last_activity_date": 1498611584, "creation_date": 1498516275, "last_edit_date": 1498611584, "question_id": 44769601, "link": "https://stackoverflow.com/questions/44769601/convert-android-hashmap-to-kotlin", "title": "convert android hashmap to kotlin", "body": "<p>I have a Java <code>HashMap</code> populated as </p>\n\n<pre><code>HashMap&lt;String, Integer&gt; myMMap = new HashMap&lt;String, Integer&gt;();\nfor (int i = 0; i &lt; objects.size(); ++i) {\n    myMap.put(objects.get(i), i);\n}\n</code></pre>\n\n<p>And I'm trying to convert this to Kotlin. I tried the way below, but I'm getting null value in it.</p>\n\n<pre><code>var myMap : HashMap&lt;String, Int&gt;? = null\nfor (i in objects){\n    //myMap?.put(i, objects.indexOf(i))\n    myMap?.put(\"sample\", 3)\n    System.out.println(\"myMapInForLoop\" + myMap)\n}\n</code></pre>\n\n<p>It prints <code>I/System.out: myMapInForLoopnull</code>.</p>\n\n<p>I've tried using <code>hashMapOf</code> function, but it allows only 1 value, so I cannot put that in <code>myMap</code>.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "edited": false, "score": 0, "creation_date": 1498541337, "post_id": 44769417, "comment_id": 76526026, "body": "Try to get a stacktrace with --stacktrace as your Travis log suggests."}, {"owner": {"reputation": 1849, "user_id": 7679573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czZkd.jpg?s=128&g=1", "display_name": "A. Shevchuk", "link": "https://stackoverflow.com/users/7679573/a-shevchuk"}, "edited": false, "score": 0, "creation_date": 1498541903, "post_id": 44769417, "comment_id": 76526200, "body": "What is the gradle version you have used? Once upgrading of gradle to the latest helped me"}, {"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "reply_to_user": {"reputation": 1849, "user_id": 7679573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czZkd.jpg?s=128&g=1", "display_name": "A. Shevchuk", "link": "https://stackoverflow.com/users/7679573/a-shevchuk"}, "edited": false, "score": 0, "creation_date": 1498545691, "post_id": 44769417, "comment_id": 76527876, "body": "@A.Shevchuk I have <code>com.android.tools.build:gradle:2.3.3</code>, <code>gradle-3.3-all</code>"}, {"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "reply_to_user": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "edited": false, "score": 0, "creation_date": 1498546575, "post_id": 44769417, "comment_id": 76528356, "body": "@Januson I&#39;ve tried building the source with --full-stacktrace --debug and that I&#39;ve updated my question with the error output"}, {"owner": {"reputation": 5701, "user_id": 2950618, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/4EUKo.jpg?s=128&g=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/2950618/josh"}, "edited": false, "score": 0, "creation_date": 1498547198, "post_id": 44769417, "comment_id": 76528689, "body": "LoL, here we go with Kotlin...."}, {"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 0, "creation_date": 1498549973, "post_id": 44769417, "comment_id": 76530321, "body": "Are you sure you don&#39;t have any references to Kotlin 1.0.* anywhere? The reason why I ask is that the <code>FunctionReference.&lt;init&gt;(ILjava&#47;lang&#47;Object;)V</code> method that is missing in your case, has appeared in kotlin-stdlib 1.1.0."}, {"owner": {"reputation": 3175, "user_id": 1277555, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/71b4edb678001f55b47bdde0741a0ff5?s=128&d=identicon&r=PG", "display_name": "F&#225;bio Carballo", "link": "https://stackoverflow.com/users/1277555/f%c3%a1bio-carballo"}, "edited": false, "score": 0, "creation_date": 1498555253, "post_id": 44769417, "comment_id": 76533533, "body": "Same happening here :/ I removed any dependencies that had 1.0.* as well"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 0, "creation_date": 1498586847, "post_id": 44769417, "comment_id": 76554838, "body": "@AlexanderUdalov This seems to be an error of missing method in kotlin compiler&#39;s dependency rather than in a dependency of code being compiled."}, {"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "reply_to_user": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 0, "creation_date": 1498587028, "post_id": 44769417, "comment_id": 76554938, "body": "@AlexanderUdalov I looked through the <code>.&#47;gradlew dependencies</code> output as well as the sources of some of the dependencies and none of them seem to use anything below kotlin 1.1.0"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1498587119, "post_id": 44769417, "comment_id": 76554983, "body": "@AllanW could you also show/inspect the <code>classpath</code> dependency configuration of the buildscript?"}, {"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1498614043, "post_id": 44769417, "comment_id": 76565504, "body": "@Ilya sorry for the late reply. My classpath contains <code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:${KOTLIN}&quot;</code> where the variable points to 1.1.3 (along with my kotlin app dependencies)."}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1498747508, "post_id": 44769417, "comment_id": 76637009, "body": "don&#39;t mix <code>annotationProcessor</code> and <code>kapt</code> try using <code>kapt</code> only"}], "answers": [{"comments": [{"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 0, "creation_date": 1498586959, "post_id": 44779559, "comment_id": 76554909, "body": "I updated my question, but I didn&#39;t manage to find any dependency below 1.1.0. The gradle log showed all of them as 1.1.3, and from their sources, none of the dependencies seem to use anything under 1.1.0"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 0, "creation_date": 1498587373, "post_id": 44779559, "comment_id": 76555123, "body": "@AllanW hi, try to search all of the dependency <code>org.jetbrains.kotlin</code> instead."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 0, "creation_date": 1498587729, "post_id": 44779559, "comment_id": 76555304, "body": "@AllanW for example: <code>.&#47;gradlew dependencies | grep org.jetbrains.kotlin | grep -v 1.1.3</code>"}, {"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 0, "creation_date": 1498587864, "post_id": 44779559, "comment_id": 76555372, "body": "I ended up just searching for all instances of the word <code>kotlin</code>. Nothing shown was under 1.1.0"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 0, "creation_date": 1498587983, "post_id": 44779559, "comment_id": 76555432, "body": "@AllanW all of your dependencies are <code>1.1.3</code>? you can using my command  to find out which are not <code>1.1.3</code>"}, {"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 0, "creation_date": 1498588112, "post_id": 44779559, "comment_id": 76555510, "body": "actually I just tried again from within the app module and I see some that are under 1.1.0. I&#39;ve updated my question and I&#39;ll figure out which dependencies those are"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 0, "creation_date": 1498588210, "post_id": 44779559, "comment_id": 76555562, "body": "@AllanW you try to update <code>1.1.0</code> to <code>1.1.3</code> and then run your app to see the result."}, {"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1498589076, "post_id": 44779559, "comment_id": 76556057, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/147749/discussion-between-allan-w-and-holi-java\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 2, "last_activity_date": 1498564175, "last_edit_date": 1592644375, "creation_date": 1498564175, "answer_id": 44779559, "question_id": 44769417, "link": "https://stackoverflow.com/questions/44769417/project-wont-build-with-kotlin-1-1-3/44779559#44779559", "title": "Project won&#39;t build with Kotlin 1.1.3", "body": "<p>the error message reported as:</p>\n<blockquote>\n<p>java.lang.NoSuchMethodError:</p>\n<p>kotlin.jvm.internal.FunctionReference.&lt;init&gt;(<strong>ILjava/lang/Object;</strong>)V  is <strong>constructor(Int,Object)</strong></p>\n</blockquote>\n<p>the constructor is introduced in <a href=\"https://github.com/JetBrains/kotlin/blob/b5ea6d3e25bd296894eff8f63255fba4ee574c42/core/runtime.jvm/src/kotlin/jvm/internal/FunctionReference.java#L30-L34\" rel=\"nofollow noreferrer\">kotlin 1.1</a> as below:</p>\n<pre><code>@SinceKotlin(version = &quot;1.1&quot;)\npublic FunctionReference(int arity, Object receiver) {\n    super(receiver);\n    this.arity = arity;\n}\n</code></pre>\n<p>you can run <code>./gradlew dependencies</code> and search which dependency uses <code>kotlin-stdlib</code> version &lt; <code>1.1</code>. and excludes it from your project. something like this below:</p>\n<pre><code>dependencies{\n   compile('which dependency use stdlib &lt; 1.1'){\n        exclude group:'org.jetbrains.kotlin', module:'kotlin-stdlib'\n   }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 0, "creation_date": 1498756863, "post_id": 44828789, "comment_id": 76643205, "body": "You got it with the kapt issue. I&#39;m not sure if anything more needs to be added to use <code>kapt3</code>, but just using <code>kapt</code> worked for me"}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "reply_to_user": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 0, "creation_date": 1498763524, "post_id": 44828789, "comment_id": 76646964, "body": "@AllanW if you&#39;re using <code>apply plugin: &#39;kotlin-kapt&#39;</code> it will use version 3."}, {"owner": {"reputation": 2703, "user_id": 736963, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0555bcd8e1daf09e4dd7576d246e222?s=128&d=identicon&r=PG", "display_name": "David Pisoni", "link": "https://stackoverflow.com/users/736963/david-pisoni"}, "edited": false, "score": 0, "creation_date": 1499381496, "post_id": 44828789, "comment_id": 76895480, "body": "So from this I surmise that you can no longer use kapt2 as of Kotlin 1.1.3, yes? That is how it is working for me right now (and kapt3 isn&#39;t working for me because of a bug...)"}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "reply_to_user": {"reputation": 2703, "user_id": 736963, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0555bcd8e1daf09e4dd7576d246e222?s=128&d=identicon&r=PG", "display_name": "David Pisoni", "link": "https://stackoverflow.com/users/736963/david-pisoni"}, "edited": false, "score": 0, "creation_date": 1499427126, "post_id": 44828789, "comment_id": 76913985, "body": "@DavidPisoni I don&#39;t known if you <i>can&#39;t</i> I only know that &quot;my way&quot; works for me"}, {"owner": {"reputation": 2703, "user_id": 736963, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a0555bcd8e1daf09e4dd7576d246e222?s=128&d=identicon&r=PG", "display_name": "David Pisoni", "link": "https://stackoverflow.com/users/736963/david-pisoni"}, "edited": false, "score": 0, "creation_date": 1499443864, "post_id": 44828789, "comment_id": 76925842, "body": "Understood. Your way is using kapt3 instead of kapt2. Unfortunately, I&#39;ve found a bug in kapt3 holding me back (that I&#39;ve reported), where the androidTest package doesn&#39;t have generated code from annotation processing (reported here: <a href=\"https://youtrack.jetbrains.com/issue/KT-18895\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-18895</a>)"}], "tags": [], "owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "is_accepted": true, "score": 17, "last_activity_date": 1498763461, "last_edit_date": 1498763461, "creation_date": 1498748654, "answer_id": 44828789, "question_id": 44769417, "link": "https://stackoverflow.com/questions/44769417/project-wont-build-with-kotlin-1-1-3/44828789#44828789", "title": "Project won&#39;t build with Kotlin 1.1.3", "body": "<p>In my experience, you:</p>\n\n<ol>\n<li>Should not mix <code>kapt</code> and <code>annotationProcessor</code></li>\n<li>Use <code>kapt3</code>, by using <code>apply plugin: 'kotlin-kapt'</code></li>\n<li>Do not use <code>kapt { generateStubs true } }</code> (it's not allowed with <code>kapt3</code>)</li>\n</ol>\n\n<p>Also check whether your Kotlin plugin and your Gradle plugin are up to date.<br>\nAdditionally I usually don't use the <code>jre7</code> version of the standard lib, but I doubt that this is the issue here.</p>\n\n<p>Here is a more exhaustive list of \"something with Kotlin doesn't work\": <a href=\"https://gist.github.com/lmller/3c43eff454f7508474210fb2491b488a\" rel=\"noreferrer\">https://gist.github.com/lmller/3c43eff454f7508474210fb2491b488a</a></p>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 4767015, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YoE6Bu4Adfw/AAAAAAAAAAI/AAAAAAAAACI/_mi_ao-pJxg/photo.jpg?sz=128", "display_name": "Smile Wei", "link": "https://stackoverflow.com/users/4767015/smile-wei"}, "is_accepted": false, "score": 1, "last_activity_date": 1498816898, "creation_date": 1498816898, "answer_id": 44843800, "question_id": 44769417, "link": "https://stackoverflow.com/questions/44769417/project-wont-build-with-kotlin-1-1-3/44843800#44843800", "title": "Project won&#39;t build with Kotlin 1.1.3", "body": "<p>add:</p>\n\n<p>apply plugin: 'kotlin-kapt'</p>\n\n<p><a href=\"https://i.stack.imgur.com/Mphwl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mphwl.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2472, "favorite_count": 5, "accepted_answer_id": 44828789, "answer_count": 3, "score": 14, "last_activity_date": 1498816898, "creation_date": 1498515081, "last_edit_date": 1498756830, "question_id": 44769417, "link": "https://stackoverflow.com/questions/44769417/project-wont-build-with-kotlin-1-1-3", "title": "Project won&#39;t build with Kotlin 1.1.3", "body": "<p>I have an Android project that I've recently updated with 1.1.3, and every time I build I get the following error:</p>\n\n<pre><code>Error:Execution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; kotlin.jvm.internal.FunctionReference.&lt;init&gt;(ILjava/lang/Object;)V\n</code></pre>\n\n<p>Other questions typically say that it means that the stdlib is not included, but I have definitely added it. Using <code>1.1.2-5</code> works though, and <code>1.1.3</code> has worked for other projects.</p>\n\n<p><strong>Solution</strong></p>\n\n<blockquote>\n  <p>The issue was with me mixing the annotation processor with kapt. For\n  projects like DbFlow and Glide, the annotationProcessor dependency can\n  be directly used with kapt.</p>\n</blockquote>\n\n<p>Back to the original question:</p>\n\n<p><a href=\"https://travis-ci.org/AllanWang/Frost-for-Facebook/builds/247284657\" rel=\"noreferrer\">Here</a> is my Travis log and below are my dependencies:</p>\n\n<pre><code>dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.3-alpha', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    testCompile 'junit:junit:4.12'\n\n    compile(\"ca.allanwang:kau:${KAU}\")\n\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:${KOTLIN}\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-junit:${KOTLIN}\"\n\n    debugCompile \"com.squareup.leakcanary:leakcanary-android:${LEAK_CANARY}\"\n    releaseTestCompile \"com.squareup.leakcanary:leakcanary-android-no-op:${LEAK_CANARY}\"\n    releaseCompile \"com.squareup.leakcanary:leakcanary-android-no-op:${LEAK_CANARY}\"\n    testCompile \"com.squareup.leakcanary:leakcanary-android-no-op:${LEAK_CANARY}\"\n\n    compile \"com.github.Raizlabs.DBFlow:dbflow:${DBFLOW}\"\n    compile \"com.github.Raizlabs.DBFlow:dbflow-core:${DBFLOW}\"\n    annotationProcessor \"com.github.Raizlabs.DBFlow:dbflow-processor:${DBFLOW}\"\n    kapt \"com.github.Raizlabs.DBFlow:dbflow-processor:${DBFLOW}\"\n    compile \"com.github.Raizlabs.DBFlow:dbflow-kotlinextensions:${DBFLOW}\"\n\n    //Icons\n    compile \"com.mikepenz:material-design-iconic-typeface:${IICON_MATERIAL}@aar\"\n    compile \"com.mikepenz:community-material-typeface:${IICON_COMMUNITY}@aar\"\n\n    compile \"org.jsoup:jsoup:${JSOUP}\"\n\n    compile \"com.github.bumptech.glide:glide:${GLIDE}\"\n    annotationProcessor \"com.github.bumptech.glide:compiler:${GLIDE}\"\n\n    compile(\"com.mikepenz:materialdrawer:${MATERIAL_DRAWER}@aar\") {\n        transitive = true\n    }\n    compile \"co.zsmb:materialdrawer-kt:${MATERIAL_DRAWER_KT}\"\n\n    compile \"nz.bradcampbell:paperparcel:${PAPER_PARCEL}\"\n    compile \"nz.bradcampbell:paperparcel-kotlin:${PAPER_PARCEL}\"\n    kapt \"nz.bradcampbell:paperparcel-compiler:${PAPER_PARCEL}\"\n\n    compile \"com.jude:swipebackhelper:${SWIPE_BACK}\"\n\n    compile(\"com.crashlytics.sdk.android:crashlytics:${CRASHLYTICS}@aar\") {\n        transitive = true;\n    }\n}\n</code></pre>\n\n<p>Here is the error output when I try building with a full stacktrace: [Removed because this post was too long]\nI'm not sure if it helps, but dbflow typically has the warning each build since it does not need to generate the classes every time. I've sent a question to their repo but I don't think that is the issue since it works fine with 1.1.2-5</p>\n\n<p>Edit 2: I had a look at <code>./gradlew dependencies</code> and all of them showed kotlin 1.1.3 (too long to post here). There were some that depended on 1.1.0 from their github sources, but that shouldn't be affected and excluding those std-libs did not resolve the error.</p>\n\n<p>Edit 3: Upon trying <code>.gradlew app:dependencies | grep org.jetbrains.kotlin</code> I get the following:</p>\n\n<pre><code>$ ./gradlew app:dependencies | grep org.jetbrains.kotlin\n|    |    +--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.1 -&gt; 1.1.2-3\n|    |    |    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3 -&gt; 1.1.3\n|    |    |         \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.2-3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n+--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3 -&gt; 1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3 -&gt; 1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n+--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3 -&gt; 1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3 -&gt; 1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n+--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3 -&gt; 1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3 -&gt; 1.1.3 (*)\n|    |    +--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.1 -&gt; 1.1.2-3\n|    |    |    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3 -&gt; 1.1.3\n|    |    |         \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.2-3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n+--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3 -&gt; 1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3 -&gt; 1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n+--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3 -&gt; 1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3 -&gt; 1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n+--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3 -&gt; 1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3 -&gt; 1.1.3 (*)\n|    |    +--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.1 -&gt; 1.1.2-3\n|    |    |    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3 -&gt; 1.1.3\n|    |    |         \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.2-3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n+--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3 -&gt; 1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3 -&gt; 1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n+--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3 -&gt; 1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3 -&gt; 1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n+--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3 -&gt; 1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3 -&gt; 1.1.3 (*)\n|    |    +--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.1 -&gt; 1.1.2-3\n|    |    |    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3\n|    |    |         \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.2-3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n|    |    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.0.4 -&gt; 1.1.3 (*)\n+--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3 -&gt; 1.1.3 (*)\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3 -&gt; 1.1.3 (*)\n+--- org.jetbrains.kotlin:kotlin-annotation-processing:1.1.3\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3\n|    |    +--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.1 -&gt; 1.1.2-3\n|    |    |    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3\n|    |    |         \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3 -&gt; 1.1.3 (*)\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.2-3 (*)\n+--- org.jetbrains.kotlin:kotlin-annotation-processing:1.1.3\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3\n|    |    +--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.1 -&gt; 1.1.2-3\n|    |    |    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3\n|    |    |         \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3 -&gt; 1.1.3 (*)\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.2-3 (*)\n+--- org.jetbrains.kotlin:kotlin-annotation-processing:1.1.3\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3\n|    |    +--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.1 -&gt; 1.1.2-3\n|    |    |    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3\n|    |    |         \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3 -&gt; 1.1.3 (*)\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.2-3 (*)\n+--- org.jetbrains.kotlin:kotlin-annotation-processing:1.1.3\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3\n|    |    +--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.1 -&gt; 1.1.2-3\n|    |    |    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3\n|    |    |         \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3 -&gt; 1.1.3 (*)\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.2-3 (*)\n+--- org.jetbrains.kotlin:kotlin-annotation-processing:1.1.3\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3\n|    |    +--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.1 -&gt; 1.1.2-3\n|    |    |    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3\n|    |    |         \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3 -&gt; 1.1.3 (*)\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.2-3 (*)\n+--- org.jetbrains.kotlin:kotlin-annotation-processing:1.1.3\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3\n|    |    +--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.1 -&gt; 1.1.2-3\n|    |    |    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3\n|    |    |         \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3 -&gt; 1.1.3 (*)\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.2-3 (*)\n+--- org.jetbrains.kotlin:kotlin-annotation-processing:1.1.3\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3\n|    |    +--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.1 -&gt; 1.1.2-3\n|    |    |    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3\n|    |    |         \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3 -&gt; 1.1.3 (*)\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.2-3 (*)\n+--- org.jetbrains.kotlin:kotlin-annotation-processing:1.1.3\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3\n|    |    +--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.1 -&gt; 1.1.2-3\n|    |    |    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3\n|    |    |         \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3 -&gt; 1.1.3 (*)\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.2-3 (*)\n+--- org.jetbrains.kotlin:kotlin-annotation-processing:1.1.3\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.3\n|    |    +--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.1 -&gt; 1.1.2-3\n|    |    |    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre7:1.1.2-3\n|    |    |         \\--- org.jetbrains.kotlin:kotlin-stdlib:1.1.2-3 -&gt; 1.1.3 (*)\n|    \\--- org.jetbrains.kotlin:kotlin-stdlib-jre8:1.1.2-3 (*)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "anko"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1498508777, "post_id": 44767646, "comment_id": 76517249, "body": "Obviously StringParser is for one column query...  You should point which column you wana select or use different parser"}], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 5427894, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c5a46dfce6528f98a927c71e989ff53e?s=128&d=identicon&r=PG&f=1", "display_name": "juli0n_", "link": "https://stackoverflow.com/users/5427894/juli0n"}, "edited": false, "score": 0, "creation_date": 1498508084, "post_id": 44767779, "comment_id": 76516926, "body": "Hi I&#39;ve edited a bit my code and tried some solutions by my own but I still can&#39;t get any data. I copied the new code snippet to my post and added the error message"}], "tags": [], "owner": {"reputation": 4621, "user_id": 3156226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OvMfk.jpg?s=128&g=1", "display_name": "josedlujan", "link": "https://stackoverflow.com/users/3156226/josedlujan"}, "is_accepted": false, "score": -1, "last_activity_date": 1498507336, "creation_date": 1498507336, "answer_id": 44767779, "question_id": 44767646, "link": "https://stackoverflow.com/questions/44767646/get-database-row-with-anko/44767779#44767779", "title": "Get Database Row with Anko", "body": "<p>Hi you must share the complete code, and the log, what message show?\nTry this. Why don't use \"_id\" ? Sqlite required.</p>\n\n<pre><code>select(\"projects\")\n        .where(\"(_id = {id}),\n                \"id\" to 1)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10874984, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/a1ce869f9063cc2aa3f990f4d44adbf0?s=128&d=identicon&r=PG", "display_name": "user10874984", "link": "https://stackoverflow.com/users/10874984/user10874984"}, "is_accepted": false, "score": 0, "last_activity_date": 1546780688, "creation_date": 1546780688, "answer_id": 54061889, "question_id": 44767646, "link": "https://stackoverflow.com/questions/44767646/get-database-row-with-anko/54061889#54061889", "title": "Get Database Row with Anko", "body": "<p>example : </p>\n\n<pre><code>data class Controler(val id: Int, var name: String, val ssid: String,val password: String,val serialnumber: String): Serializable {}\n</code></pre>\n\n<p>and in your activity -></p>\n\n<pre><code>select(\"projects\", \"id\", \"name\", \"ssid\", \"password\", \"serialnumber\")\n                .whereArgs(\"(id = {controlerId}) \", \"controlerId\" to id)\n                .parseOpt(object : MapRowParser&lt;Controler&gt; {\n                    override fun parseRow(columns: Map&lt;String, Any?&gt;): Controler {\n                        controler = Controler(columns.getValue(\"id\").toString().toInt(),\n                                columns.getValue(\"name\").toString(),\n                                columns.getValue(\"ssid\").toString(),\n                                columns.getValue(\"password\").toString(),\n                                columns.getValue(\"serialnumber\").toString())\n                        return controler as Controler\n                    }\n\n                })\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 5427894, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c5a46dfce6528f98a927c71e989ff53e?s=128&d=identicon&r=PG&f=1", "display_name": "juli0n_", "link": "https://stackoverflow.com/users/5427894/juli0n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 952, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1546780688, "creation_date": 1498506734, "last_edit_date": 1498508057, "question_id": 44767646, "link": "https://stackoverflow.com/questions/44767646/get-database-row-with-anko", "title": "Get Database Row with Anko", "body": "<p>I have a Kolin Android Application with a Database. I use the Anko library for the Database Communication. I can insert Data in my Database but I have some troubles when I try to get a data row from my Database. </p>\n\n<p>I try to get the Data Row through the following code</p>\n\n<pre><code>try {\n           var result = select(\"projects\").where(\"rowid = {id}\",\n                    \"id\" to 1).parseList(StringParser)\n\n            Toast.makeText(applicationContext,result.toString(),Toast.LENGTH_LONG).show()\n\n        } catch(e: Exception) {\n            Toast.makeText(applicationContext,e.toString(),Toast.LENGTH_LONG).show()\n        }\n</code></pre>\n\n<p>How can I get the content of the Row with the given id</p>\n\n<p>At the moment I get this error</p>\n\n<blockquote>\n  <p>Invalid row: row for SingleColumnParser must contain exactly one column</p>\n</blockquote>\n"}, {"tags": ["kotlin", "vert.x", "java-interop"], "answers": [{"comments": [{"owner": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "edited": false, "score": 0, "creation_date": 1498508709, "post_id": 44767490, "comment_id": 76517215, "body": "Awesome, thanks. Especially useful info about the SAM constructor. That&#39;s what I was trying to achieve with specifying the type of <code>record</code> in the lambda. I&#39;ll go re-read the stuff on SAM."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "edited": false, "score": 0, "creation_date": 1498510175, "post_id": 44767490, "comment_id": 76517932, "body": "Yeah, this is a bit of a weird use case for it. By default SAM conversion works for Java interfaces and Java methods that take those interfaces by just writing down a lambda, but explicitly writing the name of the interface before the lambda makes it available in this case too, when the function is in Kotlin. Now that I think of it, you could make your function take a proper Kotlin function and then create the Handler inside it to make this neater."}, {"owner": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "edited": false, "score": 0, "creation_date": 1498518694, "post_id": 44767490, "comment_id": 76520806, "body": "Good suggestion: not too sure why I didn&#39;t think of that. I&#39;ve gone for <code>resultHandler: (AsyncResult&lt;Unit&gt;) -&gt; Unit</code> and pass that on as a <code>Handler&lt;AsyncResult&lt;Unit&gt;&gt;(resultHandler)</code>. Allows me to use the last parameter is a lambda outside of the brackets notation too. I couldn&#39;t do that when calling the SAM constructor - is that one of its side effects?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "edited": false, "score": 0, "creation_date": 1498535557, "post_id": 44767490, "comment_id": 76524446, "body": "Yes, indeed, you can do that with SAM conversion, but not with an explicit SAM constructor."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1498506540, "last_edit_date": 1498506540, "creation_date": 1498506137, "answer_id": 44767490, "question_id": 44767460, "link": "https://stackoverflow.com/questions/44767460/vert-x-kotlin-type-mismatch-required-handlerasyncresultunit-found-handlera/44767490#44767490", "title": "Vert.x Kotlin Type Mismatch required Handler&lt;AsyncResult&lt;Unit&gt;&gt; found (Handler&lt;AsyncResult&lt;Unit&gt;&gt;) -&gt; Unit", "body": "<p>Your lambda should take the parameter that the single method of the <code>Handler</code> interface takes, which is <code>AsyncResult&lt;Unit&gt;</code> in this case. Your lambda <em>is</em> the <code>Handler</code>, so it doesn't take the <code>Handler</code> as a parameter.</p>\n\n<p>I think you'll also need an explicit call to the SAM constructor here, since your function is written in Kotlin, that would look something like this:</p>\n\n<pre><code>publishMessageSource(\"market-data\", ADDRESS, Handler&lt;AsyncResult&lt;Unit&gt;&gt; { record: AsyncResult&lt;Unit&gt;  -&gt;\n    ...\n})\n</code></pre>\n\n<p>This creates a <code>Handler&lt;AsyncResult&lt;Unit&gt;&gt;</code> with a lambda representing its single method.</p>\n\n<p>Finally, you can omit the type inside the lambda to be less redundant:</p>\n\n<pre><code>publishMessageSource(\"market-data\", ADDRESS, Handler&lt;AsyncResult&lt;Unit&gt;&gt; { record -&gt;\n    ...\n})\n</code></pre>\n"}], "owner": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 0, "accepted_answer_id": 44767490, "answer_count": 1, "score": 0, "last_activity_date": 1498506540, "creation_date": 1498506031, "question_id": 44767460, "link": "https://stackoverflow.com/questions/44767460/vert-x-kotlin-type-mismatch-required-handlerasyncresultunit-found-handlera", "title": "Vert.x Kotlin Type Mismatch required Handler&lt;AsyncResult&lt;Unit&gt;&gt; found (Handler&lt;AsyncResult&lt;Unit&gt;&gt;) -&gt; Unit", "body": "<p>The following is a method rewritten in Kotlin from Java:</p>\n\n<pre><code>fun publishMessageSource(\n        name: String,\n        address: String,\n        completionHandler: Handler&lt;AsyncResult&lt;Unit&gt;&gt;\n) {\n    val record = MessageSource.createRecord(name, address)\n    publish(record, completionHandler)\n}\n</code></pre>\n\n<p>However, when I call it as follows:</p>\n\n<pre><code>publishMessageSource(\"market-data\", ADDRESS, { record: Handler&lt;AsyncResult&lt;Unit&gt;&gt; -&gt;\n            if (!record.succeeded()) {\n                record.cause().printStackTrace()\n            }\n            println(\"Market-Data service published : ${record.succeeded()}\")\n        })\n</code></pre>\n\n<p>I get the error <code>Type Mismatch required Handler&lt;AsyncResult&lt;Unit&gt;&gt; found (Handler&lt;AsyncResult&lt;Unit&gt;&gt;) -&gt; Unit</code>.</p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["php", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "edited": false, "score": 0, "creation_date": 1498506346, "post_id": 44767355, "comment_id": 76516107, "body": "Thanks but where can I have to add this in my code ?"}, {"owner": {"reputation": 3076, "user_id": 4427870, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-gZZq2ak7cZU/AAAAAAAAAAI/AAAAAAAAAI4/u9zvfaYPRgw/photo.jpg?sz=128", "display_name": "Rishav", "link": "https://stackoverflow.com/users/4427870/rishav"}, "reply_to_user": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "edited": false, "score": 0, "creation_date": 1498506855, "post_id": 44767355, "comment_id": 76516361, "body": "Edited. Maybe this could help."}], "tags": [], "owner": {"reputation": 3076, "user_id": 4427870, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh5.googleusercontent.com/-gZZq2ak7cZU/AAAAAAAAAAI/AAAAAAAAAI4/u9zvfaYPRgw/photo.jpg?sz=128", "display_name": "Rishav", "link": "https://stackoverflow.com/users/4427870/rishav"}, "is_accepted": false, "score": 0, "last_activity_date": 1498506765, "last_edit_date": 1498506765, "creation_date": 1498505558, "answer_id": 44767355, "question_id": 44766650, "link": "https://stackoverflow.com/questions/44766650/create-an-activity-to-log-in/44767355#44767355", "title": "Create an activity to log in", "body": "<p>I dont know <code>kotlin</code> but just in case you can make it out here is the <code>java</code> code for making the Toast.</p>\n\n<pre><code>Toast toast = Toast.makeText(getApplicationContext(), \"successful connection\", Toast.LENGTH_SHORT).show;\n</code></pre>\n\n<p>You will need to import <code>android.widget.Toast</code>\nFor more details and training visit the offcial site <a href=\"https://developer.android.com/guide/topics/ui/notifiers/toasts.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p><strong>Edit</strong>\nWell I already said I dont know kotlin but maybe try this code.</p>\n\n<pre><code>private fun checking(){\n\n        val name: String = editText?.text.toString()\n        val password: String = editText2?.text.toString()\n        val temp: String =\"pass\"  //Creating a new string I dont know if it is dont this way\n\n\n        val stringRequest = object : StringRequest(Request.Method.POST, 192.168.1.50,\n                Response.Listener&lt;String&gt; {\n                    response -&gt;\n                    try {\n                        val obj = JSONObject(response)\n                        Toast.makeText(applicationContext, obj.getString(\"message\"), Toast.LENGTH_LONG).show()\n                    } catch (e: JSONException) {\n                        e.printStackTrace()\n                    }\n                },\n                object : Response.ErrorListener {\n                    override fun onErrorResponse(volleyError: VolleyError) {\n                        Toast.makeText(applicationContext, volleyError.message, Toast.LENGTH_LONG).show()\n                        temp=\"fail\" //Setting the temp string to fail. dont know if it dont this way either\n                    }\n                }) {\n            @Throws(AuthFailureError::class)\n            override fun getParams(): Map&lt;String, String&gt; {\n                val params = HashMap&lt;String, String&gt;()\n                params.put(\"name\", name)\n                params.put(\"password\", password)\n                return params\n            }\n        }\n        if(temp.isEqual(\"pass\")) // checkig if temp was changed or not\n        {\n         Toast toast = Toast.makeText(getApplicationContext(), \"successful connection\", Toast.LENGTH_SHORT).show;\n        }\n        VolleySingleton.instance?.addToRequestQueue(stringRequest)\n    }\n</code></pre>\n\n<p>Please dont point out if my synatx is wrong. I dont know the K of Kotlin.</p>\n"}, {"tags": [], "owner": {"reputation": 1464, "user_id": 3744589, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/25huC.jpg?s=128&g=1", "display_name": "Ashwani", "link": "https://stackoverflow.com/users/3744589/ashwani"}, "is_accepted": false, "score": 0, "last_activity_date": 1498570567, "creation_date": 1498570567, "answer_id": 44781731, "question_id": 44766650, "link": "https://stackoverflow.com/questions/44766650/create-an-activity-to-log-in/44781731#44781731", "title": "Create an activity to log in", "body": "<p>In your case To make a <code>Toast</code> in <code>Kotlin</code> Syntax is:</p>\n\n<pre><code>Toast.makeText(this@MainActivity,obj.getString(\"message\"),Toast.LENGTH_SHORT).show()\n</code></pre>\n\n<p>replace this line with your existing Toast Line</p>\n"}], "owner": {"reputation": 17, "user_id": 8201322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ca8785977af5418e1d8b7f544ce5b1d?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Allen", "link": "https://stackoverflow.com/users/8201322/thomas-allen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1498825345, "creation_date": 1498502858, "last_edit_date": 1498825345, "question_id": 44766650, "link": "https://stackoverflow.com/questions/44766650/create-an-activity-to-log-in", "title": "Create an activity to log in", "body": "<p>I am working on a Kotlin code with Android to create an Activity which checks the username and a password. I am using volley to do this. I am using this function in my MainActivity to do this :</p>\n\n<pre><code>private fun checking(){\n\n        val name: String = editText?.text.toString()\n        val password: String = editText2?.text.toString()\n\n        val stringRequest = object : StringRequest(Request.Method.POST, 192.168.1.50,\n                Response.Listener&lt;String&gt; {\n                    response -&gt;\n                    try {\n                        val obj = JSONObject(response)\n                        Toast.makeText(applicationContext, obj.getString(\"message\"), Toast.LENGTH_LONG).show()\n                    } catch (e: JSONException) {\n                        e.printStackTrace()\n                    }\n                },\n                object : Response.ErrorListener {\n                    override fun onErrorResponse(volleyError: VolleyError) {\n                        Toast.makeText(applicationContext, volleyError.message, Toast.LENGTH_LONG).show()\n                    }\n                }) {\n            @Throws(AuthFailureError::class)\n            override fun getParams(): Map&lt;String, String&gt; {\n                val params = HashMap&lt;String, String&gt;()\n                params.put(\"name\", name)\n                params.put(\"password\", password)\n                return params\n            }\n        }\n        VolleySingleton.instance?.addToRequestQueue(stringRequest)\n    }\n</code></pre>\n\n<p>And this is my php code :</p>\n\n<pre><code>&lt;?php\n\ndefine('HOST', 'localhost');\ndefine('USER', '***');\ndefine('PASS', '***');\ndefine('DB', '***');\n\n$con = mysqli_connect(HOST,USER,PASS,DB);\n\n$name = $_POST['name'];\n$password = $_POST['password'];\n\n$sql = \"select * from *** where name = '$name' and password = '$password';\";\n\n$res = mysqli_query($con,$sql);\n$check = mysqli_fetch_array($res);\n\nif(isset($check)){\necho 'success';\n}\nelse{\necho 'failure';\n}\n\nmysqli_close($con);\n?&gt;\n</code></pre>\n\n<p>Actually what I want is just if I put the correct name and password so I will get in the Php <code>echo 'success';</code> I would like to have in my function <code>checking</code> a kind of Toast which will say successful connection. I try but I don't know how to modify my code. Thank you very much for your advices !</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 50933, "user_id": 360211, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/3baKW.png?s=128&g=1", "display_name": "weston", "link": "https://stackoverflow.com/users/360211/weston"}, "edited": false, "score": 1, "creation_date": 1498499312, "post_id": 44765540, "comment_id": 76512256, "body": "This is unclear - you say private getter in the Q title, then show a public one as example. As a matter of fact &quot;abstract private&quot; makes no sense."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 26, "last_activity_date": 1498499639, "last_edit_date": 1498499639, "creation_date": 1498499264, "answer_id": 44765598, "question_id": 44765540, "link": "https://stackoverflow.com/questions/44765540/what-is-the-correct-way-to-add-an-abstract-private-getter-and-a-public-setter/44765598#44765598", "title": "What is the correct way to add an abstract private getter and a public setter?", "body": "<p>In Kotlin, you can actually <code>override</code> a <code>val</code> with a <code>var</code>, so, I think, what you want can be expressed as follows:</p>\n\n<pre><code>interface Iface {\n    val foo: Foo\n}\n</code></pre>\n\n<p></p>\n\n<pre><code>class Impl : Iface {\n     override var foo: Foo\n         get() = TODO()\n         private set(value) { TODO() } \n}\n</code></pre>\n\n<p>Or you can override the <code>val</code> with a property with a backing field and default accessors:</p>\n\n<pre><code>class ImplDefaultGetter : Iface {\n    override var foo: Foo = someFoo\n        private set\n}\n</code></pre>\n\n<p>In both cases, the mutability and the presence of a private setter become an implementation detail of the classes and are not exposed through the interface.</p>\n"}], "owner": {"reputation": 1981, "user_id": 8212908, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08a8cf9005ece4dfcb51f413dc4aaf2e?s=128&d=identicon&r=PG&f=1", "display_name": "Henrik F.", "link": "https://stackoverflow.com/users/8212908/henrik-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2835, "favorite_count": 1, "accepted_answer_id": 44765598, "answer_count": 1, "score": 11, "last_activity_date": 1563456530, "creation_date": 1498499080, "last_edit_date": 1563456530, "question_id": 44765540, "link": "https://stackoverflow.com/questions/44765540/what-is-the-correct-way-to-add-an-abstract-private-getter-and-a-public-setter", "title": "What is the correct way to add an abstract private getter and a public setter?", "body": "<p>I have an interface where I want a property that can be modified innside the class, but not outside. I cannot use val because it needs to be mutable and the var keyword can not have a specified private setter since this is in an interface.</p>\n\n<p>In Java I would have done this:</p>\n\n<pre><code>public &lt;T&gt; getMyProperty();\n</code></pre>\n\n<p>I can use the same approach in kotlin and just write the getter function dirrectly, but this does not seem like a kotlinlike approach. Is there a better way to achieve the same as this?</p>\n\n<pre><code>fun getMyProperty()\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 3683, "user_id": 4371758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a60b9f124beca310b9bba6762c7aabbd?s=128&d=identicon&r=PG&f=1", "display_name": "Bubletan", "link": "https://stackoverflow.com/users/4371758/bubletan"}, "edited": false, "score": 0, "creation_date": 1498498820, "post_id": 44765432, "comment_id": 76511988, "body": "Use a non-null <code>String</code> value?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1498499089, "post_id": 44765432, "comment_id": 76512127, "body": "You can use <code>lateinit var</code> and <code>by lazy { ... }</code> to define a property which is only later initialized with a not null value. See: <a href=\"https://stackoverflow.com/questions/36623177/kotlin-property-initialization-using-by-lazy-vs-lateinit\" title=\"kotlin property initialization using by lazy vs lateinit\">stackoverflow.com/questions/36623177/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 823, "user_id": 3133685, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/0aa0c2fbfdbfd344c896fdc5c8a4e473?s=128&d=identicon&r=PG&f=1", "display_name": "MaxPower", "link": "https://stackoverflow.com/users/3133685/maxpower"}, "is_accepted": false, "score": 0, "last_activity_date": 1498498914, "creation_date": 1498498914, "answer_id": 44765495, "question_id": 44765432, "link": "https://stackoverflow.com/questions/44765432/how-to-initialize-a-reference-variable-in-kotlin/44765495#44765495", "title": "How to initialize a reference variable in Kotlin", "body": "<p>you can do </p>\n\n<pre><code>var str: String\n\n...\n\nstr = \"Some Awesome Value\"\n</code></pre>\n\n<p>if you want it nullable you can do </p>\n\n<pre><code>var str: String?\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 5, "last_activity_date": 1498499357, "last_edit_date": 1498499357, "creation_date": 1498499028, "answer_id": 44765532, "question_id": 44765432, "link": "https://stackoverflow.com/questions/44765432/how-to-initialize-a-reference-variable-in-kotlin/44765532#44765532", "title": "How to initialize a reference variable in Kotlin", "body": "<p>The point in Kotlin isn't to never use <code>null</code> (and nullable types), but rather to use it safely with convenient language constructs instead of fearing it. While using non-nullable types as much as possible is ideal, you don't have to always avoid them, that's why the various <code>null</code> handling constructs (safe calls, the Elvis operator, etc) exist.</p>\n\n<p>If you can delay creating your variable until you have something to assign to it, that's a solution. If you can't, then marking it nullable and assigning <code>null</code> to it is perfectly fine, because the compiler will protect you from doing dangerous things with it.</p>\n"}, {"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 0, "last_activity_date": 1498501948, "creation_date": 1498501948, "answer_id": 44766371, "question_id": 44765432, "link": "https://stackoverflow.com/questions/44765432/how-to-initialize-a-reference-variable-in-kotlin/44766371#44766371", "title": "How to initialize a reference variable in Kotlin", "body": "<p>As an option:</p>\n\n<pre><code>var str: String by Delegates.NotNull()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 224, "user_id": 4319818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b71afc82f02df484a5c562b99187e50d?s=128&d=identicon&r=PG&f=1", "display_name": "doubleThunder", "link": "https://stackoverflow.com/users/4319818/doublethunder"}, "is_accepted": false, "score": 5, "last_activity_date": 1498585029, "creation_date": 1498585029, "answer_id": 44786561, "question_id": 44765432, "link": "https://stackoverflow.com/questions/44765432/how-to-initialize-a-reference-variable-in-kotlin/44786561#44786561", "title": "How to initialize a reference variable in Kotlin", "body": "<p>user <code>lateinit</code> keywords.Need to use, and then initialize</p>\n\n<pre><code>private lateinit var str : String\nfun myInit(){\n    str = \"something\";\n}\n</code></pre>\n\n<p>Note : that accessing the uninitialized <code>lateinit</code> property results in an <code>UninitializedPropertyAccessException</code>.</p>\n\n<p>However, <code>lateinit</code> does not support basic data types, such as <code>Int</code>.</p>\n"}], "owner": {"reputation": 5325, "user_id": 4507386, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh3.googleusercontent.com/-SB4-Yo98rrM/AAAAAAAAAAI/AAAAAAAAAB4/QEKmkZwFw7E/photo.jpg?sz=128", "display_name": "Toni Joe", "link": "https://stackoverflow.com/users/4507386/toni-joe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7809, "favorite_count": 1, "accepted_answer_id": 44765532, "answer_count": 4, "score": 5, "last_activity_date": 1498585029, "creation_date": 1498498689, "question_id": 44765432, "link": "https://stackoverflow.com/questions/44765432/how-to-initialize-a-reference-variable-in-kotlin", "title": "How to initialize a reference variable in Kotlin", "body": "<p>In Java one can initialize a reference variable with null, for example a String variable can be initialized like so:</p>\n\n<pre><code>String str = null;\n</code></pre>\n\n<p>But in Kotlin, the point is to avoid using null as much as possible. So how can I initialize a property without using null</p>\n\n<pre><code>var str: String = ...\n</code></pre>\n"}, {"tags": ["android", "android-layout", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 1017, "user_id": 3634721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfEFa.jpg?s=128&g=1", "display_name": "android_Muncher", "link": "https://stackoverflow.com/users/3634721/android-muncher"}, "edited": false, "score": 0, "creation_date": 1498497377, "post_id": 44765055, "comment_id": 76511220, "body": "he might be missing the support libraries on his Computer."}, {"owner": {"reputation": 504, "user_id": 7314061, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-EbVFOsQugNY/AAAAAAAAAAI/AAAAAAAAKxs/NA57Ppg6ZcE/photo.jpg?sz=128", "display_name": "Arnis Shaykh", "link": "https://stackoverflow.com/users/7314061/arnis-shaykh"}, "reply_to_user": {"reputation": 1017, "user_id": 3634721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfEFa.jpg?s=128&g=1", "display_name": "android_Muncher", "link": "https://stackoverflow.com/users/3634721/android-muncher"}, "edited": false, "score": 0, "creation_date": 1498497675, "post_id": 44765055, "comment_id": 76511354, "body": "Everything is the same because the code is stored in bitbucket repo."}, {"owner": {"reputation": 1017, "user_id": 3634721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfEFa.jpg?s=128&g=1", "display_name": "android_Muncher", "link": "https://stackoverflow.com/users/3634721/android-muncher"}, "edited": false, "score": 0, "creation_date": 1498498069, "post_id": 44765055, "comment_id": 76511600, "body": "But you install the SDK on your computer. The code can be same but the android tools being used to compile it can be different."}, {"owner": {"reputation": 1017, "user_id": 3634721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfEFa.jpg?s=128&g=1", "display_name": "android_Muncher", "link": "https://stackoverflow.com/users/3634721/android-muncher"}, "edited": false, "score": 0, "creation_date": 1498498132, "post_id": 44765055, "comment_id": 76511631, "body": "Check if he has android.support.v4 and  android.support.v7 support libraries on his computer."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1498519865, "post_id": 44765055, "comment_id": 76521107, "body": "Maybe the Proguard configuration is broken on this computer."}, {"owner": {"reputation": 504, "user_id": 7314061, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-EbVFOsQugNY/AAAAAAAAAAI/AAAAAAAAKxs/NA57Ppg6ZcE/photo.jpg?sz=128", "display_name": "Arnis Shaykh", "link": "https://stackoverflow.com/users/7314061/arnis-shaykh"}, "reply_to_user": {"reputation": 1017, "user_id": 3634721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IfEFa.jpg?s=128&g=1", "display_name": "android_Muncher", "link": "https://stackoverflow.com/users/3634721/android-muncher"}, "edited": false, "score": 0, "creation_date": 1498560602, "post_id": 44765055, "comment_id": 76537278, "body": "@android_Muncher sdk tools are the same"}], "owner": {"reputation": 504, "user_id": 7314061, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-EbVFOsQugNY/AAAAAAAAAAI/AAAAAAAAKxs/NA57Ppg6ZcE/photo.jpg?sz=128", "display_name": "Arnis Shaykh", "link": "https://stackoverflow.com/users/7314061/arnis-shaykh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1499084161, "creation_date": 1498497209, "last_edit_date": 1499084161, "question_id": 44765055, "link": "https://stackoverflow.com/questions/44765055/inflate-exception-binary-xml-file-on-windows", "title": "Inflate exception binary xml file on Windows", "body": "<p>I am developing an Android app using Android studio. Programming language is Kotlin and my operating system is Ubuntu. When I build project on my computer everything works fine. But when my collegue tried to do the same he has this layout inflation exception that pops up on every device we tested. Everything is the same with exception of OS. In his case it is Windows 7. Did anyone experience similar issues and in which direction I have to dig to solve this problem?</p>\n\n<pre><code>06-23 21:18:09.366 5457-5457/com.rbot.mdd.research E/UncaughtException: android.view.InflateException: Binary XML file line #41: Error inflating class com.arnis.hint_keyboard.HintKeyboard\n    at android.view.LayoutInflater.createView(LayoutInflater.java:620)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:696)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:755)\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:758)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:397)\n    at com.rbot.common.KotlinUtilsKt.inflateLayout(SourceFile:65)\n    at com.rbot.mdd.tester.view.BotFragment.onCreateView(SourceFile:24)\n    at android.support.v4.app.Fragment.performCreateView(SourceFile:2192)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(SourceFile:1299)\n    at android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(SourceFile:1528)\n    at android.support.v4.app.FragmentManagerImpl.moveToState(SourceFile:1595)\n    at android.support.v4.app.BackStackRecord.executeOps(SourceFile:758)\n    at android.support.v4.app.FragmentManagerImpl.executeOps(SourceFile:2363)\n    at android.support.v4.app.FragmentManagerImpl.executeOpsTogether(SourceFile:2149)\n    at android.support.v4.app.FragmentManagerImpl.optimizeAndExecuteOps(SourceFile:2103)\n    at android.support.v4.app.FragmentManagerImpl.execSingleAction(SourceFile:1984)\n    at android.support.v4.app.BackStackRecord.commitNowAllowingStateLoss(SourceFile:626)\n    at android.support.v4.app.FragmentStatePagerAdapter.finishUpdate(SourceFile:166)\n    at android.support.v4.view.ViewPager.populate(SourceFile:1268)\n    at android.support.v4.view.ViewPager.populate(SourceFile:1116)\n    at android.support.v4.view.ViewPager.onMeasure(SourceFile:1642)\n    at android.view.View.measure(View.java:16538)\n    at android.widget.RelativeLayout.measureChildHorizontal(RelativeLayout.java:719)\n    at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:455)\n    at android.view.View.measure(View.java:16538)\n    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5140)\n    at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)\n    at android.support.v7.widget.ContentFrameLayout.onMeasure(SourceFile:139)\n    at android.view.View.measure(View.java:16538)\n    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5140)\n    at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1406)\n    at android.widget.LinearLayout.measureVertical(LinearLayout.java:697)\n    at android.widget.LinearLayout.onMeasure(LinearLayout.java:590)\n    at android.view.View.measure(View.java:16538)\n    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5140)\n    at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)\n    at android.view.View.measure(View.java:16538)\n    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5140)\n    at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1406)\n    at android.widget.LinearLayout.measureVertical(LinearLayout.java:697)\n    at android.widget.LinearLayout.onMeasure(LinearLayout.java:590)\n    at android.view.View.measure(View.java:16538)\n    at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5140)\n    at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)\n    at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2373)\n    at android.view.View.measure(View.java:16538)\n    at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:1964)\n    at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1160)\n    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1342)\n    at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1047)\n    at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:5896)\n    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:761)\n    at android.view.Choreographer.doCallbacks(Choreographer.java:574)\n    at android.view.Choreographer.doFrame(Choreographer.java:544)\n    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:747)\n    at android.os.Handler.handleCallback(Handler.java:733)\n    a\n06-23 21:18:09.746 5457-5457/com.rbot.mdd.research E/AndroidRuntime: FATAL EXCEPTION: main\n Process: com.rbot.mdd.research, PID: 5457\n android.view.InflateException: Binary XML file line #41: Error inflating class com.arnis.hint_keyboard.HintKeyboard\n     at android.view.LayoutInflater.createView(LayoutInflater.java:620)\n     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:696)\n     at android.view.LayoutInflater.rInflate(LayoutInflater.java:755)\n     at android.view.LayoutInflater.rInflate(LayoutInflater.java:758)\n     at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\n     at android.view.LayoutInflater.inflate(LayoutInflater.java:397)\n     at com.rbot.common.KotlinUtilsKt.inflateLayout(SourceFile:65)\n     at com.rbot.mdd.tester.view.BotFragment.onCreateView(SourceFile:24)\n     at android.support.v4.app.Fragment.performCreateView(SourceFile:2192)\n     at android.support.v4.app.FragmentManagerImpl.moveToState(SourceFile:1299)\n     at android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(SourceFile:1528)\n     at android.support.v4.app.FragmentManagerImpl.moveToState(SourceFile:1595)\n     at android.support.v4.app.BackStackRecord.executeOps(SourceFile:758)\n     at android.support.v4.app.FragmentManagerImpl.executeOps(SourceFile:2363)\n     at android.support.v4.app.FragmentManagerImpl.executeOpsTogether(SourceFile:2149)\n     at android.support.v4.app.FragmentManagerImpl.optimizeAndExecuteOps(SourceFile:2103)\n     at android.support.v4.app.FragmentManagerImpl.execSingleAction(SourceFile:1984)\n     at android.support.v4.app.BackStackRecord.commitNowAllowingStateLoss(SourceFile:626)\n     at android.support.v4.app.FragmentStatePagerAdapter.finishUpdate(SourceFile:166)\n     at android.support.v4.view.ViewPager.populate(SourceFile:1268)\n     at android.support.v4.view.ViewPager.populate(SourceFile:1116)\n     at android.support.v4.view.ViewPager.onMeasure(SourceFile:1642)\n     at android.view.View.measure(View.java:16538)\n     at android.widget.RelativeLayout.measureChildHorizontal(RelativeLayout.java:719)\n     at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:455)\n     at android.view.View.measure(View.java:16538)\n     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5140)\n     at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)\n     at android.support.v7.widget.ContentFrameLayout.onMeasure(SourceFile:139)\n     at android.view.View.measure(View.java:16538)\n     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5140)\n     at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1406)\n     at android.widget.LinearLayout.measureVertical(LinearLayout.java:697)\n     at android.widget.LinearLayout.onMeasure(LinearLayout.java:590)\n     at android.view.View.measure(View.java:16538)\n     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5140)\n     at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)\n     at android.view.View.measure(View.java:16538)\n     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5140)\n     at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1406)\n     at android.widget.LinearLayout.measureVertical(LinearLayout.java:697)\n     at android.widget.LinearLayout.onMeasure(LinearLayout.java:590)\n     at android.view.View.measure(View.java:16538)\n     at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:5140)\n     at android.widget.FrameLayout.onMeasure(FrameLayout.java:310)\n     at com.android.internal.policy.impl.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:2373)\n     at android.view.View.measure(View.java:16538)\n     at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:1964)\n     at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1160)\n     at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1342)\n     at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1047)\n     at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:5896)\n     at android.view.Choreographer$CallbackRecord.run(Choreographer.java:761)\n     at android.view.Choreographer.doCallbacks(Choreographer.java:574)\n     at android.view.Choreographer.doFrame(Choreographer.java:544)\n    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:747\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4653, "user_id": 4099541, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RAoLb.png?s=128&g=1", "display_name": "Sarantis Tofas", "link": "https://stackoverflow.com/users/4099541/sarantis-tofas"}, "edited": false, "score": 0, "creation_date": 1498491402, "post_id": 44763202, "comment_id": 76507697, "body": "you must re-initialize your alarm from the  <code>sendNotification</code> function.  Basically you have to manual set the alarm every time the notification is displayed."}, {"owner": {"reputation": 4197, "user_id": 7190575, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63b85f6a33e1b032dabc877b7ff4af50?s=128&d=identicon&r=PG&f=1", "display_name": "OhMad", "link": "https://stackoverflow.com/users/7190575/ohmad"}, "reply_to_user": {"reputation": 4653, "user_id": 4099541, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RAoLb.png?s=128&g=1", "display_name": "Sarantis Tofas", "link": "https://stackoverflow.com/users/4099541/sarantis-tofas"}, "edited": false, "score": 0, "creation_date": 1498491734, "post_id": 44763202, "comment_id": 76507903, "body": "Could you maybe share a snippet of what you mean? I understand it as copying the alarm code into sendNotification, but this wouldn&#39;t give me the loop I need, would it?"}, {"owner": {"reputation": 4653, "user_id": 4099541, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RAoLb.png?s=128&g=1", "display_name": "Sarantis Tofas", "link": "https://stackoverflow.com/users/4099541/sarantis-tofas"}, "edited": false, "score": 0, "creation_date": 1498491938, "post_id": 44763202, "comment_id": 76508022, "body": "I can later send that snippet written in java. i am not able to provide you with a full answer and thats why i chose to comment instead."}, {"owner": {"reputation": 4197, "user_id": 7190575, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63b85f6a33e1b032dabc877b7ff4af50?s=128&d=identicon&r=PG&f=1", "display_name": "OhMad", "link": "https://stackoverflow.com/users/7190575/ohmad"}, "reply_to_user": {"reputation": 4653, "user_id": 4099541, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RAoLb.png?s=128&g=1", "display_name": "Sarantis Tofas", "link": "https://stackoverflow.com/users/4099541/sarantis-tofas"}, "edited": false, "score": 0, "creation_date": 1498492531, "post_id": 44763202, "comment_id": 76508383, "body": "okay, thanks. take your time :) translating from java to kotlin is just a click of a button for me anyways:)"}, {"owner": {"reputation": 4653, "user_id": 4099541, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RAoLb.png?s=128&g=1", "display_name": "Sarantis Tofas", "link": "https://stackoverflow.com/users/4099541/sarantis-tofas"}, "edited": false, "score": 0, "creation_date": 1498499694, "post_id": 44763202, "comment_id": 76512459, "body": "have you added the <code>receiver</code> tag in your manifest file?"}, {"owner": {"reputation": 4197, "user_id": 7190575, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63b85f6a33e1b032dabc877b7ff4af50?s=128&d=identicon&r=PG&f=1", "display_name": "OhMad", "link": "https://stackoverflow.com/users/7190575/ohmad"}, "reply_to_user": {"reputation": 4653, "user_id": 4099541, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/RAoLb.png?s=128&g=1", "display_name": "Sarantis Tofas", "link": "https://stackoverflow.com/users/4099541/sarantis-tofas"}, "edited": false, "score": 0, "creation_date": 1498549737, "post_id": 44763202, "comment_id": 76530191, "body": "I only have a service tag for the TimerService"}], "answers": [{"tags": [], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "is_accepted": false, "score": 1, "last_activity_date": 1524943629, "last_edit_date": 1524943629, "creation_date": 1524933542, "answer_id": 50078789, "question_id": 44763202, "link": "https://stackoverflow.com/questions/44763202/android-kotlin-send-notification-every-minute/50078789#50078789", "title": "Android Kotlin - Send Notification every minute", "body": "<p>You can do the bellow:</p>\n\n<p>Define <code>NotificationUtil.kt</code> to create <code>Channels</code> for Android O and above:</p>\n\n<pre><code>import android.app.Notification\nimport android.app.NotificationChannel\nimport android.app.NotificationManager\nimport android.content.Context\nimport android.content.ContextWrapper\nimport android.graphics.Color\nimport android.os.Build\nimport android.support.annotation.RequiresApi\n\n@RequiresApi(Build.VERSION_CODES.O)\nclass NotificationUtils(base: Context) : ContextWrapper(base) {\n\n    val nManager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n\n    init {\n        createChannels()\n    }\n\n    @RequiresApi(Build.VERSION_CODES.O)\n    private fun createChannels() {\n        val myChannel = NotificationChannel(CHANNEL_ID,\n                CHANNEL_NAME, NotificationManager.IMPORTANCE_DEFAULT).apply {\n            enableLights(true)\n            enableVibration(true)\n            lightColor = Color.GREEN\n            lockscreenVisibility = Notification.VISIBILITY_PRIVATE\n        }\n\n        nManager.createNotificationChannel(myChannel)\n    }\n\n    companion object {\n        const val CHANNEL_ID = \"my.app.CHANNEL_ID\"\n        const val CHANNEL_NAME = \"my.app.Notification\"\n    }\n}\n</code></pre>\n\n<p>Create <code>notificationService.kt</code> to handle the notification:</p>\n\n<pre><code>import android.app.*\nimport android.content.Context\nimport android.content.Intent\nimport android.graphics.BitmapFactory\nimport android.media.RingtoneManager\nimport android.os.Build\nimport android.os.IBinder\nimport oryx.kortex.locateme.R\nimport android.provider.Telephony\n\n\n\nclass NotificationService : Service() {\n    override fun onBind(intent: Intent?): IBinder? {\n        return null\n    }\n\n    override fun onCreate() {\n        val context = this as Context\n        }\n\n        override fun onStartCommand(intent: Intent, flags: Int, startId: Int): Int {\n\n        val defaultSmsPackageName = Telephony.Sms.getDefaultSmsPackage(this) \n        val intent = Intent(Intent.ACTION_MAIN)\n        intent.`package` = defaultSmsPackageName\n\n        val pendingIntent = PendingIntent.getActivity(context, 0, intent, 0)\n\n        val defaultSoundUri = RingtoneManager.getDefaultUri(RingtoneManager.TYPE_NOTIFICATION)\n\n        val mNotificationId: Int = 1000\n\n        val nManager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n        val mNotification = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                                    Notification.Builder(context, CHANNEL_ID)\n                                } else {\n                                   Notification.Builder(context)\n                                }.apply {\n                                    setContentIntent(pendingIntent)\n                                    setSmallIcon(R.drawable.ic_error_black_24dp)\n                                    setLargeIcon(BitmapFactory.decodeResource(context.resources, R.mipmap.ic_launcher))\n                                    setAutoCancel(true)\n                                    setContentTitle(\"Title\")\n                                    setStyle(Notification.BigTextStyle().bigText(\"message\"))\n                                    setContentText(\"MESSAGE\")\n                                }.build()\n\n                nManager.notify(mNotificationId, mNotification)\n        return Service.START_STICKY\n    }\n\n    companion object {\n        const val CHANNEL_ID = \"my.app.CHANNEL_ID\"\n    }\n}\n</code></pre>\n\n<p>In the <code>MainActivity.kt</code> make sure to call the Util to create the channel:</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O)  NotificationUtils(this)\n</code></pre>\n\n<p>In the broadCastRciever, define the service and call it:</p>\n\n<pre><code>val notificationService = Intent(context, NotificationService::class.java)\n\ncontext.startService(notificationService)\n</code></pre>\n\n<p>Make sure to define the required in the <code>manifest</code>:</p>\n\n<pre><code>&lt;service android:name=\".Services.NotificationService\" /&gt;\n&lt;receiver android:name=\".broadcasts.xxxx\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"android.intent.action.xxx\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n"}], "owner": {"reputation": 4197, "user_id": 7190575, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63b85f6a33e1b032dabc877b7ff4af50?s=128&d=identicon&r=PG&f=1", "display_name": "OhMad", "link": "https://stackoverflow.com/users/7190575/ohmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4691, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1524943629, "creation_date": 1498490885, "last_edit_date": 1499084318, "question_id": 44763202, "link": "https://stackoverflow.com/questions/44763202/android-kotlin-send-notification-every-minute", "title": "Android Kotlin - Send Notification every minute", "body": "<p>I am trying to send a notification to the user every minute (just for testing purposes). This is what I have so far:</p>\n\n<pre><code>class AlertReceiver : BroadcastReceiver() {\n\n    override fun onReceive(context: Context, intent: Intent){\n        sendNotification(context, \"Sample\", \"Notification sent....\")\n    }\n\n    fun sendNotification(context: Context, title: String, body: String){\n        val notification = NotificationCompat.Builder(context)\n                .setSmallIcon(R.drawable.notification_icon_background)\n                .setContentTitle(title)\n                .setContentText(body)\n\n        val pendingIntent: PendingIntent = PendingIntent.getActivity(context, 0, Intent(context, TimerService::class.java), 0)\n\n        notification.setContentIntent(pendingIntent)\n        val notificationManager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n        notificationManager.notify(1, notification.build())\n    }\n}\n\nclass TimerService : Service() {\n\n    override fun onCreate(){\n        toast(\"Activity Created\")\n        setAlarm()\n        super.onCreate()\n    }\n\n    override fun onDestroy(){\n        super.onDestroy()\n        toast(\"Stopped activity\")\n    }\n\n    fun setAlarm(){\n\n        val alertTime: Long = GregorianCalendar().timeInMillis+5*1000\n        val alertIntent: Intent = Intent(this, AlertReceiver::class.java)\n\n        val manager: AlarmManager = getSystemService(Context.ALARM_SERVICE) as AlarmManager\n        manager.set(AlarmManager.RTC_WAKEUP, alertTime, PendingIntent.getBroadcast(this, 1, alertIntent, PendingIntent.FLAG_UPDATE_CURRENT))\n    }\n\n    override fun onBind(intent: Intent): IBinder? {\n        return null\n    }\n}\n</code></pre>\n\n<p>And this is my AndroidManifest.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.user.luciddream\"&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/Theme.AppCompat.NoActionBar\"&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=\".TimerActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"com.example.user.luciddream.TimerActivity\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;service android:name=\".TimerService\"&gt;&lt;/service&gt;\n        &lt;receiver android:name=\".AlertReceiver\"&gt;&lt;/receiver&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Using <code>manager.set</code> works fine. But this way, obviously it will only wait once and finally send out a notification. However, I can't seem to get it working using <code>manager.setRepeating()</code>.</p>\n\n<p>How should the <code>manager.setRepeating()</code> code in this case look?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["rest", "cookies", "spring-boot", "jersey", "kotlin"], "comments": [{"owner": {"reputation": 1878, "user_id": 1126831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a85dcf0a3326db827d5e805b884fdd7?s=128&d=identicon&r=PG", "display_name": "ledniov", "link": "https://stackoverflow.com/users/1126831/ledniov"}, "edited": false, "score": 0, "creation_date": 1498484427, "post_id": 44759887, "comment_id": 76502959, "body": "what are you using for requests sending?"}, {"owner": {"reputation": 1595, "user_id": 2528868, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3aa060cf8a30ad2d70ac67d35660e8d0?s=128&d=identicon&r=PG", "display_name": "Shiri", "link": "https://stackoverflow.com/users/2528868/shiri"}, "reply_to_user": {"reputation": 1878, "user_id": 1126831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a85dcf0a3326db827d5e805b884fdd7?s=128&d=identicon&r=PG", "display_name": "ledniov", "link": "https://stackoverflow.com/users/1126831/ledniov"}, "edited": false, "score": 0, "creation_date": 1498484524, "post_id": 44759887, "comment_id": 76503018, "body": "@ledniov I am using <code>unirest</code> for javascript."}, {"owner": {"reputation": 1878, "user_id": 1126831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a85dcf0a3326db827d5e805b884fdd7?s=128&d=identicon&r=PG", "display_name": "ledniov", "link": "https://stackoverflow.com/users/1126831/ledniov"}, "edited": false, "score": 0, "creation_date": 1498555406, "post_id": 44759887, "comment_id": 76533621, "body": "have no problems using such code: <code>unirest.post(&#39;http:&#47;&#47;localhost:8080&#47;test&#39;).end(response =&gt; console.log(response.cookies));</code> . Do you have any additional configuration you haven&#39;t mentioned?"}, {"owner": {"reputation": 1595, "user_id": 2528868, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3aa060cf8a30ad2d70ac67d35660e8d0?s=128&d=identicon&r=PG", "display_name": "Shiri", "link": "https://stackoverflow.com/users/2528868/shiri"}, "reply_to_user": {"reputation": 1878, "user_id": 1126831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a85dcf0a3326db827d5e805b884fdd7?s=128&d=identicon&r=PG", "display_name": "ledniov", "link": "https://stackoverflow.com/users/1126831/ledniov"}, "edited": false, "score": 0, "creation_date": 1498565960, "post_id": 44759887, "comment_id": 76540646, "body": "This is not a unirest issue. This is a CORS filter configuration issue under Jersey. I can use Postman, requests, XHR or any other form of http request service, unirest is redundant here. The problem is having the correct filter to allow cookies in the response from the server."}], "owner": {"reputation": 1595, "user_id": 2528868, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3aa060cf8a30ad2d70ac67d35660e8d0?s=128&d=identicon&r=PG", "display_name": "Shiri", "link": "https://stackoverflow.com/users/2528868/shiri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 371, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1498480536, "creation_date": 1498480536, "question_id": 44759887, "link": "https://stackoverflow.com/questions/44759887/jersey-cors-configuration-to-allow-response-cookies-from-server", "title": "Jersey CORS configuration to allow response cookies from server", "body": "<p>I have a Jersey REST interface that I want to send cookies in its responses to each request but no cookies are ever present in any response.</p>\n\n<p>I have a feeling it's a CORS issue and I'm not sure what CORSResponseFilter configuration I need to allow cookies to be set and successfully sent in a response.</p>\n\n<p>My project is built with SpringBoot under Kotlin.</p>\n\n<p>Response code:</p>\n\n<pre><code>@POST\nfun put(): Response {\n\n    val cookie = NewCookie(Cookie(\"RESERVATION\", \"TEST\"),\n            \"Session\", 60 * 60, false)\n\n    return ok()\n            .cookie(cookie)\n            .entity(Result(\"OK\", \"Success\"))\n            .build()\n}\n</code></pre>\n\n<p>Filter code:</p>\n\n<pre><code>open class CORSResponseFilter : ContainerResponseFilter {\n    override fun filter(req: ContainerRequestContext?, res: ContainerResponseContext?) {\n        res?.headers?.add(\"Access-Control-Allow-Origin\", \"*\")\n        res?.headers?.add(\"Access-Control-Allow-Methods\", \"POST, GET\")\n        res?.headers?.add(\"Access-Control-Allow-Headers\", \"origin, content-type, accept, authorization\")\n        res?.headers?.add(\"Access-Control-Expose-Headers\", \"Set-Cookie\")\n        res?.headers?.add(\"Access-Control-Allow-Credentials\", \"true\")\n    }\n}\n</code></pre>\n\n<p>Requests are successful and the responses send otherwise as intended but all without any cookies. Prior to setting up the response filter I was able to receive cookies in each response.</p>\n\n<p>Any help is appreciated.</p>\n"}, {"tags": ["input", "kotlin", "biginteger"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 1, "creation_date": 1498468274, "post_id": 44756322, "comment_id": 76493393, "body": "The same as you would in Java. Where did you get stuck?"}, {"owner": {"reputation": 152, "user_id": 7047338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6g46Q.jpg?s=128&g=1", "display_name": "Muhammad Magdi", "link": "https://stackoverflow.com/users/7047338/muhammad-magdi"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1498468551, "post_id": 44756322, "comment_id": 76493534, "body": "Here  <code>var sum:BigInteger = readLine().toBigInteger()</code>. toBigInteger() is an unresolved reference."}, {"owner": {"reputation": 7427, "user_id": 6156989, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/LncX1.png?s=128&g=1", "display_name": "Akshar Patel", "link": "https://stackoverflow.com/users/6156989/akshar-patel"}, "edited": false, "score": 0, "creation_date": 1498468666, "post_id": 44756322, "comment_id": 76493606, "body": "It is unresolved because there is no BigInteger type in Kotlin. You have to use BigInteger of Java."}, {"owner": {"reputation": 152, "user_id": 7047338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6g46Q.jpg?s=128&g=1", "display_name": "Muhammad Magdi", "link": "https://stackoverflow.com/users/7047338/muhammad-magdi"}, "reply_to_user": {"reputation": 7427, "user_id": 6156989, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/LncX1.png?s=128&g=1", "display_name": "Akshar Patel", "link": "https://stackoverflow.com/users/6156989/akshar-patel"}, "edited": false, "score": 1, "creation_date": 1498469065, "post_id": 44756322, "comment_id": 76493831, "body": "@AksharPatel I saw this, but my problem is &quot;How to get a BigInteger input?&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 152, "user_id": 7047338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6g46Q.jpg?s=128&g=1", "display_name": "Muhammad Magdi", "link": "https://stackoverflow.com/users/7047338/muhammad-magdi"}, "edited": false, "score": 1, "creation_date": 1498468947, "post_id": 44756372, "comment_id": 76493755, "body": "Thank you very much, it worked. Are there any way to use <code>readLine()</code> instead of Scanner?"}], "tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": true, "score": 9, "last_activity_date": 1498469607, "last_edit_date": 1498469607, "creation_date": 1498468377, "answer_id": 44756372, "question_id": 44756322, "link": "https://stackoverflow.com/questions/44756322/kotlin-input-as-a-biginteger/44756372#44756372", "title": "Kotlin input as a BigInteger", "body": "<p>You can do it the same way as you would in <strong>Java</strong>:    </p>\n\n<pre><code>val scanner = Scanner(System.`in`)\nval first = scanner.nextBigInteger()\nval second = scanner.nextBigInteger()\n\nprint(first + second)\n</code></pre>\n\n<p><strong>OR</strong> you can use <code>readLine()</code> from <code>kotlin.io</code>:</p>\n\n<pre><code>val first = BigInteger(readLine())\nval second = BigInteger(readLine())\n\nprint(first + second)\n</code></pre>\n"}], "owner": {"reputation": 152, "user_id": 7047338, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6g46Q.jpg?s=128&g=1", "display_name": "Muhammad Magdi", "link": "https://stackoverflow.com/users/7047338/muhammad-magdi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 657, "favorite_count": 0, "accepted_answer_id": 44756372, "answer_count": 1, "score": 4, "last_activity_date": 1498469607, "creation_date": 1498468211, "question_id": 44756322, "link": "https://stackoverflow.com/questions/44756322/kotlin-input-as-a-biginteger", "title": "Kotlin input as a BigInteger", "body": "<p>I want to read two 50-digit numbers and print their sum, but I can't get input in Kotlin as BigInteger.</p>\n\n<ol>\n<li>How can I read Kotlin input as BigInteger?</li>\n<li>Are there any other way to solve such a problem?</li>\n</ol>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1849, "user_id": 7679573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czZkd.jpg?s=128&g=1", "display_name": "A. Shevchuk", "link": "https://stackoverflow.com/users/7679573/a-shevchuk"}, "edited": false, "score": 0, "creation_date": 1498473205, "post_id": 44755945, "comment_id": 76496104, "body": "May I ask you why do you make your setter private, is there any reason?"}], "answers": [{"tags": [], "owner": {"reputation": 3668, "user_id": 2392960, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a549fcc9b00c4ce0ede36ede98548729?s=128&d=identicon&r=PG", "display_name": "Januson", "link": "https://stackoverflow.com/users/2392960/januson"}, "is_accepted": false, "score": 6, "last_activity_date": 1498467971, "creation_date": 1498467971, "answer_id": 44756263, "question_id": 44755945, "link": "https://stackoverflow.com/questions/44755945/how-to-assign-new-value-if-you-setting-the-setter-private-in-kotlin/44756263#44756263", "title": "How to assign new value if you setting the setter private in kotlin?", "body": "<p>If you set your setter to be private, then this setter will be accessible only from within its class. In other words you can use normal assignment even when your setter is private but only from within the class.</p>\n\n<pre><code>class Person() {\n    var name: String = \"defaultValue\"\n        private set\n\n    fun foo(bar: String) {\n        name = bar // name can be set here\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    Person().name = \"foo\" // error. Name can be accessed but can not be modified here as its setter is private.\n}\n</code></pre>\n\n<p>For more information check the Kotlin's <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html#classes-and-interfaces\" rel=\"noreferrer\">Visibility documentation</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 0, "last_activity_date": 1498472176, "creation_date": 1498472176, "answer_id": 44757477, "question_id": 44755945, "link": "https://stackoverflow.com/questions/44755945/how-to-assign-new-value-if-you-setting-the-setter-private-in-kotlin/44757477#44757477", "title": "How to assign new value if you setting the setter private in kotlin?", "body": "<p>the kotlin code above will be transform to java code by kotlin compiler more like as below:</p>\n\n<pre><code>package foo;\npublic final class Person{\n  private String name = \"defaultValue\";\n\n  public final String getName(){ \n      return name;\n  }\n\n  private final void setName(String name){\n     this.name=name;\n  }\n}\n</code></pre>\n\n<p>which means you can only change the <code>name</code> field in the <code>Person</code> class. another situation is if you want to modify the <code>name</code> property with <em>private</em> setter out of the <code>Person</code> class. you can using java reflection instead, for example:</p>\n\n<pre><code>val person = Person();\n\nval field = Person::name.javaField!!.apply { isAccessible = true }\nfield.set(person, \"bob\")\nprintln(person.name)// \"bob\"\n\nval setter = Person::class.java.getDeclaredMethod(\"setName\", String::class.java)!!\n                               .apply {\n                                   isAccessible = true\n                               }\nsetter.invoke(person, \"john\")\nprintln(person.name)// \"john\"\n</code></pre>\n"}], "owner": {"reputation": 476, "user_id": 4820070, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/22a3216370fb32835eb4434d65886943?s=128&d=identicon&r=PG&f=1", "display_name": "Lalit Behera", "link": "https://stackoverflow.com/users/4820070/lalit-behera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 651, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1498472176, "creation_date": 1498466812, "question_id": 44755945, "link": "https://stackoverflow.com/questions/44755945/how-to-assign-new-value-if-you-setting-the-setter-private-in-kotlin", "title": "How to assign new value if you setting the setter private in kotlin?", "body": "<p>I am new in kotlin and not able to understand how the getter and setter behave in kotlin, so if I set the setter to private. Then what is the way of updating the value. </p>\n\n<pre><code>package foo\n\nclass Person() {\nvar name: String = \"defaultValue\"\n   private set\n\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "edited": false, "score": 0, "creation_date": 1498467303, "post_id": 44755766, "comment_id": 76492887, "body": "I cannot replicate the issue, whats your room version?"}, {"owner": {"reputation": 1436, "user_id": 6526330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1431b869f4c90eb411cad50d59df2425?s=128&d=identicon&r=PG&f=1", "display_name": "Dr. Nitpick", "link": "https://stackoverflow.com/users/6526330/dr-nitpick"}, "edited": false, "score": 2, "creation_date": 1498483428, "post_id": 44755766, "comment_id": 76502276, "body": "This is probably because Kotlin is generating multiple Java constructors for your Type class when you have default arguments. This seems to be related to the issue described <a href=\"https://stackoverflow.com/questions/44620835/room-cannot-pick-a-constructor-since-multiple-constructors-are-suitable-error\">here</a>"}, {"owner": {"reputation": 1, "user_id": 6084216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/232609c6e95b1b794079d06b4753b709?s=128&d=identicon&r=PG&f=1", "display_name": "\u042d\u043b\u044c\u0431\u0435\u043a \u0414\u0436\u0443\u0440\u0430\u0435\u0432", "link": "https://stackoverflow.com/users/6084216/%d0%ad%d0%bb%d1%8c%d0%b1%d0%b5%d0%ba-%d0%94%d0%b6%d1%83%d1%80%d0%b0%d0%b5%d0%b2"}, "reply_to_user": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "edited": false, "score": 0, "creation_date": 1498642988, "post_id": 44755766, "comment_id": 76577945, "body": "@Tuby Room version is <code>1.0.0-alpha3</code>"}], "answers": [{"comments": [{"owner": {"reputation": 552, "user_id": 1552178, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3fda576d8f6de000161712bcc2a3d09?s=128&d=identicon&r=PG", "display_name": "deive", "link": "https://stackoverflow.com/users/1552178/deive"}, "edited": false, "score": 1, "creation_date": 1515593875, "post_id": 46615344, "comment_id": 83358645, "body": "This hapens because when you create the object it should have a null primary key, this only gets filled when you insert it into the database. I think you should default it to null, otherwise Room will probably update index 0 instead of inserting."}], "tags": [], "owner": {"reputation": 11, "user_id": 3656164, "user_type": "registered", "profile_image": "https://graph.facebook.com/1784722248/picture?type=large", "display_name": "PC&#233;sar", "link": "https://stackoverflow.com/users/3656164/pc%c3%a9sar"}, "is_accepted": false, "score": 0, "last_activity_date": 1507334063, "creation_date": 1507334063, "answer_id": 46615344, "question_id": 44755766, "link": "https://stackoverflow.com/questions/44755766/whats-wrong-with-room-database-on-kotlin/46615344#46615344", "title": "What&#39;s wrong with Room Database on Kotlin?", "body": "<p>I do not know why this occurs, but if you use id? = 0 solves the problem, at least in the tests I did.</p>\n\n<pre><code>Android Studio Beta 7\next.support_version = '26 .1.0 '\next.kotlin_version = '1.1.51'\next.anko_version = '0.10.1'\next.archroom_version = '1.0.0-alpha9-1'\n\n    @Entity(tableName = \"type\")\n    data class Type(\n            @PrimaryKey(autoGenerate = true) var id: Int? = 0,\n            var type: Int = 0\n    )\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6084216, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/232609c6e95b1b794079d06b4753b709?s=128&d=identicon&r=PG&f=1", "display_name": "\u042d\u043b\u044c\u0431\u0435\u043a \u0414\u0436\u0443\u0440\u0430\u0435\u0432", "link": "https://stackoverflow.com/users/6084216/%d0%ad%d0%bb%d1%8c%d0%b1%d0%b5%d0%ba-%d0%94%d0%b6%d1%83%d1%80%d0%b0%d0%b5%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 777, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507334063, "creation_date": 1498466084, "question_id": 44755766, "link": "https://stackoverflow.com/questions/44755766/whats-wrong-with-room-database-on-kotlin", "title": "What&#39;s wrong with Room Database on Kotlin?", "body": "<p>I have a data class</p>\n\n<pre><code>@Entity(tableName = \"type\")\ndata class Type(\n    @PrimaryKey(autoGenerate = true) var id: Int = 0,\n    var type: Int = 0\n)\n</code></pre>\n\n<p>When compiling project I receive message </p>\n\n<blockquote>\n  <p>Error:Room cannot pick a constructor since multiple constructors are suitable.</p>\n</blockquote>\n\n<p>But if I change data class to</p>\n\n<pre><code>@Entity(tableName = \"type\")\ndata class Type(\n    @PrimaryKey(autoGenerate = true) var id: Int = 0,\n    var type: String = \"\"\n)\n</code></pre>\n\n<p>or java class</p>\n\n<pre><code>@Entity(tableName = \"type\")\npublic class Type {\n    @PrimaryKey(autoGenerate = true)\n    private int id;\n    private int type;\n    // getters and setters\n}\n</code></pre>\n\n<p>it works fine.\nIs it Kotlin bug or something else?</p>\n"}, {"tags": ["generics", "kotlin", "covariance"], "comments": [{"owner": {"reputation": 6735, "user_id": 1326425, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/011de6f12a9889a42923a83b3ff83562?s=128&d=identicon&r=PG&f=1", "display_name": "the-ginger-geek", "link": "https://stackoverflow.com/users/1326425/the-ginger-geek"}, "edited": false, "score": 0, "creation_date": 1498457471, "post_id": 44753104, "comment_id": 76488648, "body": "Don&#39;t know if you have read the generics section in the kotlin docs, it cleared up a lot for me in this area.  <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/generics.html</a>"}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 2217447, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3e2c7e3a8cf3759d1470ab671caff8e9?s=128&d=identicon&r=PG&f=1", "display_name": "BigApeWhat", "link": "https://stackoverflow.com/users/2217447/bigapewhat"}, "edited": false, "score": 0, "creation_date": 1498494974, "post_id": 44754448, "comment_id": 76509933, "body": "Thanks for the clarification.I was looking at it as using declaration-site variance in a Collection but it should be looked at as a class."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 3, "last_activity_date": 1503034305, "last_edit_date": 1503034305, "creation_date": 1498460317, "answer_id": 44754448, "question_id": 44753104, "link": "https://stackoverflow.com/questions/44753104/why-use-declaration-site-variance/44754448#44754448", "title": "Why use Declaration-Site Variance", "body": "<p>Declaration-site makes it easier for clients to use a class with generic type because you don't have to think about variance if the creator already made the decision when it was initially created. When working with such a generic class the compiler can be sure about possible variance. </p>\n\n<pre><code>//declaration-site\nabstract class ReadableList&lt;out T&gt; {\n    abstract fun get(): T\n}\n\nfun workWithReadableList(strings: ReadableList&lt;String&gt;) {\n    val objects: ReadableList&lt;Any&gt; = strings // This is OK, since T is an out-parameter, ReadableList is covariant in its type T\n    // ...\n}\n</code></pre>\n\n<p>Just have a look at the verbose use-site java syntax. Many people don't even know the difference between <code>super</code> and <code>extends</code> or what variance means. Kotlin's keywords <code>in</code> and <code>out</code> are a bit more descriptive and are also used in other languages.</p>\n"}], "owner": {"reputation": 149, "user_id": 2217447, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/3e2c7e3a8cf3759d1470ab671caff8e9?s=128&d=identicon&r=PG&f=1", "display_name": "BigApeWhat", "link": "https://stackoverflow.com/users/2217447/bigapewhat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 1, "accepted_answer_id": 44754448, "answer_count": 1, "score": 1, "last_activity_date": 1503034305, "creation_date": 1498451187, "last_edit_date": 1498457518, "question_id": 44753104, "link": "https://stackoverflow.com/questions/44753104/why-use-declaration-site-variance", "title": "Why use Declaration-Site Variance", "body": "<p>This is not a Kotlin specific question but I would like to better understand why I would use declaration-site variance (covariant and contravariant). I understand how to use them, I just do not see much of a benefit or in which case I should choose one over another and why I wouldn't want to use Use-site variance all the time.</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 2507, "user_id": 2057291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kobsi.jpg?s=128&g=1", "display_name": "Tomasz Dzieniak", "link": "https://stackoverflow.com/users/2057291/tomasz-dzieniak"}, "edited": false, "score": 4, "creation_date": 1498483638, "post_id": 44752900, "comment_id": 76502422, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/43902679/compilereleasekotlin-fails-with-java-lang-classnotfoundexception-com-sun-tools\">this</a>"}, {"owner": {"reputation": 53, "user_id": 8205007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbIxu.png?s=128&g=1", "display_name": "Gongseil", "link": "https://stackoverflow.com/users/8205007/gongseil"}, "reply_to_user": {"reputation": 2507, "user_id": 2057291, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kobsi.jpg?s=128&g=1", "display_name": "Tomasz Dzieniak", "link": "https://stackoverflow.com/users/2057291/tomasz-dzieniak"}, "edited": false, "score": 0, "creation_date": 1498492872, "post_id": 44752900, "comment_id": 76508613, "body": "I already use oracle sdk.So after reading through that article I try to reinstalled it. But nothing change. Thanks anyway."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1535061494, "post_id": 44752900, "comment_id": 90939296, "body": "Try using IntelliJ IDEA community edition instead"}], "owner": {"reputation": 53, "user_id": 8205007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wbIxu.png?s=128&g=1", "display_name": "Gongseil", "link": "https://stackoverflow.com/users/8205007/gongseil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1866, "favorite_count": 1, "answer_count": 0, "score": 5, "last_activity_date": 1535061191, "creation_date": 1498449185, "last_edit_date": 1535061191, "question_id": 44752900, "link": "https://stackoverflow.com/questions/44752900/kotlin-mix-with-java-error-cannot-find-symbol", "title": "Kotlin mix with Java error : cannot find symbol", "body": "<p>I'm new to kotlin so I start to clone <a href=\"https://github.com/Kotlin/kotlin-koans\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlin-koans</a> repository to learn this new languange.</p>\n\n<p>I already install kotlin plugin and also try with android project before following ray-wenderlich tutorial and it's works fine (I can't post more than 2 links yet.)</p>\n\n<p>So after I clone kotlin-koans and try to run it at first time this is what I got : <a href=\"https://i.stack.imgur.com/ygWLg.png\" rel=\"nofollow noreferrer\">Screenshot</a></p>\n\n<p>I try to search on the internet already. But seems like I still can't found the solution yet. </p>\n\n<p>This is gradle.build</p>\n\n<pre><code> buildscript {\n    ext.kotlin_version = '1.1.0'\n\n    repositories {\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'kotlin'\n\nsourceSets {\n    main.java.srcDirs += 'src'\n    test.java.srcDirs += 'test'\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    compile 'com.google.guava:guava:16.0'\n    testCompile 'junit:junit:4.12'\n}\n</code></pre>\n\n<p>And when I run test using terminal this is what happend.</p>\n\n<pre><code>    D:\\kotlin-koans&gt;gradlew test\n:compileKotlin                             \ne: java.lang.ClassNotFoundException: com.sun.tools.javac.util.Context\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at java.lang.Class.forName0(Native Method)\n        at java.lang.Class.forName(Unknown Source)\n        at org.jetbrains.kotlin.gradle.tasks.JarSearchingUtilKt.findToolsJar(jarSearchingUtil.kt:45)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerEnvironment$toolsJar$2.invoke(GradleCompilerEnvironment.kt:21)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerEnvironment$toolsJar$2.invoke(GradleCompilerEnvironment.kt:15)\n        at kotlin.SynchronizedLazyImpl.getValue(Lazy.kt:130)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerEnvironment.getToolsJar(GradleCompilerEnvironment.kt)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerEnvironment.getCompilerClasspath(GradleCompilerEnvironment.kt:24)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.getDaemonConnection(GradleKotlinCompilerRunner.kt:289)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.getDaemonConnection(GradleKotlinCompilerRunner.kt:43)\n        at org.jetbrains.kotlin.compilerRunner.KotlinCompilerRunner.withDaemon(KotlinCompilerRunner.kt:149)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.nonIncrementalCompilationWithDaemon(GradleKotlinCompilerRunner.kt:168)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.compileWithDaemon(GradleKotlinCompilerRunner.kt:137)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.compileWithDaemonOrFallback(GradleKotlinCompilerRunner.kt:113)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.compileWithDaemonOrFallback(GradleKotlinCompilerRunner.kt:43)\n        at org.jetbrains.kotlin.compilerRunner.KotlinCompilerRunner.runCompiler(KotlinCompilerRunner.kt:115)\n        at org.jetbrains.kotlin.compilerRunner.GradleCompilerRunner.runJvmCompiler(GradleKotlinCompilerRunner.kt:74)\n        at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:250)\n        at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:156)\n        at org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompile.execute(Tasks.kt:137)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n        at java.lang.reflect.Method.invoke(Unknown Source)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:75)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:155)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:126)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:115)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:80)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:61)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.PostExecutionAnalysisTaskExecuter.execute(PostExecutionAnalysisTaskExecuter.java:35)\n        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:53)\n        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:203)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:185)\n        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:74)\n        at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:55)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:32)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:110)\n        at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\n        at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\n        at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n        at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\n        at org.gradle.initialization.DefaultGradleLauncher$4.run(DefaultGradleLauncher.java:153)\n        at org.gradle.internal.Factories$1.create(Factories.java:22)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:53)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:150)\n        at org.gradle.initialization.DefaultGradleLauncher.access$200(DefaultGradleLauncher.java:32)\n        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:98)\n        at org.gradle.initialization.DefaultGradleLauncher$1.create(DefaultGradleLauncher.java:92)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:91)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:63)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:92)\n        at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:83)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter$DefaultBuildController.run(InProcessBuildActionExecuter.java:94)\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:43)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:28)\n        at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:82)\n        at org.gradle.launcher.exec.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:49)\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:59)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:49)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n        at org.gradle.util.Swapper.swap(Swapper.java:38)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:60)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:72)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.HintGCAfterBuild.execute(HintGCAfterBuild.java:44)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:240)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)\n        at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n        at java.lang.Thread.run(Unknown Source)\n\ne: Compiler terminated with internal error\n:compileKotlin FAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':compileKotlin'.\n&gt; Internal compiler error. See log for more details\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.\n\nBUILD FAILED\n\nTotal time: 0.973 secs\n</code></pre>\n\n<p>(PS. I use android studio 2.3.3 to implement)</p>\n"}, {"tags": ["spring-mvc", "jackson", "kotlin"], "comments": [{"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1498451011, "post_id": 44752707, "comment_id": 76487126, "body": "You need to annotate your data class with <code>JsonView</code> as well to tell which properties will be included in which view."}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 6913646, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fsIKBWSeA00/AAAAAAAAAAI/AAAAAAAAABg/oWjaGix2nfA/photo.jpg?sz=128", "display_name": "Paul Holt", "link": "https://stackoverflow.com/users/6913646/paul-holt"}, "is_accepted": false, "score": 1, "last_activity_date": 1498450282, "creation_date": 1498450282, "answer_id": 44753008, "question_id": 44752707, "link": "https://stackoverflow.com/questions/44752707/why-does-kotlin-with-spring-mvc-json-return-an-empty-object/44753008#44753008", "title": "Why does Kotlin with Spring MVC JSON return an empty object?", "body": "<p>Much simpler than I thought. After finding that Jackson was able to serialise the object just fine, I started making adjustments, and found the default was better than configuration:</p>\n\n<pre><code>class MyRestController {\n    @RequestMapping(\"/user\")\n    fun getUser() : User = User(\"Fred\",50)\n}\n</code></pre>\n\n<p>Perfect:</p>\n\n<pre><code>ph@sleek ~ $ curl -X GET http://localhost:8080/user; echo\n{\"name\":\"Fred\",\"age\":50}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 5258628, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fGxoELUSKo8/AAAAAAAAAAI/AAAAAAAAARI/TYtdAVecoh4/photo.jpg?sz=128", "display_name": "julo", "link": "https://stackoverflow.com/users/5258628/julo"}, "is_accepted": false, "score": 1, "last_activity_date": 1514533138, "creation_date": 1514533138, "answer_id": 48019204, "question_id": 44752707, "link": "https://stackoverflow.com/questions/44752707/why-does-kotlin-with-spring-mvc-json-return-an-empty-object/48019204#48019204", "title": "Why does Kotlin with Spring MVC JSON return an empty object?", "body": "<p>if you do want to use <code>@JsonView</code> (which is necessary in many scenarios), I was running into the same empty object problem until I added the <code>jackson-module-kotlin</code> dependency to my project.</p>\n\n<pre><code>compile 'com.fasterxml.jackson.module:jackson-module-kotlin'\n</code></pre>\n\n<p>See here: <a href=\"https://stackoverflow.com/a/48019143/5258628\">https://stackoverflow.com/a/48019143/5258628</a></p>\n"}], "owner": {"reputation": 51, "user_id": 6913646, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fsIKBWSeA00/AAAAAAAAAAI/AAAAAAAAABg/oWjaGix2nfA/photo.jpg?sz=128", "display_name": "Paul Holt", "link": "https://stackoverflow.com/users/6913646/paul-holt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 838, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1514533138, "creation_date": 1498447204, "question_id": 44752707, "link": "https://stackoverflow.com/questions/44752707/why-does-kotlin-with-spring-mvc-json-return-an-empty-object", "title": "Why does Kotlin with Spring MVC JSON return an empty object?", "body": "<p>I've been playing with server side Kotlin, Spring MVC and Jackson. \nI built a simple application using <a href=\"http://start.spring.io/\" rel=\"nofollow noreferrer\">http://start.spring.io/</a>, but I might have made a mistake in the <code>JsonView</code> annotation.</p>\n\n<p>This:</p>\n\n<pre><code>@RestController\n\nclass MyRestController {\n    @RequestMapping(\"/user\")\n    @JsonView(User::class)\n    fun getUser() : User = User(\"Fred\",50)\n}\n\ndata class User(val name: String, val age: Int)\n</code></pre>\n\n<p>...when called with curl</p>\n\n<pre><code>ph@sleek ~ $ curl -X GET http://localhost:8080/user; echo\n{}\nph@sleek ~ $ \n</code></pre>\n\n<p>...the result is <code>{}</code> when I expected <code>{\"name\":\"Fred\",\"age\":50}</code>. Is there something I did wrong?</p>\n"}, {"tags": ["android", "rest", "api", "kotlin"], "comments": [{"owner": {"reputation": 1143, "user_id": 2214462, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bLarQ.jpg?s=128&g=1", "display_name": "Mathemats", "link": "https://stackoverflow.com/users/2214462/mathemats"}, "edited": false, "score": 3, "creation_date": 1498433827, "post_id": 44751529, "comment_id": 76484111, "body": "Learning how to use the debugger is a priority. Then you can check if you&#39;re actually getting what you expect back from the api. I&#39;m guessing here, but I think list[6] is out of bounds."}, {"owner": {"reputation": 1, "user_id": 8213376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78d6a08607e1c6ab61efd2a973d92997?s=128&d=identicon&r=PG&f=1", "display_name": "user8213376", "link": "https://stackoverflow.com/users/8213376/user8213376"}, "reply_to_user": {"reputation": 1143, "user_id": 2214462, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/bLarQ.jpg?s=128&g=1", "display_name": "Mathemats", "link": "https://stackoverflow.com/users/2214462/mathemats"}, "edited": false, "score": 0, "creation_date": 1498573797, "post_id": 44751529, "comment_id": 76546592, "body": "I tested the code in IntelliJ beforehand and it worked so I know it&#39;s not that"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8213376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78d6a08607e1c6ab61efd2a973d92997?s=128&d=identicon&r=PG&f=1", "display_name": "user8213376", "link": "https://stackoverflow.com/users/8213376/user8213376"}, "edited": false, "score": 0, "creation_date": 1498573825, "post_id": 44754097, "comment_id": 76546616, "body": "Thank you very much, this was very helpful."}], "tags": [], "owner": {"reputation": 1598, "user_id": 4747981, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PHhrz.jpg?s=128&g=1", "display_name": "Bulwinkel", "link": "https://stackoverflow.com/users/4747981/bulwinkel"}, "is_accepted": false, "score": 2, "last_activity_date": 1498458482, "creation_date": 1498458482, "answer_id": 44754097, "question_id": 44751529, "link": "https://stackoverflow.com/questions/44751529/calling-rest-api-on-android-emulator-causes-app-to-crash/44754097#44754097", "title": "Calling REST api on android emulator causes app to crash", "body": "<p>This line here:\n<code>val result = URL(\"https://bittrex.com/api/v1.1/public/getticker?market=\" + market).readText()</code> looks like it is being run on the main thread. This will cause the app to crash with a a <code>NetworkOnMainThreadException</code>.</p>\n\n<p>You can read more on this exception <a href=\"https://developer.android.com/reference/android/os/NetworkOnMainThreadException.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Also, make sure you have the following in your <code>AndroidManifest.xml</code>:</p>\n\n<p><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;</code></p>\n\n<p>Check out these answers for more information on how to run this in the background:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/6343166/how-to-fix-android-os-networkonmainthreadexception\">How to fix android.os.NetworkOnMainThreadException?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/9413625/android-android-os-networkonmainthreadexception\">Android - android.os.NetworkOnMainThreadException</a></li>\n</ul>\n\n<p>Alternatively in Kotlin you could also <a href=\"https://blog.jetbrains.com/kotlin/2015/05/advanced-features-of-anko/\" rel=\"nofollow noreferrer\">Anko</a> or <a href=\"https://kotlinlang.org/docs/reference/coroutines.html\" rel=\"nofollow noreferrer\">Coroutines</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 8213376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78d6a08607e1c6ab61efd2a973d92997?s=128&d=identicon&r=PG&f=1", "display_name": "user8213376", "link": "https://stackoverflow.com/users/8213376/user8213376"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 606, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1498826715, "creation_date": 1498433606, "last_edit_date": 1498826715, "question_id": 44751529, "link": "https://stackoverflow.com/questions/44751529/calling-rest-api-on-android-emulator-causes-app-to-crash", "title": "Calling REST api on android emulator causes app to crash", "body": "<p>I am relatively new to android studio. I am trying to build a very simple app that fetches the price of cryptocurrencies using the Bittrex exchanges api. However every time I try to get the info from the URL, my app crashes. I am using Kotlin by the way. I'm having trouble solving this because I don't know how to run the emulator in debug mode, just the compiler. Here is my code:</p>\n\n<pre><code>package com.example.sebastian.cryptoapp\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport java.net.URL\nimport java.net.MalformedURLException\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\nfun search(): String {\n    //read in value\n    var market = searchBar.getText().toString()\n    //output text from URL query\n    val result = URL(\"https://bittrex.com/api/v1.1/public/getticker?market=\" \n+ market).readText()\n    return result\n}\n\nfun getPrice(): String {\n    //calling search function\n    var info = search()\n    //split the string into a list\n    var list: List&lt;String&gt; = info.split(\":\", \"}\")\n    //access 7th index of list for last traded price\n    return list[6]\n}\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\nbutton.setOnClickListener {\n    text_output.setText(getPrice())\n}\n}\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1498442376, "post_id": 44751469, "comment_id": 76485519, "body": "Try invalidate cache and run <code>gradle clean</code> since your other machine isn&#39;t getting that error. Also check Naetmul&#39;s anwser below."}, {"owner": {"reputation": 1048, "user_id": 3245482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HpEWa.png?s=128&g=1", "display_name": "ditn", "link": "https://stackoverflow.com/users/3245482/ditn"}, "edited": false, "score": 0, "creation_date": 1498488470, "post_id": 44751469, "comment_id": 76505776, "body": "Whilst Naetmul&#39;s answer seems to be the cause of your issue, I&#39;m currently seeing a lot of these warnings for no reason in AS3.0 anyway, even in things like <code>Bundle#putBoolean</code>. Linting seems a bit broken currently."}], "answers": [{"comments": [{"owner": {"reputation": 485, "user_id": 4449252, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-sm7NXl_WPZo/AAAAAAAAAAI/AAAAAAAACMo/pK68RiT41CU/photo.jpg?sz=128", "display_name": "Sebastian R&#252;ttger", "link": "https://stackoverflow.com/users/4449252/sebastian-r%c3%bcttger"}, "edited": false, "score": 1, "creation_date": 1498464942, "post_id": 44752239, "comment_id": 76491655, "body": "this solved it for me. The same thing is happening for replace() on MutableMap, so im guessing this is the same cause"}, {"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 0, "creation_date": 1550668381, "post_id": 44752239, "comment_id": 96352718, "body": "double accepted answer. this allows me to use forEach on kotlin."}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1562947383, "post_id": 44752239, "comment_id": 100553780, "body": "The file is entirely written in Kotlin, and it still gives this error.  There&#39;s no way to be using Java 8 from Kotlin."}], "tags": [], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "is_accepted": true, "score": 58, "last_activity_date": 1498442193, "creation_date": 1498442193, "answer_id": 44752239, "question_id": 44751469, "link": "https://stackoverflow.com/questions/44751469/kotlin-extension-functions-suddenly-require-api-level-24/44752239#44752239", "title": "Kotlin Extension Functions suddenly require api level 24", "body": "<p>What you are using is not <code>kotlin.collections.MutableMap.forEach</code>.</p>\n\n<p>What you are using seems to be <code>Map.forEach</code> in Java 8.</p>\n\n<p>Read this article:\n<a href=\"http://blog.danlew.net/2017/03/16/kotlin-puzzler-whose-line-is-it-anyways/\" rel=\"noreferrer\">http://blog.danlew.net/2017/03/16/kotlin-puzzler-whose-line-is-it-anyways/</a></p>\n\n<p>This seems to be a common mistake.</p>\n\n<p>Java 8 is well-supported from Android API level 24.</p>\n\n<p>For short, do not use like <code>map.forEach { t, u -&gt; Log.i(\"tag\", t + u) }</code>.<br>\nUse like <code>map.forEach { (t, u) -&gt; Log.i(\"tag\", t + u) }</code>.<br>\n(Not two parameters. Just one parameter which is a pair.)</p>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1562947406, "post_id": 44753639, "comment_id": 100553792, "body": "This is for Kotlin"}], "tags": [], "owner": {"reputation": 559, "user_id": 7856490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618ec36cb20d5db87a126e5e871d9eb5?s=128&d=identicon&r=PG&f=1", "display_name": "Shinoo Goyal", "link": "https://stackoverflow.com/users/7856490/shinoo-goyal"}, "is_accepted": false, "score": -1, "last_activity_date": 1498455503, "creation_date": 1498455503, "answer_id": 44753639, "question_id": 44751469, "link": "https://stackoverflow.com/questions/44751469/kotlin-extension-functions-suddenly-require-api-level-24/44753639#44753639", "title": "Kotlin Extension Functions suddenly require api level 24", "body": "<p>Map.forEach is supported in Java 8 and its support in Android started from API 24</p>\n"}], "owner": {"reputation": 485, "user_id": 4449252, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-sm7NXl_WPZo/AAAAAAAAAAI/AAAAAAAACMo/pK68RiT41CU/photo.jpg?sz=128", "display_name": "Sebastian R&#252;ttger", "link": "https://stackoverflow.com/users/4449252/sebastian-r%c3%bcttger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4722, "favorite_count": 2, "accepted_answer_id": 44752239, "answer_count": 2, "score": 19, "last_activity_date": 1516881311, "creation_date": 1498432860, "last_edit_date": 1516881311, "question_id": 44751469, "link": "https://stackoverflow.com/questions/44751469/kotlin-extension-functions-suddenly-require-api-level-24", "title": "Kotlin Extension Functions suddenly require api level 24", "body": "<p>I just noticed this lint error:</p>\n\n<blockquote>\n  <p>Call requires API Level 24 (current min is 19) java.util.map#foreach</p>\n</blockquote>\n\n<p>when I use the extension function forEach on a MutableMap in Kotlin.\nThis didn't happen when I wrote the line, but its there now.\nAnd I'm not seeing this error on my other machine.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498426968, "post_id": 44750881, "comment_id": 76482638, "body": "Why won&#39;t you just do <code>testHouse.door.name</code>?"}, {"owner": {"reputation": 13, "user_id": 6480878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/042c0c9428270de03cbb698078462434?s=128&d=identicon&r=PG&f=1", "display_name": "nukle", "link": "https://stackoverflow.com/users/6480878/nukle"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498427384, "post_id": 44750881, "comment_id": 76482756, "body": "@Mibac I&#39;m experimenting with data binding: csv columns to properties, so I need to use reflection / functional style."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1498432651, "post_id": 44750881, "comment_id": 76483927, "body": "@nukle a csv format is more like a <code>MutableMap&lt;String,MutableMap&lt;Int,Any&gt;&gt;</code>. why did you need to use reflection rather than <code>csv[column][index] = &quot;foo&quot;</code> ?"}, {"owner": {"reputation": 13, "user_id": 6480878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/042c0c9428270de03cbb698078462434?s=128&d=identicon&r=PG&f=1", "display_name": "nukle", "link": "https://stackoverflow.com/users/6480878/nukle"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1498453572, "post_id": 44750881, "comment_id": 76487713, "body": "@holi-java Yes, however I&#39;m experimenting with an alternative way of doing that. Your style would then require the client to loop the rows and columns and map to beans like that, right? I&#39;m trying to do something like <code>val mapping = listOf(House::name toCsvColumn &quot;house name&quot;, moremappings...); val listOfHouses = parser.read(House::class, csvFile, mapping)</code> for providing declarative way of doing that. More than anything else, this is just to have fun with Kotlin :)"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 6480878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/042c0c9428270de03cbb698078462434?s=128&d=identicon&r=PG&f=1", "display_name": "nukle", "link": "https://stackoverflow.com/users/6480878/nukle"}, "edited": false, "score": 0, "creation_date": 1498429826, "post_id": 44751012, "comment_id": 76483315, "body": "This kind of answers my question, thank you. However I realize that  I would like that <code>nested</code> function&#39;s return type would be  KMutableProperty1&lt;A, C&gt; and parameter type would be KMutableProperty1&lt;B, C&gt;, because I might need the setter as well."}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "reply_to_user": {"reputation": 13, "user_id": 6480878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/042c0c9428270de03cbb698078462434?s=128&d=identicon&r=PG&f=1", "display_name": "nukle", "link": "https://stackoverflow.com/users/6480878/nukle"}, "edited": false, "score": 1, "creation_date": 1498448479, "post_id": 44751012, "comment_id": 76486680, "body": "@nukle If you are ever to make that, I suggest you to create your own class as result type, like <code>data class GetterAndSetter&lt;T, R&gt;(val getter: (T)-&gt;R, val setter: (T, R) -&gt; Unit)</code>. It would be rather bad to mess with KMutableProperty because the result no longer represents a property."}, {"owner": {"reputation": 13, "user_id": 6480878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/042c0c9428270de03cbb698078462434?s=128&d=identicon&r=PG&f=1", "display_name": "nukle", "link": "https://stackoverflow.com/users/6480878/nukle"}, "reply_to_user": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1498452572, "post_id": 44751012, "comment_id": 76487458, "body": "@glee8e Yes that is probably the case, I will try that. Thanks."}], "tags": [], "owner": {"reputation": 3640, "user_id": 4618331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7356f3874129c5cf6b5ed6dbd9b9436?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4618331/sam"}, "is_accepted": true, "score": 8, "last_activity_date": 1498428614, "last_edit_date": 1498428614, "creation_date": 1498427985, "answer_id": 44751012, "question_id": 44750881, "link": "https://stackoverflow.com/questions/44750881/kotlin-nested-property-reference/44751012#44751012", "title": "Kotlin nested property reference", "body": "<p>For your hypothetical <code>nested</code> function, try this:</p>\n\n<pre><code>fun &lt;A, B, C&gt; ((A) -&gt; B).nested(getter : (B) -&gt; C) : (A) -&gt; C = { getter(this(it)) }\n</code></pre>\n\n<p>Now you can do exactly what you asked:</p>\n\n<pre><code>val houseDoorName = House::door.nested(Door::name)\nval house = House(door = Door(name = \"My door\"))\nprintln(houseDoorName(house)) // prints \"My door\"\n</code></pre>\n\n<p>You can chain it, too:</p>\n\n<pre><code>val doorNameLength = House::door.nested(Door::name).nested(String::length)\n</code></pre>\n\n<hr>\n\n<p>The neat trick here is the way Kotlin allows a property reference to be treated as a function.</p>\n\n<p>The <code>nested</code> function is essentially a functional composition. It takes a function <code>a -&gt; b</code> and a function <code>b -&gt; c</code>, and composes them into a new function <code>a -&gt; c</code>. You'll often find it called <code>compose</code> in standard libraries.</p>\n\n<p>Kotlin doesn't have function composition as standard, but there are libraries out there if you need anything more complex than this.</p>\n"}], "owner": {"reputation": 13, "user_id": 6480878, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/042c0c9428270de03cbb698078462434?s=128&d=identicon&r=PG&f=1", "display_name": "nukle", "link": "https://stackoverflow.com/users/6480878/nukle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1097, "favorite_count": 1, "accepted_answer_id": 44751012, "answer_count": 1, "score": 1, "last_activity_date": 1498428614, "creation_date": 1498426773, "question_id": 44750881, "link": "https://stackoverflow.com/questions/44750881/kotlin-nested-property-reference", "title": "Kotlin nested property reference", "body": "<pre><code>data class House(var name: String = \"House\", var door: Door = Door())\ndata class Door(var name: String = \"Door\")\n\nfun test() {\n   val testHouse = House(\"My house\", Door(name = \"My door\"))\n}\n</code></pre>\n\n<p>How could I get nested property reference nice and safe, ideally like this (this doesn't work though):</p>\n\n<pre><code>   val houseDoorName = House::door::name\n   println(houseDoorName.get(testHouse)) //My door\n</code></pre>\n\n<p>I figured I could maybe do extension function, something like: <code>House::door.nested(Door::name)</code> but Im stuck with the implementation.</p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 9497, "user_id": 2735286, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/87ddd81aa1b12c27aecdab22da387f5c?s=128&d=identicon&r=PG&f=1", "display_name": "gil.fernandes", "link": "https://stackoverflow.com/users/2735286/gil-fernandes"}, "edited": false, "score": 0, "creation_date": 1498460554, "post_id": 44750734, "comment_id": 76489751, "body": "Yes, that is what I wanted. I checked it also and <i>toMap()</i> works fine."}], "tags": [], "owner": {"reputation": 3640, "user_id": 4618331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7356f3874129c5cf6b5ed6dbd9b9436?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4618331/sam"}, "is_accepted": true, "score": 3, "last_activity_date": 1498460022, "last_edit_date": 1498460022, "creation_date": 1498425538, "answer_id": 44750734, "question_id": 44750602, "link": "https://stackoverflow.com/questions/44750602/replacing-stream-collect-in-kotlin-native-solution/44750734#44750734", "title": "Replacing stream collect in Kotlin native solution", "body": "<p>So you have a list of pairs and you want to convert it to a map? You can just replace your <code>.stream().collect(...)</code> with Kotlin's <code>toMap()</code>.\nFrom the Kotlin docs: </p>\n\n<blockquote>\n  <p><code>fun &lt;K, V&gt; Iterable&lt;Pair&lt;K, V&gt;&gt;.toMap(): Map&lt;K, V&gt;</code> </p>\n  \n  <p>Returns\n  a new map containing all key-value pairs from the given collection of \n  pairs.</p>\n</blockquote>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-map.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-map.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 2, "last_activity_date": 1498425564, "creation_date": 1498425564, "answer_id": 44750739, "question_id": 44750602, "link": "https://stackoverflow.com/questions/44750602/replacing-stream-collect-in-kotlin-native-solution/44750739#44750739", "title": "Replacing stream collect in Kotlin native solution", "body": "<p>I believe a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-map.html\" rel=\"nofollow noreferrer\"><code>toMap</code></a> call should work here, as you have an Iterable of Pairs:</p>\n\n<pre><code>valuesNode.map { Pair(it.get(\"label\")?.asText() ?: \"\", it.get(\"value\")?.asText() ?: \"\") }.toMap()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 2, "last_activity_date": 1498430390, "creation_date": 1498430390, "answer_id": 44751236, "question_id": 44750602, "link": "https://stackoverflow.com/questions/44750602/replacing-stream-collect-in-kotlin-native-solution/44751236#44751236", "title": "Replacing stream collect in Kotlin native solution", "body": "<p>the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/associate-by.html\" rel=\"nofollow noreferrer\">associateBy</a> method is like as java <code>Collectors#toMap</code>, so you can simply done it in kotlin as below:</p>\n\n<pre><code>fun extractValue(jsonNode: JsonNode?): Map&lt;String, String&gt; {\n    //                              key mapping  ---v\n    return jsonNode?.get(\"values\")?.associateBy({ it.get(\"label\")?.asText()?:\"\" }){\n        it.get(\"value\")?.asText() ?: \"\" // value mapping\n    } ?: emptyMap()\n    //   ^--- default value is an empty map\n}\n</code></pre>\n"}], "owner": {"reputation": 9497, "user_id": 2735286, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/87ddd81aa1b12c27aecdab22da387f5c?s=128&d=identicon&r=PG&f=1", "display_name": "gil.fernandes", "link": "https://stackoverflow.com/users/2735286/gil-fernandes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 545, "favorite_count": 0, "accepted_answer_id": 44750734, "answer_count": 3, "score": 3, "last_activity_date": 1498460022, "creation_date": 1498424589, "question_id": 44750602, "link": "https://stackoverflow.com/questions/44750602/replacing-stream-collect-in-kotlin-native-solution", "title": "Replacing stream collect in Kotlin native solution", "body": "<p>I am currently using a Kotlin function to extract a map out of a Json structure with key value pairs.</p>\n\n<p>The JSON used to build the map is contains a label and a value:</p>\n\n<pre><code>\"values\": [\n{\n  \"label\": \"Email\",\n  \"value\": \"email\"\n},\n{\n  \"label\": \"Social media\",\n  \"value\": \"socialMedia\"\n},\n{\n  \"label\": \"Word of mouth\",\n  \"value\": \"wordOfMouth\"\n},\n{\n  \"label\": \"Newspaper\",\n  \"value\": \"newspaper\"\n}\n],\n</code></pre>\n\n<p>The JSON \"label\" should become the key of the map and the \"value\" its value.</p>\n\n<p>This is the code used to extract and convert the JSON to a map using Java 8's stream collect method.</p>\n\n<pre><code>fun extractValue(jsonNode: JsonNode?): Map&lt;String, String&gt; {\n    val valuesNode = jsonNode?.get(\"values\") ?: mapper.createArrayNode()\n    return valuesNode.map { Pair(it.get(\"label\")?.asText() ?: \"\", it.get(\"value\")?.asText() ?: \"\") }\n            .stream().collect({ HashMap&lt;String, String&gt;()}, { m, p -&gt; m.put(p.first, p.second) } , { m, p -&gt; })\n}\n</code></pre>\n\n<p>How do you write the part with stream().collect in idiomatic Kotlin? What alternatives do you have to replace </p>\n\n<blockquote>\n  <p>stream().collect()</p>\n</blockquote>\n\n<p>in this specific case?</p>\n"}, {"tags": ["kotlin", "dropwizard"], "comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498424484, "post_id": 44750469, "comment_id": 76482065, "body": "I&#39;m not sure what you want to do. Do you want to recode the annotation to Kotlin?"}, {"owner": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498424714, "post_id": 44750469, "comment_id": 76482127, "body": "I would like to implement <code>DateRequired</code> annotation in Kotlin so that the  call <code>resourceInfo.resourceMethod.getAnnotation(DateRequired..)</code> works."}], "answers": [{"comments": [{"owner": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "edited": false, "score": 0, "creation_date": 1498425002, "post_id": 44750619, "comment_id": 76482184, "body": "Yes, that is what I tried. I am unable to refer to the class of <code>DateRequired</code> in the <code>getAnnotation()</code> call."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "edited": false, "score": 0, "creation_date": 1498425074, "post_id": 44750619, "comment_id": 76482200, "body": "@DavidSoroko it has reported any error? indeed, the kotlin annotation class is transformed to java <code>@interface</code> like as yours. maybe your logic wrong?"}, {"owner": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "edited": false, "score": 0, "creation_date": 1498425858, "post_id": 44750619, "comment_id": 76482390, "body": "see my note, looks like an IntelliJ issue."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "edited": false, "score": 0, "creation_date": 1498426293, "post_id": 44750619, "comment_id": 76482458, "body": "@DavidSoroko hi, how about it after using the <code>!!</code> operator?"}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 4, "last_activity_date": 1498429003, "last_edit_date": 1498429003, "creation_date": 1498424664, "answer_id": 44750619, "question_id": 44750469, "link": "https://stackoverflow.com/questions/44750469/implementing-a-java-annotation-in-kotlin/44750619#44750619", "title": "Implementing a Java Annotation in Kotlin", "body": "<p>Implementing a annotation in Kotlin is simpler than in Java. The default  <code>RetentionPolicy</code> in Kotlin is <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.annotation/-annotation-retention/index.html#enum-values\" rel=\"nofollow noreferrer\"><code>RUNTIME</code></a>. The <code>FUNCTION</code>,<code>PROPERTY_GETTER</code> and <code>PROPERTY_SETTER</code> are mapped to Java's <code>ElementType.METHOD</code>, for example: </p>\n\n<pre><code>import kotlin.annotation.AnnotationTarget.*\n\n@Target(FUNCTION, PROPERTY_GETTER, PROPERTY_SETTER)\nannotation class DateRequired;\n</code></pre>\n\n<p>Secondly, I have also discovered you used a Java platform class <code>ResourceInfo</code> which returns a <code>java.reflect.Method</code> instance. It might return <code>null</code> resulting in <code>NullPointerException</code> in Kotlin. You must use the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#the--operator\" rel=\"nofollow noreferrer\">NPE-lovers operator</a> <code>!!</code> before calling the <code>getAnnotation</code> method:</p>\n\n<pre><code>resourceInfo.resourceMethod!!.getAnnotation(DateRequired::class.java)\n//                         ^--- force to call\n</code></pre>\n\n<p>Last, the <code>DynamicFeature</code> is an interface. implements an interface in kotlin you must remove the parentheses <code>()</code>:</p>\n\n<pre><code>@Provider\nclass DateRequiredFeature : DynamicFeature{...}\n</code></pre>\n\n<p>You can see more details about annotations <a href=\"https://kotlinlang.org/docs/reference/annotations.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 6643, "user_id": 239101, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/zEXWJ.jpg?s=128&g=1", "display_name": "David Soroko", "link": "https://stackoverflow.com/users/239101/david-soroko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1233, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498429003, "creation_date": 1498423678, "last_edit_date": 1498425777, "question_id": 44750469, "link": "https://stackoverflow.com/questions/44750469/implementing-a-java-annotation-in-kotlin", "title": "Implementing a Java Annotation in Kotlin", "body": "<p>I am implementing the dropwizard example application in Kotlin and have an issue implementing the DateRequiredFeature. The Java code code is as follows:</p>\n\n<pre><code>    @Provider\n    public class DateRequiredFeature implements DynamicFeature {\n        @Override\n        public void configure(ResourceInfo resourceInfo, FeatureContext context) {\n            if (resourceInfo.getResourceMethod().getAnnotation(DateRequired.class) != null) {\n                context.register(DateNotSpecifiedFilter.class);\n            }\n        }\n    }\n</code></pre>\n\n<p>with the annotation defined as:</p>\n\n<pre><code>    @Retention(RetentionPolicy.RUNTIME)\n    @Target(ElementType.METHOD)\n    public @interface DateRequired {}\n</code></pre>\n\n<p>For the Kotlin side I have for the feature:</p>\n\n<pre><code>    @Provider\n    class DateRequiredFeature : DynamicFeature(){\n        override fun configure(resourceInfo: ResourceInfo, context: FeatureContext) {\n            if (resourceInfo.resourceMethod.getAnnotation(DateRequired::class.java) != null) {\n                context.register(DateNotSpecifiedFilter::class.java)\n            }\n        }\n    }\n</code></pre>\n\n<p>but is is not clear how to implement the corresponding <code>DateRequired</code> annotation so that <code>getAnnotation()</code> is valid. The (Java) signature for <code>getAnnotation()</code> is</p>\n\n<pre><code>public &lt;T extends Annotation&gt; T getAnnotation(Class&lt;T&gt; annotationClass)\n</code></pre>\n\n<p><strong>Note</strong></p>\n\n<p>Looks like an IntelliJ bug, I need to explicitly import the annotation although it is in the same package:</p>\n\n<pre><code>...\nimport DateRequired\n\n@Provider\nclass DateRequiredFeature : DynamicFeature {\n    override fun configure(resourceInfo: ResourceInfo, context: FeatureContext) {\n        if (resourceInfo.resourceMethod.getAnnotation(DateRequired::class.java) != null) {\n            context.register(DateNotSpecifiedFilter::class.java)\n        }\n    }\n}\n</code></pre>\n\n<p>then all is well using standard Kotlin annotation <code>annotation class DateRequired</code></p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 4, "last_activity_date": 1498424253, "last_edit_date": 1498424253, "creation_date": 1498423532, "answer_id": 44750442, "question_id": 44750407, "link": "https://stackoverflow.com/questions/44750407/compute-property-only-once/44750442#44750442", "title": "Compute property only once", "body": "<p>You can use delegated properties <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#lazy\" rel=\"nofollow noreferrer\">lazy</a> simply, for example:</p>\n\n<pre><code>class B {\n    val property by lazy(::A)\n}\n</code></pre>\n\n<p>You can also use a lambda expression instead like this:</p>\n\n<pre><code>class B {\n    val property by lazy { A() }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498424058, "post_id": 44750512, "comment_id": 76481956, "body": "Good idea though I can&#39;t make it a object"}, {"owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498424230, "post_id": 44750512, "comment_id": 76481996, "body": "Then use lazy properties as @holi-java suggested :)"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498424313, "post_id": 44750512, "comment_id": 76482023, "body": "Yeah I think I will. I thought there is a more convenient way to do this though."}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498462058, "post_id": 44750512, "comment_id": 76490393, "body": "@Mibac I find the lazy-delegate very convenient. What is your concern?"}], "tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1498423971, "creation_date": 1498423971, "answer_id": 44750512, "question_id": 44750407, "link": "https://stackoverflow.com/questions/44750407/compute-property-only-once/44750512#44750512", "title": "Compute property only once", "body": "<p>You can also do it in this way:</p>\n\n<pre><code>object A\nclass B {\n    val property: A\n        get() = A\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val b = B()\n    println(b.property) // &gt;&gt;&gt; A@3cd1a2f1\n    println(b.property) // &gt;&gt;&gt; A@3cd1a2f1\n}\n</code></pre>\n"}], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 792, "favorite_count": 0, "accepted_answer_id": 44750442, "answer_count": 2, "score": 3, "last_activity_date": 1536340987, "creation_date": 1498423333, "question_id": 44750407, "link": "https://stackoverflow.com/questions/44750407/compute-property-only-once", "title": "Compute property only once", "body": "<p>Given the following code</p>\n\n<pre><code>class A\nclass B {\n    val property: A\n        get() = A()\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val b = B()\n    println(b.property)\n    println(b.property)\n}\n</code></pre>\n\n<p>It returns a new <code>A</code> instance every time <code>B.property</code>. Is there an easy way to make it return the same instance every time?</p>\n"}, {"tags": ["optimization", "casting", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2554, "user_id": 3424423, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/f3d10a1c60893734d32d1c16a249163e?s=128&d=identicon&r=PG&f=1", "display_name": "Nearoo", "link": "https://stackoverflow.com/users/3424423/nearoo"}, "edited": false, "score": 1, "creation_date": 1498420218, "post_id": 44749931, "comment_id": 76480928, "body": "Thank you. Coming from Python, I still have to wrap my head around statically typed languages - didn&#39;t realize that <code>x.length</code> has to throw an error when the type specified in the parameters isn&#39;t <code>string</code>."}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1498441985, "post_id": 44749931, "comment_id": 76485424, "body": "You&#39;d get an error in Python too if <code>x</code> wasn&#39;t a <code>String</code> when you call the method."}, {"owner": {"reputation": 2554, "user_id": 3424423, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/f3d10a1c60893734d32d1c16a249163e?s=128&d=identicon&r=PG&f=1", "display_name": "Nearoo", "link": "https://stackoverflow.com/users/3424423/nearoo"}, "edited": false, "score": 0, "creation_date": 1498464430, "post_id": 44749931, "comment_id": 76491414, "body": "No, it would work perfectly fine, as it&#39;s dynamically typed. No checks concerning types are done whatsoever. If x wasn&#39;t string, the method woulf simply execute without the if clause.  And if it was string , no casting woulf be involved or necessary - all it does is check if the object x has an attribute length, without caring about the type at all. That&#39;s also why I was confused about Kotlin."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": false, "score": 3, "last_activity_date": 1498419802, "creation_date": 1498419802, "answer_id": 44749931, "question_id": 44749894, "link": "https://stackoverflow.com/questions/44749894/why-is-casting-the-type-still-necessary-even-though-it-has-already-been-assured/44749931#44749931", "title": "Why is casting the type still necessary even though it has already been assured in this example?", "body": "<p>Without smart casting, you would have to tell the compiler the type is actually a String, since <code>length</code> does not exist on Any. </p>\n\n<pre><code>println((x as String).length)\n</code></pre>\n\n<p>With smart casting this isn't necessary anymore. </p>\n"}, {"comments": [{"owner": {"reputation": 2554, "user_id": 3424423, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/f3d10a1c60893734d32d1c16a249163e?s=128&d=identicon&r=PG&f=1", "display_name": "Nearoo", "link": "https://stackoverflow.com/users/3424423/nearoo"}, "edited": false, "score": 1, "creation_date": 1498420116, "post_id": 44749958, "comment_id": 76480902, "body": "Ah, that clears it up, thank you. Coming from Python, I&#39;m still wrapping my head around static typing."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 7, "last_activity_date": 1498419963, "creation_date": 1498419963, "answer_id": 44749958, "question_id": 44749894, "link": "https://stackoverflow.com/questions/44749894/why-is-casting-the-type-still-necessary-even-though-it-has-already-been-assured/44749958#44749958", "title": "Why is casting the type still necessary even though it has already been assured in this example?", "body": "<p><code>x</code> has a type <code>Any</code>, and that type doesn't have a <code>.length</code> property. However, since inside the <code>if</code> block, it's known that <code>x</code> is actually a <code>String</code>, it gets smart cast that type, and you can call methods and access properties of the <code>String</code> class on it.</p>\n\n<p>The Java version of this code would look like this, you'd need an explicit cast to <code>String</code> even after doing the type check:</p>\n\n<pre><code>void demo(Object x) {\n    if(x instanceof String) {\n        System.out.print(((String) x).length());\n    }\n}\n</code></pre>\n\n<p>This is what Kotlin simplifies for you.</p>\n"}], "owner": {"reputation": 2554, "user_id": 3424423, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/f3d10a1c60893734d32d1c16a249163e?s=128&d=identicon&r=PG&f=1", "display_name": "Nearoo", "link": "https://stackoverflow.com/users/3424423/nearoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 44749958, "answer_count": 2, "score": 1, "last_activity_date": 1498419963, "creation_date": 1498419547, "question_id": 44749894, "link": "https://stackoverflow.com/questions/44749894/why-is-casting-the-type-still-necessary-even-though-it-has-already-been-assured", "title": "Why is casting the type still necessary even though it has already been assured in this example?", "body": "<p>Today I came across this section in the <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\">Kotlin Docs</a>. Called \"smart casts\", Kotlin seems to \"insert (safe) casts automatically when needed\":</p>\n\n<blockquote>\n  <p>In many cases, one does not need to use explicit cast operators in\n  Kotlin, because the compiler tracks the is-checks for immutable values\n  and inserts (safe) casts automatically when needed:</p>\n\n<pre><code>fun demo(x: Any) {\n    if (x is String) {\n        print(x.length) // x is automatically cast to String\n    }\n}\n</code></pre>\n</blockquote>\n\n<p>I don't understand what \"smart casting\" does in this example. There seems to be nothing that requires casting, as <code>x</code> will always be String and thus <code>x.length</code> will always work, no casting required. What is happening on the <code>print</code> line exactly? Thanks in advance!</p>\n"}, {"tags": ["kotlin", "android-room"], "answers": [{"tags": [], "owner": {"reputation": 341, "user_id": 1157136, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/60062f97f4db72e5a157c456b61225f5?s=128&d=identicon&r=PG", "display_name": "JaySee", "link": "https://stackoverflow.com/users/1157136/jaysee"}, "is_accepted": false, "score": 0, "last_activity_date": 1498589408, "last_edit_date": 1498589408, "creation_date": 1498440228, "answer_id": 44752047, "question_id": 44749516, "link": "https://stackoverflow.com/questions/44749516/android-room-not-returning-anything-with-url-as-parameter/44752047#44752047", "title": "Android room not returning anything with url as parameter", "body": "<p>It turns out that when using <code>LiveData</code> with room, it immediately returns and so calling <code>LiveData.value</code> immediately gives <code>null</code> while it asynchronously gets the actual data to provide to Observers, and so can't be used as a drop in replacement if trying to convert from a non <code>LiveData</code> call. This is documented here: <a href=\"https://developer.android.com/reference/android/arch/lifecycle/LiveData.html#getValue()\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/arch/lifecycle/LiveData.html#getValue()</a></p>\n\n<blockquote>\n  <p>Returns the current value. Note that calling this method on a background thread does not guarantee that the latest value set will be received.</p>\n</blockquote>\n"}], "owner": {"reputation": 341, "user_id": 1157136, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/60062f97f4db72e5a157c456b61225f5?s=128&d=identicon&r=PG", "display_name": "JaySee", "link": "https://stackoverflow.com/users/1157136/jaysee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 344, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498589408, "creation_date": 1498416852, "question_id": 44749516, "link": "https://stackoverflow.com/questions/44749516/android-room-not-returning-anything-with-url-as-parameter", "title": "Android room not returning anything with url as parameter", "body": "<p>I'm trying to access a list of Items by the primary key of Feed like so. The primary key is a url. Attempting to access it like this gives me null back, and attepting to put <code>:arg0</code> in quotes creates a compile time error <code>error: Unused parameter: arg0</code>. Is it possible to use a url for this query?</p>\n\n<pre><code>@Query(\"SELECT * FROM item WHERE feed_url = :arg0\")\nfun observeAllByFeed(feedUrl: String): LiveData&lt;List&lt;Item&gt;&gt;\n</code></pre>\n\n<p>Item</p>\n\n<pre><code>@Entity(foreignKeys = arrayOf(ForeignKey(\n        entity = Feed::class,\n        parentColumns = arrayOf(\"url\"),\n        childColumns = arrayOf(\"feed_url\"))))\ndata class Item(\n        @ColumnInfo(name = \"guid\") @PrimaryKey var guid: String = \"\",\n        @ColumnInfo(name = \"categoryIds\") var categoryIds: List&lt;Int&gt; = emptyList(),\n        @ColumnInfo(name = \"comments\") var comments: String? = null,\n        @ColumnInfo(name = \"content\") var content: String? = null,\n        @ColumnInfo(name = \"description\") var description: String = \"\",\n        @ColumnInfo(name = \"author\") var author: String = \"\",\n        @ColumnInfo(name = \"block\") var block: Boolean = false,\n        @ColumnInfo(name = \"duration\") var duration: Int = 0,\n        @ColumnInfo(name = \"explicit\") var explicit: String = \"\",\n        @ColumnInfo(name = \"image_url\") var imageUrl: String = \"\",\n        @ColumnInfo(name = \"keywords\") var keywords: List&lt;String&gt; = emptyList(),\n        @ColumnInfo(name = \"subtitle\") var subTitle: String = \"\",\n        @ColumnInfo(name = \"summary\") var summary: String = \"\",\n        @ColumnInfo(name = \"link\") var link: String = \"\",\n        @ColumnInfo(name = \"publication_date\") var pubDate: Date = Date(),\n        @ColumnInfo(name = \"title\") var title: String = \"\",\n        @ColumnInfo(name = \"feed_url\") var feedURL: String = \"\",\n        @ColumnInfo(name = \"download_state\") var downloadState: Int = Item.DownloadState.STATE_NOT_DOWNLOADED\n) : Serializable {\n    companion object DownloadState {\n        val STATE_NOT_DOWNLOADED = 0\n        val STATE_DOWNLOADING = 1\n        val STATE_DOWNLOADED = 2\n    }\n}\n</code></pre>\n\n<p>Feed</p>\n\n<pre><code>@Entity(foreignKeys = arrayOf(ForeignKey(\n        entity = Owner::class,\n        parentColumns = arrayOf(\"id\"),\n        childColumns = arrayOf(\"owner_id\")\n)))\ndata class Feed(\n        @ColumnInfo(name = \"url\") @PrimaryKey var URL: String = \"\",\n        @ColumnInfo(name = \"copyright\") var copyright: String? = null,\n        @ColumnInfo(name = \"description\") var description: String? = null,\n        @ColumnInfo(name = \"itemGUIDs\") var itemGUIDs: List&lt;String&gt; = emptyList(),\n        @ColumnInfo(name = \"author\") var author: String? = null,\n        @ColumnInfo(name = \"block\") var block: Boolean = false,\n        @ColumnInfo(name = \"categoryIds\") var categoryIds: List&lt;Int&gt; = emptyList(),\n        @ColumnInfo(name = \"explicit\") var explicit: Boolean = false,\n        @ColumnInfo(name = \"image_url\") var imageUrl: String? = null,\n        @ColumnInfo(name = \"owner_id\") var ownerId: Int = -1,\n        @ColumnInfo(name = \"subtitle\") var subtitle: String? = null,\n        @ColumnInfo(name = \"summary\") var summary: String? = null,\n        @ColumnInfo(name = \"language\") var language: String = \"\",\n        @ColumnInfo(name = \"link\") var link: String = \"\",\n        @ColumnInfo(name = \"title\") var title: String = \"\",\n        @ColumnInfo(name = \"expiry\") var expiry: Date = Date(),\n        @ColumnInfo(name = \"subscribed\") var subscribed: Boolean = false\n) : Serializable\n</code></pre>\n\n<p>Owner</p>\n\n<pre><code>@Entity\ndata class Owner(\n        @ColumnInfo(name = \"name\") var name: String? = null,\n        @ColumnInfo(name = \"email\") var email: String? = null\n) : Serializable {\n    @ColumnInfo(name = \"id\")\n    @PrimaryKey(autoGenerate = true)\n    var id: Int = 0\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 338, "user_id": 1565219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/876c9e4ae6c7e93eccbeebfe84ab316b?s=128&d=identicon&r=PG", "display_name": "Mark Chandler", "link": "https://stackoverflow.com/users/1565219/mark-chandler"}, "edited": false, "score": 0, "creation_date": 1498487945, "post_id": 44748827, "comment_id": 76505425, "body": "<i>n.b.</i>: This is an issue with the return type of the lambda not being unit. Return type inference is slated to be changed in 1.2 so that the code in this example would work correctly. See: <a href=\"https://youtrack.jetbrains.com/issue/KT-11723\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-11723</a>"}], "answers": [{"comments": [{"owner": {"reputation": 338, "user_id": 1565219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/876c9e4ae6c7e93eccbeebfe84ab316b?s=128&d=identicon&r=PG", "display_name": "Mark Chandler", "link": "https://stackoverflow.com/users/1565219/mark-chandler"}, "edited": false, "score": 1, "creation_date": 1498488049, "post_id": 44748950, "comment_id": 76505498, "body": "Just wanted to note that I discovered <a href=\"https://youtrack.jetbrains.com/issue/KT-11723\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-11723</a> and 1.2 will likely allow for coercing lambdas to Unit. Thanks for the information!"}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 2, "last_activity_date": 1498413028, "last_edit_date": 1498413028, "creation_date": 1498412666, "answer_id": 44748950, "question_id": 44748827, "link": "https://stackoverflow.com/questions/44748827/bound-callable-reference-not-working-with-reactor-subscribe/44748950#44748950", "title": "Bound Callable Reference Not Working With Reactor Subscribe", "body": "<p>Kotlin Function Reference Expression is not like as java Method Reference Expression. the return type <code>Any</code> is not compatible with the return type <code>Unit</code>.</p>\n\n<p>the error comes from the return type (<em>Boolean</em>) of the <code>MutableList#add(Int)</code> method is not compatible with the parameter parameter type <em><code>(Int)-&gt;Unit</code></em> of the <code>subscribe</code> method.\nso you can only using lambda expression this way.</p>\n\n<p>you can using <code>list::add</code> in somewhere when  both the parameter types and return type are compatible with the function. for example:</p>\n\n<pre><code>val add1:(Int) -&gt; Boolean = list::add; // MutableList.add(Int);\nval add2:(Int,Int) -&gt; Unit = list::add; // MutableList.add(Int,Int);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 338, "user_id": 1565219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/876c9e4ae6c7e93eccbeebfe84ab316b?s=128&d=identicon&r=PG", "display_name": "Mark Chandler", "link": "https://stackoverflow.com/users/1565219/mark-chandler"}, "edited": false, "score": 1, "creation_date": 1498488043, "post_id": 44749300, "comment_id": 76505494, "body": "Just wanted to note that I discovered <a href=\"https://youtrack.jetbrains.com/issue/KT-11723\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-11723</a> and 1.2 will likely allow for coercing lambdas to Unit. Thanks for the information!"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 338, "user_id": 1565219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/876c9e4ae6c7e93eccbeebfe84ab316b?s=128&d=identicon&r=PG", "display_name": "Mark Chandler", "link": "https://stackoverflow.com/users/1565219/mark-chandler"}, "edited": false, "score": 0, "creation_date": 1498495235, "post_id": 44749300, "comment_id": 76510072, "body": "Cool, this would be a nice little addition to the language, and it doesn&#39;t seem to conflict with any existing use cases on first glance."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 2, "last_activity_date": 1498415118, "creation_date": 1498415118, "answer_id": 44749300, "question_id": 44748827, "link": "https://stackoverflow.com/questions/44748827/bound-callable-reference-not-working-with-reactor-subscribe/44749300#44749300", "title": "Bound Callable Reference Not Working With Reactor Subscribe", "body": "<p>To rephrase and elaborate on the other answer: the problem is that a <code>Consumer</code> is expected, which takes an element and returns nothing in its single method. The corresponding function type for this in Kotlin would be <code>(T) -&gt; Unit</code>. </p>\n\n<p>The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/add.html\" rel=\"nofollow noreferrer\"><code>add</code></a> method described in the <code>MutableList</code> interface however has the type <code>(T) -&gt; Boolean</code>: it returns true if the element was successfully added (this is to support implementations of the interface that can't contain duplicates).</p>\n\n<p>A possible solution to this is to add an extension method that adds an element to a <code>MutableList</code> without returning anything:</p>\n\n<pre><code>fun &lt;T&gt; MutableList&lt;T&gt;.addItem(element: T): Unit {\n    this.add(element)\n}\n</code></pre>\n\n<p>You can then use a bound callable reference to this extension, just like other <code>MutableList</code> methods:</p>\n\n<pre><code>Flux.just(1, 2, 3, 4)\n        .log()\n        .subscribe(elements::addItem)\n</code></pre>\n"}], "owner": {"reputation": 338, "user_id": 1565219, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/876c9e4ae6c7e93eccbeebfe84ab316b?s=128&d=identicon&r=PG", "display_name": "Mark Chandler", "link": "https://stackoverflow.com/users/1565219/mark-chandler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 44748950, "answer_count": 2, "score": 3, "last_activity_date": 1498487435, "creation_date": 1498411786, "last_edit_date": 1498487435, "question_id": 44748827, "link": "https://stackoverflow.com/questions/44748827/bound-callable-reference-not-working-with-reactor-subscribe", "title": "Bound Callable Reference Not Working With Reactor Subscribe", "body": "<p>Since 1.1, Kotlin has had <em>bound callable references</em>. As I am on 1.1.3, I think I should be able to use the following to access the <code>add</code> method :</p>\n\n<pre><code>val elements = mutableListOf&lt;Int&gt;()\n\nFlux.just(1, 2, 3, 4)\n    .log()\n    .subscribe(elements::add)\n</code></pre>\n\n<p>However, this throws an error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/b14gp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b14gp.png\" alt=\"elements::add error\"></a></p>\n\n<p>I'm not sure what that error means in this specific instance. I can use <code>.subscribe({ elements.add(it) })</code> with no issue, but shouldn't I be able to use the <code>elements::add</code> version?</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1498408317, "post_id": 44748350, "comment_id": 76477566, "body": "avoid <code>findViewById</code>? what do you mean?"}, {"owner": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1498408368, "post_id": 44748350, "comment_id": 76477584, "body": "@pskink <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/android-plugin.html</a> see here you will get the idea"}, {"owner": {"reputation": 6712, "user_id": 6678991, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vT7P5.jpg?s=128&g=1", "display_name": "Mahdi-Malv", "link": "https://stackoverflow.com/users/6678991/mahdi-malv"}, "edited": false, "score": 0, "creation_date": 1498440704, "post_id": 44748350, "comment_id": 76485220, "body": "try using one of imports, like only <code>import kotlinx.android.synthetic.main.dialog_error.*</code>"}], "answers": [{"comments": [{"owner": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "edited": false, "score": 0, "creation_date": 1498408956, "post_id": 44748437, "comment_id": 76477752, "body": "I have imported both now : import kotlinx.android.synthetic.main.dialog_error.view.* import kotlinx.android.synthetic.main.dialog_error.* But IDE isn&#39;t pulling that . Instead, it tries to import from R.id"}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "reply_to_user": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "edited": false, "score": 0, "creation_date": 1498409178, "post_id": 44748437, "comment_id": 76477807, "body": "Are you referencing the properties on the inflated <code>View</code>?"}, {"owner": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "edited": false, "score": 0, "creation_date": 1498419109, "post_id": 44748437, "comment_id": 76480641, "body": "yes. I want to inflate a view and then get views inside it"}, {"owner": {"reputation": 575, "user_id": 6362346, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FeiKe.jpg?s=128&g=1", "display_name": "marlonpya", "link": "https://stackoverflow.com/users/6362346/marlonpya"}, "edited": false, "score": 0, "creation_date": 1513273817, "post_id": 44748437, "comment_id": 82600688, "body": "that works but not understand u.u only is different in dialogFragment ? because is custom ? need import view"}, {"owner": {"reputation": 1343, "user_id": 9005383, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-rymLhVRbsIw/AAAAAAAAAAI/AAAAAAAAG20/cTAJhtYO4mY/photo.jpg?sz=128", "display_name": "Tamim Attafi", "link": "https://stackoverflow.com/users/9005383/tamim-attafi"}, "edited": false, "score": 0, "creation_date": 1533154569, "post_id": 44748437, "comment_id": 90247633, "body": "@nhaarman how can i inflate the view if i have an error saying : Unresolved Refferrance :R? thank you!"}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 41, "last_activity_date": 1498409053, "last_edit_date": 1498409053, "creation_date": 1498408834, "answer_id": 44748437, "question_id": 44748350, "link": "https://stackoverflow.com/questions/44748350/programmatically-inflated-layout-with-kotlin-android-extensions/44748437#44748437", "title": "Programmatically inflated layout with Kotlin Android Extensions", "body": "<p>From the <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"noreferrer\">docs you linked</a>:</p>\n\n<blockquote>\n  <p>If we want to call the synthetic properties on View (useful in adapter classes), we should also import </p>\n\n<pre><code>kotlinx.android.synthetic.main.activity_main.view.*.\n</code></pre>\n</blockquote>\n\n<p>That is, import <code>kotlinx.android.synthetic.main.layout.view.*</code> as well to load the <code>View</code> extension properties. </p>\n\n<p>Then:</p>\n\n<pre><code>val view = LayoutInflater.from(context).inflate(...)\nview.tvErrorTitle.text = \"test\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 236, "user_id": 2562033, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/46SJk.jpg?s=128&g=1", "display_name": "Prime624", "link": "https://stackoverflow.com/users/2562033/prime624"}, "edited": false, "score": 1, "creation_date": 1547181766, "post_id": 53504642, "comment_id": 95112335, "body": "This helped me. I followed the official android tutorial on DialogFragment, to a T. I kept getting a crash with error located at four lines, repeating indefinitely, seemingly rooted at Fragment.getLayoutInflater(). This fixed it. Not sure why it&#39;s not in the tutorial. (I would make a question of my problem and this solution but SO is bs and won&#39;t let me ask anymore questions.)"}], "tags": [], "owner": {"reputation": 331, "user_id": 4607466, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh5.googleusercontent.com/-sGZSpilFXrk/AAAAAAAAAAI/AAAAAAAABrY/KdQ0Bc9gZuI/photo.jpg?sz=128", "display_name": "Lucas B.", "link": "https://stackoverflow.com/users/4607466/lucas-b"}, "is_accepted": false, "score": 7, "last_activity_date": 1543338108, "creation_date": 1543338108, "answer_id": 53504642, "question_id": 44748350, "link": "https://stackoverflow.com/questions/44748350/programmatically-inflated-layout-with-kotlin-android-extensions/53504642#53504642", "title": "Programmatically inflated layout with Kotlin Android Extensions", "body": "<p>It returns a view inflated:</p>\n\n<p><code>layoutInflater.inflate(R.layout.your_layout, null)</code></p>\n\n<p>See, you can replace this <code>LayoutInflater.from(context)</code> with this <code>layoutInflater</code> when your class extend from a Context superclass</p>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 10379874, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_qrddZWVHq0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMtDLCPkH_WpDRd_iI1_7Twp1yY_Q/mo/photo.jpg?sz=128", "display_name": "Arjun Othayoth", "link": "https://stackoverflow.com/users/10379874/arjun-othayoth"}, "is_accepted": false, "score": 1, "last_activity_date": 1589382567, "creation_date": 1589382567, "answer_id": 61778164, "question_id": 44748350, "link": "https://stackoverflow.com/questions/44748350/programmatically-inflated-layout-with-kotlin-android-extensions/61778164#61778164", "title": "Programmatically inflated layout with Kotlin Android Extensions", "body": "<p>In kotlin you can try this to inflate layout inside linear layout using databinding</p>\n\n<pre><code>val inflater: LayoutInflater = LayoutInflater.from(activity).context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n\n val mBindingDeno: LayoutDenominationBinding =\n        DataBindingUtil.inflate(\n            inflater, R.layout.layout_denomination, null, false\n        )\nlayout.addView(mBindingDeno.root)\n</code></pre>\n\n<p>Here layout is your LinearLayout</p>\n\n<pre><code>            &lt;ScrollView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:fillViewport=\"true\"\n                android:nestedScrollingEnabled=\"true\"\n                android:visibility=\"gone\"&gt;\n\n                &lt;LinearLayout\n                    android:id=\"@+id/linear_denomination\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n                    android:orientation=\"vertical\" /&gt;\n\n\n            &lt;/ScrollView&gt;\n</code></pre>\n"}], "owner": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28531, "favorite_count": 0, "accepted_answer_id": 44748437, "answer_count": 3, "score": 17, "last_activity_date": 1589382567, "creation_date": 1498408223, "last_edit_date": 1498409136, "question_id": 44748350, "link": "https://stackoverflow.com/questions/44748350/programmatically-inflated-layout-with-kotlin-android-extensions", "title": "Programmatically inflated layout with Kotlin Android Extensions", "body": "<p>I have a following layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:background=\"@android:color/white\"\n    android:paddingLeft=\"20dp\"\n    android:paddingRight=\"20dp\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tvErrorTitle\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"10dp\"\n        android:textColor=\"@android:color/background_dark\"\n        android:textSize=\"18sp\"\n        /&gt;\n    &lt;TextView\n        android:id=\"@+id/tvErrorDesc\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"30dp\"\n        android:textColor=\"@android:color/darker_gray\"\n        android:textSize=\"16sp\"\n        /&gt;\n    &lt;TextView\n        android:id=\"@+id/tvAction\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"30dp\"\n        android:layout_marginBottom=\"10dp\"\n        android:layout_gravity=\"end\"\n        android:padding=\"5dp\"\n        android:textSize=\"15sp\"\n        android:textStyle=\"bold\"\n        android:textAllCaps=\"true\"\n        android:textColor=\"@android:color/holo_purple\"\n        /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>When I want to use <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"noreferrer\">kotlin android extensions</a> outside of activity like below, it doesn't work. I ended up doing findViewById.</p>\n\n<pre><code>...\n...\nimport kotlinx.android.synthetic.main.dialog_error.*\n...\n...\n val view = LayoutInflater.from(context).inflate(R.layout.dialog_error, null, false)\n    val tvErrorTitle = view.findViewById(R.id.tvErrorTitle) as TextView\n    val tvErrorDesc = view.findViewById(R.id.tvErrorDesc) as TextView\n    val tvErrorAction = view.findViewById(R.id.tvAction) as TextView\n</code></pre>\n\n<p>It doesn't pull the views directly from xml. How to use it in programetically inflated layout and avoid <code>findViewById</code>?</p>\n\n<p><strong>Note</strong> : This question strictly belongs to <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"noreferrer\">Kotlin Android Extensions</a>, not the language itself.</p>\n\n<p><strong>Edit</strong>\nI have imported both : </p>\n\n<pre><code>import kotlinx.android.synthetic.main.dialog_error.view.*\nimport kotlinx.android.synthetic.main.dialog_error.*\n</code></pre>\n\n<p>But Android Studio still tries to import from R.id and doesn't recognize those two imports. Is there anything missing?</p>\n"}, {"tags": ["kotlin", "native", "kotlin-native"], "answers": [{"comments": [{"owner": {"reputation": 3658, "user_id": 67878, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8a20b6c052e6178c98b8026c28fb75cc?s=128&d=identicon&r=PG", "display_name": "Vitaly", "link": "https://stackoverflow.com/users/67878/vitaly"}, "edited": false, "score": 0, "creation_date": 1524167737, "post_id": 44755066, "comment_id": 86874384, "body": "Is there a plan to add destructors at all? Or would you rather not because this kind of deterministic behavior is not possible to achieve anyway with Kotlin&#39;s other targets?"}, {"owner": {"reputation": 547, "user_id": 8214382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7qW7kcTPFrw/AAAAAAAAAAI/AAAAAAAAAAs/HZb3KjbYlFs/photo.jpg?sz=128", "display_name": "Nikolay Igotti", "link": "https://stackoverflow.com/users/8214382/nikolay-igotti"}, "reply_to_user": {"reputation": 3658, "user_id": 67878, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8a20b6c052e6178c98b8026c28fb75cc?s=128&d=identicon&r=PG", "display_name": "Vitaly", "link": "https://stackoverflow.com/users/67878/vitaly"}, "edited": false, "score": 0, "creation_date": 1534406374, "post_id": 44755066, "comment_id": 90695883, "body": "There are no current plan to add general purpose destructors. However, somewhat similar functionality could be achieved with weak references, present in Kotlin/Native."}], "tags": [], "owner": {"reputation": 547, "user_id": 8214382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7qW7kcTPFrw/AAAAAAAAAAI/AAAAAAAAAAs/HZb3KjbYlFs/photo.jpg?sz=128", "display_name": "Nikolay Igotti", "link": "https://stackoverflow.com/users/8214382/nikolay-igotti"}, "is_accepted": false, "score": 17, "last_activity_date": 1520241549, "last_edit_date": 1520241549, "creation_date": 1498463159, "answer_id": 44755066, "question_id": 44747862, "link": "https://stackoverflow.com/questions/44747862/does-kotlin-native-have-destructors/44755066#44755066", "title": "Does kotlin-native have destructors?", "body": "<p>Current Kotlin/Native does not provide mechanism for calling a method when certain object is no longer needed in memory (finalizer in Java speech) but inline lambdas easily allow to implement mechanisms, similar to RAII in C++. For example, if you want to be sure, that some resource is always released after leaving certain scope, you may do:</p>\n\n<pre><code>class Resource {\n  fun take() = println(\"took\")\n  fun free() = println(\"freed\")\n}\n\ninline fun withResource(resource: Resource, body: () -&gt; Unit) =\n try {\n   resource.take()\n   body()\n } finally {\n   resource.free()\n }\n\nfun main(args: Array&lt;String&gt;) {\n   withResource(Resource()) { \n       println(\"body\") \n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 3357, "user_id": 281887, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/a26c66ed0382da842ac191864c8d1cb5?s=128&d=identicon&r=PG", "display_name": "Vladimir Berezkin", "link": "https://stackoverflow.com/users/281887/vladimir-berezkin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4027, "favorite_count": 0, "answer_count": 1, "score": 11, "last_activity_date": 1538469496, "creation_date": 1498404834, "last_edit_date": 1538469496, "question_id": 44747862, "link": "https://stackoverflow.com/questions/44747862/does-kotlin-native-have-destructors", "title": "Does kotlin-native have destructors?", "body": "<p>In kotlin native there is memScoped function that automatically free allocated memory when control is going out of scope.\nIs there something like destructors for local objects?</p>\n"}, {"tags": ["kotlin", "scope", "closures", "coroutine"], "answers": [{"comments": [{"owner": {"reputation": 4030, "user_id": 454378, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/35ecec2dbfe92776f966832447c8ac2d?s=128&d=identicon&r=PG", "display_name": "Harindaka", "link": "https://stackoverflow.com/users/454378/harindaka"}, "edited": false, "score": 0, "creation_date": 1498404195, "post_id": 44747680, "comment_id": 76476411, "body": "Thanks @holi-java. I do understand what&#39;s happening here. What I&#39;m more interested is in knowing how to ensure that the seed variable&#39;s value (3) is conserved when the coroutine is executed. (Much like closures in javascript) I&#39;ve edited the question to convey my intentions more clearly"}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 2, "last_activity_date": 1498405316, "last_edit_date": 1498405316, "creation_date": 1498403460, "answer_id": 44747680, "question_id": 44747175, "link": "https://stackoverflow.com/questions/44747175/in-kotlin-how-do-i-pass-a-parameter-so-that-the-async-scope-will-conserve-it/44747680#44747680", "title": "In Kotlin, how do I pass a parameter so that the async scope will conserve it?", "body": "<p>let see a non multi-threads example that will makes it more clearly:</p>\n\n<pre><code>fun main(args:Array&lt;String&gt;){\n    println(\"test\")\n\n    var seed = 3 // @1. initializing seed=3\n    val deferredResult = {\n        seed * 2 // @4. seed=4 then \n    }\n\n    seed = 4  // @2. reassign seed=4\n\n    //            v--- @3. calculates the result\n    val result = deferredResult()\n    //    ^---  8\n    println(\"Result is $result\");\n}\n</code></pre>\n\n<p>as you can see the sequence starts <code>@</code> above that described in non multi-threads clearly the lambda is invoked lazily. which means the body of the lambda is not invoked unless the caller invoke it.</p>\n\n<p>the result is uncertain in multi-threads, it maybe <code>6</code> or <code>8</code>, because it depends on whether it is the sequence <code>@2</code> or the sequence <code>@4</code> is first invoked. when we call <em><code>async(..)</code></em> to start a thread in pool it will take a few time, the current thread does not blocking until the thread is running.</p>\n\n<p>it also has problem in <a href=\"/questions/tagged/javascript\" class=\"post-tag\" title=\"show questions tagged &#39;javascript&#39;\" rel=\"tag\">javascript</a>, for example: </p>\n\n<pre><code>var seed = 3\n\nfunction deferredResult() {\n    return seed * 2\n}\n\nseed = 4\n\nvar result = deferredResult()\nconsole.log(\"Result is \" + result);// result is also 8\n</code></pre>\n\n<p>it is solved by introduce another calls inline anonymous function in javascript. you can also solve it in kotlin by using lambda like as in javascript:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(\"test\")\n\n    var seed = 3\n    //                    v--- like as javascript (function(seed){...})(seed);\n    val deferredResult = ({ seed: Int -&gt;\n        async(CommonPool) {\n            seed * 2\n        }\n    })(seed);\n\n    seed = 4\n\n    runBlocking(CommonPool) {\n        val result = deferredResult.await()\n        //   ^--- result is always 6 now\n        println(\"Result is $result\")\n    }\n\n    println(\"end\")\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 902, "user_id": 2005174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f29265a8a7119c5cc925349b662ce176?s=128&d=identicon&r=PG", "display_name": "Lensflare", "link": "https://stackoverflow.com/users/2005174/lensflare"}, "edited": false, "score": 0, "creation_date": 1532966243, "post_id": 44796809, "comment_id": 90161769, "body": "This answer was actually very helpful to fix a problem in my code where an integer has been captured by reference and I wanted it to be captured by value. So I made a val copy of it."}], "tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": false, "score": 2, "last_activity_date": 1498636863, "creation_date": 1498636863, "answer_id": 44796809, "question_id": 44747175, "link": "https://stackoverflow.com/questions/44747175/in-kotlin-how-do-i-pass-a-parameter-so-that-the-async-scope-will-conserve-it/44796809#44796809", "title": "In Kotlin, how do I pass a parameter so that the async scope will conserve it?", "body": "<p>You should avoid using <code>var</code>, especially in the code that involves any forms of concurrency (coroutines, threads, or even capturing values into lambdas). </p>\n\n<p>In your particular example, you should declare <code>seed</code> as <code>val</code> (immutable) to prevent an accidental mistake of changing it later. In fact, the compiler should have warned you that you are capturing a mutable variable into a coroutine, but this feature is not currently implemented. See the ticket <a href=\"https://youtrack.jetbrains.com/issue/KT-15514\" rel=\"nofollow noreferrer\">KT-15515</a>.</p>\n"}], "owner": {"reputation": 4030, "user_id": 454378, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/35ecec2dbfe92776f966832447c8ac2d?s=128&d=identicon&r=PG", "display_name": "Harindaka", "link": "https://stackoverflow.com/users/454378/harindaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1951, "favorite_count": 1, "accepted_answer_id": 44747680, "answer_count": 2, "score": 4, "last_activity_date": 1567851896, "creation_date": 1498399735, "last_edit_date": 1567851896, "question_id": 44747175, "link": "https://stackoverflow.com/questions/44747175/in-kotlin-how-do-i-pass-a-parameter-so-that-the-async-scope-will-conserve-it", "title": "In Kotlin, how do I pass a parameter so that the async scope will conserve it?", "body": "<p>I have the following code snippet using Kotlin Coroutines</p>\n\n<pre><code>fun main(args:Array&lt;String&gt;){\n  println(\"test\")\n\n  var seed = 3\n  val deferredResult = async(CommonPool){\n    seed * 2\n  }\n\n  seed = 4\n\n  runBlocking(CommonPool) {\n    val result = deferredResult.await()\n    println(\"Result is $result\")\n  }\n\n  println(\"end\")\n}\n</code></pre>\n\n<p>I was expecting it to behave like javascript and conserve the value of the <code>seed</code> variable (use a copy) at the time of defining the coroutine. But instead of printing <code>Result is 6</code>, it prints <code>Result is 8</code>.</p>\n\n<p>What can I do to ensure that the original value of the seed variable (which is 3) is used inside the async scope (instead of 4)?  </p>\n"}, {"tags": ["kotlin", "delegation"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1498389749, "post_id": 44745599, "comment_id": 76472510, "body": "Good question. I tested this a little bit and found that you can drop the <code>c</code> parameter in your last example and just write this: <code>class ABC(ab: AB = AB()) : A by ab, B by ab, C&lt;AB&gt; by CImpl&lt;AB&gt;(ab)</code>"}, {"owner": {"reputation": 973, "user_id": 3090664, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/d20971c47e2211a8c2e7ce4e1e752221?s=128&d=identicon&r=PG&f=1", "display_name": "mikesol", "link": "https://stackoverflow.com/users/3090664/mikesol"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1498389994, "post_id": 44745599, "comment_id": 76472582, "body": "Thanks for the suggestion! It&#39;s definitely a step in the right direction. It&#39;d still be nice to have the constructor 100% argument-free, as I pass around constructor functions a lot in factory methods and it is cleaner if they all have the same signature."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1498405851, "post_id": 44745599, "comment_id": 76476857, "body": "it seems to an anti-pattern/abusing about delegation here.  the code above try to delegates all of its neighbors. it lost the <b>encapsulation</b> benifit in oop. and I think this feature is never be published in kotlin since it will results in such a god class hard to use."}, {"owner": {"reputation": 973, "user_id": 3090664, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/d20971c47e2211a8c2e7ce4e1e752221?s=128&d=identicon&r=PG&f=1", "display_name": "mikesol", "link": "https://stackoverflow.com/users/3090664/mikesol"}, "edited": false, "score": 1, "creation_date": 1498407612, "post_id": 44745599, "comment_id": 76477367, "body": "I don&#39;t agree - imagine that there are delegated properties <code>firstName</code> and <code>lastName</code> and then we also wanted to delegate a function <code>namePrinter</code> that prints a formatted version of <code>firstName</code> and <code>lastName</code>.  <code>namePrinter</code> could belong to an implementation class that encapsulates all sorts of private functions but fulfills the <code>namePrinter</code> contract and thus can be used as a delegate. the god class anti-pattern would be piling a bunch of namePrinter-like functions into one class, but it seems like using delegation would actually help <i>avoid</i> such an anti-pattern."}], "answers": [{"tags": [], "owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "is_accepted": false, "score": 0, "last_activity_date": 1498403539, "creation_date": 1498403539, "answer_id": 44747696, "question_id": 44745599, "link": "https://stackoverflow.com/questions/44745599/kotlin-function-delegation/44747696#44747696", "title": "Kotlin: function delegation", "body": "<p>I don't think this is currently supported very well, but there's an <a href=\"https://youtrack.jetbrains.com/issue/KT-83\" rel=\"nofollow noreferrer\">issue</a> that tracks this and related feature requests. (See Peter Niederwieser's comment on the issue.)</p>\n"}, {"comments": [{"owner": {"reputation": 973, "user_id": 3090664, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/d20971c47e2211a8c2e7ce4e1e752221?s=128&d=identicon&r=PG&f=1", "display_name": "mikesol", "link": "https://stackoverflow.com/users/3090664/mikesol"}, "edited": false, "score": 2, "creation_date": 1498483922, "post_id": 44760734, "comment_id": 76502637, "body": "This is really good stuff! Especially the second option as it is more composition-friendly."}], "tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": false, "score": 5, "last_activity_date": 1498483979, "last_edit_date": 1498483979, "creation_date": 1498483198, "answer_id": 44760734, "question_id": 44745599, "link": "https://stackoverflow.com/questions/44745599/kotlin-function-delegation/44760734#44760734", "title": "Kotlin: function delegation", "body": "<p>You can make <code>C</code> extend <code>A</code> and <code>B</code> instead of passing to it a delegate. e.g.:</p>\n\n<pre><code>interface C : A, B {\n    fun c(): String\n}\n\nabstract class CImpl() : C {\n    abstract override val a: String\n    abstract override val b: String\n    override fun c(): String = a + b\n}\n\nclass ABC : A by AImpl(), B by BImpl(), CImpl()\n</code></pre>\n\n<p>You can also do this with a default implementation in <code>C</code> without a <code>CImpl</code>:</p>\n\n<pre><code>interface C : A, B {\n    fun c(): String = a + b\n}\n\nclass ABC : A by AImpl(), B by BImpl(), C\n</code></pre>\n"}], "owner": {"reputation": 973, "user_id": 3090664, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/d20971c47e2211a8c2e7ce4e1e752221?s=128&d=identicon&r=PG&f=1", "display_name": "mikesol", "link": "https://stackoverflow.com/users/3090664/mikesol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3435, "favorite_count": 2, "answer_count": 2, "score": 6, "last_activity_date": 1498483979, "creation_date": 1498387929, "question_id": 44745599, "link": "https://stackoverflow.com/questions/44745599/kotlin-function-delegation", "title": "Kotlin: function delegation", "body": "<p>I have a project that depends heavily on delegation and composition in Kotlin.  Delegating properties is a breeze, but conceptually I'm not completely sure how to achieve delegation for functions in circumstances where the functions depend on other composed properties.  I'd like to do something like this:</p>\n\n<pre><code>interface A {\n  val a: String\n}\nclass AImpl: A {\n  override val a = \"a\"\n}\ninterface B {\n  val b: String\n}\nclass BImpl: B {\n  override val b = \"b\"\n}\n\ninterface C&lt;T&gt; where T: A, T: B {\n  fun c() : String\n}\n\nclass CImpl&lt;T&gt;(val ab: T) : C&lt;T&gt; where T: A, T: B {\n  override fun c() = ab.a + ab.b\n}\n\n// works\nclass ABC : A by AImpl(), B by BImpl()\n\n// does not work\nclass ABC : A by AImpl(), B by BImpl(), C&lt;ABC&gt; by CImpl(this)\n</code></pre>\n\n<p>Of course, this type of thing would be achievable with the following:</p>\n\n<pre><code>interface A {\n  val a: String\n}\nclass AImpl: A {\n  override val a = \"a\"\n}\ninterface B {\n  val b: String\n}\nclass BImpl: B {\n  override val b = \"b\"\n}\n\ninterface C&lt;T&gt; where T: A, T: B {\n  fun c() : String\n}\n\nclass CImpl&lt;T&gt;(val ab: T) : C&lt;T&gt; where T: A, T: B {\n  override fun c() = ab.a + ab.b\n}\n\nclass AB : A by AImpl(), B by BImpl()\n\nclass ABC(ab: AB = AB(), c: C&lt;AB&gt; = CImpl&lt;AB&gt;(ab)) : A by ab, B by ab, C&lt;AB&gt; by c\n</code></pre>\n\n<p>but this feels clunky as it requires passing in objects for composition which bloats the size of the constructors - it would be cleaner for me to initialize the objects at the site of the class itself as they have no use outside of the class.  Is there an elegant way to this with delegation and/or extensions?</p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 188, "user_id": 1353576, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6388386f359378530e6e4908a3f0230c?s=128&d=identicon&r=PG", "display_name": "gopalanrc", "link": "https://stackoverflow.com/users/1353576/gopalanrc"}, "edited": false, "score": 0, "creation_date": 1599724679, "post_id": 44745533, "comment_id": 112863622, "body": "I use a library which has an extension function. I&#39;m not able access that extension function in java classes, meaning that the corresponding java class file is not created. But, I&#39;m able to access it in Kotlin classes."}], "tags": [], "owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "is_accepted": true, "score": 8, "last_activity_date": 1498387316, "creation_date": 1498387316, "answer_id": 44745533, "question_id": 44745478, "link": "https://stackoverflow.com/questions/44745478/unable-to-call-kotlin-extension-function-from-java/44745533#44745533", "title": "Unable to call kotlin extension function from java", "body": "<p>The problem is that the receiving instance is encoded as a parameter. So:</p>\n\n<pre><code>fun String.extractDigits(strValue: String): String {...}\n</code></pre>\n\n<p>Becomes (<code>javap</code> output):</p>\n\n<pre><code>public static final java.lang.String extractDigits(java.lang.String, java.lang.String);\n</code></pre>\n\n<p>But you're passing only a single argument to the function.</p>\n\n<p>I don't quite understand why you're using an extension function here, I'd expect to see the receiving instance used instead of passing a separate value:</p>\n\n<pre><code>fun String.extractDigits(): String {\n    val str = this.trim { it &lt;= ' ' } // Using `this`, i.e. the receiving instance\n    var digits = \"\"\n    var chrs: Char\n    for (i in 0..str.length - 1) {\n        chrs = str[i]\n        if (Character.isDigit(chrs)) {\n            digits += chrs\n        }\n    }\n    return digits\n}\n</code></pre>\n\n<p>Then, in Java, you can call it like you tried, and in Kotlin like this:</p>\n\n<pre><code>val str = \"123blah4\"\nprintln(str.extractDigits()) // prints 1234\n</code></pre>\n"}], "owner": {"reputation": 457, "user_id": 8182960, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1f2d11d0f72f8c9057b4462a6186e0c5?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8182960/rahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1275, "favorite_count": 0, "accepted_answer_id": 44745533, "answer_count": 1, "score": 3, "last_activity_date": 1498387316, "creation_date": 1498386870, "question_id": 44745478, "link": "https://stackoverflow.com/questions/44745478/unable-to-call-kotlin-extension-function-from-java", "title": "Unable to call kotlin extension function from java", "body": "<p>I know kotlin extention functions are compile as static function using fileName as class name with Kt suffix. Problem is my single String parameter function is asking for two String parameters when invoked from java code.</p>\n\n<p><em>Extention function is in <strong>KUtils</strong> file</em></p>\n\n<pre><code>fun String.extractDigits(strValue: String): String {\n    val str = strValue.trim { it &lt;= ' ' }\n    var digits = \"\"\n    var chrs: Char\n    for (i in 0..str.length - 1) {\n        chrs = str[i]\n        if (Character.isDigit(chrs)) {\n            digits += chrs\n        }\n    }\n    return digits\n}\n</code></pre>\n\n<p><em>Calling java code</em></p>\n\n<pre><code>KUtilsKt.extractDigits(\"99PI_12345.jpg\")\n</code></pre>\n\n<p><em>Compile Time Error Message :</em></p>\n\n<p>Error:(206, 42) error: method extractDigits in class KUtilsKt cannot be applied   to given types;<br>\nrequired: String,String<br>\nfound: String<br>\nreason: actual and formal argument lists differ in length</p>\n\n<p>Please Help<br>\nThanks</p>\n"}, {"tags": ["android", "service", "kotlin"], "comments": [{"owner": {"reputation": 2146, "user_id": 6383029, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f9d87da753c13f9e7fbb87d5e5055692?s=128&d=identicon&r=PG&f=1", "display_name": "Mustansir", "link": "https://stackoverflow.com/users/6383029/mustansir"}, "edited": false, "score": 0, "creation_date": 1498386751, "post_id": 44745430, "comment_id": 76471834, "body": "Maybe it&#39;s because you have empty <code>onHandleIntent</code>"}, {"owner": {"reputation": 2146, "user_id": 6383029, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/f9d87da753c13f9e7fbb87d5e5055692?s=128&d=identicon&r=PG&f=1", "display_name": "Mustansir", "link": "https://stackoverflow.com/users/6383029/mustansir"}, "edited": false, "score": 0, "creation_date": 1498386970, "post_id": 44745430, "comment_id": 76471882, "body": "Intent service stops itself when its work is completed on onHandleIntent()."}], "answers": [{"comments": [{"owner": {"reputation": 4197, "user_id": 7190575, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63b85f6a33e1b032dabc877b7ff4af50?s=128&d=identicon&r=PG&f=1", "display_name": "OhMad", "link": "https://stackoverflow.com/users/7190575/ohmad"}, "edited": false, "score": 0, "creation_date": 1498395652, "post_id": 44746159, "comment_id": 76474029, "body": "Thanks, Service is what I needed. I am trying to call the toast method every few seconds using Timer().schedule() before I return START_STICKY inside of onStartCommand(). But it just crashes  (I guess because of the infinite loop). But how can I achieve this effect?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 4197, "user_id": 7190575, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63b85f6a33e1b032dabc877b7ff4af50?s=128&d=identicon&r=PG&f=1", "display_name": "OhMad", "link": "https://stackoverflow.com/users/7190575/ohmad"}, "edited": false, "score": 0, "creation_date": 1498395827, "post_id": 44746159, "comment_id": 76474078, "body": "Logcat gives you the errors. You don&#39;t have to assume the reason for crashes."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 1, "last_activity_date": 1498392125, "last_edit_date": 1592644375, "creation_date": 1498392125, "answer_id": 44746159, "question_id": 44745430, "link": "https://stackoverflow.com/questions/44745430/run-service-in-the-background/44746159#44746159", "title": "Run Service in the background", "body": "<p>That's how <a href=\"https://developer.android.com/reference/android/app/IntentService.html\" rel=\"nofollow noreferrer\"><code>IntentService</code></a> works.</p>\n<blockquote>\n<p>IntentService is a base class for Services that handle asynchronous requests (expressed as Intents) on demand. [...]</p>\n<p>[...] IntentService will receive the Intents, launch a worker thread, and stop the service as appropriate.</p>\n<p>All requests are handled on a single worker thread -- they may take as long as necessary (and will not block the application's main loop), but only one request will be processed at a time.</p>\n</blockquote>\n<p>The service will be alive as long as there are tasks to process. After that the service will end and restart with the next task.</p>\n<p>If you want to have a <a href=\"https://developer.android.com/guide/components/services.html\" rel=\"nofollow noreferrer\">running service</a>, possibly even a <a href=\"https://developer.android.com/guide/components/bound-services.html\" rel=\"nofollow noreferrer\">bound service</a>, you have to subclass <code>Service</code> directly and take care of the threading</p>\n<blockquote>\n<p><strong>Caution:</strong> A service runs in the same process as the application in which it is declared and in the main thread of that application by default. If your service performs intensive or blocking operations while the user interacts with an activity from the same application, the service slows down activity performance. To avoid impacting application performance, start a new thread inside the service.</p>\n</blockquote>\n<p>and the life-time</p>\n<blockquote>\n<p><strong>Caution:</strong> To avoid wasting system resources and consuming battery power, ensure that your application stops its services when it's done working. If necessary, other components can stop the service by calling <code>stopService()</code>. Even if you enable binding for the service, you must always stop the service yourself if it ever receives a call to <code>onStartCommand()</code>.</p>\n</blockquote>\n"}], "owner": {"reputation": 4197, "user_id": 7190575, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63b85f6a33e1b032dabc877b7ff4af50?s=128&d=identicon&r=PG&f=1", "display_name": "OhMad", "link": "https://stackoverflow.com/users/7190575/ohmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 915, "favorite_count": 0, "accepted_answer_id": 44746159, "answer_count": 1, "score": 0, "last_activity_date": 1498392125, "creation_date": 1498386377, "last_edit_date": 1498386586, "question_id": 44745430, "link": "https://stackoverflow.com/questions/44745430/run-service-in-the-background", "title": "Run Service in the background", "body": "<p>I am very new to Android Development and I don't really get how IntentServices work. This is what I have so far:</p>\n\n<pre><code>class TimerActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_timer)\n\n        findViewById(R.id.startBtn).setOnClickListener {\n            startService(Intent(this@TimerActivity, TimerService::class.java))\n        }\n\n        findViewById(R.id.stopBtn).setOnClickListener {\n            stopService(Intent(this@TimerActivity, TimerService::class.java))\n        }\n    }\n}\n\nclass TimerService : IntentService(\"TimerService\") {\n\n    override fun onCreate(){\n        super.onCreate()\n        toast(\"Started activity\")\n    }\n\n    override fun onDestroy(){\n        super.onDestroy()\n        toast(\"Stopped activity\")\n    }\n\n    override fun onHandleIntent(intent: Intent?) {\n\n    }\n}\n</code></pre>\n\n<p>I am trying to start an activity in the background on the click of a button, and stop it on the click of the other one. But why does onDestroy() get triggered right after onCreate(), without me clicking on the stop button?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "webview", "android-webview", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1186, "user_id": 4603242, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh4.googleusercontent.com/-je_p7yIUpG0/AAAAAAAAAAI/AAAAAAAAAI8/cL6FgnKgLeQ/photo.jpg?sz=128", "display_name": "alvarlagerlof", "link": "https://stackoverflow.com/users/4603242/alvarlagerlof"}, "edited": false, "score": 0, "creation_date": 1498986987, "post_id": 44868454, "comment_id": 76717294, "body": "That wont&#39;t work for me. I don&#39;t want to save files with code. I want to load text."}, {"owner": {"reputation": 1204, "user_id": 6838936, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uJht5.gif?s=128&g=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/6838936/steven"}, "reply_to_user": {"reputation": 1186, "user_id": 4603242, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh4.googleusercontent.com/-je_p7yIUpG0/AAAAAAAAAAI/AAAAAAAAAI8/cL6FgnKgLeQ/photo.jpg?sz=128", "display_name": "alvarlagerlof", "link": "https://stackoverflow.com/users/4603242/alvarlagerlof"}, "edited": false, "score": 0, "creation_date": 1498988681, "post_id": 44868454, "comment_id": 76717661, "body": "Yes but where is the text saved?"}, {"owner": {"reputation": 1186, "user_id": 4603242, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh4.googleusercontent.com/-je_p7yIUpG0/AAAAAAAAAAI/AAAAAAAAAI8/cL6FgnKgLeQ/photo.jpg?sz=128", "display_name": "alvarlagerlof", "link": "https://stackoverflow.com/users/4603242/alvarlagerlof"}, "edited": false, "score": 0, "creation_date": 1498988832, "post_id": 44868454, "comment_id": 76717691, "body": "It is not saved at all. It is a String and it absolutely have to stay a String"}, {"owner": {"reputation": 1204, "user_id": 6838936, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uJht5.gif?s=128&g=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/6838936/steven"}, "reply_to_user": {"reputation": 1186, "user_id": 4603242, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh4.googleusercontent.com/-je_p7yIUpG0/AAAAAAAAAAI/AAAAAAAAAI8/cL6FgnKgLeQ/photo.jpg?sz=128", "display_name": "alvarlagerlof", "link": "https://stackoverflow.com/users/4603242/alvarlagerlof"}, "edited": false, "score": 0, "creation_date": 1498993374, "post_id": 44868454, "comment_id": 76718870, "body": "So you want to insert that string in html page?"}], "tags": [], "owner": {"reputation": 1204, "user_id": 6838936, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uJht5.gif?s=128&g=1", "display_name": "Steven", "link": "https://stackoverflow.com/users/6838936/steven"}, "is_accepted": false, "score": 0, "last_activity_date": 1498980671, "creation_date": 1498980671, "answer_id": 44868454, "question_id": 44745167, "link": "https://stackoverflow.com/questions/44745167/window-reload-in-webview/44868454#44868454", "title": "window.reload in Webview", "body": "<p>Yes I had the same problem sometimes this won't work:</p>\n\n<pre><code>window.open('[YOUR_HTML_PAGE]'); \n</code></pre>\n\n<p>by example</p>\n\n<pre><code>window.open('index.html');\n</code></pre>\n\n<p>So I use this and this should normally work.</p>\n\n<pre><code>window.open('[YOUR_HTML_PAGE]', '_self', false);\n</code></pre>\n\n<p>by example</p>\n\n<pre><code>window.open('index.html', '_self', false);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 4819566, "user_type": "registered", "profile_image": "https://graph.facebook.com/699597863517802/picture?type=large", "display_name": "Rony Silva", "link": "https://stackoverflow.com/users/4819566/rony-silva"}, "is_accepted": false, "score": 0, "last_activity_date": 1524836527, "creation_date": 1524836527, "answer_id": 50063716, "question_id": 44745167, "link": "https://stackoverflow.com/questions/44745167/window-reload-in-webview/50063716#50063716", "title": "window.reload in Webview", "body": "<p>Try window.location.href=page to access. In my case, running fine!</p>\n"}], "owner": {"reputation": 1186, "user_id": 4603242, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh4.googleusercontent.com/-je_p7yIUpG0/AAAAAAAAAAI/AAAAAAAAAI8/cL6FgnKgLeQ/photo.jpg?sz=128", "display_name": "alvarlagerlof", "link": "https://stackoverflow.com/users/4603242/alvarlagerlof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 679, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1524836527, "creation_date": 1498384399, "last_edit_date": 1498470705, "question_id": 44745167, "link": "https://stackoverflow.com/questions/44745167/window-reload-in-webview", "title": "window.reload in Webview", "body": "<p>I'm trying to get location.reload() to work in a webView. But I can not load it with a url. I have to load it like this:</p>\n\n<pre><code>web_view.loadData(filterString(editor.cleanText), \"text/html\", \"UTF-8\")\n</code></pre>\n\n<p>But then the js code dosn't seeem to be able to relaod the webView. filterString removes comments because it says <code>Unexpected end of input</code>\" otherwise</p>\n\n<p>How do I make this work?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1870, "user_id": 4837112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/da93bd05b13630b7642656d7dd34918f?s=128&d=identicon&r=PG&f=1", "display_name": "danielspaniol", "link": "https://stackoverflow.com/users/4837112/danielspaniol"}, "edited": false, "score": 4, "creation_date": 1498374916, "post_id": 44744077, "comment_id": 76469175, "body": "In kotlin you use &#39;or&#39;"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 5, "last_activity_date": 1498375319, "creation_date": 1498375319, "answer_id": 44744143, "question_id": 44744077, "link": "https://stackoverflow.com/questions/44744077/kotlin-getpendingintent-with-multiple-flags-syntax/44744143#44744143", "title": "Kotlin - getPendingIntent with multiple flags syntax", "body": "<p>You can find the available bitwise operations in the official docs <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#operations\" rel=\"noreferrer\">here</a>. These are all infix functions that are spelled out in Kotlin instead of using special symbols. </p>\n\n<p>In your case, you can do the following:</p>\n\n<pre><code>stackBuilder.getPendingIntent(0, PendingIntent.FLAG_ONE_SHOT or Intent.FLAG_ACTIVITY_NEW_TASK);\n</code></pre>\n"}], "owner": {"reputation": 11400, "user_id": 3166417, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/i3rUx.jpg?s=128&g=1", "display_name": "itzhar", "link": "https://stackoverflow.com/users/3166417/itzhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 460, "favorite_count": 0, "closed_date": 1498417721, "answer_count": 1, "score": 2, "last_activity_date": 1498375319, "creation_date": 1498374673, "question_id": 44744077, "link": "https://stackoverflow.com/questions/44744077/kotlin-getpendingintent-with-multiple-flags-syntax", "closed_reason": "Duplicate", "title": "Kotlin - getPendingIntent with multiple flags syntax", "body": "<p>I'm trying to notify simple notification as in Java code</p>\n\n<p>what is the syntax for this line in kotlin?</p>\n\n<pre><code>stackBuilder.getPendingIntent(0, PendingIntent.FLAG_ONE_SHOT | Intent.FLAG_ACTIVITY_NEW_TASK);\n</code></pre>\n\n<p>in kotlin, I can't use <strong>'|'</strong> for 2 flags, only like this:</p>\n\n<pre><code>stackBuilder.getPendingIntent(0,PendingIntent.FLAG_ONE_SHOT)\n</code></pre>\n"}, {"tags": ["annotations", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 2, "creation_date": 1498374756, "post_id": 44744049, "comment_id": 76469151, "body": "I guess I&#39;ve realized that at least for now it isn&#39;t possible through directly assigning visibility, but I&#39;m still hoping that there is a shorter way to write the annotation above. Users can still access the getter but it won&#39;t compile, which seems good enough for me."}, {"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "edited": false, "score": 0, "creation_date": 1498409773, "post_id": 44744049, "comment_id": 76477960, "body": "Thank you @holi-java. I guess the plugin is the only way to go. I should also mention that I&#39;m building for Android, so there may be better annotations than compile-time errors. If I ever accomplish it I will post it here."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 1, "last_activity_date": 1498376443, "last_edit_date": 1498376443, "creation_date": 1498374405, "answer_id": 44744049, "question_id": 44743907, "link": "https://stackoverflow.com/questions/44743907/annotate-getter-from-the-property/44744049#44744049", "title": "Annotate getter from the property", "body": "<p>I can tell you that there is no way to complete this feature in kotlin now. since the bug <a href=\"https://youtrack.jetbrains.com/issue/KT-3110\" rel=\"nofollow noreferrer\">KT-3110</a> is not marked as <code>Fixed</code>.</p>\n\n<p>I have test the following java code in kotlin at below, it only can access setter via <code>setText</code>:</p>\n\n<pre><code>public class Property {\n   public void setText(String text) {/**/}\n   private String getText() { return \"foo\"; }\n}\n</code></pre>\n\n<p>which means you can't remove the getter/make the getter's visibility down. so it is impossible to get rid of the <code>getter</code> like as <code>kotlin-allopen</code> plugin. so one possible solution you can do is write your own kapt plugin to throws a compile-time error, for example:</p>\n\n<pre><code>@SetOnly var text:String = \"foo\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 331, "user_id": 5327647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c841eac9e9fe9872e849ec9b170bbfbd?s=128&d=identicon&r=PG&f=1", "display_name": "shusheng007", "link": "https://stackoverflow.com/users/5327647/shusheng007"}, "is_accepted": false, "score": 0, "last_activity_date": 1590243539, "creation_date": 1590243539, "answer_id": 61973398, "question_id": 44743907, "link": "https://stackoverflow.com/questions/44743907/annotate-getter-from-the-property/61973398#61973398", "title": "Annotate getter from the property", "body": "<p>If you don't want this property to be used externally, why dont you declare it as </p>\n\n<pre><code>private var text :String =\"\"\n</code></pre>\n"}], "owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 1, "accepted_answer_id": 44744049, "answer_count": 2, "score": 4, "last_activity_date": 1590243539, "creation_date": 1498373101, "question_id": 44743907, "link": "https://stackoverflow.com/questions/44743907/annotate-getter-from-the-property", "title": "Annotate getter from the property", "body": "<p>In kotlin, we can define </p>\n\n<pre><code>var text: String\n</code></pre>\n\n<p>which will have a getter and a setter. It's easy to remove the setter by changing it to <code>val</code>, but what if we have a property that should only have the setter and no getter? Is there any way to create an annotation that we can apply to <code>text</code> that will deprecate the getter so others cannot use it?</p>\n\n<p>The end goal is to be able to use the property syntax rather than call <code>setText</code></p>\n\n<p>Current workaround I am aware of that achieves a similar result:</p>\n\n<pre><code>var text: String\n    @Deprecated(level = DeprecationLevel.ERROR, message = \"Non readable property\")\n    get() = nonReadable()\n    set() ...\n</code></pre>\n\n<p>I would like to know if it's possible to define something similar to</p>\n\n<pre><code>@SetterOnly\nvar text: String\n    set() ...\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 3, "last_activity_date": 1498371056, "last_edit_date": 1498371056, "creation_date": 1498369756, "answer_id": 44743592, "question_id": 44743511, "link": "https://stackoverflow.com/questions/44743511/kotlin-funtional-type-mismatch/44743592#44743592", "title": "Kotlin: Funtional Type mismatch", "body": "<p>you can't assign <code>ConsisFilter_Click</code> to the variable <code>ConsisFilterClickEvent</code> since its implicit type is <code>(String, Boolean) -&gt; Any</code> rather than <code>(String, Boolean) -&gt; Unit</code>. due to the return type of the <strong>catch-block</strong> is <code>Unit</code> but the return type of the last statement of the <strong>try-block</strong> is not <code>Unit</code> , that will makes the lambda's return type to <code>Any</code> if you don't using an explicit type variable.</p>\n\n<p>you must define the type of the variable <code>ConsisFilter_Click</code> explicitly as below:</p>\n\n<pre><code>val ConsisFilter_Click: (filterText: String, isStrictSearch: Boolean) -&gt; Unit  = {\n    filterText: String, isStrictSearch: Boolean -&gt;\n\n    try {\n        //My Codes\n    }\n    catch (e: Exception) {\n        try {\n            alert{}.show()\n        }catch (ignored: Exception) {}\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 5, "last_activity_date": 1498373955, "creation_date": 1498373955, "answer_id": 44744008, "question_id": 44743511, "link": "https://stackoverflow.com/questions/44743511/kotlin-funtional-type-mismatch/44744008#44744008", "title": "Kotlin: Funtional Type mismatch", "body": "<p>When using a lambda in Kotlin, if the inferred return type is not <code>Unit</code>, <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#lambda-expression-syntax\" rel=\"noreferrer\">the last expression in it is returned</a>. In your case, this is the try-catch statement, which also works <a href=\"https://kotlinlang.org/docs/reference/exceptions.html#try-is-an-expression\" rel=\"noreferrer\">as an expression</a> in Kotlin.</p>\n\n<p>If you want to force your lambda's return type to be <code>Unit</code>, you can either write down its type explicitly as stated in the other answer, or you can directly assign it to <code>ConsisFilterClickEvent</code> instead of storing it in another variable first - in both of these cases, the compiler will figure out that you don't want to return your last expression, and just want to use try-catch as a statement.</p>\n\n<p>Another thing you can do is to explicitly return the <code>Unit</code> object at the end of your lambda:</p>\n\n<pre><code>private val ConsisFilter_Click = { filterText: String, isStrictSearch: Boolean -&gt;\n    try {\n        ...\n    }\n    catch (e: Exception) {\n        ...\n    }\n    Unit\n}\n</code></pre>\n"}], "owner": {"reputation": 457, "user_id": 8182960, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1f2d11d0f72f8c9057b4462a6186e0c5?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8182960/rahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4293, "favorite_count": 0, "accepted_answer_id": 44743592, "answer_count": 2, "score": 3, "last_activity_date": 1597785448, "creation_date": 1498368880, "last_edit_date": 1498370573, "question_id": 44743511, "link": "https://stackoverflow.com/questions/44743511/kotlin-funtional-type-mismatch", "title": "Kotlin: Funtional Type mismatch", "body": "<p>I'm getting below error while compiling:</p>\n\n<p><strong>Type mismatch: inferred type is (String, Boolean) -> Any but ((String, Boolean) -> Unit)?  was expected</strong></p>\n\n<p><em>My Type Declaration is</em></p>\n\n<pre><code>private val ConsisFilter_Click = { filterText: String, isStrictSearch: Boolean -&gt;\n\n    try {\n        //My Codes\n    }\n    catch (e: Exception) {\n        try {\n            alert{}.show()\n        }catch (ignored: Exception) {}\n    }\n}\n\n\n\nvar ConsisFilterClickEvent:((filterText: String, isStrictSearch: Boolean) -&gt; Unit)? = null \n</code></pre>\n\n<p><em>assigninkg like this</em></p>\n\n<pre><code>inputDialog!!.ConsisFilterClickEvent = ConsisFilter_Click\n</code></pre>\n\n<p>I'm following same pattern elsewhere but not getting any error. Only this particular piece is giving problem. Am I doing something wrong. Please help me.</p>\n\n<p><strong>NOTE:</strong> If I put all codes of <code>ConsisFilter_Click</code> (code of try catch block) into a separate function and simply call that function from <code>ConsisFilter_Click</code> then every this works well</p>\n\n<p>Thanks</p>\n"}, {"tags": ["kotlin", "number-literal"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 2, "creation_date": 1498367581, "post_id": 44743364, "comment_id": 76467823, "body": "And <code>-9223372036854775807L</code> is accepted, interesting... Btw, it would be helpful if the exact message was provided."}], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 4, "last_activity_date": 1498367620, "creation_date": 1498367620, "answer_id": 44743404, "question_id": 44743364, "link": "https://stackoverflow.com/questions/44743364/why-the-literal-9223372036854775808-min-64-bit-signed-integer-is-not-accept/44743404#44743404", "title": "Why the literal &quot;-9223372036854775808&quot; (min 64 bit signed integer) is not accepted by kotlin?", "body": "<p>this is marked as a bug in kotlin <a href=\"https://youtrack.jetbrains.com/issue/KT-17172\" rel=\"nofollow noreferrer\">KT-17172</a>. </p>\n\n<p>as you can see the stdlib using the code as below:</p>\n\n<pre><code>public const val MIN_VALUE: Long = -9223372036854775807L - 1L\n</code></pre>\n\n<p>are you remember unary operator <code>-</code> in kotlin? if you divide the <code>MIN_VALUE</code> into special parts you may see it clearly. for example:</p>\n\n<pre><code>val x: Long = -(9223372036854775808L);\n//              ^--- the value overflow since the MAX_VALUE is 9223372036854775807L\n</code></pre>\n"}], "owner": {"reputation": 15296, "user_id": 813080, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0XGPw.jpg?s=128&g=1", "display_name": "damphat", "link": "https://stackoverflow.com/users/813080/damphat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 524, "favorite_count": 0, "accepted_answer_id": 44743404, "answer_count": 1, "score": 2, "last_activity_date": 1498367620, "creation_date": 1498367077, "question_id": 44743364, "link": "https://stackoverflow.com/questions/44743364/why-the-literal-9223372036854775808-min-64-bit-signed-integer-is-not-accept", "title": "Why the literal &quot;-9223372036854775808&quot; (min 64 bit signed integer) is not accepted by kotlin?", "body": "<p>I'm trying to write a fast json parser for JVM in kotlin.</p>\n\n<p>And I found this issue, I'm not sure this is a bug or any good reason behind this.</p>\n\n<pre><code>val x: Long = -9223372036854775808L  // compile error\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 18271, "user_id": 6507689, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tKmXs.png?s=128&g=1", "display_name": "R. Zag&#243;rski", "link": "https://stackoverflow.com/users/6507689/r-zag%c3%b3rski"}, "is_accepted": false, "score": 0, "last_activity_date": 1498370610, "creation_date": 1498370610, "answer_id": 44743663, "question_id": 44743195, "link": "https://stackoverflow.com/questions/44743195/rxjava-1-x-zip-not-working-on-rxjava-2-0/44743663#44743663", "title": "RxJava 1.x .zip() not working on RxJava 2.0", "body": "<p>I don't know what error compiler produces but very probably your function should return <code>Observable&lt;List&lt;Movie&gt;&gt;</code>, <code>zip</code>'s <code>BiFunction</code> requires passing types explicitly and should not have single <code>movie</code> at the end. And of course <code>.toList()</code> at the end.</p>\n\n<p>Full code:</p>\n\n<pre><code>fun loadMoviesFull(): Observable&lt;List&lt;Movie&gt;&gt; {\n    return service.listMovies()\n            .flatMap { filmResults -&gt; Observable.from(filmResults.results) }\n            .flatMap { film -&gt;\n                Observable.zip(\n                        Observable.just(Movie(film.title, film.episodeId, ArrayList&lt;Character&gt;())),\n                        Observable.from(film.personUrls)\n                                .flatMap { personUrl -&gt;\n                                    service.loadPerson(Uri.parse(personUrl).lastPathSegment)\n                                }\n                                .map { person -&gt;\n                                    Character(person!!.name, person.gender)\n                                }\n                                .toList(),\n                        BiFunction&lt;Movie, Character, Movie&gt;{ movie, characters -&gt;\n                            movie.characters.addAll(characters)\n                        })\n            }.toList()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "is_accepted": false, "score": 0, "last_activity_date": 1498500138, "creation_date": 1498500138, "answer_id": 44765847, "question_id": 44743195, "link": "https://stackoverflow.com/questions/44743195/rxjava-1-x-zip-not-working-on-rxjava-2-0/44765847#44765847", "title": "RxJava 1.x .zip() not working on RxJava 2.0", "body": "<p>It won't let me add a comment due to insufficient reputation, hence posting as an answer. Are you using <a href=\"https://github.com/ReactiveX/RxKotlin\" rel=\"nofollow noreferrer\">rxkotlin</a>? There are a number of helper functions, including <code>Observable.zip()</code> that help with the SAM ambiguity issues when using Rx2. Without knowing what your error is, that's the best advice I can give.</p>\n"}], "owner": {"reputation": 1, "user_id": 5991974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd82a6830bde1fe907b75a7ff634ba28?s=128&d=identicon&r=PG", "display_name": "Railson Santos", "link": "https://stackoverflow.com/users/5991974/railson-santos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 156, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1498500138, "creation_date": 1498364882, "last_edit_date": 1498384496, "question_id": 44743195, "link": "https://stackoverflow.com/questions/44743195/rxjava-1-x-zip-not-working-on-rxjava-2-0", "title": "RxJava 1.x .zip() not working on RxJava 2.0", "body": "<p>i'm trying to learn chain requests with RxJava + Retrofit + Kotlin.\nThe tutorial i was follwing was using RxJava 1.x, so when i try to re-implement with RxJava 2.x the i cannot get <strong>.zip()</strong> to work.</p>\n\n<p>It's a simple app using Star Wars API, returning a list of movies, ando for each movie, get the characters from them.</p>\n\n<pre><code>fun loadMoviesFull(): Observable&lt;Movie&gt; {\n    return service.listMovies()\n            .flatMap { filmResults -&gt; Observable.from(filmResults.results) }\n            .flatMap { film -&gt;\n                Observable.zip(\n                        Observable.just(Movie(film.title, film.episodeId, ArrayList&lt;Character&gt;())),\n                        Observable.from(film.personUrls)\n                                .flatMap { personUrl -&gt;\n                                    service.loadPerson(Uri.parse(personUrl).lastPathSegment)\n                                }\n                                .map { person -&gt;\n                                    Character(person!!.name, person.gender)\n                                }\n                                .toList(),\n                        { movie, characters -&gt;\n                            movie.characters.addAll(characters)\n                            movie\n                        })\n            }\n}\n</code></pre>\n\n<p>If you want to see the whole implementation of the tutorial, this is the link(The comments are in portuguese):\n<a href=\"http://www.nglauber.com.br/2017/03/rxjava-kotlin-retrofit-star-wars-api.html\" rel=\"nofollow noreferrer\">http://www.nglauber.com.br/2017/03/rxjava-kotlin-retrofit-star-wars-api.html</a></p>\n\n<p>I just want to know the syntax for ir, because i cannot implement on 2.x.</p>\n\n<p>Thank you so much and i'm sorry for my bad english.</p>\n"}, {"tags": ["windows", "winapi", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 7366547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d58f2d4382ddfaa19e4844d3a0519849?s=128&d=identicon&r=PG&f=1", "display_name": "alan1995wang", "link": "https://stackoverflow.com/users/7366547/alan1995wang"}, "is_accepted": false, "score": 1, "last_activity_date": 1500524910, "creation_date": 1500524910, "answer_id": 45205190, "question_id": 44742983, "link": "https://stackoverflow.com/questions/44742983/how-to-run-the-kotlin-native-win32-sample/45205190#45205190", "title": "How to run the Kotlin/Native win32 sample", "body": "<p>It can be easily solved by canceled the comments \"rem call ...\" in \"build.bat\"</p>\n"}], "owner": {"reputation": 1979, "user_id": 75947, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/aff4ec9b36ebc39d676506889dbf4135?s=128&d=identicon&r=PG", "display_name": "Felix", "link": "https://stackoverflow.com/users/75947/felix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 880, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1500524910, "creation_date": 1498361992, "last_edit_date": 1498363019, "question_id": 44742983, "link": "https://stackoverflow.com/questions/44742983/how-to-run-the-kotlin-native-win32-sample", "title": "How to run the Kotlin/Native win32 sample", "body": "<p>I'm trying to run Kotlin/Native v0.3 win32 sample by following the blog at <a href=\"https://blog.jetbrains.com/kotlin/2017/06/kotlinnative-v0-3-is-out/\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/kotlin/2017/06/kotlinnative-v0-3-is-out/</a></p>\n\n<ol>\n<li><p>I downloaded the x86-64 Windows zip file as instructed at the end of the blog.</p></li>\n<li><p>I run <code>kotlin-native-windows-0.3\\samples&gt;gradlew.bat</code> and it\ndownloaded something and said 'BUILD SUCCESSFUL'. (I'm not sure if\nthis step is necessary)</p>\n\n<p>2.1 But If I run <code>kotlin-native-windows-0.3\\samples&gt;gradlew build</code> \nin this folder, I got some failures:</p>\n\n<p>C:\\Users\\OO\\Documents\\kotlin-native-windows-0.3\\samples>gradlew build\n:concurrent:assemble UP-TO-DATE\n:concurrent:check UP-TO-DATE\n:concurrent:downloadKonanCompiler\n:concurrent:genMessageChannelInteropStubs UP-TO-DATE\n:concurrent:compileCpp FAILED</p>\n\n<p>FAILURE: Build failed with an exception.</p>\n\n<ul>\n<li><p>What went wrong:\nExecution failed for task ':concurrent:compileCpp'.</p>\n\n<blockquote>\n  <p>A problem occurred starting process 'command './buildCpp.sh''</p>\n</blockquote></li>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.</p></li>\n</ul>\n\n<p>BUILD FAILED</p></li>\n<li><p>Then I run <code>kotlin-native-windows-0.3\\samples\\win32&gt;build.bat</code> and I\ngot another error.</p></li>\n</ol>\n\n<p><code>\nC:\\Users\\OO\\Documents\\kotlin-native-windows-0.3\\samples\\win32&gt;build.bat\nexception: java.lang.IllegalStateException: Could not find \"win32\" in [C:\\Users\\OO\\Documents\\kotlin-native-windows-0.3\\samples\\win32, C:\\Users\\OO\\.konan\\klib, C:\\Users\\OO\\DOCUME~1\\KOTLIN~1.3\\bin\\..\\klib].\n        at org.jetbrains.kotlin.backend.konan.library.KonanLibrarySearchPathResolver.resolve(SearchPathResolver.kt:71)\n        at org.jetbrains.kotlin.backend.konan.KonanConfig$librariesFound$2.invoke(KonanConfig.kt:70)\n        at org.jetbrains.kotlin.backend.konan.KonanConfig$librariesFound$2.invoke(KonanConfig.kt:34)\n        at kotlin.SynchronizedLazyImpl.getValue(Lazy.kt:130)\n        at org.jetbrains.kotlin.backend.konan.KonanConfig.getLibrariesFound(KonanConfig.kt)\n        at org.jetbrains.kotlin.backend.konan.KonanConfig.access$getLibrariesFound$p(KonanConfig.kt:34)\n        at org.jetbrains.kotlin.backend.konan.KonanConfig$libraries$2.invoke(KonanConfig.kt:77)\n        at org.jetbrains.kotlin.backend.konan.KonanConfig$libraries$2.invoke(KonanConfig.kt:34)\n        at kotlin.SynchronizedLazyImpl.getValue(Lazy.kt:130)\n        at org.jetbrains.kotlin.backend.konan.KonanConfig.getLibraries$backend_native_compiler(KonanConfig.kt)\n        at org.jetbrains.kotlin.backend.konan.KonanConfig.loadLibMetadata(KonanConfig.kt:90)\n        at org.jetbrains.kotlin.backend.konan.KonanConfig.&lt;init&gt;(KonanConfig.kt:80)\n        at org.jetbrains.kotlin.cli.bc.K2Native.doExecute(K2Native.kt:66)\n        at org.jetbrains.kotlin.cli.bc.K2Native.doExecute(K2Native.kt:56)\n        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:93)\n        at org.jetbrains.kotlin.cli.common.CLICompiler.execImpl(CLICompiler.java:46)\n        at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:90)\n        at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:68)\n        at org.jetbrains.kotlin.cli.common.CLITool.exec(CLITool.kt:34)\n        at org.jetbrains.kotlin.cli.common.CLITool$Companion.doMainNoExit(CLITool.kt:160)\n        at org.jetbrains.kotlin.cli.common.CLITool$Companion.doMain(CLITool.kt:151)\n        at org.jetbrains.kotlin.cli.bc.K2Native$Companion$main$1.invoke(K2Native.kt:169)\n        at org.jetbrains.kotlin.cli.bc.K2Native$Companion$main$1.invoke(K2Native.kt:166)\n        at org.jetbrains.kotlin.backend.konan.util.UtilKt.profileIf(util.kt:33)\n        at org.jetbrains.kotlin.backend.konan.util.UtilKt.profile(util.kt:28)\n        at org.jetbrains.kotlin.cli.bc.K2Native$Companion.main(K2Native.kt:168)\n        at org.jetbrains.kotlin.cli.bc.K2NativeKt.main(K2Native.kt:174)\n        at org.jetbrains.kotlin.cli.utilities.MainKt.main(main.kt:46)\n</code></p>\n\n<p>I'm very new to Kotlin or Gradle world, I don't know if this is the way to compile the samples.</p>\n\n<p>What additional packages should I install?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1849, "user_id": 7679573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czZkd.jpg?s=128&g=1", "display_name": "A. Shevchuk", "link": "https://stackoverflow.com/users/7679573/a-shevchuk"}, "is_accepted": false, "score": 1, "last_activity_date": 1498342045, "creation_date": 1498342045, "answer_id": 44741377, "question_id": 44740473, "link": "https://stackoverflow.com/questions/44740473/kotlin-type-of-exoplayer-doesnt-match-the-type-of-the-overridden-var-propert/44741377#44741377", "title": "Kotlin: Type of &#39;exoPlayer&#39; doesn&#39;t match the type of the overridden var-property &#39;public abstract var exoPlayer: ExoPlayer? defined in", "body": "<p>You need to declare your exoPlayer variable as val in interface and everything would be ok.</p>\n\n<pre><code>interface Playback {\n    val exoPlayer: ExoPlayer?\n    //... other stuff...\n    }\n</code></pre>\n\n<p>I made an example to test:</p>\n\n<pre><code>    interface Playback {\n        val exoPlayer: ExoPlayer\n    }\n\n    class LocalPlayback(override var exoPlayer: SimpleExoPlayer) : Playback \n\n    open class ExoPlayer\n    class SimpleExoPlayer : ExoPlayer()\n</code></pre>\n\n<p>It compiles well. Maybe someone else could help us with explanation.</p>\n"}, {"tags": [], "owner": {"reputation": 480, "user_id": 1048373, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/806036990cad14edd9fbe70eaf41c0ba?s=128&d=identicon&r=PG", "display_name": "Eric Pabst", "link": "https://stackoverflow.com/users/1048373/eric-pabst"}, "is_accepted": false, "score": 1, "last_activity_date": 1539406814, "creation_date": 1539406814, "answer_id": 52789688, "question_id": 44740473, "link": "https://stackoverflow.com/questions/44740473/kotlin-type-of-exoplayer-doesnt-match-the-type-of-the-overridden-var-propert/52789688#52789688", "title": "Kotlin: Type of &#39;exoPlayer&#39; doesn&#39;t match the type of the overridden var-property &#39;public abstract var exoPlayer: ExoPlayer? defined in", "body": "<p>A var allows both getting and setting of a value.  Overriding a var with a var of a more specific type is not possible in a type-safe way because using the super-type, they could set the value to a more general type, and then when someone uses the overridden var, it would be of the wrong type.  By changing the super-type to have a val, it prevents being able to set it to a general type, which eliminates the issue.</p>\n"}], "owner": {"reputation": 4449, "user_id": 1815311, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yKNzM.jpg?s=128&g=1", "display_name": "Lisa Anne", "link": "https://stackoverflow.com/users/1815311/lisa-anne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 255, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1539406814, "creation_date": 1498334451, "question_id": 44740473, "link": "https://stackoverflow.com/questions/44740473/kotlin-type-of-exoplayer-doesnt-match-the-type-of-the-overridden-var-propert", "title": "Kotlin: Type of &#39;exoPlayer&#39; doesn&#39;t match the type of the overridden var-property &#39;public abstract var exoPlayer: ExoPlayer? defined in", "body": "<p>I am not sure I understand what is going on here.\nPlease could someone explain?</p>\n\n<hr>\n\n<p>I get the following error:\n <code>Type of 'exoPlayer' doesn't match the type of the overridden var-property 'public abstract var exoPlayer: ExoPlayer? defined in...</code></p>\n\n<p>when I compile:</p>\n\n<pre><code>class LocalPlayback(context: Context, override var exoPlayer: SimpleExoPlayer?) : Playback {\n    private val context: Context\n    //... other stuff...\n    }\n</code></pre>\n\n<p>where LocalPlayback extends Playback:</p>\n\n<pre><code>interface Playback {\n    var exoPlayer: ExoPlayer?\n    //... other stuff...\n    }\n</code></pre>\n\n<hr>\n\n<p><code>SimpleExoPlayer</code> implements the <code>ExoPlayer</code> interface.</p>\n"}, {"tags": ["kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 2715, "user_id": 2272445, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d8fed0b827e41acbb8e9028cfc91b65e?s=128&d=identicon&r=PG&f=1", "display_name": "shan", "link": "https://stackoverflow.com/users/2272445/shan"}, "edited": false, "score": 0, "creation_date": 1498343936, "post_id": 44740504, "comment_id": 76464385, "body": "Ah, thank you! Did not realise I couldn&#39;t use parameters in my Views."}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 2715, "user_id": 2272445, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d8fed0b827e41acbb8e9028cfc91b65e?s=128&d=identicon&r=PG&f=1", "display_name": "shan", "link": "https://stackoverflow.com/users/2272445/shan"}, "edited": false, "score": 0, "creation_date": 1498376927, "post_id": 44740504, "comment_id": 76469542, "body": "You can use parameters or scoped objects like ViewModel to send information between views, check out the guide for more information:)"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 3, "last_activity_date": 1498334678, "creation_date": 1498334678, "answer_id": 44740504, "question_id": 44740385, "link": "https://stackoverflow.com/questions/44740385/java-lang-nosuchmethodexception-when-trying-to-run-tornadofx-application/44740504#44740504", "title": "java.lang.NoSuchMethodException when trying to run TornadoFX Application", "body": "<p>Views must have a no args constructor, so that they can be instantiated by the framework. In your app subclass (<code>UserInputUI</code>) you actually instantiate <code>InputView</code> youtrself and then call <code>::class</code> to get the KClass of it. You're only supposed to pass it the KClass directly, so you need to modify your code so that <code>UserInputUI</code> is defined like this:</p>\n\n<pre><code>class UserInputUI : App(InputView::class, UIStyles::class)\n</code></pre>\n\n<p>(I have omitted the init block and the start override. By the way, make sure you don't call <code>reloadStylesheetsOnFocus</code> in production. To make sure that never makes it into production, remove it and set the option in the TornadoFX IDEA Run Configuration istead).</p>\n\n<p>Next, you must make sure that <code>InputView</code> has a noargs constructor. You need to use another technique to pass parameters into it. Since you hard coded them in your App class you might just hard code them directly in <code>InputView</code> as well, or you can introduce a <code>ViewModel</code> that you configure in <code>App.start</code> based on command line parameters or a configuration file if you like. </p>\n\n<p>A rewrite that simply hardcodes the values in <code>InputView</code> instead of <code>UserInputIU</code> would look something like this:</p>\n\n<pre><code>class InputView() : View() {\n    val s: SVGEnum = SVGEnum.first\n    val q: StringEnum = StringEnum.first\n    val valFunArray: ArrayList&lt;(String) -&gt; Boolean&gt; = UserInput.validationFunctions\n\n    override val root = stackpane {\n    }\n}\n</code></pre>\n\n<p>I hope that clarifies the issue :)</p>\n"}], "owner": {"reputation": 2715, "user_id": 2272445, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d8fed0b827e41acbb8e9028cfc91b65e?s=128&d=identicon&r=PG&f=1", "display_name": "shan", "link": "https://stackoverflow.com/users/2272445/shan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 836, "favorite_count": 0, "accepted_answer_id": 44740504, "answer_count": 1, "score": 0, "last_activity_date": 1498334678, "creation_date": 1498333847, "question_id": 44740385, "link": "https://stackoverflow.com/questions/44740385/java-lang-nosuchmethodexception-when-trying-to-run-tornadofx-application", "title": "java.lang.NoSuchMethodException when trying to run TornadoFX Application", "body": "<p>Not sure what is causing it to not find the \"init\" function on my View, so I thought I'd post here and see if anyone else had this issue.</p>\n\n<p>Everything compiles ok! And then when I run my program I get this error:</p>\n\n<pre><code>java.lang.InstantiationException: com.my.tfx.app.InputView\n  at java.lang.Class.newInstance(Class.java:427)\n  at tornadofx.FXKt.find(FX.kt:372)\n  at tornadofx.FXKt.find$default(FX.kt:358)\n  at tornadofx.App.start(App.kt:80)\n  at com.my.tfx.app.UserInputUI.start(UserInputUI.kt:15)\n  at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$8(LauncherImpl.java:863)\n  at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$7(PlatformImpl.java:326)\n  at com.sun.javafx.application.PlatformImpl.lambda$null$5(PlatformImpl.java:295)\n  at java.security.AccessController.doPrivileged(Native Method)\n  at com.sun.javafx.application.PlatformImpl.lambda$runLater$6(PlatformImpl.java:294)\n  at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:95)\n  at com.sun.glass.ui.gtk.GtkApplication._runLoop(Native Method)\n  at com.sun.glass.ui.gtk.GtkApplication.lambda$null$5(GtkApplication.java:139)\n  at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.NoSuchMethodException: com.my.tfx.app.InputView.&lt;init&gt;()\n  at java.lang.Class.getConstructor0(Class.java:3082)\n  at java.lang.Class.newInstance(Class.java:412)\n  ... 13 more\n</code></pre>\n\n<p>Not quite sure what is causing this.. I have a setup like this:</p>\n\n<pre><code>class UserInputUI : App(InputView(SVGEnum.first, StringEnum.first, UserInput.validationFunctions)::class, UIStyles::class) {\n  init {\n    reloadStylesheetsOnFocus()\n  }\n\n  override fun start(stage: Stage) {\n    super.start(stage)\n    stage.minWidth = 1024.0\n    stage.minHeight = 768.0\n    stage.maxWidth = 2560.0\n    stage.maxHeight = 1440.0\n  }\n}\n\nclass InputView(val s: SVGEnum, val q: StringEnum, val valFunArray : ArrayList&lt;(String)-&gt; Boolean&gt;) : View() {\n\n  override val root = stackpane {\n    //contents ommitted cause they're super long and I dont think its relevant,\n    //but I can add it in if requested\n  }\n\n}\n</code></pre>\n\n<p>Any ideas? Or is this a bug? Thanks!</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 2, "creation_date": 1498327889, "post_id": 44739307, "comment_id": 76460246, "body": "are you sure that the parameter type of <code>MyInterface</code>  is your defined <code>MyInterface</code>? maybe you imported another same name interface. :)"}, {"owner": {"reputation": 176, "user_id": 311601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/228c46558f760e7a1a4d0878694eccd1?s=128&d=identicon&r=PG", "display_name": "Mario Arias", "link": "https://stackoverflow.com/users/311601/mario-arias"}, "edited": false, "score": 0, "creation_date": 1498327982, "post_id": 44739307, "comment_id": 76460278, "body": "I try to reproduce it, but is impossible"}, {"owner": {"reputation": 195, "user_id": 3971338, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8ec48306dd5a984fbeb58d74eb0bbb23?s=128&d=identicon&r=PG&f=1", "display_name": "akoxi", "link": "https://stackoverflow.com/users/3971338/akoxi"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1498328535, "post_id": 44739307, "comment_id": 76460477, "body": "Oh man! I&#39;m embarrass right now. You&#39;re right @holi-java."}], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 3971338, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8ec48306dd5a984fbeb58d74eb0bbb23?s=128&d=identicon&r=PG&f=1", "display_name": "akoxi", "link": "https://stackoverflow.com/users/3971338/akoxi"}, "reply_to_user": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "edited": false, "score": 0, "creation_date": 1498332123, "post_id": 44739651, "comment_id": 76461469, "body": "Unfortunately, SO doesn&#39;t allow me to delete this question stating that <code>others have invested time and effort into answering it</code> :/"}, {"owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "edited": false, "score": 0, "creation_date": 1498334079, "post_id": 44739651, "comment_id": 76462008, "body": "ah ok - thanks for trying anyway!"}], "tags": [], "owner": {"reputation": 195, "user_id": 3971338, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8ec48306dd5a984fbeb58d74eb0bbb23?s=128&d=identicon&r=PG&f=1", "display_name": "akoxi", "link": "https://stackoverflow.com/users/3971338/akoxi"}, "is_accepted": false, "score": 3, "last_activity_date": 1498328882, "creation_date": 1498328882, "answer_id": 44739651, "question_id": 44739307, "link": "https://stackoverflow.com/questions/44739307/kotlin-passing-the-implementation-of-an-interface-as-parameter/44739651#44739651", "title": "Kotlin: Passing the implementation of an interface as parameter", "body": "<p>Sorry for this question.\nLike @holi-java said, I imported another package with same name interface</p>\n"}], "owner": {"reputation": 195, "user_id": 3971338, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8ec48306dd5a984fbeb58d74eb0bbb23?s=128&d=identicon&r=PG&f=1", "display_name": "akoxi", "link": "https://stackoverflow.com/users/3971338/akoxi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2117, "favorite_count": 0, "closed_date": 1498345783, "answer_count": 1, "score": 0, "last_activity_date": 1498328882, "creation_date": 1498326700, "last_edit_date": 1498328011, "question_id": 44739307, "link": "https://stackoverflow.com/questions/44739307/kotlin-passing-the-implementation-of-an-interface-as-parameter", "closed_reason": "Not suitable for this site", "title": "Kotlin: Passing the implementation of an interface as parameter", "body": "<p>I'm very new to Kotlin.\nCan someone help me how to pass the implementation as a parameter in Kotlin?</p>\n\n<p>I have this interface</p>\n\n<pre><code>interface MyInterface {\n}\n</code></pre>\n\n<p>And I have two classes that implements that interface like this:</p>\n\n<p>First Class:</p>\n\n<pre><code>class MyFirstClass : MyInterface {\n}\n</code></pre>\n\n<p>Second Class:</p>\n\n<pre><code>class MySecondClass : MyInterface {\n}\n</code></pre>\n\n<p>Now I have a method that needs <code>MyInterface</code> as parameter like this</p>\n\n<pre><code>fun someMethod(param: MyInterface) {\n}\n</code></pre>\n\n<p>And when I call that method like this:</p>\n\n<pre><code>somethod(MySecondClass())\n</code></pre>\n\n<p>I got a compilation error that I need <code>MyInterface</code> as a parameter</p>\n\n<p>But in java, it's ok</p>\n"}, {"tags": ["java", "android", "kotlin", "android-renderscript"], "comments": [{"owner": {"reputation": 29735, "user_id": 294884, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f8675693dfeb3908195657eb3a3fdda4?s=128&d=identicon&r=PG", "display_name": "Fattie", "link": "https://stackoverflow.com/users/294884/fattie"}, "edited": false, "score": 0, "creation_date": 1618105720, "post_id": 44738721, "comment_id": 118500760, "body": "its crazy to bother with anything other than Blurry <a href=\"https://github.com/wasabeef/Blurry\" rel=\"nofollow noreferrer\">github.com/wasabeef/Blurry</a>"}], "answers": [{"comments": [{"owner": {"reputation": 154, "user_id": 4667931, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10200261365574270/picture?type=large", "display_name": "Gabriel Kuka", "link": "https://stackoverflow.com/users/4667931/gabriel-kuka"}, "edited": false, "score": 0, "creation_date": 1498324883, "post_id": 44738822, "comment_id": 76459395, "body": "I tried your idea, but unfortunately my root view background turns black. Why does this happen?"}, {"owner": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "reply_to_user": {"reputation": 154, "user_id": 4667931, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10200261365574270/picture?type=large", "display_name": "Gabriel Kuka", "link": "https://stackoverflow.com/users/4667931/gabriel-kuka"}, "edited": false, "score": 0, "creation_date": 1498325038, "post_id": 44738822, "comment_id": 76459443, "body": "@GabrielKuka you used actually this solution or something like it?"}, {"owner": {"reputation": 154, "user_id": 4667931, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10200261365574270/picture?type=large", "display_name": "Gabriel Kuka", "link": "https://stackoverflow.com/users/4667931/gabriel-kuka"}, "edited": false, "score": 0, "creation_date": 1498325245, "post_id": 44738822, "comment_id": 76459502, "body": "Yes. I tried it. I set the isBlurNeeded to false when I have blurred the image so that it does not blur it again. But when I want to take it off it removes the blur and the background turns black."}, {"owner": {"reputation": 154, "user_id": 4667931, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10200261365574270/picture?type=large", "display_name": "Gabriel Kuka", "link": "https://stackoverflow.com/users/4667931/gabriel-kuka"}, "edited": false, "score": 0, "creation_date": 1498328227, "post_id": 44738822, "comment_id": 76460380, "body": "Now it does returns to normal but if I want to blur it again it doesn&#39;t but instead turns black. Why is this happening in the first place? I don&#39;t understand"}, {"owner": {"reputation": 154, "user_id": 4667931, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10200261365574270/picture?type=large", "display_name": "Gabriel Kuka", "link": "https://stackoverflow.com/users/4667931/gabriel-kuka"}, "edited": false, "score": 0, "creation_date": 1498329989, "post_id": 44738822, "comment_id": 76460880, "body": "Anyway. I managed to fix it. The reason why it turned black was related to the child views of the activity. So I just did the same for child views. And now it works!! Thank you very much sir."}], "tags": [], "owner": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "is_accepted": true, "score": 1, "last_activity_date": 1498327168, "last_edit_date": 1498327168, "creation_date": 1498323493, "answer_id": 44738822, "question_id": 44738721, "link": "https://stackoverflow.com/questions/44738721/how-to-remove-the-blur-from-root-view-in-android/44738822#44738822", "title": "How to remove the blur from root view in android", "body": "<p>Blur is a destructive operation and reversing it requires some complex math and computations, you'd better add a flag, and check it in the blur function, if the flag is false, for example -- just pass the original background through, like:</p>\n\n<pre><code>var contentBG: Drawable? = null\nvar needBlur = true\nfun applyBlur() {\n    val view = this.findViewById(android.R.id.content).rootView\n\n    if (view.width &gt; 0) {\n        contentBG ?: let { contentBG = view.background }\n        val drawable = if (needBlur)\n            BitmapDrawable(this.resources, BlurBuilder.blur(view))\n        else contentBG\n        window.setBackgroundDrawable(drawable)\n    } else {\n        view.viewTreeObserver.addOnGlobalLayoutListener({\n            val image = BlurBuilder.blur(view)\n            window.setBackgroundDrawable(BitmapDrawable(this.resources, image))\n        })\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 154, "user_id": 4667931, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10200261365574270/picture?type=large", "display_name": "Gabriel Kuka", "link": "https://stackoverflow.com/users/4667931/gabriel-kuka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 890, "favorite_count": 0, "accepted_answer_id": 44738822, "answer_count": 1, "score": 0, "last_activity_date": 1498327168, "creation_date": 1498322878, "question_id": 44738721, "link": "https://stackoverflow.com/questions/44738721/how-to-remove-the-blur-from-root-view-in-android", "title": "How to remove the blur from root view in android", "body": "<p>I am using this class to blur the background of the root view in my activity: </p>\n\n<pre><code>object BlurBuilder {\nprivate val BITMAP_SCALE = 0.4f\nprivate val BLUR_RADIUS = 20f\n\n\nfun blur(v: View): Bitmap {\n\n    return calculateBlur(v.context, getScreenshot(v))\n}\n\n\nfun calculateBlur(ctx: Context, image: Bitmap): Bitmap {\n    val width = Math.round(image.width * BITMAP_SCALE)\n    val height = Math.round(image.height * BITMAP_SCALE)\n\n    val inputBitmap = Bitmap.createScaledBitmap(image, width, height, false)\n    val outputBitmap = Bitmap.createBitmap(inputBitmap)\n\n    val rs = RenderScript.create(ctx)\n    val theIntrinsic = ScriptIntrinsicBlur.create(rs, Element.U8_4(rs))\n    val tmpIn = Allocation.createFromBitmap(rs, inputBitmap)\n    val tmpOut = Allocation.createFromBitmap(rs, outputBitmap)\n    theIntrinsic.setRadius(BLUR_RADIUS)\n    theIntrinsic.setInput(tmpIn)\n    theIntrinsic.forEach(tmpOut)\n    tmpOut.copyTo(outputBitmap)\n\n    return outputBitmap\n}\n\n\nfun getScreenshot(v: View): Bitmap {\n    val b = Bitmap.createBitmap(v.width, v.height, Bitmap.Config.ARGB_8888)\n    val c = Canvas(b)\n    v.draw(c)\n    return b\n    }\n  }\n</code></pre>\n\n<p>And in my activity I have the following:</p>\n\n<pre><code> fun applyBlur() {\n    val view = this.findViewById(android.R.id.content).rootView\n\n    if (view.width &gt; 0) {\n        val image = BlurBuilder.blur(view)\n\n        window.setBackgroundDrawable(BitmapDrawable(this.resources, image))\n    } else {\n        view.viewTreeObserver.addOnGlobalLayoutListener({\n            val image = BlurBuilder.blur(view)\n            window.setBackgroundDrawable(BitmapDrawable(this.resources, image))\n        })\n    }\n}\n</code></pre>\n\n<p>With this technique I blur the root view of my activity depending on the blur radius. How can I do the reverse ? I tried to put the BLUR_RADIUS to 0.1f but it still does not work.</p>\n\n<p>Please provide some explanation on how can I achieve this. Thank you!</p>\n"}, {"tags": ["collections", "filter", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1498320806, "post_id": 44738395, "comment_id": 76458238, "body": "Why mutable list?"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1498320851, "post_id": 44738395, "comment_id": 76458253, "body": "@marstran because your question defined as <code>MutableList&lt;String&gt;</code>"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1498320913, "post_id": 44738395, "comment_id": 76458271, "body": "It&#39;s not my question. Also, he didn&#39;t specify mutable list anywhere. He just used it in his workaround."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1498320973, "post_id": 44738395, "comment_id": 76458291, "body": "@marstran yeah. I see. the OP define the <code>MutableList&lt;String&gt;</code> in his question implicitly. I only make the variable type explicity let the OP know the actually type."}, {"owner": {"reputation": 7893, "user_id": 380451, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/WowPn.png?s=128&g=1", "display_name": "Parker", "link": "https://stackoverflow.com/users/380451/parker"}, "edited": false, "score": 0, "creation_date": 1498321352, "post_id": 44738395, "comment_id": 76458394, "body": "Didn&#39;t know about the function reference expression, thanks for the thorough answer! :)"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 7893, "user_id": 380451, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/WowPn.png?s=128&g=1", "display_name": "Parker", "link": "https://stackoverflow.com/users/380451/parker"}, "edited": false, "score": 1, "creation_date": 1498321583, "post_id": 44738395, "comment_id": 76458472, "body": "@Parker you can see here in more details: <a href=\"https://kotlinlang.org/docs/reference/reflection.html#function-references\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a> ."}, {"owner": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "edited": false, "score": 0, "creation_date": 1498323832, "post_id": 44738395, "comment_id": 76459139, "body": "@holi-java OP used a mutable list to add values to it via <code>forEach</code> function, it doesn&#39;t mean he actually needs one"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "edited": false, "score": 3, "creation_date": 1498323920, "post_id": 44738395, "comment_id": 76459157, "body": "@Pavlus hi, but he doesn&#39;t said he doesn&#39;t want to operates the <b>list</b>  as further. so I provide 2 list types."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 90, "last_activity_date": 1498321473, "last_edit_date": 1498321473, "creation_date": 1498320775, "answer_id": 44738395, "question_id": 44738319, "link": "https://stackoverflow.com/questions/44738319/how-to-convert-transform-a-collection-to-another-collection-by-elements-propert/44738395#44738395", "title": "How to convert/transform a collection to another collection by element&#39;s property?", "body": "<p>it's easy to do in Kotlin:</p>\n\n<pre><code>//           v--- the variable type can be removed\nvar nameMap: MutableList&lt;String&gt; = persons.map { it.name }.toMutableList();\n</code></pre>\n\n<p><strong>IF</strong> you want an immutable <code>List</code>, it can simplify as below:</p>\n\n<pre><code>//           v--- the variable type can be removed\nvar nameMap: List&lt;String&gt; = persons.map { it.name };\n</code></pre>\n\n<p><strong>OR</strong> using <a href=\"https://kotlinlang.org/docs/reference/reflection.html#function-references\" rel=\"noreferrer\">function reference expression</a> instead:</p>\n\n<pre><code>var nameMap = persons.map(Person::name);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "is_accepted": false, "score": 43, "last_activity_date": 1534412461, "creation_date": 1534412461, "answer_id": 51874018, "question_id": 44738319, "link": "https://stackoverflow.com/questions/44738319/how-to-convert-transform-a-collection-to-another-collection-by-elements-propert/51874018#51874018", "title": "How to convert/transform a collection to another collection by element&#39;s property?", "body": "<p>If you want to map model then do this.</p>\n\n<pre><code>var nameMap: List&lt;Model&gt; = persons.map { Model(it.name,it.number) };\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7982, "user_id": 4694013, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh6.googleusercontent.com/-NtYnVWhJ_TE/AAAAAAAAAAI/AAAAAAAAABI/ddYXTsg5YCM/photo.jpg?sz=128", "display_name": "Anoop M Maddasseri", "link": "https://stackoverflow.com/users/4694013/anoop-m-maddasseri"}, "is_accepted": false, "score": 0, "last_activity_date": 1603948271, "creation_date": 1603948271, "answer_id": 64585346, "question_id": 44738319, "link": "https://stackoverflow.com/questions/44738319/how-to-convert-transform-a-collection-to-another-collection-by-elements-propert/64585346#64585346", "title": "How to convert/transform a collection to another collection by element&#39;s property?", "body": "<p><strong>Option 1:</strong></p>\n<pre><code>inline fun &lt;reified T, Y&gt; MutableList&lt;T&gt;.listOfField(property: KMutableProperty1&lt;T, Y?&gt;): MutableList&lt;Y&gt; {\n    val yy = ArrayList&lt;Y&gt;()\n    this.forEach { t: T -&gt;\n        yy.add(property.get(t) as Y)\n    }\n    return yy\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>val serviceIds = services.listOfField(ServiceModel::id)\n</code></pre>\n<p><strong>Option 2:</strong></p>\n<pre><code>var serviceIds: MutableList&lt;String&gt; = services.map { it.id }.toMutableList()\n</code></pre>\n<p><strong>Option 3:</strong></p>\n<p>Function Reference</p>\n<pre><code>var serviceIds = services.map(Person::id)\n</code></pre>\n"}], "owner": {"reputation": 7893, "user_id": 380451, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/WowPn.png?s=128&g=1", "display_name": "Parker", "link": "https://stackoverflow.com/users/380451/parker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33038, "favorite_count": 8, "accepted_answer_id": 44738395, "answer_count": 3, "score": 53, "last_activity_date": 1603948271, "creation_date": 1498320326, "last_edit_date": 1500326958, "question_id": 44738319, "link": "https://stackoverflow.com/questions/44738319/how-to-convert-transform-a-collection-to-another-collection-by-elements-propert", "title": "How to convert/transform a collection to another collection by element&#39;s property?", "body": "<p>If I have a collection of an object in Kotlin, is there a quick way to get a collection of a certain property of those objects? I looked at a list of <a href=\"https://antonioleiva.com/collection-operations-kotlin/\" rel=\"noreferrer\">collection operations for Kotlin</a>, but nothing stood out for me (but I may have overlooked something)</p>\n\n<p>In python it would be akin to:</p>\n\n<p><code>[person.name for person in persons]</code></p>\n\n<p>And I'd prefer to use a collections function instead of doing:</p>\n\n<pre><code>var nameMap = mutableListOf&lt;String&gt;()\npersons.forEach{person -&gt; nameMap.add(person.name)}\n</code></pre>\n\n<p>I'm pretty lacking in knowledge of filtering/lambda functions and anything other than list comprehension, so apologies if this is a simple question</p>\n"}, {"tags": ["groovy", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 6303, "user_id": 4680436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yAD2X.jpg?s=128&g=1", "display_name": "aristotll", "link": "https://stackoverflow.com/users/4680436/aristotll"}, "edited": false, "score": 0, "creation_date": 1498354846, "post_id": 44738645, "comment_id": 76466048, "body": "Thanks for your answer, but it just does not work. Maybe in Java, this works. But Groovy is different."}, {"owner": {"reputation": 17145, "user_id": 5093961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3736a281ed5cdc18e41f6d3100d76dcc?s=128&d=identicon&r=PG", "display_name": "Steven Spungin", "link": "https://stackoverflow.com/users/5093961/steven-spungin"}, "edited": false, "score": 2, "creation_date": 1508933562, "post_id": 44738645, "comment_id": 80811012, "body": "This is the only way I was able to access the companion object from Groovy.  In my case the error was &#39;groovy.lang.MissingMethodException: No signature of method: Foo() is applicable for argument types"}, {"owner": {"reputation": 1036, "user_id": 3562927, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b46d85f27384a8b58999ad329e4ec4a6?s=128&d=identicon&r=PG&f=1", "display_name": "Stevey", "link": "https://stackoverflow.com/users/3562927/stevey"}, "edited": false, "score": 0, "creation_date": 1609452398, "post_id": 44738645, "comment_id": 115848289, "body": "I was able to call a Companion method from Groovy with:  def foo = MyKotlinClass.@Companion.methodToCall(args)"}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 19, "last_activity_date": 1498362258, "last_edit_date": 1498362258, "creation_date": 1498322380, "answer_id": 44738645, "question_id": 44738253, "link": "https://stackoverflow.com/questions/44738253/problems-about-accessing-kotlin-companion-object-in-groovy/44738645#44738645", "title": "Problems about accessing Kotlin companion object in Groovy?", "body": "<p>you can access member fields directly by <code>@</code> since it always ref the class rather than its instance in groovy. for example:</p>\n\n<pre><code>def decompilerService = KotlinDecompilerService.@Companion.instance\n</code></pre>\n"}], "owner": {"reputation": 6303, "user_id": 4680436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yAD2X.jpg?s=128&g=1", "display_name": "aristotll", "link": "https://stackoverflow.com/users/4680436/aristotll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1531, "favorite_count": 2, "answer_count": 1, "score": 6, "last_activity_date": 1498362258, "creation_date": 1498319860, "question_id": 44738253, "link": "https://stackoverflow.com/questions/44738253/problems-about-accessing-kotlin-companion-object-in-groovy", "title": "Problems about accessing Kotlin companion object in Groovy?", "body": "<p>I want to get the instance of this Interface  <code>KotlinDecompilerService</code> <a href=\"https://github.com/JetBrains/kotlin/blob/master/idea/src/org/jetbrains/kotlin/idea/internal/KotlinDecompilerService.kt\" rel=\"noreferrer\">https://github.com/JetBrains/kotlin/blob/master/idea/src/org/jetbrains/kotlin/idea/internal/KotlinDecompilerService.kt</a> in Groovy.</p>\n\n<p>I try:</p>\n\n<pre><code>final KotlinDecompilerService decompilerService = \nKotlinDecompilerService.Companion.getInstance()\n</code></pre>\n\n<p>But the Groovy <code>KotlinDecompilerService.Companion</code> returns a <code>java.lang.Class</code> instance.\n(The static field and the class have the same name <code>Companion</code>)</p>\n\n<pre><code>2017-06-24 23:31:59,066 [9849885]  ERROR - llij.ide.plugins.PluginManager - Cannot cast object 'class org.jetbrains.kotlin.idea.internal.KotlinDecompilerService$Companion' with class 'java.lang.Class' to class 'org.jetbrains.kotlin.idea.internal.KotlinDecompilerService$Companion' \norg.codehaus.groovy.runtime.typehandling.GroovyCastException: Cannot cast object 'class org.jetbrains.kotlin.idea.internal.KotlinDecompilerService$Companion' with class 'java.lang.Class' to class 'org.jetbrains.kotlin.idea.internal.KotlinDecompilerService$Companion'\n    at org.codehaus.groovy.runtime.typehandling.DefaultTypeTransformation.continueCastOnSAM(DefaultTypeTransformation.java:405)\n    at org.codehaus.groovy.runtime.typehandling.DefaultTypeTransformation.continueCastOnNumber(DefaultTypeTransformation.java:319)\n    at org.codehaus.groovy.runtime.typehandling.DefaultTypeTransformation.castToType(DefaultTypeTransformation.java:232)\n    at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.castToType(ScriptBytecodeAdapter.java:603)\n</code></pre>\n\n<p>I have to use reflection to get the instance.</p>\n\n<pre><code>final KotlinDecompilerService decompilerService = \nKotlinDecompilerService.Companion.newInstance().getInstance()\n</code></pre>\n\n<p>It works, but I just wonder if there is a better way.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 2, "last_activity_date": 1498314179, "creation_date": 1498314179, "answer_id": 44737394, "question_id": 44737373, "link": "https://stackoverflow.com/questions/44737373/lambda-type-with-unknown-number-of-arguments/44737394#44737394", "title": "Lambda type with unknown number of arguments", "body": "<p>You can pass the parameters in a list:</p>\n\n<pre><code>Map&lt;String, (List&lt;Any&gt;) -&gt; Unit&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 4, "last_activity_date": 1498314798, "creation_date": 1498314798, "answer_id": 44737497, "question_id": 44737373, "link": "https://stackoverflow.com/questions/44737373/lambda-type-with-unknown-number-of-arguments/44737497#44737497", "title": "Lambda type with unknown number of arguments", "body": "<p>All functional types in Kotlin implement <code>Function</code>(<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-function.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-function.html</a>), so you can use it or its subclass</p>\n"}], "owner": {"reputation": 4616, "user_id": 515377, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/qczen.jpg?s=128&g=1", "display_name": "Graham", "link": "https://stackoverflow.com/users/515377/graham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 280, "favorite_count": 0, "accepted_answer_id": 44737497, "answer_count": 2, "score": 3, "last_activity_date": 1498314798, "creation_date": 1498314053, "question_id": 44737373, "link": "https://stackoverflow.com/questions/44737373/lambda-type-with-unknown-number-of-arguments", "title": "Lambda type with unknown number of arguments", "body": "<p>I have created a map that will store functions to be called at a later time, its type looks like this:</p>\n\n<pre><code>Map&lt;String, () -&gt; Unit&gt;\n</code></pre>\n\n<p>The thing is, I don't know how many parameters each function being stored has, or the types of those parameters.</p>\n\n<p>Currently the map type <code>Map&lt;String, () -&gt; Unit&gt;</code> will only let me store functions that have no parameters and a return type of Unit.</p>\n\n<p>How do I represent a function type that will let me store functions with an unknown number of parameters and an unknown return type, but it still has to be a function that is stored.</p>\n\n<p>Something like this is what I'm looking for:</p>\n\n<pre><code>Map&lt;String, (T, X, Y, ...) -&gt; V&gt;\n</code></pre>\n\n<p>How do I represent that kind of function type in Kotlin?</p>\n"}, {"tags": ["kotlin", "completable-future"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1498295280, "post_id": 44734614, "comment_id": 76451250, "body": "You could create extension functions that take proper function types and the executor parameter first. It could be a lot of extension functions you have to make though."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1498295548, "post_id": 44734614, "comment_id": 76451300, "body": "My thought, too. See <a href=\"https://gist.github.com/jnizet/b8ec0365371721e4a0cbdf2701288799\" rel=\"nofollow noreferrer\">gist.github.com/jnizet/b8ec0365371721e4a0cbdf2701288799</a> for an example."}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1498310314, "post_id": 44734614, "comment_id": 76455017, "body": "@marstran Nice thought. But why don&#39;t you post it as an anwser..."}], "answers": [{"comments": [{"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1498310349, "post_id": 44734828, "comment_id": 76455028, "body": "Thank you a lot for giving such a detailed anwser. (I do know about your first point)"}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 4, "last_activity_date": 1498297249, "last_edit_date": 1498297249, "creation_date": 1498295786, "answer_id": 44734828, "question_id": 44734614, "link": "https://stackoverflow.com/questions/44734614/is-there-a-better-way-to-write-completablefutrue-xxxasync-invocations-in-kotli/44734828#44734828", "title": "Is there a better way to write CompletableFutrue.XXXasync() invocations in kotlin?", "body": "<p><strong>IF</strong> you calling the api from java that takes a functional interface parameter at last, you can just using lambda in kotlin. </p>\n\n<pre><code>val composed: CompletableFuture&lt;String&gt; = aCompletableFutrue.thenComposeAsync { \n    CompletableFuture.supplyAsync { it.toString() }\n};\n</code></pre>\n\n<p><strong>Secondly</strong>, if you don't like the java api method signature. you can write your own extension methods, for example:</p>\n\n<pre><code>fun &lt;T, U&gt; CompletableFuture&lt;T&gt;.thenComposeAsync(executor: Executor\n      , mapping: Function1&lt;in T, out CompletionStage&lt;U&gt;&gt;): CompletableFuture&lt;U&gt; {\n    return thenComposeAsync(Function&lt;T,CompletionStage&lt;U&gt;&gt;{mapping(it)}, executor)\n}\n</code></pre>\n\n<p><strong>THEN</strong> you can makes the lambda along the method.</p>\n\n<pre><code>aCompletableFutrue.thenComposeAsync(executor){\n  // do working\n}\n</code></pre>\n"}], "owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 323, "favorite_count": 0, "accepted_answer_id": 44734828, "answer_count": 1, "score": 0, "last_activity_date": 1498297249, "creation_date": 1498294050, "last_edit_date": 1592644375, "question_id": 44734614, "link": "https://stackoverflow.com/questions/44734614/is-there-a-better-way-to-write-completablefutrue-xxxasync-invocations-in-kotli", "title": "Is there a better way to write CompletableFutrue.XXXasync() invocations in kotlin?", "body": "<p>Java <code>CompletableFuture&lt;T&gt;</code> has a lot of async methods, static or instance, in this format</p>\n<pre><code>public &lt;U&gt; CompletableFuture&lt;U&gt; XXXasync(SomeFunctionalInterface&lt;T&gt; something, Executor executor)\n</code></pre>\n<p>If you have enough experience with FP in kotlin, you will immediately realize these function are extremely awkward to use in kotlin, because the SAM interface is not the last parameter.</p>\n<pre><code>aCompletableFutrue.thenComposeAsync(Function&lt;SomeType, CompletableFuture&lt;SomeOtherType&gt;&gt; { \n                               //   ^ WHAT A LONG TYPE NAME THAT NEED TO BE HAND WRITTEN\n    // do something that has to be written in multiple lines.\n    // for that sake of simplicity I use convert() to represent this process\n    convert(it)\n}, executor)\n</code></pre>\n<p>That <code>Function</code> has a very very long generic signature that I don't know how to let IDE generate. It will be a plain in the butt if the type name become even longer or contains a ParameterizedType or has type variance annotations.</p>\n<p><sub>It also looks nasty because of the trailing <code>, executor)</code> on line 5.</sub></p>\n<p>Is there some missing functionality in kotlin or IDE that can help with the situation? At least I don't want to write that long SAM constructor all by myself.</p>\n<hr />\n<h3>Rejected solutions:</h3>\n<ol>\n<li><p>Using named parameter doesn't seem to work because this feature only works on a kotlin function.</p>\n</li>\n<li><p>Abandon async methods sounds bad from the very beginning.</p>\n</li>\n<li><p>Kotlin corountine is rejected because we are working with some silly Java libraries that accept <code>CompletionStage</code> only.</p>\n</li>\n</ol>\n"}, {"tags": ["intellij-idea", "types", "kotlin", "type-inference"], "answers": [{"comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 12, "creation_date": 1498296351, "post_id": 44732806, "comment_id": 76451473, "body": "Type hints were introduced in IDEA with the new Kotlin v1.1.3 released yesterday. See <a href=\"https://blog.jetbrains.com/kotlin/2017/06/kotlin-1-1-3-is-out/#more-5080\" rel=\"nofollow noreferrer\">blog.jetbrains.com/kotlin/2017/06/kotlin-1-1-3-is-out/&hellip;</a>"}, {"owner": {"reputation": 429, "user_id": 5546006, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/62f45b4ae19e76aea4911e9cb5d7d92e?s=128&d=identicon&r=PG&f=1", "display_name": "letrec", "link": "https://stackoverflow.com/users/5546006/letrec"}, "edited": false, "score": 0, "creation_date": 1498300197, "post_id": 44732806, "comment_id": 76452363, "body": "the type shown by IDEA is same as the type inferred by Kotlin compiler? or just a type computed by the plugin? IDEA shows parent type for <code>if (...) child1 else child2</code> not <code>Any</code>."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 429, "user_id": 5546006, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/62f45b4ae19e76aea4911e9cb5d7d92e?s=128&d=identicon&r=PG&f=1", "display_name": "letrec", "link": "https://stackoverflow.com/users/5546006/letrec"}, "edited": false, "score": 0, "creation_date": 1498300941, "post_id": 44732806, "comment_id": 76452538, "body": "@letrec what&#39;s version of your kotlin now? mine is <code>1.1.2-5</code>."}, {"owner": {"reputation": 429, "user_id": 5546006, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/62f45b4ae19e76aea4911e9cb5d7d92e?s=128&d=identicon&r=PG&f=1", "display_name": "letrec", "link": "https://stackoverflow.com/users/5546006/letrec"}, "edited": false, "score": 1, "creation_date": 1498303558, "post_id": 44732806, "comment_id": 76453166, "body": "@holi-java I use IDEA 2017.1.4 build IC-171.4694.23 + Kotlin plugin 1.1.2. Classes are <code>open class MyBool</code>, <code>class MyTrue : MyBool()</code> and <code>class MyFalse : MyBool()</code>."}, {"owner": {"reputation": 4190, "user_id": 2207729, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/076e4de85fdcd7632642b930f525cfaf?s=128&d=identicon&r=PG&f=1", "display_name": "PedroD", "link": "https://stackoverflow.com/users/2207729/pedrod"}, "edited": false, "score": 0, "creation_date": 1551096910, "post_id": 44732806, "comment_id": 96502359, "body": "I think you people will love this: <a href=\"https://stackoverflow.com/questions/54851861/how-do-i-activate-type-annotations-hints-in-kotlin-like-depicted/54852497#54852497\" title=\"how do i activate type annotations hints in kotlin like depicted\">stackoverflow.com/questions/54851861/&hellip;</a>"}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 6, "last_activity_date": 1498304928, "last_edit_date": 1498304928, "creation_date": 1498279168, "answer_id": 44732806, "question_id": 44732706, "link": "https://stackoverflow.com/questions/44732706/how-do-i-know-inferred-type-in-kotlin/44732806#44732806", "title": "How do I know inferred type in Kotlin?", "body": "<p>when assign the if expression with diff type result to an implicit primitive variable (<em>variable without type definition</em>) then the variable type is <code>Any</code>/<code>T?</code>, or an implicit variable with their direct supper class <code>P</code>. for example:</p>\n\n<pre><code>// case 1\nval v = if (false) 1 else 2.0\n//  ^--- Any\nv.toInt(); // error because v is Any\n\n// case 2\nval v = if (false) 1 else null\n//  ^--- Int?\n\n// case 3\nval e = if (true) java.sql.Time(1) else java.sql.Timestamp(1);\n//  ^--- its type is java.util.Date     \n</code></pre>\n\n<p>but you can define the variable explicitly with their superclass, for example:</p>\n\n<pre><code>// case 1\nval v:Number = if (false) 1 else 2.0;\nv.toInt();//ok \n\n// case 2\nval v:Int? = if (false) 1 else null;\n</code></pre>\n\n<p><em>Note</em>: you can also using <code>CTRL+SHIFT+P</code>/<code>CTRL+Q</code> to see the variable type quickly in IDEA. </p>\n"}, {"tags": [], "owner": {"reputation": 304, "user_id": 10183099, "user_type": "registered", "profile_image": "https://graph.facebook.com/730841550353323/picture?type=large", "display_name": "Mohammad Sheraj", "link": "https://stackoverflow.com/users/10183099/mohammad-sheraj"}, "is_accepted": false, "score": 0, "last_activity_date": 1607442175, "creation_date": 1607442175, "answer_id": 65202092, "question_id": 44732706, "link": "https://stackoverflow.com/questions/44732706/how-do-i-know-inferred-type-in-kotlin/65202092#65202092", "title": "How do I know inferred type in Kotlin?", "body": "<p>I think you mean <a href=\"https://stackoverflow.com/a/45165263\">https://stackoverflow.com/a/45165263</a></p>\n<p>You can use the <code>is</code> operator to check whether an object is of a specific type:</p>\n<pre><code>val number = 5\nif(number is Int) {\n   println(&quot;number is of type Int&quot;)\n}\n</code></pre>\n<p>You can also get the type as <code>String</code> using reflection:</p>\n<pre><code>println(&quot;${number::class.simpleName}&quot;)    // &quot;Int&quot;\nprintln(&quot;${number::class.qualifiedName}&quot;) // &quot;kotlin.Int&quot;\n</code></pre>\n<p>Please note:</p>\n<blockquote>\n<p>On the Java platform, the runtime component required for using the\nreflection features is distributed as a separate JAR file\n(kotlin-reflect.jar). This is done to reduce the required size of the\nruntime library for applications that do not use reflection features.\nIf you do use reflection, please make sure that the .jar file is added\nto the classpath of your project.</p>\n</blockquote>\n<p>Source: <a href=\"https://kotlinlang.org/docs/reference/reflection.html#bound-class-references-since-11\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/reflection.html#bound-class-references-since-11</a></p>\n"}], "owner": {"reputation": 429, "user_id": 5546006, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/62f45b4ae19e76aea4911e9cb5d7d92e?s=128&d=identicon&r=PG&f=1", "display_name": "letrec", "link": "https://stackoverflow.com/users/5546006/letrec"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7160, "favorite_count": 1, "answer_count": 2, "score": 13, "last_activity_date": 1607442175, "creation_date": 1498278052, "last_edit_date": 1498303656, "question_id": 44732706, "link": "https://stackoverflow.com/questions/44732706/how-do-i-know-inferred-type-in-kotlin", "title": "How do I know inferred type in Kotlin?", "body": "<p>(I use Kotlin 1.1.2-2)</p>\n\n<p>For example, how do I know the inferred type of expression <code>if (boolean_value) 1 else 2.0</code>? <code>kotlinc-jvm</code> doesn't show the type. <code>javaClass</code> also doesn't help because it shows the type of computed value not expression.</p>\n\n<pre><code>&gt;&gt;&gt; (if (true) 1 else 2.0).javaClass.name\njava.lang.Integer\n&gt;&gt;&gt; (if (false) 1 else 2.0).javaClass.name\njava.lang.Double\n&gt;&gt;&gt; val v: Double = if (false) 1 else 2.0\nerror: the integer literal does not conform to the expected type Double\nval v: Double = if (false) 1 else 2.0\n                       ^\n</code></pre>\n"}, {"tags": ["kotlin", "nullable", "default-parameters"], "comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498246057, "post_id": 44728519, "comment_id": 76439987, "body": "Instead of <code>if (newName != null) newName else &quot;&quot;</code> you can just use <code>newName ?: &quot;&quot;</code>. It&#39;s called elvis operator."}, {"owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1498247055, "post_id": 44728519, "comment_id": 76440454, "body": "@Mibac Oh, right, I forgot about that! Definitely more succinct, but it still doesn&#39;t use the default parameter defined in the class constructor."}], "answers": [{"comments": [{"owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "edited": false, "score": 8, "creation_date": 1498248853, "post_id": 44729234, "comment_id": 76441371, "body": "Oh, that is a nice work-around! Though, it makes me wish something like this was built into the language; if only to get rid of the boilerplate."}, {"owner": {"reputation": 1131, "user_id": 2396067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97caf2873253d4ec684409dd1d92fdf?s=128&d=identicon&r=PG&f=1", "display_name": "eendroroy", "link": "https://stackoverflow.com/users/2396067/eendroroy"}, "edited": false, "score": 0, "creation_date": 1592409178, "post_id": 44729234, "comment_id": 110417022, "body": "Will it work if all the second property (number) is removed? I am getting compilation error for   <code>data class Data(val name: String = &quot;&quot;) { constructor(name: String? = null) : this(name ?: &quot;&quot;) }</code>"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1592442918, "post_id": 44729234, "comment_id": 110430197, "body": "I think you&#39;ll have to pass in <code>null</code> or add another secondary constructor. e.g. <code>constructor(): this(&quot;&quot;)</code>"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 1131, "user_id": 2396067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97caf2873253d4ec684409dd1d92fdf?s=128&d=identicon&r=PG&f=1", "display_name": "eendroroy", "link": "https://stackoverflow.com/users/2396067/eendroroy"}, "edited": false, "score": 0, "creation_date": 1592443304, "post_id": 44729234, "comment_id": 110430309, "body": "@eendroroy I realized this overload resolution ambiguity can be avoided, I&#39;ve updated my answer accordingly"}, {"owner": {"reputation": 1131, "user_id": 2396067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97caf2873253d4ec684409dd1d92fdf?s=128&d=identicon&r=PG&f=1", "display_name": "eendroroy", "link": "https://stackoverflow.com/users/2396067/eendroroy"}, "edited": false, "score": 0, "creation_date": 1592495401, "post_id": 44729234, "comment_id": 110452580, "body": "@mfulton26 It perfectly works when the <code>number: Long</code> parameter is there. But I guess If we keep only the <code>name: String</code> parameter, the problem will occur."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 1131, "user_id": 2396067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e97caf2873253d4ec684409dd1d92fdf?s=128&d=identicon&r=PG&f=1", "display_name": "eendroroy", "link": "https://stackoverflow.com/users/2396067/eendroroy"}, "edited": false, "score": 1, "creation_date": 1592506754, "post_id": 44729234, "comment_id": 110458369, "body": "@eendroroy you are right, I found that using a companion object with the invoke operator should work in both cases, I&#39;ve updated my answer accordingly; i.e. now it will work without <code>number: Long</code> and only keep <code>name: String</code> \ud83d\udc4d\ud83c\udffb"}], "tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 41, "last_activity_date": 1612217289, "last_edit_date": 1612217289, "creation_date": 1498248573, "answer_id": 44729234, "question_id": 44728519, "link": "https://stackoverflow.com/questions/44728519/is-there-a-way-to-use-the-default-value-on-a-non-optional-parameter-when-null-is/44729234#44729234", "title": "Is there a way to use the default value on a non-optional parameter when null is passed?", "body": "<p>You can define a <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\">companion object</a> for your data class and <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"nofollow noreferrer\">overload</a> its <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html#invoke\" rel=\"nofollow noreferrer\">invoke operator</a> to use default values when <code>null</code> is passed:</p>\n<pre><code>data class Data private constructor(\n    val name: String,\n    val number: Long\n) {\n    companion object {\n        operator fun invoke(\n            name: String? = null,\n            number: Long? = null\n        ) = Data(\n            name ?: &quot;&quot;,\n            number ?: 0\n        )\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 21, "last_activity_date": 1498272726, "creation_date": 1498272726, "answer_id": 44732277, "question_id": 44728519, "link": "https://stackoverflow.com/questions/44728519/is-there-a-way-to-use-the-default-value-on-a-non-optional-parameter-when-null-is/44732277#44732277", "title": "Is there a way to use the default value on a non-optional parameter when null is passed?", "body": "<p>the secondary constructor only supports for the Nullable primitive properties. which means it will result in 2 same constructors if the property is not a primitive type, for example:</p>\n\n<pre><code>data class Data(val name: String) {\n    constructor(name: String? = null) : this(name ?: \"foo\");\n    // ^--- report constructor signature error                \n}\n\ndata class Data(val number: Long = 0) {\n     constructor(number: Long? = null) : this(number ?: 0)\n     //                  ^--- No problem since there are 2 constructors generated:\n     //                       Data(long number) and Data(java.lang.Long number)\n}\n</code></pre>\n\n<p>an alternative way is using <code>invoke</code> operator for that, for example:</p>\n\n<pre><code>data class Data(val name: String) {\n    companion object {\n        operator fun invoke(name: String? = null) = Data(name ?: \"\")\n    }\n}\n</code></pre>\n\n<p><strong>IF</strong> the class is not a data class, then you can lazy initializing properties from parameters, rather than define properties on the primary constructor, for example:</p>\n\n<pre><code>class Data(name: String? = null, number: Long? = null) {\n    val name = name ?: \"\"\n    val number = number ?: 0\n}\n</code></pre>\n"}], "owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30488, "favorite_count": 5, "accepted_answer_id": 44729234, "answer_count": 2, "score": 48, "last_activity_date": 1612217289, "creation_date": 1498245325, "last_edit_date": 1498320493, "question_id": 44728519, "link": "https://stackoverflow.com/questions/44728519/is-there-a-way-to-use-the-default-value-on-a-non-optional-parameter-when-null-is", "title": "Is there a way to use the default value on a non-optional parameter when null is passed?", "body": "<p>For example, if I have the following data class:</p>\n\n<pre><code>data class Data(\n    val name: String = \"\",\n    val number: Long = 0\n)\n</code></pre>\n\n<p>And functions that can return <code>null</code>:</p>\n\n<pre><code>fun newName(): String? {}\n\nfun newNumber(): Long? {}\n</code></pre>\n\n<p>I know I can use the following to use the value of the functions if they are not <code>null</code>:</p>\n\n<pre><code>val newName = newName()\nval newNumber = newNumber()\n\nval data = Data(\n        if (newName != null) newName else \"\",\n        if (newNumber != null) newNumber else 0\n)\n</code></pre>\n\n<p>But is there a way to just use the default value specified in the constructor of the <code>Data</code> class when the values are <code>null</code>?</p>\n\n<p>I could not find anything in the documentation, but I was hoping something like this would work:</p>\n\n<pre><code>val data = Data(newName()?, newNumber()?)\n</code></pre>\n\n<p>But that does not compile.</p>\n"}, {"tags": ["libgdx", "kotlin", "scene2d"], "comments": [{"owner": {"reputation": 979, "user_id": 5080879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8407feb6b2e53ec5c6e3906051cd1dca?s=128&d=identicon&r=PG&f=1", "display_name": "Peter R", "link": "https://stackoverflow.com/users/5080879/peter-r"}, "edited": false, "score": 0, "creation_date": 1498244811, "post_id": 44728252, "comment_id": 76439417, "body": "Your table as you described is a 2x2 grid, so your first row (the label) would need to span 2 columns (your bottom row - 2 tables, each in their own cell). Try add(Label(&quot;Player name&quot;, UI_SKIN)).colspan(2) and then play around with center() and expandX() to get the label positions where you want."}], "answers": [{"comments": [{"owner": {"reputation": 7286, "user_id": 1014830, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ca45c857a2784ae22f54acf3d0d94744?s=128&d=identicon&r=PG&f=1", "display_name": "dharam", "link": "https://stackoverflow.com/users/1014830/dharam"}, "edited": false, "score": 0, "creation_date": 1549725485, "post_id": 44728887, "comment_id": 96010214, "body": "relatively more useful answer .. You might also consider adding .width and .height while adding the inner tables to the outer ones"}], "tags": [], "owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "is_accepted": true, "score": 4, "last_activity_date": 1498247043, "creation_date": 1498247043, "answer_id": 44728887, "question_id": 44728252, "link": "https://stackoverflow.com/questions/44728252/libgdx-scene2d-ui-table-inside-table-layout-problems/44728887#44728887", "title": "LibGDX Scene2d UI: Table inside table layout problems", "body": "<p>You can do in this way </p>\n\n<pre><code>stage= Stage()\nGdx.input.setInputProcessor(stage)\n\nvar skin= Skin(Gdx.files.internal(\"skin/glassy-ui.json\"))\n\nvar table= Table()\ntable.defaults().pad(10F)\ntable.setFillParent(true)\n\nvar label=Label(\"PLAYER NAME\",skin)\nlabel.setAlignment(Align.center);\n\nvar first_table=Table()\nfirst_table.setDebug(true)\nfirst_table.add(Label(\"FIRST TABLE\",skin))\n\nval second_table=Table()\nsecond_table.add(Label(\"SECOND TABLE\",skin))\n\ntable.add(label).colspan(2).fillX()\ntable.row();\ntable.add(first_table).expand()\ntable.add(second_table).expand()\n\nstage.addActor(table)\nstage.setDebugAll(true)\n</code></pre>\n\n<p>And the output is :</p>\n\n<p><a href=\"https://i.stack.imgur.com/U1ufd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U1ufd.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 33, "user_id": 3616366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b456b592fc6bb54ed1d12f4e4a1a317?s=128&d=identicon&r=PG", "display_name": "Hugo Kiiski", "link": "https://stackoverflow.com/users/3616366/hugo-kiiski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2303, "favorite_count": 2, "accepted_answer_id": 44728887, "answer_count": 1, "score": 1, "last_activity_date": 1498247043, "creation_date": 1498244155, "question_id": 44728252, "link": "https://stackoverflow.com/questions/44728252/libgdx-scene2d-ui-table-inside-table-layout-problems", "title": "LibGDX Scene2d UI: Table inside table layout problems", "body": "<p>I'm trying to do the following <a href=\"https://i.stack.imgur.com/WmZCb.png\" rel=\"nofollow noreferrer\">layout</a> with this code (the widths and heights are just for debug, ideally I would have both of the tables have 50% of the width. Also the superclass is a <code>Table</code>)</p>\n\n<pre><code>left().top()\nadd(Label(\"Player name\", UI_SKIN)).center().expandX()\nrow()\nadd(Table()).width(50f).height(50f)\nadd(Table()).width(200f).height(50f)\nsetDebug(true, true)\n</code></pre>\n\n<p>Which results in <a href=\"https://i.stack.imgur.com/017O6.png\" rel=\"nofollow noreferrer\">this</a>, for some reason the tables don't seem to go on their own row, and instead the last table pushes the label to the left. If I only add one table it works fine (can't add another screenshot because I don't have enough rep...).</p>\n\n<p>Any help would be greatly appreciated, I'm running out of ideas by now.</p>\n"}, {"tags": ["android", "multithreading", "performance", "kotlin"], "comments": [{"owner": {"reputation": 2545, "user_id": 3416163, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cW6S2.jpg?s=128&g=1", "display_name": "Anton Kazakov", "link": "https://stackoverflow.com/users/3416163/anton-kazakov"}, "edited": false, "score": 1, "creation_date": 1498239729, "post_id": 44727143, "comment_id": 76436818, "body": "use systrace/ memory dump to find possible leak or smth else"}], "answers": [{"tags": [], "owner": {"reputation": 1323, "user_id": 1571480, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ad5521e564c79fddb7633d646aad01ce?s=128&d=identicon&r=PG", "display_name": "Pavlus", "link": "https://stackoverflow.com/users/1571480/pavlus"}, "is_accepted": false, "score": 1, "last_activity_date": 1498324903, "creation_date": 1498324903, "answer_id": 44739036, "question_id": 44727143, "link": "https://stackoverflow.com/questions/44727143/why-is-the-first-computation-in-my-android-app-slow-while-all-subsequent-computa/44739036#44739036", "title": "Why is the first computation in my Android app slow while all subsequent computations are fast", "body": "<ol>\n<li>Use profiler to measure time spent in methods, it's a quite useful tool!</li>\n<li>Classes are loaded to the runtime when they are first referenced, it's probable, that <code>ExprEvaluator</code> constructor or its method is referencing a good pile of internal classes inside the library which all are loaded at the first invocation, but for all subsequent invocations, classes are already loaded into the memory.</li>\n<li>Try browsing decompiled code of the library (just <code>Ctrl+B</code> or whatever shortcut you have for <code>Go\u00a0To\u00a0-&gt;\u00a0Implementation</code>), or original source if you have one. It can help you understand what happens inside.</li>\n</ol>\n"}], "owner": {"reputation": 407, "user_id": 6407499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-7s4l6zo1H3U/AAAAAAAAAAI/AAAAAAAAAck/x0z4rjubJUk/photo.jpg?sz=128", "display_name": "Arsala Bangash", "link": "https://stackoverflow.com/users/6407499/arsala-bangash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1498324903, "creation_date": 1498239581, "question_id": 44727143, "link": "https://stackoverflow.com/questions/44727143/why-is-the-first-computation-in-my-android-app-slow-while-all-subsequent-computa", "title": "Why is the first computation in my Android app slow while all subsequent computations are fast", "body": "<p>I'm using the symja android library to perform mathematical calculations for a quiz app I'm building. All of my calculations are performed by passing in a string such as \"1+3 + (4/2)\" to a class within the library called ExprEvaluator(). A sample usage would be </p>\n\n<pre><code>ExprEvaluator().evaluate(\"1+3 + (4/2)\") //Kotlin \n</code></pre>\n\n<p>When I run my quiz app and answer a question for the first time, the main UI Thread would freeze as it performed the calculation, but all subsequent calculations would be incredibly fast. Below, I have outlined a bunch of strategies I tried in order to solve the problem. Note: I have injected the ExprEvaluator class with Dagger, and it exists as a singleton </p>\n\n<pre><code>class ChallengeUtils {\n\n@Inject lateinit var exprEvaluator: ExprEvaluator\n...\nfun evaluate(expression: String?): IExpr? {\n    try {\n        return exprEvaluator.evaluate(expression)\n    } catch (e: Exception) {\n        throw (e)\n    }\n}\n</code></pre>\n\n<p>Strategy 1: Offload the computation to a seperate thread\nResult: Didn't make a difference in initial computation time and actually resulted in more issues because I needed the result on the main UI Thread. All subsequent computations were fast as usual. </p>\n\n<p>Strategy 2: Run a simple initial computation on my SplashScreen Activity.\nResult: This is the best possible solution I have found yet but the only drawback is that my splash screen takes too long. Once inside the main app, the quiz performs very well. </p>\n\n<p>Strategy 3: Run on a new Thread inside the Splash screen activity\nResult: This solved the problem of the splash screen taking way too long to load but if I answer a question on the main thread and check it's correctness before other thread's initial computation is complete, the UI thread freezes. </p>\n\n<hr>\n\n<p>I noticed that the first call to evaluate would always be slow, no matter the string I pass in. I could pass in \"1\" and the evaluation would take around 4 seconds while all subsequent more complex evaluations take miliseconds at most. Even if I use a new instance of the ExprEvaluator class for every sincle computation like so: </p>\n\n<pre><code>fun evaluate(expression: String?): IExpr? {\ntry {\n    return ExprEvaluator().evaluate(expression)\n} catch (e: Exception) {\n    throw (e)\n}\n</code></pre>\n\n<p>I still get a slow initial computation and all subsquent calls to evaluate are lightning fast. I'm not really sure what's happening here, and I'm wondering if it's a native android issue where heavy computation needs to performed at least once for all subsequent calculations to be smooth. </p>\n"}, {"tags": ["java", "generics", "kotlin"], "comments": [{"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1498239306, "post_id": 44726755, "comment_id": 76436618, "body": "What is your question? How to solve it? Or do you not understand the error?"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1498242187, "post_id": 44726755, "comment_id": 76438042, "body": "Have you tried using <code>ShareContent&lt;Any?, Any?&gt;</code> or <code>ShareContent&lt;Any, Any&gt;</code> instead of <code>ShareContent&lt;*, *&gt;</code>?"}, {"owner": {"reputation": 7211, "user_id": 1735198, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e969cb8cd59246b76f3830134a238ab5?s=128&d=identicon&r=PG", "display_name": "TpoM6oH", "link": "https://stackoverflow.com/users/1735198/tpom6oh"}, "reply_to_user": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1498243240, "post_id": 44726755, "comment_id": 76438596, "body": "@JornVernee I would like to know how to solve it, but more interested in knowing why, according to the docs <a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/java-interop.html</a> raw Java type should be representeer as Type&lt;*&gt; in Kotlin, but here it does not work."}], "answers": [{"tags": [], "owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "is_accepted": true, "score": 0, "last_activity_date": 1498244359, "creation_date": 1498244359, "answer_id": 44728304, "question_id": 44726755, "link": "https://stackoverflow.com/questions/44726755/java-generics-in-kotlin-use-java-raw-type-as-method-parameter-in-kotlin/44728304#44728304", "title": "Java generics in Kotlin: Use Java raw type as method parameter in Kotlin", "body": "<p>The problem is the signature of the <code>ShareDialog</code> class, which uses a raw type.</p>\n\n<pre><code>public final class ShareDialog extends \n              FacebookDialogBase&lt;ShareContent, Sharer.Result&gt;\n.................................^^^^^^^^^^^^\n</code></pre>\n\n<p>And, even though the Kotlin doc says to use <code>*</code>, at a VM level that is equivalent to <code>?</code>, a wildcard. Since a <code>FacebookDialogBase&lt;ShareContent, Sharer.Result&gt;</code> is not assignable to a <code>FacebookDialogBase&lt;ShareContent&lt;?, ?&gt;, Sharer.Result&gt;</code> your call fails.</p>\n\n<p>However, using a raw type <em>should</em> be semantically equivalent to using wildcards as type parameters. So you could do the generic equivalent of a reinterpret cast:</p>\n\n<pre><code>FacebookDialogBase&lt;ShareContent&lt;?, ?&gt;, Sharer.Result&gt; myVar = (FacebookDialogBase) new ShareDialog(this);\ntournamentPresenter.shareToFacebook(myVar, this);\n</code></pre>\n\n<p>And things should still pretty much work the same.</p>\n"}], "owner": {"reputation": 7211, "user_id": 1735198, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e969cb8cd59246b76f3830134a238ab5?s=128&d=identicon&r=PG", "display_name": "TpoM6oH", "link": "https://stackoverflow.com/users/1735198/tpom6oh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 609, "favorite_count": 0, "accepted_answer_id": 44728304, "answer_count": 1, "score": 1, "last_activity_date": 1498244359, "creation_date": 1498237921, "question_id": 44726755, "link": "https://stackoverflow.com/questions/44726755/java-generics-in-kotlin-use-java-raw-type-as-method-parameter-in-kotlin", "title": "Java generics in Kotlin: Use Java raw type as method parameter in Kotlin", "body": "<p>I'm looking at this class in Facebook sdk:</p>\n\n<pre><code>public final class ShareDialog extends \n                  FacebookDialogBase&lt;ShareContent, Sharer.Result&gt;\n</code></pre>\n\n<p>I want to have a method in Kotlin that accepts it's parent class, similar to the following:</p>\n\n<pre><code>fun shareToFacebook(shareDialog: FacebookDialogBase&lt;ShareContent&lt;*, *&gt;, Sharer.Result&gt;,\n                    activity: Activity) \n</code></pre>\n\n<p>But when I try to call it form java:</p>\n\n<pre><code>tournamentPresenter.shareToFacebook(new ShareDialog(this), this);\n</code></pre>\n\n<p>I get compile time error:</p>\n\n<p><code>Error:(751, 45) error: incompatible types: ShareDialog cannot be converted to FacebookDialogBase&lt;ShareContent&lt;?,?&gt;,Result&gt;</code></p>\n\n<p>P.S. I know that it's better to not give share dialog to the presenter, I'm not going to do it, let's just use it as an example of the problem</p>\n"}]