[{"tags": ["android", "junit", "kotlin"], "comments": [{"owner": {"reputation": 510, "user_id": 5664423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0eecb5f854ad0f973b64e9553759d8e?s=128&d=identicon&r=PG&f=1", "display_name": "alphaguy", "link": "https://stackoverflow.com/users/5664423/alphaguy"}, "edited": false, "score": 0, "creation_date": 1571743836, "post_id": 46084061, "comment_id": 103334993, "body": "I have two different class ... Test runs on class A sucessfully but when test runs on class B it say class csat except ... binder of Class A cannot be cast to B. I dont know why.... both classes are using ServiceTestRule"}, {"owner": {"reputation": 510, "user_id": 5664423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0eecb5f854ad0f973b64e9553759d8e?s=128&d=identicon&r=PG&f=1", "display_name": "alphaguy", "link": "https://stackoverflow.com/users/5664423/alphaguy"}, "edited": false, "score": 0, "creation_date": 1571746770, "post_id": 46084061, "comment_id": 103336671, "body": "Regarding your last statement, we can get only one bindService in child test class..so we should get the service at class level ?"}], "answers": [{"comments": [{"owner": {"reputation": 510, "user_id": 5664423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0eecb5f854ad0f973b64e9553759d8e?s=128&d=identicon&r=PG&f=1", "display_name": "alphaguy", "link": "https://stackoverflow.com/users/5664423/alphaguy"}, "edited": false, "score": 0, "creation_date": 1571743552, "post_id": 46099722, "comment_id": 103334850, "body": "Hi @NSaran I am facing similar issue.. Using ServiceTestRule where bindService() returns mBinder for one test case and for the whole suit it is returning ... bindService() cannot be null. Error"}, {"owner": {"reputation": 510, "user_id": 5664423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0eecb5f854ad0f973b64e9553759d8e?s=128&d=identicon&r=PG&f=1", "display_name": "alphaguy", "link": "https://stackoverflow.com/users/5664423/alphaguy"}, "edited": false, "score": 0, "creation_date": 1571743651, "post_id": 46099722, "comment_id": 103334904, "body": "My observations are when using Service test rule...you can get binder only once..  ( case when you are depending upon the internal service connection) for next test case. bindServuce always returns null... ( as on ServiceConnected method doesn&#39;t get called here)"}, {"owner": {"reputation": 175, "user_id": 8138184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f055aea8a5960874615cd456ea4d2aa?s=128&d=identicon&r=PG&f=1", "display_name": "NSaran", "link": "https://stackoverflow.com/users/8138184/nsaran"}, "reply_to_user": {"reputation": 510, "user_id": 5664423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0eecb5f854ad0f973b64e9553759d8e?s=128&d=identicon&r=PG&f=1", "display_name": "alphaguy", "link": "https://stackoverflow.com/users/5664423/alphaguy"}, "edited": false, "score": 0, "creation_date": 1577231270, "post_id": 46099722, "comment_id": 105126666, "body": "The bindService caches the service it found during the first invocation. So on the second invocation it returns the cached value and you see the Exception. The correct way to use this android API is to register a listener for the result of the Intent."}], "tags": [], "owner": {"reputation": 175, "user_id": 8138184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f055aea8a5960874615cd456ea4d2aa?s=128&d=identicon&r=PG&f=1", "display_name": "NSaran", "link": "https://stackoverflow.com/users/8138184/nsaran"}, "is_accepted": true, "score": 1, "last_activity_date": 1504796764, "creation_date": 1504796764, "answer_id": 46099722, "question_id": 46084061, "link": "https://stackoverflow.com/questions/46084061/classcastexception-with-servicetestrules-bindservice-method/46099722#46099722", "title": "ClassCastException with ServiceTestRule&#39;s bindService method", "body": "<p>The solution to this problem is using the ServiceConnection adapter with the ServiceTestRule's bindService method. So my getBoundService function now looks like this:</p>\n\n<pre><code>fun &lt;T : AbstractUIService&gt; getBoundService(clazz: Class&lt;T&gt;): T {\n    val serviceConnectionAdapter = doOperationWithLatch {\n        val adapter = ServiceConnectionAdapter(it)\n        serviceTestRule.bindService(\n                Intent(InstrumentationRegistry.getTargetContext().applicationContext, clazz),\n                adapter,\n                Context.BIND_AUTO_CREATE\n        )\n        adapter\n    } as ServiceConnectionAdapter\n\n    return (serviceConnectionAdapter.service as LocalBinder&lt;T&gt;).service\n}\n</code></pre>\n\n<p>where <code>it</code> is a CountDownLatch.</p>\n"}], "owner": {"reputation": 175, "user_id": 8138184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f055aea8a5960874615cd456ea4d2aa?s=128&d=identicon&r=PG&f=1", "display_name": "NSaran", "link": "https://stackoverflow.com/users/8138184/nsaran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 46099722, "answer_count": 1, "score": 1, "last_activity_date": 1504796764, "creation_date": 1504730690, "question_id": 46084061, "link": "https://stackoverflow.com/questions/46084061/classcastexception-with-servicetestrules-bindservice-method", "title": "ClassCastException with ServiceTestRule&#39;s bindService method", "body": "<p>I have written a function to get bound services using the ServiceTestRule, which is as follows:</p>\n\n<pre><code>class Parent {\n    companion object {\n        fun &lt;T : AbstractUIService&gt; getBoundService(clazz: Class&lt;T&gt;): T {\n            var binder: IBinder? = null\n            while (binder == null) {\n                binder = serviceTestRule.bindService(\n                    Intent(InstrumentationRegistry.getTargetContext().applicationContext, clazz))\n            }\n            return (binder as LocalBinder&lt;T&gt;).service\n        }\n    }\n}\n</code></pre>\n\n<p>This class is inherited by the classes which have the test cases. I get the 'bound service' using this function in the child class' companion object's @BeforeClass function. </p>\n\n<pre><code>class ChildATests: Parent() {\n    companion object {\n        lateinit var serviceA: ServiceA\n\n        @BeforeClass @JvmStatic\n        fun setUp() {\n            serviceA = getBoundService(ServiceA::class.java)\n        }\n    }\n}\n</code></pre>\n\n<p>This works fine if I have to run just one Child*Tests class. But when I run the whole suite, the first class runs fine but the rest of the classes fail with the following error:</p>\n\n<p><em>java.lang.ClassCastException: ServiceB cannot be cast to ServiceA</em></p>\n\n<p>Please note that I can only get one bound service within a Child*Tests class. If I try to get another bound service in the same class it fails with the same error.</p>\n\n<p>If more details are needed to clarify the situation, then please let me know.</p>\n"}, {"tags": ["gradle", "kotlin", "kotlin-exposed"], "comments": [{"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 0, "creation_date": 1504728084, "post_id": 46083364, "comment_id": 79128786, "body": "Can you post your build.gradle and the repositories block?"}, {"owner": {"reputation": 3974, "user_id": 632495, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bfcc7459b16c1eff3f1a724392ce7873?s=128&d=identicon&r=PG", "display_name": "Jon49", "link": "https://stackoverflow.com/users/632495/jon49"}, "reply_to_user": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "edited": false, "score": 1, "creation_date": 1504729236, "post_id": 46083364, "comment_id": 79129356, "body": "@GabrieleMariotti Posted the <code>build.gradle</code> file. Note, in the <code>bintray</code> web page for the project it says that the location is at <code>https:&#47;&#47;dl.bintray.com&#47;kotlin&#47;exposed</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3974, "user_id": 632495, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bfcc7459b16c1eff3f1a724392ce7873?s=128&d=identicon&r=PG", "display_name": "Jon49", "link": "https://stackoverflow.com/users/632495/jon49"}, "edited": false, "score": 0, "creation_date": 1504728965, "post_id": 46083423, "comment_id": 79129213, "body": "I added <code>jcenter()</code> the other one is <code>mavenCentral()</code>. It looks in <code>jcenter.bintray.com</code> but doesn&#39;t find it. I noticed in the top right corner that it says it is located under <code>https:&#47;&#47;dl.bintray.com&#47;kotlin&#47;exposed</code> which does have the library. But <code>dl()</code> doesn&#39;t work. Not sure how to get it pointed from <code>jcenter</code> to <code>dl</code>."}, {"owner": {"reputation": 3974, "user_id": 632495, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bfcc7459b16c1eff3f1a724392ce7873?s=128&d=identicon&r=PG", "display_name": "Jon49", "link": "https://stackoverflow.com/users/632495/jon49"}, "edited": false, "score": 0, "creation_date": 1504729476, "post_id": 46083423, "comment_id": 79129461, "body": "That seemed to do the trick. Except it doesn&#39;t like <code>maven()</code> I had to change it to <code>mavenCentral()</code> and it works fine. Not sure why it doesn&#39;t like the former."}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 3974, "user_id": 632495, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bfcc7459b16c1eff3f1a724392ce7873?s=128&d=identicon&r=PG", "display_name": "Jon49", "link": "https://stackoverflow.com/users/632495/jon49"}, "edited": false, "score": 1, "creation_date": 1504729634, "post_id": 46083423, "comment_id": 79129538, "body": "@Jon49 It&#39;s my bad regarding <code>maven()</code>. I wrote that from memory and as you can see my memory kind of failed me. I&#39;ve edited the answer now"}], "tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": true, "score": 8, "last_activity_date": 1504729499, "last_edit_date": 1504729499, "creation_date": 1504728018, "answer_id": 46083423, "question_id": 46083364, "link": "https://stackoverflow.com/questions/46083364/kotlin-require-library-with-gradle-build/46083423#46083423", "title": "Kotlin Require Library with Gradle Build", "body": "<p>As far as I know Exposed isn't in the main bintray repo (aka jcenter). To make gradle search in Exposed's repo you need to add this:</p>\n\n<pre><code>maven {\n    url  \"https://dl.bintray.com/kotlin/exposed\" \n}\n</code></pre>\n\n<p>to your <code>repositories</code> section.</p>\n\n<p>Example:</p>\n\n<pre><code>repositories {\n    mavenCentral()\n    maven {\n        url  \"https://dl.bintray.com/kotlin/exposed\" \n    }\n}\n</code></pre>\n\n<p>Then just rebuild and it should work just fine</p>\n"}], "owner": {"reputation": 3974, "user_id": 632495, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/bfcc7459b16c1eff3f1a724392ce7873?s=128&d=identicon&r=PG", "display_name": "Jon49", "link": "https://stackoverflow.com/users/632495/jon49"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1245, "favorite_count": 0, "accepted_answer_id": 46083423, "answer_count": 1, "score": 1, "last_activity_date": 1515188932, "creation_date": 1504727725, "last_edit_date": 1515188932, "question_id": 46083364, "link": "https://stackoverflow.com/questions/46083364/kotlin-require-library-with-gradle-build", "title": "Kotlin Require Library with Gradle Build", "body": "<p>I'm trying to add the library <a href=\"https://github.com/JetBrains/Exposed\" rel=\"nofollow noreferrer\">Exposed</a> to my project. So, it leads me to <a href=\"https://bintray.com/kotlin/exposed/exposed/view#\" rel=\"nofollow noreferrer\">the bintray page</a> where it says to use <code>compile 'org.jetbrains.exposed:exposed:0.8.5'</code>. I open my file <code>build.gradle</code> and place that file into the <code>dependencies</code> segment:</p>\n\n<pre><code>dependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    compile 'org.jetbrains.exposed:exposed:0.8.5'\n}\n</code></pre>\n\n<p>IntelliJ auto builds it and I get the following error</p>\n\n<blockquote>\n  <p>Warning:<i><b>root project 'DB-Table-To-Orm': Unable to build Kotlin\n  project configuration</b> Details:\n  java.lang.reflect.InvocationTargetException: null Caused by:\n  org.gradle.api.artifacts.ResolveException: Could not resolve all\n  dependencies for configuration ':compileClasspath'. Caused by:\n  org.gradle.internal.resolve.ModuleVersionNotFoundException: Could not\n  find org.jetbrains.exposed:exposed:0.8.5. Searched in the following\n  locations:\n      <a href=\"https://repo1.maven.org/maven2/org/jetbrains/exposed/exposed/0.8.5/exposed-0.8.5.pom\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/jetbrains/exposed/exposed/0.8.5/exposed-0.8.5.pom</a>\n      <a href=\"https://repo1.maven.org/maven2/org/jetbrains/exposed/exposed/0.8.5/exposed-0.8.5.jar\" rel=\"nofollow noreferrer\">https://repo1.maven.org/maven2/org/jetbrains/exposed/exposed/0.8.5/exposed-0.8.5.jar</a>\n  Required by:\n      project :</i></p>\n</blockquote>\n\n<p>So, I look <a href=\"https://repo1.maven.org/maven2/org/jetbrains/\" rel=\"nofollow noreferrer\">in the repo</a> and there is no path beyond <code>jetbrains</code> with the <code>exposed</code> directory.</p>\n\n<p>How do I install the Exposed library with Gradle? Do they have the path written down incorrectly? Should I put in a bug report with the project? Or am I just putting the <code>compile</code> statement in the wrong location?</p>\n\n<p>Sorry, if this seems like a silly request, I'm new to <code>Javaland</code> and <code>Kotlin</code> and <code>IntelliJ</code>. Coming for the <code>.NET</code> world.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Here's the <code>build.gradle</code> in its entirety:</p>\n\n<pre><code>group 'com.awebsite.db-table-to-orm'\nversion '1.0-SNAPSHOT'\n\nbuildscript {\n    ext.kotlin_version = '1.1.4-2'\n\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'kotlin'\n\nrepositories {\n    mavenCentral()\n    jcenter()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    compile 'org.jetbrains.exposed:exposed:0.8.5'\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 11, "last_activity_date": 1504725837, "creation_date": 1504725837, "answer_id": 46082894, "question_id": 46082806, "link": "https://stackoverflow.com/questions/46082806/calling-a-kotlin-higher-order-function-from-java/46082894#46082894", "title": "Calling a Kotlin higher-order function from Java", "body": "<p><code>Unit</code> is an <code>object</code> and is not directly equivalent to <code>void</code>. In the background even the kotlin code will include <code>return Unit.INSTANCE;</code> at the end of the callback. There is no way around that except for defining a separate interface that always returns <code>void</code>.</p>\n"}], "owner": {"reputation": 299, "user_id": 4200345, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FD57A.jpg?s=128&g=1", "display_name": "Michael Scott", "link": "https://stackoverflow.com/users/4200345/michael-scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2180, "favorite_count": 1, "accepted_answer_id": 46082894, "answer_count": 1, "score": 10, "last_activity_date": 1504725837, "creation_date": 1504725490, "question_id": 46082806, "link": "https://stackoverflow.com/questions/46082806/calling-a-kotlin-higher-order-function-from-java", "title": "Calling a Kotlin higher-order function from Java", "body": "<p>I have a Kotlin helper class defined as:</p>\n\n<pre><code>class CountdownTimer(endDateInSeconds: Long, callback: (timeRemaining: RemainingTime) -&gt; Unit)\n</code></pre>\n\n<p>which as the name implies, takes an epoch time and a callback to be invoked at fixed intervals (seconds in this case) until the end date is reached. RemainingTime is a data class containing the amount of time (seconds, mins, hours etc) until the end date. </p>\n\n<p>I can use this class from Kotlin cleanly:</p>\n\n<pre><code>        countdownTimer = CountdownTimer(endDate, { timeRemaining -&gt;\n             var timeString = // format time remaining into a string\n             view?.updateCountdownTimer(timeString)\n         })\n</code></pre>\n\n<p>However when I call this from Java, I am forced to provide an unnecessary return value in the callback, even though the anonymous function specifies a Unit return type (which in theory is the equivalent of a Java void return type):</p>\n\n<pre><code>        this.countdownTimer = new CountdownTimer(this.endDate, remainingTime -&gt; {\n             var timeString = // format time remaining into a string\n             if (view != null) {\n                 view.updateCountdownTimer(timeString);\n             }\n             return null;\n        });\n</code></pre>\n\n<p>While not technically a problem, having to do provide a meaningless return value from the Java callback seems .. wrong. Is there a better way to express this callback in Kotlin? </p>\n"}, {"tags": ["jdbc", "kotlin", "jython"], "comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 1, "creation_date": 1504722963, "post_id": 46082024, "comment_id": 79126118, "body": "I see no disadvantages of writing it in Kotlin. Yes, you can use Java from Kotlin and Kotlin from Java"}, {"owner": {"reputation": 1527, "user_id": 5387972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d6b6d9239d09a67878e860ac414c4970?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/5387972/jay"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1504727159, "post_id": 46082024, "comment_id": 79128318, "body": "Thanks! How about performance though, should I expect a speed bump?"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 1, "creation_date": 1504727223, "post_id": 46082024, "comment_id": 79128342, "body": "<a href=\"https://stackoverflow.com/questions/44081105/do-kotlin-provide-any-performance-boosts\">Kotlin is probably as fast as Java. So no, no speed reduces but don&#39;t expect too much improvements either</a>"}, {"owner": {"reputation": 80989, "user_id": 466862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d873f397779db38cd510d9ee5416fd43?s=128&d=identicon&r=PG", "display_name": "Mark Rotteveel", "link": "https://stackoverflow.com/users/466862/mark-rotteveel"}, "edited": false, "score": 1, "creation_date": 1504769642, "post_id": 46082024, "comment_id": 79142547, "body": "Doesn&#39;t Kotlin have a runtime dependency? If so, it might be better not to do this. Speaking from experience, it is better to minimize external dependencies in a JDBC driver (preferably none at all)."}, {"owner": {"reputation": 1527, "user_id": 5387972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d6b6d9239d09a67878e860ac414c4970?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/5387972/jay"}, "edited": false, "score": 0, "creation_date": 1504806878, "post_id": 46082024, "comment_id": 79167565, "body": "I wasn&#39;t aware of that. If you can elaborate some more in a separate answer I&#39;d be grateful."}], "answers": [{"comments": [{"owner": {"reputation": 1527, "user_id": 5387972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d6b6d9239d09a67878e860ac414c4970?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/5387972/jay"}, "edited": false, "score": 0, "creation_date": 1504727115, "post_id": 46082805, "comment_id": 79128292, "body": "Good to know, thanks! Any further level of verbosity to help me pitch this to my superiors would be appreciated :)"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 1527, "user_id": 5387972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d6b6d9239d09a67878e860ac414c4970?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/5387972/jay"}, "edited": false, "score": 0, "creation_date": 1504729018, "post_id": 46082805, "comment_id": 79129243, "body": "What would they want to hear?"}, {"owner": {"reputation": 1527, "user_id": 5387972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d6b6d9239d09a67878e860ac414c4970?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/5387972/jay"}, "edited": false, "score": 0, "creation_date": 1504756939, "post_id": 46082805, "comment_id": 79137025, "body": "I was aiming at better maintainability, more leisurable interaction and future profit from adding Kotlin to our stack"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 1527, "user_id": 5387972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d6b6d9239d09a67878e860ac414c4970?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/5387972/jay"}, "edited": false, "score": 1, "creation_date": 1504765325, "post_id": 46082805, "comment_id": 79139910, "body": "I think to greatest argument pro Kotlin is &quot;productivity&quot;. See, Java is a great language but Kotlin picks it up and makes it so much easier and better. Many tasks (singleton, data classes, delegation, etc.) are implemented in the language which can easily be applied with simple keywords rather than with lots of boilerplate as in Java. There are many examples for that. And of course, this in turn makes way more fun, when you don&#39;t have to repeat yourself over and over. Personally, other reasons for Kotlin: extensions, more functional, coroutines, industry experts behind it (JetBrains), FUN :)"}, {"owner": {"reputation": 1527, "user_id": 5387972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d6b6d9239d09a67878e860ac414c4970?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/5387972/jay"}, "edited": false, "score": 0, "creation_date": 1504815428, "post_id": 46082805, "comment_id": 79171738, "body": "How about the runtime dependency issue @MarkRotteveel pointed out?"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 2, "last_activity_date": 1504729637, "last_edit_date": 1504729637, "creation_date": 1504725490, "answer_id": 46082805, "question_id": 46082024, "link": "https://stackoverflow.com/questions/46082024/is-it-applicable-to-write-a-jdbc-driver-in-kotlin/46082805#46082805", "title": "Is it applicable to write a JDBC driver in Kotlin?", "body": "<p>You can absolutely do this. JDBC driver vendors need to implement certain Java <code>interfaces</code> in package <code>java.sql</code> which is totally feasible with Kotlin as much as with Java. Just do it :) </p>\n\n<p>You can get started with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/Driver.html\" rel=\"nofollow noreferrer\"><code>Driver</code></a></p>\n"}], "owner": {"reputation": 1527, "user_id": 5387972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d6b6d9239d09a67878e860ac414c4970?s=128&d=identicon&r=PG&f=1", "display_name": "Jay", "link": "https://stackoverflow.com/users/5387972/jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 880, "favorite_count": 0, "accepted_answer_id": 46082805, "answer_count": 1, "score": 0, "last_activity_date": 1504729637, "creation_date": 1504722431, "question_id": 46082024, "link": "https://stackoverflow.com/questions/46082024/is-it-applicable-to-write-a-jdbc-driver-in-kotlin", "title": "Is it applicable to write a JDBC driver in Kotlin?", "body": "<p>Upon writing a DB-API interface, and a basic SQLAlchemy dialect for our database, I was assigned to pick up Java, and write a JDBC driver as well. I gather it'll be Level 4, with sockets against the database and such. </p>\n\n<p>I know Zero Java. I intended to pick up Kotlin at some point, so I was wondering whether it'd be feasible to create a JDBC driver in Kotlin. </p>\n\n<p>For example, as far as I know, Kotlin can use Java libraries. Not sure of the other way around - would any Java application be able to use a Kotlin JDBC driver, if written properly? What would be \"properly\" in this case? Other considerations to be noted?</p>\n\n<p>Any feedback would be appreciated.</p>\n\n<ul>\n<li>I also considered Jython, but I'm less inclined as I suspect it'll be less fitting, though not really sure on this one as well.</li>\n</ul>\n"}, {"tags": ["android", "sqlite", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 7289713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6783bddc77fd0376eee611067888286c?s=128&d=identicon&r=PG&f=1", "display_name": "Halima", "link": "https://stackoverflow.com/users/7289713/halima"}, "edited": false, "score": 0, "creation_date": 1512489622, "post_id": 47657711, "comment_id": 82273984, "body": "If you want all colums, put simply : <code>select(&quot;main_db&quot;).exec {</code>  and you want specify row :  <code>select(&quot;main_db&quot;, &quot;name&quot;).exec {</code> for example."}], "tags": [], "owner": {"reputation": 5, "user_id": 7289713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6783bddc77fd0376eee611067888286c?s=128&d=identicon&r=PG&f=1", "display_name": "Halima", "link": "https://stackoverflow.com/users/7289713/halima"}, "is_accepted": false, "score": 0, "last_activity_date": 1512489428, "creation_date": 1512489428, "answer_id": 47657711, "question_id": 46079162, "link": "https://stackoverflow.com/questions/46079162/adding-query-parse-sqlite-using-anko/47657711#47657711", "title": "Adding / Query / Parse SQLite using Anko", "body": "<p>I hope it's not too late. You can try this :</p>\n\n<pre><code>database.use {\n  select(\"main_db\", \"_id\", \"name\",\"day\").exec {\n   parseList( object : MapRowParser&lt;Map&lt;String, Any?&gt;&gt; {\n    override fun parseRow(columns: Map&lt;String, Any?&gt;): Map&lt;String, Any?&gt; {\n      Log.e(\"Your result\", columns.toString())\n        return columns\n      }\n    }\n   )\n }\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 8569578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84b14838a03c142db725c0b5f708f758?s=128&d=identicon&r=PG&f=1", "display_name": "Rodrigo David", "link": "https://stackoverflow.com/users/8569578/rodrigo-david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1718, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1512489428, "creation_date": 1504711826, "last_edit_date": 1504717848, "question_id": 46079162, "link": "https://stackoverflow.com/questions/46079162/adding-query-parse-sqlite-using-anko", "title": "Adding / Query / Parse SQLite using Anko", "body": "<p><strong>tl;dr:</strong> I'm having issues trying to get my code to work, now I can create the database using Anko and insert the columns but when I try to insert the data and when I open the database on sqliteman my columns are empty I also don't know how to retrieve the data in strings/Int to send to a <code>View</code></p>\n\n<p><strong>This apparently works fine</strong> I can see my database created with all the columns with the right name</p>\n\n<pre><code>class MySqlHelper(ctx: Context) : ManagedSQLiteOpenHelper(ctx, \"db_main\") {\n\ncompanion object {\n    private var instance: MySqlHelper? = null\n\n    @Synchronized\n    fun getInstance(ctx: Context): MySqlHelper {\n        if (instance == null) {\n            instance = MySqlHelper(ctx.applicationContext)\n        }\n        return instance!!\n    }\n}\n\n\noverride fun onCreate(db: SQLiteDatabase) {\n    db.createTable(\"db_main\", true,\n            \"_id\" to INTEGER + PRIMARY_KEY + AUTOINCREMENT + NOT_NULL,\n            \"name\" to TEXT,\n            \"day\" to INTEGER)\n\n}\n\noverride fun onUpgrade(db: SQLiteDatabase, oldVersion: Int, newVersion: Int) {\n       }\n\n// Access property for Context\nval Context.database: MySqlHelper\n    get() = getInstance(applicationContext)\n\n}\n</code></pre>\n\n<p><strong>This should work but it doesn't</strong> Although I have all the columns in the database and I don't get any error messages they're not being added</p>\n\n<p>The code below is called in <code>MainActivity</code></p>\n\n<pre><code>val db = MySqlHelper(this)\n\n\nfun addtosqllite(title: String, datepicker: DatePicker) {\n\ndb.use {\n        insert(\"db_main\",\n                \"_id\" to 1,\n                \"name\" to title,\n                \"day\" to  datepicker.dayOfMonth)\n     }\n}\n</code></pre>\n\n<p><strong>I have no idea how to do this</strong> \nI need to retrieve the data from the database. I've been Reading the documentation but I don't know how to implement <a href=\"https://github.com/Kotlin/anko/wiki/Anko-SQLite#querying-data\" rel=\"nofollow noreferrer\">this</a></p>\n\n<p>Let's say that I have three columns <code>_id</code>, <code>name</code> and <code>day</code>\nI was doing something like</p>\n\n<pre><code>db.select(\"main_db\",\"_id\",\"name\",\"day\").exec {\nparseSingle //something goes here to send the data to String/Int\n}\n</code></pre>\n"}, {"tags": ["java", "android", "json", "kotlin", "moshi"], "comments": [{"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1504712741, "post_id": 46078849, "comment_id": 79120261, "body": "I&#39;m not familiar with Moshi or Kotlin, but with Gson and Java I&#39;d look into custom deserializer + marker interface (and a class that wraps <code>String</code>) to handle this. Something like <code>interface Record</code>, <code>class StringRecord implements Record</code>, <code>class ObjectRecord implements Record</code>, and then your top-level has <code>private Record out</code> etc."}, {"owner": {"reputation": 95, "user_id": 7494635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3884dfb1d115c2d1001da774f378f9d4?s=128&d=identicon&r=PG&f=1", "display_name": "taternator5000", "link": "https://stackoverflow.com/users/7494635/taternator5000"}, "reply_to_user": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1504720753, "post_id": 46078849, "comment_id": 79124959, "body": "@BenP. That sounds like it might work, but could you please elaborate a little bit? I&#39;m not super familiar with the concept of interfaces. And what do you mean by &quot;a class that wraps <code>String</code>? Thanks."}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1504723237, "post_id": 46078849, "comment_id": 79126281, "body": "Check out my answer to a similar question: <a href=\"https://stackoverflow.com/questions/45696825/parse-jsonarray-which-contains-primitive-and-objects/45698573#45698573\" title=\"parse jsonarray which contains primitive and objects\">stackoverflow.com/questions/45696825/&hellip;</a> . By &quot;wraps a string&quot; I mean you create your own custom class that just has a <code>String</code> field (similar to the way <code>ResponseInteger</code> just has an <code>int</code> field in my linked answer). As for interfaces, the problem is that you need a single <i>type</i> that represents both a String and your custom object; an interface will do just that. Let me know if you have more questions after reading the link."}, {"owner": {"reputation": 95, "user_id": 7494635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3884dfb1d115c2d1001da774f378f9d4?s=128&d=identicon&r=PG&f=1", "display_name": "taternator5000", "link": "https://stackoverflow.com/users/7494635/taternator5000"}, "reply_to_user": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1504726288, "post_id": 46078849, "comment_id": 79127865, "body": "@BenP. That looks promising, and I&#39;m trying to implement something similar to see if it works. Just one question: the classes I&#39;m using have to implement <code>Parcelable</code>, and I need to access their <code>Creator</code> fields. How can I add a <code>Creator</code> to an interface? I have added <code>Creator</code> fields to the inheriting classes, <code>StringRecord</code> and <code>ObjectRecord</code>, but I&#39;d have to call <a href=\"https://developer.android.com/reference/android/os/Parcel.html\" rel=\"nofollow noreferrer\">readTypedList</a> like so: <code>readTypedList&lt;Record&gt;(record, Record.Creator)</code>--but I can&#39;t add a static object like a Creator to an interface, right?"}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1504726999, "post_id": 46078849, "comment_id": 79128239, "body": "Parceling a list of variable types is a hairy problem. Perhaps instead of an interface you could use an abstract class, and then your <code>Parcelable.Creator</code> object could write and read some type information to know whether to use <code>StringRecord</code> or <code>ObjectRecord</code>."}, {"owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 0, "creation_date": 1504737761, "post_id": 46078849, "comment_id": 79132746, "body": "Gson has a RuntimeTypeAdapterFactory for this use case."}, {"owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 0, "creation_date": 1504737776, "post_id": 46078849, "comment_id": 79132751, "body": "In Moshi, you want something like this: <a href=\"https://github.com/square/moshi/pull/264/files\" rel=\"nofollow noreferrer\">github.com/square/moshi/pull/264/files</a>"}, {"owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 0, "creation_date": 1504737820, "post_id": 46078849, "comment_id": 79132767, "body": "Let me know if the above suits your needs. We&#39;ve considered a few options for more general support of polymorphic use cases."}], "answers": [{"tags": [], "owner": {"reputation": 103, "user_id": 3543610, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yTRo0.jpg?s=128&g=1", "display_name": "Thiago Saraiva", "link": "https://stackoverflow.com/users/3543610/thiago-saraiva"}, "is_accepted": false, "score": 0, "last_activity_date": 1606908055, "creation_date": 1606908055, "answer_id": 65107065, "question_id": 46078849, "link": "https://stackoverflow.com/questions/46078849/deserialize-a-field-that-can-be-one-of-two-data-types-using-moshi/65107065#65107065", "title": "Deserialize a field that can be one of two data types using Moshi", "body": "<p>You can do something like what I did in this answer: <a href=\"https://stackoverflow.com/a/65106419/3543610\">https://stackoverflow.com/a/65106419/3543610</a></p>\n<p>Basically you'd create a sealed class to be the type of both your properties <code>in</code> and <code>out</code>. You'd also need to wrap the primitive string one into a type holding a String, so you can make it extend the sealed class, something like this:</p>\n<pre><code>sealed class YourType {\n    data class StringData(val value: String) : YourType()\n\n    @JsonClass(generateAdapter = true)\n    data class Record(\n        val prop1: String,\n        val prop2: Int\n    ) : YourType()\n}\n</code></pre>\n<p>Then your model that has these properties would look smth like:</p>\n<pre><code>@JsonClass(generateAdapter = true)\ndata class Model(\n    ...\n    val in: YourType,\n    val out: YourType,\n    ...\n)\n</code></pre>\n<p>then finally you write your custom adapter for the <code>YourType</code> type:</p>\n<pre><code>class YourTypeCustomAdapter {\n    @FromJson\n    fun fromJson(jsonReader: JsonReader, delegate: JsonAdapter&lt;Record&gt;): YourType? {\n        return if (jsonReader.peek() == BEGIN_OBJECT) {\n            delegate.fromJson(jsonReader)\n        } else {\n            StringData(jsonReader.nextString())\n        }\n    }\n\n    @ToJson\n    fun toJson(jsonWriter: JsonWriter, yourType: YourType, delegate: JsonAdapter&lt;Record&gt;) {\n        when (yourType) {\n            is Record -&gt; delegate.toJson(jsonWriter, yourType)\n            is StringData -&gt; jsonWriter.value(yourType.value)\n        }\n    }\n}\n</code></pre>\n<p>and register with Moshi:</p>\n<pre><code>private val moshi = Moshi.Builder()\n    .add(YourTypeCustomAdapter())\n    .build()\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 7494635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3884dfb1d115c2d1001da774f378f9d4?s=128&d=identicon&r=PG&f=1", "display_name": "taternator5000", "link": "https://stackoverflow.com/users/7494635/taternator5000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1570, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1606908055, "creation_date": 1504710804, "question_id": 46078849, "link": "https://stackoverflow.com/questions/46078849/deserialize-a-field-that-can-be-one-of-two-data-types-using-moshi", "title": "Deserialize a field that can be one of two data types using Moshi", "body": "<p>I'm receiving some JSON from an OrientDB server that looks something like this:</p>\n\n<pre><code>{\n    ...\n    \"out\": ...,\n    \"in\": ...,\n    ...\n}\n</code></pre>\n\n<p>Now these two fields <code>out</code> and <code>in</code> can be one of two types: <code>String</code> and my own custom object (let's call it a <code>Record</code>). For example, for one request I might receive this:</p>\n\n<pre><code>{\n    ...\n    \"out\": \"#17:0\",\n    \"in\": {\n        ...\n    },\n    ...\n}\n</code></pre>\n\n<p>For another I might get:</p>\n\n<pre><code>{\n    ...\n    \"out\": {\n        ...\n    },\n    \"in\": \"#18:2\",\n    ...\n}\n</code></pre>\n\n<p>And so on. Both might be <code>String</code>s, both might be <code>Records</code>, one might be a <code>String</code> and the other a <code>Record</code>, et cetera et cetera. Now when I'm deserializing this kind of JSON using <a href=\"https://github.com/square/moshi\" rel=\"noreferrer\">Moshi</a>, I'd have two parameters <code>out</code> and <code>in</code> to hold the values of their respective keys; however, because these values aren't a fixed data type, that's easier said than done.</p>\n\n<p>Creating multiple POJOs (or \"POKO\"s, I guess, because I'm using Kotlin) wouldn't work, because these objects can be found inside <em>other</em> JSON objects and stuff like that. I'd need a single object for which these parameters can take on a variable data type. So how would I do that?</p>\n\n<p>Would I have to write a custom adapter in Moshi for serializing/deserializing these values? If so, how would I go about writing one that can assign a certain data type depending on the value of the parameter? Or is there some sort of Kotlin class/function/extension function I can find/write that can hold two possible data types?</p>\n\n<p>If it's relevant, I'm also using Retrofit 2 + RxJava 2 to make my HTTP calls asynchronously, so if there's any data types or functions in these libraries that facilitates something like this, I'm all ears.</p>\n\n<p>Even if anyone can only answer in Java that's okay, because I can convert the code myself. And if I'm missing something obvious, I apologize in advance.</p>\n"}, {"tags": ["javascript", "node.js", "firebase", "kotlin", "google-cloud-functions"], "answers": [{"tags": [], "owner": {"reputation": 18090, "user_id": 3337080, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Pr8Qu.png?s=128&g=1", "display_name": "Orelsanpls", "link": "https://stackoverflow.com/users/3337080/orelsanpls"}, "is_accepted": false, "score": 1, "last_activity_date": 1504708583, "last_edit_date": 1504708583, "creation_date": 1504708175, "answer_id": 46077876, "question_id": 46077543, "link": "https://stackoverflow.com/questions/46077543/how-to-use-a-function-called-val-in-kotlin-extend-external-js-classes/46077876#46077876", "title": "How to use a function called &quot;val()&quot; in Kotlin? / extend external JS classes", "body": "<p>In javascript a class is an object aswell</p>\n\n<pre><code>snapshot['val']();\n</code></pre>\n\n<hr>\n\n<p><strong>More generic</strong></p>\n\n<pre><code>object[functionName]();\n\nobject[functionName].call(object, ...args);\n\nobject[functionName].apply(object, args);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5365, "user_id": 1166926, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/bef2acbb62b879e00ac413d781406c40?s=128&d=identicon&r=PG", "display_name": "Hardik Trivedi", "link": "https://stackoverflow.com/users/1166926/hardik-trivedi"}, "edited": false, "score": 0, "creation_date": 1534369664, "post_id": 46078851, "comment_id": 90685851, "body": "How do we use this My class as Snapshot&#39;s replacement? Where to put this class?"}], "tags": [], "owner": {"reputation": 2015, "user_id": 1109309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f8a2b866ae0dc92a9e774d0094da8f4d?s=128&d=identicon&r=PG", "display_name": "Alexey Andreev", "link": "https://stackoverflow.com/users/1109309/alexey-andreev"}, "is_accepted": true, "score": 3, "last_activity_date": 1504710805, "creation_date": 1504710805, "answer_id": 46078851, "question_id": 46077543, "link": "https://stackoverflow.com/questions/46077543/how-to-use-a-function-called-val-in-kotlin-extend-external-js-classes/46078851#46078851", "title": "How to use a function called &quot;val()&quot; in Kotlin? / extend external JS classes", "body": "<p>Did you try following?</p>\n\n<pre><code>external class MyClass {\n    @JsName(\"val\")\n    fun foo()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1513594940, "post_id": 47862744, "comment_id": 82699050, "body": "Can you create an extension function this way? Otherwise this is even more complicated than the <i>grave accent</i>."}, {"owner": {"reputation": 105, "user_id": 5172626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abe3f4d2733df8c5e764660a8d324f55?s=128&d=identicon&r=PG&f=1", "display_name": "\u0414\u0435\u043d\u0438\u0441 \u041a\u043b\u0435\u0449\u0435\u0432", "link": "https://stackoverflow.com/users/5172626/%d0%94%d0%b5%d0%bd%d0%b8%d1%81-%d0%9a%d0%bb%d0%b5%d1%89%d0%b5%d0%b2"}, "reply_to_user": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1513691630, "post_id": 47862744, "comment_id": 82742929, "body": "try this:  <code>fun Any.jsVal() = asDynamic()?.`val()`</code>  and then in your code:  <code>snapshot.jsVal().yourCode</code>"}, {"owner": {"reputation": 105, "user_id": 5172626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abe3f4d2733df8c5e764660a8d324f55?s=128&d=identicon&r=PG&f=1", "display_name": "\u0414\u0435\u043d\u0438\u0441 \u041a\u043b\u0435\u0449\u0435\u0432", "link": "https://stackoverflow.com/users/5172626/%d0%94%d0%b5%d0%bd%d0%b8%d1%81-%d0%9a%d0%bb%d0%b5%d1%89%d0%b5%d0%b2"}, "reply_to_user": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1513692348, "post_id": 47862744, "comment_id": 82743366, "body": "upd: sorry, my previous comment is wrong. It seems to be impossible"}], "tags": [], "owner": {"reputation": 105, "user_id": 5172626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abe3f4d2733df8c5e764660a8d324f55?s=128&d=identicon&r=PG&f=1", "display_name": "\u0414\u0435\u043d\u0438\u0441 \u041a\u043b\u0435\u0449\u0435\u0432", "link": "https://stackoverflow.com/users/5172626/%d0%94%d0%b5%d0%bd%d0%b8%d1%81-%d0%9a%d0%bb%d0%b5%d1%89%d0%b5%d0%b2"}, "is_accepted": false, "score": 0, "last_activity_date": 1513575965, "creation_date": 1513575965, "answer_id": 47862744, "question_id": 46077543, "link": "https://stackoverflow.com/questions/46077543/how-to-use-a-function-called-val-in-kotlin-extend-external-js-classes/47862744#47862744", "title": "How to use a function called &quot;val()&quot; in Kotlin? / extend external JS classes", "body": "<p>try this:</p>\n\n<pre><code>js(\"snapshot.val()\").yourKotlinCode\n</code></pre>\n\n<p>it works for me</p>\n"}], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 46078851, "answer_count": 3, "score": 3, "last_activity_date": 1513575965, "creation_date": 1504707225, "question_id": 46077543, "link": "https://stackoverflow.com/questions/46077543/how-to-use-a-function-called-val-in-kotlin-extend-external-js-classes", "title": "How to use a function called &quot;val()&quot; in Kotlin? / extend external JS classes", "body": "<p>I encountered a problem while trying to use <a href=\"https://firebase.google.com/docs/functions/\" rel=\"nofollow noreferrer\">Cloud Functions for Firebase</a> with <strong>Kotlin</strong>.</p>\n\n<p>When accessing data from a <em>database trigger</em> you use the <code>snapshot.val();</code> function in <em>Javascript</em>. In <em>Kotlin</em> this is <strong>not</strong> possible because <code>val</code> is a keyword in <em>Kotlin</em>. I managed a way to go around this by using</p>\n\n<pre><code>snapshot.`val()`\n</code></pre>\n\n<p>This way I can call functions with any name in <em>Kotlin</em>. Now I think that it is really annoying to type this \"grave accent\" (`) thingy every time, so I tried to create an extension function. </p>\n\n<p>My problem with that is that I do not know how to reference the type. In <em>Javascript</em> it is <a href=\"https://firebase.google.com/docs/reference/functions/functions.database.DeltaSnapshot#val\" rel=\"nofollow noreferrer\"><code>DeltaSnapshot</code></a> or <a href=\"https://firebase.google.com/docs/reference/admin/node/admin.database.DataSnapshot#val\" rel=\"nofollow noreferrer\"><code>DataSnapshot</code></a> when accessing the database.</p>\n\n<p>How do I extend external classes or how can I call it by a different name?\nTypealiases won't work because they are limited to classes / instead of supporting functions.</p>\n"}, {"tags": ["android", "kotlin", "adapter", "baseadapter"], "comments": [{"owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "edited": false, "score": 1, "creation_date": 1504703401, "post_id": 46076148, "comment_id": 79113279, "body": "What do you mean by &quot;interface&quot;? <a href=\"https://kotlinlang.org/docs/reference/interfaces.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/interfaces.html</a> ? Can you share some code?"}, {"owner": {"reputation": 505, "user_id": 7995502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9f155a536c31418b94181a8faaad2f8d?s=128&d=identicon&r=PG&f=1", "display_name": "komal akhani", "link": "https://stackoverflow.com/users/7995502/komal-akhani"}, "edited": false, "score": 0, "creation_date": 1504703509, "post_id": 46076148, "comment_id": 79113398, "body": "upload your code"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1504703583, "post_id": 46076148, "comment_id": 79113466, "body": "Click Interfaces are already listeners. So, you added another one?"}], "answers": [{"comments": [{"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1504704756, "post_id": 46076355, "comment_id": 79114405, "body": "That&#39;s not the way it goes using Kotlin. Its the way it goes if the converter try to convert java to kotlin :)"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1504704858, "post_id": 46076355, "comment_id": 79114469, "body": "<code>mClickListener?.onBtnClick(position)</code> should be used instead of null check followed by using <code>!!</code>. And I wonder why do you put <code>BtnClickListener</code> inside companion object?"}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1504704925, "post_id": 46076355, "comment_id": 79114528, "body": "This is how auto generated code works if you use &quot;Convert Java -&gt; Kotlin&quot; converter in Android Studio"}], "tags": [], "owner": {"reputation": 483, "user_id": 2923188, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/100001226691320/picture?type=large", "display_name": "Sumit Pansuriya", "link": "https://stackoverflow.com/users/2923188/sumit-pansuriya"}, "is_accepted": true, "score": 11, "last_activity_date": 1504704952, "last_edit_date": 1504704952, "creation_date": 1504703861, "answer_id": 46076355, "question_id": 46076148, "link": "https://stackoverflow.com/questions/46076148/how-to-create-onclick-event-in-adapter-using-interface-android/46076355#46076355", "title": "How to create onclick event in adapter using interface android?", "body": "<p>Please check this code, It's working fine for me.</p>\n\n<p>First Create Adapter class.</p>\n\n<pre><code>class ChapterAdapter(private val activity: Activity, val mWords: ArrayList&lt;Chapter&gt;, val btnlistener: BtnClickListener) : RecyclerView.Adapter&lt;ChapterAdapter.ViewHolder&gt;() {\n\n        companion object {\n            var mClickListener: BtnClickListener? = null\n        }\n\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n            val layoutInflater = LayoutInflater.from(parent.context)\n            return ViewHolder(layoutInflater.inflate(R.layout.layout_capter_raw, parent, false))\n        }\n\n        override fun onBindViewHolder(holder: ViewHolder?, position: Int) {\n            mClickListener = btnlistener\n            val item = mWords[position]\n\n            holder.layout_chapter_name.setOnClickListener(object : View.OnClickListener {\n                override fun onClick(v: View?) {\n                    if (mClickListener != null)\n                        mClickListener?.onBtnClick(position)\n                }\n            })\n        }\n\n        override fun getItemCount(): Int {\n            return mWords.size\n        }\n\n        override fun getItemId(position: Int): Long {\n            return super.getItemId(position)\n        }\n\n        override fun getItemViewType(position: Int): Int {\n            return super.getItemViewType(position)\n        }\n\n        class ViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n            val txt_capter_name = view.txt_capter_name\n        }\n\n        open interface BtnClickListener {\n            fun onBtnClick(position: Int)\n        }\n    }\n</code></pre>\n\n<p>After create and declare adapter in your Activity or Fragment.</p>\n\n<pre><code>listAdapter = ChapterAdapter(activity, _arrChapterList, object : ChapterAdapter.BtnClickListener {\n                override fun onBtnClick(position: Int, chapter_id: String, chapter_size: String, chapter_name: String) {\n                    toast(chapter_id + \" = \" + chapter_size, Toast.LENGTH_LONG)\n                }\n            })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 133, "user_id": 1528647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c403e7330622a453b42e5db1c7952a?s=128&d=identicon&r=PG", "display_name": "ios", "link": "https://stackoverflow.com/users/1528647/ios"}, "edited": false, "score": 0, "creation_date": 1504704558, "post_id": 46076440, "comment_id": 79114245, "body": "using lambda expression this is shot solution"}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 133, "user_id": 1528647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c403e7330622a453b42e5db1c7952a?s=128&d=identicon&r=PG", "display_name": "ios", "link": "https://stackoverflow.com/users/1528647/ios"}, "edited": false, "score": 0, "creation_date": 1504704692, "post_id": 46076440, "comment_id": 79114355, "body": "Kotlin SAM-Type :-)"}, {"owner": {"reputation": 483, "user_id": 2923188, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/100001226691320/picture?type=large", "display_name": "Sumit Pansuriya", "link": "https://stackoverflow.com/users/2923188/sumit-pansuriya"}, "edited": false, "score": 0, "creation_date": 1504705160, "post_id": 46076440, "comment_id": 79114702, "body": "Can you provide full code how can it&#39;s possible with Interface.?"}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1504705445, "post_id": 46076440, "comment_id": 79114932, "body": "Modified my sample. Untested but this is the way it goes. Take care, the example code has some bugs ... for example you shouldnt use the &quot;ID&quot;, you should use holder.root.setOnClickListener  { .. }"}, {"owner": {"reputation": 746, "user_id": 1496693, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/WB16i.jpg?s=128&g=1", "display_name": "airowe", "link": "https://stackoverflow.com/users/1496693/airowe"}, "edited": false, "score": 0, "creation_date": 1511209135, "post_id": 46076440, "comment_id": 81754206, "body": "I&#39;m getting an error on $it &quot;Expecting an element&quot;. How would I pass just the position back to the hosting fragment of the adapter?"}], "tags": [], "owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "is_accepted": false, "score": 5, "last_activity_date": 1504705419, "last_edit_date": 1504705419, "creation_date": 1504704098, "answer_id": 46076440, "question_id": 46076148, "link": "https://stackoverflow.com/questions/46076148/how-to-create-onclick-event-in-adapter-using-interface-android/46076440#46076440", "title": "How to create onclick event in adapter using interface android?", "body": "<p>In Kotlin the proper way doing this, is using callbacks instead of <code>Java Interfaces</code>. Example:</p>\n\n<pre><code>class MyAdapter(private val callback: (YourModel) -&gt; Unit) {\n\n    override fun onBindViewHolder(holder: DataBoundViewHolder&lt;YourModel&gt;, position: Int) {\n        bind(holder.binding, items!![position])\n        holder.binding.executePendingBindings()\n        holder.binding.root.setOnClickListener { callback(binding.model) }\n   }\n}\n</code></pre>\n\n<p>And create the adapter somewhere using</p>\n\n<pre><code>MyAdapter myAdapter = MyAdapter( { println{\"Clicked $it\"} })\n</code></pre>\n\n<p>Edit: Since the Asker would like to see a full working code i used the code from Sumit and replaced the Interfaces with Kotlin-Callbacks.</p>\n\n<pre><code>class ChapterAdapter(private val activity: Activity, \n     val mWords: ArrayList&lt;Chapter&gt;,\n     val callback: (Any) -&gt; Unit) : \n     RecyclerView.Adapter&lt;ChapterAdapter.ViewHolder&gt;() {\n\n\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n            val layoutInflater = LayoutInflater.from(parent.context)\n            return ViewHolder(layoutInflater.inflate(R.layout.layout_capter_raw, parent, false))\n        }\n\n        override fun onBindViewHolder(holder: ViewHolder?, position: Int) {\n            val item = mWords[position]\n\n            holder.layout_chapter_name.setOnClickListener( callback {$it})\n        }\n\n        override fun getItemCount(): Int = mWords.size\n\n        override fun getItemId(position: Int): Long = super.getItemId(position)\n\n        override fun getItemViewType(position: Int): Int = super.getItemViewType(position)\n\n\n        class ViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n            val txt_capter_name = view.txt_capter_name\n        }\n</code></pre>\n\n<p>and finally creating the Adapter</p>\n\n<pre><code>listAdapter = ChapterAdapter(activity, _arrChapterList, { \n  toast( \"Clicked $it\", Toast.LENGTH_LONG) \n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 665, "user_id": 1001566, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/06440d1938ee1c1e918c5584a4444038?s=128&d=identicon&r=PG", "display_name": "Paulo Coutinho", "link": "https://stackoverflow.com/users/1001566/paulo-coutinho"}, "is_accepted": false, "score": 1, "last_activity_date": 1612110922, "last_edit_date": 1612110922, "creation_date": 1569875538, "answer_id": 58174947, "question_id": 46076148, "link": "https://stackoverflow.com/questions/46076148/how-to-create-onclick-event-in-adapter-using-interface-android/58174947#58174947", "title": "How to create onclick event in adapter using interface android?", "body": "<p>I have the same problem, and here is my solution:</p>\n<pre><code>package adapter\n\nclass MarketplaceListAdapter : RecyclerView.Adapter&lt;MarketplaceListAdapter.ViewHolder&gt; {\n\n    private val marketplaceList: ArrayList&lt;Marketplace&gt;\n\n    constructor(marketplaceList: ArrayList&lt;Marketplace&gt;) : super() {\n        this.marketplaceList = marketplaceList\n    }\n\n    private var listener: OnItemClickListener? = null\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        // implementation\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        // implementation\n    }\n\n    override fun getItemId(position: Int): Long {\n        return 0\n    }\n\n    override fun getItemCount(): Int {\n        return marketplaceList.size\n    }\n\n    fun setListener(listener: OnItemClickListener) {\n        this.listener = listener\n    }\n\n    interface OnItemClickListener {\n        fun onItemClick(marketplace: Marketplace)\n    }\n\n    inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView),\n        View.OnClickListener {\n\n        var tvTitle: TextView = itemView.findViewById(R.id.tvTitle)\n        var ivIcon: ImageView = itemView.findViewById(R.id.ivIcon)\n\n        init {\n            itemView.setOnClickListener(this)\n        }\n\n        override fun onClick(v: View) {\n            listener?.onItemClick(marketplaceList[adapterPosition])\n        }\n\n    }\n\n}\n</code></pre>\n<p>And on my fragment:</p>\n<pre><code>val list = view.findViewById&lt;RecyclerView&gt;(R.id.list)\n\nlist?.let {\n    adapter?.let { adapter -&gt;\n        list.adapter = adapter\n\n        adapter.setListener(object : MarketplaceListAdapter.OnItemClickListener {\n            override fun onItemClick(marketplace: Marketplace) {\n                onMarketplaceSelected(marketplace)\n            }\n        })\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 1528647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c403e7330622a453b42e5db1c7952a?s=128&d=identicon&r=PG", "display_name": "ios", "link": "https://stackoverflow.com/users/1528647/ios"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11580, "favorite_count": 3, "accepted_answer_id": 46076355, "answer_count": 3, "score": 5, "last_activity_date": 1612110922, "creation_date": 1504703316, "last_edit_date": 1504717999, "question_id": 46076148, "link": "https://stackoverflow.com/questions/46076148/how-to-create-onclick-event-in-adapter-using-interface-android", "title": "How to create onclick event in adapter using interface android?", "body": "<p>How can I create on click event using interface?</p>\n\n<p>In my application I've created view click interface to detect clicking on adapter items into parent activity. After creating interface and method into adapter how I can use this interface to call the view listener ?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 1, "creation_date": 1504703525, "post_id": 46076124, "comment_id": 79113411, "body": "<a href=\"https://stackoverflow.com/a/44200189/5039950\">stackoverflow.com/a/44200189/5039950</a>"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 1, "creation_date": 1504705252, "post_id": 46076124, "comment_id": 79114771, "body": "If you are asking for official explanation. <a href=\"https://discuss.kotlinlang.org/\" rel=\"nofollow noreferrer\">Kotlin forum</a> may be  a more suitable place to ask."}, {"owner": {"reputation": 6252, "user_id": 2531888, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Gs6Nw.png?s=128&g=1", "display_name": "ifeegoo", "link": "https://stackoverflow.com/users/2531888/ifeegoo"}, "edited": false, "score": 0, "creation_date": 1504705376, "post_id": 46076124, "comment_id": 79114883, "body": "OK,I will try it later.Thank you for you help!"}, {"owner": {"reputation": 5437, "user_id": 864369, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/209a077dbfd4f03c1985bd8ba78ec4f2?s=128&d=identicon&r=PG", "display_name": "Dan W", "link": "https://stackoverflow.com/users/864369/dan-w"}, "edited": false, "score": 2, "creation_date": 1504705686, "post_id": 46076124, "comment_id": 79115101, "body": "They might&#39;ve taken those keywords from Scala since Scala uses them the same way."}, {"owner": {"reputation": 6252, "user_id": 2531888, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Gs6Nw.png?s=128&g=1", "display_name": "ifeegoo", "link": "https://stackoverflow.com/users/2531888/ifeegoo"}, "edited": false, "score": 0, "creation_date": 1504705797, "post_id": 46076124, "comment_id": 79115191, "body": "Yeah,this is a good guess.Just now I have found this:<a href=\"https://discuss.kotlinlang.org/t/change-val-to-something-else/1180/13\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/change-val-to-something-else/1&zwnj;&#8203;180/13</a> Someone mentioned Scala"}, {"owner": {"reputation": 6624, "user_id": 690553, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/1e4b2eb92d9417b384d82ebfea3d67ea?s=128&d=identicon&r=PG", "display_name": "Amir Pashazadeh", "link": "https://stackoverflow.com/users/690553/amir-pashazadeh"}, "edited": false, "score": 0, "creation_date": 1504749850, "post_id": 46076124, "comment_id": 79135533, "body": "I believe it stands for <code>value</code>, and it is chosen because it just like <code>var</code>."}], "answers": [{"tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": false, "score": 8, "last_activity_date": 1510136036, "last_edit_date": 1510136036, "creation_date": 1504703329, "answer_id": 46076157, "question_id": 46076124, "link": "https://stackoverflow.com/questions/46076124/why-kotlin-uses-the-word-val-to-stand-for-constant/46076157#46076157", "title": "Why Kotlin uses the word &quot;val&quot; to stand for constant?", "body": "<p><code>val</code> means <code>value</code></p>\n\n<p>This is a read-only value.</p>\n\n<p><code>var</code> is a mutable value</p>\n\n<p><code>const</code> would on the other hand be not 100% correct. The value PI (3.14..) is a constant. Its value never changes. The value of <code>x</code> in this line <code>val x = random.nextInt()</code> will (hopefully) always be different, but you want the value not to be modified in the function. So the keyword <code>val</code> is quite appropriate. </p>\n"}, {"tags": [], "owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "is_accepted": false, "score": 2, "last_activity_date": 1504704572, "creation_date": 1504704572, "answer_id": 46076602, "question_id": 46076124, "link": "https://stackoverflow.com/questions/46076124/why-kotlin-uses-the-word-val-to-stand-for-constant/46076602#46076602", "title": "Why Kotlin uses the word &quot;val&quot; to stand for constant?", "body": "<p><code>val</code> keyword is only one word. abbreviation for <code>val</code> not found anywhere. Your question explains what is <code>val</code>.</p>\n\n<blockquote>\n  <p>Read-only local variables are declared using val keyword. Mutable\n  local variables are declared using var keyword.</p>\n</blockquote>\n\n<p>Here is a site explains why <code>val</code> is Read-only and not immutable.</p>\n\n<p><a href=\"http://blog.danlew.net/2017/05/30/mutable-vals-in-kotlin/\" rel=\"nofollow noreferrer\">http://blog.danlew.net/2017/05/30/mutable-vals-in-kotlin/</a></p>\n\n<blockquote>\n  <p>val does not mean immutable, val means read-only. That means that\n  you're not allowed to explicitly write to a val, but it doesn't\n  guarantee that they're immutable</p>\n</blockquote>\n\n<p><a href=\"https://artemzin.com/blog/kotlin-val-does-not-mean-immutable-it-just-means-readonly-yeah/\" rel=\"nofollow noreferrer\">https://artemzin.com/blog/kotlin-val-does-not-mean-immutable-it-just-means-readonly-yeah/</a></p>\n\n<blockquote>\n  <p>Kotlin allows you declare get() of the val which breaks immutability\n  of the property and leaves only read permission for external \"users\".</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 1385, "user_id": 1537246, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/41fec7fd128b3ee49e62e0cc48bbebeb?s=128&d=identicon&r=PG&f=1", "display_name": "OlliP", "link": "https://stackoverflow.com/users/1537246/ollip"}, "is_accepted": false, "score": 1, "last_activity_date": 1504707099, "creation_date": 1504707099, "answer_id": 46077504, "question_id": 46076124, "link": "https://stackoverflow.com/questions/46076124/why-kotlin-uses-the-word-val-to-stand-for-constant/46077504#46077504", "title": "Why Kotlin uses the word &quot;val&quot; to stand for constant?", "body": "<p>Kotlin's syntax is inspired by Scala. In Kotlin several ideas are taken from Scala besides the syntax. Kotlin also adds things on its own and does certain things very differently than Scala (i.e., no implicit conversion in Kotlin compared to Scala). Long matter short: You have to ask the Scala guys why they chose the keyword combination var and val.</p>\n"}, {"tags": [], "owner": {"reputation": 186, "user_id": 4142211, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh6.googleusercontent.com/-RyJecxILvxs/AAAAAAAAAAI/AAAAAAAAABc/EFKY41saU-U/photo.jpg?sz=128", "display_name": "Ivan Mitsura", "link": "https://stackoverflow.com/users/4142211/ivan-mitsura"}, "is_accepted": false, "score": 0, "last_activity_date": 1545753792, "last_edit_date": 1545753792, "creation_date": 1545094538, "answer_id": 53824969, "question_id": 46076124, "link": "https://stackoverflow.com/questions/46076124/why-kotlin-uses-the-word-val-to-stand-for-constant/53824969#53824969", "title": "Why Kotlin uses the word &quot;val&quot; to stand for constant?", "body": "<ul>\n<li><code>val</code> from value.</li>\n<li><p><code>var</code> from variable.</p></li>\n<li><p><code>value</code> - a property such as number assigned to or calculated for a <strong>variable, constant or expression(wiki)</strong></p></li>\n<li><p><code>variable</code> - a symbolic name associated with a <code>value</code> and <strong>whose associated value may be changed(wiki)</strong></p></li>\n</ul>\n"}], "owner": {"reputation": 6252, "user_id": 2531888, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Gs6Nw.png?s=128&g=1", "display_name": "ifeegoo", "link": "https://stackoverflow.com/users/2531888/ifeegoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1029, "favorite_count": 4, "answer_count": 4, "score": 1, "last_activity_date": 1573042561, "creation_date": 1504703269, "last_edit_date": 1573042561, "question_id": 46076124, "link": "https://stackoverflow.com/questions/46076124/why-kotlin-uses-the-word-val-to-stand-for-constant", "title": "Why Kotlin uses the word &quot;val&quot; to stand for constant?", "body": "<p>I really want to know why Kotlin use the word <code>val</code> to stand for constant?</p>\n\n<p>If <code>var</code> means variable.<code>val</code> means what ? <code>val</code> means <code>var</code> + <code>l</code> or <code>val</code> is only one word for short?</p>\n\n<p>In the Kotlin Documentation,we only have the following words.</p>\n\n<blockquote>\n  <p>Read-only local variables are declared using val keyword. Mutable\n  local variables are declared using var keyword.</p>\n</blockquote>\n\n<p>This question is not only to make sense of the word <code>val</code>\uff0cbut also Remind the WORD MAKER to tell us why they name the word,this is not a little thing,this will make us more comfortable to learn the new knowledge,we want to learn and make sense of everything.</p>\n\n<p>For example,many people want to know why Swift use the word <code>let</code> or Why Objective-C use the <code>.m</code> filename extension?</p>\n\n<p><strong>I think the official documentation or response is really important,any guess or assuming is not really helpful,because it's not convictive,the confused will be still the confused.</strong></p>\n\n<p>I also asked this question in the official forum:<br>\n<a href=\"https://discuss.kotlinlang.org/t/why-kotlin-use-the-word-val-to-stand-for-constant/4491\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/why-kotlin-use-the-word-val-to-stand-for-constant/4491</a></p>\n\n<p>Some references:<br>\n<a href=\"https://discuss.kotlinlang.org/t/change-val-to-something-else/1180/13\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/change-val-to-something-else/1180/13</a></p>\n"}, {"tags": ["syntax", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 9, "last_activity_date": 1504904016, "last_edit_date": 1504904016, "creation_date": 1504700957, "answer_id": 46075288, "question_id": 46075075, "link": "https://stackoverflow.com/questions/46075075/kotlin-conditional-items-during-map-creation/46075288#46075288", "title": "Kotlin: conditional items during map creation", "body": "<p>You can use the <a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"noreferrer\">spread operator</a> <code>*</code> to do that:   </p>\n\n<pre><code>val map = mapOf(\n   \"key1\" to var1,\n   \"key2\" to var2,\n   *(if(var3 &gt; 5) arrayOf(\"key3\" to var3) else arrayOf())       \n)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1504701160, "post_id": 46075295, "comment_id": 79111578, "body": "Nice! I didn&#39;t know of the <code>listOfNotNull</code>-function. I started writing an answer with an array that I filtered for nulls and then spread for the vararg parameter, but this is much cleaner."}, {"owner": {"reputation": 361, "user_id": 7445359, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s1k5i.jpg?s=128&g=1", "display_name": "Ale\u0161 Zrak", "link": "https://stackoverflow.com/users/7445359/ale%c5%a1-zrak"}, "edited": false, "score": 0, "creation_date": 1504707758, "post_id": 46075295, "comment_id": 79116648, "body": "This is short and clean, I like it, but isn&#39;t there an overhead due to filtering and converting to map?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1504708427, "post_id": 46075295, "comment_id": 79117195, "body": "Converting to map takes the same time as in <code>mapOf</code> (the <code>vararg</code> of pairs is processed in the same way as the list above is). There is, of course, some overhead for filtering as it copies the collection. However, if there&#39;s not many pairs, there should not be much overhead due to good locality of reference. Though I would not do that in performance-critical parts of code (those running thousands times over a short period of time), instead adding such pairs after the map creation. I think the best way to learn how the performance is affected in your specific case is to benchmark your code."}, {"owner": {"reputation": 361, "user_id": 7445359, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s1k5i.jpg?s=128&g=1", "display_name": "Ale\u0161 Zrak", "link": "https://stackoverflow.com/users/7445359/ale%c5%a1-zrak"}, "edited": false, "score": 0, "creation_date": 1504771358, "post_id": 46075295, "comment_id": 79143637, "body": "OK, I am going to accept this as correct answer, because the code seems more clear and readable. Thanks :)"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 21, "last_activity_date": 1504701633, "last_edit_date": 1504701633, "creation_date": 1504700967, "answer_id": 46075295, "question_id": 46075075, "link": "https://stackoverflow.com/questions/46075075/kotlin-conditional-items-during-map-creation/46075295#46075295", "title": "Kotlin: conditional items during map creation", "body": "<p>One way to do that is to use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/list-of-not-null.html\" rel=\"noreferrer\"><code>listOfNotNull(...)</code></a> + <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-map.html\" rel=\"noreferrer\"><code>.toMap()</code></a> and put <code>null</code>s where you want to skip an item:</p>\n\n<pre><code>val map = listOfNotNull(\n   \"key1\" to var1,\n   \"key2\" to var2,\n   if (var3 &gt; 5) \"key3\" to var3 else null\n).toMap()\n</code></pre>\n\n<p>You can additionally use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/take-if.html\" rel=\"noreferrer\"><code>.takeIf { ... }</code></a>, but note that it will evaluate the pair regardless of the condition, so if the pair expression calls a function, it will be called anyway:</p>\n\n<pre><code>val map = listOfNotNull(\n    /* ... */\n    (\"key3\" to var3).takeIf { var3 &gt; 5 }\n).toMap()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 525, "user_id": 59850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7582874d19cb51cf560714f9d646eb35?s=128&d=identicon&r=PG", "display_name": "Ben", "link": "https://stackoverflow.com/users/59850/ben"}, "is_accepted": false, "score": 0, "last_activity_date": 1595524537, "creation_date": 1595524537, "answer_id": 63059711, "question_id": 46075075, "link": "https://stackoverflow.com/questions/46075075/kotlin-conditional-items-during-map-creation/63059711#63059711", "title": "Kotlin: conditional items during map creation", "body": "<p>I like to use a &quot;builder&quot;</p>\n<pre><code>val map = let {\n    val m = HashMap&lt;String, Int&gt;() //use a mutable map as a map builder\n    m[&quot;key1&quot;] = var1\n    m[&quot;key2&quot;] = var2\n    if(var3 &gt; 5){ m[&quot;key3&quot;] = var3 }\n    m.toMap()\n} //wrapped in a lambda so the builder is inside a private scope and can't accidentally be used\n\n</code></pre>\n"}], "owner": {"reputation": 361, "user_id": 7445359, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s1k5i.jpg?s=128&g=1", "display_name": "Ale\u0161 Zrak", "link": "https://stackoverflow.com/users/7445359/ale%c5%a1-zrak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8105, "favorite_count": 1, "accepted_answer_id": 46075295, "answer_count": 3, "score": 14, "last_activity_date": 1595524537, "creation_date": 1504700383, "last_edit_date": 1504701247, "question_id": 46075075, "link": "https://stackoverflow.com/questions/46075075/kotlin-conditional-items-during-map-creation", "title": "Kotlin: conditional items during map creation", "body": "<p>Is there a way to do something like this in Kotlin?</p>\n\n<pre><code>mapOf(\n   \"key1\" to var1,\n   \"key2\" to var2,\n   if(var3 &gt; 5) \"key3\" to var3       \n)\n</code></pre>\n\n<p>Or the only way is to add the key \"key3\" after the map is created?\nI'd like to add an item to a map only if some condition is met.</p>\n"}, {"tags": ["android", "lambda", "memory-leaks", "kotlin", "rx-java"], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 4943536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7dee53de4d789c192fb823a4595f2e0?s=128&d=identicon&r=PG&f=1", "display_name": "tahmed1994", "link": "https://stackoverflow.com/users/4943536/tahmed1994"}, "is_accepted": false, "score": 0, "last_activity_date": 1504703473, "creation_date": 1504703473, "answer_id": 46076214, "question_id": 46075043, "link": "https://stackoverflow.com/questions/46075043/will-passing-lambdas-to-observable-subscribe-in-kotlin-result-in-memory-leaks/46076214#46076214", "title": "Will passing lambdas to Observable.subscribe in kotlin result in memory leaks?", "body": "<p>I added a logger to the Observable.subscribe() as follows:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n        override fun onCreate(savedInstanceState: Bundle?) {\n            val disposable = Observable.interval(1, TimeUnit.SECONDS, AndroidSchedulers.mainThread()).subscribe {\n                                Log.d(TAG, \"Interval:\" + it.toString())\n                                textView.text = it.toString \n                            }\n        }\n\n    }\n</code></pre>\n\n<p>and noticed that even after exiting the app by pressing the back key, the observable kept running. So I added the following code to onDestroy():</p>\n\n<pre><code>override fun onDestroy() {\n    disposable.dispose()\n    super.onDestroy()\n}\n</code></pre>\n\n<p>and now everything is working as expected</p>\n"}], "owner": {"reputation": 81, "user_id": 4943536, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7dee53de4d789c192fb823a4595f2e0?s=128&d=identicon&r=PG&f=1", "display_name": "tahmed1994", "link": "https://stackoverflow.com/users/4943536/tahmed1994"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 428, "favorite_count": 0, "closed_date": 1504703804, "answer_count": 1, "score": 0, "last_activity_date": 1504703473, "creation_date": 1504700292, "question_id": 46075043, "link": "https://stackoverflow.com/questions/46075043/will-passing-lambdas-to-observable-subscribe-in-kotlin-result-in-memory-leaks", "closed_reason": "Duplicate", "title": "Will passing lambdas to Observable.subscribe in kotlin result in memory leaks?", "body": "<p>See the following kotlin code:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        val disposable = Observable.interval(1, TimeUnit.SECONDS, AndroidSchedulers.mainThread())\n                               .subscribe { textView.text = it.toString }\n    }\n\n}\n</code></pre>\n\n<p>Here I am am passing a lambda expression in the subscribe method instead of an anonymous inner classses. So is it required to call <code>disposable.dispose()</code> in order to prevent memory leaks? Or the lambda expression won't keep an implicit reference to the instance of the MainActivity class.</p>\n\n<p>And if I do need to dispose it, what is the best way and why?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "edited": false, "score": 1, "creation_date": 1504685660, "post_id": 46070014, "comment_id": 79100599, "body": "So clear adapter list before <code>add</code> if you need to update data"}], "answers": [{"tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": false, "score": 0, "last_activity_date": 1504688187, "creation_date": 1504688187, "answer_id": 46070834, "question_id": 46070014, "link": "https://stackoverflow.com/questions/46070014/adapter-duplicating-on-recycler-view/46070834#46070834", "title": "Adapter duplicating on Recycler View", "body": "<p>If <code>seminarsAdapter</code> already have some data, you will add to the existing set of data.</p>\n\n<p>Maybe, add a <code>clear</code> method to your <code>seminarsAdapter</code>-type and call it before in <code>onSuccess(...)</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 93, "user_id": 8495570, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/48b362ff085fd6d163b3c4c9fdf72a37?s=128&d=identicon&r=PG&f=1", "display_name": "Desmond A", "link": "https://stackoverflow.com/users/8495570/desmond-a"}, "edited": false, "score": 0, "creation_date": 1504688747, "post_id": 46070908, "comment_id": 79102617, "body": "the .size is an unresolved reference. My seminarsAdapter is FastAdapter&lt;&gt;"}], "tags": [], "owner": {"reputation": 331, "user_id": 6168433, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hW1xm.jpg?s=128&g=1", "display_name": "karthik", "link": "https://stackoverflow.com/users/6168433/karthik"}, "is_accepted": false, "score": 0, "last_activity_date": 1504688408, "creation_date": 1504688408, "answer_id": 46070908, "question_id": 46070014, "link": "https://stackoverflow.com/questions/46070014/adapter-duplicating-on-recycler-view/46070908#46070908", "title": "Adapter duplicating on Recycler View", "body": "<pre><code>httpClient.get(url, object : JsonHttpResponseHandler() {\n        override fun onSuccess(statusCode: Int, headers: Array&lt;out Header&gt;, \nresponse: JSONArray) {\nif(seminarsAdapter.size()&gt;0){\nseminarsAdapter.clear();\n}\n            for (i in 0 until response.length()) {\n                val seminar = Seminar.fromJson(response.getJSONObject(i))\n\n                seminarsAdapter.add(SeminarItem(seminar))\n            }\n        }\n\n        override fun onFailure(statusCode: Int, headers: Array&lt;out Header&gt;?, responseString: String?, throwable: Throwable?) {\n            Log.d(\"Seminars Fragment\", throwable?.localizedMessage)\n        }\n    })\n</code></pre>\n\n<p>clear seminarsAdapter list in on response of api call so that data won't repeat.\ntry above code</p>\n"}, {"tags": [], "owner": {"reputation": 9491, "user_id": 5631145, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/lgSfD.jpg?s=128&g=1", "display_name": "Francisco Durdin Garcia", "link": "https://stackoverflow.com/users/5631145/francisco-durdin-garcia"}, "is_accepted": true, "score": 0, "last_activity_date": 1504688578, "creation_date": 1504688578, "answer_id": 46070973, "question_id": 46070014, "link": "https://stackoverflow.com/questions/46070014/adapter-duplicating-on-recycler-view/46070973#46070973", "title": "Adapter duplicating on Recycler View", "body": "<p>You can clear the list before add new items, but in case that you will want to add them one by one or something more of logic in the future I suggest you add <code>DiffUtil</code> inside your <code>Adapter</code> to manage the content of your <code>Adapter</code></p>\n\n<blockquote>\n  <p>DiffUtil is a utility class that can calculate the difference between two lists and output a list of update operations that converts the first list into the second one.It can be used to calculate updates for a RecyclerView Adapter.</p>\n</blockquote>\n\n<p>Give a look to <a href=\"https://medium.com/@iammert/using-diffutil-in-android-recyclerview-bdca8e4fbb00\" rel=\"nofollow noreferrer\">this post</a> which explains how to implement it together with an <code>Adapter</code> and a <code>RecyclerView</code></p>\n"}], "owner": {"reputation": 93, "user_id": 8495570, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/48b362ff085fd6d163b3c4c9fdf72a37?s=128&d=identicon&r=PG&f=1", "display_name": "Desmond A", "link": "https://stackoverflow.com/users/8495570/desmond-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 566, "favorite_count": 0, "accepted_answer_id": 46070973, "answer_count": 3, "score": 1, "last_activity_date": 1504688578, "creation_date": 1504685555, "question_id": 46070014, "link": "https://stackoverflow.com/questions/46070014/adapter-duplicating-on-recycler-view", "title": "Adapter duplicating on Recycler View", "body": "<p>Hi im new to programming and my issue is when i switch tabs on my navigation. My data duplicates when loading it again. </p>\n\n<pre><code>httpClient.get(url, object : JsonHttpResponseHandler() {\n            override fun onSuccess(statusCode: Int, headers: Array&lt;out Header&gt;, response: JSONArray) {\n                for (i in 0 until response.length()) {\n                    val seminar = Seminar.fromJson(response.getJSONObject(i))\n\n                    seminarsAdapter.add(SeminarItem(seminar))\n                }\n            }\n\n            override fun onFailure(statusCode: Int, headers: Array&lt;out Header&gt;?, responseString: String?, throwable: Throwable?) {\n                Log.d(\"Seminars Fragment\", throwable?.localizedMessage)\n            }\n        })\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1504685531, "post_id": 46069733, "comment_id": 79100532, "body": "Does a full clean &amp; rebuild fix the problem? Does turning instant run off fix it?"}, {"owner": {"reputation": 3454, "user_id": 479415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0b16a4119c2bcaaef12ee0a5087b74c0?s=128&d=identicon&r=PG", "display_name": "Gabriel Sanmartin", "link": "https://stackoverflow.com/users/479415/gabriel-sanmartin"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1504685889, "post_id": 46069733, "comment_id": 79100744, "body": "I never have Instant Run on (it sucks). Clean &amp; Rebuild does not fix it sadly"}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1504689662, "post_id": 46069733, "comment_id": 79103332, "body": "Please post your manifest package"}, {"owner": {"reputation": 3454, "user_id": 479415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0b16a4119c2bcaaef12ee0a5087b74c0?s=128&d=identicon&r=PG", "display_name": "Gabriel Sanmartin", "link": "https://stackoverflow.com/users/479415/gabriel-sanmartin"}, "reply_to_user": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1504690679, "post_id": 46069733, "comment_id": 79104145, "body": "@crgarridos just did"}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1504692163, "post_id": 46069733, "comment_id": 79105185, "body": "That isnt the manifest, it&#39;s a <i>build.gradle</i> of your module , look at the file <i>AndroidManifest.xml</i>"}, {"owner": {"reputation": 3454, "user_id": 479415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0b16a4119c2bcaaef12ee0a5087b74c0?s=128&d=identicon&r=PG", "display_name": "Gabriel Sanmartin", "link": "https://stackoverflow.com/users/479415/gabriel-sanmartin"}, "edited": false, "score": 0, "creation_date": 1504696726, "post_id": 46069733, "comment_id": 79108315, "body": "geez you are right dunno what i was thinking, its updated now"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6490462"}, "edited": false, "score": 0, "creation_date": 1504903343, "post_id": 46069733, "comment_id": 79211219, "body": "provide your full project structure."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1505122505, "post_id": 46069733, "comment_id": 79266607, "body": "Where do you define or use <code>&quot;com.myapp.beta.ui.view.ScrollBehavior&quot;</code>? Might be in a string resource or layout."}, {"owner": {"reputation": 3454, "user_id": 479415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0b16a4119c2bcaaef12ee0a5087b74c0?s=128&d=identicon&r=PG", "display_name": "Gabriel Sanmartin", "link": "https://stackoverflow.com/users/479415/gabriel-sanmartin"}, "edited": false, "score": 0, "creation_date": 1505132136, "post_id": 46069733, "comment_id": 79272629, "body": "yes! you are right i am referencing it from a layout, but then how can I reference it and still have multiple flavors?"}, {"owner": {"reputation": 3454, "user_id": 479415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0b16a4119c2bcaaef12ee0a5087b74c0?s=128&d=identicon&r=PG", "display_name": "Gabriel Sanmartin", "link": "https://stackoverflow.com/users/479415/gabriel-sanmartin"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1505149722, "post_id": 46069733, "comment_id": 79283944, "body": "@tynn just did it"}], "answers": [{"comments": [{"owner": {"reputation": 3454, "user_id": 479415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0b16a4119c2bcaaef12ee0a5087b74c0?s=128&d=identicon&r=PG", "display_name": "Gabriel Sanmartin", "link": "https://stackoverflow.com/users/479415/gabriel-sanmartin"}, "edited": false, "score": 0, "creation_date": 1504689414, "post_id": 46071233, "comment_id": 79103145, "body": "Sorry I made a mistake when replacing the actual name of my app for a general one so the question was generic. I actually have the values as you specified."}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 2, "creation_date": 1504691327, "post_id": 46071233, "comment_id": 79104603, "body": "Application ID does not replace package name. If you place a class in <code>com.example.foo</code> package, it will stay there. <code>R</code> class will be generated always in the package specified in AndroidManifest.xml. <b>Don&#39;t ever do crazy stuff like this:</b> <code>&lt;manifest package=&quot;${applicationId}&quot;&gt;</code>"}], "tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": false, "score": 0, "last_activity_date": 1504880638, "last_edit_date": 1504880638, "creation_date": 1504689220, "answer_id": 46071233, "question_id": 46069733, "link": "https://stackoverflow.com/questions/46069733/classnotfoundexception-with-product-flavors-and-kotlin/46071233#46071233", "title": "ClassNotFoundException with product flavors and Kotlin", "body": "<p>This is not a Kotlin issue.</p>\n\n<blockquote>\n  <p>Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.myapp.<strong>beta</strong>.ui.view.ScrollBehavior\"  </p>\n</blockquote>\n\n<p>From the android <a href=\"https://developer.android.com/studio/build/application-id.html\" rel=\"nofollow noreferrer\">doc</a></p>\n\n<blockquote>\n  <p>Every Android app has a unique application ID that looks like a Java package name, such as com.example.myapp. This ID uniquely identifies your app on the device and in Google Play Store</p>\n</blockquote>\n\n<pre><code>&lt;manifest package=\"com.myapp\" &gt;\n</code></pre>\n\n<p>or sometimes I've even seen <em>(never use this)</em>:</p>\n\n<pre><code>&lt;manifest package=\"${applicationId}\" &gt; \n</code></pre>\n\n<p>Changing it means that you are changing te reference of your application package. the classes located in <code>com.myapp</code> will be searched into <code>com.myapp.beta</code>. And then your classes won't be found.</p>\n\n<p>One way to work with, is defining the flavor as <em>(I put off others values for simplicity)</em>: </p>\n\n<pre><code>prod {\n    applicationId = \"com.myapp\"\n}\n\nbeta {\n    applicationId = \"com.myapp.beta\"\n}\n\ndev {\n    applicationId = \"com.myapp.dev\"\n}\n</code></pre>\n\n<p>or just</p>\n\n<pre><code>beta {\n    applicationIdSuffix \".beta\"\n}\n\ndev {\n    applicationIdSuffix \".dev\"\n}\n</code></pre>\n\n<p><strong>Edit after pusblish build.gradle</strong></p>\n\n<p>Pay attention to add a suffix or a full applicationId :</p>\n\n<pre><code>//This will be append to your application id\n//applicationIdSuffix = \"com.myapp.beta\", should be\napplicationIdSuffix = \".beta\"\n</code></pre>\n\n<p>or </p>\n\n<pre><code>//This will replace your application Id\napplicationId  \"com.myapp.beta\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 5, "last_activity_date": 1505207312, "creation_date": 1505207312, "answer_id": 46172304, "question_id": 46069733, "link": "https://stackoverflow.com/questions/46069733/classnotfoundexception-with-product-flavors-and-kotlin/46172304#46172304", "title": "ClassNotFoundException with product flavors and Kotlin", "body": "<p>You're defining your behavior as</p>\n\n<pre><code>app:layout_behavior=\".ui.view.ScrollBehavior\"\n</code></pre>\n\n<p>which is a relative definition. In this case relative to the app package.</p>\n\n<p>So the name actually used is <code>context.getPackageName() + name</code> and thus the application id you defined is used as prefix.</p>\n\n<p>To load the correct behavior you have to define it as a fully qualified name</p>\n\n<pre><code>app:layout_behavior=\"com.myapp.ui.view.ScrollBehavior\"\n</code></pre>\n\n<p>Also you could use string resources here.</p>\n"}], "owner": {"reputation": 3454, "user_id": 479415, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/0b16a4119c2bcaaef12ee0a5087b74c0?s=128&d=identicon&r=PG", "display_name": "Gabriel Sanmartin", "link": "https://stackoverflow.com/users/479415/gabriel-sanmartin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1268, "favorite_count": 1, "accepted_answer_id": 46172304, "answer_count": 2, "score": 9, "last_activity_date": 1521181366, "creation_date": 1504684639, "last_edit_date": 1521181366, "question_id": 46069733, "link": "https://stackoverflow.com/questions/46069733/classnotfoundexception-with-product-flavors-and-kotlin", "title": "ClassNotFoundException with product flavors and Kotlin", "body": "<p>I have a project written mostly in Kotlin, but with some java classes. Project is well advanced now, and I wanted to add the possibility of switching between different environments, for which I used flavors:</p>\n\n<pre><code> productFlavors {\n        prod {\n            dimension \"default\"\n            buildConfigField 'boolean', 'FABRIC', 'true'\n            applicationId = \"com.myapp\"\n        }\n\n        beta {\n            dimension \"default\"\n            buildConfigField 'boolean', 'FABRIC', 'true'\n            applicationId = \"com.myapp.beta\"\n        }\n\n        dev {\n            dimension \"default\"\n            buildConfigField 'boolean', 'FABRIC', 'false'\n            applicationId = \"com.myapp.dev\"\n        }\n\n    }\n</code></pre>\n\n<p>However when I run in a flavor that isn't production (which does not change applicationId) I get a ClassDefNotFoundException for a java class:</p>\n\n<pre><code>Caused by: java.lang.ClassNotFoundException: Didn't find class \"com.myapp.beta.ui.view.ScrollBehavior\" on path: DexPathList[[zip file \"/data/app/com.myapp.beta-1/base.apk\"],nativeLibraryDirectories=[/data/app/com.myapp.beta-1/lib/arm64, /system/lib64, /vendor/lib64]]\n   at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n   at java.lang.ClassLoader.loadClass(ClassLoader.java:380)\n   at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n    ... 33 more\n</code></pre>\n\n<p>I am using Android Studio 3.0 beta 4 with Kotlin plugin version 1.1.3-2. </p>\n\n<p>Build file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt' // Use experimental kapt implementation\n\nrepositories {\n    mavenCentral()\n    maven {\n        url \"http://dl.bintray.com/ttymsd/maven\"\n    }\n    maven { url 'https://jitpack.io' }\n}\nandroid {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n    buildToolsVersion rootProject.ext.buildToolsVersion\n\n    defaultConfig {\n        applicationId \"com.myapp\"\n\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary = true\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/java'\n    }\n\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    flavorDimensions \"default\"\n    productFlavors {\n        prod {\n            dimension \"default\"\n            buildConfigField 'boolean', 'FABRIC', 'true'\n            applicationId = \"com.myapp\"\n        }\n\n        beta {\n            dimension \"default\"\n            buildConfigField 'boolean', 'FABRIC', 'true'\n            applicationId = \"com.myapp.beta\"\n        }\n\n        dev {\n            dimension \"default\"\n            buildConfigField 'boolean', 'FABRIC', 'false'\n            applicationId = \"com.myapp.dev\"\n        }\n\n    }\n\n\n    dataBinding {\n        enabled = true\n    }\n\n    dependencies {\n        (...)\n    }\n}\n</code></pre>\n\n<p>Manifest:</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n          package=\"com.myapp\"&gt;\n\n    &lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n\n\n    &lt;application\n        android:name=\".MyApp\"\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/MyTheme\"&gt;\n\n\n        &lt;activity\n            android:name=\".ui.dashboard.DashboardListActivity\"\n            android:launchMode=\"singleTop\"\n            android:configChanges=\"orientation|keyboardHidden|screenSize\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\"/&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\"/&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Relevant part in the code:</p>\n\n<pre><code>&lt;android.support.design.widget.AppBarLayout\n            android:id=\"@+id/appbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"@color/colorPrimary\"\n            app:layout_behavior=\".ui.view.ScrollBehavior\"&gt;\n</code></pre>\n"}, {"tags": ["spring-boot", "kotlin", "hibernate-onetomany"], "answers": [{"comments": [{"owner": {"reputation": 436, "user_id": 2699805, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8725bb7aaf28a7cb2ebb6fb1d247cb6e?s=128&d=identicon&r=PG&f=1", "display_name": "qwert_ukg", "link": "https://stackoverflow.com/users/2699805/qwert-ukg"}, "edited": false, "score": 0, "creation_date": 1504681612, "post_id": 46068671, "comment_id": 79098147, "body": "u mean like that: <code>var channel: Channel? = null</code> but how set <code>channel_id</code> ?"}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "reply_to_user": {"reputation": 436, "user_id": 2699805, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8725bb7aaf28a7cb2ebb6fb1d247cb6e?s=128&d=identicon&r=PG&f=1", "display_name": "qwert_ukg", "link": "https://stackoverflow.com/users/2699805/qwert-ukg"}, "edited": false, "score": 1, "creation_date": 1504682230, "post_id": 46068671, "comment_id": 79098548, "body": "@qwert_ukg Can you please post how are you saving those entities? Afterwards I update my answer. Thanks"}, {"owner": {"reputation": 436, "user_id": 2699805, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8725bb7aaf28a7cb2ebb6fb1d247cb6e?s=128&d=identicon&r=PG&f=1", "display_name": "qwert_ukg", "link": "https://stackoverflow.com/users/2699805/qwert-ukg"}, "edited": false, "score": 0, "creation_date": 1504684098, "post_id": 46068671, "comment_id": 79099696, "body": "can&#39;t understand how to assign <code>channel</code>? U mean i should build <code>Map</code> object manually?"}, {"owner": {"reputation": 436, "user_id": 2699805, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8725bb7aaf28a7cb2ebb6fb1d247cb6e?s=128&d=identicon&r=PG&f=1", "display_name": "qwert_ukg", "link": "https://stackoverflow.com/users/2699805/qwert-ukg"}, "edited": false, "score": 0, "creation_date": 1504684588, "post_id": 46068671, "comment_id": 79099973, "body": "Could u plz make a short example, based on my data?"}, {"owner": {"reputation": 436, "user_id": 2699805, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8725bb7aaf28a7cb2ebb6fb1d247cb6e?s=128&d=identicon&r=PG&f=1", "display_name": "qwert_ukg", "link": "https://stackoverflow.com/users/2699805/qwert-ukg"}, "edited": false, "score": 0, "creation_date": 1504695539, "post_id": 46068671, "comment_id": 79107485, "body": "I was create my <code>Map</code> object manually, from request data (but can&#39;t see the difference if it was deserialized into same object by Jackson) and in this case my <code>channel_id</code> is <code>null</code> in a <code>Header</code> row. but row is single"}], "tags": [], "owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "is_accepted": false, "score": 1, "last_activity_date": 1504692625, "last_edit_date": 1504692625, "creation_date": 1504680870, "answer_id": 46068671, "question_id": 46068169, "link": "https://stackoverflow.com/questions/46068169/hibernate-onetomany-wrong-binding-from-parent/46068671#46068671", "title": "Hibernate OneToMany wrong binding from parent", "body": "<p>I guess it's because in your <code>Header</code>, you are creating new <code>Channel</code> each time an instance of <code>Header</code> is created. Moreover, you set the <code>CascadeType</code> to <code>ALL</code> which means that this newly created <code>Channel</code> is persisted also.</p>\n\n<p>You may set the type of <code>channel</code> in <code>Header</code> to <code>Channel?</code> and set the respective <code>channel</code> afterwards.</p>\n\n<p><strong>Edit</strong>\nTo answer question from comment: <code>channel_id</code> will be set automatically after you assign the respective <code>channel</code> and save this <code>Header</code>.</p>\n\n<p><strong>Edit 2</strong>\nFirst of all, I'd suggest editing models:</p>\n\n<p><strong>Map:</strong></p>\n\n<pre><code>var channel: Channel? = null\n</code></pre>\n\n<p><strong>And Header:</strong></p>\n\n<pre><code>var channel: Channel? = null\n</code></pre>\n\n<p>Relevant part of code:</p>\n\n<pre><code>val channel = ... // your Channel entity that is already persisted, for example map.channel (if map was saved before)\nval header = Header(..., channel, ...) // create a new Header and set the channel\nchannel.headers.add(header) // it's bidirectional\nrepo.save(channel) // this should be enough as you have CascadeType.ALL set, so header should be persisted automatically\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 436, "user_id": 2699805, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8725bb7aaf28a7cb2ebb6fb1d247cb6e?s=128&d=identicon&r=PG&f=1", "display_name": "qwert_ukg", "link": "https://stackoverflow.com/users/2699805/qwert-ukg"}, "is_accepted": true, "score": 1, "last_activity_date": 1504696348, "creation_date": 1504696348, "answer_id": 46073736, "question_id": 46068169, "link": "https://stackoverflow.com/questions/46068169/hibernate-onetomany-wrong-binding-from-parent/46073736#46073736", "title": "Hibernate OneToMany wrong binding from parent", "body": "<p><strong>ANSWER</strong></p>\n\n<p>it found <a href=\"https://stackoverflow.com/questions/9533676/jpa-onetomany-parent-child-reference-foreign-key\">here</a></p>\n\n<p>just removed <code>mappedBy = \"channel\"</code> from collection property and add <code>@JoinColumn(name = \"channel_id\")</code></p>\n"}], "owner": {"reputation": 436, "user_id": 2699805, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8725bb7aaf28a7cb2ebb6fb1d247cb6e?s=128&d=identicon&r=PG&f=1", "display_name": "qwert_ukg", "link": "https://stackoverflow.com/users/2699805/qwert-ukg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 444, "favorite_count": 0, "accepted_answer_id": 46073736, "answer_count": 2, "score": 2, "last_activity_date": 1504696348, "creation_date": 1504678947, "last_edit_date": 1504695800, "question_id": 46068169, "link": "https://stackoverflow.com/questions/46068169/hibernate-onetomany-wrong-binding-from-parent", "title": "Hibernate OneToMany wrong binding from parent", "body": "<p>I have a simple REST spring boot app written on Kotlin.</p>\n\n<p>It has next schema: <code>Map</code> hasOne <code>Channel</code> and <code>Channel</code> hasMany <code>Headers</code></p>\n\n<p>I have only one action of controller, and want to save all my models in a single request like this:</p>\n\n<pre><code>{\n    \"channel\": {\n        \"headers\": [\n            {\n              \"name\": \"Content-Type\",\n              \"value\": \"application/json\"\n            }\n        ]\n    }\n}\n</code></pre>\n\n<p>If header is not set, all models relate correctly and DB insert order is correct too: <code>Channel</code> created first and after creating a <code>Map</code> with this <code>Channel</code></p>\n\n<p>But when i add some <code>Header</code> list - <strong>Hibernate makes additional <code>Channel</code></strong> (with ID=2) row in DB and bind all <code>Header</code> models to this channel (with ID=2)</p>\n\n<p><strong>Map model:</strong></p>\n\n<pre><code>...\n@ManyToOne(cascade = arrayOf(CascadeType.ALL))\n@JoinColumn(name = \"channel_id\")\nvar channel: Channel = Channel(),\n...\n</code></pre>\n\n<p><strong>Channel model:</strong></p>\n\n<pre><code>...\n@OneToMany(mappedBy = \"channel\", cascade = arrayOf(CascadeType.ALL), )\nvar headers: MutableSet&lt;Header&gt; = mutableSetOf(),\n...\n@JsonIgnore\n@OneToMany(mappedBy = \"channel\", cascade = arrayOf(CascadeType.ALL))\nvar maps: MutableSet&lt;Map&gt; = mutableSetOf(),\n...\n</code></pre>\n\n<p><strong>Header model:</strong></p>\n\n<pre><code>...\n@JsonIgnore\n@ManyToOne(cascade = arrayOf(CascadeType.ALL))\n@JoinColumn(name = \"channel_id\")\nvar channel: Channel = Channel(),\n...\n</code></pre>\n\n<p>Maybe some annotation should be fixed. Will be glad to hear any advise. Thanks for all!</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Save model like that:</p>\n\n<pre><code>@PostMapping(\"/maps\")\nfun post(@RequestBody body: Map) = repo.save(body)\n</code></pre>\n\n<p><strong>UPDATE 2</strong></p>\n\n<p>If make an object manually, and declare necessary properties type as <code>nullable</code> - <code>channel_id</code> will be <code>null</code></p>\n\n<p><strong>add this code to action</strong></p>\n\n<pre><code>val channel = Channel(\n        ...\n)\n\nbody.channel!!.headers.forEach {\n    val header = Header(\n            name = it.name,\n            value = it.value\n    )\n\n    channel.headers.add(header)\n}\n\nval map = Map(\n        channel = channel\n)\n\nreturn repo.save(map)\n</code></pre>\n"}, {"tags": ["java", "android", "android-studio", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 6393345, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c12a813a1bf289c0b2d136304b34ed2?s=128&d=identicon&r=PG&f=1", "display_name": "super", "link": "https://stackoverflow.com/users/6393345/super"}, "is_accepted": false, "score": 2, "last_activity_date": 1504684301, "last_edit_date": 1504684301, "creation_date": 1504675453, "answer_id": 46067366, "question_id": 46067092, "link": "https://stackoverflow.com/questions/46067092/adding-kotlin-to-existing-java-project-breaks-android-studio-gradle-messages-err/46067366#46067366", "title": "Adding Kotlin to existing Java project breaks Android Studio gradle messages errors", "body": "<p>I did not see any problems,May be you can see here [<strong>Gradle Console</strong>] ,it print all bulid log.you can see error details,and post  error message.</p>\n\n<p>That is old config,May be you can config new like this:</p>\n\n<p>1.remove all about Kotlin config.</p>\n\n<p>2.use the menu->tools-->Kotlin-->Configure Kotlin in project-->Android with Gradle</p>\n\n<p>3.change version to 1.1.2-2, the version 1.1.4-2 for gradle:2.3.3 has something bug</p>\n\n<p>4.Sync  gradle</p>\n\n<p>other.  The new version use extensions only config this:</p>\n\n<pre><code>apply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>dont use this:</p>\n\n<pre><code>dependencies {\n            classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n    }\n</code></pre>\n\n<p>ultimate,config like this</p>\n\n<p><strong>Project Gradle file</strong></p>\n\n<pre><code>buildscript {\n            ext.kotlin_version = '1.1.2-2'\n            repositories {\n                jcenter()\n            }   \n        dependencies {\n            classpath 'com.android.tools.build:gradle:2.3.3'\n            classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n            }\n    }\n</code></pre>\n\n<p><strong>App level Gradle file</strong></p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    defaultConfig {\n        applicationId \"com.test.andrew.ccombo_breaker\"\n        minSdkVersion 19\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n}\nkapt {\n    generateStubs = true\n}\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    compile 'com.google.dagger:dagger:2.9'\n    kapt 'com.google.dagger:dagger-compiler:2.9'\n\n    testCompile 'junit:junit:4.12'\n}\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/tutorials/kotlin-android.html\" rel=\"nofollow noreferrer\">Kotlin official doc</a></p>\n"}], "owner": {"reputation": 437, "user_id": 1474882, "user_type": "registered", "accept_rate": 12, "profile_image": "https://i.stack.imgur.com/hNZBW.png?s=128&g=1", "display_name": "AndrewBrntt", "link": "https://stackoverflow.com/users/1474882/andrewbrntt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1499, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504684301, "creation_date": 1504674016, "last_edit_date": 1504674164, "question_id": 46067092, "link": "https://stackoverflow.com/questions/46067092/adding-kotlin-to-existing-java-project-breaks-android-studio-gradle-messages-err", "title": "Adding Kotlin to existing Java project breaks Android Studio gradle messages errors", "body": "<p>I am very new to Gradle and Android but since I have added Kotlin to my project anytime I get an error in Android Studio I need to go through the Gradle console which does not give me any of the nice stack traces or pathing by default. In the Gradle messages view where errors did appear now I only get</p>\n\n<blockquote>\n  <p>Error:Execution failed for task ':app:kaptDebugKotlin'.\n  Internal compiler error. See log for more details</p>\n</blockquote>\n\n<p>Is this the intended functionality because it seems to work ok in the jetbrains example projects. </p>\n\n<p>My Project Gradle file </p>\n\n<pre><code>buildscript {\n\n    ext.kotlin_version = '1.1.4-2'\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n     }\n    }\n\n    allprojects {\n    repositories {\n        jcenter()\n     }\n    }\n\n     task clean(type: Delete) {\n        delete rootProject.buildDir\n     }\n</code></pre>\n\n<p>My App level Gradle file</p>\n\n<pre><code>buildscript {\n\next.kotlin_version = '1.1.4-2'\nrepositories {\n    jcenter()\n}\ndependencies {\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n}\n}\n\n apply plugin: 'com.android.application'\n apply plugin: 'kotlin-android'\n apply plugin: 'kotlin-android-extensions'\n apply plugin: 'kotlin-kapt'\n\nandroid {\ncompileSdkVersion 25\nbuildToolsVersion \"25.0.2\"\ndefaultConfig {\n    applicationId \"com.test.andrew.ccombo_breaker\"\n    minSdkVersion 19\n    targetSdkVersion 25\n    versionCode 1\n    versionName \"1.0\"\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        }\n    sourceSets {\n    main.java.srcDirs += 'src/main/java'\n    main.java.srcDirs += 'src/main/kotlin'\n}\n}\n\ndependencies {\n  compile fileTree(dir: 'libs', include: ['*.jar'])\n  androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n    exclude group: 'com.android.support', module: 'support-annotations'\n})\n  compile 'com.android.support:appcompat-v7:25.3.1'\n  compile 'com.android.support.constraint:constraint-layout:1.0.2'\n\n  compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n  compile 'com.google.dagger:dagger:2.9'\n  kapt 'com.google.dagger:dagger-compiler:2.9'\n\n  testCompile 'junit:junit:4.12'\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": false, "score": 0, "last_activity_date": 1504670824, "creation_date": 1504670824, "answer_id": 46066634, "question_id": 46066345, "link": "https://stackoverflow.com/questions/46066345/a-confusion-about-intclass-java-isinstance-in-kotlin/46066634#46066634", "title": "A confusion about Int::class.java.isInstance() in Kotlin", "body": "<p>The issue is that <code>Int::class</code> refers to the primitive <code>int</code> type, but the value is the boxed <code>Integer</code> type.</p>\n\n<p>A workaround is to use <code>Integer::class</code> instead of <code>Int::class</code>, as this will refer to the boxed Java type.</p>\n\n<p>To be more generic, you could use a helper like <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/ClassUtils.html#primitiveToWrapper-java.lang.Class-\" rel=\"nofollow noreferrer\">Apache Commons <code>ClassUtils.primitiveToWrapper()</code></a>, or maintain a</p>\n\n<pre><code>fun primitiveToWrapper(clazz: Class&lt;*&gt;): Class&lt;*&gt; = when (clazz) {\n    java.lang.Void.TYPE -&gt; java.lang.Void::class.java\n    java.lang.Boolean.TYPE -&gt; java.lang.Boolean::class.java\n    java.lang.Byte.TYPE -&gt; java.lang.Byte::class.java\n    java.lang.Character.TYPE -&gt; java.lang.Character::class.java\n    java.lang.Short.TYPE -&gt; java.lang.Short::class.java\n    java.lang.Integer.TYPE -&gt; java.lang.Integer::class.java\n    java.lang.Long.TYPE -&gt; java.lang.Long::class.java\n    java.lang.Float.TYPE -&gt; java.lang.Float::class.java\n    java.lang.Double.TYPE -&gt; java.lang.Double::class.java\n    else -&gt; clazz\n}\n</code></pre>\n\n<p>lookup table yourself. Unfortunately there is no method built into Java or Kotlin to obtain the wrapper class of a primitive type.</p>\n\n<pre><code>@Suppress(\"UNCHECKED_CAST\")\nfun &lt;T&gt; castValue(v: Any?, clazz: Class&lt;T&gt;): T? =\n    v?.takeIf(primitiveToWrapper(clazz)::isInstance) as T?\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": false, "score": 1, "last_activity_date": 1504670923, "creation_date": 1504670923, "answer_id": 46066649, "question_id": 46066345, "link": "https://stackoverflow.com/questions/46066345/a-confusion-about-intclass-java-isinstance-in-kotlin/46066649#46066649", "title": "A confusion about Int::class.java.isInstance() in Kotlin", "body": "<p><code>::class.java</code> is call Java method instead of Kotlin.</p>\n\n<p>If you want to test the type, use <code>is</code></p>\n\n<pre><code>val isInt = 1 is Int // true\n</code></pre>\n\n<p>If you want to try cast, use <code>as?</code></p>\n\n<pre><code>val num = unknown as? Int // null if it is not Int\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "is_accepted": true, "score": 2, "last_activity_date": 1504672710, "creation_date": 1504672710, "answer_id": 46066878, "question_id": 46066345, "link": "https://stackoverflow.com/questions/46066345/a-confusion-about-intclass-java-isinstance-in-kotlin/46066878#46066878", "title": "A confusion about Int::class.java.isInstance() in Kotlin", "body": "<p>You can achieve this using the <code>reified</code> type parameter:</p>\n\n<pre><code>inline fun &lt;reified T&gt; cast(value:Any?): T? = value as? T\n</code></pre>\n\n<p>And call it like this: </p>\n\n<p><code>cast&lt;Boolean&gt;(false)</code></p>\n"}], "owner": {"reputation": 23, "user_id": 8566681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2298ee8749355b9f00e4d0767bf7d27?s=128&d=identicon&r=PG&f=1", "display_name": "Young Zhao", "link": "https://stackoverflow.com/users/8566681/young-zhao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 792, "favorite_count": 0, "accepted_answer_id": 46066878, "answer_count": 3, "score": 2, "last_activity_date": 1504672710, "creation_date": 1504668695, "last_edit_date": 1504668920, "question_id": 46066345, "link": "https://stackoverflow.com/questions/46066345/a-confusion-about-intclass-java-isinstance-in-kotlin", "title": "A confusion about Int::class.java.isInstance() in Kotlin", "body": "<p>The result of <code>Int::class.java.isInstance(4)</code> is false. </p>\n\n<p>But <code>String::class.java.isInstance(\"aa\")</code> is true.</p>\n\n<p>What is the correct way of <code>Int</code> type checking in the function like this.</p>\n\n<pre><code>fun &lt;T&gt; castValue(v: Any?, clazz: Class&lt;T&gt;): T? {\n  if (v != null &amp;&amp; clazz.isInstance(v) return v as T\n  return null\n}\n\nval result = castValue(4, Int::class.java)\n</code></pre>\n"}, {"tags": ["recursion", "collections", "kotlin", "higher-order-functions", "fold"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1504702328, "last_edit_date": 1504702328, "creation_date": 1504655723, "answer_id": 46064847, "question_id": 46063844, "link": "https://stackoverflow.com/questions/46063844/how-to-implement-dropwhile-recursively-using-foldright-in-kotlin/46064847#46064847", "title": "How to implement dropWhile recursively using foldRight in Kotlin", "body": "<p>First, let's outline the idea of the solution.</p>\n\n<p>With <code>foldRight</code>, you can only process the items one by one from right to left, maintaining an accumulator. </p>\n\n<p>The problem is, for an item at position <code>i</code>, the <code>dropWhile</code> logic makes a decision whether to include the item into the result or not based on whether there is an item at position <code>j &lt;= i</code> that does not satisfy the predicate (include if yes). This means you cannot simply maintain the result items: for some items you already processed, you don't know if they should actually be included. </p>\n\n<p>Example: </p>\n\n<p><sub>(we're processing the items right-to-left, so the prefix is unknown to us)</sub></p>\n\n<pre><code>... (some unknown items) ... ... ... ... a b c d &lt;--- (right-to-left)\n                   predicate satisfied:  T T F T\n</code></pre>\n\n<p>As we discover more items on the left, there are two possibilities:</p>\n\n<ul>\n<li><p>We found the beginning of the sequence, and there were no items that gave <code>F</code> on the predicate:</p>\n\n<pre><code>          (the sequence start) y z a b c d &lt;--- (right-to-left)\n         predicate satisfied:  T T T T F T\n                               -------\n                                 drop\n</code></pre>\n\n<p>In this case, the prefix <code>y z a b</code> should be dropped.</p></li>\n<li><p>We found an item that does not satisfy the predicate:</p>\n\n<pre><code>... (some unknown items)  ...  w z a b c d &lt;--- (right-to-left)\n         predicate satisfied:  F T T T F T\n                               -------\n                               include\n</code></pre>\n\n<p>Only at this point we know for sure that we need to include the items <code>w z a b</code>, we could not do that earlier because there could be the beginning of the sequence instead of item <code>w</code>, and then we should have dropped <code>z a b</code>.</p></li>\n</ul>\n\n<p>But note that in both cases we are certain that the items <code>c d</code> are to be included into the result: that's because they have <code>c</code> with <code>F</code> predicate in front of them.</p>\n\n<hr>\n\n<p>Given this, it becomes clear that, when processing the items right-to-left, you can maintain a separate list of items that are not certain to be included into the result and are either to be dropped or to be included when a <code>false</code> predicate result is encountered, together with the item that gave such <code>false</code> result.</p>\n\n<p>My implementation:</p>\n\n<p><sub>I used a pair of two lists for the accumulator, where the first list is for the items that are certain to be included, and the second one for those which are not.</sub></p>\n\n<pre><code>fun &lt;T&gt; List&lt;T&gt;.myDropWhile(predicate: (T) -&gt; Boolean) =\n    foldRight(Pair(emptyList&lt;T&gt;(), emptyList&lt;T&gt;())) { item, (certain, uncertain) -&gt;\n        if (predicate(item))\n            Pair(certain, uncertain + item) else\n            Pair(certain + uncertain + item, emptyList())\n    }.first.reversed()\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>val ints = listOf(0, 0, 0, 1, 0, 2, 3, 0, 0, 4)\nprintln(ints.myDropWhile { it == 0 }) // [1, 0, 2, 3, 0, 0, 4]\n</code></pre>\n\n<p>See: <a href=\"https://try.kotlinlang.org/#/UserProjects/gtshaf3i7p07p181cnq8bbd3kl/tsr0gga37729387m1u44v8vbk\" rel=\"nofollow noreferrer\">runnable demo of this code with more tests</a>.</p>\n\n<hr>\n\n<p><strong>Note:</strong> copying a read-only list by doing <code>uncertain + item</code> or <code>certain + uncertain + item</code> in each iteration gives <code>O(n^2)</code> worst-case time complexity, which is impractical. Using mutable data structures gives <code>O(n)</code> time.</p>\n"}], "owner": {"reputation": 1953, "user_id": 2713242, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/deb19bb8408191bc86c90b4ade6ffacd?s=128&d=identicon&r=PG", "display_name": "ersin-ertan", "link": "https://stackoverflow.com/users/2713242/ersin-ertan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 709, "favorite_count": 0, "accepted_answer_id": 46064847, "answer_count": 1, "score": 2, "last_activity_date": 1504702328, "creation_date": 1504648226, "question_id": 46063844, "link": "https://stackoverflow.com/questions/46063844/how-to-implement-dropwhile-recursively-using-foldright-in-kotlin", "title": "How to implement dropWhile recursively using foldRight in Kotlin", "body": "<p>I've been implementing higher order functions recursively with <code>.foldRight()</code> like <code>any</code>, <code>all</code>, and <code>takeWhile</code> as practice, but <code>dropWhile</code> has been elusive. <code>_Collections.kt</code> has the imperative way but I couldn't convert it to a recursive structure.</p>\n\n<p>For reference, this is <code>takeWhile</code></p>\n\n<pre><code>fun takeWhile(list:List&lt;Int&gt;, func:(Int) -&gt; Boolean):List&lt;Int&gt; = list.foldRight(emptyList(),\n    { next:Int, acc:List&lt;Int&gt; -&gt; if (func(next)) acc.plus(next) else emptyList() })\n</code></pre>\n"}, {"tags": ["java", "jpa", "jakarta-ee", "spring-data-jpa", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1504672042, "post_id": 46065787, "comment_id": 79094095, "body": "I forgot to mention in the question that I may have more attributes to filter by, that&#39;s why I need to use <code>Specification</code>"}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1504718676, "post_id": 46065787, "comment_id": 79123787, "body": "I posted the code that solved an issue for me, feel free to have a look."}], "tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": false, "score": 0, "last_activity_date": 1504667786, "last_edit_date": 1504667786, "creation_date": 1504664064, "answer_id": 46065787, "question_id": 46063014, "link": "https://stackoverflow.com/questions/46063014/jpa-specification-to-find-subset-of-fields-value/46065787#46065787", "title": "Jpa Specification to find subset of field&#39;s value", "body": "<p>One way is to use filter and test each element to see if your filter list contains it.</p>\n\n<pre><code>val result = dao.filter { tagsToFilterBy.contains(it.tag) }\n</code></pre>\n\n<p>To speed it up, you could force sort your filter list, and maybe use <code>binarySearch</code>, but performance improvement (or not) would depend on the size of the filter list.  For example, assuming <code>tagsToFilterBy</code> is sorted, then:</p>\n\n<pre><code>val result2 = dao.filter { tagsToFilterBy.binarySearch(it.tag) &gt;= 0 }\n</code></pre>\n\n<p>The <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index.html\" rel=\"nofollow noreferrer\">Kotlin Collection</a> page describes each of these extension methods.</p>\n"}, {"tags": [], "owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "is_accepted": false, "score": 0, "last_activity_date": 1504718622, "creation_date": 1504718622, "answer_id": 46081078, "question_id": 46063014, "link": "https://stackoverflow.com/questions/46063014/jpa-specification-to-find-subset-of-fields-value/46081078#46081078", "title": "Jpa Specification to find subset of field&#39;s value", "body": "<p>So I managed to write by myself. I'm not saying that it is pretty, but it is the prettiest one, I could come with:</p>\n\n<pre><code>dao.findAll { root, query, builder -&gt;\n    val lst = mutableListOf&lt;Predicate&gt;()\n    val tagsPath = root.get&lt;List&lt;Tag&gt;&gt;(\"tags\")\n    tagsToFilterBy.forEach {\n        lst.add(cb.isMember(it, tagsPath))\n    }\n    cb.or(*lst.toTypedArray())\n}\n</code></pre>\n\n<p>This is basically going through the given tags, and checking whether it is a member of tags or not.</p>\n"}], "owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 617, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1504718622, "creation_date": 1504643839, "question_id": 46063014, "link": "https://stackoverflow.com/questions/46063014/jpa-specification-to-find-subset-of-fields-value", "title": "Jpa Specification to find subset of field&#39;s value", "body": "<p>I am writing a webapp using Spring Data JPA on persistence layer, more specifically, my DAOs extends the <code>JpaSpecificationExecutor</code> interface, so I am able to implement some kind of filter; imagine list of <code>Item</code>s with several attributes (I omit annotations and other metadata for sake of clarity):</p>\n\n<pre><code>data class Item(var tags: MutableList&lt;String&gt;)\n</code></pre>\n\n<p>On my service layer, my filter method looks like this:</p>\n\n<pre><code>fun findBy(tagsToFilterBy: List&lt;String&gt;): List&lt;Items&gt; {\n    return dao.findAll { root, query, builder -&gt;\n        builder.//??\n    }\n}\n</code></pre>\n\n<p>What I want to achieve is to retrieve only <code>Item</code>s that contain exactly that <code>tagsToFilterBy</code>, in other words, <code>tagsToFilterBy</code> should be a subset of <code>Item.tags</code>.</p>\n\n<p>I know about <code>isMember(...)</code> method, but I think that it's usage wouldn't be very pleasant with many tags as it accepts only single \"entity\" at call. Could you advice me something?</p>\n\n<p>My other question is that whether it is safe to use user input directly in let's say <code>builder.like(someExpression, inputFromUser)</code> or I have to put it in <code>builder.parameter(...)</code> and then <code>query.setParameter(...)</code>.</p>\n\n<p>Thank you for any idea</p>\n"}, {"tags": ["spring", "jackson", "spring-data", "kotlin", "spring-data-elasticsearch"], "comments": [{"owner": {"reputation": 7071, "user_id": 267001, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/83b3a6b4bfe8eb7330823599ba9a1d8b?s=128&d=identicon&r=PG&f=1", "display_name": "ngeek", "link": "https://stackoverflow.com/users/267001/ngeek"}, "edited": false, "score": 0, "creation_date": 1506634031, "post_id": 46061696, "comment_id": 79912255, "body": "Retested problem with latest releases: Spring Boot 2.0.0M4 + Spring Data Elasticsearch 3.0.0.RC3 + Jackson Module Kotlin 2.9.1, unfortunately the problem stills persists."}], "owner": {"reputation": 7071, "user_id": 267001, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/83b3a6b4bfe8eb7330823599ba9a1d8b?s=128&d=identicon&r=PG&f=1", "display_name": "ngeek", "link": "https://stackoverflow.com/users/267001/ngeek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 916, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1504638088, "creation_date": 1504638088, "question_id": 46061696, "link": "https://stackoverflow.com/questions/46061696/spring-data-elasticsearch-with-script-field-with-kotlin-data-class-results-in-ja", "title": "Spring Data Elasticsearch with Script Field with Kotlin Data Class results in Jackson serialization issue", "body": "<p>When trying to fetch a query result from Elasticsearch and map it to a Kotlin data class which uses the <code>@org.springframework.data.elasticsearch.annotations.ScriptedField</code> annotation the result instance seems to be created with only the script field, but not the other fields to be fetched at the same time, and therefore leads to a <code>.MissingKotlinParameterException</code>. The query is done via the  <code>ElasticsearchRepository#search</code> method, which comes with Spring Data Elasticsearch, here is the relevant code piece:</p>\n\n<pre><code>    val searchQuery = NativeSearchQueryBuilder()\n            .withQuery(geoDistanceQuery(\"location\").point(53.0, 10.0).distance(\"100km\"))\n            .withScriptField(ScriptField(\"distance\",\n                    Script(ScriptType.INLINE, \"expression\", \"doc['location'].arcDistance(params.latitude, params.longitude)\", emptyMap())))\n            .withFilter(boolQuery().must(existsQuery(\"title\")))\n            .withSort(SortBuilders.geoDistanceSort(\"location\", 53.0, 10.0).order(SortOrder.ASC))\n            .withPageable(PageRequest.of(0, 10))\n            .build()\n\n    val nearby = eventRepository.search(searchQuery)\n</code></pre>\n\n<p>The stack trace with a bit more context:</p>\n\n<pre><code>    Caused by: com.fasterxml.jackson.module.kotlin.MissingKotlinParameterException: Instantiation of [simple type, class de.nava.demo.events.model.Event] value failed for JSON property id due to missing (therefore NULL) value for creator parameter id which is a non-nullable type\n at [Source: (String)\"{\"distance\":53.542239465750754}\"; line: 1, column: 31] (through reference chain: de.nava.demo.events.model.Event[\"id\"])\n    at com.fasterxml.jackson.module.kotlin.KotlinValueInstantiator.createFromObjectWith(KotlinValueInstantiator.kt:53)\n    at com.fasterxml.jackson.databind.deser.impl.PropertyBasedCreator.build(PropertyBasedCreator.java:189)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeUsingPropertyBased(BeanDeserializer.java:487)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.deserializeFromObjectUsingNonDefault(BeanDeserializerBase.java:1265)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:325)\n    at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:159)\n    at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4011)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:2992)\n</code></pre>\n\n<p>Could someone please shed some light on how you could be able to construct a complete instance with all fields populated at once?</p>\n\n<p>Versions used: </p>\n\n<ul>\n<li>Spring Boot Version 2.0.0.M3 </li>\n<li>Spring Data Elasticsearch 3.0.0.RC2 (Elasticsearch 5.5.0)</li>\n<li>Jackson Module Kotlin 2.9.0</li>\n</ul>\n"}, {"tags": ["json", "mockito", "kotlin"], "comments": [{"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "edited": false, "score": 0, "creation_date": 1504637383, "post_id": 46061381, "comment_id": 79083522, "body": "I came across this:  <a href=\"https://github.com/nhaarman/mockito-kotlin/issues/61\" rel=\"nofollow noreferrer\">github.com/nhaarman/mockito-kotlin/issues/61</a>  Saying that you need to make the properties open to extension, which just sounds... horrible. It works... but really?"}, {"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 3, "creation_date": 1504646465, "post_id": 46061381, "comment_id": 79087829, "body": "These are just data classes, why mock them and not instantiate &#39;real&#39; objects?"}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 2, "creation_date": 1504656302, "post_id": 46061381, "comment_id": 79090616, "body": "Mocking is for testing the behaviour of the mocked object. You should not be testing the behaviour of the JsonRoom class, since it has no logic that you need to test. This isn&#39;t a suitable thing to mock."}, {"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "edited": false, "score": 0, "creation_date": 1504689897, "post_id": 46061381, "comment_id": 79103512, "body": "Yea thanks, think I was a bit tired..."}], "owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 256, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504636749, "creation_date": 1504636749, "question_id": 46061381, "link": "https://stackoverflow.com/questions/46061381/mocking-nested-server-response", "title": "mocking nested server response", "body": "<p>I have the following Json models:</p>\n\n<pre><code>/**\n * Json model of room response\n */\nopen class JsonRoom(val BookingData: JsonRoomBookingData,\n                    val GeneralData: JsonRoomGeneralData)\n\n/**\n * Json model of room booking data\n */\nopen class JsonRoomBookingData(val BookingId: Int,\n                               val BookingStatus: Int,\n                               val RoomId: Int,\n                               val RoomName: String,\n                               val TimeFrom: Date,\n                               val TimeTo: Date,\n                               val TimeFromUtc: Date,\n                               val TimeToUtc: Date,\n                               val Isrecurrence: Boolean,\n                               val RecurrenceID: Boolean,\n                               val BookingSource: Int,\n                               val IsMultiRoom: Boolean,\n                               val canBeStarted: Boolean,\n                               val canBeClosed: Boolean,\n                               val canBeExtended: Boolean)\n\n/**\n * Json model of room general data\n */\nopen class JsonRoomGeneralData(val CountryID: Int,\n                               val FloorID: Int,\n                               val FloorNum: Int,\n                               val LocationID: Int,\n                               val MeetingTitle: String,\n                               val NumAttending: Int)\n</code></pre>\n\n<p>and the following code in one of my tests is failing:</p>\n\n<pre><code>// Arrange\n// Setup room mock\nval roomBookingDataMock = Mockito.mock(JsonRoomBookingData::class.java)\nval roomGeneralDataMock = Mockito.mock(JsonRoomGeneralData::class.java)\nval roomMock = Mockito.mock(JsonRoom::class.java)\nMockito.`when`(roomMock.BookingData)\n        .thenReturn(roomBookingDataMock)\n</code></pre>\n\n<p>In particular on the line <code>Mockito.</code>when<code>(roomMock.BookingData)</code> with exception: </p>\n\n<p>org.mockito.exceptions.misusing.MissingMethodInvocationException:\nwhen() requires an argument which has to be 'a method call on a mock'.\nFor example:\nwhen(mock.getArticles()).thenReturn(articles);</p>\n\n<p>Also, this error might show up because:\n1. you stub either of: final/private/equals()/hashCode() methods.\nThose methods <em>cannot</em> be stubbed/verified.\nMocking methods declared on non-public parent classes is not supported.\n2. inside when() you don't call method on mock but on some other object.</p>\n\n<p>Am I missing something, is this a Kotlin problem as it wraps up Java's getter/setters? Do I need to annotate my Json model properties with some annotation I don't know about?</p>\n"}, {"tags": ["kotlin", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1504687623, "post_id": 46060963, "comment_id": 79101826, "body": "<code>null check ought to be applied inside the function before the return statement.</code> Why you are making that assumption ? You call first <code>unsafeMethod</code> and then check nullability on it,"}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "reply_to_user": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1504691846, "post_id": 46060963, "comment_id": 79104945, "body": "@crgarridos - Because that&#39;s what happens in a non-generic scenario (and I was assuming reified types would be equivalent to that)."}], "answers": [{"comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1504684945, "post_id": 46061280, "comment_id": 79100204, "body": "If it&#39;s the case that inline functions should have the same semantics as non-inline functions, then this line of reasoning makes total sense.  (Though FWIW, this particular developed <i>was</i> surprised by the behaviour ;)"}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1504685328, "post_id": 46061280, "comment_id": 79100401, "body": "For completeness, do you know of any documentation/specs/etc. that state this?  (i.e. that inline functions should behave semantically like normal functions.)"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1504788953, "post_id": 46061280, "comment_id": 79155631, "body": "@OliverCharlesworth since it is not stated otherwise, I conclude that the rules for inlined generics are the same as everywhere else"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1504788981, "post_id": 46061280, "comment_id": 79155654, "body": "There is this spec, but I don&#39;t think it mentions this problem <a href=\"https://github.com/JetBrains/kotlin/blob/master/spec-docs/reified-type-parameters.md\" rel=\"nofollow noreferrer\">github.com/JetBrains/kotlin/blob/master/spec-docs/&hellip;</a>"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1504789178, "post_id": 46061280, "comment_id": 79155838, "body": "Frankly, I know this because the compiler works this way: firstly all types are checked and resolved, secondly byte code of inline functions is copied on code generation and optimizations are performed. This process insures that the semantics of inline generics does not change."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 1, "last_activity_date": 1504636295, "creation_date": 1504636295, "answer_id": 46061280, "question_id": 46060963, "link": "https://stackoverflow.com/questions/46060963/null-checks-not-inserted-for-reified-type-when-param-is-non-nullable/46061280#46061280", "title": "Null checks not inserted for reified type when param is non-nullable", "body": "<blockquote>\n  <p>So it appears the insertion of null checks is based on the type bound, rather than the actual type.</p>\n</blockquote>\n\n<p>Exactly right, this is how it is supposed to work! </p>\n\n<p>A JVM function cannot have different byte code depending on the actual generic type, so the same implementation has to satisfy all possible outcomes.</p>\n\n<p>Inlining doesn't affect this case because it follows the same rules as normal functions. It was designed in this way so that the developer is less surprised.</p>\n"}, {"comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1504685254, "post_id": 46063020, "comment_id": 79100356, "body": "That quote makes sense in isolation.  However my misunderstanding/confusion was about the <i>runtime</i> checks the compiler inserts, not static checks."}], "tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": false, "score": 1, "last_activity_date": 1504643864, "creation_date": 1504643864, "answer_id": 46063020, "question_id": 46060963, "link": "https://stackoverflow.com/questions/46060963/null-checks-not-inserted-for-reified-type-when-param-is-non-nullable/46063020#46063020", "title": "Null checks not inserted for reified type when param is non-nullable", "body": "<p><strong>The problem isn't if the function is inlined or not.</strong> </p>\n\n<p>From Kotlin's <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>Any reference in Java may be null, which makes Kotlin's requirements of strict null-safety impractical for objects coming from Java. Types of Java declarations are treated specially in Kotlin and called platform types. Null-checks are relaxed for such types, so that safety guarantees for them are the same as in Java</p>\n</blockquote>\n\n<p>Using a <code>@Nullable</code> annotation, in java side, you can enforce kotlin to check if the type can either be null or not (using <code>@NotNull</code>)</p>\n\n<pre><code>@Nullable\npublic static &lt;T&gt; T unsafeMethod() { return null; }\n</code></pre>\n"}], "owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 467, "favorite_count": 0, "accepted_answer_id": 46061280, "answer_count": 2, "score": 0, "last_activity_date": 1504691918, "creation_date": 1504634903, "last_edit_date": 1504691918, "question_id": 46060963, "link": "https://stackoverflow.com/questions/46060963/null-checks-not-inserted-for-reified-type-when-param-is-non-nullable", "title": "Null checks not inserted for reified type when param is non-nullable", "body": "<p><strong>TL;DR</strong> Should functions with reified types take account of type-parameter nullability when generating code?</p>\n\n<p><strong>Test case</strong></p>\n\n<p>Consider the following Kotlin code; the only difference between the two methods is whether the type bound is nullable (<code>Any?</code>) or not (<code>Any</code>).</p>\n\n<pre><code>@Test\nfun testNonNullableBound() {\n    val x: Int = nonNullableBound()\n}\n\n@Test\nfun testNullableBound() {\n    val x: Int = nullableBound()\n}\n\nprivate inline fun &lt;reified T : Any&gt; nonNullableBound(): T {\n    return unsafeMethod()\n}\n\nprivate inline fun &lt;reified T : Any?&gt; nullableBound(): T {\n    return unsafeMethod()\n}\n</code></pre>\n\n<p>where <code>unsafeMethod</code> subverts the type system by being defined in Java:</p>\n\n<pre><code>public static &lt;T&gt; T unsafeMethod() { return null; }\n</code></pre>\n\n<p>This is Kotlin 1.1.4.</p>\n\n<p><strong>Expected behaviour</strong></p>\n\n<p>I'd expect these to behave equivalently - the type is reified, so the actual value of <code>T</code> is known to be non-nullable, so a null check ought to be applied inside the function before the <code>return</code> statement.</p>\n\n<p><strong>Observed behaviour</strong></p>\n\n<p>The two cases fail in different ways:</p>\n\n<ul>\n<li><code>testNonNullableBound</code> behaves as expected (fails due to a null check on the value returned by <code>unsafeMethod()</code>).</li>\n<li><code>testNullableBound</code> doesn't behave as expected - it fails with an NPE when doing the assignment to <code>x</code>.</li>\n</ul>\n\n<p>So it appears the insertion of null checks is based on the type bound, rather than the actual type.</p>\n\n<p><strong>Analysis</strong></p>\n\n<p>For reference, the relevant bytecode is as follows.  Note the null check added in <code>testNonNullableBound</code>.</p>\n\n<p><strong><em>testNonNullableBound</em></strong></p>\n\n<pre><code>public final testNonNullableBound()V\n  @Lorg/junit/Test;()\n   [...]\n   L1\n    LINENUMBER 28 L1\n    INVOKESTATIC JavaStuff.unsafeMethod ()Ljava/lang/Object;\n    DUP\n    LDC \"unsafeMethod()\"\n    INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkExpressionValueIsNotNull (Ljava/lang/Object;Ljava/lang/String;)V\n   [...]\n</code></pre>\n\n<p><strong><em>testNullableBound</em></strong></p>\n\n<pre><code>public final testNullableBound()V\n  @Lorg/junit/Test;()\n   [...]\n   L1\n    LINENUMBER 27 L1\n    INVOKESTATIC JavaStuff.unsafeMethod ()Ljava/lang/Object;\n   [...]\n</code></pre>\n"}, {"tags": ["java", "kotlin", "tail-recursion"], "answers": [{"tags": [], "owner": {"reputation": 17217, "user_id": 1240320, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3ff7ec4e8d7aebe239763aa235cd6d14?s=128&d=identicon&r=PG", "display_name": "Pixel Elephant", "link": "https://stackoverflow.com/users/1240320/pixel-elephant"}, "is_accepted": false, "score": 1, "last_activity_date": 1504631072, "creation_date": 1504631072, "answer_id": 46060090, "question_id": 46059795, "link": "https://stackoverflow.com/questions/46059795/when-using-java-kotlin-for-programming-is-recommended-to-use-tail-recursion-or-t/46060090#46060090", "title": "When using Java/Kotlin for programming is recommended to use Tail recursion or the Iterative version? Is there any difference in performance?", "body": "<p>They are equivalent in terms of performance. Kotlin will optimize the recursion on tailrec functions, meaning it is identical to a loop based approach.</p>\n\n<p>Whether you should prefer a functional or iterative approach really comes down to your own preference (and your team's, if applicable), taking into account readability, conciseness, and intuitiveness. This judgement may change from method to method; one function might be more readable using a functional approach, where another might benefit from a straightforward loop.</p>\n\n<p>The nice thing about Kotlin is that it supports both approaches, and allows a developer to use the tool they need for the job.</p>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1504635778, "last_edit_date": 1504635778, "creation_date": 1504631085, "answer_id": 46060095, "question_id": 46059795, "link": "https://stackoverflow.com/questions/46059795/when-using-java-kotlin-for-programming-is-recommended-to-use-tail-recursion-or-t/46060095#46060095", "title": "When using Java/Kotlin for programming is recommended to use Tail recursion or the Iterative version? Is there any difference in performance?", "body": "<p>The biggest difference I see is the signatures: while <code>iterative_fibonacci</code> takes one argument and is quite clear, <code>tail_fibonacci</code> takes three, and though the defaults are provided, this might surprise the user. You can, however, make a wrapper function for it, and even make the <code>tailrec</code> function a <a href=\"https://kotlinlang.org/docs/reference/functions.html#local-functions\" rel=\"nofollow noreferrer\">local one</a>.</p>\n\n<p>There should not be much difference in the resulting bytecode the two functions are compiled to, except for <code>n.minus(BigInteger.ONE)</code> vs <code>count += BigInteger.ONE</code>, and you can check it for yourself with <a href=\"https://stackoverflow.com/questions/35538049/kotlin-bytecode\">a Kotlin bytecode viewer</a>.</p>\n\n<p>Regarding performance, there should not be any predictable difference between the two implementations (also note that the JVM additionally optimizes the code at runtime with JIT compiler), but of course the <code>tailrec</code> function is much more efficient than an ordinary recursive one would be.</p>\n\n<p>As to the code style (which is highly opinion-based), many tail-recursive solutions look more natural (and closer to math notation), and some do not (e.g. when there are many parameters that end up in a complete mess).</p>\n\n<p>So, I think, <code>tailrec</code> should be used as a performance tool (and especially as a way to avoid stack overflow, which requires all recursive calls to be tail ones) when you find a recursive definition more suitable for expressing what the code does.</p>\n"}], "owner": {"reputation": 363, "user_id": 4669892, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/--1vbamf063E/AAAAAAAAAAI/AAAAAAAAA1U/zNU8fLIbn9s/photo.jpg?sz=128", "display_name": "Andrei Paciurca", "link": "https://stackoverflow.com/users/4669892/andrei-paciurca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 319, "favorite_count": 1, "accepted_answer_id": 46060095, "answer_count": 2, "score": 7, "last_activity_date": 1504681049, "creation_date": 1504629912, "last_edit_date": 1504681049, "question_id": 46059795, "link": "https://stackoverflow.com/questions/46059795/when-using-java-kotlin-for-programming-is-recommended-to-use-tail-recursion-or-t", "title": "When using Java/Kotlin for programming is recommended to use Tail recursion or the Iterative version? Is there any difference in performance?", "body": "<p>I try to learn about good practices in programming and I'm stuck with this question. I know that in Java, recursive functions can be 'a pain in the ass' (sometimes), and I try to implement as much as I can the tail version of that function. Is it worth bothering with this or should I do in the old fashioned way? \nIs there any difference between this two functions (in Kotlin):</p>\n\n<pre><code>tailrec fun tail_fibonacci(n : BigInteger, fib1 : BigInteger = BigInteger.ZERO , fib2 : BigInteger = BigInteger.ONE) :\nBigInteger {\n    return when(n){\n        BigInteger.ZERO -&gt; fib1\n        else -&gt; tail_fibonacci(n.minus(BigInteger.ONE),fib1.plus(fib2),fib1)\n    }\n}\n\nfun iterative_fibonacci(n: BigInteger) : BigInteger {\n    var count : BigInteger = BigInteger.ONE\n    var a : BigInteger = BigInteger.ZERO\n    var b : BigInteger = BigInteger.ONE\n    var c : BigInteger\n    while(count &lt; n){\n        count += BigInteger.ONE\n        c = a + b\n        a = b\n        b = c\n    }\n    return b\n}\n</code></pre>\n"}, {"tags": ["javascript", "json", "swift", "kotlin"], "comments": [{"owner": {"reputation": 9382, "user_id": 1168661, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/AU4We.jpg?s=128&g=1", "display_name": "aug", "link": "https://stackoverflow.com/users/1168661/aug"}, "edited": false, "score": 1, "creation_date": 1504629898, "post_id": 46059738, "comment_id": 79079905, "body": "<a href=\"https://developer.apple.com/documentation/foundation/jsonserialization\" rel=\"nofollow noreferrer\">yes</a> for swift but for Kotlin you&#39;ll need to use something like <a href=\"https://stackoverflow.com/questions/41928803/how-to-parse-json-in-kotlin\">Klaxon</a>. If you are asking about native support without the use of a class, probably not."}, {"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "reply_to_user": {"reputation": 9382, "user_id": 1168661, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/AU4We.jpg?s=128&g=1", "display_name": "aug", "link": "https://stackoverflow.com/users/1168661/aug"}, "edited": false, "score": 0, "creation_date": 1504629956, "post_id": 46059738, "comment_id": 79079934, "body": "@aug: Your first link is only for Kotlin transpiled to Javascript."}, {"owner": {"reputation": 9382, "user_id": 1168661, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/AU4We.jpg?s=128&g=1", "display_name": "aug", "link": "https://stackoverflow.com/users/1168661/aug"}, "reply_to_user": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 0, "creation_date": 1504630080, "post_id": 46059738, "comment_id": 79079993, "body": "@SLaks my bad updated my comment"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1504683544, "post_id": 46059738, "comment_id": 79099378, "body": "Kotlin does not have optional types; Kotlin has type inference. You still need to declare all the classes that you use in Kotlin code."}, {"owner": {"reputation": 1129, "user_id": 2746389, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5058f3073684cd2cd921485ade883704?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed", "link": "https://stackoverflow.com/users/2746389/mohamed"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1504737005, "post_id": 46059738, "comment_id": 79132521, "body": "What is <code>Any</code> then? @yole"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1504782006, "post_id": 46059738, "comment_id": 79150804, "body": "<code>Any</code> is Kotlin&#39;s equivalent to <code>java.lang.Object</code>: <a href=\"http://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/index.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1504639789, "creation_date": 1504639789, "answer_id": 46062077, "question_id": 46059738, "link": "https://stackoverflow.com/questions/46059738/can-kotlin-or-swift-parse-json-just-like-javascript/46062077#46062077", "title": "Can Kotlin or Swift parse JSON just like Javascript?", "body": "<p>If you look up what JSON stands for it's no wonder why JavaScript has \"native support\" for it: <a href=\"https://en.wikipedia.org/wiki/JSON\" rel=\"nofollow noreferrer\"><strong>JavaScript Object Notation</strong></a></p>\n\n<p>In Kotlin you'll need to use libraries for parsing JSON, I'd recommend <a href=\"https://github.com/FasterXML/jackson-module-kotlin\" rel=\"nofollow noreferrer\">Jackson</a> for that, a library widely used with Java already.</p>\n"}], "owner": {"reputation": 1129, "user_id": 2746389, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5058f3073684cd2cd921485ade883704?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed", "link": "https://stackoverflow.com/users/2746389/mohamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1504639789, "creation_date": 1504629599, "last_edit_date": 1504632152, "question_id": 46059738, "link": "https://stackoverflow.com/questions/46059738/can-kotlin-or-swift-parse-json-just-like-javascript", "title": "Can Kotlin or Swift parse JSON just like Javascript?", "body": "<p>If I'm using javascript (or TypeScript), I can do following (just idea);</p>\n\n<pre><code>object = JSON.parse(jsonString)\n</code></pre>\n\n<p>And I can just use it like this,</p>\n\n<pre><code>alert(object.property);\n</code></pre>\n\n<p>Super Simple.</p>\n\n<p>If I'm using Java, I need to create classes and parse it to use it. I understand.</p>\n\n<p>How about Kotlin and Swift. They have optional types, so why single line, Javascript-like simple parsing doesn't exist for them, or does it? (Without even data class or going through JSON's properties)</p>\n"}, {"tags": ["collections", "kotlin"], "comments": [{"owner": {"reputation": 161, "user_id": 1025193, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be7b0dc139d661e4d1cd4108bbceff90?s=128&d=identicon&r=PG", "display_name": "Boris", "link": "https://stackoverflow.com/users/1025193/boris"}, "edited": false, "score": 1, "creation_date": 1504626723, "post_id": 46058281, "comment_id": 79078170, "body": "You don&#39;t need that last line <code>notes.value = list</code>."}, {"owner": {"reputation": 897, "user_id": 1221594, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/fd482f97cb9e1b311dbec261f8e6362f?s=128&d=identicon&r=PG", "display_name": "Andrew Matuk", "link": "https://stackoverflow.com/users/1221594/andrew-matuk"}, "reply_to_user": {"reputation": 161, "user_id": 1025193, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be7b0dc139d661e4d1cd4108bbceff90?s=128&d=identicon&r=PG", "display_name": "Boris", "link": "https://stackoverflow.com/users/1025193/boris"}, "edited": false, "score": 0, "creation_date": 1504627066, "post_id": 46058281, "comment_id": 79078400, "body": "it&#39;s android LiveData magic, so under the hood it sends events"}, {"owner": {"reputation": 161, "user_id": 1025193, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be7b0dc139d661e4d1cd4108bbceff90?s=128&d=identicon&r=PG", "display_name": "Boris", "link": "https://stackoverflow.com/users/1025193/boris"}, "edited": false, "score": 0, "creation_date": 1504627355, "post_id": 46058281, "comment_id": 79078583, "body": "Ah, okay. Haven&#39;t done anything with LiveData, yet, but I get what you&#39;re saying. :)"}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 1025193, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/be7b0dc139d661e4d1cd4108bbceff90?s=128&d=identicon&r=PG", "display_name": "Boris", "link": "https://stackoverflow.com/users/1025193/boris"}, "edited": false, "score": 0, "creation_date": 1504627173, "post_id": 46058551, "comment_id": 79078471, "body": "Don&#39;t know if the one line requirement can be satisfied, but at least using <code>indexOfFirst</code> could save you multiple iterations over the list: <code>fun updateOrInsert(note: UserNote) { val index = notes.value!!.indexOfFirst { it.Id == note.Id }; if (index == -1) { notes.value.add(note) } else { notes.value[index] = note } }</code>"}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": false, "score": 2, "last_activity_date": 1504625113, "creation_date": 1504625113, "answer_id": 46058551, "question_id": 46058281, "link": "https://stackoverflow.com/questions/46058281/how-do-i-make-updateorinsert-in-kotlin-collections/46058551#46058551", "title": "How do I make UpdateOrInsert in Kotlin collections", "body": "<p>Use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index-of-first.html\" rel=\"nofollow noreferrer\">indexOfFirst</a> to find the index of the first element with the given ID. If -1, add the item to the list, otherwise, change the value at the found index.</p>\n"}], "owner": {"reputation": 897, "user_id": 1221594, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/fd482f97cb9e1b311dbec261f8e6362f?s=128&d=identicon&r=PG", "display_name": "Andrew Matuk", "link": "https://stackoverflow.com/users/1221594/andrew-matuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504625113, "creation_date": 1504624268, "last_edit_date": 1504624590, "question_id": 46058281, "link": "https://stackoverflow.com/questions/46058281/how-do-i-make-updateorinsert-in-kotlin-collections", "title": "How do I make UpdateOrInsert in Kotlin collections", "body": "<p>I have a list of items, and one of item copies is changed by user, how do I find it in my collection by Id and update, or if it's not found I'd like to add the item?  my best guess is, but it requires ugly <em>indexOf(v)</em></p>\n\n<pre><code>fun updateOrInsert(note : UserNote) {\n    val list = notes.value!!\n    val v = list.firstOrNull{(Id) -&gt; Id ==note.Id}\n    if (v==null) {\n        list.add(note)\n    } else {\n        val i = list.indexOf(v)\n        list[i] = note\n    }\n\n    notes.value = list\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "google-oauth", "google-api-java-client", "google-play-developer-api"], "answers": [{"tags": [], "owner": {"reputation": 2169, "user_id": 4564505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qRYlQ.jpg?s=128&g=1", "display_name": "pavlos163", "link": "https://stackoverflow.com/users/4564505/pavlos163"}, "is_accepted": true, "score": 7, "last_activity_date": 1505136291, "creation_date": 1505136291, "answer_id": 46156835, "question_id": 46055214, "link": "https://stackoverflow.com/questions/46055214/google-play-developer-api-400-invalid-value-inapppurchases/46156835#46156835", "title": "Google Play Developer API - 400 Invalid Value - InAppPurchases", "body": "<p>So, the reason that happened was just because the <code>purchaseToken</code> I was using was wrong.</p>\n\n<p>I did not expect that to be the reason as I thought that in the case of an invalid token, I would receive a \"token invalid\" error (or something similar). As it turns out, the responses given by Google are pretty inconsistent (a 404 could also be given for an invalid token).</p>\n"}, {"comments": [{"owner": {"reputation": 431, "user_id": 2256592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e646cfce0a289e852f69cdbbbd0485b2?s=128&d=identicon&r=PG", "display_name": "Joe Okatch", "link": "https://stackoverflow.com/users/2256592/joe-okatch"}, "edited": false, "score": 0, "creation_date": 1586640825, "post_id": 55986586, "comment_id": 108203576, "body": "Do you have any idea how users get this fraudulent Order ID?"}, {"owner": {"reputation": 3038, "user_id": 1847645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/axnXg.jpg?s=128&g=1", "display_name": "Berkay Turanc\u0131", "link": "https://stackoverflow.com/users/1847645/berkay-turanc%c4%b1"}, "reply_to_user": {"reputation": 431, "user_id": 2256592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e646cfce0a289e852f69cdbbbd0485b2?s=128&d=identicon&r=PG", "display_name": "Joe Okatch", "link": "https://stackoverflow.com/users/2256592/joe-okatch"}, "edited": false, "score": 1, "creation_date": 1586779754, "post_id": 55986586, "comment_id": 108244340, "body": "@JoeOkatch there are several ways for that. Since they are not legal I will not share the links directly. However you can google it as &quot;How can we h..k the in-app purchases in Google Play Store?&quot; You will come up something like; &quot;Patcher&quot;"}, {"owner": {"reputation": 431, "user_id": 2256592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e646cfce0a289e852f69cdbbbd0485b2?s=128&d=identicon&r=PG", "display_name": "Joe Okatch", "link": "https://stackoverflow.com/users/2256592/joe-okatch"}, "edited": false, "score": 1, "creation_date": 1586810096, "post_id": 55986586, "comment_id": 108260173, "body": "@BerkatTuranci very much appreciated. I have been getting these fraudulent codes lately. We are always learning something new."}, {"owner": {"reputation": 431, "user_id": 2256592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e646cfce0a289e852f69cdbbbd0485b2?s=128&d=identicon&r=PG", "display_name": "Joe Okatch", "link": "https://stackoverflow.com/users/2256592/joe-okatch"}, "edited": false, "score": 0, "creation_date": 1586813880, "post_id": 55986586, "comment_id": 108261787, "body": "@BerkatTuranci also another question if you don&#39;t mind...Is it normal for the console to indicate orders as &quot;charged 0&quot; even though api json is OK?"}, {"owner": {"reputation": 3038, "user_id": 1847645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/axnXg.jpg?s=128&g=1", "display_name": "Berkay Turanc\u0131", "link": "https://stackoverflow.com/users/1847645/berkay-turanc%c4%b1"}, "reply_to_user": {"reputation": 431, "user_id": 2256592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e646cfce0a289e852f69cdbbbd0485b2?s=128&d=identicon&r=PG", "display_name": "Joe Okatch", "link": "https://stackoverflow.com/users/2256592/joe-okatch"}, "edited": false, "score": 1, "creation_date": 1586849618, "post_id": 55986586, "comment_id": 108271681, "body": "@JoeOkatch if you are using subscription and allow free usage trial time then it is okay. For the first trial period you can see 0 price for charged. And normal payment for the second recurrence."}, {"owner": {"reputation": 431, "user_id": 2256592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e646cfce0a289e852f69cdbbbd0485b2?s=128&d=identicon&r=PG", "display_name": "Joe Okatch", "link": "https://stackoverflow.com/users/2256592/joe-okatch"}, "edited": false, "score": 0, "creation_date": 1586879462, "post_id": 55986586, "comment_id": 108288197, "body": "@BerkatTuranci Oh, I see. I just realised that we left the free trial mode on in the console. Much appreciated."}], "tags": [], "owner": {"reputation": 3038, "user_id": 1847645, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/axnXg.jpg?s=128&g=1", "display_name": "Berkay Turanc\u0131", "link": "https://stackoverflow.com/users/1847645/berkay-turanc%c4%b1"}, "is_accepted": false, "score": 6, "last_activity_date": 1557002109, "creation_date": 1557002109, "answer_id": 55986586, "question_id": 46055214, "link": "https://stackoverflow.com/questions/46055214/google-play-developer-api-400-invalid-value-inapppurchases/55986586#55986586", "title": "Google Play Developer API - 400 Invalid Value - InAppPurchases", "body": "<p>From my experiences, if you have <code>HTTP 400</code> error with <code>Invalid Value</code> then that purchase or subscription is <strong>FRAUD</strong>. </p>\n\n<p>You can check out Order Id part of those purchases. Probably in the format of <code>XXXXXXXXXXXX.XXXXXXXXXXXX</code> which is wrong and should be <code>GPA.XXXX.XXXXX.XXXXX.XXX</code> </p>\n\n<ul>\n<li>I don't really count the X char number. I just added to show the logic.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 309, "user_id": 1246922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AMgnb.jpg?s=128&g=1", "display_name": "Airful", "link": "https://stackoverflow.com/users/1246922/airful"}, "edited": false, "score": 0, "creation_date": 1610540457, "post_id": 63300963, "comment_id": 116165110, "body": "This saved my day.. thank you so much :)"}], "tags": [], "owner": {"reputation": 1502, "user_id": 4043853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4e8be4e69448cc0d6d0e81e238632e0?s=128&d=identicon&r=PG", "display_name": "Mr Stanev", "link": "https://stackoverflow.com/users/4043853/mr-stanev"}, "is_accepted": false, "score": 5, "last_activity_date": 1596799983, "creation_date": 1596799983, "answer_id": 63300963, "question_id": 46055214, "link": "https://stackoverflow.com/questions/46055214/google-play-developer-api-400-invalid-value-inapppurchases/63300963#63300963", "title": "Google Play Developer API - 400 Invalid Value - InAppPurchases", "body": "<p>In my case the problem was that I was calling:</p>\n<pre><code>purchases.products.get\n</code></pre>\n<p>Instead of:</p>\n<pre><code>purchases.subscriptions.get\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 11839, "user_id": 6045800, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153412706975770/picture?type=large", "display_name": "Tomerikoo", "link": "https://stackoverflow.com/users/6045800/tomerikoo"}, "edited": false, "score": 0, "creation_date": 1615922047, "post_id": 66661301, "comment_id": 117840999, "body": "While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/low-quality-posts/28546688\">From Review</a>"}, {"owner": {"reputation": 9, "user_id": 4627576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c05ed99b51b2d18a70c7400aa7fd87b9?s=128&d=identicon&r=PG&f=1", "display_name": "Ardito ITA", "link": "https://stackoverflow.com/users/4627576/ardito-ita"}, "reply_to_user": {"reputation": 11839, "user_id": 6045800, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153412706975770/picture?type=large", "display_name": "Tomerikoo", "link": "https://stackoverflow.com/users/6045800/tomerikoo"}, "edited": false, "score": 0, "creation_date": 1615924600, "post_id": 66661301, "comment_id": 117841974, "body": "You&#39;re right, I changed my answer, I hope to help someone in the future, it took me a long time to find this solution."}], "tags": [], "owner": {"reputation": 9, "user_id": 4627576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c05ed99b51b2d18a70c7400aa7fd87b9?s=128&d=identicon&r=PG&f=1", "display_name": "Ardito ITA", "link": "https://stackoverflow.com/users/4627576/ardito-ita"}, "is_accepted": false, "score": -1, "last_activity_date": 1615924518, "last_edit_date": 1615924518, "creation_date": 1615919525, "answer_id": 66661301, "question_id": 46055214, "link": "https://stackoverflow.com/questions/46055214/google-play-developer-api-400-invalid-value-inapppurchases/66661301#66661301", "title": "Google Play Developer API - 400 Invalid Value - InAppPurchases", "body": "<p>For all those who run into this problem, 99% of you need to publish the application for internal testers.</p>\n<p>Follow this guide: <a href=\"https://support.google.com/googleplay/android-developer/answer/6062777?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/googleplay/android-developer/answer/6062777?hl=en</a></p>\n<p><a href=\"https://i.stack.imgur.com/VDsrP.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VDsrP.jpg\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 2169, "user_id": 4564505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qRYlQ.jpg?s=128&g=1", "display_name": "pavlos163", "link": "https://stackoverflow.com/users/4564505/pavlos163"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5027, "favorite_count": 0, "accepted_answer_id": 46156835, "answer_count": 4, "score": 5, "last_activity_date": 1615924518, "creation_date": 1504615160, "last_edit_date": 1504626943, "question_id": 46055214, "link": "https://stackoverflow.com/questions/46055214/google-play-developer-api-400-invalid-value-inapppurchases", "title": "Google Play Developer API - 400 Invalid Value - InAppPurchases", "body": "<p>My question is similar to <a href=\"https://stackoverflow.com/questions/35019357/google-play-developer-api-query-purchase-token-returns-invalid-value\">this one</a>. However, I am using the <a href=\"https://developers.google.com/api-client-library/java/apis/androidpublisher/v2\" rel=\"noreferrer\">API Java Client Library</a> with a service account, making calls to the API from my server.</p>\n\n<p>My code is following <a href=\"https://developers.google.com/identity/protocols/OAuth2ServiceAccount\" rel=\"noreferrer\">this</a> guide, which is very simple. However, I can't seem to get an appropriate error for my request. This is how I build my <code>AndroidPublisher</code>:</p>\n\n<pre><code>val credential = GoogleCredential.fromStream(FileInputStream(\n        \"/path/to/json\"\n)).createScoped(Collections.singleton(AndroidPublisherScopes.ANDROIDPUBLISHER))\n\nandroidPublisher = AndroidPublisher.Builder(httpTransport, JSON_FACTORY, credential)\n        .setApplicationName(packageName)\n        .build()\n</code></pre>\n\n<p>Where the JSON is generated from the Developer Console, under Service Accounts. This is how I make my request:</p>\n\n<pre><code>androidPublisher.purchases().subscriptions().get(packageName, \"valid-sku\", \"invalid-token\").execute()\n</code></pre>\n\n<p>My subscription ID is valid but my token is invalid. I expect an error such as \"invalid token\" in the response. However, what I get is:</p>\n\n<pre><code>com.google.api.client.googleapis.json.GoogleJsonResponseException: 400 Bad Request\n{\n  \"code\" : 400,\n  \"errors\" : [ {\n    \"domain\" : \"global\",\n    \"message\" : \"Invalid Value\",\n    \"reason\" : \"invalid\"\n  } ],\n  \"message\" : \"Invalid Value\"\n}\n</code></pre>\n\n<p>Is that a generic error because of the invalid token or is it an authentication issue? If it an authentication issue, how do I solve it? If it is an invalid token issue, how am I supposed to know?</p>\n\n<p><strong>Some more information:</strong> </p>\n\n<ul>\n<li>I get the same error when trying to make that call from the API Explorer as well (this time using a Client ID and API Key instead of Service Account).</li>\n<li>I have <strong>not</strong> delegated domain-wide access to the service account. Do I have to for some reason?</li>\n<li>I can successfully make <strong>other calls</strong> to the API such as <a href=\"https://developers.google.com/android-publisher/api-ref/inappproducts/list\" rel=\"noreferrer\"><code>inappproducts.list</code></a></li>\n</ul>\n"}, {"tags": ["android", "arrays", "generics", "kotlin"], "comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1504614700, "post_id": 46055016, "comment_id": 79069467, "body": "? marks a type as nullable. In Kotlin you make a distinction between types that can be null, and those that cannot."}, {"owner": {"reputation": 7138, "user_id": 541688, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24b01d1ed951c6f0cbdf220907cab267?s=128&d=identicon&r=PG", "display_name": "Oleg Estekhin", "link": "https://stackoverflow.com/users/541688/oleg-estekhin"}, "edited": false, "score": 0, "creation_date": 1504614710, "post_id": 46055016, "comment_id": 79069472, "body": "T? is a Kotlin nullable type, Array&lt;T?&gt; just means that collection can contain nulls"}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 1, "creation_date": 1504615058, "post_id": 46055016, "comment_id": 79069707, "body": "Thanks for the explanation, but not sure why asking a question is getting &#39;-2&#39;, if whoever gave it could explain that would be more helpful."}], "answers": [{"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 1, "last_activity_date": 1504614803, "creation_date": 1504614803, "answer_id": 46055098, "question_id": 46055016, "link": "https://stackoverflow.com/questions/46055016/what-does-arrayt-mean/46055098#46055098", "title": "what does Array&lt;T?&gt; mean", "body": "<p><code>T</code> is a <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">generic</a>. <code>?</code> marks a type as nullable. In Kotlin you make a distinction between types that can be null, and those that cannot.</p>\n\n<p>Since in Java all types except the atomic ones (<code>int</code>, <code>long</code>, <code>float</code>...) can be null you need to add the <code>?</code> operator to deal with this case as well.</p>\n"}, {"tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": true, "score": 1, "last_activity_date": 1504615947, "last_edit_date": 1504615947, "creation_date": 1504614898, "answer_id": 46055129, "question_id": 46055016, "link": "https://stackoverflow.com/questions/46055016/what-does-arrayt-mean/46055129#46055129", "title": "what does Array&lt;T?&gt; mean", "body": "<pre><code>return arrayOfNulls&lt;MyData&gt;(0)\n</code></pre>\n\n<p>What this line means:</p>\n\n<ul>\n<li><code>arrayOfNulls</code> Return an array of N elements (zero in your case), but fill it with null</li>\n<li><code>&lt;MyData&gt;</code> The Data-Type is <code>MyData</code>, which is NOT nullable</li>\n</ul>\n\n<p>So you create an array with <code>null</code> values (even if the size is zero) but the DataType is not nullable:</p>\n\n<p>Two solutions:</p>\n\n<pre><code>// zero elements in the array but not nullable\nfun getDataArray(): Array&lt;MyData&gt; {\n    return arrayOf()\n}\n\n// array with nullable data-type\nfun getDataArray(): Array&lt;MyData?&gt; {\n    return arrayOfNulls&lt;MyData?&gt;(0)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 888, "user_id": 4738270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb2cc3195b0a914cb87d75da3809bdeb?s=128&d=identicon&r=PG&f=1", "display_name": "Mohamed Chaawa", "link": "https://stackoverflow.com/users/4738270/mohamed-chaawa"}, "is_accepted": false, "score": 2, "last_activity_date": 1504615363, "last_edit_date": 1504615363, "creation_date": 1504615078, "answer_id": 46055186, "question_id": 46055016, "link": "https://stackoverflow.com/questions/46055016/what-does-arrayt-mean/46055186#46055186", "title": "what does Array&lt;T?&gt; mean", "body": "<p><code>arrayOfNulls</code> returns an array of objects, initialized with <code>null</code> values. The '?' means that the object may be <code>null</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1504615534, "creation_date": 1504615534, "answer_id": 46055344, "question_id": 46055016, "link": "https://stackoverflow.com/questions/46055016/what-does-arrayt-mean/46055344#46055344", "title": "what does Array&lt;T?&gt; mean", "body": "<ol>\n<li>You need to know that In Kotlin every class can be used in two variants: a nullable and a non-nullable one. For example, the class <code>String</code> can be used for the <code>String</code> or the <code>String?</code> type, the former one meaning \"not null\" and the latter one meaning \"nullable\".</li>\n<li>The <code>&lt;&gt;</code> chars introduce a \"generic type\", e.g. for an <code>Array&lt;String&gt;</code> this means, that this Array can only hold objects of type <code>String</code>, whereas <code>Array&lt;String?&gt;</code> means it can hold instances of <code>String</code> and <code>null</code> on top of that.</li>\n<li>As your making use of <code>arrayOfNulls</code> the function's return type will be <code>Array&lt;MyData?&gt;</code>, which is why the compiler complains:</li>\n</ol>\n\n<blockquote>\n  <p>inferred type is Array but Array was expected\n  Blockquote</p>\n</blockquote>\n\n<p>In order to fix that, you can either make your function return the nullable version, like you already did or you do not use <code>arrayOfNulls</code>, when you're sure you don't want to include <code>null</code>s in your array.</p>\n\n<pre><code>fun getDataArray(): Array&lt;MyData?&gt; {\n    return arrayOfNulls&lt;MyData&gt;(0)\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>fun getDataArray(): Array&lt;MyData&gt; {\n    return arrayOf&lt;MyData&gt;()\n}\n</code></pre>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 355, "favorite_count": 0, "accepted_answer_id": 46055129, "answer_count": 4, "score": 0, "last_activity_date": 1504615947, "creation_date": 1504614515, "last_edit_date": 1504615204, "question_id": 46055016, "link": "https://stackoverflow.com/questions/46055016/what-does-arrayt-mean", "title": "what does Array&lt;T?&gt; mean", "body": "<p>When converting a java code into Kotlin, the</p>\n\n<pre><code>public MayData[] getDataArray() {\n    return new MayData[0];\n}\n</code></pre>\n\n<p>changed to </p>\n\n<pre><code>fun getDataArray(): Array&lt;MyData&gt; {\n    return arrayOfNulls&lt;MyData&gt;(0)\n}\n</code></pre>\n\n<p>but I got an error:</p>\n\n<pre><code>Error:(50, 16) Type mismatch: inferred type is Array&lt;MyData?&gt; but Array&lt;MyData&gt; was expected\n</code></pre>\n\n<p>it has to add the \u2018?\u2019 </p>\n\n<pre><code>fun getDataArray(): Array&lt;MyData?&gt; {\n    return arrayOfNulls&lt;MyData&gt;(0)\n}\n</code></pre>\n\n<p>what does the \u2018?\u2019 mean with the template type?</p>\n"}, {"tags": ["android-studio", "kotlin"], "comments": [{"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1504710261, "post_id": 46054600, "comment_id": 79118594, "body": "Just go to the module settings for module <code>app</code> and in the Kotlin facet page tick the box to use &quot;project settings&quot;."}, {"owner": {"reputation": 495, "user_id": 1241709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abba16a30edc1f7d228c8e225d90cbf3?s=128&d=identicon&r=PG", "display_name": "minsk", "link": "https://stackoverflow.com/users/1241709/minsk"}, "reply_to_user": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 2, "creation_date": 1509493707, "post_id": 46054600, "comment_id": 81039593, "body": "@Strelok what, where is &quot;Kotlin facet page tick&quot; in the module settings?"}, {"owner": {"reputation": 1099, "user_id": 4658157, "user_type": "registered", "accept_rate": 79, "profile_image": "https://lh6.googleusercontent.com/-r08fSwVU-o8/AAAAAAAAAAI/AAAAAAAABsg/5EgCcvk43kg/photo.jpg?sz=128", "display_name": "Phatee P", "link": "https://stackoverflow.com/users/4658157/phatee-p"}, "edited": false, "score": 1, "creation_date": 1515795089, "post_id": 46054600, "comment_id": 83451982, "body": "Have you solved this problem?"}, {"owner": {"reputation": 479, "user_id": 8462094, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e9427c5a87c4147aed23b13d47bf2c?s=128&d=identicon&r=PG&f=1", "display_name": "Xavier L.", "link": "https://stackoverflow.com/users/8462094/xavier-l"}, "edited": false, "score": 1, "creation_date": 1554681816, "post_id": 46054600, "comment_id": 97829059, "body": "I am not seeing a Kotlin facet page in the module settings either. (Android Studio 3.3.2)"}], "answers": [{"comments": [{"owner": {"reputation": 13162, "user_id": 4969827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q57nx.jpg?s=128&g=1", "display_name": "Sergey Shustikov", "link": "https://stackoverflow.com/users/4969827/sergey-shustikov"}, "edited": false, "score": 1, "creation_date": 1545216574, "post_id": 50912853, "comment_id": 94546704, "body": "How to save this configuration? It rewrites after each rebuid."}, {"owner": {"reputation": 479, "user_id": 8462094, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e9427c5a87c4147aed23b13d47bf2c?s=128&d=identicon&r=PG&f=1", "display_name": "Xavier L.", "link": "https://stackoverflow.com/users/8462094/xavier-l"}, "reply_to_user": {"reputation": 13162, "user_id": 4969827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q57nx.jpg?s=128&g=1", "display_name": "Sergey Shustikov", "link": "https://stackoverflow.com/users/4969827/sergey-shustikov"}, "edited": false, "score": 0, "creation_date": 1554681765, "post_id": 50912853, "comment_id": 97829046, "body": "I don&#39;t think .iml files are meant to be manually edited. By poking around Android Studio, it seems to me that Gradle wipes .iml files and regenerates them. That&#39;s why @SergeyShustikov and I are having problems modifying them. This answer is insufficient."}, {"owner": {"reputation": 13162, "user_id": 4969827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q57nx.jpg?s=128&g=1", "display_name": "Sergey Shustikov", "link": "https://stackoverflow.com/users/4969827/sergey-shustikov"}, "reply_to_user": {"reputation": 479, "user_id": 8462094, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f5e9427c5a87c4147aed23b13d47bf2c?s=128&d=identicon&r=PG&f=1", "display_name": "Xavier L.", "link": "https://stackoverflow.com/users/8462094/xavier-l"}, "edited": false, "score": 0, "creation_date": 1554869868, "post_id": 50912853, "comment_id": 97904494, "body": "@XavierL. I just reinstalled Android SDK and all became works fine."}], "tags": [], "owner": {"reputation": 916, "user_id": 2874418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NhGuM.jpg?s=128&g=1", "display_name": "Diego Malone", "link": "https://stackoverflow.com/users/2874418/diego-malone"}, "is_accepted": false, "score": 3, "last_activity_date": 1529335697, "creation_date": 1529335697, "answer_id": 50912853, "question_id": 46054600, "link": "https://stackoverflow.com/questions/46054600/android-studio-kotlin-compiler-warning/50912853#50912853", "title": "Android Studio Kotlin Compiler warning", "body": "<p>Open <code>ProjectFolder/app/app.iml</code> and edit the following node, changing <code>useProjectSettings</code> to true.</p>\n\n<pre><code>&lt;facet type=\"kotlin-language\" name=\"Kotlin\"&gt;\n  &lt;configuration version=\"3\" platform=\"JVM 1.6\" useProjectSettings=\"true\"&gt;\n    &lt;compilerSettings /&gt;\n    &lt;compilerArguments&gt;\n      &lt;option name=\"destination\" value=\"$MODULE_DIR$/build/tmp/kotlin-classes/debug\" /&gt;\n      &lt;option name=\"noStdlib\" value=\"true\" /&gt;\n      &lt;option name=\"noReflect\" value=\"true\" /&gt;\n      &lt;option name=\"moduleName\" value=\"app_debug\" /&gt;\n      &lt;option name=\"addCompilerBuiltIns\" value=\"true\" /&gt;\n      &lt;option name=\"loadBuiltInsFromDependencies\" value=\"true\" /&gt;\n      &lt;option name=\"languageVersion\" value=\"1.2\" /&gt;\n      &lt;option name=\"apiVersion\" value=\"1.2\" /&gt;\n      ...\n    &lt;/compilerArguments&gt;\n  &lt;/configuration&gt;\n&lt;/facet&gt;\n</code></pre>\n"}], "owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3139, "favorite_count": 3, "answer_count": 1, "score": 12, "last_activity_date": 1529335697, "creation_date": 1504613210, "question_id": 46054600, "link": "https://stackoverflow.com/questions/46054600/android-studio-kotlin-compiler-warning", "title": "Android Studio Kotlin Compiler warning", "body": "<p>I found warning in Kotlin Compiler settings</p>\n\n<blockquote>\n  <p>Following modules override project settings: <strong>app</strong></p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/sE2pT.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sE2pT.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Project compiles and works perfect but can this warning make affect in future? And how to solve this.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "notifications", "kotlin", "android-notifications", "notification-action"], "comments": [{"owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "edited": false, "score": 0, "creation_date": 1504610097, "post_id": 46053566, "comment_id": 79066425, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/16195800/how-to-add-button-to-notifications-in-android\">How to add button to notifications in android?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 321, "user_id": 5901898, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nLAT4eQ8R-4/AAAAAAAAAAI/AAAAAAAAAFk/p64a9OlivxQ/photo.jpg?sz=128", "display_name": "umesh vashisth", "link": "https://stackoverflow.com/users/5901898/umesh-vashisth"}, "is_accepted": false, "score": 1, "last_activity_date": 1504610331, "creation_date": 1504610331, "answer_id": 46053679, "question_id": 46053566, "link": "https://stackoverflow.com/questions/46053566/trigger-function-on-notification-action-click/46053679#46053679", "title": "Trigger function on notification action click", "body": "<p>you need to take look about pending intent</p>\n\n<pre><code> public void createNotification(View view) {\n    // Prepare intent which is triggered if the\n    // notification is selected\n    Intent intent = new Intent(this, NotificationReceive.class);\n    PendingIntent pIntent = PendingIntent.getActivity(this, (int) System.currentTimeMillis(), intent, 0);\n\n    // Build notification\n    Notification noti = new Notification.Builder(this)\n            .setContentTitle(\"New mail from \" + \"test@gmail.com\")\n            .setContentText(\"Subject\").setSmallIcon(R.drawable.icon)\n            .setContentIntent(pIntent)\n            .addAction(R.drawable.icon, \"Call\", pIntent)\n            .addAction(R.drawable.icon, \"More\", pIntent)\n            .addAction(R.drawable.icon, \"And more\", pIntent).build();\n    NotificationManager notificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);\n    // hide the notification after its selected\n    noti.flags |= Notification.FLAG_AUTO_CANCEL;\n\n    notificationManager.notify(0, noti);\n\n}\n</code></pre>\n"}], "owner": {"reputation": 83, "user_id": 7284546, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ba338bddb91ff45bb1156c82ac9c1156?s=128&d=identicon&r=PG&f=1", "display_name": "ItsT-Mo", "link": "https://stackoverflow.com/users/7284546/itst-mo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1431, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504610331, "creation_date": 1504610000, "question_id": 46053566, "link": "https://stackoverflow.com/questions/46053566/trigger-function-on-notification-action-click", "title": "Trigger function on notification action click", "body": "<p>I am writing an app in Kotlin that should display a notification with an action button.</p>\n\n<p>I have a class. Let's call it <code>NotificationClass</code></p>\n\n<p>This class creates notifications for me via <code>fun createNotification()</code></p>\n\n<p>This all works fine. But I want to add a button to the notification that, when clicked, triggers a function in my <code>NotificationClass</code> called <code>notificationActionClicked()</code>.</p>\n\n<p>Is there a way I can do this?</p>\n\n<p>(The notification class is not an android service. It's just an utility class.)</p>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "comments": [{"owner": {"reputation": 1945, "user_id": 559536, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/62f1a9141f2bbd688f5f3678cf6ca33a?s=128&d=identicon&r=PG", "display_name": "Alex", "link": "https://stackoverflow.com/users/559536/alex"}, "edited": false, "score": 2, "creation_date": 1508778616, "post_id": 46053522, "comment_id": 80736887, "body": "You cannot use variables in that section.  This question was asked already on stackoverflow with an answer, just wanted to put the answer here in case anyone else ran across it. <a href=\"https://stackoverflow.com/a/37749402/559536\">stackoverflow.com/a/37749402/559536</a>"}, {"owner": {"reputation": 608, "user_id": 3557894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0fce701868d215a9e854f25a6fc0b1a?s=128&d=identicon&r=PG&f=1", "display_name": "nimelorm", "link": "https://stackoverflow.com/users/3557894/nimelorm"}, "edited": false, "score": 0, "creation_date": 1543844982, "post_id": 46053522, "comment_id": 94052715, "body": "<a href=\"https://stackoverflow.com/a/53594357/3557894\">stackoverflow.com/a/53594357/3557894</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1469, "user_id": 6723250, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/84a0e8aa370e949feeaa7c5c153a3be9?s=128&d=identicon&r=PG", "display_name": "Xerus", "link": "https://stackoverflow.com/users/6723250/xerus"}, "edited": false, "score": 0, "creation_date": 1516736809, "post_id": 47507441, "comment_id": 83808796, "body": "looks great, but returns <code>null</code> for me :/"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 1469, "user_id": 6723250, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/84a0e8aa370e949feeaa7c5c153a3be9?s=128&d=identicon&r=PG", "display_name": "Xerus", "link": "https://stackoverflow.com/users/6723250/xerus"}, "edited": false, "score": 0, "creation_date": 1516737202, "post_id": 47507441, "comment_id": 83809040, "body": "@Xerus what version are you using?"}, {"owner": {"reputation": 1469, "user_id": 6723250, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/84a0e8aa370e949feeaa7c5c153a3be9?s=128&d=identicon&r=PG", "display_name": "Xerus", "link": "https://stackoverflow.com/users/6723250/xerus"}, "edited": false, "score": 1, "creation_date": 1516738481, "post_id": 47507441, "comment_id": 83809722, "body": "1.2.20, the most recent version. The moduleName now seems to be <code>org.jetbrains.kotlin.jvm.gradle.plugin</code> - when I use that it works again"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 4, "last_activity_date": 1565361002, "last_edit_date": 1565361002, "creation_date": 1511774470, "answer_id": 47507441, "question_id": 46053522, "link": "https://stackoverflow.com/questions/46053522/how-to-get-ext-variables-into-plugins-block-in-build-gradle-kts/47507441#47507441", "title": "How to get ext.* variables into plugins block in build.gradle.kts", "body": "<p>You can define a version inside <code>plugins</code> and then make this version accessible outside of the block, e.g. in the <code>dependencies</code> section.</p>\n\n<pre><code>plugins {\n    kotlin(\"jvm\").version(\"1.1.61\")\n}\n\n//This is necessary to make the version accessible in other places\nval kotlinVersion: String? by extra {\n    buildscript.configurations[\"classpath\"]\n            .resolvedConfiguration.firstLevelModuleDependencies\n            .find { it.moduleName == \"kotlin-gradle-plugin\" }?.moduleVersion\n}\n\ndependencies {\n    compile(kotlin(\"stdlib\", kotlinVersion))\n}\n</code></pre>\n\n<p>for version 1.2+, you will have to replace with <code>kotlin-gradle-plugin</code> <code>org.jetbrains.kotlin.jvm.gradle.plugin</code></p>\n"}, {"comments": [{"owner": {"reputation": 341, "user_id": 2120553, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j05qa.png?s=128&g=1", "display_name": "Pierre-Yves Saumont", "link": "https://stackoverflow.com/users/2120553/pierre-yves-saumont"}, "edited": false, "score": 1, "creation_date": 1537087190, "post_id": 51728228, "comment_id": 91649818, "body": "This works causes a Gradle error: Script compilation error:    Line 10:     val kotlinVersion:String by extra { Defs.kotlinVersion }                                                    ^ Unresolved reference: Defs  1 error"}], "tags": [], "owner": {"reputation": 133, "user_id": 1113090, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6fcf4a90aa21f887bf3988d3716eccb1?s=128&d=identicon&r=PG", "display_name": "aimozg", "link": "https://stackoverflow.com/users/1113090/aimozg"}, "is_accepted": false, "score": -4, "last_activity_date": 1533650101, "last_edit_date": 1533650101, "creation_date": 1533649170, "answer_id": 51728228, "question_id": 46053522, "link": "https://stackoverflow.com/questions/46053522/how-to-get-ext-variables-into-plugins-block-in-build-gradle-kts/51728228#51728228", "title": "How to get ext.* variables into plugins block in build.gradle.kts", "body": "<p><strong>UPD</strong> Doesn't work, sorry for confusion.</p>\n\n<p>Original answer:</p>\n\n<p>--</p>\n\n<p>Another workaround is to use <code>const val</code> compile-time constants:</p>\n\n<pre><code>object Defs {\n    const val kotlinVersion = \"1.2.60\"\n}\n\nbuildscript {\n    val kotlinVersion:String by extra { Defs.kotlinVersion }\n}\n\nplugins {\n    kotlin(\"jvm\") version Defs.kotlinVersion\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13958, "user_id": 689723, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/rQNO2.jpg?s=128&g=1", "display_name": "cesards", "link": "https://stackoverflow.com/users/689723/cesards"}, "is_accepted": false, "score": 0, "last_activity_date": 1587404831, "creation_date": 1587404831, "answer_id": 61328756, "question_id": 46053522, "link": "https://stackoverflow.com/questions/46053522/how-to-get-ext-variables-into-plugins-block-in-build-gradle-kts/61328756#61328756", "title": "How to get ext.* variables into plugins block in build.gradle.kts", "body": "<p>I've been doing some tests around defining properties inside and outside the project buildscript block and it doesn't seem to work. The working and recommended solution if you want to have access to dependency-related properties is defining a buildSrc module (<a href=\"https://github.com/gradle/kotlin-dsl-samples/tree/master/samples/project-with-buildSrc\" rel=\"nofollow noreferrer\">check this github repo</a>) and then adding a Kotlin File/Class with the desired properties (versions, strings...). Something like:</p>\n\n<pre><code>object Dependency {\n\n    object Foundation {\n\n        const val KOTLIN = \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:${Version.Global.KOTLIN}\"\n        const val RANDOM_VERSION = \"1.2.3\"\n    }\n</code></pre>\n\n<p>You could have access to anything declared in your buildSrc module because components declared in there are resolved during the Initialization phase if I'm not mistaken. Usage example as it follows:</p>\n\n<pre><code>plugins {\n    val kotlin = Dependency.Foundation.KOTLIN\n    kotlin(\"kapt\").version(Dependency.Foundation.RANDOM_VERSION)\n}\n</code></pre>\n\n<p>More info <a href=\"https://docs.gradle.org/current/userguide/organizing_gradle_projects.html#sec:build_sources\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 7765, "user_id": 493807, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/47fb9ba12c5fd55050e07720feb932d6?s=128&d=identicon&r=PG", "display_name": "Andy", "link": "https://stackoverflow.com/users/493807/andy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5120, "favorite_count": 1, "answer_count": 3, "score": 19, "last_activity_date": 1587404831, "creation_date": 1504609860, "last_edit_date": 1504617291, "question_id": 46053522, "link": "https://stackoverflow.com/questions/46053522/how-to-get-ext-variables-into-plugins-block-in-build-gradle-kts", "title": "How to get ext.* variables into plugins block in build.gradle.kts", "body": "<p>My build file looks like this:</p>\n\n<pre><code>val nexusBaseUri: String by extra\nval gradle_version: String by extra\nval kotlin_version: String by extra\n\nbuildscript {\n    val nexusBaseUri by extra { \"https://mynexusserver/nexus\" }\n    val gradle_version by extra { \"4.1\" }\n    val kotlin_version by extra { \"1.1.4-3\" }\n    val springBoot_version by extra { \"2.0.0.M3\" }\n\n    repositories {\n        maven { url = uri(\"$nexusBaseUri/repository/public\") }\n        jcenter()\n        maven { url = uri(\"http://repo.spring.io/snapshot\") }\n        maven { url = uri(\"http://repo.spring.io/milestone\") }\n    }\n    dependencies {\n        classpath(\"org.springframework.boot:spring-boot-gradle-plugin:$springBoot_version\")\n        classpath(\"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\")\n        classpath(\"org.jetbrains.kotlin:kotlin-allopen:$kotlin_version\")\n    }\n}\n\nplugins {\n    application\n    // vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\n    // the following line causes a problem\n    // vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv\n    kotlin(\"jvm\", kotlin_version)\n}\n\napply {\n    plugin(\"kotlin-spring\")\n    plugin(\"org.springframework.boot\")\n    plugin(\"io.spring.dependency-management\")\n}\n\napplication {\n    mainClassName = \"eqip.fid.FdmlInterpreterDeveloperAppKt\"\n}\n\nrepositories {\n    maven { url = uri(\"$nexusBaseUri/content/groups/public\") }\n    jcenter()\n    maven { url = uri(\"http://repo.spring.io/snapshot\") }\n    maven { url = uri(\"http://repo.spring.io/milestone\") }\n}\n\ndependencies {\n    compile(kotlin(\"stdlib\"))\n    compile(\"org.springframework.boot:spring-boot-starter-web\")\n}\n\ntasks {\n    \"wrapper\"(Wrapper::class) {\n        gradleVersion = gradle_version\n    }\n}\n</code></pre>\n\n<p>The error I get in IntelliJ IDEA is</p>\n\n<blockquote>\n  <p>'val kotlin_version: String' can't be called in this context by implicit receiver. Use the explicit one if necessary</p>\n</blockquote>\n\n<p>How do I fix this?</p>\n"}, {"tags": ["intellij-idea", "junit", "kotlin"], "comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1504609820, "post_id": 46053299, "comment_id": 79066274, "body": "I&#39;m trying to reproduce this, but cannot, I only get one execution of the test method, could you include a full code sample"}, {"owner": {"reputation": 2169, "user_id": 4564505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qRYlQ.jpg?s=128&g=1", "display_name": "pavlos163", "link": "https://stackoverflow.com/users/4564505/pavlos163"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1504613562, "post_id": 46053299, "comment_id": 79068716, "body": "I corrected my question"}], "answers": [{"comments": [{"owner": {"reputation": 2169, "user_id": 4564505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qRYlQ.jpg?s=128&g=1", "display_name": "pavlos163", "link": "https://stackoverflow.com/users/4564505/pavlos163"}, "edited": false, "score": 0, "creation_date": 1504613212, "post_id": 46053449, "comment_id": 79068496, "body": "I don&#39;t mind having two runs of the same test if their implementation is different."}, {"owner": {"reputation": 2169, "user_id": 4564505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qRYlQ.jpg?s=128&g=1", "display_name": "pavlos163", "link": "https://stackoverflow.com/users/4564505/pavlos163"}, "edited": false, "score": 0, "creation_date": 1504613556, "post_id": 46053449, "comment_id": 79068710, "body": "I corrected my question: there was one execution for each child"}, {"owner": {"reputation": 1387, "user_id": 4547118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48c1bd41974b2165147c6b381b556e20?s=128&d=identicon&r=PG&f=1", "display_name": "pokemzok", "link": "https://stackoverflow.com/users/4547118/pokemzok"}, "reply_to_user": {"reputation": 2169, "user_id": 4564505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qRYlQ.jpg?s=128&g=1", "display_name": "pavlos163", "link": "https://stackoverflow.com/users/4564505/pavlos163"}, "edited": false, "score": 0, "creation_date": 1504614231, "post_id": 46053449, "comment_id": 79069147, "body": "This is how inheritance work. If each child inherits test from parent it will be invoked. Therefore you should think about some design change. Perhaps some abstract class with only abstract test and without actual test implementations. Perhaps testThat() could go to another class. If it is dependent on some common methods (which your  children also use) that another class should become another child."}], "tags": [], "owner": {"reputation": 1387, "user_id": 4547118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48c1bd41974b2165147c6b381b556e20?s=128&d=identicon&r=PG&f=1", "display_name": "pokemzok", "link": "https://stackoverflow.com/users/4547118/pokemzok"}, "is_accepted": false, "score": 0, "last_activity_date": 1504609632, "creation_date": 1504609632, "answer_id": 46053449, "question_id": 46053299, "link": "https://stackoverflow.com/questions/46053299/child-kotlin-test-class-runs-all-parent-tests/46053449#46053449", "title": "Child Kotlin test class runs all parent tests", "body": "<p>In my opinion your design is indeed problematic. Even if we could possibly eliminate invoking testThat() in parent, if you declare another child you'll have two runs of the same test anyway. I feel like inheritance here is very uneccessary. Why do you actually want to extend another test class?\nI sometimes do inheritance on test classes but without actual tests implementations in parent class (abstract test though is ok). </p>\n"}, {"tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": false, "score": 1, "last_activity_date": 1504614174, "creation_date": 1504614174, "answer_id": 46054905, "question_id": 46053299, "link": "https://stackoverflow.com/questions/46053299/child-kotlin-test-class-runs-all-parent-tests/46054905#46054905", "title": "Child Kotlin test class runs all parent tests", "body": "<p>I would keep your parent class for the common test utilities and setup, and move <code>testThat</code> to a separate test class.</p>\n\n<p>If you only want it to run once, if you want it in both test classes when they are ran individually then you could explicitly skip it if you define a test suite for running all your tests, and only leave it ran on the parent test.</p>\n"}], "owner": {"reputation": 2169, "user_id": 4564505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qRYlQ.jpg?s=128&g=1", "display_name": "pavlos163", "link": "https://stackoverflow.com/users/4564505/pavlos163"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1504614174, "creation_date": 1504609123, "last_edit_date": 1504613542, "question_id": 46053299, "link": "https://stackoverflow.com/questions/46053299/child-kotlin-test-class-runs-all-parent-tests", "title": "Child Kotlin test class runs all parent tests", "body": "<p>I am using Kotlin and JUnit. I have a parent test abstract class which contains some test implementations and also some abstract tests.</p>\n\n<pre><code>@Test\nabstract fun testThis()\n\n@Test\nfun testThat() {\n    assert(true)\n}\n</code></pre>\n\n<p>In my child class I have the implementation of <code>testThis()</code>. </p>\n\n<pre><code>@Test\noverride fun testThis() {\n    assert(1 == 1)\n}\n</code></pre>\n\n<p>And in another child class I have another implementation:</p>\n\n<pre><code>@Test\noverride fun testThis() {\n    assert(2 == 3)\n}\n</code></pre>\n\n<p>However, when I run all tests from IntelliJ, I can see that <code>testThat()</code> was called twice, once in each child.</p>\n\n<p>How do I stop that from happening? I want the tests to be run only once, as part of their respective classes (in this case, <code>testThat()</code> should be executed once, in the parent class). Is my design problematic?</p>\n"}, {"tags": ["android", "json", "listview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 688, "user_id": 5777510, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/YNZVK.jpg?s=128&g=1", "display_name": "Haileapp", "link": "https://stackoverflow.com/users/5777510/haileapp"}, "is_accepted": false, "score": 0, "last_activity_date": 1504778033, "creation_date": 1504778033, "answer_id": 46093316, "question_id": 46052376, "link": "https://stackoverflow.com/questions/46052376/how-to-retrieve-child-json-object-in-android-when-a-listview-is-clicked/46093316#46093316", "title": "How to Retrieve Child jSON Object in Android When a listView is clicked", "body": "<p>I have got the solution from a friend of mine.I should create a list view containing all the lists and child lists within One Activity.Maybe somebody needs the code...here it is...</p>\n\n<p>The MainListView called one.kt</p>\n\n<blockquote>\n  <p></p>\n</blockquote>\n\n<pre><code>class One : AppCompatActivity() {\n\nvar myParams : AbsListView.LayoutParams?= null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.listview)\n\n\n    val LV = findViewById(R.id.LV) as ListView\n    val whenTextEmpty = findViewById(R.id.tez) as TextView\n    val progressBar = findViewById(R.id.zProgress) as ProgressBar\n    LV.emptyView = whenTextEmpty\n    LV.emptyView = progressBar\n\n\n    val childArrayHolder = ArrayList&lt;String&gt;()\n    val mainLister = ArrayList&lt;String&gt;()\n\n    var databaseReference = FirebaseDatabase.getInstance().getReference(\"zOne\")\n\n\n    databaseReference.addChildEventListener(object : ChildEventListener{\n\n\n        override fun onCancelled(p0: DatabaseError?) {\n            TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n\n        override fun onChildMoved(p0: DataSnapshot?, p1: String?) {\n            TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n\n        override fun onChildChanged(p0: DataSnapshot?, p1: String?) {\n            TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n\n        override fun onChildAdded(p0: DataSnapshot?, p1: String?) {\n\n            val playerName: String = p0!!.getValue(String::class.java)\n            childArrayHolder.add(playerName)\n\n            LV.onItemClickListener = AdapterView.OnItemClickListener { parent, view, position, id -&gt;\n\n\n                val intent = Intent(this@One, mainDetail::class.java)\n                intent.putExtra(\"key\",childArrayHolder[position])\n                startActivity(intent)\n            }\n\n\n        }\n\n        override fun onChildRemoved(p0: DataSnapshot?) {\n            TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n\n\n    })\n\n\n\n    databaseReference.addValueEventListener( object : ValueEventListener{\n\n\n\n        override fun onDataChange(p0: DataSnapshot?) {\n\n            for(player in p0!!.children){\n\n\n                Log.i(\"zOne\",player.key)\n                mainLister.add(player.key)\n\n            }\n\n        }\n\n        override fun onCancelled(p0: DatabaseError?) {\n            TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n\n\n    })\n\n\n    val arrayAdapter = object : ArrayAdapter&lt;String&gt;(this,android.R.layout.simple_selectable_list_item,mainLister){\n\n\n        override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n\n            var view : View = super.getView(position, convertView, parent)\n            myParams = view.layoutParams as AbsListView.LayoutParams?\n            var textView = view.findViewById(android.R.id.text2) as TextView\n            textView.textSize = 20F\n            textView.setTextColor(Color.BLACK)\n            view.layoutParams = myParams\n\n            return view\n        }\n\n    }\n\n    LV.adapter = arrayAdapter\n\n\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>And here is the main detail activity...</p>\n\n<blockquote>\n  <p></p>\n</blockquote>\n\n<pre><code> class mainDetail : AppCompatActivity() {\n\n\n private var mTextView : TextView? = null\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.detailone)\n\n\n    val myButton = findViewById(R.id.butOne) as Button\n     mTextView = findViewById(R.id.myText) as TextView\n     val intent = intent\n\n\n      if(intent.hasExtra(\"key\")){\n\n          mTextView?.text = intent.getStringExtra(\"key\")\n      }\n\n\n    myButton.setOnClickListener {\n\n\n        val myIntent = Intent()\n        myIntent.action = Intent.ACTION_SEND\n        myIntent.type = \"text/plain\"               //   In java type is called as setType...\n        myIntent.putExtra(Intent.EXTRA_TEXT,mTextView?.text)\n        startActivity(myIntent)\n\n\n    }\n\n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 688, "user_id": 5777510, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/YNZVK.jpg?s=128&g=1", "display_name": "Haileapp", "link": "https://stackoverflow.com/users/5777510/haileapp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 214, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571343858, "creation_date": 1504606161, "question_id": 46052376, "link": "https://stackoverflow.com/questions/46052376/how-to-retrieve-child-json-object-in-android-when-a-listview-is-clicked", "title": "How to Retrieve Child jSON Object in Android When a listView is clicked", "body": "<p>I am working on simple Article Android App using Kotlin.I have created a ListView and a Detail View for all the Lists.I uploaded the data in Firebase database.What I need is when I click each listiew,I want to get the childView based on its position.Here is the ListView...</p>\n\n<p>>\n class One: AppCompatActivity() {</p>\n\n<pre><code> override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n     setContentView(R.layout.listview)\n\n     val LV = findViewById(R.id.LV) as ListView\n     val adapter = CustomListAdapter(this,R.layout.customlistlayout,data)\n\n      LV.adapter = adapter\n\n     LV.onItemClickListener = AdapterView.OnItemClickListener { _, _, position, _ -&gt;\n\n         when(position) {\n\n             0 -&gt; {\n\n                 val intent = Intent(this@One, detailOne::class.java)\n\n                   startActivity(intent)\n             }\n\n             1 -&gt; {\n\n               val intent = Intent(this@One ,detailOne:: class.java)\n                 startActivity(intent)\n             }\n    }\n     }\n</code></pre>\n\n<p>}\n    val data : ArrayList</p>\n\n<pre><code>        get()\n\n        {\n    var list : ArrayList&lt;CustomListLayout&gt; = ArrayList&lt;CustomListLayout&gt;()\n\n            list.add(CustomListLayout(\"You are almighty God\"))\n            list.add(CustomListLayout(\"This is It!\"))\n            list.add(CustomListLayout(\"What a Blessing!\"))\n            list.add(CustomListLayout(\"We do love..\"))\n            list.add(CustomListLayout(\"That's what a great personality says\"))\n            list.add(CustomListLayout(\"Creative life\"))\n            list.add(CustomListLayout(\"I know what you did last night\"))\n            list.add(CustomListLayout(\"Great King\"))\n\n                 return list\n            }\n        }\n</code></pre>\n\n<p>and Here is the Detail View for the list Above..</p>\n\n<p>class detailOne : AppCompatActivity() {</p>\n\n<pre><code>private var mTextView : TextView? = null\n\n\ncompanion object {\n\n    internal var alreadyCalled = false\n}\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.detailone)\n\n\n    val myButton = findViewById(R.id.butOne) as Button\n    mTextView = findViewById(R.id.myText) as TextView\n\n\n    if(! alreadyCalled) {\n\n        FirebaseDatabase.getInstance().setPersistenceEnabled(true)\n        alreadyCalled = true\n    }\n\n    FirebaseApp.initializeApp(this)\n\n     var database = FirebaseDatabase.getInstance()\n     var myRef = database.getReference(\"Player\")\n     var myText = myRef.push().key\n\n\n\n\n  myRef.addValueEventListener(object: ValueEventListener {\n\n        val TAG: String? = null\n\n        override fun onDataChange(dataSnapshot: DataSnapshot) {\n\n            for(postSnapShot in dataSnapshot.children){\n\n\n                val playerName: String = postSnapShot.getValue(String::class.java)\n                mTextView?.text = playerName\n         }\n\n     if(myText == null)\n\n            {\n\n                Log.w(TAG,\"User data is null\")\n                return\n\n            }\n\n        }\n\n        override fun onCancelled(error: DatabaseError) {\n            Log.w(TAG, \"Failed to read Value\", error.toException())\n\n\n        }\n    })\n\n\n    myButton.setOnClickListener {\n\n        val myIntent = Intent()\n        myIntent.action = Intent.ACTION_SEND\n        myIntent.type = \"text/plain\"               //   In java type is called as setType...\n        myIntent.putExtra(Intent.EXTRA_TEXT,mTextView?.text)\n        startActivity(myIntent)\n\n\n    }\n\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>and Here is the JSON File in Firebase Database..\n<a href=\"https://i.stack.imgur.com/6hfsa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6hfsa.png\" alt=\"enter image description here\"></a></p>\n\n<p>What I want right now is When the first row of the listview is clicked I wantit to open the 'Name' Child,when second row of listview  is clicked then 'One' Json Child be Opened etc.\nWhen I implement the above code,all the listview rows open the last Child of JSON which is 'Three'.</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1504603854, "post_id": 46051572, "comment_id": 79062406, "body": "I&#39;m using Kotlin version 1.1.4-3 on Android.Studio"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1504604036, "post_id": 46051572, "comment_id": 79062504, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44324821/why-do-lambda-expressions-behave-differently-for-kotlin-and-java-classes\">Why do Lambda expressions behave differently for Kotlin and Java classes?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 236, "user_id": 2562033, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/46SJk.jpg?s=128&g=1", "display_name": "Prime624", "link": "https://stackoverflow.com/users/2562033/prime624"}, "edited": false, "score": 3, "creation_date": 1548114595, "post_id": 46052917, "comment_id": 95419057, "body": "The (terrible) Android Developers Guide tells people to use SAM. Thanks for explaining why it&#39;s bad."}, {"owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "reply_to_user": {"reputation": 236, "user_id": 2562033, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/46SJk.jpg?s=128&g=1", "display_name": "Prime624", "link": "https://stackoverflow.com/users/2562033/prime624"}, "edited": false, "score": 2, "creation_date": 1548242779, "post_id": 46052917, "comment_id": 95470676, "body": "My guess this is from the days when Java was the only language, and the engineer responsible for converting docs to support kotlin didn&#39;t bother to change the code to use the kotlin way and just convert the java code to kotlin. or maybe he creates a script to convert it to automate his job :D"}], "tags": [], "owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "is_accepted": true, "score": 13, "last_activity_date": 1575874402, "last_edit_date": 1575874402, "creation_date": 1504607782, "answer_id": 46052917, "question_id": 46051572, "link": "https://stackoverflow.com/questions/46051572/redundant-sam-constructor-cant-be-remove-for-kotlin-declared-function-but-work/46052917#46052917", "title": "Redundant SAM-constructor can&#39;t be remove for Kotlin declared function, but works on Java declared function", "body": "<p>Why would you use SAM in kotlin? while it has native support for functions.</p>\n\n<p>The SAM convention is used in java8 as a workaround not having native function support.</p>\n\n<p>from <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">kotlin doc#sam-conversions</a>:</p>\n\n<blockquote>\n  <p>Note that SAM conversions only work for interfaces, not for abstract\n  classes, even if those also have just a single abstract method.</p>\n  \n  <p>Also, note that this feature works only for Java interop; since Kotlin\n  has proper function types, automatic conversion of functions into\n  implementations of Kotlin interfaces is unnecessary and therefore\n  unsupported.</p>\n</blockquote>\n\n<p>you should then declare a function directly.</p>\n\n<pre><code>fun setPositiveButton(resId: Int, listener: (DialogInterface, Int) -&gt; Unit) {\n    listener.invoke(\n            //DialogInterface, Int\n    )\n}\n</code></pre>\n\n<p>and then it can be used </p>\n\n<pre><code>setPositiveButton(1, { _, _ -&gt; doStuff() })\n</code></pre>\n\n<hr>\n\n<p>In <a href=\"https://blog.jetbrains.com/kotlin/2019/12/what-to-expect-in-kotlin-1-4-and-beyond/\" rel=\"nofollow noreferrer\">kotlin 1.4</a> you can use SAM conversions for Kotlin classes.</p>\n\n<pre><code>fun interface Listener {\n    fun listen()\n}\n\nfun addListener(listener: Listener) = a.listen()\n\nfun main() {\n    addListener {\n        println(\"Hello!\")\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 428, "user_id": 10844401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nEVuY.jpg?s=128&g=1", "display_name": "asim", "link": "https://stackoverflow.com/users/10844401/asim"}, "is_accepted": false, "score": 3, "last_activity_date": 1569239063, "creation_date": 1569239063, "answer_id": 58061733, "question_id": 46051572, "link": "https://stackoverflow.com/questions/46051572/redundant-sam-constructor-cant-be-remove-for-kotlin-declared-function-but-work/58061733#58061733", "title": "Redundant SAM-constructor can&#39;t be remove for Kotlin declared function, but works on Java declared function", "body": "<p>Extending @humazed answer as compiler complains that </p>\n\n<blockquote>\n  <p>lambda argument should be moved out of parenthesis</p>\n</blockquote>\n\n<pre><code>setPositiveButton(\"ok\"){_,_ -&gt; doSomething()}\n</code></pre>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8557, "favorite_count": 2, "accepted_answer_id": 46052917, "answer_count": 2, "score": 9, "last_activity_date": 1575874402, "creation_date": 1504603799, "question_id": 46051572, "link": "https://stackoverflow.com/questions/46051572/redundant-sam-constructor-cant-be-remove-for-kotlin-declared-function-but-work", "title": "Redundant SAM-constructor can&#39;t be remove for Kotlin declared function, but works on Java declared function", "body": "<p>I have a Java Class function as below</p>\n\n<pre><code>public void setPositiveButton(int resId, DialogInterface.OnClickListener listener) \n</code></pre>\n\n<p>I also have the same Kotlin Class function as below</p>\n\n<pre><code>fun setPositiveButton(resId: Int, listener: DialogInterface.OnClickListener)\n</code></pre>\n\n<p>When I call them from a Kotlin code</p>\n\n<pre><code>    javaClassObj.setPositiveButton(R.string.some_string,\n            DialogInterface.OnClickListener { _, _ -&gt; someFunc()})\n\n    kotlinClassObj.setPositiveButton(R.string.some_string,\n            DialogInterface.OnClickListener { _, _ -&gt; someFunc()})\n</code></pre>\n\n<p>The Java Class function call could be reduced, but not the Kotlin Class function</p>\n\n<pre><code>    javaClassObj.setPositiveButton(R.string.some_string,\n            { _, _ -&gt; someFunc()})\n\n    kotlinClassObj.setPositiveButton(R.string.some_string,\n            DialogInterface.OnClickListener { _, _ -&gt; someFunc()})\n</code></pre>\n\n<p>Why can't the Kotlin function call reduce the redundant SAM-Constructor as per enabled for Java?</p>\n"}, {"tags": ["android", "kotlin", "drawerlayout", "navigationview", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 1363, "user_id": 2793134, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/b2331aa16063bf275afdf4f23404a828?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Mesta", "link": "https://stackoverflow.com/users/2793134/nitin-mesta"}, "edited": false, "score": 0, "creation_date": 1504604034, "post_id": 46051335, "comment_id": 79062503, "body": "I am trying to get the click trigger on headerView items. Not the navigation menu item. Even if I register navigationView.setNavigationItemSelectedListener(this) it is not helping"}], "answers": [{"tags": [], "owner": {"reputation": 684, "user_id": 4571925, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c02bcae34ff36a22f4fd8618665e88d7?s=128&d=identicon&r=PG&f=1", "display_name": "saurabh dixit", "link": "https://stackoverflow.com/users/4571925/saurabh-dixit"}, "is_accepted": false, "score": 0, "last_activity_date": 1504604001, "last_edit_date": 1504604001, "creation_date": 1504603648, "answer_id": 46051529, "question_id": 46051335, "link": "https://stackoverflow.com/questions/46051335/android-navigationview-headerlayouts-view-elements-are-not-triggering-click-eve/46051529#46051529", "title": "Android NavigationView Headerlayout&#39;s view elements are not triggering click events", "body": "<p>Try like this way</p>\n\n<pre><code> NavigationView navigationView = (NavigationView) findViewById(R.id.nav_view);\n\n    View view = navigationView.getHeaderView(0);\n\n\n   TextView account_name = (TextView) view.findViewById(R.id.account_name);\n\n    account_name.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Toast.makeText(HomeActivity.this,\"Clicked\",Toast.LENGTH_LONG).show();\n        }\n    });\n</code></pre>\n"}], "owner": {"reputation": 1363, "user_id": 2793134, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/b2331aa16063bf275afdf4f23404a828?s=128&d=identicon&r=PG&f=1", "display_name": "Nitin Mesta", "link": "https://stackoverflow.com/users/2793134/nitin-mesta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 620, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504604001, "creation_date": 1504603070, "question_id": 46051335, "link": "https://stackoverflow.com/questions/46051335/android-navigationview-headerlayouts-view-elements-are-not-triggering-click-eve", "title": "Android NavigationView Headerlayout&#39;s view elements are not triggering click events", "body": "<p>I am trying to create Navigation view like gmail. In the header layout I have one image view and two textView. I have registered the click events for the TextView. But when I click the onClick methods the listener are not triggering (Code is in Kotlin)</p>\n\n<p>navigation_view is the id of my NavigationView  </p>\n\n<pre><code>var headerView = navigation_view.getHeaderView(0)\n\nvar accountName: TextView = headerView.findViewById(R.id.account_name)\n\naccountName.setOnClickListener { Toast.makeText(this, \"Redirect to login\", Toast.LENGTH_LONG).show() } \n</code></pre>\n\n<p>the toast in never displayed when I click on the textView and drawerLayout closes.</p>\n"}, {"tags": ["android", "kotlin", "observable", "android-livedata"], "comments": [{"owner": {"reputation": 21213, "user_id": 2826147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/gbeN1.jpg?s=128&g=1", "display_name": "Amit Vaghela", "link": "https://stackoverflow.com/users/2826147/amit-vaghela"}, "edited": false, "score": 0, "creation_date": 1504599459, "post_id": 46049731, "comment_id": 79059670, "body": "<a href=\"https://stackoverflow.com/questions/7858398/best-practice-to-update-ui-from-broadcastreceiver-for-receive-new-sms\" title=\"best practice to update ui from broadcastreceiver for receive new sms\">stackoverflow.com/questions/7858398/&hellip;</a>"}, {"owner": {"reputation": 315, "user_id": 1177244, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/801ac0148996bb31c971daeea92d9f6c?s=128&d=identicon&r=PG", "display_name": "Asitaka", "link": "https://stackoverflow.com/users/1177244/asitaka"}, "reply_to_user": {"reputation": 21213, "user_id": 2826147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/gbeN1.jpg?s=128&g=1", "display_name": "Amit Vaghela", "link": "https://stackoverflow.com/users/2826147/amit-vaghela"}, "edited": false, "score": 0, "creation_date": 1504608166, "post_id": 46049731, "comment_id": 79065229, "body": "The answer to that question uses an intent or a broadcast receiver. I don&#39;t need to start my application when the alarm fires or when the sms receives, I just need the UI to sync with the database IF it is open. If I can&#39;t figure out the livedata and observables, I&#39;m strongly considering using a listener on sharedprefs in my UI."}, {"owner": {"reputation": 21213, "user_id": 2826147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/gbeN1.jpg?s=128&g=1", "display_name": "Amit Vaghela", "link": "https://stackoverflow.com/users/2826147/amit-vaghela"}, "edited": false, "score": 0, "creation_date": 1504609725, "post_id": 46049731, "comment_id": 79066211, "body": "can you please show code ? what have you tried ?"}, {"owner": {"reputation": 315, "user_id": 1177244, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/801ac0148996bb31c971daeea92d9f6c?s=128&d=identicon&r=PG", "display_name": "Asitaka", "link": "https://stackoverflow.com/users/1177244/asitaka"}, "reply_to_user": {"reputation": 21213, "user_id": 2826147, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/gbeN1.jpg?s=128&g=1", "display_name": "Amit Vaghela", "link": "https://stackoverflow.com/users/2826147/amit-vaghela"}, "edited": false, "score": 0, "creation_date": 1504642877, "post_id": 46049731, "comment_id": 79086276, "body": "I haven&#39;t finished implementing this all the way yet, but, for starters, I changed my activity to a LifeCycleOwner, and created a MutableLiveData singleton. In my main activity, I put an observer on the MutableLiveData, and then when the alarm updates, it can data.post(&quot;value&quot;) which will replicate to the UI. In my case, this is fine for live updates from the alarm/receiver, but I also need to do something similar from sqlite, which I will work on a bit later, then post the code."}], "answers": [{"tags": [], "owner": {"reputation": 315, "user_id": 1177244, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/801ac0148996bb31c971daeea92d9f6c?s=128&d=identicon&r=PG", "display_name": "Asitaka", "link": "https://stackoverflow.com/users/1177244/asitaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1505444350, "creation_date": 1505444350, "answer_id": 46231020, "question_id": 46049731, "link": "https://stackoverflow.com/questions/46049731/how-can-i-use-a-view-model-with-sqlite-and-a-broadcast-receiver-to-update-the-u/46231020#46231020", "title": "How can I use a view model, with sqlite and a broadcast receiver to update the UI?", "body": "<p><strong>This answer is not complete yet:</strong></p>\n\n<p>In order to do what I wanted, I have so far implemented a shared prefs listener and use that to relay data between the broadcast receivers and the UI. I also implemented an observable object with the new libraries, but I needed to run the app on an older device, so the observable didn't work.</p>\n\n<pre><code>private val listener = SharedPreferences.OnSharedPreferenceChangeListener { prefs, key -&gt;\n    val value = prefs.getString(key, \"\")\n    when(key) {\n        \"sms\" -&gt; smsStatus.text = value\n    }\n} \noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_smschecker)\n    //setSupportActionBar(toolbar)\n    getSharedPreferences(\"SMS_CHECKER\", MODE_PRIVATE).registerOnSharedPreferenceChangeListener(listener)\n}\n</code></pre>\n\n<p>then in the broadcast receiver:</p>\n\n<pre><code>val editor = context.getSharedPreferences(\"SMS_CHECKER\", Context.MODE_PRIVATE).edit()\n    editor.putString(\"sms\", DateFormat.getDateTimeInstance().format(Date()))\n    editor.apply()\n</code></pre>\n\n<p>Still working on the sqlite monitoring.</p>\n"}], "owner": {"reputation": 315, "user_id": 1177244, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/801ac0148996bb31c971daeea92d9f6c?s=128&d=identicon&r=PG", "display_name": "Asitaka", "link": "https://stackoverflow.com/users/1177244/asitaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 578, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1505444350, "creation_date": 1504598071, "question_id": 46049731, "link": "https://stackoverflow.com/questions/46049731/how-can-i-use-a-view-model-with-sqlite-and-a-broadcast-receiver-to-update-the-u", "title": "How can I use a view model, with sqlite and a broadcast receiver to update the UI?", "body": "<p>I have an application that is used for testing connectivity, it has a 20min alarm, and must contact a server with a unique code, and the server sends an sms with the same code to confirm.\nI have all the components working, but I don't know how to get the unique code to automatically update in the UI.\nThe alarm writes each request into an sqlite DB, and I would like that to automatically update the UI using an observable.</p>\n\n<p>My project is in Kotlin if that makes any difference.</p>\n\n<p>Basically, I'm just not figuring out how to \"observe\" the sql database for changes or how to have the broadcast receiver and the activity use the same observable</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1504597345, "post_id": 46049241, "comment_id": 79058389, "body": "I guess <code>list.average()</code> is not the thing you wanted to hear. What are your thoughts on this?"}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1504597461, "post_id": 46049241, "comment_id": 79058448, "body": "That&#39;s not a moving average."}], "answers": [{"comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1504658817, "post_id": 46050178, "comment_id": 79091114, "body": "<code>Sequence.windowed</code> is lazy both with and without immediate transform."}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1504663325, "post_id": 46050178, "comment_id": 79092102, "body": "@Ilya nice one!"}], "tags": [], "owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "is_accepted": true, "score": 13, "last_activity_date": 1504609739, "last_edit_date": 1504609739, "creation_date": 1504599612, "answer_id": 46050178, "question_id": 46049241, "link": "https://stackoverflow.com/questions/46049241/whats-the-fastest-simplest-way-to-calculate-a-moving-average-in-kotlin/46050178#46050178", "title": "What&#39;s the fastest/simplest way to calculate a moving Average in Kotlin?", "body": "<p>Kotlin 1.2 will introduce a <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/stdlib/window-sliding.md\" rel=\"noreferrer\">sliding window</a> which you can combine with <code>average</code> obviously. </p>\n\n<pre><code>val data = listOf(1,2,5,6,2,7,8,5,9)\n// 3 \"period\" moving average\nval movingAverage = data.windowed(3,1,List&lt;Int&gt;::average)\n// OR\nval movingAverage = data.windowed(3,1) { it.average() }\n</code></pre>\n\n<p>Until then you would have to introduce your own sliding sequence. </p>\n\n<pre><code>class SlidingSequence&lt;out T&gt;(val source: Iterable&lt;T&gt;,\n                                      val slideSize: Int,\n                                      val slideStep: Int) : Sequence&lt;List&lt;T&gt;&gt; {\n    override fun iterator(): Iterator&lt;List&lt;T&gt;&gt; = object : AbstractIterator&lt;List&lt;T&gt;&gt;() {\n        private val iterator = if (slideSize &gt; 0) source.iterator() else emptyList&lt;T&gt;().iterator()\n        private var buffer = listOf&lt;T&gt;()\n\n        override fun computeNext() = when {\n            iterator.hasNext() -&gt; {\n                buffer = buffer.drop(slideStep).let {\n                    it + iterator.asSequence().take(slideSize - it.size)\n                }\n                setNext(buffer)\n            }\n            else -&gt; done()\n        }\n    }\n}\n\nfun &lt;T&gt; Iterable&lt;T&gt;.windowed(size: Int,\n                          step: Int = 1): Sequence&lt;List&lt;T&gt;&gt; {\n    return SlidingSequence(this, size, step)\n}\n\n// and then you can do\nval data = listOf(1,2,5,6,2,7,8,5,9)\n// 3 \"period\" moving average\nval movingAverage = data.windowed(3).map(List&lt;Int&gt;::average)\n</code></pre>\n\n<p>PS. I haven't looked at the code of Kotlin 1.2 <code>windowed</code> implementation, but since the function takes an immediate transform, I'm guessing the result is not lazy, where in the self implemented case above it's a lazy result, so you need to actually enumerate the sequence with something like <code>.toList()</code> to get the actual values.</p>\n"}, {"tags": [], "owner": {"reputation": 682, "user_id": 2113106, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/226f9ead3d9746aa7c9df64268be1f47?s=128&d=identicon&r=PG&f=1", "display_name": "Thijs", "link": "https://stackoverflow.com/users/2113106/thijs"}, "is_accepted": false, "score": 0, "last_activity_date": 1609981393, "creation_date": 1609981393, "answer_id": 65605317, "question_id": 46049241, "link": "https://stackoverflow.com/questions/46049241/whats-the-fastest-simplest-way-to-calculate-a-moving-average-in-kotlin/65605317#65605317", "title": "What&#39;s the fastest/simplest way to calculate a moving Average in Kotlin?", "body": "<p>Another one-line given <code>period &gt; 0</code> is:</p>\n<p><code>data?.takeLast(period)?.reduce { v, d -&gt;  v + d}?: 0 / period</code></p>\n<p>This also works if the data is empty or null due to <code>takeLast()</code> `s behaviour.</p>\n"}], "owner": {"reputation": 2629, "user_id": 888245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0ed9650320327eec016fe8288fd9ff2?s=128&d=identicon&r=PG", "display_name": "OriolJ", "link": "https://stackoverflow.com/users/888245/oriolj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1823, "favorite_count": 0, "accepted_answer_id": 46050178, "answer_count": 2, "score": 8, "last_activity_date": 1609981393, "creation_date": 1504596477, "question_id": 46049241, "link": "https://stackoverflow.com/questions/46049241/whats-the-fastest-simplest-way-to-calculate-a-moving-average-in-kotlin", "title": "What&#39;s the fastest/simplest way to calculate a moving Average in Kotlin?", "body": "<p>I can think on some dirty ways to calculate a moving average on Kotlin, but I'm not sure which one is the best. I know that kotlin has a lot of interesting features to work with collections and list. What do you think is the most efficient (or  simplest) way to calculate a moving average?</p>\n"}, {"tags": ["java", "android", "apk", "kotlin", "android-studio-2.3"], "comments": [{"owner": {"reputation": 41460, "user_id": 2310289, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PO7Uz.jpg?s=128&g=1", "display_name": "Scary Wombat", "link": "https://stackoverflow.com/users/2310289/scary-wombat"}, "edited": false, "score": 0, "creation_date": 1504594237, "post_id": 46048609, "comment_id": 79056594, "body": "so, just do it."}, {"owner": {"reputation": 461, "user_id": 2826895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e1ac85bebef6dc019a101d4d7c0fee6?s=128&d=identicon&r=PG&f=1", "display_name": "Jotunacorn", "link": "https://stackoverflow.com/users/2826895/jotunacorn"}, "edited": false, "score": 0, "creation_date": 1504594286, "post_id": 46048609, "comment_id": 79056620, "body": "What&#39;s the question? Just get a new certificate with an expirydate further into the future."}, {"owner": {"reputation": 185, "user_id": 2797918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c74d5645ebfbb8c00bd808a7ccaab89d?s=128&d=identicon&r=PG&f=1", "display_name": "Sarim Ahmed", "link": "https://stackoverflow.com/users/2797918/sarim-ahmed"}, "edited": false, "score": 0, "creation_date": 1504594338, "post_id": 46048609, "comment_id": 79056644, "body": "how? I already set the validity to 100 years but getting this message"}, {"owner": {"reputation": 911, "user_id": 5036531, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/78d78d322b8bfe457f818e57e33009ef?s=128&d=identicon&r=PG&f=1", "display_name": "Bethan", "link": "https://stackoverflow.com/users/5036531/bethan"}, "edited": false, "score": 1, "creation_date": 1504594715, "post_id": 46048609, "comment_id": 79056843, "body": "Check your expiry years by giving the below command <code>keytool -list -v -keystore release-key.keystore</code>"}], "answers": [{"tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": true, "score": 1, "last_activity_date": 1504594702, "creation_date": 1504594702, "answer_id": 46048744, "question_id": 46048609, "link": "https://stackoverflow.com/questions/46048609/you-uploaded-an-apk-signed-with-a-certificate-that-expires-too-soon/46048744#46048744", "title": "You uploaded an APK signed with a certificate that expires too soon", "body": "<p>I don't really see the problem. In addition to creating a new certificate, you actually have to use it when you sign. If you use the old one it doesn't matter. And it isn't the keystore (a keystore can contain multiple certificates) that is the problem. you have to make sure you use the right alias, which is the part that actually holds the key. If you create a new alias but keep using the same old alias, it defeats the purpose.</p>\n\n<p>So create a new certificate and make sure you actually use that one to sign the APK</p>\n"}], "owner": {"reputation": 185, "user_id": 2797918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c74d5645ebfbb8c00bd808a7ccaab89d?s=128&d=identicon&r=PG&f=1", "display_name": "Sarim Ahmed", "link": "https://stackoverflow.com/users/2797918/sarim-ahmed"}, "delete_vote_count": 2, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 638, "favorite_count": 0, "closed_date": 1504595568, "accepted_answer_id": 46048744, "answer_count": 1, "score": -5, "last_activity_date": 1504595207, "creation_date": 1504594206, "question_id": 46048609, "link": "https://stackoverflow.com/questions/46048609/you-uploaded-an-apk-signed-with-a-certificate-that-expires-too-soon", "closed_reason": "Duplicate", "title": "You uploaded an APK signed with a certificate that expires too soon", "body": "<p>I generated signed apk in android studio when i upload this apk to play store i get this message: \"You uploaded an APK signed with a certificate that expires too soon. You need to sign your APK with a certificate that expires farther into the future\"</p>\n"}, {"tags": ["android", "android-activity", "kotlin", "backtrace"], "answers": [{"comments": [{"owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "reply_to_user": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "edited": false, "score": 0, "creation_date": 1504595071, "post_id": 46048348, "comment_id": 79057058, "body": "@SirajSumra are you using <code>android:launchMode</code> modifications?"}, {"owner": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "edited": false, "score": 0, "creation_date": 1504595118, "post_id": 46048348, "comment_id": 79057091, "body": "Yes android:launchmode=singleTop"}, {"owner": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "edited": false, "score": 0, "creation_date": 1504595196, "post_id": 46048348, "comment_id": 79057129, "body": "Intent.FLAG_ACTIVITY_CLEAR_TASK worked perfectly and not Intent.FLAG_ACTIVITY_CLEAR_TOP. Will it make any issues?"}, {"owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "reply_to_user": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "edited": false, "score": 1, "creation_date": 1504595483, "post_id": 46048348, "comment_id": 79057301, "body": "This in not issue, please check explanation <a href=\"https://developer.android.com/reference/android/content/Intent.html#FLAG_ACTIVITY_CLEAR_TASK\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/content/&hellip;</a>"}], "tags": [], "owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "is_accepted": true, "score": 9, "last_activity_date": 1504593111, "creation_date": 1504593111, "answer_id": 46048348, "question_id": 46048316, "link": "https://stackoverflow.com/questions/46048316/combine-flags-and-clear-back-trace-in-kotlin/46048348#46048348", "title": "Combine flags and clear back trace in kotlin", "body": "<p>Use it like this </p>\n\n<pre><code>val intent = Intent(context, MyActivity::class.java)                \nintent.flags = Intent.FLAG_ACTIVITY_CLEAR_TOP or Intent.FLAG_ACTIVITY_NEW_TASK\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 10856125, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WBnlN5-GrDQ/AAAAAAAAAAI/AAAAAAAA-fc/c5O6Xz6Zif8/photo.jpg?sz=128", "display_name": "Hally Tr\u1ea7n", "link": "https://stackoverflow.com/users/10856125/hally-tr%e1%ba%a7n"}, "is_accepted": false, "score": 0, "last_activity_date": 1568276665, "creation_date": 1568276665, "answer_id": 57902638, "question_id": 46048316, "link": "https://stackoverflow.com/questions/46048316/combine-flags-and-clear-back-trace-in-kotlin/57902638#57902638", "title": "Combine flags and clear back trace in kotlin", "body": "<pre><code>val intent = Intent(this, MyActivity::class.java)\nintent.flags = Intent.FLAG_ACTIVITY_CLEAR_TOP or Intent.FLAG_ACTIVITY_CLEAR_TASK\nstartActivity(intent)\n</code></pre>\n\n<p>add to Manifest <code>android:launchMode=\"singleTask</code></p>\n"}, {"tags": [], "owner": {"reputation": 1238, "user_id": 9981129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RnqOI.jpg?s=128&g=1", "display_name": "Abhay Pratap", "link": "https://stackoverflow.com/users/9981129/abhay-pratap"}, "is_accepted": false, "score": 0, "last_activity_date": 1572604817, "last_edit_date": 1572604817, "creation_date": 1572604284, "answer_id": 58657699, "question_id": 46048316, "link": "https://stackoverflow.com/questions/46048316/combine-flags-and-clear-back-trace-in-kotlin/58657699#58657699", "title": "Combine flags and clear back trace in kotlin", "body": "<p>use this with intent in order to clear the backtrace activities </p>\n\n<blockquote>\n  <p><strong>Java</strong></p>\n</blockquote>\n\n<pre><code>intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);\n</code></pre>\n\n<blockquote>\n  <p><strong>Kotlin</strong></p>\n</blockquote>\n\n<pre><code> var intent = Intent(this, [Your_activity]:class.java)\n        intent.flags =  Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_ACTIVITY_CLEAR_TASK\n        startActivity(intent)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 8310539, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NjcIlvklDFs/AAAAAAAAAAI/AAAAAAAAACQ/39HwNKN8RvI/photo.jpg?sz=128", "display_name": "Sarju Palukashi", "link": "https://stackoverflow.com/users/8310539/sarju-palukashi"}, "is_accepted": false, "score": 1, "last_activity_date": 1589625412, "creation_date": 1589625412, "answer_id": 61835426, "question_id": 46048316, "link": "https://stackoverflow.com/questions/46048316/combine-flags-and-clear-back-trace-in-kotlin/61835426#61835426", "title": "Combine flags and clear back trace in kotlin", "body": "<pre><code> val intent = Intent(activity!!, MainActivity::class.java)\n    startActivity(intent)\n    activity!!.finishAffinity()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 14219593, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0gBDUJwJDZk/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuclSElVOVRs2e8V5hCslc7wG8xTGAQ/photo.jpg?sz=128", "display_name": "Rahul Raj", "link": "https://stackoverflow.com/users/14219593/rahul-raj"}, "is_accepted": false, "score": 1, "last_activity_date": 1599204929, "creation_date": 1599204929, "answer_id": 63736797, "question_id": 46048316, "link": "https://stackoverflow.com/questions/46048316/combine-flags-and-clear-back-trace-in-kotlin/63736797#63736797", "title": "Combine flags and clear back trace in kotlin", "body": "<p>use this with intent in order to clear the backtrace activities</p>\n<pre><code>var intent = Intent(this, [Your_activity]:class.java)\n    intent.flags =  Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_ACTIVITY_CLEAR_TASK\n    startActivity(intent)\n</code></pre>\n"}], "owner": {"reputation": 783, "user_id": 4928762, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/66e21b4db70dc761977afc4cd4bb4042?s=128&d=identicon&r=PG&f=1", "display_name": "Siraj Sumra", "link": "https://stackoverflow.com/users/4928762/siraj-sumra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3838, "favorite_count": 0, "accepted_answer_id": 46048348, "answer_count": 5, "score": 2, "last_activity_date": 1599204929, "creation_date": 1504592958, "last_edit_date": 1589681245, "question_id": 46048316, "link": "https://stackoverflow.com/questions/46048316/combine-flags-and-clear-back-trace-in-kotlin", "title": "Combine flags and clear back trace in kotlin", "body": "<p>I am using Kotlin to develop an android application. In Android, we were using addFlags and setFlags to set flags and clear the backtrace activities separated by \"|\". How to achieve it in Kotlin? I am currently using below code in Kotlin:</p>\n\n<pre><code>startActivity(Intent(context, MyActivity::class.java)\n            .setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP or Intent.FLAG_ACTIVITY_NEW_TASK))\n</code></pre>\n\n<p>But it is not Working. I have also tried addFlags, It is also not working. What should be done in this scenario?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "reply_to_user": {"reputation": 1025, "user_id": 2117581, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/12a3f80cf27cdbdd6bb38e5088ada257?s=128&d=identicon&r=PG", "display_name": "pleasedesktop", "link": "https://stackoverflow.com/users/2117581/pleasedesktop"}, "edited": false, "score": 0, "creation_date": 1504691240, "post_id": 46047845, "comment_id": 79104545, "body": "@pleasedesktop They are referring to the same class but not introducing new types. I&#39;ve add example to demonstrate the situation."}], "tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": false, "score": 0, "last_activity_date": 1504691157, "last_edit_date": 1504691157, "creation_date": 1504590877, "answer_id": 46047845, "question_id": 46047368, "link": "https://stackoverflow.com/questions/46047368/why-cant-we-have-public-typealiases-from-private-expanded-types/46047845#46047845", "title": "Why can&#39;t we have public typealiases from private expanded types?", "body": "<p>The visibility of the type alias should be the same or more restricted as the corresponding type. </p>\n\n<p>When you declare <code>IMyType</code> as <code>private</code> in your file, <code>IMyType</code> is a file-private class which can be accessed only within that kotlin file. If you declare the public type alias <code>MyType1</code> for <code>IMyType</code>, then it is meaningless for <code>IMyType</code> to be private since <code>MyType1</code> can be access everywhere. So, it is forbidden.</p>\n\n<p>From <a href=\"https://kotlinlang.org/docs/reference/type-aliases.html\" rel=\"nofollow noreferrer\">Kotlin's doc</a>:</p>\n\n<blockquote>\n  <p><strong>Type aliases do not introduce new types.</strong> They are equivalent to the corresponding underlying types. When you add typealias <code>Predicate&lt;T&gt;</code> and use <code>Predicate&lt;Int&gt;</code> in your code, the Kotlin compiler always expand it to <code>(Int) -&gt; Boolean</code>.</p>\n</blockquote>\n\n<p>The main purpose of having <code>typealias</code> is to provide alternative name for existing types. In your case, both <code>IMyType</code> and <code>MyType1</code> refer to the same class. You cannot access <code>IMyType</code> through <code>MyType1</code> outside the file since <code>IMyType</code> intends to be private.</p>\n\n<p>Example to show new type is not introduced:</p>\n\n<pre><code>//Kotlin code\nfun acceptMyType1(type: MyType1) {}\n\n//Decompiled code, MyType1 is not used\npublic static final void acceptMyType1(@NotNull IMyType type) {\n    Intrinsics.checkParameterIsNotNull(type, \"type\");\n}\n</code></pre>\n\n<p><sub>Sidetracked problem: You cannot <a href=\"https://stackoverflow.com/questions/35460253/why-public-class-cant-extend-private-class\">expose a private super class</a> through a public sub class also.</sub></p>\n"}, {"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 1025, "user_id": 2117581, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/12a3f80cf27cdbdd6bb38e5088ada257?s=128&d=identicon&r=PG", "display_name": "pleasedesktop", "link": "https://stackoverflow.com/users/2117581/pleasedesktop"}, "edited": false, "score": 0, "creation_date": 1504669679, "post_id": 46047889, "comment_id": 79093511, "body": "@pleasedesktop hi, this is because I you try to expose a class through <code>typealias</code> that the client can&#39;t to see and use."}, {"owner": {"reputation": 1025, "user_id": 2117581, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/12a3f80cf27cdbdd6bb38e5088ada257?s=128&d=identicon&r=PG", "display_name": "pleasedesktop", "link": "https://stackoverflow.com/users/2117581/pleasedesktop"}, "edited": false, "score": 0, "creation_date": 1504669911, "post_id": 46047889, "comment_id": 79093569, "body": "The client will be able to see it, but they wouldn&#39;t be able to use it, which is exactly the behaviour I&#39;m after. My expanded type is generic, but I don&#39;t want to expose the generic, I want to expose non-generics, via typealiases."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 1025, "user_id": 2117581, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/12a3f80cf27cdbdd6bb38e5088ada257?s=128&d=identicon&r=PG", "display_name": "pleasedesktop", "link": "https://stackoverflow.com/users/2117581/pleasedesktop"}, "edited": false, "score": 0, "creation_date": 1504670628, "post_id": 46047889, "comment_id": 79093747, "body": "@pleasedesktop the kotlin code can&#39;t see the class except in the same file if the visibility is <a href=\"https://hyp.is/SzkBZJK4Eee-KNMAFB9biw/kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"nofollow noreferrer\">private</a>. you shouldn&#39;t cheated by your eye. however, you can see kotlin <code>private</code> classes in the same package in java code, this is because java can&#39;t use <code>private</code> keyword at the top level classes, you can try it in java and see the different. sorry, highlight the wrong location, fix it now. :)"}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 1, "last_activity_date": 1504591158, "creation_date": 1504591158, "answer_id": 46047889, "question_id": 46047368, "link": "https://stackoverflow.com/questions/46047368/why-cant-we-have-public-typealiases-from-private-expanded-types/46047889#46047889", "title": "Why can&#39;t we have public typealiases from private expanded types?", "body": "<p>By definition <a href=\"https://kotlinlang.org/docs/reference/type-aliases.html\" rel=\"nofollow noreferrer\">typealias</a> is to provide an alternative name for the existing type. So you can't promoting the visibility for the existing type by typealias.</p>\n\n<p>From the <a href=\"https://kotlinlang.org/docs/reference/grammar.html#typeAlias\" rel=\"nofollow noreferrer\">grammar</a> of the typealias, if you want to use typealias in your code, you must make sure the visibility of the typealias is lower or equals than the visibility of the existing type. for example:</p>\n\n<pre><code>internal class Bar\n\nprivate typealias PrivateFoo = Bar\n\ninternal typealias InternalFoo = Bar\n\n//v--- error\npublic typealias PublicFoo = Bar\n</code></pre>\n"}], "owner": {"reputation": 1025, "user_id": 2117581, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/12a3f80cf27cdbdd6bb38e5088ada257?s=128&d=identicon&r=PG", "display_name": "pleasedesktop", "link": "https://stackoverflow.com/users/2117581/pleasedesktop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1499, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1504691157, "creation_date": 1504588191, "last_edit_date": 1504667070, "question_id": 46047368, "link": "https://stackoverflow.com/questions/46047368/why-cant-we-have-public-typealiases-from-private-expanded-types", "title": "Why can&#39;t we have public typealiases from private expanded types?", "body": "<p>If I try this:</p>\n\n<pre><code>sealed class Attributes\n\ndata class Attributes1(\n    val prop1: String\n) : Attributes()\n\nprivate data class IMyType&lt;A&gt;(\n    val attributes: A\n) where A: Attributes\n\ntypealias MyType1 = IMyType&lt;Attributes1&gt;\n</code></pre>\n\n<p>...I get the error: <strong>'public' typealias exposes 'private' in expanded type IMyType</strong>.</p>\n\n<p>What is/are the reason(s) for preventing this?</p>\n\n<p><em>Note: Using Kotlin 1.1.4</em></p>\n\n<p><strong>Edit 1</strong></p>\n\n<p>I understand what typealiases are and I understand the implications of the restrictions in place.</p>\n\n<p>What I'm asking is why those restrictions need to be there.</p>\n\n<p>If you consider my example code... I want <code>MyType1</code> (and maybe others) to be accessible outside of this file, but I don't want the raw/generic <code>IMyType</code> to be used outside of this file.</p>\n\n<p>Is that not a legitimate use case?</p>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 1761, "user_id": 1726359, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1caf4235671739f4a0848dd39e63a343?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/1726359/chad"}, "edited": false, "score": 0, "creation_date": 1504595400, "post_id": 46048400, "comment_id": 79057244, "body": "Is there a way to do this in a task? currently sourceSets variable doesn&#39;t seem to in scope of my the task I&#39;m working on"}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "reply_to_user": {"reputation": 1761, "user_id": 1726359, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1caf4235671739f4a0848dd39e63a343?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/1726359/chad"}, "edited": false, "score": 0, "creation_date": 1504596180, "post_id": 46048400, "comment_id": 79057718, "body": "I updated you the answer to access the sourceset from a task"}, {"owner": {"reputation": 1761, "user_id": 1726359, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1caf4235671739f4a0848dd39e63a343?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/1726359/chad"}, "edited": false, "score": 0, "creation_date": 1504597953, "post_id": 46048400, "comment_id": 79058749, "body": "seems the answer is correct, but instead of <code>java.sourceSets</code>, I need to access them via the <code>the&lt;JavaPluginConvention&gt;().sourceSets</code> method instead. Please kindly revise so I could accept! Thanks."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "reply_to_user": {"reputation": 1761, "user_id": 1726359, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1caf4235671739f4a0848dd39e63a343?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/1726359/chad"}, "edited": false, "score": 0, "creation_date": 1504598319, "post_id": 46048400, "comment_id": 79058998, "body": "Why does it complain when using <code>java.sourceSets[&quot;main&quot;]...</code> because I tried the <code>hello-src-set</code> task in my project and it works fine. Your solution btw also works."}, {"owner": {"reputation": 1761, "user_id": 1726359, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1caf4235671739f4a0848dd39e63a343?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/1726359/chad"}, "edited": false, "score": 0, "creation_date": 1504598352, "post_id": 46048400, "comment_id": 79059016, "body": "seems like an IDE issue. Accepting!"}], "tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": true, "score": 2, "last_activity_date": 1504596162, "last_edit_date": 1504596162, "creation_date": 1504593325, "answer_id": 46048400, "question_id": 46047293, "link": "https://stackoverflow.com/questions/46047293/accessing-source-sets-with-kotlin-dsl-for-gradle/46048400#46048400", "title": "Accessing source sets with kotlin-dsl for gradle", "body": "<p>There is no <code>sourceSet</code> for the <code>runtimeClasspath</code>. The <code>classpath</code> is different to the <code>sourceSet</code>. But if you are interested in getting e.g. the <code>main-sourceset</code> of a project with the kotlin-dsl, here is a snippet:</p>\n\n<pre><code>java {\n    val files: Set&lt;File&gt; = sourceSets[\"main\"].java.srcDirs\n    println(files)\n}\n</code></pre>\n\n<p>Accessing the sourceSet from a task</p>\n\n<pre><code>task(\"hello-src-set\") {\n    val files: Set&lt;File&gt; = java.sourceSets[\"main\"].java.srcDirs\n    println(files)\n}\n</code></pre>\n"}], "owner": {"reputation": 1761, "user_id": 1726359, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1caf4235671739f4a0848dd39e63a343?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/1726359/chad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1030, "favorite_count": 0, "accepted_answer_id": 46048400, "answer_count": 1, "score": 1, "last_activity_date": 1512394346, "creation_date": 1504587631, "last_edit_date": 1512394346, "question_id": 46047293, "link": "https://stackoverflow.com/questions/46047293/accessing-source-sets-with-kotlin-dsl-for-gradle", "title": "Accessing source sets with kotlin-dsl for gradle", "body": "<p>How do I convert the following groovy snippet</p>\n\n<pre><code>URL[] urls = sourceSets.main.runtimeClasspath.files.collect {\n    it.toURI().toURL()\n}\n</code></pre>\n\n<p>to kotlin-dsl? Particularly the property sourceSets doesn't seem to available and fails to compile.</p>\n\n<p>How do I access the sourceSets in a task?</p>\n"}, {"tags": ["java", "eclipse", "maven", "kotlin"], "comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1504582918, "post_id": 46046034, "comment_id": 79052886, "body": "Are you using a recent version of Kotlin? Does Eclipse like it if you use PolygonKt instead of Polygon? If that&#39;s the problem, then you need to update your Eclipse config so that it&#39;s using a new version of Kotlin for its syntax checking / intelliensing."}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1504585135, "post_id": 46046034, "comment_id": 79053452, "body": "The Kotlin plugin for eclipse hasn&#39;t been updated in months. Maybe bite the bullet and convert to IntelliJ for this project."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1504593407, "post_id": 46046034, "comment_id": 79056147, "body": "Can you post the full path of your <code>Polygen</code>-class starting from your project&#39;s home directory."}, {"owner": {"reputation": 1802, "user_id": 1045902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cae064ef599158ab518d569351fcb650?s=128&d=identicon&r=PG", "display_name": "DPM", "link": "https://stackoverflow.com/users/1045902/dpm"}, "reply_to_user": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1504597986, "post_id": 46046034, "comment_id": 79058770, "body": "Thanks for the replies. I&#39;m using v1.1.1. A more recent version won&#39;t work with the plugin. @guenhter I&#39;m not sure what you mean, the class&#39; project is another maven dependency and comes from my maven local repo"}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1504598408, "post_id": 46046034, "comment_id": 79059052, "body": "Ok, so <code>Polygin</code> is available via a Jar-file. Thx"}], "answers": [{"tags": [], "owner": {"reputation": 1802, "user_id": 1045902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cae064ef599158ab518d569351fcb650?s=128&d=identicon&r=PG", "display_name": "DPM", "link": "https://stackoverflow.com/users/1045902/dpm"}, "is_accepted": true, "score": 0, "last_activity_date": 1505782442, "last_edit_date": 1505782442, "creation_date": 1504624936, "answer_id": 46058491, "question_id": 46046034, "link": "https://stackoverflow.com/questions/46046034/compilation-error-in-eclipse-in-kotlin-java-project-but-project-builds-with-m/46058491#46058491", "title": "Compilation error in Eclipse in Kotlin + Java project, but project builds with Maven", "body": "<p>Not much of a proper solution: I converted my <code>Figure</code> class to Kotlin and the problem went away, but I can do that because I have full control on my project.</p>\n\n<p>Possibly newer versions of the eclipse plugin won't generate this error or, as suggested in the comments, switching to IntelliJ IDEA is another option.</p>\n"}], "owner": {"reputation": 1802, "user_id": 1045902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cae064ef599158ab518d569351fcb650?s=128&d=identicon&r=PG", "display_name": "DPM", "link": "https://stackoverflow.com/users/1045902/dpm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 773, "favorite_count": 0, "accepted_answer_id": 46058491, "answer_count": 1, "score": 0, "last_activity_date": 1505782442, "creation_date": 1504577086, "question_id": 46046034, "link": "https://stackoverflow.com/questions/46046034/compilation-error-in-eclipse-in-kotlin-java-project-but-project-builds-with-m", "title": "Compilation error in Eclipse in Kotlin + Java project, but project builds with Maven", "body": "<p>This happens in a Java and maven project in Eclipse with a kotlin nature. </p>\n\n<p>In this part of the code:</p>\n\n<pre><code>    val faces = figure.getFaces()       \n    for (polygon in faces) {\n        //...\n</code></pre>\n\n<p>I get the error below in eclipse, where <code>faces</code>, in the second line above, is underlined in red:</p>\n\n<pre><code>Cannot access class 'Polygon'. Check your module classpath for missing or conflicting dependencies\n</code></pre>\n\n<p>The project is a mix of Java and Kotlin. The <code>figure</code> object is an instance of a Java class, while the <code>faces</code> are a set of type <code>Polygon</code> which is in a different project that is pure Kotlin (ie <code>Polygon</code> is a Kotlin type, in a separate Kotlin project).</p>\n\n<p>This Kotlin project where <code>Polygon</code> is, is indeed in the classpath as a Maven dependency, and in fact used by the Java class of which <code>figure</code> is an instance.</p>\n\n<p>I think the problem is in Eclipse, because I can build the project with maven successfully. It looks like either a bug in eclipse or a configuration issue.</p>\n\n<p>I know it's strange to have a mix of Java and Kotlin. I simply started this project in Java and then decided to convert it to Kotlin gradually. So far I haven't had many issues but I'm aware that Kotlin tools and support in eclipse are not mature yet.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 6313, "user_id": 945226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ek7RV.png?s=128&g=1", "display_name": "G. Blake Meike", "link": "https://stackoverflow.com/users/945226/g-blake-meike"}, "edited": false, "score": 0, "creation_date": 1504575373, "post_id": 46045795, "comment_id": 79051570, "body": "Thanks!  That&#39;s exactly what I was looking for."}, {"owner": {"reputation": 6313, "user_id": 945226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ek7RV.png?s=128&g=1", "display_name": "G. Blake Meike", "link": "https://stackoverflow.com/users/945226/g-blake-meike"}, "edited": false, "score": 0, "creation_date": 1504632138, "post_id": 46045795, "comment_id": 79080953, "body": "Hey @hotkey : I see that I can also do this (sorry about the formatting): <code>class CurriableFunction2&lt;in P1, in P2, out R&gt;(private val block: (P1, P2) -&gt; R) {     operator fun invoke(p1: P1, p2: P2) : R = block(p1, p2)     fun curry(p2: P2): (P1) -&gt; R = { p1: P1 -&gt; block(p1, p2) } } </code> Comments?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 6313, "user_id": 945226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ek7RV.png?s=128&g=1", "display_name": "G. Blake Meike", "link": "https://stackoverflow.com/users/945226/g-blake-meike"}, "edited": false, "score": 1, "creation_date": 1504633109, "post_id": 46045795, "comment_id": 79081442, "body": "Probably you want to make <code>CurriableFunction2</code> implement the <code>(P1, P2) -&gt; R</code> interface (this comes free, you&#39;ll just need to add <code>override</code> to <code>invoke</code>) so that it can be used where a function is expected. Apart from that, LGTM. Also, you could be interested in the currying implementation in <a href=\"https://github.com/MarioAriasC/funKTionale\" rel=\"nofollow noreferrer\">github.com/MarioAriasC/funKTionale</a>."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1504574828, "creation_date": 1504574828, "answer_id": 46045795, "question_id": 46045581, "link": "https://stackoverflow.com/questions/46045581/accessing-the-parameters-to-functional-paramters/46045795#46045795", "title": "Accessing the parameters to functional paramters?", "body": "<p>No, there's no special syntax for partial function application (providing some of the arguments), there are only <a href=\"https://kotlinlang.org/docs/reference/reflection.html#function-references\" rel=\"nofollow noreferrer\">function references</a> for <em>whole</em> signatures and lambdas to support the other use cases, including yours, if I get your idea right: </p>\n\n<pre><code>fun &lt;P1, P2, R&gt; curry2(fn: (P1, P2) -&gt; R): (P1) -&gt; ((P2) -&gt; R) {\n    return { p1: P1 -&gt; { p2: P2 -&gt; fn(p1, p2) } }\n}\n</code></pre>\n"}], "owner": {"reputation": 6313, "user_id": 945226, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/ek7RV.png?s=128&g=1", "display_name": "G. Blake Meike", "link": "https://stackoverflow.com/users/945226/g-blake-meike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 46045795, "answer_count": 1, "score": -1, "last_activity_date": 1504574828, "creation_date": 1504572858, "question_id": 46045581, "link": "https://stackoverflow.com/questions/46045581/accessing-the-parameters-to-functional-paramters", "title": "Accessing the parameters to functional paramters?", "body": "<p>Is there a way to do something like this, in Kotlin?</p>\n\n<pre><code>fun &lt;P1, P2, R&gt; curry2(fn: (p1: P1, p2: P2) -&gt; R): (P1) -&gt; R {\n    return { p: P1 -&gt; fn(p, p2) }\n}\n</code></pre>\n\n<p>I'd like to get at the parameters of the functional parameter <code>fn</code>.</p>\n"}, {"tags": ["android", "xml", "android-layout", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "edited": false, "score": 2, "creation_date": 1526296219, "post_id": 46045482, "comment_id": 87673531, "body": "Interesting. So there is no elegant way to give views the same id across layout xmls? I think having multiple similar views with the same ids and <code>findViewById()</code> not care where the id comes from is still useful. Maybe a <code>typealias</code> would be useful here."}, {"owner": {"reputation": 434, "user_id": 6636122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/929b72b785c6492766556dee632a2baf?s=128&d=identicon&r=PG&f=1", "display_name": "BertKing", "link": "https://stackoverflow.com/users/6636122/bertking"}, "edited": false, "score": 0, "creation_date": 1526474341, "post_id": 46045482, "comment_id": 87758158, "body": "Hi,guy, the same as you ... thanks for you saving my time"}, {"owner": {"reputation": 2597, "user_id": 2761055, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b558ad7e4e897ddc2880203b5d04558a?s=128&d=identicon&r=PG&f=1", "display_name": "Sreekanth", "link": "https://stackoverflow.com/users/2761055/sreekanth"}, "edited": false, "score": 0, "creation_date": 1529479611, "post_id": 46045482, "comment_id": 88882538, "body": "can someone show me how I can be explicit in the definition of foodView as explained in the answer?"}, {"owner": {"reputation": 627, "user_id": 7118110, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-TzVRIJUYrOA/AAAAAAAAAAI/AAAAAAAACqY/z1BM7b5NG6U/photo.jpg?sz=128", "display_name": "Deepak Kumar", "link": "https://stackoverflow.com/users/7118110/deepak-kumar"}, "edited": false, "score": 0, "creation_date": 1567067647, "post_id": 46045482, "comment_id": 101854868, "body": "@Les Getting this error when using ConstraintLayout and using the layout tag with id <a href=\"https://stackoverflow.com/questions/43676415/how-to-include-constraint-layout-to-another-constraint-layout-and-set-constraint\" title=\"how to include constraint layout to another constraint layout and set constraint\">stackoverflow.com/questions/43676415/&hellip;</a>"}], "tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": true, "score": 62, "last_activity_date": 1529516651, "last_edit_date": 1529516651, "creation_date": 1504571831, "answer_id": 46045482, "question_id": 46045377, "link": "https://stackoverflow.com/questions/46045377/overload-resolution-ambiguity-error-in-kotlin/46045482#46045482", "title": "Overload Resolution Ambiguity error in kotlin", "body": "<p>You are defining <code>ivFoodImage</code> in both of your layouts.  And you are importing their definitions like so...</p>\n\n<pre><code>import kotlinx.android.synthetic.main.activity_food_details.view.*\nimport kotlinx.android.synthetic.main.food_ticket.view.*\n</code></pre>\n\n<p>Consider changing the name in one of the layouts, or being explicit in the definition of <code>foodView</code>, or removing the import with <code>activity_food_details</code> if it's not being used.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>To clarify the possible solutions...</p>\n\n<ol>\n<li>\"Changing the name\" - in one of your layouts, change ivFoodImage to something else like <code>ivFoodImage_Details</code>.</li>\n<li>\"removing the unused import\" - self explanatory and a good practice.</li>\n<li>\"being explicit\" - remove the import for the one you want to be explicit with and then do what the OP is doing i.e., <code>var foodView = inflator.inflate(R.layout.food_ticket,null)</code>, explicitly loading from <code>food_ticket</code> in this case.</li>\n</ol>\n\n<p>The concept of using the same name in multiple layouts is not bad (think in terms of interfaces and injection).  But the <code>kotlinx.android.synthetic</code> is a syntactic candy to make things less verbose.  It gets in the way of the goal here.</p>\n\n<p>Here is yet another alternative.  If you are trying to have a layout implement a sort of \"Interface\", consider wrapping each layout with its own Kotlin class and have the class implement the interface instead.  This might get tedious if you have lots of such layouts, so \"pick your poison\", this is just another idea.</p>\n\n<p>Last, see @Daniel Wilson's answer.  It avoids the compiler error and makes you specify the namespace for which <code>ivFoodImage</code> you want to use.</p>\n"}, {"comments": [{"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 0, "creation_date": 1597074234, "post_id": 50328980, "comment_id": 112008079, "body": "I&#39;m so glad Kotlin saves me from having to do all this boilerplate code!"}], "tags": [], "owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "is_accepted": false, "score": 8, "last_activity_date": 1526296623, "creation_date": 1526296623, "answer_id": 50328980, "question_id": 46045377, "link": "https://stackoverflow.com/questions/46045377/overload-resolution-ambiguity-error-in-kotlin/50328980#50328980", "title": "Overload Resolution Ambiguity error in kotlin", "body": "<p><a href=\"https://stackoverflow.com/a/44061869/1866373\">Referencing this answer</a>, you can specifically import the ID you want and name it using Kotlin's <code>as</code> keyword</p>\n\n<pre><code>package XXX\n\nimport kotlinx.android.synthetic.main.num_info_inet_plus_pack.view.circle as inetViewCircle\nimport kotlinx.android.synthetic.main.num_info_pack.view as circle\n//...\nval inetView = activity.layoutInflater.inflate(R.layout.num_info_pack, parent, false)\ninetViewCircle.setBackgroundResource(background)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "is_accepted": false, "score": 0, "last_activity_date": 1554134033, "last_edit_date": 1554134033, "creation_date": 1554133613, "answer_id": 55458986, "question_id": 46045377, "link": "https://stackoverflow.com/questions/46045377/overload-resolution-ambiguity-error-in-kotlin/55458986#55458986", "title": "Overload Resolution Ambiguity error in kotlin", "body": "<p>@DanielWilson answer is correct. If you have 2 similar layouts, you don't need to rename equal fields in order to make them unique. </p>\n\n<p>But you have to import all equal fields one-by-one renaming them. So, if you haven't renamed <em>in layouts</em>, you would rename them <em>in code</em>. For instance,</p>\n\n<pre><code>import kotlinx.android.synthetic.main.row_profile_balance_refill.amount as refill_amount\nimport kotlinx.android.synthetic.main.row_profile_balance_refill.reason as refill_reason\nimport kotlinx.android.synthetic.main.row_profile_balance_withdrawal.amount as withdrawal_amount\nimport kotlinx.android.synthetic.main.row_profile_balance_withdrawal.reason as withdrawal_reason\n</code></pre>\n\n<p>I got into situation where Kotlin couldn't resolve which field corresponds to which layout.</p>\n\n<p><a href=\"https://i.stack.imgur.com/AcuYv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AcuYv.png\" alt=\"enter image description here\"></a></p>\n\n<p>Strange, but I couldn't use <code>refill_amount</code> and <code>refill_reason</code>. Then I used old Java method <code>findViewById()</code>. So, a class at the picture turns to:</p>\n\n<pre><code>class RefillViewHolder(itemView: View) : AbstractViewHolder(itemView) {\n    val amount: TextView = itemView.findViewById(R.id.amount)\n    val reason: TextView = itemView.findViewById(R.id.reason)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 5330029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32382db906c5285b084adc9ea6e93fb7?s=128&d=identicon&r=PG&f=1", "display_name": "Stefan Indaco", "link": "https://stackoverflow.com/users/5330029/stefan-indaco"}, "is_accepted": false, "score": 0, "last_activity_date": 1562319592, "creation_date": 1562319592, "answer_id": 56900469, "question_id": 46045377, "link": "https://stackoverflow.com/questions/46045377/overload-resolution-ambiguity-error-in-kotlin/56900469#56900469", "title": "Overload Resolution Ambiguity error in kotlin", "body": "<p>Building off of Les' answer above, I usually like keeping my naming conventions simple like calling a RecyclerView's id @+id/recyclerView. If I have an Activity called ExampleActivity.java with layout R.layout.activity_example, I don't want to directly import every single view in that layout, I'd rather just import all the views from the layout. So I'd just import the whole file in the activity:</p>\n\n<pre><code>import kotlinx.android.synthetic.main.activity_example.*\n</code></pre>\n\n<p>to import all the views from my activity's layout file since I usually access all of them anyways. If your layout file includes other layouts, you'll have to import those layouts separately too. So if i use a header layout included in my activity_example.xml file, i'd import that whole layout file</p>\n\n<pre><code>import kotlinx.android.synthetic.main.header_layout.*\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 359, "user_id": 3019145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/05170671f50c6da2c7d8fb59ca7bd80f?s=128&d=identicon&r=PG", "display_name": "garry", "link": "https://stackoverflow.com/users/3019145/garry"}, "is_accepted": false, "score": 0, "last_activity_date": 1565772214, "creation_date": 1565772214, "answer_id": 57491156, "question_id": 46045377, "link": "https://stackoverflow.com/questions/46045377/overload-resolution-ambiguity-error-in-kotlin/57491156#57491156", "title": "Overload Resolution Ambiguity error in kotlin", "body": "<p>This means that resource ids in java files from xml files are not properly imported, or are imported with wrong xml resource id files because of same name.</p>\n\n<p>Suppose for </p>\n\n<pre><code>----activity_login \n----activity_main \n</code></pre>\n\n<p>there is a textview with same id. </p>\n\n<p>Kotlin imports tries to search every xml file ids, and the id gets wrongly imported.</p>\n\n<p><strong>Solution</strong>:: Remove all imports after copy/paste and follow <code>alt+enter</code> one by one.</p>\n"}], "owner": {"reputation": 677, "user_id": 3491853, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/702e677117e7ff8618bee424e6f9f8be?s=128&d=identicon&r=PG&f=1", "display_name": "MB_Coder", "link": "https://stackoverflow.com/users/3491853/mb-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27237, "favorite_count": 4, "accepted_answer_id": 46045482, "answer_count": 5, "score": 42, "last_activity_date": 1565772214, "creation_date": 1504570861, "last_edit_date": 1504609109, "question_id": 46045377, "link": "https://stackoverflow.com/questions/46045377/overload-resolution-ambiguity-error-in-kotlin", "title": "Overload Resolution Ambiguity error in kotlin", "body": "<p>How do I fix this Overload  error, I have Overload Resolution Ambiguity error, I sync it in my project and clean it and rebuild it but it's  get me bellow error ,I add main activity code in kotlin with 2 layout activity\nHere is a photo of the error\n<a href=\"https://i.stack.imgur.com/HFGAV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HFGAV.png\" alt=\"Overload Resolution Ambiguity error \"></a></p>\n\n<p><strong>Here is a main activity.kt</strong></p>\n\n<pre><code>package com.hussein.startup\nimport android.content.Context\nimport android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.BaseAdapter\nimport kotlinx.android.synthetic.main.activity_food_details.view.*\nimport  kotlinx.android.synthetic.main.activity_main.*\nimport kotlinx.android.synthetic.main.food_ticket.view.*\n\n\nclass MainActivity : AppCompatActivity() {\n\nvar adapter:FoodAdapter?=null\nvar listOfFoods =ArrayList&lt;Food&gt;()\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    // load foods\n\n\n listOfFoods.add(Food(\"Coffee\",\"   Coffee preparation is\",R.drawable.a))\n   .....\n\n    gvListFood.adapter =adapter\n\n}\n\n\nclass  FoodAdapter:BaseAdapter {\n    var listOfFood= ArrayList&lt;Food&gt;()\n    var context:Context?=null\n    constructor(context:Context,listOfFood:ArrayList&lt;Food&gt;):super(){\n        this.context=context\n        this.listOfFood=listOfFood\n    }\n    override fun getView(p0: Int, p1: View?, p2: ViewGroup?): View {\n        val food = this.listOfFood[p0]\n        var inflator = context!!.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        var foodView= inflator.inflate(R.layout.food_ticket,null)\n        foodView.ivFoodImage.setImageResource(food.image!!)\n        foodView.ivFoodImage.setOnClickListener {\n\n            val intent = Intent(context,FoodDetails::class.java)\n            intent.putExtra(\"name\",food.name!!)\n            intent.putExtra(\"des\",food.des!!)\n            intent.putExtra(\"image\",food.image!!)\n            context!!.startActivity(intent)\n        }\n        foodView.tvName.text = food.name!!\n        return  foodView\n\n    }\n\n    override fun getItem(p0: Int): Any {\n        return listOfFood[p0]\n    }\n\n    override fun getItemId(p0: Int): Long {\n       return p0.toLong()\n    }\n\n    override fun getCount(): Int {\n\n        return listOfFood.size\n    }\n\n    }\n }\n</code></pre>\n\n<p><strong>Here is a layout xml</strong> </p>\n\n<p><strong>1-activity_food_details.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".FoodDetails\"&gt;\n\n&lt;ImageView\n    android:id=\"@+id/ivFoodImage\"\n    android:layout_width=\"50pt\"\n    android:layout_height=\"50pt\"\n    android:layout_marginTop=\"52dp\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    app:srcCompat=\"@drawable/c\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    android:layout_marginEnd=\"8dp\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    android:layout_marginStart=\"8dp\"\n    app:layout_constraintHorizontal_bias=\"0.501\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/tvName\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginEnd=\"8dp\"\n    android:layout_marginStart=\"8dp\"\n    android:text=\"TextView\"\n    android:textColor=\"@color/colorPrimary\"\n    android:textSize=\"24sp\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintHorizontal_bias=\"0.501\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    android:layout_marginTop=\"48dp\"\n    app:layout_constraintTop_toBottomOf=\"@+id/ivFoodImage\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/tvDetails\"\n    android:layout_width=\"0dp\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginEnd=\"8dp\"\n    android:layout_marginStart=\"8dp\"\n    android:layout_marginTop=\"56dp\"\n    android:text=\"TextView\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/tvName\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p><strong>2-food_ticket.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"63pt\"\nandroid:layout_height=\"wrap_content\"\nandroid:background=\"@color/gray\"\nandroid:orientation=\"vertical\"\nandroid:padding=\"3pt\"&gt;\n\n&lt;LinearLayout\n    android:gravity=\"center\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@drawable/background\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/ivFoodImage\"\n        android:layout_width=\"50pt\"\n        android:layout_height=\"50pt\"\n        app:srcCompat=\"@drawable/c\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tvName\"    \n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:gravity=\"center\"\n        android:text=\"Coffe\"\n        android:textSize=\"20sp\" /&gt;\n&lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt; \n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"comments": [{"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 1, "creation_date": 1504557659, "post_id": 46043372, "comment_id": 79047666, "body": "I guess you might use <code>MutableMap</code> where the Java <code>Map</code> is required. Because of Kotlin&#39;s immutability"}, {"owner": {"reputation": 644, "user_id": 4924737, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/371ccb7a2d35c3e43e45f336be416eeb?s=128&d=identicon&r=PG&f=1", "display_name": "Ludvig W", "link": "https://stackoverflow.com/users/4924737/ludvig-w"}, "edited": false, "score": 0, "creation_date": 1561390246, "post_id": 46043372, "comment_id": 100038362, "body": "How would you do it if you could not use constructor injection? See this post: <a href=\"https://stackoverflow.com/questions/56739361/dagger-multibinding-of-viewmodels-using-provides-instead-of-constructor-injectio\" title=\"dagger multibinding of viewmodels using provides instead of constructor injectio\">stackoverflow.com/questions/56739361/&hellip;</a>"}], "tags": [], "owner": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "is_accepted": true, "score": 14, "last_activity_date": 1505249038, "last_edit_date": 1505249038, "creation_date": 1504555131, "answer_id": 46043372, "question_id": 46042989, "link": "https://stackoverflow.com/questions/46042989/kotlin-dagger-inject-map-for-viewmodel-factory/46043372#46043372", "title": "Kotlin + Dagger - inject Map for ViewModel factory", "body": "<p>I modified your <code>ViewModelFactory</code> code a bit:</p>\n\n<pre><code>@ActivityScope\nclass MainActivityViewModelFactory @Inject\nconstructor(private val creators: Map&lt;Class&lt;out ViewModel&gt;, @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;) : ViewModelProvider.Factory {\n\n    override fun &lt;T : ViewModel&gt; create(modelClass: Class&lt;T&gt;): T {\n        var creator: Provider&lt;out ViewModel&gt;? = creators[modelClass]\n        if (creator == null) {\n            for ((key, value) in creators) {\n                if (modelClass.isAssignableFrom(key)) {\n                    creator = value\n                    break\n                }\n            }\n        }\n        if (creator == null) {\n            throw IllegalArgumentException(\"unknown model class \" + modelClass)\n        }\n        try {\n            return creator.get() as T\n        } catch (e: Exception) {\n            throw RuntimeException(e)\n        }\n\n    }\n}\n</code></pre>\n\n<p>Can you try with this? \nI added <code>@JvmSuppressWildcards</code> annotation. </p>\n\n<p>For more information you can check:\n<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-suppress-wildcards/index.html\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-suppress-wildcards/index.html</a></p>\n\n<p>Edit:\nYou can find a live demo from my repo: <a href=\"https://github.com/savepopulation/dc-tracker\" rel=\"noreferrer\">https://github.com/savepopulation/dc-tracker</a></p>\n"}], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2072, "favorite_count": 7, "accepted_answer_id": 46043372, "answer_count": 1, "score": 8, "last_activity_date": 1505249038, "creation_date": 1504552876, "question_id": 46042989, "link": "https://stackoverflow.com/questions/46042989/kotlin-dagger-inject-map-for-viewmodel-factory", "title": "Kotlin + Dagger - inject Map for ViewModel factory", "body": "<p>I'm using the new Architecture Components with Dagger2 and I would like to inject my ViewModels using a Factory class. The Factory class is itself injectable. This all works well when the Factory class is defined in Java, but when I convert it to Kotlin, Dagger2 does not know how to generate the Map for the constructor, while in Java it knows how to do so. I presume the difference is that, after conversion, the Factory class uses the Map from the kotlin package, as opposed to from java.util.Map package. How can I get Dagger2 to generate the map for the Factory constructor?</p>\n\n<p>Here's the Factory class</p>\n\n<pre><code>@ActivityScope\nclass MainActivityViewModelFactory @Inject\nconstructor(private val creators: Map&lt;Class&lt;out ViewModel&gt;, Provider&lt;ViewModel&gt;&gt;) : ViewModelProvider.Factory {\n\n    override fun &lt;T : ViewModel&gt; create(modelClass: Class&lt;T&gt;): T {\n        var creator: Provider&lt;out ViewModel&gt;? = creators[modelClass]\n        if (creator == null) {\n            for ((key, value) in creators) {\n                if (modelClass.isAssignableFrom(key)) {\n                    creator = value\n                    break\n                }\n            }\n        }\n        if (creator == null) {\n            throw IllegalArgumentException(\"unknown model class \" + modelClass)\n        }\n        try {\n            return creator.get() as T\n        } catch (e: Exception) {\n            throw RuntimeException(e)\n        }\n\n    }\n}\n</code></pre>\n\n<p>and this is the error</p>\n\n<pre><code>Error:java.util.Map&lt;java.lang.Class&lt;? extends android.arch.lifecycle.ViewModel&gt;,? extends javax.inject.Provider&lt;android.arch.lifecycle.ViewModel&gt;&gt; cannot be provided without an @Provides-annotated method.\n</code></pre>\n\n<p>I tried creating a module to provide the map, but that didn't help.</p>\n\n<pre><code>@ActivityScope\n@Module\nclass MapModule {\n    @Provides\n    fun provideMap(): Map&lt;Class&lt;out ViewModel&gt;, Provider&lt;ViewModel&gt;&gt; = mutableMapOf()\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1504546902, "post_id": 46041863, "comment_id": 79044072, "body": "Probably a property defined as non-nullable having null value at access time. Please post your activity code."}, {"owner": {"reputation": 404, "user_id": 6912291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oEDbE.jpg?s=128&g=1", "display_name": "Harv", "link": "https://stackoverflow.com/users/6912291/harv"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1504547716, "post_id": 46041863, "comment_id": 79044388, "body": "I&#39;ve pasted my activity. have a look"}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 1, "creation_date": 1504552747, "post_id": 46041863, "comment_id": 79046162, "body": "Post RegisterActivity. From the stack trace it&#39;s obvious that NPE occured there on line 12."}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1504636151, "post_id": 46041863, "comment_id": 79082813, "body": "@Harv did you manage to solve this?"}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "reply_to_user": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1504645581, "post_id": 46041863, "comment_id": 79087487, "body": "As @Maro\u0161\u0160eleng says, post <b>RegisterActivity</b> class"}], "owner": {"reputation": 404, "user_id": 6912291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oEDbE.jpg?s=128&g=1", "display_name": "Harv", "link": "https://stackoverflow.com/users/6912291/harv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1699, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504596915, "creation_date": 1504546476, "last_edit_date": 1504596915, "question_id": 46041863, "link": "https://stackoverflow.com/questions/46041863/unable-to-instantiate-activity-caused-by-kotlin-kotlinnullpointerexception", "title": "Unable to instantiate activity | Caused by: kotlin.KotlinNullPointerException", "body": "<p>I'm getting this error</p>\n\n<blockquote>\n  <p>FATAL EXCEPTION: main\n                                                                                    Process: com.demo.gandharv.exkotlin, PID: 7742\n                                                                                    java.lang.RuntimeException: Unable to instantiate activity ComponentInfo{com.pantelwar.gandharv.scobokotlin/com.demo.gandharv.exkotlin.RegisterActivity}: kotlin.KotlinNullPointerException\n                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3095)\n                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3351)\n                                                                                        at android.app.ActivityThread.access$1100(ActivityThread.java:222)\n                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1796)\n                                                                                        at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                                        at android.os.Looper.loop(Looper.java:158)\n                                                                                        at android.app.ActivityThread.main(ActivityThread.java:7230)\n                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\n                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\n                                                                                     Caused by: kotlin.KotlinNullPointerException\n                                                                                        at com.demo.gandharv.exkotlin.RegisterActivity.(RegisterActivity.kt:12)\n                                                                                        at java.lang.Class.newInstance(Native Method)\n                                                                                        at android.app.Instrumentation.newActivity(Instrumentation.java:1096)\n                                                                                        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3085)\n                                                                                        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3351)\u00a0\n                                                                                        at android.app.ActivityThread.access$1100(ActivityThread.java:222)\u00a0\n                                                                                        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1796)\u00a0\n                                                                                        at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                                                                                        at android.os.Looper.loop(Looper.java:158)\u00a0\n                                                                                        at android.app.ActivityThread.main(ActivityThread.java:7230)\u00a0\n                                                                                        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                                                                                        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\u00a0\n                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)\u00a0</p>\n</blockquote>\n\n<p>I have defined the <strong>RegisterActivity</strong> in my <strong>AndroidMenifest.xml</strong>.</p>\n\n<p>I have no idea why i'm getting this error.</p>\n\n<p>Here's my LoginActivity.kt</p>\n\n<pre><code>package com.demo.gandharv.exkotlin\n\nimport android.content.Intent\nimport android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport kotlinx.android.synthetic.main.activity_login.*\n\nclass LoginActivity : AppCompatActivity() {\n\nvar email: String = \"\"\nvar password: String = \"\"\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_login)\n\n    loginButton.setOnClickListener {\n        email = emailEditText.text.toString()\n        password = passwordEditText.text.toString()\n    }\n\n    registerTextView.setOnClickListener {\n        val intent = Intent(this@LoginActivity, RegisterActivity::class.java)\n        startActivity(intent)\n    }\n}\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "bitmapfactory"], "answers": [{"comments": [{"owner": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "edited": false, "score": 0, "creation_date": 1504540262, "post_id": 46040480, "comment_id": 79041463, "body": "Thank you, I just realised that log was from a previous crash whilst trying different solutions, so not the clean one, I have updated the crash log"}, {"owner": {"reputation": 5958, "user_id": 3286819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojklK.jpg?s=128&g=1", "display_name": "Xavier Rubio Jansana", "link": "https://stackoverflow.com/users/3286819/xavier-rubio-jansana"}, "reply_to_user": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "edited": false, "score": 0, "creation_date": 1504540354, "post_id": 46040480, "comment_id": 79041500, "body": "@AlexIoja-Yang I&#39;m still seeing the same crash log."}, {"owner": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "edited": false, "score": 0, "creation_date": 1504540361, "post_id": 46040480, "comment_id": 79041503, "body": "And the rebuilding doesn&#39;t do anything, I have tried to run it on a different device and it doesn&#39;t have any issues, then reconnect this one and same thing still. I imagine at some point it must have corrupted the data but it should still load a weird looking image"}, {"owner": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "edited": false, "score": 0, "creation_date": 1504540505, "post_id": 46040480, "comment_id": 79041561, "body": "java.lang.IllegalStateException: BitmapFactory.decodeStream(fis) must not be null this is the difference on the top line, instead of the BitmapFactory.decodeResource(Resources.getSystem(), R.drawable.logo). That was as an alternative if size was less then x kb, but then I realised I shouldn&#39;t just try to avoid the problem by setting an arbitrary limit."}, {"owner": {"reputation": 5958, "user_id": 3286819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojklK.jpg?s=128&g=1", "display_name": "Xavier Rubio Jansana", "link": "https://stackoverflow.com/users/3286819/xavier-rubio-jansana"}, "reply_to_user": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "edited": false, "score": 0, "creation_date": 1504540978, "post_id": 46040480, "comment_id": 79041792, "body": "Updated my answer, please take a look."}, {"owner": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "edited": false, "score": 0, "creation_date": 1504541193, "post_id": 46040480, "comment_id": 79041887, "body": "but fis is not null, fis.available() returns 8200, which I assume must be a character count. Also I have added the import statement but it&#39;s a class of a few methods, so not all is relevant to these 2 methods shown here."}, {"owner": {"reputation": 5958, "user_id": 3286819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojklK.jpg?s=128&g=1", "display_name": "Xavier Rubio Jansana", "link": "https://stackoverflow.com/users/3286819/xavier-rubio-jansana"}, "reply_to_user": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "edited": false, "score": 1, "creation_date": 1504541495, "post_id": 46040480, "comment_id": 79042017, "body": "@AlexIoja-Yang I think that what you say looks like the more plausible explanation. This, or some kind of file corruption. I tried to step into the method, but is native, so no luck there. I would try to download the file to your computer and check there."}, {"owner": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "edited": false, "score": 0, "creation_date": 1504541505, "post_id": 46040480, "comment_id": 79042028, "body": "I have printed a fit.read().toString() and it shows 137. I am not familiar with android, I hoped that would be the content of the file."}, {"owner": {"reputation": 5958, "user_id": 3286819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojklK.jpg?s=128&g=1", "display_name": "Xavier Rubio Jansana", "link": "https://stackoverflow.com/users/3286819/xavier-rubio-jansana"}, "reply_to_user": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "edited": false, "score": 0, "creation_date": 1504541714, "post_id": 46040480, "comment_id": 79042113, "body": "<code>fit.read()</code> will read first first byte of the file, and <code>.toString()</code> convert it to a printable string. 137 is the first byte of a PNG file header: <a href=\"http://libpng.org/pub/png/spec/1.2/PNG-Structure.html\" rel=\"nofollow noreferrer\">libpng.org/pub/png/spec/1.2/PNG-Structure.html</a> So, at least the beginning of the file probably is correct. Hope this helps!"}], "tags": [], "owner": {"reputation": 5958, "user_id": 3286819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ojklK.jpg?s=128&g=1", "display_name": "Xavier Rubio Jansana", "link": "https://stackoverflow.com/users/3286819/xavier-rubio-jansana"}, "is_accepted": true, "score": 1, "last_activity_date": 1504540960, "last_edit_date": 1504540960, "creation_date": 1504539965, "answer_id": 46040480, "question_id": 46040354, "link": "https://stackoverflow.com/questions/46040354/image-exists-not-null-but-i-get-an-nullpointerexception-on-it/46040480#46040480", "title": "Image exists, not null, but I get an NullPointerException on it", "body": "<p>Are you sure the crash is in the same <code>loadImage()</code> method and not on another one? In the error log it says that the crash is in <code>BitmapFactory.decodeReso\u2026ystem(), R.drawable.logo)</code>, which seems a different one.</p>\n\n<p>Also, have you tried to do a Rebuild first? I've seen many problems in AS 3.0 betas that are resolved by doing that.</p>\n\n<p>From <a href=\"https://developer.android.com/reference/android/graphics/BitmapFactory.html#decodeStream(java.io.InputStream)\" rel=\"nofollow noreferrer\">documentation</a>, even if <code>fis</code> is null it should not crash with this error, just return a <code>null</code> (emphasis is mine).</p>\n\n<blockquote>\n  <p>Decode an input stream into a bitmap. <strong>If the input stream is null, or cannot be used to decode a bitmap, the function returns null.</strong> The stream's position will be where ever it was after the encoded data was read.</p>\n</blockquote>\n\n<p>Just to discard things, can you add the <code>import</code> statement for <code>BitmapFactory</code>? Should be <code>import android.graphics.BitmapFactory</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "edited": false, "score": 0, "creation_date": 1504598252, "post_id": 46041071, "comment_id": 79058946, "body": "But that&#39;s the problem, it is not null and it passes any check I made on whether it would be null. The crash happens while decoding, although the stream is not null."}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "edited": false, "score": 0, "creation_date": 1504632101, "post_id": 46041071, "comment_id": 79080941, "body": "The crash happens after decoding, that specific exception is generated when checking the return value of a function, in this case <code>BitmapFactory.decodeStream</code>."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 2, "last_activity_date": 1504634116, "last_edit_date": 1504634116, "creation_date": 1504542438, "answer_id": 46041071, "question_id": 46040354, "link": "https://stackoverflow.com/questions/46040354/image-exists-not-null-but-i-get-an-nullpointerexception-on-it/46041071#46041071", "title": "Image exists, not null, but I get an NullPointerException on it", "body": "<p>The specific exception is thrown because <code>BitmapFactory.decodeStream(fis)</code> returns <code>null</code> while the function is specified to return a non-nullable object. Either make the return value nullable or define an appropriate replacement if it does return <code>null</code>.</p>\n\n<p>In the background Kotlin generates the following \"java\" code:</p>\n\n<pre><code>Bitmap tmp = BitmapFactory.decodeStream(fis);\nIntrinsics.checkExpressionValueIsNotNull(tmp, \"BitmapFactory.decodeStream(fis)\");\nreturn tmp;\n</code></pre>\n\n<p>The source of the exception is the <code>Intrinsics.checkExpressionValueIsNotNull</code> call.</p>\n"}], "owner": {"reputation": 976, "user_id": 6884584, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1120792461340487/picture?type=large", "display_name": "Alex Ioja-Yang", "link": "https://stackoverflow.com/users/6884584/alex-ioja-yang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1658, "favorite_count": 0, "accepted_answer_id": 46040480, "answer_count": 2, "score": 1, "last_activity_date": 1504634116, "creation_date": 1504539495, "last_edit_date": 1504542074, "question_id": 46040354, "link": "https://stackoverflow.com/questions/46040354/image-exists-not-null-but-i-get-an-nullpointerexception-on-it", "title": "Image exists, not null, but I get an NullPointerException on it", "body": "<p><strong>Short introduction</strong></p>\n\n<p>The app I am working on at the moment, takes an image from a JSON, if correct it uses it and saves it as a loading image on next use.</p>\n\n<p><strong>Problem</strong></p>\n\n<p>All of the sudden, the app started crashing on loading and on further inspection, the <code>file.isFile &amp;&amp; file.canRead()</code> check I had in place returns positive but it still crashes on <code>BitmapFactory.decodeStream</code>.\nThe byte count of the file is 8k, compared to other devices I've used, where that same image actually has 43k bytes.</p>\n\n<p>The image json is part of a much larger json message (approx 500kb) and it's not at the start or the end. The last use before this happened there was no problem loading or sign showing that download might have stopped half way. Even so, the image still has 8kb so I imagine it should just create something with the part it has rather then throwing NullPointerException</p>\n\n<p>I am using Android Studio 3.0 Beta 4 and code is in Kotlin. I must have run it on this device 100 times, and even after this occurred it runs perfectly fine on other test devices, plus the iOS app that gets the exact same json at start up</p>\n\n<p><strong>What I am looking for</strong></p>\n\n<p>Advice on how to deal with the issue, or information whether it's a known bug in Android or Kotlin. I can probably reinstall the app on the device and it will be ok again but would not want this happening once the app was released, if I can prevent it.</p>\n\n<p><strong>LaterEdit</strong>: With Xaviers suggestion, I have copied the file onto the desktop and it's definitely malformed, when it loads it actually shows some seriously malformed image of things running on the Mac. I have tried to upload it but it just displays as an empty white image. It still has 8kb, so it contains some data. <strong>How is this possible and can it be prevented?</strong></p>\n\n<p><strong>Code</strong></p>\n\n<p>Loading up the app, I check if image exists and load it into an imageView</p>\n\n<pre><code>try {\n     if (DesignSupport().imageExists(\"logo\", this)) {\n         if (DesignSupport().loadImage(\"logo\", this) != null) {\n             imageView.setImageBitmap(DesignSupport().loadImage(\"logo\", this))\n         }\n     }\n } catch (error: Error) {\n     Log.i(tag, error.stackTrace.toString())\n }\n</code></pre>\n\n<p>Check if image exists</p>\n\n<pre><code>fun imageExists(string: String, context: Context) : Boolean {\n        val path = android.os.Environment.getExternalStorageDirectory().toString() + \"/\" + context.applicationInfo.name + \"/\" + string + \".png\"\n        val file = File(path)\n        return (file.isFile &amp;&amp; file.canRead())\n    }\n</code></pre>\n\n<p>Load up the image</p>\n\n<pre><code>    fun loadImage(string: String, context: Context) : Bitmap {\n            val path = android.os.Environment.getExternalStorageDirectory().toString() + \"/\" + context.applicationInfo.name + \"/\" + string + \".png\"\n            val fis = FileInputStream(path)\n// it crashes at the next line, but when I print fis.available() it returns 8200\n            return BitmapFactory.decodeStream(fis)\n        }\n</code></pre>\n\n<p><strong>Crash Log</strong></p>\n\n<pre><code> java.lang.RuntimeException: Unable to start activity ComponentInfo{.GeneralAccessScreens.startupScreen}: java.lang.IllegalStateException: BitmapFactory.decodeStream(fis) must not be null\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2412)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2470)\nat android.app.ActivityThread.access$900(ActivityThread.java:174)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1307)\nat android.os.Handler.dispatchMessage(Handler.java:102)\nat android.os.Looper.loop(Looper.java:146)\nat android.app.ActivityThread.main(ActivityThread.java:5593)\nat java.lang.reflect.Method.invokeNative(Native Method)\nat java.lang.reflect.Method.invoke(Method.java:515)\nat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1283)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1099)\nat dalvik.system.NativeStart.main(Native Method)\nCaused by: java.lang.IllegalStateException: BitmapFactory.decodeStream(fis) must not be null\nat SupportMethods.DesignSupport.loadImage(DesignSupport.kt:45)\nat .GeneralAccessScreens.startupScreen.onCreate(startupScreen.kt:34)\nat android.app.Activity.performCreate(Activity.java:5458)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1093)\n</code></pre>\n\n<p><strong>Import statements</strong></p>\n\n<pre><code>import android.app.Activity\nimport android.content.Context\nimport android.content.res.Resources\nimport android.graphics.Bitmap\nimport android.graphics.BitmapFactory\nimport android.util.Base64\nimport android.util.Log\nimport android.view.inputmethod.InputMethodManager\nimport java.io.File\nimport java.io.FileInputStream\nimport java.io.FileOutputStream\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1504537835, "post_id": 46039675, "comment_id": 79040105, "body": "According to <a href=\"https://stackoverflow.com/a/37514605/1524450\">this answer</a> the Firebase Database SDK will serialize properties for which there is a JavaBean-style getter. <code>isActiveRequest</code> probably qualifies as such a getter, hence why its value is serialized."}], "answers": [{"comments": [{"owner": {"reputation": 2593, "user_id": 3779368, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e0edf670d28d3a83456caafa08f6fbc4?s=128&d=identicon&r=PG&f=1", "display_name": "FaisalAhmed", "link": "https://stackoverflow.com/users/3779368/faisalahmed"}, "edited": false, "score": 0, "creation_date": 1504538176, "post_id": 46039840, "comment_id": 79040318, "body": "so using @Exclude is only the way to solve this?. What is the best practice to avoid such issue"}, {"owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "reply_to_user": {"reputation": 2593, "user_id": 3779368, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e0edf670d28d3a83456caafa08f6fbc4?s=128&d=identicon&r=PG&f=1", "display_name": "FaisalAhmed", "link": "https://stackoverflow.com/users/3779368/faisalahmed"}, "edited": false, "score": 1, "creation_date": 1504538459, "post_id": 46039840, "comment_id": 79040457, "body": "@FaisalAhmed, Being that the only way, that is the best practice to solve that problem"}], "tags": [], "owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "is_accepted": true, "score": 4, "last_activity_date": 1504538686, "last_edit_date": 1504538686, "creation_date": 1504537635, "answer_id": 46039840, "question_id": 46039675, "link": "https://stackoverflow.com/questions/46039675/kotlin-funtions-return-value-is-getting-saved-in-firebase/46039840#46039840", "title": "Kotlin funtions return value is getting saved in firebase", "body": "<p>Just use <code>@Exclude</code> annotation to avoid that, otherwise Firebase SDK triggers that value to POJO object due to variable serialization.</p>\n\n<p>Try something like following:</p>\n\n<pre><code>@Exclude\nfun isActiveRequest(): Boolean = active ?: false\n</code></pre>\n"}], "owner": {"reputation": 2593, "user_id": 3779368, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e0edf670d28d3a83456caafa08f6fbc4?s=128&d=identicon&r=PG&f=1", "display_name": "FaisalAhmed", "link": "https://stackoverflow.com/users/3779368/faisalahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 126, "favorite_count": 1, "accepted_answer_id": 46039840, "answer_count": 1, "score": 1, "last_activity_date": 1504538686, "creation_date": 1504536995, "last_edit_date": 1504537997, "question_id": 46039675, "link": "https://stackoverflow.com/questions/46039675/kotlin-funtions-return-value-is-getting-saved-in-firebase", "title": "Kotlin funtions return value is getting saved in firebase", "body": "<p>I am facing weird issue I have kotlin class like below</p>\n\n<pre><code>class RequestCenterDetails : Serializable{\nvar instituteId: String? = null\nvar centerId: String? = null\nvar centerKey: String? = null\nvar instituteKey: String? = null\nvar studentId: String? = null\nvar studentUID: String? = null\nvar studentFullName: String? = null\nvar studentEmailId: String? = null\nvar status: String? = null\nvar requestTime: Long? = null\nvar grantTime: Long? = null\nvar grantUserUID: String? = null\nvar grantUserEmailID: String? = null\nvar rejectComment: String? = null\nvar grantUserName: String? = null\nvar active: Boolean? = null\n\nvar instituteName: String? = null\nvar centerAddress: String? = null\nvar centerLocation: GeoPoint? = null\n\n // this function return value is getting stored in firebase\n fun isActiveRequest() : Boolean {\n   return  active ?: false\n}\n}\n</code></pre>\n\n<p>and this is how i am saving into firebase </p>\n\n<pre><code>DatabaseReference requestRef = studentAccessRequestRef.child(\"/\" + appfirebaseUserId + \"/\" + requestDetails.getCenterKey());\n    requestRef.setValue(requestDetails);\n</code></pre>\n\n<p>and this is how its store its return type</p>\n\n<p><a href=\"https://i.stack.imgur.com/xp38R.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xp38R.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to know why it is storing function return value. #AskFirebase</p>\n"}, {"tags": ["android", "notifications", "android-emulator", "kotlin", "android-8.0-oreo"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1504535970, "post_id": 46039284, "comment_id": 79039031, "body": "you <b><i>must</i></b> use channels"}, {"owner": {"reputation": 809, "user_id": 7919219, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh5.googleusercontent.com/-C8xr-YTkr4k/AAAAAAAAAAI/AAAAAAAAAIs/ptkHBHbSR1A/photo.jpg?sz=128", "display_name": "Maneki Neko", "link": "https://stackoverflow.com/users/7919219/maneki-neko"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1504539438, "post_id": 46039284, "comment_id": 79041036, "body": "Well, correct. Either that or &quot;don&#39;t use API 26 yet&quot;. NotificationCompat does not yet support it. Uncool, Google, uncool!"}], "answers": [{"tags": [], "owner": {"reputation": 809, "user_id": 7919219, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh5.googleusercontent.com/-C8xr-YTkr4k/AAAAAAAAAAI/AAAAAAAAAIs/ptkHBHbSR1A/photo.jpg?sz=128", "display_name": "Maneki Neko", "link": "https://stackoverflow.com/users/7919219/maneki-neko"}, "is_accepted": false, "score": 0, "last_activity_date": 1504539770, "creation_date": 1504539770, "answer_id": 46040421, "question_id": 46039284, "link": "https://stackoverflow.com/questions/46039284/notifications-not-showing-on-oreo-emulator/46040421#46040421", "title": "Notifications not showing on Oreo emulator", "body": "<p>As Tim Castelijns commented above... If you are using API26, <strong>YOU MUST USE CHANNELS</strong></p>\n\n<p>Bare in mind that <strong>NotificationCompat does not handle it properly</strong> (as for the 4th of September 2017) so your options are:</p>\n\n<ul>\n<li>Use API level 25 or earlier</li>\n<li>Use channels. Note that Google deprecated the <code>Builder(context)</code> constructor on API 26. For a very good reason.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 6146, "user_id": 6204133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vG3q4.jpg?s=128&g=1", "display_name": "Dan Alboteanu", "link": "https://stackoverflow.com/users/6204133/dan-alboteanu"}, "is_accepted": true, "score": 0, "last_activity_date": 1544958091, "last_edit_date": 1544958091, "creation_date": 1508329684, "answer_id": 46810197, "question_id": 46039284, "link": "https://stackoverflow.com/questions/46039284/notifications-not-showing-on-oreo-emulator/46810197#46810197", "title": "Notifications not showing on Oreo emulator", "body": "<p>I spent an hour to realize the emulator was on \"Do Not Disturb\" and was NOT showing notifications. </p>\n\n<p>Google says: \nWhen you target Android 8.0 (API level 26), you must implement one or more notification channels to display notifications to your users. If you don't target Android 8.0 (API level 26) but your app is used on devices running Android 8.0 (API level 26), your app behaves the same as it would on devices running Android 7.1 (API level 25) or lower.</p>\n\n<p><a href=\"https://developer.android.com/guide/topics/ui/notifiers/notifications.html\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/ui/notifiers/notifications.html</a></p>\n"}], "owner": {"reputation": 809, "user_id": 7919219, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh5.googleusercontent.com/-C8xr-YTkr4k/AAAAAAAAAAI/AAAAAAAAAIs/ptkHBHbSR1A/photo.jpg?sz=128", "display_name": "Maneki Neko", "link": "https://stackoverflow.com/users/7919219/maneki-neko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3337, "favorite_count": 0, "accepted_answer_id": 46810197, "answer_count": 2, "score": 2, "last_activity_date": 1544958091, "creation_date": 1504535654, "last_edit_date": 1504536570, "question_id": 46039284, "link": "https://stackoverflow.com/questions/46039284/notifications-not-showing-on-oreo-emulator", "title": "Notifications not showing on Oreo emulator", "body": "<p>I have been trying to show a simple notification on an Oreo emulator. Strangely, I see nothing.</p>\n\n<p>Let's eliminate obvious answers: I tried to check the notifications for the app, I tried the Notifications and the NotificationCompat path. I tried with or without channels, I tried with or without groups.</p>\n\n<p>The code is elementary (yes, I use Kotlin but it's easy to understand):</p>\n\n<pre><code>class MainActivity : Activity() {\n\nvar id = 0\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    val button:View = findViewById(R.id.button)\n    button.setOnClickListener(this::onAddNotification)\n}\n\nprivate fun onAddNotification(v: View) {\n    id++\n    val builder = Notification.Builder(this).setSmallIcon(R.drawable.ic_notifications_none)\n            .setContentTitle(\"Content #$id\").setContentText(\"Content text for $id\")\n\n    val notificationManager = getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n    notificationManager.notify(id, builder.build())\n}\n}\n</code></pre>\n\n<p>Needless to say that it's code that works perfectly on pre-Oreo. On the other hand, Gmail and Maps show notifications on that emulator.\nAnything I might have forgotten?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["java", "recursion", "kotlin", "tail-recursion"], "comments": [{"owner": {"reputation": 736, "user_id": 5441932, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/4acbacc09001d66b0fd772f7d3426617?s=128&d=identicon&r=PG", "display_name": "konsolas", "link": "https://stackoverflow.com/users/5441932/konsolas"}, "edited": false, "score": 0, "creation_date": 1504535187, "post_id": 46039118, "comment_id": 79038557, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3700459/how-to-increase-the-java-stack-size\">How to increase the Java stack size?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 26154, "user_id": 5436257, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iGuaK.jpg?s=128&g=1", "display_name": "Joe Clay", "link": "https://stackoverflow.com/users/5436257/joe-clay"}, "edited": false, "score": 0, "creation_date": 1504535330, "post_id": 46039188, "comment_id": 79038645, "body": "Further info: <a href=\"https://kotlinlang.org/docs/reference/functions.html#tail-recursive-functions\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 235985, "user_id": 252000, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/082b8ee2b0aebb430b8d4d98e6a5c32f?s=128&d=identicon&r=PG", "display_name": "fredoverflow", "link": "https://stackoverflow.com/users/252000/fredoverflow"}, "is_accepted": true, "score": 6, "last_activity_date": 1504535614, "last_edit_date": 1504535614, "creation_date": 1504535305, "answer_id": 46039188, "question_id": 46039118, "link": "https://stackoverflow.com/questions/46039118/how-to-avoid-stackoverflow-error-in-java-kotlin-intellij-idea/46039188#46039188", "title": "How to avoid StackOverFlow error in Java/Kotlin/IntelliJ IDEA?", "body": "<p>This is a problem that must solved at the language level, because the JVM does not optimize tail recursion.</p>\n\n<p>Fortunately, the Kotlin language provides a <code>tailrec</code> modifier for exactly this purpose, so you can simply write <code>tailrec fun</code> instead of <code>fun</code>. The compiler will convert tail calls inside a tailrec function into loops, which should get rid of the stack overflow you are experiencing.</p>\n"}], "owner": {"reputation": 363, "user_id": 4669892, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/--1vbamf063E/AAAAAAAAAAI/AAAAAAAAA1U/zNU8fLIbn9s/photo.jpg?sz=128", "display_name": "Andrei Paciurca", "link": "https://stackoverflow.com/users/4669892/andrei-paciurca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 0, "accepted_answer_id": 46039188, "answer_count": 1, "score": 1, "last_activity_date": 1504535614, "creation_date": 1504535028, "last_edit_date": 1504535554, "question_id": 46039118, "link": "https://stackoverflow.com/questions/46039118/how-to-avoid-stackoverflow-error-in-java-kotlin-intellij-idea", "title": "How to avoid StackOverFlow error in Java/Kotlin/IntelliJ IDEA?", "body": "<p>I want to do a factorial of a BigInteger (in Kotlin).\nWith a tail recursion I get StackOverFlow error when I try to do <em>9000!</em> .\nWith a non-recursive function I can do that ... but I'm very curious how to avoid this kind of error.</p>\n\n<p>Here is my code: </p>\n\n<pre><code>import java.math.BigInteger\n\nfun tail_recursion_factorial(n: BigInteger, factorialOfN: BigInteger = BigInteger.valueOf(2)): BigInteger {\n   return when(n){\n        BigInteger.ONE -&gt;  BigInteger.ONE\n        BigInteger.valueOf(2) -&gt;  factorialOfN\n        else -&gt; tail_recursion_factorial(n.minus(BigInteger.ONE), n.times(factorialOfN))\n    }\n}\nfun non_recursive_factorial(n: BigInteger): BigInteger{\n    var i: BigInteger = BigInteger.ONE\n    var factorial: BigInteger = BigInteger.ONE\n    while (i&lt;=n){\n        factorial = factorial.times(i)\n        i = i.plus(BigInteger.ONE)\n    }\n    return factorial\n}\nfun main(args: Array&lt;String&gt;){\n    print(\"n == \")\n    var n = readLine()!!\n    //recursive\n    //println(\"$n! is ${tail_recursion_factorial(BigInteger(n))}\")\n    //non-recursive\n    println(\"$n! is ${non_recursive_factorial(BigInteger(n))}\")\n}\n</code></pre>\n"}, {"tags": ["java", "arrays", "string", "kotlin"], "comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 1, "creation_date": 1504536286, "post_id": 46038476, "comment_id": 79039214, "body": "Just so you know if you have Java code and a Kotlin file open (in IntelliJ/AndroidStudio) and paste it IntelliJ will offer you to auto convert that code to Kotlin."}, {"owner": {"reputation": 533, "user_id": 7866568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDbhR.png?s=128&g=1", "display_name": "Michael F.", "link": "https://stackoverflow.com/users/7866568/michael-f"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1504550499, "post_id": 46038476, "comment_id": 79045319, "body": "Brilliant, many thanks."}], "answers": [{"comments": [{"owner": {"reputation": 533, "user_id": 7866568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDbhR.png?s=128&g=1", "display_name": "Michael F.", "link": "https://stackoverflow.com/users/7866568/michael-f"}, "edited": false, "score": 0, "creation_date": 1504534050, "post_id": 46038561, "comment_id": 79037877, "body": "I searched everywhere and it was this simple! Wow haha, thanks :-)"}, {"owner": {"reputation": 2540, "user_id": 3456952, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a42b2c66c6ca8051bf42e5b8be0d52a8?s=128&d=identicon&r=PG&f=1", "display_name": "TheHebrewHammer", "link": "https://stackoverflow.com/users/3456952/thehebrewhammer"}, "edited": false, "score": 1, "creation_date": 1521203291, "post_id": 46038561, "comment_id": 85642415, "body": "This answer isn&#39;t correct. Kotlin&#39;s <code>split</code> method will return a List not an array."}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 4, "creation_date": 1521203485, "post_id": 46038561, "comment_id": 85642541, "body": "In which case you can write: <code>val strs = &quot;name, 2012, 2017&quot;.split(&quot;,&quot;).toTypedArray()</code>"}, {"owner": {"reputation": 171, "user_id": 2009272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9bba62f17ee076759e0d46bd785eee?s=128&d=identicon&r=PG", "display_name": "alex", "link": "https://stackoverflow.com/users/2009272/alex"}, "edited": false, "score": 0, "creation_date": 1554397713, "post_id": 46038561, "comment_id": 97747298, "body": "Java&#39;s <code>split</code> method actually uses an <code>ArrayList</code> internally so the end result is the same"}], "tags": [], "owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "is_accepted": true, "score": 97, "last_activity_date": 1546684800, "last_edit_date": 1546684800, "creation_date": 1504533254, "answer_id": 46038561, "question_id": 46038476, "link": "https://stackoverflow.com/questions/46038476/how-could-i-split-a-string-into-an-array-in-kotlin/46038561#46038561", "title": "How could I split a String into an array in Kotlin?", "body": "<pre><code>val strs = \"name, 2012, 2017\".split(\",\").toTypedArray()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 817, "user_id": 9223117, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-n-p1T_09mkE/AAAAAAAAAAI/AAAAAAAAAE8/FajxTDbkevQ/photo.jpg?sz=128", "display_name": "Maryam Azhdari", "link": "https://stackoverflow.com/users/9223117/maryam-azhdari"}, "edited": false, "score": 0, "creation_date": 1557750223, "post_id": 54198712, "comment_id": 98858003, "body": "Excellent.Thanks :)"}], "tags": [], "owner": {"reputation": 2177, "user_id": 6247186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ockk6.jpg?s=128&g=1", "display_name": "Hamed Jaliliani", "link": "https://stackoverflow.com/users/6247186/hamed-jaliliani"}, "is_accepted": false, "score": 12, "last_activity_date": 1579088940, "last_edit_date": 1579088940, "creation_date": 1547554705, "answer_id": 54198712, "question_id": 46038476, "link": "https://stackoverflow.com/questions/46038476/how-could-i-split-a-string-into-an-array-in-kotlin/54198712#54198712", "title": "How could I split a String into an array in Kotlin?", "body": "<p>If we have a string of values that splited by any character like \",\":</p>\n\n<pre><code> val values = \"Name1 ,Name2, Name3\" // Read List from somewhere\n val lstValues: List&lt;String&gt; = values.split(\",\").map { it -&gt; it.trim() }\n lstValues.forEach { it -&gt;\n                Log.i(\"Values\", \"value=$it\")\n                //Do Something\n            }\n</code></pre>\n\n<p>It's better to use  trim() to delete spaces around strings if exist.\nConsider that if have a  \",\" at the end of string it makes one null item, so can check it  with this code before split : </p>\n\n<pre><code> if ( values.endsWith(\",\") )\n     values = values.substring(0, values.length - 1)\n</code></pre>\n\n<p>if you want to convert list to Array ,use this code:</p>\n\n<pre><code>      var  arr = lstValues.toTypedArray()\n      arr.forEach {  Log.i(\"ArrayItem\", \" Array item=\" + it ) }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 345, "user_id": 8945078, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215398012164405/picture?type=large", "display_name": "Thiago Silva", "link": "https://stackoverflow.com/users/8945078/thiago-silva"}, "is_accepted": false, "score": 6, "last_activity_date": 1596338609, "last_edit_date": 1596338609, "creation_date": 1565454595, "answer_id": 57443857, "question_id": 46038476, "link": "https://stackoverflow.com/questions/46038476/how-could-i-split-a-string-into-an-array-in-kotlin/57443857#57443857", "title": "How could I split a String into an array in Kotlin?", "body": "<p>Simple as it is:</p>\n<pre><code>val string: String = &quot;leo_Ana_John&quot;\nval yourArray: List&lt;String&gt; = string.split(&quot;_&quot;)\n</code></pre>\n<p>you get: yourArray[0] == leo, yourArray[1] == Ana, yourArray[2]==John</p>\n<p>In this case, just change the &quot;_&quot; from my code to &quot;, &quot; of yours. Se bellow</p>\n<pre><code>    val yourArray: List&lt;String&gt; = string.split(&quot;, &quot;)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 454, "user_id": 9617715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcf88fd452f56344b35129f952de8b86?s=128&d=identicon&r=PG&f=1", "display_name": "Manikandan", "link": "https://stackoverflow.com/users/9617715/manikandan"}, "is_accepted": false, "score": 1, "last_activity_date": 1582286664, "creation_date": 1582286664, "answer_id": 60338322, "question_id": 46038476, "link": "https://stackoverflow.com/questions/46038476/how-could-i-split-a-string-into-an-array-in-kotlin/60338322#60338322", "title": "How could I split a String into an array in Kotlin?", "body": "<p>Split a string using inbuilt split method then using method extensions isNum() to return numeric or not.</p>\n\n<pre><code>fun String.isNum(): Boolean{\n   var num:Int? = this.trim().toIntOrNull()\n   return if (num != null) true else false\n}\n\nfor (x in \"name, 2012, 2017\".split(\",\")) {\n   println(x.isNum())\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3585, "user_id": 1344509, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/79ae13ce51a48815fb56106fd5198240?s=128&d=identicon&r=PG", "display_name": "Ikrom", "link": "https://stackoverflow.com/users/1344509/ikrom"}, "is_accepted": false, "score": 0, "last_activity_date": 1617668652, "creation_date": 1617668652, "answer_id": 66961294, "question_id": 46038476, "link": "https://stackoverflow.com/questions/46038476/how-could-i-split-a-string-into-an-array-in-kotlin/66961294#66961294", "title": "How could I split a String into an array in Kotlin?", "body": "<p>If you want to use multiple/several delimiters in kotlin <code>split</code>, you need to pass them separately:</p>\n<pre><code> val validUrl = &quot;http://test.com/&lt;/a&gt; -&quot;.split(&quot;&gt;&quot;, &quot; &quot;, &quot;&lt;&quot;).first()\n</code></pre>\n"}], "owner": {"reputation": 533, "user_id": 7866568, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tDbhR.png?s=128&g=1", "display_name": "Michael F.", "link": "https://stackoverflow.com/users/7866568/michael-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60988, "favorite_count": 7, "accepted_answer_id": 46038561, "answer_count": 5, "score": 52, "last_activity_date": 1617668652, "creation_date": 1504532957, "last_edit_date": 1546464494, "question_id": 46038476, "link": "https://stackoverflow.com/questions/46038476/how-could-i-split-a-string-into-an-array-in-kotlin", "title": "How could I split a String into an array in Kotlin?", "body": "<p>I need to split a String read in from a file into an array of values. I want to split the String at the commas, so for example, if the String read:</p>\n\n<pre><code>\"name, 2012, 2017\"\n</code></pre>\n\n<p>The values in the array would be:</p>\n\n<ul>\n<li>array index 0 - name</li>\n<li>array index 1 - 2012</li>\n<li>array index 2 - 2017</li>\n</ul>\n\n<p>I found this example in Java:</p>\n\n<pre><code>String[] stringArray = string.split(\",\");\n</code></pre>\n\n<p>How I could do it in Kotlin?</p>\n"}, {"tags": ["android", "kotlin", "android-animation"], "comments": [{"owner": {"reputation": 1762, "user_id": 2285734, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/cPrBt.jpg?s=128&g=1", "display_name": "Korashen", "link": "https://stackoverflow.com/users/2285734/korashen"}, "edited": false, "score": 0, "creation_date": 1504532905, "post_id": 46038410, "comment_id": 79037167, "body": "A better way is to use &quot;Linear Interpolation&quot;. That way you avoid stuttering / scrambling by differences within the timer."}, {"owner": {"reputation": 2045, "user_id": 4146722, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-eMQkD1pVMPc/AAAAAAAAAAI/AAAAAAAAAGk/tM0_qqeNE3A/photo.jpg?sz=128", "display_name": "Pratik Tank", "link": "https://stackoverflow.com/users/4146722/pratik-tank"}, "edited": false, "score": 0, "creation_date": 1504535648, "post_id": 46038410, "comment_id": 79038847, "body": "this may help <a href=\"https://stackoverflow.com/a/29446690/4146722\">stackoverflow.com/a/29446690/4146722</a>"}, {"owner": {"reputation": 25, "user_id": 8019516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Cf1R.jpg?s=128&g=1", "display_name": "Ebin Chandy", "link": "https://stackoverflow.com/users/8019516/ebin-chandy"}, "edited": false, "score": 0, "creation_date": 1504586506, "post_id": 46038410, "comment_id": 79053735, "body": "Can you give an example program of linear interpolation? I need the line to appear on different co ordinates. For single co ordinate we can use the xml"}], "owner": {"reputation": 25, "user_id": 8019516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Cf1R.jpg?s=128&g=1", "display_name": "Ebin Chandy", "link": "https://stackoverflow.com/users/8019516/ebin-chandy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1489, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504958220, "creation_date": 1504532689, "last_edit_date": 1504958220, "question_id": 46038410, "link": "https://stackoverflow.com/questions/46038410/draw-a-line-on-canvas-slowly-like-an-animation", "title": "Draw a line on canvas slowly like an animation", "body": "<p>I need to draw a line between two points. In the display, it shows like a pen is drawing the line. But how can I make the line appear only after pen passes? I tried this</p>\n\n<pre><code>var x= 10\nvar y=10\n\nvar h=Handler()\nh.postDelayed({\n    While(true)\n    {\n        x++\n        y++\n        if(x&lt;=100&amp;&amp;y&lt;=100){\n            canvas.drawLine(10,10,x,y,paint)\n        }\n        else break\n    }\n}, 100 )\n</code></pre>\n\n<p>But this code is making the canvas look weird and some random lines are appearing.</p>\n\n<p>Any better way to do this?</p>\n\n<p>Edit:</p>\n\n<p>I tried  the method given in link below</p>\n\n<p><a href=\"https://smdaudhilbe.wordpress.com/2014/11/30/how-to-animate-line-gradually-growing-from-starting-point-to-ending-point/\" rel=\"nofollow noreferrer\">https://smdaudhilbe.wordpress.com/2014/11/30/how-to-animate-line-gradually-growing-from-starting-point-to-ending-point/</a></p>\n\n<p>I am a beginner . how can i use  different positions for each case... \n Also how can we call a class with context?. I tried <code>getApplicationContext()</code> but giving NPE.  The same code works perfectly in <code>onCreate()</code>. But i need to call it outside that. </p>\n\n<p>I am hoping for a good help</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1504527076, "post_id": 46035877, "comment_id": 79033623, "body": "You should post the stack trace instead of posting the ANR screenshot."}], "answers": [{"tags": [], "owner": {"reputation": 535, "user_id": 3581288, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/aa93412c66f943c11e55c73a9b69555e?s=128&d=identicon&r=PG&f=1", "display_name": "Yazhini Murugaiya", "link": "https://stackoverflow.com/users/3581288/yazhini-murugaiya"}, "is_accepted": false, "score": 1, "last_activity_date": 1504559126, "last_edit_date": 1504559126, "creation_date": 1504524029, "answer_id": 46035929, "question_id": 46035877, "link": "https://stackoverflow.com/questions/46035877/check-if-edittext-is-empty-kotlin-android/46035929#46035929", "title": "Check if EditText is empty kotlin android", "body": "<p>Try this:</p>\n\n<pre><code>if(TextUtils.isEmpty(editText.getText().toString())){    \n    //Do\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 617, "user_id": 2983864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bie6I.jpg?s=128&g=1", "display_name": "Ravi Jaggarapu", "link": "https://stackoverflow.com/users/2983864/ravi-jaggarapu"}, "edited": false, "score": 0, "creation_date": 1504525044, "post_id": 46036114, "comment_id": 79032429, "body": "Most of the cases if you want to get text from input box, use like   &quot;val  input  =  editText?.text.toString().trim()&quot;"}, {"owner": {"reputation": 133, "user_id": 8558312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/596e05edb956a24028b24b5c582c35d4?s=128&d=identicon&r=PG&f=1", "display_name": "mohanad.99", "link": "https://stackoverflow.com/users/8558312/mohanad-99"}, "edited": false, "score": 0, "creation_date": 1504525982, "post_id": 46036114, "comment_id": 79033002, "body": "Unresolved reference. None of the following candidates is applicable because of receiver type mismatch: @InlineOnly public inline fun CharSequence?.isNullOrBlank(): Boolean defined in kotlin.text"}], "tags": [], "owner": {"reputation": 2399, "user_id": 6838146, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/VE5iL.jpg?s=128&g=1", "display_name": "Lokesh Desai", "link": "https://stackoverflow.com/users/6838146/lokesh-desai"}, "is_accepted": false, "score": 4, "last_activity_date": 1504525854, "last_edit_date": 1504525854, "creation_date": 1504524760, "answer_id": 46036114, "question_id": 46035877, "link": "https://stackoverflow.com/questions/46035877/check-if-edittext-is-empty-kotlin-android/46036114#46036114", "title": "Check if EditText is empty kotlin android", "body": "<p>Hey I am using like this in kotlin</p>\n\n<pre><code> val input = editText?.text.toString().trim()\n    if (input.isNullOrBlank()) {\n       //Your code for blank edittext\n    }\n</code></pre>\n\n<p>Hope this will help you..let me know if any issue....</p>\n"}, {"tags": [], "owner": {"reputation": 46728, "user_id": 557179, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7KJPr.jpg?s=128&g=1", "display_name": "Nikola Despotoski", "link": "https://stackoverflow.com/users/557179/nikola-despotoski"}, "is_accepted": false, "score": 14, "last_activity_date": 1504527336, "creation_date": 1504527336, "answer_id": 46036846, "question_id": 46035877, "link": "https://stackoverflow.com/questions/46035877/check-if-edittext-is-empty-kotlin-android/46036846#46036846", "title": "Check if EditText is empty kotlin android", "body": "<p>Harness Kotlin power by using inline extension functions: </p>\n\n<pre><code>editText.text.isNotEmpty().apply { \n    //do something\n }\n</code></pre>\n\n<p>or use <code>let</code></p>\n"}, {"tags": [], "owner": {"reputation": 1358, "user_id": 7950986, "user_type": "registered", "profile_image": "https://graph.facebook.com/1332546703506392/picture?type=large", "display_name": "Maraj Hussain", "link": "https://stackoverflow.com/users/7950986/maraj-hussain"}, "is_accepted": true, "score": 14, "last_activity_date": 1504607916, "last_edit_date": 1504607916, "creation_date": 1504588337, "answer_id": 46047386, "question_id": 46035877, "link": "https://stackoverflow.com/questions/46035877/check-if-edittext-is-empty-kotlin-android/46047386#46047386", "title": "Check if EditText is empty kotlin android", "body": "<p>Here is the full example with explanation.</p>\n\n<pre><code>    //init the edittext\n    val etMessage = findViewById(R.id.et_message) as EditText\n    //init the button\n    val btnClick = findViewById(R.id.btn_click) as Button\n\n    btnClick.setOnClickListener{\n        //read value from EditText to a String variable\n        val msg: String = etMessage.text.toString()\n\n        //check if the EditText have values or not\n        if(msg.trim().length&gt;0) {\n            Toast.makeText(applicationContext, \"Message : \"+msg, Toast.LENGTH_SHORT).show()\n        }else{\n            Toast.makeText(applicationContext, \"Please enter some message! \", Toast.LENGTH_SHORT).show()\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3233, "user_id": 5063320, "user_type": "registered", "profile_image": "https://graph.facebook.com/801262363315394/picture?type=large", "display_name": "Goodlife", "link": "https://stackoverflow.com/users/5063320/goodlife"}, "is_accepted": false, "score": 0, "last_activity_date": 1519080385, "creation_date": 1519080385, "answer_id": 48875322, "question_id": 46035877, "link": "https://stackoverflow.com/questions/46035877/check-if-edittext-is-empty-kotlin-android/48875322#48875322", "title": "Check if EditText is empty kotlin android", "body": "<p>Been a new guy Tried lots and this Worked for me</p>\n\n<pre><code>     if(!editTextTerminalName.text.toString().trim().isNotEmpty()) {\n\n                editTextTerminalName?.error = \"Required\"\n\n            }else if(!editTextPassword.text.toString().trim().isNotEmpty()){\n\n\n                editTextPassword?.error = \"Required\"\n            }else{\n\n                avi.visibility= View.VISIBLE // v letter should be capita\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 7182367, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XFkcynvkWzU/AAAAAAAAAAI/AAAAAAAABM0/D1N-Ud3Xq34/photo.jpg?sz=128", "display_name": "Sharmad Desai", "link": "https://stackoverflow.com/users/7182367/sharmad-desai"}, "is_accepted": false, "score": 3, "last_activity_date": 1578111263, "last_edit_date": 1578111263, "creation_date": 1520020965, "answer_id": 49076515, "question_id": 46035877, "link": "https://stackoverflow.com/questions/46035877/check-if-edittext-is-empty-kotlin-android/49076515#49076515", "title": "Check if EditText is empty kotlin android", "body": "<p>try this out:</p>\n\n<pre><code>bottom.setOnClickListener{\n  val new = addText.text.toString()\n\n  if (new = isNotEmpty()) {\n    //do something\n  } else {\n    Toast.makeText(context, \"Enter some message \", Toast.LENGTH_SHORT).show()\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1107, "user_id": 1947494, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/yGTAe.jpg?s=128&g=1", "display_name": "Nikhil Katekhaye", "link": "https://stackoverflow.com/users/1947494/nikhil-katekhaye"}, "is_accepted": false, "score": 4, "last_activity_date": 1524056927, "last_edit_date": 1524056927, "creation_date": 1524055729, "answer_id": 49900169, "question_id": 46035877, "link": "https://stackoverflow.com/questions/46035877/check-if-edittext-is-empty-kotlin-android/49900169#49900169", "title": "Check if EditText is empty kotlin android", "body": "<p>You can be done by below way </p>\n\n<pre><code>if (mEdtDeviceName.text.toString().trim().isNotEmpty() || \n    mEdtDeviceName.text.toString().trim().isNotBlank()) {\n       // your code\n} else {\n    Toast.makeText(activity, \"Error Msg\", Toast.LENGTH_SHORT).show()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2089, "user_id": 5616565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xdEXf.jpg?s=128&g=1", "display_name": "DarkSuniuM", "link": "https://stackoverflow.com/users/5616565/darksunium"}, "edited": false, "score": 1, "creation_date": 1539431407, "post_id": 52792369, "comment_id": 92505675, "body": "Please provide more information about your solution, the Code itself doesn&#39;t help very well to the author of question!"}, {"owner": {"reputation": 2089, "user_id": 5616565, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/xdEXf.jpg?s=128&g=1", "display_name": "DarkSuniuM", "link": "https://stackoverflow.com/users/5616565/darksunium"}, "edited": false, "score": 0, "creation_date": 1539443530, "post_id": 52792369, "comment_id": 92508779, "body": "Like what the code does and how it fixes the problem.. Its not required, but Its better to have some explanation, So it will be more helpful"}], "tags": [], "owner": {"reputation": 31, "user_id": 10498995, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-p3UDTdgEZ8Q/AAAAAAAAAAI/AAAAAAAAABE/GHhBZG_bnEE/photo.jpg?sz=128", "display_name": "Tanveer", "link": "https://stackoverflow.com/users/10498995/tanveer"}, "is_accepted": false, "score": 3, "last_activity_date": 1539433905, "last_edit_date": 1539433905, "creation_date": 1539429647, "answer_id": 52792369, "question_id": 46035877, "link": "https://stackoverflow.com/questions/46035877/check-if-edittext-is-empty-kotlin-android/52792369#52792369", "title": "Check if EditText is empty kotlin android", "body": "<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val btnSignUp : Button = findViewById(R.id.signUp)\n\n        val et_username : EditText = findViewById(R.id.etUsername)\n        val et_email : EditText = findViewById(R.id.etEmail)\n        val et_password : EditText = findViewById(R.id.etPassword)\n\n        btnSignUp.setOnClickListener{\n            val user_msg_error: String = et_username.text.toString()\n\n            //check if the EditText have values or not\n            if(user_msg_error.trim().isEmpty()) {\n                et_username.error = \"Required\"\n                Toast.makeText(applicationContext, \"User Name Required \", Toast.LENGTH_SHORT).show()\n            }\n            else if (et_email.text.toString().trim().isEmpty()) {\n                et_email.error = \"Required\"\n                Toast.makeText(applicationContext, \"Email Required \", Toast.LENGTH_SHORT).show()\n            }\n            else if (et_password.text.toString().trim().isEmpty()) {\n                et_password.error = \"Required\"\n                Toast.makeText(applicationContext, \"Password Required \", Toast.LENGTH_SHORT).show()\n            }\n            else{\n                Toast.makeText(applicationContext, \"Login Successful \", Toast.LENGTH_SHORT).show()\n\n            // After successful login u will move on next page/ activity\n\n                val i = Intent(this,SecondActivity::class.java)\n                startActivity(i)\n            }\n\n        }\n\n\n    }\n\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1548, "user_id": 6876710, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mIdxC.jpg?s=128&g=1", "display_name": "El.Hum", "link": "https://stackoverflow.com/users/6876710/el-hum"}, "edited": false, "score": 7, "creation_date": 1568432630, "post_id": 57932263, "comment_id": 102281461, "body": "Please add some explanation to your answer"}, {"owner": {"reputation": 111, "user_id": 8024397, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FT8uM.jpg?s=128&g=1", "display_name": "Siyabonga Dube", "link": "https://stackoverflow.com/users/8024397/siyabonga-dube"}, "reply_to_user": {"reputation": 1548, "user_id": 6876710, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mIdxC.jpg?s=128&g=1", "display_name": "El.Hum", "link": "https://stackoverflow.com/users/6876710/el-hum"}, "edited": false, "score": 0, "creation_date": 1581253711, "post_id": 57932263, "comment_id": 106361663, "body": "@El.Hum, &quot;isEmpty&quot; is a built in me method that checks if a sting empty"}], "tags": [], "owner": {"reputation": 11, "user_id": 10070971, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2b36b05b0b0ea9b2179b35ef091bf867?s=128&d=identicon&r=PG&f=1", "display_name": "Deep patel", "link": "https://stackoverflow.com/users/10070971/deep-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1568446263, "last_edit_date": 1568446263, "creation_date": 1568432069, "answer_id": 57932263, "question_id": 46035877, "link": "https://stackoverflow.com/questions/46035877/check-if-edittext-is-empty-kotlin-android/57932263#57932263", "title": "Check if EditText is empty kotlin android", "body": "<pre><code>if (regemail.isEmpty())\n{\n     Toast.makeText(this,\"Enter Email..!!!\",Toast.LENGTH_LONG).show()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 128, "user_id": 10818029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36353799b762db235845559f8cbcfa76?s=128&d=identicon&r=PG&f=1", "display_name": "MarkT", "link": "https://stackoverflow.com/users/10818029/markt"}, "is_accepted": false, "score": 0, "last_activity_date": 1614212109, "last_edit_date": 1614212109, "creation_date": 1614211156, "answer_id": 66360576, "question_id": 46035877, "link": "https://stackoverflow.com/questions/46035877/check-if-edittext-is-empty-kotlin-android/66360576#66360576", "title": "Check if EditText is empty kotlin android", "body": "<p>Same solution but using class TextUtil and .isEmpty(charsequence:)</p>\n<pre><code>btnGo.setOnClickListener{ \n\nval input1 = etName.text.toString.trim() // 1\n\nif(TextUtils.isEmpty(input1)){ // 2\netName.error = &quot;Enter a name&quot; // 3\nreturn@setOnClickListener //4\n}\n//code to store a Bundle or insert in a sqlitedb etc\n// go to secondactiviy\n}\n</code></pre>\n<ol>\n<li>user only typed spacebars??? .trim() helps with that</li>\n<li>TextUtil is a class .isEmpty one of its methods</li>\n<li>displays a clickable red (!) in the EditText and when it is pressed displays &quot;Enter a name&quot; of course you can use getString(R.string.somename)</li>\n<li>restarts onclicklistener / &quot;restricts&quot; some actions like change to other acivity, avoinding (for example) passing null a bundle() or insert a null in a db</li>\n</ol>\n"}], "owner": {"reputation": 133, "user_id": 8558312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/596e05edb956a24028b24b5c582c35d4?s=128&d=identicon&r=PG&f=1", "display_name": "mohanad.99", "link": "https://stackoverflow.com/users/8558312/mohanad-99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24037, "favorite_count": 0, "accepted_answer_id": 46047386, "answer_count": 10, "score": 13, "last_activity_date": 1614212109, "creation_date": 1504523825, "last_edit_date": 1514787931, "question_id": 46035877, "link": "https://stackoverflow.com/questions/46035877/check-if-edittext-is-empty-kotlin-android", "title": "Check if EditText is empty kotlin android", "body": "<p>How do you check if an EditText is empty? input type number</p>\n\n<p><img src=\"https://i.stack.imgur.com/oowyj.png\" alt=\"\"></p>\n\n<pre><code>package com.example.www.myapplication\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.util.*\n\nclass MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    button.setOnClickListener {\n\n        val inter:Int=editText.text.toString().toInt()\n        val year: Int = Calendar.getInstance().get(Calendar.YEAR)\n        val res:Int=year-inter\n        textView.text=res.toString()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "animation", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 8382099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89219e2818852bab0c8f5f9275b6c221?s=128&d=identicon&r=PG&f=1", "display_name": "snowb1shop", "link": "https://stackoverflow.com/users/8382099/snowb1shop"}, "edited": false, "score": 0, "creation_date": 1504526341, "post_id": 46036202, "comment_id": 79033233, "body": "Unfortunately it didn&#39;t help, although thank you for your input!"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 41, "user_id": 8382099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89219e2818852bab0c8f5f9275b6c221?s=128&d=identicon&r=PG&f=1", "display_name": "snowb1shop", "link": "https://stackoverflow.com/users/8382099/snowb1shop"}, "edited": false, "score": 0, "creation_date": 1504527904, "post_id": 46036202, "comment_id": 79034117, "body": "@Rafa\u0142P\u0142onka did you remove <code>addUpdateListener </code>?"}, {"owner": {"reputation": 41, "user_id": 8382099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89219e2818852bab0c8f5f9275b6c221?s=128&d=identicon&r=PG&f=1", "display_name": "snowb1shop", "link": "https://stackoverflow.com/users/8382099/snowb1shop"}, "edited": false, "score": 0, "creation_date": 1504528540, "post_id": 46036202, "comment_id": 79034477, "body": "No, and it won&#39;t work if I do that, because the width is being updated in it."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 41, "user_id": 8382099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89219e2818852bab0c8f5f9275b6c221?s=128&d=identicon&r=PG&f=1", "display_name": "snowb1shop", "link": "https://stackoverflow.com/users/8382099/snowb1shop"}, "edited": false, "score": 0, "creation_date": 1504528688, "post_id": 46036202, "comment_id": 79034580, "body": "@Rafa\u0142P\u0142onka so want to change width of the view right?"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 41, "user_id": 8382099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89219e2818852bab0c8f5f9275b6c221?s=128&d=identicon&r=PG&f=1", "display_name": "snowb1shop", "link": "https://stackoverflow.com/users/8382099/snowb1shop"}, "edited": false, "score": 0, "creation_date": 1504528769, "post_id": 46036202, "comment_id": 79034624, "body": "@Rafa\u0142P\u0142onka try removing <code>requestLayout() </code> line and check if it works."}], "tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": false, "score": 0, "last_activity_date": 1504525071, "creation_date": 1504525071, "answer_id": 46036202, "question_id": 46034866, "link": "https://stackoverflow.com/questions/46034866/low-performance-of-layout-params-animation-in-android/46036202#46036202", "title": "Low performance of layout params animation in Android", "body": "<p>Use <code>animation.setTarget(viewToAnimate)</code> method to animate target view.</p>\n\n<p>I haven't tested it, let me know it works or not.</p>\n\n<p>Hope it helps.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 8382099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89219e2818852bab0c8f5f9275b6c221?s=128&d=identicon&r=PG&f=1", "display_name": "snowb1shop", "link": "https://stackoverflow.com/users/8382099/snowb1shop"}, "is_accepted": true, "score": 1, "last_activity_date": 1505847652, "creation_date": 1505847652, "answer_id": 46307984, "question_id": 46034866, "link": "https://stackoverflow.com/questions/46034866/low-performance-of-layout-params-animation-in-android/46307984#46307984", "title": "Low performance of layout params animation in Android", "body": "<p>I've asked this question at the GDD 2017 in Cracow on the \"Office Hours\" and they've told me to look at the Nick Butcher's App -> Plaid.io. It is definitely worth checking out if you are interesting in Android's animations. </p>\n\n<p>Here is the link:</p>\n\n<p><a href=\"https://github.com/nickbutcher/plaid\" rel=\"nofollow noreferrer\">https://github.com/nickbutcher/plaid</a></p>\n\n<p>We did it and we saw that he often is using </p>\n\n<pre><code>animation.willChangeBounds = true\n</code></pre>\n\n<p>and that fixed our problem with laggy animations &lt;3</p>\n"}], "owner": {"reputation": 41, "user_id": 8382099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89219e2818852bab0c8f5f9275b6c221?s=128&d=identicon&r=PG&f=1", "display_name": "snowb1shop", "link": "https://stackoverflow.com/users/8382099/snowb1shop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 187, "favorite_count": 0, "accepted_answer_id": 46307984, "answer_count": 2, "score": 3, "last_activity_date": 1505847652, "creation_date": 1504520005, "question_id": 46034866, "link": "https://stackoverflow.com/questions/46034866/low-performance-of-layout-params-animation-in-android", "title": "Low performance of layout params animation in Android", "body": "<p>Currently I'm animating the width of an object with following code:</p>\n\n<pre><code>val animation = ValueAnimator.ofInt(layoutParams.width, value)\n           .setDuration(duration)\n    animation.interpolator = interpolator ?: LinearInterpolator()\n    animation.start()\n    animation.addUpdateListener {\n        val animatedValue = it.animatedValue as Int\n        layoutParams.width = animatedValue\n        requestLayout()\n    }\n    animation.addListener(object: Animator.AnimatorListener {\n        override fun onAnimationRepeat(p0: Animator?) {}\n        override fun onAnimationEnd(p0: Animator?) {\n            endHandler?.invoke()\n        }\n        override fun onAnimationCancel(p0: Animator?) {}\n        override fun onAnimationStart(p0: Animator?) {}\n    })\n</code></pre>\n\n<p>However, animation is very laggy even on simple layouts. Is there any way to improve the performance of layoutParams-changing animation?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1504523073, "post_id": 46034849, "comment_id": 79031336, "body": "This is a little bit off. When you write <code>fun someFunction(a: Type) { }</code> (without the <code>=</code>), Kotlin will always infer that the return type is <code>Unit</code>. It doesn&#39;t matter whether he has <code>return</code> before <code>when</code>, or inside it."}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1504645222, "post_id": 46034849, "comment_id": 79087348, "body": "To follow up my last comment; the only thing he needs to add is the return type (<code>: Int</code>) to his function definition. You do not need to put <code>return</code> before <code>when</code>, because the else-branch of the when-expression makes it exhaustive."}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1504645564, "post_id": 46034849, "comment_id": 79087479, "body": "@marstran <a href=\"https://try.kotlinlang.org/#/UserProjects/dcmc5bt52isgk4rhc2ule8toe0/s67it8ebb3i30m05j3870qqj8h\" rel=\"nofollow noreferrer\">Just checked and you do need the return</a>"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1504677603, "post_id": 46034849, "comment_id": 79095939, "body": "Yes, of course you need <code>return</code> <i>somewhere</i>. You can have it in each of the branches in the when-expression, like he did in his &quot;second case&quot;. That&#39;s my point."}], "tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": true, "score": 2, "last_activity_date": 1504725470, "last_edit_date": 1504725470, "creation_date": 1504519972, "answer_id": 46034849, "question_id": 46034792, "link": "https://stackoverflow.com/questions/46034792/kotlin-function-syntax/46034849#46034849", "title": "Kotlin function syntax", "body": "<p>That's because <code>=</code> works as <code>{ return X }</code><sub>This applies only to function definitions</sub>. So this means that in the first example your code is equal to this</p>\n\n<pre><code>operator fun compareTo(other: MyDate):Int {\n    return when {\n        year != other.year -&gt; year - other.year\n        month != other.month -&gt; month - other.month\n        else -&gt; dayOfMonth - other.dayOfMonth\n    }\n}\n</code></pre>\n\n<p>But in your 2nd example you don't return the result of the <code>when</code>. That results in the compiler being confused because it expected you to return a <code>Int</code> but you return <code>Unit</code> instead (equivalent of Java's <code>void</code>)</p>\n\n<p>So all you need to do is to add an explicit return type (<code>Int</code> in this case) to it (<code>fun X(/*args*/)</code><strong><code>: Int</code></strong> or other applicable type)</p>\n"}, {"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": false, "score": 2, "last_activity_date": 1504522410, "last_edit_date": 1504522410, "creation_date": 1504521608, "answer_id": 46035293, "question_id": 46034792, "link": "https://stackoverflow.com/questions/46034792/kotlin-function-syntax/46035293#46035293", "title": "Kotlin function syntax", "body": "<p>In your first example, the return type of <code>compareTo(MyDate)</code> is <a href=\"https://kotlinlang.org/docs/reference/basic-syntax.html#defining-functions\" rel=\"nofollow noreferrer\">inferred</a> as <code>Int</code> because all branch of the <code>when</code> expression return an <code>Int</code>.</p>\n\n<p>In your second example, the return type of <code>compareTo(MyDate)</code> is <code>Unit</code>. Since you function has the block body, so the return type must be specified explicitly (unless it's intended for them to return <code>Unit</code>). So, <code>Unit</code> is expected here for the return type, but the return type inferred from your <code>when</code> expression is <code>Int</code>. That's why you get the error:</p>\n\n<blockquote>\n  <p>Type mismatch: inferred type is Int but Unit was expected</p>\n</blockquote>\n\n<p>Here is the <a href=\"https://kotlinlang.org/docs/reference/functions.html#explicit-return-types\" rel=\"nofollow noreferrer\">official explanation</a> for explicitly defining the return type of functions with block bodies:</p>\n\n<blockquote>\n  <p>Functions with block body must always specify return types explicitly, unless it's intended for them to return Unit, <a href=\"https://kotlinlang.org/docs/reference/functions.html#unit-returning-functions\" rel=\"nofollow noreferrer\">in which case it is optional</a>. Kotlin does not infer return types for functions with block bodies because such functions may have complex control flow in the body, and the return type will be non-obvious to the reader (and sometimes even for the compiler).</p>\n</blockquote>\n\n<p>So, the correct way to declare <code>compareTo(MyDate)</code> is to specify the return type of the function if it includes the block body:</p>\n\n<pre><code>operator fun compareTo(other: MyDate): Int {\n    when {\n        year != other.year -&gt; return year - other.year\n        month != other.month -&gt; return month - other.month\n        else -&gt; return dayOfMonth - other.dayOfMonth\n    }\n}\n</code></pre>\n\n<p>This solves another error at the same time since the <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html#comparison\" rel=\"nofollow noreferrer\">comparison operator</a> is required to return an <code>Int</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": false, "score": 0, "last_activity_date": 1504725977, "last_edit_date": 1504725977, "creation_date": 1504593657, "answer_id": 46048485, "question_id": 46034792, "link": "https://stackoverflow.com/questions/46034792/kotlin-function-syntax/46048485#46048485", "title": "Kotlin function syntax", "body": "<p>Just an addition to <a href=\"https://stackoverflow.com/users/3533380/mibac\">@Mibac</a>'s answer: You can make this a little bit shorter:</p>\n\n<pre><code>operator fun compareTo(other: MyDate) = when {\n    year != other.year -&gt; year - other.year\n    month != other.month -&gt; month - other.month\n    else -&gt; dayOfMonth - other.dayOfMonth\n}\n</code></pre>\n"}], "owner": {"reputation": 3578, "user_id": 1514105, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1e994f51e51b026726c3ed7e0d050536?s=128&d=identicon&r=PG", "display_name": "Libathos", "link": "https://stackoverflow.com/users/1514105/libathos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1124, "favorite_count": 0, "accepted_answer_id": 46034849, "answer_count": 3, "score": 1, "last_activity_date": 1504725977, "creation_date": 1504519771, "last_edit_date": 1504725656, "question_id": 46034792, "link": "https://stackoverflow.com/questions/46034792/kotlin-function-syntax", "title": "Kotlin function syntax", "body": "<p>I'm doing the Kotlin Koans tests in order to familiarise myself with Kotlin. In a certain test I have to override the <code>compareTo</code> method. In the first case everything work as intended</p>\n\n<pre><code>data class MyDate(val year: Int, val month: Int, val dayOfMonth: Int) {\n\n    operator fun compareTo(other: MyDate)= when {\n        year != other.year -&gt; year - other.year\n        month != other.month -&gt; month - other.month\n        else -&gt; dayOfMonth - other.dayOfMonth\n    }\n\n}\n</code></pre>\n\n<p>Now in the second case where I'm writing the <code>compareTo</code> a little bit differently I get a ton of compilation errors. </p>\n\n<pre><code>data class MyDate(val year: Int, val month: Int, val dayOfMonth: Int) {\n\n\n     operator fun compareTo(other: MyDate){\n\n        when {\n            year != other.year -&gt; return year - other.year\n            month != other.month -&gt; return month - other.month\n            else -&gt; return dayOfMonth - other.dayOfMonth\n       }\n     }\n\n\n }\n</code></pre>\n\n<p>First of all, at the operator keyword, I get an error:</p>\n\n<blockquote>\n  <p>'operator' modifier is inapplicable on this function: must return Int</p>\n</blockquote>\n\n<p>and in the returns I get</p>\n\n<blockquote>\n  <p>Type mismatch: inferred type is Int but Unit was expected</p>\n</blockquote>\n\n<p>I cannot understand why these errors occur since the first implementation returns the same <code>Int</code>s</p>\n"}, {"tags": ["android", "kotlin", "alarmmanager"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1504520500, "post_id": 46034692, "comment_id": 79029905, "body": "&quot;when I use &lt;..&gt; it works fine&quot;  what is the problem then"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1504520643, "post_id": 46034692, "comment_id": 79029985, "body": "<code>setRepeating()</code> hasn&#39;t been exact since KitKat. You need to use an exact method, and schedule the next alarm each time it fires."}, {"owner": {"reputation": 334, "user_id": 6949159, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-5d1LvJxeeFA/AAAAAAAAAAI/AAAAAAAAAlA/cn-4Lq9_SVU/photo.jpg?sz=128", "display_name": "Mahmood Ali", "link": "https://stackoverflow.com/users/6949159/mahmood-ali"}, "edited": false, "score": 0, "creation_date": 1504521785, "post_id": 46034692, "comment_id": 79030624, "body": "Mike M : Thank you so much , that what i was miss ."}, {"owner": {"reputation": 334, "user_id": 6949159, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-5d1LvJxeeFA/AAAAAAAAAAI/AAAAAAAAAlA/cn-4Lq9_SVU/photo.jpg?sz=128", "display_name": "Mahmood Ali", "link": "https://stackoverflow.com/users/6949159/mahmood-ali"}, "edited": false, "score": 0, "creation_date": 1504521982, "post_id": 46034692, "comment_id": 79030736, "body": "Tim Castelijns :Thank you for caring ,  I need to know why setRepeating(..) not work like setExact(...) and Mike M. answer my question ."}], "owner": {"reputation": 334, "user_id": 6949159, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-5d1LvJxeeFA/AAAAAAAAAAI/AAAAAAAAAlA/cn-4Lq9_SVU/photo.jpg?sz=128", "display_name": "Mahmood Ali", "link": "https://stackoverflow.com/users/6949159/mahmood-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 619, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504519380, "creation_date": 1504519380, "question_id": 46034692, "link": "https://stackoverflow.com/questions/46034692/repeating-an-alarm-to-fire-exact-at-specific-time-not-work-correctly", "title": "Repeating an alarm to fire exact at specific time not work correctly", "body": "<p>I am trying to set an alarm to fire everyday at specific time ex: 8:00am\nbut alarm manager not fire at exact time sometime after 2 minute of specific time and sometime more than that .</p>\n\n<p>My code </p>\n\n<pre><code>class AlarmReceiver : BroadcastReceiver() {\n\noverride fun onReceive(context: Context, intent: Intent) {\n\n    val builder = NotificationCompat.Builder(context)\n            .setSmallIcon(R.drawable.ic_stat_name)\n            .setContentTitle(\"notification title\")\n            .setContentInfo(\"info\")\n            .setDefaults(NotificationCompat.DEFAULT_SOUND)\n\n\n    val notifManager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n\n    notifManager.notify(0, builder.build())\n}\n\ncompanion object {\n\n    fun startAlarmManager(context: Context, hour: Int, minute: Int = 0) {\n        // set time for alarm manager\n        val calendar = Calendar.getInstance()\n        calendar.timeInMillis = System.currentTimeMillis()\n        calendar.set(Calendar.HOUR_OF_DAY, hour)\n        calendar.set(Calendar.MINUTE, minute)\n        calendar.set(Calendar.SECOND, 0)\n        calendar.set(Calendar.MILLISECOND, 0)\n\n        if (calendar.timeInMillis &lt; System.currentTimeMillis())\n            calendar.timeInMillis += 1000 * 60 * 60 * 24\n\n        // set up alarm manager\n        val alarmReceiver = Intent(context, AlarmReceiver::class.java)\n        val pendingIntent = PendingIntent.getBroadcast(context, 0, alarmReceiver, PendingIntent.FLAG_UPDATE_CURRENT)\n        val alarmManager = context.getSystemService(Context.ALARM_SERVICE) as AlarmManager\n        alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, calendar.timeInMillis, AlarmManager.INTERVAL_DAY,\n                pendingIntent)\n\n        context.toast(\"started\")\n    }\n\n    fun stopAlarmManager(context: Context) {\n        // set up alarm manager\n        val alarmReceiver = Intent(context, AlarmReceiver::class.java)\n        val pendingIntent = PendingIntent.getBroadcast(context, 0, alarmReceiver, 0)\n        val alarmManager = context.getSystemService(Context.ALARM_SERVICE) as AlarmManager\n        alarmManager.cancel(pendingIntent)\n\n    }\n\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>when i use </p>\n\n<pre><code>alarmManager.setExact(AlarmManager.RTC_WAKEUP, calendar.timeInMillis,pendingIntent)\n</code></pre>\n\n<p>It work fine and notification send exact at specific time \nOne more thing, I have already read this question but not solve my problem .</p>\n\n<p><a href=\"https://stackoverflow.com/questions/3052149/using-alarmmanager-to-start-a-service-at-specific-time\">Using Alarmmanager to start a service at specific time</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/38474721/alarm-manager-not-working-at-specific-given-time-interval\">Alarm Manager not working at specific given time interval</a></p>\n\n<p>and also</p>\n\n<p><a href=\"https://developer.android.com/training/scheduling/alarms.html\" rel=\"nofollow noreferrer\">Scheduling Repeating Alarms</a></p>\n"}, {"tags": ["android", "android-studio", "kotlin", "android-studio-plugin"], "comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 2, "creation_date": 1504511052, "post_id": 46032400, "comment_id": 79024756, "body": "What is your question?"}, {"owner": {"reputation": 809, "user_id": 7919219, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh5.googleusercontent.com/-C8xr-YTkr4k/AAAAAAAAAAI/AAAAAAAAAIs/ptkHBHbSR1A/photo.jpg?sz=128", "display_name": "Maneki Neko", "link": "https://stackoverflow.com/users/7919219/maneki-neko"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1504537067, "post_id": 46032400, "comment_id": 79039655, "body": "On some central util classes, it is not nice that Java code has to call MyClass.Companion.foo(). Those are classes that were made to make the Java code &quot;tidy&quot; so I wanna keep them short. Unfortunately, the auto-conversion to Kotlin makes them under companion object. It is correct in most cases but there are cases that I want to make it add @JvmStatic to keep my Java code shorter. Or at least, take an existing companion object function and make its callers avoid Companion calls. (No biggie, can be done with regex later but if I can get it from the plugin - why not?)"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1504537154, "post_id": 46032400, "comment_id": 79039709, "body": "I&#39;m not sure if I get it right. You want auto conversion to Kotlin to mark Java <code>static</code> methods as <code>@JvmStatic</code>? As far as I know there&#39;s no such option"}, {"owner": {"reputation": 809, "user_id": 7919219, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh5.googleusercontent.com/-C8xr-YTkr4k/AAAAAAAAAAI/AAAAAAAAAIs/ptkHBHbSR1A/photo.jpg?sz=128", "display_name": "Maneki Neko", "link": "https://stackoverflow.com/users/7919219/maneki-neko"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1504537411, "post_id": 46032400, "comment_id": 79039866, "body": "Not for all. Just for specific cases. You know, classes where I have tens or hundred potential callers. Yeah, I imagined it is not possible. And I am absolutely with Jetbrains about that. Well, no biggie. Thanks"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1504537513, "post_id": 46032400, "comment_id": 79039922, "body": "You could <a href=\"https://youtrack.jetbrains.com/newIssue?project=KT&amp;clearDraft=true&amp;c=Type+Feature\" rel=\"nofollow noreferrer\">file a feature request</a> if you really want to"}], "answers": [{"comments": [{"owner": {"reputation": 809, "user_id": 7919219, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh5.googleusercontent.com/-C8xr-YTkr4k/AAAAAAAAAAI/AAAAAAAAAIs/ptkHBHbSR1A/photo.jpg?sz=128", "display_name": "Maneki Neko", "link": "https://stackoverflow.com/users/7919219/maneki-neko"}, "edited": false, "score": 1, "creation_date": 1504536638, "post_id": 46032481, "comment_id": 79039425, "body": "No. But a legacy Java code would have to use MyClass.Companion. Java is long and verbose enough. I want to keep legacy code &quot;tidy&quot;."}], "tags": [], "owner": {"reputation": 929, "user_id": 7855177, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-avNsBxd4mKE/AAAAAAAAAAI/AAAAAAAAABQ/dSTXwqwzagQ/photo.jpg?sz=128", "display_name": "Piwo", "link": "https://stackoverflow.com/users/7855177/piwo"}, "is_accepted": false, "score": 0, "last_activity_date": 1504511169, "creation_date": 1504511169, "answer_id": 46032481, "question_id": 46032400, "link": "https://stackoverflow.com/questions/46032400/android-studio-convert-to-kotlin-use-jvmstatic-in-some-cases/46032481#46032481", "title": "Android studio convert to Kotlin: Use @JvmStatic in some cases", "body": "<p>You don't need to specify the Companion-namespace explicitly, when you decalre your \"static\" method like this:</p>\n\n<pre><code>class MyClass {\n\n    companion object {\n        fun foo() {}\n    }\n}\n</code></pre>\n\n<p>In this case you still can call it via:</p>\n\n<pre><code>MyClass.foo()\n</code></pre>\n\n<p>But nevertheless having static methods is not a Kotlin-idiomic way and should be avoided by using other features of this language. </p>\n"}], "owner": {"reputation": 809, "user_id": 7919219, "user_type": "registered", "accept_rate": 43, "profile_image": "https://lh5.googleusercontent.com/-C8xr-YTkr4k/AAAAAAAAAAI/AAAAAAAAAIs/ptkHBHbSR1A/photo.jpg?sz=128", "display_name": "Maneki Neko", "link": "https://stackoverflow.com/users/7919219/maneki-neko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 387, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504530957, "creation_date": 1504510777, "last_edit_date": 1504530957, "question_id": 46032400, "link": "https://stackoverflow.com/questions/46032400/android-studio-convert-to-kotlin-use-jvmstatic-in-some-cases", "title": "Android studio convert to Kotlin: Use @JvmStatic in some cases", "body": "<p>I have been using Kotlin over Android for quite intensively. It does make programming fun again.\nStill, in some cases (mostly util classes where the name should be short and handy), when automatically converting Java to Kotlin, I would love to have an option to use @JvmStatic on static methods rather than converting callers to <code>MyClass.Companion.Bar</code>.</p>\n\n<p>That is, in some specific cases, it would be nice to have </p>\n\n<pre><code>public static foo(Barian bar)\n</code></pre>\n\n<p>converted to </p>\n\n<pre><code>@JvmStatic\nfun foo(bar:Barian)\n</code></pre>\n\n<p>so I can maintain the short calling syntax from Java:</p>\n\n<pre><code>MyClass.foo(bar)\n</code></pre>\n\n<p>rather than</p>\n\n<pre><code>MyClass.Companion.foo(bar)\n</code></pre>\n\n<p>Obviously, in most cases I agree it's bad manners for many reasons such as future compatibility, non-Kotlin spirit and many more, but in a few cases it can keep Java code (that uses my classes) shorter.</p>\n"}, {"tags": ["kotlin", "kapt"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 2, "creation_date": 1504519524, "post_id": 46032368, "comment_id": 79029318, "body": "To make it work, you need to add the processor as a dependency to the <code>kapt</code> configuration, it&#39;s where kapt searches for the processors. You can do it by separating the modules and then <code>dependencies { kapt project(&#39;:processor&#39;) }</code>."}, {"owner": {"reputation": 149, "user_id": 5428739, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/de2995f30ef37bd47369fafdf4569638?s=128&d=identicon&r=PG&f=1", "display_name": "Sheppard", "link": "https://stackoverflow.com/users/5428739/sheppard"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1504523921, "post_id": 46032368, "comment_id": 79031772, "body": "Moved to separate modules both processor and app. Now when building: <code>Sources output directory is not specified for processor_main, skipping annotation processing</code>"}, {"owner": {"reputation": 106, "user_id": 3605025, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001161305150/picture?type=large", "display_name": "user3605025", "link": "https://stackoverflow.com/users/3605025/user3605025"}, "edited": false, "score": 0, "creation_date": 1509567289, "post_id": 46032368, "comment_id": 81074031, "body": "@Sheppard did you make it work? I&#39;m still having problems with <code>@AutoService</code>"}, {"owner": {"reputation": 149, "user_id": 5428739, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/de2995f30ef37bd47369fafdf4569638?s=128&d=identicon&r=PG&f=1", "display_name": "Sheppard", "link": "https://stackoverflow.com/users/5428739/sheppard"}, "edited": false, "score": 0, "creation_date": 1509632563, "post_id": 46032368, "comment_id": 81103664, "body": "nope, I got it only working the way it is in accepted answer (through configuring META-INF). Error <code>Sources output directory is not specified for processor_main, skipping annotation processing</code> still is logged, but code is being generated ignoring it."}], "answers": [{"tags": [], "owner": {"reputation": 566, "user_id": 1350593, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2aaa33e9aa2e2c74a745a71489ecbff6?s=128&d=identicon&r=PG", "display_name": "twocity", "link": "https://stackoverflow.com/users/1350593/twocity"}, "is_accepted": true, "score": 5, "last_activity_date": 1505817888, "creation_date": 1505817888, "answer_id": 46298418, "question_id": 46032368, "link": "https://stackoverflow.com/questions/46032368/kotlin-annotation-processor-cant-make-it-work/46298418#46298418", "title": "Kotlin annotation processor: can&#39;t make it work", "body": "<p>In my practices, <code>AutoService</code> just ignore kotlin classes. You have to use a java class instead, or write your own META-INF:</p>\n\n<p><code>main/resources/META-INF/services/javax.annotation.processing.Processor</code>\nand contains: <code>your.package.ModelProcessor</code></p>\n"}], "owner": {"reputation": 149, "user_id": 5428739, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/de2995f30ef37bd47369fafdf4569638?s=128&d=identicon&r=PG&f=1", "display_name": "Sheppard", "link": "https://stackoverflow.com/users/5428739/sheppard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1261, "favorite_count": 0, "accepted_answer_id": 46298418, "answer_count": 1, "score": 3, "last_activity_date": 1505817888, "creation_date": 1504510646, "question_id": 46032368, "link": "https://stackoverflow.com/questions/46032368/kotlin-annotation-processor-cant-make-it-work", "title": "Kotlin annotation processor: can&#39;t make it work", "body": "<p>My gradle build:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.4-3'\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'java'\napply plugin: 'kotlin'\napply plugin: \"kotlin-kapt\"\n\nsourceCompatibility = 1.8\n\nrepositories {\n    mavenCentral()\n}\n\n\nkapt {\n    processors = \"libs.orm.codeGenerators.ModelProcessor\" //PROCESSOR\n}\n\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n\n    compile \"com.google.auto.service:auto-service:1.0-rc3\"   \n}\n</code></pre>\n\n<p>The processor is not in separate module.</p>\n\n<p>Processor does nothing, in <code>#process</code> it simply throws, to see if it's working.</p>\n\n<pre><code>@AutoService(Processor::class)\n@SupportedSourceVersion(SourceVersion.RELEASE_8)\nclass ModelProcessor : AbstractProcessor() {\n\n    override fun process(annotations: MutableSet&lt;out TypeElement&gt;?, roundEnv: RoundEnvironment): Boolean {\n        throw(Throwable(\"foo\"))\n        return true\n    }\n\n    override fun getSupportedAnnotationTypes() : MutableSet&lt;String&gt; {\n        return mutableSetOf&lt;String&gt;(\"*\")\n    }\n\n}\n</code></pre>\n\n<p>But absolutely nothing happens. No error, nothing.\nHow can I make it work?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1567, "user_id": 3049753, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/P4ed5.jpg?s=128&g=1", "display_name": "RedEyed", "link": "https://stackoverflow.com/users/3049753/redeyed"}, "edited": false, "score": 0, "creation_date": 1504508954, "post_id": 46031921, "comment_id": 79023726, "body": "Please, format your code"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1504508974, "post_id": 46031921, "comment_id": 79023736, "body": "You need to provide a question. What&#39;s the error you are observing?"}, {"owner": {"reputation": 1007, "user_id": 1632519, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/4169b372ce9a0bf75abf2282a4e9808f?s=128&d=identicon&r=PG", "display_name": "Philippe", "link": "https://stackoverflow.com/users/1632519/philippe"}, "edited": false, "score": 0, "creation_date": 1504593931, "post_id": 46031921, "comment_id": 79056416, "body": "How did they manage to create a question with only code? When I ask questions which contain a lot of code, StackOverflow starts to complain about it."}], "answers": [{"tags": [], "owner": {"reputation": 1387, "user_id": 4547118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48c1bd41974b2165147c6b381b556e20?s=128&d=identicon&r=PG&f=1", "display_name": "pokemzok", "link": "https://stackoverflow.com/users/4547118/pokemzok"}, "is_accepted": false, "score": 3, "last_activity_date": 1504509660, "creation_date": 1504509660, "answer_id": 46032136, "question_id": 46031921, "link": "https://stackoverflow.com/questions/46031921/how-to-pass-a-twodimentional-array-as-argument-to-a-function-in-kotlin/46032136#46032136", "title": "How to pass a twodimentional array as argument to a function in Kotlin", "body": "<p>You can pass two dimentional array like this:</p>\n\n<pre><code>fun test(){\n    var arr: Array&lt;Array&lt;String&gt;&gt; = arrayOf(arrayOf(\"a\",\"b\"),arrayOf(\"1\",\"2\"))\n    twoDimenArgTest(arr)\n}\n\nfun twoDimenArgTest(arr: Array&lt;Array&lt;String&gt;&gt;){\n    arr.forEach { it.forEach { println(it) } }\n}\n</code></pre>\n\n<p>If this answer is not complete you should specify error like  <strong>s1m0nw1</strong>  suggested.</p>\n"}, {"tags": [], "owner": {"reputation": 577, "user_id": 5691049, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CqR16z9lkl4/AAAAAAAAAAI/AAAAAAAAAK4/zHFoWJFlE3g/photo.jpg?sz=128", "display_name": "Pravin Londhe", "link": "https://stackoverflow.com/users/5691049/pravin-londhe"}, "is_accepted": false, "score": 1, "last_activity_date": 1504510805, "creation_date": 1504510805, "answer_id": 46032411, "question_id": 46031921, "link": "https://stackoverflow.com/questions/46031921/how-to-pass-a-twodimentional-array-as-argument-to-a-function-in-kotlin/46032411#46032411", "title": "How to pass a twodimentional array as argument to a function in Kotlin", "body": "<p>To pass the two dimensional array just pass the object of grid like</p>\n\n<pre><code>twoDimensionalRx(grid)\n</code></pre>\n\n<p>and to receive just receive var with type Array&lt; IntArray > like</p>\n\n<pre><code>  fun twoDimensionalRx(a:Array&lt;IntArray&gt;){\n    ...\n  }\n</code></pre>\n"}], "owner": {"reputation": 19, "user_id": 8557156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74e5df2d11b99e1a0a80b8e9e4b614ae?s=128&d=identicon&r=PG&f=1", "display_name": "sri sri", "link": "https://stackoverflow.com/users/8557156/sri-sri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4705, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1504510805, "creation_date": 1504508824, "last_edit_date": 1504509030, "question_id": 46031921, "link": "https://stackoverflow.com/questions/46031921/how-to-pass-a-twodimentional-array-as-argument-to-a-function-in-kotlin", "title": "How to pass a twodimentional array as argument to a function in Kotlin", "body": "<pre><code>import java.io.*\nimport java.util.*\n\nfun main(args: Array&lt;String&gt;) {\n    val sc = Scanner(System.`in`)\n    var grid = Array(9, {IntArray(9)})\n    for(i in 0..grid.size - 1) {\n        var rowArray = IntArray(9)\n        for(j in 0..rowArray.size - 1) {\n            rowArray[j] = sc.nextInt()\n        }\n        grid[i] = rowArray\n    }\n    for(row in grid) {\n        for(j in row) {\n            print(j)\n            print(\" \")\n        }\n        println(\"\")\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1504499960, "post_id": 46030345, "comment_id": 79020554, "body": "As long as <code>context</code> is <code>context.applicationContext</code> you&#39;ll leak no activity."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1504501599, "post_id": 46030345, "comment_id": 79020920, "body": "Do you mean the context in the constructor? How will this be leaked?"}, {"owner": {"reputation": 1057, "user_id": 3674079, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/1m1O1.jpg?s=128&g=1", "display_name": "quangkid", "link": "https://stackoverflow.com/users/3674079/quangkid"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1504506333, "post_id": 46030345, "comment_id": 79022469, "body": "@s1m0nw All View field in this class also have this warning. I don&#39;t know exactly how it leak. I think it only happen when define Context in an &#39;object&#39; in Kotlin"}, {"owner": {"reputation": 1057, "user_id": 3674079, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/1m1O1.jpg?s=128&g=1", "display_name": "quangkid", "link": "https://stackoverflow.com/users/3674079/quangkid"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1504506432, "post_id": 46030345, "comment_id": 79022510, "body": "@EugenPechanec In Android Studio, there&#39;s a warning at line : var context: Context Somebody tell that let using internal class. But I have any idea about my case"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1504506474, "post_id": 46030345, "comment_id": 79022526, "body": "Show the warning please"}, {"owner": {"reputation": 1057, "user_id": 3674079, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/1m1O1.jpg?s=128&g=1", "display_name": "quangkid", "link": "https://stackoverflow.com/users/3674079/quangkid"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1504506663, "post_id": 46030345, "comment_id": 79022602, "body": "@s1m0nw1 This field leaks a context object less...  A static field will leak contexts.  Non-static inner classes have an implicit reference to their outer class. If that outer class is for example a Fragment or Activity, then this reference means that the long-running handler/loader/task will hold a reference to the activity which prevents it from getting garbage collected.  Similarly, direct field references to activities and fragments from these longer running instances can cause leaks.  ViewModel classes should never point to Views or non-application Contexts."}, {"owner": {"reputation": 1057, "user_id": 3674079, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/1m1O1.jpg?s=128&g=1", "display_name": "quangkid", "link": "https://stackoverflow.com/users/3674079/quangkid"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1504506699, "post_id": 46030345, "comment_id": 79022619, "body": "@s1m0nw1 You will find the same question here, but AsyncTask in my case : <a href=\"https://stackoverflow.com/questions/44134811/android-class-with-context-in-object-field-in-kotlin\" title=\"android class with context in object field in kotlin\">stackoverflow.com/questions/44134811/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1849, "user_id": 7679573, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/czZkd.jpg?s=128&g=1", "display_name": "A. Shevchuk", "link": "https://stackoverflow.com/users/7679573/a-shevchuk"}, "is_accepted": false, "score": 3, "last_activity_date": 1504517895, "last_edit_date": 1504517895, "creation_date": 1504507274, "answer_id": 46031554, "question_id": 46030345, "link": "https://stackoverflow.com/questions/46030345/create-class-extend-asynctask-without-leaking-context-object-in-android-kotlin/46031554#46031554", "title": "Create class extend AsyncTask without leaking context object in Android Kotlin", "body": "<p>You can't avoid this warning this way, but you can handle that your context is application context and it won't leak: </p>\n\n<pre><code>    abstract class ParentTask(context: Context) : AsyncTask&lt;Void, Int, String&gt;() {\n        private val context: Context\n\n        init {\n            this.context = context.applicationContext\n        }\n\n        override fun doInBackground(vararg voids: Void): String? {\n            //...\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 1057, "user_id": 3674079, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/1m1O1.jpg?s=128&g=1", "display_name": "quangkid", "link": "https://stackoverflow.com/users/3674079/quangkid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2760, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1504530766, "creation_date": 1504499779, "last_edit_date": 1504530766, "question_id": 46030345, "link": "https://stackoverflow.com/questions/46030345/create-class-extend-asynctask-without-leaking-context-object-in-android-kotlin", "title": "Create class extend AsyncTask without leaking context object in Android Kotlin", "body": "<p>I defined a base class extends <code>AsyncTask</code> and have some custom method. I want to create some child classes which <code>extend</code> this, and <code>override</code> some methods. But by this way, its field will leaks the <code>Context</code> object.</p>\n\n<pre><code>abstract class ParentTask(context: Context) : AsyncTask&lt;Void, Int, String&gt;() \n{\n    ...\n    override fun doInBackground(vararg params: Void): String? {\n        ...\n    }\n    ...\n}\n</code></pre>\n\n<p>Please tell me why and show me how to implement it in Android Kotlin? I'm very appreciated if there's an example about this.\np/s : I'm searched for this but can't understand. Why using Singleton, or other design pattern</p>\n"}, {"tags": ["android", "kotlin", "observable", "android-databinding"], "answers": [{"tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": true, "score": 17, "last_activity_date": 1504505692, "creation_date": 1504505692, "answer_id": 46031241, "question_id": 46029570, "link": "https://stackoverflow.com/questions/46029570/android-data-binding-with-kotlin-baseobservable-and-a-custom-delegate/46031241#46031241", "title": "Android data binding with Kotlin, BaseObservable, and a custom delegate", "body": "<p>You can annotate the default getter or setter without providing a body.</p>\n\n<pre><code>var bar: String by Delegates.observable(\"\") { prop, old, new -&gt;\n    notifyPropertyChanged(BR.bar)\n}\n    @Bindable get\n</code></pre>\n\n<p>There is a shortcut <a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"noreferrer\">annotation use-site target</a> which does the same thing.</p>\n\n<pre><code>@get:Bindable var bar: String by Delegates.observable(\"\") { prop, old, new -&gt;\n    notifyPropertyChanged(BR.bar)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 457, "user_id": 4408588, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002483357368/picture?type=large", "display_name": "Janusz Hain", "link": "https://stackoverflow.com/users/4408588/janusz-hain"}, "is_accepted": false, "score": 2, "last_activity_date": 1558357038, "last_edit_date": 1558357038, "creation_date": 1531824977, "answer_id": 51379668, "question_id": 46029570, "link": "https://stackoverflow.com/questions/46029570/android-data-binding-with-kotlin-baseobservable-and-a-custom-delegate/51379668#51379668", "title": "Android data binding with Kotlin, BaseObservable, and a custom delegate", "body": "<p>Additionaly to the accepted answer - sometimes you need variables passed in constructor. It is easy to do too.</p>\n\n<pre><code>class Foo(_bar: String) : BaseObservable() {\n      @get:Bindable var bar by Delegates.observable(_bar) { _, _, _ -&gt;\n          notifyPropertyChanged(BR.bar)\n      }\n}\n</code></pre>\n\n<p>Sometimes we have to save object using parcel, I had some problems using delegete, so code looks like this:</p>\n\n<pre><code>@Parcelize\nclass Foo(private var _bar: String) : BaseObservable(), Parcelable {\n    @IgnoredOnParcel\n    @get:Bindable var bar \n    get() =  _bar\n    set(value) {\n        _bar = value\n        notifyPropertyChanged(BR.bar)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 429, "user_id": 7537239, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OFGLGjeP0xA/AAAAAAAAAAI/AAAAAAAAXTo/kD7R7-ivZfo/photo.jpg?sz=128", "display_name": "RBusarow", "link": "https://stackoverflow.com/users/7537239/rbusarow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6138, "favorite_count": 3, "accepted_answer_id": 46031241, "answer_count": 2, "score": 9, "last_activity_date": 1558357038, "creation_date": 1504492283, "question_id": 46029570, "link": "https://stackoverflow.com/questions/46029570/android-data-binding-with-kotlin-baseobservable-and-a-custom-delegate", "title": "Android data binding with Kotlin, BaseObservable, and a custom delegate", "body": "<p>I'm attempting to write a custom delegate which would clean up the syntax for databinding in a Kotlin class.  It would eliminate the need to define a custom getter and setter for every property I might want to observe.</p>\n\n<p>The standard implementation in Kotlin appears to be as follows:</p>\n\n<pre><code>class Foo : BaseObservable() {\n\n    var bar: String\n         @Bindable get() = bar\n         set(value) {\n             bar = value\n             notifyPropertyChanged(BR.bar)\n         }\n}\n</code></pre>\n\n<p>Clearly, with a lot of properties this class can become pretty verbose.  What I would like instead is to abstract that away into a delegate like so:</p>\n\n<pre><code>class BaseObservableDelegate(val id: Int, private val observable: BaseObservable) {\n\n     @Bindable\n     operator fun getValue(thisRef: Any, property: KProperty&lt;*&gt;): Any {\n         return thisRef\n     }\n\n     operator fun setValue(thisRef: Any, property: KProperty&lt;*&gt;, value: Any) {\n         observable.notifyPropertyChanged(id)\n     }\n}\n</code></pre>\n\n<p>Then, the class which extends BaseObservable could go back to having one-line variable declarations:</p>\n\n<pre><code>class Foo : BaseObservable() {\n      var bar by BaseObservableDelegate(BR.bar, this)\n}\n</code></pre>\n\n<p>The problem is that without the @Bindable annotation in the Foo class, no propertyId is generated in BR for bar.  I'm unaware of any other annotation or method for generating that property id.</p>\n\n<p>Any guidance would be appreciated.  </p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1504503136, "post_id": 46028899, "comment_id": 79021353, "body": "It IS possible to <code>return</code> from <code>let{}</code>. Both of your snippets are correct and do the exact same thing."}], "answers": [{"comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 1, "creation_date": 1504487956, "post_id": 46028969, "comment_id": 79018349, "body": "Looks pretty idiomatic to me. Probably don&#39;t even need the <i>if</i>: <code>return list.find { it != null }</code> seems to solve the problem."}], "tags": [], "owner": {"reputation": 5342, "user_id": 1473919, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/DUomc.png?s=128&g=1", "display_name": "Tim Malseed", "link": "https://stackoverflow.com/users/1473919/tim-malseed"}, "is_accepted": false, "score": 5, "last_activity_date": 1504490058, "last_edit_date": 1504490058, "creation_date": 1504485219, "answer_id": 46028969, "question_id": 46028899, "link": "https://stackoverflow.com/questions/46028899/idiomatic-way-to-return-if-not-null-in-kotlin/46028969#46028969", "title": "Idiomatic way to return if not null in Kotlin", "body": "<p>Not sure if this would be called idiomatic, but you <em>could</em> do this:</p>\n\n<pre><code>val nullableValue = list.find { it != null }\nif (nullableValue != null) {\n    return nullableValue\n}\n</code></pre>\n\n<p>Edit: </p>\n\n<p>Based on s1m0nw1's answer, you can probably reduce it to this:</p>\n\n<pre><code>list.find { it != null }?.let {\n    return it\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 5, "last_activity_date": 1542923573, "last_edit_date": 1542923573, "creation_date": 1504486842, "answer_id": 46029080, "question_id": 46028899, "link": "https://stackoverflow.com/questions/46028899/idiomatic-way-to-return-if-not-null-in-kotlin/46029080#46029080", "title": "Idiomatic way to return if not null in Kotlin", "body": "<p>It is possible to return from <code>let</code>, as you can read in the <a href=\"https://kotlinlang.org/docs/reference/returns.html#return-at-labels\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>The return-expression returns from the nearest enclosing function, i.e. foo. (Note that such non-local returns are supported only for lambda expressions passed to inline functions.)</p>\n</blockquote>\n\n<p><code>let()</code> is an <code>inline</code> function and therefore you automatically return from the enclosing function whenever you do <code>return</code> within <code>let</code>, like in this example:</p>\n\n<pre><code>fun foo() {\n    ints.forEach {\n        if (it == 0) return  // nonlocal return from inside lambda directly to the caller of foo()\n        print(it)\n    }\n }\n</code></pre>\n\n<p>To modify the behavior, \"labels\" can be used:</p>\n\n<pre><code>fun foo() {\n    ints.forEach lit@ {\n        if (it == 0) return@lit\n        print(it)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 941, "user_id": 1465013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587a2b7a233238f84feb6fd22c7d869?s=128&d=identicon&r=PG", "display_name": "Ryba", "link": "https://stackoverflow.com/users/1465013/ryba"}, "is_accepted": false, "score": 1, "last_activity_date": 1504537561, "creation_date": 1504537561, "answer_id": 46039820, "question_id": 46028899, "link": "https://stackoverflow.com/questions/46028899/idiomatic-way-to-return-if-not-null-in-kotlin/46039820#46039820", "title": "Idiomatic way to return if not null in Kotlin", "body": "<p>The \"right\" idiomatic way of doing this is using the \"first\" method.</p>\n\n<p>Example:</p>\n\n<p><code>val x = listOf&lt;Int?&gt;(null, null, 3, null, 8).first { it != null }</code></p>\n\n<p>His specific example would be</p>\n\n<p><code>return list.first {getNullableValue(it) != null}</code></p>\n"}, {"tags": [], "owner": {"reputation": 562, "user_id": 2292211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dca32d7743e08b8c4459797283317445?s=128&d=identicon&r=PG", "display_name": "pabloa98", "link": "https://stackoverflow.com/users/2292211/pabloa98"}, "is_accepted": false, "score": 0, "last_activity_date": 1543796015, "creation_date": 1543796015, "answer_id": 53585911, "question_id": 46028899, "link": "https://stackoverflow.com/questions/46028899/idiomatic-way-to-return-if-not-null-in-kotlin/53585911#53585911", "title": "Idiomatic way to return if not null in Kotlin", "body": "<p>It could be something like:</p>\n\n<pre><code>for (item in list) {\n  getNullableValue(item)?.also {\n    return it\n  }\n}\n</code></pre>\n\n<p>I am assuming the external loop is needed. If that is not the case, Ryba suggested solution should work.</p>\n"}], "owner": {"reputation": 2169, "user_id": 4564505, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qRYlQ.jpg?s=128&g=1", "display_name": "pavlos163", "link": "https://stackoverflow.com/users/4564505/pavlos163"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6129, "favorite_count": 1, "accepted_answer_id": 46029080, "answer_count": 4, "score": 6, "last_activity_date": 1543796015, "creation_date": 1504484187, "question_id": 46028899, "link": "https://stackoverflow.com/questions/46028899/idiomatic-way-to-return-if-not-null-in-kotlin", "title": "Idiomatic way to return if not null in Kotlin", "body": "<p>I am looking for an idiomatic way to return if not null a variable in Kotlin. For example, I would like something such as:</p>\n\n<pre><code>for (item in list) {\n  getNullableValue(item).? let {\n    return it\n  }\n}\n</code></pre>\n\n<p>But it's not possible to return inside a <code>let</code> block in Kotlin.</p>\n\n<p>Is there a good way to do this without having to do this:</p>\n\n<pre><code>for (item in list) {\n  val nullableValue = getNullableValue(item)\n  if (nullableValue != null) {\n    return nullableValue\n  }\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 13442292, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27a8f46006d1c7702119c6f106b48776?s=128&d=identicon&r=PG&f=1", "display_name": "pratclot", "link": "https://stackoverflow.com/users/13442292/pratclot"}, "edited": false, "score": 0, "creation_date": 1612452949, "post_id": 46028032, "comment_id": 116776712, "body": "Looks like the only thing @bcoughlan missed was <code>subscribeOn()</code>, the answer is not correct at all."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 5, "last_activity_date": 1504474527, "creation_date": 1504474527, "answer_id": 46028032, "question_id": 46027973, "link": "https://stackoverflow.com/questions/46027973/rxjava2-simple-example-of-executing-tasks-on-a-thread-pool-subscribing-on-a-s/46028032#46028032", "title": "rxjava2 - simple example of executing tasks on a thread pool, subscribing on a single thread", "body": "<p>Rx is not meant as a parallel execution service, use Java's streams api for that. Rx events are synchronous, and will flow through the stream subsequently. When building the stream, observeOn will request a thread once and process the emissions one by one on that thread.</p>\n\n<p>You also expected <code>subscribe</code> to be executed on the main thread. <code>observeOn</code> switches the threads and all downstream events happen on that thread. If you want to switch to the main thread, you will have to insert another <code>observeOn</code> just before <code>subscribe</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 1302, "user_id": 420412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97dd48725d80ea0268e4011a520a89c7?s=128&d=identicon&r=PG", "display_name": "gildor", "link": "https://stackoverflow.com/users/420412/gildor"}, "is_accepted": false, "score": 2, "last_activity_date": 1504492265, "creation_date": 1504492265, "answer_id": 46029566, "question_id": 46027973, "link": "https://stackoverflow.com/questions/46027973/rxjava2-simple-example-of-executing-tasks-on-a-thread-pool-subscribing-on-a-s/46029566#46029566", "title": "rxjava2 - simple example of executing tasks on a thread pool, subscribing on a single thread", "body": "<p>To make code inside your <code>map</code> block work in parallel you should wrap it to observable with own scheduler:</p>\n\n<pre><code>val ex = Executors.newFixedThreadPool(10)\n    val scheduler = Schedulers.from(ex)\n    Observable.fromIterable((1..100).toList())\n            .flatMap {\n                Observable\n                        .fromCallable { Thread.currentThread().name }\n                        .subscribeOn(scheduler)\n            }\n            .subscribe { println(it + \" \" + Thread.currentThread().name) }\n</code></pre>\n\n<p>In this case, you will see the result:</p>\n\n<pre><code>pool-1-thread-1 pool-1-thread-1\npool-1-thread-2 pool-1-thread-1\npool-1-thread-3 pool-1-thread-1\npool-1-thread-4 pool-1-thread-1\n...\n</code></pre>\n\n<p>You can check article <a href=\"http://tomstechnicalblog.blogspot.sg/2015/11/rxjava-achieving-parallelization.html\" rel=\"nofollow noreferrer\">RxJava - Achieving Parallelization</a> that gives explanations of this behavior.</p>\n\n<p>Also, RxJava 2.0.5 introduced <a href=\"https://github.com/ReactiveX/RxJava/wiki/Parallel-flows\" rel=\"nofollow noreferrer\">ParallelFlowable API</a></p>\n"}], "owner": {"reputation": 23328, "user_id": 281469, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/d3a1cd1e79201295ffde6c5d6f680d7f?s=128&d=identicon&r=PG", "display_name": "bcoughlan", "link": "https://stackoverflow.com/users/281469/bcoughlan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 976, "favorite_count": 0, "accepted_answer_id": 46028032, "answer_count": 2, "score": 4, "last_activity_date": 1504492265, "creation_date": 1504474022, "question_id": 46027973, "link": "https://stackoverflow.com/questions/46027973/rxjava2-simple-example-of-executing-tasks-on-a-thread-pool-subscribing-on-a-s", "title": "rxjava2 - simple example of executing tasks on a thread pool, subscribing on a single thread", "body": "<p>I'm experimenting with the following task to get my head around RxJava:</p>\n\n<ul>\n<li>Given a list of URLs</li>\n<li>Do a HTTP request for each URL on a thread pool</li>\n<li>For each result insert some data into an SQLite database (no multithreading here)</li>\n<li>Block the method until it completes</li>\n</ul>\n\n<p>So I tried it out in Kotlin:</p>\n\n<pre><code>val ex = Executors.newFixedThreadPool(10)\nObservable.fromIterable((1..100).toList())\n    .observeOn(Schedulers.from(ex))\n    .map { Thread.currentThread().name }\n    .subscribe { println(it + \" \" + Thread.currentThread().name }\n</code></pre>\n\n<p>I expected it to print</p>\n\n<pre><code>pool-1-thread-1 main\npool-1-thread-2 main\npool-1-thread-3 main\npool-1-thread-4 main\n....\n</code></pre>\n\n<p>However it prints:</p>\n\n<pre><code>pool-1-thread-1 pool-1-thread-1\npool-1-thread-1 pool-1-thread-1\npool-1-thread-1 pool-1-thread-1\n</code></pre>\n\n<p>Can anyone correct my misunderstandings about how this works? Why does it not use all of the threads of the thread pool? How can I get my subscriber to run on the main thread or block until completion?</p>\n"}, {"tags": ["java", "kotlin", "lombok", "annotation-processing"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 1, "creation_date": 1504469463, "post_id": 46027391, "comment_id": 79014589, "body": "What&#39;s not working? Can you share the error message?"}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 1, "creation_date": 1504473754, "post_id": 46027391, "comment_id": 79015814, "body": "If its just for logging you may want to check <a href=\"https://discuss.kotlinlang.org/t/best-practices-for-loggers/226/9\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/best-practices-for-loggers/226/9</a>"}], "answers": [{"comments": [{"owner": {"reputation": 155397, "user_id": 978917, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/92d059913eace78a868a3e87f98e0a57?s=128&d=identicon&r=PG", "display_name": "ruakh", "link": "https://stackoverflow.com/users/978917/ruakh"}, "edited": false, "score": 1, "creation_date": 1504473587, "post_id": 46027908, "comment_id": 79015772, "body": "Lombok doesn&#39;t run directly on your source code; rather, it exploits the Java compiler&#39;s built-in support for compile-time annotation processors."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1504476183, "post_id": 46027908, "comment_id": 79016392, "body": "If I&#39;m not mistaken, some of the advanced features of Lombok actually need access to the Java sources."}, {"owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "edited": false, "score": 0, "creation_date": 1504506419, "post_id": 46027908, "comment_id": 79022504, "body": "AFAIK Lombok runs at compile-time. So it has access to your source code. It also uses some techniques to modify the generated AST"}], "tags": [], "owner": {"reputation": 1, "user_id": 8471889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/927ae43b972f0041afa9b08bf384b9d8?s=128&d=identicon&r=PG&f=1", "display_name": "Eyal", "link": "https://stackoverflow.com/users/8471889/eyal"}, "is_accepted": false, "score": -2, "last_activity_date": 1504473431, "creation_date": 1504473431, "answer_id": 46027908, "question_id": 46027391, "link": "https://stackoverflow.com/questions/46027391/is-it-possible-to-use-lombok-with-kotlin/46027908#46027908", "title": "Is it possible to use Lombok with Kotlin?", "body": "<p>I can't see how it would work without additional support from the lombok team.\nLombok is based on annotation processing so it runs during compilation time and runs on your source code, so I guess it assumes Java's syntax.</p>\n"}, {"tags": [], "owner": {"reputation": 14274, "user_id": 2621917, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2ecd16dbe555b9596651e94668f71466?s=128&d=identicon&r=PG", "display_name": "Michael Piefel", "link": "https://stackoverflow.com/users/2621917/michael-piefel"}, "is_accepted": false, "score": 16, "last_activity_date": 1509721839, "creation_date": 1509721839, "answer_id": 47098927, "question_id": 46027391, "link": "https://stackoverflow.com/questions/46027391/is-it-possible-to-use-lombok-with-kotlin/47098927#47098927", "title": "Is it possible to use Lombok with Kotlin?", "body": "<p>Lombok does not run on your source code, but on the AST. Anyway, it is an annotation processor that is run at compile-time by the Java compiler. The Kotlin compiler does not use these annotation processors. See also the answer <a href=\"https://stackoverflow.com/a/35530223/2621917\">https://stackoverflow.com/a/35530223/2621917</a> straight from the horse\u2019s mouth.</p>\n"}, {"tags": [], "owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "is_accepted": false, "score": 1, "last_activity_date": 1509722117, "creation_date": 1509722117, "answer_id": 47099019, "question_id": 46027391, "link": "https://stackoverflow.com/questions/46027391/is-it-possible-to-use-lombok-with-kotlin/47099019#47099019", "title": "Is it possible to use Lombok with Kotlin?", "body": "<p>It's not supported and, by the looks of things, <a href=\"https://github.com/rzwitserloot/lombok/issues/1416\" rel=\"nofollow noreferrer\">it isn't going to be</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 223, "user_id": 995322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/664de777a23de49a9433c9747e0cbe20?s=128&d=identicon&r=PG", "display_name": "YetAnotherMatt", "link": "https://stackoverflow.com/users/995322/yetanothermatt"}, "is_accepted": false, "score": 6, "last_activity_date": 1538320357, "creation_date": 1538320357, "answer_id": 52579171, "question_id": 46027391, "link": "https://stackoverflow.com/questions/46027391/is-it-possible-to-use-lombok-with-kotlin/52579171#52579171", "title": "Is it possible to use Lombok with Kotlin?", "body": "<p>If all you want to use Lombok for is @Slf4j, then I'd suggest using kotlin-logging instead: <a href=\"https://github.com/MicroUtils/kotlin-logging\" rel=\"noreferrer\">https://github.com/MicroUtils/kotlin-logging</a></p>\n"}, {"tags": [], "owner": {"reputation": 7311, "user_id": 1462282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5wvoe.jpg?s=128&g=1", "display_name": "Sahil Chhabra", "link": "https://stackoverflow.com/users/1462282/sahil-chhabra"}, "is_accepted": true, "score": 8, "last_activity_date": 1542943668, "creation_date": 1542943668, "answer_id": 53440325, "question_id": 46027391, "link": "https://stackoverflow.com/questions/46027391/is-it-possible-to-use-lombok-with-kotlin/53440325#53440325", "title": "Is it possible to use Lombok with Kotlin?", "body": "<p>You cannot use annotation <code>@Slf4j</code>, but manually create its object in the class required.</p>\n\n<p>Refer <a href=\"https://www.reddit.com/r/Kotlin/comments/8gbiul/slf4j_loggers_in_3_ways/\" rel=\"noreferrer\">https://www.reddit.com/r/Kotlin/comments/8gbiul/slf4j_loggers_in_3_ways/</a></p>\n"}, {"tags": [], "owner": {"reputation": 8717, "user_id": 6413377, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/J4tD1.png?s=128&g=1", "display_name": "pirho", "link": "https://stackoverflow.com/users/6413377/pirho"}, "is_accepted": false, "score": 0, "last_activity_date": 1576328144, "creation_date": 1576328144, "answer_id": 59335285, "question_id": 46027391, "link": "https://stackoverflow.com/questions/46027391/is-it-possible-to-use-lombok-with-kotlin/59335285#59335285", "title": "Is it possible to use Lombok with Kotlin?", "body": "<p>For logging the best I could do - because <code>@Slf4j</code> did not work - was like creating abstract log class like:</p>\n\n<pre><code>package org.example\n\nimport org.slf4j.LoggerFactory\nimport org.slf4j.Logger\n\nabstract class Log {\n    val log: Logger = LoggerFactory.getLogger(this.javaClass)\n}\n</code></pre>\n\n<p>and usage:</p>\n\n<pre><code>package org.example\n\nclass MyClass { \n    companion object : Log() {}\n    @Test\n    fun someFun() {\n        log.info(\"Logging info\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 9606, "user_id": 1449676, "user_type": "registered", "accept_rate": 37, "profile_image": "https://i.stack.imgur.com/4D92n.png?s=128&g=1", "display_name": "ps-aux", "link": "https://stackoverflow.com/users/1449676/ps-aux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28284, "favorite_count": 2, "accepted_answer_id": 53440325, "answer_count": 6, "score": 34, "last_activity_date": 1576328144, "creation_date": 1504469203, "last_edit_date": 1538322991, "question_id": 46027391, "link": "https://stackoverflow.com/questions/46027391/is-it-possible-to-use-lombok-with-kotlin", "title": "Is it possible to use Lombok with Kotlin?", "body": "<p>I have a Kotlin Gradle project. I added Lombok as a dependency and also registred it with kapt</p>\n\n<pre><code>compileOnly(\"org.projectlombok:lombok:$lombokVersion\")\nkapt(\"org.projectlombok:lombok:$lombokVersion\")\n</code></pre>\n\n<p>I would like to use just <code>@Slf4j</code> anotation for automatic <code>log</code> generation. It works for Java classes but not for the Kotlin ones. </p>\n\n<p>Is using Kotling and Lombok together even possible as of now ?</p>\n\n<p>EDIT: Adding more details</p>\n\n<p>If I annotate a Kotlin classs with <code>@Slf4j</code> and use <code>log</code> inside it I get</p>\n\n<blockquote>\n  <p>Unresolved reference: log</p>\n</blockquote>\n\n<p>Evidently no annotation processing is applied.</p>\n"}, {"tags": ["java", "sockets", "docker", "kotlin", "tarantool"], "comments": [{"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 1, "creation_date": 1504466438, "post_id": 46026376, "comment_id": 79013619, "body": "Can you check if you are able to <code>telnet 192.168.1.254 3301</code> from inside the container?"}, {"owner": {"reputation": 1250, "user_id": 7285198, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh4.googleusercontent.com/-Rn0bgZZ2I0Q/AAAAAAAAAAI/AAAAAAAAAI0/E1OYOkut95s/photo.jpg?sz=128", "display_name": "Nikita Ryanov", "link": "https://stackoverflow.com/users/7285198/nikita-ryanov"}, "reply_to_user": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1504472787, "post_id": 46026376, "comment_id": 79015520, "body": "No, i get error even inside container."}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 1, "creation_date": 1504472893, "post_id": 46026376, "comment_id": 79015562, "body": "I assume your are using DockerToolbox?"}, {"owner": {"reputation": 1250, "user_id": 7285198, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh4.googleusercontent.com/-Rn0bgZZ2I0Q/AAAAAAAAAAI/AAAAAAAAAI0/E1OYOkut95s/photo.jpg?sz=128", "display_name": "Nikita Ryanov", "link": "https://stackoverflow.com/users/7285198/nikita-ryanov"}, "reply_to_user": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1504472914, "post_id": 46026376, "comment_id": 79015568, "body": "Yes, DockerToolBox for windows. I also tried to connect using container&#39;s ip (in my case: 172.17.0.2) but i get the same error"}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 1, "creation_date": 1504472996, "post_id": 46026376, "comment_id": 79015589, "body": "Can you list all the adapters associated with the VM in VirtualBox? it would mostly be named <code>default</code>. Please tell how many adapters attached and what network type"}, {"owner": {"reputation": 1250, "user_id": 7285198, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh4.googleusercontent.com/-Rn0bgZZ2I0Q/AAAAAAAAAAI/AAAAAAAAAI0/E1OYOkut95s/photo.jpg?sz=128", "display_name": "Nikita Ryanov", "link": "https://stackoverflow.com/users/7285198/nikita-ryanov"}, "reply_to_user": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1504473243, "post_id": 46026376, "comment_id": 79015671, "body": "I have 3 ethernet adapters (1st - local network, 2nd and 3rd - VirtualBox Host-only) and 4 tunnel-adapter (3 isatap and 1 Turedo-tunneling pseudo interface) with non-reachable state"}, {"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "reply_to_user": {"reputation": 1250, "user_id": 7285198, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh4.googleusercontent.com/-Rn0bgZZ2I0Q/AAAAAAAAAAI/AAAAAAAAAI0/E1OYOkut95s/photo.jpg?sz=128", "display_name": "Nikita Ryanov", "link": "https://stackoverflow.com/users/7285198/nikita-ryanov"}, "edited": false, "score": 0, "creation_date": 1504473406, "post_id": 46026376, "comment_id": 79015726, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/153570/discussion-between-tarun-lalwani-and-nick-ryan\">continue this discussion in chat</a>."}, {"owner": {"reputation": 101, "user_id": 7773585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1432135960190856/picture?type=large", "display_name": "Adey", "link": "https://stackoverflow.com/users/7773585/adey"}, "edited": false, "score": 0, "creation_date": 1550052875, "post_id": 46026376, "comment_id": 96125431, "body": "you solved it and didn&#39;t write anything. Next time write a solution. Other people can have the same problem"}], "owner": {"reputation": 1250, "user_id": 7285198, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh4.googleusercontent.com/-Rn0bgZZ2I0Q/AAAAAAAAAAI/AAAAAAAAAI0/E1OYOkut95s/photo.jpg?sz=128", "display_name": "Nikita Ryanov", "link": "https://stackoverflow.com/users/7285198/nikita-ryanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 429, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504473625, "creation_date": 1504461914, "last_edit_date": 1504473625, "question_id": 46026376, "link": "https://stackoverflow.com/questions/46026376/connection-refused-tarantool-java-client", "title": "Connection refused [Tarantool + java client]", "body": "<p>When i'm trying to connect to tarantool server i get the following error:</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.net.ConnectException: Connection\n  refused: connect  at java.net.DualStackPlainSocketImpl.connect0(Native\n  Method)   at\n  java.net.DualStackPlainSocketImpl.socketConnect(DualStackPlainSocketImpl.java:79)\n    at\n  java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n    at\n  java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n    at\n  java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:172)   at\n  java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)    at\n  java.net.Socket.connect(Socket.java:589)  at\n  java.net.Socket.connect(Socket.java:538)  at\n  java.net.Socket.(Socket.java:434)   at\n  java.net.Socket.(Socket.java:211)   at\n  TarantoolKt.main(Tarantool.kt:37)</p>\n</blockquote>\n\n<p>My code:</p>\n\n<pre><code>class Tarantool {\n    val client: TarantoolClient\n\n    init {\n        val config: TarantoolClientConfig = TarantoolClientConfig()\n        config.apply {\n            username = \"test\"\n            password = \"test\"\n        }\n\n        val socketChannelProvider: SocketChannelProvider = SocketChannelProvider { _, p1 -&gt;\n            when(p1) {\n                null -&gt; {\n                    println(\"Trying to connect . . .\")\n                    SocketChannel.open(InetSocketAddress(\"192.168.1.254\", 3301)) // &lt;- error\n                }\n                else -&gt; {\n                    p1.printStackTrace(System.out)\n                    null!!\n                }\n            }\n        }\n\n        client = TarantoolClientImpl(socketChannelProvider, config)\n    }\n}\n\nfun main(args: Array&lt;String&gt;): Unit {    \n    val client: Tarantool = Tarantool()\n    println(client.client.isAlive)\n}\n</code></pre>\n\n<p>I get the same error when i'm trying to use different ip</p>\n\n<p>It's the same as in tutorial here: <a href=\"https://github.com/tarantool/tarantool-java/\" rel=\"nofollow noreferrer\">https://github.com/tarantool/tarantool-java/</a></p>\n\n<p>I'd also created the test user using this commands:</p>\n\n<pre><code>box.schema.user.create('test', { password = 'test' })\nbox.schema.user.grant('test', 'execute,read,write', 'universe')\n</code></pre>\n\n<p>I use docker for tarantool and i tried to ping IPs from windows 7 cmd and it works.</p>\n\n<p>Thank you!</p>\n\n<p><strong>SOLVED</strong></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1504480046, "post_id": 46024775, "comment_id": 79017082, "body": "what do you get when your default parameters are last? as in <code>fun foo(bar: Int, baz: Int = 0) {} </code>"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1504480371, "post_id": 46024775, "comment_id": 79017147, "body": "@Les just checked. It&#39;s the same (i.e. that weird Object var is generated)"}, {"owner": {"reputation": 1802, "user_id": 1045902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cae064ef599158ab518d569351fcb650?s=128&d=identicon&r=PG", "display_name": "DPM", "link": "https://stackoverflow.com/users/1045902/dpm"}, "edited": false, "score": 0, "creation_date": 1504523758, "post_id": 46024775, "comment_id": 79031680, "body": "have you tried making a call, and see what is the object passed in the java code?"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 1802, "user_id": 1045902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cae064ef599158ab518d569351fcb650?s=128&d=identicon&r=PG", "display_name": "DPM", "link": "https://stackoverflow.com/users/1045902/dpm"}, "edited": false, "score": 0, "creation_date": 1504523965, "post_id": 46024775, "comment_id": 79031804, "body": "@DPM I&#39;ve just done a basic test (<code>foo(baz = 2)</code>) and the passed parameter was <code>null</code>. I&#39;ve edited the question too"}, {"owner": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 1, "creation_date": 1504561054, "post_id": 46024775, "comment_id": 79048672, "body": "If you&#39;re asking this out of sheer curiosity, it&#39;s probably better to ask in Kotlin forums or Slack. If you want to call a Kotlin function with default parameters from Java, you should annotate it with <code>@JvmOverloads</code> annotation so the compiler generates clean overloaded methods with no magic parameters."}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 45871, "user_id": 2788, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28acae7d7979a1cd603921a198532e7d?s=128&d=identicon&r=PG", "display_name": "Strelok", "link": "https://stackoverflow.com/users/2788/strelok"}, "edited": false, "score": 0, "creation_date": 1504561125, "post_id": 46024775, "comment_id": 79048686, "body": "I&#39;m asking out of curiosity. I&#39;ve already asked on slack but with no response. @Strelok"}], "answers": [{"tags": [], "owner": {"reputation": 2472, "user_id": 775282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c161c3b25645471c05560402910ef118?s=128&d=identicon&r=PG", "display_name": "fal", "link": "https://stackoverflow.com/users/775282/fal"}, "is_accepted": true, "score": 7, "last_activity_date": 1504819930, "creation_date": 1504819930, "answer_id": 46105408, "question_id": 46024775, "link": "https://stackoverflow.com/questions/46024775/why-kotlin-function-with-default-parameters-creates-a-method-with-unused-paramet/46105408#46105408", "title": "Why Kotlin function with default parameters creates a method with unused parameter", "body": "<p>According to <a href=\"https://stackoverflow.com/a/39748921/775282\">this</a>, currently it's unused, but is reserved for adding super calls with defaults later.</p>\n\n<p>You can see it in action here:</p>\n\n<pre><code>open class Foo {\n    open fun foo(bar: Int = 0, baz: Int) {\n        /* ... */\n    }\n}\n\nclass Blah: Foo() {\n    override fun foo(bar: Int, baz: Int) {\n    }\n}\n</code></pre>\n\n<p>which will generate a bytecode-to-Java <code>Foo</code> of:</p>\n\n<pre><code>public class Foo {\n   public void foo(int bar, int baz) {\n   }\n\n   // $FF: synthetic method\n   // $FF: bridge method\n   public static void foo$default(Foo var0, int var1, int var2, int var3, Object var4) {\n      if(var4 != null) {\n         throw new UnsupportedOperationException(\"Super calls with default arguments not supported in this target, function: foo\");\n      } else {\n         if((var3 &amp; 1) != 0) {\n            var1 = 0;\n         }\n\n         var0.foo(var1, var2);\n      }\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2049, "favorite_count": 5, "accepted_answer_id": 46105408, "answer_count": 1, "score": 18, "last_activity_date": 1504819930, "creation_date": 1504451189, "last_edit_date": 1504524170, "question_id": 46024775, "link": "https://stackoverflow.com/questions/46024775/why-kotlin-function-with-default-parameters-creates-a-method-with-unused-paramet", "title": "Why Kotlin function with default parameters creates a method with unused parameter", "body": "<p>See this example code in Kotlin:</p>\n\n<pre><code>fun foo(bar: Int = 0, baz: Int) {\n    /* ... */\n}\n</code></pre>\n\n<p>After decompiling it to Java code (Tools -> Kotlin -> Show Kotlin Bytecode -> Decompile) I got the following code</p>\n\n<pre><code>public static final void foo(int bar, int baz) {\n}\n\n// $FF: synthetic method\n// $FF: bridge method\npublic static void foo$default(int var0, int var1, int var2, Object var3) {\n  if ((var2 &amp; 1) != 0) {\n     var0 = 0;\n  }\n\n  foo(var0, var1);\n}\n</code></pre>\n\n<p>I noticed that the resulting Java method has an unused <code>Object var3</code> parameter. </p>\n\n<p>I kind of thought that it may be related to functions in a class but when decompiling this code</p>\n\n<pre><code>class Foo {\n    fun foo(bar: Int = 0, baz: Int) {\n        /* ... */\n    }\n}\n</code></pre>\n\n<p>I got this code</p>\n\n<pre><code>public final class Foo {\n   public final void foo(int bar, int baz) {\n   }\n\n   // $FF: synthetic method\n   // $FF: bridge method\n   public static void foo$default(Foo var0, int var1, int var2, int var3, Object var4) {\n      if ((var3 &amp; 1) != 0) {\n         var1 = 0;\n      }\n\n      var0.foo(var1, var2);\n   }\n}\n</code></pre>\n\n<p>As you can see the <code>Object</code> parameter is still unused and just sits there. \nUpon additional tests I noticed the same behavior for extension methods. The same goes when the default parameter is last (i.e. <code>fun foo(bar: Int, baz: Int = 0) {}</code>)</p>\n\n<p>I've also done a basic test to check what is that value set to when calling that function using the code below</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    foo(baz = 2)\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>class Something {\n    init {\n        foo(baz = 2)\n    }\n}\n</code></pre>\n\n<p>After decompiling it I got the following code</p>\n\n<pre><code>public static final void main(@NotNull String[] args) {\n      Intrinsics.checkParameterIsNotNull(args, \"args\");\n      foo$default(0, 2, 1, (Object)null);\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>public final class Something {\n   public Something() {\n      FooKt.foo$default(0, 2, 1, (Object)null);\n   }\n}\n</code></pre>\n\n<p>Which makes even less sense whatsoever. </p>\n\n<p>My question is: Why does Kotlin generate an unused parameter for functions with default parameters? Is it a bug? </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1504489743, "post_id": 46024595, "comment_id": 79018665, "body": "Thankfully, there isn&#39;t."}], "answers": [{"tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": true, "score": 1, "last_activity_date": 1504594423, "creation_date": 1504594423, "answer_id": 46048669, "question_id": 46024595, "link": "https://stackoverflow.com/questions/46024595/local-function-access-parent-variables-with-same-name/46048669#46048669", "title": "Local Function access parent variables with same name", "body": "<p>From a <code>bytecode</code>'s point of view, this would be possible, because the variables of <code>outerFunction</code> are just fields in the <code>localFunction</code>'s inner class (in the bytecode), to they would be accessible.</p>\n\n<pre><code>// decompiled localFunction\nimplements Function1&lt;Integer, Unit&gt; {\n    final /* synthetic */ int $b;\n\n    public final void invoke(int a) {\n        System.out.print(a);\n        int n = this.$b;\n        System.out.print(n);\n    }\n    ...\n}\n</code></pre>\n\n<p>Luckily, kotlin doesn't support's this, because that just will generate ambiguity for the programmer and is error prone.</p>\n\n<p>So avoid using the same name for variables which are already used somewhere in an outer-scope</p>\n"}], "owner": {"reputation": 8922, "user_id": 887835, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/727fa5c34573207db5bad5480da311e3?s=128&d=identicon&r=PG", "display_name": "Youssef", "link": "https://stackoverflow.com/users/887835/youssef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 46048669, "answer_count": 1, "score": 1, "last_activity_date": 1504594423, "creation_date": 1504450026, "question_id": 46024595, "link": "https://stackoverflow.com/questions/46024595/local-function-access-parent-variables-with-same-name", "title": "Local Function access parent variables with same name", "body": "<p>this is more of a curiosity question that came up during my presentation on kotlin</p>\n\n<p>I am using a local function, and it has same parameter name as its parent.</p>\n\n<p>Look at this example:</p>\n\n<pre><code>fun outerFunction(a: Int, b:Int) {\n\n    fun localFunction(a: Int) {\n        print(a) //local a\n        print(b) //parent b\n        print(???) //parent a?\n    }\n\n}\n</code></pre>\n\n<p>inside the local Function, I'm printing the local a, the parent b, and is there any way to print the parent a?</p>\n"}, {"tags": ["java", "kotlin", "default-arguments"], "answers": [{"tags": [], "owner": {"reputation": 3827, "user_id": 743716, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/Okvki.png?s=128&g=1", "display_name": "Rafal G.", "link": "https://stackoverflow.com/users/743716/rafal-g"}, "is_accepted": false, "score": 3, "last_activity_date": 1504446073, "creation_date": 1504446073, "answer_id": 46024002, "question_id": 46023983, "link": "https://stackoverflow.com/questions/46023983/how-default-argument-and-jvmoverloads-work-on-kotlin/46024002#46024002", "title": "How Default argument and @JvmOverloads work on Kotlin?", "body": "<p>From the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-overloads/\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>Instructs the Kotlin compiler to generate overloads for this function\n  that substitute default parameter values.</p>\n  \n  <p>If a method has N parameters and M of which have default values, M\n  overloads are generated: the first one takes N-1 parameters (all but\n  the last one that takes a default value), the second takes N-2\n  parameters, and so on.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": false, "score": 1, "last_activity_date": 1504446348, "creation_date": 1504446348, "answer_id": 46024058, "question_id": 46023983, "link": "https://stackoverflow.com/questions/46023983/how-default-argument-and-jvmoverloads-work-on-kotlin/46024058#46024058", "title": "How Default argument and @JvmOverloads work on Kotlin?", "body": "<p>When you have a function with default parameters Kotlin generates a synthetic function with the parameters as required and a additional <code>Int</code> as the last parameters and does some bit manipulation</p>\n\n<p>Example Kotlin function:</p>\n\n<pre><code>fun lotsOfParameters(a: String = \"Default\",\n                     b: Byte = 2,\n                     c: Char = 'p',\n                     d: Boolean = false,\n                     e: Any = true,\n                     f: Int = 2) {\n}\n</code></pre>\n\n<p>Compiled Java code:</p>\n\n<pre><code>public static final void lotsOfParameters(@NotNull String a, byte b, char c, boolean d, @NotNull Object e, int f) {\n  Intrinsics.checkParameterIsNotNull(a, \"a\");\n  Intrinsics.checkParameterIsNotNull(e, \"e\");\n}\n\n// $FF: synthetic method\n// $FF: bridge method\npublic static void lotsOfParameters$default(String var0, byte var1, char var2, boolean var3, Object var4, int var5, int var6, Object var7) {\n  if ((var6 &amp; 1) != 0) {\n     var0 = \"Default\";\n  }\n\n  if ((var6 &amp; 2) != 0) {\n     var1 = 2;\n  }\n\n  if ((var6 &amp; 4) != 0) {\n     var2 = 'p';\n  }\n\n  if ((var6 &amp; 8) != 0) {\n     var3 = false;\n  }\n\n  if ((var6 &amp; 16) != 0) {\n     var4 = true;\n  }\n\n  if ((var6 &amp; 32) != 0) {\n     var5 = 2;\n  }\n\n  lotsOfParameters(var0, var1, var2, var3, var4, var5);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 5, "last_activity_date": 1504446424, "creation_date": 1504446424, "answer_id": 46024067, "question_id": 46023983, "link": "https://stackoverflow.com/questions/46023983/how-default-argument-and-jvmoverloads-work-on-kotlin/46024067#46024067", "title": "How Default argument and @JvmOverloads work on Kotlin?", "body": "<p>There won't be 2^N overloads generated. As said in the <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#overloads-generation\" rel=\"noreferrer\">docs</a>,</p>\n\n<blockquote>\n  <p>For every parameter with a default value, this will generate one additional overload, which has this parameter and all parameters to the right of it in the parameter list removed. </p>\n</blockquote>\n\n<p>For a function with default parameters, say, </p>\n\n<pre><code> fun foo(bar: Int = 1, baz: Int = 2, qux: Int = 3) { /*...*/ }\n</code></pre>\n\n<p>it will generate overloads</p>\n\n<pre><code> foo()\n foo(bar)\n foo(bar, baz)\n foo(bar, baz, qux)\n</code></pre>\n"}], "owner": {"reputation": 7773, "user_id": 1025935, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/NPYjX.jpg?s=128&g=1", "display_name": "UmAnusorn", "link": "https://stackoverflow.com/users/1025935/umanusorn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2082, "favorite_count": 0, "accepted_answer_id": 46024067, "answer_count": 3, "score": 2, "last_activity_date": 1504446569, "creation_date": 1504445905, "last_edit_date": 1504446569, "question_id": 46023983, "link": "https://stackoverflow.com/questions/46023983/how-default-argument-and-jvmoverloads-work-on-kotlin", "title": "How Default argument and @JvmOverloads work on Kotlin?", "body": "<p>When we created fun with Kotlin like this</p>\n\n<pre><code>fun foo(bar: Int = 0, baz: Int) { /* ... */ }\n\nfoo(baz = 1) // The default value bar = 0 is used\n</code></pre>\n\n<p>So in java we need to write it this way\nE.g.</p>\n\n<p>don't need to write</p>\n\n<pre><code>void foo(int bar, int baz){\n...\n}\n\nvoid foo(int baz){\nfoo(0,baz);\n}\n</code></pre>\n\n<p>Let's imagine if we have 10+ params. I wonder how Kotlin handle this. Will Kotlin generate all possible methods? Or it just generate the method that programmer really use?</p>\n"}, {"tags": ["java", "kotlin", "default-arguments"], "comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 2, "creation_date": 1504490074, "post_id": 46023784, "comment_id": 79018712, "body": "This is a Kotlin-flavoured version of <a href=\"https://stackoverflow.com/q/997482/3195526\">this question</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7773, "user_id": 1025935, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/NPYjX.jpg?s=128&g=1", "display_name": "UmAnusorn", "link": "https://stackoverflow.com/users/1025935/umanusorn"}, "edited": false, "score": 0, "creation_date": 1504445147, "post_id": 46023829, "comment_id": 79007115, "body": "Nice answer but what if you have 10+ params. That&#39;s gonna be so many methods."}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1504445240, "post_id": 46023829, "comment_id": 79007146, "body": "I am not sure, but I think that if you look into decompiled kotlin code, you will see exactly this as (imo) is how kotlin handles default parameters in bytecode."}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 7773, "user_id": 1025935, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/NPYjX.jpg?s=128&g=1", "display_name": "UmAnusorn", "link": "https://stackoverflow.com/users/1025935/umanusorn"}, "edited": false, "score": 1, "creation_date": 1504445267, "post_id": 46023829, "comment_id": 79007155, "body": "@umitems IMO if you have that many params you should try to refactor the method"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 1, "creation_date": 1504445350, "post_id": 46023829, "comment_id": 79007184, "body": "@Maro\u0161\u0160eleng Kotlin does not generate code like this. It generates a normal method with all the params and a second one only for Kotlin to use with all the params and a int at the end and basing on the int it uses default params or the supplied ones"}, {"owner": {"reputation": 1038, "user_id": 1496335, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b14ba28202572d07a9c99c30103657bb?s=128&d=identicon&r=PG", "display_name": "urag", "link": "https://stackoverflow.com/users/1496335/urag"}, "edited": false, "score": 0, "creation_date": 1504445468, "post_id": 46023829, "comment_id": 79007224, "body": "I think the difference comes from the language type java is static type and kotlin is dinmaic type that&#39;s the reason you cannot do this in java here is a link about this issue <a href=\"https://stackoverflow.com/questions/1517582/what-is-the-difference-between-statically-typed-and-dynamically-typed-languages\" title=\"what is the difference between statically typed and dynamically typed languages\">stackoverflow.com/questions/1517582/&hellip;</a>"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 2, "creation_date": 1504445534, "post_id": 46023829, "comment_id": 79007243, "body": "@urag Kotlin <i>is</i> statically typed with the only exception being when compiling to JavaScript - then you have a <code>dynamic</code> type (it&#39;s still statically typed, this is used when e.g. you don&#39;t know what type the variable will be)"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "reply_to_user": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1504446027, "post_id": 46023829, "comment_id": 79007385, "body": "@Maro\u0161\u0160eleng I&#39;ve decompiled a Kotlin function in the question and got <a href=\"https://pastebin.com/7PCE7HKU\" rel=\"nofollow noreferrer\">this code</a>"}, {"owner": {"reputation": 1145, "user_id": 2872038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y9bqQ.jpg?s=128&g=1", "display_name": "Joshua Jones", "link": "https://stackoverflow.com/users/2872038/joshua-jones"}, "reply_to_user": {"reputation": 7773, "user_id": 1025935, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/NPYjX.jpg?s=128&g=1", "display_name": "UmAnusorn", "link": "https://stackoverflow.com/users/1025935/umanusorn"}, "edited": false, "score": 0, "creation_date": 1504448019, "post_id": 46023829, "comment_id": 79007979, "body": "@umitems a method with 10 parameters needs to be refactored. General practice suggests that your method should require no more than 4 parameters. While this is not a hard rule, a method with too many parameters is very  unwieldy."}, {"owner": {"reputation": 7773, "user_id": 1025935, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/NPYjX.jpg?s=128&g=1", "display_name": "UmAnusorn", "link": "https://stackoverflow.com/users/1025935/umanusorn"}, "reply_to_user": {"reputation": 1145, "user_id": 2872038, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y9bqQ.jpg?s=128&g=1", "display_name": "Joshua Jones", "link": "https://stackoverflow.com/users/2872038/joshua-jones"}, "edited": false, "score": 1, "creation_date": 1504448210, "post_id": 46023829, "comment_id": 79008029, "body": "@jjones As I mentioned that it will be better to written on builder pattern if I written in java. Its the builder for custom dialog."}], "tags": [], "owner": {"reputation": 1038, "user_id": 1496335, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b14ba28202572d07a9c99c30103657bb?s=128&d=identicon&r=PG", "display_name": "urag", "link": "https://stackoverflow.com/users/1496335/urag"}, "is_accepted": true, "score": 3, "last_activity_date": 1504444834, "creation_date": 1504444834, "answer_id": 46023829, "question_id": 46023784, "link": "https://stackoverflow.com/questions/46023784/is-it-possible-for-java-to-create-a-method-overloading-with-default-arguments-li/46023829#46023829", "title": "Is it possible for Java to create a method overloading with default arguments like Kotlin?", "body": "<p>Not really closest thing you have is something like this</p>\n\n<pre><code>void foo(int bar, int baz){\n  ...\n}\n\nvoid foo(int baz){\n    foo(0,baz);\n}\n</code></pre>\n"}], "owner": {"reputation": 7773, "user_id": 1025935, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/NPYjX.jpg?s=128&g=1", "display_name": "UmAnusorn", "link": "https://stackoverflow.com/users/1025935/umanusorn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "closed_date": 1504510608, "accepted_answer_id": 46023829, "answer_count": 1, "score": 0, "last_activity_date": 1504448183, "creation_date": 1504444569, "last_edit_date": 1504448183, "question_id": 46023784, "link": "https://stackoverflow.com/questions/46023784/is-it-possible-for-java-to-create-a-method-overloading-with-default-arguments-li", "closed_reason": "Duplicate", "title": "Is it possible for Java to create a method overloading with default arguments like Kotlin?", "body": "<p>I have method with 10+ parameters actually I should write it with builder pattern. However, I think it will be a mess when converted to Kotlin. I wonder if there is a way to write java that could easily act like Kotlin does?</p>\n\n<p>When we created fun with Kotlin like this</p>\n\n<pre><code>fun foo(bar: Int = 0, baz: Int) { /* ... */ }\n\nfoo(baz = 1) // The default value bar = 0 is used\n</code></pre>\n\n<p>How can we write similar method in java without written every possible?</p>\n\n<p>E.g. </p>\n\n<p>don't need to write</p>\n\n<pre><code>void foo(int bar, int baz){\n...\n}\n\nvoid foo(int baz){\nint bar = 0;\n}\n</code></pre>\n"}, {"tags": ["kotlin", "java-stream"], "answers": [{"tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 6, "last_activity_date": 1504444285, "creation_date": 1504444285, "answer_id": 46023753, "question_id": 46023602, "link": "https://stackoverflow.com/questions/46023602/kotlin-and-parallelstream-toarray/46023753#46023753", "title": "Kotlin and parallelStream toArray", "body": "<p>You can't use an array constructor reference, but every method reference can be expressed using a lambda expression:</p>\n\n<pre><code>.toArray&lt;Person&gt;({length -&gt; arrayOfNulls(length)})\n</code></pre>\n"}], "owner": {"reputation": 7194, "user_id": 2781524, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/93088ac00f4ee4d9d9f4fc22f9294634?s=128&d=identicon&r=PG&f=1", "display_name": "Peheje", "link": "https://stackoverflow.com/users/2781524/peheje"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1590, "favorite_count": 0, "accepted_answer_id": 46023753, "answer_count": 1, "score": 1, "last_activity_date": 1504444285, "creation_date": 1504443189, "question_id": 46023602, "link": "https://stackoverflow.com/questions/46023602/kotlin-and-parallelstream-toarray", "title": "Kotlin and parallelStream toArray", "body": "<p>I think I'm getting sidetracked. I'm trying to utilize the Java parallelStream for performance reasons.</p>\n\n<p>A function <em>Specimen.pick()</em> samples and returns an instance of <em>Specimen</em>. \nI want to parallize this with parallelStream when replacing <em>pool</em>.</p>\n\n<pre><code>var pool: Array&lt;Specimen&gt; = Array(100_000) .. \n</code></pre>\n\n<p>This is what I'm trying to write in Kotlin:</p>\n\n<pre><code>pool = pool.asList().parallelStream().map { Specimen.pick(pool, wheel, r.split()) }.toArray(Specimen::new)\n</code></pre>\n\n<p>Which errors out on <em>::new</em></p>\n\n<p>Instead I have to juggle back and forth between list and array:</p>\n\n<pre><code>pool = pool.asList().parallelStream().map { Specimen.pick(pool, wheel, r.split()) }.collect(Collectors.toList()).toTypedArray()\n</code></pre>\n\n<p>Which works, but seems resource wasteful rather than going directly to Array. If I let IntelliJ try to Kotlinize a Java example of this:</p>\n\n<p>Java:</p>\n\n<pre><code>Person[] men = people.stream()\n                      .filter(p -&gt; p.getGender() == MALE)\n                      .toArray(Person[]::new);\n</code></pre>\n\n<p>IntelliJ transformation:</p>\n\n<pre><code>val men = people.stream()\n            .filter({ p -&gt; p.getGender() === MALE })\n            .toArray(Person[]::new  /* Currently unsupported in Kotlin */)\n</code></pre>\n\n<p>So maybe this is coming for Kotlin? Or is there another better way?</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1504432344, "post_id": 46022111, "comment_id": 79003675, "body": "Can you post a screenshot of your directory layout in IDEA? With the description where you wanted to put that file. My point is that maybe you need to mark that directory as sources root."}, {"owner": {"reputation": 3145, "user_id": 3425744, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e1192a0ea645623baafabe93da6ca038?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Betous", "link": "https://stackoverflow.com/users/3425744/thomas-betous"}, "reply_to_user": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1504435730, "post_id": 46022111, "comment_id": 79004508, "body": "Hi @Maro\u0161\u0160eleng, It is in Source directory. I have a file in the same repository, it is recognized as a kotlin file. I try to create with any other name thant test.kt, it works. My problem is only for the file I deleted."}, {"owner": {"reputation": 6251, "user_id": 1087479, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fd0121a27aac567a20015792fb7cd705?s=128&d=identicon&r=PG", "display_name": "sschrass", "link": "https://stackoverflow.com/users/1087479/sschrass"}, "edited": false, "score": 0, "creation_date": 1504437754, "post_id": 46022111, "comment_id": 79005017, "body": "I would try: File -&gt; invalidate caches / restart."}, {"owner": {"reputation": 3145, "user_id": 3425744, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e1192a0ea645623baafabe93da6ca038?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Betous", "link": "https://stackoverflow.com/users/3425744/thomas-betous"}, "reply_to_user": {"reputation": 6251, "user_id": 1087479, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/fd0121a27aac567a20015792fb7cd705?s=128&d=identicon&r=PG", "display_name": "sschrass", "link": "https://stackoverflow.com/users/1087479/sschrass"}, "edited": false, "score": 1, "creation_date": 1504439324, "post_id": 46022111, "comment_id": 79005484, "body": "Hi @sschrass ! Thanks for your answer, unfortunatly it does not work. I changed my file name for the moment in order not to be blocked by this problem."}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 9, "creation_date": 1504468299, "post_id": 46022111, "comment_id": 79014203, "body": "Is <code>test.kt</code> listed in Preferences &gt; Editor &gt; File Types &gt; Text, under the Registered Patterns? An entry there may override the default Kotlin filetype."}, {"owner": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 0, "creation_date": 1531416875, "post_id": 46022111, "comment_id": 89599619, "body": "Same here, renaming the file correct the pb but renaming the file back and the pb is bask. Weird! Using Intellij 2018.1"}, {"owner": {"reputation": 2214, "user_id": 1199386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/593d4a0e78b2611e6b53c38128b9ae72?s=128&d=identicon&r=PG", "display_name": "cdc", "link": "https://stackoverflow.com/users/1199386/cdc"}, "edited": false, "score": 0, "creation_date": 1536695733, "post_id": 46022111, "comment_id": 91514801, "body": "Same problem, with the name &quot;Given.kt&quot; not recognized as a Kotlin file."}, {"owner": {"reputation": 957, "user_id": 2501333, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18cd174b715cba90515137a97766618c?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/2501333/jerry"}, "reply_to_user": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1544404070, "post_id": 46022111, "comment_id": 94251864, "body": "Had the same problem. Found the file under File Types as Text. Works fine after removing it from the list as per @JKLy suggestion."}], "owner": {"reputation": 3145, "user_id": 3425744, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/e1192a0ea645623baafabe93da6ca038?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas Betous", "link": "https://stackoverflow.com/users/3425744/thomas-betous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1201, "favorite_count": 0, "answer_count": 0, "score": 5, "last_activity_date": 1504436273, "creation_date": 1504431689, "last_edit_date": 1504436273, "question_id": 46022111, "link": "https://stackoverflow.com/questions/46022111/intellij-does-not-recognize-kotlin-file-after-deleting-it-and-recreate-with-the", "title": "IntelliJ does not recognize kotlin file after deleting it and recreate with the same name", "body": "<p>I am currently having a problem with IntelliJ. I am using Kotlin in my project. I have deleted a file (let's say test.kt), and now, I want to create a new file with the same name. IntelliJ does not recognize the kotlin syntaxe and show it as a text file.</p>\n\n<p>When I have deleted I have unchecked \"safe delete\" and \"Search in comment and strings\"</p>\n\n<p>Can anyone help me in this matter ?</p>\n\n<p>Edit : I tried to delete .idea and .iml file, restart intelliJ. It does not change anything.</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 1314, "user_id": 6952632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fe561e3e70b441ad8ca9ce63242620?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitrii Nechepurenko", "link": "https://stackoverflow.com/users/6952632/dmitrii-nechepurenko"}, "edited": false, "score": 0, "creation_date": 1504428878, "post_id": 46021718, "comment_id": 79002939, "body": "Post your gradle log."}, {"owner": {"reputation": 5088, "user_id": 2077479, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/0Wh1v.png?s=128&g=1", "display_name": "Jongz Puangput", "link": "https://stackoverflow.com/users/2077479/jongz-puangput"}, "reply_to_user": {"reputation": 1314, "user_id": 6952632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fe561e3e70b441ad8ca9ce63242620?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitrii Nechepurenko", "link": "https://stackoverflow.com/users/6952632/dmitrii-nechepurenko"}, "edited": false, "score": 0, "creation_date": 1504428950, "post_id": 46021718, "comment_id": 79002956, "body": "where can I get this log @DmitriiNechepurenko where is the log keep"}, {"owner": {"reputation": 1314, "user_id": 6952632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fe561e3e70b441ad8ca9ce63242620?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitrii Nechepurenko", "link": "https://stackoverflow.com/users/6952632/dmitrii-nechepurenko"}, "edited": false, "score": 0, "creation_date": 1504429079, "post_id": 46021718, "comment_id": 79002991, "body": "If you use android studio - right down corner &quot;gradle console&quot;"}, {"owner": {"reputation": 1314, "user_id": 6952632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fe561e3e70b441ad8ca9ce63242620?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitrii Nechepurenko", "link": "https://stackoverflow.com/users/6952632/dmitrii-nechepurenko"}, "edited": false, "score": 0, "creation_date": 1504429092, "post_id": 46021718, "comment_id": 79002994, "body": "Or <a href=\"https://stackoverflow.com/questions/35558637/where-are-gradle-logs\" title=\"where are gradle logs\">stackoverflow.com/questions/35558637/where-are-gradle-logs</a>"}, {"owner": {"reputation": 5088, "user_id": 2077479, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/0Wh1v.png?s=128&g=1", "display_name": "Jongz Puangput", "link": "https://stackoverflow.com/users/2077479/jongz-puangput"}, "reply_to_user": {"reputation": 1314, "user_id": 6952632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fe561e3e70b441ad8ca9ce63242620?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitrii Nechepurenko", "link": "https://stackoverflow.com/users/6952632/dmitrii-nechepurenko"}, "edited": false, "score": 0, "creation_date": 1504429692, "post_id": 46021718, "comment_id": 79003124, "body": "@DmitriiNechepurenko nothing come out when run the command in terminal, only create log file."}, {"owner": {"reputation": 1314, "user_id": 6952632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fe561e3e70b441ad8ca9ce63242620?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitrii Nechepurenko", "link": "https://stackoverflow.com/users/6952632/dmitrii-nechepurenko"}, "edited": false, "score": 0, "creation_date": 1504429821, "post_id": 46021718, "comment_id": 79003143, "body": "Is log file empty? Try &#39;./gradlew build&#39; in terminal"}, {"owner": {"reputation": 5088, "user_id": 2077479, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/0Wh1v.png?s=128&g=1", "display_name": "Jongz Puangput", "link": "https://stackoverflow.com/users/2077479/jongz-puangput"}, "reply_to_user": {"reputation": 1314, "user_id": 6952632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fe561e3e70b441ad8ca9ce63242620?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitrii Nechepurenko", "link": "https://stackoverflow.com/users/6952632/dmitrii-nechepurenko"}, "edited": false, "score": 0, "creation_date": 1504430528, "post_id": 46021718, "comment_id": 79003269, "body": "@DmitriiNechepurenko I edit question, added log"}], "answers": [{"comments": [{"owner": {"reputation": 5088, "user_id": 2077479, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/0Wh1v.png?s=128&g=1", "display_name": "Jongz Puangput", "link": "https://stackoverflow.com/users/2077479/jongz-puangput"}, "edited": false, "score": 0, "creation_date": 1504428866, "post_id": 46021754, "comment_id": 79002936, "body": "still, Error:Execution failed for task &#39;:app:kaptDebugKotlin&#39;. &gt; Internal compiler error. See log for more details"}, {"owner": {"reputation": 1577, "user_id": 4279905, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b94ec276d9ce3164b3490fdc35a39618?s=128&d=identicon&r=PG&f=1", "display_name": "ste9206", "link": "https://stackoverflow.com/users/4279905/ste9206"}, "reply_to_user": {"reputation": 5088, "user_id": 2077479, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/0Wh1v.png?s=128&g=1", "display_name": "Jongz Puangput", "link": "https://stackoverflow.com/users/2077479/jongz-puangput"}, "edited": false, "score": 0, "creation_date": 1504429006, "post_id": 46021754, "comment_id": 79002971, "body": "a question: why you use implementation instead of compile when you declare dependencies?"}, {"owner": {"reputation": 1577, "user_id": 4279905, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b94ec276d9ce3164b3490fdc35a39618?s=128&d=identicon&r=PG&f=1", "display_name": "ste9206", "link": "https://stackoverflow.com/users/4279905/ste9206"}, "reply_to_user": {"reputation": 5088, "user_id": 2077479, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/0Wh1v.png?s=128&g=1", "display_name": "Jongz Puangput", "link": "https://stackoverflow.com/users/2077479/jongz-puangput"}, "edited": false, "score": 0, "creation_date": 1504430925, "post_id": 46021754, "comment_id": 79003356, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/153546/discussion-between-ste9206-and-jongz-puangput\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 1577, "user_id": 4279905, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b94ec276d9ce3164b3490fdc35a39618?s=128&d=identicon&r=PG&f=1", "display_name": "ste9206", "link": "https://stackoverflow.com/users/4279905/ste9206"}, "is_accepted": false, "score": 0, "last_activity_date": 1504430199, "last_edit_date": 1504430199, "creation_date": 1504428688, "answer_id": 46021754, "question_id": 46021718, "link": "https://stackoverflow.com/questions/46021718/unable-to-run-kotlin-with-dagger-2/46021754#46021754", "title": "Unable to run kotlin with dagger 2", "body": "<p>I'm using Dagger2 on Kotlin, try to do this:</p>\n\n<pre><code>@Inject lateinit var sharedPreferences: SharedPreferences\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>@Inject var sharedPreferences: SharedPreferences? = null\n</code></pre>\n\n<p>in this way I've solved also the problem of Butterknife.</p>\n\n<p><strong>EDIT</strong>: open Gradle Console, it could give the error:\n<a href=\"https://i.stack.imgur.com/yu21D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yu21D.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1504472732, "post_id": 46022640, "comment_id": 79015498, "body": "You did not include the full error log. If you&#39;d have scrolled up a bit further you&#39;d have discovered something like here: <a href=\"https://stackoverflow.com/q/44912080/1837367\">stackoverflow.com/q/44912080/1837367</a> In your case Dagger only knew about your implementation <code>App</code> but you were requesting an <code>Application</code>. You could also have solved this by adding <code>: Application</code> as the kotlin return type, or adding <code>@Binds fun bindApp(app: App) : Application</code> to your module"}], "tags": [], "owner": {"reputation": 5088, "user_id": 2077479, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/0Wh1v.png?s=128&g=1", "display_name": "Jongz Puangput", "link": "https://stackoverflow.com/users/2077479/jongz-puangput"}, "is_accepted": true, "score": 0, "last_activity_date": 1504435616, "creation_date": 1504435616, "answer_id": 46022640, "question_id": 46021718, "link": "https://stackoverflow.com/questions/46021718/unable-to-run-kotlin-with-dagger-2/46022640#46022640", "title": "Unable to run kotlin with dagger 2", "body": "<p>Solved by update AppModule</p>\n\n<blockquote>\n  <p>from App (which extend Application) to Application</p>\n</blockquote>\n\n<p><strong>FROM</strong></p>\n\n<pre><code>@Module()\nclass AppModule(val app: App) {\n\n    @Provides\n    @Singleton\n    fun provideApp() = app\n\n}\n</code></pre>\n\n<p><strong>TO</strong></p>\n\n<pre><code>@Module()\nclass AppModule(val app: Application) {\n\n    @Provides\n    @Singleton\n    fun provideApp() = app\n\n}\n</code></pre>\n\n<p>I don't know why, but maybe NetModule.class, some provided method required Application as input parameter, so Dragger may not know that App is extend from Application class, result in fail to resolved injection.</p>\n\n<p>anyone can confirm on this assumption. please confirm.</p>\n"}, {"tags": [], "owner": {"reputation": 7650, "user_id": 6700342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/APGMl.jpg?s=128&g=1", "display_name": "Rahul Sharma", "link": "https://stackoverflow.com/users/6700342/rahul-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1509600057, "creation_date": 1509600057, "answer_id": 47068121, "question_id": 46021718, "link": "https://stackoverflow.com/questions/46021718/unable-to-run-kotlin-with-dagger-2/47068121#47068121", "title": "Unable to run kotlin with dagger 2", "body": "<p>Sometime before I faced the same problem and ruined my 1 day to find the solution for this. And as per my experience I am listing few points below which developer must take in consideration while integrating Dagger2 with android kotlin.</p>\n\n<ol>\n<li>The scope used in <code>Component</code> &amp; <code>Module</code> classes must be same.</li>\n<li><code>apply plugin: 'kotlin-kapt</code> must be in your <code>build.gradle</code> file, without this you are not able to generate <code>DaggerComponent</code> class.</li>\n</ol>\n\n<p>Hope it will help some developers out.</p>\n"}], "owner": {"reputation": 5088, "user_id": 2077479, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/0Wh1v.png?s=128&g=1", "display_name": "Jongz Puangput", "link": "https://stackoverflow.com/users/2077479/jongz-puangput"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 944, "favorite_count": 0, "accepted_answer_id": 46022640, "answer_count": 3, "score": 2, "last_activity_date": 1509600057, "creation_date": 1504428376, "last_edit_date": 1504430508, "question_id": 46021718, "link": "https://stackoverflow.com/questions/46021718/unable-to-run-kotlin-with-dagger-2", "title": "Unable to run kotlin with dagger 2", "body": "<p>I'm new to kotlin and dagger 2. I try to following this <a href=\"https://guides.codepath.com/android/Dependency-Injection-with-Dagger-2#instantiating-the-component\" rel=\"nofollow noreferrer\">guide</a> in Android Java. but error was throw...</p>\n\n<blockquote>\n  <p>Error:Execution failed for task ':app:kaptDebugKotlin'.\n  Internal compiler error. See log for more details</p>\n</blockquote>\n\n<p>What did I do wrong?</p>\n\n<p><strong>Application</strong></p>\n\n<pre><code>class App : Application() {\n\n    val netComponent: NetComponent by lazy {\n        DaggerNetComponent.builder()\n                .appModule(AppModule(this)) // This also corresponds to the name of your module: %component_name%Module\n                .netModule(NetModule(\"https://api.github.com\"))\n                .build()\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n    }\n\n    fun netComponent() : NetComponent = netComponent\n}\n</code></pre>\n\n<p><strong>NetComponent</strong></p>\n\n<pre><code>@Singleton\n@Component(modules= arrayOf(AppModule::class, NetModule::class))\ninterface NetComponent {\n    fun inject(activity: HomeActivity)\n}\n</code></pre>\n\n<p><strong>NetModule</strong></p>\n\n<pre><code>@Module()\nclass NetModule(baseUrl: String) {\n\n    val mBaseUrl: String = baseUrl;\n\n    @Provides\n    @Singleton\n    fun providedSharedPreferences(app: Application): SharedPreferences {\n        return PreferenceManager.getDefaultSharedPreferences(app);\n    }\n\n    @Provides\n    @Singleton\n    fun provideOkHttpCache(app: Application): Cache {\n        val cacheSize = 10 * 1024 * 1024 // 10 MiB\n        return Cache(app.cacheDir, cacheSize.toLong())\n    }\n\n    @Provides\n    @Singleton\n    fun providedGson(): Gson {\n        return GsonBuilder()\n                .excludeFieldsWithoutExposeAnnotation()\n                .create();\n    }\n\n    @Provides\n    @Singleton\n    fun provideOkHttpClient(cache: Cache): OkHttpClient {\n        return OkHttpClient.Builder()\n                .cache(cache)\n                .build();\n    }\n\n    @Provides\n    @Singleton\n    fun provideRetrofit(gson: Gson, okHttpClient: OkHttpClient): Retrofit {\n        return Retrofit.Builder()\n                .addConverterFactory(GsonConverterFactory.create(gson))\n                .baseUrl(mBaseUrl)\n                .client(okHttpClient)\n                .build()\n    }\n\n}\n</code></pre>\n\n<p><strong>AppModule</strong></p>\n\n<pre><code>@Module()\nclass AppModule(val app: App) {\n\n    @Provides\n    @Singleton\n    fun provideApp() = app\n\n}\n</code></pre>\n\n<p><strong>AppComponent</strong></p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(AppModule::class))\ninterface AppComponent {\n\n    fun inject(app: App)\n}\n</code></pre>\n\n<p><strong>Finally, HomeActivity</strong></p>\n\n<pre><code>class HomeActivity : AppCompatActivity() {\n\n    @Inject var sharedPreferences: SharedPreferences? = null;\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_home)\n        (application as App).netComponent.inject(this)\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>It's build failed when I start using @Inject annotation to\n  HomeActivity Class.</p>\n</blockquote>\n\n<p><strong>Gradle App</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-kapt'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion rootProject.ext.compileSdkVersion\n    buildToolsVersion rootProject.ext.buildToolsVersion\n    defaultConfig {\n        applicationId \"com.viinsoft.mobile.app\"\n        minSdkVersion rootProject.ext.minSdkVersion\n        targetSdkVersion rootProject.ext.targetSdkVersion\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    // App's dependencies, including test\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    kapt \"com.google.dagger:dagger-compiler:$dragger\"\n    implementation \"com.google.dagger:dagger:$dragger\"\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation \"com.android.support:design:$supportLibraryVersion\"\n    implementation \"com.android.support.constraint:constraint-layout:$constraintLayout\"\n    implementation \"com.github.bumptech.glide:glide:$glideVersion\"\n    implementation \"com.squareup.retrofit2:retrofit:$retrofit\"\n    implementation \"com.squareup.retrofit2:converter-gson:$retrofit\"\n    implementation \"com.google.code.gson:gson:$gson\"\n    implementation \"com.google.guava:guava:$guavaVersion\"\n    implementation \"com.android.support.test.espresso:espresso-idling-resource:$espressoVersion\"\n\n    // Dependencies for local unit tests\n    testCompile \"junit:junit:$junitVersion\"\n    testCompile \"org.mockito:mockito-all:$mockitoVersion\"\n    testCompile \"org.hamcrest:hamcrest-all:$hamcrestVersion\"\n    testCompile \"org.powermock:powermock-module-junit4:$powerMockito\"\n    testCompile \"org.powermock:powermock-api-mockito:$powerMockito\"\n\n    // Android Testing Support Library's runner and rules\n    androidTestCompile \"com.android.support.test:runner:$runnerVersion\"\n    androidTestCompile \"com.android.support.test:rules:$rulesVersion\"\n\n    // Espresso UI Testing dependencies.\n    androidTestCompile (\"com.android.support.test.espresso:espresso-core:$espressoVersion\", {\n        exclude group: 'com.google.code.findbugs'\n    })\n    androidTestCompile (\"com.android.support.test.espresso:espresso-contrib:$espressoVersion\", {\n        exclude group: 'com.google.code.findbugs'\n    })\n    androidTestCompile (\"com.android.support.test.espresso:espresso-intents:$espressoVersion\", {\n        exclude group: 'com.google.code.findbugs'\n    })\n}\n\nkapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p><strong>Gradle Project</strong></p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.4-3'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-beta4'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\next {\n    // Sdk and tools\n    minSdkVersion = 16\n    targetSdkVersion = 26\n    compileSdkVersion = 26\n    buildToolsVersion = '26.0.1'\n\n    // App dependencies\n    supportLibraryVersion = '26.0.2'\n    constraintLayout = '1.0.2'\n    retrofit = '2.3.0'\n    gson = '2.8.1'\n    glideVersion = '4.0.0'\n    guavaVersion = '23.0-android'\n    dragger = '2.11'\n\n    // Dependencies for local unit tests\n    junitVersion = '4.12'\n    mockitoVersion = '1.10.19'\n    powerMockito = '1.7.1'\n    hamcrestVersion = '1.3'\n\n    // Android Testing Support Library's runner and rules\n    runnerVersion = '1.0.0'\n    rulesVersion = '1.0.0'\n\n    // Espresso UI Testing dependencies.\n    espressoVersion = '3.0.1'\n}\n</code></pre>\n\n<p><strong>EDIT GRADLE LOG</strong> </p>\n\n<pre><code>* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:kaptDebugKotlin'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\n        at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:63)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n        at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n        at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n        at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:248)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:241)\n        at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:230)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\n        at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: org.gradle.api.GradleException: Internal compiler error. See log for more details\n        at org.jetbrains.kotlin.gradle.tasks.TasksUtilsKt.throwGradleExceptionIfError(tasksUtils.kt:9)\n        at org.jetbrains.kotlin.gradle.internal.KaptTask.compile(KaptTask.kt:71)\n        at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.doExecute(DefaultTaskClassInfoStore.java:141)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\n        at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\n        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:731)\n        at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:705)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n        at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n        ... 27 more\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-animation"], "comments": [{"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1504417727, "post_id": 46020666, "comment_id": 79000875, "body": "How are you doing the rotation animation?  Depending on what you&#39;re using to do that, you&#39;ll get different answers.  If you&#39;re doing it by matrix, you can translate origin to the point you want as the pivot before applying the rotation matrix."}, {"owner": {"reputation": 25, "user_id": 8019516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Cf1R.jpg?s=128&g=1", "display_name": "Ebin Chandy", "link": "https://stackoverflow.com/users/8019516/ebin-chandy"}, "reply_to_user": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 0, "creation_date": 1504418760, "post_id": 46020666, "comment_id": 79001049, "body": "I haven&#39;t tried using matrix.  Now i will do that. I have used the xml to do rotation"}], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 8019516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Cf1R.jpg?s=128&g=1", "display_name": "Ebin Chandy", "link": "https://stackoverflow.com/users/8019516/ebin-chandy"}, "is_accepted": true, "score": 0, "last_activity_date": 1504533400, "creation_date": 1504533400, "answer_id": 46038611, "question_id": 46020666, "link": "https://stackoverflow.com/questions/46020666/how-to-set-dynamic-pivots-for-rotate-animation/46038611#46038611", "title": "How to set dynamic pivots for rotate animation", "body": "<p>Got the answer.  done it by doing like this</p>\n\n<pre><code>var screenH=Resources.getSystem().getDisplayMetrics().heightPixels\nvar screenH=Resources.getSystem().getDisplayMetrics().widthPixels\n\nvar x= (\"x value of your pivot)/screenW\n\nvar y= (\"y value of your pivot)/screenH\n\nvar rotateAnim=RotateAnimation(0.0f , 20.0f , Animation.RELATIVE_TO_PARENT , x , \nAnimation.RELATIVE_TO_PARENT , y)\n\nrotateAnim.setDuration(1000)\nrotateAnim.setFillAfter(true)\n\nview.startAnimation(rotateAnim)\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 8019516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Cf1R.jpg?s=128&g=1", "display_name": "Ebin Chandy", "link": "https://stackoverflow.com/users/8019516/ebin-chandy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 776, "favorite_count": 0, "accepted_answer_id": 46038611, "answer_count": 1, "score": 0, "last_activity_date": 1504533400, "creation_date": 1504417558, "last_edit_date": 1504420575, "question_id": 46020666, "link": "https://stackoverflow.com/questions/46020666/how-to-set-dynamic-pivots-for-rotate-animation", "title": "How to set dynamic pivots for rotate animation", "body": "<p>I have an image. I need it to rotate by a small angle pivoted on its lower left corner. This animation works when i tap screen. The image appears there and rotates.  But for different positions , the pivot is constant. How can i dynamically set pivot for each case programmatically?</p>\n\n<pre><code>?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:shareInterpolator=\"false\"&gt;\n    &lt;rotate\n        android:duration=\"500\"\n        android:interpolator=\"@android:anim/linear_interpolator\"\n        android:pivotY=\"100%\"\n        android:pivotX=\"0%\"\n        android:repeatCount=\"0\"\n        android:toDegrees=\"10\"/&gt;\n&lt;/set&gt;\n</code></pre>\n\n<p>Is there any way we give the pivots value with the value we <code>getX()</code> and <code>getY()</code> ?</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "meetup"], "answers": [{"comments": [{"owner": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "edited": false, "score": 0, "creation_date": 1504412338, "post_id": 46016630, "comment_id": 79000128, "body": "Thanks for you reply! Turns out meetup support query string parameters. So I have updated my Login interface to be getAccessToken(@Query(&quot;client_id&quot;) clientId: String,                        @Query(&quot;client_secret&quot;) clientSecret: String,                        @Query(&quot;grant_type&quot;) grantType: String,                        @Query(&quot;redirect_uri&quot;) redirect: String,                        @Query(&quot;code&quot;) code: String): Call&lt;AccessToken&gt; and it worked! :D"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 0, "last_activity_date": 1504374939, "creation_date": 1504374939, "answer_id": 46016630, "question_id": 46016569, "link": "https://stackoverflow.com/questions/46016569/trouble-getting-meetup-apis-access-token-with-retrofit-android/46016630#46016630", "title": "Trouble getting Meetup APIs Access Token with Retrofit - Android", "body": "<p>Using the <code>@Body</code> annotation means it will use the registered <code>Converter</code> to serialize the body, so it is not sending it as the documentation describes it, but as a JSON object encoded through GSON.</p>\n\n<p>You need to use the \"form-encoded\" method to send the data, look for the \"form encoded and multipart\" section of the retrofit documentation.</p>\n"}], "owner": {"reputation": 1166, "user_id": 2544048, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/Vz0gc.jpg?s=128&g=1", "display_name": "DrkStr", "link": "https://stackoverflow.com/users/2544048/drkstr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 365, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504407812, "creation_date": 1504374520, "last_edit_date": 1504407812, "question_id": 46016569, "link": "https://stackoverflow.com/questions/46016569/trouble-getting-meetup-apis-access-token-with-retrofit-android", "title": "Trouble getting Meetup APIs Access Token with Retrofit - Android", "body": "<p>I am trying to implement OAuth 2 authentication for the <a href=\"https://www.meetup.com/meetup_api/auth/#oauth2\" rel=\"nofollow noreferrer\">Meetup API</a> using retrofit. I have the Authorization code but I am having trouble getting the Access Token. Here is all the relevant bits of code: </p>\n\n<p>My onResume method: </p>\n\n<pre><code>override fun onResume() {\n    super.onResume()\n\n    // the intent filter defined in AndroidManifest will handle the return from ACTION_VIEW intent\n    val uri = intent.data\n    if (uri != null &amp;&amp; uri.toString().startsWith(CALL_BACK)) {\n        val code = uri.getQueryParameter(\"code\")\n        if (code != null) {\n            // get access token\n            // we'll do that in a minute\n            //\"authorize code: $code\".show(this)\n            Log.i(\"Rakshak\",\"Code: $code\") // The Authorization Code is printed\n\n            val loginService = ServiceGenerator.createService(LoginService::class.java)\n            //var request = RequestBody(CLIENT_ID,CLIENT_SECRET,\"authorization_code\",CALL_BACK,code)\n            val requestBody = \"client_id=$CLIENT_ID\"+\n                              \"&amp;client_secret=$CLIENT_SECRET\"+\n                              \"&amp;grant_type=authorization_code\"+\n                              \"&amp;redirect_uri=$CALL_BACK+\" +\n                              \"&amp;code=$code\"\n\n            val call = loginService.getAccessToken(requestBody)\n            //val accessToken = call.execute().body()\n\n            call.enqueue(object : retrofit2.Callback&lt;AccessToken&gt;{\n                override fun onResponse(call: Call&lt;AccessToken&gt;?, response: Response&lt;AccessToken&gt;?) {\n                    Log.i(\"Rakshak\",\"Response:  ${response.toString()}\") // Prints: \"Response{protocol=h2, code=400, message=, url=https://secure.meetup.com/oauth2/access}\"\n                    Log.i(\"Rakshak\",\"Access token: ${response?.body()?.accessToken}\")// Prints: \"Access token: null\"\n                }\n\n                override fun onFailure(call: Call&lt;AccessToken&gt;?, t: Throwable?) {\n                    Log.i(\"Rakshak\",\"Didn't work. ${t?.localizedMessage}\")\n\n                }\n\n            })\n\n        } else if (uri.getQueryParameter(\"error\") != null) {\n            // show an error message here\n            \"Didn't work. Code: $code\".show(this)\n        }\n    }\n}\n</code></pre>\n\n<p>Login Service interface: </p>\n\n<pre><code>interface LoginService {\n@FormUrlEncoded\n@POST(\"https://secure.meetup.com/oauth2/access\")\nfun getAccessToken(@Field(\"body\") requestBody: String): Call&lt;AccessToken&gt;\n</code></pre>\n\n<p>}</p>\n\n<p>RequestBody class: </p>\n\n<pre><code>data class RequestBody(\n    var client_id:String,\n    var client_secret: String,\n    var grant_type: String,\n    var redirect_uri: String,\n    var code: String)\n</code></pre>\n\n<p>Relevant methods from the service generator class:</p>\n\n<pre><code>private val API_BASE_URL = \"https://secure.meetup.com/oauth2/access/\"\n\nprivate val httpClient = OkHttpClient.Builder()\n\nprivate val builder = Retrofit.Builder()\n        .baseUrl(API_BASE_URL)\n        .addConverterFactory(GsonConverterFactory.create())\n\nprivate var retrofit = builder.build()\n\nfun &lt;S&gt; createService(serviceClass: Class&lt;S&gt;): S {\n    return retrofit.create(serviceClass);\n}\n</code></pre>\n\n<p>Why does the response to the access token POST give me a 400 response instead of a JSON with a access token like it desribes <a href=\"https://www.meetup.com/meetup_api/auth/#oauth2server-access\" rel=\"nofollow noreferrer\" title=\"here\">here</a>? What am I missing ? </p>\n"}, {"tags": ["jpa", "spring-data-jpa", "kotlin"], "owner": {"reputation": 3549, "user_id": 59724, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/50954aec029a724824dca5a32a1c00fa?s=128&d=identicon&r=PG", "display_name": "Graham", "link": "https://stackoverflow.com/users/59724/graham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 275, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1504369424, "creation_date": 1504369424, "question_id": 46015830, "link": "https://stackoverflow.com/questions/46015830/jpa-spring-data-and-kotlin-saving-records", "title": "JPA, Spring Data and Kotlin - Saving Records", "body": "<p>Historically, I've done my data access in Kotlin manually and had a specific data structure that I always used:</p>\n\n<pre><code>interface Id {\n  val id: Int\n}\n\ndata class Identity&lt;ID : Id&gt;(\n  id: ID,\n  version: Int\n)\n\ndata class Model&lt;ID : Id, DATA&gt;(\n  identity: Identity&lt;ID&gt;,\n  data: DATA\n)\n</code></pre>\n\n<p>By doing this, I can then have DAOs that look like this:</p>\n\n<pre><code>fun getUserById(id: UserId) : Model&lt;UserId, UserData&gt;()\n\nfun createUser(user: UserData) : Model&lt;UserId, UserData&gt;()\n</code></pre>\n\n<p>This has generally worked well, but means that writing and testing the DAOs is more time consuming.</p>\n\n<p>For an upcoming project, I was considering doing it with Spring Data JPA - so I can write my models as JPA Entities and have Spring Data do all of the heavy lifting of actually working with them.</p>\n\n<p>The problem is - I can't work out an easy way of working with data like above. The best I've been able to see so far is to have:</p>\n\n<ul>\n<li>The entity store the ID as a native type, and have manual getters to convert it to a rich type</li>\n<li>Default interface methods that take the rich type and delegate to the version with the native type</li>\n<li>Entity objects that have a nullable ID and Version column, which means that on reading them back I've always got to put them through null checks.</li>\n</ul>\n\n<p>Essentially like this: (Note - this is untested)</p>\n\n<pre><code>@Entity\n@Table(name = \"users\")\ndata class User(\n  @Id \n  @Column(name = \"user_id\") \n  @GeneratedValue(strategy = GenerationType.SEQUENCE)\n  private val rawId: Int? = null,\n\n  @Version\n  val version: Int? = null,\n\n  val name: String,\n\n  val email: String,\n\n  val enabled: Boolean\n) {\n  val id: UserId?\n    get() = rawId?.let { UserId(it) }\n}\n\ninterface UserRepository : CrudRepository&lt;User, Int&gt; {\n  fun findOne(id: UserId) = findOne(id.id)\n}\n</code></pre>\n\n<p>The first two of these I can cope with - it's a pain but far from the end of the world. The third of these is more of a concern, because it puts me in a situation where I <em>know</em> the values can never be null but I still need to treat them as if they are every time I access either of them.</p>\n\n<p>Is there some way of setting up JPA and Spring Data to allow me to have this kind of set up working correctly?</p>\n\n<p>Cheers</p>\n"}, {"tags": ["java", "intellij-idea", "kotlin", "intellij-plugin"], "comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 2, "creation_date": 1504379471, "post_id": 46015365, "comment_id": 78994383, "body": "Kotlin has a <a href=\"https://github.com/JetBrains/kotlin/tree/master/compiler/frontend/src/org/jetbrains/kotlin/psi\" rel=\"nofollow noreferrer\">intermediate code representation</a> but it doesn&#39;t seem like you can execute it"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 2, "creation_date": 1504390021, "post_id": 46015365, "comment_id": 78997037, "body": "<a href=\"http://kotlinlang.org/docs/reference/whatsnew11.html#javaxscript-support\" rel=\"nofollow noreferrer\">Kotlin docs</a> have a more detailed example pointing to <a href=\"https://github.com/JetBrains/kotlin/tree/master/libraries/examples/kotlin-jsr223-local-example\" rel=\"nofollow noreferrer\">github</a>. Inside the <a href=\"https://github.com/JetBrains/kotlin/blob/master/libraries/examples/kotlin-jsr223-local-example/pom.xml#L30-L39\" rel=\"nofollow noreferrer\">pom file</a> we can see that it depends on <code>kotlin-compiler</code> and <code>kotlin-script-util</code>. Make sure you have those in your pom as well and then retry using the scripting engine"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 2, "creation_date": 1504391405, "post_id": 46015365, "comment_id": 78997298, "body": "Also, see <a href=\"https://discuss.kotlinlang.org/t/embedding-kotlin-as-scripting-language-in-java-apps/2211/9?u=mibac138\" rel=\"nofollow noreferrer\">this</a> post if you haven&#39;t already"}], "owner": {"reputation": 13167, "user_id": 399457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a6ed435a024926ffb41d1ad84b3b1f5?s=128&d=identicon&r=PG", "display_name": "Mentiflectax", "link": "https://stackoverflow.com/users/399457/mentiflectax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 247, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1504371577, "creation_date": 1504366347, "last_edit_date": 1504371577, "question_id": 46015365, "link": "https://stackoverflow.com/questions/46015365/how-to-execute-kotlin-code-in-an-intellij-plugin", "title": "How to execute Kotlin code in an IntelliJ plugin?", "body": "<p>I want to build an IntelliJ Idea plugin, which</p>\n\n<ul>\n<li>detects that a certain Kotlin class appears in a source code file (e. g. <code>SomeGraph</code>) and</li>\n<li>if there such class, executes the code and displays the result in a side pane.</li>\n</ul>\n\n<p>The Kotlin code as a low-end DSL.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0Y9aB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Y9aB.png\" alt=\"Mockup\"></a></p>\n\n<p>For example, let's say I have the following piece of code:</p>\n\n<pre><code>val vertex1 = GraphElement()\nval vertex2 = GraphElement()\n\nfun main(args : Array&lt;String&gt;) {\n  val myGraph = SomeGraph()\n  // Initialize graph, add data to it\n  myGraph.addEdge(vertex1, vertex2)\n\n  // Now myGraph.toDot() will return a Graphviz dot diagram in text form\n}\n</code></pre>\n\n<p><code>myGraph.toDot()</code> will return the code of a <a href=\"https://en.wikipedia.org/wiki/DOT_(graph_description_language)\" rel=\"nofollow noreferrer\">Graphviz Dot</a> graph (<code>digraph G {...</code>).</p>\n\n<p>My plugin needs to take this text, let Dot render the graph and display the graph.</p>\n\n<p>Is it technically possible? If yes, how can I execute a piece of Kotlin code from inside an IntelliJ plugin?</p>\n\n<p>Notes:</p>\n\n<ol>\n<li>The DSL file doesn't need to have a <code>main</code> function. If it would make things easier, I could change the place where <code>SomeGraph</code> is created.</li>\n</ol>\n\n<p>E. g. this would be a perfectly fine alternative to the DSL code above:</p>\n\n<pre><code>class SpecialCaseGraph : SomeGraph() {\n  fun init() {\n    val vertex1 = GraphElement()\n    val vertex2 = GraphElement()\n    myGraph.addEdge(vertex1, vertex2)\n  }\n  fun toDot():String {\n    // Returns the Dot representation of the graph\n  }\n}\n</code></pre>\n\n<ol start=\"2\">\n<li>The <a href=\"https://plugins.jetbrains.com/plugin/7017-plantuml-integration\" rel=\"nofollow noreferrer\">PlantUML</a> plugin does something similar. The only difference to what I want to do is that the diagram must be generated based on the code being displayed (as opposed to PlantUML, which converts diagram descripiton language into Dot code).</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/tjH5a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tjH5a.png\" alt=\"Image showing the difference to PlantUML\"></a></p>\n\n<p><strong>Update 1 (02.09.2017 19:53 MSK):</strong></p>\n\n<p>Tried to get the <code>ScriptEngine</code> for Kotlin using the following code snipped from <a href=\"https://discuss.kotlinlang.org/t/embedding-kotlin-as-scripting-language-in-java-apps/2211/6\" rel=\"nofollow noreferrer\">Kotlin forum</a>.</p>\n\n<pre><code>ScriptEngineManager mgr = new ScriptEngineManager();\n\n  List&lt;ScriptEngineFactory&gt; factories = mgr.getEngineFactories();\n\n  for (ScriptEngineFactory factory : factories) {\n\n      System.out.println(\"ScriptEngineFactory Info\");\n\n      String engName = factory.getEngineName();\n      String engVersion = factory.getEngineVersion();\n      String langName = factory.getLanguageName();\n      String langVersion = factory.getLanguageVersion();\n\n      System.out.printf(\"\\tScript Engine: %s (%s)%n\", engName, engVersion);\n\n      List&lt;String&gt; engNames = factory.getNames();\n      for(String name : engNames) {\n          System.out.printf(\"\\tEngine Alias: %s%n\", name);\n      }\n\n      System.out.printf(\"\\tLanguage: %s (%s)%n\", langName, langVersion);\n\n  }\n</code></pre>\n\n<p>Unfortunately, there is no Kotlin engine, when I execute this code.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ejwcq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ejwcq.png\" alt=\"Screenshot showing the scripting engines available in my plugin\"></a></p>\n"}, {"tags": ["android", "if-statement", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "is_accepted": false, "score": 3, "last_activity_date": 1504359598, "last_edit_date": 1504359598, "creation_date": 1504356094, "answer_id": 46013917, "question_id": 46013868, "link": "https://stackoverflow.com/questions/46013868/kotlin-switch-statement-with-more-than-two-variables/46013917#46013917", "title": "Kotlin switch-statement with more than two variables?", "body": "<p>Use the <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#when-expression\" rel=\"nofollow noreferrer\">when expression</a>: </p>\n\n<pre><code>when (getCount()) {\n   0 -&gt; return \"a\"\n   1 -&gt; return \"b\"\n   2 -&gt; return \"c\"\n   else -&gt; return \"\" \n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>return when (getCount()) {\n   0 -&gt; \"a\"\n   // etc\n   else -&gt; \"\"\n}\n</code></pre>\n\n<p>or </p>\n\n<pre><code>when (getCount()) {\n\n   0 -&gt; {\n   // do something here\n   }\n   // etc.\n   else -&gt; {}\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 941, "user_id": 1465013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587a2b7a233238f84feb6fd22c7d869?s=128&d=identicon&r=PG", "display_name": "Ryba", "link": "https://stackoverflow.com/users/1465013/ryba"}, "is_accepted": false, "score": 1, "last_activity_date": 1504538466, "creation_date": 1504538466, "answer_id": 46040075, "question_id": 46013868, "link": "https://stackoverflow.com/questions/46013868/kotlin-switch-statement-with-more-than-two-variables/46040075#46040075", "title": "Kotlin switch-statement with more than two variables?", "body": "<p>I know this isn't what you were really asking but it might actually be easier to have a Paired List and do normal index retrieval instead. For example</p>\n\n<pre><code>class ViewPagerAdapter(fm: FragmentManager) : FragmentPagerAdapter(fm) {\n    private val fragment = listOf(\"Kotlin\" to KotlinListFragment(),\n        \"Java\" to JavaListFragment(),\n        \"Android\" to AndroidFragment())\n\n    override fun getCount() = 3\n    override fun getItem(i: Int) = fragment[i].second()\n    override fun getPageTitle(i: Int) = fragment[i].first()\n}\n</code></pre>\n\n<p>It looks like you control count range but assuming you don't you can also compare the i to the length of the list and if greater then length use the length instead. That should easily handle your \"two variable\" scenario in a fairly manageable way I think.</p>\n"}], "owner": {"reputation": 4681, "user_id": 4077513, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oxQV6.png?s=128&g=1", "display_name": "Martin Erlic", "link": "https://stackoverflow.com/users/4077513/martin-erlic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1243, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1504538466, "creation_date": 1504355805, "question_id": 46013868, "link": "https://stackoverflow.com/questions/46013868/kotlin-switch-statement-with-more-than-two-variables", "title": "Kotlin switch-statement with more than two variables?", "body": "<p>Say I set getCount() = 3, how can I specify which fragment and page title to retrieve for the third item?</p>\n\n<pre><code>class ViewPagerAdapter(fm: FragmentManager) : FragmentPagerAdapter(fm) {\n        override fun getCount() = 3\n        override fun getItem(i: Int) = if (i == 0) KotlinListFragment() else if (i == 1) JavaListFragment() else (i == 2) AndroidFragment()\n        override fun getPageTitle(i: Int) = if (i == 0) \"Kotlin\" else (i == 1) \"Java\" else (i == 2) \"Android\"\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "android-glide"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1504532043, "post_id": 46013255, "comment_id": 79036615, "body": "Don&#39;t store Glide in an Activity field. You can get Glide at use site like so: <code>Glide.with(modelImgPost)</code>."}], "answers": [{"comments": [{"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "reply_to_user": {"reputation": 57, "user_id": 6164583, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DymiUOnZa58/AAAAAAAAAAI/AAAAAAAAEYg/i0SwTZJ3m00/photo.jpg?sz=128", "display_name": "EM Farih", "link": "https://stackoverflow.com/users/6164583/em-farih"}, "edited": false, "score": 0, "creation_date": 1504358155, "post_id": 46013815, "comment_id": 78988359, "body": "@EMFarih Update the code in the question to what you have now."}, {"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "reply_to_user": {"reputation": 57, "user_id": 6164583, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DymiUOnZa58/AAAAAAAAAAI/AAAAAAAAEYg/i0SwTZJ3m00/photo.jpg?sz=128", "display_name": "EM Farih", "link": "https://stackoverflow.com/users/6164583/em-farih"}, "edited": false, "score": 0, "creation_date": 1504360318, "post_id": 46013815, "comment_id": 78989005, "body": "@EMFarih You&#39;ve replaced the if null check with a slightly different null check (let).  You glide object is still null and thus never used to load an image."}, {"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "reply_to_user": {"reputation": 57, "user_id": 6164583, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DymiUOnZa58/AAAAAAAAAAI/AAAAAAAAEYg/i0SwTZJ3m00/photo.jpg?sz=128", "display_name": "EM Farih", "link": "https://stackoverflow.com/users/6164583/em-farih"}, "edited": false, "score": 0, "creation_date": 1504360811, "post_id": 46013815, "comment_id": 78989122, "body": "Updated my answer."}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1504532115, "post_id": 46013815, "comment_id": 79036652, "body": "@Ascorbin Why not <code>private lateinit var glide: ReuestManager</code> and avoid the null check?"}, {"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "reply_to_user": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1504534297, "post_id": 46013815, "comment_id": 79038033, "body": "@EugenPechanec Would have been possible too of course (and probably the better variant). Just wanted to change his code as little as possible to focus on the actual problem (glide being null)."}], "tags": [], "owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "is_accepted": true, "score": 2, "last_activity_date": 1504379238, "last_edit_date": 1504379238, "creation_date": 1504355524, "answer_id": 46013815, "question_id": 46013255, "link": "https://stackoverflow.com/questions/46013255/image-not-show-at-recyclerview-using-glide/46013815#46013815", "title": "Image not show at Recyclerview using Glide", "body": "<pre><code>if (glide != null) {\n    setmPostImageUrl(glide, model.getmPostImageUrl())\n}\n</code></pre>\n\n<p>Glide is <strong>null</strong> because you never assign / instantiate it. </p>\n\n<p>Replace this line:</p>\n\n<pre><code>private val glide: RequestManager? = null\n</code></pre>\n\n<p>with: </p>\n\n<pre><code>private var glide: RequestManager? = null\n</code></pre>\n\n<p>and in <code>onCreate()</code> do:</p>\n\n<pre><code>glide = Glide.with(this)\n</code></pre>\n"}], "owner": {"reputation": 57, "user_id": 6164583, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DymiUOnZa58/AAAAAAAAAAI/AAAAAAAAEYg/i0SwTZJ3m00/photo.jpg?sz=128", "display_name": "EM Farih", "link": "https://stackoverflow.com/users/6164583/em-farih"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1473, "favorite_count": 0, "accepted_answer_id": 46013815, "answer_count": 1, "score": 2, "last_activity_date": 1504531707, "creation_date": 1504351352, "last_edit_date": 1504531707, "question_id": 46013255, "link": "https://stackoverflow.com/questions/46013255/image-not-show-at-recyclerview-using-glide", "title": "Image not show at Recyclerview using Glide", "body": "<p>I have a list of a post using recyclerview. The list are great, but problem come when I try to add an image at the recyclerview. I'm using Glide to add the images. I have successed adding image using glide at Navigation Drawer, but when i try at Recyclerview it show nothing than the default image i sourced.</p>\n\n<p>This is <strong>my kotlin</strong>,</p>\n\n<pre><code>class InformationListActivity : MainActivity() {\nprivate val glide: RequestManager? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_information_list)\n\n    val toolbar = findViewById&lt;View&gt;(R.id.toolbar) as Toolbar\n    setSupportActionBar(toolbar)\n    supportActionBar!!.setDisplayHomeAsUpEnabled(true)\n    supportActionBar!!.setDisplayShowHomeEnabled(true)\n\n    val user = FirebaseAuth.getInstance().currentUser\n    val uName = user?.displayName\n    val uEmail = user?.email\n    val uPhotoUrl = user?.photoUrl\n    user?.uid\n\n    val navigationView = findViewById&lt;View&gt;(R.id.nav_view) as NavigationView\n    navigationView.setNavigationItemSelectedListener(this)\n    val headerView = navigationView.getHeaderView(0)\n\n    val navName = headerView.findViewById&lt;TextView&gt;(R.id.navName)\n    navName.text = uName\n    val navEmail = headerView.findViewById&lt;TextView&gt;(R.id.navEmail)\n    navEmail.text = uEmail\n    val navImage = headerView.findViewById&lt;ImageView&gt;(R.id.navImage)\n    Glide.with(this).load(uPhotoUrl).into(navImage)\n\n    window.clearFlags(WindowManager.LayoutParams.FLAG_LAYOUT_NO_LIMITS)\n\n    val signOut = findViewById&lt;View&gt;(R.id.btnSignOut) as LinearLayout\n    signOut.setOnClickListener {\n        FirebaseAuth.getInstance().signOut()\n        val goToLogin = Intent(this@InformationListActivity, LoginActivity::class.java)\n        startActivity(goToLogin)\n    }\n\n\n    val recyclerView = findViewById&lt;View&gt;(R.id.recycler_view) as RecyclerView\n    recyclerView.setHasFixedSize(true)\n    recyclerView.layoutManager = LinearLayoutManager(this)\n    val myref = FirebaseDatabase.getInstance().reference.child(\"/posts\")\n    val recyclerAdapter = object : FirebaseRecyclerAdapter&lt;Post, InformationListActivity.PostViewHolder&gt;(\n            Post::class.java,\n            R.layout.information_model,\n            InformationListActivity.PostViewHolder::class.java,\n            myref\n    ) {\n        override fun populateViewHolder(viewHolder: InformationListActivity.PostViewHolder, model: Post, position: Int) {\n            val data_empty = findViewById&lt;View&gt;(R.id.data_empty) as TextView\n            data_empty.visibility = View.GONE\n            viewHolder.run {\n                glide?.let { setmPostImageUrl(it,model.getmPostImageUrl()) }\n                setmPostTitle(model.getmPostTitle())\n                setmPostDescription(model.getmPostDescription())\n                viewHolder.setItemClickListener(object : ItemClickListener {\n                    override fun onItemClick(pos: Int) {\n                        //OPEN DETAIL ACTIVITY\n                        openInformationDetail(model.getmPostImageUrl(), model.getmPostTitle(), model.getmPostDescription())\n                    }\n                })\n            }\n        }\n    }\n    recyclerView.adapter = recyclerAdapter\n}\n\nprivate fun openInformationDetail(vararg details: String) {\n    val i = Intent(this, InformationDetailActivity::class.java)\n    i.putExtra(\"POSTIMAGEURL_KEY\", details[0])\n    i.putExtra(\"POSTTITLE_KEY\", details[1])\n    i.putExtra(\"POSTDESCRIPTION_KEY\", details[2])\n    startActivity(i)\n}\n\nclass PostViewHolder(mView: View) : RecyclerView.ViewHolder(mView), View.OnClickListener {\n    private var modelImgPost: ImageView = mView.findViewById(R.id.imgPost)\n    private var modelPostTitle: TextView = mView.findViewById(R.id.modelPostTitle)\n    private var modelPostDescription: TextView = mView.findViewById(R.id.modelPostDescription)\n    private var btnMore: Button = mView.findViewById(R.id.btnMore)\n    private lateinit var itemClickListener: ItemClickListener\n\n    init {\n        btnMore.setOnClickListener(this)\n    }\n\n    fun setItemClickListener(itemClickListener: ItemClickListener) {\n        this.itemClickListener = itemClickListener\n    }\n\n    override fun onClick(view: View) {\n        this.itemClickListener.onItemClick(this.layoutPosition)\n    }\n\n    fun setmPostImageUrl(glide: RequestManager, mPostImageUrl: String) {\n        glide.load(Uri.parse(mPostImageUrl)).into(modelImgPost)\n    }\n\n    fun setmPostTitle(mPostTitle: String) {\n        modelPostTitle.text = mPostTitle\n    }\n\n    fun setmPostDescription(mPostDescription: String) {\n        modelPostDescription.text = mPostDescription\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "android-emulator", "kotlin"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1504342679, "post_id": 46012093, "comment_id": 78984416, "body": "So the issue is not related to Kotlin and it&#39;s about your Android Emulator not being able to start at all. Google <code>0xc0000005 android emulator</code> to start."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 7838394, "user_type": "registered", "profile_image": "https://graph.facebook.com/161538647703205/picture?type=large", "display_name": "Ziad Saad", "link": "https://stackoverflow.com/users/7838394/ziad-saad"}, "edited": false, "score": 0, "creation_date": 1504345546, "post_id": 46012337, "comment_id": 78985078, "body": "Thats amazing Friend Now and for the first time its running perfectly  Just one more Question i have 8GB RAM on my Pc how much i shall dedicated for the emulator to run smoothly?"}, {"owner": {"reputation": 43, "user_id": 7838394, "user_type": "registered", "profile_image": "https://graph.facebook.com/161538647703205/picture?type=large", "display_name": "Ziad Saad", "link": "https://stackoverflow.com/users/7838394/ziad-saad"}, "edited": false, "score": 0, "creation_date": 1504345647, "post_id": 46012337, "comment_id": 78985104, "body": "its running But i have this error 12:41 PM\tEmulator: init: Could not find wglGetExtensionsStringARB! ???"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8466383"}, "reply_to_user": {"reputation": 43, "user_id": 7838394, "user_type": "registered", "profile_image": "https://graph.facebook.com/161538647703205/picture?type=large", "display_name": "Ziad Saad", "link": "https://stackoverflow.com/users/7838394/ziad-saad"}, "edited": false, "score": 0, "creation_date": 1504345897, "post_id": 46012337, "comment_id": 78985159, "body": "for the last question create the new virtual device and enable the snapshot, unchecke the checkbox Go to AVD Manager -&gt; Select the device -&gt; click Edit and uncheck the Enabled checkbox. If it still doesnot work update your gpu drivers."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8466383"}, "reply_to_user": {"reputation": 43, "user_id": 7838394, "user_type": "registered", "profile_image": "https://graph.facebook.com/161538647703205/picture?type=large", "display_name": "Ziad Saad", "link": "https://stackoverflow.com/users/7838394/ziad-saad"}, "edited": false, "score": 0, "creation_date": 1504347224, "post_id": 46012337, "comment_id": 78985465, "body": "is it working? if yes please dont forget to accept and upvote ;)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8466383"}, "reply_to_user": {"reputation": 43, "user_id": 7838394, "user_type": "registered", "profile_image": "https://graph.facebook.com/161538647703205/picture?type=large", "display_name": "Ziad Saad", "link": "https://stackoverflow.com/users/7838394/ziad-saad"}, "edited": false, "score": 0, "creation_date": 1504347353, "post_id": 46012337, "comment_id": 78985489, "body": "I am afraid you didn`t))"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8466383"}, "reply_to_user": {"reputation": 43, "user_id": 7838394, "user_type": "registered", "profile_image": "https://graph.facebook.com/161538647703205/picture?type=large", "display_name": "Ziad Saad", "link": "https://stackoverflow.com/users/7838394/ziad-saad"}, "edited": false, "score": 0, "creation_date": 1504347411, "post_id": 46012337, "comment_id": 78985499, "body": "Ohh I thing u cannot upvote, if answer is what u wanted just accept it by clicking accpet"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8466383"}, "is_accepted": true, "score": 1, "last_activity_date": 1504344231, "creation_date": 1504344231, "answer_id": 46012337, "question_id": 46012093, "link": "https://stackoverflow.com/questions/46012093/bunch-of-errors-using-kotlin-in-android-studio/46012337#46012337", "title": "bunch of errors using kotlin in android studio", "body": "<p>The problem is with emulated Performance. Put as it is on image. </p>\n\n<p><a href=\"https://i.stack.imgur.com/TwzCd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TwzCd.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 43, "user_id": 7838394, "user_type": "registered", "profile_image": "https://graph.facebook.com/161538647703205/picture?type=large", "display_name": "Ziad Saad", "link": "https://stackoverflow.com/users/7838394/ziad-saad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "accepted_answer_id": 46012337, "answer_count": 1, "score": 0, "last_activity_date": 1504345069, "creation_date": 1504342145, "last_edit_date": 1592644375, "question_id": 46012093, "link": "https://stackoverflow.com/questions/46012093/bunch-of-errors-using-kotlin-in-android-studio", "title": "bunch of errors using kotlin in android studio", "body": "<p>I'm trying to run my android app using Android studio Emulator using Kotlin programming language. It stopped suddenly and gave me few error any help ?</p>\n<p>this is what is give me now at Event log(last 6 line are in Red color)</p>\n<blockquote>\n<p>11:18 AM Gradle sync started</p>\n<p>11:21 AM Project setup started</p>\n<p>11:21 AM Gradle sync finished in 2m 51s 524ms</p>\n<p>11:21 AM Executing tasks: [:app:generateDebugSources, :app:generateDebugAndroidTestSources, :app:mockableAndroidJar]</p>\n<p>11:22 AM Gradle build finished in 37s 164ms</p>\n<p>11:22 AM Configure Kotlin C:/Users/ziadm/ziadsaadApp/build.gradle was modified C:/Users/ziadm/ziadsaadApp/app/build.gradle was modified</p>\n<p>11:22 AM Gradle sync started</p>\n<p>11:23 AM Project setup started</p>\n<p>11:23 AM Gradle sync finished in 10s 332ms</p>\n<p>11:23 AM Executing tasks: [:app:generateDebugSources, :app:generateDebugAndroidTestSources, :app:mockableAndroidJar]</p>\n<p>11:23 AM Gradle build finished in 16s 593ms</p>\n<p>11:24 AM Executing tasks: [:app:assembleDebug]</p>\n<p>11:24 AM Emulator: init: Could not find wglGetExtensionsStringARB!</p>\n<p>11:24 AM Emulator: getGLES2ExtensionString: Could not find GLES 2.x config!</p>\n<p>11:24 AM Emulator: Failed to obtain GLES 2.x extensions string!</p>\n<p>11:24 AM Emulator: emulator: ERROR: Could not initialize OpenglES emulation, use '-gpu off' to disable it.</p>\n<p>11:24 AM Emulator: Process finished with exit code -1073741819 (0xC0000005)</p>\n<p>11:25 AM Gradle build finished in 54s 739ms</p>\n</blockquote>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 28942, "user_id": 398441, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a8950160c2b3d7d0bf948d8c1f937e7f?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/398441/johan"}, "edited": false, "score": 0, "creation_date": 1504339030, "post_id": 46011623, "comment_id": 78983610, "body": "You&#39;re right of course, but my main point is rather about the scope of &quot;myObject&quot; that I only need access to inside the when-statement. I&#39;ve updated the question to hopefully make it clearer."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "reply_to_user": {"reputation": 28942, "user_id": 398441, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a8950160c2b3d7d0bf948d8c1f937e7f?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/398441/johan"}, "edited": false, "score": 0, "creation_date": 1504339211, "post_id": 46011623, "comment_id": 78983649, "body": "@Johan I think this actually answer the question. <code>when</code> is an <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#when-expression\" rel=\"nofollow noreferrer\">expression</a> in Kotlin. You can&#39;t achieve what you want to try according to its <a href=\"https://kotlinlang.org/docs/reference/grammar.html#when\" rel=\"nofollow noreferrer\">syntax</a>."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1504339244, "post_id": 46011623, "comment_id": 78983653, "body": "<i>is there a particular reason for why this shouldn&#39;t be allowed?</i>: yes: it&#39;s not supported by the kotlin compiler. That&#39;s just not how the when expression works."}, {"owner": {"reputation": 28942, "user_id": 398441, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a8950160c2b3d7d0bf948d8c1f937e7f?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/398441/johan"}, "edited": false, "score": 0, "creation_date": 1504339391, "post_id": 46011623, "comment_id": 78983691, "body": "I get it now, sorry for the noise. Maybe I should remove the question?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1504339501, "post_id": 46011623, "comment_id": 78983712, "body": "No, you shouldn&#39;t. It&#39;s been asked and answered. And maybe it&#39;ll help someone else later. No reason to delete it."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "reply_to_user": {"reputation": 28942, "user_id": 398441, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a8950160c2b3d7d0bf948d8c1f937e7f?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/398441/johan"}, "edited": false, "score": 0, "creation_date": 1504339550, "post_id": 46011623, "comment_id": 78983722, "body": "@Johan It may be useful to the others, as long as it is not duplicated."}], "tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 2, "last_activity_date": 1504338411, "creation_date": 1504338411, "answer_id": 46011623, "question_id": 46011565, "link": "https://stackoverflow.com/questions/46011565/use-argument-passed-to-when-in-branch-condition-in-kotlin/46011623#46011623", "title": "Use argument passed to when in branch condition in Kotlin?", "body": "<p>As shown in <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#when-expression\" rel=\"nofollow noreferrer\">the documentation</a>, the proper syntax would be</p>\n\n<pre><code>val myObject = myObjectRepository.findById(myObjectId);\nwhen {\n    matchesSomething(myObject) -&gt; doSomethingWithMyObject(myObject)\n    matchesSomethingElse(myObject) -&gt; doSomethingElseWithMyObject(myObject)\n    else -&gt; log.warn(\"myObject not found, aborting\")\n}\n</code></pre>\n\n<p>Or, to actually match what your first snippet does:</p>\n\n<pre><code>val myObject = myObjectRepository.findById(myObjectId);\nwhen(myObject) {\n    null -&gt; log.warn(\"myObject not found, aborting\");\n    matchesSomething(myObject) -&gt; doSomethingWithMyObject(myObject)\n    matchesSomethingElse(myObject) -&gt; doSomethingElseWithMyObject(myObject) \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 28942, "user_id": 398441, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a8950160c2b3d7d0bf948d8c1f937e7f?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/398441/johan"}, "edited": false, "score": 0, "creation_date": 1504339310, "post_id": 46011676, "comment_id": 78983668, "body": "When looking at the syntax <i>carefully</i> as you implied it does indeed makes sense. Feel kind of ashamed for the noise now."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 28942, "user_id": 398441, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a8950160c2b3d7d0bf948d8c1f937e7f?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/398441/johan"}, "edited": false, "score": 0, "creation_date": 1504339384, "post_id": 46011676, "comment_id": 78983686, "body": "No need to be! Keep coding ;-)"}, {"owner": {"reputation": 28942, "user_id": 398441, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a8950160c2b3d7d0bf948d8c1f937e7f?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/398441/johan"}, "edited": false, "score": 0, "creation_date": 1504339653, "post_id": 46011676, "comment_id": 78983753, "body": "Thanks :) With the risk of embarrassing myself even further I <i>think</i> what I&#39;m after is something like a &quot;when-let&quot; (i.e. something similar to &quot;if let&quot; in Swift but with the semantics of Kotlin&#39;s &quot;when&quot;)."}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1504338907, "creation_date": 1504338907, "answer_id": 46011676, "question_id": 46011565, "link": "https://stackoverflow.com/questions/46011565/use-argument-passed-to-when-in-branch-condition-in-kotlin/46011676#46011676", "title": "Use argument passed to when in branch condition in Kotlin?", "body": "<p>You have to be careful about the syntax. In a <code>while</code> we use an arrow <code>-&gt;</code> which has nothing to do with lambdas. I think this is what you were trying in your example.</p>\n\n<p>The only valid syntax for <code>when</code> is this:</p>\n\n<pre><code>when (x) {\n   1 -&gt; print(\"x == 1\")\n   2 -&gt; print(\"x == 2\")\n   else -&gt; { // Note the block\n       print(\"x is neither 1 nor 2\")\n   }\n</code></pre>\n\n<p>On the left side of the arrow <code>-&gt;</code> you declare what the object (x) is being <strong>matched</strong> against, whereas on the right side you tell what will be executed in that case. Read about this <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#when-expression\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>In your example you tried to chain multiple <code>-&gt;</code> which does not work.</p>\n"}, {"tags": [], "owner": {"reputation": 28942, "user_id": 398441, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a8950160c2b3d7d0bf948d8c1f937e7f?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/398441/johan"}, "is_accepted": false, "score": 0, "last_activity_date": 1569916835, "last_edit_date": 1569916835, "creation_date": 1539328316, "answer_id": 52774191, "question_id": 46011565, "link": "https://stackoverflow.com/questions/46011565/use-argument-passed-to-when-in-branch-condition-in-kotlin/52774191#52774191", "title": "Use argument passed to when in branch condition in Kotlin?", "body": "<p>This is supported as of Kotlin 1.3. It's referred to as \"<a href=\"http://kotlinlang.org/docs/reference/whatsnew13.html#capturing-when-subject-in-a-variable\" rel=\"nofollow noreferrer\">Capturing when subject in a variable</a>\" and looks like this (taken from their documentation):</p>\n\n<pre><code>fun Request.getBody() =\n        when (val response = executeRequest()) {\n            is Success -&gt; response.body\n            is HttpError -&gt; throw HttpException(response.status)\n        }    \n</code></pre>\n"}], "owner": {"reputation": 28942, "user_id": 398441, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/a8950160c2b3d7d0bf948d8c1f937e7f?s=128&d=identicon&r=PG", "display_name": "Johan", "link": "https://stackoverflow.com/users/398441/johan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 46011623, "answer_count": 3, "score": 0, "last_activity_date": 1569916835, "creation_date": 1504337865, "last_edit_date": 1504338952, "question_id": 46011565, "link": "https://stackoverflow.com/questions/46011565/use-argument-passed-to-when-in-branch-condition-in-kotlin", "title": "Use argument passed to when in branch condition in Kotlin?", "body": "<p>I have some code that roughly looks like this:</p>\n\n<pre><code>val myObject = myObjectRepository.findById(myObjectId);    \nwhen {        \n    matchesSomething(myObject) -&gt; doSomethingWithMyObject(myObject)\n    matchesSomethingElse(myObject) -&gt; doSomethingElseWithMyObject(myObject)\n    else -&gt; log.warn(\"No match, aborting\");\n}\n</code></pre>\n\n<p>While this works I would think that the following (which doesn't work) would be an improvement if I only need access to <code>myObject</code> inside the scope of <code>when</code>:</p>\n\n<pre><code>when(myObjectRepository.findById(myObjectId)) { myObject -&gt;\n    matchesSomething(myObject) -&gt; doSomethingWithMyObject(myObject)\n    matchesSomethingElse(myObject) -&gt; doSomethingElseWithMyObject(myObject)\n    else -&gt; log.warn(\"No match, aborting\"); \n}\n</code></pre>\n\n<p>The error I get here is:</p>\n\n<blockquote>\n  <p>Unresolved reference: myObject</p>\n</blockquote>\n\n<p>Can you do something like this in Kotlin and if so how? If not, is there a particular reason for why this shouldn't be allowed?</p>\n"}, {"tags": ["kotlin", "android-studio-3.0"], "answers": [{"comments": [{"owner": {"reputation": 60, "user_id": 7393218, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4A0x3xS-f8U/AAAAAAAAAAI/AAAAAAAAAFU/v2Fz2fFltvQ/photo.jpg?sz=128", "display_name": "Ashish Kapoor", "link": "https://stackoverflow.com/users/7393218/ashish-kapoor"}, "edited": false, "score": 0, "creation_date": 1504350835, "post_id": 46012137, "comment_id": 78986397, "body": "Created a Github repository for this. Can you display the same with a pull request? <a href=\"https://github.com/AshishKapoor/ListViewDemo\" rel=\"nofollow noreferrer\">github.com/AshishKapoor/ListViewDemo</a>"}], "tags": [], "owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "is_accepted": false, "score": 0, "last_activity_date": 1504347974, "last_edit_date": 1504347974, "creation_date": 1504342533, "answer_id": 46012137, "question_id": 46011223, "link": "https://stackoverflow.com/questions/46011223/how-to-get-the-selected-item-from-listview-in-kotlin/46012137#46012137", "title": "How to get the selected item from ListView in Kotlin?", "body": "<p>You can use inside the <code>getView()</code> method something like:</p>\n\n<pre><code>view.setOnClickListener(object : View.OnClickListener {\n    override fun onClick(v: View?) {\n        //use getItem(position) to get the item\n    }\n})\n</code></pre>\n\n<p>or using the lambda:</p>\n\n<pre><code>view.setOnClickListener({ v -&gt; //use theItem(position) })\n</code></pre>\n\n<p>Just a tip:</p>\n\n<blockquote>\n  <p>I'm trying to understand list view instead of recycler view to understand basics first.</p>\n</blockquote>\n\n<p>In my opinion in your projects you will use <code>RecyclerView</code> in 99% of the cases.</p>\n"}, {"comments": [{"owner": {"reputation": 60, "user_id": 7393218, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4A0x3xS-f8U/AAAAAAAAAAI/AAAAAAAAAFU/v2Fz2fFltvQ/photo.jpg?sz=128", "display_name": "Ashish Kapoor", "link": "https://stackoverflow.com/users/7393218/ashish-kapoor"}, "edited": false, "score": 1, "creation_date": 1504344290, "post_id": 46012307, "comment_id": 78984779, "body": "I&#39;m coming from iOS development platform. Hope you don&#39;t mind me asking, how to make it work in the attached code?"}, {"owner": {"reputation": 2101, "user_id": 1632490, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/f76106b3ddf4c1457a52af0787916c34?s=128&d=identicon&r=PG", "display_name": "AndiM", "link": "https://stackoverflow.com/users/1632490/andim"}, "reply_to_user": {"reputation": 60, "user_id": 7393218, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4A0x3xS-f8U/AAAAAAAAAAI/AAAAAAAAAFU/v2Fz2fFltvQ/photo.jpg?sz=128", "display_name": "Ashish Kapoor", "link": "https://stackoverflow.com/users/7393218/ashish-kapoor"}, "edited": false, "score": 0, "creation_date": 1504344366, "post_id": 46012307, "comment_id": 78984795, "body": "Specify your requirement first. What you want basically? ArrayList of selected item or just a clicked item?"}, {"owner": {"reputation": 60, "user_id": 7393218, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4A0x3xS-f8U/AAAAAAAAAAI/AAAAAAAAAFU/v2Fz2fFltvQ/photo.jpg?sz=128", "display_name": "Ashish Kapoor", "link": "https://stackoverflow.com/users/7393218/ashish-kapoor"}, "edited": false, "score": 0, "creation_date": 1504344422, "post_id": 46012307, "comment_id": 78984809, "body": "Just a clicked item as mentioned in the question."}, {"owner": {"reputation": 2101, "user_id": 1632490, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/f76106b3ddf4c1457a52af0787916c34?s=128&d=identicon&r=PG", "display_name": "AndiM", "link": "https://stackoverflow.com/users/1632490/andim"}, "reply_to_user": {"reputation": 60, "user_id": 7393218, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4A0x3xS-f8U/AAAAAAAAAAI/AAAAAAAAAFU/v2Fz2fFltvQ/photo.jpg?sz=128", "display_name": "Ashish Kapoor", "link": "https://stackoverflow.com/users/7393218/ashish-kapoor"}, "edited": false, "score": 0, "creation_date": 1504344502, "post_id": 46012307, "comment_id": 78984828, "body": "Let me create an example for you."}], "tags": [], "owner": {"reputation": 2101, "user_id": 1632490, "user_type": "registered", "accept_rate": 21, "profile_image": "https://www.gravatar.com/avatar/f76106b3ddf4c1457a52af0787916c34?s=128&d=identicon&r=PG", "display_name": "AndiM", "link": "https://stackoverflow.com/users/1632490/andim"}, "is_accepted": true, "score": 9, "last_activity_date": 1504344898, "last_edit_date": 1504344898, "creation_date": 1504343927, "answer_id": 46012307, "question_id": 46011223, "link": "https://stackoverflow.com/questions/46011223/how-to-get-the-selected-item-from-listview-in-kotlin/46012307#46012307", "title": "How to get the selected item from ListView in Kotlin?", "body": "<p>To populate listview you must have dataset. Dataset may be any list of either datatypes like Strings or you can use list of model class. Something like this:</p>\n\n<p>This is my simple list of dataset which I will use in ListView:</p>\n\n<pre><code>val data = ArrayList&lt;TopicDTO&gt;()\ndata.add(TopicDTO(\"1\", \"Info 1\", true))\ndata.add(TopicDTO(\"2\", \"Info 2\", false))\ndata.add(TopicDTO(\"3\", \"Info 3\", true))\ndata.add(TopicDTO(\"4\", \"Info 4\", false))\n</code></pre>\n\n<p>I have created one model class named TopicDTO which contains id,title and its status.</p>\n\n<p>Now let's populate this into ListView:</p>\n\n<pre><code> list.adapter = ButtonListAdapter(baseContext, data)\n</code></pre>\n\n<p>Here is a simple adapter:</p>\n\n<pre><code>class ButtonListAdapter(//Class for rendering each ListItem\n\n        private val context: Context, private val rowItems: List&lt;TopicDTO&gt;) : BaseAdapter() {\n\n    override fun getCount(): Int {\n        return rowItems.size\n    }\n\n    override fun getItem(position: Int): Any {\n        return rowItems[position]\n    }\n\n    override fun getItemId(position: Int): Long {\n        return rowItems.indexOf(getItem(position)).toLong()\n    }\n\n\n    private inner class ViewHolder {\n        internal var main_text: TextView? = null //Display Name\n        internal var subtitle: TextView? = null  //Display Description\n        internal var can_view_you_online: Button? = null   //Button to set and display status of CanViewYouOnline flag of the class\n\n    }\n\n    override fun getView(position: Int, convertView: View?, parent: ViewGroup): View {\n        var convertView = convertView\n        var holder: ViewHolder? = null\n\n\n        val mInflater = context.getSystemService(Activity.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n\n        holder = ViewHolder()\n\n\n        if (convertView == null) {\n            convertView = mInflater.inflate(R.layout.main_lp_view_item, null)\n\n            holder.main_text = convertView!!.findViewById(R.id.main_lp_text) as TextView\n            holder.subtitle = convertView.findViewById(R.id.main_lp_subtitle) as TextView\n            holder.can_view_you_online = convertView.findViewById(R.id.can_view_you_online) as Button\n\n            convertView.tag = holder\n\n        } else {\n            holder = convertView.tag as ViewHolder\n        }\n\n        val rowItem = rowItems[position]\n\n        val main_text: String\n        val subtitle: String\n\n\n        holder.main_text!!.text = rowItem.info\n        holder.subtitle!!.text = rowItem.info\n\n        if (rowItem.canViewYouOnline) {\n            holder.can_view_you_online!!.setBackgroundColor(context.resources.getColor(R.color.colorPrimary))\n        } else {\n            holder.can_view_you_online!!.setBackgroundColor(context.resources.getColor(R.color.colorAccent))\n        }\n\n\n        holder.can_view_you_online!!.setOnClickListener(object : View.OnClickListener {\n            internal var buttonClickFlag: Boolean = false\n\n\n            override fun onClick(v: View) {           //The Onclick function allows one to click the button on the list item and set/reset the canViewYouOnline flag. It is working fine.\n\n            }\n        })\n\n\n        return convertView\n\n    }\n\n\n}\n</code></pre>\n\n<p>Now you can get your selected item like this:</p>\n\n<pre><code>list.onItemClickListener = AdapterView.OnItemClickListener { parent, view, position, id -&gt;\n            // This is your listview's selected item\n            val item = parent.getItemAtPosition(position) as TopicDTO\n        }\n</code></pre>\n\n<p>Hope you understands this. </p>\n"}, {"tags": [], "owner": {"reputation": 428, "user_id": 9653703, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Richard Kamere", "link": "https://stackoverflow.com/users/9653703/richard-kamere"}, "is_accepted": false, "score": 0, "last_activity_date": 1570520023, "creation_date": 1570520023, "answer_id": 58281956, "question_id": 46011223, "link": "https://stackoverflow.com/questions/46011223/how-to-get-the-selected-item-from-listview-in-kotlin/58281956#58281956", "title": "How to get the selected item from ListView in Kotlin?", "body": "<p>add OnItemClickListener in you oncreate()</p>\n\n<pre><code>    listView.setOnItemClickListener{ parent, view, position, id -&amp;gt;\n        Toast.makeText(this, \"You Clicked:\"+\" \"+position,Toast.LENGTH_SHORT).show()\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/ZPsRn.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZPsRn.gif\" alt=\"enter image description here\"></a></p>\n\n<p>Add the array of Items in your CustomAdapter class.</p>\n\n<pre><code>class CustomAdptor(private val context: Activity): BaseAdapter() {\n//Array of fruits names\nvar names = arrayOf(\"Apple\", \"Strawberry\", \"Pomegranates\", \"Oranges\", \"Watermelon\", \"Bananas\", \"Kiwi\", \"Tomato\", \"Grapes\")\n//Array of fruits desc\nvar desc = arrayOf(\"Malus Domestica\", \"Fragaria Ananassa \", \"Punica Granatum\", \"Citrus Sinensis\", \"Citrullus Vulgaris\", \"Musa Acuminata\", \"Actinidia Deliciosa\", \"Solanum Lycopersicum\", \"Vitis vinifera\")\n\n//Array of fruits images\nvar image = intArrayOf(R.drawable.apple, R.drawable.strawberry, R.drawable.pomegranates, R.drawable.oranges, R.drawable.watermelon, R.drawable.banana, R.drawable.kiwi, R.drawable.tomato, R.drawable.grapes)\noverride fun getView(p0: Int, p1: View?, p2: ViewGroup?): View {\n    val inflater = context.layoutInflater\n    val view1 = inflater.inflate(R.layout.row_data,null)\n    val fimage = view1.findViewById(R.id.fimageView)\n    var fName = view1.findViewById(R.id.fName)\n    var fDesc = view1.findViewById(R.id.fDesc)\n    fimage.setImageResource(image[p0])\n    fName.setText(names[p0])\n    fDesc.setText(desc[p0])\n    return view1\n}\n\noverride fun getItem(p0: Int): Any {\n    return image[p0]\n}\n\noverride fun getItemId(p0: Int): Long {\n    return p0.toLong()\n}\n\noverride fun getCount(): Int {\n    return image.size\n}\n</code></pre>\n\n<p>}</p>\n\n<p>You can find the whole tutorial at: <a href=\"https://larntech.net/listview-with-itemclicklistener-using-kotlin/\" rel=\"nofollow noreferrer\">listview with onItemClickListener using kotlin</a></p>\n"}], "owner": {"reputation": 60, "user_id": 7393218, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-4A0x3xS-f8U/AAAAAAAAAAI/AAAAAAAAAFU/v2Fz2fFltvQ/photo.jpg?sz=128", "display_name": "Ashish Kapoor", "link": "https://stackoverflow.com/users/7393218/ashish-kapoor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9218, "favorite_count": 1, "accepted_answer_id": 46012307, "answer_count": 3, "score": 3, "last_activity_date": 1570520023, "creation_date": 1504334497, "question_id": 46011223, "link": "https://stackoverflow.com/questions/46011223/how-to-get-the-selected-item-from-listview-in-kotlin", "title": "How to get the selected item from ListView in Kotlin?", "body": "<p>Code Sample:</p>\n\n<pre><code>package tech.kapoor.listviewdemo\n\nimport android.content.Context\nimport android.graphics.Color\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.BaseAdapter\nimport android.widget.ListView\nimport android.widget.TextView\nimport android.widget.AdapterView\n\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val listView = findViewById&lt;ListView&gt;(R.id.main_listview)\n        var redColor = Color.parseColor(\"#FF0000\")\n\n        listView.setBackgroundColor(redColor)\n        listView.adapter = CustomAdapter(this)\n    }\n\n    private class CustomAdapter(context: Context): BaseAdapter() {\n\n        private val mContext: Context\n\n        init {\n            mContext = context\n        }\n\n        override fun getCount(): Int {\n            return 80\n        }\n\n        override fun getItemId(position: Int): Long {\n            return position.toLong()\n        }\n\n        override fun getItem(position: Int): Any {\n            return position\n        }\n\n        override fun getView(position: Int, view: View?, viewGroup: ViewGroup?): View {\n            val textView = TextView(mContext)\n            textView.text = \"Here comes the !!\"\n            return textView\n        }\n    }\n}\n</code></pre>\n\n<p>I'm trying to understand list view instead of recycler view to understand basics first. \nAnybody knows how we get the selected row id/index value on selection or onclick and also how to perform some action on selection of a specific row in kotlin?</p>\n"}, {"tags": ["android", "realm", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1504334422, "post_id": 46009134, "comment_id": 78982661, "body": "You need to be a bit more specific on the plugin orders you&#39;ve tried."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1504385682, "post_id": 46009134, "comment_id": 78995997, "body": "....okayyy, if you apply <code>realm-android</code> last, that should work. Are the model classes written in Kotlin or in Java? If in Kotlin, then are they <code>open</code>?"}, {"owner": {"reputation": 820, "user_id": 501274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYWA5.jpg?s=128&g=1", "display_name": "Adi Nugroho", "link": "https://stackoverflow.com/users/501274/adi-nugroho"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1504393340, "post_id": 46009134, "comment_id": 78997686, "body": "Even when there&#39;re no models and no initialization the build always failed and yes, my class is written in kotlin and <code>open</code>. I&#39;ve tried putting the properties inside the class body / class constructor, didn&#39;t work. Adding <code>@RealmClass</code> didn&#39;t work either."}, {"owner": {"reputation": 3477, "user_id": 1396606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8806428fd1451cf727350f163e5c13d7?s=128&d=identicon&r=PG", "display_name": "beeender", "link": "https://stackoverflow.com/users/1396606/beeender"}, "edited": false, "score": 0, "creation_date": 1504610324, "post_id": 46009134, "comment_id": 79066568, "body": "We cannot reproduce the issue with a newly created project. kotlin 1.1.3-2 ,gradle 4.1, com.android.tools.build:gradle:3.0.0-beta4. Can you please share your project somewhere so we can take a look?"}], "answers": [{"tags": [], "owner": {"reputation": 820, "user_id": 501274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYWA5.jpg?s=128&g=1", "display_name": "Adi Nugroho", "link": "https://stackoverflow.com/users/501274/adi-nugroho"}, "is_accepted": false, "score": 0, "last_activity_date": 1510113823, "creation_date": 1510113823, "answer_id": 47171382, "question_id": 46009134, "link": "https://stackoverflow.com/questions/46009134/build-fails-when-using-kotlin-kapt-with-realm/47171382#47171382", "title": "Build fails when using &#39;kotlin-kapt&#39; with Realm", "body": "<p>After upgrading to Android Studio 3.0 and posting this issue on Realm github : <a href=\"https://github.com/realm/realm-java/issues/5508\" rel=\"nofollow noreferrer\">https://github.com/realm/realm-java/issues/5508</a>. I've finally found the solution. So when this problem arise, do these steps (in the project dir):</p>\n\n<pre><code>// Stop all gradle deamons\n./gradlew --stop \n\n// Delete global cache dir\nrm -R ~/.gradle \n\n// Clean working dir (if using git)\ngit clean -xfd\n\n// Then do a full rebuild\n./gradlew assemble\n</code></pre>\n\n<p>If the result of above steps is BUILD SUCCESSFUL. But when you rebuild it again in Android Studio it still shows <code>kapt</code> error, then the problem is in Android Studio, so please reinstall it.</p>\n"}, {"tags": [], "owner": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "is_accepted": false, "score": 1, "last_activity_date": 1510545016, "creation_date": 1510545016, "answer_id": 47256819, "question_id": 46009134, "link": "https://stackoverflow.com/questions/46009134/build-fails-when-using-kotlin-kapt-with-realm/47256819#47256819", "title": "Build fails when using &#39;kotlin-kapt&#39; with Realm", "body": "<p>This looks like <a href=\"https://youtrack.jetbrains.com/issue/KT-20235\" rel=\"nofollow noreferrer\">KT-20235</a>. Please check if the path to your project (or any of your classpath dependencies) contains commas.</p>\n"}], "owner": {"reputation": 820, "user_id": 501274, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYWA5.jpg?s=128&g=1", "display_name": "Adi Nugroho", "link": "https://stackoverflow.com/users/501274/adi-nugroho"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2120, "favorite_count": 1, "answer_count": 2, "score": 5, "last_activity_date": 1510545016, "creation_date": 1504309019, "last_edit_date": 1504365715, "question_id": 46009134, "link": "https://stackoverflow.com/questions/46009134/build-fails-when-using-kotlin-kapt-with-realm", "title": "Build fails when using &#39;kotlin-kapt&#39; with Realm", "body": "<p>Environment : Android Studio 2.3.3, Gradle 2.3.3 and Kotlin 1.1.4-3</p>\n\n<p>When I create a new Android project with Kotlin, everything works fine at first, adding</p>\n\n<pre><code>//in project's build.gradle\nclasspath \"io.realm:realm-gradle-plugin:3.5.0\"\n\n//in app's build.gradle\napply plugin: 'realm-android'\n</code></pre>\n\n<p>is OK. But after I add</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>always raising Execution failed</p>\n\n<pre><code>e: Wrong plugin option format: null, should be plugin:&lt;pluginId&gt;:&lt;optionName&gt;=&lt;value&gt;\nFAILED\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:kaptDebugKotlin'.\n</code></pre>\n\n<p>Stacktrace :</p>\n\n<pre><code>* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:kaptDebugKotlin'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:84)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:62)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.execute(DefaultTaskGraphExecuter.java:236)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.execute(DefaultTaskGraphExecuter.java:228)\n    at org.gradle.internal.Transformers$4.transform(Transformers.java:169)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:106)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:61)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:228)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:215)\n    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.processTask(AbstractTaskPlanExecutor.java:77)\n    at org.gradle.execution.taskgraph.AbstractTaskPlanExecutor$TaskExecutorWorker.run(AbstractTaskPlanExecutor.java:58)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor.process(DefaultTaskPlanExecutor.java:32)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter.execute(DefaultTaskGraphExecuter.java:113)\n    at org.gradle.execution.SelectedTaskExecutionAction.execute(SelectedTaskExecutionAction.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.access$000(DefaultBuildExecuter.java:23)\n    at org.gradle.execution.DefaultBuildExecuter$1.proceed(DefaultBuildExecuter.java:43)\n    at org.gradle.execution.DryRunBuildExecutionAction.execute(DryRunBuildExecutionAction.java:32)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:37)\n    at org.gradle.execution.DefaultBuildExecuter.execute(DefaultBuildExecuter.java:30)\n    at org.gradle.initialization.DefaultGradleLauncher$3.execute(DefaultGradleLauncher.java:196)\n    at org.gradle.initialization.DefaultGradleLauncher$3.execute(DefaultGradleLauncher.java:193)\n    at org.gradle.internal.Transformers$4.transform(Transformers.java:169)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:106)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:56)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:193)\n    at org.gradle.initialization.DefaultGradleLauncher.doBuild(DefaultGradleLauncher.java:119)\n    at org.gradle.initialization.DefaultGradleLauncher.run(DefaultGradleLauncher.java:102)\n    at org.gradle.launcher.exec.GradleBuildController.run(GradleBuildController.java:71)\n    at org.gradle.tooling.internal.provider.runner.BuildModelActionRunner.run(BuildModelActionRunner.java:50)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.tooling.internal.provider.runner.RunAsBuildOperationBuildActionRunner$1.execute(RunAsBuildOperationBuildActionRunner.java:43)\n    at org.gradle.tooling.internal.provider.runner.RunAsBuildOperationBuildActionRunner$1.execute(RunAsBuildOperationBuildActionRunner.java:40)\n    at org.gradle.internal.Transformers$4.transform(Transformers.java:169)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:106)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:56)\n    at org.gradle.tooling.internal.provider.runner.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:40)\n    at org.gradle.tooling.internal.provider.runner.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:75)\n    at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:41)\n    at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:26)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:75)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:49)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:44)\n    at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:29)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:47)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n    at org.gradle.util.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:60)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:72)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:120)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:54)\n    at org.gradle.internal.concurrent.StoppableExecutorImpl$1.run(StoppableExecutorImpl.java:40)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: org.gradle.api.GradleException: Compilation error. See log for more details\n    at org.jetbrains.kotlin.gradle.tasks.TasksUtilsKt.throwGradleExceptionIfError(tasksUtils.kt:8)\n    at org.jetbrains.kotlin.gradle.internal.KaptTask.compile(KaptTask.kt:71)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.doExecute(DefaultTaskClassInfoStore.java:141)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:123)\n    at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:632)\n    at org.gradle.api.internal.AbstractTask$TaskActionWrapper.execute(AbstractTask.java:615)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:95)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:76)\n    ... 81 more\n</code></pre>\n\n<p>I haven't added anything else, so everything is a default setup from Android Studio (with Empty Activity) and configured for Kotlin Android project.</p>\n\n<p><strong>Edit :</strong></p>\n\n<p>Order of plugins :</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\napply plugin: 'realm-android'\n</code></pre>\n\n<p>Moving <code>apply plugin: 'realm-android'</code> before <code>apply plugin: 'kotlin-android'</code> will make the build success. But making Realm doesn't work in the project, it always raise <code>java.lang.IllegalArgumentException: MyObject is not part of the schema for this Realm</code></p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "pull-to-refresh"], "comments": [{"owner": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "edited": false, "score": 0, "creation_date": 1504313390, "post_id": 46008464, "comment_id": 78979881, "body": "I noticed you tagged with <code>pull-to-refresh</code>, what exactly does that have to do with this? There may be a better solution if we know more details."}, {"owner": {"reputation": 358, "user_id": 4912854, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1514fe4262b581bf5a4d8583f8376a26?s=128&d=identicon&r=PG&f=1", "display_name": "cesarsicas", "link": "https://stackoverflow.com/users/4912854/cesarsicas"}, "reply_to_user": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "edited": false, "score": 0, "creation_date": 1504350358, "post_id": 46008464, "comment_id": 78986271, "body": "The issue behind is that the RecyclerView is inside a SwipeRefreshLayout. The swipe sometimes refresh on wrong position. I.E. when the list isn&#39;t on top. So i will allow refresh only when RecyclerView is on top"}, {"owner": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "edited": false, "score": 0, "creation_date": 1504384447, "post_id": 46008464, "comment_id": 78995633, "body": "Ah, I see. That&#39;s very odd, I don&#39;t have that issue within <code>RecyclerView</code>, but perhaps it is those larger items."}, {"owner": {"reputation": 358, "user_id": 4912854, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1514fe4262b581bf5a4d8583f8376a26?s=128&d=identicon&r=PG&f=1", "display_name": "cesarsicas", "link": "https://stackoverflow.com/users/4912854/cesarsicas"}, "reply_to_user": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "edited": false, "score": 0, "creation_date": 1504438222, "post_id": 46008464, "comment_id": 79005143, "body": "As i found, this bug used to happen  with old support versions (<a href=\"https://issuetracker.google.com/issues/37008297\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/37008297</a>) and were fixed. Maybe its happening because im using StaggeredGridLayout. Idk, but thanks !"}], "answers": [{"comments": [{"owner": {"reputation": 358, "user_id": 4912854, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1514fe4262b581bf5a4d8583f8376a26?s=128&d=identicon&r=PG&f=1", "display_name": "cesarsicas", "link": "https://stackoverflow.com/users/4912854/cesarsicas"}, "edited": false, "score": 0, "creation_date": 1504437820, "post_id": 46009478, "comment_id": 79005032, "body": "Thank you very much ! The only thing i had to adapt was that when the items of RecyclerView were updated, i had to restart the value of &quot;current position&quot; with 0."}], "tags": [], "owner": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "is_accepted": true, "score": 8, "last_activity_date": 1504312843, "creation_date": 1504312843, "answer_id": 46009478, "question_id": 46008464, "link": "https://stackoverflow.com/questions/46008464/check-if-recyclerview-is-scrolled-on-top-findfirstcompletelyvisibleitemposition/46009478#46009478", "title": "Check if RecyclerView is scrolled on top (findFirstCompletelyVisibleItemPosition will not work)", "body": "<p>You could create a <code>RecyclerView.OnScrollListener</code>, and keep track of how much it has scrolled.</p>\n\n<p>For example, all you need to do is keep a variable, and update it with onScroll based on the vertical scroll amount.</p>\n\n<pre><code>class MyScrollListener() : RecyclerView.OnScrollListener() {\n\n    var currentScrollPosition = 0\n\n    override fun onScrolled(view: RecyclerView, dx: Int, dy: Int) {\n        currentScrollPosition += dy\n\n        if( currentScrollPosition == 0 ) {\n            // We're at the top\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 358, "user_id": 4912854, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/1514fe4262b581bf5a4d8583f8376a26?s=128&d=identicon&r=PG&f=1", "display_name": "cesarsicas", "link": "https://stackoverflow.com/users/4912854/cesarsicas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2438, "favorite_count": 0, "accepted_answer_id": 46009478, "answer_count": 1, "score": 4, "last_activity_date": 1504439494, "creation_date": 1504303242, "last_edit_date": 1504439494, "question_id": 46008464, "link": "https://stackoverflow.com/questions/46008464/check-if-recyclerview-is-scrolled-on-top-findfirstcompletelyvisibleitemposition", "title": "Check if RecyclerView is scrolled on top (findFirstCompletelyVisibleItemPosition will not work)", "body": "<p>How can i check if the <strong>recycler view</strong> is <strong>scrolled to its top</strong> (the begin of list) without using <code>findFirstCompletelyVisibleItemPosition</code> ?</p>\n\n<p>Explanation: I cant use this method, because the items on <code>RecyclerView</code> are big and sometimes will never be \"completely visible\", so the method will return -1 (<code>RecyclerView.NO_POSITION</code>)</p>\n\n<p>I need to know this to fire an action only when recycler view reach its top.</p>\n\n<pre><code> val manager = timelineRecyclerView?.layoutManager as StaggeredGridLayoutManager\n val visibles = manager.findFirstCompletelyVisibleItemPositions(null)\n</code></pre>\n\n<p>Solved: Including some code to help</p>\n\n<pre><code>    timelineRecyclerView.addOnScrollListener(object:RecyclerView.OnScrollListener() {\n        override fun onScrollStateChanged(recyclerView:RecyclerView,\n                                 newState:Int) {\n            super.onScrollStateChanged(recyclerView, newState)\n\n        }\n        override fun onScrolled(recyclerView:RecyclerView, dx:Int, dy:Int) {\n            super.onScrolled(recyclerView, dx, dy)\n\n            currentTimelinePosition += dy\n\n            Log.wtf(\"position\", currentTimelinePosition.toString())\n            //if the timeline position is on its start, allow swipe and refresh\n            swipeLayout.isEnabled = currentTimelinePosition == 0\n        }\n    })\n</code></pre>\n"}, {"tags": ["android", "kotlin", "code-documentation"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 2, "last_activity_date": 1504301233, "creation_date": 1504301233, "answer_id": 46008151, "question_id": 46007920, "link": "https://stackoverflow.com/questions/46007920/kotlin-dokka-cant-find-dokka-task-in-android-studio/46008151#46008151", "title": "Kotlin Dokka - Can&#39;t find Dokka task in android studio", "body": "<p>The dokka task should appear in the Gradle tasks list, check the Gradle panel that's on the right by default:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Kt6dq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Kt6dq.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 541, "user_id": 5538793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae78adca73cf2b7f910d9017d944d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Ettore Galli", "link": "https://stackoverflow.com/users/5538793/ettore-galli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 795, "favorite_count": 1, "accepted_answer_id": 46008151, "answer_count": 1, "score": 6, "last_activity_date": 1504301233, "creation_date": 1504299797, "question_id": 46007920, "link": "https://stackoverflow.com/questions/46007920/kotlin-dokka-cant-find-dokka-task-in-android-studio", "title": "Kotlin Dokka - Can&#39;t find Dokka task in android studio", "body": "<p>I am new to Kotlin and Dokka; \nFollowing wikis and tutorials I've tried to setup my project for dokka documentation tool with the following lines in gradle build files:</p>\n\n<p>In project gradle file:</p>\n\n<pre><code>classpath \"org.jetbrains.dokka:dokka-android-gradle-plugin:0.9.15\"\n</code></pre>\n\n<p>In module gradle file:</p>\n\n<pre><code>apply plugin: 'org.jetbrains.dokka-android' \n</code></pre>\n\n<p>Android studio version is 2.3.3</p>\n\n<p>After Sync, project rebuild and Android studio restart I expected a dokka task appear in \"Tools\"/\"Task &amp; Contexts\"/\"+ Open Task\" but I can't see any.</p>\n\n<p>What am I missing/doing wrong?</p>\n\n<p>Thank you in advance</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 8221065, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vU0vg0QcJxM/AAAAAAAAAAI/AAAAAAAAAUk/soIlTopY7e0/photo.jpg?sz=128", "display_name": "Helder Ventura", "link": "https://stackoverflow.com/users/8221065/helder-ventura"}, "is_accepted": false, "score": 1, "last_activity_date": 1587243663, "last_edit_date": 1587243663, "creation_date": 1587117363, "answer_id": 61268738, "question_id": 46007641, "link": "https://stackoverflow.com/questions/46007641/how-to-solve-errorexecution-failed-for-task-appkaptdebugkotlin/61268738#61268738", "title": "How to solve: Error:Execution failed for task &#39;:app:kaptDebugKotlin&#39;?", "body": "<p>I know this is an old post but after some searching, I always end up opening this question. Because of this, I thought it was good to share a way to resolve this issue.</p>\n\n<p>First I thought it was because of some change of configurations I made. Mainly change some versions of the implementations i use and update the kotlin version.\nOther changes I made were changing the annotationProcessor of the glide compiler to kapt.</p>\n\n<p>Because the error was </p>\n\n<blockquote>\n  <p>Error: execution failed for task ':app:kaptDebugKotlin'. Internal compiler error. See log for more details</p>\n</blockquote>\n\n<p>I thought it was because of this change - but it wasn't.</p>\n\n<p>The main change I've made and did not even think it could be a problem was update my project to <a href=\"https://jdk.java.net/java-se-ri/13\" rel=\"nofollow noreferrer\">JAVA 13</a></p>\n\n<p>So to solve this I change it back to Android Studio JDK:</p>\n\n<p>First go to <strong>File</strong> -> <strong>Project Structure...</strong> <a href=\"https://i.stack.imgur.com/eORo6.png\" rel=\"nofollow noreferrer\">See image for details</a></p>\n\n<p>Next, in the <strong>SDK Location</strong> tab (on the left), change the <strong>JDK location</strong> to \"WhereYourAndroidStudioIsInstalled\\Android Studio\\jre\" <a href=\"https://i.stack.imgur.com/HJOO0.png\" rel=\"nofollow noreferrer\">See image for details</a></p>\n\n<p>In the end, rebuild the project and for me it worked, the error disappeared: </p>\n\n<p><a href=\"https://i.stack.imgur.com/NEydn.png\" rel=\"nofollow noreferrer\">See image for details</a></p>\n"}], "owner": {"reputation": 109, "user_id": 4831652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2de7d9247a40d4d0f457ca771e943449?s=128&d=identicon&r=PG&f=1", "display_name": "ayoola adedeji", "link": "https://stackoverflow.com/users/4831652/ayoola-adedeji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2875, "favorite_count": 0, "answer_count": 1, "score": 8, "last_activity_date": 1587243663, "creation_date": 1504297988, "question_id": 46007641, "link": "https://stackoverflow.com/questions/46007641/how-to-solve-errorexecution-failed-for-task-appkaptdebugkotlin", "title": "How to solve: Error:Execution failed for task &#39;:app:kaptDebugKotlin&#39;?", "body": "<p>Please help me I've been staring at this same error for days. I'm running android studio 2.3 (I've also ran into this problem on android studio 3.0).</p>\n\n<p>This is what shows up in my Messages:</p>\n\n<blockquote>\n  <p>Error:Execution failed for task ':app:kaptDebugKotlin'.\n  Internal compiler error. See log for more details</p>\n</blockquote>\n\n<p>This is what my log gives me for more details:</p>\n\n<blockquote>\n  <p>2017-09-01 21:09:57,768 [34977075]   INFO - roid.sdk.MessageBuildingSdkLog - Exception from KotlinOutputParser \n  2017-09-01 21:09:57,771 [34977078]   INFO - roid.sdk.MessageBuildingSdkLog - com.android.ide.common.blame.Message.(com.android.ide.common.blame.Message$Kind, java.lang.String, java.lang.String, com.google.common.collect.ImmutableList) \n  java.lang.NoSuchMethodException: com.android.ide.common.blame.Message.(com.android.ide.common.blame.Message$Kind, java.lang.String, java.lang.String, com.google.common.collect.ImmutableList)\n      at java.lang.Class.getConstructor0(Class.java:3082)\n      at java.lang.Class.getConstructor(Class.java:1825)\n      at org.jetbrains.kotlin.android.KotlinOutputParserHelper$simpleMessageConstructor$2.invoke(KotlinOutputParserHelper.kt:171)\n      at org.jetbrains.kotlin.android.KotlinOutputParserHelper$simpleMessageConstructor$2.invoke(KotlinOutputParserHelper.kt:143)\n      at kotlin.SynchronizedLazyImpl.getValue(Lazy.kt:130)\n      at org.jetbrains.kotlin.android.KotlinOutputParserHelper.getSimpleMessageConstructor(KotlinOutputParserHelper.kt)\n      at org.jetbrains.kotlin.android.KotlinOutputParserHelper.createNewMessage(KotlinOutputParserHelper.kt:272)\n      at org.jetbrains.kotlin.android.KotlinOutputParserHelper.createMessage(KotlinOutputParserHelper.kt:250)\n      at org.jetbrains.kotlin.android.KotlinOutputParserHelper.createMessage$default(KotlinOutputParserHelper.kt:244)\n      at org.jetbrains.kotlin.android.KotlinOutputParserHelperKt.parse(KotlinOutputParserHelper.kt:41)\n      at org.jetbrains.kotlin.android.KotlinOutputParser.parse(KotlinOutputParser.java:28)\n      at com.android.ide.common.blame.parser.ToolOutputParser.parseToolOutput(ToolOutputParser.java:86)\n      at com.android.tools.idea.gradle.output.parser.BuildOutputParser.parseGradleOutput(BuildOutputParser.java:43)\n      at com.android.tools.idea.gradle.project.build.invoker.GradleTasksExecutor$GradleTasksExecutorImpl.lambda$collectMessages$5(GradleTasksExecutor.java:516)\n      at com.intellij.openapi.application.impl.ApplicationImpl$2.run(ApplicationImpl.java:307)\n      at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\n      at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n      at java.lang.Thread.run(Thread.java:745)</p>\n</blockquote>\n\n<p>My top level build.gradle:</p>\n\n<pre><code>    // Top-level build file where you can add configuration options common to all sub-projects/modules.\n\n    buildscript {\n        ext.kotlin_version = '1.1.4-3'\n        repositories {\n            google()\n            jcenter()\n            maven {\n                url 'https://www.testfairy.com/maven'\n            }\n            mavenCentral()\n        }\n        dependencies {\n            classpath 'com.android.tools.build:gradle:2.3.3'\n            classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n            classpath 'com.testfairy.plugins.gradle:testfairy:1.+'\n            classpath 'me.tatarka:gradle-retrolambda:3.3.0'\n            //classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n            // NOTE: Do not place your application dependencies here; they belong\n            // in the individual module build.gradle files\n        }\n    }\n\n    allprojects {\n        repositories {\n            google()\n            jcenter()\n            maven { url \"https://dl.bintray.com/aurae/maven\" }\n            maven { url \"https://maven.google.com\" }\n        }\n    }\n\n    task clean(type: Delete) {\n        delete rootProject.buildDir\n    }\n</code></pre>\n\n<p>my app level build.gradle:\n        apply plugin: 'com.android.application'\n        apply plugin: 'kotlin-android'\n        apply plugin: 'kotlin-android-extensions'\n        apply plugin: 'kotlin-kapt'</p>\n\n<pre><code>    apply plugin: 'io.fabric'\n    apply plugin: 'testfairy'\n    apply plugin: 'me.tatarka.retrolambda'\n\n    android {\n        compileSdkVersion COMPILE_SDK_VERSION\n        buildToolsVersion BUILD_TOOLS_VERSION\n\n        defaultConfig {\n            applicationId \"com.audiopartnership.edgecontroller\"\n            minSdkVersion MIN_SDK_VERSION\n            targetSdkVersion TARGET_SDK_VERSION\n            versionCode 9\n            versionName \"0.0.12\"\n            vectorDrawables.useSupportLibrary = true\n            multiDexEnabled true\n            buildConfigField \"String\", \"BASE_SSID\", \"\\\"Setup:\\\"\"\n            buildConfigField \"String\", \"DEFAULT_UNIT_NAME\", \"\\\"CZN\\\"\"\n            buildConfigField \"String\", \"CAST_URL\", \"\\\"http://www.google.com/cast/learn/audio/\\\"\"\n\n        }\n\n        testfairyConfig {\n            apiKey getMyApiKey(\"testfairy\")\n            autoUpdate true\n        }\n\n        buildTypes {\n            release {\n                minifyEnabled false\n                proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n            }\n\n            beta {\n                applicationIdSuffix \".beta\"\n                minifyEnabled false\n                proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.txt'\n            }\n\n            debug {\n                debuggable true\n                applicationIdSuffix \".debug\"\n            }\n        }\n\n        compileOptions {\n            sourceCompatibility JavaVersion.VERSION_1_8\n            targetCompatibility JavaVersion.VERSION_1_8\n        }\n\n        dataBinding {\n            enabled = true\n        }\n    }\n\n    androidExtensions {\n        experimental = true\n    }\n\n    buildscript {\n        repositories {\n            jcenter()\n            maven { url 'https://maven.fabric.io/public' }\n        }\n\n        dependencies {\n            classpath 'io.fabric.tools:gradle:1.+'\n        }\n    }\n\n\n\n\n    repositories {\n        jcenter()\n        maven { url 'https://maven.fabric.io/public' }\n    }\n\n\n\n\n\n\n\n    dependencies {\n        compile fileTree(dir: 'libs', include: ['*.jar'])\n        testCompile 'junit:junit:4.12'\n        testCompile 'org.mockito:mockito-core:1.10.19'\n\n\n        compile project(':smoip-cli')\n        compile project(':cable-cli')\n        compile project(':maskable-layout')\n        compile project(':radio')\n\n\n        compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n        kapt 'com.android.databinding:compiler:2.3.3'\n\n        compile \"com.android.support:appcompat-v7:$SUPPORT_VERSION\"\n        compile \"com.android.support:design:$SUPPORT_VERSION\"\n        compile \"com.android.support:support-v4:$SUPPORT_VERSION\"\n        compile \"com.android.support:percent:$SUPPORT_VERSION\"\n        compile \"com.android.support:palette-v7:$SUPPORT_VERSION\"\n\n        compile 'me.relex:circleindicator:1.1.8@aar'\n        compile 'uk.co.chrisjenx:calligraphy:2.2.0'\n        compile \"com.squareup.picasso:picasso:$PICASSO_VERSION\"\n        compile \"io.reactivex:rxandroid:$RXANDROID_VERSION\"\n        compile 'com.squareup.okhttp3:okhttp:3.2.0'\n        compile \"com.github.aurae:rxbonjour:0.4.0\"\n        compile \"com.polidea.rxandroidble:rxandroidble:1.3.3\"\n\n        compile \"com.squareup.retrofit2:retrofit:$RETROFIT_VERSION\"\n        compile \"com.squareup.retrofit2:converter-gson:$RETROFIT_VERSION\"\n        compile \"com.squareup.retrofit2:adapter-rxjava:$RETROFIT_VERSION\"\n\n        compile 'com.jakewharton:butterknife:8.5.1'\n        annotationProcessor 'com.jakewharton:butterknife-compiler:8.5.1'\n        compile 'com.johnpetitto.validator:validator:1.0.2'\n        testCompile 'com.squareup.leakcanary:leakcanary-android-no-op:1.5'\n        debugCompile 'com.squareup.leakcanary:leakcanary-android:1.5'\n        betaCompile 'com.squareup.leakcanary:leakcanary-android-no-op:1.5'\n        debugCompile 'com.squareup.leakcanary:leakcanary-android:1.5'\n        releaseCompile 'com.squareup.leakcanary:leakcanary-android-no-op:1.5'\n        compile('com.crashlytics.sdk.android:crashlytics:2.6.8@aar') {\n            transitive = true;\n        }\n\n        compile project(path: ':cable-cli')\n        compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    }\n\n\n    //return a MY API KEY from a properties file.\n    def getMyApiKey(String property) {\n        Properties properties = new Properties()\n        properties.load(new FileInputStream(\".apikeys\"))\n        return \"\\\"\" + properties.getProperty(property) + \"\\\"\"\n    }\n</code></pre>\n"}, {"tags": ["kotlin", "higher-order-functions"], "answers": [{"tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": true, "score": 4, "last_activity_date": 1504480729, "last_edit_date": 1504480729, "creation_date": 1504289871, "answer_id": 46005932, "question_id": 46005890, "link": "https://stackoverflow.com/questions/46005890/kotlin-higher-order-functions-to-count-the-amount-of-occurrences-in-a-list/46005932#46005932", "title": "Kotlin: Higher-order functions to count the amount of occurrences in a List?", "body": "<p>You check if the list contains a given element (which will either result in <code>0</code> or the list's size) though what you actually want is to count the number of elements that are equal to the given element (not to the whole list).</p>\n\n<p>What you need to do is to change <code>list.contains(\"element\")</code> to <code>it == \"element\"</code>.</p>\n\n<p>The <code>count</code> function works by iterating over the list and checks if the element matches the predicate.\nApproximated code</p>\n\n<pre><code>fun &lt;T&gt; Iterable&lt;T&gt;.count(predicate: (T) -&gt; Boolean) {\n     var count = 0    \n\n     for (element in this) {\n        if (predicate(this)) {\n            count += 1\n        }\n    }\n\n    return count\n}\n</code></pre>\n\n<p>When you pass <code>list.contains(\"element\")</code> as the parameter then the <code>count</code> function either returns 0 or <code>list.size</code> because it checks the same thing <code>list.size</code> times.</p>\n\n<p>Doing <code>it == \"element\"</code> though works differently. Instead of checking the whole list you only check the current element. If you are coming from a Java background it might be easier for you to think of <code>it</code> as this: in Java you'd have code looking somewhat like this <code>(element) -&gt; element.equals(\"element\")</code> though in Kotlin if you have a higher-order function with only 1 parameter and don't explicitly name it then it defaults to <code>it</code>. You can read a bit more about it <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#it-implicit-name-of-a-single-parameter\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 323, "user_id": 4513189, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6281a74903790bf5a7335b92f7f2a14f?s=128&d=identicon&r=PG&f=1", "display_name": "Joey Weidman", "link": "https://stackoverflow.com/users/4513189/joey-weidman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1350, "favorite_count": 1, "accepted_answer_id": 46005932, "answer_count": 1, "score": 1, "last_activity_date": 1504480729, "creation_date": 1504289670, "question_id": 46005890, "link": "https://stackoverflow.com/questions/46005890/kotlin-higher-order-functions-to-count-the-amount-of-occurrences-in-a-list", "title": "Kotlin: Higher-order functions to count the amount of occurrences in a List?", "body": "<p>I'm trying to use Kotlin's higher-order functions to count how many times a specific element is contained in a list. I have tried something like</p>\n\n<pre><code>val result: Int? = list.count{ list.contains(\"element\") }\n</code></pre>\n\n<p>but it seems that is returning the size of the list, and I'm not sure why.</p>\n"}, {"tags": ["android", "admob", "kotlin", "google-admob"], "answers": [{"comments": [{"owner": {"reputation": 106, "user_id": 8491266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TcEVL.jpg?s=128&g=1", "display_name": "Marcel Skotnicki", "link": "https://stackoverflow.com/users/8491266/marcel-skotnicki"}, "edited": false, "score": 0, "creation_date": 1504281863, "post_id": 46003760, "comment_id": 78969136, "body": "well of course i can do that. I expected more admobish answer, because according to documentation, my implementation should be working. In addition, onDestroy() method is not guaranteed to be called and also there is flag <code>activity.isDestroyed()</code>"}], "tags": [], "owner": {"reputation": 10242, "user_id": 908821, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2c4a1ce95e4e53e7f4a556810232e0e3?s=128&d=identicon&r=PG", "display_name": "Angel Koh", "link": "https://stackoverflow.com/users/908821/angel-koh"}, "is_accepted": false, "score": 1, "last_activity_date": 1504280527, "creation_date": 1504280527, "answer_id": 46003760, "question_id": 46003531, "link": "https://stackoverflow.com/questions/46003531/admob-rewardedvideoad-keeps-running-in-background/46003760#46003760", "title": "AdMob RewardedVideoAd keeps running in background", "body": "<p>you can try to add a flag and check if the ads is available first before you show the ad? </p>\n\n<pre><code>fun onDestroy(){ isDestroyed =true  ...}\n</code></pre>\n\n<p>in the button click, you check if the ad is already loaded or the activity is being queued to be destroyed.</p>\n\n<pre><code>if(admobAd.isLoaded() &amp;&amp; !isDestroyed){ admobAd.show() }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 106, "user_id": 8491266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TcEVL.jpg?s=128&g=1", "display_name": "Marcel Skotnicki", "link": "https://stackoverflow.com/users/8491266/marcel-skotnicki"}, "edited": false, "score": 0, "creation_date": 1504374205, "post_id": 46004473, "comment_id": 78992827, "body": "thanks for your reply, but I don&#39;t want to destroy an ad when user simply minimize screen. that is why <code>adMobAd.pause(this)</code> method is called in <code>onPause()</code> method."}, {"owner": {"reputation": 576, "user_id": 6149988, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0206258f7e126edf440c2aa0c907ebbb?s=128&d=identicon&r=PG&f=1", "display_name": "Appafly", "link": "https://stackoverflow.com/users/6149988/appafly"}, "reply_to_user": {"reputation": 106, "user_id": 8491266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TcEVL.jpg?s=128&g=1", "display_name": "Marcel Skotnicki", "link": "https://stackoverflow.com/users/8491266/marcel-skotnicki"}, "edited": false, "score": 0, "creation_date": 1504374899, "post_id": 46004473, "comment_id": 78993044, "body": "then add the <code>onResume</code> method and load it and show it in the <code>onResume</code> method"}, {"owner": {"reputation": 106, "user_id": 8491266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TcEVL.jpg?s=128&g=1", "display_name": "Marcel Skotnicki", "link": "https://stackoverflow.com/users/8491266/marcel-skotnicki"}, "edited": false, "score": 0, "creation_date": 1504465088, "post_id": 46004473, "comment_id": 79013185, "body": "it means you request for an ad, load it and then display every time user maximize screen, which is very bad pattern. this is why in <code>onResume()</code> method you should call <code>adMobAd.resume(this)</code>."}], "tags": [], "owner": {"reputation": 576, "user_id": 6149988, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0206258f7e126edf440c2aa0c907ebbb?s=128&d=identicon&r=PG&f=1", "display_name": "Appafly", "link": "https://stackoverflow.com/users/6149988/appafly"}, "is_accepted": false, "score": 0, "last_activity_date": 1504283324, "creation_date": 1504283324, "answer_id": 46004473, "question_id": 46003531, "link": "https://stackoverflow.com/questions/46003531/admob-rewardedvideoad-keeps-running-in-background/46004473#46004473", "title": "AdMob RewardedVideoAd keeps running in background", "body": "<p>OnDestroy isnt always called, so also use OnPause, so one of them will be called. In your Activity, destroy the ad in the onPause method. Add this code:</p>\n\n<pre><code>@Override\nprotected void onPause() {\n    super.onPause();\n    adMobAd.destroy(this);\n}\n</code></pre>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 106, "user_id": 8491266, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TcEVL.jpg?s=128&g=1", "display_name": "Marcel Skotnicki", "link": "https://stackoverflow.com/users/8491266/marcel-skotnicki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 699, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1504283324, "creation_date": 1504279675, "last_edit_date": 1504280119, "question_id": 46003531, "link": "https://stackoverflow.com/questions/46003531/admob-rewardedvideoad-keeps-running-in-background", "title": "AdMob RewardedVideoAd keeps running in background", "body": "<p>So I have a field:</p>\n\n<p><code>private lateinit var adMobAd: RewardedVideoAd</code></p>\n\n<p>and I initialize it in onCreate() method:</p>\n\n<p><code>adMobAd = MobileAds.getRewardedVideoAdInstance(this)</code></p>\n\n<p>which I destroy in onDestroy() method:</p>\n\n<p><code>public override fun onDestroy() {\n        adMobAd.destroy(this)\n        super.onDestroy()\n    }</code></p>\n\n<p>but when I click the button to load an ad and then leave activity quickly, an ad is showed few seconds later (i show ad in <code>onRewardedVideoAdLoaded()</code> callback). It is very bad behaviour, specially when ad is not skippable. It also calls callback when it is done, so I got crashes of course. In addition, I use some mediations to my rewarded videos like </p>\n\n<p><code>implementation 'com.google.ads.mediation:adcolony:3.1.2.0'\n implementation 'com.google.ads.mediation:tapjoy:11.11.0.0'\n implementation 'com.google.ads.mediation:unity:2.1.0.0'</code> </p>\n\n<p>How can I prevent this case?</p>\n"}, {"tags": ["android", "search", "null", "widget", "kotlin"], "comments": [{"owner": {"reputation": 1320, "user_id": 1779222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a0f8a29a51d47bf7066267a9d3e0b20?s=128&d=identicon&r=PG", "display_name": "egoldx", "link": "https://stackoverflow.com/users/1779222/egoldx"}, "edited": false, "score": 0, "creation_date": 1504276124, "post_id": 46002346, "comment_id": 78965565, "body": "I guess <code>findItem</code> may return null item."}], "answers": [{"tags": [], "owner": {"reputation": 1911, "user_id": 5635880, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hNMO0.jpg?s=128&g=1", "display_name": "Brian Yencho", "link": "https://stackoverflow.com/users/5635880/brian-yencho"}, "is_accepted": true, "score": 11, "last_activity_date": 1504276419, "creation_date": 1504276419, "answer_id": 46002555, "question_id": 46002346, "link": "https://stackoverflow.com/questions/46002346/why-do-i-get-null-cannot-be-cast-to-non-null-type-android-widget-searchview/46002555#46002555", "title": "Why do I get: null cannot be cast to non-null type android.widget.SearchView ?", "body": "<p>Try replacing </p>\n\n<p><code>android:actionViewClass=\"android.widget.SearchView\"</code></p>\n\n<p>with </p>\n\n<p><code>app:actionViewClass=\"android.widget.SearchView\"</code></p>\n"}], "owner": {"reputation": 495, "user_id": 3158589, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/178c5d03980a8918cbc229ad90a241bb?s=128&d=identicon&r=PG&f=1", "display_name": "MisterNowhere", "link": "https://stackoverflow.com/users/3158589/misternowhere"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1928, "favorite_count": 0, "accepted_answer_id": 46002555, "answer_count": 1, "score": 3, "last_activity_date": 1504276419, "creation_date": 1504275720, "question_id": 46002346, "link": "https://stackoverflow.com/questions/46002346/why-do-i-get-null-cannot-be-cast-to-non-null-type-android-widget-searchview", "title": "Why do I get: null cannot be cast to non-null type android.widget.SearchView ?", "body": "<p>I am trying to implement the \"search widget\" on my Menu Bar.. But I am getting the error: \"null cannot be cast to non-null type android.widget.SearchView\".. I did sme attempts to solve the problem, but no result.. </p>\n\n<p>Could you give me some hints? </p>\n\n<p>minSdkVersion 17\ntargetSdkVersion 26</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>override fun onCreateOptionsMenu(menu: Menu?): Boolean {\n\n        menuInflater.inflate(R.menu.menu, menu)\n\n        val searchView = menu!!.findItem(R.id.app_bar_search).actionView as SearchView\n        val searchManager = getSystemService(Context.SEARCH_SERVICE) as SearchManager\n        searchView.setSearchableInfo(searchManager.getSearchableInfo(componentName))\n        searchView.setOnQueryTextListener(object: SearchView.OnQueryTextListener{\n            override fun onQueryTextSubmit(p0: String?): Boolean {\n                return false\n            }\n\n            override fun onQueryTextChange(p0: String?): Boolean {\n                return false\n            }\n\n        })\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;item\r\n        android:id=\"@+id/app_bar_search\"\r\n        android:actionViewClass=\"android.widget.SearchView\"\r\n        android:icon=\"@drawable/ic_search_black_24dp\"\r\n        android:title=\"Search\"\r\n        app:showAsAction=\"always\"/&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 299, "user_id": 4200345, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FD57A.jpg?s=128&g=1", "display_name": "Michael Scott", "link": "https://stackoverflow.com/users/4200345/michael-scott"}, "edited": false, "score": 0, "creation_date": 1504275064, "post_id": 46001879, "comment_id": 78964822, "body": "Yes this works. A little messier than the java version because it requires some additional members (and I&#39;d like to have multiple of these timer events being fired for different delay intervals), but this is acceptable."}], "tags": [], "owner": {"reputation": 929, "user_id": 7855177, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-avNsBxd4mKE/AAAAAAAAAAI/AAAAAAAAABQ/dSTXwqwzagQ/photo.jpg?sz=128", "display_name": "Piwo", "link": "https://stackoverflow.com/users/7855177/piwo"}, "is_accepted": true, "score": 5, "last_activity_date": 1504274395, "creation_date": 1504274395, "answer_id": 46001879, "question_id": 46001792, "link": "https://stackoverflow.com/questions/46001792/writing-a-timer-using-handler-in-kotlin/46001879#46001879", "title": "Writing a timer using Handler in Kotlin", "body": "<p>You could move the routine you want to execute periodically in a separate function:</p>\n\n<pre><code>val runnable = Runnable { doJob() }\n\nfun doJob() {\n    EventManager.post(BoutiqueRefreshTimerEvent())\n    handler.postDelayed(runnable, delayMs)\n}\n</code></pre>\n\n<p>Note that the variable <code>runnable</code> needs to be accessable in scope of the doJob()-function, that means it should be a class-member, if you are in a class/object. </p>\n"}, {"comments": [{"owner": {"reputation": 299, "user_id": 4200345, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FD57A.jpg?s=128&g=1", "display_name": "Michael Scott", "link": "https://stackoverflow.com/users/4200345/michael-scott"}, "edited": false, "score": 0, "creation_date": 1504278577, "post_id": 46001955, "comment_id": 78967174, "body": "I need this to run repeatedly at the given interval. Not sure how this solves that."}], "tags": [], "owner": {"reputation": 91, "user_id": 6573107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f36d470c3dcd3f36f708b34316a65c6?s=128&d=identicon&r=PG&f=1", "display_name": "Daya Shankar", "link": "https://stackoverflow.com/users/6573107/daya-shankar"}, "is_accepted": false, "score": 9, "last_activity_date": 1504349368, "last_edit_date": 1504349368, "creation_date": 1504274630, "answer_id": 46001955, "question_id": 46001792, "link": "https://stackoverflow.com/questions/46001792/writing-a-timer-using-handler-in-kotlin/46001955#46001955", "title": "Writing a timer using Handler in Kotlin", "body": "<p>This will work</p>\n\n<pre><code>val updateHandler = Handler()\n\n    val runnable = Runnable {\n        updateDisplay() // some action(s)\n    }\n\n    updateHandler.postDelayed(runnable, 5000).\n\nprivate fun updateDisplay() {\n      Do actions\n}\n</code></pre>\n\n<p>Or if you are not too much familiar with Kotlin, write your code and convert your android Code to Kotlin using <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>Shift</kbd>+<kbd>K</kbd>\". </p>\n"}, {"comments": [{"owner": {"reputation": 299, "user_id": 4200345, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FD57A.jpg?s=128&g=1", "display_name": "Michael Scott", "link": "https://stackoverflow.com/users/4200345/michael-scott"}, "edited": false, "score": 0, "creation_date": 1504278527, "post_id": 46002685, "comment_id": 78967141, "body": "Nice answer. I still have a little trouble still wrapping my head around apply, but this is the answer that comes close to the spirit of the original java implementation."}, {"owner": {"reputation": 339, "user_id": 3936723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d97f6838de9899b97196c6be08048a64?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Kami\u0144ski", "link": "https://stackoverflow.com/users/3936723/kamil-kami%c5%84ski"}, "reply_to_user": {"reputation": 299, "user_id": 4200345, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FD57A.jpg?s=128&g=1", "display_name": "Michael Scott", "link": "https://stackoverflow.com/users/4200345/michael-scott"}, "edited": false, "score": 0, "creation_date": 1504298430, "post_id": 46002685, "comment_id": 78976350, "body": "Apply is simple, look at the example I created: <a href=\"https://gist.github.com/Kaminiak/279caea50ee5ce11c908a9a176c279b7\" rel=\"nofollow noreferrer\">gist.github.com/Kaminiak/279caea50ee5ce11c908a9a176c279b7</a>"}], "tags": [], "owner": {"reputation": 339, "user_id": 3936723, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d97f6838de9899b97196c6be08048a64?s=128&d=identicon&r=PG&f=1", "display_name": "Kamil Kami\u0144ski", "link": "https://stackoverflow.com/users/3936723/kamil-kami%c5%84ski"}, "is_accepted": false, "score": 7, "last_activity_date": 1504276824, "creation_date": 1504276824, "answer_id": 46002685, "question_id": 46001792, "link": "https://stackoverflow.com/questions/46001792/writing-a-timer-using-handler-in-kotlin/46002685#46002685", "title": "Writing a timer using Handler in Kotlin", "body": "<p>You could also use something like this:</p>\n\n<pre><code>private fun startBoutiqueRefreshTimer(delayMs: Long) {\n    Handler().apply {\n        val runnable = object : Runnable {\n            override fun run() {\n                EventManager.post(BoutiqueRefreshTimerEvent())\n                postDelayed(this, delayMs)\n            }\n        }\n        postDelayed(runnable, delayMs)\n    }\n}\n</code></pre>\n\n<p>I used here <code>apply()</code> function to simplify Handler variable, and <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"noreferrer\">object expression</a> to allow referencing to Runnable.</p>\n\n<p>As you can see, when I used object expression to initialize <code>Runnable</code> (instead of lambda), then I can use <code>this</code> to reference to <code>Runnable</code> object.</p>\n"}, {"tags": [], "owner": {"reputation": 121, "user_id": 5602666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/79ff7b57b615f42cab567a4d6426c85a?s=128&d=identicon&r=PG&f=1", "display_name": "Divya", "link": "https://stackoverflow.com/users/5602666/divya"}, "is_accepted": false, "score": 0, "last_activity_date": 1520603532, "creation_date": 1520603532, "answer_id": 49195306, "question_id": 46001792, "link": "https://stackoverflow.com/questions/46001792/writing-a-timer-using-handler-in-kotlin/49195306#49195306", "title": "Writing a timer using Handler in Kotlin", "body": "<p>This worked for me, where Hanlder using postDelayed</p>\n\n<pre><code>    override fun onCreateView(inflater: LayoutInflater?, container: \n    ViewGroup?, savedInstanceState: Bundle?): View? {\n    val handler = Handler()\n    handler.postDelayed(mSplashHandler,1500)\n    return view\n    }\n\n   internal var mSplashHandler: Runnable = Runnable {\n   // your code to do after handler completes\n   }\n</code></pre>\n"}], "owner": {"reputation": 299, "user_id": 4200345, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FD57A.jpg?s=128&g=1", "display_name": "Michael Scott", "link": "https://stackoverflow.com/users/4200345/michael-scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15440, "favorite_count": 0, "accepted_answer_id": 46001879, "answer_count": 4, "score": 6, "last_activity_date": 1520603532, "creation_date": 1504274150, "question_id": 46001792, "link": "https://stackoverflow.com/questions/46001792/writing-a-timer-using-handler-in-kotlin", "title": "Writing a timer using Handler in Kotlin", "body": "<p>I'm trying to implement an Android timer in Kotlin which will fire an event at a defined time interval. I dont want to use TimerTask due to its documented weaknesses (<a href=\"https://stackoverflow.com/questions/20330355/timertask-or-handler\">see here</a>) and although there are potentially other ways to do it, I'd like to use a Handler/Runnable in a post-delayed loop. In Java this is possible since the Runnable can refer to itself in the initializer, however in Kotlin it seems this is not possible:</p>\n\n<pre><code>private fun startBoutiqueRefreshTimer(delayMs: Long) {\n    val handler = Handler()\n    val runnable = Runnable() {\n        EventManager.post(BoutiqueRefreshTimerEvent())\n        handler.postDelayed(runnable, delayMs)\n    }\n    handler.postDelayed(runnable, delayMs)\n}\n</code></pre>\n\n<p>because runnable cannot be resolved in the inner postDelayed call. Kotlin apparently prevents variable references from within their own initializers. </p>\n\n<p>What would be a good solution to this problem, still using the Handler/Runnable approach?</p>\n"}, {"tags": ["android", "kotlin", "mvp", "dagger", "mosby"], "answers": [{"tags": [], "owner": {"reputation": 314, "user_id": 5111493, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/23KJY.png?s=128&g=1", "display_name": "J-me", "link": "https://stackoverflow.com/users/5111493/j-me"}, "is_accepted": false, "score": 0, "last_activity_date": 1504272561, "creation_date": 1504272561, "answer_id": 46001351, "question_id": 46000638, "link": "https://stackoverflow.com/questions/46000638/how-can-i-inject-object-into-presenter-in-android-kotlin-mvp-mosby-app-with-dagg/46001351#46001351", "title": "How can i inject object into presenter in android kotlin MVP mosby app with dagger", "body": "<p>Please refer to <a href=\"https://github.com/grandstaish/hello-mvp-dagger-2\" rel=\"nofollow noreferrer\">this</a> example on how to use Dagger 2 in combination with MVP.</p>\n"}, {"tags": [], "owner": {"reputation": 3165, "user_id": 1632988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd77923cbf408d789294ebc5befb421?s=128&d=identicon&r=PG", "display_name": "Bozic Nebojsa", "link": "https://stackoverflow.com/users/1632988/bozic-nebojsa"}, "is_accepted": false, "score": 0, "last_activity_date": 1504272605, "creation_date": 1504272605, "answer_id": 46001362, "question_id": 46000638, "link": "https://stackoverflow.com/questions/46000638/how-can-i-inject-object-into-presenter-in-android-kotlin-mvp-mosby-app-with-dagg/46001362#46001362", "title": "How can i inject object into presenter in android kotlin MVP mosby app with dagger", "body": "<p>You have to tell your component where you want to inject it. </p>\n\n<p>So, try with this component:</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(AppModule::class, DaoModule::class))\ninterface DaoComponent {\n    fun inject(presenter: MainPresenterImpl)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 6152945, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4b41d1b67f5a985736c64c66fb91b795?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr", "link": "https://stackoverflow.com/users/6152945/piotr"}, "edited": false, "score": 0, "creation_date": 1504549740, "post_id": 46015232, "comment_id": 79045078, "body": "This is the answer i was looking for. Thanks"}], "tags": [], "owner": {"reputation": 14564, "user_id": 997851, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/63c8b0590595c3de58406678ef99a6bf?s=128&d=identicon&r=PG", "display_name": "sockeqwe", "link": "https://stackoverflow.com/users/997851/sockeqwe"}, "is_accepted": true, "score": 1, "last_activity_date": 1504365369, "creation_date": 1504365369, "answer_id": 46015232, "question_id": 46000638, "link": "https://stackoverflow.com/questions/46000638/how-can-i-inject-object-into-presenter-in-android-kotlin-mvp-mosby-app-with-dagg/46015232#46015232", "title": "How can i inject object into presenter in android kotlin MVP mosby app with dagger", "body": "<p>Your component should provide the presenter like that:</p>\n\n<pre><code>@Component(modules = arrayOf(AppModule::class, DaoModule::class))\n@Singleton\ninterface MyComponent {\n   mainPresenter() : MainPresenter\n}\n</code></pre>\n\n<p>And all dependencies the presenter needs are injected to the presenter via constructor parameters:</p>\n\n<pre><code>class MainPresenterImpl \n    @Inject constructor(private val estateService : EstateService ) :\n    MvpBasePresenter&lt;MainView&gt;(),MainPresenter {\n   ...\n}\n</code></pre>\n\n<p>Than in <code>createPresenter()</code> just grab the presenter from dagger component like this:</p>\n\n<pre><code>class MainActivity : MvpActivity&lt;MainView, MainPresenter&gt;(), MainView {\n\n    ...\n\n    override fun createPresenter(): MainPresenter =  \n       (application as MyApp).myComponent().mainPresenter()\n}\n</code></pre>\n\n<p>Please note that the code shown above will not compile. This is just pseudocode to give you an idea how the dependency graph could look like in Dagger.</p>\n"}], "owner": {"reputation": 65, "user_id": 6152945, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4b41d1b67f5a985736c64c66fb91b795?s=128&d=identicon&r=PG&f=1", "display_name": "Piotr", "link": "https://stackoverflow.com/users/6152945/piotr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 745, "favorite_count": 1, "accepted_answer_id": 46015232, "answer_count": 3, "score": 0, "last_activity_date": 1504365369, "creation_date": 1504270189, "last_edit_date": 1504271967, "question_id": 46000638, "link": "https://stackoverflow.com/questions/46000638/how-can-i-inject-object-into-presenter-in-android-kotlin-mvp-mosby-app-with-dagg", "title": "How can i inject object into presenter in android kotlin MVP mosby app with dagger", "body": "<p>I am trying to get dagger working in my application.\nAfter creating Module Component and MyApp i can use dagger to inject database service into view but i am having trouble doing same thing with presenter.\nCode:</p>\n\n<pre><code>class MyApp : Application() {\n\n    var daoComponent: DaoComponent? = null\n    private set\n\n    override fun onCreate() {\n        super.onCreate()\n\n        daoComponent = DaggerDaoComponent.builder()\n            .appModule(AppModule(this)) // This also corresponds to the name of your module: %component_name%Module\n            .daoModule(DaoModule())\n            .build()\n    }\n}\n</code></pre>\n\n<p>Module</p>\n\n<pre><code>@Module\nclass DaoModule {\n    @Provides\n    fun providesEstateService(): EstateService = EstateServiceImpl()\n}\n</code></pre>\n\n<p>Component</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(AppModule::class, DaoModule::class))\ninterface DaoComponent {\n    fun inject(activity: MainActivity)\n}\n</code></pre>\n\n<p>AppModule</p>\n\n<pre><code>@Module\nclass AppModule(internal var mApplication: Application) {\n\n    @Provides\n    @Singleton\n    internal fun providesApplication(): Application {\n        return mApplication\n    }\n}\n</code></pre>\n\n<p>MainActivity</p>\n\n<pre><code>class MainActivity : MvpActivity&lt;MainView, MainPresenter&gt;(), MainView {\n    @Inject\n    lateinit var estateService : EstateService\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        (application as MyApp).daoComponent!!.inject(this)estateService.numberOfInvoicedEstates.toString()\n    }\n\n    override fun createPresenter(): MainPresenter = MainPresenterImpl()\n}\n</code></pre>\n\n<p>After injecting estateService this way I can use it, but I cant figure out how do I inject service directly into the presenter.\nI tried doing it like this but it isn't working. \nShould I just pass injected objects from the activity? or maybe I should pass MyApp as an argument or make static method allowing my to get it from any place in the application?</p>\n\n<pre><code>class MainPresenterImpl \n    @Inject\n    constructor(): MvpBasePresenter&lt;MainView&gt;(),MainPresenter {\n        @Inject\n        lateinit var estateService : EstateService\n}\n</code></pre>\n"}, {"tags": ["properties", "kotlin", "getter", "delegated-properties"], "comments": [{"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 2, "creation_date": 1504268058, "post_id": 45999564, "comment_id": 78960220, "body": "While this does not answer your question, I would strongly advise against mutating a property in a getter. It violates the principle of least surprise."}], "answers": [{"comments": [{"owner": {"reputation": 1811, "user_id": 3209132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pye1s.jpg?s=128&g=1", "display_name": "Pramod Garg", "link": "https://stackoverflow.com/users/3209132/pramod-garg"}, "edited": false, "score": 0, "creation_date": 1504268308, "post_id": 46000092, "comment_id": 78960372, "body": "Wouldn&#39;t it create a new object every time I access the property?"}], "tags": [], "owner": {"reputation": 3165, "user_id": 1632988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cd77923cbf408d789294ebc5befb421?s=128&d=identicon&r=PG", "display_name": "Bozic Nebojsa", "link": "https://stackoverflow.com/users/1632988/bozic-nebojsa"}, "is_accepted": false, "score": 0, "last_activity_date": 1504268864, "last_edit_date": 1504268864, "creation_date": 1504268069, "answer_id": 46000092, "question_id": 45999564, "link": "https://stackoverflow.com/questions/45999564/cant-use-custom-getter-with-delegated-property/46000092#46000092", "title": "Can&#39;t use custom getter with delegated property", "body": "<p>I am not a Kotlin expert, but it sounds wrong to me.\nBy delegating to lazy you want to init object on its first getter call. And then, you are trying to write custom getter. \nI see a conflict there.</p>\n\n<p>Maybe:</p>\n\n<pre><code>private val labelAnimator: ObjectAnimator by lazy {\n    val labelAnimator = ObjectAnimator.ofFloat(this, \"floatingLabelFraction\", 0f, 1f)\n    labelAnimator.duration = (if (isFloatingLabelAnimating) 300 else 0).toLong()\n    labelAnimator\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 4, "last_activity_date": 1504276283, "creation_date": 1504276283, "answer_id": 46002512, "question_id": 45999564, "link": "https://stackoverflow.com/questions/45999564/cant-use-custom-getter-with-delegated-property/46002512#46002512", "title": "Can&#39;t use custom getter with delegated property", "body": "<p>You could for example use your original property as <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-properties\" rel=\"nofollow noreferrer\">Backing Property</a> and actually define the property as a delegation to it.</p>\n\n<pre><code>private val _labelAnimator by lazy {\n    ObjectAnimator.ofFloat(this, \"floatingLabelFraction\", 0f, 1f)\n}\n\nval labelAnimator: ObjectAnimator\n    get() {\n        _labelAnimator.duration = if (isFloatingLabelAnimating) 300L else 0L\n        return _labelAnimator\n    }\n</code></pre>\n\n<p>This gives you a <code>getLabelAnimator()</code> method in <em>Java</em> and direct property access in <em>Kotlin</em>.</p>\n\n<p>But like it was stated several times before, it might not be the best way to implement such behavior. A simple factory could do the same with little overhead.</p>\n"}, {"tags": [], "owner": {"reputation": 5291, "user_id": 5279156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHs51.jpg?s=128&g=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/5279156/vlad"}, "is_accepted": false, "score": 0, "last_activity_date": 1545464595, "creation_date": 1545464595, "answer_id": 53893918, "question_id": 45999564, "link": "https://stackoverflow.com/questions/45999564/cant-use-custom-getter-with-delegated-property/53893918#53893918", "title": "Can&#39;t use custom getter with delegated property", "body": "<p>The shortest version</p>\n\n<pre><code>private val labelAnimator: ObjectAnimator by lazy {\n    ObjectAnimator.ofFloat(this, \"floatingLabelFraction\", 0f, 1f).apply {\n        duration = if (isFloatingLabelAnimating) 300L else 0L\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1811, "user_id": 3209132, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pye1s.jpg?s=128&g=1", "display_name": "Pramod Garg", "link": "https://stackoverflow.com/users/3209132/pramod-garg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 716, "favorite_count": 0, "accepted_answer_id": 46002512, "answer_count": 3, "score": 3, "last_activity_date": 1545464595, "creation_date": 1504266245, "last_edit_date": 1504267469, "question_id": 45999564, "link": "https://stackoverflow.com/questions/45999564/cant-use-custom-getter-with-delegated-property", "title": "Can&#39;t use custom getter with delegated property", "body": "<p>I am new to kotlin and can't figure out this issue.</p>\n\n<p>I have a property that is not nullable and may or may not be used.\nHence I have delegated it in a lazy way so that it is initialized when required.</p>\n\n<pre><code>private val labelAnimator: ObjectAnimator by lazy {\n    ObjectAnimator.ofFloat(this, \"floatingLabelFraction\", 0f, 1f)\n}\n</code></pre>\n\n<p>However, I also need to set some property of that object every time it is accessed.</p>\n\n<pre><code>fun getLabelAnimator(): ObjectAnimator {\n    labelAnimator.duration = (if (isFloatingLabelAnimating) 300 else 0).toLong()\n    return labelAnimator\n}\n</code></pre>\n\n<p>But I cannot use a custom getter since the property is delegated.\nHow do I achieve this in best possible way?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 577, "user_id": 5691049, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CqR16z9lkl4/AAAAAAAAAAI/AAAAAAAAAK4/zHFoWJFlE3g/photo.jpg?sz=128", "display_name": "Pravin Londhe", "link": "https://stackoverflow.com/users/5691049/pravin-londhe"}, "edited": false, "score": 2, "creation_date": 1504265531, "post_id": 45999253, "comment_id": 78958677, "body": "see <a href=\"https://stackoverflow.com/questions/45875491/what-is-a-receiver-in-kotlin\" title=\"what is a receiver in kotlin\">stackoverflow.com/questions/45875491/&hellip;</a> this will may help"}], "answers": [{"tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": false, "score": 11, "last_activity_date": 1504553594, "last_edit_date": 1504553594, "creation_date": 1504268416, "answer_id": 46000203, "question_id": 45999253, "link": "https://stackoverflow.com/questions/45999253/difference-between-function-receiver-and-extension-function/46000203#46000203", "title": "Difference between function receiver and extension function", "body": "<h2><strong>Extension functions:</strong></h2>\n\n<p>Like Swift and C#, Kotlin provides the ability to extend a class with new functionality without having to modify the class or inherit from the class. </p>\n\n<p>You might wonder why? Because we cannot edit and add functions to the language or SDK classes. So we end up creating Util classes in Java. I believe all the projects have a bunch of *Utils classes to put the helper methods that are used at multiple places in the code base. Extensions functions help to fix this Util problem. </p>\n\n<p>How do we write a helper method in Java to find whether the given long value refers to today?</p>\n\n<pre><code>public class DateUtils {\n\n    public static boolean isToday(long when) {\n        // logic ...\n    }\n}\n</code></pre>\n\n<p>And we call that method by passing the long value as an argument: </p>\n\n<pre><code>void someFunc(long when) {\n    boolean isToday = DateUtils.isToday(when);\n}\n</code></pre>\n\n<p>In Kotlin, we can extend the Long class to include the isToday() function in it. And we can call the isToday() function on the Long value itself like any other member functions in the class. </p>\n\n<pre><code>// Extension function\nfun Long.isToday(): Boolean {\n    // logic ... \n}\n\nfun someFunc(time: Long) {\n    val isToday = time.isToday()\n}\n</code></pre>\n\n<p>Compared to the Util methods, Kotlin provides a much richer syntax using the Extension functions. </p>\n\n<p>This improves the readability of the code which in turns improves its maintainability. And we get a little help from the code completion of the IDE. So we don't have to remember which Util class to use for the desired function. </p>\n\n<p>Under the hood, Kotlin compiler generates the static helper methods as though we had written them as Java static Util methods. So we get this nice and richer syntax in Kotlin without sacrificing any performance. </p>\n\n<p>Similar to functions, Kotlin also supports extension properties where we can add a property to an existing class. </p>\n\n<h2><strong>Higher order functions:</strong></h2>\n\n<p>A higher-order function is a function that takes functions as parameters, or returns a function. </p>\n\n<p>Lets look at how a higher order function is written. </p>\n\n<pre><code>fun execute(x: Int, y: Int, op: (Int, Int) -&gt; Int): Int {\n    return op(x, y)\n}\n</code></pre>\n\n<p>Here the third parameter ( op ) is a function and so it makes this function a higher order function. The type of the parameter op is a function that takes 2 Ints as parameter and returns a Int.</p>\n\n<p>To invoke this Higher order function, we can pass a function or a lambda expression:</p>\n\n<pre><code>execute(5, 5) { a, b -&gt; a + b }\n</code></pre>\n\n<h2><strong>Receiver (or Function literal with Receiver or Lambda with Recevier):</strong></h2>\n\n<p>A Higher order function that takes an extension function as its parameter is called Lambda with Receiver. </p>\n\n<p>Let's look at the implementation of the apply function which is available in the Kotlin standard library. </p>\n\n<pre><code>inline fun &lt;T&gt; T.apply(block: T.() -&gt; Unit): T { block(); return this }\n</code></pre>\n\n<p>The function we pass to this apply function is actually an extension function to the type T. So in the lambda function, we can access the properties and the functions of the type T as though we are writing this function inside class T itself. </p>\n\n<p>Here the generic type T is the receiver and we are passing a lambda function, hence the name Lambda with Receiver. </p>\n\n<p>Another Example:</p>\n\n<pre><code>inline fun SQLiteDatabase.inTransaction(func: SQLiteDatabase.() -&gt; Unit) {\n    beginTransaction()\n    try {\n        func()\n        setTransactionSuccessful()\n    } finally {\n        endTransaction()\n    }\n}\n</code></pre>\n\n<p>Here, the inTransaction() is an Extension function to the SQLiteDatabase class and the parameter of the inTransaction() function is also an extension function to the SQLiteDatabase class. Here SQLiteDatabase is the receiver, for the lambda that is passed as the argument. </p>\n\n<p>To invoke that function:</p>\n\n<pre><code>db.inTransaction {\n    delete( ... )\n}\n</code></pre>\n\n<p>Here the delete() is the function of the <code>SQLiteDatabase</code> class and since the lambda we pass is an Extension function to the receiver <code>SQLiteDatabase</code> we can access the delete function without any additional qualifiers with it, as though we are calling the function from inside the <code>SQLiteDatabase</code> class itself. </p>\n"}, {"tags": [], "owner": {"reputation": 1138, "user_id": 311372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cb079714eddc41518d213b81f9c8114?s=128&d=identicon&r=PG", "display_name": "Typhlosaurus", "link": "https://stackoverflow.com/users/311372/typhlosaurus"}, "is_accepted": false, "score": 4, "last_activity_date": 1559659414, "last_edit_date": 1559659414, "creation_date": 1559656511, "answer_id": 56445420, "question_id": 45999253, "link": "https://stackoverflow.com/questions/45999253/difference-between-function-receiver-and-extension-function/56445420#56445420", "title": "Difference between function receiver and extension function", "body": "<p>While @Bob's answer is far more informative on Kotlin than could I hope to be, including extension functions, it doesn't directly refer to the comparison between \"function literals with receiver\" as described in <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver</a> and extension functions (<a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/extensions.html</a>).  I.e. the difference between:</p>\n\n<pre><code>val isEven: Int.() -&gt; Boolean = { this % 2 == 0 }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>fun Int.isEven(): Boolean = this % 2 == 0\n</code></pre>\n\n<p>The <em>receiver</em> part of the name refers to  both of these syntaxes receiving the base <code>Int</code> argument as <code>this</code>.</p>\n\n<p>As I understand it, the difference between the two is simply between one being an expression confirming to a function type and the other a declaration.  Functionally they are equivalent and can both be called as:</p>\n\n<pre><code>when { myNumber.isEven() -&gt; doSomething(myNumber) }\n</code></pre>\n\n<p>but one is intended for use in extension libraries, while the other is typically intended for use as an argument for a function with a function-type parameter, particularly the Kotlin builder DSLs.</p>\n"}], "owner": {"reputation": 148, "user_id": 7444428, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/5bfd4cacc5500a275770db89da412684?s=128&d=identicon&r=PG&f=1", "display_name": "roki", "link": "https://stackoverflow.com/users/7444428/roki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1528, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1559659414, "creation_date": 1504265129, "question_id": 45999253, "link": "https://stackoverflow.com/questions/45999253/difference-between-function-receiver-and-extension-function", "title": "Difference between function receiver and extension function", "body": "<p>I was reading about Kotlin and did not quite get the idea</p>\n\n<p>from What I understood extension function  gives ability to a class with new functionality without having to inherit from the class </p>\n\n<p>and what is receiver the same except it can be assigned to variable </p>\n\n<p>Is there anything else about it?</p>\n\n<p>Can someone give some examples on it </p>\n"}, {"tags": ["android", "kotlin", "rx-java2", "android-databinding"], "answers": [{"tags": [], "owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "is_accepted": true, "score": 1, "last_activity_date": 1504261505, "creation_date": 1504261505, "answer_id": 45998196, "question_id": 45997922, "link": "https://stackoverflow.com/questions/45997922/use-kotlins-unit-or-any-other-object-type-in-android-layout/45998196#45998196", "title": "Use kotlin&#39;s Unit (or any other object) type in android layout", "body": "<p>You should be able to use <code>Unit.INSTANCE</code>, as in Java code.</p>\n"}], "owner": {"reputation": 3369, "user_id": 155668, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/p0C9y.jpg?s=128&g=1", "display_name": "rdoubleui", "link": "https://stackoverflow.com/users/155668/rdoubleui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 45998196, "answer_count": 1, "score": 0, "last_activity_date": 1504261505, "creation_date": 1504260607, "question_id": 45997922, "link": "https://stackoverflow.com/questions/45997922/use-kotlins-unit-or-any-other-object-type-in-android-layout", "title": "Use kotlin&#39;s Unit (or any other object) type in android layout", "body": "<p>Looking into Kotlin's <a href=\"https://github.com/JetBrains/kotlin/blob/1.1.3/core/builtins/src/kotlin/Unit.kt#L22\" rel=\"nofollow noreferrer\"><code>Unit</code></a> type, which is an <code>object</code> basically representing Java's <code>void</code>.</p>\n\n<p>On some occasions I'd like to use a <code>PublishSubject&lt;Unit&gt;</code> in a <code>onClick</code> data binding to basically just signal the click. The android xml looks like this:</p>\n\n<pre><code>&lt;android.support.v7.widget.AppCompatButton\n    android:layout_width=\"148dp\"\n    android:layout_height=\"60dp\"\n    android:onClick=\"@{() -&gt; viewModel.navigateSubject.onNext(Unit)}\" /&gt;\n</code></pre>\n\n<p>Within the <code>layout</code> I'm introducing the type:</p>\n\n<pre><code>&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n    &lt;data&gt;\n        &lt;variable\n            name=\"viewModel\"\n            type=\"com.example.TestViewModel\"/&gt;        \n        &lt;import type=\"kotlin.Unit\"/&gt;\n    &lt;/data&gt;\n    [...]\n</code></pre>\n\n<p>However the call of the object type in this way is of course not possible, has anybody found a way to use the <code>Unit</code> type in android xml?</p>\n"}, {"tags": ["android", "fragment", "kotlin", "instantiationexception"], "comments": [{"owner": {"reputation": 577, "user_id": 5691049, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CqR16z9lkl4/AAAAAAAAAAI/AAAAAAAAAK4/zHFoWJFlE3g/photo.jpg?sz=128", "display_name": "Pravin Londhe", "link": "https://stackoverflow.com/users/5691049/pravin-londhe"}, "edited": false, "score": 1, "creation_date": 1504255447, "post_id": 45996315, "comment_id": 78952579, "body": "looks like you created private constructor.Please put code snippet"}, {"owner": {"reputation": 2164, "user_id": 5245903, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-5fU-jiQTlHk/AAAAAAAAAAI/AAAAAAAAABE/4mAEDlzlHQs/photo.jpg?sz=128", "display_name": "Veneet Reddy", "link": "https://stackoverflow.com/users/5245903/veneet-reddy"}, "edited": false, "score": 0, "creation_date": 1504256476, "post_id": 45996315, "comment_id": 78953237, "body": "Post the code for the fragment"}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1504256490, "post_id": 45996315, "comment_id": 78953248, "body": "Please show your code. It is not enough with just log message."}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 1, "creation_date": 1504258052, "post_id": 45996315, "comment_id": 78954194, "body": "Well, it is not randomized as Android system is automatically trying to instantiate your fragment using a no-param constructor, which you probably haven&#39;t supplied. But we are unable to say without the actual code"}], "answers": [{"tags": [], "owner": {"reputation": 186, "user_id": 3550923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8635cd7f5a6e41902fa8212b0b97465d?s=128&d=identicon&r=PG&f=1", "display_name": "chandra", "link": "https://stackoverflow.com/users/3550923/chandra"}, "is_accepted": true, "score": 0, "last_activity_date": 1504270698, "creation_date": 1504270698, "answer_id": 46000790, "question_id": 45996315, "link": "https://stackoverflow.com/questions/45996315/kotlin-1-1-3-2-unable-to-instantiate-fragment-in-onresume-android/46000790#46000790", "title": "Kotlin 1.1.3-2 Unable to instantiate fragment in OnResume Android", "body": "<p>When you are using object keyword, you make constructor to private then android cannot recreate your fragment. My workaround is :</p>\n\n<pre><code>class MyFragment : Fragment() {\n\n    companion object {\n        @JvmStatic val fragment = MyFragment()\n    }\n\n// rest or your code \n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 4243016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab538d6862b0211a19f0350721437a3c?s=128&d=identicon&r=PG&f=1", "display_name": "Tron", "link": "https://stackoverflow.com/users/4243016/tron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1139, "favorite_count": 0, "accepted_answer_id": 46000790, "answer_count": 1, "score": 1, "last_activity_date": 1504270698, "creation_date": 1504255309, "last_edit_date": 1504260759, "question_id": 45996315, "link": "https://stackoverflow.com/questions/45996315/kotlin-1-1-3-2-unable-to-instantiate-fragment-in-onresume-android", "title": "Kotlin 1.1.3-2 Unable to instantiate fragment in OnResume Android", "body": "<p>I have this problem here:</p>\n\n<pre><code>FATAL EXCEPTION: main Process: com.mytest.app, PID: 20586\n                                               java.lang.RuntimeException: Unable to start activity ComponentInfo{com.mytest.app/com.mytest.app.activities.home.HomeActivity}: android.app.Fragment$InstantiationException: Unable to instantiate fragment \n                                               com.mytest.app.activities.fragments.MyFragment: make sure class name exists, is public, and has an empty constructor that is public\n                                                   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2371)\n                                                   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2423)\n                                                   at android.app.ActivityThread.access$800(ActivityThread.java:151)\n                                                   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1342)\n                                                   at android.os.Handler.dispatchMessage(Handler.java:110)\n                                                   at android.os.Looper.loop(Looper.java:193)\n                                                   at android.app.ActivityThread.main(ActivityThread.java:5327)\n                                                   at java.lang.reflect.Method.invokeNative(Native Method)\n                                                   at java.lang.reflect.Method.invoke(Method.java:515)\n                                                   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:824)\n                                                   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:640)\n                                                   at dalvik.system.NativeStart.main(Native Method)\n                                                Caused by: android.app.Fragment$InstantiationException: Unable to instantiate fragment com.mytest.app.activities.fragments.MyFragment: make sure class name exists, is public, and has an empty constructor that is public\n                                                   at android.app.Fragment.instantiate(Fragment.java:605)\n                                                   at android.app.FragmentState.instantiate(Fragment.java:98)\n                                                   at android.app.FragmentManagerImpl.restoreAllState(FragmentManager.java:1759)\n                                                   at android.app.Activity.onCreate(Activity.java:903)\n                                                   at android.support.v4.app.FragmentActivity.onCreate(FragmentActivity.java:277)\n                                                   at android.support.v7.app.AppCompatActivity.onCreate(AppCompatActivity.java:84)\n                                                   at com.mytest.app.activities.MyActivity.onCreate(MyActivity.java:26)\n                                                   at com.mytest.app.activities.home.HomeActivity.onCreate(HomeActivity.kt:83)\n                                                   at android.app.Activity.performCreate(Activity.java:5343)\n                                                   at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1088)\n                                                   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2331)\n                                                   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2423)\u00a0\n                                                   at android.app.ActivityThread.access$800(ActivityThread.java:151)\u00a0\n                                                   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1342)\u00a0\n                                                   at android.os.Handler.dispatchMessage(Handler.java:110)\u00a0\n                                                   at android.os.Looper.loop(Looper.java:193)\u00a0\n                                                   at android.app.ActivityThread.main(ActivityThread.java:5327)\u00a0\n                                                   at java.lang.reflect.Method.invokeNative(Native Method)\u00a0\n                                                   at java.lang.reflect.Method.invoke(Method.java:515)\u00a0\n                                                   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:824)\u00a0\n                                                   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:640)\u00a0\n                                                   at dalvik.system.NativeStart.main(Native Method)\u00a0\n                                                Caused by: java.lang.IllegalAccessException: access to constructor not allowed\n                                                   at java.lang.Class.newInstanceImpl(Native Method)\n                                                   at java.lang.Class.newInstance(Class.java:1215)\n                                                   at android.app.Fragment.instantiate(Fragment.java:590)\n                                                   at android.app.FragmentState.instantiate(Fragment.java:98)\u00a0\n                                                   at android.app.FragmentManagerImpl.restoreAllState(FragmentManager.java:1759)\u00a0\n</code></pre>\n\n<p>I tried to change my Kotlin Object to class using CompanionObject with a static constructor but i have the same result.</p>\n\n<p>The problem is randomized when we are on another application and we want to come back to our app.</p>\n\n<p>Any help?</p>\n\n<p>Thanks.</p>\n\n<p>------EDIT------\nHere is my kotlin Object code:</p>\n\n<pre><code>object MyFragment : Fragment() {\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n}\n\noverride fun onResume() {\n    super.onResume()\n\n}\n\noverride fun onDestroy() {\n    super.onDestroy()\n\n}\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    return inflater.inflate(R.layout.fragment_myfragment, container, false)\n}\n\noverride fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n}\n\noverride fun onCreateOptionsMenu(menu: Menu, inflater: MenuInflater) {\n\n    inflater.inflate(R.menu.mymenu, menu)\n\n}\n\noverride fun onOptionsItemSelected(item: MenuItem): Boolean {\n    // handle item selection\n    when (item.itemId) {\n        R.id.action_my_results -&gt; {\n            return true\n        }\n        else -&gt; return super.onOptionsItemSelected(item)\n    }\n}\n\noverride fun onAttach(context: Context) {\n    super.onAttach(context)\n}\n\noverride fun onDetach() {\n    super.onDetach()\n}}\n</code></pre>\n"}, {"tags": ["android", "realm", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1504263816, "post_id": 45995593, "comment_id": 78957699, "body": "What is the order of applied Gradle plugins? What language is <code>Category</code> and <code>Product</code> written in? What are your Gradle dependencies, are there any marked as <code>annotationProcessor</code>?"}, {"owner": {"reputation": 101, "user_id": 2057719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea8961d97a7b6af527d1da75b271a1be?s=128&d=identicon&r=PG", "display_name": "Saeed", "link": "https://stackoverflow.com/users/2057719/saeed"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1504278156, "post_id": 45995593, "comment_id": 78966911, "body": "Hi @EpicPandaForce, <code>Category</code> and <code>Product</code> are written in Kotlin. I use <code>com.android.tools.build:gradle:3.0.0-beta3</code> and don&#39;t use any <code>annotationProcessor</code>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1504280137, "post_id": 45995593, "comment_id": 78968139, "body": "I wasn&#39;t kidding that I need your order of plugins <code>apply plugin: &#39;blah&#39;</code>. SPecifically if you apply <code>kotlin-kapt</code> and <code>realm-android</code> in the right order"}, {"owner": {"reputation": 101, "user_id": 2057719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea8961d97a7b6af527d1da75b271a1be?s=128&d=identicon&r=PG", "display_name": "Saeed", "link": "https://stackoverflow.com/users/2057719/saeed"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1504294380, "post_id": 45995593, "comment_id": 78974747, "body": "sorry @EpicPandaForce i use <code>com.android.feature</code>, <code>kotlin-android</code>, <code>kotlin-kapt</code>, <code>kotlin-android-extensions</code> in current feature and <code>realm-android</code> in base feature"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1504294461, "post_id": 45995593, "comment_id": 78974781, "body": "Feature? Is this app an instant app?"}, {"owner": {"reputation": 101, "user_id": 2057719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea8961d97a7b6af527d1da75b271a1be?s=128&d=identicon&r=PG", "display_name": "Saeed", "link": "https://stackoverflow.com/users/2057719/saeed"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1504294975, "post_id": 45995593, "comment_id": 78974985, "body": "both of them app and instant app"}, {"owner": {"reputation": 101, "user_id": 2057719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea8961d97a7b6af527d1da75b271a1be?s=128&d=identicon&r=PG", "display_name": "Saeed", "link": "https://stackoverflow.com/users/2057719/saeed"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1504295038, "post_id": 45995593, "comment_id": 78975016, "body": "i use <code>kapt {     generateStubs = true }</code> but error yet show"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1504295405, "post_id": 45995593, "comment_id": 78975187, "body": "I&#39;m surprised it works at all, Realm doesn&#39;t support feature plugin yet AFAIK <a href=\"https://github.com/realm/realm-java/issues/4820\" rel=\"nofollow noreferrer\">github.com/realm/realm-java/issues/4820</a> :o"}, {"owner": {"reputation": 101, "user_id": 2057719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea8961d97a7b6af527d1da75b271a1be?s=128&d=identicon&r=PG", "display_name": "Saeed", "link": "https://stackoverflow.com/users/2057719/saeed"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1504354293, "post_id": 45995593, "comment_id": 78987308, "body": "this error not rely on feature plugin because i recreate my project without instant app but this error has shown. it&#39;s seem to problem is in kotlin and realm module. if you like to resolve this problem please vote up question to get answer erlier"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1504371808, "post_id": 45995593, "comment_id": 78992146, "body": "Does ShopModule have <code>library=true</code> set?"}, {"owner": {"reputation": 101, "user_id": 2057719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea8961d97a7b6af527d1da75b271a1be?s=128&d=identicon&r=PG", "display_name": "Saeed", "link": "https://stackoverflow.com/users/2057719/saeed"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1504380498, "post_id": 45995593, "comment_id": 78994648, "body": "I test so many structure but not working. I create external library and same module with <code>library = true</code> but same error has occurred, i do so many clean, rebuild, and delete build folders every time... oops"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1504385563, "post_id": 45995593, "comment_id": 78995951, "body": "I&#39;d have to see the project at this point to make any educated guesses, but that probably won&#39;t happen so you might be able to ask for help at help[at]realm.io as well, it helps if you have send a sample project that reproduces the issue"}, {"owner": {"reputation": 3477, "user_id": 1396606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8806428fd1451cf727350f163e5c13d7?s=128&d=identicon&r=PG", "display_name": "beeender", "link": "https://stackoverflow.com/users/1396606/beeender"}, "edited": false, "score": 0, "creation_date": 1504667881, "post_id": 45995593, "comment_id": 79093080, "body": "I made a project to test this, but it cannot be reproduced on my side. @Saeed if you still have this issue, would you please make a sample project and share it somewhere?"}, {"owner": {"reputation": 101, "user_id": 2057719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea8961d97a7b6af527d1da75b271a1be?s=128&d=identicon&r=PG", "display_name": "Saeed", "link": "https://stackoverflow.com/users/2057719/saeed"}, "reply_to_user": {"reputation": 3477, "user_id": 1396606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8806428fd1451cf727350f163e5c13d7?s=128&d=identicon&r=PG", "display_name": "beeender", "link": "https://stackoverflow.com/users/1396606/beeender"}, "edited": false, "score": 0, "creation_date": 1504720036, "post_id": 45995593, "comment_id": 79124553, "body": "Hi @beeender, i will provide a sample project and share that. thanks for your attention"}, {"owner": {"reputation": 101, "user_id": 2057719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea8961d97a7b6af527d1da75b271a1be?s=128&d=identicon&r=PG", "display_name": "Saeed", "link": "https://stackoverflow.com/users/2057719/saeed"}, "edited": false, "score": 0, "creation_date": 1508532001, "post_id": 45995593, "comment_id": 80661575, "body": "with new release of Realm java problem has been resolved"}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 2057719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea8961d97a7b6af527d1da75b271a1be?s=128&d=identicon&r=PG", "display_name": "Saeed", "link": "https://stackoverflow.com/users/2057719/saeed"}, "is_accepted": true, "score": 0, "last_activity_date": 1508531930, "creation_date": 1508531930, "answer_id": 46856989, "question_id": 45995593, "link": "https://stackoverflow.com/questions/45995593/kotlin-use-realm-module-in-android/46856989#46856989", "title": "Kotlin - Use Realm Module in android", "body": "<p>\ud83c\udf89\ud83c\udf89 Congratulation with release Realm Java 4.1.0 this problem has been resolved and i share <a href=\"https://github.com/c2c2/RealmKotlinShop\" rel=\"nofollow noreferrer\">my test project</a> you can see result but an important note that for using in instant app you <a href=\"https://developer.android.com/topic/instant-apps/policy.html#network_traffic\" rel=\"nofollow noreferrer\">must use https network and can't use http in instant app</a> and i share <a href=\"https://github.com/c2c2/RealmKotlinShopInstant\" rel=\"nofollow noreferrer\">another app</a> that work when run in app mode but when run in instantapp has occurred an error : not permitted by network security policy this is because using http in authentication url.</p>\n"}], "owner": {"reputation": 101, "user_id": 2057719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ea8961d97a7b6af527d1da75b271a1be?s=128&d=identicon&r=PG", "display_name": "Saeed", "link": "https://stackoverflow.com/users/2057719/saeed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1562, "favorite_count": 0, "accepted_answer_id": 46856989, "answer_count": 1, "score": 3, "last_activity_date": 1508531930, "creation_date": 1504252448, "last_edit_date": 1504361935, "question_id": 45995593, "link": "https://stackoverflow.com/questions/45995593/kotlin-use-realm-module-in-android", "title": "Kotlin - Use Realm Module in android", "body": "<p>I have an android app with Realm and some Realm Module that help me to isolate synced Realm and i decide to migrate from Java to Kotlin.</p>\n\n<pre><code>@RealmModule(classes = arrayOf(Category::class, Product::class))\nprivate class ShopModule\nfun getShop(user: SyncUser, path: String): RealmConfiguration {\n    return SyncConfiguration.Builder(user, path)\n            .modules(ShopModule())\n            .build()\n}\n</code></pre>\n\n<p>function getShop return RealmConfiguration to use in Realm.getInstance().\n After some converting show me some error when build() has occurred:</p>\n\n<pre><code>io.realm.exceptions.RealmException: Could not find io.realm.ShopModuleMediator\n</code></pre>\n\n<p>please help me to continue my migration. I can't understand what's wrong because this method works for me in java.<br>\n<strong>UPDATE:</strong><br>\nAfter good Q&amp;A in comments and so many change and try in my project i found when using kotlin in my project ShopModuleMediator was not generated and when convert app project from Java to Kotlin project has worked befor clean Project.</p>\n"}, {"tags": ["java", "android", "android-intent", "kotlin", "bitwise-operators"], "answers": [{"tags": [], "owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "is_accepted": false, "score": 9, "last_activity_date": 1504253148, "creation_date": 1504253148, "answer_id": 45995750, "question_id": 45995425, "link": "https://stackoverflow.com/questions/45995425/how-to-combine-intent-flags-in-kotlin/45995750#45995750", "title": "How to combine Intent flags in Kotlin", "body": "<p>Try something like following:</p>\n\n<pre><code>val intent = Intent(this, MapsActivity::class.java)\nintent.flags = Intent.FLAG_ACTIVITY_CLEAR_TASK or Intent.FLAG_ACTIVITY_NEW_TASK\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 101, "last_activity_date": 1504300187, "last_edit_date": 1504300187, "creation_date": 1504254050, "answer_id": 45996002, "question_id": 45995425, "link": "https://stackoverflow.com/questions/45995425/how-to-combine-intent-flags-in-kotlin/45996002#45996002", "title": "How to combine Intent flags in Kotlin", "body": "<p><strong>Explanation:</strong></p>\n\n<p>The operation that is applied to the flags is a bitwise or. In Java you have the <code>|</code> operator for that.</p>\n\n<blockquote>\n  <p>As of bitwise operations [in Kotlin], there're no special characters\n  for them, but just named functions that can be called in infix form.</p>\n</blockquote>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/basic-types.html#operations\" rel=\"noreferrer\">Source</a></p>\n\n<p>Here a list of all bitwise operations for <code>Int</code> and <code>Long</code></p>\n\n<ul>\n<li><code>shl(bits)</code> \u2013 signed shift left (Java's <code>&lt;&lt;</code>)</li>\n<li><code>shr(bits)</code> \u2013 signed shift right (Java's <code>&gt;&gt;</code>)</li>\n<li><code>ushr(bits)</code> \u2013 unsigned shift right (Java's <code>&gt;&gt;&gt;</code>)</li>\n<li><code>and(bits)</code> \u2013 bitwise and (Java's <code>&amp;</code>)</li>\n<li><code>or(bits)</code> \u2013 bitwise or (Java's <code>|</code>)</li>\n<li><code>xor(bits)</code> \u2013 bitwise xor (Java's <code>^</code>)</li>\n<li><code>inv()</code> \u2013 bitwise inversion (Java's <code>~</code>)</li>\n</ul>\n\n<p><strong>Solution:</strong></p>\n\n<p>So, in your case you only need to call <code>or</code> in between your arguments like so.</p>\n\n<pre><code>intent.flags = Intent.FLAG_ACTIVITY_CLEAR_TASK or Intent.FLAG_ACTIVITY_NEW_TASK\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 22786, "user_id": 974045, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ad548cd357d81ab99c5d60e64e02070?s=128&d=identicon&r=PG", "display_name": "Gibolt", "link": "https://stackoverflow.com/users/974045/gibolt"}, "is_accepted": false, "score": 1, "last_activity_date": 1578595062, "creation_date": 1578595062, "answer_id": 59670247, "question_id": 45995425, "link": "https://stackoverflow.com/questions/45995425/how-to-combine-intent-flags-in-kotlin/59670247#59670247", "title": "How to combine Intent flags in Kotlin", "body": "<h2>Advanced, Reuseable Kotlin:</h2>\n\n<p>In Kotlin <code>or</code> is the replacement for the Java bitwise or <code>|</code>.</p>\n\n<pre><code>intent.flags = FLAG_ACTIVITY_NEW_TASK or FLAG_ACTIVITY_CLEAR_TASK\n</code></pre>\n\n<p>If you plan to use your combination regularly, create an Intent extension function</p>\n\n<pre><code>fun Intent.clearStack() {\n    flags = Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_ACTIVITY_CLEAR_TASK\n}\n</code></pre>\n\n<p>You can then directly call this function before starting the intent</p>\n\n<pre><code>intent.clearStack()\n</code></pre>\n\n<p>If you need the option to add additional flags in other situations, add an optional param to the extension function.</p>\n\n<pre><code>fun Intent.clearStack(additionalFlags: Int = 0) {\n    flags = additionalFlags or Intent.FLAG_ACTIVITY_NEW_TASK or Intent.FLAG_ACTIVITY_CLEAR_TASK\n}\n</code></pre>\n"}], "owner": {"reputation": 2593, "user_id": 3779368, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/e0edf670d28d3a83456caafa08f6fbc4?s=128&d=identicon&r=PG&f=1", "display_name": "FaisalAhmed", "link": "https://stackoverflow.com/users/3779368/faisalahmed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17020, "favorite_count": 6, "accepted_answer_id": 45996002, "answer_count": 3, "score": 62, "last_activity_date": 1578595062, "creation_date": 1504251700, "last_edit_date": 1504359323, "question_id": 45995425, "link": "https://stackoverflow.com/questions/45995425/how-to-combine-intent-flags-in-kotlin", "title": "How to combine Intent flags in Kotlin", "body": "<p>I want to combine two intent flags as we do bellow in android</p>\n\n<pre><code>Intent intent = new Intent(this, MapsActivity.class);\nintent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK|Intent.FLAG_ACTIVITY_NEW_TASK);\n</code></pre>\n\n<p>I tried doing something like this but it didn't work for me</p>\n\n<pre><code>val intent = Intent(context, MapActivity::class.java)\nintent.flags = (Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_NEW_TASK)\n</code></pre>\n"}, {"tags": ["java", "jpa", "gradle", "kotlin", "jooq"], "comments": [{"owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "edited": false, "score": 0, "creation_date": 1504266792, "post_id": 45994293, "comment_id": 78959456, "body": "Possibly similar to <a href=\"https://stackoverflow.com/a/43008349/521799\">stackoverflow.com/a/43008349/521799</a>"}], "answers": [{"comments": [{"owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "edited": false, "score": 0, "creation_date": 1504266782, "post_id": 45996775, "comment_id": 78959450, "body": "That&#39;s probably it. <a href=\"https://stackoverflow.com/a/43008349/521799\">Here&#39;s a similar question where Maven is used</a>"}], "tags": [], "owner": {"reputation": 21659, "user_id": 1089967, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/1f256b904ff621d678598d8fa49f86c5?s=128&d=identicon&r=PG", "display_name": "lance-java", "link": "https://stackoverflow.com/users/1089967/lance-java"}, "is_accepted": false, "score": 3, "last_activity_date": 1504263026, "last_edit_date": 1504263026, "creation_date": 1504256855, "answer_id": 45996775, "question_id": 45994293, "link": "https://stackoverflow.com/questions/45994293/jooq-with-gradle-and-kotlin-do-not-generate-files/45996775#45996775", "title": "JOOQ with Gradle and Kotlin do not generate files", "body": "<p>I'm guessing that your <code>Book</code> class is in <code>src/main/java</code> correct?</p>\n\n<p>And now you want that class to be available to <code>JOOQ</code> right? There's a bit of a chicken or egg problem where the Gradle buildscript classloader (which loads gradle tasks) is defined before <code>src/main/java</code> is compiled.</p>\n\n<p>You'll need to pass a custom classloader to <code>JOOQ</code> (eg URLClassloader). <code>JOOQ</code> can then use the classloader to load the classes (hopefully the <code>JOOQ</code> API's support this). You can use <code>sourceSets.main.runtimeClasspath</code> to create an array of <code>URL</code>.</p>\n\n<p>I see that <code>GenerationTool</code> has a <code>setClassLoader(..)</code> method <a href=\"https://github.com/jOOQ/jOOQ/blob/master/jOOQ-codegen/src/main/java/org/jooq/util/GenerationTool.java#L115\" rel=\"nofollow noreferrer\">here</a>. I'm guessing you'll call that</p>\n\n<p>See <a href=\"https://stackoverflow.com/a/45164073/1089967\">here</a> for a similar solution (using <code>Reflections</code> rather than <code>JOOQ</code> but fundamentally the same).</p>\n"}], "owner": {"reputation": 1761, "user_id": 1726359, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/1caf4235671739f4a0848dd39e63a343?s=128&d=identicon&r=PG", "display_name": "Chad", "link": "https://stackoverflow.com/users/1726359/chad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 864, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1504263026, "creation_date": 1504246731, "question_id": 45994293, "link": "https://stackoverflow.com/questions/45994293/jooq-with-gradle-and-kotlin-do-not-generate-files", "title": "JOOQ with Gradle and Kotlin do not generate files", "body": "<p>I have the following gradle task in my <code>build.gradle.kts</code>. It's supposed to generate files from my JPA entities. However when running this task, upon succeeding, no file or directory is generated.</p>\n\n<pre><code>task(name = \"generateJooq\") {\n    doLast {\n        val configuration = Configuration().apply {\n\n            generator = Generator().apply {\n                database = Database().apply {\n                    name = \"org.jooq.util.jpa.JPADatabase\"\n                    properties = listOf(Property().apply {\n                        key = \"packages\"\n                        value = \"com.example.sample\"\n                    })\n                }\n\n                target = Target().apply {\n                    packageName = \"com.example.jooq\"\n                    directory = \"src/generated/java\"\n                }\n            }\n        }\n\n        GenerationTool.generate(configuration)\n    }\n}\n</code></pre>\n\n<p>This is my entity living under package <code>com.example.sample</code>. Note that I wrote this entity in Java.</p>\n\n<pre><code>@Entity\npublic class Book {\n\n    @Id\n    private String id;\n\n    @Column\n    private String title;\n}\n</code></pre>\n\n<p>Had the following logs</p>\n\n<pre><code>./gradlew clean generateJooq      \n\nBUILD SUCCESSFUL in 1s\n2 actionable tasks: 2 executed\n</code></pre>\n"}, {"tags": ["android", "android-gradle-plugin", "kotlin"], "comments": [{"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1504496563, "post_id": 45992446, "comment_id": 79019879, "body": "You can add a dependency on the SquidDatabase task to the compileKotlin task. I don&#39;t know what the SquidDatabase task is, but the syntax would be something like <code>compileKotlin { dependsOn(squidDatabase) }</code>. Unless, of course, there is no SquidDatabase task.."}], "answers": [{"tags": [], "owner": {"reputation": 153, "user_id": 8299621, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nCj-xPeI004/AAAAAAAAAAI/AAAAAAAAABI/fAw6_cZS5ts/photo.jpg?sz=128", "display_name": "Draculea", "link": "https://stackoverflow.com/users/8299621/draculea"}, "is_accepted": true, "score": 0, "last_activity_date": 1504585833, "creation_date": 1504585833, "answer_id": 46047044, "question_id": 45992446, "link": "https://stackoverflow.com/questions/45992446/kotlin-build-cannot-get-classes-created-by-squiddatabase/46047044#46047044", "title": "Kotlin build cannot get classes created by SquidDatabase", "body": "<p>I posted <a href=\"https://github.com/yahoo/squidb/issues/278\" rel=\"nofollow noreferrer\">this issue</a> on Github and got reply from developers.</p>\n\n<p>The solotion is here:</p>\n\n<pre><code>build.gradle of your app\n\n //If using kotlin language,please add this\n apply plugin: 'kotlin-kapt'\n\n ......\n\n dependencies {\n     compile 'com.yahoo.squidb:squidb:3.2.3'\n     compile 'com.yahoo.squidb:squidb-annotations:3.2.3'\n     compile 'com.yahoo.squidb:squidb-android:3.2.3' // For Android projects only\n     //annotationProcessor 'com.yahoo.squidb:squidb-processor:3.2.3'\n     // If using the android-apt plugin, this becomes\n     // apt 'com.yahoo.squidb:squidb-processor:3.2.3'\n     // If using kotlin language, this becomes\n     kapt 'com.yahoo.squidb:squidb-processor:3.2.3'\n }\n</code></pre>\n\n<p>It may cause errors if you use <strong>DataBinding</strong> for Andriod,and the solution is to add one more <code>kapt</code> in your dependencies:</p>\n\n<pre><code>kapt 'com.android.databinding:compiler:$gradle_version'\n</code></pre>\n"}], "owner": {"reputation": 153, "user_id": 8299621, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nCj-xPeI004/AAAAAAAAAAI/AAAAAAAAABI/fAw6_cZS5ts/photo.jpg?sz=128", "display_name": "Draculea", "link": "https://stackoverflow.com/users/8299621/draculea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2424, "favorite_count": 0, "accepted_answer_id": 46047044, "answer_count": 1, "score": 0, "last_activity_date": 1515361832, "creation_date": 1504231806, "last_edit_date": 1515361832, "question_id": 45992446, "link": "https://stackoverflow.com/questions/45992446/kotlin-build-cannot-get-classes-created-by-squiddatabase", "title": "Kotlin build cannot get classes created by SquidDatabase", "body": "<p>In my project I use SquidDatabase almost everywhere to access the database.</p>\n\n<p>I want to transform my project to Kotlin but when I build there are lots of \"Unresolved reference: DepartmentInfo\" errors.</p>\n\n<p>That <code>DepartmentInfo</code> class was created by SquidDatabase while building so I think this problem is caused by Kotlin building before other libraries.</p>\n\n<p>I failed to find any way to change Kotlin to the end of buildlist.</p>\n\n<p>How can I solve this problem?</p>\n"}, {"tags": ["java", "android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "edited": false, "score": 0, "creation_date": 1504228855, "post_id": 45991874, "comment_id": 78944282, "body": "AFAIK there is none, you just need to add that generated file to the sourceset and it <i>should</i> be fine, if compileKotlin hasn&#39;t been executed yet."}], "answers": [{"tags": [], "owner": {"reputation": 5319, "user_id": 4664558, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/HwqzS.png?s=128&g=1", "display_name": "LazerBanana", "link": "https://stackoverflow.com/users/4664558/lazerbanana"}, "is_accepted": false, "score": 1, "last_activity_date": 1504259203, "creation_date": 1504259203, "answer_id": 45997471, "question_id": 45991874, "link": "https://stackoverflow.com/questions/45991874/where-to-put-generated-java-or-kotlin-source-when-creating-a-gradle-plugin/45997471#45997471", "title": "Where to put generated java or kotlin source when creating a gradle plugin?", "body": "<p><code>buildSrc</code> it's a place for custom plugins, and it's a special Gradle folder as well that is read before the build. </p>\n\n<p>As for generated sources, you can just define a source set for it.</p>\n\n<pre><code>sourceSets {\n  main {\n    java {\n      srcDirs = [\n        \"$projectDir/src/main/java\",\n        \"$projectDir/src/main/generated\",\n      ]\n      include '**/*.java'\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1085, "user_id": 4012979, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/---qkN46xdTA/AAAAAAAAAAI/AAAAAAAAAeI/x3SUiBz1BPQ/photo.jpg?sz=128", "display_name": "Preston Garno", "link": "https://stackoverflow.com/users/4012979/preston-garno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 862, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1504259203, "creation_date": 1504226232, "question_id": 45991874, "link": "https://stackoverflow.com/questions/45991874/where-to-put-generated-java-or-kotlin-source-when-creating-a-gradle-plugin", "title": "Where to put generated java or kotlin source when creating a gradle plugin?", "body": "<p>I'm not quite sure about this - there's usually a directory under <code>/build/generated</code>, but I'm wondering if there is a standard location that's safe to write source files to which also will be included in the compilation? Environment variables? I couldn't find anything in the docs.</p>\n\n<p>If it matters, this use case is a single kotlin file which I generate as a separate task based off of configs and want to include in java/kotlin compilation.</p>\n"}, {"tags": ["android", "nullpointerexception", "android-recyclerview", "kotlin", "kotlin-android-extensions"], "answers": [{"comments": [{"owner": {"reputation": 1599, "user_id": 7397730, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-ysI7jDMeZ80/AAAAAAAAAAI/AAAAAAAAAjM/kNmyThJcrKc/photo.jpg?sz=128", "display_name": "Sriram R", "link": "https://stackoverflow.com/users/7397730/sriram-r"}, "edited": false, "score": 0, "creation_date": 1504215056, "post_id": 45990344, "comment_id": 78940916, "body": "Thats the thing. I dont have a variable which finds id from the R class and initializes it to an variable. The rv_my_device is the ID in the xml file and I can use that directly in my java class. And for the location of the code, im updating it now"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 1, "last_activity_date": 1504214922, "creation_date": 1504214922, "answer_id": 45990344, "question_id": 45990316, "link": "https://stackoverflow.com/questions/45990316/null-pointer-error-in-referencing-recyclerview-in-a-fragment-using-kotlin/45990344#45990344", "title": "Null Pointer Error in referencing RecyclerView in a fragment using Kotlin", "body": "<p><code>rv_my_device</code> is <code>null</code>. Beyond that we cannot help you since you havent included the code that initializes the variable, nor the location in which the code is executed. So it is impossible to replicate your problem.</p>\n"}, {"comments": [{"owner": {"reputation": 1599, "user_id": 7397730, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-ysI7jDMeZ80/AAAAAAAAAAI/AAAAAAAAAjM/kNmyThJcrKc/photo.jpg?sz=128", "display_name": "Sriram R", "link": "https://stackoverflow.com/users/7397730/sriram-r"}, "edited": false, "score": 0, "creation_date": 1504215243, "post_id": 45990369, "comment_id": 78940985, "body": "That works. But can you explain why it works with java but not with kotlin? I mean I had the whole recycler view code in the onCreateView method and it worked fine with java but its not working with kotlin."}, {"owner": {"reputation": 582, "user_id": 4403813, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MlONV-b_IuE/AAAAAAAAAAI/AAAAAAAAAUg/5M54R0MmhpY/photo.jpg?sz=128", "display_name": "Yassine BELDI", "link": "https://stackoverflow.com/users/4403813/yassine-beldi"}, "reply_to_user": {"reputation": 1599, "user_id": 7397730, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-ysI7jDMeZ80/AAAAAAAAAAI/AAAAAAAAAjM/kNmyThJcrKc/photo.jpg?sz=128", "display_name": "Sriram R", "link": "https://stackoverflow.com/users/7397730/sriram-r"}, "edited": false, "score": 1, "creation_date": 1504215494, "post_id": 45990369, "comment_id": 78941090, "body": "because when using kotlin extension it calls getView().findViewById(R.id. rv_my_device) , and in onCreateView , getView() will return null"}], "tags": [], "owner": {"reputation": 582, "user_id": 4403813, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MlONV-b_IuE/AAAAAAAAAAI/AAAAAAAAAUg/5M54R0MmhpY/photo.jpg?sz=128", "display_name": "Yassine BELDI", "link": "https://stackoverflow.com/users/4403813/yassine-beldi"}, "is_accepted": true, "score": 12, "last_activity_date": 1504215036, "creation_date": 1504215036, "answer_id": 45990369, "question_id": 45990316, "link": "https://stackoverflow.com/questions/45990316/null-pointer-error-in-referencing-recyclerview-in-a-fragment-using-kotlin/45990369#45990369", "title": "Null Pointer Error in referencing RecyclerView in a fragment using Kotlin", "body": "<p>If you call your views inside onCreateView move it to onViewCreated, \nbecause view are not initialized when you call them in onCreateView </p>\n"}], "owner": {"reputation": 1599, "user_id": 7397730, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh6.googleusercontent.com/-ysI7jDMeZ80/AAAAAAAAAAI/AAAAAAAAAjM/kNmyThJcrKc/photo.jpg?sz=128", "display_name": "Sriram R", "link": "https://stackoverflow.com/users/7397730/sriram-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1299, "favorite_count": 0, "accepted_answer_id": 45990369, "answer_count": 2, "score": 3, "last_activity_date": 1504215203, "creation_date": 1504214790, "last_edit_date": 1504215203, "question_id": 45990316, "link": "https://stackoverflow.com/questions/45990316/null-pointer-error-in-referencing-recyclerview-in-a-fragment-using-kotlin", "title": "Null Pointer Error in referencing RecyclerView in a fragment using Kotlin", "body": "<p>I was trying out kotlin and its awesome new functionalites in android when I got stuck at a problem.\nThere is this cool thing in kotlin where you can directly use the id from the xml without using <code>findViewById()</code>. But when I apply it to a recycler view and try to make it work, I get a null pointer exception with it. I checked the xml and I do have a recycler view with the ID that i used. Can you guys help me figure out why I am getting a null pointer exception here?</p>\n\n<p>Here is the code where I reference my recycler view and apply methods on it.</p>\n\n<pre><code>with(rv_my_device){\n    setHasFixedSize(true)\n    layoutManager = LinearLayoutManager(activity)\n    listAdapter = MyDeviceAdapter(activity,titles,values)\n    adapter = listAdapter\n    }\n</code></pre>\n\n<p>The error I am getting is</p>\n\n<pre><code>FATAL EXCEPTION: main                                                                          \nProcess: com.example.sriram.mydevice, PID: 24771                                                                            \njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.sriram.mydevice/com.example.sriram.mydevice.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.support.v7.widget.RecyclerView.setHasFixedSize(boolean)' on a null object reference                                                                               \nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2659)                                                                  \nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2724     \nat android.app.ActivityThread.-wrap12(ActivityThread.java\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1473)                                                                                 \nat android.os.Handler.dispatchMessage(Handler.java:102)                                                                                 \nat android.os.Looper.loop(Looper.java:154)                                                                                 \nat android.app.ActivityThread.main(ActivityThread.java:6123)                                                                                  \nat java.lang.reflect.Method.invoke(Native Method)                                                                                 \n</code></pre>\n\n<p>The kotlin code is present in an onCreateView method in a fragment.</p>\n\n<p>And guys, please dont downvote saying that this is a duplicate question about null pointers. I know what are null pointers. I just cannot figure out where my code went wrong or if I misunderstood something in kotlin..</p>\n"}, {"tags": ["java", "spring", "kotlin"], "comments": [{"owner": {"reputation": 4380, "user_id": 3430807, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4724eb95e279c937e4fb6dd033b35192?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/3430807/andreas"}, "reply_to_user": {"reputation": 2373, "user_id": 5360672, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/UPhrY.jpg?s=128&g=1", "display_name": "Jonathan Laliberte", "link": "https://stackoverflow.com/users/5360672/jonathan-laliberte"}, "edited": false, "score": 0, "creation_date": 1504216121, "post_id": 45990221, "comment_id": 78941331, "body": "@JonathanLaliberte, that is Kotlin, not javascript"}, {"owner": {"reputation": 4380, "user_id": 3430807, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4724eb95e279c937e4fb6dd033b35192?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/3430807/andreas"}, "edited": false, "score": 0, "creation_date": 1504216259, "post_id": 45990221, "comment_id": 78941379, "body": "Is this a spring boot app using maven? If so, please post your <code>pom.xml</code>."}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1504242130, "post_id": 45990221, "comment_id": 78946922, "body": "Are you sure that your bean is being discovered? So in which package is your main and where is this class? <code>AutoDiscovery</code> on?"}], "owner": {"reputation": 33, "user_id": 6411342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EY3Yu.jpg?s=128&g=1", "display_name": "Hendry Steffens", "link": "https://stackoverflow.com/users/6411342/hendry-steffens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3340, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1504214771, "creation_date": 1504214222, "last_edit_date": 1504214771, "question_id": 45990221, "link": "https://stackoverflow.com/questions/45990221/java-kotlin-autowiring-expected-at-least-1-bean-which-qualifies-as-autowire", "title": "(Java + Kotlin) Autowiring: expected at least 1 bean which qualifies as autowire candidate for this dependency", "body": "<p>I have a class(Java) and I tried autowire a Kotlin class :\nKotlin class:</p>\n\n<pre><code>@Component\nclass HelloWorld {\n\n    fun test() {\n        println(\"\")\n    }\n}\n</code></pre>\n\n<p>java :\n<code>@Autowired\n    private HelloWorld hello;</code></p>\n\n<blockquote>\n  <p>Error:  Caused by:\n  org.springframework.beans.factory.NoSuchBeanDefinitionException: No\n  qualifying bean found for dependency [teste.payroll.HelloWorld]:\n  expected at least 1 bean which qualifies as autowire candidate.\n  Dependency annotations: {@org.springframework.beans.fact</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1504206050, "post_id": 45988288, "comment_id": 78936890, "body": "Just call appContext. I think Kotlin works with outside classes to make the calls like kotlin (but where possible use a getter instead in the Java byte code). Calling MyApplication.appContext should be enough"}, {"owner": {"reputation": 1904, "user_id": 1545952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMD46.jpg?s=128&g=1", "display_name": "Xvolks", "link": "https://stackoverflow.com/users/1545952/xvolks"}, "edited": false, "score": 1, "creation_date": 1504206089, "post_id": 45988288, "comment_id": 78936913, "body": "Duplicate of <a href=\"https://stackoverflow.com/questions/40352684/what-is-the-equivalent-of-java-static-methods-in-kotlin\" title=\"what is the equivalent of java static methods in kotlin\">stackoverflow.com/questions/40352684/&hellip;</a> ?"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 1904, "user_id": 1545952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMD46.jpg?s=128&g=1", "display_name": "Xvolks", "link": "https://stackoverflow.com/users/1545952/xvolks"}, "edited": false, "score": 0, "creation_date": 1504206182, "post_id": 45988288, "comment_id": 78936961, "body": "@Xvolks the question is about accessing a static field in Java code that happens to be private. This isn&#39;t a duplicate."}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 2, "creation_date": 1504206208, "post_id": 45988288, "comment_id": 78936975, "body": "@the_new_mr you shouldn&#39;t place context in static fields. It&#39;s a memory leak"}, {"owner": {"reputation": 1904, "user_id": 1545952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMD46.jpg?s=128&g=1", "display_name": "Xvolks", "link": "https://stackoverflow.com/users/1545952/xvolks"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1504206346, "post_id": 45988288, "comment_id": 78937048, "body": "@LunarWatcher the OP wants to call <code>getAppContext()</code> statically like in the thread I&#39;ve pointed out. Did I missed something?"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1504206476, "post_id": 45988288, "comment_id": 78937119, "body": "Kotlin doesn&#39;t have getters and setters and usually refactors java code to kotlin (the byte code ends up differently, but that is how kotlin works and now related to the issue)"}, {"owner": {"reputation": 2710, "user_id": 487812, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4ba13c68cffcbe638e234a0a216b9e42?s=128&d=identicon&r=PG", "display_name": "the_new_mr", "link": "https://stackoverflow.com/users/487812/the-new-mr"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1504222579, "post_id": 45988288, "comment_id": 78943161, "body": "I&#39;m looking to write this code as Kotlin code. Problem is defining an equivalent static field that holds the app context that is accessible &quot;statically&quot; anywhere else. @LunarWatcher: i agree it&#39;s a memory leak for activities but not for application class since application always exists (over arching class)"}, {"owner": {"reputation": 454, "user_id": 5746245, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BH8HSVe1TZg/AAAAAAAAAAI/AAAAAAAAACA/aB256UMXdWg/photo.jpg?sz=128", "display_name": "Vijay Makwana", "link": "https://stackoverflow.com/users/5746245/vijay-makwana"}, "edited": false, "score": 0, "creation_date": 1504245047, "post_id": 45988288, "comment_id": 78947780, "body": "you can use companion object"}], "answers": [{"comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1504207830, "post_id": 45988457, "comment_id": 78937816, "body": "You didn&#39;t answer the question: How do you call a static field/getter from kotlin? It isn&#39;t in a companion object, it originates in Java code"}, {"owner": {"reputation": 582, "user_id": 4403813, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MlONV-b_IuE/AAAAAAAAAAI/AAAAAAAAAUg/5M54R0MmhpY/photo.jpg?sz=128", "display_name": "Yassine BELDI", "link": "https://stackoverflow.com/users/4403813/yassine-beldi"}, "reply_to_user": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1504208373, "post_id": 45988457, "comment_id": 78938076, "body": "I called <code>appContext = MyApplication.getAppContext();</code> a static java getter from Kotlin and it worked"}], "tags": [], "owner": {"reputation": 582, "user_id": 4403813, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MlONV-b_IuE/AAAAAAAAAAI/AAAAAAAAAUg/5M54R0MmhpY/photo.jpg?sz=128", "display_name": "Yassine BELDI", "link": "https://stackoverflow.com/users/4403813/yassine-beldi"}, "is_accepted": false, "score": 0, "last_activity_date": 1504206277, "creation_date": 1504206277, "answer_id": 45988457, "question_id": 45988288, "link": "https://stackoverflow.com/questions/45988288/how-to-access-a-member-of-a-class-statically-in-kotlin/45988457#45988457", "title": "How to access a member of a class &quot;statically&quot; in kotlin?", "body": "<p>you can use it this way </p>\n\n<pre><code>companion object{  \n //your static fields \n}\n</code></pre>\n\n<p>to call it from kotlin ==> ClassName.FieldName</p>\n\n<p>to call it from java ==> ClassName.Companion.getFieldName()</p>\n"}, {"tags": [], "owner": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "is_accepted": false, "score": 5, "last_activity_date": 1504208880, "creation_date": 1504208880, "answer_id": 45989051, "question_id": 45988288, "link": "https://stackoverflow.com/questions/45988288/how-to-access-a-member-of-a-class-statically-in-kotlin/45989051#45989051", "title": "How to access a member of a class &quot;statically&quot; in kotlin?", "body": "<p>In Kotlin this is called the 'companion object':</p>\n\n<pre><code>class MyApplication: Application {\n    companion object {\n        var appContext: Context? = null\n            private set\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 344, "user_id": 5610972, "user_type": "registered", "accept_rate": 64, "profile_image": "https://graph.facebook.com/1439550222755644/picture?type=large", "display_name": "Flix", "link": "https://stackoverflow.com/users/5610972/flix"}, "is_accepted": false, "score": 1, "last_activity_date": 1504262067, "creation_date": 1504262067, "answer_id": 45998344, "question_id": 45988288, "link": "https://stackoverflow.com/questions/45988288/how-to-access-a-member-of-a-class-statically-in-kotlin/45998344#45998344", "title": "How to access a member of a class &quot;statically&quot; in kotlin?", "body": "<p>Assumed you have some <code>java</code> code in android and you want to convert it to <code>kotlin</code> code:</p>\n\n<ol>\n<li><a href=\"https://try.kotlinlang.org\" rel=\"nofollow noreferrer\">Visit Link</a></li>\n<li>find <code>Convert from java</code></li>\n</ol>\n\n<p>it's help me to convert <code>java</code> code I've found on internet and converting it to <code>kotlin</code> code,</p>\n\n<blockquote>\n  <p>may this <code>answer</code> not help you about your question, but it would help you to convert what you know in <code>java</code> that you don't know how-to-do in <code>kotlin</code></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 794, "user_id": 2337147, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iSEDf.jpg?s=128&g=1", "display_name": "fjf2002", "link": "https://stackoverflow.com/users/2337147/fjf2002"}, "is_accepted": false, "score": 0, "last_activity_date": 1504272270, "creation_date": 1504272270, "answer_id": 46001265, "question_id": 45988288, "link": "https://stackoverflow.com/questions/45988288/how-to-access-a-member-of-a-class-statically-in-kotlin/46001265#46001265", "title": "How to access a member of a class &quot;statically&quot; in kotlin?", "body": "<p>It seems like you want only one object of this class at runtime. This is called a <strong>singleton</strong>. There are recommendations to implement that properly in Java. Luckily Kotlin directly allows you to declare singleton objects on the top scope:</p>\n\n<p><code>val o = object { your attributes and methods here}</code></p>\n"}, {"comments": [{"owner": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "edited": false, "score": 1, "creation_date": 1504736528, "post_id": 46037603, "comment_id": 79132393, "body": "If you want to make the type non-nullable, you can replace <code>var appContext: Context? = null</code> with <code>lateinit var appContext: Context</code>."}, {"owner": {"reputation": 2710, "user_id": 487812, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4ba13c68cffcbe638e234a0a216b9e42?s=128&d=identicon&r=PG", "display_name": "the_new_mr", "link": "https://stackoverflow.com/users/487812/the-new-mr"}, "reply_to_user": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "edited": false, "score": 0, "creation_date": 1505297605, "post_id": 46037603, "comment_id": 79351776, "body": "Nice one!  Thanks :)  Don&#39;t know why I didn&#39;t try this before."}], "tags": [], "owner": {"reputation": 2710, "user_id": 487812, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4ba13c68cffcbe638e234a0a216b9e42?s=128&d=identicon&r=PG", "display_name": "the_new_mr", "link": "https://stackoverflow.com/users/487812/the-new-mr"}, "is_accepted": true, "score": 2, "last_activity_date": 1505297716, "last_edit_date": 1505297716, "creation_date": 1504529870, "answer_id": 46037603, "question_id": 45988288, "link": "https://stackoverflow.com/questions/45988288/how-to-access-a-member-of-a-class-statically-in-kotlin/46037603#46037603", "title": "How to access a member of a class &quot;statically&quot; in kotlin?", "body": "<p>The key element I was missing was the use of an init block to set the appContext that is inside the companion object (I had already tried the companion object path but was struggling to actually get appContext set).</p>\n\n<p>See code below:</p>\n\n<pre><code>class MyApplication : Application() {\n\n    init {\n        appContext = this\n    }\n\n    companion object {\n        lateinit var appContext: Context\n            private set\n    }\n}\n</code></pre>\n\n<p>This is then callable as usual via:</p>\n\n<pre><code>val testContext = MyApplication.appContext\n</code></pre>\n"}], "owner": {"reputation": 2710, "user_id": 487812, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4ba13c68cffcbe638e234a0a216b9e42?s=128&d=identicon&r=PG", "display_name": "the_new_mr", "link": "https://stackoverflow.com/users/487812/the-new-mr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 763, "favorite_count": 0, "accepted_answer_id": 46037603, "answer_count": 5, "score": 0, "last_activity_date": 1505297716, "creation_date": 1504205614, "last_edit_date": 1504222360, "question_id": 45988288, "link": "https://stackoverflow.com/questions/45988288/how-to-access-a-member-of-a-class-statically-in-kotlin", "title": "How to access a member of a class &quot;statically&quot; in kotlin?", "body": "<p>In Java and Android, we can do this:</p>\n\n<pre><code>public static MyApplication extends Application {\n   private static Context appContext;\n\n   public void onCreate() {\n      appContext = this;\n   }\n\n   public static Context getAppContext() {\n      return appContext;\n   }\n}\n</code></pre>\n\n<p>so that, somewhere else, we can do this:</p>\n\n<pre><code>appContext = MyApplication.getAppContext();\n</code></pre>\n\n<p>How do we do this in Kotlin?  I've been going round in circles for the past hour or so.</p>\n\n<p>Thanks in advance.</p>\n\n<p>//Edit\nPerhaps I should have been clearer. I meant how can we write the above in Kotlin and use it in Kotlin.</p>\n"}]