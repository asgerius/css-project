[{"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1995, "user_id": 713861, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1ed73350b722bb9ea9d5a8720a1af4f3?s=128&d=identicon&r=PG", "display_name": "GreenSaguaro", "link": "https://stackoverflow.com/users/713861/greensaguaro"}, "edited": false, "score": 0, "creation_date": 1582582249, "post_id": 60382116, "comment_id": 106820166, "body": "Can you give a complete example of your idea? I am confused since in my case, R is the result of the lambda."}, {"owner": {"reputation": 64, "user_id": 10228500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVTa0.jpg?s=128&g=1", "display_name": "Murdokai", "link": "https://stackoverflow.com/users/10228500/murdokai"}, "reply_to_user": {"reputation": 1995, "user_id": 713861, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1ed73350b722bb9ea9d5a8720a1af4f3?s=128&d=identicon&r=PG", "display_name": "GreenSaguaro", "link": "https://stackoverflow.com/users/713861/greensaguaro"}, "edited": false, "score": 0, "creation_date": 1582626223, "post_id": 60382116, "comment_id": 106833714, "body": "That was a complete example of how similar fun works in my case."}, {"owner": {"reputation": 64, "user_id": 10228500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVTa0.jpg?s=128&g=1", "display_name": "Murdokai", "link": "https://stackoverflow.com/users/10228500/murdokai"}, "reply_to_user": {"reputation": 1995, "user_id": 713861, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1ed73350b722bb9ea9d5a8720a1af4f3?s=128&d=identicon&r=PG", "display_name": "GreenSaguaro", "link": "https://stackoverflow.com/users/713861/greensaguaro"}, "edited": false, "score": 0, "creation_date": 1582638018, "post_id": 60382116, "comment_id": 106840122, "body": "In my case logStuff is an extension function which is copied to the calling function by a compiler and calling function becomes an enclosingMethod, but in your case logStuff is a part of Logger class."}, {"owner": {"reputation": 1995, "user_id": 713861, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1ed73350b722bb9ea9d5a8720a1af4f3?s=128&d=identicon&r=PG", "display_name": "GreenSaguaro", "link": "https://stackoverflow.com/users/713861/greensaguaro"}, "edited": false, "score": 0, "creation_date": 1582647767, "post_id": 60382116, "comment_id": 106846012, "body": "I don\u2019t think that is going yo work in my case because I need to wrap the execution of a lambda."}], "tags": [], "owner": {"reputation": 64, "user_id": 10228500, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SVTa0.jpg?s=128&g=1", "display_name": "Murdokai", "link": "https://stackoverflow.com/users/10228500/murdokai"}, "is_accepted": false, "score": 0, "last_activity_date": 1582569721, "creation_date": 1582569721, "answer_id": 60382116, "question_id": 58965140, "link": "https://stackoverflow.com/questions/58965140/kotlin-current-function-name-by-anonymous-object-no-longer-works-in-kotlin-1-3-x/60382116#60382116", "title": "Kotlin Current Function Name by Anonymous Object No Longer Works in Kotlin 1.3.x", "body": "<p>You may convert your logStuff() fun to extension and make your R type reified, like this:</p>\n\n<pre><code>inline fun &lt;reified R : Any&gt; R.logStuff() {\n    val methodName = object {}.javaClass.enclosingMethod.name\n} \n</code></pre>\n"}], "owner": {"reputation": 1995, "user_id": 713861, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/1ed73350b722bb9ea9d5a8720a1af4f3?s=128&d=identicon&r=PG", "display_name": "GreenSaguaro", "link": "https://stackoverflow.com/users/713861/greensaguaro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 456, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1582569721, "creation_date": 1574293780, "question_id": 58965140, "link": "https://stackoverflow.com/questions/58965140/kotlin-current-function-name-by-anonymous-object-no-longer-works-in-kotlin-1-3-x", "title": "Kotlin Current Function Name by Anonymous Object No Longer Works in Kotlin 1.3.x", "body": "<p>In Kotlin JVM 1.2.x, I use to be able to do the following:</p>\n\n<pre><code>inline fun &lt;R&gt; Logger.logStuff(\n    crossinline f: () -&gt; R\n): R {\n    val methodName = object {}.javaClass.enclosingMethod.name\n    try {\n        this.debug(\"$methodName : Begin\")\n        f()\n        this.debug(\"$methodName : End\")\n    } catch (ex: Exception) {\n        this.error(\"$methodName : Threw exception : $ex\")\n        throw ex\n    }\n}\n\nclass Foo {\n    fun doStuff() = log.logStuff {\n        1 + 3\n    }\n}\n</code></pre>\n\n<p>This would give me logs like:</p>\n\n<pre><code>Foo : doStuff : Begin\nFoo : doStuff : End\n</code></pre>\n\n<p>But, after upgrading to Kotlin 1.3.50 (from 1.2.x), I got logs like the following:</p>\n\n<pre><code>Foo : logStuff : Begin\nFoo : logStuff : End\n</code></pre>\n\n<p>I am aware of <code>currentThread().stackTrace[1].methodName</code> to get the enclosing method name, but I was hoping to avoid that.</p>\n\n<p>Is there another way to get the current function name?</p>\n"}, {"tags": ["android", "kotlin", "dependency-injection", "tcp", "koin"], "comments": [{"owner": {"reputation": 3570, "user_id": 12121419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b54723fc3fa242fc9b1fa46eb2ca6a?s=128&d=identicon&r=PG", "display_name": "blackapps", "link": "https://stackoverflow.com/users/12121419/blackapps"}, "edited": false, "score": 0, "creation_date": 1574329454, "post_id": 58964388, "comment_id": 104197248, "body": "What kind of external device are you talking about? It seems you want a permanent connection. Why?"}, {"owner": {"reputation": 3570, "user_id": 12121419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b54723fc3fa242fc9b1fa46eb2ca6a?s=128&d=identicon&r=PG", "display_name": "blackapps", "link": "https://stackoverflow.com/users/12121419/blackapps"}, "edited": false, "score": 0, "creation_date": 1574329534, "post_id": 58964388, "comment_id": 104197293, "body": "<code>Service - I can&#39;t make it asynchronous</code> Unclear what you mean. Usually one starts a thread in a service."}, {"owner": {"reputation": 211, "user_id": 10091982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d76a52c506107f07e77d95a861de69a3?s=128&d=identicon&r=PG&f=1", "display_name": "Hunteerq", "link": "https://stackoverflow.com/users/10091982/hunteerq"}, "reply_to_user": {"reputation": 3570, "user_id": 12121419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b54723fc3fa242fc9b1fa46eb2ca6a?s=128&d=identicon&r=PG", "display_name": "blackapps", "link": "https://stackoverflow.com/users/12121419/blackapps"}, "edited": false, "score": 0, "creation_date": 1574436879, "post_id": 58964388, "comment_id": 104245028, "body": "I am trying to connect phone to drone which is controlled by TCP server on raspberry. I need to connect the phone with this server."}, {"owner": {"reputation": 3570, "user_id": 12121419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b54723fc3fa242fc9b1fa46eb2ca6a?s=128&d=identicon&r=PG", "display_name": "blackapps", "link": "https://stackoverflow.com/users/12121419/blackapps"}, "edited": false, "score": 0, "creation_date": 1574437118, "post_id": 58964388, "comment_id": 104245150, "body": "Ok. But answer my questions. Do you need a permanent connection?"}, {"owner": {"reputation": 211, "user_id": 10091982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d76a52c506107f07e77d95a861de69a3?s=128&d=identicon&r=PG&f=1", "display_name": "Hunteerq", "link": "https://stackoverflow.com/users/10091982/hunteerq"}, "reply_to_user": {"reputation": 3570, "user_id": 12121419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b54723fc3fa242fc9b1fa46eb2ca6a?s=128&d=identicon&r=PG", "display_name": "blackapps", "link": "https://stackoverflow.com/users/12121419/blackapps"}, "edited": false, "score": 0, "creation_date": 1574612347, "post_id": 58964388, "comment_id": 104285224, "body": "Yes, I need permanent connection. Sorry for delay. It is the best way to notificate user about loosing connection. Also loosing connection provides information for server to stay stable and idle."}, {"owner": {"reputation": 3570, "user_id": 12121419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b54723fc3fa242fc9b1fa46eb2ca6a?s=128&d=identicon&r=PG", "display_name": "blackapps", "link": "https://stackoverflow.com/users/12121419/blackapps"}, "edited": false, "score": 0, "creation_date": 1574616211, "post_id": 58964388, "comment_id": 104286275, "body": "Disconnections are difficult to discover. Please do a test (in a loop) to connect, send command, read reply and disconnect. How many can you do in a second? 100 ? Isnt that enough?"}, {"owner": {"reputation": 211, "user_id": 10091982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d76a52c506107f07e77d95a861de69a3?s=128&d=identicon&r=PG&f=1", "display_name": "Hunteerq", "link": "https://stackoverflow.com/users/10091982/hunteerq"}, "reply_to_user": {"reputation": 3570, "user_id": 12121419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b54723fc3fa242fc9b1fa46eb2ca6a?s=128&d=identicon&r=PG", "display_name": "blackapps", "link": "https://stackoverflow.com/users/12121419/blackapps"}, "edited": false, "score": 0, "creation_date": 1574616592, "post_id": 58964388, "comment_id": 104286380, "body": "I thought about using TCP client, it is easy to discover disconnection using it. But I still have a problem with creating the class responsible for that. I don&#39;t know whether should I use Thread, IntentService, or AsyncTask for a TCP Client which will have a permanent connection(if not it will be reconnecting) and will be able to be injected as a bean to many services, all methods need to be working on a different thread."}, {"owner": {"reputation": 3570, "user_id": 12121419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b54723fc3fa242fc9b1fa46eb2ca6a?s=128&d=identicon&r=PG", "display_name": "blackapps", "link": "https://stackoverflow.com/users/12121419/blackapps"}, "edited": false, "score": 0, "creation_date": 1574616983, "post_id": 58964388, "comment_id": 104286483, "body": "Which TCP client are you referring to,?"}, {"owner": {"reputation": 211, "user_id": 10091982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d76a52c506107f07e77d95a861de69a3?s=128&d=identicon&r=PG&f=1", "display_name": "Hunteerq", "link": "https://stackoverflow.com/users/10091982/hunteerq"}, "reply_to_user": {"reputation": 3570, "user_id": 12121419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31b54723fc3fa242fc9b1fa46eb2ca6a?s=128&d=identicon&r=PG", "display_name": "blackapps", "link": "https://stackoverflow.com/users/12121419/blackapps"}, "edited": false, "score": 0, "creation_date": 1574617702, "post_id": 58964388, "comment_id": 104286693, "body": "The one I am trying to create. My own class which creates socket and provides communication on that socket with drone. Now I am trying to resolve the problem, because I cannot create it on main thread and I am looking forward for solution what class should I use to inherit from."}], "owner": {"reputation": 211, "user_id": 10091982, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d76a52c506107f07e77d95a861de69a3?s=128&d=identicon&r=PG&f=1", "display_name": "Hunteerq", "link": "https://stackoverflow.com/users/10091982/hunteerq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574289003, "creation_date": 1574289003, "question_id": 58964388, "link": "https://stackoverflow.com/questions/58964388/whats-the-best-way-to-implement-tcp-client-in-android", "title": "What&#39;s the best way to implement TCP client in Android", "body": "<p>I need to implement some async client in android app for communication with external device. I need this client to start connection with specified socket on different thread and then implement some methods which will be sending data to external device, all this methods need to be asynchronous. What is more I need to have guarentee that Android won't kill my process. </p>\n\n<p>This client needs to be working w Dependency Injection. I would like to create single instance of this client being injected and used across many activities.</p>\n\n<p>What I took into consideration is:</p>\n\n<ul>\n<li>AsyncTask - heard that it is for only short tasks</li>\n<li>Thread - I am struggling with implementing other methods despite run which will be asnychronous and able to be called</li>\n<li>Service - I can't make it asynchronous</li>\n<li>ServiceIntent - I am not sure if it is the best pick for implemeneting async methods.</li>\n</ul>\n\n<p>I need your suggestions which way would be best with simple explanation why.</p>\n"}, {"tags": ["java", "kotlin", "google-photos-api"], "owner": {"reputation": 3189, "user_id": 5564683, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/VotLv.jpg?s=128&g=1", "display_name": "Augusto Carmo", "link": "https://stackoverflow.com/users/5564683/augusto-carmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1574287422, "creation_date": 1574287422, "question_id": 58964079, "link": "https://stackoverflow.com/questions/58964079/java-google-photos-api-how-to-cancel-photoslibraryclient-initializesettings", "title": "Java Google Photos Api - How to cancel &#39;PhotosLibraryClient.initialize(settings)&#39;?", "body": "<p>I am developing an app in Java (Kotlin :X) that uses the Google Photos Api.</p>\n\n<p>I am stuck in a flow where I may want to cancel the current client initialization attempt and try again.</p>\n\n<pre><code>val settings = PhotosLibrarySettings.newBuilder()\n    .setCredentialsProvider(\n        FixedCredentialsProvider.create(\n            getUserCredentials(credentialsPath, SCOPES, email)\n        )\n    )\n    .build()\n\n// let the Thread hanging until a successful initialization :/\nreturn PhotosLibraryClient.initialize(settings)\n</code></pre>\n\n<p>But unfortunately, I did not find any way to do this besides enveloping the <code>PhotosLibraryClient.initialize(settings)</code> call in a Thread and calling the deprecated method <code>Thread#stop()</code>.</p>\n\n<p>If I do this call twice (on different threads), without successfully stopping one of the client initializations, the following exception is thrown: <code>java.io.IOException: java.net.BindException: Address already in use (Bind failed)</code>.</p>\n\n<hr>\n\n<p>How can I successfully stop a client initialization attempt without calling <code>Thread#stop()</code>?</p>\n"}, {"tags": ["android", "kotlin", "textview", "imageview"], "comments": [{"owner": {"reputation": 692, "user_id": 5469763, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--HAFE_bzrmU/AAAAAAAAAAI/AAAAAAAAAEk/dXXoZX8gIag/photo.jpg?sz=128", "display_name": "Richard Dapice", "link": "https://stackoverflow.com/users/5469763/richard-dapice"}, "edited": false, "score": 0, "creation_date": 1574287510, "post_id": 58964019, "comment_id": 104183259, "body": "Most likely the story here is not complete, you will need to show more code, how are you creating your fragment?"}, {"owner": {"reputation": 692, "user_id": 5469763, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--HAFE_bzrmU/AAAAAAAAAAI/AAAAAAAAAEk/dXXoZX8gIag/photo.jpg?sz=128", "display_name": "Richard Dapice", "link": "https://stackoverflow.com/users/5469763/richard-dapice"}, "edited": false, "score": 0, "creation_date": 1574287554, "post_id": 58964019, "comment_id": 104183283, "body": "Unrelated, but your class names should be capitalized."}], "answers": [{"comments": [{"owner": {"reputation": 1186, "user_id": 1434047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abaa451e2b93ad55c9ff5107be30b5a1?s=128&d=identicon&r=PG", "display_name": "Bink", "link": "https://stackoverflow.com/users/1434047/bink"}, "edited": false, "score": 0, "creation_date": 1598630316, "post_id": 58965743, "comment_id": 112531373, "body": "I\u2019m new to Android development\u2014why do we want to keep the ViewModel initiation out of onCreateView()?  Google\u2019s own training apps, such as <a href=\"https://github.com/google-developer-training/android-kotlin-fundamentals-starter-apps/blob/master/RecyclerViewClickHandler-Starter/app/src/main/java/com/example/android/trackmysleepquality/sleeptracker/SleepTrackerFragment.kt\" rel=\"nofollow noreferrer\">github.com/google-developer-training/&hellip;</a>, have it there.  Thank you."}], "tags": [], "owner": {"reputation": 1217, "user_id": 2972366, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e0189818ee5082a29bfe11e0db4f0b72?s=128&d=identicon&r=PG&f=1", "display_name": "Shekh Shagar", "link": "https://stackoverflow.com/users/2972366/shekh-shagar"}, "is_accepted": true, "score": 0, "last_activity_date": 1574298387, "creation_date": 1574298387, "answer_id": 58965743, "question_id": 58964019, "link": "https://stackoverflow.com/questions/58964019/lateinit-property-homeviewmodel-has-not-been-initialized/58965743#58965743", "title": "lateinit property homeViewModel has not been initialized", "body": "<ul>\n<li>Try initialise your viewModel inside <code>onActivityCreated()</code></li>\n<li>Don't observe or initiate you ViewModel inside <code>onCreateView()</code></li>\n<li>Rename your class name from <code>homeFragment</code> to <code>HomeFragment</code> and <code>homeViewModel</code> to <code>HomeViewModel</code></li>\n<li>You don't need to do findViewMyId in Kotlin. you can access view directly ID. </li>\n<li><p>The change Idea is bellow</p>\n\n<pre><code>class HomeFragment : Fragment() {\n\nprivate lateinit var homeViewModel: HomeViewModel\n\noverride fun onCreateView(\n    inflater: LayoutInflater,\n    container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n    val root = inflater.inflate(R.layout.fragment_home, container, false)\n    return root\n}\n\n\noverride fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n    homeViewModel = ViewModelProviders.of(this).get(HomeViewModel::class.java)\n    homeViewModel.text.observe(this, Observer {\n        text_home.text = it\n    })\n}\n}\n</code></pre></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 5953, "user_id": 928315, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/af1172fff8fd14a3152231fc8186c205?s=128&d=identicon&r=PG", "display_name": "iForests", "link": "https://stackoverflow.com/users/928315/iforests"}, "is_accepted": false, "score": 0, "last_activity_date": 1574304779, "creation_date": 1574304779, "answer_id": 58966556, "question_id": 58964019, "link": "https://stackoverflow.com/questions/58964019/lateinit-property-homeviewmodel-has-not-been-initialized/58966556#58966556", "title": "lateinit property homeViewModel has not been initialized", "body": "<p>When you initialize <code>homeViewModel</code>, you reference an uninitialized one so it gives you the error.</p>\n\n<pre><code>ViewModelProviders.of(this).get(***homeViewModel***::class.java)\n</code></pre>\n\n<p>I think the class name of your ViewModel should be <code>HomeViewModel</code>, so try this one:</p>\n\n<pre><code>private lateinit var homeViewModel: HomeViewModel\n\n...\n\nhomeViewModel = ViewModelProviders.of(this).get(HomeViewModel::class.java)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 627, "user_id": 12397978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8yN1Y.jpg?s=128&g=1", "display_name": "USMAN osman", "link": "https://stackoverflow.com/users/12397978/usman-osman"}, "is_accepted": false, "score": 0, "last_activity_date": 1574337408, "last_edit_date": 1574337408, "creation_date": 1574328330, "answer_id": 58971379, "question_id": 58964019, "link": "https://stackoverflow.com/questions/58964019/lateinit-property-homeviewmodel-has-not-been-initialized/58971379#58971379", "title": "lateinit property homeViewModel has not been initialized", "body": "<p>According to your <code>code</code>, as you're inside fragment do not <code>initialize</code> <em>ViewModel</em> inside <code>onCreateView()</code>, simply means let the view create first then initilalize <code>viewModel</code>.<br/>\nTo initialize <code>viewModel</code> you have to override <strong>onActivityCreated()</strong> method and initialize viewModel inside it. Your code will be like this:</p>\n\n<pre><code>override fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState) \n    homeViewModel = ViewModelProviders.of(activity!!)[HomeViewModel::class.java]\n    homeViewModel.text.observe(this, Observer {\n        text_home.text = it\n    })\n}\n</code></pre>\n\n<p>And notice here i pass <code>activity!!</code> rather than <code>this</code>, cause you just can't get the activity context or getActivity() directly whenever you're inside the fragment just by calling <code>this</code>. You have to tell manually. So your <code>viewModel</code> instantiation will be like this:</p>\n\n<pre><code>homeViewModel = ViewModelProviders.of(activity!!)[HomeViewModel::class.java]\n</code></pre>\n\n<p>Or You could use <code>if</code> block, like this:</p>\n\n<pre><code>override fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n    if(!::homeViewModel.isInitialized){ \n    homeViewModel = ViewModelProviders.of(activity!!)[HomeViewModel::class.java]\n    homeViewModel.text.observe(this, Observer {\n        text_home.text = it\n    })\n }\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12406727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5da05bddc07b368d81e888ba51e5cb3b?s=128&d=identicon&r=PG&f=1", "display_name": "Radex", "link": "https://stackoverflow.com/users/12406727/radex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1557, "favorite_count": 0, "accepted_answer_id": 58965743, "answer_count": 3, "score": 0, "last_activity_date": 1574337408, "creation_date": 1574287045, "question_id": 58964019, "link": "https://stackoverflow.com/questions/58964019/lateinit-property-homeviewmodel-has-not-been-initialized", "title": "lateinit property homeViewModel has not been initialized", "body": "<p>I have a problem, I added three textView (textView, textView2, textView3) and imageView to <strong>fragment_home.xml</strong> and when I try to run the application on the emulator in Android Studio I get the error <strong>lateinit property homeViewModel has not been initialized</strong>.</p>\n\n<p>homeFragment.kt</p>\n\n<pre><code>class homeFragment : Fragment() {\n\n    private lateinit var homeViewModel: homeViewModel\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        homeViewModel =\n            ViewModelProviders.of(this).get(homeViewModel::class.java)\n        val root = inflater.inflate(R.layout.fragment_home, container, false)\n        val textView: TextView = root.findViewById(R.id.text_home)\n        homeViewModel.text.observe(this, Observer {\n            textView.text = it\n        })\n        return root\n    }\n}\n</code></pre>\n\n<p>error log</p>\n\n<pre><code>6728-6728/com.radex.mysummercarmanual E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.radex.mysummercarmanual, PID: 6728\n    kotlin.UninitializedPropertyAccessException: lateinit property homeViewModel has not been initialized\n        at com.radex.mysummercarmanual.ui.home.homeFragment.onCreateView(homeFragment.kt:23)\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2439)\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManager.java:1460)\n        at androidx.fragment.app.FragmentManagerImpl.addAddedFragments(FragmentManager.java:2646)\n        at androidx.fragment.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2416)\n        at androidx.fragment.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManager.java:2372)\n        at androidx.fragment.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:2273)\n        at androidx.fragment.app.FragmentManagerImpl.dispatchStateChange(FragmentManager.java:3273)\n        at androidx.fragment.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:3229)\n        at androidx.fragment.app.Fragment.performActivityCreated(Fragment.java:2466)\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManager.java:1483)\n        at androidx.fragment.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1784)\n        at androidx.fragment.app.FragmentManagerImpl.moveToState(FragmentManager.java:1852)\n        at androidx.fragment.app.FragmentManagerImpl.dispatchStateChange(FragmentManager.java:3269)\n        at androidx.fragment.app.FragmentManagerImpl.dispatchActivityCreated(FragmentManager.java:3229)\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:201)\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:620)\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:178)\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1391)\n        at android.app.Activity.performStart(Activity.java:7157)\n        at android.app.ActivityThread.handleStartActivity(ActivityThread.java:2937)\n        at android.app.servertransaction.TransactionExecutor.performLifecycleSequence(TransactionExecutor.java:180)\n        at android.app.servertransaction.TransactionExecutor.cycleToPath(TransactionExecutor.java:165)\n        at android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:142)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:70)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1808)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n</code></pre>\n"}, {"tags": ["kotlin", "annotation-processing", "kotlinpoet"], "answers": [{"comments": [{"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 1, "creation_date": 1574452181, "post_id": 58996687, "comment_id": 104251993, "body": "just a small note: that when using <a href=\"https://github.com/Takhion/kotlin-metadata\" rel=\"nofollow noreferrer\">github.com/Takhion/kotlin-metadata</a> there is no need to access the processenvironment at all just <code>elementUtils</code> directly for the win. this was the thing that was confusing me actually :) thnx"}], "tags": [], "owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "is_accepted": true, "score": 1, "last_activity_date": 1574435269, "last_edit_date": 1574435269, "creation_date": 1574434261, "answer_id": 58996687, "question_id": 58963911, "link": "https://stackoverflow.com/questions/58963911/kotlinpoet-how-to-use-funspec-overriding-when-the-class-is-not-present/58996687#58996687", "title": "KotlinPoet how to use FunSpec.overriding when the class is not present?", "body": "<p>First you need to obtain a <code>TypeElement</code> using the <code>package</code> and <code>class</code> name (you will need a <code>ProcessingEnvironment</code> instance for that).</p>\n\n<pre><code>fun getTypeElement(\n        processingEnvironment: ProcessingEnvironment,\n        packageName: String,\n        className: String\n): TypeElement {\n    return processingEnvironment.elementUtils.getTypeElement(\"$packageName.$className\")\n}\n</code></pre>\n\n<p>Then you can simply access the <code>enclosedElements</code> in the <code>TypeElement</code>:</p>\n\n<pre><code>val typeElement = getTypeElement(processingEnv, packageName, className)\n\nFunSpec.overriding(getOnlyElement(methodsIn(typeElement.enclosedElements)))\n</code></pre>\n"}], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "accepted_answer_id": 58996687, "answer_count": 1, "score": 1, "last_activity_date": 1574435269, "creation_date": 1574286522, "last_edit_date": 1574286989, "question_id": 58963911, "link": "https://stackoverflow.com/questions/58963911/kotlinpoet-how-to-use-funspec-overriding-when-the-class-is-not-present", "title": "KotlinPoet how to use FunSpec.overriding when the class is not present?", "body": "<p>I have a package name and a class name as <code>String</code>s but I don't have the class specifically in my annotation processor. I need to use:</p>\n\n<pre><code>FunSpec.overriding(getOnlyElement(methodsIn(//stuck here)))\n</code></pre>\n\n<p>The <code>stuck here</code> should be a <code>setOf</code> <code>ExecutableElement</code>s? How can I do this? </p>\n\n<p>I've also checked <a href=\"https://stackoverflow.com/questions/50296204/how-to-use-funspec-overriding-in-kotlinpoet\">here</a>, but no so much luck.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 1, "creation_date": 1574286398, "post_id": 58962824, "comment_id": 104182797, "body": "What&#39;s the error you&#39;re getting in the underlined code? I&#39;m guessing for &quot;title&quot; it might be that that property doesn&#39;t exist. You have to cast the value  when you <code>getChildAt(1)</code> to whatever specific view type you expect. Right now it returns a value of type <code>View</code>. Which doesn&#39; thave a <code>title</code> property"}, {"owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 0, "creation_date": 1574286621, "post_id": 58962824, "comment_id": 104182897, "body": "The error after that is probably because you haven&#39;t imported the proper library for <code>MATCH_PARENT</code> try importing <code>import android.view.ViewGroup.LayoutParams.MATCH_PARENT</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1574450329, "post_id": 58964395, "comment_id": 104251184, "body": "maaan thanks a lot. Text works perfect. But parameter suppose to be WIDTH not weight"}, {"owner": {"reputation": 692, "user_id": 5469763, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--HAFE_bzrmU/AAAAAAAAAAI/AAAAAAAAAEk/dXXoZX8gIag/photo.jpg?sz=128", "display_name": "Richard Dapice", "link": "https://stackoverflow.com/users/5469763/richard-dapice"}, "reply_to_user": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1574566836, "post_id": 58964395, "comment_id": 104276216, "body": "Oh, well try it out. It might still be what you are after."}, {"owner": {"reputation": 692, "user_id": 5469763, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--HAFE_bzrmU/AAAAAAAAAAI/AAAAAAAAAEk/dXXoZX8gIag/photo.jpg?sz=128", "display_name": "Richard Dapice", "link": "https://stackoverflow.com/users/5469763/richard-dapice"}, "reply_to_user": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1574566894, "post_id": 58964395, "comment_id": 104276226, "body": "I think that width is an immutable property. Adjusting the weight increases and decreases the actual tab size."}, {"owner": {"reputation": 692, "user_id": 5469763, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--HAFE_bzrmU/AAAAAAAAAAI/AAAAAAAAAEk/dXXoZX8gIag/photo.jpg?sz=128", "display_name": "Richard Dapice", "link": "https://stackoverflow.com/users/5469763/richard-dapice"}, "reply_to_user": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1574566986, "post_id": 58964395, "comment_id": 104276246, "body": "If you have working java code dm me with it and I can help you with the Kotlin."}], "tags": [], "owner": {"reputation": 692, "user_id": 5469763, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--HAFE_bzrmU/AAAAAAAAAAI/AAAAAAAAAEk/dXXoZX8gIag/photo.jpg?sz=128", "display_name": "Richard Dapice", "link": "https://stackoverflow.com/users/5469763/richard-dapice"}, "is_accepted": false, "score": 0, "last_activity_date": 1574289039, "creation_date": 1574289039, "answer_id": 58964395, "question_id": 58962824, "link": "https://stackoverflow.com/questions/58962824/how-to-change-parameters-of-the-particular-tab-in-kotlin-android/58964395#58964395", "title": "How to change parameters of the particular tab in Kotlin android", "body": "<pre><code>        val sectionsPagerAdapter = SectionsPagerAdapter(this, supportFragmentManager)\n        val viewPager: ViewPager = findViewById(R.id.view_pager)\n        viewPager.adapter = sectionsPagerAdapter\n        val tabs: TabLayout = findViewById(R.id.tabs)\n        tabs.setupWithViewPager(viewPager)\n\n        tabs.getTabAt(0)?.text = \"My Title\"\n\n        val layout = (tabs.getChildAt(0) as LinearLayout).getChildAt(0) as LinearLayout\n        val layoutParams = layout.layoutParams as LinearLayout.LayoutParams\n        layoutParams.weight = // Desired weight\n        layout.layoutParams = layoutParams\n</code></pre>\n"}], "owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574289039, "creation_date": 1574281627, "question_id": 58962824, "link": "https://stackoverflow.com/questions/58962824/how-to-change-parameters-of-the-particular-tab-in-kotlin-android", "title": "How to change parameters of the particular tab in Kotlin android", "body": "<p>Im trying to set width and title to the particular tab in tablayout. In Java it is easy. But how to do that in kotlin. Here is my code and it is not working</p>\n\n<pre><code>val tabsTitles = tabLayout.getChildAt(0) as ViewGroup\n        tabsTitles.getChildAt(1).visibility = GONE\n        tabsTitles.getChildAt(1).title = \"Some title here\"\n        tabsTitles.getChildAt(1).width = MATCH_PARENT\n\n        val onlineTab = tabLayout.getChildAt(0)\n        onlineTab.title = \"Title\"\n        onlineTab.width = MATCH_PARENT\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/HfBbF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HfBbF.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "answers": [{"tags": [], "owner": {"reputation": 418, "user_id": 7934776, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e430da526bf5f2b17994424fe154b6e9?s=128&d=identicon&r=PG", "display_name": "wazawoo", "link": "https://stackoverflow.com/users/7934776/wazawoo"}, "is_accepted": true, "score": 1, "last_activity_date": 1574280923, "creation_date": 1574280923, "answer_id": 58962637, "question_id": 58962636, "link": "https://stackoverflow.com/questions/58962636/scroll-to-an-item-in-a-recyclerview-placing-it-at-the-center-of-the-screen/58962637#58962637", "title": "Scroll to an item in a RecyclerView, placing it at the center of the screen", "body": "<p>I found many answers for achieving this with a smooth scroller, but in case you want to achieve this without smooth scrolling (to immediately jump a large distance for example), you can do it with a normal LinearLayoutManager/GridLayoutManager by calculating the offset yourself.</p>\n\n<p>I subclassed LinearLayoutManager so that I could just use the scrollToPosition function and have it always scroll to that position with the item in the center, but you can just use the scrollToPositionWithOffset function of the LinearLayoutManager with a manual offset each time if you prefer.</p>\n\n<pre><code>class CenterScrollLayoutManager(context: Context, orientation: Int, reverseLayout: Boolean): LinearLayoutManager(context, orientation, reverseLayout) {\n\n    override fun scrollToPosition(position: Int) {\n\n        //this will place the top of the item at the center of the screen\n        val height = getApplicationContext().resources.displayMetrics.heightPixels\n        val offset = height/2\n\n        //if you know the item height, you can place the center of the item at the center of the screen\n        //  by subtracting half the height of that item from the offset:\n//        val height = getApplicationContext().resources.displayMetrics.heightPixels\n//        //(say item is 40dp tall)\n//        val itemHeight = 40F * getApplicationContext().resources.displayMetrics.scaledDensity\n//        val offset = height/2 - itemHeight/2\n\n        //depending on if you have a toolbar or other headers above the RecyclerView, \n        //  you may want to subtract their height as well:\n//        val height = getApplicationContext().resources.displayMetrics.heightPixels\n//        //(say item is 40dp tall):\n//        val itemHeight = 40F * getApplicationContext().resources.displayMetrics.scaledDensity\n//        //(say toolbar is 56dp tall, which is the default action bar height for portrait mode)\n//        val toolbarHeight = 56F * getApplicationContext().resources.displayMetrics.scaledDensity\n//        val offset = height/2 - itemHeight/2 - toolbarHeight\n\n        //call scrollToPositionWithOffset with the desired offset\n        super.scrollToPositionWithOffset(position, offset)\n    }\n}\n</code></pre>\n\n<p>Then, to use it, you need to first set this as the layout manager for your RecyclerView, likely inside OnCreate (if in an activity) or OnViewCreated (if in a fragment):</p>\n\n<pre><code>yourRecyclerView.apply {\n            adapter = yourRecyclerViewAdapter\n            layoutManager = CenterScrollLayoutManager(context, LinearLayoutManager.VERTICAL, false)\n        }\n</code></pre>\n\n<p>Then, just scroll to a desired position, and the item should be in the center:</p>\n\n<pre><code>yourRecyclerView.scrollToPosition(desiredPosition)\n</code></pre>\n\n<p>This also works with a GridLayoutManager.</p>\n"}], "owner": {"reputation": 418, "user_id": 7934776, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e430da526bf5f2b17994424fe154b6e9?s=128&d=identicon&r=PG", "display_name": "wazawoo", "link": "https://stackoverflow.com/users/7934776/wazawoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 311, "favorite_count": 0, "accepted_answer_id": 58962637, "answer_count": 1, "score": 0, "last_activity_date": 1574280923, "creation_date": 1574280923, "question_id": 58962636, "link": "https://stackoverflow.com/questions/58962636/scroll-to-an-item-in-a-recyclerview-placing-it-at-the-center-of-the-screen", "title": "Scroll to an item in a RecyclerView, placing it at the center of the screen", "body": "<p>I want to scroll to a particular item in my RecyclerView, but using <code>LinearLayoutManager.scrollToPosition(position: Int)</code>, the item is sometimes at the top of the screen and sometimes at the bottom. </p>\n\n<p>I want it to scroll to this item and place it at the center of the screen.</p>\n\n<p>I can achieve this with a smooth scroller using other answers, but I often want to jump very far in the list, so waiting for the smooth scroll to complete is unacceptable.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 11447379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54cd088cf965d94d960c8332a7bd6aac?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastien Desemberg", "link": "https://stackoverflow.com/users/11447379/sebastien-desemberg"}, "edited": false, "score": 0, "creation_date": 1574279201, "post_id": 58962071, "comment_id": 104179615, "body": "Ok, I understand that now. How do I call that theme in the activity now?"}, {"owner": {"reputation": 186020, "user_id": 2016562, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2433495de6d2b99746f8e25344209fa7?s=128&d=identicon&r=PG", "display_name": "Gabriele Mariotti", "link": "https://stackoverflow.com/users/2016562/gabriele-mariotti"}, "reply_to_user": {"reputation": 179, "user_id": 11447379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54cd088cf965d94d960c8332a7bd6aac?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastien Desemberg", "link": "https://stackoverflow.com/users/11447379/sebastien-desemberg"}, "edited": false, "score": 0, "creation_date": 1574281958, "post_id": 58962071, "comment_id": 104180908, "body": "@SebastienDesemberg It is described in the answer. You don&#39;t have to call it, just define it in the Manifest."}, {"owner": {"reputation": 179, "user_id": 11447379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54cd088cf965d94d960c8332a7bd6aac?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastien Desemberg", "link": "https://stackoverflow.com/users/11447379/sebastien-desemberg"}, "edited": false, "score": 0, "creation_date": 1574307380, "post_id": 58962071, "comment_id": 104188501, "body": "Got it, I&#39;m new :) Tnx"}], "tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": true, "score": 1, "last_activity_date": 1574278575, "creation_date": 1574278575, "answer_id": 58962071, "question_id": 58961964, "link": "https://stackoverflow.com/questions/58961964/change-status-bar-color-on-two-different-activities/58962071#58962071", "title": "Change status bar color on two different activities", "body": "<p>You can define a second theme in your styles.xml:</p>\n\n<pre><code>&lt;style name=\"AppTheme.Secondary\"&gt;\n    &lt;!-- set your attributes here --&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>And then, in your <code>AndroidManifest.xml</code>, set your other activity to use the other theme:</p>\n\n<pre><code>&lt;activity\n    android:name=\".YourSecondActivity\"\n    android:theme=\"@style/AppTheme.Secondary\"/&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 179, "user_id": 11447379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54cd088cf965d94d960c8332a7bd6aac?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastien Desemberg", "link": "https://stackoverflow.com/users/11447379/sebastien-desemberg"}, "edited": false, "score": 0, "creation_date": 1574279875, "post_id": 58962073, "comment_id": 104179963, "body": "Ok but how do I assign the theme to the activity?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9767786"}, "reply_to_user": {"reputation": 179, "user_id": 11447379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54cd088cf965d94d960c8332a7bd6aac?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastien Desemberg", "link": "https://stackoverflow.com/users/11447379/sebastien-desemberg"}, "edited": false, "score": 0, "creation_date": 1574320425, "post_id": 58962073, "comment_id": 104192403, "body": "If you define it in the Manifest like this, it\u2019s automatically assigned, as the other answer stated as well in the comments."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9767786"}, "is_accepted": false, "score": 2, "last_activity_date": 1574278579, "creation_date": 1574278579, "answer_id": 58962073, "question_id": 58961964, "link": "https://stackoverflow.com/questions/58961964/change-status-bar-color-on-two-different-activities/58962073#58962073", "title": "Change status bar color on two different activities", "body": "<p>You can create multiple custom themes and assign them to each <code>Activity</code> on <code>AndroidManifest.xml</code> such as:</p>\n\n<pre><code>&lt;activity android:theme=\"@style/CustomTheme1\"&gt;\n&lt;activity android:theme=\"@style/CustomTheme2\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 179, "user_id": 11447379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54cd088cf965d94d960c8332a7bd6aac?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastien Desemberg", "link": "https://stackoverflow.com/users/11447379/sebastien-desemberg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 58962071, "answer_count": 2, "score": 0, "last_activity_date": 1574278579, "creation_date": 1574278144, "question_id": 58961964, "link": "https://stackoverflow.com/questions/58961964/change-status-bar-color-on-two-different-activities", "title": "Change status bar color on two different activities", "body": "<p>I know how to set the status bar color across my app using style.xml but how do I change it on different activities?</p>\n\n<pre><code> &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.DarkActionBar\"&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/colorBlack&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorBlack&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorBlueLight&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 4, "creation_date": 1574275356, "post_id": 58961257, "comment_id": 104177771, "body": "<code>list.any { it == null }</code>. <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/any.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/&hellip;</a>"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 3, "creation_date": 1574275636, "post_id": 58961257, "comment_id": 104177897, "body": "Note that a MutableList&lt;String&gt;, by definition of the type String which is a non-nullable type, can&#39;t possibly contain null. If it was a MutableList&lt;String?&gt;, then it could. <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/null-safety.html</a>"}, {"owner": {"reputation": 87, "user_id": 11315357, "user_type": "registered", "profile_image": "https://graph.facebook.com/10218024186858527/picture?type=large", "display_name": "Yoann Far", "link": "https://stackoverflow.com/users/11315357/yoann-far"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1574275876, "post_id": 58961257, "comment_id": 104178022, "body": "Yes you right it was with MutableList&lt;String?&gt;. Thank you very much for the fast answer !"}], "answers": [{"comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1574328481, "post_id": 58966900, "comment_id": 104196590, "body": "What if the list is empty?"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1574356105, "post_id": 58966900, "comment_id": 104213409, "body": "@gidds It clearly doesn&#39;t contain null in this case."}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1574356367, "post_id": 58966900, "comment_id": 104213537, "body": "Yes, but the question wasn&#39;t whether the list contains any nulls; it was whether it contains any <i>non</i>-nulls, which would only be true if the list were non-empty <i>and</i> had no nulls."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1574356673, "post_id": 58966900, "comment_id": 104213691, "body": "Oh, in that case the condition <code>list.isNotEmpty()</code> could be checked in addition to <code>null !in list</code>."}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1574356901, "post_id": 58966900, "comment_id": 104213799, "body": "Indeed.  Would that not be better edited into your answer (with an explanation)?  \u2014 This illustrates that a good developer must <i>always</i> be asking \u201cWhat if\u2026?\u201d and \u201cHow could this go wrong?\u201d"}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 1, "last_activity_date": 1574307339, "creation_date": 1574307339, "answer_id": 58966900, "question_id": 58961257, "link": "https://stackoverflow.com/questions/58961257/check-if-a-list-contains-at-least-one-variable-non-null/58966900#58966900", "title": "Check if a list contains at least one variable non null", "body": "<p>You can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/contains.html\" rel=\"nofollow noreferrer\"><code>contains</code></a> function for that:</p>\n\n<pre><code>val hasNull = list.contains(null)\n</code></pre>\n\n<p><code>contains</code> can also be called in the operator form, it corresponds to the <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html#in\" rel=\"nofollow noreferrer\">operator <code>in</code></a>:</p>\n\n<pre><code>val hasNull = null in list\nval hasNoNull = null !in list\n</code></pre>\n"}], "owner": {"reputation": 87, "user_id": 11315357, "user_type": "registered", "profile_image": "https://graph.facebook.com/10218024186858527/picture?type=large", "display_name": "Yoann Far", "link": "https://stackoverflow.com/users/11315357/yoann-far"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 516, "favorite_count": 0, "accepted_answer_id": 58966900, "answer_count": 1, "score": 0, "last_activity_date": 1574307339, "creation_date": 1574275184, "last_edit_date": 1574282017, "question_id": 58961257, "link": "https://stackoverflow.com/questions/58961257/check-if-a-list-contains-at-least-one-variable-non-null", "title": "Check if a list contains at least one variable non null", "body": "<p>I'm making my first app in Kotlin and there is a lot of syntax I don't know, and I was wondering if there is a better way to check if a list contains at least one non null entry.</p>\n\n<p>For now my solution is:  </p>\n\n<pre><code>var atLeastOneValue: Boolean\nvar i = 0\n\nfor (x in list) {\n    if (x != null) atLeastOneValue = true\n    else i++\n}\nif (list.size == i) atLeastOneValue = false\n\nreturn atLeastOneValue\n</code></pre>\n\n<p>I'm working with <code>MutableList&lt;String&gt;</code>.</p>\n"}, {"tags": ["generics", "kotlin", "kotlin-reified-type-parameters"], "answers": [{"tags": [], "owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "is_accepted": true, "score": 2, "last_activity_date": 1574282518, "last_edit_date": 1574282518, "creation_date": 1574275717, "answer_id": 58961384, "question_id": 58960949, "link": "https://stackoverflow.com/questions/58960949/kotlin-generics-cannot-use-t-as-a-reified-type-parameter/58961384#58961384", "title": "Kotlin Generics Cannot use T as a reified type parameter", "body": "<p>You don't really need reified <code>T</code> in your <code>handleResponse</code> method, neither you want to inline it as you're generating ton of trash bytecode.</p>\n\n<p>What you can do is have inlined method overload which pulls class out of reified parameter and calls normal method which can be called recursively without issue:</p>\n\n<pre><code>// reified entry point\nprivate inline fun &lt;reified T : EmptyStateInfo&gt; multipleRequests(callback: Callback&lt;T&gt;?) = multipleRequests(callback, T::class.java)\n\n// recursive method\nprivate fun &lt;T : EmptyStateInfo&gt; multipleRequests(callback: Callback&lt;T&gt;?, tClass : Class&lt;T&gt;) {\n    // ... calls requests passing tClass as argument\n}\n\nprivate fun &lt;T : EmptyStateInfo&gt; handleResponse(\n    response: Response,\n    callback: Callback&lt;T&gt;?,\n    tClass : Class&lt;T&gt;){\n    // ... something something\n    val responseData = gson.fromJson(response.data, tClass)\n    // ... etc\n}\n</code></pre>\n"}], "owner": {"reputation": 6398, "user_id": 2127950, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/27eef5e6b57a1d7a7eaaf107a14fffb3?s=128&d=identicon&r=PG", "display_name": "portfoliobuilder", "link": "https://stackoverflow.com/users/2127950/portfoliobuilder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 285, "favorite_count": 0, "accepted_answer_id": 58961384, "answer_count": 1, "score": 0, "last_activity_date": 1574282518, "creation_date": 1574273910, "last_edit_date": 1574275588, "question_id": 58960949, "link": "https://stackoverflow.com/questions/58960949/kotlin-generics-cannot-use-t-as-a-reified-type-parameter", "title": "Kotlin Generics Cannot use T as a reified type parameter", "body": "<p>I am running into some issues regarding generics, recursion and inline reified.</p>\n\n<p>First, I want to recursively call a method that uses generics. This method makes request calls from a stack of requests. Lets say 5 requests need to be made, where 4 are done under the hood and only the last one is important. The others are sanity checks.</p>\n\n<pre><code>private fun &lt;T : EmptyStateInfo&gt; multipleRequests(\n        callback: Callback&lt;T&gt;?\n) {\n\n    ...\n    // request is made here. On the success of that request, this method is called again to make another request. I use a linkedList of requests to keep track.\n}\n</code></pre>\n\n<p>Now that the sanity check requests are made and successful, the last request I would like to bubble up the response (or error) to the presentation layer. The problem I am facing is that the method for processing the response is inline reified. I am unable to call this method without receiving the error, \"cannot use T as a reified type parameter\".</p>\n\n<pre><code>private inline fun &lt;reified T : EmptyStateInfo&gt; handleResponse(\n        response: Response,\n        callback: Callback&lt;T&gt;?\n) = when (response) {\n    is Response.StringResponseItem -&gt; {\n        try {\n            val responseData = gson.fromJson(response.data, T::class.java)\n            ...\n            // do something with response data\n        } catch (e: JsonSyntaxException) {\n            handleNonHttpFailure(e, callback)\n        }\n    }\n}\n</code></pre>\n\n<p>How to solve this issue? Here is what I have tried.</p>\n\n<ol>\n<li>Remove inline reified from handleResponse() : I am unable to make handleResponse() not be inline reified because of the use of T::class.java. I won't be able to use T in that manner if I do that. </li>\n<li>Make multipleRequests() reified : Doing this allows me to call handleResponse() just fine, however, I am unable to recursively call multipleRequests(). I get back error that says </li>\n</ol>\n\n<blockquote>\n  <p>inline function 'private final inline fun \n  multipleRequests()' cannot be recursive</p>\n</blockquote>\n\n<p>Anyone with any ideas on how to approach this problem?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "menu"], "answers": [{"tags": [], "owner": {"reputation": 95, "user_id": 8868305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b1b1bcf6982fc46cc1ef28599cfb2b?s=128&d=identicon&r=PG", "display_name": "Faqtt0", "link": "https://stackoverflow.com/users/8868305/faqtt0"}, "is_accepted": true, "score": 0, "last_activity_date": 1574273925, "creation_date": 1574273925, "answer_id": 58960951, "question_id": 58960403, "link": "https://stackoverflow.com/questions/58960403/ids-on-onoptionsitemselected-doesnt-match/58960951#58960951", "title": "ids on onOptionsItemSelected doesn&#39;t match", "body": "<p>I've found the problem. First i've trie clean the project and rebuild, after that, changed the menu order. Without success. And i've cleaned and rebuild again and now is working without change the code. I'm using MacOs but, don't know if it has some problem. It's not the first time on MacOs that i've to do the same thing. The same project on windows always work. Anyway. Thanks for who saw.</p>\n"}], "owner": {"reputation": 95, "user_id": 8868305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56b1b1bcf6982fc46cc1ef28599cfb2b?s=128&d=identicon&r=PG", "display_name": "Faqtt0", "link": "https://stackoverflow.com/users/8868305/faqtt0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 58960951, "answer_count": 1, "score": 1, "last_activity_date": 1574273925, "creation_date": 1574271811, "question_id": 58960403, "link": "https://stackoverflow.com/questions/58960403/ids-on-onoptionsitemselected-doesnt-match", "title": "ids on onOptionsItemSelected doesn&#39;t match", "body": "<p>When call the method on my parent Fragment class the id from menu is different but the title is the same. I change the title in the xml from it menu to confirm and item menu is from there. I've changed menus ids, created another menu.xml and still continues.\nMy class:</p>\n\n<pre><code>abstract class BaseFragment : Fragment() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setHasOptionsMenu(true)\n    }\n\n    override fun onCreateOptionsMenu(menu: Menu, inflater: MenuInflater) {\n        super.onCreateOptionsMenu(menu, inflater)\n        inflater.inflate(R.menu.header_menu, menu)\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n        when(item.itemId) {\n            R.id.menu_company -&gt; {\n                Log.i(\"Company\", \"SELECTED\")\n            }\n            R.id.menu_user -&gt; {\n                Log.i(\"USER\", \"SELECTED\")\n            }\n        }\n        return super.onOptionsItemSelected(item)\n    }\n}\n</code></pre>\n\n<p>My menu XML (header_menu.xml)</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n    &lt;item\n        android:id=\"@+id/menu_user\"\n        android:icon=\"@drawable/ic_action_troca_usuario\"\n        android:title=\"User\"\n        app:showAsAction=\"always\" /&gt;\n    &lt;item\n        android:id=\"@+id/menu_company\"\n        android:title=\"Company\"\n        android:icon=\"@drawable/ic_action_seleciona_empresa\"\n        app:showAsAction=\"always\"/&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p>One of fragments that extends from BaseFragment:</p>\n\n<pre><code>class ControleDeVendaFragment : BaseFragment() {\n...\n}\n</code></pre>\n\n<p>In Debug mode i try to compare the ids from menu and the return is this:\n<code>item.itemid = 2131230966</code>from selected menu company <code>R.id.menu_company = -1000255</code>.\ni've also tried to invalidate caches and restart </p>\n"}, {"tags": ["asynchronous", "kotlin", "coroutine"], "answers": [{"tags": [], "owner": {"reputation": 12732, "user_id": 430128, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c2aa2c9f527afea12a7fef458588b2a1?s=128&d=identicon&r=PG", "display_name": "Raman", "link": "https://stackoverflow.com/users/430128/raman"}, "is_accepted": true, "score": 1, "last_activity_date": 1574279617, "last_edit_date": 1574279617, "creation_date": 1574275031, "answer_id": 58961210, "question_id": 58959736, "link": "https://stackoverflow.com/questions/58959736/how-do-i-perform-a-network-request-on-multiple-items-in-kotlin-asynchronously/58961210#58961210", "title": "How do I perform a network request on multiple items in Kotlin asynchronously?", "body": "<p>The main issue with your code is that the coroutine scope in which the child coroutines are launched is provided by <code>runBlocking</code>, which actually <a href=\"https://kotlinlang.org/docs/reference/coroutines/coroutine-context-and-dispatchers.html#unconfined-vs-confined-dispatcher\" rel=\"nofollow noreferrer\">runs everything in the current thread</a> by default, which in this case is your <code>main</code> thread. This context is inherited by the children coroutines created by <code>launch</code>. You can easily see this if you add the output of <code>Thread.currentThread().name</code> to your <code>log</code> function.</p>\n\n<p>Specify the dispatcher as an argument to <code>runBlocking</code> e.g.:</p>\n\n<pre><code>runBlocking(Dispatchers.Default) { ... }\n</code></pre>\n\n<p>That being said, I feel like you are complicating things with channels. You could just use <code>async</code> to make these requests concurrent.</p>\n\n<p>For example, if you change your <code>main</code> method to the following:</p>\n\n<pre><code>// Note the explicit specification of the dispatcher here...\nfun main() = runBlocking&lt;Unit&gt;(Dispatchers.Default) {\n  log(\"First thing\")\n\n  val results = (1..NUMBER_OF_LOOPS).map {\n    async { getValue(it) }\n  }.awaitAll()\n\n  log(\"Results: $results\")\n\n  log(\"All Done.\")\n}\n</code></pre>\n\n<p>it should output something like the following, which I think is what you were looking for. Note I added the thread name to your <code>log</code> method for additional insight:</p>\n\n<pre><code>DefaultDispatcher-worker-4 2019-11-20 14:51:23.0884 Starting value for 3\nDefaultDispatcher-worker-1 2019-11-20 14:51:23.0884 Starting value for 1\nDefaultDispatcher-worker-5 2019-11-20 14:51:23.0884 Starting value for 4\nDefaultDispatcher-worker-6 2019-11-20 14:51:23.0884 Starting value for 5\nDefaultDispatcher-worker-3 2019-11-20 14:51:23.0884 Starting value for 2\nDefaultDispatcher-worker-4 2019-11-20 14:51:25.0547 Done processing for 3\nDefaultDispatcher-worker-6 2019-11-20 14:51:25.0599 Done processing for 5\nDefaultDispatcher-worker-1 2019-11-20 14:51:25.0601 Done processing for 1\nDefaultDispatcher-worker-5 2019-11-20 14:51:25.0775 Done processing for 4\nDefaultDispatcher-worker-3 2019-11-20 14:51:25.0779 Done processing for 2\nDefaultDispatcher-worker-3 2019-11-20 14:51:25.0780 Results: [U5VZ..., J4u0..., HWqg..., 1VrO..., ecS1...]\nDefaultDispatcher-worker-3 2019-11-20 14:51:25.0780 All Done.\n\n</code></pre>\n\n<p>If you do not call <code>awaitAll()</code> you will get a list of <code>Deferred&lt;T&gt;</code>, which you can compose e.g.</p>\n\n<pre><code>val first = (1..x).map {\n  async { something(it) }\n}\n\nval second = (1..y).map {\n  async { somethingElse(it) }\n}\n\n(first + second).awaitAll()\n</code></pre>\n\n<p>I recommend reading <a href=\"https://kotlinlang.org/docs/reference/coroutines/composing-suspending-functions.html#composing-suspending-functions\" rel=\"nofollow noreferrer\">Composing Suspending Functions</a>, especially the section about structured concurrency. Handling failures properly with async functions can be tricky, and needs additional attention before putting this kind of code into production.</p>\n"}], "owner": {"reputation": 1329, "user_id": 572854, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b3f368741e167067cf231bdfb3779ca6?s=128&d=identicon&r=PG", "display_name": "Innova", "link": "https://stackoverflow.com/users/572854/innova"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 0, "accepted_answer_id": 58961210, "answer_count": 1, "score": 1, "last_activity_date": 1574279617, "creation_date": 1574269436, "question_id": 58959736, "link": "https://stackoverflow.com/questions/58959736/how-do-i-perform-a-network-request-on-multiple-items-in-kotlin-asynchronously", "title": "How do I perform a network request on multiple items in Kotlin asynchronously?", "body": "<p>I have a list of items that I need to retrieve from a web service.  It seemed like the best way to do this would be via a Channel, but I can't get them to run at the same time.  For simplicity sake, I have reduced my problem to a small application with a loop that simulates the network call.</p>\n\n<pre><code>\nimport kotlinx.coroutines.channels.Channel\nimport kotlinx.coroutines.launch\nimport kotlinx.coroutines.runBlocking\nimport java.text.SimpleDateFormat\nimport java.util.*\nimport kotlin.random.Random\n\nprivate val charPool: List&lt;Char&gt; = ('a'..'z') + ('A'..'Z') + ('0'..'9')\nprivate val sdf =SimpleDateFormat(\"YYYY-MM-dd kk:mm:ss.SSSS\")\nconst val NUMBER_OF_LOOPS = 5\n\nfun main() = runBlocking&lt;Unit&gt; {\n    val channel = Channel&lt;String&gt;()\n    log(\"First thing\")\n    repeat(NUMBER_OF_LOOPS) {\n        launch {\n            channel.send(getValue(it))\n        }\n    }\n    log(\"Second Thing\")\n    launch {\n        repeat(NUMBER_OF_LOOPS) {\n            val value = channel.receive()\n            log(value)\n        }\n    }\n    log(\"All Done.\")\n}\n\nfun getValue(i: Int): String {\n    log(String.format(\"Starting value for %d\", i))\n    var rand: String = \"\"\n    repeat(100000) {\n        rand = (1..256)\n            .map { Random.nextInt(0, charPool.size) }\n            .map(charPool::get)\n            .joinToString(\"\")\n    }\n    log(String.format(\"Done processing for %d\", i))\n    return rand\n}\n\nfun log(value: String){\n    println(String.format(\"%s %s\", sdf.format(Date()), value))\n}\n</code></pre>\n\n<p>When I run this, I get the following output.</p>\n\n<pre><code>2019-11-20 10:57:00.0473 First thing\n2019-11-20 10:57:00.0484 Second Thing\n2019-11-20 10:57:00.0485 All Done.\n2019-11-20 10:57:00.0495 Starting value for 0\n2019-11-20 10:57:02.0489 Done processing for 0\n2019-11-20 10:57:02.0495 Starting value for 1\n2019-11-20 10:57:03.0898 Done processing for 1\n2019-11-20 10:57:03.0898 Starting value for 2\n2019-11-20 10:57:05.0270 Done processing for 2\n2019-11-20 10:57:05.0270 Starting value for 3\n2019-11-20 10:57:06.0607 Done processing for 3\n2019-11-20 10:57:06.0607 Starting value for 4\n2019-11-20 10:57:07.0930 Done processing for 4\n2019-11-20 10:57:07.0930 YxjtbzPR29etkoCg6yR64XwepRPDHGaS8MAp4M16FLyEIaVUcqtx6RSaBaWmB5MyDh60Xo7a6aOSfwmLOvdt2Ppyj3K8OpWjhQ5BuC6aHVrPmQwau5PLROIWSIU0wrLl7mrYhDJSSfFPRUATXxFz0viDvzx4q88q8Nm9b3LPu264bR0kYrQk2sGQATQLRxR7DcsgKAvCvFKy8Ba0VYcKreJKAWOeUVYkvFTW9rPJ2X8FkwhzqeuNlWeK27v60CSB\n2019-11-20 10:57:07.0930 n9uOCwuIlKX4PcWcFUhKfr96Topoht67h0wt1JHTAzIGxaRnHd92wW3wdghWaPxL9WuCE2ICfwHY5NCq1PYAekaCKEPvb46Ouz4TzFgGy0j3xZdwgyVqS4pmQJvl7hvhjldvouhxFfkt1DLeNAyai7J2CMFvWhDsFsNy0S0jsJfMfI9TV9N7U02u74rnwR5hZb2RfLJgfYf77GtS8jkf0QXufnhJmt8MYsx7BGLi9vrhgH0qcaLdA2bDspia767s\n2019-11-20 10:57:07.0930 ljfUduDQunB2YsHI0ZO7HRXEbqSbozIKivbge0DIFuNgI7cAvPIofQhBiVU2sTfhswr9zpRd30aKZzE3zprU5oPg70RuTSAAbDaVr06nd4IARi8WbfthpPVP3FIk4ScezMH4I47FmoNuwMmTxyLrtskWWqInJn8WA0U7Riq4pNG7y8CKiXgiytWH09QXJvNMG7Wzd3ApIUyx45ljCOZUHDiORsGWRcQnf9ngv56d9qGBYJOqfHKALiJnca9CoJSN\n2019-11-20 10:57:07.0931 LkoTs8Oa8cxd3NUEKK1snRZPguYFTtDQJcJ4kYDaDYpjBOScnziEbr2OuLsCHfXgBNFc3ZzejKCLwN3oCT5l24iILkpm7122ktoOGPXtMwNBoEuB4oK83xqm6P7YKX7YU3LK1njio5zzdbPhfc0Qyrym1qyBVQnr3c4dJds1zMYDTAfZJ0o8Wyi5R8XJ7bH8aiCXziozaEELa80CWM3mDymjSWMnihDjfJlasO3cFHP4q2vpsLzqnxqTfS9WKGNv\n2019-11-20 10:57:07.0931 6wDtTynt8htbfm28ipVHOZ961TdoLZomAk2cv7GzvptFqlKnU71Y5U22n75i9AQloZpFAbGdEXHduYKWoAHvi8mmPCmK7X1y8wUjqHWYEC4GFgGbrzM4lIPAKp1WagqnL3gndpGMPwY1WpiXtpjqtgGCNb26TEsF178uXgMHk5i8V46bBBNGPFPTtACCn5Ga5myv7GAcwWpGcl4yHkBpxSVuqA1bhssJ4KhIvwexPH159ePeeaixeIBZQTfwDl86\n\n</code></pre>\n\n<p>I would expect all of the \"Starting value...\" logs to show up before any of the \"Done Processing\" logs, but as you can see they are all running synchronously.</p>\n\n<p>Is there a better way to do this?</p>\n"}, {"tags": ["android", "date", "kotlin", "android-datepicker"], "answers": [{"comments": [{"owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "edited": false, "score": 0, "creation_date": 1574274932, "post_id": 58960931, "comment_id": 104177579, "body": "Here is my presenter: <a href=\"https://gist.github.com/mnewlive/aadd36552d09c3e8baeb41b94652abc0\" rel=\"nofollow noreferrer\">gist.github.com/mnewlive/aadd36552d09c3e8baeb41b94652abc0</a> Is it possible to pull a date from these methods?"}], "tags": [], "owner": {"reputation": 41, "user_id": 3806726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GmVKS.png?s=128&g=1", "display_name": "Nathan K", "link": "https://stackoverflow.com/users/3806726/nathan-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1574273840, "last_edit_date": 1592644375, "creation_date": 1574273840, "answer_id": 58960931, "question_id": 58958432, "link": "https://stackoverflow.com/questions/58958432/date-picker-is-reseted-on-1-jan-1970/58960931#58960931", "title": "Date picker is reseted on 1 Jan 1970", "body": "<blockquote>\n<p>I see that is because i put elvis 0L. But how it fix correct?</p>\n<p>If i don't call showDatePickerDialog my parsedDate always will be null. But in fun editTarget i need get saved date.</p>\n</blockquote>\n<p>Exactly. If you want the fallback to be something that isn't Jan 1, 1970, then you need to set <code>parsedDate</code> to whatever it is supposed to be. You say it is in a Firebase realtime database, but I don't see anywhere that you are referencing that database to get the value so that it can be set appropriately.</p>\n<p>My suggestion would be to have the presenter make a call to your data layer to listen for updates to the relevant realtime database value and have a callback in your Fragment that updates <code>parsedDate</code> whenever the database value is updated.</p>\n"}], "owner": {"reputation": 3391, "user_id": 6387618, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f5af475c8ce7bf4b9d300e40a4f9b6c3?s=128&d=identicon&r=PG", "display_name": "Morozov", "link": "https://stackoverflow.com/users/6387618/morozov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 58960931, "answer_count": 1, "score": 0, "last_activity_date": 1574273840, "creation_date": 1574265157, "last_edit_date": 1574269376, "question_id": 58958432, "link": "https://stackoverflow.com/questions/58958432/date-picker-is-reseted-on-1-jan-1970", "title": "Date picker is reseted on 1 Jan 1970", "body": "<p>I have field <code>date</code> in my firebase realtime database.</p>\n\n<p>And now for example if i enter in fragment and don't change the date, date changing on: <code>1 Jan 1970</code> even if it has been installed before.</p>\n\n<p>This is code of my fragment:</p>\n\n<pre><code>class TargetEditFragment : BaseFragment(), View.OnClickListener, TargetEditContract {\n\n    private val presenter = TargetEditPresenter(contract = this)\n    private val safeArgs: TargetEditFragmentArgs by navArgs()\n    private val targetGuid: String\n        get() = safeArgs.guid\n    private var parsedDate: LocalDate? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        presenter.setInitialData(targetGuid)\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        return inflater.inflate(R.layout.fragment_target_add, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        presenter.fetchTarget()\n        setupViews()\n    }\n\n    override fun updateViewsContent(\n        name: String?,\n        date: String?\n    ) {\n        nameEditText?.text = Editable.Factory.getInstance().newEditable(name)\n        dateView?.text = Editable.Factory.getInstance().newEditable(date)\n    }\n\n    override fun onClick(v: View?) {\n        presenter.onViewClick(v?.id ?: return, targetGuid)\n    }\n\n    override fun editTarget(targetGuid: String) {\n        val name = nameEditText?.text.toString().trim()\n        val date = parsedDate?.atStartOfDay()?.toInstant(ZoneOffset.UTC)?.toEpochMilli() ?: 0L\n        if (targetGuid.isEmpty()) presenter.addTarget(name, date)\n        else presenter.updateTarget(name, date)\n    }\n\n    override fun deleteTarget() {\n        presenter.deleteTarget()\n    }\n\n    override fun closeView() {\n        findNavController().navigate(R.id.show_list)\n    }\n\n    override fun showWarningDialog() {\n        activity?.showWarningDialog(description = getString(R.string.warning_description))\n    }\n\n    private fun setupViews() {\n        showDatePickerDialog()\n        addActionView?.setOnClickListener(this)\n        deleteActionView?.setOnClickListener(this)\n    }\n\n    private fun showDatePickerDialog() {\n        val date = LocalDate.now(ZoneId.systemDefault())\n        val currentYear = date.year\n        val currentMonth = date.monthValue\n        val currentDay = date.dayOfMonth\n\n        val dateFormatter = DateTimeFormatter.ofLocalizedDate(FormatStyle.MEDIUM)\n\n        pickDate.setOnClickListener {\n            val datePickDialog = DatePickerDialog(\n                activity,\n                R.style.DatePickerDialogTheme,\n                DatePickerDialog.OnDateSetListener { _, year, month, dayOfMonth -&gt;\n                    val selectedDate = LocalDate.of(year, month + 1, dayOfMonth)\n                    val dateString = selectedDate.format(dateFormatter)\n                    dateView.text = dateString\n                    parsedDate = LocalDate.parse(dateString, dateFormatter)\n                },\n                currentYear,\n                currentMonth - 1,\n                currentDay\n            )\n            datePickDialog.show()\n\n            datePickDialog.setOnCancelListener { dialog -&gt; dialog.dismiss() }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>UPDATE</strong>:\nI see that is because i put elvis <code>0L</code>. But how it fix correct?</p>\n\n<p>If i don't call <code>showDatePickerDialog</code> my <code>parsedDate</code> always will be <code>null</code>.\nBut in fun <code>editTarget</code> i need get saved date.</p>\n"}, {"tags": ["unit-testing", "kotlin", "mocking", "mockito", "spy"], "comments": [{"owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 0, "creation_date": 1574273515, "post_id": 58958237, "comment_id": 104176889, "body": "You are not testing the method if you don&#39;t call the real implementation"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8970329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1057f230fee98fd7695d8c534413b87?s=128&d=identicon&r=PG&f=1", "display_name": "skovoroda4", "link": "https://stackoverflow.com/users/8970329/skovoroda4"}, "is_accepted": false, "score": 0, "last_activity_date": 1574325601, "creation_date": 1574325601, "answer_id": 58970538, "question_id": 58958237, "link": "https://stackoverflow.com/questions/58958237/test-generic-method-of-parent-abstract-class/58970538#58970538", "title": "Test generic method of parent abstract class", "body": "<p>I solved this problem by using interface instead abstract class.</p>\n"}], "owner": {"reputation": 1, "user_id": 8970329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1057f230fee98fd7695d8c534413b87?s=128&d=identicon&r=PG&f=1", "display_name": "skovoroda4", "link": "https://stackoverflow.com/users/8970329/skovoroda4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574325601, "creation_date": 1574264589, "question_id": 58958237, "link": "https://stackoverflow.com/questions/58958237/test-generic-method-of-parent-abstract-class", "title": "Test generic method of parent abstract class", "body": "<p>I have abstract class like this:</p>\n\n<pre><code>abstract class A(val x: String, y: String..){\nfun &lt;R1,R2&gt;bla(request:R1):Response&lt;R2&gt;(..)\n}\n</code></pre>\n\n<p>Also I have class that extends abstract:</p>\n\n<pre><code>class B(val bean1:Bean1, val bean2: Bean2): A(bean1.x, bean2.y){\nfun doSomething(\n  &lt;R1,R2&gt;bla(Object())\n)}\n</code></pre>\n\n<p>My test looks like:</p>\n\n<pre><code>@Mock\nprivate lateinit var bean1:Bean1\n@Mock\nprivate lateinit var bean2:Bean2\nprivate lateinit b:B\n@BeforeAll\nfun init(){\n MockitoAnnotations.initMocks(this)\n b = spy(B(bean1,bean2))\n}\n\n@Test\nfun `Test`(){\n doReturn(Response()).when(b).bla&lt;Class1,Class2&gt;(Object())\n}\n</code></pre>\n\n<p>How I can test method 'bla' without calling real implementation?\nIn case above, it calls real implementation every time. I tried to use mock instead spy, but result the same.</p>\n\n<p>Halp!:)</p>\n"}, {"tags": ["android", "kotlin", "okhttp", "fast-android-networking"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 13551428, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/d9cd28c55c1b6444772c74022ae34cd8?s=128&d=identicon&r=PG", "display_name": "Genaro", "link": "https://stackoverflow.com/users/13551428/genaro"}, "is_accepted": false, "score": 0, "last_activity_date": 1589589051, "last_edit_date": 1589589051, "creation_date": 1589573408, "answer_id": 61827557, "question_id": 58958213, "link": "https://stackoverflow.com/questions/58958213/problem-when-uploading-video-stream-was-reset-no-error/61827557#61827557", "title": "Problem when uploading video: Stream was reset: NO_ERROR", "body": "<p>I found the solution:</p>\n\n<pre><code>MultipartBody.Builder builder = new MultipartBody.Builder();\nbuilder.setType(MultipartBody.FORM);\n</code></pre>\n\n<p>Only set the type on the builder multipart body.</p>\n"}, {"comments": [{"owner": {"reputation": 131, "user_id": 2894807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66cbccc2fcccd25dd82b25eecfbe43b7?s=128&d=identicon&r=PG&f=1", "display_name": "cyrus000", "link": "https://stackoverflow.com/users/2894807/cyrus000"}, "edited": false, "score": 0, "creation_date": 1593221428, "post_id": 61944977, "comment_id": 110712280, "body": "Please share &quot;newCall&quot; function."}, {"owner": {"reputation": 451, "user_id": 6112354, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-biL7CDcySzQ/AAAAAAAAAAI/AAAAAAAAAEM/T9xGDfL4Bvs/photo.jpg?sz=128", "display_name": "Renzo Tissoni", "link": "https://stackoverflow.com/users/6112354/renzo-tissoni"}, "reply_to_user": {"reputation": 131, "user_id": 2894807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66cbccc2fcccd25dd82b25eecfbe43b7?s=128&d=identicon&r=PG&f=1", "display_name": "cyrus000", "link": "https://stackoverflow.com/users/2894807/cyrus000"}, "edited": false, "score": 0, "creation_date": 1593319253, "post_id": 61944977, "comment_id": 110735283, "body": "Well, it\u2019s one of the <code>OkHttpClient</code>\u2019s methods. <a href=\"https://square.github.io/okhttp/4.x/okhttp/okhttp3/-ok-http-client/new-call/\" rel=\"nofollow noreferrer\">here</a>\u2019s the link to the docs."}], "tags": [], "owner": {"reputation": 451, "user_id": 6112354, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-biL7CDcySzQ/AAAAAAAAAAI/AAAAAAAAAEM/T9xGDfL4Bvs/photo.jpg?sz=128", "display_name": "Renzo Tissoni", "link": "https://stackoverflow.com/users/6112354/renzo-tissoni"}, "is_accepted": true, "score": 0, "last_activity_date": 1613411625, "last_edit_date": 1613411625, "creation_date": 1590100885, "answer_id": 61944977, "question_id": 58958213, "link": "https://stackoverflow.com/questions/58958213/problem-when-uploading-video-stream-was-reset-no-error/61944977#61944977", "title": "Problem when uploading video: Stream was reset: NO_ERROR", "body": "<p>I ended up using OkHttp3 directly to upload the data to Vimeo.\nHere's my solution:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun basicPatch(\n    url: String,\n    headers: Map&lt;String, String&gt; = mapOf(),\n    data: ByteArray,\n    success: (Response) -&gt; Unit,\n    failure: (IOException) -&gt; Unit\n) {\n    val tusMediaType = MediaType.parse(&quot;application/offset+octet-stream&quot;)\n    val body = RequestBody.create(tusMediaType, data)\n\n    val request = Request.Builder()\n        .url(url)\n        .headers(Headers.of(headers))\n        .patch(body)\n        .build()\n    client.newCall(request).enqueue(object: Callback {\n        override fun onFailure(call: Call, error: IOException) {\n            failure(error)\n        }\n\n        override fun onResponse(call: Call, response: Response) {\n            success(response)\n            if (response.isSuccessful) {\n                response.close()\n            }\n        }\n    })\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 7139080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eB36D.jpg?s=128&g=1", "display_name": "Vladimir Rozin", "link": "https://stackoverflow.com/users/7139080/vladimir-rozin"}, "is_accepted": false, "score": 1, "last_activity_date": 1607023804, "creation_date": 1607023804, "answer_id": 65132840, "question_id": 58958213, "link": "https://stackoverflow.com/questions/58958213/problem-when-uploading-video-stream-was-reset-no-error/65132840#65132840", "title": "Problem when uploading video: Stream was reset: NO_ERROR", "body": "<p>I had the same issue - getting <code>RST_STREAM</code> frame with an error code <code>NO_ERROR</code>. I was trying to upload a fairly big chunk of data through HTTP/2. Whenever I'd force to use HTTP/1_1 like so</p>\n<pre><code>List&lt;Protocol&gt; protocols = new ArrayList&lt;Protocol&gt;()\n        {{\n            add(Protocol.HTTP_1_1); // &lt;-- The only protocol used\n            //add(Protocol.HTTP_2); \n        }};\nfinal OkHttpClient okHttpClient = new OkHttpClient.Builder()\n                .connectTimeout(20L, TimeUnit.SECONDS)\n                .writeTimeout  (20L, TimeUnit.SECONDS)\n                .readTimeout   (20L, TimeUnit.SECONDS)\n                .protocols(protocols)\n                .build();\n</code></pre>\n<p>then I would get <code>HTTP 413 Entity Too Large</code>.</p>\n<p>The solution was to explicitly tell proxy to set the client package limit to a higher value (1MB was the default). After that not only HTTP/1_1 worked, but HTTP/2 as well.</p>\n"}], "owner": {"reputation": 451, "user_id": 6112354, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-biL7CDcySzQ/AAAAAAAAAAI/AAAAAAAAAEM/T9xGDfL4Bvs/photo.jpg?sz=128", "display_name": "Renzo Tissoni", "link": "https://stackoverflow.com/users/6112354/renzo-tissoni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1451, "favorite_count": 0, "accepted_answer_id": 61944977, "answer_count": 3, "score": 2, "last_activity_date": 1613411625, "creation_date": 1574264525, "question_id": 58958213, "link": "https://stackoverflow.com/questions/58958213/problem-when-uploading-video-stream-was-reset-no-error", "title": "Problem when uploading video: Stream was reset: NO_ERROR", "body": "<p>I'm working on an app that uploads videos to Vimeo using the TUS approach.</p>\n\n<p>I wrote a simple wrapper for Fast Android Networking to use for uploading each part of the video file.</p>\n\n<pre><code>fun patch(\n    destination: RequestDestination = RequestDestination.Api,\n    url: String,\n    headers: Map&lt;String, Any&gt; = mapOf(),\n    body: ByteArray? = null,\n    contentType: String? = null,\n    priority: Priority = Priority.MEDIUM,\n    jsonRequest: Boolean = true,\n    success: (Any?) -&gt; Unit,\n    failure: (ANError?) -&gt; Unit\n) {\n    val requestUrlString = getFullUrl(destination, url) // Determines the destination URL, is working correctly\n    val request = AndroidNetworking.patch(requestUrlString)\n    setRequestAttributes(request, headers, destination, priority) // Adds the request params, headers, etc to the request, works correctly\n    if (contentType != null) { \n        request.setContentType(contentType) \n    }\n\n    if (body != null) {\n        request.addByteBody(body) \n    }\n\n    request.build().getAsOkHttpResponse(object : OkHttpResponseListener {\n        override fun onResponse(response: Response?) {\n            success(response)\n        }\n\n        override fun onError(anError: ANError?) {\n            failure(anError)\n        }\n    })\n}\n</code></pre>\n\n<p>This seems to fail inconsistently, it sometimes works fine, and sometimes it doesn't.\nThe parts uploaded are 70MB in size.\nThe error thrown is:</p>\n\n<pre><code>com.androidnetworking.error.ANError: okhttp3.internal.http2.StreamResetException: stream was reset: NO_ERROR\n</code></pre>\n\n<p>Normally, I recover from errors by retrying the upload as TUS specifies, however, after getting the resources and retrying the patch, the network activity drops significantly (from a few Mbps to a few Kbps), and eventually a socket timeout occurs:</p>\n\n<pre><code>com.androidnetworking.error.ANError: java.net.SocketTimeoutException: timeout\n</code></pre>\n\n<p>Any ideas on what might be wrong here?</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "android-room", "dao"], "comments": [{"owner": {"reputation": 1557, "user_id": 3330058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C010X.png?s=128&g=1", "display_name": "Giorgos Neokleous", "link": "https://stackoverflow.com/users/3330058/giorgos-neokleous"}, "edited": false, "score": 3, "creation_date": 1574263494, "post_id": 58957778, "comment_id": 104171136, "body": "Hey I would sincerely suggest you for maintainability, flexibility and readability to not have a single POJO for both network operation and persistence. The simplest will be to have a generic POJO which both network and dao&#39;s will convert their own POJOs into."}], "owner": {"reputation": 111, "user_id": 8137974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcef0db2577e56fd51687c9ddf7ae9e8?s=128&d=identicon&r=PG&f=1", "display_name": "Terry Grosso", "link": "https://stackoverflow.com/users/8137974/terry-grosso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 857, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574263223, "creation_date": 1574263223, "question_id": 58957778, "link": "https://stackoverflow.com/questions/58957778/room-retrofit-listobject", "title": "Room &amp; Retrofit : List&lt;Object&gt;", "body": "<p>Id'like to save my News in a Room Database. I know how to do it when the data on the Response is List of News but not when it's a NewsList which contains a list of News.</p>\n\n<p><strong>Here is my code :</strong>\nMy API Get function :</p>\n\n<pre><code>@GET(\"other/club.json\")\nsuspend fun getListNews(): Response&lt;NewsList&gt;\n</code></pre>\n\n<p>My model : </p>\n\n<pre><code>data class NewsList(\n@SerializedName(value = \"news\")\nval news: List&lt;News&gt;)\n\n@Entity(tableName = \"news_table\")\ndata class News(\n@PrimaryKey(autoGenerate = false)\n@SerializedName(value = \"id\")\nvar id: Int,\n\n@SerializedName(value = \"type\")\nvar type: String,\n\n@SerializedName(value = \"date\")\nvar date: String,\n\n@SerializedName(value = \"title\")\nvar title: String,\n\n@SerializedName(value = \"picture\")\nvar picture: String,\n\n@SerializedName(value = \"content\")\nvar content: String)\n</code></pre>\n\n<p>My DAO :</p>\n\n<pre><code>@Dao\ninterface NewsDao {\n\n@Insert\nfun insert(news: News)\n\n@Insert(onConflict = OnConflictStrategy.REPLACE)\nfun insertAll(news: NewsList)\n\n@Update\nfun update(news: News)\n\n@Delete\nfun delete(news: News)\n\n@Query(\"DELETE FROM news_table\")\nfun deleteAllNews()\n\n@Query(\"SELECT * FROM news_table\")\nfun getAllNews(): LiveData&lt;NewsList&gt;\n}\n</code></pre>\n\n<p>Response from the API :</p>\n\n<pre><code>\"news\": [\n{\n\"nid\": 1,\n\"type\": \"one\",\n ...\n},\n{\n\"nid\": 2,\n\"type\": \"two\",\n ...\n}\n]\n</code></pre>\n\n<p>And my Database : </p>\n\n<pre><code>@Database(\nentities = [News::class],\nversion = 1,\nexportSchema = false\n)\nabstract class NewsDatabase : RoomDatabase() {\n\n//--- DAO ---///\nabstract fun newsDao(): NewsDao\n\ncompanion object{\n    @Volatile private var instance: NewsDatabase? = null\n\n    fun getInstance(context: Context): NewsDatabase {\n        return instance ?: synchronized(this) {\n            instance ?: buildDatabase(context).also { instance = it }\n        }\n    }\n\n    private fun buildDatabase(context: Context) =\n        Room.databaseBuilder(context.applicationContext, NewsDatabase::class.java, \"test.db\")\n            .build()\n}\n}\n</code></pre>\n\n<p>I heard about TypeConverters, but what is the best way to do it with this example please ?</p>\n"}, {"tags": ["android", "kotlin", "jpeg", "depth-buffer", "xmp"], "comments": [{"owner": {"reputation": 2050, "user_id": 1291714, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y036L.png?s=128&g=1", "display_name": "riggaroo", "link": "https://stackoverflow.com/users/1291714/riggaroo"}, "edited": false, "score": 0, "creation_date": 1582988630, "post_id": 58957619, "comment_id": 106969350, "body": "did you ever solve this? stuck at the same point..."}, {"owner": {"reputation": 1006, "user_id": 2352046, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f27692dcadb25a2b8a0ce8df4267f64?s=128&d=identicon&r=PG", "display_name": "Kent Mewhort", "link": "https://stackoverflow.com/users/2352046/kent-mewhort"}, "reply_to_user": {"reputation": 2050, "user_id": 1291714, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Y036L.png?s=128&g=1", "display_name": "riggaroo", "link": "https://stackoverflow.com/users/1291714/riggaroo"}, "edited": false, "score": 0, "creation_date": 1589250548, "post_id": 58957619, "comment_id": 109212390, "body": "I get largely the same XMP output as you when grabbing an ImageFormat.DEPTH_JPEG from the camera2 API and parsing the Image. There&#39;s a URI for &quot;android/depthmap&quot;, but still a bit of a mystery where this is.  Note that the dynamic depth PDF actually says the files themselves are in the &quot;Concatenated File Container&quot;, and it&#39;s just the order and properties of these files that are in the XMP metadata.  But there&#39;s little information on this Concatenated File Container.  Francois, @riggaroo, any further luck?"}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 7752774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9caecbe74b69db4de0c423fea2b24b58?s=128&d=identicon&r=PG&f=1", "display_name": "Lumi Wang", "link": "https://stackoverflow.com/users/7752774/lumi-wang"}, "is_accepted": false, "score": 0, "last_activity_date": 1580124232, "creation_date": 1580124232, "answer_id": 59930169, "question_id": 58957619, "link": "https://stackoverflow.com/questions/58957619/android-q-get-depth-map-from-portrait-mode-photos/59930169#59930169", "title": "Android Q - Get depth map from portrait mode photos", "body": "<p>I managed to extract the depth image using \"exiftool\". But I'm also trying to find a way to do that programmatically directly from the metadata.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14967106, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/cb71801c65fdad6fea2430b578dadaba?s=128&d=identicon&r=PG", "display_name": "thyung", "link": "https://stackoverflow.com/users/14967106/thyung"}, "is_accepted": false, "score": 0, "last_activity_date": 1610120679, "creation_date": 1610120679, "answer_id": 65632120, "question_id": 58957619, "link": "https://stackoverflow.com/questions/58957619/android-q-get-depth-map-from-portrait-mode-photos/65632120#65632120", "title": "Android Q - Get depth map from portrait mode photos", "body": "<p>Pixel phone portrait mode photo is concatenated of 4 JFIF structure <a href=\"https://en.wikipedia.org/wiki/JPEG_File_Interchange_Format\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/JPEG_File_Interchange_Format</a>.  Each JFIF structure is an jpeg image.</p>\n<p>A JFIF structure starts with marker 0xFFD8 and ends with marker 0xFFD9. Therefore, we can split a portrait mode image into 4 jpeg files.</p>\n<p>The following python code prints the marker positions and splits PXL_20210107_114027740.PORTRAIT.jpg into,</p>\n<ol>\n<li>pxl_out_0.jpg: display image</li>\n<li>pxl_out_1.jpg: original image</li>\n<li>pxl_out_2.jpg: depthmap with 256 grey level</li>\n<li>pxl_out_3.jpg: dummy image filled with 255</li>\n</ol>\n<pre><code>with open('PXL_20210107_114027740.PORTRAIT.jpg', mode='rb') as infile:\n    buffer = infile.read()\n\nbufferlen = len(buffer)\npos = 0\npos_d8 = 0\nn = 0\ni = 0\nwhile i &lt; bufferlen:\n    if buffer[i] == 0xff:\n        pos = i\n        i += 1\n        if buffer[i] == 0xd8:\n            print('ffd8: {0}'.format(pos))\n            pos_d8 = pos\n        elif buffer[i] == 0xd9:\n            print('ffd9: {0} len: {1}'.format(pos, pos - pos_d8 + 2))\n            with open('pxl_out_{0}.jpg'.format(n), mode='wb') as outfile:\n                n += 1\n                outfile.write(buffer[pos_d8: pos + 2])\n    i += 1\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12404235, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-izxPozcFs38/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reERycghE7cH0e9d5nQtpIwbspa3Q/photo.jpg?sz=128", "display_name": "Fran&#231;ois", "link": "https://stackoverflow.com/users/12404235/fran%c3%a7ois"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1021, "favorite_count": 4, "answer_count": 2, "score": 1, "last_activity_date": 1610120679, "creation_date": 1574262763, "question_id": 58957619, "link": "https://stackoverflow.com/questions/58957619/android-q-get-depth-map-from-portrait-mode-photos", "title": "Android Q - Get depth map from portrait mode photos", "body": "<p>I'm trying to build a sample Android App to extract the depth map of portrait mode photos taken with the google camera app. I know that it's saved along the blurred photos.</p>\n\n<p>I read the Dynamic Depth Format documentation coming from Google : <a href=\"https://developer.android.com/training/camera2/Dynamic-depth-v1.0.pdf\" rel=\"nofollow noreferrer\">https://developer.android.com/training/camera2/Dynamic-depth-v1.0.pdf</a>\nIt's pretty new and I don't find any resource related to this subject or how to manage the extraction of an android portrait's depth map.</p>\n\n<p>I used metadata-extractor library to read file's metadata programmatically, particularly the XMP Part as it's where informations are described for depth. I wrote a sample code in Kotlin to try to extract the depth map:</p>\n\n<pre class=\"lang-kt prettyprint-override\"><code>val inputStream = contentResolver.openInputStream(imageUri)\n\ninputStream?.let { stream -&gt;\n    val metadata = JpegMetadataReader.readMetadata(stream)\n    val directories = metadata.directories\n    val xmpDirectories = metadata.getDirectoriesOfType(XmpDirectory::class.java)\n\n    for (xmpDirectory in xmpDirectories) {\n        val xmpMeta = xmpDirectory.xmpMeta\n        val itr = xmpMeta.iterator()\n\n        while (itr.hasNext()) {\n            val propertyInfo = itr.next() as XMPPropertyInfo\n\n            println(propertyInfo.path + \" :: \" + propertyInfo.value)\n        }\n    }\n\n    stream.close()\n}\n</code></pre>\n\n<p>the resulting output :</p>\n\n<pre><code>    xmpNote:HasExtendedXMP :: 5c970bbab778024b23c5a8269325455c\n    null :: null\n    GCreations:CameraBurstID :: 9e286063-a919-4a74-96ee-d7e02d2a17d2\n    null :: null\n    GCamera:BurstID :: 9e286063-a919-4a74-96ee-d7e02d2a17d2\n    GCamera:BurstPrimary :: 1\n    GCamera:SpecialTypeID :: \n    GCamera:SpecialTypeID[1] :: com.google.android.apps.camera.gallery.specialtype.SpecialType-PORTRAIT\n    null :: null\n    Device:Container :: \n    Device:Container/Container:Directory :: \n    Device:Container/Container:Directory[1] :: \n    Device:Container/Container:Directory[1]/Item:Mime :: image/jpeg\n    Device:Container/Container:Directory[1]/Item:Length :: 0\n    Device:Container/Container:Directory[1]/Item:DataURI :: primary_image\n    Device:Container/Container:Directory[1]/rdf:type :: http://ns.google.com/photos/dd/1.0/container/:Item\n    Device:Container/Container:Directory[2] :: \n    Device:Container/Container:Directory[2]/Item:Mime :: image/jpeg\n    Device:Container/Container:Directory[2]/Item:Length :: 1499039\n    Device:Container/Container:Directory[2]/Item:DataURI :: android/original_image\n    Device:Container/Container:Directory[2]/rdf:type :: http://ns.google.com/photos/dd/1.0/container/:Item\n    Device:Container/Container:Directory[3] :: \n    Device:Container/Container:Directory[3]/Item:Mime :: image/jpeg\n    Device:Container/Container:Directory[3]/Item:Length :: 316885\n    Device:Container/Container:Directory[3]/Item:DataURI :: android/depthmap\n    Device:Container/Container:Directory[3]/rdf:type :: http://ns.google.com/photos/dd/1.0/container/:Item\n    Device:Container/Container:Directory[4] :: \n    Device:Container/Container:Directory[4]/Item:Mime :: image/jpeg\n    Device:Container/Container:Directory[4]/Item:Length :: 65189\n    Device:Container/Container:Directory[4]/Item:DataURI :: android/confidencemap\n    Device:Container/Container:Directory[4]/rdf:type :: http://ns.google.com/photos/dd/1.0/container/:Item\n    Device:Profiles :: \n    Device:Profiles[1] :: \n    Device:Profiles[1]/Profile:Type :: DepthPhoto\n    Device:Profiles[1]/Profile:CameraIndices :: \n    Device:Profiles[1]/Profile:CameraIndices[1] :: 0\n    Device:Profiles[1]/rdf:type :: http://ns.google.com/photos/dd/1.0/device/:Profile\n    Device:Cameras :: \n    Device:Cameras[1] :: \n    Device:Cameras[1]/Camera:Trait :: Physical\n    Device:Cameras[1]/Camera:Image :: \n    Device:Cameras[1]/Camera:Image/Image:ItemSemantic :: Original\n    Device:Cameras[1]/Camera:Image/Image:ItemURI :: android/original_image\n    Device:Cameras[1]/Camera:DepthMap :: \n    Device:Cameras[1]/Camera:DepthMap/DepthMap:ItemSemantic :: Depth\n    Device:Cameras[1]/Camera:DepthMap/DepthMap:Format :: RangeInverse\n    Device:Cameras[1]/Camera:DepthMap/DepthMap:Units :: Diopters\n    Device:Cameras[1]/Camera:DepthMap/DepthMap:Near :: 0.302570\n    Device:Cameras[1]/Camera:DepthMap/DepthMap:Far :: 1.754560\n    Device:Cameras[1]/Camera:DepthMap/DepthMap:DepthURI :: android/depthmap\n    Device:Cameras[1]/Camera:DepthMap/DepthMap:MeasureType :: OpticalAxis\n    Device:Cameras[1]/Camera:DepthMap/DepthMap:ConfidenceURI :: android/confidencemap\n    Device:Cameras[1]/Camera:DepthMap/DepthMap:FocalTableEntryCount :: 256\n    Device:Cameras[1]/Camera:DepthMap/DepthMap:FocalTable :: heqaPgAAsEGla5s+AACwQZztmz4AALBBbnCcPgAAsEEb9Jw+AACwQah4nT4AALBBFP6dPgAAsEFkhJ4+AACwQZkLnz4AALBBtZOfPsfjrkG7HKA+Xd2sQa2moD7z1qpBjTGhPonQqEFfvaE+H8qmQSNKoj61w6RB3teiPku9okGRZqM+4bagQT/2oz53sJ5B64akPg2qnEGWGKU+o6OaQUSrpT45nZhB+T6mPs+WlkG106Y+ZZCUQX1ppz76iZJBUgCoPpCDkEE4mKg+Jn2OQTIxqT68doxBQsupPlJwikFtZqo+6GmIQbMCqz5+Y4ZBGaCrPhRdhEGiPqw+qlaCQVHerD5AUIBBKX+tPqyTfEEuIa4+2IZ4QWLErj4DenRByWivPi9tcEFnDrA+W2BsQT61sD6HU2hBVF2xPrNGZEGqBrI+3zlgQUSxsj4LLVxBJ12zPjcgWEFVCrQ+YhNUQdS4tD6OBlBBpmi1Prr5S0HPGbY+5uxHQVTMtj4S4ENBOIC3Pj7TP0F/Nbg+asY7QS7suD6WuTdBSaS5PsGsM0HTXbo+7Z8vQdMYuz4ZkytBStW7PkWGJ0E/k7w+cXkjQbZSvT6dbB9BsxO+PslfG0E61r4+9VIXQVOavz4gRhNB/1/APkw5D0FGJ8E+eCwLQSrwwT6kHwdBs7rCPtASA0HjhsM++Av+QMJUxD5P8vVAVCTFPqfY7UCf9cU+/77lQKjIxj5Xpd1AdZ3HPq6L1UALdMg+BnLNQHFMyT5eWMVArCbKPrY+vUDCAss+DSW1QLrgyz5lC61AmcDMPr3xpEBmos0+FdicQCeGzj5svpRA4mvPPsSkjECfU9A+HIuEQGQ90T7n4nhANynSPpevaEAiF9M+RnxYQCgH1D72SEhAU/nUPqUVOECr7dU+VeInQDTk1j4ErxdA+dzXPrR7B0AB2Ng+xpDuP1TV2T4lKs4/9tTaPoTDrT/31ts+41yNP1rb3D6F7Fk/JuLdPkMfGT9q694+AaSwPir33z70Jbw9cAXhPgAAAABEFuI+AAAAALMp4z4AAAAAwz/kPgAAAAB/WOU+AAAAAPJz5j4AAAAAJJLnPgAAAAAgs+g+AAAAAPPW6T4AAAAAo/3qPgAAAAA+J+w+AAAAANBT7T4AAAAAY4PuPgAAAAD/te8+AAAAALfr8D4AAAAAkyTyPgAAAACeYPM+AAAAAOef9D4AAAAAe+L1PgAAAABkKPc+AAAAALJx+D4AAAAAdL75PgAAAAC0Dvs+AAAAAINi/D4AAAAA8Ln9PgAAAAAHFf8+AAAAAOw5AD8AAAAAO+sAPwAAAAB2ngE/AAAAAKZTAj8AAAAA1AoDPwAAAAAIxAM/AAAAAEl/BD8AAAAAojwFPwAAAAAc/AU/AAAAAL69Bj8AAAAAk4EHPwAAAAClRwg/AAAAAP4PCT8AAAAAptoJPwAAAACqpwo/AAAAABN3Cz8AAAAA7EgMPwAAAABAHQ0/AAAAABv0DT8AAAAAic0OPwAAAACTqQ8/AAAAAEmIED8AAAAAtWkRPwAAAADlTRI/AAAAAOQ0Ez8AAACAwx4UPwAAAICNCxU/AAAAgFD7FT8AAACAHO4WPwAAAID/4xc/AAAAgAndGD8AAACASNkZPwAAAIDN2Bo/AAAAgKjbGz8AAACA6+EcPwAAAICm6x0/AAAAgOv4Hj8AAACAzQkgPwAAAIBeHiE/AAAAgLA2Ij8AAACA2lIjPwAAAIDuciQ/AAAAgAGXJT8AAACAKL8mPwAAAIB76yc/AAAAgA8cKT8AAACA/FAqPwAAAIBZiis/AAAAgEDILD8AAACAygouPwAAAIASUi8/AAAAgDCeMD8AAACAQ+8xPwAAAIBmRTM/AAAAgLegND8AAACAUwE2PwAAAIBcZzc/AAAAgO7SOD8AAACALkQ6PwAAAIA+uzs/AAAAgD84PT8AAACAV7s+PwAAAICtREA/AAAAgGTUQT8AAACAqGpDPwAAAICiB0U/AAAAgHurRj8AAACAYVZIPwAAAICACEo/AAAAgAjCSz8AAACALoNNPwAAAIAeTE8/AAAAgA8dUT8AAACAPPZSP3YmPL7W11Q/IaQwvx3CVj9TH5m/SrVYP5Xs2b+bsVo/61wNwFe3XD+Mwy3AucZePy0qTsAM4GA/zpBuwJoDYz+4e4fAqjFlPwivl8CPamc/WeKnwJSuaT+pFbjAEv5rP/pIyMBjWW4/SnzYwN3AcD+br+jA4jRzP+vi+MDYtXU/HosEwSFEeD/GpAzBK+B6P26+FMFpin0/F9gcwaUhgD+/8STBqIWBP2cLLcF58YI/DyU1wV1lhD+4Pj3BmuGFP2BYRcF3Zoc/CHJNwUD0iD+wi1XBSIuKP1mlXcHdK4w/Ab9lwVzWjT+p2G3BG4uPP1HydcF8SpE/+gt+wecUkz/REoPBweqUP6Ufh8F6zJY/eSyLwYq6mD9NOY/BZrWaPyFGk8GUvZw/9lKXwZzTnj/KX5vBCvigP55sn8F6K6M/cnmjwYZupT9GhqfB2sGnPxqTq8ErJqo/7p+vwS6crD/CrLPBsCSvP5e5t8GHwLE/a8a7wY1wtD8/07/BtjW3PxPgw8H4ELo/5+zHwWUDvT+7+cvBHQ7AP48G0MFLMsM/YxPUwThxxj84INjBQ8zJPwwt3MHXRM0/4DngwYnc0D+0RuTB+5TUP4hT6MH5b9g/XGDswXNv3D8wbfDBbZXgPwR69ME\n    Device:Cameras[1]/Camera:ImagingModel :: \n    Device:Cameras[1]/Camera:ImagingModel/ImagingModel:FocalLengthX :: 3187.589355\n    Device:Cameras[1]/Camera:ImagingModel/ImagingModel:FocalLengthY :: 3187.589355\n    Device:Cameras[1]/Camera:ImagingModel/ImagingModel:ImageWidth :: 4032\n    Device:Cameras[1]/Camera:ImagingModel/ImagingModel:ImageHeight :: 3024\n    Device:Cameras[1]/Camera:ImagingModel/ImagingModel:PrincipalPointX :: 2000.483154\n    Device:Cameras[1]/Camera:ImagingModel/ImagingModel:PrincipalPointY :: 1541.417236\n    Device:Cameras[1]/Camera:ImagingModel/ImagingModel:Skew :: 0.000000\n    Device:Cameras[1]/Camera:ImagingModel/ImagingModel:PixelAspectRatio :: 1.000000\n    Device:Cameras[1]/Camera:ImagingModel/ImagingModel:DistortionCount :: 4\n    Device:Cameras[1]/Camera:ImagingModel/ImagingModel:Distortion :: AACAPwAAAABBQ7w9AAAAAEgGf74AAAAA5SpFPgAAAAA\n    Device:Cameras[1]/rdf:type :: http://ns.google.com/photos/dd/1.0/device/:Camera\n</code></pre>\n\n<p>according to the Google's documentation, the depth map image is serialize as a base64 string XMP property. but i don't know how to extract it to generate a new image based this depth data. I think that I almost solved my issue but I miss some acknowledgment about Adobe XMP standard. </p>\n\n<p>I found something called \"sidecar Xmp files\" and maybe the depth map that I'm trying to find is in it. </p>\n\n<p>I managed to see that the depth map is embedded in the photo by uploading it on <a href=\"https://www.photopea.com\" rel=\"nofollow noreferrer\">https://www.photopea.com</a> </p>\n"}, {"tags": ["rest", "kotlin", "crud", "data-class"], "comments": [{"owner": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "edited": false, "score": 2, "creation_date": 1574267663, "post_id": 58957575, "comment_id": 104173693, "body": "How is this situation different from Java?"}, {"owner": {"reputation": 407, "user_id": 7182576, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154404957014425/picture?type=large", "display_name": "Shahar Wider", "link": "https://stackoverflow.com/users/7182576/shahar-wider"}, "reply_to_user": {"reputation": 1537, "user_id": 1678893, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZOh9W.jpg?s=128&g=1", "display_name": "Diego Marin Santos", "link": "https://stackoverflow.com/users/1678893/diego-marin-santos"}, "edited": false, "score": 0, "creation_date": 1574320874, "post_id": 58957575, "comment_id": 104192616, "body": "because I want to use kotlin&#39;s null safety... and wondering if there is a way of doing it better in kotlin and not use the java null implementation..."}], "owner": {"reputation": 407, "user_id": 7182576, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154404957014425/picture?type=large", "display_name": "Shahar Wider", "link": "https://stackoverflow.com/users/7182576/shahar-wider"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 323, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574262596, "creation_date": 1574262596, "question_id": 58957575, "link": "https://stackoverflow.com/questions/58957575/implementing-update-to-kotlin-data-class", "title": "Implementing Update to kotlin data class", "body": "<p>I'm new to Kotlin and i want to build a data class update. my data-class represents a DB document and i need to implement CRUD for it.\nso Creating, Reading &amp; Deleting is easy. but how about updating?\ni have class :</p>\n\n<pre><code>data class RecordType(val id: String, val name: String,\n val description: String, val values: Array&lt;String&gt;, var companyId : String? = \"\");\n</code></pre>\n\n<p>my controller sends to my service layer the update object:</p>\n\n<pre><code>data class UpdateRecordTypeRequestModel (@NotEmpty val id: String,\n                                         val name: String?,\n                                         val description: String?,\n                                         val values: Array&lt;String&gt;?,\n                                         var companyId : String?)\n</code></pre>\n\n<p>now I want to update the database according to the fields that changed, assuming i don't know which fields have changed... how will i implement it? In Java i used modelMapper with \nskipNulls = true</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3, "user_id": 10169724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oc2Dc.jpg?s=128&g=1", "display_name": "Md Asadullah", "link": "https://stackoverflow.com/users/10169724/md-asadullah"}, "edited": false, "score": 2, "creation_date": 1574261689, "post_id": 58957186, "comment_id": 104169877, "body": "There is already existing answer here <a href=\"https://stackoverflow.com/questions/1466788/android-textview-setting-the-background-color-dynamically-doesnt-work\" title=\"android textview setting the background color dynamically doesnt work\">stackoverflow.com/questions/1466788/&hellip;</a>"}, {"owner": {"reputation": 41, "user_id": 5459508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48c52c2a8db11a4874a96e07ed0e100f?s=128&d=identicon&r=PG&f=1", "display_name": "thanh", "link": "https://stackoverflow.com/users/5459508/thanh"}, "reply_to_user": {"reputation": 3, "user_id": 10169724, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oc2Dc.jpg?s=128&g=1", "display_name": "Md Asadullah", "link": "https://stackoverflow.com/users/10169724/md-asadullah"}, "edited": false, "score": 1, "creation_date": 1574262487, "post_id": 58957186, "comment_id": 104170421, "body": "this answer only change backgroud color for textview but i want to change only for blockquote"}, {"owner": {"reputation": 596, "user_id": 11218138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247f079528f83a18b6e56267664ea9bd?s=128&d=identicon&r=PG&f=1", "display_name": "Nezih Y\u0131lmaz", "link": "https://stackoverflow.com/users/11218138/nezih-y%c4%b1lmaz"}, "edited": false, "score": 0, "creation_date": 1574280575, "post_id": 58957186, "comment_id": 104180290, "body": "Html.fromHtml() returns a Spannable. You need to set that to textviews text. If that is &#39;not working&#39; are you sure there is a html quote tag present in that text?"}, {"owner": {"reputation": 41, "user_id": 5459508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48c52c2a8db11a4874a96e07ed0e100f?s=128&d=identicon&r=PG&f=1", "display_name": "thanh", "link": "https://stackoverflow.com/users/5459508/thanh"}, "reply_to_user": {"reputation": 596, "user_id": 11218138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/247f079528f83a18b6e56267664ea9bd?s=128&d=identicon&r=PG&f=1", "display_name": "Nezih Y\u0131lmaz", "link": "https://stackoverflow.com/users/11218138/nezih-y%c4%b1lmaz"}, "edited": false, "score": 0, "creation_date": 1574304178, "post_id": 58957186, "comment_id": 104187786, "body": "@NezihY\u0131lmaz: I put text in &lt;blockquote&gt; tag but not working"}], "owner": {"reputation": 41, "user_id": 5459508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48c52c2a8db11a4874a96e07ed0e100f?s=128&d=identicon&r=PG&f=1", "display_name": "thanh", "link": "https://stackoverflow.com/users/5459508/thanh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574262633, "creation_date": 1574261558, "last_edit_date": 1574262633, "question_id": 58957186, "link": "https://stackoverflow.com/questions/58957186/how-to-change-backgroud-color-blockquotes-in-android-textviews", "title": "How to change backgroud color BlockQuotes in Android TextViews?", "body": "<p>I parse html from website and i use <code>textview.Html.fromHtml(text))</code> and text in tag  always background white same as textview background. How to change color background .</p>\n\n<p>such as\n<img src=\"https://uphinh.org/images/2019/11/20/Screenshot_20191120-150437.jpg\" alt=\"Screenshot_20191120-150437.jpg\"></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1574258628, "post_id": 58956053, "comment_id": 104167952, "body": "Try <code>response.getJSONObject(0)</code> instead of <code>response.getJSONArray(0)</code>"}, {"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1574258984, "post_id": 58956053, "comment_id": 104168170, "body": "Check my answer"}, {"owner": {"reputation": 71, "user_id": 1510830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bbe828f4fecdbc2af26b2aa34d0f489?s=128&d=identicon&r=PG", "display_name": "samip537", "link": "https://stackoverflow.com/users/1510830/samip537"}, "reply_to_user": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1574259273, "post_id": 58956053, "comment_id": 104168348, "body": "Thank you @Md.Asaduzzaman hat fixed the problem."}, {"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1574259329, "post_id": 58956053, "comment_id": 104168380, "body": "You are welcome. Please hit the upvote as well"}, {"owner": {"reputation": 71, "user_id": 1510830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bbe828f4fecdbc2af26b2aa34d0f489?s=128&d=identicon&r=PG", "display_name": "samip537", "link": "https://stackoverflow.com/users/1510830/samip537"}, "reply_to_user": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1574259568, "post_id": 58956053, "comment_id": 104168557, "body": "Oh, now I have enough karma. :)"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1574295093, "post_id": 58956053, "comment_id": 104185626, "body": "Please don&#39;t just link to your code off-site. You need to provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> in the question itself."}], "answers": [{"tags": [], "owner": {"reputation": 1987, "user_id": 1942463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ced12e2371bca0e36ef0bb7cefafd432?s=128&d=identicon&r=PG&f=1", "display_name": "Rajasekaran M", "link": "https://stackoverflow.com/users/1942463/rajasekaran-m"}, "is_accepted": true, "score": 1, "last_activity_date": 1574258687, "creation_date": 1574258687, "answer_id": 58956213, "question_id": 58956053, "link": "https://stackoverflow.com/questions/58956053/having-trouble-with-volley-jsonarrays-and-kotlin/58956213#58956213", "title": "Having trouble with Volley, JSONArrays and Kotlin", "body": "<p>Issue at line <code>val json_data = response.getJSONArray(0)</code> because your reponse is json array. but your array items are json objects. so use like below</p>\n\n<pre><code>          for(i in 0 until response.length()) {\n                val item = response.getJSONObject(i)\n                if (item[\"type\"] != \"como\") {\n                    Log.d(\"JSON_SUCCESS\", item[\"type\"].toString())\n                }\n            }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "is_accepted": false, "score": 1, "last_activity_date": 1574258941, "creation_date": 1574258941, "answer_id": 58956284, "question_id": 58956053, "link": "https://stackoverflow.com/questions/58956053/having-trouble-with-volley-jsonarrays-and-kotlin/58956284#58956284", "title": "Having trouble with Volley, JSONArrays and Kotlin", "body": "<p>Your response is itself <code>JSONArray</code>. Try like below:</p>\n\n<pre><code>for(i in 0 until response.length()) {\n\n    val item = response.getJSONObject(i)\n\n    if (item[\"type\"] != \"como\") {\n\n        Log.d(\"JSON_SUCCESS\", item[\"type\"].toString())\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 1510830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bbe828f4fecdbc2af26b2aa34d0f489?s=128&d=identicon&r=PG", "display_name": "samip537", "link": "https://stackoverflow.com/users/1510830/samip537"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 58956213, "answer_count": 2, "score": -1, "last_activity_date": 1574258941, "creation_date": 1574258200, "question_id": 58956053, "link": "https://stackoverflow.com/questions/58956053/having-trouble-with-volley-jsonarrays-and-kotlin", "title": "Having trouble with Volley, JSONArrays and Kotlin", "body": "<p>What is the correct way to do this with Volley?</p>\n\n<p>Rest of the code can be found here: <a href=\"https://gist.github.com/samip5/3a42aa3cdf7d82a543b618d2dda88b4a\" rel=\"nofollow noreferrer\">https://gist.github.com/samip5/3a42aa3cdf7d82a543b618d2dda88b4a</a></p>\n\n<p>It keeps crashing in the for loop with this tracktrace:</p>\n\n<pre><code>\nE/AndroidRuntime: FATAL EXCEPTION: main\n    Process: fi.samipsolutions.voitracker, PID: 9573\n    java.lang.RuntimeException: java.lang.reflect.InvocationTargetException\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:502)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n     Caused by: java.lang.reflect.InvocationTargetException\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930) \n     Caused by: org.json.JSONException: Value {\"id\":\"ce13eccc-0054-4189-8b95-047f6e094303\",\"short\":\"dflm\",\"name\":\"TEST\",\"zone\":122,\"type\":\"como\",\"registration_plate\":\"\",\"added\":\"2019-05-29T11:23:40.062842Z\",\"serial\":null,\"model_specification\":null,\"status\":\"ready\",\"bounty\":0,\"location\":[60.45586395263672,22.301359176635742],\"battery\":52,\"locked\":true,\"updated\":\"2019-11-20T04:33:23Z\",\"mileage\":0} at 0 of type org.json.JSONObject cannot be converted to JSONArray\n        at org.json.JSON.typeMismatch(JSON.java:101)\n        at org.json.JSONArray.getJSONArray(JSONArray.java:502)\n        at fi.samipsolutions.voitracker.activities.MainActivity$loadVehicles$jsonArrayRequest$1.onResponse(MainActivity.kt:43)\n        at fi.samipsolutions.voitracker.activities.MainActivity$loadVehicles$jsonArrayRequest$1.onResponse(MainActivity.kt:17)\n        at com.android.volley.toolbox.JsonRequest.deliverResponse(JsonRequest.java:90)\n        at com.android.volley.ExecutorDelivery$ResponseDeliveryRunnable.run(ExecutorDelivery.java:102)\n        at android.os.Handler.handleCallback(Handler.java:883)\n        at android.os.Handler.dispatchMessage(Handler.java:100)\n        at android.os.Looper.loop(Looper.java:214)\n        at android.app.ActivityThread.main(ActivityThread.java:7356)\n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930) \n</code></pre>\n"}, {"tags": ["gradle", "kotlin", "kotlin-multiplatform", "gradle-multi-project-build"], "comments": [{"owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "edited": false, "score": 0, "creation_date": 1574258315, "post_id": 58956010, "comment_id": 104167759, "body": "You mean <a href=\"https://stackoverflow.com/questions/5644011/multi-project-test-dependencies-with-gradle\" title=\"multi project test dependencies with gradle\">stackoverflow.com/questions/5644011/&hellip;</a>"}, {"owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "reply_to_user": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "edited": false, "score": 0, "creation_date": 1574258422, "post_id": 58956010, "comment_id": 104167827, "body": "@user7294900 That seems like documentation on how to do this for <i>normal</i> multi-project builds, but as stated, I can&#39;t figure out how to do the same for <b>multi-platform</b> multi-project builds."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1574551115, "creation_date": 1574551115, "answer_id": 59013181, "question_id": 58956010, "link": "https://stackoverflow.com/questions/58956010/how-to-add-dependencies-to-tests-of-another-project-in-a-multi-platform-multi-pr/59013181#59013181", "title": "How to add dependencies to tests of another project in a multi-platform multi-project Kotlin build", "body": "<p>To establish a dependency of this sort between single-platform projects, you would normally need to create a Gradle <code>Configuration</code> in the producer project, add the test compilation outputs or a test JAR into that configuration, and, in the consumer project, depend on that configuration (i.e. add a <code>project(...)</code> dependency <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/artifacts/dsl/DependencyHandler.html\" rel=\"nofollow noreferrer\">with an explicit configuration</a> or, more preferrable, add attributes to ensure that Gradle chooses the test-outputs configuration in <a href=\"https://docs.gradle.org/current/userguide/variant_model.html\" rel=\"nofollow noreferrer\">variant-aware dependency resolution</a>).</p>\n\n<p>However, all of this requires that tests are compiled to a form that could be reused by the consumer project's common source sets. With Kotlin Multiplatform projects, this is not yet the case. While the <em>production</em> common source sets, which participate in published compilations, are compiled to Kotlin metadata (<code>*.kotlin_metadata</code> files), test sources and other kinds of non-published code are not yet transformed to that format.</p>\n\n<p>Instead, tests are currently only compiled to the final platform-specific binaries (i.e. <code>*.class</code> files, <code>*.js</code>, Native binaries), which cannot be used for common sources analysis.</p>\n\n<p>Therefore, dependencies of this kind are not supported yet. This could change in the future. Please follow this issue in the Kotlin issue tracker: <a href=\"https://youtrack.jetbrains.com/issue/KT-35073\" rel=\"nofollow noreferrer\">KT-35073</a>.</p>\n"}], "owner": {"reputation": 15609, "user_id": 590790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2648f806f3af808a2ed537c8e745558e?s=128&d=identicon&r=PG", "display_name": "Steven Jeuris", "link": "https://stackoverflow.com/users/590790/steven-jeuris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 1, "accepted_answer_id": 59013181, "answer_count": 1, "score": 1, "last_activity_date": 1574551115, "creation_date": 1574258053, "question_id": 58956010, "link": "https://stackoverflow.com/questions/58956010/how-to-add-dependencies-to-tests-of-another-project-in-a-multi-platform-multi-pr", "title": "How to add dependencies to tests of another project in a multi-platform multi-project Kotlin build", "body": "<p>I have a multi-platform Kotlin project, which contains multiple modules (subprojects). The <a href=\"https://kotlinlang.org/docs/reference/building-mpp-with-gradle.html\" rel=\"nofollow noreferrer\">Building Multiplatform Projects with Gradle</a> documentation of Kotlin clearly shows how to set up project dependencies between modules:</p>\n\n<pre><code>kotlin {\n    sourceSets {\n        commonMain {\n            dependencies {\n                // All of the compilations that include source set 'commonMain'\n                // will get this dependency resolved to a compatible target, if any:\n                api project(':foo-lib')\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The problem I am facing now is that although this documents how to add a dependency from one module (all of its target platforms) to another module (its corresponding target platforms), it does not clarify <strong>how to add a dependency to the test sources of another module</strong>.</p>\n\n<p>I would expect this to be a fairly common use case. For example, one of the reasons I want to do this is that my test sources of module A contain stub classes. Module B depends on module A, including the class definitions for which test stubs are provided in the test sources of module A. Thus, it is not unexpected that tests of module B might want to reuse those test stubs defined in the test sources of module A.</p>\n\n<p>A common recommendation in multi-project builds is to move such test sources to yet another module, but this seems unnecessary to me. Solutions which in my opinion are cleaner <a href=\"https://github.com/gradle/kotlin-dsl-samples/issues/577\" rel=\"nofollow noreferrer\">exist for normal multi-project builds</a>, but I can't figure out how to configure the equivalent of this in a multi-platform multi-project Kotlin build which also relies on the Kotlin Gradle DSL demonstrated in the code above.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "base64"], "comments": [{"owner": {"reputation": 183, "user_id": 6644765, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/2af5afdc83f21bef7a3b4ff5ac9ac58c?s=128&d=identicon&r=PG&f=1", "display_name": "Vishal Thakkar", "link": "https://stackoverflow.com/users/6644765/vishal-thakkar"}, "edited": false, "score": 0, "creation_date": 1574256755, "post_id": 58955434, "comment_id": 104166781, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/4837110/how-to-convert-a-base64-string-into-a-bitmap-image-to-show-it-in-a-imageview\">How to convert a Base64 string into a BitMap image to show it in a ImageView?</a>"}, {"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 1, "creation_date": 1574257684, "post_id": 58955434, "comment_id": 104167370, "body": "you can find a Java implementation, and convert it to kotlin using Android Studio&#39;s tool"}], "answers": [{"comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1574321503, "post_id": 58955565, "comment_id": 104192916, "body": "this doesn&#39;t look like <code>kotlin</code>"}, {"owner": {"reputation": 2587, "user_id": 2196176, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhZPn.png?s=128&g=1", "display_name": "Sunny", "link": "https://stackoverflow.com/users/2196176/sunny"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1574321794, "post_id": 58955565, "comment_id": 104193049, "body": "@VladyslavMatviienko If you paste the code in kotlin it automatically converts into the kotlin code. But I have added the code for kotlin as well."}, {"owner": {"reputation": 139, "user_id": 4662589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/WMWRV.png?s=128&g=1", "display_name": "ljerka", "link": "https://stackoverflow.com/users/4662589/ljerka"}, "edited": false, "score": 1, "creation_date": 1605171466, "post_id": 58955565, "comment_id": 114571054, "body": "This kotlin code did not work for me until I changed the BitmapFactory.decodeByteArray(decodedByte, 0, decodedString.length) to BitmapFactory.decodeByteArray(decodedByte, 0, decodedString.size). decodedString doesn&#39;t have a &quot;length&quot; method, just the &quot;size&quot; method. After the change everything worked like a charm, so thank you for the code."}], "tags": [], "owner": {"reputation": 2587, "user_id": 2196176, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LhZPn.png?s=128&g=1", "display_name": "Sunny", "link": "https://stackoverflow.com/users/2196176/sunny"}, "is_accepted": false, "score": 3, "last_activity_date": 1574321711, "last_edit_date": 1574321711, "creation_date": 1574256623, "answer_id": 58955565, "question_id": 58955434, "link": "https://stackoverflow.com/questions/58955434/how-to-convert-base64-string-into-image-in-kotlin-android/58955565#58955565", "title": "How to convert base64 string into image in kotlin android", "body": "<p>You can use the android methods</p>\n\n<p>Here <code>imageString</code> is your base64String of image. </p>\n\n<p>Here is the java code:</p>\n\n<pre><code>byte[] decodedByte = Base64.decode(imageString, Base64.DEFAULT);\nBitmap bitmap = BitmapFactory.decodeByteArray(decodedByte, 0, decodedString.length); \n</code></pre>\n\n<p>Here is the kotlin code:</p>\n\n<pre><code>val decodedByte = Base64.decode(imageString, Base64.DEFAULT)\nval bitmap = BitmapFactory.decodeByteArray(decodedByte, 0, decodedString.length) \n</code></pre>\n\n<p>After that, you can set it into the image view</p>\n\n<pre><code>yourimage.setImageBitmap(bitmap);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 885, "user_id": 7047583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cdaa9fdd80ac74e5c35f48ff9570f322?s=128&d=identicon&r=PG&f=1", "display_name": "Prashant Sable", "link": "https://stackoverflow.com/users/7047583/prashant-sable"}, "is_accepted": true, "score": 7, "last_activity_date": 1574256688, "creation_date": 1574256688, "answer_id": 58955588, "question_id": 58955434, "link": "https://stackoverflow.com/questions/58955434/how-to-convert-base64-string-into-image-in-kotlin-android/58955588#58955588", "title": "How to convert base64 string into image in kotlin android", "body": "<p>You can use this code to decode: -</p>\n\n<pre><code>val imageBytes = Base64.decode(base64String, Base64.DEFAULT)\nval decodedImage = BitmapFactory.decodeByteArray(imageBytes, 0, imageBytes.length)\nimageView.setImageBitmap(decodedImage)\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 12224447, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jcfqamnONgM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdJsjv0SQaKLMetX-FQ1t6mgWNVlQ/photo.jpg?sz=128", "display_name": "Mughira Dar", "link": "https://stackoverflow.com/users/12224447/mughira-dar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3876, "favorite_count": 0, "accepted_answer_id": 58955588, "answer_count": 2, "score": 2, "last_activity_date": 1616587330, "creation_date": 1574256235, "last_edit_date": 1616587330, "question_id": 58955434, "link": "https://stackoverflow.com/questions/58955434/how-to-convert-base64-string-into-image-in-kotlin-android", "title": "How to convert base64 string into image in kotlin android", "body": "<p>I have a Base64 String that represents a BitMap image.</p>\n\n<p>I need to transform that String into a BitMap image again to use it on a ImageView in my Android app</p>\n\n<p>How to do it?</p>\n"}, {"tags": ["android", "kotlin", "keyword", "backticks", "data-class"], "comments": [{"owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1574257232, "post_id": 58954821, "comment_id": 104167090, "body": "@NileshRathod Can you re-evaluate duplication? <code>is</code> is a hard keyword and <code>data</code> isn&#39;t"}, {"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "reply_to_user": {"reputation": 21839, "user_id": 6521116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U2zHq.jpg?s=128&g=1", "display_name": "LF00", "link": "https://stackoverflow.com/users/6521116/lf00"}, "edited": false, "score": 0, "creation_date": 1574508573, "post_id": 58954821, "comment_id": 104263054, "body": "@KrisRoofe Did you see the last portion of my question? I have already mentioned that question here."}, {"owner": {"reputation": 21839, "user_id": 6521116, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/U2zHq.jpg?s=128&g=1", "display_name": "LF00", "link": "https://stackoverflow.com/users/6521116/lf00"}, "edited": false, "score": 0, "creation_date": 1574513688, "post_id": 58954821, "comment_id": 104264092, "body": "@ManojPerumarath sorry."}], "answers": [{"comments": [{"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "edited": false, "score": 0, "creation_date": 1574254750, "post_id": 58954903, "comment_id": 104165562, "body": "Could you please elaborate on that, i couldn&#39;t understand the above answer"}, {"owner": {"reputation": 1559, "user_id": 5285588, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/794335677331084/picture?type=large", "display_name": "Arka Prava Basu", "link": "https://stackoverflow.com/users/5285588/arka-prava-basu"}, "edited": false, "score": 2, "creation_date": 1574255018, "post_id": 58954903, "comment_id": 104165722, "body": "<code>data</code> is a modifier keyword. As you have used <code>data class</code> convey a special meaning to the compiler. While converting your Java code to Kotlin the converter did not change the variable name in your source rather enclosed it in backticks for proper compilation"}, {"owner": {"reputation": 1559, "user_id": 5285588, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/794335677331084/picture?type=large", "display_name": "Arka Prava Basu", "link": "https://stackoverflow.com/users/5285588/arka-prava-basu"}, "edited": false, "score": 1, "creation_date": 1574255105, "post_id": 58954903, "comment_id": 104165770, "body": "Java does not have a keyword <code>data</code> hence it is fine to keep <code>data</code> as a variable name in Java. But in Kotlin you cant achieve the same without backticks"}, {"owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "reply_to_user": {"reputation": 1559, "user_id": 5285588, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/794335677331084/picture?type=large", "display_name": "Arka Prava Basu", "link": "https://stackoverflow.com/users/5285588/arka-prava-basu"}, "edited": false, "score": 0, "creation_date": 1574255149, "post_id": 58954903, "comment_id": 104165800, "body": "@ArkaPravaBasu but what about &#39;is&#39;, it&#39;s a reserved keyword in Java, then how?"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 1, "creation_date": 1574255207, "post_id": 58954903, "comment_id": 104165843, "body": "data is a <i>Modifier Keyword</i> and not a reserved word: <a href=\"https://kotlinlang.org/docs/reference/keyword-reference.html#modifier-keywords\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1574255256, "post_id": 58954903, "comment_id": 104165876, "body": "You can use <code>data</code> without backticks here, because it&#39;s a soft keyword. This example runs fine: <a href=\"https://pl.kotl.in/t78k70IHx\" rel=\"nofollow noreferrer\">pl.kotl.in/t78k70IHx</a>"}], "tags": [], "owner": {"reputation": 863, "user_id": 6055194, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-V5I5_v4C3NI/AAAAAAAAAAI/AAAAAAAAAj0/U5nM_g-8yS8/photo.jpg?sz=128", "display_name": "Zhebzhik Babich", "link": "https://stackoverflow.com/users/6055194/zhebzhik-babich"}, "is_accepted": false, "score": 2, "last_activity_date": 1574255023, "last_edit_date": 1574255023, "creation_date": 1574254684, "answer_id": 58954903, "question_id": 58954821, "link": "https://stackoverflow.com/questions/58954821/why-does-kotlin-data-class-objects-have-backticks/58954903#58954903", "title": "Why does Kotlin data class objects have backticks?", "body": "<p>It allows you to use reserved keywords and operators as names of your variables. The list of those words: <a href=\"https://kotlinlang.org/docs/reference/keyword-reference.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/keyword-reference.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "is_accepted": false, "score": 3, "last_activity_date": 1574256892, "last_edit_date": 1592644375, "creation_date": 1574255775, "answer_id": 58955270, "question_id": 58954821, "link": "https://stackoverflow.com/questions/58954821/why-does-kotlin-data-class-objects-have-backticks/58955270#58955270", "title": "Why does Kotlin data class objects have backticks?", "body": "<p>You can use backticks simply to enclose class, method or variable name</p>\n<p>For example it's useful if there are spaces:</p>\n<pre><code>class `Final Frontier` {\n    fun `out of space`() {\n        val `first second`: String?\n    }\n}\n</code></pre>\n<p>Or as you mention if using <a href=\"https://stackoverflow.com/questions/44149474/why-does-this-kotlin-method-have-enclosing-backticks\">Kotlin keyword</a></p>\n<blockquote>\n<p>If a Java library uses a Kotlin keyword for a method</p>\n<pre><code>foo.`is`(bar)\n</code></pre>\n</blockquote>\n<p><code>data</code> is a <a href=\"https://kotlinlang.org/docs/reference/keyword-reference.html#modifier-keywords\" rel=\"nofollow noreferrer\">Modifier Keyword</a></p>\n<blockquote>\n<p>data instructs the compiler to generate canonical members for a class\nThe following tokens act as keywords in modifier lists of declarations and can be used as identifiers in other contexts</p>\n</blockquote>\n<p>And <strong>not a Hard Keyword</strong> that can't be used as identifier</p>\n<blockquote>\n<p>The following tokens are always interpreted as keywords and cannot be used as identifier</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "is_accepted": true, "score": 0, "last_activity_date": 1574256239, "last_edit_date": 1592644375, "creation_date": 1574256239, "answer_id": 58955436, "question_id": 58954821, "link": "https://stackoverflow.com/questions/58954821/why-does-kotlin-data-class-objects-have-backticks/58955436#58955436", "title": "Why does Kotlin data class objects have backticks?", "body": "<p>Based on this question's answer<a href=\"https://stackoverflow.com/questions/44149474/why-does-this-kotlin-method-have-enclosing-backticks\">Why does this Kotlin method have enclosing backticks?</a>\nand the comments from @forpas and @marstran I was able to understand my problem.</p>\n<p>The <code>is</code> keyword is a <strong>hard keyword</strong></p>\n<blockquote>\n<p><strong>Hard Keywords</strong>\nare always interpreted as keywords and cannot be used as identifiers:</p>\n</blockquote>\n<p>so fore interoperability we need to use backticks because Java and Kotlin both have <code>is</code> keyword.</p>\n<p>Where <code>data</code> keyword is only available in <code>Kotlin</code> and also belong to the category</p>\n<blockquote>\n<p><strong>Soft Keywords</strong>\nact as keywords in the context when they are applicable and can be used as identifiers in other contexts.</p>\n</blockquote>\n<p>So we can use it with or without backticks.</p>\n<p>Also as an additional note you can use bacticks to customize your identifier</p>\n<pre><code>var `data is simple` : List&lt;String&gt;\n</code></pre>\n<p>If it shows lint error use</p>\n<blockquote>\n<p>&quot;File | Settings | Editor | Inspections | Illegal Android Identifier&quot; and disable this inspection.</p>\n</blockquote>\n"}], "owner": {"reputation": 6128, "user_id": 5351055, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/11xsg.jpg?s=128&g=1", "display_name": "Manoj Perumarath", "link": "https://stackoverflow.com/users/5351055/manoj-perumarath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 321, "favorite_count": 0, "accepted_answer_id": 58955436, "answer_count": 3, "score": 4, "last_activity_date": 1574257278, "creation_date": 1574254369, "last_edit_date": 1574255931, "question_id": 58954821, "link": "https://stackoverflow.com/questions/58954821/why-does-kotlin-data-class-objects-have-backticks", "title": "Why does Kotlin data class objects have backticks?", "body": "<p>This is my data class created using a Kotlin data class creator Plugin.</p>\n\n<pre><code>data class ResponseHealthInisghts(\nval `data`: List&lt;Data&gt;,\nval message: String,\nval statusCode: Int\n)\n</code></pre>\n\n<p>This code gets work even if I remove the backticks, I wonder if it's for Java interoperability. But this variable is not a keyword but also it has backticks. why? \nBased on <a href=\"https://stackoverflow.com/questions/44149474/why-does-this-kotlin-method-have-enclosing-backticks\">Why does this Kotlin method have enclosing backticks?</a>\nthis question <code>is</code> is a keyword for both Java and Kotlin but <strong>data</strong> is not.</p>\n"}, {"tags": ["android", "kotlin", "reflection", "singleton", "android-room"], "comments": [{"owner": {"reputation": 5953, "user_id": 928315, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/af1172fff8fd14a3152231fc8186c205?s=128&d=identicon&r=PG", "display_name": "iForests", "link": "https://stackoverflow.com/users/928315/iforests"}, "edited": false, "score": 0, "creation_date": 1574262086, "post_id": 58954605, "comment_id": 104170154, "body": "Does it work if you use <code>val classFromStr = Class.forName(strClass).kotlin</code>?"}, {"owner": {"reputation": 705, "user_id": 4437044, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f4ef761590498c405d63f6f2e87dad38?s=128&d=identicon&r=PG&f=1", "display_name": "shurrok", "link": "https://stackoverflow.com/users/4437044/shurrok"}, "reply_to_user": {"reputation": 5953, "user_id": 928315, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/af1172fff8fd14a3152231fc8186c205?s=128&d=identicon&r=PG", "display_name": "iForests", "link": "https://stackoverflow.com/users/928315/iforests"}, "edited": false, "score": 0, "creation_date": 1574262806, "post_id": 58954605, "comment_id": 104170637, "body": "@iForests  it doesn&#39;t work either :("}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1574274809, "creation_date": 1574274809, "answer_id": 58961163, "question_id": 58954605, "link": "https://stackoverflow.com/questions/58954605/get-room-object-via-companion-using-reflection-and-class-name/58961163#58961163", "title": "Get Room object via companion using reflection and class name", "body": "<p><code>classFromStr::class</code> will return the class of <code>classFromStr</code> which is <code>Class</code> and doesn't have a companion object. </p>\n\n<pre><code>val companion = classFromStr.kotlin.companionObject\n</code></pre>\n\n<p>should work.</p>\n"}], "owner": {"reputation": 705, "user_id": 4437044, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f4ef761590498c405d63f6f2e87dad38?s=128&d=identicon&r=PG&f=1", "display_name": "shurrok", "link": "https://stackoverflow.com/users/4437044/shurrok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574274809, "creation_date": 1574253650, "last_edit_date": 1574260357, "question_id": 58954605, "link": "https://stackoverflow.com/questions/58954605/get-room-object-via-companion-using-reflection-and-class-name", "title": "Get Room object via companion using reflection and class name", "body": "<p>As the title stands, I want to get a singleton instance via reflection using the class name. Let's say I have this class:</p>\n\n<pre><code>abstract class MyRoomDatabase : RoomDatabase() { \n\n    abstract fun exampleEntityDao() : ExampleEntityDao\n\n    companion object { \n\n        @Volatile\n        private var INSTANCE: MyClass? = null\n        fun getDatabase(context: Context): MyClass {\n            return INSTANCE ?: synchronized(this) {\n                val instance = Room.databaseBuilder(context.applicationContext, MyRoomDatabase::class.java, \"db\").build()\n\n                INSTANCE = instance\n                instance\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Now, knowing the class name <code>val strClass = MyRoomDatabase::class.qualifiedName.toString()</code></p>\n\n<p>I would like to achieve:\n<code>MyRoomDatabase.getDatabase(this).getExampleEntityDao().doSomeStuff()</code> but via reflection.</p>\n\n<p>I tried this:</p>\n\n<pre><code>val strClass = MyRoomDatabase::class.qualifiedName.toString()\nval classFromStr = Class.forName(strClass)\nval companion = classFromStr::class.companionObject\n</code></pre>\n\n<p>in that case, <code>companion</code> is null.</p>\n\n<p>In the other case this: <code>val companion = MyRoomDatabase::class.companionObject</code> gives me the actual companion but I cannot do that because in the place where it should be done the compiler does know only the class name.</p>\n"}, {"tags": ["android", "kotlin", "random", "delay"], "answers": [{"tags": [], "owner": {"reputation": 453, "user_id": 7458638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a64e7c2bddd2cf40289e58c3545b7afe?s=128&d=identicon&r=PG&f=1", "display_name": "FuriousSpider", "link": "https://stackoverflow.com/users/7458638/furiousspider"}, "is_accepted": false, "score": 0, "last_activity_date": 1574256417, "creation_date": 1574256417, "answer_id": 58955487, "question_id": 58954508, "link": "https://stackoverflow.com/questions/58954508/using-android-kotlin-problem-with-random-number-display-delay/58955487#58955487", "title": "Using android kotlin - problem with random number display + delay", "body": "<p>I think the problem might be that you are generating new number and overriding existing text every time.\nTry something like this:</p>\n\n<pre><code>RandNumText.text = RandNumText.text + (0..9).random().toString()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": false, "score": 1, "last_activity_date": 1574264937, "last_edit_date": 1574264937, "creation_date": 1574262505, "answer_id": 58957536, "question_id": 58954508, "link": "https://stackoverflow.com/questions/58954508/using-android-kotlin-problem-with-random-number-display-delay/58957536#58957536", "title": "Using android kotlin - problem with random number display + delay", "body": "<p>The first one changes the number 10 times immediately because there is no delay. Counting to 50000 simply wastes a bit of CPU and makes the function take a little longer, but since its called in the main thread, you are not going to see any update of the UI until the function returns. (Also, counting to 50000 should take less than 1-2ms and of course is not an accurate way to keep time.)</p>\n\n<p>The second also does all the changes on the main thread, so you won't see any UI changes because the function doesn't return in between changes. Also, it is blocking the main thread so it can trigger an ANR.</p>\n\n<p>The third one creates ten delayed actions that change the number all after one second, so the changes happen all at once. You could update it to stagger the delays like this:</p>\n\n<pre><code>for (i in 0 until 10) {\n    handler.postDelayed({RandNumText.text = ((0 until 10).random()).toString()}, 1000 * (i + 1))\n}\n</code></pre>\n\n<p>Note however, that these runnables getting passed to the Handler capture the enclosing Activity or Fragment, so they will cause a context leak if the user navigates away. Handler should be stored in a member property and you should call <code>removeCallbacks()</code> on it in <code>onDestroy()</code>.</p>\n\n<p>If you want this to continue indefinitely, you can make a single Runnable that posts itself:</p>\n\n<pre><code>val runnable = object: Runnable {\n        override fun run() {\n            RandNumText.text = ((0 until 10).random()).toString()\n            handler.postDelayed(this, 1000)\n        }\n    }\nhandler.postDelayed(runnable, 1000)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 11216617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2daabb407d8b2d4333cb569fcd2ee3a7?s=128&d=identicon&r=PG&f=1", "display_name": "Malcolm", "link": "https://stackoverflow.com/users/11216617/malcolm"}, "is_accepted": false, "score": 0, "last_activity_date": 1574423694, "creation_date": 1574423694, "answer_id": 58993768, "question_id": 58954508, "link": "https://stackoverflow.com/questions/58954508/using-android-kotlin-problem-with-random-number-display-delay/58993768#58993768", "title": "Using android kotlin - problem with random number display + delay", "body": "<p>Many thanks for this very helpful information.  The code below does indeed generate a series of random numbers in the range 0 to 9 and runs continuously.  However, although the delay seems fairly even most of the time, there is an occasional longer pause for some reason.</p>\n\n<p><code>enter code here</code>val handler = Handler()\n<code>enter code here</code>val runnable = object: Runnable {\n<code>enter code here</code>    override fun run() {\n <code>enter code here</code>       RandNumText.text = ((0..9).random()).toString()\n<code>enter code here</code>        handler.postDelayed(this, 1000)\n<code>enter code here</code>    }\n<code>enter code here</code>}</p>\n\n<p><code>enter code here</code>handler.postDelayed(runnable, 1000)</p>\n\n<hr>\n\n<p>This version displays the 10 random numbers in the range 0 to 9, but with very uneven delays in between each one, then leaves the last one on screen.</p>\n\n<p><code>enter code here</code>val handler = Handler()\n<code>enter code here</code>val runnable = object: Runnable {\n<code>enter code here</code>    override fun run() {</p>\n\n<p><code>enter code here</code>        for (i in 0 .. 9) {\n<code>enter code here</code>            RandNumText.text = ((0 .. 9).random()).toString()\n<code>enter code here</code>            handler.postDelayed(this, 1000)\n<code>enter code here</code>        }\n<code>enter code here</code>    }\n<code>enter code here</code>}</p>\n\n<p><code>enter code here</code>handler.postDelayed(runnable, 1000)</p>\n\n<p>I am continuing to try other methods.  I had no idea that such a simple problem as a uniform delay is so difficult to achieve in android kotlin.  Thanks again for your help.</p>\n"}], "owner": {"reputation": 31, "user_id": 11216617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2daabb407d8b2d4333cb569fcd2ee3a7?s=128&d=identicon&r=PG&f=1", "display_name": "Malcolm", "link": "https://stackoverflow.com/users/11216617/malcolm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1574423694, "creation_date": 1574253329, "last_edit_date": 1574255792, "question_id": 58954508, "link": "https://stackoverflow.com/questions/58954508/using-android-kotlin-problem-with-random-number-display-delay", "title": "Using android kotlin - problem with random number display + delay", "body": "<p>I am using kotlin in Android Studio.\nI am writing a simple program to display a series\nof random numbers with a delay of 1 second between\neach one.  RandNumText is the name of the on screebn\nbox.  I have tried the following :-</p>\n\n<pre><code>i = 1\nwhile (i &lt; 10) {\n    RandNumText.text = ((0..9).random()).toString()\n    for (j in 0 until 50000) {}\n    i++\n}\n</code></pre>\n\n<hr>\n\n<pre><code>i = 1\nwhile (i &lt; 10) {\n    RandNumText.text = ((0..9).random()).toString()\n    Thread.sleep(1000)  // wait for 1 second\n    i++\n}\n</code></pre>\n\n<hr>\n\n<pre><code>i = 1\nval handler = Handler()\nwhile (i&lt;10) {\n    handler.postDelayed({RandNumText.text = ((0 until 10).random()).toString()}, 1000)\n    i++\n}\n</code></pre>\n\n<hr>\n\n<p>Each time just one number appears on screen.\nWhat am I doing wrong? Your assistance would\nbe appreciated. Thanks.</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "google-cloud-firestore", "firebaseui"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 1, "creation_date": 1574252201, "post_id": 58954144, "comment_id": 104164019, "body": "What do you mean through &quot;did not work with FirestorePagingAdapter&quot;? Do you have an error?"}, {"owner": {"reputation": 1, "user_id": 12053416, "user_type": "registered", "profile_image": "https://graph.facebook.com/2583358928551951/picture?type=large", "display_name": "Khalil Taghda", "link": "https://stackoverflow.com/users/12053416/khalil-taghda"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1574252963, "post_id": 58954144, "comment_id": 104164490, "body": "no, I don&#39;t have an error, but swipe refresh layout.isVisible = true in LOAD_MORE when I don&#39;t scroll, it must be false"}], "answers": [{"tags": [], "owner": {"reputation": 884, "user_id": 5118503, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh3.googleusercontent.com/-cB1pcqHnWYY/AAAAAAAAAAI/AAAAAAAAAmw/J8RByw8KiUI/photo.jpg?sz=128", "display_name": "Sonu Kumar", "link": "https://stackoverflow.com/users/5118503/sonu-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1603452648, "creation_date": 1603452648, "answer_id": 64499160, "question_id": 58954144, "link": "https://stackoverflow.com/questions/58954144/refresh-data-in-a-firestore-paging-adapter-using-swipe-refresh-layout/64499160#64499160", "title": "refresh data in a Firestore Paging Adapter using Swipe Refresh Layout", "body": "<p>So I'm using the adapter to show transaction history and I have a button to show the filtered transaction history which has status == success.</p>\n<p>On button click, I'm updating the adapter the following way:</p>\n<pre><code>baseQuery = firestore.collection(&quot;transactions&quot;)\n                    .whereEqualTo(&quot;status&quot;, &quot;success&quot;)\n                    .orderBy(&quot;__name__&quot;, Query.Direction.DESCENDING);\n\n    options = new FirestorePagingOptions.Builder&lt;ItemTxn&gt;()\n            .setLifecycleOwner(this)\n            .setQuery(baseQuery, config, ItemTxn.class)\n            .build();\n\n    adapter.updateOptions(options);\n</code></pre>\n<p><a href=\"https://github.com/firebase/FirebaseUI-Android/issues/1726#issuecomment-573033035\" rel=\"nofollow noreferrer\">https://github.com/firebase/FirebaseUI-Android/issues/1726#issuecomment-573033035</a></p>\n"}], "owner": {"reputation": 1, "user_id": 12053416, "user_type": "registered", "profile_image": "https://graph.facebook.com/2583358928551951/picture?type=large", "display_name": "Khalil Taghda", "link": "https://stackoverflow.com/users/12053416/khalil-taghda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 334, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1603452648, "creation_date": 1574252119, "question_id": 58954144, "link": "https://stackoverflow.com/questions/58954144/refresh-data-in-a-firestore-paging-adapter-using-swipe-refresh-layout", "title": "refresh data in a Firestore Paging Adapter using Swipe Refresh Layout", "body": "<p>I am using FirestorePagingAdapter to show data in my app but when I use Swipe Refresh Layout did not work with FirestorePagingAdapter, <code>swipe refresh layout.isVisible = true</code> in LOAD_MORE when I don't scroll\nhow to work with a Swipe Refresh Layout in FirestorePagingAdapter?</p>\n\n<p>ViewHolde.class:</p>\n\n<pre><code>    class ViewHolde(item: View) : RecyclerView.ViewHolder(item){\n            val username = item.findViewById(R.id.iduser) as TextView\n            val title = item.findViewById(R.id.idtitle) as TextView\n            val decription = item.findViewById(R.id.iddes) as TextView\n\n}\n</code></pre>\n\n<p>User.class:</p>\n\n<pre><code>class User {\n    lateinit var userphoto: StorageReference\n    lateinit var username:String\n    lateinit var title:String\n    lateinit var notes: String\n    lateinit var id: String\n    var isSelected:Boolean = false\n    constructor(){\n\n    }\n    constructor( id: String?,username:String?,title: String?, notes: String?) {\n        this.title= title!!\n        this.id= id!!\n        this.username= username!!\n        this.notes= notes!!\n        }\n\n}\n</code></pre>\n\n<p>RecyclerActivity.class:</p>\n\n<pre><code>class RecyclerActivity : AppCompatActivity(),SwipeRefreshLayout.OnRefreshListener {\n\n    var mylist=ArrayList&lt;User&gt;()\n    var rv:RecyclerView? = null\n    var currentuser = FirebaseAuth.getInstance().currentUser!!.uid\n    val str= FirebaseStorage.getInstance().reference\n    private var mAuthStateListener: FirebaseAuth.AuthStateListener? = null\n    var db = FirebaseFirestore.getInstance();\n    private val notebookRef2 = db.collection(\"ProfileData\")\n    private val mQuery = notebookRef2.orderBy(\"title\", Query.Direction.ASCENDING)\n    val config = PagedList.Config.Builder()\n        .setEnablePlaceholders(false)\n        .setPrefetchDistance(2)\n        .setPageSize(6)\n        .build()\n    val options = FirestorePagingOptions.Builder&lt;User&gt;()\n        .setLifecycleOwner(this)\n        .setQuery(mQuery, config, User::class.java)\n        .build()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_recycler)\n      rec()\n    var swipeContainer = findViewById(R.id.swipeContainer)as SwipeRefreshLayout\n        swipeContainer.setOnRefreshListener(this);\n        swipeContainer = findViewById(R.id.swipeContainer)as SwipeRefreshLayout\n    swipeContainer.setColorSchemeResources(android.R.color.holo_blue_bright,\n        android.R.color.holo_green_light,\n        android.R.color.holo_orange_light,\n        android.R.color.holo_red_light);\n     swipeContainer.setOnRefreshListener {\n            rv?.invalidate();\n            swipeContainer.setRefreshing(false);\n\n        }\n\n    }\n    override fun onRefresh() {\n Handler().postDelayed( Runnable() {\n     swipeContainer.setRefreshing(false);\n\n    }, 3000);\n    }\nfun rec(){\n    rv=findViewById(R.id.idrecycler) as? RecyclerView\n    rv!!.setHasFixedSize(true)\n    rv!!.layoutManager = LinearLayoutManager(this)\n    db.collection(\"ProfileData\").orderBy(\"title\", Query.Direction.DESCENDING)\n        .addSnapshotListener { querySnapshot, firebaseFirestoreException -&gt;\n            if (querySnapshot != null) {\n                for(da in querySnapshot) {\n                    val note = da.toObject(Note::class.java)\n                    var title = note.title\n                    var description = note.notes\n                    var username = note!!.username\n                    var id = note!!.id\n                    mylist.add(User(id!!,username!!, title!!, description!!))\n                }\n            }\n        }\n    setupadapter()\n\n}\nfun setupadapter(){\n    rv=findViewById(R.id.idrecycler) as? RecyclerView\n    var mAdapter = object : FirestorePagingAdapter&lt;User, ViewHolde&gt;(options) {\n\n        override fun onLoadingStateChanged(state: LoadingState) {\n            swipeRefreshLayout2.isVisible = false\n            when (state) {\n                LoadingState.LOADING_INITIAL -&gt; {\n                    swipeRefreshLayout2.isVisible = true\n                }\n\n                LoadingState.LOADING_MORE -&gt; {\n                    swipeRefreshLayout.isVisible = true\n                }\n\n                LoadingState.LOADED -&gt; {\n                    swipeRefreshLayout.isVisible = false\n                }\n\n                LoadingState.ERROR -&gt; {\n                    swipeRefreshLayout.isVisible = false\n                }\n\n                LoadingState.FINISHED -&gt; {\n                    swipeRefreshLayout.isVisible = false\n                }\n            }\n        }\n\n\n        override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolde {\n\n            var v = LayoutInflater.from(parent.context)\n                .inflate(R.layout.iktem_list, parent, false)\n            return ViewHolde(v)\n        }\n        override fun onBindViewHolder(holder: ViewHolde, position: Int, p2: User) {\n            holder.username.text = mylist.get(position).username\n            holder.title.text = mylist.get(position).title\n            holder.decription.text = mylist.get(position).notes\n\n        }\n         }\n    rv!!.adapter = mAdapter\n}\n}\n</code></pre>\n\n<p>ActivityRecycler.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:id=\"@+id/iddrawer2\"\n        tools:context=\".RecyclerActivity\"&gt;\n\n    &lt;LinearLayout android:layout_width=\"match_parent\"\n                  android:layout_height=\"match_parent\"\n                  android:orientation=\"vertical\"&gt;\n\n    &lt;/LinearLayout&gt;\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\nandroid:layout_height=\"match_parent\"\nandroid:layout_width=\"match_parent\" &gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:background=\"#4C00CF\"\n                android:id=\"@+id/idtoolbar2\"\n                tools:ignore=\"MissingConstraints\"/&gt;\n        &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n                xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                android:id=\"@+id/swipeContainer\"\n                android:layout_width=\"match_parent\"\n                android:layout_marginTop=\"50dp\"\n                android:layout_height=\"460dp\"&gt;\n            &lt;ScrollView\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"&gt;\n            &lt;androidx.recyclerview.widget.RecyclerView\n                android:id=\"@+id/idrecycler\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintEnd_toEndOf=\"parent\"\n                app:layout_constraintStart_toStartOf=\"parent\"\n                app:layout_constraintTop_toTopOf=\"parent\"\n                    /&gt;\n\n            &lt;/ScrollView&gt;\n        &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\n\n        &lt;ProgressBar\n                android:id=\"@+id/swipeRefreshLayout2\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"center\"\n                android:layout_marginBottom=\"340dp\"\n                android:visibility=\"gone\"\n                /&gt;\n\n            &lt;ProgressBar\n                    android:id=\"@+id/swipeRefreshLayout\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_gravity=\"center\"\n                    android:layout_marginTop=\"450dp\"\n                    android:visibility=\"gone\"\n                    /&gt;\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n    &lt;com.google.android.material.navigation.NavigationView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            app:headerLayout=\"@layout/header\"\n            android:id=\"@+id/idnavigatuonv2\"\n            android:layout_gravity=\"start\"\n            app:menu=\"@menu/draw_menu\"/&gt;\n\n&lt;/androidx.drawerlayout.widget.DrawerLayout &gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-jetpack-compose", "android-studio-4.0"], "comments": [{"owner": {"reputation": 5751, "user_id": 1101692, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0207bd98c9e3f6f855d82aff720437aa?s=128&d=identicon&r=PG", "display_name": "Shark", "link": "https://stackoverflow.com/users/1101692/shark"}, "edited": false, "score": 0, "creation_date": 1574252762, "post_id": 58954094, "comment_id": 104164355, "body": "... are you talking about the layout preview, which just displays XML or you&#39;re trying to run the app and make your code run?"}, {"owner": {"reputation": 716, "user_id": 10456375, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_KmVRDXk2ss/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWJQr3beyv1mxpux2Cr02mkORqUDw/mo/photo.jpg?sz=128", "display_name": "Harsh Panchal", "link": "https://stackoverflow.com/users/10456375/harsh-panchal"}, "reply_to_user": {"reputation": 5751, "user_id": 1101692, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/0207bd98c9e3f6f855d82aff720437aa?s=128&d=identicon&r=PG", "display_name": "Shark", "link": "https://stackoverflow.com/users/1101692/shark"}, "edited": false, "score": 0, "creation_date": 1574252865, "post_id": 58954094, "comment_id": 104164431, "body": "I am trying to show content in Preview which is at the right side, after giving the annotation @Preview."}], "answers": [{"comments": [{"owner": {"reputation": 1040, "user_id": 11767140, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Tbfr3YlhoOs/AAAAAAAAAAI/AAAAAAAAAWo/4_25j9xubwc/photo.jpg?sz=128", "display_name": "David Garc&#237;a Bodego", "link": "https://stackoverflow.com/users/11767140/david-garc%c3%ada-bodego"}, "edited": false, "score": 1, "creation_date": 1574324558, "post_id": 58970163, "comment_id": 104194325, "body": "Welcome to SO! When you reply to a question with just code, try to explain your answer a little bit."}, {"owner": {"reputation": 389, "user_id": 8832537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q4yjq.png?s=128&g=1", "display_name": "Yekta Sar\u0131o\u011flu", "link": "https://stackoverflow.com/users/8832537/yekta-sar%c4%b1o%c4%9flu"}, "edited": false, "score": 0, "creation_date": 1603015352, "post_id": 58970163, "comment_id": 113897322, "body": "How <code>PreviewGreeting()</code> function calls <code>Greeting()</code> class member method of MainActivity? That should not be possible within the rules of Kotlin."}], "tags": [], "owner": {"reputation": 41, "user_id": 12193039, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pcky1NJ2UX4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfdlTdYOgTL8KSIrIGrEisRcPqt9g/photo.jpg?sz=128", "display_name": "hana guo", "link": "https://stackoverflow.com/users/12193039/hana-guo"}, "is_accepted": false, "score": 4, "last_activity_date": 1574324036, "creation_date": 1574324036, "answer_id": 58970163, "question_id": 58954094, "link": "https://stackoverflow.com/questions/58954094/a-successful-build-is-needed-before-the-preview-can-be-displayed-or-can-not-show/58970163#58970163", "title": "A successful build is needed before the preview can be displayed or can not show content in preview in Android studio 4.0 Canary", "body": "<p>try this:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContent {\n            Greeting(\"Android\")\n        }\n    }\n\n    @Composable\n    fun Greeting(name: String) {\n        Text (text = \"Hello $name!\")\n    }\n}\n@Preview\n@Composable\nfun PreviewGreeting() {\n    Greeting(\"Android\")\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 716, "user_id": 10456375, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_KmVRDXk2ss/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWJQr3beyv1mxpux2Cr02mkORqUDw/mo/photo.jpg?sz=128", "display_name": "Harsh Panchal", "link": "https://stackoverflow.com/users/10456375/harsh-panchal"}, "edited": false, "score": 0, "creation_date": 1574916487, "post_id": 59064983, "comment_id": 104400324, "body": "No, still not showing preview from my side with this as well."}, {"owner": {"reputation": 1741, "user_id": 2445763, "user_type": "registered", "accept_rate": 36, "profile_image": "https://i.stack.imgur.com/vps5R.png?s=128&g=1", "display_name": "lasec0203", "link": "https://stackoverflow.com/users/2445763/lasec0203"}, "edited": false, "score": 0, "creation_date": 1589251214, "post_id": 59064983, "comment_id": 109212542, "body": "A word of advice if you&#39;re following a jetpack compose tutorial and having issues, the google codelab one is the most up to date and the one you should follow <a href=\"https://codelabs.developers.google.com/codelabs/jetpack-compose-basics\" rel=\"nofollow noreferrer\">codelabs.developers.google.com/codelabs/jetpack-compose-basi&zwnj;&#8203;cs</a>"}], "tags": [], "owner": {"reputation": 197, "user_id": 8080277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95a5678f0124373dafc7da2dcab66983?s=128&d=identicon&r=PG&f=1", "display_name": "Dharmesh rughani", "link": "https://stackoverflow.com/users/8080277/dharmesh-rughani"}, "is_accepted": false, "score": 1, "last_activity_date": 1574839810, "last_edit_date": 1574839810, "creation_date": 1574839226, "answer_id": 59064983, "question_id": 58954094, "link": "https://stackoverflow.com/questions/58954094/a-successful-build-is-needed-before-the-preview-can-be-displayed-or-can-not-show/59064983#59064983", "title": "A successful build is needed before the preview can be displayed or can not show content in preview in Android studio 4.0 Canary", "body": "<p>please follow the developer's document carefully , Please Define your Greeting function and PreviewGreeting function outside the MainActivity , please do something like this</p>\n\n<pre><code>import android.os.Bundle\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.compose.Composable\nimport androidx.compose.unaryPlus\nimport androidx.ui.core.Text\nimport androidx.ui.core.dp\nimport androidx.ui.core.setContent\nimport androidx.ui.foundation.DrawImage\nimport androidx.ui.graphics.Color\nimport androidx.ui.layout.*\nimport androidx.ui.material.MaterialColors\nimport androidx.ui.material.MaterialTheme\nimport androidx.ui.res.imageResource\nimport androidx.ui.tooling.preview.Preview\n\nclass MainActivity : AppCompatActivity() {\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContent {\n        MaterialTheme(\n            colors = MaterialColors(\n                primary = Color.Black,\n                background = Color.Cyan,\n                secondary = Color.Magenta\n            )\n        ) {\n            Greeting(\"Hello World\")\n        }\n    }\n}\n}\n\n@Composable\nfun Greeting(name: String) {\nval image = +imageResource(R.drawable.ic_launcher_round)\n\nColumn(crossAxisSize = LayoutSize.Expand, modifier = Spacing(16.dp)) {\n    Text(name)\n    Text(name)\n    Text(name)\n    HeightSpacer(50.dp)\n    Container(expanded = true, height = 100.dp, width = 100.dp) {\n        DrawImage(image)\n    }\n\n}\n\n}\n\n@Preview\n@Composable\nfun DefaultPreview() {\nval image = +imageResource(R.drawable.ic_launcher_round)\n\nColumn(crossAxisSize = LayoutSize.Expand, modifier = Spacing(16.dp)) {\n    Text(\"Android\")\n    Text(\"Android\")\n    Text(\"Android\")\n    Text(\"Hello\")\n    HeightSpacer(50.dp)\n    Container(expanded = true, height = 100.dp, width = 100.dp) {\n        DrawImage(image)\n    }\n\n}\n\n}\n</code></pre>\n\n<p>And then run your app one time in device/emulator , then you can see the preview working<a href=\"https://i.stack.imgur.com/qTQgW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qTQgW.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 30748, "user_id": 758104, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/bYe7q.png?s=128&g=1", "display_name": "Vipul", "link": "https://stackoverflow.com/users/758104/vipul"}, "is_accepted": false, "score": 0, "last_activity_date": 1575388153, "creation_date": 1575388153, "answer_id": 59160732, "question_id": 58954094, "link": "https://stackoverflow.com/questions/58954094/a-successful-build-is-needed-before-the-preview-can-be-displayed-or-can-not-show/59160732#59160732", "title": "A successful build is needed before the preview can be displayed or can not show content in preview in Android studio 4.0 Canary", "body": "<p>I believe you might have fixed it already, but would still answer as there is no accepted answer yet.</p>\n\n<p>I tried creating project from <code>Empty Compose Activity</code> project template. and It shows above error.</p>\n\n<p>There is an issue in <code>app:build.gradle</code> file.</p>\n\n<p>Replace <code>compileSdkVersion 'Google Inc.:Google APIs:23'</code> with <code>compileSdkVersion \n29</code></p>\n\n<p>Replace <code>targetSdkVersion 23</code> with <code>targetSdkVersion 29</code></p>\n\n<p>Clean and build the project and issues should be resolved.</p>\n"}, {"tags": [], "owner": {"reputation": 436, "user_id": 3753336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/792cc314fbc973628dab4ebc65eee64a?s=128&d=identicon&r=PG&f=1", "display_name": "blade", "link": "https://stackoverflow.com/users/3753336/blade"}, "is_accepted": false, "score": 0, "last_activity_date": 1585651950, "last_edit_date": 1585651950, "creation_date": 1585650555, "answer_id": 60948463, "question_id": 58954094, "link": "https://stackoverflow.com/questions/58954094/a-successful-build-is-needed-before-the-preview-can-be-displayed-or-can-not-show/60948463#60948463", "title": "A successful build is needed before the preview can be displayed or can not show content in preview in Android studio 4.0 Canary", "body": "<p>Follow this steps, worked for me:</p>\n\n<ol>\n<li>File -> Invalid Caches/Restart</li>\n<li>Click on the preview screen, where it says \"A successful build is needed before...\"</li>\n<li>Build &amp; Refresh with the following command: Option + Command + Shift + R (on Mac), I guess Alt + Ctrl + Shift + R is the command on Windows</li>\n</ol>\n\n<p>It is important to click on the preview screen before you run the command.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5905365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qusKx.jpg?s=128&g=1", "display_name": "AnkitSingh", "link": "https://stackoverflow.com/users/5905365/ankitsingh"}, "is_accepted": false, "score": 0, "last_activity_date": 1589695103, "creation_date": 1589695103, "answer_id": 61847615, "question_id": 58954094, "link": "https://stackoverflow.com/questions/58954094/a-successful-build-is-needed-before-the-preview-can-be-displayed-or-can-not-show/61847615#61847615", "title": "A successful build is needed before the preview can be displayed or can not show content in preview in Android studio 4.0 Canary", "body": "<p>I was facing the same issue, invalidate cache and restart worked for me.</p>\n"}, {"tags": [], "owner": {"reputation": 26, "user_id": 6635572, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HPkkI.jpg?s=128&g=1", "display_name": "Kamran Ramzan", "link": "https://stackoverflow.com/users/6635572/kamran-ramzan"}, "is_accepted": false, "score": 0, "last_activity_date": 1593546341, "creation_date": 1593546341, "answer_id": 62665113, "question_id": 58954094, "link": "https://stackoverflow.com/questions/58954094/a-successful-build-is-needed-before-the-preview-can-be-displayed-or-can-not-show/62665113#62665113", "title": "A successful build is needed before the preview can be displayed or can not show content in preview in Android studio 4.0 Canary", "body": "<p>It's kinda weird when you first create your compose project the preview doesn't work, a very simple solution is just go to Build -&gt; Rebuild menu to rebuild your project and every thing just works fine :)\n<a href=\"https://i.stack.imgur.com/SA3Kx.png\" rel=\"nofollow noreferrer\">Image Resource</a></p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 14603006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d161de859a5dae50613d80a01a34b75?s=128&d=identicon&r=PG&f=1", "display_name": "SuperCell", "link": "https://stackoverflow.com/users/14603006/supercell"}, "is_accepted": false, "score": 0, "last_activity_date": 1614275428, "creation_date": 1614275428, "answer_id": 66373848, "question_id": 58954094, "link": "https://stackoverflow.com/questions/58954094/a-successful-build-is-needed-before-the-preview-can-be-displayed-or-can-not-show/66373848#66373848", "title": "A successful build is needed before the preview can be displayed or can not show content in preview in Android studio 4.0 Canary", "body": "<p>after you build close file then reopen it from the file tree on left then it should work. I have no preview in their so now it says NO preview found add preview by annotation compostables with @Preview</p>\n<p>but I think it will work for you</p>\n"}], "owner": {"reputation": 716, "user_id": 10456375, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_KmVRDXk2ss/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWJQr3beyv1mxpux2Cr02mkORqUDw/mo/photo.jpg?sz=128", "display_name": "Harsh Panchal", "link": "https://stackoverflow.com/users/10456375/harsh-panchal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1132, "favorite_count": 1, "answer_count": 7, "score": 5, "last_activity_date": 1614275428, "creation_date": 1574251988, "last_edit_date": 1574329853, "question_id": 58954094, "link": "https://stackoverflow.com/questions/58954094/a-successful-build-is-needed-before-the-preview-can-be-displayed-or-can-not-show", "title": "A successful build is needed before the preview can be displayed or can not show content in preview in Android studio 4.0 Canary", "body": "<p>I have tried to open the preview but can not open it.</p>\n\n<p>I have tried opening the studio again but preview shows only a blank white screen and no content is shown inside it.\nWhen I open it again, it shows the following message at the preview side:</p>\n\n<pre><code>A successful build is needed before the preview can be displayed\n</code></pre>\n\n<p>A Build process has been finished and tried to build multiple times but still showing the same error.</p>\n\n<p>I have used simple text inside it.</p>\n\n<pre><code>    @Composable\n    fun Greeting(name: String) {\n        Text (text = \"Hello $name!\")\n    }\n</code></pre>\n\n<p>Here is my full content:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContent {\n            Greeting(\"Android\")\n        }\n    }\n\n    @Composable\n    fun Greeting(name: String) {\n        Text (text = \"Hello $name!\")\n    }\n\n    @Preview\n    @Composable\n    fun PreviewGreeting() {\n        Greeting(\"Android\")\n    }\n}\n</code></pre>\n\n<p>If anyone knows about the issue, please share the answer.</p>\n"}, {"tags": ["android", "kotlin", "android-lifecycle"], "comments": [{"owner": {"reputation": 1374, "user_id": 9037725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2b4798fb7cc61e665b93dbd93e07a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Oberoi", "link": "https://stackoverflow.com/users/9037725/shivam-oberoi"}, "edited": false, "score": 0, "creation_date": 1574251797, "post_id": 58953718, "comment_id": 104163779, "body": "mapping file have you uploaded that when you uploaded apk?"}], "answers": [{"tags": [], "owner": {"reputation": 1557, "user_id": 3330058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C010X.png?s=128&g=1", "display_name": "Giorgos Neokleous", "link": "https://stackoverflow.com/users/3330058/giorgos-neokleous"}, "is_accepted": true, "score": 1, "last_activity_date": 1574251210, "creation_date": 1574251210, "answer_id": 58953891, "question_id": 58953718, "link": "https://stackoverflow.com/questions/58953718/illegalstateexception-in-android-exception-copied-from-play-store-console/58953891#58953891", "title": "IllegalStateException in Android. Exception copied from Play Store console", "body": "<p>Play console is probably missing the mapping file that's generated when creating your Release APK file. </p>\n\n<p>I do not think anybody can help you with that stacktrace but I will give you some info to battle against it in the future.</p>\n\n<p>When you build your release APK, the build will generate a mapping file which basically maps actual class names, etc to unreadable names (see your stacktrace). The code in your stacktrace is something within your app. </p>\n\n<p>Your code gets obfuscates in release builds for various reasons, find out more <a href=\"https://developer.android.com/studio/build/shrink-code\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Now in order for play console to provide you with a de-obfuscated code, you will need to provide the mapping when uploading the new APK in console.</p>\n\n<p>How to do that: </p>\n\n<ol>\n<li>Android Vitals</li>\n<li>Deobfuscation files</li>\n<li>Upload the corresponding file for the appropriate version</li>\n</ol>\n\n<p><strong>Note:</strong> You have to upload your APK first.</p>\n\n<p>Voila, any new crashes will get de-obfuscated from that time onwards and you will start making sense out of them.</p>\n"}], "owner": {"reputation": 2617, "user_id": 2610010, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/DcX0O.jpg?s=128&g=1", "display_name": "Ameer", "link": "https://stackoverflow.com/users/2610010/ameer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 58953891, "answer_count": 1, "score": 0, "last_activity_date": 1574251210, "creation_date": 1574250647, "question_id": 58953718, "link": "https://stackoverflow.com/questions/58953718/illegalstateexception-in-android-exception-copied-from-play-store-console", "title": "IllegalStateException in Android. Exception copied from Play Store console", "body": "<p>When will be getting this error. This actually I have copied from console.\nIt is something related tp LifeCycle. But I am not able to understand the issue</p>\n\n<pre><code>java.lang.IllegalStateException: \n  at h.a.a.a.a.c.b.d.Z.a (1)\n  at androidx.lifecycle.LiveData.a\n  at androidx.lifecycle.LiveData.b\n  at c.m.q.a (1)\n  at h.a.a.a.a.c.b.e.N.a (6)\n  at h.a.a.a.a.a.f.run\n  at android.os.Handler.handleCallback (Handler.java:751)\n  at android.os.Handler.dispatchMessage (Handler.java:95)\n  at android.os.Looper.loop (Looper.java:154)\n  at android.app.ActivityThread.main (ActivityThread.java:6682)\n  at java.lang.reflect.Method.invoke (Native Method)\n  at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run (ZygoteInit.java:1520)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1410)\n</code></pre>\n"}, {"tags": ["kotlin", "annotations"], "answers": [{"tags": [], "owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "is_accepted": true, "score": 2, "last_activity_date": 1574254516, "creation_date": 1574254516, "answer_id": 58954865, "question_id": 58953516, "link": "https://stackoverflow.com/questions/58953516/kotlin-annotation-processor-how-to-get-constructor-argument-types/58954865#58954865", "title": "Kotlin Annotation processor how to get constructor argument types?", "body": "<p>There are two mistakes in your code:</p>\n\n<ol>\n<li>You are getting generic <code>typeParameters</code> instead of <code>parameters.map { it.type }</code></li>\n<li>You are trying to get <strong>constructor</strong> parameters, but you are using <code>annotatedElement</code> instead of <code>mainConstructor</code></li>\n</ol>\n\n<p>Here is how you can correct them:</p>\n\n<pre><code>mainConstructor?.parameters?.map { it.type }\n</code></pre>\n"}], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 1, "accepted_answer_id": 58954865, "answer_count": 1, "score": 1, "last_activity_date": 1574254516, "creation_date": 1574250035, "question_id": 58953516, "link": "https://stackoverflow.com/questions/58953516/kotlin-annotation-processor-how-to-get-constructor-argument-types", "title": "Kotlin Annotation processor how to get constructor argument types?", "body": "<p>I'm writing an annotation processor in Kotlin and I want to get types of constructor arguments. </p>\n\n<p>Here is my annotated class</p>\n\n<pre><code>@SomeAnnotation\nclass MyClass(name: String, age: Int)\n</code></pre>\n\n<p>Can I extract the <code>String</code> and the <code>Int</code> types from <code>annotatedElement.kotlinMetadata</code>? Or should I just use the <code>annotatedElement</code> which is a <code>TypeElement</code>? How can I do this? </p>\n\n<p>This is where I'm stucked:</p>\n\n<pre><code>val metadata = annotatedElement.kotlinMetadata as KotlinClassMetadata\nval proto = metadata.data.classProto\nval mainConstructor = proto.constructorList.find { it.isPrimary }\nval parameters = annotatedElement.typeParameters\n</code></pre>\n\n<p>The <code>typeParameters</code> return 0 and I should have 2.</p>\n"}, {"tags": ["kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "edited": false, "score": 0, "creation_date": 1574250158, "post_id": 58953301, "comment_id": 104162861, "body": "inject is an option, do you want a static tool to warn you? or IDE to not allow it?"}], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 4341527, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ba17ab577c578637e740847329f5067c?s=128&d=identicon&r=PG&f=1", "display_name": "fridgepolice", "link": "https://stackoverflow.com/users/4341527/fridgepolice"}, "edited": false, "score": 1, "creation_date": 1574423253, "post_id": 58953778, "comment_id": 104237697, "body": "One gotcha that I discovered is that since <code>by inject()</code> is lazy, the eventbus-only controller needs to either be referenced somewhere in the code, or injected using find. Otherwise it&#39;ll never be created and the events won&#39;t be handled."}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 179, "user_id": 4341527, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ba17ab577c578637e740847329f5067c?s=128&d=identicon&r=PG&f=1", "display_name": "fridgepolice", "link": "https://stackoverflow.com/users/4341527/fridgepolice"}, "edited": false, "score": 0, "creation_date": 1574514959, "post_id": 58953778, "comment_id": 104264394, "body": "Actually, you should just use find instead of inject in this case. I&#39;ll update my answer :)"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 3, "last_activity_date": 1574518322, "last_edit_date": 1574518322, "creation_date": 1574250822, "answer_id": 58953778, "question_id": 58953301, "link": "https://stackoverflow.com/questions/58953301/tornadofx-right-way-to-instantiate-decoupled-controller/58953778#58953778", "title": "TornadoFX - right way to instantiate decoupled controller?", "body": "<p>TornadoFX doesn't do any annotation scanning, so there is no way to add a <code>@Startup</code> annotation or anything like that. The easiest way to make sure it's instantiated is actually injecting it into your <code>App</code> subclass. That makes for a pragmatic, yet clean and maintainable approach IMO :)</p>\n\n<p>EDIT: It's actually better to use <code>find()</code>, to make sure that it's actually created right away, since <code>inject()</code> is lazy.</p>\n\n<p><code>val ctrl = find&lt;MyController&gt;()</code></p>\n"}], "owner": {"reputation": 179, "user_id": 4341527, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ba17ab577c578637e740847329f5067c?s=128&d=identicon&r=PG&f=1", "display_name": "fridgepolice", "link": "https://stackoverflow.com/users/4341527/fridgepolice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 58953778, "answer_count": 1, "score": 1, "last_activity_date": 1574518322, "creation_date": 1574249327, "question_id": 58953301, "link": "https://stackoverflow.com/questions/58953301/tornadofx-right-way-to-instantiate-decoupled-controller", "title": "TornadoFX - right way to instantiate decoupled controller?", "body": "<p>I have a controller which has no direct coupling to the view classes, i.e. it subscribes to events from the event bus, and nothing else.</p>\n\n<p>I'm arbitrarily creating it in the View class (<code>by inject()</code>), but it really doesn't need to be there. Is there a way to tell TornadoFX that it should be created otherwise? </p>\n"}, {"tags": ["java", "android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1574247363, "post_id": 58952642, "comment_id": 104161318, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44582397/android-room-persistent-library-typeconverter-error-of-error-cannot-figure-ou\">Android room persistent library - TypeConverter error of error: Cannot figure out how to save field to database&quot;</a>"}, {"owner": {"reputation": 1, "user_id": 9684836, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Adhithya G Nair", "link": "https://stackoverflow.com/users/9684836/adhithya-g-nair"}, "reply_to_user": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1574247718, "post_id": 58952642, "comment_id": 104161534, "body": "Hi @sonnet Thanks for the quick response. The question you mentioned is regarding the converter needed for saving a List&lt;&gt; into database. My question is little bit different. I&#39;m having same custom type for 2 of my columns. and somehow I&#39;m getting this error."}, {"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1574247916, "post_id": 58952642, "comment_id": 104161625, "body": "you could write typeconverter and send back the string that will be saved in the table. also, give column names to your fields"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9684836, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Adhithya G Nair", "link": "https://stackoverflow.com/users/9684836/adhithya-g-nair"}, "is_accepted": false, "score": 0, "last_activity_date": 1574248395, "creation_date": 1574248395, "answer_id": 58953011, "question_id": 58952642, "link": "https://stackoverflow.com/questions/58952642/entity-with-multiple-members-having-same-custom-data-type/58953011#58953011", "title": "Entity with multiple members having same custom data type", "body": "<p>I found the answer is official documentation itself.\nJust by adding Embedded annotation with prefix to each of the custom data types</p>\n\n<p><a href=\"https://developer.android.com/reference/androidx/room/Embedded.html#public-methods_1\" rel=\"nofollow noreferrer\">Official Doc</a></p>\n\n<p>Changed my entity class to</p>\n\n<pre><code>@Entity class Damage(\n    @PrimaryKey(autoGenerate = true)\n    var damageId: Int,\n    var position: String,\n    @Embedded(prefix = \"place_\") var place: DamageItem? = null,\n    @Embedded(prefix = \"cause_\") var cause: DamageItem? = null)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 11664517, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-FkLPrQNnQnA/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfVwP3Mj6qHXabbP6dyNPAmA-8bDw/mo/photo.jpg?sz=128", "display_name": "Tomislav Emilov", "link": "https://stackoverflow.com/users/11664517/tomislav-emilov"}, "is_accepted": false, "score": 0, "last_activity_date": 1574248511, "creation_date": 1574248511, "answer_id": 58953043, "question_id": 58952642, "link": "https://stackoverflow.com/questions/58952642/entity-with-multiple-members-having-same-custom-data-type/58953043#58953043", "title": "Entity with multiple members having same custom data type", "body": "<p>Well you didn't say, but I guess you are using Room. So there are a few ways of doing the thing you want. </p>\n\n<pre><code> data class DamageItem (\n  var itemId: String,\n  var itemDesc: String\n)\n</code></pre>\n\n<pre><code>@Entity\nclass Damage (\n        @PrimaryKey(autoGenerate = true)\n        var damageId: Int,\n        var position: String,\n        @Embedded\n        var place: DamageItem? = null,\n        .... \n)\n</code></pre>\n\n<p>When multiple fields are closely related, but your data is not structured to create an object enclosing those multiple fields, @Embedded may be used to access the data as required, making the code more readable and maintainable. </p>\n\n<p>This is used, if the variable needs to be accessed directly from the Object in your case \"Damage\".</p>\n"}], "owner": {"reputation": 1, "user_id": 9684836, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Adhithya G Nair", "link": "https://stackoverflow.com/users/9684836/adhithya-g-nair"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574248511, "creation_date": 1574247263, "last_edit_date": 1574247963, "question_id": 58952642, "link": "https://stackoverflow.com/questions/58952642/entity-with-multiple-members-having-same-custom-data-type", "title": "Entity with multiple members having same custom data type", "body": "<p>I'm having an Entity class Damage</p>\n\n<pre><code>@Entity\nclass Damage(\n        @PrimaryKey(autoGenerate = true)\n        var damageId: Int,\n        var position: String,\n        var place: DamageItem? = null,\n        var cause: DamageItem? = null\n)\n</code></pre>\n\n<p>DamageItem is a regular POJO </p>\n\n<pre><code>data class DamageItem(\nvar itemId: String,\nvar itemDesc: String)\n</code></pre>\n\n<p>While trying to compile this code it is showing an error that </p>\n\n<p><strong><em>Cannot figure out how to save this field into database. You can consider adding a type converter for it.</em></strong></p>\n\n<p>I thought of first using @Embedded param for place and cause but found that is not the solution.</p>\n\n<p>Is there anyway to solve this?</p>\n"}, {"tags": ["android", "kotlin", "nullpointerexception"], "comments": [{"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1574247848, "post_id": 58952633, "comment_id": 104161593, "body": "R.layout.sinlge_row post that xml"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1574248011, "post_id": 58952633, "comment_id": 104161679, "body": "No need. It&#39;s this: <code>MainActivity().doSomething(prd.pAmount)</code>. You cannot instantiate <code>Activity</code> classes yourself, and have them work correctly. Instead, create an <code>interface</code> that you can implement in the <code>Activity</code>, and through which you can pass whatever data you need to relay. There&#39;s a simple example in <a href=\"https://stackoverflow.com/q/40584424\">this post</a>, but it&#39;s in Java. You can probably work it out, though."}, {"owner": {"reputation": 71, "user_id": 7453829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab418f6cf83957460e12ad25ecd3e532?s=128&d=identicon&r=PG&f=1", "display_name": "David Green", "link": "https://stackoverflow.com/users/7453829/david-green"}, "edited": false, "score": 0, "creation_date": 1574248284, "post_id": 58952633, "comment_id": 104161824, "body": "Thanks Mike, How can I change the textValue activity_main2.xml file from ViewHolder? or is there a way to change this value from main_activity function ( outside onCreate())"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1574248424, "post_id": 58952633, "comment_id": 104161896, "body": "Here&#39;s a Kotlin-specific post, with some different examples: <a href=\"https://stackoverflow.com/q/29424944\">stackoverflow.com/q/29424944</a>."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1574248526, "post_id": 58952633, "comment_id": 104161954, "body": "Well, you can&#39;t do it directly from the <code>ViewHolder</code> like that. You&#39;ll have to use one of the options shown in the linked posts."}], "owner": {"reputation": 71, "user_id": 7453829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab418f6cf83957460e12ad25ecd3e532?s=128&d=identicon&r=PG&f=1", "display_name": "David Green", "link": "https://stackoverflow.com/users/7453829/david-green"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574248082, "creation_date": 1574247253, "last_edit_date": 1574248082, "question_id": 58952633, "link": "https://stackoverflow.com/questions/58952633/error-attempt-to-invoke-virtual-method-android-view-windowcallback-android", "title": "error : &quot;Attempt to invoke virtual method &#39;android.view.Window$Callback android.view.Window.getCallback()&#39; on a null object reference&quot;", "body": "<p>I have MainActivity, Adapter, ViewHolder etc.</p>\n\n<p>I am trying to change the value of textView inside activity_main2.xml file from ViewHolder.\nI call the function inside MainActivity from ViewHolder  but giving this error.</p>\n\n<pre><code> E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.soyut.su.epos01, PID: 18042\njava.lang.NullPointerException: Attempt to invoke virtual method 'android.view.Window$Callback android.view.Window.getCallback()' on a null object reference\n    at android.support.v7.app.AppCompatDelegateImpl.&lt;init&gt;(AppCompatDelegateImpl.java:249)\n    at android.support.v7.app.AppCompatDelegate.create(AppCompatDelegate.java:182)\n    at android.support.v7.app.AppCompatActivity.getDelegate(AppCompatActivity.java:520)\n    at android.support.v7.app.AppCompatActivity.findViewById(AppCompatActivity.java:191)\n    at com.soyut.su.epos01.MainActivity._$_findCachedViewById(Unknown Source:52)\n    at com.soyut.su.epos01.MainActivity.doSomething(MainActivity.kt:180)\n    at com.soyut.su.epos01.PartViewHolder$bindItems$1.onClick(MainAdapter.kt:106)\n    at android.view.View.performClick(View.java:6294)\n    at android.view.View$PerformClick.run(View.java:24770)\n    at android.os.Handler.handleCallback(Handler.java:790)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6494)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n</code></pre>\n\n<p>MainActivity file</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n\n\nlateinit var mRecyclerView : RecyclerView\nprivate lateinit var sDatabase: DatabaseReference\nvar trId: Long = 0\n\nvar discAmnt : Double = 0.00\n\nvar unt = 1\n\nvar tr :Trans ?= null\n\nvar sb = 0.00\nvar disc = sb*.1\nvar tt = sb-disc\n\nvar list = ArrayList&lt;Product&gt;()\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main2)\n\n\n\n    sDatabase = FirebaseDatabase.getInstance().getReference().child(\"Sales\")\n\n    sDatabase.child(\"Sales\").addValueEventListener(object:ValueEventListener{\n        override fun onCancelled(p0: DatabaseError) {\n\n        }\n\n        override fun onDataChange(p0: DataSnapshot) {\n            if(p0.exists()) {\n                trId = p0.childrenCount\n                println(trId)\n            }\n        }\n    })\n    mRecyclerView = findViewById(R.id.recyclerView_main)\n    mRecyclerView.layoutManager = LinearLayoutManager(this)\n    mRecyclerView.adapter = MainAdapter(this, list)\n\n\n\n    btnGranola.setOnClickListener{\n\n        //add Granola to list\n        list.add(Product(\"Granola\", unt, 2.40, unt*2.40))\n\n        var  sbAmnt  = list.sumByDouble {it.pAmount }\n\n         txtSubAmount.text = \"%.2f\".format(sbAmnt).toDouble().toString()\n\n        txtTotalAmount.text = \"%.2f\".format(sbAmnt).toDouble().toString()\n\n         // MainAdapter(this, list).notifyDataSetChanged()\n        println(\"list size from Granola :\"+list.size)\n\n\n\n    }\n    btnBrownie.setOnClickListener {\n        list.add(Product(\"Brownie\", 1, 2.60,2.60))\n        //recView()\n        val tot: Double = list.sumByDouble {it.pAmount }\n        txtSubAmount.text = \"%.2f\".format(tot).toDouble().toString()\n        txtTotalAmount.text = \"%.2f\".format(tot).toDouble().toString()\n\n        println(\"list size from Brownie :\"+list.size)\n       // doSomething()\n    }\n\n\n\n\n    btnTea.setOnClickListener {\n        list.add(Product(\"Tea\", 1, 1.30,1.30))\n        sb = list.sumByDouble { it.pAmount }\n        tr = Trans(sb, sb*.1, sb-disc, list)\n        txtSubAmount.text = \"%.2f\".format(sb).toDouble().toString()\n        txtTotalAmount.text = \"%.2f\".format(sb).toDouble().toString()\n        println(tr?.Total)\n\n        // recView()\n    }\n\n    btnDiscnt.setOnClickListener {\n\n        //recView()\n        var sbAmnt: Double = list.sumByDouble {it.pAmount }\n        discAmnt = sbAmnt*.1\n        \"%.2f\".format(discAmnt).toDouble()\n        txtDiscntAmnt.text = \"%.2f\".format(discAmnt).toDouble().toString()\n        txtTotalAmount.text = \"%.2f\".format(sbAmnt-discAmnt).toDouble().toString()\n    }\n\n    btnClear.setOnClickListener {\n      clearTransaction()\n\n    }\n\n\n\n    btnPay.setOnClickListener {\n        println(\"Sub Total : ${txtSubAmount.text}\")\n        println(\"Discount : ${txtDiscntAmnt.text}\")\n        println(\"Total : ${txtTotalAmount.text}\")\n    }\n\n    btnSave.setOnClickListener {\n\n        println(\"xxx\" +list.sumByDouble {it.pAmount })\n        var sub: Double = list.sumByDouble {it.pAmount }\n       if(discAmnt!=0.00){\n           discAmnt = sub*.1\n           var ttl = sub-discAmnt\n           var tr : Trans = Trans(sub, discAmnt, ttl, list)\n           sDatabase.push().setValue(tr).addOnCompleteListener {\n               Toast.makeText(this, \"Transaction saved successfuly !\", Toast.LENGTH_SHORT).show()\n           }\n\n           } else {\n           var ttl = sub - discAmnt\n           var tr= Trans(sub, discAmnt, ttl, list)\n           sDatabase.push().setValue(tr).addOnCompleteListener {\n               Toast.makeText(this, \"Transaction saved successfuly !\", Toast.LENGTH_SHORT).show()\n           }\n\n       }\n\n\n        clearTransaction()\n\n\n    }\n    btnPay.setOnClickListener {\n        val intent = Intent(this, SalesListActivity::class.java)\n        startActivity(intent)\n    }\n\n\n\n}\n\n\n  private fun clearTransaction() {\n\n   //list.clear()\n    txtSubAmount.text = \"\u00a3 0.00\"\n    txtDiscntAmnt.text = \"\u00a3 0.00\"\n    txtTotalAmount.text = \"\u00a3 0.00\"\n\n}\n\n\nfun doSomething(d :Double){\n\n    txtSubAmount.text = d.toString()\n\n}\n }\n</code></pre>\n\n<p>Adapter and ViewHolder files.</p>\n\n<pre><code>class MainAdapter(val context: Context, val items : List&lt;Product&gt;) :   RecyclerView.Adapter&lt;PartViewHolder&gt;(), InterfaceArray{\n\noverride\nvar list = ArrayList&lt;Product&gt;()\noverride fun getItemId(position: Int): Long {\n    return super.getItemId(position)\n}\n\n\noverride fun getItemCount(): Int {\n    return items.size\n}\n// Inflates the item views\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): PartViewHolder {\n\n\n    // LayoutInflater: takes ID from layout defined in XML.\n    // Instantiates the layout XML into corresponding View objects.\n    // Use context from main app -&gt; also supplies theme layout values!\n    val inflater = LayoutInflater.from(parent.context)\n    // Inflate XML. Last parameter: don't immediately attach new view to the parent view       group\n    val view = inflater.inflate(R.layout.sinlge_row, parent, false)\n\n    return PartViewHolder(view)\n\n}\n\n\n// Binds each product in the ArrayList to a view\noverride fun onBindViewHolder(holder: PartViewHolder, position: Int) {\n\n    holder.bindItems(items[position])\n}\n\n }\n\n\n class PartViewHolder(itemView: View): RecyclerView.ViewHolder(itemView) {\n// Holds the TextView that will add each product to\n\n\n\nfun bindItems(prd: Product) {\n    val textViewName = itemView.findViewById(R.id.txtOrderNumber) as TextView\n    var textViewUnit = itemView.findViewById(R.id.txtItemUnit) as TextView\n    val textViewPrice = itemView.findViewById(R.id.txtItemPrice) as TextView\n    val textViewAmount = itemView.findViewById(R.id.txtItemAmount) as TextView\n\n\n\n   var id = adapterPosition\n\n    var unitN: Int = 1\n    textViewName.text = prd.pName\n    textViewUnit.text = prd.pUnit.toString()\n    textViewPrice.text = prd.pPrice.toString()\n    var itemPrice = prd.pPrice\n    var itemAmount = itemPrice.times(unitN)\n    textViewAmount.text = itemAmount.toString()\n\n  itemView.btnPlus.setOnClickListener {\n\n        println(\"item id : \" + id)\n\n\n\n\n        // increase the Product model single unit\n        prd.pUnit = unitN++\n\n     // println(\"Here is the \" +MainActivity().list.get(id))\n\n        // bind txtItemUnit from single_row to changed unitN (single unit)\n        textViewUnit.text = unitN.toString()\n\n        // change the Product model single pAmount\n        prd.pAmount = prd.pPrice.times(unitN)\n\n        // bind txtItemAmount from single_row to Product pAmount\n        textViewAmount.text = prd.pAmount.toString()\n\n\n      MainActivity().doSomething(prd.pAmount)\n\n\n    }\n\n    itemView.btnMinus.setOnClickListener(View.OnClickListener {\n\n        if (unitN &gt;= 1) {\n            prd.pUnit = unitN--\n            println(prd.pUnit)\n            textViewUnit.text = unitN.toString()\n\n            textViewAmount.text = prd.pPrice.times(unitN).toString()\n        } else\n            prd.pUnit = 1\n        textViewUnit.text = prd.pUnit.toString()\n        textViewAmount.text = prd.pPrice.times(prd.pUnit).toString()\n    })\n\n\n    }\n\n\n\n\n  }\n</code></pre>\n\n<p>single_row.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n</code></pre>\n\n<p></p>\n\n<pre><code>&lt;TextView\n        android:text=\"Item Name\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:id=\"@+id/txtOrderNumber\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        android:layout_marginLeft=\"28dp\" android:layout_marginStart=\"28dp\" app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\" app:layout_constraintVertical_bias=\"0.476\"/&gt;\n&lt;Button\n        android:text=\"+\"\n        android:layout_width=\"30dp\"\n        android:layout_height=\"30dp\" android:id=\"@+id/btnPlus\"\n        app:layout_constraintStart_toEndOf=\"@+id/txtOrderNumber\"\n        android:layout_marginLeft=\"64dp\" android:layout_marginStart=\"64dp\" android:textSize=\"8sp\"\n        app:layout_constraintTop_toTopOf=\"@+id/txtOrderNumber\"\n        app:layout_constraintBottom_toBottomOf=\"@+id/txtOrderNumber\" app:layout_constraintVertical_bias=\"0.454\"/&gt;\n&lt;TextView\n        android:text=\"Unit\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:id=\"@+id/txtItemUnit\"\n        app:layout_constraintStart_toEndOf=\"@+id/btnPlus\"\n        android:layout_marginLeft=\"10dp\" android:layout_marginStart=\"20dp\"\n        app:layout_constraintTop_toTopOf=\"@+id/btnPlus\" app:layout_constraintBottom_toBottomOf=\"@+id/btnPlus\"/&gt;\n&lt;Button\n        android:text=\"-\"\n        android:layout_width=\"30dp\"\n        android:id=\"@+id/btnMinus\" android:layout_height=\"30dp\"\n        android:textSize=\"8sp\"\n        app:layout_constraintStart_toEndOf=\"@+id/txtItemUnit\"\n        android:layout_marginLeft=\"10dp\" android:layout_marginStart=\"20dp\"\n        app:layout_constraintBottom_toBottomOf=\"@+id/txtItemUnit\"\n        app:layout_constraintTop_toTopOf=\"@+id/txtItemUnit\"/&gt;\n&lt;TextView\n        android:text=\"Price\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:id=\"@+id/txtItemPrice\"\n        app:layout_constraintStart_toEndOf=\"@+id/btnMinus\"\n        android:layout_marginLeft=\"24dp\" android:layout_marginStart=\"24dp\"\n        app:layout_constraintTop_toTopOf=\"@+id/btnMinus\" app:layout_constraintBottom_toBottomOf=\"@+id/btnMinus\"\n        app:layout_constraintVertical_bias=\"0.454\"/&gt;\n&lt;TextView\n        android:text=\"Amount\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:id=\"@+id/txtItemAmount\"\n\n        app:layout_constraintTop_toTopOf=\"@+id/txtItemPrice\"\n        app:layout_constraintBottom_toBottomOf=\"@+id/txtItemPrice\" app:layout_constraintVertical_bias=\"0.0\"\n        app:layout_constraintStart_toEndOf=\"@+id/txtItemPrice\" android:layout_marginLeft=\"40dp\"\n        android:layout_marginStart=\"40dp\"/&gt;\n&lt;View\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"1dp\"\n        android:background=\"@android:color/darker_gray\"\n        android:layout_marginTop=\"8dp\" app:layout_constraintTop_toBottomOf=\"@+id/txtOrderNumber\"\n        android:id=\"@+id/view\" app:layout_constraintStart_toStartOf=\"parent\"\n        android:layout_marginLeft=\"10dp\"  android:layout_marginRight=\"10dp\" android:layout_marginStart=\"10dp\"/&gt;\n</code></pre>\n\n<p></p>\n\n<p>Why am I getting this error?\nor is there any alternative examples to change this textView value from viewHolder?\nAny help appreciated.</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["android", "xml", "kotlin", "calendar"], "owner": {"reputation": 1353, "user_id": 5154783, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/JPpEJ.jpg?s=128&g=1", "display_name": "shahzain ali", "link": "https://stackoverflow.com/users/5154783/shahzain-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574253775, "creation_date": 1574247092, "question_id": 58952584, "link": "https://stackoverflow.com/questions/58952584/android-calender-design", "title": "Android Calender Design", "body": "<p>I have to implement calender of this design, searched many libraries but unable to find any exact design. Any library or custom solution will be appreciated.\n<a href=\"https://i.stack.imgur.com/8IJmo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8IJmo.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android-fragments", "kotlin", "android-context"], "comments": [{"owner": {"reputation": 1350, "user_id": 10445540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca713c1a1ae615695267f4e23b8d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Botnev", "link": "https://stackoverflow.com/users/10445540/artem-botnev"}, "edited": false, "score": 0, "creation_date": 1574246894, "post_id": 58952325, "comment_id": 104161041, "body": "Can you provide stacktrace?"}, {"owner": {"reputation": 17, "user_id": 5755888, "user_type": "registered", "profile_image": "https://graph.facebook.com/950092385072106/picture?type=large", "display_name": "Henry Anderson", "link": "https://stackoverflow.com/users/5755888/henry-anderson"}, "reply_to_user": {"reputation": 1350, "user_id": 10445540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca713c1a1ae615695267f4e23b8d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Botnev", "link": "https://stackoverflow.com/users/10445540/artem-botnev"}, "edited": false, "score": 0, "creation_date": 1574256506, "post_id": 58952325, "comment_id": 104166612, "body": "Yes, of course. below"}, {"owner": {"reputation": 3357, "user_id": 341998, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/sYT3i.jpg?s=128&g=1", "display_name": "Bracadabra", "link": "https://stackoverflow.com/users/341998/bracadabra"}, "edited": false, "score": 0, "creation_date": 1574257337, "post_id": 58952325, "comment_id": 104167156, "body": "How do you init recycler_view?"}, {"owner": {"reputation": 1350, "user_id": 10445540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ca713c1a1ae615695267f4e23b8d5f5?s=128&d=identicon&r=PG&f=1", "display_name": "Artem Botnev", "link": "https://stackoverflow.com/users/10445540/artem-botnev"}, "edited": false, "score": 0, "creation_date": 1574257443, "post_id": 58952325, "comment_id": 104167233, "body": "Your rootView.context is normal. recycler_view is null. It looks like you use kotlin synthetic. Check if you bind proper xml file"}, {"owner": {"reputation": 17, "user_id": 5755888, "user_type": "registered", "profile_image": "https://graph.facebook.com/950092385072106/picture?type=large", "display_name": "Henry Anderson", "link": "https://stackoverflow.com/users/5755888/henry-anderson"}, "edited": false, "score": 0, "creation_date": 1574303086, "post_id": 58952325, "comment_id": 104187518, "body": "yes, done. i use onCreateView and onViewCreated. thank you so much"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 5755888, "user_type": "registered", "profile_image": "https://graph.facebook.com/950092385072106/picture?type=large", "display_name": "Henry Anderson", "link": "https://stackoverflow.com/users/5755888/henry-anderson"}, "edited": false, "score": 0, "creation_date": 1574303230, "post_id": 58958105, "comment_id": 104187552, "body": "Yes, you are right. this done with use onCreateView and onViewCreate. whereas in other cases I succeeded by only using onCreateView. okey, thank you so much"}], "tags": [], "owner": {"reputation": 1714, "user_id": 5914345, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJIxl.jpg?s=128&g=1", "display_name": "sunlover3", "link": "https://stackoverflow.com/users/5914345/sunlover3"}, "is_accepted": false, "score": 0, "last_activity_date": 1574264223, "creation_date": 1574264223, "answer_id": 58958105, "question_id": 58952325, "link": "https://stackoverflow.com/questions/58952325/kotlin-fragment-error-nullpointerexception/58958105#58958105", "title": "kotlin fragment error NullPointerException", "body": "<p>You are setting LayoutManager to recyclerView before the view is created. You should do this in onViewCreated() method or in the xml file. Use onCreateView() only for inflating the view. And then use onViewCreated() for others settings you need to do to your views.</p>\n"}, {"tags": [], "owner": {"reputation": 17, "user_id": 5755888, "user_type": "registered", "profile_image": "https://graph.facebook.com/950092385072106/picture?type=large", "display_name": "Henry Anderson", "link": "https://stackoverflow.com/users/5755888/henry-anderson"}, "is_accepted": true, "score": 0, "last_activity_date": 1574303408, "creation_date": 1574303408, "answer_id": 58966374, "question_id": 58952325, "link": "https://stackoverflow.com/questions/58952325/kotlin-fragment-error-nullpointerexception/58966374#58966374", "title": "kotlin fragment error NullPointerException", "body": "<p>Done. this my complete fix code with separate onCreateView and onViewCreate. thanks all</p>\n\n<pre><code>class FragBaru : Fragment() {\n\n    private lateinit var rv: RecyclerView\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.mainex, container, false)\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n\n        rv = view.findViewById(R.id.recycler_view)\n\n        val groupAdapter = GroupAdapter&lt;ViewHolder&gt;().apply {\n            spanCount = 2\n        }\n\n        rv.apply {\n            layoutManager = GridLayoutManager(rootView.context, groupAdapter.spanCount).apply {\n                spanSizeLookup = groupAdapter.spanSizeLookup\n            }\n            adapter = groupAdapter\n        }\n\n        var headerTab: ArrayList&lt;mTop&gt;\n        headerTab = arguments?.getSerializable(\"headertab\") as ArrayList&lt;mTop&gt;\n\n\n        for (h in 0 until headerTab.size) {\n            val header = headerTab.get(h).kategori\n\n            ExpandableGroup(ExpandableHeaderItem(header), true).apply {\n\n                for (c in 0 until headerTab[h].sub.size) {\n                    val gambar = (headerTab[h].sub).get(c).gambar\n                    val nama_menu = (headerTab[h].sub).get(c).nama_menu\n                    add(Section(FancyItem(gambar, nama_menu)))\n                }\n\n                groupAdapter.add(this)\n            }\n\n        }\n    }\n\n\n    companion object {\n        fun newInstance(headertab: ArrayList&lt;mTop&gt;): FragBaru {\n            val f = FragBaru()\n\n            val args = Bundle()\n            args.putSerializable(\"headertab\", headertab)\n\n            f.setArguments(args)\n            return f\n        }\n    }\n\n\n}\n</code></pre>\n"}], "owner": {"reputation": 17, "user_id": 5755888, "user_type": "registered", "profile_image": "https://graph.facebook.com/950092385072106/picture?type=large", "display_name": "Henry Anderson", "link": "https://stackoverflow.com/users/5755888/henry-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 58966374, "answer_count": 2, "score": 0, "last_activity_date": 1574303408, "creation_date": 1574246334, "question_id": 58952325, "link": "https://stackoverflow.com/questions/58952325/kotlin-fragment-error-nullpointerexception", "title": "kotlin fragment error NullPointerException", "body": "<p>my complete code</p>\n\n<pre><code>class BlankFragment : Fragment() {\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val rootView = inflater.inflate(R.layout.mainex, container, false)\n\n        val groupAdapter = GroupAdapter&lt;ViewHolder&gt;().apply {\n            spanCount = 2\n        }\n\n        recycler_view.apply {\n            //error NullPointerException in this line\n            layoutManager = GridLayoutManager(rootView.context, groupAdapter.spanCount).apply {\n                spanSizeLookup = groupAdapter.spanSizeLookup\n            }\n            adapter = groupAdapter\n        }\n\n\n        var headerTab: ArrayList&lt;mTop&gt;\n        headerTab = arguments?.getSerializable(\"headertab\") as ArrayList&lt;mTop&gt;\n\n\n        for (h in 0 until headerTab.size) {\n            val header = headerTab.get(h).kategori\n\n            ExpandableGroup(ExpandableHeaderItem(header), true).apply {\n\n                for (c in 0 until headerTab[h].sub.size) {\n                    val gambar = (headerTab[h].sub).get(c).gambar\n                    val nama_menu = (headerTab[h].sub).get(c).nama_menu\n                    add(Section(FancyItem(gambar, nama_menu)))\n                }\n\n                groupAdapter.add(this)\n            }\n\n        }\n\n</code></pre>\n\n<p>I'm trying to make the recyclerview display in the tablayout fragment\nand an error occurred, maybe the problem comes from rootView.context</p>\n\n<pre><code> layoutManager = GridLayoutManager(rootView.context, groupAdapter.spanCount).apply {\n                spanSizeLookup = groupAdapter.spanSizeLookup\n }\n</code></pre>\n\n<p>thanks :)    (sorry, my english is bad) </p>\n"}, {"tags": ["android", "kotlin", "google-place-picker"], "comments": [{"owner": {"reputation": 583, "user_id": 6932415, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21eb39eb48004add7a1ac82b85632170?s=128&d=identicon&r=PG&f=1", "display_name": "Michiel", "link": "https://stackoverflow.com/users/6932415/michiel"}, "edited": false, "score": 0, "creation_date": 1574243779, "post_id": 58951365, "comment_id": 104159089, "body": "Please look for any errors throw in the LogCat and post them here, the clue is probably in there."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10378227, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9e0FRpQ6gck/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPmRq-GpU2tr9TYzfjwNcP_lZ3Pqw/mo/photo.jpg?sz=128", "display_name": "Jaymin Modi", "link": "https://stackoverflow.com/users/10378227/jaymin-modi"}, "edited": false, "score": 0, "creation_date": 1574244549, "post_id": 58951637, "comment_id": 104159555, "body": "What the alternative for it?"}, {"owner": {"reputation": 3, "user_id": 10378227, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9e0FRpQ6gck/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPmRq-GpU2tr9TYzfjwNcP_lZ3Pqw/mo/photo.jpg?sz=128", "display_name": "Jaymin Modi", "link": "https://stackoverflow.com/users/10378227/jaymin-modi"}, "edited": false, "score": 0, "creation_date": 1574244581, "post_id": 58951637, "comment_id": 104159581, "body": "I have to select location dynamically. picking the place dynamically and have to get latlng."}, {"owner": {"reputation": 1637, "user_id": 5370550, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/eccb2be595b28aa6f5da58e7a32199dc?s=128&d=identicon&r=PG&f=1", "display_name": "Nik", "link": "https://stackoverflow.com/users/5370550/nik"}, "reply_to_user": {"reputation": 3, "user_id": 10378227, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9e0FRpQ6gck/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPmRq-GpU2tr9TYzfjwNcP_lZ3Pqw/mo/photo.jpg?sz=128", "display_name": "Jaymin Modi", "link": "https://stackoverflow.com/users/10378227/jaymin-modi"}, "edited": false, "score": 0, "creation_date": 1574244862, "post_id": 58951637, "comment_id": 104159750, "body": "You can migrate to places sdk. see my edited answer."}, {"owner": {"reputation": 3, "user_id": 10378227, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9e0FRpQ6gck/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPmRq-GpU2tr9TYzfjwNcP_lZ3Pqw/mo/photo.jpg?sz=128", "display_name": "Jaymin Modi", "link": "https://stackoverflow.com/users/10378227/jaymin-modi"}, "edited": false, "score": 0, "creation_date": 1574244938, "post_id": 58951637, "comment_id": 104159812, "body": "Thanks for the edit in answer. Can I get the place picker with Map as it was there in older Place Picker ?"}, {"owner": {"reputation": 1637, "user_id": 5370550, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/eccb2be595b28aa6f5da58e7a32199dc?s=128&d=identicon&r=PG&f=1", "display_name": "Nik", "link": "https://stackoverflow.com/users/5370550/nik"}, "reply_to_user": {"reputation": 3, "user_id": 10378227, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9e0FRpQ6gck/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPmRq-GpU2tr9TYzfjwNcP_lZ3Pqw/mo/photo.jpg?sz=128", "display_name": "Jaymin Modi", "link": "https://stackoverflow.com/users/10378227/jaymin-modi"}, "edited": false, "score": 0, "creation_date": 1574245108, "post_id": 58951637, "comment_id": 104159913, "body": "Yes You can implement it by your own with new sdk or check this <a href=\"https://github.com/rtchagas/pingplacepicker\" rel=\"nofollow noreferrer\">github.com/rtchagas/pingplacepicker</a>"}], "tags": [], "owner": {"reputation": 1637, "user_id": 5370550, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/eccb2be595b28aa6f5da58e7a32199dc?s=128&d=identicon&r=PG&f=1", "display_name": "Nik", "link": "https://stackoverflow.com/users/5370550/nik"}, "is_accepted": true, "score": 1, "last_activity_date": 1574244715, "last_edit_date": 1574244715, "creation_date": 1574244390, "answer_id": 58951637, "question_id": 58951365, "link": "https://stackoverflow.com/questions/58951365/placepicker-in-kotlin/58951637#58951637", "title": "PlacePicker in Kotlin", "body": "<p>The Place Picker is deprecated as of January 2019, This feature is turned of on July 2019 and will no longer be available after this date for Android and iOS.\nThe main reason was due the new pricing model of the <strong>Places API</strong>.</p>\n\n<p>For more information check this: <a href=\"https://developers.google.com/android/reference/com/google/android/gms/location/places/ui/PlacePicker\" rel=\"nofollow noreferrer\">https://developers.google.com/android/reference/com/google/android/gms/location/places/ui/PlacePicker</a></p>\n\n<p>You can check alternative here: <a href=\"https://developers.google.com/places/android-sdk/client-migration\" rel=\"nofollow noreferrer\">https://developers.google.com/places/android-sdk/client-migration</a></p>\n\n<p>You can get demo for New Places SDK from here: <a href=\"https://github.com/nihas/NewGooglePlacesAutocomplete\" rel=\"nofollow noreferrer\">https://github.com/nihas/NewGooglePlacesAutocomplete</a></p>\n"}], "owner": {"reputation": 3, "user_id": 10378227, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9e0FRpQ6gck/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPmRq-GpU2tr9TYzfjwNcP_lZ3Pqw/mo/photo.jpg?sz=128", "display_name": "Jaymin Modi", "link": "https://stackoverflow.com/users/10378227/jaymin-modi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 746, "favorite_count": 0, "accepted_answer_id": 58951637, "answer_count": 1, "score": 0, "last_activity_date": 1574245802, "creation_date": 1574243568, "last_edit_date": 1574245802, "question_id": 58951365, "link": "https://stackoverflow.com/questions/58951365/placepicker-in-kotlin", "title": "PlacePicker in Kotlin", "body": "<p>I am following <a href=\"https://github.com/AndroidCodility/PlacePickerAPI\" rel=\"nofollow noreferrer\">PlacePickerAPI</a> </p>\n\n<p>The issue is to place picker opens and closes suddenly. I have found one of the answers on StackOverflow and also done as below :</p>\n\n<ol>\n<li><p>Enabled Places API in Google console.</p></li>\n<li><p>I have added API key in AndroidManifest file as below :</p>\n\n<p></p></li>\n</ol>\n\n<p>Is PlacePicker is deprecated? If yes, What might be the solution for this issue?\nIs there any support provided for Google Place Picker in Kotlin?</p>\n\n<p>What might be the issue?\nThanks.</p>\n"}, {"tags": ["kotlin", "mvvm", "android-viewmodel"], "comments": [{"owner": {"reputation": 3396, "user_id": 4854891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WEK2n.jpg?s=128&g=1", "display_name": "Jakir Hossain", "link": "https://stackoverflow.com/users/4854891/jakir-hossain"}, "edited": false, "score": 1, "creation_date": 1574243742, "post_id": 58951231, "comment_id": 104159058, "body": "see that answer <a href=\"https://stackoverflow.com/a/52811933/4854891\">stackoverflow.com/a/52811933/4854891</a>"}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 2, "creation_date": 1574245314, "post_id": 58951231, "comment_id": 104160029, "body": "<code>Activity</code> is raw system implementation you shouldn&#39;t extend directly (in most cases anyway). <code>AppCompatActivity</code> is androidx library extension of <code>Activity</code> which you should use as it implements most functionality or hooks for androidx to work properly like <code>ViewModelProvider</code> in your case."}, {"owner": {"reputation": 723, "user_id": 797108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0456f790248fed936e6ced48654a91aa?s=128&d=identicon&r=PG", "display_name": "C-Shark", "link": "https://stackoverflow.com/users/797108/c-shark"}, "edited": false, "score": 0, "creation_date": 1574286310, "post_id": 58951231, "comment_id": 104182765, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/52811685/kotlin-does-not-understand-viewmodelproviders-ofactivity-fragment\">Kotlin does not understand ViewModelProviders.of(activity ?: fragment)</a>"}], "owner": {"reputation": 98, "user_id": 12204327, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f04fc5e3e6d496b26e3ab1641805be2d?s=128&d=identicon&r=PG&f=1", "display_name": "Junior", "link": "https://stackoverflow.com/users/12204327/junior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 129, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574243257, "creation_date": 1574243171, "last_edit_date": 1574243257, "question_id": 58951231, "link": "https://stackoverflow.com/questions/58951231/how-access-the-viewmodel-inside-an-activity-using-viewmodelproviders-of", "title": "How access the ViewModel inside an Activity using ViewModelProviders.of()?", "body": "<p>First of all this is not a duplicate question, I have tried all the other methods found here on <strong>SO</strong> but they didn't solve my problem.\nI'm having a problem with the ViewModelProviders. These are my codes.</p>\n\n<pre><code>viewModel = ViewModelProviders.of(this).get(VideoPlayerViewModel::class.java)\n</code></pre>\n\n<p>The 'this' is giving an error. Here's the error</p>\n\n<pre><code>None of the following functions can be called with the arguments supplied.\nof(Fragment) defined in androidx.lifecycle.ViewModelProviders\nof(FragmentActivity) defined in androidx.lifecycle.ViewModelProviders\n</code></pre>\n\n<p>This is my class</p>\n\n<pre><code>class VideoPlayerActivity : Activity() {\n\n    private lateinit var viewModel: VideoPlayerViewModel\n}\n</code></pre>\n\n<p>As I said I have read some other answers regarding to this problem and they are telling me to extend <strong>AppCompatActivity()</strong> instead of <strong>Activity()</strong>.\nThe problem is when i change to <strong>AppCompatActivity()</strong> it does solve the error but gives a whole lot of error in my other codes. So i want to do it without changing the <strong>Activity()</strong>.\nWhat is the solution?</p>\n"}, {"tags": ["ssl", "kotlin", "pinning"], "comments": [{"owner": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "edited": false, "score": 0, "creation_date": 1582817705, "post_id": 58951202, "comment_id": 106915236, "body": "found a solution?"}, {"owner": {"reputation": 2366, "user_id": 2170109, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0a2e3620d390e78ddb513a68a7e8bada?s=128&d=identicon&r=PG", "display_name": "hardysim", "link": "https://stackoverflow.com/users/2170109/hardysim"}, "edited": false, "score": 0, "creation_date": 1584968609, "post_id": 58951202, "comment_id": 107595849, "body": "I found <code>IosClientEngineConfig</code> where you can modify a <code>NSURLSessionConfiguration</code> but I&#39;m not sure how to add pinning and self-signed certificates to it?!"}], "owner": {"reputation": 31, "user_id": 12402628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9189b7a7a8df4674dab95769f25b2523?s=128&d=identicon&r=PG&f=1", "display_name": "Matteo Vidotto", "link": "https://stackoverflow.com/users/12402628/matteo-vidotto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 1, "answer_count": 0, "score": 3, "last_activity_date": 1574246981, "creation_date": 1574243093, "last_edit_date": 1592644375, "question_id": 58951202, "link": "https://stackoverflow.com/questions/58951202/ktor-1-3-0-beta-1-multiplatform-ssl-pinning-for-ios-in-kotlin", "title": "Ktor 1.3.0-beta-1 multiplatform - SSL pinning for iOS in kotlin", "body": "<p>I'm using <code>ktor-1.3.0-beta-1</code></p>\n<p>I need to add a few <code>NSURLSessionDelegate</code> checks for SSL Pinning.</p>\n<p>I need exactly the code I found here <a href=\"https://stackoverflow.com/questions/58777854/ktor-multiplatform-ssl-pinning-for-ios-in-kotlin\">Ktor multiplatform - SSL pinning for iOS in kotlin</a>, in a Multiplatform app I'm working on (I try to migrate some stuff from native APP to a Multiplatform library).</p>\n<p>I'm pretty new to Kotlin, so I don't have full knowledge of how it works.</p>\n<p>I want to ask you: where have I to put this code?</p>\n"}, {"tags": ["kotlin", "junit", "junit5", "javalin"], "answers": [{"comments": [{"owner": {"reputation": 4336, "user_id": 819651, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b3b2801b397b45b57b784c83b6274e22?s=128&d=identicon&r=PG", "display_name": "Lu&#237;s Soares", "link": "https://stackoverflow.com/users/819651/lu%c3%ads-soares"}, "edited": false, "score": 0, "creation_date": 1574755896, "post_id": 59029651, "comment_id": 104333808, "body": "Hey! Thanks for the reply. However, it&#39;s not enough for my needs. Please read my comments explaining why here: <a href=\"https://github.com/tipsy/javalin/issues/813#issuecomment-556504232\" rel=\"nofollow noreferrer\">github.com/tipsy/javalin/issues/813#issuecomment-556504232</a> and here: <a href=\"https://github.com/tipsy/javalin/issues/813#issuecomment-557511615\" rel=\"nofollow noreferrer\">github.com/tipsy/javalin/issues/813#issuecomment-557511615</a>"}], "tags": [], "owner": {"reputation": 321, "user_id": 255786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/999c81b67043858aac7a1ee04e6a4a99?s=128&d=identicon&r=PG", "display_name": "sa1nt", "link": "https://stackoverflow.com/users/255786/sa1nt"}, "is_accepted": false, "score": 3, "last_activity_date": 1574677423, "creation_date": 1574677423, "answer_id": 59029651, "question_id": 58951086, "link": "https://stackoverflow.com/questions/58951086/junit-assertions-dont-work-when-called-inside-a-javalin-handler/59029651#59029651", "title": "Junit assertions don&#39;t work when called inside a Javalin handler", "body": "<h1>TLDR</h1>\n\n<p>To make the test fail as you'd expect, add an assertion on the response you get from your Javalin instance.</p>\n\n<pre><code>    @Test\n    fun `javalin assertion should fail`() {\n        Javalin.create()\n            .get(\"/\") { assertTrue(false) } // or any expression that throws an Exception, like Kotlin's TODO()\n            .start()\n\n        val javalinResponse: HttpResponse&lt;Void&gt; = newHttpClient().send(\n            HttpRequest.newBuilder()\n                .uri(URI.create(\"http://localhost:7000/\"))\n                .GET().build(),\n            discarding()\n        )\n\n        assertThat(javalinResponse.statusCode()).isEqualTo(200) // will fail with Expected: 200, Actual: 500\n    }\n</code></pre>\n\n<h1>Details</h1>\n\n<p>There're two distinct steps in the test: new Javalin instance configuration + build, and calling that instance with a HttpClient.</p>\n\n<p>In Javalin configuration + build step it gets instructed to do <code>assertTrue(false)</code> when called on the <code>/</code> endpoint. <code>assertTrue(false)</code> will throw an <code>AssertionFailedError</code>, but the behavior will be the same if you throw something else there. Now, as many (all?) other webservers, Javalin / Jetty will try to catch any uncaught exceptions that happen within it and return a HTTP response with code 500 (Internal Server Error).</p>\n\n<p>Indeed, this all happens in another thread, as internally a Jetty webserver instance is being launched, which does the port listening, HTTP request / response handling and other important stuff.</p>\n\n<p>So when later in the test an HTTP call is performed to the new Javalin instance, it gets the 500 (Internal Server Error) response successfully, and as originally there are no assertions on the response <em>and</em> there were no uncaught exceptions, the test is deemed successful.</p>\n"}, {"tags": [], "owner": {"reputation": 4336, "user_id": 819651, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b3b2801b397b45b57b784c83b6274e22?s=128&d=identicon&r=PG", "display_name": "Lu&#237;s Soares", "link": "https://stackoverflow.com/users/819651/lu%c3%ads-soares"}, "is_accepted": true, "score": 1, "last_activity_date": 1591393838, "creation_date": 1591393838, "answer_id": 62224600, "question_id": 58951086, "link": "https://stackoverflow.com/questions/58951086/junit-assertions-dont-work-when-called-inside-a-javalin-handler/62224600#62224600", "title": "Junit assertions don&#39;t work when called inside a Javalin handler", "body": "<p>Never do assertions inside the Javalin handler, because if the test fails, the JUnit exception is swallowed by Javalin and the test fails silently (<a href=\"https://stackoverflow.com/a/59029651/819651\">better explained in the other answer</a>). The solution is to make an assertion outside, in the end, as in the <em>Arrange, Act, Assert</em> pattern.</p>\n\n<p>How? You store what you want to assert inside the handler and assert it later. For example, if it's a POST.</p>\n\n<pre><code>var postedBody: String? = null\nfakeProfileApi = Javalin.create().post(\"profile\") {\n    postedBody = it.body()\n}.start(1234)\nval profileGateway = ProfileGateway(apiUrl = \"http://localhost:1234\")\n\nprofileGateway.saveProfile(  // contains the HTTP POST\n   Profile(id = \"abc\", email = \"john.doe@gmail.com\".toEmail())\n)\n\nJSONAssert.assertEquals(\n    \"\"\" { \"id\": \"abc\", \"email\": \"johndoe@gmail.com\" } \"\"\",\n    postedBody, true\n)\n</code></pre>\n\n<p>If it's a GET, it's easier:</p>\n\n<pre><code>fakeProfileApi = Javalin.create().get(\"profile/abc\") {\n   it.result(\"\"\" {\"id\": \"abc\", \"email\": \"johndoe@gmail.com\"} \"\"\")\n}.start(1234)\nval profileGateway = ProfileGateway(apiUrl = \"http://localhost:1234\")\n\nval result = profileGateway.fetchProfile(\"abc\") // contains the HTTP GET\n\nassertEquals(\n   Profile(id = \"abc\", email = \"john.doe@gmail.com\".toEmail()),\n   result\n)\n</code></pre>\n\n<p><strong>More info</strong>: <a href=\"https://medium.com/@lsoares/unit-testing-a-gateway-with-javalin-24e3b7e88ef2\" rel=\"nofollow noreferrer\">Unit testing a gateway with Javalin</a></p>\n"}], "owner": {"reputation": 4336, "user_id": 819651, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/b3b2801b397b45b57b784c83b6274e22?s=128&d=identicon&r=PG", "display_name": "Lu&#237;s Soares", "link": "https://stackoverflow.com/users/819651/lu%c3%ads-soares"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 0, "accepted_answer_id": 62224600, "answer_count": 2, "score": 3, "last_activity_date": 1610891995, "creation_date": 1574242753, "last_edit_date": 1574292143, "question_id": 58951086, "link": "https://stackoverflow.com/questions/58951086/junit-assertions-dont-work-when-called-inside-a-javalin-handler", "title": "Junit assertions don&#39;t work when called inside a Javalin handler", "body": "<p>I have this test that launches a service at port <code>7000</code> and inside the only endpoint I do a failing assertion: </p>\n\n<pre><code>@Test\nfun `javalin assertion should fail`() {\n    Javalin.create()\n            .get(\"/\") { assertTrue(false) }\n            .start()\n\n    newHttpClient().send(\n            HttpRequest.newBuilder()\n                    .uri(URI.create(\"http://localhost:7000/\"))\n                    .GET().build(),\n            discarding()\n    )\n}\n</code></pre>\n\n<p>The problem is that the test always passes (but it should fail):</p>\n\n<p><a href=\"https://i.stack.imgur.com/qKM3V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qKM3V.png\" alt=\"enter image description here\"></a></p>\n\n<p>(same behavior happens by running <code>./gradlew test</code>)</p>\n\n<p>... even though there's a console output claiming that a test failed:</p>\n\n<pre><code>[Test worker] INFO io.javalin.Javalin - Listening on http://localhost:7000/\n[Test worker] INFO io.javalin.Javalin - Javalin started in 356ms \\o/\n[qtp2100106358-22] ERROR io.javalin.Javalin - Exception occurred while servicing http-request\norg.opentest4j.AssertionFailedError: expected: &lt;true&gt; but was: &lt;false&gt;\n    at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:55)\n    ..\n</code></pre>\n\n<p>Probably, it's being run in another thread, but I wonder if there's a way to attach it to the same context.\n(Weirdly, in another scenario in my app - that I couldn't isolate - it properly fails.)</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 11114, "user_id": 1712135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cErYR.png?s=128&g=1", "display_name": "deHaar", "link": "https://stackoverflow.com/users/1712135/dehaar"}, "edited": false, "score": 0, "creation_date": 1574240851, "post_id": 58950383, "comment_id": 104157333, "body": "Can you show us the <code>fun</code> and maybe some example code where it is called?"}], "answers": [{"comments": [{"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1574242048, "post_id": 58950722, "comment_id": 104158062, "body": "I find it easier to return Pair from methods that are not part of the &quot;public API&quot; of my application, for instance methods returning some kind of &quot;state&quot;. Usually, in these cases, I use destructive declarations, which work with pairs/triples as well as with data classes."}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "reply_to_user": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1574242512, "post_id": 58950722, "comment_id": 104158342, "body": "@Maro\u0161\u0160eleng, I guess you mean destruct<b>uring</b> declarations?  :-)  Yes, they can be useful \u2014 though you need to take care to get the values in the right order, especially if there&#39;s no obvious order and/or they&#39;re not all different types."}, {"owner": {"reputation": 1385, "user_id": 4971561, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh4.googleusercontent.com/-YIQlI2oeD5Q/AAAAAAAAAAI/AAAAAAAAAGA/jJHvlu2yYaI/photo.jpg?sz=128", "display_name": "Maro\u0161 \u0160eleng", "link": "https://stackoverflow.com/users/4971561/maro%c5%a1-%c5%a0eleng"}, "edited": false, "score": 0, "creation_date": 1574250284, "post_id": 58950722, "comment_id": 104162929, "body": "Oh, sorry about that. :D Haven&#39;t notice I was using it incorrectly"}, {"owner": {"reputation": 14274, "user_id": 2621917, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2ecd16dbe555b9596651e94668f71466?s=128&d=identicon&r=PG", "display_name": "Michael Piefel", "link": "https://stackoverflow.com/users/2621917/michael-piefel"}, "edited": false, "score": 0, "creation_date": 1574252480, "post_id": 58950722, "comment_id": 104164186, "body": "I would definitely consider my own data class if both returned values have the same type."}], "tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": true, "score": 3, "last_activity_date": 1574241550, "creation_date": 1574241550, "answer_id": 58950722, "question_id": 58950383, "link": "https://stackoverflow.com/questions/58950383/is-returning-pair-from-method-considered-a-good-practice-in-kotlin/58950722#58950722", "title": "Is returning pair from method considered a good practice in kotlin?", "body": "<p>There's nothing wrong with returning a Pair.</p>\n\n<p>But since Kotlin can create a simple data class in one line, it's often better to return one of those instead.\u00a0 That way, the two values have descriptive names instead of just \u2018first\u2019 and \u2018second\u2019, and you don't need to remember which order they're in.\u00a0 For example:</p>\n\n<pre><code>data class Person(val name: String, val age: Int)\n\nfun findPerson(): Person {\n    // \u2026\n    return Person(name, age)\n}\n\nfun main() {\n    val person = findPerson()\n    println(\"Name = ${person.name}, age = ${person.age}.\")\n}\n</code></pre>\n\n<p>(Of course, this is a contrived example, in which the returned values have an obvious relationship.\u00a0 But even when they don't, an \u2018XxxResult\u2019 data class can be easier to use than a Pair.)</p>\n"}], "owner": {"reputation": 384, "user_id": 6372038, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aOeNW.png?s=128&g=1", "display_name": "Smeagol", "link": "https://stackoverflow.com/users/6372038/smeagol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 58950722, "answer_count": 1, "score": 0, "last_activity_date": 1574241550, "creation_date": 1574240486, "question_id": 58950383, "link": "https://stackoverflow.com/questions/58950383/is-returning-pair-from-method-considered-a-good-practice-in-kotlin", "title": "Is returning pair from method considered a good practice in kotlin?", "body": "<p>I have a complex method that doesn't get more complex when I gain two different values inside the method. They're substracted from the same lib class, but my use of them will not be connected anymore in my code.<br>\nI also don't want to have them declared as class fields.</p>\n\n<p>Therefore my first idea is to return them as Pair because that means I don't need to call a very similar complex method twice. But on the other hand, it seems strange to return two unconnected values in Pair structure.</p>\n\n<p>My question is more general: <strong>Is returning a pair of two unconnected values (from my class point of view) considered a good practice?</strong></p>\n\n<p>I am in kotlin, so if there are differences between languages, I need the answer specifically for kotlin.</p>\n"}, {"tags": ["android", "kotlin", "suppress-warnings"], "comments": [{"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 1, "creation_date": 1574240984, "post_id": 58950340, "comment_id": 104157416, "body": "see <a href=\"https://proandroiddev.com/til-when-is-when-exhaustive-31d69f630a8b\" rel=\"nofollow noreferrer\">proandroiddev.com/til-when-is-when-exhaustive-31d69f630a8b</a>"}], "owner": {"reputation": 719, "user_id": 10490027, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/957907f25ab84bd34c249e506f6ea99c?s=128&d=identicon&r=PG&f=1", "display_name": "Bencri", "link": "https://stackoverflow.com/users/10490027/bencri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 385, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1574240350, "creation_date": 1574240350, "question_id": 58950340, "link": "https://stackoverflow.com/questions/58950340/can-we-add-a-suppress-flag-globally", "title": "Can we add a @Suppress flag globally?", "body": "<p>In kotlin, if we use a <code>when</code> block on an enum while exhausting all the enum values but without adding an <code>else</code> branch, we get this warning: \"Enum argument can be null in Java, but exhaustive when contains no null branch\".</p>\n\n<p>Android Studio then suggest to add the suppress flag <code>@Suppress(\"WHEN_ENUM_CAN_BE_NULL_IN_JAVA\")</code> either to the statement, function, class or file scope.</p>\n\n<p>Is there any way to add this to the project scope ? Since my project is 100% Kotlin I don't need this warning and would like to disable it globally. </p>\n"}, {"tags": ["android", "performance", "kotlin", "audio-recording", "screen-recording"], "owner": {"reputation": 35, "user_id": 10310319, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5hSLMzNDoFU/AAAAAAAAAAI/AAAAAAAAMks/Cp6GGbHK24I/photo.jpg?sz=128", "display_name": "Harish Dadi ", "link": "https://stackoverflow.com/users/10310319/harish-dadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1574240249, "creation_date": 1574240249, "question_id": 58950306, "link": "https://stackoverflow.com/questions/58950306/how-to-know-whether-an-android-app-allows-system-audio-capturing", "title": "How to know whether an android app allows System audio Capturing?", "body": "<p>I am building a screen recording application. I just want to know while recording a particular game on my phone, how to know whether the app is allowing the user to record the audio, so that I can show a toast or a dialog.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-cloud-messaging"], "comments": [{"owner": {"reputation": 464, "user_id": 11598177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nl2uJ.jpg?s=128&g=1", "display_name": "L2_Paver", "link": "https://stackoverflow.com/users/11598177/l2-paver"}, "edited": false, "score": 0, "creation_date": 1574239983, "post_id": 58950044, "comment_id": 104156817, "body": "you can put your notification manager inside the if statement"}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "reply_to_user": {"reputation": 464, "user_id": 11598177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nl2uJ.jpg?s=128&g=1", "display_name": "L2_Paver", "link": "https://stackoverflow.com/users/11598177/l2-paver"}, "edited": false, "score": 0, "creation_date": 1574240068, "post_id": 58950044, "comment_id": 104156877, "body": "How so? Doesn&#39;t <code>manager.createNotificationChannel(matchChannel)</code> just create the Notification Channel but not process future notifications?"}, {"owner": {"reputation": 464, "user_id": 11598177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nl2uJ.jpg?s=128&g=1", "display_name": "L2_Paver", "link": "https://stackoverflow.com/users/11598177/l2-paver"}, "edited": false, "score": 0, "creation_date": 1574240724, "post_id": 58950044, "comment_id": 104157268, "body": "Did you use a service that extends FirebaseMessagingService?"}, {"owner": {"reputation": 826, "user_id": 5142776, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/AZ6X1.jpg?s=128&g=1", "display_name": "Ahmed na", "link": "https://stackoverflow.com/users/5142776/ahmed-na"}, "edited": false, "score": 0, "creation_date": 1574240884, "post_id": 58950044, "comment_id": 104157347, "body": "@Zorgan <code>createNotificationChannel</code> only creates the Channel that the user can customise in the notification settings of the application (System too) , but creating the notification is a different process , you can find it as suggested by other in the FirebaseMessagingService"}, {"owner": {"reputation": 1374, "user_id": 9037725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2b4798fb7cc61e665b93dbd93e07a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Oberoi", "link": "https://stackoverflow.com/users/9037725/shivam-oberoi"}, "edited": false, "score": 0, "creation_date": 1574240949, "post_id": 58950044, "comment_id": 104157394, "body": "set flag and check if it is coming from firebase or shared preferences.."}], "answers": [{"comments": [{"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 1, "creation_date": 1575539406, "post_id": 58950283, "comment_id": 104603464, "body": "onMessageReceived() only gets called when inside the app - I need to block the notification in the background."}], "tags": [], "owner": {"reputation": 745, "user_id": 5293867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZYLGf.png?s=128&g=1", "display_name": "Koushik Mondal", "link": "https://stackoverflow.com/users/5293867/koushik-mondal"}, "is_accepted": false, "score": 0, "last_activity_date": 1574240168, "creation_date": 1574240168, "answer_id": 58950283, "question_id": 58950044, "link": "https://stackoverflow.com/questions/58950044/how-to-block-a-notification-that-comes-through-based-on-a-sharedpreferences-valu/58950283#58950283", "title": "How to block a notification that comes through based on a SharedPreferences value?", "body": "<p>See your manifest file there will be a service like that</p>\n\n<pre><code>&lt;service\n    android:name=\".java.MyFirebaseMessagingService\"\n    android:exported=\"false\"&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=\"com.google.firebase.MESSAGING_EVENT\" /&gt;\n    &lt;/intent-filter&gt;\n&lt;/service&gt;\n</code></pre>\n\n<p>Then goto <code>MyFirebaseMessagingService.java</code> file and check your shared preference value and set your condition for notification. Try this..</p>\n\n<pre><code>@Override\npublic void onMessageReceived(RemoteMessage remoteMessage) {\n\n    boolean flag = sharedPref.getBoolean(\"online\", false);\n\n    // Check if message contains a notification payload.\n    if (remoteMessage.getNotification() != null) {\n\n          if(flag){\n             //TODO write your code here to set notification and notify\n          }\n\n    }\n\n} \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1575542569, "post_id": 59193087, "comment_id": 104605163, "body": "I just added <code>android:stopWithTask=&quot;false&quot;</code> and it still didn&#39;t call <code>onMessagedReceived()</code> in the background"}, {"owner": {"reputation": 458, "user_id": 11608990, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8f17HvgYrxc/AAAAAAAAAAI/AAAAAAAAACs/BYDZzle14LQ/photo.jpg?sz=128", "display_name": "Finn Marquardt", "link": "https://stackoverflow.com/users/11608990/finn-marquardt"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1575542839, "post_id": 59193087, "comment_id": 104605309, "body": "hm okay that is weird because for my project it works, I create all the notifications manually in the FCMService and it works both when the app is in background and closed completely.  did you remove the return statement in the creation before testing?"}, {"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1575543503, "post_id": 59193087, "comment_id": 104605707, "body": "Yes I removed the <code>return</code> statement. What do you mean you created the notifications manually? I created mine via Cloud Functions"}, {"owner": {"reputation": 458, "user_id": 11608990, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8f17HvgYrxc/AAAAAAAAAAI/AAAAAAAAACs/BYDZzle14LQ/photo.jpg?sz=128", "display_name": "Finn Marquardt", "link": "https://stackoverflow.com/users/11608990/finn-marquardt"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1575544326, "post_id": 59193087, "comment_id": 104606136, "body": "All notifications I create are done inside the msg received, basically I do only get data &quot;push&quot; notifications from fcm and then create the notification with the builder:  put the actual creation of a notification into the main answer for readability ;)"}], "tags": [], "owner": {"reputation": 458, "user_id": 11608990, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8f17HvgYrxc/AAAAAAAAAAI/AAAAAAAAACs/BYDZzle14LQ/photo.jpg?sz=128", "display_name": "Finn Marquardt", "link": "https://stackoverflow.com/users/11608990/finn-marquardt"}, "is_accepted": false, "score": 0, "last_activity_date": 1575544460, "last_edit_date": 1575544460, "creation_date": 1575541686, "answer_id": 59193087, "question_id": 58950044, "link": "https://stackoverflow.com/questions/58950044/how-to-block-a-notification-that-comes-through-based-on-a-sharedpreferences-valu/59193087#59193087", "title": "How to block a notification that comes through based on a SharedPreferences value?", "body": "<pre><code>    &lt;service\n        android:name=\".fcm.FCMService\"\n        android:enabled=\"true\"\n        android:exported=\"false\"\n        android:stopWithTask=\"false\"&gt; \n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.google.firebase.MESSAGING_EVENT\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n</code></pre>\n\n<p>not really well documented but setting it to false will keep the service alive even if the app is in background or stopped\n<a href=\"https://developer.android.com/reference/android/R.attr.html#stopWithTask\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/R.attr.html#stopWithTask</a></p>\n\n<p>this way you can handle the blocking in the on msg received method as suggested by the previous poster</p>\n\n<pre><code> NotificationCompat.Builder notificationBuilder = new NotificationCompat.Builder(this, Constants.NOTIFICATION_CHANNEL_QA_ID)\n            .setSmallIcon(R.drawable.icon_notif)\n            .setColor(getResources().getColor(R.color.primary))\n            .setContentTitle(title)\n            .setContentText(text)\n            .setAutoCancel(true)\n            .setStyle(new NotificationCompat.BigTextStyle()\n               .bigText(text)\n            );\n\n    Intent intent = new Intent(getApplicationContext(), LauncherActivty.class);\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\n\n    //use the bundled url if it is there and we have more then 1 notification for this type\n    if(amount &gt; 1 &amp;&amp; !bundledURL.equals(\"\")){\n        intent.putExtra(\"url\", bundledURL);\n    }else{\n        intent.putExtra(\"url\", url);\n    }\n\n    intent.putExtra(\"notification_group\", notificationGroup);\n    intent.putExtra(\"notification_group_id\", notificationGroupID);\n    intent.putExtra(\"notification_id\", notificationID);\n    intent.putExtra(\"is_group\", isGroup);\n\n    PendingIntent pendingIntent = PendingIntent.getActivity(getApplicationContext(), 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n    notificationBuilder.setContentIntent(pendingIntent);\n    NotificationManager notificationManager =  (NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE);\n    notificationManager.notify(notificationGroup, Constants.NOTIFICATION_ID, notificationBuilder.build());\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1575543681, "post_id": 59193402, "comment_id": 104605796, "body": "Thanks this explains it well. However I&#39;m looking to disable notifications based on local data (SharedPreferences data), not on the FCM body."}, {"owner": {"reputation": 1283, "user_id": 7216441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8796388f886407dfca1cf25093c0aa24?s=128&d=identicon&r=PG&f=1", "display_name": "Stanislav Shamilov", "link": "https://stackoverflow.com/users/7216441/stanislav-shamilov"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1575551947, "post_id": 59193402, "comment_id": 104610271, "body": "Doing so you will receive all push messages in your <code>Service</code> and there you will be able to apply your logic. The thing is that modifying the structure of your message will give you an ability to control everything on your own instead of allowing the system to do something automatically. Now your problem exists because the system shows those notifications by itself when the app is offline. By throwing out &quot;notification&quot; part of the message you will tell the system that you want to handle push messages (i.e. show notifications) by yourself"}], "tags": [], "owner": {"reputation": 1283, "user_id": 7216441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8796388f886407dfca1cf25093c0aa24?s=128&d=identicon&r=PG&f=1", "display_name": "Stanislav Shamilov", "link": "https://stackoverflow.com/users/7216441/stanislav-shamilov"}, "is_accepted": false, "score": 4, "last_activity_date": 1575542671, "creation_date": 1575542671, "answer_id": 59193402, "question_id": 58950044, "link": "https://stackoverflow.com/questions/58950044/how-to-block-a-notification-that-comes-through-based-on-a-sharedpreferences-valu/59193402#59193402", "title": "How to block a notification that comes through based on a SharedPreferences value?", "body": "<p>If I understood your question correctly, you're talking about the situation when you're receiving push messages when your app isn't running. You've mentioned that <code>onMessageReceived()</code> only gets called when your app is in running state, but your notifications are displayed even without this method being called by the system. Therefore, we can conclude that those notifications are drawn by the system automatically. This behavior is controlled by \"notification\" and \"data\" sections in the body of your FCM message.</p>\n\n<p>FCM messages have a complicated specification that can be found <a href=\"https://firebase.google.com/docs/reference/fcm/rest/v1/projects.messages\" rel=\"nofollow noreferrer\">here</a>. But since we're only interested in \"notification\" and \"data\" sections, we can depend on their behavior:</p>\n\n<p><strong>First case - both \"notification\" and \"data\" sections are present</strong></p>\n\n<p>Example:</p>\n\n<pre><code>{\n  \"message\":{\n    \"notification\": { /*...*/ },\n    \"data\": {/*...*/}\n  }\n}\n</code></pre>\n\n<p>In this case if your app is in background state,</p>\n\n<ul>\n<li>The system will automatically show a notification;</li>\n<li>If this notification is clicked, an activity will be launched;</li>\n<li>The intent for the activity will contain \"data\" body and some technical information about the FCM message.</li>\n</ul>\n\n<p><strong>Second case - only \"notification\" section is present</strong></p>\n\n<p>Example:</p>\n\n<pre><code>{\n  \"message\":{\n    \"notification\": { /*...*/ },\n  }\n}\n</code></pre>\n\n<p>In this case if your app is in background state,</p>\n\n<ul>\n<li>The system will automatically show a notification;</li>\n<li>If this notification is clicked, an activity will be launched;</li>\n<li>The intent for the activity will contain <strong>only</strong> technical information about the FCM message.</li>\n</ul>\n\n<p><strong>Third case - only \"data\" section is present</strong></p>\n\n<p>Example:</p>\n\n<pre><code>{\n  \"message\":{\n    \"data\": {/*...*/}\n  }\n}\n</code></pre>\n\n<p>In this case if your app is in background state,</p>\n\n<ul>\n<li>The system <strong>will not</strong> show a notification automatically;</li>\n<li><code>onMessageReceived()</code> will be called.</li>\n</ul>\n\n<p>So, having looked through this information, you can try changing the body of your FCM message(i.e. throwing away \"notification\" section) to disallow the system to handle draw notifications by itself.</p>\n\n<p>Having your messages being handled by <code>onMessageReceived()</code> <strong>every time</strong>, you can put your logic with that flag there.</p>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 152, "favorite_count": 0, "answer_count": 3, "score": -4, "last_activity_date": 1575544460, "creation_date": 1574239424, "last_edit_date": 1575542062, "question_id": 58950044, "link": "https://stackoverflow.com/questions/58950044/how-to-block-a-notification-that-comes-through-based-on-a-sharedpreferences-valu", "title": "How to block a notification that comes through based on a SharedPreferences value?", "body": "<p>I have a SharedPreference: <code>sharedPref.getBoolean(\"online\", false)</code></p>\n\n<p>If I get a Notification whilst <code>online</code> is false, I want to block it. Typically there won't be a notification if the user is offline but very occasionally I get one, and I'd like this as a backup to prevent the notification.</p>\n\n<p>The notification is sent via <a href=\"https://firebase.google.com/docs/cloud-messaging\" rel=\"nofollow noreferrer\">Firebase Cloud Messaging (FCM)</a> and here is how it's processed in my application:</p>\n\n<pre><code>class CustomApplication : Application() {\n\n    val MATCH_CHANNEL_ID = \"MATCH_CHANNEL\"\n\n    companion object {\n        var database: AppDatabase? = null\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n        val settings: FirebaseFirestoreSettings = FirebaseFirestoreSettings.Builder().setPersistenceEnabled(false).build()\n        FirebaseFirestore.getInstance().firestoreSettings = settings\n        CustomApplication.database = Room.databaseBuilder(this, AppDatabase::class.java, \"AppDatabase\").build()\n        createNotificationChannel()\n    }\n\n    private fun createNotificationChannel(){\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O){\n            val matchChannel = NotificationChannel(MATCH_CHANNEL_ID, \"Nearby matches\", NotificationManager.IMPORTANCE_HIGH)\n            matchChannel.description = \"Nearby matches\"\n            val manager: NotificationManager = getSystemService(NotificationManager::class.java)\n            manager.createNotificationChannel(matchChannel)\n        }\n    }\n}\n</code></pre>\n\n<p>Is there any way I can prevent notifications coming in if <code>online</code> is false in SharedPreferences?</p>\n\n<p>EDIT:</p>\n\n<p>When I get the notification FCM in the background, it calls . <code>FirebaseMessagingService.onCreate()</code>:</p>\n\n<pre><code>class CustomFirebaseMessagingService : FirebaseMessagingService() {\n\n    val db = FirebaseFirestore.getInstance()\n\n    override fun onCreate() {\n        Log.d(TAG, \"CustomFirebaseMessagingService onCreate()\")\n        return\n        super.onCreate()\n    } \n</code></pre>\n\n<p>I've overwritten <code>onCreate()</code> to return before <code>super.onCreate()</code> - in the hopes of cancelling the notification. However, the notification still fires.</p>\n\n<p>is there another function in <code>CustomFirebaseMessagingService()</code> I can override to intercept the notification and cancel it?</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"tags": [], "owner": {"reputation": 744, "user_id": 9422267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17bd9df9ace7c2a12fa1ff846f850787?s=128&d=identicon&r=PG&f=1", "display_name": "Avinash", "link": "https://stackoverflow.com/users/9422267/avinash"}, "is_accepted": false, "score": 0, "last_activity_date": 1574239028, "creation_date": 1574239028, "answer_id": 58949934, "question_id": 58949724, "link": "https://stackoverflow.com/questions/58949724/is-there-a-way-to-use-something-like-asynctasks-onprogressupdate-using-kotlin/58949934#58949934", "title": "Is there a way to use something like AsyncTask&#39;s &#39;onProgressUpdate&#39; using Kotlin&#39;s Anko library?", "body": "<pre><code> Please read this article :&gt;\n</code></pre>\n\n<p><a href=\"https://developer.android.com/kotlin/coroutines\" rel=\"nofollow noreferrer\">https://developer.android.com/kotlin/coroutines</a></p>\n\n<p>it may helps you.</p>\n"}], "owner": {"reputation": 131, "user_id": 9129663, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-Zhbhsh2gVbo/AAAAAAAAAAI/AAAAAAAAJvY/zNCGLjbFB-I/photo.jpg?sz=128", "display_name": "Aden Diamond", "link": "https://stackoverflow.com/users/9129663/aden-diamond"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574239028, "creation_date": 1574238291, "question_id": 58949724, "link": "https://stackoverflow.com/questions/58949724/is-there-a-way-to-use-something-like-asynctasks-onprogressupdate-using-kotlin", "title": "Is there a way to use something like AsyncTask&#39;s &#39;onProgressUpdate&#39; using Kotlin&#39;s Anko library?", "body": "<p>I have heard that AsyncTask will be deprecated in Android 11 in favour of Kotlin's Anko library's 'doAsync{}', 'uiThread{}', etc. blocks. I want to use this and update a progress bar after each loop in a for loop. Is there a way without using AsyncTask? Or am I way off? Please let me know because I am quite a beginner when it comes to any sort of programming in the first place.</p>\n"}, {"tags": ["android", "kotlin", "retrofit", "rx-java"], "comments": [{"owner": {"reputation": 620, "user_id": 4923046, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh4.googleusercontent.com/-t3LDa9cf8Aw/AAAAAAAAAAI/AAAAAAAAAJE/JVM06yAXyhY/photo.jpg?sz=128", "display_name": "Vasudev Vyas", "link": "https://stackoverflow.com/users/4923046/vasudev-vyas"}, "edited": false, "score": 0, "creation_date": 1574242963, "post_id": 58949477, "comment_id": 104158610, "body": "follow this answer you will get result. I did it and it works for me. check wasi Sadam answer   <a href=\"https://stackoverflow.com/questions/52553210/retrofit-2-multipart-image-upload-with-data\" title=\"retrofit 2 multipart image upload with data\">stackoverflow.com/questions/52553210/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 8191430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gl10Q.jpg?s=128&g=1", "display_name": "Ahmed Abdeen", "link": "https://stackoverflow.com/users/8191430/ahmed-abdeen"}, "edited": false, "score": 0, "creation_date": 1574238782, "post_id": 58949711, "comment_id": 104156203, "body": "It says @Field parameters can only be used with form encoding"}], "tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1574238261, "creation_date": 1574238261, "answer_id": 58949711, "question_id": 58949477, "link": "https://stackoverflow.com/questions/58949477/how-to-send-array-of-objects-in-retrofit-multipart-request/58949711#58949711", "title": "How to send array of objects in retrofit multipart request", "body": "<p>Use @Field</p>\n\n<pre><code>@Field(\"contributors[]\") contributors: MutableList&lt;Contributor&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 123, "user_id": 9262291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jv2oT.jpg?s=128&g=1", "display_name": "AkashToSky", "link": "https://stackoverflow.com/users/9262291/akashtosky"}, "is_accepted": false, "score": 0, "last_activity_date": 1574239064, "creation_date": 1574239064, "answer_id": 58949941, "question_id": 58949477, "link": "https://stackoverflow.com/questions/58949477/how-to-send-array-of-objects-in-retrofit-multipart-request/58949941#58949941", "title": "How to send array of objects in retrofit multipart request", "body": "<p>You can use @partMap</p>\n\n<pre><code>@PartMap() Map&lt;String, List&lt;Contributor&gt;&gt; contibutors\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 93, "user_id": 8191430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gl10Q.jpg?s=128&g=1", "display_name": "Ahmed Abdeen", "link": "https://stackoverflow.com/users/8191430/ahmed-abdeen"}, "is_accepted": true, "score": 1, "last_activity_date": 1574242835, "creation_date": 1574242835, "answer_id": 58951111, "question_id": 58949477, "link": "https://stackoverflow.com/questions/58949477/how-to-send-array-of-objects-in-retrofit-multipart-request/58951111#58951111", "title": "How to send array of objects in retrofit multipart request", "body": "<p>Here is the only way worked for me.</p>\n\n<p>First Created Hashmap and mapped my data on this way</p>\n\n<pre><code>val contributorsMap: HashMap&lt;String, String&gt; = HashMap()\n\n    for((index, contributor) in contributorList.withIndex()){\n\n        contributorsMap[\"contributors[${index}][id]\"] = \"${contributor.id}\"\n        contributorsMap[\"contributors[${index}][role]\"] = contributor.role\n\n    }\n</code></pre>\n\n<p>Then updated my function parameter to @PartMap instead</p>\n\n<pre><code>@Multipart\n@POST(\"project/create\")\nfun createProject(\n    @Header(\"Authorization\") token: String,\n    @Part(\"title\") title: String,\n    @Part img: MultipartBody.Part,\n    @Part(\"release_date\") releaseDate: String,\n    @PartMap contributors: HashMap&lt;String, String&gt;,\n): Single&lt;Response&lt;String&gt;&gt;\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 8191430, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Gl10Q.jpg?s=128&g=1", "display_name": "Ahmed Abdeen", "link": "https://stackoverflow.com/users/8191430/ahmed-abdeen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1363, "favorite_count": 0, "accepted_answer_id": 58951111, "answer_count": 3, "score": 3, "last_activity_date": 1574242835, "creation_date": 1574237340, "last_edit_date": 1574239055, "question_id": 58949477, "link": "https://stackoverflow.com/questions/58949477/how-to-send-array-of-objects-in-retrofit-multipart-request", "title": "How to send array of objects in retrofit multipart request", "body": "<p>I want to send array objects with multipart data. I tried many ways but it is not working. My issue with the contributor parameter. Server says. contributor.0.id is required &amp; contributor.0.role is required and so on for remaining items in the list. Server reads that there is a contributor array and it has items but he can't extract it for some reason.<a href=\"https://i.stack.imgur.com/oYTGu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oYTGu.png\" alt=\"Here is how it works on postman (POST/form-data) I can&#39;t do the same with retrofit. \"></a></p>\n\n<p>Any help please?</p>\n\n<pre><code>@Multipart\n@POST(\"project/create\")\nfun createProject(\n    @Header(\"Authorization\") token: String,\n    @Part(\"title\") title: String,\n    @Part img: MultipartBody.Part,\n    @Part(\"release_date\") releaseDate: String,\n    @Part(\"contributors[]\") contributors: MutableList&lt;Contributor&gt;\n): Single&lt;Response&lt;String&gt;&gt;\n</code></pre>\n\n<p>Class Contributor</p>\n\n<pre><code>class Contributor : Serializable{\n\n@SerializedName(\"id\")\n@Expose\nvar id: Int = 0\n\n@SerializedName(\"role\")\n@Expose\nvar role: String = \"\"\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["java", "android", "kotlin", "translate"], "answers": [{"comments": [{"owner": {"reputation": 715, "user_id": 6876276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pHEdl.jpg?s=128&g=1", "display_name": "J-Jamet", "link": "https://stackoverflow.com/users/6876276/j-jamet"}, "edited": false, "score": 0, "creation_date": 1574237768, "post_id": 58949305, "comment_id": 104155749, "body": "Thank you that&#39;s what I thought but I do not know if cast have an impact on performance or memory allocated. As I process a lot of data I will not like the method to be slower. In my mind the cast in java is implicit but in fact I do not know how the bytecode behaves."}, {"owner": {"reputation": 715, "user_id": 6876276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pHEdl.jpg?s=128&g=1", "display_name": "J-Jamet", "link": "https://stackoverflow.com/users/6876276/j-jamet"}, "edited": false, "score": 0, "creation_date": 1574244258, "post_id": 58949305, "comment_id": 104159367, "body": "Unit tests did not succeed with this solution."}], "tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1574236607, "creation_date": 1574236607, "answer_id": 58949305, "question_id": 58949247, "link": "https://stackoverflow.com/questions/58949247/how-to-translate-code-with-byte-operation-from-java-to-kotlin/58949305#58949305", "title": "How to translate code with byte operation from Java to Kotlin?", "body": "<p>It should be</p>\n\n<pre><code>import java.util.*\nimport kotlin.experimental.and\n\n fun bytestoUUID(buf: ByteArray, offset: Int): UUID {\n    var lsb: Long = 0\n    for (i in 15 downTo 8) {\n        lsb = lsb shl 8 or ((buf[i + offset] and 0xff.toByte()).toLong())\n    }\n    var msb: Long = 0\n    for (i in 7 downTo 0) {\n        msb = msb shl 8 or ((buf[i + offset] and 0xff.toByte()).toLong())\n    }\n    return UUID(msb, lsb)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 715, "user_id": 6876276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pHEdl.jpg?s=128&g=1", "display_name": "J-Jamet", "link": "https://stackoverflow.com/users/6876276/j-jamet"}, "is_accepted": true, "score": 0, "last_activity_date": 1575034474, "creation_date": 1575034474, "answer_id": 59105836, "question_id": 58949247, "link": "https://stackoverflow.com/questions/58949247/how-to-translate-code-with-byte-operation-from-java-to-kotlin/59105836#59105836", "title": "How to translate code with byte operation from Java to Kotlin?", "body": "<p>I finally found the good cast to do for the unit tests to work.</p>\n\n<pre><code>fun bytestoUUID(buf: ByteArray, offset: Int): UUID {\n    var lsb: Long = 0\n    for (i in 15 downTo 8) {\n        lsb = lsb shl 8 or (buf[i + offset].toLong() and 0xff)\n    }\n\n    var msb: Long = 0\n    for (i in 7 downTo 0) {\n        msb = msb shl 8 or (buf[i + offset].toLong() and 0xff)\n    }\n\n    return UUID(msb, lsb)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 5479582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xrKhb.png?s=128&g=1", "display_name": "djibril diop", "link": "https://stackoverflow.com/users/5479582/djibril-diop"}, "is_accepted": false, "score": 0, "last_activity_date": 1575036452, "creation_date": 1575036452, "answer_id": 59106316, "question_id": 58949247, "link": "https://stackoverflow.com/questions/58949247/how-to-translate-code-with-byte-operation-from-java-to-kotlin/59106316#59106316", "title": "How to translate code with byte operation from Java to Kotlin?", "body": "<pre><code>fun bytestoUUID(buf: ByteArray, offset: Int): UUID? {\n    var lsb: Long = 0\n    for (i in 15 downTo 8) {\n        lsb = lsb shl 8 or (buf[i + offset] and 0xff)\n    }\n    var msb: Long = 0\n    for (i in 7 downTo 0) {\n        msb = msb shl 8 or (buf[i + offset] and 0xff)\n    }\n    return UUID(msb, lsb)\n}\n</code></pre>\n"}], "owner": {"reputation": 715, "user_id": 6876276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pHEdl.jpg?s=128&g=1", "display_name": "J-Jamet", "link": "https://stackoverflow.com/users/6876276/j-jamet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 1, "accepted_answer_id": 59105836, "answer_count": 3, "score": 0, "last_activity_date": 1575036452, "creation_date": 1574236373, "question_id": 58949247, "link": "https://stackoverflow.com/questions/58949247/how-to-translate-code-with-byte-operation-from-java-to-kotlin", "title": "How to translate code with byte operation from Java to Kotlin?", "body": "<p>I would like to translate this method in Kotlin but I do not know what are the variables to cast to do things correctly and have the right operations memories :</p>\n\n<pre><code>public static UUID bytestoUUID(byte[] buf, int offset) {\n    long lsb = 0;\n    for (int i = 15; i &gt;= 8; i--) {\n        lsb = (lsb &lt;&lt; 8) | (buf[i + offset] &amp; 0xff);\n    }\n\n    long msb = 0;\n    for (int i = 7; i &gt;= 0; i--) {\n        msb = (msb &lt;&lt; 8) | (buf[i + offset] &amp; 0xff);\n    }\n\n    return new UUID(msb, lsb);\n}\n</code></pre>\n\n<p>Do you have the right way? Thank you</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1574235441, "post_id": 58948987, "comment_id": 104154773, "body": "Don&#39;t understand your question. Please clear"}, {"owner": {"reputation": 1, "user_id": 12316399, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b_H5o926qDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcWB19hA3PaG074qwsL7cCO8PtVA/photo.jpg?sz=128", "display_name": "thusy ram", "link": "https://stackoverflow.com/users/12316399/thusy-ram"}, "reply_to_user": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1574235554, "post_id": 58948987, "comment_id": 104154814, "body": "i edited above sir. i put the EditText inside EditText  the  i didn&#39;t write anything else. why"}, {"owner": {"reputation": 1, "user_id": 12316399, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b_H5o926qDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcWB19hA3PaG074qwsL7cCO8PtVA/photo.jpg?sz=128", "display_name": "thusy ram", "link": "https://stackoverflow.com/users/12316399/thusy-ram"}, "reply_to_user": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1574235594, "post_id": 58948987, "comment_id": 104154832, "body": "i cannot write the android:layout_width height inside the EditText why i don&#39;t"}, {"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1574235644, "post_id": 58948987, "comment_id": 104154849, "body": "But I can, Check answer and let me know"}, {"owner": {"reputation": 1, "user_id": 12316399, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b_H5o926qDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcWB19hA3PaG074qwsL7cCO8PtVA/photo.jpg?sz=128", "display_name": "thusy ram", "link": "https://stackoverflow.com/users/12316399/thusy-ram"}, "reply_to_user": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1574235967, "post_id": 58948987, "comment_id": 104154994, "body": "if i type first two letter properties should properties displayed not displayed"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1574236665, "post_id": 58948987, "comment_id": 104155291, "body": "what does this have to do with kotlin ?"}, {"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 1, "creation_date": 1574236794, "post_id": 58948987, "comment_id": 104155350, "body": "Check this thread: <a href=\"https://stackoverflow.com/questions/30684613/android-studio-xml-editor-autocomplete-not-working-with-support-libraries\" title=\"android studio xml editor autocomplete not working with support libraries\">stackoverflow.com/questions/30684613/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12316399, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b_H5o926qDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcWB19hA3PaG074qwsL7cCO8PtVA/photo.jpg?sz=128", "display_name": "thusy ram", "link": "https://stackoverflow.com/users/12316399/thusy-ram"}, "edited": false, "score": 0, "creation_date": 1574235868, "post_id": 58949053, "comment_id": 104154954, "body": "sir my problem is if i type layout the properties not displayed not working"}], "tags": [], "owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "is_accepted": false, "score": 1, "last_activity_date": 1574235623, "creation_date": 1574235623, "answer_id": 58949053, "question_id": 58948987, "link": "https://stackoverflow.com/questions/58948987/android-kotlin-suggestions-not-showing-in-xml/58949053#58949053", "title": "Android Kotlin Suggestions Not Showing in XML", "body": "<p>Try like below:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;EditText \n        android:layout_height=\"wrap_content\"\n        android:layout_width=\"match_parent\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1374, "user_id": 9037725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc2b4798fb7cc61e665b93dbd93e07a1?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Oberoi", "link": "https://stackoverflow.com/users/9037725/shivam-oberoi"}, "is_accepted": false, "score": 0, "last_activity_date": 1574235888, "creation_date": 1574235888, "answer_id": 58949133, "question_id": 58948987, "link": "https://stackoverflow.com/questions/58948987/android-kotlin-suggestions-not-showing-in-xml/58949133#58949133", "title": "Android Kotlin Suggestions Not Showing in XML", "body": "<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;EditText \n        android:layout_height=\"wrap_content\"\n        android:layout_width=\"match_parent\" /&gt;\n\n &lt;TextView\n        android:layout_height=\"wrap_content\"\n        android:layout_width=\"match_parent\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 180, "user_id": 10259099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zOFWi.png?s=128&g=1", "display_name": "Rofie Sagara", "link": "https://stackoverflow.com/users/10259099/rofie-sagara"}, "is_accepted": false, "score": 0, "last_activity_date": 1574236134, "creation_date": 1574236134, "answer_id": 58949191, "question_id": 58948987, "link": "https://stackoverflow.com/questions/58948987/android-kotlin-suggestions-not-showing-in-xml/58949191#58949191", "title": "Android Kotlin Suggestions Not Showing in XML", "body": "<p>Gradle (click elephant icon) or File -> Inviladate Cache/Restart</p>\n"}], "owner": {"reputation": 1, "user_id": 12316399, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b_H5o926qDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcWB19hA3PaG074qwsL7cCO8PtVA/photo.jpg?sz=128", "display_name": "thusy ram", "link": "https://stackoverflow.com/users/12316399/thusy-ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "answer_count": 3, "score": -4, "last_activity_date": 1574239684, "creation_date": 1574235290, "last_edit_date": 1574239684, "question_id": 58948987, "link": "https://stackoverflow.com/questions/58948987/android-kotlin-suggestions-not-showing-in-xml", "title": "Android Kotlin Suggestions Not Showing in XML", "body": "<p>when i am going to design the activity_mail.xml i just change the layout type as LinearLayout but i cannot write anything i created to look like this i cannot write the android:layout_width height inside the EditText why i don't</p>\n\n<pre><code>&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;EditText/&gt;\n\n\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}, {"tags": ["spring", "docker", "debugging", "tomcat", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 147, "user_id": 2038502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2867202c351b51cd378833f8f8f0153f?s=128&d=identicon&r=PG", "display_name": "Daltrey Waters", "link": "https://stackoverflow.com/users/2038502/daltrey-waters"}, "is_accepted": true, "score": 1, "last_activity_date": 1574317814, "creation_date": 1574317814, "answer_id": 58968590, "question_id": 58948974, "link": "https://stackoverflow.com/questions/58948974/failing-to-debug-kotlin-tomcat-web-app-with-intellij-and-docker/58968590#58968590", "title": "Failing to Debug Kotlin Tomcat web app with IntelliJ and docker", "body": "<p>After 4 days I figured out what's going on. I'm placing this here so anyone else can know if they hit the same issue.</p>\n\n<p>You need to add this to your dockerfile</p>\n\n<p>ENV JAVA_TOOL_OPTIONS -agentlib:jdwp=transport=dt_socket,address=8000,server=y,suspend=n</p>\n\n<p>Then create a docker configuration with the following run options</p>\n\n<p>-d -p8080:8080 -p8000:8000</p>\n\n<p>Create a remote configuration with the port 8000</p>\n\n<p>Place breakpoints BEFORE kick-starting any debugging sessions - it won't get picked at run-time</p>\n\n<p>Then whenever you wish to debug your Dockerized Kotlin Spring Boot Tom Cat app (say that 3 times fast), launch the docker config first THEN launch the debug remote attaching to it.</p>\n\n<p>And that'll be that.</p>\n"}], "owner": {"reputation": 147, "user_id": 2038502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2867202c351b51cd378833f8f8f0153f?s=128&d=identicon&r=PG", "display_name": "Daltrey Waters", "link": "https://stackoverflow.com/users/2038502/daltrey-waters"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 58968590, "answer_count": 1, "score": 0, "last_activity_date": 1574317814, "creation_date": 1574235231, "question_id": 58948974, "link": "https://stackoverflow.com/questions/58948974/failing-to-debug-kotlin-tomcat-web-app-with-intellij-and-docker", "title": "Failing to Debug Kotlin Tomcat web app with IntelliJ and docker", "body": "<p>I'm attempting to remote debug a simple Kotlin based tomcat web app with Spring Boot that's relying on docker container with IntelliJ. </p>\n\n<p>The app code is - </p>\n\n<pre><code>package com.microservices.MyApp\n\nimport org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.runApplication\nimport org.springframework.web.bind.annotation.GetMapping\nimport org.springframework.web.bind.annotation.RestController\n\n@SpringBootApplication\nclass MyAppApplication\n\n@RestController\nclass GreetingsController\n{\n    @GetMapping(\"/\")\n    fun greetings() = \"hello from Docker\"\n}\n\nfun main(args: Array&lt;String&gt;)\n{\n    runApplication&lt;MyAppApplication&gt;(*args)\n}\n</code></pre>\n\n<p>I add a breakpoint on </p>\n\n<pre><code>fun greetings() = \"hello from Docker\"\n</code></pre>\n\n<p>Just as a simple test. When I run the app locally (not via docker) break point works fine when I go to localhost:8080</p>\n\n<p>Now, to get it working with docker I created a docker file - </p>\n\n<pre><code>FROM openjdk:8-jdk-alpine\nADD target/*.jar microservice.jar\nENTRYPOINT [\"java\", \"-jar\", \"microservice.jar\"]\n</code></pre>\n\n<p>I have a simple docker edit config, that when I run I provide \"-d -p8080:8080\" as an argument. I again hit localhost:8080 and it works fine.</p>\n\n<p>Now, to debug that, I create a Remote edit config, set \"Launch docker before debug\" with the docker configuration I provided above, set the port to 5005. I run the remote config, launches fine, I hit localhost:8080 - works fine. </p>\n\n<p>So i'm getting the output I want. However, when I set a breakpoint on the greetings() function - unlike when I'm running the app locally (that is not with docker container) it FAILS to trigger the breakpoint. </p>\n\n<p>I have tried different ports for the remote config (8000) and nothing. I tried exposing different ports in the docker config and nothing. I simplye CANNOT get that breakpoint to get triggered when I'm running a remote debug session with Docker, but do manage to easily trigger it when I'm running the app locally.</p>\n\n<p>Anyone have any insight what could be going on? I'm using IntelliJ Community 2019.2.4</p>\n"}, {"tags": ["kotlin", "null", "optional"], "comments": [{"owner": {"reputation": 14274, "user_id": 2621917, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2ecd16dbe555b9596651e94668f71466?s=128&d=identicon&r=PG", "display_name": "Michael Piefel", "link": "https://stackoverflow.com/users/2621917/michael-piefel"}, "edited": false, "score": 1, "creation_date": 1574253007, "post_id": 58948314, "comment_id": 104164514, "body": "I\u2019d say the compiler is not smart enough to spot this; it should perform a smart cast. OTOH, this is a contrived example, an IRL it may be so much more difficult to spot that it\u2019s not worth the trouble."}, {"owner": {"reputation": 3738, "user_id": 1392189, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/049239f7f0deb84f0775853a9cb401c7?s=128&d=identicon&r=PG", "display_name": "Rollie", "link": "https://stackoverflow.com/users/1392189/rollie"}, "reply_to_user": {"reputation": 14274, "user_id": 2621917, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2ecd16dbe555b9596651e94668f71466?s=128&d=identicon&r=PG", "display_name": "Michael Piefel", "link": "https://stackoverflow.com/users/2621917/michael-piefel"}, "edited": false, "score": 0, "creation_date": 1574266434, "post_id": 58948314, "comment_id": 104172979, "body": "I suspect you are correct as well, but wanted to validate that opinion a bit. You are correct in other comments that this is not real code - I am actually presenting Kotlin to my team at work, and was explaining how smart casts allow calls on nullable types. This lead to me considering this case, trying it out, and being surprised by the result. I was wondering if there wasn&#39;t some edge case that made this necessary, but can&#39;t think of one."}], "answers": [{"comments": [{"owner": {"reputation": 14274, "user_id": 2621917, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2ecd16dbe555b9596651e94668f71466?s=128&d=identicon&r=PG", "display_name": "Michael Piefel", "link": "https://stackoverflow.com/users/2621917/michael-piefel"}, "edited": false, "score": 1, "creation_date": 1574252605, "post_id": 58948644, "comment_id": 104164264, "body": "That\u2019s true, but not an answer to the question. I\u2019m sure the OP trimmed down his code a lot. Well, actually it\u2019s not even 100% true, since the compiler uses smart casts in other places."}, {"owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "reply_to_user": {"reputation": 14274, "user_id": 2621917, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2ecd16dbe555b9596651e94668f71466?s=128&d=identicon&r=PG", "display_name": "Michael Piefel", "link": "https://stackoverflow.com/users/2621917/michael-piefel"}, "edited": false, "score": 0, "creation_date": 1574253150, "post_id": 58948644, "comment_id": 104164594, "body": "@MichaelPiefel but if it&#39;s <code>val</code> and assign with constructor then it doesn&#39;t need add nullable <code>?</code>. if it&#39;s complicated maybe OP should create a new non nullable object using <code>c</code>"}], "tags": [], "owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "is_accepted": false, "score": 0, "last_activity_date": 1574233882, "creation_date": 1574233882, "answer_id": 58948644, "question_id": 58948314, "link": "https://stackoverflow.com/questions/58948314/if-a-constructor-cant-return-null-why-do-i-need-to-type-check-after-initializa/58948644#58948644", "title": "If a constructor can&#39;t return null, why do I need to type-check after initialization?", "body": "<p><a href=\"https://play.kotlinlang.org\" rel=\"nofollow noreferrer\">kotlin official compiler</a> complains about unsafe calls on nullable type</p>\n\n<blockquote>\n  <p>Only safe (?.) or non-null asserted (!!.) calls are allowed on a nullable receiver of type Circle?</p>\n</blockquote>\n\n<p>Nullable is unneeded and can be removed in your case</p>\n\n<pre><code>val c: Circle = Circle(5)\nprintln(c.circumference())\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14274, "user_id": 2621917, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2ecd16dbe555b9596651e94668f71466?s=128&d=identicon&r=PG", "display_name": "Michael Piefel", "link": "https://stackoverflow.com/users/2621917/michael-piefel"}, "edited": false, "score": 1, "creation_date": 1574252902, "post_id": 58948670, "comment_id": 104164449, "body": "The compiles uses smart casts in other places. A type being optional does not necessarily mean that you cannot invoke methods on it. You can call <code>if (c != null) println(c.circumference())</code>."}], "tags": [], "owner": {"reputation": 34, "user_id": 12218769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/057b3ab56ab439b2a0a9095e6fe25fd6?s=128&d=identicon&r=PG&f=1", "display_name": "Marc Fever", "link": "https://stackoverflow.com/users/12218769/marc-fever"}, "is_accepted": false, "score": 0, "last_activity_date": 1574233943, "creation_date": 1574233943, "answer_id": 58948670, "question_id": 58948314, "link": "https://stackoverflow.com/questions/58948314/if-a-constructor-cant-return-null-why-do-i-need-to-type-check-after-initializa/58948670#58948670", "title": "If a constructor can&#39;t return null, why do I need to type-check after initialization?", "body": "<p>Because you explicitly set the type to <code>Circle?</code> you also set code semantics to expect null values.</p>\n"}, {"tags": [], "owner": {"reputation": 14274, "user_id": 2621917, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2ecd16dbe555b9596651e94668f71466?s=128&d=identicon&r=PG", "display_name": "Michael Piefel", "link": "https://stackoverflow.com/users/2621917/michael-piefel"}, "is_accepted": true, "score": 1, "last_activity_date": 1574281574, "creation_date": 1574281574, "answer_id": 58962812, "question_id": 58948314, "link": "https://stackoverflow.com/questions/58948314/if-a-constructor-cant-return-null-why-do-i-need-to-type-check-after-initializa/58962812#58962812", "title": "If a constructor can&#39;t return null, why do I need to type-check after initialization?", "body": "<p>The compiler is a dirty no good liar. There is no way that <code>c</code> could be <code>null</code>. Since <code>c</code> is a <code>val</code>, there is no (legal) way for it to change its value, for instance in another thread, and it is provable that <code>c</code> cannot be <code>null</code>. Consider the slighty simpler case (no external classes required):</p>\n\n<pre><code>val i1: Int? = 42\nval i2: Int = i1\n</code></pre>\n\n<p>Even this will not compile. However, the following will:</p>\n\n<pre><code>val i1: Int? = 42\ncheckNotNull(i1)\nval i2: Int = i1\n</code></pre>\n\n<p>Here, the <code>checkNotNull</code> (from <code>PreConditions</code> in the standard library) performs some null check, and the compiler will create a smart cast. I assume JetBrains could fix the compiler, but there would be little use outside of demonstration purposes.</p>\n"}], "owner": {"reputation": 3738, "user_id": 1392189, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/049239f7f0deb84f0775853a9cb401c7?s=128&d=identicon&r=PG", "display_name": "Rollie", "link": "https://stackoverflow.com/users/1392189/rollie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 58962812, "answer_count": 3, "score": 3, "last_activity_date": 1574281574, "creation_date": 1574232539, "last_edit_date": 1574234711, "question_id": 58948314, "link": "https://stackoverflow.com/questions/58948314/if-a-constructor-cant-return-null-why-do-i-need-to-type-check-after-initializa", "title": "If a constructor can&#39;t return null, why do I need to type-check after initialization?", "body": "<p>So given:</p>\n\n<pre><code>val c: Circle? = Circle(5)\nprintln(c.circumference())\n</code></pre>\n\n<p>Kotlin compiler complains that <code>circumference()</code> can't be called because <code>c</code> could be null. Is that true? Or is the compiler a dirty no good liar?</p>\n"}, {"tags": ["java", "kotlin", "nullable"], "comments": [{"owner": {"reputation": 149, "user_id": 6914923, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YkHZDcLPXyI/AAAAAAAAAAI/AAAAAAAABog/kuKz7SW_G5w/photo.jpg?sz=128", "display_name": "Bikramjeet Singh", "link": "https://stackoverflow.com/users/6914923/bikramjeet-singh"}, "edited": false, "score": 0, "creation_date": 1574231912, "post_id": 58948100, "comment_id": 104153351, "body": "@user7294900 no, that doesn&#39;t fix the problem, because I am not reassigning jv, I am reassigning jv.nullableJavaField"}, {"owner": {"reputation": 1293, "user_id": 12141859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b68b508ccc9cca985ec76d00fc0b40?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/12141859/neo"}, "edited": false, "score": 0, "creation_date": 1574236245, "post_id": 58948100, "comment_id": 104155104, "body": "What is meant by &quot;equivalent Kotlin code&quot;? Do you call the Java class from Kotlin code or did you rewrite the class in Kotlin? Which library belongs <code>@NotNull</code> to?"}, {"owner": {"reputation": 2240, "user_id": 4699509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYnk.jpg?s=128&g=1", "display_name": "Natig Babayev", "link": "https://stackoverflow.com/users/4699509/natig-babayev"}, "edited": false, "score": 0, "creation_date": 1574236696, "post_id": 58948100, "comment_id": 104155305, "body": "If the field is should be NotNull, why would you return Nullable value? Users of your code should know that they shouldn&#39;t access the null field before initializing. Therefore, I&#39;d mark getNullableJavaField() method as <code>@NotNull</code> or you can force user to fill those fields while constructing the POJO if you want to ensure that they don&#39;t get null value."}, {"owner": {"reputation": 149, "user_id": 6914923, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YkHZDcLPXyI/AAAAAAAAAAI/AAAAAAAABog/kuKz7SW_G5w/photo.jpg?sz=128", "display_name": "Bikramjeet Singh", "link": "https://stackoverflow.com/users/6914923/bikramjeet-singh"}, "reply_to_user": {"reputation": 1293, "user_id": 12141859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62b68b508ccc9cca985ec76d00fc0b40?s=128&d=identicon&r=PG&f=1", "display_name": "Neo", "link": "https://stackoverflow.com/users/12141859/neo"}, "edited": false, "score": 0, "creation_date": 1574245363, "post_id": 58948100, "comment_id": 104160069, "body": "@Neo I rewrote the class in Kotlin"}, {"owner": {"reputation": 149, "user_id": 6914923, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YkHZDcLPXyI/AAAAAAAAAAI/AAAAAAAABog/kuKz7SW_G5w/photo.jpg?sz=128", "display_name": "Bikramjeet Singh", "link": "https://stackoverflow.com/users/6914923/bikramjeet-singh"}, "reply_to_user": {"reputation": 2240, "user_id": 4699509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYnk.jpg?s=128&g=1", "display_name": "Natig Babayev", "link": "https://stackoverflow.com/users/4699509/natig-babayev"}, "edited": false, "score": 0, "creation_date": 1574245529, "post_id": 58948100, "comment_id": 104160176, "body": "@NatigBabayev sure, that&#39;s what I would do in a real-world scenario. I was just reading the Kotlin docs and this question came to mind."}], "answers": [{"comments": [{"owner": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "edited": false, "score": 0, "creation_date": 1574239470, "post_id": 58949945, "comment_id": 104156549, "body": "So it isn&#39;t mutable because setter and getter use different type?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 46525, "user_id": 7294900, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Pdqi4.gif?s=128&g=1", "display_name": "user7294900", "link": "https://stackoverflow.com/users/7294900/user7294900"}, "edited": false, "score": 0, "creation_date": 1574241900, "post_id": 58949945, "comment_id": 104157958, "body": "Yes. If it was <code>String</code> you might get a nullpointer with the getter, if it was <code>String?</code> it might get a nullpointer with the setter. If the nullability was the other way around, the property would be of <code>String</code>."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 2, "last_activity_date": 1574239072, "creation_date": 1574239072, "answer_id": 58949945, "question_id": 58948100, "link": "https://stackoverflow.com/questions/58948100/using-java-fields-with-notnull-setters-and-nullable-getters-in-kotlin/58949945#58949945", "title": "Using Java fields with @NotNull setters and @Nullable getters in Kotlin", "body": "<p>For <em>Kotlin</em> this is not a mutable property. <code>setNullableJavaField</code> expects a <code>String</code>, while <code>getNullableJavaField</code> returns a <code>String?</code> and <code>nullableJavaField</code> therefore as well. So you have to use the setter directly.</p>\n\n<pre><code>val jv = JavaClass()\njv.setNullableJavaField(\"Foo\")\n</code></pre>\n"}], "owner": {"reputation": 149, "user_id": 6914923, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-YkHZDcLPXyI/AAAAAAAAAAI/AAAAAAAABog/kuKz7SW_G5w/photo.jpg?sz=128", "display_name": "Bikramjeet Singh", "link": "https://stackoverflow.com/users/6914923/bikramjeet-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 309, "favorite_count": 1, "accepted_answer_id": 58949945, "answer_count": 1, "score": 3, "last_activity_date": 1574239072, "creation_date": 1574231570, "question_id": 58948100, "link": "https://stackoverflow.com/questions/58948100/using-java-fields-with-notnull-setters-and-nullable-getters-in-kotlin", "title": "Using Java fields with @NotNull setters and @Nullable getters in Kotlin", "body": "<p>I have the following Java class:</p>\n\n<pre><code>public class JavaClass {\n\n    private String nullableJavaField;\n\n    @Nullable public String getNullableJavaField() {\n        return nullableJavaField;\n    }\n\n    public void setNullableJavaField(@NotNull String nullableJavaField) {\n        this.nullableJavaField = nullableJavaField;\n    }\n}\n</code></pre>\n\n<p>The intention is that nullableJavaField may initially be null, but any subsequent set operations should only be with non-null values. It works as intended when called from another Java class:</p>\n\n<pre><code>JavaClass jv = new JavaClass();\njv.setNullableJavaField(null); // Produces warning about passing null parameter\n</code></pre>\n\n<p>However, the equivalent Kotlin code produces the error \"Val cannot be reassigned\":</p>\n\n<pre><code>val jv = JavaClass()\njv.nullableJavaField = \"Foo\" // Produces error \"Val cannot be reassigned\"\n</code></pre>\n\n<p>As far as I can see, nullableJavaField is not final, so why is Kotlin complaining about assigning to a val? I have searched through similar questions such as <a href=\"https://stackoverflow.com/questions/44551177/null-safety-in-legacy-java-libraries-used-in-kotlin-projects\">this</a> and <a href=\"https://stackoverflow.com/questions/38185237/notnull-and-nullable-contradicting-java-annotations\">this</a>, but am not able to find an answer.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2394, "user_id": 5974659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ab982a491d36319cbcde99792f0123?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Mehar", "link": "https://stackoverflow.com/users/5974659/anas-mehar"}, "edited": false, "score": 0, "creation_date": 1574229560, "post_id": 58947641, "comment_id": 104152588, "body": "Try like this <code>userName.text.equals(&quot;&quot;)</code> and <code>userName.text.equals(&quot;John&quot;)</code>"}, {"owner": {"reputation": 389, "user_id": 2636993, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d17e0f2438b7dadcd72bc3ed9f98f440?s=128&d=identicon&r=PG", "display_name": "Aditi", "link": "https://stackoverflow.com/users/2636993/aditi"}, "edited": false, "score": 0, "creation_date": 1574229561, "post_id": 58947641, "comment_id": 104152589, "body": "Could you debug and check where the flow is going. Agree with Anas"}, {"owner": {"reputation": 1, "user_id": 12316399, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b_H5o926qDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcWB19hA3PaG074qwsL7cCO8PtVA/photo.jpg?sz=128", "display_name": "thusy ram", "link": "https://stackoverflow.com/users/12316399/thusy-ram"}, "edited": false, "score": 0, "creation_date": 1574229797, "post_id": 58947641, "comment_id": 104152673, "body": "userName.text.equals(&quot;&quot;) i tied this sir not working"}, {"owner": {"reputation": 389, "user_id": 2636993, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/d17e0f2438b7dadcd72bc3ed9f98f440?s=128&d=identicon&r=PG", "display_name": "Aditi", "link": "https://stackoverflow.com/users/2636993/aditi"}, "edited": false, "score": 0, "creation_date": 1574229904, "post_id": 58947641, "comment_id": 104152707, "body": "use userName.text.equals at all places in your above code instead of simple userName.equals"}, {"owner": {"reputation": 1, "user_id": 12316399, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b_H5o926qDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcWB19hA3PaG074qwsL7cCO8PtVA/photo.jpg?sz=128", "display_name": "thusy ram", "link": "https://stackoverflow.com/users/12316399/thusy-ram"}, "edited": false, "score": 0, "creation_date": 1574230070, "post_id": 58947641, "comment_id": 104152752, "body": "userName.text.equals i used like all places of above code not working"}, {"owner": {"reputation": 464, "user_id": 11598177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Nl2uJ.jpg?s=128&g=1", "display_name": "L2_Paver", "link": "https://stackoverflow.com/users/11598177/l2-paver"}, "edited": false, "score": 0, "creation_date": 1574230116, "post_id": 58947641, "comment_id": 104152763, "body": "try userName.text.toString().equals(&quot;&quot;)"}, {"owner": {"reputation": 1, "user_id": 12316399, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b_H5o926qDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcWB19hA3PaG074qwsL7cCO8PtVA/photo.jpg?sz=128", "display_name": "thusy ram", "link": "https://stackoverflow.com/users/12316399/thusy-ram"}, "edited": false, "score": 0, "creation_date": 1574230279, "post_id": 58947641, "comment_id": 104152824, "body": "it working L2_Paver thanks for your kind help"}, {"owner": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 0, "creation_date": 1574230687, "post_id": 58947641, "comment_id": 104152952, "body": "Please do not edit your question with fixes that answer your question, as it confuses everyone. I&#39;ve undone your edit."}], "answers": [{"tags": [], "owner": {"reputation": 3396, "user_id": 4854891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WEK2n.jpg?s=128&g=1", "display_name": "Jakir Hossain", "link": "https://stackoverflow.com/users/4854891/jakir-hossain"}, "is_accepted": true, "score": -1, "last_activity_date": 1574230999, "last_edit_date": 1574230999, "creation_date": 1574230392, "answer_id": 58947846, "question_id": 58947641, "link": "https://stackoverflow.com/questions/58947641/login-button-is-not-working-android-kotlin/58947846#58947846", "title": "Login button is not working Android Kotlin", "body": "<p>Try like the following.</p>\n\n<pre><code>b1.setOnClickListener {\n   val name:String = userName.text.toString()\n   val pass:String = password.text.toString()\n\n   if (name.trim().length == 0  || pass.trim().length == 0){\n         Toast.makeText(this, \"Username or Password blank\", Toast.LENGTH_LONG).show()\n   }\n   else if (name.equals(\"John\") and pass.equals(\"123\")){\n         val editor = getSharedPreferences(\"name\", Context.MODE_PRIVATE).edit()\n         editor.putString(\"name\", name)\n         editor.apply()\n         val intent = Intent(this, Main2Activity::class.java)\n         intent.putExtra(\"name\", name)\n         startActivity(intent)\n\n   }\n   else{\n        Toast.makeText(this, \"Username or Password Do not Match\", Toast.LENGTH_LONG).show()\n   }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1157, "user_id": 1117103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd8ae614deb06fd9aa2d41415c562aa8?s=128&d=identicon&r=PG", "display_name": "Damodhar", "link": "https://stackoverflow.com/users/1117103/damodhar"}, "is_accepted": false, "score": 1, "last_activity_date": 1574230468, "creation_date": 1574230468, "answer_id": 58947863, "question_id": 58947641, "link": "https://stackoverflow.com/questions/58947641/login-button-is-not-working-android-kotlin/58947863#58947863", "title": "Login button is not working Android Kotlin", "body": "<p>The matches will be the best option for this kind of validation things</p>\n\n<pre><code>sUsername = userName.text;\nif (sUsername.matches(\"\")) {\n    Toast.makeText(this, \"You did not enter a username\", Toast.LENGTH_SHORT).show();\n    return;\n}\n</code></pre>\n\n<p>reference question : <a href=\"https://stackoverflow.com/questions/6290531/check-if-edittext-is-empty\">Check if EditText is empty.</a></p>\n"}, {"tags": [], "owner": {"reputation": 1795, "user_id": 7160898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LGfPx.jpg?s=128&g=1", "display_name": "Jimale Abdi", "link": "https://stackoverflow.com/users/7160898/jimale-abdi"}, "is_accepted": false, "score": 0, "last_activity_date": 1574230524, "creation_date": 1574230524, "answer_id": 58947870, "question_id": 58947641, "link": "https://stackoverflow.com/questions/58947641/login-button-is-not-working-android-kotlin/58947870#58947870", "title": "Login button is not working Android Kotlin", "body": "<p>Try this one </p>\n\n<pre><code>if (userName.text.isNullOrEmpty()){\n                userName.error = \"Enter username\"\n            }\n            else if (password.text.isNullOrEmpty()){\n                password.error = \"Enter password\"\n            }\n            else if (userName.text.toString() == \"john\" &amp;&amp; password.text.toString() == \"123\"){\n\n                val editor = getSharedPreferences(\"name\", Context.MODE_PRIVATE).edit()\n                editor.putString(\"name\", userName.getText().toString())\n                editor.apply()\n                val intent = Intent(this, Main2Activity::class.java)\n                intent.putExtra(\"name\", userName.toString())\n                startActivity(intent)\n\n            }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1350, "user_id": 6299045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cz5n9.jpg?s=128&g=1", "display_name": "Subin Babu", "link": "https://stackoverflow.com/users/6299045/subin-babu"}, "is_accepted": false, "score": 0, "last_activity_date": 1574230562, "creation_date": 1574230562, "answer_id": 58947880, "question_id": 58947641, "link": "https://stackoverflow.com/questions/58947641/login-button-is-not-working-android-kotlin/58947880#58947880", "title": "Login button is not working Android Kotlin", "body": "<pre><code>b1.setOnClickListener {\n\n            if (userName.text.toString().equals(\"\") || password.text.toString().equals(\"\")) {\n                Toast.makeText(this, \"Username or Password blank\", Toast.LENGTH_LONG).show()\n            } else if (userName.text.toString().equals(\"John\") and password.text.toString().equals(\"123\")) {\n                 val editor = getSharedPreferences(\"name\", Context.MODE_PRIVATE).edit()\n                            editor.putString(\"name\", userName.getText().toString())\n                            editor.apply()\n                           val intent = Intent(this, Main2Activity::class.java)\n                           intent.putExtra(\"name\", userName.toString())\n                           startActivity(intent)\n            }\n            else {\n                Toast.makeText(this, \"Username or Password Do not Match\", Toast.LENGTH_LONG).show()\n            }\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "is_accepted": false, "score": 0, "last_activity_date": 1574230577, "creation_date": 1574230577, "answer_id": 58947884, "question_id": 58947641, "link": "https://stackoverflow.com/questions/58947641/login-button-is-not-working-android-kotlin/58947884#58947884", "title": "Login button is not working Android Kotlin", "body": "<pre><code>b1.setOnClickListener {view -&gt;\n\n       if (userName.text.isNullOrEmpty()  || password.text.isNullOrEmpty()){\n            Toast.makeText(this, \"Username or Password blank\", Toast.LENGTH_LONG).show()\n        }else if (userName.text.equals(\"John\") and password.text.equals(\"123\")){\n            val editor = getSharedPreferences(\"name\", Context.MODE_PRIVATE).edit()\n            editor.putString(\"name\", userName.getText().toString())\n            editor.apply()\n            val intent = Intent(this, Main2Activity::class.java)\n            intent.putExtra(\"name\", userName.toString())\n            startActivity(intent)\n\n        }\n\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1663, "user_id": 6997819, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WNXp1.jpg?s=128&g=1", "display_name": "Vir Rajpurohit", "link": "https://stackoverflow.com/users/6997819/vir-rajpurohit"}, "is_accepted": false, "score": 0, "last_activity_date": 1574230602, "creation_date": 1574230602, "answer_id": 58947896, "question_id": 58947641, "link": "https://stackoverflow.com/questions/58947641/login-button-is-not-working-android-kotlin/58947896#58947896", "title": "Login button is not working Android Kotlin", "body": "<p>I assume you have added </p>\n\n<blockquote>\n  <p>apply plugin: 'kotlin-android-extensions'.</p>\n</blockquote>\n\n<p>in your app level gradle. Using this there is not need to use findViewById. You can directly access views from layout.</p>\n\n<p>So if you have <code>Edittext</code> with id <code>edit</code>.</p>\n\n<p>then in your code you can directly use that as below</p>\n\n<pre><code>if(edit.text.isEmpty())\n{\n// Your code\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if(edit.text.equals(\"\")\n{\n// Your code\n}\n</code></pre>\n\n<p>Hope it helps!</p>\n"}, {"tags": [], "owner": {"reputation": 5291, "user_id": 5279156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHs51.jpg?s=128&g=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/5279156/vlad"}, "is_accepted": false, "score": 0, "last_activity_date": 1574230664, "creation_date": 1574230664, "answer_id": 58947908, "question_id": 58947641, "link": "https://stackoverflow.com/questions/58947641/login-button-is-not-working-android-kotlin/58947908#58947908", "title": "Login button is not working Android Kotlin", "body": "<p>This should work</p>\n\n<pre><code>b1.setOnClickListener {\n    if (userName.text.isEmpty() || password.text.isEmpty())\n    {\n        Toast.makeText(this, \"Username or Password blank\", Toast.LENGTH_LONG).show()\n    }\n    else if (userName.text == \"John\" &amp;&amp; password.text == \"123\")\n    {\n        val editor = getSharedPreferences(\"name\", Context.MODE_PRIVATE).edit()\n        editor.putString(\"name\", userName.getText().toString())\n        editor.apply()\n        val intent = Intent(this, Main2Activity::class.java)\n        intent.putExtra(\"name\", userName.toString())\n        startActivity(intent)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 627, "user_id": 12397978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8yN1Y.jpg?s=128&g=1", "display_name": "USMAN osman", "link": "https://stackoverflow.com/users/12397978/usman-osman"}, "is_accepted": false, "score": 0, "last_activity_date": 1574233998, "last_edit_date": 1574233998, "creation_date": 1574233489, "answer_id": 58948544, "question_id": 58947641, "link": "https://stackoverflow.com/questions/58947641/login-button-is-not-working-android-kotlin/58948544#58948544", "title": "Login button is not working Android Kotlin", "body": "<p>You are not converting your <code>Edittext</code> into string you have just assigned the id to your <code>Edittext</code> and it would still be treated as a <code>Edittext</code> field. You have to pass the <strong>string value</strong>, not a <code>Editext</code>. To convert it into string, your <code>if</code> condition must be like this:<br/></p>\n\n<pre><code> if (userName.text.toString().trim().equals(\"\")  || password.text.toString().trim().equals(\"\")) {\n Toast.makeText(this, \"Username or Password blank\", Toast.LENGTH_LONG).show()\n            }\n</code></pre>\n\n<p>Or you can do it while assigning the id, like so:</p>\n\n<pre><code>val uName = userName.text.toString().trim()\nval userPass = password.text.toString().trim()\n</code></pre>\n\n<p>then your <code>if</code> condition will be like this:</p>\n\n<pre><code>if (uName.equals(\"\")  || userPass.equals(\"\")) {\n Toast.makeText(this, \"Username or Password blank\", Toast.LENGTH_LONG).show()\n            }\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12316399, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b_H5o926qDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcWB19hA3PaG074qwsL7cCO8PtVA/photo.jpg?sz=128", "display_name": "thusy ram", "link": "https://stackoverflow.com/users/12316399/thusy-ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 58947846, "answer_count": 8, "score": 0, "last_activity_date": 1574233998, "creation_date": 1574229407, "last_edit_date": 1574230702, "question_id": 58947641, "link": "https://stackoverflow.com/questions/58947641/login-button-is-not-working-android-kotlin", "title": "Login button is not working Android Kotlin", "body": "<p>I am creating a simple login form with SharedPreferences.I have put some basic user validation but it is not working. When I enter the username and password and click login button, nothing gets displayed. It should if it is wrong username and password. Below is the code for same.</p>\n\n<pre><code>  val userName = findViewById(R.id.user) as EditText\n        val password = findViewById(R.id.pass) as EditText\n        val b1 = findViewById(R.id.btn1) as Button\n\n        b1.setOnClickListener {\n\n            if (userName.equals(\"\")  || password.equals(\"\"))\n            {\n                Toast.makeText(this, \"Username or Password blank\", Toast.LENGTH_LONG).show()\n            }\n            else if (userName.equals(\"John\") and password.equals(\"123\"))\n            {\n                val editor = getSharedPreferences(\"name\", Context.MODE_PRIVATE).edit()\n                editor.putString(\"name\", userName.getText().toString())\n                editor.apply()\n                val intent = Intent(this, Main2Activity::class.java)\n                intent.putExtra(\"name\", userName.toString())\n                startActivity(intent)\n\n            }\n\n      else\n           {\n            Toast.makeText(this, \"Username or Password Do not Match\", Toast.LENGTH_LONG).show()\n           }\n\n\n        }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4445, "user_id": 3926727, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VKxV7.jpg?s=128&g=1", "display_name": "Rasel", "link": "https://stackoverflow.com/users/3926727/rasel"}, "edited": false, "score": 0, "creation_date": 1574226994, "post_id": 58947116, "comment_id": 104151827, "body": "Do you have any text in your userName edittext when click b1 button?"}, {"owner": {"reputation": 1, "user_id": 12316399, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b_H5o926qDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcWB19hA3PaG074qwsL7cCO8PtVA/photo.jpg?sz=128", "display_name": "thusy ram", "link": "https://stackoverflow.com/users/12316399/thusy-ram"}, "reply_to_user": {"reputation": 4445, "user_id": 3926727, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VKxV7.jpg?s=128&g=1", "display_name": "Rasel", "link": "https://stackoverflow.com/users/3926727/rasel"}, "edited": false, "score": 0, "creation_date": 1574227236, "post_id": 58947116, "comment_id": 104151900, "body": "yes sir ................"}, {"owner": {"reputation": 1, "user_id": 12316399, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b_H5o926qDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcWB19hA3PaG074qwsL7cCO8PtVA/photo.jpg?sz=128", "display_name": "thusy ram", "link": "https://stackoverflow.com/users/12316399/thusy-ram"}, "reply_to_user": {"reputation": 4445, "user_id": 3926727, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VKxV7.jpg?s=128&g=1", "display_name": "Rasel", "link": "https://stackoverflow.com/users/3926727/rasel"}, "edited": false, "score": 0, "creation_date": 1574227268, "post_id": 58947116, "comment_id": 104151911, "body": "that text i have to pass in the another activity as SharedPreferences"}], "answers": [{"tags": [], "owner": {"reputation": 4445, "user_id": 3926727, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VKxV7.jpg?s=128&g=1", "display_name": "Rasel", "link": "https://stackoverflow.com/users/3926727/rasel"}, "is_accepted": true, "score": 3, "last_activity_date": 1574227579, "creation_date": 1574227579, "answer_id": 58947283, "question_id": 58947116, "link": "https://stackoverflow.com/questions/58947116/sharedpreferences-is-not-working-android-kotlin/58947283#58947283", "title": "sharedpreferences is not working android kotlin", "body": "<p>You are putting your edittext as string.\nYou should put text from the edittext and then save it to shared preference.\nSo use-</p>\n\n<pre><code>editor.putString(\"name\", userName.getText().toString())\n</code></pre>\n\n<p>Instead of-</p>\n\n<pre><code>editor.putString(\"name\", userName.toString())\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12316399, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-b_H5o926qDM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdcWB19hA3PaG074qwsL7cCO8PtVA/photo.jpg?sz=128", "display_name": "thusy ram", "link": "https://stackoverflow.com/users/12316399/thusy-ram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 381, "favorite_count": 0, "accepted_answer_id": 58947283, "answer_count": 1, "score": -1, "last_activity_date": 1574229735, "creation_date": 1574226645, "last_edit_date": 1574229735, "question_id": 58947116, "link": "https://stackoverflow.com/questions/58947116/sharedpreferences-is-not-working-android-kotlin", "title": "sharedpreferences is not working android kotlin", "body": "<p>I am creating a simple Android app using Kotlin. I am a beginner of Kotlin Andoid. I don't how to use it, what I tried so far is mentioned below. If I enter the name it should show on the another activity using <code>SharedPreferences</code>.</p>\n\n<p><strong>MainActivity</strong></p>\n\n<pre><code>val userName = findViewById(R.id.ed1) as EditText\nval b1 = findViewById(R.id.btn1) as Button\n\nb1.setOnClickListener {\n    val editor = getSharedPreferences(\"name\", Context.MODE_PRIVATE).edit()\n    editor.putString(\"name\", userName.toString())\n    editor.apply()\n    val intent = Intent(this,Main2Activity::class.java)\n    intent.putExtra(\"name\", userName.toString())\n    startActivity(intent)\n}\n</code></pre>\n\n<p><strong>MainActivity2</strong></p>\n\n<pre><code>val userName = getSharedPreferences(\"name\",Context.MODE_PRIVATE).getString(\"name\", \"\")\ntxt1.setText(userName)\n</code></pre>\n\n<p>Nothing is being displayed in <code>txt1</code>.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1574226106, "post_id": 58946988, "comment_id": 104151595, "body": "You have <code>android:elevation=&quot;4dp&quot;</code> on the first one, but no elevation on the second."}, {"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1574226274, "post_id": 58946988, "comment_id": 104151628, "body": "use ConstraintLayout for that"}, {"owner": {"reputation": 1019, "user_id": 10835478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u6IDX.jpg?s=128&g=1", "display_name": "Nice umang", "link": "https://stackoverflow.com/users/10835478/nice-umang"}, "edited": false, "score": 0, "creation_date": 1574226286, "post_id": 58946988, "comment_id": 104151635, "body": "put warning icon imageview over button menu i mean in xml put first view &#39;warning icon&#39; and then &#39; button menu&#39;. change only place of  both imageview. check my answer"}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 0, "creation_date": 1574226416, "post_id": 58946988, "comment_id": 104151670, "body": "Do you want it to be done by <code>RelativeLayout</code> only? I&#39;m having solution using <code>ConstraintLayout</code>."}], "answers": [{"tags": [], "owner": {"reputation": 9575, "user_id": 4600136, "user_type": "registered", "accept_rate": 17, "profile_image": "https://lh4.googleusercontent.com/-LO7XEu0QoTI/AAAAAAAAAAI/AAAAAAAAANo/XU-NuIghIpk/photo.jpg?sz=128", "display_name": "Mr.Javed Multani", "link": "https://stackoverflow.com/users/4600136/mr-javed-multani"}, "is_accepted": false, "score": 0, "last_activity_date": 1574226300, "creation_date": 1574226300, "answer_id": 58947040, "question_id": 58946988, "link": "https://stackoverflow.com/questions/58946988/android-imageview-over-another-imageview/58947040#58947040", "title": "Android imageview over another imageview", "body": "<p>The layout_align <strong>[Top|Bottom|Left|Right]</strong> attribute in RelativeLayout is used to align views based on their respective x and y values within the margin. The second ImageView will now be aligned to the top, bottom, left, and right of the first ImageView based on the margins. Padding is ignored in the alignment. </p>\n\n<pre><code>&lt;RelativeLayout\n      xmlns:android=\"http://schemas.android.com/apk/res/android\"\n      android:layout_width=\"fill_parent\"\n      android:layout_height=\"fill_parent\"\n      android:background=\"@color/white\" &gt;\n\n    &lt;ImageView\n        android:id=\"@+id/inside_imageview\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginBottom=\"5dip\"\n        android:layout_marginTop=\"5dip\"\n        android:src=\"@drawable/frame\" /&gt;\n\n      &lt;ImageView\n         android:id=\"@+id/outside_imageview\"\n         android:layout_width=\"wrap_content\"\n         android:layout_height=\"wrap_content\"\n         android:layout_alignTop=\"@id/inside_imageview\"\n         android:layout_alignBottom=\"@id/inside_imageview\"\n         android:layout_alignLeft=\"@id/inside_imageview\"\n         android:layout_alignRight=\"@id/inside_imageview\"            \n         android:scaleType=\"fitXY\" /&gt;\n  &lt;/RelativeLayout&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1019, "user_id": 10835478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/u6IDX.jpg?s=128&g=1", "display_name": "Nice umang", "link": "https://stackoverflow.com/users/10835478/nice-umang"}, "is_accepted": true, "score": 1, "last_activity_date": 1574226334, "creation_date": 1574226334, "answer_id": 58947050, "question_id": 58946988, "link": "https://stackoverflow.com/questions/58946988/android-imageview-over-another-imageview/58947050#58947050", "title": "Android imageview over another imageview", "body": "<pre><code>&lt;RelativeLayout\n            android:layout_width=\"54dp\"\n            android:layout_height=\"54dp\"\n            android:layout_alignParentTop=\"true\"\n            android:layout_alignParentStart=\"true\"\n            android:layout_marginStart=\"20dp\"\n            android:layout_marginTop=\"20dp\"&gt;\n\n             &lt;ImageView\n                android:id=\"@+id/warning_circle\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_alignParentBottom=\"true\"\n                android:layout_alignParentRight=\"true\"\n                android:src=\"@drawable/ic_warning_circle\"/&gt;\n\n            &lt;ImageView\n                android:id=\"@+id/button_menu\"\n                android:layout_width=\"44dp\"\n                android:layout_height=\"44dp\"\n                android:layout_alignParentTop=\"true\"\n                android:layout_alignParentStart=\"true\"\n                android:padding=\"5dp\"\n                android:src=\"@drawable/ic_menu\"\n                android:background=\"@drawable/button_white_rounded\"\n                android:elevation=\"4dp\"\n                android:scaleType=\"fitXY\"\n                android:adjustViewBounds=\"true\"\n                android:tint=\"@color/colorText\"/&gt;\n\n\n        &lt;/RelativeLayout&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1574226876, "post_id": 58947101, "comment_id": 104151796, "body": "Why do they have to use <code>ConstraintLayout</code>?"}, {"owner": {"reputation": 2013, "user_id": 6238866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090be8b06410ed7bfb88d9059a157125?s=128&d=identicon&r=PG&f=1", "display_name": "Mayur Patel", "link": "https://stackoverflow.com/users/6238866/mayur-patel"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1574227295, "post_id": 58947101, "comment_id": 104151920, "body": "@MikeM. ConstraintLayout is more powerful as compare with RelativeLayout. You can read more about it from here <a href=\"https://stackoverflow.com/a/37992834/6238866\">stackoverflow.com/a/37992834/6238866</a> and  <a href=\"https://stackoverflow.com/questions/37321448/differences-between-constraintlayout-and-relativelayout\" title=\"differences between constraintlayout and relativelayout\">stackoverflow.com/questions/37321448/&hellip;</a>"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1574227452, "post_id": 58947101, "comment_id": 104151965, "body": "Yeah, I know what <code>ConstraintLayout</code> is, but they already have the <code>ImageView</code>s arranged as they want, in the plane. They&#39;re just trying to bring one forward, on the z-axis. They don&#39;t need to change the parent to do that, especially not to the one <code>ViewGroup</code> with the most overhead. <code>RelativeLayout</code> suffices, here."}, {"owner": {"reputation": 2013, "user_id": 6238866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090be8b06410ed7bfb88d9059a157125?s=128&d=identicon&r=PG&f=1", "display_name": "Mayur Patel", "link": "https://stackoverflow.com/users/6238866/mayur-patel"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1574227765, "post_id": 58947101, "comment_id": 104152070, "body": "@MikeM. Yes that&#39;s true but For better performance and tooling support, you should instead build your layout with ConstraintLayout.  <a href=\"https://developer.android.com/guide/topics/ui/layout/relative\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/ui/layout/relative</a>"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1574228105, "post_id": 58947101, "comment_id": 104152165, "body": "<code>ConstraintLayout</code> might be easier to manipulate in the IDE designer, but I&#39;m still not convinced that it&#39;s more performant at runtime. Admittedly, I&#39;ve not done any testing recently, and the numbers I&#39;ve seen published are a little old, but it&#39;s hard to imagine that <code>ConstraintLayout</code> does better than the plain old basic <code>ViewGroup</code>s for simple layouts, when they&#39;re appropriate; e.g., <a href=\"https://android.jlelse.eu/constraint-layout-performance-870e5f238100\" rel=\"nofollow noreferrer\">android.jlelse.eu/constraint-layout-performance-870e5f238100</a>&zwnj;&#8203;."}, {"owner": {"reputation": 2013, "user_id": 6238866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090be8b06410ed7bfb88d9059a157125?s=128&d=identicon&r=PG&f=1", "display_name": "Mayur Patel", "link": "https://stackoverflow.com/users/6238866/mayur-patel"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1574228551, "post_id": 58947101, "comment_id": 104152290, "body": "@MikeM. That is a nice article. Thanks for sharing and gaining my knowledge.  I greatly appreciate the time you&#39;ve taken to share your knowledge with me."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1574228701, "post_id": 58947101, "comment_id": 104152340, "body": "No problem. I hope I didn&#39;t seem rude, or anything. I just feel that <code>ConstraintLayout</code> is overused a little much. Thanks for being gracious about it. Cheers!"}, {"owner": {"reputation": 2013, "user_id": 6238866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090be8b06410ed7bfb88d9059a157125?s=128&d=identicon&r=PG&f=1", "display_name": "Mayur Patel", "link": "https://stackoverflow.com/users/6238866/mayur-patel"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1574228908, "post_id": 58947101, "comment_id": 104152397, "body": "@MikeM. Ohh that not an issue. I hope you will share more knowledge with me and once again thank you."}], "tags": [], "owner": {"reputation": 2013, "user_id": 6238866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090be8b06410ed7bfb88d9059a157125?s=128&d=identicon&r=PG&f=1", "display_name": "Mayur Patel", "link": "https://stackoverflow.com/users/6238866/mayur-patel"}, "is_accepted": false, "score": 0, "last_activity_date": 1574229595, "last_edit_date": 1574229595, "creation_date": 1574226565, "answer_id": 58947101, "question_id": 58946988, "link": "https://stackoverflow.com/questions/58946988/android-imageview-over-another-imageview/58947101#58947101", "title": "Android imageview over another imageview", "body": "<p>Your code is perfect but either you have to remove <code>android:elevation</code> from <code>button_menu</code> or you have to add <code>android:elevation</code> in <code>warning_circle</code>. </p>\n\n<p>I have updated my answer based on <a href=\"https://stackoverflow.com/users/2850651/mike-m\">@MikeM.</a> suggestion for use <code>RelativeLayout</code> instead of <code>ConstraintLayout</code></p>\n\n<p><strong>Solution 1:</strong></p>\n\n<pre><code>&lt;RelativeLayout\n    android:layout_width=\"54dp\"\n    android:layout_height=\"54dp\"\n    android:layout_alignParentStart=\"true\"\n    android:layout_alignParentTop=\"true\"\n    android:layout_marginStart=\"20dp\"\n    android:layout_marginTop=\"20dp\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/button_menu\"\n        android:layout_width=\"44dp\"\n        android:layout_height=\"44dp\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:adjustViewBounds=\"true\"\n        android:background=\"@drawable/button_white_rounded\"\n        android:padding=\"5dp\"\n        android:scaleType=\"fitXY\"\n        android:src=\"@drawable/ic_menu\"\n        android:tint=\"@color/colorText\"\n        tools:src=\"@tools:sample/avatars\" /&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/warning_circle\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_alignParentBottom=\"true\"\n        android:src=\"@drawable/ic_warning_circle\"\n        tools:src=\"@tools:sample/avatars\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><strong>Solution 2:</strong></p>\n\n<pre><code>&lt;RelativeLayout\n    android:layout_width=\"54dp\"\n    android:layout_height=\"54dp\"\n    android:layout_alignParentStart=\"true\"\n    android:layout_alignParentTop=\"true\"\n    android:layout_marginStart=\"20dp\"\n    android:layout_marginTop=\"20dp\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/button_menu\"\n        android:layout_width=\"44dp\"\n        android:layout_height=\"44dp\"\n        android:layout_alignParentStart=\"true\"\n        android:layout_alignParentTop=\"true\"\n        android:adjustViewBounds=\"true\"\n        android:background=\"@drawable/button_white_rounded\"\n        android:elevation=\"4dp\"\n        android:padding=\"5dp\"\n        android:scaleType=\"fitXY\"\n        android:src=\"@drawable/ic_menu\"\n        android:tint=\"@color/colorText\"\n        tools:src=\"@tools:sample/avatars\" /&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/warning_circle\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_alignParentRight=\"true\"\n        android:layout_alignParentBottom=\"true\"\n        android:elevation=\"4dp\"\n        android:src=\"@drawable/ic_warning_circle\"\n        tools:src=\"@tools:sample/avatars\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2053, "user_id": 4156841, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pVR5A0a9msQ/AAAAAAAAAAI/AAAAAAAAAgQ/LNx72NimbkE/photo.jpg?sz=128", "display_name": "Amit Jangid", "link": "https://stackoverflow.com/users/4156841/amit-jangid"}, "is_accepted": false, "score": 0, "last_activity_date": 1574227094, "creation_date": 1574227094, "answer_id": 58947188, "question_id": 58946988, "link": "https://stackoverflow.com/questions/58946988/android-imageview-over-another-imageview/58947188#58947188", "title": "Android imageview over another imageview", "body": "<p>You can use FrameLayout to achieve this.. here is an example, you can modify this according to your need. In warning icon image view add gravity as bottom|end and in menu icon image view add margin of 10dp when using FrameLayout. </p>\n\n<pre><code>&lt;FrameLayout\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginStart=\"20dp\"\n    android:layout_marginTop=\"20dp\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/button_menu\"\n        android:layout_width=\"44dp\"\n        android:layout_height=\"44dp\"\n        android:layout_margin=\"10dp\"\n        android:padding=\"5dp\"\n        android:src=\"@drawable/ic_menu\"\n        android:background=\"@drawable/button_white_rounded\"\n        android:elevation=\"4dp\"\n        android:scaleType=\"fitXY\"\n        android:adjustViewBounds=\"true\"\n        android:tint=\"@color/colorText\"/&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/warning_circle\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"bottom|end\"\n        android:src=\"@drawable/ic_warning_circle\"/&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10190302, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e24117395bb0ea4ac60ad0268a38f2f9?s=128&d=identicon&r=PG&f=1", "display_name": "Saqlain Shohrab", "link": "https://stackoverflow.com/users/10190302/saqlain-shohrab"}, "is_accepted": false, "score": 0, "last_activity_date": 1574227481, "creation_date": 1574227481, "answer_id": 58947258, "question_id": 58946988, "link": "https://stackoverflow.com/questions/58946988/android-imageview-over-another-imageview/58947258#58947258", "title": "Android imageview over another imageview", "body": "<pre><code>&lt;RelativeLayout\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_alignParentTop=\"true\"\n    android:layout_marginTop=\"20dp\"&gt;\n\n    &lt;ImageView\n        android:layout_centerInParent=\"true\"\n        android:id=\"@+id/warning_circle\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"20dp\"\n        android:src=\"@drawable/ic_launcher_background\"/&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/button_menu\"\n        android:layout_width=\"44dp\"\n        android:layout_height=\"44dp\"\n        android:padding=\"5dp\"\n        android:layout_marginRight=\"-20dp\"\n        android:layout_marginBottom=\"-20dp\"\n        android:layout_alignRight=\"@+id/warning_circle\"\n        android:layout_alignBottom=\"@+id/warning_circle\"\n        android:src=\"@drawable/ic_menu_gallery\"\n        android:background=\"@color/colorAccent\"\n        android:elevation=\"4dp\"\n        android:scaleType=\"fitXY\"\n        android:adjustViewBounds=\"true\"/&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>Use this way!!\nWe have a concept of layers in relative layout!\nVertically down views are on the top most layer.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11928635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a22a9c15ed1ee4f1828aec0b2bb90217?s=128&d=identicon&r=PG&f=1", "display_name": "Aditya Modi", "link": "https://stackoverflow.com/users/11928635/aditya-modi"}, "is_accepted": false, "score": 0, "last_activity_date": 1574234950, "creation_date": 1574234950, "answer_id": 58948919, "question_id": 58946988, "link": "https://stackoverflow.com/questions/58946988/android-imageview-over-another-imageview/58948919#58948919", "title": "Android imageview over another imageview", "body": "<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;ImageView\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:scaleType=\"fitXY\"\n        android:src=\"@drawable/download\" /&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_centerInParent=\"true\"&gt;\n\n        &lt;ImageView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:src=\"@drawable/download_img\" /&gt;\n    &lt;/RelativeLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 211, "user_id": 1738488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JE0T7.jpg?s=128&g=1", "display_name": "Dima S", "link": "https://stackoverflow.com/users/1738488/dima-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1574243080, "creation_date": 1574243080, "answer_id": 58951197, "question_id": 58946988, "link": "https://stackoverflow.com/questions/58946988/android-imageview-over-another-imageview/58951197#58951197", "title": "Android imageview over another imageview", "body": "<p>You could try to search any ready-to-use solutions for badges like <a href=\"https://androidexample365.com/add-badge-with-counter-to-imageview-android/\" rel=\"nofollow noreferrer\">ImageBadgeView</a>. \nOr try to play with <a href=\"https://material.io/develop/android/components/badging/\" rel=\"nofollow noreferrer\">BadgeDrawable</a> from material lib.</p>\n\n<p>I'd prefer to use <code>ViewOverlay</code> for such purposes and just add few rows of code:</p>\n\n<pre><code>button_menu.post {\n    val drawable = ContextCompat.getDrawable(context, R.drawable.ic_warning_circle)\n    drawable.setBounds(\n        button_menu.width - drawable.intrinsicWidth,\n        button_menu.height - drawable.intrinsicHeight,\n        button_menu.width,\n        button_menu.height\n    )\n    button_menu.overlay.add(drawable)\n}\n</code></pre>\n\n<p>In this way you would reduce amount of containers in your xml layout and make it more readable.</p>\n"}], "owner": {"reputation": 5412, "user_id": 697033, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b9a174a1c104593989507de16c8bb769?s=128&d=identicon&r=PG", "display_name": "tech_human", "link": "https://stackoverflow.com/users/697033/tech-human"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 454, "favorite_count": 0, "accepted_answer_id": 58947050, "answer_count": 7, "score": -1, "last_activity_date": 1574243080, "creation_date": 1574225995, "last_edit_date": 1574226425, "question_id": 58946988, "link": "https://stackoverflow.com/questions/58946988/android-imageview-over-another-imageview", "title": "Android imageview over another imageview", "body": "<p>I want an icon (ImageView) over another ImageView. When I tried, the icon is hiding behind the white image. In my code below, first image view is for the white box and another image view is for the icon.</p>\n\n<pre><code>&lt;RelativeLayout\n            android:layout_width=\"54dp\"\n            android:layout_height=\"54dp\"\n            android:layout_alignParentTop=\"true\"\n            android:layout_alignParentStart=\"true\"\n            android:layout_marginStart=\"20dp\"\n            android:layout_marginTop=\"20dp\"&gt;\n\n            &lt;ImageView\n                android:id=\"@+id/button_menu\"\n                android:layout_width=\"44dp\"\n                android:layout_height=\"44dp\"\n                android:layout_alignParentTop=\"true\"\n                android:layout_alignParentStart=\"true\"\n                android:padding=\"5dp\"\n                android:src=\"@drawable/ic_menu\"\n                android:background=\"@drawable/button_white_rounded\"\n                android:elevation=\"4dp\"\n                android:scaleType=\"fitXY\"\n                android:adjustViewBounds=\"true\"\n                android:tint=\"@color/colorText\"/&gt;\n\n            &lt;ImageView\n                android:id=\"@+id/warning_circle\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_alignParentBottom=\"true\"\n                android:layout_alignParentRight=\"true\"\n                android:src=\"@drawable/ic_warning_circle\"/&gt;\n        &lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>I want the orange icon in screenshot over the white box. How can I bring it on the white box image?</p>\n\n<p><a href=\"https://i.stack.imgur.com/yNS13.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yNS13.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["sorting", "dictionary", "kotlin", "functional-programming", "conditional-statements"], "answers": [{"tags": [], "owner": {"reputation": 283, "user_id": 5910912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4e946ac12556915e236aca2001f6cb3?s=128&d=identicon&r=PG&f=1", "display_name": "mickstar", "link": "https://stackoverflow.com/users/5910912/mickstar"}, "is_accepted": false, "score": 0, "last_activity_date": 1574224659, "creation_date": 1574224659, "answer_id": 58946789, "question_id": 58946554, "link": "https://stackoverflow.com/questions/58946554/how-to-conditionally-reverse-a-list-with-in-a-compareby-in-kotlin/58946789#58946789", "title": "How to Conditionally reverse a list with in a compareBy in Kotlin", "body": "<pre><code>private fun List&lt;Item&gt;.sort() : List&lt;Item&gt;{\n    if (model.preferences.isSortedAscendingly()){\n        return this.sortedWith(sortMethod)\n    }\n    return this.sortedWith(sortMethod).reversed()\n}\n</code></pre>\n\n<p>Decided my solution will be using the above extension function, but if anyone has a better way i would love to hear.</p>\n"}, {"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 0, "last_activity_date": 1574236795, "creation_date": 1574236795, "answer_id": 58949342, "question_id": 58946554, "link": "https://stackoverflow.com/questions/58946554/how-to-conditionally-reverse-a-list-with-in-a-compareby-in-kotlin/58949342#58949342", "title": "How to Conditionally reverse a list with in a compareBy in Kotlin", "body": "<p>Use <code>let()</code>?</p>\n\n<pre><code>private fun List&lt;Item&gt;.sort() = sortedWith(sortMethod).let {\n    if (model.preferences.isSortedAscendingly())\n        it\n    else\n        it.reversed()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 283, "user_id": 5910912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4e946ac12556915e236aca2001f6cb3?s=128&d=identicon&r=PG&f=1", "display_name": "mickstar", "link": "https://stackoverflow.com/users/5910912/mickstar"}, "edited": false, "score": 0, "creation_date": 1574389699, "post_id": 58955578, "comment_id": 104225370, "body": "thank you, this is what i wanted. Android studio&#39;s linter gives me a warning and suggests I add Locale.getDefault() to my toLowerCase though?"}, {"owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "reply_to_user": {"reputation": 283, "user_id": 5910912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4e946ac12556915e236aca2001f6cb3?s=128&d=identicon&r=PG&f=1", "display_name": "mickstar", "link": "https://stackoverflow.com/users/5910912/mickstar"}, "edited": false, "score": 1, "creation_date": 1574443689, "post_id": 58955578, "comment_id": 104248431, "body": "@mickstar Calling <code>toLowerCase()</code> calls <code>toLowerCase(Locale.getDefault())</code>, so manual specification of <code>Locale.getDefault()</code> doesn&#39;t make any sense. You should use <code>toLowerCase()</code> without an argument for creating a result that will be displayed. But if you use a result internally, for example, for sorting database entries, you should specify a <b>constant</b> locale (not <code>Locale.getDefault()</code>), or your program may break after default locale changing. If you don&#39;t know where a result will be used, you should extract the <code>locale</code> parameter."}, {"owner": {"reputation": 283, "user_id": 5910912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4e946ac12556915e236aca2001f6cb3?s=128&d=identicon&r=PG&f=1", "display_name": "mickstar", "link": "https://stackoverflow.com/users/5910912/mickstar"}, "edited": false, "score": 0, "creation_date": 1574563985, "post_id": 58955578, "comment_id": 104275873, "body": "Thank you for this comment. I have changed it to Locale.ROOT. Cheers."}], "tags": [], "owner": {"reputation": 1994, "user_id": 10536125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7445c27d383f2368956f6f23e75f5fe1?s=128&d=identicon&r=PG&f=1", "display_name": "Bananon", "link": "https://stackoverflow.com/users/10536125/bananon"}, "is_accepted": true, "score": 1, "last_activity_date": 1574256646, "creation_date": 1574256646, "answer_id": 58955578, "question_id": 58946554, "link": "https://stackoverflow.com/questions/58946554/how-to-conditionally-reverse-a-list-with-in-a-compareby-in-kotlin/58955578#58955578", "title": "How to Conditionally reverse a list with in a compareBy in Kotlin", "body": "<p>You can do it like this:</p>\n\n<pre><code>list.sortedWith(if (sortAscending) sortMethod else sortMethod.reversed())\n</code></pre>\n\n<hr>\n\n<p>I suggest removing <code>Locale.getDefault()</code> since <code>toLowerCase()</code> is equivalent to <code>toLowerCase(Locale.getDefault())</code>.</p>\n"}], "owner": {"reputation": 283, "user_id": 5910912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4e946ac12556915e236aca2001f6cb3?s=128&d=identicon&r=PG&f=1", "display_name": "mickstar", "link": "https://stackoverflow.com/users/5910912/mickstar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 58955578, "answer_count": 3, "score": 0, "last_activity_date": 1574256646, "creation_date": 1574223099, "question_id": 58946554, "link": "https://stackoverflow.com/questions/58946554/how-to-conditionally-reverse-a-list-with-in-a-compareby-in-kotlin", "title": "How to Conditionally reverse a list with in a compareBy in Kotlin", "body": "<p>I have the following code</p>\n\n<pre><code>    val sortMethod = compareBy&lt;Item&gt; {\n        when (model.preferences.getSortMethod()) {\n            TITLE -&gt; it.getTitle().toLowerCase(Locale.getDefault())\n            DATE -&gt; it.getSortableDateString()\n            AUTHOR -&gt; it.getAuthor().toLowerCase(Locale.getDefault())\n            DATE_ADDED -&gt; it.getSortableDateAddedString()\n        }\n    }.thenBy { it.getTitle().toLowerCase(Locale.getDefault()) }\n</code></pre>\n\n<p>which i then use on Lists like so</p>\n\n<p><code>myItems.sortedWith(sortMethod)</code></p>\n\n<p>I like this solution and I think it's very elegant. However, <strong>i would like to add the ability to sort ascendingly/descendingly as well</strong>. </p>\n\n<p>So I am asking how do I add a conditional <code>.reverse()</code> to my sortMethod? I am very reluctant to put a if condition on every one of my sort calls and would like to get it all done in the sortMethod logic</p>\n"}, {"tags": ["sqlite", "kotlin", "text", "delimiter"], "comments": [{"owner": {"reputation": 159, "user_id": 9914106, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CVvgjASj3xI/AAAAAAAAAAI/AAAAAAAAAPY/NbkrdAZqYT4/photo.jpg?sz=128", "display_name": "Terry Wu", "link": "https://stackoverflow.com/users/9914106/terry-wu"}, "edited": false, "score": 0, "creation_date": 1574223115, "post_id": 58946522, "comment_id": 104150927, "body": "Space &#39; &#39; charactor is also a &#39;delimeter\u2018 you can use."}, {"owner": {"reputation": 173, "user_id": 11821914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f884f6b7cde48993e88aa10e89e9b2ed?s=128&d=identicon&r=PG&f=1", "display_name": "kinesis", "link": "https://stackoverflow.com/users/11821914/kinesis"}, "reply_to_user": {"reputation": 159, "user_id": 9914106, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-CVvgjASj3xI/AAAAAAAAAAI/AAAAAAAAAPY/NbkrdAZqYT4/photo.jpg?sz=128", "display_name": "Terry Wu", "link": "https://stackoverflow.com/users/9914106/terry-wu"}, "edited": false, "score": 0, "creation_date": 1574223604, "post_id": 58946522, "comment_id": 104151048, "body": "I just edited and added another scenario, in this one there is no accurate space count."}, {"owner": {"reputation": 70791, "user_id": 997358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f849cfde4e526e22e916fa69103ef7e7?s=128&d=identicon&r=PG", "display_name": "peak", "link": "https://stackoverflow.com/users/997358/peak"}, "edited": false, "score": 1, "creation_date": 1574225370, "post_id": 58946522, "comment_id": 104151426, "body": "Please follow the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> guidelines. What table schema do you have in mind?"}, {"owner": {"reputation": 173, "user_id": 11821914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f884f6b7cde48993e88aa10e89e9b2ed?s=128&d=identicon&r=PG&f=1", "display_name": "kinesis", "link": "https://stackoverflow.com/users/11821914/kinesis"}, "reply_to_user": {"reputation": 70791, "user_id": 997358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f849cfde4e526e22e916fa69103ef7e7?s=128&d=identicon&r=PG", "display_name": "peak", "link": "https://stackoverflow.com/users/997358/peak"}, "edited": false, "score": 0, "creation_date": 1574225913, "post_id": 58946522, "comment_id": 104151546, "body": "Just edited @peak"}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 11821914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f884f6b7cde48993e88aa10e89e9b2ed?s=128&d=identicon&r=PG&f=1", "display_name": "kinesis", "link": "https://stackoverflow.com/users/11821914/kinesis"}, "edited": false, "score": 0, "creation_date": 1574223824, "post_id": 58946620, "comment_id": 104151091, "body": "Ok, lets say I read the file with line reader, how do I separate the column since there is no fixed spacing between columns."}, {"owner": {"reputation": 21, "user_id": 6594164, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Lv9p4GwCZ7w/AAAAAAAAAAI/AAAAAAAAAEA/Wq25Ojs_JLQ/photo.jpg?sz=128", "display_name": "Harshit Sharma", "link": "https://stackoverflow.com/users/6594164/harshit-sharma"}, "reply_to_user": {"reputation": 173, "user_id": 11821914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f884f6b7cde48993e88aa10e89e9b2ed?s=128&d=identicon&r=PG&f=1", "display_name": "kinesis", "link": "https://stackoverflow.com/users/11821914/kinesis"}, "edited": false, "score": 0, "creation_date": 1574224050, "post_id": 58946620, "comment_id": 104151138, "body": "split your single line string in string array by using string.split(&quot; &quot;)."}, {"owner": {"reputation": 173, "user_id": 11821914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f884f6b7cde48993e88aa10e89e9b2ed?s=128&d=identicon&r=PG&f=1", "display_name": "kinesis", "link": "https://stackoverflow.com/users/11821914/kinesis"}, "edited": false, "score": 0, "creation_date": 1574225888, "post_id": 58946620, "comment_id": 104151544, "body": "Please take a look the edited question, I tried as you suggested but not working for varied multiple space. It works for 1 space tho."}, {"owner": {"reputation": 21, "user_id": 6594164, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Lv9p4GwCZ7w/AAAAAAAAAAI/AAAAAAAAAEA/Wq25Ojs_JLQ/photo.jpg?sz=128", "display_name": "Harshit Sharma", "link": "https://stackoverflow.com/users/6594164/harshit-sharma"}, "reply_to_user": {"reputation": 173, "user_id": 11821914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f884f6b7cde48993e88aa10e89e9b2ed?s=128&d=identicon&r=PG&f=1", "display_name": "kinesis", "link": "https://stackoverflow.com/users/11821914/kinesis"}, "edited": false, "score": 0, "creation_date": 1574311038, "post_id": 58946620, "comment_id": 104189361, "body": "Use this split(&quot;\\\\s+&quot;);"}], "tags": [], "owner": {"reputation": 21, "user_id": 6594164, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Lv9p4GwCZ7w/AAAAAAAAAAI/AAAAAAAAAEA/Wq25Ojs_JLQ/photo.jpg?sz=128", "display_name": "Harshit Sharma", "link": "https://stackoverflow.com/users/6594164/harshit-sharma"}, "is_accepted": false, "score": 1, "last_activity_date": 1574223547, "creation_date": 1574223547, "answer_id": 58946620, "question_id": 58946522, "link": "https://stackoverflow.com/questions/58946522/is-it-possible-to-load-data-from-txt-file-to-sqlite-without-delimiters/58946620#58946620", "title": "Is it possible to load data from .txt file to sqlite without delimiters?", "body": "<p>You can do it programatically.\n- Read text file line wise.\n- store it in sqlite DB.</p>\n"}, {"comments": [{"owner": {"reputation": 173, "user_id": 11821914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f884f6b7cde48993e88aa10e89e9b2ed?s=128&d=identicon&r=PG&f=1", "display_name": "kinesis", "link": "https://stackoverflow.com/users/11821914/kinesis"}, "edited": false, "score": 0, "creation_date": 1574233795, "post_id": 58947110, "comment_id": 104154056, "body": "Splendid Work. You just Nail it. Thanks a lot."}], "tags": [], "owner": {"reputation": 1256, "user_id": 2468375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bb422a9f7bbfaec418e2402e07ba523?s=128&d=identicon&r=PG", "display_name": "forkdbloke", "link": "https://stackoverflow.com/users/2468375/forkdbloke"}, "is_accepted": true, "score": 1, "last_activity_date": 1574226625, "creation_date": 1574226625, "answer_id": 58947110, "question_id": 58946522, "link": "https://stackoverflow.com/questions/58946522/is-it-possible-to-load-data-from-txt-file-to-sqlite-without-delimiters/58947110#58947110", "title": "Is it possible to load data from .txt file to sqlite without delimiters?", "body": "<p>Using Java's Regex to solve your issue.</p>\n\n<pre><code>import java.util.Arrays;\n\nclass sample{\n    public static void main(String[] args) {\n        String lineOfPhonesWithMultipleWhiteSpace = \"0000401241   Bloody Bookmark                                       0.009780000005434     \\n\";\n        String[] phones = lineOfPhonesWithMultipleWhiteSpace.split(\"\\\\s+\");\n\n        System.out.println(\"input string separated by tabs: \" + lineOfPhonesWithMultipleWhiteSpace);\n        System.out.println(\"output string: \" + Arrays.toString(phones));\n    }\n}\n</code></pre>\n\n<h1>OUTPUT</h1>\n\n<pre><code>\ninput string separated by unknown spaces: 0000401241   Bloody Bookmark                                       0.009780000005434     \n\noutput string: [0000401241, Bloody, Bookmark, 0.009780000005434]\n\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 11821914, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f884f6b7cde48993e88aa10e89e9b2ed?s=128&d=identicon&r=PG&f=1", "display_name": "kinesis", "link": "https://stackoverflow.com/users/11821914/kinesis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 58947110, "answer_count": 2, "score": 0, "last_activity_date": 1574232586, "creation_date": 1574222915, "last_edit_date": 1574232586, "question_id": 58946522, "link": "https://stackoverflow.com/questions/58946522/is-it-possible-to-load-data-from-txt-file-to-sqlite-without-delimiters", "title": "Is it possible to load data from .txt file to sqlite without delimiters?", "body": "<p>Is there anyway to load data from text file without delimiters to a sqlite database in programatically or sqlite way? I have only text file without delimiters like below-</p>\n\n<pre><code>0000401962        0000401962   \n0009749467841     1000220948   \n0009920160010     2000021765   \n0009920160020     2000021786   \n0009920160030     2000021787   \n0009920160040     2000021788   \n0009920160042     2000024679   \n0009920160043     2000025073   \n0009920160044     2000025385\n</code></pre>\n\n<p>Sometime Like this,</p>\n\n<pre><code>0000401241   Bloody Bookmark                                       0.009780000005434     \n0000401242   \u2122\u2019\u00ab\u00ae\u2018\u00b5 Lunch Box (\u00a7\u221a\u2019\u00a1-\u00ae\u00ff\u00a5\u00b7\u00a5\u00df)                      139.109000021350        \n0000401243   \u2122\u2019\u00ab\u00ae\u2018\u00b5 Lunch Box (\u2021\u2211\u201c-\u00ae\u00ff\u00a5\u00a2\u201c\u00ab)                       139.109000021351        \n0000401244   \u2021\u00a0\u25ca\u00c8\u00d5\u00ac\u25ca\u00a5\u00a7\u00d5\u00b0\u2248\u00a1 \u00a0\u2019\u00a5\u201d size M (\u00a1\u00c0\u00b0\u221a\u221a\u00a1 56\"                80.009000021356        \n0000401245   \u2021\u00a0\u25ca\u00c8\u00d5\u00ac\u25ca\u00a5\u00a7\u00d5\u00b0\u2248\u00a1 \u00a0\u2019\u00a5\u201d size L (\u00a1\u00c0\u00b0\u221a\u221a\u00a1 56\"                80.009000021357        \n0000401246   \u00c0\u03c0\u2014\u00df\u00a0\u25ca\u00d5\u00b7\u00ae\u00b0\u00f8\u221a\u2019 \u00aa\u221a\u2018\u00bb\u03c0\u201c\u00a7\u00a5\u2019 \u00aa\u221a\u201c\u00a0\u201c\u2211\u00e6\u221a\u2013\u00ab\u2018\u00c0\u201c\u221a                0.009000021723        \n0000401250   Real Parenting Box                                  105.009000021716        \n0000401251   \u2122\u00ff\u00a5\u2211\u2019\u00cb\u00a7\u2014\u00cb\u03c0 Game of Thrones                            0.009000021839        \n0000401252   \u2122\u2014\u00c8\u03c0\u00ab\u201c\u00df\u00c0\u03c0\u2014\u00df\u00a0\u25ca\u00d5\u00a1\u2019\u2248\u00c8\u00d5 (\u00a0\u2019\u2021\u00a2\u2019\u00ac\u00ab)                      1200.009000022269        \n0000401253   \u2122\u2014\u00c8\u03c0\u00ab\u201c\u00df\u00c0\u03c0\u2014\u00df\u00a0\u25ca\u00d5\u00a1\u2019\u2248\u00c8\u00d5\u00a0\u2019\u00a2\u201c\u00ab                           1200.009000022270        \n0000401254   \u2122\u2014\u00c8\u03c0\u00ab\u201c\u00df\u00c0\u03c0\u2014\u00df\u00a0\u25ca\u00d5\u00a1\u2019\u2248\u00c8\u00d5\u00a0\u2019\u2122\u00a1\u00e6\u0178                          1200.009000022271        \n0000401255   \u2122\u2014\u00c8\u03c0\u00ab\u201c\u00df\u00c0\u03c0\u2014\u00df\u00a0\u25ca\u00d5\u00a1\u2019\u2248\u00c8\u00d5 (\u00a0\u2019\u00f8\u00c8\u201c)                        1200.009000022272        \n0000401256   \u2122\u2014\u00c8\u03c0\u00ab\u201c\u00df\u00c0\u03c0\u2014\u00df\u00a0\u25ca\u00d5\u00a1\u2019\u2248\u00c8\u00d5\u00a0\u2019\u2021\u00c0\u2248\u25ca\u00d5\u00df                        1200.009000022273        \n0000401257   Postcard \u00b0\u221a\u221a\u00a1\u00b0\u201c\u221a\u00a2\u00cb\u201c\u00ab \u00c0\u03c0\u00cb\u00ab\u00ac : \u201e\u222b                       0.009000022370    \n</code></pre>\n\n<p>This is some codes that I tried -</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        if (data == null)\n            return\n        if (requestCode==requestcode) {\n            val filepath=data.data\n            val cursor=contentResolver.openInputStream(android.net.Uri.parse(filepath.toString()))\n            lbl.text=filepath.toString()\n            master_path=filepath.toString()\n            noti=cursor.toString()\n            val db=this.openOrCreateDatabase(REAL_DATABASE, Context.MODE_PRIVATE, null)\n            val tableName=\"Master\"\n            db.execSQL(\"delete from $tableName\")\n            try {\n                println(\"gg\")\n                if (resultCode == Activity.RESULT_OK) {\n                    try {\n                        val file=InputStreamReader(cursor)\n\n                        val buffer=BufferedReader(file)\n                        buffer.readLine()\n                        val contentValues=ContentValues()\n                        db.beginTransaction()\n                        while(true) {\n                            val line=buffer.readLine()\n                            if (line == null) break\n                            val str=line.split(\" \".toRegex(), 4)\n                                .toTypedArray()\n\n                            val barcode=str[0].toString()\n                            val item_code=str[1].toString()\n                            val onhand_qty=str[2].toString()\n                            val description=str[3].toString()\n\n                            contentValues.put(\"barcode\", barcode)\n                            contentValues.put(\"item_code\", item_code)\n                            contentValues.put(\"onhand_qty\", onhand_qty)\n                            contentValues.put(\"description\", description)\n                            db.insert(tableName, null, contentValues)\n                        }\n\n                        db.setTransactionSuccessful()\n\n                        val dateF=SimpleDateFormat(\"dd/MM/yy\", Locale.getDefault())\n                        val date=dateF.format(Calendar.getInstance().time)\n                        master_date=date.toString()\n\n                        db.endTransaction()\n                        summery()\n                    } catch (e: IOException) {\n                        if (db.inTransaction())\n                            db.endTransaction()\n                        val d=Dialog(this)\n                        d.setTitle(e.message.toString() + \"first\")\n                        d.show()\n                    }\n\n                } else {\n                    if (db.inTransaction())\n                        db.endTransaction()\n                    val d=Dialog(this)\n                    d.setTitle(\"Only CSV files allowed\")\n                    d.show()\n                }\n            } catch (ex: Exception) {\n                if (db.inTransaction())\n                    db.endTransaction()\n\n                val d=Dialog(this)\n                d.setTitle(ex.message.toString() + \"second\")\n                d.show()\n            }\n\n        }\n\n    }\n</code></pre>\n\n<p>As you see I use line.split(\" \") to get a separated column, but in text file, there is varied spacing. So after getting line splitter \" \" it takes everything behind that space and put them in a column. So how should I fix that?</p>\n"}, {"tags": ["spring", "spring-boot", "testing", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2270, "user_id": 8112217, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xFFPv.jpg?s=128&g=1", "display_name": "tsarenkotxt", "link": "https://stackoverflow.com/users/8112217/tsarenkotxt"}, "is_accepted": false, "score": 0, "last_activity_date": 1574211744, "last_edit_date": 1574211744, "creation_date": 1574210889, "answer_id": 58945016, "question_id": 58944886, "link": "https://stackoverflow.com/questions/58944886/kotlin-with-spring-boot-2-1-webmvctest-missing-beans/58945016#58945016", "title": "Kotlin with Spring Boot 2.1 WebMvcTest - missing beans", "body": "<p>Just add annotation <code>@SpringBootTest</code>, from the <a href=\"https://spring.io/guides/gs/testing-web/\" rel=\"nofollow noreferrer\">spring guides</a>:</p>\n\n<blockquote>\n  <p>The @SpringBootTest annotation tells Spring Boot to go and look for a main configuration class (one with @SpringBootApplication for instance), and use that to start a Spring application context. You can run this test in your IDE or on the command line (mvn test or gradle test) and it should pass.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 5, "user_id": 7192690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d3f0edb828f7beb271f288d29c4f02b?s=128&d=identicon&r=PG&f=1", "display_name": "archis99", "link": "https://stackoverflow.com/users/7192690/archis99"}, "is_accepted": false, "score": 0, "last_activity_date": 1580142579, "creation_date": 1580142579, "answer_id": 59935195, "question_id": 58944886, "link": "https://stackoverflow.com/questions/58944886/kotlin-with-spring-boot-2-1-webmvctest-missing-beans/59935195#59935195", "title": "Kotlin with Spring Boot 2.1 WebMvcTest - missing beans", "body": "<p>Annotate your test class with just following two annotations </p>\n\n<pre><code>@WebMvcTest(secure = false)\n@ContextConfiguration(classes = [YourClass::class])\n</code></pre>\n\n<p><strong>secure = false</strong> is to disable the Spring security configuration.</p>\n"}], "owner": {"reputation": 55, "user_id": 12075726, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pkz__TrlG_U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reUIH2c15Apb8Rn3KcNnffUfZ-R8Q/photo.jpg?sz=128", "display_name": "ben l", "link": "https://stackoverflow.com/users/12075726/ben-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 327, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1580142579, "creation_date": 1574209692, "question_id": 58944886, "link": "https://stackoverflow.com/questions/58944886/kotlin-with-spring-boot-2-1-webmvctest-missing-beans", "title": "Kotlin with Spring Boot 2.1 WebMvcTest - missing beans", "body": "<p>Here's kind of what I have:</p>\n\n<pre><code>@RunWith(SpringRunner::class)\n@ActiveProfiles(\"unit-test\")\n@WithUserDetails\n@WebMvcTest(MyController::class)\nclass MyControllerTest {\n\n    @MockBean\n    lateinit var service: MyService\n\n    @Autowired\n    lateinit var mvc: MockMvc\n</code></pre>\n\n<p>But I keep getting exceptions similar to:</p>\n\n<pre><code> org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type \n</code></pre>\n\n<p>and every time I add in a dependency, such as by:</p>\n\n<pre><code>    @MockBean\n    lateinit var anotherBean: AnotherBean\n</code></pre>\n\n<p>another missing bean is thrown (kind of endless).</p>\n\n<p>Is there a proper solution for this in Kotlin?</p>\n"}, {"tags": ["exception", "kotlin", "runtimeexception"], "answers": [{"tags": [], "owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "is_accepted": true, "score": 3, "last_activity_date": 1574208874, "creation_date": 1574208874, "answer_id": 58944781, "question_id": 58944722, "link": "https://stackoverflow.com/questions/58944722/how-kotlin-changes-checked-exception-to-runtime-exception/58944781#58944781", "title": "How kotlin changes checked exception to runtime exception?", "body": "<p>Checked exceptions are no different than unchecked exceptions at runtime. What makes them different in Java is how the Java <strong>compiler</strong> handles them. It refuses to compile code that throws a checked exception without declaring it in the throws clause of the method. The Kotlin compiler simply doesn't have this rule, and accepts such source code.</p>\n\n<p>Note that you can actually cheat with the Java compiler and throw a checked exception without declaring it in the throws clause:</p>\n\n<pre><code>public void haha() {\n    IOException e = new IOException();\n    sneakyThrow(e);\n}\n\nprivate &lt;E extends Exception&gt; void sneakyThrow(Exception e) throws E {\n    throw (E) e;\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 1957379, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7603e810c61751b9a32e7de733a22fa1?s=128&d=identicon&r=PG", "display_name": "Yu Byung Suk", "link": "https://stackoverflow.com/users/1957379/yu-byung-suk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 503, "favorite_count": 0, "accepted_answer_id": 58944781, "answer_count": 1, "score": 0, "last_activity_date": 1574208874, "creation_date": 1574208289, "question_id": 58944722, "link": "https://stackoverflow.com/questions/58944722/how-kotlin-changes-checked-exception-to-runtime-exception", "title": "How kotlin changes checked exception to runtime exception?", "body": "<p>I already know that there is no such \"checked\" exception things in kotlin.</p>\n\n<p>but I wonder how kotlin can <strong>\"transform\"</strong> checked exception to runtime exception internally.</p>\n\n<p>For example, below code will throws FileNotFoundException from java.io package (not from kotlin package) when there is no such file.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>var s = File(\"hello.txt\").inputStream()\n</code></pre>\n\n<p>Sure, There is no need to add try-catch block explicitly, but I'm curious how this works internally.</p>\n\n<p>I assume that somehow they reimplemented all java checked exceptions to kotlin friendly runtime exceptions, but My guess doesn't seem right.</p>\n"}, {"tags": ["android", "kotlin", "countdowntimer"], "answers": [{"comments": [{"owner": {"reputation": 413, "user_id": 6533406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4c6c045774753c3a3386e1c78ae9769?s=128&d=identicon&r=PG&f=1", "display_name": "Pranciskus", "link": "https://stackoverflow.com/users/6533406/pranciskus"}, "edited": false, "score": 0, "creation_date": 1574269401, "post_id": 58945164, "comment_id": 104174714, "body": "Thanks, for answer, resuming works but if I pause and resume, I can&#39;t pause again. I didn&#39;t figure out how to pause it again. Look at my edited code."}, {"owner": {"reputation": 611, "user_id": 5516859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F0zxA.jpg?s=128&g=1", "display_name": "Agnaramon", "link": "https://stackoverflow.com/users/5516859/agnaramon"}, "reply_to_user": {"reputation": 413, "user_id": 6533406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4c6c045774753c3a3386e1c78ae9769?s=128&d=identicon&r=PG&f=1", "display_name": "Pranciskus", "link": "https://stackoverflow.com/users/6533406/pranciskus"}, "edited": false, "score": 0, "creation_date": 1574419718, "post_id": 58945164, "comment_id": 104235946, "body": "Oh sorry ! Reuse the same instance of <code>timer</code> for resuming. Remove <code>var</code> keyword before. I&#39;ve edited my answer at the end"}, {"owner": {"reputation": 413, "user_id": 6533406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4c6c045774753c3a3386e1c78ae9769?s=128&d=identicon&r=PG&f=1", "display_name": "Pranciskus", "link": "https://stackoverflow.com/users/6533406/pranciskus"}, "edited": false, "score": 0, "creation_date": 1574445309, "post_id": 58945164, "comment_id": 104249161, "body": "Thanks, it works now. However, it doesn&#39;t work very well. I noticed that if, for example, timer shows &quot;6&quot; and I press &quot;cancel&quot; button at the moment when it&#39;s almost &quot;5&quot;, &quot;cancel&quot; button stops working sometimes."}, {"owner": {"reputation": 413, "user_id": 6533406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4c6c045774753c3a3386e1c78ae9769?s=128&d=identicon&r=PG&f=1", "display_name": "Pranciskus", "link": "https://stackoverflow.com/users/6533406/pranciskus"}, "edited": false, "score": 0, "creation_date": 1574446969, "post_id": 58945164, "comment_id": 104249870, "body": "If I cancel timer in <code>onPause()</code> and resume in &#39;onResume&#39; timer still works in background. Do you know why?"}, {"owner": {"reputation": 611, "user_id": 5516859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F0zxA.jpg?s=128&g=1", "display_name": "Agnaramon", "link": "https://stackoverflow.com/users/5516859/agnaramon"}, "reply_to_user": {"reputation": 413, "user_id": 6533406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4c6c045774753c3a3386e1c78ae9769?s=128&d=identicon&r=PG&f=1", "display_name": "Pranciskus", "link": "https://stackoverflow.com/users/6533406/pranciskus"}, "edited": false, "score": 1, "creation_date": 1574462674, "post_id": 58945164, "comment_id": 104255683, "body": "I noticed it too ! But I don&#39;t know why :("}], "tags": [], "owner": {"reputation": 611, "user_id": 5516859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/F0zxA.jpg?s=128&g=1", "display_name": "Agnaramon", "link": "https://stackoverflow.com/users/5516859/agnaramon"}, "is_accepted": true, "score": 2, "last_activity_date": 1574419745, "last_edit_date": 1574419745, "creation_date": 1574212035, "answer_id": 58945164, "question_id": 58944590, "link": "https://stackoverflow.com/questions/58944590/how-to-resume-countdowntimer/58945164#58945164", "title": "How to resume CountDownTimer?", "body": "<p>My suggestion : keep the <code>millisUntilFinished</code> value and use it for recreating <code>CountDownTimer</code></p>\n\n<pre><code>\nvar currentMillis: Long // &lt;-- keep millisUntilFinished\n\n// First creation of your timer\nvar timer = object : CountDownTimer(60000, 1000) {\n   override fun onTick(millisUntilFinished: Long) {\n\n     currentMillis = millisUntilFinished // &lt;-- save value\n\n     textView3.text = (millisUntilFinished / 1000).toString() + \"\"\n     println(\"Timer  : \" + millisUntilFinished / 1000)\n   }\n\n   override fun onFinish() {}\n   }\n}\n\n...\n\n// You start it\ntimer.start()\n\n...\n\n// For some reasons in your app you pause (really cancel) it\ntimer.cancel()\n\n...\n\n// And for reasuming\ntimer = object : CountDownTimer(currentMillis, 1000) {\n   override fun onTick(millisUntilFinished: Long) {\n     currentMillis = millisUntilFinished\n     textView3.text = (millisUntilFinished / 1000).toString() + \"\"\n     println(\"Timer  : \" + millisUntilFinished / 1000)\n   }\n\n   override fun onFinish() {}\n   }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 15253541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b053cea9b0929de820bf00c2932307c6?s=128&d=identicon&r=PG", "display_name": "Yogesh Mishra", "link": "https://stackoverflow.com/users/15253541/yogesh-mishra"}, "is_accepted": false, "score": 0, "last_activity_date": 1613910564, "creation_date": 1613910564, "answer_id": 66302313, "question_id": 58944590, "link": "https://stackoverflow.com/questions/58944590/how-to-resume-countdowntimer/66302313#66302313", "title": "How to resume CountDownTimer?", "body": "<p>its been more than a year\ni just started learning Kotlin\nI could get pause and resume functionality successfully but there is a big lag in calling onFinish function\ni am not recreating the timer object, on clicking a button i call timer.cancel() and set a flag to true\non clicking the button again, i check value of flag and if true i call timer.start() and set the flag to false</p>\n"}], "owner": {"reputation": 413, "user_id": 6533406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4c6c045774753c3a3386e1c78ae9769?s=128&d=identicon&r=PG&f=1", "display_name": "Pranciskus", "link": "https://stackoverflow.com/users/6533406/pranciskus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "accepted_answer_id": 58945164, "answer_count": 2, "score": 0, "last_activity_date": 1613910564, "creation_date": 1574207324, "last_edit_date": 1574444617, "question_id": 58944590, "link": "https://stackoverflow.com/questions/58944590/how-to-resume-countdowntimer", "title": "How to resume CountDownTimer?", "body": "<p>I can successfully stop timer by using cancel() (timer.cancel()) function. But how to resume it? I searched a lot for various codes but everything was in Java. I need it in Kotlin. Can you give me suggestions? I use code:</p>\n\n<pre><code>val timer = object : CountDownTimer(60000, 1000) {\n        override fun onTick(millisUntilFinished: Long) {\n            textView3.text = (millisUntilFinished / 1000).toString() + \"\"\n            println(\"Timer  : \" + millisUntilFinished / 1000)\n        }\n\n        override fun onFinish() {}\n    }\n</code></pre>\n\n<p>Edited:</p>\n\n<p>In Class:</p>\n\n<pre><code>var currentMillis: Long = 0 // &lt;-- keep millisUntilFinished\n\n    // First creation of your timer\n    var timer = object : CountDownTimer(60000, 1000) {\n        override fun onTick(millisUntilFinished: Long) {\n\n            currentMillis = millisUntilFinished // &lt;-- save value\n\n            textView3.text = (millisUntilFinished / 1000).toString() + \"\"\n            println(\"Timer  : \" + millisUntilFinished / 1000)\n        }\n\n        override fun onFinish() {}\n    }\n</code></pre>\n\n<p>In onCreate():</p>\n\n<pre><code>  timer.start()\n\n            TextView2.setOnClickListener {\n                //Handle click\n                timer.cancel()\n\n            }\n\n            TextView3.setOnClickListener {\n                //Handle click\n                timer = object : CountDownTimer(currentMillis, 1000) {\n                    override fun onTick(millisUntilFinished: Long) {\n                        currentMillis = millisUntilFinished\n                        textView3.text = (millisUntilFinished / 1000).toString() + \"\"\n                        println(\"Timer  : \" + millisUntilFinished / 1000)\n                    }\n\n                    override fun onFinish() {}\n                }\n            timer.start()\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "edited": false, "score": 0, "creation_date": 1574208019, "post_id": 58944404, "comment_id": 104147686, "body": "I would suggest moving your logic out of <code>onCreateView</code> as that&#39;s just for inflating your <code>Fragment</code>. You should start your thread in <code>onActivityCreated</code> or <code>onViewCreated</code>."}], "answers": [{"tags": [], "owner": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "is_accepted": false, "score": 0, "last_activity_date": 1574208232, "creation_date": 1574208232, "answer_id": 58944711, "question_id": 58944404, "link": "https://stackoverflow.com/questions/58944404/how-do-i-get-the-activity-that-is-not-null-and-runonuithread-within-a-fragment/58944711#58944711", "title": "How do I get the activity that is not null and runOnUIThread() within a Fragment in Kotlin?", "body": "<p>For Kotlin, you can either use the <code>?</code> operator to \"do this only if it's not null\" or you can use the <code>!!</code> to \"do this, I know it won't be null.\"</p>\n\n<p>For example, you could do:</p>\n\n<pre><code>Thread(Runnable {\n        // Only run if our activity is not null - this is safe.\n        activity?.runOnUiThread(java.lang.Runnable {\n            doSomeTaskHere()   \n        })\n\n   }).start()\n</code></pre>\n\n<p>or you could do:</p>\n\n<pre><code>Thread(Runnable {\n        // I know it won't be null, force run it. If it is null, your app will crash.\n        activity!!.runOnUiThread(java.lang.Runnable {\n            doSomeTaskHere()   \n        })\n\n   }).start()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 879, "user_id": 9881903, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xOtup.jpg?s=128&g=1", "display_name": "GuanHongHuang", "link": "https://stackoverflow.com/users/9881903/guanhonghuang"}, "is_accepted": false, "score": 0, "last_activity_date": 1574210045, "creation_date": 1574210045, "answer_id": 58944924, "question_id": 58944404, "link": "https://stackoverflow.com/questions/58944404/how-do-i-get-the-activity-that-is-not-null-and-runonuithread-within-a-fragment/58944924#58944924", "title": "How do I get the activity that is not null and runOnUIThread() within a Fragment in Kotlin?", "body": "<p>If you use Kotlin, you can use coroutine. It is very simple.</p>\n\n<pre><code> GlobalScope.launch {\n\n    doSomeTaskHere() \n }\n</code></pre>\n"}], "owner": {"reputation": 383, "user_id": 1410746, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/be1560c08f62f057b048900f694f79c2?s=128&d=identicon&r=PG", "display_name": "rednaxela", "link": "https://stackoverflow.com/users/1410746/rednaxela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574210045, "creation_date": 1574206038, "question_id": 58944404, "link": "https://stackoverflow.com/questions/58944404/how-do-i-get-the-activity-that-is-not-null-and-runonuithread-within-a-fragment", "title": "How do I get the activity that is not null and runOnUIThread() within a Fragment in Kotlin?", "body": "<p>I need to use threads because there are tasks which can take unknown length of times. I am using a bottom navigation activity and so I have three fragments. Here is the first fragment on load:</p>\n\n<pre><code>override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n        ): View? {\n               val root = inflater.inflate(R.layout.fragment_key, container, false)\n               Thread(Runnable {\n                    // this part does not compile because activity can be null and the\n                    // method call should be from non-nullable activity\n                    activity.runOnUiThread(java.lang.Runnable {\n                        doSomeTaskHere()   \n                    })\n\n               }).start()\n\n              return root\n          }\n</code></pre>\n\n<p>How do I pass in the activity from my MainActivity into the fragment that is not-nullable in Kotlin?</p>\n"}, {"tags": ["android", "kotlin", "android-view", "android-custom-view"], "answers": [{"comments": [{"owner": {"reputation": 147, "user_id": 10152861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4888eb3770bfd42752c129a5e1e55568?s=128&d=identicon&r=PG&f=1", "display_name": "Lester", "link": "https://stackoverflow.com/users/10152861/lester"}, "edited": false, "score": 0, "creation_date": 1574205554, "post_id": 58944074, "comment_id": 104147068, "body": "That seems to do it, sir. Thanks!"}], "tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": true, "score": 2, "last_activity_date": 1574203947, "creation_date": 1574203947, "answer_id": 58944074, "question_id": 58944010, "link": "https://stackoverflow.com/questions/58944010/how-to-send-argument-through-super-after-being-defined-in-subclass/58944074#58944074", "title": "How to Send Argument Through Super After Being Defined In Subclass?", "body": "<p>Try this:</p>\n\n<pre><code>class BoxDrawingView : View {\n\n    var attrs: AttributeSet? = null\n\n    constructor(context: Context) : super(context)\n\n    constructor(context: Context, attrs: AttributeSet) : super(context, attrs) {\n        this.attrs = attrs\n    }\n}\n</code></pre>\n\n<p>The problem is that you don't have one single constructor that works for all cases. When this happens, you can avoid the normal constructor shorthand (i.e., declaring properties inline with the class declaration), make multiple constructors, and have each one delegate to a different superclass constructor.</p>\n\n<p>You could also slightly rework things if you want to enable declaration of <code>attrs</code> as a <code>val</code> instead of a var:</p>\n\n<pre><code>class BoxDrawingView : View {\n\n    val attrs: AttributeSet?\n\n    constructor(context: Context) : super(context) {\n        this.attrs = null\n    }\n\n    constructor(context: Context, attrs: AttributeSet) : super(context, attrs) {\n        this.attrs = attrs\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 10152861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4888eb3770bfd42752c129a5e1e55568?s=128&d=identicon&r=PG&f=1", "display_name": "Lester", "link": "https://stackoverflow.com/users/10152861/lester"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 58944074, "answer_count": 1, "score": 0, "last_activity_date": 1574208633, "creation_date": 1574203571, "last_edit_date": 1574208633, "question_id": 58944010, "link": "https://stackoverflow.com/questions/58944010/how-to-send-argument-through-super-after-being-defined-in-subclass", "title": "How to Send Argument Through Super After Being Defined In Subclass?", "body": "<p>I want to send attrs through the super into View. (as shown in the first line) But the IDE doesn't want to take it; I am missing something from my code.</p>\n\n<pre><code>class BoxDrawingView(context: Context): View(context, attrs) {\n\n    var attrs: AttributeSet? = null\n\n    constructor(context: Context, attrs: AttributeSet): this(context) {\n        this.attrs = attrs\n    }\n}\n</code></pre>\n\n<p>Can anyone help me with this? Thanks!</p>\n"}, {"tags": ["spring", "spring-boot", "testing", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1574203963, "post_id": 58943998, "comment_id": 104146593, "body": "Why do you use DataJpaTest to test an MVC controller. DataJpaTest is for testing Spring Data JPA repositories. How to test controllers in isolation is documented here: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#boot-features-testing-spring-boot-applications-testing-autoconfigured-mvc-tests\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 55, "user_id": 12075726, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pkz__TrlG_U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reUIH2c15Apb8Rn3KcNnffUfZ-R8Q/photo.jpg?sz=128", "display_name": "ben l", "link": "https://stackoverflow.com/users/12075726/ben-l"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1574204392, "post_id": 58943998, "comment_id": 104146729, "body": "I&#39;m not sure - it&#39;s just what was already there when I started working on the code base. Thanks, I&#39;ll look into using <code>@WebMvcTest</code>!"}], "answers": [{"tags": [], "owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "is_accepted": false, "score": 0, "last_activity_date": 1574233669, "creation_date": 1574233669, "answer_id": 58948596, "question_id": 58943998, "link": "https://stackoverflow.com/questions/58943998/spring-boot-2-1-2-2-testing-how-to-test-a-single-controller-without-creating-b/58948596#58948596", "title": "Spring Boot 2.1/2.2 testing - how to test a single controller without creating beans for everything else?", "body": "<p>You use either a sliced test <code>@WebMvcTest</code> or a full integration test with <code>@SpringBootTest</code>. Hence it has no sense in using them together. In your case you want to test a controller, then use the <code>@WebMvcTest</code> and mock the dependencies. </p>\n\n<pre><code>@RunWith(SpringRunner::class)\n@WebMvcTest(MyController.class)\n@WithUserDetails\nclass MyControllerTest {\n\n    @Autowired\n    lateinit var myController: MyController\n\n    @Autowired\n    lateinit var mvc: MockMvc\n\n\n    @MockBean\n    var myService: MyServiceForController\n</code></pre>\n\n<p>Use <code>@MockBean</code> to mock the service dependencies for the controller and register behavior on it. You can now also simply wire the controller and a pre-setup <code>MockMvc</code> instance instead of wiring that yourself. </p>\n"}], "owner": {"reputation": 55, "user_id": 12075726, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pkz__TrlG_U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reUIH2c15Apb8Rn3KcNnffUfZ-R8Q/photo.jpg?sz=128", "display_name": "ben l", "link": "https://stackoverflow.com/users/12075726/ben-l"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 336, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574233669, "creation_date": 1574203521, "last_edit_date": 1574203962, "question_id": 58943998, "link": "https://stackoverflow.com/questions/58943998/spring-boot-2-1-2-2-testing-how-to-test-a-single-controller-without-creating-b", "title": "Spring Boot 2.1/2.2 testing - how to test a single controller without creating beans for everything else?", "body": "<p>Before in Spring Boot 2.0 I had something like:</p>\n\n<pre><code>@RunWith(SpringRunner::class)\n@DataJpaTest\n@AutoConfigureMockMvc\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\n@ActiveProfiles(\"unit-test\")\n@SpringBootTest\n@WithUserDetails\nclass MyControllerTest {\n\n    @InjectMocks\n    lateinit var myController: MyController\n\n    lateinit var mvc: MockMvc\n\n    @Before\n    fun setup() {\n        mvc = MockMvcBuilders.standaloneSetup(myController).build()\n    }\n...\n</code></pre>\n\n<p>But after trying to upgrade to Spring Boot 2.1, I get various random errors, such as:</p>\n\n<ol>\n<li>WithUserDetails not working: <code>java.lang.IllegalStateException: Unable to create SecurityContext using @org.springframework.security.test.context.support.WithUserDetails(value=user, userDetailsServiceBeanName=, setupBefore=TEST_METHOD)</code></li>\n<li>Irrelevant beans were (attempting) to be created: <code>kotlin.UninitializedPropertyAccessException: lateinit property &lt;property&gt; has not been initialized</code> - this was from a <code>@ConfigurationProperties</code> class.</li>\n</ol>\n\n<p>and a few more other stuff that just didn't make sense to me (in 2.2, I can't have both <code>@DataJpaTest</code> and <code>@SpringBootTest</code> together either).</p>\n\n<p>Does anyone have an idea for what I would need to do to correctly update these unit tests?</p>\n"}, {"tags": ["kotlin", "kotlin-js"], "answers": [{"tags": [], "owner": {"reputation": 121, "user_id": 6253870, "user_type": "registered", "profile_image": "https://graph.facebook.com/4897757398775/picture?type=large", "display_name": "Ben Simon", "link": "https://stackoverflow.com/users/6253870/ben-simon"}, "is_accepted": false, "score": 0, "last_activity_date": 1574269689, "creation_date": 1574269689, "answer_id": 58959802, "question_id": 58943923, "link": "https://stackoverflow.com/questions/58943923/how-do-i-obtain-kotlin-js-dependency-files/58959802#58959802", "title": "How do I obtain Kotlin/JS dependency files", "body": "<p>The problem seems to go away if we switch to \"compile\" instead of \"implementation\" for the dependencies in the build.gradle file.</p>\n"}], "owner": {"reputation": 121, "user_id": 6253870, "user_type": "registered", "profile_image": "https://graph.facebook.com/4897757398775/picture?type=large", "display_name": "Ben Simon", "link": "https://stackoverflow.com/users/6253870/ben-simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574269689, "creation_date": 1574203171, "question_id": 58943923, "link": "https://stackoverflow.com/questions/58943923/how-do-i-obtain-kotlin-js-dependency-files", "title": "How do I obtain Kotlin/JS dependency files", "body": "<p>As of Kotlin 1.3.41, the kotlin js compiler would produce the js files for dependencies (e.g. the standard lib kotlin.js). In Kotlin 1.3.50 and 1.3.60, these dependencies are no longer produced.</p>\n\n<p>How is one supposed to obtain these files separately or get the kotlin compiler to produce them again?</p>\n"}, {"tags": ["intellij-idea", "kotlin", "java-8"], "answers": [{"tags": [], "owner": {"reputation": 3778, "user_id": 1631197, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Y28vX.jpg?s=128&g=1", "display_name": "codingjeremy", "link": "https://stackoverflow.com/users/1631197/codingjeremy"}, "is_accepted": true, "score": 0, "last_activity_date": 1574198964, "creation_date": 1574198964, "answer_id": 58943094, "question_id": 58943093, "link": "https://stackoverflow.com/questions/58943093/simple-intellij-kotlin-project-doesnt-recognize-linkedhashmap-or-other-collecti/58943094#58943094", "title": "Simple Intellij Kotlin project doesn&#39;t recognize LinkedHashMap or other collections", "body": "<p>Ok, so I figured it out. For some reason, if I change the module to 11 (java 11) from 1.8 it just works. </p>\n\n<p><a href=\"https://i.stack.imgur.com/USGav.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/USGav.png\" alt=\"enter image description here\"></a></p>\n\n<p>Kind of weird that standard collections don't work out of the box, but... eh, I guess this works.</p>\n"}], "owner": {"reputation": 3778, "user_id": 1631197, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Y28vX.jpg?s=128&g=1", "display_name": "codingjeremy", "link": "https://stackoverflow.com/users/1631197/codingjeremy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 330, "favorite_count": 0, "accepted_answer_id": 58943094, "answer_count": 1, "score": 0, "last_activity_date": 1574198964, "creation_date": 1574198964, "question_id": 58943093, "link": "https://stackoverflow.com/questions/58943093/simple-intellij-kotlin-project-doesnt-recognize-linkedhashmap-or-other-collecti", "title": "Simple Intellij Kotlin project doesn&#39;t recognize LinkedHashMap or other collections", "body": "<p>I installed the latest version of Intellij on Linux (2019.2.3 Community Edition) and added the Kotlin plugin.</p>\n\n<p>I followed the Kotlin website's <a href=\"https://kotlinlang.org/docs/tutorials/getting-started.html\" rel=\"nofollow noreferrer\">Getting Started with IntelliJ IDEA</a> and created a hello world app. It worked fine until I added a LinkedHashMap. (BTW, I was running into this in a bigger project, but simplified it to this.)</p>\n\n<p>This is all the code I added:</p>\n\n<pre><code>import kotlin.collections.LinkedHashMap\n\nfun main(args:Array&lt;String&gt;) {\n    println(\"Hello world\")\n    val map: LinkedHashMap&lt;Int, String&gt; = linkedMapOf(1 to \"x\", 2 to \"y\", -1 to \"zz\")\n    println(map) \n\n}\n</code></pre>\n\n<p>I get this error on the map line:</p>\n\n<pre><code>Cannot access class 'java.util.LinkedHashMap'. Check your module classpath for missing or conflicting dependencies.\n</code></pre>\n\n<p>You can see I have 1.8 selected in the modules, and I verified java 8 is installed via terminal (<code>java -version</code>). What is the issue for this vanilla/default installation?</p>\n\n<p><a href=\"https://i.stack.imgur.com/xDW6X.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xDW6X.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["postgresql", "kotlin", "kotlin-exposed"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 9338223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45168e3e584b440be3f3846282937ba6?s=128&d=identicon&r=PG&f=1", "display_name": "abi", "link": "https://stackoverflow.com/users/9338223/abi"}, "edited": false, "score": 0, "creation_date": 1574356520, "post_id": 58949578, "comment_id": 104213611, "body": "Thanks. I&#39;ve discovered that PostgreSQL supports CAST syntax as well, so I was able to use Column().castTo syntax."}], "tags": [], "owner": {"reputation": 876, "user_id": 813981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b707cdfcc7f71b6b450cef2f30a2703?s=128&d=identicon&r=PG", "display_name": "Tapac", "link": "https://stackoverflow.com/users/813981/tapac"}, "is_accepted": true, "score": 0, "last_activity_date": 1574237700, "creation_date": 1574237700, "answer_id": 58949578, "question_id": 58942798, "link": "https://stackoverflow.com/questions/58942798/query-with-casting-in-where/58949578#58949578", "title": "Query with casting in WHERE", "body": "<p>If it's possible to map object to your existing table then you could try something like:</p>\n\n<pre><code>object Ticks : LongIdTable() {\n    val timestamp = datetime(\"timestamp \")\n}\n\nfun Expression&lt;DateTime&gt;.pgDate() = object : org.jetbrains.exposed.sql.Function&lt;DateTime&gt;(DateColumnType(false)) {\n    override fun toQueryBuilder(queryBuilder: QueryBuilder) = queryBuilder {\n        append(this@pgDate, \"::date\")\n    }\n}\n\nval expr =  Coalesce(Ticks.id.max(), longLiteral(0))\nTicks.slice(expr).select {\n    Ticks.timestamp.pgDate() eq DateTime.parse(\"2019-01-01\")\n}\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 9338223, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45168e3e584b440be3f3846282937ba6?s=128&d=identicon&r=PG&f=1", "display_name": "abi", "link": "https://stackoverflow.com/users/9338223/abi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "accepted_answer_id": 58949578, "answer_count": 1, "score": 0, "last_activity_date": 1574237700, "creation_date": 1574197609, "question_id": 58942798, "link": "https://stackoverflow.com/questions/58942798/query-with-casting-in-where", "title": "Query with casting in WHERE", "body": "<p>I'm learning this wonderful library, however while simple queries work, I'm confused how to write something that not in library FAQ.</p>\n\n<p>For example,</p>\n\n<pre><code>create table if not exists ticks\n(id bigserial not null constraint ticks_pkey primary key,\n    timestamp timestamp not null\n);\n</code></pre>\n\n<p>It it possible to write something like</p>\n\n<pre><code>select coalesce(max(id), 0) from ticks where timestamp::date = ?\n</code></pre>\n\n<p>Actually, I have 2 issues here</p>\n\n<ol>\n<li><p><strong>column.max()</strong> doesn't have any suitable modifiers, for example, <strong>function()</strong> accepts no parameters. Probably, I can emulate this in code after I fetch the row.</p></li>\n<li><p>I have no idea how to make casting in <strong>where</strong> or write arbitrary <strong>where</strong> condition.</p></li>\n</ol>\n"}, {"tags": ["android", "kotlin", "gson", "retrofit", "uri"], "answers": [{"tags": [], "owner": {"reputation": 164, "user_id": 3961802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4186ad01a4c90d1388bb87dcaa31638?s=128&d=identicon&r=PG&f=1", "display_name": "Denys Makhov", "link": "https://stackoverflow.com/users/3961802/denys-makhov"}, "is_accepted": true, "score": 1, "last_activity_date": 1574199328, "creation_date": 1574199328, "answer_id": 58943160, "question_id": 58942666, "link": "https://stackoverflow.com/questions/58942666/how-to-parse-a-string-to-android-uri-with-retrofit-and-gson/58943160#58943160", "title": "How to parse a String to Android.Uri with Retrofit and Gson", "body": "<p>You can use this code example:</p>\n\n<pre><code>class UriDeserializer : JsonDeserializer&lt;Uri&gt; {\n\n    override fun deserialize(\n        json: JsonElement?,\n        typeOfT: Type?,\n        context: JsonDeserializationContext?\n    ): Uri {\n        return Uri.parse(json?.asString)\n    }\n}\n</code></pre>\n\n<p>And register this deserializer when creating the Gson instance:</p>\n\n<pre><code>GsonBuilder().registerTypeAdapter(Uri::class.java, UriDeserializer())\n        .create()\n</code></pre>\n"}], "owner": {"reputation": 423, "user_id": 6849045, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/ba8cc095ecdee411223b06f5cfef4f2a?s=128&d=identicon&r=PG&f=1", "display_name": "Typhaon", "link": "https://stackoverflow.com/users/6849045/typhaon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 58943160, "answer_count": 1, "score": 0, "last_activity_date": 1574199328, "creation_date": 1574196970, "question_id": 58942666, "link": "https://stackoverflow.com/questions/58942666/how-to-parse-a-string-to-android-uri-with-retrofit-and-gson", "title": "How to parse a String to Android.Uri with Retrofit and Gson", "body": "<p>I'm making an Android app and I'm using retrofit with Gson. One of the types I'm requesting is called Photo from the api has two Urls in it, both are links to pictures.</p>\n\n<pre><code>data class Photo(val id: Int, val title: String, val pictureUrl: Uri, val thumbnailUrl: Uri)\n</code></pre>\n\n<p>I'd prefer if retrofit would parse the Json directly to the class and I was thinking of writing an extra Gson Adapter. But I haven't been able to find a comprehensible example in Kotlin.\nAlso thought about using an extra converterfactory??? But that doesn't seem right.</p>\n\n<p>What would be the way to go on this problem?</p>\n"}, {"tags": ["android", "kotlin", "android-edittext"], "comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1574196041, "post_id": 58941920, "comment_id": 104143339, "body": "What does <code>doOnTextChanged ()</code> look like?"}, {"owner": {"reputation": 13, "user_id": 10252241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea946e2b65b252d15ccd2505c95c0a1?s=128&d=identicon&r=PG", "display_name": "Jean Silva", "link": "https://stackoverflow.com/users/10252241/jean-silva"}, "reply_to_user": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 0, "creation_date": 1574200312, "post_id": 58941920, "comment_id": 104145218, "body": "This is the whole method, actually. In Kotlin, it is the same thing as adding a text changed listener, but without having to override all of those methods (<code>afterTextChanged</code> and <code>beforeTextChanged</code>). You can also do <code>doAfterTextChanged</code>, <code>doBeforeTextChanged</code> and <code>doOnTextChanged</code>."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10252241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea946e2b65b252d15ccd2505c95c0a1?s=128&d=identicon&r=PG", "display_name": "Jean Silva", "link": "https://stackoverflow.com/users/10252241/jean-silva"}, "edited": false, "score": 0, "creation_date": 1574201974, "post_id": 58943611, "comment_id": 104145911, "body": "You just gave me a better idea. Thank you!"}, {"owner": {"reputation": 13, "user_id": 10252241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea946e2b65b252d15ccd2505c95c0a1?s=128&d=identicon&r=PG", "display_name": "Jean Silva", "link": "https://stackoverflow.com/users/10252241/jean-silva"}, "edited": false, "score": 0, "creation_date": 1574202076, "post_id": 58943611, "comment_id": 104145960, "body": "I&#39;m developing a calculator app and I needed to get the updated EditText value so I could activate or deactivate some buttons based on what the user typed."}, {"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "reply_to_user": {"reputation": 13, "user_id": 10252241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea946e2b65b252d15ccd2505c95c0a1?s=128&d=identicon&r=PG", "display_name": "Jean Silva", "link": "https://stackoverflow.com/users/10252241/jean-silva"}, "edited": false, "score": 0, "creation_date": 1574213488, "post_id": 58943611, "comment_id": 104148945, "body": "Then you should update the buttons from inside the interface/lambda so you are reacting when the change happens. The code outside that lambda doesn\u2019t get called when the user enters text. It gets called when you call it, which is before the user has entered text. You most likely don\u2019t need to break this out into a separate function as you shouldn\u2019t need to add the listener more than once."}], "tags": [], "owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "is_accepted": true, "score": 0, "last_activity_date": 1574201881, "last_edit_date": 1574201881, "creation_date": 1574201536, "answer_id": 58943611, "question_id": 58941920, "link": "https://stackoverflow.com/questions/58941920/ontextchanged-returning-old-edittext-text-value/58943611#58943611", "title": "&quot;onTextChanged()&quot; returning old EditText text value", "body": "<p>Your <code>whatever</code> variable does not outlive the function you've created. Here's what happens when you call your <code>edit()</code> function:</p>\n\n<ol>\n<li>A variable <code>whatever</code> is created and assigned the current value of the text in the text view.</li>\n<li>A new TextWatcher is created and added to the TextView. This TextWatcher updates the value of <code>whatever</code> when the text is changed, which is a pointless action, because <code>whatever</code> cannot be accessed by the time the TextWatcher is active.</li>\n<li>The value of <code>whatever</code> is returned. It will be the same value that it was in step 1, because nothing has had a chance to change it yet.</li>\n</ol>\n\n<p>When you call your function multiple times, you are adding multiple useless TextWatchers to your TextView. Your function might as well be </p>\n\n<pre><code>fun EditText.text() = text.toString()\n</code></pre>\n\n<p>which is not very useful, but effectively does the same thing as your original function minus adding unnecessary TextWatchers.</p>\n\n<p>Without context of what you're trying to do exactly, I can't recommend how to fix your project. Your function already returns the latest changed value of the EditText, but you describe it as though the value is lagging. I'd have to see the code where you're calling this function to get an idea of what you're trying to do.</p>\n\n<p>I can take a guess that maybe you didn't realize that Strings are immutable. The String returned by your function doesn't get updated just because the variable that was originally pointing to it gets pointed to something else.</p>\n\n<p>If you want something to happen when the text changes, put the action directly in your lambda. There's not much point in a TextWatcher that simply updates a variable since the latest value of the text can always be retrieved directly from the TextView anyway. </p>\n"}], "owner": {"reputation": 13, "user_id": 10252241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dea946e2b65b252d15ccd2505c95c0a1?s=128&d=identicon&r=PG", "display_name": "Jean Silva", "link": "https://stackoverflow.com/users/10252241/jean-silva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 553, "favorite_count": 0, "accepted_answer_id": 58943611, "answer_count": 1, "score": 0, "last_activity_date": 1574201881, "creation_date": 1574193380, "question_id": 58941920, "link": "https://stackoverflow.com/questions/58941920/ontextchanged-returning-old-edittext-text-value", "title": "&quot;onTextChanged()&quot; returning old EditText text value", "body": "<p>I have a method that is supposed to return the current updated value of an EditText text. But, for some reason, for it to actually work at first, the input has to change 2 times. And, when it does, it returns the previous value, not the current one.</p>\n\n<pre><code>fun EditText.text(): String {\n    var whatever = text.toString()\n    doOnTextChanged { text, _, _, _ -&gt; whatever = text.toString() }\n\n    return whatever\n}\n</code></pre>\n\n<p>Don't know if I made myself clear, but I've been trying to solve this for a while, without any success.</p>\n"}, {"tags": ["android-studio", "kotlin", "recovery"], "comments": [{"owner": {"reputation": 37861, "user_id": 506796, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e648659dd573c1161a370efa0f5e10d6?s=128&d=identicon&r=PG", "display_name": "Tenfour04", "link": "https://stackoverflow.com/users/506796/tenfour04"}, "edited": false, "score": 1, "creation_date": 1574196242, "post_id": 58941871, "comment_id": 104143403, "body": "You could decompile to Java and then convert the files to Kotlin in Android Studio&#39;s conversion feature. But the code won&#39;t look like what you originally wrote. All comments will be gone, and inline function calls will actually be inlined among other sorts of optimizations the compiler may have made, so readability of your code will probably be poor."}], "owner": {"reputation": 49, "user_id": 10299831, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iJBrp.jpg?s=128&g=1", "display_name": "Gandeloft", "link": "https://stackoverflow.com/users/10299831/gandeloft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1574194543, "creation_date": 1574193167, "last_edit_date": 1574194543, "question_id": 58941871, "link": "https://stackoverflow.com/questions/58941871/how-to-recover-an-android-studio-project-written-in-kotlin-from-the-apk", "title": "How to recover an Android Studio project written in Kotlin from the apk", "body": "<p>I've finished the work on my Android app. for my university, and I havn't backed it up to git for 11 days because I've had no internet on my PC. I bought an SSD today, and amidst the data transfers, I'd somehow managed to delete my entire project (along with a whole semester's woth of work).\nI have found <a href=\"https://stackoverflow.com/questions/3593420/is-there-a-way-to-get-the-source-code-from-an-apk-file\">this</a> post but it's for a project writen in Java. Is there a way to recover a project writen in Kotlin from the application's apk.?</p>\n"}, {"tags": ["android", "kotlin", "androidx", "arcore", "sceneform"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1574191918, "post_id": 58941347, "comment_id": 104141519, "body": "I don;t see you requesting the permissions actually."}, {"owner": {"reputation": 1395, "user_id": 1344550, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/ef9a02170fe76e9c76abfa3802c60b4b?s=128&d=identicon&r=PG", "display_name": "linker85", "link": "https://stackoverflow.com/users/1344550/linker85"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1574194197, "post_id": 58941347, "comment_id": 104142540, "body": "I am in WritingArFragment, when the Fragment loads it asks for permissions and I even see the dialog asking for the permissions"}, {"owner": {"reputation": 1395, "user_id": 1344550, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/ef9a02170fe76e9c76abfa3802c60b4b?s=128&d=identicon&r=PG", "display_name": "linker85", "link": "https://stackoverflow.com/users/1344550/linker85"}, "reply_to_user": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1574194501, "post_id": 58941347, "comment_id": 104142661, "body": "This is the path and filename Im trying to use: /storage/emulated/0/Pictures/Sceneform/20191119132950_screen&zwnj;&#8203;shot.jpg"}], "answers": [{"comments": [{"owner": {"reputation": 1395, "user_id": 1344550, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/ef9a02170fe76e9c76abfa3802c60b4b?s=128&d=identicon&r=PG", "display_name": "linker85", "link": "https://stackoverflow.com/users/1344550/linker85"}, "edited": false, "score": 0, "creation_date": 1574199459, "post_id": 58943021, "comment_id": 104144819, "body": "This works, but what will happen when Google removes this property for any app that targets Android Q and are trying to save the bitmap? Is there a better solution"}, {"owner": {"reputation": 31, "user_id": 12382779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db2d999821c1fe8df40b4097e42e14f?s=128&d=identicon&r=PG&f=1", "display_name": "bitmadao", "link": "https://stackoverflow.com/users/12382779/bitmadao"}, "reply_to_user": {"reputation": 1395, "user_id": 1344550, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/ef9a02170fe76e9c76abfa3802c60b4b?s=128&d=identicon&r=PG", "display_name": "linker85", "link": "https://stackoverflow.com/users/1344550/linker85"}, "edited": false, "score": 0, "creation_date": 1574202177, "post_id": 58943021, "comment_id": 104146001, "body": "You are right, changes are coming in the next release. An answer courtesy of <a href=\"https://stackoverflow.com/users/10300673/nikos-hidalgo\">Nikos Hidalgo</a> has the same temp fix but also links to the relevant documentation for what&#39;s to come <a href=\"https://developer.android.com/training/data-storage/files/external-scoped#top_of_page\" rel=\"nofollow noreferrer\">Documentation: Manage scoped external storage access</a>  <a href=\"https://stackoverflow.com/a/58936321/12382779\">SO-Answer</a>"}], "tags": [], "owner": {"reputation": 31, "user_id": 12382779, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6db2d999821c1fe8df40b4097e42e14f?s=128&d=identicon&r=PG&f=1", "display_name": "bitmadao", "link": "https://stackoverflow.com/users/12382779/bitmadao"}, "is_accepted": false, "score": 2, "last_activity_date": 1574202761, "last_edit_date": 1574202761, "creation_date": 1574198637, "answer_id": 58943021, "question_id": 58941347, "link": "https://stackoverflow.com/questions/58941347/why-am-i-getting-being-unable-to-save-the-bitmap-as-a-picture-that-i-generate-fr/58943021#58943021", "title": "Why am I getting being unable to save the bitmap as a picture that I generate from a Fragment in Android?", "body": "<p>I had the same issue while trying to read from external storage on my AVD 29 Pixel, having already requested and received permissions.</p>\n\n<p>Check this answer courtesy of <a href=\"https://stackoverflow.com/users/588532/uriel-frankel\">Uriel Frankel</a>:</p>\n\n<blockquote>\n  <p>Google has a new feature on Android Q: filtered view for external storage. A quick fix for that is to add this code in the AndroidManifest.xml file</p>\n</blockquote>\n\n<pre><code>&lt;manifest ... &gt;\n    &lt;!-- This attribute is \"false\" by default on apps targeting Android Q. --&gt;\n    &lt;application android:requestLegacyExternalStorage=\"true\" ... &gt;\n     ...\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/57804657/12382779\">Exception 'open failed: EACCES (Permission denied)' on Android</a></p>\n\n<p><strong>Update:</strong>\nAs discussed in the comments here is a link to relevant documentation on changes to come.</p>\n\n<p><a href=\"https://developer.android.com/training/data-storage/files/external-scoped#top_of_page\" rel=\"nofollow noreferrer\">Developers Documentation: Manage scoped external storage access</a></p>\n\n<p>Found in this SO-answer from <a href=\"https://stackoverflow.com/users/10300673/nikos-hidalgo\">Nikos Hidalgo</a>.</p>\n\n<p><a href=\"https://stackoverflow.com/a/58936321/12382779\">java.io.FileNotFoundException: /sdcard/testwrite.txt: open failed: EACCES (Permission denied)</a></p>\n"}], "owner": {"reputation": 1395, "user_id": 1344550, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/ef9a02170fe76e9c76abfa3802c60b4b?s=128&d=identicon&r=PG", "display_name": "linker85", "link": "https://stackoverflow.com/users/1344550/linker85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 316, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1574202761, "creation_date": 1574190912, "question_id": 58941347, "link": "https://stackoverflow.com/questions/58941347/why-am-i-getting-being-unable-to-save-the-bitmap-as-a-picture-that-i-generate-fr", "title": "Why am I getting being unable to save the bitmap as a picture that I generate from a Fragment in Android?", "body": "<p>I have a function that takes pictures from my fragment in my activity.\nHere is how I ask for permissions in my fragment:</p>\n\n<pre><code>class WritingArFragment: ArFragment() {\n    override fun getAdditionalPermissions(): Array&lt;String?&gt; {\n        val additionalPermissions = super.getAdditionalPermissions()\n        val permissionLength = additionalPermissions?.size ?: 0\n        val permissions = arrayOfNulls&lt;String&gt;(permissionLength + 1)\n        permissions[0] = Manifest.permission.WRITE_EXTERNAL_STORAGE\n        if (permissionLength &gt; 0) {\n            System.arraycopy(additionalPermissions!!, 0, permissions, 1, additionalPermissions.size)\n        }\n        return permissions\n    }\n}\n</code></pre>\n\n<p>Then the fragment shows what the camera is looking at to add 3d models in an AR enviroment.\nHere is how I save the pictures:</p>\n\n<pre><code>private fun generateFilename(): String {\n    val date = SimpleDateFormat(\"yyyyMMddHHmmss\", Locale.getDefault()).format(Date())\n    return Environment.getExternalStoragePublicDirectory(\n            Environment.DIRECTORY_PICTURES).toString() + File.separator + \"Sceneform/\" + date + \"_screenshot.jpg\"\n}\n\n@Throws(IOException::class)\nprivate fun saveBitmapToDisk(bitmap: Bitmap, filename: String) {\nval out = File(filename)\nif (!out.parentFile.exists()) {\n    out.parentFile.mkdirs()\n}\ntry {\n    FileOutputStream(filename).use { outputStream -&gt;\n        ByteArrayOutputStream().use { outputData -&gt;\n            bitmap.compress(Bitmap.CompressFormat.PNG, 100, outputData)\n            outputData.writeTo(outputStream)\n            outputStream.flush()\n            outputStream.close()\n        }\n    }\n} catch (ex: IOException) {\n    throw IOException(\"Failed to save bitmap to disk\", ex)\n}\n</code></pre>\n\n<p>}</p>\n\n<p>private fun takePicture() {\n    val filename = generateFilename()\n    val view = arFragment.arSceneView</p>\n\n<pre><code>// Create a bitmap the size of the scene view.\nval bitmap = Bitmap.createBitmap(view.getWidth(), view.getHeight(),\n        Bitmap.Config.ARGB_8888)\n\n// Create a handler thread to offload the processing of the image.\nval handlerThread = HandlerThread(\"PixelCopier\")\nhandlerThread.start()\n// Make the request to copy.\nPixelCopy.request(view, bitmap, { copyResult -&gt;\n    if (copyResult == PixelCopy.SUCCESS) {\n        try {\n            saveBitmapToDisk(bitmap, filename)\n            val snackbar = Snackbar.make(findViewById(android.R.id.content),\n                    \"Photo saved\", Snackbar.LENGTH_LONG)\n            snackbar.setAction(\"Open in Photos\") { v -&gt;\n                val photoFile = File(filename)\n\n                val photoURI = FileProvider.getUriForFile(this.getApplication(),\n                        \"$packageName.example.secondar.name.provider\",\n                        photoFile)\n                val intent = Intent(Intent.ACTION_VIEW, photoURI)\n                intent.setDataAndType(photoURI, \"image/*\")\n                intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION)\n                startActivity(intent)\n            }\n            snackbar.show()\n        } catch (e: IOException) {\n            e.printStackTrace()\n            val toast = Toast.makeText(this.getApplication(), e.toString(),\n                    Toast.LENGTH_LONG)\n            toast.show()\n        }\n    } else {\n        val toast = Toast.makeText(this.getApplication(),\n                \"Failed to copyPixels: $copyResult\", Toast.LENGTH_LONG)\n        toast.show()\n    }\n    handlerThread.quitSafely()\n}, Handler(handlerThread.looper))\n</code></pre>\n\n<p>}</p>\n\n<p>and finally here is my manifest:</p>\n\n<pre><code>    &lt;uses-permission android:name=\"android.permission.CAMERA\"/&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\"/&gt;\n&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\"/&gt;\n&lt;uses-feature android:name=\"android.hardware.camera.ar\" android:required=\"true\"/&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:usesCleartextTraffic=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;meta-data android:name=\"com.google.ar.core\" android:value=\"required\" /&gt;\n    &lt;activity android:name=\".MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;provider\n        android:name=\"androidx.core.content.FileProvider\"\n        android:authorities=\"${applicationId}.example.secondar.name.provider\"\n        android:exported=\"false\"\n        android:grantUriPermissions=\"true\"&gt;\n        &lt;meta-data\n            android:name=\"android.support.FILE_PROVIDER_PATHS\"\n            android:resource=\"@xml/paths\"/&gt;\n    &lt;/provider&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>I keep getting in my logs</p>\n\n<pre><code>2019-11-19 14:05:04.503 5383-5553/com.example.secondar W/System.err: java.io.IOException: Failed to save bitmap to disk\n2019-11-19 14:05:04.503 5383-5553/com.example.secondar W/System.err:     at com.example.secondar.MainActivity.saveBitmapToDisk(MainActivity.kt:238)\n2019-11-19 14:05:04.504 5383-5553/com.example.secondar W/System.err:     at com.example.secondar.MainActivity.access$saveBitmapToDisk(MainActivity.kt:45)\n2019-11-19 14:05:04.504 5383-5553/com.example.secondar W/System.err:     at com.example.secondar.MainActivity$takePicture$1.onPixelCopyFinished(MainActivity.kt:258)\n2019-11-19 14:05:04.504 5383-5553/com.example.secondar W/System.err:     at android.view.PixelCopy$1.run(PixelCopy.java:191)\n2019-11-19 14:05:04.504 5383-5553/com.example.secondar W/System.err:     at android.os.Handler.handleCallback(Handler.java:883)\n2019-11-19 14:05:04.504 5383-5553/com.example.secondar W/System.err:     at android.os.Handler.dispatchMessage(Handler.java:100)\n2019-11-19 14:05:04.504 5383-5553/com.example.secondar W/System.err:     at android.os.Looper.loop(Looper.java:214)\n2019-11-19 14:05:04.504 5383-5553/com.example.secondar W/System.err:     at android.os.HandlerThread.run(HandlerThread.java:67)\n2019-11-19 14:05:04.504 5383-5553/com.example.secondar W/System.err: Caused by: java.io.FileNotFoundException: /storage/emulated/0/Pictures/Sceneform/20191119140504_screenshot.jpg: open failed: EACCES (Permission denied)\n2019-11-19 14:05:04.505 5383-5553/com.example.secondar W/System.err:     at libcore.io.IoBridge.open(IoBridge.java:496)\n2019-11-19 14:05:04.505 5383-5553/com.example.secondar W/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:235)\n2019-11-19 14:05:04.505 5383-5553/com.example.secondar W/System.err:     at java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:125)\n2019-11-19 14:05:04.505 5383-5553/com.example.secondar W/System.err:     at com.example.secondar.MainActivity.saveBitmapToDisk(MainActivity.kt:229)\n2019-11-19 14:05:04.505 5383-5553/com.example.secondar W/System.err:    ... 7 more\n2019-11-19 14:05:04.505 5383-5553/com.example.secondar W/System.err: Caused by: android.system.ErrnoException: open failed: EACCES (Permission denied)\n</code></pre>\n\n<p>What am I missing?\nI\u00b4m using Android 29, Java 1.8, Kotlin and AndroidX</p>\n\n<p>Thanks in advance</p>\n\n<p>Greetings</p>\n"}, {"tags": ["java", "android", "kotlin", "google-api", "vision"], "comments": [{"owner": {"reputation": 671, "user_id": 9796205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/83X8u.jpg?s=128&g=1", "display_name": "Francesco Re", "link": "https://stackoverflow.com/users/9796205/francesco-re"}, "edited": false, "score": 0, "creation_date": 1574602932, "post_id": 58940263, "comment_id": 104282613, "body": "If the QR codes are always in the same position and have the same sizes then you could split up the image."}, {"owner": {"reputation": 69, "user_id": 5412851, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-d9u-eNowVzE/AAAAAAAAAAI/AAAAAAAAADA/9OgRG3ccaFM/photo.jpg?sz=128", "display_name": "Lipu Hossain", "link": "https://stackoverflow.com/users/5412851/lipu-hossain"}, "reply_to_user": {"reputation": 671, "user_id": 9796205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/83X8u.jpg?s=128&g=1", "display_name": "Francesco Re", "link": "https://stackoverflow.com/users/9796205/francesco-re"}, "edited": false, "score": 0, "creation_date": 1574663118, "post_id": 58940263, "comment_id": 104297030, "body": "can you suggest some codes or links @FrancescoRe"}, {"owner": {"reputation": 671, "user_id": 9796205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/83X8u.jpg?s=128&g=1", "display_name": "Francesco Re", "link": "https://stackoverflow.com/users/9796205/francesco-re"}, "edited": false, "score": 0, "creation_date": 1574681046, "post_id": 58940263, "comment_id": 104305204, "body": "Well, the code depends on the way the image is acquired, the compression format of the image and other parameters."}, {"owner": {"reputation": 69, "user_id": 5412851, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-d9u-eNowVzE/AAAAAAAAAAI/AAAAAAAAADA/9OgRG3ccaFM/photo.jpg?sz=128", "display_name": "Lipu Hossain", "link": "https://stackoverflow.com/users/5412851/lipu-hossain"}, "reply_to_user": {"reputation": 671, "user_id": 9796205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/83X8u.jpg?s=128&g=1", "display_name": "Francesco Re", "link": "https://stackoverflow.com/users/9796205/francesco-re"}, "edited": false, "score": 0, "creation_date": 1574968306, "post_id": 58940263, "comment_id": 104423755, "body": "if the image is fixed as the image i have shared in the question.. - FrancescoRe"}], "owner": {"reputation": 69, "user_id": 5412851, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-d9u-eNowVzE/AAAAAAAAAAI/AAAAAAAAADA/9OgRG3ccaFM/photo.jpg?sz=128", "display_name": "Lipu Hossain", "link": "https://stackoverflow.com/users/5412851/lipu-hossain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574186644, "creation_date": 1574186644, "question_id": 58940263, "link": "https://stackoverflow.com/questions/58940263/how-to-detect-multiple-qrcode-at-once-using-vision-api", "title": "How to detect Multiple QRcode at once using Vision api?", "body": "<p>I have five qr codes in a row like the below image\n<a href=\"https://i.stack.imgur.com/EX32G.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EX32G.png\" alt=\"qr code values-&gt;Hello my name is lip\"></a>\ni am using google Vision api</p>\n\n<pre><code>override fun receiveDetections(detections: Detector.Detections&lt;Barcode&gt;?) {\n            val barcodes = detections?.detectedItems\n            if (barcodes!!.size() &gt; 0) {\n                for (index in 0..barcodes.size()-1){\n                    Log.e(\"Scanned value\",\" \"+barcodes.valueAt(index).displayValue)\n                }\n                Log.e(\"Scanned value\",\" ---------------------------------------------------\")\n\n            }\n        }\n</code></pre>\n\n<p>But in detections sparseArray i am not getting all the values,only one or two values,how i can read process all the five qr codes and returns the result like \"Hello my name is lipu\"?</p>\n"}, {"tags": ["kotlin", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1574187563, "creation_date": 1574187563, "answer_id": 58940489, "question_id": 58939602, "link": "https://stackoverflow.com/questions/58939602/rxjava-and-kotlins-platform-types-sanity-check/58940489#58940489", "title": "RxJava and Kotlin&#39;s platform types: sanity check", "body": "<p>Yes, I believe (too bad RxJava doesn't use annotations to make Kotlin understand this automatically). But you could use <a href=\"https://github.com/ReactiveX/RxKotlin\" rel=\"nofollow noreferrer\">RxKotlin</a> which restricts type parameters to be non-nullable where this makes sense.</p>\n"}], "owner": {"reputation": 7636, "user_id": 1650674, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/6U9F1.png?s=128&g=1", "display_name": "tir38", "link": "https://stackoverflow.com/users/1650674/tir38"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 58940489, "answer_count": 1, "score": 0, "last_activity_date": 1574187563, "creation_date": 1574184038, "question_id": 58939602, "link": "https://stackoverflow.com/questions/58939602/rxjava-and-kotlins-platform-types-sanity-check", "title": "RxJava and Kotlin&#39;s platform types: sanity check", "body": "<p>This is mostly a sanity check on my thinking.</p>\n\n<p>I'm observing an RxJava2 stream from a Kotlin class. Kotlin is converting these to Observables/Singles/Flowables of platform types (e.g. <code>Observable&lt;Widget!&gt;</code>). I see there is very little talk of that <a href=\"https://stackoverflow.com/search?q=rxjava+kotlin+%22platform+type\">here on SO</a></p>\n\n<p>So since RxJava2 cannot emit null, can I safely assume any emitted type is a non-nullable Kotlin type? In other words, can I rely on RxJava to throw a NullPointerException before the object ever makes it to the subscriber?</p>\n"}, {"tags": ["kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 1, "creation_date": 1574184334, "post_id": 58939248, "comment_id": 104137847, "body": "Where is <code>process()</code> defined?  If it were defined in <code>SoundEffect</code>, could good old-fashioned polymorphism reduce all that to just <code>sounds.forEach{ it.process() }</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 3, "last_activity_date": 1574183924, "creation_date": 1574183924, "answer_id": 58939576, "question_id": 58939248, "link": "https://stackoverflow.com/questions/58939248/how-to-filter-a-single-list-with-multiple-cases-in-kotlin/58939576#58939576", "title": "How to filter a single list with multiple &quot;cases&quot; in Kotlin", "body": "<p>Exactly this syntax won't work, branches with <code>is ...</code> are only allowed in <code>when</code>. But why not just a single <code>forEach</code>?</p>\n\n<pre><code>sounds.forEach {\n    when(it) {\n        is SoundEffect.Acoustic -&gt; process(it)\n        is SoundEffect.Electronic -&gt; process(it)\n        is SoundEffect.Vocal -&gt; process(it)\n    }\n}\n</code></pre>\n\n<p>(<code>it</code> will be smart-cast in each branch and end up calling the correct overload)</p>\n"}], "owner": {"reputation": 1850, "user_id": 423199, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/OrFPh.jpg?s=128&g=1", "display_name": "Hector", "link": "https://stackoverflow.com/users/423199/hector"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 210, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574183924, "creation_date": 1574182658, "question_id": 58939248, "link": "https://stackoverflow.com/questions/58939248/how-to-filter-a-single-list-with-multiple-cases-in-kotlin", "title": "How to filter a single list with multiple &quot;cases&quot; in Kotlin", "body": "<p>I have a Sealed class as follows:-</p>\n\n<pre><code>sealed class SoundEffect {\n    sealed class Acoustic : SoundEffect() {\n\n        object Active : Acoustic()\n        object Inactive : Acoustic()\n\n        object Disable : Acoustic()\n        object Enable : Acoustic()\n    }\n\n    sealed class Electronic(open val message: String) : SoundEffect() {\n        data class Moog(override val message: String) : Electronic(message)\n    }\n\n    sealed class Vocal(open val dataMap: MutableMap&lt;String, Any&gt;) : SoundEffect() {\n        data class Lieder(override val dataMap: MutableMap&lt;String, Any&gt; = mutableMapOf()) : Vocal(dataMap)\n    }\n}\n</code></pre>\n\n<p>and a list of these values:-</p>\n\n<pre><code> private val sounds : List&lt;Any&gt; = listOf(\n        SoundEffect.Acoustic.Active,\n        SoundEffect.Acoustic.Disable,\n        SoundEffect.Acoustic.Enable,\n        SoundEffect.Acoustic.Inactive,\n        SoundEffect.Electronic.Moog(\"Testing\"),\n        SoundEffect.Vocal.Lieder()\n        )\n</code></pre>\n\n<p>To process this list I can do this</p>\n\n<pre><code>  sounds.filterIsInstance&lt;SoundEffect.Acoustic&gt;().forEach { acoustic -&gt; process(acoustic) }\n  sounds.filterIsInstance&lt;SoundEffect.Electronic&gt;().forEach { electronic -&gt; process(electronic) }\n  sounds.filterIsInstance&lt;SoundEffect.Vocal&gt;().forEach { vocal -&gt; process(vocal) }\n</code></pre>\n\n<p>What I would like to be able to code is this:-</p>\n\n<pre><code>sounds.multipleFilter {\n    is SoundEffect.Acoustic -&gt; forEach { acoustic -&gt; process(acoustic) }\n    is SoundEffect.Electronic -&gt; forEach { electronic -&gt; process(electronic) }\n    is SoundEffect.Vocal -&gt; forEach { vocal -&gt; process(vocal) }\n}\n</code></pre>\n\n<p>is this approach possible in Kotlin?</p>\n\n<p>How could I specify the <code>multipleFilter</code> function?</p>\n"}, {"tags": ["android", "gradle", "kotlin", "android-productflavors"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1574238411, "creation_date": 1574238411, "answer_id": 58949754, "question_id": 58938678, "link": "https://stackoverflow.com/questions/58938678/how-to-create-a-flavorconfig-in-buildsrc/58949754#58949754", "title": "How to create a FlavorConfig in BuildSrc?", "body": "<p>An equivalent should be <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"nofollow noreferrer\"><code>apply</code></a> or <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/run.html\" rel=\"nofollow noreferrer\"><code>run</code></a>, depending on what's the actual return value of <code>with</code> (which I couldn't figure out for some reason).</p>\n"}], "owner": {"reputation": 1, "user_id": 12390365, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb73d5c2733914f266bd68319efd2d78?s=128&d=identicon&r=PG&f=1", "display_name": "GBRX94", "link": "https://stackoverflow.com/users/12390365/gbrx94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 172, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574238411, "creation_date": 1574180723, "question_id": 58938678, "link": "https://stackoverflow.com/questions/58938678/how-to-create-a-flavorconfig-in-buildsrc", "title": "How to create a FlavorConfig in BuildSrc?", "body": "<p>I'm trying to create a Flavor configuration to avoid boilerplate code in every Module and Library gradle file.</p>\n\n<p>To do so I'm trying to convert Piotr Zawadzki solution (<a href=\"https://medium.com/stepstone-tech/modularizing-your-flavored-android-project-5db75c59fb0d\" rel=\"nofollow noreferrer\">https://medium.com/stepstone-tech/modularizing-your-flavored-android-project-5db75c59fb0d</a>) which uses the groovy with() method combined with a Closure containing the flavor config.</p>\n\n<pre><code>ext.flavorConfig = { // 1\n\n    flavorDimensions \"pricing\"\n    productFlavors {\n        free {\n            dimension \"pricing\"\n            ext.myApplicationIdSuffix = '.free' // 2\n        }\n        paid {\n            dimension \"pricing\"\n            ext.myApplicationIdSuffix = '.paid'\n        }\n    }\n\n    productFlavors.all { flavor -&gt; // 3\n        if (flavor.hasProperty('myApplicationIdSuffix') &amp;&amp; isApplicationProject()) {\n            flavor.applicationIdSuffix = flavor.myApplicationIdSuffix\n        }\n    }\n\n}\n\ndef isApplicationProject() { // 4\n    return project.android.class.simpleName.startsWith('BaseAppModuleExtension')\n    // in AGP 3.1.x with library modules instead of feature modules:\n    // return project.android instanceof com.android.build.gradle.AppExtension\n}\n\n</code></pre>\n\n<p>What I'm not finding is the equivalent with() method for the Kotlin DSL or a proper way to translate the Closure.</p>\n"}, {"tags": ["android", "kotlin", "android-edittext", "dropdown", "android-spinner"], "comments": [{"owner": {"reputation": 362, "user_id": 5789945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fc52f555441f478ba97ec535ae2f93d?s=128&d=identicon&r=PG&f=1", "display_name": "tiborK", "link": "https://stackoverflow.com/users/5789945/tibork"}, "edited": false, "score": 0, "creation_date": 1574181367, "post_id": 58938665, "comment_id": 104136184, "body": "Check out custom spinner. Lots of tutorial and example. <a href=\"https://stackoverflow.com/questions/16694786/how-to-customize-a-spinner-in-android\" title=\"how to customize a spinner in android\">stackoverflow.com/questions/16694786/&hellip;</a>"}, {"owner": {"reputation": 368, "user_id": 4227328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7e93f1499dd24c797801288b56671fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ali A. Jalil", "link": "https://stackoverflow.com/users/4227328/ali-a-jalil"}, "reply_to_user": {"reputation": 362, "user_id": 5789945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fc52f555441f478ba97ec535ae2f93d?s=128&d=identicon&r=PG&f=1", "display_name": "tiborK", "link": "https://stackoverflow.com/users/5789945/tibork"}, "edited": false, "score": 0, "creation_date": 1574181536, "post_id": 58938665, "comment_id": 104136289, "body": "@tiborK thanks for your reply. I have multi spinner with different images, are I need to create spread file for each one of them? are there any way to create one and change it&#39;s image each time?"}, {"owner": {"reputation": 362, "user_id": 5789945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fc52f555441f478ba97ec535ae2f93d?s=128&d=identicon&r=PG&f=1", "display_name": "tiborK", "link": "https://stackoverflow.com/users/5789945/tibork"}, "edited": false, "score": 0, "creation_date": 1574190099, "post_id": 58938665, "comment_id": 104140723, "body": "Check out this tutorial. I think this is what you are looking for. It&#39;s in Java but you can get the logic of how to create it in kotlin and customize it to your needs. <a href=\"https://www.youtube.com/watch?v=GeO5F0nnzAw\" rel=\"nofollow noreferrer\">youtube.com/watch?v=GeO5F0nnzAw</a>"}, {"owner": {"reputation": 368, "user_id": 4227328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7e93f1499dd24c797801288b56671fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ali A. Jalil", "link": "https://stackoverflow.com/users/4227328/ali-a-jalil"}, "reply_to_user": {"reputation": 362, "user_id": 5789945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fc52f555441f478ba97ec535ae2f93d?s=128&d=identicon&r=PG&f=1", "display_name": "tiborK", "link": "https://stackoverflow.com/users/5789945/tibork"}, "edited": false, "score": 0, "creation_date": 1574230303, "post_id": 58938665, "comment_id": 104152830, "body": "I don&#39;t want image to appear in dropped list, just in input."}], "answers": [{"comments": [{"owner": {"reputation": 368, "user_id": 4227328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7e93f1499dd24c797801288b56671fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ali A. Jalil", "link": "https://stackoverflow.com/users/4227328/ali-a-jalil"}, "edited": false, "score": 0, "creation_date": 1574182490, "post_id": 58939042, "comment_id": 104136852, "body": "I don&#39;t want image to appear in dropped list, just in input."}], "tags": [], "owner": {"reputation": 391, "user_id": 2546742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1e60d33efa224856d28d5ab05e98463?s=128&d=identicon&r=PG", "display_name": "Praveen", "link": "https://stackoverflow.com/users/2546742/praveen"}, "is_accepted": false, "score": 0, "last_activity_date": 1574181960, "creation_date": 1574181960, "answer_id": 58939042, "question_id": 58938665, "link": "https://stackoverflow.com/questions/58938665/android-drop-down-input-with-left-and-right-icons/58939042#58939042", "title": "Android: drop down input with left and right icons", "body": "<p>You need to use a custom spinner With Image And Text and a card view back ground for spinner. check this link how to add drop-down menu spinner.  <a href=\"https://stackoverflow.com/a/24422359/2546742\">https://stackoverflow.com/a/24422359/2546742</a></p>\n"}, {"tags": [], "owner": {"reputation": 362, "user_id": 5789945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fc52f555441f478ba97ec535ae2f93d?s=128&d=identicon&r=PG&f=1", "display_name": "tiborK", "link": "https://stackoverflow.com/users/5789945/tibork"}, "is_accepted": false, "score": 1, "last_activity_date": 1574265000, "creation_date": 1574265000, "answer_id": 58958369, "question_id": 58938665, "link": "https://stackoverflow.com/questions/58938665/android-drop-down-input-with-left-and-right-icons/58958369#58958369", "title": "Android: drop down input with left and right icons", "body": "<p>So after better understanding your idea, this is the steps you need.</p>\n\n<ol>\n<li>create a custom adapter (this should take the list of string you want to display and the list of icons )</li>\n<li><p>list item is one edit text like</p>\n\n<pre><code>&lt;EditText\n...     \nandroid:drawableLeft=\"@drawable/my_icon\" /&gt;\n</code></pre></li>\n<li><p>create your spinner and set the adapter</p>\n\n<pre><code>Spinner sp = findViewById(R.id.spinner);\nsp.setAdapter(your custom adapter)\n</code></pre></li>\n<li><p>add the item selected listener and you are done.</p></li>\n</ol>\n\n<p>More info on <a href=\"https://developer.android.com/reference/android/widget/Adapter\" rel=\"nofollow noreferrer\">adapters</a></p>\n"}], "owner": {"reputation": 368, "user_id": 4227328, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7e93f1499dd24c797801288b56671fe?s=128&d=identicon&r=PG&f=1", "display_name": "Ali A. Jalil", "link": "https://stackoverflow.com/users/4227328/ali-a-jalil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574265000, "creation_date": 1574180679, "question_id": 58938665, "link": "https://stackoverflow.com/questions/58938665/android-drop-down-input-with-left-and-right-icons", "title": "Android: drop down input with left and right icons", "body": "<p>I have an android application with a drop down list which have left and right icon, I try to use spinner with left and right drawable, but does not work, what I need is look like below where user can only enter (select) from the list, which mean autocomplete text is not useful, also dropped list does not contain image, How can I achieve that? </p>\n\n<p><a href=\"https://i.stack.imgur.com/KJ3Gc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KJ3Gc.png\" alt=\"Edit text with left and right drowable\"></a></p>\n"}, {"tags": ["android", "kotlin", "tabs", "fragment"], "comments": [{"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1574180461, "post_id": 58938114, "comment_id": 104135547, "body": "Try using <code>childFragmentManager</code> instead of <code>myContext.supportFragmentManager</code>.  Hope this will help you"}, {"owner": {"reputation": 3, "user_id": 10290700, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nvaR0-5TlLo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOxttuI3pP7v09M1OfR-rE5Sz-YeA/mo/photo.jpg?sz=128", "display_name": "Jayum", "link": "https://stackoverflow.com/users/10290700/jayum"}, "reply_to_user": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1574180822, "post_id": 58938114, "comment_id": 104135815, "body": "@Md.Asaduzzaman OMG..Thank you so much...you are the best guy..:):):)"}, {"owner": {"reputation": 3, "user_id": 10290700, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nvaR0-5TlLo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOxttuI3pP7v09M1OfR-rE5Sz-YeA/mo/photo.jpg?sz=128", "display_name": "Jayum", "link": "https://stackoverflow.com/users/10290700/jayum"}, "reply_to_user": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1574180997, "post_id": 58938114, "comment_id": 104135936, "body": "@Md.Asaduzzaman Okay:):)"}], "answers": [{"tags": [], "owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "is_accepted": true, "score": 0, "last_activity_date": 1574180655, "creation_date": 1574180655, "answer_id": 58938659, "question_id": 58938114, "link": "https://stackoverflow.com/questions/58938114/tablayout-doesnt-work-in-fragment-in-android-kotlin/58938659#58938659", "title": "Tablayout doesn&#39;t work in Fragment in Android kotlin", "body": "<p>Use <code>childFragmentManager</code> instead of <code>myContext.supportFragmentManager</code></p>\n\n<pre><code>vp_home_detail.adapter = HomeDetailPagerAdapter(childFragmentManager, 5)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10290700, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nvaR0-5TlLo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOxttuI3pP7v09M1OfR-rE5Sz-YeA/mo/photo.jpg?sz=128", "display_name": "Jayum", "link": "https://stackoverflow.com/users/10290700/jayum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 677, "favorite_count": 0, "accepted_answer_id": 58938659, "answer_count": 1, "score": 0, "last_activity_date": 1574180655, "creation_date": 1574179038, "last_edit_date": 1574180013, "question_id": 58938114, "link": "https://stackoverflow.com/questions/58938114/tablayout-doesnt-work-in-fragment-in-android-kotlin", "title": "Tablayout doesn&#39;t work in Fragment in Android kotlin", "body": "<p>I'm trying to add tablayout in one of my fragments.</p>\n\n<p>tablayout in mainActivity works well, but tablayout in fragment doesn't work.</p>\n\n<p>Tab menu shows well, but nothing comes up in my viewPager.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TITpx.png\" rel=\"nofollow noreferrer\">I want to make like this.</a>\n<a href=\"https://i.stack.imgur.com/VfNQD.jpg\" rel=\"nofollow noreferrer\">and it's my app</a></p>\n\n<p>HomeDetailFragment.kt</p>\n\n<pre><code>class HomeDetailFragment : Fragment() {\nlateinit var homeDetailRecyclerViewAdapter : HomeDetailRecyclerViewAdapter\n\nprivate val myContext = FragmentActivity()\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    // Inflate the layout for this fragment\n    return inflater.inflate(R.layout.fragment_home_detail, container, false)\n\n}\n\noverride fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n    configureTopNavigation()\n}\n\nprivate fun configureTopNavigation(){\n    vp_home_detail.adapter = HomeDetailPagerAdapter(myContext.supportFragmentManager, 5)\n\n    vp_home_detail.offscreenPageLimit = 5\n    tl_home_detail_bar.setupWithViewPager(vp_home_detail)\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>HomeDetailPagerAdapter.kt</p>\n\n<pre><code>class HomeDetailPagerAdapter (fm : FragmentManager, val fragmentCount : Int): FragmentStatePagerAdapter(fm){\n\nprivate val fragmentTitleList = mutableListOf(\"\uc804\uccb4\", \"\uc694\uac00\",\"\ubc1c\ub808\", \"\ud0dc\uad8c\ub3c4\", \"\ud5ec\uc2a4\")\n\noverride fun getItem(position:Int): Fragment{\n\n    when(position){\n        0-&gt; return HomeFragment()\n        1-&gt; return WholeFragment()\n        2-&gt; return YogaFragment()\n        3-&gt; return BalletFragment()\n        4-&gt; return TakFragment()\n        else -&gt; return HomeFragment()\n    }\n}\n\noverride fun getPageTitle(position: Int):CharSequence?{\n    return fragmentTitleList[position]\n}\noverride fun getCount(): Int = fragmentCount\n</code></pre>\n\n<p>}</p>\n\n<p>fragment_home_detail.xml</p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:background=\"#f2f7ff\"\ntools:context=\".ui.home.HomeDetailFragment\"&gt;\n\n&lt;com.google.android.material.tabs.TabLayout\n    android:id=\"@+id/tl_home_detail_bar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"48dp\"\n    android:background=\"#ffffff\"\n    app:tabIndicatorColor=\"#2c77f1\"\n    android:layout_alignParentTop=\"true\"\n    android:theme=\"@style/HomeDetailTab\"\n    android:elevation=\"5dp\" /&gt;\n\n&lt;androidx.viewpager.widget.ViewPager\n    android:id=\"@+id/vp_home_detail\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_below=\"@id/tl_home_detail_bar\"/&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "kotlin-android-extensions", "moshi"], "comments": [{"owner": {"reputation": 7125, "user_id": 3975309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r5v7W.jpg?s=128&g=1", "display_name": "Mikkel", "link": "https://stackoverflow.com/users/3975309/mikkel"}, "edited": false, "score": 0, "creation_date": 1574217312, "post_id": 58936702, "comment_id": 104149704, "body": "As JSON is the new standard for data interchange these days, aren&#39;t there JSON parsing libraries available?"}, {"owner": {"reputation": 1735, "user_id": 1802587, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0e54a32cd8110501f3dfc8541f9b7ca5?s=128&d=identicon&r=PG", "display_name": "Maor Hadad", "link": "https://stackoverflow.com/users/1802587/maor-hadad"}, "reply_to_user": {"reputation": 7125, "user_id": 3975309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r5v7W.jpg?s=128&g=1", "display_name": "Mikkel", "link": "https://stackoverflow.com/users/3975309/mikkel"}, "edited": false, "score": 0, "creation_date": 1574234466, "post_id": 58936702, "comment_id": 104154364, "body": "Yes you are right JSON is the new standard but I didn&#39;t find a way to parse this use case with Moshi.@Mikkel"}, {"owner": {"reputation": 1670, "user_id": 11969592, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBoOme-8LYvBpShhvFYE0mbPPJgN6oF6XbRDfPG=k-s128", "display_name": "Patrick Collins", "link": "https://stackoverflow.com/users/11969592/patrick-collins"}, "edited": false, "score": 0, "creation_date": 1574269752, "post_id": 58936702, "comment_id": 104174888, "body": "Is there a &quot;for-each&quot; type component to android kotlin? Pseudocode: for each key k in JSONObject JO do X"}, {"owner": {"reputation": 1735, "user_id": 1802587, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0e54a32cd8110501f3dfc8541f9b7ca5?s=128&d=identicon&r=PG", "display_name": "Maor Hadad", "link": "https://stackoverflow.com/users/1802587/maor-hadad"}, "edited": false, "score": 0, "creation_date": 1574271490, "post_id": 58936702, "comment_id": 104175830, "body": "I don&#39;t want to parse it manually (What I did for now), I want to use Moshi for that."}, {"owner": {"reputation": 10033, "user_id": 993439, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/m7fA4.png?s=128&g=1", "display_name": "longi", "link": "https://stackoverflow.com/users/993439/longi"}, "edited": false, "score": 0, "creation_date": 1575624183, "post_id": 58936702, "comment_id": 104637117, "body": "In &#39;com.fasterxml.jackson.module:jackson-module-kotlin:2.9.2&#39; there&#39;s sth like <code>@JsonRawValue</code>. But it&#39;s not Moshi and therefore just a comment ;-)"}, {"owner": {"reputation": 196, "user_id": 4156516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2608e055f3186d211b4ec3226dbb1ec?s=128&d=identicon&r=PG&f=1", "display_name": "Shripad Jadhav", "link": "https://stackoverflow.com/users/4156516/shripad-jadhav"}, "reply_to_user": {"reputation": 10033, "user_id": 993439, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/m7fA4.png?s=128&g=1", "display_name": "longi", "link": "https://stackoverflow.com/users/993439/longi"}, "edited": false, "score": 0, "creation_date": 1576048091, "post_id": 58936702, "comment_id": 104767304, "body": "Agree with @longi comment it is pretty easy with com.fasterxml.jackson.module:jackson you don&#39;t even need to write custom adapters."}, {"owner": {"reputation": 168, "user_id": 1270139, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b676baa90aa4d5e0a218621211b434e9?s=128&d=identicon&r=PG", "display_name": "th3ant", "link": "https://stackoverflow.com/users/1270139/th3ant"}, "edited": false, "score": 3, "creation_date": 1576084024, "post_id": 58936702, "comment_id": 104786375, "body": "I spent some time trying to come up with a solution for you, but your JSON contains spaces in the key names which ended up breaking Moshi&#39;s Kotlin Codegen. I&#39;ve submitted an issue for this (<a href=\"https://github.com/square/moshi/issues/1052\" rel=\"nofollow noreferrer\">github.com/square/moshi/issues/1052</a>) for this and have decided to leave this problem for now as I don&#39;t have the time to write you an adapater factory."}], "answers": [{"comments": [{"owner": {"reputation": 1735, "user_id": 1802587, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0e54a32cd8110501f3dfc8541f9b7ca5?s=128&d=identicon&r=PG", "display_name": "Maor Hadad", "link": "https://stackoverflow.com/users/1802587/maor-hadad"}, "edited": false, "score": 0, "creation_date": 1576353674, "post_id": 59298171, "comment_id": 104875044, "body": "It&#39;s not answering my question. It selected by default cause the bounty period ended."}, {"owner": {"reputation": 2383, "user_id": 5634798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gDdoW.png?s=128&g=1", "display_name": "Gundu Bandgar", "link": "https://stackoverflow.com/users/5634798/gundu-bandgar"}, "reply_to_user": {"reputation": 1735, "user_id": 1802587, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0e54a32cd8110501f3dfc8541f9b7ca5?s=128&d=identicon&r=PG", "display_name": "Maor Hadad", "link": "https://stackoverflow.com/users/1802587/maor-hadad"}, "edited": false, "score": 0, "creation_date": 1576473394, "post_id": 59298171, "comment_id": 104897366, "body": "is this not correct answer? I think you canot use json parsing library, because you need to specify all keys first, if any key change they directly throw in error response, and your response keys are dynamic."}, {"owner": {"reputation": 1735, "user_id": 1802587, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0e54a32cd8110501f3dfc8541f9b7ca5?s=128&d=identicon&r=PG", "display_name": "Maor Hadad", "link": "https://stackoverflow.com/users/1802587/maor-hadad"}, "edited": false, "score": 0, "creation_date": 1576480395, "post_id": 59298171, "comment_id": 104899238, "body": "It&#39;s not the correct answer. You can parse a dynamic key with a Map. The problem here is the nested dynamic keys. Also, like other people here said it&#39;s possible with other libraries(I didn&#39;t check it)."}], "tags": [], "owner": {"reputation": 2383, "user_id": 5634798, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gDdoW.png?s=128&g=1", "display_name": "Gundu Bandgar", "link": "https://stackoverflow.com/users/5634798/gundu-bandgar"}, "is_accepted": false, "score": 0, "last_activity_date": 1576128098, "creation_date": 1576128098, "answer_id": 59298171, "question_id": 58936702, "link": "https://stackoverflow.com/questions/58936702/how-can-i-parse-nested-json-with-dynamic-keys-in-android-kotlin-moshi-and-retro/59298171#59298171", "title": "How can I parse Nested JSON with dynamic keys in Android kotlin, Moshi and Retrofit?", "body": "<p>Just pass your json string to this method, it will work definitely.</p>\n\n<pre><code>private void parseJson(String jsonString) {\n    try {\n        //  pass your response json string here\n        JSONObject object = new JSONObject(jsonString);\n\n        Iterator&lt;String&gt; it = object.keys();\n        while (it.hasNext()) {\n            String key = it.next();\n            try {\n                if (object.get(key) instanceof JSONObject) {\n                    Log.e(\"Main OBJ\", key);\n                    JSONObject object2 = object.getJSONObject(key);\n                    Iterator&lt;String&gt; it2 = object2.keys();\n                    while (it2.hasNext()) {\n                        String key2 = it2.next();\n                        if (object2.get(key2) instanceof JSONObject) {\n                            Log.e(\"Sub OBJ\", key2);\n                            JSONObject object3 = object2.getJSONObject(key2);\n                            Iterator&lt;String&gt; it3 = object3.keys();\n                            while (it3.hasNext()) {\n                                String key4 = it3.next();\n                                Log.e(\"Values\", key4);\n                            }\n                        } else {\n                            Log.e(\"Values\", object2.getString(key2));\n                        }\n                    }\n\n                } else {\n                    System.out.println(key + \":\" + object.getString(key));\n                }\n            } catch (Throwable e) {\n                try {\n                    System.out.println(key + \":\" + object.getString(key));\n                } catch (Exception ee) {\n                    ee.printStackTrace();\n                }\n                e.printStackTrace();\n            }\n        }\n\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>Main\u00a0OBJ: Meta Data\nValues: Intraday (15min) open, high, low, close prices and volume\nValues: AAME\nValues: 2019-11-18 16:00:00\nValues: 15min\nValues: Compact\nValues: US/Eastern\nMain\u00a0OBJ: Time Series (15min)\nSub\u00a0OBJ: 2019-11-18 16:00:00\nValues: 1. open\nValues: 2. high\nValues: 3. low\nValues: 4. close\nValues: 5. volume\nSub\u00a0OBJ: 2019-11-18 15:45:00\nValues: 1. open\nValues: 2. high\nValues: 3. low\nValues: 4. close\nValues: 5. volume\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 805, "user_id": 5343866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zrGpX.png?s=128&g=1", "display_name": "animusmind", "link": "https://stackoverflow.com/users/5343866/animusmind"}, "is_accepted": false, "score": 0, "last_activity_date": 1576145027, "last_edit_date": 1592644375, "creation_date": 1576145027, "answer_id": 59302048, "question_id": 58936702, "link": "https://stackoverflow.com/questions/58936702/how-can-i-parse-nested-json-with-dynamic-keys-in-android-kotlin-moshi-and-retro/59302048#59302048", "title": "How can I parse Nested JSON with dynamic keys in Android kotlin, Moshi and Retrofit?", "body": "<p>Use <a href=\"https://developer.android.com/reference/org/json/JSONObject.html#keys%28%29\" rel=\"nofollow noreferrer\">JSONObject keys()</a> to get the <code>Dynamic Keys</code> and then <code>Iterate</code> each particular key to get to the dynamic value.</p>\n<p>A very short to print all the <code>JSONObject</code> of 1st Tier is look like this.</p>\n<pre><code>var dynamicJSON: String = {\n    &quot;Meta Data&quot;: {\n        &quot;1. Information&quot;: &quot;Intraday (15min) open, high, low, close prices and volume&quot;,\n        &quot;2. Symbol&quot;: &quot;AAME&quot;,\n        &quot;3. Last Refreshed&quot;: &quot;2019-11-18 16:00:00&quot;,\n        &quot;4. Interval&quot;: &quot;15min&quot;,\n        &quot;5. Output Size&quot;: &quot;Compact&quot;,\n        &quot;6. Time Zone&quot;: &quot;US/Eastern&quot;\n     },\n    &quot;Time Series (15min)&quot;: {//Dynamic - &gt; Time Series (5min) / Time Series (30min)\n        &quot;2019-11-18 16:00:00&quot;: {//Dynamic\n            &quot;1. open&quot;: &quot;1.6700&quot;,\n            &quot;2. high&quot;: &quot;1.6700&quot;,\n            &quot;3. low&quot;: &quot;1.5700&quot;,\n            &quot;4. close&quot;: &quot;1.5700&quot;,\n            &quot;5. volume&quot;: &quot;1521&quot;\n        },\n        &quot;2019-11-18 15:45:00&quot;: {//Dynamic\n            &quot;1. open&quot;: &quot;1.6600&quot;,\n            &quot;2. high&quot;: &quot;1.7400&quot;,\n            &quot;3. low&quot;: &quot;1.6600&quot;,\n            &quot;4. close&quot;: &quot;1.7400&quot;,\n            &quot;5. volume&quot;: &quot;355&quot;\n        }\n    }\n}  \n</code></pre>\n<p>Then After you have to start parsing it as JSONObject and then further follows the same process for the JSONObject <code>&quot;Meta Data&quot;</code> &amp; <code>&quot;Time Series (15min)&quot;</code></p>\n<pre><code>val dynamicjson: JSONObject = JSONObject(dynamicJSON)\nval keys: Iterator&lt;*&gt; = dynamicjson.keys()\n\nwhile (keys.hasNext()) { // loop to get the dynamic key\n   val currentDynamicKey = keys.next() as String\n   // get the value of the dynamic key\n   val currentDynamicValue: JSONObject = dynamicjson.getJSONObject(currentDynamicKey)\n   // do something here with the value... or either make another while loop to Iterate further\n\n   Log.e(&quot;JSON Value&quot;, currentDynamicValue.toString())\n}\n</code></pre>\n<p>The OUTPUT looks like this when I executed the code:</p>\n<blockquote>\n<p>2019-12-12 15:21:08.399 19798-19798/com.animusabhi.dynamicjsonparsing <strong>E/JSON\u00a0Value: {&quot;1. Information&quot;:&quot;Intraday (15min) open, high, low, close prices and volume&quot;,&quot;2. Symbol&quot;:&quot;AAME&quot;,&quot;3. Last Refreshed&quot;:&quot;2019-11-18 16:00:00&quot;,&quot;4. Interval&quot;:&quot;15min&quot;,&quot;5. Output Size&quot;:&quot;Compact&quot;,&quot;6. Time Zone&quot;:&quot;US/Eastern&quot;}</strong></p>\n<p>2019-12-12 15:21:09.158 19798-19798/com.animusabhi.dynamicjsonparsing E/<strong>JSON\u00a0Value{&quot;2019-11-18 16:00:00&quot;:{&quot;1. open&quot;:&quot;1.6700&quot;,&quot;2. high&quot;:&quot;1.6700&quot;,&quot;3. low&quot;:&quot;1.5700&quot;,&quot;4. close&quot;:&quot;1.5700&quot;,&quot;5. volume&quot;:&quot;1521&quot;},&quot;2019-11-18 15:45:00&quot;:{&quot;1. open&quot;:&quot;1.6600&quot;,&quot;2. high&quot;:&quot;1.7400&quot;,&quot;3. low&quot;:&quot;1.6600&quot;,&quot;4. close&quot;:&quot;1.7400&quot;,&quot;5. volume&quot;:&quot;355&quot;}}</strong></p>\n</blockquote>\n<p>check and let me know if it not works.</p>\n"}], "owner": {"reputation": 1735, "user_id": 1802587, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/0e54a32cd8110501f3dfc8541f9b7ca5?s=128&d=identicon&r=PG", "display_name": "Maor Hadad", "link": "https://stackoverflow.com/users/1802587/maor-hadad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2439, "favorite_count": 1, "answer_count": 2, "score": 6, "last_activity_date": 1576145027, "creation_date": 1574175037, "last_edit_date": 1576084709, "question_id": 58936702, "link": "https://stackoverflow.com/questions/58936702/how-can-i-parse-nested-json-with-dynamic-keys-in-android-kotlin-moshi-and-retro", "title": "How can I parse Nested JSON with dynamic keys in Android kotlin, Moshi and Retrofit?", "body": "<p>How can I parse Nested JSON with <strong>NESTED</strong> dynamic keys in Android kotlin, Moshi and Retrofit?</p>\n\n<p>I get this JSON from <a href=\"https://rapidapi.com/patrick.collins/api/alpha-vantage?endpoint=apiendpoint_12dcee7e-48f9-4da4-9a55-2f4f2bbd619c\" rel=\"noreferrer\">alpha-vantage</a>.</p>\n\n<p>Format example: </p>\n\n<pre><code>{\n    \"Meta Data\": {\n        \"1. Information\": \"Intraday (15min) open, high, low, close prices and volume\",\n        \"2. Symbol\": \"AAME\",\n        \"3. Last Refreshed\": \"2019-11-18 16:00:00\",\n        \"4. Interval\": \"15min\",\n        \"5. Output Size\": \"Compact\",\n        \"6. Time Zone\": \"US/Eastern\"\n     },\n    \"Time Series (15min)\": {//Dynamic - &gt; Time Series (5min) / Time Series (30min)\n        \"2019-11-18 16:00:00\": {//Dynamic\n            \"1. open\": \"1.6700\",\n            \"2. high\": \"1.6700\",\n            \"3. low\": \"1.5700\",\n            \"4. close\": \"1.5700\",\n            \"5. volume\": \"1521\"\n        },\n        \"2019-11-18 15:45:00\": {//Dynamic\n            \"1. open\": \"1.6600\",\n            \"2. high\": \"1.7400\",\n            \"3. low\": \"1.6600\",\n            \"4. close\": \"1.7400\",\n            \"5. volume\": \"355\"\n        }\n    }\n}\n</code></pre>\n\n<p>I tried to use custom adapter but I can't find a way to parse a double nested dynamic keys with it.\nFor now I use manual parsing:</p>\n\n<pre><code>fun convertJsonToItemDetails(jso: JSONObject) {\n    val meta: JSONObject? = jso.optJSONObject(\"Meta Data\")\n    var metaData: ItemMetaData? = null\n    meta?.apply {\n        val information = optString(\"1. Information\")\n        val symbol = optString(\"2. Symbol\")\n        val lastRefreshed = optString(\"3. Last Refreshed\")\n        val interval = optString(\"4. Interval\")\n        val outputSize = optString(\"5. Output Size\")\n        val timeZone = optString(\"6. Time Zone\")\n        metaData =\n            ItemMetaData(information, symbol, lastRefreshed, interval, outputSize, timeZone)\n    }\n    if (metaData == null) {\n        //TODO return error object\n        return\n    }\n\n    val timeSeriesJSON = jso.optJSONObject(\"Time Series (${metaData?.interval})\")\n    val timeSeires = HashMap&lt;String, IntervalOutput&gt;()\n    if (timeSeriesJSON == null) {\n        //TODO return error object\n        return\n    }\n    for (key in timeSeriesJSON.keys()) {\n        val intervalOutPutJSON = timeSeriesJSON.getJSONObject(key)\n        val open = intervalOutPutJSON.getString(\"1. open\")\n        val high = intervalOutPutJSON.getString(\"2. high\")\n        val low = intervalOutPutJSON.getString(\"3. low\")\n        val close = intervalOutPutJSON.getString(\"4. close\")\n        val volume = intervalOutPutJSON.getString(\"5. volume\")\n        timeSeires[key] = IntervalOutput(open, high, low, close, volume)\n    }\n    val itemDetails = ItemDetails(metaData, timeSeires)\n    _itemDetails.value = itemDetails\n}\n</code></pre>\n"}, {"tags": ["kotlin", "spring-data-mongodb", "project-reactor"], "comments": [{"owner": {"reputation": 4149, "user_id": 6051176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdcd2b6f8b54169bbb7caff671431b06?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Tarj&#225;nyi", "link": "https://stackoverflow.com/users/6051176/martin-tarj%c3%a1nyi"}, "edited": false, "score": 0, "creation_date": 1574191742, "post_id": 58936151, "comment_id": 104141442, "body": "you might consider using kotlin coroutines which would let you write async code as you would write imperative and it supports project reactor with await extension function"}, {"owner": {"reputation": 2805, "user_id": 7037695, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-VBSyZ-n09Do/AAAAAAAAAAI/AAAAAAAAADI/zZd-wwa0QWc/photo.jpg?sz=128", "display_name": "Markus Appel", "link": "https://stackoverflow.com/users/7037695/markus-appel"}, "reply_to_user": {"reputation": 4149, "user_id": 6051176, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdcd2b6f8b54169bbb7caff671431b06?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Tarj&#225;nyi", "link": "https://stackoverflow.com/users/6051176/martin-tarj%c3%a1nyi"}, "edited": false, "score": 0, "creation_date": 1574246350, "post_id": 58936151, "comment_id": 104160700, "body": "@MartinTarj&#225;nyi Coroutines are conceptually less powerful than reactive programming."}, {"owner": {"reputation": 2805, "user_id": 7037695, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-VBSyZ-n09Do/AAAAAAAAAAI/AAAAAAAAADI/zZd-wwa0QWc/photo.jpg?sz=128", "display_name": "Markus Appel", "link": "https://stackoverflow.com/users/7037695/markus-appel"}, "edited": false, "score": 0, "creation_date": 1574246553, "post_id": 58936151, "comment_id": 104160827, "body": "The most elegant way is to split the <code>Flux</code> and filter one for existing users and the other for nonexisting users. Then do whatever logic you want to do and merge them together in the end."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10341642, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-u632fm4estU/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPimAS7hFp5ze6Xhm_-wRtiv7tQHA/mo/photo.jpg?sz=128", "display_name": "Pablow", "link": "https://stackoverflow.com/users/10341642/pablow"}, "is_accepted": false, "score": 0, "last_activity_date": 1574174785, "creation_date": 1574174785, "answer_id": 58936626, "question_id": 58936151, "link": "https://stackoverflow.com/questions/58936151/elegant-way-of-doing-if-else-statement-with-a-flux/58936626#58936626", "title": "Elegant way of doing if else statement with a Flux", "body": "<p>This doesn't do exactly the same but for me it will do:</p>\n\n<pre><code>fun registerUser(userRegistration: UserRegistration) {\nuserReactiveRepository.findByTokenOrUserId(userRegistration.userId, userRegistration.userId).map {\n  if (!isAlreadyRegistered(it, userRegistration)) {\n    userReactiveRepository.delete(it).map {\n      val pnUser = PnUser(userRegistration.userId, userRegistration.deviceToken, userRegistration.region, userRegistration.locale, userRegistration.deviceType, userRegistration.osVersion, userRegistration.appVersion, userRegistration.timezone)\n      userReactiveRepository.save(pnUser)\n    }\n  }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"comments": [{"owner": {"reputation": 2805, "user_id": 7037695, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-VBSyZ-n09Do/AAAAAAAAAAI/AAAAAAAAADI/zZd-wwa0QWc/photo.jpg?sz=128", "display_name": "Markus Appel", "link": "https://stackoverflow.com/users/7037695/markus-appel"}, "edited": false, "score": 1, "creation_date": 1574249782, "post_id": 58952895, "comment_id": 104162669, "body": "I would not even go for <code>groupBy</code> as it still requires to match which key you are dealing with in an ugly if-condition. I would split it by using a hot <code>Flux</code>, filtering it in two different streams for the two opposing predicates, and joining it by using<code>merge</code>."}, {"owner": {"reputation": 68, "user_id": 5777905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcf63aa635c4a174103e4ed409135af8?s=128&d=identicon&r=PG&f=1", "display_name": "w1sh", "link": "https://stackoverflow.com/users/5777905/w1sh"}, "reply_to_user": {"reputation": 2805, "user_id": 7037695, "user_type": "registered", "accept_rate": 89, "profile_image": "https://lh3.googleusercontent.com/-VBSyZ-n09Do/AAAAAAAAAAI/AAAAAAAAADI/zZd-wwa0QWc/photo.jpg?sz=128", "display_name": "Markus Appel", "link": "https://stackoverflow.com/users/7037695/markus-appel"}, "edited": false, "score": 0, "creation_date": 1574250231, "post_id": 58952895, "comment_id": 104162897, "body": "I see, I was thinking of performing actions based on the key but I can see your point, it would be easier using two different streams honestly."}], "tags": [], "owner": {"reputation": 68, "user_id": 5777905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcf63aa635c4a174103e4ed409135af8?s=128&d=identicon&r=PG&f=1", "display_name": "w1sh", "link": "https://stackoverflow.com/users/5777905/w1sh"}, "is_accepted": false, "score": 1, "last_activity_date": 1574248040, "creation_date": 1574248040, "answer_id": 58952895, "question_id": 58936151, "link": "https://stackoverflow.com/questions/58936151/elegant-way-of-doing-if-else-statement-with-a-flux/58952895#58952895", "title": "Elegant way of doing if else statement with a Flux", "body": "<p>As @Markus pointed out the most elegant way would be to split the <code>Flux</code> using <code>Flux.groupBy</code> and then doing the logic for each key.</p>\n\n<p>Check out <a href=\"https://stackoverflow.com/questions/55892421/the-most-efficient-way-to-split-a-flux-to-multiple-fluxes-in-reactor-3\">this answer</a> for more information: </p>\n"}], "owner": {"reputation": 1, "user_id": 10341642, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-u632fm4estU/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPimAS7hFp5ze6Xhm_-wRtiv7tQHA/mo/photo.jpg?sz=128", "display_name": "Pablow", "link": "https://stackoverflow.com/users/10341642/pablow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 821, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574248040, "creation_date": 1574173143, "question_id": 58936151, "link": "https://stackoverflow.com/questions/58936151/elegant-way-of-doing-if-else-statement-with-a-flux", "title": "Elegant way of doing if else statement with a Flux", "body": "<p>I have the following kotlin method which currently uses a non-reactive mongodb repository (spring data) which returns a list. </p>\n\n<pre><code>  fun register(userRegistration: UserRegistration) {\n    val existing = userRepository.findByTokenOrUserId(userRegistration.deviceToken, userRegistration.userId)\n    var alreadyRegistered = false\n    if (existing.isNotEmpty()) {\n      existing.forEach {\n        if (!isAlreadyRegistered(it, userRegistration)) {\n          userRepository.delete(it)\n        } else {\n          alreadyRegistered = true\n        }\n      }\n    }\n    if (!alreadyRegistered) {\n      val pnUser = PnUser(userRegistration.userId, userRegistration.deviceToken, userRegistration.region, userRegistration.locale, userRegistration.deviceType, userRegistration.osVersion, userRegistration.appVersion, userRegistration.timezone)\n      userRepository.save(pnUser)\n    }\n\n  }\n</code></pre>\n\n<p>How can I have the same behavior in an elegant way if userRepository.findByTokenOrUserId would return a Flux of PnUser instead of a List?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin", "android-transitions"], "answers": [{"tags": [], "owner": {"reputation": 3818, "user_id": 6245697, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-XKOX8-NVQ10/AAAAAAAAAAI/AAAAAAAACDM/cwSADhKd9WI/photo.jpg?sz=128", "display_name": "Samuel Eminet", "link": "https://stackoverflow.com/users/6245697/samuel-eminet"}, "is_accepted": true, "score": 1, "last_activity_date": 1574373822, "last_edit_date": 1574373822, "creation_date": 1574365815, "answer_id": 58982731, "question_id": 58935284, "link": "https://stackoverflow.com/questions/58935284/fragment-transition-using-androidx-transition-slide-seems-to-reorder-view-z-inde/58982731#58982731", "title": "Fragment transition using androidx.transition.Slide seems to reorder view z index", "body": "<p>Just found out that ordering transition from a <code>TransitionSet</code> influence depth so workaround is to set <code>Slide</code> transition for image before other elements like this :</p>\n\n<pre><code>TransitionSet()\n   .addTransition(\n      Slide()\n         .addTarget(R.id.image)\n   )\n   .addTransition(\n      Slide()\n         .excludeTarget(R.id.image, true)\n   )\n   .setDuration(5000)\n</code></pre>\n\n<p>I'm not sure this is intended so.</p>\n"}], "owner": {"reputation": 3818, "user_id": 6245697, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-XKOX8-NVQ10/AAAAAAAAAAI/AAAAAAAACDM/cwSADhKd9WI/photo.jpg?sz=128", "display_name": "Samuel Eminet", "link": "https://stackoverflow.com/users/6245697/samuel-eminet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "accepted_answer_id": 58982731, "answer_count": 1, "score": 0, "last_activity_date": 1574373822, "creation_date": 1574170350, "last_edit_date": 1574171303, "question_id": 58935284, "link": "https://stackoverflow.com/questions/58935284/fragment-transition-using-androidx-transition-slide-seems-to-reorder-view-z-inde", "title": "Fragment transition using androidx.transition.Slide seems to reorder view z index", "body": "<p>When using <code>Slide</code> transition to enter/exit a <code>Frament</code>, it seems views are reordered when exiting animation is played. There no much code to talk about just this simple line to activate the transition from a <code>Fragment</code>, all views are inside a <code>ConstraintLayout</code> so not much there neither:</p>\n\n<pre><code> override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        enterTransition = Slide().setDuration(1000)\n}\n</code></pre>\n\n<p>Is there anything to manage this zindex reordering?</p>\n\n<p>Here are some captures and a projet example :</p>\n\n<p><a href=\"https://i.stack.imgur.com/QO5Ne.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QO5Ne.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/FKNAY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FKNAY.png\" alt=\"enter image description here\"></a></p>\n\n<p>From first capture everything fine all inputs are in front of image.\nFrom second capture you ca see second input is behind image, this is totally random sometime more inputs are behind image.\nYou can grab an example project from this <a href=\"https://github.com/SamYStudiO/transitions\" rel=\"nofollow noreferrer\">repository</a>, click \"GO PROFILE\" button and then click back. Transition is implemented in this file <code>net.samystudio.beaver.ui.main.authenticator.AuthenticatorFragment</code></p>\n\n<p>Thx for your help!</p>\n"}, {"tags": ["postgresql", "spring-boot", "kotlin", "hikaricp", "jdbi"], "comments": [{"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1574170701, "post_id": 58935159, "comment_id": 104129519, "body": "You don&#39;t have a transaction. Yur service must be <code>@Transactional</code> for this to work."}, {"owner": {"reputation": 37, "user_id": 2042761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f966b3accf5e462a009d93dcb57aa7b8?s=128&d=identicon&r=PG", "display_name": "m4nu56", "link": "https://stackoverflow.com/users/2042761/m4nu56"}, "reply_to_user": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1574264318, "post_id": 58935159, "comment_id": 104171645, "body": "Yep sorry I forgot to explain that their is a catcher that automatically add the   <code>@Transactionnal</code> annotation to all my <code>@Service</code>. Just to be sure I added the annotation on my service but this didn&#39;t change anything.."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 2042761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f966b3accf5e462a009d93dcb57aa7b8?s=128&d=identicon&r=PG", "display_name": "m4nu56", "link": "https://stackoverflow.com/users/2042761/m4nu56"}, "edited": false, "score": 0, "creation_date": 1580714653, "post_id": 60020022, "comment_id": 106173597, "body": "Thank&#39;s @winson. I forgot to update the ticket but you described exactly the solution. Just had to delete this <code>JdbiHandleManager</code> and <code>JdbiSetHandleInterceptor</code> and let Spring handle the connections."}], "tags": [], "owner": {"reputation": 198, "user_id": 7355258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63c7f422055338838464e4288dabe5fa?s=128&d=identicon&r=PG&f=1", "display_name": "winson", "link": "https://stackoverflow.com/users/7355258/winson"}, "is_accepted": true, "score": 1, "last_activity_date": 1580582884, "last_edit_date": 1580582884, "creation_date": 1580582374, "answer_id": 60020022, "question_id": 58935159, "link": "https://stackoverflow.com/questions/58935159/connection-not-released-to-the-pool-after-an-error-occured-spring-boot-2-1-4-j/60020022#60020022", "title": "Connection not released to the pool after an error occured Spring Boot 2.1.4 + JDBI + HikariCP + PostgreSQL", "body": "<p>I did not run your code, but am quite confident that the underlying problem is the following:</p>\n\n<p>Your <code>JdbiHandleManager</code> is redundant and leads to problems (2 connections opened). Why? Because <code>TransactionAwareDataSourceProxy</code> already handles the open and close of connections. When Spring encounters a method call which is \"transactional\" (via annotation or aspect) a connections is opened and bound to the current thread.</p>\n\n<p>That means it is absolutely sufficient to just use <code>jdbi.withHandle(...)</code> as the next call to open a connection is returning the active transaction connection and calls to <code>close</code> are proxied since spring will close connections by itself.</p>\n\n<p>Since you implemented your own \"Manager\" this happens twice, once by spring and once by you. Two threadlocal connections (one already wrapped inside a <code>Handle</code>)</p>\n\n<p>My suggestion here is to remove you custom code and fully rely on the correct operation of <code>TransactionAwareDataSourceProxy</code></p>\n"}], "owner": {"reputation": 37, "user_id": 2042761, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f966b3accf5e462a009d93dcb57aa7b8?s=128&d=identicon&r=PG", "display_name": "m4nu56", "link": "https://stackoverflow.com/users/2042761/m4nu56"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 744, "favorite_count": 1, "accepted_answer_id": 60020022, "answer_count": 1, "score": 1, "last_activity_date": 1580582884, "creation_date": 1574169910, "last_edit_date": 1574264215, "question_id": 58935159, "link": "https://stackoverflow.com/questions/58935159/connection-not-released-to-the-pool-after-an-error-occured-spring-boot-2-1-4-j", "title": "Connection not released to the pool after an error occured Spring Boot 2.1.4 + JDBI + HikariCP + PostgreSQL", "body": "<p>I've got a Spring Boot application that consists in an API. It exposes an endpoint <code>/api/persons/:id</code>. \nUnder the hood Spring Boot comes with Hibernate and HikariCP. My database is PostgreSQL 10. \nThe app is built in Kotlin. </p>\n\n<p>I've identified a problem when simultaneous requests are received by the API, it seems that the app require 2 active connections to perform the operation <code>findpersonById()</code> called by the endpoint. </p>\n\n<p>The pool is configured this way: \n<code>spring.datasource.hikari.maximumPoolSize=5</code></p>\n\n<p>When I send 5 simultaneous requests to <code>/api/persons/:id</code> 5 connections are taken from the pool to execute the request behind and 5 are in pending state. \nThe pool finally throw an exception because the 5 pending connections have been waiting for the connectionTimeout period and the request fail as well. </p>\n\n<p>The problem I'm facing is that after that HikariCP still says that there are 5 active connections on the pool. And if I look at the PostgreSQL statistics all connections are idle. </p>\n\n<p>And FYI if I send only 4 requests at the same time everything goes as excepted, it begins with 5 active connection and 3 pendings and all requests returns the excepted results.</p>\n\n<p>I've tried to change the Pool to Tomcat JDBC but with the exact same result. </p>\n\n<p>I don't understand why 2 connections are needed in the first place. </p>\n\n<p>I past some of the code here if anyone has an idea of what I am doing wrong.. </p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/person\")\nclass PersonResource(private val personService: PersonService,\n                     private val personUpdateService: PersonUpdateService,\n                     private val identityManagementService: IdentityWithManagementService) : PersonApi {\n\n    @GetMapping(\"/{id}\")\n    override fun findPersonById(@PathVariable id: String): PersonDto? {\n        return personService.findFull(id)\n    }\n\n}\n</code></pre>\n\n<p>The <code>personService</code>: </p>\n\n<pre><code>@Service\nclass PersonService(private val documentsService: DocumentService,\n                    private val postalAddressService: PostalAddressService) : EntityService&lt;Person&gt;(repository) {\n\n    fun findFull(personId: String): PersonDto? {\n        return find(personId)?.let { person -&gt;\n            PersonDto(\n                    person,\n                    postalAddressService.findByPersonId(personId).map { it.toDto() },\n                    documentsService.findByPersonId(personId).map { it.toDto() }\n            )\n        }\n    }\n}\n</code></pre>\n\n<p>The <code>PersonPostgresRepository</code>:</p>\n\n<pre><code>@Repository\nclass PersonPostgresRepository : AbstractPostgresRepository(), PersonEntityRepository {\n\n    override fun find(id: String): Person? {\n        return withHandle&lt;Person?, Exception&gt; {\n            it.createQuery(\n                    \"select * \" +\n                            \"from identiti_person \" +\n                            \"where id = :id\")\n                    .bind(\"id\", id)\n                    .map(PersonRowMapper())\n                    .firstOrNull()\n        }\n    }\n}\n</code></pre>\n\n<p>The <code>AbstractPostgresRepository</code>:</p>\n\n<pre><code>abstract class AbstractPostgresRepository {\n\n    @Autowired\n    private lateinit var handleManager: JdbiHandleManager\n\n    @Autowired\n    private lateinit var jdbi: Jdbi\n\n    protected fun &lt;R, X : Exception&gt; withHandle(callback: (handle: Handle) -&gt; R): R {\n        val handle = handleManager.handle\n        return if (handle.isPresent) {\n            callback.invoke(handle.get())\n        } else {\n            jdbi.withHandle(HandleCallback&lt;R, X&gt; {\n                callback.invoke(it)\n            })\n        }\n    }\n}\n</code></pre>\n\n<p>And the <code>JdbiHandleManager</code> in case you ask: </p>\n\n<pre><code>@Component\n@Scope(\"singleton\")\nclass JdbiHandleManager(private val jdbi: Jdbi) {\n\n    private val currentHandle = ThreadLocal&lt;Handle&gt;()\n\n    val handle: Optional&lt;Handle&gt;\n        get() = Optional.ofNullable(currentHandle.get())\n\n    internal fun openHandle(): Handle {\n        val handle = jdbi.open()\n        currentHandle.set(handle)\n        return handle\n    }\n\n    internal fun closeHandle() {\n        val handle = currentHandle.get()\n        currentHandle.remove()\n        handle?.close()\n    }\n}\n</code></pre>\n\n<p>And the <code>JdbiConfig</code> initializes Jdbi: </p>\n\n<pre><code>@Configuration\nopen class JdbiConfig {\n\n    @Bean\n    open fun jdbi(dataSource: DataSource): Jdbi {\n        // JDBI wants to control the Connection wrap the datasource in a proxy\n        // That is aware of the Spring managed transaction\n        val dataSourceProxy = TransactionAwareDataSourceProxy(dataSource)\n        val jdbi = Jdbi.create(dataSourceProxy)\n        jdbi.installPlugins()\n\n        return jdbi\n    }\n}\n</code></pre>\n\n<p>All my <code>@Service</code> are transactionnal thank's to this: </p>\n\n<pre><code>@Bean\n@Role(BeanDefinition.ROLE_INFRASTRUCTURE)\n    override fun transactionAttributeSource(): TransactionAttributeSource {\n        /*\n            Defines an annotation transaction source (the default) which consider that @Service components\n            are transactional by default (making the use of @Transactional optional on those classes).\n            Note that the class has to be processed by a TransactionInterceptor for that source to be applied,\n            this is the responsibility of the auto proxy creator below.\n         */\n        return object : AnnotationTransactionAttributeSource() {\n            override fun findTransactionAttribute(clazz: Class&lt;*&gt;): TransactionAttribute? {\n                return if (clazz.getAnnotation(Service::class.java) != null &amp;&amp; clazz.getAnnotation(Transactional::class.java) == null) {\n                    DefaultTransactionAttribute(TransactionAttribute.PROPAGATION_REQUIRED)\n                } else super.findTransactionAttribute(clazz)\n            }\n        }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java", "repository-pattern"], "comments": [{"owner": {"reputation": 1614, "user_id": 3609514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/92C38.jpg?s=128&g=1", "display_name": "TheTechWolf", "link": "https://stackoverflow.com/users/3609514/thetechwolf"}, "edited": false, "score": 0, "creation_date": 1574169949, "post_id": 58935091, "comment_id": 104129062, "body": "You can use a flatMap operator."}, {"owner": {"reputation": 7521, "user_id": 1219389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6otAH.jpg?s=128&g=1", "display_name": "PPartisan", "link": "https://stackoverflow.com/users/1219389/ppartisan"}, "edited": false, "score": 0, "creation_date": 1574169962, "post_id": 58935091, "comment_id": 104129072, "body": "<code>flatMap</code> into <code>userRepository.update</code>?"}, {"owner": {"reputation": 413, "user_id": 6185975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c970d20395df0dc1d7c3dbad66928ec?s=128&d=identicon&r=PG&f=1", "display_name": "Lenin", "link": "https://stackoverflow.com/users/6185975/lenin"}, "edited": false, "score": 0, "creation_date": 1574170285, "post_id": 58935091, "comment_id": 104129266, "body": "Can you give me an example with flatmap? I never used it"}, {"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1574170569, "post_id": 58935091, "comment_id": 104129427, "body": "<a href=\"https://stackoverflow.com/questions/22847105/when-do-you-use-map-vs-flatmap-in-rxjava\" title=\"when do you use map vs flatmap in rxjava\">stackoverflow.com/questions/22847105/&hellip;</a>"}, {"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1574170640, "post_id": 58935091, "comment_id": 104129482, "body": "<code>userRepository.getUser(email).flatmap { user -&gt; userRepository.update(user) }.subscribeOn(..).observeOn(..).subscribe({..}, {..})</code>"}, {"owner": {"reputation": 413, "user_id": 6185975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c970d20395df0dc1d7c3dbad66928ec?s=128&d=identicon&r=PG&f=1", "display_name": "Lenin", "link": "https://stackoverflow.com/users/6185975/lenin"}, "edited": false, "score": 0, "creation_date": 1574170820, "post_id": 58935091, "comment_id": 104129585, "body": "But that way i&#39;m subscribing twice too, right? So there&#39;s no way to avoid 2 subscribes?"}, {"owner": {"reputation": 7521, "user_id": 1219389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6otAH.jpg?s=128&g=1", "display_name": "PPartisan", "link": "https://stackoverflow.com/users/1219389/ppartisan"}, "reply_to_user": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1574170991, "post_id": 58935091, "comment_id": 104129689, "body": "You subscribe once only in the example given by @sonnet"}, {"owner": {"reputation": 7521, "user_id": 1219389, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6otAH.jpg?s=128&g=1", "display_name": "PPartisan", "link": "https://stackoverflow.com/users/1219389/ppartisan"}, "edited": false, "score": 1, "creation_date": 1574171025, "post_id": 58935091, "comment_id": 104129709, "body": "(Voting as a duplicate with the link sonnet provided) <a href=\"https://stackoverflow.com/questions/22847105/when-do-you-use-map-vs-flatmap-in-rxjava\">When do you use map vs flatMap in RxJava?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1954, "user_id": 1509425, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/804c260c2ee5327f87b729b717e7709e?s=128&d=identicon&r=PG", "display_name": "CoderSpinoza", "link": "https://stackoverflow.com/users/1509425/coderspinoza"}, "is_accepted": true, "score": 2, "last_activity_date": 1574172092, "creation_date": 1574172092, "answer_id": 58935809, "question_id": 58935091, "link": "https://stackoverflow.com/questions/58935091/editing-data-in-repository-pattern-using-rxjava/58935809#58935809", "title": "Editing data in repository pattern using RxJava", "body": "<p>One strength of using RxJava is that you can chain as many async operations (method that would return Observable or Single, repository methods in your case) as you want without falling into callback hells. You see in your code that there are nested subscribe blocks. What if you had to chain more async network operations? You fall into callback hells and the code will become harder to follow and maintain.</p>\n\n<p>Removing nested callbacks and making code more functional, compositional, and readable is one thing RxJava is really good at. In the intro part of ReactiveX website , they mention about this in the intro part of ReactiveX website (<a href=\"http://reactivex.io/intro.html\" rel=\"nofollow noreferrer\">http://reactivex.io/intro.html</a>). </p>\n\n<blockquote>\n  <p>Callbacks solve the problem of premature blocking on Future.get() by\n  not allowing anything to block. They are naturally efficient because\n  they execute when the response is ready.</p>\n  \n  <p>But as with Futures, while callbacks are easy to use with a single\n  level of asynchronous execution, with nested composition they become\n  unwieldy.</p>\n</blockquote>\n\n<p>Flatmap operator is to the rescue here. You can look into the definition of flatMap operator in the link below.</p>\n\n<p><a href=\"http://reactivex.io/documentation/operators/flatmap.html\" rel=\"nofollow noreferrer\">http://reactivex.io/documentation/operators/flatmap.html</a></p>\n\n<p>Below is the code I would use in your case.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>userRepository.getUser(email)\n   .subscribeOn(Schedulers.io())\n   .map { user -&gt; user.name = \"another name\"; return user; }\n   .flatMap { user -&gt; userRepository.update(user) }\n   .doOnSuccess { /* handle response here */ } // doOnNext if you are using observable\n   .subscribe({ /* or handle response here */ }, { /* must handle error here */})\n</code></pre>\n\n<p>Flatmap operator flattens Single of update response which will be returned by your repository's update method and pass just the response downstream. Above code is not only easier to read but also makes your code reusable because update logic is now part of the chain.</p>\n\n<p>Distinguishing between map and flatMap is really important in exploiting the full benefit of RxJava so it will be really beneficial to get used to it!</p>\n"}], "owner": {"reputation": 413, "user_id": 6185975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c970d20395df0dc1d7c3dbad66928ec?s=128&d=identicon&r=PG&f=1", "display_name": "Lenin", "link": "https://stackoverflow.com/users/6185975/lenin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 58935809, "answer_count": 1, "score": 0, "last_activity_date": 1574175458, "creation_date": 1574169682, "last_edit_date": 1574175458, "question_id": 58935091, "link": "https://stackoverflow.com/questions/58935091/editing-data-in-repository-pattern-using-rxjava", "title": "Editing data in repository pattern using RxJava", "body": "<p>I'm refactoring the implementation of my repositories using RxJava so i want to know some ways to edit, for example, a user.\nMy getUser(email: String), with email as id, is returning an observable and in the repository implementation i either get the data from database or server, all good by now.</p>\n\n<p>What i want to achieve is editing a user. For that i would have and update(user: User) function, and the naive way to use it would be</p>\n\n<pre><code>userRepository.getUser(email)\n   .subscribeOn(Schedulers.io())\n   .subscribe { user -&gt;\n      user.name = \"antoher name\"\n      userRepository.update(user)\n         .subscribeOn(Schedulers.io())\n         .subscribe {\n             //handle response\n         }\n    }\n</code></pre>\n\n<p>Is there a way to avoid this type of call of an observer inside an observer? It is not very readable for me and i guess there's a better way but i'm not getting it.</p>\n\n<p>NOTE: I'm using clean architecture, so i think an update for every field, making me get user in data module is not correct as i would have subscribe to an observer in data, and that difficult the dispose when activity destroys</p>\n\n<p>For me is not the same question as <a href=\"https://stackoverflow.com/questions/22847105/when-do-you-use-map-vs-flatmap-in-rxjava\">When do you use map vs flatMap in RxJava?</a> because, despite of flatMap being the thing that answer the question, it is not the same question, so anyone who has the same problem/question but don't know that flatmap is the answer, will never reach to use flatmap.</p>\n"}, {"tags": ["kotlin", "reactive-programming", "spring-data-mongodb", "spring-mongodb"], "comments": [{"owner": {"reputation": 64961, "user_id": 66686, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5c09f46f4edab31c43465b9f36638678?s=128&d=identicon&r=PG", "display_name": "Jens Schauder", "link": "https://stackoverflow.com/users/66686/jens-schauder"}, "edited": false, "score": 0, "creation_date": 1574169147, "post_id": 58934818, "comment_id": 104128633, "body": "I find it unlikely that a stack overflow is caused by a query. Could you post a few of the I assume repeating lines of the stack trace?"}, {"owner": {"reputation": 159, "user_id": 10145055, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CKkcjHp5X1o/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oAF6SPmAGTHisU2aLBl7rPuZw_mg/mo/photo.jpg?sz=128", "display_name": "youngDev", "link": "https://stackoverflow.com/users/10145055/youngdev"}, "reply_to_user": {"reputation": 64961, "user_id": 66686, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5c09f46f4edab31c43465b9f36638678?s=128&d=identicon&r=PG", "display_name": "Jens Schauder", "link": "https://stackoverflow.com/users/66686/jens-schauder"}, "edited": false, "score": 0, "creation_date": 1574171358, "post_id": 58934818, "comment_id": 104129901, "body": "@JensSchauder you are right: I just cannot add a field with generic value"}, {"owner": {"reputation": 64961, "user_id": 66686, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5c09f46f4edab31c43465b9f36638678?s=128&d=identicon&r=PG", "display_name": "Jens Schauder", "link": "https://stackoverflow.com/users/66686/jens-schauder"}, "edited": false, "score": 0, "creation_date": 1574173166, "post_id": 58934818, "comment_id": 104130993, "body": "What does that mean? So far the question was about querying. Where are you adding a &quot;generic value&quot;?"}, {"owner": {"reputation": 159, "user_id": 10145055, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CKkcjHp5X1o/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oAF6SPmAGTHisU2aLBl7rPuZw_mg/mo/photo.jpg?sz=128", "display_name": "youngDev", "link": "https://stackoverflow.com/users/10145055/youngdev"}, "reply_to_user": {"reputation": 64961, "user_id": 66686, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5c09f46f4edab31c43465b9f36638678?s=128&d=identicon&r=PG", "display_name": "Jens Schauder", "link": "https://stackoverflow.com/users/66686/jens-schauder"}, "edited": false, "score": 0, "creation_date": 1574173792, "post_id": 58934818, "comment_id": 104131375, "body": "you were right: it is not a question of quering"}, {"owner": {"reputation": 64961, "user_id": 66686, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5c09f46f4edab31c43465b9f36638678?s=128&d=identicon&r=PG", "display_name": "Jens Schauder", "link": "https://stackoverflow.com/users/66686/jens-schauder"}, "edited": false, "score": 0, "creation_date": 1574174148, "post_id": 58934818, "comment_id": 104131584, "body": "Then please either update the question or delete it so others don&#39;t waste time trying to answer it."}, {"owner": {"reputation": 159, "user_id": 10145055, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CKkcjHp5X1o/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oAF6SPmAGTHisU2aLBl7rPuZw_mg/mo/photo.jpg?sz=128", "display_name": "youngDev", "link": "https://stackoverflow.com/users/10145055/youngdev"}, "reply_to_user": {"reputation": 64961, "user_id": 66686, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/5c09f46f4edab31c43465b9f36638678?s=128&d=identicon&r=PG", "display_name": "Jens Schauder", "link": "https://stackoverflow.com/users/66686/jens-schauder"}, "edited": false, "score": 0, "creation_date": 1574174315, "post_id": 58934818, "comment_id": 104131673, "body": "@JensSchauder done"}], "answers": [{"tags": [], "owner": {"reputation": 1623, "user_id": 2627343, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/2e35455d88ed1d6d1107198ab81f9774?s=128&d=identicon&r=PG", "display_name": "Greyshack", "link": "https://stackoverflow.com/users/2627343/greyshack"}, "is_accepted": true, "score": 1, "last_activity_date": 1574260428, "creation_date": 1574260428, "answer_id": 58956784, "question_id": 58934818, "link": "https://stackoverflow.com/questions/58934818/spring-data-with-reactivemongorepository-generic-saving/58956784#58956784", "title": "Spring Data with ReactiveMongoRepository: generic saving", "body": "<p>You can do something like this:</p>\n\n<pre><code>import org.springframework.data.annotation.Transient\n\ndata class ValidationError private constructor(\n  private val type: String,\n  val objectId: String\n) : SomeError {\n  constructor(type: KClass&lt;*&gt;, objectId: String) : this(type.qualifiedName!!, objectId)\n\n  @delegate:Transient\n  val objectType by lazy {\n    this.javaClass.classLoader.loadClass(type).kotlin\n  }\n}\n</code></pre>\n\n<p>Store KClass internally as fully qualified name.</p>\n"}], "owner": {"reputation": 159, "user_id": 10145055, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-CKkcjHp5X1o/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7oAF6SPmAGTHisU2aLBl7rPuZw_mg/mo/photo.jpg?sz=128", "display_name": "youngDev", "link": "https://stackoverflow.com/users/10145055/youngdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 58956784, "answer_count": 1, "score": 0, "last_activity_date": 1574260428, "creation_date": 1574168722, "last_edit_date": 1574232403, "question_id": 58934818, "link": "https://stackoverflow.com/questions/58934818/spring-data-with-reactivemongorepository-generic-saving", "title": "Spring Data with ReactiveMongoRepository: generic saving", "body": "<p>I would like to save some documents with the value containing a generic. And I constantly receive a <code>StackOferflowError</code>.</p>\n\n<p>Here is a fragment of my model class</p>\n\n<pre><code>data class MyDocument {\n    val errors: List&lt;SomeError&gt; = emptyList()\n}\n</code></pre>\n\n<p>SomeError is in interface that should be implemented by different types of errors including ValidationError</p>\n\n<pre><code>interface SomeError\n\ndata class ValidationError&lt;T: Any&gt;(val objectType: KClass&lt;T&gt;, val objectId: String) : SomeError\n</code></pre>\n\n<p>I am trying to save my object with non-empty list of errors (using ReactiveMongoRespoitory):</p>\n\n<pre><code>myDocumentRepository.save(MyDocument(\n     errors = listOf( \n     ValidationError&lt;MyDocument&gt;(objectType = MyDocument::class, objectId = \"somedoc\")) //as SomeError did not help\n))\n</code></pre>\n\n<p>Do you know how I can correct it?</p>\n\n<p>This is a psrt of the Stack trace:</p>\n\n<pre><code> java.lang.StackOverflowError\nat java.base/java.util.HashMap.putVal(HashMap.java:624)\nat java.base/java.util.HashMap.putMapEntries(HashMap.java:510)\nat java.base/java.util.HashMap.putAll(HashMap.java:780)\nat org.springframework.data.util.TypeDiscoverer.resolveType(TypeDiscoverer.java:168)\nat org.springframework.data.util.ParameterizedTypeInformation.calculateTypeVariables(ParameterizedTypeInformation.java:269)\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3463, "user_id": 2232127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0af1bc4a99affc5af6d890404baf5f30?s=128&d=identicon&r=PG", "display_name": "JensV", "link": "https://stackoverflow.com/users/2232127/jensv"}, "edited": false, "score": 0, "creation_date": 1574168774, "post_id": 58934744, "comment_id": 104128398, "body": "Are you sure it&#39;s because of the google-services? If you remove the dependency the error disappears?"}, {"owner": {"reputation": 10141, "user_id": 7746134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uAn6O.png?s=128&g=1", "display_name": "Saurabh Thorat", "link": "https://stackoverflow.com/users/7746134/saurabh-thorat"}, "edited": false, "score": 1, "creation_date": 1574168860, "post_id": 58934744, "comment_id": 104128445, "body": "Check this: <a href=\"https://stackoverflow.com/questions/58516299/cant-get-root-view-from-data-binding-after-enabling-safe-args-plugin\" title=\"cant get root view from data binding after enabling safe args plugin\">stackoverflow.com/questions/58516299/&hellip;</a>"}, {"owner": {"reputation": 177, "user_id": 11687945, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HayRo.jpg?s=128&g=1", "display_name": "Rarity7-", "link": "https://stackoverflow.com/users/11687945/rarity7"}, "reply_to_user": {"reputation": 3463, "user_id": 2232127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0af1bc4a99affc5af6d890404baf5f30?s=128&d=identicon&r=PG", "display_name": "JensV", "link": "https://stackoverflow.com/users/2232127/jensv"}, "edited": false, "score": 0, "creation_date": 1574168914, "post_id": 58934744, "comment_id": 104128485, "body": "@JensV Yes, it disappears"}, {"owner": {"reputation": 177, "user_id": 11687945, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HayRo.jpg?s=128&g=1", "display_name": "Rarity7-", "link": "https://stackoverflow.com/users/11687945/rarity7"}, "reply_to_user": {"reputation": 10141, "user_id": 7746134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uAn6O.png?s=128&g=1", "display_name": "Saurabh Thorat", "link": "https://stackoverflow.com/users/7746134/saurabh-thorat"}, "edited": false, "score": 0, "creation_date": 1574169029, "post_id": 58934744, "comment_id": 104128556, "body": "@SaurabhThorat Thank you."}, {"owner": {"reputation": 177, "user_id": 11687945, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HayRo.jpg?s=128&g=1", "display_name": "Rarity7-", "link": "https://stackoverflow.com/users/11687945/rarity7"}, "reply_to_user": {"reputation": 3463, "user_id": 2232127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0af1bc4a99affc5af6d890404baf5f30?s=128&d=identicon&r=PG", "display_name": "JensV", "link": "https://stackoverflow.com/users/2232127/jensv"}, "edited": false, "score": 0, "creation_date": 1574169102, "post_id": 58934744, "comment_id": 104128603, "body": "@JensV Yes, just renamed layout file"}], "owner": {"reputation": 177, "user_id": 11687945, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HayRo.jpg?s=128&g=1", "display_name": "Rarity7-", "link": "https://stackoverflow.com/users/11687945/rarity7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "closed_date": 1574170379, "answer_count": 0, "score": 0, "last_activity_date": 1574168496, "creation_date": 1574168496, "last_edit_date": 1592644375, "question_id": 58934744, "link": "https://stackoverflow.com/questions/58934744/none-of-the-following-candidates-is-applicable-because-of-receiver-type-mismatch", "closed_reason": "Duplicate", "title": "None of the following candidates is applicable because of receiver type mismatch?", "body": "<p>This error occurs when i try to add Firebase to my project.\nWhen i add <code>classpath 'com.google.gms:google-services:4.3.3'</code> to my <code>Project build.gradle</code> there are error in my Fragment on <code>return binding.root</code></p>\n<pre><code>class PublicationsFragment: Fragment(){\n\noverride fun onCreateView(\n    inflater: LayoutInflater,\n    container: ViewGroup?,\n    savedInstanceState: Bundle?): View? {\n\n    val binding: FragmentPublicationsBinding = DataBindingUtil.inflate(inflater, R.layout.fragment_publications, container, false)\n\n    return binding.root\n}\n</code></pre>\n<p>}</p>\n<blockquote>\n<p>None of the following candidates is applicable because of receiver</p>\n<p>type mismatch: internal val File.root:File defined in kotlin.io</p>\n</blockquote>\n"}, {"tags": ["kotlin", "mockk"], "answers": [{"comments": [{"owner": {"reputation": 2282, "user_id": 818716, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/7rgrL.jpg?s=128&g=1", "display_name": "orelzion", "link": "https://stackoverflow.com/users/818716/orelzion"}, "edited": false, "score": 0, "creation_date": 1574168208, "post_id": 58934473, "comment_id": 104128109, "body": "&quot;driverMapSnapshotMap&quot; is a mutableMap, so I am returning a map object"}, {"owner": {"reputation": 2282, "user_id": 818716, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/7rgrL.jpg?s=128&g=1", "display_name": "orelzion", "link": "https://stackoverflow.com/users/818716/orelzion"}, "edited": false, "score": 0, "creation_date": 1574170133, "post_id": 58934473, "comment_id": 104129177, "body": "Oh but now I see, I mock the wrong object here, it should be <code>SnapshotImage</code>"}, {"owner": {"reputation": 2282, "user_id": 818716, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/7rgrL.jpg?s=128&g=1", "display_name": "orelzion", "link": "https://stackoverflow.com/users/818716/orelzion"}, "edited": false, "score": 0, "creation_date": 1574189807, "post_id": 58934473, "comment_id": 104140566, "body": "OK, changed it to the right object, but still no success"}], "tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1574167546, "creation_date": 1574167546, "answer_id": 58934473, "question_id": 58934393, "link": "https://stackoverflow.com/questions/58934393/mock-private-property-with-mockk-throws-an-excpetion/58934473#58934473", "title": "Mock private property with mockk throws an excpetion", "body": "<p>It should be</p>\n\n<pre><code>every {\nviewModel getProperty \"driverMapSnapshotMap\"\n} returns mock(DriverRemoteModel::class)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2282, "user_id": 818716, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/7rgrL.jpg?s=128&g=1", "display_name": "orelzion", "link": "https://stackoverflow.com/users/818716/orelzion"}, "edited": false, "score": 1, "creation_date": 1574690572, "post_id": 59030127, "comment_id": 104310512, "body": "Yes, sorry for not updating but I ended up accessing the private properties myself through reflection"}, {"owner": {"reputation": 9352, "user_id": 3101777, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/1zAxp.jpg?s=128&g=1", "display_name": "Misha Akopov", "link": "https://stackoverflow.com/users/3101777/misha-akopov"}, "reply_to_user": {"reputation": 2282, "user_id": 818716, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/7rgrL.jpg?s=128&g=1", "display_name": "orelzion", "link": "https://stackoverflow.com/users/818716/orelzion"}, "edited": false, "score": 0, "creation_date": 1574692062, "post_id": 59030127, "comment_id": 104311289, "body": "Ohhh, I see. It is sad to use reflection for such cases. But if you have no straightforward way of doing it, what can we do. I am happy you found &quot;solution&quot;"}], "tags": [], "owner": {"reputation": 9352, "user_id": 3101777, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/1zAxp.jpg?s=128&g=1", "display_name": "Misha Akopov", "link": "https://stackoverflow.com/users/3101777/misha-akopov"}, "is_accepted": true, "score": 1, "last_activity_date": 1574679192, "creation_date": 1574679192, "answer_id": 59030127, "question_id": 58934393, "link": "https://stackoverflow.com/questions/58934393/mock-private-property-with-mockk-throws-an-excpetion/59030127#59030127", "title": "Mock private property with mockk throws an excpetion", "body": "<blockquote>\n  <p>It is nearly impossible to mock private properties as they don't have getter methods attached. This is kind of Kotlin optimization and solution is major change.</p>\n</blockquote>\n\n<p>Here is issue opened for that with the same problem:</p>\n\n<p><a href=\"https://github.com/mockk/mockk/issues/263\" rel=\"nofollow noreferrer\">https://github.com/mockk/mockk/issues/263</a></p>\n"}, {"tags": [], "owner": {"reputation": 477, "user_id": 3753943, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004309236529/picture?type=large", "display_name": "Interkot", "link": "https://stackoverflow.com/users/3753943/interkot"}, "is_accepted": false, "score": 1, "last_activity_date": 1611040578, "creation_date": 1611040578, "answer_id": 65786951, "question_id": 58934393, "link": "https://stackoverflow.com/questions/58934393/mock-private-property-with-mockk-throws-an-excpetion/65786951#65786951", "title": "Mock private property with mockk throws an excpetion", "body": "<p>Here is a solution to access private fields in Mockk for classes( for objects it is even simpler )</p>\n<pre><code> class SaySomething {\n    private val prefix by lazy { &quot;Here is what I have to say: &quot;}\n\n    fun say( phrase : String ) : String {\n        return prefix+phrase;\n    }\n}\n\n  @Before\nfun setUp() = MockKAnnotations.init(this, relaxUnitFun = true)\n\n @Test\nfun SaySomething_test() {\n\n    mockkConstructor(SaySomething::class)\n    every { anyConstructed&lt;SaySomething&gt;() getProperty &quot;prefix&quot; } propertyType String::class returns &quot;I don't want to say anything, but still: &quot;\n\n    val ss = SaySomething()\n    assertThat( ss.say(&quot;Life is short, make most of it&quot;), containsString( &quot;I don't want to say anything&quot;))\n}\n</code></pre>\n"}], "owner": {"reputation": 2282, "user_id": 818716, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/7rgrL.jpg?s=128&g=1", "display_name": "orelzion", "link": "https://stackoverflow.com/users/818716/orelzion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2601, "favorite_count": 1, "accepted_answer_id": 59030127, "answer_count": 3, "score": 3, "last_activity_date": 1611040578, "creation_date": 1574167279, "last_edit_date": 1574189788, "question_id": 58934393, "link": "https://stackoverflow.com/questions/58934393/mock-private-property-with-mockk-throws-an-excpetion", "title": "Mock private property with mockk throws an excpetion", "body": "<p>I'm using <a href=\"https://mockk.io/\" rel=\"nofollow noreferrer\">mockk</a> for my testing in kotlin. But I can't seem to override a private property in a spy object.</p>\n\n<p>I have this object</p>\n\n<pre><code>private val driverMapSnapshotMap: MutableMap&lt;Int, SnapshotImage&gt; = mutableMapOf()\n</code></pre>\n\n<p>in a class that I spy on using</p>\n\n<pre><code>viewModel = spyk(DriverListViewModel(), recordPrivateCalls = true)\n</code></pre>\n\n<p>But when I try to make it fill up with mock values I get an error</p>\n\n<pre><code>every {\n    viewModel getProperty \"driverMapSnapshotMap\"\n} returns(mapOf(1 to mockkClass(SnapshotImage::class)))\n</code></pre>\n\n<p>The error I get</p>\n\n<pre><code>io.mockk.MockKException: Missing calls inside every { ... } block.\n</code></pre>\n\n<p>Any thoughts?</p>\n"}, {"tags": ["android", "kotlin", "firebase-storage", "android-workmanager"], "comments": [{"owner": {"reputation": 1557, "user_id": 3330058, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C010X.png?s=128&g=1", "display_name": "Giorgos Neokleous", "link": "https://stackoverflow.com/users/3330058/giorgos-neokleous"}, "edited": false, "score": 0, "creation_date": 1574168200, "post_id": 58934225, "comment_id": 104128103, "body": "Not sure if this is the actual issue but the <code>.</code> dot is not need on <code>File.createTempFile</code> method. The rest looks fine."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12397386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9207c7c3ad0b0f7ba71d3142d97ae63a?s=128&d=identicon&r=PG&f=1", "display_name": "Abbin Varghese", "link": "https://stackoverflow.com/users/12397386/abbin-varghese"}, "edited": false, "score": 0, "creation_date": 1574335085, "post_id": 58938385, "comment_id": 104200787, "body": "I tried blocking the function and it worked. Thank you :)"}, {"owner": {"reputation": 797, "user_id": 4300670, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002857130020/picture?type=large", "display_name": "Aliton Oliveira", "link": "https://stackoverflow.com/users/4300670/aliton-oliveira"}, "edited": false, "score": 0, "creation_date": 1577053371, "post_id": 58938385, "comment_id": 105079546, "body": "@Doug Stevenson, I&#39;ve seen answers suggesting <code>CountDownLatch</code> to block <code>doWork()</code> and <code>ListenableWorker</code> is called on the main thread so that we need to implement background by ourselves. What is the more appropriated way of waiting an answer from FirebaseStorage for an app that is going to be open to the public?"}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 3, "last_activity_date": 1574179850, "creation_date": 1574179850, "answer_id": 58938385, "question_id": 58934225, "link": "https://stackoverflow.com/questions/58934225/how-to-download-files-from-firebase-storage-using-workmanager-in-android/58938385#58938385", "title": "How to download files from Firebase Storage using WorkManager in Android", "body": "<p><code>getFile()</code> is asynchronous and always returns immediately.  The callback attached to the Task it returns are invoked some time later, after the download completes.  This means that your <code>doWork</code> function always returns <code>Result.success()</code> immediately, regardless of what happens with the download.  This is not what you want - your function should return a result only <strong>after</strong> the download finishes.</p>\n\n<p>You will need to either:</p>\n\n<ol>\n<li>Make this function block until the download finishes.</li>\n<li>Use the asynchronous version of WorkManager workers to return a ListenableFuture that gets triggered when the work is complete.</li>\n</ol>\n"}], "owner": {"reputation": 3, "user_id": 12397386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9207c7c3ad0b0f7ba71d3142d97ae63a?s=128&d=identicon&r=PG&f=1", "display_name": "Abbin Varghese", "link": "https://stackoverflow.com/users/12397386/abbin-varghese"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 391, "favorite_count": 0, "accepted_answer_id": 58938385, "answer_count": 1, "score": 0, "last_activity_date": 1574179850, "creation_date": 1574166772, "last_edit_date": 1574174190, "question_id": 58934225, "link": "https://stackoverflow.com/questions/58934225/how-to-download-files-from-firebase-storage-using-workmanager-in-android", "title": "How to download files from Firebase Storage using WorkManager in Android", "body": "<p>I'm trying to download a zip file from Firebase Storage every 2 hours using <code>WorkManager</code>.\nThe following is the <code>dowork</code> function.</p>\n\n<pre><code>override fun doWork(): Result {\n    val storage = FirebaseStorage.getInstance()\n    val storageRef = storage.reference\n    val pathReference = storageRef.child(\"customerdata.zip\")\n\n    Log.v(\"SysLog\", \"File download starting...\") // This log can be seen in Logcat\n\n    val localFile = File.createTempFile(\"customerdata\", \".zip\")\n\n    pathReference.getFile(localFile).addOnSuccessListener {\n        Log.v(\"SysLog\", \"File downloaded successfully\")\n    }.addOnFailureListener {\n        Log.v(\"SysLog\", \"File download failed with error: ${it.localizedMessage}\")\n    }\n\n    return Result.success()\n}\n</code></pre>\n\n<p>The <code>dowork</code> method is getting called without any problem. But the <code>addOnSuccessListener</code> is never called. And after about 10 minutes <code>addOnFailureListener</code> gets called with error message </p>\n\n<blockquote>\n  <p>The operation retry limit has been exceeded</p>\n</blockquote>\n\n<p>This problem only occurs only when the app is minimized and the phones screen is turned off. Otherwise the whole this works.</p>\n\n<p>What am I doing wrong here?</p>\n"}, {"tags": ["android", "kotlin", "view", "ondraw"], "answers": [{"comments": [{"owner": {"reputation": 159, "user_id": 5263365, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aaGOn.png?s=128&g=1", "display_name": "xian", "link": "https://stackoverflow.com/users/5263365/xian"}, "edited": false, "score": 0, "creation_date": 1608671370, "post_id": 58934380, "comment_id": 115652805, "body": "this explains what optional are, but doesn&#39;t explain why onDraws default parameter is an optional."}], "tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 1, "last_activity_date": 1574167257, "creation_date": 1574167257, "answer_id": 58934380, "question_id": 58934025, "link": "https://stackoverflow.com/questions/58934025/canvas-or-canvas-in-the-view-ondraw-method/58934380#58934380", "title": "Canvas? or Canvas in the View.onDraw() method", "body": "<p><strong>fun onDraw(canvas: Canvas?)</strong></p>\n\n<p>This case canvas may be null. It accept null values so app may be crash null canvas object.so we have to handle nullability in all places. </p>\n\n<p><strong>onDraw(canvas: Canvas)</strong> </p>\n\n<p>This case canvas must not null.so we don't care about nullability. we can avoid app crash so this is best one.  </p>\n"}], "owner": {"reputation": 1154, "user_id": 1020887, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/M7DPx.png?s=128&g=1", "display_name": "tehnolog", "link": "https://stackoverflow.com/users/1020887/tehnolog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1574167257, "creation_date": 1574166103, "question_id": 58934025, "link": "https://stackoverflow.com/questions/58934025/canvas-or-canvas-in-the-view-ondraw-method", "title": "Canvas? or Canvas in the View.onDraw() method", "body": "<p>Android Studio generates onDraw() method in the View class like this:</p>\n\n<pre><code>override fun onDraw(canvas: Canvas?) {\n    super.onDraw(canvas)\n}\n</code></pre>\n\n<p>But in many samples from Google (Codelabs, courses etc) I see another version</p>\n\n<pre><code>override fun onDraw(canvas: Canvas) {\n    super.onDraw(canvas)\n}\n</code></pre>\n\n<p>Which version is correct? And why?</p>\n"}, {"tags": ["android", "kotlin", "moshi"], "comments": [{"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1574168563, "post_id": 58934004, "comment_id": 104128289, "body": "can you provide your json data"}, {"owner": {"reputation": 1446, "user_id": 2451763, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/T436R.jpg?s=128&g=1", "display_name": "Sparker0i", "link": "https://stackoverflow.com/users/2451763/sparker0i"}, "reply_to_user": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "edited": false, "score": 0, "creation_date": 1574170043, "post_id": 58934004, "comment_id": 104129122, "body": "Please check EDIT 2"}], "answers": [{"comments": [{"owner": {"reputation": 1446, "user_id": 2451763, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/T436R.jpg?s=128&g=1", "display_name": "Sparker0i", "link": "https://stackoverflow.com/users/2451763/sparker0i"}, "edited": false, "score": 0, "creation_date": 1574168397, "post_id": 58934573, "comment_id": 104128198, "body": "Please check Edit 1"}, {"owner": {"reputation": 1446, "user_id": 2451763, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/T436R.jpg?s=128&g=1", "display_name": "Sparker0i", "link": "https://stackoverflow.com/users/2451763/sparker0i"}, "edited": false, "score": 0, "creation_date": 1574173172, "post_id": 58934573, "comment_id": 104131001, "body": "Thanks. That did the job. Wonder what I was missing despite giving <code>@Json</code> before field names"}], "tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": true, "score": 5, "last_activity_date": 1574171714, "last_edit_date": 1574171714, "creation_date": 1574167908, "answer_id": 58934573, "question_id": 58934004, "link": "https://stackoverflow.com/questions/58934004/account-for-nullable-values-in-moshi/58934573#58934573", "title": "Account for nullable values in Moshi", "body": "<p>For null case it should be</p>\n\n<pre><code>@JsonClass(generateAdapter = true)\ndata class CurrentWeather(val base: String?=null)\n</code></pre>\n\n<p>do all like this other nullable params.</p>\n\n<p><strong>Edit</strong>\nyou should make data class like this for above json</p>\n\n<pre><code>data class Clouds(\nval all: Int)\n\ndata class Condition(\nval base: String,\nval clouds: Clouds,\nval cod: Int,\nval coord: Coord,\nval dt: Int,\nval id: Int,\nval main: Main,\nval name: String,\nval sys: Sys,\nval timezone: Int,\nval visibility: Int,\nval weather: List&lt;Weather&gt;,\nval wind: Wind\n)\n\ndata class Coord(\nval lat: Double,\nval lon: Double\n )\n\n\ndata class Main(\nval humidity: Int,\nval pressure: Int,\nval temp: Double,\nval temp_max: Double,\nval temp_min: Int\n)\n\ndata class Sys(\nval country: String,\nval id: Int,\nval sunrise: Int,\nval sunset: Int,\nval type: Int\n )\n\ndata class Weather(\nval description: String,\nval icon: String,\nval id: Int,\nval main: String\n)\n\n\ndata class Wind(\nval deg: Int,\nval speed: Double\n)\n</code></pre>\n"}], "owner": {"reputation": 1446, "user_id": 2451763, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/T436R.jpg?s=128&g=1", "display_name": "Sparker0i", "link": "https://stackoverflow.com/users/2451763/sparker0i"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1436, "favorite_count": 0, "accepted_answer_id": 58934573, "answer_count": 1, "score": 2, "last_activity_date": 1574171714, "creation_date": 1574166053, "last_edit_date": 1574170032, "question_id": 58934004, "link": "https://stackoverflow.com/questions/58934004/account-for-nullable-values-in-moshi", "title": "Account for nullable values in Moshi", "body": "<p>I have a class defined like this:</p>\n\n<pre><code>@JsonClass(generateAdapter = true)\ndata class CurrentWeather(\n    @Json(name = \"coord\") val coordinates: Coordinates,\n    @Json(name = \"weather\") val condition: List&lt;Condition&gt;,\n    @Json(name = \"base\") val base: String,\n    @Json(name = \"main\") val weatherCondition: Weather,\n    @Json(name = \"wind\") val windCondition: Wind,\n    @Json(name = \"clouds\") val cloudCondition: Cloud,\n    @Json(name = \"rain\") val rainCondition: Rain,\n    @Json(name = \"snow\") val snowCondition: Snow,\n    @Json(name = \"dt\") val date: Double,\n    @Json(name = \"sys\") val sysCondition: Sys,\n    @Json(name = \"id\") val cityId: Long,\n    @Json(name = \"name\") val cityName: String,\n    @Json(name = \"cod\") val status: Int\n)\n</code></pre>\n\n<p>The problem is, while fetching my JSON data, some of these values may or may not be null. For this I had tried to append <code>@Nullable</code> before the field name and/or the class name, but sadly that approach does not work. Trying with or without <code>@Nullable</code> gives me the same error:</p>\n\n<pre><code>2019-11-19 16:52:37.677 1544-1544/com.a5corp.weather W/System.err: com.squareup.moshi.JsonDataException: Required value 'message' missing at $.sys\n2019-11-19 16:52:37.677 1544-1544/com.a5corp.weather W/System.err:     at com.squareup.moshi.internal.Util.missingProperty(Util.java:605)\n2019-11-19 16:52:37.677 1544-1544/com.a5corp.weather W/System.err:     at com.a5corp.weather.model.SysJsonAdapter.fromJson(SysJsonAdapter.kt:59)\n2019-11-19 16:52:37.677 1544-1544/com.a5corp.weather W/System.err:     at com.a5corp.weather.model.SysJsonAdapter.fromJson(SysJsonAdapter.kt:16)\n2019-11-19 16:52:37.677 1544-1544/com.a5corp.weather W/System.err:     at com.squareup.moshi.internal.NullSafeJsonAdapter.fromJson(NullSafeJsonAdapter.java:40)\n2019-11-19 16:52:37.677 1544-1544/com.a5corp.weather W/System.err:     at com.a5corp.weather.model.CurrentWeatherJsonAdapter.fromJson(CurrentWeatherJsonAdapter.kt:98)\n2019-11-19 16:52:37.677 1544-1544/com.a5corp.weather W/System.err:     at com.a5corp.weather.model.CurrentWeatherJsonAdapter.fromJson(CurrentWeatherJsonAdapter.kt:19)\n2019-11-19 16:52:37.677 1544-1544/com.a5corp.weather W/System.err:     at com.squareup.moshi.internal.NullSafeJsonAdapter.fromJson(NullSafeJsonAdapter.java:40)\n2019-11-19 16:52:37.677 1544-1544/com.a5corp.weather W/System.err:     at retrofit2.converter.moshi.MoshiResponseBodyConverter.convert(MoshiResponseBodyConverter.java:45)\n2019-11-19 16:52:37.677 1544-1544/com.a5corp.weather W/System.err:     at retrofit2.converter.moshi.MoshiResponseBodyConverter.convert(MoshiResponseBodyConverter.java:27)\n2019-11-19 16:52:37.677 1544-1544/com.a5corp.weather W/System.err:     at retrofit2.OkHttpCall.parseResponse(OkHttpCall.java:225)\n2019-11-19 16:52:37.677 1544-1544/com.a5corp.weather W/System.err:     at retrofit2.OkHttpCall$1.onResponse(OkHttpCall.java:121)\n2019-11-19 16:52:37.677 1544-1544/com.a5corp.weather W/System.err:     at okhttp3.RealCall$AsyncCall.run(RealCall.kt:138)\n2019-11-19 16:52:37.677 1544-1544/com.a5corp.weather W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n2019-11-19 16:52:37.677 1544-1544/com.a5corp.weather W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n2019-11-19 16:52:37.677 1544-1544/com.a5corp.weather W/System.err:     at java.lang.Thread.run(Thread.java:919)\n</code></pre>\n\n<p>I'm using Moshi with Retrofit in the following manner:</p>\n\n<pre><code>fun retrofit(url: String): Retrofit = Retrofit.Builder()\n        .client(owmClient)\n        .baseUrl(url)\n        .addConverterFactory(MoshiConverterFactory.create())\n        .addCallAdapterFactory(CoroutineCallAdapterFactory())\n        .build()\n</code></pre>\n\n<p>So is there any way to accomodate Nullable values in Moshi?</p>\n\n<p>EDIT 1: I have now changed my classes' so as to accomodate the solution provided by @sasikumar in the answers below, but now it gives me another new error:</p>\n\n<pre><code>2019-11-19 18:27:00.753 21530-21530/com.a5corp.weather W/System.err: java.lang.NoSuchMethodException: com.a5corp.weather.model.Condition.&lt;init&gt; [int, class java.lang.String, int, class kotlin.jvm.internal.DefaultConstructorMarker]\n2019-11-19 18:27:00.754 21530-21530/com.a5corp.weather W/System.err:     at java.lang.Class.getConstructor0(Class.java:2332)\n2019-11-19 18:27:00.754 21530-21530/com.a5corp.weather W/System.err:     at java.lang.Class.getDeclaredConstructor(Class.java:2170)\n2019-11-19 18:27:00.754 21530-21530/com.a5corp.weather W/System.err:     at com.a5corp.weather.model.ConditionJsonAdapter.fromJson(ConditionJsonAdapter.kt:62)\n2019-11-19 18:27:00.754 21530-21530/com.a5corp.weather W/System.err:     at com.a5corp.weather.model.ConditionJsonAdapter.fromJson(ConditionJsonAdapter.kt:18)\n2019-11-19 18:27:00.754 21530-21530/com.a5corp.weather W/System.err:     at com.squareup.moshi.internal.NullSafeJsonAdapter.fromJson(NullSafeJsonAdapter.java:40)\n2019-11-19 18:27:00.754 21530-21530/com.a5corp.weather W/System.err:     at com.squareup.moshi.CollectionJsonAdapter.fromJson(CollectionJsonAdapter.java:76)\n2019-11-19 18:27:00.754 21530-21530/com.a5corp.weather W/System.err:     at com.squareup.moshi.CollectionJsonAdapter$2.fromJson(CollectionJsonAdapter.java:53)\n2019-11-19 18:27:00.754 21530-21530/com.a5corp.weather W/System.err:     at com.squareup.moshi.internal.NullSafeJsonAdapter.fromJson(NullSafeJsonAdapter.java:40)\n2019-11-19 18:27:00.754 21530-21530/com.a5corp.weather W/System.err:     at com.a5corp.weather.model.CurrentWeatherJsonAdapter.fromJson(CurrentWeatherJsonAdapter.kt:95)\n2019-11-19 18:27:00.754 21530-21530/com.a5corp.weather W/System.err:     at com.a5corp.weather.model.CurrentWeatherJsonAdapter.fromJson(CurrentWeatherJsonAdapter.kt:22)\n2019-11-19 18:27:00.754 21530-21530/com.a5corp.weather W/System.err:     at com.squareup.moshi.internal.NullSafeJsonAdapter.fromJson(NullSafeJsonAdapter.java:40)\n2019-11-19 18:27:00.754 21530-21530/com.a5corp.weather W/System.err:     at retrofit2.converter.moshi.MoshiResponseBodyConverter.convert(MoshiResponseBodyConverter.java:45)\n2019-11-19 18:27:00.754 21530-21530/com.a5corp.weather W/System.err:     at retrofit2.converter.moshi.MoshiResponseBodyConverter.convert(MoshiResponseBodyConverter.java:27)\n2019-11-19 18:27:00.754 21530-21530/com.a5corp.weather W/System.err:     at retrofit2.OkHttpCall.parseResponse(OkHttpCall.java:225)\n2019-11-19 18:27:00.754 21530-21530/com.a5corp.weather W/System.err:     at retrofit2.OkHttpCall$1.onResponse(OkHttpCall.java:121)\n2019-11-19 18:27:00.754 21530-21530/com.a5corp.weather W/System.err:     at okhttp3.RealCall$AsyncCall.run(RealCall.kt:138)\n2019-11-19 18:27:00.754 21530-21530/com.a5corp.weather W/System.err:     at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n2019-11-19 18:27:00.754 21530-21530/com.a5corp.weather W/System.err:     at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n2019-11-19 18:27:00.754 21530-21530/com.a5corp.weather W/System.err:     at java.lang.Thread.run(Thread.java:919)\n</code></pre>\n\n<p>From the first line, I couldn't make out what it meant, but I do have my <code>Condition</code> class defined like:</p>\n\n<pre><code>@JsonClass(generateAdapter = true)\ndata class Condition(\n    @Json(name = \"id\") val id: Int? = null,\n    @Json(name = \"description\") val description: String? = null\n)\n</code></pre>\n\n<p>EDIT 2: It's basically the OWM API: <a href=\"https://openweathermap.org/current\" rel=\"nofollow noreferrer\">https://openweathermap.org/current</a> but my JSON data is here: </p>\n\n<pre><code>{\n  \"coord\": {\n    \"lon\": 77.59,\n    \"lat\": 12.98\n  },\n  \"weather\": [\n    {\n      \"id\": 802,\n      \"main\": \"Clouds\",\n      \"description\": \"scattered clouds\",\n      \"icon\": \"03n\"\n    }\n  ],\n  \"base\": \"stations\",\n  \"main\": {\n    \"temp\": 26.62,\n    \"pressure\": 1015,\n    \"humidity\": 69,\n    \"temp_min\": 23,\n    \"temp_max\": 29.44\n  },\n  \"visibility\": 8000,\n  \"wind\": {\n    \"speed\": 3.1,\n    \"deg\": 80\n  },\n  \"clouds\": {\n    \"all\": 40\n  },\n  \"dt\": 1574169845,\n  \"sys\": {\n    \"type\": 1,\n    \"id\": 9205,\n    \"country\": \"IN\",\n    \"sunrise\": 1574124599,\n    \"sunset\": 1574166006\n  },\n  \"timezone\": 19800,\n  \"id\": 1277333,\n  \"name\": \"Bengaluru\",\n  \"cod\": 200\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "android-viewholder"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1574165563, "post_id": 58933764, "comment_id": 104126610, "body": "<code>getItemViewType</code>?"}, {"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1574165674, "post_id": 58933764, "comment_id": 104126670, "body": "<a href=\"https://stackoverflow.com/a/29697571/2235972\">stackoverflow.com/a/29697571/2235972</a>"}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1574165686, "post_id": 58933764, "comment_id": 104126680, "body": "Your <code>ViewHolder</code> classes don&#39;t have to be nested in the <code>Adapter</code>. What problems are you having in moving them to separate files?"}, {"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 1, "creation_date": 1574165724, "post_id": 58933764, "comment_id": 104126700, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/26245139/how-to-create-recyclerview-with-multiple-view-type\">How to create RecyclerView with multiple view type?</a> multiple solutions here that OP is looking for"}, {"owner": {"reputation": 188, "user_id": 3832773, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BVakp.jpg?s=128&g=1", "display_name": "Pritesh Vishwakarma", "link": "https://stackoverflow.com/users/3832773/pritesh-vishwakarma"}, "edited": false, "score": 0, "creation_date": 1574166350, "post_id": 58933764, "comment_id": 104127088, "body": "Here is step by step article on that &quot;<a href=\"https://www.journaldev.com/12372/android-recyclerview-example\" rel=\"nofollow noreferrer\">journaldev.com/12372/android-recyclerview-example</a>&quot;"}], "owner": {"reputation": 752, "user_id": 5371749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9zOVs.jpg?s=128&g=1", "display_name": "james04", "link": "https://stackoverflow.com/users/5371749/james04"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574167005, "creation_date": 1574165235, "last_edit_date": 1574167005, "question_id": 58933764, "link": "https://stackoverflow.com/questions/58933764/multiple-viewholders-in-recyclerview", "title": "Multiple ViewHolders in RecyclerView", "body": "<p>How can i use the multiple ViewHolders not inside the Recycler Adapter class but in saperate files. I also want the bind methods to be inside the ViewHolder classes.\nMy question is how to move the bind function inside the VIewHolder along with the itemCallback interface</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 10141, "user_id": 7746134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uAn6O.png?s=128&g=1", "display_name": "Saurabh Thorat", "link": "https://stackoverflow.com/users/7746134/saurabh-thorat"}, "edited": false, "score": 0, "creation_date": 1574164150, "post_id": 58933277, "comment_id": 104125819, "body": "Show your JSON response"}, {"owner": {"reputation": 1998, "user_id": 4972832, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4b42c334959af174a70b75b057e3c22a?s=128&d=identicon&r=PG&f=1", "display_name": "Pranav MS", "link": "https://stackoverflow.com/users/4972832/pranav-ms"}, "edited": false, "score": 0, "creation_date": 1574165333, "post_id": 58933277, "comment_id": 104126494, "body": "Please implement null check in your code."}], "answers": [{"tags": [], "owner": {"reputation": 706, "user_id": 5422725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a77f5066ddf47d74395b0e5972f53365?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Troyanskii", "link": "https://stackoverflow.com/users/5422725/eugene-troyanskii"}, "is_accepted": false, "score": 2, "last_activity_date": 1574166305, "last_edit_date": 1574166305, "creation_date": 1574165260, "answer_id": 58933774, "question_id": 58933277, "link": "https://stackoverflow.com/questions/58933277/retrofit-onfailure-on-non-empty-body-onresponse-on-empty-body/58933774#58933774", "title": "Retrofit - onFailure on non-empty body, onResponse on empty body", "body": "<p>Your <code>id</code> and <code>reservationDate</code> in response is a <code>String</code> but you try to parse it as <code>Int</code> and <code>LocalDate</code>. Change the types and it's gonna be work.</p>\n"}], "owner": {"reputation": 69, "user_id": 9796661, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-zv3sgDnHKm0/AAAAAAAAAAI/AAAAAAAAAA4/BDY70b-EEnU/photo.jpg?sz=128", "display_name": "Mark", "link": "https://stackoverflow.com/users/9796661/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574166305, "creation_date": 1574163607, "last_edit_date": 1574164155, "question_id": 58933277, "link": "https://stackoverflow.com/questions/58933277/retrofit-onfailure-on-non-empty-body-onresponse-on-empty-body", "title": "Retrofit - onFailure on non-empty body, onResponse on empty body", "body": "<p>My GET request doesn't work properly in Android Studio. I tried to put the same requests in Postman and in result I always got response code 200 with correct body. However, using Retrofit I get onResponse (200 code) when response body is empty (there is no data) and onFailure when response body is not empty (there are some reservations).</p>\n\n<p>EDIT: I have just noticed such error in logs: <code>Expected BEGIN_OBJECT but was STRING at line 1 column 22 path $[0].reservationDate</code></p>\n\n<p>EDIT2: JSON RESPONSE</p>\n\n<pre><code>[\n    {\n        \"reservationDate\": \"2019-10-30\",\n        \"id\": \"4\"\n    }\n]\n</code></pre>\n\n<p>API Service:</p>\n\n<pre><code>    @Headers(\"Authorization: Bearer ...\")\n    @GET(\"reservations\")\n    fun getSchedule(@Query(\"id\") id: Int,\n                    @Query(\"reservationDate\") reservationDate: LocalDate\n\n    ):  Call&lt;List&lt;ScheduleModel&gt;&gt;\n\n\n    companion object {\n        fun create(): ScheduleService{\n\n            var retrofit = Retrofit.Builder()\n                .baseUrl(\"myUrl\")\n                .addConverterFactory(GsonConverterFactory.create())\n                .build()\n\n            return retrofit.create(ScheduleService::class.java)\n        }\n    }\n}\n</code></pre>\n\n<pre><code>data class ScheduleModel(\n    val id: Int,\n    val reservationDate: LocalDate\n)\n</code></pre>\n\n<pre><code>fun getReservations() {\n        var service = ScheduleService.create()\n        var localdate = LocalDate.of(2019,10,30)\n\n        var call = service.getSchedule(4, localdate)\n\n        call.enqueue(object : Callback&lt;List&lt;ScheduleModel&gt;&gt; {\n\n            override fun onResponse(call: Call&lt;List&lt;ScheduleModel&gt;&gt;, response: Response&lt;List&lt;ScheduleModel&gt;&gt;) {\n                if (response.code() == 200) {\n                    Toast.makeText(applicationContext, \"It's ok\", Toast.LENGTH_SHORT).show()\n                }\n            }\n\n            override fun onFailure(call: Call&lt;List&lt;ScheduleModel&gt;&gt;, t: Throwable) {\n                Toast.makeText(applicationContext, \"Failure\", Toast.LENGTH_SHORT).show()\n            }\n        })\n    }\n</code></pre>\n"}, {"tags": ["firebase", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1574162422, "post_id": 58932853, "comment_id": 104124810, "body": "Please add your Firebase realtime database structure as a JSON file or at least a screenshot. Please also add your Firestore database structure as a screenshot."}], "answers": [{"tags": [], "owner": {"reputation": 732, "user_id": 4500456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fab3dad8c245703135552d2371bdbe10?s=128&d=identicon&r=PG&f=1", "display_name": "Andres S", "link": "https://stackoverflow.com/users/4500456/andres-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1574199071, "creation_date": 1574199071, "answer_id": 58943112, "question_id": 58932853, "link": "https://stackoverflow.com/questions/58932853/iterate-over-children-in-cloud-firestore-firebase/58943112#58943112", "title": "Iterate over children in Cloud Firestore (Firebase)", "body": "<p>You can try</p>\n\n<pre><code>for(i in 0..snapshot) {\n    // x..y is the range [x, y]\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>for(i in 0 until snapshot) {\n    // x until y is the range [x, y&gt;\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/questions/52356604/for-loop-range-must-have-an-iterator-method/52357184#52357184\">Reference</a></p>\n"}], "owner": {"reputation": 83, "user_id": 11420506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IyPYN.jpg?s=128&g=1", "display_name": "sykezlol", "link": "https://stackoverflow.com/users/11420506/sykezlol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574199071, "creation_date": 1574162312, "question_id": 58932853, "link": "https://stackoverflow.com/questions/58932853/iterate-over-children-in-cloud-firestore-firebase", "title": "Iterate over children in Cloud Firestore (Firebase)", "body": "<p>I am trying to migrate from Real-time database to Cloud firestore in firebase. I am having some problems with re-writing code, that iterates over children in the db.</p>\n\n<p>My old code looks like this:</p>\n\n<pre><code>                if (dataSnapshot.exists()) {\n                for (x in dataSnapshot.children) {\n                    FetchInformation(x.key)\n                }\n            }\n</code></pre>\n\n<p>And for Firestore it looks like this:</p>\n\n<pre><code>            if (snapshot!!.exists()) {\n\n            for (x in snapshot){\n                FetchInformation(x.key)\n            }\n\n\n        } else {\n            Log.d(TAG, \"Current data: null\")\n        }\n</code></pre>\n\n<p>However, nothing like snapshot.children exists for firestore and I am receving compile error </p>\n\n<blockquote>\n  <p>'For-loop range must have an 'iterator()' method</p>\n</blockquote>\n"}, {"tags": ["java", "android", "kotlin", "android-intent", "android-studio-3.0"], "comments": [{"owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1574158885, "post_id": 58931621, "comment_id": 104122738, "body": "Did you try this? <a href=\"https://stackoverflow.com/questions/3872063/launch-an-application-from-another-application-on-android\" title=\"launch an application from another application on android\">stackoverflow.com/questions/3872063/&hellip;</a>"}, {"owner": {"reputation": 2598, "user_id": 8313205, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-T-jFpCYrNO4/AAAAAAAAAAI/AAAAAAAABDI/a-dXPHC6J0s/photo.jpg?sz=128", "display_name": "Mirza Ahmed Baig", "link": "https://stackoverflow.com/users/8313205/mirza-ahmed-baig"}, "edited": false, "score": 0, "creation_date": 1574158916, "post_id": 58931621, "comment_id": 104122757, "body": "Write a log before calling startActivity()"}, {"owner": {"reputation": 3463, "user_id": 2232127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0af1bc4a99affc5af6d890404baf5f30?s=128&d=identicon&r=PG", "display_name": "JensV", "link": "https://stackoverflow.com/users/2232127/jensv"}, "edited": false, "score": 0, "creation_date": 1574159801, "post_id": 58931621, "comment_id": 104123301, "body": "Check the logcat. Your device may be blocking the startActivity because it won&#39;t allow to start another app on a broadcast"}, {"owner": {"reputation": 1, "user_id": 12396751, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UjS4xVCFWqo/AAAAAAAAAAI/AAAAAAAAADY/_6N6cUj66Ic/photo.jpg?sz=128", "display_name": "mayank deshpande", "link": "https://stackoverflow.com/users/12396751/mayank-deshpande"}, "reply_to_user": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "edited": false, "score": 0, "creation_date": 1574161459, "post_id": 58931621, "comment_id": 104124334, "body": "@Md. Asaduzzaman yep I did(in ConnectivityReciever.java). But should it be there?"}], "owner": {"reputation": 1, "user_id": 12396751, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-UjS4xVCFWqo/AAAAAAAAAAI/AAAAAAAAADY/_6N6cUj66Ic/photo.jpg?sz=128", "display_name": "mayank deshpande", "link": "https://stackoverflow.com/users/12396751/mayank-deshpande"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1574163446, "creation_date": 1574158710, "last_edit_date": 1574163446, "question_id": 58931621, "link": "https://stackoverflow.com/questions/58931621/i-am-not-able-to-launch-an-android-application-from-another-android-application", "title": "I am not able to launch an android application from another android application. What to do?", "body": "<p>I am using <code>on receive()</code> to receive broadcast and launch another application(by intent). Whenever the app(wifimann) receives the broadcast, the other app (called kotkot(written in Kotlin)) doesn't launch from initial app despite the Wi-Fi being connected. \nMy code is as follows:</p>\n\n<ul>\n<li><p>MainActivity:</p>\n\n<pre><code>package com.wifi.wifimann;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.net.ConnectivityManager;\nimport android.net.NetworkCapabilities;\nimport android.net.NetworkInfo;\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n\n}\n</code></pre></li>\n<li><p>ConnectivityReciever.java:</p>\n\n<pre><code>package com.wifi.wifimann;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.net.ConnectivityManager;\nimport android.net.NetworkCapabilities;\n\nimport com.wifi.wifimann.MainActivity;\n\npublic class ConnectivityReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(Context context, Intent intent) {\n\n        ConnectivityManager connMgr = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n        NetworkCapabilities networkAgent = connMgr.getNetworkCapabilities(connMgr.getActiveNetwork());\n//        NetworkInfo wifi = networkAgent.hasTransport(NetworkCapabilities.TRANSPORT_WIFI);\n        if (networkAgent.hasTransport(NetworkCapabilities.TRANSPORT_WIFI)){\n            Intent launchIntent = context.getPackageManager().getLaunchIntentForPackage(\"com.example.kotkot\");\n            if (launchIntent != null) {\n                context.startActivity(launchIntent);//null pointer check in case package name was not found\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<ul>\n<li>AndroidManifest.xml</li>\n</ul>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.wifi.wifimann\"&gt;\n    &lt;uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;receiver android:name=\".MyBroadcastReceiver\"  android:exported=\"true\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.BOOT_COMPLETED\"/&gt;\n                &lt;action android:name=\"android.intent.action.INPUT_METHOD_CHANGED\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre></li>\n</ul>\n\n<h1><strong>It also says that MyBroadcastReceiver is unresolved. But my build.gradle has the same pkg name(\"com.wifi.wifimann\") as its application ID.</strong></h1>\n\n<ul>\n<li><p>kotkot:</p>\n\n<ul>\n<li>MainActivity:</li>\n</ul>\n\n<pre><code>\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.TextView\nimport androidx.core.content.ContextCompat.startActivity\nimport android.content.Intent\nimport android.net.ConnectivityManager\nimport android.net.NetworkInfo\nimport android.content.Context.CONNECTIVITY_SERVICE\nimport androidx.core.content.ContextCompat.getSystemService\nimport android.content.BroadcastReceiver\nimport android.content.Context\nimport android.net.NetworkCapabilities\nimport android.os.Build\nimport androidx.core.content.ContextCompat.getSystemService\n\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val welcome_greeting: TextView = findViewById(R.id.welcome_greeting)\n        welcome_greeting.setText(\"kotleenhere!!\")\n    }\n}\n</code></pre></li>\n</ul>\n"}, {"tags": ["android", "kotlin", "androidx", "android-jetpack-compose"], "comments": [{"owner": {"reputation": 2394, "user_id": 5974659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9ab982a491d36319cbcde99792f0123?s=128&d=identicon&r=PG&f=1", "display_name": "Anas Mehar", "link": "https://stackoverflow.com/users/5974659/anas-mehar"}, "edited": false, "score": 0, "creation_date": 1574161890, "post_id": 58931530, "comment_id": 104124550, "body": "Check this link <a href=\"https://android.googlesource.com/platform/frameworks/support/+/refs/heads/androidx-master-dev/ui/ui-material/integration-tests/samples/src/main/java/androidx/ui/material/samples/DrawerSamples.kt\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/frameworks/support/+/refs/&zwnj;&#8203;&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 484, "user_id": 7974404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d868735d2667723a59fbec3b914623?s=128&d=identicon&r=PG&f=1", "display_name": "amar_1995", "link": "https://stackoverflow.com/users/7974404/amar-1995"}, "edited": false, "score": 0, "creation_date": 1574160166, "post_id": 58932044, "comment_id": 104123512, "body": "Do you mean to implement layout.xml and use that layout file in compose ?"}, {"owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "reply_to_user": {"reputation": 484, "user_id": 7974404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d868735d2667723a59fbec3b914623?s=128&d=identicon&r=PG&f=1", "display_name": "amar_1995", "link": "https://stackoverflow.com/users/7974404/amar-1995"}, "edited": false, "score": 0, "creation_date": 1574160386, "post_id": 58932044, "comment_id": 104123662, "body": "No, compose replaces the need for a layout.xml read the Jetpack compose tutorial to understand how to write layouts using compose <a href=\"https://developer.android.com/jetpack/compose/tutorial\" rel=\"nofollow noreferrer\">developer.android.com/jetpack/compose/tutorial</a>"}, {"owner": {"reputation": 484, "user_id": 7974404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d868735d2667723a59fbec3b914623?s=128&d=identicon&r=PG&f=1", "display_name": "amar_1995", "link": "https://stackoverflow.com/users/7974404/amar-1995"}, "edited": false, "score": 0, "creation_date": 1574161137, "post_id": 58932044, "comment_id": 104124163, "body": "So <code>BottomSheetDialogFragment </code> is part of google material. So, I need to include google material file separately in gradle. Because I cannot see any such thing in <code>androidx.ui.material</code>"}, {"owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "reply_to_user": {"reputation": 484, "user_id": 7974404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d868735d2667723a59fbec3b914623?s=128&d=identicon&r=PG&f=1", "display_name": "amar_1995", "link": "https://stackoverflow.com/users/7974404/amar-1995"}, "edited": false, "score": 0, "creation_date": 1574161825, "post_id": 58932044, "comment_id": 104124517, "body": "Yeah, you need to add it as a dependency"}, {"owner": {"reputation": 484, "user_id": 7974404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d868735d2667723a59fbec3b914623?s=128&d=identicon&r=PG&f=1", "display_name": "amar_1995", "link": "https://stackoverflow.com/users/7974404/amar-1995"}, "edited": false, "score": 0, "creation_date": 1574162786, "post_id": 58932044, "comment_id": 104125026, "body": "<code>setContent</code> is part of <code>Activity</code> and &#39;ViewGroup&#39;. So,cannot use <code>setContent</code> inside Fragment."}, {"owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "reply_to_user": {"reputation": 484, "user_id": 7974404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d868735d2667723a59fbec3b914623?s=128&d=identicon&r=PG&f=1", "display_name": "amar_1995", "link": "https://stackoverflow.com/users/7974404/amar-1995"}, "edited": false, "score": 1, "creation_date": 1574163503, "post_id": 58932044, "comment_id": 104125443, "body": "You can do something like this: <a href=\"https://gist.github.com/gilgoldzweig/f6d69ae252a35c193996abe67203b488\" rel=\"nofollow noreferrer\">gist.github.com/gilgoldzweig/f6d69ae252a35c193996abe67203b48&zwnj;&#8203;8</a>"}], "tags": [], "owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "is_accepted": false, "score": 1, "last_activity_date": 1574159878, "creation_date": 1574159878, "answer_id": 58932044, "question_id": 58931530, "link": "https://stackoverflow.com/questions/58931530/implementing-bottomsheetdialog-in-compose-ui/58932044#58932044", "title": "Implementing BottomSheetDialog in Compose ui", "body": "<p>You can create a <code>BottomSheetDialogFragment</code> and instead of inflating a layout file in the dialog's <code>onCreateView</code> use <code>compose</code> to implement your layout.</p>\n\n<p>You can read <a href=\"https://medium.com/@mujtahidah/bottom-sheet-dialog-fragment-android-6ac7dc36e6ac\" rel=\"nofollow noreferrer\">here</a> on how to implement a <code>BottomSheetDialogFragment</code></p>\n"}], "owner": {"reputation": 484, "user_id": 7974404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5d868735d2667723a59fbec3b914623?s=128&d=identicon&r=PG&f=1", "display_name": "amar_1995", "link": "https://stackoverflow.com/users/7974404/amar-1995"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1445, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1574159878, "creation_date": 1574158430, "question_id": 58931530, "link": "https://stackoverflow.com/questions/58931530/implementing-bottomsheetdialog-in-compose-ui", "title": "Implementing BottomSheetDialog in Compose ui", "body": "<p>How can I implement <code>BottomSheetDialog</code> in jetpack compose ui.<br>\nI tried using <code>BottomDrawerLayout</code> and <code>DropdownPopup</code>. But niether of them worked for me.</p>\n"}, {"tags": ["android", "kotlin", "android-service", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 1150, "user_id": 2220318, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/afa04c92f3bc554daf14fca2b0ab780a?s=128&d=identicon&r=PG", "display_name": "Rahul Shukla", "link": "https://stackoverflow.com/users/2220318/rahul-shukla"}, "edited": false, "score": 0, "creation_date": 1574158470, "post_id": 58931472, "comment_id": 104122467, "body": "Why not try WorkManager for the repetitive task? It will run whether your app is in foreground or in background? <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/workmanag&zwnj;&#8203;er</a> You can use other methods, for eg. EventBus to communicate the result of the service to your application. Safe and Easy!"}, {"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "reply_to_user": {"reputation": 1150, "user_id": 2220318, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/afa04c92f3bc554daf14fca2b0ab780a?s=128&d=identicon&r=PG", "display_name": "Rahul Shukla", "link": "https://stackoverflow.com/users/2220318/rahul-shukla"}, "edited": false, "score": 0, "creation_date": 1574160841, "post_id": 58931472, "comment_id": 104123957, "body": "How to send Application class object as constructor parameter to my Worker class? I have to run callRefeshAPI within Application class. Only thing I want to set is time interval when to run it. PeriodicWorkRequest.Builder allows me only add class::java object into constructor not whole Worker object"}, {"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "reply_to_user": {"reputation": 1150, "user_id": 2220318, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/afa04c92f3bc554daf14fca2b0ab780a?s=128&d=identicon&r=PG", "display_name": "Rahul Shukla", "link": "https://stackoverflow.com/users/2220318/rahul-shukla"}, "edited": false, "score": 0, "creation_date": 1574161360, "post_id": 58931472, "comment_id": 104124282, "body": "Also PeriodicWorkRequest interval is 15 minutes at min. Its too long for my refresh."}, {"owner": {"reputation": 1150, "user_id": 2220318, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/afa04c92f3bc554daf14fca2b0ab780a?s=128&d=identicon&r=PG", "display_name": "Rahul Shukla", "link": "https://stackoverflow.com/users/2220318/rahul-shukla"}, "edited": false, "score": 0, "creation_date": 1574163377, "post_id": 58931472, "comment_id": 104125384, "body": "If all you care is to run the refresh task when the App is in foreground, you may use OneTimeRequest and reschedule the task again when the refresh has been done. And you DON&#39;T pass the application object. Use EventBus&#39;s eventing mechanism to trigger the task."}], "answers": [{"comments": [{"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "edited": false, "score": 0, "creation_date": 1574166684, "post_id": 58932999, "comment_id": 104127279, "body": "This is not working if phone screen is locked. Not even single refresh and nothing in logs that onTick was called"}, {"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "edited": false, "score": 0, "creation_date": 1574167163, "post_id": 58932999, "comment_id": 104127538, "body": "Added code. CountDownTimer is recreated every 12 minutes. Refresh worked if I was in App for 5 minutes with preventing my device to sleep and automatically locking a screen after"}, {"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "edited": false, "score": 0, "creation_date": 1574168056, "post_id": 58932999, "comment_id": 104128027, "body": "I guess similar problem than coroutines and jobs. CountDownTimer is not working in background"}, {"owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "edited": false, "score": 0, "creation_date": 1574170900, "post_id": 58932999, "comment_id": 104129635, "body": "I will actually have to use AlarmManager to force device to wakeup every 5 minutes because Android is killing every background task if device is in sleep mode. Thats how Push notifications work and also local notification fired at certain time in a future"}], "tags": [], "owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "is_accepted": false, "score": 1, "last_activity_date": 1574163989, "last_edit_date": 1574163989, "creation_date": 1574162780, "answer_id": 58932999, "question_id": 58931472, "link": "https://stackoverflow.com/questions/58931472/android-how-to-call-function-inside-application-class-every-5-minutes-in-backgr/58932999#58932999", "title": "Android: How to call function inside Application class every 5 minutes in background", "body": "<p>you can use CountDownTimer for that. and Create an IntentService class and Run that service for API call.</p>\n\n<blockquote>\n  <p>JAVA</p>\n</blockquote>\n\n<pre><code>public void repeatCall(){\n\n   new CountDownTimer(50000, 1000) {\n\n        public void onTick(long millisUntilFinished) {\n\n        }\n\n        public void onFinish() {\n           repeatCall();//again call your method\n        }\n\n    }.start();\n\n}\n\n//Declare timer\nCountDownTimer cTimer = null;\n\n//start timer function\nvoid startTimer() {\n    cTimer = new CountDownTimer(30000, 1000) {\n        public void onTick(long millisUntilFinished) {\n        }\n        public void onFinish() {\n        }\n    };\n    cTimer.start();\n}\n\n\n//cancel timer\nvoid cancelTimer() {\n    if(cTimer!=null)\n        cTimer.cancel();\n}\n</code></pre>\n\n<blockquote>\n  <p>KOTLIN</p>\n</blockquote>\n\n<pre><code> fun repeatCall() {\n\n        object : CountDownTimer(50000, 1000) {\n\n            override fun onTick(millisUntilFinished: Long) {\n\n            }\n\n            override fun onFinish() {\n                repeatCall()//again call your method\n            }\n\n        }.start()\n\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 262, "user_id": 8632713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cc890fd37104aa94807c65bc4708436?s=128&d=identicon&r=PG", "display_name": "Raja chakraborty", "link": "https://stackoverflow.com/users/8632713/raja-chakraborty"}, "is_accepted": false, "score": 1, "last_activity_date": 1574163858, "creation_date": 1574163858, "answer_id": 58933358, "question_id": 58931472, "link": "https://stackoverflow.com/questions/58931472/android-how-to-call-function-inside-application-class-every-5-minutes-in-backgr/58933358#58933358", "title": "Android: How to call function inside Application class every 5 minutes in background", "body": "<p>Though calling an API after every 5 minutes is not the most optimized way to do the task.\nThe minimum value is 15min for periodic jobs. \nYou can use </p>\n\n<p><a href=\"https://github.com/evernote/android-job\" rel=\"nofollow noreferrer\">Ever Note Android Job</a> Library for that.</p>\n\n<pre><code>private void schedulePeriodicJob() {\n    int jobId = new JobRequest.Builder(DemoSyncJob.TAG)\n            .setPeriodic(TimeUnit.MINUTES.toMillis(15), TimeUnit.MINUTES.toMillis(5))\n            .build()\n            .schedule();\n}\n</code></pre>\n"}], "owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1182, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1574235163, "creation_date": 1574158266, "last_edit_date": 1574235163, "question_id": 58931472, "link": "https://stackoverflow.com/questions/58931472/android-how-to-call-function-inside-application-class-every-5-minutes-in-backgr", "title": "Android: How to call function inside Application class every 5 minutes in background", "body": "<p>I want to start refresh <code>Service</code> within my app. What I want to achieve is to do API call every 5 minutes even if user locked his screen to update data and especially visible Notification by recreating Notification with new data from API call.</p>\n\n<p>I tried to move my logic to Application class where I will initialize <code>Job</code> within <code>GlobalScope</code>, which will run indefinitely until I cancel this <code>Job</code>. This solution works if I set delay to 10 or 30 seconds. It is working even if my App is in background. But if I set delay to way longer period (which I need in this case) like 5 - 10 minutes, it will suddenly stop. My understanding is that this Job will die down or Application class is destroyed when there is long inactivity.</p>\n\n<p>I would like to create Service which will communicate with my Application class and initialize this Job within Service to call Application class function to refresh Notification. But I cant use parameters in Service.</p>\n\n<p>Is there any way how to link Application class and Service? </p>\n\n<p>I don't need to run this refreshAPI if App is killed.</p>\n\n<p>Example(this is running within Application class - want to move it to Service and call app.callRefreshAPI() from Service class):</p>\n\n<pre><code>var refresher: Job? = null\nprivate var refreshRate = 300000L\nfun createNotificationRefresher(){\n    refresher = GlobalScope.launch {\n        while (isActive){\n            callRefreshAPI()\n            delay(refreshRate)\n        }\n    }\n}\n</code></pre>\n\n<p>UPDATE: CountDownTimer solution (not working):</p>\n\n<pre><code>var refresher: CountDownTimer? = null\nprivate var refreshRate = 300000L //5min\nprivate var refresherDuration = 780000L //12min\nfun initNotificationRefresher(){\n    refresher = object : CountDownTimer(refresherDuration, refreshRate) {\n        override fun onTick(millisUntilFinished: Long) {\n            callRefreshAPI()\n        }\n        override fun onFinish() {\n            initNotificationRefresher()\n        }\n    }.start()\n}\n</code></pre>\n\n<p><strong>UPDATE 2:</strong> Timers/jobs/workers are not working when phone screen is locked and OS is in a sleep mode. That means there is no way to use timers in a background-background operations. I had to use BroadcastReceiver registered in Application class (NOT! AndroidManifest) and listen to SCREEN_ON action. Then saving time when user unlocked his phone and checking if it was at least 5-10 minutes between screen lock which updated notification and under this condition refresh Notification by calling API in GlobalScope.</p>\n\n<p>I hope this will be helpful for others. Job/Timer will work if Application is in background and user is still interacting with phone (Checking other App, browsing stuff etc.).</p>\n"}, {"tags": ["rest", "api", "spring-boot", "kotlin", "resttemplate"], "comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1574162564, "post_id": 58931423, "comment_id": 104124891, "body": "Have you tried giving @RequestParam (and/or @PathVariable) params to the function <i>without</i> using the \u2018params\u2019 annotation param?  (That&#39;s what we&#39;ve always done.)"}, {"owner": {"reputation": 1, "user_id": 11537330, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NxGJkdAreoQ/AAAAAAAAAAI/AAAAAAAAEGk/1_TCmabAC1w/photo.jpg?sz=128", "display_name": "Andrey Kaplan", "link": "https://stackoverflow.com/users/11537330/andrey-kaplan"}, "reply_to_user": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1574253253, "post_id": 58931423, "comment_id": 104164662, "body": "Yes, like this: @GetMapping(value=&quot;/test/{workspace_id}&quot; and then @PathVariable"}], "answers": [{"tags": [], "owner": {"reputation": 34, "user_id": 9387111, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "gaurav Sharma", "link": "https://stackoverflow.com/users/9387111/gaurav-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1574174691, "creation_date": 1574174691, "answer_id": 58936599, "question_id": 58931423, "link": "https://stackoverflow.com/questions/58931423/resttemplate-get-with-parameteres-with-spring-boot-controller/58936599#58936599", "title": "RestTemplate GET with parameteres with Spring Boot Controller", "body": "<p>What is the annotation you are using at Class level.\nYou need to use @RestController.</p>\n"}], "owner": {"reputation": 1, "user_id": 11537330, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NxGJkdAreoQ/AAAAAAAAAAI/AAAAAAAAEGk/1_TCmabAC1w/photo.jpg?sz=128", "display_name": "Andrey Kaplan", "link": "https://stackoverflow.com/users/11537330/andrey-kaplan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574174691, "creation_date": 1574158137, "question_id": 58931423, "link": "https://stackoverflow.com/questions/58931423/resttemplate-get-with-parameteres-with-spring-boot-controller", "title": "RestTemplate GET with parameteres with Spring Boot Controller", "body": "<p>I'm creating a microservice that recieves data from Rest Template requests to API. I run microservice at localhost:8080 and API at localhost:13001 and test it with Postman. Test method returns String. And there is an issue when request has parameteres. With code below I always get \"404 Not Found\". But when API controller don't have any parameteres - method works. Can't solve this problem.</p>\n\n<p>Sequence:</p>\n\n<p>1) Postman (GET <a href=\"http://localhost:8080/test\" rel=\"nofollow noreferrer\">http://localhost:8080/test</a>) </p>\n\n<p>2) Microservice Controller (Rest Template exchange) --> code below</p>\n\n<pre><code>@RequestMapping(\n        method                          = [RequestMethod.GET],\n        produces                        = [MediaType.APPLICATION_JSON_VALUE],\n        path                            = [\"/test\"],\n        params                          = [\"workspace_id\"]\n        )\n@ResponseBody\nfun test(\n        authentication                  : OAuth2Authentication,\n        @RequestParam(value             = \"workspace_id\")\n        workspaceId                     : UUID\n)                                       : String\n{\n    return serviceDashboard.get(authentication, workspaceId)\n}\n</code></pre>\n\n<p>3) Rest Template (GET <a href=\"http://localhost:13001/test?workspace_id=.....\" rel=\"nofollow noreferrer\">http://localhost:13001/test?workspace_id=.....</a>.) --> code below</p>\n\n<pre><code>    @Autowired\nlateinit var restTemplate               : RestTemplate\n\n    override fun get(\n        authentication                  : OAuth2Authentication,\n        workspaceId                     : UUID\n)                                       : String\n{\n    //Header\n    val token                           = (authentication.details as OAuth2AuthenticationDetails).tokenValue\n    val headers                         = HttpHeaders()\n    headers.setBearerAuth(token)\n    val entity                          = HttpEntity&lt;Any&gt;(headers)\n    //Parameters\n    val params                          = HashMap&lt;String, UUID&gt;()\n    params[\"workspace_id\"]              = workspaceId\n    //URI\n    val endpoint                        = URI.create(\"http://localhost:13001/test\")\n\n    return restTemplate.exchange(endpoint.toString(), HttpMethod.GET, entity, String::class.java, params).body!!\n}\n</code></pre>\n\n<p>4) API Controller (return data) --> code below</p>\n\n<p>----------- Non-working version ----------------</p>\n\n<pre><code>@GetMapping(\n        produces                        = [MediaType.APPLICATION_JSON_VALUE],\n        params                          = [\"workspace_id\"],\n        path                            = [\"/test\"])\n@ResponseBody\nfun test(\n        @RequestParam(value = \"workspace_id\")\n        workspaceId                     : UUID\n)                                       : String\n{\n    if ( workspaceId.toString() == \"650a539a-0356-467e-a0d0-71d472c41aae\") return \"It works\"\n    else return \"It doesn't work\"\n}\n</code></pre>\n\n<p>----------- Working version ----------------</p>\n\n<pre><code>@GetMapping(\n        produces                        = [MediaType.APPLICATION_JSON_VALUE]\n        path                            = [\"/test\"])\n@ResponseBody\nfun test()                              : String\n{\n    return \"It works\"\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-architecture-navigation"], "answers": [{"tags": [], "owner": {"reputation": 188, "user_id": 9873024, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6sOV0W1jxow/AAAAAAAAAAI/AAAAAAAAADc/HvDucm1apBA/photo.jpg?sz=128", "display_name": "Mitch M", "link": "https://stackoverflow.com/users/9873024/mitch-m"}, "is_accepted": false, "score": 0, "last_activity_date": 1574263922, "creation_date": 1574263922, "answer_id": 58958010, "question_id": 58931015, "link": "https://stackoverflow.com/questions/58931015/andriod-navigation-component-2-1-0-with-java/58958010#58958010", "title": "Andriod Navigation Component 2.1.0 with java", "body": "<p>Found the issue. It's a bit of a wierd one but oh well... You need to make sure the include for app_bar_main comes before the NavigationView in your activity e.g activity_main</p>\n\n<pre><code>&lt;include\n    layout=\"@layout/app_bar_main\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\" /&gt;\n\n&lt;com.google.android.material.navigation.NavigationView\n    android:id=\"@+id/nav_view\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"match_parent\"\n    android:layout_gravity=\"start\"\n    app:headerLayout=\"@layout/nav_header_main\"\n    app:menu=\"@menu/activity_main_drawer\"\n    android:background=\"@color/colorAccent\"\n    app:itemTextColor=\"@android:color/white\"\n    app:itemIconTint=\"@android:color/white\"\n    android:fitsSystemWindows=\"false\"\n    android:isScrollContainer=\"true\"\n    android:saveEnabled=\"true\"/&gt;\n</code></pre>\n"}], "owner": {"reputation": 188, "user_id": 9873024, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6sOV0W1jxow/AAAAAAAAAAI/AAAAAAAAADc/HvDucm1apBA/photo.jpg?sz=128", "display_name": "Mitch M", "link": "https://stackoverflow.com/users/9873024/mitch-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574263922, "creation_date": 1574156927, "question_id": 58931015, "link": "https://stackoverflow.com/questions/58931015/andriod-navigation-component-2-1-0-with-java", "title": "Andriod Navigation Component 2.1.0 with java", "body": "<p>When I try to use the android navigation component on java. It doesnt work well with the navigation drawer out of the box. I'm able to execute everything except for navigating to the fragments from the navigation drawer. \nI'm working on a project that I needed to get out of the way real quick and wanted to complete it with java which I am more experienced in. Has anyone been able to hack this?</p>\n\n<pre><code>implementation 'androidx.navigation:navigation-fragment:2.1.0'\nimplementation 'androidx.navigation:navigation-ui:2.1.0'\n</code></pre>\n\n<p>MainActivity onCreate</p>\n\n<pre><code>rootLayout = findViewById(R.id.drawer_layout);\n\n    drawerLayout = findViewById(R.id.drawer_layout);\n\n    Toolbar toolbar = findViewById(R.id.toolbar);\n    setSupportActionBar(toolbar);\n\n    NavHostFragment navHostFragment = (NavHostFragment)getSupportFragmentManager().findFragmentById(R.id.nav_host_fragment);\n    navController = navHostFragment.getNavController();\n\n    mAppBarConfiguration = new AppBarConfiguration.Builder(navController.getGraph())\n            .setDrawerLayout(drawerLayout)\n            .build();\n\n    drawerLayout = findViewById(R.id.drawer_layout);\n\n    //setup navigation\n    NavigationView navigationView = findViewById(R.id.nav_view);\n    NavigationUI.setupWithNavController(navigationView, navController);\n    mAppBarConfiguration = new AppBarConfiguration.Builder(\n            R.id.nav_home, R.id.nav_claims, R.id.nav_products,R.id.nav_deliveries, R.id.nav_quotes,\n            R.id.nav_policies, R.id.nav_payment,R.id.nav_about,R.id.nav_contact)\n            .setDrawerLayout(drawerLayout)\n            .build();\n\n    //setup action bar\n    NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\n</code></pre>\n\n<p>PS:The id's on mobile_navigation.xml and activity_main_drawer.xml are identical. So no problems there.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "fragment"], "answers": [{"comments": [{"owner": {"reputation": 323, "user_id": 4587953, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a17fd2693752b4b116c1f3972a14bc3f?s=128&d=identicon&r=PG&f=1", "display_name": "Dev Loots", "link": "https://stackoverflow.com/users/4587953/dev-loots"}, "edited": false, "score": 0, "creation_date": 1574157332, "post_id": 58931096, "comment_id": 104121836, "body": "So I should instantiate the fragmentB in the onCreateView from FragmentA class ?"}, {"owner": {"reputation": 419, "user_id": 5123894, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BvJE30RJgMQ/AAAAAAAAAAI/AAAAAAAAAEs/yLhCRYF6Ixw/photo.jpg?sz=128", "display_name": "ROHIT LIEN", "link": "https://stackoverflow.com/users/5123894/rohit-lien"}, "edited": false, "score": 0, "creation_date": 1574157594, "post_id": 58931096, "comment_id": 104121982, "body": "@vilpe89 is correct .Yes , add it dynamically with args. It will work."}, {"owner": {"reputation": 323, "user_id": 4587953, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a17fd2693752b4b116c1f3972a14bc3f?s=128&d=identicon&r=PG&f=1", "display_name": "Dev Loots", "link": "https://stackoverflow.com/users/4587953/dev-loots"}, "edited": false, "score": 0, "creation_date": 1574157951, "post_id": 58931096, "comment_id": 104122167, "body": "Thanks, I forgot to change the fragment attribute by FrameLayout"}], "tags": [], "owner": {"reputation": 4375, "user_id": 2191256, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ac211028c226a48ea0232b2600346d4?s=128&d=identicon&r=PG", "display_name": "vilpe89", "link": "https://stackoverflow.com/users/2191256/vilpe89"}, "is_accepted": true, "score": 2, "last_activity_date": 1574157144, "creation_date": 1574157144, "answer_id": 58931096, "question_id": 58930991, "link": "https://stackoverflow.com/questions/58930991/cannot-pass-arguments-since-fragment-to-child-fragment/58931096#58931096", "title": "Cannot pass arguments since Fragment to child Fragment", "body": "<p>You have declared Fragment in your xml layout. This means it gets created without the args. If you are adding Fragment from code, then you don't need to declare it in xml.</p>\n\n<p>So just change your xml to this:</p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout       \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/fragmentB\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 442, "user_id": 3001456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb779b4c274db48dd8d1a2dbf9bd5f3?s=128&d=identicon&r=PG&f=1", "display_name": "Eranga Gamagedara", "link": "https://stackoverflow.com/users/3001456/eranga-gamagedara"}, "is_accepted": false, "score": 1, "last_activity_date": 1574157936, "creation_date": 1574157936, "answer_id": 58931355, "question_id": 58930991, "link": "https://stackoverflow.com/questions/58930991/cannot-pass-arguments-since-fragment-to-child-fragment/58931355#58931355", "title": "Cannot pass arguments since Fragment to child Fragment", "body": "<p>Inside your fragment B implement static method to initialize the fragment like bellow.</p>\n\n<pre><code>public static FragmentB newInstance(string x) {\n  FragmentB f = new FragmentB ();\n\n  Bundle args = new Bundle();\n  args.putInt(\"name\", x);\n  f.setArguments(args);\n  return f;\n}\n</code></pre>\n\n<p>you can use this method in FragmentA</p>\n\n<p>Read more in <a href=\"https://stackoverflow.com/questions/17436298/how-to-pass-a-variable-from-activity-to-fragment-and-pass-it-back\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 12225251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40fc207904f804b9456b95c9a1d6f897?s=128&d=identicon&r=PG&f=1", "display_name": "macgills", "link": "https://stackoverflow.com/users/12225251/macgills"}, "is_accepted": false, "score": 0, "last_activity_date": 1574158329, "creation_date": 1574158329, "answer_id": 58931489, "question_id": 58930991, "link": "https://stackoverflow.com/questions/58930991/cannot-pass-arguments-since-fragment-to-child-fragment/58931489#58931489", "title": "Cannot pass arguments since Fragment to child Fragment", "body": "<p>If you have your data in a viewmodel there is no reason the fragment itself cannot access this directly. One of the pluses of viewmodels is ease of sharing the data of a screen among its constituent components be they views/fragments/whatevers.</p>\n\n<p>You can refer to the documentation <a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel?gclid=CjwKCAiAws7uBRAkEiwAMlbZjujsbJW-1BuP_IN_3B3JH4HdLFa4govsgi-xB0YJo4gPIIs5_Z_2QhoCbzgQAvD_BwE#lifecycle\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 323, "user_id": 4587953, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a17fd2693752b4b116c1f3972a14bc3f?s=128&d=identicon&r=PG&f=1", "display_name": "Dev Loots", "link": "https://stackoverflow.com/users/4587953/dev-loots"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 58931096, "answer_count": 3, "score": 0, "last_activity_date": 1574158329, "creation_date": 1574156868, "question_id": 58930991, "link": "https://stackoverflow.com/questions/58930991/cannot-pass-arguments-since-fragment-to-child-fragment", "title": "Cannot pass arguments since Fragment to child Fragment", "body": "<p>I have a Fragment A containing a Fragment B.</p>\n\n<p>I want to pass an argument to Fragment B from Fragment A when Fragment A is in the onActivityCreated lifecycle (because I have a data coming from a viewmodel that arrives at this moment).</p>\n\n<p>In my Fragment B I cannot get the argument. I have a null exception.</p>\n\n<p>Do you have a solution to my problem?</p>\n\n<p>Here is my code</p>\n\n<p><strong>Fragment A</strong></p>\n\n<pre><code>class FragmentA: Fragment() {\n\n    private lateinit var fragmentB: FragmentB\n\n    /**\n     * @inheritdocs\n     */\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.fragment_a, container, false)\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        this.fragmentB = FragmentB()\n        val transaction = childFragmentManager.beginTransaction()\n        transaction.add(R.id.fragmentB, fragmentB).commit()\n    }\n\n    /**\n     * @inheritdocs\n     */\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n\n        val args = Bundle()\n        args.putString(\"name\", \"test\")\n        this.fragmentB.arguments = args\n    }\n}\n</code></pre>\n\n<p><strong>FragmentB</strong></p>\n\n<pre><code>class FragmentB: Fragment() {\n\n\n    /**\n     * @inheritdocs\n     */\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.fragment_b, container, false)\n    }\n\n    /**\n     * @inheritdocs\n     */\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n\n        var name = this.arguments?.getString(\"name\")!!\n    }\n}\n</code></pre>\n\n<p><strong>fragment_a.xml</strong></p>\n\n<pre><code>&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;fragment\n        android:id=\"@+id/fragmentB\"\n        android:name=\"com.test.view.FragmentB\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "json", "kotlin", "gson"], "comments": [{"owner": {"reputation": 665, "user_id": 1949520, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/AJOl8.png?s=128&g=1", "display_name": "cylon", "link": "https://stackoverflow.com/users/1949520/cylon"}, "edited": false, "score": 0, "creation_date": 1574155446, "post_id": 58930417, "comment_id": 104120765, "body": "You shouldn&#39;t write those data classes in &quot;every&quot; file. Just have two separate data classes (separate files) and use them from wherever you want, as you said &quot;globally&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 13006, "user_id": 2637449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KXkC4.jpg?s=128&g=1", "display_name": "Md. Asaduzzaman", "link": "https://stackoverflow.com/users/2637449/md-asaduzzaman"}, "is_accepted": false, "score": 0, "last_activity_date": 1574156663, "last_edit_date": 1574156663, "creation_date": 1574156107, "answer_id": 58930766, "question_id": 58930417, "link": "https://stackoverflow.com/questions/58930417/can-we-use-gson-library-to-parse-json-on-regular-class/58930766#58930766", "title": "Can we use Gson library to parse JSON on regular class?", "body": "<p>Try to create those classes in separate file and use them anywhere it required.</p>\n\n<p><strong>Address.kt</strong></p>\n\n<pre><code>class Address(\n    var city: String? = null,\n    var post: String? = null) {\n\n}\n</code></pre>\n\n<p><strong>Student.kt</strong></p>\n\n<pre><code>class Student(\n    var name: String? = null,\n    var address: Address? = null) {\n}\n</code></pre>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code>class MainActivity: AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        ....\n\n        val student = Gson().fromJson&lt;Student&gt;(json, Student::class.java)\n    }\n}\n</code></pre>\n\n<p><strong>OtherActivity.kt</strong></p>\n\n<pre><code>class OtherActivity: AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        ....\n\n        val student = Gson().fromJson&lt;Student&gt;(json, Student::class.java)\n    }\n}\n</code></pre>\n\n<p><strong>JsonUtil.kt</strong></p>\n\n<pre><code>class JsonUtil {\n    fun parseJson(json: String?) {\n        val student = Gson().fromJson&lt;Student&gt;(json, Student::class.java)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 250, "user_id": 9876410, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Aqua Freshka", "link": "https://stackoverflow.com/users/9876410/aqua-freshka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574159795, "creation_date": 1574155060, "last_edit_date": 1574159795, "question_id": 58930417, "link": "https://stackoverflow.com/questions/58930417/can-we-use-gson-library-to-parse-json-on-regular-class", "title": "Can we use Gson library to parse JSON on regular class?", "body": "<p>I was wondering if I could use the Gson library with a regular class instead of a <code>dataclass</code> ?</p>\n\n<p>Here is my json: </p>\n\n<pre><code>val json = \"\"\"\n{\n   \"name\": \"Alex\",\n   \"address\": {\n        \"city\": \"Rome\",\n        \"post\": \"1000\"\n    }\n }\n</code></pre>\n\n<p>And my code :</p>\n\n<pre><code>data class Address(\n    var city: String? = null,\n    var post: String? = null) {\n\n}\n\ndata class Student(\n    var name: String? = null,\n    var address: Address? = null) {\n}\n// Call\nval student = Gson().fromJson&lt;Student&gt;(json, Student::class.java)\n// student.address.city will be = \"Rome\"\n</code></pre>\n\n<p>I couldn't find an example with the regular class.\nThe problem is that I have to use those data classes in multiple files and I would like to avoid to write them in every file.</p>\n\n<p>So is it possible to use Gson with a regular class?\nOr can I create a global <code>dataclass</code>?</p>\n"}, {"tags": ["kotlin", "dagger-2", "kotlin-delegate"], "comments": [{"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1574154803, "post_id": 58930220, "comment_id": 104120441, "body": "I&#39;d like to try this for myself, so could you provide a <i>complete, minimal sample</i>? Also, what Dagger &amp; Kotlin version are you using?"}, {"owner": {"reputation": 1013, "user_id": 6307259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8e263d81a0d6e658cefb89e4e5aa4a?s=128&d=identicon&r=PG", "display_name": "zoha131", "link": "https://stackoverflow.com/users/6307259/zoha131"}, "reply_to_user": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1574155799, "post_id": 58930220, "comment_id": 104120964, "body": "here is the simple project: <a href=\"https://github.com/Zoha131/dagger-kotlin-delegtion\" rel=\"nofollow noreferrer\">github.com/Zoha131/dagger-kotlin-delegtion</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1013, "user_id": 6307259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8e263d81a0d6e658cefb89e4e5aa4a?s=128&d=identicon&r=PG", "display_name": "zoha131", "link": "https://stackoverflow.com/users/6307259/zoha131"}, "edited": false, "score": 0, "creation_date": 1574227707, "post_id": 58941130, "comment_id": 104152049, "body": "Currently, I have removed the class delegation and added functions manually. A little bit verbose but working for me."}], "tags": [], "owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "is_accepted": false, "score": 1, "last_activity_date": 1574190112, "creation_date": 1574190112, "answer_id": 58941130, "question_id": 58930220, "link": "https://stackoverflow.com/questions/58930220/dagger-construction-injection-with-kotlin-class-delegation/58941130#58941130", "title": "Dagger Construction Injection with Kotlin Class Delegation", "body": "<p>It seems to me that the problem is with <code>android.annotation.Nullable</code> which gets pulled into your code by using the <code>by</code> keyword, but which isn't accessible from outside the Android source code.</p>\n\n<p>Usually you'd see the error directly if the type cannot be resolved, but in this case Kotlin generates Java code with the unknown annotation and Dagger tries processing that, leading to your error.</p>\n\n<p>If you create your own interface other than <code>SharedPreferences</code> it will work just fine as you'd expect.</p>\n\n<p>You might be able to add <code>android.annotation.Nullable</code> to your (compile only) classpath  somehow so that Dagger can do its thing, but it's probably easier to find another way.</p>\n\n<hr>\n\n<p>I see three issues that you could raise here</p>\n\n<ul>\n<li>Dagger should fail better. The error message is of little help in this case</li>\n<li>Android shouldn't expose internal/hidden types,</li>\n<li>and/or Kotlin shouldn't pull in those hidden types</li>\n</ul>\n"}], "owner": {"reputation": 1013, "user_id": 6307259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8e263d81a0d6e658cefb89e4e5aa4a?s=128&d=identicon&r=PG", "display_name": "zoha131", "link": "https://stackoverflow.com/users/6307259/zoha131"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1574190112, "creation_date": 1574154410, "question_id": 58930220, "link": "https://stackoverflow.com/questions/58930220/dagger-construction-injection-with-kotlin-class-delegation", "title": "Dagger Construction Injection with Kotlin Class Delegation", "body": "<p>I have the following Kotlin Class:</p>\n\n<pre><code>@ExperimentalCoroutinesApi\nclass SharedPrefClient \n    @Inject constructor(private val prefs: SharedPreferences) \n      : SharedPreferences by prefs {\n\n   ...\n\n}\n</code></pre>\n\n<p>In Dagger, I get the following error while building the project:</p>\n\n<p><a href=\"https://i.stack.imgur.com/nS133.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nS133.png\" alt=\"enter image description here\"></a></p>\n\n<p>But it workes when I remove the class Delegation <code>: SharedPreferences by prefs</code></p>\n\n<p>Now my question is how can I use Dagger and Kotlin Class Delegation both together.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "facebook-login", "android-dialogfragment"], "comments": [{"owner": {"reputation": 86, "user_id": 12014809, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LhxpLRR1T40/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMn5EPD6uLiWMi8FHVY0U71EP_BQ/photo.jpg?sz=128", "display_name": "Anastasios Zympidis", "link": "https://stackoverflow.com/users/12014809/anastasios-zympidis"}, "edited": false, "score": 1, "creation_date": 1574154750, "post_id": 58929622, "comment_id": 104120410, "body": "Do you have the facebook app downloaded in your phone?"}, {"owner": {"reputation": 3473, "user_id": 3821287, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/144b17c1457bed92e26e8b1b4ba1425f?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas P.", "link": "https://stackoverflow.com/users/3821287/lucas-p"}, "reply_to_user": {"reputation": 86, "user_id": 12014809, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-LhxpLRR1T40/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfMn5EPD6uLiWMi8FHVY0U71EP_BQ/photo.jpg?sz=128", "display_name": "Anastasios Zympidis", "link": "https://stackoverflow.com/users/12014809/anastasios-zympidis"}, "edited": false, "score": 0, "creation_date": 1574163343, "post_id": 58929622, "comment_id": 104125353, "body": "Yes, I tried both with it installed, and without, still getting the same error, in the FB app, or the webview fallback... It must be some parameter i&#39;m passing in, but i cant figure out what i&#39;m doing wrong."}, {"owner": {"reputation": 898, "user_id": 5653166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JVQi8.jpg?s=128&g=1", "display_name": "Dan Abnormal", "link": "https://stackoverflow.com/users/5653166/dan-abnormal"}, "edited": false, "score": 0, "creation_date": 1576026537, "post_id": 58929622, "comment_id": 104761987, "body": "Did you ever solve this? I\u2019m getting the same error message"}, {"owner": {"reputation": 3473, "user_id": 3821287, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/144b17c1457bed92e26e8b1b4ba1425f?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas P.", "link": "https://stackoverflow.com/users/3821287/lucas-p"}, "reply_to_user": {"reputation": 898, "user_id": 5653166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JVQi8.jpg?s=128&g=1", "display_name": "Dan Abnormal", "link": "https://stackoverflow.com/users/5653166/dan-abnormal"}, "edited": false, "score": 0, "creation_date": 1576055326, "post_id": 58929622, "comment_id": 104770474, "body": "@DanAbnormal Unfortunately no, I&#39;ve also posted to the facebook developer support forum and I got no reply there as well. I have an app that is ready for production and this is the only thing that is keeping us back... I&#39;ll try to create a dummy app and use the exact same steps to add FB login and see if it works or not. If you figure something out, please let me know."}, {"owner": {"reputation": 3473, "user_id": 3821287, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/144b17c1457bed92e26e8b1b4ba1425f?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas P.", "link": "https://stackoverflow.com/users/3821287/lucas-p"}, "reply_to_user": {"reputation": 898, "user_id": 5653166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JVQi8.jpg?s=128&g=1", "display_name": "Dan Abnormal", "link": "https://stackoverflow.com/users/5653166/dan-abnormal"}, "edited": false, "score": 0, "creation_date": 1576489702, "post_id": 58929622, "comment_id": 104903040, "body": "@DanAbnormal I tried again today, and it finally worked. I&#39;m unsure if it really was a problem on the facebook&#39;s side, please check my answer below for more info."}, {"owner": {"reputation": 898, "user_id": 5653166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JVQi8.jpg?s=128&g=1", "display_name": "Dan Abnormal", "link": "https://stackoverflow.com/users/5653166/dan-abnormal"}, "edited": false, "score": 0, "creation_date": 1576489797, "post_id": 58929622, "comment_id": 104903095, "body": "@LucasP. Thanks for this. I will check it out!"}, {"owner": {"reputation": 898, "user_id": 5653166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JVQi8.jpg?s=128&g=1", "display_name": "Dan Abnormal", "link": "https://stackoverflow.com/users/5653166/dan-abnormal"}, "edited": false, "score": 0, "creation_date": 1576523715, "post_id": 58929622, "comment_id": 104919715, "body": "@LucasP. Worked for me too, but only on different device. Problem still there when trying on Android tablet. Not sure what to make of this; is it the facebook app settings on the device or the device itself?"}, {"owner": {"reputation": 898, "user_id": 5653166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JVQi8.jpg?s=128&g=1", "display_name": "Dan Abnormal", "link": "https://stackoverflow.com/users/5653166/dan-abnormal"}, "edited": false, "score": 0, "creation_date": 1576588901, "post_id": 58929622, "comment_id": 104942562, "body": "@LucasP.  Actually, it did not work after all. But however, after skipping the fb login button and going with custom UIButton and LoginManager instead, everything works fine!"}, {"owner": {"reputation": 3473, "user_id": 3821287, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/144b17c1457bed92e26e8b1b4ba1425f?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas P.", "link": "https://stackoverflow.com/users/3821287/lucas-p"}, "reply_to_user": {"reputation": 898, "user_id": 5653166, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JVQi8.jpg?s=128&g=1", "display_name": "Dan Abnormal", "link": "https://stackoverflow.com/users/5653166/dan-abnormal"}, "edited": false, "score": 0, "creation_date": 1576596063, "post_id": 58929622, "comment_id": 104946721, "body": "@DanAbnormal I&#39;ve also tried the &quot;Custom button + LoginManager&quot; way about a week ago and I was getting the same error. Since yesterday both methods seem to work... Good luck!"}], "answers": [{"comments": [{"owner": {"reputation": 1677, "user_id": 912359, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/64d3d14cad6a8df698836653707e6563?s=128&d=identicon&r=PG", "display_name": "Sourabh", "link": "https://stackoverflow.com/users/912359/sourabh"}, "edited": false, "score": 0, "creation_date": 1577997310, "post_id": 59354055, "comment_id": 105307130, "body": "Still getting this error! I have this override method as well."}, {"owner": {"reputation": 3473, "user_id": 3821287, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/144b17c1457bed92e26e8b1b4ba1425f?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas P.", "link": "https://stackoverflow.com/users/3821287/lucas-p"}, "reply_to_user": {"reputation": 1677, "user_id": 912359, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/64d3d14cad6a8df698836653707e6563?s=128&d=identicon&r=PG", "display_name": "Sourabh", "link": "https://stackoverflow.com/users/912359/sourabh"}, "edited": false, "score": 0, "creation_date": 1578037495, "post_id": 59354055, "comment_id": 105316635, "body": "I still haven&#39;t figured out what the problem was (if it was on my side or on Facebook&#39;s). What I did though is create a new dummy app that had the same structure as my <code>LoginFragment</code> (meaning I was using the Navigation Component and a DialogFragment) and implemented the FB Login button there, which it worked. Then after removing it and adding it back to my original project, it worked again. I&#39;m not sure what&#39;s going on there."}, {"owner": {"reputation": 1677, "user_id": 912359, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/64d3d14cad6a8df698836653707e6563?s=128&d=identicon&r=PG", "display_name": "Sourabh", "link": "https://stackoverflow.com/users/912359/sourabh"}, "edited": false, "score": 4, "creation_date": 1578086578, "post_id": 59354055, "comment_id": 105337454, "body": "I found the issue with my code. Turns out I was send permission &quot;email&quot; in capital letters (EMAIL). Had to check each and every line of my code multiple times. It sucks that they don&#39;t send a precise error message."}], "tags": [], "owner": {"reputation": 3473, "user_id": 3821287, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/144b17c1457bed92e26e8b1b4ba1425f?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas P.", "link": "https://stackoverflow.com/users/3821287/lucas-p"}, "is_accepted": true, "score": 1, "last_activity_date": 1576489659, "creation_date": 1576489659, "answer_id": 59354055, "question_id": 58929622, "link": "https://stackoverflow.com/questions/58929622/android-facebook-login-fails-without-an-exception-just-sorry-something-went-wr/59354055#59354055", "title": "Android Facebook login fails without an exception, just &quot;Sorry something went wrong&quot;", "body": "<p>It seems like I was missing the following in my fragment:</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    callbackManager.onActivityResult(requestCode, resultCode, data)\n    super.onActivityResult(requestCode, resultCode, data)\n}\n</code></pre>\n\n<p>However, It might have not been related, since the error was being thrown before the actual FB activity returned, so maybe it was an internal facebook error that has been fixed.</p>\n\n<p>Good luck to anyone facing similar issues, the support for the FB SDK is virtually non existent.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 12204458, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAyC5GX_n7xkkN38x4H9fF31mGjMYl6VwC7nTUXjQ=k-s128", "display_name": "Fabi&#225;n Bardecio", "link": "https://stackoverflow.com/users/12204458/fabi%c3%a1n-bardecio"}, "is_accepted": false, "score": 1, "last_activity_date": 1607370964, "last_edit_date": 1607370964, "creation_date": 1589302378, "answer_id": 61757388, "question_id": 58929622, "link": "https://stackoverflow.com/questions/58929622/android-facebook-login-fails-without-an-exception-just-sorry-something-went-wr/61757388#61757388", "title": "Android Facebook login fails without an exception, just &quot;Sorry something went wrong&quot;", "body": "<p>Edit to add Sourabh comment: &quot;I found the issue with my code. Turns out I was send permission &quot;email&quot; in capital letters (EMAIL). Had to check each and every line of my code multiple times. It sucks that they don't send a precise error message. \u2013&quot;</p>\n<p>Following the comment of Sourabh, I fixed this error checking the permissions in the logIn facebook function. Double check your permissions and if it doesn't work, try to send just the email, to see if it works.</p>\n"}], "owner": {"reputation": 3473, "user_id": 3821287, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/144b17c1457bed92e26e8b1b4ba1425f?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas P.", "link": "https://stackoverflow.com/users/3821287/lucas-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 946, "favorite_count": 0, "accepted_answer_id": 59354055, "answer_count": 2, "score": 6, "last_activity_date": 1607370964, "creation_date": 1574152245, "last_edit_date": 1574154499, "question_id": 58929622, "link": "https://stackoverflow.com/questions/58929622/android-facebook-login-fails-without-an-exception-just-sorry-something-went-wr", "title": "Android Facebook login fails without an exception, just &quot;Sorry something went wrong&quot;", "body": "<p>I'm trying to implement Facebook login into my app, and I'm facing a very peculiar issue, where the login process begins, fails with a very cryptic message and no exception is thrown on my app's side so I don't know what's going on.</p>\n\n<p>I'm suspecting there is something to do with me using a <code>DialogFragment</code> for my login process, and the Facebook <code>LoginButton</code> is part of this <code>DialogFragment</code> instead of a normal fragment or activity. I add the login button in my XML:</p>\n\n<pre><code> &lt;com.facebook.login.widget.LoginButton\n        android:id=\"@+id/loginFacebookButton\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginStart=\"@dimen/default_margin_double\"\n        android:layout_marginEnd=\"@dimen/default_margin_double\"\n        android:layout_marginBottom=\"@dimen/default_margin\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        tools:background=\"@drawable/rounded_blue_bg\"\n        android:layout_marginTop=\"@dimen/default_margin\"\n        android:paddingTop=\"10dp\"\n        android:paddingBottom=\"10dp\"\n        android:paddingLeft=\"@dimen/default_margin_double\"\n        app:layout_constraintBottom_toTopOf=\"@id/loginOrLayout\" /&gt;\n</code></pre>\n\n<p>And I add the callbacks in code, in my <code>onCreateDialog</code></p>\n\n<pre><code>override fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\n    val dialog = super.onCreateDialog(savedInstanceState)\n    setStyle(STYLE_NORMAL, R.style.FullscreenDialog)\n\n    val view = View.inflate(context, R.layout.fragment_login, null)\n\n    //FB Login callback manager\n    val callbackManager = CallbackManager.Factory.create()\n    val fbLoginButton = view.loginFacebookButton\n    fbLoginButton.fragment = this\n    fbLoginButton.setPermissions(listOf(\"name\", \"email\", \"public_profile\"))\n    fbLoginButton.loginBehavior = LoginBehavior.NATIVE_WITH_FALLBACK\n    fbLoginButton.registerCallback(callbackManager,\n            object : FacebookCallback&lt;LoginResult&gt; {\n                override fun onSuccess(loginResult: LoginResult) {\n                    fbLoginSuccessful(loginResult)\n                }\n\n                override fun onCancel() {}\n\n                override fun onError(exception: FacebookException) {\n                    Log.w(TAG, \"onError: Failed to login with FB.\", exception)\n                    loginFailed(exception.localizedMessage)\n                }\n            })\n\n    return dialog\n}\n</code></pre>\n\n<p>When I press the login button, I get a loading ProgressBar, then the Facebook app opens, I tap on my account, and then after some more loading, I get this screen: </p>\n\n<p><a href=\"https://i.stack.imgur.com/MZNfH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MZNfH.png\" alt=\"Facebook Login Error\"></a></p>\n\n<p>I've followed the documentation <a href=\"https://developers.facebook.com/docs/facebook-login/android/\" rel=\"noreferrer\">here</a> but I cannot seem to get it to work. Any help is greatly appreciated. I even printed the key hash from within my code as mentioned <a href=\"https://developers.facebook.com/docs/facebook-login/android/advanced\" rel=\"noreferrer\">here in the documnetation</a>, and I have the correct hashes ion the developer console, but still get the errors. Thank you</p>\n"}, {"tags": ["kotlin", "spring-security", "spring-boot-admin"], "comments": [{"owner": {"reputation": 320, "user_id": 6574013, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1c0d183f992ff476d27c38a0c3184440?s=128&d=identicon&r=PG&f=1", "display_name": "marie", "link": "https://stackoverflow.com/users/6574013/marie"}, "edited": false, "score": 0, "creation_date": 1578928350, "post_id": 58929368, "comment_id": 105589007, "body": "I have the same issue. Could you find a way to fix it?"}], "answers": [{"comments": [{"owner": {"reputation": 3110, "user_id": 5602214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FM5gL.jpg?s=128&g=1", "display_name": "Prashant", "link": "https://stackoverflow.com/users/5602214/prashant"}, "edited": false, "score": 0, "creation_date": 1580004341, "post_id": 59912027, "comment_id": 105954811, "body": "Thanks @Sergey. It&#39;s never too late to answer a question. Will certainly be useful to everyone facing this issue."}], "tags": [], "owner": {"reputation": 36, "user_id": 10493131, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9pbogWQ1EzU/AAAAAAAAAAI/AAAAAAAAAGg/nxCZqwf0G8o/photo.jpg?sz=128", "display_name": "Sergey", "link": "https://stackoverflow.com/users/10493131/sergey"}, "is_accepted": true, "score": 2, "last_activity_date": 1594667126, "last_edit_date": 1594667126, "creation_date": 1579975558, "answer_id": 59912027, "question_id": 58929368, "link": "https://stackoverflow.com/questions/58929368/error-creating-bean-named-conversionservicepostprocessor-when-using-spring-boo/59912027#59912027", "title": "Error creating bean named `conversionServicePostProcessor` when using spring-boot-admin-server", "body": "<p>I found a pull request to update the documentation: <a href=\"https://github.com/spring-projects/spring-boot/issues/14069\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/14069</a></p>\n<blockquote>\n<p>For Reactive WebSockets,\n{spring-reference}web-reactive.html#webflux-websocket[Spring WebFlux] offers rich support,\nwhich is accessible through the <code>spring-boot-starter-webflux</code> module.\nSee the <code>spring-boot-sample-websocket-reactive</code> sample project to see how WebSockets may\nbe implemented using Spring WebFlux.</p>\n</blockquote>\n<p>it turns out that using webflux and websocket leads to conflicts.</p>\n<p>also in this pull request was denied in the resolution of the conflict\n<a href=\"https://github.com/spring-projects/spring-boot/issues/14810\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/14810</a></p>\n<p>for reactive websocket see this sample <a href=\"https://www.baeldung.com/spring-5-reactive-websockets\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-5-reactive-websockets</a></p>\n"}, {"comments": [{"owner": {"reputation": 3110, "user_id": 5602214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FM5gL.jpg?s=128&g=1", "display_name": "Prashant", "link": "https://stackoverflow.com/users/5602214/prashant"}, "edited": false, "score": 0, "creation_date": 1590950157, "post_id": 62113800, "comment_id": 109868602, "body": "Unlike you, for me, the exception was thrown when packaging was Jar."}], "tags": [], "owner": {"reputation": 31, "user_id": 4640800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a4be53db8611d787591b125142f6e55?s=128&d=identicon&r=PG&f=1", "display_name": "unixfan", "link": "https://stackoverflow.com/users/4640800/unixfan"}, "is_accepted": false, "score": 2, "last_activity_date": 1590915400, "creation_date": 1590915400, "answer_id": 62113800, "question_id": 58929368, "link": "https://stackoverflow.com/questions/58929368/error-creating-bean-named-conversionservicepostprocessor-when-using-spring-boo/62113800#62113800", "title": "Error creating bean named `conversionServicePostProcessor` when using spring-boot-admin-server", "body": "<p>I had the same issue and was able solve it by adding</p>\n\n<pre><code>spring.main.allow-bean-definition-overriding=true\n</code></pre>\n\n<p>to my application.properties.</p>\n\n<p>Sounds like a workaround and it was also only necessary if I deployed it as WAR -- as a standalone application the exception never occured.</p>\n"}], "owner": {"reputation": 3110, "user_id": 5602214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FM5gL.jpg?s=128&g=1", "display_name": "Prashant", "link": "https://stackoverflow.com/users/5602214/prashant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2796, "favorite_count": 1, "accepted_answer_id": 59912027, "answer_count": 2, "score": 7, "last_activity_date": 1594667126, "creation_date": 1574151278, "question_id": 58929368, "link": "https://stackoverflow.com/questions/58929368/error-creating-bean-named-conversionservicepostprocessor-when-using-spring-boo", "title": "Error creating bean named `conversionServicePostProcessor` when using spring-boot-admin-server", "body": "<p>I was trying to enable Spring boot admin server for my application. The default settings work perfectly fine but when I attempt to enable security, I am getting following error:</p>\n\n<blockquote>\n  <hr>\n  \n  <p>APPLICATION FAILED TO START</p>\n  \n  <hr>\n  \n  <p>Description:</p>\n  \n  <p>The bean 'conversionServicePostProcessor', defined in class path\n  resource\n  [org/springframework/security/config/annotation/web/configuration/WebSecurityConfiguration.class],\n  could not be registered. A bean with that name has already been\n  defined in class path resource\n  [org/springframework/security/config/annotation/web/reactive/WebFluxSecurityConfiguration.class]\n  and overriding is disabled.</p>\n  \n  <p>Action:</p>\n  \n  <p>Consider renaming one of the beans or enabling overriding by setting\n  spring.main.allow-bean-definition-overriding=true</p>\n  \n  <p>Process finished with exit code 1</p>\n</blockquote>\n\n<p>I am using the latest SNAPSHOT version of <code>spring-boot-admin-starter-server</code> (2.2.0-SNAPSHOT). Here is my security configuration:</p>\n\n<pre><code>@EnableAdminServer\n@EnableWebFluxSecurity\n@Configuration(proxyBeanMethods = false)\nclass AdminServerSecurityConfigurations(val adminServerProperties: AdminServerProperties) {\n\n    @Bean\n    fun adminServerSecurityWebFilterChain(http: ServerHttpSecurity): SecurityWebFilterChain = http\n            // @formatter:off\n            .authorizeExchange()\n                .pathMatchers(\"${adminServerProperties.contextPath}/assets/**\").permitAll()\n                .pathMatchers(\"${adminServerProperties.contextPath}/login\").permitAll()\n                .anyExchange().authenticated().and()\n            .formLogin().loginPage(\"${adminServerProperties.contextPath}/login\").and()\n            .logout().logoutUrl(\"${adminServerProperties.contextPath}/logout\").and()\n            .httpBasic().and()\n            // @formatter:on\n            .csrf().disable()\n            .build()\n\n\n    @Bean\n    fun notifyLogger(instanceRepository: InstanceRepository) = LoggingNotifier(instanceRepository)\n\n}\n</code></pre>\n"}, {"tags": ["inheritance", "kotlin", "static"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 6189249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a7fa6c5033b37421950343ceae110ee?s=128&d=identicon&r=PG&f=1", "display_name": "Vojt\u011bch \u010cern&#253;", "link": "https://stackoverflow.com/users/6189249/vojt%c4%9bch-%c4%8cern%c3%bd"}, "edited": false, "score": 0, "creation_date": 1574155420, "post_id": 58929727, "comment_id": 104120754, "body": "I must say, it&#39;s an improvement from my original solution, thank you. It looks better. It somewhat feels wrong that the constructor has a parameter that always receives the same value, but since it only gets called from the invoke function in companion object, it may be counted as an internal construct (if you make the the default constructor protected). Cool. I&#39;ll still leave the question open if anybody has other ideas."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 23, "user_id": 6189249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a7fa6c5033b37421950343ceae110ee?s=128&d=identicon&r=PG&f=1", "display_name": "Vojt\u011bch \u010cern&#253;", "link": "https://stackoverflow.com/users/6189249/vojt%c4%9bch-%c4%8cern%c3%bd"}, "edited": false, "score": 0, "creation_date": 1574158857, "post_id": 58929727, "comment_id": 104122722, "body": "@Vojt\u011bch\u010cern&#253; it just depends on how you use it... I thought that keeping the constructor visible makes more sense in case you require objects with own lists...  but if it is really that static, making it private may make more sense... if by &quot;leave the question open&quot; you mean: not accepting the answer yet, I am fine with it...  just added another variant using an extension property... maybe you like that more..."}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 1, "last_activity_date": 1574158774, "last_edit_date": 1574158774, "creation_date": 1574152649, "answer_id": 58929727, "question_id": 58929234, "link": "https://stackoverflow.com/questions/58929234/what-is-the-kotlin-way-to-access-members-both-statically-and-non-statically-in-a/58929727#58929727", "title": "What is the Kotlin way to access members both statically and non-statically in a class hierarchy?", "body": "<p>What about doing it the other way around, i.e. pass the list from outside, e.g.:</p>\n\n<pre><code>abstract class Base(val params : List&lt;Int&gt;)\n\nclass A(params : List&lt;Int&gt;) : Base(params)\n</code></pre>\n\n<p>and on the object creation side just hold that \"static\" list and pass it to your newly created objects:</p>\n\n<pre><code>val staticParams = listOf(1, 3)\nval oneOfManyA = A(staticParams)\n</code></pre>\n\n<p>If you still want that look&amp;feel of instantiating the <code>A</code> alone without passing the static parameters and/or by holding them in the companion, you can still do so by using the <code>invoke</code>-operator:</p>\n\n<pre><code>class A(params : List&lt;Int&gt;) : Base(params) {\n  companion object {\n    private val staticParams = listOf(1, 3)\n    operator fun invoke() = A(staticParams)\n  }\n}\n</code></pre>\n\n<p>now you can just call it as follows and it will instantiate with the static parameters from the companion object:</p>\n\n<pre><code>A()\n</code></pre>\n\n<p>Note also: as long as you pass the list as is, all lists share the same contents (as you only pass the reference of the original list)... if you would use something like <code>staticParams.toList()</code> you basically create your own new list that will be passed instead, which is disconnected from the original list.</p>\n\n<p>Depending on what you really want to do an extension property might also fit the purpose (that's not a recommendation, just a way to solve the issue ;-)):</p>\n\n<pre><code>abstract class Base\nclass A : Base()\n\n\nval A.params\n      get() = listOf(1, 3)\n\n// or:\nval staticParams = listOf(1, 3)\nval A.params\n      get() = staticParams\n</code></pre>\n\n<p>That way you can spare <code>companion object</code>, etc. and have your static list directly attached to <code>A</code>. This has its own drawbacks but could be a solution as well...</p>\n"}], "owner": {"reputation": 23, "user_id": 6189249, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a7fa6c5033b37421950343ceae110ee?s=128&d=identicon&r=PG&f=1", "display_name": "Vojt\u011bch \u010cern&#253;", "link": "https://stackoverflow.com/users/6189249/vojt%c4%9bch-%c4%8cern%c3%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 58929727, "answer_count": 1, "score": 0, "last_activity_date": 1574171507, "creation_date": 1574150737, "last_edit_date": 1574171507, "question_id": 58929234, "link": "https://stackoverflow.com/questions/58929234/what-is-the-kotlin-way-to-access-members-both-statically-and-non-statically-in-a", "title": "What is the Kotlin way to access members both statically and non-statically in a class hierarchy?", "body": "<p>I have the following design that I want to implement in Kotlin:</p>\n\n<p>A non-trivial size of a class hierarchy, sharing a common root (let's call it <code>Base</code>). All classes of this hierarchy have some parameters, which should be accessible both statically (because they are needed in factory methods) and dynamically (because they are needed from outside code). Plus, since I'll be creating a lot of instances of these classes, I'd like to avoid instantiating a list/set of attributes for each instance.</p>\n\n<p>Here is what I've been able to put together, which works, but feels really ugly.</p>\n\n<pre><code>abstract class Base {\n    open val params: List&lt;Int&gt; get() = Companion.params\n\n    companion object : BaseCompanion()\n}\nabstract class BaseCompanion {\n    open val params: List&lt;Int&gt; = emptyList&lt;Int&gt;()\n}\n\nclass A: Base() {\n    override val params: List&lt;Int&gt; get() = Companion.params\n\n    companion object : BaseCompanion() {\n        override val params: List&lt;Int&gt; = listOf(1, 3)\n    }\n}\n</code></pre>\n\n<p>The part that feels really clunky is that every class that inherits from <code>Base</code> has to:</p>\n\n<ul>\n<li>Have a companion object that inherits from BaseCompanion (it's actually not needed here, but I need something to pass to generic factory methods).</li>\n<li>Include their own static variable params in it.</li>\n<li>Override the params property such that it returns values from its own companion object.</li>\n</ul>\n\n<p>Is there a better, more Kotlin, way of doing this?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1574149127, "post_id": 58928757, "comment_id": 104117810, "body": "post error logs"}, {"owner": {"reputation": 53, "user_id": 12224447, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jcfqamnONgM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdJsjv0SQaKLMetX-FQ1t6mgWNVlQ/photo.jpg?sz=128", "display_name": "Mughira Dar", "link": "https://stackoverflow.com/users/12224447/mughira-dar"}, "reply_to_user": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1574149227, "post_id": 58928757, "comment_id": 104117847, "body": "I can&#39;t understand what you say because I&#39;m a beginner level developer. Kindly if it possible u can share the exact code changing what I can do in this code for successfully tuning"}, {"owner": {"reputation": 53, "user_id": 12224447, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jcfqamnONgM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdJsjv0SQaKLMetX-FQ1t6mgWNVlQ/photo.jpg?sz=128", "display_name": "Mughira Dar", "link": "https://stackoverflow.com/users/12224447/mughira-dar"}, "reply_to_user": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1574149276, "post_id": 58928757, "comment_id": 104117862, "body": "@AtifAbbAsi. I can&#39;t understand what you say because I&#39;m a beginner level developer. Kindly if it possible u can share the exact code changing what I can do in this code for successfully tuning"}, {"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1574155814, "post_id": 58928757, "comment_id": 104120976, "body": "post response or logs you are getting  in response."}, {"owner": {"reputation": 53, "user_id": 12224447, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jcfqamnONgM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdJsjv0SQaKLMetX-FQ1t6mgWNVlQ/photo.jpg?sz=128", "display_name": "Mughira Dar", "link": "https://stackoverflow.com/users/12224447/mughira-dar"}, "reply_to_user": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1574156837, "post_id": 58928757, "comment_id": 104121547, "body": "@AtifAbbAsi can you Kindly send me the code"}, {"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1574156915, "post_id": 58928757, "comment_id": 104121588, "body": "<a href=\"https://github.com/AtifAbbAsi19/Login-Tutorial-Mysql-Php-Volley\" rel=\"nofollow noreferrer\">github.com/AtifAbbAsi19/Login-Tutorial-Mysql-Php-Volley</a> check out this link"}, {"owner": {"reputation": 53, "user_id": 12224447, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jcfqamnONgM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdJsjv0SQaKLMetX-FQ1t6mgWNVlQ/photo.jpg?sz=128", "display_name": "Mughira Dar", "link": "https://stackoverflow.com/users/12224447/mughira-dar"}, "reply_to_user": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1574157588, "post_id": 58928757, "comment_id": 104121978, "body": "I can&#39;t handle this problem"}, {"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1574157685, "post_id": 58928757, "comment_id": 104122042, "body": "you have to try yourself first"}, {"owner": {"reputation": 2225, "user_id": 5002179, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/zWz2b.jpg?s=128&g=1", "display_name": "MurugananthamS", "link": "https://stackoverflow.com/users/5002179/murugananthams"}, "edited": false, "score": 0, "creation_date": 1574159960, "post_id": 58928757, "comment_id": 104123411, "body": "bottom of your android studio &quot;LogCat&quot; is available, while running your code what kind of error or response was displayed, kindly post here"}, {"owner": {"reputation": 53, "user_id": 12224447, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jcfqamnONgM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdJsjv0SQaKLMetX-FQ1t6mgWNVlQ/photo.jpg?sz=128", "display_name": "Mughira Dar", "link": "https://stackoverflow.com/users/12224447/mughira-dar"}, "edited": false, "score": 0, "creation_date": 1574160294, "post_id": 58928757, "comment_id": 104123591, "body": "errorCode = 3 2019-11-19 15:44:15.215 704-1895/? E/CamX: [ERROR][CORE   ] camxsession.cpp:3376 InjectResult() Result holder NULL for seqId: 6, this request may be flushed out already. 2019-11-19 15:44:15.219 839-32047/? E/CameraDeviceClient: Disconnect from CameraDeviceClient"}, {"owner": {"reputation": 53, "user_id": 12224447, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jcfqamnONgM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdJsjv0SQaKLMetX-FQ1t6mgWNVlQ/photo.jpg?sz=128", "display_name": "Mughira Dar", "link": "https://stackoverflow.com/users/12224447/mughira-dar"}, "reply_to_user": {"reputation": 2225, "user_id": 5002179, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/zWz2b.jpg?s=128&g=1", "display_name": "MurugananthamS", "link": "https://stackoverflow.com/users/5002179/murugananthams"}, "edited": false, "score": 0, "creation_date": 1574160353, "post_id": 58928757, "comment_id": 104123643, "body": "@MurugananthamS.  I can paste the logcat error in the comment above Kindly share me solution if you understand what the main issue is .....Kindly"}, {"owner": {"reputation": 2225, "user_id": 5002179, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/zWz2b.jpg?s=128&g=1", "display_name": "MurugananthamS", "link": "https://stackoverflow.com/users/5002179/murugananthams"}, "edited": false, "score": 0, "creation_date": 1574160481, "post_id": 58928757, "comment_id": 104123723, "body": "kindly post your logcat response in your question part not in comment box, then only other developers can saw this,"}, {"owner": {"reputation": 53, "user_id": 12224447, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jcfqamnONgM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdJsjv0SQaKLMetX-FQ1t6mgWNVlQ/photo.jpg?sz=128", "display_name": "Mughira Dar", "link": "https://stackoverflow.com/users/12224447/mughira-dar"}, "edited": false, "score": 0, "creation_date": 1574163347, "post_id": 58928757, "comment_id": 104125359, "body": "the only problem is I can&#39;t make http traffic in manifest true"}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 12224447, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jcfqamnONgM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdJsjv0SQaKLMetX-FQ1t6mgWNVlQ/photo.jpg?sz=128", "display_name": "Mughira Dar", "link": "https://stackoverflow.com/users/12224447/mughira-dar"}, "is_accepted": true, "score": 0, "last_activity_date": 1574163859, "creation_date": 1574163859, "answer_id": 58933359, "question_id": 58928757, "link": "https://stackoverflow.com/questions/58928757/json-object-post-volley-request-cant-send-shows-volley-failure-message/58933359#58933359", "title": "JSON object post volley request can&#39;t send , shows volley failure message", "body": "<p>The code given above is exactly write . I just forget to make httptrafficlibrary true in manifest that is false by default.</p>\n"}], "owner": {"reputation": 53, "user_id": 12224447, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-jcfqamnONgM/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdJsjv0SQaKLMetX-FQ1t6mgWNVlQ/photo.jpg?sz=128", "display_name": "Mughira Dar", "link": "https://stackoverflow.com/users/12224447/mughira-dar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 58933359, "answer_count": 1, "score": 0, "last_activity_date": 1574163859, "creation_date": 1574148781, "last_edit_date": 1574150776, "question_id": 58928757, "link": "https://stackoverflow.com/questions/58928757/json-object-post-volley-request-cant-send-shows-volley-failure-message", "title": "JSON object post volley request can&#39;t send , shows volley failure message", "body": "<p>I can send JSON object request to post data on the server using volley but can't work properly. It always shows a volley failure error. I tried it many times but. I can't know why it happens Kindly share with me the preferable answer Kindly.   </p>\n\n<pre><code> private fun login() {\n\n            val params = JSONObject()\n            params.put(\"email\",login_email.text.toString())\n            params.put(\"password\",login_password.text.toString())\n\n\n            val url = \"http://192.168.10.100/fitness_app/api/v1/login\"\n\n\n            val queue = Volley.newRequestQueue(this)\n\n            val request = object : JsonObjectRequest(\n                Request.Method.POST,url,params,\n                Response.Listener&lt;JSONObject&gt; { response -&gt;\n\n                    val code = response.getInt(\"code\")\n                    if(code==101)\n\n                    {\n                        Toast.makeText(this,\"Successfully login\", Toast.LENGTH_SHORT).show()\n                    }\n\n                    else if(code==102)\n\n                    {\n                        Toast.makeText(this,\"Unauthorized user\", Toast.LENGTH_SHORT).show()\n                    }\n\n                    else if(code==103)\n\n                    {\n                        Toast.makeText(this,\"Email does not exist\", Toast.LENGTH_SHORT).show()\n                    }\n\n                }, Response.ErrorListener {\n                    Toast.makeText(this,\"Something went wrong. Please try later.Volley Error\", Toast.LENGTH_SHORT).show()\n                }\n            )\n            {\n\n            }\n            queue.add(request)\n        }\n\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-architecture-components", "android-workmanager"], "answers": [{"comments": [{"owner": {"reputation": 15841, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "edited": false, "score": 1, "creation_date": 1574144661, "post_id": 58927738, "comment_id": 104116085, "body": "Worked like a charm. Thanks a lot, great to see you answering my question. You have been a huge help here on SO, throughout my learning."}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "reply_to_user": {"reputation": 15841, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "edited": false, "score": 1, "creation_date": 1574144690, "post_id": 58927738, "comment_id": 104116092, "body": "Thanks for the kind words! Best of luck going forward :)"}, {"owner": {"reputation": 3875, "user_id": 9101876, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8c370f6d96ccaa54d34b81a5eb712f66?s=128&d=identicon&r=PG&f=1", "display_name": "Alexa289", "link": "https://stackoverflow.com/users/9101876/alexa289"}, "edited": false, "score": 0, "creation_date": 1598412966, "post_id": 58927738, "comment_id": 112447602, "body": "I have tried to use this code like this <a href=\"https://i.stack.imgur.com/RUFNJ.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/RUFNJ.png</a> , but when I click notification, it will bring me to home, not to inbox destination that I want. the destination_inbox is a menu in my bottom navigation bar like this <a href=\"https://i.stack.imgur.com/MF0UR.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/MF0UR.png</a>. am I missing something ? :("}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "reply_to_user": {"reputation": 3875, "user_id": 9101876, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8c370f6d96ccaa54d34b81a5eb712f66?s=128&d=identicon&r=PG&f=1", "display_name": "Alexa289", "link": "https://stackoverflow.com/users/9101876/alexa289"}, "edited": false, "score": 0, "creation_date": 1598419537, "post_id": 58927738, "comment_id": 112449042, "body": "@Alexa289 - <code>destination_inbox</code> needs to be a destination in your navigation graph XML. If deep linking to a destination in your graph isn&#39;t working, you could always <a href=\"https://issuetracker.google.com/issues/new?component=409828\" rel=\"nofollow noreferrer\">file a bug against Navigation</a> with a minimal sample project that reproduces your issue."}, {"owner": {"reputation": 3875, "user_id": 9101876, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8c370f6d96ccaa54d34b81a5eb712f66?s=128&d=identicon&r=PG&f=1", "display_name": "Alexa289", "link": "https://stackoverflow.com/users/9101876/alexa289"}, "edited": false, "score": 0, "creation_date": 1598422898, "post_id": 58927738, "comment_id": 112450055, "body": "@ianhanniballake yup, I believe the inbox destination is already in xml graph like this <a href=\"https://i.stack.imgur.com/7EXsb.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/7EXsb.png</a> , in gradle I am using  implementation &quot;androidx.navigation:navigation-fragment-ktx:2.3.0&quot; and implementation &quot;androidx.navigation:navigation-ui-ktx:2.3.0&quot;"}, {"owner": {"reputation": 3875, "user_id": 9101876, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8c370f6d96ccaa54d34b81a5eb712f66?s=128&d=identicon&r=PG&f=1", "display_name": "Alexa289", "link": "https://stackoverflow.com/users/9101876/alexa289"}, "reply_to_user": {"reputation": 700, "user_id": 3346167, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/2Bkbf.jpg?s=128&g=1", "display_name": "ShahrozKhan91", "link": "https://stackoverflow.com/users/3346167/shahrozkhan91"}, "edited": false, "score": 0, "creation_date": 1601814698, "post_id": 58927738, "comment_id": 113516724, "body": "@ShahrozKhan91 yup, If you have more than one Activity, then you should add .setComponentName(MainActivity::class.java) <a href=\"https://stackoverflow.com/a/55245317/9605341\">stackoverflow.com/a/55245317/9605341</a>"}, {"owner": {"reputation": 885, "user_id": 7682510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c8cdcccfa782ed6d07bd76b2d9ebda9?s=128&d=identicon&r=PG&f=1", "display_name": "Yeldar.N", "link": "https://stackoverflow.com/users/7682510/yeldar-n"}, "edited": false, "score": 0, "creation_date": 1608799924, "post_id": 58927738, "comment_id": 115687937, "body": "Hi, how do I achieve this when the app is running in the background?"}, {"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "reply_to_user": {"reputation": 885, "user_id": 7682510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c8cdcccfa782ed6d07bd76b2d9ebda9?s=128&d=identicon&r=PG&f=1", "display_name": "Yeldar.N", "link": "https://stackoverflow.com/users/7682510/yeldar-n"}, "edited": false, "score": 0, "creation_date": 1608829750, "post_id": 58927738, "comment_id": 115697295, "body": "@Yeldar.N - on Android 10+ devices you <a href=\"https://developer.android.com/guide/components/activities/background-starts\" rel=\"nofollow noreferrer\">cannot start an activity from the background</a>. The guidance there of starting a <a href=\"https://developer.android.com/training/notify-user/time-sensitive\" rel=\"nofollow noreferrer\">time-sensitive notification</a> applies to all API levels as the recommended pattern. All of the PendingIntents used there can be generated with <code>NavDeepLinkBuilder</code>."}, {"owner": {"reputation": 373, "user_id": 7680523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c160da92a339fa6eb2209de7db5767e2?s=128&d=identicon&r=PG&f=1", "display_name": "ilatyphi95", "link": "https://stackoverflow.com/users/7680523/ilatyphi95"}, "reply_to_user": {"reputation": 3875, "user_id": 9101876, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/8c370f6d96ccaa54d34b81a5eb712f66?s=128&d=identicon&r=PG&f=1", "display_name": "Alexa289", "link": "https://stackoverflow.com/users/9101876/alexa289"}, "edited": false, "score": 0, "creation_date": 1614416579, "post_id": 58927738, "comment_id": 117382810, "body": "@Alexa289 - check out the answer provided <a href=\"https://stackoverflow.com/a/66397131/7680523\">bellow</a>"}], "tags": [], "owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "is_accepted": true, "score": 7, "last_activity_date": 1574144182, "creation_date": 1574144182, "answer_id": 58927738, "question_id": 58927580, "link": "https://stackoverflow.com/questions/58927580/launch-a-particular-fragment-using-navigation-component-when-tapped-on-notificat/58927738#58927738", "title": "Launch a particular Fragment using Navigation component when tapped on Notification that is sent from WorkManager", "body": "<p>As per the <a href=\"https://developer.android.com/guide/navigation/navigation-deep-link#explicit\" rel=\"noreferrer\">Create an explicit deep link documentation</a>, you should be using the <a href=\"https://developer.android.com/reference/androidx/navigation/NavDeepLinkBuilder\" rel=\"noreferrer\"><code>NavDeepLinkBuilder</code></a> class:</p>\n\n<pre><code>fun pendingIntent(context: Context): PendingIntent {\n    return NavDeepLinkBuilder(context)\n       .setGraph(R.navigation.your_navigation)\n       .setDestination(R.id.android)\n       .createPendingIntent()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 373, "user_id": 7680523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c160da92a339fa6eb2209de7db5767e2?s=128&d=identicon&r=PG&f=1", "display_name": "ilatyphi95", "link": "https://stackoverflow.com/users/7680523/ilatyphi95"}, "is_accepted": false, "score": 0, "last_activity_date": 1614416263, "creation_date": 1614416263, "answer_id": 66397131, "question_id": 58927580, "link": "https://stackoverflow.com/questions/58927580/launch-a-particular-fragment-using-navigation-component-when-tapped-on-notificat/66397131#66397131", "title": "Launch a particular Fragment using Navigation component when tapped on Notification that is sent from WorkManager", "body": "<p>This answer is <strong>more suited</strong> for the question asked by @Alexa289 <a href=\"https://stackoverflow.com/questions/63589481/how-to-move-to-a-certain-fragment-destination-after-clicking-push-notification-m?noredirect=1&amp;lq=1\">here</a> <strong>but</strong> since the question was <strong>closed</strong> on the basis that this is a similar question and answer provided by @ianhanniballeke should suffice. I am compelled to write the answer here. The answer provided by @ianhanniballake is brillant but it only work for certain condition when dealing with <code>onMessageReceived()</code> of a class extending <code>FirebaseMessagingService()</code>. When the activity is in foreground, the service provide activity based context hence the code works fine, but when the activity is not in foreground, the class provide service based context, hence the pendingIntent created from NavDeepLinkBuilder works differently. So here goes my solution for the non-foreground cases.\nFirstly, create the pendingIntent through the usual way</p>\n<pre><code>fun pendingIntent(context: Context): PendingIntent {\n    return NavDeepLinkBuilder(context)\n       .setGraph(R.navigation.your_navigation)\n       .setDestination(R.id.android)\n       .createPendingIntent()\n}\n</code></pre>\n<p>then you need to catch the pending intent through intent filter in the android manifest like this</p>\n<pre><code>        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;*TheClassNameOfFragmentYourDestinationPointsTo*&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n        &lt;/intent-filter&gt;\n</code></pre>\n<p>Then from the home fragment, you can grab the intent that start the activity like this</p>\n<pre><code>val intent = (activity as? AppCompatActivity)?.intent\n</code></pre>\n<p>From the <strong>intent</strong> you can extract the extras in the bundle then navigate to the fragment you wish to like this</p>\n<pre><code>findNavController().navigate(R.id.android)\n</code></pre>\n"}], "owner": {"reputation": 15841, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2050, "favorite_count": 2, "accepted_answer_id": 58927738, "answer_count": 2, "score": 3, "last_activity_date": 1614416263, "creation_date": 1574143293, "question_id": 58927580, "link": "https://stackoverflow.com/questions/58927580/launch-a-particular-fragment-using-navigation-component-when-tapped-on-notificat", "title": "Launch a particular Fragment using Navigation component when tapped on Notification that is sent from WorkManager", "body": "<p>I'm sending a daily notification to the user based on a condition from the <a href=\"https://developer.android.com/reference/androidx/work/Worker\" rel=\"nofollow noreferrer\">Worker</a> that is launched using BroadcastReceiver. From <code>Worker</code> I only have <code>context</code> for sending notification.</p>\n\n<pre><code>NotificationCompat.Builder(context, CHANNEL_ID).apply {\n    setContentTitle(...)\n    setContentText(...)\n    setContentIntent(pendingIntent(context)) \n}.build()\n</code></pre>\n\n<p>How do I create <code>PendingIntent</code> for launching a particular fragment using Navigation component?</p>\n\n<p>I tried this:</p>\n\n<pre><code>fun pendingIntent(context: Context): PendingIntent {\n    val navController = NavController(context.applicationContext)\n    navController.setGraph(R.navigation.your_navigation)\n    return navController.createDeepLink()\n        .setDestination(R.id.yourFragment)\n        .createPendingIntent()\n}\n</code></pre>\n\n<p>But I get following exceptions:</p>\n\n<pre><code>Caused by: java.lang.RuntimeException: Exception inflating package.name:navigation/your_navigation line 7\n        at androidx.navigation.NavInflater.inflate(NavInflater.java:90)\n        at androidx.navigation.NavController.setGraph(NavController.java:425)\n        at androidx.navigation.NavController.setGraph(NavController.java:407)\n        at \n        ......\n        at package.name.Worker.doWork(Worker.kt:15)\n        at androidx.work.Worker$1.run(Worker.java:85)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\u00a0\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\u00a0\n        at java.lang.Thread.run(Thread.java:761)\u00a0\nCaused by: java.lang.IllegalStateException: Could not find Navigator with name \"fragment\". You must call NavController.addNavigator() for each navigation type.\n        at androidx.navigation.NavigatorProvider.getNavigator(NavigatorProvider.java:98)\n        at androidx.navigation.NavInflater.inflate(NavInflater.java:100)\n        at androidx.navigation.NavInflater.inflate(NavInflater.java:132)\n        at androidx.navigation.NavInflater.inflate(NavInflater.java:81)\n        at androidx.navigation.NavController.setGraph(NavController.java:425)\u00a0\n        at androidx.navigation.NavController.setGraph(NavController.java:407)\u00a0\n        at package.name.NotificationKt.pendingIntent(Notification.kt:57)\u00a0\n        at package.name.buildNotificationFor(Notification.kt:50)\u00a0\n        at package.name.showNotificationFor(Notification.kt:22)\u00a0\n        at package.name.doWork(Worker.kt:15)\u00a0\n        at androidx.work.Worker$1.run(Worker.java:85)\u00a0\n</code></pre>\n"}]