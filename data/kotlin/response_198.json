[{"tags": ["android", "api", "kotlin"], "comments": [{"owner": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 0, "creation_date": 1540427554, "post_id": 52979496, "comment_id": 92865800, "body": "Welcome to StackOverflow. You should at least try using one of the code samples for each API call as it is available in 8 different languages at the bottom of each API page: <a href=\"https://developer.wmata.com/docs/services/5476364f031f590f38092507/operations/5476364f031f5909e4fe330c\" rel=\"nofollow noreferrer\">developer.wmata.com/docs/services/5476364f031f590f38092507/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 918, "user_id": 9883943, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Sinan Ceylan", "link": "https://stackoverflow.com/users/9883943/sinan-ceylan"}, "is_accepted": true, "score": 0, "last_activity_date": 1540428238, "creation_date": 1540428238, "answer_id": 52979778, "question_id": 52979496, "link": "https://stackoverflow.com/questions/52979496/how-can-i-connect-to-wmata-api/52979778#52979778", "title": "How can I connect to WMATA API?", "body": "<p>No, you don't need OAuthToken or any Auth method, you just need to send your api_key at request header. There are a lot of example on wmata documentation. You can use Java examples as a reference for Kotlin.\n<a href=\"https://developer.wmata.com/docs/services/54763629281d83086473f231/operations/5476362a281d830c946a3d6a?\" rel=\"nofollow noreferrer\">Look at the Java section bottom of this page</a> and find this line:</p>\n\n<pre><code>request.setHeader(\"api_key\", \"{subscription key}\");\n</code></pre>\n\n<p>Change </p>\n\n<blockquote>\n  <p>{subscription key}</p>\n</blockquote>\n\n<p>with your API Key</p>\n"}], "owner": {"reputation": 5, "user_id": 7787791, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lq5US.jpg?s=128&g=1", "display_name": "Yassine98", "link": "https://stackoverflow.com/users/7787791/yassine98"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 52979778, "answer_count": 1, "score": 0, "last_activity_date": 1540428238, "creation_date": 1540425499, "question_id": 52979496, "link": "https://stackoverflow.com/questions/52979496/how-can-i-connect-to-wmata-api", "title": "How can I connect to WMATA API?", "body": "<p>I am working on a project using WMATA (DC Metro) API and I need to retrieve some data such as stations names, pathing of two stations...\nI have an API Key but I don't know to do the networking part. \nShould WMATA return an OAuthToken? How can I send a request?</p>\n"}, {"tags": ["lambda", "kotlin", "gradle-kotlin-dsl"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1540423416, "post_id": 52979206, "comment_id": 92864880, "body": "<a href=\"https://try.kotlinlang.org/#/Kotlin%20Koans/Conventions/Invoke/Task.kt\" rel=\"nofollow noreferrer\">try.kotlinlang.org/#/Kotlin%20Koans/Conventions/Invoke/Task.&zwnj;&#8203;kt</a>"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1540423727, "post_id": 52979206, "comment_id": 92864978, "body": "<a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html#invoke\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/operator-overloading.html#invo&zwnj;&#8203;ke</a>"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 2, "last_activity_date": 1540444200, "creation_date": 1540444200, "answer_id": 52981725, "question_id": 52979206, "link": "https://stackoverflow.com/questions/52979206/within-a-kotlin-lambda-how-does-a-string-accept-a-lambda/52981725#52981725", "title": "within a kotlin lambda, how does a string accept a lambda?", "body": "<p>This is a combination of a couple of Kotlin language features which are often used for creating <a href=\"https://kotlinlang.org/docs/reference/type-safe-builders.html\" rel=\"nofollow noreferrer\">DSLs</a>, specifically:</p>\n\n<ul>\n<li>the invoke operator, which lets you define the <code>()</code> function call operator for a type, with an arbitrary parameter list (<a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html#invoke\" rel=\"nofollow noreferrer\">docs</a>)</li>\n<li>being able to pass a last lambda parameter to a function outside the parantheses you usually need for the parameter list (<a href=\"https://kotlinlang.org/docs/reference/lambdas.html#passing-a-lambda-to-the-last-parameter\" rel=\"nofollow noreferrer\">docs</a>)</li>\n<li>extensions, letting you add new methods to existing types, even if you don't own them (<a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">docs</a>)</li>\n</ul>\n\n<p>To achieve the syntax you've asked about specifically, you could write a method like this:</p>\n\n<pre><code>operator fun String.invoke(block: () -&gt; Unit) {\n    // Do whatever you'd like with the String and the lambda\n    // you received as a parameter\n}\n</code></pre>\n\n<p>The lambda you're taking as the parameter could also be an extension on any type you'd like (perhaps <code>String</code> itself, but depends on your use case), could take parameters, or be expected to return a value instead of just <code>Unit</code>. </p>\n\n<p>The point is that inside this extension, you'll have access to the <code>String</code> it was called on as <code>this</code> and you'll have the lambda that was passed to it.</p>\n\n<hr>\n\n<p>For further reference, <a href=\"https://proandroiddev.com/writing-dsls-in-kotlin-part-1-7f5d2193f277\" rel=\"nofollow noreferrer\">here's</a> a multi-part article that shows off some DSL building techniques.</p>\n"}], "owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540444200, "creation_date": 1540423209, "question_id": 52979206, "link": "https://stackoverflow.com/questions/52979206/within-a-kotlin-lambda-how-does-a-string-accept-a-lambda", "title": "within a kotlin lambda, how does a string accept a lambda?", "body": "<p>In gradle-kotlin-dsl... this is valid code</p>\n\n<pre><code>tasks {\n   \"build\" {\n      // inner lambda code here\n</code></pre>\n\n<p>How can it work that a string can accept a lambda parameter, or else how is this syntax working?  The string \"build\" seems to one of a list of strings that substitute for function calls?\nSomething in the applicable class definition must set up this behaviour, but I cannot think how that is done.</p>\n\n<p>The way this works could be a technique that has other uses, but to evaluate that, it is necessary to know how it works!</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 9, "creation_date": 1540419122, "post_id": 52978589, "comment_id": 92863640, "body": "September 31, 2018: there are only 30 days in September (whatever the year is)."}, {"owner": {"reputation": 1240, "user_id": 4907678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtbORjvk7z8/AAAAAAAAAAI/AAAAAAAAAAA/j24q0gq8FHY/photo.jpg?sz=128", "display_name": "saiedmomen", "link": "https://stackoverflow.com/users/4907678/saiedmomen"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 5, "creation_date": 1540419251, "post_id": 52978589, "comment_id": 92863688, "body": "Wow thank you. Just so you know I&#39;m Iranian and we have our own calendar"}], "answers": [{"tags": [], "owner": {"reputation": 6514, "user_id": 3540161, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1c13eac0931a8095e04bcfeaaed371e8?s=128&d=identicon&r=PG", "display_name": "Rolf", "link": "https://stackoverflow.com/users/3540161/rolf"}, "is_accepted": true, "score": 3, "last_activity_date": 1540538412, "last_edit_date": 1540538412, "creation_date": 1540537785, "answer_id": 53003313, "question_id": 52978589, "link": "https://stackoverflow.com/questions/52978589/localdate-epochday-format-is-one-day-off/53003313#53003313", "title": "LocalDate epochDay format is one day off", "body": "<p>The comments state that, indeed, there are 30 days in September. The reason this code does not raise an error when parsing an incorrect date is because the DateFormatter is lenient by default, meaning that you can pass in September 64, 2018 and it will happily parse it for you and produce a correct epoch date.</p>\n\n<p>You can make the DateFormatter throw an error on incorrect dates by adding a strict resolver style, like so:</p>\n\n<pre><code>DateTimeFormatter\n    .ofPattern(DATE_PATTERN, Locale(\"en\", \"US\"))\n    .withResolverStyle(ResolverStyle.STRICT)\n</code></pre>\n\n<p>This will result in the following error when parsing the specified date:</p>\n\n<p><code>Text 'September 31, 2018' could not be parsed: Unable to obtain LocalDate from TemporalAccessor: {YearOfEra=2018, MonthOfYear=9, DayOfMonth=31},ISO of type java.time.format.Parsed</code></p>\n"}], "owner": {"reputation": 1240, "user_id": 4907678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtbORjvk7z8/AAAAAAAAAAI/AAAAAAAAAAA/j24q0gq8FHY/photo.jpg?sz=128", "display_name": "saiedmomen", "link": "https://stackoverflow.com/users/4907678/saiedmomen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 431, "favorite_count": 0, "accepted_answer_id": 53003313, "answer_count": 1, "score": 0, "last_activity_date": 1540538412, "creation_date": 1540419045, "last_edit_date": 1540419609, "question_id": 52978589, "link": "https://stackoverflow.com/questions/52978589/localdate-epochday-format-is-one-day-off", "title": "LocalDate epochDay format is one day off", "body": "<p>I'm trying to convert date string to epoch Day using Java8's LocalDate api.\nWhen I try to verify the conversion it is actually one day off!</p>\n\n<p>Here is the test</p>\n\n<pre><code>const val DATE_PATTERN = \"MMMM d, yyyy\"\n    @Test\n    fun `parse handles different cases`(){\n        val case1 = \"September 31, 2018\"\n        val dateTimeFormatter = DateTimeFormatter.ofPattern(DATE_PATTERN, Locale(\"en\", \"US\"))\n        val date1: Long = LocalDate.parse(case1, dateTimeFormatter).toEpochDay()\n        val case1Res = LocalDate.ofEpochDay(date1).format(dateTimeFormatter)\n        assertEquals(case1, case1Res)\n     }\n</code></pre>\n\n<p>The assertion fails with</p>\n\n<pre><code>expected: &lt;September 31, 2018&gt; but was: &lt;September 30, 2018&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "mockk"], "answers": [{"comments": [{"owner": {"reputation": 8946, "user_id": 5675325, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/rM1RC.png?s=128&g=1", "display_name": "Tiago Martins Peres \u674e\u5927\u4ec1", "link": "https://stackoverflow.com/users/5675325/tiago-martins-peres-%e6%9d%8e%e5%a4%a7%e4%bb%81"}, "edited": false, "score": 2, "creation_date": 1540465063, "post_id": 52981056, "comment_id": 92880398, "body": "While this code may answer the question, providing additional context regarding how and/or why it solves the problem would improve the answer&#39;s long-term value."}], "tags": [], "owner": {"reputation": 1494, "user_id": 3742196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXFwn.jpg?s=128&g=1", "display_name": "oleksiyp", "link": "https://stackoverflow.com/users/3742196/oleksiyp"}, "is_accepted": true, "score": 3, "last_activity_date": 1540439253, "creation_date": 1540439253, "answer_id": 52981056, "question_id": 52977793, "link": "https://stackoverflow.com/questions/52977793/mockk-verify-after-a-delay/52981056#52981056", "title": "mockk verify after a delay", "body": "<p>Easy:</p>\n\n<pre><code>verify(timeout = 100, atMost = 5) { sum(1, 2) }\n\nverify(timeout = 100, exactly = 0) { sum(1, 2) }\n\nverify(timeout = 100, atLeast = 1) { sum(1, 2) }\n</code></pre>\n"}], "owner": {"reputation": 17465, "user_id": 559850, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/vJfye.jpg?s=128&g=1", "display_name": "styler1972", "link": "https://stackoverflow.com/users/559850/styler1972"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1924, "favorite_count": 0, "accepted_answer_id": 52981056, "answer_count": 1, "score": 0, "last_activity_date": 1540439253, "creation_date": 1540414561, "last_edit_date": 1540417053, "question_id": 52977793, "link": "https://stackoverflow.com/questions/52977793/mockk-verify-after-a-delay", "title": "mockk verify after a delay", "body": "<p>Whats the best way to <code>verify</code> after a delay?  </p>\n\n<p>For instance, I make a method call that calls <code>postDelayed</code> on some other object, and the call I want to verify happens in that <code>run()</code> block.</p>\n\n<p>For instance, with Mockito, you can do the following:</p>\n\n<pre><code>verify(mock, after(100).atMost(5)).foo();\n\nverify(mock, after(100).never()).bar();\n\nverify(mock, after(200).atLeastOnce()).baz();\n</code></pre>\n\n<p>Is there an idiomatic or existing way with Mockk?</p>\n"}, {"tags": ["android", "kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1540440694, "post_id": 52977239, "comment_id": 92868604, "body": "Kotlin 1.3 is not release yet. You have to use EAP, if you want Kotlin 1.3"}, {"owner": {"reputation": 527, "user_id": 9941595, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0HPcFGCdzGA/AAAAAAAAAAI/AAAAAAAAAAc/mC8m6QW7vpU/photo.jpg?sz=128", "display_name": "Patryk Kubiak", "link": "https://stackoverflow.com/users/9941595/patryk-kubiak"}, "reply_to_user": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1540443567, "post_id": 52977239, "comment_id": 92869299, "body": "I&#39; am using it, but I think I do not migrate to Kotlin 1.3 correctly. I have an error on my implementation of coroutine libraries in gradle &quot;<code>library should be updated to be compatible with kotlin 1.3</code>&quot;"}, {"owner": {"reputation": 527, "user_id": 9941595, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0HPcFGCdzGA/AAAAAAAAAAI/AAAAAAAAAAc/mC8m6QW7vpU/photo.jpg?sz=128", "display_name": "Patryk Kubiak", "link": "https://stackoverflow.com/users/9941595/patryk-kubiak"}, "reply_to_user": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1540443621, "post_id": 52977239, "comment_id": 92869313, "body": "I can&#39;t find any info what version is properly."}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1540445759, "post_id": 52977239, "comment_id": 92869956, "body": "Add <code>http:&#47;&#47;dl.bintray.com&#47;kotlin&#47;kotlin-eap</code>. Current Kotlin is <code>1.3.0-rc-190</code>. Make sure you update Kotlin plugin as well. Also, it is <code>org.jetbrains.kotlinx:kotlinx-coroutines-core</code> and <code>org.jetbrains.kotlinx:kotlinx-coroutines-android</code>"}, {"owner": {"reputation": 527, "user_id": 9941595, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0HPcFGCdzGA/AAAAAAAAAAI/AAAAAAAAAAc/mC8m6QW7vpU/photo.jpg?sz=128", "display_name": "Patryk Kubiak", "link": "https://stackoverflow.com/users/9941595/patryk-kubiak"}, "reply_to_user": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1540447321, "post_id": 52977239, "comment_id": 92870523, "body": "Thanks Joshua for response! My teammate helped me to find the solution. I had to increase the coroutines version to 1.0.0-RC1"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1540448873, "post_id": 52977239, "comment_id": 92871140, "body": "@Joshua Your info is already outdated, the RC version is on Maven Central."}], "answers": [{"tags": [], "owner": {"reputation": 527, "user_id": 9941595, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0HPcFGCdzGA/AAAAAAAAAAI/AAAAAAAAAAc/mC8m6QW7vpU/photo.jpg?sz=128", "display_name": "Patryk Kubiak", "link": "https://stackoverflow.com/users/9941595/patryk-kubiak"}, "is_accepted": false, "score": 7, "last_activity_date": 1540456144, "last_edit_date": 1540456144, "creation_date": 1540448079, "answer_id": 52982482, "question_id": 52977239, "link": "https://stackoverflow.com/questions/52977239/migrate-to-kotlin-coroutines-in-android-with-kotlin-1-3/52982482#52982482", "title": "Migrate to Kotlin coroutines in Android with Kotlin 1.3", "body": "<p>My teammate helped me to find the solution. I had to increase the coroutines version to 1.0.0-RC1. For everyone who may don't know about the changes in using Android coroutines:</p>\n\n<ul>\n<li>I had to change the UI context of coroutine to Dispatchers.Main</li>\n<li>I used old experimental coroutines version (0.23 maybe) so for everyone who don't know - now launch is deprecated and you should use structured concurrency (for example <code>coroutineScope</code>) instead.</li>\n<li>Now async function cannot be run outside the scope.</li>\n</ul>\n\n<p>I hope I will help someone. Don't waste a time. Happy programming!</p>\n"}, {"tags": [], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "is_accepted": false, "score": 27, "last_activity_date": 1552470741, "last_edit_date": 1552470741, "creation_date": 1541158251, "answer_id": 53117790, "question_id": 52977239, "link": "https://stackoverflow.com/questions/52977239/migrate-to-kotlin-coroutines-in-android-with-kotlin-1-3/53117790#53117790", "title": "Migrate to Kotlin coroutines in Android with Kotlin 1.3", "body": "<p>In <code>build.gradle</code> change a library to </p>\n\n<p><code>implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.1.1'</code>.</p>\n\n<p>Remove, if was added: </p>\n\n<pre><code>kotlin {\n    experimental {\n        coroutines \"enable\"\n    }\n}\n</code></pre>\n\n<p>In code change <code>launch</code> to <code>GlobalScope.launch(Dispatchers.IO)</code> or <code>GlobalScope.launch(Dispatchers.Main)</code>.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Please, use local coroutine context instead of global scope (see, for instance, <a href=\"http://kotlinlang.org/docs/reference/coroutines/coroutine-context-and-dispatchers.html\" rel=\"noreferrer\">http://kotlinlang.org/docs/reference/coroutines/coroutine-context-and-dispatchers.html</a>).</p>\n\n<p><strong>For Activity</strong></p>\n\n<p>See <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/ui/coroutines-guide-ui.md\" rel=\"noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/blob/master/ui/coroutines-guide-ui.md</a>.</p>\n\n<p>Implement <code>CoroutineScope</code>:</p>\n\n<pre><code>class YourActivity : AppCompatActivity(), CoroutineScope {\n</code></pre>\n\n<p>Add a local variable <code>job</code> and initialize it:</p>\n\n<pre><code>private lateinit var job: Job\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    job = Job()\n}\n</code></pre>\n\n<p>Create a coroutine context and cancel it on Activity destroy:</p>\n\n<pre><code>override fun onDestroy() {\n    job.cancel()\n    super.onDestroy()\n}\n\noverride val coroutineContext: CoroutineContext\n    get() = Dispatchers.Main + job\n</code></pre>\n\n<p><strong>For Fragment</strong> (the same as in <code>Activity</code>)</p>\n\n<p>Implement CoroutineScope:</p>\n\n<pre><code>class YourFragment : Fragment(), CoroutineScope {\n</code></pre>\n\n<p>Create a local variable <code>job</code> and initialize it in <code>onCreate()</code>. (I tried to write <code>private val job: Job = Job()</code>, but bumped into problem that in <code>ViewPager</code> you will create <code>Fragment</code>s and their jobs. As we will cancel the <code>job</code> in <code>onDestroy()</code> during swiping in <code>ViewPager</code>, we should recreate the job).</p>\n\n<pre><code>private lateinit var job: Job\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    ...\n    job = Job()\n}\n</code></pre>\n\n<p>Create a coroutine context and cancel it on Fragment destroy:</p>\n\n<pre><code>override val coroutineContext: CoroutineContext\n    get() = Dispatchers.Main + job // You can use different variants here. \n\noverride fun onDestroy() {\n    job.cancel()\n    super.onDestroy()\n}\n</code></pre>\n\n<p><strong>A launch example</strong></p>\n\n<p>Use <code>launch</code> as usual:</p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    launch {\n        // Wait for result of I/O operation without blocking the main thread.\n        withContext(Dispatchers.IO) {\n            interactor.getCountry().let {\n                countryName = it.name\n            }\n        }\n\n        // Update views in the UI thread.\n        country.updateCaption(countryName)\n    }\n}\n</code></pre>\n\n<p>In my case a problem occured when I used API requests with usual callbacks. A <code>launch</code> interior inside a callback hasn't been called. So I rewrote that code with interactors.</p>\n"}, {"tags": [], "owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "is_accepted": false, "score": 0, "last_activity_date": 1589676299, "last_edit_date": 1592644375, "creation_date": 1589675107, "answer_id": 61845417, "question_id": 52977239, "link": "https://stackoverflow.com/questions/52977239/migrate-to-kotlin-coroutines-in-android-with-kotlin-1-3/61845417#61845417", "title": "Migrate to Kotlin coroutines in Android with Kotlin 1.3", "body": "<p>The <em>implementation version</em> must be &gt;= the <em>testing version</em></p>\n<h2>build.gradle (:mobile)</h2>\n<pre><code>dependencies {\n    implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-core:$coroutines&quot;)\n\n    // Testing\n    testImplementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-test:$coroutines&quot;\n    androidTestImplementation &quot;org.jetbrains.kotlinx:kotlinx-coroutines-test:$coroutines&quot;\n}\n</code></pre>\n<h2>build.gradle (Project)</h2>\n<pre><code>buildscript {\n    ...\n    ext.coroutines = '1.3.6'\n}\n</code></pre>\n<hr />\n<h2>FAILURE FIXED</h2>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':app:processDebugAndroidTestManifest'.\n&gt; Could not resolve all task dependencies for configuration ':app:debugAndroidTestRuntimeClasspath'.\n    &gt; Could not resolve org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.5.\n    Required by:\n        project :app\n     &gt; Cannot find a version of 'org.jetbrains.kotlinx:kotlinx-coroutines-core' that satisfies the version constraints:\n          Dependency path 'Open Weather:app:unspecified' --&gt; 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.3.5'\n</code></pre>\n<p>GL</p>\n"}, {"comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1613118508, "post_id": 62622878, "comment_id": 116982535, "body": "Thanks for <code>mavenCentral()</code> in <code>allprojects repositories</code>! I am replacing <code>jcenter()</code> with <code>maven()</code>, because <code>jCenter</code> will close in May."}], "tags": [], "owner": {"reputation": 178, "user_id": 11327451, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JM16FJgL_L0/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfpc-iiapvax-IAqB_sRG9i8TXPhA/mo/photo.jpg?sz=128", "display_name": "vishva vijay", "link": "https://stackoverflow.com/users/11327451/vishva-vijay"}, "is_accepted": false, "score": 0, "last_activity_date": 1593349188, "creation_date": 1593349188, "answer_id": 62622878, "question_id": 52977239, "link": "https://stackoverflow.com/questions/52977239/migrate-to-kotlin-coroutines-in-android-with-kotlin-1-3/62622878#62622878", "title": "Migrate to Kotlin coroutines in Android with Kotlin 1.3", "body": "<p>Simply add &quot;mavenCentral()&quot; to build.gradle bellow build script: I fixed using this.</p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.3.72'\n\n    repositories {\n        google()\n        jcenter()\n\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.0.0'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral() //Add this Line only &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 527, "user_id": 9941595, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0HPcFGCdzGA/AAAAAAAAAAI/AAAAAAAAAAc/mC8m6QW7vpU/photo.jpg?sz=128", "display_name": "Patryk Kubiak", "link": "https://stackoverflow.com/users/9941595/patryk-kubiak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10310, "favorite_count": 3, "answer_count": 4, "score": 12, "last_activity_date": 1593349188, "creation_date": 1540411842, "question_id": 52977239, "link": "https://stackoverflow.com/questions/52977239/migrate-to-kotlin-coroutines-in-android-with-kotlin-1-3", "title": "Migrate to Kotlin coroutines in Android with Kotlin 1.3", "body": "<p>What should I change in my <code>build.gradle</code> file or import in classes to use stable coroutine functions in my Android project with Kotlin 1.3 ?</p>\n\n<p>Fragment about coroutines in my <code>build.gradle</code></p>\n\n<p><code>implementation \"org.jetbrains.kotlin:kotlin-coroutines-core:$coroutines_version\"\nimplementation \"org.jetbrains.kotlin:kotlin-coroutines-android:$coroutines_version\"</code></p>\n\n<p>Of course I use Android Studio 3.3 Preview</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "progress-bar"], "answers": [{"tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": true, "score": 4, "last_activity_date": 1540411087, "creation_date": 1540411087, "answer_id": 52977036, "question_id": 52976969, "link": "https://stackoverflow.com/questions/52976969/progress-bar-in-webview-using-kotlin/52977036#52977036", "title": "progress bar in WebView using kotlin", "body": "<p>Make the <code>favicon</code> nullable.</p>\n\n<p>Change</p>\n\n<pre><code>favicon: Bitmap\n</code></pre>\n\n<p>To</p>\n\n<pre><code>favicon: Bitmap?\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 10500886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-geH9EbwbtUA/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVNKRvsPkmjxuvWeVidoGKVltTtnA/mo/photo.jpg?sz=128", "display_name": "KOTL NIAS", "link": "https://stackoverflow.com/users/10500886/kotl-nias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2228, "favorite_count": 0, "accepted_answer_id": 52977036, "answer_count": 1, "score": 1, "last_activity_date": 1540411087, "creation_date": 1540410820, "question_id": 52976969, "link": "https://stackoverflow.com/questions/52976969/progress-bar-in-webview-using-kotlin", "title": "progress bar in WebView using kotlin", "body": "<p>i'm using this code to show a progress bar while whiting the url to load in the WebView but the app is crashing after few seconds from the starting of the webview page and it give me the Error :</p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: Parameter specified as non-null is\n  null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull,\n  parameter favicon</p>\n</blockquote>\n\n<pre><code>  val progressBar = findViewById&lt;ProgressBar&gt;(R.id.prg)\n    val url: String = intent.getStringExtra(\"targetURL\") ?: \"\"\n\n\n    webView.webViewClient = object : WebViewClient() {\n\n        override fun onPageStarted(view: WebView, url: String, favicon: Bitmap) {\n            super.onPageStarted(view, url, favicon)\n            view.visibility =View.INVISIBLE\n            progressBar.visibility = View.VISIBLE\n        }\n\n        override fun onPageFinished(view: WebView, url: String) {\n            super.onPageFinished(view, url)\n            view.visibility =View.VISIBLE\n            progressBar.visibility = View.INVISIBLE\n        }\n\n    }\n    webView.settings.javaScriptEnabled = true\n\n    val settings = webView.settings\n    settings.domStorageEnabled = true\n\n    webView.loadUrl(url)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-dialog"], "comments": [{"owner": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "edited": false, "score": 1, "creation_date": 1540406417, "post_id": 52975879, "comment_id": 92858339, "body": "One way would be adding custom positive/negative buttons and overriding them there. Or just creatiing your custom code for dialog. But as a simple solution, I would just add a check in onClick of positive button for number of dots and doing nothing when they are more than one"}, {"owner": {"reputation": 961, "user_id": 9580325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rQ2Z2.jpg?s=128&g=1", "display_name": "Domin", "link": "https://stackoverflow.com/users/9580325/domin"}, "reply_to_user": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "edited": false, "score": 0, "creation_date": 1540407247, "post_id": 52975879, "comment_id": 92858735, "body": "Thanks, that&#39;s also a way, but I think I&#39;d love to invalidate it anyway to make user change his input."}, {"owner": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "edited": false, "score": 0, "creation_date": 1540407401, "post_id": 52975879, "comment_id": 92858803, "body": "While I search for solution, try to at least show a toast, that should be possible :)"}], "answers": [{"comments": [{"owner": {"reputation": 961, "user_id": 9580325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rQ2Z2.jpg?s=128&g=1", "display_name": "Domin", "link": "https://stackoverflow.com/users/9580325/domin"}, "edited": false, "score": 0, "creation_date": 1540407186, "post_id": 52975996, "comment_id": 92858697, "body": "The problem is that I can&#39;t figure out where to initialize variable in the code to disable it later."}], "tags": [], "owner": {"reputation": 357, "user_id": 10286496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88d69e9a8ef70dcc0503e7020495bbdb?s=128&d=identicon&r=PG&f=1", "display_name": "Ves", "link": "https://stackoverflow.com/users/10286496/ves"}, "is_accepted": false, "score": 0, "last_activity_date": 1540406784, "creation_date": 1540406784, "answer_id": 52975996, "question_id": 52975879, "link": "https://stackoverflow.com/questions/52975879/invalidate-positive-button-when-conditions-are-met/52975996#52975996", "title": "Invalidate positive button when conditions are met", "body": "<p>To disable a button:</p>\n\n<pre><code> mButtonToggle.setEnabled( false );\n</code></pre>\n\n<p>To enable the button:</p>\n\n<pre><code> mButtonToggle.setEnabled( true );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 961, "user_id": 9580325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rQ2Z2.jpg?s=128&g=1", "display_name": "Domin", "link": "https://stackoverflow.com/users/9580325/domin"}, "edited": false, "score": 0, "creation_date": 1540408401, "post_id": 52976220, "comment_id": 92859276, "body": "I still  have a problem. As I built a dialog using AlertDialog.Builder (there was no way to build it with AlertDialog) there is no reference to use <code>getButton()</code>. I figured out that in Kotlin I may use simply          <code>AlertDialog.BUTTON_POSITIVE</code> what is (as I think) the same as <code>((AlertDialog) dialog).getButton(AlertDialog.BUTTON_POSITIVE)</code>.  But afterwards I cannot use <code>setEnabled()</code>. Using <code>AlertDialog.builder</code> I may only add new buttons but I think not to override them."}, {"owner": {"reputation": 961, "user_id": 9580325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rQ2Z2.jpg?s=128&g=1", "display_name": "Domin", "link": "https://stackoverflow.com/users/9580325/domin"}, "edited": false, "score": 1, "creation_date": 1540410080, "post_id": 52976220, "comment_id": 92860074, "body": "Thanks! It compiled as well as it ran!  The breaking point of the code is <code>val dialog = builder.create()</code> where variable is being initialized."}], "tags": [], "owner": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "is_accepted": true, "score": 1, "last_activity_date": 1540409020, "last_edit_date": 1540409020, "creation_date": 1540407729, "answer_id": 52976220, "question_id": 52975879, "link": "https://stackoverflow.com/questions/52975879/invalidate-positive-button-when-conditions-are-met/52976220#52976220", "title": "Invalidate positive button when conditions are met", "body": "<p>As I was googling, I stubled upon this question, that should answer your.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/8238952/how-to-disable-enable-dialog-negative-positive-buttons\">How to disable / enable dialog negative positive buttons?</a></p>\n\n<p>I compiled the code to kotlin and it seems working, or at least compileable :D</p>\n\n<pre><code>fun dialogStuff() {\n    val builder = AlertDialog.Builder(this)\n    builder.setIcon(android.R.drawable.ic_dialog_info)\n    builder.setTitle(\"Alert dialog title\")\n    builder.setMessage(\"This is the example code snippet to disable button if edittext attached to dialog is empty.\")\n    builder.setPositiveButton(\"PositiveButton\"\n    ) { arg0, arg1 -&gt;\n        // DO TASK\n    }\n    builder.setNegativeButton(\"NegativeButton\"\n    ) { arg0, arg1 -&gt;\n        // DO TASK\n    }\n    val input = EditText(this)\n    val lp = LinearLayout.LayoutParams(\n            LinearLayout.LayoutParams.MATCH_PARENT,\n            LinearLayout.LayoutParams.MATCH_PARENT)\n    input.layoutParams = lp\n    builder.setView(input)\n    val dialog = builder.create()\n    dialog.show()\n    (dialog as AlertDialog).getButton(AlertDialog.BUTTON_POSITIVE).isEnabled = false\n    input.addTextChangedListener(object : TextWatcher {\n        override fun onTextChanged(s: CharSequence, start: Int, before: Int,\n                                   count: Int) {\n        }\n\n        override fun beforeTextChanged(s: CharSequence, start: Int, count: Int,\n                                       after: Int) {\n        }\n\n        override fun afterTextChanged(s: Editable) {\n            // Check if edittext is empty\n            dialog.getButton(AlertDialog.BUTTON_POSITIVE).isEnabled = !TextUtils.isEmpty(s)\n\n        }\n    })\n}\n</code></pre>\n"}], "owner": {"reputation": 961, "user_id": 9580325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rQ2Z2.jpg?s=128&g=1", "display_name": "Domin", "link": "https://stackoverflow.com/users/9580325/domin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "accepted_answer_id": 52976220, "answer_count": 2, "score": 0, "last_activity_date": 1573806624, "creation_date": 1540406271, "last_edit_date": 1573806624, "question_id": 52975879, "link": "https://stackoverflow.com/questions/52975879/invalidate-positive-button-when-conditions-are-met", "title": "Invalidate positive button when conditions are met", "body": "<p>In my application I have popup window with EditText field. If there is more one dot I want to invalidate positive button, mean to make it greyed out and unable to click. I looked on Java code and tried few solutions but I didn't figure out how to make it work.\nMy code:</p>\n\n<pre><code> fun dialogBuilder(){\n        var dots = 0\n        lateinit var inputText: String\n        val builder = AlertDialog.Builder(this)\n        builder.setTitle(getString(R.string.moneyStatus))\n        val input = EditText(this)\n        input.inputType = InputType.TYPE_NUMBER_FLAG_DECIMAL or InputType.TYPE_NUMBER_FLAG_SIGNED\n        input.setKeyListener(DigitsKeyListener.getInstance(\"0123456789.\"));\n        input.addTextChangedListener(object : TextWatcher {\n\n            override fun afterTextChanged(s: Editable) {}\n\n            override fun beforeTextChanged(s: CharSequence, start: Int,\n                                           count: Int, after: Int) {\n            }\n\n            override fun onTextChanged(s: CharSequence, start: Int,\n                                       before: Int, count: Int) {\n\n                val length = s.length\n                if (length &gt; 0){\n                    for (i in 0..length){\n                        if (i &lt; length) {\n                            if (s[i] == '.') {\n                                dots += 1\n                            }\n                        }\n                    }\n            }\n            }\n        })\n        builder.setView(input)\n        builder.setPositiveButton(\"OK\") {\n            dialog, which -&gt; inputText = input.text.toString()\n            money.setText(inputText)\n        }\n        builder.setNegativeButton(getString(R.string.cancel)) {\n            dialog, which -&gt; dialog.cancel()\n        }\n        if (dots &gt; 1){\n            //gray out \"OK\" button\n        }\n        builder.show()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1540426581, "post_id": 52975354, "comment_id": 92865605, "body": "Please <a href=\"https://stackoverflow.com/posts/52975354/edit\">edit</a> your question to post the necessary code and logs as text. Please don&#39;t post screenshots of text."}], "answers": [{"tags": [], "owner": {"reputation": 6487, "user_id": 1677824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QkEqX.jpg?s=128&g=1", "display_name": "Akhil", "link": "https://stackoverflow.com/users/1677824/akhil"}, "is_accepted": false, "score": 0, "last_activity_date": 1540404803, "creation_date": 1540404803, "answer_id": 52975542, "question_id": 52975354, "link": "https://stackoverflow.com/questions/52975354/java-lang-outofmemoryerror-in-class-instance-using-kotlin/52975542#52975542", "title": "java.lang.OutOfMemoryError in class instance using Kotlin", "body": "<p>You are getting this because of StackOverflow :)</p>\n\n<p>DBManager &amp; LoginPresenter instances are getting created in a loop and causing this, you should move instance creation into some method</p>\n"}, {"tags": [], "owner": {"reputation": 365, "user_id": 5092038, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2GrKkHuXTkQ/AAAAAAAAAAI/AAAAAAAAAHo/JSQ4pwnqyfM/photo.jpg?sz=128", "display_name": "meyer1994", "link": "https://stackoverflow.com/users/5092038/meyer1994"}, "is_accepted": true, "score": 0, "last_activity_date": 1540405138, "last_edit_date": 1540405138, "creation_date": 1540404806, "answer_id": 52975544, "question_id": 52975354, "link": "https://stackoverflow.com/questions/52975354/java-lang-outofmemoryerror-in-class-instance-using-kotlin/52975544#52975544", "title": "java.lang.OutOfMemoryError in class instance using Kotlin", "body": "<p>Welcome to StackOverflow!</p>\n\n<p><strong>Some tips:</strong>\nYou should post everything related to your code. It makes easier for people to help you and give better answers. You should also paste code in the question itself instead of giving links to pastebin. Only use pastebin like services when your code is too big. Which is not the case here (but you did right with the error message, it is big).</p>\n\n<p>Now, to the problem itself.</p>\n\n<p>You seem to be instantianting the class <code>DbManager</code>, according to the error messages. This class instantiates your other class, <code>LoginPresenter</code> here:</p>\n\n<pre><code>class DbManager\n{\n   ...     \n   val loginPresenter: LoginPresenter = LoginPresenter()\n   ...\n}\n</code></pre>\n\n<p><code>LoginPresenter</code> will instantiate the class <code>DbManager</code>:</p>\n\n<pre><code>class LoginPresenter\n{\n    ...\n    val dbManager: DbManager = DbManager()\n    ...\n}\n</code></pre>\n\n<p><code>DbManager</code> creates <code>LoginPresenter</code> which creates <code>DbManager</code> which creates <code>LoginPresenter</code> which creates...</p>\n\n<p>See the pattern here? It creates a infinite loop, with recursion, that will create classes until you run out of memory. Hence, the error.</p>\n\n<p>It is hard to tell you what you should do when I only have this part of the code. But, <em>I think</em> that you should instantiate the <code>DbManager</code> class only once, globally and use that instance everytime you want to interact with it.</p>\n"}], "owner": {"reputation": 35, "user_id": 10547458, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-VXyeasXMXzc/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAoekKugpbUSF921-pfCV1xhWKVjQ/mo/photo.jpg?sz=128", "display_name": "Adrian27045", "link": "https://stackoverflow.com/users/10547458/adrian27045"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 120, "favorite_count": 0, "accepted_answer_id": 52975544, "answer_count": 2, "score": -1, "last_activity_date": 1540406559, "creation_date": 1540404096, "question_id": 52975354, "link": "https://stackoverflow.com/questions/52975354/java-lang-outofmemoryerror-in-class-instance-using-kotlin", "title": "java.lang.OutOfMemoryError in class instance using Kotlin", "body": "<p>I making project in Kotlin with MVP design pattern first time. Why I have got <code>java.lang.OutOfMemoryError</code>.</p>\n\n<p>This is my error from debuger:  <a href=\"https://pastebin.com/U1nwjaf6\" rel=\"nofollow noreferrer\">https://pastebin.com/U1nwjaf6</a></p>\n\n<p>This is my class <code>DbManager</code>: <a href=\"https://pastebin.com/KRpa2eRF\" rel=\"nofollow noreferrer\">https://pastebin.com/KRpa2eRF</a></p>\n\n<p>And this is my class <code>LoginPresenter</code>: <a href=\"https://pastebin.com/Vryf0kBH\" rel=\"nofollow noreferrer\">https://pastebin.com/Vryf0kBH</a></p>\n\n<p>I am beginner on making apps using Kotlin.\nPlease help me.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10480468"}, "edited": false, "score": 0, "creation_date": 1540403058, "post_id": 52974937, "comment_id": 92856601, "body": "Getting unresolved reference error on context and .setVariable"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1540403102, "post_id": 52974937, "comment_id": 92856625, "body": "Take setVariable() outside onCreate()"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1540403283, "post_id": 52974937, "comment_id": 92856707, "body": "Before <code>onCreate()</code> declare <code>var activityVar = &quot;&quot;</code>"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1540403385, "post_id": 52974937, "comment_id": 92856763, "body": "Inside <code>setVariable()</code> write <code>activityVar = ItemName</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10480468"}, "edited": false, "score": 0, "creation_date": 1540403488, "post_id": 52974937, "comment_id": 92856817, "body": "Thanks for your response but still I am getting error at context\tval TestVar:TestMenuDetail=context as TestMenuDetail"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1540403719, "post_id": 52974937, "comment_id": 92856954, "body": "What is the error? Did you pass <code>this</code> in the instantiation of the adapter in your activity?"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1540403996, "post_id": 52974937, "comment_id": 92857092, "body": "Remove all that line from onBindViewHolder and put this: <code>private val mainClass : TestMenuDetail= context as TestMenuDetail</code> under the adapter&#39;s header"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10480468"}, "edited": false, "score": 0, "creation_date": 1540405917, "post_id": 52974937, "comment_id": 92858110, "body": "I changed it to private class MenuDetailListAdapter(context: Context,val TestProjectMenudetails:Array&lt;TestProjectMenuDetails&gt;): RecyclerView.Adapter&lt;TestProjectDetailMenuViewHolder&gt;() but I am not sure about the instantiation of the adapter class."}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1540406042, "post_id": 52974937, "comment_id": 92858174, "body": "Now under this header put <code>private val TestVar: TestMenuDetail= context as TestMenuDetail</code> and remove <code>val TestVar:TestProjectMenuDetail=context as TestProjectMenuDetail</code> from onBindViewHolder"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1540406146, "post_id": 52974937, "comment_id": 92858219, "body": "Also where is the line in your activity where you set the adapter of the recyclerview?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10480468"}, "edited": false, "score": 0, "creation_date": 1540406384, "post_id": 52974937, "comment_id": 92858319, "body": "I am pulling JSON array for recycler view so, I am getting error message in the adapter over there   val TestProjectmenu=gson.fromJson(body,Array&lt;TestProjectMenuDeta&zwnj;&#8203;ils&gt;::class.java)                 println(&quot;Restaranut Menu Details :$TestProjectmenu&quot;)                 runOnUiThread {                     recyclerView_main.adapter=MenuDetailListAdapter(TestProjectm&zwnj;&#8203;enu)                 } //Error Required context but found Array&lt;TestMenuDetails&gt;"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1540406459, "post_id": 52974937, "comment_id": 92858358, "body": "Did you solve the unresolved reference context issue?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10480468"}, "edited": false, "score": 0, "creation_date": 1540406529, "post_id": 52974937, "comment_id": 92858387, "body": "Inside the MenuDetailListAdapter it resolved the issue but it still throwing error inside JSON call."}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1540406748, "post_id": 52974937, "comment_id": 92858489, "body": "This is a separate issue. Post another question with all the relevant code in your activity including fetchJSON()"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10480468"}, "edited": false, "score": 0, "creation_date": 1540406816, "post_id": 52974937, "comment_id": 92858519, "body": "Sure Thanks for your help."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10480468"}, "edited": false, "score": 0, "creation_date": 1540411036, "post_id": 52974937, "comment_id": 92860501, "body": "<a href=\"https://stackoverflow.com/questions/52976260/getting-classifier-context-does-not-have-companion-object-in-kotlin\" title=\"getting classifier context does not have companion object in kotlin\">stackoverflow.com/questions/52976260/&hellip;</a>"}], "tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 0, "last_activity_date": 1540402455, "creation_date": 1540402455, "answer_id": 52974937, "question_id": 52974598, "link": "https://stackoverflow.com/questions/52974598/retrieve-variable-from-onbindviewholder-in-kotlin/52974937#52974937", "title": "Retrieve Variable from onBindViewHolder in Kotlin", "body": "<p>In <code>MainClas</code> declare a variable to hold the value you want to pass from <code>onBindViewHolder</code> like <code>activityVar</code> and then create a method: </p>\n\n<pre><code>fun setVariable(myVariable: Int) {\n    activityVar = myVariable\n}\n</code></pre>\n\n<p>replace <code>Int</code> with the proper data type.</p>\n\n<p>Change your adapter class's header like this:  <br/></p>\n\n<pre><code>private class TestDetailListAdapter(context: Context, val ItemTestdetails:Array&lt;ItemTestDetails&gt;)\n</code></pre>\n\n<p>so you need to pass to it first the context of your activity by passing <code>this</code> <br/>\nand inside <code>onBindViewHolder</code> add this: </p>\n\n<pre><code>val mainclas: MainClas = context as MainClas \nmainclas.setVariable(variablename)\n</code></pre>\n\n<p>replace <code>variablename</code> with the name of the variable you want to pass</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10480468"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "accepted_answer_id": 52974937, "answer_count": 1, "score": 0, "last_activity_date": 1540406609, "creation_date": 1540401161, "last_edit_date": 1540406609, "question_id": 52974598, "link": "https://stackoverflow.com/questions/52974598/retrieve-variable-from-onbindviewholder-in-kotlin", "title": "Retrieve Variable from onBindViewHolder in Kotlin", "body": "<p>I am trying to retrieve the variable value in my main class so, I can load this value into my database. I am not sure how to retrieve onBindViewHolder value in MainClas. I am able to display the item in the activity.</p>\n\n<p>Complete Code requested by user.</p>\n\n<pre><code>    class TestProjectMenuDetail() : AppCompatActivity() { \n            var itemName=\"\"\n            override fun onCreate(savedInstanceState: Bundle?) {\n                super.onCreate(savedInstanceState)\n                setContentView(R.layout.activity_main)\n                recyclerView_main.setBackgroundColor(Color.WHITE)\n                recyclerView_main.layoutManager= LinearLayoutManager(this)\n\n                   supportActionBar?.title=navBarTitle\n                fetchJSON()\n            }\n\n            //Retrieve value from OnBindViewHolder\n            fun setVariable(ItemName:String)\n            {\n                itemName=ItemName\n\n            }\n        }\n        private class MenuDetailListAdapter(val TestProjectMenudetails:Array&lt;TestProjectMenuDetails&gt;,context: Context): RecyclerView.Adapter&lt;TestProjectDetailMenuViewHolder&gt;()\n        {\n private  val TestVar:TestMenuDetail= context as TestMenuDetail\n            override fun onBindViewHolder(p0: TestProjectDetailMenuViewHolder, p1: Int) {\n                val TestProjectmenudetail=TestProjectMenudetails.get(p1)\n                p0?.customView?.itemname.text=TestProjectmenudetail.menu\n\n\n\n     TestVar.setVariable(TestProjectmenudetail.menu)\n\n            }\n\n            override fun getItemCount(): Int {\n                return TestProjectMenudetails.size\n            }\n\n            override fun onCreateViewHolder(p0: ViewGroup, p1: Int): TestProjectDetailMenuViewHolder {\n                val layoutInflater= LayoutInflater.from(p0?.context)\n                val customView=layoutInflater.inflate(R.layout.activity_TestProject_menu_detail,p0,false)\n                return TestProjectDetailMenuViewHolder(customView)\n            }\n\n        }\n         @Suppress(\"DEPRECATION\")\n         class TestProjectDetailMenuViewHolder(val customView: View, var Menus:TestProjectMenu?=null): RecyclerView.ViewHolder(customView)\n        {\n            companion object {\n                val DISHES_TITLE_NAME=\"ITEM_NAME\"\n                val intialcount:Int=0\n            }\n\n            init {\n                customView.setOnClickListener {\n                }\n            }\n            fun AddClick()\n            {\n                val intent=Intent(customView.context,TestProjectMenuList::class.java)\n                customView.context.startActivity(intent)\n            }\n        }\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": true, "score": 3, "last_activity_date": 1540443684, "creation_date": 1540443684, "answer_id": 52981645, "question_id": 52972657, "link": "https://stackoverflow.com/questions/52972657/mothod-always-returns-false-from-firestore-db-query/52981645#52981645", "title": "Mothod always returns false from Firestore DB query", "body": "<p>Firebase APIs are <code>asynchronous</code>, meaning that <code>onSucces()</code> function returns immediately after it's invoked, and the callback from the <code>Task</code> it returns, will be called some time later. There are no guarantees about how long it will take. So it may take from a few hundred milliseconds to a few seconds before that data is available. Because that method returns immediately, the value of your <code>bool</code> variable you're trying to return, will not have been populated from the callback yet.</p>\n\n<p>Basically, you're trying to return a value synchronously from an API that's asynchronous. That's not a good idea. You should handle the APIs asynchronously as intended.</p>\n\n<p>A quick solve for this problem would be to use the value of your <code>bool</code> variable <strong>only</strong> inside the callback. This also means that you need to change your <code>checkUserChatChannel</code> instead of returning a boolean to return void, otherwise I recommend you see the last part of my anwser from this <strong><a href=\"https://stackoverflow.com/questions/51594772/how-to-return-a-list-from-firestore-database-as-a-result-of-a-function-in-kotlin/51595202\">post</a></strong> in which I have explained how it can be done using a custom callback.</p>\n"}], "owner": {"reputation": 261, "user_id": 9598407, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e3bd4cf7477a39b7311f6c87d90077f?s=128&d=identicon&r=PG&f=1", "display_name": "Erbez", "link": "https://stackoverflow.com/users/9598407/erbez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 560, "favorite_count": 0, "accepted_answer_id": 52981645, "answer_count": 1, "score": 1, "last_activity_date": 1540443751, "creation_date": 1540394485, "last_edit_date": 1540443751, "question_id": 52972657, "link": "https://stackoverflow.com/questions/52972657/mothod-always-returns-false-from-firestore-db-query", "title": "Mothod always returns false from Firestore DB query", "body": "<p>I have a method that checks if a list contains a user or not. For some reason it always returns false, even though the user is in the list. The function does work, I know it does find the user, just not sure why it doesn't return anything else but <code>false</code>.</p>\n\n<p>I know it works because I have another method with this code snippet in to check if the user is in the list and remove or add them. That works so I know it is pulling the list.</p>\n\n<p>Method:</p>\n\n<pre><code>fun checkUserChatChannel(channelId: String): Boolean {\n    var list = mutableListOf&lt;String&gt;()\n    val currentUserId = FirebaseAuth.getInstance().currentUser!!.uid\n    var bool = false\n    chatChannelsCollectionRef.document(channelId).get().addOnSuccessListener {\n        if (it.exists()) {\n            list = it.get(\"userIds\") as MutableList&lt;String&gt;\n            if(list.contains(currentUserId)){\n                bool = true\n            }\n        }\n    }\n    return bool\n}\n</code></pre>\n\n<p>Calling:</p>\n\n<pre><code>boolean inOut = FirestoreUtil.INSTANCE.checkUserChatChannel(moduleId);\nif(!inOut)\n{\n    JLChat.setText(\"Join\");\n}\nelse\n{\n    JLChat.setText(\"Leave\");\n}\n</code></pre>\n\n<p>But the button will always remain on \"Join\":</p>\n\n<p>This is the other method that I use so I know the code works to remove a user from the list(Nothing to do with question):</p>\n\n<pre><code>fun LeaveGroup(channelId: String) {\n    currentUserDocRef.collection(\"engagedChatChannels\").document(channelId)\n            .delete()\n    var list = mutableListOf&lt;String&gt;()\n    val currentUserId = FirebaseAuth.getInstance().currentUser!!.uid\n    chatChannelsCollectionRef.document(channelId).get().addOnSuccessListener {\n        if (it.exists()) {\n            list = it.get(\"userIds\") as MutableList&lt;String&gt;\n            if(list.contains(currentUserId)){\n                list.remove(currentUserId)\n            }\n        }\n        val newChannel = chatChannelsCollectionRef.document(channelId)\n        newChannel.set(GChatChannel(channelId,list))\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "amazon-dynamodb", "amazon-cloudsearch"], "answers": [{"tags": [], "owner": {"reputation": 9667, "user_id": 4675736, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yXNEM.jpg?s=128&g=1", "display_name": "Wai Yan Hein", "link": "https://stackoverflow.com/users/4675736/wai-yan-hein"}, "is_accepted": true, "score": 0, "last_activity_date": 1541434242, "last_edit_date": 1541434242, "creation_date": 1540605561, "answer_id": 53018115, "question_id": 52972024, "link": "https://stackoverflow.com/questions/52972024/dynamodb-querying-geolocation-with-math-functions-in-android-kotlin/53018115#53018115", "title": "DynamoDB querying geolocation with math functions in Android Kotlin", "body": "<p>I have not found the solution. But this is what I am trying to do. I will hook the AWS lambda to my DynamoDB. When an item is added, I will send that item to ElasticSearch or Algolia. The logic of synchronizinfg the data with Elasticsearch or Algolia will be in the Lambda function. Then I will search/query the Geo location data using Algolia or Elastic Search.</p>\n"}], "owner": {"reputation": 9667, "user_id": 4675736, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yXNEM.jpg?s=128&g=1", "display_name": "Wai Yan Hein", "link": "https://stackoverflow.com/users/4675736/wai-yan-hein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 283, "favorite_count": 0, "accepted_answer_id": 53018115, "answer_count": 1, "score": 0, "last_activity_date": 1541434242, "creation_date": 1540392686, "last_edit_date": 1540556675, "question_id": 52972024, "link": "https://stackoverflow.com/questions/52972024/dynamodb-querying-geolocation-with-math-functions-in-android-kotlin", "title": "DynamoDB querying geolocation with math functions in Android Kotlin", "body": "<p>I am developing an Android application for learning purpose using Kotlin. I am using DynamoDB as backend. I am new to that as well. I know how to query the records from a table in Android Kotlin using AWS Android SDK. I fetch all the records from a table like this.</p>\n\n<pre><code>val dynamoDBClient = AmazonDynamoDBClient(AWSMobileClient.getInstance().credentialsProvider)\n            val fetchedItems: ArrayList&lt;Any&gt; = ArrayList();\n\n            val scanRequest = ScanRequest().withTableName(MainApplication.DB_TABLE_ITEMS);\n            scanRequest.exclusiveStartKey = lastEvaluatedKey\n\n\n            val scanResult = dynamoDBClient.scan(scanRequest)\n            scanResult.items.forEach { item -&gt;\n                val viewItem = ItemDO()\n                viewItem.id = item.get(\"Id\")?.s\n    item.get(\"Images\")?.ns?.size.toString())\n            }\n</code></pre>\n\n<p>But what I am trying to do now is I want to add two new fields into the table called latitude and longitude. Then query to get the records of the nearest location based of a parameter location passed in the query. For that I have to use math functions in the query like sin() and cos() and stuff. How can I use those math functions? Then I found another AWS service called CloudSearch to search geolocation. In the docs, it says it can be used to index and search records in the DynamoDB. But there is no tutorial or docs for Android to use that CloudSearch service to query the Geolocation data in the DynamoDB. There is not Android SDK for that as well. Where can I find a decent tutorial or docs for my scenario? </p>\n\n<blockquote>\n  <p>I looked at the following article, but where is the SDK for Android? Is there an Android SDK for the following article?</p>\n</blockquote>\n\n<p><a href=\"https://aws.amazon.com/blogs/mobile/geo-library-for-amazon-dynamodb-part-1-table-structure/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/mobile/geo-library-for-amazon-dynamodb-part-1-table-structure/</a></p>\n"}, {"tags": ["android", "kotlin", "async-await"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1540391428, "post_id": 52971422, "comment_id": 92849492, "body": "the best way to do that would be to use coroutines, but you&#39;re not using that. This is not possible with Rx. Instead you have to return tv.getChannels() and subscribe to it in the method that calls this method"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540392443, "post_id": 52971422, "comment_id": 92850220, "body": "Starting with coroutines isn&#39;t going to be a picnic, either, they don&#39;t remove the fact that the things have gone async, in effect creating concurrency on the GUI thread. You&#39;ll also have to <code>launch</code> a coroutine and your whole call chain leading into <code>getChannels()</code> will have to consists of <code>suspend fun</code>s."}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1540392084, "creation_date": 1540392084, "answer_id": 52971814, "question_id": 52971422, "link": "https://stackoverflow.com/questions/52971422/how-to-wait-for-retrofit-async-operation-to-complete-in-kotlin/52971814#52971814", "title": "How to wait for Retrofit async operation to complete in Kotlin?", "body": "<p>You're using <em>RxJava</em> and thus you should implement it in a reactive way.</p>\n\n<p>If you're app is not build for it yet, you can get the value blocking. Assuming <code>getChannels()</code> returns a single you could just call <code>blockingGet()</code> instead of <code>subscribe()</code>.</p>\n\n<p>But be aware that <strong>this blocks</strong> the thread the outer <code>getChannels()</code> is called from.</p>\n\n<p>Using coroutines might be better for you. It's a little nearer to what you know from <em>C#</em> and with the <a href=\"https://github.com/JakeWharton/retrofit2-kotlin-coroutines-adapter\" rel=\"nofollow noreferrer\"><em>retrofit2-kotlin-coroutines-adapter</em></a> you can integrate directly with <em>Retrofit</em>.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 2486744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rkF3n.jpg?s=128&g=1", "display_name": "Frank Egan", "link": "https://stackoverflow.com/users/2486744/frank-egan"}, "is_accepted": false, "score": 1, "last_activity_date": 1540415866, "creation_date": 1540415866, "answer_id": 52978039, "question_id": 52971422, "link": "https://stackoverflow.com/questions/52971422/how-to-wait-for-retrofit-async-operation-to-complete-in-kotlin/52978039#52978039", "title": "How to wait for Retrofit async operation to complete in Kotlin?", "body": "<p>You could look into using the retrofit coroutine adapters from Jake Wharton <a href=\"https://github.com/JakeWharton/retrofit2-kotlin-coroutines-adapter\" rel=\"nofollow noreferrer\">https://github.com/JakeWharton/retrofit2-kotlin-coroutines-adapter</a></p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 5661175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ada79f31180fd601585281ae08d6fad?s=128&d=identicon&r=PG&f=1", "display_name": "eriknyk", "link": "https://stackoverflow.com/users/5661175/eriknyk"}, "is_accepted": false, "score": 0, "last_activity_date": 1545433304, "creation_date": 1545433304, "answer_id": 53891675, "question_id": 52971422, "link": "https://stackoverflow.com/questions/52971422/how-to-wait-for-retrofit-async-operation-to-complete-in-kotlin/53891675#53891675", "title": "How to wait for Retrofit async operation to complete in Kotlin?", "body": "<p>you can check a functional implementation of kotlin v1.3 retrofit + stable coroutines using DSL here <a href=\"https://github.com/eriknyk/networkcall-sample/commits/master\" rel=\"nofollow noreferrer\">https://github.com/eriknyk/networkcall-sample/commits/master</a></p>\n\n<p>DSL template:</p>\n\n<pre><code>fun &lt;RESPONSE: DataResponse&lt;*&gt;, DATA: Any&gt; networkCall(block: CallHandler&lt;RESPONSE, DATA&gt;.() -&gt; Unit): MutableLiveData&lt;Resource&lt;DATA&gt;&gt;\n    = CallHandler&lt;RESPONSE, DATA&gt;().apply(block).makeCall()\n\n    interface DataResponse&lt;T&gt; {\n    fun retrieveData(): T\n}\n</code></pre>\n\n<p>and using it:</p>\n\n<pre><code>fun getRepos(query: String) = networkCall&lt;ResposResponse, List&lt;Repo&gt;&gt; {\n    client = githubService.getRepos(query)\n}\n</code></pre>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 12502, "user_id": 85606, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/3265b175095f31c8290d110f8588201f?s=128&d=identicon&r=PG", "display_name": "Prashant Cholachagudda", "link": "https://stackoverflow.com/users/85606/prashant-cholachagudda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1167, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1545433304, "creation_date": 1540391010, "question_id": 52971422, "link": "https://stackoverflow.com/questions/52971422/how-to-wait-for-retrofit-async-operation-to-complete-in-kotlin", "title": "How to wait for Retrofit async operation to complete in Kotlin?", "body": "<p>I am new to Kotlin, coming from C# it I am quite used to <code>async\\await</code></p>\n\n<p>How do I wait for <code>tvClient</code> to get the response before returning the list of channels?</p>\n\n<pre><code>override fun getChannels(): MutableList&lt;Channel&gt; {\n        disposable = tvClient.getChannels()\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe(\n                        {Log.d(\"***\", it.toString())},\n                        {Log.d(\"***\",it.toString())}\n                )\n\n\n    TODO(\"wait for tvClient to return results\")\n\n    return mChannels;\n}\n</code></pre>\n\n<p>I tried using coroutines but no luck</p>\n\n<p>What is the best way to wait for async operation to complete in Kotlin?</p>\n"}, {"tags": ["spring", "spring-security", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 1726616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a9264813d508b6f3420815d1d36088e?s=128&d=identicon&r=PG", "display_name": "user1726616", "link": "https://stackoverflow.com/users/1726616/user1726616"}, "edited": false, "score": 0, "creation_date": 1540456920, "post_id": 52974857, "comment_id": 92875511, "body": "Unfortunately, this one isn&#39;t working. Method authenticateToken in Provider doesn&#39;t execute. I have one more configuration with global settings (like disable csrf, etc...) with Ordered.LOWEST_PRECEDENCE and EnableWebSecurity annotation."}, {"owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "reply_to_user": {"reputation": 23, "user_id": 1726616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a9264813d508b6f3420815d1d36088e?s=128&d=identicon&r=PG", "display_name": "user1726616", "link": "https://stackoverflow.com/users/1726616/user1726616"}, "edited": false, "score": 0, "creation_date": 1540460373, "post_id": 52974857, "comment_id": 92877587, "body": "Every configuration requires an different path and only one configuration is choosen. You might have one at the end of the order chain that matches all, but the settings are not merged."}, {"owner": {"reputation": 23, "user_id": 1726616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a9264813d508b6f3420815d1d36088e?s=128&d=identicon&r=PG", "display_name": "user1726616", "link": "https://stackoverflow.com/users/1726616/user1726616"}, "edited": false, "score": 0, "creation_date": 1540467888, "post_id": 52974857, "comment_id": 92882023, "body": "I tried with 2 equal configuration, but different paths and different providers, but still didn&#39;t work. I think, I&#39;m gonna pass sessionScope through AuthFilter."}], "tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": false, "score": 0, "last_activity_date": 1540402163, "creation_date": 1540402163, "answer_id": 52974857, "question_id": 52971342, "link": "https://stackoverflow.com/questions/52971342/load-different-authentication-provider-for-certain-url/52974857#52974857", "title": "Load different authentication provider for certain url", "body": "<p>You need to configure two <code>WebSecurityConfigurerAdapter</code> and add an <code>antMatcher</code> at the top level of <code>HttpSecurity</code>. </p>\n\n<pre><code>@Configuration\n@Order(1)\nclass FooWebSecurityConfiguration(val provider: FooProvider) : WebSecurityConfigurerAdapter() {\n\n    override fun configure(http: HttpSecurity) {\n        http.antMatcher(\"/foo/**\")\n            .authorizeRequests()\n            .antMatchers(\"/foo/**\")\n            .fullyAuthenticated()\n            .and()                \n            .authenticationProvider(provider)\n    }\n}\n\n@Configuration\n@Order(2)\nclass BarWebSecurityConfiguration(val provider: BarProvider) : WebSecurityConfigurerAdapter() {\n\n    override fun configure(http: HttpSecurity) {\n        http.antMatcher(\"/bar/**\")\n            .authorizeRequests()\n            .antMatchers(\"/bar/**\")\n            .fullyAuthenticated()              \n            .and()\n            .authenticationProvider(provider)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 1726616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a9264813d508b6f3420815d1d36088e?s=128&d=identicon&r=PG", "display_name": "user1726616", "link": "https://stackoverflow.com/users/1726616/user1726616"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 494, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1540458243, "creation_date": 1540390795, "question_id": 52971342, "link": "https://stackoverflow.com/questions/52971342/load-different-authentication-provider-for-certain-url", "title": "Load different authentication provider for certain url", "body": "<p>I want to load different authentication providers for different urls. For example, if I have url matching \"/foo/something\", then load FooProvider and for \"bar/something\" -> BarProvider. The problem is that when I hit \"bar/something\" url, the sessionScope parameter (I pass it in constructor of provider) is still \"foo\". That means, FooProvider is loaded, but this is not what I expect. \nIs there something I'm missing? Thanks in advance. </p>\n\n<pre><code> abstract class TokenAuthenticationProvider (\n        protected val sessionScope: SessionScope\n    ) : AuthenticationProvider { \n\n    private fun authenticateToken(authentication: TokenAuthentication): Authentication { \n        println(\"sessionScope $sessionScope\")\n    }\n}\n\n@Component\nclass FooAuthenticationProvider : TokenAuthenticationProvider (sessionScope = SessionScope.Foo)\n\n@Component\nclass BarAuthenticationProvider : TokenAuthenticationProvider (sessionScope = SessionScope.Bar)\n\n\n@Configuration\n@EnableWebSecurity\nclass WebSecurityConfiguration @Autowired constructor(\n    private val fooProvider: FooProvider,\n    private val barProvider: BarProvider,\n    private val authFilter: AuthFilter,\n    private val corsFilter: CustomCorsFilter\n) : WebSecurityConfigurerAdapter() {\n\n    override fun configure(http: HttpSecurity) {\n\n        ... \n\n        http.authorizeRequests()\n            .antMatchers(\"foo/**\")\n            .fullyAuthenticated()\n            .and()\n            .authenticationProvider(fooProvider)\n\n        http.authorizeRequests()\n            .antMatchers(\"bar/**\")\n            .fullyAuthenticated()\n            .and()\n            .authenticationProvider(barProvider)\n\n          ... \n    }\n\n    override fun configure(auth: AuthenticationManagerBuilder) {\n        auth.authenticationProvider(fooProvider)\n        auth.authenticationProvider(barProvider)\n    }\n}\n</code></pre>\n"}, {"tags": ["json", "serialization", "kotlin", "ktor", "kotlin-multiplatform"], "comments": [{"owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 0, "creation_date": 1547907497, "post_id": 52971069, "comment_id": 95358915, "body": "See that there&#39;s a <code>KotlinxSerializer.registerList()</code> ....tried that but still getting &quot;Can&#39;t locate argument-less serializer for class kotlin.collections.List. For generic classes, such as lists, please provide serializer explicitly.&quot; error"}, {"owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 0, "creation_date": 1547927627, "post_id": 52971069, "comment_id": 95364492, "body": "Some possibly related discussion on this in following as well (though haven&#39;t figured out yet how to apply this when using <code>HttpClient</code> - <a href=\"https://github.com/Kotlin/kotlinx.serialization/issues/179\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.serialization/issues/179</a>"}], "answers": [{"comments": [{"owner": {"reputation": 14508, "user_id": 751581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6f8add1e3f8e4437fc89f08172de3c2d?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/751581/patrick"}, "edited": false, "score": 0, "creation_date": 1540728421, "post_id": 53021695, "comment_id": 92963195, "body": "Thanks for the response.  Something like this worked for me until."}, {"owner": {"reputation": 350, "user_id": 2458904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f23eb86ea85bca87c3f081025becba6?s=128&d=identicon&r=PG", "display_name": "Leonid", "link": "https://stackoverflow.com/users/2458904/leonid"}, "reply_to_user": {"reputation": 14508, "user_id": 751581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6f8add1e3f8e4437fc89f08172de3c2d?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/751581/patrick"}, "edited": false, "score": 1, "creation_date": 1569827767, "post_id": 53021695, "comment_id": 102707855, "body": "Btw we will introduce <code>typeOf</code> feature support in 1.3.0."}, {"owner": {"reputation": 10605, "user_id": 1949554, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d43d63dddaff1f4e278a9cdfdcf3b817?s=128&d=identicon&r=PG&f=1", "display_name": "FRR", "link": "https://stackoverflow.com/users/1949554/frr"}, "edited": false, "score": 1, "creation_date": 1579637386, "post_id": 53021695, "comment_id": 105830489, "body": "@Leonid now that 1.3.0 is available could you edit this answer to use <code>typeOf</code>? Thanks!"}, {"owner": {"reputation": 1837, "user_id": 1006580, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/ccfe359078faedfd6256a0431433fa19?s=128&d=identicon&r=PG", "display_name": "Nestor Ledon", "link": "https://stackoverflow.com/users/1006580/nestor-ledon"}, "edited": false, "score": 0, "creation_date": 1591403899, "post_id": 53021695, "comment_id": 110052490, "body": "client.get was gold for me."}], "tags": [], "owner": {"reputation": 350, "user_id": 2458904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f23eb86ea85bca87c3f081025becba6?s=128&d=identicon&r=PG", "display_name": "Leonid", "link": "https://stackoverflow.com/users/2458904/leonid"}, "is_accepted": true, "score": 6, "last_activity_date": 1582901941, "last_edit_date": 1582901941, "creation_date": 1540641663, "answer_id": 53021695, "question_id": 52971069, "link": "https://stackoverflow.com/questions/52971069/ktor-serialize-deserialize-json-with-list-as-root-in-multiplatform/53021695#53021695", "title": "Ktor: Serialize/Deserialize JSON with List as root in Multiplatform", "body": "<p><strong>Update with ktor 1.3.0:</strong></p>\n\n<p>Now you're able to receive default collections(such a list) from the client directly:</p>\n\n<pre><code>@Serializable\ndata class User(val id: Int)\n\nval response: List&lt;User&gt; = client.get(...)\n// or client.get&lt;List&lt;User&gt;&gt;(...)\n</code></pre>\n\n<p><strong>Before ktor 1.3.0:</strong></p>\n\n<p>There is no way to (de)serialize such JSON in the kotlinx.serialization yet.</p>\n\n<p>For serialization you could try something like this:</p>\n\n<pre><code>fun serializer(data: Any) = if (data is List&lt;*&gt;) {\n   if (data is EmptyList) String::class.serializer().list // any class with serializer \n   else data.first()::class.serializer().list\n} else data.serializer()\n</code></pre>\n\n<p>And there are no known ways to get the list deserializer.</p>\n"}, {"tags": [], "owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "is_accepted": false, "score": 5, "last_activity_date": 1548005303, "last_edit_date": 1548005303, "creation_date": 1547975884, "answer_id": 54275039, "question_id": 52971069, "link": "https://stackoverflow.com/questions/52971069/ktor-serialize-deserialize-json-with-list-as-root-in-multiplatform/54275039#54275039", "title": "Ktor: Serialize/Deserialize JSON with List as root in Multiplatform", "body": "<p>This is more of a workaround but after stepping through <code>KotlinxSerializer</code> code I couldn't see any other way round it.  If you look at <code>KotlinxSerializer.read()</code> for example you can see it tries to look up a <code>mapper</code> based on <code>type</code> but in this case it's just a <code>kotlin.collections.List</code> and doesn't resolve.  I had tried calling something like <code>setListMapper(MyClass::class, MyClass.serializer())</code> but this only works for serialization (using by <code>lookupSerializerByData</code> method in <code>write</code>)</p>\n\n<pre><code>override suspend fun read(type: TypeInfo, response: HttpResponse): Any {\n    val mapper = lookupSerializerByType(type.type)\n    val text = response.readText()\n\n    @Suppress(\"UNCHECKED_CAST\")\n    return json.parse(mapper as KSerializer&lt;Any&gt;, text)\n}\n</code></pre>\n\n<p>So, what I ended up doing was something like (note the <code>serializer().list</code> call)</p>\n\n<pre><code>suspend fun fetchBusStops(): List&lt;BusStop&gt; {\n    val jsonArrayString = client.get&lt;String&gt; {\n        url(\"$baseUrl/stops.json\")\n    }\n\n    return JSON.nonstrict.parse(BusStop.serializer().list, jsonArrayString)\n}\n</code></pre>\n\n<p>Not ideal and obviously doesn't make use of <code>JsonFeature</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1140, "user_id": 5662581, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a065f5d0a4e4ffd49c6df32f02a8d9b2?s=128&d=identicon&r=PG", "display_name": "wudizhuo", "link": "https://stackoverflow.com/users/5662581/wudizhuo"}, "edited": false, "score": 1, "creation_date": 1550825834, "post_id": 54714777, "comment_id": 96421459, "body": "Nice solution, actually we don&#39;t need to register it at step 2, Ktor will automatically apply the MyClassList.serializer()"}, {"owner": {"reputation": 10605, "user_id": 1949554, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d43d63dddaff1f4e278a9cdfdcf3b817?s=128&d=identicon&r=PG&f=1", "display_name": "FRR", "link": "https://stackoverflow.com/users/1949554/frr"}, "edited": false, "score": 0, "creation_date": 1563074029, "post_id": 54714777, "comment_id": 100578616, "body": "I actually do need to register, otherwise, it only works on debugging (progard breaks it somehow)"}, {"owner": {"reputation": 1855, "user_id": 6126461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QJok9.jpg?s=128&g=1", "display_name": "Kurt Acosta", "link": "https://stackoverflow.com/users/6126461/kurt-acosta"}, "edited": false, "score": 2, "creation_date": 1568182053, "post_id": 54714777, "comment_id": 102188752, "body": "Defeats the purpose of having a generic though. Hope this gets a better solution soon"}], "tags": [], "owner": {"reputation": 490, "user_id": 5456841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d3835ec65f0e566ab91b3fb525b899e?s=128&d=identicon&r=PG&f=1", "display_name": "Maxim Pestryakov", "link": "https://stackoverflow.com/users/5456841/maxim-pestryakov"}, "is_accepted": false, "score": 9, "last_activity_date": 1550849183, "last_edit_date": 1550849183, "creation_date": 1550253682, "answer_id": 54714777, "question_id": 52971069, "link": "https://stackoverflow.com/questions/52971069/ktor-serialize-deserialize-json-with-list-as-root-in-multiplatform/54714777#54714777", "title": "Ktor: Serialize/Deserialize JSON with List as root in Multiplatform", "body": "<p>You can write wrapper and custom serializer:</p>\n\n<pre><code>@Serializable\nclass MyClassList(\n    val items: List&lt;MyClass&gt;\n) {\n\n    @Serializer(MyClassList::class)\n    companion object : KSerializer&lt;MyClassList&gt; {\n\n        override val descriptor = StringDescriptor.withName(\"MyClassList\")\n\n        override fun serialize(output: Encoder, obj: MyClassList) {\n            MyClass.serializer().list.serialize(output, obj.items)\n        }\n\n        override fun deserialize(input: Decoder): MyClassList {\n            return MyClassList(MyClass.serializer().list.deserialize(input))\n        }\n    }\n}\n</code></pre>\n\n<p>Register it:</p>\n\n<pre><code>HttpClient {\n    install(JsonFeature) {\n        serializer = KotlinxSerializer().apply {\n            setMapper(MyClassList::class, MyClassList.serializer())\n        }\n    }\n}\n</code></pre>\n\n<p>And use:</p>\n\n<pre><code>suspend fun fetchItems(): List&lt;MyClass&gt; {\n    return client.get&lt;MyClassList&gt;(URL).items\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 142, "user_id": 6762864, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9929bfb2f6d50f90c92f7ff761a8d596?s=128&d=identicon&r=PG&f=1", "display_name": "Karol Jurski", "link": "https://stackoverflow.com/users/6762864/karol-jurski"}, "edited": false, "score": 3, "creation_date": 1561806207, "post_id": 56402301, "comment_id": 100187386, "body": "Works only if you register only one list serializer. When there are more, KotlinxSerializer.lookupSerializerByType() doesn&#39;t distinguish between them and picks unpredictably."}], "tags": [], "owner": {"reputation": 302, "user_id": 4801152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/119d66f25434b0432e67887ad8b4f64c?s=128&d=identicon&r=PG&f=1", "display_name": "Naliwe", "link": "https://stackoverflow.com/users/4801152/naliwe"}, "is_accepted": false, "score": 0, "last_activity_date": 1559341252, "creation_date": 1559341252, "answer_id": 56402301, "question_id": 52971069, "link": "https://stackoverflow.com/questions/52971069/ktor-serialize-deserialize-json-with-list-as-root-in-multiplatform/56402301#56402301", "title": "Ktor: Serialize/Deserialize JSON with List as root in Multiplatform", "body": "<p>I happened to have the same problem on Kotlin/JS, and managed to fix it this way:</p>\n\n<pre><code>private val client = HttpClient(Js) {\n  install(JsonFeature) {\n    serializer = KotlinxSerializer().apply {\n      register(User.serializer().list)\n    }\n  }\n}\n...\nprivate suspend fun fetchUsers(): Sequence&lt;User&gt; =\n    client.get&lt;List&lt;User&gt;&gt; {\n      url(\"$baseUrl/users\")\n    }.asSequence()\n</code></pre>\n\n<p>Hope this helps :)</p>\n"}], "owner": {"reputation": 14508, "user_id": 751581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6f8add1e3f8e4437fc89f08172de3c2d?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/751581/patrick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6079, "favorite_count": 1, "accepted_answer_id": 53021695, "answer_count": 4, "score": 8, "last_activity_date": 1582901941, "creation_date": 1540389947, "last_edit_date": 1552645718, "question_id": 52971069, "link": "https://stackoverflow.com/questions/52971069/ktor-serialize-deserialize-json-with-list-as-root-in-multiplatform", "title": "Ktor: Serialize/Deserialize JSON with List as root in Multiplatform", "body": "<p>How can we use kotlin.serialize with Ktor's HttpClient to deserialize/serialize JSON with lists as root?  I am creating the HttpClient as follows:</p>\n\n<pre><code>HttpClient {\n       install(JsonFeature) {\n           serializer = KotlinxSerializer().apply {\n               setMapper(MyClass::class, MyClass.serializer())\n               setMapper(AnotherClass::class, AnotherClass.serializer())\n           }\n       }\n       install(ExpectSuccess)\n   }\n</code></pre>\n\n<p>Appears I need to setMapper for List, however that is not possible with generics.  I see I can get the serializer for it with MyClass.serializer().list, but registering it to deserialize/serialize on http requests is not straight forward.  Anyone know of a good solution?</p>\n"}, {"tags": ["android", "firebase", "kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1540393424, "post_id": 52970888, "comment_id": 92850882, "body": "Which Android version are you testing on? If it&#39;s 8.0 or later, have you created a notifiction channel?"}, {"owner": {"reputation": 47, "user_id": 6932609, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1245072032204666/picture?type=large", "display_name": "Bartosz Kubacki", "link": "https://stackoverflow.com/users/6932609/bartosz-kubacki"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1540410662, "post_id": 52970888, "comment_id": 92860340, "body": "Android 7.0 Nougat"}], "owner": {"reputation": 47, "user_id": 6932609, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/1245072032204666/picture?type=large", "display_name": "Bartosz Kubacki", "link": "https://stackoverflow.com/users/6932609/bartosz-kubacki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540390115, "creation_date": 1540389458, "last_edit_date": 1540390115, "question_id": 52970888, "link": "https://stackoverflow.com/questions/52970888/firebase-configuration-for-android", "title": "FireBase - Configuration for Android", "body": "<p>I want to connect my app (written in Kotlin) with Firebase Cloud Messaging but I cannot get it to receive messages from firebase...</p>\n\n<p>Code:</p>\n\n<p>Manifest</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"kubacki.com.expiryassistant\"&gt;\n\n&lt;uses-permission android:name=\"android.permission.RECEIVE_BOOT_COMPLETED\" /&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity\n        android:name=\".MainActivity\"\n        android:configChanges=\"orientation|screenSize|keyboardHidden\"\n        android:label=\"@string/app_name\"\n        android:theme=\"@style/AppTheme.NoActionBar\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;service\n        android:name=\".MyFirebaseMessaging\"\n        android:enabled=\"true\"\n        android:exported=\"true\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"com.google.firebase.MESSAGING_EVENT\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/service&gt;\n\n&lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Message Receiver class:</p>\n\n<pre><code>package kubacki.com.expiryassistant\n\nimport android.app.Service\nimport android.content.Intent\nimport android.os.IBinder\nimport android.util.Log\nimport com.google.firebase.iid.FirebaseInstanceId\nimport com.google.firebase.messaging.FirebaseMessagingService\nimport com.google.firebase.messaging.RemoteMessage\n\nclass MyFirebaseMessaging : FirebaseMessagingService() {\n\nprivate val TAG = \"FIREBASE\"\n\noverride fun onMessageReceived(p0: RemoteMessage?) {\n    super.onMessageReceived(p0)\n\n    Log.d(TAG, \"From: \" + p0?.from)\n    Log.d(TAG, \"Message: \" + p0?.notification)\n}\n\noverride fun onNewToken(p0: String?) {\n    super.onNewToken(p0)\n\n    Log.d(TAG, p0)\n}\n\n}\n</code></pre>\n\n<p>build.grade (Project)</p>\n\n<pre><code>buildscript {\n        ext.kotlin_version = '1.2.30'\n        repositories {\n            google()\n            jcenter()\n        }\n   dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // FIREBASE\n        classpath 'com.google.gms:google-services:4.0.1'\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>build.gradle (module)</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 27\n    defaultConfig {\n        applicationId \"kubacki.com.expiryassistant\"\n        minSdkVersion 21\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \n\"android.support.test.runner.AndroidJUnitRunner\"\n}\nbuildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), \n'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:27.1.1'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation 'com.android.support:design:27.1.1'\n    implementation 'com.android.support:support-v4:27.1.1'\n    implementation 'com.android.support:recyclerview-v7:27.1.1'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso- \ncore:3.0.2'\n\n    // ButterKnife\n    implementation 'com.jakewharton:butterknife:8.8.1'\n    kapt 'com.jakewharton:butterknife-compiler:8.8.1'\n\n    // RxJava\n    implementation \"io.reactivex.rxjava2:rxjava:2.1.16\"\n\n    // RxAndroid\n    implementation 'io.reactivex.rxjava2:rxandroid:2.0.2'\n\n    // FIREBASE\n    implementation 'com.google.firebase:firebase-core:16.0.4'\n    implementation 'com.google.firebase:firebase-messaging:17.3.4'\n    }\n\n    apply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>In the console I can see that Firebase in initalized successfully but I cannot see any messages received after sending them via console.</p>\n\n<p>I might have forgotten about some steps of configuration but I have already went through all tutorials and I believe that my code should work.</p>\n\n<p>Thank you for all help on this case.</p>\n"}, {"tags": ["android", "kotlin", "connection"], "comments": [{"owner": {"reputation": 4873, "user_id": 709683, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/f11fa.png?s=128&g=1", "display_name": "Stefano Mtangoo", "link": "https://stackoverflow.com/users/709683/stefano-mtangoo"}, "edited": false, "score": 0, "creation_date": 1540389300, "post_id": 52970538, "comment_id": 92847895, "body": "where is this code located? What is the Context of this code?"}, {"owner": {"reputation": 2736, "user_id": 5082285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6346341a24fb90f9ac3fb4ef1136d564?s=128&d=identicon&r=PG&f=1", "display_name": "Markus Kauppinen", "link": "https://stackoverflow.com/users/5082285/markus-kauppinen"}, "edited": false, "score": 1, "creation_date": 1540390913, "post_id": 52970538, "comment_id": 92849101, "body": "Quoting Android&#39;s <a href=\"https://developer.android.com/reference/android/net/ConnectivityManager#getActiveNetworkInfo()\" rel=\"nofollow noreferrer\">ConnectivityManager documentation</a> on <code>getActiveNetworkInfo()</code>: <i>&quot;Returns a NetworkInfo object for the current default network or null if no default network is currently active&quot;</i>. So, it&#39;s supposed to return <code>null</code> and your code should handle this case."}], "answers": [{"tags": [], "owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "is_accepted": true, "score": 4, "last_activity_date": 1540398913, "creation_date": 1540398913, "answer_id": 52974011, "question_id": 52970538, "link": "https://stackoverflow.com/questions/52970538/how-to-fix-connectionmanager-activenetworkinfo-must-not-be-null-using-kotlin/52974011#52974011", "title": "how to fix connectionManager.activeNetworkInfo must not be null ? using kotlin", "body": "<p>This is due to what is called a \"platform type\" in Kotlin. Since <code>getActiveNetworkInfo()</code> is not annotated as <code>@Nullable</code> or <code>@NonNull</code> you can choose to declare it as either type. So both:</p>\n\n<pre><code>val netInfo: NetworkInfo = cnxManager.activeNetworkInfo\n</code></pre>\n\n<p>and </p>\n\n<pre><code>val netInfo: NetworkInfo? = cnxManager.activeNetworkInfo\n</code></pre>\n\n<p>are valid declarations. However, as Markus mentioned this method <em>can</em> return <code>null</code>, so you should declare it as the latter (nullable type). Any time you're doing interop with Java platform types, you have to be sure you declare it correctly.</p>\n\n<p>With this in mind, you could rewrite your code as:</p>\n\n<pre><code>private fun updateConnectionStatus(webView: WebView) {\n    val cnxManager = baseContext.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n\n    // Declare as a nullable type\n    val netInfo : NetworkInfo? = cnxManager.activeNetworkInfo\n\n    // Safe check -- assigns to false if netInfo is null\n    val connected = netInfo?.isConnectedOrConnecting ?: false\n    cnx_failed.visibility = if (connected) View.INVISIBLE else View.VISIBLE\n    webView.visibility = if (connected) View.VISIBLE else View.INVISIBLE\n}\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 10500886, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-geH9EbwbtUA/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVNKRvsPkmjxuvWeVidoGKVltTtnA/mo/photo.jpg?sz=128", "display_name": "KOTL NIAS", "link": "https://stackoverflow.com/users/10500886/kotl-nias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 616, "favorite_count": 0, "accepted_answer_id": 52974011, "answer_count": 1, "score": 2, "last_activity_date": 1540398913, "creation_date": 1540388442, "last_edit_date": 1540390679, "question_id": 52970538, "link": "https://stackoverflow.com/questions/52970538/how-to-fix-connectionmanager-activenetworkinfo-must-not-be-null-using-kotlin", "title": "how to fix connectionManager.activeNetworkInfo must not be null ? using kotlin", "body": "<p>i'm trying to check the connectivity and do some actions in each state but when i turn of the connection in my mobile the app crash and it give me this error 'cnxManager .activeNetworkInfo must not be null'</p>\n\n<p>My code</p>\n\n<pre><code>private fun isConnected(webView: WebView){\n    val cnxManager : ConnectivityManager = baseContext.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n    val netInfo : NetworkInfo = cnxManager.activeNetworkInfo\n\n    if (netInfo.isConnected &amp;&amp; netInfo.isConnectedOrConnecting){\n        cnx_failed.visibility=View.INVISIBLE\n        webView.visibility=View.VISIBLE\n    }else{\n        webView.visibility=View.INVISIBLE\n        cnx_failed.visibility=View.VISIBLE\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin", "android-external-storage", "android-storage"], "comments": [{"owner": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 0, "creation_date": 1540388729, "post_id": 52970132, "comment_id": 92847467, "body": "Do not get confused with the word &quot;external&quot;."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10413212"}, "reply_to_user": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 0, "creation_date": 1540390160, "post_id": 52970132, "comment_id": 92848540, "body": "I want to create a new folder in memory card. What code should I use."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1540390337, "post_id": 52970132, "comment_id": 92848657, "body": "Why do you ask a different question in the title than in the question?"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1540390361, "post_id": 52970132, "comment_id": 92848687, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/22219312/android-open-external-storage-directorysdcard-for-storing-file\">Android Open External Storage directory(sdcard) for storing file</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 0, "last_activity_date": 1540387850, "creation_date": 1540387850, "answer_id": 52970314, "question_id": 52970132, "link": "https://stackoverflow.com/questions/52970132/why-new-folder-creates-in-internal-storage-instead-of-external-storage/52970314#52970314", "title": "Why new folder creates in Internal Storage instead of External Storage?", "body": "<p>From <a href=\"https://developer.android.com/reference/android/os/Environment.html#getExternalStorageDirectory()\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/os/Environment.html#getExternalStorageDirectory()</a></p>\n\n<blockquote>\n  <p>Note: don't be confused by the word \"external\" here. This directory\n  can better be thought as media/shared storage. It is a filesystem that\n  can hold a relatively large amount of data and that is shared across\n  all applications (does not enforce permissions). Traditionally this is\n  an SD card, but it may also be implemented as built-in storage in a\n  device that is distinct from the protected internal storage and can be\n  mounted as a filesystem on a computer.</p>\n</blockquote>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10413212"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1540404103, "creation_date": 1540387349, "last_edit_date": 1540404103, "question_id": 52970132, "link": "https://stackoverflow.com/questions/52970132/why-new-folder-creates-in-internal-storage-instead-of-external-storage", "title": "Why new folder creates in Internal Storage instead of External Storage?", "body": "<p>I tries to create a new folder in External storage SD Card. Using this code:</p>\n\n<pre><code>val folderMain = \"NewFolder\"\nval f = File(Environment.getExternalStorageDirectory(), folderMain)\n\nif (!f.exists()) {\n    f.mkdirs()\n}\n</code></pre>\n\n<p>and this permission:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n\n<p>But after executing this code It creates a new folder in Internal storage. Here is the screenshot of Internal Storage:</p>\n\n<p><a href=\"https://i.stack.imgur.com/b1toa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b1toa.png\" alt=\"enter image description here\"></a></p>\n\n<p>While External Storage has no new folder in it. Here is the screenshot of External Storage:</p>\n\n<p><a href=\"https://i.stack.imgur.com/L58Sg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L58Sg.png\" alt=\"enter image description here\"></a></p>\n\n<p>What should I do? I want to create a new folder in External storage By using Kotlin or java codes.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "google-play"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1540387730, "post_id": 52969958, "comment_id": 92846751, "body": "Try &#39;Analyze stack trace&#39;, line numbers should become clickable."}, {"owner": {"reputation": 1211, "user_id": 2199492, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6dd13243846a5c4b90cc5c7a60098020?s=128&d=identicon&r=PG", "display_name": "Crag", "link": "https://stackoverflow.com/users/2199492/crag"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1540388163, "post_id": 52969958, "comment_id": 92847052, "body": "@Miha_x64 The stack trace is from a crash report on the Google Play Store"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1540389902, "post_id": 52969958, "comment_id": 92848354, "body": "Yep, just copy it and paste into &#39;Analyze stack trace&#39; in AS/IDEA."}, {"owner": {"reputation": 1211, "user_id": 2199492, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6dd13243846a5c4b90cc5c7a60098020?s=128&d=identicon&r=PG", "display_name": "Crag", "link": "https://stackoverflow.com/users/2199492/crag"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1540391815, "post_id": 52969958, "comment_id": 92849751, "body": "Thank you! Could you make that an answer so I can accept it?"}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1561628442, "post_id": 52969958, "comment_id": 100130579, "body": "To decompile to Java see <a href=\"https://stackoverflow.com/a/54116131/2914140\">stackoverflow.com/a/54116131/2914140</a>."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1561638377, "post_id": 52969958, "comment_id": 100136207, "body": "It takes about an hour to decompile of 900 Kotlin lines. Creates a Java file of more than 200 Mb (shows only 2 Mb). Every Kotlin line is converted to several Java lines. Inner variables get names like &quot;var10000&quot; , methods and classes retain their names. You won&#39;t have right positions of stacktrace in created Java code."}, {"owner": {"reputation": 91, "user_id": 11669474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/79d4d91885ae510e8438127d35a34587?s=128&d=identicon&r=PG&f=1", "display_name": "Nidhi Desai", "link": "https://stackoverflow.com/users/11669474/nidhi-desai"}, "edited": false, "score": 0, "creation_date": 1594363874, "post_id": 52969958, "comment_id": 111105044, "body": "Is there any way to directly trace kotlin file with number?"}], "answers": [{"comments": [{"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1541338778, "post_id": 52971879, "comment_id": 93174471, "body": "I am sorry for contacting you this way (my comment isnt related to your input here). I came across a question you voted on in &quot;triage&quot; where you made the wrong choice. Please: study the help for triage carefully, to avoid putting items into the edit queue that don&#39;t belong there. I hope you see this as a chance to improve your voting. I am specifically talking about <a href=\"https://stackoverflow.com/review/triage/21319913\">stackoverflow.com/review/triage/21319913</a>. Feel free to drop me a comment in case you have further questions or feedback for me. If you give me a short heads up, I will quickly delete this comment."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "reply_to_user": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1541420102, "post_id": 52971879, "comment_id": 93198754, "body": "Please take a look on how questions should be asked on SO. You can&#39;t just ask the community to find articles, tutorials, or write the code for you. You must try to solve it yourself, and, when you struggle, ask a concrete question about a problem you facing."}, {"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1541422456, "post_id": 52971879, "comment_id": 93199886, "body": "I guess that comment you put here wasn&#39;t meant to show up <i>here</i>?"}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 4, "creation_date": 1561627658, "post_id": 52971879, "comment_id": 100130097, "body": "Sorry, but lines become only clickable, nothing more. No references to original Kotlin code. For instance, <code>SelectRaduisFragment.access$centerLocation(Unknown Source:97)</code>."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1561629952, "post_id": 52971879, "comment_id": 100131501, "body": "<code>Unknown Source</code> means that <code>LineNumberTable</code> was obfuscated a bit. Try fixing stack trace either with <code>retrace</code> or by hand (e. g. by replacing <code>Unknown Source</code> with <code>SelectRaduisFragment</code>)."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1561637458, "post_id": 52971879, "comment_id": 100135655, "body": "@Miha_x64, after an hour of decompiling to Java I got a huge Java-file. Crash log doesn&#39;t point neighter Kotlin, nor decompiled code. I suspect it points to Java lambdas. I don&#39;t know, how to retrace it."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1561640290, "post_id": 52971879, "comment_id": 100137438, "body": "Decompiled Java lines won&#39;t ever point to Kotlin lines. Related: <a href=\"https://discuss.kotlinlang.org/t/stacktrace-points-to-line-after-end-of-file/4129\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/&hellip;</a>"}], "tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": true, "score": 4, "last_activity_date": 1540392304, "creation_date": 1540392304, "answer_id": 52971879, "question_id": 52969958, "link": "https://stackoverflow.com/questions/52969958/kotlin-code-stack-trace-shows-java-line-numbers/52971879#52971879", "title": "Kotlin code stack trace shows Java line numbers", "body": "<p>Copy your stack trace, open Android Studio or IntelliJ IDEA, click Analyze -> Analyze Stack Trace, paste it and click Ok.\nClass names with lines will become clickable and clicks should work correctly.</p>\n"}, {"tags": [], "owner": {"reputation": 1211, "user_id": 2199492, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6dd13243846a5c4b90cc5c7a60098020?s=128&d=identicon&r=PG", "display_name": "Crag", "link": "https://stackoverflow.com/users/2199492/crag"}, "is_accepted": false, "score": 0, "last_activity_date": 1612358742, "creation_date": 1612358742, "answer_id": 66028491, "question_id": 52969958, "link": "https://stackoverflow.com/questions/52969958/kotlin-code-stack-trace-shows-java-line-numbers/66028491#66028491", "title": "Kotlin code stack trace shows Java line numbers", "body": "<p>Answer update, in Android Studio 4.1, it looks like the menu option changed:</p>\n<pre><code>Analyze -&gt; Stack Trace or Thread Dump...\n</code></pre>\n"}], "owner": {"reputation": 1211, "user_id": 2199492, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/6dd13243846a5c4b90cc5c7a60098020?s=128&d=identicon&r=PG", "display_name": "Crag", "link": "https://stackoverflow.com/users/2199492/crag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1983, "favorite_count": 4, "accepted_answer_id": 52971879, "answer_count": 2, "score": 4, "last_activity_date": 1612358742, "creation_date": 1540386783, "question_id": 52969958, "link": "https://stackoverflow.com/questions/52969958/kotlin-code-stack-trace-shows-java-line-numbers", "title": "Kotlin code stack trace shows Java line numbers", "body": "<p>I'm trying to debug a couple of crashes for my app in the Google Play Store, but the stack traces showing in the Play Store show Java filenames and line numbers instead of direct references to my Kotlin code. I viewed the Java code in Android Studio, but the line numbers do not match.</p>\n\n<p>To view the Java code, I converted to byte code and then decompiled to Java. There's also a more direct option in Android Studio to 'Decompile Kotlin to Java', but this is disabled; my hope was that this would give me a better match against the stack traces.</p>\n\n<p>How can I use the stack trace info I see in crash reports in the Play Store to identify the problems in my Kotlin source code?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "listadapter"], "comments": [{"owner": {"reputation": 4578, "user_id": 6207294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHNFn.jpg?s=128&g=1", "display_name": "shb", "link": "https://stackoverflow.com/users/6207294/shb"}, "edited": false, "score": 0, "creation_date": 1540385047, "post_id": 52969289, "comment_id": 92844800, "body": "did you try &#39;getAdapterPosition()&#39; ?"}, {"owner": {"reputation": 1186, "user_id": 5071078, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8nDIo.jpg?s=128&g=1", "display_name": "Mohammad Hadi", "link": "https://stackoverflow.com/users/5071078/mohammad-hadi"}, "reply_to_user": {"reputation": 4578, "user_id": 6207294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHNFn.jpg?s=128&g=1", "display_name": "shb", "link": "https://stackoverflow.com/users/6207294/shb"}, "edited": false, "score": 0, "creation_date": 1540385167, "post_id": 52969289, "comment_id": 92844915, "body": "yes this method return int position, and I use it, but I want to get the obejct of row by that position, it &#39;s the question"}], "answers": [{"comments": [{"owner": {"reputation": 1186, "user_id": 5071078, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8nDIo.jpg?s=128&g=1", "display_name": "Mohammad Hadi", "link": "https://stackoverflow.com/users/5071078/mohammad-hadi"}, "edited": false, "score": 0, "creation_date": 1540385795, "post_id": 52969470, "comment_id": 92845392, "body": "I didn&#39;t get it , how adding &#39;myDataObj&#39; variable can help me"}, {"owner": {"reputation": 256, "user_id": 3350821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TuGpr.png?s=128&g=1", "display_name": "Sai Prasad", "link": "https://stackoverflow.com/users/3350821/sai-prasad"}, "reply_to_user": {"reputation": 1186, "user_id": 5071078, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8nDIo.jpg?s=128&g=1", "display_name": "Mohammad Hadi", "link": "https://stackoverflow.com/users/5071078/mohammad-hadi"}, "edited": false, "score": 1, "creation_date": 1540386823, "post_id": 52969470, "comment_id": 92846128, "body": "looks like you have used method getItem(position) in adapter class. Make use of it."}, {"owner": {"reputation": 1186, "user_id": 5071078, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8nDIo.jpg?s=128&g=1", "display_name": "Mohammad Hadi", "link": "https://stackoverflow.com/users/5071078/mohammad-hadi"}, "edited": false, "score": 0, "creation_date": 1540387138, "post_id": 52969470, "comment_id": 92846346, "body": "please change your answer just to this comment so I can accept it as answer, thank you"}, {"owner": {"reputation": 1186, "user_id": 5071078, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8nDIo.jpg?s=128&g=1", "display_name": "Mohammad Hadi", "link": "https://stackoverflow.com/users/5071078/mohammad-hadi"}, "edited": false, "score": 0, "creation_date": 1540388453, "post_id": 52969470, "comment_id": 92847279, "body": "no need for viewHolder changes, just fun getItemData() do the task, thanks again"}, {"owner": {"reputation": 256, "user_id": 3350821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TuGpr.png?s=128&g=1", "display_name": "Sai Prasad", "link": "https://stackoverflow.com/users/3350821/sai-prasad"}, "reply_to_user": {"reputation": 1186, "user_id": 5071078, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8nDIo.jpg?s=128&g=1", "display_name": "Mohammad Hadi", "link": "https://stackoverflow.com/users/5071078/mohammad-hadi"}, "edited": false, "score": 0, "creation_date": 1540453530, "post_id": 52969470, "comment_id": 92873598, "body": "Yes, Initially I misunderstood the question."}], "tags": [], "owner": {"reputation": 256, "user_id": 3350821, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TuGpr.png?s=128&g=1", "display_name": "Sai Prasad", "link": "https://stackoverflow.com/users/3350821/sai-prasad"}, "is_accepted": true, "score": 1, "last_activity_date": 1540386909, "last_edit_date": 1540386909, "creation_date": 1540385391, "answer_id": 52969470, "question_id": 52969289, "link": "https://stackoverflow.com/questions/52969289/android-how-get-item-by-position-from-recyclerview-extend-listadapter/52969470#52969470", "title": "android how get item by position from RecyclerView extend ListAdapter", "body": "<p>There is no method available to access your data object, you have to maintain manually.</p>\n\n<pre><code>class QuotesRvAdapter(val mListener : OnQuotesRvListListener):\n        ListAdapter&lt;TblQuote, QuotesRvAdapter.ViewHolder&gt;(TaskDiffCallback())\n\n{\n    public YourDataClassName getItemData ( int position)\n    {\n        return getItem(position)\n\n    }\n\n\nclass ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\nvar myDataObj: YourDataClassName;\n\nfun bind(quote: TblQuote, mListener: OnQuotesRvListListener, myData: YourDataClassName) {\n        myDataObj = myData;\n        itemView.txtQuoteRow.text = quote.toString()\n        itemView.ivDeleteRow.setOnClickListener { mListener.onDeleteQuote(quote) }\n        itemView.setOnClickListener{ mListener.onPrepareForUpdate(quote) }\n}\n\n}\n\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1186, "user_id": 5071078, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/8nDIo.jpg?s=128&g=1", "display_name": "Mohammad Hadi", "link": "https://stackoverflow.com/users/5071078/mohammad-hadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 840, "favorite_count": 0, "accepted_answer_id": 52969470, "answer_count": 1, "score": 0, "last_activity_date": 1540386909, "creation_date": 1540384909, "last_edit_date": 1540385108, "question_id": 52969289, "link": "https://stackoverflow.com/questions/52969289/android-how-get-item-by-position-from-recyclerview-extend-listadapter", "title": "android how get item by position from RecyclerView extend ListAdapter", "body": "<p>I use ListAdapter in my RecyclerView Adpater like below code\nquestion is how can I get item object from my view by it's row position.\nI try to write a function in my adapter to get item object by it's position called from view but because I don't have any list in my adapter I can't access it to get it's item object value</p>\n\n<pre><code>class QuotesRvAdapter(val mListener : OnQuotesRvListListener):\n    ListAdapter&lt;TblQuote, QuotesRvAdapter.ViewHolder&gt;(TaskDiffCallback())\n{\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    val inflater = LayoutInflater.from(parent.context)\n    return ViewHolder(inflater.inflate(R.layout.row_quote, parent, false))\n}\n\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    holder.bind(getItem(position),mListener)\n}\n\nclass ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n    fun bind(quote: TblQuote, mListener: OnQuotesRvListListener) {\n        itemView.txtQuoteRow.text = quote.toString()\n        itemView.ivDeleteRow.setOnClickListener { mListener.onDeleteQuote(quote) }\n        itemView.setOnClickListener{ mListener.onPrepareForUpdate(quote) }\n    }\n}\n\nclass TaskDiffCallback : DiffUtil.ItemCallback&lt;TblQuote&gt;() {\n    override fun areItemsTheSame(oldItem: TblQuote, newItem: TblQuote): Boolean {\n        return oldItem.id == newItem.id\n    }\n\n    override fun areContentsTheSame(oldItem: TblQuote, newItem: TblQuote): Boolean {\n        return oldItem == newItem\n    }\n}\n\n\ninterface OnQuotesRvListListener{\n    fun onDeleteQuote(ob: TblQuote)\n    fun onPrepareForUpdate(ob: TblQuote)\n}\n\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10539074"}, "edited": false, "score": 0, "creation_date": 1540386084, "post_id": 52969271, "comment_id": 92845624, "body": "declare variables in interface is ugly and bad practice"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1540418813, "post_id": 52969271, "comment_id": 92863557, "body": "Thanks @Eugene. I&#39;m just experimenting the language feature."}], "answers": [{"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1540417663, "post_id": 52969434, "comment_id": 92863229, "body": "Thanks. I like your answer, but that makes the <code>interfaceValue</code> no longer accessible from the implementor, which makes it different from what it was originally intended. I still give you a vote for the syntactically correctness of it. Thanks!"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1540418773, "post_id": 52969434, "comment_id": 92863548, "body": "I have another answer, which I think mimic the original behavior. <a href=\"https://stackoverflow.com/a/52978332/3286489\">stackoverflow.com/a/52978332/3286489</a> Do check it out and let me think what your thought is. Thanks."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "reply_to_user": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1540419283, "post_id": 52969434, "comment_id": 92863693, "body": "Your answer loosens the constraints on <code>interfaceValue</code> from <code>final</code> to <code>open</code>. Also It will no longer be static."}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1540420071, "post_id": 52969434, "comment_id": 92863922, "body": "Agree, it is no longer syntatically correct. Though it is not final, it is not mutable too. Hence in practical, the usage would be more similar to the original Java version."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "reply_to_user": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1540420511, "post_id": 52969434, "comment_id": 92864050, "body": "<code>final</code> in the sense that you cannot override or change it. You can not change the value of <code>interfaceValue</code> in the java interface either"}], "tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 1, "last_activity_date": 1540422176, "last_edit_date": 1540422176, "creation_date": 1540385276, "answer_id": 52969434, "question_id": 52969271, "link": "https://stackoverflow.com/questions/52969271/how-to-access-java-interface-static-variable-after-converted-to-kotlin/52969434#52969434", "title": "How to access Java Interface Static variable after converted to Kotlin", "body": "<p>The conversion converts the <a href=\"https://stackoverflow.com/questions/2430756/why-are-interface-variables-static-and-final-by-default\">static final <code>interfaceValue</code></a> to a <code>val</code> in the <code>companion</code> Kotlins equivalent of that. Unfortunately the converter is not perfect and sometimes messes thing up. To access it</p>\n\n<pre><code>import com.your.package.Experimenting.MyInteface.Companion.interfaceValue    \nclass Experimenting {\n\n    internal var myImpl = MyImpl()\n\n    interface MyInteface {\n        companion object {\n           const val interfaceValue = 10\n        }\n    }\n\n    internal inner class MyImpl : MyInteface\n\n    internal fun testing() {\n        val getInterfaceValue = interfaceValue\n    } \n}\n</code></pre>\n\n<p>does the trick.</p>\n\n<p>also does:</p>\n\n<pre><code>class Experimenting {\n\n    internal var myImpl = MyImpl()\n\n    interface MyInteface {\n        companion object {\n           val interfaceValue = 10\n        }\n    }\n\n    internal inner class MyImpl : MyInteface\n\n    internal fun testing() {\n        val getInterfaceValue = MyInteface.interfaceValue\n    }\n}\n</code></pre>\n\n<p>A third way would be to copy the value of <code>interfaceValue</code> into the implementing class:</p>\n\n<pre><code>class Experimenting {\n\n    internal var myImpl = MyImpl()\n\n    interface MyInteface {\n        companion object {\n            const val interfaceValue = 10\n        }\n    }\n\n    internal inner class MyImpl : MyInteface{\n        val interfaceValue = MyInteface.interfaceValue\n    }\n\n    internal fun testing() {\n        val getInterfaceValue = myImpl.interfaceValue\n    }\n}\n</code></pre>\n\n<p>Basically you access it like you would access a static variable in java.</p>\n"}, {"comments": [{"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1540418978, "post_id": 52978332, "comment_id": 92863603, "body": "What this lets you do is override the <code>interfaceValue</code>. If this is what you want go for it. It really depends if the <code>interfaceValue</code> is constant for all <code>MyInterface</code>s (my answer and the behaviout as it is in java) or should be able to be overridden (this)."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1540419145, "post_id": 52978332, "comment_id": 92863645, "body": "consider <code>internal inner class MyMyImpl : MyInteface{         override val interfaceValue : Int         get() = 11     }</code>"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1540420171, "post_id": 52978332, "comment_id": 92863945, "body": "I see, one could override it. You have the point, that the subtle different."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1540420858, "post_id": 52978332, "comment_id": 92864162, "body": "This is the kind of difference that causes hard to fix bugs. So if you do this do not assume it to be equal to the java code."}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1540420987, "post_id": 52978332, "comment_id": 92864208, "body": "I guess in short Java != Kotlin, and Kotlin != Java. Both have its pro con."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1540421702, "post_id": 52978332, "comment_id": 92864425, "body": "I just noticed you can shadow the interface property in Java. So yeah, this comes closer to the Java version. But you can also do that in Kotlin"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "reply_to_user": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1540421916, "post_id": 52978332, "comment_id": 92864494, "body": "Can you provide more detail of what you mean?"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "edited": false, "score": 0, "creation_date": 1540421958, "post_id": 52978332, "comment_id": 92864502, "body": "` internal inner class MyImpl : MyInteface{         val interfaceValue = 0     }      internal fun testing() {         val getInterfaceValue = myImpl.interfaceValue     }`"}], "tags": [], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "is_accepted": false, "score": 0, "last_activity_date": 1540417579, "creation_date": 1540417579, "answer_id": 52978332, "question_id": 52969271, "link": "https://stackoverflow.com/questions/52969271/how-to-access-java-interface-static-variable-after-converted-to-kotlin/52978332#52978332", "title": "How to access Java Interface Static variable after converted to Kotlin", "body": "<p>I guess the right conversion of such Java code to Kotlin code should be as below</p>\n\n<pre><code>class Experimenting {\n\n    internal var myImpl = MyImpl()\n\n    interface MyInteface {\n\n        val interfaceValue: Int\n        get() = 10\n    }\n\n    internal inner class MyImpl : MyInteface\n\n    internal fun testing() {\n        val getInterfaceValue = myImpl.interfaceValue\n    }\n}\n</code></pre>\n\n<p>Though syntactically they are different, i.e. <code>interfaceValue</code> not really a static variable anymore, but practicality the same.</p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 825, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1540422176, "creation_date": 1540384872, "last_edit_date": 1540385936, "question_id": 52969271, "link": "https://stackoverflow.com/questions/52969271/how-to-access-java-interface-static-variable-after-converted-to-kotlin", "title": "How to access Java Interface Static variable after converted to Kotlin", "body": "<p>I have a an Interface in Java with the static variable <code>interfaceValue</code> that I could access as below</p>\n\n<pre><code>public class Experimenting {\n\n    public interface MyInteface {\n        int interfaceValue = 10;\n    }\n\n    class MyImpl implements MyInteface { }\n\n    MyImpl myImpl = new MyImpl();\n\n    void testing() {\n        int getInterfaceValue = myImpl.interfaceValue;\n    }\n}\n</code></pre>\n\n<p>When I convert to Kotlin, it is as below</p>\n\n<pre><code>class Experimenting {\n\n    internal var myImpl = MyImpl()\n\n    interface MyInteface {\n        companion object {\n            val interfaceValue = 10\n        }\n    }\n\n    internal inner class MyImpl : MyInteface\n\n    internal fun testing() {\n        val getInterfaceValue = myImpl.interfaceValue\n    }\n}\n</code></pre>\n\n<p>However the <code>myImpl.interfaceValue</code> is showing compile error sign, where by it doesn't recognize the <code>interfaceValue</code>. How could I still access my <code>interfaceValue</code> in Kotlin?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 394, "user_id": 2123890, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/aQJoP.jpg?s=128&g=1", "display_name": "Manjunath Hegde", "link": "https://stackoverflow.com/users/2123890/manjunath-hegde"}, "edited": false, "score": 0, "creation_date": 1540382131, "post_id": 52968324, "comment_id": 92842899, "body": "Please correct any syntax mistakes."}, {"owner": {"reputation": 394, "user_id": 2123890, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/aQJoP.jpg?s=128&g=1", "display_name": "Manjunath Hegde", "link": "https://stackoverflow.com/users/2123890/manjunath-hegde"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1540382315, "post_id": 52968324, "comment_id": 92843026, "body": "as i said, im new to this, i have tried googling, i come from JS background, this is an attempt without much time to complete.  here is my js code. <code>export const findStatus = (container, value) =&gt; Object.values(container).find(status =&gt; status.value === value);</code>"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1540382484, "post_id": 52968324, "comment_id": 92843122, "body": "the best thing to do when working with a new language is to read some of the documentation. You will find for example that <code>object</code> is not what you want to use here, and there are some builtin functions that do what you are asking for here, given that you represent the data in a proper way"}, {"owner": {"reputation": 394, "user_id": 2123890, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/aQJoP.jpg?s=128&g=1", "display_name": "Manjunath Hegde", "link": "https://stackoverflow.com/users/2123890/manjunath-hegde"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1540382741, "post_id": 52968324, "comment_id": 92843285, "body": "@TimCastelijns, there is a specific reason why i chose object. and i&#39;m sure about that. please let me know if there anyway. thanks."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 2, "creation_date": 1540383016, "post_id": 52968324, "comment_id": 92843468, "body": "given the code you posted I am fairly certain you chose wrong. Could you share a bit more about what you are working on and why you think <code>object</code> is the right pick for it?"}, {"owner": {"reputation": 394, "user_id": 2123890, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/aQJoP.jpg?s=128&g=1", "display_name": "Manjunath Hegde", "link": "https://stackoverflow.com/users/2123890/manjunath-hegde"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1540383554, "post_id": 52968324, "comment_id": 92843804, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/182418/discussion-between-manjunath-hegde-and-tim-castelijns\">continue this discussion in chat</a>."}], "answers": [{"comments": [{"owner": {"reputation": 394, "user_id": 2123890, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/aQJoP.jpg?s=128&g=1", "display_name": "Manjunath Hegde", "link": "https://stackoverflow.com/users/2123890/manjunath-hegde"}, "edited": false, "score": 0, "creation_date": 1540392579, "post_id": 52971174, "comment_id": 92850311, "body": "hey, thanks for your answer, again this solves half of my problem. this is what i&#39;m trying achieve   <code>OrderStatus.IN_TRAY.code</code> and <code>OrderStatus.findStatusLabel(4)</code> it needs to be accessible in both cases. my code failed in finding label, this fails in other case."}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "reply_to_user": {"reputation": 394, "user_id": 2123890, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/aQJoP.jpg?s=128&g=1", "display_name": "Manjunath Hegde", "link": "https://stackoverflow.com/users/2123890/manjunath-hegde"}, "edited": false, "score": 0, "creation_date": 1540393843, "post_id": 52971174, "comment_id": 92851178, "body": "@ManjunathHegde, But it is accessible in both places, isn&#39;t it? You can get <code>label</code> with <code>findStatusLabel</code> method or you can directly get it from a <code>OrderStatus</code> object."}], "tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": true, "score": 1, "last_activity_date": 1540390298, "creation_date": 1540390298, "answer_id": 52971174, "question_id": 52968324, "link": "https://stackoverflow.com/questions/52968324/kotlin-how-to-get-object-value-using-loop/52971174#52971174", "title": "Kotlin - How to get object value using loop?", "body": "<p>Not sure what you're trying to achieve. But if you want to get <code>label</code> of a <code>StatusObject</code> by <code>value</code> than I can suggest to use <code>enum</code>, like this:</p>\n\n<pre><code>enum class OrderStatus(val label: String, val code: Int) {\n    IN_TRAY(\"In tray\", 0),\n    PAYMENT_PENDING(\"Payment Pending\", 1),\n    PAYMENT_DONE(\"Payment Done\", 2),\n    COMPLETED(\"Completed\", 3),\n    CANCELLED(\"Cancelled\", 4);\n\n    companion object {\n\n        fun findStatusLabel(code: Int): String {\n            return values().firstOrNull { it.code == code }?.label ?: \"\"\n        }\n    }\n}\n</code></pre>\n\n<p>And then you could do something like:</p>\n\n<pre><code>OrderStatus.findStatusLabel(4) // Will return Cancelled\n</code></pre>\n"}], "owner": {"reputation": 394, "user_id": 2123890, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/aQJoP.jpg?s=128&g=1", "display_name": "Manjunath Hegde", "link": "https://stackoverflow.com/users/2123890/manjunath-hegde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 52971174, "answer_count": 1, "score": -3, "last_activity_date": 1540390298, "creation_date": 1540381954, "last_edit_date": 1540382161, "question_id": 52968324, "link": "https://stackoverflow.com/questions/52968324/kotlin-how-to-get-object-value-using-loop", "title": "Kotlin - How to get object value using loop?", "body": "<pre><code>data class StatusObject(val label: String, val value: Int)\n\nobject OrderStatus {\n\n    val inTray = StatusObject(\"In tray\", 0)\n    val paymentPending = StatusObject(\"Payment Pending\", 1)\n    val paymentDone = StatusObject(\"Payment Done\", 2)\n    val completed = StatusObject(\"Completed\", 3)\n    val cancelled = StatusObject(\"Cancelled\", 4)\n\n}\n\nfun findStatusLable(statusObject: Objects, value: Int) {\n}\n</code></pre>\n\n<p>I am new to Kotlin, and trying to work on a small app. The function <code>findStatusLable</code> should return the label when provided the name of data object, and a numeric value. Any help is appreciated. </p>\n"}, {"tags": ["class", "types", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 2, "creation_date": 1540454316, "post_id": 52968064, "comment_id": 92874082, "body": "Note that <code>type is Class&lt;*&gt; &amp;&amp;</code> is redundant: if the (fixed) comparison succeeds, <code>type is Class&lt;*&gt;</code> is certainly true."}, {"owner": {"reputation": 5056, "user_id": 1196988, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Ih3Vl.jpg?s=128&g=1", "display_name": "Chris Nevill", "link": "https://stackoverflow.com/users/1196988/chris-nevill"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1540459153, "post_id": 52968064, "comment_id": 92876843, "body": "Thanks Alexey that&#39;s useful to know"}], "answers": [{"comments": [{"owner": {"reputation": 5056, "user_id": 1196988, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Ih3Vl.jpg?s=128&g=1", "display_name": "Chris Nevill", "link": "https://stackoverflow.com/users/1196988/chris-nevill"}, "edited": false, "score": 0, "creation_date": 1540381412, "post_id": 52968092, "comment_id": 92842444, "body": "Fab thanks! - I tried a number of similar things but missed that one!"}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": true, "score": 2, "last_activity_date": 1540381283, "creation_date": 1540381283, "answer_id": 52968092, "question_id": 52968064, "link": "https://stackoverflow.com/questions/52968064/compare-kotlin-type-and-java-class/52968092#52968092", "title": "Compare Kotlin type and java class", "body": "<p>To get the Java type, use the syntax</p>\n\n<pre><code>DateTime::class.java\n</code></pre>\n"}], "owner": {"reputation": 5056, "user_id": 1196988, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Ih3Vl.jpg?s=128&g=1", "display_name": "Chris Nevill", "link": "https://stackoverflow.com/users/1196988/chris-nevill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 363, "favorite_count": 0, "accepted_answer_id": 52968092, "answer_count": 1, "score": 0, "last_activity_date": 1540390277, "creation_date": 1540381213, "last_edit_date": 1540390277, "question_id": 52968064, "link": "https://stackoverflow.com/questions/52968064/compare-kotlin-type-and-java-class", "title": "Compare Kotlin type and java class", "body": "<p>I'm trying to create a request convertor like in this question except for JodaDateTime\n<a href=\"https://stackoverflow.com/questions/35793344/how-to-pass-custom-enum-in-query-via-retrofit\">How to pass custom enum in @Query via Retrofit?</a></p>\n\n<p>However I'm struggling comparing the type that's passed in with the Joda Date Time class.</p>\n\n<pre><code>class JodaDateConverterFactory : Converter.Factory() {\n\n    override fun stringConverter(\n        type: Type?, annotations: Array&lt;out Annotation&gt;?,\n        retrofit: Retrofit?\n    ): Converter&lt;*, String&gt;? {\n        if (type is Class&lt;*&gt; &amp;&amp; type==DateTime::class) {\n          return Converter&lt;Any?, String&gt; { value -&gt; (value as DateTime).toString(\"yyyy-MM-dd\") }\n        }\n        return null\n    }\n}\n</code></pre>\n\n<p>type==DateTime::class is returning false.</p>\n\n<p>I can see that type holds a string representing the Joda Date Time but I'm obviously comparing them incorrectly.</p>\n\n<p>What is the correct way to compare a kotlin type and a java class?</p>\n"}, {"tags": ["kotlin", "android-webview", "android-fragmentactivity", "android-progressbar"], "comments": [{"owner": {"reputation": 11, "user_id": 10551522, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NbrFZFa8G58/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCq2CZjxFSs-_zYxPHbbro-3pjTKw/mo/photo.jpg?sz=128", "display_name": "Noor Tata", "link": "https://stackoverflow.com/users/10551522/noor-tata"}, "edited": false, "score": 0, "creation_date": 1540380972, "post_id": 52967819, "comment_id": 92842150, "body": "or give me the answer how to add loading progress bar at any touch/click in activity or event at android kotlin"}], "owner": {"reputation": 11, "user_id": 10551522, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-NbrFZFa8G58/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbCq2CZjxFSs-_zYxPHbbro-3pjTKw/mo/photo.jpg?sz=128", "display_name": "Noor Tata", "link": "https://stackoverflow.com/users/10551522/noor-tata"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1540380869, "creation_date": 1540380493, "last_edit_date": 1540380869, "question_id": 52967819, "link": "https://stackoverflow.com/questions/52967819/how-do-i-create-a-progress-bar-on-a-webview-in-a-fragment-with-a-navigation-draw", "title": "How do I create a progress bar on a webview in a fragment with a navigation drawer? my language is kotlin", "body": "<p>until now I am still confused to display the progress bar in the webview navigation drawer, I will be very grateful for the answers\nthis is a MainActivity :</p>\n\n<pre><code>class MainActivity: AppCompatActivity(), NavigationView.OnNavigationItemSelectedListener {\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    setSupportActionBar(toolbar)\n    val toggle = ActionBarDrawerToggle(\n        this, drawer_layout, toolbar, R.string.navigation_drawer_open, R.string.navigation_drawer_close)\n    drawer_layout.addDrawerListener(toggle)\n    toggle.syncState()\n    nav_view.setNavigationItemSelectedListener(this)\n    displayScreen(-1) }\noverride fun onBackPressed() {\n    if (drawer_layout.isDrawerOpen(GravityCompat.START))\n        { drawer_layout.closeDrawer(GravityCompat.START) } \n    else { super.onBackPressed() }\n}\noverride fun onCreateOptionsMenu(menu: Menu): Boolean {\n    // Inflate the menu; this adds items to the action bar if it is present.\n    menuInflater.inflate(R.menu.main, menu)\n    return true\n}\noverride fun onOptionsItemSelected(item: MenuItem): Boolean {\n    when (item.itemId) {\n        R.id.action_settings -&gt; return true\n        else -&gt; return super.onOptionsItemSelected(item) }\n}\nfun  displayScreen (id: Int){\n    val fragment = when (id){\n        R.id.nav_home -&gt; { Home () }\n        R.id.nav_login -&gt; { login0 () }\n        else -&gt; { Home () }\n    }\n    supportFragmentManager.beginTransaction()\n        .replace(R.id.relativelayout, fragment)\n        .commit() }\noverride fun onNavigationItemSelected(item: MenuItem): Boolean {\n    displayScreen(item.itemId)\n    drawer_layout.closeDrawer(GravityCompat.START)\n    return true }\n</code></pre>\n\n<p>} </p>\n\n<p>and this home.kt aka Home : fragment() =</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View?\n    { val view: View = inflater!!.inflate(R.layout.home, container,\n        false)\n    val myWebView: WebView = view.findViewById(R.id.webview) as WebView\n    myWebView.loadUrl(\"http://www.example.com/\")\n    myWebView.webViewClient = WebViewClient()\n    (WebViewClient())\n    return  view }\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "edited": false, "score": 0, "creation_date": 1540384653, "post_id": 52967812, "comment_id": 92844542, "body": "implementation &quot;&lt;insert dependency here&gt;&quot;.  NOT  implementation &lt;insert dependency here&gt;  Notice, the lack of &quot; in the second example (i.e. just look at your gradle file... it has discrepancies...)"}], "answers": [{"tags": [], "owner": {"reputation": 17925, "user_id": 1631967, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q2szT.jpg?s=128&g=1", "display_name": "aminography", "link": "https://stackoverflow.com/users/1631967/aminography"}, "is_accepted": false, "score": 0, "last_activity_date": 1540387909, "creation_date": 1540387909, "answer_id": 52970341, "question_id": 52967812, "link": "https://stackoverflow.com/questions/52967812/error-in-implementation-of-kotlin-libraries/52970341#52970341", "title": "Error in implementation of kotlin libraries", "body": "<p>Try to add the following line instead:</p>\n\n<pre><code>kapt \"androidx.lifecycle:lifecycle-compiler:2.0.0\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 54, "user_id": 4438601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63e870464a0ed5ad7828a012b0bd512b?s=128&d=identicon&r=PG", "display_name": "tazzledazzle", "link": "https://stackoverflow.com/users/4438601/tazzledazzle"}, "is_accepted": false, "score": 0, "last_activity_date": 1540444132, "creation_date": 1540444132, "answer_id": 52981712, "question_id": 52967812, "link": "https://stackoverflow.com/questions/52967812/error-in-implementation-of-kotlin-libraries/52981712#52981712", "title": "Error in implementation of kotlin libraries", "body": "<p>The extensions you're using aren't getting detected by the <code>core/build.gradle</code>. There are a couple ways to solve this.</p>\n\n<p>You could parse the dependencies from the <code>dependencies.gradle</code> where they're defined. Looking at the Rocket.Chat.Android example, the extensions look like this:</p>\n\n<pre><code> ext {\n    versions = [\n            kotlin                : '1.2.61',\n            coroutine             : '0.25.0',\n            ...\n\n            lifecycle             : '2.0.0', \n            ...\n]\n    libraries = [\n            kotlin                : \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:${versions.kotlin}\",\n            coroutines            : \"org.jetbrains.kotlinx:kotlinx-coroutines-core:${versions.coroutine}\",\n            ...\n            lifecycleExtensions   : \"androidx.lifecycle:lifecycle-extensions:${versions.lifecycle}\",\n            lifecycleCompiler     : \"androidx.lifecycle:lifecycle-compiler:${versions.lifecycle}\",\n            ...\n    ]\n}\n</code></pre>\n\n<p>and your <code>core/build.gradle</code>'s dependency block would look like this: </p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.2.61\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core:0.25.0\"\n    implementation \"androidx.lifecycle:lifecycle-extensions:2.0.0\"\n    kapt \"androidx.lifecycle:lifecycle-compiler:2.0.0\"\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.2.71\"\n}\n</code></pre>\n\n<p>Alternatively, you could just apply the <code>dependencies.gradle</code> file to <code>core/build.gradle</code> and I think it should detect the extra properties defined there.</p>\n\n<p>Adding <code>apply from: \"../dependencies.gradle\"</code> to your <code>core/build.gradle</code> is what I'm talking about. </p>\n"}], "owner": {"reputation": 1, "user_id": 10207109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14a9035ce56635e2464229bf6b482a52?s=128&d=identicon&r=PG&f=1", "display_name": "VDesigner", "link": "https://stackoverflow.com/users/10207109/vdesigner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 269, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1540444132, "creation_date": 1540380465, "question_id": 52967812, "link": "https://stackoverflow.com/questions/52967812/error-in-implementation-of-kotlin-libraries", "title": "Error in implementation of kotlin libraries", "body": "<p>when i build rocket chat andrroid code, i am getting this error.</p>\n\n<p>Could not get unknown property 'libraries' for object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.</p>\n\n<p>core/build.gradle</p>\n\n<pre><code>  apply plugin: 'com.android.library'\n  apply plugin: 'kotlin-android'\n  apply plugin: 'kotlin-kapt'\n\n\n  android {\n  compileSdkVersion 28\n\ndefaultConfig {\n    minSdkVersion 15\n    targetSdkVersion 28\n    versionCode 1\n    versionName \"1.0.0\"\n}\n\nbuildTypes {\n    release {\n        minifyEnabled false\n        proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n    }\n}\n\npackagingOptions {\n    exclude 'META-INF/core.kotlin_module'\n    exclude 'META-INF/main.kotlin_module'\n }\n}\n\ndependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\n\nimplementation libraries.kotlin\nimplementation libraries.coroutines\nimplementation libraries.lifecycleExtensions\nkapt libraries.lifecycleCompiler\nimplementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.2.71\"}\n\n  repositories {\n             mavenCentral()\n            }\n</code></pre>\n"}, {"tags": ["kotlin", "junit5"], "answers": [{"comments": [{"owner": {"reputation": 1081, "user_id": 9080066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYG0.jpg?s=128&g=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/9080066/dean"}, "edited": false, "score": 0, "creation_date": 1540384320, "post_id": 52967310, "comment_id": 92844312, "body": "Thanks for linking the issue. My version is 5.1.1. It is fixed in this one as well, your second link revealed the real problem. Wrong import. should have been org.junit.jupiter.api.fail . If you amend I will accept the answer"}, {"owner": {"reputation": 288, "user_id": 2857899, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MrjPO.jpg?s=128&g=1", "display_name": "Uziel Sulkies", "link": "https://stackoverflow.com/users/2857899/uziel-sulkies"}, "reply_to_user": {"reputation": 1081, "user_id": 9080066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYG0.jpg?s=128&g=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/9080066/dean"}, "edited": false, "score": 0, "creation_date": 1540397465, "post_id": 52967310, "comment_id": 92853577, "body": "Amended it. Is that OK? Thank you"}], "tags": [], "owner": {"reputation": 288, "user_id": 2857899, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MrjPO.jpg?s=128&g=1", "display_name": "Uziel Sulkies", "link": "https://stackoverflow.com/users/2857899/uziel-sulkies"}, "is_accepted": true, "score": 4, "last_activity_date": 1540397439, "last_edit_date": 1540397439, "creation_date": 1540378884, "answer_id": 52967310, "question_id": 52967039, "link": "https://stackoverflow.com/questions/52967039/junit-5-assertions-fail-can-not-infer-type-in-kotlin/52967310#52967310", "title": "Junit 5 Assertions.fail() can not infer type in Kotlin", "body": "<p>Please see this issue: <a href=\"https://github.com/junit-team/junit5/issues/1209\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit5/issues/1209</a></p>\n\n<p>It seems that this is already fixed in the junit-jupiter-api <strong>Assertions.kt file</strong> as a top-level function in org.junit.jupiter.api package.</p>\n\n<p>Import the <strong>org.junit.jupiter.api.fail</strong> and not the org.junit.jupiter.api.<strong>Assertions</strong>.fail</p>\n"}], "owner": {"reputation": 1081, "user_id": 9080066, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5hYG0.jpg?s=128&g=1", "display_name": "Dean", "link": "https://stackoverflow.com/users/9080066/dean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 902, "favorite_count": 0, "accepted_answer_id": 52967310, "answer_count": 1, "score": 0, "last_activity_date": 1540397439, "creation_date": 1540378004, "last_edit_date": 1540378564, "question_id": 52967039, "link": "https://stackoverflow.com/questions/52967039/junit-5-assertions-fail-can-not-infer-type-in-kotlin", "title": "Junit 5 Assertions.fail() can not infer type in Kotlin", "body": "<p>When I attempt to use JUnit 5 Assertions.fail in my Kotlin tests I get a compilation failure because parameter V can not be inferred:</p>\n\n<pre><code>import org.junit.jupiter.api.Assertions.fail\ninternal class MyTests {\n   @Test\n   fun simpleTest() {\n     fail(\"Does not compile\") \n   }\n}\n</code></pre>\n\n<p>Of course a simple solution to this problem is:</p>\n\n<pre><code>import org.junit.jupiter.api.Assertions.fail\ninternal class MyTests {\n   @Test\n   fun simpleTest() {\n     val result: Any = fail(\"Compiles\") \n   }\n}\n</code></pre>\n\n<p>However I do not wish to have to create an unused value in my code. Is there a way to define the type without having to declare a val? Also why does this happen in Kotlin? Java has no such problem with generics:</p>\n\n<pre><code>import org.junit.jupiter.api.Assertions.fail;\nclass MyJavaTests {\n    @Test\n    public void simpleTest() {\n        fail(\"Compiles);\n    }\n}\n</code></pre>\n\n<p>EDIT: I discovered immediately after posting the question that the solution is to parameterize the call:</p>\n\n<pre><code>import org.junit.jupiter.api.Assertions.fail\ninternal class MyTests {\n   @Test\n   fun simpleTest() {\n     fail&lt;Any&gt;(\"Does not compile\") \n   }\n }\n</code></pre>\n\n<p>However still willing to accept an answer that can explain why I need to do this in kotlin.</p>\n"}, {"tags": ["kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1540377935, "post_id": 52966919, "comment_id": 92840268, "body": "why not simply disable the button before you start processing the click?"}, {"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1540379601, "post_id": 52966919, "comment_id": 92841259, "body": "There&#39;s no disabled state in the UI, so the user wouldn&#39;t notice any difference. Also, I never said it was a button ;)"}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1540380446, "post_id": 52966919, "comment_id": 92841801, "body": "any other clickable then. If there is no disabled state, there is no difference between disabling the clicks and ignoring them, is there?"}, {"owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1540381199, "post_id": 52966919, "comment_id": 92842300, "body": "I think there could be a race condition when disabling clicks in UI, that is not there when ignoring clicks. Also, why involve the view (adding extra method to MVP contract), if I can handle it in the presenter this easily."}], "answers": [{"tags": [], "owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "is_accepted": true, "score": 4, "last_activity_date": 1540472312, "last_edit_date": 1540472312, "creation_date": 1540379818, "answer_id": 52967578, "question_id": 52966919, "link": "https://stackoverflow.com/questions/52966919/flowable-concatmapsingle-without-prefetch-to-ignore-clicks-until-processing-fini/52967578#52967578", "title": "Flowable concatMapSingle without prefetch to ignore clicks until processing finishes", "body": "<p>Using <code>flatMapSingle</code> instead of <code>concatMapSingle</code> does the trick, <a href=\"https://github.com/ReactiveX/RxJava/issues/5720#issuecomment-343730836\" rel=\"nofollow noreferrer\">as suggested by akarnokd on GitHub</a>:</p>\n\n<blockquote>\n  <p><code>flatMap</code> will only fetch the next upstream item if the current one actually completed</p>\n</blockquote>\n\n<p>The last parameter is <code>maxConcurrency</code>, specifying the maximum number of active subscriptions to the <code>SingleSource</code>s:</p>\n\n<pre><code>clicks\n    .onBackpressureDrop()\n    .flatMapSingle(::handleClick, false, 1)\n</code></pre>\n\n<p>In this instance, <code>flatMapSingle</code> subscribes to those <code>Single</code>s sequentially, so it doesn't change the semantics I got from <code>concatMapSingle</code>.</p>\n"}], "owner": {"reputation": 7051, "user_id": 1916449, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d5611f16fc8a1b73a03e44297682824f?s=128&d=identicon&r=PG", "display_name": "arekolek", "link": "https://stackoverflow.com/users/1916449/arekolek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 456, "favorite_count": 0, "accepted_answer_id": 52967578, "answer_count": 1, "score": 1, "last_activity_date": 1540472312, "creation_date": 1540377673, "last_edit_date": 1540384933, "question_id": 52966919, "link": "https://stackoverflow.com/questions/52966919/flowable-concatmapsingle-without-prefetch-to-ignore-clicks-until-processing-fini", "title": "Flowable concatMapSingle without prefetch to ignore clicks until processing finishes", "body": "<p>I want to handle clicks in such a way that they are ignored as long as I'm doing processing of some click that occurred.</p>\n\n<p>I thought I could do it by utilizing the backpressure, like this:</p>\n\n<pre><code>private val clicks = PublishProcessor.create&lt;Unit&gt;()\n\n// ...\n\nclicks\n    .onBackpressureDrop()\n    .concatMapSingle(::handleClick, 0)\n</code></pre>\n\n<p>But this throws an error, because there's a requirement that <code>concatMapSingle</code> needs to prefetch at least one item, which makes it queue the click and process it immediately after I'm done processing, which is not what I want. I want to process the click only if there is no processing happening at the moment.</p>\n\n<p>Is there some other operator I could use to achieve the desired effect?</p>\n"}, {"tags": ["lambda", "foreach", "kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540380293, "post_id": 52966878, "comment_id": 92841687, "body": "Your <code>deferredActions.remove(anyLambda)</code> probably has no effect, otherwise you&#39;d be getting <code>ConcurrentModificationException</code>. You can&#39;t modify the list you&#39;re iterating over, except using <code>iterator.remove()</code>."}], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 4, "last_activity_date": 1540378866, "creation_date": 1540378866, "answer_id": 52967304, "question_id": 52966878, "link": "https://stackoverflow.com/questions/52966878/iterate-through-lambdas-in-kotlin/52967304#52967304", "title": "Iterate through lambdas in Kotlin", "body": "<p>Your <code>add</code> call is wrong: it adds a lambda that evaluates the <code>funShowProgress</code> expression without any result (it doesn't call the lambda). Use either:</p>\n\n<pre><code>add { funShowProgress() }\n</code></pre>\n\n<p>or simply</p>\n\n<pre><code>add(funShowProgress)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2081, "user_id": 3294175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99d6b46af0ce01b3934979d8d7631b43?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martori", "link": "https://stackoverflow.com/users/3294175/eric-martori"}, "is_accepted": false, "score": 1, "last_activity_date": 1540380787, "creation_date": 1540380787, "answer_id": 52967919, "question_id": 52966878, "link": "https://stackoverflow.com/questions/52966878/iterate-through-lambdas-in-kotlin/52967919#52967919", "title": "Iterate through lambdas in Kotlin", "body": "<p>to expand yole's answer, you could also add a function reference by using <code>add(::funShowProgressAsFunction )</code> if you define the function like this:</p>\n\n<pre><code>private val funShowProgressAsFunction : Unit =\n   view()?.showProgress()\n</code></pre>\n"}], "owner": {"reputation": 2170, "user_id": 1067763, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d263d1041eab408df7ef04394e2f5b4c?s=128&d=identicon&r=PG", "display_name": "Herrbert74", "link": "https://stackoverflow.com/users/1067763/herrbert74"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 331, "favorite_count": 0, "accepted_answer_id": 52967304, "answer_count": 2, "score": 0, "last_activity_date": 1540380787, "creation_date": 1540377569, "question_id": 52966878, "link": "https://stackoverflow.com/questions/52966878/iterate-through-lambdas-in-kotlin", "title": "Iterate through lambdas in Kotlin", "body": "<p>My MVP presenter is bound to the view in onResume, so that unbinding is guaranteed. This means that sometimes, for example when data is coming from onActivityResult(), the view is not bound, but we want to still touch the view, to show progress, etc. So far I used a flag for this and executed these actions in bindView() or in updateView(), which is called when the view is bound.</p>\n\n<p>Now I'm using Kotlin, so I thought what if I would use a list of lambdas for this in the BasePresenter? This is what I have so far:</p>\n\n<pre><code>typealias AnyLambda = () -&gt; Unit\nprivate val deferredActions = mutableListOf&lt;AnyLambda&gt;()\n\nprivate val funShowProgress : () -&gt; Unit = {\n   view()?.showProgress() }\n\noverride fun updateView() {\n   deferredActions.forEach { anyLambda -&gt;\n      anyLambda()\n      deferredActions.remove(anyLambda)\n   }\n}\n\nfun onSomethingFromActivity(x: List&lt;Y&gt;) {\n    ...\n    deferredActions.add { funShowProgress }\n}\n</code></pre>\n\n<p>The problem is that the lambda is not called in forEach. If I add funShowProgress() inside the lambda, it works. Also, the lambda is there, because it runs inside forEach exactly once, but view.showProgress() is not called. What did I get wrong about lambdas?</p>\n\n<p>Please note while I could call showProgress() directly from the view, I want to avoid this.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 89, "user_id": 10245431, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QQliRhfye5c/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r4wNw_jX0_HxNTjdp8yTTwrFcnyQ/mo/photo.jpg?sz=128", "display_name": "Soroush", "link": "https://stackoverflow.com/users/10245431/soroush"}, "edited": false, "score": 0, "creation_date": 1540377167, "post_id": 52966547, "comment_id": 92839790, "body": "@Eugene I checked it in source, it was correct"}, {"owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "edited": false, "score": 0, "creation_date": 1540377211, "post_id": 52966547, "comment_id": 92839820, "body": "@Soroush can you show the whole logcat?"}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1540377235, "post_id": 52966547, "comment_id": 92839843, "body": "@Soroush, something is missing cause with a simple example such case works fine! Maybe you&#39;re calling <code>myClass</code> somewhere before init or smthng?"}, {"owner": {"reputation": 89, "user_id": 10245431, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QQliRhfye5c/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r4wNw_jX0_HxNTjdp8yTTwrFcnyQ/mo/photo.jpg?sz=128", "display_name": "Soroush", "link": "https://stackoverflow.com/users/10245431/soroush"}, "reply_to_user": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1540377501, "post_id": 52966547, "comment_id": 92840010, "body": "@Demigod I updated the post. MyClass extends Thread. Does it make any difference?"}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 1, "creation_date": 1540377616, "post_id": 52966547, "comment_id": 92840093, "body": "@Soroush, your method <code>start</code> creates new instance of <code>myClass</code> without initialization."}, {"owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "edited": false, "score": 0, "creation_date": 1540377629, "post_id": 52966547, "comment_id": 92840100, "body": "is the <code>start()</code> method correct now? start creates a new instance of <code>MyClass</code>..."}, {"owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "edited": false, "score": 0, "creation_date": 1540377761, "post_id": 52966547, "comment_id": 92840169, "body": "@Soroush why don&#39;t you include the real class of yours and not some stripped down example of what you think consists of the problem?"}, {"owner": {"reputation": 89, "user_id": 10245431, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QQliRhfye5c/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r4wNw_jX0_HxNTjdp8yTTwrFcnyQ/mo/photo.jpg?sz=128", "display_name": "Soroush", "link": "https://stackoverflow.com/users/10245431/soroush"}, "reply_to_user": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1540377783, "post_id": 52966547, "comment_id": 92840181, "body": "@Demigod it&#39;ll be okay if I replace it with <code>this.start()</code> ?"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1540377806, "post_id": 52966547, "comment_id": 92840196, "body": "myClass.startThread() throws the exception possibly because it creates another instance of MyClass()"}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1540377832, "post_id": 52966547, "comment_id": 92840217, "body": "@Soroush, yeah. Or just <code>start()</code>."}, {"owner": {"reputation": 89, "user_id": 10245431, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QQliRhfye5c/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r4wNw_jX0_HxNTjdp8yTTwrFcnyQ/mo/photo.jpg?sz=128", "display_name": "Soroush", "link": "https://stackoverflow.com/users/10245431/soroush"}, "reply_to_user": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1540377982, "post_id": 52966547, "comment_id": 92840293, "body": "@Demigod Thanks the problem is gone. You can write an answer."}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "edited": false, "score": 0, "creation_date": 1540378423, "post_id": 52966547, "comment_id": 92840564, "body": "Thanks @Soroush, glad it helped)"}], "answers": [{"tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": true, "score": 2, "last_activity_date": 1540378175, "creation_date": 1540378175, "answer_id": 52967092, "question_id": 52966547, "link": "https://stackoverflow.com/questions/52966547/lateinit-property-context-has-not-been-initialized/52967092#52967092", "title": "lateinit property context has not been initialized", "body": "<p>The problem is that when call method <code>startThread()</code> you're creating new object every time with uninitialized property.</p>\n\n<pre><code>fun startThread() {\n    MyClass().start()\n}\n</code></pre>\n\n<p>You should replace <code>MyClass().start()</code> with <code>this.start()</code></p>\n"}], "owner": {"reputation": 89, "user_id": 10245431, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QQliRhfye5c/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7r4wNw_jX0_HxNTjdp8yTTwrFcnyQ/mo/photo.jpg?sz=128", "display_name": "Soroush", "link": "https://stackoverflow.com/users/10245431/soroush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3631, "favorite_count": 0, "accepted_answer_id": 52967092, "answer_count": 1, "score": 1, "last_activity_date": 1540378175, "creation_date": 1540376546, "last_edit_date": 1540377848, "question_id": 52966547, "link": "https://stackoverflow.com/questions/52966547/lateinit-property-context-has-not-been-initialized", "title": "lateinit property context has not been initialized", "body": "<p>I have a class which gets a <code>context</code> and <code>uri</code> and sets them in a <code>MediaMetadatRetriever</code> as <code>dataSource</code>. The problem is that I initialize context property with <code>withContext</code> function, but it seems to not being initialized and it ends up with a <code>kotlin.UninitializedPropertyAccessException</code>. Any help is appreciated.</p>\n\n<p><strong>Class:</strong></p>\n\n<pre><code>class MyClass: Thread() {\n\n    private lateinit var context: Context\n    private lateinit var uri: Uri\n    private val retriever = MediaMetadataRetriever()\n\n    override fun run() {\n        setRetriever()\n    }\n\n    fun withContext(context: Context) {\n        this.context = context\n    }\n\n    fun withUri(uri: Uri) {\n        this.uri = uri\n    }\n\n    fun setRetriever() {\n        retriever.setDataSource(context, uri)\n    }\n\n    fun startThread() {\n        MyClass().start()\n    }\n}\n</code></pre>\n\n<p><strong>Main Activity:</strong></p>\n\n<pre><code>val myClass = MyClass()\nmyClass.withContext(this)\nmyClass.withUri(uri)\nmyClass.startThread()\n</code></pre>\n\n<p><strong>Exception:</strong></p>\n\n<pre><code>kotlin.UninitializedPropertyAccessException: lateinit property context has not been initialized\n</code></pre>\n"}, {"tags": ["spring-boot", "websocket", "kotlin", "stomp"], "answers": [{"tags": [], "owner": {"reputation": 13487, "user_id": 808723, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aa21b8db834bf46e629e6183cdc11f82?s=128&d=identicon&r=PG", "display_name": "GameScripting", "link": "https://stackoverflow.com/users/808723/gamescripting"}, "is_accepted": false, "score": 0, "last_activity_date": 1540372060, "last_edit_date": 1540372060, "creation_date": 1540371698, "answer_id": 52964937, "question_id": 52964936, "link": "https://stackoverflow.com/questions/52964936/spring-boot-websockets-sockjs-stomp-client-server-minmal-example/52964937#52964937", "title": "Spring Boot Websockets/SockJS/STOMP Client + Server minmal example", "body": "<p><strong>Server</strong></p>\n\n<p>build.gradle:</p>\n\n<pre><code>compile 'org.springframework:spring-websocket:5.1.1.RELEASE'\ncompile 'org.springframework:spring-messaging:5.1.1.RELEASE'\n</code></pre>\n\n<p>server.kt:</p>\n\n<pre><code>import org.springframework.boot.autoconfigure.SpringBootApplication\nimport org.springframework.boot.builder.SpringApplicationBuilder\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer\nimport org.springframework.context.annotation.Configuration\nimport org.springframework.messaging.handler.annotation.MessageMapping\nimport org.springframework.messaging.handler.annotation.SendTo\nimport org.springframework.messaging.simp.config.MessageBrokerRegistry\nimport org.springframework.stereotype.Controller\nimport org.springframework.web.socket.config.annotation.AbstractWebSocketMessageBrokerConfigurer\nimport org.springframework.web.socket.config.annotation.EnableWebSocketMessageBroker\nimport org.springframework.web.socket.config.annotation.StompEndpointRegistry\n\nfun main(args: Array&lt;String&gt;) {\n    SpringApplication.run(Application::class.java, *args)\n}\n\n@SpringBootApplication\nclass Application : SpringBootServletInitializer() {\n    override fun configure(builder: SpringApplicationBuilder): SpringApplicationBuilder {\n        return builder.apply {\n            builder.sources(Application::class.java)\n        }\n    }\n}\n\n@Configuration\n@EnableWebSocketMessageBroker\nclass WebSocketConfig : AbstractWebSocketMessageBrokerConfigurer() {\n\n    override fun configureMessageBroker(config: MessageBrokerRegistry) {\n        config.enableSimpleBroker(\"/topic\")\n        config.setApplicationDestinationPrefixes(\"/app\")\n    }\n\n    override fun registerStompEndpoints(config: StompEndpointRegistry) {\n        config.addEndpoint(\"/ws\")\n                .setAllowedOrigins(\"*\")\n                .withSockJS()\n    }\n}\n\n@Controller\nclass Controller {\n    @MessageMapping(\"/my/server/method\")\n    @SendTo(\"/my/room/where/client/subscribed\")\n    fun myservermethod(data: Any): Any {\n        // data will be \"some data as string\"\n\n        // todo to something useful\n        return mapOf(\"hello\" to \"world\")\n    }\n}\n</code></pre>\n\n<p><strong>Client</strong></p>\n\n<p>build.gradle:</p>\n\n<pre><code>compile 'org.springframework:spring-websocket:5.1.1.RELEASE'\ncompile 'org.springframework:spring-messaging:5.1.1.RELEASE'\ncompile 'org.glassfish.tyrus.bundles:tyrus-standalone-client-jdk:1.14'\n</code></pre>\n\n<p>client.kt:</p>\n\n<pre><code>import org.springframework.messaging.converter.MappingJackson2MessageConverter\nimport org.springframework.messaging.simp.stomp.*\nimport org.springframework.web.socket.client.standard.StandardWebSocketClient\nimport org.springframework.web.socket.messaging.WebSocketStompClient\nimport org.springframework.web.socket.sockjs.client.SockJsClient\nimport org.springframework.web.socket.sockjs.client.WebSocketTransport\nimport java.lang.reflect.Type\n\nfun main(args: Array&lt;String&gt;) {\n    val webSocketTransport = WebSocketTransport(StandardWebSocketClient())\n    val sockJsClient = SockJsClient(listOf(webSocketTransport))\n    val stompClient = WebSocketStompClient(sockJsClient).apply {\n        messageConverter = MappingJackson2MessageConverter()\n    }\n\n    val sessionHandler = MyStompSessionHandler()\n\n    stompClient.connect(\"http://localhost:8080/ws\", sessionHandler)\n\n    while (true) Thread.sleep(Long.MAX_VALUE)\n}\n\nclass MyStompSessionHandler : StompSessionHandlerAdapter() {\n    override fun handleException(session: StompSession, command: StompCommand?, headers: StompHeaders, payload: ByteArray, exception: Throwable) {\n        println(\"handleException $exception\")\n    }\n\n    override fun handleTransportError(session: StompSession, exception: Throwable) {\n        println(\"handleTransportError $exception\")\n    }\n\n    override fun handleFrame(headers: StompHeaders, payload: Any?) {\n        println(\"handleFrame: $payload\")\n    }\n\n    override fun afterConnected(session: StompSession, connectedHeaders: StompHeaders) {\n        session.subscribe(\"/my/room/where/client/subscribed\", object : StompFrameHandler {\n            override fun handleFrame(headers: StompHeaders, payload: Any?) {\n                // payload will be mapOf(\"hello\" to \"world\")\n                println(payload)\n            }\n\n            override fun getPayloadType(headers: StompHeaders): Type {\n                return Any::class.java\n            }\n        })\n\n        session.send(\"/app/my/server/method\", \"some data as string\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13487, "user_id": 808723, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aa21b8db834bf46e629e6183cdc11f82?s=128&d=identicon&r=PG", "display_name": "GameScripting", "link": "https://stackoverflow.com/users/808723/gamescripting"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 927, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1540372060, "creation_date": 1540371698, "question_id": 52964936, "link": "https://stackoverflow.com/questions/52964936/spring-boot-websockets-sockjs-stomp-client-server-minmal-example", "title": "Spring Boot Websockets/SockJS/STOMP Client + Server minmal example", "body": "<p>What would be the most simple Spring Boot example for Client and Server preferably in Kotlin?</p>\n"}, {"tags": ["javafx", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 480, "user_id": 4688042, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/07539504725306ff45b0e9c09e3e2699?s=128&d=identicon&r=PG", "display_name": "QuietJoon", "link": "https://stackoverflow.com/users/4688042/quietjoon"}, "edited": false, "score": 0, "creation_date": 1540863166, "post_id": 52989772, "comment_id": 93011547, "body": "Thanks too much, Gibbs! and sorry for my late reaction."}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": true, "score": 1, "last_activity_date": 1540472327, "last_edit_date": 1540472327, "creation_date": 1540471991, "answer_id": 52989772, "question_id": 52964475, "link": "https://stackoverflow.com/questions/52964475/cant-infer-proper-type-myself-in-kotlin-when-using-javafx/52989772#52989772", "title": "Can&#39;t infer proper type myself in Kotlin when using JavaFX", "body": "<p>The problem isn't the parameter to the <code>FXMLLoader.load</code> function (which is a <code>java.net.URL</code> object, as returned by <code>javaClass.getResource</code>). It's that this function <strong>returns</strong> a generic type:</p>\n\n<p><code>public static &lt;T&gt; T load(URL location)</code></p>\n\n<p>The Kotlin compiler needs to know what type your <code>root</code> variable will be (as you've not explicitly defined it), but it can't know that as there's nothing in the code that will allow it to infer this.</p>\n\n<p>A quick Google returned <a href=\"https://docs.oracle.com/javafx/2/get_started/FXMLExample.java.html\" rel=\"nofollow noreferrer\">this</a> example which has this code in it (in Java):</p>\n\n<p><code>Parent root = FXMLLoader.load(getClass().getResource(\"fxml_example.fxml\"));</code></p>\n\n<p>As you can see here, the <code>root</code> variable is of type <code>Parent</code>.  So what you need to do is provide this type (i.e. what you expect the <code>load</code> function to return) in some way.  Here are two different ways you could do this:</p>\n\n<ol>\n<li>Specify the type explicitly when declaring the variable: <code>val root: Parent = FXMLLoader.load(fxml)</code> </li>\n<li>Specify the generic type when calling the method: <code>val root = FXMLLoader.load&lt;Parent&gt;(fxml)</code></li>\n</ol>\n\n<p>Note also that in your <code>build.gradle</code> file in your github repo there's a mistake that means the code didn't immediately compile when I fetched it:</p>\n\n<p><code>compile \"org.openjfx.javafx.fxml:11:$platform\"</code> should be <code>compile \"org.openjfx:javafx-fxml:11:$platform\"</code> (one of the dots should be a colon).</p>\n"}], "owner": {"reputation": 480, "user_id": 4688042, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/07539504725306ff45b0e9c09e3e2699?s=128&d=identicon&r=PG", "display_name": "QuietJoon", "link": "https://stackoverflow.com/users/4688042/quietjoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 175, "favorite_count": 0, "accepted_answer_id": 52989772, "answer_count": 1, "score": 0, "last_activity_date": 1540472327, "creation_date": 1540370365, "question_id": 52964475, "link": "https://stackoverflow.com/questions/52964475/cant-infer-proper-type-myself-in-kotlin-when-using-javafx", "title": "Can&#39;t infer proper type myself in Kotlin when using JavaFX", "body": "<p>I just started to study Kotlin and JavaFX by following tutorial.\nI could see blank JavaFX windows, and I proceed next step that using FXML.</p>\n\n<pre><code>import javafx.application.Application\nimport javafx.fxml.FXMLLoader\nimport javafx.scene.Scene\nimport javafx.stage.Stage\n\nclass AppMain : Application() {\n\n    override fun start(primaryStage: Stage) {\n        primaryStage.title = \"Try JavaFX\"\n        val fxml = javaClass.getResource(\"fxml/Main.fxml\")\n        val root = FXMLLoader.load(fxml) // ERRORS here! `load`\n        val scene = Scene(root)\n\n        primaryStage.scene = scene\n\n        primaryStage.show()\n    }\n\n}\n</code></pre>\n\n<p>However, I couldn't figure out that how to avoid the type inferencing error like:<br>\n<code>Error:(12, 31) Kotlin: Type inference failed: Not enough information to infer parameter T in fun &lt;T : Any!&gt; load(p0: URL!): T! Please specify it explicitly.</code></p>\n\n<p>From the message, I understand that I have to write the type of variable <code>fxml</code> explicitly.\nBut I have no idea that what type should be labeled to <code>fxml</code>.</p>\n\n<p>I tried to read the document about JavaFX, but I couldn't figure it out.(I'm not familiar with Java and Kotlin)\nI tried to type like <code>URL</code> but it does not make sense.</p>\n\n<p>Many JavaFX &amp; Kotlin example codes that I could find from google does not seems to have the problem like this. (Are the example codes written in previous version?)\nWhat type should I put for the variable?\nOr did I miss something other?</p>\n\n<h2>Environment and Codes</h2>\n\n<h3>Environment</h3>\n\n<ul>\n<li>JDK 11</li>\n<li>JavaFX 11</li>\n<li>Kotlin 1.2.71</li>\n</ul>\n\n<h3>My complete trial code</h3>\n\n<p><a href=\"https://github.com/QuietJoon/StudyKotlin-JavaFX/tree/fxml\" rel=\"nofollow noreferrer\">https://github.com/QuietJoon/StudyKotlin-JavaFX/tree/fxml</a></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1540370458, "post_id": 52964417, "comment_id": 92835596, "body": "Have you tried using &#39;by lazy {}&#39; to perform a kind of lateinit on the variable? <code>val c:Int by lazy { ... }</code>"}, {"owner": {"reputation": 1186, "user_id": 6169668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6OlAh.jpg?s=128&g=1", "display_name": "ASN", "link": "https://stackoverflow.com/users/6169668/asn"}, "edited": false, "score": 0, "creation_date": 1540371190, "post_id": 52964417, "comment_id": 92836015, "body": "how about using <code>lateinit</code> and initializing the variable in <code>init{}</code>"}], "answers": [{"tags": [], "owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "is_accepted": true, "score": 5, "last_activity_date": 1540370806, "creation_date": 1540370806, "answer_id": 52964614, "question_id": 52964417, "link": "https://stackoverflow.com/questions/52964417/how-to-create-variable-in-kotlin-without-initialization/52964614#52964614", "title": "How to create variable in Kotlin without initialization?", "body": "<blockquote>\n  <p>In Java you can create String variable or couple of variables without adding any value to it</p>\n</blockquote>\n\n<p>Actually in that case it is implicitly declared <code>null</code>. Kotlin does not do that, because of its nullability mechanism. You must explicitly declare a variable nullable to allow null:</p>\n\n<pre><code>var str: String // does not work\nvar str: String? // does not work\nvar str: String? = null // works\n</code></pre>\n\n<p>Also see <a href=\"https://stackoverflow.com/a/33718539/1843331\">this answer</a>.</p>\n\n<p>Your other option indeed is to mark it <code>lateinit</code>:</p>\n\n<pre><code>lateinit var str: String // works\n</code></pre>\n\n<p>If you need to make a check to see if it is initialized before using it, you use </p>\n\n<pre><code>if (::str.isInitialized)\n</code></pre>\n\n<p>But really you should avoid this check and just make sure it is initialized before using it.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 5986259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb604df68e888770f17860d9e45a25d1?s=128&d=identicon&r=PG", "display_name": "Hanna", "link": "https://stackoverflow.com/users/5986259/hanna"}, "is_accepted": false, "score": 0, "last_activity_date": 1540372190, "creation_date": 1540372190, "answer_id": 52965106, "question_id": 52964417, "link": "https://stackoverflow.com/questions/52964417/how-to-create-variable-in-kotlin-without-initialization/52965106#52965106", "title": "How to create variable in Kotlin without initialization?", "body": "<p>If you need to get your UI element in Kotlin, you do not need to create variable and initialise it by using findViewById anymore (though you can). Use kotlin view binding, which works pretty well.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#view-binding\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/android-plugin.html#view-binding</a></p>\n"}], "owner": {"reputation": 1368, "user_id": 9046350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff03988badcde08ee17f62f3e9efeb25?s=128&d=identicon&r=PG&f=1", "display_name": "martin1337", "link": "https://stackoverflow.com/users/9046350/martin1337"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4465, "favorite_count": 0, "accepted_answer_id": 52964614, "answer_count": 2, "score": 1, "last_activity_date": 1540372190, "creation_date": 1540370167, "question_id": 52964417, "link": "https://stackoverflow.com/questions/52964417/how-to-create-variable-in-kotlin-without-initialization", "title": "How to create variable in Kotlin without initialization?", "body": "<p>This is simple question. In Java you can create String variable or couple of variables without adding any value to it. This is used at start of the class before onCreate() is called in Activity. I've used <code>lateinit</code> property in Kotlin to achieve that, but now I have a problem with changing visibility of RecyclerView. It will throw exception <code>\"lateinit property recyclerView has not been initialized\"</code>.</p>\n\n<p>Is there any way how to know if property is initialized? This is called at start of the parent activity in Fragment (hide recyclerView and show ProgressBar till data are binded to recyclerView).</p>\n"}, {"tags": ["algorithm", "sorting", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 605, "user_id": 2558231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8b00d9fec45fb7268c1e874dafeb15f?s=128&d=identicon&r=PG", "display_name": "Majkeee", "link": "https://stackoverflow.com/users/2558231/majkeee"}, "edited": false, "score": 0, "creation_date": 1555536132, "post_id": 52967204, "comment_id": 98150390, "body": "Could you please provide source where it is written Kotlin uses JDK sorting? Or point me to a file where I could find implementation of such usage? Thanks!"}, {"owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "reply_to_user": {"reputation": 605, "user_id": 2558231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8b00d9fec45fb7268c1e874dafeb15f?s=128&d=identicon&r=PG", "display_name": "Majkeee", "link": "https://stackoverflow.com/users/2558231/majkeee"}, "edited": false, "score": 1, "creation_date": 1555568514, "post_id": 52967204, "comment_id": 98157520, "body": "@Majkeee I added links to the answer"}, {"owner": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "edited": false, "score": 1, "creation_date": 1555570431, "post_id": 52967204, "comment_id": 98158302, "body": "Good answer, but the source code is no guarantee it won&#39;t change to a completelly different algorithm in the next minor release, is it? Typically, API providers won&#39;t document what algorithm they use internally (implementation detail) but they might instead document the time complexity of their method. And the time complexity can often be a hint to the probable algorithm used."}, {"owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "reply_to_user": {"reputation": 5279, "user_id": 8473028, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/kYbHF.jpg?s=128&g=1", "display_name": "DodgyCodeException", "link": "https://stackoverflow.com/users/8473028/dodgycodeexception"}, "edited": false, "score": 1, "creation_date": 1555571613, "post_id": 52967204, "comment_id": 98158907, "body": "Yes @DodgyCodeException this is exactly the case. This answers contains of two things: 1. CURRENT implementations for sorting <code>arrays</code> in Kotlin/JVM; 2. A general suggestion to watch out for details when creating an <code>array</code>, because this may affect the way you interact with it later on. Looking at implementations at a particular time can be as simple as cmd+clicking (or ctrl+clicking) a method, but broadening the perspective of writing code is a whole different story."}], "tags": [], "owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "is_accepted": true, "score": 7, "last_activity_date": 1555568488, "last_edit_date": 1555568488, "creation_date": 1540378529, "answer_id": 52967204, "question_id": 52964383, "link": "https://stackoverflow.com/questions/52964383/what-kind-of-sorting-does-kotlin-use-by-default/52967204#52967204", "title": "What kind of sorting does Kotlin use by default?", "body": "<p>Just to extend on what <a href=\"https://stackoverflow.com/questions/52964383/what-kind-of-sorting-does-kotlin-use-by-default#comment92836746_52964383\">Marko Toplnik said in the comment</a>: Be careful how you create your arrays, because based on that, different <code>sort</code> functions will be used.</p>\n\n<hr>\n\n<pre><code>val array = arrayOf(3,2,1)\narray.sort()\n</code></pre>\n\n<p>which (in Kotlin/JVM) leads to:</p>\n\n<pre><code>public fun &lt;T&gt; Array&lt;out T&gt;.sort(): Unit {\n    if (size &gt; 1) java.util.Arrays.sort(this)\n}\n</code></pre>\n\n<p><a href=\"https://github.com/JetBrains/kotlin/blob/04bbf2393684fb7f552da667e8f28dfc1f83bbfb/libraries/stdlib/jvm/src/generated/_ArraysJvm.kt#L1789-L1798\" rel=\"noreferrer\">https://github.com/JetBrains/kotlin/blob/04bbf2393684fb7f552da667e8f28dfc1f83bbfb/libraries/stdlib/jvm/src/generated/_ArraysJvm.kt#L1789-L1798</a></p>\n\n<p>This will result in <a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/ComparableTimSort.java\" rel=\"noreferrer\"><code>java.util.ComparableTimSort</code></a> being used (see the <a href=\"https://devdocs.io/openjdk~8/java/util/arrays#sort-java.lang.Object:A-\" rel=\"noreferrer\"><code>sort(Object[] a)</code></a>)</p>\n\n<hr>\n\n<pre><code>val array = intArrayOf(3,2,1)\narray.sort()\n</code></pre>\n\n<p>which (in Kotlin/JVM) leads to:</p>\n\n<pre><code>public actual fun IntArray.sort(): Unit {\n    if (size &gt; 1) java.util.Arrays.sort(this)\n}\n</code></pre>\n\n<p><a href=\"https://github.com/JetBrains/kotlin/blob/04bbf2393684fb7f552da667e8f28dfc1f83bbfb/libraries/stdlib/jvm/src/generated/_ArraysJvm.kt#L1729-L1734\" rel=\"noreferrer\">https://github.com/JetBrains/kotlin/blob/04bbf2393684fb7f552da667e8f28dfc1f83bbfb/libraries/stdlib/jvm/src/generated/_ArraysJvm.kt#L1729-L1734</a></p>\n\n<p>This will result in <a href=\"https://github.com/openjdk-mirror/jdk7u-jdk/blob/master/src/share/classes/java/util/DualPivotQuicksort.java\" rel=\"noreferrer\"><code>java.util.DualPivotQuicksort</code></a> being used (see the <a href=\"https://devdocs.io/openjdk~8/java/util/arrays#sort-int:A-\" rel=\"noreferrer\"><code>sort(int[] a)</code></a>)</p>\n"}], "owner": {"reputation": 409, "user_id": 8797900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2FtFj.jpg?s=128&g=1", "display_name": "gromyk", "link": "https://stackoverflow.com/users/8797900/gromyk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1333, "favorite_count": 2, "accepted_answer_id": 52967204, "answer_count": 1, "score": 9, "last_activity_date": 1555568488, "creation_date": 1540370070, "question_id": 52964383, "link": "https://stackoverflow.com/questions/52964383/what-kind-of-sorting-does-kotlin-use-by-default", "title": "What kind of sorting does Kotlin use by default?", "body": "<p>Which sorting is using for <i>.sort(), .sortWith()</i> etc methods?</p>\n\n<pre><code>val array = arrayOf(3,2,1)\n</code></pre>\n\n<p>Are there some differences in algorithms for arrays of different types and sizes?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1540371484, "post_id": 52963339, "comment_id": 92836204, "body": "Why do you use <code>Android</code> as both the receiver and the parameter? This gives the redundant option to use <code>this &lt;fn&gt; value</code> and <code>it &lt;fn&gt; value</code>. Anyway, for a Kotlin DSL a better option is to use <code>var</code> properties and the <code>prop = value</code> syntax."}, {"owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540444178, "post_id": 52963339, "comment_id": 92869450, "body": "I wanted to send it as a parameter as it would be the instance that would be sent to initialise the block using the <code>it</code> keyword. And used as part of the infix function"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 2, "creation_date": 1540448482, "post_id": 52963339, "comment_id": 92870991, "body": "What&#39;s wrong with the <code>this</code> keyword, which you also made to refer to <code>Android</code>? Where&#39;s the benefit of the redundancy?"}], "answers": [{"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": true, "score": 5, "last_activity_date": 1540901552, "creation_date": 1540901552, "answer_id": 53064056, "question_id": 52963339, "link": "https://stackoverflow.com/questions/52963339/kotlin-inner-dsl-that-use-infix-functions-to-add-more-clarity/53064056#53064056", "title": "kotlin inner DSL that use infix functions to add more clarity", "body": "<p>To clarify: you do not need the <code>it</code> for the <code>infix</code> to work. You could also just have written <code>this</code> instead, e.g. <code>this compileSdkVersion 26</code>.</p>\n\n<p>Note also that it rather suffices to just have the following in place:</p>\n\n<pre><code>fun android(block: Android.() -&gt; Unit) = Android().apply(block)\nclass Android(var compileSdkVersion: Int = 0,\n              var buildToolsVersion: String = \"\")\n</code></pre>\n\n<p>The usage then only differs by a <code>=</code> to what you have shown:</p>\n\n<pre><code>val androidConfig = android {\n  buildToolsVersion = \"28.0.3\"\n  compileSdkVersion = 26\n}\n</code></pre>\n\n<p>But the benefit is way bigger: much less code to maintain ;-)</p>\n\n<p>Regarding the other point you mentioned, that you need to supply extension functions. You didn't need to. It suffices to just place the <code>infix fun Android.buildToolsVersion</code> inside of the <code>class Android</code> without the <code>Android.</code> and it would have worked, e.g.:</p>\n\n<pre><code>class Android(var compileSdkVersion: Int = 0,\n              var buildToolsVersion: String = \"\") {\n  infix fun buildToolsVersion(buildToolsVersion: String) {\n    this.buildToolsVersion = buildToolsVersion\n  }\n</code></pre>\n\n<p>Now regarding <code>consolePrint</code>. That looks also rather complicated to me. What about the following instead inside the <code>class Android</code>?</p>\n\n<pre><code>fun toConsolePrint() = \"compileSDK: $compileSdkVersion build tools: $buildToolsVersion\"\n</code></pre>\n\n<p>That's what functions are actually used for... of course: if you do not like the brackets, you can still use your approach with the <code>get()</code>, but it sounds like a function, it acts like a function, so it probably also is a function ;-)</p>\n\n<p>The complete sample with only difference being added <code>()</code> and <code>=</code>:</p>\n\n<pre><code>fun main() {\n  val androidConfig = android {\n    buildToolsVersion = \"28.0.3\"\n    compileSdkVersion = 26\n  }\n  println(androidConfig.toConsolePrint())\n}\n\nfun android(block: Android.() -&gt; Unit) = Android().apply(block)\nclass Android(var compileSdkVersion: Int = 0,\n              var buildToolsVersion: String = \"\") {\n  fun toConsolePrint() = \"compileSDK: $compileSdkVersion build tools: $buildToolsVersion\"\n}\n</code></pre>\n"}], "owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 260, "favorite_count": 0, "accepted_answer_id": 53064056, "answer_count": 1, "score": 7, "last_activity_date": 1540901552, "creation_date": 1540366661, "question_id": 52963339, "link": "https://stackoverflow.com/questions/52963339/kotlin-inner-dsl-that-use-infix-functions-to-add-more-clarity", "title": "kotlin inner DSL that use infix functions to add more clarity", "body": "<pre><code>kotlin 1.2.71\n</code></pre>\n\n<p>I have the following DSL I am writing and want to get it as close to this sample as possible:</p>\n\n<pre><code>android {\n      compileSdkVersion 26\n      buildToolsVersion \"28.0.3\"\n}\n</code></pre>\n\n<p>I am doing this using infix functions and lambda and receivers. Inside my DSL I have to use the <code>it</code> keyword otherwise I can't get the infix function to work. Just wondering, if there was a way to do this?</p>\n\n<p>Another question: In my infix function do I need to use it as an extension function and prefix it with the keyboard Android i.e. <code>infix fun Android.buildToolsVersion(...)</code></p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n\n    val androidConfig = android {\n        it buildToolsVersion  \"28.0.3\"\n        it compileSdkVersion 26\n    }\n\n    println(androidConfig.toConsolePrint)\n}\n\nprivate fun android(block: Android.(Android) -&gt; Unit): Android {\n    val android = Android()\n\n    android.block(android)\n\n    return android\n}\n\nclass Android(var compileSdkVersion: Int = 0,\n              var buildToolsVersion: String = \"\") {\n\n    infix fun Android.buildToolsVersion(buildToolsVersion: String) {\n        this.buildToolsVersion = buildToolsVersion\n    }\n\n    infix fun Android.compileSdkVersion(sdkVersion: Int) {\n        compileSdkVersion = sdkVersion\n    }\n}\n\nprivate val Android.toConsolePrint: String\n    get() {\n        return \"compileSDK: $compileSdkVersion build tools: $buildToolsVersion\"\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java", "observable", "rx-java2"], "comments": [{"owner": {"reputation": 3027, "user_id": 2145504, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/769e20141cad3cf57b17b0a3b3e89db3?s=128&d=identicon&r=PG", "display_name": "kike", "link": "https://stackoverflow.com/users/2145504/kike"}, "edited": false, "score": 0, "creation_date": 1540366028, "post_id": 52962639, "comment_id": 92833050, "body": "aren&#39;t you getting the results at the same time?"}, {"owner": {"reputation": 117, "user_id": 10550136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497bd492274ec2dac0ded21f8283b7a1?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Jones", "link": "https://stackoverflow.com/users/10550136/jack-jones"}, "reply_to_user": {"reputation": 3027, "user_id": 2145504, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/769e20141cad3cf57b17b0a3b3e89db3?s=128&d=identicon&r=PG", "display_name": "kike", "link": "https://stackoverflow.com/users/2145504/kike"}, "edited": false, "score": 0, "creation_date": 1540962330, "post_id": 52962639, "comment_id": 93050967, "body": "no,see  answers below"}], "answers": [{"tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": false, "score": 0, "last_activity_date": 1540370061, "creation_date": 1540370061, "answer_id": 52964380, "question_id": 52962639, "link": "https://stackoverflow.com/questions/52962639/rxjava-use-variables-of-a-different-types-results-of-a-multiple-chain-operato/52964380#52964380", "title": "RxJava - use variables of a different types (results of a multiple chain operators) within &quot;subscribe&quot; lambda", "body": "<p>I think that you can combine both <code>result</code> and <code>pair</code> when both are accessible an return a combined object. In the example below it is a <code>Pair&lt;Result, Pair&lt;FirstObject, SecondObject&gt;&gt;</code>, but maybe it is better to create a dedicated object.</p>\n\n<pre><code>private fun foo2() : Disposable {\n      return  getApiDataObservable()\n                .filter { result.isSuccess }\n                .flatMap {\n                    //it - result\n                    Observable.zip(firstObservable,\n                            secondObservable,\n                            BiFunction&lt;FirstObject, SecondObject, Pair&lt;FirstObject, SecondObject&gt;&gt;\n                            { obj1, obj2 -&gt; \n                                val pair = Pair(obj1, obj2)\n                                Pair(it, pair)\n                            })\n                }.subscribe {\n                    //it - Pair&lt;Result, Pair&lt;FirstObject, SecondObject&gt;&gt;\n                },{ mutableLiveData.value = \"errorMessage\"}\n    }\n</code></pre>\n\n<p>Also note that the <code>.filter { result.isSuccess }</code> will not trigger further chain if the <code>result.isSuccess = false</code> and you will not receive any callback.</p>\n"}, {"tags": [], "owner": {"reputation": 1720, "user_id": 8490194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/003116725d07e12e51de7c159bd2f218?s=128&d=identicon&r=PG&f=1", "display_name": "ConstOrVar", "link": "https://stackoverflow.com/users/8490194/constorvar"}, "is_accepted": true, "score": 0, "last_activity_date": 1540370404, "creation_date": 1540370404, "answer_id": 52964488, "question_id": 52962639, "link": "https://stackoverflow.com/questions/52962639/rxjava-use-variables-of-a-different-types-results-of-a-multiple-chain-operato/52964488#52964488", "title": "RxJava - use variables of a different types (results of a multiple chain operators) within &quot;subscribe&quot; lambda", "body": "<p>You can create wrapper around result like that</p>\n\n<pre><code>class CompoundResult(apiResult: Result, firstObject: FirstObject, secondObject: SecondObject)\n</code></pre>\n\n<p>and modify <code>foo2()</code> function</p>\n\n<pre><code>private fun foo2() : Disposable {\n    return  getApiDataObservable()\n        .flatMap {\n            if(!it.isSuccess) {\n                Observable.error(Throwable(\"errorMessage\"))\n            } else {\n                Observable.zip(firstObservable,\n                        secondObservable,\n                        BiFunction&lt;FirstObject, SecondObject, CompoundResult&gt;\n                        { obj1, obj2 -&gt; CompoundResult(it, obj1, obj2) })\n            }\n        }.subscribe ({\n            //it - CompoundResult\n            // here I need both  - result and pair values\n        },{ mutableLiveData.value = it.localizedMessage })\n</code></pre>\n\n<p>}</p>\n\n<p>Here i throw error, if <code>result</code> of api request is not success. That allow to trigger <code>onError()</code> of your subscriber</p>\n"}], "owner": {"reputation": 117, "user_id": 10550136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/497bd492274ec2dac0ded21f8283b7a1?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Jones", "link": "https://stackoverflow.com/users/10550136/jack-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 2, "accepted_answer_id": 52964488, "answer_count": 2, "score": 2, "last_activity_date": 1540370404, "creation_date": 1540364014, "last_edit_date": 1540367825, "question_id": 52962639, "link": "https://stackoverflow.com/questions/52962639/rxjava-use-variables-of-a-different-types-results-of-a-multiple-chain-operato", "title": "RxJava - use variables of a different types (results of a multiple chain operators) within &quot;subscribe&quot; lambda", "body": "<p>I'm trying to rewrite following rx-code in such way to remove a subscription within another subscription and to make code look more idiomatic:</p>\n\n<pre><code> private fun foo() {\n        compositeDisposable.add(getApiDataObservable().subscribe({ result -&gt;\n            if (!result.isSuccess) {\n                mutableLiveData.value = \"errorMessage\"\n            } else {\n                compositeDisposable.add(Observable.zip(firstObservable,\n                        secondObservable,\n                        BiFunction&lt;FirstObject, SecondObject, Pair&lt;FirstObject, SecondObject&gt;&gt;\n                        { obj1, obj2 -&gt; Pair(obj1, obj2) }\n                ).subscribe({\n\n                    //there I need to use result and pair values\n                }, {\n                    Timber.e(it)\n                }))\n            }\n        }))\n    }\n</code></pre>\n\n<p>I'm tried something like this: </p>\n\n<pre><code>private fun foo2() : Disposable {\n      return  getApiDataObservable()\n                .filter { result.isSuccess }\n                .flatMap {\n                    //it - result\n                    Observable.zip(firstObservable,\n                            secondObservable,\n                            BiFunction&lt;FirstObject, SecondObject, Pair&lt;FirstObject, SecondObject&gt;&gt;\n                            { obj1, obj2 -&gt; Pair(obj1, obj2) })\n                }.subscribe {\n                    //it - Pair&lt;FirstObject, SecondObject&gt;\n               // here I need both  - result and pair values\n                },{ mutableLiveData.value = \"errorMessage\"}\n    }\n</code></pre>\n\n<p>But I have a misunderstanding in a next point : how can I obtain both  - <strong>result</strong> value from the <code>getApiDataObservable()</code> and a <strong>pair</strong> from the <code>Observable.zip(..)</code> call within <code>subscribe</code>. \nFirst thought that comes to the mind : to store <strong>result</strong> value  in some variable and use it inside  <code>subscribe</code> lambda. but maybe it is possible to achieve in more elegant and <em>more-rx</em> way.</p>\n"}, {"tags": ["android", "data-binding", "kotlin", "android-databinding", "two-way-binding"], "comments": [{"owner": {"reputation": 693, "user_id": 505763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9QALk.png?s=128&g=1", "display_name": "Chen-Hai", "link": "https://stackoverflow.com/users/505763/chen-hai"}, "edited": false, "score": 0, "creation_date": 1540364434, "post_id": 52962626, "comment_id": 92832116, "body": "Sorry for the typo. Actually, I try rewrite floatToProgress to floatToString once, since most of the example is convert to string."}, {"owner": {"reputation": 693, "user_id": 505763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9QALk.png?s=128&g=1", "display_name": "Chen-Hai", "link": "https://stackoverflow.com/users/505763/chen-hai"}, "edited": false, "score": 0, "creation_date": 1540364789, "post_id": 52962626, "comment_id": 92832330, "body": "@UmangBurman thanks for your suggestion. Unfortunately, I already try &#39;@JvmStatic&#39; and does not work."}, {"owner": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1540365678, "post_id": 52962626, "comment_id": 92832846, "body": "not <code>@JvmStatic fun progressToFloat</code> try <code>public static fun progressToFloat</code> in both your functions"}, {"owner": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1540365893, "post_id": 52962626, "comment_id": 92832974, "body": "Oh yeah, I forgot that .. Thanks @tynn"}, {"owner": {"reputation": 693, "user_id": 505763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9QALk.png?s=128&g=1", "display_name": "Chen-Hai", "link": "https://stackoverflow.com/users/505763/chen-hai"}, "reply_to_user": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1540366124, "post_id": 52962626, "comment_id": 92833104, "body": "Hi guys, thanks for your help, I just update the solution...I really asked a silly question..."}], "answers": [{"comments": [{"owner": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1540366527, "post_id": 52963284, "comment_id": 92833361, "body": "Appreciated by a +1 :)"}], "tags": [], "owner": {"reputation": 693, "user_id": 505763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9QALk.png?s=128&g=1", "display_name": "Chen-Hai", "link": "https://stackoverflow.com/users/505763/chen-hai"}, "is_accepted": true, "score": 6, "last_activity_date": 1540366594, "last_edit_date": 1540366594, "creation_date": 1540366399, "answer_id": 52963284, "question_id": 52962626, "link": "https://stackoverflow.com/questions/52962626/android-data-binding-issue-the-expression-xxx-cannot-be-inverted/52963284#52963284", "title": "Android Data Binding Issue: The expression XXX cannot be inverted", "body": "<h2>Solution</h2>\n\n<p>Ok, I found the problem: My project does not use Kapt. After add it to build.gradle, all works fine.</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>Also, I update my converter body as following:</p>\n\n<pre><code>object Converter {\n    @InverseMethod(\"progressToFloat\")\n    @JvmStatic fun floatToProgress(value: Float): Int {\n        val result = (value * 100.0f).roundToInt()\n        Log.i(\"MODEL\", \"convert $value to $result(Int)\")\n        return result\n    }\n\n    @JvmStatic fun progressToFloat(value: Int): Float {\n        val result =  value.toFloat()/100.0f\n        Log.i(\"MODEL\", \"convert $value to $result(Float)\")\n        return result\n    }\n}\n</code></pre>\n\n<p>If the @JVMStatic removed, the project can compile successfully, but the binding does not work.</p>\n\n<p>Thanks everyone who give my suggestion. I think I just ask a silly question.</p>\n\n<p>Refer to:<a href=\"https://stackoverflow.com/questions/50137564/databinding-annotation-processor-kapt-warning\">Databinding annotation processor kapt warning</a></p>\n"}, {"tags": [], "owner": {"reputation": 2259, "user_id": 4254527, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/w1DSa.png?s=128&g=1", "display_name": "Saman Sattari", "link": "https://stackoverflow.com/users/4254527/saman-sattari"}, "is_accepted": false, "score": 3, "last_activity_date": 1575969528, "last_edit_date": 1575969528, "creation_date": 1563628546, "answer_id": 57125101, "question_id": 52962626, "link": "https://stackoverflow.com/questions/52962626/android-data-binding-issue-the-expression-xxx-cannot-be-inverted/57125101#57125101", "title": "Android Data Binding Issue: The expression XXX cannot be inverted", "body": "<p>In my case the problem was that I was trying to make a custom <code>TwoWay DataBinding Adapter</code></p>\n\n<p>but my field in the <code>ViewModel</code> class was <code>LiveData</code> instead of <code>MutableLiveData</code></p>\n"}], "owner": {"reputation": 693, "user_id": 505763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9QALk.png?s=128&g=1", "display_name": "Chen-Hai", "link": "https://stackoverflow.com/users/505763/chen-hai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2877, "favorite_count": 0, "accepted_answer_id": 52963284, "answer_count": 2, "score": 1, "last_activity_date": 1575969528, "creation_date": 1540363980, "last_edit_date": 1540366621, "question_id": 52962626, "link": "https://stackoverflow.com/questions/52962626/android-data-binding-issue-the-expression-xxx-cannot-be-inverted", "title": "Android Data Binding Issue: The expression XXX cannot be inverted", "body": "<p>I'm a newbie for android data binding.\nI want to bind multiple SeekBars to a collection of float, such as</p>\n\n<pre><code>SeekBar1.progress &lt;---&gt; modelArray[0]\nSeekBar2.progress &lt;---&gt; modelArray[1]\n...\n</code></pre>\n\n<p>Since the progress of SeekBar is a Int type, I think it would be better to use Converter, and below is the converter code:</p>\n\n<pre><code>import android.databinding.InverseMethod\nimport android.util.Log\nimport kotlin.math.roundToInt\nclass Converter {\n    @InverseMethod(\"progressToFloat\")\n    fun floatToProgress(value: Float): Int {\n        val result = (value * 100.0f).roundToInt()\n        Log.i(\"MODEL\", \"convert $value to $result(Int)\")\n        return result\n    }\n\n    fun progressToFloat(value: Int): Float {\n        return value.toFloat()/100.0f\n    }\n}\n</code></pre>\n\n<p>and the model structure looks like: </p>\n\n<pre><code>class Model {\n val params by lazy {\n        ObservableArrayMap&lt;Int, Float&gt;()\n }\n //....\n}\n</code></pre>\n\n<p>and my xml is following:</p>\n\n<pre><code>&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n    &lt;data class=\"MyBinding\"&gt;\n        &lt;variable name=\"Converter\" type=\"com.mypackage.model.Converter\"&gt;&lt;/variable&gt;\n        &lt;variable\n            name=\"Converter\"\n            type=\"com.mypackage.model.Converter\"&gt;&lt;/variable&gt;\n\n        &lt;variable\n            name=\"model\"\n            type=\"com.mypackage.model.Model\"&gt;&lt;/variable&gt;\n    &lt;/data&gt;\n...\n        &lt;SeekBar\n            android:id=\"@+id/seekBar\"\n            android:layout_width=\"100dp\"\n            android:layout_height=\"30dp\"\n            android:layout_gravity=\"center\"\n            android:layout_marginTop=\"20dp\"\n            android:layout_marginBottom=\"20dp\"\n            android:progress=\"@={Converter.floatToProgress(model.params[0])}\"/&gt;\n</code></pre>\n\n<p>The problem is, every time I build it, it shows :</p>\n\n<pre><code>Found data binding errors.\n****/ data binding error ****\nmsg:The expression converter.floatToProgress(modelParams0) cannot be inverted: \nThere is no inverse for method floatToProgress, you must add an @InverseMethod \nannotation to the method to indicate which method should be used when using \nit in two-way binding expressions\n</code></pre>\n\n<p>I already refer to lots of website, includes following:</p>\n\n<p><a href=\"https://medium.com/androiddevelopers/android-data-binding-inverse-functions-95aab4b11873\" rel=\"nofollow noreferrer\">https://medium.com/androiddevelopers/android-data-binding-inverse-functions-95aab4b11873</a></p>\n\n<p><a href=\"https://developer.android.com/topic/libraries/data-binding/two-way\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/data-binding/two-way</a></p>\n\n<p>But I still cannot find out what problem is. Could anyone give me some suggestion?</p>\n\n<p>My development environment</p>\n\n<pre><code>macOS High Sierra, \nAndroid Studio 3.2.1, with compileSdkVersion 28 and gradle 3.2.1\n</code></pre>\n\n<p><strong>Update:</strong> \nI also try to write Converter as following :</p>\n\n<pre><code>object Converter { // change to object\n    @InverseMethod(\"progressToFloat\")\n    @JvmStatic fun floatToProgress(value: Float): Int { // Add static\n        val result = (value * 100.0f).roundToInt()\n        Log.i(\"MODEL\", \"convert $value to $result(Int)\")\n        return result\n    }\n\n    @JvmStatic fun progressToFloat(value: Int): Float { // Add static\n        return value.toFloat()/100.0f\n    }\n}\n</code></pre>\n\n<p>It still does not work.</p>\n\n<p><strong>Solution</strong>\nOk, I found the problem: My project does not use Kapt.\nAfter add it to build.gradle, all works fine.</p>\n\n<p><code>apply plugin: 'kotlin-kapt'</code></p>\n\n<p>Also, I update my converter body as following:</p>\n\n<pre><code>object Converter {\n    @InverseMethod(\"progressToFloat\")\n    @JvmStatic fun floatToProgress(value: Float): Int {\n        val result = (value * 100.0f).roundToInt()\n        Log.i(\"MODEL\", \"convert $value to $result(Int)\")\n        return result\n    }\n\n    @JvmStatic fun progressToFloat(value: Int): Float {\n        val result =  value.toFloat()/100.0f\n        Log.i(\"MODEL\", \"convert $value to $result(Float)\")\n        return result\n    }\n}\n</code></pre>\n\n<p>If the @JVMStatic removed, the project can compile successfully, but the binding does not work.</p>\n\n<p>Thanks everyone who give my suggestion. I think I just ask a silly question.</p>\n\n<p>Refer to:<a href=\"https://stackoverflow.com/questions/50137564/databinding-annotation-processor-kapt-warning\">Databinding annotation processor kapt warning</a></p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1540368066, "post_id": 52963579, "comment_id": 92834238, "body": "FWIW, for slightly more conciseness, you could cast to <code>Map&lt;String, String&gt;</code> instead.  And <i>presumably</i>, the final cast to <code>String</code> is redundant?"}, {"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1540368312, "post_id": 52963579, "comment_id": 92834394, "body": "Yea, I think the final cast is redundant, but I didn&#39;t want to remove it as I didn&#39;t actually compile the code I posted as answer so I&#39;d rather leave a redundant cast in (which will be removed by compiler more than likely) than to post a non compiling answer.   And yea, casting to the <code>Map&lt;String, String&gt;</code> would be a better idea, unless the functionality <code>LinkedHashMap&lt;String, String&gt;</code> is required."}], "tags": [], "owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "is_accepted": true, "score": 1, "last_activity_date": 1540368357, "last_edit_date": 1540368357, "creation_date": 1540367509, "answer_id": 52963579, "question_id": 52962452, "link": "https://stackoverflow.com/questions/52962452/better-kotlin-way-of-getting-roles-from-jwt-claims/52963579#52963579", "title": "Better Kotlin way of getting roles from JWT Claims", "body": "<p>You could do it like this. The main difference being the use of the higher order function <code>map</code>, which iterates a collection applying a function to create a new collection of the same size but of a new type.</p>\n\n<p>Also, unless you need the intermidiate parts of the function to be assigned to variables for debugging/logging purposes then you can simply ommit assigning values and just chain function calls, but it can make it less easy to read (debatable):</p>\n\n<pre><code>return jwtUtil.getAllClaimsFromToken(authToken)\n              .get(\"role\", ArrayList::class.java)\n              .map {\n                    Role.valueOf((it as Map&lt;String, String&gt;)[\"authority\"])\n              }\n</code></pre>\n"}], "owner": {"reputation": 957, "user_id": 2501333, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18cd174b715cba90515137a97766618c?s=128&d=identicon&r=PG", "display_name": "Jerry", "link": "https://stackoverflow.com/users/2501333/jerry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "accepted_answer_id": 52963579, "answer_count": 1, "score": 0, "last_activity_date": 1540368357, "creation_date": 1540363245, "question_id": 52962452, "link": "https://stackoverflow.com/questions/52962452/better-kotlin-way-of-getting-roles-from-jwt-claims", "title": "Better Kotlin way of getting roles from JWT Claims", "body": "<p>I have the following code, that gets user roles from a <code>io.jsonwebtoken.Claims</code> object</p>\n\n<pre><code>val claims = jwtUtil.getAllClaimsFromToken(authToken)\nval rolesMap = claims.get(\"role\", ArrayList::class.java)\nval roles = ArrayList&lt;Role&gt;()\nfor (rolemap in rolesMap) {\n    roles.add(Role.valueOf((rolemap as LinkedHashMap&lt;String, String&gt;)[\"authority\"] as String))\n}\n</code></pre>\n\n<p>Is there a better/cleaner way to get the role(s) as <code>String</code> in Kotlin?</p>\n"}, {"tags": ["android", "ios", "swift", "angular", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 2486744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rkF3n.jpg?s=128&g=1", "display_name": "Frank Egan", "link": "https://stackoverflow.com/users/2486744/frank-egan"}, "is_accepted": false, "score": 0, "last_activity_date": 1540479091, "creation_date": 1540479091, "answer_id": 52992216, "question_id": 52961574, "link": "https://stackoverflow.com/questions/52961574/pass-data-from-angular6-micro-app-to-mobile-application/52992216#52992216", "title": "Pass Data from Angular6 Micro App to Mobile Application", "body": "<p>If I understand your problem correctly you can try using <a href=\"https://firebase.google.com/docs/dynamic-links/\" rel=\"nofollow noreferrer\">Firebase Dynamic Links</a>. From inside the web app the users would select to sync the data then that will open the dynamic link which will bring them back into the native Android or iOS app. These dynamic links can store small amounts of data which you can read in once you've handled the deep link. See <a href=\"https://firebase.google.com/docs/dynamic-links/android/receive#handle_deep_links\" rel=\"nofollow noreferrer\">this sample code</a> for Android.</p>\n"}], "owner": {"reputation": 560, "user_id": 6919166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76d27c3f4e244d2b8363bbc884d1ba88?s=128&d=identicon&r=PG&f=1", "display_name": "Ace Rivera", "link": "https://stackoverflow.com/users/6919166/ace-rivera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540479091, "creation_date": 1540358574, "question_id": 52961574, "link": "https://stackoverflow.com/questions/52961574/pass-data-from-angular6-micro-app-to-mobile-application", "title": "Pass Data from Angular6 Micro App to Mobile Application", "body": "<p>I have an application in Android (Kotlin) and iOS (Swift 4) that opens a micro app in a WebView which I made using Angular6.</p>\n\n<p>There is a button in my web app that enable users to sync a date to their respective calendar.</p>\n\n<p>What is the best way to pass data from my web application to my native application?</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 974, "user_id": 3333878, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/848a703160f41122c887e69ed2abeb6c?s=128&d=identicon&r=PG&f=1", "display_name": "abitcode", "link": "https://stackoverflow.com/users/3333878/abitcode"}, "edited": false, "score": 0, "creation_date": 1540358834, "post_id": 52961491, "comment_id": 92829880, "body": "Those files have main method, just right click on it and run the file."}, {"owner": {"reputation": 330, "user_id": 2463234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bd278733f6171d09e0a64a456d03e1b?s=128&d=identicon&r=PG", "display_name": "Dhananjay", "link": "https://stackoverflow.com/users/2463234/dhananjay"}, "reply_to_user": {"reputation": 974, "user_id": 3333878, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/848a703160f41122c887e69ed2abeb6c?s=128&d=identicon&r=PG&f=1", "display_name": "abitcode", "link": "https://stackoverflow.com/users/3333878/abitcode"}, "edited": false, "score": 0, "creation_date": 1540358985, "post_id": 52961491, "comment_id": 92829945, "body": "As you can see from the first image, there is no run option coming. : ("}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1540359622, "post_id": 52961491, "comment_id": 92830126, "body": "Do you have the Kotlin plugin installed? I think it should come with current versions of IntelliJ now, but it&#39;s worth checking in Settings."}, {"owner": {"reputation": 330, "user_id": 2463234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bd278733f6171d09e0a64a456d03e1b?s=128&d=identicon&r=PG", "display_name": "Dhananjay", "link": "https://stackoverflow.com/users/2463234/dhananjay"}, "edited": false, "score": 0, "creation_date": 1540359766, "post_id": 52961491, "comment_id": 92830159, "body": "Yes, Kotlin plugin is installed. As I mentioned, new Kotlin projects works fine. I am struggling with importing existing project into intelliJ"}], "answers": [{"comments": [{"owner": {"reputation": 330, "user_id": 2463234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bd278733f6171d09e0a64a456d03e1b?s=128&d=identicon&r=PG", "display_name": "Dhananjay", "link": "https://stackoverflow.com/users/2463234/dhananjay"}, "edited": false, "score": 0, "creation_date": 1540365558, "post_id": 52962817, "comment_id": 92832777, "body": "It worked. Can you suggest a way so that it does this automatically? Did I missed a file or commit wrong project?"}, {"owner": {"reputation": 974, "user_id": 3333878, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/848a703160f41122c887e69ed2abeb6c?s=128&d=identicon&r=PG&f=1", "display_name": "abitcode", "link": "https://stackoverflow.com/users/3333878/abitcode"}, "reply_to_user": {"reputation": 330, "user_id": 2463234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bd278733f6171d09e0a64a456d03e1b?s=128&d=identicon&r=PG", "display_name": "Dhananjay", "link": "https://stackoverflow.com/users/2463234/dhananjay"}, "edited": false, "score": 0, "creation_date": 1540365833, "post_id": 52962817, "comment_id": 92832941, "body": "I think you should not add *.iml in gitignore file. Module level settings of IDE are saved there."}, {"owner": {"reputation": 1726, "user_id": 3774255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2de0d27ea38ef081bd1dfbc0c59df98b?s=128&d=identicon&r=PG&f=1", "display_name": "Brian van Rooijen", "link": "https://stackoverflow.com/users/3774255/brian-van-rooijen"}, "edited": false, "score": 0, "creation_date": 1564384999, "post_id": 52962817, "comment_id": 100997984, "body": "Thanks this did it. For some reason all root directories got lost when updating IntelliJ IDEA to 2019.2"}], "tags": [], "owner": {"reputation": 974, "user_id": 3333878, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/848a703160f41122c887e69ed2abeb6c?s=128&d=identicon&r=PG&f=1", "display_name": "abitcode", "link": "https://stackoverflow.com/users/3333878/abitcode"}, "is_accepted": true, "score": 18, "last_activity_date": 1540364706, "creation_date": 1540364706, "answer_id": 52962817, "question_id": 52961491, "link": "https://stackoverflow.com/questions/52961491/configure-kotlin-to-an-existing-project-in-intellij/52962817#52962817", "title": "Configure Kotlin to an existing project in IntelliJ", "body": "<p>1) Right click the <code>src</code> folder</p>\n\n<p>2) Mark directory as <code>Sources Root</code> </p>\n\n<p>3) Will ask you to configure Java SDK and Kotlin Plugin for the module. Do it.</p>\n\n<p>4) Run &amp; enjoy</p>\n"}], "owner": {"reputation": 330, "user_id": 2463234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bd278733f6171d09e0a64a456d03e1b?s=128&d=identicon&r=PG", "display_name": "Dhananjay", "link": "https://stackoverflow.com/users/2463234/dhananjay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6324, "favorite_count": 3, "accepted_answer_id": 52962817, "answer_count": 1, "score": 5, "last_activity_date": 1540364706, "creation_date": 1540358028, "question_id": 52961491, "link": "https://stackoverflow.com/questions/52961491/configure-kotlin-to-an-existing-project-in-intellij", "title": "Configure Kotlin to an existing project in IntelliJ", "body": "<p>I created a kotlin new Kotlin project through intelliJ (<a href=\"https://github.com/dhananjay12/kotlin/tree/master/kotlin-basic\" rel=\"noreferrer\">https://github.com/dhananjay12/kotlin/tree/master/kotlin-basic</a>) a while back. I then imported it into IntelliJ from a different machine. </p>\n\n<p>There is no run option coming :\n<a href=\"https://i.stack.imgur.com/jGhDf.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/jGhDf.png\" alt=\"enter image description here\"></a></p>\n\n<p>I tried to configure using Project SDK and Libraries, still, IntelliJ doesn't recognize it as a kotlin project.\n<a href=\"https://i.stack.imgur.com/ktoW1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ktoW1.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/6lpfH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6lpfH.png\" alt=\"enter image description here\"></a></p>\n\n<p>NOTE- New project works completely fine</p>\n\n<p>How do I configure an existing project to Kotlin?</p>\n\n<p>What files need to be saved in git so that manually configuring IDE is not required?</p>\n"}, {"tags": ["android", "kotlin", "geolocation", "google-location-services", "fusedlocationproviderclient"], "comments": [{"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1540358882, "post_id": 52961114, "comment_id": 92829905, "body": "Have you tried requesting the <code>ACCESS_COARSE_LOCATION</code> permission as well?"}, {"owner": {"reputation": 974, "user_id": 3333878, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/848a703160f41122c887e69ed2abeb6c?s=128&d=identicon&r=PG&f=1", "display_name": "abitcode", "link": "https://stackoverflow.com/users/3333878/abitcode"}, "edited": false, "score": 0, "creation_date": 1540364169, "post_id": 52961114, "comment_id": 92831975, "body": "Try calling registerLocationListner() inside settings success listener"}, {"owner": {"reputation": 67, "user_id": 1235822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c55da8cd2c5f96445d9b9b6a653ccf84?s=128&d=identicon&r=PG", "display_name": "N B", "link": "https://stackoverflow.com/users/1235822/n-b"}, "reply_to_user": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 0, "creation_date": 1540366234, "post_id": 52961114, "comment_id": 92833158, "body": "@ianhanniballake yes ACCESS_COARSE_LOCATION is also granted"}, {"owner": {"reputation": 67, "user_id": 1235822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c55da8cd2c5f96445d9b9b6a653ccf84?s=128&d=identicon&r=PG", "display_name": "N B", "link": "https://stackoverflow.com/users/1235822/n-b"}, "reply_to_user": {"reputation": 974, "user_id": 3333878, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/848a703160f41122c887e69ed2abeb6c?s=128&d=identicon&r=PG&f=1", "display_name": "abitcode", "link": "https://stackoverflow.com/users/3333878/abitcode"}, "edited": false, "score": 0, "creation_date": 1540366239, "post_id": 52961114, "comment_id": 92833165, "body": "@abitcode tried on the task.addOnSuccessListener but did not work either :("}], "owner": {"reputation": 67, "user_id": 1235822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c55da8cd2c5f96445d9b9b6a653ccf84?s=128&d=identicon&r=PG", "display_name": "N B", "link": "https://stackoverflow.com/users/1235822/n-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1519, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1593165119, "creation_date": 1540355261, "question_id": 52961114, "link": "https://stackoverflow.com/questions/52961114/fusedlocationproviderclient-requestlocationupdates-doesnt-trigger-locationcallb", "title": "FusedLocationProviderClient requestLocationUpdates doesn&#39;t trigger LocationCallBack for API 23 above", "body": "<p>I have run out of possible ways on how to solve this issue. I am technically using the same code that is working in API 23 and above before I made tweaks on my app.</p>\n\n<p><strong>The callback</strong> (in the requestLocationUpdate) <strong>does not trigger in phones \nthat are marshmallow and above</strong> (but it works fine in the emulator, tested using the Pixel 2 API 26 emulator). Take note that permission is already granted/allowed and GPS is also enabled. Also as you can see in the code below I already put a try catch and still there are no errors or even any logs in the console that would say there is an error. I have tested this in multiple phones (Marshmallow, Nougat and Oreo phones, not working. Lollipop and Kitkat phones, working) </p>\n\n<p>Codes affected:</p>\n\n<pre><code>private var mFusedLocationClient: FusedLocationProviderClient? = null\nprivate val UPDATE_INTERVAL = (30 * 1000).toLong()  \nprivate val FASTEST_INTERVAL: Long = 300000\nprivate lateinit var mLocationRequest:LocationRequest\nprivate lateinit var locationCallback: LocationCallback\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n\n     locationCallback = object : LocationCallback() {\n         override fun onLocationResult(locationResult: LocationResult?) {\n                //super.onLocationResult(locationResult)\n                onLocationChanged(locationResult!!.lastLocation)\n            }\n\n          override fun onLocationAvailability(p0: LocationAvailability?) {\n            }\n     }\n\n    startLocationUpdates()\n\n}\n\nprotected fun startLocationUpdates() {\n        mLocationRequest = LocationRequest.create()\n        mLocationRequest!!.run {\n            setPriority(LocationRequest.PRIORITY_HIGH_ACCURACY)\n            setInterval(UPDATE_INTERVAL)\n            setFastestInterval(FASTEST_INTERVAL)\n\n        }\n//      mLocationRequest = LocationRequest().apply {\n//            interval = UPDATE_INTERVAL\n//            fastestInterval = FASTEST_INTERVAL\n//            priority = LocationRequest.PRIORITY_HIGH_ACCURACY\n//      }\n\n        val builder = LocationSettingsRequest.Builder()\n                    .addLocationRequest(mLocationRequest)\n\n\n        val client: SettingsClient = LocationServices.getSettingsClient(this)\n        val task: Task&lt;LocationSettingsResponse&gt; = client.checkLocationSettings(builder.build())\n        task.addOnSuccessListener { locationSettingsResponse -&gt;\n\n        }\n\n        task.addOnFailureListener { exception -&gt;\n          print(exception)\n        }\n\n        registerLocationListner()\n\n  }\n\nprivate fun registerLocationListner() {\n\n    if(android.os.Build.VERSION.SDK_INT &gt;= 15 &amp;&amp; checkPermission()) { \n\n        mFusedLocationClient = LocationServices.getFusedLocationProviderClient(this)\n\n          try{\n\n    //            locationCallback does not trigger if the phone is android API 23 or higher\n         mFusedLocationClient?.requestLocationUpdates(mLocationRequest, locationCallback, null)\n\n          }catch(e:Exception){\n\n          }\n\n\n\n    }\n\n\n}\n\nprivate fun checkPermission() : Boolean {\n      if (ContextCompat.checkSelfPermission(this , android.Manifest.permission.ACCESS_FINE_LOCATION) == PackageManager.PERMISSION_GRANTED) {\n          return true;\n      } else {\n          requestPermissions()\n          return false\n      }\n}\n\nprivate fun requestPermissions() {\n    if(android.os.Build.VERSION.SDK_INT &gt;= 23){\n        ActivityCompat.requestPermissions(this,\n                arrayOf(android.Manifest.permission.ACCESS_FINE_LOCATION),\n               1)\n\n    }else{\n        ActivityCompat.requestPermissions(this, arrayOf(\"Manifest.permission.ACCESS_FINE_LOCATION\"),1)\n\n    }\n}\n</code></pre>\n\n<p>Also my gradle just to show my dependencies/used frameworks</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'io.fabric'\n\nandroid {\n    compileSdkVersion 26\n    defaultConfig {\n        applicationId \"my app id goes here\"\n        minSdkVersion 19\n        targetSdkVersion 26\n        versionName '2.5'\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        multiDexEnabled true\n        versionCode 4\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        debug {\n            minifyEnabled false\n            debuggable true\n        }\n    }\n    productFlavors {\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    implementation 'com.android.support:support-dynamic-animation:26.1.0'\n    implementation 'com.google.android.gms:play-services-ads:16.0.0'\n    implementation 'com.google.android.gms:play-services-location:16.0.0'\n    implementation 'com.google.firebase:firebase-core:16.0.4'\n    implementation 'com.google.firebase:firebase-firestore:17.1.1'\n    implementation 'com.google.android.gms:play-services-maps:16.0.0'\n    implementation 'com.crashlytics.sdk.android:crashlytics:2.9.5'\n    implementation 'com.squareup.okhttp3:okhttp:3.8.1'\n    implementation('com.github.bumptech.glide:glide:4.4.0') {\n        exclude group: \"com.android.support\"\n    }\n    kapt 'com.github.bumptech.glide:compiler:4.4.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\napply plugin: 'kotlin-kapt'\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "edited": false, "score": 0, "creation_date": 1540349410, "post_id": 52960379, "comment_id": 92827734, "body": "&#39; when the edit text is clicked one after another fastly&#39;. Does it mean when you click on first edit text then click on the second right a way?"}, {"owner": {"reputation": 1186, "user_id": 6169668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6OlAh.jpg?s=128&g=1", "display_name": "ASN", "link": "https://stackoverflow.com/users/6169668/asn"}, "reply_to_user": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "edited": false, "score": 0, "creation_date": 1540349489, "post_id": 52960379, "comment_id": 92827754, "body": "@SonTruong exactly. Even before the first alert dialog is opened, if the second one is clicked i see both the alert dialogs opened."}, {"owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1540349527, "post_id": 52960379, "comment_id": 92827766, "body": "You can disable the other one when the first one is clicked."}, {"owner": {"reputation": 2099, "user_id": 5328680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CbHR0.png?s=128&g=1", "display_name": "PushpikaWan", "link": "https://stackoverflow.com/users/5328680/pushpikawan"}, "edited": false, "score": 1, "creation_date": 1540349744, "post_id": 52960379, "comment_id": 92827811, "body": "simple hack - use a boolean variable like &quot;isAlertDialogPopped&quot; to keep value. Then check this condition before any alert pops. change this value of this varaible when u popped up and close alerts."}, {"owner": {"reputation": 1186, "user_id": 6169668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6OlAh.jpg?s=128&g=1", "display_name": "ASN", "link": "https://stackoverflow.com/users/6169668/asn"}, "reply_to_user": {"reputation": 2099, "user_id": 5328680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CbHR0.png?s=128&g=1", "display_name": "PushpikaWan", "link": "https://stackoverflow.com/users/5328680/pushpikawan"}, "edited": false, "score": 0, "creation_date": 1540349818, "post_id": 52960379, "comment_id": 92827823, "body": "@Lucefer Thank you but I have this solution in mind but wanted to check if there is any other solution as I have many fragments to implement the same one."}, {"owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "edited": false, "score": 1, "creation_date": 1540349827, "post_id": 52960379, "comment_id": 92827825, "body": "Disable another one when click on the first one is not good solution. I think when users click on the first one, you can set listener on the other to null. And  onDismiss callback of the first one, you set listener on the other to your listener."}, {"owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "edited": false, "score": 0, "creation_date": 1540349955, "post_id": 52960379, "comment_id": 92827859, "body": "As a result, the UI still not changed, and you do not need to add extra variable to detect whether a dialog is showed or not."}, {"owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1540350076, "post_id": 52960379, "comment_id": 92827879, "body": "I think it is better to have the other one not even clickable when the first one is clicked and waiting for the dialog to pop up. If you just remove the listener and allow switching focus to the other field before the dialog of the first field pop up, user may be confused to figure out which field is the current alert dialog corresponding to."}, {"owner": {"reputation": 1186, "user_id": 6169668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6OlAh.jpg?s=128&g=1", "display_name": "ASN", "link": "https://stackoverflow.com/users/6169668/asn"}, "reply_to_user": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1540350191, "post_id": 52960379, "comment_id": 92827898, "body": "@RickyMo, In that case, I need to handle the different order of clicks. let&#39;s say the user decides to click the second edit text first and not the first one. So I have to see handle this situation as well right as in disabling all other edit texts (which opens alert dialogs) when one edit text is clicked?"}], "answers": [{"tags": [], "owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "is_accepted": false, "score": 0, "last_activity_date": 1540351571, "creation_date": 1540351571, "answer_id": 52960661, "question_id": 52960379, "link": "https://stackoverflow.com/questions/52960379/how-to-avoid-opening-a-new-alert-dialog-if-there-is-one-opened-already-in-a-frag/52960661#52960661", "title": "How to avoid opening a new Alert dialog if there is one opened already in a fragment", "body": "<p>You can disable the other <code>EditText</code> after the first one is clicked so that only one of the two can be clicked. Re-enable it when the dialog dismiss.</p>\n\n<pre><code>    val input1 : EditText = findViewById(R.id.input1)\n    val input2 : EditText = findViewById(R.id.input2)\n\n    input1.setOnFocusChangeListener { _, b -&gt;\n        if(b)\n        {\n            input2.isEnabled = false\n            AlertDialog.Builder(this).setTitle(\"input1\").setMessage(\"input1\").setNeutralButton(\"ok\"){ _, _ -&gt;\n                input2.isEnabled = true\n            }.create().show()\n        }\n    }\n    input2.setOnFocusChangeListener { _, b -&gt;\n        if(b)\n        {\n            input1.isEnabled = false\n            AlertDialog.Builder(this).setTitle(\"input2\").setMessage(\"input2\").setNeutralButton(\"ok\"){ _, _ -&gt;\n                input1.isEnabled = true\n            }.create().show()\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1037, "user_id": 3243275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IWlSJ.jpg?s=128&g=1", "display_name": "Jason Grife", "link": "https://stackoverflow.com/users/3243275/jason-grife"}, "is_accepted": false, "score": 0, "last_activity_date": 1540354441, "creation_date": 1540354441, "answer_id": 52961007, "question_id": 52960379, "link": "https://stackoverflow.com/questions/52960379/how-to-avoid-opening-a-new-alert-dialog-if-there-is-one-opened-already-in-a-frag/52961007#52961007", "title": "How to avoid opening a new Alert dialog if there is one opened already in a fragment", "body": "<p>You can use the <a href=\"https://medium.com/@simonkarmy2004/solving-android-multiple-clicks-problem-kotlin-b99c06135da0\" rel=\"nofollow noreferrer\">solution</a> here if you do the following:</p>\n\n<ul>\n<li><p>Instead of calling the extension <code>View.setSafeOnClickListener</code>, set SafeClickListener to a local field:</p>\n\n<p><code>val safeClickListener = SafeClickListener { view -&gt;\n    when(view.id) {\n        R.id.input1 -&gt; // onClick event for input1\n        R.id.input2 -&gt; // onClick event for input2\n    }\n}</code></p></li>\n<li><p>then set the click listener for those views to use the same instance of SafeClickListener:</p>\n\n<p><code>findViewById&lt;View&gt;(R.id.input1).setOnClickListener(safeClickListener)</code>\n<code>findViewById&lt;View&gt;(R.id.input2).setOnClickListener(safeClickListener)</code></p></li>\n</ul>\n\n<p>This way the interval used in <code>SafeClickListener</code> will prevent a rapid second click event from happening on either of the Views.</p>\n"}, {"comments": [{"owner": {"reputation": 1186, "user_id": 6169668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6OlAh.jpg?s=128&g=1", "display_name": "ASN", "link": "https://stackoverflow.com/users/6169668/asn"}, "edited": false, "score": 0, "creation_date": 1540363502, "post_id": 52961559, "comment_id": 92831631, "body": "But isn&#39;t this method useful when you are opening the same dialog again and again rather than a different dialog?"}], "tags": [], "owner": {"reputation": 30748, "user_id": 758104, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/bYe7q.png?s=128&g=1", "display_name": "Vipul", "link": "https://stackoverflow.com/users/758104/vipul"}, "is_accepted": false, "score": 0, "last_activity_date": 1540358490, "creation_date": 1540358490, "answer_id": 52961559, "question_id": 52960379, "link": "https://stackoverflow.com/questions/52960379/how-to-avoid-opening-a-new-alert-dialog-if-there-is-one-opened-already-in-a-frag/52961559#52961559", "title": "How to avoid opening a new Alert dialog if there is one opened already in a fragment", "body": "<p>There can be multiple way in which you can handle this scenario. If you need to keep it clean without involving any boolean variable, then use <strong>isShowing()</strong> method.</p>\n\n<p>you can refer following snippet.</p>\n\n<pre><code>AlertDialog alert = new AlertDialog.Builder(context).create();\n\nif (alert.isShowing()) {\n    // don't do anything\n}\nelse {\n    // show dialog\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1186, "user_id": 6169668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6OlAh.jpg?s=128&g=1", "display_name": "ASN", "link": "https://stackoverflow.com/users/6169668/asn"}, "edited": false, "score": 0, "creation_date": 1540363509, "post_id": 52961983, "comment_id": 92831636, "body": "But isn&#39;t this method useful when you are opening the same dialog again and again rather than a different dialog?"}, {"owner": {"reputation": 3807, "user_id": 7193506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618c38082e6d3d590a30cc37e1b72391?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/7193506/sachin"}, "reply_to_user": {"reputation": 1186, "user_id": 6169668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6OlAh.jpg?s=128&g=1", "display_name": "ASN", "link": "https://stackoverflow.com/users/6169668/asn"}, "edited": false, "score": 0, "creation_date": 1540363580, "post_id": 52961983, "comment_id": 92831670, "body": "are you having multiple dialog ?"}, {"owner": {"reputation": 3807, "user_id": 7193506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618c38082e6d3d590a30cc37e1b72391?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/7193506/sachin"}, "reply_to_user": {"reputation": 1186, "user_id": 6169668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6OlAh.jpg?s=128&g=1", "display_name": "ASN", "link": "https://stackoverflow.com/users/6169668/asn"}, "edited": false, "score": 0, "creation_date": 1540363663, "post_id": 52961983, "comment_id": 92831717, "body": "then you need to add check for all those alertdialogs , like   if(alertDialog1.isShowing || alertDialog2.isShowing){//Some dialog is shown}else{do something here}"}], "tags": [], "owner": {"reputation": 3807, "user_id": 7193506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/618c38082e6d3d590a30cc37e1b72391?s=128&d=identicon&r=PG&f=1", "display_name": "Sachin", "link": "https://stackoverflow.com/users/7193506/sachin"}, "is_accepted": false, "score": 0, "last_activity_date": 1540363876, "last_edit_date": 1540363876, "creation_date": 1540361065, "answer_id": 52961983, "question_id": 52960379, "link": "https://stackoverflow.com/questions/52960379/how-to-avoid-opening-a-new-alert-dialog-if-there-is-one-opened-already-in-a-frag/52961983#52961983", "title": "How to avoid opening a new Alert dialog if there is one opened already in a fragment", "body": "<blockquote>\n  <p>You can use <code>isShowing()</code> method</p>\n</blockquote>\n\n<pre><code>  AlertDialog yourAlertDialog = new AlertDialog.Builder(getContext()).create();\n\n    if(!yourAlertDialog.isShowing()){\n        //Here you can show your dialog else not       \n        yourAlertDialog.show()\n    }\n</code></pre>\n\n<p>IN KOTLIN</p>\n\n<pre><code> val alertDialog= activity?.let { AlertDialog.Builder(it).create() };\n\n        if(!alertDialog?.isShowing!!){\n            //Here you can show your dialog else not       \n            alertDialog.show()\n        }\n</code></pre>\n\n<p>InCase you have two or more dialogs , </p>\n\n<pre><code>  val alertDialog1= activity?.let { AlertDialog.Builder(it).create() };\n     val alertDialog2= activity?.let { AlertDialog.Builder(it).create() };\n     val alertDialog3= activity?.let { AlertDialog.Builder(it).create() };\n\n if(alertDialog1?.isShowing!! &amp;&amp; alertDialog1?.isShowing!!){\n               //Some dialog is shown\n            }else{\n               //Here you can show your dialog else not       \n                alertDialog3.show()\n              }\n</code></pre>\n"}], "owner": {"reputation": 1186, "user_id": 6169668, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/6OlAh.jpg?s=128&g=1", "display_name": "ASN", "link": "https://stackoverflow.com/users/6169668/asn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1540363876, "creation_date": 1540349145, "question_id": 52960379, "link": "https://stackoverflow.com/questions/52960379/how-to-avoid-opening-a-new-alert-dialog-if-there-is-one-opened-already-in-a-frag", "title": "How to avoid opening a new Alert dialog if there is one opened already in a fragment", "body": "<p>I'm working on this fragment where I have two edit texts and when clicked individually opens an alert dialog. I have been facing this issue where, when the edit text is clicked one after another fastly, it opens two alert dialogs one above another. Is there any way I can avoid this. </p>\n\n<p>I've tried using <code>&lt;item name=\"android:splitMotionEvents\"&gt;false&lt;/item&gt;</code> in the <code>AppTheme</code> and also used this <a href=\"https://medium.com/@simonkarmy2004/solving-android-multiple-clicks-problem-kotlin-b99c06135da0\" rel=\"nofollow noreferrer\">solution</a> but these solutions solve a different scenario.</p>\n\n<p>Any pointers are appreciated</p>\n"}, {"tags": ["kotlin", "kotlinx.serialization"], "comments": [{"owner": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "edited": false, "score": 0, "creation_date": 1540565686, "post_id": 52959755, "comment_id": 92926076, "body": "Can you add the data class for: ProductDimensions, ProductCategory, ProductImage, and ProductAttribute"}, {"owner": {"reputation": 392, "user_id": 1120154, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e15525dc76afbdbee3742fa46aaecc6d?s=128&d=identicon&r=PG", "display_name": "Adrian Le Roy Devezin", "link": "https://stackoverflow.com/users/1120154/adrian-le-roy-devezin"}, "reply_to_user": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "edited": false, "score": 0, "creation_date": 1540574293, "post_id": 52959755, "comment_id": 92930327, "body": "@Gomino added the code"}, {"owner": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "edited": false, "score": 0, "creation_date": 1540910745, "post_id": 52959755, "comment_id": 93032153, "body": "Can you tell me which version of kotlin and kotlin.serialization you&#39;re using?"}, {"owner": {"reputation": 392, "user_id": 1120154, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e15525dc76afbdbee3742fa46aaecc6d?s=128&d=identicon&r=PG", "display_name": "Adrian Le Roy Devezin", "link": "https://stackoverflow.com/users/1120154/adrian-le-roy-devezin"}, "reply_to_user": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "edited": false, "score": 0, "creation_date": 1540911033, "post_id": 52959755, "comment_id": 93032327, "body": "@Gomino 1.3 now"}], "answers": [{"comments": [{"owner": {"reputation": 392, "user_id": 1120154, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e15525dc76afbdbee3742fa46aaecc6d?s=128&d=identicon&r=PG", "display_name": "Adrian Le Roy Devezin", "link": "https://stackoverflow.com/users/1120154/adrian-le-roy-devezin"}, "edited": false, "score": 1, "creation_date": 1540908273, "post_id": 53060874, "comment_id": 93030512, "body": "Your code throws an error &quot;this declaration is experimental and must be marked with &#39;@kotlinx.serialization.ImplicitReflectionSerializer&#39;&quot;"}, {"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "reply_to_user": {"reputation": 392, "user_id": 1120154, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e15525dc76afbdbee3742fa46aaecc6d?s=128&d=identicon&r=PG", "display_name": "Adrian Le Roy Devezin", "link": "https://stackoverflow.com/users/1120154/adrian-le-roy-devezin"}, "edited": false, "score": 0, "creation_date": 1540913081, "post_id": 53060874, "comment_id": 93033608, "body": "Try this instead: <code>val products = JSON(strictMode = false).parse(Product.serializer().list, File(&quot;.&#47;serializationTest.json&quot;).readText())</code>"}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": false, "score": 0, "last_activity_date": 1540890954, "creation_date": 1540890954, "answer_id": 53060874, "question_id": 52959755, "link": "https://stackoverflow.com/questions/52959755/kotlin-deserialize-any-type-not-supported/53060874#53060874", "title": "Kotlin Deserialize Any Type Not Supported", "body": "<p>I've just tried this and couldn't replicate your problem.  Can you maybe provide a github repo where we can see the problem?</p>\n\n<p>There was one issue in the JSON in your pastebin link, which was that the <code>stock_status</code> value was missing, so I hit this error: <code>kotlinx.serialization.MissingFieldException: Field stock_status is required, but it was missing</code></p>\n\n<p>However once I added that value into the JSON I could deserialize it fine.</p>\n\n<p>Here's the code I used:</p>\n\n<pre><code>import kotlinx.serialization.*\nimport kotlinx.serialization.json.JSON\nimport java.io.File\n\nval product = JSON(strictMode = false).parseList&lt;Product&gt;(File(\"./serializationTest.json\").readText())\n</code></pre>\n\n<p>The other thing is that according to the <a href=\"https://github.com/Kotlin/kotlinx.serialization\" rel=\"nofollow noreferrer\">documentation</a></p>\n\n<blockquote>\n  <p>Using Kotlin Serialization requires Kotlin compiler 1.3.0 or higher.</p>\n</blockquote>\n\n<p>Kotlin 1.3 was only officially released very recently, so are you maybe using a release candidate or something, instead of the formal release (with which it worked for me)?  Maybe update all your dependencies to the latest versions and try again?</p>\n"}, {"comments": [{"owner": {"reputation": 2766, "user_id": 1147587, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/655ddd317a27ce69432067ca7c56f3cb?s=128&d=identicon&r=PG", "display_name": "Rajesh Maurya", "link": "https://stackoverflow.com/users/1147587/rajesh-maurya"}, "edited": false, "score": 0, "creation_date": 1573129793, "post_id": 53069116, "comment_id": 103786016, "body": "How to do for MutableMap&lt;String, String&gt;?"}], "tags": [], "owner": {"reputation": 11325, "user_id": 795245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c45a7c8eb935cef82e15b06d4adc887?s=128&d=identicon&r=PG", "display_name": "Gomino", "link": "https://stackoverflow.com/users/795245/gomino"}, "is_accepted": true, "score": 3, "last_activity_date": 1540923261, "last_edit_date": 1540923261, "creation_date": 1540917751, "answer_id": 53069116, "question_id": 52959755, "link": "https://stackoverflow.com/questions/52959755/kotlin-deserialize-any-type-not-supported/53069116#53069116", "title": "Kotlin Deserialize Any Type Not Supported", "body": "<p>Here is a working <a href=\"https://ide.c9.io/gomino/kotlin_serialization\" rel=\"nofollow noreferrer\">cloud9</a> (simply run <code>./gradlew run</code>) solution using the last version of Kotlin (1.3.0) and the serialization runtime (0.9.0)</p>\n\n<pre><code>val serializer = Product.serializer().list\nval json = JSON.nonstrict.parse&lt;List&lt;Product&gt;&gt;(serializer, jsonString)\n</code></pre>\n\n<p>Note that some attributes had to have the @Optional annotation added for this serialization to work with your sample, hence the nonstrict version of the parsing.</p>\n\n<pre><code>@Serializable\ndata class Product(\n        val id: Int = 0,\n        val name: String = \"\",\n        val slug: String = \"\",\n        val permalink: String = \"\",\n        @Optional @SerialName(\"date_created\") val dateCreated: String = \"\",\n        @SerialName(\"date_created_gmt\") val dateCreatedGmt: String = \"\",\n        @SerialName(\"date_modified\") val dateModified: String = \"\",\n        @SerialName(\"date_modified_gmt\") val dateModifiedGmt: String = \"\",\n        val type: String = \"\",\n        val status: String = \"\",\n        val featured: Boolean = false,\n        @SerialName(\"catalog_visibility\") val catalogVisibility: String = \"\",\n        val description: String = \"\",\n        @SerialName(\"short_description\") val shortDescription: String = \"\",\n        val sku: String = \"\",\n        val price: String = \"\",\n        @SerialName(\"regular_price\") val regularPrice: String = \"\",\n        @SerialName(\"sale_price\") val salePrice: String = \"\",\n        @SerialName(\"on_sale\") val onSale: Boolean = false,\n        val purchasable: Boolean = false,\n        @SerialName(\"total_sales\") val totalSales: Int = 0,\n        @SerialName(\"external_url\") val externalUrl: String = \"\",\n        @SerialName(\"tax_status\") val taxStatus: String = \"\",\n        @SerialName(\"tax_class\") val taxClass: String = \"\",\n        @SerialName(\"stock_quantity\") val stockQuantity: String = \"\",\n        @Optional @SerialName(\"stock_status\") val stockStatus: String = \"\",\n        val backorders: String = \"\",\n        @SerialName(\"backorders_allowed\") val backordersAllowed: Boolean = false,\n        val backordered: Boolean = false,\n        @SerialName(\"sold_individually\") val soldIndividually: Boolean = false,\n        val weight: String = \"\",\n        val dimensions: ProductDimensions = ProductDimensions(),\n        @SerialName(\"shipping_required\") val shippingRequired: Boolean = false,\n        @SerialName(\"shipping_taxable\") val shippingTaxable: Boolean = false,\n        @SerialName(\"shipping_class\") val shippingClass: String = \"\",\n        @SerialName(\"shipping_class_id\") val shippingClassId: Int = 0,\n        @SerialName(\"reviews_allowed\") val reviewsAllowed: Boolean = false,\n        @SerialName(\"average_rating\") val averageRating: String = \"\",\n        @SerialName(\"rating_count\") val ratingCount: Int = 0,\n        @SerialName(\"related_ids\") val relatedIds: List&lt;Int&gt; = listOf(),\n        @SerialName(\"upsell_ids\") val upsellIds: List&lt;Int&gt; = listOf(),\n        @SerialName(\"cross_sell_ids\") val crossSellIds: List&lt;Int&gt; = listOf(),\n        @SerialName(\"parent_id\") val parentId: Int = 0,\n        @SerialName(\"purchase_note\") val purchaseNote: String = \"\",\n\n        val categories: List&lt;ProductCategory&gt; = listOf(),\n        val images: List&lt;ProductImage&gt; = listOf(),\n        val attributes: List&lt;ProductAttribute&gt; = listOf(),\n        val variations: List&lt;Int&gt; = listOf()\n)\n</code></pre>\n\n<p>Notice: <code>date_created</code>, <code>stock_status</code></p>\n\n<p>A good online tool to generate your data class based on your json raw data is <a href=\"https://app.quicktype.io?share=oUqUYQTvQ4NZMujLZ9VC\" rel=\"nofollow noreferrer\">quicktype.io</a></p>\n\n<p>Edit: Just figured out that cloud9 had been acquired by amazon two years ago, and you can no longer create an account to see public workspace.\nSo here is the <a href=\"https://preview.c9users.io/gomino/kotlin_serialization/\" rel=\"nofollow noreferrer\">link to the filesystem</a> </p>\n"}], "owner": {"reputation": 392, "user_id": 1120154, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e15525dc76afbdbee3742fa46aaecc6d?s=128&d=identicon&r=PG", "display_name": "Adrian Le Roy Devezin", "link": "https://stackoverflow.com/users/1120154/adrian-le-roy-devezin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1689, "favorite_count": 1, "accepted_answer_id": 53069116, "answer_count": 2, "score": 2, "last_activity_date": 1540923261, "creation_date": 1540343130, "last_edit_date": 1540574276, "question_id": 52959755, "link": "https://stackoverflow.com/questions/52959755/kotlin-deserialize-any-type-not-supported", "title": "Kotlin Deserialize Any Type Not Supported", "body": "<p>I am trying to deserialize a JSON into a kotlin class using kotlin.serialization. However when the code goes to deserialize the json it throws the error <code>kotlinx.serialization.SerializationException: Any type is not supported</code></p>\n\n<p>Can anyone help me resolves this?</p>\n\n<p>Product:</p>\n\n<pre><code>@Serializable\ndata class Product(\n        val id: Int = 0,\n        val name: String = \"\",\n        val slug: String = \"\",\n        val permalink: String = \"\",\n        @SerialName(\"date_created\") val dateCreated: String = \"\",\n        @SerialName(\"date_created_gmt\") val dateCreatedGmt: String = \"\",\n        @SerialName(\"date_modified\") val dateModified: String = \"\",\n        @SerialName(\"date_modified_gmt\") val dateModifiedGmt: String = \"\",\n        val type: String = \"\",\n        val status: String = \"\",\n        val featured: Boolean = false,\n        @SerialName(\"catalog_visibility\") val catalogVisibility: String = \"\",\n        val description: String = \"\",\n        @SerialName(\"short_description\") val shortDescription: String = \"\",\n        val sku: String = \"\",\n        val price: String = \"\",\n        @SerialName(\"regular_price\") val regularPrice: String = \"\",\n        @SerialName(\"sale_price\") val salePrice: String = \"\",\n        @SerialName(\"on_sale\") val onSale: Boolean = false,\n        val purchasable: Boolean = false,\n        @SerialName(\"total_sales\") val totalSales: Int = 0,\n        @SerialName(\"external_url\") val externalUrl: String = \"\",\n        @SerialName(\"tax_status\") val taxStatus: String = \"\",\n        @SerialName(\"tax_class\") val taxClass: String = \"\",\n        @SerialName(\"stock_quantity\") val stockQuantity: String = \"\",\n        @SerialName(\"stock_status\") val stockStatus: String = \"\",\n        val backorders: String = \"\",\n        @SerialName(\"backorders_allowed\") val backordersAllowed: Boolean = false,\n        val backordered: Boolean = false,\n        @SerialName(\"sold_individually\") val soldIndividually: Boolean = false,\n        val weight: String = \"\",\n        val dimensions: ProductDimensions = ProductDimensions(),\n        @SerialName(\"shipping_required\") val shippingRequired: Boolean = false,\n        @SerialName(\"shipping_taxable\") val shippingTaxable: Boolean = false,\n        @SerialName(\"shipping_class\") val shippingClass: String = \"\",\n        @SerialName(\"shipping_class_id\") val shippingClassId: Int = 0,\n        @SerialName(\"reviews_allowed\") val reviewsAllowed: Boolean = false,\n        @SerialName(\"average_rating\") val averageRating: String = \"\",\n        @SerialName(\"rating_count\") val ratingCount: Int = 0,\n        @SerialName(\"related_ids\") val relatedIds: List&lt;Int&gt; = listOf(),\n        @SerialName(\"upsell_ids\") val upsellIds: List&lt;Int&gt; = listOf(),\n        @SerialName(\"cross_sell_ids\") val crossSellIds: List&lt;Int&gt; = listOf(),\n        @SerialName(\"parent_id\") val parentId: Int = 0,\n        @SerialName(\"purchase_note\") val purchaseNote: String = \"\",\n        val categories: List&lt;ProductCategory&gt; = listOf(),\n        val images: List&lt;ProductImage&gt; = listOf(),\n        val attributes: List&lt;ProductAttribute&gt; = listOf(),\n        val variations: List&lt;Int&gt; = listOf()\n)\n</code></pre>\n\n<p>ProductDimension:</p>\n\n<pre><code>data class ProductDimensions(\n        val length: String = \"\",\n        val width: String = \"\",\n        val height: String = \"\"\n)\n</code></pre>\n\n<p>Product Attribute:</p>\n\n<pre><code>data class ProductAttribute(\n        val id: Int = 0,\n        val name: String = \"\",\n        val position: Int = 0,\n        val visible: Boolean = false,\n        val variation: Boolean = false,\n        val options: List&lt;String&gt; = listOf()\n)\n</code></pre>\n\n<p>Product Category:</p>\n\n<pre><code>data class ProductCategory(\n        val id: Int = 0,\n        val name: String = \"\",\n        val slug: String = \"\"\n)\n</code></pre>\n\n<p>Product Image:</p>\n\n<pre><code>data class ProductImage(\n        val id: Int = 0,\n        @SerialName(\"date_created\") val dateCreated: String = \"\",\n        @SerialName(\"date_created_gmt\") val dateCreatedGmt: String = \"\",\n        @SerialName(\"date_modified\") val dateModified: String = \"\",\n        @SerialName(\"date_modified_gmt\") val dateModifiedGmt: String = \"\",\n        val src: String = \"\",\n        val name: String = \"\",\n        val alt: String = \"\"\n)\n</code></pre>\n\n<p>And the associated json is on pastebin <a href=\"https://pastebin.com/cqJQaa88\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": ["java", "kotlin", "java-11"], "comments": [{"owner": {"reputation": 846, "user_id": 4284268, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/30b644609ddad0c9648857d5c04cdb3b?s=128&d=identicon&r=PG&f=1", "display_name": "usbpc102", "link": "https://stackoverflow.com/users/4284268/usbpc102"}, "reply_to_user": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 0, "creation_date": 1540393507, "post_id": 52959353, "comment_id": 92850948, "body": "Nice theory but no, the response header reports the correct size for both files. It really is a bug with <code>HttpClient</code> parsing the content-length header wrong. But that for some reason only is a problem for HTTP 1.1 connections. I&#39;ve reported it to bugs.java.com but it&#39;s not public yet and I don&#39;t really fancy writing everything I put in the report there here again, so I just wait and hope it&#39;s public soon so I can post it, if it gets approved the bug report should show up here: <a href=\"https://bugs.java.com/view_bug.do?bug_id=9057794\" rel=\"nofollow noreferrer\">bugs.java.com/view_bug.do?bug_id=9057794</a>"}, {"owner": {"reputation": 846, "user_id": 4284268, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/30b644609ddad0c9648857d5c04cdb3b?s=128&d=identicon&r=PG&f=1", "display_name": "usbpc102", "link": "https://stackoverflow.com/users/4284268/usbpc102"}, "reply_to_user": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 0, "creation_date": 1540393961, "post_id": 52959353, "comment_id": 92851258, "body": "I also updated the code (to force HTTP 1.1) and provided a URL with a file that also fails to download (<a href=\"https://map.usbcraft.net/file/usbpc-downloads/java_http_client.fail\" rel=\"nofollow noreferrer\">map.usbcraft.net/file/usbpc-downloads/java_http_client.fail</a>&zwnj;&#8203;) using the now updated code if anyone wants to test it for themselves :)"}, {"owner": {"reputation": 106, "user_id": 9415030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/939fa052456164743316437bc645fbb4?s=128&d=identicon&r=PG&f=1", "display_name": "chegar999", "link": "https://stackoverflow.com/users/9415030/chegar999"}, "edited": false, "score": 2, "creation_date": 1540394036, "post_id": 52959353, "comment_id": 92851314, "body": "It is indeed a bug in the HTTP/1.1 stack of the new HTTP Client.  @usbpc102 Thanks for report this to us. I moved your bug to the JDK project and it can now be tracked at the following URL: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8212926\" rel=\"nofollow noreferrer\">bugs.openjdk.java.net/browse/JDK-8212926</a> .  We&#39;re on it, and will hopefully have it resolved very quickly."}, {"owner": {"reputation": 846, "user_id": 4284268, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/30b644609ddad0c9648857d5c04cdb3b?s=128&d=identicon&r=PG&f=1", "display_name": "usbpc102", "link": "https://stackoverflow.com/users/4284268/usbpc102"}, "edited": false, "score": 0, "creation_date": 1540394199, "post_id": 52959353, "comment_id": 92851414, "body": "Thanks I&#39;ll write a short answer to the question with that link :)"}], "answers": [{"tags": [], "owner": {"reputation": 846, "user_id": 4284268, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/30b644609ddad0c9648857d5c04cdb3b?s=128&d=identicon&r=PG&f=1", "display_name": "usbpc102", "link": "https://stackoverflow.com/users/4284268/usbpc102"}, "is_accepted": true, "score": 4, "last_activity_date": 1540394286, "creation_date": 1540394286, "answer_id": 52972593, "question_id": 52959353, "link": "https://stackoverflow.com/questions/52959353/java-11-httpclient-downloading-but-not-negative-content-length/52972593#52972593", "title": "Java 11 `HttpClient` downloading but not? (negative content-length)", "body": "<p>This is a bug in the HTTP/1.1 stack of the new <code>HttpClient</code> in Java 11, the bug report for it can be found here: <a href=\"https://bugs.openjdk.java.net/browse/JDK-8212926\" rel=\"nofollow noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8212926</a></p>\n"}], "owner": {"reputation": 846, "user_id": 4284268, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/30b644609ddad0c9648857d5c04cdb3b?s=128&d=identicon&r=PG&f=1", "display_name": "usbpc102", "link": "https://stackoverflow.com/users/4284268/usbpc102"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1781, "favorite_count": 1, "accepted_answer_id": 52972593, "answer_count": 1, "score": 6, "last_activity_date": 1540394286, "creation_date": 1540339397, "last_edit_date": 1540393893, "question_id": 52959353, "link": "https://stackoverflow.com/questions/52959353/java-11-httpclient-downloading-but-not-negative-content-length", "title": "Java 11 `HttpClient` downloading but not? (negative content-length)", "body": "<p>This works perfectly for some URLs like <code>https://speed.hetzner.de/10GB.bin</code> it prints a lot of the debug messages in my Subscriber so my console looks something like this:</p>\n\n<pre><code>I got 16384 bytes (6396)\nGot data!\nI got 16384 bytes (6397)\nGot data!\nI got 16384 bytes (6398)\nGot data!\nI got 16384 bytes (6399)\n</code></pre>\n\n<p>and taskmanager says that java is downloading with ~50Mbit/s (my full download speed)</p>\n\n<p>However with the url you get for the file you can download here <a href=\"https://map.usbcraft.net/file/usbpc-downloads/java_http_client.fail\" rel=\"nofollow noreferrer\">https://map.usbcraft.net/file/usbpc-downloads/java_http_client.fail</a> this is very diffrent. The console only shows these messages:</p>\n\n<pre><code>Starting download...\nVersion: HTTP_1_1 Status code 200 Got headers back java.net.http.HttpHeaders@d4ccf412 { {accept-ranges=[bytes], cache-control=[max-age=0, no-cache, no-store], cf-ray=[46ed5b5aeaf9721d-AMS], connection=[keep-alive], content-length=[2147483648], content-type=[application/octet-stream], date=[Wed, 24 Oct 2018 15:08:07 GMT], expect-ct=[max-age=604800, report-uri=\"https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct\"], server=[cloudflare], set-cookie=[__cfduid=dcba8bb98269e665c521493baf25d0b6d1540393686; expires=Thu, 24-Oct-19 15:08:06 GMT; path=/; domain=.usbcraft.net; HttpOnly], x-bz-content-sha1=[none], x-bz-file-id=[4_zd729cdbbb41cd50850150a12_f201d3478bea24efd_d20181024_m130349_c001_v0001109_t0059], x-bz-file-name=[java_http_client.fail], x-bz-info-src_last_modified_millis=[1540386142160], x-bz-upload-timestamp=[1540386229000]} }\nContent-Length parsed to int: -2147483648\n</code></pre>\n\n<p>and <code>MySubscriber::onNext</code> never gets called. However taskmanager is still showing my file to be downloading with full speed<a href=\"https://i.stack.imgur.com/FktQQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FktQQ.png\" alt=\"Taskmanager\"></a></p>\n\n<p>Edit:\nAfter letting it run for quite a while it prints something more (this was for another URL but it should be the same for the updated url I'm currently letting it run):</p>\n\n<pre><code>I got an error fixed content-length: -298366259, bytes received: 0\nException in thread \"main\" java.io.IOException: fixed content-length: -298366259, bytes received: 0\n    at java.net.http/jdk.internal.net.http.HttpClientImpl.send(HttpClientImpl.java:565)\n    at java.net.http/jdk.internal.net.http.HttpClientFacade.send(HttpClientFacade.java:119)\n    at TestKt.main(Test.kt:29)\nCaused by: java.io.IOException: fixed content-length: -298366259, bytes received: 0\n    at java.net.http/jdk.internal.net.http.common.Utils.wrapWithExtraDetail(Utils.java:296)\n    at java.net.http/jdk.internal.net.http.Http1Response$BodyReader.onReadError(Http1Response.java:742)\n    at java.net.http/jdk.internal.net.http.Http1AsyncReceiver.checkForErrors(Http1AsyncReceiver.java:297)\n    at java.net.http/jdk.internal.net.http.Http1AsyncReceiver.flush(Http1AsyncReceiver.java:263)\n    at java.net.http/jdk.internal.net.http.common.SequentialScheduler$SynchronizedRestartableTask.run(SequentialScheduler.java:175)\n    at java.net.http/jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(SequentialScheduler.java:147)\n    at java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:198)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: java.io.EOFException: EOF reached while reading\n    at java.net.http/jdk.internal.net.http.Http1AsyncReceiver$Http1TubeSubscriber.onComplete(Http1AsyncReceiver.java:591)\n    at java.net.http/jdk.internal.net.http.common.SSLTube$DelegateWrapper.onComplete(SSLTube.java:268)\n    at java.net.http/jdk.internal.net.http.common.SSLTube$SSLSubscriberWrapper.complete(SSLTube.java:411)\n    at java.net.http/jdk.internal.net.http.common.SSLTube$SSLSubscriberWrapper.onComplete(SSLTube.java:540)\n    at java.net.http/jdk.internal.net.http.common.SubscriberWrapper.checkCompletion(SubscriberWrapper.java:443)\n    at java.net.http/jdk.internal.net.http.common.SubscriberWrapper$DownstreamPusher.run1(SubscriberWrapper.java:322)\n    at java.net.http/jdk.internal.net.http.common.SubscriberWrapper$DownstreamPusher.run(SubscriberWrapper.java:261)\n    at java.net.http/jdk.internal.net.http.common.SequentialScheduler$SynchronizedRestartableTask.run(SequentialScheduler.java:175)\n    at java.net.http/jdk.internal.net.http.common.SequentialScheduler$CompleteRestartableTask.run(SequentialScheduler.java:147)\n    at java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:198)\n    at java.net.http/jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(SequentialScheduler.java:271)\n    at java.net.http/jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(SequentialScheduler.java:224)\n    at java.net.http/jdk.internal.net.http.common.SubscriberWrapper.onComplete(SubscriberWrapper.java:419)\n    at java.net.http/jdk.internal.net.http.SocketTube$InternalReadPublisher$ReadSubscription.signalCompletion(SocketTube.java:632)\n    at java.net.http/jdk.internal.net.http.SocketTube$InternalReadPublisher$InternalReadSubscription.read(SocketTube.java:833)\n    at java.net.http/jdk.internal.net.http.SocketTube$SocketFlowTask.run(SocketTube.java:175)\n    at java.net.http/jdk.internal.net.http.common.SequentialScheduler$SchedulableTask.run(SequentialScheduler.java:198)\n    at java.net.http/jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(SequentialScheduler.java:271)\n    at java.net.http/jdk.internal.net.http.common.SequentialScheduler.runOrSchedule(SequentialScheduler.java:224)\n    at java.net.http/jdk.internal.net.http.SocketTube$InternalReadPublisher$InternalReadSubscription.signalReadable(SocketTube.java:763)\n    at java.net.http/jdk.internal.net.http.SocketTube$InternalReadPublisher$ReadEvent.signalEvent(SocketTube.java:941)\n    at java.net.http/jdk.internal.net.http.SocketTube$SocketFlowEvent.handle(SocketTube.java:245)\n    at java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.handleEvent(HttpClientImpl.java:957)\n    at java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.lambda$run$3(HttpClientImpl.java:912)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1540)\n    at java.net.http/jdk.internal.net.http.HttpClientImpl$SelectorManager.run(HttpClientImpl.java:912)\n</code></pre>\n\n<p>So for some reason java parses the content length as negative, it parses the header into an Int apperently and that causes an integer overflow, but only with that URL as the other file is 10GB in size but works perfectly.</p>\n\n<p>And there is no problem downloading that file using some tool like <code>wget</code> or a webbrowser like firefox. And it's not a problem with all files on 1fichier, just some.</p>\n\n<p>Can somone explain what is going on?</p>\n\n<p>My code:</p>\n\n<pre><code>import java.io.File\nimport java.net.CookieHandler\nimport java.net.URI\nimport java.net.http.HttpClient\nimport java.net.http.HttpRequest\nimport java.net.http.HttpResponse\nimport java.nio.ByteBuffer\nimport java.nio.file.Path\nimport java.time.Duration\nimport java.util.concurrent.CompletionStage\nimport java.util.concurrent.Flow\n\nfun main(args: Array&lt;String&gt;) {\n    val dir = File(\"C:\\\\Users\\\\kjh\\\\Downloads\")\n    val file = File(dir, \"test.bin\")\n\n    file.delete()\n\n    val client = HttpClient.newBuilder()\n            .version(HttpClient.Version.HTTP_1_1)\n            .connectTimeout(Duration.ofSeconds(10))\n            .build()\n\n    val request = HttpRequest.newBuilder()\n            .url(\"https://map.usbcraft.net/file/usbpc-downloads/java_http_client.fail\")\n            //.url(\"https://speed.hetzner.de/10GB.bin\")\n            .build()\n\n    println(\"Starting download...\")\n    client.send(request) {info -&gt;\n        println(\"Version: ${info.version()} Status code ${info.statusCode()} Got headers back ${info.headers()}\")\n        println(\"Content-Length parsed to int: ${info.headers().get(\"content-length\")?.toLong()?.toInt()}\")\n        val responseHandler = HttpResponse.BodyHandlers.ofFile(file.toPath())\n        MySubscriber(responseHandler.apply(info))\n    }\n    println(\"Done with download...\")\n}\n\nclass MySubscriber(val subscriber: HttpResponse.BodySubscriber&lt;Path&gt;) : HttpResponse.BodySubscriber&lt;Path&gt; {\n    private var counter = 0\n    private var total = 0L\n    override fun onComplete() {\n        println(\"Total bytes: $total\")\n        subscriber.onComplete()\n    }\n\n    override fun onSubscribe(subscription: Flow.Subscription?) {\n        println(\"onSubscribe\")\n        subscriber.onSubscribe(subscription)\n    }\n\n    override fun onNext(item: MutableList&lt;ByteBuffer&gt;) {\n        println(\"Got data!\")\n        item.forEach { size -&gt;\n            println(\"I got ${size.remaining()} bytes ($counter)\")\n            total += size.remaining()\n        }\n        counter++\n        subscriber.onNext(item)\n    }\n\n    override fun onError(throwable: Throwable) {\n        println(\"I got an error ${throwable.localizedMessage}\")\n        subscriber.onError(throwable)\n    }\n\n    override fun getBody(): CompletionStage&lt;Path&gt; {\n        return subscriber.body\n    }\n}\n\nfun HttpRequest.Builder.url(url: String) = this.uri(URI.create(url))\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "kotlin", "kotlin-js"], "answers": [{"tags": [], "owner": {"reputation": 243, "user_id": 4028298, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NDpEbpTQprg/AAAAAAAAAAI/AAAAAAAAB-U/o1LaEJkZ56o/photo.jpg?sz=128", "display_name": "Davide Cerbo", "link": "https://stackoverflow.com/users/4028298/davide-cerbo"}, "is_accepted": false, "score": 0, "last_activity_date": 1540338385, "creation_date": 1540338385, "answer_id": 52959224, "question_id": 52959145, "link": "https://stackoverflow.com/questions/52959145/create-react-apps-using-kotlin-and-external/52959224#52959224", "title": "Create React apps using Kotlin and External", "body": "<p>Just solved, I need to annotate the external class with @JsModule(\"github-api\"):</p>\n\n<pre><code>package com.github.jesty.githubapi\n\nimport kotlin.js.Promise\n\n@JsModule(\"github-api\")\nexternal class GitHub(user: User) {\n    fun getUser(): GHUser\n}\n\n@JsModule(\"github-api\")\nexternal class GHUser {\n    fun listStarredRepos(): Promise&lt;Result&gt;\n}\n</code></pre>\n"}], "owner": {"reputation": 243, "user_id": 4028298, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NDpEbpTQprg/AAAAAAAAAAI/AAAAAAAAB-U/o1LaEJkZ56o/photo.jpg?sz=128", "display_name": "Davide Cerbo", "link": "https://stackoverflow.com/users/4028298/davide-cerbo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540338385, "creation_date": 1540337742, "question_id": 52959145, "link": "https://stackoverflow.com/questions/52959145/create-react-apps-using-kotlin-and-external", "title": "Create React apps using Kotlin and External", "body": "<p>I'm trying to wrap this simple API: <a href=\"https://github.com/github-tools/github\" rel=\"nofollow noreferrer\">https://github.com/github-tools/github</a>, just for study purpose. So, I created this external classes:</p>\n\n<pre><code>package index\n\nimport com.github.jesty.githubapi.Result\nimport com.github.jesty.githubapi.User\nimport kotlin.js.Promise\n\nexternal class GitHub(user: User) {\n    fun getUser(): GHUser\n}\n\nexternal class GHUser {\n    fun listStarredRepos(): Promise&lt;Result&gt;\n}\n</code></pre>\n\n<p>In a simple KotlinJS project everything is ok, but when I try to use in a project created with <a href=\"https://github.com/JetBrains/create-react-kotlin-app\" rel=\"nofollow noreferrer\">Create React Kotlin App</a> I have the error below:</p>\n\n<pre><code>ReferenceError: GitHub is not defined \n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 529, "user_id": 9259023, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ymOB9W3X57w/AAAAAAAAAAI/AAAAAAABFI4/SZCf7INgxbc/photo.jpg?sz=128", "display_name": "Harshil Shah", "link": "https://stackoverflow.com/users/9259023/harshil-shah"}, "edited": false, "score": 0, "creation_date": 1540336409, "post_id": 52958675, "comment_id": 92825235, "body": "Are both of your image view in the same layout activity?"}, {"owner": {"reputation": 13, "user_id": 10548906, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JR10Cuj1NZ8/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbD6kPRTtd1DBhFcsNPu65UH7_XRbA/mo/photo.jpg?sz=128", "display_name": "Neil French", "link": "https://stackoverflow.com/users/10548906/neil-french"}, "reply_to_user": {"reputation": 529, "user_id": 9259023, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ymOB9W3X57w/AAAAAAAAAAI/AAAAAAABFI4/SZCf7INgxbc/photo.jpg?sz=128", "display_name": "Harshil Shah", "link": "https://stackoverflow.com/users/9259023/harshil-shah"}, "edited": false, "score": 0, "creation_date": 1540336587, "post_id": 52958675, "comment_id": 92825262, "body": "@HarshilShah Yeah, and my code to move the ImageView to the target works correctly - I just want the resizing of the image to have an animation rather than abruptly changing"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1540340804, "post_id": 52958675, "comment_id": 92826144, "body": "The default value of scaleX and scaleY is <code>1</code> and it represents <code>100%</code>"}], "answers": [{"tags": [], "owner": {"reputation": 736, "user_id": 1803222, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/93623a57b0bed312967a83bf14766545?s=128&d=identicon&r=PG", "display_name": "Anhayt Ananun", "link": "https://stackoverflow.com/users/1803222/anhayt-ananun"}, "is_accepted": false, "score": 0, "last_activity_date": 1540338163, "creation_date": 1540338163, "answer_id": 52959197, "question_id": 52958675, "link": "https://stackoverflow.com/questions/52958675/animate-resizing-of-imageview-to-size-of-another-imageview/52959197#52959197", "title": "Animate resizing of ImageView to size of another ImageView", "body": "<p>A solution will be to get the actual width and height of the images via getMeasuredWidth() and getMeasuredHeight(), and then doing division to compute the scale factor. Note, that using getWidth() and getHeight() is not a good option, as they contain information on width and height (e.g. integer value of MATCH_PARENT), not the final computed value. Also note, that measured with and height is available after UI was laid out. If your animation must be done on activity creation, you must trigger it in onWindowFocusChanged, at this time layout sizes are already computed (if I remember correctly).</p>\n\n<pre><code>imageViewToBeChanged\n    .animate()\n    .scaleX(targetImageView.getMeasuredWidth() / imageViewToBeChanged.getMeasuredWidth())\n    .scaleY(targetImageView.getMeasuredHeight() / imageViewToBeChanged.getMeasuredHeight())\n    .x(target.x)\n    .y(target.y)\n    .setDuration(1000)\n    .start()\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>Also, I am not sure how much scaling will affect the quality of image inside ImageView.</p>\n"}, {"tags": [], "owner": {"reputation": 82, "user_id": 9048354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8de107616cd83393bc15b60def12b445?s=128&d=identicon&r=PG&f=1", "display_name": "RAPTORp", "link": "https://stackoverflow.com/users/9048354/raptorp"}, "is_accepted": true, "score": 0, "last_activity_date": 1540340777, "last_edit_date": 1540340777, "creation_date": 1540340014, "answer_id": 52959423, "question_id": 52958675, "link": "https://stackoverflow.com/questions/52958675/animate-resizing-of-imageview-to-size-of-another-imageview/52959423#52959423", "title": "Animate resizing of ImageView to size of another ImageView", "body": "<p>create a float value for the ratios between the two images:</p>\n\n<pre><code>float w_ratio = (targetImage.getMeasuredWidth() - sourceImage.getMeasuredWidth()) / sourceImage.getMeasuredWidth();\nfloat h_ratio = (targetImage.getMeasuredHeight() - sourceImage.getMeasuredHeight()) / sourceImage.getMeasuredHeight();\n\n// then animate:\n\nv.animate().scaleXBy(w_ratio).scaleYBy(h_ratio).setDuration(1000);\n\n// Don't forget to reset the size later if needed, using:\n\nv.setScaleX(1.0f);\nv.setScaleY(1.0f);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 529, "user_id": 9259023, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ymOB9W3X57w/AAAAAAAAAAI/AAAAAAABFI4/SZCf7INgxbc/photo.jpg?sz=128", "display_name": "Harshil Shah", "link": "https://stackoverflow.com/users/9259023/harshil-shah"}, "is_accepted": false, "score": 0, "last_activity_date": 1540340611, "creation_date": 1540340611, "answer_id": 52959484, "question_id": 52958675, "link": "https://stackoverflow.com/questions/52958675/animate-resizing-of-imageview-to-size-of-another-imageview/52959484#52959484", "title": "Animate resizing of ImageView to size of another ImageView", "body": "<p>To get the x and y position of your target imageView write the following code.</p>\n\n<pre><code>    x = imageViewObject.getLeft(); \n    y = imageViewObject.getTop();\n</code></pre>\n\n<p>To animate you need to make the following changes in your code</p>\n\n<pre><code>v.animate()\n                .scaleX(0) // This will be your initial x position of your imageView\n                .scaleY(0) // This will be your initial y position of your imageView\n                .x(x)      // This will be the x position of your target imageView\n                .y(y)      // This will be the y position of your target imageView\n                .setDuration(1500)\n                .start()\n</code></pre>\n\n<p>Initially, for testing purposes increase the duration so you can notice the animation and can make necessary changes if required.</p>\n"}], "owner": {"reputation": 13, "user_id": 10548906, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JR10Cuj1NZ8/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbD6kPRTtd1DBhFcsNPu65UH7_XRbA/mo/photo.jpg?sz=128", "display_name": "Neil French", "link": "https://stackoverflow.com/users/10548906/neil-french"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 232, "favorite_count": 0, "accepted_answer_id": 52959423, "answer_count": 3, "score": 1, "last_activity_date": 1540340777, "creation_date": 1540333780, "question_id": 52958675, "link": "https://stackoverflow.com/questions/52958675/animate-resizing-of-imageview-to-size-of-another-imageview", "title": "Animate resizing of ImageView to size of another ImageView", "body": "<p>I have a picture that I want to animate and move to another ImageView location.</p>\n\n<p>Currently this is what I'm doing :</p>\n\n<pre><code>                v.animate()\n                    .scaleX(??)\n                    .scaleY(??)\n                    .x(target.x)\n                    .y(target.y)\n                    .setDuration(1000)\n                    .start()\n</code></pre>\n\n<p>My question is how can I calculate the correct scale factor for x and y? If I set the layout params equal to the target's layout params, then it works fine but it isn't animated. I've tried dividing the width and height of the source image with the target image, but it hasn't been giving me the correct scale.</p>\n\n<p>Thanks for your help</p>\n"}, {"tags": ["android", "android-layout", "kotlin"], "comments": [{"owner": {"reputation": 684, "user_id": 10545477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n3Z4E.png?s=128&g=1", "display_name": "ILLIA DEREVIANKO", "link": "https://stackoverflow.com/users/10545477/illia-derevianko"}, "edited": false, "score": 0, "creation_date": 1540328807, "post_id": 52957625, "comment_id": 92823089, "body": "<b>tilState</b> it&#39;s object of EditText or TextInputLayout?"}, {"owner": {"reputation": 89, "user_id": 5806951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb66dccbd540fd108e17cff3947e06ac?s=128&d=identicon&r=PG&f=1", "display_name": "hertzon", "link": "https://stackoverflow.com/users/5806951/hertzon"}, "reply_to_user": {"reputation": 684, "user_id": 10545477, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n3Z4E.png?s=128&g=1", "display_name": "ILLIA DEREVIANKO", "link": "https://stackoverflow.com/users/10545477/illia-derevianko"}, "edited": false, "score": 0, "creation_date": 1540333692, "post_id": 52957625, "comment_id": 92824580, "body": "tilState is TextInputLayout...best regards"}], "answers": [{"tags": [], "owner": {"reputation": 89, "user_id": 5806951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb66dccbd540fd108e17cff3947e06ac?s=128&d=identicon&r=PG&f=1", "display_name": "hertzon", "link": "https://stackoverflow.com/users/5806951/hertzon"}, "is_accepted": false, "score": 1, "last_activity_date": 1540335954, "creation_date": 1540335954, "answer_id": 52958942, "question_id": 52957625, "link": "https://stackoverflow.com/questions/52957625/edittext-with-top-extraspace-problem-when-background-is-null-programmatically/52958942#52958942", "title": "EditText with top extraspace problem when background is null programmatically", "body": "<p>I fix recreating the xml layout with recreate() function</p>\n"}], "owner": {"reputation": 89, "user_id": 5806951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb66dccbd540fd108e17cff3947e06ac?s=128&d=identicon&r=PG&f=1", "display_name": "hertzon", "link": "https://stackoverflow.com/users/5806951/hertzon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540335954, "creation_date": 1540327750, "question_id": 52957625, "link": "https://stackoverflow.com/questions/52957625/edittext-with-top-extraspace-problem-when-background-is-null-programmatically", "title": "EditText with top extraspace problem when background is null programmatically", "body": "<p>I have a Textinputlayout where the ediText  background is set to null in layout xml:</p>\n\n<p>android:background=\"@null\"</p>\n\n<p><a href=\"https://i.stack.imgur.com/jT3zj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jT3zj.png\" alt=\"enter image description here\"></a></p>\n\n<p>the problem is when set the background to null programatelly </p>\n\n<p>tilState.background=null</p>\n\n<p>the hint title have extra space:</p>\n\n<p><a href=\"https://i.stack.imgur.com/icsvr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/icsvr.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 4, "creation_date": 1540323185, "post_id": 52955587, "comment_id": 92820678, "body": "I&#39;m not sure what you see as undesirable about <code>setA.any {it in setB}</code>."}, {"owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1540325824, "post_id": 52955587, "comment_id": 92821936, "body": "Our business logic is very complex, and any relief we can provide in it for the random reader - it preferred."}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1540325970, "post_id": 52955587, "comment_id": 92822004, "body": "What is complex about that line of code?"}, {"owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "reply_to_user": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1540326403, "post_id": 52955587, "comment_id": 92822182, "body": "OK. That&#39;s fair. I edited the question to reflect the case more reliably. We originally used lists and moving to sets was a step trying to simplify the code a bit (but it still wasn&#39;t as good as we wanted)."}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1540328264, "post_id": 52955587, "comment_id": 92822899, "body": "Is there a reason you wouldn&#39;t want to pull out a constant for the inner list?  As it stands, writing listOf inside the lambda seems likely to harm performance."}], "answers": [{"tags": [], "owner": {"reputation": 128160, "user_id": 321697, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/FHlMy.jpg?s=128&g=1", "display_name": "Kevin Coppock", "link": "https://stackoverflow.com/users/321697/kevin-coppock"}, "is_accepted": false, "score": 12, "last_activity_date": 1540395799, "last_edit_date": 1540395799, "creation_date": 1540325774, "answer_id": 52957219, "question_id": 52955587, "link": "https://stackoverflow.com/questions/52955587/kotlin-an-elegant-way-to-check-if-a-list-contains-a-value-of-another-collection/52957219#52957219", "title": "Kotlin: An elegant way to check if a List contains a value of another Collection / List?", "body": "<p>I agree with Louis that <code>setA.any { it in setB }</code> seems pretty readable, and relies solely on the standard library functions. Alternatively, you could use a method reference to make it a bit more explicit:</p>\n\n<pre><code>setA.any(setB::contains)\n</code></pre>\n\n<p>Straying a bit further, you could just define your own extension function:</p>\n\n<pre><code>infix fun &lt;T: Any&gt; Set&lt;T&gt;.intersects(other: Set&lt;T&gt;) = any(other::contains)\n</code></pre>\n\n<p>Then you can just write:</p>\n\n<pre><code>if (setA intersects setB)\n</code></pre>\n\n<p>EDIT: Given your updated question, I'd note that this extension function can scale to any collection type, or with your varargs approach:</p>\n\n<pre><code>infix fun &lt;T: Any&gt; Collection&lt;T&gt;.intersects(other: Collection&lt;T&gt;) = any(other::contains)\nfun &lt;T: Any&gt; Collection&lt;T&gt;.intersects(vararg others: T) = any(other::contains)\n</code></pre>\n\n<p>So you can still do something like:</p>\n\n<pre><code>if (myList intersects setOf(\"1\", \"2\", \"3\"))\n</code></pre>\n\n<p>or </p>\n\n<pre><code>if (myList.intersects(\"1\", \"2\", \"3\"))\n</code></pre>\n"}], "owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4788, "favorite_count": 2, "answer_count": 1, "score": 6, "last_activity_date": 1540395799, "creation_date": 1540319160, "last_edit_date": 1540326551, "question_id": 52955587, "link": "https://stackoverflow.com/questions/52955587/kotlin-an-elegant-way-to-check-if-a-list-contains-a-value-of-another-collection", "title": "Kotlin: An elegant way to check if a List contains a value of another Collection / List?", "body": "<p>Is there an elegant / idiomatic way to check in Kotlin whether an element of one list is contained in another list? </p>\n\n<p>Given:</p>\n\n<pre><code>val listA = listOf(\"A\", \"B\", \"C\")\n</code></pre>\n\n<p>I can write expressions such as:</p>\n\n<pre><code>listA.intersect(setOf(\"E\", \"C\")).isNotEmpty()\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>listA.any { it in listOf(\"E\",\"C\") }\n</code></pre>\n\n<p>That's OK, but I wonder if there is even a more fluent way to express that (as this code is simplified, the real code is more complex).</p>\n\n<p>My fallback is to use a custom extension function, e.g.:</p>\n\n<pre><code>fun &lt;T&gt; List&lt;T&gt;.containsAny(vararg other : T) =\n      this.intersect(other.toSet()).isNotEmpty()\n</code></pre>\n\n<p>I just wonder if there is a better way.</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin", "firebaseui"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 1, "creation_date": 1540316258, "post_id": 52954745, "comment_id": 92817406, "body": "You&#39;re returning a nullable <code>FriendlyMessage</code> (i.e. <code>FriendlyMessage?</code>) but the function is declared as returning a non-nullable <code>FriendlyMessage</code>. So you either force the return value to non-null, or you change the return value of <code>parseSnapshot</code> to <code>FriendlyMessage?</code>."}, {"owner": {"reputation": 111, "user_id": 5383455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/536690cf4c59016132d85bbe333b06e3?s=128&d=identicon&r=PG&f=1", "display_name": "kenchan13", "link": "https://stackoverflow.com/users/5383455/kenchan13"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1540325661, "post_id": 52954745, "comment_id": 92821852, "body": "@m0skit0 I tried 1st one and get the same error message,  2nd doesn&#39;t work too as Andriod Studio returns this error <code>Return type of &#39;parseSnapshot&#39; is not a subtype of the return type of the overridden member &#39;@NonNull public abstract fun parseSnapshot(@NonNull p0: DataSnapshot): FriendlyMessage defined in com.firebase.ui.database.SnapshotParser&#39;</code>"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1540326049, "post_id": 52954745, "comment_id": 92822046, "body": "Sorry but if you force it to be not null, i.e. <code>return friendlyMessage!!</code>, there&#39;s no way it is the same error message. However this means you will get an NPE if it is ever null."}, {"owner": {"reputation": 111, "user_id": 5383455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/536690cf4c59016132d85bbe333b06e3?s=128&d=identicon&r=PG&f=1", "display_name": "kenchan13", "link": "https://stackoverflow.com/users/5383455/kenchan13"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1541080617, "post_id": 52954745, "comment_id": 93100953, "body": "I can compile the code <code>return friendlyMessage!!</code> since <code>parseSnapshort</code> is <code>@nonnull</code>."}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 5383455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/536690cf4c59016132d85bbe333b06e3?s=128&d=identicon&r=PG&f=1", "display_name": "kenchan13", "link": "https://stackoverflow.com/users/5383455/kenchan13"}, "edited": false, "score": 0, "creation_date": 1540324913, "post_id": 52954921, "comment_id": 92821467, "body": "I tried this already, but it failed because I get the same error message <code>Type mismatch: inferred type is FriendlyMessage? but FriendlyMessage was expected</code>"}], "tags": [], "owner": {"reputation": 101, "user_id": 5718352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/818472adbede2cf4747e810dbf31f904?s=128&d=identicon&r=PG&f=1", "display_name": "sgrig", "link": "https://stackoverflow.com/users/5718352/sgrig"}, "is_accepted": false, "score": 0, "last_activity_date": 1540390640, "last_edit_date": 1540390640, "creation_date": 1540316497, "answer_id": 52954921, "question_id": 52954745, "link": "https://stackoverflow.com/questions/52954745/question-about-java-code-convert-to-kotlin-related-to-firebase/52954921#52954921", "title": "Question about Java code convert to Kotlin related to Firebase", "body": "<p>The parser object is specified as</p>\n\n<pre><code>val parser = object : SnapshotParser&lt;FriendlyMessage&gt;\n</code></pre>\n\n<p>Here the <code>FriendlyMessage</code> is non nullable and the overriden function <code>parseSnapshot</code> also has the same type <code>FriendlyMessage</code>. There are 2 ways to fix the error. The returned object can be changed to non null like this</p>\n\n<pre><code>return friendlyMessage!!\n</code></pre>\n\n<p>Please note that using !! is not recommended as it generates extra code for null checking and throwing an exception in case of null.</p>\n\n<p>The second solution would be specifying the type as nullable.</p>\n\n<pre><code>mFirebaseDatabaseReference = FirebaseDatabase.getInstance().reference\nval parser = object : SnapshotParser&lt;FriendlyMessage?&gt; {\n    override fun parseSnapshot(dataSnapshot: DataSnapshot): FriendlyMessage? {\n        val friendlyMessage = dataSnapshot.getValue(FriendlyMessage::class.java)\n        friendlyMessage?.setId(dataSnapshot.key!!)\n        return friendlyMessage\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 5383455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/536690cf4c59016132d85bbe333b06e3?s=128&d=identicon&r=PG&f=1", "display_name": "kenchan13", "link": "https://stackoverflow.com/users/5383455/kenchan13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 232, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540390640, "creation_date": 1540315784, "last_edit_date": 1540328904, "question_id": 52954745, "link": "https://stackoverflow.com/questions/52954745/question-about-java-code-convert-to-kotlin-related-to-firebase", "title": "Question about Java code convert to Kotlin related to Firebase", "body": "<p>I am writing Chatroom App and now I want to convert runnable Android Java code to Kotlin code. I try to assign <code>parser</code> as Null Safety by adding \"?\". However, I cannot compile the code.</p>\n\n<p>Java version:</p>\n\n<pre><code>mFirebaseDatabaseReference = FirebaseDatabase.getInstance().getReference();\nSnapshotParser&lt;FriendlyMessage&gt; parser = new SnapshotParser&lt;FriendlyMessage&gt;() {\n    @Override\n    public FriendlyMessage parseSnapshot(DataSnapshot dataSnapshot) {\n        FriendlyMessage friendlyMessage = dataSnapshot.getValue(FriendlyMessage.class);\n        if (friendlyMessage != null) {\n            friendlyMessage.setId(dataSnapshot.getKey());\n        }\n        return friendlyMessage;\n    }\n};\n</code></pre>\n\n<p>Kotlin version:</p>\n\n<pre><code>mFirebaseDatabaseReference = FirebaseDatabase.getInstance().reference\nval parser = object : SnapshotParser&lt;FriendlyMessage&gt; {\n    override fun parseSnapshot(dataSnapshot: DataSnapshot): FriendlyMessage {\n        val friendlyMessage = dataSnapshot.getValue(FriendlyMessage::class.java)\n        friendlyMessage?.setId(dataSnapshot.key!!)\n        return friendlyMessage\n    }\n}\n</code></pre>\n\n<p>Here is the error message:</p>\n\n<pre><code>Type mismatch: inferred type is FriendlyMessage? but FriendlyMessage was expected\n\n\nRequired: friendlyMessage\nFound: friendlyMessage?\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 351, "user_id": 1193176, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ca96b3d83f1e00f10b5b2c9b09e5bd6a?s=128&d=identicon&r=PG", "display_name": "Quincy Bowers", "link": "https://stackoverflow.com/users/1193176/quincy-bowers"}, "edited": false, "score": 0, "creation_date": 1540318438, "post_id": 52955154, "comment_id": 92818457, "body": "Thanks @yole.  That&#39;s exactly what I expected."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 2, "last_activity_date": 1540317557, "creation_date": 1540317557, "answer_id": 52955154, "question_id": 52954306, "link": "https://stackoverflow.com/questions/52954306/how-are-kotlin-multiline-strings-handled-in-annotations/52955154#52955154", "title": "How are Kotlin multiline strings handled in annotations?", "body": "<p>This behavior is a bug in the Kotlin plugin; the compiler actually isn't smart enough to remove the | characters. I've filed <a href=\"https://youtrack.jetbrains.com/issue/KT-27777\" rel=\"nofollow noreferrer\">an issue</a>.</p>\n"}], "owner": {"reputation": 351, "user_id": 1193176, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ca96b3d83f1e00f10b5b2c9b09e5bd6a?s=128&d=identicon&r=PG", "display_name": "Quincy Bowers", "link": "https://stackoverflow.com/users/1193176/quincy-bowers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 736, "favorite_count": 0, "accepted_answer_id": 52955154, "answer_count": 1, "score": 4, "last_activity_date": 1540317557, "creation_date": 1540314068, "question_id": 52954306, "link": "https://stackoverflow.com/questions/52954306/how-are-kotlin-multiline-strings-handled-in-annotations", "title": "How are Kotlin multiline strings handled in annotations?", "body": "<p>I am using Intellij to write a Kotlin repository using JPA.  I converted an existing Java class which had a particularly long @Query string.</p>\n\n<pre><code>@Query(\"SELECT a.column1, a.column2, b.column3, b.column4, b.column5, b.column6) FROM TableA as a JOIN TableB as b ON a.id = b.foreignKeyId WHERE a.column1 = :column1 AND b.column2 = :column2 AND b.column3 IN :column3Values\")\n</code></pre>\n\n<p>public List someFancyMethodName(...);</p>\n\n<p>After converting to Kotlin I turned the annotation parameter into a multiline string and started inserting newlines.  Intellij, (helpfully?), inserted pipes for handling the margin.</p>\n\n<p>It ended up looking like this.</p>\n\n<pre><code>@Query(\"\"\"SELECT a.column1, a.column2, b.column3, b.column4, b.column5, b.column6)\n    | FROM TableA as a\n    | JOIN TableB as b ON a.id = b.foreignKeyId\n    | WHERE a.column1 = :column1\n    | AND b.column2 = :column2\n    | AND b.column3 IN :column3Values\"\"\")\nfun someFancyMethodName(...): List&lt;SomeFancyReturnValue&gt;\n</code></pre>\n\n<p>My first thought is that this is not going to work with the embedded pipes and that Intellij shouldn't be inserting them in an annotation parameter.  Or is it smart enough to remove the pipes a on compile when the multiline string is an annotation parameter?</p>\n"}, {"tags": ["android", "amazon-web-services", "kotlin", "amazon-dynamodb"], "answers": [{"tags": [], "owner": {"reputation": 595, "user_id": 8104378, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PmeTl.jpg?s=128&g=1", "display_name": "Roshan", "link": "https://stackoverflow.com/users/8104378/roshan"}, "is_accepted": false, "score": 2, "last_activity_date": 1546906322, "creation_date": 1546906322, "answer_id": 54083647, "question_id": 52953984, "link": "https://stackoverflow.com/questions/52953984/unable-to-fetch-the-list-column-of-aws-dynamodb-in-android-kotlin/54083647#54083647", "title": "Unable to fetch the list column of AWS DynamoDB in Android Kotlin", "body": "<p>The code looks good and should be returning data for all the attributes irrespective of their type. I have equivalent piece of code in java that works as expected. Can you try inspecting the value returned by <code>item.get(\"Images\")</code> before making the null-safe call. Type of the value returned by <code>item.get(\"Images\")</code> is <code>AttributeValue</code> and so there is a possibility that the value gets lost in the course of implicit type conversion. </p>\n"}], "owner": {"reputation": 9667, "user_id": 4675736, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/yXNEM.jpg?s=128&g=1", "display_name": "Wai Yan Hein", "link": "https://stackoverflow.com/users/4675736/wai-yan-hein"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1599688584, "creation_date": 1540312792, "last_edit_date": 1599688584, "question_id": 52953984, "link": "https://stackoverflow.com/questions/52953984/unable-to-fetch-the-list-column-of-aws-dynamodb-in-android-kotlin", "title": "Unable to fetch the list column of AWS DynamoDB in Android Kotlin", "body": "<p>I am developing an Android application using Kotlin and AWS DynamoDB. I am new to both technologies. What I am doing now is I am trying to scan data from a table of DynamoDB. I know how to scan it. But the problem is that one of the column has List data type.</p>\n<p>I have a table called item with the following columns.</p>\n<p><a href=\"https://i.stack.imgur.com/wt49f.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wt49f.png\" alt=\"enter image description here\" /></a></p>\n<p>Note in particular the Images field.</p>\n<p>In Kotlin Android, I scan the table like this.</p>\n<pre><code>val dynamoDBClient = AmazonDynamoDBClient(AWSMobileClient.getInstance().credentialsProvider)\n            val fetchedItems: ArrayList&lt;Any&gt; = ArrayList();\n\n            val scanRequest = ScanRequest().withTableName(MainApplication.DB_TABLE_ITEMS);\n            scanRequest.exclusiveStartKey = lastEvaluatedKey\n\n            val scanResult = dynamoDBClient.scan(scanRequest)\n            scanResult.items.forEach { item -&gt;\n                Log.i(&quot;ITEM_NAME&quot;, item.get(&quot;Name&quot;)?.s)\n                val viewItem = ItemDO()\n                viewItem.id = item.get(&quot;Id&quot;)?.s\n                viewItem.description = item.get(&quot;Description&quot;)?.s\n                viewItem.name = item.get(&quot;Name&quot;)?.s\n                viewItem.userId = item.get(&quot;UserId&quot;)?.s\n                viewItem.images = item.get(&quot;Images&quot;)?.ns\n                fetchedItems.add(viewItem)\n                Log.i(&quot;IMAGES_COUNT&quot;, item.get(&quot;Images&quot;)?.ns?.size.toString())\n            }\n</code></pre>\n<p>But this</p>\n<pre><code>item.get(&quot;Images&quot;)?.ns\n</code></pre>\n<p>always return null even if the data exists in the column as in the screenshot below.</p>\n<p><a href=\"https://i.stack.imgur.com/9jSs4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9jSs4.png\" alt=\"enter image description here\" /></a></p>\n<p>Why my code is not fetching the list data type but others?</p>\n"}, {"tags": ["android", "kotlin", "gps", "location"], "answers": [{"tags": [], "owner": {"reputation": 213, "user_id": 6621942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4ceecb4bb128613125991af82096ef9?s=128&d=identicon&r=PG", "display_name": "Kofi Nyarko", "link": "https://stackoverflow.com/users/6621942/kofi-nyarko"}, "is_accepted": false, "score": 0, "last_activity_date": 1540311842, "creation_date": 1540311842, "answer_id": 52953733, "question_id": 52953580, "link": "https://stackoverflow.com/questions/52953580/getting-device-location-android/52953733#52953733", "title": "Getting device location Android", "body": "<p><strong>Fused Location Provider</strong> gives the <em>location</em> technology and gives you the best location.This <em>api</em> gives the user access to the best location without using much power on the device.</p>\n\n<p>Add to your <strong>manifest</strong></p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.ACCESS_COARSE_LOCATION\"/&gt;\n</code></pre>\n\n<p>In <strong>activity</strong> code </p>\n\n<pre><code>private FusedLocationProviderClient flpClient;\nflpClient = LocationServices.getFusedLocationProviderClient(this);\n</code></pre>\n\n<p>to get the last known location</p>\n\n<pre><code>flpClient.getLastLocation()\n        .addOnSuccessListener(this, new OnSuccessListener&lt;Location&gt;() {\n            @Override\n            public void onSuccess(Location location) {\n                if (location != null) {\n                    // Logic to handle location object\n                }\n            }\n        });\n</code></pre>\n\n<p>Look at the api for further explanation <a href=\"https://developer.android.com/training/location/\" rel=\"nofollow noreferrer\">https://developer.android.com/training/location/</a></p>\n"}, {"tags": [], "owner": {"reputation": 8433, "user_id": 2667536, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/UfmAF.png?s=128&g=1", "display_name": "Derlin", "link": "https://stackoverflow.com/users/2667536/derlin"}, "is_accepted": false, "score": 1, "last_activity_date": 1540312103, "creation_date": 1540312103, "answer_id": 52953812, "question_id": 52953580, "link": "https://stackoverflow.com/questions/52953580/getting-device-location-android/52953812#52953812", "title": "Getting device location Android", "body": "<p>From the <a href=\"https://developer.android.com/guide/topics/location/strategies\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>If you are using both <code>NETWORK_PROVIDER</code> and <code>GPS_PROVIDER</code>, then you need to request only the <code>ACCESS_FINE_LOCATION</code> permission, because it includes permission for both providers. Permission for <code>ACCESS_COARSE_LOCATION</code> allows access only to <code>NETWORK_PROVIDER</code>.</p>\n</blockquote>\n\n<p>So in short, the difference is the level of details of the location you get. </p>\n\n<p>The <strong>network provider</strong> determines the location of the users using cell towers, wifi access points etc. Distance between towers and user\u2019s position are considered in the case of cell towers. This location provider offers a faster response but can be fuzzy.</p>\n\n<p>The <strong>GPS provider</strong> determines the location of the users using satellites. This is usually more precise, but takes more time.</p>\n\n<p><em>Note</em>: there is also a <code>PASSIVE_PROVIDER</code>, which doesn't actively requests location, but is able to <em>eavesdrop</em> on other app's requests, i.e. it gets location information when other apps ask for it.</p>\n"}], "owner": {"reputation": 13, "user_id": 10547408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-W3w8BNTdUb0/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbD3QBRKFWyrfuIQkv7kdmstAlZlag/mo/photo.jpg?sz=128", "display_name": "Karl Starter", "link": "https://stackoverflow.com/users/10547408/karl-starter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1540363602, "creation_date": 1540311198, "last_edit_date": 1540363602, "question_id": 52953580, "link": "https://stackoverflow.com/questions/52953580/getting-device-location-android", "title": "Getting device location Android", "body": "<p>I'm new to android but my current project requires to work with gps tracking. I've searched the web to find some answers, and some topics confused me. Can you tell me please, I'm not sure I've understand: </p>\n\n<ul>\n<li>Where do we need to use coarse and when fine? </li>\n<li>whats the main difference between using <code>NETWORK_PROVIDER</code> and <code>GPS_PROVIDER</code>? </li>\n</ul>\n"}, {"tags": ["java", "android", "mobile", "kotlin"], "owner": {"reputation": 76, "user_id": 6932749, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jkoq68j92Ek/AAAAAAAAAAI/AAAAAAAACuc/IeAN2n5vj4Q/photo.jpg?sz=128", "display_name": "Kayla Schmitt", "link": "https://stackoverflow.com/users/6932749/kayla-schmitt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1540311053, "creation_date": 1540311053, "question_id": 52953538, "link": "https://stackoverflow.com/questions/52953538/swiperefreshlayout-scrolling-issues-with-appbarlayout-overlap-or-overlay", "title": "SwipeRefreshLayout Scrolling Issues with AppBarLayout Overlap or Overlay", "body": "<p>I have set up a AppBarLayout with a SwipeRefreshLayout and all works great except when I add app:behavior_overlapTop=\"200dp\" to the layout. I am able to swipe down to refresh everywhere except for where the SwipeRefreshLayout overlaps the AppBarLayout. <a href=\"https://i.stack.imgur.com/XNJrb.png\" rel=\"nofollow noreferrer\">Image of layout</a>. The yellow in the image indicates the area where I can't swipe down on. Here is my code for reference. </p>\n\n<pre><code>&lt;android.support.design.widget.CoordinatorLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;android.support.design.widget.AppBarLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@color/red\"\n    android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"&gt;\n\n    &lt;android.support.design.widget.CollapsingToolbarLayout\n        android:id=\"@+id/collapsing_header\"\n        android:background=\"@color/red\"\n\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        app:contentScrim=\"@color/red\"\n        app:layout_scrollFlags=\"scroll|exitUntilCollapsed\"&gt;\n\n        &lt;RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"290dp\"\n            android:background=\"@color/red\"\n            app:layout_collapseMode=\"parallax\"\n            android:paddingTop=\"60dp\"\n            app:layout_collapseParallaxMultiplier=\"0.7\"&gt;\n\n            &lt;ImageView\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:scaleType=\"fitCenter\"\n                android:background=\"@color/red\"\n                android:src=\"@drawable/cp_logo_stack\" /&gt;\n\n        &lt;/RelativeLayout&gt;\n\n        &lt;android.support.v7.widget.Toolbar\n            android:id=\"@+id/home_header_toolbar\"\n            android:layout_width=\"match_parent\"\n            app:contentScrim=\"@color/red\"\n            android:layout_height=\"?attr/actionBarSize\"\n            android:minHeight=\"?attr/actionBarSize\"\n            app:layout_collapseMode=\"pin\"\n            app:layout_scrollFlags=\"scroll|enterAlways\"\n            app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\"\n            app:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\" /&gt;\n\n\n    &lt;/android.support.design.widget.CollapsingToolbarLayout&gt;\n\n&lt;/android.support.design.widget.AppBarLayout&gt;\n\n&lt;LinearLayout\n    android:id=\"@+id/updated_home_page_reload\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    android:background=\"#FAFAFA\"\n    android:paddingEnd=\"16dp\"\n    android:visibility=\"gone\"\n    android:paddingStart=\"16dp\"\n    android:elevation=\"2dp\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_marginEnd=\"0dp\"\n        android:orientation=\"vertical\"\n        android:layout_gravity=\"center_horizontal|center_vertical\"\n        android:gravity=\"center_horizontal|center_vertical\"\n        android:elevation=\"2dp\"&gt;\n\n        &lt;TextView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:textSize=\"17sp\"\n            android:text=\"@string/permissions_failure_page_text\"\n            android:textColor=\"@color/detailsBorderColor\"\n            android:layout_gravity=\"center_horizontal|center_vertical\"\n            android:gravity=\"center_horizontal|center_vertical\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/home_page_try_again_button\"\n            android:layout_width=\"240dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"center\"\n            android:layout_marginBottom=\"5dp\"\n            android:layout_marginTop=\"25dp\"\n            android:background=\"@color/detailsBorderColor\"\n            android:text=\"@string/permissions_try_again\"\n            android:textColor=\"@color/colorPrimary\" /&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n\n&lt;android.support.v4.widget.SwipeRefreshLayout\n    android:id=\"@+id/home_page_pull_refresh\"\n    android:layout_width=\"match_parent\"\n    android:paddingStart=\"16dp\"\n    android:paddingEnd=\"16dp\"\n    app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"\n    android:elevation=\"3dp\"\n    app:behavior_overlapTop=\"140dp\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;android.support.v4.widget.NestedScrollView\n        android:layout_width=\"match_parent\"\n        android:fillViewport=\"true\"\n        android:id=\"@+id/te\"\n        android:layout_height=\"match_parent\"\n        android:background=\"@android:color/transparent\"&gt;\n\n\n        &lt;GridView\n            android:background=\"@android:color/transparent\"\n            android:id=\"@+id/dashboard_grid\"\n            android:layout_marginTop=\"16dp\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:horizontalSpacing=\"15dp\"\n            android:numColumns=\"auto_fit\"\n            android:columnWidth=\"165dp\"\n            android:verticalSpacing=\"15dp\" /&gt;\n\n\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\n\n&lt;/android.support.v4.widget.SwipeRefreshLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>I tried used the setOverlayTop and got the same results. </p>\n"}, {"tags": ["android", "kotlin", "retrofit", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "edited": false, "score": 0, "creation_date": 1540313300, "post_id": 52953664, "comment_id": 92815919, "body": "I have that return type in my interface endpoint. So I wanted to know what to put inside the ( result -&gt; ) to obtain the body, can you show a code example? @Emmanuel"}, {"owner": {"reputation": 12544, "user_id": 2029566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c100cdc7aa47f4a04db9f2a7575e271a?s=128&d=identicon&r=PG", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/2029566/emmanuel"}, "reply_to_user": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "edited": false, "score": 0, "creation_date": 1540315915, "post_id": 52953664, "comment_id": 92817228, "body": "<code>result</code> is the object that is passed into the lambda; the <code>Response&lt;&gt;</code> instance in this case. <code>result.body()</code> should do what you want."}], "tags": [], "owner": {"reputation": 12544, "user_id": 2029566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c100cdc7aa47f4a04db9f2a7575e271a?s=128&d=identicon&r=PG", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/2029566/emmanuel"}, "is_accepted": false, "score": 0, "last_activity_date": 1540311499, "creation_date": 1540311499, "answer_id": 52953664, "question_id": 52953400, "link": "https://stackoverflow.com/questions/52953400/how-to-gey-body-response-using-rxjava-in-android/52953664#52953664", "title": "How to gey body() response using RxJava in Android", "body": "<p>It all depends on how you have defined the <code>Retrofit</code> interface. In order to get the <code>Response</code> you need to return something from the interface that looks like:</p>\n\n<p><code>fun getUsers() : Observable&lt;Response&lt;User&gt;&gt;</code></p>\n\n<p>Then inside <code>{ result -&gt; /*Get the response body() HERE*/}</code>, you will get something of the form <code>Response&lt;User&gt;</code>, which has the response's body.</p>\n\n<p>Also to note, you do not need to enclosing <code>executor</code> if you leverage <code>Room</code> for the <code>dao</code> interactions; it has RxJava support. You can use RxJava operators to combine the <code>dao</code> lookup with the server call.</p>\n"}, {"comments": [{"owner": {"reputation": 12544, "user_id": 2029566, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c100cdc7aa47f4a04db9f2a7575e271a?s=128&d=identicon&r=PG", "display_name": "Emmanuel", "link": "https://stackoverflow.com/users/2029566/emmanuel"}, "edited": false, "score": 0, "creation_date": 1540311787, "post_id": 52953698, "comment_id": 92815188, "body": "He is asking specifically about Retrofit"}, {"owner": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "edited": false, "score": 0, "creation_date": 1540313650, "post_id": 52953698, "comment_id": 92816095, "body": "I want to use retrofit"}], "tags": [], "owner": {"reputation": 182, "user_id": 9253234, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XUkvmVtMKHg/AAAAAAAAAAI/AAAAAAAAADg/ixWWHDbv5P0/photo.jpg?sz=128", "display_name": "Emmanuel Montt", "link": "https://stackoverflow.com/users/9253234/emmanuel-montt"}, "is_accepted": false, "score": 0, "last_activity_date": 1540314268, "last_edit_date": 1540314268, "creation_date": 1540311691, "answer_id": 52953698, "question_id": 52953400, "link": "https://stackoverflow.com/questions/52953400/how-to-gey-body-response-using-rxjava-in-android/52953698#52953698", "title": "How to gey body() response using RxJava in Android", "body": "<p>See this tutorial</p>\n\n<p><a href=\"https://medium.freecodecamp.org/rxandroid-and-kotlin-part-1-f0382dc26ed8\" rel=\"nofollow noreferrer\">https://medium.freecodecamp.org/rxandroid-and-kotlin-part-1-f0382dc26ed8</a></p>\n\n<pre><code>//Kotlin\nObservable.just(\"Hello World\")\n          .subscribeOn(Schedulers.newThread()) \n          //each subscription is going to be on a new thread.\n          .observeOn(AndroidSchedulers.mainThread())) \n          //observation on the main thread\n          //Now our subscriber!\n          .subscribe(object:Subscriber&lt;String&gt;(){\n            override fun onCompleted() {\n             //Completed\n            }\n\n            override fun onError(e: Throwable?) {\n             //TODO : Handle error here\n            }\n\n            override fun onNext(t: String?) {\n             Log.e(\"Output\",t);\n            }\n           })\n</code></pre>\n\n<p>if you wanna use retrofit 2 and rxjava 2</p>\n\n<p><a href=\"https://medium.com/@elye.project/kotlin-and-retrofit-2-tutorial-with-working-codes-333a4422a890\" rel=\"nofollow noreferrer\">https://medium.com/@elye.project/kotlin-and-retrofit-2-tutorial-with-working-codes-333a4422a890</a></p>\n\n<pre><code>interface WikiApiService {\n\n    @GET(\"api.php\")\n    fun hitCountCheck(@Query(\"action\") action: String,\n                      @Query(\"format\") format: String,\n                      @Query(\"list\") list: String,\n                      @Query(\"srsearch\") srsearch: String): \n                  Observable&lt;Model.Result&gt;\n\n}\n</code></pre>\n\n<p>Observable is the class response.</p>\n\n<pre><code>private fun beginSearch(srsearch: String) {\n  disposable = \n     wikiApiServe.hitCountCheck(\"query\", \"json\", \"search\", srsearch)\n      .subscribeOn(Schedulers.io())\n      .observeOn(AndroidSchedulers.mainThread())\n      .subscribe(\n       { result -&gt; showResult(result.query.searchinfo.totalhits) },\n       { error -&gt; showError(error.message) }\n      )\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1540315830, "creation_date": 1540315830, "answer_id": 52954755, "question_id": 52953400, "link": "https://stackoverflow.com/questions/52953400/how-to-gey-body-response-using-rxjava-in-android/52954755#52954755", "title": "How to gey body() response using RxJava in Android", "body": "<p>If, as you mentioned to @Emmanuel, the return type of your <code>getUser()</code> method is <code>Observable&lt;Response&lt;User&gt;&gt;</code> then calling <code>result.body()</code> will yield the resulting <code>User</code>.</p>\n\n<pre><code>{ result -&gt;\n    val user: User = result.body()\n}\n</code></pre>\n\n<p>If however, you are looking for the the raw response, you can instead call <code>result.raw().body()</code>; which will return an <a href=\"https://square.github.io/okhttp/3.x/okhttp/okhttp3/ResponseBody.html\" rel=\"nofollow noreferrer\"><code>okhttp3.ResponseBody</code></a> type.</p>\n\n<pre><code>{ result -&gt;\n    val body: ResponseBody = result.raw().body()\n    val text: String = body.string()\n}\n</code></pre>\n"}], "owner": {"reputation": 1921, "user_id": 5927732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-97TcRPaEW78/AAAAAAAAAAI/AAAAAAAAANM/XFUX8H0wVLo/photo.jpg?sz=128", "display_name": "Jos&#233; Nobre", "link": "https://stackoverflow.com/users/5927732/jos%c3%a9-nobre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1125, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1540315830, "creation_date": 1540310537, "last_edit_date": 1540311213, "question_id": 52953400, "link": "https://stackoverflow.com/questions/52953400/how-to-gey-body-response-using-rxjava-in-android", "title": "How to gey body() response using RxJava in Android", "body": "<p>I am new to Kotlin and I am making a method that makes a call to an interface of Endpoints and uses one of the methods present there. I am using <code>Observable&lt;&gt;</code> instead of <code>Call&lt;&gt;</code> into the response. I wanted to know how to obtain the response body() in the \"result\" above. This is my method</p>\n\n<pre><code> private fun refreshUser(userLogin: String) {\n        executor.execute {\n            // Check if user was fetched recently\n            val userExists = userDao.hasUser(userLogin, getMaxRefreshTime(Date())) != null\n            // If user have to be updated\n            if (!userExists) {\n\n                disposable = endpoints.getUser(userLogin)\n                        .subscribeOn(Schedulers.io())\n                        .observeOn(AndroidSchedulers.mainThread())\n                        .subscribe(\n                                { result -&gt; /*Get the response body() HERE*/},\n                                { error -&gt; Log.e(\"ERROR\", error.message) }\n                        )\n\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["java", "android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "edited": false, "score": 0, "creation_date": 1540344046, "post_id": 52953364, "comment_id": 92826726, "body": "Do you have a multi-module project? Do you use Instant App?"}, {"owner": {"reputation": 661, "user_id": 732489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5b76e8442408967423efa4f975060d24?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/732489/quentin"}, "reply_to_user": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "edited": false, "score": 0, "creation_date": 1540364129, "post_id": 52953364, "comment_id": 92831951, "body": "It&#39;s indeed a multi module project (all modules share the same version of the properties above). It&#39;s not an instant app"}, {"owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "edited": false, "score": 0, "creation_date": 1540364415, "post_id": 52953364, "comment_id": 92832105, "body": "Hm... maybe you use Kotlin or custom BuildType? Can you add <code>build.gradle</code> code for app module?"}, {"owner": {"reputation": 661, "user_id": 732489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5b76e8442408967423efa4f975060d24?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/732489/quentin"}, "reply_to_user": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "edited": false, "score": 0, "creation_date": 1540382878, "post_id": 52953364, "comment_id": 92843372, "body": "I updated the question with the build.gradle file for /app, it&#39;s indeed a kotlin app with extra buildtypes"}, {"owner": {"reputation": 5753, "user_id": 483708, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73ecae09d12ae8cd06c80a91b2bebace?s=128&d=identicon&r=PG", "display_name": "Theo", "link": "https://stackoverflow.com/users/483708/theo"}, "edited": false, "score": 0, "creation_date": 1541520654, "post_id": 52953364, "comment_id": 93241310, "body": "This is probably related to the Gradle plugin update from 3.1.4 to 3.2.1, because I am seeing the same error with API 27. On MacOS."}, {"owner": {"reputation": 18638, "user_id": 981715, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6d6386f73f30139271b8f38facf57776?s=128&d=identicon&r=PG", "display_name": "Eugen Martynov", "link": "https://stackoverflow.com/users/981715/eugen-martynov"}, "edited": false, "score": 0, "creation_date": 1553520349, "post_id": 52953364, "comment_id": 97402857, "body": "Guys, did you get it working?"}, {"owner": {"reputation": 93, "user_id": 1062287, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c944a11e97374f9ac3771ae62cc50de3?s=128&d=identicon&r=PG", "display_name": "Ananth", "link": "https://stackoverflow.com/users/1062287/ananth"}, "edited": false, "score": 0, "creation_date": 1571241133, "post_id": 52953364, "comment_id": 103177283, "body": "I am also facing this issue with io.fabric.tools:gradle:1.27.1 [stackoverflow.com/questions/58416694/\u2026. Any solution?"}], "answers": [{"comments": [{"owner": {"reputation": 661, "user_id": 732489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5b76e8442408967423efa4f975060d24?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/732489/quentin"}, "edited": false, "score": 0, "creation_date": 1541531933, "post_id": 53176476, "comment_id": 93247174, "body": "It&#39;s a temporary solution but it works indeed. I&#39;ve a mail thread running with the guys of Firebase support, I&#39;ll keep you updated"}, {"owner": {"reputation": 5753, "user_id": 483708, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73ecae09d12ae8cd06c80a91b2bebace?s=128&d=identicon&r=PG", "display_name": "Theo", "link": "https://stackoverflow.com/users/483708/theo"}, "reply_to_user": {"reputation": 661, "user_id": 732489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5b76e8442408967423efa4f975060d24?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/732489/quentin"}, "edited": false, "score": 0, "creation_date": 1541536823, "post_id": 53176476, "comment_id": 93249441, "body": "One downside with this is that you will not have access to the features introduced in 1.26 and above, as seen here: <a href=\"https://docs.fabric.io/android/changelog.html#fabric-gradle-plugin\" rel=\"nofollow noreferrer\">docs.fabric.io/android/changelog.html#fabric-gradle-plugin</a>. Quentin, thank you for reporting the bug to Firebase."}, {"owner": {"reputation": 93, "user_id": 1062287, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c944a11e97374f9ac3771ae62cc50de3?s=128&d=identicon&r=PG", "display_name": "Ananth", "link": "https://stackoverflow.com/users/1062287/ananth"}, "edited": false, "score": 0, "creation_date": 1571241073, "post_id": 53176476, "comment_id": 103177254, "body": "I am also facing this issue with io.fabric.tools:gradle:1.27.1 [<a href=\"https://stackoverflow.com/questions/58416694/exception-when-using-io-fabric-toolsgradle1-27-1]\" title=\"exception when using io fabric toolsgradle1 27 1%5d\">stackoverflow.com/questions/58416694/&hellip;</a>. Any other solution than downgrading version?"}], "tags": [], "owner": {"reputation": 5753, "user_id": 483708, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/73ecae09d12ae8cd06c80a91b2bebace?s=128&d=identicon&r=PG", "display_name": "Theo", "link": "https://stackoverflow.com/users/483708/theo"}, "is_accepted": true, "score": 2, "last_activity_date": 1541523286, "creation_date": 1541523286, "answer_id": 53176476, "question_id": 52953364, "link": "https://stackoverflow.com/questions/52953364/upgrading-to-gradle-plugin-3-2-1-and-sdk-28-fails/53176476#53176476", "title": "Upgrading to gradle plugin 3.2.1 and SDK 28 fails", "body": "<p>Just use <code>io.fabric.tools:gradle:1.25.4</code> and it will work.</p>\n"}], "owner": {"reputation": 661, "user_id": 732489, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5b76e8442408967423efa4f975060d24?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/732489/quentin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1569, "favorite_count": 3, "accepted_answer_id": 53176476, "answer_count": 1, "score": 3, "last_activity_date": 1541523286, "creation_date": 1540310358, "last_edit_date": 1540382835, "question_id": 52953364, "link": "https://stackoverflow.com/questions/52953364/upgrading-to-gradle-plugin-3-2-1-and-sdk-28-fails", "title": "Upgrading to gradle plugin 3.2.1 and SDK 28 fails", "body": "<p>When I'm trying to update to the android gradle plugin v 3.2.1 and compile SDK 28, I get the error/stacktrace below on our buildserver (debian), on Mac OS, this works fine.</p>\n\n<p>Old working configuration:</p>\n\n<ul>\n<li>classpath 'com.android.tools.build:gradle:3.1.4'</li>\n<li>compileSdkVersion 27</li>\n<li>buildToolsVersion '28.0.2'</li>\n<li>gradle wrapper 4.6</li>\n</ul>\n\n<p>New broken configuration</p>\n\n<ul>\n<li>classpath 'com.android.tools.build:gradle:3.2.1'</li>\n<li>compileSdkVersion 28</li>\n<li>buildToolsVersion '28.0.3'</li>\n<li>gradle wrapper 4.10.2</li>\n</ul>\n\n<p>Does anyone have a clue what could go wrong here?</p>\n\n<pre><code>* What went wrong:\nA problem occurred configuring project ':app'.\n&gt; Failed to notify project evaluation listener.\n&gt; java.lang.IllegalStateException: Expected file collection to contain exactly one file, however, it contains no files.\n&gt; java.lang.reflect.InvocationTargetException (no error message)\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.ProjectConfigurationException: A problem occurred configuring project ':app'.\nat org.gradle.configuration.project.LifecycleProjectEvaluator.wrapException(LifecycleProjectEvaluator.java:79)\nat org.gradle.configuration.project.LifecycleProjectEvaluator.addConfigurationFailure(LifecycleProjectEvaluator.java:73)\nat org.gradle.configuration.project.LifecycleProjectEvaluator.access$400(LifecycleProjectEvaluator.java:54)\nat org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate.run(LifecycleProjectEvaluator.java:200)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\nat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\nat org.gradle.configuration.project.LifecycleProjectEvaluator$EvaluateProject.run(LifecycleProjectEvaluator.java:110)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\nat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\nat org.gradle.configuration.project.LifecycleProjectEvaluator.evaluate(LifecycleProjectEvaluator.java:68)\nat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:687)\nat org.gradle.api.internal.project.DefaultProject.evaluate(DefaultProject.java:140)\nat org.gradle.execution.TaskPathProjectEvaluator.configure(TaskPathProjectEvaluator.java:35)\nat org.gradle.execution.TaskPathProjectEvaluator.configureHierarchy(TaskPathProjectEvaluator.java:62)\nat org.gradle.configuration.DefaultBuildConfigurer.configure(DefaultBuildConfigurer.java:41)\nat org.gradle.initialization.DefaultGradleLauncher$ConfigureBuild.run(DefaultGradleLauncher.java:274)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\nat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\nat org.gradle.initialization.DefaultGradleLauncher.configureBuild(DefaultGradleLauncher.java:182)\nat org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:141)\nat org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:124)\nat org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:77)\nat org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:74)\nat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:154)\nat org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:38)\nat org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:96)\nat org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:74)\nat org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\nat org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\nat org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\nat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.run(RunAsBuildOperationBuildActionRunner.java:50)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\nat org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\nat org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:45)\nat org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\nat org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:47)\nat org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:44)\nat org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:79)\nat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:44)\nat org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\nat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\nat org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\nat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\nat org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\nat org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:62)\nat org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:34)\nat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\nat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\nat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\nat org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\nat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:59)\nat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\nat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\nat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\nat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:46)\nat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\nat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\nat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\nat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\nat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\nat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\nat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\nat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\nat org.gradle.util.Swapper.swap(Swapper.java:38)\nat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\nat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:50)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\nat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\nat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\nat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:81)\nat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\nat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\nat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\nat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\nat     org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\nat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: org.gradle.internal.event.ListenerNotificationException: Failed to notify project evaluation listener.\nat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:86)\nat org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:324)\nat org.gradle.internal.event.BroadcastDispatch$CompositeDispatch.dispatch(BroadcastDispatch.java:234)\nat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\nat org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\nat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\nat com.sun.proxy.$Proxy27.afterEvaluate(Unknown Source)\nat org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate$1.execute(LifecycleProjectEvaluator.java:187)\nat org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate$1.execute(LifecycleProjectEvaluator.java:184)\nat org.gradle.api.internal.project.DefaultProject.stepEvaluationListener(DefaultProject.java:1418)\nat org.gradle.configuration.project.LifecycleProjectEvaluator$NotifyAfterEvaluate.run(LifecycleProjectEvaluator.java:193)\n... 91 more\nCaused by: com.android.build.gradle.internal.crash.ExternalApiUsageException: java.lang.IllegalStateException: Expected file collection to contain exactly one file, however, it contains no files.\nat com.android.build.gradle.internal.ApiObjectFactory.create(ApiObjectFactory.java:137)\nat com.android.build.gradle.BasePlugin.createAndroidTasks(BasePlugin.java:772)\nat com.android.builder.profile.ThreadRecorder.record(ThreadRecorder.java:81)\nat com.android.build.gradle.BasePlugin.lambda$createTasks$4(BasePlugin.java:646)\nat com.android.build.gradle.internal.crash.CrashReporting$afterEvaluate$1.execute(crash_reporting.kt:37)\nat com.android.build.gradle.internal.crash.CrashReporting$afterEvaluate$1.execute(crash_reporting.kt)\nat org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingAction$1$1.run(DefaultListenerBuildOperationDecorator.java:155)\nat org.gradle.configuration.internal.DefaultUserCodeApplicationContext.reapply(DefaultUserCodeApplicationContext.java:58)\nat org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingAction$1.run(DefaultListenerBuildOperationDecorator.java:152)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\nat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\nat org.gradle.configuration.internal.DefaultListenerBuildOperationDecorator$BuildOperationEmittingAction.execute(DefaultListenerBuildOperationDecorator.java:149)\nat org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:91)\nat org.gradle.internal.event.BroadcastDispatch$ActionInvocationHandler.dispatch(BroadcastDispatch.java:80)\nat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\nat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\nat org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\nat org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:58)\n... 101 more\nCaused by: java.lang.IllegalStateException: Expected file collection to contain exactly one file, however, it contains no files.\nat org.gradle.api.internal.file.AbstractFileCollection.getSingleFile(AbstractFileCollection.java:65)\nat org.gradle.api.file.FileCollection$getSingleFile.call(Unknown Source)\nat com.crashlytics.tools.gradle.tasks.FabricTaskBuilder.crashlyticsStoreDeobs(FabricTaskBuilder.groovy:144)\nat com.crashlytics.tools.gradle.tasks.FabricTaskBuilder$crashlyticsStoreDeobs$0.call(Unknown Source)\nat com.crashlytics.tools.gradle.CrashlyticsPlugin.attachPostCompileTasks(CrashlyticsPlugin.groovy:493)\nat com.crashlytics.tools.gradle.CrashlyticsPlugin.this$2$attachPostCompileTasks(CrashlyticsPlugin.groovy)\nat com.crashlytics.tools.gradle.CrashlyticsPlugin.addPluginTasks(CrashlyticsPlugin.groovy:248)\nat com.crashlytics.tools.gradle.CrashlyticsPlugin.this$2$addPluginTasks(CrashlyticsPlugin.groovy)\nat org.gradle.internal.metaobject.BeanDynamicObject$MetaClassAdapter.invokeMethod(BeanDynamicObject.java:479)\nat org.gradle.internal.metaobject.BeanDynamicObject.tryInvokeMethod(BeanDynamicObject.java:191)\nat org.gradle.internal.metaobject.ConfigureDelegate.invokeMethod(ConfigureDelegate.java:78)\nat com.crashlytics.tools.gradle.CrashlyticsPlugin$_addPluginTasksToApplicationVariantsIn_closure2.doCall(CrashlyticsPlugin.groovy:93)\nat org.gradle.api.internal.ClosureBackedAction.execute(ClosureBackedAction.java:71)\nat org.gradle.util.ConfigureUtil.configureTarget(ConfigureUtil.java:155)\nat org.gradle.util.ConfigureUtil.configure(ConfigureUtil.java:106)\nat org.gradle.util.ConfigureUtil$WrappedConfigureAction.execute(ConfigureUtil.java:167)\nat org.gradle.internal.ImmutableActionSet$SetWithFewActions.execute(ImmutableActionSet.java:285)\nat org.gradle.api.internal.DefaultDomainObjectCollection.doAdd(DefaultDomainObjectCollection.java:244)\nat org.gradle.api.internal.DefaultDomainObjectCollection.add(DefaultDomainObjectCollection.java:233)\nat com.android.build.gradle.AppExtension.addVariant(AppExtension.java:87)\nat com.android.build.gradle.internal.ApiObjectFactory.create(ApiObjectFactory.java:134)\n... 120 more\n</code></pre>\n\n<p>build.gradle snippet from /app module</p>\n\n<pre><code>apply plugin: \"com.android.application\"\napply plugin: 'kotlin-android'\napply plugin: \"spoon\"\napply plugin: \"dexguard\"\napply plugin: \"io.fabric\"\napply plugin: \"jacoco\"\napply plugin: 'realm-android'\napply plugin: 'kotlin-kapt'\napply plugin: 'kotlin-android-extensions'\n\ndef fullVersion\nif (project.hasProperty(\"realVersionName\") &amp;&amp; project.realVersionName)     {\n    // versionName generated by the Jenkinsfile\n    fullVersion = project.realVersionName\n} else {\n    // Fallback for local builds\n    fullVersion = projectVersion + \".1\"\n}\n\ndef versionCodeNr = Integer.parseInt(projectVersionCode)\n\nandroidExtensions {\n    experimental = true\n}\n\nandroid {\ncompileSdkVersion 28\nbuildToolsVersion '28.0.3'\n\ndefaultConfig {\n    minSdkVersion 21\n    targetSdkVersion 28\n    versionCode versionCodeNr\n    versionName fullVersion\n    applicationId projectApplicationId\n\n    renderscriptTargetApi 28\n    renderscriptSupportModeEnabled true\n\n    testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n    ndk {\n        abiFilters \"armeabi-v7a\", \"x86\", \"mips\"\n    }\n\n}\n\nsigningConfigs {\n    debug {\n        storeFile file(\"../keystore/debug.keystore\")\n    }\n\n    release {\n        storeFile file(\"../keystore/release.keystore\")\n        storePassword RELEASE_KEYSTORE_STORE_PASSWORD\n        keyAlias RELEASE_KEYSTORE_KEY_ALIAS\n        keyPassword RELEASE_KEYSTORE_KEY_PASSWORD\n    }\n}\n\nbuildTypes {\n\n    debug {\n        signingConfig signingConfigs.debug\n        ext.enableCrashlytics = false\n    }\n\n    report.initWith(buildTypes.debug)\n    report {\n        testCoverageEnabled true\n        matchingFallbacks = ['debug']\n    }\n\n    client {\n        debuggable false\n        signingConfig signingConfigs.debug\n\n        proguardFile getDefaultDexGuardFile(\"...\")\n\n        ...\n    }\n\n    release {\n        signingConfig signingConfigs.release\n\n        ...\n    }\n}\n\ntestOptions {\n    unitTests {\n        includeAndroidResources true\n    }\n}\n\ncompileOptions {\n    targetCompatibility 1.8\n    sourceCompatibility 1.8\n}\n}\n\next {\n    supportLibVersion = \"27.1.1\"\n    glideVersion = \"4.7.1\"\n    daggerVersion = \"2.13\"\n    ...\n}\n\ndependencies {\n    // Google dependencies\n    implementation 'androidx.core:core-ktx:1.0.0'\n    implementation \"com.android.support:support-v4:$supportLibVersion\"\n    implementation \"com.android.support:recyclerview-v7:$supportLibVersion\"\n    implementation \"com.android.support:design:$supportLibVersion\"\n    implementation \"com.android.support:appcompat-v7:$supportLibVersion\"\n    implementation \"com.android.support:gridlayout-v7:$supportLibVersion\"\n    implementation \"com.android.support.constraint:constraint-layout:1.1.3\"\n\n    implementation \"com.google.firebase:firebase-core:16.0.1\"\n    implementation \"com.google.firebase:firebase-messaging:17.1.0\"\n\n    //noinspection GradleDependency\nimplementation \"com.google.code.gson:gson:2.8.5\"\n\n    // Glide\n    implementation \"com.github.bumptech.glide:glide:$glideVersion\"\n    implementation \"com.github.bumptech.glide:annotations:$glideVersion\"\n    //kapt \"com.github.bumptech.glide:compiler:$glideVersion\"\n\n    // Dagger\n    implementation \"com.google.dagger:dagger:$daggerVersion\"\n    kapt \"com.google.dagger:dagger-compiler:$daggerVersion\"\n\n}\n\napply plugin: \"com.google.gms.google-services\"\n</code></pre>\n"}, {"tags": ["class", "kotlin"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1540309530, "post_id": 52953035, "comment_id": 92813905, "body": "What do you mean by <code>var playerOne.Player(&quot;John&quot;)</code>? This is not valid Kotlin syntax. Do you mean <code>var playerOne = Player(&quot;John&quot;)</code>?"}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1540309619, "post_id": 52953035, "comment_id": 92813969, "body": "And then <code>var playerTwo = Player(&quot;Mary&quot;)</code>"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 4, "creation_date": 1540309627, "post_id": 52953035, "comment_id": 92813976, "body": "I think you want a list of players. <code>val players = mutableListOf&lt;Player&gt;(); players += Player(&quot;John&quot;); players += Player(&quot;Mike&quot;)</code>"}, {"owner": {"reputation": 33, "user_id": 10165146, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OT2qKD-yUZg/AAAAAAAAAAI/AAAAAAAADLI/2pRy8-JoDcA/photo.jpg?sz=128", "display_name": "Stephen", "link": "https://stackoverflow.com/users/10165146/stephen"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1540309875, "post_id": 52953035, "comment_id": 92814134, "body": "@m0skit0 your right, I should have taken more time in writing that."}, {"owner": {"reputation": 33, "user_id": 10165146, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OT2qKD-yUZg/AAAAAAAAAAI/AAAAAAAADLI/2pRy8-JoDcA/photo.jpg?sz=128", "display_name": "Stephen", "link": "https://stackoverflow.com/users/10165146/stephen"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540310102, "post_id": 52953035, "comment_id": 92814261, "body": "@MarkoTopolnik that looks like it might be Java, but that gives me something to look into. I&#39;m still not sure how to implement that into a button click (sorry, very new at this). Thanks for your response, at least I now have something to Google."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1540310414, "post_id": 52953035, "comment_id": 92814440, "body": "It doesn&#39;t work as Java, it&#39;s idiomatic Kotlin. The <code>;</code> is needed when you put everything on one line, consequence of the comment format."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540310457, "post_id": 52953035, "comment_id": 92814465, "body": "<code>override fun onClick(e: Event) { players += Player(&quot;John&quot;) }</code>"}, {"owner": {"reputation": 33, "user_id": 10165146, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OT2qKD-yUZg/AAAAAAAAAAI/AAAAAAAADLI/2pRy8-JoDcA/photo.jpg?sz=128", "display_name": "Stephen", "link": "https://stackoverflow.com/users/10165146/stephen"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540311505, "post_id": 52953035, "comment_id": 92815044, "body": "@MarkoTopolnik thank you, I will give this a go when I get the chance."}, {"owner": {"reputation": 33, "user_id": 10165146, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OT2qKD-yUZg/AAAAAAAAAAI/AAAAAAAADLI/2pRy8-JoDcA/photo.jpg?sz=128", "display_name": "Stephen", "link": "https://stackoverflow.com/users/10165146/stephen"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540311590, "post_id": 52953035, "comment_id": 92815097, "body": "@MarkoTopolnik I assume this would work if the class has multiple properties (e.g. name, age, score etc) ? and then how would I access those properties for each player later?"}, {"owner": {"reputation": 8287, "user_id": 9840318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mVUQR.jpg?s=128&g=1", "display_name": "Madhu Bhat", "link": "https://stackoverflow.com/users/9840318/madhu-bhat"}, "edited": false, "score": 1, "creation_date": 1540314094, "post_id": 52953035, "comment_id": 92816324, "body": "You can access those properties later from the <code>players</code> list that you have defined earlier. You are just adding new <code>Player</code> to the <code>players</code> list on every click. Accessing properties of every player would be just by accessing the corresponding player from the list and then accessing the property required."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 10165146, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OT2qKD-yUZg/AAAAAAAAAAI/AAAAAAAADLI/2pRy8-JoDcA/photo.jpg?sz=128", "display_name": "Stephen", "link": "https://stackoverflow.com/users/10165146/stephen"}, "edited": false, "score": 0, "creation_date": 1540311241, "post_id": 52953495, "comment_id": 92814908, "body": "Possibly, I&#39;m don&#39;t completely understand your answer though. It is the &#39;this&#39; part I&#39;m unsure of. What happens when that view is clicked multiple times?"}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "reply_to_user": {"reputation": 33, "user_id": 10165146, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OT2qKD-yUZg/AAAAAAAAAAI/AAAAAAAADLI/2pRy8-JoDcA/photo.jpg?sz=128", "display_name": "Stephen", "link": "https://stackoverflow.com/users/10165146/stephen"}, "edited": false, "score": 0, "creation_date": 1540371481, "post_id": 52953495, "comment_id": 92836200, "body": "<code>this.player</code> is meant to be a reassignment of object&#39;s property, I did not make actual accent on this. The accent here is in update &quot;on a button click&quot;"}], "tags": [], "owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "is_accepted": false, "score": 0, "last_activity_date": 1540310855, "creation_date": 1540310855, "answer_id": 52953495, "question_id": 52953035, "link": "https://stackoverflow.com/questions/52953035/how-to-instantiate-new-kotlin-class/52953495#52953495", "title": "How to instantiate new Kotlin class", "body": "<pre><code>view.onClickListener = { this.player = Player(\"...\")}\n</code></pre>\n\n<p>Do I understand your question right?</p>\n"}], "owner": {"reputation": 33, "user_id": 10165146, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OT2qKD-yUZg/AAAAAAAAAAI/AAAAAAAADLI/2pRy8-JoDcA/photo.jpg?sz=128", "display_name": "Stephen", "link": "https://stackoverflow.com/users/10165146/stephen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540310855, "creation_date": 1540309425, "last_edit_date": 1540309822, "question_id": 52953035, "link": "https://stackoverflow.com/questions/52953035/how-to-instantiate-new-kotlin-class", "title": "How to instantiate new Kotlin class", "body": "<p>I'm learning Kotlin and I am struggling with classes.\nLets say I have a class called player, we'll keep it simple:</p>\n\n<pre><code>class Player (var name: String)\n</code></pre>\n\n<p>What I want to do is have a button that when clicked will create a new player. I understand onClickListener etc for a button and I know to populate the class I can do something like:</p>\n\n<pre><code>var playerOne = Player(\"John\")\n</code></pre>\n\n<p>what I don't understand is how to create a playerTwo or a second instance of the class Player on a button click.\nObviously <code>var playerTwo = Player(\"Mike\")</code> would work, but how do I get that to change when the button is pressed a second, or third or tenth time?</p>\n\n<p>This may seem very obvious to some people but I am very new and I'm just not sure what to be searching for and I have spent a long time looking for an answer.</p>\n\n<p>Any help anyone can provide would be greatly appreciate!</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["android", "kotlin", "tablelayout"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10547171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76f36e0eefce43874cbe954f965c5346?s=128&d=identicon&r=PG&f=1", "display_name": "axlb", "link": "https://stackoverflow.com/users/10547171/axlb"}, "edited": false, "score": 0, "creation_date": 1540385191, "post_id": 52953556, "comment_id": 92844928, "body": "Thank you! Im able to start at another index but the problem is still that new rows are created. I tried to do a workaround where i clear the whole table when size is &gt; 5. It still doesnt solve the problem, idk if the removeAllViews work as I want it. See code below."}, {"owner": {"reputation": 21, "user_id": 10547171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76f36e0eefce43874cbe954f965c5346?s=128&d=identicon&r=PG&f=1", "display_name": "axlb", "link": "https://stackoverflow.com/users/10547171/axlb"}, "edited": false, "score": 0, "creation_date": 1540392702, "post_id": 52953556, "comment_id": 92850390, "body": "Hey, see my latest post for a solution."}, {"owner": {"reputation": 116, "user_id": 9627123, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160211190560503/picture?type=large", "display_name": "Brady Ward", "link": "https://stackoverflow.com/users/9627123/brady-ward"}, "reply_to_user": {"reputation": 21, "user_id": 10547171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76f36e0eefce43874cbe954f965c5346?s=128&d=identicon&r=PG&f=1", "display_name": "axlb", "link": "https://stackoverflow.com/users/10547171/axlb"}, "edited": false, "score": 0, "creation_date": 1540399396, "post_id": 52953556, "comment_id": 92854648, "body": "@axlb That seems like a decent little work around! I&#39;ll check out the docs some more if I get time today but I can&#39;t see why that wouldn&#39;t work as a permanent fix :) good find!"}], "tags": [], "owner": {"reputation": 116, "user_id": 9627123, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160211190560503/picture?type=large", "display_name": "Brady Ward", "link": "https://stackoverflow.com/users/9627123/brady-ward"}, "is_accepted": false, "score": 0, "last_activity_date": 1540311542, "last_edit_date": 1540311542, "creation_date": 1540311128, "answer_id": 52953556, "question_id": 52952739, "link": "https://stackoverflow.com/questions/52952739/adding-data-to-existing-row-in-new-column-for-a-tablelayout-kotlin/52953556#52953556", "title": "Adding data to existing row in new column for a TableLayout - Kotlin", "body": "<p><a href=\"https://developer.android.com/reference/android/widget/TableLayout\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/widget/TableLayout</a></p>\n\n<p>After referencing this doc, I see you can explicitly set the index when using the \"addView\" method.</p>\n\n<p>Use an if statement before you add the view to check if the layoutParams.column == 2, if it does than set the index value of addView to players.size - 5.</p>\n\n<p>EDIT: If you are hoping to have a new column for every 5 players, than have a variable set to 5, multiplied by the number of columns and use that to subtract from the players.size.</p>\n\n<p>ie. players.size is 20, the next player added will begin column #5. To get this player into row 1 or index 0, you will need to subtract 20 from players.size, if you multiply 5 by the number of columns and subtract 5 thereafter, you will easily achieve this result.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 10547171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76f36e0eefce43874cbe954f965c5346?s=128&d=identicon&r=PG&f=1", "display_name": "axlb", "link": "https://stackoverflow.com/users/10547171/axlb"}, "is_accepted": false, "score": 1, "last_activity_date": 1540392680, "creation_date": 1540392680, "answer_id": 52972021, "question_id": 52952739, "link": "https://stackoverflow.com/questions/52952739/adding-data-to-existing-row-in-new-column-for-a-tablelayout-kotlin/52972021#52972021", "title": "Adding data to existing row in new column for a TableLayout - Kotlin", "body": "<p>So I actually solved it. The fix was adding new TextViews and TableRows along some conditions. And also remove the views from index 1-6 since we dont want to remove the 0 index. It can probably be done way more simple though.</p>\n\n<pre><code> fun addPlayerToTable(player: String) {\n\n    //Create new Row and TextView\n    var newRow = TableRow(this)\n    var newText = TextView(this)\n    var list = mutableListOf&lt;TableRow&gt;()\n    var texts = mutableListOf&lt;TextView&gt;()\n\n    if(players.size &gt; 5){\n\n        for(i in 0 until players.size){\n            list.add(TableRow(this))\n            texts.add(TextView(this))\n            texts[i].text = players[i]\n        }\n    }\n\n    var layoutParams = TableRow.LayoutParams(\n        TableRow.LayoutParams.WRAP_CONTENT,\n        TableRow.LayoutParams.WRAP_CONTENT)\n    layoutParams.column = 1\n    //Set text on ViewText\n    newText.text = player\n\n    if(players.size &gt; 5){\n\n        for(i in 1 until 6){\n            table!!.removeViewAt(1)\n\n        }\n        for(i in 0 until 5){\n            if(i + 5 &gt;= players.size){\n                list[i].addView(texts[i], layoutParams)\n                table!!.addView(list[i])\n            }\n            else{\n                list[i].addView(texts[i], layoutParams)\n                list[i].addView(texts[i+5], layoutParams)\n                table!!.addView(list[i])\n            }\n\n        }\n\n    }else {\n\n        //Add TextViews and Rows dynamically\n        newRow.addView(newText, layoutParams)\n        table!!.addView(newRow)\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10547171, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/76f36e0eefce43874cbe954f965c5346?s=128&d=identicon&r=PG&f=1", "display_name": "axlb", "link": "https://stackoverflow.com/users/10547171/axlb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1683, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1540392680, "creation_date": 1540308462, "question_id": 52952739, "link": "https://stackoverflow.com/questions/52952739/adding-data-to-existing-row-in-new-column-for-a-tablelayout-kotlin", "title": "Adding data to existing row in new column for a TableLayout - Kotlin", "body": "<p>So i have this interface where I add new items to the TableLayout when clicking the button. <a href=\"https://i.stack.imgur.com/9p4iv.png\" rel=\"nofollow noreferrer\">See this picture</a></p>\n\n<p>The problem, as you see in the picture above, is that instead of adding the new items in the top of the third column it adds it as a new row in the third column. So new items should add linear to the second column in the third column when the listsize is higher than 5. I can only solve it with adding new rows. I dont know how to solve this in a good way.</p>\n\n<p>Here is the code</p>\n\n<pre><code>fun addPlayerToTable(player: String) {\n\n    //Create new Row and TextView\n    val newRow = TableRow(this)\n    val newText = TextView(this)\n\n    var layoutParams = TableRow.LayoutParams(\n        TableRow.LayoutParams.WRAP_CONTENT,\n        TableRow.LayoutParams.WRAP_CONTENT)\n    //Set text on ViewText\n    newText.text = player\n\n    if(players.size &gt; 5){\n\n        layoutParams.column = 2\n\n    }else {\n        layoutParams.column = 1\n    }\n\n    //Add TextViews and Rows dynamically\n    newRow.addView(newText, layoutParams)\n    table!!.addView(newRow)\n\n}\n</code></pre>\n"}, {"tags": ["kotlin", "kovenant"], "owner": {"reputation": 115, "user_id": 2295089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d106002c1e7daa7c0e4fea564f9cb377?s=128&d=identicon&r=PG", "display_name": "vliedel", "link": "https://stackoverflow.com/users/2295089/vliedel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1540303126, "creation_date": 1540303126, "question_id": 52950948, "link": "https://stackoverflow.com/questions/52950948/how-to-catch-a-rejected-promise-and-continue-a-promise-change-with-kovenant", "title": "How to catch a rejected promise and continue a promise change with kovenant", "body": "<p>With kovenant, if i have a promise chain, sometimes i want to continue that chain for certain errors.</p>\n\n<p>In javascript you can return a new promise in .catch() but with kovenant, you can't return a new promise in the .fail().</p>\n\n<p>So i was wondering how one should do this with kovenant.</p>\n"}, {"tags": ["android", "kotlin", "dbflow"], "answers": [{"tags": [], "owner": {"reputation": 775, "user_id": 2052937, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sZA9q.jpg?s=128&g=1", "display_name": "Douglas Mesquita", "link": "https://stackoverflow.com/users/2052937/douglas-mesquita"}, "is_accepted": true, "score": 0, "last_activity_date": 1540328534, "creation_date": 1540328534, "answer_id": 52957800, "question_id": 52950440, "link": "https://stackoverflow.com/questions/52950440/load-object-with-dbflow/52957800#52957800", "title": "Load object with DBFlow", "body": "<p>I fix the problem using the function:</p>\n\n<pre><code>modelAdapter&lt;Module&gt;().load(checklist.module, FlowManager.getWritableDatabase(AppDatabase::class.java))\n</code></pre>\n\n<p>Now I have the module loaded.</p>\n"}], "owner": {"reputation": 775, "user_id": 2052937, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/sZA9q.jpg?s=128&g=1", "display_name": "Douglas Mesquita", "link": "https://stackoverflow.com/users/2052937/douglas-mesquita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 52957800, "answer_count": 1, "score": 0, "last_activity_date": 1540328534, "creation_date": 1540301611, "question_id": 52950440, "link": "https://stackoverflow.com/questions/52950440/load-object-with-dbflow", "title": "Load object with DBFlow", "body": "<p>I'm trying to load a full object using db-flow on Android but It doesn't work properly.</p>\n\n<p>The documentation <a href=\"https://agrosner.gitbooks.io/dbflow/content/Relationships.html\" rel=\"nofollow noreferrer\">says</a>: </p>\n\n<blockquote>\n  <p>For efficiency reasons we recommend specifying\n  <code>@ForeignKey(stubbedRelationship = true)</code>. What this will do is only\n  preset the primary key references into a table object. All other\n  fields will not be set. If you need to access the full object, you\n  will have to call load() for Model, or use the ModelAdapter to load\n  the object from the DB.</p>\n</blockquote>\n\n<p>And:</p>\n\n<blockquote>\n  <p>Also if you don't specify <code>@Database(foreignKeyConstraintsEnforced=true)</code>\n  , calling load() may not have any effect. Essentially without\n  enforcing <code>@ForeignKey</code> at an SQLite level, you can end up with floating\n  key references that do not exist in the referenced table.</p>\n</blockquote>\n\n<p>AppDatabase:</p>\n\n<pre><code>@Database(version = AppDatabase.VERSION, \n        generatedClassSeparator = \"_\", \n        foreignKeyConstraintsEnforced = true)\n\nobject AppDatabase {\n\n    const val NAME = \"AppDatabase\"\n    const val VERSION = 1\n}\n</code></pre>\n\n<p>The data entity:</p>\n\n<pre><code>@Parcelize\n@Table(database = AppDatabase::class)\ndata class Checklist(\n        @PrimaryKey(autoincrement = true)\n        var id: Long = 0,\n\n\n        @ForeignKeyReference(foreignKeyColumnName = \"idReference\", columnName = \"category_id\")\n        @ForeignKey(onUpdate = ForeignKeyAction.CASCADE,\n                onDelete = ForeignKeyAction.CASCADE,\n                stubbedRelationship = true)\n        var module: Module? = null,\n\n}\n</code></pre>\n\n<p>The dao function:</p>\n\n<pre><code>suspend fun save(checklist: Checklist) {\n    withContext(ioContext) {\n        modelAdapter&lt;Checklist&gt;().save(checklist)\n    }\n}\n</code></pre>\n\n<p>The retrieve function: </p>\n\n<pre><code>suspend fun getChecklist(id: Long): Checklist? = withContext(ioContext) {\n        SQLite.select()\n                .from(Checklist::class.java)\n                .where(Checklist_Table.id.`is`(id))\n                .querySingle()\n    }\n</code></pre>\n\n<p>Here is the problem. When I load the Checklist object, the module attribute isn't loaded which is referenced on Checklist.</p>\n\n<pre><code>fun loadChecklist(checklist: Checklist){\n    modelAdapter&lt;Checklist&gt;().load(checklist)\n    if(checklist.module != null)\n        System.out.print(\"module loded\")\n    else\n        System.out.print(\"module isn't loaded\")\n}\n</code></pre>\n"}, {"tags": ["kotlin", "duplicates", "hashset"], "comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540299661, "post_id": 52949626, "comment_id": 92807331, "body": "That&#39;s not just &quot;standard&quot; behavior but the only available behavior of sets. A set doesn&#39;t &quot;remove duplicates&quot;, it just refuses the addition of duplicates."}, {"owner": {"reputation": 11, "user_id": 2237056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b8f0ff7f2813a72b76c3b5ba839db4?s=128&d=identicon&r=PG", "display_name": "user2237056", "link": "https://stackoverflow.com/users/2237056/user2237056"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540299829, "post_id": 52949626, "comment_id": 92807468, "body": "Ah, OK understood. Thank you."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540299984, "post_id": 52949626, "comment_id": 92807584, "body": "If you want to achieve business logic that eliminates duplicates using a custom policy, then use <code>Map.merge()</code>."}, {"owner": {"reputation": 11, "user_id": 2237056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b8f0ff7f2813a72b76c3b5ba839db4?s=128&d=identicon&r=PG", "display_name": "user2237056", "link": "https://stackoverflow.com/users/2237056/user2237056"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540300988, "post_id": 52949626, "comment_id": 92808276, "body": "I wonder if there&#39;s something similar for lists instead of maps?"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540301086, "post_id": 52949626, "comment_id": 92808336, "body": "No, lists don&#39;t consider the equality of items at all. Each item is uniquely identified by its index. It is also computationally inefficient to deduplicate a list. It&#39;s an O(n^2) problem."}, {"owner": {"reputation": 11, "user_id": 2237056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b8f0ff7f2813a72b76c3b5ba839db4?s=128&d=identicon&r=PG", "display_name": "user2237056", "link": "https://stackoverflow.com/users/2237056/user2237056"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540301450, "post_id": 52949626, "comment_id": 92808575, "body": "Got it, cheers."}], "owner": {"reputation": 11, "user_id": 2237056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4b8f0ff7f2813a72b76c3b5ba839db4?s=128&d=identicon&r=PG", "display_name": "user2237056", "link": "https://stackoverflow.com/users/2237056/user2237056"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540299281, "creation_date": 1540299281, "question_id": 52949626, "link": "https://stackoverflow.com/questions/52949626/in-kotlin-using-equals-hashcode-to-remove-duplicates-how-to-choose-which-to", "title": "In Kotlin, Using Equals &amp; HashCode To Remove Duplicates, How To Choose Which To Remove", "body": "<p>I'm using Equals and HashCode to enable HashSet to automatically remove duplicates of my custom class. </p>\n\n<p>When there's a duplicate, how could I define which of the duplicates is removed from the HashSet and which is to remain in the HashSet? I believe the standard behaviour is that the newer object simply isn't added to the HashSet.</p>\n\n<p>Many thanks,\nA</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1540297326, "post_id": 52948921, "comment_id": 92805789, "body": "update your version to 2.17 and rebuild project."}, {"owner": {"reputation": 2050, "user_id": 3448003, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/Jf7IY.jpg?s=128&g=1", "display_name": "Bajrang Hudda", "link": "https://stackoverflow.com/users/3448003/bajrang-hudda"}, "reply_to_user": {"reputation": 7965, "user_id": 9763253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q3Qcc.png?s=128&g=1", "display_name": "&#220;ma&#241;g &#223;&#252;rm&#229;n", "link": "https://stackoverflow.com/users/9763253/%c3%9cma%c3%b1g-%c3%9f%c3%bcrm%c3%a5n"}, "edited": false, "score": 0, "creation_date": 1540298350, "post_id": 52948921, "comment_id": 92806436, "body": "@UmangBurman, I am already using the latest one dependency only."}, {"owner": {"reputation": 2050, "user_id": 3448003, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/Jf7IY.jpg?s=128&g=1", "display_name": "Bajrang Hudda", "link": "https://stackoverflow.com/users/3448003/bajrang-hudda"}, "reply_to_user": {"reputation": 44833, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "edited": false, "score": 0, "creation_date": 1540298432, "post_id": 52948921, "comment_id": 92806492, "body": "@rekire, Of course I am Importing the mentioned class, by the way I am using Android stdio, and it&#39;s cool enough to import it self or easy by Alt+Enter"}], "answers": [{"comments": [{"owner": {"reputation": 2050, "user_id": 3448003, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/Jf7IY.jpg?s=128&g=1", "display_name": "Bajrang Hudda", "link": "https://stackoverflow.com/users/3448003/bajrang-hudda"}, "edited": false, "score": 0, "creation_date": 1540298743, "post_id": 52948990, "comment_id": 92806719, "body": "could you briefly explain which dependency for what?"}, {"owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "reply_to_user": {"reputation": 2050, "user_id": 3448003, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/Jf7IY.jpg?s=128&g=1", "display_name": "Bajrang Hudda", "link": "https://stackoverflow.com/users/3448003/bajrang-hudda"}, "edited": false, "score": 0, "creation_date": 1540302317, "post_id": 52948990, "comment_id": 92809191, "body": "@BajrangHudda, briefly -  the 1st and 4th is min required for dagger to work (dagger classes + annotation processor), the 2nd and 5th are the one needed to work with <code>Android</code> (and the 3rd one if you have appcompat)."}], "tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": false, "score": 5, "last_activity_date": 1540302177, "last_edit_date": 1540302177, "creation_date": 1540297377, "answer_id": 52948990, "question_id": 52948921, "link": "https://stackoverflow.com/questions/52948921/hasactivityinjector-can-not-be-resolved-in-android-dagger-2/52948990#52948990", "title": "HasActivityInjector can not be resolved in android dagger 2", "body": "<p>My dependencies looks like this:</p>\n\n<pre><code>//Dagger\nimplementation \"com.google.dagger:dagger:${libs.dagger}\"\nimplementation \"com.google.dagger:dagger-android:${libs.dagger}\"\nimplementation \"com.google.dagger:dagger-android-support:${libs.dagger}\"\nkapt \"com.google.dagger:dagger-compiler:${libs.dagger}\"\nkapt \"com.google.dagger:dagger-android-processor:${libs.dagger}\"\n</code></pre>\n\n<p>The <code>support</code> one is needed if you're using appcompat.\nAnd the <code>${libs.dagger}</code> refers to the needed dagger version (e.g. 2.16).\nRead more about dependencies <a href=\"https://github.com/google/dagger#android-gradle\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 30748, "user_id": 758104, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/bYe7q.png?s=128&g=1", "display_name": "Vipul", "link": "https://stackoverflow.com/users/758104/vipul"}, "is_accepted": false, "score": 0, "last_activity_date": 1540300068, "creation_date": 1540300068, "answer_id": 52949894, "question_id": 52948921, "link": "https://stackoverflow.com/questions/52948921/hasactivityinjector-can-not-be-resolved-in-android-dagger-2/52949894#52949894", "title": "HasActivityInjector can not be resolved in android dagger 2", "body": "<p><code>HasActivityInjector</code> was introduced in new dagger android support module.Include following dependency in your <strong>build.gradle</strong> file.</p>\n\n<pre><code>kapt \"com.google.dagger:dagger-android-processor:2.18\"\nimplementation \"com.google.dagger:dagger-android-support:2.18\"\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1861, "user_id": 3017473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m88R3.jpg?s=128&g=1", "display_name": "Shohel Rana", "link": "https://stackoverflow.com/users/3017473/shohel-rana"}, "edited": false, "score": 1, "creation_date": 1570009885, "post_id": 57588820, "comment_id": 102776361, "body": "Thank boss. You Save my Day"}, {"owner": {"reputation": 1419, "user_id": 5110536, "user_type": "registered", "accept_rate": 11, "profile_image": "https://www.gravatar.com/avatar/f8adcb0600a0de9aae20d770a2165a0d?s=128&d=identicon&r=PG&f=1", "display_name": "Usman Rana", "link": "https://stackoverflow.com/users/5110536/usman-rana"}, "edited": false, "score": 0, "creation_date": 1580362455, "post_id": 57588820, "comment_id": 106074157, "body": "As it is of any type. So, we can use the same to inject Worker as well. is it?"}, {"owner": {"reputation": 1499, "user_id": 1469472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vD3Ty.jpg?s=128&g=1", "display_name": "A1m", "link": "https://stackoverflow.com/users/1469472/a1m"}, "edited": false, "score": 0, "creation_date": 1585016359, "post_id": 57588820, "comment_id": 107614108, "body": "Lol, or when you tried using <code>HasAndroidInjector</code> below <code>2.24</code> ... D:"}], "tags": [], "owner": {"reputation": 6120, "user_id": 752630, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/117edb11a37a9ee948002a3f68e54a2e?s=128&d=identicon&r=PG&f=1", "display_name": "mbonnin", "link": "https://stackoverflow.com/users/752630/mbonnin"}, "is_accepted": false, "score": 75, "last_activity_date": 1566381628, "last_edit_date": 1566381628, "creation_date": 1566380739, "answer_id": 57588820, "question_id": 52948921, "link": "https://stackoverflow.com/questions/52948921/hasactivityinjector-can-not-be-resolved-in-android-dagger-2/57588820#57588820", "title": "HasActivityInjector can not be resolved in android dagger 2", "body": "<p>In case anyone comes here after updating to <code>2.24</code>, this was removed: <a href=\"https://github.com/google/dagger/commit/3bd8f707cb28fd0c5f3abb4f87658566f8b52c10\" rel=\"noreferrer\">https://github.com/google/dagger/commit/3bd8f707cb28fd0c5f3abb4f87658566f8b52c10</a>.</p>\n\n<p>You can use <code>HasAndroidInjector</code> instead.</p>\n"}, {"comments": [{"owner": {"reputation": 780, "user_id": 6577892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ad718817f2e32611898c87b22010575?s=128&d=identicon&r=PG&f=1", "display_name": "Subhan Ali", "link": "https://stackoverflow.com/users/6577892/subhan-ali"}, "reply_to_user": {"reputation": 7948, "user_id": 2101822, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/evC8a.jpg?s=128&g=1", "display_name": "Milad Faridnia", "link": "https://stackoverflow.com/users/2101822/milad-faridnia"}, "edited": false, "score": 1, "creation_date": 1601887338, "post_id": 58628618, "comment_id": 113534684, "body": "I&#39;m glad, you found it useful. :)"}], "tags": [], "owner": {"reputation": 780, "user_id": 6577892, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ad718817f2e32611898c87b22010575?s=128&d=identicon&r=PG&f=1", "display_name": "Subhan Ali", "link": "https://stackoverflow.com/users/6577892/subhan-ali"}, "is_accepted": false, "score": 34, "last_activity_date": 1574748342, "last_edit_date": 1574748342, "creation_date": 1572448830, "answer_id": 58628618, "question_id": 52948921, "link": "https://stackoverflow.com/questions/52948921/hasactivityinjector-can-not-be-resolved-in-android-dagger-2/58628618#58628618", "title": "HasActivityInjector can not be resolved in android dagger 2", "body": "<p>It's pretty late to answer but it might be useful for someone who is new to dagger world!</p>\n\n<p>Its been replaced with HasAndroidInjector in order to avoid boilerplate of implementing multiple Dagger Interfaces like HasActivityInjector, HasServiceInjector etc, in your Application class. Now you only need to implement HasAndroidInjector like below:</p>\n\n<pre><code>class DaggerExampleApplication : Application(), HasAndroidInjector{\n\n       @Inject lateinit var androidInjector : DispatchingAndroidInjector&lt;Any&gt;\n\n       override fun androidInjector(): AndroidInjector&lt;Any&gt; = androidInjector\n       override fun onCreate() {\n         super.onCreate()\n         //Your code\n       }        \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 311, "user_id": 6637435, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-b6cJRQgGBGg/AAAAAAAAAAI/AAAAAAAAAN0/NburTduKHHQ/photo.jpg?sz=128", "display_name": "Kurt Capatan", "link": "https://stackoverflow.com/users/6637435/kurt-capatan"}, "is_accepted": false, "score": 9, "last_activity_date": 1580757587, "creation_date": 1580757587, "answer_id": 60045803, "question_id": 52948921, "link": "https://stackoverflow.com/questions/52948921/hasactivityinjector-can-not-be-resolved-in-android-dagger-2/60045803#60045803", "title": "HasActivityInjector can not be resolved in android dagger 2", "body": "<p>In addition to @mbonnin and @Subhan's answer, starting version 2.24, <code>Has{Activity,Fragment,Service,ContentProvider,BroadcastReceiver}</code> are removed.\nIf you still want to support this old implementation, use version 2.23 which supports both <code>HasAndroidInjector</code> and <code>Has{Activity,Fragment,Service,ContentProvider,BroadcastReceiver}</code>. </p>\n\n<p>here's what it should look like on version 2.24</p>\n\n<p>Application</p>\n\n<pre><code>class ExampleApp: Application(), HasAndroidInjector {\n\n    @Inject\n    lateinit var androidInjector: DispatchingAndroidInjector&lt;Any&gt;\n\n    override fun androidInjector(): AndroidInjector&lt;Any&gt; = androidInjector\n\n/..../\n</code></pre>\n\n<p>Activity</p>\n\n<pre><code>class ExampleActivity: AppCompatActivity(), HasAndroidInjector {\n\n    @Inject\n    lateinit var androidInjector: DispatchingAndroidInjector&lt;Any&gt;\n\n    override fun androidInjector(): AndroidInjector&lt;Any&gt; = androidInjector\n\n/..../\n</code></pre>\n\n<p>Fragment</p>\n\n<pre><code>class MoreFragment: Fragment(), HasAndroidInjector {\n\n    @Inject\n    lateinit var androidInjector: DispatchingAndroidInjector&lt;Any&gt;\n\n    override fun androidInjector(): AndroidInjector&lt;Any&gt; = androidInjector\n\n/..../\n</code></pre>\n"}], "owner": {"reputation": 2050, "user_id": 3448003, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/Jf7IY.jpg?s=128&g=1", "display_name": "Bajrang Hudda", "link": "https://stackoverflow.com/users/3448003/bajrang-hudda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9128, "favorite_count": 4, "answer_count": 5, "score": 29, "last_activity_date": 1580757587, "creation_date": 1540297117, "last_edit_date": 1540986013, "question_id": 52948921, "link": "https://stackoverflow.com/questions/52948921/hasactivityinjector-can-not-be-resolved-in-android-dagger-2", "title": "HasActivityInjector can not be resolved in android dagger 2", "body": "<p>I was trying to implement <strong>HasActivityInjector</strong> in my android application but it's showing me HasActivityInjector cann't be resolved. Below dependencies and plugin I have used in my project- </p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>and </p>\n\n<pre><code>implementation 'com.google.dagger:dagger:2.16'\nkapt 'com.google.dagger:dagger-compiler:2.16'\n</code></pre>\n\n<p>Here is the code I am trying - </p>\n\n<pre><code>class RanoBoilerplateApplication : Application(), HasActivityInjector{\n    @Inject\n    lateinit var activityDispatchingAndroidInjector:\n            DispatchingAndroidInjector&lt;Activity&gt;\n\n    override fun onCreate() {\n        super.onCreate()\n\n        DaggerAppComponent.builder()\n                .application(this)\n                .build()\n                .inject(this)\n    }\n\n    override fun activityInjector(): AndroidInjector&lt;Activity&gt; =\n            activityDispatchingAndroidInjector\n}\n</code></pre>\n\n<p>I don't know what other dependencies I must have to include to work that, help me if anyone have done this before.</p>\n\n<p>Find the latest Dagger 2 version <a href=\"https://github.com/google/dagger/releases\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Happy coding :-) </p>\n"}, {"tags": ["android", "kotlin", "android-arrayadapter"], "comments": [{"owner": {"reputation": 2345, "user_id": 5140756, "user_type": "registered", "accept_rate": 16, "profile_image": "https://i.stack.imgur.com/oMwxR.jpg?s=128&g=1", "display_name": "Augusto", "link": "https://stackoverflow.com/users/5140756/augusto"}, "edited": false, "score": 0, "creation_date": 1540298582, "post_id": 52948853, "comment_id": 92806605, "body": "Which line the error occurs?"}], "answers": [{"tags": [], "owner": {"reputation": 527, "user_id": 1937886, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/2A3ZN.jpg?s=128&g=1", "display_name": "Viral Thakker", "link": "https://stackoverflow.com/users/1937886/viral-thakker"}, "is_accepted": false, "score": 0, "last_activity_date": 1540300101, "creation_date": 1540300101, "answer_id": 52949914, "question_id": 52948853, "link": "https://stackoverflow.com/questions/52948853/kotlin-arrayadapter-error-none-of-the-following-functions-can-be-called-with-th/52949914#52949914", "title": "Kotlin ArrayAdapter Error: None of the following functions can be called with the arguments supplied", "body": "<p>Use Below Code</p>\n\n<pre><code>val courseList:List&lt;CourseInfo&gt;= dm.courses.values.toList()\nval adapterCourses = ArrayAdapter&lt;CourseInfo&gt;(this,android.R.layout.simple_spinner_item,courseList)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 61, "user_id": 6378243, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mDpp_2I6bm8/AAAAAAAAAAI/AAAAAAAAB5I/cJFNv_fVhqs/photo.jpg?sz=128", "display_name": "Michael Akinyemi", "link": "https://stackoverflow.com/users/6378243/michael-akinyemi"}, "edited": false, "score": 0, "creation_date": 1540304541, "post_id": 52950139, "comment_id": 92810694, "body": "Thank you @Vipul Shah for the explanation. The error is gone!"}, {"owner": {"reputation": 149903, "user_id": 14637, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/1904e7096278a10f1dfb3fdc0ceb53cc?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/14637/thomas"}, "edited": false, "score": 0, "creation_date": 1610633290, "post_id": 52950139, "comment_id": 116198374, "body": "This seems to be true, but I can&#39;t find it in any documentation about it. Do you have a reference?"}], "tags": [], "owner": {"reputation": 30748, "user_id": 758104, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/bYe7q.png?s=128&g=1", "display_name": "Vipul", "link": "https://stackoverflow.com/users/758104/vipul"}, "is_accepted": true, "score": 4, "last_activity_date": 1540300721, "creation_date": 1540300721, "answer_id": 52950139, "question_id": 52948853, "link": "https://stackoverflow.com/questions/52948853/kotlin-arrayadapter-error-none-of-the-following-functions-can-be-called-with-th/52950139#52950139", "title": "Kotlin ArrayAdapter Error: None of the following functions can be called with the arguments supplied", "body": "<p><strong>Named arguments are not allowed for non-kotlin functions.</strong></p>\n\n<p>The problem is since you are invoking <strong>java</strong> <strong>ArrayAdapter</strong> constructor in kotlin file. you won't be able to provide argument label to it.</p>\n\n<p>so following simple correction would resolve the issue.(Notice here, I removed context label in first argument.)</p>\n\n<pre><code>val adapterCourses = ArrayAdapter&lt;CourseInfo&gt;(this,\n            android.R.layout.simple_spinner_item,\n            dm.courses.values.toList())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 84, "user_id": 7883561, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-g44q7wTHRzg/AAAAAAAAAAI/AAAAAAAAAGs/5_GdbGJeXlI/photo.jpg?sz=128", "display_name": "Achref ArShavin", "link": "https://stackoverflow.com/users/7883561/achref-arshavin"}, "is_accepted": false, "score": 3, "last_activity_date": 1603454621, "creation_date": 1603454621, "answer_id": 64499644, "question_id": 52948853, "link": "https://stackoverflow.com/questions/52948853/kotlin-arrayadapter-error-none-of-the-following-functions-can-be-called-with-th/64499644#64499644", "title": "Kotlin ArrayAdapter Error: None of the following functions can be called with the arguments supplied", "body": "<p>Maybe too late but maybe it helps someone. If you are working with Fragments it will not be resolved by the checked answer. You must call the activity context like this.</p>\n<pre><code>val adapter = activity?.let {\n        ArrayAdapter&lt;String&gt;(\n            it,\n            android.R.layout.simple_spinner_item,\n            campaignsType\n        )\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 113, "user_id": 11783073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02f863711ccd9b00d660808ce506e747?s=128&d=identicon&r=PG&f=1", "display_name": "mahmood ", "link": "https://stackoverflow.com/users/11783073/mahmood"}, "is_accepted": false, "score": 0, "last_activity_date": 1610550093, "creation_date": 1610550093, "answer_id": 65704492, "question_id": 52948853, "link": "https://stackoverflow.com/questions/52948853/kotlin-arrayadapter-error-none-of-the-following-functions-can-be-called-with-th/65704492#65704492", "title": "Kotlin ArrayAdapter Error: None of the following functions can be called with the arguments supplied", "body": "<p>call requireContext() in place of context parameter</p>\n"}], "owner": {"reputation": 61, "user_id": 6378243, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mDpp_2I6bm8/AAAAAAAAAAI/AAAAAAAAB5I/cJFNv_fVhqs/photo.jpg?sz=128", "display_name": "Michael Akinyemi", "link": "https://stackoverflow.com/users/6378243/michael-akinyemi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5308, "favorite_count": 0, "accepted_answer_id": 52950139, "answer_count": 4, "score": 5, "last_activity_date": 1610550093, "creation_date": 1540296896, "last_edit_date": 1540297436, "question_id": 52948853, "link": "https://stackoverflow.com/questions/52948853/kotlin-arrayadapter-error-none-of-the-following-functions-can-be-called-with-th", "title": "Kotlin ArrayAdapter Error: None of the following functions can be called with the arguments supplied", "body": "<p>I am new to Kotlin for Android development. While following along a tutorial project, I needed to use <code>ArrayAdapter</code> with a custom class. Building the project failed with error. </p>\n\n<blockquote>\n  <p>The MainActivity.kt class throwing the error:</p>\n</blockquote>\n\n<pre><code>    class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        setSupportActionBar(toolbar)\n    }\n\n    val dm = DataManager()\n    val adapterCourses = ArrayAdapter&lt;CourseInfo&gt;(\n        context = this,\n        android.R.layout.simple_spinner_item,\n        dm.courses.values.toList()\n    )\n\n    override fun onCreateOptionsMenu(menu: Menu): Boolean {\n        // Inflate the menu; this adds items to the action bar if it is present.\n        menuInflater.inflate(R.menu.menu_main, menu)\n        return true\n    }\n\n    override fun onOptionsItemSelected(item: MenuItem): Boolean {\n        // Handle action bar item clicks here. The action bar will\n        // automatically handle clicks on the Home/Up button, so long\n        // as you specify a parent activity in AndroidManifest.xml.\n        return when (item.itemId) {\n            R.id.action_settings -&gt; true\n            else -&gt; super.onOptionsItemSelected(item)\n        }\n    }\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>None of the following functions can be called with the arguments supplied:\npublic constructor ArrayAdapter&lt;T : Any!&gt;(@RecentlyNonNull p0: Context!, p1: Int) defined in android.widget.ArrayAdapter\npublic constructor ArrayAdapter&lt;T : Any!&gt;(@RecentlyNonNull p0: Context!, p1: Int, @RecentlyNonNull p2: Array&lt;(out) CourseInfo!&gt;!) defined in android.widget.ArrayAdapter\npublic constructor ArrayAdapter&lt;T : Any!&gt;(@RecentlyNonNull p0: Context!, p1: Int, p2: Int) defined in android.widget.ArrayAdapter\npublic constructor ArrayAdapter&lt;T : Any!&gt;(@RecentlyNonNull p0: Context!, p1: Int, p2: Int, @RecentlyNonNull p3: Array&lt;(out) CourseInfo!&gt;!) defined in android.widget.ArrayAdapter\npublic constructor ArrayAdapter&lt;T : Any!&gt;(@RecentlyNonNull p0: Context!, p1: Int, p2: Int, @RecentlyNonNull p3: (Mutable)List&lt;CourseInfo!&gt;!) defined in android.widget.ArrayAdapter\npublic constructor ArrayAdapter&lt;T : Any!&gt;(@RecentlyNonNull p0: Context!, p1: Int, @RecentlyNonNull p2: (Mutable)List&lt;CourseInfo!&gt;!) defined in android.widget.ArrayAdapter\n</code></pre>\n\n<p>The CourseInfo Class:</p>\n\n<pre><code>class CourseInfo (val courseId: String, val title: String)\n</code></pre>\n\n<p>The DataManager Class:</p>\n\n<pre><code>class DataManager {\n    val courses = HashMap&lt;String, CourseInfo&gt;()\n    val notes = ArrayList&lt;NoteInfo&gt;()\n\n    init {\n        initializeCourses()\n    }\n\n    private fun initializeCourses () {\n        var course = CourseInfo(courseId = \"android_intent\", title = \"Android programming with intent.\")\n        this.courses.set(course.courseId, course)\n\n        course = CourseInfo(courseId = \"android_async\", title = \"Android Async Programming and Services.\")\n        courses.set(course.courseId, course)\n\n        course = CourseInfo(courseId = \"java_lang\", title = \"Java Fundamentals: The Java Language.\")\n        courses.set(course.courseId, course)\n\n        course = CourseInfo(courseId = \"java_core\", title = \"Java Fundamentals: The Core Platforms.\")\n        courses.set(course.courseId, course)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "events", "kotlin", "calendar"], "owner": {"reputation": 1884, "user_id": 2674149, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/hGFWr.jpg?s=128&g=1", "display_name": "RaRa", "link": "https://stackoverflow.com/users/2674149/rara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1540296355, "creation_date": 1540296355, "question_id": 52948673, "link": "https://stackoverflow.com/questions/52948673/add-event-to-device-calendar-added-event-invisible-or-display-wrong-data", "title": "Add event to device calendar, Added event invisible or display wrong data", "body": "<p>I am working with the calendar event add in background.</p>\n\n<p>I can add the event successfully, but not all times. </p>\n\n<p>Some times event display proper, event uri return the proper ID, but sometimes i use the intent to view that event using the same id message say's no event found. and some time display as below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/naVw3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/naVw3.png\" alt=\"enter image description here\"></a></p>\n\n<p>While manually open the calender and check the added event it nothing to show, sometime show only birthday event Like below</p>\n\n<p><a href=\"https://i.stack.imgur.com/mEH76.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mEH76.png\" alt=\"enter image description here\"></a></p>\n\n<p>After sometime(Approx 30 to 50 sec) when i open calendar to check event again, event removed automatically. Refer snap</p>\n\n<p><a href=\"https://i.stack.imgur.com/H4hbc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H4hbc.png\" alt=\"enter image description here\"></a></p>\n\n<p>Code below i am using to add an event in background</p>\n\n<pre><code>      val llStartMillis: Long = Common.getDateTimeLong(foEventInfo.event_datetime) - Constants.DaysInMillis.HOURS\n      val llEndMillis: Long = Common.getDateTimeLong(foEventInfo.event_datetime)\n\n       Log.i(TAG, \"Event start times in milli = \" + llStartMillis)\n       Log.i(TAG, \"Event end times in milli = \" + llEndMillis)\n\n       val loContentValues = ContentValues().apply() {\n           put(CalendarContract.Events.DTSTART, llStartMillis)\n           put(CalendarContract.Events.DTEND, llEndMillis)\n           put(CalendarContract.Events.TITLE, foEventInfo.event_name)\n           put(CalendarContract.Events.DESCRIPTION, foEventInfo.event_desc)\n           put(CalendarContract.Events.CALENDAR_ID, 3)\n\n           Log.i(TAG, \"TimeZone = \" + TimeZone.getDefault().id)\n           put(CalendarContract.Events.EVENT_TIMEZONE, TimeZone.getDefault().id)\n        }\n\n        val uri: Uri? = getActivityContext()?.contentResolver?.insert(CalendarContract.Events.CONTENT_URI, loContentValues)\n\n         // get the event ID that is the last element in the Uri\n         val eventID: Long = uri?.lastPathSegment?.toLong() ?: -1\n         Log.i(TAG, \"Event ID = \" + eventID)\n\n         // Check event by id using an intent.\n         val uriss: Uri = \n         ContentUris.withAppendedId(CalendarContract.Events.CONTENT_URI, eventID)\n         val intent = Intent(Intent.ACTION_VIEW).setData(uriss)\n         getActivityContext()!!.startActivity(intent)\n</code></pre>\n\n<p>Here <code>foEventInfo</code> is my model class and value not null.\nLog display as below.</p>\n\n<pre><code>Event start times in milli = 1540877400000\nEvent end times in milli = 1540881000000\nTimeZone = Asia/Kolkata\nEvent ID = 643\n</code></pre>\n\n<p>I have below Problems using above code.</p>\n\n<p><strong><em>1. Event did not add sometimes.</em></strong></p>\n\n<p><strong><em>2. Event add but remove after sometime, automatically(approx 30 sec).</em></strong></p>\n\n<p><strong><em>3. Event display as birthday</em></strong></p>\n\n<p>Language i use little pure as i am in confusion how to explain, so please ignore grammar.</p>\n\n<p>Can any one help what was the issue with the code. its really panic now.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "nullable"], "comments": [{"owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "edited": false, "score": 1, "creation_date": 1559107874, "post_id": 52948620, "comment_id": 99311540, "body": "Fragments offer a <code>requireActivity()</code> which returns a non-null Activity for exactly this reason."}], "answers": [{"tags": [], "owner": {"reputation": 44833, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "is_accepted": false, "score": 1, "last_activity_date": 1540302293, "last_edit_date": 1540302293, "creation_date": 1540296346, "answer_id": 52948670, "question_id": 52948620, "link": "https://stackoverflow.com/questions/52948620/kotlin-type-mismatch-required-x-found-x/52948670#52948670", "title": "Kotlin Type mismatch, required: x found: x?", "body": "<p>Short answer: Yes.</p>\n\n<p>With <code>?.let</code> you can be sure that the value will be non null, so you have the null safety you would expect. Just keep in mind that in some cases you cannot use the smartcast which you did in your code above.</p>\n\n<blockquote>\n  <p>Smart casts [...] don't work on var properties, and they always work on local variables (<code>val</code> and <code>var</code>). They also don't work on <code>val</code> properties with a custom getter, because <code>val</code> doesn't mean <code>final</code> in Kotlin.</p>\n</blockquote>\n\n<p><sub>Quote from <a href=\"https://stackoverflow.com/users/1103872/marko-topolnik\">Marko Topolnik</a> in the comments.</sub></p>\n\n<p>This is because, in a rare edge case, the value could be changed by a different thread. You will get a compile error so that is prevented too. In that case you would need to use the implicit <code>it</code> or define an own alias like here:</p>\n\n<pre><code>fragmentActivity?.let { fragment -&gt;\n   meViewModel = ViewModelProviders.of(fragment, vmf).get(MeViewModel::class.java) \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 44833, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "edited": false, "score": 0, "creation_date": 1540319681, "post_id": 52950343, "comment_id": 92819025, "body": "IMHO is the bang operator (<code>!!</code>) never a good idea to use, except of unit tests."}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "reply_to_user": {"reputation": 44833, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "edited": false, "score": 1, "creation_date": 1540319975, "post_id": 52950343, "comment_id": 92819175, "body": "Or for interacting with java api that is not annotated with @notnull"}, {"owner": {"reputation": 2038, "user_id": 1246862, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3306932693e7ec868565906a60c4d18a?s=128&d=identicon&r=PG", "display_name": "Thupten", "link": "https://stackoverflow.com/users/1246862/thupten"}, "reply_to_user": {"reputation": 44833, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "edited": false, "score": 0, "creation_date": 1566487786, "post_id": 52950343, "comment_id": 101680571, "body": "@rekire, wouldn&#39;t <code>!!</code> be better option in this case? With <code>?.let</code> here, we would get issue with view model consistency or exception when accessing viewmodel. So while the real problem is fragmentActivity being null, we may be end up thinking viewmodel has issues and start looking for bugs in viewmodel instead."}, {"owner": {"reputation": 44833, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "reply_to_user": {"reputation": 2038, "user_id": 1246862, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/3306932693e7ec868565906a60c4d18a?s=128&d=identicon&r=PG", "display_name": "Thupten", "link": "https://stackoverflow.com/users/1246862/thupten"}, "edited": false, "score": 0, "creation_date": 1566543292, "post_id": 52950343, "comment_id": 101696417, "body": "@Thupten to be honest I don&#39;t get your point. From my experience the context get more often lost than you except so an extra check with a let is always a good idea. I never faced any bugs or crashes related with <code>let</code>. If you think that your &quot;bug&quot; would be to handle the null case instead of crashing you could consider to log the fact by adding the elvis operator and log something. <code>fragmentActivity?.let { ... } ?: println(&quot;yikes it was null!&quot;)</code>"}], "tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 3, "last_activity_date": 1540301850, "last_edit_date": 1540301850, "creation_date": 1540301321, "answer_id": 52950343, "question_id": 52948620, "link": "https://stackoverflow.com/questions/52948620/kotlin-type-mismatch-required-x-found-x/52950343#52950343", "title": "Kotlin Type mismatch, required: x found: x?", "body": "<p>Short answer: Yes. </p>\n\n<p>This means that the compiler is not sure if s.th. is <code>!=null</code>. If you are sure that it is not null you can also use:</p>\n\n<pre><code>val fragmentActivity = (iMainActivity as Fragment).activity!!\n</code></pre>\n\n<p>That gives you <code>FragmentActivity</code> instead of <code>FragmentActivity?</code> and you dont need the <code>?.let{}</code></p>\n\n<p>Keep in mind that that might throw a <a href=\"https://stackoverflow.com/questions/218384/what-is-a-nullpointerexception-and-how-do-i-fix-it\">NPE</a>, while the </p>\n\n<pre><code>fragmentActivity?.let { fragment -&gt;\n   meViewModel = ViewModelProviders.of(fragment, vmf).get(MeViewModel::class.java) \n}\n</code></pre>\n\n<p>would simply not execute the block within <code>.let{}</code>, which is often less harmful then a NPE. See <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/null-safety.html</a> for more.</p>\n"}], "owner": {"reputation": 3453, "user_id": 838355, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/AIvqN.png?s=128&g=1", "display_name": "ir2pid", "link": "https://stackoverflow.com/users/838355/ir2pid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6407, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1540302293, "creation_date": 1540296180, "question_id": 52948620, "link": "https://stackoverflow.com/questions/52948620/kotlin-type-mismatch-required-x-found-x", "title": "Kotlin Type mismatch, required: x found: x?", "body": "<p>I find a lot of arguments have the error </p>\n\n<pre><code>Type mismatch\nrequired: FragmentActivity\nfound: FragmentActivity?\n</code></pre>\n\n<p>I'm not sure of what's the best way to address this problem.\nCurrently, I wrap the line in a variable?.let{ statement } </p>\n\n<pre><code>meViewModel = ViewModelProviders.of((iMainActivity as Fragment).activity, vmf).get(MeViewModel::class.java) }\n</code></pre>\n\n<p>into</p>\n\n<pre><code>val fragmentActivity = (iMainActivity as Fragment).activity\n\nfragmentActivity?.let \n{ \n   meViewModel = ViewModelProviders.of(fragmentActivity, vmf).get(MeViewModel::class.java) \n}\n</code></pre>\n\n<p>is it the right way to approach this </p>\n"}, {"tags": ["arraylist", "kotlin"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1540296204, "post_id": 52948570, "comment_id": 92805146, "body": "<code>myList[myList.size - 2]</code>"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540301720, "post_id": 52948570, "comment_id": 92808751, "body": "Another one: <code>myList.takeLast(2).first()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 44833, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "edited": false, "score": 1, "creation_date": 1540296898, "post_id": 52948755, "comment_id": 92805556, "body": "I just wrote an answer to point out the extension function. Great that you kept the out of range exception in mind. Removed mine."}], "tags": [], "owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "is_accepted": true, "score": 5, "last_activity_date": 1540296574, "creation_date": 1540296574, "answer_id": 52948755, "question_id": 52948570, "link": "https://stackoverflow.com/questions/52948570/how-to-get-the-item-before-the-last-item-of-an-arraylist-in-kotlin/52948755#52948755", "title": "How to get the item before the last item of an ArrayList in kotlin?", "body": "<pre><code>myList[myList.lastIndex - 1]\n</code></pre>\n\n<p>be sure to check if there are at least two items in the array before calling this</p>\n\n<hr>\n\n<p>EDIT:\nIf you're using this often, you can define an extension function that acts similarly to <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/last.html\" rel=\"noreferrer\"><code>last()</code></a>:</p>\n\n<pre><code>fun &lt;T&gt; List&lt;T&gt;.secondToLast(): T {\n    if (size &lt; 2)\n        throw NoSuchElementException(\"List has less than two elements\")\n    return this[size - 2]\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "edited": false, "score": 0, "creation_date": 1540307640, "post_id": 52948851, "comment_id": 92812705, "body": "This is extra useful if there&#39;s a chance of the list being too small; if it is, the elvis operator could be used to fall back to something else"}], "tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": false, "score": 2, "last_activity_date": 1540296890, "creation_date": 1540296890, "answer_id": 52948851, "question_id": 52948570, "link": "https://stackoverflow.com/questions/52948570/how-to-get-the-item-before-the-last-item-of-an-arraylist-in-kotlin/52948851#52948851", "title": "How to get the item before the last item of an ArrayList in kotlin?", "body": "<p>You can do something like this:</p>\n\n<pre><code>myList.getOrNull(myList.lastIndex - 1)\n</code></pre>\n\n<p>This will not require additional checks, but will return <code>null</code> if the list is small or empty.</p>\n"}, {"comments": [{"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 1, "creation_date": 1540297904, "post_id": 52949075, "comment_id": 92806154, "body": "Better <code>lastOrNull()</code>"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 2, "creation_date": 1540298202, "post_id": 52949075, "comment_id": 92806336, "body": "Well, basically this solution is not the best one regarding performance. It will, in fact, copy all of the list items except for the last one into a new list, which may introduce considerable overhead when repeated multiple times on a large list."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 1, "creation_date": 1540301820, "post_id": 52949075, "comment_id": 92808821, "body": "If you started from the opposite end (<code>takeLast</code>), you&#39;d eliminate this unbounded overhead."}, {"owner": {"reputation": 9589, "user_id": 5371736, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uyJ0L.jpg?s=128&g=1", "display_name": "Mathias Dpunkt", "link": "https://stackoverflow.com/users/5371736/mathias-dpunkt"}, "reply_to_user": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540304910, "post_id": 52949075, "comment_id": 92810941, "body": "Thanks for the feedback - I added your suggestions @MarkoTopolnik and hotkey"}], "tags": [], "owner": {"reputation": 9589, "user_id": 5371736, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uyJ0L.jpg?s=128&g=1", "display_name": "Mathias Dpunkt", "link": "https://stackoverflow.com/users/5371736/mathias-dpunkt"}, "is_accepted": false, "score": 0, "last_activity_date": 1540304519, "last_edit_date": 1540304519, "creation_date": 1540297603, "answer_id": 52949075, "question_id": 52948570, "link": "https://stackoverflow.com/questions/52948570/how-to-get-the-item-before-the-last-item-of-an-arraylist-in-kotlin/52949075#52949075", "title": "How to get the item before the last item of an ArrayList in kotlin?", "body": "<p>What about this:</p>\n\n<pre><code>myList.dropLast(1).lastOrNull()\n</code></pre>\n\n<p>This is not very efficient but it reads really nice.</p>\n\n<p>Marko proposed a similar, more efficient way in the comments:</p>\n\n<pre><code>myList.takeLast(2).firstOrNull()\n</code></pre>\n"}], "owner": {"reputation": 4465, "user_id": 4972317, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SkL-cRw2UCQ/AAAAAAAAAAI/AAAAAAAABPA/HARzx8TOvTE/photo.jpg?sz=128", "display_name": "Anisuzzaman Babla", "link": "https://stackoverflow.com/users/4972317/anisuzzaman-babla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1693, "favorite_count": 0, "accepted_answer_id": 52948755, "answer_count": 3, "score": 1, "last_activity_date": 1540304519, "creation_date": 1540295943, "last_edit_date": 1540296853, "question_id": 52948570, "link": "https://stackoverflow.com/questions/52948570/how-to-get-the-item-before-the-last-item-of-an-arraylist-in-kotlin", "title": "How to get the item before the last item of an ArrayList in kotlin?", "body": "<p>How to get the item before the last item of an ArrayList in kotlin?</p>\n\n<p>I  have a list like</p>\n\n<pre><code>val myList = listOf(\"item1\", \"item2\", \"item3\", \"item4\", \"item5\")\n</code></pre>\n\n<p>I want to get \"item4\" from myList</p>\n"}, {"tags": ["arraylist", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1397, "user_id": 3787344, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/eb1f3aa42984326c7b6bbad97dabc187?s=128&d=identicon&r=PG&f=1", "display_name": "SimpleCoder", "link": "https://stackoverflow.com/users/3787344/simplecoder"}, "edited": false, "score": 0, "creation_date": 1574058762, "post_id": 52948267, "comment_id": 104080488, "body": "It might cause NoSuchElementException if list is empty. Use with caution."}, {"owner": {"reputation": 1534, "user_id": 8997916, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xLnJ3.png?s=128&g=1", "display_name": "DownloadPizza", "link": "https://stackoverflow.com/users/8997916/downloadpizza"}, "edited": false, "score": 1, "creation_date": 1575367051, "post_id": 52948267, "comment_id": 104533151, "body": "there is <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/last-or-null.html\" rel=\"nofollow noreferrer\">lastOrNull</a> for that, so you dont get an exception"}], "tags": [], "owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "is_accepted": true, "score": 15, "last_activity_date": 1540295177, "creation_date": 1540295177, "answer_id": 52948267, "question_id": 52948222, "link": "https://stackoverflow.com/questions/52948222/how-to-get-the-last-value-of-an-arraylist-in-kotlin/52948267#52948267", "title": "How to get the last value of an ArrayList in kotlin?", "body": "<p>There's <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/last.html\" rel=\"noreferrer\"><code>last()</code></a> method, created exactly for this purpose.</p>\n\n<pre><code>myList.last()\n</code></pre>\n"}], "owner": {"reputation": 4465, "user_id": 4972317, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SkL-cRw2UCQ/AAAAAAAAAAI/AAAAAAAABPA/HARzx8TOvTE/photo.jpg?sz=128", "display_name": "Anisuzzaman Babla", "link": "https://stackoverflow.com/users/4972317/anisuzzaman-babla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3330, "favorite_count": 0, "accepted_answer_id": 52948267, "answer_count": 1, "score": 4, "last_activity_date": 1540295447, "creation_date": 1540294887, "last_edit_date": 1540295447, "question_id": 52948222, "link": "https://stackoverflow.com/questions/52948222/how-to-get-the-last-value-of-an-arraylist-in-kotlin", "title": "How to get the last value of an ArrayList in kotlin?", "body": "<p>How to get the last item of an ArrayList in kotlin?</p>\n\n<p>I  have a list like</p>\n\n<pre><code>val myList = listOf(\"item1\", \"item2\", \"item3\")\n</code></pre>\n\n<p>I want to get the last item of myList</p>\n"}, {"tags": ["constructor", "kotlin", "compilation"], "comments": [{"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1540294600, "post_id": 52947945, "comment_id": 92804127, "body": "Are these classes in the same module?"}, {"owner": {"reputation": 4128, "user_id": 932656, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/3bbuc.png?s=128&g=1", "display_name": "Chriss", "link": "https://stackoverflow.com/users/932656/chriss"}, "reply_to_user": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1540294661, "post_id": 52947945, "comment_id": 92804164, "body": "Yes they are the same module!"}, {"owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "edited": false, "score": 0, "creation_date": 1540295367, "post_id": 52947945, "comment_id": 92804581, "body": "@Chriss answering the question from your edit. This is not a compiler bug. This is how the language was designed."}], "answers": [{"comments": [{"owner": {"reputation": 4128, "user_id": 932656, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/3bbuc.png?s=128&g=1", "display_name": "Chriss", "link": "https://stackoverflow.com/users/932656/chriss"}, "edited": false, "score": 0, "creation_date": 1540295422, "post_id": 52948180, "comment_id": 92804609, "body": "Feels like a bug in the lang-spec, one should not be forced to remove the primary constructor."}, {"owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "reply_to_user": {"reputation": 4128, "user_id": 932656, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/3bbuc.png?s=128&g=1", "display_name": "Chriss", "link": "https://stackoverflow.com/users/932656/chriss"}, "edited": false, "score": 0, "creation_date": 1540295618, "post_id": 52948180, "comment_id": 92804739, "body": "I think Kotlin devs just decided to do that, so your inheritance is cleaner. They essentially made sure that you do not mix <code>this</code> and <code>super</code> in constructors, which could become confusing in big classes."}], "tags": [], "owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "is_accepted": true, "score": 6, "last_activity_date": 1540294987, "creation_date": 1540294987, "answer_id": 52948180, "question_id": 52947945, "link": "https://stackoverflow.com/questions/52947945/cant-compile-internal-constructor-call-causeprimary-constructor-call-expected/52948180#52948180", "title": "Can&#39;t compile internal constructor call cause:Primary constructor call expected", "body": "<p>From <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>If the class has a primary constructor, each secondary constructor needs to delegate to the primary constructor, either directly or indirectly through another secondary constructor(s). Delegation to another constructor of the same class is done using the <code>this</code> keyword</p>\n</blockquote>\n\n<p>and:</p>\n\n<blockquote>\n  <p>If the class has no primary constructor, then each secondary constructor has to initialize the base type using the <code>super</code> keyword, or to delegate to another constructor which does that.</p>\n</blockquote>\n\n<hr>\n\n<p>Your <code>Dog</code> class has a primary constructor, so you have to delegate to that using <code>this</code>.\nIf you remove the primary constructor, you will be able to refer to <code>super</code> constructor:</p>\n\n<pre><code>class Dog : Animal {\n    constructor(message: InputStream) : super(message)\n}\n</code></pre>\n\n<p>(<em>the above raises no error</em>)</p>\n"}], "owner": {"reputation": 4128, "user_id": 932656, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/3bbuc.png?s=128&g=1", "display_name": "Chriss", "link": "https://stackoverflow.com/users/932656/chriss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4579, "favorite_count": 1, "accepted_answer_id": 52948180, "answer_count": 1, "score": 5, "last_activity_date": 1540295141, "creation_date": 1540294205, "last_edit_date": 1540295141, "question_id": 52947945, "link": "https://stackoverflow.com/questions/52947945/cant-compile-internal-constructor-call-causeprimary-constructor-call-expected", "title": "Can&#39;t compile internal constructor call cause:Primary constructor call expected", "body": "<p>Assume we have the following primary and secondary constructors:</p>\n\n<pre><code>open class Animal(val name:String){\n  internal constructor(message:InputStream): this(readName(message))\n}\n</code></pre>\n\n<p>Why is not possible to call the internal constructor of the super class? </p>\n\n<pre><code>class Dog(name:String):Animal(name){\n   internal constructor(message:InputStream):super(message)\n                                             ^^^^^\n                                             Primary constructor call expected\n}\n</code></pre>\n\n<hr>\n\n<p>edit</p>\n\n<p>Obviously it compiles when the primary constructor is converted to a secondary constructor or removed at all.</p>\n\n<pre><code>class Dog:Animal{\n   constructor(name:String):super(name)\n   internal constructor(message:InputStream):super(message)\n\n}\n</code></pre>\n\n<p>Is this a compiler bug?</p>\n"}, {"tags": ["kotlin", "javadoc", "code-documentation", "kdoc"], "answers": [{"tags": [], "owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "is_accepted": true, "score": 7, "last_activity_date": 1540296178, "creation_date": 1540296178, "answer_id": 52948592, "question_id": 52947709, "link": "https://stackoverflow.com/questions/52947709/kotlin-how-can-i-reference-a-method-in-kdoc-using-see/52948592#52948592", "title": "Kotlin: How can I reference a method in kDoc using @see?", "body": "<p>Just change <code>#</code> to <code>.</code> and it will work correctly.</p>\n\n<pre><code>/**\n * @see com.myapp.view.fragment.PlaybackControlFragment.onPlaybackStateChanged\n */\n</code></pre>\n"}], "owner": {"reputation": 7714, "user_id": 1080355, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3915b3b0af17096bba7ac8cec330138d?s=128&d=identicon&r=PG", "display_name": "VSB", "link": "https://stackoverflow.com/users/1080355/vsb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2027, "favorite_count": 1, "accepted_answer_id": 52948592, "answer_count": 1, "score": 6, "last_activity_date": 1540296265, "creation_date": 1540293341, "last_edit_date": 1540296265, "question_id": 52947709, "link": "https://stackoverflow.com/questions/52947709/kotlin-how-can-i-reference-a-method-in-kdoc-using-see", "title": "Kotlin: How can I reference a method in kDoc using @see?", "body": "<p>I used to reference methods in Java Doc like this:</p>\n\n<pre><code>/**\n * @see com.myapp.view.fragment.PlaybackControlFragment#onPlaybackStateChanged\n */\n</code></pre>\n\n<p>I don't know how to reference same method in kotlin?</p>\n\n<p>The part <code>com.myapp.view.fragment.PlaybackControlFragment</code> is linked however method name is not clickable and link.</p>\n\n<p>What is the right syntax?</p>\n"}, {"tags": ["android", "kotlin", "android-jetpack"], "answers": [{"tags": [], "owner": {"reputation": 585, "user_id": 5897268, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1etKLEW6T3o/AAAAAAAAAAI/AAAAAAAAA1k/4vN7XYte-iQ/photo.jpg?sz=128", "display_name": "Sabin ks", "link": "https://stackoverflow.com/users/5897268/sabin-ks"}, "is_accepted": true, "score": 2, "last_activity_date": 1540293626, "last_edit_date": 1540293626, "creation_date": 1540293470, "answer_id": 52947714, "question_id": 52947581, "link": "https://stackoverflow.com/questions/52947581/how-to-navigate-one-navigation-graph-to-another-in-android-jet-pack-navigation-c/52947714#52947714", "title": "how to navigate one navigation graph to another in android jet pack navigation controller", "body": "<p>You can use startActivity method to navigate to another navigation \neg :</p>\n\n<p><code>activity?.startActivity(Intent(activity,HomeActivity::class.java))</code> in kotlin</p>\n\n<p><code>getActivity().startActivity((Intent(getActivity(),HomeActivity.class))</code> in java</p>\n\n<p>Note : <strong>HomeActivity</strong> contains nav host of another navigation graph</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10545793"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 722, "favorite_count": 1, "accepted_answer_id": 52947714, "answer_count": 1, "score": 3, "last_activity_date": 1540293626, "creation_date": 1540293115, "question_id": 52947581, "link": "https://stackoverflow.com/questions/52947581/how-to-navigate-one-navigation-graph-to-another-in-android-jet-pack-navigation-c", "title": "how to navigate one navigation graph to another in android jet pack navigation controller", "body": "<p>I have two navigation graph one for registration of my application after completing registration I want to navigate another graph is it possible?</p>\n"}, {"tags": ["java", "tomcat", "lambda", "kotlin", "http2"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 0, "last_activity_date": 1540292364, "creation_date": 1540292364, "answer_id": 52947380, "question_id": 52946487, "link": "https://stackoverflow.com/questions/52946487/transform-java-lambda-to-kotlin-lamba-with-intellij-generate-syntax-error/52947380#52947380", "title": "Transform Java lambda to Kotlin Lamba with IntelliJ generate syntax error", "body": "<p>You could look into <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM conversions</a> for <em>Kotlin</em>.</p>\n\n<p>If for some reason the version with the method doesn't work </p>\n\n<pre><code>factory.addConnectorCustomizers { it.addUpgradeProtocol(Http2Protocol()) }\n</code></pre>\n\n<p>You can try to implement the <em>Java</em> interface easily as</p>\n\n<pre><code>factory.addConnectorCustomizers(TomcatConnectorCustomizer { it.addUpgradeProtocol(Http2Protocol()) })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 0, "last_activity_date": 1540296513, "creation_date": 1540296513, "answer_id": 52948736, "question_id": 52946487, "link": "https://stackoverflow.com/questions/52946487/transform-java-lambda-to-kotlin-lamba-with-intellij-generate-syntax-error/52948736#52948736", "title": "Transform Java lambda to Kotlin Lamba with IntelliJ generate syntax error", "body": "<p>It's a probable Kotlin compiler bug that manifests itself when the functional argument is a vararg. Here's a minimal reproducer:</p>\n\n<p>Java:</p>\n\n<pre><code>public class Runner {\n    void addTasks(Runnable... tasks) { }\n}\n</code></pre>\n\n<p>Kotlin:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    Runner().addTasks({ println(\"success\") })\n}\n</code></pre>\n\n<blockquote>\n  <p>Error:(4, 26) Kotlin: Type mismatch: inferred type is () -> Unit but Runnable! was expected</p>\n</blockquote>\n\n<p>If we change java:</p>\n\n<pre><code>public class Runner {\n    void addTask(Runnable task) { }\n}\n</code></pre>\n\n<p>the error goes away.</p>\n"}], "owner": {"reputation": 49, "user_id": 6863958, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210865952269726/picture?type=large", "display_name": "Jos&#233;-Alberto Gilberte Le&#243;n", "link": "https://stackoverflow.com/users/6863958/jos%c3%a9-alberto-gilberte-le%c3%b3n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 52947380, "answer_count": 2, "score": 1, "last_activity_date": 1595233939, "creation_date": 1540289507, "last_edit_date": 1595233939, "question_id": 52946487, "link": "https://stackoverflow.com/questions/52946487/transform-java-lambda-to-kotlin-lamba-with-intellij-generate-syntax-error", "title": "Transform Java lambda to Kotlin Lamba with IntelliJ generate syntax error", "body": "<p>I have a Java class that configure the embebed tomcat of Spring Boot 2.0.6 for use HTTP2 protocol:</p>\n<pre><code>package com.talleres.paco.mako.config;\n\nimport org.apache.catalina.connector.Connector;\nimport org.apache.coyote.http2.Http2Protocol;\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory;\nimport org.springframework.boot.web.servlet.server.ConfigurableServletWebServerFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class TomcatHttp2Config {\n    @Bean\n    public ConfigurableServletWebServerFactory tomcatCustomizer() {\n        TomcatServletWebServerFactory factory = new TomcatServletWebServerFactory();\n        factory.addConnectorCustomizers((Connector connector) -&gt; {\n            connector.addUpgradeProtocol(new Http2Protocol());\n        });\n        return factory;\n    }\n}\n</code></pre>\n<p>When I use IntelliJ for convert this snippet code to Kotlin I obtain a compilation error. Here is the Kotlin code that IntelliJ return:</p>\n<pre><code>package com.talleres.paco.mako.config\n\nimport org.apache.catalina.connector.Connector\nimport org.apache.coyote.http2.Http2Protocol\nimport org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory\nimport org.springframework.boot.web.servlet.server.ConfigurableServletWebServerFactory\nimport org.springframework.context.annotation.Bean\nimport org.springframework.context.annotation.Configuration\n\n@Configuration\nclass TomcatHttp2Config {\n    @Bean\n    fun tomcatCustomizer(): ConfigurableServletWebServerFactory {\n        val factory = TomcatServletWebServerFactory()\n        factory.addConnectorCustomizers({ connector: Connector -&gt; connector.addUpgradeProtocol(Http2Protocol()) })\n        return factory\n    }\n}\n</code></pre>\n<p>I obtain this error:</p>\n<pre><code>Type mismatch.\nRequired:\nTomcatConnectorCustomizer!\nFound:\n(Connector) \u2192 Unit\n</code></pre>\n<p>At line that appears the lambda:</p>\n<pre><code>    factory.addConnectorCustomizers({ connector: Connector -&gt; connector.addUpgradeProtocol(Http2Protocol()) })\n</code></pre>\n<p>How I can translate the Java code above to Kotlin.\nThanks in advance.</p>\n"}, {"tags": ["kotlin", "annotation-processing"], "comments": [{"owner": {"reputation": 44833, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "edited": false, "score": 1, "creation_date": 1540297745, "post_id": 52946464, "comment_id": 92806055, "body": "Did you try the <code>--debug</code> switch of gradle? There you can show the debug log level, but I&#39;m not sure if this includes your note log level"}, {"owner": {"reputation": 7691, "user_id": 1636276, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b9b89d2ebb4ad79a3f0d622c96432b35?s=128&d=identicon&r=PG", "display_name": "Tagc", "link": "https://stackoverflow.com/users/1636276/tagc"}, "reply_to_user": {"reputation": 44833, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "edited": false, "score": 0, "creation_date": 1540298217, "post_id": 52946464, "comment_id": 92806350, "body": "@rekire Thanks. I&#39;d tried that earlier and it wasn&#39;t working, but now I&#39;m trying it and it does. I&#39;m not sure what I&#39;ve done differently. Also, I&#39;m sure before I was getting output on each run of <code>gradle build</code>, whereas now I need to clean first and rebuild to get that output (which makes sense, but I&#39;m wondering why it&#39;s changed now)."}, {"owner": {"reputation": 44833, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "edited": false, "score": 0, "creation_date": 1540298375, "post_id": 52946464, "comment_id": 92806458, "body": "Great that you got it now working. I know that strange feeling that it didn&#39;t work before and after changing some code and rolling it back it starts working."}], "answers": [{"tags": [], "owner": {"reputation": 2256, "user_id": 3684449, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/8Rjt2.png?s=128&g=1", "display_name": "lance.dolan", "link": "https://stackoverflow.com/users/3684449/lance-dolan"}, "is_accepted": false, "score": 2, "last_activity_date": 1564418896, "last_edit_date": 1564418896, "creation_date": 1560956666, "answer_id": 56670804, "question_id": 52946464, "link": "https://stackoverflow.com/questions/52946464/how-do-i-view-note-level-diagnostics-when-doing-annotation-processing/56670804#56670804", "title": "How do I view &quot;NOTE&quot; level diagnostics when doing annotation processing?", "body": "<p>Run with the --debug option</p>\n\n<pre><code>gradle build --debug\n</code></pre>\n\n<p>Unfortunately, you may discover that all the other debug logging that comes along with that option is so verbose that you cannot find your own output and use of the option isn't practical. I'm bummed to say that in our case we use <code>WARNING</code> level for all none-error level log messages in our annotations processor. </p>\n"}], "owner": {"reputation": 7691, "user_id": 1636276, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/b9b89d2ebb4ad79a3f0d622c96432b35?s=128&d=identicon&r=PG", "display_name": "Tagc", "link": "https://stackoverflow.com/users/1636276/tagc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1564418896, "creation_date": 1540289449, "question_id": 52946464, "link": "https://stackoverflow.com/questions/52946464/how-do-i-view-note-level-diagnostics-when-doing-annotation-processing", "title": "How do I view &quot;NOTE&quot; level diagnostics when doing annotation processing?", "body": "<h1>Overview</h1>\n\n<p>I'm trying to familiarise myself with Kotlin for a project I'm working on and getting to grips with annotation processing. I'd like to know how I can view diagnostics when the annotation processor runs so I can easily see what's happening at different stages within the process.</p>\n\n<h1>Environment</h1>\n\n<ul>\n<li>Windows 10 64-bit</li>\n<li>IntelliJ 2018.2.5 as my IDE</li>\n<li>Gradle 4.10.2 (configured with kapt plugin for annotation processing)</li>\n<li>Kotlin 1.2.71</li>\n</ul>\n\n<h1>Details</h1>\n\n<p>I've found that I can access a <code>messenger</code> object within my processor that lets me output diagnostic messages. This is what I've implemented so far:</p>\n\n<pre><code>override fun process(annotations: MutableSet&lt;out TypeElement&gt;?, roundEnv: RoundEnvironment): Boolean {\n    roundEnv.getElementsAnnotatedWith(ElementaryNode::class.java).forEach {\n        if (it !is ExecutableElement) {\n            processingEnv.messager.printMessage(\n                    Diagnostic.Kind.ERROR,\n                    \"Cannot generate elementary node from non-executable element\"\n            )\n            return false\n        }\n\n        processingEnv.messager.printMessage(Diagnostic.Kind.WARNING, \"Test that this works\")\n\n        val packageName = processingEnv.elementUtils.getPackageOf(it).toString()\n        val definition = ElementaryNodeDefinition.fromFunction(it)\n        outputElementaryNode(definition, packageName)\n    }\n\n    return true\n}\n</code></pre>\n\n<p>If I run <code>gradle build</code> from the command-line, I see that this outputs the warning-level diagnostic messages:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>$ gradle build\n...\n&gt; Task :sample-main:kaptGenerateStubsKotlin\nw: warning: Test that this works\nw: warning: Test that this works\nw: warning: Test that this works\nw: warning: Test that this works\nw: warning: Test that this works\nw: warning: Test that this works\nw: warning: Test that this works\n...\n</code></pre>\n\n<p>However, I don't see any diagnostics appear if I output these diagnostics at any lower level, such as <code>Diagnostic.Kind.NOTE</code>.</p>\n\n<p>I've tried trawling the javac documentation <a href=\"https://docs.oracle.com/javase/7/docs/technotes/tools/solaris/javac.html\" rel=\"nofollow noreferrer\">here</a> and looking at the source code of projects that also do annotation processing (like <a href=\"https://github.com/airbnb/DeepLinkDispatch/blob/master/deeplinkdispatch-processor/src/main/java/com/airbnb/deeplinkdispatch/Documentor.java\" rel=\"nofollow noreferrer\">this one</a>) but I can't find anything that explains how to view diagnostic messages at this level.</p>\n\n<p>In case it's helpful, this is the <code>build.gradle.kts</code> file for the sub-project containing my annotation processor:</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    kotlin(\"jvm\")\n    kotlin(\"kapt\")\n}\n\ndependencies {\n    implementation(kotlin(\"stdlib-jdk8\"))\n    implementation(\"com.google.auto.service:auto-service:1.0-rc4\")\n    implementation(\"com.squareup:kotlinpoet:1.0.0-RC1\")\n    implementation(project(\":model\"))\n    kapt(\"com.google.auto.service:auto-service:1.0-rc4\")\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n\nkapt {\n    correctErrorTypes = true\n}\n</code></pre>\n\n<p>This is the <code>build.gradle.kts</code> file for my \"sample-main\" project that contains my entry-point:</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    kotlin(\"jvm\")\n    kotlin(\"kapt\")\n}\n\ndependencies {\n    kapt(project(\":node-generation\"))\n    implementation(project(\":node-generation\"))\n    implementation(project(\":model\"))\n    implementation(kotlin(\"stdlib-jdk8\"))\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1540291860, "post_id": 52946009, "comment_id": 92802443, "body": "Does this line <code>println (&quot;url =&quot; + photoUrl.toString ())</code> print anything?"}, {"owner": {"reputation": 180, "user_id": 3827449, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000919387349/picture?type=large", "display_name": "Filippos Ser", "link": "https://stackoverflow.com/users/3827449/filippos-ser"}, "reply_to_user": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1540292254, "post_id": 52946009, "comment_id": 92802676, "body": "Yeap, I get the right URL which I am expected."}, {"owner": {"reputation": 180, "user_id": 3827449, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000919387349/picture?type=large", "display_name": "Filippos Ser", "link": "https://stackoverflow.com/users/3827449/filippos-ser"}, "reply_to_user": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1540292305, "post_id": 52946009, "comment_id": 92802706, "body": "The problem is that I cant get the photoUrl inside btn.setOnClickListener"}, {"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1540295117, "post_id": 52946009, "comment_id": 92804441, "body": "can it be due to you are using <code>photoUrl</code> as it is in <code>onClick</code> where as in onActivityResult you are using it as <code>photoUrl.toString ()</code>"}, {"owner": {"reputation": 180, "user_id": 3827449, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000919387349/picture?type=large", "display_name": "Filippos Ser", "link": "https://stackoverflow.com/users/3827449/filippos-ser"}, "edited": false, "score": 0, "creation_date": 1540295572, "post_id": 52946009, "comment_id": 92804711, "body": "can you explain it more...I dont get it"}, {"owner": {"reputation": 180, "user_id": 3827449, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000919387349/picture?type=large", "display_name": "Filippos Ser", "link": "https://stackoverflow.com/users/3827449/filippos-ser"}, "reply_to_user": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1540295711, "post_id": 52946009, "comment_id": 92804809, "body": "@KaranMer and how can I fix it?"}, {"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1540295888, "post_id": 52946009, "comment_id": 92804926, "body": "use<code>println(&quot;????????????????????????&gt;&gt;&gt;&gt;&quot;+photoUr.toString()&zwnj;&#8203;)</code>"}, {"owner": {"reputation": 180, "user_id": 3827449, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000919387349/picture?type=large", "display_name": "Filippos Ser", "link": "https://stackoverflow.com/users/3827449/filippos-ser"}, "edited": false, "score": 0, "creation_date": 1540295998, "post_id": 52946009, "comment_id": 92805003, "body": "I already use it but I get null..."}, {"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1540296360, "post_id": 52946009, "comment_id": 92805254, "body": "your code has <code>println(&quot;????????????????????????&gt;&gt;&gt;&gt;&quot;+photoUrl)</code> so I thought it could be an issue."}, {"owner": {"reputation": 180, "user_id": 3827449, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000919387349/picture?type=large", "display_name": "Filippos Ser", "link": "https://stackoverflow.com/users/3827449/filippos-ser"}, "edited": false, "score": 0, "creation_date": 1540296546, "post_id": 52946009, "comment_id": 92805350, "body": "this is just a print to check what upload to firebase and not need to login to firebase and check my db every time"}], "owner": {"reputation": 180, "user_id": 3827449, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/100000919387349/picture?type=large", "display_name": "Filippos Ser", "link": "https://stackoverflow.com/users/3827449/filippos-ser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540294241, "creation_date": 1540288005, "last_edit_date": 1540294241, "question_id": 52946009, "link": "https://stackoverflow.com/questions/52946009/get-share-value-from-onactivityresult", "title": "Get share value from onActivityResult", "body": "<p>Hello I have activity with two buttons. First I take a photo and in override <code>onActivityResult</code> I upload the photo in firebase and I get an url which I save to photoUrl . Then in the other btn listener inside oncreate I want to use this variable but I get null as I define it in the begin of the class. How can I get the value of photoUrl which I want?</p>\n\n<pre><code>class AddYourStory : AppCompatActivity() {\n    val    storage = FirebaseStorage.getInstance()\n\n    private val REQUEST_IMAGE = 100\n    private val TAG = \"MainActivity\"\n    var destination: File? = null\n    var imagePath: String? = null\n    var photoUrl : String? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_add_your_story)\n        setSupportActionBar(toolbar)\n\n        val db: FirebaseFirestore\n\n        val intent = intent\n        val lat = intent.getStringExtra(\"lng\")\n        val lng = intent.getStringExtra(\"lng\")\n        db = FirebaseFirestore.getInstance()\n        val builder = StrictMode.VmPolicy.Builder()\n        StrictMode.setVmPolicy(builder.build());\n\n        val name = dateToString(Date(), \"yyyy-MM-dd-hh-mm-ss\")\n        destination = File(Environment.getExternalStorageDirectory(), \"$name.jpg\")\n\n        val takephoto = findViewById&lt;Button&gt;(R.id.button2)\n        takephoto.setOnClickListener {\n            val intent = Intent(MediaStore.ACTION_IMAGE_CAPTURE)\n            intent.putExtra(MediaStore.EXTRA_OUTPUT, Uri.fromFile(destination));\n            startActivityForResult(intent, REQUEST_IMAGE);\n        }\n\n        val txtTitle = findViewById&lt;TextInputEditText&gt;(R.id.textInputEditText2)\n        val txtStory = findViewById&lt;EditText&gt;(R.id.editText)\n\n        val btn = findViewById&lt;Button&gt;(R.id.button)\n        btn.setOnClickListener{\n            println(\"????????????????????????&gt;&gt;&gt;&gt;\"+photoUrl)\n            val MyStory: HashMap&lt;String, String&gt; = HashMap&lt;String,String&gt;()\n            MyStory.put(\"title\",txtTitle.text.toString())\n            MyStory.put(\"story\",txtStory.text.toString())\n            MyStory.put(\"lat\",lat)\n            MyStory.put(\"lng\",lng)\n            MyStory.put(\"url\",photoUrl.toString())\n            db.collection(\"Stories\").document().set(MyStory as Map&lt;String, Any&gt;)\n            val confirm = Intent(this, MapsActivity::class.java)\n            startActivity(confirm)\n        }\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        if (requestCode == REQUEST_IMAGE &amp;&amp; resultCode == Activity.RESULT_OK) {\n            try {\n                val `in` = FileInputStream(destination)\n                val options = BitmapFactory.Options()\n                options.inSampleSize = 10\n                imagePath = destination!!.getAbsolutePath()\n                val storageRef = storage.reference\n                val stream = FileInputStream(File(imagePath))\n                val picRef = storageRef.child(dateToString(Date(), \"yyyy-MM-dd-hh-mm-ss\"))\n\n                val  uploadTask = picRef.putStream(stream)\n                uploadTask.addOnFailureListener { exception -&gt;\n                    println(\"Failed\")\n                }.addOnSuccessListener { taskSnapshot -&gt;\n                    println(\"OK\")\n                    picRef.downloadUrl.addOnCompleteListener () {taskSnapshot -&gt;\n                        photoUrl = taskSnapshot.result.toString()\n                        println (\"url =\" + photoUrl.toString ())\n                    }\n                }\n\n                val bmp = BitmapFactory.decodeStream(`in`, null, options)\n            } catch (e: FileNotFoundException) {\n                e.printStackTrace()\n            }\n        } else {\n            println(\"Cancel\")\n        }\n    }\n\n    fun dateToString(date: Date, format: String): String {\n        val df = SimpleDateFormat(format)\n        return df.format(date)\n    }    \n}\n</code></pre>\n"}, {"tags": ["list", "arraylist", "kotlin", "nested", "declare"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1540283577, "post_id": 52944429, "comment_id": 92797076, "body": "What is the data type that you expect this structure to have? Kotlin is a statically typed language, so you can either have an array (or list) where each element is also an array (or list), or an array (or list) where each element is a value."}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1540283870, "post_id": 52944429, "comment_id": 92797275, "body": "so array or list?:)"}, {"owner": {"reputation": 117, "user_id": 10544887, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IfUsdI5oqEM/AAAAAAAAAAI/AAAAAAAABX0/xDcywJMQYu0/photo.jpg?sz=128", "display_name": "Dan Crisan", "link": "https://stackoverflow.com/users/10544887/dan-crisan"}, "edited": false, "score": 0, "creation_date": 1540283923, "post_id": 52944429, "comment_id": 92797312, "body": "Considering the problem I&#39;m trying to solve, I would need an array where each element is also an array."}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "edited": false, "score": 0, "creation_date": 1540283925, "post_id": 52944429, "comment_id": 92797317, "body": "actually in this particular example Int and Array types are mixed. a single array contains either 1 and another array: <code>[1,[2,[3,null,4]],...]</code>"}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 10544887, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IfUsdI5oqEM/AAAAAAAAAAI/AAAAAAAABX0/xDcywJMQYu0/photo.jpg?sz=128", "display_name": "Dan Crisan", "link": "https://stackoverflow.com/users/10544887/dan-crisan"}, "edited": false, "score": 0, "creation_date": 1540284511, "post_id": 52944751, "comment_id": 92797702, "body": "This is what I was looking for, but is there a way so that I do not have to hard code the number of layers (in your example that being 2)?"}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "reply_to_user": {"reputation": 117, "user_id": 10544887, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IfUsdI5oqEM/AAAAAAAAAAI/AAAAAAAABX0/xDcywJMQYu0/photo.jpg?sz=128", "display_name": "Dan Crisan", "link": "https://stackoverflow.com/users/10544887/dan-crisan"}, "edited": false, "score": 0, "creation_date": 1540287419, "post_id": 52944751, "comment_id": 92799589, "body": "pls man dont try at home and at work.  <code>inline fun &lt;reified T&gt; flatArray(array: Array&lt;*&gt;): Array&lt;T&gt; {     var temp: Array&lt;*&gt; = arrayOf(*array)     while (!temp.isEmpty() &amp;&amp; temp[0] is Array&lt;*&gt;) {         temp = flatLevel(temp)     }     val result: Array&lt;T?&gt; = arrayOfNulls(temp.size)     for ((index, value) in temp.withIndex()) {         result[index] = value as T     }     return result.asSequence().filterNot { it.isNull() }.toList().toTypedArray() as Array&lt;T&gt; }</code>"}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "reply_to_user": {"reputation": 117, "user_id": 10544887, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IfUsdI5oqEM/AAAAAAAAAAI/AAAAAAAABX0/xDcywJMQYu0/photo.jpg?sz=128", "display_name": "Dan Crisan", "link": "https://stackoverflow.com/users/10544887/dan-crisan"}, "edited": false, "score": 0, "creation_date": 1540287448, "post_id": 52944751, "comment_id": 92799612, "body": "<code>fun flatLevel(array: Array&lt;*&gt;): Array&lt;*&gt; {     if (!array.isEmpty()) {         val result = mutableListOf&lt;Any?&gt;()         for (innerArray in array) {             val castedArray = innerArray as Array&lt;*&gt;             for (innerItem in castedArray) {                 result.add(innerItem)             }         }         return result.toTypedArray()     }     return array }</code>"}, {"owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "reply_to_user": {"reputation": 117, "user_id": 10544887, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IfUsdI5oqEM/AAAAAAAAAAI/AAAAAAAABX0/xDcywJMQYu0/photo.jpg?sz=128", "display_name": "Dan Crisan", "link": "https://stackoverflow.com/users/10544887/dan-crisan"}, "edited": false, "score": 0, "creation_date": 1540287858, "post_id": 52944751, "comment_id": 92799898, "body": "I just did it because it was challenging. it is BETTER to find another solution which just won&#39;t result into this code. the best thing possible is to forbid variable deepness and use type-safe code"}], "tags": [], "owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "is_accepted": true, "score": 2, "last_activity_date": 1540284168, "creation_date": 1540284168, "answer_id": 52944751, "question_id": 52944429, "link": "https://stackoverflow.com/questions/52944429/kotlin-declare-nested-array/52944751#52944751", "title": "Kotlin declare nested array", "body": "<p>If you have nested arrays structure (for instance, <code>val array: Array&lt;Array&lt;out Int?&gt;&gt; = arrayOf(arrayOf(1), arrayOf(2), arrayOf(3, null, 4))</code>), you can just use <code>flatten</code> extension method:</p>\n\n<pre><code>println(array.flatten().filterNotNull())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2400, "user_id": 4762282, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a87249e3029c3daae0d473b1dc712484?s=128&d=identicon&r=PG&f=1", "display_name": "Ircover", "link": "https://stackoverflow.com/users/4762282/ircover"}, "is_accepted": false, "score": 1, "last_activity_date": 1577112783, "creation_date": 1577112783, "answer_id": 59457263, "question_id": 52944429, "link": "https://stackoverflow.com/questions/52944429/kotlin-declare-nested-array/59457263#59457263", "title": "Kotlin declare nested array", "body": "<p>All common collections can't maintain variable layers count, so with them you can make only something like Andrey Ilyunin wrote - <code>val array: Array&lt;Array&lt;out Int?&gt;&gt;</code>.</p>\n\n<p>But I wrote class structure to help you with your goal. It is no another collection and you can't work with it like it is, but it can make any layers amount you want. It is totally generic, so you can put there not only <code>Int</code>.</p>\n\n<p>First of all, we start with <code>NestedArrayItem</code> class, which represents single item or one more nested array:</p>\n\n<pre><code>class NestedArrayItem&lt;T&gt; {\n    private val array: ArrayList&lt;NestedArrayItem&lt;T&gt;&gt;?\n    private val singleItem: T?\n    constructor(array: ArrayList&lt;NestedArrayItem&lt;T&gt;&gt;) {\n        this.array = array\n        singleItem = null\n    }\n    constructor(singleItem: T?) {\n        this.singleItem = singleItem\n        array = null\n    }\n    fun asSequence(): Sequence&lt;T?&gt; =\n        array?.asSequence()?.flatMap { it.asSequence() } ?:\n            sequenceOf(singleItem)\n    override fun toString() =\n        array?.joinToString(prefix = \"[\", postfix = \"]\") ?:\n            singleItem?.toString() ?: \"null\"\n}\n</code></pre>\n\n<p>Then class <code>NestedArray</code> that is just like top level container for all the layers:</p>\n\n<pre><code>class NestedArray&lt;T&gt; {\n    private val array: ArrayList&lt;NestedArrayItem&lt;T&gt;&gt; = arrayListOf()\n\n    fun add(value: T?) {\n        array.add(NestedArrayItem(value))\n    }\n\n    fun addNested(nestedArray: NestedArray&lt;T&gt;) {\n        array.add(NestedArrayItem(nestedArray.array))\n    }\n\n    fun flatten(): ArrayList&lt;T?&gt; = array.asSequence()\n        .flatMap { it.asSequence() }\n        .toCollection(arrayListOf())\n\n    override fun toString() = array.joinToString(prefix = \"[\", postfix = \"]\")\n}\n</code></pre>\n\n<p>And to make it easier to write values I additionally wrote builder class for that:</p>\n\n<pre><code>class NestedArrayBuilder&lt;T&gt; private constructor(private val result: NestedArray&lt;T&gt;){\n    constructor(fillNestedBuilder: NestedArrayBuilder&lt;T&gt;.() -&gt; Unit) : this(NestedArray()) {\n        NestedArrayBuilder(result).apply(fillNestedBuilder)\n    }\n    fun add(value: T?): NestedArrayBuilder&lt;T&gt; {\n        result.add(value)\n        return this\n    }\n    fun addArray(fillNestedBuilder: NestedArrayBuilder&lt;T&gt;.() -&gt; Unit): NestedArrayBuilder&lt;T&gt; {\n        val nestedResult = NestedArray&lt;T&gt;()\n        val nestedArray = NestedArrayBuilder(nestedResult).apply(fillNestedBuilder)\n            .build()\n        result.addNested(nestedArray)\n        return this\n    }\n\n    fun build() = result\n}\n</code></pre>\n\n<p>That's it! You can use it. I put here example how to use it:</p>\n\n<pre><code>val array = NestedArrayBuilder&lt;Int&gt; {\n    add(1)\n    addArray {\n        add(2)\n        addArray {\n            add(3)\n            add(null)\n            add(4)\n        }\n    }\n    addArray {\n        add(null)\n    }\n    add(5)\n}.build()\nassertEquals(\"[1, [2, [3, null, 4]], [null], 5]\", array.toString())\nassertEquals(arrayListOf(1, 2, 3, null, 4, null, 5), array.flatten())\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 10544887, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IfUsdI5oqEM/AAAAAAAAAAI/AAAAAAAABX0/xDcywJMQYu0/photo.jpg?sz=128", "display_name": "Dan Crisan", "link": "https://stackoverflow.com/users/10544887/dan-crisan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 727, "favorite_count": 1, "accepted_answer_id": 52944751, "answer_count": 2, "score": 6, "last_activity_date": 1577112783, "creation_date": 1540283194, "question_id": 52944429, "link": "https://stackoverflow.com/questions/52944429/kotlin-declare-nested-array", "title": "Kotlin declare nested array", "body": "<p>How can nested lists be declared in Kotlin?\nI'm looking for something in the form of:</p>\n\n<pre><code>var nestedList:List = [1,[2,[3,null,4]],[null],5]\n</code></pre>\n\n<p>so that I can flatten it later on (result should be nestedList = [1, 2, 3, 4, 5]).</p>\n"}, {"tags": ["spring-boot", "intellij-idea", "kotlin", "spring-data-jpa"], "comments": [{"owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "edited": false, "score": 0, "creation_date": 1540288213, "post_id": 52944293, "comment_id": 92800167, "body": "Are you sure autocomplete works on finder methods? Even in Java..."}, {"owner": {"reputation": 1949, "user_id": 262742, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/86e242b91f1d3a7cbc65ba4160f8429b?s=128&d=identicon&r=PG", "display_name": "\u738b\u5b501986", "link": "https://stackoverflow.com/users/262742/%e7%8e%8b%e5%ad%901986"}, "reply_to_user": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "edited": false, "score": 0, "creation_date": 1540288324, "post_id": 52944293, "comment_id": 92800238, "body": "Pretty sure it works for me. Please look at another screenshot."}, {"owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "edited": false, "score": 1, "creation_date": 1540288690, "post_id": 52944293, "comment_id": 92800481, "body": "Cool, just checked my java project, you are right...doesn&#39;t work with Kotlin. Upvoted!"}, {"owner": {"reputation": 817, "user_id": 5201186, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-YCJjfr021qM/AAAAAAAAAAI/AAAAAAAAAFE/FUBiSjdhXPU/photo.jpg?sz=128", "display_name": "\u041d\u0438\u043a\u043e\u043b\u0430\u0439 \u041c\u0438\u0442\u0440\u043e\u043f\u043e\u043b\u044c\u0441\u043a\u0438\u0439", "link": "https://stackoverflow.com/users/5201186/%d0%9d%d0%b8%d0%ba%d0%be%d0%bb%d0%b0%d0%b9-%d0%9c%d0%b8%d1%82%d1%80%d0%be%d0%bf%d0%be%d0%bb%d1%8c%d1%81%d0%ba%d0%b8%d0%b9"}, "edited": false, "score": 0, "creation_date": 1540297059, "post_id": 52944293, "comment_id": 92805634, "body": "Which version of IDEA do you use? Actually, it is implemented for Kotlin only in 2018.3"}, {"owner": {"reputation": 44833, "user_id": 995926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/UPzx8.png?s=128&g=1", "display_name": "rekire", "link": "https://stackoverflow.com/users/995926/rekire"}, "edited": false, "score": 0, "creation_date": 1540297925, "post_id": 52944293, "comment_id": 92806164, "body": "Did you try the combination &quot;ctrl + o&quot;? That should generate the stubs for all overrideable methods. Something which you can try always is to invalidate the caches. That helps in 99% of all wired IDE bugs."}, {"owner": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "edited": false, "score": 0, "creation_date": 1540371912, "post_id": 52944293, "comment_id": 92836496, "body": "I am using the latest version of intellij"}, {"owner": {"reputation": 817, "user_id": 5201186, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-YCJjfr021qM/AAAAAAAAAAI/AAAAAAAAAFE/FUBiSjdhXPU/photo.jpg?sz=128", "display_name": "\u041d\u0438\u043a\u043e\u043b\u0430\u0439 \u041c\u0438\u0442\u0440\u043e\u043f\u043e\u043b\u044c\u0441\u043a\u0438\u0439", "link": "https://stackoverflow.com/users/5201186/%d0%9d%d0%b8%d0%ba%d0%be%d0%bb%d0%b0%d0%b9-%d0%9c%d0%b8%d1%82%d1%80%d0%be%d0%bf%d0%be%d0%bb%d1%8c%d1%81%d0%ba%d0%b8%d0%b9"}, "reply_to_user": {"reputation": 3461, "user_id": 887976, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/TM1DY.png?s=128&g=1", "display_name": "Chirdeep Tomar", "link": "https://stackoverflow.com/users/887976/chirdeep-tomar"}, "edited": false, "score": 0, "creation_date": 1540450566, "post_id": 52944293, "comment_id": 92871995, "body": "@ChirdeepTomar if the latest means 2018.2 then it shouldn&#39;t work because it is not implemented, you could try 2018.3 EAP."}, {"owner": {"reputation": 1063, "user_id": 7193786, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/VSW46.jpg?s=128&g=1", "display_name": "Sahbaz", "link": "https://stackoverflow.com/users/7193786/sahbaz"}, "edited": false, "score": 0, "creation_date": 1559328400, "post_id": 52944293, "comment_id": 99399026, "body": "same issue here, it does not work, anyone have solution?"}], "answers": [{"tags": [], "owner": {"reputation": 389, "user_id": 4727210, "user_type": "registered", "profile_image": "https://graph.facebook.com/1193491521/picture?type=large", "display_name": "mohitmayank", "link": "https://stackoverflow.com/users/4727210/mohitmayank"}, "is_accepted": false, "score": 0, "last_activity_date": 1600070485, "creation_date": 1600070485, "answer_id": 63880308, "question_id": 52944293, "link": "https://stackoverflow.com/questions/52944293/jpa-autocompletion-is-not-working-in-intelliji-spring-boot-kotlin-project/63880308#63880308", "title": "JPA autocompletion is not working in Intelliji spring-boot kotlin project", "body": "<p>You need to write your methods as <code>override fun ...</code> for IDEA to suggest JPA methods.</p>\n"}], "owner": {"reputation": 1949, "user_id": 262742, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/86e242b91f1d3a7cbc65ba4160f8429b?s=128&d=identicon&r=PG", "display_name": "\u738b\u5b501986", "link": "https://stackoverflow.com/users/262742/%e7%8e%8b%e5%ad%901986"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1127, "favorite_count": 2, "answer_count": 1, "score": 6, "last_activity_date": 1600070485, "creation_date": 1540282732, "last_edit_date": 1540288381, "question_id": 52944293, "link": "https://stackoverflow.com/questions/52944293/jpa-autocompletion-is-not-working-in-intelliji-spring-boot-kotlin-project", "title": "JPA autocompletion is not working in Intelliji spring-boot kotlin project", "body": "<p>Created a simple JPA spring boot application like the attached screenshot, I found the JPA auto completion is not working anymore as java JPA.</p>\n\n<p>Any suggestions to make this auto completion work?\nIt works for java code.</p>\n\n<p>java Code\n<a href=\"https://i.stack.imgur.com/OKHcz.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/OKHcz.png\" alt=\"java Code\"></a></p>\n\n<p>Kotlin code</p>\n\n<p><a href=\"https://i.stack.imgur.com/EH202.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/EH202.png\" alt=\"kotlin code\"></a></p>\n"}, {"tags": ["java", "kotlin", "okhttp3"], "comments": [{"owner": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "edited": false, "score": 0, "creation_date": 1540280964, "post_id": 52943766, "comment_id": 92795669, "body": "It does know more data has arrived because <code>count</code> is equal to the amount of data received, and it keeps looping until <code>count</code> is <code>-1</code>. Or am I misunderstanding something?"}, {"owner": {"reputation": 846, "user_id": 4284268, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/30b644609ddad0c9648857d5c04cdb3b?s=128&d=identicon&r=PG&f=1", "display_name": "usbpc102", "link": "https://stackoverflow.com/users/4284268/usbpc102"}, "reply_to_user": {"reputation": 4505, "user_id": 4417306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc90fc44a31eb2bdc442686e75a1a4dd?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/4417306/mark"}, "edited": false, "score": 0, "creation_date": 1540281053, "post_id": 52943766, "comment_id": 92795719, "body": "Well it dosen&#39;t know before calling <code>input.read(data)</code> and that function can return 0 or other really small numbers. I&#39;d want to only write new data to the disk if I got for example 1024 bytes ready."}, {"owner": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "edited": false, "score": 0, "creation_date": 1540281537, "post_id": 52943766, "comment_id": 92795951, "body": "<code>while ((count = input.read(data)) == 0) { Thread.sleep(50L); }</code> <i>(Never used it though.)</i>"}, {"owner": {"reputation": 846, "user_id": 4284268, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/30b644609ddad0c9648857d5c04cdb3b?s=128&d=identicon&r=PG&f=1", "display_name": "usbpc102", "link": "https://stackoverflow.com/users/4284268/usbpc102"}, "edited": false, "score": 0, "creation_date": 1540281763, "post_id": 52943766, "comment_id": 92796073, "body": "Well that would at least reduce the unneccecary CPU cycles, but dosen&#39;t exactly do what I want either, it will of cause make my code not write &quot;nothing&quot; to the disk but it would still write small amounts of data (if 200 bytes) arrive to disk. Thanks, I&#39;ll consider it if nothing else get&#39;s suggested :)"}], "answers": [{"comments": [{"owner": {"reputation": 846, "user_id": 4284268, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/30b644609ddad0c9648857d5c04cdb3b?s=128&d=identicon&r=PG&f=1", "display_name": "usbpc102", "link": "https://stackoverflow.com/users/4284268/usbpc102"}, "edited": false, "score": 0, "creation_date": 1540282578, "post_id": 52944136, "comment_id": 92796492, "body": "I&#39;ve tried to wait for more data to be available in the BufferedInputStream using the <code>.available()</code> methode it provides but even after waiting for 30 seconds not more data arrived (I assume okhttp just dosen&#39;t download more data before you read some?) But I&#39;ll try the <code>Files.copy</code> thing :)"}], "tags": [], "owner": {"reputation": 95690, "user_id": 984823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z2KYN.jpg?s=128&g=1", "display_name": "Joop Eggen", "link": "https://stackoverflow.com/users/984823/joop-eggen"}, "is_accepted": false, "score": 0, "last_activity_date": 1540282554, "last_edit_date": 1540282554, "creation_date": 1540282162, "answer_id": 52944136, "question_id": 52943766, "link": "https://stackoverflow.com/questions/52943766/how-can-i-more-efficently-download-large-files-over-http/52944136#52944136", "title": "How can I more efficently download large files over http?", "body": "<p>One could do away with the BufferedInputStream. Or as its default buffer size in Oracle's java is 8192, use a larger ByteArray, say 4096.</p>\n\n<p>However best would be to either use java.nio or try Files.copy:</p>\n\n<pre><code>Files.copy(is, file.toPath());\n</code></pre>\n\n<p>This removes about 12 lines of code.</p>\n\n<p>An other way is to send the request with a header to deflate <strong>gzip</strong> compression <code>Accept-Encoding: gzip</code>, so the transmission takes less time. In the response here then possibly wrap <code>is</code> in a <code>new GZipInputStream(is)</code> - when the response header <code>Content-Encoding: gzip</code> is given. Or if feasible store the file compressed with an addition ending <code>.gz</code>; <code>mybiography.md</code> as <code>mybiography.md.gz</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 846, "user_id": 4284268, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/30b644609ddad0c9648857d5c04cdb3b?s=128&d=identicon&r=PG&f=1", "display_name": "usbpc102", "link": "https://stackoverflow.com/users/4284268/usbpc102"}, "edited": false, "score": 0, "creation_date": 1540283099, "post_id": 52944313, "comment_id": 92796780, "body": "Thanks this looks promising, I&#39;ll have to look if kotlin works well java 11."}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 846, "user_id": 4284268, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/30b644609ddad0c9648857d5c04cdb3b?s=128&d=identicon&r=PG&f=1", "display_name": "usbpc102", "link": "https://stackoverflow.com/users/4284268/usbpc102"}, "edited": false, "score": 0, "creation_date": 1540283433, "post_id": 52944313, "comment_id": 92796983, "body": "You&#39;ll find that Kotlin has no issues interoperating with Java 11. <a href=\"https://www.reddit.com/r/Kotlin/comments/90cqno/any_news_on_java_11_support/\" rel=\"nofollow noreferrer\">reddit.com/r/Kotlin/comments/90cqno/any_news_on_java_11_supp&zwnj;&#8203;ort</a>"}, {"owner": {"reputation": 846, "user_id": 4284268, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/30b644609ddad0c9648857d5c04cdb3b?s=128&d=identicon&r=PG&f=1", "display_name": "usbpc102", "link": "https://stackoverflow.com/users/4284268/usbpc102"}, "edited": false, "score": 1, "creation_date": 1540288337, "post_id": 52944313, "comment_id": 92800251, "body": "Looking through the documentation of the Java 11 HttpClient it looks to be exactly what I want, I&#39;ll implement it later today and update your answer with a specific code example then, assuming I don&#39;t hit unexpected probelms. Thanks a lot!"}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": true, "score": 1, "last_activity_date": 1540301925, "last_edit_date": 1540301925, "creation_date": 1540282867, "answer_id": 52944313, "question_id": 52943766, "link": "https://stackoverflow.com/questions/52943766/how-can-i-more-efficently-download-large-files-over-http/52944313#52944313", "title": "How can I more efficently download large files over http?", "body": "<p>As of version 11, Java has a built-in <a href=\"https://openjdk.java.net/groups/net/httpclient/intro.html\" rel=\"nofollow noreferrer\">HttpClient</a> which implements</p>\n\n<blockquote>\n  <p>asynchronous streams of data with non-blocking back pressure</p>\n</blockquote>\n\n<p>and that's what you need if you want your code to run only when there's data to process.</p>\n\n<p>If you can afford to upgrade to Java 11, you'll be able to solve your problem out of the box, using the <a href=\"https://download.java.net/java/early_access/jdk11/docs/api/java.net.http/java/net/http/HttpResponse.BodyHandlers.html#ofFile(java.nio.file.Path,java.nio.file.OpenOption...)\" rel=\"nofollow noreferrer\">HttpResponse.BodyHandlers.ofFile</a> body handler. You won't have to implement any data transfer logic on your own.</p>\n\n<p>Kotlin example:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {    \n    val client = HttpClient.newHttpClient()\n\n    val request = HttpRequest.newBuilder()\n            .uri(URI.create(\"https://www.google.com\"))\n            .GET()\n            .build()\n\n    println(\"Starting download...\")\n    client.send(request, HttpResponse.BodyHandlers.ofFile(Paths.get(\"google.html\")))\n    println(\"Done with download.\")\n}\n</code></pre>\n"}], "owner": {"reputation": 846, "user_id": 4284268, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/30b644609ddad0c9648857d5c04cdb3b?s=128&d=identicon&r=PG&f=1", "display_name": "usbpc102", "link": "https://stackoverflow.com/users/4284268/usbpc102"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1906, "favorite_count": 1, "accepted_answer_id": 52944313, "answer_count": 2, "score": 2, "last_activity_date": 1540301925, "creation_date": 1540280859, "last_edit_date": 1540281837, "question_id": 52943766, "link": "https://stackoverflow.com/questions/52943766/how-can-i-more-efficently-download-large-files-over-http", "title": "How can I more efficently download large files over http?", "body": "<p>I'm trying to download large files (&lt;1GB) in Kotlin since I already knew I'm using okhttp and pretty much followed just used the answer from <a href=\"https://stackoverflow.com/questions/25893030/download-binary-file-from-okhttp\">this question</a>. Except that I'm using Kotlin instead of java, so the syntax is slightly diffrent.</p>\n\n<pre><code>val client = OkHttpClient()\nval request = Request.Builder().url(urlString).build()\nval response = client.newCall(request).execute()\n\nval is = response.body().byteStream()\n\nval input = BufferedInputStream(is)\nval output = FileOutputStream(file)\n\nval data = ByteArray(1024)\nval total = 0L\nval count : Int\ndo {\n    count = input.read(data)\n    total += count\n    output.write(data, 0, count)\n} while (count != -1)\n\noutput.flush()\noutput.close()\ninput.close()\n</code></pre>\n\n<p>That works in that it downloads the file without using too much memory but it seems needlessly ineffective in that it constantly tries to write more data without knowing if any new data arrived.\nThat also seems confirmed with my own tests while running this on a very resource limited VM as it seems to use more CPU while getting a lower download speed then a comparable script in python, and of cause using <code>wget</code>.</p>\n\n<p>What I'm wondering if there is a way where I can give something a callback that gets called if x bytes are available or if it's the end of the file so I don't have to constantly try and get more data without knowing if there is any.</p>\n\n<p>Edit: \nIf it's not possible with okhttp I don't have a problem using something else, it's just that it was the http library I'm used to.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 7, "creation_date": 1540279987, "post_id": 52943389, "comment_id": 92795188, "body": "The <code>times</code> function is a function on <code>Int</code>, so it actually has 2 parameters. The receiver <code>Int</code> that it&#39;s called on, and the <code>other</code> parameter."}, {"owner": {"reputation": 6434, "user_id": 539599, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6iB0U.jpg?s=128&g=1", "display_name": "Raphael", "link": "https://stackoverflow.com/users/539599/raphael"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1551257620, "post_id": 52943389, "comment_id": 96570155, "body": "@marstran\tMake an answer?"}], "answers": [{"tags": [], "owner": {"reputation": 465, "user_id": 9269337, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wGWB16L6hdk/AAAAAAAAAAI/AAAAAAAAMJU/817P8SAxQFU/photo.jpg?sz=128", "display_name": "Carson Graham", "link": "https://stackoverflow.com/users/9269337/carson-graham"}, "is_accepted": false, "score": 0, "last_activity_date": 1593321571, "creation_date": 1593321571, "answer_id": 62618534, "question_id": 52943389, "link": "https://stackoverflow.com/questions/52943389/confused-by-the-parameters-of-higher-order-functions-in-kotlin/62618534#62618534", "title": "Confused by the parameters of higher order functions in Kotlin", "body": "<pre><code>public operator fun times(other: Int): Int\n</code></pre>\n<p>(or more specifically, <code>::times</code>) is actually of type <code>Int.(Int) -&gt; Int</code>, which is the same as <code>(Int, Int) -&gt; Int</code>. That allows for both <code>::times</code> and <code>::operator</code> to be used with <code>fold</code>.</p>\n"}], "owner": {"reputation": 555, "user_id": 964220, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/49f9e87148a1e74ccc4f7a3bcc4baddf?s=128&d=identicon&r=PG", "display_name": "Jiaqi Liu", "link": "https://stackoverflow.com/users/964220/jiaqi-liu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 145, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1593321571, "creation_date": 1540279630, "question_id": 52943389, "link": "https://stackoverflow.com/questions/52943389/confused-by-the-parameters-of-higher-order-functions-in-kotlin", "title": "Confused by the parameters of higher order functions in Kotlin", "body": "<p>In Kotlin, I write the following code, which calls the <code>fold</code> function.</p>\n\n<pre><code>fun operation(acc: Int, next: Int): Int {\n    return acc * next\n}\nval items = listOf(1, 2, 3, 4, 5)\nprintln(items.fold(1, ::operation))\n</code></pre>\n\n<p>In the 5th line of the above code, the <code>fold</code> function uses the <code>operation</code> function. </p>\n\n<p>This is reasonable because the <code>fold</code> function is declared to accept a function reference or lambda that takes exactly TWO parameters(3rd line of the following <code>fold</code> implementation from the Kotlin stdlib <code>_Collections.kt</code>)</p>\n\n<pre><code>public inline fun &lt;T, R&gt; Iterable&lt;T&gt;.fold(\n        initial: R, \n        operation: (acc: R, T) -&gt; R\n): R {\n    var accumulator = initial\n    for (element in this) accumulator = operation(accumulator, element)\n    return accumulator\n}\n</code></pre>\n\n<p>What confuses me is that the <code>fold</code> function can also be fed with a one-parameter function <code>Int::times</code> like below.</p>\n\n<pre><code>val items = listOf(1, 2, 3, 4, 5)\nprintln(items.fold(1, Int::times))\n</code></pre>\n\n<p>AFAIK, <code>Int::times</code> is declared to be a one-parameter member function as below:</p>\n\n<pre><code>/** Multiplies this value by the other value. */\npublic operator fun times(other: Int): Int\n</code></pre>\n\n<p>I don't quite understand the contradiction. Does it have anything to do with the keyword <code>operator</code>?</p>\n"}, {"tags": ["android", "kotlin", "proximity", "estimote", "android-ibeacon"], "answers": [{"tags": [], "owner": {"reputation": 2079, "user_id": 1900855, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/15f65a8aff68da2532f4558c1de94e1b?s=128&d=identicon&r=PG", "display_name": "heypiotr", "link": "https://stackoverflow.com/users/1900855/heypiotr"}, "is_accepted": true, "score": 0, "last_activity_date": 1540383044, "creation_date": 1540383044, "answer_id": 52968682, "question_id": 52942104, "link": "https://stackoverflow.com/questions/52942104/detect-individual-beacon-using-proximity-sdk/52968682#52968682", "title": "Detect individual beacon using proximity SDK", "body": "<p>You can do that with the <a href=\"https://estimote.github.io/Android-Proximity-SDK/com.estimote.proximity_sdk.api/-proximity-zone-context/index.html\" rel=\"nofollow noreferrer\"><code>ProximityZoneContext</code></a> object that's being passed to the <code>onEnter</code>/<code>onExit</code> actions:</p>\n\n<pre><code>val proximityZone = ProximityZoneBuilder()\n            .forTag(\"my-beacons\")\n            .inNearRange()\n            .onEnter {\n                Log.i(TAG, \"onEnter: ${it.deviceId}\")\n            }\n            .build()\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 10424334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d6b4cdf6b3dc89306684cd1da6d461d?s=128&d=identicon&r=PG&f=1", "display_name": "Nikmaniac", "link": "https://stackoverflow.com/users/10424334/nikmaniac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 52968682, "answer_count": 1, "score": 0, "last_activity_date": 1540383044, "creation_date": 1540274626, "last_edit_date": 1540287093, "question_id": 52942104, "link": "https://stackoverflow.com/questions/52942104/detect-individual-beacon-using-proximity-sdk", "title": "Detect individual beacon using proximity SDK", "body": "<p>I have used <a href=\"https://github.com/Estimote/Android-Proximity-SDK/tree/master/example/AndroidThingsApp\" rel=\"nofollow noreferrer\">this example</a> to detect beacons. In this example, Is it possible to detect which beacon is triggering the action?</p>\n"}, {"tags": ["android", "kotlin", "android-mediaplayer"], "answers": [{"tags": [], "owner": {"reputation": 489, "user_id": 2797748, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/onUVm.jpg?s=128&g=1", "display_name": "Tungken", "link": "https://stackoverflow.com/users/2797748/tungken"}, "is_accepted": false, "score": 1, "last_activity_date": 1540270124, "creation_date": 1540270124, "answer_id": 52941365, "question_id": 52941061, "link": "https://stackoverflow.com/questions/52941061/how-to-receive-notifications-every-time-a-media-session-is-opened-changed-closed/52941365#52941365", "title": "How to receive notifications every time a media session is opened/changed/closed in Android?", "body": "<p>you need register a callback using </p>\n\n<blockquote>\n  <p>MediaControllerCompat</p>\n</blockquote>\n\n<p>and override below method to capture state like play, pause, resume</p>\n\n<blockquote>\n  <p>onPlaybackStateChanged</p>\n</blockquote>\n\n<p>if you need more information to receiving updates on from the session please visit below link:\n<a href=\"https://developer.android.com/reference/android/support/v4/media/session/MediaControllerCompat.Callback\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/support/v4/media/session/MediaControllerCompat.Callback</a></p>\n"}], "owner": {"reputation": 1271, "user_id": 3773232, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/82fcc37b8b11f63638093d2527f9604a?s=128&d=identicon&r=PG", "display_name": "Miguel", "link": "https://stackoverflow.com/users/3773232/miguel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 234, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1540270124, "creation_date": 1540267856, "last_edit_date": 1540268022, "question_id": 52941061, "link": "https://stackoverflow.com/questions/52941061/how-to-receive-notifications-every-time-a-media-session-is-opened-changed-closed", "title": "How to receive notifications every time a media session is opened/changed/closed in Android?", "body": "<p>How can I receive notifications in my app every time a media session is opened/changed/closed with the MediaSession API in Android and in other apps.</p>\n\n<p>In the logcat, I can see how these events are fired but I don't have any idea of how can I listen for them inside my app:</p>\n\n<pre><code>... D/vol.MediaSessions: onPlaybackStateChanged com.spotify.music STATE_PLAYING PlaybackState {state=3, position=421...\n\n... D/vol.MediaSessions: onPlaybackStateChanged com.google.android.youtube STATE_PLAYING PlaybackState ...\n</code></pre>\n"}, {"tags": ["unit-testing", "spring-boot", "junit", "kotlin", "mockito"], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 3458402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d6a028e023eec85dc816733ae0323c?s=128&d=identicon&r=PG&f=1", "display_name": "Avv", "link": "https://stackoverflow.com/users/3458402/avv"}, "edited": false, "score": 0, "creation_date": 1540449506, "post_id": 52943920, "comment_id": 92871461, "body": "Thanks. I&#39;ve created another class but still its not working as expected. I&#39;ve edited the content above. Sorry but I&#39;m quite beginner in both kotlin and spring-boot."}, {"owner": {"reputation": 665, "user_id": 2219787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a55bc3361868c44c9165241a5e7011d4?s=128&d=identicon&r=PG", "display_name": "Michi Gysel", "link": "https://stackoverflow.com/users/2219787/michi-gysel"}, "reply_to_user": {"reputation": 313, "user_id": 3458402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d6a028e023eec85dc816733ae0323c?s=128&d=identicon&r=PG&f=1", "display_name": "Avv", "link": "https://stackoverflow.com/users/3458402/avv"}, "edited": false, "score": 0, "creation_date": 1540452278, "post_id": 52943920, "comment_id": 92872883, "body": "I quickly coded the scenario myself and attached the running code in my answer."}], "tags": [], "owner": {"reputation": 665, "user_id": 2219787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a55bc3361868c44c9165241a5e7011d4?s=128&d=identicon&r=PG", "display_name": "Michi Gysel", "link": "https://stackoverflow.com/users/2219787/michi-gysel"}, "is_accepted": false, "score": 5, "last_activity_date": 1611150101, "last_edit_date": 1611150101, "creation_date": 1540281415, "answer_id": 52943920, "question_id": 52940334, "link": "https://stackoverflow.com/questions/52940334/unit-test-rest-controller-in-kotlin-spring-boot/52943920#52943920", "title": "Unit test rest controller in kotlin + Spring boot", "body": "<p>From looking at your code snippets I would guess that you're not actually using the mocked Controller instance in your tests. The controller is instantiated by the Spring Boot test runner and not using your mock instance.</p>\n<p>I would recommend to extract the <code>isMaintenanceFileExist</code> method into a separate bean and then mock it using <code>@MockBean</code>.</p>\n<p><strong>Controller and Util Bean</strong></p>\n<pre><code>@RestController\nclass MyController(@Autowired private val utils: Utils) {\n\n    @PostMapping(&quot;/post&quot;)\n    fun registerByMail(@RequestBody data: String): ResponseEntity&lt;Any&gt; {\n\n        if (utils.isMaintenanceFileExist(&quot;maintenanceFilePath&quot;)) {\n            println(&quot;-------- Maintenance file exist. Exiting. --------&quot;)\n            return ResponseEntity.badRequest().body(&quot;error&quot;)\n        }\n        return ResponseEntity.ok(&quot;ok&quot;)\n    }\n\n}\n\n@Component\nclass Utils {\n    fun isMaintenanceFileExist(maintenanceFile: String) = File(maintenanceFile).exists()\n}\n</code></pre>\n<p><strong>Test Class</strong></p>\n<pre><code>@WebMvcTest(MyController::class)\nclass DemoApplicationTests {\n\n    @MockBean\n    private lateinit var utils: Utils\n\n    @Autowired\n    private lateinit var mvc: MockMvc\n\n    @Test\n    fun testMaintenanceMode() {\n        BDDMockito.given(utils.isMaintenanceFileExist(&quot;maintenanceFilePath&quot;))\n                .willReturn(true)\n\n        val body = &quot;test&quot;\n\n        mvc.perform(MockMvcRequestBuilders.post(&quot;/post&quot;)\n                .contentType(MediaType.TEXT_PLAIN)\n                .content(body))\n                .andExpect(MockMvcResultMatchers.status().isBadRequest)\n    }\n\n}\n</code></pre>\n<p>See <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/boot-features-testing.html\" rel=\"nofollow noreferrer\">chapter 44.3.7</a>.</p>\n"}], "owner": {"reputation": 313, "user_id": 3458402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6d6a028e023eec85dc816733ae0323c?s=128&d=identicon&r=PG&f=1", "display_name": "Avv", "link": "https://stackoverflow.com/users/3458402/avv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5686, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1611150101, "creation_date": 1540261870, "last_edit_date": 1540449458, "question_id": 52940334, "link": "https://stackoverflow.com/questions/52940334/unit-test-rest-controller-in-kotlin-spring-boot", "title": "Unit test rest controller in kotlin + Spring boot", "body": "<p>Edit: I've created another class \"Utils\" and moved function to that class.</p>\n\n<pre><code>class Utils {\nfun isMaintenanceFileExist(maintenanceFile: String) : Boolean {\n    /** method to check maintenance file, return True if found else False. */\n    return File(maintenanceFile).exists()\n}\n}\n</code></pre>\n\n<p>I'm testing post API and mocking a method like below:</p>\n\n<pre><code>@Test\nfun testMaintenanceMode() {\n    val mockUtil = Mockito.mock(Utils::class.java)\n    Mockito.`when`(mockUtil.isMaintenanceFileExist(\"maintenanceFilePath\"))\n            .thenReturn(true)\n\n    // Request body\n    val body = \"authId=123&amp;email=a@mail.com&amp;confirmationKey=86b498cb7a94a3555bc6ee1041a1c90a\"\n\n    // When maintenance mode is on\n    mvc.perform(MockMvcRequestBuilders.post(\"/post\")\n            .contentType(MediaType.APPLICATION_FORM_URLENCODED_VALUE)\n            .content(body))\n            .andExpect(MockMvcResultMatchers.status().isBadRequest)\n            .andReturn()\n    }\n</code></pre>\n\n<p>But I'm not getting expected results.</p>\n\n<p>Controller code:</p>\n\n<pre><code>{\nutilObj = Utils()\n...\n@PostMapping(\"/post\")\nfun registerByMail(@Valid data: RequestData) : ResponseEntity&lt;Any&gt;\n{\n\n    // check for maintenance mode, if True return (error code : 9001)\n    if(utilObj.isMaintenanceFileExist(\"maintenanceFilePath\")) {\n        println(\"-------- Maintenance file exist. Exiting. --------\")\n        var error = ErrorResponse(Response(ResponseCode.MAINTENANCE,\n                ResponseCode.MAINTENANCE.toString()))\n        return ResponseEntity.badRequest().body(error)\n}\n...\n}\n</code></pre>\n\n<p>I want to return true from isMaintenanceFileExist() method in test and want to check for badRequest.\nPlease guide how to achieve this.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 71380, "user_id": 3558960, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a98b52149d419c2aad558befe51c8cc5?s=128&d=identicon&r=PG", "display_name": "Robby Cornelissen", "link": "https://stackoverflow.com/users/3558960/robby-cornelissen"}, "edited": false, "score": 8, "creation_date": 1540261666, "post_id": 52940272, "comment_id": 92789410, "body": "Code works fine as is and prints out <code>4</code>."}, {"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "edited": false, "score": 0, "creation_date": 1540266740, "post_id": 52940272, "comment_id": 92790409, "body": "The code has no problem. How about uploading the IDE screenshot with NPE."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1540276905, "post_id": 52940272, "comment_id": 92793583, "body": "If you have an exception it might be worth adding the stacktrace to the question as well. Usually this gives you more information about the why the error happend."}, {"owner": {"reputation": 321, "user_id": 2023312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7d12ce47724a58391b1ba3cfb72ccaa?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/2023312/tom"}, "edited": false, "score": 0, "creation_date": 1540318255, "post_id": 52940272, "comment_id": 92818368, "body": "I added a bunch of info about the version of Kotlin and the exact error we&#39;re getting (I&#39;m John H&#39;s professor)."}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1540360070, "post_id": 52940272, "comment_id": 92830251, "body": "Just out of curiosity change that line to <code>var ary = Array(5) {x -&gt; x + 2}</code> and see what happens."}, {"owner": {"reputation": 11, "user_id": 10543599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/756d30dc742da961facbcef3cbd9f70a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh H", "link": "https://stackoverflow.com/users/10543599/josh-h"}, "edited": false, "score": 1, "creation_date": 1540365600, "post_id": 52940272, "comment_id": 92832797, "body": "I tried that, got the exact same error"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1542476382, "post_id": 52940272, "comment_id": 93585150, "body": "Same problem as <a href=\"https://stackoverflow.com/questions/53233325/kotlin-2d-array-throws-nullpointerexception-when-using-command-line-compiler-on\" title=\"kotlin 2d array throws nullpointerexception when using command line compiler on\">stackoverflow.com/questions/53233325/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 5, "last_activity_date": 1542621794, "creation_date": 1542621794, "answer_id": 53372232, "question_id": 52940272, "link": "https://stackoverflow.com/questions/52940272/kotlin-array-initialization-throws-null-pointer-exception/53372232#53372232", "title": "Kotlin array initialization throws null pointer exception", "body": "<p>This is <a href=\"https://youtrack.jetbrains.com/issue/KT-28285\" rel=\"noreferrer\">a bug</a> in the AOT-compiled (OS-dependent) version of the Kotlin compiler. Please see the issue for updates.</p>\n"}], "owner": {"reputation": 11, "user_id": 10543599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/756d30dc742da961facbcef3cbd9f70a?s=128&d=identicon&r=PG&f=1", "display_name": "Josh H", "link": "https://stackoverflow.com/users/10543599/josh-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 522, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1542621794, "creation_date": 1540261424, "last_edit_date": 1540319415, "question_id": 52940272, "link": "https://stackoverflow.com/questions/52940272/kotlin-array-initialization-throws-null-pointer-exception", "title": "Kotlin array initialization throws null pointer exception", "body": "<p>I'm a total beginner with kotlin, and I'm trying to initialize an array using the constructor that accepts a size and a function. This is what I have:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var ary = Array(5, {x -&gt; x + 2})\n    println(ary[2])\n}\n</code></pre>\n\n<p>But it's throwing a null pointer exception on the first line. Why is this happening?</p>\n\n<hr>\n\n<p>EDIT: I'm the original poster's professor, and we're trying to get this working together. Here's some more info:</p>\n\n<p>I've edit the code above to be the full program. The version of Kotlin we have installed on our server is:</p>\n\n<pre><code>$ kotlinc -version\ninfo: kotlinc-jvm 1.2.70 (JRE 1.8.0_144-jdk_2017_08_24_20_46-b00)\n</code></pre>\n\n<p>When I try to compile and run from the command line I get:</p>\n\n<pre><code>$ kotlinc example.kt -include-runtime -d example.jar\n$ java -jar example.jar \nException in thread \"main\" java.lang.NullPointerException\n    at ExampleKt.main(example.kt:2)\n</code></pre>\n\n<p>I'll note that this code compiles just fine for me on my laptop, which has an older version of Kotlin.</p>\n"}, {"tags": ["generics", "kotlin", "nullable"], "answers": [{"comments": [{"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 0, "creation_date": 1540280547, "post_id": 52941080, "comment_id": 92795473, "body": "The solutions with <code>B</code> will be using unchecked casts unless they&#39;re inline an reified."}], "tags": [], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "is_accepted": false, "score": 1, "last_activity_date": 1540268367, "last_edit_date": 1540268367, "creation_date": 1540268006, "answer_id": 52941080, "question_id": 52940150, "link": "https://stackoverflow.com/questions/52940150/how-to-define-generic-argument-that-extends-nullable-but-not-nullable-itself/52941080#52941080", "title": "How to define generic argument that extends nullable but not nullable itself", "body": "<p>I don't know what exactly what you are trying to do but</p>\n\n<p>(nullable A) -> (not null A) function</p>\n\n<pre><code>class nullableToNonnullable&lt;A: Any&gt; {\n    fun toNonNull(a: A?): A\n}\n</code></pre>\n\n<p>(nullable A) -> (not null subtype of A) function</p>\n\n<pre><code>class nullableToNonnullable&lt;A: Any, B : A&gt; {\n    fun toNonNull(a: A?): B\n}\n</code></pre>\n\n<p>Here, the type parameter <code>A</code> in the class should be given as not null, although the function can input nullable parameters.</p>\n\n<p>I don't think you can restrict one of the class type parameters to be nullable (must not be not null), and one of them to be both a subtype of the former and not null in Kotlin.</p>\n\n<p>And I think you don't need a class in the case in your example.</p>\n\n<pre><code>fun &lt;A : Any&gt; toNonNull(a: A?): A\n</code></pre>\n\n<p>and</p>\n\n<pre><code>fun &lt;A : Any, B : A&gt; toNonNull(a: A?): B\n</code></pre>\n"}], "owner": {"reputation": 5491, "user_id": 1439771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/egtxg.png?s=128&g=1", "display_name": "SimY4", "link": "https://stackoverflow.com/users/1439771/simy4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1540268367, "creation_date": 1540260552, "question_id": 52940150, "link": "https://stackoverflow.com/questions/52940150/how-to-define-generic-argument-that-extends-nullable-but-not-nullable-itself", "title": "How to define generic argument that extends nullable but not nullable itself", "body": "<p>In Kotlin is there a way to define a non-nullable generic argument that is a subtype of nullable type?\nI thought that I can do something like</p>\n\n<pre><code>class nullableToNonnullable&lt;A: Any?, B&gt; where B: A, B: Any {\n    fun toNonNull(a: A): B\n}\n</code></pre>\n\n<p>but I'm getting compile time error:</p>\n\n<p>Type parameter cannot have any other bounds if it's bounded by another type parameter</p>\n\n<p>Right now I can only work around it by using a wrapper type, something like <code>Option</code></p>\n\n<pre><code>class nullableToNonnullable&lt;A: Any&gt; {\n    fun toNonNull(a: Option&lt;A&gt;): A\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 4991, "user_id": 1498586, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/wcmTY.jpg?s=128&g=1", "display_name": "Mahdi", "link": "https://stackoverflow.com/users/1498586/mahdi"}, "edited": false, "score": 0, "creation_date": 1582007818, "post_id": 52940129, "comment_id": 106617420, "body": "Do you find any solution please update me."}], "answers": [{"comments": [{"owner": {"reputation": 810, "user_id": 1617362, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f6500775b60b205df21afaa48da6d6f6?s=128&d=identicon&r=PG", "display_name": "sekitaka", "link": "https://stackoverflow.com/users/1617362/sekitaka"}, "edited": false, "score": 0, "creation_date": 1540368385, "post_id": 52941841, "comment_id": 92834432, "body": "Thanks for your replying. I tried with checking [General -&gt; Annotator] , But It does not work as I expected. This message is shown [No suspicious code found.].   I used Android framework deprecated code (e.g. Activity.MODE_MULTI_PROCESS) in kotlin file.  @yole"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 0, "last_activity_date": 1540273225, "creation_date": 1540273225, "answer_id": 52941841, "question_id": 52940129, "link": "https://stackoverflow.com/questions/52940129/how-to-inspect-kotlin-deprecated-api-usage/52941841#52941841", "title": "How to inspect kotlin deprecated API usage", "body": "<p>Deprecated declarations in Kotlin are reported by the compiler, so there is no separate IDE inspection to detect those. You can run the \"Annotator\" inspection to see all compiler warnings including deprecations.</p>\n"}], "owner": {"reputation": 810, "user_id": 1617362, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f6500775b60b205df21afaa48da6d6f6?s=128&d=identicon&r=PG", "display_name": "sekitaka", "link": "https://stackoverflow.com/users/1617362/sekitaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 323, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1540273225, "creation_date": 1540260368, "question_id": 52940129, "link": "https://stackoverflow.com/questions/52940129/how-to-inspect-kotlin-deprecated-api-usage", "title": "How to inspect kotlin deprecated API usage", "body": "<p>I'm trying to inspect deprecated API usage of kotlin.</p>\n\n<p>I can inspect it of Java by checking Java > Code maturity > Deprecated API usage.</p>\n\n<p>But, in kotlin section there is not the setting.(look following screenshot.)</p>\n\n<p>Any idea?</p>\n\n<p>Thank you.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0EyhE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0EyhE.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["bash", "gradle", "kotlin", "ros", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 1561, "user_id": 1772342, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pvNgt.jpg?s=128&g=1", "display_name": "breandan", "link": "https://stackoverflow.com/users/1772342/breandan"}, "edited": false, "score": 0, "creation_date": 1540311738, "post_id": 52944947, "comment_id": 92815162, "body": "Thanks for the helpful answer. If I understand correctly, you\u2019re saying I should parse the contents of the bash script? This seems really messy and prone to failure. Is this a common thing to do in Gradle? I would think there should be a better way to do this..."}, {"owner": {"reputation": 1561, "user_id": 1772342, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pvNgt.jpg?s=128&g=1", "display_name": "breandan", "link": "https://stackoverflow.com/users/1772342/breandan"}, "edited": false, "score": 0, "creation_date": 1540312035, "post_id": 52944947, "comment_id": 92815311, "body": "Also, the bash script does not contain the export statements directly, but rather calls a bunch of external things to configure the environment. So I do not think your solution will work."}], "tags": [], "owner": {"reputation": 9874, "user_id": 4326936, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/71a107e53f14a27c4e83fb0adae2552c?s=128&d=identicon&r=PG&f=1", "display_name": "alijandro", "link": "https://stackoverflow.com/users/4326936/alijandro"}, "is_accepted": false, "score": 5, "last_activity_date": 1540284827, "creation_date": 1540284827, "answer_id": 52944947, "question_id": 52940061, "link": "https://stackoverflow.com/questions/52940061/make-environment-variables-accessible-to-gradle-task/52944947#52944947", "title": "Make environment variables accessible to Gradle task", "body": "<p>It depends how your gradle task <code>myTask</code> use the environment. If it use the environment by <code>System.getenv</code>, you can do use the following step.</p>\n\n<ol>\n<li>parse the bash environment file <code>env.sh</code> and load all variables into <code>Properties</code></li>\n<li>append the environment variables to current process in <code>java.lang.ProcessEnvironment</code> by reflection</li>\n<li>use the injected environment variables in your build task</li>\n</ol>\n\n<p>Below is just roughly an example code copied from Java with minor modification, but it works fine in gradle build task.</p>\n\n<pre><code>task myEnvironInjected &lt;&lt; {\n    println(\"task with injected enviroment\")\n}\n\ntask myBuildTask(dependsOn: myEnvironInjected) &lt;&lt; {\n    def v1 = System.getenv(\"V1\")\n    println(\"my build task running V1=${v1}\")\n}\n\nmyEnvironInjected.doFirst {\n    final Map&lt;String, String&gt; bashEnvMap = new HashMap&lt;&gt;();\n\n    try {\n        // a simple simulation of bash command source env.sh\n        // use it carefully\n        BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream\n                (\"/path/to/env.sh\")));\n\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        BufferedWriter writer = new BufferedWriter(new OutputStreamWriter(outputStream));\n\n        String line;\n        while ((line = reader.readLine()) != null) {\n            if (line.length() &gt; 0 &amp;&amp; line.startsWith(\"export \")) {\n                String newLine = line.trim().replaceFirst(\"^export \", \"\");\n                // remove single or double quote from the value if it has\n                int quoteIndex = newLine.indexOf('=')+1;\n                if (quoteIndex &lt; newLine.length() &amp;&amp; (newLine.charAt(quoteIndex) == ('\"' as char) ||\n                        newLine.charAt(quoteIndex) == ('\\'' as char))) {\n                    newLine = newLine.substring(0, quoteIndex) + newLine.substring(quoteIndex+1, newLine.length()-1);\n                }\n                writer.write(newLine);\n                writer.newLine();\n            }\n        }\n        writer.flush();\n        writer.close();\n\n        InputStream inputStream = new ByteArrayInputStream(outputStream.toByteArray());\n        Properties properties = new Properties();\n        properties.load(inputStream);\n\n        for (Map.Entry&lt;Object, Object&gt; entry : properties.entrySet()) {\n            bashEnvMap.put(((String) entry.getKey()), ((String) entry.getValue()));\n        }\n\n        outputStream.close();\n        inputStream.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    for (Class&lt;?&gt; aClass : Collections.class.getDeclaredClasses()) {\n        if (\"java.util.Collections\\$UnmodifiableMap\".equals(aClass.getName())) {\n            try {\n                Field mapField = aClass.getDeclaredField(\"m\");\n                mapField.setAccessible(true);\n                Object mapObject = mapField.get(System.getenv());\n                Map&lt;String, String&gt; environMap = ((Map&lt;String, String&gt;) mapObject);\n                environMap.putAll(bashEnvMap);\n            } catch (NoSuchFieldException e) {\n                e.printStackTrace();\n            } catch (IllegalAccessException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    for (Map.Entry&lt;String, String&gt; envEntry : System.getenv().entrySet()) {\n        System.out.println(envEntry.getKey() + \"=\" + envEntry.getValue());\n    }\n}\n</code></pre>\n\n<p>My test file <code>env.sh</code> looks like this.</p>\n\n<pre><code>export V1=\"v1 vvv\"\nexport V2='v 2222'\nexport V3=v33333\n</code></pre>\n\n<p>If your build task use the environment variables not by <code>System.getenv</code>, your hacking method might be the best solution.</p>\n\n<pre><code>task myBuildTaskWithSourceEnv(type: Exec) {\n    commandLine '/bin/bash'\n    setArgs(['-c', 'source ../env.sh;set;../gradlew :app:assembleDebug'])\n}\n</code></pre>\n"}], "owner": {"reputation": 1561, "user_id": 1772342, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/pvNgt.jpg?s=128&g=1", "display_name": "breandan", "link": "https://stackoverflow.com/users/1772342/breandan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2498, "favorite_count": 2, "answer_count": 1, "score": 9, "last_activity_date": 1540696123, "creation_date": 1540259794, "last_edit_date": 1540696123, "question_id": 52940061, "link": "https://stackoverflow.com/questions/52940061/make-environment-variables-accessible-to-gradle-task", "title": "Make environment variables accessible to Gradle task", "body": "<p>I need to run a Gradle task inside a shell environment, which must be created before the task is launched. Using <code>commandLine</code> or <code>executable</code> is not appropriate, as I need to run the task in the same process as the shell script. Originally, I called the script directly inside <code>gradlew</code>, but later I decided to source it from <code>build.gradle.kts</code> and call subsequent tasks through <code>gradlew</code>:</p>\n\n<pre><code>val setupRosEnv by tasks.creating(Exec::class) {\n    executable = \"bash\"\n\n    args(\"-c\", \"source $rosPath/setup.sh &amp;&amp; source gradlew myTask\")\n}\n</code></pre>\n\n<p>I can build everything by running <code>./gradlew setupRosEnv</code> from the CLI. Besides sourcing the script then running <code>gradlew</code>, is there a way to achieve this using the Gradle API? The current solution seems a bit hacky, and is clunky for other tasks to depend on <code>setupRosEnv</code>, as this will lead to an infinite loop or must be explicitly handled to prevent tasks being run more than once.</p>\n\n<p>As the shell script itself is generated by ROS, it cannot be translated to Gradle or easily parsed.</p>\n"}, {"tags": ["java", "json", "postgresql", "kotlin", "jsonb"], "answers": [{"comments": [{"owner": {"reputation": 321, "user_id": 2736041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2770b5ac595ed09e5ef6a6360616e224?s=128&d=identicon&r=PG", "display_name": "Hasan Sawan", "link": "https://stackoverflow.com/users/2736041/hasan-sawan"}, "edited": false, "score": 0, "creation_date": 1540285371, "post_id": 52942711, "comment_id": 92798263, "body": "Thanks for the answer. Now it builds. But it doesn&#39;t read. Following is the error message <code>nested exception is org.springframework.orm.jpa.JpaSystemException: Could not set field value [[]] value by reflection</code>. the data stored in the field is an Array of String."}, {"owner": {"reputation": 321, "user_id": 2736041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2770b5ac595ed09e5ef6a6360616e224?s=128&d=identicon&r=PG", "display_name": "Hasan Sawan", "link": "https://stackoverflow.com/users/2736041/hasan-sawan"}, "edited": false, "score": 0, "creation_date": 1540287200, "post_id": 52942711, "comment_id": 92799449, "body": "<code>Can not set final javax.json.JsonObject field to org.glassfish.json.JsonArrayBuilderImpl$JsonArrayImpl</code>"}, {"owner": {"reputation": 3600, "user_id": 3841161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acf3ec13097b93112cf97da8cf4e06a9?s=128&d=identicon&r=PG&f=1", "display_name": "coladict", "link": "https://stackoverflow.com/users/3841161/coladict"}, "reply_to_user": {"reputation": 321, "user_id": 2736041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2770b5ac595ed09e5ef6a6360616e224?s=128&d=identicon&r=PG", "display_name": "Hasan Sawan", "link": "https://stackoverflow.com/users/2736041/hasan-sawan"}, "edited": false, "score": 1, "creation_date": 1540287537, "post_id": 52942711, "comment_id": 92799666, "body": "Well, then use <code>javax.json.JsonArray</code>. Also, it shouldn&#39;t be final, because once you create the JsonArray you can&#39;t alter it. And since you&#39;re using this as a workaround for arrays, I would recommend my <a href=\"https://mvnrepository.com/artifact/com.mopano/hibernate-array-contributor\" rel=\"nofollow noreferrer\">array type-contributor</a> instead, which allows you to use string arrays and non-primitive number arrays. That is, unless you need JSON for other reasons."}, {"owner": {"reputation": 3600, "user_id": 3841161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acf3ec13097b93112cf97da8cf4e06a9?s=128&d=identicon&r=PG&f=1", "display_name": "coladict", "link": "https://stackoverflow.com/users/3841161/coladict"}, "reply_to_user": {"reputation": 321, "user_id": 2736041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2770b5ac595ed09e5ef6a6360616e224?s=128&d=identicon&r=PG", "display_name": "Hasan Sawan", "link": "https://stackoverflow.com/users/2736041/hasan-sawan"}, "edited": false, "score": 0, "creation_date": 1540288454, "post_id": 52942711, "comment_id": 92800332, "body": "Oh, and that package covers the default JVM classes in <code>java.lang.*</code> and <code>java.time.*</code>. However it is extensible, if you follow the example of the <code>with-arrays</code> branch of the json contributor <a href=\"https://github.com/mopano/hibernate-json-type/blob/with-arrays/README.md\" rel=\"nofollow noreferrer\">github.com/mopano/hibernate-json-type/blob/with-arrays/&hellip;</a>"}, {"owner": {"reputation": 321, "user_id": 2736041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2770b5ac595ed09e5ef6a6360616e224?s=128&d=identicon&r=PG", "display_name": "Hasan Sawan", "link": "https://stackoverflow.com/users/2736041/hasan-sawan"}, "edited": false, "score": 0, "creation_date": 1540288709, "post_id": 52942711, "comment_id": 92800491, "body": "JsonArray works perfectly. I tried that before but did not have the correct dependency. Thanks a lot :)"}], "tags": [], "owner": {"reputation": 3600, "user_id": 3841161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acf3ec13097b93112cf97da8cf4e06a9?s=128&d=identicon&r=PG&f=1", "display_name": "coladict", "link": "https://stackoverflow.com/users/3841161/coladict"}, "is_accepted": true, "score": 2, "last_activity_date": 1540278033, "last_edit_date": 1540278033, "creation_date": 1540277067, "answer_id": 52942711, "question_id": 52939431, "link": "https://stackoverflow.com/questions/52939431/how-to-read-jsonb-from-postgres-using-the-jsonb-library/52942711#52942711", "title": "How to read jsonb from Postgres using the Jsonb library", "body": "<p>Firstly the PostgreSQL <code>jsonb</code> type does not correspond to the JSR-367 Java API you're using. That one serialization tooling. The one you need is JSR-353 <a href=\"https://mvnrepository.com/artifact/javax.json/javax.json-api\" rel=\"nofollow noreferrer\">javax.json:javax.json-api</a>, the reference implementation of which is <a href=\"https://mvnrepository.com/artifact/org.glassfish/javax.json\" rel=\"nofollow noreferrer\">org.glassfish:javax.json</a>.</p>\n\n<p>Meaning instead of</p>\n\n<pre><code>val candidates: Jsonb = JsonbBuilder.create()\n</code></pre>\n\n<p>You should use</p>\n\n<pre><code>val candidates: JsonObject = Json.createObjectBuilder().build()\n</code></pre>\n\n<p>And the simplest way to make Hibernate (which the error message reveals you are using) 5.1, 5.2 or 5.3 recognize JSR-353 objects, is to add <a href=\"https://mvnrepository.com/artifact/com.mopano/hibernate-json-contributor\" rel=\"nofollow noreferrer\">this type-contributor library</a> to your project dependencies. Hibernate 5.1 is the minimal required version, where as as of 6.0 (or possibly as early as 5.4) the type system will be redesigned and made incompatible.</p>\n\n<p>Oh, and you won't need the <code>@Type</code> annotation with this.</p>\n"}], "owner": {"reputation": 321, "user_id": 2736041, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2770b5ac595ed09e5ef6a6360616e224?s=128&d=identicon&r=PG", "display_name": "Hasan Sawan", "link": "https://stackoverflow.com/users/2736041/hasan-sawan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1170, "favorite_count": 0, "accepted_answer_id": 52942711, "answer_count": 1, "score": 0, "last_activity_date": 1540278033, "creation_date": 1540254334, "question_id": 52939431, "link": "https://stackoverflow.com/questions/52939431/how-to-read-jsonb-from-postgres-using-the-jsonb-library", "title": "How to read jsonb from Postgres using the Jsonb library", "body": "<p>I am trying to read a jsonb field from a postgre table. I have tried to read it as a Jsonb type using the Jsonb library in the following way:</p>\n\n<pre><code>@Entity\n@Table(name = \"test\")\ndata class Test(\n    @Id\n    val id: UUID = UUID.randomUUID(),\n\n    @Type(type = \"jsonb\")\n    @Column(columnDefinition = \"jsonb\")\n    val candidates: Jsonb = JsonbBuilder.create(),\n\n)\n</code></pre>\n\n<p>But apparently, it doesnt build giving me the following error:</p>\n\n<pre><code>Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.boot.registry.classloading.spi.ClassLoadingException: Unable to load class [jsonb]\n</code></pre>\n\n<p>I have found a few posts and answer. But none of them are apparently using <a href=\"https://mvnrepository.com/artifact/javax.json.bind/javax.json.bind-api/1.0\" rel=\"nofollow noreferrer\">this</a> api </p>\n"}, {"tags": ["kotlin", "kotlin-null-safety"], "answers": [{"comments": [{"owner": {"reputation": 304, "user_id": 925643, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/0c520830d38834cd68b8a1786ee1ccd2?s=128&d=identicon&r=PG", "display_name": "Abhi", "link": "https://stackoverflow.com/users/925643/abhi"}, "edited": false, "score": 0, "creation_date": 1540734165, "post_id": 52938532, "comment_id": 92964679, "body": "Yes I could do this as well. Thanks for the suggestion."}], "tags": [], "owner": {"reputation": 16751, "user_id": 602094, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/725306370a270aec71f052f366496ddb?s=128&d=identicon&r=PG", "display_name": "triad", "link": "https://stackoverflow.com/users/602094/triad"}, "is_accepted": false, "score": 1, "last_activity_date": 1540247063, "creation_date": 1540247063, "answer_id": 52938532, "question_id": 52938480, "link": "https://stackoverflow.com/questions/52938480/how-to-use-null-safety-operator-within-a-when-branch-in-kotlin/52938532#52938532", "title": "How to use null safety operator within a when branch in kotlin?", "body": "<p>That <code>else</code> would catch it, you can also check for <code>null</code> directly in your <code>when</code> block:    </p>\n\n<pre><code>when (value?.toUpperCase()) {\n  ..\n  null -&gt; \"\"\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": true, "score": 1, "last_activity_date": 1540304469, "creation_date": 1540304469, "answer_id": 52951408, "question_id": 52938480, "link": "https://stackoverflow.com/questions/52938480/how-to-use-null-safety-operator-within-a-when-branch-in-kotlin/52951408#52951408", "title": "How to use null safety operator within a when branch in kotlin?", "body": "<p>Yes, it will.</p>\n\n<p>Or at least, it will once you've fixed a syntax error\u2026\u00a0 (The function is defined to return a String, but doesn't return anything.\u00a0 To fix that, either add <code>return</code> before the <code>when</code> \u2014 or make it an expression body, replacing the first <code>{</code> with <code>=</code> and removing the last <code>}</code>.\u00a0 The latter case is simpler for short functions, especially as you can then remove the return type too; but it's less suitable for longer ones.)</p>\n\n<p>The easiest way to check is of course to run it yourself!\u00a0 But yes, after fixing the syntax, it will indeed return an empty string if called with <code>null</code>.</p>\n\n<p>What's going on is that the <code>?.</code> (safe call) operator will bypass the call to <code>toUpperCase()</code> if the LHS is <code>null</code>, and pass the <code>null</code> directly to the <code>when</code>.\u00a0 And since <code>null</code> doesn't equal <code>\"A\"</code> or <code>\"B\"</code>, it falls through to the <code>else</code> branch, which gives the empty string.</p>\n\n<p>As the other answer points out, you can of course check for <code>null</code> explicitly.\u00a0 But Kotlin gives you several tools for handling nulls more concisely (such as the safe-call operator here), so you often don't need to.</p>\n"}], "owner": {"reputation": 304, "user_id": 925643, "user_type": "registered", "accept_rate": 18, "profile_image": "https://www.gravatar.com/avatar/0c520830d38834cd68b8a1786ee1ccd2?s=128&d=identicon&r=PG", "display_name": "Abhi", "link": "https://stackoverflow.com/users/925643/abhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 352, "favorite_count": 0, "accepted_answer_id": 52951408, "answer_count": 2, "score": 0, "last_activity_date": 1540304469, "creation_date": 1540246587, "question_id": 52938480, "link": "https://stackoverflow.com/questions/52938480/how-to-use-null-safety-operator-within-a-when-branch-in-kotlin", "title": "How to use null safety operator within a when branch in kotlin?", "body": "<p>I have written a logic as shown below</p>\n\n<pre><code>fun snippet(value: String?): String {\n    when (value?.toUpperCase()) {\n        \"A\" -&gt; \"A\"\n        \"B\" -&gt; \"B\"\n        else -&gt; \"\"\n    }\n}\n</code></pre>\n\n<p>Will it return <code>\"\"</code> when the value of the variable <code>value</code> is <code>null</code>?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "edited": false, "score": 0, "creation_date": 1540245784, "post_id": 52938259, "comment_id": 92785818, "body": "Better pass the context as parameter :)"}], "answers": [{"comments": [{"owner": {"reputation": 1202, "user_id": 9060113, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6l9hb.png?s=128&g=1", "display_name": "p.alexey", "link": "https://stackoverflow.com/users/9060113/p-alexey"}, "edited": false, "score": 0, "creation_date": 1540245967, "post_id": 52938327, "comment_id": 92785857, "body": "If you mark the <code>context</code> with the <code>@JvmStatic</code> annotation, then from java there will be a similar call <code>App.getContext();</code>"}], "tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": false, "score": 4, "last_activity_date": 1540245561, "creation_date": 1540245561, "answer_id": 52938327, "question_id": 52938259, "link": "https://stackoverflow.com/questions/52938259/how-can-i-access-android-app-resourcesli-e-strings-from-a-static-context-in-k/52938327#52938327", "title": "How can I access Android app resources(li.e. strings) from a static context in Kotlin?", "body": "<p>It's basically the same thing. Kotlin isn't too different from Java. In fact, pasting Java code into a Kotlin file in Android Studio will cause a prompt to appear asking if you want to convert that code. </p>\n\n<p>In any case:</p>\n\n<p>The App class:</p>\n\n<pre><code>class App : Application() {\n    companion object {\n        var context: Context? = null\n    }\n\n    override fun onCreate() {\n        super.onCreate()\n\n        context = this;\n    }\n}\n</code></pre>\n\n<p>Then, from any other class:</p>\n\n<pre><code>val context = App.context\nval someString = context?.resources.getString(R.string.some_string) //context is nullable so \"?\" is needed\n</code></pre>\n\n<p>Remember to add</p>\n\n<pre><code>android:name=\".App\"\n</code></pre>\n\n<p>to the <code>application</code> tag in your AndroidManifest. If App isn't in the root of your package, you'll need to change the value to reflect where it is.</p>\n\n<p>If you need to access it from Java:</p>\n\n<pre><code>App.COMPANION.getContext();\n</code></pre>\n\n<p>Android Studio may complain about Context leakages. However, that shouldn't be accurate, since the Application Context will be there as long as your app is running, and once your app is killed (or stopped) there's not even a JVM running to have a leak.</p>\n"}, {"comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 1, "creation_date": 1540245749, "post_id": 52938345, "comment_id": 92785801, "body": "I don&#39;t think the Application Context can leak. Activity and Service Contexts can, because those are short-lived components, but as soon as the Application is closed, there&#39;s not even a JVM running for it anymore, so the Context gets unset (well voided) and the memory cleared along with the closed JVM."}, {"owner": {"reputation": 1637, "user_id": 5318705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z9XRK.jpg?s=128&g=1", "display_name": "Andrei Vinogradov", "link": "https://stackoverflow.com/users/5318705/andrei-vinogradov"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1540245887, "post_id": 52938345, "comment_id": 92785838, "body": "I dont know definitely about which Context author is asking. So I&#39;d like to warn him anyway."}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1540246536, "post_id": 52938345, "comment_id": 92786005, "body": "You do definitely know, because you&#39;re assigning it from App, which is the Application Context."}, {"owner": {"reputation": 1637, "user_id": 5318705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z9XRK.jpg?s=128&g=1", "display_name": "Andrei Vinogradov", "link": "https://stackoverflow.com/users/5318705/andrei-vinogradov"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1540246673, "post_id": 52938345, "comment_id": 92786044, "body": "I provided a better sample (with app context). Author may do it differently."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1540247351, "post_id": 52938345, "comment_id": 92786240, "body": "Storing application context is just fine."}], "tags": [], "owner": {"reputation": 1637, "user_id": 5318705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z9XRK.jpg?s=128&g=1", "display_name": "Andrei Vinogradov", "link": "https://stackoverflow.com/users/5318705/andrei-vinogradov"}, "is_accepted": false, "score": 0, "last_activity_date": 1540245661, "creation_date": 1540245661, "answer_id": 52938345, "question_id": 52938259, "link": "https://stackoverflow.com/questions/52938259/how-can-i-access-android-app-resourcesli-e-strings-from-a-static-context-in-k/52938345#52938345", "title": "How can I access Android app resources(li.e. strings) from a static context in Kotlin?", "body": "<p>You should NEVER make Context static. It's a bad practice and can cause memory leaks and other problems. </p>\n\n<p>By the way in Kotlin static is replaced with \"companion object\". So your code could look like this. And again - do not store context.</p>\n\n<pre><code>class MyApplication: Application {\n\n    override fun onCreate() {\n        super.onCreate()\n        sContext = this\n    }\n\n    companion object {\n        var sContext: Context? = null\n    }\n}\n</code></pre>\n\n<p>But BETTER way is to store static resources you want, but not context.</p>\n"}], "owner": {"reputation": 175, "user_id": 6686912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7686d7a2cd73904e5ef72ef65ab39f30?s=128&d=identicon&r=PG&f=1", "display_name": "D. Maul", "link": "https://stackoverflow.com/users/6686912/d-maul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1296, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1540245661, "creation_date": 1540245169, "question_id": 52938259, "link": "https://stackoverflow.com/questions/52938259/how-can-i-access-android-app-resourcesli-e-strings-from-a-static-context-in-k", "title": "How can I access Android app resources(li.e. strings) from a static context in Kotlin?", "body": "<p>I want to read strings from an xml file in a source file with no context. Ideally I would like to do something like this: <a href=\"https://stackoverflow.com/questions/4391720/how-can-i-get-a-resource-content-from-a-static-context/4391811#4391811\">How can I get a resource content from a static context?</a></p>\n\n<p>However I cannot figure out how to convert that into Kotlin.</p>\n"}, {"tags": ["kotlin", "nested", "extension-methods", "inner-classes"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1540231101, "post_id": 52935043, "comment_id": 92779416, "body": "The fact that the class has nested classes doesn&#39;t change anything to how you add extension functions: <code>fun EnclosingJavaClass.someExtensionFunction() { ... }</code>. <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/extensions.html</a>. Now, maybe I haven&#39;t understood what you&#39;re asking. Please elaborate."}], "owner": {"reputation": 1576, "user_id": 1163940, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/pvAaY.jpg?s=128&g=1", "display_name": "xst", "link": "https://stackoverflow.com/users/1163940/xst"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1543428457, "creation_date": 1540230710, "last_edit_date": 1543428457, "question_id": 52935043, "link": "https://stackoverflow.com/questions/52935043/create-nested-class-kt-for-existing-class-java-extensions", "title": "create nested class (kt) for existing class (java), extensions", "body": "<p>does Kotlin compiler allow extending classes with inner and/or nested classes and if so what's the correct syntax?</p>\n\n<p>in <em>EnclosingClass.java</em></p>\n\n<pre><code>class EnclosingJavaClass {\n    class NestedJavaClass1 {}\n    class NestedJavaClass2 {}\n    // ...\n}\n</code></pre>\n\n<p>this is what i'm unsure of below,</p>\n\n<p>in <em>EnclosingClassExtensions.kt</em></p>\n\n<pre><code>class EnclosingJavaClass.NestedKotlinClass {\n    // ...\n}\n</code></pre>\n\n<p>assuming that <code>EnclosingClass.java</code> cannot be modified (eg: library code), can i declare somehow a <code>EnclosingClass.SomeNewKotlinClass</code> ?</p>\n"}, {"tags": ["arraylist", "kotlin", "add"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1540229289, "post_id": 52934367, "comment_id": 92778602, "body": "The method sends a request, and registers a listener, that will be invoked, asynchronously, a long time after the mehod has returned, when the HTTP response finally comes back. So, when you return the list, the listener hasn&#39;t been called yet, and the returned list is thus empty."}, {"owner": {"reputation": 23, "user_id": 10349649, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kh4D_Nbhwvg/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOvcIThARkgBox6I42UBEkYmBcNhw/mo/photo.jpg?sz=128", "display_name": "Ricardo Romero Ruiz", "link": "https://stackoverflow.com/users/10349649/ricardo-romero-ruiz"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1540230202, "post_id": 52934367, "comment_id": 92779029, "body": "You are correct, now I&#39;m trying to establish a co-routine  with Thread.sleep right before the return but doesn&#39;t seem to work."}], "owner": {"reputation": 23, "user_id": 10349649, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Kh4D_Nbhwvg/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOvcIThARkgBox6I42UBEkYmBcNhw/mo/photo.jpg?sz=128", "display_name": "Ricardo Romero Ruiz", "link": "https://stackoverflow.com/users/10349649/ricardo-romero-ruiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1540227844, "creation_date": 1540227844, "question_id": 52934367, "link": "https://stackoverflow.com/questions/52934367/problems-adding-values-to-arraylist", "title": "Problems adding values to ArrayList", "body": "<p>I'm trying to add url values (imgURL variable) taken from JSON into an ArrayList with Kotlin, but somehow when in the scope of the for loop it doesn't seem to work regardless of having my newArrayURLs array declared as a function variable. Any ideas why is this?</p>\n\n<pre><code>private fun getJsonObjectImg(Url: String): ArrayList&lt;String&gt;{\n\n    var paths: ArrayList&lt;String&gt; =ArrayList()\n\n    val params = HashMap&lt;String, String&gt;()\n    var newArrayURLs = ArrayList&lt;String&gt;()\n\n    val stringRequest = object : StringRequest(Request.Method.POST, Url, Response.Listener { s -&gt;\n        try {\n\n            val array = JSONObject(s)\n            var imagesArray = array.getJSONArray(\"images\")\n\n            for(i in 0..imagesArray.length() -1 ){\n                var imgURL = imagesArray.getJSONObject(i).getString(\"fileName\")\n                newArrayURLs.add(imgURL)\n                paths.add(imgURL)\n\n            }\n\n            Log.d(\"pathsin TRY\", paths.count().toString())\n\n        } catch(e:JSONException){\n            Log.d(\"ERROR------\", e.toString())\n\n            null\n        }\n\n        }, Response.ErrorListener {\n        error: VolleyError? -&gt;\n        try {\n            Log.d(\"ERROR======\",\"V\")\n        } catch (e: JSONException){\n            e.printStackTrace()\n        }\n    }) {\n        override fun getParams(): Map&lt;String, String&gt; = mapOf(\"uploadedBy\" to id)\n\n    }\n    val  requestQueue = Volley.newRequestQueue(this)\n    requestQueue.add&lt;String&gt;(stringRequest)\n\n    return newArrayURLs\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 2, "creation_date": 1540229862, "post_id": 52934272, "comment_id": 92778876, "body": "if all you want is to lazily initialize your <code>FooService</code> use <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#lazy\" rel=\"nofollow noreferrer\"><code>by lazy</code></a> - if you want a singleton with parameter on the other hand, have a look at <a href=\"https://medium.com/@BladeCoder/kotlin-singletons-with-argument-194ef06edd9e\" rel=\"nofollow noreferrer\">medium.com/@BladeCoder/&hellip;</a> which is basically nothing more than double checked locking singleton pattern with a volatile field. Your code is not threadsafe."}, {"owner": {"reputation": 670, "user_id": 2945594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c61f28f783418638718cc3fcb0a72bf?s=128&d=identicon&r=PG&f=1", "display_name": "ruclip", "link": "https://stackoverflow.com/users/2945594/ruclip"}, "reply_to_user": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1540231574, "post_id": 52934272, "comment_id": 92779625, "body": "Thanks zapl. I&#39;m searching a kotlin way to solve this with less code as possible. :) Anyway thanks for helping!"}], "answers": [{"comments": [{"owner": {"reputation": 670, "user_id": 2945594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c61f28f783418638718cc3fcb0a72bf?s=128&d=identicon&r=PG&f=1", "display_name": "ruclip", "link": "https://stackoverflow.com/users/2945594/ruclip"}, "edited": false, "score": 0, "creation_date": 1540228390, "post_id": 52934365, "comment_id": 92778185, "body": "Thanks for hint with object. Unfortunately this would not help for me as you already mention in you answer :( .... Anyway thanks for helping!"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 670, "user_id": 2945594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c61f28f783418638718cc3fcb0a72bf?s=128&d=identicon&r=PG&f=1", "display_name": "ruclip", "link": "https://stackoverflow.com/users/2945594/ruclip"}, "edited": false, "score": 1, "creation_date": 1540228812, "post_id": 52934365, "comment_id": 92778393, "body": "In that case, what you&#39;re doing is the way to go, whether with the null check or the <code>lateinit</code> solution."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 2, "last_activity_date": 1540227819, "creation_date": 1540227819, "answer_id": 52934365, "question_id": 52934272, "link": "https://stackoverflow.com/questions/52934272/singleton-pattern-method-best-way-in-kotlin/52934365#52934365", "title": "&quot;singleton&quot; pattern method best way in kotlin", "body": "<p>If your <code>FooService</code> doesn't take any parameters via the getter for its initialization, you can use an <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"nofollow noreferrer\"><code>object</code></a> for this:</p>\n\n<pre><code>object FooHolder {\n    val foo: FooService = FooService(...)\n}\n</code></pre>\n\n<p>Otherwise, your pattern seems just fine, the alternative would be to use a nullable variable instead of <code>lateinit</code>, but they're essentially the same:</p>\n\n<pre><code>private var foo: FooService? = null\n\noverride fun getService(): FooService {\n    if (foo == null) {\n        foo = FooService(...)\n    }\n    return foo!!\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 670, "user_id": 2945594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c61f28f783418638718cc3fcb0a72bf?s=128&d=identicon&r=PG&f=1", "display_name": "ruclip", "link": "https://stackoverflow.com/users/2945594/ruclip"}, "edited": false, "score": 0, "creation_date": 1540230609, "post_id": 52934626, "comment_id": 92779204, "body": "As you already said lazy would not provide an instance between all objects. Do you know how I can forward params from constructor (like in example: blub) to companion object?. Thanks for helping! :)"}], "tags": [], "owner": {"reputation": 653, "user_id": 10261731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80e089a67dcafde373ee26d0b56175dd?s=128&d=identicon&r=PG&f=1", "display_name": "Stanislav Mukhametshin", "link": "https://stackoverflow.com/users/10261731/stanislav-mukhametshin"}, "is_accepted": false, "score": 2, "last_activity_date": 1540228990, "creation_date": 1540228990, "answer_id": 52934626, "question_id": 52934272, "link": "https://stackoverflow.com/questions/52934272/singleton-pattern-method-best-way-in-kotlin/52934626#52934626", "title": "&quot;singleton&quot; pattern method best way in kotlin", "body": "<p>Your class is not looking as singleton. Maybe you want something like this</p>\n\n<pre><code>class Bar(private val blub) {\n\n    var foo by lazy{ FooService(blub) }\n}\n</code></pre>\n\n<p>OR you can put it in companion object to have the same instance between all objects</p>\n"}], "owner": {"reputation": 670, "user_id": 2945594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c61f28f783418638718cc3fcb0a72bf?s=128&d=identicon&r=PG&f=1", "display_name": "ruclip", "link": "https://stackoverflow.com/users/2945594/ruclip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2579, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1540232781, "creation_date": 1540227446, "last_edit_date": 1540232781, "question_id": 52934272, "link": "https://stackoverflow.com/questions/52934272/singleton-pattern-method-best-way-in-kotlin", "title": "&quot;singleton&quot; pattern method best way in kotlin", "body": "<p>Can someone help me to find a better way to create a single instance in Kotlin?</p>\n\n<pre><code>class Bar(private val blub) {\n\n   private lateinit var foo: FooService\n   private lateinit var doo: DooService\n\n   override fun getFooService(): FooService {\n       if (!::foo.isInitialized) {\n           foo = FooService(blub)\n       }\n       return foo\n   }\n\n    override fun getDooService(): DooService {\n       if (!::doo.isInitialized) {\n           doo = DooService(blub)\n       }\n       return doo\n   }\n}\n</code></pre>\n\n<p><strong>Edit:</strong>\nI don't want to init every object at beginning - should be only done when needed.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["java", "spring", "kotlin", "spring-data"], "answers": [{"tags": [], "owner": {"reputation": 855, "user_id": 7924858, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n7D4R.jpg?s=128&g=1", "display_name": "abhinavxeon", "link": "https://stackoverflow.com/users/7924858/abhinavxeon"}, "is_accepted": false, "score": 0, "last_activity_date": 1540227340, "creation_date": 1540227340, "answer_id": 52934240, "question_id": 52933681, "link": "https://stackoverflow.com/questions/52933681/have-multiple-repositories-for-the-same-class-in-spring-data-mongodb/52934240#52934240", "title": "Have multiple repositories for the same class in spring data mongodb", "body": "<p>Try to use inheritance and define appropriate collection names in such way. May give you possibility to save in different collections but you will be still not able to specify dynamically collection names and resp. their amount at runtime.</p>\n"}], "owner": {"reputation": 119, "user_id": 3503608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f1f2298cd3edc7378a86972e3f34be0?s=128&d=identicon&r=PG&f=1", "display_name": "Ebram Sherif", "link": "https://stackoverflow.com/users/3503608/ebram-sherif"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 167, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540227340, "creation_date": 1540225113, "question_id": 52933681, "link": "https://stackoverflow.com/questions/52933681/have-multiple-repositories-for-the-same-class-in-spring-data-mongodb", "title": "Have multiple repositories for the same class in spring data mongodb", "body": "<p>So I have a data class x that I want to have 2 repositories for. Both repos Y and Z should be capable of storing Documents of type X.</p>\n\n<p>The problem is that when I use MongoRepository in both repos .. it assumes that the collection name is X. So I was hoping there is one way to rename the collection for the Repository ... or a better approach to what I want to do here </p>\n"}, {"tags": ["kotlin", "android-gps"], "comments": [{"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 1, "creation_date": 1540230735, "post_id": 52933322, "comment_id": 92779265, "body": "Your biggest mistake is to rely on <code>lastLocation</code> which is almost always null when you  start an app for the first time. You must expect that and start a proper location listener and in there start your action that requires a location from <code>onLocationChanged</code> (see <a href=\"https://developer.android.com/guide/topics/location/strategies\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/location/strategies</a>). Also try to pass location and things as parameters e.g. <code>StopsFromWebservice().execute(location)</code> (see usage <a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/os/AsyncTask</a> assuming this is an async task)"}], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "edited": false, "score": 0, "creation_date": 1540224458, "post_id": 52933365, "comment_id": 92776208, "body": "Thank you for your fast answer. Sadly I am pretty new to kotlin at all, do you know how I can access my location in another function and store it in a variable?"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 1, "last_activity_date": 1540223934, "creation_date": 1540223934, "answer_id": 52933365, "question_id": 52933322, "link": "https://stackoverflow.com/questions/52933322/how-to-save-my-location-in-a-global-variable/52933365#52933365", "title": "How to save my location in a global variable", "body": "<p>You've defined <code>location</code> as nullable and use nullable accessors to access <code>latitude</code> and <code>longitude</code>. However immediately after that you use the <code>non-nullable</code> operator <code>!!</code> which produces the error.</p>\n\n<p>Simply said, you either need to check if <code>location</code> is null and define behavior if that is the case, or figure out a way to ensure that method is never called while <code>location</code> is null.</p>\n"}], "owner": {"reputation": 75, "user_id": 10063506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eac6e91ccee1ff0fc4e447952712070?s=128&d=identicon&r=PG&f=1", "display_name": "Tobias D", "link": "https://stackoverflow.com/users/10063506/tobias-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 208, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540223934, "creation_date": 1540223721, "question_id": 52933322, "link": "https://stackoverflow.com/questions/52933322/how-to-save-my-location-in-a-global-variable", "title": "How to save my location in a global variable", "body": "<p>I am getting my GPS data via: </p>\n\n<pre><code>fusedLocationClient.lastLocation\n            .addOnSuccessListener { location: Location? -&gt;\n                location2 = location\n                var latitude =  location?.latitude\n                var longitude = location?.longitude\n                println(latitude)\n                println(longitude)\n                println(\"gps?\")\n                StopsFromWebservice().execute()\n            }\n</code></pre>\n\n<p>which works.\nBut I want to use the location in a different method. So I tried defining </p>\n\n<pre><code>var location2 : Location? = null\n</code></pre>\n\n<p>and call it via </p>\n\n<pre><code>fun FindClosestStops(location: Location?){\n    for (i in 0..haltestellen_lat.size-1){\n        var x=0.0\n        var y=0.0\n        var distance = 0.0\n        x= (haltestellen_lat[i]-location?.latitude!!)*(haltestellen_lat[i]-location?.latitude!!)\n        y= (haltestellen_lon[i]-location?.longitude!!)*(haltestellen_lon[i]-location?.longitude!!)\n        distance = sqrt(x+y)\n        StopDistances[i]= distance\n\n        Haltestellen.add(distance.toString())\n\n        println(\"distance = \" + distance)\n        println(\"FindClosestStops\")\n    }\n    SortDistance()\n    time.post(UpdateView);\n}\n</code></pre>\n\n<p>but then android Studio kills my task with this error:</p>\n\n<pre><code>Caused by: kotlin.KotlinNullPointerException\n    at com.xxx.yyy.zzz.FindClosestStops(fahrplanmap.kt:100)\n</code></pre>\n\n<p>which is exactly this code:</p>\n\n<pre><code> x= (haltestellen_lat[i]-location?.latitude!!)*(haltestellen_lat[i]-location?.latitude!!)\n</code></pre>\n\n<p>how can I write my location data in x and y?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1540219204, "post_id": 52931916, "comment_id": 92773095, "body": "Why? The whole point of an AutoCompleteTextView is to autocomplete what the user chooses. In any case, just unset your TextWatcher, set the text and then reset your TextWatcher."}, {"owner": {"reputation": 93, "user_id": 9114314, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--3N2-ayOw3w/AAAAAAAAAAI/AAAAAAAAA9c/EJ8PmNBoAuk/photo.jpg?sz=128", "display_name": "Dannie", "link": "https://stackoverflow.com/users/9114314/dannie"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1540219728, "post_id": 52931916, "comment_id": 92773464, "body": "@TheWanderer and how I can know when to unset the textwatcher? I still need to monitor user input."}, {"owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1540219780, "post_id": 52931916, "comment_id": 92773499, "body": "Unset it when your item click listener is triggered, then reset it after you set the text back to blank inside that listener."}, {"owner": {"reputation": 93, "user_id": 9114314, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--3N2-ayOw3w/AAAAAAAAAAI/AAAAAAAAA9c/EJ8PmNBoAuk/photo.jpg?sz=128", "display_name": "Dannie", "link": "https://stackoverflow.com/users/9114314/dannie"}, "reply_to_user": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "edited": false, "score": 0, "creation_date": 1540220263, "post_id": 52931916, "comment_id": 92773780, "body": "@TheWanderer That&#39;s not how it works 1. user clicks on item 2. autocomplete set&#39;s it&#39;s value to chosen item 3. textwatcher triggered 4. onItemClickListener triggered 5. ..."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1540220949, "post_id": 52931916, "comment_id": 92774220, "body": "you dont need ANY <code>TextWatcher</code> - all you have to do is to implement a <code>Filter</code> in your <code>Filterable</code> adapter which you are passing to <code>AutoCompleteTextView</code> - see <a href=\"https://stackoverflow.com/a/19860624/2252830\">here</a> on how you can do that indirectly (not implementing <code>Filter</code> from the scratch)"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 9114314, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--3N2-ayOw3w/AAAAAAAAAAI/AAAAAAAAA9c/EJ8PmNBoAuk/photo.jpg?sz=128", "display_name": "Dannie", "link": "https://stackoverflow.com/users/9114314/dannie"}, "edited": false, "score": 1, "creation_date": 1540222720, "post_id": 52932309, "comment_id": 92775261, "body": "Wow! Thanks. Working great. Sometimes I&#39;m wondering how do some people know such details =) ? Did you encounter the same problem once?"}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "reply_to_user": {"reputation": 93, "user_id": 9114314, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--3N2-ayOw3w/AAAAAAAAAAI/AAAAAAAAA9c/EJ8PmNBoAuk/photo.jpg?sz=128", "display_name": "Dannie", "link": "https://stackoverflow.com/users/9114314/dannie"}, "edited": false, "score": 1, "creation_date": 1540223186, "post_id": 52932309, "comment_id": 92775539, "body": "In this case, I had no idea before reading your question. I looked through the source code for <code>AutoCompleteTextView</code> and was able to find the relevant code in a few minutes. Some things jump out, like this line in the constructor: <code>mPopup.setOnItemClickListener(new DropDownItemClickListener());</code>"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "reply_to_user": {"reputation": 93, "user_id": 9114314, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--3N2-ayOw3w/AAAAAAAAAAI/AAAAAAAAA9c/EJ8PmNBoAuk/photo.jpg?sz=128", "display_name": "Dannie", "link": "https://stackoverflow.com/users/9114314/dannie"}, "edited": false, "score": 0, "creation_date": 1540224007, "post_id": 52932309, "comment_id": 92775969, "body": "@Dannie so what do you need that <code>TextWatcher</code> for? why do you want to &quot;watch&quot; entered text? for filtering suggestions purposes? if so, use a <code>Filter</code> in your <code>Filterable</code> adapter, do not use those workarounds that come from using <code>TextWatcher</code>"}, {"owner": {"reputation": 93, "user_id": 9114314, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--3N2-ayOw3w/AAAAAAAAAAI/AAAAAAAAA9c/EJ8PmNBoAuk/photo.jpg?sz=128", "display_name": "Dannie", "link": "https://stackoverflow.com/users/9114314/dannie"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1540284556, "post_id": 52932309, "comment_id": 92797737, "body": "@pskink I need it to get entered text to query the server, while the autocomplete just filtering what I have right now. So basically I have a new call to the server, when user inuts data (with debouncer of course). But when user selects an item from the dropdown I don&#39;t want to make one last unnececcary call, since the textwatcher is triggered. I still love it that way. TextWatcher is handels new input, AutoComplete handles filtering of what data I have"}], "tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": true, "score": 7, "last_activity_date": 1540220264, "creation_date": 1540220264, "answer_id": 52932309, "question_id": 52931916, "link": "https://stackoverflow.com/questions/52931916/dont-set-text-value-to-autocompletetextview-on-item-click/52932309#52932309", "title": "Don&#39;t set text value to AutoCompleteTextView on item click", "body": "<p><code>AutoCompleteTextView</code> uses this class to detect clicks on its dropdown:</p>\n\n<pre><code>private class DropDownItemClickListener implements AdapterView.OnItemClickListener {\n    public void onItemClick(AdapterView parent, View v, int position, long id) {\n        performCompletion(v, position, id);\n    }\n}\n</code></pre>\n\n<p>Inside that <code>performCompletion()</code> method, there is this call to actually change the contents of the TextView:</p>\n\n<pre><code>replaceText(convertSelectionToString(selectedItem));\n</code></pre>\n\n<p>This <code>replaceText()</code> method is <code>protected</code>, which means you can create a subclass of <code>AutoCompleteTextView</code> and override it to do nothing:</p>\n\n<pre><code>public class MyAutoCompleteTextView extends AppCompatAutoCompleteTextView {\n\n    public MyAutoCompleteTextView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    @Override\n    protected void replaceText(CharSequence text) {\n        // do nothing\n    }\n}\n</code></pre>\n\n<p>Now just replace your <code>&lt;AutoCompleteTextView&gt;</code> tags with <code>&lt;com.example.yourprojecthere.MyAutoCompleteTextView&gt;</code> tags and you should be all set.</p>\n"}], "owner": {"reputation": 93, "user_id": 9114314, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--3N2-ayOw3w/AAAAAAAAAAI/AAAAAAAAA9c/EJ8PmNBoAuk/photo.jpg?sz=128", "display_name": "Dannie", "link": "https://stackoverflow.com/users/9114314/dannie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1131, "favorite_count": 1, "accepted_answer_id": 52932309, "answer_count": 1, "score": 4, "last_activity_date": 1540220264, "creation_date": 1540219078, "question_id": 52931916, "link": "https://stackoverflow.com/questions/52931916/dont-set-text-value-to-autocompletetextview-on-item-click", "title": "Don&#39;t set text value to AutoCompleteTextView on item click", "body": "<p>I have an AutocompleteTextView on my screen. By default, when user clicks on an item of an autocompletetextviews's dropdown item, it sets the text of this autocompletetextview to this chosen item value.</p>\n\n<p>Is there any way to disable this? So when user clicks on a dropdown item, only <code>onItemClickListener</code> triggered?</p>\n\n<p>Setting value to \"\" in <code>onItemClickListener</code> is not an option.</p>\n\n<pre><code>autoCompleteTextView.setOnItemClickListener { adapterView, view, i, l -&gt; \n    autoCompleteTextView.setText(\"\")\n}\n</code></pre>\n\n<p>As I need my <code>TextWatcher</code> to not be triggered</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 4846, "user_id": 2137382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9aa5ae803faa3cc187ecab7a9009fd7?s=128&d=identicon&r=PG", "display_name": "Joe Sewell", "link": "https://stackoverflow.com/users/2137382/joe-sewell"}, "edited": false, "score": 0, "creation_date": 1540215930, "post_id": 52930918, "comment_id": 92770974, "body": "It probably depends on whether <code>isOdd</code> is a local variable or could theoretically be changed by another thread."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10539074"}, "edited": false, "score": 8, "creation_date": 1540216300, "post_id": 52930918, "comment_id": 92771204, "body": "useless premature optimization"}, {"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 11, "creation_date": 1540216316, "post_id": 52930918, "comment_id": 92771215, "body": "Performance, at this level, is completely irrelevant. You&#39;re talking about a difference of 2 boolean checks. That&#39;s billionths of a second. Just pick the one that&#39;s most readable, which is a subjective metric."}, {"owner": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "edited": false, "score": 4, "creation_date": 1540216871, "post_id": 52930918, "comment_id": 92771589, "body": "Your example can be written like this: <code>val (x, y, z) = if (isOdd) Triple(1, 3, 5) else Triple(2, 4, 6)</code>"}, {"owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "reply_to_user": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 0, "creation_date": 1617936625, "post_id": 52930918, "comment_id": 118455728, "body": "@Michael I posted an answer showing there is actually quite a large difference in speed, any idea why that might be?"}], "answers": [{"tags": [], "owner": {"reputation": 2845, "user_id": 7884542, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IHDzC.jpg?s=128&g=1", "display_name": "nyarian", "link": "https://stackoverflow.com/users/7884542/nyarian"}, "is_accepted": false, "score": 0, "last_activity_date": 1540216143, "creation_date": 1540216143, "answer_id": 52931006, "question_id": 52930918, "link": "https://stackoverflow.com/questions/52930918/kotlin-same-condition-multiple-if-statements-or-one-if-statement/52931006#52931006", "title": "Kotlin - same condition: multiple if statements or one if statement", "body": "<p><code>if</code> is an expression in Kotlin, not a statement: it returns a value, whereas it doesn't in Java's case.</p>\n\n<p>I don't think here is such an optimization issue you should ever think about, honestly. Premature optimization is a common source of problems. If this boolean variable is thread-confined, then I think the compiler will perform all the optimizations that are possible in this context, so it will be almost no overhead at all (if not completely).</p>\n\n<p>Wise choice in OO languages is to prefer clearness and flexibility over low-level optimization issues (especially when compilers are able to resolve them).</p>\n"}, {"comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1540216766, "post_id": 52931041, "comment_id": 92771520, "body": "just because his example has x,y,z doesn&#39;t mean he wants to compute 3D points"}, {"owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1540216927, "post_id": 52931041, "comment_id": 92771626, "body": "@TimCastelijns well you could also use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-triple/index.html\" rel=\"nofollow noreferrer\"><code>Triple</code></a> instead of a custom <code>data class</code>. I just put in a name that made sense."}], "tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 3, "last_activity_date": 1540217888, "last_edit_date": 1540217888, "creation_date": 1540216252, "answer_id": 52931041, "question_id": 52930918, "link": "https://stackoverflow.com/questions/52930918/kotlin-same-condition-multiple-if-statements-or-one-if-statement/52931041#52931041", "title": "Kotlin - same condition: multiple if statements or one if statement", "body": "<p>I'd prefer something like this, looks way more Kotlinesque:</p>\n\n<pre><code>data class Point3D(val x: Int, val y: Int, val z: Int)\n\nfun foo(isOdd: Boolean): Point3D = if (isOdd) Point3D(1, 3, 5) else Point3D(2, 4, 6)\n\n//or using destructureing see https://kotlinlang.org/docs/reference/multi-declarations.html)\nval (x,y,z) = if (isOdd) Triple(1, 3, 5) else Triple(2, 4, 6)\n</code></pre>\n\n<p>Also it combines the best of both, using <code>if</code> as expression and only one <code>if</code> is needed. (At the cost of an additional object allocation).</p>\n\n<p>But to answer your question. Do what you like and think is most readable. Performance wise I doubt you will make a difference.</p>\n"}, {"comments": [{"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 0, "creation_date": 1617969207, "post_id": 67014416, "comment_id": 118465993, "body": "35ms / 100 million operations = 0.35 nanoseconds. I dispute that that&#39;s a &quot;HUGE difference&quot;. That&#39;s the same time it takes light to travel 10 centimeters."}], "tags": [], "owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "is_accepted": false, "score": 0, "last_activity_date": 1617937799, "last_edit_date": 1617937799, "creation_date": 1617936555, "answer_id": 67014416, "question_id": 52930918, "link": "https://stackoverflow.com/questions/52930918/kotlin-same-condition-multiple-if-statements-or-one-if-statement/67014416#67014416", "title": "Kotlin - same condition: multiple if statements or one if statement", "body": "<p>Okay, so just saw this question again and got curious... So I did some tests.</p>\n<p>Turns out there is actually a HUGE difference, heres the results:</p>\n<p>Code</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main() {\n    for (i in 0 until 3) {\n        val t1_s = System.currentTimeMillis()\n        for (j in 0 until 100000) {\n            when (i){\n                0 -&gt; a(j % 2 == 0)\n                1 -&gt; b(j % 2 == 0)\n                2 -&gt; c(j % 2 == 0)\n            }\n        }\n        val t1_e = System.currentTimeMillis()\n        println(&quot;Test $i - time ${t1_e - t1_s}&quot;)\n    }\n}\n\nfun a(isOdd: Boolean): Int {\n    val x: Int\n    val y: Int\n    val z: Int\n\n    if (isOdd) {\n        x = 1\n        y = 3\n        z = 5   \n    } else {\n        x = 2\n        y = 4\n        z = 6\n    }\n    \n    return x + y + z\n}\n\nfun b(isOdd: Boolean): Int {\n    val x = if (isOdd) 1 else 2\n    val y = if (isOdd) 3 else 4\n    val z = if (isOdd) 5 else 6\n    \n    return x + y + z\n}\n\nfun c(isOdd: Boolean): Int {\n    val (x,y,z) = if (isOdd) Triple(1, 3, 5) else Triple(2, 4, 6)\n    \n    return x + y + z\n} \n</code></pre>\n<p>Output</p>\n<pre><code>Test 0 - time 3\nTest 1 - time 1\nTest 2 - time 8\n</code></pre>\n<p>It seems my second solution is the fastest, my first suggestion next, and the top answer as MUCH slower.</p>\n<p>Does any one know why this might be? Obviously these are milliseconds so it almost always wouldn't matter, but it is neat to think that one method is 5-10 times faster</p>\n<p>EDIT:</p>\n<p>So tried  bumptin the iterations up to 100000000 and the results were:</p>\n<pre><code>Test 0 - time 6\nTest 1 - time 41\nTest 2 - time 941\n</code></pre>\n<p>I Guess the first 2 options are getting optimized out but the third option is always creating a new object making it much slow</p>\n<p><a href=\"https://tio.run/##jVDLbsIwEDzjrxghKsUiVHkAByR66K2HqodyrwIY1a1xUOK0SVC@PbVjHokQ0D1Emd3x7Mx@x0pwWdebTGIbcelQ7Al0beIEDgeX8JBJxQXC48jUTySg/I8Uc7wXqWLbx1WWJEyqBd@yVy4ETx16YjdiX20x3zPVVjT1@8mk3kq7XVMeRk@ItMYDAszn8OgFxTeU5U1KYCirq5SKXP4dgrL/Bd0lXCohnf6CpQoDjhGU5mGwbzRGzc2qvn1QkYoQc/jI4enbej3DcxwLFkk6w4tUh9sYA3nTOMGiC0sLG8w3sGLH0/Zy7dw/GSw0Cg3qlfpv0rNGwETK2g@ChmLIY9s07Ck5n6b5JExliUSOodYdojzmWd7No9VaTn27PzgH7M5DOx@fE3fnEzuf3ne2uufMyd3CLWlXf5HwnWCO7yJ0MaF226EZuBi7mNJbu0FIXf8B\" rel=\"nofollow noreferrer\" title=\"Kotlin \u2013 Try It Online\">Try it online!</a></p>\n"}], "owner": {"reputation": 3816, "user_id": 9779471, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/63Vvd.png?s=128&g=1", "display_name": "Quinn", "link": "https://stackoverflow.com/users/9779471/quinn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3076, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1617937799, "creation_date": 1540215858, "last_edit_date": 1617936872, "question_id": 52930918, "link": "https://stackoverflow.com/questions/52930918/kotlin-same-condition-multiple-if-statements-or-one-if-statement", "title": "Kotlin - same condition: multiple if statements or one if statement", "body": "<p>In Kotlin you can use if statements kind of like ternary operators.</p>\n<p>We have the option to do something like this:</p>\n<pre><code>val x = if (isOdd) 1 else 2\n</code></pre>\n<p>but if we have multiple variables that need to be set based on some condition is it more correct to do it the old fashioned way like so:</p>\n<pre><code>val x: Int\nval y: Int\nval z: Int\n\nif (isOdd) {\n    x = 1\n    y = 3\n    z = 5\n} else {\n    x = 2\n    y = 4\n    z = 6\n}\n</code></pre>\n<p>or like this :</p>\n<pre><code>val x = if (isOdd) 1 else 2\nval y = if (isOdd) 3 else 4\nval z = if (isOdd) 5 else 6\n</code></pre>\n<p>the second way looks much cleaner to me, but I'd like to know if the first method would be computed faster since it only needs to calculate the condition once whereas the second way needs to check the condition 3 times.</p>\n<p>Is the second way actually slower or will it be optimized by the compiler?</p>\n"}, {"tags": ["postgresql", "kotlin", "kotlin-exposed"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 1, "creation_date": 1540215661, "post_id": 52930722, "comment_id": 92770788, "body": "<a href=\"https://www.postgresql.org/docs/8.3/static/functions-matching.html\" rel=\"nofollow noreferrer\">ILIKE is PSQL&#39;s case-insensitive LIKE</a>. SQL is case-insensitive, so it doesn&#39;t matter if you write it like <code>ILIKE</code> or <code>ilike</code> or anything in between."}, {"owner": {"reputation": 633, "user_id": 407342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pPvM2.jpg?s=128&g=1", "display_name": "Jebin", "link": "https://stackoverflow.com/users/407342/jebin"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1540218273, "post_id": 52930722, "comment_id": 92772504, "body": "@m0skit0 Sorry if the question isn&#39;t clear. It&#39;s not about the case(lower/upper) in which ilike is used. It is about using iLike operator with exposed library. I don&#39;t find any method which provides the functionality of case insensitive search in the Library."}], "answers": [{"tags": [], "owner": {"reputation": 876, "user_id": 813981, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b707cdfcc7f71b6b450cef2f30a2703?s=128&d=identicon&r=PG", "display_name": "Tapac", "link": "https://stackoverflow.com/users/813981/tapac"}, "is_accepted": true, "score": 6, "last_activity_date": 1540414671, "creation_date": 1540414671, "answer_id": 52977812, "question_id": 52930722, "link": "https://stackoverflow.com/questions/52930722/psql-case-insensitive-search-using-exposed/52977812#52977812", "title": "PSQL Case insensitive search using Exposed", "body": "<p><code>ILIKE</code> is PostgreSQL specific function and doesn't support in Exposed at the moment, but you can define it by your own :</p>\n\n<pre><code>class ILikeOp(expr1: Expression&lt;*&gt;, expr2: Expression&lt;*&gt;) : ComparisonOp(expr1, expr2, \"ILIKE\")\n\ninfix fun&lt;T:String?&gt; ExpressionWithColumnType&lt;T&gt;.ilike(pattern: String): Op&lt;Boolean&gt; = ILikeOp(this, QueryParameter(pattern, columnType))\n</code></pre>\n"}], "owner": {"reputation": 633, "user_id": 407342, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/pPvM2.jpg?s=128&g=1", "display_name": "Jebin", "link": "https://stackoverflow.com/users/407342/jebin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 899, "favorite_count": 0, "accepted_answer_id": 52977812, "answer_count": 1, "score": 1, "last_activity_date": 1540414671, "creation_date": 1540215281, "last_edit_date": 1540215505, "question_id": 52930722, "link": "https://stackoverflow.com/questions/52930722/psql-case-insensitive-search-using-exposed", "title": "PSQL Case insensitive search using Exposed", "body": "<p>How can we do case insensitive search using Exposed(Kotlin) on a postgres sql database?</p>\n\n<pre><code>SELECT users.id, users.name, users.created_at, users.updated_at FROM users \nWHERE users.name iLIKE '%aaa%'\n</code></pre>\n\n<p>There is <code>like</code> operator. I don't see <code>ilike</code> operator. Should I be using lowercase on the query field?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 262, "user_id": 9332016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xHkZa.jpg?s=128&g=1", "display_name": "teh_raab", "link": "https://stackoverflow.com/users/9332016/teh-raab"}, "edited": false, "score": 1, "creation_date": 1540215374, "post_id": 52930678, "comment_id": 92770594, "body": "scrollToPosition() and smoothScrollToPosition() should work.  Try doing it outside of the adapter though."}, {"owner": {"reputation": 415, "user_id": 7905888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ecf268c06ea43d76b2445baf7b66ed5?s=128&d=identicon&r=PG&f=1", "display_name": "A. Amini", "link": "https://stackoverflow.com/users/7905888/a-amini"}, "reply_to_user": {"reputation": 262, "user_id": 9332016, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xHkZa.jpg?s=128&g=1", "display_name": "teh_raab", "link": "https://stackoverflow.com/users/9332016/teh-raab"}, "edited": false, "score": 0, "creation_date": 1540215534, "post_id": 52930678, "comment_id": 92770707, "body": "Outside of adapter is working, but i have to scroll after clicking on a button what was inside of my cell/ adapter."}, {"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1540215909, "post_id": 52930678, "comment_id": 92770955, "body": "What is <code>MyRVClass</code> that you cast the context?"}, {"owner": {"reputation": 415, "user_id": 7905888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ecf268c06ea43d76b2445baf7b66ed5?s=128&d=identicon&r=PG&f=1", "display_name": "A. Amini", "link": "https://stackoverflow.com/users/7905888/a-amini"}, "edited": false, "score": 0, "creation_date": 1540215979, "post_id": 52930678, "comment_id": 92771008, "body": "is my AppCompatActivity"}], "answers": [{"comments": [{"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "reply_to_user": {"reputation": 415, "user_id": 7905888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ecf268c06ea43d76b2445baf7b66ed5?s=128&d=identicon&r=PG&f=1", "display_name": "A. Amini", "link": "https://stackoverflow.com/users/7905888/a-amini"}, "edited": false, "score": 0, "creation_date": 1540217390, "post_id": 52931072, "comment_id": 92771925, "body": "@A.Amini it&#39;s not strange. The activity is the place to perform the scrolling, so you call the activity&#39;s method to do the job."}, {"owner": {"reputation": 151, "user_id": 5064505, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/875328592555953/picture?type=large", "display_name": "Vlad  Zbuker", "link": "https://stackoverflow.com/users/5064505/vlad-zbuker"}, "edited": false, "score": 0, "creation_date": 1582037226, "post_id": 52931072, "comment_id": 106633203, "body": "the question was on how to scroll RecyclerView from the adapter and not how to use a public function of an activity =/"}, {"owner": {"reputation": 619, "user_id": 5906793, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/PXpWC.jpg?s=128&g=1", "display_name": "nicoqueijo", "link": "https://stackoverflow.com/users/5906793/nicoqueijo"}, "edited": false, "score": 0, "creation_date": 1586005777, "post_id": 52931072, "comment_id": 107968286, "body": "This seems like an anti-pattern. The adapter should probably not know anything about the RecyclerView or Activity."}], "tags": [], "owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "is_accepted": true, "score": 2, "last_activity_date": 1540216647, "last_edit_date": 1540216647, "creation_date": 1540216332, "answer_id": 52931072, "question_id": 52930678, "link": "https://stackoverflow.com/questions/52930678/inside-recyclerview-adapter-scroll-to-position/52931072#52931072", "title": "Inside RecyclerView.Adapter scroll to position", "body": "<p>Create this method in your activity's class where the <code>RecyclerView</code> is:  <br/></p>\n\n<pre><code>fun scrollToPosition(position: Int) {\n    rv.scrollToPosition(position)\n}\n</code></pre>\n\n<p>replace <code>rv</code> with the <code>RecyclerView</code>'s id  <br/></p>\n\n<p>and inside the listener add this:  <br/></p>\n\n<pre><code>val myActivity: MainActivity = context as MainActivity\nmyActivity.scrollToPosition(x)\n</code></pre>\n\n<p>replace <code>MainActivity</code> with the activity's name and <code>x</code> with the position to be scrolled to.</p>\n"}, {"tags": [], "owner": {"reputation": 619, "user_id": 5906793, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/PXpWC.jpg?s=128&g=1", "display_name": "nicoqueijo", "link": "https://stackoverflow.com/users/5906793/nicoqueijo"}, "is_accepted": false, "score": 0, "last_activity_date": 1586007630, "last_edit_date": 1586007630, "creation_date": 1586006208, "answer_id": 61028675, "question_id": 52930678, "link": "https://stackoverflow.com/questions/52930678/inside-recyclerview-adapter-scroll-to-position/61028675#61028675", "title": "Inside RecyclerView.Adapter scroll to position", "body": "<p>If you are using MVVM architecture you can maybe implement something that looks like this:</p>\n\n<ol>\n<li>In the ViewModel have a field to store the position to scroll to as LiveData.</li>\n<li>In the Activity/Fragment that holds the RecyclerView, observe that field and scroll to its position when it changes.</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 327, "user_id": 10889271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d035943d1b9d213b47e6b3cdf8680f17?s=128&d=identicon&r=PG", "display_name": "Joozd", "link": "https://stackoverflow.com/users/10889271/joozd"}, "is_accepted": false, "score": 1, "last_activity_date": 1587497724, "creation_date": 1587497724, "answer_id": 61351750, "question_id": 52930678, "link": "https://stackoverflow.com/questions/52930678/inside-recyclerview-adapter-scroll-to-position/61351750#61351750", "title": "Inside RecyclerView.Adapter scroll to position", "body": "<p>A bit late to the party, but I did it like this (also <code>RecyclerView.Adapter</code>)</p>\n\n<pre><code>class MyAdapter(...){\n    private lateinit var mRecyclerView: RecyclerView\n\n    override fun onAttachedToRecyclerView(recyclerView: RecyclerView) {\n        super.onAttachedToRecyclerView(recyclerView)\n        mRecyclerView = recyclerView\n    }\n\n    fun scrollToPosition(position: Int){\n        mRecyclerView.scrollToPosition(position)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 415, "user_id": 7905888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ecf268c06ea43d76b2445baf7b66ed5?s=128&d=identicon&r=PG&f=1", "display_name": "A. Amini", "link": "https://stackoverflow.com/users/7905888/a-amini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2371, "favorite_count": 0, "accepted_answer_id": 52931072, "answer_count": 3, "score": 1, "last_activity_date": 1587497724, "creation_date": 1540215126, "last_edit_date": 1540233442, "question_id": 52930678, "link": "https://stackoverflow.com/questions/52930678/inside-recyclerview-adapter-scroll-to-position", "title": "Inside RecyclerView.Adapter scroll to position", "body": "<p>I have to scroll to position X after register a click Listener inside of RecyclerView.Adapter class!!</p>\n\n<pre><code>    class MyAdapter(context: Context, mRV: RecyclerView, mLayoutm: LinearLayoutManager) {\n    ...\n\n         override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n              holder.itemView.XY_button.setOnClickListener { // Button inside a cell  \n\n                    mRV.layoutManager.scrollToPosition(x)  // Not work\n                    mRV.scrollToPosition(x)      // Not work\n                    mLayoutm.scrollToPosition(x) // Not work\n                    (context as MyRVClass).mRV.mLayoutm.scrollToPosition(x) // Not work\n                    (context as MyRVClass).mRV.scrollToPosition(x) // Not work\n                    // it does't work with smoothScrollToPosition() too\n              }    \n         }\n    }\n</code></pre>\n\n<p>PS: I solved this problem in swift/iOS with the delegate protocol, \ndo we have something equivalent in android/ Kotlin? </p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 2914, "user_id": 1573765, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/8XHkN.jpg?s=128&g=1", "display_name": "qbait", "link": "https://stackoverflow.com/users/1573765/qbait"}, "edited": false, "score": 0, "creation_date": 1540283371, "post_id": 52932139, "comment_id": 92796936, "body": "Ofc mutable and optional sucks, but I haven&#39;t found a better solution. Thanks!"}], "tags": [], "owner": {"reputation": 211, "user_id": 1738488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JE0T7.jpg?s=128&g=1", "display_name": "Dima S", "link": "https://stackoverflow.com/users/1738488/dima-s"}, "is_accepted": true, "score": 2, "last_activity_date": 1540221707, "last_edit_date": 1540221707, "creation_date": 1540219759, "answer_id": 52932139, "question_id": 52930287, "link": "https://stackoverflow.com/questions/52930287/dismissing-anko-dialog-in-onclicklistener/52932139#52932139", "title": "Dismissing Anko Dialog in onClickListener", "body": "<p>You could declare variable before and assign <code>null</code>:</p>\n\n<pre><code>var dialog: DialogInterface? = null\ndialog = alert {\n   val view = layoutInflater.inflate(R.layout.match_stats, null)\n   val closeButton = view.findViewById&lt;ImageButton&gt;(R.id.closeButton)\n   closeButton.setOnClickListener { _ -&gt; dialog?.dismiss()}\n   customView = view\n}.show()\n</code></pre>\n\n<p>Of course now your <code>dialog</code> variable is muttable and optional.</p>\n"}], "owner": {"reputation": 2914, "user_id": 1573765, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/8XHkN.jpg?s=128&g=1", "display_name": "qbait", "link": "https://stackoverflow.com/users/1573765/qbait"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 52932139, "answer_count": 1, "score": 1, "last_activity_date": 1540221707, "creation_date": 1540214002, "question_id": 52930287, "link": "https://stackoverflow.com/questions/52930287/dismissing-anko-dialog-in-onclicklistener", "title": "Dismissing Anko Dialog in onClickListener", "body": "<p>I would like to dismiss Anko Dialog when pressing the button defined in my customLayout</p>\n\n<pre><code>val dialog = alert {\n   val view = layoutInflater.inflate(R.layout.match_stats, null)\n   val closeButton = view.findViewById&lt;ImageButton&gt;(R.id.closeButton)\n   closeButton.setOnClickListener { _ -&gt; dialog.dismiss()}\n   customView = view\n}\ndialog.show()\n</code></pre>\n\n<p>I tried above code, unfortunately, I can\u2019t get a reference to <code>dialog</code> in my <code>onClickListener</code>. Do you have any idea how to solve it?</p>\n"}, {"tags": ["kotlin", "android-room", "android-livedata"], "comments": [{"owner": {"reputation": 1592, "user_id": 3456956, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Gp7G.png?s=128&g=1", "display_name": "Technivorous", "link": "https://stackoverflow.com/users/3456956/technivorous"}, "edited": false, "score": 1, "creation_date": 1540212189, "post_id": 52929427, "comment_id": 92768394, "body": "Welcome to SO please post any relevant code, as well as any methods you have tried, in order to better answer your question!"}], "answers": [{"tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": false, "score": 1, "last_activity_date": 1540215297, "creation_date": 1540215297, "answer_id": 52930726, "question_id": 52929427, "link": "https://stackoverflow.com/questions/52929427/kotlin-livedata-in-object-class/52930726#52930726", "title": "Kotlin LiveData in object class", "body": "<p>Use</p>\n\n<pre><code>MutableLiveData&lt;String&gt;().observeForever {  }\n</code></pre>\n\n<p>method, which doesn't care about the lifecycle. Please post some code or better explain what you want to more relevant answer.</p>\n"}], "owner": {"reputation": 1, "user_id": 10540343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0644b81e4bc77cb76cf5738e28f0be0e?s=128&d=identicon&r=PG&f=1", "display_name": "jojoBelt", "link": "https://stackoverflow.com/users/10540343/jojobelt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1540215297, "creation_date": 1540211388, "question_id": 52929427, "link": "https://stackoverflow.com/questions/52929427/kotlin-livedata-in-object-class", "title": "Kotlin LiveData in object class", "body": "<p>I have defined singleton in Kotlin as object class where I have connection to Room database and most logic is written in this class. I have defined LiveData, but its value is null, since there must be observer\u00a0to work. </p>\n\n<p>How can I implement observer in object class? Is this possible since function observe() takes Lifecycle as paramer?</p>\n"}, {"tags": ["kotlin", "corda"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 5096693, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kPEzEVCUANA/AAAAAAAAAAI/AAAAAAAAAjA/Dcj1LW90KUI/photo.jpg?sz=128", "display_name": "Dikshika Jain", "link": "https://stackoverflow.com/users/5096693/dikshika-jain"}, "edited": false, "score": 0, "creation_date": 1540351984, "post_id": 52944305, "comment_id": 92828201, "body": "Thanks so much, this helps. Also, if we have multiple signers i.e. how does it work with CollectSignaturesFlow?"}, {"owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "reply_to_user": {"reputation": 35, "user_id": 5096693, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kPEzEVCUANA/AAAAAAAAAAI/AAAAAAAAAjA/Dcj1LW90KUI/photo.jpg?sz=128", "display_name": "Dikshika Jain", "link": "https://stackoverflow.com/users/5096693/dikshika-jain"}, "edited": false, "score": 0, "creation_date": 1540393019, "post_id": 52944305, "comment_id": 92850602, "body": "No problem. Could you raise a separate question please?"}, {"owner": {"reputation": 35, "user_id": 5096693, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kPEzEVCUANA/AAAAAAAAAAI/AAAAAAAAAjA/Dcj1LW90KUI/photo.jpg?sz=128", "display_name": "Dikshika Jain", "link": "https://stackoverflow.com/users/5096693/dikshika-jain"}, "edited": false, "score": 0, "creation_date": 1540450747, "post_id": 52944305, "comment_id": 92872081, "body": "Thanks. I&#39;ve raised a separate question, here is the link : <a href=\"https://stackoverflow.com/questions/52983150/in-corda-can-the-output-of-one-transaction-be-used-in-the-same-flow-with-multip\" title=\"in corda can the output of one transaction be used in the same flow with multip\">stackoverflow.com/questions/52983150/&hellip;</a>"}], "tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": true, "score": 0, "last_activity_date": 1540282811, "creation_date": 1540282811, "answer_id": 52944305, "question_id": 52929072, "link": "https://stackoverflow.com/questions/52929072/in-corda-can-the-output-of-one-transaction-be-used-by-new-transaction-in-the-sa/52944305#52944305", "title": "In Corda, can the output of one transaction be used by new transaction in the same flow?", "body": "<p>Yes, this is possible. For example:</p>\n\n<pre><code>@InitiatingFlow\n@StartableByRPC\nclass TwoTransactionFlow(val inputStateAndRefA: StateAndRef&lt;StateA&gt;) : FlowLogic&lt;Unit&gt;() {\n    @Suspendable\n    override fun call() {\n        val notary = serviceHub.networkMapCache.notaryIdentities[0]\n\n        // Creating, signing and finalising the first transaction.\n        val txBuilderOne = TransactionBuilder(notary)\n                .addInputState(inputStateAndRefA)\n                .addOutputState(StateB(), ContractA.ID)\n                .addCommand(ContractA.Commands.Transfer(), ourIdentity.owningKey)\n\n        val signedTxOne = serviceHub.signInitialTransaction(txBuilderOne)\n        val notarisedTxOne = subFlow(FinalityFlow(signedTxOne))\n\n        // Creating, signing and finalising the second transaction.\n        val stateRefB = StateRef(notarisedTxOne.id, 0)\n        val stateAndRefB = serviceHub.toStateAndRef&lt;StateB&gt;(stateRefB)\n\n        val transactionBuilderTwo = TransactionBuilder(notary)\n                .addInputState(stateAndRefB)\n                .addCommand(ContractA.Commands.Exit(), ourIdentity.owningKey)\n\n        val signedTransactionTwo = serviceHub.signInitialTransaction(transactionBuilderTwo)\n        subFlow(FinalityFlow(signedTransactionTwo))\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 5096693, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-kPEzEVCUANA/AAAAAAAAAAI/AAAAAAAAAjA/Dcj1LW90KUI/photo.jpg?sz=128", "display_name": "Dikshika Jain", "link": "https://stackoverflow.com/users/5096693/dikshika-jain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 52944305, "answer_count": 1, "score": 0, "last_activity_date": 1540282811, "creation_date": 1540210358, "question_id": 52929072, "link": "https://stackoverflow.com/questions/52929072/in-corda-can-the-output-of-one-transaction-be-used-by-new-transaction-in-the-sa", "title": "In Corda, can the output of one transaction be used by new transaction in the same flow?", "body": "<p>There is a flow as per below scenario. <br/>\nTransaction 1: Input StateA - ContractA results in output StateB - ContractA <br/>\nTransaction 2: Input StateB - ContractA and no output <br/>\nIs this possible in Corda?\nPlease do share an example with response. Thanks.</p>\n"}, {"tags": ["android", "kotlin", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 670, "user_id": 2945594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c61f28f783418638718cc3fcb0a72bf?s=128&d=identicon&r=PG&f=1", "display_name": "ruclip", "link": "https://stackoverflow.com/users/2945594/ruclip"}, "edited": false, "score": 0, "creation_date": 1540211377, "post_id": 52929141, "comment_id": 92767841, "body": "&quot;Your [...] In the meantime the activity&#39;s onCreate has completed, so you must move whatever stuff you had there that depends on Retrofit into the launch block.&quot;  Sounds like race conditions :( ... I&#39;m not under an android classes...  Anyway thanks for your hints :)"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "reply_to_user": {"reputation": 670, "user_id": 2945594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c61f28f783418638718cc3fcb0a72bf?s=128&d=identicon&r=PG&f=1", "display_name": "ruclip", "link": "https://stackoverflow.com/users/2945594/ruclip"}, "edited": false, "score": 0, "creation_date": 1540213829, "post_id": 52929141, "comment_id": 92769482, "body": "Indeed, it means that you can no longer rely on the ordering within a lifecycle callback. Your <code>retrofit</code> dependency becomes nullable, you must check it every time. That, or you arrange to start your main activity as a reaction to <code>retrofit</code> becoming available."}, {"owner": {"reputation": 670, "user_id": 2945594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c61f28f783418638718cc3fcb0a72bf?s=128&d=identicon&r=PG&f=1", "display_name": "ruclip", "link": "https://stackoverflow.com/users/2945594/ruclip"}, "edited": false, "score": 0, "creation_date": 1540227643, "post_id": 52929141, "comment_id": 92777813, "body": "Jepp. Thats why I&#39;m asking :) Maybe someone knows an elegant solution. :)"}], "tags": [], "owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "is_accepted": false, "score": 0, "last_activity_date": 1540210531, "creation_date": 1540210531, "answer_id": 52929141, "question_id": 52928753, "link": "https://stackoverflow.com/questions/52928753/kotlin-coroutines-wait-until-done-init-block/52929141#52929141", "title": "Kotlin Coroutines wait until done init block", "body": "<blockquote>\n  <p>How I can force to wait until my object <em>retrofit</em> has initialized?</p>\n</blockquote>\n\n<p>Coroutines can't help you here. If, before migrating to coroutines, you could afford to block the main UI thread while Retrofit initializes, then leave it like that and don't involve coroutines.</p>\n\n<p>If you had an async task that did it in the background, then whatever the consequences of late init used to be, they will remain with coroutines as well.</p>\n\n<p>The only advantage coroutines give you is the clean programming model:</p>\n\n<pre><code>    launch {\n        val httpClient = createOkHttpClient(...)\n        val gson = createGson()\n        retrofit = createRetrofit(httpClient.await(), gson.await())\n        ... take the actions that depend on retrofit ...\n    }\n</code></pre>\n\n<p>Your coroutine will resume on the UI thread once <code>httpClient</code> and <code>gson</code> have initialized. It can then take actions that make your app initialization go on. In the meantime the activity's <code>onCreate</code> has completed, so you must move whatever stuff you had there that depends on Retrofit into the <code>launch</code> block.</p>\n"}], "owner": {"reputation": 670, "user_id": 2945594, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c61f28f783418638718cc3fcb0a72bf?s=128&d=identicon&r=PG&f=1", "display_name": "ruclip", "link": "https://stackoverflow.com/users/2945594/ruclip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1738, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1540211706, "creation_date": 1540209310, "last_edit_date": 1540211706, "question_id": 52928753, "link": "https://stackoverflow.com/questions/52928753/kotlin-coroutines-wait-until-done-init-block", "title": "Kotlin Coroutines wait until done init block", "body": "<p>I'm currently learning coroutines and need your help :)</p>\n\n<p>How I can force to wait until <em>retrofit</em> has initialized? </p>\n\n<pre><code>private lateinit var retrofit: Retrofit\n\ninit {\n    val time = measureTimeMillis {\n        launch {\n            val httpClient = createOkHttpClient(...)\n            val gson = createGson()\n            retrofit = createRetrofit(httpClient.await(), gson.await())}\n    }\n    logger.debug(\"Init time: $time\")\n}\n\n private fun &lt;T&gt; createService(class: Class&lt;T&gt;) = retrofit.create(_class)\n</code></pre>\n\n<p>With runBlocking it works, but I really not wanted to use this...</p>\n\n<p>Thanks in advance! </p>\n"}, {"tags": ["reflection", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2119, "user_id": 1771187, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d1e65a99d34d97efada8c0493b03ffce?s=128&d=identicon&r=PG", "display_name": "Cruces", "link": "https://stackoverflow.com/users/1771187/cruces"}, "is_accepted": true, "score": 1, "last_activity_date": 1540212746, "last_edit_date": 1540212746, "creation_date": 1540210913, "answer_id": 52929253, "question_id": 52928631, "link": "https://stackoverflow.com/questions/52928631/getting-member-variables-through-reflection-in-kotlin/52929253#52929253", "title": "Getting member variables through reflection in Kotlin", "body": "<p>I'm just going by the documentation, so the below may be a bit wrong, but you could try this:</p>\n\n<pre><code>val prop : KCallable = Foo::class.members.firstOrNull { it.name == \"x\" }\nif (prop != null) {\n   val xValue : Int? = prop.call(object)\n    //you have to declare the type of the xValue\n}\n</code></pre>\n"}], "owner": {"reputation": 788, "user_id": 6082859, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PxzKQ2pJ2s8/AAAAAAAAAAI/AAAAAAAADHk/__o-vvZiH90/photo.jpg?sz=128", "display_name": "Nishita", "link": "https://stackoverflow.com/users/6082859/nishita"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "accepted_answer_id": 52929253, "answer_count": 1, "score": 0, "last_activity_date": 1540212746, "creation_date": 1540208922, "question_id": 52928631, "link": "https://stackoverflow.com/questions/52928631/getting-member-variables-through-reflection-in-kotlin", "title": "Getting member variables through reflection in Kotlin", "body": "<p>If I have a class in Kotlin:</p>\n\n<pre><code>class Foo{\n\nvar x= null\nvar y=null\n\n}\n</code></pre>\n\n<p>I want to check which of these members have been set at runtime through reflection. I can iterate over them and check for null in Java.</p>\n\n<pre><code>Foo foo= new Foo();\n\n//this gives me the value of foo.x\nFoo.class.getDeclaredField(\"x\").get(foo);\n</code></pre>\n\n<p>How can I do the same in Kotlin/Native? I know I can achieve this in Android by </p>\n\n<pre><code>Foo::class.java.getDeclaredField(\"x\").get(foo)\n</code></pre>\n\n<p>But this doesn't work in native environment.</p>\n"}, {"tags": ["android", "kotlin", "exoplayer"], "comments": [{"owner": {"reputation": 884, "user_id": 9924372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A9CJ4.jpg?s=128&g=1", "display_name": "Arjun", "link": "https://stackoverflow.com/users/9924372/arjun"}, "edited": false, "score": 0, "creation_date": 1566197978, "post_id": 52928370, "comment_id": 101565856, "body": "Did you find a way to reduce the initial load time?"}], "answers": [{"comments": [{"owner": {"reputation": 884, "user_id": 9924372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A9CJ4.jpg?s=128&g=1", "display_name": "Arjun", "link": "https://stackoverflow.com/users/9924372/arjun"}, "edited": false, "score": 0, "creation_date": 1566271743, "post_id": 56188208, "comment_id": 101593837, "body": "Tried the above solution but still found no luck. It still takes around 5 seconds to load the video."}], "tags": [], "owner": {"reputation": 454, "user_id": 3451697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c03n9.jpg?s=128&g=1", "display_name": "Harneev", "link": "https://stackoverflow.com/users/3451697/harneev"}, "is_accepted": false, "score": 0, "last_activity_date": 1558102372, "creation_date": 1558102372, "answer_id": 56188208, "question_id": 52928370, "link": "https://stackoverflow.com/questions/52928370/why-is-exoplayer-initial-load-time-of-video-is-more-than-5-seconds/56188208#56188208", "title": "Why is ExoPlayer initial load time of video is more than 5 seconds?", "body": "<p>Problem here seems like calling </p>\n\n<pre><code>player!!.prepare(mergerMediaSource, true, false)\n</code></pre>\n\n<p>after </p>\n\n<pre><code>player!!.seekTo(currentWindow, playbackPosition)\n</code></pre>\n\n<p>The second parameter of <code>player.prepare()</code> is resetPosition which is true by default. That's why, the position is reset to the default.</p>\n\n<p>Try to seek after prepare or pass false to resetPosition</p>\n"}], "owner": {"reputation": 532, "user_id": 2561335, "user_type": "registered", "profile_image": "https://graph.facebook.com/100004500245565/picture?type=large", "display_name": "Aravindraj", "link": "https://stackoverflow.com/users/2561335/aravindraj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 846, "favorite_count": 2, "answer_count": 1, "score": 5, "last_activity_date": 1558102372, "creation_date": 1540207980, "question_id": 52928370, "link": "https://stackoverflow.com/questions/52928370/why-is-exoplayer-initial-load-time-of-video-is-more-than-5-seconds", "title": "Why is ExoPlayer initial load time of video is more than 5 seconds?", "body": "<p>ExoPlayer's initial load time is more than 5 seconds even after using DefaultLoadControl().</p>\n\n<pre><code>private fun initializePlayer() {\n    if (player == null) {\n        trackSelector = DefaultTrackSelector()\n        loadControl = DefaultLoadControl(\n                DefaultAllocator(true, 1024),\n                1000, // this is it!\n                2000,\n                1500,\n                3000,\n                1024,\n                true\n        )\n        player = ExoPlayerFactory.newSimpleInstance(\n                DefaultRenderersFactory(this),\n                trackSelector,\n                loadControl)\n        player!!.addListener(componentListener)\n        player!!.addVideoDebugListener(componentListener)\n        player!!.addAudioDebugListener(componentListener)\n        video_view.setPlayer(player)\n        player!!.setPlayWhenReady(playWhenReady)\n        player!!.seekTo(currentWindow, playbackPosition)\n        val uri = Uri.parse(getString(R.string.media_url_mp4))\n        val mediaSource = buildMediaSource(uri)\n        val mergerMediaSource = MergingMediaSource(mediaSource, buildSubtitleSource(getString(R.string.media_url_subtitle)))\n        player!!.prepare(mergerMediaSource, true, false)\n    }\n}\n</code></pre>\n\n<p>The video I tried to load is <a href=\"http://download.blender.org/peach/bigbuckbunny_movies/BigBuckBunny_320x180.mp4\" rel=\"noreferrer\">this</a></p>\n"}, {"tags": ["android", "kotlin", "rx-java2", "rx-android"], "comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1540208493, "post_id": 52928269, "comment_id": 92766152, "body": "<a href=\"https://stackoverflow.com/a/45766721/3395198\">stackoverflow.com/a/45766721/3395198</a>"}], "answers": [{"tags": [], "owner": {"reputation": 653, "user_id": 10261731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/80e089a67dcafde373ee26d0b56175dd?s=128&d=identicon&r=PG&f=1", "display_name": "Stanislav Mukhametshin", "link": "https://stackoverflow.com/users/10261731/stanislav-mukhametshin"}, "is_accepted": false, "score": 1, "last_activity_date": 1540208831, "creation_date": 1540208831, "answer_id": 52928607, "question_id": 52928269, "link": "https://stackoverflow.com/questions/52928269/unable-to-create-observable-in-kotlin/52928607#52928607", "title": "Unable to create Observable in Kotlin", "body": "<p>Simple example with ObservableEmitter</p>\n\n<pre><code>    val obs = Observable.create&lt;Int&gt; {\n        for(i in 1 .. 5)\n            it.onNext(i)\n\n        it.onComplete()\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2899, "user_id": 2539472, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/0475d27157bbb03085abda1ac6446b53?s=128&d=identicon&r=PG", "display_name": "homerman", "link": "https://stackoverflow.com/users/2539472/homerman"}, "edited": false, "score": 0, "creation_date": 1540257730, "post_id": 52928619, "comment_id": 92788475, "body": "upvoted, but the preferred style of the first approach is to omit the parenthesis"}], "tags": [], "owner": {"reputation": 3602, "user_id": 3569545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb00bcc2abeb14cf5bfacfa1013a92ad?s=128&d=identicon&r=PG&f=1", "display_name": "Demigod", "link": "https://stackoverflow.com/users/3569545/demigod"}, "is_accepted": false, "score": 5, "last_activity_date": 1540208877, "creation_date": 1540208877, "answer_id": 52928619, "question_id": 52928269, "link": "https://stackoverflow.com/questions/52928269/unable-to-create-observable-in-kotlin/52928619#52928619", "title": "Unable to create Observable in Kotlin", "body": "<p>If you want to control the items emission by your self, you can create an <code>Observable</code> with <code>.create</code> method, like this</p>\n\n<pre><code>    Observable.create({ e: ObservableEmitter&lt;String&gt; -&gt; e.onNext(\"\") })\n\n    Observable.create(object: ObservableOnSubscribe&lt;String&gt; {\n        override fun subscribe(e: ObservableEmitter&lt;String&gt;) {\n            e.onNext(\"\")\n        }\n    })\n</code></pre>\n\n<p>But in this case you will have to call <code>onNext</code>, <code>onComplete</code>, <code>onError</code> by your own.</p>\n\n<p>But if you want a much simpler solution, you can create it like</p>\n\n<pre><code>Observable.just(1)\n\nObservable.fromCallable { 1 }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 69, "user_id": 11488385, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-guxDfcghBUE/AAAAAAAAAAI/AAAAAAAABYA/t0xJuucrIHQ/photo.jpg?sz=128", "display_name": "Matteo Pasotti", "link": "https://stackoverflow.com/users/11488385/matteo-pasotti"}, "is_accepted": false, "score": 0, "last_activity_date": 1564057657, "creation_date": 1564057657, "answer_id": 57201968, "question_id": 52928269, "link": "https://stackoverflow.com/questions/52928269/unable-to-create-observable-in-kotlin/57201968#57201968", "title": "Unable to create Observable in Kotlin", "body": "<p>I don't know if you are using Architecture Components, but if i want to observe Background i think that MutableLiveData and LiveData could help</p>\n\n<pre><code>private val _background = MutableLiveData&lt;Background&gt;()\nval background: LiveData&lt;Background&gt; = _background\n\nfun editBackground(newBackground : Background) {\n   _background.postValue(newBackground)\n}\n</code></pre>\n\n<p>Put this code inside a ViewModel or a Presenter.\nThen in your View (Activity/Fragment) you can observe background in this way</p>\n\n<pre><code>viewModel.background.observe(this, Observer { newValue -&gt;\n\n        })\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 9574342, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Usman Saeed", "link": "https://stackoverflow.com/users/9574342/usman-saeed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 751, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1564057657, "creation_date": 1540207617, "last_edit_date": 1564056357, "question_id": 52928269, "link": "https://stackoverflow.com/questions/52928269/unable-to-create-observable-in-kotlin", "title": "Unable to create Observable in Kotlin", "body": "<p>I am trying to create Observable in kotlin .But its giving error unresolved reference on OnSubscribe method</p>\n\n<pre><code>  fun getDisposableObserver(): Observable&lt;Background&gt; {\n\n        return Observable.create(object :Observable.OnSubscribe&lt;Background&gt; -&gt;{})\n    }\n</code></pre>\n\n<p>I tried this snippet .It also does not work</p>\n\n<pre><code>  Observable.create(object : ObservableOn.OnSubscribe&lt;Int&gt; {\n            override fun call(subscriber: Subscriber&lt;in Int&gt;) {\n                for(i in 1 .. 5)\n                    subscriber.onNext(i)\n\n                subscriber.onCompleted()\n            }\n        })\n</code></pre>\n\n<p>What i am doing wrong ?,How can i create Observable?</p>\n"}]