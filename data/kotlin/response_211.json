[{"tags": ["android", "android-layout", "kotlin", "android-databinding", "android-jetpack"], "answers": [{"comments": [{"owner": {"reputation": 2231, "user_id": 1758149, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sjOJv.jpg?s=128&g=1", "display_name": "RyPope", "link": "https://stackoverflow.com/users/1758149/rypope"}, "edited": false, "score": 1, "creation_date": 1609835919, "post_id": 54337695, "comment_id": 115939157, "body": "This shouldn&#39;t really be an accepted answer. The whole idea of a custom component is so that its reusable. In this case its not re-usable at all, you may as well just move the FrameLayout to the one spot you can use it rather than this round-about databinding to a specific viewmodel."}], "tags": [], "owner": {"reputation": 789, "user_id": 3814777, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9e12550ee31b0a6f321b50eda3cf302?s=128&d=identicon&r=PG&f=1", "display_name": "Dung Ta", "link": "https://stackoverflow.com/users/3814777/dung-ta"}, "is_accepted": true, "score": 1, "last_activity_date": 1548290000, "last_edit_date": 1548290000, "creation_date": 1548289489, "answer_id": 54337695, "question_id": 54337370, "link": "https://stackoverflow.com/questions/54337370/enabling-the-onclick-method-in-a-custom-framelayout-view/54337695#54337695", "title": "Enabling the `onClick` method in a custom FrameLayout view", "body": "<p>Assuming that you have <code>dataBinding.enabled true</code> defined in your build.gradle. If not, check <a href=\"https://developer.android.com/topic/libraries/data-binding/start\" rel=\"nofollow noreferrer\">this</a> out.</p>\n\n<p>It doesn't look like your layout is currently a databinding layout. First you'd want to convert <code>view_progress_button.xml</code> to a databinding layout like the following:</p>\n\n<pre><code>&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;data&gt;\n        &lt;variable\n            name=\"viewModel\"\n            type=\"com.your.package.YourViewModelClass\" /&gt;\n    &lt;/data&gt;\n\n    &lt;FrameLayout\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n    &lt;com.example.ui.common.ProgressButton\n        android:id=\"@+id/progress_btn\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:onClick=\"@{() -&gt; viewModel.onProgressButtonClick()}\"\n        app:buttonText=\"@string/test\"\n        app:buttonBackground=\"@drawable/selectable_button_blue\"\n        /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>There should be an option in Android Studio that lets you auto-convert your layout. Do this by hitting alt + enter (Windows) or option + enter (OSX) on the root ViewGroup in your layout. In this case you'd want to hit that combination on your FrameLayout.</p>\n\n<p>In your <code>ProgressButton</code> class, you'd want to do something like this:</p>\n\n<pre><code>val binding: ViewProgressButtonBinding = DataBindingUtil.inflate(getLayoutInflater(), R.layout.view_progress_button, null, false);\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>val view = LayoutInflater.from(context).inflate(R.layout.view_progress_button, this, true)\n</code></pre>\n\n<p>Using the <code>binding</code> object, you can do:</p>\n\n<pre><code>binding.setViewModel(yourViewModelInstance)\n</code></pre>\n\n<p>You can instantiate your ViewModel however, but inside your ViewModel class you should have <code>onProgressButtonClick()</code> defined.</p>\n\n<p>If I remember correctly, you might need to do something like this in your layout for the <code>onClick</code>:</p>\n\n<pre><code>android:onClick=\"@{(v) -&gt; viewModel.onProgressButtonClick()}\"\n</code></pre>\n\n<p>because the lambda expects the view as a parameter.</p>\n\n<p>Another note is that you no longer need to do <code>findViewById</code> since you have access to that view like so:</p>\n\n<pre><code>binding.button\n</code></pre>\n"}], "owner": {"reputation": 2155, "user_id": 310783, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d1b0117d379a7ee82da5a716718f1ed?s=128&d=identicon&r=PG", "display_name": "patrick-fitzgerald", "link": "https://stackoverflow.com/users/310783/patrick-fitzgerald"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "accepted_answer_id": 54337695, "answer_count": 1, "score": 0, "last_activity_date": 1548290000, "creation_date": 1548286835, "question_id": 54337370, "link": "https://stackoverflow.com/questions/54337370/enabling-the-onclick-method-in-a-custom-framelayout-view", "title": "Enabling the `onClick` method in a custom FrameLayout view", "body": "<p>I'm not able to get a <code>onClick</code> method to work with a custom FrameLayout view.</p>\n\n<p>When I refactor a default <code>Button</code> view into a custom <code>ProgressButton</code> view containing a <code>Button</code>, the <code>onClick</code> method doesn't get called.</p>\n\n<p>Custom <code>ProgressButton</code> view class:</p>\n\n<pre><code>class ProgressButton @JvmOverloads constructor(\n    context: Context,\n    attrs: AttributeSet? = null,\n    defStyle: Int = 0,\n    defStyleRes: Int = 0\n) : FrameLayout(context, attrs, defStyle, defStyleRes){\n\n    private var button: Button\n\n    init {\n        val view = LayoutInflater.from(context).inflate(R.layout.view_progress_button, this, true)\n        button = view.findViewById(R.id.button)\n        context.theme.obtainStyledAttributes(\n            attrs,\n            R.styleable.ProgressButton,\n            0, 0\n        ).apply {\n            try {\n                if (hasValue(R.styleable.ProgressButton_buttonText)) {\n                    button.text = getString(R.styleable.ProgressButton_buttonText)\n                }\n                if (hasValue(R.styleable.ProgressButton_buttonBackground)) {\n                    button.background = getDrawable(R.styleable.ProgressButton_buttonBackground)\n                }\n            } finally {\n                recycle()\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><code>ProgressButton</code> XML Layout file: <code>res/layout/view_progress_button.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n              android:orientation=\"vertical\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"match_parent\"&gt;\n\n    &lt;Button\n            android:id=\"@+id/button\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>Usage of <code>ProgressButton</code> view with <code>android:onClick</code>:</p>\n\n<pre><code>&lt;com.example.ui.common.ProgressButton\n        android:id=\"@+id/progress_btn\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:onClick=\"@{() -&gt; viewModel.onProgressButtonClick()}\"\n        app:buttonText=\"@string/test\"\n        app:buttonBackground=\"@drawable/selectable_button_blue\"\n/&gt;\n</code></pre>\n\n<p>What's the best way to pass a click listener to a custom view using Android databinding?</p>\n"}, {"tags": ["spring", "spring-boot", "jpa", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 0, "last_activity_date": 1579618157, "last_edit_date": 1579618157, "creation_date": 1548286094, "answer_id": 54337272, "question_id": 54337271, "link": "https://stackoverflow.com/questions/54337271/is-there-a-less-redundant-way-to-load-save-an-entity/54337272#54337272", "title": "Is there a less redundant way to load/save an entity?", "body": "<p>There is no official way to make it more concise that I know of, but you could create an extension function on <code>JpaRepository</code> like that:</p>\n\n<pre><code>inline fun &lt;reified T : Any, ID : Serializable&gt; JpaRepository&lt;T, ID&gt;.update(id: ID, modify: T.() -&gt; Unit) = findByIdOrNull(id)?.let {\n    modify(it)\n    saveAndFlush(it)\n} ?: throw NoSuchElementException(\"There is no ${T::class.simpleName} with id $id!\")\n</code></pre>\n\n<p>and use it like this:</p>\n\n<pre><code>userRepository.update(1L) {\n    firstName = \"Jon\"\n    lastName = \"Doe\"\n}\n</code></pre>\n\n<p>This will make the call site really clean and concise.</p>\n\n<p><code>update</code> could of course return <code>null</code> instead of throwing the exception. This depends on your use-case.</p>\n\n<hr>\n\n<p><sub>In case you wonder why I asked and answered this question right away, take a look <a href=\"https://stackoverflow.blog/2011/07/01/its-ok-to-ask-and-answer-your-own-questions/\">here</a>.</sub></p>\n"}], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 54337272, "answer_count": 1, "score": 0, "last_activity_date": 1579618179, "creation_date": 1548286094, "last_edit_date": 1579618179, "question_id": 54337271, "link": "https://stackoverflow.com/questions/54337271/is-there-a-less-redundant-way-to-load-save-an-entity", "title": "Is there a less redundant way to load/save an entity?", "body": "<p>Currently, we have this pattern a lot in our project. Loading an entity and saving it afterwards is a really common task. Is there a more concise and less redundant way in Kotlin?</p>\n\n<pre><code>userRepository.findByIdOrNull(1L)?.let {\n    userRepository.save(it.apply {\n        firstName = \"Jon\"\n        lastName = \"Doe\"\n    })\n} ?: throw NoSuchElementException(\"User not found\")\n</code></pre>\n"}, {"tags": ["object", "kotlin", "compiler-warnings"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 1, "creation_date": 1548283882, "post_id": 54336836, "comment_id": 95491002, "body": "Are <code>return</code>s implicit in <code>operator</code> definitions?"}, {"owner": {"reputation": 11342, "user_id": 4616087, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6kEud.png?s=128&g=1", "display_name": "Marvin", "link": "https://stackoverflow.com/users/4616087/marvin"}, "edited": false, "score": 0, "creation_date": 1548285218, "post_id": 54336836, "comment_id": 95491409, "body": "The <code>return</code> is mandatory in this case: <i>&quot;A &#39;return&#39; expression required in a function with a block body (&#39;{...}&#39;)&quot;</i> I can&#39;t find an explanation for the warning, though."}, {"owner": {"reputation": 53, "user_id": 10958404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d10d2598bfc8fec9ac5c1c767aba7e21?s=128&d=identicon&r=PG&f=1", "display_name": "casret", "link": "https://stackoverflow.com/users/10958404/casret"}, "edited": false, "score": 0, "creation_date": 1548286763, "post_id": 54336836, "comment_id": 95491829, "body": "Just double checked, and the warning also comes up in non operator functions.  Though oddly in the non-trivial code that I extracted this example from I got the warning for <code>invoke</code> but not <code>get</code>.  In this trivial example it appears for both operators."}], "answers": [{"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 6, "last_activity_date": 1548288795, "last_edit_date": 1548288795, "creation_date": 1548288330, "answer_id": 54337529, "question_id": 54336836, "link": "https://stackoverflow.com/questions/54336836/how-do-i-get-rid-of-this-warning-the-expression-is-unused-warning/54337529#54337529", "title": "How do I get rid of this &#39;warning: the expression is unused&#39; warning?", "body": "<p>Calling <code>foo()</code> explicitely on <code>this</code> will make the warning go away:</p>\n\n<p><strong>1st way:</strong></p>\n\n<pre><code>operator fun invoke(foo: Test.() -&gt; Boolean): Boolean {\n    return this.foo()\n}\n</code></pre>\n\n<p><strong>2nd way:</strong></p>\n\n<pre><code>operator fun invoke(foo: Test.() -&gt; Boolean): Boolean {\n    return foo(this)\n}\n</code></pre>\n\n<p>Since you should be able to omit <code>this</code> in this context, I would guess that it is a bug in the compiler.</p>\n\n<hr>\n\n<p>If you just want to warning to disappear, you can use the <code>@Suppress</code> annotation at the statement level:</p>\n\n<pre><code>operator fun invoke(foo: Test.() -&gt; Boolean): Boolean {\n    @Suppress(\"UNUSED_EXPRESSION\")\n    return foo()\n}\n</code></pre>\n\n<p>You could do it for the whole file, the whole class or the whole function as well, but it is better to use it directly at the statement because other unused expressions could really be a mistake of yours (and not by intention) and the compiler wouldn't tell you about it then. </p>\n"}, {"comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 1, "creation_date": 1548291565, "post_id": 54337904, "comment_id": 95492795, "body": "i knew it&#39;s a bug! nice that you found the ticket +1 :)"}], "tags": [], "owner": {"reputation": 295, "user_id": 4951255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b55779dc691c7f4ee83d21f5bc7e956f?s=128&d=identicon&r=PG", "display_name": "Salvatore Testa", "link": "https://stackoverflow.com/users/4951255/salvatore-testa"}, "is_accepted": false, "score": 3, "last_activity_date": 1548291191, "creation_date": 1548291191, "answer_id": 54337904, "question_id": 54336836, "link": "https://stackoverflow.com/questions/54336836/how-do-i-get-rid-of-this-warning-the-expression-is-unused-warning/54337904#54337904", "title": "How do I get rid of this &#39;warning: the expression is unused&#39; warning?", "body": "<p>This false positive you've identified is a known issue in Kotlin <a href=\"https://youtrack.jetbrains.com/issue/KT-21282\" rel=\"nofollow noreferrer\">KT-21282</a>, so you can either apply one of <a href=\"https://stackoverflow.com/a/54337529/4951255\">Willi's solutions</a> or wait for JetBrains to fix the bug.</p>\n"}], "owner": {"reputation": 53, "user_id": 10958404, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d10d2598bfc8fec9ac5c1c767aba7e21?s=128&d=identicon&r=PG&f=1", "display_name": "casret", "link": "https://stackoverflow.com/users/10958404/casret"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1184, "favorite_count": 0, "accepted_answer_id": 54337529, "answer_count": 2, "score": 5, "last_activity_date": 1548291477, "creation_date": 1548283422, "last_edit_date": 1548291477, "question_id": 54336836, "link": "https://stackoverflow.com/questions/54336836/how-do-i-get-rid-of-this-warning-the-expression-is-unused-warning", "title": "How do I get rid of this &#39;warning: the expression is unused&#39; warning?", "body": "<p>Trying to figure out why I'm getting a warning in this code.</p>\n\n<pre><code>object Test {\n  val bar = true\n\n  operator fun invoke(foo: Test.() -&gt; Boolean): Boolean {\n    return foo()\n  }\n}\n\nfun main(args: Array&lt;String&gt;) {\n  println(Test {bar})\n}\n</code></pre>\n\n<p>You get this when you compile</p>\n\n<blockquote>\n  <p>test.kt:5:12: warning: the expression is unused<br>\n  return foo()</p>\n</blockquote>\n\n<p>But it certainly seems to be used, since you do get <code>true</code> when you run it.</p>\n"}, {"tags": ["debugging", "web", "intellij-idea", "kotlin", "vert.x"], "answers": [{"tags": [], "owner": {"reputation": 12623, "user_id": 5985853, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/49VtI.jpg?s=128&g=1", "display_name": "Alexey Soshin", "link": "https://stackoverflow.com/users/5985853/alexey-soshin"}, "is_accepted": true, "score": 3, "last_activity_date": 1548519461, "creation_date": 1548519461, "answer_id": 54380222, "question_id": 54336700, "link": "https://stackoverflow.com/questions/54336700/how-to-debug-kolin-vertx-web-app-in-ide-intellij/54380222#54380222", "title": "How to debug Kolin Vertx web app in IDE Intellij?", "body": "<p>You should be able to run debug just fine by configuring Gradle as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rD22q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rD22q.png\" alt=\"enter image description here\"></a></p>\n\n<p>And hitting the Debug button. Tested it using your configuration.</p>\n\n<p>Just make sure that you specify the correct verticle name in your <code>build.gradle</code>:</p>\n\n<p><code>def mainVerticleName = 'io.vertx.starter.MainVerticle'</code></p>\n"}], "owner": {"reputation": 4429, "user_id": 1495623, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e60a3bd98fecf2fc5f533065a510f089?s=128&d=identicon&r=PG", "display_name": "Jibeex", "link": "https://stackoverflow.com/users/1495623/jibeex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 877, "favorite_count": 0, "accepted_answer_id": 54380222, "answer_count": 1, "score": 1, "last_activity_date": 1548519461, "creation_date": 1548282623, "last_edit_date": 1548317003, "question_id": 54336700, "link": "https://stackoverflow.com/questions/54336700/how-to-debug-kolin-vertx-web-app-in-ide-intellij", "title": "How to debug Kolin Vertx web app in IDE Intellij?", "body": "<p>I have created a Kotlin Vertx web app which runs with Gradle. But When I try to debug it by running Intellij debug configuration, the breakpoints aren't hitting. How can I make those breakpoints work ?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>buildscript {\r\n    ext {\r\n        kotlinVersion = '1.2.60'\r\n    }\r\n\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\"\r\n    }\r\n}\r\n\r\nplugins {\r\n    id 'java'\r\n    id 'application'\r\n    id 'com.github.johnrengelman.shadow' version '2.0.4'\r\n    id 'org.jetbrains.kotlin.jvm' version '1.3.11'\r\n    id 'jacoco'\r\n    id 'de.jansauer.printcoverage' version '2.0.0'}\r\n\r\njacoco{\r\n    toolVersion = '0.8.2'\r\n}\r\n\r\njacocoTestCoverageVerification {\r\n    violationRules {\r\n        rule {\r\n            limit {\r\n                minimum = 0.1\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\njacocoTestReport {\r\n    reports {\r\n        csv.enabled true\r\n        xml.enabled true\r\n        html {\r\n            enabled true\r\n            destination file(\"$buildDir/reports/jacoco\")\r\n        }\r\n    }\r\n    executionData(test)\r\n}\r\n\r\ntasks.build.dependsOn(jacocoTestReport)\r\n\r\nprintcoverage {\r\n    coverageType = 'INSTRUCTION'\r\n}\r\n\r\napply plugin: 'kotlin'\r\n\r\next {\r\n    kotlinVersion = '1.2.60'\r\n    vertxVersion = '3.6.2'\r\n    junitJupiterEngineVersion = '5.2.0'\r\n}\r\n\r\nrepositories {\r\n    mavenLocal()\r\n    jcenter()\r\n}\r\n\r\ngroup 'com.joyfulyell'\r\nversion '1.0-SNAPSHOT'\r\n\r\nsourceCompatibility = '1.8'\r\nmainClassName = 'io.vertx.core.Launcher'\r\n\r\ndef mainVerticleName = 'io.vertx.starter.MainVerticle'\r\ndef watchForChange = 'src/**/*'\r\ndef doOnChange = './gradlew classes'\r\n\r\ndependencies {\r\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\r\n    compile \"io.vertx:vertx-core:$vertxVersion\"\r\n    compile \"io.vertx:vertx-web:$vertxVersion\"\r\n    compile \"io.vertx:vertx-lang-kotlin:$vertxVersion\"\r\n    compile \"io.vertx:vertx-mongo-client:$vertxVersion\"\r\n    implementation 'org.kodein.di:kodein-di-generic-jvm:6.0.1'\r\n    compile \"com.fasterxml.jackson.module:jackson-module-kotlin:2.9.+\"\r\n    compile 'com.beust:klaxon:5.0.3'\r\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.1.0'\r\n\r\n    testImplementation \"io.vertx:vertx-junit5:$vertxVersion\"\r\n    testRuntime(\"org.junit.jupiter:junit-jupiter-engine:$junitJupiterEngineVersion\")\r\n}\r\n\r\ntasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\r\n    kotlinOptions {\r\n        jvmTarget = \"1.8\"\r\n    }\r\n}\r\n\r\nshadowJar {\r\n    classifier = 'fat'\r\n    manifest {\r\n        attributes 'Main-Verticle': mainVerticleName\r\n    }\r\n    mergeServiceFiles {\r\n        include 'META-INF/services/io.vertx.core.spi.VerticleFactory'\r\n    }\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n    testLogging {\r\n        events 'PASSED', 'FAILED', 'SKIPPED'\r\n    }\r\n    reports {\r\n        junitXml.enabled = true\r\n        html.enabled = true\r\n    }\r\n    jacoco{\r\n        append = false\r\n        destinationFile = file(\"$buildDir/jacoco/jacocoTest.exec\")\r\n        classDumpDir = file(\"$buildDir/jacoco/classpathdumps\")\r\n    }\r\n}\r\n\r\nrun {\r\n    args = ['run', mainVerticleName,\r\n            \"--redeploy=$watchForChange\",\r\n            \"--launcher-class=$mainClassName\",\r\n            \"--on-redeploy=$doOnChange\"\r\n    ]\r\n}\r\n\r\ntask wrapper(type: Wrapper) {\r\n    gradleVersion = '5.0'\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://i.stack.imgur.com/nzn8o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nzn8o.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "gradle", "kotlin", "gradle-plugin"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1548286184, "post_id": 54336667, "comment_id": 95491686, "body": "It&#39;s a new issue with Android build tools. Tracked at <a href=\"https://issuetracker.google.com/123310328\" rel=\"nofollow noreferrer\">issuetracker.google.com/123310328</a>"}], "answers": [{"tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": false, "score": 1, "last_activity_date": 1556284594, "creation_date": 1556284594, "answer_id": 55868479, "question_id": 54336667, "link": "https://stackoverflow.com/questions/54336667/warning-about-bundled-kotlin-runtime-library-when-building-against-android-gradl/55868479#55868479", "title": "Warning about bundled Kotlin Runtime library when building against Android gradle build tools 3.3.0", "body": "<p>I followed the issue tracker that Doug linked in a comment and found out that this has been fixed in <strong>Android Studio 3.3</strong> and <strong>Android Studio 3.4</strong> if anyone was wondering.</p>\n\n<p><a href=\"https://issuetracker.google.com/issues/123310328#comment6\" rel=\"nofollow noreferrer\">Here is the relevant comment</a>.</p>\n"}], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1065, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1556284594, "creation_date": 1548282472, "question_id": 54336667, "link": "https://stackoverflow.com/questions/54336667/warning-about-bundled-kotlin-runtime-library-when-building-against-android-gradl", "title": "Warning about bundled Kotlin Runtime library when building against Android gradle build tools 3.3.0", "body": "<p>I'm building a Gradle plugin with Kotlin that compiles against the Android build tools so I can use the Android Transform API, and also get Android build configuration at runtime from the Android plugin.  I've had no problems with this configurations so far:</p>\n\n<pre><code>apply plugin: 'java-gradle-plugin'\napply plugin: 'kotlin'\napply plugin: 'maven'\n\nrepositories {\n    google()\n    jcenter()\n}\n\ndependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n\n    implementation 'commons-io:commons-io:2.6'\n    implementation 'org.ow2.asm:asm:7.0'\n\n    compileOnly gradleApi()\n    compileOnly('com.android.tools.build:gradle:3.2.1') {\n        exclude group: 'org.jetbrains.kotlin'\n    }\n}\n\ncompileKotlin {\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n}\ncompileTestKotlin {\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n}\n</code></pre>\n\n<p>Note that I have to exclude Kotlin transitive dependencies from the Android build tools library, or possibly get Kotlin version warnings.  And this is just fine.</p>\n\n<p>However, <strong>when I upgrade the Android build tools to 3.3.0</strong>, I get this warning during the Gradle build:</p>\n\n<blockquote>\n  <p>w: Some JAR files in the classpath have the Kotlin Runtime library\n  bundled into them. This may cause difficult to debug problems if\n  there's a different version of the Kotlin Runtime library in the\n  classpath. Consider removing these libraries from the classpath</p>\n  \n  <p>w: /path/to/.gradle/caches/modules-2/files-2.1/com.android.tools.build/builder/3.3.0/de1cc306a8a198f59d56cb9a909d9a4f516116e7/builder-3.3.0.jar:\n  <strong>Library has Kotlin runtime bundled into it</strong></p>\n</blockquote>\n\n<p>This warning doesn't seem to pose any problems in practice (everything still builds and runs OK), but obviously I don't like having the warning there, and I don't know what's causing it.  When I view the dependency tree, I don't even see any bundled Kotlin libraries that don't come from my own declaration:</p>\n\n<pre><code>compileClasspath - Compile classpath for compilation 'main' (target  (jvm)).\n+--- com.android.tools.build:gradle:3.3.0\n|    +--- com.android.tools.build:builder:3.3.0\n|    |    +--- com.android.tools.build:builder-model:3.3.0\n|    |    |    \\--- com.android.tools:annotations:26.3.0\n|    |    +--- com.android.tools.build:builder-test-api:3.3.0\n|    |    |    \\--- com.android.tools.ddms:ddmlib:26.3.0\n|    |    |         +--- com.android.tools:common:26.3.0\n|    |    |         |    +--- com.android.tools:annotations:26.3.0\n|    |    |         |    \\--- com.google.guava:guava:26.0-jre\n|    |    |         |         +--- com.google.code.findbugs:jsr305:3.0.2\n|    |    |         |         +--- org.checkerframework:checker-qual:2.5.2\n|    |    |         |         +--- com.google.errorprone:error_prone_annotations:2.1.3 -&gt; 2.2.0\n|    |    |         |         +--- com.google.j2objc:j2objc-annotations:1.1\n|    |    |         |         \\--- org.codehaus.mojo:animal-sniffer-annotations:1.14\n|    |    |         \\--- net.sf.kxml:kxml2:2.3.0\n|    |    +--- com.android.tools:sdklib:26.3.0\n|    |    |    +--- com.android.tools.layoutlib:layoutlib-api:26.3.0\n|    |    |    |    +--- com.android.tools:common:26.3.0 (*)\n|    |    |    |    +--- net.sf.kxml:kxml2:2.3.0\n|    |    |    |    +--- com.android.tools:annotations:26.3.0\n|    |    |    |    \\--- org.jetbrains:annotations:13.0\n|    |    |    +--- com.android.tools:dvlib:26.3.0\n|    |    |    |    \\--- com.android.tools:common:26.3.0 (*)\n|    |    |    +--- com.android.tools:repository:26.3.0\n|    |    |    |    +--- com.android.tools:common:26.3.0 (*)\n|    |    |    |    +--- com.sun.activation:javax.activation:1.2.0\n|    |    |    |    +--- org.apache.commons:commons-compress:1.12\n|    |    |    |    +--- org.glassfish.jaxb:jaxb-runtime:2.2.11\n|    |    |    |    |    +--- org.glassfish.jaxb:jaxb-core:2.2.11\n|    |    |    |    |    |    +--- javax.xml.bind:jaxb-api:2.2.12-b140109.1041\n|    |    |    |    |    |    +--- org.glassfish.jaxb:txw2:2.2.11\n|    |    |    |    |    |    \\--- com.sun.istack:istack-commons-runtime:2.21\n|    |    |    |    |    +--- org.jvnet.staxex:stax-ex:1.7.7\n|    |    |    |    |    \\--- com.sun.xml.fastinfoset:FastInfoset:1.2.13\n|    |    |    |    \\--- com.google.jimfs:jimfs:1.1\n|    |    |    |         \\--- com.google.guava:guava:18.0 -&gt; 26.0-jre (*)\n|    |    |    +--- com.google.code.gson:gson:2.8.0\n|    |    |    +--- org.apache.commons:commons-compress:1.12\n|    |    |    +--- org.apache.httpcomponents:httpmime:4.5.2\n|    |    |    |    \\--- org.apache.httpcomponents:httpclient:4.5.2\n|    |    |    |         +--- org.apache.httpcomponents:httpcore:4.4.4 -&gt; 4.4.5\n|    |    |    |         +--- commons-logging:commons-logging:1.2\n|    |    |    |         \\--- commons-codec:commons-codec:1.9\n|    |    |    \\--- org.apache.httpcomponents:httpcore:4.4.5\n|    |    +--- com.android.tools:sdk-common:26.3.0\n|    |    |    +--- com.android.tools:sdklib:26.3.0 (*)\n|    |    |    +--- com.android.tools.build:builder-test-api:3.3.0 (*)\n|    |    |    +--- com.android.tools.build:builder-model:3.3.0 (*)\n|    |    |    +--- com.android.tools.ddms:ddmlib:26.3.0 (*)\n|    |    |    +--- org.bouncycastle:bcpkix-jdk15on:1.56\n|    |    |    |    \\--- org.bouncycastle:bcprov-jdk15on:1.56\n|    |    |    +--- org.bouncycastle:bcprov-jdk15on:1.56\n|    |    |    +--- com.google.protobuf:protobuf-java:3.4.0\n|    |    |    \\--- javax.inject:javax.inject:1\n|    |    +--- com.android.tools:common:26.3.0 (*)\n|    |    +--- com.android.tools.build:manifest-merger:26.3.0\n|    |    |    +--- com.android.tools:common:26.3.0 (*)\n|    |    |    +--- com.android.tools:sdklib:26.3.0 (*)\n|    |    |    +--- com.android.tools:sdk-common:26.3.0 (*)\n|    |    |    +--- com.google.code.gson:gson:2.8.0\n|    |    |    \\--- net.sf.kxml:kxml2:2.3.0\n|    |    +--- com.android.tools.ddms:ddmlib:26.3.0 (*)\n|    |    +--- com.android.tools.analytics-library:protos:26.3.0\n|    |    |    \\--- com.google.protobuf:protobuf-java:3.4.0\n|    |    +--- com.android.tools.analytics-library:shared:26.3.0\n|    |    |    +--- com.android.tools.analytics-library:protos:26.3.0 (*)\n|    |    |    +--- com.android.tools:annotations:26.3.0\n|    |    |    +--- com.android.tools:common:26.3.0 (*)\n|    |    |    +--- com.google.guava:guava:26.0-jre (*)\n|    |    |    \\--- com.google.code.gson:gson:2.8.0\n|    |    +--- com.android.tools.analytics-library:tracker:26.3.0\n|    |    |    +--- com.android.tools:annotations:26.3.0\n|    |    |    +--- com.android.tools:common:26.3.0 (*)\n|    |    |    +--- com.android.tools.analytics-library:protos:26.3.0 (*)\n|    |    |    +--- com.android.tools.analytics-library:shared:26.3.0 (*)\n|    |    |    +--- com.google.protobuf:protobuf-java:3.4.0\n|    |    |    \\--- com.google.guava:guava:26.0-jre (*)\n|    |    +--- com.android.tools.build:apksig:3.3.0\n|    |    +--- com.android.tools.build:apkzlib:3.3.0\n|    |    |    +--- com.google.code.findbugs:jsr305:1.3.9 -&gt; 3.0.2\n|    |    |    +--- com.google.guava:guava:23.0 -&gt; 26.0-jre (*)\n|    |    |    +--- org.bouncycastle:bcpkix-jdk15on:1.56 (*)\n|    |    |    +--- org.bouncycastle:bcprov-jdk15on:1.56\n|    |    |    \\--- com.android.tools.build:apksig:3.3.0\n|    |    +--- com.squareup:javawriter:2.5.0\n|    |    +--- org.bouncycastle:bcpkix-jdk15on:1.56 (*)\n|    |    +--- org.bouncycastle:bcprov-jdk15on:1.56\n|    |    +--- org.ow2.asm:asm:6.0 -&gt; 7.0\n|    |    +--- org.ow2.asm:asm-tree:6.0\n|    |    |    \\--- org.ow2.asm:asm:6.0 -&gt; 7.0\n|    |    +--- org.ow2.asm:asm-commons:6.0\n|    |    |    \\--- org.ow2.asm:asm-tree:6.0 (*)\n|    |    +--- org.ow2.asm:asm-util:6.0\n|    |    |    \\--- org.ow2.asm:asm-tree:6.0 (*)\n|    |    +--- it.unimi.dsi:fastutil:7.2.0\n|    |    +--- net.sf.jopt-simple:jopt-simple:4.9\n|    |    \\--- com.googlecode.json-simple:json-simple:1.1\n|    +--- com.android.tools.analytics-library:shared:26.3.0 (*)\n|    +--- com.android.tools.analytics-library:crash:26.3.0\n|    |    +--- com.android.tools:annotations:26.3.0\n|    |    +--- com.google.guava:guava:26.0-jre (*)\n|    |    +--- org.apache.httpcomponents:httpmime:4.5.2 (*)\n|    |    +--- org.apache.httpcomponents:httpcore:4.4.5\n|    |    \\--- org.apache.httpcomponents:httpclient:4.5.2 (*)\n|    +--- com.android.tools.lint:lint-gradle-api:26.3.0\n|    |    +--- com.android.tools:sdklib:26.3.0 (*)\n|    |    +--- com.android.tools.build:builder-model:3.3.0 (*)\n|    |    +--- com.android.tools.build:gradle-api:3.3.0\n|    |    |    +--- com.android.tools.build:builder-model:3.3.0 (*)\n|    |    |    +--- com.android.tools.build:builder-test-api:3.3.0 (*)\n|    |    |    \\--- com.google.guava:guava:26.0-jre (*)\n|    |    \\--- com.google.guava:guava:26.0-jre (*)\n|    +--- com.android.tools.build:gradle-api:3.3.0 (*)\n|    +--- androidx.databinding:databinding-compiler-common:3.3.0\n|    |    +--- androidx.databinding:databinding-common:3.3.0\n|    |    +--- com.android.databinding:baseLibrary:3.3.0\n|    |    +--- org.antlr:antlr4:4.5.3\n|    |    +--- commons-io:commons-io:2.4 -&gt; 2.6\n|    |    +--- com.googlecode.juniversalchardet:juniversalchardet:1.0.3\n|    |    +--- com.google.guava:guava:26.0-jre (*)\n|    |    +--- com.squareup:javapoet:1.8.0\n|    |    +--- com.google.code.gson:gson:2.8.0\n|    |    +--- com.android.tools:annotations:26.3.0\n|    |    \\--- com.android.tools.build.jetifier:jetifier-core:1.0.0-beta02\n|    |         \\--- com.google.code.gson:gson:2.8.0\n|    +--- com.android.tools.build:transform-api:2.0.0-deprecated-use-gradle-api\n|    +--- org.ow2.asm:asm:6.0 -&gt; 7.0\n|    +--- org.ow2.asm:asm-analysis:6.0\n|    |    \\--- org.ow2.asm:asm-tree:6.0 (*)\n|    +--- org.ow2.asm:asm-commons:6.0 (*)\n|    +--- org.ow2.asm:asm-util:6.0 (*)\n|    +--- net.sf.jopt-simple:jopt-simple:4.9\n|    +--- net.sf.proguard:proguard-gradle:6.0.3\n|    |    \\--- net.sf.proguard:proguard-base:6.0.3\n|    +--- com.android.tools.build:bundletool:0.6.0\n|    |    +--- com.google.auto.value:auto-value:1.5.2\n|    |    +--- com.android.tools.build:aapt2-proto:0.3.1\n|    |    |    \\--- com.google.protobuf:protobuf-java:3.4.0\n|    |    +--- com.google.errorprone:error_prone_annotations:2.2.0\n|    |    +--- com.google.guava:guava:26.0-jre (*)\n|    |    +--- com.google.protobuf:protobuf-java:3.4.0\n|    |    \\--- com.google.protobuf:protobuf-java-util:3.4.0\n|    |         +--- com.google.protobuf:protobuf-java:3.4.0\n|    |         +--- com.google.guava:guava:19.0 -&gt; 26.0-jre (*)\n|    |         \\--- com.google.code.gson:gson:2.7 -&gt; 2.8.0\n|    +--- com.android.tools.build.jetifier:jetifier-core:1.0.0-beta02 (*)\n|    \\--- com.android.tools.build.jetifier:jetifier-processor:1.0.0-beta02\n|         +--- org.ow2.asm:asm:6.0 -&gt; 7.0\n|         +--- org.ow2.asm:asm-util:6.0 (*)\n|         +--- org.ow2.asm:asm-commons:6.0 (*)\n|         +--- org.jdom:jdom2:2.0.6\n|         \\--- com.android.tools.build.jetifier:jetifier-core:1.0.0-beta02 (*)\n+--- org.jetbrains.kotlin:kotlin-stdlib:1.3.20\n|    +--- org.jetbrains.kotlin:kotlin-stdlib-common:1.3.20\n|    \\--- org.jetbrains:annotations:13.0\n+--- commons-io:commons-io:2.6\n\\--- org.ow2.asm:asm:7.0\n</code></pre>\n\n<p>Is there any way to clean up this warning, or am I looking at a bug here?</p>\n\n<p>Gradle version is 5.1.1.</p>\n"}, {"tags": ["generics", "kotlin", "reification", "inferred-type"], "answers": [{"comments": [{"owner": {"reputation": 1071, "user_id": 630485, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/100001041997293/picture?type=large", "display_name": "Justin Hammenga", "link": "https://stackoverflow.com/users/630485/justin-hammenga"}, "edited": false, "score": 0, "creation_date": 1548284200, "post_id": 54336821, "comment_id": 95491113, "body": "Thanks for a quick answer. In my case I&#39;d access it post-construction as well. Good point on the immutable state, as that&#39;s what I intend. I&#39;ll add that as Edit Comments to the original post.  The goal is to implement the minimum protocol requirements by supplying a more complex variant in the subtype, but still identifiable as the complex variant by it&#39;s protocol accessor.  I keep looking at Swift&#39;s associatedtype on this topic as I feel that hints to what I seek: <a href=\"https://www.hackingwithswift.com/example-code/language/what-is-a-protocol-associated-type\" rel=\"nofollow noreferrer\">hackingwithswift.com/example-code/language/&hellip;</a>"}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "reply_to_user": {"reputation": 1071, "user_id": 630485, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/100001041997293/picture?type=large", "display_name": "Justin Hammenga", "link": "https://stackoverflow.com/users/630485/justin-hammenga"}, "edited": false, "score": 1, "creation_date": 1548287746, "post_id": 54336821, "comment_id": 95492043, "body": "In that case, it sounds like you <i>do</i> want the generic type parameter, in which case it should look like <code>class Animal&lt;F: Food&gt; { val favoriteFood: F }</code>.  No casting or the like is necessary, but you <i>will</i> have to accept the extra type parameters."}], "tags": [], "owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "is_accepted": false, "score": 1, "last_activity_date": 1548283378, "creation_date": 1548283378, "answer_id": 54336821, "question_id": 54336447, "link": "https://stackoverflow.com/questions/54336447/inferred-types-recognisable-by-protocol-implementation-in-kotlin/54336821#54336821", "title": "Inferred types recognisable by protocol implementation in Kotlin", "body": "<p>As long as you're only trying to access the <code>favoriteFood</code> at construction time, this isn't too bad:</p>\n\n<pre><code>class Monkey: Animal {\n    override var favoriteFood: Food? // no initializer here\n\n    init {\n        val food = Banana()\n        favoriteFood = food\n        food.peel()\n    }\n}\n</code></pre>\n\n<p>If you're <em>not</em> restricting yourself to <code>init</code> sections and other construction-time operations, then what you're trying to do is fundamentally broken.</p>\n\n<pre><code>val animal: Animal = Monkey()\nanimal.favoriteFood = Orange() // favoriteFood is a var, so it's publicly modifiable\nanimal.something() // can't assume favoriteFood is a Banana!\n</code></pre>\n\n<p>You could make <code>favoriteFood</code> into a <code>val</code>, which would help.  But you can't make <code>favoriteFood</code> mutable from outside the type in <code>Food</code> and try to restrict the type of <code>favoriteFood</code> in subtypes.</p>\n"}], "owner": {"reputation": 1071, "user_id": 630485, "user_type": "registered", "accept_rate": 20, "profile_image": "https://graph.facebook.com/100001041997293/picture?type=large", "display_name": "Justin Hammenga", "link": "https://stackoverflow.com/users/630485/justin-hammenga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548284356, "creation_date": 1548281327, "last_edit_date": 1548284356, "question_id": 54336447, "link": "https://stackoverflow.com/questions/54336447/inferred-types-recognisable-by-protocol-implementation-in-kotlin", "title": "Inferred types recognisable by protocol implementation in Kotlin", "body": "<p>I'm trying to create a system where implementations of a protocol (or abstract class) fulfill the minimum requirements of that protocol, but still has access to the unique functionality that come with the provided solution. Let me illustrate with an example:</p>\n\n<pre><code>interface Food\ninterface Animal {\n    val favoriteFood: Food\n}\n\nclass Banana: Food {\n    fun peel() {\n        print(\"Banana peeled\")\n    }\n}\n\nclass Monkey: Animal {\n    override val favoriteFood: Food = Banana()\n\n    init {\n        favoriteFood.peel() // Doesn't work as type is Food, not Banana\n    }\n}\n</code></pre>\n\n<p>Now to crack this I've been looking into generics and reified functions, but I haven't been able to come up with something that works in an expressive way.</p>\n\n<p>I should note that my implementations would have to fulfill more than one requirement. I could make that work by using generics on the protocol.</p>\n\n<pre><code>interface Animal&lt;T: Food, B: Behaviour&gt;\n</code></pre>\n\n<p>This would work, but with multiple requirements it quickly looks ridiculous and I feel I'm missing something. Generics on properties don't work, unless I'm missing something in the next example.:</p>\n\n<pre><code>// Protocol\nval &lt;T&gt; favoriteFood: &lt;T: Food&gt;\n// Implementation (ideally, but wouldn't work like that I guess)\noverride val favoriteFood: Banana = Banana()\n</code></pre>\n\n<p>Then my reified approach doesn't look that pretty either:</p>\n\n<pre><code>open class Animal {\n    // This should ideally be private to prevent incorrect use\n    var favoriteFood: Food? = null\n\n    fun registerFavoriteFood(food: Food) {\n        favoriteFood = food\n    }\n\n    // This probably doesn't even have to be inline+reified\n    inline fun &lt;reified  T&gt; getFavoriteFood() : T {\n        // Of course we need to validate if favoriteFood matches T \n        return favoriteFood as T\n    } \n}\n\nclass Monkey: Animal() {\n    init {\n        registerFavoriteFood(Banana())\n        getFavoriteFood&lt;Banana&gt;().peel()\n    }\n}\n</code></pre>\n\n<p>At this point I'm not fully sure whether I don't see how to do it, or whether it's not possible. It feels like it's possible though and I wonder if any of you can point me in the right direction on how to solve it.</p>\n\n<p>Or maybe it doesn't even make sense what I'm trying to do, but even that I'd like to hear, as it does make sense for the setup I envision.</p>\n\n<p>Thanks in advance.</p>\n\n<p><strong>Edit after first response:</strong>\nI intend to access favoriteFood beyond the construction phase as well.\nTurned the mutable favoriteFood into a val as that better fits the goal.</p>\n"}, {"tags": ["kotlin", "enums"], "comments": [{"owner": {"reputation": 196, "user_id": 3150714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/707d45c5535627f9c754a47f42fb6b7f?s=128&d=identicon&r=PG&f=1", "display_name": "crack_head", "link": "https://stackoverflow.com/users/3150714/crack-head"}, "edited": false, "score": 0, "creation_date": 1599828859, "post_id": 54336074, "comment_id": 112903625, "body": "You should pass the enum instead of passing Int as a param to make the code cleaner  <code>fun f(status: PaymentStatus) {    val foo = when (status) {      PaymentStatus.PAID -&gt; &quot;PAID&quot;      PaymentStatus.UNPAID -&gt; &quot;UNPAID&quot;    } }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 4573378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c3170e9952a5afb60ed9485ad503c27?s=128&d=identicon&r=PG&f=1", "display_name": "serhan", "link": "https://stackoverflow.com/users/4573378/serhan"}, "edited": false, "score": 0, "creation_date": 1548368402, "post_id": 54336252, "comment_id": 95527472, "body": "Thanks very much, although more cluttered than I would&#39;ve liked, i went with the second option you listed."}, {"owner": {"reputation": 244, "user_id": 3924372, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9PJte.jpg?s=128&g=1", "display_name": "finalpets", "link": "https://stackoverflow.com/users/3924372/finalpets"}, "reply_to_user": {"reputation": 123, "user_id": 4573378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c3170e9952a5afb60ed9485ad503c27?s=128&d=identicon&r=PG&f=1", "display_name": "serhan", "link": "https://stackoverflow.com/users/4573378/serhan"}, "edited": false, "score": 0, "creation_date": 1591399612, "post_id": 54336252, "comment_id": 110051686, "body": "Like @serhan i like the second solution more cleaner! thanks!"}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 10, "last_activity_date": 1548280654, "last_edit_date": 1548280654, "creation_date": 1548280258, "answer_id": 54336252, "question_id": 54336074, "link": "https://stackoverflow.com/questions/54336074/kotlin-using-enums-with-when/54336252#54336252", "title": "Kotlin: Using enums with when", "body": "<p>If you need to check a value you can do something like this:</p>\n\n<pre><code>fun f(x: Int) {\n    val foo = when (x) {\n        PaymentStatus.PAID.value -&gt; \"PAID\"\n        PaymentStatus.UNPAID.value -&gt; \"UNPAID\"\n\n        else -&gt; throw IllegalStateException()\n    }\n}\n</code></pre>\n\n<p>Or you can create factory method <code>create</code> in the <strong>companion object</strong> of <strong>enum</strong> class:</p>\n\n<pre><code>enum class PaymentStatus(val value: Int) {\n    PAID(1),\n    UNPAID(2);\n\n    companion object {\n        fun create(x: Int): PaymentStatus {\n            return when (x) {\n                1 -&gt; PAID\n                2 -&gt; UNPAID\n                else -&gt; throw IllegalStateException()\n            }\n        }\n    }\n}\n\nfun f(x: Int) {\n    val foo = when (PaymentStatus.create(x)) {\n        PaymentStatus.PAID -&gt; \"PAID\"\n        PaymentStatus.UNPAID -&gt; \"UNPAID\"\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 123, "user_id": 4573378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c3170e9952a5afb60ed9485ad503c27?s=128&d=identicon&r=PG&f=1", "display_name": "serhan", "link": "https://stackoverflow.com/users/4573378/serhan"}, "edited": false, "score": 0, "creation_date": 1548368306, "post_id": 54337711, "comment_id": 95527434, "body": "if you read the question carefully i am interested in &quot;the benefit of <i>when (full coverage)</i> .&quot; not sure how your suggestion accomplishes that. but thanks anyways."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 123, "user_id": 4573378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c3170e9952a5afb60ed9485ad503c27?s=128&d=identicon&r=PG&f=1", "display_name": "serhan", "link": "https://stackoverflow.com/users/4573378/serhan"}, "edited": false, "score": 0, "creation_date": 1548369641, "post_id": 54337711, "comment_id": 95527879, "body": "@serhan what do you mean by &quot;benefit of when (full coverage)&quot;? do you mean that you want to run specific code if x is passed to f and when with its branches gives you that opportunity?"}, {"owner": {"reputation": 123, "user_id": 4573378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c3170e9952a5afb60ed9485ad503c27?s=128&d=identicon&r=PG&f=1", "display_name": "serhan", "link": "https://stackoverflow.com/users/4573378/serhan"}, "edited": false, "score": 1, "creation_date": 1592494913, "post_id": 54337711, "comment_id": 110452323, "body": "sorry it took a while for me to see your comment, what I meant with <i>&quot;benefit of when (full coverage)&quot;</i>, was the built in ability for kotlin compiler to flag when a new value is added to an enumeration. Its a long term maintenance issue, where an enum is referenced in 20 places, if a new value is added, you want to be able to make sure all those locations reference that enum have ability to handle the new value, <code>when</code> will produce that error for you in compile time, if you forget one of those places. In contrast <code>switch &#47; if..else..</code> you would not get that."}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 123, "user_id": 4573378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c3170e9952a5afb60ed9485ad503c27?s=128&d=identicon&r=PG&f=1", "display_name": "serhan", "link": "https://stackoverflow.com/users/4573378/serhan"}, "edited": false, "score": 1, "creation_date": 1592569174, "post_id": 54337711, "comment_id": 110479359, "body": "@serhan Yep, I get what you mean! See my edit pls. What you mean by &quot;full coverage&quot; is a when which is exhaustive (so without else)."}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 3, "last_activity_date": 1592569120, "last_edit_date": 1592569120, "creation_date": 1548289620, "answer_id": 54337711, "question_id": 54336074, "link": "https://stackoverflow.com/questions/54336074/kotlin-using-enums-with-when/54337711#54337711", "title": "Kotlin: Using enums with when", "body": "<p>You don't need <code>when</code> in this particular use-case.</p>\n\n<p>Since your goal is to get the name of the <code>enum</code> element having a specific value <code>x</code>, you can iterate over the elements of <code>PaymentStatus</code> like that and pick the matching element using <code>firstOrNull</code>:</p>\n\n<pre><code>fun getStatusWithValue(x: Int) = PaymentStatus.values().firstOrNull {\n     it.value == x\n}?.toString()\n\nprintln(getStatusWithValue(2)) // \"UNPAID\"\n</code></pre>\n\n<p>Calling <code>toString()</code> on an <code>enum</code> element will return its name.</p>\n\n<p><strong>Edit:</strong> Since you don't want the code to compile when a new <code>PaymentStatus</code> is added, you can just use an exhaustive <code>when</code>:</p>\n\n<pre><code>fun paymentStatusNumToString(x: Int): String {\n  val status = PaymentStatus.values().first { it.value == x }\n\n  // when must be exhaustive here, because we don't use an else branch\n  return when(status) {\n    PaymentStatus.PAID -&gt; \"PAID\" // you could use status.toString() here too\n    PaymentStatus.UNPAID -&gt; \"UNPAID\"\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 3, "last_activity_date": 1548434857, "creation_date": 1548434857, "answer_id": 54369540, "question_id": 54336074, "link": "https://stackoverflow.com/questions/54336074/kotlin-using-enums-with-when/54369540#54369540", "title": "Kotlin: Using enums with when", "body": "<p>It basically depends on how you want to solve the identification of the appropriate enum value. The rest is probably easy enough.</p>\n\n<p>Here are some variants to solve that:</p>\n\n<ol>\n<li><p>extension function to <code>PaymentStatus.Companion</code> (or integrate the function into the <code>PaymentStatus.Companion</code>):</p>\n\n<pre><code>fun PaymentStatus.Companion.fromValue(i : Int) = PaymentStatus.values().single { it.value = i } // or if you want another fallback, just use singleOrNull and add ?: with an appropriate default value\n</code></pre>\n\n<p>Usage of it in a <code>when</code>:</p>\n\n<pre><code>fun f(x : Int) = when (PaymentStatus.fromValue(x)) {\n  PAID -&gt; \"PAID\" // or PAID.name()\n  UNPAID -&gt; \"unpaid\" //...\n}\n</code></pre></li>\n<li><p>using a generic function for all your enums</p>\n\n<pre><code>inline fun &lt;reified T : Enum&lt;T&gt;&gt; identifyFrom(identifier : (T) -&gt; Boolean) = T::class.java.enumConstants.single(identifier) // or again: singleOrNull ?: throw IllegalArgumentException maybe?\n</code></pre>\n\n<p>with the following usage then:</p>\n\n<pre><code>fun f(x : Int) = when (identifyFrom&lt;PaymentStatus&gt; { it.value = x }) {\n  PAID -&gt; \"PAID\"\n  UNPAID -&gt; \"UNPAID\"\n}\n</code></pre>\n\n<p>this variant clearly has the benefit that it can be reused for basically any <code>enum</code> where you want to get a value based on some property or properties</p></li>\n<li><p>using <code>when</code> to identify the appropriate <code>enum</code>:</p>\n\n<pre><code>fun PaymentStatus.Companion.fromValue(i : Int) = when (i) {\n  1 -&gt; PAID\n  2 -&gt; UNPAID\n  else -&gt; IllegalArgumentException(\"$i is not a valid value for PaymentStatus\")\n}\n</code></pre>\n\n<p>same usage as with the first example. However: I wouldn't use this approach except you have a really good reason for it. The reason I wouldn't use it: it requires you to always remember to adapt both, the enum value and its corresponding counterpart in the <code>fromValue</code>-function. So you always have to update the values (at least) twice ;-)</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 3270, "user_id": 727184, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/xARBY.png?s=128&g=1", "display_name": "GarouDan", "link": "https://stackoverflow.com/users/727184/garoudan"}, "is_accepted": false, "score": 1, "last_activity_date": 1591650632, "creation_date": 1591650632, "answer_id": 62271242, "question_id": 54336074, "link": "https://stackoverflow.com/questions/54336074/kotlin-using-enums-with-when/62271242#62271242", "title": "Kotlin: Using enums with when", "body": "<p>A possible workaround to use <code>when</code> with an <code>enum</code> is the following (maybe it will not target the question entirely but I think is a good idea to have it here as a reference):</p>\n\n<pre><code>package com.company.my_package\n\nimport com.company.my_package.MyEnum.*\n\nenum class MyEnum {\n    ENUM_ITEM_1,\n    ENUM_ITEM_2,\n    ENUM_ITEM_3\n}\n\nval myCommand1 = { input: Any? -&gt; input.toString() }\nval myCommand2 = { input: Any? -&gt; input.toString() }\nval myCommand3 = { input: Any? -&gt; input.toString() }\nval myElseCommand = { input: Any? -&gt; input.toString() }\n\nfun main() {\n    val myValue = null\n\n    when {\n        ENUM_ITEM_1 == myValue -&gt; myCommand1(myValue)\n        ENUM_ITEM_2 == myValue -&gt; myCommand2(myValue)\n        ENUM_ITEM_3 == myValue -&gt; myCommand3(myValue)\n        else -&gt; myElseCommand(myValue)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 123, "user_id": 4573378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c3170e9952a5afb60ed9485ad503c27?s=128&d=identicon&r=PG&f=1", "display_name": "serhan", "link": "https://stackoverflow.com/users/4573378/serhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7533, "favorite_count": 1, "accepted_answer_id": 54336252, "answer_count": 4, "score": 10, "last_activity_date": 1604948432, "creation_date": 1548279513, "last_edit_date": 1548289740, "question_id": 54336074, "link": "https://stackoverflow.com/questions/54336074/kotlin-using-enums-with-when", "title": "Kotlin: Using enums with when", "body": "<p>Is there any way to cast a when argument to an enum?</p>\n\n<pre><code> enum class PaymentStatus(val value: Int) {\n     PAID(1),\n     UNPAID(2) \n }\n\nfun f(x: Int) {\n   val foo = when (x) {\n     PaymentStatus.PAID -&gt; \"PAID\"\n     PaymentStatus.UNPAID -&gt; \"UNPAID\"\n   }\n}\n</code></pre>\n\n<p>The above example will not work, as x is int and the values provided are the enum, if I go by <code>PaymentStatus.PAID.value</code> it would work but then I don't get the benefit of when (full coverage), and </p>\n\n<pre><code>when (x as PaymentStatus)\n</code></pre>\n\n<p>does not work.</p>\n\n<p>Any one have any ideas to make this work?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "reply_to_user": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "edited": false, "score": 0, "creation_date": 1548329762, "post_id": 54335877, "comment_id": 95506891, "body": "The relative path (without drive name on Windows or slash on Mac/Linux) is resolved from the current working directory of your Java process. You may try the full path instead to make it work. Or check if your working directory.  Should you refer to Java resource files? Than use something like ``` javaClass.classLoader.getResourceStream(&quot;pairs_ids.txt&quot;)?.us&zwnj;&#8203;e { stream -&gt; props.load(stream) } ``` I omit <code>resources</code>, probably you do not need them, but please check what you have in the classpath"}], "tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": false, "score": 3, "last_activity_date": 1548278687, "creation_date": 1548278687, "answer_id": 54335877, "question_id": 54335825, "link": "https://stackoverflow.com/questions/54335825/how-i-can-read-content-data-from-properties-file-to-properties-object/54335877#54335877", "title": "How I can read content data from properties file to Properties object?", "body": "<pre><code>val props = Properties()\nprops.load(...)\nprops.getProperty(\"key\")\n</code></pre>\n\n<p>That is the same as with Java</p>\n"}, {"tags": [], "owner": {"reputation": 365, "user_id": 10562333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ccB13.jpg?s=128&g=1", "display_name": "Christian Dr&#228;ger", "link": "https://stackoverflow.com/users/10562333/christian-dr%c3%a4ger"}, "is_accepted": false, "score": 2, "last_activity_date": 1553512420, "creation_date": 1553512420, "answer_id": 55336535, "question_id": 54335825, "link": "https://stackoverflow.com/questions/54335825/how-i-can-read-content-data-from-properties-file-to-properties-object/55336535#55336535", "title": "How I can read content data from properties file to Properties object?", "body": "<p>what I like to do in this case is something like:</p>\n\n<pre><code>@Suppress(\"UNCHECKED_CAST\")\nfun &lt;T&gt; getProp(key: String): T {\n    val props  = javaClass.classLoader.getResourceAsStream(\"pairs_ids.txt\").use {\n        Properties().apply { load(it) }\n    }\n    return (props.getProperty(key) as T) ?: throw RuntimeException(\"could not find property $key\")\n}\n</code></pre>\n\n<p>it will read the properties and tries to cast a certain property. \nbecause of kotlins type inference it can then be used like this:</p>\n\n<pre><code>val foo: String = getProp(\"ETH_BTC\")\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>val foo = getProp&lt;String&gt;(\"ETH_BTC\")\n</code></pre>\n"}], "owner": {"reputation": 8644, "user_id": 6813231, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/gy8Sg.jpg?s=128&g=1", "display_name": "a_subscriber", "link": "https://stackoverflow.com/users/6813231/a-subscriber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2493, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1553512420, "creation_date": 1548278460, "last_edit_date": 1548316815, "question_id": 54335825, "link": "https://stackoverflow.com/questions/54335825/how-i-can-read-content-data-from-properties-file-to-properties-object", "title": "How I can read content data from properties file to Properties object?", "body": "<p>In my Kotlin project in folder <strong>resources</strong> I has properties file. How I can read content data from this file to Properties object?</p>\n\n<p>I try this:</p>\n\n<pre><code> val fis = FileInputStream(\"resources/pairs_ids.txt\")\n    prop.load(fis);\n    logger.info(\"ETH_BTC_id = \" + prop.get(\"ETH_BTC\"))\n</code></pre>\n\n<p>But I get error:</p>\n\n<pre><code>Exception in thread \"main\" java.io.FileNotFoundException: resources\\pairs_ids.txt (The system cannot find the path specified)\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 3, "creation_date": 1548277883, "post_id": 54335677, "comment_id": 95488694, "body": "There is no <code>new</code> keyword in Kotlin. So the <code>()</code> means either a function call or a constructor call. In your case <code>Random()</code> mean <code>new Random()</code> in Java. While <code>Random.nextInt(3)</code> would mean a static function call (from java), Kotlin <code>object</code> method call or a <code>companion object</code> method call"}], "answers": [{"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 2, "last_activity_date": 1548312072, "last_edit_date": 1548312072, "creation_date": 1548280974, "answer_id": 54336373, "question_id": 54335677, "link": "https://stackoverflow.com/questions/54335677/why-is-the-included-when-calling-some-class-functions/54336373#54336373", "title": "Why is the () included when calling some class functions?", "body": "<p>Using methods of <code>java.util.Random</code> class you need to create an instance of that class. An instance of the class in Kotlin is created using <strong>NameOfClass()</strong> syntax. So to use <code>nextInt(3)</code> method of <code>Random</code> firstly you create an instance of that class <code>Random()</code> and then call <code>nextInt(3)</code> on created instance. So the whole code looks like this:</p>\n\n<pre><code>Random().nextInt(3)\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Actually in Kotlin you can use two types of <code>Random</code> classes - <code>java.util.Random</code> and <code>kotlin.random.Random</code>. If you use <code>Random</code> class from <code>java.util</code> package you need to create an instance of <code>Random</code> class:</p>\n\n<pre><code>java.util.Random().nextInt()\n</code></pre>\n\n<p>If you use <code>Random</code> class from <code>kotlin.random</code> package you don't need to create an instance of the class:</p>\n\n<pre><code>kotlin.random.Random.nextInt()\n</code></pre>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 54336373, "answer_count": 1, "score": 1, "last_activity_date": 1553201903, "creation_date": 1548277718, "last_edit_date": 1553201903, "question_id": 54335677, "link": "https://stackoverflow.com/questions/54335677/why-is-the-included-when-calling-some-class-functions", "title": "Why is the () included when calling some class functions?", "body": "<p>Here is my example: </p>\n\n<pre><code>fun randomDay() : String {\n    val days = arrayOf(\"Monday\", \"Tuesday\", \"Wednesday\")\n    return days[Random().nextInt(3)]\n}\n</code></pre>\n\n<p>How come it is <code>Random().nextInt(3)</code> and not <code>Random.nextInt(3)</code>?</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines", "jvm-languages"], "answers": [{"comments": [{"owner": {"reputation": 12214, "user_id": 6785908, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4d260895797435b1e59b3c2154a469f7?s=128&d=identicon&r=PG&f=1", "display_name": "so-random-dude", "link": "https://stackoverflow.com/users/6785908/so-random-dude"}, "edited": false, "score": 1, "creation_date": 1548308748, "post_id": 54336168, "comment_id": 95496364, "body": "Dear downvoter, please elaborate a bit to enlighten me"}, {"owner": {"reputation": 177928, "user_id": 1103872, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/84b1acc3351c02f560dea7ac7f76ac8d?s=128&d=identicon&r=PG", "display_name": "Marko Topolnik", "link": "https://stackoverflow.com/users/1103872/marko-topolnik"}, "edited": false, "score": 3, "creation_date": 1548319755, "post_id": 54336168, "comment_id": 95500968, "body": "The downvote may be about this answer contradicting the documentation, which specifically states &quot;using <code>async</code> or <code>launch</code> on the instance of <code>GlobalScope</code> is highly discouraged.&quot; However, for the cases where you truly want the coroutine lifetime to equal the lifetime of the JVM, the reasoning against <code>GlobalScope</code> is indeed thin."}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 9, "last_activity_date": 1563777233, "last_edit_date": 1563777233, "creation_date": 1548279862, "answer_id": 54336168, "question_id": 54335365, "link": "https://stackoverflow.com/questions/54335365/why-not-use-globalscope-launch/54336168#54336168", "title": "Why not use GlobalScope.launch?", "body": "<p>By the docs <strong>using async or launch on the instance of <code>GlobalScope</code> is highly discouraged, application code usually should use application-defined  <code>CoroutineScope</code></strong>.</p>\n\n<p>If we look at the definition of <code>GlobalScope</code> we will see that it is declared as <strong>object</strong>:</p>\n\n<pre><code>object GlobalScope : CoroutineScope { ... }\n</code></pre>\n\n<p>An <strong>object</strong> represents a <strong>single static instance(Singleton)</strong>. In <strong>Kotlin/JVM</strong> a static variable comes into existence when a class is loaded by the JVM and dies when the class is unloaded. When you first use of <code>GlobalScope</code> it will be loaded into the memory and stay there until one of the following happens:</p>\n\n<ol>\n<li>the class is unloaded</li>\n<li>the JVM shuts down</li>\n<li>the process dies</li>\n</ol>\n\n<p>So it will consume some memory while your server application is running.\nEven if your server app is finished running but process is not destroyed, a launched coroutine may still be running and consume the memory.</p>\n\n<p>Starting a new coroutine from the global scope using <code>GlobalScope.async</code> or <code>GlobalScope.launch</code> will create a top-level \"<strong>independent</strong>\" coroutine.</p>\n\n<p>The mechanism providing the structure of the coroutines is called <strong>structured concurrency</strong>. Let's see what benefits <strong>structured concurrency</strong> has over <strong>global scopes</strong>:</p>\n\n<blockquote>\n  <ul>\n  <li>The scope is generally responsible for child coroutines, and their lifetime is attached to the lifetime of the scope.</li>\n  <li>The scope can automatically cancel child coroutines if something goes wrong or if a user simply changes their mind and decides to\n  revoke the operation.</li>\n  <li>The scope automatically waits for completion of all the child coroutines. Therefore, if the scope corresponds to a coroutine, then\n  the parent coroutine does not complete until all the coroutines\n  launched in its scope are complete.</li>\n  </ul>\n</blockquote>\n\n<p>When using <code>GlobalScope.async</code> there is no structure that binds several coroutines to a smaller <strong>scope</strong>. The coroutines started from the <strong>global scope</strong> are all <strong>independent</strong>; their lifetime is limited only by the lifetime of the whole application. It is possible to store a reference to the coroutine started from the global scope and wait for its completion or cancel it explicitly, but it won't happen automatically as it would with a <strong>structured</strong> one. If we want to cancel all coroutines in the scope, with <strong>structured concurrency</strong>, we only need to cancel the parent coroutine and this automatically propagates cancellation to all the child coroutines.</p>\n\n<p>If you don't need to scope a coroutine to a specific lifetime object and you want to launch a top-level independent coroutine which is operating on the whole application lifetime and is not cancelled prematurely and you don't want to use the benefits of the <strong>structured concurrency</strong>, then go ahead and use <strong>global scopes</strong>.</p>\n"}, {"tags": [], "owner": {"reputation": 5302, "user_id": 4265739, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19cd59393a5b86c48f0da7bd5504c5b8?s=128&d=identicon&r=PG&f=1", "display_name": "leonardkraemer", "link": "https://stackoverflow.com/users/4265739/leonardkraemer"}, "is_accepted": false, "score": 3, "last_activity_date": 1548347928, "last_edit_date": 1548347928, "creation_date": 1548347064, "answer_id": 54351182, "question_id": 54335365, "link": "https://stackoverflow.com/questions/54335365/why-not-use-globalscope-launch/54351182#54351182", "title": "Why not use GlobalScope.launch?", "body": "<p>In your <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-global-scope/\" rel=\"nofollow noreferrer\">link</a> it states:</p>\n\n<blockquote>\n  <p>Application code usually should use application-defined\n  <code>CoroutineScope</code>, using <code>async</code> or <code>launch</code> on the instance of <code>GlobalScope</code>\n  is highly discouraged.</p>\n</blockquote>\n\n<p>My answer addresses this. </p>\n\n<p>Generally speaking <code>GlobalScope</code> may bad idea, because it is not bound to any job. You should use it for the following:</p>\n\n<blockquote>\n  <p>Global scope is used to launch top-level coroutines which are\n  operating on the whole application lifetime and are not cancelled\n  prematurely.</p>\n</blockquote>\n\n<p>Which does not seem to be your usecase.</p>\n\n<hr>\n\n<p>For more information there is a passage in the official docs at <a href=\"https://kotlinlang.org/docs/reference/coroutines/basics.html#structured-concurrency\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/coroutines/basics.html#structured-concurrency</a></p>\n\n<blockquote>\n  <p>There is still something to be desired for practical usage of\n  coroutines. When we use <code>GlobalScope.launch</code> we create a top-level\n  coroutine. Even though it is light-weight, it still consumes some\n  memory resources while it runs. If we forget to keep a reference to\n  the newly launched coroutine it still runs. What if the code in the\n  coroutine hangs (for example, we erroneously delay for too long), what\n  if we launched too many coroutines and ran out of memory? Having to\n  manually keep a reference to all the launched coroutines and join them\n  is error-prone.</p>\n  \n  <p>There is a better solution. We can use structured concurrency in our\n  code. Instead of launching coroutines in the <code>GlobalScope</code>, just like we\n  usually do with threads (threads are always global), we can launch\n  coroutines in the specific scope of the operation we are performing.</p>\n  \n  <p>In our example, we have main function that is turned into a coroutine\n  using <code>runBlocking</code> coroutine builder. Every coroutine builder,\n  including <code>runBlocking</code>, adds an instance of <code>CoroutineScope</code> to the scope\n  of its code block. We can launch coroutines in this scope without\n  having to join them explicitly, because an outer coroutine\n  (<code>runBlocking</code> in our example) does not complete until all the\n  coroutines launched in its scope complete. Thus, we can make our\n  example simpler:</p>\n\n<pre><code>import kotlinx.coroutines.*\n\nfun main() = runBlocking { // this: CoroutineScope\n    launch { // launch new coroutine in the scope of runBlocking   \n        delay(1000L)   \n        println(\"World!\")    \n    }   \n    println(\"Hello,\")  \n}\n</code></pre>\n</blockquote>\n\n<p>So in essence it is discouraged, because it forces you to keep references and use <code>join</code>, which can be avoided with <a href=\"https://medium.com/@elizarov/structured-concurrency-722d765aa952\" rel=\"nofollow noreferrer\">structured concurrency.</a>  (See code example above.) The article covers many of the subtleties.</p>\n"}, {"comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 3, "creation_date": 1548664162, "post_id": 54351785, "comment_id": 95606800, "body": "@so-random-dude Roman Elizarov just posted an article about the same topic: <a href=\"https://medium.com/@elizarov/the-reason-to-avoid-globalscope-835337445abc\" rel=\"nofollow noreferrer\">medium.com/@elizarov/&hellip;</a>"}, {"owner": {"reputation": 3546, "user_id": 2437655, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/pLYS0.jpg?s=128&g=1", "display_name": "Killer", "link": "https://stackoverflow.com/users/2437655/killer"}, "edited": false, "score": 0, "creation_date": 1605163827, "post_id": 54351785, "comment_id": 114568509, "body": "what if you try-catch inside   GlobalScope.launch {             tryIgnore {                 block()             }         } Something like this !"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 3546, "user_id": 2437655, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/pLYS0.jpg?s=128&g=1", "display_name": "Killer", "link": "https://stackoverflow.com/users/2437655/killer"}, "edited": false, "score": 1, "creation_date": 1605165306, "post_id": 54351785, "comment_id": 114568888, "body": "@Killer But then won&#39;t know if anything threw an exception. The point of this is to have exceptions bubble up like normal, so that you are able to handle it. Using <code>GlobalScope</code> and ignoring exceptions inside is really not a good pattern."}, {"owner": {"reputation": 3546, "user_id": 2437655, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/pLYS0.jpg?s=128&g=1", "display_name": "Killer", "link": "https://stackoverflow.com/users/2437655/killer"}, "edited": false, "score": 0, "creation_date": 1605178950, "post_id": 54351785, "comment_id": 114574172, "body": "True. Will be shifting to Structural Concurrency to replace GlobalLauch."}, {"owner": {"reputation": 2563, "user_id": 3020903, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/618102107/picture?type=large", "display_name": "Tarmo", "link": "https://stackoverflow.com/users/3020903/tarmo"}, "edited": false, "score": 1, "creation_date": 1606739903, "post_id": 54351785, "comment_id": 115043637, "body": "Spent whole day trying to wrap my head around why GlobalScope is bad and what every one means my scoped concurrency and this finally hit me:  &quot;...They will continue to execute (potentially indefinitely), and if they fail, you won&#39;t know about it...&quot;. Thanks."}], "tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 19, "last_activity_date": 1577372937, "last_edit_date": 1577372937, "creation_date": 1548349022, "answer_id": 54351785, "question_id": 54335365, "link": "https://stackoverflow.com/questions/54335365/why-not-use-globalscope-launch/54351785#54351785", "title": "Why not use GlobalScope.launch?", "body": "<p>You should scope your concurrency appropriately using structured concurrency. Your coroutines can leak if you don't do this. In your case, scoping them to the processing of a single message seems appropriate.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>/* I don't know Kafka, but let's pretend this function gets \n * called when you receive a new message\n */\nsuspend fun onMessage(msg: Message) {\n    val ids: List&lt;Int&gt; = msg.getIds()    \n\n    val jobs = ids.map { id -&gt;\n        GlobalScope.launch { restService.post(id) }\n    }\n\n    jobs.joinAll()\n}\n</code></pre>\n\n<p>If one of the calls to <code>restService.post(id)</code> fails with an exception, the example will immediately rethrow the exception, and all the jobs that hasn't completed yet will leak. They will continue to execute (potentially indefinitely), and if they fail, you won't know about it.</p>\n\n<p>To solve this, you need to scope your coroutines. Here's the same example without the leak:</p>\n\n<pre><code>suspend fun onMessage(msg: Message) = coroutineScope {\n    val ids: List&lt;Int&gt; = msg.getIds()    \n\n    ids.forEach { id -&gt;\n        // launch is called on \"this\", which is the coroutineScope.\n        launch { restService.post(id) }\n    }\n}\n</code></pre>\n\n<p>In this case, if one of the calls to <code>restService.post(id)</code> fails, then all other non-completed coroutines inside the coroutine scope will get cancelled. When you leave the scope, you can be sure that you haven't leaked any coroutines.</p>\n\n<p>Also, because <code>coroutineScope</code> will wait until all child-coroutines are done, you can drop the <code>jobs.joinAll()</code> call.</p>\n\n<p>Side note:\nA convention when writing a function that start some coroutines, is to let the caller decide the coroutine scope using the receiver parameter. Doing this with the <code>onMessage</code> function could look like this:</p>\n\n<pre><code>fun CoroutineScope.onMessage(msg: Message): List&lt;Job&gt; {\n    val ids: List&lt;Int&gt; = msg.getIds()    \n\n    return ids.map { id -&gt;\n        // launch is called on \"this\", which is the coroutineScope.\n        launch { restService.post(id) }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 12214, "user_id": 6785908, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/4d260895797435b1e59b3c2154a469f7?s=128&d=identicon&r=PG&f=1", "display_name": "so-random-dude", "link": "https://stackoverflow.com/users/6785908/so-random-dude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12180, "favorite_count": 8, "accepted_answer_id": 54351785, "answer_count": 3, "score": 26, "last_activity_date": 1577372937, "creation_date": 1548276348, "last_edit_date": 1548349609, "question_id": 54335365, "link": "https://stackoverflow.com/questions/54335365/why-not-use-globalscope-launch", "title": "Why not use GlobalScope.launch?", "body": "<p>I read that usage of <code>Globalscope</code> is highly discouraged, <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-global-scope/\" rel=\"noreferrer\">here</a>.</p>\n\n<p>I have a simple use-case. For every kafka message (let's say a list of Ids) that I receive I have to split it and invoke a rest service simultaneously and wait for it to be done and proceed with other synchronous tasks. There is nothing else is in that application that requires coroutine. In this case, Can I just get away with it?</p>\n\n<p>Note: This is not an android application. It's just a kafka stream processor running on server side. It's an ephemeral, stateless, containerized (Docker) application running in Kubernetes (Buzzword-compliant if you will)</p>\n"}, {"tags": ["java", "kotlin", "corda"], "answers": [{"comments": [{"owner": {"reputation": 763, "user_id": 2885370, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/1f16d342758bfb441134e49e595a9651?s=128&d=identicon&r=PG", "display_name": "alokraop", "link": "https://stackoverflow.com/users/2885370/alokraop"}, "edited": false, "score": 0, "creation_date": 1549879186, "post_id": 54421882, "comment_id": 96048091, "body": "Hey so would this mean that when adding an output state to a builder, we can omit specifying the name of the contract?"}], "tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": true, "score": 0, "last_activity_date": 1548767511, "creation_date": 1548767511, "answer_id": 54421882, "question_id": 54335048, "link": "https://stackoverflow.com/questions/54335048/how-to-check-what-contract-is-running-for-a-transaction-in-the-flow/54421882#54421882", "title": "How to check what contract is running for a transaction in the flow?", "body": "<p>To prevent this situation, Corda 4 will introduce a <code>@BelongsToContract</code> annotation. This annotation ties a state to a given contract and prevents any other contract being used with this state.</p>\n\n<p>Example usage:</p>\n\n<pre><code>@BelongsToContract(TemplateContract::class)\nclass TemplateState(override val participants: List&lt;AbstractParty&gt;) : ContractState\n</code></pre>\n"}], "owner": {"reputation": 763, "user_id": 2885370, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/1f16d342758bfb441134e49e595a9651?s=128&d=identicon&r=PG", "display_name": "alokraop", "link": "https://stackoverflow.com/users/2885370/alokraop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 54421882, "answer_count": 1, "score": 0, "last_activity_date": 1548767511, "creation_date": 1548274891, "question_id": 54335048, "link": "https://stackoverflow.com/questions/54335048/how-to-check-what-contract-is-running-for-a-transaction-in-the-flow", "title": "How to check what contract is running for a transaction in the flow?", "body": "<p>I have a state <code>SomeBond</code> which i want to issue and transact with on a Corda network. When a participant A is transferring a <code>SomeBond</code> state to participant B, the expectation is that either A got the state from X, or A was issued <code>SomeBond</code> (by let's say Y).</p>\n\n<p>To verify this, B runs the contracts associated with all the states in the transaction. The expected contract is <code>SomeBondContract</code>, but B isn't assured that it will be run. To be sure that the states in this transaction ARE going to run <code>SomeBondContract</code>, he'll have to actually put in a check in the flow before signing. </p>\n\n<pre><code>val outputsLegit = stx.tx.outputs.all { it.contract == \"com.example.SomeBondContract\" }\nval inputsLegit = stx.tx.toLedgerTransaction(serviceHub).inputs.all { it.state.contract == \"com.example.SomeBondContract\" }\n</code></pre>\n\n<p>But if he puts a check just in the flow then it'll only validate the current transaction. We still can't be sure that the previous transaction, where C sent the state to A had the same contract assigned to its input state. Maybe it went something like this:</p>\n\n<p>C creates a transaction (101):</p>\n\n<blockquote>\n  <p>Input (Empty)</p>\n  \n  <p>Output: <code>SomeBondState</code>, Contract ID: <code>com.example.EmptyContract</code></p>\n</blockquote>\n\n<p>And then creates transaction (102):</p>\n\n<blockquote>\n  <p>Input: 101[0]</p>\n  \n  <p>Output: <code>SomeBondState</code>, Contract ID: <code>com.example.SomeBondContract</code></p>\n</blockquote>\n\n<p>And uses the output of this transaction (i.e. 102[0]) as the input of a transfer to B.\nThe problem here is the C was never a legit issuer for the <code>SomeBondState</code>, and the transaction was never supposed to have happened, but since he assigned a faulty contract to the state, he created it without problems.</p>\n\n<p>A way to prevent this would be to put the same check in the contract as well. That way, the flow can check if the current transaction has the contracts assigned to its states, and the contract itself can check that the input state has the contract assigned. That way, transaction 102 would never succeed since it has an input that is of type <code>SomeBondState</code> but doesn't have a <code>com.example.SomeBondState</code> as the contract. Since the dependency graph is recursively verified till an issue, even faulty nodes will not be able to pass off a fake state as real.</p>\n\n<p>Of course, a simpler way is to ensure that there's no <code>EmptyContract</code> in the jar, but there might be subtler misuse of any existing contract to slip through unwanted states. I'm just using <code>EmptyContract</code> as an example.</p>\n\n<p>But checking for a package name in flows and Contracts seems a little unsafe and hacky. I don't exactly understand how class loaders work and how two identical class names with the same package name would be handled and if there are ways for a malicious node to do stuff.</p>\n\n<p>Also, i don't really understand why we are being asked to bind a contract to a state while building a transaction? Why can't Contracts be bound to states inside the state definition itself? Maybe a state can be annotated with its associated contract? Was it so that different contracts can be used with the same state at different times? But isn't that kinda what commands are for? So that the same contract can behave differently at different times?</p>\n\n<p>Or is my whole concern of \"how do i ensure the right contract is running on a transaction\" missing something? Thanks in advance for the answer.</p>\n"}, {"tags": ["kotlin", "sealed-class"], "comments": [{"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 3, "creation_date": 1548273078, "post_id": 54334380, "comment_id": 95486789, "body": "The first case - <code>is B</code> covers all subclasses of B. There is no need to <code>C</code>. But you may have <code>is C</code> case before <code>B</code>, than it will make sense"}, {"owner": {"reputation": 220, "user_id": 4913489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OpDu0.png?s=128&g=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/4913489/ivan"}, "reply_to_user": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1548290792, "post_id": 54334380, "comment_id": 95492644, "body": "Oh, I totally missed that C is a B so <code>is B</code> covers it. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 220, "user_id": 4913489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OpDu0.png?s=128&g=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/4913489/ivan"}, "is_accepted": true, "score": 0, "last_activity_date": 1548291239, "creation_date": 1548291239, "answer_id": 54337906, "question_id": 54334380, "link": "https://stackoverflow.com/questions/54334380/kotlin-sealed-classes-why-doesnt-compiler-check-for-all-subtypes/54337906#54337906", "title": "Kotlin sealed classes - why doesn&#39;t compiler check for all subtypes?", "body": "<p>As Eugene Petrenko <a href=\"https://stackoverflow.com/questions/54334380/kotlin-sealed-classes-why-doesnt-compiler-check-for-all-subtypes?noredirect=1#comment95486789_54334380\">commented</a>, the <code>is B</code> case that is required by the compiler covers all subclasses of B. </p>\n"}], "owner": {"reputation": 220, "user_id": 4913489, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OpDu0.png?s=128&g=1", "display_name": "Ivan", "link": "https://stackoverflow.com/users/4913489/ivan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 54337906, "answer_count": 1, "score": 0, "last_activity_date": 1548291239, "creation_date": 1548271751, "question_id": 54334380, "link": "https://stackoverflow.com/questions/54334380/kotlin-sealed-classes-why-doesnt-compiler-check-for-all-subtypes", "title": "Kotlin sealed classes - why doesn&#39;t compiler check for all subtypes?", "body": "<p>When using <a href=\"http://kotlinlang.org/docs/reference/sealed-classes.html\" rel=\"nofollow noreferrer\">sealed classes</a>, the compiler only checks for subtypes in the same file. </p>\n\n<p>One of the big selling points of sealed classes is the exhaustive checks when using a <code>when</code> expression. So why isn't this implemented?</p>\n\n<p>In 1 file I have: </p>\n\n<pre><code>class C : B()\n</code></pre>\n\n<p>In another file I have: </p>\n\n<pre><code>sealed class A\n\nopen class B : A()\n\nfun switch(input: A) =\n    when(input) {\n        is B -&gt; Unit\n//        is C -&gt; Unit - I expect a compiler error since this is a subtype and it's commented out\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "okhttp3"], "comments": [{"owner": {"reputation": 1904, "user_id": 1545952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMD46.jpg?s=128&g=1", "display_name": "Xvolks", "link": "https://stackoverflow.com/users/1545952/xvolks"}, "edited": false, "score": 1, "creation_date": 1548285316, "post_id": 54333606, "comment_id": 95491440, "body": "You should print the exception passed to <code>onFailure</code> callback, it may help you."}], "answers": [{"comments": [{"owner": {"reputation": 1986, "user_id": 4206951, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh3.googleusercontent.com/-SowCondSol8/AAAAAAAAAAI/AAAAAAAAACM/tFW1lVuyeyM/photo.jpg?sz=128", "display_name": "Oush", "link": "https://stackoverflow.com/users/4206951/oush"}, "edited": false, "score": 0, "creation_date": 1548300096, "post_id": 54338892, "comment_id": 95494509, "body": "is this working now, to test on a real device you need to specify your computer&#39;s IP address in place of 10.0.0.2, since its the localhost of the test computer"}], "tags": [], "owner": {"reputation": 125, "user_id": 5867861, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e188e2a2d8121e82e0ed171eb0863f47?s=128&d=identicon&r=PG&f=1", "display_name": "Xyntell", "link": "https://stackoverflow.com/users/5867861/xyntell"}, "is_accepted": false, "score": 1, "last_activity_date": 1548299825, "creation_date": 1548299825, "answer_id": 54338892, "question_id": 54333606, "link": "https://stackoverflow.com/questions/54333606/why-10-0-2-2-works-in-emulator-browser-but-not-in-the-application/54338892#54338892", "title": "Why 10.0.2.2 works in emulator browser but not in the application?", "body": "<p>@Xvolks suggestion to print the exception helped. It was because in API level 28, the cleartext support is disabled. This is the answer that helped me:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/45940861/android-8-cleartext-http-traffic-not-permitted\">Android 8: Cleartext HTTP traffic not permitted</a></p>\n"}], "owner": {"reputation": 125, "user_id": 5867861, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/e188e2a2d8121e82e0ed171eb0863f47?s=128&d=identicon&r=PG&f=1", "display_name": "Xyntell", "link": "https://stackoverflow.com/users/5867861/xyntell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 558, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548299825, "creation_date": 1548268521, "question_id": 54333606, "link": "https://stackoverflow.com/questions/54333606/why-10-0-2-2-works-in-emulator-browser-but-not-in-the-application", "title": "Why 10.0.2.2 works in emulator browser but not in the application?", "body": "<p>I have a flask restful server which gives me some JSON. I try to use okhttp to get that json in my app but it doesn't work. It always fails. I tried with the Wikipedia API and it works. My server runs on localhost and I use 10.0.2.2 in my application. The weirdest thing is that 10.0.2.2 works in the emulator browser and it shows me the JSON but it won't work in my application.</p>\n\n<p>Here is the method that is called in my main activity:</p>\n\n<pre><code>fun fetchJson() {\n    val url = \"http://10.0.2.2:5000/users\"\n\n    val request = Request.Builder().url(url).build()\n    println(request.url())\n\n    val client = OkHttpClient()\n    client.newCall(request).enqueue(object: Callback {\n        override fun onFailure(call: Call, e: IOException) {\n            println(\"Failed to execute\")\n        }\n\n        override fun onResponse(call: Call, response: Response) {\n            val body = response.body()?.string()\n            println(body)\n        }\n    })\n}\n</code></pre>\n\n<p>It always prints \"Failed to execute\"</p>\n\n<p><strong>Note:</strong> I added the INTERNET permission in the manifest.</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 389, "user_id": 8949644, "user_type": "registered", "profile_image": "https://graph.facebook.com/1546879998963350/picture?type=large", "display_name": "Sagar Balyan", "link": "https://stackoverflow.com/users/8949644/sagar-balyan"}, "is_accepted": false, "score": 0, "last_activity_date": 1548268325, "creation_date": 1548268325, "answer_id": 54333554, "question_id": 54333229, "link": "https://stackoverflow.com/questions/54333229/duplication-error-when-entering-data-into-firebase-android-studio/54333554#54333554", "title": "Duplication error when entering data into Firebase Android Studio", "body": "<p>Use <code>childEventListener</code> instead of <code>valueEventListener</code>.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9135351"}, "is_accepted": false, "score": 0, "last_activity_date": 1548269744, "creation_date": 1548269744, "answer_id": 54333917, "question_id": 54333229, "link": "https://stackoverflow.com/questions/54333229/duplication-error-when-entering-data-into-firebase-android-studio/54333917#54333917", "title": "Duplication error when entering data into Firebase Android Studio", "body": "<p>If it happens when you want to list data from Firebase, initialize your <code>ArrayList</code> before adding new data. Because <code>onDataChange</code> method take all data from Firebase and displays within the ListView.\n<br>\nSo you must initialize between <code>onDataChange</code> and <code>for</code></p>\n"}], "owner": {"reputation": 1, "user_id": 10957365, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cD4_uDa_Z3o/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbMAqW38SdExkTb30KYLI7BJ16iJw/mo/photo.jpg?sz=128", "display_name": "CAC-96", "link": "https://stackoverflow.com/users/10957365/cac-96"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1548269744, "creation_date": 1548267060, "question_id": 54333229, "link": "https://stackoverflow.com/questions/54333229/duplication-error-when-entering-data-into-firebase-android-studio", "title": "Duplication error when entering data into Firebase Android Studio", "body": "<p>I am having a problem when I am adding data to Firebase, instead of adding the new data into the database, it is taking the data already in there and repeating itself and then adding the new data. </p>\n\n<p>For example if I have titles \"Red Dead\" and \"GTA\" and I want to add \"COD\". Instead of the database looking like \"Red Dead\" \"GTA\" and \"COD\" it is looking like \"Red Dead\" \"GTA\" \"Red Dead\" \"GTA\" and then \"COD\".</p>\n\n<p>Any ideas on how to fix this please ??</p>\n\n<pre><code>package com.example.gearoidodonovan.books\n\nimport android.app.AlertDialog\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.renderscript.Sampler\nimport android.widget.Toast\nimport com.google.firebase.database.*\nimport kotlinx.android.synthetic.main.activity_main.*\nimport kotlinx.android.synthetic.main.add_note.view.*\nimport java.text.SimpleDateFormat\nimport java.util.*\n\n\nclass MainActivity : AppCompatActivity() {\n\nvar mRef:DatabaseReference? = null\nvar mNoteList:ArrayList&lt;Note&gt;?= null\n\n\n\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n\n    val database = FirebaseDatabase.getInstance()\n    mRef = database.getReference(\"Notes\")\n    mNoteList = ArrayList()\n\n\n\n    add_new_note.setOnClickListener {\n\n        showDialogAddNote()\n\n\n    }\n}\n\noverride fun onStart(){\n    super.onStart()\n    mRef?.addValueEventListener(object : ValueEventListener{\n        override fun onCancelled(pO: DatabaseError) {\n        }\n\n        override fun onDataChange(p0: DataSnapshot) {\n            for (n in p0!!.children) {\n                var note = n.getValue(Note::class.java)\n                mNoteList?.add(note!!)\n\n            }\n\n            val noteAdapter = NoteAdapter(applicationContext, mNoteList!!)\n            note_list_view.adapter = noteAdapter\n\n        }\n\n    })\n\n}\n\n\nfun showDialogAddNote() {\n    val alertBuilder = AlertDialog.Builder(this)\n\n    val view = layoutInflater.inflate(R.layout.add_note, null)\n\n    alertBuilder.setView(view)\n\n    val alertDialog = alertBuilder.create()\n    alertDialog.show()\n\n\n    view.btnSaveNote.setOnClickListener {\n        val title = view.etTitle.text.toString()\n        val note = view.etNote.text.toString()\n\n        if (title.isNotEmpty() &amp;&amp; note.isNotEmpty()) {\n            var id = mRef!!.push().key!! //reference 1\n\n            var myNote = Note(id, title, note, getCurrentDate())\n            mRef!!.child(id).setValue(myNote)\n            alertDialog.dismiss()\n\n\n        } else {\n            Toast.makeText(this, \"Empty\", Toast.LENGTH_LONG).show()\n        }\n\n\n    }\n\n}\n\n    fun getCurrentDate(): String{\n        val calendar = Calendar.getInstance()\n        val mdformat = SimpleDateFormat(\"EEEE hh:mm a \")\n        val strDate = mdformat.format(calendar.time)\n        return strDate\n\n\n}\n}\n</code></pre>\n\n<p>Here is my notes class</p>\n\n<pre><code>package com.example.gearoidodonovan.books\n\n\nimport com.google.firebase.database.Exclude\nimport com.google.firebase.database.ServerValue\n\n\n\nclass Note {\nvar id:String?= null\nvar title:String? = null\nvar note:String?= null\nvar timestamp: String? = null\n\nconstructor(){\n\n}\n\nconstructor(id: String, title: String, note: String, timestamp: String){\n    this.id = id\n    this.title = title\n    this.note = note\n    this.timestamp = timestamp\n}\n\n\n\n\n\n\n\n}\n</code></pre>\n\n<p>And here is my adapter class</p>\n\n<pre><code>package com.example.gearoidodonovan.books\n\nimport android.content.Context\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.ArrayAdapter\nimport kotlinx.android.synthetic.main.note_layout.view.*\nimport kotlin.collections.ArrayList\n\nclass NoteAdapter(context: Context, noteList: ArrayList&lt;Note&gt;)\n: ArrayAdapter&lt;Note&gt;(context, 0, noteList) {\n\n\noverride fun getView(position: Int, convertView: View?, parent: ViewGroup): View {\n   val view = LayoutInflater.from(context).inflate(R.layout.note_layout,parent ,false)\n\n    val note:Note = getItem(position)\n    view.titleText.text = note.title\n    view.timeText.text = note.timestamp.toString()\n    return view\n\n\n}\n\n\n\n}\n</code></pre>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10957155"}, "edited": false, "score": 0, "creation_date": 1548265707, "post_id": 54332763, "comment_id": 95483483, "body": "Thank you very much I got it working, one more question if you would be able to answer it, I have for eg Tim &amp; Ed in the database and I add Brian instead of it looking like Tim &amp; Ed &amp; Brian it looks like Tim &amp; Ed &amp; Tim &amp; Ed &amp; Brian"}, {"owner": {"reputation": 9, "user_id": 7801331, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-laInqo1jPp4/AAAAAAAAAAI/AAAAAAAAAD8/NuDl62S-UDY/photo.jpg?sz=128", "display_name": "mudassar raza", "link": "https://stackoverflow.com/users/7801331/mudassar-raza"}, "edited": false, "score": 0, "creation_date": 1548265941, "post_id": 54332763, "comment_id": 95483596, "body": "Sorry, I didn&#39;t understand your question and please accept my above answer as it works for you"}], "tags": [], "owner": {"reputation": 9, "user_id": 7801331, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-laInqo1jPp4/AAAAAAAAAAI/AAAAAAAAAD8/NuDl62S-UDY/photo.jpg?sz=128", "display_name": "mudassar raza", "link": "https://stackoverflow.com/users/7801331/mudassar-raza"}, "is_accepted": false, "score": 0, "last_activity_date": 1548265045, "creation_date": 1548265045, "answer_id": 54332763, "question_id": 54332542, "link": "https://stackoverflow.com/questions/54332542/run-time-error-of-databaseexception-failed-to-convert-value-of-type-java-lang-l/54332763#54332763", "title": "Run time error of DatabaseException: Failed to convert value of type java.lang.Long to String", "body": "<p>you are getting this error because you have a field of type long in your firebase node which you are saving in String. make sure that data types are same as in firebase node and your data class. </p>\n\n<p>I think most of the cases the id is of data type long, you can check that and change your data class of Note according to that</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9135351"}, "is_accepted": false, "score": 0, "last_activity_date": 1548266028, "last_edit_date": 1548266028, "creation_date": 1548265234, "answer_id": 54332821, "question_id": 54332542, "link": "https://stackoverflow.com/questions/54332542/run-time-error-of-databaseexception-failed-to-convert-value-of-type-java-lang-l/54332821#54332821", "title": "Run time error of DatabaseException: Failed to convert value of type java.lang.Long to String", "body": "<p>Order attributes of your <code>class note</code> as following</p>\n\n<pre><code>var id:String?= null\nvar note:long?= null\nvar timestamp: String? = null\nvar title:String? = null```\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10957155"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1548270037, "creation_date": 1548264174, "last_edit_date": 1548270037, "question_id": 54332542, "link": "https://stackoverflow.com/questions/54332542/run-time-error-of-databaseexception-failed-to-convert-value-of-type-java-lang-l", "title": "Run time error of DatabaseException: Failed to convert value of type java.lang.Long to String", "body": "<p>I'm getting the error <code>com.google.firebase.database.DatabaseException: Failed to convert value of type java.lang.Long to String in line 53</code> </p>\n\n<p>The line is <code>var note = n.getValue(Note::class.java)</code></p>\n\n<p>I've been stuck on this error for awhile as I'm new enough to coding and I'm not sure what to do, any help is appreciated, thanks very much</p>\n\n<pre><code>package com.example.gearoidodonovan.books\n\nimport android.app.AlertDialog\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.renderscript.Sampler\nimport android.widget.Toast\nimport com.google.firebase.database.*\nimport kotlinx.android.synthetic.main.activity_main.*\nimport kotlinx.android.synthetic.main.add_note.view.*\nimport java.text.SimpleDateFormat\nimport java.util.*\n\n\nclass MainActivity : AppCompatActivity() {\n\n    var mRef:DatabaseReference? = null\n    var mNoteList:ArrayList&lt;Note&gt;?= null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n\n        val database = FirebaseDatabase.getInstance()\n        mRef = database.getReference(\"Notes\")\n        mNoteList = ArrayList()\n\n\n\n        add_new_note.setOnClickListener {\n\n            showDialogAddNote()\n\n\n        }\n    }\n\n    override fun onStart(){\n        super.onStart()\n        mRef?.addValueEventListener(object : ValueEventListener{\n            override fun onCancelled(p0: DatabaseError) {\n            }\n\n            override fun onDataChange(p0: DataSnapshot) {\n                for (n in p0!!.children) {\n                    var note = n.getValue(Note::class.java)\n                    mNoteList?.add(note!!)\n\n                }\n\n                val noteAdapter = NoteAdapter(applicationContext, mNoteList!!)\n                note_list_view.adapter = noteAdapter\n\n            }\n\n        })\n\n    }\n\n\n    fun showDialogAddNote() {\n        val alertBuilder = AlertDialog.Builder(this)\n\n        val view = layoutInflater.inflate(R.layout.add_note, null)\n\n        alertBuilder.setView(view)\n\n        val alertDialog = alertBuilder.create()\n        alertDialog.show()\n\n\n        view.btnSaveNote.setOnClickListener {\n            val title = view.etTitle.text.toString()\n            val note = view.etNote.text.toString()\n\n            if (title.isNotEmpty() &amp;&amp; note.isNotEmpty()) {\n                var id = mRef!!.push().key!! //reference 1\n\n                var myNote = Note(id, title, note, getCurrentDate())\n                mRef!!.child(id).setValue(myNote)\n                alertDialog.dismiss()\n\n\n            } else {\n                Toast.makeText(this, \"Empty\", Toast.LENGTH_LONG).show()\n            }\n\n\n        }\n\n    }\n\n    fun getCurrentDate(): String{\n        val calendar = Calendar.getInstance()\n        val mdformat = SimpleDateFormat(\"EEEE hh:mm a \")\n        val strDate = mdformat.format(calendar.time)\n        return strDate\n    }\n}\n</code></pre>\n\n<p>Here is my note class</p>\n\n<pre><code>package com.example.gearoidodonovan.books\n\nimport com.google.firebase.database.Exclude\nimport com.google.firebase.database.ServerValue\n\nclass Note {\n    var id:String?= null\n    var title:String? = null\n    var note:String?= null\n    var timestamp: String? = null\n\n    constructor(){\n\n    }\n\n    constructor(id: String, title: String, note: String, timestamp: String){\n        this.id = id\n        this.title = title\n        this.note = note\n        this.timestamp = timestamp\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "inputstream", "outputstream", "okio"], "answers": [{"comments": [{"owner": {"reputation": 1707, "user_id": 1888738, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e25583b7d25665091958dd858b12400b?s=128&d=identicon&r=PG", "display_name": "Bresiu", "link": "https://stackoverflow.com/users/1888738/bresiu"}, "edited": false, "score": 0, "creation_date": 1548265841, "post_id": 54332649, "comment_id": 95483550, "body": "I need then <code>InputStream</code> for <code>javax.crypto.CipherInputStream</code>. I successfully got it using <code>saveFile(Okio.source(buffer.inputStream()))</code>. I hope it is a correct way to do this."}], "tags": [], "owner": {"reputation": 7970, "user_id": 1542667, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9f9f47b7c64629cadb45754234bcc944?s=128&d=identicon&r=PG", "display_name": "Yuri Schimke", "link": "https://stackoverflow.com/users/1542667/yuri-schimke"}, "is_accepted": true, "score": 0, "last_activity_date": 1548264624, "creation_date": 1548264624, "answer_id": 54332649, "question_id": 54332474, "link": "https://stackoverflow.com/questions/54332474/convert-outputstream-to-okio-source/54332649#54332649", "title": "Convert OutputStream to Okio Source", "body": "<p>Use a Buffer instead <a href=\"http://square.github.io/okio/1.x/okio/okio/Buffer.html\" rel=\"nofollow noreferrer\">http://square.github.io/okio/1.x/okio/okio/Buffer.html</a></p>\n\n<pre><code>val buffer = Buffer()\nbitmap.compress(Bitmap.CompressFormat.PNG, 100, buffer.outputStream())\nsaveFile(File(\"filename\"), buffer)\n</code></pre>\n\n<p>Pipe would assume a concurrent writer to avoid potentially blocking</p>\n\n<p><a href=\"http://square.github.io/okio/1.x/okio/okio/Pipe.html\" rel=\"nofollow noreferrer\">http://square.github.io/okio/1.x/okio/okio/Pipe.html</a></p>\n\n<blockquote>\n  <p>A source and a sink that are attached. The sink's output is the source's input. Typically each is accessed by its own thread: a producer thread writes data to the sink and a consumer thread reads data from the source.\n  This class uses a buffer to decouple source and sink. This buffer has a user-specified maximum size. When a producer thread outruns its consumer the buffer fills up and eventually writes to the sink will block until the consumer has caught up.</p>\n</blockquote>\n"}], "owner": {"reputation": 1707, "user_id": 1888738, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e25583b7d25665091958dd858b12400b?s=128&d=identicon&r=PG", "display_name": "Bresiu", "link": "https://stackoverflow.com/users/1888738/bresiu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 442, "favorite_count": 0, "accepted_answer_id": 54332649, "answer_count": 1, "score": 1, "last_activity_date": 1548264624, "creation_date": 1548263939, "question_id": 54332474, "link": "https://stackoverflow.com/questions/54332474/convert-outputstream-to-okio-source", "title": "Convert OutputStream to Okio Source", "body": "<p>I am trying to find elegant way to convert <code>OutputStream</code> produced by <code>bitmap.compress(Bitmap.CompressFormat.PNG, 100, outStream)</code> method to Okio's <code>Source</code> / <code>InputStream</code> (needed to further manipulate data - encoding) while maintaining the data buffer.</p>\n\n<p>I tried using</p>\n\n<pre><code>val pipe = Pipe(100)\nbitmap.compress(Bitmap.CompressFormat.PNG, 100, Okio.buffer(pipe.sink()).outputStream())\n        saveFile(File(\"filename\"), pipe.source())\n</code></pre>\n\n<p>but this hangs on <code>bitmap.compress</code>.</p>\n"}, {"tags": ["gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 0, "last_activity_date": 1548268421, "creation_date": 1548268421, "answer_id": 54333578, "question_id": 54332272, "link": "https://stackoverflow.com/questions/54332272/how-can-i-add-dependencies-to-kotlincompilerclasspath/54333578#54333578", "title": "How can I add dependencies to kotlinCompilerClasspath?", "body": "<p>I would recommend not to disable transitive dependencies for the <code>kotlinCompilerClasspath</code> configuration in the first place, the Kotlin Gradle plugin expects that configuration to pull the transitive dependencies of the Kotlin compiler as well:</p>\n\n<pre><code>configurations {\n    matching { it.name != 'kotlinCompilerClasspath' }.all {\n        transitive = false\n        /* ... */\n    }\n}\n</code></pre>\n\n<p>If you still want to disable transitive dependencies for all configurations, you can instead manually add those dependencies which were reported as transitive for the <code>kotlin-compiler-embeddable</code> module:</p>\n\n<pre><code>dependencies {\n    kotlinCompilerClasspath 'org.jetbrains.kotlin:kotlin-stdlib'\n    kotlinCompilerClasspath 'org.jetbrains.kotlin:kotlin-script-runtime'\n    kotlinCompilerClasspath 'org.jetbrains.kotlin:kotlin-reflect'\n    kotlinCompilerClasspath 'org.jetbrains:annotations:13.0'\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10957016, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-A9q6mUmtHe0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNNRqLf3usLnVd4kZDRAPpv1xIFHw/mo/photo.jpg?sz=128", "display_name": "George Fountopoulos", "link": "https://stackoverflow.com/users/10957016/george-fountopoulos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "accepted_answer_id": 54333578, "answer_count": 1, "score": 1, "last_activity_date": 1548343921, "creation_date": 1548263101, "last_edit_date": 1548343921, "question_id": 54332272, "link": "https://stackoverflow.com/questions/54332272/how-can-i-add-dependencies-to-kotlincompilerclasspath", "title": "How can I add dependencies to kotlinCompilerClasspath?", "body": "<p>I am using the kotlin-gradle-plugin, configuring it as follows in build.gradle:</p>\n\n<pre><code>buildscript {\n    ext {\n        springBootVersion = '2.1.2.RELEASE'\n        kotlinVersion = '1.3.11'\n    }\n    repositories {\n        mavenLocal()\n        mavenCentral()\n        maven { url \"http://repo.spring.io/plugins-release\" }\n        maven { url \"https://plugins.gradle.org/m2/\" }\n    }\n    dependencies {\n        classpath \"org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}\"\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:${kotlinVersion}\"\n        classpath \"org.jetbrains.kotlin:kotlin-allopen:${kotlinVersion}\"\n}\napply plugin: 'kotlin'\napply plugin: 'kotlin-spring'\n</code></pre>\n\n<p>When I run <code>gradle dependencies</code> I get the following kotlinCompilerClasspath among other things:</p>\n\n<pre><code>kotlinCompilerClasspath\n\\--- org.jetbrains.kotlin:kotlin-compiler-embeddable:1.3.11\n     +--- org.jetbrains.kotlin:kotlin-stdlib:1.3.11\n     |    +--- org.jetbrains.kotlin:kotlin-stdlib-common:1.3.11\n     |    \\--- org.jetbrains:annotations:13.0\n     +--- org.jetbrains.kotlin:kotlin-script-runtime:1.3.11\n     \\--- org.jetbrains.kotlin:kotlin-reflect:1.3.11\n          \\--- org.jetbrains.kotlin:kotlin-stdlib:1.3.11 (*)\n</code></pre>\n\n<p>When I disabled transitive dependencies in my build.gradle as follows:</p>\n\n<pre><code>configurations {\n    all {\n        transitive = false\n        resolutionStrategy {\n            // fail eagerly on version conflict (includes transitive dependencies)\n            // e.g. multiple different versions of the same dependency (group and name are equal)\n            failOnVersionConflict()\n        }\n    }\n}\n</code></pre>\n\n<p>Now when I run <code>gradle dependencies</code> I get the following kotlinCompilerClasspath</p>\n\n<pre><code>kotlinCompilerClasspath\n\\--- org.jetbrains.kotlin:kotlin-compiler-embeddable:1.3.11\n</code></pre>\n\n<p>How can I add dependencies to the above kotlinCompilerClasspath while still using transitive = false configuration?</p>\n\n<p>For example, I have tried adding the dependency <code>org.jetbrains.kotlin:kotlin-stdlib</code> to the regular dependencies block and to the buildscript block but still the above kotlinCompilerClasspath does not change.</p>\n\n<p><strong>Gradle version</strong></p>\n\n<pre><code>gradle --version\n\n------------------------------------------------------------\nGradle 5.1.1\n------------------------------------------------------------\n\nBuild time:   2019-01-10 23:05:02 UTC\nRevision:     3c9abb645fb83932c44e8610642393ad62116807\n\nKotlin DSL:   1.1.1\nKotlin:       1.3.11\nGroovy:       2.5.4\nAnt:          Apache Ant(TM) version 1.9.13 compiled on July 10 2018\nJVM:          1.8.0_191 (Oracle Corporation 25.191-b12)\nOS:           Mac OS X 10.14.2 x86_64\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>As recommended by hotkey below, I filtered out kotlin from the configuration, as follows.</p>\n\n<pre><code>configurations {\n    matching { !it.name.toLowerCase().contains('kotlin') }.all {\n        transitive = false\n        resolutionStrategy {\n            // fail eagerly on version conflict (includes transitive dependencies)\n            // e.g. multiple different versions of the same dependency (group and name are equal)\n            failOnVersionConflict()\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2", "android-espresso", "instrumented-test"], "comments": [{"owner": {"reputation": 691, "user_id": 7238475, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/L08Wk.jpg?s=128&g=1", "display_name": "flopshot", "link": "https://stackoverflow.com/users/7238475/flopshot"}, "edited": false, "score": 0, "creation_date": 1570263597, "post_id": 54331911, "comment_id": 102864472, "body": "Same issue I&#39;m facing, but with Fragment"}], "owner": {"reputation": 307, "user_id": 3481187, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b89f1fc9f92fb2659cc7f961b906bda0?s=128&d=identicon&r=PG", "display_name": "AKA", "link": "https://stackoverflow.com/users/3481187/aka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 246, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1570544754, "creation_date": 1548261800, "last_edit_date": 1570544754, "question_id": 54331911, "link": "https://stackoverflow.com/questions/54331911/is-there-a-workaround-to-mock-the-injected-view-model-of-a-second-activity-opene", "title": "Is there a workaround to mock the injected view model of a second activity opened during an instrumented test in Android?", "body": "<p>I am writing an instrumented test for an activity using <code>ActivityTestRule</code> which will open a second activity by pressing a button on the under test (first) activity.</p>\n\n<p>The problem is, the second activity uses dependency injection to inject a viewmodel factory to create its view model, but during tests, injection is disabled. Instead, while testing the second activity directy, a custom factory which contains a mocked viewmodel is set as the <code>activity.viewModelFactory</code> to mock the view model behavior. But in the situation explained above, the first activity tries to open the second activity with injection disabled and also no factory manually set, so the test will fail with the following error: </p>\n\n<pre><code>kotlin.UninitializedPropertyAccessException: lateinit property viewModelFactory has not been initialized\n</code></pre>\n\n<p>To have a better picture of the scenario, this is the test that I am trying to run:</p>\n\n<pre><code>@Test\nfun testLogin() {\n\n    // ... mock server configuration\n\n    onView(withId(R.id.etEmail))\n            .perform(typeText(\"dummyUserName\")) // enter username\n\n    onView(withId(R.id.etPassword))\n            .perform(typeText(\"dummyPassword\"), closeSoftKeyboard()) // enter password\n\n    onView(withId(R.id.btLogin))\n            .perform(click())   // click on login: this is where the second activity will try to be opened and the error occurs.\n}\n</code></pre>\n\n<p>And this is how the second activity accesses its view model:</p>\n\n<pre><code>class SecondActivity : AppCompatActivity() {\n\n@Inject // 1. injection is disabled during tests.\nlateinit var viewModelFactory: ViewModelProvider.Factory\nprivate lateinit var viewModel: SecondActivityViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_second)\n\n        // 2. this line fails, because viewModelFactory is null.\n        viewModel = ViewModelProviders.of(this, viewModelFactory).get(SecondActivityViewModel::class.java)\n    }\n\n    ...\n\n}\n</code></pre>\n\n<p>Considering this, I was wondering if there is a workaround to avoid the second activity from opening (since its behavior is irrelevant here) or if there is a solution to have the dummy factory containing the mocked view model being used in the second activity while testing the first activity (how to initializing the viewModelFactory when the second activity is being opened).</p>\n"}, {"tags": ["java", "android", "kotlin", "alarmmanager", "android-workmanager"], "answers": [{"tags": [], "owner": {"reputation": 1245, "user_id": 4048543, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eUTuu.png?s=128&g=1", "display_name": "jmarkstar", "link": "https://stackoverflow.com/users/4048543/jmarkstar"}, "is_accepted": false, "score": 0, "last_activity_date": 1548262089, "creation_date": 1548262089, "answer_id": 54331998, "question_id": 54331221, "link": "https://stackoverflow.com/questions/54331221/repeating-operation-in-android-without-alarm-manager/54331998#54331998", "title": "Repeating operation in Android without alarm manager", "body": "<p>if the interval of time for sending the email is more than 15 minutes, I suggest you to use <code>JobScheduler</code>. That work really good over all android versions. I mentioned <code>more than 15 mins</code> because JobScheduler only can schedule at least every 15 mins on android 7 and over.</p>\n"}, {"tags": [], "owner": {"reputation": 4593, "user_id": 118862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3dfa913cbcfe896af79e0484084c316b?s=128&d=identicon&r=PG", "display_name": "pfmaggi", "link": "https://stackoverflow.com/users/118862/pfmaggi"}, "is_accepted": false, "score": 0, "last_activity_date": 1548440870, "creation_date": 1548440870, "answer_id": 54370969, "question_id": 54331221, "link": "https://stackoverflow.com/questions/54331221/repeating-operation-in-android-without-alarm-manager/54370969#54370969", "title": "Repeating operation in Android without alarm manager", "body": "<p><code>JobScheduler</code> is an option, but this is only available on Android API Level 21+ (Lollipop v5.0).<br>\nA better option is to use <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/?hl=ko\" rel=\"nofollow noreferrer\">WorkManager</a>, currently in beta, that provides the same functionality (and limits like the mentioned 15 minutes minimum interval) but down to API level 14.</p>\n\n<p>You can find more information about WorkManager on <a href=\"https://medium.com/androiddevelopers/introducing-workmanager-2083bcfc4712\" rel=\"nofollow noreferrer\">this series of blogs</a> and on the <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/?hl=ko\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 8824164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e894df269cccc4cb7723f0f6580edb7f?s=128&d=identicon&r=PG&f=1", "display_name": "lewy09", "link": "https://stackoverflow.com/users/8824164/lewy09"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1548440870, "creation_date": 1548259441, "last_edit_date": 1548440547, "question_id": 54331221, "link": "https://stackoverflow.com/questions/54331221/repeating-operation-in-android-without-alarm-manager", "title": "Repeating operation in Android without alarm manager", "body": "<p>I created application for sending sms interval. I used AlarmManager, which worked good, however after few days of proper working (send SMS at established time). It starts sending at different time or desist.\nAs far as I know, this is often problem with AlarmManager.\nIs there some trap with AM ? or maybe you know better solution, library for that type of problem?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["android", "gradle", "kotlin", "android-gradle-plugin", "junit5"], "comments": [{"owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "edited": false, "score": 0, "creation_date": 1548259599, "post_id": 54331113, "comment_id": 95480411, "body": "Maybe try <code>compileTestKotlin</code> instead of <code>compileReleaseUnitTestKotlin</code>?"}, {"owner": {"reputation": 50428, "user_id": 950427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hq0mB.jpg?s=128&g=1", "display_name": "Jared Burrows", "link": "https://stackoverflow.com/users/950427/jared-burrows"}, "edited": false, "score": 0, "creation_date": 1548398869, "post_id": 54331113, "comment_id": 95534753, "body": "How did you force Java to be 1.8 for tests only?"}], "answers": [{"tags": [], "owner": {"reputation": 8149, "user_id": 1125413, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/717353a9ec102bdefa22fd12ce550fb3?s=128&d=identicon&r=PG", "display_name": "pemistahl", "link": "https://stackoverflow.com/users/1125413/pemistahl"}, "is_accepted": false, "score": 2, "last_activity_date": 1556483360, "creation_date": 1556483360, "answer_id": 55894320, "question_id": 54331113, "link": "https://stackoverflow.com/questions/54331113/how-to-compile-kotlin-code-to-jvmtarget-1-8-for-tests/55894320#55894320", "title": "How to compile Kotlin code to jvmTarget=&quot;1.8&quot; for tests", "body": "<p>The Kotlin docs mention <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#compiler-options\" rel=\"nofollow noreferrer\">how to do</a> it for tests only.</p>\n\n<p>Groovy DSL:</p>\n\n<pre><code>compileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n\n<p>Kotlin DSL:</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nval compileTestKotlin: KotlinCompile by tasks\n\ncompileTestKotlin.kotlinOptions.jvmTarget = \"1.8\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 474, "user_id": 2764357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/894826169be20bff69221e40082afd2c?s=128&d=identicon&r=PG&f=1", "display_name": "Balazs Banyai", "link": "https://stackoverflow.com/users/2764357/balazs-banyai"}, "is_accepted": false, "score": 0, "last_activity_date": 1576077460, "creation_date": 1576077460, "answer_id": 59288903, "question_id": 54331113, "link": "https://stackoverflow.com/questions/54331113/how-to-compile-kotlin-code-to-jvmtarget-1-8-for-tests/59288903#59288903", "title": "How to compile Kotlin code to jvmTarget=&quot;1.8&quot; for tests", "body": "<p>This snippet does the job for me:</p>\n\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile) {\n    if (it.name.contains(\"UnitTest\")) {\n        kotlinOptions {\n            jvmTarget = \"1.8\"\n        }\n    }\n}\n</code></pre>\n\n<p>I have to say, It's not the best solution to filter the test tasks based on their names, so think of this as a quick and dirty aid.</p>\n"}], "owner": {"reputation": 4128, "user_id": 932656, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/3bbuc.png?s=128&g=1", "display_name": "Chriss", "link": "https://stackoverflow.com/users/932656/chriss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1216, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1576077460, "creation_date": 1548259093, "question_id": 54331113, "link": "https://stackoverflow.com/questions/54331113/how-to-compile-kotlin-code-to-jvmtarget-1-8-for-tests", "title": "How to compile Kotlin code to jvmTarget=&quot;1.8&quot; for tests", "body": "<p>In our Android project we code in Kotlin and target java 1.6. However we are forced to java 1.8 in our test since some JUnit5 features requires it (static methods in interfaces).</p>\n\n<p>Is it possibe to compile the tests differently than the production code? </p>\n\n<p>We tried to raise the jvmTarget to 1.8 by adding this to our build.gradle:</p>\n\n<pre><code>tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile).all {\n        kotlinOptions {\n            jvmTarget = \"1.8\"\n        }\n}\n</code></pre>\n\n<p>This raises the jvmTarget of the production code too, but we only want it for our tests.  The <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#compiler-options\" rel=\"nofollow noreferrer\">Docs</a> indicate that it can be specified for the test like this:</p>\n\n<pre><code>compileReleaseUnitTestKotlin{\n    kotlinOptions {\n        jvmTarget = \"1.8\"\n    }\n}\n</code></pre>\n\n<p>Unfortunatly the <code>build.gradle</code> doesn't compile.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-recyclerview", "android-adapter"], "answers": [{"comments": [{"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1548259003, "post_id": 54331004, "comment_id": 95480053, "body": "Notice how I used <code>val dataTitles: ArrayList&lt;String&gt; = ArrayList()</code> and <code>val dataSubtitles: ArrayList&lt;String&gt; = ArrayList()</code>. Is there a way that I can access the <code>dataTitles</code> and <code>dataSubtitles</code> values from the adapter?"}, {"owner": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1548259219, "post_id": 54331004, "comment_id": 95480191, "body": "<code>dataTitles</code> and <code>dataSubtitles</code> are private in <code>MyRVAdapter</code>, and they&#39;re declared as <code>lateinit</code> properties. So you have to initialize those two. The ones you declare and initialize in the Fragment are different variables with the same name."}, {"owner": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1548259564, "post_id": 54331004, "comment_id": 95480388, "body": "Why do you want to access those values on the Fragment? You can send your data straight through the adapter&#39;s consctructor. You can get a gist of the basics here: <a href=\"https://developer.android.com/guide/topics/ui/layout/recyclerview\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/ui/layout/recyclerview</a>"}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1548260068, "post_id": 54331004, "comment_id": 95480687, "body": "That&#39;s what I meant! I&#39;ve already read that but it&#39;s not showing any values from the data set. Do I need to use something like <code>class MyRVAdapter(private val dataTitles: Array&lt;String&gt;, private val dataSubtitles: Array&lt;String&gt;): RecyclerView.Adapter&lt;MyRVAdapter.MyViewHolder&gt;() {...</code>?"}, {"owner": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1548260582, "post_id": 54331004, "comment_id": 95481025, "body": "You need to pass the data into the adapter somehow. Passing it through the constructor is the most common and safe way to do it, AFAIK."}], "tags": [], "owner": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "is_accepted": false, "score": 0, "last_activity_date": 1548258746, "creation_date": 1548258746, "answer_id": 54331004, "question_id": 54330902, "link": "https://stackoverflow.com/questions/54330902/recyclerview-not-reading-property-to-assign-values/54331004#54331004", "title": "RecyclerView not reading property to assign values", "body": "<p>Well, the error is pretty straightforward: you're not initializing <code>dataTitles</code>. When you label a variable with <code>lateinit</code>, Kotlin expects you to initialize it later. It's a way to avoid having to declare the variable as nullable.</p>\n\n<p>To initialize it, you can do something like:</p>\n\n<pre><code>private val mutableList = mutableListOf&lt;String&gt;()\n</code></pre>\n\n<p>And you're doing the same with <code>dataSubtitles</code>.</p>\n"}], "owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548261427, "creation_date": 1548258399, "last_edit_date": 1548261427, "question_id": 54330902, "link": "https://stackoverflow.com/questions/54330902/recyclerview-not-reading-property-to-assign-values", "title": "RecyclerView not reading property to assign values", "body": "<p>I'm trying to get my RecyclerView adapter to obtain values from an Array in my fragment but for some reason is doesn't work and I get this error (I think I have gotten lost somewhere):</p>\n\n<blockquote>\n  <p><code>lateinit property dataTitles has not been initialized</code></p>\n</blockquote>\n\n<p>What's the correct way to obtain the data in this scenario?</p>\n\n<p><strong>Fragment class</strong></p>\n\n<pre><code>class MyFragment : androidx.fragment.app.Fragment() {\n    private lateinit var mRecyclerView: RecyclerView\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.fragment_rv, container, false)\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        val v = view\n\n        val dataTitles: ArrayList&lt;String&gt; = ArrayList()\n        val dataSubtitles: ArrayList&lt;String&gt; = ArrayList()\n\n        mRecyclerView = v!!.findViewById&lt;RecyclerView&gt;(R.id.my_recyclerview)\n\n        // Set the linear layout manager\n        mRecyclerView.layoutManager = LinearLayoutManager(activity)\n\n        // create the adapter\n        val mAdapter = MyRVAdapter()\n\n\n        // init data\n        dataTitles.add(getString(R.string.addition))\n        dataTitles.add(getString(R.string.subtraction))\n        dataTitles.add(getString(R.string.multiplication))\n        dataTitles.add(getString(R.string.division))\n\n        dataSubtitles.add(getString(R.string.addition_information))\n        dataSubtitles.add(getString(R.string.subtraction_information))\n        dataSubtitles.add(getString(R.string.multiplication_information))\n        dataSubtitles.add(getString(R.string.division_information))\n\n        // Set the adapter\n        mRecyclerView.adapter = mAdapter\n\n        super.onActivityCreated(savedInstanceState)\n    }\n}\n</code></pre>\n\n<p><strong>Adapter class</strong></p>\n\n<pre><code>class MyRVAdapter(private val dataTitles: Array&lt;String&gt;, private val dataSubtitles: Array&lt;String&gt;): RecyclerView.Adapter&lt;MyRVAdapter.MyViewHolder&gt;() {\n    private val typeItem = 1\n    private val typeHeader = 2\n    private val typeGrid = 3\n\n    private val primeNumbers = arrayOf(\"2\", \"3\", \"5\", \"7\", \"11\", \"13\",\n            \"17\", \"19\", \"23\")\n\n\n    private lateinit var adapterGV: MyAdapter\n\n    override fun onCreateViewHolder(parent: ViewGroup, type: Int): MyRVAdapter.MyViewHolder {\n        return when (type) {\n            typeHeader -&gt; MyRVAdapter.MyViewHolder(inflateHelper(R.layout.rv_header, parent))\n\n            typeItem -&gt; MyRVAdapter.MyViewHolder(inflateHelper(R.layout.rv_item, parent))\n\n            typeGrid -&gt; MyRVAdapter.MyViewHolder(inflateHelper(R.layout.rv_gv, parent))\n\n            else -&gt; MyRVAdapter.MyViewHolder(inflateHelper(R.layout.rv_item, parent))\n        }\n    }\n\n    override fun onBindViewHolder(viewHolder: MyRVAdapter.MyViewHolder, position: Int) {\n        val llGV = viewHolder.itemView.findViewById&lt;LinearLayout&gt;(R.id.ll_gv)\n\n        val llTV = viewHolder.itemView.findViewById&lt;LinearLayout&gt;(R.id.ll_tv)\n\n        val mGridView = viewHolder.itemView.findViewById&lt;GridView&gt;(R.id.my_gv)\n\n\n        when (getItemViewType(position)) {\n            typeHeader -&gt; {\n                val tValueE = TypedValue()\n                // test\n                llTV.context.theme.resolveAttribute(R.attr.imgUnfoldMore, tValueE, true)\n\n                val tValueC = TypedValue()\n                // test\n                llTV.context.theme.resolveAttribute(R.attr.imgUnfoldLess, tValueC, true)\n            }\n            typeGrid -&gt; {\n                val titleG = viewHolder.itemView.findViewById&lt;TextView&gt;(R.id.tv_gv_A)\n                titleG.setText(R.string.prime_numbers)\n\n                //\n                val cardViewGV = viewHolder.itemView.findViewById&lt;CardView&gt;(R.id.cv_gv)\n                val mLinearLayoutGV = viewHolder.itemView.findViewById&lt;LinearLayout&gt;(R.id.cardview_gv_titlerow\n\n                mGridViewA.isEnabled = false\n                mGridViewA.isVerticalScrollBarEnabled = false\n//                adapterGV = MyAdapter(activity!!.applicationContext, 0)\n                mGridViewA.adapter = adapterGV\n                for (ldnBusesRoute in ldnBusesRoutes) {\n                    adapterGV.addAdapterItem(AdapterItem(ldnBusesRoute))\n                }\n                typeItem -&gt; {\n                    // get the current item\n                    val itemA = dataTitles[position - 2]\n                    val itemB = dataSubtitles[position - 2]\n\n                    //\n                    val txtTitle = viewHolder.itemView.findViewById&lt;TextView&gt;(R.id.tv_title)\n                    txtTitle.text = itemA\n\n                    val txtSubtitle = viewHolder.itemView.findViewById&lt;TextView&gt;(R.id.tv_subtitle)\n                    txtSubtitle.text = itemB\n            }\n        }\n    }\n\n    private fun inflateHelper(resId: Int, parent: ViewGroup): View {\n        return LayoutInflater.from(parent.context).inflate(resId, parent, false)\n    }\n\n    // inner class for view holder to use,\n    class MyViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView)\n\n\n    // Adapter for GridView\n    private inner class MyAdapter internal constructor(context: Context, textviewid: Int) : ArrayAdapter&lt;AdapterItem&gt;(context, textviewid) {\n        private val items = ArrayList&lt;AdapterItem&gt;()\n\n        internal fun addAdapterItem(item: AdapterItem) {\n            items.add(item)\n        }\n\n        override fun getCount(): Int {\n            return items.size\n        }\n\n        override fun getItem(position: Int): AdapterItem? {\n            return items[position]\n        }\n\n        override fun getItemId(position: Int): Long {\n            return position.toLong()\n        }\n\n        override fun getView(position: Int, convertView: View?, parent: ViewGroup): View {\n            val rowView: View = when (convertView) {\n\n                null -&gt; LayoutInflater.from(parent.context).inflate(R.layout.gridview_item, parent, false)\n//                    activity!!.layoutInflater.inflate(R.layout.gridview_item, parent, false)\n                else -&gt; convertView\n            }\n\n            val tv = rowView.findViewById(R.id.item_gridview) as TextView\n            tv.text = items[position].first\n\n            return rowView\n        }\n    }\n\n    internal inner class AdapterItem // add more items\n    (var first: String)\n\n    override fun getItemCount(): Int {\n        return dataTitles.size + 2\n    }\n\n    override fun getItemViewType(position: Int): Int {\n        return when (position) {\n            0 -&gt; typeHeader\n            1 -&gt; typeGrid\n            else -&gt; typeItem\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "arrays", "kotlin", "priority-queue"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1548258222, "post_id": 54330810, "comment_id": 95479599, "body": "So what&#39;s wrong with the solution you could think of?"}, {"owner": {"reputation": 13, "user_id": 10956565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3aac828d848664b58fb54d39eb24e4f7?s=128&d=identicon&r=PG&f=1", "display_name": "smart78", "link": "https://stackoverflow.com/users/10956565/smart78"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1548258377, "post_id": 54330810, "comment_id": 95479707, "body": "I&#39;m not really sure how to write it because I&#39;m not fully understanding the third line of the kotlin code."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1548258499, "post_id": 54330810, "comment_id": 95479778, "body": "you wrote &quot;the only solution I could think of is iterating over the array with a for loop&quot;... and that is what you have to do... ;-) try it and show what problems you face, if any... if you want to understand, what the code does, you may want to lookup the appropriate Kotlin reference, e.g. for <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/indices.html\" rel=\"nofollow noreferrer\"><code>indices</code></a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/map-to.html#mapto\" rel=\"nofollow noreferrer\"><code>mapTo</code></a>..."}, {"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 0, "creation_date": 1548258753, "post_id": 54330810, "comment_id": 95479921, "body": "&quot;have to translate kotlin code to java for a project&quot;.  I&#39;m so very sorry for your loss. :)"}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1548259281, "post_id": 54330810, "comment_id": 95480227, "body": "To comment on understanding. In Kotlin <code>{ }</code> means lambda expression. For the case of <code>mapTo</code> function, the lambda has one parameter. It is implicitly called <code>it</code>. You may have a longer syntax <code>{ your_variable_name -&gt; compute(your_variable_name) }</code>  Every function allows to have its last lambda parameter to be coded outside of <code>()</code>, thus you may have <code>mapTo(target, { ... })</code> and it is equivalent to <code>mapTo(target) { ... }</code>. The second reads a bit nicer and used widely."}, {"owner": {"reputation": 13, "user_id": 10956565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3aac828d848664b58fb54d39eb24e4f7?s=128&d=identicon&r=PG&f=1", "display_name": "smart78", "link": "https://stackoverflow.com/users/10956565/smart78"}, "edited": false, "score": 0, "creation_date": 1548267732, "post_id": 54330810, "comment_id": 95484458, "body": "The first question that came up now is how to create a Map using labels (type List) and results (float[]). I tried &quot; Map&lt;labels,results&gt; map = new HashMap&lt;&gt;() &quot; which didn&#39;t work so I used &quot; Map&lt;List,float[]&gt; map = new HashMap&lt;&gt;() &quot; which does work but I don&#39;t know how to incorporate the two variables."}], "owner": {"reputation": 13, "user_id": 10956565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3aac828d848664b58fb54d39eb24e4f7?s=128&d=identicon&r=PG&f=1", "display_name": "smart78", "link": "https://stackoverflow.com/users/10956565/smart78"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548260341, "creation_date": 1548258065, "last_edit_date": 1548260341, "question_id": 54330810, "link": "https://stackoverflow.com/questions/54330810/translating-kotlin-to-java-mapto", "title": "Translating Kotlin to Java: mapTo", "body": "<p>I am a beginner in programming and have to translate                                                                                                                                                        kotlin code to java for a project. \nIf I understand it correctly, the following method maps indices from the float-array \"results\" to the newly created PriorityQueue. </p>\n\n<pre><code>private fun getResults():PriorityQueue&lt;Result&gt;{\nval outputQueue = createOutputQueue()\n**results.indices.mapTo(outputQueue) { Result(labels[it], results[it]) }** ;this is the main problem \nreturn outputQueue\n}\n</code></pre>\n\n<p>This is  what I've got so far: </p>\n\n<pre><code>public final PriorityQueue&lt;Result&gt; getResults(){\nPriorityQueue outputQueue = new PriorityQueue(createOutputQueue());\nfor (int i =0; i&lt;results.length+1;i++){\n...\n}\nreturn outputQueue;\n</code></pre>\n\n<p>The only solution I could think of is iterating over the array with a for loop. Any help is appreciated. </p>\n"}, {"tags": ["android", "kotlin", "realm"], "owner": {"reputation": 1217, "user_id": 5225435, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/iaj9R.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/5225435/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 203, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1548259204, "creation_date": 1548256592, "last_edit_date": 1548259204, "question_id": 54330365, "link": "https://stackoverflow.com/questions/54330365/android-realm-kotlin-check-realmobject-has-field-matching-variable-set-realmo", "title": "Android, Realm, Kotlin check RealmObject has field matching variable, set RealmObject key with variable", "body": "<p>So I have booleans in SharedPreferences in Android.</p>\n\n<p>I want to conditionally update the booleans in my Realm instance in the onPreferenceChanged listener. Some of the booleans are matched in the Realm Object, some are not.</p>\n\n<p>I would like to be able to see if the RealmObject has a key that matches the Preference Key and if so update the RealmObject with the Preference value.</p>\n\n<p>Here's the code</p>\n\n<pre><code>private val booleanBindPreferenceSummaryToValueListener = Preference.OnPreferenceChangeListener { preference, value -&gt;\n\n    //log the preference change\n    Log.d(TAG, \"onBooleanPreferenceChanged: ${preference.key}: $value\")\n    //open the instance of Realm so we can update changes to the user object and have the information on the server\n    val realm = Realm.getDefaultInstance()\n    //get the userID from globals\n    val userID = Globals.read(\"UserID\", \"\")\n    //make sure that the User ID is not null or blank\n    if (!userID.isNullOrBlank()){\n       //query the Realm database to get our instance of the user\n       val user = realm.where&lt;User&gt;().equalTo(\"platformUserID\", userID).findFirst()!!\n       //find out if this particular boolean value is saved to the Realm object    \n\n       //TO DO\n\n    }\n    realm.close()\n    true\n\n}\n</code></pre>\n\n<p>In JavaScript I would just list the object keys and filter the array for any matches, then I would be able to write something like</p>\n\n<blockquote>\n  <p>if (matches.some === true) User[preference.key] = preference.value</p>\n</blockquote>\n\n<p>I'm new to Kotlin but I thought this should be easy. It's eluding me at the moment.</p>\n"}, {"tags": ["android", "kotlin", "android-animation"], "answers": [{"comments": [{"owner": {"reputation": 567, "user_id": 4257449, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b333ca3a0726ce4eb76f7f12845041e0?s=128&d=identicon&r=PG&f=1", "display_name": "coolDude", "link": "https://stackoverflow.com/users/4257449/cooldude"}, "edited": false, "score": 0, "creation_date": 1548265753, "post_id": 54332354, "comment_id": 95483500, "body": "Thanks for the reply! Unfortunately, splitting out each animator and calling <code>start()</code> on each one doesn&#39;t appear to have resolved the issue for me :/"}], "tags": [], "owner": {"reputation": 9, "user_id": 7801331, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-laInqo1jPp4/AAAAAAAAAAI/AAAAAAAAAD8/NuDl62S-UDY/photo.jpg?sz=128", "display_name": "mudassar raza", "link": "https://stackoverflow.com/users/7801331/mudassar-raza"}, "is_accepted": false, "score": 0, "last_activity_date": 1548263459, "creation_date": 1548263459, "answer_id": 54332354, "question_id": 54330269, "link": "https://stackoverflow.com/questions/54330269/debugging-android-valueanimator/54332354#54332354", "title": "Debugging Android ValueAnimator", "body": "<p>You don't need to create the collapse animation.</p>\n\n<p>You can simply reverse the animations which you have created to expand, like this:</p>\n\n<pre><code>rvAnimator.reverse()\narrowAnimator.reverse()\n</code></pre>\n\n<p>for this, you can't use the AnimatorSet, you have to start both the animations by yourself like this:</p>\n\n<pre><code>rvAnimator.start()\narrowAnimator.start()\n</code></pre>\n"}], "owner": {"reputation": 567, "user_id": 4257449, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/b333ca3a0726ce4eb76f7f12845041e0?s=128&d=identicon&r=PG&f=1", "display_name": "coolDude", "link": "https://stackoverflow.com/users/4257449/cooldude"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548263459, "creation_date": 1548256309, "question_id": 54330269, "link": "https://stackoverflow.com/questions/54330269/debugging-android-valueanimator", "title": "Debugging Android ValueAnimator", "body": "<p>I have been trying to create a collapse/expand animation for my <code>CardView</code> using Kotlin extension functions and <code>ValueAnimator</code>. Here is the code for my animations (the <code>CardView</code> extension functions):</p>\n\n<pre><code>fun CardView.collapse() {\n    val content = findViewById&lt;RecyclerView&gt;(R.id.rv_content)\n    val arrow = findViewById&lt;ImageView&gt;(R.id.contents_arrow)\n    val currentHeight = content.layoutParams.height\n\n    val rvAnimator = ValueAnimator.ofInt(currentHeight, 0).apply {\n        addUpdateListener{ updatedAnimation -&gt;\n            val params = content.layoutParams\n            params.height = updatedAnimation.animatedValue as Int\n            content.layoutParams = params\n        }\n        duration = 1000\n    }\n\n    val arrowAnimator = ValueAnimator.ofFloat(00f, 180f).apply {\n        addUpdateListener { updatedAnimation -&gt;\n            arrow.rotation = updatedAnimation.animatedValue as Float\n        }\n\n        duration = 1000\n        startDelay = 250\n    }\n\n    AnimatorSet().apply {\n        playTogether(rvAnimator, arrowAnimator)\n        start()\n    }\n\n}\n\nfun CardView.expand(maxHeight: Int) {\n    val content = findViewById&lt;RecyclerView&gt;(R.id.rv_content)\n    val arrow = findViewById&lt;ImageView&gt;(R.id.contents_arrow)\n\n    val rvAnimator = ValueAnimator.ofInt(0, maxHeight).apply {\n        addUpdateListener{updatedAnimation -&gt;\n            val params = content.layoutParams\n            params.height = updatedAnimation.animatedValue as Int\n            content.layoutParams = params\n        }\n        duration = 1000\n    }\n\n    val arrowAnimator = ValueAnimator.ofFloat(180f, 0f).apply {\n        addUpdateListener { updatedAnimation -&gt;\n            arrow.rotation = updatedAnimation.animatedValue as Float\n        }\n\n        duration = 1000\n        startDelay = 250\n    }\n\n    AnimatorSet().apply {\n        playTogether(rvAnimator, arrowAnimator)\n        start()\n    }\n\n}\n\nfun CardView.isCollapsed(): Boolean {\n    val content = findViewById&lt;RecyclerView&gt;(R.id.rv_content)\n    return content.layoutParams.height == 0\n\n}\n</code></pre>\n\n<p>And the on-click which initiates the animation:</p>\n\n<pre><code>override fun onBindViewHolder(holder: SectionViewHolder, position: Int) {\n\n    holder.itemView.setOnClickListener {\n        if ((it as CardView).isCollapsed()) {\n            it.expand(holder.maxHeight)\n        } else {\n            it.collapse()\n        }\n    }\n}\n</code></pre>\n\n<p>However, my animation seems to cause some very strange drawing issues. There's some sort of delay when the <code>CardView</code> is clicked the first time. More concerning though is the fact that the <code>CardView</code> always goes back to being expanded once the animation is over:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UMmHW.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UMmHW.gif\" alt=\"enter image description here\"></a></p>\n\n<p>When the arrow is pointing up, the <code>CardView</code> should be collapsed and vice versa when the arrow is pointing down. </p>\n\n<p>Would anyone be able to provide any input on how to solve this issue? I don't even know where to begin when debugging an animation. Any input is appreciated :)</p>\n"}, {"tags": ["java", "intellij-idea", "kotlin", "intellij-plugin", "intellij-14"], "comments": [{"owner": {"reputation": 462, "user_id": 2906959, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001009218276/picture?type=large", "display_name": "Prashant Zombade", "link": "https://stackoverflow.com/users/2906959/prashant-zombade"}, "edited": false, "score": 1, "creation_date": 1548256128, "post_id": 54330017, "comment_id": 95478415, "body": "Out of curiosity can you ensure that the class <code>TypeCastException</code> is present in the jar?"}, {"owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "reply_to_user": {"reputation": 462, "user_id": 2906959, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001009218276/picture?type=large", "display_name": "Prashant Zombade", "link": "https://stackoverflow.com/users/2906959/prashant-zombade"}, "edited": false, "score": 0, "creation_date": 1548257573, "post_id": 54330017, "comment_id": 95479236, "body": "I searched the project for <code>TypeCastException</code> and it did not come up with anything @PrashantZombade."}, {"owner": {"reputation": 462, "user_id": 2906959, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001009218276/picture?type=large", "display_name": "Prashant Zombade", "link": "https://stackoverflow.com/users/2906959/prashant-zombade"}, "edited": false, "score": 1, "creation_date": 1548257753, "post_id": 54330017, "comment_id": 95479338, "body": "Okay. May be that is coming from some library/jar in your classpath. And looks like you your self found the solution. Congratulations!"}, {"owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "reply_to_user": {"reputation": 462, "user_id": 2906959, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001009218276/picture?type=large", "display_name": "Prashant Zombade", "link": "https://stackoverflow.com/users/2906959/prashant-zombade"}, "edited": false, "score": 0, "creation_date": 1548264690, "post_id": 54330017, "comment_id": 95483059, "body": "Thank you @PrashantZombade! May you vote on the question/answer if you think this issue is valuable to others."}], "answers": [{"tags": [], "owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "is_accepted": true, "score": 0, "last_activity_date": 1548255556, "creation_date": 1548255556, "answer_id": 54330048, "question_id": 54330017, "link": "https://stackoverflow.com/questions/54330017/jar-file-does-not-run-after-intellij-upgrade/54330048#54330048", "title": "Jar File Does Not Run After IntelliJ Upgrade", "body": "<p>Deleting the existing <strong>Jar</strong> file and going through the steps outlined above <em>Packaging the application in a JAR File</em> and <em>Build and run JAR</em> resolved the issue. The new <strong>Jar</strong> is now running as expected.</p>\n"}], "owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 54330048, "answer_count": 1, "score": 0, "last_activity_date": 1548255609, "creation_date": 1548255458, "last_edit_date": 1548255609, "question_id": 54330017, "link": "https://stackoverflow.com/questions/54330017/jar-file-does-not-run-after-intellij-upgrade", "title": "Jar File Does Not Run After IntelliJ Upgrade", "body": "<h1>Expected</h1>\n\n<p><strong>Jar</strong> file builds and runs with the following configuration described in the section <a href=\"https://hackernoon.com/deploy-a-backend-app-as-an-android-engineer-49bd94b4c367\" rel=\"nofollow noreferrer\">Generate Deployable JAR\u200a\u2014\u200aStep 3 of 4</a> in this Medium post and outlined below.</p>\n\n<ol>\n<li><p>Packaging the application in a JAR\nFile: Project Structure > Project Settings > Artifacts > + > Jar > From modules with dependencies\u2026</p>\n\n<ul>\n<li>Module: projectModuleName_main</li>\n<li>MainClass:YourMainClassWithMainMethod</li>\n<li>Manifest: src/main/manifestName</li>\n<li>Output directory: projectName/out/artifacts/jarName_jar</li>\n</ul></li>\n<li><p>Build and run JAR</p>\n\n<ul>\n<li>Build > Build Artifacts\u2026 > Action > Build</li>\n<li>Run Jar: Run > Edit Configurations: + and select JAR Application (Before launch: + > Build Artifacts > artifactName)</li>\n</ul></li>\n</ol>\n\n<h1>Observed</h1>\n\n<p><strong>Jar</strong> file does not run after upgrading my version of IntelliJ.</p>\n\n<p><strong>Error</strong></p>\n\n<blockquote>\n  <p>Error: Unable to initialize main class Initialization</p>\n  \n  <p>Caused by: java.lang.NoClassDefFoundError: kotlin/TypeCastException</p>\n</blockquote>\n\n<p><strong>IntelliJ version</strong></p>\n\n<blockquote>\n  <p>IntelliJ IDEA 2018.3.3 (Community Edition)</p>\n  \n  <p>Build #IC-183.5153.38, built on January 9, 2019</p>\n  \n  <p>JRE: 1.8.0_152-release-1343-b26 x86_64</p>\n  \n  <p>JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o</p>\n  \n  <p>Mac OS X 10.11.6</p>\n</blockquote>\n"}, {"tags": ["json", "kotlin", "enums", "adapter", "moshi"], "comments": [{"owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 4, "creation_date": 1548365096, "post_id": 54329541, "comment_id": 95526202, "body": "the enum adapter doesn&#39;t know about the inner <code>value</code> field. the enum adapter matches to the string name of the enum constant. a custom adapter sounds like the correct solution."}], "owner": {"reputation": 4613, "user_id": 784766, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/dc5a8416823b374a9ad4a06b7eb8ba63?s=128&d=identicon&r=PG", "display_name": "Gabrielle", "link": "https://stackoverflow.com/users/784766/gabrielle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2139, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1548253917, "creation_date": 1548253917, "question_id": 54329541, "link": "https://stackoverflow.com/questions/54329541/parsing-enum-with-enumjsonadapter-doesnt-work", "title": "Parsing enum with EnumJsonAdapter doesn&#39;t work", "body": "<p>I have a data class User :</p>\n\n<pre><code> @JsonClass(generateAdapter = true)\ndata class User(val accountName: String,\n                val gender: Gender,\n                val title: Title? = null)\n)\n</code></pre>\n\n<p>where gender and title must have only some values which are written in enums :</p>\n\n<pre><code>enum class Gender(val value: Int) {\n  MALE(0), FEMALE(1), UNSPECIFIED(-1)\n}\n\nenum class Title(val value: String) {\n  MRS(\"Mrs\"), MS(\"Ms\")\n}\n</code></pre>\n\n<p>I added <code>EnumJsonAdapter</code> to moshi builder, but it doesn't work. </p>\n\n<pre><code>fun fromJson(json: String): User? {\n      val builder = Moshi.Builder()\n          .add(Title::class.java, EnumJsonAdapter.create&lt;Title&gt;(Title::class.java).withUnknownFallback(null))\n          .add(Gender::class.java, EnumJsonAdapter.create&lt;Gender&gt;(Gender::class.java).withUnknownFallback(Gender.UNSPECIFIED))\n          .build()\n      val jsonAdapter = builder.adapter(User::class.java)\n\n      return jsonAdapter.fromJson(json)\n    }\n\n    fun toJson(obj: User): String {\n      val builder = Moshi.Builder()\n          .add(Title::class.java, EnumJsonAdapter.create&lt;Title&gt;(Title::class.java).withUnknownFallback(null))\n          .add(Gender::class.java, EnumJsonAdapter.create&lt;Gender&gt;(Gender::class.java).withUnknownFallback(Gender.UNSPECIFIED))\n          .build()\n      val jsonAdapter = builder.adapter(User::class.java).serializeNulls()\n\n      return jsonAdapter.toJson(obj)\n    }\n</code></pre>\n\n<p>I receive title = \"Mr\" and it is parsed as null. On gender, I get this exception :</p>\n\n<pre><code>com.squareup.moshi.JsonDataException: Expected a string but was NUMBER at path $.data.gender\n        at com.squareup.moshi.adapters.EnumJsonAdapter.fromJson(EnumJsonAdapter.java:93)\n</code></pre>\n\n<p>Is it something I am doing wrong with <code>EnumJsonAdapter</code> ? So what I see, it can not be used for int, but why it doesn't work ok for title which is a String ?</p>\n\n<p>If I use custom adapters for these enums everything works fine.     </p>\n"}, {"tags": ["java", "android", "kotlin", "stripe-payments", "payment-gateway"], "comments": [{"owner": {"reputation": 5720, "user_id": 3872976, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/bNNko.jpg?s=128&g=1", "display_name": "deathangel908", "link": "https://stackoverflow.com/users/3872976/deathangel908"}, "edited": false, "score": 0, "creation_date": 1548255376, "post_id": 54329469, "comment_id": 95477964, "body": "Not clear to me at all, probably to others as well. Can you please post the picture of how CardInputWidget looks"}, {"owner": {"reputation": 1252, "user_id": 4973660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pWsdP.jpg?s=128&g=1", "display_name": "kiran kumar", "link": "https://stackoverflow.com/users/4973660/kiran-kumar"}, "reply_to_user": {"reputation": 5720, "user_id": 3872976, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/bNNko.jpg?s=128&g=1", "display_name": "deathangel908", "link": "https://stackoverflow.com/users/3872976/deathangel908"}, "edited": false, "score": 0, "creation_date": 1548256678, "post_id": 54329469, "comment_id": 95478737, "body": "@deathangel908 can you have a look"}, {"owner": {"reputation": 5720, "user_id": 3872976, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/bNNko.jpg?s=128&g=1", "display_name": "deathangel908", "link": "https://stackoverflow.com/users/3872976/deathangel908"}, "edited": false, "score": 0, "creation_date": 1548269306, "post_id": 54329469, "comment_id": 95485170, "body": "I don&#39;t know about how CardInputWidget works, but you can extend CardInputWidget and use findViewById in this component to find the view you need to set text into."}, {"owner": {"reputation": 1070, "user_id": 5915807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f4095e2e965e552e521bc9d38886d77?s=128&d=identicon&r=PG", "display_name": "korben", "link": "https://stackoverflow.com/users/5915807/korben"}, "edited": false, "score": 0, "creation_date": 1548291079, "post_id": 54329469, "comment_id": 95492693, "body": "Unfortunately, the CardInputWidget doesn&#39;t support zipcode entry.  You&#39;d probably want to make your own widget.  The library is open source though, so you could maybe do that fairly easily.  <a href=\"https://github.com/stripe/stripe-android/blob/master/stripe/src/main/java/com/stripe/android/view/CardInputWidget.java\" rel=\"nofollow noreferrer\">github.com/stripe/stripe-android/blob/master/stripe/src/main&zwnj;&#8203;/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 526, "user_id": 7113145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af3171a36fa81f2a504589c6c99dda15?s=128&d=identicon&r=PG&f=1", "display_name": "Sharanjeet Kaur", "link": "https://stackoverflow.com/users/7113145/sharanjeet-kaur"}, "is_accepted": false, "score": 3, "last_activity_date": 1589517608, "creation_date": 1589517608, "answer_id": 61811876, "question_id": 54329469, "link": "https://stackoverflow.com/questions/54329469/stripe-add-postal-zip-in-android-cardinputwidget/61811876#61811876", "title": "Stripe add postal/ zip in android CardInputWidget", "body": "<p>Set   cardInputWidget.postalCodeEnabled=false in class to hide postal code</p>\n"}], "owner": {"reputation": 1252, "user_id": 4973660, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pWsdP.jpg?s=128&g=1", "display_name": "kiran kumar", "link": "https://stackoverflow.com/users/4973660/kiran-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 922, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1589517608, "creation_date": 1548253726, "last_edit_date": 1548256634, "question_id": 54329469, "link": "https://stackoverflow.com/questions/54329469/stripe-add-postal-zip-in-android-cardinputwidget", "title": "Stripe add postal/ zip in android CardInputWidget", "body": "<p>how can I add postal / zip code for stripe CardInputWidget I was able to achieve this with CardMultilineWidget but I need this in a single line right now I can enter the card number, MM/YY &amp; CVV I also need a place to enter a zip code.</p>\n\n<pre><code>&lt;com.stripe.android.view.CardInputWidget\n android:id=\"@+id/card_input_widget\"\n android:layout_width=\"match_parent\"\n android:layout_height=\"wrap_content\"/&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/hxDBY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hxDBY.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "filter", "kotlin", "searchview"], "comments": [{"owner": {"reputation": 85180, "user_id": 493939, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa881f5e177eb698ff51740270bf6f52?s=128&d=identicon&r=PG&f=1", "display_name": "user", "link": "https://stackoverflow.com/users/493939/user"}, "edited": false, "score": 0, "creation_date": 1548411497, "post_id": 54329450, "comment_id": 95540451, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/23422072/searchview-in-listview-having-a-custom-adapter\">SearchView In ListView having a custom Adapter</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1360, "user_id": 1063776, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0jZe7.jpg?s=128&g=1", "display_name": "eiran", "link": "https://stackoverflow.com/users/1063776/eiran"}, "is_accepted": false, "score": 0, "last_activity_date": 1560779437, "creation_date": 1560779437, "answer_id": 56632735, "question_id": 54329450, "link": "https://stackoverflow.com/questions/54329450/searchview-that-filters-complex-data-object-and-custom-layout/56632735#56632735", "title": "SearchView that filters complex data (object and custom layout)", "body": "<p>so.. it's easier to do the filtering manually with an EditText.</p>\n\n<p>but! if you still want to do it with a Filter and a SearchView, it goes like this:</p>\n\n<ol>\n<li><p>you need to extend the Filter class, something like this:</p>\n\n<pre><code>private class MyFilter extends Filter {\n\n    @Override\n    protected FilterResults performFiltering(CharSequence constraint) {\n        final FilterResults results = new FilterResults();\n\n        if (constraint == null || constraint.length() == 0) {\n            final ArrayList&lt;MyObject&gt; list;\n            synchronized (adapter) {\n                list = new ArrayList&lt;&gt;(allObjects);\n            }\n            results.values = list;\n            results.count = list.size();\n        } else {\n            final String prefixString = constraint.toString().toLowerCase();\n\n            final ArrayList&lt;MyObject&gt; values;\n            synchronized (adapter) {\n                values = new ArrayList&lt;&gt;(allObjects);\n            }\n\n            final int count = values.size();\n            final ArrayList&lt;MyObject&gt; newValues = new ArrayList&lt;&gt;();\n\n            for (int i = 0; i &lt; count; i++) {\n                final MyObject value = values.get(i);\n                final String valueText = value.firstName.toLowerCase() + \" \" + value.lastName.toLowerCase();\n                Log.i(\"search\", valueText);\n                if (valueText.contains(prefixString)) {\n                    newValues.add(value);\n                    Log.i(\"search\", \"in\");\n                }\n            }\n            results.values = newValues;\n            results.count = newValues.size();\n        }\n        return results;\n    }\n\n    @Override\n    protected void publishResults(CharSequence constraint, FilterResults results) {\n        adapter.students = (List&lt;MyObject&gt;) results.values;\n        if (results.count &gt; 0) {\n            adapter.notifyDataSetChanged();\n        } else {\n            adapter.notifyDataSetInvalidated();\n        }\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>notice i used firstname and lastname as fields of MyObject, and you should change that to the values you're searching for.</p>\n\n<ol start=\"2\">\n<li><p>you need to override the method getFilter in your adapter:</p>\n\n<pre><code>@Override\npublic Filter getFilter(){\n    return new MyFilter();\n}\n</code></pre></li>\n<li><p>setup the searchView query listener:</p>\n\n<pre><code>searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n    @Override\n    public boolean onQueryTextSubmit(String query) {\n        adapter.getFilter().filter(query);\n        return false;\n    }\n\n    @Override\n    public boolean onQueryTextChange(String query) {\n        adapter.getFilter().filter(query);\n        return false;\n    }\n});\n</code></pre></li>\n</ol>\n\n<p>hope that helps someone,</p>\n\n<p>cheers</p>\n"}], "owner": {"reputation": 267, "user_id": 10429466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w8tbdscu__c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWqPX9CJdAYvNscm11o8i9c82gFDg/mo/photo.jpg?sz=128", "display_name": "Projet Sin", "link": "https://stackoverflow.com/users/10429466/projet-sin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560779437, "creation_date": 1548253660, "last_edit_date": 1548411313, "question_id": 54329450, "link": "https://stackoverflow.com/questions/54329450/searchview-that-filters-complex-data-object-and-custom-layout", "title": "SearchView that filters complex data (object and custom layout)", "body": "<p>I have my adapter that extend a class <strong>MatchableArrayAdapter</strong> that i've found on the internet.</p>\n\n<p>The class allows me to have a complex layout for my list view (layout that is not only Textview, but several layout and textViews).</p>\n\n<p>I have this complex layout because I'm using object with several data inside it (so I can on the same item display a name, an ID...)</p>\n\n<p>So i'm passing an <strong>ArrayList of object</strong> from my fragment to my adapter.</p>\n\n<p><strong><em>What I want is this :</em></strong> </p>\n\n<p>I want to <strong>add a searchView</strong> that will <em>filter</em> on <em>any of the object</em> <em>properties</em> (filter on ID, name, location...)</p>\n\n<p>Any idea how to do that ? I've found that I need to use <strong>Filterable</strong> but I don't understand why...</p>\n"}, {"tags": ["gradle", "kotlin", "build.gradle", "gradle-kotlin-dsl", "source-sets"], "comments": [{"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "reply_to_user": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 0, "creation_date": 1548257819, "post_id": 54329251, "comment_id": 95479375, "body": "It does find the file. The Unresolved Reference is when it&#39;s trying to &quot;compile&quot; <code>gradle&#47;test.gradle</code>. This exact code in Groovy works."}, {"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "reply_to_user": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 0, "creation_date": 1548257852, "post_id": 54329251, "comment_id": 95479394, "body": "If I try to rename the file, the error is different (file not found of some sort)"}, {"owner": {"reputation": 23433, "user_id": 1127485, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e7eccba442d1ee3ca8e4ded89b343362?s=128&d=identicon&r=PG", "display_name": "sschuberth", "link": "https://stackoverflow.com/users/1127485/sschuberth"}, "edited": false, "score": 0, "creation_date": 1558339007, "post_id": 54329251, "comment_id": 99053644, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/52975515/unresolved-reference-sourcesets-for-gradle-kotlin-dsl\">Unresolved reference: sourceSets for Gradle Kotlin DSL</a>"}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 11856481, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0DXro0QrfQg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdKwnyUpNLGAxXMPLCShCkayV1Esw/photo.jpg?sz=128", "display_name": "Raino Kolk", "link": "https://stackoverflow.com/users/11856481/raino-kolk"}, "is_accepted": false, "score": 0, "last_activity_date": 1593694129, "creation_date": 1593694129, "answer_id": 62696714, "question_id": 54329251, "link": "https://stackoverflow.com/questions/54329251/unresolved-reference-sourcesets-gradle-kotlin-dsl-in-another-file/62696714#62696714", "title": "Unresolved reference: sourceSets - Gradle Kotlin DSL in another file", "body": "<p>Its kind of duplication of <a href=\"https://stackoverflow.com/questions/52975515/unresolved-reference-sourcesets-for-gradle-kotlin-dsl\">Unresolved reference: sourceSets for Gradle Kotlin DSL</a></p>\n<p>You can't reference sourceSet directly when using separate gradle file.\nFrom referenced answer:</p>\n<blockquote>\n<p>Since the plugin is applied imperatively in the same build script,\nGradle can't know the plugin is applied and thus can't generate the\nextension functions allowing to access the source sets.</p>\n</blockquote>\n<p>As mentioned, you can use <code>project.the&lt;SourceSetContainer&gt;()</code></p>\n<p>To create new sourceSet <code>create()</code> method can be used.</p>\n<p><code>project.the&lt;SourceSetContainer&gt;().create(&quot;unitTest&quot;)</code></p>\n"}], "owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 902, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1593694129, "creation_date": 1548253008, "last_edit_date": 1554754400, "question_id": 54329251, "link": "https://stackoverflow.com/questions/54329251/unresolved-reference-sourcesets-gradle-kotlin-dsl-in-another-file", "title": "Unresolved reference: sourceSets - Gradle Kotlin DSL in another file", "body": "<p>In Gradle (Groovy), I used to do this to configure source sets:</p>\n\n<p><code>build.gradle</code>:</p>\n\n<pre><code>apply plugin: 'java'\napply from: 'gradle/test.gradle'\n</code></pre>\n\n<p><code>gradle/test.gradle</code>:</p>\n\n<pre><code>sourceSets {\n    unitTest {\n        compileClasspath += main.output\n        runtimeClasspath += main.output\n    }\n}\n</code></pre>\n\n<p>And then I'd use the <code>unitTest</code> source set for creating tasks.</p>\n\n<p>When I try to do the same in IntelliJ for Gradle KTS:</p>\n\n<p><code>build.gradle.kts</code>:</p>\n\n<pre><code>plugins {\n    java\n}\n\napply(from = \"gradle/test.gradle.kts\")\n</code></pre>\n\n<p><code>gradle/test.gradle.kts</code>:</p>\n\n<pre><code>sourceSets {\n    create(\"unitTest\") {\n     // Do configurations\n    }\n}\n</code></pre>\n\n<p>If fails with a <code>Unresolved reference: sourceSets</code> error.</p>\n\n<p>How can I this same thing in Kotlin Gradle?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": false, "score": 2, "last_activity_date": 1548252500, "creation_date": 1548252500, "answer_id": 54329100, "question_id": 54328566, "link": "https://stackoverflow.com/questions/54328566/kotlin-synthetic-id-collision-bug/54329100#54329100", "title": "Kotlin synthetic id collision bug", "body": "<p>That behavior is expected. The same would happen if you called <code>view.findViewById(R.id.addressTv)</code> (which the synthetic property does under the hood) because it traversed the view hierarchy depth-first and since the <code>RecyclerView</code> comes first, the first item with this ID found is the list item.</p>\n\n<p>You have two possibilities</p>\n\n<p><strong>Change the ID of one of the views</strong></p>\n\n<p>or</p>\n\n<p><strong>Specify a different parent than the fragment itself</strong> to look for the view, e.g. <code>detailsLayout.addressTv?.text = place.address</code>. You'll need the following imports for that:</p>\n\n<pre><code>import kotlinx.android.synthetic.main.fragment_points.*\nimport kotlinx.android.synthetic.main.fragment_points.view.*\n</code></pre>\n\n<p>In this scenario, the view will not be cached so you'll have a minimal performance penalty.</p>\n"}], "owner": {"reputation": 1346, "user_id": 5605517, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/60f7fec1bc15247462f34d2ba0d00fd2?s=128&d=identicon&r=PG&f=1", "display_name": "Esperanz0", "link": "https://stackoverflow.com/users/5605517/esperanz0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548252500, "creation_date": 1548250667, "last_edit_date": 1548251053, "question_id": 54328566, "link": "https://stackoverflow.com/questions/54328566/kotlin-synthetic-id-collision-bug", "title": "Kotlin synthetic id collision bug", "body": "<p>I have fragment and inside fragment RecyclerView with Points and static view with PointsDetail. </p>\n\n<p><a href=\"https://i.stack.imgur.com/ETzFf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ETzFf.png\" alt=\"enter image description here\"></a></p>\n\n<p>Adaper listener: </p>\n\n<pre><code>      holder.container.setOnClickListener {\n            adapterListener.onItemClick(tmsLightPoint)\n      }\n\n      interface OnClickListener {\n            fun onItemClick(place: TmsLightPlace)\n      }\n</code></pre>\n\n<p>Item list xml element ( list xml ):</p>\n\n<pre><code> &lt;TextView\n        android:id=\"@+id/addressTv\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:gravity=\"center\"\n        tools:text=\"Wroc\u0142aw (ul. Testowa 44, 00-007 Polska)\" /&gt;\n</code></pre>\n\n<p>But also on details view I'm displaying address from this point so again I have ( static details view xml ): </p>\n\n<pre><code>&lt;TextView\n            android:id=\"@+id/addressTv\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:gravity=\"center\"\n            app:layout_constraintLeft_toLeftOf=\"parent\"\n            app:layout_constraintRight_toRightOf=\"parent\"\n            app:layout_constraintTop_toBottomOf=\"@id/nameTv\"\n            tools:text=\"Wroc\u0142aw (ul. Testowa 44, 00-007 Polska)\" /&gt;\n</code></pre>\n\n<p>After clicking on the list item: </p>\n\n<pre><code> override fun onItemClick(place: TmsLightPlace) {\n        LogMgr.v(TAG, \"onItemClick() $place\")\n        addressTv?.text = place.address\n }\n</code></pre>\n\n<p><strong>Address is changing but not in my details view but in list address first item.</strong> </p>\n\n<p>In fragment I have only one synthetic import:</p>\n\n<pre><code>import kotlinx.android.synthetic.main.fragment_points.*\n</code></pre>\n\n<p><strong>It is a BUG or FEATURE ? : )</strong></p>\n"}, {"tags": ["javafx", "kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 4342, "user_id": 3019499, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/231295e58751d3002e06a50d8cff6804?s=128&d=identicon&r=PG&f=1", "display_name": "Stephane", "link": "https://stackoverflow.com/users/3019499/stephane"}, "edited": false, "score": 0, "creation_date": 1553424010, "post_id": 54327733, "comment_id": 97372015, "body": "have you been able to resolve this issue?"}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 4342, "user_id": 3019499, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/231295e58751d3002e06a50d8cff6804?s=128&d=identicon&r=PG&f=1", "display_name": "Stephane", "link": "https://stackoverflow.com/users/3019499/stephane"}, "edited": false, "score": 0, "creation_date": 1553459025, "post_id": 54327733, "comment_id": 97382244, "body": "I had to update my Java 8 installation to the latest version which includes this fix."}], "answers": [{"tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 1, "last_activity_date": 1548255552, "creation_date": 1548255552, "answer_id": 54330046, "question_id": 54327733, "link": "https://stackoverflow.com/questions/54327733/how-to-fix-nsinternalinconsistencyexception-in-tornadofx-when-running-on-macos-1/54330046#54330046", "title": "How to fix NSInternalInconsistencyException in TornadoFX when running on macOS 10.14?", "body": "<p>There is no relevant dependencies introduced by TornadoFX here, all you need is a version of Java 8 with the fix in place. As the release notes of u202 doesn't mention the fix for this issue, you should contact Oracle and ask them to clarify, and if there is a patch version available with the fix in place.</p>\n"}], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "accepted_answer_id": 54330046, "answer_count": 1, "score": 0, "last_activity_date": 1548255552, "creation_date": 1548247957, "last_edit_date": 1548251818, "question_id": 54327733, "link": "https://stackoverflow.com/questions/54327733/how-to-fix-nsinternalinconsistencyexception-in-tornadofx-when-running-on-macos-1", "title": "How to fix NSInternalInconsistencyException in TornadoFX when running on macOS 10.14?", "body": "<p>I'm using TornadoFX and I've recently upgraded to macOS 10.14. The problem is that I get this error whenever I open a dialog and focus another application window:</p>\n\n<pre><code>2019-01-23 13:32:31.270 java[9369:78410] *** Assertion failure in -[NSEvent _initWithCGEvent:eventRef:], /BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1671.20.108/AppKit.subproj/NSEvent.m:1969\n2019-01-23 13:32:46.218 java[9369:78410] unrecognized type is 4294967295\n2019-01-23 13:32:46.218 java[9369:78410] *** Assertion failure in -[NSEvent _initWithCGEvent:eventRef:], /BuildRoot/Library/Caches/com.apple.xbs/Sources/AppKit/AppKit-1671.20.108/AppKit.subproj/NSEvent.m:1969\n2019-01-23 13:32:46.222 java[9369:78410] *** Terminating app due to uncaught exception 'NSInternalInconsistencyException', reason: 'Invalid parameter not satisfying: _type &gt; 0 &amp;&amp; _type &lt;= kCGSLastEventType'\n*** First throw call stack:\n(\n    0   CoreFoundation                      0x00007fff2c2abecd __exceptionPreprocess + 256\n    1   libobjc.A.dylib                     0x00007fff58363720 objc_exception_throw + 48\n    2   CoreFoundation                      0x00007fff2c2c6b2a +[NSException raise:format:arguments:] + 98\n    3   Foundation                          0x00007fff2e66ae0d -[NSAssertionHandler handleFailureInMethod:object:file:lineNumber:description:] + 194\n    4   AppKit                              0x00007fff2974f4d5 -[NSEvent _initWithCGEvent:eventRef:] + 3272\n    5   AppKit                              0x00007fff29aa2b50 +[NSEvent eventWithCGEvent:] + 120\n    6   libglass.dylib                      0x000000012ca2295b listenTouchEvents + 59\n    7   SkyLight                            0x00007fff5240dbc2 _ZL19processEventTapDataPvjjjPhj + 148\n    8   SkyLight                            0x00007fff5230bb44 _XPostEventTapData + 278\n    9   SkyLight                            0x00007fff5240dad0 _ZL22eventTapMessageHandlerP12__CFMachPortPvlS1_ + 132\n    10  CoreFoundation                      0x00007fff2c20caef __CFMachPortPerform + 282\n    11  CoreFoundation                      0x00007fff2c20c9c9 __CFRUNLOOP_IS_CALLING_OUT_TO_A_SOURCE1_PERFORM_FUNCTION__ + 41\n    12  CoreFoundation                      0x00007fff2c20c927 __CFRunLoopDoSource1 + 527\n    13  CoreFoundation                      0x00007fff2c1f49a9 __CFRunLoopRun + 2574\n    14  CoreFoundation                      0x00007fff2c1f3d48 CFRunLoopRunSpecific + 463\n    15  Foundation                          0x00007fff2e55a4aa -[NSRunLoop(NSRunLoop) runMode:beforeDate:] + 280\n    16  libglass.dylib                      0x000000012ca0f7a8 +[GlassApplication enterNestedEventLoopWithEnv:] + 136\n    17  libglass.dylib                      0x000000012ca1024a Java_com_sun_glass_ui_mac_MacApplication__1enterNestedEventLoopImpl + 74\n    18  ???                                 0x0000000118544db5 0x0 + 4703145397\n)\nlibc++abi.dylib: terminating with uncaught exception of type NSException\n\n</code></pre>\n\n<p>There is a solution for this detailed in <a href=\"https://stackoverflow.com/questions/52323438/assertion-failure-in-nsevent\">this question</a> but my problem is that I'm using TornadoFX and I can't really tamper with its dependencies. What can I do to fix this?</p>\n\n<p><a href=\"https://bugs.openjdk.java.net/browse/JDK-8213793\" rel=\"nofollow noreferrer\">This</a> ticked suggests that this is fixed in <code>u202</code> but I tried it and I can still reproduce this problem with <code>u202</code>.</p>\n"}, {"tags": ["android", "gradle", "junit", "kotlin"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1548258117, "post_id": 54327731, "comment_id": 95479543, "body": "Show us your gradle dependencies. You&#39;re probably missing some testImplementaion or androidTestImplementation"}, {"owner": {"reputation": 31, "user_id": 10406960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DypGD.jpg?s=128&g=1", "display_name": "Tim Br&#252;ggenthies", "link": "https://stackoverflow.com/users/10406960/tim-br%c3%bcggenthies"}, "reply_to_user": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 0, "creation_date": 1548334308, "post_id": 54327731, "comment_id": 95509455, "body": "I edited my question to include the gradle dependencies. I would appreciate if you could check it!"}, {"owner": {"reputation": 50428, "user_id": 950427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hq0mB.jpg?s=128&g=1", "display_name": "Jared Burrows", "link": "https://stackoverflow.com/users/950427/jared-burrows"}, "edited": false, "score": 0, "creation_date": 1548398944, "post_id": 54327731, "comment_id": 95534783, "body": "You have no imports for the test class and you have no dependencies in your <code>testImplementation</code> Gradle configuration."}, {"owner": {"reputation": 31, "user_id": 10406960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DypGD.jpg?s=128&g=1", "display_name": "Tim Br&#252;ggenthies", "link": "https://stackoverflow.com/users/10406960/tim-br%c3%bcggenthies"}, "edited": false, "score": 0, "creation_date": 1548403209, "post_id": 54327731, "comment_id": 95536445, "body": "Well the dependencies like junit are declared via testApi, so they are accessible for other modules depending on the main-module. What do you mean by no imports for the test class?"}, {"owner": {"reputation": 8506, "user_id": 793861, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/lfZtF.png?s=128&g=1", "display_name": "John O&#39;Reilly", "link": "https://stackoverflow.com/users/793861/john-oreilly"}, "edited": false, "score": 0, "creation_date": 1596708960, "post_id": 54327731, "comment_id": 111900488, "body": "Did you find resolution for this?"}], "owner": {"reputation": 31, "user_id": 10406960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DypGD.jpg?s=128&g=1", "display_name": "Tim Br&#252;ggenthies", "link": "https://stackoverflow.com/users/10406960/tim-br%c3%bcggenthies"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 417, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1548334157, "creation_date": 1548247952, "last_edit_date": 1548334157, "question_id": 54327731, "link": "https://stackoverflow.com/questions/54327731/gradle-build-fails-only-in-tests-android-studio-kotlin", "title": "Gradle Build fails only in Tests (Android Studio, Kotlin)", "body": "<p>I am having an Android Multi-Module Project, and wanted to add JUnit Tests. Interestingly after adding the first Testclass, the Gradle Build failed when i wanted to start the test. The error Messages were unclear to me, as they would not make any sense.</p>\n\n<p>The Gradle Module depends on a Base-Module with default dependencies.</p>\n\n<h2>build.gradle: core-libs</h2>\n\n<pre><code>apply plugin: 'kotlin'\n\ndependencies {\n    api \"org.koin:koin-android:1.0.2\"\n    api \"com.jakewharton.threetenabp:threetenabp:1.1.1\"\n    api \"org.jetbrains.kotlin:kotlin-stdlib:1.3.11\"\n}\n</code></pre>\n\n<h2>build.gradle: core-test-libs</h2>\n\n<pre><code>apply plugin: 'kotlin'\n\ndependencies {\n    testApi \"org.koin:koin-test:1.0.2\"\n    testApi \"org.amshove.kluent:kluent-android:1.42\"\n    testApi \"junit:junit:4.12\"\n}\n</code></pre>\n\n<h2>build.gradle: main-module</h2>\n\n<pre><code>apply plugin: 'kotlin'\n\ndependencies {\n    implementation \"com.squareup.retrofit2:retrofit:2.1.0\"\n    api \"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.0.0\"\n    implementation \"org.jetbrains.kotlinx:kotlinx-coroutines-core:1.0.0\"\n    implementation \"org.jsoup:jsoup:1.11.3\"\n    implementation \"com.squareup.retrofit2:converter-scalars:2.1.0\"\n    implementation \"org.jetbrains.kotlin:kotlin-reflect:1.3.11\"\n\n    api project(\":core-libs\")\n    testApi project(\":core-test-libs\")\n}\n</code></pre>\n\n<h2>The Test Class</h2>\n\n<pre><code>class RegionListJsoupParserTest : KoinTest {\n\n    private val underTest = RegionListJsoupParser()\n\n    @Test\n    fun parseRegionResult() {\n        val testFile = File(\"Ligen - Turnier.de.html\")\n        val testDocument = Jsoup.parse(testFile, StandardCharsets.UTF_8.name())\n\n        val result = underTest.parse(testDocument)\n\n        println(result)\n    }\n}\n</code></pre>\n\n<p>Simply Building the Project via Android Studio works perfectly fine. But when I want to run the testmethod, the compileKotlin fails with a bunch of errors:</p>\n\n<pre><code>e: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\QueryDateTimeFormatter.kt: (4, 12): Unresolved reference: threeten\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\QueryDateTimeFormatter.kt: (5, 12): Unresolved reference: threeten\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\QueryDateTimeFormatter.kt: (7, 10): Class 'QueryDateTimeFormatter' is not abstract and does not implement abstract member public abstract fun format(dateTime: LocalDateTime): String defined in de.tim_brueggenthies.android.baselibraries.LocalDateTimeFormatter\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\QueryDateTimeFormatter.kt: (9, 28): Unresolved reference: DateTimeFormatter\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\QueryDateTimeFormatter.kt: (9, 48): Unresolved reference: DateTimeFormatter\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\QueryDateTimeFormatter.kt: (11, 5): 'format' overrides nothing\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\QueryDateTimeFormatter.kt: (11, 35): Unresolved reference: LocalDateTime\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\TurnierClient.kt: (4, 12): Unresolved reference: threeten\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\TurnierClient.kt: (8, 74): Unresolved reference: LocalDateTime\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\TurnierClient.kt: (8, 117): Unresolved reference: LocalDateTime\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\TurnierClient.kt: (20, 31): Unresolved reference: LocalDateTime\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\TurnierClient.kt: (20, 47): Unresolved reference: LocalDateTime\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\TurnierClient.kt: (22, 30): Unresolved reference: LocalDateTime\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\TurnierClient.kt: (22, 46): Unresolved reference: LocalDateTime\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\TurnierClientImpl.kt: (5, 12): Unresolved reference: threeten\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\TurnierClientImpl.kt: (17, 74): Unresolved reference: LocalDateTime\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\TurnierClientImpl.kt: (17, 98): Unresolved reference: LocalDateTime\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\TurnierClientImpl.kt: (40, 17): Unresolved reference: LocalDateTime\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\di\\KoinModules.kt: (5, 12): Unresolved reference: koin\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\di\\KoinModules.kt: (7, 33): Unresolved reference: module\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\di\\KoinModules.kt: (8, 5): Unresolved reference: single\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\di\\KoinModules.kt: (8, 32): Unresolved reference: get\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\di\\KoinModules.kt: (8, 39): Unresolved reference: get\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\di\\KoinModules.kt: (8, 46): Unresolved reference: get\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\di\\KoinModules.kt: (9, 5): Unresolved reference: single\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\di\\KoinModules.kt: (10, 5): Unresolved reference: single\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\di\\KoinModules.kt: (10, 37): Unresolved reference: get\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\di\\KoinModules.kt: (10, 44): Unresolved reference: get\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\di\\KoinModules.kt: (11, 5): Unresolved reference: single\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\di\\KoinModules.kt: (12, 5): Unresolved reference: single\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\di\\KoinModules.kt: (13, 5): Unresolved reference: factory\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\di\\TurnierApiDi.kt: (3, 12): Unresolved reference: koin\ne: E:\\Remote Repos\\tura-badminton-android-app\\turnierapiclient\\src\\main\\java\\de\\tim_brueggenthies\\android\\turnierapiclient\\di\\TurnierApiDi.kt: (8, 9): Unresolved reference: loadKoinModules\n</code></pre>\n\n<p>All \"unresolved references\" are not valid, and the not overriden methods are overriden as well.</p>\n\n<p>Would be nice if someone has an idea why this Problem occurs.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 16268, "user_id": 603270, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/cbfe6e57e0fa59928be4898a7be08c5d?s=128&d=identicon&r=PG", "display_name": "shkschneider", "link": "https://stackoverflow.com/users/603270/shkschneider"}, "edited": false, "score": 1, "creation_date": 1548246844, "post_id": 54327356, "comment_id": 95472789, "body": "Should might have a look at <a href=\"https://proandroiddev.com/rippling-rounding-and-android-pies-d5db5f4c2fc1\" rel=\"nofollow noreferrer\">proandroiddev.com/&hellip;</a> and <code>android:mask</code>"}, {"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1548246968, "post_id": 54327356, "comment_id": 95472855, "body": "try using latest android material design library instead of using support library and check."}], "answers": [{"tags": [], "owner": {"reputation": 99, "user_id": 4623355, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2dMtoZgeWJk/AAAAAAAAAAI/AAAAAAAABIU/J9aBZNSZ-Vc/photo.jpg?sz=128", "display_name": "Pig Dog Bay", "link": "https://stackoverflow.com/users/4623355/pig-dog-bay"}, "is_accepted": false, "score": 1, "last_activity_date": 1564392742, "creation_date": 1564392742, "answer_id": 57250926, "question_id": 54327356, "link": "https://stackoverflow.com/questions/54327356/ripple-effect-does-not-work-correctly-on-android-9-api-28-pie/57250926#57250926", "title": "Ripple effect does not work correctly on Android 9 (Api 28, Pie)", "body": "<p>I ran into this problem and it was due to me setting the background colour to white for the preferenceTheme</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;item name=\"preferenceTheme\"&gt;@style/SettingsTheme&lt;/item&gt;\n&lt;/style&gt;\n&lt;style name=\"SettingsTheme\" parent=\"PreferenceThemeOverlay\"&gt;\n    &lt;item name=\"android:background\"&gt;@color/white&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>To fix this, I removed the preferenceTheme and set the background colour as white in my preference fragment:</p>\n\n<pre><code>@Override\npublic void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n    view.setBackgroundColor(ContextCompat.getColor(getActivity(), R.color.white));\n}\n</code></pre>\n\n<p>Also update your preference code to the latest AndroidX way of doing things, eg in your prefs.xml use this:</p>\n\n<pre><code>&lt;androidx.preference.PreferenceScreen xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10955367, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/883cca62cae2cb39c0d2b07806e62348?s=128&d=identicon&r=PG&f=1", "display_name": "\u0413\u043e\u0448\u0430 \u0412\u0430\u0441\u0438\u043b\u0435\u0432\u0441\u043a\u0438\u0439", "link": "https://stackoverflow.com/users/10955367/%d0%93%d0%be%d1%88%d0%b0-%d0%92%d0%b0%d1%81%d0%b8%d0%bb%d0%b5%d0%b2%d1%81%d0%ba%d0%b8%d0%b9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 417, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1564397183, "creation_date": 1548246707, "last_edit_date": 1548246871, "question_id": 54327356, "link": "https://stackoverflow.com/questions/54327356/ripple-effect-does-not-work-correctly-on-android-9-api-28-pie", "title": "Ripple effect does not work correctly on Android 9 (Api 28, Pie)", "body": "<p>Such issue. Set the ripple effect on the button. On all versions of Android works correctly: when I press the button, it is slightly illuminated, then when I release the button, there is a small ripple. On Android 9 works half: the button is highlighted, but when the button is released, there is no ripple. Has anyone come across this? How can I fix it?</p>\n\n<p>Background button - <a href=\"https://ru.stackoverflow.com/questions/935547/%D0%AD%D1%84%D1%84%D0%B5%D0%BA%D1%82-ripple-%D0%BD%D0%B5%D0%BA%D0%BE%D1%80%D1%80%D0%B5%D0%BA%D1%82%D0%BD%D0%BE-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82-%D0%BD%D0%B0-android-9-api-28-pie\">https://ru.stackoverflow.com/questions/935547/%D0%AD%D1%84%D1%84%D0%B5%D0%BA%D1%82-ripple-%D0%BD%D0%B5%D0%BA%D0%BE%D1%80%D1%80%D0%B5%D0%BA%D1%82%D0%BD%D0%BE-%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%D0%B5%D1%82-%D0%BD%D0%B0-android-9-api-28-pie</a></p>\n"}, {"tags": ["javascript", "kotlin", "ktor"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1548246906, "post_id": 54327270, "comment_id": 95472822, "body": "if you&#39;re getting a 403 as mentioned then it implies your OPTIONS request was rejected as not having adequate permissions. This might well be why the header is then missing. Try to investigate the permissions error first. By the way, your stated error message doesn&#39;t match your code - the URLs are different"}, {"owner": {"reputation": 73, "user_id": 10955597, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qc-2zwAaAwM/AAAAAAAAAAI/AAAAAAAAABM/w-oDc4IfrQ0/photo.jpg?sz=128", "display_name": "Isoq Hakimov", "link": "https://stackoverflow.com/users/10955597/isoq-hakimov"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1548247449, "post_id": 54327270, "comment_id": 95473135, "body": "I tested on localhost but the error is the same"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1548247538, "post_id": 54327270, "comment_id": 95473191, "body": "ok well that explains that, but it doesn&#39;t explain the 403. You need to dig a bit deeper into your setup to see why a call to that URL returns Forbidden. Does it also return 403 Forbidden if you try to access the same result directly in your browser window (i.e. by pasting it into the address bar, not by using fetch())? I realise this will not generate an OPTIONS request, but it might at least show us if it&#39;s accessible via a regular GET. Then we can narrow down if the issue is specific to OPTIONS requests only, or a problem with the whole URL."}, {"owner": {"reputation": 73, "user_id": 10955597, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qc-2zwAaAwM/AAAAAAAAAAI/AAAAAAAAABM/w-oDc4IfrQ0/photo.jpg?sz=128", "display_name": "Isoq Hakimov", "link": "https://stackoverflow.com/users/10955597/isoq-hakimov"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1548247926, "post_id": 54327270, "comment_id": 95473404, "body": "the regular get request works with the browser"}], "answers": [{"tags": [], "owner": {"reputation": 502, "user_id": 6157844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JZyUx.jpg?s=128&g=1", "display_name": "functionaldude", "link": "https://stackoverflow.com/users/6157844/functionaldude"}, "is_accepted": true, "score": 5, "last_activity_date": 1551697576, "creation_date": 1551697576, "answer_id": 54981962, "question_id": 54327270, "link": "https://stackoverflow.com/questions/54327270/access-control-allow-origin-issue-in-ktor-cors-header/54981962#54981962", "title": "Access-Control-Allow-Origin issue in ktor cors header", "body": "<p>You need to whitelist your headers like this:</p>\n\n<pre><code>install(CORS) {\n  header(\"key\")\n}\n</code></pre>\n\n<p>This needs to be done with every custom HTTP header you intend to use.</p>\n"}, {"tags": [], "owner": {"reputation": 1258, "user_id": 3075856, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BvZEZ.gif?s=128&g=1", "display_name": "w201", "link": "https://stackoverflow.com/users/3075856/w201"}, "is_accepted": false, "score": 0, "last_activity_date": 1601466063, "creation_date": 1601466063, "answer_id": 64136835, "question_id": 54327270, "link": "https://stackoverflow.com/questions/54327270/access-control-allow-origin-issue-in-ktor-cors-header/64136835#64136835", "title": "Access-Control-Allow-Origin issue in ktor cors header", "body": "<pre><code>install(CORS) {\n   exposeHeader(&quot;key&quot;)\n}\n</code></pre>\n<p>difference between <code>header</code> and <code>exposeHeader</code> - first allow to make call with this header, but second allow to use it on client side</p>\n"}], "owner": {"reputation": 73, "user_id": 10955597, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qc-2zwAaAwM/AAAAAAAAAAI/AAAAAAAAABM/w-oDc4IfrQ0/photo.jpg?sz=128", "display_name": "Isoq Hakimov", "link": "https://stackoverflow.com/users/10955597/isoq-hakimov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4639, "favorite_count": 0, "accepted_answer_id": 54981962, "answer_count": 2, "score": 3, "last_activity_date": 1601466063, "creation_date": 1548246414, "question_id": 54327270, "link": "https://stackoverflow.com/questions/54327270/access-control-allow-origin-issue-in-ktor-cors-header", "title": "Access-Control-Allow-Origin issue in ktor cors header", "body": "<p>I am building a simple REST API using ktor and used cors but when i send a simple get request with no headers data the server works fine but if i want the client to have say key:1 the server doesn`t respond me correctly, it says the problem is </p>\n\n<pre><code>Failed to load http://127.0.0.1:8080/test: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'null' is therefore not allowed access. The response had HTTP status code 403.\n</code></pre>\n\n<p>so here is my ktor code     </p>\n\n<pre><code>install(ContentNegotiation) {\n        gson {\n        }\n    }\n    install(ForwardedHeaderSupport)\n    install(DefaultHeaders)\n    install(CORS)\n    {\n        method(HttpMethod.Options)\n        method(HttpMethod.Get)\n        method(HttpMethod.Post)\n        method(HttpMethod.Put)\n        method(HttpMethod.Delete)\n        method(HttpMethod.Patch)\n        header(HttpHeaders.AccessControlAllowHeaders)\n        header(HttpHeaders.ContentType)\n        header(HttpHeaders.AccessControlAllowOrigin)\n        allowCredentials = true\n        anyHost()\n        maxAge = Duration.ofDays(1)\n    }\n...\n get(\"test\"){\n            val a =  call.request.headers[\"key\"]\n            println(a)\n            call.respond(Product(name = a))\n        }\n</code></pre>\n\n<p>and my javascript code looks like this....</p>\n\n<pre><code>fetch('http://shop-ix.uz:8080/test', {\n headers: {\n \"key\": \"1\" \n})\n   .then(response =&gt; response.json())\n   .then(json =&gt; {    \n     console.log(json);\n   })\n</code></pre>\n\n<p>please help me  </p>\n"}, {"tags": ["kotlin", "proxy-pattern", "kotlin-multiplatform"], "comments": [{"owner": {"reputation": 168, "user_id": 3082177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/teUtX.jpg?s=128&g=1", "display_name": "Denis Shurygin", "link": "https://stackoverflow.com/users/3082177/denis-shurygin"}, "edited": false, "score": 0, "creation_date": 1548247271, "post_id": 54327143, "comment_id": 95473043, "body": "You are not able to use Java Reflection in common module. Because this is a Java feature and available only in Java module."}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 168, "user_id": 3082177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/teUtX.jpg?s=128&g=1", "display_name": "Denis Shurygin", "link": "https://stackoverflow.com/users/3082177/denis-shurygin"}, "edited": false, "score": 0, "creation_date": 1548247495, "post_id": 54327143, "comment_id": 95473156, "body": "I edited my answer. I know that this is a Java feature, I understand what a common project is. I was not able to find a Kotlin-based solution though that&#39;s why I&#39;m asking."}], "answers": [{"comments": [{"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1548251742, "post_id": 54328049, "comment_id": 95475648, "body": "I&#39;m not trying to proxy a <code>Map</code>. I&#39;m looking for a proxy solution with which I can proxy <i>any interface</i>."}, {"owner": {"reputation": 168, "user_id": 3082177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/teUtX.jpg?s=128&g=1", "display_name": "Denis Shurygin", "link": "https://stackoverflow.com/users/3082177/denis-shurygin"}, "reply_to_user": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 1, "creation_date": 1548254807, "post_id": 54328049, "comment_id": 95477580, "body": "I understand what you want. But now this is not possible without excessive efforts. Maybe not, but it looks like.  I Update my answer to show the way how to proxy any interface."}, {"owner": {"reputation": 168, "user_id": 3082177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/teUtX.jpg?s=128&g=1", "display_name": "Denis Shurygin", "link": "https://stackoverflow.com/users/3082177/denis-shurygin"}, "reply_to_user": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1548255158, "post_id": 54328049, "comment_id": 95477828, "body": "Code generation will simplify the work. But some one should write a library that generate the code."}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1548260116, "post_id": 54328049, "comment_id": 95480721, "body": "Be careful with <code>java.lang.reflect.Proxy</code>, it does not let you throw an exception of any type (it will wrap them to follow JLS) <a href=\"https://jonnyzzz.com/blog/2018/11/22/proxy/\" rel=\"nofollow noreferrer\">jonnyzzz.com/blog/2018/11/22/proxy</a>"}], "tags": [], "owner": {"reputation": 168, "user_id": 3082177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/teUtX.jpg?s=128&g=1", "display_name": "Denis Shurygin", "link": "https://stackoverflow.com/users/3082177/denis-shurygin"}, "is_accepted": false, "score": 1, "last_activity_date": 1548254637, "last_edit_date": 1548254637, "creation_date": 1548249032, "answer_id": 54328049, "question_id": 54327143, "link": "https://stackoverflow.com/questions/54327143/how-to-create-a-dynamic-proxy-in-kotlin-common-code/54328049#54328049", "title": "How to create a dynamic proxy in Kotlin common code?", "body": "<p>Probably Expect/Actual Factory should solve the problem.</p>\n\n<p>Common Code:</p>\n\n<pre><code>interface ProxyMethod {\n    val name: String\n    // other properties\n}\n\ninterface ProxyHandler {\n    fun invoke(proxy: Any, method: ProxyMethod, args: Array&lt;Any&gt;): Any\n}\n\nexpect object Logger {\n    fun info(message: String, vararg arguments: Any)\n}\n\nexpect object ProxyFactory {\n    fun mutableMapWithProxy(handler: ProxyHandler): MutableMap&lt;String, String&gt;\n}\n\nprivate class ProxyHandlerImpl: ProxyHandler {\n    override fun invoke(proxy: Any, method: ProxyMethod, args: Array&lt;Any&gt;): Any {\n        Logger.info(\"Invoked method: {}\", method.name)\n        return 0\n    }\n}\n\nobject Common {\n    fun doSomething() {\n        val myMap = ProxyFactory.mutableMapWithProxy(ProxyHandlerImpl())\n        myMap[\"foo\"] = \"bar\"\n    }\n}\n</code></pre>\n\n<p>Java Code:</p>\n\n<pre><code>actual object Logger {\n\n    private val instance = LoggerFactory.getLogger(\n            DynamicInvocationHandler::class.java)\n\n    actual fun info(message: String, vararg arguments: Any) {\n        instance.info(message, *arguments)\n    }\n}\n\nactual object ProxyFactory  {\n    actual fun mutableMapWithProxy(handler: ProxyHandler): MutableMap&lt;String, String&gt; {\n        return Proxy.newProxyInstance(\n                Playground::class.java.classLoader,\n                arrayOf&lt;Class&lt;*&gt;&gt;(MutableMap::class.java),\n                ProxyHandlerAdapter(handler)) as MutableMap&lt;String, String&gt;\n    }\n}\n\nclass ProxyHandlerAdapter(private val handler: ProxyHandler) : InvocationHandler {\n\n    @Throws(Throwable::class)\n    override operator fun invoke(proxy: Any, method: Method, args: Array&lt;Any&gt;): Any {\n        return handler.invoke(proxy, methodToProxyMethod(method), args)\n    }\n\n    fun methodToProxyMethod(method: Method): ProxyMethod {\n        // convert Method to ProxyMethod\n    }\n}\n\n@JvmStatic\nfun main(args: Array&lt;String&gt;) {\n    Common.doSomething()\n}\n</code></pre>\n\n<p>Unfortunately I don't know any library that simplify this work so you should do this by hand for each platform and interface.</p>\n"}, {"tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": false, "score": 1, "last_activity_date": 1548252846, "creation_date": 1548252846, "answer_id": 54329197, "question_id": 54327143, "link": "https://stackoverflow.com/questions/54327143/how-to-create-a-dynamic-proxy-in-kotlin-common-code/54329197#54329197", "title": "How to create a dynamic proxy in Kotlin common code?", "body": "<p>I think the simple answer is that Kotlin Multi Platform reflection doesn't support proxies. You can use @KamiSempai's <code>expect</code> - <code>actual</code> solution when using the common module in a java application but you will need to find alternatives for JS and native targets.</p>\n"}, {"comments": [{"owner": {"reputation": 168, "user_id": 3082177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/teUtX.jpg?s=128&g=1", "display_name": "Denis Shurygin", "link": "https://stackoverflow.com/users/3082177/denis-shurygin"}, "edited": false, "score": 0, "creation_date": 1548255442, "post_id": 54329838, "comment_id": 95478011, "body": "Agree. In this case, code generation is the only one way to do the tricks similar to tricks with reflection in Java."}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1548268315, "post_id": 54329838, "comment_id": 95484726, "body": "I&#39;m not planning to support native but I&#39;ve seen that JS also has a <code>Proxy</code> implementation!"}], "tags": [], "owner": {"reputation": 14168, "user_id": 227313, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/58d1281770fe55a05a96600244ec8341?s=128&d=identicon&r=PG", "display_name": "Kevin Galligan", "link": "https://stackoverflow.com/users/227313/kevin-galligan"}, "is_accepted": false, "score": 0, "last_activity_date": 1548254858, "creation_date": 1548254858, "answer_id": 54329838, "question_id": 54327143, "link": "https://stackoverflow.com/questions/54327143/how-to-create-a-dynamic-proxy-in-kotlin-common-code/54329838#54329838", "title": "How to create a dynamic proxy in Kotlin common code?", "body": "<p>There is no equivalent for this in current Kotlin Native versions. Looking at the other answers, they seem to have actual types in the expect/actuals, but the purpose of a live proxy is to supply a type at runtime and generate a compatible instance that can be delegated to.</p>\n\n<p>This is how things like Retrofit work. Rather than source gen, the interface definitions are proxied internally.</p>\n\n<p>For now, you'll need to do source-gen, as far as I know. That's for native. Not sure about JS.</p>\n"}], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3888, "favorite_count": 1, "answer_count": 3, "score": 3, "last_activity_date": 1548254858, "creation_date": 1548246025, "last_edit_date": 1548251696, "question_id": 54327143, "link": "https://stackoverflow.com/questions/54327143/how-to-create-a-dynamic-proxy-in-kotlin-common-code", "title": "How to create a dynamic proxy in Kotlin common code?", "body": "<p>If I'm on the JVM I can do this:</p>\n\n<pre><code>object Playground {\n\n    class DynamicInvocationHandler : InvocationHandler {\n\n        @Throws(Throwable::class)\n        override operator fun invoke(proxy: Any, method: Method, args: Array&lt;Any&gt;): Any {\n            LOGGER.info(\"Invoked method: {}\", method.name)\n\n            return 42\n        }\n\n        companion object {\n\n            private val LOGGER = LoggerFactory.getLogger(\n                    DynamicInvocationHandler::class.java)\n        }\n    }\n\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n        val proxy = Proxy.newProxyInstance(\n                Playground::class.java.classLoader,\n                arrayOf&lt;Class&lt;*&gt;&gt;(MutableMap::class.java),\n                DynamicInvocationHandler()) as MutableMap&lt;String, String&gt;\n\n        proxy[\"foo\"] = \"bar\"\n    }\n}\n</code></pre>\n\n<p>and running this will print <code>Invoked method: put</code>. How can I do something like this in a Kotlin <strong>common</strong> project?</p>\n\n<p><strong>Edit:</strong> I'm not trying to use anything from Java in my common module. I know how common projects work. What I'm interested in instead is whether there is a Kotlin-based solution for this or not.</p>\n\n<p><strong>Edit 2:</strong> I'm not trying to proxy the <code>Map</code> class. I'm looking for something like <code>Proxy</code> in the JDK which I can use to proxy <strong>any interface</strong>. Sorry for the confusion.</p>\n"}, {"tags": ["android", "kotlin", "mockk"], "comments": [{"owner": {"reputation": 1494, "user_id": 3742196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXFwn.jpg?s=128&g=1", "display_name": "oleksiyp", "link": "https://stackoverflow.com/users/3742196/oleksiyp"}, "edited": false, "score": 0, "creation_date": 1548343273, "post_id": 54326914, "comment_id": 95515153, "body": "I didnt down vote, but think that such things should be reported as issues only. Questions on SO is more for something missing in docs e.t.c."}, {"owner": {"reputation": 1779, "user_id": 3795043, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0QTMP.jpg?s=128&g=1", "display_name": "findusl", "link": "https://stackoverflow.com/users/3795043/findusl"}, "reply_to_user": {"reputation": 1494, "user_id": 3742196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXFwn.jpg?s=128&g=1", "display_name": "oleksiyp", "link": "https://stackoverflow.com/users/3742196/oleksiyp"}, "edited": false, "score": 1, "creation_date": 1548343523, "post_id": 54326914, "comment_id": 95515334, "body": "@oleksiyp The docs for mockk do not describe how to handle varargs so it is missing in the docs. When asking the question it was not clear to me that this is an issue with the library and I am still not certain that there is no better workaround than fallback to a different mocking framework. Maybe someone still has an idea that I can&#39;t think of."}], "answers": [{"comments": [{"owner": {"reputation": 1779, "user_id": 3795043, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0QTMP.jpg?s=128&g=1", "display_name": "findusl", "link": "https://stackoverflow.com/users/3795043/findusl"}, "edited": false, "score": 1, "creation_date": 1548336769, "post_id": 54347711, "comment_id": 95511075, "body": "Thanks for the issue reference, upvote for that. I can&#39;t really do the solution because the function that I am trying to stub is not mine, but from context. I think I might have to mock it with Mockito or something else in java and pass it to the Kotlin code."}, {"owner": {"reputation": 1494, "user_id": 3742196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXFwn.jpg?s=128&g=1", "display_name": "oleksiyp", "link": "https://stackoverflow.com/users/3742196/oleksiyp"}, "edited": false, "score": 1, "creation_date": 1548343190, "post_id": 54347711, "comment_id": 95515096, "body": "Hopefully there will be some time to do this changes. I have another guy who wants to help me on coding, but first we need to design it together. Both ways I cant promise it will be fast"}], "tags": [], "owner": {"reputation": 1922, "user_id": 306047, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c9036cb8dc5eafb78f197e3c446aeca7?s=128&d=identicon&r=PG", "display_name": "snorbi", "link": "https://stackoverflow.com/users/306047/snorbi"}, "is_accepted": false, "score": 1, "last_activity_date": 1548336774, "last_edit_date": 1548336774, "creation_date": 1548336259, "answer_id": 54347711, "question_id": 54326914, "link": "https://stackoverflow.com/questions/54326914/using-mockk-to-match-any-varargs/54347711#54347711", "title": "Using mockk to match any varargs", "body": "<p>There is a related open issue in <em>mockk</em> v1.9: <a href=\"https://github.com/mockk/mockk/issues/224\" rel=\"nofollow noreferrer\">https://github.com/mockk/mockk/issues/224</a> (see referenced issues as well)</p>\n\n<p>I tried several solutions but I ended up creating overloaded functions just for testing with <em>mockk</em>, eg.</p>\n\n<pre><code>class Context {\n    // Renamed because of same JVM signature\n    fun foo2(stringResource: Int, vararg formatArgs: Any) = foo(stringResource, formatArgs)\n\n    // Function accepts \n    fun foo(stringResource: Int, formatArgs: args: Array&lt;out Any&gt;) = ...\n}\n</code></pre>\n\n<p>then test the non-vararg <code>foo()</code> function with <em>mockk</em>.</p>\n\n<p>I know it's an ugly workaround but if you find a better one please let me know :)</p>\n"}, {"tags": [], "owner": {"reputation": 1494, "user_id": 3742196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JXFwn.jpg?s=128&g=1", "display_name": "oleksiyp", "link": "https://stackoverflow.com/users/3742196/oleksiyp"}, "is_accepted": true, "score": 1, "last_activity_date": 1550255743, "creation_date": 1550255743, "answer_id": 54715232, "question_id": 54326914, "link": "https://stackoverflow.com/questions/54326914/using-mockk-to-match-any-varargs/54715232#54715232", "title": "Using mockk to match any varargs", "body": "<p>Version 1.9.1 introduces few additional matchers to match varargs.</p>\n\n<p><a href=\"https://mockk.io/#varargs\" rel=\"nofollow noreferrer\">https://mockk.io/#varargs</a></p>\n"}], "owner": {"reputation": 1779, "user_id": 3795043, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/0QTMP.jpg?s=128&g=1", "display_name": "findusl", "link": "https://stackoverflow.com/users/3795043/findusl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8506, "favorite_count": 0, "accepted_answer_id": 54715232, "answer_count": 2, "score": 2, "last_activity_date": 1550255743, "creation_date": 1548245175, "last_edit_date": 1548331989, "question_id": 54326914, "link": "https://stackoverflow.com/questions/54326914/using-mockk-to-match-any-varargs", "title": "Using mockk to match any varargs", "body": "<p>I'm trying to mock an Android Context to return a string from a resource id. However I have trouble matching the stub to the call, I assume it is because of the varargs. However I am new to mockk so I might just miss something very easy.</p>\n\n<p>I mock the context this way:</p>\n\n<pre><code>val context = mockk&lt;Context&gt;()\nevery { context.getString(any(), any()) } returns stringToReturn\n</code></pre>\n\n<p>But when calling getString on the object it throws the following exception:</p>\n\n<pre><code>io.mockk.MockKException: no answer found for: Context(#1).getString(2131689544, [])\n</code></pre>\n\n<p>If it is important, I call the function in the class under test similar to this. formatArgs may be empty but doesn't have to:</p>\n\n<pre><code>protected fun foo(stringResource: Int, vararg formatArgs: Any) {\n    val s = context.getString(errorMessageStringResource, *formatArgs)\n</code></pre>\n\n<p>Any idea how I can fix this?</p>\n\n<p>You can check the project and reproduce the exception here: <a href=\"https://github.com/findusl/OneNightComps/blob/develop/Android/app/src/test/java/lehrbaum/de/onenightcomps/viewmodel/TestErrorViewModel.kt\" rel=\"nofollow noreferrer\">Github Project</a></p>\n"}, {"tags": ["java", "android", "kotlin", "dagger-2"], "owner": {"reputation": 267, "user_id": 4151099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/H5914.jpg?s=128&g=1", "display_name": "Marco", "link": "https://stackoverflow.com/users/4151099/marco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1548242903, "creation_date": 1548242903, "question_id": 54326219, "link": "https://stackoverflow.com/questions/54326219/dagger-android-not-generating-components-under-test-folder", "title": "dagger.android not generating components under /test folder", "body": "<p>I need the processor to generate code for classes under the <code>test</code> folder.</p>\n\n<p>I cannot find any related question here on SO that is valid for my case since everyone recommends to add <code>testAnnotationProcessor</code> but it doesn't work for me...</p>\n\n<p>I'm using <strong>Gradle 3.3.0</strong></p>\n\n<p><strong>Dagger version 2.16</strong>\nHere is all the dependencies I have added</p>\n\n<pre><code>...\n// Use 2.16 because further versions cause crashes\ndef dagger = \"2.16\"\n// Dagger\nimplementation \"com.google.dagger:dagger:$dagger\"\nannotationProcessor \"com.google.dagger:dagger-compiler:$dagger\"\n// Dagger-Android\nimplementation \"com.google.dagger:dagger-android:$dagger\"\nannotationProcessor \"com.google.dagger:dagger-android-processor:$dagger\"\n// Dagger Kotlin\nkapt \"com.google.dagger:dagger-compiler:$dagger\"\nkapt \"com.google.dagger:dagger-android-processor:$dagger\"\n\n// Test Dagger\ntestImplementation \"com.google.dagger:dagger:$dagger\"\ntestAnnotationProcessor \"com.google.dagger:dagger-compiler:$dagger\"\n// Test Dagger-Android\ntestImplementation \"com.google.dagger:dagger-android:$dagger\"\ntestAnnotationProcessor \"com.google.dagger:dagger-android-processor:$dagger\"\n// Test Dagger Kotlin\nkaptTest \"com.google.dagger:dagger-compiler:$dagger\"\nkaptTest \"com.google.dagger:dagger-android-processor:$dagger\"\n...\n</code></pre>\n\n<p>Update: it doesn't work for androidTest, too. (Despite I have updated dependencies to use <code>testAndroidImplementation</code>, etc.)</p>\n"}, {"tags": ["java", "jpa", "kotlin", "syntax", "hibernate-criteria"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1548242520, "post_id": 54326037, "comment_id": 95470544, "body": "Is it the <code>predicates.toArray(new Predicate[predicates.size()])</code> part you have trouble with?"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1548242807, "post_id": 54326037, "comment_id": 95470692, "body": "If so, then try <code>predicates.toTypedArray()</code>"}, {"owner": {"reputation": 330, "user_id": 1270045, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/52485ac9989a03eac5c48a06d1456fe0?s=128&d=identicon&r=PG&f=1", "display_name": "rom", "link": "https://stackoverflow.com/users/1270045/rom"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1548243016, "post_id": 54326037, "comment_id": 95470794, "body": "Yes and i tried that but a java array is expected as the java method is defined by <code>Predicate ...</code> as parameter"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 2, "creation_date": 1548243122, "post_id": 54326037, "comment_id": 95470853, "body": "Oh, it expects a vararg. Try <code>*predicates</code>."}, {"owner": {"reputation": 330, "user_id": 1270045, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/52485ac9989a03eac5c48a06d1456fe0?s=128&d=identicon&r=PG&f=1", "display_name": "rom", "link": "https://stackoverflow.com/users/1270045/rom"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1548244536, "post_id": 54326037, "comment_id": 95471575, "body": "That seems to work. Will confirm when it runs :)"}, {"owner": {"reputation": 330, "user_id": 1270045, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/52485ac9989a03eac5c48a06d1456fe0?s=128&d=identicon&r=PG&f=1", "display_name": "rom", "link": "https://stackoverflow.com/users/1270045/rom"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1548245533, "post_id": 54326037, "comment_id": 95472078, "body": "That did it, thanks @marstran"}], "answers": [{"tags": [], "owner": {"reputation": 330, "user_id": 1270045, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/52485ac9989a03eac5c48a06d1456fe0?s=128&d=identicon&r=PG&f=1", "display_name": "rom", "link": "https://stackoverflow.com/users/1270045/rom"}, "is_accepted": true, "score": 5, "last_activity_date": 1548245507, "creation_date": 1548245507, "answer_id": 54326999, "question_id": 54326037, "link": "https://stackoverflow.com/questions/54326037/is-there-a-way-to-pass-a-jpa-predicate-array-to-the-criteriabuilder-in-kotlin/54326999#54326999", "title": "Is there a way to pass a jpa predicate array to the criteriabuilder IN KOTLIN?", "body": "<p>Thanks to marstran for your help that solved it:</p>\n\n<pre><code>criteriaQuery.select(element)\n    .where(criteriaBuilder.or(*predicates.toTypedArray()))\n</code></pre>\n"}], "owner": {"reputation": 330, "user_id": 1270045, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/52485ac9989a03eac5c48a06d1456fe0?s=128&d=identicon&r=PG&f=1", "display_name": "rom", "link": "https://stackoverflow.com/users/1270045/rom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 997, "favorite_count": 0, "accepted_answer_id": 54326999, "answer_count": 1, "score": 0, "last_activity_date": 1548245507, "creation_date": 1548242310, "question_id": 54326037, "link": "https://stackoverflow.com/questions/54326037/is-there-a-way-to-pass-a-jpa-predicate-array-to-the-criteriabuilder-in-kotlin", "title": "Is there a way to pass a jpa predicate array to the criteriabuilder IN KOTLIN?", "body": "<p>The solution proposed in:\n<a href=\"https://stackoverflow.com/a/11138229/1270045\">https://stackoverflow.com/a/11138229/1270045</a>\nworks pretty fine in java but i am in kotlin.\nHow can that be done here that i pass a predicate array to the criteria builder written in kotlin?</p>\n\n<p>So its about writing this in kotlin that i can be passed on:</p>\n\n<pre><code>cq.select(customer).where(predicates.toArray(new Predicate[]{}));\n</code></pre>\n\n<p>My example code:    </p>\n\n<pre><code>val predicates = mutableListOf&lt;Predicate&gt;()\nif (XYZ != null) {\n    val XYZPath = element.get&lt;Long&gt;(\"XYZ\")\n    predicates.add(criteriaBuilder.equal(XYZPath, XYZ))\n}\ncriteriaQuery.select(element)\n    .where(criteriaBuilder.or(???))\n</code></pre>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 6980, "user_id": 5647037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aJ0h1.jpg?s=128&g=1", "display_name": "Vucko", "link": "https://stackoverflow.com/users/5647037/vucko"}, "edited": false, "score": 0, "creation_date": 1548242409, "post_id": 54326000, "comment_id": 95470477, "body": "Does <a href=\"https://stackoverflow.com/questions/32444863/google-gson-linkedtreemap-class-cast-to-myclass\">this</a> help ?"}], "answers": [{"tags": [], "owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "is_accepted": false, "score": 1, "last_activity_date": 1548243421, "last_edit_date": 1548243421, "creation_date": 1548242821, "answer_id": 54326195, "question_id": 54326000, "link": "https://stackoverflow.com/questions/54326000/how-to-properly-make-reusable-class-to-catch-response-data-using-retrofit/54326195#54326195", "title": "How to properly make reusable class to catch response data using retrofit?", "body": "<p>You can use generics to achieve it</p>\n\n<pre><code>class Response&lt;Data&gt; constructor() : ResponseSimple() {\n   @SerializedName(FIELD_DATA)\n   var data: Data? = null\n   private constructor(data: Data) : this() {\n       this.data = data\n   }\n   companion object {\n       const val FIELD_SUCCESS = \"success\"\n       const val FIELD_ERROR = \"error\"\n       const val FIELD_DATA = \"data\"\n       const val FIELD_MESSAGE = \"message\"\n\n       @JvmStatic\n       fun &lt;Data&gt; create(data: Data): Response&lt;Data&gt; {\n          return Response(data)\n       }\n   }\n}\n</code></pre>\n\n<p>And <code>ResponseSimple</code> is </p>\n\n<pre><code>open class ResponseSimple {\n\n@SerializedName(Response.FIELD_ERROR)\nvar error: String = \"\"\n\n@SerializedName(Response.FIELD_SUCCESS)\nvar succes: Boolean = false\n\n@SerializedName(Response.FIELD_MESSAGE)\nvar message:String = \"\"\n}\n</code></pre>\n\n<p>Then api response should be <code>Call&lt;Response&lt;ServerData&gt;&gt;</code>.</p>\n\n<p>And about <code>ClassCastException</code>, you can't convert <code>ServerData</code> to <code>User</code>  just using <code>as</code>.\nYou need to use <code>Call&lt;Response&lt;ArrayList&lt;User&gt;&gt;&gt;</code> or create class converter.</p>\n"}, {"tags": [], "owner": {"reputation": 2756, "user_id": 6740130, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qPHcU7isiRo/AAAAAAAAAAI/AAAAAAAAAGU/oSXROywUM5w/photo.jpg?sz=128", "display_name": "Muhammad Saad Rafique", "link": "https://stackoverflow.com/users/6740130/muhammad-saad-rafique"}, "is_accepted": false, "score": 0, "last_activity_date": 1548246764, "creation_date": 1548246764, "answer_id": 54327377, "question_id": 54326000, "link": "https://stackoverflow.com/questions/54326000/how-to-properly-make-reusable-class-to-catch-response-data-using-retrofit/54327377#54327377", "title": "How to properly make reusable class to catch response data using retrofit?", "body": "<p>Try replacing this line :</p>\n\n<pre><code>val userList = lakuinServerData?.data as List&lt;User&gt; \n</code></pre>\n\n<p>with:</p>\n\n<pre><code>val userList = lakuinServerData?.data as new TypeToken&lt;List&lt;User&gt;&gt;(){}.getType()\n</code></pre>\n"}], "owner": {"reputation": 2597, "user_id": 9605341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2368df84aa19502c764569f6e73a3f99?s=128&d=identicon&r=PG&f=1", "display_name": "sarah", "link": "https://stackoverflow.com/users/9605341/sarah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 202, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1548246764, "creation_date": 1548242164, "question_id": 54326000, "link": "https://stackoverflow.com/questions/54326000/how-to-properly-make-reusable-class-to-catch-response-data-using-retrofit", "title": "How to properly make reusable class to catch response data using retrofit?", "body": "<p>I am new in Android development, and I am trying to get data from server. the general JSON response structure will be like this</p>\n\n<pre><code>{\n    \"success\": \"1\",\n    \"data\": [\n        {\n            \"customers_id\": 4,\n            \"customers_gender\": \"0\",\n            \"customers_firstname\": \"TES IOS\",\n            \"customers_lastname\": \"TES IOS\",\n            \"customers_dob\": \"2018-12-27\",\n            \"email\": \"TES002@email.com\",\n            \"user_name\": \"TES002\",\n            \"customers_default_address_id\": 0,\n            \"customers_telephone\n         },\n    \"message\": \"Successfully get user data from server\"\n}\n</code></pre>\n\n<p>the \"success\" and \"message\" field will be the same (will always be string). but the \"data\" can be different for other request call. It can send user data, store data or product data, or even Array/List of Products. </p>\n\n<p>so I want to make general reusable class to catch that JSON response. the class will be like this, I set the \"data\" to be Any, and then later it will be casted back to User object:</p>\n\n<pre><code>class ServerData(successStatus: Int, data: Any, message: String) {\n\n    val isSuccessfull : Boolean\n    val data : Any\n    val message : String\n\n\n    init {\n        isSuccessfull = successStatus != 0\n        this.data = data\n        this.message = message\n    }\n\n\n}\n</code></pre>\n\n<p>the interface is like this:</p>\n\n<pre><code>interface LakuinAPI {\n\n    @FormUrlEncoded\n    @POST(\"processlogin\")\n    fun performLogin(\n        @Field(\"kode_customer\") outletCode: String,\n        @Field(\"password\") password: String\n    ): Call&lt;ServerData&gt;\n\n\n}\n</code></pre>\n\n<p>and then I use it in the activity, like the code below:</p>\n\n<pre><code>private fun sendLoginDataToServer(outletCode: String, password: String) {\n\n        val call = lakuinAPI.performLogin(outletCode,password)\n\n        call.enqueue(object: Callback&lt;ServerData&gt; {\n\n            override fun onFailure(call: Call&lt;ServerData&gt;, t: Throwable) {\n                Toast.makeText(this@LoginActivity,t.localizedMessage,Toast.LENGTH_LONG).show()\n            }\n\n            override fun onResponse(call: Call&lt;ServerData&gt;, response: Response&lt;ServerData&gt;) {\n\n                if (!response.isSuccessful) {\n                    Toast.makeText(this@LoginActivity,\"Code: \" + response.code(),Toast.LENGTH_LONG).show()\n                    return\n                }\n\n                val lakuinServerData = response.body()\n                val userList = lakuinServerData?.data as List&lt;User&gt; // the error in here\n                val userData = userList.first() // the error in here\n                println(userData)\n\n            }\n\n        })\n\n\n    }\n</code></pre>\n\n<p>but I get error message:</p>\n\n<blockquote>\n  <p>java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap\n  cannot be cast to com.ssss.lakuinkotlin.Model.User</p>\n</blockquote>\n\n<p>I give comment in the code above the location of the error. I don't why it happened.</p>\n\n<p>to be honest, I am not if this is the correct way to catch user data from general response JSON like the the JSON above. is there a better way ?</p>\n"}, {"tags": ["java", "kotlin", "jvm"], "comments": [{"owner": {"reputation": 274, "user_id": 5046259, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87f323eee997f31f74ab6a0f293f3917?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas", "link": "https://stackoverflow.com/users/5046259/niklas"}, "edited": false, "score": 0, "creation_date": 1548239875, "post_id": 54325243, "comment_id": 95469044, "body": "Why explicitly an array or why the parameter is there at all?"}], "answers": [{"comments": [{"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1548240111, "post_id": 54325306, "comment_id": 95469170, "body": "If the main function doesn&#39;t do anything then why is it needed? I assumed the main function executed the other functions."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1548240436, "post_id": 54325306, "comment_id": 95469366, "body": "No wait... the <code>main</code>-function is actually the entry point to your application ... or in other words: without the <code>main</code>-function your program will not run... with it you can for example just call: <code>java TestKt</code> which will then run your program (if the <code>main</code> was placed in a file named <code>Test.kt</code> and was compiled to a <code>class</code>-file, etc. pp)"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1548240564, "post_id": 54325306, "comment_id": 95469431, "body": "so for example: if you &quot;run&quot; your file using your IDE, without a <code>main</code>-function it will not run at all (exceptions to this exist, e.g. you can also run tests and other things...)"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 0, "last_activity_date": 1548244257, "last_edit_date": 1548244257, "creation_date": 1548239926, "answer_id": 54325306, "question_id": 54325243, "link": "https://stackoverflow.com/questions/54325243/why-is-arraystring-the-chosen-parameter-type-for-the-main-function-in-kotlin/54325306#54325306", "title": "Why is Array&lt;String&gt; the chosen parameter type for the main function in kotlin?", "body": "<p>The array contains the command line arguments passed to your program.</p>\n\n<p>You can also omit it, if you do not want to use them, i.e. you can also just write:</p>\n\n<pre><code>fun main() {\n  println(\"Hello, world!\")\n}\n</code></pre>\n\n<p>I am already too late to link to the <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-12.html#jls-12.1.4\" rel=\"nofollow noreferrer\">JLS for <code>Test.main</code></a> here (<a href=\"https://stackoverflow.com/a/54325625/6202869\">s1m0nw1 already did</a>; I just prepared and went away ;-)) </p>\n\n<p>But nonetheless I want to add something regarding the choice for <code>String</code> (i.e. my opinion why <code>String</code> was chosen): it's probably the most common denominator for all the possible command line arguments. <code>Any</code>/<code>Object</code> is too broad; you can only pass numbers or strings in the command line to a program (pipes are handled differently). But having a number type is too narrow, so the only acceptable type that remains is <code>String</code> which can represent both. Still you need to parse numbers if you want to use them, but that's better then interpreting a string out of numbers ;-)</p>\n"}, {"comments": [{"owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1548241109, "post_id": 54325625, "comment_id": 95469747, "body": "Thanks. But is there a reason why they chose <code>String[]</code> to be the type passed through?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "edited": false, "score": 0, "creation_date": 1548241177, "post_id": 54325625, "comment_id": 95469783, "body": "You typically start a jvm program like this: <code>java [...] ClassX arg1 arg2 arg3</code> which will make the args available inside the <code>String []</code> of ClassX&#39;s main"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1548241445, "post_id": 54325625, "comment_id": 95469912, "body": "What other type would you use to pass the command line arguments?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1548242140, "post_id": 54325625, "comment_id": 95470339, "body": "It&#39;s the same for other languages like C: <a href=\"https://www.cprogramming.com/tutorial/c/lesson14.html\" rel=\"nofollow noreferrer\">cprogramming.com/tutorial/c/lesson14.html</a>"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 6, "last_activity_date": 1548254817, "last_edit_date": 1548254817, "creation_date": 1548240990, "answer_id": 54325625, "question_id": 54325243, "link": "https://stackoverflow.com/questions/54325243/why-is-arraystring-the-chosen-parameter-type-for-the-main-function-in-kotlin/54325625#54325625", "title": "Why is Array&lt;String&gt; the chosen parameter type for the main function in kotlin?", "body": "<p>The signature of <code>main</code> is based on what the Java Virtual Machine <a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-12.html#jls-12.1\" rel=\"nofollow noreferrer\">expects</a>:</p>\n\n<blockquote>\n  <p>The method <code>main</code> must be declared <code>public, static, and void</code>. It must specify a formal parameter (\u00a78.4.1) whose declared type is <strong>array of String</strong>. Therefore, either of the following declarations is acceptable:</p>\n\n<pre><code>public static void main(String[] args)\npublic static void main(String... args)\n</code></pre>\n</blockquote>\n\n<p>This is what the Kotlin compiler compiles your main function to. As of Kotlin 1.3, the explicit <code>Array&lt;String&gt;</code> can be omitted but will still be available in the byte code.</p>\n"}, {"tags": [], "owner": {"reputation": 1618, "user_id": 7976274, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GJ2OW8p_BQg/AAAAAAAAAAI/AAAAAAAABvc/szbV3qIBtJk/photo.jpg?sz=128", "display_name": "ankuranurag2", "link": "https://stackoverflow.com/users/7976274/ankuranurag2"}, "is_accepted": false, "score": 1, "last_activity_date": 1548241589, "creation_date": 1548241589, "answer_id": 54325814, "question_id": 54325243, "link": "https://stackoverflow.com/questions/54325243/why-is-arraystring-the-chosen-parameter-type-for-the-main-function-in-kotlin/54325814#54325814", "title": "Why is Array&lt;String&gt; the chosen parameter type for the main function in kotlin?", "body": "<p><code>Collections</code> were not there in JAVA 1. Hence, <code>Array</code> was the default choice. Also the arguments provided from Command Line are in string format, hence we use <code>Array&lt;String&gt;</code>. Kotlin, to maintain interoperability with JAVA, followed the same convention. But, with the update to Kotlin 1.3, that too has been omitted. Now you can use <code>main()</code> function without passing <code>args:Array&lt;String&gt;</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7893575, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uBSHemqyjM0/AAAAAAAAAAI/AAAAAAAAACo/HQOe1cJDorg/photo.jpg?sz=128", "display_name": "kevin maina", "link": "https://stackoverflow.com/users/7893575/kevin-maina"}, "is_accepted": false, "score": 0, "last_activity_date": 1580825585, "creation_date": 1580825585, "answer_id": 60059253, "question_id": 54325243, "link": "https://stackoverflow.com/questions/54325243/why-is-arraystring-the-chosen-parameter-type-for-the-main-function-in-kotlin/60059253#60059253", "title": "Why is Array&lt;String&gt; the chosen parameter type for the main function in kotlin?", "body": "<p>Your are defining the entry point of an application. in this case, an application will start running from the main function. Passing the argument Array of type String.</p>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1737, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1580825585, "creation_date": 1548239751, "last_edit_date": 1548242012, "question_id": 54325243, "link": "https://stackoverflow.com/questions/54325243/why-is-arraystring-the-chosen-parameter-type-for-the-main-function-in-kotlin", "title": "Why is Array&lt;String&gt; the chosen parameter type for the main function in kotlin?", "body": "<p>The main function in kotlin:</p>\n\n<pre><code>fun main(args : Array&lt;String&gt;) { \n  println(\"Hello, world!\") \n}\n</code></pre>\n\n<p>Why is an Array passed in?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 1, "creation_date": 1548237503, "post_id": 54324443, "comment_id": 95467603, "body": "<code>appSettings</code> appears to be <code>null</code>, not <code>dataManager</code>"}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1548238037, "post_id": 54324443, "comment_id": 95467945, "body": "you may try having <code>Application?</code>, <code>DataManeger?</code> and so on for types in the constructor to allow <code>null</code> values for these parameters. It is likely, you do not have <code>appSettings</code>"}, {"owner": {"reputation": 16195, "user_id": 3806413, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MgI5b.jpg?s=128&g=1", "display_name": "0xAliHn", "link": "https://stackoverflow.com/users/3806413/0xalihn"}, "edited": false, "score": 0, "creation_date": 1548238090, "post_id": 54324443, "comment_id": 95467977, "body": "Fixed by changing AppSettings to AppSettings?"}, {"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 0, "creation_date": 1548238510, "post_id": 54324443, "comment_id": 95468234, "body": "that&#39;s not really a fix"}], "answers": [{"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1548248974, "post_id": 54324652, "comment_id": 95473980, "body": "How does the first proposal solve the issue of <i>not crashing</i>?"}], "tags": [], "owner": {"reputation": 581, "user_id": 2470550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KycHE.png?s=128&g=1", "display_name": "Wojciech Januszek", "link": "https://stackoverflow.com/users/2470550/wojciech-januszek"}, "is_accepted": false, "score": 0, "last_activity_date": 1548424936, "last_edit_date": 1548424936, "creation_date": 1548237922, "answer_id": 54324652, "question_id": 54324443, "link": "https://stackoverflow.com/questions/54324443/constructor-injection-is-not-working-in-kotlin-class/54324652#54324652", "title": "Constructor injection is not working in kotlin class", "body": "<p>Is <code>dataManager.appSettings</code> of a nullable type?</p>\n\n<p>If yes, you might make the <code>AppSettings</code> nullable, like this:</p>\n\n<pre><code>val appSettings: AppSettings?\n</code></pre>\n"}], "owner": {"reputation": 16195, "user_id": 3806413, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/MgI5b.jpg?s=128&g=1", "display_name": "0xAliHn", "link": "https://stackoverflow.com/users/3806413/0xalihn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 185, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548424936, "creation_date": 1548237275, "question_id": 54324443, "link": "https://stackoverflow.com/questions/54324443/constructor-injection-is-not-working-in-kotlin-class", "title": "Constructor injection is not working in kotlin class", "body": "<p>I have converted my dagger module, component and classes into kotlin. Facing below error when using the constructor injection in Model class:</p>\n\n<pre><code>java.lang.IllegalStateException: dataManager.appSettings must not be null\n</code></pre>\n\n<p>Here is my Module class:</p>\n\n<pre><code>@Module\nclass BaseModule {\n    @Provides\n    fun provideBaseViewModel(application: Application, dataManager: DataManager, serviceConnector: ServiceConnector, compositeDisposable: CompositeDisposable): BaseModel {\n        return BaseModel(application, dataManager, serviceConnector, compositeDisposable)\n    }\n}\n</code></pre>\n\n<p>Here is my Model Class which has constructor injection:</p>\n\n<pre><code>class BaseModel @Inject constructor(application: Application, dataManager: DataManager,compositeDisposable: CompositeDisposable) : BaseViewModel(application, dataManager, compositeDisposable) {\n\n    val appSettings: AppSettings\n        get() = dataManager.appSettings\n}\n</code></pre>\n\n<p>Here is the component class:</p>\n\n<pre><code>@Component(modules = [BaseModule::class])\ninterface BaseComponent {\n    fun inject(activity: BaseActivity)\n}\n</code></pre>\n"}, {"tags": ["android", "android-layout", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 2, "creation_date": 1548236388, "post_id": 54323902, "comment_id": 95466849, "body": "You should consider using fragments in this case. Anyhow you won&#39;t be able to achieve this in the Activity. If all views are the same by type, you wouldn&#39;t even need to. The synthetic properties don&#39;t verify your layout. Also you have to consider the caching of the views with the synthetic properties. So you&#39;d have to disable caching or make sure the cache is cleared."}], "answers": [{"tags": [], "owner": {"reputation": 372, "user_id": 6530179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bmBb7.png?s=128&g=1", "display_name": "Marija", "link": "https://stackoverflow.com/users/6530179/marija"}, "is_accepted": true, "score": 1, "last_activity_date": 1548843996, "creation_date": 1548843996, "answer_id": 54438355, "question_id": 54323902, "link": "https://stackoverflow.com/questions/54323902/is-it-possible-to-programmatically-include-specific-layout-with-kotlin-android-e/54438355#54438355", "title": "Is it possible to programmatically include specific layout with Kotlin Android Extension?", "body": "<p>The answer was simple and I wasn't paying enough attention.\nIt was to include the desired layout with:  </p>\n\n<pre><code>setContentView(..)\n</code></pre>\n\n<hr>\n\n<p>For example, if you include </p>\n\n<ul>\n<li><code>import kotlinx.android.synthetic.main.activity_home_1.*</code></li>\n</ul>\n\n<p>and in your <code>OnCreate()</code> set the </p>\n\n<ul>\n<li><code>setContentView(R.layout.activity_home_3)</code></li>\n</ul>\n\n<p>Now, your <em>activity_home_3</em> layout will be shown and their elements will be referenced!</p>\n\n<p><strong>No need for findViewById()</strong></p>\n"}], "owner": {"reputation": 372, "user_id": 6530179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bmBb7.png?s=128&g=1", "display_name": "Marija", "link": "https://stackoverflow.com/users/6530179/marija"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 0, "accepted_answer_id": 54438355, "answer_count": 1, "score": 1, "last_activity_date": 1548843996, "creation_date": 1548235554, "question_id": 54323902, "link": "https://stackoverflow.com/questions/54323902/is-it-possible-to-programmatically-include-specific-layout-with-kotlin-android-e", "title": "Is it possible to programmatically include specific layout with Kotlin Android Extension?", "body": "<p>Let's say I have two layouts <em><code>activity_home_1</code></em> and <em><code>activity_home_2</code></em> for my <code>HomeActivity</code>. \nI want to be able to switch between them like I used to do in Java:</p>\n\n<pre><code>int layout = getResources().getIdentifier(\"activity_home_\" + getHomeScreenNumber(),\"layout\",getPackageName());\nsetContentView(layout);\n</code></pre>\n\n<p>And later reference elements of my layout using <code>findViewById();</code></p>\n\n<p>Of course, all the elements in those two layouts are named the same, they are just different looking, so this is working perfectly in Java.</p>\n\n<hr>\n\n<p>On the other side in Kotlin, I'm avoiding <code>findViewById()</code> and I'm using <strong>Kotlin Android Extensions</strong>, and it's working great with including one layout like this:</p>\n\n<pre><code>import kotlinx.android.synthetic.main.activity_home_1.*\n</code></pre>\n\n<p>The trouble is when I want to switch between them. Just simply adding another import for the other layout it's causing an error because it doesn't know which layout to look at (cause they both have the same fields).</p>\n\n<p>How can I switch between two layouts when using <strong>Kotlin Android Extensions</strong>?</p>\n"}, {"tags": ["gradle", "intellij-idea", "kotlin", "kotlin-multiplatform"], "comments": [{"owner": {"reputation": 2886, "user_id": 2960034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2155e960e7c2119d24d00cffcfa03368?s=128&d=identicon&r=PG&f=1", "display_name": "y.bedrov", "link": "https://stackoverflow.com/users/2960034/y-bedrov"}, "edited": false, "score": 0, "creation_date": 1548249014, "post_id": 54323572, "comment_id": 95473999, "body": "What IDE version do you use? Is it possible to share idea.log (&quot;Help | Show Log in...&quot;) after failed import?"}, {"owner": {"reputation": 4459, "user_id": 2318632, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/kd7KQ.jpg?s=128&g=1", "display_name": "Sir Codesalot", "link": "https://stackoverflow.com/users/2318632/sir-codesalot"}, "reply_to_user": {"reputation": 2886, "user_id": 2960034, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2155e960e7c2119d24d00cffcfa03368?s=128&d=identicon&r=PG&f=1", "display_name": "y.bedrov", "link": "https://stackoverflow.com/users/2960034/y-bedrov"}, "edited": false, "score": 0, "creation_date": 1548250091, "post_id": 54323572, "comment_id": 95474636, "body": "I&#39;m using IntelliJ Community Edition 2018.3. The log is very long and I don&#39;t know how to attach it..."}], "answers": [{"tags": [], "owner": {"reputation": 4459, "user_id": 2318632, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/kd7KQ.jpg?s=128&g=1", "display_name": "Sir Codesalot", "link": "https://stackoverflow.com/users/2318632/sir-codesalot"}, "is_accepted": true, "score": 4, "last_activity_date": 1548666687, "creation_date": 1548666687, "answer_id": 54398624, "question_id": 54323572, "link": "https://stackoverflow.com/questions/54323572/kotlin-multiplatform-on-intellij-is-trying-to-download-native-dependencies-every/54398624#54398624", "title": "Kotlin Multiplatform on IntelliJ is trying to download native dependencies every time", "body": "<p>As pointed out by @yole, this is a <a href=\"https://youtrack.jetbrains.com/issue/KT-28128\" rel=\"nofollow noreferrer\">known issue</a> but now there is a workaround. Here is a full implementation of the workaround in <code>Groovy</code>:</p>\n\n<pre><code>repositories {\n    mavenCentral().content() {\n        excludeGroup \"Kotlin/Native\"\n    }\n    google().content() {\n        excludeGroup \"Kotlin/Native\"\n    }\n    jcenter() {\n        content {\n            excludeGroup(\"Kotlin/Native\")\n        }\n    }\n    maven { \n        url 'https://jitpack.io'\n        content {\n            excludeGroup(\"Kotlin/Native\")\n        }\n    }\n}\n</code></pre>\n\n<p>and in <code>Kotlin DSL</code>:</p>\n\n<pre><code>repositories {\n        mavenLocal().apply {\n            content {\n                excludeGroup(\"Kotlin/Native\")\n            }\n        }\n        maven {\n            url = uri(\"https://dl.bintray.com/soywiz/soywiz\")\n            content {\n                includeGroup(\"com.soywiz\")\n                excludeGroup(\"Kotlin/Native\")\n            }\n        }\n        jcenter() {\n            content {\n                excludeGroup(\"Kotlin/Native\")\n            }\n        }\n        google().apply {\n            content {\n                excludeGroup(\"Kotlin/Native\")\n            }\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 4459, "user_id": 2318632, "user_type": "registered", "accept_rate": 14, "profile_image": "https://i.stack.imgur.com/kd7KQ.jpg?s=128&g=1", "display_name": "Sir Codesalot", "link": "https://stackoverflow.com/users/2318632/sir-codesalot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 1, "accepted_answer_id": 54398624, "answer_count": 1, "score": 1, "last_activity_date": 1548666687, "creation_date": 1548234541, "question_id": 54323572, "link": "https://stackoverflow.com/questions/54323572/kotlin-multiplatform-on-intellij-is-trying-to-download-native-dependencies-every", "title": "Kotlin Multiplatform on IntelliJ is trying to download native dependencies every time", "body": "<p>Every time I create a new <code>Kotlin Multiplatform</code> (Mobile shared Library) project in <code>IntelliJ</code> and run <code>Gradle</code> sync, <code>Gradle</code> tries to download native dependencies. This process is long and unsuccessful. Here are some examples of what <code>Gradle</code> is trying to do:</p>\n\n<p><a href=\"https://i.stack.imgur.com/37ket.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/37ket.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/1NkBe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1NkBe.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/FSqZP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FSqZP.png\" alt=\"enter image description here\"></a></p>\n\n<p>It makes every sync very long (several minutes). How do I make it stop?</p>\n\n<p>I'm using <code>Gradle</code> 5.1.</p>\n"}, {"tags": ["android", "kotlin", "android-animation", "objectanimator"], "answers": [{"tags": [], "owner": {"reputation": 527, "user_id": 4735418, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TnSL20EP98E/AAAAAAAAAAI/AAAAAAAAAKc/F9y-IxIE0OI/photo.jpg?sz=128", "display_name": "Max Cruz", "link": "https://stackoverflow.com/users/4735418/max-cruz"}, "is_accepted": false, "score": 0, "last_activity_date": 1554566729, "creation_date": 1554566729, "answer_id": 55550904, "question_id": 54323359, "link": "https://stackoverflow.com/questions/54323359/a-part-of-objectanimator-isnt-played-at-the-same-time-with-animationset-playtog/55550904#55550904", "title": "A part of ObjectAnimator isn&#39;t played at the same time with AnimationSet playTogether() below API level 23", "body": "<p>I  faced the same issue and apparently, it's a BUG on the SDK. My workaround was to use the animator set only on upper API levels and deal with individual control on lowers</p>\n\n<pre><code>if (android.os.Build.VERSION.SDK_INT &lt;= android.os.Build.VERSION_CODES.M) {\n    // Bug in AnimatorSet for API 23\n    animation1.start()\n    animation2.start()\n} else {\n    val animation = AnimatorSet()\n    animation.playTogether(animation1, animation2)\n    animation.start()\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 2515351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40014e7e5b2d420bd8929918c76409bc?s=128&d=identicon&r=PG", "display_name": "kazu082", "link": "https://stackoverflow.com/users/2515351/kazu082"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 308, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1554567438, "creation_date": 1548233801, "last_edit_date": 1554567438, "question_id": 54323359, "link": "https://stackoverflow.com/questions/54323359/a-part-of-objectanimator-isnt-played-at-the-same-time-with-animationset-playtog", "title": "A part of ObjectAnimator isn&#39;t played at the same time with AnimationSet playTogether() below API level 23", "body": "<p>Animation isn't played at the same time when I set multiple <code>ObjectAnimator</code> with <code>playTgether()</code> on API level 23, but it works as I expected above API level 24.  </p>\n\n<p>However when I set each <code>ObjectAnimator</code> with <code>play()</code> the animation works as I expected on both emulator API 23 and 24.  </p>\n\n<p>Could someone advise me the cause of the issue?<br>\nI'll attach GIF and my code following.</p>\n\n<h3>The animations</h3>\n\n<p>On API level 23 emulator<br>\napi_23.gif:<br>\n<a href=\"https://i.stack.imgur.com/k31aL.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k31aL.gif\" alt=\"api_23.gif\"></a></p>\n\n<p>On API level 24 emulator<br>\napi_24.gif:<br>\n<a href=\"https://i.stack.imgur.com/pLSV4.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pLSV4.gif\" alt=\"api_24.gif\"></a></p>\n\n<h3>Code</h3>\n\nactivity_text.xml\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".presentation.view.activity.TestActivity\"&gt;\n    &lt;ImageView\n        android:id=\"@+id/imageView\"\n        android:layout_width=\"50dp\"\n        android:layout_height=\"50dp\"\n        android:background=\"@color/browser_actions_title_color\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\nTestActivity.kt\n\n<pre><code>class TestActivity: AppCompatActivity() {\n\n    private val TRANSLATION_X_START = 0f\n    private val TRANSLATION_X_END = 500f\n    private val TRANSLATION_Y_START = 0f\n    private val TRANSLATION_Y_END = 500f\n    private val DELAY_TRANSLATION = 2000\n    private val TRANSLATE_ANIMATION_TIME = 800\n\n    private val DEFAULT_SCALE = 1f\n    private val MAX_SCALE = 3f\n    private val DELAY_SCALE = 2000\n    private val SCALE_ANIMATION_TIME = 800\n\n    private val MIN_ALPHA = 0f\n    private val MAX_ALPHA = 255f\n    private val DELAY_ALPHA = 2250\n    private val ALPHA_ANIMATION_TIME = 800\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_test)\n        startAnimation(imageView)\n    }\n\n    private fun startAnimation(view: View) {\n\n        val animationSet  = AnimatorSet()\n\n        val animatorX = ObjectAnimator.ofFloat(view, \"x\", TRANSLATION_X_START, TRANSLATION_X_END)\n        animatorX.interpolator = AccelerateDecelerateInterpolator()\n        animatorX.duration = TRANSLATE_ANIMATION_TIME.toLong()\n        animatorX.startDelay = DELAY_TRANSLATION.toLong()\n\n        val animatorY = ObjectAnimator.ofFloat(view, \"y\", TRANSLATION_Y_START, TRANSLATION_Y_END)\n        animatorY.interpolator = AccelerateDecelerateInterpolator()\n        animatorY.duration = TRANSLATE_ANIMATION_TIME.toLong()\n        animatorY.startDelay = DELAY_TRANSLATION.toLong()\n\n        val animatorScaleX = ObjectAnimator.ofFloat(view, \"scaleX\", DEFAULT_SCALE, MAX_SCALE)\n        animatorScaleX.interpolator = LinearInterpolator()\n        animatorScaleX.duration = SCALE_ANIMATION_TIME.toLong()\n        animatorScaleX.startDelay = DELAY_SCALE.toLong()\n\n        val animatorScaleY = ObjectAnimator.ofFloat(view, \"scaleY\", DEFAULT_SCALE, MAX_SCALE)\n        animatorScaleY.interpolator = LinearInterpolator()\n        animatorScaleY.duration = SCALE_ANIMATION_TIME.toLong()\n        animatorScaleY.startDelay = DELAY_SCALE.toLong()\n\n        val animatorAlpha = ObjectAnimator.ofFloat(view, \"alpha\", MAX_ALPHA, MIN_ALPHA)\n        animatorAlpha.interpolator = LinearInterpolator()\n        animatorAlpha.duration = ALPHA_ANIMATION_TIME.toLong()\n        animatorAlpha.startDelay = DELAY_ALPHA.toLong()\n\n        animationSet.playTogether(animatorX, animatorScaleX, animatorY, animatorScaleY, animatorAlpha)\n\n        animationSet.addListener(object : Animator.AnimatorListener {\n            override fun onAnimationEnd(animation: Animator) {\n            }\n            override fun onAnimationStart(animation: Animator) {\n            }\n            override fun onAnimationCancel(animation: Animator) {}\n\n            override fun onAnimationRepeat(animation: Animator) {}\n        })\n\n        animationSet.start()\n    }\n}\n</code></pre>\n\n<h3>Code works well for both api23 and api24</h3>\n\n<pre><code>animationSet.play(animatorX)\nanimationSet.play(animatorScaleX)\nanimationSet.play(animatorY)\nanimationSet.play(animatorScaleY)\nanimationSet.play(animatorAlpha)\n</code></pre>\n"}, {"tags": ["junit", "kotlin", "junit5", "kotlin-extension"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1548238291, "post_id": 54323352, "comment_id": 95468085, "body": "I would omit that <code>class</code> and <code>companion object</code>, so you basically only have a function inside an empty (or only <code>import</code> and <code>package</code> statements) <code>kt</code>-file"}], "answers": [{"comments": [{"owner": {"reputation": 185, "user_id": 10546931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f13780916e47fbe4805fc58f62063b1?s=128&d=identicon&r=PG&f=1", "display_name": "Tranquillo", "link": "https://stackoverflow.com/users/10546931/tranquillo"}, "edited": false, "score": 1, "creation_date": 1548324224, "post_id": 54323469, "comment_id": 95503576, "body": "Why lower case b in &#39;base64Utils.kt&#39; ? Is that standard for util?"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 3, "last_activity_date": 1548234188, "creation_date": 1548234188, "answer_id": 54323469, "question_id": 54323352, "link": "https://stackoverflow.com/questions/54323352/how-can-i-test-access-companion-object-extension-functions-in-kotlin/54323469#54323469", "title": "How can I test/access companion object extension functions in Kotlin?", "body": "<p>You cannot simply access <em>member extension functions</em> such as <code>decodeBase64ToByteArray</code> from outside. This is only possible if you get into the scope of the object it is defined in:</p>\n\n<pre><code>with(Base64Util.Companion){ //.Companion could be removed\n    \"123fsad123\".decodeBase64ToByteArray()\n}\n</code></pre>\n\n<p>It could make sense to define your util functions as top-level functions in a file <code>base64Utils.kt</code> for example. This way, they can be called in a static way without any issue. </p>\n"}], "owner": {"reputation": 185, "user_id": 10546931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f13780916e47fbe4805fc58f62063b1?s=128&d=identicon&r=PG&f=1", "display_name": "Tranquillo", "link": "https://stackoverflow.com/users/10546931/tranquillo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 54323469, "answer_count": 1, "score": 0, "last_activity_date": 1548234310, "creation_date": 1548233785, "last_edit_date": 1548234310, "question_id": 54323352, "link": "https://stackoverflow.com/questions/54323352/how-can-i-test-access-companion-object-extension-functions-in-kotlin", "title": "How can I test/access companion object extension functions in Kotlin?", "body": "<p>I have an Base64Util class with amongst others an extension function <code>decodeBase64ToByteArray</code> :</p>\n\n<pre><code>class Base64Util {\n  companion object {\n    fun String.decodeBase64ToByteArray(): ByteArray {\n        return Base64.getUrlDecoder().decode(this)\n    }\n  }\n}\n</code></pre>\n\n<p>Now I would like to test my <code>Base64Util</code> via <code>Base64IUtilTest</code>. I can access non extension functions of course, but how can I access/test the <code>String.decodeBase64ToByteArray()</code> from <code>Base64UtilTest</code> ?</p>\n"}, {"tags": ["java", "android", "kotlin", "dialog", "customdialog"], "comments": [{"owner": {"reputation": 2047, "user_id": 7319704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nO22o.jpg?s=128&g=1", "display_name": "Abhinav Gupta", "link": "https://stackoverflow.com/users/7319704/abhinav-gupta"}, "edited": false, "score": 1, "creation_date": 1548232982, "post_id": 54323115, "comment_id": 95464932, "body": "Use Linear/Relative layout for this"}, {"owner": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "reply_to_user": {"reputation": 2047, "user_id": 7319704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nO22o.jpg?s=128&g=1", "display_name": "Abhinav Gupta", "link": "https://stackoverflow.com/users/7319704/abhinav-gupta"}, "edited": false, "score": 0, "creation_date": 1548233194, "post_id": 54323115, "comment_id": 95465065, "body": "@AbhinavGupta I have already tried but title still not showing on marshmallow."}], "answers": [{"comments": [{"owner": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "edited": false, "score": 0, "creation_date": 1548233954, "post_id": 54323279, "comment_id": 95465462, "body": "Thanks, but I cannot use alert dialog because setView requires api level 21 and I cannot use dialog and alertDialog together in  my case."}, {"owner": {"reputation": 1314, "user_id": 6534707, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-60dCmuymksw/AAAAAAAAAAI/AAAAAAAAABY/Bx2uKgxs9Vc/photo.jpg?sz=128", "display_name": "Bhoomika Patel", "link": "https://stackoverflow.com/users/6534707/bhoomika-patel"}, "reply_to_user": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "edited": false, "score": 0, "creation_date": 1548242034, "post_id": 54323279, "comment_id": 95470279, "body": "@AndroidExpert refer this link: <a href=\"https://stackoverflow.com/questions/22655599/alertdialog-builder-with-custom-layout-and-edittext-cannot-access-view\" title=\"alertdialog builder with custom layout and edittext cannot access view\">stackoverflow.com/questions/22655599/&hellip;</a> you can also set custom layout with alert dialog."}, {"owner": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "edited": false, "score": 0, "creation_date": 1548250768, "post_id": 54323279, "comment_id": 95475082, "body": "Thanks, but I have already tried alertDialog but if i use alert dialog I can&#39;t cancel or dismiss it."}, {"owner": {"reputation": 1314, "user_id": 6534707, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-60dCmuymksw/AAAAAAAAAAI/AAAAAAAAABY/Bx2uKgxs9Vc/photo.jpg?sz=128", "display_name": "Bhoomika Patel", "link": "https://stackoverflow.com/users/6534707/bhoomika-patel"}, "reply_to_user": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "edited": false, "score": 0, "creation_date": 1548302228, "post_id": 54323279, "comment_id": 95494877, "body": "@AndroidExpert you can dismiss it. Use setCancelable(true) &amp;&amp; just look at my code &amp; look Ok click button, by using dialog.dismiss() you are able to dismiss it. :)"}, {"owner": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "edited": false, "score": 0, "creation_date": 1548304991, "post_id": 54323279, "comment_id": 95495426, "body": "Thanks, but in my case I need to close alert dialog out side of button how can I call dialog.dismiss() or dialog.cancel()  out side of button?"}, {"owner": {"reputation": 1314, "user_id": 6534707, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-60dCmuymksw/AAAAAAAAAAI/AAAAAAAAABY/Bx2uKgxs9Vc/photo.jpg?sz=128", "display_name": "Bhoomika Patel", "link": "https://stackoverflow.com/users/6534707/bhoomika-patel"}, "reply_to_user": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "edited": false, "score": 0, "creation_date": 1548305268, "post_id": 54323279, "comment_id": 95495481, "body": "set alertDialogBuilder.setCancelable(true)"}], "tags": [], "owner": {"reputation": 1314, "user_id": 6534707, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-60dCmuymksw/AAAAAAAAAAI/AAAAAAAAABY/Bx2uKgxs9Vc/photo.jpg?sz=128", "display_name": "Bhoomika Patel", "link": "https://stackoverflow.com/users/6534707/bhoomika-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1548233511, "creation_date": 1548233511, "answer_id": 54323279, "question_id": 54323115, "link": "https://stackoverflow.com/questions/54323115/why-android-dialog-title-not-showing-on-android-versions-marshmallow/54323279#54323279", "title": "why Android dialog title not showing on android versions marshmallow?", "body": "<p>Use AlertDialog instead of Dialog.</p>\n\n<pre><code>  AlertDialog.Builder alertDialogBuilder = new AlertDialog.Builder(this);\n        alertDialogBuilder.setTitle(getString(R.string.app_name));\n        alertDialogBuilder.setMessage(getString(R.string.disclaimer))\n                .setCancelable(false)\n                .setPositiveButton(\"Ok\",\n                        new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog, int id) {\n                                dialog.dismiss();\n                            }\n                        });\n        AlertDialog alert = alertDialogBuilder.create();\n        alert.show();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "edited": false, "score": 0, "creation_date": 1548234194, "post_id": 54323426, "comment_id": 95465620, "body": "Thanks for your answer, but I am using dialog I cannot use alert dialog in my case."}], "tags": [], "owner": {"reputation": 66, "user_id": 8348934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h5lLY.jpg?s=128&g=1", "display_name": "Mark Morgan Miranda", "link": "https://stackoverflow.com/users/8348934/mark-morgan-miranda"}, "is_accepted": false, "score": 2, "last_activity_date": 1548234040, "creation_date": 1548234040, "answer_id": 54323426, "question_id": 54323115, "link": "https://stackoverflow.com/questions/54323115/why-android-dialog-title-not-showing-on-android-versions-marshmallow/54323426#54323426", "title": "why Android dialog title not showing on android versions marshmallow?", "body": "<p>Have you tried applying custom style... The dialog adopts the Style of the parent Activity which might have been set to NoTitle.</p>\n\n<pre><code>&lt;style name=\"CustomDialog\" parent=\"@style/Theme.AppCompat.Light.Dialog\"&gt;\n    &lt;item name=\"android:windowNoTitle\"&gt;false&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>On the java code</p>\n\n<pre><code>new AlertDialog.Builder(new ContextThemeWrapper(Context, R.style.Dialog))\n</code></pre>\n"}], "owner": {"reputation": 205, "user_id": 10588497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HIU6m.png?s=128&g=1", "display_name": "Raptor", "link": "https://stackoverflow.com/users/10588497/raptor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 711, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1548234040, "creation_date": 1548232908, "question_id": 54323115, "link": "https://stackoverflow.com/questions/54323115/why-android-dialog-title-not-showing-on-android-versions-marshmallow", "title": "why Android dialog title not showing on android versions marshmallow?", "body": "<p>I was trying to create a custom dialog here is my code :</p>\n\n<pre><code>        val myDialog = Dialog(this)\n        myDialog.setContentView(R.layout.my_dialog)\n        myDialog.setTitle(\"My Dialog!\")\n        myDialog.setCancelable(true)\n        myDialog.show()\n</code></pre>\n\n<p>Here is my_dialog.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n&lt;TextView\n        android:text=\"Hello world!\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:id=\"@+id/textView\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:textSize=\"30sp\"/&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>I have run this on android version lollipop It works fine here is screenshot on lollipop :</p>\n\n<p><a href=\"https://i.stack.imgur.com/YyL0H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YyL0H.png\" alt=\"Dialog on Android version Lollipop\"></a></p>\n\n<p>as you can see dialog title is showing but when I try to run this on Android version marshmallow title stop showing here is screenshot on marshmallow :</p>\n\n<p><a href=\"https://i.stack.imgur.com/kXh88.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kXh88.png\" alt=\"Dialog on android version marshmallow\"></a></p>\n\n<p>as you can see dialog title not showing on android version marshmallow. I have try adding this line for showing title :</p>\n\n<pre><code>myDialog.create()\n</code></pre>\n\n<p>but title still not showing. what should I do?</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 1, "creation_date": 1548229222, "post_id": 54322028, "comment_id": 95463105, "body": "What variable??"}, {"owner": {"reputation": 32, "user_id": 10224558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9102903dd3195d42da68177caadeb7b0?s=128&d=identicon&r=PG", "display_name": "Ziad Abouelfarah", "link": "https://stackoverflow.com/users/10224558/ziad-abouelfarah"}, "reply_to_user": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1548229826, "post_id": 54322028, "comment_id": 95463340, "body": "activePlayer can&#39;t change after if statement"}, {"owner": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1548233171, "post_id": 54322028, "comment_id": 95465054, "body": "Please show your test and test result. i.e. How did you call the function? How did you read the result? What result did you get?"}, {"owner": {"reputation": 32, "user_id": 10224558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9102903dd3195d42da68177caadeb7b0?s=128&d=identicon&r=PG", "display_name": "Ziad Abouelfarah", "link": "https://stackoverflow.com/users/10224558/ziad-abouelfarah"}, "reply_to_user": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1548235169, "post_id": 54322028, "comment_id": 95466143, "body": "@RickyMo wait I will upload the result"}, {"owner": {"reputation": 32, "user_id": 10224558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9102903dd3195d42da68177caadeb7b0?s=128&d=identicon&r=PG", "display_name": "Ziad Abouelfarah", "link": "https://stackoverflow.com/users/10224558/ziad-abouelfarah"}, "reply_to_user": {"reputation": 3155, "user_id": 10317684, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1vZU7dxLnug/AAAAAAAAAAI/AAAAAAAAATs/NO0fprNnb6s/photo.jpg?sz=128", "display_name": "Ricky Mo", "link": "https://stackoverflow.com/users/10317684/ricky-mo"}, "edited": false, "score": 0, "creation_date": 1548236676, "post_id": 54322028, "comment_id": 95467031, "body": "@RickyMo Done ."}], "answers": [{"tags": [], "owner": {"reputation": 3419, "user_id": 2401265, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/16369b0c7c1f0fff22ff47be0a22289a?s=128&d=identicon&r=PG", "display_name": "gmetax", "link": "https://stackoverflow.com/users/2401265/gmetax"}, "is_accepted": true, "score": 1, "last_activity_date": 1548237713, "creation_date": 1548237713, "answer_id": 54324571, "question_id": 54322028, "link": "https://stackoverflow.com/questions/54322028/unable-to-update-kotlin-variable-in-inside-the-function/54324571#54324571", "title": "Unable to update Kotlin variable in inside the function", "body": "<p>you have to move the <code>var activePlayer:Int = 1</code> outside of the function <code>buSelect(view:View)</code> think that you need it as a global variable.</p>\n"}], "owner": {"reputation": 32, "user_id": 10224558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9102903dd3195d42da68177caadeb7b0?s=128&d=identicon&r=PG", "display_name": "Ziad Abouelfarah", "link": "https://stackoverflow.com/users/10224558/ziad-abouelfarah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 54324571, "answer_count": 1, "score": 0, "last_activity_date": 1548237713, "creation_date": 1548228464, "last_edit_date": 1548236638, "question_id": 54322028, "link": "https://stackoverflow.com/questions/54322028/unable-to-update-kotlin-variable-in-inside-the-function", "title": "Unable to update Kotlin variable in inside the function", "body": "<p>I'm trying to build a tic tac toe game for android.</p>\n\n<p>But when I'm trying to change the active game.</p>\n\n<p>The value of the variable activePlayer doesn't change </p>\n\n<pre><code>fun buSelect(view:View){\n\n\n    var butSelected = view as Button\n    var callID = 0\n    when(butSelected.id){\n        R.id.bt1 -&gt; callID = 1\n        R.id.bt2 -&gt; callID = 2\n        R.id.bt3 -&gt; callID = 3\n        R.id.bt4 -&gt; callID = 4\n        R.id.bt5 -&gt; callID = 5\n        R.id.bt6 -&gt; callID = 6\n        R.id.bt7 -&gt; callID = 7\n        R.id.bt8 -&gt; callID = 8\n        R.id.bt9 -&gt; callID = 9\n    }\n\n    //The Problem go from here\n    var player1 = ArrayList&lt;Int&gt;()\n    var player2 = ArrayList&lt;Int&gt;()\n    var activePlayer:Int = 1\n\n    fun PlayGame(callID:Int, butSelected:Button){\n\n        if (activePlayer == 1){\n            butSelected.text = \"X\"\n            butSelected.setBackgroundResource(R.color.pink)\n            player1.add(callID)\n            activePlayer = 2\n        }else{\n            butSelected.text = \"O\"\n            butSelected.setBackgroundResource(R.color.colorPrimaryDark)\n            player2.add(callID)\n            activePlayer = 1\n        }\n\n        butSelected.isEnabled = false\n\n    }\n    // until here\n    PlayGame(callID, butSelected)\n    }\n</code></pre>\n\n<p>And the testing result is this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/a7OZn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/a7OZn.png\" alt=\"Test the code\"></a></p>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 0, "creation_date": 1548235576, "post_id": 54321577, "comment_id": 95466384, "body": "from the naming of the function I would have expected that you actually pass the exceptions to be suppressed to the function... ;-)"}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "edited": false, "score": 1, "creation_date": 1548235747, "post_id": 54321577, "comment_id": 95466501, "body": "hmmm... from the solutions I see no one checks whether the given exception is an instance of the passed exception types, but rather check whether they have the same type... you may (or may not...) want to check if it is an actual instance instead... just in case someone derived a <code>NotFoundException</code> or similar ;-)"}], "answers": [{"comments": [{"owner": {"reputation": 2372, "user_id": 2291510, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d508661ffc76120885f710fe3e5c1516?s=128&d=identicon&r=PG", "display_name": "Mr.Turtle", "link": "https://stackoverflow.com/users/2291510/mr-turtle"}, "edited": false, "score": 0, "creation_date": 1548229524, "post_id": 54322229, "comment_id": 95463207, "body": "Thanks! I&#39;ll approve your answer. I did something similar."}], "tags": [], "owner": {"reputation": 4301, "user_id": 10326373, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gELRFaHltbo/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNsdj9V1baYsQJixyXkjgDgjTYtUg/mo/photo.jpg?sz=128", "display_name": "Yoni Gibbs", "link": "https://stackoverflow.com/users/10326373/yoni-gibbs"}, "is_accepted": true, "score": 2, "last_activity_date": 1548229438, "creation_date": 1548229438, "answer_id": 54322229, "question_id": 54321577, "link": "https://stackoverflow.com/questions/54321577/exception-handling-suppression-with-higher-order-function/54322229#54322229", "title": "Exception handling / suppression with higher order function", "body": "<p>Is the below what you're looking for?</p>\n\n<pre><code>private inline fun &lt;T&gt; supressExceptions(vararg approvedException: Class&lt;out RuntimeException&gt;, block: () -&gt; T): T =\n        try {\n            block()\n        } catch (ex: Exception) {\n            if (approvedException.contains(ex::class.java)) {\n                // Approved exception\n                throw ex\n            }\n            // ELSE: do something else if the exception is not approved.\n            else throw Exception(\"Something else\")\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2372, "user_id": 2291510, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d508661ffc76120885f710fe3e5c1516?s=128&d=identicon&r=PG", "display_name": "Mr.Turtle", "link": "https://stackoverflow.com/users/2291510/mr-turtle"}, "is_accepted": false, "score": 1, "last_activity_date": 1548229582, "creation_date": 1548229582, "answer_id": 54322264, "question_id": 54321577, "link": "https://stackoverflow.com/questions/54321577/exception-handling-suppression-with-higher-order-function/54322264#54322264", "title": "Exception handling / suppression with higher order function", "body": "<p>This can be achieved by <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/any.html\" rel=\"nofollow noreferrer\"><code>any</code></a>:</p>\n\n<pre><code>  private inline fun &lt;T, X : RuntimeException&gt; supressExceptions(vararg approvedException: Class&lt;X&gt;,\n      block: () -&gt; T): T =\n      try {\n        block()\n      } catch (ex: Exception) {\n        when {\n          approvedException.any { ex::class.java == it } -&gt; throw ex\n          else -&gt; {\n            throw SupressedException(ex)\n          }\n        }\n      }\n</code></pre>\n\n<blockquote>\n  <p><strong>any</strong>: Returns true if at least one entry matches the given predicate.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 2372, "user_id": 2291510, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d508661ffc76120885f710fe3e5c1516?s=128&d=identicon&r=PG", "display_name": "Mr.Turtle", "link": "https://stackoverflow.com/users/2291510/mr-turtle"}, "edited": false, "score": 0, "creation_date": 1548246823, "post_id": 54324147, "comment_id": 95472773, "body": "Hi and thanks for the reply. I liked your solution, but we can&#39;t &quot;whitelist&quot; well-defined exceptions. Some context: the application is an &quot;orchestrator&quot;-application which is fetching and posting data for several different apps. One error (lets say NotFound) from one service might be OK to send back to the user, but a 404-error from another service could mean &quot;the orchestrator did something wrong&quot; and therefor should return a internal server error to the user."}, {"owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "reply_to_user": {"reputation": 2372, "user_id": 2291510, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d508661ffc76120885f710fe3e5c1516?s=128&d=identicon&r=PG", "display_name": "Mr.Turtle", "link": "https://stackoverflow.com/users/2291510/mr-turtle"}, "edited": false, "score": 1, "creation_date": 1548247070, "post_id": 54324147, "comment_id": 95472909, "body": "even if it is an orchestrator... I don&#39;t want to be the one having to keep that mapping up to date (e.g. which exception should pass through and which shouldn&#39;t...) ... and then you wire the path which service talks to which differently and then an exception passes through which shouldn&#39;t... or one is swallowed which should have passed .... I don&#39;t know... it sounds like trouble to me... ;-)"}, {"owner": {"reputation": 2372, "user_id": 2291510, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d508661ffc76120885f710fe3e5c1516?s=128&d=identicon&r=PG", "display_name": "Mr.Turtle", "link": "https://stackoverflow.com/users/2291510/mr-turtle"}, "edited": false, "score": 1, "creation_date": 1548247228, "post_id": 54324147, "comment_id": 95473010, "body": "Valid point. Maybe we can do something about the exception handling and reconsider this solution. Thanks for great input"}], "tags": [], "owner": {"reputation": 17883, "user_id": 6202869, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0242e0540d33913439e284663e1a9300?s=128&d=identicon&r=PG&f=1", "display_name": "Roland", "link": "https://stackoverflow.com/users/6202869/roland"}, "is_accepted": false, "score": 1, "last_activity_date": 1548237537, "last_edit_date": 1548237537, "creation_date": 1548236332, "answer_id": 54324147, "question_id": 54321577, "link": "https://stackoverflow.com/questions/54321577/exception-handling-suppression-with-higher-order-function/54324147#54324147", "title": "Exception handling / suppression with higher order function", "body": "<p>As already mentioned in the comments: from the naming I would have expected that the suppressExceptions rather accepts a parameter of the exceptions to be suppressed.</p>\n\n<p>I wonder whether you actually rather want to check whether a thrown exception is actually an instance of the given exception types, i.e. if also subclasses of the given types should be approved/suppressed or not.</p>\n\n<p>In such a case I would rather use the following code:</p>\n\n<pre><code>inline fun &lt;T&gt; suppressAllExceptions(vararg exceptExceptions: Class&lt;out Exception&gt; = emptyArray(),\n                                     block: () -&gt; T) = try {\n  block()\n} catch (e: Exception) {\n  throw if (exceptExceptions.any { it.isInstance(e) }) {\n    e\n  } else SuppressedException(e)\n}\n</code></pre>\n\n<p>You would still use it the same way as you have shown:</p>\n\n<pre><code>suppressAllExceptions {\n  throw IllegalStateException(\"i am suppressed soon\")\n}\nsuppressAllExceptions(IllegalStateException::class.java, \n                      IllegalArgumentException::class.java) {\n  throw IllegalStateException(\"i am not suppressed\")\n}\nclass MyIllegalStateException : IllegalStateException()\nsuppressAllExceptions(IllegalStateException::class.java, \n                      IllegalArgumentException::class.java) {\n  throw MyIllegalStateException(\"i am not suppressed neither\")\n} \n</code></pre>\n\n<p>The more I think of it: why do you approve different types of exceptions at different places? This doesn't sound right to me. You probably rather want to suppress all exceptions except some well-defined ones and in such a case you do not need such a generic function in the first place, but rather have one suppressing function that contains that well-defined list:</p>\n\n<pre><code>/**\n * Suppresses all exceptions except the well-defined ones: [NotFoundException], ...\n */\ninline fun &lt;T&gt; suppressExceptions(block: () -&gt; T) = try {\n  block()\n} catch (e: Exception) {\n  throw when (e) {\n    is NotFoundException,\n    is ForbiddenException,\n    // all the other well-defined non-suppressable types\n    is AuthorizationException -&gt; e\n    else -&gt; SuppressedException(e)\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 2372, "user_id": 2291510, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d508661ffc76120885f710fe3e5c1516?s=128&d=identicon&r=PG", "display_name": "Mr.Turtle", "link": "https://stackoverflow.com/users/2291510/mr-turtle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 54322229, "answer_count": 3, "score": 1, "last_activity_date": 1548237537, "creation_date": 1548226674, "last_edit_date": 1548227686, "question_id": 54321577, "link": "https://stackoverflow.com/questions/54321577/exception-handling-suppression-with-higher-order-function", "title": "Exception handling / suppression with higher order function", "body": "<p>I have an application in a micro service architecture. This application is getting data from different sources and is getting a lot of different error-responses from the various of other applications. Some exceptions, like 404-Not found exceptions can be thrown and returned to the end-user, but other exceptions (bad requests, ++) can't and need to be suppressed by throwing some other exception. </p>\n\n<p>However, I know this can be solved by <code>try-catch</code>ing the exceptions and moderating what to throw in that matter, but that would involve a lot of code.. sometimes I want to accept 4-5 different exceptions, while other times only 1-2 exceptions. </p>\n\n<hr>\n\n<p>Anyhow.. I need some help making a higher order function. I want a function that takes one or more \"accepted exceptions\" as parameters (they're Runtime-exceptions) and throws only the approved exceptions in a <code>try-catch</code>. </p>\n\n<p>This is what I have tried, <strong>but can't seem to get the syntax right</strong> (pseudo-code atm.). Any help is really appreciated.</p>\n\n<pre><code>  fun getData() {\n    return supressExceptions(\n        NotFoundException::class.java, \n        ForbiddenException::class.java, \n        AuthorizationException::class.java) {\n      service.getData()\n    }\n  }\n\n  private inline fun &lt;T, X : RuntimeException&gt; supressExceptions(vararg approvedException: Class&lt;X&gt;, block: () -&gt; T): T =\n      try {\n        block()\n      } catch (ex: Exception) {\n        // Loop through the approved exceptions.\n        // Throw the approved exception\n        throw ex\n        // ELSE: do something else if the exception is not approved.\n      }\n</code></pre>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 3397, "user_id": 574826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jvb1q.jpg?s=128&g=1", "display_name": "pdpi", "link": "https://stackoverflow.com/users/574826/pdpi"}, "edited": false, "score": 1, "creation_date": 1548253566, "post_id": 54321360, "comment_id": 95476717, "body": "Some more context for what you&#39;re trying to achieve would be useful."}], "answers": [{"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 0, "last_activity_date": 1548229721, "creation_date": 1548229721, "answer_id": 54322291, "question_id": 54321360, "link": "https://stackoverflow.com/questions/54321360/kotlin-provide-type-when-generate-instance-from-generic-class/54322291#54322291", "title": "Kotlin provide type when generate instance from generic class", "body": "<p>You can use <code>enum</code> in that case:</p>\n\n<pre><code>enum class FragmentType {\n    COMPANY, LOCATION, EMPLOYEE\n}\n\nfor(f in FragmentType.values()) {\n    val fragment = when (f) {\n        FragmentType.COMPANY -&gt; Fragment&lt;Company&gt;\n        FragmentType.LOCATION -&gt; Fragment&lt;Location&gt;\n        FragmentType.EMPLOYEE -&gt; Fragment&lt;Employee&gt;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10955240, "user_type": "registered", "profile_image": "https://graph.facebook.com/2019018341480241/picture?type=large", "display_name": "Artem Veselov", "link": "https://stackoverflow.com/users/10955240/artem-veselov"}, "is_accepted": false, "score": 0, "last_activity_date": 1548240748, "creation_date": 1548240748, "answer_id": 54325558, "question_id": 54321360, "link": "https://stackoverflow.com/questions/54321360/kotlin-provide-type-when-generate-instance-from-generic-class/54325558#54325558", "title": "Kotlin provide type when generate instance from generic class", "body": "<p>Enum (the answer above) isn't necessary. </p>\n\n<pre><code>val fragment = when(f.entityClass) {\n    is Company -&gt; Fragment&lt;Company&gt;\n    is Location -&gt; Fragment&lt;Location&gt;\n    is Employee -&gt; Fragment&lt;Employee&gt;\n    else -&gt; throw IllegalArgumentException(\"doesn't support class ${f.entityClass}\")\n}\n</code></pre>\n"}], "owner": {"reputation": 215, "user_id": 9751956, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Geoffrey Lee", "link": "https://stackoverflow.com/users/9751956/geoffrey-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 54322291, "answer_count": 2, "score": 0, "last_activity_date": 1548240748, "creation_date": 1548225655, "last_edit_date": 1548226006, "question_id": 54321360, "link": "https://stackoverflow.com/questions/54321360/kotlin-provide-type-when-generate-instance-from-generic-class", "title": "Kotlin provide type when generate instance from generic class", "body": "<p>Somehow I able to make many generic class by example below</p>\n\n<pre><code>val company = Fragment&lt;Company&gt;\nval location= Fragment&lt;Location&gt;\nval employee = Fragment&lt;Employee&gt;\n</code></pre>\n\n<p>In order to make the code simple, I decide to put all the class into list and generate class for each of them in a for loop</p>\n\n<pre><code>data class FragmentType(val entityClass: KClass&lt;*&gt;)\nprivate val fragmentList: List&lt;FragmentType&gt; = listOf(\n    FragmentType(Company::class),\n    FragmentType(Location::class),\n    FragmentType(Employee::class)\n)\n\nfor(f in fragmentList){\n    val fragment = Fragment&lt;f.entityClass&gt; //This is wrong\n}\n</code></pre>\n\n<p>I know the line in the for loop is wrong, how can I use a variable to decide the type of generic that I am going to generate?</p>\n"}, {"tags": ["android", "unit-testing", "testing", "kotlin", "instrumentation"], "comments": [{"owner": {"reputation": 2292, "user_id": 4502035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38a1b21c3e83f9d10aaa56c93f6150a?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/4502035/andreas"}, "edited": false, "score": 0, "creation_date": 1548224642, "post_id": 54320930, "comment_id": 95461285, "body": "Please elaborate more on how it is not working"}, {"owner": {"reputation": 971, "user_id": 3967395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65d61dcc10da7a1a43406e972f36b61?s=128&d=identicon&r=PG&f=1", "display_name": "Nilesh Panchal", "link": "https://stackoverflow.com/users/3967395/nilesh-panchal"}, "reply_to_user": {"reputation": 2292, "user_id": 4502035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38a1b21c3e83f9d10aaa56c93f6150a?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/4502035/andreas"}, "edited": false, "score": 0, "creation_date": 1548306658, "post_id": 54320930, "comment_id": 95495824, "body": "@Andreas Question  was updated please check it -&gt; jUnitCore.run is not working to run another test case"}, {"owner": {"reputation": 2292, "user_id": 4502035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38a1b21c3e83f9d10aaa56c93f6150a?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/4502035/andreas"}, "edited": false, "score": 0, "creation_date": 1548310781, "post_id": 54320930, "comment_id": 95497039, "body": "That still does not explain how it is not working. Does it have syntax error? Does it give any error message? Does it just skip the test? Also what is the implementation for ListFragmentTest?"}, {"owner": {"reputation": 971, "user_id": 3967395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65d61dcc10da7a1a43406e972f36b61?s=128&d=identicon&r=PG&f=1", "display_name": "Nilesh Panchal", "link": "https://stackoverflow.com/users/3967395/nilesh-panchal"}, "reply_to_user": {"reputation": 2292, "user_id": 4502035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e38a1b21c3e83f9d10aaa56c93f6150a?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/4502035/andreas"}, "edited": false, "score": 0, "creation_date": 1548311792, "post_id": 54320930, "comment_id": 95497367, "body": "@Andreas I Don&#39;t get any kind of error it will just skip the next test case"}], "owner": {"reputation": 971, "user_id": 3967395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65d61dcc10da7a1a43406e972f36b61?s=128&d=identicon&r=PG&f=1", "display_name": "Nilesh Panchal", "link": "https://stackoverflow.com/users/3967395/nilesh-panchal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 208, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1548586325, "creation_date": 1548223550, "last_edit_date": 1548586325, "question_id": 54320930, "link": "https://stackoverflow.com/questions/54320930/is-it-possible-to-execute-test-cases-sequentially-in-android", "title": "Is it possible to execute test cases sequentially in Android?", "body": "<p>I have written multiple test cases in an Android project but I want to execute test cases one after another. That means sequential execution need to occur. </p>\n\n<blockquote>\n  <p>When the first test case is complete then another test case will be\n  executed\n  For example if we have two screens Login and Home Page then after the successful test case of the Login it should execute test case for Home Page</p>\n</blockquote>\n\n<p>I am a beginner for the Unit testing. I have tried <a href=\"https://stackoverflow.com/questions/10127052/how-to-programmatically-execute-a-test-suite-using-junit4\">this</a> but not working.</p>\n\n<p>How this will be possible? Here is my code:</p>\n\n<p><strong>MainActivity</strong></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        supportFragmentManager.beginTransaction().add(R.id.container, ListFragment()).commitAllowingStateLoss()\n    }\n}\n</code></pre>\n\n<p>Test Case for Main screen</p>\n\n<p><strong>MainActivityTest</strong></p>\n\n<pre><code>@RunWith(AndroidJUnit4::class)\nclass MainActivityTest {\n\n    @get: Rule\n    var signInActivityTestRule = ActivityTestRule(MainActivity::class.java)\n\n    private var signInActivity: MainActivity? = null\n\n    @Test\n    fun testEventFragment() {\n        signInActivity = signInActivityTestRule.activity\n        val container = signInActivity!!.findViewById&lt;FrameLayout&gt;(R.id.container)\n        Assert.assertNotNull(container)\n\n        val fragment: Fragment = ListFragment()\n        signInActivity!!.supportFragmentManager.beginTransaction().add(container.id, fragment).commitAllowingStateLoss()\n\n        getInstrumentation().waitForIdleSync()\n        val jUnitCore = JUnitCore()\n        val computer = Computer()\n        jUnitCore.run(computer, ListFragmentTest::class.java)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "coroutine"], "answers": [{"comments": [{"owner": {"reputation": 271, "user_id": 2286422, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AofIE.png?s=128&g=1", "display_name": "Myroslav Kolodii", "link": "https://stackoverflow.com/users/2286422/myroslav-kolodii"}, "edited": false, "score": 0, "creation_date": 1582365886, "post_id": 55507718, "comment_id": 106758627, "body": "How to do the same for multiplatform and/or Native?"}, {"owner": {"reputation": 193, "user_id": 3146806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2498e0da6ef85879de730f8f9651360d?s=128&d=identicon&r=PG&f=1", "display_name": "Reyhane Farshbaf", "link": "https://stackoverflow.com/users/3146806/reyhane-farshbaf"}, "edited": false, "score": 0, "creation_date": 1609915036, "post_id": 55507718, "comment_id": 115967324, "body": "Where is Vm Options? I used Android Studio 4.1.1 and in Run/Edit configuration..only found VmOptions inTemplates/kotlin. Is that the same you mean?"}], "tags": [], "owner": {"reputation": 2616, "user_id": 656390, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/To7xQ.jpg?s=128&g=1", "display_name": "aman.nepid", "link": "https://stackoverflow.com/users/656390/aman-nepid"}, "is_accepted": true, "score": 20, "last_activity_date": 1554351092, "creation_date": 1554351092, "answer_id": 55507718, "question_id": 54319799, "link": "https://stackoverflow.com/questions/54319799/how-to-get-the-name-of-a-coroutine-in-kotlin/55507718#55507718", "title": "How to get the name of a coroutine in Kotlin?", "body": "<p>If you are talking about logging the coroutine name: </p>\n\n<p>You can achieve this by </p>\n\n<ol>\n<li><p>Give name to coroutine(if you want custom name): <code>launch(CoroutineName(\"My-Coroutine\"))</code></p></li>\n<li><p>Enable the logging in IntelliJ toolbar menu: Run -> Edit Configuration and add </p></li>\n</ol>\n\n<p><code>-Dkotlinx.coroutines.debug</code> in VM options.</p>\n\n<p><a href=\"https://i.stack.imgur.com/PU603.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PU603.png\" alt=\"VM Option in Edit Configuration\"></a></p>\n\n<p>Then you can see <code>@My-Coroutine</code> in logcat.</p>\n\n<p>Try below code after Edit Configuration change:</p>\n\n<pre><code>fun main() = runBlocking {\nprintln(\"   'runBlocking': I'm working in thread ${Thread.currentThread().name}\")\n\nval job = launch(CoroutineName(\"my-custom-name\")) {\n    println(\"   'runBlocking': I'm working in thread ${Thread.currentThread().name}\")\n\n}\n\njob.join()}\n</code></pre>\n\n<p>Result: \n<a href=\"https://i.stack.imgur.com/qY7U1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qY7U1.png\" alt=\"Result\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 591, "user_id": 3188965, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90fc603dd1dfee98c9a9861dc990da0a?s=128&d=identicon&r=PG&f=1", "display_name": "shivam", "link": "https://stackoverflow.com/users/3188965/shivam"}, "is_accepted": false, "score": 1, "last_activity_date": 1589774086, "last_edit_date": 1589774086, "creation_date": 1589713054, "answer_id": 61850658, "question_id": 54319799, "link": "https://stackoverflow.com/questions/54319799/how-to-get-the-name-of-a-coroutine-in-kotlin/61850658#61850658", "title": "How to get the name of a coroutine in Kotlin?", "body": "<p>You can give name to coroutine using <code>CoroutineName(name:String)</code> method at the time of creating coroutine:</p>\n\n<pre><code>repeat(5) {\n            GlobalScope.launch(CoroutineName(\"$it\")) {\n                displayGreetingsFor(it)\n            }\n        }\n</code></pre>\n\n<p>To retrive the name given to coroutine use <code>coroutineContext[CoroutineName.Key]</code> as shown below:</p>\n\n<pre><code>private suspend fun displayGreetingsFor(i: Int) {\n        delay(100)\n        println(\n            \" ${coroutineContext[CoroutineName.Key]} is executing on thread : ${Thread.currentThread().name}\"\n        )\n    }\n</code></pre>\n\n<p>This is will print following o/p on console: </p>\n\n<pre><code>CoroutineName(0) is executing on thread : DefaultDispatcher-worker-3\nCoroutineName(1) is executing on thread : DefaultDispatcher-worker-2\nCoroutineName(2) is executing on thread : DefaultDispatcher-worker-8\nCoroutineName(3) is executing on thread : DefaultDispatcher-worker-6\nCoroutineName(4) is executing on thread : DefaultDispatcher-worker-5\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "is_accepted": false, "score": 2, "last_activity_date": 1600484772, "creation_date": 1600484772, "answer_id": 63964899, "question_id": 54319799, "link": "https://stackoverflow.com/questions/54319799/how-to-get-the-name-of-a-coroutine-in-kotlin/63964899#63964899", "title": "How to get the name of a coroutine in Kotlin?", "body": "<p>The other answers don't answer the question directly &quot;<em>How to get the name of a coroutine in Kotlin?</em>&quot;; instead, they suggest how to name a coroutine.</p>\n<p>If inside a coroutine, the name can be retrieved using <code>currentCoroutineContext()[CoroutineName]</code>.</p>\n<p>If outside a coroutine, there's no direct way to retrieve the name using a reference to a <code>Job</code> or <code>Deferred</code> (too bad). However, there's a reflection hack that can be used. Of course, the usual warnings come attached, which are, no type safety and hacking into internal APIs that may change anytime.</p>\n<pre><code>@Suppress(&quot;UNCHECKED_CAST&quot;)\nval nameString = AbstractCoroutine::class.memberFunctions\n    .single { it.name == &quot;nameString&quot; } as Function1&lt;AbstractCoroutine&lt;*&gt;, String&gt;\nval name = nameString(job as AbstractCoroutine&lt;*&gt;)\n    .replace(&quot;\\&quot;&quot;, &quot;&quot;)\n    .takeWhile { it != '#' }\n</code></pre>\n<p>The method/function containing this code has to be marked with <code>@InternalCoroutinesApi</code>.</p>\n"}], "owner": {"reputation": 1010, "user_id": 4083142, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yWH3Y.jpg?s=128&g=1", "display_name": "Sharan", "link": "https://stackoverflow.com/users/4083142/sharan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4639, "favorite_count": 1, "accepted_answer_id": 55507718, "answer_count": 3, "score": 13, "last_activity_date": 1600484772, "creation_date": 1548215696, "last_edit_date": 1548216128, "question_id": 54319799, "link": "https://stackoverflow.com/questions/54319799/how-to-get-the-name-of-a-coroutine-in-kotlin", "title": "How to get the name of a coroutine in Kotlin?", "body": "<p>I'm curious about the internal working of a coroutine when <code>suspended</code> on the main thread. The real question is how to log a <code>suspended</code> function which is a coroutine on the main thread. Where exactly the execution is taking place? Is it a virtual thread?</p>\n"}, {"tags": ["gradle", "kotlin", "nexus", "sonatype", "multiplatform"], "comments": [{"owner": {"reputation": 398, "user_id": 8302395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VJPLo.jpg?s=128&g=1", "display_name": "Roland van der Linden", "link": "https://stackoverflow.com/users/8302395/roland-van-der-linden"}, "edited": false, "score": 0, "creation_date": 1579866382, "post_id": 54318156, "comment_id": 105919238, "body": "Did you find out how to publish a kotlin multiplatform projects&#39; artifacts to Nexus?"}], "owner": {"reputation": 315, "user_id": 8083993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1c2341f1e936f5bd926488a418d75ed?s=128&d=identicon&r=PG", "display_name": "gloc.mike", "link": "https://stackoverflow.com/users/8083993/gloc-mike"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 387, "favorite_count": 0, "answer_count": 0, "score": 11, "last_activity_date": 1613728342, "creation_date": 1548201377, "last_edit_date": 1548306069, "question_id": 54318156, "link": "https://stackoverflow.com/questions/54318156/kotlin-multiplatform-library-project-upload-issue-pom-multiple-artifacts", "title": "Kotlin Multiplatform Library Project Upload Issue - POM Multiple Artifacts", "body": "<p>We have a Kotlin multi-platform library project with a build script which builds for various platforms, i.e. common, JS &amp; JVM, using the \"old-style\" sub-project structure and processes. Under this system, the artifacts produced can be successfully uploaded to our Sonatype Nexus repo (the root build.gradle is included below (1)).</p>\n\n<p>We are now trying to convert to the \"new-style\" Kotlin multi-platform approach/structure (<a href=\"https://kotlinlang.org/docs/reference/building-mpp-with-gradle.html#setting-up-a-multiplatform-project\" rel=\"noreferrer\">Building Multiplatform Projects with Gradle</a>), but we are getting the following error when we try to upload the artifacts to the repo (the modified root build.gradle included below (2)):</p>\n\n<pre><code>BUILD FAILED in 0s\n8 actionable tasks: 1 executed, 7 up-to-date\nA POM cannot have multiple artifacts with the same type and classifier. Already have MavenArtifact objjson-metadata:jar.asc:asc:null, trying to add MavenArtifact objjson-metadata:jar.asc:asc:null.\n10:36:52: Task execution finished 'uploadArchives'.\n</code></pre>\n\n<p>Does anyone know why we get this error?</p>\n\n<p>The settings for each artifact created during the build seem to need to be updated in the script, but we are not sure how to do that.</p>\n\n<p>Thanks in advance!</p>\n\n<p>(1) Original (\"old-style\" multi-platform) root build.gradle:</p>\n\n<pre><code>buildscript {\n    ext.kotlinVersion = '1.2.61'\n\n    repositories {\n        jcenter()\n        mavenCentral()\n        maven { url \"https://plugins.gradle.org/m2/\" }\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\"\n        classpath 'com.bmuschko:gradle-nexus-plugin:2.3.1'\n    }\n}\n\nplugins {\n    id 'io.codearte.nexus-staging' version '0.11.0'\n}\n\nallprojects {\n    group 'nz.salect.objJSON'\n    version '0.24-SNAPSHOT'\n}\n\next {\n    libraries = [\n            kotlin_stdlib                 : \"org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion\",\n            kotlin_stdlib_common          : \"org.jetbrains.kotlin:kotlin-stdlib-common:$kotlinVersion\",\n            kotlin_stdlib_js              : \"org.jetbrains.kotlin:kotlin-stdlib-js:$kotlinVersion\",\n\n            kotlin_reflect_lib            : \"org.jetbrains.kotlin:kotlin-reflect:$kotlinVersion\",\n\n            kotlin_test                   : \"org.jetbrains.kotlin:kotlin-test:$kotlinVersion\",\n            kotlin_test_common            : \"org.jetbrains.kotlin:kotlin-test-common:$kotlinVersion\",\n            kotlin_test_js                : \"org.jetbrains.kotlin:kotlin-test-js:$kotlinVersion\",\n            kotlin_test_annotations_common: \"org.jetbrains.kotlin:kotlin-test-annotations-common:$kotlinVersion\",\n\n            kotlin_test_junit             : \"org.jetbrains.kotlin:kotlin-test-junit:$kotlinVersion\",\n    ]\n}\n\nsubprojects {\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n\n    //Nexus/Maven upload settings\n    apply plugin: 'com.bmuschko.nexus'\n\n    modifyPom {\n        project {\n            name 'objJSON'\n            description 'A JSON serialization library fully implemented in Kotlin.'\n            url 'https://bitbucket.org/objdict/objjson'\n            inceptionYear '2016'\n\n            scm {\n                url 'https://bitbucket.org/objdict/objjson'\n                connection 'scm:https://bitbucket.org/objdict/objjson.git'\n                developerConnection 'scm:git://bitbucket.org/objdict/objjson.git'\n            }\n\n            licenses {\n                license {\n                    name 'The Apache Software License, Version 2.0'\n                    url 'http://www.apache.org/licenses/LICENSE-2.0.txt'\n                    distribution 'repo'\n                }\n            }\n\n            developers {\n                developer {\n                    id 'xxx'\n                    name 'xxx'\n                    email 'xxx'\n                }\n            }\n        }\n    }\n\n    extraArchive {\n        sources = true\n        tests = true\n        javadoc = true\n    }\n\n    nexus {\n        sign = true\n        repositoryUrl = 'https://oss.sonatype.org/service/local/staging/deploy/maven2/'\n        snapshotRepositoryUrl = 'https://oss.sonatype.org/content/repositories/snapshots/'\n    }\n    //End Nexus/Maven upload settings\n}\n\n\nnexusStaging {\n    packageGroup = \"nz.salect\"\n}\n</code></pre>\n\n<p>(2) Updated (\"new-style\" multi-platform) root build.gradle:</p>\n\n<pre><code>buildscript {\n    ext.kotlinVersion = \"1.3.11\"\n\n    repositories {\n        jcenter()\n        mavenCentral()\n        maven { url \"https://plugins.gradle.org/m2/\" }\n    }\n\n    dependencies {\n        classpath(\"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion\")\n        classpath(\"com.bmuschko:gradle-nexus-plugin:2.3.1\")\n    }\n}\n\nplugins {\n    // from the multiplatform reference file\n    id \"kotlin-multiplatform\" version \"1.3.11\"\n\n    id \"maven-publish\"\n    id \"io.codearte.nexus-staging\" version \"0.11.0\"\n    //Nexus/Maven upload settings\n    //id \"bmuschko.nexus\"\n}\n    //Nexus/Maven upload settings\n    apply plugin: \"com.bmuschko.nexus\"\n\n\n//ext { - all moved to buildSrc\n//    libraries = [\n//            kotlin_stdlib: \"org.jetbrains.kotlin:kotlin-stdlib:$kotlinVersion\",\n//            kotlin_stdlib_common: \"org.jetbrains.kotlin:kotlin-stdlib-common:$kotlinVersion\",\n//            kotlin_stdlib_js: \"org.jetbrains.kotlin:kotlin-stdlib-js:$kotlinVersion\",\n//\n//            kotlin_reflect_lib: \"org.jetbrains.kotlin:kotlin-reflect:$kotlinVersion\",\n//\n//            kotlin_test: \"org.jetbrains.kotlin:kotlin-test:$kotlinVersion\",\n//            kotlin_test_common: \"org.jetbrains.kotlin:kotlin-test-common:$kotlinVersion\",\n//            kotlin_test_js: \"org.jetbrains.kotlin:kotlin-test-js:$kotlinVersion\",\n//            kotlin_test_annotations_common: \"org.jetbrains.kotlin:kotlin-test-annotations-common:$kotlinVersion\",\n//\n//            kotlin_test_junit: \"org.jetbrains.kotlin:kotlin-test-junit:$kotlinVersion\",\n//    ]\n//}\n\nallprojects {\n    group \"nz.salect.objJSON\"\n    version Share.version\n\n    repositories {\n        jcenter()\n        mavenCentral()\n    }\n\n    modifyPom {\n        project {\n            name \"objJSON\"\n            description \"A JSON serialization library fully implemented in Kotlin.\"\n            url \"https://bitbucket.org/objdict/objjson\"\n            inceptionYear \"2016\"\n\n            scm {\n                url \"https://bitbucket.org/objdict/objjson\"\n                connection \"scm:https://bitbucket.org/objdict/objjson.git\"\n                developerConnection \"scm:git://bitbucket.org/objdict/objjson.git\"\n            }\n\n            licenses {\n                license {\n                    name \"The Apache Software License, Version 2.0\"\n                    url \"http://www.apache.org/licenses/LICENSE-2.0.txt\"\n                    distribution \"repo\"\n                }\n            }\n\n            developers {\n                developer {\n                    id \"xxx\"\n                    name \"xxx\"\n                    email \"xxx\"\n                }\n            }\n        }\n    }\n\n    extraArchive {\n        sources = true\n        tests = true\n        javadoc = true\n    }\n\n    nexus {\n        sign = true\n        repositoryUrl = \"https://oss.sonatype.org/service/local/staging/deploy/maven2/\"\n        snapshotRepositoryUrl = \"https://oss.sonatype.org/content/repositories/snapshots/\"\n    }\n    //End Nexus/Maven upload settings\n}\n\nnexusStaging {\n    packageGroup = \"nz.salect\"\n}\n\nrepositories {\n    mavenCentral()\n}\n\n\nkotlin {\n    targets {\n        fromPreset(presets.jvm, \"jvm\") {\n            mavenPublication {\n                artifactId = \"objjson-jvm\"\n            }\n        }\n        fromPreset(presets.js, \"js\") {\n            mavenPublication {\n                artifactId = \"objjson-js\"\n            }\n        }\n        // For ARM, preset should be changed to presets.iosArm32 or presets.iosArm64\n        // For Linux, preset should be changed to e.g. presets.linuxX64\n        // For MacOS, preset should be changed to e.g. presets.macosX64\n        //fromPreset(presets.mingwX64, \"mingw\")\n    }\n    sourceSets {\n        commonMain {\n            dependencies {\n                implementation(\"$Libraries.kotlin_stdlib_common\")\n                implementation(\"$Libraries.kotlin_reflect_lib\")\n            }\n        }\n        commonTest {\n            dependencies {\n                implementation(\"$Libraries.kotlin_test_common\")\n                implementation(\"$Libraries.kotlin_test_annotations_common\")\n            }\n        }\n        jvmMain {\n            dependencies {\n                implementation(\"$Libraries.kotlin_stdlib\")\n                implementation(\"$Libraries.kotlin_reflect_lib\")\n            }\n        }\n        jvmTest {\n            dependencies {\n                implementation(\"$Libraries.kotlin_test\")\n                implementation(\"$Libraries.kotlin_test_junit\")\n            }\n        }\n        jsMain {\n            dependencies {\n                implementation(\"$Libraries.kotlin_stdlib_js\")\n            }\n        }\n        jsTest {\n            dependencies {\n                implementation(\"$Libraries.kotlin_test_js\")\n            }\n        }\n        mingwMain {\n        }\n        mingwTest {\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["lambda", "kotlin", "receiver"], "comments": [{"owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "edited": false, "score": 1, "creation_date": 1548200766, "post_id": 54317841, "comment_id": 95455942, "body": "I think it&#39;s because dec() is an operator that returns the value but does not change the object itself."}], "answers": [{"tags": [], "owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "is_accepted": false, "score": 1, "last_activity_date": 1548202313, "creation_date": 1548202313, "answer_id": 54318275, "question_id": 54317841, "link": "https://stackoverflow.com/questions/54317841/function-literal-with-receiver-in-kotlin/54318275#54318275", "title": "Function literal with receiver in Kotlin", "body": "<p>I think it is because dec() is an operator and does not modify the the underlying value.\nFor example you you run this code,  you should see that i never changes, note the use of val not var,  in your example Idea should be giving you a hint.\nIf you wrap the Int in a class you can see how the function with a receiver works.</p>\n\n<pre><code>data class Foo(var i:Int) {\n    fun dec() {\n        i = i.dec()\n    }\n}\n\n\nfun summer(block: Foo.() -&gt; Unit): Foo{\n    val myint = Foo(5)\n    myint.block()\n    return myint\n\n\n}\n\nfun main(args: Array&lt;String&gt;) {\n\n    val i = 42\n    println(\"i = $i\")  // i = 42\n    val j = i.dec()   \n    println(\"j = $j\")  // i = 41\n    println(\"i = $i\")  // i = 42\n\n    val x = summer {\n        dec()\n        dec()\n    }\n    println(x)  // Foo(i=3)\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 1, "last_activity_date": 1548224172, "creation_date": 1548224172, "answer_id": 54321046, "question_id": 54317841, "link": "https://stackoverflow.com/questions/54317841/function-literal-with-receiver-in-kotlin/54321046#54321046", "title": "Function literal with receiver in Kotlin", "body": "<p>You can find the explanation in the documentation about <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html#increments-and-decrements\" rel=\"nofollow noreferrer\">operators</a>:</p>\n\n<blockquote>\n  <p>The <code>inc()</code> and <code>dec()</code> functions must return a value, which will be assigned to the variable on which the <code>++</code> or <code>--</code> operation was used. They shouldn't mutate the object on which the <code>inc</code> or <code>dec</code> was invoked.</p>\n</blockquote>\n\n<p>So essentially, calls using the operators like this:</p>\n\n<pre><code>x++\ny--\n</code></pre>\n\n<p>Would be translated to this in terms of the <code>inc</code>/<code>dec</code> functions:</p>\n\n<pre><code>x = x.inc()\ny = y.dec()\n</code></pre>\n\n<hr>\n\n<p>Bonus finding: using intention actions on these functions or operators lets you convert between the two forms, but does so erroneously (changes behavior, might even break compilation). There's an issue open for this here.</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 2, "last_activity_date": 1548232060, "creation_date": 1548232060, "answer_id": 54322882, "question_id": 54317841, "link": "https://stackoverflow.com/questions/54317841/function-literal-with-receiver-in-kotlin/54322882#54322882", "title": "Function literal with receiver in Kotlin", "body": "<p><code>inc()</code> and <code>dec()</code> do not mutate the object they are invoked on. Instead they return a mutated copy of the object:</p>\n\n<p>Does not work:</p>\n\n<pre><code>var a = 5\na.inc()\nprintln(a) // 5\n</code></pre>\n\n<p>Works:</p>\n\n<pre><code>var a = 5\na = a.inc()\nprintln(a) // 6\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 2, "last_activity_date": 1548234013, "last_edit_date": 1548234013, "creation_date": 1548233689, "answer_id": 54323322, "question_id": 54317841, "link": "https://stackoverflow.com/questions/54317841/function-literal-with-receiver-in-kotlin/54323322#54323322", "title": "Function literal with receiver in Kotlin", "body": "<p>Author of this article here. Your <code>summer</code> function's <code>block</code> function does not return anything, you should change the type to <code>block: Int.() -&gt; Int</code> and then return its response:</p>\n\n<pre><code>fun summer(block: Int.() -&gt; Int): Int {\n    val myint = 5\n    return myint.block()\n}\n</code></pre>\n\n<p>Now, your printed integer would be <code>4</code>, because the last <code>dec()</code> will become the result of the passed lambda. To fix this, you could chain both <code>dec</code> calls:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val mint = summer {\n        dec().dec()\n    }\n    println(mint)\n}\n</code></pre>\n\n<p>Finally, <code>5</code> will be decremented twice resulting in <code>3</code>.  </p>\n\n<p>If, on the other hand, you had some arbitrary object that is being mutated by a <code>dec</code> function, your approach would work like this: </p>\n\n<pre><code>class Ref(var v: Int) {\n    fun dec() {\n        v -= 1\n    }\n}\n\nfun summer(block: Ref.() -&gt; Unit): Int {\n    val ref = Ref(5).apply(block)\n    return ref.v\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val mint = summer {\n        dec()\n        dec()\n    }\n    println(mint)\n} \n</code></pre>\n"}], "owner": {"reputation": 557, "user_id": 904296, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/9e85f04784de6af2050b7cd131b8a108?s=128&d=identicon&r=PG", "display_name": "grooble", "link": "https://stackoverflow.com/users/904296/grooble"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "accepted_answer_id": 54323322, "answer_count": 4, "score": 0, "last_activity_date": 1548234013, "creation_date": 1548198985, "question_id": 54317841, "link": "https://stackoverflow.com/questions/54317841/function-literal-with-receiver-in-kotlin", "title": "Function literal with receiver in Kotlin", "body": "<p>I'm trying a function literal with receiver example in kotlin, based on this tutorial:\n<a href=\"https://kotlinexpertise.com/coping-with-kotlins-scope-functions/\" rel=\"nofollow noreferrer\">https://kotlinexpertise.com/coping-with-kotlins-scope-functions/</a></p>\n\n<p>I'm expecting to get 3 back from the code below, but it seems the Int method dec() isn't executed or the \"mint\" variable isn't updated.</p>\n\n<pre><code>fun summer(block: Int.() -&gt; Unit): Int{\n     var myint = 5\n    myint.block()\n    return myint\n    }\nfun main(args: Array&lt;String&gt;) {\n    var mint = summer{\n        dec()\n        dec()\n     }\n    println(mint)\n}\n</code></pre>\n\n<p>The output here is '5'.</p>\n\n<p>Can anyone offer some suggestions about how to get this \"simple\" example working?</p>\n"}, {"tags": ["android", "kotlin", "calendar", "alarmmanager"], "comments": [{"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1548196723, "post_id": 54317314, "comment_id": 95454775, "body": "<code>setExactAndAllowWhileIdle()</code> will only fire once. In fact, any <code>set*()</code> method without <code>Repeating</code> in the name will only fire once. The date/time on your <code>Calendar</code> has no effect on that."}, {"owner": {"reputation": 280, "user_id": 3100979, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/BRubv.jpg?s=128&g=1", "display_name": "Glimpse", "link": "https://stackoverflow.com/users/3100979/glimpse"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1548197284, "post_id": 54317314, "comment_id": 95454954, "body": "Ok, thanks for your feedback. Any suggestions about this? In the documentation is is said: as of API 19, all repeating alarms are inexact. This means it won&#39;t fire the alarm at exact time, especially when device is in Doze mode. @MikeM."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 1, "creation_date": 1548198545, "post_id": 54317314, "comment_id": 95455341, "body": "Yep, that&#39;s correct. I&#39;m not quite sure what you&#39;re asking, but if you mean, how do you get repeating, exact alarms, you set the first one, and then when that fires, set the next one, and do so for each subsequent alarm until you need to stop."}, {"owner": {"reputation": 280, "user_id": 3100979, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/BRubv.jpg?s=128&g=1", "display_name": "Glimpse", "link": "https://stackoverflow.com/users/3100979/glimpse"}, "reply_to_user": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1548198792, "post_id": 54317314, "comment_id": 95455420, "body": "Yeah, I already tried that one but I thought it wasn&#39;t that good solution."}, {"owner": {"reputation": 35715, "user_id": 2850651, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ooWVw.jpg?s=128&g=1", "display_name": "Mike M.", "link": "https://stackoverflow.com/users/2850651/mike-m"}, "edited": false, "score": 0, "creation_date": 1548198942, "post_id": 54317314, "comment_id": 95455456, "body": "Nah, that&#39;s perfectly fine."}], "owner": {"reputation": 280, "user_id": 3100979, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/BRubv.jpg?s=128&g=1", "display_name": "Glimpse", "link": "https://stackoverflow.com/users/3100979/glimpse"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548195624, "creation_date": 1548195624, "question_id": 54317314, "link": "https://stackoverflow.com/questions/54317314/android-multiple-alarms-via-alarmmanager-and-calendar-day-of-week", "title": "Android multiple alarms via AlarmManager and Calendar.DAY_OF_WEEK", "body": "<p>I am developing alarm application where user can create alarm for a certain time of the day + it is possible to choose days of a week for repeating the alarm.</p>\n\n<p>At first, I tried using following code (but it was inaccurate, and alarm would sometimes fire 3-4 minutes later):</p>\n\n<pre><code>alarmManager.setRepeating(\n        AlarmManager.RTC_WAKEUP,\n        calendar.timeInMillis,\n        AlarmManager.INTERVAL_DAY,\n        alarmIntent)\n</code></pre>\n\n<p>Now I am using following code (and it is precise, but it works one time only):</p>\n\n<pre><code>val calendar: Calendar = Calendar.getInstance().apply {\n    set(Calendar.HOUR_OF_DAY, alarm.hour)\n    set(Calendar.MINUTE, alarm.minute)\n    set(Calendar.SECOND, 0)\n    set(Calendar.MILLISECOND, 0)\n}\nalarmManager.setExactAndAllowWhileIdle(\n        AlarmManager.RTC_WAKEUP,\n        calendar.timeInMillis,\n        alarmIntent)\n</code></pre>\n\n<p>Now I am wondering what behaviour could I expect if I put <code>set(Calendar.DAY_OF_WEEK, dayOfWeek)</code> in the code above (inside Calendar.apply).</p>\n\n<p>Use case: \nUser selects Monday and Thursday for firing alarm at 10am. </p>\n\n<p><strong>My question:</strong> Is it going to fire the alarm every Monday and Thursday at 10am (unless it is canceled) for every following Week or it's just going to fire alarm for current week? </p>\n\n<p>P.S. I am asking because, maybe, someone has experience with this and I don't want to spend 2-3 weeks just testing this use case.</p>\n"}, {"tags": ["java", "android", "kotlin", "android-recyclerview", "bottom-sheet"], "comments": [{"owner": {"reputation": 12400, "user_id": 9851608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/480f6b25cbf801d5dbdf465d47a46772?s=128&d=identicon&r=PG&f=1", "display_name": "Zain", "link": "https://stackoverflow.com/users/9851608/zain"}, "edited": false, "score": 0, "creation_date": 1586822298, "post_id": 54317051, "comment_id": 108264391, "body": "wish <a href=\"https://stackoverflow.com/questions/61198221/how-to-settext-button-in-bottom-sheet-dialog-fragment/61198602#61198602\">this answer</a> can address your question to get the underlying views of the <code>BottomSheet</code>"}], "answers": [{"comments": [{"owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "edited": false, "score": 0, "creation_date": 1548271473, "post_id": 54319425, "comment_id": 95486127, "body": "bottomSheet.view? unfortunately returned null"}, {"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "reply_to_user": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "edited": false, "score": 0, "creation_date": 1548385491, "post_id": 54319425, "comment_id": 95531386, "body": "edited the answer with executePendingTransactions call. Hopefully Should work. @PhilBlais"}], "tags": [], "owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "is_accepted": false, "score": 0, "last_activity_date": 1548385435, "last_edit_date": 1548385435, "creation_date": 1548212365, "answer_id": 54319425, "question_id": 54317051, "link": "https://stackoverflow.com/questions/54317051/getting-views-inside-bottomsheetdialogfragment-from-a-recyclerview-adapter/54319425#54319425", "title": "Getting views inside BottomSheetDialogFragment from a RecyclerView adapter", "body": "<p>BottomSheet view should be accessible by <strong><em>getView()</em></strong> method</p>\n\n<pre><code>override fun onBindViewHolder(holder: SavesAdapterHolder, position: Int) {\n    val bottomSheet: BottomSheetDialogFragment = mBottomSheet()\n    bottomSheet.setStyle(DialogFragment.STYLE_NORMAL, R.style.BottomDialogTheme)\n    val myActivity = (context as FragmentActivity).supportFragmentManager\n    holder.openButton.setOnClickListener {\n        bottomSheet.show(myActivity, \"bottomSheet $position\")\n\n       // execute the commited transaction before trying to access the view\n        myActivity.executePendingTransactions()\n\n      // accessing button view\n        bottomSheet.view?.findViewById(\"*your_btn_id*\").setOnClickListener{\n             //you can remove item here and notify data set\n        }\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 782, "user_id": 1797622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dDGqY.jpg?s=128&g=1", "display_name": "PhilBlais", "link": "https://stackoverflow.com/users/1797622/philblais"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 626, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548385435, "creation_date": 1548194225, "last_edit_date": 1548210575, "question_id": 54317051, "link": "https://stackoverflow.com/questions/54317051/getting-views-inside-bottomsheetdialogfragment-from-a-recyclerview-adapter", "title": "Getting views inside BottomSheetDialogFragment from a RecyclerView adapter", "body": "<p>I have a <code>RecyclerView</code>. Each cell of this <code>RecyclerView</code> view have a button that calls forth a <code>BottomSheetDialogFragment</code> from within an <code>Adapter</code>.</p>\n\n<p>The bottom sheet does show up and dismiss correctly when calling it from my <code>Adapter</code></p>\n\n<p>I would like to be able to delete a cell by tapping a button inside my <code>BottomSheetDialogFragment</code>.</p>\n\n<p>Here is my button inside my <code>BottomSheetDialogFragment</code> class</p>\n\n<pre><code>    &lt;Button\n        android:id=\"@+id/deleteBtn\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Delete\" /&gt;\n</code></pre>\n\n<p>and here is my <code>onBindViewHolder()</code> where I can't find a way to access the deleteBtn from the <code>BottomSheetDialogFragment</code> so I can proceed with deleting my cell</p>\n\n<pre><code>override fun onBindViewHolder(holder: SavesAdapterHolder, position: Int) {\n    val bottomSheet: BottomSheetDialogFragment = mBottomSheet()\n    bottomSheet.setStyle(DialogFragment.STYLE_NORMAL, R.style.BottomDialogTheme)\n    val myActivity = (context as FragmentActivity).supportFragmentManager\n    holder.openButton.setOnClickListener {\n        bottomSheet.show(myActivity, \"bottomSheet $position\")\n\n    }\n}\n</code></pre>\n\n<p>Would anyone be kind enough to point me in the right direction on how to access my delete button from inside my <code>onBindViewHolder()</code></p>\n"}, {"tags": ["kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "edited": false, "score": 1, "creation_date": 1548192674, "post_id": 54316683, "comment_id": 95453378, "body": "Where do you use loadNewListener?"}, {"owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "reply_to_user": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "edited": false, "score": 0, "creation_date": 1548192800, "post_id": 54316683, "comment_id": 95453433, "body": "@Tuby for emits user clicks, but if i click rxJava not calling"}, {"owner": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "edited": false, "score": 0, "creation_date": 1548193565, "post_id": 54316683, "comment_id": 95453716, "body": "Looks ok to me, maybe you call id=0 and there is failure during service.get(&quot;data&quot;)."}, {"owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "reply_to_user": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "edited": false, "score": 0, "creation_date": 1548194215, "post_id": 54316683, "comment_id": 95453975, "body": "@Tuby no failed because. Other variant without combine single and flowable is full working"}, {"owner": {"reputation": 7666, "user_id": 1241193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0331e5e748a0ac3860b68f6cac130ef1?s=128&d=identicon&r=PG", "display_name": "Bob Dalgleish", "link": "https://stackoverflow.com/users/1241193/bob-dalgleish"}, "edited": false, "score": 0, "creation_date": 1548197335, "post_id": 54316683, "comment_id": 95454972, "body": "Can you strip your sample code down to a smaller version that exhibits the behavior? Currently, I am getting lost in the excess of details."}, {"owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "reply_to_user": {"reputation": 2788, "user_id": 4643073, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Rf9P0.jpg?s=128&g=1", "display_name": "Tuby", "link": "https://stackoverflow.com/users/4643073/tuby"}, "edited": false, "score": 0, "creation_date": 1548253358, "post_id": 54316683, "comment_id": 95476586, "body": "@Tuby ypu are right the problem was in loadNewListener. He did not  init in time and was null when need."}], "answers": [{"comments": [{"owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "edited": false, "score": 0, "creation_date": 1548253361, "post_id": 54323134, "comment_id": 95476592, "body": "You are right that code is workig. Problem was in loadNewListener. He does not became init in time and has null value when need."}], "tags": [], "owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "is_accepted": false, "score": 1, "last_activity_date": 1548253519, "last_edit_date": 1548253519, "creation_date": 1548232983, "answer_id": 54323134, "question_id": 54316683, "link": "https://stackoverflow.com/questions/54316683/single-with-flowable/54323134#54323134", "title": "Single with flowable?", "body": "<p>This simple example based on your code is working</p>\n\n<pre><code>var i = 0\nfun foo() {\n    Flowable.create&lt;Int&gt;({ emmit -&gt;\n        emmit.onNext(i)\n        i++\n    }, BackpressureStrategy.LATEST)\n            .debounce(500, TimeUnit.MILLISECONDS)\n            .flatMapSingle {\n                Single.create&lt;String&gt; { emmit -&gt;\n                    emmit.onSuccess(\"onSuccess: $it\")\n                }\n            }\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe({\n                Log.i(\"RX\", \"Subscribe: $it\")\n            }, {\n                it.printStackTrace()\n            })\n}\n</code></pre>\n\n<p>Check <code>SingleEmitter.onSuccess()</code> and <code>SingleEmitter.onError()</code> is called in all cases in <code>when (pdfType)...</code></p>\n"}, {"tags": [], "owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "is_accepted": true, "score": 0, "last_activity_date": 1548254220, "last_edit_date": 1548254220, "creation_date": 1548253860, "answer_id": 54329516, "question_id": 54316683, "link": "https://stackoverflow.com/questions/54316683/single-with-flowable/54329516#54329516", "title": "Single with flowable?", "body": "<p>As @Stas Bondar said in <a href=\"https://stackoverflow.com/a/54323134/6352712\">answer below</a> This simple example based on your code is working!!</p>\n\n<p>Problem was in loadNewListener . </p>\n\n<p>It does not init in time and has null value when need. Call create Flowable on init ViewModel but loadNewListener did not have time to create when i call him from fragment.</p>\n\n<blockquote>\n  <p>loadNewListener = object :Listener{...}</p>\n</blockquote>\n\n<p>Becuse need some time mutch for init rxJava expression! </p>\n\n<p>And combine flowable with single via flatMapSingle spent more time than just call single on flowable dubscrinbe!</p>\n\n<p>So use temp field: </p>\n\n<pre><code>     private var temp: Temp? = null\n\n        fun load(id: Int) {\n\n loadNewListener.apply {\n\n                when {\n                    this != null -&gt; load(id = id)\n\n                    else -&gt; userEmitPdfTemp = Temp(id = id)\n                }\n            }\n        }\n\n\n\n\n Flowable.create&lt;Data&gt;({ emmit -&gt;\n\n                    userEmitPdfTemp?.let {id-&gt;\n\n                        emmit.onNext(Data(id))\n                        userEmitPdfTemp =null\n\n                    }\n\n                    loadNewListener = object :Listener {\n                        override fun load(id: Int) {\n\n                            emmit.onNext(Data(id))\n\n                        }\n                    }\n\n                }\n</code></pre>\n"}], "owner": {"reputation": 1856, "user_id": 6352712, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/83NBP.jpg?s=128&g=1", "display_name": "Serg Burlaka", "link": "https://stackoverflow.com/users/6352712/serg-burlaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 413, "favorite_count": 0, "accepted_answer_id": 54329516, "answer_count": 2, "score": 0, "last_activity_date": 1548405259, "creation_date": 1548192422, "last_edit_date": 1548405259, "question_id": 54316683, "link": "https://stackoverflow.com/questions/54316683/single-with-flowable", "title": "Single with flowable?", "body": "<p>Try in rxJava2 Kotlin combine Single with Flowable but nothing not happening:\nDoes not undrstand what wrong</p>\n\n<pre><code>  Flowable.create&lt;Int&gt;({ emmit -&gt;\n\n            loadNewListener = object :Listener {\n                override fun onEmit(id: Int) {\n                    emmit.onNext(id)\n                }\n            }\n        }, BackpressureStrategy.LATEST)\n                .debounce(500, TimeUnit.MILLISECONDS)\n                .flatMapSingle {\n                    loadNew(id = it.id)\n                }\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe({ (data:Data) -&gt;\n\n                }, {\n\n                    Timber.e(\"Failed load data ${it.message}\")\n                })\n</code></pre>\n\n<p>my method is returning Single:</p>\n\n<pre><code>private fun loadNew(id: Int): Single&lt;Data&gt; {\n\n            return when (pdfType) {\n\n                CASE_0 -&gt; {\n\n                    Single.create&lt;Data&gt; { emmit -&gt;\n\n             service.get(\"data\")\n                    .enqueue(\n                    object : Callback&lt;Void&gt; {\n                         override fun onFailure(call: Call&lt;Void&gt;?, t: Throwable?) {\n                            // failure\n                        }\n\n                          override fun onResponse(call: Call&lt;Void&gt;?, response:  Response&lt;Void&gt;?) {\n                 emmit.onSuccess(it.data)\n            }\n                        }\n                    }//single\n                }//case_0\n\n\n                CASE_1 -&gt; 1Repository.loadsome1Rx(id = id).map { it.getData() }\n\n                CASE_2 -&gt; 2Repository.loadsom2LocalRx(id = id).map { it.getData() }\n\n                else -&gt; {\n                    throw java.lang.RuntimeException(\"$this is not available type!\")\n                }\n            }\n</code></pre>\n\n<p>What is wrong im my code?\nNeed Maby call Single in Flowable subscribe() seppurate\nlike this? </p>\n\n<pre><code>Flowable.create&lt;Int&gt;({ emmit -&gt;\n        loadNewListener = object :Listener {\n            override fun onEmit(id: Int) {\n                emmit.onNext(id)\n            }\n        }\n    }, BackpressureStrategy.LATEST)\n            .debounce(500, TimeUnit.MILLISECONDS)\n\n          .subscribe({\n              loadNew(id = it.id)\n\n          }, {\n              Timber.e(\"\")\n          })\n</code></pre>\n\n<p>This code is workin but looks not simple as via combine try.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1548189115, "post_id": 54316005, "comment_id": 95451905, "body": "why <code>val listViewType: List&lt;Int&gt;</code>? that should be <code>viewType: Int</code>."}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "reply_to_user": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1548189254, "post_id": 54316005, "comment_id": 95451964, "body": "@MartinZeitler I was following <a href=\"https://github.com/CoderJava/Multiple-View-Type-RecyclerView-Kotlin-Android/tree/master/app/src/main/java/com/ysn/multipleviewtypeexample\" rel=\"nofollow noreferrer\">this tutorial</a>"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 0, "creation_date": 1548189661, "post_id": 54316005, "comment_id": 95452121, "body": "this one appears rather likely: <a href=\"https://antonioleiva.com/recyclerview-adapter-kotlin/\" rel=\"nofollow noreferrer\">antonioleiva.com/recyclerview-adapter-kotlin</a>"}, {"owner": {"reputation": 522, "user_id": 3915258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f624492f084b98a58751a58b74ba4191?s=128&d=identicon&r=PG&f=1", "display_name": "skryshtafovych", "link": "https://stackoverflow.com/users/3915258/skryshtafovych"}, "edited": false, "score": 0, "creation_date": 1548192146, "post_id": 54316005, "comment_id": 95453174, "body": "Why not just store it As JSON this way you can have a custom Model in your JSON,... that your receiving class knows how to deal with. Simply order your JSON by keys or something else and you have your complex object in a JSON array or Object array ."}, {"owner": {"reputation": 1037, "user_id": 3243275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IWlSJ.jpg?s=128&g=1", "display_name": "Jason Grife", "link": "https://stackoverflow.com/users/3243275/jason-grife"}, "edited": false, "score": 0, "creation_date": 1548203179, "post_id": 54316005, "comment_id": 95456585, "body": "Don&#39;t use <a href=\"https://github.com/CoderJava/Multiple-View-Type-RecyclerView-Kotlin-Android/tree/master/app/src/main/java/com/ysn/multipleviewtypeexample\" rel=\"nofollow noreferrer\">that tutorial</a>, try one like <a href=\"https://medium.com/@paulnunezm/working-with-recyclerview-and-multiple-view-types-bb1e7dfc6993\" rel=\"nofollow noreferrer\">this one</a>. I think it better explains how <code>ItemViewType</code> is utilized by an <code>Adapter</code>."}], "answers": [{"comments": [{"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1548190212, "post_id": 54316191, "comment_id": 95452349, "body": "Is <code>SomeArrayAdapter</code> supposed to be <code>BaseArrayAdapter</code>"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1548190305, "post_id": 54316191, "comment_id": 95452390, "body": "@MacaronLover yes, it&#39;s just <code>abstract class</code>, because (I&#39;m lazy) it makes it easy to create whatever string-array adapter class, where only the name of the string resources varies."}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1548190553, "post_id": 54316191, "comment_id": 95452496, "body": "@MacaronLover please stop editing my answers; one cannot instance abstract class."}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1548190788, "post_id": 54316191, "comment_id": 95452596, "body": "Is <code>SpinnerItem</code> like my <code>MyItem</code> data class?"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1548191016, "post_id": 54316191, "comment_id": 95452699, "body": "probably alike <code>RVAdapterTConnections</code>."}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1548191266, "post_id": 54316191, "comment_id": 95452800, "body": "I&#39;m not using a spinner for my items + why would I need to &#39;clear my items&#39;?"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1548191392, "post_id": 54316191, "comment_id": 95452849, "body": "@MacaronLover this claim is pointless, because the presentation layer doesn&#39;t matter; just alike it doesn&#39;t matter if you&#39;d ever call the method; that&#39;s completely out of scope of this question."}, {"owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1548191457, "post_id": 54316191, "comment_id": 95452888, "body": "well in your answer you used a <code>clearItems</code> method so I was wondering why it was used"}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "reply_to_user": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "edited": false, "score": 0, "creation_date": 1548191778, "post_id": 54316191, "comment_id": 95453014, "body": "@MacaronLover well, when adding new items and not wanting to keep the previous ones... this method comes handy. this is not for setting the items, but for changing the items."}], "tags": [], "owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "is_accepted": false, "score": 0, "last_activity_date": 1548192207, "last_edit_date": 1548192207, "creation_date": 1548189957, "answer_id": 54316191, "question_id": 54316005, "link": "https://stackoverflow.com/questions/54316005/how-to-obtain-external-array-values-for-recyclerview-adapter/54316191#54316191", "title": "How to obtain external array values for RecyclerView adapter", "body": "<p>the view-type ordinary can be derived from the data model, most commonly from some type of <code>groupId</code>. these <code>titlesList</code> and <code>subtitlesList</code> need to be replaced; use <code>BaseAdapter</code> to populate the <code>RecyclerView.Adapter</code>. for example (it loads string resources, where <code>SpinnerItem</code> is a simple data model):</p>\n\n<pre><code>abstract class BaseArrayAdapter : BaseAdapter {\n\n    private var mItems: ArrayList&lt;SpinnerItem&gt;? = null\n\n    private var layoutInflater: LayoutInflater? = null\n\n    internal constructor(@NonNull context: Context) {\n        this.layoutInflater = context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n    }\n\n    internal constructor(@NonNull context: Context, @NonNull @ArrayRes arrayKeys: Int, @NonNull @ArrayRes arrayValues: Int) {\n        this.layoutInflater = context.getSystemService(Context.LAYOUT_INFLATER_SERVICE) as LayoutInflater\n        this.setItems(context, arrayKeys, arrayValues)\n    }\n\n    @NonNull\n    @Override\n    override fun getItem(position: Int): SpinnerItem {\n        return this.mItems!!.get(position)\n    }\n\n    @Override\n    override fun getItemId(position: Int): Long {\n        return this.mItems!!.get(position).id!!\n    }\n\n    @NonNull\n    @Override\n    override fun getView(position: Int, @Nullable view: View?, @NonNull parent: ViewGroup): View {\n        var convertView = view\n        if (convertView == null) {\n            convertView = this.layoutInflater!!.inflate(R.layout.support_simple_spinner_dropdown_item, parent, false)\n        }\n        convertView!!.setTag(this.mItems!!.get(position))\n        val textView: TextView = convertView.findViewById(android.R.id.text1)\n        textView.text = this.mItems!![position].name\n        textView.setAllCaps(true)\n        return convertView\n    }\n\n    private fun clearItems() {\n        if (this.mItems != null) {\n            this.mItems!!.clear()\n        } else {\n            this.mItems = ArrayList()\n        }\n    }\n\n    internal fun setItems(@NonNull context: Context, @NonNull @ArrayRes arrayKeys: Int, @NonNull @ArrayRes arrayValues: Int) {\n        this.clearItems()\n        val res = context.getResources()\n        val keys = res.getStringArray(arrayKeys)\n        val values = res.getStringArray(arrayValues)\n        for (i in keys.indices) {\n            this.mItems!!.add(i, SpinnerItem((i + 1).toLong(), keys[i], values[i]))\n        }\n    }\n\n    override fun getCount(): Int {\n        return this.mItems!!.size\n    }\n}\n</code></pre>\n\n<p>some sub-class of the abstract class:</p>\n\n<pre><code>class SomeAdapter(@NonNull context: Context) : BaseArrayAdapter(context) {\n    init {\n        this.setItems(context, R.array.some_keys, R.array.some_values)\n    }\n}\n</code></pre>\n\n<p>and then in the <code>RecyclerView.Adapter</code>:</p>\n\n<pre><code>init {\n    this.setItems(new SomeAdapter(context));\n}\n</code></pre>\n"}], "owner": {"reputation": 6563, "user_id": 3293579, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/f186d84e766b05647e6384ade0a046d6?s=128&d=identicon&r=PG&f=1", "display_name": "SD826E", "link": "https://stackoverflow.com/users/3293579/sd826e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 667, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1548192207, "creation_date": 1548189001, "last_edit_date": 1548190690, "question_id": 54316005, "link": "https://stackoverflow.com/questions/54316005/how-to-obtain-external-array-values-for-recyclerview-adapter", "title": "How to obtain external array values for RecyclerView adapter", "body": "<p>I'm trying to use a RecyclerView to show an array of values in <code>CardView</code>s in a specific order i.e. \"Title A\" &amp; \"Subtitle A\" in 1 <code>CardView</code>; \"Title B\" &amp; \"Subtitle B\" in another. Is there a way to obtain the values from the arrays in my fragment without having to create a new verbose class, or do I have to use a <code>data class</code> to achieve this?</p>\n\n<p><strong>Fragment class</strong></p>\n\n<pre><code>class MyFragment : androidx.fragment.app.Fragment() {\n    private lateinit var mRecyclerView: RecyclerView\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        return inflater.inflate(R.layout.fragment_rv, container, false)\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        val v = view\n\n        mRecyclerView = v!!.findViewById&lt;RecyclerView&gt;(R.id.my_recyclerview)\n\n        mRecyclerView.layoutManager = LinearLayoutManager(activity)\n\n        val myList = mutableListOf(\n                RVAdapterTConnections.ITEM_A,\n                RVAdapterTConnections.ITEM_B,\n                RVAdapterTConnections.ITEM_B\n        )\n\n        val titlesList = mutableListOf(\n                \"Title A\",\n                \"Title B\"\n        )\n\n        val subtitlesList = mutableListOf(\n                \"Subtitle A\",\n                \"Subtitle B\"\n        )\n\n        val mAdapter = MyRVAdapter(myList, titlesList)\n\n        mRecyclerView.adapter = mAdapter\n\n        super.onActivityCreated(savedInstanceState)\n    }\n}\n</code></pre>\n\n<p><strong>Adapter class</strong></p>\n\n<pre><code>internal class MyRVAdapter(private val listViewType: List&lt;Int&gt;, private val myList: List&lt;CharSequence&gt;) : RecyclerView.Adapter&lt;MyRVAdapter.ViewHolder&gt;() {\n\n    companion object {\n        const val ITEM_A = 1\n        const val ITEM_B = 2\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val inflater = LayoutInflater.from(parent.context)\n        return when (viewType) {\n            ITEM_A -&gt; ViewHolderItemA(inflater.inflate(R.layout.layout_item_a, parent, false))\n            else -&gt; ViewHolderItemB(inflater.inflate(R.layout.layout_item_b, parent, false))\n        }\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n\n        val viewType = listViewType[position]\n        when (viewType) {\n            ITEM_A -&gt; {\n                val viewHolderA = holder as ViewHolderItemA\n                viewHolderA.textView.text = \"Lorem Ipsum\"\n            }\n            ITEM_B -&gt; {\n                val viewHolderB = holder as ViewHolderItemB\n                viewHolderB.ivExpandCollapse.setImageDrawable(ContextCompat.getDrawable(holder.ivExpandCollapse.context, R.drawable.ic_keyboard_arrow_down))\n                viewHolderB.tvTitle.text = titlesList[position]\n                viewHolderB.tvSubtitle.text = subtitlesList[position]\n            }\n            else -&gt; {\n                val viewHolderA = holder as ViewHolderItemA\n                viewHolderA.textView.text = \"Lorem Ipsum\"\n            }\n        }\n    }\n\n    override fun getItemCount(): Int = listViewType.size\n\n    override fun getItemViewType(position: Int): Int = listViewType[position]\n\n    open inner class ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView)\n\n    inner class ViewHolderItemA(itemView: View) : ViewHolder(itemView) {\n        val textView: TextView = itemView.findViewById(R.id.my_custom_tv)\n    }\n\n    inner class ViewHolderItemB(itemView: View) : ViewHolder(itemView) {\n        val tvTitle: TextView = itemView.findViewById(R.id.tv_title)\n        val tvSubtitle: TextView = itemView.findViewById(R.id.tv_subtitle)\n    }\n}\n</code></pre>\n\n<p><strong>Data class</strong></p>\n\n<pre><code>data class MyItem (val title: String, val subtitle: String)\n</code></pre>\n"}, {"tags": ["android", "sorting", "kotlin"], "comments": [{"owner": {"reputation": 77347, "user_id": 1631193, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4c713494416ceac454d71c524e15f1c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gabe Sechan", "link": "https://stackoverflow.com/users/1631193/gabe-sechan"}, "edited": false, "score": 3, "creation_date": 1548189366, "post_id": 54315995, "comment_id": 95452003, "body": "Write a custom comparator instead of sort by descending.  But performance wise-  to get what you want, you&#39;re going to have to convert those strings to ints at runtime anyway at a high cost and multiple times, so you&#39;d be better off converting them to ints once when they come into the system.  Why were you ever storing date/time stamps as strings?  They&#39;re ints for a reason-  so you can compare them by using &lt; and &gt;"}], "answers": [{"tags": [], "owner": {"reputation": 6084, "user_id": 1307690, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/a4bd3d33ff40895fa9416afdaf89ae5a?s=128&d=identicon&r=PG", "display_name": "Roman Nazarevych", "link": "https://stackoverflow.com/users/1307690/roman-nazarevych"}, "is_accepted": true, "score": 0, "last_activity_date": 1548199919, "creation_date": 1548199919, "answer_id": 54317986, "question_id": 54315995, "link": "https://stackoverflow.com/questions/54315995/sorting-linkedhashmap-date-in-milliseconds-issue-in-kotlin/54317986#54317986", "title": "Sorting LinkedHashMap date in milliseconds issue in Kotlin", "body": "<p>As @GabeSechan pointed there is the comment you cannot properly compare number in string representation, performance wise the best way will be to initially store timestamps as <code>Long</code> and then default comparator will work, and it will be more efficient to compare <code>Long</code> rather <code>String</code>.\nIf you want the easiest solution just use <code>it.toLong()</code> </p>\n\n<pre><code>mediumGroups.toSortedMap(if (sortDescending) compareByDescending { it.toLong() } else compareBy { it.toLong() })\n</code></pre>\n"}], "owner": {"reputation": 3847, "user_id": 2332659, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/7xPto.png?s=128&g=1", "display_name": "Bignadad", "link": "https://stackoverflow.com/users/2332659/bignadad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 54317986, "answer_count": 1, "score": 1, "last_activity_date": 1548199919, "creation_date": 1548188968, "question_id": 54315995, "link": "https://stackoverflow.com/questions/54315995/sorting-linkedhashmap-date-in-milliseconds-issue-in-kotlin", "title": "Sorting LinkedHashMap date in milliseconds issue in Kotlin", "body": "<p>Here is my what i am doing to sort my <code>LinkedHashMap&lt;String,ArrayList&lt;Image&gt;&gt;</code></p>\n\n<pre><code>val sorted = mediumGroups.toSortedMap(if (sortDescending) compareByDescending { it } else compareBy { it })\n</code></pre>\n\n<p>The string in the LinkedHashMap is the date in currentTimeMillis</p>\n\n<p>the problem i am having is when the date is before 1000000000000</p>\n\n<blockquote>\n  <p>Sat 8 September 2001 21:46:40</p>\n</blockquote>\n\n<p>those dates are 1 less digit so it sorts them to top.</p>\n\n<p>Is there a way to sort properly without having to convert my LinkedHashMap to a Int instead of String?</p>\n"}, {"tags": ["hibernate", "jpa", "kotlin", "spring-data-jpa", "spring-data"], "owner": {"reputation": 85, "user_id": 8394509, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154835911327006/picture?type=large", "display_name": "Damir Palini\u0107", "link": "https://stackoverflow.com/users/8394509/damir-palini%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 558, "favorite_count": 1, "answer_count": 0, "score": 4, "last_activity_date": 1548188560, "creation_date": 1548188560, "question_id": 54315912, "link": "https://stackoverflow.com/questions/54315912/native-jpa-queries-not-working-when-using-kotlin-nullable-type-because-of-bytea", "title": "Native JPA queries not working when using Kotlin nullable type because of bytea casting error", "body": "<p>I'm using <code>Kotlin</code>, <code>Spring Boot</code> and <code>Spring Data</code> with <code>Hibernate</code> and <code>Postgresql</code>.</p>\n\n<p>We created a repository class which extends <code>JpaRepository</code> and just found out that native queries are not working if nullable parameter is provided.</p>\n\n<p>In this example, <code>isInternal</code> parameter can be true, false or null if we don't know that information yet (same as in our database).</p>\n\n<pre><code>    @Query(\n        nativeQuery = true,\n        value = \"SELECT * FROM story WHERE is_internal = :isInternal\",\n        countQuery = \"SELECT COUNT(*) FROM story WHERE is_internal = :isInternal\"\n    )\n    fun findEmployeeStories(\n        @Param(\"isInternal\") isInternal: Boolean?,\n        pageable: Pageable\n    ): Page&lt;StoryEntity&gt;\n</code></pre>\n\n<p>This query results in: </p>\n\n<pre><code>org.postgresql.util.PSQLException: ERROR: operator does not exist: boolean = bytea\n  Hint: No operator matches the given name and argument type(s). You might need to add explicit type casts.\n</code></pre>\n\n<p>If we try to add explicit casting, error changes.</p>\n\n<pre><code>    @Query(\n        nativeQuery = true,\n        value = \"SELECT * FROM story WHERE is_internal = CAST(:isInternal AS boolean)\",\n        countQuery = \"SELECT COUNT(*) FROM story WHERE is_internal = CAST(:isInternal AS boolean)\"\n    )\n    fun findEmployeeStories(\n        @Param(\"isInternal\") isInternal: Boolean?,\n        pageable: Pageable\n    ): Page&lt;StoryEntity&gt;\n</code></pre>\n\n<p>This query results in:</p>\n\n<pre><code>org.postgresql.util.PSQLException: ERROR: cannot cast type bytea to boolean\n</code></pre>\n\n<p>If we change <code>@Param(\"isInternal\") isInternal: Boolean?</code> to <code>@Param(\"isInternal\") isInternal: Boolean</code> (to forbid nullable values) it works fine but we don't want that. </p>\n\n<p>Above is just a simple example to reproduce the issue. Our query is complex that's why we tried to switch to native query instead of using JQL (where there where no such problems).</p>\n\n<p>Thanks</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 9164, "user_id": 6740698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tFFAJ2BB1co/AAAAAAAAAAI/AAAAAAAAMBM/Mp1krWr_OVA/photo.jpg?sz=128", "display_name": "Xenolion", "link": "https://stackoverflow.com/users/6740698/xenolion"}, "edited": false, "score": 0, "creation_date": 1548185640, "post_id": 54315204, "comment_id": 95450408, "body": "Does that happen to only one APK or all APKs?? In what Android Version are you installing?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 4, "creation_date": 1548185665, "post_id": 54315204, "comment_id": 95450422, "body": "That is not how permissions work on Android 6.0+. You can set a <code>targetSdkVersion</code> below 23 to get your desired effect, but you will not be allowed to ship your app on the Play Store (if that is how you planned on distributing it)."}, {"owner": {"reputation": 17, "user_id": 10952035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24207cb6b7639350f12f8a5d010b1e4f?s=128&d=identicon&r=PG&f=1", "display_name": "Nocuwu Noval", "link": "https://stackoverflow.com/users/10952035/nocuwu-noval"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1548185861, "post_id": 54315204, "comment_id": 95450510, "body": "@CommonsWare Android Version 8.1.0"}], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 10525988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tKoGx.jpg?s=128&g=1", "display_name": "Leka Baper", "link": "https://stackoverflow.com/users/10525988/leka-baper"}, "edited": false, "score": 0, "creation_date": 1548186070, "post_id": 54315300, "comment_id": 95450605, "body": "but i try that APK on Android 8.1.0"}, {"owner": {"reputation": 147, "user_id": 3464889, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1038562083/picture?type=large", "display_name": "StefanaB", "link": "https://stackoverflow.com/users/3464889/stefanab"}, "reply_to_user": {"reputation": 153, "user_id": 10525988, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tKoGx.jpg?s=128&g=1", "display_name": "Leka Baper", "link": "https://stackoverflow.com/users/10525988/leka-baper"}, "edited": false, "score": 0, "creation_date": 1548186284, "post_id": 54315300, "comment_id": 95450697, "body": "as mentioned by CommonsWare, marshmallow is 6.0. This feature is available even since, including 8.1.0. Putting targetSdkVersion below 23 ( <a href=\"https://source.android.com/setup/start/build-numbers\" rel=\"nofollow noreferrer\">source.android.com/setup/start/build-numbers</a> this means before marshmallow ) will ask permissions before installation."}], "tags": [], "owner": {"reputation": 147, "user_id": 3464889, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/1038562083/picture?type=large", "display_name": "StefanaB", "link": "https://stackoverflow.com/users/3464889/stefanab"}, "is_accepted": false, "score": 1, "last_activity_date": 1548185851, "creation_date": 1548185851, "answer_id": 54315300, "question_id": 54315204, "link": "https://stackoverflow.com/questions/54315204/android-app-request-permission-before-installation/54315300#54315300", "title": "Android app request permission before installation", "body": "<p>Since android marshmallow, is implemented to require the permissions at runtime, rather than at the installation. You can check this link: <a href=\"https://developer.android.com/training/permissions/usage-notes\" rel=\"nofollow noreferrer\">https://developer.android.com/training/permissions/usage-notes</a>  and this explaining video: <a href=\"https://www.youtube.com/watch?v=iZqDdvhTZj0\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=iZqDdvhTZj0</a></p>\n"}], "owner": {"reputation": 17, "user_id": 10952035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24207cb6b7639350f12f8a5d010b1e4f?s=128&d=identicon&r=PG&f=1", "display_name": "Nocuwu Noval", "link": "https://stackoverflow.com/users/10952035/nocuwu-noval"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1548185851, "creation_date": 1548185473, "question_id": 54315204, "link": "https://stackoverflow.com/questions/54315204/android-app-request-permission-before-installation", "title": "Android app request permission before installation", "body": "<p>how to request permission before installation, there is a APK when i click, it will guide to installation page, and there is message :</p>\n\n<p>\"Do you want to install this application? it will get access to: --list of required permission---\"</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 2572, "user_id": 812919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izI7J.png?s=128&g=1", "display_name": "daka", "link": "https://stackoverflow.com/users/812919/daka"}, "edited": false, "score": 0, "creation_date": 1548185232, "post_id": 54315107, "comment_id": 95450209, "body": "Tried it already, it gives <code>Null can not be a value of a non-null type Unit</code>"}, {"owner": {"reputation": 4037, "user_id": 3124227, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/efoMa.jpg?s=128&g=1", "display_name": "Feedforward", "link": "https://stackoverflow.com/users/3124227/feedforward"}, "reply_to_user": {"reputation": 2572, "user_id": 812919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izI7J.png?s=128&g=1", "display_name": "daka", "link": "https://stackoverflow.com/users/812919/daka"}, "edited": false, "score": 0, "creation_date": 1548185328, "post_id": 54315107, "comment_id": 95450255, "body": "Yes, that&#39;s right because result will be returned to <code>baz</code> function. And return type of <code>baz</code> is <code>Unit</code>."}, {"owner": {"reputation": 2572, "user_id": 812919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izI7J.png?s=128&g=1", "display_name": "daka", "link": "https://stackoverflow.com/users/812919/daka"}, "edited": false, "score": 0, "creation_date": 1548185411, "post_id": 54315107, "comment_id": 95450297, "body": "I want to return to the <b>enclosing function</b>, that&#39;s <code>foo</code>."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 2, "creation_date": 1548185501, "post_id": 54315107, "comment_id": 95450346, "body": "That would be a <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#non-local-returns\" rel=\"nofollow noreferrer\">non-local return</a>, which you can only perform in an inline function."}, {"owner": {"reputation": 2572, "user_id": 812919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izI7J.png?s=128&g=1", "display_name": "daka", "link": "https://stackoverflow.com/users/812919/daka"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1548185799, "post_id": 54315107, "comment_id": 95450486, "body": "@zsmb13 Thanks, I completely missed <code>(Note that such non-local returns are supported only for lambda expressions passed to inline functions.)</code> in <a href=\"https://kotlinlang.org/docs/reference/returns.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/returns.html</a>"}], "tags": [], "owner": {"reputation": 4037, "user_id": 3124227, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/efoMa.jpg?s=128&g=1", "display_name": "Feedforward", "link": "https://stackoverflow.com/users/3124227/feedforward"}, "is_accepted": false, "score": 3, "last_activity_date": 1548185034, "creation_date": 1548185034, "answer_id": 54315107, "question_id": 54315005, "link": "https://stackoverflow.com/questions/54315005/kotlin-getting-return-is-not-allowed-here-error-when-attempting-to-return-to/54315107#54315107", "title": "Kotlin - Getting &#39;return is not allowed here&#39; error when attempting to return to enclosing function from lambda", "body": "<p><code>return</code> statement is not allowed inside a lambda. If you want to return from a lambda, you should use label. </p>\n\n<pre><code>bar {\n    return@bar \n}\n</code></pre>\n\n<p>Or you can use <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html\" rel=\"nofollow noreferrer\">inline</a> modifier for <code>bar</code> function.</p>\n"}, {"tags": [], "owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "is_accepted": true, "score": 3, "last_activity_date": 1548185483, "creation_date": 1548185483, "answer_id": 54315205, "question_id": 54315005, "link": "https://stackoverflow.com/questions/54315005/kotlin-getting-return-is-not-allowed-here-error-when-attempting-to-return-to/54315205#54315205", "title": "Kotlin - Getting &#39;return is not allowed here&#39; error when attempting to return to enclosing function from lambda", "body": "<p>In Kotlin there is the rule - <code>return</code> returns from <code>fun</code> always. One may use <code>return@&lt;label/function name&gt;</code> to return from function or lambdas.</p>\n\n<p>Next, there comes <code>inline fun</code>. Inline functions are not real functions, they are inlined into the call site, thus, it is possible to do a return from inside a lambda that is a parameter to such function (there are many examples of that in the standard library)</p>\n\n<p>To summarize:</p>\n\n<pre><code>inline fun bar(a: () -&gt; Unit) { a() }\nfun buz() : Int {\n  bar { return 42 } /// such return is only possible to inline fun\n  return 10\n}\nval x = buz() /// will be 42\n</code></pre>\n\n<pre><code>bar { if (something) return@bar }\n</code></pre>\n\n<p>here we return from the lambda, not from a function.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 7558121, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fE4VNwin9XU/AAAAAAAAAAI/AAAAAAAAFKg/ipUvElvHKX8/photo.jpg?sz=128", "display_name": "Link Adrifting", "link": "https://stackoverflow.com/users/7558121/link-adrifting"}, "is_accepted": false, "score": 0, "last_activity_date": 1617960491, "creation_date": 1617960491, "answer_id": 67018538, "question_id": 54315005, "link": "https://stackoverflow.com/questions/54315005/kotlin-getting-return-is-not-allowed-here-error-when-attempting-to-return-to/67018538#67018538", "title": "Kotlin - Getting &#39;return is not allowed here&#39; error when attempting to return to enclosing function from lambda", "body": "<p>We all know the facts in kotlin specs. but the reason behind it is not trivial at all.</p>\n<p>The problem is: Why in kotlin, return is not allowed in a lambda by default?</p>\n<p>Though this is an old question, it is still important for me to explain the possible reasons.</p>\n<p>On the first glance, anonymous functions and lambdas behave pretty much the same: a nameless function thing. However with the keyword <code>fun</code>, <code>return</code> is allowed in the function body but without <code>fun</code> (in lambda) it is not allowed! Aren't they all &quot;functions&quot;?</p>\n<p>Lambda is indeed a function, but literally it is more like a platonic &quot;expression&quot;, it will eventually represent an Object by its own design intention, thus an return is not really needed.</p>\n<p>Moreover, <code>return</code> in lambda can be ambiguous due to &quot;function inline&quot; and &quot;non-local return&quot; feature/syntax-sugar. If the lambda is inlined, the return is &quot;non-local&quot; by its lexical context, meaning it terminates and returns from the caller function. But when it is not inlined and we allow return here, what behavior do we expect? It's contradictory and unintuitive.</p>\n<p>That's why offering an label is mandatory to use return in lambda without inline. Of course we can use labeled-return anywhere but it only adds boilerplate work.</p>\n"}], "owner": {"reputation": 2572, "user_id": 812919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/izI7J.png?s=128&g=1", "display_name": "daka", "link": "https://stackoverflow.com/users/812919/daka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3153, "favorite_count": 1, "accepted_answer_id": 54315205, "answer_count": 3, "score": 2, "last_activity_date": 1617960491, "creation_date": 1548184612, "last_edit_date": 1548186970, "question_id": 54315005, "link": "https://stackoverflow.com/questions/54315005/kotlin-getting-return-is-not-allowed-here-error-when-attempting-to-return-to", "title": "Kotlin - Getting &#39;return is not allowed here&#39; error when attempting to return to enclosing function from lambda", "body": "<p>Attempting to return to an enclosing function (<code>foo</code>) from a lambda shows error <code>return is not allowed here</code>.</p>\n\n<p>What's happening here? Am I doing something wrong?</p>\n\n<pre><code>fun bar( baz: () -&gt; Unit ) {\n\n    // Empty function\n}\n\nfun foo() : Unit? {\n\n    return null // this works fine\n\n    bar {\n\n        return null // shows error 'return is not allowed here'\n    }\n}\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I've also tried:</p>\n\n<pre><code>...\n\nbar {\n\n    return@bar null\n}\n\n...\n</code></pre>\n\n<p>But this gives the error <code>Null can not be a value of a non-null type Unit</code></p>\n"}, {"tags": ["android", "xamarin", "kotlin", "xamarin.android"], "comments": [{"owner": {"reputation": 9602, "user_id": 7462031, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/APfLb.jpg?s=128&g=1", "display_name": "FreakyAli", "link": "https://stackoverflow.com/users/7462031/freakyali"}, "edited": false, "score": 0, "creation_date": 1548192201, "post_id": 54314427, "comment_id": 95453192, "body": "Im pretty sure it is not possible im sorry"}, {"owner": {"reputation": 7657, "user_id": 10627299, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1009ed8c6d700200b7517ecad9657f95?s=128&d=identicon&r=PG&f=1", "display_name": "Leon Lu - MSFT", "link": "https://stackoverflow.com/users/10627299/leon-lu-msft"}, "edited": false, "score": 0, "creation_date": 1548210019, "post_id": 54314427, "comment_id": 95457935, "body": "Agree with hakim, it is not supported, xamarin android support Kotlin Standard Library <a href=\"https://www.nuget.org/packages/Xamarin.Kotlin.StdLib/\" rel=\"nofollow noreferrer\">nuget.org/packages/Xamarin.Kotlin.StdLib</a>"}, {"owner": {"reputation": 67998, "user_id": 4984832, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/be4bc3e019d1082f7945b8db7ab313c9?s=128&d=identicon&r=PG", "display_name": "SushiHangover", "link": "https://stackoverflow.com/users/4984832/sushihangover"}, "edited": false, "score": 0, "creation_date": 1548245869, "post_id": 54314427, "comment_id": 95472255, "body": "Are you talking about a jar/aar-based library that was written using Kotlin? If so, yes that is supported."}, {"owner": {"reputation": 1676, "user_id": 4478393, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8ldKyR73j1Q/AAAAAAAAAAI/AAAAAAAABOA/36gCBJd-y08/photo.jpg?sz=128", "display_name": "Alexey Shikov", "link": "https://stackoverflow.com/users/4478393/alexey-shikov"}, "edited": false, "score": 0, "creation_date": 1576590364, "post_id": 54314427, "comment_id": 104943454, "body": "Has anybody found a solution for that? Or maybe a proof that it is not supported yet."}], "answers": [{"tags": [], "owner": {"reputation": 908, "user_id": 4592960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KG80v.png?s=128&g=1", "display_name": "SharpMobileCode", "link": "https://stackoverflow.com/users/4592960/sharpmobilecode"}, "is_accepted": false, "score": 3, "last_activity_date": 1548299628, "creation_date": 1548299628, "answer_id": 54338872, "question_id": 54314427, "link": "https://stackoverflow.com/questions/54314427/does-native-kotlin-libraries-work-in-xamarin/54338872#54338872", "title": "Does native Kotlin Libraries work in Xamarin", "body": "<p>Kotlin is a JVM (Java Virtual Machine) language, so theoretically, yes it's possible.  You'll also need Xamarin bindings for the Kotlin Standard Library as well.  Fortunately, there's a <a href=\"https://www.nuget.org/packages/Xamarin.Kotlin.StdLib/\" rel=\"nofollow noreferrer\">Nuget Package</a> for the Kotlin Standard Library and you'll need to include this into your project.</p>\n"}], "owner": {"reputation": 73, "user_id": 10946124, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EQGEBH8WK24/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbYg0bttvBk-DvFgQL33F9NkJGcpw/mo/photo.jpg?sz=128", "display_name": "Kayode Issac Ayodele", "link": "https://stackoverflow.com/users/10946124/kayode-issac-ayodele"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 709, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1548299628, "creation_date": 1548181796, "question_id": 54314427, "link": "https://stackoverflow.com/questions/54314427/does-native-kotlin-libraries-work-in-xamarin", "title": "Does native Kotlin Libraries work in Xamarin", "body": "<p>I have a native kotlin library, and i will like to know if its possible to use the Andriod Binding library (Xamarin) for a native Kotlin Library. I have tried it already but when i checked the <strong>view in object browser</strong> it was empty. this was the steps i followed to bind the .aar file <a href=\"https://developer.xamarin.com/guides/android/advanced_topics/binding-a-java-library/binding-an-aar/\" rel=\"nofollow noreferrer\">here</a>. i got the dll file and added it to my app but it didnt work.</p>\n"}, {"tags": ["android", "kotlin", "listener"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1548179522, "post_id": 54313839, "comment_id": 95447695, "body": "Which issues are you running into? Why don&#39;t you simply run the Java to Kotlin converter on your Java code?"}, {"owner": {"reputation": 306, "user_id": 2909304, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cbc036c4022b7662e55ed82ef4b28bb7?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/2909304/samuel"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1548181092, "post_id": 54313839, "comment_id": 95448359, "body": "The converter doesn&#39;t simply work like that. For example, the static setter for the private variable I had to do: private var refreshListSwitch: Boolean = false \tvar setSwitch: Boolean \t\tget() = refreshListSwitch \t\tset(value) \t\t{ \t\t\trefreshListSwitch = value \t\t}"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1548181283, "post_id": 54313839, "comment_id": 95448456, "body": "Why did you have to do that? This looks entirely unnecessary. Anyway, you didn&#39;t answer what issues specifically you ran into with your Kotlin code."}, {"owner": {"reputation": 306, "user_id": 2909304, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cbc036c4022b7662e55ed82ef4b28bb7?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/2909304/samuel"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1548181602, "post_id": 54313839, "comment_id": 95448627, "body": "See edited code"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1548185443, "post_id": 54313839, "comment_id": 95450317, "body": "The code for adding a listener needs to be placed in an <a href=\"http://kotlinlang.org/docs/reference/classes.html#constructors\" rel=\"nofollow noreferrer\">initializer block</a>. The built-in Java to Kotlin converter in IntelliJ IDEA is capable of performing this conversion automatically."}, {"owner": {"reputation": 306, "user_id": 2909304, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cbc036c4022b7662e55ed82ef4b28bb7?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/2909304/samuel"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1548186203, "post_id": 54313839, "comment_id": 95450664, "body": "I already tried in init block and added instance of SignalChange: signalChange = SignalChange(), but the following does not convert: signalChange.addRefreshListListener(() -&gt; refreshList());"}], "answers": [{"comments": [{"owner": {"reputation": 306, "user_id": 2909304, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cbc036c4022b7662e55ed82ef4b28bb7?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/2909304/samuel"}, "edited": false, "score": 0, "creation_date": 1548184069, "post_id": 54314152, "comment_id": 95449716, "body": "With the posted Java code I was able to signal a change from anywhere in the program. Can the Delegates.observable do that?"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 306, "user_id": 2909304, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cbc036c4022b7662e55ed82ef4b28bb7?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/2909304/samuel"}, "edited": false, "score": 0, "creation_date": 1548184840, "post_id": 54314152, "comment_id": 95450039, "body": "I edited my answer. When you set value to <code>property1</code> Delegates.observable fires off and invokes <code>refreshListRequest()</code> on each listener."}, {"owner": {"reputation": 306, "user_id": 2909304, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cbc036c4022b7662e55ed82ef4b28bb7?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/2909304/samuel"}, "edited": false, "score": 0, "creation_date": 1548187664, "post_id": 54314152, "comment_id": 95451287, "body": "This seems the same as fun sendRefreshSignal() for(l in refreshListListeners) l.refreshPersonsList() but the issue I am having is how to invoke: fun addRefreshListListener(l: InterfaceRefreshPersonsList) refreshListListeners.add(l) from the FragmentBrowse class"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "reply_to_user": {"reputation": 306, "user_id": 2909304, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cbc036c4022b7662e55ed82ef4b28bb7?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/2909304/samuel"}, "edited": false, "score": 0, "creation_date": 1548189168, "post_id": 54314152, "comment_id": 95451925, "body": "it seems you need implement <code>SignalChange</code> as <code>Singleton</code>. And then you will be able to add listeners like this. I&#39;ve edited my answer, now <code>SignalChange </code> is a <code>Singleton</code>"}, {"owner": {"reputation": 219, "user_id": 10334519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dccca37f2ab2bd05a5a47d63d16032ed?s=128&d=identicon&r=PG&f=1", "display_name": "Jevon", "link": "https://stackoverflow.com/users/10334519/jevon"}, "edited": false, "score": 0, "creation_date": 1612124563, "post_id": 54314152, "comment_id": 116662719, "body": "You gave us 2 answers which is great. Is one better than the other?"}, {"owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "edited": false, "score": 0, "creation_date": 1612125941, "post_id": 54314152, "comment_id": 116663120, "body": "In case of lambdas there is less code."}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": true, "score": 10, "last_activity_date": 1548189442, "last_edit_date": 1548189442, "creation_date": 1548180553, "answer_id": 54314152, "question_id": 54313839, "link": "https://stackoverflow.com/questions/54313839/how-to-set-up-a-listener-for-a-variable-in-kotlin/54314152#54314152", "title": "How to set up a listener for a variable in Kotlin", "body": "<p>You can use built-in Kotlin delegates, for example:</p>\n\n<pre><code>object SignalChange {\n    var refreshListListeners = ArrayList&lt;InterfaceRefreshList&gt;()\n\n    // fires off every time value of the property changes\n    var property1: String by Delegates.observable(\"initial value\") { property, oldValue, newValue -&gt;\n        // do your stuff here\n        refreshListListeners.forEach { \n            it.refreshListRequest()\n        }\n    }\n}\n\ninterface InterfaceRefreshList {\n    fun refreshListRequest()\n}\n</code></pre>\n\n<p>Add listeners like this:</p>\n\n<pre><code>SignalChange.refreshListListeners.add(object : InterfaceRefreshList {\n    override fun refreshListRequest() {\n        refreshList()\n    }\n})\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<p>Intead of interface you can use <strong>lambda</strong>:</p>\n\n<pre><code>object SignalChange {\n    var refreshListListeners = ArrayList&lt;() -&gt; Unit&gt;()\n\n    // fires off every time value of the property changes\n    var property1: String by Delegates.observable(\"initial value\") { property, oldValue, newValue -&gt;\n        // do your stuff here\n        refreshListListeners.forEach {\n            it()\n        }\n    }\n}\n</code></pre>\n\n<p>And to add listener just call:</p>\n\n<pre><code>SignalChange.refreshListListeners.add(::refreshList)\n//or\nSignalChange.refreshListListeners.add { refreshList() }\n\nfun refreshList() {\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 305, "user_id": 9093630, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/apopk.jpg?s=128&g=1", "display_name": "Ahmad Darwesh", "link": "https://stackoverflow.com/users/9093630/ahmad-darwesh"}, "is_accepted": false, "score": 5, "last_activity_date": 1589487073, "creation_date": 1589487073, "answer_id": 61806570, "question_id": 54313839, "link": "https://stackoverflow.com/questions/54313839/how-to-set-up-a-listener-for-a-variable-in-kotlin/61806570#61806570", "title": "How to set up a listener for a variable in Kotlin", "body": "<p>The <strong>simple</strong> way to Listen to variable in <strong>KOTLIN</strong>  </p>\n\n<pre><code>private var myVariableName by Delegates.observable(0) { property, oldValue, newValue -&gt;\n             Log.d(TAG,\"New Value $newValue\")\n             Log.d(TAG,\"Old Value $oldValue\")\n        }\n</code></pre>\n\n<p>for more info read <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.properties/-delegates/\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.properties/-delegates/</a></p>\n"}], "owner": {"reputation": 306, "user_id": 2909304, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cbc036c4022b7662e55ed82ef4b28bb7?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel", "link": "https://stackoverflow.com/users/2909304/samuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9389, "favorite_count": 3, "accepted_answer_id": 54314152, "answer_count": 2, "score": 7, "last_activity_date": 1589487073, "creation_date": 1548179376, "last_edit_date": 1548181584, "question_id": 54313839, "link": "https://stackoverflow.com/questions/54313839/how-to-set-up-a-listener-for-a-variable-in-kotlin", "title": "How to set up a listener for a variable in Kotlin", "body": "<p>How to I set up an interface listener for detecting a variable change in Kotlin. I successful implemented the following in Java, but am running into issues doing it in Kotlin:</p>\n\n<p>Interface:</p>\n\n<pre><code>public interface InterfaceRefreshList\n    {\n    public void refreshListRequest();\n    }\n</code></pre>\n\n<p>Class containing listener:</p>\n\n<pre><code>public class SignalChange\n    {\n    private static boolean refreshListSwitch;\n    private static List&lt;InterfaceRefreshList&gt; refreshListListeners = new ArrayList&lt;&gt;();\n    public static void setRefreshList(boolean value)\n    {\n    refreshListSwitch = value;\n    for(InterfaceRefreshList l : refreshListListeners)\n        l.refreshListRequest();\n    }\n    public static void addRefreshListListener(InterfaceRefreshList l)\n        {\n        refreshListListeners.add(l);\n        }\n    }\n</code></pre>\n\n<p>Class where listener is listening:</p>\n\n<pre><code>public class FragmentBrowse extends Fragment\n{\n    public FragmentBrowse() /// Constructor\n        {\n        SignalChange.addRefreshListListener(() -&gt; refreshList());\n        }\n    refreshList()\n    {\n    // do something\n    }\n}\n</code></pre>\n\n<p>To signal a change:</p>\n\n<pre><code>SignalChange.setRefreshList(true);\n</code></pre>\n\n<p>I can set up the interface and the signal class:</p>\n\n<pre><code>class SignalChange\n{\n    private var refreshListSwitch: Boolean = false\n    var setSwitch: Boolean\n        get() = refreshListSwitch\n        set(value)\n        {\n            refreshListSwitch = value\n        }\n\n    private var refreshListListeners = ArrayList&lt;InterfaceRefreshPersonsList&gt;()\n    fun sendRefreshSignal()\n    {\n        for(l in refreshListListeners) l.refreshPersonsList()\n    }\n\n    fun addRefreshListListener(l: InterfaceRefreshPersonsList)\n    {\n        refreshListListeners.add(l)\n    }\n\n}\n</code></pre>\n\n<p>But I cannot setup the listener in the FragmentBrowse class. The fragment class doesn't allow constructors.</p>\n"}, {"tags": ["android", "kotlin", "viewmodel", "android-jetpack", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1548177909, "post_id": 54313453, "comment_id": 95446960, "body": "What is <code>this</code>? Is it an <code>AppCompatActivity</code> or <code>FragmentActivity</code>? Or is it an AndroidX <code>Fragment</code>? Or is it something else?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 1, "creation_date": 1548177981, "post_id": 54313453, "comment_id": 95446998, "body": "You need to import <code>ViewModelProviders</code> to find <code>of</code>"}, {"owner": {"reputation": 3293, "user_id": 5993479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036196443166401/picture?type=large", "display_name": "Nurseyit Tursunkulov", "link": "https://stackoverflow.com/users/5993479/nurseyit-tursunkulov"}, "edited": false, "score": 0, "creation_date": 1548178686, "post_id": 54313453, "comment_id": 95447333, "body": "it appCompatActivity, I can Import ViewModelProvider but it does not contain of method"}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1548178731, "post_id": 54313453, "comment_id": 95447352, "body": "Please give a <b>complete</b> code example. Show the surrounding class and appropriate imports. Also, copy-paste the <b>exact</b> error message."}, {"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "edited": false, "score": 2, "creation_date": 1548179376, "post_id": 54313453, "comment_id": 95447620, "body": "You&#39;ll need to use class <code>ViewModelProviders</code> in-spite of <code>ViewModelProvider</code>."}, {"owner": {"reputation": 3293, "user_id": 5993479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036196443166401/picture?type=large", "display_name": "Nurseyit Tursunkulov", "link": "https://stackoverflow.com/users/5993479/nurseyit-tursunkulov"}, "edited": false, "score": 0, "creation_date": 1548181912, "post_id": 54313453, "comment_id": 95448786, "body": "thank you brothers, I really appreciate it"}], "answers": [{"comments": [{"owner": {"reputation": 3293, "user_id": 5993479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036196443166401/picture?type=large", "display_name": "Nurseyit Tursunkulov", "link": "https://stackoverflow.com/users/5993479/nurseyit-tursunkulov"}, "edited": false, "score": 0, "creation_date": 1548180567, "post_id": 54313573, "comment_id": 95448138, "body": "I imported viewmodelProviders. I can see it"}, {"owner": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "reply_to_user": {"reputation": 3293, "user_id": 5993479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036196443166401/picture?type=large", "display_name": "Nurseyit Tursunkulov", "link": "https://stackoverflow.com/users/5993479/nurseyit-tursunkulov"}, "edited": false, "score": 0, "creation_date": 1548180834, "post_id": 54313573, "comment_id": 95448254, "body": "If your code is per your edit, you&#39;re missing <code>import androidx.lifecycle.ViewModelProviders</code>. It has an <b>s</b> at the end. You need both <code>import androidx.lifecycle.ViewModelProviders</code> and <code>import androidx.lifecycle.ViewModelProvider</code>."}, {"owner": {"reputation": 926, "user_id": 843001, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/c3b3f16ea2f7025bcb5d51bc54a9ee55?s=128&d=identicon&r=PG", "display_name": "Duna", "link": "https://stackoverflow.com/users/843001/duna"}, "edited": false, "score": 1, "creation_date": 1571904586, "post_id": 54313573, "comment_id": 103396294, "body": "<code>ViewModelProviders</code> is deprecated, migrate to <code>ViewModelProvider</code>"}, {"owner": {"reputation": 51, "user_id": 2392544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6ac0670b14efec5758f98ebf3274efa?s=128&d=identicon&r=PG", "display_name": "Siva", "link": "https://stackoverflow.com/users/2392544/siva"}, "edited": false, "score": 0, "creation_date": 1591719573, "post_id": 54313573, "comment_id": 110160146, "body": "Can you give the syntax in Java"}, {"owner": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "reply_to_user": {"reputation": 51, "user_id": 2392544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6ac0670b14efec5758f98ebf3274efa?s=128&d=identicon&r=PG", "display_name": "Siva", "link": "https://stackoverflow.com/users/2392544/siva"}, "edited": false, "score": 0, "creation_date": 1591836643, "post_id": 54313573, "comment_id": 110210765, "body": "@Siva it&#39;s pretty much the same thing: <code>SheduleViewModel viewModel = new ViewModelProvider(this).get(SheduleViewModel.class);</code>"}], "tags": [], "owner": {"reputation": 2331, "user_id": 2333010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7134e36891735da054e22fbe01e903c2?s=128&d=identicon&r=PG", "display_name": "Ricardo Costeira", "link": "https://stackoverflow.com/users/2333010/ricardo-costeira"}, "is_accepted": true, "score": 76, "last_activity_date": 1610245797, "last_edit_date": 1610245797, "creation_date": 1548178258, "answer_id": 54313573, "question_id": 54313453, "link": "https://stackoverflow.com/questions/54313453/how-to-instantiate-viewmodel-in-androidx/54313573#54313573", "title": "how to instantiate ViewModel In AndroidX?", "body": "<p><strong>Updated answer:</strong></p>\n<p>Things changed a little bit, as the previously needed dependency - <code>ViewModelProviders</code> - <a href=\"https://developer.android.com/reference/androidx/lifecycle/ViewModelProviders.html\" rel=\"noreferrer\">got deprecated</a> (see the old answer for details). You can now use the <code>ViewModelProvider</code> constructor directly.</p>\n<p>So, in this case, the answer would be:</p>\n<pre><code>private val viewModel = ViewModelProvider(this).get(SheduleViewModel::class.java)\n</code></pre>\n<p>Note that, however, if you include the <code>androidx.activity:activity-ktx:$Version</code> dependency (a few of the commonly used AndroidX dependencies already include it for you), you can make use of property delegation:</p>\n<pre><code>private val viewModel: SheduleViewModel by viewModels()\n</code></pre>\n<p>Which internally will use <code>ViewModelProvider</code> and scope your <code>ViewModel</code> to your <code>Activity</code>. It's just a more concise way of writing the same thing. You can do the same for a <code>Fragment</code> by including the <code>androidx.fragment:fragment-ktx:$Version</code> dependency instead (again, commonly already included by other AndroidX dependencies).</p>\n<p>Both the <code>ViewModelProvider</code> constructor and <code>by viewModels()</code> also accept a factory as a parameter (useful for injecting your <code>ViewModel</code>):</p>\n<pre><code>private val viewModel = \n    ViewModelProvider(this, viewModelFactory).get(SheduleViewModel::class.java)\n</code></pre>\n<p>and</p>\n<pre><code>private val viewModel: SheduleViewModel by viewModels { viewModelFactory }\n</code></pre>\n<p>Use the one that best suits you.</p>\n<p><strong>Old answer:</strong></p>\n<p>Add the <code>androidx.lifecycle:lifecycle-extensions:$lifecycleExtensionsVersion</code> dependency in order to import <code>ViewModelProviders</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "reply_to_user": {"reputation": 3293, "user_id": 5993479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036196443166401/picture?type=large", "display_name": "Nurseyit Tursunkulov", "link": "https://stackoverflow.com/users/5993479/nurseyit-tursunkulov"}, "edited": false, "score": 0, "creation_date": 1548181805, "post_id": 54313824, "comment_id": 95448721, "body": "Happy to help :)"}, {"owner": {"reputation": 29866, "user_id": 930450, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/se3CE.png?s=128&g=1", "display_name": "Ixx", "link": "https://stackoverflow.com/users/930450/ixx"}, "edited": false, "score": 2, "creation_date": 1554627785, "post_id": 54313824, "comment_id": 97815179, "body": "<code>ViewModelProviders</code> is in extensions, see Ricardo Costeira&#39;s answer."}], "tags": [], "owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "is_accepted": false, "score": 3, "last_activity_date": 1548179306, "creation_date": 1548179306, "answer_id": 54313824, "question_id": 54313453, "link": "https://stackoverflow.com/questions/54313453/how-to-instantiate-viewmodel-in-androidx/54313824#54313824", "title": "how to instantiate ViewModel In AndroidX?", "body": "<p><em>(How to)</em> Use <code>ViewModel</code> from <strong>Android Architecture Component</strong> :</p>\n\n<ol>\n<li><p><strong>Add the Google Maven repository (Optional, just verify that)</strong></p>\n\n<p>Android Studio projects aren't configured to access this repository by default.</p>\n\n<p>To add it to your project, open the <code>build.gradle</code> file for your project <em>(not the ones for your app or module)</em> and add the <strong><code>google()</code></strong> repository as shown below:</p>\n\n<pre><code>allprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n</code></pre></li>\n<li><p><strong>Declaring dependencies</strong></p>\n\n<p>Open your app-level <code>build.gradle</code> file,</p>\n\n<p>Go to <strong><code>dependencies{}</code></strong> block</p>\n\n<p>Put <code>implementation \"androidx.lifecycle:lifecycle-viewmodel:$lifecycle_version\"</code> for <strong>AndroidX</strong> version, <strong>$lifecycle_version</strong> here is latest version defined.</p>\n\n<p><strong>For Pre-AndroidX</strong> use <code>implementation \"android.arch.lifecycle:viewmodel:1.1.1\"</code> <em>(1.1.1 is the last version from this artifact i guess.)</em></p></li>\n<li><p><strong>In your activity, use like this syntax</strong></p>\n\n<p>Import this class : </p>\n\n<p><code>import androidx.lifecycle.ViewModelProviders;</code> for <strong>AndroidX</strong></p>\n\n<p><code>import android.arch.lifecycle.ViewModelProviders;</code> when using <strong>Pre-AndroidX</strong></p>\n\n<p>And obtain your <code>ViewModel</code> like following</p>\n\n<p><code>ViewModelProviders.of(this).get(ProfileObservableViewModel::class.java)</code> // Kotlin syntax</p>\n\n<p>---- or ----</p>\n\n<p><code>ViewModelProviders.of(this).get(ProfileObservableViewModel.class);</code> // Java syntax</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "is_accepted": false, "score": 13, "last_activity_date": 1581191638, "last_edit_date": 1581191638, "creation_date": 1581010456, "answer_id": 60100624, "question_id": 54313453, "link": "https://stackoverflow.com/questions/54313453/how-to-instantiate-viewmodel-in-androidx/60100624#60100624", "title": "how to instantiate ViewModel In AndroidX?", "body": "<h1>Updating ViewModel to <a href=\"https://developer.android.com/jetpack/androidx/releases/lifecycle#version_220_3\" rel=\"noreferrer\">Lifecycle Version 2.2.0</a> and Above</h1>\n\n<p>The <em>ViewModels</em> (VMs) may theoretically be initialized as class level instance variables using the Kotlin extension library <code>import androidx.fragment.app.viewModels</code> method <code>by viewmodels()</code>. By initializing the VM as a class level instance var it can be accessed within the class. </p>\n\n<p><strong>Question: Is there a downside to initializing the VMs as class level instance variables instead of inside <code>onCreate</code>?</strong></p>\n\n<p>When creating the VMs with the extension function inside <code>onCreate</code> the VMs are only scoped within <code>onCreate</code> and extra code is required to reassign the class level instance variables.</p>\n\n<p><em>See documentation</em></p>\n\n<ul>\n<li><a href=\"https://developer.android.com/topic/libraries/architecture/viewmodel?utm_campaign=android_series_viewmodeldoc_110817&amp;utm_source=anddev&amp;utm_medium=yt-desc\" rel=\"noreferrer\">ViewModel Overview</a></li>\n<li><a href=\"https://developer.android.com/jetpack/androidx/releases/lifecycle#declaring_dependencies\" rel=\"noreferrer\">Lifecycle</a></li>\n</ul>\n\n<h1>Initialize VM as Class Instance Val</h1>\n\n<pre><code>class Fragment : Fragment() {\n    private val viewModel: SomeViewModel by viewModels()\n\n    private fun observeViewState() {\n        viewModel.feedViewState.observe(viewLifecycleOwner) { viewState -&gt;\n            //viewState used here.\n        }\n    }\n}\n</code></pre>\n\n<h1>Initialize VM in onCreate and Reassign Class Instance Var</h1>\n\n<pre><code>class Fragment : Fragment() {\n    private lateinit var viewModel: SomeViewModel\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        val viewModel: ContentViewModel by viewModels()\n        this.viewModel = viewModel\n    }\n\n    private fun observeViewState() {\n        viewModel.feedViewState.observe(viewLifecycleOwner) { viewState -&gt;\n            //viewState used here.\n        }\n    }\n}\n</code></pre>\n\n<h1>Passing Arguments/Parameters</h1>\n\n<pre><code>// Override ViewModelProvider.NewInstanceFactory to create the ViewModel (VM).\nclass SomeViewModelFactory(private val someString: String): ViewModelProvider.NewInstanceFactory() {\n    override fun &lt;T : ViewModel?&gt; create(modelClass: Class&lt;T&gt;): T = SomeViewModel(someString) as T\n} \n\nclass SomeViewModel(private val someString: String) : ViewModel() {\n    init {\n        //TODO: Use 'someString' to init process when VM is created. i.e. Get data request.\n    }\n}\n\nclass Fragment: Fragment() {\n    // Create VM in activity/fragment with VM factory.\n    val someViewModel: SomeViewModel by viewModels { SomeViewModelFactory(\"someString\") } \n}\n</code></pre>\n\n<h1>Enabling SavedState with Arguments/Parameters</h1>\n\n<pre><code>class SomeViewModelFactory(\n        private val owner: SavedStateRegistryOwner,\n        private val someString: String) : AbstractSavedStateViewModelFactory(owner, null) {\n    override fun &lt;T : ViewModel?&gt; create(key: String, modelClass: Class&lt;T&gt;, state: SavedStateHandle) =\n            SomeViewModel(state, someString) as T\n}\n\nclass SomeViewModel(private val state: SavedStateHandle, private val someString: String) : ViewModel() {\n    val feedPosition = state.get&lt;Int&gt;(FEED_POSITION_KEY).let { position -&gt;\n        if (position == null) 0 else position\n    }\n\n    init {\n        //TODO: Use 'someString' to init process when VM is created. i.e. Get data request.\n    }\n\n     fun saveFeedPosition(position: Int) {\n        state.set(FEED_POSITION_KEY, position)\n    }\n}\n\nclass Fragment: Fragment() {\n    // Create VM in activity/fragment with VM factory.\n    val someViewModel: SomeViewModel by viewModels { SomeViewModelFactory(this, \"someString\") } \n    private var feedPosition: Int = 0\n\n    override fun onSaveInstanceState(outState: Bundle) {\n        super.onSaveInstanceState(outState)\n        someViewModel.saveFeedPosition((contentRecyclerView.layoutManager as LinearLayoutManager)\n                .findFirstVisibleItemPosition())\n    }    \n\n    override fun onViewStateRestored(savedInstanceState: Bundle?) {\n        super.onViewStateRestored(savedInstanceState)\n        feedPosition = someViewModel.feedPosition\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 741, "user_id": 3337068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8709086f1d28b7b48018a28f6ef0c095?s=128&d=identicon&r=PG&f=1", "display_name": "i4h", "link": "https://stackoverflow.com/users/3337068/i4h"}, "edited": false, "score": 1, "creation_date": 1590572322, "post_id": 61633475, "comment_id": 109727358, "body": "Thanks a lot! That&#39;s what i was missing and most of the answers above would have taken even more time to falsify. If you are using up to date dependencies, this is probably your answer. The documentation <a href=\"https://developer.android.com/topic/libraries/architecture/livedata\" rel=\"nofollow noreferrer\">developer.android.com/topic/libraries/architecture/livedata</a> has not been updated to track the api change at the time of this comment"}, {"owner": {"reputation": 304, "user_id": 12555686, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCq4ZKFSo_m9kK0gMlQC5w11oiRsCLd_eTILjospQ=k-s128", "display_name": "Simran Sharma", "link": "https://stackoverflow.com/users/12555686/simran-sharma"}, "edited": false, "score": 0, "creation_date": 1618669765, "post_id": 61633475, "comment_id": 118674817, "body": "Thank you so much. This was what I was looking for and I couldn&#39;t find it anywhere. It was all kotlin or deprecated"}], "tags": [], "owner": {"reputation": 1131, "user_id": 1831256, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/1933b2b116c3a0631de520bb76cdfdf6?s=128&d=identicon&r=PG", "display_name": "DrGeneral", "link": "https://stackoverflow.com/users/1831256/drgeneral"}, "is_accepted": false, "score": 6, "last_activity_date": 1588762794, "creation_date": 1588762794, "answer_id": 61633475, "question_id": 54313453, "link": "https://stackoverflow.com/questions/54313453/how-to-instantiate-viewmodel-in-androidx/61633475#61633475", "title": "how to instantiate ViewModel In AndroidX?", "body": "<p>PS. This is for someone who is using java and got stuck for a while like I did and this SO answer comes up in google all the time.</p>\n\n<p>Apparently, the API has change as of this date (6 May 2020), I had to do this to get it working.</p>\n\n<pre><code>// 1. Create a ViewModel Class Let's call it AppStateViewModel\n\n// 2. Put below code Inside Activity onCreate like this:\nViewModelProvider.Factory factory = new ViewModelProvider.NewInstanceFactory();\nappStateManager = new ViewModelProvider(this, factory).get(AppStateViewModel.class);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1324, "user_id": 331655, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/eb01f5e25a224fe693ae29399911caf9?s=128&d=identicon&r=PG", "display_name": "Amrit Bera", "link": "https://stackoverflow.com/users/331655/amrit-bera"}, "is_accepted": false, "score": 2, "last_activity_date": 1588970436, "creation_date": 1588970436, "answer_id": 61687744, "question_id": 54313453, "link": "https://stackoverflow.com/questions/54313453/how-to-instantiate-viewmodel-in-androidx/61687744#61687744", "title": "how to instantiate ViewModel In AndroidX?", "body": "<blockquote>\n  <p><a href=\"https://developer.android.com/reference/androidx/lifecycle/ViewModelProviders\" rel=\"nofollow noreferrer\">ViewModelProviders</a>:  This class is deprecated. Use the constructors for ViewModelProvider directly. </p>\n</blockquote>\n\n<p>Examples in <strong>Kotlin</strong></p>\n\n<p>This is how you can use <a href=\"https://developer.android.com/reference/androidx/lifecycle/ViewModelProvider\" rel=\"nofollow noreferrer\">ViewModelProvider</a> directly:</p>\n\n<p>If your view-model is extending <strong><a href=\"https://developer.android.com/reference/kotlin/androidx/lifecycle/AndroidViewModel\" rel=\"nofollow noreferrer\">AndroidViewModel</a></strong> with just one argument, the app - then you can use the default <a href=\"https://developer.android.com/reference/kotlin/androidx/lifecycle/ViewModelProvider.AndroidViewModelFactory\" rel=\"nofollow noreferrer\">AndroidViewModelFactory</a> and you don't have to write a new Factory. Example:</p>\n\n<pre><code>// Activity / fragment class\nprivate lateinit var viewModel: MyOwnAndroidViewModel\n\n    // onCreate\n    viewModel = ViewModelProvider(\n            this,\n            ViewModelProvider.AndroidViewModelFactory(application)\n        ).get(MyOwnAndroidViewModel::class.java)\n</code></pre>\n\n<p>If your view-model is only extending the <strong><a href=\"https://developer.android.com/reference/kotlin/androidx/lifecycle/ViewModel\" rel=\"nofollow noreferrer\">ViewModel</a></strong> without extra arguments then use the <a href=\"https://developer.android.com/reference/kotlin/androidx/lifecycle/ViewModelProvider.NewInstanceFactory\" rel=\"nofollow noreferrer\">NewInstanceFactory()</a>.</p>\n\n<pre><code>// Activity / fragment class\nprivate lateinit var viewModel: MyOwnViewModel\n\n    // onCreate\n    viewModel = ViewModelProvider(\n            this,\n            ViewModelProvider.NewInstanceFactory()\n        ).get(MyOwnViewModel::class.java)\n</code></pre>\n\n<p><em>Adam's answer above covers other variations as well.</em></p>\n\n<p><em>Disclaimer: Still learning basic Android development - if there's any problem with the code, let me know in comments.</em></p>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 9471656, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8c5b68529b23f5c6febca8780daf961?s=128&d=identicon&r=PG&f=1", "display_name": "Pedro Pinheiro", "link": "https://stackoverflow.com/users/9471656/pedro-pinheiro"}, "is_accepted": false, "score": 1, "last_activity_date": 1591382375, "creation_date": 1591382375, "answer_id": 62222123, "question_id": 54313453, "link": "https://stackoverflow.com/questions/54313453/how-to-instantiate-viewmodel-in-androidx/62222123#62222123", "title": "how to instantiate ViewModel In AndroidX?", "body": "<p>For me, the only thing that worked: </p>\n\n<pre><code>implementation 'androidx.fragment:fragment:1.2.4'\n</code></pre>\n"}], "owner": {"reputation": 3293, "user_id": 5993479, "user_type": "registered", "profile_image": "https://graph.facebook.com/1036196443166401/picture?type=large", "display_name": "Nurseyit Tursunkulov", "link": "https://stackoverflow.com/users/5993479/nurseyit-tursunkulov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28209, "favorite_count": 9, "accepted_answer_id": 54313573, "answer_count": 6, "score": 33, "last_activity_date": 1610245797, "creation_date": 1548177789, "last_edit_date": 1592107824, "question_id": 54313453, "link": "https://stackoverflow.com/questions/54313453/how-to-instantiate-viewmodel-in-androidx", "title": "how to instantiate ViewModel In AndroidX?", "body": "<p>I want to initialize ViewModel in Activity using androidx library</p>\n\n<p>I have tried what documentation says but it is not working. the \".of\" is not resolved.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>import androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport androidx.databinding.DataBindingUtil\nimport androidx.lifecycle.ViewModelProvider\nimport com.example.myapplication.databinding.ActivityMainBinding`\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        val binding: ActivityMainBinding = DataBindingUtil.setContentView(\n            this, R.layout.activity_main)\n        binding.setLifecycleOwner(this)\n\n        var model = ViewModelProvider.of(this).get(SheduleViewModel::class.java)\n\n    }\n}\n</code></pre>\n\n<p>of is not resolved, maybe there are another way to do it in androidx</p>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 1, "creation_date": 1548176779, "post_id": 54313026, "comment_id": 95446410, "body": "Your biggest error is flawed exception logging. Do not ever use <code>Exception#message</code> for debug, either print the entire stacktrace (<code>Timber.i(t, &quot;error image&quot;)</code>) or at least toString it (<code>&quot; error image&quot; + t</code>) when you are sure you don&#39;t need a stacktrace because not every exception has a message and even if it has one, it&#39;s mostly useless. Change that, then add the full stacktrace to your question so there is a chance to figure out what&#39;s wrong."}, {"owner": {"reputation": 338, "user_id": 1872863, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/mrSyj.jpg?s=128&g=1", "display_name": "Jsenechal", "link": "https://stackoverflow.com/users/1872863/jsenechal"}, "reply_to_user": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1548177667, "post_id": 54313026, "comment_id": 95446848, "body": "ok thanks I have update my error message"}, {"owner": {"reputation": 60093, "user_id": 995891, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/cbcf412e8fc60799c981f62a7c30e907?s=128&d=identicon&r=PG", "display_name": "zapl", "link": "https://stackoverflow.com/users/995891/zapl"}, "edited": false, "score": 0, "creation_date": 1548196061, "post_id": 54313026, "comment_id": 95454566, "body": "the ... part is actually interesting, don&#39;t cut that off. Anyways, the issue you have is that the file you try to upload is not a regular file but an item from a contentprovider. <code>&#47;document&#47;image:74</code> does not exist in the android filesystem. See <a href=\"https://commonsware.com/blog/2016/03/15/how-consume-content-uri.html\" rel=\"nofollow noreferrer\">commonsware.com/blog/2016/03/15/how-consume-content-uri.html</a> You need <code>ContentResolver#openInputStream()</code> (example e.g. <a href=\"https://developer.android.com/guide/topics/providers/document-provider#open-client\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/providers/&hellip;</a>) and build a <code>RequestBody</code> not using <code>File</code> but <code>byte[]</code> for example. Or see <a href=\"https://github.com/square/okhttp/issues/3585\" rel=\"nofollow noreferrer\">github.com/square/okhttp/issues/3585</a> for more ideas"}], "answers": [{"tags": [], "owner": {"reputation": 338, "user_id": 1872863, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/mrSyj.jpg?s=128&g=1", "display_name": "Jsenechal", "link": "https://stackoverflow.com/users/1872863/jsenechal"}, "is_accepted": false, "score": 5, "last_activity_date": 1548967877, "creation_date": 1548967877, "answer_id": 54469031, "question_id": 54313026, "link": "https://stackoverflow.com/questions/54313026/kotlin-retrofit-upload-image-not-found/54469031#54469031", "title": "Kotlin retrofit upload image not found", "body": "<p>Finally my solution</p>\n\n<pre><code>class FileHelper {\n\nfun createFile(realPath: String): File {\n    return File(realPath)\n}\n\nfun createRequestBody(file: File): RequestBody {\n    val MEDIA_TYPE_IMAGE: MediaType = MediaType.parse(\"image/*\")!!\n    return RequestBody.create(MEDIA_TYPE_IMAGE, file)\n}\n\nfun createPart(file: File, requestBody: RequestBody): MultipartBody.Part {\n    return MultipartBody.Part.createFormData(\"image\", file.name, requestBody)\n}\n\nfun getPathFromURI(context: Context, uri: Uri): String? {\n    val path: String = uri.path\n    var realPath: String? = null\n\n    val databaseUri: Uri\n    val selection: String?\n    val selectionArgs: Array&lt;String&gt;?\n    if (path.contains(\"/document/image:\")) { // files selected from \"Documents\"\n        databaseUri = MediaStore.Images.Media.EXTERNAL_CONTENT_URI\n        selection = \"_id=?\"\n        selectionArgs = arrayOf(DocumentsContract.getDocumentId(uri).split(\":\")[1])\n    } else { // files selected from all other sources, especially on Samsung devices\n        databaseUri = uri\n        selection = null\n        selectionArgs = null\n    }\n    try {\n        val projection = arrayOf(\n            MediaStore.Images.Media.DATA,\n            MediaStore.Images.Media._ID,\n            MediaStore.Images.Media.ORIENTATION,\n            MediaStore.Images.Media.DATE_TAKEN\n        ) // some example data you can query\n        val cursor = context.contentResolver.query(\n            databaseUri,\n            projection, selection, selectionArgs, null\n        )\n        if (cursor.moveToFirst()) {\n            val columnIndex = cursor.getColumnIndex(projection[0])\n            realPath = cursor.getString(columnIndex)\n        }\n        cursor.close()\n    } catch (e: Exception) {\n        Timber.i(\"zeze get path error \" + e.message)\n    }\n    return realPath\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>@Multipart\n@POST(\"api/update/enfant/photo/{id}\")\nfun uploadImage(\n    @Path(\"id\") enfantId: Int,\n    @Part file: MultipartBody.Part,\n    @Part(\"image\") requestBody: RequestBody): Call&lt;ResponseBody&gt;\n</code></pre>\n"}], "owner": {"reputation": 338, "user_id": 1872863, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/mrSyj.jpg?s=128&g=1", "display_name": "Jsenechal", "link": "https://stackoverflow.com/users/1872863/jsenechal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4176, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1548967877, "creation_date": 1548176242, "last_edit_date": 1548177643, "question_id": 54313026, "link": "https://stackoverflow.com/questions/54313026/kotlin-retrofit-upload-image-not-found", "title": "Kotlin retrofit upload image not found", "body": "<p>I'm trying to send a photo from the gallery but I have an error indicating image not found</p>\n\n<p>The request does not even go to the server</p>\n\n<p>In fragment</p>\n\n<pre><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    if (resultCode == Activity.RESULT_OK) {\n        when (requestCode) {\n            REQUEST_SELECT_IMAGE_IN_ALBUM -&gt; {\n                val contentURI = data!!.data\n                postServer(contentURI)\n\n            }\n        }\n    }\n}\n\nprivate fun postServer(contentURI: Uri) {\n\n    val MEDIA_TYPE_IMAGE: MediaType = MediaType.parse(\"image/*\")!!\n    val file = File(contentURI.path)\n    val requestBody: RequestBody = RequestBody.create(MEDIA_TYPE_IMAGE, file)\n    mercrediViewModel.uploadImage(enfant, requestBody)\n}\n</code></pre>\n\n<p>In my model</p>\n\n<pre><code>fun uploadImage(enfant: Enfant, requestBody: RequestBody) {\n    viewModelScope.launch {\n\n        val request = mercrediService.uploadImage(\"****\", enfant.id, requestBody)\n        request.enqueue(object : Callback&lt;ResponseBody&gt; {\n            override fun onFailure(call: Call&lt;ResponseBody&gt;, t: Throwable) {\n                Timber.i(\" error image\" + t)\n            }\n\n            override fun onResponse(call: Call&lt;ResponseBody&gt;, response: Response&lt;ResponseBody&gt;) {\n                Timber.i(\" response image\" + response.body())\n            }\n\n        })\n    }\n}\n</code></pre>\n\n<p>And retrofit service</p>\n\n<pre><code>@Multipart\n@POST(\"api/update/enfant/photo/{id}\")\nfun uploadImage(\n    @Header(\"X-AUTH-TOKEN\") token: String?,\n    @Path(\"id\") id: Int,\n    @Part(\"image\") image: RequestBody\n): Call&lt;ResponseBody&gt;\n</code></pre>\n\n<p>I have this error</p>\n\n<p>ok thank you, I have change this the error message is the same: </p>\n\n<p>I/MercrediViewModel$uploadImage: zeze error image\n    java.io.FileNotFoundException: /document/image:74 (No such file or directory)\n        at java.io.FileInputStream.open(Native Method)\n        at java.io.FileInputStream.(FileInputStream.java:146)\n        at okio.Okio.source(Okio.java:168)\n        at okhttp3.RequestBody$3.writeTo(RequestBody.java:119)\n        at okhttp3.MultipartBody.writeOrCountBytes(MultipartBody.java:173)\n        at okhttp3.MultipartBody.writeTo(MultipartBody.java:114)\n        .....</p>\n\n<p>Thank you</p>\n"}, {"tags": ["android", "api", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "edited": false, "score": 0, "creation_date": 1548177329, "post_id": 54312471, "comment_id": 95446669, "body": "is it happening the very first time you click after loading the data on screen? or after removing or adding an item?"}, {"owner": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "edited": false, "score": 0, "creation_date": 1548209331, "post_id": 54312471, "comment_id": 95457792, "body": "can you pls. post your ViewModel class."}, {"owner": {"reputation": 193, "user_id": 9568474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b2d4967182a6f09f7579b083ea827a9?s=128&d=identicon&r=PG&f=1", "display_name": "Jona", "link": "https://stackoverflow.com/users/9568474/jona"}, "reply_to_user": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "edited": false, "score": 0, "creation_date": 1548231231, "post_id": 54312471, "comment_id": 95463986, "body": "It happens after adding an item @rafa"}, {"owner": {"reputation": 193, "user_id": 9568474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b2d4967182a6f09f7579b083ea827a9?s=128&d=identicon&r=PG&f=1", "display_name": "Jona", "link": "https://stackoverflow.com/users/9568474/jona"}, "reply_to_user": {"reputation": 1262, "user_id": 2607738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571796baa99b24c4be39d8c685aec55a?s=128&d=identicon&r=PG", "display_name": "rafa", "link": "https://stackoverflow.com/users/2607738/rafa"}, "edited": false, "score": 0, "creation_date": 1548231386, "post_id": 54312471, "comment_id": 95464066, "body": "I just added ViewModel class"}], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 9568474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b2d4967182a6f09f7579b083ea827a9?s=128&d=identicon&r=PG&f=1", "display_name": "Jona", "link": "https://stackoverflow.com/users/9568474/jona"}, "edited": false, "score": 0, "creation_date": 1548241092, "post_id": 54323330, "comment_id": 95469737, "body": "Thank you for the answer, below I already posted the solution"}], "tags": [], "owner": {"reputation": 1485, "user_id": 6748763, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lG44N.jpg?s=128&g=1", "display_name": "alireza easazade", "link": "https://stackoverflow.com/users/6748763/alireza-easazade"}, "is_accepted": false, "score": 0, "last_activity_date": 1548233726, "creation_date": 1548233726, "answer_id": 54323330, "question_id": 54312471, "link": "https://stackoverflow.com/questions/54312471/save-api-data-in-room-database-in-android/54323330#54323330", "title": "Save API data in Room database in Android", "body": "<p>the problem probably lies within the way you identify the data of the item that has been clicked in your list.\nwhat i usually do is to pass the clicklistener as lambda function to the RecyclerAdapter\nthis way you can set the clicklistener on viewholder in onBindViewHolder\nso this approach could be like this :</p>\n\n<pre><code>//in your ListAdapter class constructor instead of\nclass TutorListAdapter(private val tutorsList: MutableList&lt;Tutor&gt;?, private val onItemClickListener: ListItemClickListener)\n//do like this\nclass TutorListAdapter(private val tutorsList: MutableList&lt;Tutor&gt;?, private val onItemClicked: (Tutor)-&gt;Unit)\n</code></pre>\n\n<pre><code>//in your onBindViewHolder\noverride fun onBindViewHolder(listViewHolder: ListViewHolder, position: Int) {\n   listViewHolder.view.setOnClickListener{\n      onItemClicked(tutorsList[position])\n      //rest of your code\n   }\n}\n</code></pre>\n\n<pre><code>//in your fragment when creating TutorListAdapter\ntutorViewModel.getAllTutors().observe(viewLifecycleOwner, Observer {\n        if (it != null) {\n            tutorListAdapter = TutorListAdapter(it as MutableList&lt;Tutor&gt;?, {tutor-&gt;\n                    //you have the tutor object\n                    //now do what ever you want\n                })\n            recyclerView!!.adapter = tutorListAdapter\n        }\n    })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 193, "user_id": 9568474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b2d4967182a6f09f7579b083ea827a9?s=128&d=identicon&r=PG&f=1", "display_name": "Jona", "link": "https://stackoverflow.com/users/9568474/jona"}, "is_accepted": true, "score": 0, "last_activity_date": 1548241035, "creation_date": 1548241035, "answer_id": 54325639, "question_id": 54312471, "link": "https://stackoverflow.com/questions/54312471/save-api-data-in-room-database-in-android/54325639#54325639", "title": "Save API data in Room database in Android", "body": "<p>I found the solution\nThe problem was that in onListItemClick function I call the list that is being populated from API not from Room\nSo this is the solution</p>\n\n<p>I created a list variable that gets populated inside getAlltutors() function:</p>\n\n<pre><code>private lateinit var list: List&lt;Tutor&gt;\n\ntutorViewModel.getAllTutors().observe(viewLifecycleOwner, Observer {\n        list = it!!\n        //rest of the code\n    })\n</code></pre>\n\n<p>Then in OnListClickItem function :</p>\n\n<pre><code> override fun onListItemClick(view: View, position: Int) {\n\n    val tutor = list[position]    //line that changed\n    val fragment = UserDetails()\n    val title = \"User Details\"\n    val bundle = Bundle()\n    println(\"Name: \" + tutor.name)\n    bundle.putString(\"name\", tutor.name)\n    bundle.putString(\"lastname\", tutor.lastname)\n    bundle.putString(\"email\", tutor.email)\n    bundle.putInt(\"userID\", tutor.userId)\n    bundle.putInt(\"role\", tutor.roleFk)\n    bundle.putString(\"course\", tutor.pathName)\n    fragment.arguments = bundle\n\n    val fragmentManager = fragmentManager!!\n    val ft = fragmentManager.beginTransaction()\n    ft.replace(R.id.frame, fragment)\n    ft.addToBackStack(null)\n    ft.commit()\n\n    (activity as AppCompatActivity).supportActionBar!!.title = title\n\n}\n</code></pre>\n\n<p>Now it works</p>\n"}], "owner": {"reputation": 193, "user_id": 9568474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6b2d4967182a6f09f7579b083ea827a9?s=128&d=identicon&r=PG&f=1", "display_name": "Jona", "link": "https://stackoverflow.com/users/9568474/jona"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1645, "favorite_count": 0, "accepted_answer_id": 54325639, "answer_count": 2, "score": 0, "last_activity_date": 1548241131, "creation_date": 1548174246, "last_edit_date": 1548241131, "question_id": 54312471, "link": "https://stackoverflow.com/questions/54312471/save-api-data-in-room-database-in-android", "title": "Save API data in Room database in Android", "body": "<p>I want to take the data from API using retrofit and save them in room database. Then populate my Adapter, I added the data in Room but when the list with data shows to me when I click an element of the list of users I click to X user and it shows me the data for another user.  I haven't figured out where is my problem\nHere is my code:</p>\n\n<pre><code>class TutorsFragment : Fragment(), TutorListAdapter.ListItemClickListener, fromBackgroundToMainUIThread {\n\n\nprivate var recyclerView: RecyclerView? = null\nprivate var tutorListAdapter: TutorListAdapter? = null\nprivate lateinit var tutors: List&lt;Tutors&gt;\nprivate lateinit var tutorViewModel: StudentTutorViewModel\n\noverride fun onTutorsReceived(tutors: List&lt;Tutors&gt;) {\n    this.tutors = tutors\n}\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val tutorView = inflater.inflate(R.layout.fragment_tutors, null)\n\n    recyclerView = tutorView.findViewById&lt;View&gt;(R.id.recyclerview_tutors) as RecyclerView\n    tutorViewModel = ViewModelProviders.of(this).get(StudentTutorViewModel::class.java)\n\n    val layoutManager = LinearLayoutManager(this.activity, LinearLayoutManager.VERTICAL, false)\n    recyclerView!!.layoutManager = layoutManager\n\n    recyclerView!!.setHasFixedSize(true)\n\n    tutorViewModel.getAllTutors().observe(viewLifecycleOwner, Observer {\n        if (it != null) {\n            tutorListAdapter = TutorListAdapter(it as MutableList&lt;Tutor&gt;?, this@TutorsFragment)\n            recyclerView!!.adapter = tutorListAdapter\n        }\n    })\n\n    val api = RetrofitClient.getInstance().apiService\n    val call = api!!.tutorsList\n\n    call.enqueue(object : Callback&lt;List&lt;Tutors&gt;&gt; {\n        override fun onResponse(call: Call&lt;List&lt;Tutors&gt;&gt;, response: Response&lt;List&lt;Tutors&gt;&gt;) {\n\n            Log.d(\"Tutors:  \", response.toString())\n            val tutorsList = response.body()\n\n            tutorsList!!.forEach {\n                val tutor = Tutor(it.userID!!, it.name!!, it.lastname!!, it.email!!, it.roleFK!!, it.course!!.pathName)\n                tutorViewModel.addTutor(tutor)\n            }\n\n            if (true) {\n                this@TutorsFragment.onTutorsReceived(tutorsList)\n            }\n\n        }\n\n        override fun onFailure(call: Call&lt;List&lt;Tutors&gt;&gt;, t: Throwable) {\n            Toast.makeText(activity!!.applicationContext, t.message, Toast.LENGTH_SHORT).show()\n        }\n    })\n\n    }\n\n    val fab = tutorView.findViewById&lt;View&gt;(R.id.fab_tutors) as FloatingActionButton\n    fab.setOnClickListener {\n        val fragment = AddStudentAndTutorFragment()\n        val title = \"Add Tutors\"\n        val fragmentManager = fragmentManager\n        val ft = fragmentManager!!.beginTransaction()\n        ft.replace(R.id.frame, fragment)\n        ft.addToBackStack(null)\n        ft.commit()\n\n        (activity as AppCompatActivity).supportActionBar!!.setTitle(title)\n    }\n\n    return tutorView\n}\n\noverride fun onListItemClick(view: View, position: Int) {\n\n    val tutor = tutors[position]\n    val fragment = UserDetails()\n    val title = \"User Details\"\n    val bundle = Bundle()\n    bundle.putString(\"name\", tutor.name)\n    bundle.putString(\"lastname\", tutor.lastname)\n    bundle.putString(\"email\", tutor.email)\n    bundle.putInt(\"userID\", tutor.userID!!)\n    bundle.putInt(\"role\", tutor.roleFK!!)\n    bundle.putString(\"course\", tutor.course!!.pathName)\n    fragment.arguments = bundle\n\n    val fragmentManager = fragmentManager!!\n    val ft = fragmentManager.beginTransaction()\n    ft.replace(R.id.frame, fragment)\n    ft.addToBackStack(null)\n    ft.commit()\n\n    (activity as AppCompatActivity).supportActionBar!!.title = title\n\n}\n\noverride fun onResume() {\n    super.onResume()\n    val activity = activity as AppCompatActivity?\n    val actionBar = activity!!.supportActionBar\n    val my_fragment_title = \"Tutors\"\n    actionBar!!.title = my_fragment_title\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>internal interface fromBackgroundToMainUIThread {\nfun onTutorsReceived(tutors: List&lt;Tutors&gt;)\n</code></pre>\n\n<p>}</p>\n\n<p>And Here is my Adapter class:</p>\n\n<pre><code>class TutorListAdapter(private val tutorsList: MutableList&lt;Tutor&gt;?, private val onItemClickListener: ListItemClickListener) : RecyclerView.Adapter&lt;TutorListAdapter.ListViewHolder&gt;() {\n\noverride fun onCreateViewHolder(viewGroup: ViewGroup, viewtype: Int): ListViewHolder {\n\n    return ListViewHolder(viewGroup.inflate(R.layout.list_item))\n}\n\noverride fun getItemCount(): Int {\n    return tutorsList!!.size\n}\n\n@SuppressLint(\"SetTextI18n\")\noverride fun onBindViewHolder(listViewHolder: ListViewHolder, position: Int) {\n\n    val tutors = tutorsList!![position]\n    listViewHolder.listItemTextView.text = tutors.name + \"  \" + tutors.lastname\n}\n\nfun removeItem(position: Int) {\n    if (position &lt; 0 || position &gt;= tutorsList!!.size) {\n        return\n    }\n\n    tutorsList.removeAt(position)\n    notifyItemRemoved(position)\n    notifyDataSetChanged()\n\n}\n\ninterface ListItemClickListener {\n\n    fun onListItemClick(view: View, position: Int)\n}\n\ninner class ListViewHolder(view: View) : RecyclerView.ViewHolder(view), View.OnClickListener {\n    var listItemTextView: TextView\n\n    init {\n\n        listItemTextView = view.findViewById&lt;View&gt;(R.id.list_item_textview) as TextView\n        view.setOnClickListener(this)\n    }\n\n    override fun onClick(v: View) {\n        onItemClickListener.onListItemClick(v, adapterPosition)\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>ViewModel class:</p>\n\n<pre><code>class StudentTutorViewModel(application: Application) : AndroidViewModel(application) {\n\nvar repository: Repository = Repository(application)\n\nfun addTutor(tutor: Tutor) = repository.addTutor(tutor)\n\nfun getAllTutors() = repository.getTutors()\n</code></pre>\n\n<p>}</p>\n\n<p>I would appreciate it if anyone can help me</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 1, "creation_date": 1548177279, "post_id": 54311577, "comment_id": 95446645, "body": "Your issue is conceptually equivalent to: <a href=\"https://stackoverflow.com/questions/36465626/kotlin-required-kotlin-boolean-found-kotlin-boolean\" title=\"kotlin required kotlin boolean found kotlin boolean\">stackoverflow.com/questions/36465626/&hellip;</a>"}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1548193926, "post_id": 54311577, "comment_id": 95453860, "body": "<code>lateinit var mRef:DatabaseReference</code> helps to avoid !! around mRef.  The <code>mRef!!.push().key</code> can be null. It is up to your database to understand if it is possible or not. The safest way is to add a check for null, e,g, if statement or to use Elvis operator <code>?:</code> to pass an expression when the left side is null"}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 10798839, "user_type": "registered", "profile_image": "https://graph.facebook.com/2421907671185151/picture?type=large", "display_name": "Gearoid O Donovan", "link": "https://stackoverflow.com/users/10798839/gearoid-o-donovan"}, "edited": false, "score": 1, "creation_date": 1548171793, "post_id": 54311651, "comment_id": 95443522, "body": "Much appreciated!!"}], "tags": [], "owner": {"reputation": 1834, "user_id": 2435402, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lsmPv.png?s=128&g=1", "display_name": "ElliotM", "link": "https://stackoverflow.com/users/2435402/elliotm"}, "is_accepted": false, "score": 9, "last_activity_date": 1548171408, "creation_date": 1548171408, "answer_id": 54311651, "question_id": 54311577, "link": "https://stackoverflow.com/questions/54311577/error-requiredstring-foundstring-kotlin-and-android-studio/54311651#54311651", "title": "Error &quot;Required:String Found:String?&quot; Kotlin and Android Studio", "body": "<p>Kotlin forces you to be hyper-conscious about nullability.</p>\n\n<p>Your <code>Note</code> entity say its requires a non-nullable <code>id:String</code>, and apparently, <code>mRef!!.push().key</code> returns a <code>String?</code> meaning it's a nullable String. You can fix this by double-banging it , i.e. <code>mReff!!.push().key!!</code></p>\n\n<p>Another tip is to <code>ALT+ENTER</code> these Kotlin related errors, it'll provide the double-bang for you. </p>\n"}, {"comments": [{"owner": {"reputation": 1834, "user_id": 2435402, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lsmPv.png?s=128&g=1", "display_name": "ElliotM", "link": "https://stackoverflow.com/users/2435402/elliotm"}, "edited": false, "score": 2, "creation_date": 1548172813, "post_id": 54311776, "comment_id": 95444180, "body": "&quot;..<code>!!</code> is dangerous..&quot; - it&#39;s important to keep in mind that while yes you should be conscious of the nullable scenarios, there is something to be said in specific situations (maybe not this example) where something should really <i>never</i> be null even though the return type can be - then there are bigger problems at hand -maybe the app should kick and scream until the workflow issue is solved."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 1834, "user_id": 2435402, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lsmPv.png?s=128&g=1", "display_name": "ElliotM", "link": "https://stackoverflow.com/users/2435402/elliotm"}, "edited": false, "score": 0, "creation_date": 1548174465, "post_id": 54311776, "comment_id": 95445102, "body": "I&#39;ve set to see a legitimately safe use of this operator outside of singleton initialization when parameters are required. No matter where you assume it&#39;s safe to use, it <i>will</i> come back to bite you."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 1, "last_activity_date": 1548171828, "creation_date": 1548171828, "answer_id": 54311776, "question_id": 54311577, "link": "https://stackoverflow.com/questions/54311577/error-requiredstring-foundstring-kotlin-and-android-studio/54311776#54311776", "title": "Error &quot;Required:String Found:String?&quot; Kotlin and Android Studio", "body": "<p>Your <code>id</code> property in <code>Note</code> is declared as non-null <code>String</code>, while the key you have is a potentially null <code>String?</code>. You need to bridge this gap. </p>\n\n<ol>\n<li><p>The simplest but most dangerous way is to use <code>!!</code>, which will produce an exception if the <code>key</code> was null, i.e.</p>\n\n<pre><code>var id = mRef!!.push().key!!\n</code></pre></li>\n<li><p>A better way is to handle the null case somehow, for example by performing a null check:</p>\n\n<pre><code>var id = mRef!!.push().key\nif (id != null) {\n    var myNote = Note(id, title, note, ServerValue.TIMESTAMP)\n    mRef!!.child(id).setValue(myNote)\n    alertDialog.dismiss()\n} else {\n    // handle the case where key is null somehow\n}\n</code></pre></li>\n<li><p>You could also make the property in your own class nullable, and deal with the ID value in there potentially being null later:</p>\n\n<pre><code>class Note (var id: String?, var title: String, var note: String, var timestamp: MutableMap&lt;String, String&gt;)\n</code></pre></li>\n</ol>\n\n<p>Note that all the <code>mRef!!</code> calls are problematic as well. For one, Hungarian notation (the <code>m</code> prefix) is generally discouraged in Kotlin, and the <code>!!</code> operator is dangerous as well. You'd be better off handling the null case early for that reference, and then you could use it more conveniently, without having to litter your code with <code>!!</code>.</p>\n\n<p>I also encourage you to read up on null safety in general the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">official documentation</a> or <a href=\"https://stackoverflow.com/a/34498563/4465208\">in this answer</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "is_accepted": false, "score": 0, "last_activity_date": 1563302111, "creation_date": 1563302111, "answer_id": 57063513, "question_id": 54311577, "link": "https://stackoverflow.com/questions/54311577/error-requiredstring-foundstring-kotlin-and-android-studio/57063513#57063513", "title": "Error &quot;Required:String Found:String?&quot; Kotlin and Android Studio", "body": "<p>You can use:</p>\n\n<p><code>@Suppress(\"NULLABILITY_MISMATCH_BASED_ON_JAVA_ANNOTATIONS\")</code></p>\n"}], "owner": {"reputation": 77, "user_id": 10798839, "user_type": "registered", "profile_image": "https://graph.facebook.com/2421907671185151/picture?type=large", "display_name": "Gearoid O Donovan", "link": "https://stackoverflow.com/users/10798839/gearoid-o-donovan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11310, "favorite_count": 0, "answer_count": 3, "score": 7, "last_activity_date": 1563302111, "creation_date": 1548171132, "last_edit_date": 1548174972, "question_id": 54311577, "link": "https://stackoverflow.com/questions/54311577/error-requiredstring-foundstring-kotlin-and-android-studio", "title": "Error &quot;Required:String Found:String?&quot; Kotlin and Android Studio", "body": "<p>As the title suggests Im getting a red underline under \"id\" on the line \"var myNote = Note(id, title, note, ServerValue.TIMESTAMP)\"\nError \"Required:String Found:String?\" Kotlin and Android Studio</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    var mRef:DatabaseReference? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val database = FirebaseDatabase.getInstance()\n        mRef = database.getReference(\"Notes\")\n\n        add_new_note.setOnClickListener {\n            showDialogAddNote()\n        }\n    }\n\n    fun showDialogAddNote() {\n        val alertBuilder = AlertDialog.Builder(this)\n\n        val view = layoutInflater.inflate(R.layout.add_note, null)\n\n        alertBuilder.setView(view)\n\n        val alertDialog = alertBuilder.create()\n        alertDialog.show()\n\n        view.btnSaveNote.setOnClickListener {\n            val title = view.etTitle.text.toString()\n            val note = view.etNote.text.toString()\n\n            if (title.isNotEmpty() &amp;&amp; note.isNotEmpty()) {\n                var id = mRef!!.push().key\n\n                var myNote = Note(id, title, note, ServerValue.TIMESTAMP)\n                mRef!!.child(id).setValue(myNote)\n                alertDialog.dismiss()    \n            } else {\n                Toast.makeText(this, \"Empty\", Toast.LENGTH_LONG).show()\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Here is my Notes.kt class</p>\n\n<pre><code>package com.example.gearoidodonovan.books\n\nimport java.util.*\n\nclass Note (var id:String, var title:String, var note:String, var timestamp: MutableMap&lt;String, String&gt;) {\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 38332, "user_id": 763585, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/34f929fab16e27f59c5193f0db678125?s=128&d=identicon&r=PG", "display_name": "evanmcdonnal", "link": "https://stackoverflow.com/users/763585/evanmcdonnal"}, "is_accepted": true, "score": 2, "last_activity_date": 1548176886, "creation_date": 1548176886, "answer_id": 54313207, "question_id": 54310719, "link": "https://stackoverflow.com/questions/54310719/type-casting-to-satisfy-multiple-type-constraints/54313207#54313207", "title": "Type casting to satisfy multiple type constraints", "body": "<p>The type has to explicitly implement the required interfaces and since <code>Any</code> cannot be both <code>B</code> and <code>A</code> (even though it implements both) simultaneously there has to be a third type, like <code>C</code>.</p>\n\n<p>This similar question has a generic work around; <a href=\"https://stackoverflow.com/questions/44448651/is-intersection-casting-possible-in-kotlin?rq=1\">Is intersection casting possible in Kotlin?</a></p>\n\n<p>so arbitrary types <code>T</code> which implement <code>A</code> and <code>B</code> can be recognized as such but <code>is</code> and <code>as</code> can't be directly composed with <code>&amp;&amp;</code> which makes it impossible to satisfy your functions type constraints without some kind of explicitly implementing wrapper.</p>\n"}], "owner": {"reputation": 135, "user_id": 2936375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665a7ba89c4b0a39171dcd8688b57656?s=128&d=identicon&r=PG&f=1", "display_name": "mhswtf", "link": "https://stackoverflow.com/users/2936375/mhswtf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 1, "accepted_answer_id": 54313207, "answer_count": 1, "score": 5, "last_activity_date": 1548176886, "creation_date": 1548168279, "question_id": 54310719, "link": "https://stackoverflow.com/questions/54310719/type-casting-to-satisfy-multiple-type-constraints", "title": "Type casting to satisfy multiple type constraints", "body": "<p>Is it possible to typecast to satisfy multiple type constraints in kotlin? </p>\n\n<p>Say I have the following case, but want to avoid type casting to class <code>C</code> (in case multiple classes implement <code>A</code> and <code>B</code>, or I don't know type <code>C</code>):</p>\n\n<pre><code>interface A\ninterface B\n\nclass C: A, B\n\nfun &lt;T&gt; foo(bar: T) where T: A, T: B {\n\n}\n</code></pre>\n\n<p>Is it possible to typecast to <code>A</code> and <code>B</code> simultaneously? Smart cast doesn't seem to allow this. Can I manually cast somehow?</p>\n\n<pre><code>val c = C()\nfoo(c) // works\n\nval d: Any = c\nif (d is A &amp;&amp; d is B) {\n    foo(d) // smart cast doesn't work here, compiler error\n}\n\n// Something like this maybe?\nfoo(d as A &amp;&amp; B)\n</code></pre>\n\n<p>I know it's possible by creating a new interface that inherits from both <code>A</code> and <code>B</code>, and then use that, but that may not be possible if I don't control the classes in question.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin", "android-view", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1548164487, "post_id": 54309529, "comment_id": 95438720, "body": "If your fragment is in state where it has not called <code>onCreateView</code> yet - or it has already called <code>onDestroyView</code> then Views will always be null."}, {"owner": {"reputation": 1316, "user_id": 4646227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-YHNURzkB3Qk/AAAAAAAAAAI/AAAAAAAAAEo/NcFD3VHNLcE/photo.jpg?sz=128", "display_name": "farhan patel", "link": "https://stackoverflow.com/users/4646227/farhan-patel"}, "reply_to_user": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1548164663, "post_id": 54309529, "comment_id": 95438821, "body": "It&#39;s called from onViewCreated()"}, {"owner": {"reputation": 918, "user_id": 6478596, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-N6YWrnldsP4/AAAAAAAAAAI/AAAAAAAAADM/uG5dMgY9leY/photo.jpg?sz=128", "display_name": "Federico De Gioannini", "link": "https://stackoverflow.com/users/6478596/federico-de-gioannini"}, "edited": false, "score": 1, "creation_date": 1548165222, "post_id": 54309529, "comment_id": 95439198, "body": "Are you using &quot;mobileView&quot; id in different fragment layouts? If so, you should check the kotlin binding class (&quot;kotlinx.android.synthetic....&quot;) in imports list corresponds to the fragment layout."}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1548164545, "creation_date": 1548164545, "answer_id": 54309632, "question_id": 54309529, "link": "https://stackoverflow.com/questions/54309529/kotlin-android-extensions-java-lang-illegalstateexception-view-must-not-be-nu/54309632#54309632", "title": "Kotlin Android Extensions : java.lang.IllegalStateException: view must not be null", "body": "<p>You cannot assume that after 1.5s the views are still attached to the view hierarchy.</p>\n\n<p>Add <code>handler.removeCallbacks(numberRunnable)</code> to your <code>onStop()</code> life-cycle callback to remove the <code>numberRunnable</code> when the fragment is not active anymore.</p>\n\n<p>Also ask yourself the question of why you need to have the delay.</p>\n"}, {"tags": [], "owner": {"reputation": 13530, "user_id": 5496177, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/98e2f1facb002b8c7ab2cb041d48b0a1?s=128&d=identicon&r=PG", "display_name": "TheWanderer", "link": "https://stackoverflow.com/users/5496177/thewanderer"}, "is_accepted": true, "score": 3, "last_activity_date": 1548177569, "last_edit_date": 1548177569, "creation_date": 1548164662, "answer_id": 54309666, "question_id": 54309529, "link": "https://stackoverflow.com/questions/54309529/kotlin-android-extensions-java-lang-illegalstateexception-view-must-not-be-nu/54309666#54309666", "title": "Kotlin Android Extensions : java.lang.IllegalStateException: view must not be null", "body": "<p>The action is likely running after the user leaves the Fragment and <code>onDestroy()</code> is called. In that state, there will be no View instances in the Fragment.</p>\n\n<p>A simple workaround would be to create a global var to check your Fragment's created state. Set it to <code>true</code> in <code>onViewCreated()</code> and <code>false</code> in <code>onDestroyView()</code> (before the super call). Then check that value inside the Runnable before executing your logic.</p>\n\n<p>A better solution (although this is subject to race conditions and needs every Runnable being assigned to a global variable) might be to use the <code>Handler.removeCallbacks()</code> method and pass all your Runnables. </p>\n\n<pre><code>override fun onDestroyView() {\n    handler.removeCallbacks(numberRunnable)\n}\n</code></pre>\n\n<p>Yet another possibility is to simply say the View is nullable:</p>\n\n<pre><code>mobileView?.let {\n    //Your stuff goes in here\n    //You can reference mobileView using \"it\"\n}\n</code></pre>\n"}], "owner": {"reputation": 1316, "user_id": 4646227, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-YHNURzkB3Qk/AAAAAAAAAAI/AAAAAAAAAEo/NcFD3VHNLcE/photo.jpg?sz=128", "display_name": "farhan patel", "link": "https://stackoverflow.com/users/4646227/farhan-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4045, "favorite_count": 1, "accepted_answer_id": 54309666, "answer_count": 2, "score": 2, "last_activity_date": 1548177569, "creation_date": 1548164221, "question_id": 54309529, "link": "https://stackoverflow.com/questions/54309529/kotlin-android-extensions-java-lang-illegalstateexception-view-must-not-be-nu", "title": "Kotlin Android Extensions : java.lang.IllegalStateException: view must not be null", "body": "<p>I am using kotlin view binding in my fragment. In some cases app crashes with <code>IllegalStateException</code> &amp; view as null, I am accessing it in a runnable which is called using a handler with a 1.5sec delay.</p>\n\n<pre><code> numberRunnable = Runnable {\n        if (mobileView.text.toString().isNotEmpty() &amp;&amp; Utility.isMobileNumberValid(mobileView.text.toString())) {\n            presenter.getCustomerDetails(Utility.getServerAcceptableContactNumber(mobileView.text.toString()))\n        }\n    }\n</code></pre>\n\n<p><code>mobileView</code> is null</p>\n\n<p>Handler code:\n      <code>handler.postDelayed(numberRunnable, 1500)</code></p>\n\n<p>I am aware of one possibility to check if <code>isAdded</code> in my fragment, but since I cannot replicate the bug I am not sure if its the problem.</p>\n"}, {"tags": ["android", "kotlin", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 2433, "user_id": 123012, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oWzIM.png?s=128&g=1", "display_name": "SadSido", "link": "https://stackoverflow.com/users/123012/sadsido"}, "edited": false, "score": 0, "creation_date": 1548165157, "post_id": 54309259, "comment_id": 95439155, "body": "Thank you! Looks like observeOn(scheduler) is actually the same thing as observeOn(scheduler, bufferSize = 128), so actual backpressure would occur only at 129-th element. I&#39;ve never waited long enough to see 128 elements consumed."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 3, "last_activity_date": 1548163299, "creation_date": 1548163299, "answer_id": 54309259, "question_id": 54308931, "link": "https://stackoverflow.com/questions/54308931/rxjava-how-to-see-flowable-and-backpressure-in-action/54309259#54309259", "title": "RxJava - how to see Flowable and backpressure in action?", "body": "<p>This might be related to <code>observeOn(computation())</code>. Depending on the backing thread, this might be throttled automatically. The emission of the items is queued. Therefore there's no backpressure on the <code>Flowable</code>.</p>\n\n<p>Try putting these thread changes before <code>toFlowable(LATEST)</code> or use a different <code>Scheduler</code> which is not as forgiving or put even more items to <code>pubsub</code>.</p>\n\n<p>Also you could use <a href=\"http://reactivex.io/RxJava/2.x/javadoc/io/reactivex/Flowable.html#observeOn-io.reactivex.Scheduler-boolean-int-\" rel=\"nofollow noreferrer\"><code>observeOn(Scheduler scheduler, boolean, int)</code></a> to enforce a bufferSize.</p>\n"}], "owner": {"reputation": 2433, "user_id": 123012, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/oWzIM.png?s=128&g=1", "display_name": "SadSido", "link": "https://stackoverflow.com/users/123012/sadsido"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 1, "accepted_answer_id": 54309259, "answer_count": 1, "score": 2, "last_activity_date": 1548165309, "creation_date": 1548162205, "last_edit_date": 1548165309, "question_id": 54308931, "link": "https://stackoverflow.com/questions/54308931/rxjava-how-to-see-flowable-and-backpressure-in-action", "title": "RxJava - how to see Flowable and backpressure in action?", "body": "<p>I am writing a sample app, that processes the bitmap. The process can be controlled by a slider, so when the slider position is changed, I generate another bitmap.</p>\n\n<p>When the user drags the slider, it emits some 10-20 events per second. Processing the bitmap takes about 1 second, so the processing queue becomes quickly stuck with requests. </p>\n\n<p>It seems like a good backpressure example to me, but I couldn't figure out how to use stuff like <code>Flowable</code> and <code>BackpressureStrategy</code> to handle it properly.  Moreover, I couldn't make this small sample work:</p>\n\n<pre><code>val pubsub = PublishSubject.create&lt;Int&gt;()\n\npubsub\n.toFlowable(BackpressureStrategy.LATEST)\n.observeOn(computation())\n.subscribe {\n      Timber.d(\"consume %d - %s\", it, Thread.currentThread().name)\n      Thread.sleep(3000)\n}\n\nfor (i in 0 .. 1000) {\n      Timber.d(\"emit %d - %s\", i, Thread.currentThread().name)\n      pubsub.onNext(i)\n}\n</code></pre>\n\n<p>Well, I expect this code to emit 1000 integers through <code>PublishSubject</code>, but as long as processing each takes 3 seconds, 999 of integers should be dropped, only \"0\" and \"1000\" should be processed...</p>\n\n<p>But in the logs I see, that all my integers are slowly processed, one by one, and the backpressure strategy is ignored. Actually, <code>toFlowable(...)</code> expression seems to do nothing. With or without backpressure, I see 1000 emissions followed by the several minutes of consumption. </p>\n\n<p>What am I missing here? How can I drop the intermediate elements and consume only the latest available?</p>\n\n<p><strong>solved</strong>:</p>\n\n<p><code>observeOn(computation())</code> is actually <code>observeOn(computation(), delayErrors = false, bufferSize = 128)</code>. To see real backpressure, decrease the bufferSize, when you call <code>observeOn(...)</code></p>\n"}, {"tags": ["android", "kotlin", "android-camera", "surfaceview"], "comments": [{"owner": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1548161745, "post_id": 54308705, "comment_id": 95437050, "body": "what do you want exactly either to fix the orientation or same changes when the orientation changes ?"}, {"owner": {"reputation": 268, "user_id": 9958517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e7TBA.jpg?s=128&g=1", "display_name": "Sabina", "link": "https://stackoverflow.com/users/9958517/sabina"}, "reply_to_user": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1548161814, "post_id": 54308705, "comment_id": 95437090, "body": "I want that the preview is not stretched and the preview should be in portrait mode"}, {"owner": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1548161863, "post_id": 54308705, "comment_id": 95437123, "body": "then fix your screen size to portrait in manifest file :)"}, {"owner": {"reputation": 268, "user_id": 9958517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e7TBA.jpg?s=128&g=1", "display_name": "Sabina", "link": "https://stackoverflow.com/users/9958517/sabina"}, "reply_to_user": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1548161896, "post_id": 54308705, "comment_id": 95437138, "body": "I already did that but the orientation of the camera preview is still landscape"}, {"owner": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1548161963, "post_id": 54308705, "comment_id": 95437183, "body": "take a look at this question this may help you : <a href=\"https://stackoverflow.com/questions/20064793/android-how-to-fix-camera-orientation\" title=\"android how to fix camera orientation\">stackoverflow.com/questions/20064793/&hellip;</a>"}, {"owner": {"reputation": 268, "user_id": 9958517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e7TBA.jpg?s=128&g=1", "display_name": "Sabina", "link": "https://stackoverflow.com/users/9958517/sabina"}, "reply_to_user": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1548163075, "post_id": 54308705, "comment_id": 95437824, "body": "I already tried that but this changed nothing"}, {"owner": {"reputation": 268, "user_id": 9958517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e7TBA.jpg?s=128&g=1", "display_name": "Sabina", "link": "https://stackoverflow.com/users/9958517/sabina"}, "reply_to_user": {"reputation": 5726, "user_id": 3548046, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/oyTAQ.jpg?s=128&g=1", "display_name": "Umair", "link": "https://stackoverflow.com/users/3548046/umair"}, "edited": false, "score": 0, "creation_date": 1548163621, "post_id": 54308705, "comment_id": 95438145, "body": "I updated my question and added two pictures"}, {"owner": {"reputation": 1936, "user_id": 10862130, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NrDycKuPMlQ/AAAAAAAAAAI/AAAAAAAAACk/m3PPKlncZPA/photo.jpg?sz=128", "display_name": "Tanveer Munir", "link": "https://stackoverflow.com/users/10862130/tanveer-munir"}, "edited": false, "score": 0, "creation_date": 1548168543, "post_id": 54308705, "comment_id": 95441411, "body": "@Sabina its necessary to use custom camera capture? or you can use any library?"}, {"owner": {"reputation": 268, "user_id": 9958517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e7TBA.jpg?s=128&g=1", "display_name": "Sabina", "link": "https://stackoverflow.com/users/9958517/sabina"}, "edited": false, "score": 0, "creation_date": 1548168599, "post_id": 54308705, "comment_id": 95441441, "body": "I would prefer to to use custom camera"}, {"owner": {"reputation": 1936, "user_id": 10862130, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NrDycKuPMlQ/AAAAAAAAAAI/AAAAAAAAACk/m3PPKlncZPA/photo.jpg?sz=128", "display_name": "Tanveer Munir", "link": "https://stackoverflow.com/users/10862130/tanveer-munir"}, "edited": false, "score": 0, "creation_date": 1548168784, "post_id": 54308705, "comment_id": 95441581, "body": "you can save this pic first in memory and then change the orientation of this image @Sabina"}, {"owner": {"reputation": 268, "user_id": 9958517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e7TBA.jpg?s=128&g=1", "display_name": "Sabina", "link": "https://stackoverflow.com/users/9958517/sabina"}, "edited": false, "score": 0, "creation_date": 1548168857, "post_id": 54308705, "comment_id": 95441633, "body": "This is not about taking a picture. I only want to show the preview correct before taking a photo"}, {"owner": {"reputation": 1936, "user_id": 10862130, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NrDycKuPMlQ/AAAAAAAAAAI/AAAAAAAAACk/m3PPKlncZPA/photo.jpg?sz=128", "display_name": "Tanveer Munir", "link": "https://stackoverflow.com/users/10862130/tanveer-munir"}, "edited": false, "score": 0, "creation_date": 1548169072, "post_id": 54308705, "comment_id": 95441774, "body": "please have look at it if don&#39;t have looked before <a href=\"https://stackoverflow.com/questions/4645960/how-to-set-android-camera-orientation-properly\">URL</a> @Sabina"}, {"owner": {"reputation": 1936, "user_id": 10862130, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NrDycKuPMlQ/AAAAAAAAAAI/AAAAAAAAACk/m3PPKlncZPA/photo.jpg?sz=128", "display_name": "Tanveer Munir", "link": "https://stackoverflow.com/users/10862130/tanveer-munir"}, "reply_to_user": {"reputation": 268, "user_id": 9958517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e7TBA.jpg?s=128&g=1", "display_name": "Sabina", "link": "https://stackoverflow.com/users/9958517/sabina"}, "edited": false, "score": 0, "creation_date": 1548225879, "post_id": 54308705, "comment_id": 95461741, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/187166/discussion-between-tanveer-munir-and-sabina\">continue this discussion in chat</a>."}], "owner": {"reputation": 268, "user_id": 9958517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e7TBA.jpg?s=128&g=1", "display_name": "Sabina", "link": "https://stackoverflow.com/users/9958517/sabina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1548174992, "creation_date": 1548161485, "last_edit_date": 1548163588, "question_id": 54308705, "link": "https://stackoverflow.com/questions/54308705/how-to-change-display-orientation-without-messing-up-preview-sizes-android", "title": "How to change display orientation without messing up preview sizes - android", "body": "<p>I'm setting up an android app and I want to take pictures of loyalty cards. I want to set the orientation of the camera view to portrait mode and resize the preview. Now I'm able to resize my preview correctly but when i change the orientation (mCamera.setDisplayOrientation(90)) I mess everything up and the preview is stretched horizontally.</p>\n\n<p>My XML:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\ntools:context=\".activities.CardCaptureActivity\"\nandroid:background=\"@color/blue\"&gt;\n\n&lt;android.support.v7.widget.CardView\n    android:layout_width=\"0dp\"\n    android:layout_height=\"0dp\"\n    android:layout_marginStart=\"20dp\"\n    android:layout_marginTop=\"8dp\"\n    android:layout_marginEnd=\"20dp\"\n    android:layout_marginBottom=\"8dp\"\n    android:elevation=\"5dp\"\n    app:cardCornerRadius=\"15dp\"\n    app:layout_constraintBottom_toTopOf=\"@+id/button_capture\"\n    app:layout_constraintDimensionRatio=\"H,1.618:1\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\"\n    app:layout_constraintVertical_chainStyle=\"spread\"&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/camera_preview\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"/&gt;\n\n&lt;/android.support.v7.widget.CardView&gt;\n\n&lt;Button\n    android:id=\"@+id/button_capture\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_gravity=\"center\"\n    android:layout_marginStart=\"8dp\"\n    android:layout_marginEnd=\"8dp\"\n    android:layout_marginBottom=\"8dp\"\n    android:text=\"Capture\"\n    app:layout_constraintBottom_toBottomOf=\"parent\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintStart_toStartOf=\"parent\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>CardCaptureActivity:</p>\n\n<pre><code>class CardCaptureActivity : AppCompatActivity() {\n\nprivate var mCamera: Camera? = null\nprivate var mPreview: CardCameraPreview? = null\nprivate var captureButton: Button? = null\n\ncompanion object {\n    var data: ByteArray? = null\n}\n\nprivate val mPicture = Camera.PictureCallback { bytes, camera -&gt;\n    CardCaptureActivity.data = bytes\n    setResult(CommonStatusCodes.SUCCESS)\n    finish()\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_card_capture)\n\n    captureButton = findViewById(R.id.button_capture)\n    captureButton?.setOnClickListener {\n        // get an image from the camera\n        mCamera?.takePicture(null, null, mPicture)\n    }\n\n    mCamera = getCameraInstance()\n\n    mPreview = mCamera?.let {\n        CardCameraPreview(this, it, findViewById(R.id.camera_preview))\n    }\n    mPreview?.also {\n        val preview: FrameLayout = findViewById(R.id.camera_preview)\n        preview.addView(it)\n    }\n}\n\noverride fun finish() {\n    mCamera?.stopPreview()\n    mCamera?.release()\n    mCamera = null\n    super.finish()\n}\n\noverride fun onDestroy() {\n    mCamera?.stopPreview()\n    mCamera?.release()\n    mCamera = null\n    super.onDestroy()\n}\n\noverride fun onStop() {\n    mCamera?.stopPreview()\n    super.onStop()\n}\n\n/** Check if this device has a camera */\nprivate fun checkCameraHardware(context: Context): Boolean {\n    return context.packageManager.hasSystemFeature(PackageManager.FEATURE_CAMERA)\n}\n\n/** A safe way to get an instance of the Camera object. */\nfun getCameraInstance(): Camera? {\n    return try {\n        Camera.open() // attempt to get a Camera instance\n    } catch (e: Exception) {\n        // Camera is not available (in use or does not exist)\n        null // returns null if camera is unavailable\n    }\n}\n}\n</code></pre>\n\n<p>CardCameraPreview:</p>\n\n<pre><code>class CardCameraPreview(context: Context, private val mCamera: Camera, private val frameLayout: FrameLayout) : SurfaceView(context), SurfaceHolder.Callback{\n\nprivate val TAG = \"CardCameraPreview\"\n\nprivate val mHolder: SurfaceHolder = holder.apply {\n    // Install a SurfaceHolder.Callback so we get notified when the\n    // underlying surface is created and destroyed.\n    addCallback(this@CardCameraPreview)\n    // deprecated setting, but required on Android versions prior to 3.0\n    setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS)\n}\n\noverride fun surfaceCreated(p0: SurfaceHolder?) {\n    // The Surface has been created, now tell the camera where to draw the preview.\n    mCamera.apply {\n        try {\n\n            parameters?.also {params -&gt;\n                params.focusMode = Camera.Parameters.FOCUS_MODE_CONTINUOUS_PICTURE\n                parameters = params\n            }\n\n            setPreviewDisplay(holder)\n            startPreview()\n        } catch (e: IOException) {\n            Log.d(TAG, \"Error setting camera preview: ${e.message}\")\n        }\n    }\n}\n\noverride fun surfaceDestroyed(holder: SurfaceHolder) {\n    // empty. Take care of releasing the Camera preview in your activity.\n}\n\noverride fun surfaceChanged(holder: SurfaceHolder, format: Int, w: Int, h: Int) {\n    // If your preview can change or rotate, take care of those events here.\n    // Make sure to stop the preview before resizing or reformatting it.\n    if (mHolder.surface == null) {\n        // preview surface does not exist\n        return\n    }\n\n    // stop preview before making changes\n    try {\n        mCamera.stopPreview()\n    } catch (e: Exception) {\n        // ignore: tried to stop a non-existent preview\n    }\n\n    // set preview size and make any resize, rotate or\n    // reformatting changes here\n    //mCamera.setDisplayOrientation(90)\n\n    val params = mCamera.parameters\n    val newSize = getOptimalPreviewSize(params.supportedPreviewSizes, frameLayout.width, frameLayout.height)\n    if(newSize != null) {\n        params.setPreviewSize(newSize.width, newSize.height)\n    }\n\n    params.focusMode = Camera.Parameters.FOCUS_MODE_CONTINUOUS_PICTURE\n    mCamera.setDisplayOrientation(90)\n    mCamera.parameters = params\n\n    // start preview with new settings\n    mCamera.apply {\n        try {\n            setPreviewDisplay(mHolder)\n            startPreview()\n        } catch (e: Exception) {\n            Log.d(TAG, \"Error starting camera preview: ${e.message}\")\n        }\n    }\n}\n\nprivate fun getOptimalPreviewSize(sizes: List&lt;Camera.Size&gt;?, width: Int, height: Int): Camera.Size?{\n    if(sizes == null)\n        return null\n\n    val ratio = height.toDouble()/width\n    var optimalSize: Camera.Size? = null\n    var actualDiff = Double.MAX_VALUE\n\n    sizes.forEach { size -&gt;\n        val actualRatio = size.height.toDouble() / size.width\n\n        if(ratio - actualRatio &lt; actualDiff &amp;&amp; ratio - actualRatio &gt;= 0){\n            actualDiff = ratio - actualRatio\n            optimalSize = size\n        }\n        else if(actualRatio - ratio &lt; actualDiff &amp;&amp; actualRatio - ratio &gt;= 0){\n            actualDiff = actualRatio - ratio\n            optimalSize = size\n        }\n    }\n    return optimalSize\n}\n}\n</code></pre>\n\n<p>The actual result of my code is that the orientation of the preview is correct (potrait) but the preview is stretched horizontally (Image 2). If I delete the line \"mCamera.setDisplayOrientation(90)\" the preview has the perfect size (nothing stretched or anything like that) but the preview has the wrong orientation (Image 1).\nThe expected result is a preview in portrait mode and the preview isn't stretched. </p>\n\n<p>If you are looking at my xml you will see that the preview is  a pretty small rectangle with rounded corners and not the whole screen. That's what I want.</p>\n\n<p><a href=\"https://i.stack.imgur.com/zwVCz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zwVCz.png\" alt=\"result without setting display orientation\"></a>\n<a href=\"https://i.stack.imgur.com/oMkLf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oMkLf.png\" alt=\"result with setting display orientation\"></a></p>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 2, "creation_date": 1548161777, "post_id": 54308308, "comment_id": 95437069, "body": "Is there a reason why You can&#39;t implement <code>processObj</code> as a method of <code>BaseType</code> itself? Then subtypes could override the return value, and You wouldn&#39;t need any switch or a list."}, {"owner": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "edited": false, "score": 0, "creation_date": 1548161862, "post_id": 54308308, "comment_id": 95437121, "body": "introduce a marker <code>interface</code> and if a class implements said interface, return <code>1</code>"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1548161997, "post_id": 54308308, "comment_id": 95437199, "body": "Note that it should be <code>listOf&lt;KClass&gt;</code> or <code>listOf&lt;Class&gt;</code>, not <code>BaseType</code>."}, {"owner": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 2, "creation_date": 1548162133, "post_id": 54308308, "comment_id": 95437265, "body": "@AlexeyRomanov or even better: <code>listOf&lt;KClass&lt;out BaseType&gt;&gt;</code>"}, {"owner": {"reputation": 4179, "user_id": 49811, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c035544deaf0a3ce993d768ca47b7941?s=128&d=identicon&r=PG", "display_name": "Eugene Petrenko", "link": "https://stackoverflow.com/users/49811/eugene-petrenko"}, "edited": false, "score": 0, "creation_date": 1548162393, "post_id": 54308308, "comment_id": 95437439, "body": "You may add a method to your <code>BaseType</code> (and probably to inheritors) to replace the <code>when</code> with the method call. Sometimes it makes sense and simplifies code"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 17647, "user_id": 5515060, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BXWsz.png?s=128&g=1", "display_name": "Lino", "link": "https://stackoverflow.com/users/5515060/lino"}, "edited": false, "score": 1, "creation_date": 1548162412, "post_id": 54308308, "comment_id": 95437449, "body": "@Lino Oops, yes, of course. Really just <code>listOf</code> and let Kotlin infer it :)"}, {"owner": {"reputation": 7096, "user_id": 3990767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a5741a212e3b0e6bd46a8a1e6d76a4a?s=128&d=identicon&r=PG", "display_name": "SOFe", "link": "https://stackoverflow.com/users/3990767/sofe"}, "edited": false, "score": 0, "creation_date": 1548163833, "post_id": 54308308, "comment_id": 95438282, "body": "Does <code>listOf(A::class, B::class, C::class, ...)</code> look any better than <code>is A, is B, is C, ...</code>? It looks more or less the same."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 7096, "user_id": 3990767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a5741a212e3b0e6bd46a8a1e6d76a4a?s=128&d=identicon&r=PG", "display_name": "SOFe", "link": "https://stackoverflow.com/users/3990767/sofe"}, "edited": false, "score": 0, "creation_date": 1548164059, "post_id": 54308308, "comment_id": 95438444, "body": "@SOFe It might be useful if you use the same list (or derived from it) more than once."}, {"owner": {"reputation": 7096, "user_id": 3990767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a5741a212e3b0e6bd46a8a1e6d76a4a?s=128&d=identicon&r=PG", "display_name": "SOFe", "link": "https://stackoverflow.com/users/3990767/sofe"}, "edited": false, "score": 0, "creation_date": 1548164332, "post_id": 54308308, "comment_id": 95438620, "body": "Then you can define it as a function. Look at <a href=\"https://gist.github.com/SOF3/164908f8339508cc07d7e8538116c868\" rel=\"nofollow noreferrer\">gist.github.com/SOF3/164908f8339508cc07d7e8538116c868</a>"}, {"owner": {"reputation": 7096, "user_id": 3990767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a5741a212e3b0e6bd46a8a1e6d76a4a?s=128&d=identicon&r=PG", "display_name": "SOFe", "link": "https://stackoverflow.com/users/3990767/sofe"}, "edited": false, "score": 0, "creation_date": 1548164368, "post_id": 54308308, "comment_id": 95438644, "body": "<code>when.kt</code> doesn&#39;t really look more verbose than <code>listOf.kt</code>. While you can pass a list variable around, you can pass a function around too."}, {"owner": {"reputation": 7096, "user_id": 3990767, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a5741a212e3b0e6bd46a8a1e6d76a4a?s=128&d=identicon&r=PG", "display_name": "SOFe", "link": "https://stackoverflow.com/users/3990767/sofe"}, "edited": false, "score": 0, "creation_date": 1548164435, "post_id": 54308308, "comment_id": 95438688, "body": "As long as you don&#39;t need to iterate from the list of types, you don&#39;t need to store it as an actual list in the heap memory. It could be just hardcoded into the program."}, {"owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "edited": false, "score": 0, "creation_date": 1548167119, "post_id": 54308308, "comment_id": 95440425, "body": "are all classes part of same package?"}], "answers": [{"tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": true, "score": 4, "last_activity_date": 1548161665, "creation_date": 1548161665, "answer_id": 54308758, "question_id": 54308308, "link": "https://stackoverflow.com/questions/54308308/check-that-object-is-one-of-many-types-in-kotlin/54308758#54308758", "title": "Check that object is one of many types in Kotlin", "body": "<p>Sure, you can write something like this</p>\n\n<pre><code>val typesThatShouldReturn1 = listOf(\n  A::class\n)\n\nfun processObject(obj: BaseType): Int {\n  if (typesThatShouldReturn1.any { it.isInstance(obj) }) {\n    return 1\n  }\n  return 0\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4220, "user_id": 528617, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4hEuv.png?s=128&g=1", "display_name": "Arnab Datta", "link": "https://stackoverflow.com/users/528617/arnab-datta"}, "edited": false, "score": 1, "creation_date": 1548255216, "post_id": 54329739, "comment_id": 95477865, "body": "See my edit in the question. Adding a marker interface (or open class inheritance) is not an option because while <code>A</code> and <code>B</code> are treated identically in this scenario, they might not be in another similar scenario. If we follow this approach, we are gonna need <code>ACCommon</code> next and <code>BCCommon</code> after that and that is simply not possible because Kotlin does not allow multiple inheritance and even if it did, this leads to putting parts of the read logic into the write model which is a line we aren&#39;t willing to cross."}, {"owner": {"reputation": 3397, "user_id": 574826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jvb1q.jpg?s=128&g=1", "display_name": "pdpi", "link": "https://stackoverflow.com/users/574826/pdpi"}, "reply_to_user": {"reputation": 4220, "user_id": 528617, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4hEuv.png?s=128&g=1", "display_name": "Arnab Datta", "link": "https://stackoverflow.com/users/528617/arnab-datta"}, "edited": false, "score": 0, "creation_date": 1548255541, "post_id": 54329739, "comment_id": 95478082, "body": "@ArnabDatta: Missed that, gotcha. I&#39;ll leave the answer as-is because it&#39;s probably more useful this way for the general case. As for your particular case, I don&#39;t think there&#39;s an objectively correct answer for your specific question, though \u2014 it&#39;s down to a matter of taste. I can easily see the switch statement generating more efficient code than having to iterate through a list of classes, though."}], "tags": [], "owner": {"reputation": 3397, "user_id": 574826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jvb1q.jpg?s=128&g=1", "display_name": "pdpi", "link": "https://stackoverflow.com/users/574826/pdpi"}, "is_accepted": false, "score": 0, "last_activity_date": 1548254547, "creation_date": 1548254547, "answer_id": 54329739, "question_id": 54308308, "link": "https://stackoverflow.com/questions/54308308/check-that-object-is-one-of-many-types-in-kotlin/54329739#54329739", "title": "Check that object is one of many types in Kotlin", "body": "<p>Your example is unclear, but it seems like you were trying to instead do this:</p>\n\n<pre><code>sealed class BaseType\nclass A : BaseType\nclass B : BaseType\nclass C : BaseType\n</code></pre>\n\n<p>(which means <code>BaseType</code> can only ever be one of <code>A</code>, <code>B</code>, or <code>C</code> \u2014 this is consistent with your desired use of <code>when</code>)</p>\n\n<p>What you're effectively saying is that <code>A</code> and <code>B</code> are fundamentally similar and should be handled the same. Assuming <code>A</code> and <code>B</code> actually need to be separate classes, a solution is that they share a common superclass that is not actually <code>BaseType</code>:</p>\n\n<pre><code>sealed class BaseType\nopen class ABCommon : BaseType\nclass C : BaseType\n\nclass A : ABCommon\nclass B : ABCommon\n\nfun processObject(obj: BaseType): Int {\n  return when(obj) {\n    is ABCommon -&gt; 1\n    else -&gt; 0\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 4220, "user_id": 528617, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4hEuv.png?s=128&g=1", "display_name": "Arnab Datta", "link": "https://stackoverflow.com/users/528617/arnab-datta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 137, "favorite_count": 0, "accepted_answer_id": 54308758, "answer_count": 2, "score": 1, "last_activity_date": 1548254547, "creation_date": 1548160006, "last_edit_date": 1548164382, "question_id": 54308308, "link": "https://stackoverflow.com/questions/54308308/check-that-object-is-one-of-many-types-in-kotlin", "title": "Check that object is one of many types in Kotlin", "body": "<p>I have the following classes:</p>\n\n<pre><code>sealed class A : BaseType\nsealed class B : BaseType\nsealed class C : BaseType\n\n...\n</code></pre>\n\n<p>If I then have a <code>processObject</code> method that looks like this:</p>\n\n<pre><code>fun processObject(obj: BaseType): Int {\n  return when(obj) {\n    is A -&gt; 1\n    is B -&gt; 1\n    else -&gt; 0\n  }\n}\n</code></pre>\n\n<p>I notice that I am now repeating myself, so I might change that method to something like this:</p>\n\n<pre><code>fun processObject(obj: BaseType): Int {\n  return when(obj) {\n    is A, is B -&gt; 1\n    else -&gt; 0\n  }\n}\n</code></pre>\n\n<p>However, this (in my opinion) looks super ugly when the number of classes goes from say 3-4 to 40+. I was thinking of doing something along the lines of the pseudocode below:</p>\n\n<pre><code>// store all the possible types in a list\nval typesThatShouldReturn1 = listOf&lt;BaseType&gt;(\n  // TODO: figure out how to store types in a list without instantiating\n)\n\nfun processObject(obj: BaseType): Int {\n  if (typesThatShouldReturn1.any { obj is it }) {\n    return 1\n  }\n  return 0\n}\n</code></pre>\n\n<p>Is this even possible in kotlin?</p>\n\n<hr>\n\n<p><strong>Re: some comments.</strong></p>\n\n<p>Why am I not using a marker interface? Because this <code>processEvent</code> function will be implemented in a lot of different contexts and introducing a marker interface for each and every one of them isn't a good solution. Additionally, the <code>baseType</code> classes are part of a CQRS system where ideally our write logic should not be concerned with our read logic. This is the biggest reason why a marker interface isn't viable for me here.</p>\n\n<p>Why doesn't <code>BaseType</code> implement this logic? See comment above about <code>processEvents</code> being implemented in different ways in different contexts. In addition, the base type doesn't have the read logic as a concern so that is why it should never implement this.</p>\n\n<p>Does <code>listOf(A::class, B::class, C::class, ...)</code> look any better than <code>is A, is B, is C, ...</code>? It looks more or less the same. \nValid point. This one is more personal preference as I don't mind a <code>private val typesThatShouldReturn1</code> nearly as much.</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "kotlinx.coroutines"], "answers": [{"tags": [], "owner": {"reputation": 3082, "user_id": 5507158, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VmXxg.png?s=128&g=1", "display_name": "Dewey Reed", "link": "https://stackoverflow.com/users/5507158/dewey-reed"}, "is_accepted": true, "score": 5, "last_activity_date": 1548165828, "last_edit_date": 1548165828, "creation_date": 1548160618, "answer_id": 54308469, "question_id": 54307942, "link": "https://stackoverflow.com/questions/54307942/unit-test-with-coroutines-in-kotlinmethod-mylooper-in-android-os-looper-not-mock/54308469#54308469", "title": "Unit test with coroutines in kotlinMethod myLooper in android.os.Looper not mocked error when I try to Unit test in kotlin", "body": "<p>LiveData uses MainLooper internally. Add this dependency(or its support library version):</p>\n\n<p><code>testImplementation \"androidx.arch.core:core-testing:$lifecycle_version\"</code></p>\n\n<p>and this rule:</p>\n\n<pre><code>@get:Rule\nval instantExecutorRule = InstantTaskExecutorRule()\n</code></pre>\n\n<p><a href=\"https://developer.android.com/reference/android/arch/core/executor/testing/InstantTaskExecutorRule\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/arch/core/executor/testing/InstantTaskExecutorRule</a></p>\n"}], "owner": {"reputation": 1926, "user_id": 1734982, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/e3666b93ef2cfee578f79a7014d45312?s=128&d=identicon&r=PG", "display_name": "Iban Arriola", "link": "https://stackoverflow.com/users/1734982/iban-arriola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1315, "favorite_count": 1, "accepted_answer_id": 54308469, "answer_count": 1, "score": 3, "last_activity_date": 1548165828, "creation_date": 1548158662, "question_id": 54307942, "link": "https://stackoverflow.com/questions/54307942/unit-test-with-coroutines-in-kotlinmethod-mylooper-in-android-os-looper-not-mock", "title": "Unit test with coroutines in kotlinMethod myLooper in android.os.Looper not mocked error when I try to Unit test in kotlin", "body": "<p>I am getting <code>Method myLooper in android.os.Looper not mocked</code> error when I try to test my ViewModel in kotlin using corountines. </p>\n\n<p>Theres is the ViewModel </p>\n\n<pre><code>class MainViewModel(private val uiContext: CoroutineContext = Dispatchers.Main) : ViewModel(), CoroutineScope {\n\n    private val heroesRepository: HeroesRepository = heroesRepositoryModel.instance()\n    val data = MutableLiveData&lt;List&lt;Heroes.Hero&gt;&gt;()\n\n    private var job: Job = Job()\n    override val coroutineContext: CoroutineContext\n        get() = uiContext + job\n\n    fun getHeroesFromRepository(page: Int) {\n        launch {\n            try {\n                val response = withContext(Dispatchers.IO) {\n                    heroesRepository.getHeroes(page).await()\n                }\n                data.value = response.data.results\n            } catch (e: HttpException) {\n                data.value = null\n            } catch (e: Throwable) {\n                data.value = null\n            }\n        }\n    }\n\n    override fun onCleared() {\n        super.onCleared()\n        job.cancel()\n    }\n}\n</code></pre>\n\n<p>And the Test that I made for this ViewModel</p>\n\n<pre><code>class HeroesDataSourceTest {\n\n    @Mock\n    lateinit var heroesRepository: HeroesRepository\n\n    @Mock\n    lateinit var deferred: Deferred&lt;Heroes.DataResult&gt;\n    val hero = Heroes.Hero(1, \"superman\", \"holasuperman\", 1, null, null)\n    val results = Arrays.asList(hero)\n    val data = Heroes.Data(results)\n    val dataResult = Heroes.DataResult(data)\n\n\n\n    @Before\n    fun initTest() {\n        MockitoAnnotations.initMocks(this)\n    }\n\n    @Test\n    fun testLoadInitialSuccess(): Unit = runBlocking {\n        `when`(heroesRepository.getHeroes(0)).thenReturn(deferred)\n        `when`(deferred.await()).thenReturn(dataResult)\n        var liveData: MutableLiveData&lt;List&lt;Heroes.Hero&gt;&gt;\n        val mainViewModel = MainViewModel(Dispatchers.Unconfined)\n        liveData = mainViewModel.data\n        mainViewModel.getHeroesFromRepository(0)\n        delay(10000L)\n        Assert.assertEquals(dataResult, liveData.value)\n    }\n\n}\n</code></pre>\n\n<p>I debug it and it gives me the error in the line <code>data.value = response.data.results</code> of the ViewModel. It goes to the exception but for sure as the data is empty the assertEquals is going to be false.</p>\n\n<p>I checked this thread: <a href=\"https://stackoverflow.com/questions/51574486/method-mylooper-in-android-os-looper-not-mocked-with-coroutines/51770745\">Method myLooper in android.os.Looper not mocked with Coroutines</a> </p>\n\n<p>And also this solution: <a href=\"https://android.jlelse.eu/mastering-coroutines-android-unit-tests-8bc0d082bf15\" rel=\"nofollow noreferrer\">https://android.jlelse.eu/mastering-coroutines-android-unit-tests-8bc0d082bf15</a></p>\n\n<p>That is working but in kotlin 1.3 <code>kotlinx.coroutines.experimental.android.UI</code> doesn't work. </p>\n"}, {"tags": ["java", "android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 50428, "user_id": 950427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hq0mB.jpg?s=128&g=1", "display_name": "Jared Burrows", "link": "https://stackoverflow.com/users/950427/jared-burrows"}, "edited": false, "score": 0, "creation_date": 1548399088, "post_id": 54307822, "comment_id": 95534844, "body": "This looks like a warning. Can you show us your <code>build.gradle</code> files?"}, {"owner": {"reputation": 1469, "user_id": 6723250, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/84a0e8aa370e949feeaa7c5c153a3be9?s=128&d=identicon&r=PG", "display_name": "Xerus", "link": "https://stackoverflow.com/users/6723250/xerus"}, "reply_to_user": {"reputation": 50428, "user_id": 950427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/hq0mB.jpg?s=128&g=1", "display_name": "Jared Burrows", "link": "https://stackoverflow.com/users/950427/jared-burrows"}, "edited": false, "score": 0, "creation_date": 1548422342, "post_id": 54307822, "comment_id": 95545894, "body": "I have about 15 build.gradle files, are you sure that would help? None of these have any reference to kotlin-reflect, and all kotlin libraries are version 1.3."}], "answers": [{"tags": [], "owner": {"reputation": 2340, "user_id": 3660290, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3OdJq.png?s=128&g=1", "display_name": "G00fY", "link": "https://stackoverflow.com/users/3660290/g00fy"}, "is_accepted": false, "score": 11, "last_activity_date": 1558287834, "last_edit_date": 1558287834, "creation_date": 1554310899, "answer_id": 55500537, "question_id": 54307822, "link": "https://stackoverflow.com/questions/54307822/conflicting-jetified-kotlin-reflect-dependency/55500537#55500537", "title": "Conflicting jetified-kotlin-reflect dependency", "body": "<p>I guess the kotlin plugin will automatically add the <em>kotlin-relfection.jar</em> if you use <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"noreferrer\">reflection features</a> like <em>class literal syntax</em>.</p>\n\n<blockquote>\n  <p>On the Java platform, the runtime component required for using the reflection features is distributed as a separate JAR file (kotlin-reflect.jar). This is done to reduce the required size of the runtime library for applications that do not use reflection features. If you do use reflection, please make sure that the .jar file is added to the classpath of your project.</p>\n</blockquote>\n\n<p>I fixed the warnings by explicitly adding</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n</code></pre>\n\n<p>to my build.gradle.</p>\n"}], "owner": {"reputation": 1469, "user_id": 6723250, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/84a0e8aa370e949feeaa7c5c153a3be9?s=128&d=identicon&r=PG", "display_name": "Xerus", "link": "https://stackoverflow.com/users/6723250/xerus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2854, "favorite_count": 2, "answer_count": 1, "score": 8, "last_activity_date": 1558287834, "creation_date": 1548158239, "last_edit_date": 1548159795, "question_id": 54307822, "link": "https://stackoverflow.com/questions/54307822/conflicting-jetified-kotlin-reflect-dependency", "title": "Conflicting jetified-kotlin-reflect dependency", "body": "<p>When I build my Android project, I get the following message:</p>\n\n<pre><code>w: Runtime JAR files in the classpath should have the same version. These files were found in the classpath:\n    /home/janek/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-jdk7/1.3.10/4d147bf43060dc43d61b096e24da1e67dfe0c032/kotlin-stdlib-jdk7-1.3.10.jar (version 1.3)\n    /home/janek/.gradle/caches/transforms-1/files-1.1/kotlin-reflect-1.0.6.jar/beba9d201a205f30041b70982540014d/jetified-kotlin-reflect-1.0.6.jar (version 1.0)\n    /home/janek/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.3.11/4cbc5922a54376018307a731162ccaf3ef851a39/kotlin-stdlib-1.3.11.jar (version 1.3)\n    /home/janek/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.3.11/d8b8e746e279f1c4f5e08bc14a96b82e6bb1de02/kotlin-stdlib-common-1.3.11.jar (version 1.3)\nw: Some runtime JAR files in the classpath have an incompatible version. Consider removing them from the classpath\n</code></pre>\n\n<p>But I have no idea why jetified-kotlin-reflect is even in there, since It isn't a dependency and does not even appear in <code>androidDependencies</code>. </p>\n\n<p>Do you know where it comes from or how I can resolve this error?</p>\n"}, {"tags": ["android", "google-maps", "events", "kotlin"], "comments": [{"owner": {"reputation": 11935, "user_id": 6950238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JysE9.jpg?s=128&g=1", "display_name": "Andrii Omelchenko", "link": "https://stackoverflow.com/users/6950238/andrii-omelchenko"}, "edited": false, "score": 1, "creation_date": 1548173885, "post_id": 54307352, "comment_id": 95444776, "body": "Take a look at <a href=\"https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.OnCameraIdleListener.html#onCameraIdle()\" rel=\"nofollow noreferrer\"><code>onCameraIdle()</code></a>."}, {"owner": {"reputation": 267, "user_id": 10429466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w8tbdscu__c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWqPX9CJdAYvNscm11o8i9c82gFDg/mo/photo.jpg?sz=128", "display_name": "Projet Sin", "link": "https://stackoverflow.com/users/10429466/projet-sin"}, "reply_to_user": {"reputation": 11935, "user_id": 6950238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JysE9.jpg?s=128&g=1", "display_name": "Andrii Omelchenko", "link": "https://stackoverflow.com/users/6950238/andrii-omelchenko"}, "edited": false, "score": 0, "creation_date": 1548253287, "post_id": 54307352, "comment_id": 95476538, "body": "Yes, that&#39;s it."}], "answers": [{"tags": [], "owner": {"reputation": 11935, "user_id": 6950238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JysE9.jpg?s=128&g=1", "display_name": "Andrii Omelchenko", "link": "https://stackoverflow.com/users/6950238/andrii-omelchenko"}, "is_accepted": true, "score": 2, "last_activity_date": 1548269099, "creation_date": 1548269099, "answer_id": 54333753, "question_id": 54307352, "link": "https://stackoverflow.com/questions/54307352/kotlin-on-camera-move-end/54333753#54333753", "title": "Kotlin : On camera move end", "body": "<p>Use <a href=\"https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.OnCameraIdleListener#onCameraIdle()\" rel=\"nofollow noreferrer\"><code>onCameraIdle()</code></a> and <a href=\"https://developers.google.com/android/reference/com/google/android/gms/maps/GoogleMap.OnCameraIdleListener\" rel=\"nofollow noreferrer\"><code>GoogleMap.OnCameraIdleListener</code></a> instead of <code>OnCameraMoveListener</code>:</p>\n\n<pre><code>mMap.setOnCameraIdleListener {\n   val coords = mMap.cameraPosition.target\n   getData(coords)   \n}\n</code></pre>\n"}], "owner": {"reputation": 267, "user_id": 10429466, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-w8tbdscu__c/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWqPX9CJdAYvNscm11o8i9c82gFDg/mo/photo.jpg?sz=128", "display_name": "Projet Sin", "link": "https://stackoverflow.com/users/10429466/projet-sin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 427, "favorite_count": 0, "accepted_answer_id": 54333753, "answer_count": 1, "score": 2, "last_activity_date": 1548269099, "creation_date": 1548156743, "question_id": 54307352, "link": "https://stackoverflow.com/questions/54307352/kotlin-on-camera-move-end", "title": "Kotlin : On camera move end", "body": "<p>I'd like to know how to detect when the camera finishes its move or detect when the user remove his finger from the screen after that the camera has been moved.</p>\n\n<p>For now I have this small listener : </p>\n\n<pre><code> mMap.setOnCameraMoveListener {\n   val coords = mMap.cameraPosition.target\n   getData(coords)   \n}\n</code></pre>\n\n<p>But it's trigger everytime the camera move (basically, it's its normal behavior).</p>\n\n<p>But I' doing a api call with <strong>getData(coords)</strong>, so the api is triggered every time the camera moves (so it makes a lot of call in a few second)...</p>\n"}, {"tags": ["android", "generics", "inheritance", "kotlin", "polymorphism"], "comments": [{"owner": {"reputation": 8911, "user_id": 775138, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XAKUy.jpg?s=128&g=1", "display_name": "herman", "link": "https://stackoverflow.com/users/775138/herman"}, "edited": false, "score": 0, "creation_date": 1548152894, "post_id": 54305798, "comment_id": 95432201, "body": "can you share the <code>BasePresenter</code> class? (or a minimal version of it) ?"}, {"owner": {"reputation": 8911, "user_id": 775138, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XAKUy.jpg?s=128&g=1", "display_name": "herman", "link": "https://stackoverflow.com/users/775138/herman"}, "edited": false, "score": 0, "creation_date": 1548154577, "post_id": 54305798, "comment_id": 95433199, "body": "same for <code>LandingActivity</code>.  all classes are needed."}, {"owner": {"reputation": 45, "user_id": 2758712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/143abc6bee97f9556ba8c1cc0ddb0be9?s=128&d=identicon&r=PG", "display_name": "Geza", "link": "https://stackoverflow.com/users/2758712/geza"}, "reply_to_user": {"reputation": 8911, "user_id": 775138, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XAKUy.jpg?s=128&g=1", "display_name": "herman", "link": "https://stackoverflow.com/users/775138/herman"}, "edited": false, "score": 0, "creation_date": 1548156193, "post_id": 54305798, "comment_id": 95434135, "body": "sure! <a href=\"https://pastebin.com/YtELkQ0p\" rel=\"nofollow noreferrer\">pastebin.com/YtELkQ0p</a>"}, {"owner": {"reputation": 45, "user_id": 2758712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/143abc6bee97f9556ba8c1cc0ddb0be9?s=128&d=identicon&r=PG", "display_name": "Geza", "link": "https://stackoverflow.com/users/2758712/geza"}, "reply_to_user": {"reputation": 8911, "user_id": 775138, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XAKUy.jpg?s=128&g=1", "display_name": "herman", "link": "https://stackoverflow.com/users/775138/herman"}, "edited": false, "score": 0, "creation_date": 1548156787, "post_id": 54305798, "comment_id": 95434440, "body": "sorry, forgot the activity: <a href=\"https://pastebin.com/WesnxeCb\" rel=\"nofollow noreferrer\">pastebin.com/WesnxeCb</a>"}, {"owner": {"reputation": 8911, "user_id": 775138, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XAKUy.jpg?s=128&g=1", "display_name": "herman", "link": "https://stackoverflow.com/users/775138/herman"}, "edited": false, "score": 1, "creation_date": 1548158135, "post_id": 54305798, "comment_id": 95435111, "body": "I suspect the compiler bug is triggered by the use of <code>*</code> as type parameter.  You may want to avoid this anyway.  I think you want the <code>BaseView</code>&#39;s <code>Presenter</code> parameter to be bound to the concrete type of the <code>BaseView</code> itself), right?"}, {"owner": {"reputation": 8911, "user_id": 775138, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XAKUy.jpg?s=128&g=1", "display_name": "herman", "link": "https://stackoverflow.com/users/775138/herman"}, "edited": false, "score": 1, "creation_date": 1548158275, "post_id": 54305798, "comment_id": 95435186, "body": "You can do that similar to the way it&#39;s done in <a href=\"https://stackoverflow.com/a/54304981/775138\">this answer</a>, which also happens to be about Views and Presenters."}], "answers": [{"tags": [], "owner": {"reputation": 8911, "user_id": 775138, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/XAKUy.jpg?s=128&g=1", "display_name": "herman", "link": "https://stackoverflow.com/users/775138/herman"}, "is_accepted": true, "score": 1, "last_activity_date": 1548157602, "creation_date": 1548157602, "answer_id": 54307625, "question_id": 54305798, "link": "https://stackoverflow.com/questions/54305798/how-to-solve-2nd-level-inheritance-with-generic-classes/54307625#54307625", "title": "How to solve 2nd level inheritance with generic classes?", "body": "<p>It's an internal assertion error thrown by the compiler.  You can see the compiler source code where this is thrown:</p>\n\n<p><a href=\"https://github.com/JetBrains/kotlin/blob/master/compiler/frontend/src/org/jetbrains/kotlin/resolve/calls/model/ResolvedCallImpl.java\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin/blob/master/compiler/frontend/src/org/jetbrains/kotlin/resolve/calls/model/ResolvedCallImpl.java</a></p>\n\n<p>Apparently the <code>resultingDescriptor</code> is <code>null</code> at a point where it should never be <code>null</code>.  So it seems like a compiler bug.  Maybe it should be rewritten in Kotlin to avoid issues with <code>null</code> :)</p>\n\n<p>Please file a bug report at <a href=\"https://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issues/KT</a></p>\n"}], "owner": {"reputation": 45, "user_id": 2758712, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/143abc6bee97f9556ba8c1cc0ddb0be9?s=128&d=identicon&r=PG", "display_name": "Geza", "link": "https://stackoverflow.com/users/2758712/geza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 1, "accepted_answer_id": 54307625, "answer_count": 1, "score": 3, "last_activity_date": 1548157602, "creation_date": 1548151655, "last_edit_date": 1548154131, "question_id": 54305798, "link": "https://stackoverflow.com/questions/54305798/how-to-solve-2nd-level-inheritance-with-generic-classes", "title": "How to solve 2nd level inheritance with generic classes?", "body": "<p>I'm implementing an MVP architecture in <code>Kotlin</code> and Android Studio shows no error, however it doesn't compile:</p>\n\n<blockquote>\n  <p>java.lang.AssertionError: resultingDescriptor shouldn't be null:\n  candidateDescriptor: constructor BasePresenter(view:\n  View) defined in com.exmaple.base.BasePresenter substitution:\n  org.jetbrains.kotlin.types.IndexedParametersSubstitution@70144d7e     at\n  org.jetbrains.kotlin.resolve.calls.model.ResolvedCallImpl.setResultingSubstitutor(ResolvedCallImpl.java:205)\n    ....</p>\n</blockquote>\n\n<p>Is it possible to use the <code>ConcreteView</code> / <code>ConcretePresenter</code> in the middle of inheritance? </p>\n\n<p>code:</p>\n\n<pre><code>/**\n * These are the base classes\n */\ninterface MvpView\n\ninterface BaseView&lt;Presenter : BasePresenter&lt;*&gt;&gt; : MvpView, HasMvpView&lt;MvpView&gt;\n\n// to avoid circular dependency\ninterface HasMvpView&lt;View : MvpView&gt; \n\nabstract class BaseMvpActivity&lt;Presenter : BasePresenter&lt;*&gt;&gt; : AppCompatActivity(), HasMvpView&lt;MvpView&gt;\n\nabstract class BaseMvpFragment&lt;Activity : BaseMvpActivity&lt;*&gt;, Presenter : BasePresenter&lt;*&gt;&gt;: Fragment(), HasMvpView&lt;MvpView&gt; {\n        // this will cause the error\n        abstract var presenter: Presenter\n}\n\n\n/**\n * There's a Viewpager, and each page looks the same the only difference is their source of data. That's why I tried implementing another level of abstraction over the base classes\n */\ninterface CategoryPagerView&lt;Presenter: BasePresenter&lt;*&gt;&gt; : BaseView&lt;Presenter&gt;\n\nabstract class CategoryPagerFragment: BaseMvpFragment&lt;LandingActivity, BasePresenter&lt;*&gt;&gt;()\n\n/**\n * A concrete type of the Viewpager's fragment, its presenter and the view\n */\ninterface ConcreteView : CategoryPagerView&lt;ConcretePresenter&gt; \n\nclass ConcretePresenter(view: ConcreteView) : BasePresenter&lt;*&gt;(view)\n\nclass ConcreteFragment : CategoryPagerFragment(), ConcreteView {\n        // this line shows no error in the IDE, but in compile time\n        override var presenter = ConcretePresenter(this)\n\n</code></pre>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "exception", "android-espresso"], "comments": [{"owner": {"reputation": 935, "user_id": 8209253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jqmrX.jpg?s=128&g=1", "display_name": "A Droid", "link": "https://stackoverflow.com/users/8209253/a-droid"}, "edited": false, "score": 0, "creation_date": 1549102902, "post_id": 54305748, "comment_id": 95789924, "body": "Interesting. I&#39;m curious as to why you would want to test this with Espresso. Do you think Espresso would find something that your unit tests would miss?"}, {"owner": {"reputation": 147, "user_id": 8906919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e5887997f593c5b7450da3a7016526b?s=128&d=identicon&r=PG&f=1", "display_name": "devaga", "link": "https://stackoverflow.com/users/8906919/devaga"}, "reply_to_user": {"reputation": 935, "user_id": 8209253, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jqmrX.jpg?s=128&g=1", "display_name": "A Droid", "link": "https://stackoverflow.com/users/8209253/a-droid"}, "edited": false, "score": 0, "creation_date": 1549274408, "post_id": 54305748, "comment_id": 95830439, "body": "What I thought is that Espresso intents will properly test that transitions are working correctly in my application. I am new to Android testing though. Anyway, I think it would be good to be able to test exceptions with Espresso and that&#39;s what I seem not to be able to do."}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 8095635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9dbc49f1dc7ef58cf6b18bb8050685b?s=128&d=identicon&r=PG&f=1", "display_name": "Bin Fan", "link": "https://stackoverflow.com/users/8095635/bin-fan"}, "is_accepted": false, "score": 0, "last_activity_date": 1606092954, "last_edit_date": 1606092954, "creation_date": 1605832660, "answer_id": 64922103, "question_id": 54305748, "link": "https://stackoverflow.com/questions/54305748/expecting-an-exception-in-android-espresso-test-fails/64922103#64922103", "title": "Expecting an exception in Android Espresso test - fails", "body": "<p>Use normal try catch solved my problem, i know the exception is nested. But we can still check it by cause:</p>\n<pre><code>var error: Throwable? = null\ntry {\n    onView(something).perform(click())\n} catch (e: Throwable) {\n    error = e;\n}\nassert(error!!.cause is MySpecificException)\nassert(error!!.cause!!.message == &quot;My specific error message&quot;)\n</code></pre>\n<p>I have tried another <a href=\"https://stackoverflow.com/a/50583167/8095635\">approach</a>, but i ended up with flaky tests result.</p>\n"}], "owner": {"reputation": 147, "user_id": 8906919, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e5887997f593c5b7450da3a7016526b?s=128&d=identicon&r=PG&f=1", "display_name": "devaga", "link": "https://stackoverflow.com/users/8906919/devaga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 588, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1612337935, "creation_date": 1548151537, "last_edit_date": 1612337935, "question_id": 54305748, "link": "https://stackoverflow.com/questions/54305748/expecting-an-exception-in-android-espresso-test-fails", "title": "Expecting an exception in Android Espresso test - fails", "body": "<p>I am writing tests in Espresso for my Android application using Kotlin.\nI want to expect an exception as in the unit test and pass the test if such an exception is found.</p>\n\n<p>I had a test that was checking for the Intent extras format.\nIn the implementation I have thrown an exception after getting an incorrect value in the intent.\nI want to pass the test is this exception is thrown. Running the test results with a \"Test failed\" and <code>java.lang.IllegalArgumentException</code> which is the same as I am trying to catch.</p>\n\n<p>I tried with this annotation at first:</p>\n\n<p><code>@Test(expected = IllegalArgumentException::class)</code></p>\n\n<p>Then I tried with a <code>org.jetbrains.kotlin:kotlin-test</code> dependency and the following assertion:</p>\n\n<pre><code>assertFailsWith&lt;java.lang.IllegalArgumentException&gt; {\n    val activityIntent = Intent()\n    activityIntent.putExtra(\"extra_connection_number\", intentExtraConnectionNumber)\n    activityRule.launchActivity(activityIntent)\n}\n</code></pre>\n\n<p>What may be also important is that the exception is thrown in the <code>onCreateView</code>starting as so:</p>\n\n<pre><code>@Throws(java.lang.IllegalArgumentException::class)\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View {\n    val layout = inflater.inflate(R.layout.configuration_fragment, container, false)\n    var connectionNumber: Int? =\n        activity!!.intent.getIntExtra(resources.getString(R.string.extra_connection_number), -1)\n    if (connectionNumber == -1) {\n        throw IllegalArgumentException()\n    }\n(...)\n</code></pre>\n\n<p>The intent is created with the given extra, and it is failing in a place I wanted it to fail. But the thrown exception is not caught by the Espresso.\nWhy? What am I missing?</p>\n\n<p>I am aware it may be incompatible with Espresso, but I cannot find a right documentation helping me with the problem.</p>\n"}, {"tags": ["kotlin", "vert.x"], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 10948867, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XspcfmjOSP8/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYQa94VmcY0scq0ALyoqR9c4anI_A/mo/photo.jpg?sz=128", "display_name": "Ebadta", "link": "https://stackoverflow.com/users/10948867/ebadta"}, "edited": false, "score": 0, "creation_date": 1548240729, "post_id": 54324225, "comment_id": 95469527, "body": "I was trying to change chain.pem to fullchain.pem in the PemTrustOptions configuration, and tried even without PemTrustOptions, but I get the same result. I tested it now again, no change... :S"}, {"owner": {"reputation": 107, "user_id": 10948867, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XspcfmjOSP8/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYQa94VmcY0scq0ALyoqR9c4anI_A/mo/photo.jpg?sz=128", "display_name": "Ebadta", "link": "https://stackoverflow.com/users/10948867/ebadta"}, "edited": false, "score": 0, "creation_date": 1548243408, "post_id": 54324225, "comment_id": 95471004, "body": "I also checked https with fullchain.pem on <a href=\"https://www.ssllabs.com\" rel=\"nofollow noreferrer\">ssllabs.com</a> and it says: Chain issues\tIncomplete"}, {"owner": {"reputation": 113, "user_id": 10364676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2a87c8b39b05dd0dd3eaf34aa4a649c?s=128&d=identicon&r=PG&f=1", "display_name": "petarov", "link": "https://stackoverflow.com/users/10364676/petarov"}, "reply_to_user": {"reputation": 107, "user_id": 10948867, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XspcfmjOSP8/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYQa94VmcY0scq0ALyoqR9c4anI_A/mo/photo.jpg?sz=128", "display_name": "Ebadta", "link": "https://stackoverflow.com/users/10948867/ebadta"}, "edited": false, "score": 0, "creation_date": 1548257623, "post_id": 54324225, "comment_id": 95479257, "body": "@Ebadta What does your fullchain.pem contain? It should contain two blocks of PEM encoded data. Each block is surrounded by -----BEGIN CERTIFICATE----- and -----END CERTIFICATE-----. Can you confirm this?"}], "tags": [], "owner": {"reputation": 113, "user_id": 10364676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2a87c8b39b05dd0dd3eaf34aa4a649c?s=128&d=identicon&r=PG&f=1", "display_name": "petarov", "link": "https://stackoverflow.com/users/10364676/petarov"}, "is_accepted": false, "score": 0, "last_activity_date": 1548237214, "last_edit_date": 1548237214, "creation_date": 1548236599, "answer_id": 54324225, "question_id": 54305577, "link": "https://stackoverflow.com/questions/54305577/lets-encrypt-with-vert-x/54324225#54324225", "title": "Let&#39;s Encrypt with vert.x", "body": "<p>The issue is in the certificate chain file <strong>chain.pem</strong>. It seems that it does not contain the full certificate chain. If you view the file it probably contains only one intermediate LE authority cert inside, i.e., <em>Let's Encrypt Authority X3</em>. It works with Apache because the <strong>SSLCertificateChainFile</strong> is actually <a href=\"https://httpd.apache.org/docs/2.4/mod/mod_ssl.html#sslcertificatechainfile\" rel=\"nofollow noreferrer\">deprecated</a> and it is not being used at all.</p>\n\n<p>Vert.x on the other side does use the <strong>chain.pem</strong> file. It returns only the intermediate cert and <em>wget</em> complains because of that. To fix the issue create a <strong>fullchain.pem</strong> file composed of both the <strong>chain.pem</strong> and the <strong>cert.pem</strong> files, e.g.,</p>\n\n<pre><code>cat cert.pem chain.pem &gt; fullchain.pem\n</code></pre>\n\n<p>Then use the <strong>fullchain.pem</strong> with the <em>PemTrustOptions</em> configuration.</p>\n\n<p>You don't need to put the LE root certificate in the <strong>fullchain.pem</strong> file, because it should already be present on both client and server side. Here's an excerpt from the <a href=\"https://tools.ietf.org/html/rfc5246#section-7.4.2\" rel=\"nofollow noreferrer\">TLS Protocol RFC</a> about it.</p>\n\n<blockquote>\n  <p>certificate_list\n        This is a sequence (chain) of certificates.  The sender's\n        certificate MUST come first in the list.  Each following\n        certificate MUST directly certify the one preceding it.  Because\n        certificate validation requires that root keys be distributed\n        independently, the self-signed certificate that specifies the root\n        certificate authority MAY be omitted from the chain, under the\n        assumption that the remote end must already possess it in order to\n        validate it in any case.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 107, "user_id": 10948867, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XspcfmjOSP8/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYQa94VmcY0scq0ALyoqR9c4anI_A/mo/photo.jpg?sz=128", "display_name": "Ebadta", "link": "https://stackoverflow.com/users/10948867/ebadta"}, "is_accepted": true, "score": 1, "last_activity_date": 1548255155, "last_edit_date": 1548255155, "creation_date": 1548245235, "answer_id": 54326934, "question_id": 54305577, "link": "https://stackoverflow.com/questions/54305577/lets-encrypt-with-vert-x/54326934#54326934", "title": "Let&#39;s Encrypt with vert.x", "body": "<p>I found the solution here: <a href=\"https://community.letsencrypt.org/t/android-doesnt-trust-the-certificate/16498/2\" rel=\"nofollow noreferrer\">https://community.letsencrypt.org/t/android-doesnt-trust-the-certificate/16498/2</a></p>\n\n<p>I changed the cert.pem to fullchain.pem in the setPemKeyCertOptions settings, and it works.</p>\n\n<p>Thank you for your effort.</p>\n"}], "owner": {"reputation": 107, "user_id": 10948867, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XspcfmjOSP8/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYQa94VmcY0scq0ALyoqR9c4anI_A/mo/photo.jpg?sz=128", "display_name": "Ebadta", "link": "https://stackoverflow.com/users/10948867/ebadta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 545, "favorite_count": 0, "accepted_answer_id": 54326934, "answer_count": 2, "score": 2, "last_activity_date": 1548255155, "creation_date": 1548151046, "last_edit_date": 1548159909, "question_id": 54305577, "link": "https://stackoverflow.com/questions/54305577/lets-encrypt-with-vert-x", "title": "Let&#39;s Encrypt with vert.x", "body": "<p>I got valid https certificate from Let's Encrypt, but have trust issues giving it to vert.x version 3.6.2</p>\n\n<p>I tested the cert with apache, it's ok, however if I try to reach the https vert.x server instance with wget I get:</p>\n\n<blockquote>\n  <p>$ wget  <a href=\"https://www.myhost.mydomain/json/read/all-languages\" rel=\"nofollow noreferrer\">https://www.myhost.mydomain/json/read/all-languages</a>\n  <br />--2019-01-22 10:30:56--  <a href=\"https://www.myhost.mydomain/json/read/all-languages\" rel=\"nofollow noreferrer\">https://www.myhost.mydomain/json/read/all-languages</a><br/>\n  Resolving www.myhost.mydomain (www.myhost.mydomain)... 88.14.34.156<br/>\n  Connecting to www.myhost.mydomain >(www.myhost.mydomain)|88.14.34.156|:443... connected.<br/>\n  ERROR: cannot verify www.myhost.mydomain's certificate, issued by >\u2018CN=Let's Encrypt Authority X3,O=Let's Encrypt,C=US\u2019:\n   Unable to locally verify the issuer's authority.<br/>\n  To connect to www.myhost.mydomain insecurely, use `--no-check->certificate'.</p>\n</blockquote>\n\n<p>Hostname and ip is forged.</p>\n\n<p>my working apache config snippet:</p>\n\n<pre><code>SSLCertificateFile /etc/certs/myhost.mydomain/cert.pem\nSSLCertificateKeyFile /etc/certs/myhost.mydomain/privkey.pem\nSSLCertificateChainFile /etc/certs/myhost.mydomain/chain.pem\n</code></pre>\n\n<p>vert.x code:</p>\n\n<pre><code>val httpsOptions = HttpServerOptions()\n.setPort(443)\n.setSsl(true)\n.setPemTrustOptions(PemTrustOptions()\n    .addCertPath(\"/etc/certs/myhost.mydomain/chain.pem\"))\n.setPemKeyCertOptions(PemKeyCertOptions()\n    .addKeyPath(\"/etc/certs/myhost.mydomain/privkey.pem\")\n    .addCertPath(\"/etc/certs/myhost.mydomain/cert.pem\")\n)\nvertx.createHttpServer(httpsOptions).requestHandler(router).listen()\n</code></pre>\n\n<p><br /></p>\n\n<p>I set vert.x logging to debug, but no error message appears.</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["java", "android", "gradle", "kotlin", "android-gradle-plugin"], "comments": [{"owner": {"reputation": 8429, "user_id": 2636929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=128&d=identicon&r=PG", "display_name": "Stultuske", "link": "https://stackoverflow.com/users/2636929/stultuske"}, "edited": false, "score": 0, "creation_date": 1548150735, "post_id": 54305438, "comment_id": 95430755, "body": "That Exception is thrown when you try to access the second element of an array that has one or zero elements in it."}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1548150823, "post_id": 54305438, "comment_id": 95430812, "body": "<a href=\"https://stackoverflow.com/questions/49506307/gradle-project-sync-failed-after-android-studio-3-1-update\" title=\"gradle project sync failed after android studio 3 1 update\">stackoverflow.com/questions/49506307/&hellip;</a>"}, {"owner": {"reputation": 9286, "user_id": 469080, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/33d6ef3db3ec7b1f7bb10541dca965ef?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Dodd", "link": "https://stackoverflow.com/users/469080/michael-dodd"}, "reply_to_user": {"reputation": 8429, "user_id": 2636929, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fa83a02c04af43fcd224821ca9b750?s=128&d=identicon&r=PG", "display_name": "Stultuske", "link": "https://stackoverflow.com/users/2636929/stultuske"}, "edited": false, "score": 2, "creation_date": 1548151024, "post_id": 54305438, "comment_id": 95430970, "body": "@Stultuske This is an issue with Android Studio resolving dependencies, not a standard Index out of Bounds problem."}, {"owner": {"reputation": 5303, "user_id": 545026, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xviGa.jpg?s=128&g=1", "display_name": "Leo supports Monica Cellio", "link": "https://stackoverflow.com/users/545026/leo-supports-monica-cellio"}, "edited": false, "score": 0, "creation_date": 1549656415, "post_id": 54305438, "comment_id": 95995283, "body": "@jemo-mgebrishvili could you post the output of building with <code>--stacktrace</code>? On Android Studio Settings: Build, Execution, Deployment -&gt; Gradle -&gt; Compiler -&gt; Command-line Options. On the command line: <code>.&#47;gradlew --stacktrace assembleDebug</code>"}, {"owner": {"reputation": 3154, "user_id": 1382540, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/1a33d5394b17138049e2115d81f60696?s=128&d=identicon&r=PG", "display_name": "113408", "link": "https://stackoverflow.com/users/1382540/113408"}, "edited": false, "score": 0, "creation_date": 1549661271, "post_id": 54305438, "comment_id": 95997292, "body": "Did you try using the same gradle config on a <b>New Project</b>?"}, {"owner": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "edited": false, "score": 0, "creation_date": 1549702677, "post_id": 54305438, "comment_id": 96004991, "body": "Try degrading the gradle, there is some issue with new version. Also check if you have instant run enabled or not ?"}, {"owner": {"reputation": 2443, "user_id": 5954635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8VExH.jpg?s=128&g=1", "display_name": "Man", "link": "https://stackoverflow.com/users/5954635/man"}, "edited": false, "score": 0, "creation_date": 1549709561, "post_id": 54305438, "comment_id": 96006261, "body": "What android gradle plugin are you using?Did you try disbling Instant run?"}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "reply_to_user": {"reputation": 5303, "user_id": 545026, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xviGa.jpg?s=128&g=1", "display_name": "Leo supports Monica Cellio", "link": "https://stackoverflow.com/users/545026/leo-supports-monica-cellio"}, "edited": false, "score": 0, "creation_date": 1549877116, "post_id": 54305438, "comment_id": 96046896, "body": "@LeonardoAcevedo please see update"}, {"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1549878535, "post_id": 54305438, "comment_id": 96047728, "body": "have you enabled jetifier?"}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "reply_to_user": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1549878707, "post_id": 54305438, "comment_id": 96047824, "body": "@KaranMer Enabled just now, but nothing were changed"}, {"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1549879117, "post_id": 54305438, "comment_id": 96048040, "body": "did you enabled androidx also?"}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 0, "creation_date": 1549879155, "post_id": 54305438, "comment_id": 96048069, "body": "yes, android.useAndroidX=true android.enableJetifier=true"}, {"owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "edited": false, "score": 0, "creation_date": 1549880390, "post_id": 54305438, "comment_id": 96048823, "body": "try invalidate cache and restart."}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 0, "creation_date": 1549882101, "post_id": 54305438, "comment_id": 96049948, "body": "Got same problem :(("}, {"owner": {"reputation": 5378, "user_id": 2202675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4473030cd8d97fda61e3f1f023a00a9d?s=128&d=identicon&r=PG", "display_name": "danny117", "link": "https://stackoverflow.com/users/2202675/danny117"}, "edited": false, "score": 0, "creation_date": 1550001309, "post_id": 54305438, "comment_id": 96106827, "body": "I&#39;ve had too many of these.  Always something like change compile to buld or something along those lines in the gradle files."}], "answers": [{"comments": [{"owner": {"reputation": 5378, "user_id": 2202675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4473030cd8d97fda61e3f1f023a00a9d?s=128&d=identicon&r=PG", "display_name": "danny117", "link": "https://stackoverflow.com/users/2202675/danny117"}, "edited": false, "score": 0, "creation_date": 1550001332, "post_id": 54650166, "comment_id": 96106847, "body": "Just for the BACKUP in all caps."}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 0, "creation_date": 1550135781, "post_id": 54650166, "comment_id": 96161670, "body": "@Vanshaj-Daga, now build fails with message Could not execute build using Gradle distribution &#39;<a href=\"https://services.gradle.org/distributions/gradle-5.2.1-all.zip\" rel=\"nofollow noreferrer\">services.gradle.org/distributions/gradle-5.2.1-all.zip</a>&#39;."}, {"owner": {"reputation": 1894, "user_id": 9647447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xq6qD.jpg?s=128&g=1", "display_name": "Vanshaj Daga", "link": "https://stackoverflow.com/users/9647447/vanshaj-daga"}, "edited": false, "score": 0, "creation_date": 1550158862, "post_id": 54650166, "comment_id": 96175622, "body": "use distribution path with \\ as  distributionUrl=https\\://services.gradle.org/distributions/g&zwnj;&#8203;radle-5.2.1-all.zip"}], "tags": [], "owner": {"reputation": 1894, "user_id": 9647447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Xq6qD.jpg?s=128&g=1", "display_name": "Vanshaj Daga", "link": "https://stackoverflow.com/users/9647447/vanshaj-daga"}, "is_accepted": false, "score": 3, "last_activity_date": 1549974625, "creation_date": 1549974625, "answer_id": 54650166, "question_id": 54305438, "link": "https://stackoverflow.com/questions/54305438/gradle-build-failed-with-message-taskdependencyresolveexception-could-not-dete/54650166#54650166", "title": "Gradle build failed with message: TaskDependencyResolveException: Could not determine the dependencies of task &#39;:compileDebugKotlin&#39;", "body": "<p>Well, if this error started right after upgrading to Android Studio 3.3 then i recommend you should do the following steps...\nBut firstly make sure you backup your whole project.</p>\n\n<ul>\n<li>In Android Studio goto File > Project Structure and untick from \"use embedded JDK\" then click OK</li>\n<li>Goto Computer Settings (system settings) (win + pause key) then go to Advanced system settings>Environment variables. if JAVA_HOME not present then add it and set path to your installed JDK.</li>\n<li>As i couldn't find a direct approach to modify jdk path in my project that is upgraded in some way to android studio 3.3 settings, i did following(for the last step)<br>\nBUT MAKE SURE YOU MAKE BACKUP BEFORE THIS.\nTo make sure where i am guiding come to project view, I deleted \".grade\", \".idea\". Then rebuild the project and it should go fine now!!!  </li>\n</ul>\n\n<p>And as far as latest gradle it concerned it is 5.2.1 for that change it to<br>\n<a href=\"https://services.gradle.org/distributions/gradle-5.2.1-all.zip\" rel=\"nofollow noreferrer\">https://services.gradle.org/distributions/gradle-5.2.1-all.zip</a>    </p>\n\n<p>And if you have doubt regarding kotlin plugin then see \"Targeting Android\" section in<br>\n<a href=\"https://kotlinlang.org/docs/reference/using-gradle.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/using-gradle.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 636, "user_id": 3896663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XDiZH.jpg?s=128&g=1", "display_name": "Eduardo Oliveira", "link": "https://stackoverflow.com/users/3896663/eduardo-oliveira"}, "edited": false, "score": 0, "creation_date": 1556104636, "post_id": 55813448, "comment_id": 98322186, "body": "Thanks! I spent four days trying to fix this!"}], "tags": [], "owner": {"reputation": 68, "user_id": 6889002, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-a7bD1DfX1jE/AAAAAAAAAAI/AAAAAAAADLs/VvW-6fXYurY/photo.jpg?sz=128", "display_name": "Rafael Luiz Fontana", "link": "https://stackoverflow.com/users/6889002/rafael-luiz-fontana"}, "is_accepted": true, "score": 5, "last_activity_date": 1562156141, "last_edit_date": 1562156141, "creation_date": 1556029527, "answer_id": 55813448, "question_id": 54305438, "link": "https://stackoverflow.com/questions/54305438/gradle-build-failed-with-message-taskdependencyresolveexception-could-not-dete/55813448#55813448", "title": "Gradle build failed with message: TaskDependencyResolveException: Could not determine the dependencies of task &#39;:compileDebugKotlin&#39;", "body": "<p>Downgrade the version of google service to 4.1.0 and the error will disappear. The problem seems to be in version 4.2.0.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Another alternative I found was to create a new empty project, copy the old project classes and import the dependencies into the gradle one by one. This problem occurs in projects that use google service version 4.2.0 and do not have two gradle files, one for the project and one for the module.</p>\n"}], "owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12127, "favorite_count": 3, "accepted_answer_id": 55813448, "answer_count": 2, "score": 15, "last_activity_date": 1575890505, "creation_date": 1548150633, "last_edit_date": 1549877818, "question_id": 54305438, "link": "https://stackoverflow.com/questions/54305438/gradle-build-failed-with-message-taskdependencyresolveexception-could-not-dete", "title": "Gradle build failed with message: TaskDependencyResolveException: Could not determine the dependencies of task &#39;:compileDebugKotlin&#39;", "body": "<p>I have updated <strong>Android Studio</strong> to <strong>3.3</strong> and now I can't build one of my  existing project, I have tried invalidate/restart, also checked <code>gradle-wrapper.properties</code>where gradle version is latest update:</p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-4.10.1-all.zip\n</code></pre>\n\n<p>Here is my <code>build.gradle</code></p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'realm-android'\napply plugin: 'kotlin-kapt'\n\nbuildscript {\n    ext.kotlin_version = '1.3.11'\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n        maven {\n            url 'https://maven.google.com'\n        }\n    }\n\ndependencies {\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    classpath 'com.android.tools.build:gradle:3.3.0'\n    classpath 'com.google.gms:google-services:4.2.0'\n    classpath \"io.realm:realm-gradle-plugin:3.1.3\"\n    }\n}\n\nrepositories {\n    google()\n    jcenter()\n    mavenCentral()\n    maven { url \"https://jitpack.io\" }\n    maven {\n        url 'https://maven.google.com'\n    }\n\n}\n\n\nandroidExtensions {\n    experimental = true\n}\n\nandroid {\n    compileSdkVersion 22\n    buildToolsVersion '28.0.3'\n    defaultConfig {\n        applicationId \"my.package.name\"\n        minSdkVersion 16\n        targetSdkVersion 22\n        versionCode 1\n        versionName \"1.0.0\"\n        multiDexEnabled true\n        vectorDrawables.useSupportLibrary = true\n        ndk {\n            abiFilters \"armeabi-v7a\", \"x86\", \"armeabi\", \"mips\"\n        }\n    }\n\n    lintOptions {\n        checkReleaseBuilds false\n        abortOnError false\n    }\n\n    sourceSets {\n        main {\n            manifest.srcFile 'AndroidManifest.xml'\n            ....\n            res.srcDirs = ['res']\n            assets.srcDirs = ['assets']\n            jniLibs.srcDir 'libs'   \n        }\n\n        androidTest.setRoot('tests')\n\n        debug.setRoot('build-types/debug')\n        release.setRoot('build-types/release')\n    }\n    buildTypes {\n    }\n}\n\next {\n    supportLibraryVersion = '22.2.0'\n    googleServicesVersion = '17.3.4'\n    retrofitVersion = '2.3.0'\n}\n\ndependencies {\n    implementation fileTree(include: '*.jar', dir: 'libs')\n    implementation 'com.android.support.constraint:constraint-layout:1.1.3'\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n\n    [\n            'cardview-v7', 'design'\n    ].each {\n        implementation \"com.android.support:$it:$supportLibraryVersion\"\n    }\n\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version\"\n\n\n    implementation 'org.jetbrains.anko:anko-sdk23:0.9.1'\n    implementation 'com.google.code.gson:gson:2.8.5'\n    implementation 'com.android.support:multidex:1.0.3'\n    implementation 'com.squareup:otto:1.3.8'\n    implementation \"com.squareup.retrofit2:retrofit:$retrofitVersion\"\n    implementation \"com.squareup.retrofit2:converter-gson:$retrofitVersion\"\n    implementation 'com.squareup.okhttp3:okhttp:3.11.0'\n    implementation 'com.squareup.picasso:picasso:2.71828'\n    implementation 'com.squareup.okhttp3:logging-interceptor:3.8.1'\n    implementation \"com.google.firebase:firebase-messaging:$googleServicesVersion\"\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>When I'm trying to build project <code>preDebugBuild</code> error appears </p>\n\n<pre><code>org.gradle.api.UncheckedIOException: Failed to capture fingerprint of input files for task ':preDebugBuild' property 'compileManifests' during up-to-date check.\n</code></pre>\n\n<p>and <strong>Java compiler: (1 error)</strong></p>\n\n<pre><code>Caused by: java.lang.ArrayIndexOutOfBoundsException: 1\n</code></pre>\n\n<p>If I run <code>assembleDebug</code></p>\n\n<pre><code>* Exception is:\norg.gradle.api.internal.tasks.TaskDependencyResolveException: \nCould not determine the dependencies of task ':compileDebugKotlin.' \n...\nCaused by: java.lang.ArrayIndexOutOfBoundsException: 1 \n\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 5.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\n</code></pre>\n\n<p>Also if run <code>./gradlew build -Dorg.gradle.warning.mode=all\n</code></p>\n\n<pre><code>The project name 'myapp-android production' contains at least one of the following characters:\n[ , /, \\, :, &lt;, &gt;, \", ?, *, |]. This has been deprecated and is scheduled to be removed in Gradle 5.0. \nSet the 'rootProject.name' or adjust the 'include' statement\n (see https://docs.gradle.org/4.10.1/dsl/org.gradle.api.initialization.Settings.html#org.gradle.api.initialization.Settings:include(java.lang.String[])\n for more details)\n\nCould not resolve compiler classpath. \nCheck if Kotlin Gradle plugin repository is configured in root project 'myapp-android production'\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':compileReleaseKotlin'.\n</code></pre>\n\n<p>How can I resolve this issue? This happened after Android Studio update.</p>\n\n<p><strong>Update</strong> result of <code>./gradlew --stacktrace assembleDebug</code></p>\n\n<pre><code>    Could not resolve compiler classpath. Check if Kotlin Gradle plugin repository is configured in root project 'my_app_production'.\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not determine the dependencies of task ':compileDebugKotlin'.\n&gt; 1\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.internal.tasks.TaskDependencyResolveException: Could not determine the dependencies of task ':compileDebugKotlin'.\n        at org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext.getDependencies(CachingTaskDependencyResolveContext.java:66)\n        at org.gradle.execution.taskgraph.TaskDependencyResolver.resolveDependenciesFor(TaskDependencyResolver.java:46)\n        at org.gradle.execution.taskgraph.LocalTaskInfo.getDependencies(LocalTaskInfo.java:89)\n        at org.gradle.execution.taskgraph.LocalTaskInfo.resolveDependencies(LocalTaskInfo.java:62)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.addToTaskGraph(DefaultTaskExecutionPlan.java:168)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph.addTasks(DefaultTaskExecutionGraph.java:126)\n        at org.gradle.execution.TaskNameResolvingBuildConfigurationAction.configure(TaskNameResolvingBuildConfigurationAction.java:47)\n        at org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:48)\n        at org.gradle.execution.DefaultBuildConfigurationActionExecuter.access$000(DefaultBuildConfigurationActionExecuter.java:25)\n        at org.gradle.execution.DefaultBuildConfigurationActionExecuter$1.proceed(DefaultBuildConfigurationActionExecuter.java:54)\n        at org.gradle.execution.DefaultTasksBuildExecutionAction.configure(DefaultTasksBuildExecutionAction.java:44)\n        at org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:48)\n        at org.gradle.execution.DefaultBuildConfigurationActionExecuter.access$000(DefaultBuildConfigurationActionExecuter.java:25)\n        at org.gradle.execution.DefaultBuildConfigurationActionExecuter$1.proceed(DefaultBuildConfigurationActionExecuter.java:54)\n        at org.gradle.execution.ExcludedTaskFilteringBuildConfigurationAction.configure(ExcludedTaskFilteringBuildConfigurationAction.java:47)\n        at org.gradle.execution.DefaultBuildConfigurationActionExecuter.configure(DefaultBuildConfigurationActionExecuter.java:48)\n        at org.gradle.execution.DefaultBuildConfigurationActionExecuter.select(DefaultBuildConfigurationActionExecuter.java:36)\n        at org.gradle.initialization.DefaultGradleLauncher$CalculateTaskGraph.run(DefaultGradleLauncher.java:305)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n        at org.gradle.initialization.DefaultGradleLauncher.constructTaskGraph(DefaultGradleLauncher.java:190)\n        at org.gradle.initialization.DefaultGradleLauncher.doBuildStages(DefaultGradleLauncher.java:145)\n        at org.gradle.initialization.DefaultGradleLauncher.executeTasks(DefaultGradleLauncher.java:124)\n        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:77)\n        at org.gradle.internal.invocation.GradleBuildController$1.call(GradleBuildController.java:74)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:154)\n        at org.gradle.internal.work.StopShieldingWorkerLeaseService.withLocks(StopShieldingWorkerLeaseService.java:38)\n        at org.gradle.internal.invocation.GradleBuildController.doBuild(GradleBuildController.java:96)\n        at org.gradle.internal.invocation.GradleBuildController.run(GradleBuildController.java:74)\n        at org.gradle.tooling.internal.provider.ExecuteBuildActionRunner.run(ExecuteBuildActionRunner.java:28)\n        at org.gradle.launcher.exec.ChainingBuildActionRunner.run(ChainingBuildActionRunner.java:35)\n        at org.gradle.tooling.internal.provider.ValidatingBuildActionRunner.run(ValidatingBuildActionRunner.java:32)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner$3.run(RunAsBuildOperationBuildActionRunner.java:50)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n        at org.gradle.launcher.exec.RunAsBuildOperationBuildActionRunner.run(RunAsBuildOperationBuildActionRunner.java:45)\n        at org.gradle.tooling.internal.provider.SubscribableBuildActionRunner.run(SubscribableBuildActionRunner.java:51)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:47)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter$1.transform(InProcessBuildActionExecuter.java:44)\n        at org.gradle.composite.internal.DefaultRootBuildState.run(DefaultRootBuildState.java:79)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:44)\n        at org.gradle.launcher.exec.InProcessBuildActionExecuter.execute(InProcessBuildActionExecuter.java:30)\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:39)\n        at org.gradle.launcher.exec.BuildTreeScopeBuildActionExecuter.execute(BuildTreeScopeBuildActionExecuter.java:25)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:80)\n        at org.gradle.tooling.internal.provider.ContinuousBuildActionExecuter.execute(ContinuousBuildActionExecuter.java:53)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:62)\n        at org.gradle.tooling.internal.provider.ServicesSetupBuildActionExecuter.execute(ServicesSetupBuildActionExecuter.java:34)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n        at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:43)\n        at org.gradle.tooling.internal.provider.ParallelismConfigurationBuildActionExecuter.execute(ParallelismConfigurationBuildActionExecuter.java:29)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:59)\n        at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:59)\n        at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:44)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:46)\n        at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:30)\n        at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:67)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:37)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:26)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:34)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:74)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.call(ForwardClientInput.java:72)\n        at org.gradle.util.Swapper.swap(Swapper.java:38)\n        at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:72)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:62)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:81)\n        at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:36)\n        at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:122)\n        at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:50)\n        at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:295)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n        at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: java.lang.ArrayIndexOutOfBoundsException: 1\n        at com.google.android.gms.dependencies.DependencyInspector.registerDependencies(DependencyInspector.java:118)\n        at com.google.android.gms.dependencies.DependencyInspector.afterResolve(DependencyInspector.java:173)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n        at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n        at org.gradle.internal.event.DefaultListenerManager$ListenerDetails.dispatch(DefaultListenerManager.java:370)\n        at org.gradle.internal.event.DefaultListenerManager$ListenerDetails.dispatch(DefaultListenerManager.java:352)\n        at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:58)\n        at org.gradle.internal.event.DefaultListenerManager$EventBroadcast$ListenerDispatch.dispatch(DefaultListenerManager.java:340)\n        at org.gradle.internal.event.DefaultListenerManager$EventBroadcast$ListenerDispatch.dispatch(DefaultListenerManager.java:327)\n        at org.gradle.internal.event.AbstractBroadcastDispatch.dispatch(AbstractBroadcastDispatch.java:42)\n        at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:230)\n        at org.gradle.internal.event.BroadcastDispatch$SingletonDispatch.dispatch(BroadcastDispatch.java:149)\n        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:140)\n        at org.gradle.internal.event.ListenerBroadcast.dispatch(ListenerBroadcast.java:37)\n        at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n        at com.sun.proxy.$Proxy29.afterResolve(Unknown Source)\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$5.run(DefaultConfiguration.java:542)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:300)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:292)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:174)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:90)\n        at org.gradle.internal.operations.DelegatingBuildOperationExecutor.run(DelegatingBuildOperationExecutor.java:31)\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.resolveGraphIfRequired(DefaultConfiguration.java:524)\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.resolveToStateOrLater(DefaultConfiguration.java:509)\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.access$1800(DefaultConfiguration.java:123)\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getSelectedArtifacts(DefaultConfiguration.java:1037)\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration$ConfigurationFileCollection.getFiles(DefaultConfiguration.java:1025)\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.getFiles(DefaultConfiguration.java:444)\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration_Decorated.getFiles(Unknown Source)\n        at org.gradle.api.internal.artifacts.configurations.DefaultConfiguration.resolve(DefaultConfiguration.java:434)\n        at org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompileTool.getComputedCompilerClasspath$kotlin_gradle_plugin(Tasks.kt:94)\n        at org.gradle.api.internal.tasks.properties.bean.AbstractNestedRuntimeBeanNode$DefaultPropertyValue$1$1.create(AbstractNestedRuntimeBeanNode.java:83)\n        at org.gradle.util.SingleMessageLogger.whileDisabled(SingleMessageLogger.java:313)\n        at org.gradle.api.internal.tasks.properties.bean.AbstractNestedRuntimeBeanNode$DefaultPropertyValue$1.get(AbstractNestedRuntimeBeanNode.java:80)\n        at com.google.common.base.Suppliers$MemoizingSupplier.get(Suppliers.java:125)\n        at org.gradle.api.internal.tasks.properties.bean.AbstractNestedRuntimeBeanNode$DefaultPropertyValue.getValue(AbstractNestedRuntimeBeanNode.java:138)\n        at org.gradle.api.internal.tasks.properties.bean.AbstractNestedRuntimeBeanNode$DefaultPropertyValue.call(AbstractNestedRuntimeBeanNode.java:144)\n        at org.gradle.util.GUtil.uncheckedCall(GUtil.java:459)\n        at org.gradle.api.internal.file.collections.BuildDependenciesOnlyFileCollectionResolveContext.add(BuildDependenciesOnlyFileCollectionResolveContext.java:76)\n        at org.gradle.api.internal.tasks.TaskPropertyFileCollection.visitContents(TaskPropertyFileCollection.java:53)\n        at org.gradle.api.internal.file.CompositeFileCollection.visitDependencies(CompositeFileCollection.java:187)\n        at org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext$TaskGraphImpl.getNodeValues(CachingTaskDependencyResolveContext.java:96)\n        at org.gradle.internal.graph.CachingDirectedGraphWalker$GraphWithEmpyEdges.getNodeValues(CachingDirectedGraphWalker.java:211)\n        at org.gradle.internal.graph.CachingDirectedGraphWalker.doSearch(CachingDirectedGraphWalker.java:121)\n        at org.gradle.internal.graph.CachingDirectedGraphWalker.findValues(CachingDirectedGraphWalker.java:73)\n        at org.gradle.api.internal.tasks.CachingTaskDependencyResolveContext.getDependencies(CachingTaskDependencyResolveContext.java:64)\n        ... 90 more\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\n</code></pre>\n"}, {"tags": ["android", "kotlin", "simple-framework"], "comments": [{"owner": {"reputation": 429, "user_id": 5830413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kBIrv.jpg?s=128&g=1", "display_name": "Mahesh Shahane", "link": "https://stackoverflow.com/users/5830413/mahesh-shahane"}, "edited": false, "score": 0, "creation_date": 1548161841, "post_id": 54304924, "comment_id": 95437109, "body": "Check this : <a href=\"https://stackoverflow.com/questions/24102741/simple-framework-skip-soap-envelope-and-body/24225297#24225297\" title=\"simple framework skip soap envelope and body\">stackoverflow.com/questions/24102741/&hellip;</a> And <a href=\"https://stackoverflow.com/questions/13155056/deserialization-of-xml-with-simplexml-in-java/13193877#13193877\" title=\"deserialization of xml with simplexml in java\">stackoverflow.com/questions/13155056/&hellip;</a> Hope this help you."}, {"owner": {"reputation": 77, "user_id": 3370924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7217d4db66a88820e86a106df858167a?s=128&d=identicon&r=PG&f=1", "display_name": "lex", "link": "https://stackoverflow.com/users/3370924/lex"}, "reply_to_user": {"reputation": 429, "user_id": 5830413, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kBIrv.jpg?s=128&g=1", "display_name": "Mahesh Shahane", "link": "https://stackoverflow.com/users/5830413/mahesh-shahane"}, "edited": false, "score": 0, "creation_date": 1548168501, "post_id": 54304924, "comment_id": 95441388, "body": "Hi @MaheshShahane, thanks for the links but I read this two articles already and could not get my code to work."}], "answers": [{"tags": [], "owner": {"reputation": 77, "user_id": 3370924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7217d4db66a88820e86a106df858167a?s=128&d=identicon&r=PG&f=1", "display_name": "lex", "link": "https://stackoverflow.com/users/3370924/lex"}, "is_accepted": true, "score": 0, "last_activity_date": 1548331961, "creation_date": 1548331961, "answer_id": 54346424, "question_id": 54304924, "link": "https://stackoverflow.com/questions/54304924/how-to-parse-a-soap-response-with-simplexml-in-android/54346424#54346424", "title": "How to parse a SOAP Response with SimpleXML in Android?", "body": "<p>After a while I found out, that I do not need the prefixes to read the XML response.\neg. </p>\n\n<p><code>@Root(name = \"S:Envelope\", strict = false)</code>\nshould be\n<code>@Root(name = \"Envelope\", strict = false)</code></p>\n"}], "owner": {"reputation": 77, "user_id": 3370924, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7217d4db66a88820e86a106df858167a?s=128&d=identicon&r=PG&f=1", "display_name": "lex", "link": "https://stackoverflow.com/users/3370924/lex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 0, "accepted_answer_id": 54346424, "answer_count": 1, "score": 0, "last_activity_date": 1548331961, "creation_date": 1548148782, "last_edit_date": 1548160301, "question_id": 54304924, "link": "https://stackoverflow.com/questions/54304924/how-to-parse-a-soap-response-with-simplexml-in-android", "title": "How to parse a SOAP Response with SimpleXML in Android?", "body": "<p>I need to read an XML file from a SOAP service in my android app and have a problem. The request object was no problem at all but when trying to read the response I do not get any elements.</p>\n\n<p>The XML looks like</p>\n\n<pre><code>&lt;S:Envelope xmlns:S=\"http://schemas.xmlsoap.org/soap/envelope/\"&gt;\n    &lt;S:Body&gt;\n        &lt;ns2:getTexts xmlns:ns2=\"http://service.......de/\"&gt;\n            &lt;return&gt;text1&lt;/return&gt;\n            &lt;return&gt;text2&lt;/return&gt;\n            &lt;return&gt;text3&lt;/return&gt;\n            &lt;return&gt;text4&lt;/return&gt;\n            &lt;return&gt;text5&lt;/return&gt;\n        &lt;/ns2:getTexts&gt;\n    &lt;/S:Body&gt;\n&lt;/S:Envelope&gt;\n</code></pre>\n\n<p>My Modules are</p>\n\n<pre><code>@Root(name = \"S:Envelope\", strict = false)\nclass ResponseEnvelope @JvmOverloads constructor(\n    @field:Element(name = \"S:Body\", required = false) var body: GetTexts? = null\n)\n\n@Root(name = \"S:Body\", strict = false)\nclass GetTexts @JvmOverloads constructor(\n    @field:Element(name = \"ns2:getTexts\", required = false) var response: TextItem? = null\n)\n\n@Root(strict = false)\nclass TextItem @JvmOverloads constructor(\n    @field:ElementList(\n        name = \"ns2:getTexts\",\n        entry = \"return\",\n        inline = true,\n        required = false\n    ) var textList: List&lt;String&gt;? = mutableListOf()\n)\n</code></pre>\n\n<p>When trying to access the ResponseEnvelope it is always null.\nDo I need to write a Converter for each class?\nCan somebody help me here please?</p>\n"}, {"tags": ["generics", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 6, "last_activity_date": 1548148980, "creation_date": 1548148980, "answer_id": 54304981, "question_id": 54304896, "link": "https://stackoverflow.com/questions/54304896/recursive-type-parameters-in-kotlin/54304981#54304981", "title": "Recursive type parameters in kotlin", "body": "<p>The standard way (called <a href=\"https://en.wikipedia.org/wiki/Bounded_quantification#F-bounded_quantification\" rel=\"noreferrer\">F-bounded polymorphism</a>) is</p>\n\n<pre><code>open class View&lt;V: View&lt;V, P&gt;, P: Presenter&lt;out V&gt;&gt; { ... }\n</code></pre>\n\n<p>It may make more sense to put <code>out</code> elsewhere here, depending on the specifics:</p>\n\n<pre><code>open class View&lt;out V: View&lt;V, P&gt;, out P: Presenter&lt;V&gt;&gt; { ... }\n</code></pre>\n"}], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 251, "favorite_count": 1, "accepted_answer_id": 54304981, "answer_count": 1, "score": 5, "last_activity_date": 1548148980, "creation_date": 1548148705, "question_id": 54304896, "link": "https://stackoverflow.com/questions/54304896/recursive-type-parameters-in-kotlin", "title": "Recursive type parameters in kotlin", "body": "<p>I want to write something like that in Kotlin.</p>\n\n<pre><code>open class View&lt;P&gt; where P:Presenter&lt;out _this_class_&gt; {\n    val presenter: P = ...\n}\n\nopen class Presenter&lt;V&gt; where V: View&lt;out _this_class_&gt; {\n    val view: V = ...\n}\n</code></pre>\n\n<p>How I can properly do that?</p>\n"}, {"tags": ["android", "kotlin", "retrofit", "okhttp"], "comments": [{"owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "edited": false, "score": 1, "creation_date": 1548148924, "post_id": 54304806, "comment_id": 95429678, "body": "The stacktrace says it&#39;s <code>RequestsErrorInterceptor</code> and not <code>TazuzuRequestsInterceptor</code> you posted."}, {"owner": {"reputation": 2445, "user_id": 2389923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a9332842a945234c71e89f9b9780447?s=128&d=identicon&r=PG", "display_name": "beigirad", "link": "https://stackoverflow.com/users/2389923/beigirad"}, "edited": false, "score": 0, "creation_date": 1548149774, "post_id": 54304806, "comment_id": 95430166, "body": "when you take all your code in try/catch, why take a lot of if/else? :))"}], "answers": [{"comments": [{"owner": {"reputation": 612, "user_id": 5493999, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/af1540ce6627c0231efcf14d8667e147?s=128&d=identicon&r=PG", "display_name": "Abdul Mateen", "link": "https://stackoverflow.com/users/5493999/abdul-mateen"}, "edited": false, "score": 0, "creation_date": 1618500263, "post_id": 54304960, "comment_id": 118625131, "body": "Simply using ? operator doesn&#39;t solve this problem."}], "tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": -1, "last_activity_date": 1548148908, "creation_date": 1548148908, "answer_id": 54304960, "question_id": 54304806, "link": "https://stackoverflow.com/questions/54304806/okhttp-interceptor-keep-returning-null-and-crashing-the-app/54304960#54304960", "title": "OkHttp interceptor keep returning null and crashing the app", "body": "<p>You shouldn't return <code>null</code> in <code>intercept</code> method. Return something like this:</p>\n\n<pre><code>override fun intercept(chain: Interceptor.Chain?): Response? {\n    // ...\n    return chain?.proceed(request);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 45, "user_id": 7010822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ae239df73c89f551b0bcb9a2d871e7?s=128&d=identicon&r=PG&f=1", "display_name": "holyubuntu", "link": "https://stackoverflow.com/users/7010822/holyubuntu"}, "edited": false, "score": 0, "creation_date": 1548329810, "post_id": 54306151, "comment_id": 95506921, "body": "Thank you. that helped me a lot to understand how things should work."}, {"owner": {"reputation": 1460, "user_id": 10942908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jLlgs.png?s=128&g=1", "display_name": "Joshua de Guzman", "link": "https://stackoverflow.com/users/10942908/joshua-de-guzman"}, "reply_to_user": {"reputation": 45, "user_id": 7010822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ae239df73c89f551b0bcb9a2d871e7?s=128&d=identicon&r=PG&f=1", "display_name": "holyubuntu", "link": "https://stackoverflow.com/users/7010822/holyubuntu"}, "edited": false, "score": 0, "creation_date": 1548337306, "post_id": 54306151, "comment_id": 95511429, "body": "Does this answer your question?"}, {"owner": {"reputation": 45, "user_id": 7010822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ae239df73c89f551b0bcb9a2d871e7?s=128&d=identicon&r=PG&f=1", "display_name": "holyubuntu", "link": "https://stackoverflow.com/users/7010822/holyubuntu"}, "edited": false, "score": 0, "creation_date": 1548337932, "post_id": 54306151, "comment_id": 95511807, "body": "Yes. it did. also voted up your answer, but my votes are not counted yet :)"}, {"owner": {"reputation": 1460, "user_id": 10942908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jLlgs.png?s=128&g=1", "display_name": "Joshua de Guzman", "link": "https://stackoverflow.com/users/10942908/joshua-de-guzman"}, "reply_to_user": {"reputation": 45, "user_id": 7010822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ae239df73c89f551b0bcb9a2d871e7?s=128&d=identicon&r=PG&f=1", "display_name": "holyubuntu", "link": "https://stackoverflow.com/users/7010822/holyubuntu"}, "edited": false, "score": 0, "creation_date": 1548338009, "post_id": 54306151, "comment_id": 95511853, "body": "No worries, happy to help. :)"}], "tags": [], "owner": {"reputation": 1460, "user_id": 10942908, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jLlgs.png?s=128&g=1", "display_name": "Joshua de Guzman", "link": "https://stackoverflow.com/users/10942908/joshua-de-guzman"}, "is_accepted": true, "score": 1, "last_activity_date": 1548153131, "last_edit_date": 1548153131, "creation_date": 1548152751, "answer_id": 54306151, "question_id": 54304806, "link": "https://stackoverflow.com/questions/54304806/okhttp-interceptor-keep-returning-null-and-crashing-the-app/54306151#54306151", "title": "OkHttp interceptor keep returning null and crashing the app", "body": "<p><strong>Few notes</strong></p>\n\n<p>You shouldn't pass <code>null</code> in the interceptor</p>\n\n<p><strong>What went wrong</strong></p>\n\n<p>Null is passed to the downstream chain</p>\n\n<p><strong>What you can do</strong></p>\n\n<pre><code>class ErrorHandlingInterceptor : Interceptor {\n    override fun intercept(chain: Interceptor.Chain): Response {\n        val request = chain.request()\n        val response = chain.proceed(request)\n\n        if (!isInternetAvailable()) {\n            // Do your thing\n            // 1. Either throw a generic exception\n            // 2. Throw an exception with your own custom status code that can be checked on the callbacks\n            // 3. Create an interface callback\n\n            // example throw invocation\n            throw Exception()\n        } else {\n            val builder = request.newBuilder()\n            builder?.let { builder -&gt;\n                builder.addHeader(\"x-access-token\", ServerManager.token)\n            }\n            request = builder.build()\n\n            // No need for this additional checks\n            // if (request != null &amp;&amp; chain != null) { ... }\n\n            return chain.proceed(request)\n        }\n    }\n}\n\n\nprivate fun isInternetAvailable(): Boolean {\n    return try {\n        val ipAddr = InetAddress.getByName(\"google.com\")\n        //You can replace it with your name\n        !ipAddr.equals(\"\")\n\n    } catch (e: Exception) {\n        false\n    }\n\n}\n</code></pre>\n\n<p>If for example, you have chosen to throw an exception when there's no internet connection, you could just handle everything in <code>onFailure()</code>callback of the <code>retrofit</code> call. </p>\n\n<p>Or if you are using <code>rxjava</code>, you can just subscribe for the error on the error callback handler.</p>\n\n<p><strong>Read more on</strong></p>\n\n<ul>\n<li><a href=\"https://futurestud.io/tutorials/retrofit-2-catch-server-errors-globally-with-response-interceptor\" rel=\"nofollow noreferrer\">https://futurestud.io/tutorials/retrofit-2-catch-server-errors-globally-with-response-interceptor</a></li>\n<li><a href=\"https://medium.com/@tsaha.cse/advanced-retrofit2-part-1-network-error-handling-response-caching-77483cf68620\" rel=\"nofollow noreferrer\">https://medium.com/@tsaha.cse/advanced-retrofit2-part-1-network-error-handling-response-caching-77483cf68620</a></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 1837, "user_id": 1996382, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/8556de33bd3ca0b2c56f0aa1b37c5bd1?s=128&d=identicon&r=PG", "display_name": "chatlanin", "link": "https://stackoverflow.com/users/1996382/chatlanin"}, "is_accepted": false, "score": 0, "last_activity_date": 1617198042, "creation_date": 1617198042, "answer_id": 66889031, "question_id": 54304806, "link": "https://stackoverflow.com/questions/54304806/okhttp-interceptor-keep-returning-null-and-crashing-the-app/66889031#66889031", "title": "OkHttp interceptor keep returning null and crashing the app", "body": "<p>I had this error when tried to launch request in Main Thread. Try to use coroutines, just wrap your Retrofit-request call with CoroutineScope:</p>\n<pre><code>val apiService = RetrofitFactory.makeRetrofitService()\n\n    CoroutineScope(Dispatchers.IO).launch {\n\n        val response = apiService.myPostRequest()\n\n        // process response...\n\n    }\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 7010822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95ae239df73c89f551b0bcb9a2d871e7?s=128&d=identicon&r=PG&f=1", "display_name": "holyubuntu", "link": "https://stackoverflow.com/users/7010822/holyubuntu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3665, "favorite_count": 0, "accepted_answer_id": 54306151, "answer_count": 3, "score": 1, "last_activity_date": 1617198042, "creation_date": 1548148465, "last_edit_date": 1548153251, "question_id": 54304806, "link": "https://stackoverflow.com/questions/54304806/okhttp-interceptor-keep-returning-null-and-crashing-the-app", "title": "OkHttp interceptor keep returning null and crashing the app", "body": "<p>I have an OkHttp client which uses my custom network interceptor in order to insert token into requests header.</p>\n\n<p>I keep on getting the exception </p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: OkHttp Dispatcher \n   Process: com.edstart.tazuzu, PID: 32093\n   java.lang.NullPointerException: interceptor com.edstart.tazuzu.RestAPI.RequestsErrorInterceptor@2bde70f returned null\n       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:157)\n       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n       at com.edstart.tazuzu.RestAPI.TazuzuRequestsInterceptor.intercept(TazuzuRequestsInterceptor.kt:30)\n       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n       at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.java:45)\n       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n       at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.java:93)\n       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n       at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.java:93)\n       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n       at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.java:126)\n       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:147)\n       at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:121)\n       at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:254)\n       at okhttp3.RealCall$AsyncCall.execute(RealCall.java:200)\n       at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n       at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\n       at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\n       at java.lang.Thread.run(Thread.java:764)\n</code></pre>\n\n<p>I have tried surrounding the interceptor with try/catch. and also throwing error in order to avoid app crash but with no good results.</p>\n\n<p>The interceptor code:</p>\n\n<pre><code>package com.edstart.tazuzu.RestAPI\n\nimport android.util.Log\nimport com.edstart.tazuzu.Managers.ServerManager\nimport okhttp3.Interceptor\nimport okhttp3.Response\nimport java.net.InetAddress\nimport kotlin.Exception\n\n/**\n * interceptor for the tazuzu api requests to insert the token before the request\n * send to the server (for authentication)\n */\nclass TazuzuRequestsInterceptor : Interceptor {\n    override fun intercept(chain: Interceptor.Chain?): Response? {\n        try {\n\n            if (!isInternetAvailable()) {\n                throw Exception()\n            } else {\n                var request = chain?.request()\n\n                if (request != null) {\n                    val builder = request.newBuilder()\n                    if (builder != null) {\n                        builder.addHeader(\"x-access-token\", ServerManager.token)\n\n                        request = builder.build()\n                        if (request != null &amp;&amp; chain != null) {\n                            return chain.proceed(request)\n                        }\n                    }\n                }\n            }\n        } catch (e: java.lang.Exception) {\n            Log.e(\"###\", e.toString())\n            throw e\n        }\n        return null\n    }\n\n    private fun isInternetAvailable(): Boolean {\n        return try {\n            val ipAddr = InetAddress.getByName(\"google.com\")\n            //You can replace it with your name\n            !ipAddr.equals(\"\")\n\n        } catch (e: Exception) {\n            false\n        }\n\n    }\n</code></pre>\n\n<p>Please help, looking for ways controlling exceptions in a way it won't make the app crash.</p>\n"}, {"tags": ["android", "kotlin", "permissions", "annotations"], "answers": [{"tags": [], "owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "is_accepted": true, "score": 1, "last_activity_date": 1548234468, "creation_date": 1548234468, "answer_id": 54323548, "question_id": 54304684, "link": "https://stackoverflow.com/questions/54304684/missing-permission-hint-when-calling-requirespermission-annotated-method/54323548#54323548", "title": "Missing permission hint when calling requiresPermission-annotated method", "body": "<p>Problem was that I placed </p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n          package=\"it.zehus.bikeaccesssdk\"&gt;\n    &lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.BLUETOOTH\"/&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>in the library module. I removed the permissions from the library manifest and now Android Studio is providing the correct hint. </p>\n"}], "owner": {"reputation": 5397, "user_id": 6275174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2VQA5.jpg?s=128&g=1", "display_name": "Nicola Gallazzi", "link": "https://stackoverflow.com/users/6275174/nicola-gallazzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 604, "favorite_count": 0, "accepted_answer_id": 54323548, "answer_count": 1, "score": 2, "last_activity_date": 1548234468, "creation_date": 1548147997, "last_edit_date": 1548148440, "question_id": 54304684, "link": "https://stackoverflow.com/questions/54304684/missing-permission-hint-when-calling-requirespermission-annotated-method", "title": "Missing permission hint when calling requiresPermission-annotated method", "body": "<p>I'm developing a little sdk that has to be included in projects via .aar file. In this sdk I have a method defined like below:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>/**\n     * Sends an \"open lock\" request for the bike, with the ble name provided as param. Requires ACCESS_FINE_LOCATION and\n     * BLUETOOTH permission\n     *\n     * @param bikeBleName The BLE name of the searched bike, normally starts with 'BS' prefix\n     * @param listener   Listener for the operation state, returns success or an error string with the detailed error\n\n     */\n    @RequiresPermission(allOf = [Manifest.permission.BLUETOOTH, Manifest.permission.ACCESS_FINE_LOCATION])\n    override fun startRent(bikeBleName: String, bikeMode: BikeMode, listener: StartRentListener) {\n        GlobalScope.launch {\n            startRentManager.startRent(bikeBleName, bikeMode, listener)\n        }\n    }\n</code></pre>\n\n<p>As you can see, the method is annotated with <code>@RequiresPermission(allOf = [Manifest.permission.BLUETOOTH, Manifest.permission.ACCESS_FINE_LOCATION])</code>, however, if I call the method from my project MainActivity, Android Studio tells me that the method requires a permission check, but it doesn't tell me which permissions are required.\nWhat I would like to obtain is Android Studio telling me \"this method requires ACCESS_FINE_LOCATION and BLUETOOTH permissions\", something similar to the screenshot below. How can I achieve that? Thanks</p>\n\n<p><a href=\"https://i.stack.imgur.com/xI7dr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xI7dr.png\" alt=\"enter image description here\"></a></p>\n\n<p>The manifest file of the library module is:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n          package=\"it.zehus.bikeaccesssdk\"&gt;\n    &lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\"/&gt;\n    &lt;uses-permission android:name=\"android.permission.BLUETOOTH\"/&gt;\n&lt;/manifest&gt;\n</code></pre>\n"}, {"tags": ["hibernate", "kotlin", "spring-data-jpa", "repository-pattern", "micronaut"], "answers": [{"tags": [], "owner": {"reputation": 7644, "user_id": 259167, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a8599a62cdcb121904ab0015afc4569?s=128&d=identicon&r=PG", "display_name": "Graeme Rocher", "link": "https://stackoverflow.com/users/259167/graeme-rocher"}, "is_accepted": true, "score": 2, "last_activity_date": 1548317852, "creation_date": 1548317852, "answer_id": 54342102, "question_id": 54304220, "link": "https://stackoverflow.com/questions/54304220/is-there-with-micronaut-a-way-to-have-the-spring-data-jpa-repository-autogener/54342102#54342102", "title": "Is there with micronaut a way to have the &quot;Spring Data JPA&quot; repository autogenerated from an interface like in spring?", "body": "<p>Not currently, although such a feature is planned for the future. </p>\n"}, {"comments": [{"owner": {"reputation": 330, "user_id": 1270045, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/52485ac9989a03eac5c48a06d1456fe0?s=128&d=identicon&r=PG&f=1", "display_name": "rom", "link": "https://stackoverflow.com/users/1270045/rom"}, "edited": false, "score": 0, "creation_date": 1564043326, "post_id": 57189670, "comment_id": 100903538, "body": "Following the project closely and will update here when its released."}], "tags": [], "owner": {"reputation": 1352, "user_id": 9035706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32af345829541d25615a5c435ca893c2?s=128&d=identicon&r=PG&f=1", "display_name": "Eerik Sven Puudist", "link": "https://stackoverflow.com/users/9035706/eerik-sven-puudist"}, "is_accepted": false, "score": 1, "last_activity_date": 1567194875, "last_edit_date": 1567194875, "creation_date": 1563995130, "answer_id": 57189670, "question_id": 54304220, "link": "https://stackoverflow.com/questions/54304220/is-there-with-micronaut-a-way-to-have-the-spring-data-jpa-repository-autogener/57189670#57189670", "title": "Is there with micronaut a way to have the &quot;Spring Data JPA&quot; repository autogenerated from an interface like in spring?", "body": "<p>In July 2019 Micronaut authors released Predator \u2014 short for Precomputed Data Repositories \u2014 that is equivalent to Spring Data.</p>\n\n<p><a href=\"https://objectcomputing.com/news/2019/07/18/unleashing-predator-precomputed-data-repositories\" rel=\"nofollow noreferrer\">Quoting</a>:</p>\n\n<blockquote>\n  <p>Predator uses Micronaut's ahead-of-time (AoT) compilation APIs to move the entity meta-model into your compiler and translate a finder expression like findByTitle into the appropriate SQL or JPA-QL query at compilation time. A very thin runtime layer that uses Micronaut's reflection-free compilation-time AOP then only has to execute the query and return the results.</p>\n</blockquote>\n\n<p>UPDATE: The project has now been renamed to \"Micronaut Data\", <a href=\"https://micronaut-projects.github.io/micronaut-data/latest/guide/\" rel=\"nofollow noreferrer\">here is the new link to the docs</a></p>\n"}], "owner": {"reputation": 330, "user_id": 1270045, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/52485ac9989a03eac5c48a06d1456fe0?s=128&d=identicon&r=PG&f=1", "display_name": "rom", "link": "https://stackoverflow.com/users/1270045/rom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 0, "accepted_answer_id": 54342102, "answer_count": 2, "score": 3, "last_activity_date": 1567194875, "creation_date": 1548146312, "last_edit_date": 1567067484, "question_id": 54304220, "link": "https://stackoverflow.com/questions/54304220/is-there-with-micronaut-a-way-to-have-the-spring-data-jpa-repository-autogener", "title": "Is there with micronaut a way to have the &quot;Spring Data JPA&quot; repository autogenerated from an interface like in spring?", "body": "<p>Im setting up a new micro service with micronaut and want it to access a database over jpa/hibernate.</p>\n\n<p>Is there an easy way to have the \"Spring Data JPA\" repositories implementation to be autogenerated from the interface like with spring?</p>\n\n<pre><code>interface ExampleRepository {\n    fun FindById(id: String): Example\n}\n</code></pre>\n\n<p>Ideally i would the be able to import an ExampleRepository over DI into my service.</p>\n\n<p>EDIT: Micronaut Data is in the process of being released: <a href=\"https://github.com/micronaut-projects/micronaut-data\" rel=\"nofollow noreferrer\">https://github.com/micronaut-projects/micronaut-data</a></p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 1257, "user_id": 5365227, "user_type": "registered", "profile_image": "https://graph.facebook.com/882615958483627/picture?type=large", "display_name": "Wale", "link": "https://stackoverflow.com/users/5365227/wale"}, "edited": false, "score": 0, "creation_date": 1548151498, "post_id": 54304022, "comment_id": 95431318, "body": "You&#39;re question is kinda strange, pls can you make it more clearing??? if you can get access to the String value, then you can apply custom fonts to it by simple downloading the fonts you needed and importing them to the font directory in you project, and then you can do something like this textView.setTypeface(resources.getFont(R.font.open_sans_ligh&zwnj;&#8203;t)); if possible."}, {"owner": {"reputation": 1, "user_id": 9690050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7vvg.jpg?s=128&g=1", "display_name": "d1ng35", "link": "https://stackoverflow.com/users/9690050/d1ng35"}, "reply_to_user": {"reputation": 1257, "user_id": 5365227, "user_type": "registered", "profile_image": "https://graph.facebook.com/882615958483627/picture?type=large", "display_name": "Wale", "link": "https://stackoverflow.com/users/5365227/wale"}, "edited": false, "score": 0, "creation_date": 1548153514, "post_id": 54304022, "comment_id": 95432599, "body": "Thanks for your answer! We&#39;re are already using custom fonts, that&#39;s not the problem. We want to use multiple custom fonts at the same time. Like I wrote, we have some input data which is provided via HTML. Currently we use android.fromHtml to display the text. That works fine with a single custom font, but we would like to assign multiple font-faces for each html tag. So far we can&#39;t see a way to get single responses/callback functions per individual html tag to achieve something like this."}, {"owner": {"reputation": 1257, "user_id": 5365227, "user_type": "registered", "profile_image": "https://graph.facebook.com/882615958483627/picture?type=large", "display_name": "Wale", "link": "https://stackoverflow.com/users/5365227/wale"}, "edited": false, "score": 0, "creation_date": 1548153740, "post_id": 54304022, "comment_id": 95432727, "body": "can you show more codes? it doesn&#39;t sound like a problem actually."}], "owner": {"reputation": 1, "user_id": 9690050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7vvg.jpg?s=128&g=1", "display_name": "d1ng35", "link": "https://stackoverflow.com/users/9690050/d1ng35"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1548150255, "creation_date": 1548145452, "last_edit_date": 1548150255, "question_id": 54304022, "link": "https://stackoverflow.com/questions/54304022/multiple-custom-fonts-in-text-view-data-from-android-fromhtml", "title": "Multiple custom fonts in text view / data from android.fromHtml", "body": "<p>I have some Html data which looks something like this</p>\n\n<pre><code>&lt;h1&gt;This is a long headline&lt;/h1&gt;\n&lt;p&gt;Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.&lt;/p&gt;\n&lt;blockquote&gt;This is a nice quote&lt;/blockquote&gt;\n</code></pre>\n\n<p>My question:\nIs there a way to assign multiple different custom fonts for each recognized tag? e.g.</p>\n\n<ul>\n<li>H1 > customFont1_black.otf</li>\n<li>p > customFont1_book.otf</li>\n<li>blockquote > customFont2_italic.otf</li>\n</ul>\n\n<p>Note: We're using already <code>android.fromHtml</code> and assigned a single custom font. Though, like I described we need to assign multiple.</p>\n\n<p>The Data/HTML is provided via an API, so I don't have access to the code.</p>\n\n<p>Many thanks!</p>\n"}, {"tags": ["unit-testing", "kotlin"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1548146860, "post_id": 54303982, "comment_id": 95428476, "body": "Which call is suspending here?"}, {"owner": {"reputation": 337, "user_id": 393607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd91cc4b75f9ba2f39f637a05d5ecdd?s=128&d=identicon&r=PG", "display_name": "ThemBones", "link": "https://stackoverflow.com/users/393607/thembones"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1548147975, "post_id": 54303982, "comment_id": 95429107, "body": "Hmm believe it or not, that is actually a good question. I&#39;m using retrofit&#39;s enqueue in the implementation and call the passed callback in retrofit&#39;s callback method, so I don&#39;t really handle that myself. Without checking, I&#39;d assume retrofit uses some kind of ThreadPoolExecutor..."}, {"owner": {"reputation": 337, "user_id": 393607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd91cc4b75f9ba2f39f637a05d5ecdd?s=128&d=identicon&r=PG", "display_name": "ThemBones", "link": "https://stackoverflow.com/users/393607/thembones"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1548155539, "post_id": 54303982, "comment_id": 95433759, "body": "I added a stripped version of the retrofit service definition. The actual unittest code is already in the original post. There&#39;s not much more to it, really. Also the response type is a retrofit &quot;Call&quot; object so the client can cancel the request. What didn&#39;t work so far was trying to run with couroutine dispatchers.main. Prob. should execute instead of enqueue and do the background handling myself."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 1, "creation_date": 1548155837, "post_id": 54303982, "comment_id": 95433936, "body": "Then the code for the <code>client</code> type might be missing as well. Also consider using <a href=\"https://github.com/JakeWharton/retrofit2-kotlin-coroutines-adapter\" rel=\"nofollow noreferrer\">github.com/JakeWharton/retrofit2-kotlin-coroutines-adapter</a>"}, {"owner": {"reputation": 337, "user_id": 393607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd91cc4b75f9ba2f39f637a05d5ecdd?s=128&d=identicon&r=PG", "display_name": "ThemBones", "link": "https://stackoverflow.com/users/393607/thembones"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1548233039, "post_id": 54303982, "comment_id": 95464977, "body": "Thanks for the tip with the adapter tynn, I&#39;m using that now. It actually works now for  altering ui elements in the callback, the only problem are the unit tests. I have my asserts now outside of the callbacks, I can live with that for now can&#39;t spend more time on that issue. Thank you!"}], "owner": {"reputation": 337, "user_id": 393607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fd91cc4b75f9ba2f39f637a05d5ecdd?s=128&d=identicon&r=PG", "display_name": "ThemBones", "link": "https://stackoverflow.com/users/393607/thembones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 277, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1548155917, "creation_date": 1548145268, "last_edit_date": 1548155467, "question_id": 54303982, "link": "https://stackoverflow.com/questions/54303982/assertions-in-kotlin-coroutines-callback", "title": "Assertions in kotlin coroutines / callback", "body": "<p>Fairly new to kotlin.\nI'm testing a http client which executes the calls asynchronously and takes a callback as argument from the caller.</p>\n\n<p>Now, let's assume the caller is a unit test. Asserting INSIDE the callback doesn't work obviously because it runs in some kind of background io thread (using Kluent for asserts, I really like the syntax).</p>\n\n<pre><code>client.query(identifier, uiCallback = {\n        System.out.println(\"Found a total of ${it.total} entries with identifier!\")\n        signal.countDown()\n        it.total shouldBe 1\n    })\n</code></pre>\n\n<p>I could defer the assert to outside of the callback, but i think that's not very elegant.</p>\n\n<p>In an android context with java i would have done something like \"runOnUIThread\" (before RX). I also have to use that api in android, so I'll run into that problem anyways.</p>\n\n<p>I must be missing sg. very basic. Is is state of the art to use junit for kotlin anyways or is there a better way to go?</p>\n\n<p>EDIT: That \"signal\" there is a CountdownLatch to wait for the asynchronous execution.</p>\n\n<p>EDIT 2: Retrofit service definition:</p>\n\n<pre><code>@GET(\"Entity\")\nfun query(@Query(\"identifier\") identifier: Array&lt;String?&gt; = arrayOfNulls(0),\n          @Query(\"_count\") count:Int = 10): Call&lt;ResponseBody&gt;\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 31, "user_id": 7791341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jCfBXPfVG_4/AAAAAAAAAAI/AAAAAAAAAWE/TfV3PmxaoqY/photo.jpg?sz=128", "display_name": "ranganathan NV", "link": "https://stackoverflow.com/users/7791341/ranganathan-nv"}, "edited": false, "score": 0, "creation_date": 1548144893, "post_id": 54303796, "comment_id": 95427424, "body": "please guide me , even i remove the gar file of volley  its occur some error in internal files .like com.android.volley.AuthFailureError; not exit"}, {"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1548144946, "post_id": 54303796, "comment_id": 95427460, "body": "Could you please post the exact error you&#39;re getting?"}, {"owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "edited": false, "score": 0, "creation_date": 1548145032, "post_id": 54303796, "comment_id": 95427505, "body": "Do you get this error before updating Android Studio and gradle?"}, {"owner": {"reputation": 31, "user_id": 7791341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jCfBXPfVG_4/AAAAAAAAAAI/AAAAAAAAAWE/TfV3PmxaoqY/photo.jpg?sz=128", "display_name": "ranganathan NV", "link": "https://stackoverflow.com/users/7791341/ranganathan-nv"}, "edited": false, "score": 0, "creation_date": 1548145414, "post_id": 54303796, "comment_id": 95427701, "body": "i did&#39;t get any error in before update ."}, {"owner": {"reputation": 31, "user_id": 7791341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jCfBXPfVG_4/AAAAAAAAAAI/AAAAAAAAAWE/TfV3PmxaoqY/photo.jpg?sz=128", "display_name": "ranganathan NV", "link": "https://stackoverflow.com/users/7791341/ranganathan-nv"}, "edited": false, "score": 0, "creation_date": 1548145452, "post_id": 54303796, "comment_id": 95427722, "body": "AGPBI: {&quot;kind&quot;:&quot;error&quot;,&quot;text&quot;:&quot;Program type already present: com.android.volley.ExecutorDelivery$ResponseDeliveryRunnable&zwnj;&#8203;&quot;,&quot;sources&quot;:[{}],&quot;to&zwnj;&#8203;ol&quot;:&quot;D8&quot;}"}, {"owner": {"reputation": 31, "user_id": 7791341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jCfBXPfVG_4/AAAAAAAAAAI/AAAAAAAAAWE/TfV3PmxaoqY/photo.jpg?sz=128", "display_name": "ranganathan NV", "link": "https://stackoverflow.com/users/7791341/ranganathan-nv"}, "edited": false, "score": 0, "creation_date": 1548145517, "post_id": 54303796, "comment_id": 95427749, "body": "and also  Execution failed for task &#39;:app:transformDexArchiveWithExternalLibsDexMergerForDebug&#39;. and    Program type already present: com.android.volley.ExecutorDelivery$ResponseDeliveryRunnable"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1548150339, "post_id": 54303796, "comment_id": 95430494, "body": "<code>implementation &#39;com.android.volley:volley:1.1.1</code>"}, {"owner": {"reputation": 31, "user_id": 7791341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jCfBXPfVG_4/AAAAAAAAAAI/AAAAAAAAAWE/TfV3PmxaoqY/photo.jpg?sz=128", "display_name": "ranganathan NV", "link": "https://stackoverflow.com/users/7791341/ranganathan-nv"}, "edited": false, "score": 0, "creation_date": 1548151479, "post_id": 54303796, "comment_id": 95431299, "body": "i tried     implementation &#39;com.android.volley:volley:1.1.1&#39; also but still i am getting same issue .."}, {"owner": {"reputation": 31, "user_id": 7791341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jCfBXPfVG_4/AAAAAAAAAAI/AAAAAAAAAWE/TfV3PmxaoqY/photo.jpg?sz=128", "display_name": "ranganathan NV", "link": "https://stackoverflow.com/users/7791341/ranganathan-nv"}, "edited": false, "score": 0, "creation_date": 1548741035, "post_id": 54303796, "comment_id": 95639345, "body": "Error: Program type already present: com.android.volley.BuildConfig please help me any one...."}], "owner": {"reputation": 31, "user_id": 7791341, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jCfBXPfVG_4/AAAAAAAAAAI/AAAAAAAAAWE/TfV3PmxaoqY/photo.jpg?sz=128", "display_name": "ranganathan NV", "link": "https://stackoverflow.com/users/7791341/ranganathan-nv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 372, "favorite_count": 1, "answer_count": 0, "score": 0, "last_activity_date": 1552025242, "creation_date": 1548144584, "last_edit_date": 1548150027, "question_id": 54303796, "link": "https://stackoverflow.com/questions/54303796/how-to-resolve-the-program-type-already-present-com-android-volley-executordeli", "title": "How to resolve the Program type already present: com.android.volley.ExecutorDelivery$ResponseDeliveryRunnable", "body": "<p>I am updated my android studio 3.2.1 and also gradle version 4.6 . My b buildToolsVersion '28.0.3' but i am getting Program type already present: com.android.volley.ExecutorDelivery$ResponseDeliveryRunnable error in my console even i tried clean build and also remove  volley.jar and also updated compile to implementation but still i am getting this issue</p>\n\n<pre><code>dependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    implementation project(':library')\n    implementation('com.android.support:support-v4:28.0.0') {\n        exclude group: 'com.android.support', module: 'support-v4'\n    }\n    implementation('com.github.florent37:materialviewpager:1.2.0@aar') {\n        transitive = true\n    }\n    implementation('com.android.support:multidex:1.0.1') {\n        exclude group: 'com.nineoldandroids'\n    }\n    implementation('com.dlazaro66.qrcodereaderview:qrcodereaderview:2.0.1@aar') {\n        transitive = true\n    }\n    implementation('com.github.nkzawa:socket.io-client:0.5.0') {\n        exclude group: 'org.json', module: 'json'\n    }\n    implementation files('libs/httpclient-4.3.6.jar')\n    implementation files('libs/httpcore-4.3.3.jar')\n    implementation files('libs/httpmime-4.3.6.jar')\n    implementation project(':linkedin-sdk')\n    implementation 'com.eftimoff:android-viewpager-transformers:1.0.1@aar'\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support:design:28.0.0'\n    implementation 'de.hdodenhof:circleimageview:2.1.0'\n    implementation 'com.makeramen:roundedimageview:2.2.1'\n    implementation 'com.facebook.android:facebook-android-sdk:4.10.1'\n    implementation 'com.google.android.gms:play-services:11.8.0'\n    implementation 'com.google.android.gms:play-services-auth:11.8.0'\n    implementation 'com.jakewharton:butterknife:8.0.1'\n    implementation 'com.android.support:recyclerview-v7:28.0.0'\n    implementation 'com.android.support:animated-vector-drawable:28.0.0'\n    implementation 'com.android.support:mediarouter-v7:28.0.0'\n    implementation 'com.squareup.okhttp:okhttp:2.4.0'\n    implementation 'com.squareup.okhttp3:okhttp:3.3.1'\n    implementation 'com.squareup.okhttp:okhttp-urlconnection:2.2.0'\n    implementation 'com.squareup.picasso:picasso:2.4.0'\n    implementation 'com.github.rtoshiro.fullscreenvideoview:fullscreenvideoview:1.1.1'\n    implementation 'com.android.support:cardview-v7:28.0.0'\n    implementation 'com.miguelcatalan:materialsearchview:1.4.0'\n    implementation 'jp.wasabeef:recyclerview-animators:2.2.5'\n    implementation 'uk.co.chrisjenx:calligraphy:2.2.0'\n    implementation 'it.sephiroth.android.library.imagezoom:imagezoom:2.2.5'\n    implementation 'com.github.clans:fab:1.6.4'\n    implementation 'com.google.firebase:firebase-messaging:10.2.1'\n    implementation 'com.facebook.shimmer:shimmer:0.1.0@aar'\n    implementation 'com.amitshekhar.android:android-networking:0.4.0'\n    implementation 'com.github.bumptech.glide:glide:3.7.0'\n    implementation 'ch.acra:acra:4.9.0'\n    implementation 'com.google.maps.android:android-maps-utils:0.5+'\n    implementation 'com.theartofdev.edmodo:android-image-cropper:2.3.+'\n    implementation 'it.sephiroth.android.library.targettooltip:target-tooltip-library:1.3.15'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.0-beta4'\n    implementation 'me.grantland:autofittextview:0.2.+'\n    implementation 'com.google.android.gms:play-services:11.8.0'\n    implementation 'com.google.android.gms:play-services-location:11.8.0'\n    implementation \"com.andkulikov:transitionseverywhere:1.7.9\"\n    implementation 'com.jakewharton:butterknife:6.1.0'\n    implementation 'com.android.volley:volley:1.1.0'\n    testImplementation 'junit:junit:4.12'\n    implementation('com.crashlytics.sdk.android:crashlytics:2.9.2@aar') {\n        transitive = true;\n    }\n    implementation('com.crashlytics.sdk.android:answers:1.4.2@aar') {\n        transitive = true;\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1548164079, "post_id": 54303028, "comment_id": 95438457, "body": "<code>@kotlin.internal.InlineOnly public inline fun TODO(): Nothing = throw NotImplementedError()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 4, "last_activity_date": 1548141817, "creation_date": 1548141817, "answer_id": 54303133, "question_id": 54303028, "link": "https://stackoverflow.com/questions/54303028/using-parcelable-is-crashing-in-android-while-using-koitlin/54303133#54303133", "title": "Using parcelable is crashing in android while using koitlin", "body": "<p>The problem is these methods:</p>\n\n<pre><code>override fun writeToParcel(dest: Parcel?, flags: Int) {\n    TODO(\"not implemented\")\n}\n\noverride fun describeContents(): Int {\n    TODO(\"not implemented\")\n}\n</code></pre>\n\n<p>The <code>TODO</code> generated here by the IDE is a function that throws an exception telling you that you forgot to implement the method wherever it was thrown from (which you definitely <em>should</em> see in your logs).</p>\n\n<p>So what you need to do at this point is actually implement <code>Parcelable</code>, either the <a href=\"http://www.vogella.com/tutorials/AndroidParcelable/article.html\" rel=\"nofollow noreferrer\">conventional way, manually</a> or making use of the <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#parcelable\" rel=\"nofollow noreferrer\"><code>Parcelize</code></a> feature of Kotlin Android Extensions.</p>\n"}, {"tags": [], "owner": {"reputation": 10737, "user_id": 9656320, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/64csz.jpg?s=128&g=1", "display_name": "Son Truong", "link": "https://stackoverflow.com/users/9656320/son-truong"}, "is_accepted": false, "score": 1, "last_activity_date": 1548144415, "creation_date": 1548144415, "answer_id": 54303754, "question_id": 54303028, "link": "https://stackoverflow.com/questions/54303028/using-parcelable-is-crashing-in-android-while-using-koitlin/54303754#54303754", "title": "Using parcelable is crashing in android while using koitlin", "body": "<p>In Kotlin, <code>TODO</code> is an inline function of <code>Standard.kt</code> class.</p>\n\n<pre><code>/**\n * Always throws [NotImplementedError] stating that operation is not implemented.\n */\n\n@kotlin.internal.InlineOnly\npublic inline fun TODO(): Nothing = throw NotImplementedError()\n</code></pre>\n\n<p>Your code before compiling</p>\n\n<pre><code>override fun writeToParcel(dest: Parcel?, flags: Int) {\n    TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n}\n\noverride fun describeContents(): Int {\n    TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n}\n</code></pre>\n\n<p>Your code after compiling</p>\n\n<pre><code>override fun writeToParcel(dest: Parcel?, flags: Int) {\n    throw NotImplementedError()\n}\n\noverride fun describeContents(): Int {\n    throw NotImplementedError()\n}\n</code></pre>\n\n<p>That why your app got crashing. To resolve this error, you must remove <code>TODO</code> in these two methods and write your code inside these methods instead.</p>\n"}], "owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 284, "favorite_count": 0, "accepted_answer_id": 54303133, "answer_count": 2, "score": -2, "last_activity_date": 1548144415, "creation_date": 1548141366, "question_id": 54303028, "link": "https://stackoverflow.com/questions/54303028/using-parcelable-is-crashing-in-android-while-using-koitlin", "title": "Using parcelable is crashing in android while using koitlin", "body": "<ul>\n<li>I don't have a log since i am not getting any error, But application\nis crashing once i pass the data from first screen...</li>\n<li>Is this the right way to pass the data</li>\n</ul>\n\n<p><strong>ResultTodaysEvents.kt</strong></p>\n\n<pre><code>class ResultTodaysEvents() : Parcelable{\n    override fun writeToParcel(dest: Parcel?, flags: Int) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun describeContents(): Int {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    @SerializedName(\"id\")\n    @Expose\n    private var id: Int = 0\n    @SerializedName(\"code\")\n    @Expose\n    private var code: String? = null\n    @SerializedName(\"start_date\")\n    @Expose\n    private var startDate: String? = null\n    @SerializedName(\"end_date\")\n    @Expose\n    private var endDate: String? = null\n    @SerializedName(\"direct_walkin_isallowed\")\n    @Expose\n    private var directWalkinIsallowed: Boolean = false\n    @SerializedName(\"pax_islimited\")\n    @Expose\n    private var paxIslimited: Boolean = false\n    @SerializedName(\"total_pax_limit\")\n    @Expose\n    private var totalPaxLimit: Int = 0\n    @SerializedName(\"event_ispaid\")\n    @Expose\n    private var eventIspaid: Boolean = false\n    @SerializedName(\"event_price\")\n    @Expose\n    private var eventPrice: Any? = null\n    @SerializedName(\"location_type\")\n    @Expose\n    private var locationType: Int = 0\n    @SerializedName(\"location_name\")\n    @Expose\n    private var locationName: String? = null\n    @SerializedName(\"address\")\n    @Expose\n    private var address: String? = null\n    @SerializedName(\"city\")\n    @Expose\n    private var city: String? = null\n    @SerializedName(\"state\")\n    @Expose\n    private var state: String? = null\n    @SerializedName(\"country\")\n    @Expose\n    private var country: String? = null\n    @SerializedName(\"zipcode\")\n    @Expose\n    private var zipcode: String? = null\n    @SerializedName(\"latitude\")\n    @Expose\n    private var latitude: Double = 0.toDouble()\n    @SerializedName(\"longitude\")\n    @Expose\n    private var longitude: Double = 0.toDouble()\n    @SerializedName(\"created_at\")\n    @Expose\n    private var createdAt: String? = null\n    @SerializedName(\"updated_at\")\n    @Expose\n    private var updatedAt: String? = null\n    @SerializedName(\"event_master_code\")\n    @Expose\n    private var eventMasterCode: String? = null\n    @SerializedName(\"event_master\")\n    @Expose\n    private var eventMaster: EventMaster? = null\n    @SerializedName(\"event_sessions\")\n    @Expose\n    private var eventSessions: List&lt;EventSession&gt;? = null\n\n    constructor(parcel: Parcel) : this() {\n        id = parcel.readInt()\n        code = parcel.readString()\n        startDate = parcel.readString()\n        endDate = parcel.readString()\n        directWalkinIsallowed = parcel.readByte() != 0.toByte()\n        paxIslimited = parcel.readByte() != 0.toByte()\n        totalPaxLimit = parcel.readInt()\n        eventIspaid = parcel.readByte() != 0.toByte()\n        locationType = parcel.readInt()\n        locationName = parcel.readString()\n        address = parcel.readString()\n        city = parcel.readString()\n        state = parcel.readString()\n        country = parcel.readString()\n        zipcode = parcel.readString()\n        latitude = parcel.readDouble()\n        longitude = parcel.readDouble()\n        createdAt = parcel.readString()\n        updatedAt = parcel.readString()\n        eventMasterCode = parcel.readString()\n        eventMaster = parcel.readParcelable(EventMaster::class.java.classLoader)\n        eventSessions = parcel.createTypedArrayList(EventSession)\n    }\n\n    fun getId(): Int {\n        return id\n    }\n\n    fun setId(id: Int) {\n        this.id = id\n    }\n\n    fun getCode(): String? {\n        return code\n    }\n\n    fun setCode(code: String) {\n        this.code = code\n    }\n\n    fun getStartDate(): String? {\n        return startDate\n    }\n\n    fun setStartDate(startDate: String) {\n        this.startDate = startDate\n    }\n\n    fun getEndDate(): String? {\n        return endDate\n    }\n\n    fun setEndDate(endDate: String) {\n        this.endDate = endDate\n    }\n\n    fun isDirectWalkinIsallowed(): Boolean {\n        return directWalkinIsallowed\n    }\n\n    fun setDirectWalkinIsallowed(directWalkinIsallowed: Boolean) {\n        this.directWalkinIsallowed = directWalkinIsallowed\n    }\n\n    fun isPaxIslimited(): Boolean {\n        return paxIslimited\n    }\n\n    fun setPaxIslimited(paxIslimited: Boolean) {\n        this.paxIslimited = paxIslimited\n    }\n\n    fun getTotalPaxLimit(): Int {\n        return totalPaxLimit\n    }\n\n    fun setTotalPaxLimit(totalPaxLimit: Int) {\n        this.totalPaxLimit = totalPaxLimit\n    }\n\n    fun isEventIspaid(): Boolean {\n        return eventIspaid\n    }\n\n    fun setEventIspaid(eventIspaid: Boolean) {\n        this.eventIspaid = eventIspaid\n    }\n\n    fun getEventPrice(): Any? {\n        return eventPrice\n    }\n\n    fun setEventPrice(eventPrice: Any) {\n        this.eventPrice = eventPrice\n    }\n\n    fun getLocationType(): Int {\n        return locationType\n    }\n\n    fun setLocationType(locationType: Int) {\n        this.locationType = locationType\n    }\n\n    fun getLocationName(): String? {\n        return locationName\n    }\n\n    fun setLocationName(locationName: String) {\n        this.locationName = locationName\n    }\n\n    fun getAddress(): String? {\n        return address\n    }\n\n    fun setAddress(address: String) {\n        this.address = address\n    }\n\n    fun getCity(): String? {\n        return city\n    }\n\n    fun setCity(city: String) {\n        this.city = city\n    }\n\n    fun getState(): String? {\n        return state\n    }\n\n    fun setState(state: String) {\n        this.state = state\n    }\n\n    fun getCountry(): String? {\n        return country\n    }\n\n    fun setCountry(country: String) {\n        this.country = country\n    }\n\n    fun getZipcode(): String? {\n        return zipcode\n    }\n\n    fun setZipcode(zipcode: String) {\n        this.zipcode = zipcode\n    }\n\n    fun getLatitude(): Double {\n        return latitude\n    }\n\n    fun setLatitude(latitude: Double) {\n        this.latitude = latitude\n    }\n\n    fun getLongitude(): Double {\n        return longitude\n    }\n\n    fun setLongitude(longitude: Double) {\n        this.longitude = longitude\n    }\n\n    fun getCreatedAt(): String? {\n        return createdAt\n    }\n\n    fun setCreatedAt(createdAt: String) {\n        this.createdAt = createdAt\n    }\n\n    fun getUpdatedAt(): String? {\n        return updatedAt\n    }\n\n    fun setUpdatedAt(updatedAt: String) {\n        this.updatedAt = updatedAt\n    }\n\n    fun getEventMasterCode(): String? {\n        return eventMasterCode\n    }\n\n    fun setEventMasterCode(eventMasterCode: String) {\n        this.eventMasterCode = eventMasterCode\n    }\n\n    fun getEventMaster(): EventMaster? {\n        return eventMaster\n    }\n\n    fun setEventMaster(eventMaster: EventMaster) {\n        this.eventMaster = eventMaster\n    }\n\n    fun getEventSessions(): List&lt;EventSession&gt;? {\n        return eventSessions\n    }\n\n    fun setEventSessions(eventSessions: List&lt;EventSession&gt;) {\n        this.eventSessions = eventSessions\n    }\n\n    companion object CREATOR : Parcelable.Creator&lt;ResultTodaysEvents&gt; {\n        override fun createFromParcel(parcel: Parcel): ResultTodaysEvents {\n            return ResultTodaysEvents(parcel)\n        }\n\n        override fun newArray(size: Int): Array&lt;ResultTodaysEvents?&gt; {\n            return arrayOfNulls(size)\n        }\n    }\n\n}\n</code></pre>\n\n<hr>\n\n<pre><code>/** Passing the data **/\n    private fun startEventScheduleForTodaysEvents(data: ResultTodaysEvents) {\n        val eventsIntent = Intent(this, ActEventSchedule::class.java)\n        eventsIntent.putExtra(Keys.EVENT_DATA,data)\n        startActivity(eventsIntent)\n    }\n\n\n/** Get data from previous screen **/\n    private fun getDataFromPrevScreen() {\n\n        val extras = intent.extras\n        if (extras != null) {\n            data = extras.getParcelable(Keys.EVENT_DATA)\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["kotlin", "syntax"], "answers": [{"comments": [{"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1548143659, "post_id": 54302912, "comment_id": 95426876, "body": "(The braces are also a necessary part of the lambda syntax, aren&#39;t they?  And the parameters and arrow aren&#39;t needed for a zero-parameter lambda, or a one-parameter lambda with <code>it</code>.)"}, {"owner": {"reputation": 4037, "user_id": 3124227, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/efoMa.jpg?s=128&g=1", "display_name": "Feedforward", "link": "https://stackoverflow.com/users/3124227/feedforward"}, "reply_to_user": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1548143851, "post_id": 54302912, "comment_id": 95426965, "body": "That&#39;s right. You can get all this information from the official documentation: <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/lambdas.html</a>"}], "tags": [], "owner": {"reputation": 4037, "user_id": 3124227, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/efoMa.jpg?s=128&g=1", "display_name": "Feedforward", "link": "https://stackoverflow.com/users/3124227/feedforward"}, "is_accepted": true, "score": 3, "last_activity_date": 1548141521, "last_edit_date": 1548141521, "creation_date": 1548140809, "answer_id": 54302912, "question_id": 54302857, "link": "https://stackoverflow.com/questions/54302857/what-is-the-purpose-of-using-the-arrow-symbol-at-the-start-of-the-method/54302912#54302912", "title": "What is the purpose of using the arrow symbol(-&gt;) at the start of the method?", "body": "<p>This is a part of Kotlin syntax.<br>\n<code>view -&gt; someMethod()</code> is <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#lambda-expressions-and-anonymous-functions\" rel=\"nofollow noreferrer\">lambda expression</a>. The part before the arrow defines the function arguments, and the part after the arrow is the function body.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/lambdas.html#passing-a-lambda-to-the-last-parameter\" rel=\"nofollow noreferrer\">Here</a> you can read about your case (passing lambda as the last parameter).</p>\n\n<hr>\n\n<p>If you are a beginner, I would suggest you to learn some basic staff about this things. In this order: Anonymous class -> Functional interface -> Functions.</p>\n"}], "owner": {"reputation": 187, "user_id": 9262616, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pgFIVgavkDo/AAAAAAAAAAI/AAAAAAAAAp8/tOprsj3v340/photo.jpg?sz=128", "display_name": "Umesh Konduru", "link": "https://stackoverflow.com/users/9262616/umesh-konduru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 111, "favorite_count": 0, "accepted_answer_id": 54302912, "answer_count": 1, "score": 0, "last_activity_date": 1548141521, "creation_date": 1548140570, "question_id": 54302857, "link": "https://stackoverflow.com/questions/54302857/what-is-the-purpose-of-using-the-arrow-symbol-at-the-start-of-the-method", "title": "What is the purpose of using the arrow symbol(-&gt;) at the start of the method?", "body": "<p>While going through a tutorial, I came across the following code and didn't understand why the arrow symbol was used at the start of the method</p>\n\n<p>I tried searching about the arrow operator but it looks like it has many uses, and I couldn't find an answer to my question.</p>\n\n<pre><code>someButton.setOnClickListener { view -&gt; \n    someMethod()\n}\n</code></pre>\n\n<p>I did not understand why 'view ->' is used. I know I'm a beginner and this question might be too silly to ask, but I can't find an answer anywhere on the internet. Any help would be appreciated.</p>\n\n<p>Thank you :)</p>\n"}, {"tags": ["java", "android", "kotlin", "dependency-injection", "dagger-2"], "comments": [{"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1548139134, "post_id": 54302447, "comment_id": 95424933, "body": "Your library should provide a custom <code>Application</code> that extends <code>DaggerApplication</code>. However, it is not recommended to use Dagger in a library."}, {"owner": {"reputation": 286, "user_id": 4312282, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9994fe4053b571ff50516bac9582e6f3?s=128&d=identicon&r=PG&f=1", "display_name": "mangkool", "link": "https://stackoverflow.com/users/4312282/mangkool"}, "reply_to_user": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1548139486, "post_id": 54302447, "comment_id": 95425069, "body": "thanks @Joshua , are there any reasons why it is not recommended to use dagger in library ?"}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1548140379, "post_id": 54302447, "comment_id": 95425412, "body": "When you build a library, you should not require the application to use dependency inject framework because dependency inject framework is designed for application level. Instead, you should design your library to follow the principle. You can read more <a href=\"https://stackoverflow.com/a/2047657/3673259\">here</a>."}, {"owner": {"reputation": 286, "user_id": 4312282, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9994fe4053b571ff50516bac9582e6f3?s=128&d=identicon&r=PG&f=1", "display_name": "mangkool", "link": "https://stackoverflow.com/users/4312282/mangkool"}, "reply_to_user": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1548141550, "post_id": 54302447, "comment_id": 95425925, "body": "okayy, I see, thanks"}], "owner": {"reputation": 286, "user_id": 4312282, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/9994fe4053b571ff50516bac9582e6f3?s=128&d=identicon&r=PG&f=1", "display_name": "mangkool", "link": "https://stackoverflow.com/users/4312282/mangkool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 591, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548138551, "creation_date": 1548138551, "question_id": 54302447, "link": "https://stackoverflow.com/questions/54302447/using-dagger-2-in-stand-alone-android-library-project", "title": "Using dagger 2 in stand alone android library project", "body": "<p>I am trying to create a stand alone library and use dagger 2 in it, I already create the module and the component of the library, and make the initialisation of the library including the dagger component, my goal here is I wanted this library can be used even the project who implemented it did not use dagger. but it seems my configuration only can work if the project implemented it, also use dagger2 cause I got error :</p>\n\n<pre><code>Application does not implement dagger.android.HasDispatchingActivityInjector\n</code></pre>\n\n<p>So are there anyway I can still dagger2 in my library without having the project who implemented it also use dagger2 ?</p>\n\n<p>ps : My library contain an activity</p>\n"}, {"tags": ["android", "data-binding", "kotlin", "android-viewmodel"], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 0, "last_activity_date": 1548149644, "creation_date": 1548149644, "answer_id": 54305176, "question_id": 54302268, "link": "https://stackoverflow.com/questions/54302268/bindingadapter-has-lost-binding-with-unknown-reason/54305176#54305176", "title": "BindingAdapter has lost binding with unknown reason", "body": "<p>You're missing a call to <code>binding.setLifecycleOwner(this)</code></p>\n\n<blockquote>\n  <p>Sets the <code>LifecycleOwner</code> that should be used for observing changes of\n  <code>LiveData</code> in this binding. If a <code>LiveData</code> is in one of the binding expressions\n  and no <code>LifecycleOwner</code> is set, the <code>LiveData</code> will not be observed and updates to it\n  will not be propagated to the UI.</p>\n</blockquote>\n\n<p>So either set the lifecycle owner or use <code>ObservableField</code> instead, which is better fitting.</p>\n\n<p>As adapters work differently in regards of data updates, you might want to propagate changes to the adapter data set instead and call <code>notifyDataSetChanged()</code> or a similar one to update the bindings.</p>\n"}], "owner": {"reputation": 57, "user_id": 5426513, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83d84722c8a5501d009afdbefffab845?s=128&d=identicon&r=PG&f=1", "display_name": "Tin lok Cheung", "link": "https://stackoverflow.com/users/5426513/tin-lok-cheung"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 169, "favorite_count": 1, "accepted_answer_id": 54305176, "answer_count": 1, "score": 0, "last_activity_date": 1548149644, "creation_date": 1548137699, "last_edit_date": 1548138834, "question_id": 54302268, "link": "https://stackoverflow.com/questions/54302268/bindingadapter-has-lost-binding-with-unknown-reason", "title": "BindingAdapter has lost binding with unknown reason", "body": "<p>The binding adapter has lost binding to the view model. However I have no idea what is the reason. The SpinnerTextView in the code is a textview popping an alert dialog for selecting value from a list. Setting the title will set The textview's text as the String value. The binding lost cause the textview does not show the new value, is there any solution?</p>\n\n<p>I have put some breakpoints, and I found that the pickedQuantity = \"0\" worked and also pickedQuantity.value = quantities.value!![index] has been run too. However, in the BindingAdapter.kt only pickedQuantity = \"0\" triggered the setTitle function.\nTherefore, my TextView will always shows 0 but not changing when I select value.</p>\n\n<p>BindingAdapter.kt</p>\n\n<pre><code>@BindingAdapter(\"spinnerTitle\")\nfun&lt;T&gt; SpinnerTextView&lt;T&gt;.setTitle(str: String) {\n    title = str\n}\n\n@BindingAdapter(\"spinnerAlertTitle\")\nfun&lt;T&gt; SpinnerTextView&lt;T&gt;.setAlertTitle(str: String) {\n    alertTitle = str\n}\n\n@BindingAdapter(\"spinnerItems\")\nfun&lt;T&gt; SpinnerTextView&lt;T&gt;.setItems(list: List&lt;T&gt;) {\n    items = list\n}\n\n@BindingAdapter(\"spinnerItemHandler\")\nfun&lt;T&gt; SpinnerTextView&lt;T&gt;.setHandler(handler: (Int) -&gt; Unit) {\n    valueChanged = handler\n}\n</code></pre>\n\n<p>TicketTypeViewModel.kt</p>\n\n<pre><code>class TicketTypeViewModel : BaseViewModel() {\n    val ticketId = MutableLiveData&lt;Int&gt;()\n    val ticketName = MutableLiveData&lt;String&gt;()\n    val ticketPrice = MutableLiveData&lt;String&gt;()\n    val pickedQuantity = MutableLiveData&lt;String&gt;()\n    val quantities = MutableLiveData&lt;List&lt;String&gt;&gt;()\n    val spinnerTitle = MutableLiveData&lt;String&gt;()\n    val spinnerHandler = MutableLiveData&lt;(Int) -&gt; Unit&gt;()\n\n    fun bind(ticket: TicketType, onClick: (Int) -&gt; Unit) {\n        ticketId.value = ticket.ticketTypeId\n        ticketName.value = ticket.ticketTypeName\n        ticketPrice.value = \"$\"  + ticket.price\n        pickedQuantity.value = \"0\"\n        spinnerTitle.value = \"\"\n        val temp = mutableListOf&lt;String&gt;()\n        for (i in 0 until ticket.quota) {\n            temp.add(i.toString())\n        }\n        quantities.value = temp.toList()\n        spinnerHandler.value = { index -&gt;\n            pickedQuantity.value = quantities.value!![index]\n            onClick(index)\n        }\n    }\n}\n</code></pre>\n\n<p>TicketTypeAdapter.kt</p>\n\n<pre><code>class TicketTypeAdapter(val onClick: (Int) -&gt; Unit): RecyclerView.Adapter&lt;TicketTypeAdapter.ViewHolder&gt;() {\n\n    private var ticketList: MutableList&lt;TicketType&gt; = mutableListOf()\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): TicketTypeAdapter.ViewHolder {\n        val binding: EventTicketTypeListItemBinding = DataBindingUtil.inflate(LayoutInflater.from(parent.context), R.layout.event_ticket_type_list_item, parent, false)\n        return ViewHolder(binding, onClick)\n    }\n\n    override fun onBindViewHolder(holder: TicketTypeAdapter.ViewHolder, position: Int) {\n        holder.bind(ticketList[position])\n    }\n\n    override fun getItemCount(): Int {\n        return ticketList.size\n    }\n\n    fun refreshTicketList(ticketList: List&lt;TicketType&gt;){\n        this.ticketList.clear()\n        this.ticketList.addAll(ticketList)\n        notifyDataSetChanged()\n    }\n\n    class ViewHolder(private val binding: EventTicketTypeListItemBinding, val onClick: (Int) -&gt; Unit): RecyclerView.ViewHolder(binding.root){\n        private val viewModel = TicketTypeViewModel()\n\n        fun bind(ticket: TicketType){\n            viewModel.bind(ticket, onClick)\n            binding.ticketType = viewModel\n        }\n    }\n}\n</code></pre>\n\n<p>In .xml</p>\n\n<pre><code>    &lt;com.cityline.component.SpinnerTextView\n        android:id=\"@+id/spinner_quantity\"\n        spinnerAlertTitle=\"@{ticketType.spinnerTitle}\"\n        spinnerItemHandler=\"@{ticketType.spinnerHandler}\"\n        spinnerItems=\"@{ticketType.quantities}\"\n        spinnerTitle=\"@{ticketType.pickedQuantity}\"\n        android:layout_width=\"20dp\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginLeft=\"10dp\"\n        android:layout_marginRight=\"20dp\"\n        android:background=\"@drawable/edit_text_bg_bottom_line\"\n        android:gravity=\"center\"\n        android:textSize=\"16sp\" /&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1548136696, "post_id": 54302053, "comment_id": 95424064, "body": "in <code>OnCreate</code> after setting the content in second screen"}, {"owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1548136878, "post_id": 54302053, "comment_id": 95424115, "body": "@NileshRathod .. I shared it"}], "answers": [{"tags": [], "owner": {"reputation": 8316, "user_id": 1616317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4533abb0fab9a5a284c2cdcb40512e85?s=128&d=identicon&r=PG&f=1", "display_name": "karan", "link": "https://stackoverflow.com/users/1616317/karan"}, "is_accepted": false, "score": 0, "last_activity_date": 1548136869, "creation_date": 1548136869, "answer_id": 54302115, "question_id": 54302053, "link": "https://stackoverflow.com/questions/54302053/not-able-to-pass-data-between-activities-in-kotlin-in-android/54302115#54302115", "title": "Not able to pass data between activities in kotlin in android", "body": "<p>You are passing one intent and adding data to different intent </p>\n\n<pre><code> val eventsIntent = Intent(this, ActEventSchedule::class.java)\n intent.putExtra(Keys.EVENT_CODE,\"data\")              // You are adding data to intent\n startActivity(eventsIntent)          // you are passing events Intent\n</code></pre>\n\n<p>Your code should be as below</p>\n\n<pre><code>val eventsIntent = Intent(this, ActEventSchedule::class.java)\neventsIntent.putExtra(Keys.EVENT_CODE,\"data\")\nstartActivity(eventsIntent) \n</code></pre>\n"}], "owner": {"reputation": 37128, "user_id": 1083093, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/3AgYu.jpg?s=128&g=1", "display_name": "Devrath", "link": "https://stackoverflow.com/users/1083093/devrath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "closed_date": 1548137183, "answer_count": 1, "score": 0, "last_activity_date": 1548136869, "creation_date": 1548136607, "last_edit_date": 1548136860, "question_id": 54302053, "link": "https://stackoverflow.com/questions/54302053/not-able-to-pass-data-between-activities-in-kotlin-in-android", "closed_reason": "Duplicate", "title": "Not able to pass data between activities in kotlin in android", "body": "<p><strong>First screen I am passing data as:</strong></p>\n\n<pre><code> /** Start Events Schedule screen **/\n    private fun startEventScheduleForTodaysEvents(eventCode: String?) {\n        val eventsIntent = Intent(this, ActEventSchedule::class.java)\n        intent.putExtra(Keys.EVENT_CODE,\"data\")\n        startActivity(eventsIntent)\n    }\n</code></pre>\n\n<p><strong>Second Screen I am receiving data as:</strong></p>\n\n<pre><code>/** Get data from previous screen **/\n    private fun getDataFromPrevScreen() {\n\n        val extras = intent.extras\n        if (extras != null) {\n            eventCode = extras.getString(Keys.EVENT_CODE)\n        }\n\n    }\n</code></pre>\n\n<p><strong>I am not able to receive the data</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/BS16n.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BS16n.png\" alt=\"enter image description here\"></a> </p>\n\n<h2>{EDIT}</h2>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.act_event_schedule)\n        //Get data from previous screen\n        getDataFromPrevScreen()\n    }\n</code></pre>\n"}, {"tags": ["kotlin", "completable-future"], "answers": [{"comments": [{"owner": {"reputation": 2081, "user_id": 3294175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99d6b46af0ce01b3934979d8d7631b43?s=128&d=identicon&r=PG&f=1", "display_name": "Eric Martori", "link": "https://stackoverflow.com/users/3294175/eric-martori"}, "edited": false, "score": 0, "creation_date": 1548143277, "post_id": 54302599, "comment_id": 95426697, "body": "You can mix them if you create the function. But in the extensions provided by kotlin they do not mix lambda/method reference parameters and instanced parameters whenever possible. Probably the one that accepts lambdas is inlined and they do it this way for performance reasons."}], "tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": true, "score": 6, "last_activity_date": 1548139407, "creation_date": 1548139407, "answer_id": 54302599, "question_id": 54301518, "link": "https://stackoverflow.com/questions/54301518/kotlin-supplyasync-with-executor/54302599#54302599", "title": "Kotlin supplyAsync with executor", "body": "<p>I do not exactly know, why it is not working. But the following does work:</p>\n\n<pre><code>return CompletableFuture.supplyAsync({\n    val commandHandler = registry.get&lt;TCommand, TResponse&gt;(command::class.java)\n    commandHandler.handle(command)\n}, exec::execute)\n</code></pre>\n\n<p>As you can see, I changed the second parameter to a method reference.\nNow the signature of the method is:</p>\n\n<pre><code>supplyAsync(supplier: () -&gt; U, executor: (Runnable)-&gt; Unit)\n</code></pre>\n\n<p>If you pass the Executor directly, Kotlin chooses the signature:</p>\n\n<pre><code>supplyAsync(supplier: Supplier&lt;U&gt;, executor: Executor)\n</code></pre>\n\n<p>It looks like you can not mix interface and lambda style.</p>\n"}], "owner": {"reputation": 740, "user_id": 4594940, "user_type": "registered", "accept_rate": 48, "profile_image": "https://lh6.googleusercontent.com/-WBZ1yko941c/AAAAAAAAAAI/AAAAAAAAABA/evKzCnPfSXA/photo.jpg?sz=128", "display_name": "jkratz55", "link": "https://stackoverflow.com/users/4594940/jkratz55"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1466, "favorite_count": 0, "accepted_answer_id": 54302599, "answer_count": 1, "score": 4, "last_activity_date": 1548139407, "creation_date": 1548133155, "last_edit_date": 1548134189, "question_id": 54301518, "link": "https://stackoverflow.com/questions/54301518/kotlin-supplyasync-with-executor", "title": "Kotlin supplyAsync with executor", "body": "<p>I want to create a CompletableFuture with a return value that runs on a specific executor in Kotlin.</p>\n\n<p>The following code works just fine.</p>\n\n<pre><code>return CompletableFuture.supplyAsync {\n        val commandHandler = registry.get&lt;TCommand, TResponse&gt;(command::class.java)\n        commandHandler.handle(command)\n }\n</code></pre>\n\n<p>However when I attempt to pass the executor it won't compile.</p>\n\n<pre><code>return CompletableFuture.supplyAsync({\n        val commandHandler = registry.get&lt;TCommand, TResponse&gt;(command::class.java)\n        commandHandler.handle(command)\n}, exec)\n</code></pre>\n\n<p>I tried to get clever and wrote the Java version and had Intellij covert it to Kotlin, but that one had the same error as well. What am I doing wrong here?</p>\n\n<p><a href=\"https://i.stack.imgur.com/261ip.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/261ip.png\" alt=\"enter image description here\"></a></p>\n\n<p>EDIT:</p>\n\n<p>I can make it work by doing the following but it seems unnecessary. Can someone explain why this works but other methods do not. Are there other ways to write this code?</p>\n\n<pre><code>return CompletableFuture.supplyAsync(Supplier {\n    commandHandler.handle(command)\n}, exec) \n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-livedata", "mutablelivedata"], "answers": [{"tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": false, "score": 0, "last_activity_date": 1548121687, "creation_date": 1548121687, "answer_id": 54300140, "question_id": 54299831, "link": "https://stackoverflow.com/questions/54299831/using-a-custom-setter-for-a-lazy-delegate/54300140#54300140", "title": "Using a custom setter for a lazy delegate", "body": "<p>First, that is not how you use <code>MutableLiveData</code>. You set the value by using <code>setValue</code> (on main thread<code>or</code>postValue` (on any thread).</p>\n\n<pre><code>val d4Count = MutableLiveData&lt;Int&gt;()\n\nstatus.value = 4\nstatus.postValue(4)\n</code></pre>\n\n<p>If you want to change the setter of <code>MutableLiveData</code>, you can either extends <code>MutableLiveData</code> (1) or create a setter method (2).</p>\n\n<p><strong>(1)</strong></p>\n\n<pre><code>class CustomIntLiveData: MutableLiveData&lt;Int&gt;() {\n    override fun setValue(value: Int?) {\n        super.setValue(processValue(value))\n    }\n\n    override fun postValue(value: Int?) {\n        super.postValue(processValue(value))\n    }\n\n    private fun processValue(value: Int?) : Int {\n        val currentValue = this.value\n        return if (currentValue == null || value == null || currentValue - value &lt; 0) {\n            0\n        } else {\n            currentValue - value\n        }\n    }\n}\n</code></pre>\n\n<p><strong>(2)</strong></p>\n\n<pre><code>fun setCount(value: Int?) {\n    val currentValue = d4Count.value\n\n    if (currentValue == null || value == null || currentValue - value &lt; 0) {\n        d4Count.value = 0\n    } else {\n        d4Count.value = currentValue - value\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Delegated property cannot have accessors with non-default implementations. I don't really know what this means, but I'm assuming this is key to me achieving what I want.</p>\n</blockquote>\n\n<p>It means you can not use <code>set</code> if you use <code>by</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 12318, "user_id": 1731626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMaR1.gif?s=128&g=1", "display_name": "Sergey", "link": "https://stackoverflow.com/users/1731626/sergey"}, "is_accepted": false, "score": 0, "last_activity_date": 1548139936, "last_edit_date": 1548139936, "creation_date": 1548139562, "answer_id": 54302633, "question_id": 54299831, "link": "https://stackoverflow.com/questions/54299831/using-a-custom-setter-for-a-lazy-delegate/54302633#54302633", "title": "Using a custom setter for a lazy delegate", "body": "<p>Using additional property can help you:</p>\n\n<pre><code>class SomeClass {\n    var count = 0\n        set(value) { \n            if (field - value &lt; 0) field = 0 else field -= value\n            _count.value = field\n        }\n\n    private val _count: MutableLiveData&lt;Int&gt; by lazy {\n        MutableLiveData&lt;Int&gt;().also { it.value = 0 }\n    }\n}\n\n// Using additional property\nval s = SomeClass()\ns.count = 5 // this will set value to `count` and `_count` properties depending on the condition in the setter of `count` property.\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10820594, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bDxE7g8xX30/AAAAAAAAAAI/AAAAAAAAAAc/liRku3eqLqE/photo.jpg?sz=128", "display_name": "devthedevel", "link": "https://stackoverflow.com/users/10820594/devthedevel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 493, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1548139936, "creation_date": 1548118670, "question_id": 54299831, "link": "https://stackoverflow.com/questions/54299831/using-a-custom-setter-for-a-lazy-delegate", "title": "Using a custom setter for a lazy delegate", "body": "<p>I have alot of repeated code, and since I'm fairly new to Kotlin, I want to learn and try to take advantage of it as much as possible. I have many lazily declared <code>MutableLiveData&lt;Int&gt;</code> properties, and somewhere down the code I'm checking each one to make sure that the live data's value will never go below 0. I thought using Kotlin's delegates would work but I feel like I'm at a lost.</p>\n\n<p>Here's a snippet of my declaration (defaulting the value to 0).</p>\n\n<pre><code>    private val count: MutableLiveData&lt;Int&gt; by lazy {\n        MutableLiveData&lt;Int&gt;().also { it.value = 0 }\n    }\n</code></pre>\n\n<p>Here's a snippet of some onClickListeners.</p>\n\n<pre><code>    btn_decrement.setOnClickListener {\n        count.value?.run {\n            if (this &gt; 0) {\n                count.value = this - 1\n            }\n        }\n    }\n</code></pre>\n\n<p>I want to do something like the following:</p>\n\n<pre><code>    private val d4Count: MutableLiveData&lt;Int&gt; by lazy {\n        MutableLiveData&lt;Int&gt;().also { it.value = 0 }\n    }\n    set(value) {\n        if (field.value?.toInt() - value &lt; 0) field.value = 0 else field.value -= value\n    }\n</code></pre>\n\n<p>But Android Studio is giving me 2 errors:</p>\n\n<ol>\n<li><p>A 'val'-property cannot have a setter. This makes sense, but is there a way to keep <code>count</code> immutable, but change <code>MutableLiveData&lt;Int&gt;</code>'s setter to something similar as my attempt?</p></li>\n<li><p>Delegated property cannot have accessors with non-default implementations. I don't really know what this means, but I'm assuming this is key to me achieving what I want.</p></li>\n</ol>\n\n<p>How do I go about doing this, or am I looking at this wrong? Is there a better way to do what I want?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "edited": false, "score": 0, "creation_date": 1548119385, "post_id": 54299870, "comment_id": 95420145, "body": "yes, doing that is same as mark main as suspend. gradle doesn&#39;t find the main method this way."}, {"owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "reply_to_user": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "edited": false, "score": 1, "creation_date": 1548125831, "post_id": 54299870, "comment_id": 95421463, "body": "I guess I am not sure what you mean,  I don&#39;t see how you mark your main,  or what you mean by gradle not finding the main function ... I added the build.gradle file that I used and it seems to work exactly as documented"}, {"owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "edited": false, "score": 0, "creation_date": 1548156561, "post_id": 54299870, "comment_id": 95434319, "body": "maybe I&#39;m doing something wrong I wil check it later"}, {"owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "edited": false, "score": 0, "creation_date": 1548189941, "post_id": 54299870, "comment_id": 95452231, "body": "It works. I think I was having some mistake in build file, thanks"}], "tags": [], "owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "is_accepted": true, "score": 1, "last_activity_date": 1548125684, "last_edit_date": 1548125684, "creation_date": 1548119128, "answer_id": 54299870, "question_id": 54299550, "link": "https://stackoverflow.com/questions/54299550/what-for-kotlin-console-application-to-execute-all-async-tasks-before-program-ex/54299870#54299870", "title": "What for kotlin console application to execute all async tasks before program exit", "body": "<p>Have you tried using runBlocking,  as in this example from the coroutines doc.</p>\n\n<pre><code>import kotlinx.coroutines.*\n\nfun main() = runBlocking { // this: CoroutineScope\n    launch { // launch new coroutine in the scope of runBlocking\n        delay(1000L)\n        println(\"World!\")\n    }\n    println(\"Hello,\")\n}\n</code></pre>\n\n<p>This works as described with the following build.gradle</p>\n\n<pre><code>plugins {\n    id 'org.jetbrains.kotlin.jvm' version '1.3.11'\n}\napply plugin: 'application'\nmainClassName = \"MainKt\"\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jdk8\"\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.1.0'\n//    implementation \"io.reactivex.rxjava2:rxjava:2.2.5\"\n}\n\ncompileKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\ncompileTestKotlin {\n    kotlinOptions.jvmTarget = \"1.8\"\n}\n</code></pre>\n"}], "owner": {"reputation": 5134, "user_id": 4785114, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/7R0VR.jpg?s=128&g=1", "display_name": "alexpfx", "link": "https://stackoverflow.com/users/4785114/alexpfx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 54299870, "answer_count": 1, "score": 0, "last_activity_date": 1548125684, "creation_date": 1548116045, "question_id": 54299550, "link": "https://stackoverflow.com/questions/54299550/what-for-kotlin-console-application-to-execute-all-async-tasks-before-program-ex", "title": "What for kotlin console application to execute all async tasks before program exit", "body": "<p>I've a command line app what execute some async tasks:</p>\n\n<pre><code>class Main {\n    companion object {\n\n        @JvmStatic\n        fun main(args: Array&lt;String&gt;) {\n\n            GlobalScope.run {\n                launch {\n                    FetchMovies().execute(7)\n                }\n            }\n        }\n    }\n} \n</code></pre>\n\n<p>I run the main method with gradle, here the configuration:</p>\n\n<pre><code>apply plugin: 'application'\n\nmainClassName = 'br.com.alessi.parser.main.Main'\n\n// optional:  add one string per argument you want as the default JVM args\napplicationDefaultJvmArgs = [\"-Xms512m\", \"-Xmx1g\"]\n</code></pre>\n\n<p>So I run it: <code>$ ./gradlew run</code></p>\n\n<p>When I run it the program doesn't way for the async executions. How I tell my program to wait until FetchMovie().execute() completes?</p>\n\n<p>I tried with Thread.sleep() but it is of course a bit inaccurate.</p>\n\n<p>--- EDIT</p>\n\n<p>from coroutines documentation I could do this:</p>\n\n<pre><code>val job = GlobalScope.run {\n                launch {\n                    FetchMovies().execute(7)\n                }\n            }\n\n            job.join()\n</code></pre>\n\n<p>But I cannot call job.join() inside a non-suspended method and if I make main suspended I cannot run with via command line. </p>\n"}, {"tags": ["kotlin", "dispatchworkitem"], "comments": [{"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1548597180, "post_id": 54298541, "comment_id": 95589563, "body": "is my answer what you are looking for? If not, pls specify what you need."}, {"owner": {"reputation": 330, "user_id": 5450103, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9853fc7319dfae8d598d159f5f8ea005?s=128&d=identicon&r=PG&f=1", "display_name": "Vignan S", "link": "https://stackoverflow.com/users/5450103/vignan-s"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1548695762, "post_id": 54298541, "comment_id": 95625020, "body": "I think your answer is right but I don&#39;t want to have a delay. @WilliMentzel"}], "answers": [{"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 1, "last_activity_date": 1548808189, "last_edit_date": 1548808189, "creation_date": 1548109555, "answer_id": 54298614, "question_id": 54298541, "link": "https://stackoverflow.com/questions/54298541/does-kotlin-have-something-which-works-exactly-the-same-as-dispatchworkitem-in/54298614#54298614", "title": "Does Kotlin have something which works exactly the same as &quot;DispatchWorkItem&quot; in swift?", "body": "<p>You can use Kotlin's coroutines for that. You can create your own suspend function which checks a given condition any amount x of time.</p>\n\n<pre><code>suspend fun startConditionally(checkDelayMillis: Long = 10, condition: () -&gt; Boolean, block: () -&gt; Unit) {\n    while (true) {\n        if (condition()) { break }\n        delay(checkDelayMillis)\n    }\n\n    block()\n}\n\n\nfun main() {\n    var i = 0\n\n    // make the condition be fullfilled after 1 sec.\n    GlobalScope.launch {\n        delay(1000)\n        i = 1\n    }\n\n    GlobalScope.launch {\n        startConditionally(condition = {\n            i == 1\n        }) {\n            println(\"Hello\")\n        }\n    }\n\n    Thread.sleep(2000L)  // block main thread for 2 seconds to keep JVM alive\n}\n</code></pre>\n\n<hr>\n\n<p>You will need to add a dependency because coroutines are not part of the standard library.</p>\n\n<p>Here is what you need to put in your pom.xml (for Maven):</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains.kotlinx&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlinx-coroutines-core&lt;/artifactId&gt;\n    &lt;version&gt;1.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Additionally you need to activate them:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n    ...\n    &lt;configuration&gt;\n        &lt;args&gt;\n            &lt;arg&gt;-Xcoroutines=enable&lt;/arg&gt;\n        &lt;/args&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p><a href=\"https://kotlinlang.org/docs/tutorials/coroutines/coroutines-basic-jvm.html\" rel=\"nofollow noreferrer\">Further reading</a></p>\n"}], "owner": {"reputation": 330, "user_id": 5450103, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9853fc7319dfae8d598d159f5f8ea005?s=128&d=identicon&r=PG&f=1", "display_name": "Vignan S", "link": "https://stackoverflow.com/users/5450103/vignan-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1548808189, "creation_date": 1548109185, "last_edit_date": 1548110667, "question_id": 54298541, "link": "https://stackoverflow.com/questions/54298541/does-kotlin-have-something-which-works-exactly-the-same-as-dispatchworkitem-in", "title": "Does Kotlin have something which works exactly the same as &quot;DispatchWorkItem&quot; in swift?", "body": "<p>I want to execute a particular function after some timeout or if some particular condition is met. I have done the same in swift using <code>DispatchWorkItem</code> and used</p>\n\n<pre><code>dispatchQueue?.asyncAfter(deadline: .now() + .seconds(10), execute: self.dispatchWorkItemForDevicesDiscovery!) \n</code></pre>\n\n<p>to start the timer and after 10 seconds the associated disptachWorkItem gets executed.</p>\n\n<p>How to do that in Kotlin?</p>\n"}, {"tags": ["android", "android-activity", "kotlin", "fragment"], "comments": [{"owner": {"reputation": 1834, "user_id": 2435402, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lsmPv.png?s=128&g=1", "display_name": "ElliotM", "link": "https://stackoverflow.com/users/2435402/elliotm"}, "edited": false, "score": 1, "creation_date": 1548100720, "post_id": 54296968, "comment_id": 95414277, "body": "<code>activity</code> is calling your fragment&#39;s <code>getActivity()</code> which isn&#39;t guaranteed to not be null. So you&#39;ll have to do <code>activity!!.applicationContext!!</code>"}, {"owner": {"reputation": 646, "user_id": 1792343, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/737cbb991a74e12f6fbfb437a8194ef0?s=128&d=identicon&r=PG", "display_name": "Fl&#225;vio Costa", "link": "https://stackoverflow.com/users/1792343/fl%c3%a1vio-costa"}, "reply_to_user": {"reputation": 1834, "user_id": 2435402, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lsmPv.png?s=128&g=1", "display_name": "ElliotM", "link": "https://stackoverflow.com/users/2435402/elliotm"}, "edited": false, "score": 0, "creation_date": 1548100894, "post_id": 54296968, "comment_id": 95414349, "body": "im calling this method from my Fragment... i think when that fragment are created, my activity is not null. Right?"}, {"owner": {"reputation": 1834, "user_id": 2435402, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lsmPv.png?s=128&g=1", "display_name": "ElliotM", "link": "https://stackoverflow.com/users/2435402/elliotm"}, "edited": false, "score": 1, "creation_date": 1548101300, "post_id": 54296968, "comment_id": 95414524, "body": "There are scenarios in the life cycle of Android where the activity will be null during the instance of your Fragment. More often than not, activity will exist, but in this case Kotlin is forcing you to be smart about accessing it. A simple (but helpful) nuance of Kotlin"}, {"owner": {"reputation": 646, "user_id": 1792343, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/737cbb991a74e12f6fbfb437a8194ef0?s=128&d=identicon&r=PG", "display_name": "Fl&#225;vio Costa", "link": "https://stackoverflow.com/users/1792343/fl%c3%a1vio-costa"}, "reply_to_user": {"reputation": 1834, "user_id": 2435402, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lsmPv.png?s=128&g=1", "display_name": "ElliotM", "link": "https://stackoverflow.com/users/2435402/elliotm"}, "edited": false, "score": 0, "creation_date": 1548101997, "post_id": 54296968, "comment_id": 95414813, "body": "You are right man. Im newbie on Kotlin, i started on a few days ago. Thx dude."}, {"owner": {"reputation": 1834, "user_id": 2435402, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lsmPv.png?s=128&g=1", "display_name": "ElliotM", "link": "https://stackoverflow.com/users/2435402/elliotm"}, "edited": false, "score": 0, "creation_date": 1548102208, "post_id": 54296968, "comment_id": 95414900, "body": "No problem, a helpful approach to learning Kotlin in Android Studio is to click red errors (red squigglies under code) and use <code>ALT+ENTER</code> to get a solution to fix your problem - more often than not, it&#39;s Kotlin telling you to be hyper-conscious about nullability"}, {"owner": {"reputation": 646, "user_id": 1792343, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/737cbb991a74e12f6fbfb437a8194ef0?s=128&d=identicon&r=PG", "display_name": "Fl&#225;vio Costa", "link": "https://stackoverflow.com/users/1792343/fl%c3%a1vio-costa"}, "reply_to_user": {"reputation": 1834, "user_id": 2435402, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lsmPv.png?s=128&g=1", "display_name": "ElliotM", "link": "https://stackoverflow.com/users/2435402/elliotm"}, "edited": false, "score": 0, "creation_date": 1548344158, "post_id": 54296968, "comment_id": 95515762, "body": "Yeah i have been work on that. Thkssss"}], "answers": [{"comments": [{"owner": {"reputation": 1406, "user_id": 1886484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V55rW.jpg?s=128&g=1", "display_name": "Ali Kazi", "link": "https://stackoverflow.com/users/1886484/ali-kazi"}, "edited": false, "score": 0, "creation_date": 1564011691, "post_id": 54297266, "comment_id": 100894377, "body": "Is this the best we can do? Is there any other way to return a non null activity context? In my case I store the reference to a <code>val</code> in onCreate using <code>activity!!</code> then use that variable as my context reference."}, {"owner": {"reputation": 91, "user_id": 3879338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a355582a5dcc67a6be44486775d713?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Kogan", "link": "https://stackoverflow.com/users/3879338/anton-kogan"}, "edited": false, "score": 0, "creation_date": 1611235458, "post_id": 54297266, "comment_id": 116389118, "body": "Do like that and when activity will be null, you will have exception, as you said &quot;There are scenarios in the life cycle of Android where the activity will be null during the instance of your Fragment&quot; and then you call !! and get crash.  Better way is use injection of context, or view context if available."}, {"owner": {"reputation": 1834, "user_id": 2435402, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lsmPv.png?s=128&g=1", "display_name": "ElliotM", "link": "https://stackoverflow.com/users/2435402/elliotm"}, "reply_to_user": {"reputation": 91, "user_id": 3879338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a355582a5dcc67a6be44486775d713?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Kogan", "link": "https://stackoverflow.com/users/3879338/anton-kogan"}, "edited": false, "score": 0, "creation_date": 1611243839, "post_id": 54297266, "comment_id": 116393655, "body": "@AntonKogan injecting context is generally bad context. The nullability of context has been a part of the platform since it&#39;s existence and it&#39;s on the developer to use it correctly. Hence why <code>requireActivity()</code> <code>requireApplication()</code> <code>requireContext()</code> was brought in."}], "tags": [], "owner": {"reputation": 1834, "user_id": 2435402, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lsmPv.png?s=128&g=1", "display_name": "ElliotM", "link": "https://stackoverflow.com/users/2435402/elliotm"}, "is_accepted": true, "score": 1, "last_activity_date": 1548102109, "creation_date": 1548102109, "answer_id": 54297266, "question_id": 54296968, "link": "https://stackoverflow.com/questions/54296968/problem-to-get-context-in-fragmentview-kotlin/54297266#54297266", "title": "Problem to get Context in FragmentView Kotlin", "body": "<p>For formality purposes, posting answer here </p>\n\n<p><code>activity</code> is calling your fragment's <code>getActivity()</code> which isn't guaranteed to not be null. So you'll have to do <code>activity!!.applicationContext!!</code></p>\n\n<p>There are scenarios in the life cycle of Android where the activity will be null during the instance of your Fragment. More often than not, activity will exist, but in this case Kotlin is forcing you to be smart about accessing it. A simple (but helpful) nuance of Kotlin</p>\n"}], "owner": {"reputation": 646, "user_id": 1792343, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/737cbb991a74e12f6fbfb437a8194ef0?s=128&d=identicon&r=PG", "display_name": "Fl&#225;vio Costa", "link": "https://stackoverflow.com/users/1792343/fl%c3%a1vio-costa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1933, "favorite_count": 0, "accepted_answer_id": 54297266, "answer_count": 1, "score": 2, "last_activity_date": 1548102109, "creation_date": 1548100647, "question_id": 54296968, "link": "https://stackoverflow.com/questions/54296968/problem-to-get-context-in-fragmentview-kotlin", "title": "Problem to get Context in FragmentView Kotlin", "body": "<p>I need to get a Context from my activity. When i do that using:</p>\n\n<pre><code>   override fun getContext(): Context {\n\n    return activity.applicationContext\n}\n</code></pre>\n\n<p>i got:</p>\n\n<p>safe ( .) or non-null asserted ( .) calls are allowed on a nullable receiver of type FragmentACtivity</p>\n"}, {"tags": ["spring", "spring-boot", "spring-mvc", "kotlin"], "comments": [{"owner": {"reputation": 11024, "user_id": 419705, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/cvuY8.png?s=128&g=1", "display_name": "Roddy of the Frozen Peas", "link": "https://stackoverflow.com/users/419705/roddy-of-the-frozen-peas"}, "edited": false, "score": 0, "creation_date": 1548097824, "post_id": 54296382, "comment_id": 95413112, "body": "Do you have an <code>@ControllerAdvice</code> set up?"}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1548097879, "post_id": 54296382, "comment_id": 95413134, "body": "Specify the param as nullable, or give it a default value in the annotation."}, {"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1548097903, "post_id": 54296382, "comment_id": 95413151, "body": "Don&#39;t use <code>@RequestParam</code> but rather use a form object which has a field <code>endDate</code> and use regular validation rules like <code>@NotNull</code> to validate the form. This also integrates with Spring I18N and you can provide nice error messages as well."}, {"owner": {"reputation": 155, "user_id": 1175787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32a5fd42218bc033679bd5476b71ead8?s=128&d=identicon&r=PG", "display_name": "Porf&#237;rio", "link": "https://stackoverflow.com/users/1175787/porf%c3%adrio"}, "reply_to_user": {"reputation": 11024, "user_id": 419705, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/cvuY8.png?s=128&g=1", "display_name": "Roddy of the Frozen Peas", "link": "https://stackoverflow.com/users/419705/roddy-of-the-frozen-peas"}, "edited": false, "score": 0, "creation_date": 1548101654, "post_id": 54296382, "comment_id": 95414682, "body": "Yes @RoddyoftheFrozenPeas i have it set up and it caches if i dont pass the parameter or an invalid date, but it will not if the parameter is passed but is empty/null"}, {"owner": {"reputation": 155, "user_id": 1175787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32a5fd42218bc033679bd5476b71ead8?s=128&d=identicon&r=PG", "display_name": "Porf&#237;rio", "link": "https://stackoverflow.com/users/1175787/porf%c3%adrio"}, "reply_to_user": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1548101719, "post_id": 54296382, "comment_id": 95414712, "body": "I know @gidds but i am trying to catch all errors in ControllerAdvice"}, {"owner": {"reputation": 155, "user_id": 1175787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32a5fd42218bc033679bd5476b71ead8?s=128&d=identicon&r=PG", "display_name": "Porf&#237;rio", "link": "https://stackoverflow.com/users/1175787/porf%c3%adrio"}, "reply_to_user": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1548101777, "post_id": 54296382, "comment_id": 95414736, "body": "I tried that @M.Deinum but it gives the same error, because kotlin have some form of null checking that i can&#39;t catch :("}, {"owner": {"reputation": 93551, "user_id": 2696260, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qHEzx.png?s=128&g=1", "display_name": "M. Deinum", "link": "https://stackoverflow.com/users/2696260/m-deinum"}, "edited": false, "score": 0, "creation_date": 1548101821, "post_id": 54296382, "comment_id": 95414754, "body": "Make the field optional instead of always required to be <code>null</code> then it should work. Unless Kotlin also interprets the <code>@NotNull</code> but I doubt that."}], "answers": [{"tags": [], "owner": {"reputation": 155, "user_id": 1175787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32a5fd42218bc033679bd5476b71ead8?s=128&d=identicon&r=PG", "display_name": "Porf&#237;rio", "link": "https://stackoverflow.com/users/1175787/porf%c3%adrio"}, "is_accepted": false, "score": 0, "last_activity_date": 1548105881, "creation_date": 1548105881, "answer_id": 54297959, "question_id": 54296382, "link": "https://stackoverflow.com/questions/54296382/how-to-catch-requestparams-when-the-user-pass-a-empty-value/54297959#54297959", "title": "How to catch @RequestParams when the user pass a empty value", "body": "<p>I figured it out myself.\nJust had to had a <code>Converter&lt;S, T&gt;</code> Component to handle the date conversion</p>\n\n<pre><code>@Component\nclass LocalDateConverter : Converter&lt;String, LocalDateTime&gt; {\n    override fun convert(source: String): LocalDateTime = LocalDateTime.parse(source, DateTimeFormatter.ISO_DATE_TIME)\n}\n</code></pre>\n\n<p>And now i can handle the exception using:</p>\n\n<pre><code>@ExceptionHandler(MethodArgumentTypeMismatchException::class)\nfun handleMethodArgumentTypeMismatch(ex: MethodArgumentTypeMismatchException, request: WebRequest) =\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "is_accepted": false, "score": 0, "last_activity_date": 1592564264, "creation_date": 1592564264, "answer_id": 62468775, "question_id": 54296382, "link": "https://stackoverflow.com/questions/54296382/how-to-catch-requestparams-when-the-user-pass-a-empty-value/62468775#62468775", "title": "How to catch @RequestParams when the user pass a empty value", "body": "<p>To get out of the exception, just make the attribute of your model null, that is, <code>endDate: LocalDateTime?</code></p>\n\n<pre><code>@GetMapping\nfun getParams(@RequestParam(required = true) endDate: LocalDateTime?)\n</code></pre>\n\n<p>And to validate empty values you can use <a href=\"https://stackoverflow.com/a/62374746/5279996\"><code>@field:NotEmpty</code></a> in your <code>data class</code> with <a href=\"https://hibernate.org/validator/\" rel=\"nofollow noreferrer\">Hibernate Validator</a>.</p>\n\n<p>GL</p>\n\n<p><a href=\"https://stackoverflow.com/a/62468677/5279996\">Source</a></p>\n"}], "owner": {"reputation": 155, "user_id": 1175787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32a5fd42218bc033679bd5476b71ead8?s=128&d=identicon&r=PG", "display_name": "Porf&#237;rio", "link": "https://stackoverflow.com/users/1175787/porf%c3%adrio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 437, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1592564264, "creation_date": 1548097670, "last_edit_date": 1548113623, "question_id": 54296382, "link": "https://stackoverflow.com/questions/54296382/how-to-catch-requestparams-when-the-user-pass-a-empty-value", "title": "How to catch @RequestParams when the user pass a empty value", "body": "<p>I am trying to do a Spring MVC RestController with kotlin,\nbut I am having an hard time with RequestParams with LocalDatetime</p>\n\n<pre><code>@GetMapping\nfun getParams(@RequestParam(required = true) endDate: LocalDateTime)\n</code></pre>\n\n<p>If I don't specify the param <code>localhost:8080/</code> it gives an error that can be caught in a ControllerAdvice but if I specify a empty value <code>localhost:8080/endDate=</code> it will give me \n<code>java.lang.IllegalArgumentException: Parameter specified as non-null is null: method net.agroop.deviceapi.controllers.DeviceController.getAirParams, parameter endDate</code></p>\n\n<p>I found no way to catch that error in the ControllerAdvice because it is a kotlin error, I think.</p>\n\n<p>I tried with other types like Date and it also gives error. If I use String it works because String can be empty.\nAlso, if I specify LocalDateTime? as nullable it works but then I have to catch the error in the Controller in every RequestMapping and not in the ControllerAdvice.</p>\n"}, {"tags": ["php", "android", "mysql", "kotlin"], "comments": [{"owner": {"reputation": 1847, "user_id": 2157510, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fI9HN.jpg?s=128&g=1", "display_name": "Patrick Simard", "link": "https://stackoverflow.com/users/2157510/patrick-simard"}, "edited": false, "score": 0, "creation_date": 1548094996, "post_id": 54295350, "comment_id": 95411919, "body": "Does Log.e and Log.v output something?"}, {"owner": {"reputation": 13, "user_id": 10044428, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oi6SjItE-cM/AAAAAAAAAAI/AAAAAAAAAC4/VuYT_m09gxg/photo.jpg?sz=128", "display_name": "DEEEP 1029", "link": "https://stackoverflow.com/users/10044428/deeep-1029"}, "reply_to_user": {"reputation": 1847, "user_id": 2157510, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/fI9HN.jpg?s=128&g=1", "display_name": "Patrick Simard", "link": "https://stackoverflow.com/users/2157510/patrick-simard"}, "edited": false, "score": 0, "creation_date": 1548095400, "post_id": 54295350, "comment_id": 95412127, "body": "E/MainActivity: Retrofit 2 ERROR: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1548164261, "post_id": 54295350, "comment_id": 95438567, "body": "You aren&#39;t sending the data in the format you expect on the backend side."}], "owner": {"reputation": 13, "user_id": 10044428, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-oi6SjItE-cM/AAAAAAAAAAI/AAAAAAAAAC4/VuYT_m09gxg/photo.jpg?sz=128", "display_name": "DEEEP 1029", "link": "https://stackoverflow.com/users/10044428/deeep-1029"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1548092997, "creation_date": 1548092997, "question_id": 54295350, "link": "https://stackoverflow.com/questions/54295350/post-arraylist-to-php-and-add-it-to-mysql-database", "title": "Post ArrayList to PHP and add it to MySQL database", "body": "<p>I am creating an app similar to those from online stores</p>\n\n<p>I did an ArrayList for products added to the shopping cart.\nHow I must do to send this into my PHP script and add this to MySQL database.</p>\n\n<p>I tried return count of my ArrayList elements, but I can't.</p>\n\n<p>This is PHP code:</p>\n\n<pre><code>&lt;?php\n$postedArray = $_POST[\"arrayToPOST\"];\n$response = array();\n\nif(isset($postedArray))\n{\n    $count = count($postedArray);\n    $response[\"Count\"] = $count;\n    $response[\"postedArray\"] = $postedArray;\n\n}\nelse\n{\n    $response[\"Count\"] = 0;\n    $response[\"postedArray\"] = \"ERROR ON POST\";\n}\n\necho json_encode($response);\n\n?&gt;\n</code></pre>\n\n<p>This is my function in Android app:</p>\n\n<pre><code>val arrayList: ArrayList&lt;String&gt; = ArrayList&lt;String&gt;()\n\n    arrayList.add(\"First value\")\n    arrayList.add(\"Second value\")\n    arrayList.add(\"Third value\")\n\n    val gson = GsonBuilder()\n        .setLenient()\n        .create()\n\n\n    val retrofit = Retrofit.Builder()\n        .addConverterFactory(GsonConverterFactory.create(gson))\n        .baseUrl(\"http://192.168.100.11/\")\n        .build()\n\n    val webAPIInterface = retrofit.create(WebAPIInterface::class.java)\n\n\n    var call = webAPIInterface.postData(arrayList)\n\n    call.enqueue(object : Callback&lt;ResponsePOJO&gt; {\n        override fun onFailure(call: Call&lt;ResponsePOJO&gt;?, t: Throwable?) {\n            Log.e(\"MainActivity\", \"Retrofit 2 ERROR: \"+t.toString())\n\n        }\n\n        override fun onResponse(call: Call&lt;ResponsePOJO&gt;?, response: Response&lt;ResponsePOJO&gt;?)\n        {\n            Log.v(\"MainActivity\", \"RESPONSE: \"+response!!.body().toString())\n\n            if(response!!.isSuccessful)\n            {\n                Log.v(\"MainActivity\", \"Response is successful\")\n\n\n                Log.v(\"MainActivity\", \"\")\n\n\n            }\n            else\n            {\n                Log.e(\"MainActivity\", \"Response isnt successful\")\n            }\n\n        }\n\n    })\n</code></pre>\n\n<p>I looking for solution in internet, but I found nothing.\nPlease help !</p>\n"}, {"tags": ["json", "kotlin", "gson"], "answers": [{"comments": [{"owner": {"reputation": 1217, "user_id": 5225435, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/iaj9R.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/5225435/tom"}, "edited": false, "score": 0, "creation_date": 1548107142, "post_id": 54297040, "comment_id": 95416793, "body": "Thank you. Going through your example really helped me. It was a problem with the nested object being parsed twice, turning it into a string. Would I be right in saying that it&#39;s very important that the name of the property in the outer class must match the name of the object in the JSON?"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "reply_to_user": {"reputation": 1217, "user_id": 5225435, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/iaj9R.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/5225435/tom"}, "edited": false, "score": 0, "creation_date": 1548108984, "post_id": 54297040, "comment_id": 95417462, "body": "@Tom glad it helped you! If you mean <code>inner : { ...</code> with name of the object in JSON, then yes this is correct. since there is no order defined in json, the names are crucial for an amabigiuous mapping."}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 1, "last_activity_date": 1548100968, "creation_date": 1548100968, "answer_id": 54297040, "question_id": 54295346, "link": "https://stackoverflow.com/questions/54295346/kotlin-class-to-match-json-with-nested-object-for-gson-builder/54297040#54297040", "title": "Kotlin class to match JSON with Nested Object for GSON builder", "body": "<p>Here is a minimal example of how you would do it:</p>\n\n<pre><code>class OuterClass(val name: String) {\n    var inner = InnerClass(2)\n}\n\nclass InnerClass(val number: Int)\n\nfun main() {\n    val gson = GsonBuilder().setLenient().create()\n    val outerClass  = gson.fromJson(\"\"\"{\n        name: 'test',\n        inner: {\n            number : 1\n        }\n    }\"\"\".trimMargin(), OuterClass::class.java)\n}\n</code></pre>\n\n<p>You just put the instance of the inner class in a property of the outer class.</p>\n\n<p>Since Gson mutates the classes via reflection you could also declare the inner class as <code>lateninit</code> which would make the instantiation of the inner class with a default value unecessary.</p>\n\n<pre><code>class OuterClass(val name: String) {\n    lateinit var inner: InnerClass\n}\n</code></pre>\n\n<p>This, of course, only makes sense if you only instatiate the class via Gson.</p>\n"}], "owner": {"reputation": 1217, "user_id": 5225435, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/iaj9R.jpg?s=128&g=1", "display_name": "Tom", "link": "https://stackoverflow.com/users/5225435/tom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 562, "favorite_count": 0, "accepted_answer_id": 54297040, "answer_count": 1, "score": 0, "last_activity_date": 1548101039, "creation_date": 1548092984, "last_edit_date": 1548101039, "question_id": 54295346, "link": "https://stackoverflow.com/questions/54295346/kotlin-class-to-match-json-with-nested-object-for-gson-builder", "title": "Kotlin class to match JSON with Nested Object for GSON builder", "body": "<p>I have some incoming JSON that looks like this.</p>\n\n<pre><code> {  \"status\":200,\n    \"transformation_percent\":0.0,\n    \"image_percent\":24.51,\n    \"bandwidth_percent\":0.0,\n    \"storage_percent\":26.23,\n    \"freeTrialPeriod\":7889238000,\n    \"freeTrialParams\":\"{\\\"cache_period\\\":604800000,\\\"cache_allowance\\\":5000,\\\"price_in_cents\\\":0}\",\n    \"basicPlanParams\":\"{\\\"cache_period\\\":604800000,\\\"cache_allowance\\\":10000,\\\"stripe_plan_id\\\":\\\"plan_blah\\\",\\\"price_in_cents\\\":100,\\\"currency\\\":\\\"eur\\\"}\"\n}\n</code></pre>\n\n<p>I am trying to construct a ServerParams Kotlin class that will match this incoming JSON, so that I can pass the class to the gsonBuilder like this:</p>\n\n<pre><code>val GSON = GsonBuilder().setLenient().create()\nval server_params = GSON.fromJson(string, ServerParams::class.java)\n</code></pre>\n\n<p>I am struggling with the nested objects. I know how to write my own deserializer, so I can do that if I have to, but Kotlin has proven to be such an elegant language in my short experience that I thought there must be a better way of doing it. I also don't want to have to write matching deserializers for every API call!</p>\n\n<p>I've tried inner classes, which didn't work. I've tried creating additional classes for the nested objects in the JSON string and that didn't work either.</p>\n"}]