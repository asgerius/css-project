[{"tags": ["android", "text-to-speech", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 8, "last_activity_date": 1476752247, "last_edit_date": 1495540843, "creation_date": 1453940297, "answer_id": 35050722, "question_id": 35049850, "link": "https://stackoverflow.com/questions/35049850/unresolved-reference-inside-anonymous-kotlin-listener/35050722#35050722", "title": "Unresolved reference inside anonymous Kotlin listener", "body": "<p>Kotlin has hardened the variables initialization policy, and it's now prohibited to reference the variable inside its initializer, even in lambdas and object expressions, which seems reasonable: imagine that a lambda is called immediately before the variable assignment.</p>\n\n<p>For your case, I can suggest as a workaround using an <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"nofollow noreferrer\">object expression</a> in this quite cumbersome construct:</p>\n\n<pre><code>val textToSpeech = object {\n    val value: TextToSpeech get() = inner\n    private val inner = TextToSpeech(\n            applicationContext,\n            { value.setLanguage(Locale.UK) }\n    )\n}.value\n</code></pre>\n\n<p>This will initialize an anonymous object with <code>inner</code> inside that is acceptable through <code>value</code> property. Note that the <code>inner</code> initializer uses <code>value</code> property. Then the <code>value</code> is extracted and can be used.</p>\n\n<p>But please keep in mind that this trick is unsafe: in runtime, using <code>value</code> before <code>inner</code> is assigned (e.g. in <code>TextToSpeech</code> constructor) will throw <code>NullPointerException</code>.</p>\n\n<p>Also, I've replaced the <code>OnInitListener</code> with a lambda using <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM conversion</a> to be short, but object expression can still be used there.\n<hr>\n<strong>UPD:</strong> check <a href=\"https://stackoverflow.com/questions/35100389/writing-a-kotlin-util-function-which-provides-self-reference-in-initializer\">this question</a> for my effort to generalize this approach. Using it, you can write</p>\n\n<pre><code>val textToSpeech = selfReference {\n    TextToSpeech(\n        applicationContext,\n        { self.setLanguage(Locale.UK) }\n    )\n}\n</code></pre>\n\n<p>See the <a href=\"https://github.com/h0tk3y/kotlin-fun/blob/master/src/main/kotlin/com/github/h0tk3y/kotlinFun/SelfReference.kt\" rel=\"nofollow noreferrer\">sources on Github</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "is_accepted": false, "score": 0, "last_activity_date": 1531244770, "last_edit_date": 1531244770, "creation_date": 1531205643, "answer_id": 51258882, "question_id": 35049850, "link": "https://stackoverflow.com/questions/35049850/unresolved-reference-inside-anonymous-kotlin-listener/51258882#51258882", "title": "Unresolved reference inside anonymous Kotlin listener", "body": "<p>This is a very readable and clear way to face that problem. First you should define this:</p>\n\n<pre><code>fun &lt;T&gt; selfReferenced(initializer: () -&gt; T) = initializer.invoke()\noperator fun&lt;T&gt; T.getValue(any: Any?, property: KProperty&lt;*&gt;) = this\n</code></pre>\n\n<p>and later use </p>\n\n<pre><code>val valueName: ValueType by selfReferenced{\n    //here you can create and use the valueName object\n}\n</code></pre>\n\n<p>Using your problem as example you can do:</p>\n\n<pre><code>val textToSpeech:TextToSpeech by selfReferenced {\nTextToSpeech(\n        applicationContext,\n        TextToSpeech.OnInitListener { status -&gt;\n            if (status == TextToSpeech.SUCCESS) {\n                textToSpeech.setLanguage(Locale.UK)\n            }\n        })\n    }\n</code></pre>\n\n<p>Inside the selfReferenced block you can use the outer object with no restrictions. The only thing you should take care of, is declaring the type explicitly to avoid recursive type checking issues.</p>\n"}], "owner": {"reputation": 445, "user_id": 238944, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/5adee258fa89cd789d572040d7ed2fc0?s=128&d=identicon&r=PG", "display_name": "Dr.Optix", "link": "https://stackoverflow.com/users/238944/dr-optix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1432, "favorite_count": 0, "accepted_answer_id": 35050722, "answer_count": 2, "score": 6, "last_activity_date": 1531244770, "creation_date": 1453935885, "question_id": 35049850, "link": "https://stackoverflow.com/questions/35049850/unresolved-reference-inside-anonymous-kotlin-listener", "title": "Unresolved reference inside anonymous Kotlin listener", "body": "<p>I have the code below. It is Kotlin. Any idea why <code>textToSpeech</code> from <code>textToSpeech.setLanguage(Locale.UK)</code> is telling that there is no reference resolved for <code>textToSpeech</code>?</p>\n\n<pre><code>val textToSpeech = TextToSpeech(\n            applicationContext,\n            object : TextToSpeech.OnInitListener {\n                override fun onInit(status: Int) {\n                    if (status == TextToSpeech.SUCCESS) {\n                        textToSpeech.setLanguage(Locale.UK)\n                    }\n                }\n\n            })\n</code></pre>\n\n<p>At first I assumed it is an Idea kotlin plugin bug, but it seems that it actually can't be compiled</p>\n"}, {"tags": ["group-by", "treemap", "kotlin"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1453990455, "post_id": 35039564, "comment_id": 57850318, "body": "In questions you should show what you tried in Kotlin, that you made an attempt."}], "answers": [{"comments": [{"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1453905675, "post_id": 35040160, "comment_id": 57804954, "body": "Can you give a concrete example? I might be missing something but I can&#39;t get that to work without using an unchecked cast: <code>listOf&lt;HomeItem&gt;().groupByTo(TreeMap&lt;Int, ArrayList&lt;HomeItem&gt;&gt;() as MutableMap&lt;Int, MutableList&lt;HomeItem&gt;&gt;) { it.visiblePageId }</code>.  Should not <code>groupByTo</code> take <code>map: MutableMap&lt;K, out MutableList&lt;T&gt;&gt;</code> instead of <code>map: MutableMap&lt;K, MutableList&lt;T&gt;&gt;</code>?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1453906340, "post_id": 35040160, "comment_id": 57805489, "body": "@mfulton26 Edited answer to include example. The compiler is smart enough to infer the types; you don&#39;t need to use any type arguments at all."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1453906648, "post_id": 35040160, "comment_id": 57805725, "body": "Whoa! That is awesome! I had no idea you could do that in Kotlin. And you can cast it <code>as TreeMap</code> without the types and it casts it to <code>TreeMap&lt;Int, MutableList&lt;HomeItem&gt;&gt;</code>. Wonderful! Thank you @yole!"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 5, "last_activity_date": 1453906293, "last_edit_date": 1453906293, "creation_date": 1453905239, "answer_id": 35040160, "question_id": 35039564, "link": "https://stackoverflow.com/questions/35039564/kotlin-sortby-on-treemap/35040160#35040160", "title": "Kotlin sortBy on TreeMap", "body": "<p>You can use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/kotlin.-iterable/group-by-to.html\" rel=\"noreferrer\">groupByTo method</a> and pass a <code>TreeMap</code> instance as the first argument.</p>\n\n<pre><code>fun getHomeItemListsSeparatedByPageId(homeItems: List&lt;HomeItem&gt;) =\n    homeItems.groupByTo(TreeMap()) { it.visiblePageId }\n</code></pre>\n"}], "owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2832, "favorite_count": 1, "accepted_answer_id": 35040160, "answer_count": 1, "score": 2, "last_activity_date": 1453906293, "creation_date": 1453903619, "question_id": 35039564, "link": "https://stackoverflow.com/questions/35039564/kotlin-sortby-on-treemap", "title": "Kotlin sortBy on TreeMap", "body": "<p>What is the kotlin way of accomplisg this:</p>\n\n<pre><code>public static TreeMap&lt;Integer, ArrayList&lt;HomeItem&gt;&gt; getHomeItemListsSeparatedByPageId(List&lt;HomeItem&gt; homeItemsList) {\n\n        if (homeItemsList.size() == 0) {\n            return new TreeMap&lt;&gt;();\n        }\n\n        TreeMap&lt;Integer, ArrayList&lt;HomeItem&gt;&gt; map = new TreeMap&lt;&gt;();\n\n        for (HomeItem hl : homeItemsList) {\n            if (map.get(hl.getVisiblePageId()) == null) {\n                map.put(hl.getVisiblePageId(), new ArrayList&lt;&gt;());\n            }\n            map.get(hl.getVisiblePageId()).add(hl);\n        }\n\n        return map;\n    }\n</code></pre>\n\n<p>I have tried to apply groupBy on my args list but it returns an HashMap.</p>\n\n<p>EDIT: Basically, the original list is queried, and it is grouped by <code>visiblePageId</code>, and added to a treemap whose key is the id and the value are the items with that id</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 8, "last_activity_date": 1453897641, "creation_date": 1453897641, "answer_id": 35037365, "question_id": 35037170, "link": "https://stackoverflow.com/questions/35037170/unresolved-reference-error-while-calling-add-method-in-kotlin-set-interface/35037365#35037365", "title": "Unresolved reference error while calling add method in Kotlin Set interface", "body": "<p>Kotlin seperates Java's <code>Set</code> interface into two interfaces: <code>Set</code> and <code>MutableSet</code>. The latter interface declares mutating methods such as the <code>add</code> method you're looking for.</p>\n\n<p>Generally, interfaces such as <code>MutableSet</code> extend the <code>Set</code> interface, and implementations like <code>HashSet</code> implement the <code>MutableSet</code> interface. The <code>Set</code> interface can then be used to pass around a read-only instance, to help avoid common bugs from happening.</p>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 0, "last_activity_date": 1454071748, "last_edit_date": 1495540778, "creation_date": 1454070705, "answer_id": 35084651, "question_id": 35037170, "link": "https://stackoverflow.com/questions/35037170/unresolved-reference-error-while-calling-add-method-in-kotlin-set-interface/35084651#35084651", "title": "Unresolved reference error while calling add method in Kotlin Set interface", "body": "<p>A few notes about your code, see <a href=\"https://stackoverflow.com/a/35037365/3679676\">@nhaarman's answer</a> about the <code>Set</code> interface and why you have the compiler error.  <strong>This answer</strong> is purely for additional information:</p>\n\n<p>First, you can use <code>hashSetOf()</code> function instead of the <code>HashSet</code> constructor, although using the constructor is fine it is just less common.</p>\n\n\n\n<pre><code>val mySet = hashSetOf&lt;Int&gt;()\n</code></pre>\n\n<p>You should use <code>Int</code> instead of <code>Integer</code>.  You received a compiler warning when you didn't because you should let Kotlin decide when it is talking about primitives or classes for <code>Int</code>, <code>Long</code>, <code>Byte</code>, etc.  Do not ignore that warning.  The <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">table for mapped types</a> in documentation maybe isn't clear that it applies to primitive and boxed version of the same type and unless you need primitive arrays don't worry about which is being used.</p>\n\n<p>Do not instantiate <code>Integer</code> classes such as code calling <code>Integer(1)</code> or <code>Int(1)</code>.  Instead, use something like the following code -- it is letting Kotlin do the boxing for you:</p>\n\n<pre><code>val mySet1 = hashSetOf(1, 2, 3) // makes a HashSet&lt;Int&gt; which in Java is HashSet&lt;Integer&gt;\n\nval mySet2 = hashSetOf&lt;Int&gt;()   // makes a HashSet&lt;Int&gt; which in Java is HashSet&lt;Integer&gt;\nmySet2.add(1)\nmySet2.add(2)\nmySet2.add(3)\n</code></pre>\n\n<p>And if you want to initialize a set while wrapping the building of the set into the construction and returning the readonly interface then you have many options.  Some of which are:</p>\n\n<pre><code>val mySet: Set&lt;Int&gt; = hashSetOf&lt;Int&gt;().apply  {\n    // do logic that adds to set (`this` is the set)\n} \n</code></pre>\n\n<p>or:</p>\n\n<pre><code>val mySet: Set&lt;Int&gt; = run  {\n    val tempSet = hashSetOf&lt;Int&gt;()\n    // do logic that adds to set\n    tempSet\n}\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>val mySet = someFunc()\n\nfun someFunc(): Set&lt;Int&gt; {\n   val tempSet = hashSetOf&lt;Int&gt;()\n   // do logic that adds to set\n   return tempSet\n}\n</code></pre>\n\n<p><em>see docs for functions:  <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"nofollow noreferrer\">apply()</a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/let.html\" rel=\"nofollow noreferrer\">let()</a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/run.html\" rel=\"nofollow noreferrer\">run()</a>, and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/with.html\" rel=\"nofollow noreferrer\">with()</a></em></p>\n\n<p>I have a fairly useless extension function in my own libraries that makes it clear when I want a readonly interface since casting produces a warning and I don't always want to specify the redundant type in the declaration.  It is an extension for the sake of readability:</p>\n\n<pre><code>@Suppress(\"USELESS_CAST\")\nfun &lt;T: Any&gt; MutableSet&lt;T&gt;.readonly(): Set&lt;T&gt; = this as Set&lt;T&gt;\n</code></pre>\n\n<p>The usage is:</p>\n\n<pre><code>val mySet = hashSetOf&lt;Int&gt;().apply {\n    // logic that builds the set\n}.readonly() \n\n// inferred type of mySet is Set&lt;Int&gt;\n</code></pre>\n"}], "owner": {"reputation": 12504, "user_id": 269454, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/2c52d8862ec3b13e1c9cb14d37ca2257?s=128&d=identicon&r=PG", "display_name": "lujop", "link": "https://stackoverflow.com/users/269454/lujop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1950, "favorite_count": 2, "accepted_answer_id": 35037365, "answer_count": 2, "score": 7, "last_activity_date": 1454071748, "creation_date": 1453897055, "question_id": 35037170, "link": "https://stackoverflow.com/questions/35037170/unresolved-reference-error-while-calling-add-method-in-kotlin-set-interface", "title": "Unresolved reference error while calling add method in Kotlin Set interface", "body": "<p>If I use a <em>Set</em> interface reference and I try to call <em>add</em> method I get an unresolved reference error: </p>\n\n<pre><code>  fun main(args : Array&lt;String&gt;) {\n    val set = HashSet&lt;Integer&gt;()\n    set.add(Integer(1)) //OK\n\n    val seti : Set&lt;Integer&gt; = HashSet&lt;Integer&gt;()\n    seti.add(Integer(2)) //FAILING: Unresolved reference to add**\n  }\n</code></pre>\n\n<p>I don't understand that behaivour. Java <em>Set</em> interface has an <em>add</em> method and I expected Kotlin one to be an extended version and not to had less methods. </p>\n\n<p>PD1: I get the same error in Idea IDE or building with gradle.\nPD2: Using kotlin 1.0.0-beta-4584</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2453, "user_id": 2679529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puE0s.jpg?s=128&g=1", "display_name": "marcelovca90", "link": "https://stackoverflow.com/users/2679529/marcelovca90"}, "edited": false, "score": 0, "creation_date": 1588741960, "post_id": 35036345, "comment_id": 109011935, "body": "<a href=\"https://stackoverflow.com/questions/40385878/define-multiple-variables-at-once-in-kotlin-e-g-java-string-x-y-z/40386049#40386049\">Related question and answer</a> that covers both variables and properties."}], "answers": [{"comments": [{"owner": {"reputation": 3667, "user_id": 190148, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5338ca3693b8a1aaf94b6f791c5842a7?s=128&d=identicon&r=PG", "display_name": "netimen", "link": "https://stackoverflow.com/users/190148/netimen"}, "edited": false, "score": 1, "creation_date": 1453970894, "post_id": 35037686, "comment_id": 57836603, "body": "Is there any chance it will be implemented later?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 3667, "user_id": 190148, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5338ca3693b8a1aaf94b6f791c5842a7?s=128&d=identicon&r=PG", "display_name": "netimen", "link": "https://stackoverflow.com/users/190148/netimen"}, "edited": false, "score": 1, "creation_date": 1453970929, "post_id": 35037686, "comment_id": 57836623, "body": "We have no such plans at this time."}, {"owner": {"reputation": 1881, "user_id": 8050896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zaFB3.gif?s=128&g=1", "display_name": "P Fuster", "link": "https://stackoverflow.com/users/8050896/p-fuster"}, "edited": false, "score": 7, "creation_date": 1537470364, "post_id": 35037686, "comment_id": 91806976, "body": "Hmm maybe it&#39;s personal preference but I rather assign x,y,z in one line than having three new lines of code."}, {"owner": {"reputation": 1132, "user_id": 4836759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wtBnG.png?s=128&g=1", "display_name": "Ashu", "link": "https://stackoverflow.com/users/4836759/ashu"}, "edited": false, "score": 3, "creation_date": 1574159721, "post_id": 35037686, "comment_id": 104123246, "body": "@yole why exactly is it frowned upon.? can you state any examples where it is considered bad and why. Considering that kotlin is all about eliminating boilerplate code, it would reduce redundant code if it was allowed in kotlin as well!"}, {"owner": {"reputation": 25612, "user_id": 423105, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ced7f76fd1b5573ce3bdce2f3392df04?s=128&d=identicon&r=PG", "display_name": "LarsH", "link": "https://stackoverflow.com/users/423105/larsh"}, "edited": false, "score": 1, "creation_date": 1588684350, "post_id": 35037686, "comment_id": 108987980, "body": "&quot;Declaring multiple properties on the same line is frowned upon by many Java style guides&quot; - citation needed. Since Java doesn&#39;t have &quot;properties&quot; in the same sense as Kotlin, it would be helpful to clarify what this means. Maybe you&#39;re referring to fields?"}, {"owner": {"reputation": 2453, "user_id": 2679529, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/puE0s.jpg?s=128&g=1", "display_name": "marcelovca90", "link": "https://stackoverflow.com/users/2679529/marcelovca90"}, "edited": false, "score": 0, "creation_date": 1588778664, "post_id": 35037686, "comment_id": 109031522, "body": "@yole in <a href=\"https://stackoverflow.com/a/40386049/2679529\">this answer</a> I provided examples of declaring multiple variables and multiple properties in the same line. I&#39;m using Kotlin version 1.1.2-5 (JRE 1.8.0_144-b01)."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 54, "last_activity_date": 1453898483, "creation_date": 1453898483, "answer_id": 35037686, "question_id": 35036345, "link": "https://stackoverflow.com/questions/35036345/how-to-declare-several-properties-on-one-line/35037686#35037686", "title": "How to declare several properties on one line", "body": "<p>No, there is no way to do that. Declaring multiple properties on the same line is frowned upon by many Java style guides, so we did not implement support for that in Kotlin.</p>\n"}, {"tags": [], "owner": {"reputation": 12820, "user_id": 1031556, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b46c5b92c22c681b79a1e91825ee757b?s=128&d=identicon&r=PG", "display_name": "Stephan", "link": "https://stackoverflow.com/users/1031556/stephan"}, "is_accepted": false, "score": 10, "last_activity_date": 1453898687, "creation_date": 1453898687, "answer_id": 35037771, "question_id": 35036345, "link": "https://stackoverflow.com/questions/35036345/how-to-declare-several-properties-on-one-line/35037771#35037771", "title": "How to declare several properties on one line", "body": "<p>Looking at the grammar this is not possible:</p>\n\n<pre><code>property (used by memberDeclaration, declaration, toplevelObject)\n  : modifiers (\"val\" | \"var\")\n      typeParameters? (type \".\" | annotations)?\n      (multipleVariableDeclarations | variableDeclarationEntry)\n      typeConstraints\n      (\"by\" | \"=\" expression SEMI?)?\n      (getter? setter? | setter? getter?) SEMI?\n  ;\n</code></pre>\n\n<p>You can only do destructing declarations with:</p>\n\n<pre><code>val (name, age) = person\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "is_accepted": false, "score": 5, "last_activity_date": 1574172347, "last_edit_date": 1574172347, "creation_date": 1558725441, "answer_id": 56298458, "question_id": 35036345, "link": "https://stackoverflow.com/questions/35036345/how-to-declare-several-properties-on-one-line/56298458#56298458", "title": "How to declare several properties on one line", "body": "<p>You can use kotlin's <strong>destructuring declaration</strong>, but it doesn't work for <code>lateinit</code> prefix.</p>\n\n<pre><code>var (a, b, c, d) = listOf(\"fly\", 23, \"slow\", 28)\nprintln(\"$a $b $c $d\")\n</code></pre>\n\n<blockquote>\n  <p>It is a workaround and creates unnecessary list initialization but it gets the job done. </p>\n</blockquote>\n\n<p>Also you won't be able to define variable types yourself but the type inference is automatically done when using destructuring declarations. </p>\n"}], "owner": {"reputation": 3667, "user_id": 190148, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5338ca3693b8a1aaf94b6f791c5842a7?s=128&d=identicon&r=PG", "display_name": "netimen", "link": "https://stackoverflow.com/users/190148/netimen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7004, "favorite_count": 6, "accepted_answer_id": 35037686, "answer_count": 3, "score": 35, "last_activity_date": 1574172347, "creation_date": 1453894747, "question_id": 35036345, "link": "https://stackoverflow.com/questions/35036345/how-to-declare-several-properties-on-one-line", "title": "How to declare several properties on one line", "body": "<p>I'm developing a class with several <code>lateinit</code> properties of one type. I think it's too verbose to declare each of them on separate line like this:</p>\n\n<pre><code>lateinit var a: String \nlateinit var b: String\n</code></pre>\n\n<p>so I would like to declare them on one line like this:</p>\n\n<pre><code>lateinit var b, c: String // error: Property getter or setter expected\n</code></pre>\n\n<p>But I get an error <code>Property getter or setter expected</code>. Is there any way to declare several properties on one line in Kotlin?</p>\n"}, {"tags": ["typescript", "kotlin"], "comments": [{"owner": {"reputation": 11402, "user_id": 4600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CY4os.jpg?s=128&g=1", "display_name": "marcospereira", "link": "https://stackoverflow.com/users/4600/marcospereira"}, "edited": false, "score": 0, "creation_date": 1453823727, "post_id": 35017878, "comment_id": 57762904, "body": "As far as I know, KotlinJS (kotlin -&gt; js compiler) was delayed in favor of a stable release of Kotlin language itself. That can be a good indicator that an typescript -&gt; koltin compiler is not planned to the next steps."}, {"owner": {"reputation": 2512, "user_id": 2992899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Mu5w6.jpg?s=128&g=1", "display_name": "Czyzby", "link": "https://stackoverflow.com/users/2992899/czyzby"}, "reply_to_user": {"reputation": 11402, "user_id": 4600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CY4os.jpg?s=128&g=1", "display_name": "marcospereira", "link": "https://stackoverflow.com/users/4600/marcospereira"}, "edited": false, "score": 0, "creation_date": 1453823941, "post_id": 35017878, "comment_id": 57763059, "body": "@marcospereira Well, KotlinJS already works. Kinda. You can compile Kotlin files to JavaScript - and I&#39;ll take Kotlin over JS without hesitation (especially since you can easily share sources with the server). I think you meant they delayed <i>polishing</i> of the compiler and/or new features/libraries that they planned for KotlinJS."}, {"owner": {"reputation": 11402, "user_id": 4600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CY4os.jpg?s=128&g=1", "display_name": "marcospereira", "link": "https://stackoverflow.com/users/4600/marcospereira"}, "edited": false, "score": 0, "creation_date": 1453824028, "post_id": 35017878, "comment_id": 57763122, "body": "yes, that was what I meant. A stable/final/polished release of KotlinJS was delayed in favor of a stable/final/polished release of Kotlin itself. ;-)"}, {"owner": {"reputation": 2512, "user_id": 2992899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Mu5w6.jpg?s=128&g=1", "display_name": "Czyzby", "link": "https://stackoverflow.com/users/2992899/czyzby"}, "reply_to_user": {"reputation": 11402, "user_id": 4600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CY4os.jpg?s=128&g=1", "display_name": "marcospereira", "link": "https://stackoverflow.com/users/4600/marcospereira"}, "edited": false, "score": 0, "creation_date": 1453824283, "post_id": 35017878, "comment_id": 57763322, "body": "@marcospereira Still, I wanted to make sure before writing a converter myself. I&#39;m pretty sure it will take less time to write such converter myself than struggle with the <code>dynamic</code>/<code>@native</code> syntax or convert libraries manually. (Note: I might regret that decision.)"}, {"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1453989744, "post_id": 35017878, "comment_id": 57849774, "body": "@JustACluelessNewbie, feel free to ask me any question about convertor or kotlin.js. And probably kotlinlang.slack.com is more right/convenient place for discuss about all that."}, {"owner": {"reputation": 2512, "user_id": 2992899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Mu5w6.jpg?s=128&g=1", "display_name": "Czyzby", "link": "https://stackoverflow.com/users/2992899/czyzby"}, "reply_to_user": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1454004660, "post_id": 35017878, "comment_id": 57860680, "body": "@bashor, just a quick question - could you post a simple <code>README.md</code> file on GitHub with some instructions how to run it? Judging from the <code>testData</code>, the converter is doing pretty all right - you just have to convert all the <code>natives</code> to annotations, but it&#39;s not something a simple replace-all wouldn&#39;t fix."}], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 8, "last_activity_date": 1453826271, "creation_date": 1453826271, "answer_id": 35019008, "question_id": 35017878, "link": "https://stackoverflow.com/questions/35017878/converting-typescript-definition-files-to-kotlin/35019008#35019008", "title": "Converting TypeScript definition files to Kotlin", "body": "<p>The project that you've linked to is the best thing currently available. We plan to resume work on the converter and bring it to production quality (with support, documentation etc.) after Kotlin 1.0 is released.</p>\n"}], "owner": {"reputation": 2512, "user_id": 2992899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Mu5w6.jpg?s=128&g=1", "display_name": "Czyzby", "link": "https://stackoverflow.com/users/2992899/czyzby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1659, "favorite_count": 1, "accepted_answer_id": 35019008, "answer_count": 1, "score": 7, "last_activity_date": 1453826271, "creation_date": 1453823107, "question_id": 35017878, "link": "https://stackoverflow.com/questions/35017878/converting-typescript-definition-files-to-kotlin", "title": "Converting TypeScript definition files to Kotlin", "body": "<p>Is it currently possible to convert <code>d.ts</code> files to Kotlin? I've found a <a href=\"https://devnet.jetbrains.com/message/5529479#5529479\">post which mentions that Kotlin devs are working on a converter</a>, but I'm not sure if the project was dropped or is it available in some kind of beta state. <a href=\"https://github.com/bashor/ts2kt\">This project</a> (apart from being undocumented) seems to use an outdated compiler, uses KotlinJS features (?) and feels like a little bit more complicated than a simple converter that consumes a file and outputs another.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 63, "user_id": 2668063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b688ac4062682249e61392a18c7d33c7?s=128&d=identicon&r=PG", "display_name": "Majestic", "link": "https://stackoverflow.com/users/2668063/majestic"}, "edited": false, "score": 0, "creation_date": 1453784559, "post_id": 35007212, "comment_id": 57742248, "body": "Maybe, you need to add WRITE_EXTERNAL_STORAGE permission?"}, {"owner": {"reputation": 21726, "user_id": 1708058, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4a0b611077fcb9f7ede011fdc46e4d4c?s=128&d=identicon&r=PG", "display_name": "Alan Coromano", "link": "https://stackoverflow.com/users/1708058/alan-coromano"}, "reply_to_user": {"reputation": 63, "user_id": 2668063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b688ac4062682249e61392a18c7d33c7?s=128&d=identicon&r=PG", "display_name": "Majestic", "link": "https://stackoverflow.com/users/2668063/majestic"}, "edited": false, "score": 0, "creation_date": 1453801790, "post_id": 35007212, "comment_id": 57749074, "body": "@Majestic, \u0442\u044b \u0447\u0451? \u0413\u043e\u043b\u043e\u0432\u0430. \u041f\u0440\u0438 \u0447\u0451\u043c \u0442\u0443\u0442 write?"}, {"owner": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1453853299, "post_id": 35007212, "comment_id": 57779366, "body": "Don&#39;t use <code>&#47;storage&#47;emulated&#47;0</code>, use <code>Environment.getExternalStorageDirectory()</code>."}, {"owner": {"reputation": 21726, "user_id": 1708058, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4a0b611077fcb9f7ede011fdc46e4d4c?s=128&d=identicon&r=PG", "display_name": "Alan Coromano", "link": "https://stackoverflow.com/users/1708058/alan-coromano"}, "reply_to_user": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1453867882, "post_id": 35007212, "comment_id": 57783680, "body": "@JeffreyBlattman, no need."}, {"owner": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1453920793, "post_id": 35007212, "comment_id": 57815635, "body": "Yes, there is a need, unless you are only targeting one device where you can ensure that path will always be there."}, {"owner": {"reputation": 21726, "user_id": 1708058, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4a0b611077fcb9f7ede011fdc46e4d4c?s=128&d=identicon&r=PG", "display_name": "Alan Coromano", "link": "https://stackoverflow.com/users/1708058/alan-coromano"}, "reply_to_user": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1454064151, "post_id": 35007212, "comment_id": 57886825, "body": "@JeffreyBlattman, I am."}, {"owner": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1454365352, "post_id": 35007212, "comment_id": 58003492, "body": "It&#39;s still bad practice.If you have a choice between writing the correct code, and incorrect code, and it&#39;s the same number of characters ... seems like a no brainer to me."}, {"owner": {"reputation": 21726, "user_id": 1708058, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4a0b611077fcb9f7ede011fdc46e4d4c?s=128&d=identicon&r=PG", "display_name": "Alan Coromano", "link": "https://stackoverflow.com/users/1708058/alan-coromano"}, "reply_to_user": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1454374184, "post_id": 35007212, "comment_id": 58006513, "body": "@JeffreyBlattman, being a smart-ass is a bad practice."}], "answers": [{"comments": [{"owner": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1453853434, "post_id": 35026351, "comment_id": 57779404, "body": "Or, you could just code one of the very most basic idioms ever using the classes provided in the SDK and not rely on the flavor of the week library / pattern."}, {"owner": {"reputation": 21726, "user_id": 1708058, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4a0b611077fcb9f7ede011fdc46e4d4c?s=128&d=identicon&r=PG", "display_name": "Alan Coromano", "link": "https://stackoverflow.com/users/1708058/alan-coromano"}, "edited": false, "score": 0, "creation_date": 1453877685, "post_id": 35026351, "comment_id": 57786932, "body": "why do I see the path &quot;/storage/emulated/0/Download&quot; in Android FileManager, whereas adb says the path doesn&#39;t exist and the correct one is &quot;/storage/sdcard0/Download&quot;?"}, {"owner": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1454092983, "post_id": 35026351, "comment_id": 57905311, "body": "I think you replied to the wrong post. Anyway, the reason Android provides <code>Environment.getExternalStorageDirectory()</code> is because there&#39;s no guarantee what that path will be. It&#39;d device dependent."}, {"owner": {"reputation": 21726, "user_id": 1708058, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4a0b611077fcb9f7ede011fdc46e4d4c?s=128&d=identicon&r=PG", "display_name": "Alan Coromano", "link": "https://stackoverflow.com/users/1708058/alan-coromano"}, "reply_to_user": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1454121265, "post_id": 35026351, "comment_id": 57916290, "body": "@JeffreyBlattman, once again: I see the different paths of the same smartphone."}, {"owner": {"reputation": 20854, "user_id": 337455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e3bf01a4e4d860421eda82368b01fa6d?s=128&d=identicon&r=PG", "display_name": "Jeffrey Blattman", "link": "https://stackoverflow.com/users/337455/jeffrey-blattman"}, "edited": false, "score": 0, "creation_date": 1454359371, "post_id": 35026351, "comment_id": 58000159, "body": "it&#39;s a linux thing. one is following a symlink, the other is following the real path."}], "tags": [], "owner": {"reputation": 3293, "user_id": 1853785, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJlNB.jpg?s=128&g=1", "display_name": "Omar Mainegra", "link": "https://stackoverflow.com/users/1853785/omar-mainegra"}, "is_accepted": true, "score": 1, "last_activity_date": 1453852780, "creation_date": 1453852780, "answer_id": 35026351, "question_id": 35007212, "link": "https://stackoverflow.com/questions/35007212/unable-to-upload-a-file-in-android-and-theres-no-details-of-an-error/35026351#35026351", "title": "Unable to upload a file in Android and there&#39;s no details of an error", "body": "<p>I tested your code and it works as expected. The only difference with mine is that I used a real device, so the path to my file is <code>/storage/sdcard0/Download/real-file-name.jpg</code>. I recommend you to check the the file exists in your emulator storage:</p>\n\n<p><code>adb shell ls /storage/emulated/0/Download/real-file-name.jpg</code> </p>\n\n<p>The output should be something like this:</p>\n\n<p><code>-rw-rw-r-- root     sdcard_rw    21577 2016-01-26 16:16 real-file-name.jpg</code></p>\n\n<p>This is an output example of your code</p>\n\n<pre><code>01-26 18:00:52.877 29568-29644/com.omainegra.sof D/test: Done123\n01-26 18:00:54.383 29568-29644/com.omainegra.sof D/test: {\n                                                         \"args\": {}, \n                                                         \"data\": \"\", \n                                                         \"files\": {\n                                                             \"file\": \"data:image/jpg;base64,/9j/4AAQSkZJRgAB...\n</code></pre>\n\n<blockquote>\n  <p>Recomendation</p>\n</blockquote>\n\n<p>A better (and reactive approach) could be done easily with <code>RxAndroid</code></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    val observable = Observable.create&lt;String&gt; { observer -&gt;\n        try {\n            if (!observer.isUnsubscribed) {\n                val MEDIA_TYPE_PNG = MediaType.parse(\"image/jpg\")\n                val client = OkHttpClient()\n                val requestBody = MultipartBody.Builder()\n                        .setType(MultipartBody.FORM)\n                        .addFormDataPart(\"title\", \"test123\")\n                        .addFormDataPart(\"file\", \"image-name-123.jpg\", RequestBody.create(MEDIA_TYPE_PNG,\n                                File(\"/storage/sdcard0/Download/real-file-name.jpg\")))\n                        .build()\n\n                val request = Request.Builder()\n                        .url(\"http://httpbin.org/post\")\n                        .post(requestBody)\n                        .build()\n\n                val response = client.newCall(request).execute();\n\n                if (!response.isSuccessful)\n                    throw IOException(\"Unexpected code \" + response);\n\n                observer.onNext(response.body().string())\n            }\n        } catch (e: Exception) {\n            observer.onError(e);\n        }\n    }\n\n    lateinit var subscription: Subscription\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        subscription = observable\n                .subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe({ response -&gt;\n                    Log.d(\"test\", \"Done123\")\n                    Log.d(\"test\", response)\n                }, { error -&gt;\n                    Log.e(\"test\", \"onError\", error)\n                })\n    }\n\n    override fun onDestroy(){\n        super.onDestroy()\n        subscription.unsubscribe()\n    }\n}\n</code></pre>\n\n<p>Add dependencies to your <code>build.gradle</code></p>\n\n<pre><code>compile 'io.reactivex:rxjava:1.1.0'\ncompile 'io.reactivex:rxandroid:1.1.0'\n</code></pre>\n"}], "owner": {"reputation": 21726, "user_id": 1708058, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/4a0b611077fcb9f7ede011fdc46e4d4c?s=128&d=identicon&r=PG", "display_name": "Alan Coromano", "link": "https://stackoverflow.com/users/1708058/alan-coromano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 658, "favorite_count": 1, "accepted_answer_id": 35026351, "answer_count": 1, "score": 3, "last_activity_date": 1453852780, "creation_date": 1453783700, "question_id": 35007212, "link": "https://stackoverflow.com/questions/35007212/unable-to-upload-a-file-in-android-and-theres-no-details-of-an-error", "title": "Unable to upload a file in Android and there&#39;s no details of an error", "body": "<p>I'm trying to upload a file in Android/Kotlin:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n  override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    //...........\n\n    UploadFilesTask().execute(1)\n\n}\n\n//.......\n\nprivate class UploadFilesTask : AsyncTask&lt;Int, Int, Int&gt;() {\n    override fun doInBackground(vararg params: Int?): Int? {\n      val MEDIA_TYPE_PNG = MediaType.parse(\"image/jpg\")\n      val client = OkHttpClient()\n      val requestBody = MultipartBody.Builder()\n          .setType(MultipartBody.FORM)\n          .addFormDataPart(\"title\", \"test123\")\n          .addFormDataPart(\"file\", \"image-name-123.jpg\", RequestBody.create(MEDIA_TYPE_PNG,\n              File(\"/storage/emulated/0/Download/real-file-name.jpg\")))\n          .build()\n\n      val request = Request.Builder()\n          .url(\"http://httpbin.org/post\")\n          .post(requestBody)\n          .build()\n\n      val response = client.newCall(request).execute()\n      if (!response.isSuccessful) {\n        throw IOException(\"Unexpected code \" + response)\n      } else {\n        Log.d(\"test\", \"Done123\")\n        Log.d(\"test\", response.body().string())\n      }\n\n      return 123\n    }\n\n    protected fun onProgressUpdate(vararg progress: Int) {\n    }\n\n    protected override fun onPostExecute(result: Int?) {\n    }\n  }\n</code></pre>\n\n<p>The only error message I can see when I run it is:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1\n</code></pre>\n\n<p>How can I fix it?</p>\n\n<p>The permissions are set:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n</code></pre>\n\n<p>and the dependency:</p>\n\n<pre><code>compile \"com.squareup.okhttp3:okhttp:3.0.1\"\n</code></pre>\n"}, {"tags": ["regex", "kotlin"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1453756697, "post_id": 35002482, "comment_id": 57733194, "body": "I suggest matching those substrings with, say, <a href=\"https://regex101.com/r/iD7jQ1/1\" rel=\"nofollow noreferrer\"><code>[^;\\&#47;]+(?:\\&#47;;[^;]*)*</code></a>"}], "answers": [{"comments": [{"owner": {"reputation": 3121, "user_id": 3699808, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f0af2052e664e9f832421cb56590b935?s=128&d=identicon&r=PG", "display_name": "mhlz", "link": "https://stackoverflow.com/users/3699808/mhlz"}, "edited": false, "score": 3, "creation_date": 1453803133, "post_id": 35002963, "comment_id": 57749885, "body": "Alternatively you could also use the <code>String.toRegex</code> extension function which I find a bit more readable: <code>println(&quot;one;two;th&#47;;ree&quot;.split(&quot;(?&lt;!&#47;);&quot;.toRegex()).size)</code>"}], "tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 9, "last_activity_date": 1453758241, "creation_date": 1453758241, "answer_id": 35002963, "question_id": 35002482, "link": "https://stackoverflow.com/questions/35002482/why-doesnt-look-ahead-and-look-behind-regex-work-in-kotlin/35002963#35002963", "title": "Why doesnt look ahead and look behind Regex work in Kotlin?", "body": "<p>In your Kotlin example you're not splitting by a <code>Regex</code> but by a <code>String</code>.</p>\n\n<p>Try the following:</p>\n\n<pre><code>println(\"one;two;th/;ree\".split(Regex(\"(?&lt;!/);\")).size) // 3\n</code></pre>\n"}], "owner": {"reputation": 2626, "user_id": 4495175, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/zycJD.jpg?s=128&g=1", "display_name": "Letfar", "link": "https://stackoverflow.com/users/4495175/letfar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 869, "favorite_count": 0, "accepted_answer_id": 35002963, "answer_count": 1, "score": 8, "last_activity_date": 1453758407, "creation_date": 1453756475, "last_edit_date": 1453758407, "question_id": 35002482, "link": "https://stackoverflow.com/questions/35002482/why-doesnt-look-ahead-and-look-behind-regex-work-in-kotlin", "title": "Why doesnt look ahead and look behind Regex work in Kotlin?", "body": "<p>Example:</p>\n\n<pre><code>    // Java\n    System.out.println(\"one;two;th/;ree\".split(\"(?&lt;!/);\").length);  // 3\n\n    // Kotlin\n    println(\"one;two;th/;ree\".split(\"(?&lt;!/);\").size) // 1\n</code></pre>\n\n<p>How to correct this?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 12185, "user_id": 1056359, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/88ac92d87200cfaae167062b2af8ad67?s=128&d=identicon&r=PG", "display_name": "thepoosh", "link": "https://stackoverflow.com/users/1056359/thepoosh"}, "edited": false, "score": 0, "creation_date": 1453747148, "post_id": 34999825, "comment_id": 57727656, "body": "do you have the correct permissions?"}, {"owner": {"reputation": 27253, "user_id": 969325, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d92bf9a788b29869c47858839982f27?s=128&d=identicon&r=PG", "display_name": "Warpzit", "link": "https://stackoverflow.com/users/969325/warpzit"}, "edited": false, "score": 0, "creation_date": 1453747282, "post_id": 34999825, "comment_id": 57727744, "body": "Did you update Android media something?"}], "answers": [{"tags": [], "owner": {"reputation": 373, "user_id": 2511670, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/396bc59831e4e644d78a121d2e42f53c?s=128&d=identicon&r=PG", "display_name": "jereksel", "link": "https://stackoverflow.com/users/2511670/jereksel"}, "is_accepted": true, "score": 3, "last_activity_date": 1454022788, "last_edit_date": 1454022788, "creation_date": 1453747199, "answer_id": 34999884, "question_id": 34999825, "link": "https://stackoverflow.com/questions/34999825/a-list-of-downloaded-files-is-null/34999884#34999884", "title": "A list of downloaded files is null", "body": "<p>Set the permission to read from external storage.</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.READ_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user266003"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 34999884, "answer_count": 1, "score": 1, "last_activity_date": 1454022788, "creation_date": 1453747016, "question_id": 34999825, "link": "https://stackoverflow.com/questions/34999825/a-list-of-downloaded-files-is-null", "title": "A list of downloaded files is null", "body": "<p>I'm trying to get a list of downloaded files, here's code in Kotlin:</p>\n\n<pre><code>val dir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS)\nval files = dir.listFiles()\n</code></pre>\n\n<p>I have  files in the folder but this code returns null. How come?</p>\n"}, {"tags": ["gradle", "kotlin"], "comments": [{"owner": {"reputation": 2512, "user_id": 2992899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Mu5w6.jpg?s=128&g=1", "display_name": "Czyzby", "link": "https://stackoverflow.com/users/2992899/czyzby"}, "edited": false, "score": 0, "creation_date": 1534268903, "post_id": 34999133, "comment_id": 90647618, "body": "Note that this is a pretty old question and while the answers might still apply, today you should look into <a href=\"https://kotlinlang.org/docs/reference/multiplatform.html\" rel=\"nofollow noreferrer\">Kotlin multiplatform projects</a>."}], "answers": [{"comments": [{"owner": {"reputation": 2512, "user_id": 2992899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Mu5w6.jpg?s=128&g=1", "display_name": "Czyzby", "link": "https://stackoverflow.com/users/2992899/czyzby"}, "edited": false, "score": 0, "creation_date": 1453759958, "post_id": 35001892, "comment_id": 57734911, "body": "Have you tried using this setup? I already knew how to create multi-project setups, but the thing is - it seems that both server and client depend on different plugins and libraries. If I&#39;m correct, Kotlin client project should use <code>kotlin2js</code> plugin and <code>kotlin-js-library</code> instead of <code>kotlin</code> plugin and <code>kotlin-stdlib</code>. I&#39;m currently trying the multi-project approach, but: A) when using <code>idea</code> plugin, IntelliJ doesn&#39;t see source folders, so there&#39;s a lot of manual setup, B) if importing as Gradle project, external dependencies are not linked. I&#39;ll upload my scripts when I&#39;m completely stuck."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 2512, "user_id": 2992899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Mu5w6.jpg?s=128&g=1", "display_name": "Czyzby", "link": "https://stackoverflow.com/users/2992899/czyzby"}, "edited": false, "score": 0, "creation_date": 1453764013, "post_id": 35001892, "comment_id": 57736676, "body": "@JustACluelessNewbie, I agree, I missed the JS moment. Could you please provide me a kotlin2js plugin dependency for buildscript? I think that it will be similar to what I wrote, just using different plugins for different projects instead of one in <code>subprojects</code>."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 2512, "user_id": 2992899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Mu5w6.jpg?s=128&g=1", "display_name": "Czyzby", "link": "https://stackoverflow.com/users/2992899/czyzby"}, "edited": false, "score": 0, "creation_date": 1453764598, "post_id": 35001892, "comment_id": 57736859, "body": "@JustACluelessNewbie, I&#39;ve updated the answer. This buildscript gets configured on my side and seems to be correct, but I don&#39;t know how to check if <code>client</code> builds correctly. Please check the current version in your project. However, both <code>client</code> and <code>server</code> are able to use classes from <code>shared</code>."}, {"owner": {"reputation": 2512, "user_id": 2992899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Mu5w6.jpg?s=128&g=1", "display_name": "Czyzby", "link": "https://stackoverflow.com/users/2992899/czyzby"}, "edited": false, "score": 1, "creation_date": 1453764800, "post_id": 35001892, "comment_id": 57736918, "body": "JS plugin is not enough if you want the client to actually see shared sources, that&#39;s what I&#39;ve initially started with. <code>gradle client:build</code> fails to compile client code using classes from shared project. Also, <code>kotlin-stdlib</code> is JVM-only, I think. I was struggling with a task that appends shared source dirs before JS compilation, but I think the solution can be much simpler. I asked the question to see if anyone already has got a working solution - I&#39;m not a total Gradle beginner."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 2512, "user_id": 2992899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Mu5w6.jpg?s=128&g=1", "display_name": "Czyzby", "link": "https://stackoverflow.com/users/2992899/czyzby"}, "edited": false, "score": 0, "creation_date": 1453765041, "post_id": 35001892, "comment_id": 57736993, "body": "@JustACluelessNewbie, OK, I tried and got the same, so removing the answer for now."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 2512, "user_id": 2992899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Mu5w6.jpg?s=128&g=1", "display_name": "Czyzby", "link": "https://stackoverflow.com/users/2992899/czyzby"}, "edited": false, "score": 0, "creation_date": 1453766480, "post_id": 35001892, "comment_id": 57737471, "body": "@JustACluelessNewbie, I was able to build the <code>client</code> project, please see the updated answer."}, {"owner": {"reputation": 2512, "user_id": 2992899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Mu5w6.jpg?s=128&g=1", "display_name": "Czyzby", "link": "https://stackoverflow.com/users/2992899/czyzby"}, "edited": false, "score": 0, "creation_date": 1453766716, "post_id": 35001892, "comment_id": 57737521, "body": "I recently managed to build the client project with <code>main.kotlin.srcDirs += &#39;..&#47;shared&#47;src&#47;main&#47;kotlin&#39;</code>, but your solution seems more elegant. I&#39;ll test it later and accept the answer."}, {"owner": {"reputation": 5745, "user_id": 777939, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4f399c0b34a287ad4c5ae184f2335488?s=128&d=identicon&r=PG", "display_name": "Martin Eden", "link": "https://stackoverflow.com/users/777939/martin-eden"}, "edited": false, "score": 0, "creation_date": 1544195556, "post_id": 35001892, "comment_id": 94201812, "body": "This works for me when I compile from the command line in Gradle. It also works in IntelliJ IDEA for the client project. However the server project can&#39;t see any of the shared code and wants me to add a dependency on the client project to resolve this :("}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 2, "last_activity_date": 1453768433, "last_edit_date": 1453768433, "creation_date": 1453754310, "answer_id": 35001892, "question_id": 34999133, "link": "https://stackoverflow.com/questions/34999133/shared-code-between-kotlin-server-and-client-projects-using-gradle/35001892#35001892", "title": "Shared code between Kotlin server and client projects using Gradle", "body": "<p>Building a Kotlin2JS project with dependencies from another Kotlin projects seems to require copying the sources in any way. One way to do it is adding the Kotlin project source dirs to the Kotlin2JS project source set dirs. </p>\n\n<p>This can be done with the following lines in <code>project</code> scope:</p>\n\n<pre><code>sourceSets {  \n    main.kotlin.srcDirs += project(':shared').sourceSets.main.kotlin.srcDirs\n}\n</code></pre>\n\n<p>Please see the whole project structure:</p>\n\n<pre><code>root/\n  shared/\n    src/main/kotlin\n    build.gradle\n  client/\n    src/main/kotlin\n  server/\n    src/main/kotlin\n  build.gradle\n  settings.gradle\n</code></pre>\n\n<p>In <code>settings.gradle</code>:</p>\n\n<pre><code>include 'shared', 'server', 'client'\n</code></pre>\n\n<p>And in <code>build.gradle</code>:</p>\n\n<pre><code>group 'com.example.multiproject'\nversion '1.0-SNAPSHOT'\n\nbuildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.0.0-beta-4589\"\n    }\n}\n\nsubprojects {\n    repositories {\n        mavenCentral()\n    }\n}\n\nproject(':client') {\n    evaluationDependsOn(':shared')\n\n    apply plugin: 'kotlin2js'\n    compileKotlin2Js.kotlinOptions.sourceMap = true\n    compileKotlin2Js.kotlinOptions.outputFile = \"${projectDir}/web/js/app.js\"\n    compileKotlin2Js.kotlinOptions.suppressWarnings = true\n    compileKotlin2Js.kotlinOptions.verbose = true\n\n    sourceSets {\n        main.kotlin.srcDirs += project(':shared').sourceSets.main.kotlin.srcDirs\n    }\n    dependencies {\n        compile 'org.jetbrains.kotlin:kotlin-js-library:1.0.0-beta-4589'\n    }\n}\n\nproject(':server') {\n    apply plugin: 'kotlin'\n    dependencies {\n        compile 'org.jetbrains.kotlin:kotlin-stdlib:1.0.0-beta-4589'\n        compile project(':shared')\n    }\n}\n</code></pre>\n\n<p>Note that <code>shared</code> project should contain its own <code>build.gradle</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 2512, "user_id": 2992899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Mu5w6.jpg?s=128&g=1", "display_name": "Czyzby", "link": "https://stackoverflow.com/users/2992899/czyzby"}, "is_accepted": false, "score": 4, "last_activity_date": 1453770373, "last_edit_date": 1453770373, "creation_date": 1453768577, "answer_id": 35005122, "question_id": 34999133, "link": "https://stackoverflow.com/questions/34999133/shared-code-between-kotlin-server-and-client-projects-using-gradle/35005122#35005122", "title": "Shared code between Kotlin server and client projects using Gradle", "body": "<p>For completeness, this is the setup I was creating pretty much simultaneously with <strong>hotkey</strong>:</p>\n\n<p>Main <code>settings.gradle</code>: <code>include 'shared', 'client', 'server'</code></p>\n\n<p>Main <code>build.gradle</code>:</p>\n\n<pre><code>buildscript {\n  ext {\n    kotlinVer = '1.0.0-beta-4589'\n  }\n  repositories {\n    mavenCentral()\n    maven {\n      url 'http://oss.sonatype.org/content/repositories/snapshots'\n    }\n  }\n  dependencies {\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVer\"\n  }\n}\n\nallprojects {\n  apply plugin: 'idea'\n  group = 'some.company'\n  version = '0.0.1'\n\n  ext {\n    kotlinVer = '1.0.0-beta-4589'\n    // Lib versions go there.\n  }\n  repositories {\n    mavenLocal()\n    mavenCentral()\n    maven { url \"https://oss.sonatype.org/content/repositories/snapshots/\" }\n    maven { url \"https://oss.sonatype.org/content/repositories/releases/\" }\n  }\n}\n\nproject('shared') {\n  apply plugin: 'kotlin'\n}\n\nproject('server') {\n  apply plugin: 'kotlin'\n  apply plugin: 'application'\n\n  mainClassName = 'some.company.Main'\n  dependencies {\n    compile project(':shared')\n  }\n}\n\nproject('client') {\n  apply plugin: 'kotlin2js'\n  dependencies {\n    compile project(':shared')\n  }\n}\n</code></pre>\n\n<p>Client <code>build.gradle</code>:</p>\n\n<pre><code>apply plugin: 'kotlin2js'\n\ncompileKotlin2Js {\n  kotlinOptions.outputFile = \"server/src/main/resources/static/js/app.js\"\n  kotlinOptions.sourceMap = true\n}\n\nsourceSets {\n  main.kotlin.srcDirs += '../shared/src/main/kotlin'\n  // hotkey's solution:\n  // main.kotlin.srcDirs += project(':shared').sourceSets.main.kotlin.srcDirs\n}\n\ndependencies {\n  compile \"org.jetbrains.kotlin:kotlin-js-library:$kotlinVer\"\n}\n</code></pre>\n\n<p>Server <code>build.gradle</code>:</p>\n\n<pre><code>apply plugin: 'kotlin'\n\nsourceCompatibility = 1.7\ntargetCompatibility = 1.7\n\ndependencies {\n  // Libs go there.\n  compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlinVer\"\n  testCompile \"org.jetbrains.kotlin:kotlin-test-junit:$kotlinVer\"\n}\n</code></pre>\n\n<p>Shared project's <code>build.gradle</code> contains only <code>apply plugin: 'kotlin'</code> and, well, I'm not sure if using shared libraries is straightforward (or necessary, in many cases), so I guess it could even stay empty.</p>\n\n<p><code>gradle client:build</code> generates JavaScript file in server's static resources folder. <code>gradle idea</code> generates IntelliJ project with correctly linked dependencies and source folders (as long as the default names are used - <code>src/main/kotlin</code>, etc; see official Kotlin Gradle manual for custom source dirs).</p>\n"}], "owner": {"reputation": 2512, "user_id": 2992899, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Mu5w6.jpg?s=128&g=1", "display_name": "Czyzby", "link": "https://stackoverflow.com/users/2992899/czyzby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1382, "favorite_count": 2, "accepted_answer_id": 35001892, "answer_count": 2, "score": 7, "last_activity_date": 1453770373, "creation_date": 1453744777, "question_id": 34999133, "link": "https://stackoverflow.com/questions/34999133/shared-code-between-kotlin-server-and-client-projects-using-gradle", "title": "Shared code between Kotlin server and client projects using Gradle", "body": "<p>I want to share some of the code between the server (JVM) and the client (JS) using a separate <code>shared</code> project. I've seen a <a href=\"https://github.com/Kotlin/kotlinx.html\" rel=\"noreferrer\">solution</a> using Maven, but I'm not sure how to convert this to a Gradle project. Also, there aren't any examples of shared projects in the <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html\" rel=\"noreferrer\">official guide</a>. So, how would a minimal <code>build.gradle</code> with such setup look?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 4608621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffbd147861efe7489f6cec035e4f3a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Julys Pablo", "link": "https://stackoverflow.com/users/4608621/julys-pablo"}, "edited": false, "score": 0, "creation_date": 1453660087, "post_id": 34977590, "comment_id": 57688449, "body": "I get it, but how Option&lt;Nothing&gt; (which is the type of Option.None) can be casted to Option&lt;BluetoothSocket&gt;?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 105, "user_id": 4608621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffbd147861efe7489f6cec035e4f3a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Julys Pablo", "link": "https://stackoverflow.com/users/4608621/julys-pablo"}, "edited": false, "score": 0, "creation_date": 1453668193, "post_id": 34977590, "comment_id": 57691543, "body": "@JulysPablo, it is in the type system: just as <code>Any</code> is a super type of any other (non-nullable) type, <code>Nothing</code> is a subtype of any other type. According to this, the example code is valid:  <code>val lst: List&lt;Int&gt; = listOf&lt;Nothing&gt;()</code>. And, for example, the <code>throw</code> expressions have type <code>Nothing</code>."}, {"owner": {"reputation": 105, "user_id": 4608621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffbd147861efe7489f6cec035e4f3a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Julys Pablo", "link": "https://stackoverflow.com/users/4608621/julys-pablo"}, "edited": false, "score": 0, "creation_date": 1453742933, "post_id": 34977590, "comment_id": 57725214, "body": "Thank you @hotkey. I didn&#39;t know that Nothing is a subtype of any other type"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 5, "last_activity_date": 1453650178, "last_edit_date": 1453650178, "creation_date": 1453649410, "answer_id": 34977590, "question_id": 34976847, "link": "https://stackoverflow.com/questions/34976847/kotlin-upcast-and-sealed-classes/34977590#34977590", "title": "Kotlin: Upcast and sealed classes", "body": "<p>The reason is that when you omit the field type, the most specific type is inferred from the initial value type. To declare a field with some less specific type one should specify it explicitly.</p>\n\n<p>Assuming that the hierarchy looks like this in your case:</p>\n\n<pre><code>Any -&gt; ... -&gt; Option -&gt; Option.None\n</code></pre>\n\n<p>So, when the initial value has type <code>Option.None</code>, it is also inferred for the field type, and the field won't be able to store values of a more general type <code>Option</code>.</p>\n\n<p>To make field type <code>Option</code> or something more general up to <code>Any</code> you have to specify it explicitly.</p>\n\n<p>To make it more clear, this should also work in your case:</p>\n\n<pre><code>var socket = Option.None as Option&lt;Socket&gt;\n</code></pre>\n\n<p>Here, type of <code>Option.None as Option&lt;Socket&gt;</code> is not <code>Option.None</code> but <code>Option</code>.\nHowever, the code is more readable when you specify the type of the field in complex hierarchy cases.</p>\n"}], "owner": {"reputation": 105, "user_id": 4608621, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffbd147861efe7489f6cec035e4f3a3f?s=128&d=identicon&r=PG&f=1", "display_name": "Julys Pablo", "link": "https://stackoverflow.com/users/4608621/julys-pablo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1097, "favorite_count": 0, "accepted_answer_id": 34977590, "answer_count": 1, "score": 3, "last_activity_date": 1453650178, "creation_date": 1453645032, "question_id": 34976847, "link": "https://stackoverflow.com/questions/34976847/kotlin-upcast-and-sealed-classes", "title": "Kotlin: Upcast and sealed classes", "body": "<p>I'm using the FunKTionale library to perform pattern matching. Then, when I initialize a variable as follows:</p>\n\n<pre><code>private lateinit var socket = Option.None \n</code></pre>\n\n<p>The transformation below is not possible:</p>\n\n<pre><code>socket = socket.map {\n    selectedDevice.createRfcommSocketToServiceRecord(MY_UUID).apply {\n    connect()\n    }\n}\n</code></pre>\n\n<p>Because the type of socket is </p>\n\n<pre><code>Option.None\n</code></pre>\n\n<p>But if I initialize the socket variable as</p>\n\n<pre><code>private lateinit var socket: Option&lt;BluetoothSocket&gt; = Option.None    \n</code></pre>\n\n<p>The map function works. The Option.None object extends </p>\n\n<pre><code>Option&lt;Nothing&gt;\n</code></pre>\n\n<p>and was casted (in this case) to </p>\n\n<pre><code>Option&lt;BluetoothSocket&gt;\n</code></pre>\n\n<p>So, how is this possible?</p>\n"}, {"tags": ["constructor", "duplicates", "kotlin", "code-duplication"], "comments": [{"owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "edited": false, "score": 1, "creation_date": 1453637020, "post_id": 34974412, "comment_id": 57680492, "body": "Yet another reason to avoid inheritance :) If those parameters are optional why use them in constructor at all? Instead you could just declare regular property <code>var optionalProperty:String? = &quot;DefaultValue&quot;</code> in base class."}], "answers": [{"tags": [], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "is_accepted": false, "score": 6, "last_activity_date": 1453630088, "creation_date": 1453630088, "answer_id": 34974480, "question_id": 34974412, "link": "https://stackoverflow.com/questions/34974412/kotlin-how-can-i-avoid-code-duplication-in-constructors/34974480#34974480", "title": "Kotlin: How can I avoid code duplication in constructors?", "body": "<p>The way I normally solve this problem is by creating a data class to represent the parameters.</p>\n\n<pre><code>data class PluginInfo(val name: String, val version: String = \"1.0\",\n                      val author: String = \"\", val description: String = \"\")\n</code></pre>\n\n<p>I then take this class as a parameter in the constructors.</p>\n\n<pre><code>abstract class Plugin(val info: PluginInfo)\n\nabstract class CyclePlugin(info: PluginInfo, val duration: Int,\n                           val durationUnit: TimeUnit = MILLISECONDS) : Plugin(info)\n</code></pre>\n\n<p>Then an example plugin can be implemented like this:</p>\n\n<pre><code>class ExamplePlugin : CyclePlugin(PluginInfo(\"Example Plugin\", author = \"Jire\"), 8, TimeUnit.SECONDS)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1505881081, "post_id": 34975827, "comment_id": 79588037, "body": "What if <code>CyclePlugin</code> is not abstract and can be initialized with those optional parameters?"}, {"owner": {"reputation": 871, "user_id": 4856761, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TZSof.jpg?s=128&g=1", "display_name": "Talha", "link": "https://stackoverflow.com/users/4856761/talha"}, "edited": false, "score": 0, "creation_date": 1611586662, "post_id": 34975827, "comment_id": 116492757, "body": "i was curious if we can do same with <code>sealed class</code> in kotlin"}], "tags": [], "owner": {"reputation": 66, "user_id": 5759791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9036b2ba2eda56a445a424f27f779cc?s=128&d=identicon&r=PG&f=1", "display_name": "Giovanni van der Neut", "link": "https://stackoverflow.com/users/5759791/giovanni-van-der-neut"}, "is_accepted": true, "score": 5, "last_activity_date": 1505854935, "last_edit_date": 1505854935, "creation_date": 1453638745, "answer_id": 34975827, "question_id": 34974412, "link": "https://stackoverflow.com/questions/34974412/kotlin-how-can-i-avoid-code-duplication-in-constructors/34975827#34975827", "title": "Kotlin: How can I avoid code duplication in constructors?", "body": "<p>Like <a href=\"https://stackoverflow.com/users/155213/miensol\">@miensol</a> mentioned, you can define your properties outside of the constructor.</p>\n\n<pre><code>abstract class Plugin(val name: String) {\n\n    open val version: String = \"1.0\"\n    open val author: String = \"\"\n    open val description: String = \"\"\n\n}\n</code></pre>\n\n<p>Then you're able to define <code>CyclePlugin</code> with only the necessary <code>name</code> parameter:</p>\n\n<pre><code>abstract class CyclePlugin(name: String, val duration: Int,\n                           val durationUnit: TimeUnit = MILLISECONDS) : Plugin(name)\n</code></pre>\n\n<p>Then for example, you can override some fields for <code>ExamplePlugin</code>:</p>\n\n<pre><code>class ExamplePlugin : CyclePlugin(\"Example Plugin\", 8, TimeUnit.SECONDS) {\n\n    override val author = \"Giovanni\"\n    override val description = \"This is an example plugin\"\n\n}\n</code></pre>\n"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 657, "favorite_count": 0, "accepted_answer_id": 34975827, "answer_count": 2, "score": 7, "last_activity_date": 1505854935, "creation_date": 1453629684, "last_edit_date": 1453630151, "question_id": 34974412, "link": "https://stackoverflow.com/questions/34974412/kotlin-how-can-i-avoid-code-duplication-in-constructors", "title": "Kotlin: How can I avoid code duplication in constructors?", "body": "<p>Often I find myself in a situation where I have a superclass that has lots of optional parameters, and those same parameters need to also be optional parameters in its subclasses.</p>\n\n<p>For example, the superclass:</p>\n\n<pre><code>abstract class Plugin(val name: String, val version: String = \"1.0\",\n                      val author: String = \"\", val description: String = \"\")\n</code></pre>\n\n<p>Extending this class is a pain. Here's an example subclass:</p>\n\n<pre><code>abstract class CyclePlugin(name: String, version: String = \"1.0\", author: String = \"\",\n                       description: String = \"\", val duration: Int, val durationUnit: TimeUnit\n                       = MILLISECONDS) : Plugin(name, version, author, description)\n</code></pre>\n\n<p><strong>Note:</strong> I will answer this question with my solution. I am in search of a <em>better</em> solution.</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 2, "creation_date": 1453632851, "post_id": 34974039, "comment_id": 57679231, "body": "You can take a look at <a href=\"https://github.com/cypressious/KotlinW\" rel=\"nofollow noreferrer\">github.com/cypressious/KotlinW</a>. Basically you invoke the compiler with the -script parameter."}, {"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1453632955, "post_id": 34974039, "comment_id": 57679262, "body": "@KirillRakhman Thank you, but would this not have performance implications? You also wouldn&#39;t be able to reference functions, classes and more from within Kotlin/Java."}, {"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1453633290, "post_id": 34974039, "comment_id": 57679363, "body": "If this doesn&#39;t exist, would it be possible to implement by generating bytecode of a class with the file&#39;s name and a function like <code>run</code> that would house the content?"}, {"owner": {"reputation": 17430, "user_id": 355438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb132c7de803cf864996a922a073e5f2?s=128&d=identicon&r=PG", "display_name": "Lu55", "link": "https://stackoverflow.com/users/355438/lu55"}, "edited": false, "score": 3, "creation_date": 1516831167, "post_id": 34974039, "comment_id": 83855861, "body": "take a look at <a href=\"https://stackoverflow.com/a/48281513/355438\">stackoverflow.com/a/48281513/355438</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "edited": false, "score": 2, "creation_date": 1453637796, "post_id": 34975642, "comment_id": 57680736, "body": "Thanks for the official heads up. I might work on something to generate proper bytecode for these scripts to make executing them in Java or Kotlin a breeze."}, {"owner": {"reputation": 6672, "user_id": 1659588, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/yG9r0.jpg?s=128&g=1", "display_name": "Dodge", "link": "https://stackoverflow.com/users/1659588/dodge"}, "edited": false, "score": 0, "creation_date": 1490529774, "post_id": 34975642, "comment_id": 73142773, "body": "@Alexander any news on scripting with kotlin in runtime apps? We&#39;d like to replace groovy runtime scripts with kotlin if possible :)"}, {"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "reply_to_user": {"reputation": 6672, "user_id": 1659588, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/yG9r0.jpg?s=128&g=1", "display_name": "Dodge", "link": "https://stackoverflow.com/users/1659588/dodge"}, "edited": false, "score": 0, "creation_date": 1490701299, "post_id": 34975642, "comment_id": 73220466, "body": "@Dodge running Kotlin scripts at runtime by the means of JSR 223 (Java scripting engines API) is currently work in progress. You can find an example of what can be achieved today at <a href=\"https://github.com/JetBrains/kotlin/tree/master/libraries/examples/kotlin-jsr223-local-example\" rel=\"nofollow noreferrer\">github.com/JetBrains/kotlin/tree/master/libraries/examples/&hellip;</a>&zwnj;&#8203;. I&#39;ll update my answer as soon as it&#39;s implemented and properly documented."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1506085205, "post_id": 34975642, "comment_id": 79690297, "body": "Any update here? I&#39;m also interested in running an external script from my kotlin code and work on with its return. BTW: how does gradle work with the Kotlin DSL?"}, {"owner": {"reputation": 3621, "user_id": 229896, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/ad59d78d8066f655cb62a0a1d6075444?s=128&d=identicon&r=PG", "display_name": "\u039a\u03b1r\u03c4h\u03b9\u03ba", "link": "https://stackoverflow.com/users/229896/%ce%9a%ce%b1r%cf%84h%ce%b9%ce%ba"}, "edited": false, "score": 0, "creation_date": 1519997992, "post_id": 34975642, "comment_id": 85145635, "body": "Any update? Almost a year later and Kotlin DSLs are not useful if there is not a way to execute a script at runtime."}], "tags": [], "owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "is_accepted": true, "score": 34, "last_activity_date": 1453637641, "creation_date": 1453637641, "answer_id": 34975642, "question_id": 34974039, "link": "https://stackoverflow.com/questions/34974039/how-can-i-run-kotlin-script-kts-files-from-within-kotlin-java/34975642#34975642", "title": "How can I run Kotlin-Script (.kts) files from within Kotlin/Java?", "body": "<p>Note that script files support in Kotlin is still pretty much experimental. This is an undocumented feature which we're still in the process of designing. What's working today may change, break or disappear tomorrow.</p>\n\n<p>That said, currently there are two ways to invoke a script. You can use the command line compiler:</p>\n\n<pre><code>kotlinc -script foo.kts &lt;args&gt;\n</code></pre>\n\n<p>Or you can invoke the script directly from IntelliJ IDEA, by right-clicking in the editor or in the project view on a .kts file and selecting \"Run ...\":</p>\n\n<p><a href=\"https://i.stack.imgur.com/7NSgW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/7NSgW.png\" alt=\"Run .kts from IntelliJ IDEA\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 9, "last_activity_date": 1539248364, "last_edit_date": 1539248364, "creation_date": 1525804330, "answer_id": 50240159, "question_id": 34974039, "link": "https://stackoverflow.com/questions/34974039/how-can-i-run-kotlin-script-kts-files-from-within-kotlin-java/50240159#50240159", "title": "How can I run Kotlin-Script (.kts) files from within Kotlin/Java?", "body": "<h2>KtsRunner</h2>\n\n<p>I've published a simple library that let's you run scripts from regular Kotlin programs.</p>\n\n<p><a href=\"https://github.com/s1monw1/KtsRunner\" rel=\"noreferrer\">https://github.com/s1monw1/KtsRunner</a></p>\n\n<h2>Example</h2>\n\n<ol>\n<li><p>The example class</p>\n\n<pre><code>data class ClassFromScript(val x: String)\n</code></pre></li>\n<li><p>The <code>.kts</code> file</p>\n\n<pre><code>import de.swirtz.ktsrunner.objectloader.ClassFromScript\n\nClassFromScript(\"I was created in kts\")\n</code></pre></li>\n<li><p>The code to load the class</p>\n\n<pre><code>val scriptReader =  Files.newBufferedReader(Paths.get(\"path/classDeclaration.kts\"))\nval loadedObj: ClassFromScript = KtsObjectLoader().load&lt;ClassFromScript&gt;(scriptReader)\nprintln(loadedObj.x) // &gt;&gt; I was created in kts\n</code></pre></li>\n</ol>\n\n<p>As shown, the <code>KtsObjectLoader</code> class can be used for executing a <code>.kts</code> script and return its result. The example shows a script that creates an instance of the <code>ClassFromScript</code> type that is loaded via <code>KtsObjectLoader</code> and then processed in the regular program.</p>\n"}, {"tags": [], "owner": {"reputation": 764, "user_id": 6289425, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IBq_299HACo/AAAAAAAAAAI/AAAAAAAAABQ/QJrvn0ZQ8_g/photo.jpg?sz=128", "display_name": "Dirk Hoffmann", "link": "https://stackoverflow.com/users/6289425/dirk-hoffmann"}, "is_accepted": false, "score": 1, "last_activity_date": 1583709720, "creation_date": 1583709720, "answer_id": 60593004, "question_id": 34974039, "link": "https://stackoverflow.com/questions/34974039/how-can-i-run-kotlin-script-kts-files-from-within-kotlin-java/60593004#60593004", "title": "How can I run Kotlin-Script (.kts) files from within Kotlin/Java?", "body": "<p>early 2020ies <a href=\"https://github.com/holgerbrandl/kscript\" rel=\"nofollow noreferrer\">kscript</a> that you find at <a href=\"https://github.com/holgerbrandl/kscript\" rel=\"nofollow noreferrer\">https://github.com/holgerbrandl/kscript</a>\nseems to be the most convenient and well supported way to go ...</p>\n"}], "owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20955, "favorite_count": 5, "accepted_answer_id": 34975642, "answer_count": 3, "score": 36, "last_activity_date": 1583709720, "creation_date": 1453627137, "last_edit_date": 1453628900, "question_id": 34974039, "link": "https://stackoverflow.com/questions/34974039/how-can-i-run-kotlin-script-kts-files-from-within-kotlin-java", "title": "How can I run Kotlin-Script (.kts) files from within Kotlin/Java?", "body": "<p>I noticed that IntelliJ can parse <code>.kts</code> files as Kotlin and the code editor picks them up as free-floating Kotlin files. You are also able to run the script in IntelliJ as you would a Kotlin file with a main method. The script executes from top to bottom.</p>\n\n<p>This form is PERFECT for the project I'm working on, if only I knew an easy way to use them from within Java or Kotlin.</p>\n\n<p>What's the idiomatic way to \"run\" these scripts from Java or Kotlin?</p>\n"}, {"tags": ["kotlin", "rx-kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1453585297, "post_id": 34966999, "comment_id": 57668563, "body": "looks like a type reference error"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 2, "creation_date": 1453674191, "post_id": 34966999, "comment_id": 57693588, "body": "its nice if you can include the error message as text, will help others find this post.  You can compile, to get the same error you saw in the editor.  Then cut-n-paste"}, {"owner": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1453674916, "post_id": 34966999, "comment_id": 57693835, "body": "@JaysonMinard added. thanks"}], "answers": [{"comments": [{"owner": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "edited": false, "score": 0, "creation_date": 1453601334, "post_id": 34971416, "comment_id": 57672701, "body": "Nope, doesn&#39;t work. if it&#39;s the case, why my last snippet works then?"}, {"owner": {"reputation": 1276, "user_id": 4594990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oMg6W.jpg?s=128&g=1", "display_name": "vigilancer", "link": "https://stackoverflow.com/users/4594990/vigilancer"}, "reply_to_user": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "edited": false, "score": 0, "creation_date": 1453601763, "post_id": 34971416, "comment_id": 57672795, "body": "because in last example they all Actions. give me a sec i&#39;ll try"}, {"owner": {"reputation": 1276, "user_id": 4594990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oMg6W.jpg?s=128&g=1", "display_name": "vigilancer", "link": "https://stackoverflow.com/users/4594990/vigilancer"}, "reply_to_user": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "edited": false, "score": 0, "creation_date": 1453602394, "post_id": 34971416, "comment_id": 57672916, "body": "please provide <code>view.adapter</code> signature at least. is it really Action1? if it is in my example it should be <code>(view.adapter as GroupRecyclerViewAdapter).call(it)</code>, sorry"}, {"owner": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "edited": false, "score": 0, "creation_date": 1453602636, "post_id": 34971416, "comment_id": 57672964, "body": "Sure. added it. it&#39;s Action1"}, {"owner": {"reputation": 1276, "user_id": 4594990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oMg6W.jpg?s=128&g=1", "display_name": "vigilancer", "link": "https://stackoverflow.com/users/4594990/vigilancer"}, "reply_to_user": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "edited": false, "score": 0, "creation_date": 1453602721, "post_id": 34971416, "comment_id": 57672976, "body": "in <code>(view.adapter as GroupRecyclerViewAdapter).call(it)</code> take a note on <code>it</code> part"}, {"owner": {"reputation": 1276, "user_id": 4594990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oMg6W.jpg?s=128&g=1", "display_name": "vigilancer", "link": "https://stackoverflow.com/users/4594990/vigilancer"}, "reply_to_user": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "edited": false, "score": 0, "creation_date": 1453602871, "post_id": 34971416, "comment_id": 57673007, "body": "what error are you getting after applying my comment?"}, {"owner": {"reputation": 1276, "user_id": 4594990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oMg6W.jpg?s=128&g=1", "display_name": "vigilancer", "link": "https://stackoverflow.com/users/4594990/vigilancer"}, "reply_to_user": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "edited": false, "score": 0, "creation_date": 1453603026, "post_id": 34971416, "comment_id": 57673038, "body": "<code>call</code> per se returns Unit, but <code>{ (view.adapter as GroupRecyclerViewAdapter).call(it) }</code> is a lambda"}, {"owner": {"reputation": 1276, "user_id": 4594990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oMg6W.jpg?s=128&g=1", "display_name": "vigilancer", "link": "https://stackoverflow.com/users/4594990/vigilancer"}, "reply_to_user": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "edited": false, "score": 0, "creation_date": 1453603087, "post_id": 34971416, "comment_id": 57673045, "body": "<code>isn&#39;t compiled</code> says nothing"}, {"owner": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "edited": false, "score": 0, "creation_date": 1453603934, "post_id": 34971416, "comment_id": 57673211, "body": "But my <code>GroupRecyclerViewAdapter</code> works fine. I&#39;m sorry but the thing is I&#39;m trying to pass some value in <code>call</code> (<code>onNext</code>). I don&#39;t think your edit really answers my question."}, {"owner": {"reputation": 1276, "user_id": 4594990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oMg6W.jpg?s=128&g=1", "display_name": "vigilancer", "link": "https://stackoverflow.com/users/4594990/vigilancer"}, "reply_to_user": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "edited": false, "score": 0, "creation_date": 1453604363, "post_id": 34971416, "comment_id": 57673299, "body": "because your question makes no sense. you are not specifying type of lambda, but type of arguments you passing to <code>.subscribe()</code>.  Since you are confused with lambda syntax I&#39;m correcting you that you cannot pass Action <i>and</i> lamba as arguments, you must choose one."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 2, "creation_date": 1453616900, "post_id": 34971416, "comment_id": 57675482, "body": "Hey guys, did it work or didn&#39;t? And where the rule of not using SAM with lambdas has come from? Never heard of that."}, {"owner": {"reputation": 1276, "user_id": 4594990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oMg6W.jpg?s=128&g=1", "display_name": "vigilancer", "link": "https://stackoverflow.com/users/4594990/vigilancer"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1453643483, "post_id": 34971416, "comment_id": 57682527, "body": "@voddan not aware if there is an explicit rule for that. but provided code in snippets works. and mixing Actions with lambdas gives syntax error."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "edited": false, "score": 0, "creation_date": 1453646970, "post_id": 34971416, "comment_id": 57683637, "body": "@EntryLevelDev based on the conversation, this is a bug of the compiler. Please fill an issue at <a href=\"https://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/KT</a>"}, {"owner": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1453647403, "post_id": 34971416, "comment_id": 57683799, "body": "@voddan I am not sure I understand this enough to file the issue. I still don&#39;t quite understand how Kotlin compiler infer type in this case. i&#39;ll do some research and might file an issue later."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "edited": false, "score": 0, "creation_date": 1453662953, "post_id": 34971416, "comment_id": 57689512, "body": "@EntryLevelDev information in your question is more than enough for a bug ticket. Note: it is better for an issue to be filed by the one who found the problem because developers may need some additional info about your project, environment, etc."}, {"owner": {"reputation": 1276, "user_id": 4594990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oMg6W.jpg?s=128&g=1", "display_name": "vigilancer", "link": "https://stackoverflow.com/users/4594990/vigilancer"}, "reply_to_user": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "edited": false, "score": 0, "creation_date": 1453683913, "post_id": 34971416, "comment_id": 57696306, "body": "@EntryLevelDev please provide  link to created issue, I&#39;ll vote it up. experiencing same behaviour. or if you are don&#39;t mind I can create one."}, {"owner": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "edited": false, "score": 0, "creation_date": 1453684381, "post_id": 34971416, "comment_id": 57696430, "body": "@AndreyElizarov actually, please go ahead creating the issue if you&#39;d like."}, {"owner": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "edited": false, "score": 0, "creation_date": 1453684606, "post_id": 34971416, "comment_id": 57696484, "body": "@AndreyElizarov do you mind elaborate more why extending adapter with Action is poor design choice? I&#39;m following <a href=\"https://github.com/JakeWharton/u2020\" rel=\"nofollow noreferrer\">github.com/JakeWharton/u2020</a> and I think it&#39;s a pretty good idea."}, {"owner": {"reputation": 1276, "user_id": 4594990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oMg6W.jpg?s=128&g=1", "display_name": "vigilancer", "link": "https://stackoverflow.com/users/4594990/vigilancer"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1453684849, "post_id": 34971416, "comment_id": 57696532, "body": "@voddan just to be clear, bug here is that one cannot mix SAMs with lambdas in arguments of function which expects only SAMS?"}, {"owner": {"reputation": 1276, "user_id": 4594990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oMg6W.jpg?s=128&g=1", "display_name": "vigilancer", "link": "https://stackoverflow.com/users/4594990/vigilancer"}, "reply_to_user": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "edited": false, "score": 0, "creation_date": 1453685079, "post_id": 34971416, "comment_id": 57696566, "body": "@EntryLevelDev could you point out specific files where did you get idea from? (@AndreyElizarov - me, forgot to change nick)"}, {"owner": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "edited": false, "score": 0, "creation_date": 1453685334, "post_id": 34971416, "comment_id": 57696612, "body": "@vigilancer <a href=\"https://github.com/JakeWharton/u2020/blob/90610dd9d12a2c7b9885aae4261339ed0d9a1a5f/src/main/java/com/jakewharton/u2020/ui/trending/TrendingAdapter.java\" rel=\"nofollow noreferrer\">github.com/JakeWharton/u2020/blob/&hellip;</a> I think making the Adapter as a &quot;sink&quot; and letting it auto update a view when data changes is pretty neat. that&#39;s the point of using Rx, right?"}, {"owner": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "reply_to_user": {"reputation": 1276, "user_id": 4594990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oMg6W.jpg?s=128&g=1", "display_name": "vigilancer", "link": "https://stackoverflow.com/users/4594990/vigilancer"}, "edited": false, "score": 0, "creation_date": 1453685529, "post_id": 34971416, "comment_id": 57696652, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/101543/discussion-between-entryleveldev-and-vigilancer\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 1276, "user_id": 4594990, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oMg6W.jpg?s=128&g=1", "display_name": "vigilancer", "link": "https://stackoverflow.com/users/4594990/vigilancer"}, "is_accepted": true, "score": 11, "last_activity_date": 1453717954, "last_edit_date": 1453717954, "creation_date": 1453601164, "answer_id": 34971416, "question_id": 34966999, "link": "https://stackoverflow.com/questions/34966999/kotlin-lambda-syntax-confusion/34971416#34971416", "title": "Kotlin lambda syntax confusion", "body": "<p><code>view.adapter as GroupRecyclerViewAdapter</code> part should be lambda func, not Action, since onError and onComplete also lambdas</p>\n\n<p>so, to fix this try:</p>\n\n<pre><code>.subscribe(\n          { (view.adapter as GroupRecyclerViewAdapter).call(it) }\n          , { println(it.message) }\n          , { println(\"completed\") }\n      )\n</code></pre>\n\n<p>with your names (replace <code>Unit</code> with your type)</p>\n\n<pre><code>class GroupRecyclerViewAdapter : Action1&lt;Unit&gt; {\n    override fun call(t: Unit?) {\n        print (\"onNext\")\n    }\n}\n</code></pre>\n\n<p>with lambdas</p>\n\n<pre><code>val ga = GroupRecyclerViewAdapter()\n...subscribe(\n    { result -&gt; ga.call(result) },\n    { error -&gt; print (\"error $error\") },\n    { print (\"completed\") })\n</code></pre>\n\n<p>with actions</p>\n\n<pre><code>...subscribe(\n    ga,\n    Action1{ error -&gt; print (\"error $error\") },\n    Action0{ print (\"completed\") })\n</code></pre>\n\n<p>pick one</p>\n"}, {"comments": [{"owner": {"reputation": 9688, "user_id": 1402641, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/befad7c8ccbe09dc47c507242d3744cd?s=128&d=identicon&r=PG", "display_name": "Marcin Kozi\u0144ski", "link": "https://stackoverflow.com/users/1402641/marcin-kozi%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1464128491, "post_id": 34992755, "comment_id": 62354853, "body": "Would be nice to mix and match though!"}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": false, "score": 2, "last_activity_date": 1453731598, "last_edit_date": 1453731598, "creation_date": 1453725291, "answer_id": 34992755, "question_id": 34966999, "link": "https://stackoverflow.com/questions/34966999/kotlin-lambda-syntax-confusion/34992755#34992755", "title": "Kotlin lambda syntax confusion", "body": "<p>You have two versions of the <code>subscribe</code> method to choose from:</p>\n\n<ul>\n<li>The first (the real one) has the signature\n<code>subscribe(Action1&lt;ArrayList&lt;Group&gt;&gt;, Action1&lt;Throwable&gt;, Action0)</code>.</li>\n<li>The second version is generated by the Kotlin compiler and has the\nsignature <code>subscribe((ArrayList&lt;Group&gt;&gt;) -&gt; Unit, (Throwable) -&gt; Unit, () -&gt; Unit)</code></li>\n</ul>\n\n<p>In your code, however, you pass the following parameter types:</p>\n\n<pre><code>subscribe(\n    view.adapter as GroupRecyclerViewAdapter, // Action1&lt;Throwable&gt;\n    { println(it.message) },  // (Throwable) -&gt; Unit\n    { println(\"completed\") } // () -&gt; Unit\n)\n</code></pre>\n\n<p>As you can see, these parameter types satisfy none of the available signatures. The other answer gives you some solutions to your problem. In addition, you can make <code>GroupRecyclerViewAdapter</code> implement the functional type <code>Function1&lt;ArrayList&lt;Group&gt;, Unit&gt;</code> (they're interfaces, too) instead of <code>Action1&lt;ArrayList&lt;Group&gt;&gt;</code>.</p>\n"}], "owner": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4539, "favorite_count": 2, "accepted_answer_id": 34971416, "answer_count": 2, "score": 13, "last_activity_date": 1453731598, "creation_date": 1453572899, "last_edit_date": 1453674888, "question_id": 34966999, "link": "https://stackoverflow.com/questions/34966999/kotlin-lambda-syntax-confusion", "title": "Kotlin lambda syntax confusion", "body": "<p>I'm confused by Kotlin lambda syntax. </p>\n\n<p>At first, I have</p>\n\n<pre><code>.subscribe(\n          { println(it) }\n          , { println(it.message) }\n          , { println(\"completed\") }\n      )\n</code></pre>\n\n<p><strong>which works fine</strong>.</p>\n\n<p>Then I moved the onNext to another class called GroupRecyclerViewAdapter which implements <code>Action1&lt;ArrayList&lt;Group&gt;&gt;</code>. </p>\n\n<pre><code>.subscribe(\n          view.adapter as GroupRecyclerViewAdapter\n          , { println(it.message) }\n          , { println(\"completed\") }\n      )\n</code></pre>\n\n<p>However, I got the error:</p>\n\n<p><a href=\"https://i.stack.imgur.com/0GAwv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0GAwv.png\" alt=\"error\"></a></p>\n\n<pre><code>Error:(42, 17) Type mismatch: inferred type is () -&gt; ??? but rx.functions.Action1&lt;kotlin.Throwable!&gt;! was expected\nError:(42, 27) Unresolved reference: it\nError:(43, 17) Type mismatch: inferred type is () -&gt; kotlin.Unit but rx.functions.Action0! was expected\n</code></pre>\n\n<p>I can fix the error by changing to:</p>\n\n<pre><code>.subscribe(\n          view.adapter as GroupRecyclerViewAdapter\n          , Action1&lt;kotlin.Throwable&gt; { println(it.message) }\n          , Action0 { println(\"completed\") }\n      )\n</code></pre>\n\n<p><strong>Is there a way to write the lambda without specifying a type?</strong> (<code>Action1&lt;kotlin.Throwable&gt;</code>, <code>Action0</code>) </p>\n\n<p><a href=\"https://github.com/ReactiveX/RxJava/blob/1.x/src/main/java/rx/Observable.java\" rel=\"noreferrer\">Note: subscribe is RxJava method</a></p>\n\n<p><strong>Edit 1</strong></p>\n\n<pre><code>class GroupRecyclerViewAdapter(private val groups: MutableList&lt;Group&gt;,\n                           private val listener: OnListFragmentInteractionListener?) :\nRecyclerView.Adapter&lt;GroupRecyclerViewAdapter.ViewHolder&gt;(), Action1&lt;ArrayList&lt;Group&gt;&gt; {\n</code></pre>\n"}, {"tags": ["android-studio", "syntax-highlighting", "kotlin"], "comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 4, "creation_date": 1453567281, "post_id": 34963949, "comment_id": 57662319, "body": "Just a hint, you don&#39;t need that semicolon."}, {"owner": {"reputation": 8927, "user_id": 2767703, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/nj9nV.png?s=128&g=1", "display_name": "Kevin van Mierlo", "link": "https://stackoverflow.com/users/2767703/kevin-van-mierlo"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 2, "creation_date": 1453567901, "post_id": 34963949, "comment_id": 57662519, "body": "@KirillRakhman I know, but I&#39;m used to it and do it automatically ;)."}, {"owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "edited": false, "score": 0, "creation_date": 1486982163, "post_id": 34963949, "comment_id": 71565246, "body": "what does <code>Value captured in a closure</code> mean? I have this message in a <code>.filter {}</code> and .map {}` - the variable in those is <i>underlined</i>"}, {"owner": {"reputation": 8927, "user_id": 2767703, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/nj9nV.png?s=128&g=1", "display_name": "Kevin van Mierlo", "link": "https://stackoverflow.com/users/2767703/kevin-van-mierlo"}, "reply_to_user": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "edited": false, "score": 1, "creation_date": 1486982732, "post_id": 34963949, "comment_id": 71565629, "body": "@ycomp You can read about it here: <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#closures\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/lambdas.html#closures</a>. It basically means that you&#39;ve defined a variable outside the lambda function and using it in the lambda function."}, {"owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "edited": false, "score": 0, "creation_date": 1486983610, "post_id": 34963949, "comment_id": 71566135, "body": "@KevinvanMierlo thanks, googling that phrase brings up nothing useful - but now with the link and your explanation it all makes sense."}], "answers": [{"comments": [{"owner": {"reputation": 8927, "user_id": 2767703, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/nj9nV.png?s=128&g=1", "display_name": "Kevin van Mierlo", "link": "https://stackoverflow.com/users/2767703/kevin-van-mierlo"}, "edited": false, "score": 1, "creation_date": 1453559236, "post_id": 34964282, "comment_id": 57659707, "body": "Thank you so much!! I knew that was there, but I tried changing the property with backing field. But I needed this one. This is so much better!"}, {"owner": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "reply_to_user": {"reputation": 8927, "user_id": 2767703, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/nj9nV.png?s=128&g=1", "display_name": "Kevin van Mierlo", "link": "https://stackoverflow.com/users/2767703/kevin-van-mierlo"}, "edited": false, "score": 1, "creation_date": 1453559340, "post_id": 34964282, "comment_id": 57659744, "body": "@KevinvanMierlo welcome! It took me sometime to find this when I started using Kotlin too."}, {"owner": {"reputation": 4601, "user_id": 680583, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a00127568b70da5b09210c50b0504042?s=128&d=identicon&r=PG", "display_name": "rmirabelle", "link": "https://stackoverflow.com/users/680583/rmirabelle"}, "edited": false, "score": 3, "creation_date": 1464284709, "post_id": 34964282, "comment_id": 62434050, "body": "As of Kotlin plugin 1.0.2, this setting has been moved under the <code>Properties and Variables</code> subsection"}], "tags": [], "owner": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "is_accepted": true, "score": 72, "last_activity_date": 1554706221, "last_edit_date": 1554706221, "creation_date": 1453557075, "answer_id": 34964282, "question_id": 34963949, "link": "https://stackoverflow.com/questions/34963949/kotlin-why-are-most-variables-underlined-in-android-studio-and-how-do-i-turn-th/34964282#34964282", "title": "Kotlin: Why are most variables underlined in Android Studio and how do I turn that off?", "body": "<p>It's just Editor Preferences.</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>This is moved to </p>\n\n<pre><code>Preferences -&gt; Editor -&gt; Colors &amp; Fonts -&gt; Kotlin -&gt; Properties and Variables\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/5AyzA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5AyzA.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thanks rmirabelle for the comment</p>\n\n<p>For the old plugin, you can go to </p>\n\n<pre><code>Preferences -&gt; Editor -&gt; Colors &amp; Fonts -&gt; Kotlin\n</code></pre>\n\n<p>Then find <code>Var (mutable variable, parameter or property)</code> and remove Underscored effect.</p>\n\n<p>I guess they just try to discourage using <code>var</code> by adding the annoying underscored. :P</p>\n\n<p><a href=\"https://i.stack.imgur.com/mtghs.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mtghs.png\" alt=\"old plugin\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 28701, "user_id": 3302026, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/POH5C.jpg?s=128&g=1", "display_name": "Hrishikesh Kadam", "link": "https://stackoverflow.com/users/3302026/hrishikesh-kadam"}, "is_accepted": false, "score": 3, "last_activity_date": 1554706273, "creation_date": 1554706273, "answer_id": 55567691, "question_id": 34963949, "link": "https://stackoverflow.com/questions/34963949/kotlin-why-are-most-variables-underlined-in-android-studio-and-how-do-i-turn-th/55567691#55567691", "title": "Kotlin: Why are most variables underlined in Android Studio and how do I turn that off?", "body": "<p>In Android Studio 3.1.2 this has been moved to - </p>\n\n<p><code>Settings &gt; Editor &gt; Color Scheme &gt; Kotlin</code></p>\n\n<p><a href=\"https://i.stack.imgur.com/2qWVB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2qWVB.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 8927, "user_id": 2767703, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/nj9nV.png?s=128&g=1", "display_name": "Kevin van Mierlo", "link": "https://stackoverflow.com/users/2767703/kevin-van-mierlo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10155, "favorite_count": 6, "accepted_answer_id": 34964282, "answer_count": 2, "score": 53, "last_activity_date": 1554706273, "creation_date": 1453555222, "question_id": 34963949, "link": "https://stackoverflow.com/questions/34963949/kotlin-why-are-most-variables-underlined-in-android-studio-and-how-do-i-turn-th", "title": "Kotlin: Why are most variables underlined in Android Studio and how do I turn that off?", "body": "<p>I wanted to know why most variables in Kotlin are underlined. Some files contain a lot of underlining which is very annoying. If I hover my mouse over a variable it doesn't give any information most of the time. But on some it says \"This property has a backing field\" or \"Value captured in a closure\". Does anybody know how to disable those underlines? Here is a screenshot with what I mean:\n<a href=\"https://i.stack.imgur.com/qUQMI.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qUQMI.png\" alt=\"enter image description here\"></a></p>\n\n<p>And realm is then underlined throughout the entire file.</p>\n"}, {"tags": ["java", "kotlin", "code-conversion"], "comments": [{"owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "edited": false, "score": 12, "creation_date": 1453505850, "post_id": 34957430, "comment_id": 57647160, "body": "I&#39;m pretty sure no automated tool has been built for this yet. You can build it first!"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 8, "creation_date": 1453536480, "post_id": 34957430, "comment_id": 57653005, "body": "It&#39;s very likely that you will end up with an ugly and unmaintainable Java class which won&#39;t run if you don&#39;t have the Kotlin standard library in the classpath. What&#39;s the point?"}, {"owner": {"reputation": 14508, "user_id": 751581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6f8add1e3f8e4437fc89f08172de3c2d?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/751581/patrick"}, "edited": false, "score": 3, "creation_date": 1459536267, "post_id": 34957430, "comment_id": 60346659, "body": "Consider the j2objC translator.  Would be great if you could do kotlin -&gt; Java -&gt; objC"}, {"owner": {"reputation": 9051, "user_id": 4433326, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-0eT2bjizzRQ/AAAAAAAAAAI/AAAAAAAA6WQ/O6mD60Yyahc/photo.jpg?sz=128", "display_name": "Louis CAD", "link": "https://stackoverflow.com/users/4433326/louis-cad"}, "reply_to_user": {"reputation": 14508, "user_id": 751581, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6f8add1e3f8e4437fc89f08172de3c2d?s=128&d=identicon&r=PG", "display_name": "Patrick", "link": "https://stackoverflow.com/users/751581/patrick"}, "edited": false, "score": 1, "creation_date": 1511448110, "post_id": 34957430, "comment_id": 81870491, "body": "@Patrick Kotlin/Native now supports interop with Objective-C and multi platform projects, so you can share code now ;)"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 3, "creation_date": 1526411534, "post_id": 34957430, "comment_id": 87731739, "body": "The goal of the &quot;Decompile&quot; button is to help people understand how the Kotlin compilation works. The Java code it generates is not intended for use as actual production code (and is quite poorly suited for that - to begin with, it does not always compile...)"}, {"owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "edited": false, "score": 0, "creation_date": 1538126556, "post_id": 34957430, "comment_id": 92043138, "body": "<code>Decompile Kotlin to Java</code> is currently enabled only for <a href=\"https://stackoverflow.com/a/52462123/3290339\">compiled Kotlin classes</a>."}, {"owner": {"reputation": 7884, "user_id": 543873, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55576366e4295fb7840a319399d53f57?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/543873/michael"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 2, "creation_date": 1547837519, "post_id": 34957430, "comment_id": 95343817, "body": "@yole how about for somebody who doesn&#39;t know Kotlin or have time to learn it and has got some sample code in that language which has some functionality they need to understand to get their Java code to work?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 7884, "user_id": 543873, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55576366e4295fb7840a319399d53f57?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/543873/michael"}, "edited": false, "score": 1, "creation_date": 1548059770, "post_id": 34957430, "comment_id": 95393087, "body": "@Michael As you can imagine, the goal of the Kotlin team is not to help people avoid learning Kotlin. Learning enough to understand what a code sample does will not take you long."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1561627899, "post_id": 34957430, "comment_id": 100130251, "body": "We have to convert Kotlin to Java in order to read crash-log, see <a href=\"https://stackoverflow.com/questions/52969958/kotlin-code-stack-trace-shows-java-line-numbers\" title=\"kotlin code stack trace shows java line numbers\">stackoverflow.com/questions/52969958/&hellip;</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1254, "user_id": 3362350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4500858d24434055bd01b57bdc734f?s=128&d=identicon&r=PG", "display_name": "Jacob Zimmerman", "link": "https://stackoverflow.com/users/3362350/jacob-zimmerman"}, "edited": false, "score": 2, "creation_date": 1453568638, "post_id": 34960466, "comment_id": 57662782, "body": "As a side note, be aware that generics in generated code can cause compiler warnings, since Kotlin allows some things that the java compiler doesn&#39;t. It still works in byte code, though."}, {"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "edited": false, "score": 0, "creation_date": 1453628171, "post_id": 34960466, "comment_id": 57677938, "body": "@voddan I think he&#39;s referring to reified generics, which aren&#39;t a possibility in pure Java."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "edited": false, "score": 1, "creation_date": 1453628731, "post_id": 34960466, "comment_id": 57678096, "body": "@Jire reified generics are always inlined, so from Java they look like normal class references"}, {"owner": {"reputation": 1254, "user_id": 3362350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4500858d24434055bd01b57bdc734f?s=128&d=identicon&r=PG", "display_name": "Jacob Zimmerman", "link": "https://stackoverflow.com/users/3362350/jacob-zimmerman"}, "edited": false, "score": 3, "creation_date": 1453689003, "post_id": 34960466, "comment_id": 57697397, "body": "This is what I&#39;m talking about <a href=\"http://stackoverflow.com/questions/34762029/getting-incompatible-types-error-when-using-code-generated-from-a-kotlin-data\" title=\"getting incompatible types error when using code generated from a kotlin data\">stackoverflow.com/questions/34762029/&hellip;</a>"}, {"owner": {"reputation": 21048, "user_id": 603516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/40895ef337d0a2eb7d538f5f8b3e6d58?s=128&d=identicon&r=PG", "display_name": "Vadzim", "link": "https://stackoverflow.com/users/603516/vadzim"}, "edited": false, "score": 4, "creation_date": 1469273804, "post_id": 34960466, "comment_id": 64475042, "body": "IntelliJ IDEA 2016.2: Menu / Tools / Kotlin / Show Kotlin Bytecode, then click Decompile button"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 40, "last_activity_date": 1557066425, "last_edit_date": 1557066425, "creation_date": 1453531184, "answer_id": 34960466, "question_id": 34957430, "link": "https://stackoverflow.com/questions/34957430/how-to-convert-a-kotlin-source-file-to-a-java-source-file/34960466#34960466", "title": "How to convert a Kotlin source file to a Java source file", "body": "<p>You can compile Kotlin to bytecode, then use a Java disassembler. </p>\n\n<p>The decompiling may be done inside IntelliJ Idea, or using FernFlower <a href=\"https://github.com/fesh0r/fernflower\" rel=\"nofollow noreferrer\">https://github.com/fesh0r/fernflower</a> (thanks @Jire)</p>\n\n<p>There was no automated tool as I checked a couple months ago (and no plans for one AFAIK)</p>\n"}, {"comments": [{"owner": {"reputation": 75804, "user_id": 632951, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/77f196f4d3b4b89fc179071f3aa21e1e?s=128&d=identicon&r=PG", "display_name": "Pacerier", "link": "https://stackoverflow.com/users/632951/pacerier"}, "edited": false, "score": 67, "creation_date": 1497684680, "post_id": 40762755, "comment_id": 76191522, "body": "Is the Java output not ugly?"}, {"owner": {"reputation": 9051, "user_id": 4433326, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-0eT2bjizzRQ/AAAAAAAAAAI/AAAAAAAA6WQ/O6mD60Yyahc/photo.jpg?sz=128", "display_name": "Louis CAD", "link": "https://stackoverflow.com/users/4433326/louis-cad"}, "reply_to_user": {"reputation": 75804, "user_id": 632951, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/77f196f4d3b4b89fc179071f3aa21e1e?s=128&d=identicon&r=PG", "display_name": "Pacerier", "link": "https://stackoverflow.com/users/632951/pacerier"}, "edited": false, "score": 23, "creation_date": 1497702462, "post_id": 40762755, "comment_id": 76196277, "body": "@Pacerier Just like most decompiling outputs, it is, of course"}, {"owner": {"reputation": 877, "user_id": 4821148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bOZSR.png?s=128&g=1", "display_name": "Nauman Ash", "link": "https://stackoverflow.com/users/4821148/nauman-ash"}, "edited": false, "score": 5, "creation_date": 1500547359, "post_id": 40762755, "comment_id": 77390646, "body": "converted from kotlin to java. But its showing extra code. the code that i even never wrote or heard"}, {"owner": {"reputation": 9051, "user_id": 4433326, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-0eT2bjizzRQ/AAAAAAAAAAI/AAAAAAAA6WQ/O6mD60Yyahc/photo.jpg?sz=128", "display_name": "Louis CAD", "link": "https://stackoverflow.com/users/4433326/louis-cad"}, "reply_to_user": {"reputation": 877, "user_id": 4821148, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bOZSR.png?s=128&g=1", "display_name": "Nauman Ash", "link": "https://stackoverflow.com/users/4821148/nauman-ash"}, "edited": false, "score": 4, "creation_date": 1500561917, "post_id": 40762755, "comment_id": 77402446, "body": "@nauman Because you wrote Kotlin code, not Java. Kotlin features rely on bytecode, and doesn&#39;t necessarily translates to Java like you would expect. There&#39;s also extra checks, for nullability primarily, and synthetic methods and fields."}, {"owner": {"reputation": 651, "user_id": 4075178, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d8b82a00ee0563cbb139427df4f2a3d2?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas Pandey", "link": "https://stackoverflow.com/users/4075178/vikas-pandey"}, "edited": false, "score": 29, "creation_date": 1531375653, "post_id": 40762755, "comment_id": 89573752, "body": "that option is not enabled, it is coloured grey. How do i enable it."}, {"owner": {"reputation": 15397, "user_id": 3290339, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CMy5l.jpg?s=128&g=1", "display_name": "Onik", "link": "https://stackoverflow.com/users/3290339/onik"}, "reply_to_user": {"reputation": 651, "user_id": 4075178, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/d8b82a00ee0563cbb139427df4f2a3d2?s=128&d=identicon&r=PG&f=1", "display_name": "Vikas Pandey", "link": "https://stackoverflow.com/users/4075178/vikas-pandey"}, "edited": false, "score": 13, "creation_date": 1538142911, "post_id": 40762755, "comment_id": 92052358, "body": "@VikasPandey, <code>Decompile Kotlin to Java</code> is currently enabled only for <a href=\"https://stackoverflow.com/a/52462123/3290339\">compiled Kotlin classes</a>."}], "tags": [], "owner": {"reputation": 9051, "user_id": 4433326, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-0eT2bjizzRQ/AAAAAAAAAAI/AAAAAAAA6WQ/O6mD60Yyahc/photo.jpg?sz=128", "display_name": "Louis CAD", "link": "https://stackoverflow.com/users/4433326/louis-cad"}, "is_accepted": true, "score": 461, "last_activity_date": 1533547046, "last_edit_date": 1533547046, "creation_date": 1479899204, "answer_id": 40762755, "question_id": 34957430, "link": "https://stackoverflow.com/questions/34957430/how-to-convert-a-kotlin-source-file-to-a-java-source-file/40762755#40762755", "title": "How to convert a Kotlin source file to a Java source file", "body": "<p>As @Vadzim said, in IntelliJ or Android Studio, you just have to do the following to get java code from kotlin:</p>\n\n<ol>\n<li><code>Menu &gt; Tools &gt; Kotlin &gt; Show Kotlin Bytecode</code></li>\n<li>Click on the <code>Decompile</code> button</li>\n<li>Copy the java code</li>\n</ol>\n\n<p><strong>Update:</strong></p>\n\n<p>With a recent version (1.2+) of the Kotlin plugin you also can directly do <code>Menu &gt; Tools &gt; Kotlin -&gt; Decompile Kotlin to Java</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 2775, "user_id": 2102748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2a1adcb8ed924ecd1045fd6252a7df18?s=128&d=identicon&r=PG", "display_name": "milosmns", "link": "https://stackoverflow.com/users/2102748/milosmns"}, "edited": false, "score": 0, "creation_date": 1568550458, "post_id": 49775895, "comment_id": 102302058, "body": "Good one, it&#39;s available through Homebrew: <code>brew install jadx</code>"}], "tags": [], "owner": {"reputation": 442, "user_id": 3134602, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba64d1277dea29414fb2723ec3286999?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/3134602/alex"}, "is_accepted": false, "score": 5, "last_activity_date": 1523452130, "last_edit_date": 1523452130, "creation_date": 1523451812, "answer_id": 49775895, "question_id": 34957430, "link": "https://stackoverflow.com/questions/34957430/how-to-convert-a-kotlin-source-file-to-a-java-source-file/49775895#49775895", "title": "How to convert a Kotlin source file to a Java source file", "body": "<p>As @louis-cad mentioned \"Kotlin source -> Java's byte code -> Java source\" is the only solution so far.</p>\n\n<p>But I would like to mention the way, which I prefer: using <a href=\"https://github.com/skylot/jadx\" rel=\"noreferrer\">Jadx decompiler for Android</a>.</p>\n\n<p>It allows to see the generates code for <em>closures</em> and, as for me, resulting code is \"cleaner\" then one from IntelliJ IDEA decompiler.</p>\n\n<p>Normally when I need to see Java source code of any Kotlin class I do: </p>\n\n<ul>\n<li>Generate apk: <code>./gradlew assembleDebug</code></li>\n<li>Open apk using Jadx GUI: <code>jadx-gui ./app/build/outputs/apk/debug/app-debug.apk</code></li>\n</ul>\n\n<p>In this GUI basic IDE functionality works: class search, click to go declaration. etc.</p>\n\n<p>Also all the source code could be saved and then viewed using other tools like IntelliJ IDEA.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8961393"}, "is_accepted": false, "score": 3, "last_activity_date": 1525517649, "creation_date": 1525517649, "answer_id": 50188653, "question_id": 34957430, "link": "https://stackoverflow.com/questions/34957430/how-to-convert-a-kotlin-source-file-to-a-java-source-file/50188653#50188653", "title": "How to convert a Kotlin source file to a Java source file", "body": "<ol>\n<li>open kotlin file in android studio</li>\n<li>go to tools -> kotlin ->kotlin bytecode </li>\n<li>in the new window that open beside your kotlin file , click the decompile button . it will create java equivalent of your kotlin file .</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 2546, "user_id": 2477084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b306fbe92f324ae9717c03ec7651116?s=128&d=identicon&r=PG", "display_name": "Tomas Bjerre", "link": "https://stackoverflow.com/users/2477084/tomas-bjerre"}, "is_accepted": false, "score": 9, "last_activity_date": 1534839407, "creation_date": 1534839407, "answer_id": 51944433, "question_id": 34957430, "link": "https://stackoverflow.com/questions/34957430/how-to-convert-a-kotlin-source-file-to-a-java-source-file/51944433#51944433", "title": "How to convert a Kotlin source file to a Java source file", "body": "<p>I compile Kotlin to byte code and then de-compile that to Java. I compile with the Kotlin compiler and de-compile with <a href=\"http://www.benf.org/other/cfr/\" rel=\"noreferrer\">cfr</a>.</p>\n\n<p>My project is <a href=\"https://github.com/tomasbjerre/yet-another-kotlin-vs-java-comparison\" rel=\"noreferrer\">here</a>.</p>\n\n<p>This allows me to compile this:</p>\n\n<pre><code>package functionsiiiandiiilambdas.functions.p01tailiiirecursive\n\ntailrec fun findFixPoint(x: Double = 1.0): Double =\n        if (x == Math.cos(x)) x else findFixPoint(Math.cos(x))\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>package functionsiiiandiiilambdas.functions.p01tailiiirecursive;\n\npublic final class ExampleKt {\n  public static final double findFixPoint(double x) {\n    while (x != Math.cos(x)) {\n      x = Math.cos(x);\n    }\n    return x;\n  }\n\n  public static /* bridge */ /* synthetic */ double findFixPoint$default(\n      double d, int n, Object object) {\n    if ((n &amp; 1) != 0) {\n      d = 1.0;\n    }\n    return ExampleKt.findFixPoint(d);\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1561648152, "post_id": 52983100, "comment_id": 100142608, "body": "Currently it is disabled. But you can use the answer of @ARGeo (<a href=\"https://stackoverflow.com/a/54116131/2914140\">stackoverflow.com/a/54116131/2914140</a>)."}], "tags": [], "owner": {"reputation": 5301, "user_id": 4797289, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52b438826818a6987f6b7239e3fffd1a?s=128&d=identicon&r=PG&f=1", "display_name": "Rasoul Miri", "link": "https://stackoverflow.com/users/4797289/rasoul-miri"}, "is_accepted": false, "score": 25, "last_activity_date": 1540450379, "creation_date": 1540450379, "answer_id": 52983100, "question_id": 34957430, "link": "https://stackoverflow.com/questions/34957430/how-to-convert-a-kotlin-source-file-to-a-java-source-file/52983100#52983100", "title": "How to convert a Kotlin source file to a Java source file", "body": "<p>you can go to <strong>Tools > Kotlin > Show kotlin bytecode</strong> </p>\n\n<p><a href=\"https://i.stack.imgur.com/TE1W8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TE1W8.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Y4eiv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Y4eiv.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Ebj05.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Ebj05.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 3, "creation_date": 1561628322, "post_id": 54116131, "comment_id": 100130516, "body": "Thank you, sir! This buggy AS again changed normal tools (Tools &gt; Kotlin &gt; ...)."}], "tags": [], "owner": {"reputation": 25953, "user_id": 6599590, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/qLSDJ.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/6599590/andy"}, "is_accepted": false, "score": 11, "last_activity_date": 1587620144, "last_edit_date": 1587620144, "creation_date": 1547057950, "answer_id": 54116131, "question_id": 34957430, "link": "https://stackoverflow.com/questions/34957430/how-to-convert-a-kotlin-source-file-to-a-java-source-file/54116131#54116131", "title": "How to convert a Kotlin source file to a Java source file", "body": "<blockquote>\n  <p>To convert a <code>Kotlin</code> source file to a <code>Java</code> source file you need to (when you in Android Studio):</p>\n</blockquote>\n\n<ol>\n<li><p>Press <kbd>Cmd</kbd>-<kbd>Shift</kbd>-<kbd>A</kbd> on a Mac,\nor press <kbd>Ctrl</kbd>-<kbd>Shift</kbd>-<kbd>A</kbd> on a Windows machine.</p></li>\n<li><p>Type the action you're looking for: <code>Kotlin Bytecode</code> and choose <code>Show Kotlin Bytecode</code> from menu.</p></li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/A0W49.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/A0W49.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"3\">\n<li>Press <code>Decompile</code> button on the top of <code>Kotlin Bytecode</code> panel.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/XozCm.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/XozCm.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"4\">\n<li>Now you get a Decompiled Java file along with Kotlin file in a adjacent tab:</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/Czo9Z.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Czo9Z.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 2604, "user_id": 6930719, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/hEGnv.png?s=128&g=1", "display_name": "Faxriddin Abdullayev", "link": "https://stackoverflow.com/users/6930719/faxriddin-abdullayev"}, "is_accepted": false, "score": 3, "last_activity_date": 1578118020, "creation_date": 1578118020, "answer_id": 59588373, "question_id": 34957430, "link": "https://stackoverflow.com/questions/34957430/how-to-convert-a-kotlin-source-file-to-a-java-source-file/59588373#59588373", "title": "How to convert a Kotlin source file to a Java source file", "body": "<p>Java and Kotlin runs on Java Virtual Machine (JVM).</p>\n\n<p>Converting a Kotlin file to Java file involves two steps i.e. compiling the Kotlin code to the JVM bytecode and then decompile the bytecode to the Java code.</p>\n\n<p>Steps to convert your Kotlin source file to Java source file:</p>\n\n<ol>\n<li>Open your Kotlin project in the Android Studio.</li>\n<li>Then navigate to Tools -> Kotlin -> Show Kotlin Bytecode.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/NStKu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NStKu.png\" alt=\"enter image description here\"></a></p>\n\n<ol start=\"3\">\n<li>You will get the bytecode of your Kotin file.</li>\n<li>Now click on the Decompile button to get your Java code from the bytecode</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 717, "user_id": 1816851, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cdcf23c8c934415f0cad605ea468e134?s=128&d=identicon&r=PG", "display_name": "stewSquared", "link": "https://stackoverflow.com/users/1816851/stewsquared"}, "edited": false, "score": 1, "creation_date": 1618498692, "post_id": 67109126, "comment_id": 118624317, "body": "This is a five year old question, and you gave literally the same answer five other people have already given."}], "tags": [], "owner": {"reputation": 7, "user_id": 15195547, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-d61s_IddNuc/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuck7riqrXlfcyLl2Kcq6rk5EMG53gg/s96-c/photo.jpg?sz=128", "display_name": "Priyanka Kota", "link": "https://stackoverflow.com/users/15195547/priyanka-kota"}, "is_accepted": false, "score": -1, "last_activity_date": 1618492255, "creation_date": 1618492255, "answer_id": 67109126, "question_id": 34957430, "link": "https://stackoverflow.com/questions/34957430/how-to-convert-a-kotlin-source-file-to-a-java-source-file/67109126#67109126", "title": "How to convert a Kotlin source file to a Java source file", "body": "<p>You can follow this steps to convert Kotlin to Java source</p>\n<p>1.Open your Kotlin project in the IntelliJ IDEA / Android Studio.</p>\n<p>2.Then navigate to Tools &gt; Kotlin &gt; Show Kotlin Bytecode.</p>\n<p>3.You will get the bytecode of your Kotin file.</p>\n<p>4.Now click on the Decompile button to get your Java code from the bytecode.</p>\n<p>If you want to know more. I did a Google search for you. I found several really tutorials out there. below link looks pretty darn on point.\n<a href=\"https://hkrtrainings.com/kotlin-tutorial\" rel=\"nofollow noreferrer\">https://hkrtrainings.com/kotlin-tutorial</a></p>\n"}], "owner": {"reputation": 8020, "user_id": 823282, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/xBNDh.png?s=128&g=1", "display_name": "activedecay", "link": "https://stackoverflow.com/users/823282/activedecay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 271298, "favorite_count": 64, "accepted_answer_id": 40762755, "answer_count": 9, "score": 443, "last_activity_date": 1618492255, "creation_date": 1453504034, "last_edit_date": 1587620189, "question_id": 34957430, "link": "https://stackoverflow.com/questions/34957430/how-to-convert-a-kotlin-source-file-to-a-java-source-file", "title": "How to convert a Kotlin source file to a Java source file", "body": "<p>I have a Kotlin source file, but I want to translate it to Java.</p>\n\n<p>How can I convert Kotlin to Java source?</p>\n"}, {"tags": ["database", "singleton", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 7, "last_activity_date": 1453500292, "creation_date": 1453500292, "answer_id": 34956722, "question_id": 34955647, "link": "https://stackoverflow.com/questions/34955647/kotlin-nested-object-classes/34956722#34956722", "title": "Kotlin Nested Object Classes", "body": "<p>The officially recommended way to create namespaces in Kotlin is to put properties and functions that don't need to be inside classes at the top level of the file, and to use the package statements to create a namespace hierarchy. We see the practice of creating utility classes in Java as a workaround for a deficiency in the language, and not as a good practice to be followed in other languages.</p>\n\n<p>In your example, I would put all of the code in top-level functions and properties.</p>\n"}, {"comments": [{"owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "edited": false, "score": 1, "creation_date": 1453903688, "post_id": 34966259, "comment_id": 57803367, "body": "that&#39;s right. unless you are dealing with a null function, in that case you have to use xxx?.invoke()"}], "tags": [], "owner": {"reputation": 1254, "user_id": 3362350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4500858d24434055bd01b57bdc734f?s=128&d=identicon&r=PG", "display_name": "Jacob Zimmerman", "link": "https://stackoverflow.com/users/3362350/jacob-zimmerman"}, "is_accepted": false, "score": 0, "last_activity_date": 1453568490, "creation_date": 1453568490, "answer_id": 34966259, "question_id": 34955647, "link": "https://stackoverflow.com/questions/34955647/kotlin-nested-object-classes/34966259#34966259", "title": "Kotlin Nested Object Classes", "body": "<p>I don't know about the rest of the code, but I do know that you don't have to call <code>.invoke ()</code> on <code>code</code>. The invoke method can always be shortened to a direct call, which in this case would be <code>code ()</code>.</p>\n"}], "owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1893, "favorite_count": 0, "accepted_answer_id": 34956722, "answer_count": 2, "score": 2, "last_activity_date": 1453568490, "creation_date": 1453495543, "question_id": 34955647, "link": "https://stackoverflow.com/questions/34955647/kotlin-nested-object-classes", "title": "Kotlin Nested Object Classes", "body": "<p>Ok so i'v been starting to learn kotlin for a week now, and i love the language:p\nBesides the great utility of extension function, i feel like they lack a proper way of creating namespaces like java utility classes (xxxUtil).</p>\n\n<p>I have recently starting to use this aproach, which im not sure is the right one, and i would like some feedback from Kotlin experienced users.</p>\n\n<p>Is this a valid and proper thing todo:</p>\n\n<pre><code>object RealmDb {\n\n   private val realmInstance by lazy{ Realm.getInstance(MainApplication.instance) }\n\n   private fun wrapInTransaction(code:() -&gt; Unit){\n       realmInstance.beginTransaction();\n       code.invoke()\n       realmInstance.commitTransaction();\n}\n   object NormaNote{\n      fun create(...) {...}\n      fun update(...) {...}\n   }\n}\n</code></pre>\n\n<p>So, whenever i want to update some NormalNote value to a Realm Database, i do the following:</p>\n\n<pre><code>RealmDb.NormaNote.create(title.text.toString(), note.text.toString())\n</code></pre>\n\n<p>Is this a common thing to do? Are there better approaches? As i understood, this is singleton nesting, i don't think there's any problem with this, i just don't like to put this common things like DB operations inside classes that need to be instantiated. In old java i opted to static classes</p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 12, "last_activity_date": 1453566475, "last_edit_date": 1453566475, "creation_date": 1453481693, "answer_id": 34952000, "question_id": 34951894, "link": "https://stackoverflow.com/questions/34951894/is-there-a-way-to-reference-the-java-class-for-a-kotlin-top-level-function/34952000#34952000", "title": "Is there a way to reference the Java class for a Kotlin top-level function?", "body": "<p>No, there is no syntax to reference that class. You can access it using Class.forName(). For example, if the file is called \"Hello.kt\" and is located in the package \"demo\", you can obtain the class by calling <code>Class.forName(\"demo.HelloKt\")</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "is_accepted": false, "score": 6, "last_activity_date": 1453482234, "creation_date": 1453482234, "answer_id": 34952185, "question_id": 34951894, "link": "https://stackoverflow.com/questions/34951894/is-there-a-way-to-reference-the-java-class-for-a-kotlin-top-level-function/34952185#34952185", "title": "Is there a way to reference the Java class for a Kotlin top-level function?", "body": "<p>In the absence of a way to get a reference directly, I've fallen back on creating an anonymous object in the current package</p>\n\n<pre><code>val myThing = object: Any() {}.javaClass.getResourceAsStream(...)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23433, "user_id": 1127485, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/e7eccba442d1ee3ca8e4ded89b343362?s=128&d=identicon&r=PG", "display_name": "sschuberth", "link": "https://stackoverflow.com/users/1127485/sschuberth"}, "is_accepted": false, "score": 1, "last_activity_date": 1499253018, "creation_date": 1499253018, "answer_id": 44924615, "question_id": 34951894, "link": "https://stackoverflow.com/questions/34951894/is-there-a-way-to-reference-the-java-class-for-a-kotlin-top-level-function/44924615#44924615", "title": "Is there a way to reference the Java class for a Kotlin top-level function?", "body": "<p>As linters like <a href=\"https://github.com/arturbosch/detekt\" rel=\"nofollow noreferrer\">detekt</a> would flag anonymous classes as <code>EmptyClassBlock</code> you could also use something like</p>\n\n<pre><code>internal object Resources\n\nfun resourceStream(name: String): InputStream {\n    return Resources.javaClass.getResourceAsStream(name)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "edited": false, "score": 0, "creation_date": 1503385378, "post_id": 45782816, "comment_id": 78579252, "body": "Are there any advantages to this over just getting the class of the anonymous object?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "edited": false, "score": 1, "creation_date": 1503396545, "post_id": 45782816, "comment_id": 78586923, "body": "In regards of loading the resources, no, there&#39;s not. But this is actually the way to get the top level class reflection, which one could need apart from resources."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 14, "last_activity_date": 1503706946, "last_edit_date": 1503706946, "creation_date": 1503236837, "answer_id": 45782816, "question_id": 34951894, "link": "https://stackoverflow.com/questions/34951894/is-there-a-way-to-reference-the-java-class-for-a-kotlin-top-level-function/45782816#45782816", "title": "Is there a way to reference the Java class for a Kotlin top-level function?", "body": "<p>Another way I found is to declare a local class or an anonymous object inside a top level function and to get its <code>enclosingClass</code>:</p>\n\n<pre><code>val topLevelClass = object : Any() {}.javaClass.enclosingClass\n</code></pre>\n\n<p><sup>Note: to work, this declaration should be placed on top level or inside a top-level function.</sup></p>\n\n<p>Then you can use the <code>topLevelClass</code> as a <code>Class&lt;out Any&gt;</code>:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(topLevelClass) // class MyFileNameKt\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2043, "user_id": 1117740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/102d6a1397a0fb8d85c5829fc5acb646?s=128&d=identicon&r=PG", "display_name": "Keldon Alleyne", "link": "https://stackoverflow.com/users/1117740/keldon-alleyne"}, "edited": false, "score": 0, "creation_date": 1510442369, "post_id": 47235611, "comment_id": 81438132, "body": "This is a question about Kotlin"}, {"owner": {"reputation": 121, "user_id": 7022754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ea8a3ba3845a2c7a23f754888fe6e92?s=128&d=identicon&r=PG&f=1", "display_name": "hunterwb", "link": "https://stackoverflow.com/users/7022754/hunterwb"}, "reply_to_user": {"reputation": 2043, "user_id": 1117740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/102d6a1397a0fb8d85c5829fc5acb646?s=128&d=identicon&r=PG", "display_name": "Keldon Alleyne", "link": "https://stackoverflow.com/users/1117740/keldon-alleyne"}, "edited": false, "score": 0, "creation_date": 1510484362, "post_id": 47235611, "comment_id": 81446052, "body": "That is valid Kotlin code. You can call Java from Kotlin. Which is why I mentioned top level (Kotlin) functions which is what this question is about."}, {"owner": {"reputation": 2043, "user_id": 1117740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/102d6a1397a0fb8d85c5829fc5acb646?s=128&d=identicon&r=PG", "display_name": "Keldon Alleyne", "link": "https://stackoverflow.com/users/1117740/keldon-alleyne"}, "edited": false, "score": 0, "creation_date": 1510849902, "post_id": 47235611, "comment_id": 81620749, "body": "Yes you are correct. Unfortunately SO won&#39;t let me upvote it unless an edit is made."}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1516643397, "post_id": 47235611, "comment_id": 83762369, "body": "Upvoted. The anonymous object approach seems like a hack."}], "tags": [], "owner": {"reputation": 121, "user_id": 7022754, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ea8a3ba3845a2c7a23f754888fe6e92?s=128&d=identicon&r=PG&f=1", "display_name": "hunterwb", "link": "https://stackoverflow.com/users/7022754/hunterwb"}, "is_accepted": false, "score": 10, "last_activity_date": 1510386072, "creation_date": 1510386072, "answer_id": 47235611, "question_id": 34951894, "link": "https://stackoverflow.com/questions/34951894/is-there-a-way-to-reference-the-java-class-for-a-kotlin-top-level-function/47235611#47235611", "title": "Is there a way to reference the Java class for a Kotlin top-level function?", "body": "<p>With Java 7 you can get a reference to the current Java class from a top level function using </p>\n\n<pre><code>MethodHandles.lookup().lookupClass()\n</code></pre>\n"}], "owner": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2473, "favorite_count": 4, "accepted_answer_id": 45782816, "answer_count": 5, "score": 20, "last_activity_date": 1510386072, "creation_date": 1453481394, "last_edit_date": 1453482249, "question_id": 34951894, "link": "https://stackoverflow.com/questions/34951894/is-there-a-way-to-reference-the-java-class-for-a-kotlin-top-level-function", "title": "Is there a way to reference the Java class for a Kotlin top-level function?", "body": "<p>I want to load a resource in a top level function using <code>Class.getResourceAsStream()</code>.</p>\n\n<p>Is there any way to get a reference to the class that the top level function will be compiled into so that I can write, for example</p>\n\n<pre><code>val myThing = readFromStream(MYCLASS.getResourceAsStream(...))\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger"], "comments": [{"owner": {"reputation": 11402, "user_id": 4600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CY4os.jpg?s=128&g=1", "display_name": "marcospereira", "link": "https://stackoverflow.com/users/4600/marcospereira"}, "edited": false, "score": 0, "creation_date": 1453512421, "post_id": 34950111, "comment_id": 57648695, "body": "Can you post the whole error/warning and also the code related to it?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 4, "creation_date": 1453674382, "post_id": 34950111, "comment_id": 57693656, "body": "The question needs more detail.  You basically wrote a google query as a question."}, {"owner": {"reputation": 3175, "user_id": 1277555, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/71b4edb678001f55b47bdde0741a0ff5?s=128&d=identicon&r=PG", "display_name": "F&#225;bio Carballo", "link": "https://stackoverflow.com/users/1277555/f%c3%a1bio-carballo"}, "reply_to_user": {"reputation": 11402, "user_id": 4600, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CY4os.jpg?s=128&g=1", "display_name": "marcospereira", "link": "https://stackoverflow.com/users/4600/marcospereira"}, "edited": false, "score": 0, "creation_date": 1453820387, "post_id": 34950111, "comment_id": 57760316, "body": "@marcospereira Re-edited! Thanks!"}, {"owner": {"reputation": 3175, "user_id": 1277555, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/71b4edb678001f55b47bdde0741a0ff5?s=128&d=identicon&r=PG", "display_name": "F&#225;bio Carballo", "link": "https://stackoverflow.com/users/1277555/f%c3%a1bio-carballo"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1453820402, "post_id": 34950111, "comment_id": 57760332, "body": "@JaysonMinard added more detail! sorry about it."}, {"owner": {"reputation": 1197, "user_id": 2428345, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/afa9d20494d6672443ccc850e463c2de?s=128&d=identicon&r=PG", "display_name": "wojciech_maciejewski", "link": "https://stackoverflow.com/users/2428345/wojciech-maciejewski"}, "edited": false, "score": 4, "creation_date": 1460099420, "post_id": 34950111, "comment_id": 60595060, "body": "Hey, did you find solution or maybe reason for that warning?"}, {"owner": {"reputation": 3175, "user_id": 1277555, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/71b4edb678001f55b47bdde0741a0ff5?s=128&d=identicon&r=PG", "display_name": "F&#225;bio Carballo", "link": "https://stackoverflow.com/users/1277555/f%c3%a1bio-carballo"}, "reply_to_user": {"reputation": 1197, "user_id": 2428345, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/afa9d20494d6672443ccc850e463c2de?s=128&d=identicon&r=PG", "display_name": "wojciech_maciejewski", "link": "https://stackoverflow.com/users/2428345/wojciech-maciejewski"}, "edited": false, "score": 0, "creation_date": 1461328752, "post_id": 34950111, "comment_id": 61162450, "body": "No .. Still having those warnings. @wojciech_maciejewski"}, {"owner": {"reputation": 1197, "user_id": 2428345, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/afa9d20494d6672443ccc850e463c2de?s=128&d=identicon&r=PG", "display_name": "wojciech_maciejewski", "link": "https://stackoverflow.com/users/2428345/wojciech-maciejewski"}, "edited": false, "score": 0, "creation_date": 1461331244, "post_id": 34950111, "comment_id": 61164346, "body": "the same here, I dont have any idea why ...."}, {"owner": {"reputation": 3121, "user_id": 1048418, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8110ec87e6a79865071765f48fd1670e?s=128&d=identicon&r=PG", "display_name": "Dawid Hy\u017cy", "link": "https://stackoverflow.com/users/1048418/dawid-hy%c5%bcy"}, "edited": false, "score": 0, "creation_date": 1462778416, "post_id": 34950111, "comment_id": 61761479, "body": "I have the same warning. Any idea how to fix it?"}, {"owner": {"reputation": 1979, "user_id": 251120, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a6fd9c654e8f517d530d62b6dd7494a3?s=128&d=identicon&r=PG", "display_name": "kenyee", "link": "https://stackoverflow.com/users/251120/kenyee"}, "edited": false, "score": 0, "creation_date": 1464810645, "post_id": 34950111, "comment_id": 62642028, "body": "ditto...I&#39;m puzzled by this as well.  The class is in the list of injectable classes, though in my case, it&#39;s an activity."}, {"owner": {"reputation": 1036, "user_id": 617082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3ePD0.jpg?s=128&g=1", "display_name": "JakeWilson801", "link": "https://stackoverflow.com/users/617082/jakewilson801"}, "edited": false, "score": 0, "creation_date": 1472169610, "post_id": 34950111, "comment_id": 65656456, "body": "I&#39;m getting this as well! Any ideas?"}, {"owner": {"reputation": 18271, "user_id": 6507689, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/tKmXs.png?s=128&g=1", "display_name": "R. Zag&#243;rski", "link": "https://stackoverflow.com/users/6507689/r-zag%c3%b3rski"}, "edited": false, "score": 3, "creation_date": 1472804152, "post_id": 34950111, "comment_id": 65908922, "body": "Here is the answer: <a href=\"https://github.com/square/dagger/issues/537\" rel=\"nofollow noreferrer\">github.com/square/dagger/issues/537</a>"}, {"owner": {"reputation": 11920, "user_id": 6769908, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xCiwB.jpg?s=128&g=1", "display_name": "Amir Ziarati", "link": "https://stackoverflow.com/users/6769908/amir-ziarati"}, "edited": false, "score": 0, "creation_date": 1475581914, "post_id": 34950111, "comment_id": 66990887, "body": "see this link: <a href=\"http://stackoverflow.com/questions/37437873/generating-a-membersinjector-for-class-prefer-to-run-the-dagger-processor-ove\" title=\"generating a membersinjector for class prefer to run the dagger processor ove\">stackoverflow.com/questions/37437873/&hellip;</a>"}, {"owner": {"reputation": 10444, "user_id": 458668, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/3RGgN.jpg?s=128&g=1", "display_name": "WindRider", "link": "https://stackoverflow.com/users/458668/windrider"}, "edited": false, "score": 0, "creation_date": 1476443605, "post_id": 34950111, "comment_id": 67359124, "body": "The exact conditions to reproduce the message are given in one Dagger unit test: <a href=\"https://github.com/google/dagger/blob/666a546ee3e55fe3cc116a0cc993570bfd4f8c2d/compiler/src/test/java/dagger/internal/codegen/ComponentProcessorTest.java#L2320\" rel=\"nofollow noreferrer\">github.com/google/dagger/blob/&hellip;</a> However I still can&#39;t grasp what and why it happens !"}], "answers": [{"tags": [], "owner": {"reputation": 471, "user_id": 1905534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e6f03644e3ffd2de983e7787268c16a9?s=128&d=identicon&r=PG", "display_name": "Jacob", "link": "https://stackoverflow.com/users/1905534/jacob"}, "is_accepted": false, "score": 5, "last_activity_date": 1480644540, "creation_date": 1480644540, "answer_id": 40923648, "question_id": 34950111, "link": "https://stackoverflow.com/questions/34950111/prefer-to-run-the-dagger-processor-over-that-class-instead-in-kotlin/40923648#40923648", "title": "&quot;Prefer to run the dagger processor over that class instead&quot; in Kotlin", "body": "<p>I am afraid you can't. Why not write dependency modules in Kotlin?</p>\n\n<p>To write dependency modules in java, you need to configure your Gradle script in this way:</p>\n\n<blockquote>\n<pre><code> compile 'com.google.dagger:dagger:2.8'\n apt 'com.google.dagger:dagger-compiler:2.8'\n</code></pre>\n</blockquote>\n\n<p>But, to write dependency modules in Kotlin, you should configure your Gradle script  in this way:</p>\n\n<blockquote>\n<pre><code>compile 'com.google.dagger:dagger:2.8' \nkapt 'com.google.dagger:dagger-compiler:2.8'\n</code></pre>\n</blockquote>\n\n<p>dagger need the annotation processing tool to generate the dependency code during the compiling process. So I guess you just need to use the right APT(annotation processing tool) according to right language.</p>\n"}], "owner": {"reputation": 3175, "user_id": 1277555, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/71b4edb678001f55b47bdde0741a0ff5?s=128&d=identicon&r=PG", "display_name": "F&#225;bio Carballo", "link": "https://stackoverflow.com/users/1277555/f%c3%a1bio-carballo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4083, "favorite_count": 14, "answer_count": 1, "score": 124, "last_activity_date": 1518489561, "creation_date": 1453476245, "last_edit_date": 1453827791, "question_id": 34950111, "link": "https://stackoverflow.com/questions/34950111/prefer-to-run-the-dagger-processor-over-that-class-instead-in-kotlin", "title": "&quot;Prefer to run the dagger processor over that class instead&quot; in Kotlin", "body": "<p>I'm getting this note in the build whenever I do an inject into a kotlin class (btw, I have a mixed android project with both kotlin and java).</p>\n\n<p>For example, after this gradle task: <code>compileStagingDebugJavaWithJavac</code> (StagingDebug is my build variant), I get this message:</p>\n\n<blockquote>\n  <p>\"Note: Generating a MembersInjector or Factory for com.packageNameXXX.CourseDiscoveryMapFragment. Prefer to run the dagger processor over that class instead.\"</p>\n</blockquote>\n\n<p>My <strong>CourseDiscoveryMapFragment</strong> code can be seen here:</p>\n\n<pre><code>class CourseDiscoveryMapFragment : Fragment(){\n\n    @Inject\n    lateinit var presenter: CourseDiscoveryMapPresenter\n\n    lateinit var mapView: MapView\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n        val view = inflater.inflate(R.layout.fragment_discovery_map, container, false)\n\n        MapsInitializer.initialize(activity)\n\n        mapView = view.mapView\n        mapView.onCreate(savedInstanceState?.getBundle(BUNDLE_KEY_MAP_STATE))\n\n        (activity as BaseActivity)\n                .activityComponent.inject(this)\n}\n</code></pre>\n\n<p>And my <strong>ActivityComponent</strong> is :</p>\n\n<pre><code>@ActivityScope\n@Subcomponent(modules = ActivityModule.class)\npublic interface ActivityComponent {\n\n    void inject(BaseActivity baseActivity);\n\n    void inject(CourseDiscoveryMapFragment fragment);\n\n    //Exposed to sub-graphs.\n    Activity activity();\n}\n</code></pre>\n\n<p>So, I'm having dagger component and modules written in Java, while having dagger injections in Kotlin.</p>\n\n<p>Is this anything that I should be worried about?</p>\n\n<p>Thank you. </p>\n"}, {"tags": ["ternary-operator", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 17, "creation_date": 1453450866, "post_id": 34935954, "comment_id": 57615607, "body": "Not a big fan of this, tbh"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 3, "creation_date": 1453465024, "post_id": 34935954, "comment_id": 57624214, "body": "Maybe it is to avoid confusion with <code>?:</code> and <code>?</code> followed by <code>:</code> ... but I miss having it."}, {"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "reply_to_user": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1453630771, "post_id": 34935954, "comment_id": 57678624, "body": "@JaysonMinard I feel like being able to use <code>if</code> in an infix form would take away much of the boilerplate."}, {"owner": {"reputation": 7656, "user_id": 1938929, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/OeAme.png?s=128&g=1", "display_name": "Jire", "link": "https://stackoverflow.com/users/1938929/jire"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1453633620, "post_id": 34935954, "comment_id": 57679453, "body": "@KirillRakhman @JaysonMinard  Something like this isn&#39;t <i>too</i> unclear to me: <code>(textToSearch.length == 0) +noteList -noteList.sublist(0, length-5)</code>      I implemented it like this: <a href=\"https://gist.github.com/Jire/46b1ee35855a5e97bfd5\" rel=\"nofollow noreferrer\">gist.github.com/Jire/46b1ee35855a5e97bfd5</a>"}, {"owner": {"reputation": 1547, "user_id": 1020871, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2af0b561054a608a7f1877deaeb3f748?s=128&d=identicon&r=PG", "display_name": "Love", "link": "https://stackoverflow.com/users/1020871/love"}, "edited": false, "score": 7, "creation_date": 1457708567, "post_id": 34935954, "comment_id": 59543236, "body": "The decision to use <code>if...else</code> as an expression probably goes along with the decision to use <code>when</code> (similar to switch) as an expression. But I think that replacing <code>a ? b : c</code> with <code>if(a) b else c</code> goes against the goal to make Kotlin more concise and readable then Java."}, {"owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "edited": false, "score": 0, "creation_date": 1503895101, "post_id": 34935954, "comment_id": 78782325, "body": "I think <code>Array&lt;Array&lt;etc.&gt;&gt;</code> also goes against that goal - luckily for some reason I don&#39;t use arrays nearly as much as I used to. but every time I have to type <code>if() else</code> I get annoyed.. usually because I want to insert it into areas that verbosity is very undesirable"}], "tags": [], "owner": {"reputation": 7292, "user_id": 1696171, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/LRC6m.jpg?s=128&g=1", "display_name": "Eric Cochran", "link": "https://stackoverflow.com/users/1696171/eric-cochran"}, "is_accepted": true, "score": 17, "last_activity_date": 1553037241, "last_edit_date": 1553037241, "creation_date": 1453416973, "answer_id": 34935954, "question_id": 34935918, "link": "https://stackoverflow.com/questions/34935918/kotlin-equivalent-of-ternary-operator/34935954#34935954", "title": "Kotlin equivalent of ternary operator", "body": "<p>There is no ternary operator in Kotlin.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/control-flow.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/control-flow.html</a></p>\n\n<blockquote>\n  <p>In Kotlin, if is an expression, i.e. it returns a value. Therefore there is no ternary operator (condition ? then : else), because ordinary if works fine in this role.</p>\n</blockquote>\n\n<p>You can find a more detailed explanation <a href=\"https://discuss.kotlinlang.org/t/ternary-operator/2116/4\" rel=\"noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12317, "favorite_count": 1, "closed_date": 1453440258, "accepted_answer_id": 34935954, "answer_count": 1, "score": 8, "last_activity_date": 1553037241, "creation_date": 1453416794, "last_edit_date": 1453417515, "question_id": 34935918, "link": "https://stackoverflow.com/questions/34935918/kotlin-equivalent-of-ternary-operator", "closed_reason": "Duplicate", "title": "Kotlin equivalent of ternary operator", "body": "<p>So in java we have the ternary operator (?), which sometimes is useful to easy some value computed by a if-else inlines. For example:</p>\n\n<pre><code>myAdapter.setAdapterItems(\n            textToSearch.length == 0\n            ? noteList\n            : noteList.sublist(0, length-5)\n)\n</code></pre>\n\n<p>I know the equivalent in kotlin would be:</p>\n\n<pre><code>myAdapter.setAdapterItems(\n                if(textToSearch.length == 0)\n                    noteList\n                else\n                    noteList.sublist(0, length-5) \n)\n</code></pre>\n\n<p>But i just used to love the ternary operator in Java, for short expression conditions, and when passing values to a method. Is there any Kotlin equivalent?</p>\n"}, {"tags": ["java", "kotlin", "postman"], "comments": [{"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 1, "creation_date": 1453412442, "post_id": 34934717, "comment_id": 57602426, "body": "Be prepared for the question &quot;why would anyone write their own HTTP server when they could use one of the hundred libraries for Java instead?&quot; question."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1453412660, "post_id": 34934717, "comment_id": 57602532, "body": "Can you say what the first few bytes are as numbers?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1453412995, "post_id": 34934717, "comment_id": 57602712, "body": "Can you share the HTTP headers sent by Postman to the server?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1453413088, "post_id": 34934717, "comment_id": 57602751, "body": "You didn&#39;t say what &quot;receive&quot; means, HTTP POST, HTTP GET, is this being received during or after content negotiation, etc."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1453413124, "post_id": 34934717, "comment_id": 57602773, "body": "Maybe Postman is sending cookie data?  Is this HTTP or HTTPS?"}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1453413269, "post_id": 34934717, "comment_id": 57602835, "body": "Did you try using one of the other HTTP libraries or other server that can echo the requests send from postman?  Try: <a href=\"http://request.urih.com/\" rel=\"nofollow noreferrer\">request.urih.com</a> from postman."}, {"owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "edited": false, "score": 0, "creation_date": 1453413428, "post_id": 34934717, "comment_id": 57602908, "body": "Are you in the legacy chrome extension of Postman, or the separate full packaged version?"}], "answers": [{"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 2, "last_activity_date": 1453414323, "last_edit_date": 1453414323, "creation_date": 1453413312, "answer_id": 34935070, "question_id": 34934717, "link": "https://stackoverflow.com/questions/34934717/postman-request-encoding/34935070#34935070", "title": "Postman request encoding", "body": "<p>If the first two bytes received are ASCII 31 (0x1F) and 139 (0x8B) you are receiving a GZIP stream and for some reason convinced the client that you supported GZIP <code>Content-Encoding</code> (not the same thing as the charset encoding).  </p>\n\n<p>The data looks more binary than character encoding.  Gzip, deflate, SSL, or other reason for binary data is what should be looked at.</p>\n\n<p>You may not be doing content negotiation correctly and therefore receiving binary gzip or deflate. Or using HTTPS vs. HTTP.  Or uploading an image.  Something but not text.</p>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 1, "last_activity_date": 1453414069, "creation_date": 1453414069, "answer_id": 34935279, "question_id": 34934717, "link": "https://stackoverflow.com/questions/34934717/postman-request-encoding/34935279#34935279", "title": "Postman request encoding", "body": "<p><strong><em>NOTE:</strong> my other answer is more direct, this is related HTTP server libraries for use in Kotlin, in case others read this question and want to know alternatives.  Not sure if this is an <a href=\"http://xyproblem.info/\" rel=\"nofollow\">XY problem</a> and if the author is not aware of other options.</em></p>\n\n<p>Other ways if you do not want to build an HTTP library, but instead use one:</p>\n\n<p><strong>Raw HTTP frameworks:</strong></p>\n\n<ul>\n<li>Anything written for Java, and specifically:</li>\n<li><a href=\"http://undertow.io/\" rel=\"nofollow\">Undertow.io</a></li>\n<li><a href=\"http://vertx.io/docs/\" rel=\"nofollow\">Vert.x 3</a> with <a href=\"http://vertx.io/docs/vertx-web/java/\" rel=\"nofollow\">Vert.x-web</a></li>\n<li><a href=\"http://netty.io/\" rel=\"nofollow\">Netty</a> - very low level</li>\n</ul>\n\n<p><strong>Somewhat more than raw HTTP, but not a MVC or REST framework:</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/hhariri/wasabi\" rel=\"nofollow\">Wasabi</a> - Kotlin specific</li>\n</ul>\n\n<p><strong>And for fuller REST or Web frameworks:</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/Kotlin/ktor\" rel=\"nofollow\">KTOR</a> - Kotlin specific</li>\n<li><a href=\"https://github.com/kohesive/kovert\" rel=\"nofollow\">Kovert</a> - Kotlin specific, REST but adding views (<em>Disclaimer: I'm the author</em>)</li>\n<li><a href=\"http://sparkjava.com/\" rel=\"nofollow\">Spark Java</a> - Java, works nicely in Kotlin</li>\n<li><a href=\"https://github.com/aesteve/nubes\" rel=\"nofollow\">Vert.x Nubes</a> - Java, to work on top of Vert.x</li>\n<li><a href=\"http://kikaha.skullabs.io/\" rel=\"nofollow\">Kikaha</a> - Java, to work on top of Undertow</li>\n</ul>\n"}], "owner": {"reputation": 4021, "user_id": 3830108, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/elcXQ.jpg?s=128&g=1", "display_name": "Cortwave", "link": "https://stackoverflow.com/users/3830108/cortwave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5316, "favorite_count": 0, "closed_date": 1453428471, "answer_count": 2, "score": 0, "last_activity_date": 1453414392, "creation_date": 1453411873, "last_edit_date": 1453414392, "question_id": 34934717, "link": "https://stackoverflow.com/questions/34934717/postman-request-encoding", "closed_reason": "Needs details or clarity", "title": "Postman request encoding", "body": "<p>I'm writing my own HTTP server. I'm using <code>Java Socket</code> for it. I read request from <code>InputStream</code> next way</p>\n\n<pre><code>val input = BufferedReader(InputStreamReader(socket.inputStream, \"UTF-8\"))\n</code></pre>\n\n<p>When I receive requests from <code>curl</code> or browser all is good. But when I receive request from <code>Postman</code> I get something like this:</p>\n\n<pre><code>\ufffd\ufffdg\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd#\ufffd\ufffd\ufffd=\ufffd\ufffdg\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd\ufffd#\ufffd\ufffd\ufffd, \ufffd\ufffd9\ufffd \ufffd\ufffd3\ufffd\ufffd\ufffd5\ufffd/\ufffd=\ufffd\ufffd9\ufffd \ufffd\ufffd3\ufffd\ufffd\ufffd5\ufffd/\ufffd,\n</code></pre>\n\n<p>I tried to use others encodings for <code>InputStreamReader</code> such as <code>UTF-16</code> and <code>ASCII</code>. Which encoding is used for Postman requests and how I can read it on my server?</p>\n\n<p><strong><em>UPDATE:</strong> Sorry, this is my failure. I used HTTPS when making requests.</em></p>\n"}, {"tags": ["android", "android-fragments", "android-viewpager", "kotlin"], "comments": [{"owner": {"reputation": 1015, "user_id": 2953961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c996447d6ac8630b3877a7db4cbc96b?s=128&d=identicon&r=PG&f=1", "display_name": "aelimill", "link": "https://stackoverflow.com/users/2953961/aelimill"}, "edited": false, "score": 0, "creation_date": 1453412648, "post_id": 34934126, "comment_id": 57602527, "body": "Can you try using simple views instead of fragments in viewpager? I had similar issue in one of my project and imageView.setImageDrawable(null); worked for me. But fragments were not need so i just used a ViewGroup with ImageViews and TextViews."}, {"owner": {"reputation": 3925, "user_id": 3806331, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/ab7f221d4245947fd3260c364ffd0645?s=128&d=identicon&r=PG&f=1", "display_name": "johnny_crq", "link": "https://stackoverflow.com/users/3806331/johnny-crq"}, "edited": false, "score": 1, "creation_date": 1453914363, "post_id": 34934126, "comment_id": 57811433, "body": "try to use a FragmentStatePager adapter, and on getItemPosition method just return POSITION_NONE."}], "answers": [{"comments": [{"owner": {"reputation": 601, "user_id": 5440277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/457fc92b3c75839c42e0cf3a95a9d334?s=128&d=identicon&r=PG&f=1", "display_name": "Ritesh Adulkar", "link": "https://stackoverflow.com/users/5440277/ritesh-adulkar"}, "edited": false, "score": 0, "creation_date": 1545141776, "post_id": 35365445, "comment_id": 94517518, "body": "Calling <code>PagerAdapter.POSITION_NONE</code> its not a good solution, if other views not required to be re-instantiate. Is there any other solution without <code>re-instantiate PagerAdapter</code> can we achieve that?"}, {"owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "reply_to_user": {"reputation": 601, "user_id": 5440277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/457fc92b3c75839c42e0cf3a95a9d334?s=128&d=identicon&r=PG&f=1", "display_name": "Ritesh Adulkar", "link": "https://stackoverflow.com/users/5440277/ritesh-adulkar"}, "edited": false, "score": 0, "creation_date": 1545145360, "post_id": 35365445, "comment_id": 94519560, "body": "You have to return <code>POSITION_NONE</code> only for items you want to remove."}, {"owner": {"reputation": 601, "user_id": 5440277, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/457fc92b3c75839c42e0cf3a95a9d334?s=128&d=identicon&r=PG&f=1", "display_name": "Ritesh Adulkar", "link": "https://stackoverflow.com/users/5440277/ritesh-adulkar"}, "edited": false, "score": 0, "creation_date": 1545374805, "post_id": 35365445, "comment_id": 94607468, "body": "yes exactly i am returning <code>POSITION_NONE</code> for selected item to remove from view pager but again it re-instantiate PagerAdapter i.e. pager adapter reset."}], "tags": [], "owner": {"reputation": 50303, "user_id": 170842, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c2ea72b8d001d81fb6ce3f356e45eb3a?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/170842/michael"}, "is_accepted": false, "score": 2, "last_activity_date": 1455288477, "creation_date": 1455288477, "answer_id": 35365445, "question_id": 34934126, "link": "https://stackoverflow.com/questions/34934126/android-viewpager-how-to-force-removal-of-all-items/35365445#35365445", "title": "Android ViewPager - How to force removal of all items?", "body": "<p><code>PagerAdapter.destroyItem()</code> is not called because the default implementation of <code>Psger.getItemPosition()</code> returns <code>PagerAdapter.POSITION_UNCHANGED</code>. So when you call <code>PagerAdapter.notifyDataSetChanged()</code> <code>ViewPager</code> continues to think that items you removed still exist and doesn't destroy them. You need to return <code>PagerAdapter.POSITION_NONE</code> for each item removed from the adapter.</p>\n"}], "owner": {"reputation": 2097, "user_id": 437270, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/147e475f000342a37f4026fe9eb8dc46?s=128&d=identicon&r=PG", "display_name": "John D.", "link": "https://stackoverflow.com/users/437270/john-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2495, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1455288477, "creation_date": 1453409704, "question_id": 34934126, "link": "https://stackoverflow.com/questions/34934126/android-viewpager-how-to-force-removal-of-all-items", "title": "Android ViewPager - How to force removal of all items?", "body": "<p>I am writing an Android app which makes extensive use of ViewPagers that contain high-res images. I am extending PagerAdapter and manually creating and destroying items when appropriate. It works fine until this fragment gets placed on that backstack. I would like to remove all images from memory when the fragment with ViewPagers gets placed on the backstack, but I can't figure out a way.</p>\n\n<p>I tried removing all the backing data from the list that the adapter uses, then call .notifyDataSetChanged(), but this doesn't go through and call PagerAdapter.destroyItem() for each page like I hope.</p>\n\n<p>I also tried using FragmentStatePagerAdapter, but this also didn't seem to clear out any memory during app usage.</p>\n\n<p><strong>How can I force a PagerAdapter to call destroyItem() on all items in a pager?</strong></p>\n\n<p>Here is my code for the View that contains the ViewPager:</p>\n\n<pre><code>class ContentStrip : LinearLayout {\n\n    var title : WeakReference&lt;TextView&gt;? = null\n    var titleString: String = \"\"\n    lateinit var pager : WeakReference&lt;MyViewPager&gt;\n    var data:ContentCollection? = null\n\n    //[...] other view methods\n\n    //Called from parent fragment's onDestroy\n    fun clearMemory() {\n        if (data == null) return\n        var i = -1\n        var contentItem : ContentItem\n        for(item in data!!.contentItems) {\n            i++\n            var v:View? = pager.get().findViewWithTag(\"${titleString}$i\") ?: continue\n            contentItem = v as ContentItem\n            contentItem.image?.setImageDrawable(null)\n            contentItem.image = null\n            removeView(contentItem)\n        }\n        title = null\n        pager.get().removeAllViews()\n        data?.contentItems?.clear()\n        pager.get().adapter.notifyDataSetChanged()\n        invalidate()\n    }\n\n    class ContentStripAdapter() : PagerAdapter() {\n\n        lateinit var outer: WeakReference&lt;ContentStrip&gt;\n\n        fun setOuterRef(cs:ContentStrip) : ContentStripAdapter {\n            outer = WeakReference(cs)\n            return this\n        }\n\n        //[...]other PagerAdapter methods\n\n        override fun destroyItem (container:ViewGroup, position:Int, obj:Any) {\n            var img : ContentItem? = obj as ContentItem\n            img?.image?.setImageDrawable(null)\n            img?.image = null\n            img?.title = null\n            container.removeView(img)\n            img = null\n        }\n\n        override fun getCount(): Int {\n            return outer.get().data?.contentItems?.count()!!\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["groovy", "extension-methods", "kotlin", "jvm-languages"], "answers": [{"tags": [], "owner": {"reputation": 2678, "user_id": 986533, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fd7ff53528251bc135a8978c34a0d1d4?s=128&d=identicon&r=PG", "display_name": "Konrad Jamrozik", "link": "https://stackoverflow.com/users/986533/konrad-jamrozik"}, "is_accepted": true, "score": 4, "last_activity_date": 1453397177, "last_edit_date": 1453397177, "creation_date": 1453387524, "answer_id": 34926802, "question_id": 34926801, "link": "https://stackoverflow.com/questions/34926801/is-there-a-clean-way-to-use-groovys-extension-methods-in-kotlin/34926802#34926802", "title": "Is there a clean way to use Groovy&#39;s extension methods in Kotlin?", "body": "<p>One way is to write a simple wrapper <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow\">extension function</a> in Kotlin:</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>// Kotlin code\nimport org.codehaus.groovy.runtime.NioGroovyMethods\n\nfun Path.text(): String {\n  return NioGroovyMethods.getText(this)\n}\n</code></pre>\n\n<p>Which then can be used like:</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>// Kotlin code\nimport java.nio.file.Path\nimport java.nio.file.Paths\n\nfun usageExample() {\n  val p: Path = Paths.get(\"data.txt\")\n  val text: String = p.text()\n}\n</code></pre>\n\n<p>If using Gradle to build the project, this means Groovy has to be added to dependencies:</p>\n\n<pre><code>// in build.gradle\n\ndependencies {\n    compile 'org.codehaus.groovy:groovy-all:2.4.5'\n}\n</code></pre>\n"}], "owner": {"reputation": 2678, "user_id": 986533, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/fd7ff53528251bc135a8978c34a0d1d4?s=128&d=identicon&r=PG", "display_name": "Konrad Jamrozik", "link": "https://stackoverflow.com/users/986533/konrad-jamrozik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 856, "favorite_count": 0, "accepted_answer_id": 34926802, "answer_count": 1, "score": 5, "last_activity_date": 1457373511, "creation_date": 1453387524, "last_edit_date": 1457373511, "question_id": 34926801, "link": "https://stackoverflow.com/questions/34926801/is-there-a-clean-way-to-use-groovys-extension-methods-in-kotlin", "title": "Is there a clean way to use Groovy&#39;s extension methods in Kotlin?", "body": "<p>For example, Groovy allows to get text of a file represented by <code>java.nio.file.Path</code> as follows:</p>\n\n\n\n<pre><code>// Groovy code\nimport java.nio.file.Path\nimport java.nio.file.Paths\n\nPath p = Paths.get(\"data.txt\")\nString text = p.text\n</code></pre>\n\n<p>I would like to be able to reuse Groovy's <code>text</code> extension method in Kotlin.</p>\n\n<p><strong>Please note</strong>: I know <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-file/read-text.html\" rel=\"nofollow\">Kotlin has a related method</a> for this particular case. Still, there might be Groovy methods which are useful for Kotlin users.</p>\n"}]