[{"tags": ["android", "sqlite", "kotlin", "greendao"], "comments": [{"owner": {"reputation": 3970, "user_id": 1499877, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pzBP3.jpg?s=128&g=1", "display_name": "WOUNDEDStevenJones", "link": "https://stackoverflow.com/users/1499877/woundedstevenjones"}, "edited": false, "score": 0, "creation_date": 1501712768, "post_id": 45471896, "comment_id": 77904962, "body": "I don&#39;t have any experience with this myself, but from the looks of it you&#39;re passing in <code>Lead, Person</code> but it&#39;s expecting <code>Person, Lead</code>.  So maybe change <code>leadToPersonJoin</code> to something like <code>var leadToPersonJoin: Join&lt;Person, Lead&gt; = queryBuilderLead.join(Person::class.java, PersonDao.Properties.PersonLeadId, LeadDao.Properties.LeadPersonId)</code>.  Basically it seems like you just need to change the order of the returned object from <code>queryBuilderLead.join</code> (and maybe redefine <code>Join&lt;Lead, Person&gt;</code> to <code>Join&lt;Person, Lead&gt;</code>)."}, {"owner": {"reputation": 820, "user_id": 2912185, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3993887fb13aa40082b2406d7eb98682?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Anderson", "link": "https://stackoverflow.com/users/2912185/dan-anderson"}, "reply_to_user": {"reputation": 3970, "user_id": 1499877, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pzBP3.jpg?s=128&g=1", "display_name": "WOUNDEDStevenJones", "link": "https://stackoverflow.com/users/1499877/woundedstevenjones"}, "edited": false, "score": 0, "creation_date": 1501714607, "post_id": 45471896, "comment_id": 77905534, "body": "Yes that does fix it the problem is then when I call queryBuilder.list() it returns a list of persons and not leads.  which is not ideal since it necessitates a loop to get all the leads from their person."}], "owner": {"reputation": 820, "user_id": 2912185, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3993887fb13aa40082b2406d7eb98682?s=128&d=identicon&r=PG&f=1", "display_name": "Dan Anderson", "link": "https://stackoverflow.com/users/2912185/dan-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 190, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1501712218, "creation_date": 1501712218, "question_id": 45471896, "link": "https://stackoverflow.com/questions/45471896/how-can-i-join-three-entities-in-greendao", "title": "How can I join three entities in GreenDao?", "body": "<p>I tried joining the three entities using the example that GreenDao provides <a href=\"http://greenrobot.org/greendao/documentation//joins/\" rel=\"nofollow noreferrer\">here</a>  but it gives me an error on the last line under the leadTopersonJoin parameter that says \"Type Mismatch, expected Join&lt;*, Lead> found Join&lt; Lead, Person>    and I can't figure out how to fix it. </p>\n\n<pre><code>        var daoSession: DaoSession = Application.getInstance().daoSession\n        var queryBuilderLead: QueryBuilder&lt;Lead&gt; = daoSession.leadDao.queryBuilder()\n        var leadToPersonJoin: Join&lt;Lead, Person&gt; = queryBuilderLead.join(LeadDao.Properties.LeadPersonId, Person::class.java, PersonDao.Properties.PersonLeadId)\n        var personToAddresJoin = queryBuilderLead.join(leadToPersonJoin, PersonDao.Properties.PersonAddressId, Address::class.java, AddressDao.Properties.AddressPersonId)\n</code></pre>\n\n<p>What raw Sql can I use to join the three tables? or alternatively what am I doing wrong in the greenDao Query?</p>\n"}, {"tags": ["android", "bluetooth-lowenergy", "kotlin", "ota", "rxandroidble"], "comments": [{"owner": {"reputation": 11621, "user_id": 556495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a96b42c52adae7773b71378ca52a2fb?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/556495/emil"}, "edited": false, "score": 0, "creation_date": 1501722073, "post_id": 45471294, "comment_id": 77907249, "body": "Not really an answer to your question, but you should really not use long write if you need to write much data fast. Instead use write without response as that has so much more throughput."}, {"owner": {"reputation": 2912, "user_id": 6564880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e82c48fe7159fea4ea84ddbc9e8d5ab2?s=128&d=identicon&r=PG&f=1", "display_name": "Dariusz Seweryn", "link": "https://stackoverflow.com/users/6564880/dariusz-seweryn"}, "reply_to_user": {"reputation": 11621, "user_id": 556495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a96b42c52adae7773b71378ca52a2fb?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/556495/emil"}, "edited": false, "score": 0, "creation_date": 1501749210, "post_id": 45471294, "comment_id": 77918221, "body": "Leonardo \u2014 1. <code>.setMaxBatchSize()</code> is for setting the maximum amount of bytes that can be sent in one package and <code>totalPackages</code> seem to be the number of packages to send 2. What exactly is the <code>totalPackages</code>? 3. By the <code>device write response</code> you think of a notification from a specific characteristic or just the acknowledgement from the peripheral that it has received a single package? @Emil \u2014 is it possible to contact you in any way?"}, {"owner": {"reputation": 11621, "user_id": 556495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a96b42c52adae7773b71378ca52a2fb?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/556495/emil"}, "edited": false, "score": 0, "creation_date": 1501753431, "post_id": 45471294, "comment_id": 77921522, "body": "Sure.. Was it something particular you wanted to talk about? I think the easiest is to just start a stack overflow chat."}, {"owner": {"reputation": 7, "user_id": 8189506, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z5DEBwqmNBE/AAAAAAAAAAI/AAAAAAAAEfA/JAWQMUTGTl4/photo.jpg?sz=128", "display_name": "Leonardo Fuenmayor", "link": "https://stackoverflow.com/users/8189506/leonardo-fuenmayor"}, "reply_to_user": {"reputation": 2912, "user_id": 6564880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e82c48fe7159fea4ea84ddbc9e8d5ab2?s=128&d=identicon&r=PG&f=1", "display_name": "Dariusz Seweryn", "link": "https://stackoverflow.com/users/6564880/dariusz-seweryn"}, "edited": false, "score": 0, "creation_date": 1501763819, "post_id": 45471294, "comment_id": 77929246, "body": "@DariuszSeweryn yes I notice my mistake in <code>setMaxBatchSize()</code> method now I pass data.size to that method, 2 totalPackages was the total amount of packages that I need to send (I&#39;m sending a file through BLE for an OTA update), and 3 yes I need the acknowledgement from the peripheral that it has received the package, in base of that I would send the other package"}, {"owner": {"reputation": 7, "user_id": 8189506, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z5DEBwqmNBE/AAAAAAAAAAI/AAAAAAAAEfA/JAWQMUTGTl4/photo.jpg?sz=128", "display_name": "Leonardo Fuenmayor", "link": "https://stackoverflow.com/users/8189506/leonardo-fuenmayor"}, "reply_to_user": {"reputation": 11621, "user_id": 556495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a96b42c52adae7773b71378ca52a2fb?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/556495/emil"}, "edited": false, "score": 0, "creation_date": 1501763934, "post_id": 45471294, "comment_id": 77929333, "body": "@Emil I know, but is a DFU characteristic for an OTA update, I do that IOS and the characteristic response for every write"}, {"owner": {"reputation": 2912, "user_id": 6564880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e82c48fe7159fea4ea84ddbc9e8d5ab2?s=128&d=identicon&r=PG&f=1", "display_name": "Dariusz Seweryn", "link": "https://stackoverflow.com/users/6564880/dariusz-seweryn"}, "edited": false, "score": 0, "creation_date": 1501764072, "post_id": 45471294, "comment_id": 77929428, "body": "This acknowledgement is in your situation just a <code>BluetoothGattCallback.onCharacteristicWrite()</code> \u2014 right? Please confirm and I will write an answer."}, {"owner": {"reputation": 2912, "user_id": 6564880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e82c48fe7159fea4ea84ddbc9e8d5ab2?s=128&d=identicon&r=PG&f=1", "display_name": "Dariusz Seweryn", "link": "https://stackoverflow.com/users/6564880/dariusz-seweryn"}, "reply_to_user": {"reputation": 11621, "user_id": 556495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a96b42c52adae7773b71378ca52a2fb?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/556495/emil"}, "edited": false, "score": 0, "creation_date": 1501764127, "post_id": 45471294, "comment_id": 77929481, "body": "@Emil <a href=\"https://chat.stackoverflow.com/rooms/150956/room-for-s-noopy-and-emil\">chat.stackoverflow.com/rooms/150956/room-for-s-noopy-and-emi&zwnj;&#8203;l</a>"}, {"owner": {"reputation": 7, "user_id": 8189506, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z5DEBwqmNBE/AAAAAAAAAAI/AAAAAAAAEfA/JAWQMUTGTl4/photo.jpg?sz=128", "display_name": "Leonardo Fuenmayor", "link": "https://stackoverflow.com/users/8189506/leonardo-fuenmayor"}, "reply_to_user": {"reputation": 2912, "user_id": 6564880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e82c48fe7159fea4ea84ddbc9e8d5ab2?s=128&d=identicon&r=PG&f=1", "display_name": "Dariusz Seweryn", "link": "https://stackoverflow.com/users/6564880/dariusz-seweryn"}, "edited": false, "score": 0, "creation_date": 1501764463, "post_id": 45471294, "comment_id": 77929757, "body": "@DariuszSeweryn this method return when I write the characteristic or catch when the peripheral sent me the write response?"}, {"owner": {"reputation": 2912, "user_id": 6564880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e82c48fe7159fea4ea84ddbc9e8d5ab2?s=128&d=identicon&r=PG&f=1", "display_name": "Dariusz Seweryn", "link": "https://stackoverflow.com/users/6564880/dariusz-seweryn"}, "edited": false, "score": 0, "creation_date": 1501764989, "post_id": 45471294, "comment_id": 77930223, "body": "Depending on the <code>BluetoothGattCharacteristic</code> setting (<code>WRITE_TYPE_DEFAULT</code>, <code>WRITE_TYPE_NO_RESPONSE</code>) <code>.onCharacteristicWrite()</code> is called when the remote peripheral has received the packet (when it&#39;s BLE stack has sent acknowledgement of transmission but not necessarily handled already) or when the local BLE stack has queued it for sending respectively. So you probably are thinking about notifications sent by the characteristic after handling."}, {"owner": {"reputation": 2912, "user_id": 6564880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e82c48fe7159fea4ea84ddbc9e8d5ab2?s=128&d=identicon&r=PG&f=1", "display_name": "Dariusz Seweryn", "link": "https://stackoverflow.com/users/6564880/dariusz-seweryn"}, "edited": false, "score": 0, "creation_date": 1502098539, "post_id": 45471294, "comment_id": 78047076, "body": "@LeonardoFuenmayor \u2014 did my solution worked for you?"}, {"owner": {"reputation": 7, "user_id": 8189506, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z5DEBwqmNBE/AAAAAAAAAAI/AAAAAAAAEfA/JAWQMUTGTl4/photo.jpg?sz=128", "display_name": "Leonardo Fuenmayor", "link": "https://stackoverflow.com/users/8189506/leonardo-fuenmayor"}, "reply_to_user": {"reputation": 2912, "user_id": 6564880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e82c48fe7159fea4ea84ddbc9e8d5ab2?s=128&d=identicon&r=PG&f=1", "display_name": "Dariusz Seweryn", "link": "https://stackoverflow.com/users/6564880/dariusz-seweryn"}, "edited": false, "score": 0, "creation_date": 1507642093, "post_id": 45471294, "comment_id": 80284406, "body": "@DariuszSeweryn Hi sorry for the delay, I was working in other parts of the project, y test your code today, but I get this error <code>BleCannotSetCharacteristicNotificationException{bluetoothGat&zwnj;&#8203;tCharacteristic=9842&zwnj;&#8203;27f3-34fc-4045-a5d0-&zwnj;&#8203;2c581f81a153, reason=CANNOT_FIND_CLIENT_CHARACTERISTIC_CONFIG_DESCRIPTOR</code>"}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 8189506, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z5DEBwqmNBE/AAAAAAAAAAI/AAAAAAAAEfA/JAWQMUTGTl4/photo.jpg?sz=128", "display_name": "Leonardo Fuenmayor", "link": "https://stackoverflow.com/users/8189506/leonardo-fuenmayor"}, "edited": false, "score": 0, "creation_date": 1507642077, "post_id": 45488307, "comment_id": 80284391, "body": "Hi sorry for the delay, I was working in other parts of the project, y test your code today, but I get this error <code>BleCannotSetCharacteristicNotificationException{bluetoothGat&zwnj;&#8203;tCharacteristic=9842&zwnj;&#8203;27f3-34fc-4045-a5d0-&zwnj;&#8203;2c581f81a153, reason=CANNOT_FIND_CLIENT_CHARACTERISTIC_CONFIG_DESCRIPTOR</code>"}, {"owner": {"reputation": 2912, "user_id": 6564880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e82c48fe7159fea4ea84ddbc9e8d5ab2?s=128&d=identicon&r=PG&f=1", "display_name": "Dariusz Seweryn", "link": "https://stackoverflow.com/users/6564880/dariusz-seweryn"}, "reply_to_user": {"reputation": 7, "user_id": 8189506, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z5DEBwqmNBE/AAAAAAAAAAI/AAAAAAAAEfA/JAWQMUTGTl4/photo.jpg?sz=128", "display_name": "Leonardo Fuenmayor", "link": "https://stackoverflow.com/users/8189506/leonardo-fuenmayor"}, "edited": false, "score": 0, "creation_date": 1507673264, "post_id": 45488307, "comment_id": 80301924, "body": "So apparently your <code>OTA_DATA</code> characteristic either does not support notifications or it does not have the <code>Client Characteristic Config Descriptor</code> which would violate the Bluetooth Specification (if it does support notifications). Either way you need to specify what behaviour your peripheral needs to update as it is pretty much guessing right now."}, {"owner": {"reputation": 7, "user_id": 8189506, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z5DEBwqmNBE/AAAAAAAAAAI/AAAAAAAAEfA/JAWQMUTGTl4/photo.jpg?sz=128", "display_name": "Leonardo Fuenmayor", "link": "https://stackoverflow.com/users/8189506/leonardo-fuenmayor"}, "edited": false, "score": 0, "creation_date": 1507733245, "post_id": 45488307, "comment_id": 80330195, "body": "is correct the OTA_DATA characteristic does not support notifications, and that characteristic belongs to a Silicon labs OTA Service, and I don&#39;t have control over that service, is a default service in my peripheral"}, {"owner": {"reputation": 7, "user_id": 8189506, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z5DEBwqmNBE/AAAAAAAAAAI/AAAAAAAAEfA/JAWQMUTGTl4/photo.jpg?sz=128", "display_name": "Leonardo Fuenmayor", "link": "https://stackoverflow.com/users/8189506/leonardo-fuenmayor"}, "edited": false, "score": 0, "creation_date": 1507733693, "post_id": 45488307, "comment_id": 80330501, "body": "the behaviour of the OTA process is, I have a service called OTA service with only 1 characteristic OTA_CONTROl, I write 0x00 to that characteristic and the device reboots in DFU mode and present me the OTA Service with 2 characteristics OTA_CONTROL(write), and OTA_DATA(Write with response), I write 0x00 to OTA_CONTROL and later I write to the OTA_DATA a portion of the binary file with a longWriter, the thing is that I need to wait for the response of the writer(like an acknowledgement) to send the next part of the file"}, {"owner": {"reputation": 2912, "user_id": 6564880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e82c48fe7159fea4ea84ddbc9e8d5ab2?s=128&d=identicon&r=PG&f=1", "display_name": "Dariusz Seweryn", "link": "https://stackoverflow.com/users/6564880/dariusz-seweryn"}, "reply_to_user": {"reputation": 7, "user_id": 8189506, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z5DEBwqmNBE/AAAAAAAAAAI/AAAAAAAAEfA/JAWQMUTGTl4/photo.jpg?sz=128", "display_name": "Leonardo Fuenmayor", "link": "https://stackoverflow.com/users/8189506/leonardo-fuenmayor"}, "edited": false, "score": 0, "creation_date": 1507734446, "post_id": 45488307, "comment_id": 80331033, "body": "Not sure if you are using OTA in the version described in point 5.4 <code>OTA_UPLOAD</code>: <a href=\"https://www.silabs.com/documents/login/application-notes/an1045-bt-ota-dfu.pdf\" rel=\"nofollow noreferrer\">silabs.com/documents/login/application-notes/&hellip;</a> but if that is the case then I am not sure why your initial code did not work as there is no <code>ACK</code> from the peripheral side."}], "tags": [], "owner": {"reputation": 2912, "user_id": 6564880, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e82c48fe7159fea4ea84ddbc9e8d5ab2?s=128&d=identicon&r=PG&f=1", "display_name": "Dariusz Seweryn", "link": "https://stackoverflow.com/users/6564880/dariusz-seweryn"}, "is_accepted": false, "score": 0, "last_activity_date": 1501773317, "creation_date": 1501773317, "answer_id": 45488307, "question_id": 45471294, "link": "https://stackoverflow.com/questions/45471294/rxandroidble-get-long-write-response/45488307#45488307", "title": "rxAndroidBle get long write response", "body": "<p>You are writing about response from the characteristic \u2014 I assume that the characteristic you refer is the one with <code>UUID=OTA_DATA</code>. The Long Write consist of small writes internally (so called batches).</p>\n\n<p>What you probably want to achieve is something like:</p>\n\n<pre><code>fun otaDataWrite(data: ByteArray) {\n    manager.connection!!.setupNotification(OTA_DATA) // first we need to get the notification on to get the response\n            .flatMap { responseNotificationObservable -&gt; // when the notification is ready we create the long write\n                connection.createNewLongWriteBuilder()\n                        .setCharacteristicUuid(OTA_DATA)\n                        .setBytes(data)\n//                        .setMaxBatchSize() // -&gt; if omitted will default to the MTU (20 bytes if MTU was not changed). Should be used only if a single write should be less than MTU in size\n                        .setWriteOperationAckStrategy { writeCompletedObservable -&gt; // we need to postpone writing of the next batch of data till we get the response notification\n                            Observable.zip( // so we zip the response notification\n                                    responseNotificationObservable,\n                                    writeCompletedObservable, // with the acknowledgement of the written batch\n                                    { _, writeCompletedBoolean -&gt; writeCompletedBoolean } // when both are available the next batch will be written\n                            )\n                        }\n                        .build()\n            }\n            .take(1) // with this line the notification that was set above will be discarded after the long write will finish\n            .subscribe(\n                    { byteArray -&gt;\n                        Log.i(\"arrive\", \"data ${converter.bytesToHex(byteArray)}\")\n                        manageOtaWrite()\n                    },\n                    { it.printStackTrace() }\n            )\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7, "user_id": 8189506, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z5DEBwqmNBE/AAAAAAAAAAI/AAAAAAAAEfA/JAWQMUTGTl4/photo.jpg?sz=128", "display_name": "Leonardo Fuenmayor", "link": "https://stackoverflow.com/users/8189506/leonardo-fuenmayor"}, "is_accepted": true, "score": 0, "last_activity_date": 1527772120, "creation_date": 1527772120, "answer_id": 50625130, "question_id": 45471294, "link": "https://stackoverflow.com/questions/45471294/rxandroidble-get-long-write-response/50625130#50625130", "title": "rxAndroidBle get long write response", "body": "<p>Well, after a lot of testing, I finally develop a standalone class for the OTA update with the android BLE API, and I used it together with all my RxBle methods, I don't know if I have a hardware problem or something else, but I solve the problem, thanks a lot.</p>\n"}], "owner": {"reputation": 7, "user_id": 8189506, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z5DEBwqmNBE/AAAAAAAAAAI/AAAAAAAAEfA/JAWQMUTGTl4/photo.jpg?sz=128", "display_name": "Leonardo Fuenmayor", "link": "https://stackoverflow.com/users/8189506/leonardo-fuenmayor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 837, "favorite_count": 0, "accepted_answer_id": 50625130, "answer_count": 2, "score": 0, "last_activity_date": 1527772120, "creation_date": 1501709285, "question_id": 45471294, "link": "https://stackoverflow.com/questions/45471294/rxandroidble-get-long-write-response", "title": "rxAndroidBle get long write response", "body": "<p>I'm doing a long write to a BLE for making an OTA update, but I need to wait for the write response of the BLE device for sending more data but I don't know how to catch the device write response, I'm using a Samsung galaxy tab s2 with android 7, and Kotlin for my code</p>\n\n<pre><code>override fun otaDataWrite(data:ByteArray) {\n    manager.connection?.flatMap { rxBleConnection: RxBleConnection? -&gt; rxBleConnection?.createNewLongWriteBuilder()\n            ?.setCharacteristicUuid(OTACharacteristics.OTA_DATA.uuid)\n            ?.setBytes(data)\n            ?.setMaxBatchSize(totalPackages)\n            ?.build()\n    }?.subscribe({ t: ByteArray? -&gt;\n        Log.i(\"arrive\", \"data ${converter.bytesToHex(t)}\")\n        manageOtaWrite()\n    }, { t: Throwable? -&gt; t?.printStackTrace() })\n</code></pre>\n\n<p>every time that I write the characteristic the subscriptions respond me immediately with the written data, I need capture the response of the characteristic, for sending more data</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "owner": {"reputation": 154, "user_id": 2297105, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/c63bd88694379e48f838c34ebd5b5aff?s=128&d=identicon&r=PG", "display_name": "JCraw", "link": "https://stackoverflow.com/users/2297105/jcraw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1501709749, "creation_date": 1501707809, "last_edit_date": 1501709749, "question_id": 45470953, "link": "https://stackoverflow.com/questions/45470953/android-room-adding-library-data-classes-to-database", "title": "Android Room, adding library data classes to database", "body": "<p>There is a shared library that is used by a desktop application as well as an android application.  The shared library contains no android libraries.  The shared library contains a set of data classes.  I would like to annotate these data classes as Room @Entity and add them to a database on the android client.  The desktop application has no need of a database.  Is there an easy way to do this?  The only option I can think of so far is to: change the classes from data classes (since data classes cannot be extended).  then extend these classes only in the android application and add the annotations.  </p>\n\n<p>Edit: Another way to ask this is, what can be done if there is a (possibly non-open) POJO in another library that wants to be added in Room?</p>\n"}, {"tags": ["kotlin", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 0, "creation_date": 1501707170, "post_id": 45470665, "comment_id": 77902605, "body": "<code>foo.run { if (this == null) doThis() else doThat(this) }</code> is totally legit. The usability is debatable."}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 1, "creation_date": 1501721519, "post_id": 45470665, "comment_id": 77907130, "body": "simply because <code>&#39;run</code> is an extension method on a generic type T and the block is also an extension method on T.  The variable <code>foo</code> value isn&#39;t what&#39;s important, it the inferred type.  <code>foo</code> is passed to the block as <code>this</code>, and as long as <code>this</code> is not use, a <code>null</code> valued <code>foo</code> is safe."}], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 2, "last_activity_date": 1501708606, "last_edit_date": 1501708606, "creation_date": 1501707170, "answer_id": 45470795, "question_id": 45470665, "link": "https://stackoverflow.com/questions/45470665/why-do-unsafe-run-call-works-fine-on-a-null-value-in-kotlin/45470795#45470795", "title": "Why do unsafe .run() call works fine on a null value in Kotlin?", "body": "<p>This is because the top-level function <code>run</code> accept anything <code>Any</code> &amp; <code>Any?</code>. so an extension function with <a href=\"https://kotlinlang.org/docs/reference/extensions.html#nullable-receiver\" rel=\"nofollow noreferrer\">Null Receiver</a> doesn't checked by Kotlin in runtime.</p>\n\n<pre><code>//                 v--- accept anything\npublic inline fun &lt;T, R&gt; T.run(block: T.() -&gt; R): R = block()\n</code></pre>\n\n<p><strong>Indeed</strong>, the inline function <code>run</code> is generated by Kotlin without any assertions if the <code>receiver</code> can be <em>nullable</em>, so it is more like a noinline function generated to Java code as below:</p>\n\n<pre><code>public static Object run(Object receiver, Function1&lt;Object, Object&gt; block){\n   //v--- the parameters checking is taken away if the reciever can be nullable\n  //Intrinsics.checkParameterIsNotNull(receiver, \"receiver\");\n\n  Intrinsics.checkParameterIsNotNull(block, \"block\");\n  // ^--- checking the `block` parameter since it can't be null \n}\n</code></pre>\n\n<p><strong>IF</strong> you want to call it in a safety way, you can use <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"nofollow noreferrer\">safe-call</a>  operator <code>?.</code> instead, for example:</p>\n\n<pre><code>val foo: String? = null\n\n// v--- short-circuited if the foo is null\nfoo?.run { println(\"foo\") }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "is_accepted": false, "score": 4, "last_activity_date": 1501707837, "creation_date": 1501707837, "answer_id": 45470960, "question_id": 45470665, "link": "https://stackoverflow.com/questions/45470665/why-do-unsafe-run-call-works-fine-on-a-null-value-in-kotlin/45470960#45470960", "title": "Why do unsafe .run() call works fine on a null value in Kotlin?", "body": "<p>To add to what @holi-java said, there is nothing unsafe about your code at all. <code>println(\"foo\")</code> is perfectly valid whether <code>foo</code> is null or not. If you tried something like</p>\n\n<pre><code>foo.run { subString(1) }\n</code></pre>\n\n<p>it would be unsafe, and you will find it won't even compile without some sort of null check:</p>\n\n<pre><code>foo.run { this?.subString(1) }\n// or\nfoo?.run { subString(1) }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 11, "last_activity_date": 1520866025, "last_edit_date": 1520866025, "creation_date": 1501716870, "answer_id": 45472571, "question_id": 45470665, "link": "https://stackoverflow.com/questions/45470665/why-do-unsafe-run-call-works-fine-on-a-null-value-in-kotlin/45472571#45472571", "title": "Why do unsafe .run() call works fine on a null value in Kotlin?", "body": "<p>I believe, there are two things that both might be of some surprise: the language semantics that allow such a call, and what happens at runtime when this code executes.</p>\n\n<p>From the language side, Kotlin allows <a href=\"https://kotlinlang.org/docs/reference/extensions.html#nullable-receiver\" rel=\"nofollow noreferrer\">nullable receiver, but only for extensions</a>. To write an extension function that accepts a nullable receiver, one should either write the nullable type explicitly, or use a nullable upper bound for a type parameter (actually, when you specify no upper bound, the default one is nullable <code>Any?</code>):</p>\n\n<pre><code>fun List&lt;*&gt;?.isEmptyOrNull() = this == null || size == 0 // explicit nullable type\n</code></pre>\n\n<p></p>\n\n<pre><code>fun &lt;T : CharSequence?&gt; T.nullWhenEmpty() = if (\"$this\" == \"\") null else this // nullable T\n</code></pre>\n\n<p></p>\n\n<pre><code>fun &lt;T&gt; T.identity() = this // default upper bound Any? is nullable\n</code></pre>\n\n<p>This feature is used in <code>kotlin-stdlib</code> in several places: see <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/is-null-or-empty.html\" rel=\"nofollow noreferrer\"><code>CharSequence?.isNullOrEmpty()</code></a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/is-null-or-blank.html\" rel=\"nofollow noreferrer\"><code>CharSequence?.isNullOrBlank()</code></a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/or-empty.html\" rel=\"nofollow noreferrer\"><code>?.orEmpty()</code> for containers</a> and <a href=\"http://String?.orEmpty()\" rel=\"nofollow noreferrer\"><code>String?.orEmpty()</code></a>, and even <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/to-string.html\" rel=\"nofollow noreferrer\"><code>Any?.toString()</code></a>. Some functions like <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/let.html\" rel=\"nofollow noreferrer\"><code>T.let</code></a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/run.html\" rel=\"nofollow noreferrer\"><code>T.run</code></a> that you asked about and some others just don't provide an upper bound for the type parameter, and that defaults to nullable <code>Any?</code>. And <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/use.html\" rel=\"nofollow noreferrer\"><code>T.use</code></a> provides a nullable upper bound <code>Closeable?</code>.</p>\n\n<p>Under the hood, that is, from the runtime perspective, the extension calls are <em>not</em> compiled into the JVM member call instructions <a href=\"https://cs.au.dk/~mis/dOvs/jvmspec/ref--35.html\" rel=\"nofollow noreferrer\"><code>INVOKEVIRTUAL</code></a>, <a href=\"https://cs.au.dk/~mis/dOvs/jvmspec/ref--32.html\" rel=\"nofollow noreferrer\"><code>INVOKEINTERFACE</code></a> or <a href=\"https://cs.au.dk/~mis/dOvs/jvmspec/ref--33.html\" rel=\"nofollow noreferrer\"><code>INVOKESPECIAL</code></a> (the JVM checks the first argument of such calls, the implicit <code>this</code>, for being null and throws an NPE if it is, and this is how Java &amp; Kotlin member functions are called). Instead, the Kotlin extension functions are compiled down to static methods, and the receiver is just passed as the first argument. Such a method is called with the <a href=\"https://cs.au.dk/~mis/dOvs/jvmspec/ref--34.html\" rel=\"nofollow noreferrer\"><code>INVOKESTATIC</code></a> instruction that does not check the arguments for being null.</p>\n\n<p>Note that when a receiver of an extension can be nullable, Kotlin does not allow you to use it where a not-null value is required without checking it for null first:</p>\n\n<pre><code>fun Int?.foo() = this + 1 // error, + is not defined for nullable Int?\n</code></pre>\n"}], "owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1491, "favorite_count": 1, "accepted_answer_id": 45472571, "answer_count": 3, "score": 7, "last_activity_date": 1520866025, "creation_date": 1501706631, "last_edit_date": 1501766021, "question_id": 45470665, "link": "https://stackoverflow.com/questions/45470665/why-do-unsafe-run-call-works-fine-on-a-null-value-in-kotlin", "title": "Why do unsafe .run() call works fine on a null value in Kotlin?", "body": "<p>I have the following code fragment:</p>\n\n<pre><code>val foo: String? = null\nfoo.run { println(\"foo\") }\n</code></pre>\n\n<p>I have here a nullable variable <code>foo</code> that is actually set to <code>null</code> followed by a nonsafe <code>.run()</code> call.</p>\n\n<p>When I run the code snippet, I get <code>foo</code> printed out despite the fact that the <code>run</code> method is called on a <code>null</code>. Why is that? Why no <code>NullPointerException</code>? Why does compiler allow a nonsafe call on an optional value?</p>\n\n<p>If I pass <code>println(foo)</code>, I get a nice juicy <code>null</code> in the console so I think it's safe to assume that <code>foo</code> is actually <code>null</code>.</p>\n"}, {"tags": ["android", "multithreading", "realm", "kotlin", "rx-java"], "comments": [{"owner": {"reputation": 37399, "user_id": 906362, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/677b4a116774ecdee4b161903bdcfb28?s=128&d=identicon&r=PG", "display_name": "Budius", "link": "https://stackoverflow.com/users/906362/budius"}, "edited": false, "score": 0, "creation_date": 1501695457, "post_id": 45467355, "comment_id": 77895805, "body": "It seems to me that you&#39;re on the right path. Just create the HandlerThread and AndroidScheduler just once (a.k.a. singleton) and keep re-using them for every observable on Realm. No need to close the thread."}, {"owner": {"reputation": 81, "user_id": 6336582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bSRCm.jpg?s=128&g=1", "display_name": "curiousily", "link": "https://stackoverflow.com/users/6336582/curiousily"}, "reply_to_user": {"reputation": 37399, "user_id": 906362, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/677b4a116774ecdee4b161903bdcfb28?s=128&d=identicon&r=PG", "display_name": "Budius", "link": "https://stackoverflow.com/users/906362/budius"}, "edited": false, "score": 0, "creation_date": 1501962592, "post_id": 45467355, "comment_id": 78011758, "body": "Thanks, @Budius! Any idea if the suggested approach will allow me to execute multiple queries simultaneously (that is, in parallel)?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1502227756, "post_id": 45467355, "comment_id": 78116127, "body": "Make sure you use the async query api (<code>findAllAsync()</code> and co) for background looper threads. You can get weird race conditions using the synchronous api for some reason."}, {"owner": {"reputation": 660, "user_id": 2228201, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/04ef228dbdefbe6ebc6e1590e18b2714?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/2228201/michael"}, "edited": false, "score": 0, "creation_date": 1540807801, "post_id": 45467355, "comment_id": 92985606, "body": "why <code>AndroidScheduler </code>created from <code>HandlerThread</code> should be as a singleton? I think whenever you use your schedule it always will be using the same thread what has used at the first usage. What if you have chain of request that are executed in different threads. is that means realm request (save, loading data etc) doesn&#39;t matter on which thread is executed?"}], "owner": {"reputation": 81, "user_id": 6336582, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bSRCm.jpg?s=128&g=1", "display_name": "curiousily", "link": "https://stackoverflow.com/users/6336582/curiousily"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 831, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1501695710, "creation_date": 1501694782, "last_edit_date": 1501695710, "question_id": 45467355, "link": "https://stackoverflow.com/questions/45467355/how-to-query-realm-on-background-thread-using-rxjava2", "title": "How to query Realm on background Thread using RxJava2", "body": "<p>I want to read/query and transform Realm data on a background thread using RxJava2. Here is an Observable:</p>\n\n<pre><code>fun getAllPlayers(): Observable&lt;List&lt;Player&gt;&gt; {\n    return Observable.create { emitter -&gt;\n        val realm = Realm.getDefaultInstance()\n        val players = realm.where(Player::class.java).findAll()\n\n        val listener = RealmChangeListener&lt;RealmResults&lt;Player&gt;&gt; { players -&gt;\n            if (!emitter.isDisposed) {\n                emitter.onNext(realm.copyFromRealm(players))\n            }\n        }\n\n        emitter.setDisposable(Disposables.fromRunnable(Runnable {\n            players.removeChangeListener(listener)\n            realm.close()\n        }))\n\n        players.addChangeListener(listener)\n        emitter.onNext(realm.copyFromRealm(players))\n    }\n}\n</code></pre>\n\n<p>If I try to apply the following to the observable:</p>\n\n<pre><code>getAllPlayers()\n    .subscribeOn(Schedulers.io())\n    .observeOn(AndroidSchedulers.mainThread())\n</code></pre>\n\n<p>I get this dreadful error:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: Listeners cannot be used on the current thread. Realm cannot be automatically updated on a thread without a looper.</p>\n</blockquote>\n\n<p>Ok, let's create a Scheduler with a Looper:</p>\n\n<pre><code>fun createSubscribeOnScheduler(): Scheduler {\n    val t = HandlerThread(\"worker\")\n    if (!t.isAlive())\n        t.start()\n    return AndroidSchedulers.from(t.looper)\n}\n</code></pre>\n\n<p>We can use it as such:</p>\n\n<pre><code>val subscribeOnScheduler = createSubscribeOnScheduler()\ngetAllPlayers()\n    .subscribeOn(subscribeOnScheduler)\n    .unsubscribeOn(subscribeOnScheduler)\n    .observeOn(AndroidSchedulers.mainThread())\n</code></pre>\n\n<p>Now everything works just fine. However, who is going to kill that HandlerThread? What if <code>getAllPlayer()</code> is called simultaneously from multiple places? Do other (and better) solutions exist for querying Realm on a background thread using RxJava2?</p>\n"}, {"tags": ["css", "kotlin", "tornadofx"], "answers": [{"tags": [], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "is_accepted": true, "score": 3, "last_activity_date": 1501694004, "creation_date": 1501694004, "answer_id": 45467110, "question_id": 45466631, "link": "https://stackoverflow.com/questions/45466631/how-to-bind-node-style-or-styleclass-to-a-property/45467110#45467110", "title": "How to bind Node style (or styleClass) to a property?", "body": "<p>If you want to toggle a class (add or remove a class based on a boolean property), you can use the <code>Node.toggleClass(CssRule, ObservableValue&lt;Boolean&gt;)</code> function.</p>\n\n<pre><code>val someBooleanProperty = SimpleBooleanProperty(true)\n...\nborderpane {\n    toggleClass(Styles.red, someBooleanProperty)\n    toggleClass(Styles.green, someBooleanProperty.not())\n}\n</code></pre>\n\n<hr>\n\n<p>If, on the other hand, you want to bind to a changing class value, you can use the <code>Node.bindClass(ObservableValue&lt;CssRule&gt;)</code> function.</p>\n\n<pre><code>val someClassyProperty = SimpleObjectProperty(Styles.red)\n...\nborderpane {\n    bindClass(someClassyProperty)\n}\n</code></pre>\n\n<p>You can then set the class to whatever you want.</p>\n"}], "owner": {"reputation": 49, "user_id": 7495504, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d79e5f2a1e0299d39595f9e86fa1c8d4?s=128&d=identicon&r=PG&f=1", "display_name": "skiey", "link": "https://stackoverflow.com/users/7495504/skiey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 432, "favorite_count": 0, "accepted_answer_id": 45467110, "answer_count": 1, "score": 2, "last_activity_date": 1619229528, "creation_date": 1501692455, "last_edit_date": 1619229528, "question_id": 45466631, "link": "https://stackoverflow.com/questions/45466631/how-to-bind-node-style-or-styleclass-to-a-property", "title": "How to bind Node style (or styleClass) to a property?", "body": "<p>Consider the following example:</p>\n\n<pre><code>class MainView : View(\"Example\") {\n    val someBooleanProperty: SimpleBooleanProperty = SimpleBooleanProperty(true)\n    override val root = borderpane {\n        paddingAll = 20.0\n        center = button(\"Change bg color\") {\n            action {\n                // let's assume that new someBooleanProperty value is updated\n                // from some API after button clicked\n                // so changing style of the borderpane in action block\n                // of the button is not the solution\n                someBooleanProperty.value = !someBooleanProperty.value\n            }\n        }\n    }\n}\n\nclass Styles : Stylesheet() {\n    companion object {\n        val red by cssclass()\n        val green by cssclass()\n    }\n\n    init {\n        red { backgroundColor += Color.RED }\n        green { backgroundColor += Color.GREEN }\n    }\n}\n</code></pre>\n\n<p>How can I dynamically change the background color of <code>borderpane</code> depending on <code>someBooleanProperty</code> (e.g RED when <code>true</code> and GREEN when <code>false</code>)? Is there possibility to bind CSS class to a property? Is there any solution to do that without using CSS (meaning inside <code>style</code> block etc)</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1501687923, "post_id": 45465081, "comment_id": 77890987, "body": "Really, it&#39;s typically considered bad practice to modify arguments. I&#39;d create a new variable with a different name, assign it to the parameter, then use it. Also, can you declare the parameter as a <code>var</code>?"}, {"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 1, "creation_date": 1501688169, "post_id": 45465081, "comment_id": 77891186, "body": "@Carcigenicate  You can&#39;t designate function parameters as val/var in Kotlin.They are implied to be <code>val</code>."}, {"owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "edited": false, "score": 0, "creation_date": 1501688470, "post_id": 45465081, "comment_id": 77891417, "body": "why it is considered a bad practice I don&#39;t want to change the parameter in the outer scope just to avoid assign it. I think assign is more confusing,"}], "answers": [{"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1501687930, "post_id": 45465082, "comment_id": 77890999, "body": "that&#39;s interesting Kotlin can define variables with duplicated parameter name. maybe it is a bug. +1"}, {"owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501689013, "post_id": 45465082, "comment_id": 77891827, "body": "No, it&#39;s not, it&#39;s only a bad practice."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501689111, "post_id": 45465082, "comment_id": 77891899, "body": "thanks, I got it. but you can&#39;t define any shadow variable in Java. In fact, Kotlin defined another local variable for that, you also can change the local variable type, e.g: <code>var i:String = &quot;foo&quot;</code>."}], "tags": [], "owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "is_accepted": false, "score": 0, "last_activity_date": 1501688262, "last_edit_date": 1501688262, "creation_date": 1501687851, "answer_id": 45465082, "question_id": 45465081, "link": "https://stackoverflow.com/questions/45465081/cant-reuse-function-parameters/45465082#45465082", "title": "Can&#39;t reuse function parameters", "body": "<p>the only solution I found is to use name shadowing i.e something like that</p>\n\n<pre><code>fun test(i: Int) {\n    var i = i\n    i += 5\n}\n</code></pre>\n\n<hr>\n\n<p>I'm not sure if it the best solution because it doesn't feel right, even  IntelliJ IDEA warns me about it.</p>\n\n<p>I was hoping for thing magical like </p>\n\n<pre><code>fun test(var i: Int) {\n    i += 5\n}\n</code></pre>\n\n<p>but unfortuantly this doesn't even comile.</p>\n"}, {"comments": [{"owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "edited": false, "score": 0, "creation_date": 1501688587, "post_id": 45465299, "comment_id": 77891515, "body": "I have considered it,  but in my case, the parameter names are width and height.  and I feel renaming it would lead to less readable code."}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 4, "last_activity_date": 1501688465, "creation_date": 1501688465, "answer_id": 45465299, "question_id": 45465081, "link": "https://stackoverflow.com/questions/45465081/cant-reuse-function-parameters/45465299#45465299", "title": "Can&#39;t reuse function parameters", "body": "<p>In Kotlin, function arguments are treated as <code>val</code>. That means you'll have to do something inside your function in order to \"modifty\" its reference.</p>\n\n<p>Your solution will work, but I feel that it's a bad practice to shadow variables. It leads to confusion, and doesn't quite accurately cover the intent that you understand that the effect is local to the function.</p>\n\n<p>I would go with something like this:</p>\n\n<pre><code>fun test(i: Int) {\n    var i2 = i\n    i2 += 3 // etc...\n}\n</code></pre>\n"}], "owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 323, "favorite_count": 0, "closed_date": 1501689198, "accepted_answer_id": 45465299, "answer_count": 2, "score": 2, "last_activity_date": 1501688465, "creation_date": 1501687851, "question_id": 45465081, "link": "https://stackoverflow.com/questions/45465081/cant-reuse-function-parameters", "closed_reason": "Duplicate", "title": "Can&#39;t reuse function parameters", "body": "<p>I'm trying to reuse function parameters some thing like this</p>\n\n<pre><code>fun test(i: Int) {\n    i += 5\n}\n</code></pre>\n\n<p>but as noted in <a href=\"https://discuss.kotlinlang.org/t/function-parameters-are-val-not-var/897\" rel=\"nofollow noreferrer\">this distinction</a>  </p>\n\n<blockquote>\n  <p>Function parameters are <code>val</code> not <code>var</code></p>\n</blockquote>\n"}, {"tags": ["android", "kotlin", "code-coverage", "jacoco"], "comments": [{"owner": {"reputation": 11689, "user_id": 563904, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0668bb28edd4ea4e18f07b7e416fc7d?s=128&d=identicon&r=PG", "display_name": "Entreco", "link": "https://stackoverflow.com/users/563904/entreco"}, "edited": false, "score": 0, "creation_date": 1502919173, "post_id": 45464138, "comment_id": 78404503, "body": "<a href=\"https://stackoverflow.com/questions/45350561/android-studio-3-kotlin-code-coverage\" title=\"android studio 3 kotlin code coverage\">stackoverflow.com/questions/45350561/&hellip;</a>"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1503889440, "post_id": 45464138, "comment_id": 78781250, "body": "Not just Jacoco, even the default Coverage from Intellij IDEA is also 0. Everything is 0 when it is Kotlin. <a href=\"https://stackoverflow.com/questions/45819700/android-studio-3-0-gradle-3-0-0-beta2-breaks-kotlin-unit-test-coverage\" title=\"android studio 3 0 gradle 3 0 0 beta2 breaks kotlin unit test coverage\">stackoverflow.com/questions/45819700/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 664, "user_id": 4808528, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ku1lM.jpg?s=128&g=1", "display_name": "Floam", "link": "https://stackoverflow.com/users/4808528/floam"}, "is_accepted": false, "score": 0, "last_activity_date": 1504293861, "creation_date": 1504293861, "answer_id": 46006794, "question_id": 45464138, "link": "https://stackoverflow.com/questions/45464138/jacoco-returning-0-coverage-with-kotlin-and-android-3-0/46006794#46006794", "title": "JaCoCo returning 0% Coverage with Kotlin and Android 3.0", "body": "<p>After a few days, I figured out a solution to this problem. For those of you experiencing similar issues:\nIn your intermediates folder there should be a tmp folder. This folder contains the .class files for the Kotlin files. If you change the path of fileTree(dir: \"${buildDir}/intermediates/classes/debug\", excludes: fileFilter) to where those class files are located, Jacoco will generate code coverage for you! Please note that you will not be able to see a full, line-by-line overview of your coverage using this method.</p>\n"}, {"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1513047101, "post_id": 46083078, "comment_id": 82490615, "body": "This is as per reported in stackoverflow.com/a/45354933/3286489. But if observe carefully, it is reporting the coverage of the test code, not the app code. :("}, {"owner": {"reputation": 4103, "user_id": 1078098, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/dd18fe66a6ea99c3785681b8013c59a4?s=128&d=identicon&r=PG", "display_name": "Veaceslav Gaidarji", "link": "https://stackoverflow.com/users/1078098/veaceslav-gaidarji"}, "edited": false, "score": 4, "creation_date": 1513852951, "post_id": 46083078, "comment_id": 82813943, "body": "Proposed solution should work. I wasn&#39;t aware of this post, and fixed it in a similar way. Wrote a blog post about that: <a href=\"http://vgaidarji.me/blog/2017/12/20/how-to-configure-jacoco-for-kotlin-and-java-project/\" rel=\"nofollow noreferrer\">vgaidarji.me/blog/2017/12/20/&hellip;</a>"}, {"owner": {"reputation": 615, "user_id": 1402551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f4d6c84ba4e816e4e4ab16668ff2ebe?s=128&d=identicon&r=PG&f=1", "display_name": "Clinkz", "link": "https://stackoverflow.com/users/1402551/clinkz"}, "reply_to_user": {"reputation": 4103, "user_id": 1078098, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/dd18fe66a6ea99c3785681b8013c59a4?s=128&d=identicon&r=PG", "display_name": "Veaceslav Gaidarji", "link": "https://stackoverflow.com/users/1078098/veaceslav-gaidarji"}, "edited": false, "score": 0, "creation_date": 1523594640, "post_id": 46083078, "comment_id": 86633574, "body": "Thanks @VeaceslavGaidarji!"}, {"owner": {"reputation": 483, "user_id": 3354594, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/5QoRg.jpg?s=128&g=1", "display_name": "charitha amarasinghe", "link": "https://stackoverflow.com/users/3354594/charitha-amarasinghe"}, "edited": false, "score": 0, "creation_date": 1591937100, "post_id": 46083078, "comment_id": 110249682, "body": "classDirectories is deprecated. so what should be the answer"}, {"owner": {"reputation": 1011, "user_id": 4595503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3951dc464fb03f40313c3712f42fc4ed?s=128&d=identicon&r=PG&f=1", "display_name": "farmerbb", "link": "https://stackoverflow.com/users/4595503/farmerbb"}, "reply_to_user": {"reputation": 483, "user_id": 3354594, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/5QoRg.jpg?s=128&g=1", "display_name": "charitha amarasinghe", "link": "https://stackoverflow.com/users/3354594/charitha-amarasinghe"}, "edited": false, "score": 1, "creation_date": 1594241327, "post_id": 46083078, "comment_id": 111061392, "body": "@charithaamarasinghe Use <code>classDirectories.from</code> instead of <code>classDirectories</code>"}], "tags": [], "owner": {"reputation": 1011, "user_id": 4595503, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3951dc464fb03f40313c3712f42fc4ed?s=128&d=identicon&r=PG&f=1", "display_name": "farmerbb", "link": "https://stackoverflow.com/users/4595503/farmerbb"}, "is_accepted": true, "score": 28, "last_activity_date": 1594241347, "last_edit_date": 1594241347, "creation_date": 1504726604, "answer_id": 46083078, "question_id": 45464138, "link": "https://stackoverflow.com/questions/45464138/jacoco-returning-0-coverage-with-kotlin-and-android-3-0/46083078#46083078", "title": "JaCoCo returning 0% Coverage with Kotlin and Android 3.0", "body": "<p>You can get line-by-line coverage for both Java and Kotlin code by defining the two different directories for generated .class files:</p>\n<pre><code>def debugTree = fileTree(dir: &quot;${buildDir}/intermediates/classes/debug&quot;, excludes: fileFilter)\ndef kotlinDebugTree = fileTree(dir: &quot;${buildDir}/tmp/kotlin-classes/debug&quot;, excludes: fileFilter)\n</code></pre>\n<p>Then, simply include both fileTrees in your classDirectories:</p>\n<pre><code>classDirectories.from = files([debugTree], [kotlinDebugTree])\n</code></pre>\n"}], "owner": {"reputation": 664, "user_id": 4808528, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ku1lM.jpg?s=128&g=1", "display_name": "Floam", "link": "https://stackoverflow.com/users/4808528/floam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8617, "favorite_count": 8, "accepted_answer_id": 46083078, "answer_count": 2, "score": 37, "last_activity_date": 1594241347, "creation_date": 1501685399, "last_edit_date": 1501688647, "question_id": 45464138, "link": "https://stackoverflow.com/questions/45464138/jacoco-returning-0-coverage-with-kotlin-and-android-3-0", "title": "JaCoCo returning 0% Coverage with Kotlin and Android 3.0", "body": "<p>I am trying to check my code coverage for a test case that I wrote in Kotlin. When I execute <code>./gradlew createDebugCoverageReport --info</code>, my coverage.ec file is empty and my reports indicate that I have 0% coverage. Please note, the test cases are 100% successful. Can anyone think of any reasons my coverage.ec file keeps returning 0 bytes?</p>\n\n<p>I have searched everywhere with no luck. </p>\n\n<pre><code>apply plugin: 'com.android.library'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'jacoco'\n\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.3\"\n    defaultConfig {\n        minSdkVersion 16\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n\n    buildTypes {\n        debug {\n            testCoverageEnabled = true\n        }\n        release {\n            minifyEnabled false\n            testCoverageEnabled = true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n\n    testOptions {\n        unitTests.all {\n            jacoco {\n                includeNoLocationClasses = true\n            }\n        }\n    }\n\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:25.4.0'\n    testImplementation 'junit:junit:4.12'\n    implementation files('pathtosomejarfile')\n\n}\n\n\n\njacoco {\n    toolVersion = \"0.7.6.201602180812\"\n    reportsDir = file(\"$buildDir/customJacocoReportDir\")\n\n}\n\n\n\ntask jacocoTestReport(type: JacocoReport, dependsOn: ['testDebugUnitTest', 'createDebugCoverageReport']) {\n\n    reports {\n        xml.enabled = true\n        html.enabled = true\n    }\n\n    def fileFilter = ['**/R.class', '**/R$*.class', '**/BuildConfig.*', '**/Manifest*.*', '**/*Test*.*', 'android/**/*.*']\n    def debugTree = fileTree(dir: \"${buildDir}/intermediates/classes/debug\", excludes: fileFilter)\n    def mainSrc = \"${project.projectDir}/src/androidTest/java\"\n\n    sourceDirectories = files([mainSrc])\n    classDirectories = files([debugTree])\n    executionData = fileTree(dir: \"$buildDir\", includes: [\n            \"jacoco/testDebugUnitTest.exec\",\n            \"outputs/code-coverage/connected/*coverage.ec\"\n    ])\n}\n</code></pre>\n"}, {"tags": ["mockito", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": true, "score": 1, "last_activity_date": 1501830393, "creation_date": 1501830393, "answer_id": 45500266, "question_id": 45463355, "link": "https://stackoverflow.com/questions/45463355/mockito-mock-creation-inside-mock-creation/45500266#45500266", "title": "Mockito mock creation inside mock creation", "body": "<p>Judging by the naming, I assume you're using <a href=\"https://github.com/nhaarman/mockito-kotlin\" rel=\"nofollow noreferrer\">nhaarman/Mockito-Kotlin</a>?</p>\n\n<p>Mockito is stateful, you must create mocks sequentially, but there are some ways of flipping the order of evaluation. For example,</p>\n\n<pre><code>val mockHttpHandlerContext2 = mock&lt;HttpHandlerContext&gt;() {\n    mock&lt;HttpRequest&gt;() {\n        on { queryParameters }.thenReturn(mapOf(\n                \"itype\" to listOf(\"msisdn\"),\n                \"uid\" to listOf(inputMsisdn)\n        ))\n    }.let { on { request }.thenReturn(it) }\n    on { scope() }.thenReturn(ProcessingScope.of(Timings(\"test\", 1000L)))\n}\n</code></pre>\n\n<p>I'm taking advantage of the <code>mock()</code> overload with a <code>KStubbing&lt;T&gt;</code> receiver, but the important bit is creating the inner mock first before using <code>.let</code> to set it on the stub.</p>\n\n<p>Another option would be to use <code>.thenAnswer</code> to defer creation of the inner mock until the time when stubbed method is called.</p>\n\n<pre><code>val mockHttpHandlerContext = mock&lt;HttpHandlerContext&gt;() {\n    on { request }.thenAnswer {\n        mock&lt;HttpRequest&gt;() {\n            on { queryParameters }.thenReturn(mapOf(\n                    \"itype\" to listOf(\"msisdn\"),\n                    \"uid\" to listOf(inputMsisdn)\n            ))\n        }\n    }\n    on { scope() }.thenReturn((ProcessingScope.of(Timings(\"test\", 1000L)))\n}\n</code></pre>\n\n<p>Note that this will create a new mock every time the stubbed method is called. It might not be desirable in some situations, such as if you want to perform verification on the inner mock.</p>\n"}], "owner": {"reputation": 15580, "user_id": 318558, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8f961340d115c2b75968f226f1d2dc24?s=128&d=identicon&r=PG", "display_name": "Yuri Geinish", "link": "https://stackoverflow.com/users/318558/yuri-geinish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 45500266, "answer_count": 1, "score": 0, "last_activity_date": 1501830393, "creation_date": 1501683271, "last_edit_date": 1501830386, "question_id": 45463355, "link": "https://stackoverflow.com/questions/45463355/mockito-mock-creation-inside-mock-creation", "title": "Mockito mock creation inside mock creation", "body": "<p>The error I get is <code>org.mockito.exceptions.misusing.UnfinishedStubbingException</code>, with one of the possible reasons \"you are stubbing the behaviour of another mock inside before 'thenReturn' instruction if completed\".</p>\n\n<pre><code>    val mockHttpHandlerContext = mock&lt;HttpHandlerContext&gt;().let {\n        whenever(it.request).thenReturn(mock&lt;HttpRequest&gt;().let {\n            whenever(it.queryParameters).thenReturn(mapOf(\n                    \"itype\" to listOf(\"msisdn\"),\n                    \"uid\" to listOf(inputMsisdn)\n            ))\n            it\n        })\n        whenever(it.scope()).thenReturn(ProcessingScope.of(Timings(\"test\", 1000L)))\n        it\n    }\n</code></pre>\n\n<p>Is the only solution to get rid of nested mock creation? It would really make code harder to understand, maybe there is a known workaround?</p>\n\n<p>The code snippet is Kotlin.</p>\n"}, {"tags": ["android", "kotlin", "parcelable"], "answers": [{"tags": [], "owner": {"reputation": 426, "user_id": 8405161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10ebfe44efae69b3085f3748019bfc03?s=128&d=identicon&r=PG&f=1", "display_name": "Lid", "link": "https://stackoverflow.com/users/8405161/lid"}, "is_accepted": true, "score": 39, "last_activity_date": 1501673468, "creation_date": 1501673468, "answer_id": 45459675, "question_id": 45459273, "link": "https://stackoverflow.com/questions/45459273/kotlin-parcelable-and-arraylist-of-parcelables/45459675#45459675", "title": "Kotlin parcelable and arrayList of parcelables", "body": "<p>Replace:</p>\n\n<pre><code>arrayListOf&lt;OrderedService&gt;().apply {\n    parcelIn.readArrayList(OrderedService::class.java.classLoader)\n}\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>arrayListOf&lt;OrderedService&gt;().apply {\n    parcelIn.readList(this, OrderedService::class.java.classLoader)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1088, "user_id": 3022775, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fKr2Q.jpg?s=128&g=1", "display_name": "Ronaldo Albertini", "link": "https://stackoverflow.com/users/3022775/ronaldo-albertini"}, "is_accepted": false, "score": 8, "last_activity_date": 1518803705, "creation_date": 1518803705, "answer_id": 48832393, "question_id": 45459273, "link": "https://stackoverflow.com/questions/45459273/kotlin-parcelable-and-arraylist-of-parcelables/48832393#48832393", "title": "Kotlin parcelable and arrayList of parcelables", "body": "<p>Change</p>\n\n<pre><code>arrayListOf&lt;OrderedService&gt;().apply {\n    parcelIn.readArrayList(OrderedService::class.java.classLoader)\n}\n</code></pre>\n\n<p>to</p>\n\n<pre><code>source.createTypedArrayList(OrderedService.CREATOR)\n</code></pre>\n\n<p>Change <code>dest?.writeList(orderedServices)</code></p>\n\n<p>to <code>dest?.writeTypedList(orderedServices)</code></p>\n\n<p>The creator method</p>\n\n<pre><code>    companion object {\n    @JvmField\n    val CREATOR: Parcelable.Creator&lt;Trip&gt; = object : Parcelable.Creator&lt;Trip&gt; {\n        override fun createFromParcel(source: Parcel): Trip = Trip(source)\n        override fun newArray(size: Int): Array&lt;Trip?&gt; = arrayOfNulls(size)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 887, "user_id": 5375263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4J2rZ.png?s=128&g=1", "display_name": "John Codeos", "link": "https://stackoverflow.com/users/5375263/john-codeos"}, "is_accepted": false, "score": 3, "last_activity_date": 1572481991, "creation_date": 1572481991, "answer_id": 58635427, "question_id": 45459273, "link": "https://stackoverflow.com/questions/45459273/kotlin-parcelable-and-arraylist-of-parcelables/58635427#58635427", "title": "Kotlin parcelable and arrayList of parcelables", "body": "<p><strong>For API 29 and above</strong></p>\n\n<p>Replace:</p>\n\n<pre><code>arrayListOf&lt;OrderedService&gt;().apply {\n    parcelIn.readArrayList(OrderedService::class.java.classLoader)\n}\n</code></pre>\n\n<p>with</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= 29)\n    parcel.readParcelableList(this, OrderedService::class.java.classLoader)\nelse\n    parcel.readList(this as List&lt;OrderedService&gt;, OrderedService::class.java.classLoader)\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>override fun writeToParcel(dest: Parcel?, flags: Int) {\n    dest?.writeString(id)\n    dest?.writeString(status)\n    dest?.writeList(orderedServices)\n}\n</code></pre>\n\n<p>with</p>\n\n<pre><code>override fun writeToParcel(dest: Parcel?, flags: Int) {\n    dest?.writeString(id)\n    dest?.writeString(status)\n    if (Build.VERSION.SDK_INT &gt;= 29) {\n        dest?.writeParcelableList(orderedServices,flags)\n    } else {\n        dest?.writeList(orderedServices as List&lt;OrderedService&gt;)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 429, "user_id": 9115195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4192cc499e9d7b6a697cdbc28b347b0b?s=128&d=identicon&r=PG&f=1", "display_name": "Pratik Dodiya", "link": "https://stackoverflow.com/users/9115195/pratik-dodiya"}, "is_accepted": false, "score": 0, "last_activity_date": 1607627263, "creation_date": 1607627263, "answer_id": 65240786, "question_id": 45459273, "link": "https://stackoverflow.com/questions/45459273/kotlin-parcelable-and-arraylist-of-parcelables/65240786#65240786", "title": "Kotlin parcelable and arrayList of parcelables", "body": "<p>If Parent and Child model have parcelable then used below one</p>\n<p><strong>Parent Model</strong></p>\n<pre><code>Parcelable {\n    constructor(parcel: Parcel) : this(\n        parcel.createTypedArrayList(ImagesModel.CREATOR)\n    )\n}\n\noverride fun writeToParcel(parcel: Parcel, flags: Int) {\n        parcel.writeTypedList(images)\n}\n</code></pre>\n"}], "owner": {"reputation": 2773, "user_id": 3403069, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/yvxCD.png?s=128&g=1", "display_name": "JozeRi", "link": "https://stackoverflow.com/users/3403069/jozeri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21417, "favorite_count": 4, "accepted_answer_id": 45459675, "answer_count": 4, "score": 20, "last_activity_date": 1607627263, "creation_date": 1501672363, "last_edit_date": 1501680267, "question_id": 45459273, "link": "https://stackoverflow.com/questions/45459273/kotlin-parcelable-and-arraylist-of-parcelables", "title": "Kotlin parcelable and arrayList of parcelables", "body": "<p>I am trying to write a parcelable data object to pass to from <strong>activityA</strong> to <strong>activityB</strong> in my android application.</p>\n\n<p>My object is passing with all the data, except my <code>arraylist</code> of the class Available Service</p>\n\n<pre><code>data class AvailableService(val id: Int,\n                        val name: String,\n                        val description: String,\n                        val price: Double,\n                        val currency: String,\n                        val imageUrl: String) : Parcelable {\n\ncompanion object {\n    @JvmField @Suppress(\"unused\")\n    val CREATOR = createParcel { AvailableService(it) }\n}\n\nprotected constructor(parcelIn: Parcel) : this(parcelIn.readInt(),\n        parcelIn.readString(),\n        parcelIn.readString(),\n        parcelIn.readDouble(),\n        parcelIn.readString(),\n        parcelIn.readString())\n\noverride fun writeToParcel(dest: Parcel?, flags: Int) {\n    dest?.writeInt(id)\n    dest?.writeString(name)\n    dest?.writeString(description)\n    dest?.writeDouble(price)\n    dest?.writeString(currency)\n    dest?.writeString(imageUrl)\n}\n\noverride fun describeContents() = 0\n}\n</code></pre>\n\n<p>above is the available <code>serviceClass</code>, next I have Trip, which holds an <code>arraylist</code> of <code>AvailableService</code>.. I observed this in debug, it is successfully writing the <code>arraylist</code>, for some reason I have an issue with reading the data.</p>\n\n<pre><code>data class Trip(val id: String,\n            val status: String,\n            val orderedServices: ArrayList&lt;OrderedService&gt;) : Parcelable {\n\ncompanion object {\n    @JvmField @Suppress(\"unused\")\n    val CREATOR = createParcel { Trip(it) }\n}\n\nprotected constructor(parcelIn: Parcel) : this(parcelIn.readString(),\n        parcelIn.readString(),\n        arrayListOf&lt;OrderedService&gt;().apply {\n            parcelIn.readArrayList(OrderedService::class.java.classLoader)\n        }\n)\n\noverride fun writeToParcel(dest: Parcel?, flags: Int) {\n    dest?.writeString(id)\n    dest?.writeString(status)\n    dest?.writeList(orderedServices)\n}\n\noverride fun describeContents() = 0\n}\n</code></pre>\n\n<p>in case someone wonders what's the fun of the CREATOR does, code below:</p>\n\n<pre><code>inline fun &lt;reified T : Parcelable&gt; createParcel(\n    crossinline createFromParcel: (Parcel) -&gt; T?): Parcelable.Creator&lt;T&gt; =\n    object : Parcelable.Creator&lt;T&gt; {\n        override fun createFromParcel(source: Parcel): T? = createFromParcel(source)\n        override fun newArray(size: Int): Array&lt;out T?&gt; = arrayOfNulls(size)\n    }\n</code></pre>\n\n<p>again, writing succeeds, but reading fails, I get an empty <code>arraylist</code>..\nI think that part is the faulty one:</p>\n\n<pre><code>arrayListOf&lt;OrderedService&gt;().apply {\n        parcelIn.readArrayList(OrderedService::class.java.classLoader)\n    }\n</code></pre>\n\n<p>is there a different way to read/write <code>arraylist</code>? am I writing it wrong? reading it wrong?</p>\n\n<p>thanks in advance for any help!</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "edited": false, "score": 0, "creation_date": 1501669093, "post_id": 45457744, "comment_id": 77876174, "body": "can you put your interceptor provider over your client provider and try to re-build again?"}, {"owner": {"reputation": 281, "user_id": 2668333, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d358a1823dfcf871f93422b04cb6a2c?s=128&d=identicon&r=PG", "display_name": "grenzfrequence", "link": "https://stackoverflow.com/users/2668333/grenzfrequence"}, "reply_to_user": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "edited": false, "score": 0, "creation_date": 1501669270, "post_id": 45457744, "comment_id": 77876302, "body": "That makes no different. But I tried it. Same problem."}, {"owner": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "edited": false, "score": 0, "creation_date": 1501669361, "post_id": 45457744, "comment_id": 77876375, "body": "i know it should not make a difference but i fixed a problem somehow like this. when you&#39;re trying to use dagger with kotlin you face some interesting problems and solutions."}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 2, "creation_date": 1501670536, "post_id": 45457744, "comment_id": 77877231, "body": "You could try and have a look at the Kotlin Bytecode (Action &quot;Show Kotlin Bytecode) and decompile it to java, to see if they mix up some types."}], "answers": [{"comments": [{"owner": {"reputation": 281, "user_id": 2668333, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d358a1823dfcf871f93422b04cb6a2c?s=128&d=identicon&r=PG", "display_name": "grenzfrequence", "link": "https://stackoverflow.com/users/2668333/grenzfrequence"}, "edited": false, "score": 0, "creation_date": 1502835385, "post_id": 45461344, "comment_id": 78363090, "body": "Hey thanks a lot. I used number 3: MutableList works."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 10, "last_activity_date": 1501678490, "last_edit_date": 1501678490, "creation_date": 1501678148, "answer_id": 45461344, "question_id": 45457744, "link": "https://stackoverflow.com/questions/45457744/dagger-2-doesnt-recognize-provide-method-in-kotlin-java-works-fine/45461344#45461344", "title": "Dagger 2 doesn&#39;t recognize provide method in Kotlin. Java works fine", "body": "<p>Turns out this is a generics interop issue.</p>\n\n<p>When you use a <code>List</code> of an interface (like <code>Interceptor</code>) as a parameter in Kotlin, you see it as having a wildcard for the type parameter of the list from Java's point of view, because <code>List</code> is covariant:</p>\n\n<pre><code>OkHttpClient provideClient(List&lt;? extends Interceptor&gt; interceptors) { ... }\n</code></pre>\n\n<p>However, this wildcard doesn't get added for return types.</p>\n\n<pre><code>List&lt;Interceptor&gt; provideInterceptors() { ... }\n</code></pre>\n\n<p>You can check this by creating an instance of your module in a Java file, and looking at the methods offered by the autocompletion.</p>\n\n<p>So the problem is that Dagger is looking for a <code>List&lt;? extends Interceptor&gt;</code> while your other method is returning a <code>List&lt;Interceptor&gt;</code>.</p>\n\n<p>Possible solutions:</p>\n\n<ol>\n<li><p>Use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-suppress-wildcards/index.html\" rel=\"noreferrer\"><code>@JvmSuppressWildCards</code></a> annotation to prevent the wildcard from being added (see a related question <a href=\"https://stackoverflow.com/questions/44209856/prevent-kotlin-from-forcing-java-to-see-a-wildcard-type\">here</a>). This can be used in just about any scope, all the way from the entire module to only on the single type parameter you're having an issue with:</p>\n\n<pre><code>interceptors: List&lt;@JvmSuppressWildcards Interceptor&gt;?\n</code></pre></li>\n<li><p>Add explicit <code>out</code> variance on the <code>List</code> that you're returning in the <code>provideInterceptors</code> method. Interestingly, this doesn't show when you look at autocompletion from Java, but it fixes the build.</p>\n\n<pre><code>fun provideInterceptors(): List&lt;out Interceptor&gt;? { ... }\n</code></pre></li>\n<li><p>Use the <code>MutableList</code> interface, which as you've discovered, doesn't have this issue.</p></li>\n</ol>\n\n<hr>\n\n<p>As for why this only happens when you use a <code>List</code> and not a <code>MutableList</code>: <code>List</code> only has its type parameter in <code>out</code> positions, and therefore, it's covariant. This causes the the wildcard to be generated for a <code>List</code> but not for the invariant <code>MutableList</code> (which is why that works fine).</p>\n\n<p>Also note that this wildcard generation only happens when the type parameter is a non-final type (an open class or an interface). So you wouldn't get this issue for, say a <code>List&lt;StringBuilder&gt;</code> (which is final), but you'd get it for a \n<code>List&lt;BufferedReader&gt;</code> (which isn't).</p>\n"}], "owner": {"reputation": 281, "user_id": 2668333, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d358a1823dfcf871f93422b04cb6a2c?s=128&d=identicon&r=PG", "display_name": "grenzfrequence", "link": "https://stackoverflow.com/users/2668333/grenzfrequence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 705, "favorite_count": 1, "accepted_answer_id": 45461344, "answer_count": 1, "score": 3, "last_activity_date": 1501678490, "creation_date": 1501668286, "last_edit_date": 1501669369, "question_id": 45457744, "link": "https://stackoverflow.com/questions/45457744/dagger-2-doesnt-recognize-provide-method-in-kotlin-java-works-fine", "title": "Dagger 2 doesn&#39;t recognize provide method in Kotlin. Java works fine", "body": "<p>Dagger doesn't recognize one provided method in Kotlin. This is the important part of the module:    </p>\n\n<pre><code>    @Provides\n    @AppScope\n    fun provideClient(cache: Cache, interceptors: List&lt;Interceptor&gt;?): OkHttpClient {\n\n        val httpBuilder = OkHttpClient.Builder()\n\n        interceptors?.let {\n            for (interceptor in interceptors) {\n                httpBuilder.addInterceptor(interceptor)\n            }\n        }\n\n        return httpBuilder\n                .cache(cache)\n                .build()\n    }\n\n    @Provides\n    @AppScope\n    fun provideInterceptors(): List&lt;Interceptor&gt;? {\n        return listOf(HttpLoggingInterceptor().setLevel(WebServiceConfig.LOGGING_LEVEL))\n    }\n</code></pre>\n\n<p>The error message is as follows:</p>\n\n<pre><code>AppComponent.java:15: error: java.util.List&lt;? extends okhttp3.Interceptor&gt; cannot be provided without an @Provides-annotated method.\n</code></pre>\n\n<p>If I use MutableList, then it works. Therefore the question is: what is the problem with List in Dagger2 / Kotlin?</p>\n"}, {"tags": ["android", "lambda", "kotlin", "listener"], "answers": [{"tags": [], "owner": {"reputation": 1050, "user_id": 2379746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7e1395d5244036d7199c42112b354e?s=128&d=identicon&r=PG", "display_name": "Kharda", "link": "https://stackoverflow.com/users/2379746/kharda"}, "is_accepted": true, "score": 3, "last_activity_date": 1501665426, "creation_date": 1501665426, "answer_id": 45456568, "question_id": 45456311, "link": "https://stackoverflow.com/questions/45456311/setting-android-listeners-in-kotlin-usage-of-return-in-lambdas/45456568#45456568", "title": "Setting Android listeners in Kotlin - usage of return in lambdas", "body": "<p>Just do it this way, without return word</p>\n\n<pre><code>expandable_list.setOnChildClickListener { expandableListView, view, groupPosition, childPosition, l -&gt;\n    Toast.makeText(\n            applicationContext,\n            listDataHeader[groupPosition]\n                    + \" : \"\n                    + listDataChild[listDataHeader[groupPosition]]!![childPosition],\n            Toast.LENGTH_SHORT).show()\n    false}\n</code></pre>\n"}], "owner": {"reputation": 2101, "user_id": 1470479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f38b09e68131cc2431997616b52976f5?s=128&d=identicon&r=PG", "display_name": "lidkxx", "link": "https://stackoverflow.com/users/1470479/lidkxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 905, "favorite_count": 0, "accepted_answer_id": 45456568, "answer_count": 1, "score": 1, "last_activity_date": 1515361783, "creation_date": 1501664740, "last_edit_date": 1515361783, "question_id": 45456311, "link": "https://stackoverflow.com/questions/45456311/setting-android-listeners-in-kotlin-usage-of-return-in-lambdas", "title": "Setting Android listeners in Kotlin - usage of return in lambdas", "body": "<p>Consider this listener code:</p>\n\n<pre><code>        expandable_list.setOnChildClickListener { expandableListView, view, groupPosition, childPosition, l -&gt;\n        Toast.makeText(\n                applicationContext,\n                listDataHeader[groupPosition]\n                        + \" : \"\n                        + listDataChild[listDataHeader[groupPosition]]!![childPosition],\n                Toast.LENGTH_SHORT).show()\n    return false}\n</code></pre>\n\n<p>It won't work, and I am getting \"return is not allowed here\" error form IDE. I've searched a bit and it turns out explicit returns do not work in lambdas, but the signature of the method I am trying to use is:</p>\n\n<p><code>public final fun setOnChildClickListener(onChildClickListener:((ExpandableListView!, View!, Int, Int, Long) -&gt; Boolean)!\u00a0: Unit</code></p>\n\n<p>My workaround is to define my listener logic in a separate function that returns Boolean like so:</p>\n\n<pre><code>    private fun myBooleanReturningFun(): Boolean {\n    Toast.makeText(\n            applicationContext,\n            \"I work from here\",\n            Toast.LENGTH_SHORT).show()\n    return false\n}\n</code></pre>\n\n<p>and then call it inside my listener:</p>\n\n<pre><code>expandable_list.setOnChildClickListener { expandableListView, view, groupPosition, childPosition, l -&gt;\n            myBooleanReturningFun()\n        }\n</code></pre>\n\n<p>But is this the right or the most Kotlin way to do it? How would I need to change my listener code to <strong>work without defining a separate function that returns a Boolean</strong>?</p>\n"}, {"tags": ["java", "kotlin", "rx-java", "reactive-programming"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1501657048, "post_id": 45453499, "comment_id": 77867913, "body": "can you explain a bit more? what is message.reply you are talking about. What createMeeting is doing etc?"}, {"owner": {"reputation": 1879, "user_id": 1130975, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/3682a919cff609aa82c72a2d3549eccf?s=128&d=identicon&r=PG&f=1", "display_name": "kboom", "link": "https://stackoverflow.com/users/1130975/kboom"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1501657249, "post_id": 45453499, "comment_id": 77868044, "body": "Sure, please see the second listing - should make it clear."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1501658347, "post_id": 45453499, "comment_id": 77868727, "body": "Ok, what do you mean by ugly here?"}, {"owner": {"reputation": 1879, "user_id": 1130975, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/3682a919cff609aa82c72a2d3549eccf?s=128&d=identicon&r=PG&f=1", "display_name": "kboom", "link": "https://stackoverflow.com/users/1130975/kboom"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1501669843, "post_id": 45453499, "comment_id": 77876731, "body": "Looks a bit like callback hell"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1501691321, "post_id": 45453499, "comment_id": 77893311, "body": "No, its native way of doing it. You are doing it right in your first code example."}, {"owner": {"reputation": 1879, "user_id": 1130975, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/3682a919cff609aa82c72a2d3549eccf?s=128&d=identicon&r=PG&f=1", "display_name": "kboom", "link": "https://stackoverflow.com/users/1130975/kboom"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502089041, "post_id": 45453499, "comment_id": 78041742, "body": "Yeah except in the first example I&#39;m not exactly doing what I should do - I&#39;d like to do &quot;message.reply(Json.encodePrettily(it))&quot; rather than &quot;Json.encodePrettily(it)&quot; alone."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502132588, "post_id": 45453499, "comment_id": 78067873, "body": "So what is holding u back from doing it? Is that also a network call?"}], "owner": {"reputation": 1879, "user_id": 1130975, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/3682a919cff609aa82c72a2d3549eccf?s=128&d=identicon&r=PG&f=1", "display_name": "kboom", "link": "https://stackoverflow.com/users/1130975/kboom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1501657232, "creation_date": 1501656754, "last_edit_date": 1501657232, "question_id": 45453499, "link": "https://stackoverflow.com/questions/45453499/using-initial-value-of-observable-in-subscription-along-with-the-mapped-one", "title": "Using initial value of observable in subscription along with the mapped one", "body": "<p>Take a look at the following code snippet:</p>\n\n<pre><code>vertx.eventBus().consumer&lt;JsonObject&gt;(CREATEMEETING_SERVICE_ID).toObservable()\n                .map { objectMapper.readValue(it.body().getJsonObject(\"body\").encode(), Meeting::class.java) }\n                .flatMap (meetingService::createMeeting)\n                .subscribe(\n                        { Json.encodePrettily(it) },\n                        { throw it }\n                )\n</code></pre>\n\n<p>I need to call <em>message.reply</em> method from the initial observable in <em>onNext</em> method of subscribe. One way of doing this is to use <em>Pairs</em> of <em></em> rather than <em>Meeting</em> alone what makes this ugly. Is there any other option to make this work not having to use <em>Pairs</em>?</p>\n\n<p>I know one more way which is like this:</p>\n\n<pre><code>vertx.eventBus().consumer&lt;JsonObject&gt;(CREATEMEETING_SERVICE_ID).toObservable()\n                .subscribe { \n                    message -&gt;\n                        Observable.just(objectMapper.readValue(message.body().getJsonObject(\"body\").encode(), Meeting::class.java))\n                                .flatMap(meetingService::createMeeting)\n                                .subscribe(\n                                        { message.reply(Json.encodePrettily(it)) },\n                                        { throw it }\n                                )\n                }\n</code></pre>\n\n<p>But it also looks wrong.</p>\n\n<p>Maybe it also explains the problem.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 2530, "user_id": 2293954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b303d250e10f28de34d07be9e0cb39a?s=128&d=identicon&r=PG", "display_name": "DeKaNszn", "link": "https://stackoverflow.com/users/2293954/dekanszn"}, "edited": false, "score": 0, "creation_date": 1501653892, "post_id": 45452482, "comment_id": 77866188, "body": "Did you try to use android gradle plugin 3.0.0-alpha9?"}, {"owner": {"reputation": 508, "user_id": 1565731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e167376764871bd0ffa853d484f4c8e?s=128&d=identicon&r=PG", "display_name": "Stas Lelyuk", "link": "https://stackoverflow.com/users/1565731/stas-lelyuk"}, "edited": false, "score": 0, "creation_date": 1501654185, "post_id": 45452482, "comment_id": 77866308, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44105504/kotlin-and-jack-unsupported-android-studio-2-3-2\">Kotlin and Jack unsupported (Android Studio 2.3.2)</a>"}, {"owner": {"reputation": 1420, "user_id": 7333260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KGUpL.png?s=128&g=1", "display_name": "paril", "link": "https://stackoverflow.com/users/7333260/paril"}, "reply_to_user": {"reputation": 508, "user_id": 1565731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e167376764871bd0ffa853d484f4c8e?s=128&d=identicon&r=PG", "display_name": "Stas Lelyuk", "link": "https://stackoverflow.com/users/1565731/stas-lelyuk"}, "edited": false, "score": 0, "creation_date": 1501655007, "post_id": 45452482, "comment_id": 77866729, "body": "@Stas that gives solution to use kotlin version below 1.1.1, but in my case need to use latest one."}, {"owner": {"reputation": 1420, "user_id": 7333260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KGUpL.png?s=128&g=1", "display_name": "paril", "link": "https://stackoverflow.com/users/7333260/paril"}, "reply_to_user": {"reputation": 2530, "user_id": 2293954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b303d250e10f28de34d07be9e0cb39a?s=128&d=identicon&r=PG", "display_name": "DeKaNszn", "link": "https://stackoverflow.com/users/2293954/dekanszn"}, "edited": false, "score": 0, "creation_date": 1501655731, "post_id": 45452482, "comment_id": 77867146, "body": "@DeKaNszn gradle plugin 3.0.0-alpha9 not worked."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1501655936, "post_id": 45452482, "comment_id": 77867272, "body": "Use latest android sutudio 3.0.0-alpha6 or later along with corresponding gradle version. Then you just need to add source and target compatibility no other config is needed like Jack."}, {"owner": {"reputation": 508, "user_id": 1565731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e167376764871bd0ffa853d484f4c8e?s=128&d=identicon&r=PG", "display_name": "Stas Lelyuk", "link": "https://stackoverflow.com/users/1565731/stas-lelyuk"}, "edited": false, "score": 0, "creation_date": 1501662967, "post_id": 45452482, "comment_id": 77871705, "body": "@paril you can not use <code>jack</code> with <code>Kotlin</code> version above <code>1.1.1</code>"}, {"owner": {"reputation": 1420, "user_id": 7333260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KGUpL.png?s=128&g=1", "display_name": "paril", "link": "https://stackoverflow.com/users/7333260/paril"}, "edited": false, "score": 0, "creation_date": 1501669585, "post_id": 45452482, "comment_id": 77876536, "body": "if i change version belov 1.1.1 for kotlin, gives... Error:Cannot cast object &#39;task &#39;:app:transformJackWithJackForDebug&#39;&#39; with class &#39;com.android.build.gradle.internal.pipeline.TransformTask_De&zwnj;&#8203;corated&#39; to class &#39;org.gradle.api.tasks.compile.AbstractCompile&#39;"}, {"owner": {"reputation": 508, "user_id": 1565731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e167376764871bd0ffa853d484f4c8e?s=128&d=identicon&r=PG", "display_name": "Stas Lelyuk", "link": "https://stackoverflow.com/users/1565731/stas-lelyuk"}, "edited": false, "score": 0, "creation_date": 1501672013, "post_id": 45452482, "comment_id": 77878269, "body": "@paril that was an issue in <code>1.0.7</code> version of kotlin. you need to check <code>1.1.1</code>, it&#39;s a latest version with <code>jack</code> support"}, {"owner": {"reputation": 1420, "user_id": 7333260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KGUpL.png?s=128&g=1", "display_name": "paril", "link": "https://stackoverflow.com/users/7333260/paril"}, "edited": false, "score": 0, "creation_date": 1501740226, "post_id": 45452482, "comment_id": 77912390, "body": "i changed kotlin version to 1.1.1  which gives below error, Error:A problem was found with the configuration of task &#39;:app:transformKotlinClassesWithJillForDebug&#39;. &gt; File &#39;/home/parita/Android/StudioProjects/Trial/app/build/tmp/kot&zwnj;&#8203;lin-classes/debug.ja&zwnj;&#8203;r&#39; specified for property &#39;inputJarFile&#39; does not exist."}, {"owner": {"reputation": 1420, "user_id": 7333260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KGUpL.png?s=128&g=1", "display_name": "paril", "link": "https://stackoverflow.com/users/7333260/paril"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1501740511, "post_id": 45452482, "comment_id": 77912561, "body": "@chandil03 i used android studio 3.0 canary 9 for same project but not works."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1501742693, "post_id": 45452482, "comment_id": 77913803, "body": "post your both gradle file: project and app."}], "answers": [{"tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": true, "score": 1, "last_activity_date": 1501763466, "creation_date": 1501763466, "answer_id": 45484268, "question_id": 45452482, "link": "https://stackoverflow.com/questions/45452482/android-not-able-to-add-jar-created-in-java8-with-kotlin/45484268#45484268", "title": "Android - Not able to add jar created in java8 with kotlin", "body": "<p>You have not updated gradle plugin in build.gradle(:project).</p>\n\n<p>Replace you project level gradle file with following:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.3-2'\n    repositories {\n        maven { url 'https://maven.google.com' }\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-alpha9'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        maven { url 'https://maven.google.com' }\n        jcenter()\n    }\n}\n</code></pre>\n\n<p>I hope it helps.</p>\n"}], "owner": {"reputation": 1420, "user_id": 7333260, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KGUpL.png?s=128&g=1", "display_name": "paril", "link": "https://stackoverflow.com/users/7333260/paril"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 1, "accepted_answer_id": 45484268, "answer_count": 1, "score": 1, "last_activity_date": 1501763466, "creation_date": 1501653185, "last_edit_date": 1501743575, "question_id": 45452482, "link": "https://stackoverflow.com/questions/45452482/android-not-able-to-add-jar-created-in-java8-with-kotlin", "title": "Android - Not able to add jar created in java8 with kotlin", "body": "<p>I addded jar which require,</p>\n\n<pre><code>sourceCompatibility JavaVersion.VERSION_1_8\ntargetCompatibility JavaVersion.VERSION_1_8\n</code></pre>\n\n<p>which require jack to support java8.</p>\n\n<p>According to latest kotlin plugin gives, Error:Kotlin Gradle plugin does not support the deprecated Jack toolchain.\nDisable Jack or revert to Kotlin Gradle plugin version 1.1.1.</p>\n\n<p>Currently not able recreate jar with java7. And need use latest version of kotlin which has deprecated Jack toolchain.</p>\n\n<p>I check all possible ways in app.gradle.</p>\n\n<p>Not able to solve this by preview version of studio 3.0 according to <a href=\"https://developer.android.com/studio/preview/features/index.html#new_android_profiler\" rel=\"nofollow noreferrer\">this</a>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/uWy4D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uWy4D.png\" alt=\"enter image description here\"></a></p>\n\n<p>project level gradle file,</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\n    ext.kotlin_version = '1.1.3'\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n</code></pre>\n\n<p>app level gradle file,</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.3\"\n    defaultConfig {\n        applicationId \"com.example.root.trial\"\n        minSdkVersion 15\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n     }\n     buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n    exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    testCompile 'junit:junit:4.12'\n    compile files('libs/bel-1.0.jar')\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n}\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n"}, {"tags": ["kotlin", "tornadofx"], "answers": [{"tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 1, "last_activity_date": 1501653992, "creation_date": 1501653992, "answer_id": 45452665, "question_id": 45449623, "link": "https://stackoverflow.com/questions/45449623/how-can-i-create-a-nested-split-column-header-using-tornadofx/45452665#45452665", "title": "How can I create a nested/split column header using TornadoFx?", "body": "<p>You create nested columns in TornadoFX using the <code>nestedColumn</code> builder:</p>\n\n<pre><code>nestedColumn(\"header1\") {\n    column(\"costs\", Item::costsProperty)\n    column(\"units\", Item::unitsProperty)\n}\n</code></pre>\n\n<p>In addition to creating the columns, this code also creates a <code>valueFactory</code> for each column :)</p>\n\n<p>Another very important thing to note, is that you can do absolutely everything you can do in JavaFX within TornadoFX. TornadoFX never hides the underlying JavaFX APIs, so even if we didn't have a <code>nestedColumn</code> builder, you could have used your exact code above, just with Kotlin syntax, and it would just work.</p>\n\n<p>If you ever hit a case where you don't know how to do something in TornadoFX, you can always use the traditional JavaFX approach to achieve the same :)</p>\n"}], "owner": {"reputation": 315, "user_id": 1177244, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/801ac0148996bb31c971daeea92d9f6c?s=128&d=identicon&r=PG", "display_name": "Asitaka", "link": "https://stackoverflow.com/users/1177244/asitaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 45452665, "answer_count": 1, "score": 1, "last_activity_date": 1501653992, "creation_date": 1501633931, "question_id": 45449623, "link": "https://stackoverflow.com/questions/45449623/how-can-i-create-a-nested-split-column-header-using-tornadofx", "title": "How can I create a nested/split column header using TornadoFx?", "body": "<p>I'm creating a tableview that has 4 main headers, and each header has a \"costs\" and \"units\" property. <a href=\"https://i.stack.imgur.com/rlbJY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rlbJY.png\" alt=\"headers example\"></a></p>\n\n<p>In plain JavaFx, you can add columns to columns and make this split:</p>\n\n<pre><code>TableColumn emailCol = new TableColumn(\"Email\");\nTableColumn firstEmailCol = new TableColumn(\"Primary\");\nTableColumn secondEmailCol = new TableColumn(\"Secondary\");\nemailCol.getColumns().addAll(firstEmailCol, secondEmailCol);\n</code></pre>\n\n<p>is it possible to do this in tornadoFX? </p>\n"}, {"tags": ["javascript", "java", "android", "android-webview", "kotlin"], "comments": [{"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1501636855, "post_id": 45449604, "comment_id": 77861095, "body": "your question is confusing, the function evaluateJFromNative does not return String, it returns Unit, and your function parameter method does not return String, it accepts String parameters.  please provide a use case of how you plan to call it and what you expect the results to be, that would be more helpful."}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "reply_to_user": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1501639777, "post_id": 45449604, "comment_id": 77861791, "body": "Add more details, hopes that clarifies."}], "answers": [{"tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": false, "score": 0, "last_activity_date": 1501681014, "creation_date": 1501681014, "answer_id": 45462482, "question_id": 45449604, "link": "https://stackoverflow.com/questions/45449604/evaluatejavascript-only-allow-a-return-type-of-string/45462482#45462482", "title": "EvaluateJavaScript only allow a return type of String?", "body": "<p>The error you are getting is because you have defined your function to take a Boolean parameter, but you are passing a String parameter at <code>s -> function(s)</code>.  It is a String because that is how <code>WebView.evalueateJavascript()</code> is defined.</p>\n\n<p>You cannot change the type of function that <code>webView.evaluateJavascript()</code> accepts.  You can, however, convert the String parameter to Boolean and call your function with that.</p>\n\n<p>For example (using your second implementation taking Boolean):</p>\n\n<pre><code>fun evaluateJsFromNative(command: String, \n    webView: WebView, function: (value : Boolean) -&gt; Unit ) {\n    webView.evaluateJavascript(\"(function() { return $command; })();\") {\n        s -&gt; function(s.toBoolean())\n    }\n}\n\n// you would call it like this...\n    evaluateJsFromNative(mycommand, mywebview) {\n        Log.d(\"SomeTag\",\"Value=$it\")\n    }\n</code></pre>\n\n<p><strong>But</strong> this is highly simplified because you could supply it <strong>any</strong> string as a command, including non-Javascript.  The docs say the function parameter of <code>evaluateJavascript()</code> will only be called if the Javascript evaluates to something other than <code>null</code> (<strong>note</strong>, it will call your function with the value <code>'null'</code> if your WebView does not have Javascript enabled).  So, even if and assuming you pass good Javascript, that returns non-null, <code>s</code> may still not successfully convert to a <code>Boolean</code>.  In other words, you have a lot of work to do to handle bad input parameters, and handling types you don't expect.</p>\n\n<p>But you asked about something more generic.  So here is a try; you would have to expand the <code>when</code> statement for all the types you support (and of course error handling).</p>\n\n<pre><code>fun &lt;T : Any&gt; evaluateJsFromNative(command: String,\n                             webView: WebView, klass: Class&lt;T&gt;, function: (value : Any?) -&gt; Unit ) {\n    webView.evaluateJavascript(\"(function() { return $command; })();\") {\n        s -&gt; if (s.convert(klass) != null) function(s.convert(klass)!!)\n    }\n}\n\nfun &lt;T&gt; String.convert(klass: Class&lt;T&gt;) : Any? {\n    when (klass.name.toString()) {\n        \"boolean\" -&gt; return this.toBoolean()\n        else -&gt; return null\n    }\n}\n\n// call it like this...\n    evaluateJsFromNative(mycommand, mywebview, Boolean::class.java) {\n        Log.d(\"SomeTag\",\"Value=$it\")\n    }\n</code></pre>\n\n<p>This example requires that you specify the type you expect from the Javascript, and then you must parse it from a string to the type you expect.  And you must pre-define what types you will support.  It would be nice if the conversion were simpler, but alas, there isn't this kind of type conversion in Kotlin according to <a href=\"https://discuss.kotlinlang.org/t/type-conversions/828\" rel=\"nofollow noreferrer\">this post in the Kotlin forums</a></p>\n\n<p>I hope this helps</p>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1095, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1501681014, "creation_date": 1501633782, "last_edit_date": 1501639761, "question_id": 45449604, "link": "https://stackoverflow.com/questions/45449604/evaluatejavascript-only-allow-a-return-type-of-string", "title": "EvaluateJavaScript only allow a return type of String?", "body": "<p>I made a common function (in Kotlin) that I could invoke the JavaScript function per the command given.</p>\n\n<pre><code>    fun evaluateJsFromNative(command: String, \n        webView: WebView, function: (value : String) -&gt; Unit ) {\n        webView.evaluateJavascript(\"(function() { return $command; })();\") {\n            s -&gt; function(s)\n        }\n    }\n</code></pre>\n\n<p>However, it only allow value <code>String</code> as the return type. If I wanted it to be something more generic, that I could have return type of Boolean, Int, or even nothing, how could I make this even more generic?</p>\n\n<p>E.g. I can't do this... it will error in the <code>function(s)</code> stating the <code>s</code> need to be a <code>String</code></p>\n\n<pre><code>    fun evaluateJsFromNative(command: String, \n        webView: WebView, function: (value : Boolean) -&gt; Unit ) {\n        webView.evaluateJavascript(\"(function() { return $command; })();\") {\n            s -&gt; function(s)\n        }\n    }\n</code></pre>\n"}, {"tags": ["jvm", "kotlin", "template-meta-programming", "kotlinpoet"], "answers": [{"comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1501664167, "post_id": 45449609, "comment_id": 77872600, "body": "You should be able to shorten <code>TypeVariableName.Companion.invoke(&quot;E&quot;)</code> to <code>TypeVariableName(&quot;E&quot;)</code>"}, {"owner": {"reputation": 1085, "user_id": 4012979, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/---qkN46xdTA/AAAAAAAAAAI/AAAAAAAAAeI/x3SUiBz1BPQ/photo.jpg?sz=128", "display_name": "Preston Garno", "link": "https://stackoverflow.com/users/4012979/preston-garno"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1501664430, "post_id": 45449609, "comment_id": 77872789, "body": "@KirillRakhman  I think that slipped in there because I was &quot;autocomplete programming&quot; i.e. tapping Ctrl+Space to learn an API"}], "tags": [], "owner": {"reputation": 1085, "user_id": 4012979, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/---qkN46xdTA/AAAAAAAAAAI/AAAAAAAAAeI/x3SUiBz1BPQ/photo.jpg?sz=128", "display_name": "Preston Garno", "link": "https://stackoverflow.com/users/4012979/preston-garno"}, "is_accepted": true, "score": 0, "last_activity_date": 1501664503, "last_edit_date": 1501664503, "creation_date": 1501633815, "answer_id": 45449609, "question_id": 45449160, "link": "https://stackoverflow.com/questions/45449160/how-do-i-generate-a-constructor-parameter-of-the-kotlin-unit-type-with-a-singl/45449609#45449609", "title": "How do I generate a constructor parameter of the Kotlin &quot;Unit&quot; type with a single type parameter with kotlinpoet?", "body": "<p>Easily enough, it's done by using the <a href=\"https://github.com/square/kotlinpoet/blob/master/src/main/java/com/squareup/kotlinpoet/LambdaTypeName.kt\" rel=\"nofollow noreferrer\"><code>LambdaTypeName</code></a> class. It was a bit confusing after getting used to kotlin's functional type style as opposed to java strictly functional interfaces. Here's what I used: </p>\n\n<pre><code>val typeVariable = TypeVariableName.invoke(\"E\")\n    .withBounds(QueryData::class)\nParameterSpec.builder(\"onSuccess\", \n    LambdaTypeName.get(null, listOf(typeVariable), UNIT)).build()\n</code></pre>\n\n<p>Which generates (with the class builders, of course): </p>\n\n<pre><code>class Query&lt;E : QueryData&gt; {\n  constructor(onSuccess: (E) -&gt; Unit) {\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "is_accepted": false, "score": 1, "last_activity_date": 1501745095, "creation_date": 1501745095, "answer_id": 45477521, "question_id": 45449160, "link": "https://stackoverflow.com/questions/45449160/how-do-i-generate-a-constructor-parameter-of-the-kotlin-unit-type-with-a-singl/45477521#45477521", "title": "How do I generate a constructor parameter of the Kotlin &quot;Unit&quot; type with a single type parameter with kotlinpoet?", "body": "<p>Here's a program producing the output you need:</p>\n\n<pre><code>class Model\n\nfun main(args: Array&lt;String&gt;) {\n  val onSuccessType = LambdaTypeName.get(\n      parameters = TypeVariableName(name = \"E\"),\n      returnType = Unit::class.asTypeName())\n  val onErrorType = LambdaTypeName.get(\n      parameters = listOf(Int::class.asTypeName(), String::class.asTypeName()),\n      returnType = Unit::class.asTypeName())\n  val primaryConstructor = FunSpec.constructorBuilder()\n      .addParameter(ParameterSpec.builder(name = \"onSuccess\", type = onSuccessType)\n          .build())\n      .addParameter(ParameterSpec.builder(name = \"onError\", type = onErrorType)\n          .defaultValue(\"{ i, m -&gt; }\")\n          .build())\n      .build()\n\n  val querySpec = TypeSpec.classBuilder(\"Query\")\n      .addTypeVariable(TypeVariableName(name = \"out E\", bounds = Model::class))\n      .addProperty(PropertySpec.builder(name = \"onSuccess\", type = onSuccessType)\n          .initializer(\"onSuccess\")\n          .build())\n      .addProperty(PropertySpec.builder(name = \"onError\", type = onErrorType)\n          .initializer(\"onError\")\n          .build())\n      .primaryConstructor(primaryConstructor)\n      .build()\n\n  val file = KotlinFile.builder(packageName = \"\", fileName = \"test\")\n      .addType(querySpec)\n      .build()\n  file.writeTo(System.out)\n}\n</code></pre>\n\n<p>This prints (excluding generated imports) the following:</p>\n\n<pre><code>class Query&lt;out E : Model&gt;(val onSuccess: (E) -&gt; Unit,\n    val onError: (Int, String) -&gt; Unit = { i, m -&gt; })\n</code></pre>\n\n<p>I'm hacking <code>TypeVariableName</code> here as <code>out E</code>, since there seems to be no better solution at the time. I'm also using the <code>0.4.0-SNAPSHOT</code> version.</p>\n"}], "owner": {"reputation": 1085, "user_id": 4012979, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/---qkN46xdTA/AAAAAAAAAAI/AAAAAAAAAeI/x3SUiBz1BPQ/photo.jpg?sz=128", "display_name": "Preston Garno", "link": "https://stackoverflow.com/users/4012979/preston-garno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 878, "favorite_count": 0, "accepted_answer_id": 45449609, "answer_count": 2, "score": 0, "last_activity_date": 1509422507, "creation_date": 1501630304, "last_edit_date": 1509422507, "question_id": 45449160, "link": "https://stackoverflow.com/questions/45449160/how-do-i-generate-a-constructor-parameter-of-the-kotlin-unit-type-with-a-singl", "title": "How do I generate a constructor parameter of the Kotlin &quot;Unit&quot; type with a single type parameter with kotlinpoet?", "body": "<p>This might be a bit too specific for posting here, but I'm trying to generate a class like this with kotlinpoet: </p>\n\n<pre><code>class Query&lt;out E: Model&gt;(val onSuccess: (E) -&gt; Unit, val onError: (Int, String) -&gt; Unit = { i, m -&gt; })\n</code></pre>\n\n<p>How would I create that type/constructor parameter with kotlinpoet? The <a href=\"https://square.github.io/kotlinpoet/0.x/kotlinpoet/com.squareup.kotlinpoet/\" rel=\"nofollow noreferrer\">docs</a> do have the \"<code>Unit</code>\" type listed along with primitive types, so it seems to be a special case.</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 605, "user_id": 1662332, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/jhAaK.jpg?s=128&g=1", "display_name": "Giacomo Bartoli", "link": "https://stackoverflow.com/users/1662332/giacomo-bartoli"}, "edited": false, "score": 0, "creation_date": 1501663671, "post_id": 45449228, "comment_id": 77872243, "body": "Thanks for helping me Doug, but I am still in trouble. Certainly I cannot have every push ID because they are automatically generated by Firebase. I just need to get an array of OnlineMatch, in the same way as I upload them to Firebase. This is the code I use for uploading them on Firebase db:   <code>code fun createMatch(match: OnlineMatch) {         var database = FirebaseDatabase.getInstance().getReference(&quot;multiplayer&quot;)         val matchList = database.push()         matchList.setValue(match)     }</code>"}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": false, "score": 1, "last_activity_date": 1501630781, "creation_date": 1501630781, "answer_id": 45449228, "question_id": 45449078, "link": "https://stackoverflow.com/questions/45449078/no-setter-getter-for-firebase-objects/45449228#45449228", "title": "No setter/getter for Firebase objects", "body": "<p>Your code is asking for <em>everything</em> under <code>multiplayer</code>, which includes all of the OnlineMatch objects you pushed there previously.  You can see from the error message that it's trying to find a setter or field for the push ID <code>-KqV44f4FUxV8ZDuqL4Y</code> that it found just under <code>multiplayer</code>  If you want to get a single OnlineMatch object, you're going to have to dig into the objects in the push IDs under <code>multiplayer</code>.  So this should give you something:</p>\n\n<pre><code>dataSnapshot.child(\"multiplayer/-KqV44f4FUxV8ZDuqL4Y\").getValue(OnlineMatch::class.java)\n</code></pre>\n\n<p>In any event, you'll need to have the push ID of your choice, or discover them from the children of the snapshot and build a new snapshot from that child.</p>\n"}, {"tags": [], "owner": {"reputation": 605, "user_id": 1662332, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/jhAaK.jpg?s=128&g=1", "display_name": "Giacomo Bartoli", "link": "https://stackoverflow.com/users/1662332/giacomo-bartoli"}, "is_accepted": false, "score": 0, "last_activity_date": 1501680289, "creation_date": 1501680289, "answer_id": 45462165, "question_id": 45449078, "link": "https://stackoverflow.com/questions/45449078/no-setter-getter-for-firebase-objects/45462165#45462165", "title": "No setter/getter for Firebase objects", "body": "<p>Doug Stevenson, your answer was useful to me.\nI created an array of strings where I save the key and then I iterate over the child for each specific key:</p>\n\n<pre><code>override fun onDataChange(dataSnapshot: DataSnapshot) {\n\n            // Get Post object and use the values to update the UI\n            val match = dataSnapshot.children\n            var keysArray = KeysHandler()\n            if(match!=null){\n            // saving keys into an array\n                for (data in match){\n                    keysArray.addToList(data.key)\n                }\n\n            // saving an OnlineMatch object into another array\n               repeat(keysArray.list.size){ i-&gt;\n                   val onlineMatch = dataSnapshot.child(keysArray.getElement(i)).getValue(OnlineMatch::class.java)!!\n                   requestsUsers.add(onlineMatch)\n\n               }\n\n                // updating GUI\n                updateRequests()\n            }\n\n        }\n</code></pre>\n"}], "owner": {"reputation": 605, "user_id": 1662332, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/jhAaK.jpg?s=128&g=1", "display_name": "Giacomo Bartoli", "link": "https://stackoverflow.com/users/1662332/giacomo-bartoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1042, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1501680289, "creation_date": 1501629718, "last_edit_date": 1501632894, "question_id": 45449078, "link": "https://stackoverflow.com/questions/45449078/no-setter-getter-for-firebase-objects", "title": "No setter/getter for Firebase objects", "body": "<p>This is my Java class:</p>\n\n<pre><code>public class OnlineMatch{\n\nprivate FacebookUser firstplayer;\nprivate FacebookUser secondplayer;\n\n\npublic OnlineMatch(){\n\n}\n\n\npublic OnlineMatch(FacebookUser firstplayer, FacebookUser secondplayer) {\n    this.firstplayer = firstplayer;\n    this.secondplayer = secondplayer;\n}\n\npublic FacebookUser getFirstplayer() {\n    return firstplayer;\n}\n\npublic void setFirstplayer(FacebookUser firstplayer) {\n    this.firstplayer = firstplayer;\n}\n\npublic FacebookUser getSecondplayer() {\n    return secondplayer;\n}\n\npublic void setSecondplayer(FacebookUser secondplayer) {\n    this.secondplayer = secondplayer;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I can create objects correctly and uploaded to Firebase. The db structure is as follow:\n<a href=\"https://i.stack.imgur.com/jdNie.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jdNie.png\" alt=\"Screenshot taken from firebase panel control\"></a></p>\n\n<p>Then I try to print the values of my OnlineMatch objects (Kotlin code):</p>\n\n<pre><code>val match = dataSnapshot.child(\"multiplayer\").getValue(OnlineMatch::class.java)\n            if(match!=null){\n                System.out.println(match)\n            }\n</code></pre>\n\n<p>Here I get this output on the Android Studio console:</p>\n\n<p>9548-19548/app.simone W/ClassMapper: No setter/field for -KqV44f4FUxV8ZDuqL4Y found on class app.simone.multiplayer.model.OnlineMatch</p>\n\n<p>08-01 19:14:38.816 19548-19548/app.simone W/ClassMapper: No setter/field for -KqV3sAPXPcYrtr61cDy found on class app.simone.multiplayer.model.OnlineMatch</p>\n\n<p>08-01 19:14:38.816 19548-19548/app.simone W/ClassMapper: No setter/field for -KqV2BGH7Z-Y9RxnPGpt found on class app.simone.multiplayer.model.OnlineMatch</p>\n"}, {"tags": ["kotlin", "retrofit", "retrofit2"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501628492, "post_id": 45448837, "comment_id": 77858992, "body": "you can use interface default method and delegate to the older one, just my 2 cents."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 1, "creation_date": 1501666588, "post_id": 45448837, "comment_id": 77874382, "body": "Similar to but not duplicate of <a href=\"https://stackoverflow.com/questions/28510056/serialize-query-parameter-in-retrofit\" title=\"serialize query parameter in retrofit\">stackoverflow.com/questions/28510056/&hellip;</a>"}, {"owner": {"reputation": 44415, "user_id": 356895, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/022ac4ee5fc9f2474d60c9a1a6dd16f5?s=128&d=identicon&r=PG", "display_name": "JJD", "link": "https://stackoverflow.com/users/356895/jjd"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1501699876, "post_id": 45448837, "comment_id": 77898501, "body": "@KirillRakhman Thank you for the link. What I don&#39;t understand is how can I use a <code>Converter&lt;F, T&gt;</code> to convert the <code>GeoLocation</code> object into <code>lat</code> and <code>lon</code> Double values."}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1501705248, "post_id": 45448837, "comment_id": 77901544, "body": "It seems this isn&#39;t possible at the moment."}], "answers": [{"comments": [{"owner": {"reputation": 2153, "user_id": 503668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e31b50927ae3653852824ff297a1a21e?s=128&d=identicon&r=PG", "display_name": "Thorbear", "link": "https://stackoverflow.com/users/503668/thorbear"}, "edited": false, "score": 0, "creation_date": 1523458974, "post_id": 45461120, "comment_id": 86572221, "body": "As far as I can tell Retrofit2 doesn&#39;t allow not-annotated-functions on the interfaces it is supposed to implement, even if those functions have default implementations, which means this wrapper function needs to be in a separate class."}], "tags": [], "owner": {"reputation": 565, "user_id": 3257988, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f664fe43b529736d7eb7906f52fb4179?s=128&d=identicon&r=PG&f=1", "display_name": "Looki", "link": "https://stackoverflow.com/users/3257988/looki"}, "is_accepted": false, "score": 2, "last_activity_date": 1501677447, "creation_date": 1501677447, "answer_id": 45461120, "question_id": 45448837, "link": "https://stackoverflow.com/questions/45448837/how-to-use-custom-types-for-retrofit-query-parameters/45461120#45461120", "title": "How to use custom types for Retrofit @Query parameters?", "body": "<p>If userfriendly access is your concern, you could just create a wrapper function. This way you don't have to mess with your Retrofit configuration at all</p>\n\n<pre><code>fun getOffices(uid: String, location: GeoLocation): Call&lt;List&lt;Office&gt;&gt; {\n    return getOfficesIf(uid, location.lat, location.lon)\n}\n\n@GET(\"offices\")\nfun getOfficesIf(@Query(\"uid\") uid: String,\n                 @Query(\"lat\") latitude: Double,\n                 @Query(\"lon\") longitude: Double\n): Call&lt;List&lt;Office&gt;&gt;\n</code></pre>\n"}], "owner": {"reputation": 44415, "user_id": 356895, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/022ac4ee5fc9f2474d60c9a1a6dd16f5?s=128&d=identicon&r=PG", "display_name": "JJD", "link": "https://stackoverflow.com/users/356895/jjd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4289, "favorite_count": 1, "answer_count": 1, "score": 6, "last_activity_date": 1501699987, "creation_date": 1501627920, "last_edit_date": 1501699987, "question_id": 45448837, "link": "https://stackoverflow.com/questions/45448837/how-to-use-custom-types-for-retrofit-query-parameters", "title": "How to use custom types for Retrofit @Query parameters?", "body": "<p>Given the following <a href=\"https://github.com/square/retrofit\" rel=\"noreferrer\">Retrofit</a> interface:</p>\n\n<pre><code>@GET(\"offices\")\nfun getOffices(@Query(\"uid\") uid: String,\n               @Query(\"lat\") latitude: Double,\n               @Query(\"lon\") longitude: Double\n): Call&lt;List&lt;Office&gt;&gt;\n</code></pre>\n\n<p>How can I replace the location parameters with a more user friendly <code>GeoLocation</code> type ...</p>\n\n<pre><code>data class GeoLocation(\n        val latitude: Double,\n        val longitude: Double\n)\n</code></pre>\n\n<p>... which is automatically converted to <code>lat</code> and <code>lon</code> at request time such as:</p>\n\n<pre><code>@GET(\"offices\")\nfun getOffices(@Query(\"uid\") uid: String,\n               @Query(\"location\") location: GeoLocation\n): Call&lt;List&lt;Office&gt;&gt;\n</code></pre>\n\n<p>Here is the Retrofit setup:</p>\n\n<pre><code>fun createRetrofit(baseUrl: String,\n                   okHttpClient: OkHttpClient): Retrofit {\n    val moshi = Moshi.Builder()\n            .build()\n\n    return Retrofit.Builder()\n            .baseUrl(baseUrl)\n            .addConverterFactory(MoshiConverterFactory.create(moshi))\n            .client(okHttpClient)\n            .build()\n}\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 1, "creation_date": 1501624351, "post_id": 45448184, "comment_id": 77857614, "body": "Can you show the screenshot of the run/debug configuration? Do you have the Build action in the Before launch list?"}, {"owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "edited": false, "score": 1, "creation_date": 1501624446, "post_id": 45448184, "comment_id": 77857652, "body": "As I was typing my comment, I saw the above one come in. Follow the procedure above. Click on the plus sign to add Build if it isn&#39;t present. This will build your project when you click run"}, {"owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "edited": false, "score": 2, "creation_date": 1501625127, "post_id": 45448184, "comment_id": 77857929, "body": "In case the above isn&#39;t clear, go to Run ---&gt; Edit Configurations. There you will find a drop down called Before launch: Build, Activate tool window. There should be Build in the list. If there isn&#39;t click on the plus sign and add it and click ok."}, {"owner": {"reputation": 2903, "user_id": 1160216, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f0TsK.jpg?s=128&g=1", "display_name": "Mike Miller", "link": "https://stackoverflow.com/users/1160216/mike-miller"}, "edited": false, "score": 0, "creation_date": 1502089662, "post_id": 45448184, "comment_id": 78042011, "body": "That was it! Thanks for pointing me in the right direction. Alf, I didn&#39;t even notice that dropdown, but that&#39;s exactly what I needed."}], "answers": [{"tags": [], "owner": {"reputation": 941, "user_id": 1465013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587a2b7a233238f84feb6fd22c7d869?s=128&d=identicon&r=PG", "display_name": "Ryba", "link": "https://stackoverflow.com/users/1465013/ryba"}, "is_accepted": false, "score": 2, "last_activity_date": 1501690034, "creation_date": 1501690034, "answer_id": 45465858, "question_id": 45448184, "link": "https://stackoverflow.com/questions/45448184/intellij-idea-not-building-when-i-press-run/45465858#45465858", "title": "Intellij Idea not building when I press Run", "body": "<p>Make sure that the source directory is correctly configured in the project and that your code is actually in the source directory. Sometimes people import projects or there are some nuiances that cause you to have the code but the directory (src/main/kotlin for example) is not setup as a source code folder.</p>\n\n<p>Is it a maven or gradle project? Or something else? Intellij has auto-detection for maven/gradle to setup the project but sometimes it must manually be triggered to do so if there have been changes made after the project was created or there is a pathing issue between intellij and the executables.</p>\n\n<p>What did the \"events\" tab say or the output of the run screen?</p>\n\n<p>Odds are good that intellij just isn't correctly configured to know about the project. It might be treating it like a generic project instead of a gradle/maven project for example. Or a java project that has no source code directory defined yet.</p>\n\n<p>Goto the File --> Project Structure Settings --> Modules</p>\n\n<p>And make sure that the \"Mark As\" for \"sources\" are correct.</p>\n"}, {"tags": [], "owner": {"reputation": 3378, "user_id": 1970299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/cenRs.jpg?s=128&g=1", "display_name": "Mehdi", "link": "https://stackoverflow.com/users/1970299/mehdi"}, "is_accepted": false, "score": 0, "last_activity_date": 1615532460, "creation_date": 1615532460, "answer_id": 66595586, "question_id": 45448184, "link": "https://stackoverflow.com/questions/45448184/intellij-idea-not-building-when-i-press-run/66595586#66595586", "title": "Intellij Idea not building when I press Run", "body": "<p>IntelliJ uses defined libraries as your dependencies to build and run the application.\nSo it looks into: Project Structure -&gt; Module -&gt; Dependencies</p>\n<p><strong>If IntelliJ cannot run your project, some dependencies are missing there for sure!</strong></p>\n<p><em>For you to solve the issue, add the missing jar file or the folder containing the jar files there and the problem will be solved immediately!</em></p>\n"}], "owner": {"reputation": 2903, "user_id": 1160216, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f0TsK.jpg?s=128&g=1", "display_name": "Mike Miller", "link": "https://stackoverflow.com/users/1160216/mike-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5481, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1615532460, "creation_date": 1501623988, "last_edit_date": 1501722054, "question_id": 45448184, "link": "https://stackoverflow.com/questions/45448184/intellij-idea-not-building-when-i-press-run", "title": "Intellij Idea not building when I press Run", "body": "<p>I have a simple hello world project in Kotlin, running in Intellij Idea. I can build and run it just fine, but if I make changes, save and press the green run button (or <kbd>Shift</kbd>+<kbd>F10</kbd>), Intellij runs the old version of the file, before I made the changes. I can fix this by first Building the project (<kbd>Ctrl</kbd>+<kbd>F9</kbd>), then running it (<kbd>Shift</kbd>+<kbd>F10</kbd>). Why is this? Must I always build first, then run? Why doesn't Run build the project for me?</p>\n\n<p>Here is my code, though I'm sure that's not the problem:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(\"hello world\")\n}\n</code></pre>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 605, "user_id": 1662332, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/jhAaK.jpg?s=128&g=1", "display_name": "Giacomo Bartoli", "link": "https://stackoverflow.com/users/1662332/giacomo-bartoli"}, "edited": false, "score": 0, "creation_date": 1501629093, "post_id": 45447942, "comment_id": 77859164, "body": "I would like to add that my class OnlineMatch has proper setter/getter written according to the Java Convention (camelCase): setUser1, getUser1 ecc"}], "answers": [{"comments": [{"owner": {"reputation": 605, "user_id": 1662332, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/jhAaK.jpg?s=128&g=1", "display_name": "Giacomo Bartoli", "link": "https://stackoverflow.com/users/1662332/giacomo-bartoli"}, "edited": false, "score": 0, "creation_date": 1501672687, "post_id": 45457932, "comment_id": 77878765, "body": "Thank you @Alex Mamo, but I am still in trouble. How can I get an HashMap &lt;String, OnlineMatch&gt;? PS: thanks for Kotlin tips and yes, I have the empty constructor."}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": true, "score": 3, "last_activity_date": 1501674673, "last_edit_date": 1501674673, "creation_date": 1501668772, "answer_id": 45457932, "question_id": 45447942, "link": "https://stackoverflow.com/questions/45447942/how-to-retrieve-data-from-a-firebase-database-with-kotlin/45457932#45457932", "title": "How to retrieve data from a Firebase database with Kotlin?", "body": "<p>You did not find something useful because when you query against a Firebase database you get a <code>Map</code> and not <code>ArrayList</code>. Everything in Firebase is structured as pairs of key and value. Using an <code>ArrayList</code> is an anti-pattern when it comes to Firebase. One of the many reasons Firebase recommends against using arrays is that it makes the security rules impossible to write.</p>\n\n<p>In <code>Kotlin</code> there is no need for getters and setters. Is true that behind the scenes those functions exists but there is no need to explicitly define them. To set those fields, you can use the following code:</p>\n\n<pre><code>val onlineMatch = OnlineMatch() //Creating an obect of OnlineMatch class\nonlineMatch.user1 = userObject //Setting the userObject to the user1 field of OnlineMatch class\n//onlineMatch.setUser(userObject)\n</code></pre>\n\n<p>As you probably see i have commented the last line because there is no need to use a setter in order to set a <code>userObject</code>.</p>\n\n<p>And very important, don't forget to add <code>the no argument constructor</code> in your <code>OnlineMatch</code> class that is needed for Firebase.</p>\n\n<pre><code>public OnlineMatch() {}\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>To actually get the data, just put a listener on the desired node and get the data out from the <code>dataSnapshot</code> object into a HashMap.</p>\n\n<pre><code>val map = HashMap&lt;String, OnlineMatch&gt;()\n</code></pre>\n\n<p>Then simply iterate over the <code>HashMap</code> like this:</p>\n\n<pre><code>for ((userId, userObject) in map) {\n    //do what you want with them\n}\n</code></pre>\n\n<p>Or simply use the code below:</p>\n\n<pre><code>val rootRef = firebase.child(\"multiplayer\")\nrootRef.addListenerForSingleValueEvent(object : ValueEventListener {\n    override fun onCancelled(error: FirebaseError?) {\n        println(error!!.message)\n    }\n\n    override fun onDataChange(snapshot: DataSnapshot?) {\n        val children = snapshot!!.children\n        children.forEach {\n            println(it.toString())\n        }\n    }\n})\n</code></pre>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 605, "user_id": 1662332, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/jhAaK.jpg?s=128&g=1", "display_name": "Giacomo Bartoli", "link": "https://stackoverflow.com/users/1662332/giacomo-bartoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12942, "favorite_count": 2, "accepted_answer_id": 45457932, "answer_count": 1, "score": 5, "last_activity_date": 1501674673, "creation_date": 1501622851, "last_edit_date": 1501668793, "question_id": 45447942, "link": "https://stackoverflow.com/questions/45447942/how-to-retrieve-data-from-a-firebase-database-with-kotlin", "title": "How to retrieve data from a Firebase database with Kotlin?", "body": "<p>This is the model I upload on Firebase:</p>\n\n<pre><code>public class OnlineMatch{\n\nprivate User user1;\nprivate User user2;\n\npublic OnlineMatch(User firstPlayer, User secondPlayer) {\n        this.user1 = firstPlayer;\n        this.user2 = secondPlayer;\n    }\n\n}\n</code></pre>\n\n<p>Then I send data to Firebase in this way (kotlin):</p>\n\n<pre><code> fun createMatch(match: OnlineMatch) {\n        val matchList = database.child(\"multiplayer\").push()\n        matchList.setValue(match)\n    }\n</code></pre>\n\n<p>Thus, my DB structure is the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/aUFiO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/aUFiO.png\" alt=\"enter image description here\"></a>\nIf I expand a node I can see perfectly my objects: OnlineMatch(User1, User2)</p>\n\n<p><strong>Now I would like to query the db and obtain an ArrayList'&lt;'OnlineMatch'>'.</strong>\nI have already found the Firebase docs but I found nothing useful.\nHow can I do? Thanks in advance.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 8382015, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/65d199d20a6a3a075237cd01efcf3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Norman Wildermuth", "link": "https://stackoverflow.com/users/8382015/norman-wildermuth"}, "edited": false, "score": 0, "creation_date": 1501619723, "post_id": 45447003, "comment_id": 77855555, "body": "I don&#39;t understand why but it has no effects ! :/"}, {"owner": {"reputation": 9965, "user_id": 900128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WiYo8.jpg?s=128&g=1", "display_name": "Muthukrishnan Rajendran", "link": "https://stackoverflow.com/users/900128/muthukrishnan-rajendran"}, "reply_to_user": {"reputation": 81, "user_id": 8382015, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/65d199d20a6a3a075237cd01efcf3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Norman Wildermuth", "link": "https://stackoverflow.com/users/8382015/norman-wildermuth"}, "edited": false, "score": 0, "creation_date": 1501619861, "post_id": 45447003, "comment_id": 77855609, "body": "This is how we should set the drawable to the imageView in Kotlin, Please check your drawable and also check your layout."}, {"owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "edited": false, "score": 0, "creation_date": 1501625357, "post_id": 45447003, "comment_id": 77858015, "body": "This doesn&#39;t set the image to the view though, it just loads it and then does nothing with it"}], "tags": [], "owner": {"reputation": 9965, "user_id": 900128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WiYo8.jpg?s=128&g=1", "display_name": "Muthukrishnan Rajendran", "link": "https://stackoverflow.com/users/900128/muthukrishnan-rajendran"}, "is_accepted": false, "score": 2, "last_activity_date": 1501618835, "creation_date": 1501618835, "answer_id": 45447003, "question_id": 45446942, "link": "https://stackoverflow.com/questions/45446942/an-equivalent-of-text-for-the-imageview/45447003#45447003", "title": "An equivalent of text for the imageView", "body": "<p>You can set like this,</p>\n\n<pre><code>image!!.resources.getDrawable(R.drawable.image)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4869, "user_id": 6151924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d32a9252d2034b93b3eb8f743512104?s=128&d=identicon&r=PG&f=1", "display_name": "RobCo", "link": "https://stackoverflow.com/users/6151924/robco"}, "is_accepted": false, "score": 2, "last_activity_date": 1501625680, "creation_date": 1501625680, "answer_id": 45448496, "question_id": 45446942, "link": "https://stackoverflow.com/questions/45446942/an-equivalent-of-text-for-the-imageview/45448496#45448496", "title": "An equivalent of text for the imageView", "body": "<p>You can set an image with setImageDrawable() or setImageResource()</p>\n\n<pre><code>image?.setImageResource(R.drawable.image)\n</code></pre>\n\n<p>Or the equivalent, but longer version:</p>\n\n<pre><code>image?.setImageDrawable(getResources().getDrawable(R.drawable.image))\n</code></pre>\n\n<hr>\n\n<p>(Also note the question mark instead of double exclamation marks. Now, if image is null, it just skips this line instead of throwing an exception)</p>\n"}], "owner": {"reputation": 81, "user_id": 8382015, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/65d199d20a6a3a075237cd01efcf3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Norman Wildermuth", "link": "https://stackoverflow.com/users/8382015/norman-wildermuth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 89, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1501637874, "creation_date": 1501618578, "last_edit_date": 1501637874, "question_id": 45446942, "link": "https://stackoverflow.com/questions/45446942/an-equivalent-of-text-for-the-imageview", "title": "An equivalent of text for the imageView", "body": "<p>Hello I would like to know what is the equivalent of this :</p>\n\n<pre><code>textView!!.text = getResources().getString(R.string.text)\n</code></pre>\n\n<p>But in my case I have an ImageView and I want to change it in the Kotlin code I tried :</p>\n\n<pre><code>image!!.getResources().getString(R.drawable.image)\n</code></pre>\n\n<p>But it does not work...Could you help me please ? </p>\n\n<p>Thank you !</p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "edited": false, "score": 0, "creation_date": 1545290386, "post_id": 45456343, "comment_id": 94575526, "body": "has this syntax always been in Kotlin? if not, what version was it introduced?"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "edited": false, "score": 0, "creation_date": 1545297380, "post_id": 45456343, "comment_id": 94578499, "body": "I think it was always there."}, {"owner": {"reputation": 5637, "user_id": 727742, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/3rd5a.png?s=128&g=1", "display_name": "stk", "link": "https://stackoverflow.com/users/727742/stk"}, "edited": false, "score": 0, "creation_date": 1596019693, "post_id": 45456343, "comment_id": 111673119, "body": "Does this lock on <code>Foo</code> or on the created setter and getter functions?"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 5637, "user_id": 727742, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/3rd5a.png?s=128&g=1", "display_name": "stk", "link": "https://stackoverflow.com/users/727742/stk"}, "edited": false, "score": 1, "creation_date": 1596107376, "post_id": 45456343, "comment_id": 111708113, "body": "@stk instance functions aren&#39;t objects so you can&#39;t lock on them. Therefore it must lock on the <code>Foo</code> instance."}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": false, "score": 33, "last_activity_date": 1501664825, "creation_date": 1501664825, "answer_id": 45456343, "question_id": 45445991, "link": "https://stackoverflow.com/questions/45445991/synchronize-property-getters-setters/45456343#45456343", "title": "synchronize property getters/setters", "body": "<p>You can't synchronize on a property but you can synchronize on the accessor methods. Use the following syntax:</p>\n\n<pre><code>class Foo {\n    var a = 0\n        @Synchronized get\n        @Synchronized set   \n\n    //or\n\n    @get:Synchronized @set:Synchronized\n    var b = 0\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "edited": false, "score": 0, "creation_date": 1604548557, "post_id": 62260022, "comment_id": 114382116, "body": "Why this is not part of sdk ? It looks quite useful ... Any issues with this approach ?"}, {"owner": {"reputation": 133, "user_id": 5265079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e285207927cfb486963e5e70ef4cef?s=128&d=identicon&r=PG&f=1", "display_name": "Rishav Chudal", "link": "https://stackoverflow.com/users/5265079/rishav-chudal"}, "reply_to_user": {"reputation": 4174, "user_id": 925135, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/QSJJI.jpg?s=128&g=1", "display_name": "Renetik", "link": "https://stackoverflow.com/users/925135/renetik"}, "edited": false, "score": 0, "creation_date": 1605594181, "post_id": 62260022, "comment_id": 114690801, "body": "I am using this and no issue till now. Maybe it will be added later. Hope so."}], "tags": [], "owner": {"reputation": 133, "user_id": 5265079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2e285207927cfb486963e5e70ef4cef?s=128&d=identicon&r=PG&f=1", "display_name": "Rishav Chudal", "link": "https://stackoverflow.com/users/5265079/rishav-chudal"}, "is_accepted": false, "score": 4, "last_activity_date": 1591612232, "creation_date": 1591612232, "answer_id": 62260022, "question_id": 45445991, "link": "https://stackoverflow.com/questions/45445991/synchronize-property-getters-setters/62260022#62260022", "title": "synchronize property getters/setters", "body": "<p>Followed by the @Kirill Rakhman's answer, use of <strong>Delegates</strong> could be more performant if there is tons of contention to the same object since it locks on the delegate rather than the whole object.</p>\n\n<pre><code>class Foo {\n    var a by Synchronize(0)\n    var b by Synchronize(0)\n}\n\nclass Synchronize&lt;T&gt;(defaultValue: T): ReadWriteProperty&lt;Any, T&gt; {\n    private var backingField = defaultValue\n\n    override fun getValue(thisRef: Any, property: KProperty&lt;*&gt;): T {\n        return synchronized(this) {\n            backingField\n        }\n    }\n\n    override fun setValue(thisRef: Any, property: KProperty&lt;*&gt;, value: T) {\n        synchronized(this) {\n            backingField = value\n        }\n    }\n}\n</code></pre>\n\n<p>References: \n<a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#property-delegate-requirements\" rel=\"nofollow noreferrer\">Kotlin Delegated Properties</a>\n<a href=\"https://www.reddit.com/r/Kotlin/comments/6r01v5/kotlin_and_property_thread_safety/\" rel=\"nofollow noreferrer\">Reddit Discussion</a></p>\n"}], "owner": {"reputation": 4200, "user_id": 2223059, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/fcc055942e2ce10dd11a6e77a93e2b22?s=128&d=identicon&r=PG", "display_name": "user2223059", "link": "https://stackoverflow.com/users/2223059/user2223059"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5678, "favorite_count": 2, "answer_count": 2, "score": 17, "last_activity_date": 1591612232, "creation_date": 1501614962, "last_edit_date": 1574439690, "question_id": 45445991, "link": "https://stackoverflow.com/questions/45445991/synchronize-property-getters-setters", "title": "synchronize property getters/setters", "body": "<p>So I'm trying to get a handle on how Kotlin handles synchronization of properties. If I have this class:</p>\n\n<pre><code>class Foo {\n    var a = 0\n    var b = 0\n}\n</code></pre>\n\n<p>and I want to make sure that a &amp; b have all access synchronized. How would I do it? I've tried using the annotation:</p>\n\n<pre><code>class Foo {\n    @Synchronized\n    var a = 0\n    @Synchronized\n    var b = 0\n}\n</code></pre>\n\n<p>but Kotlin gives me a compiler error:</p>\n\n<blockquote>\n  <p>This annotation is not applicable to target 'member property with backing field'</p>\n</blockquote>\n\n<p>I'm just trying to get a better handle on thread safety in Kotlin. It's something that I've always been OCD about in Java, and I'm trying to figure out how to properly handle it in Kotlin.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1501612400, "post_id": 45445264, "comment_id": 77851458, "body": "Is this working code that you&#39;re looking for a code review for? If so, it might be a better fit for our <a href=\"https://codereview.stackexchange.com\">Code Review</a> site."}, {"owner": {"reputation": 35, "user_id": 8401134, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-L_Z_b8mxt8A/AAAAAAAAAAI/AAAAAAAAAFs/TvGnEa1pQCU/photo.jpg?sz=128", "display_name": "Dallas", "link": "https://stackoverflow.com/users/8401134/dallas"}, "reply_to_user": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1501612503, "post_id": 45445264, "comment_id": 77851526, "body": "Thanks for the note. I had no idea that existed.  I&#39;ll post there instead. Thanks!"}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1501612564, "post_id": 45445264, "comment_id": 77851568, "body": "My first thought, incidentally, is that this seems like Kotlin&#39;s equivalent of a <code>switch</code> statement may be somewhat easier to read here."}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1501612736, "post_id": 45445264, "comment_id": 77851664, "body": "Yes, the Stack Exchange network is actually composed of quite a few different sites - they separated out questions about &quot;broken&quot; code (Stack Overflow) from methodology/architectural questions (Software Engineering SE), tool/library recommendations (Software Recommendations SE), and Code Review questions (Code Review SE), partially because of differences in moderating them. For example, tool/library recommendations are notoriously difficult to moderate well because they tend to draw spam and excessively opinionated answers."}, {"owner": {"reputation": 3284, "user_id": 5582307, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NNBFy.jpg?s=128&g=1", "display_name": "David Corral", "link": "https://stackoverflow.com/users/5582307/david-corral"}, "edited": false, "score": 1, "creation_date": 1501612779, "post_id": 45445264, "comment_id": 77851681, "body": "I&#39;ll try to use <code>when(){}</code> (the <code>switch</code> of <code>Kotlin</code>) and I&#39;ll avoid to write the same line each time."}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1501612866, "post_id": 45445264, "comment_id": 77851720, "body": "One thing could be to use the <code>when</code> statement to decide which color to use and store it in a variable and then just call <code>fullView!!.setBackgroundColor(ContextCompat.getColor(this, whateverVariableYouUsed))</code> once at the end (so that it&#39;s easier to tell that that&#39;s the thing that you&#39;re trying to decide about in the <code>when</code>)."}], "answers": [{"comments": [{"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1501613425, "post_id": 45445401, "comment_id": 77852001, "body": "Dumb question - what&#39;s the easiest way to store it in hex in the first place?"}, {"owner": {"reputation": 35, "user_id": 8401134, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-L_Z_b8mxt8A/AAAAAAAAAAI/AAAAAAAAAFs/TvGnEa1pQCU/photo.jpg?sz=128", "display_name": "Dallas", "link": "https://stackoverflow.com/users/8401134/dallas"}, "edited": false, "score": 0, "creation_date": 1501613702, "post_id": 45445401, "comment_id": 77852162, "body": "Thank you very much.  Your code and comments helped me a lot.  So much cleaner!  I was able to take your code suggestion with a few minor tweaks and got it working in my app.  I&#39;m now on the hunt for !! and will try to fix that in other parts of my code."}], "tags": [], "owner": {"reputation": 6439, "user_id": 2877453, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/e9374256b0c24a469fab5e169250d72b?s=128&d=identicon&r=PG&f=1", "display_name": "Moonbloom", "link": "https://stackoverflow.com/users/2877453/moonbloom"}, "is_accepted": true, "score": 2, "last_activity_date": 1501612789, "creation_date": 1501612789, "answer_id": 45445401, "question_id": 45445264, "link": "https://stackoverflow.com/questions/45445264/trying-to-write-efficient-code-to-update-background-color-using-kotlin/45445401#45445401", "title": "Trying to write efficient code to update Background Color using Kotlin", "body": "<p>Rather than saving a string with the color, save the hex value of the color. Then you can avoid the massive if/else statement.</p>\n\n<pre><code>fun updateBackgroundColor() {\n    val sharedPref = PreferenceManager.getDefaultSharedPreferences(this)\n    // Gets the text color from the shared preferences file\n    val backgroundColor = sharedPref.getString(\"background_color_hex\", \"0x000000\")\n    val fullView = findViewById(R.id.fullscreen_content) as TextView?\n\n    // Changes the text color based on the color the user has selected in Settings/Preferences\n    int color = Color.parseColor(backgroundColor);\n    fullView?.setBackgroundColor(color)\n}\n</code></pre>\n\n<p>Also, you can do the findViewById as a oneliner, as shown above.<br>\nUsing '!!' in Kotlin is EXTREMELY bad, as it basically says \"i know this can be null, and i don't care, just crash if it's null\", which is one of the main points of using Kotlin. So you should use '?' as shown above instead, as it'll run the code if it's not null, and if it is null, it won't run the code (which means it won't crash)</p>\n"}, {"comments": [{"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1501613044, "post_id": 45445424, "comment_id": 77851814, "body": "Another thing you could do too is to use the <code>when</code> to set a variable with the color and then just call <code>fullView!!.setBackgroundColor(ContextCompat.getColor(this, whateverVariable)</code> at the end - it&#39;s more lines of code but I think it&#39;s slightly clearer because that&#39;s the thing that&#39;s actually varying in the <code>when</code> statement."}, {"owner": {"reputation": 35, "user_id": 8401134, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-L_Z_b8mxt8A/AAAAAAAAAAI/AAAAAAAAAFs/TvGnEa1pQCU/photo.jpg?sz=128", "display_name": "Dallas", "link": "https://stackoverflow.com/users/8401134/dallas"}, "edited": false, "score": 0, "creation_date": 1501613479, "post_id": 45445424, "comment_id": 77852041, "body": "Thank you for the advice!"}], "tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 1, "last_activity_date": 1501612866, "creation_date": 1501612866, "answer_id": 45445424, "question_id": 45445264, "link": "https://stackoverflow.com/questions/45445264/trying-to-write-efficient-code-to-update-background-color-using-kotlin/45445424#45445424", "title": "Trying to write efficient code to update Background Color using Kotlin", "body": "<p>You can use <code>when</code> without using if &amp; else. This <code>when</code> is like the <code>switch</code> of Java.</p>\n\n<pre><code>fun updateBackgroundColor() {    \n    val sharedPref = PreferenceManager.getDefaultSharedPreferences(this)\n    // Gets the text color from the shared preferences file\n    val backgroundColor = sharedPref.getString(\"background_color\", \"\")\n    val fullscreenView = findViewById(R.id.fullscreen_content)\n    val fullView = fullscreenView as TextView?\n\n    // Changes the text color based on the color the user has selected in Settings/Preferences\n    when(backgroundColor) {\n        \"blue\" -&gt; fullView!!.setBackgroundColor(ContextCompat.getColor(this, mBlue))\n\n        \"red\" -&gt; fullView!!.setBackgroundColor(ContextCompat.getColor(this, mRed))\n\n        \"green\" -&gt; fullView!!.setBackgroundColor(ContextCompat.getColor(this, mGreen))\n\n        \"yellow\" -&gt; fullView!!.setBackgroundColor(ContextCompat.getColor(this, mYellow))\n\n        \"purple\" -&gt; fullView!!.setBackgroundColor(ContextCompat.getColor(this, mPurple))\n\n        \"pink\" -&gt; fullView!!.setBackgroundColor(ContextCompat.getColor(this, mPink))\n\n        \"black\" -&gt; fullView!!.setBackgroundColor(ContextCompat.getColor(this, mBlack))\n\n        \"white\" -&gt; fullView!!.setBackgroundColor(ContextCompat.getColor(this, mWhite))\n\n        else -&gt; fullView!!.setBackgroundColor(ContextCompat.getColor(this, mBlue))\n    }\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 565, "user_id": 3257988, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/f664fe43b529736d7eb7906f52fb4179?s=128&d=identicon&r=PG&f=1", "display_name": "Looki", "link": "https://stackoverflow.com/users/3257988/looki"}, "is_accepted": false, "score": 0, "last_activity_date": 1501679792, "creation_date": 1501679792, "answer_id": 45461975, "question_id": 45445264, "link": "https://stackoverflow.com/questions/45445264/trying-to-write-efficient-code-to-update-background-color-using-kotlin/45461975#45461975", "title": "Trying to write efficient code to update Background Color using Kotlin", "body": "<p>You could create a <code>map</code> like this:</p>\n\n<pre><code>var map = mapOf(\"blue\" to mBlue, \"red\" to mRed, \"green\" to mGreen, ...)\nfullView!!.setBackgroundColor(ContextCompat.getColor(this, map[backgroundColor]))\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 8401134, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-L_Z_b8mxt8A/AAAAAAAAAAI/AAAAAAAAAFs/TvGnEa1pQCU/photo.jpg?sz=128", "display_name": "Dallas", "link": "https://stackoverflow.com/users/8401134/dallas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "accepted_answer_id": 45445401, "answer_count": 3, "score": 2, "last_activity_date": 1501679792, "creation_date": 1501612302, "last_edit_date": 1501612421, "question_id": 45445264, "link": "https://stackoverflow.com/questions/45445264/trying-to-write-efficient-code-to-update-background-color-using-kotlin", "title": "Trying to write efficient code to update Background Color using Kotlin", "body": "<p>The following code works but I feel like there is probably a more efficient/cleaner way.  I'm new to Kotlin and Android Development so please go easy on me.  ;-)  Any enhancements would be much appreciated as I'm always looking to improve.  </p>\n\n<pre><code>fun updateBackgroundColor() {\n\n    val sharedPref = PreferenceManager.getDefaultSharedPreferences(this)\n    // Gets the text color from the shared preferences file\n    val backgroundColor = sharedPref.getString(\"background_color\", \"\")\n    val fullscreenView = findViewById(R.id.fullscreen_content)\n    val fullView = fullscreenView as TextView?\n\n    // Changes the text color based on the color the user has selected in Settings/Preferences\n    if (backgroundColor == \"blue\") {\n        fullView!!.setBackgroundColor(ContextCompat.getColor(this, mBlue))\n\n    } else if (backgroundColor == \"red\") {\n        fullView!!.setBackgroundColor(ContextCompat.getColor(this, mRed))\n\n    } else if (backgroundColor == \"green\") {\n        fullView!!.setBackgroundColor(ContextCompat.getColor(this, mGreen))\n\n    } else if (backgroundColor == \"yellow\") {\n        fullView!!.setBackgroundColor(ContextCompat.getColor(this, mYellow))\n\n    } else if (backgroundColor == \"purple\") {\n        fullView!!.setBackgroundColor(ContextCompat.getColor(this, mPurple))\n\n    } else if (backgroundColor == \"pink\") {\n        fullView!!.setBackgroundColor(ContextCompat.getColor(this, mPink))\n\n    } else if (backgroundColor == \"black\") {\n        fullView!!.setBackgroundColor(ContextCompat.getColor(this, mBlack))\n\n    } else if (backgroundColor == \"white\") {\n        fullView!!.setBackgroundColor(ContextCompat.getColor(this, mWhite))\n\n    } else {\n        fullView!!.setBackgroundColor(ContextCompat.getColor(this, mBlue))\n\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "intellij-idea", "kotlin", "remote-debugging"], "comments": [{"owner": {"reputation": 6493, "user_id": 1020900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab5f80978d59af0204e0986ca41d2c23?s=128&d=identicon&r=PG", "display_name": "bashor", "link": "https://stackoverflow.com/users/1020900/bashor"}, "edited": false, "score": 0, "creation_date": 1501614658, "post_id": 45444986, "comment_id": 77852725, "body": "Please show your code or even better provide simple project where it&#39;s reproduced for you."}, {"owner": {"reputation": 941, "user_id": 1465013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587a2b7a233238f84feb6fd22c7d869?s=128&d=identicon&r=PG", "display_name": "Ryba", "link": "https://stackoverflow.com/users/1465013/ryba"}, "edited": false, "score": 0, "creation_date": 1501689494, "post_id": 45444986, "comment_id": 77892165, "body": "Also make sure that your codebase is in sync with what you are debugging and if you are using lambdas (often confusing when multiple scope layers are on a single line) that you configure the break point to something inside the lambda."}], "owner": {"reputation": 1879, "user_id": 1130975, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/3682a919cff609aa82c72a2d3549eccf?s=128&d=identicon&r=PG&f=1", "display_name": "kboom", "link": "https://stackoverflow.com/users/1130975/kboom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 605, "favorite_count": 1, "closed_date": 1502369295, "answer_count": 0, "score": 5, "last_activity_date": 1502366145, "creation_date": 1501611222, "last_edit_date": 1502366145, "question_id": 45444986, "link": "https://stackoverflow.com/questions/45444986/remote-debug-kotlin-code-via-intellij", "closed_reason": "Duplicate", "title": "Remote debug kotlin code via IntelliJ", "body": "<p>There's an app written in Java &amp; Kotlin. I'm running that in debug mode. The debugger gets attached correctly. If my breakpoint is set in Java code it's hit but any breakpoint in Kotlin code isn't. Why is that? How to make it work in IntelliJ?</p>\n\n<p>Both types of sources reside in src/main.</p>\n\n<p>Actually there is an answser to this question at StackOverflow. This might be marked as a duplicate of <a href=\"https://stackoverflow.com/questions/42716493/intellij-idea-debugger-not-working-on-gradle-vert-x-project\">Intellij IDEA debugger not working on Gradle Vert.X project</a></p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "rx-java"], "answers": [{"tags": [], "owner": {"reputation": 2225, "user_id": 3474528, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bNcDK.png?s=128&g=1", "display_name": "Charles Durham", "link": "https://stackoverflow.com/users/3474528/charles-durham"}, "is_accepted": true, "score": 1, "last_activity_date": 1501613195, "creation_date": 1501613195, "answer_id": 45445519, "question_id": 45444897, "link": "https://stackoverflow.com/questions/45444897/how-to-emmit-no-data-by-flowable-for-unit-tests/45445519#45445519", "title": "How to emmit no data by Flowable for unit tests?", "body": "<p>Your implementation is wrong. Zip will combine 1:1 on each stream, see documentation: <a href=\"http://reactivex.io/documentation/operators/zip.html\" rel=\"nofollow noreferrer\">http://reactivex.io/documentation/operators/zip.html</a>. Since one of your streams is empty there's nothing to zip and nothing will get pushed downstream.</p>\n\n<p>Instead of zipping I'd suggest merge and distinct: <code>localSource.mergeWith(networkSourceWithSave).distinct()</code></p>\n"}], "owner": {"reputation": 488, "user_id": 5543325, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/960f8600457a12ef2405ccba25de9809?s=128&d=identicon&r=PG&f=1", "display_name": "Panczur", "link": "https://stackoverflow.com/users/5543325/panczur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 0, "accepted_answer_id": 45445519, "answer_count": 1, "score": 0, "last_activity_date": 1501613195, "creation_date": 1501610881, "question_id": 45444897, "link": "https://stackoverflow.com/questions/45444897/how-to-emmit-no-data-by-flowable-for-unit-tests", "title": "How to emmit no data by Flowable for unit tests?", "body": "<p>So, at start a little context about what I want to achive:</p>\n\n<p>I have function in <code>DataManager</code> class named <code>getBusRoutesByQuery(query: String)</code> which returns <code>Flowable&lt;List&lt;Route&gt;&gt;</code>. That function search in local and remote storage for bus routes by given query. I'm using <code>zip</code> to combine two Flowables and merge them into one without duplicates. But for example when user will use app for the first time he won't have any data in local source so <code>zip</code> will not work. So I found a function <code>onErrorReturn</code> and I'm using it when there will be no data to return. <code>onErrorReturn</code> returns empty list instead of error, so remote source will <code>zip</code> with empty data. And now when I'm using in test <code>Flowble.empty()</code> to symulate situation where there is no data in local storage, test doesn't pass.</p>\n\n<p><strong>Test assumptions</strong>: </p>\n\n<ol>\n<li>no data in local storage</li>\n<li>data available in remote storage</li>\n<li><code>getBusRoutesByQuery(query: String)</code> is called from <code>DataManager</code></li>\n<li>data is retriven</li>\n</ol>\n\n<p>Now how it looks in the code:</p>\n\n<pre><code>override fun getBusRoutesByQuery(query: String): Flowable&lt;List&lt;Route&gt;&gt; {\n    val networkSourceWithSave: Flowable&lt;List&lt;Route&gt;&gt; = remoteBusDataManager\n            .getBusRoutesByQuery(query)\n            .doOnNext { localBusDataManager.insertBusRoutes(it) }\n            .onErrorReturn { listOf() }\n    val localSource: Flowable&lt;List&lt;Route&gt;&gt; = localBusDataManager\n            .getBusRoutesByQuery(query)\n            .onErrorReturn { listOf() }\n\n    return Flowable.zip(localSource,\n                        networkSourceWithSave,\n                        BiFunction { local, remote -&gt; mergeTwoListsWithoutDuplicates(local, remote) })\n}\n</code></pre>\n\n<p>and the test:</p>\n\n<pre><code>@Test\nfun getRoutesByQueryWhenLocalSourceIsNotAvailable() {\n    `when`(localBusDataManager.getBusRoutesByQuery(QUERY)).thenReturn(Flowable.empty())\n    `when`(remoteBusDataManager.getBusRoutesByQuery(QUERY)).thenReturn(Flowable.just(ROUTES))\n\n    busDataManager.getBusRoutesByQuery(QUERY).subscribe(testSubscriber)\n\n    testSubscriber.assertValue(ROUTES)\n}\n</code></pre>\n\n<p>So tell me, what can I do with <code>zip</code>, when local storage data is not available and how can I test it. Thanks ;)</p>\n"}, {"tags": ["rest", "kotlin", "retrofit", "dropwizard", "okhttp"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1501606301, "post_id": 45443491, "comment_id": 77847927, "body": "you should write an <a href=\"https://github.com/square/retrofit/tree/master/retrofit-adapters\" rel=\"nofollow noreferrer\">interceptor/adapter</a> for the retrofit to sets up cookie automatically."}, {"owner": {"reputation": 4263, "user_id": 148736, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/98ce675339d7e7c8269349943d6a0823?s=128&d=identicon&r=PG", "display_name": "Andrew Arrow", "link": "https://stackoverflow.com/users/148736/andrew-arrow"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501606400, "post_id": 45443491, "comment_id": 77847989, "body": "all the examples I see for this don&#39;t give me access to that same cookies I have from @CookieParam(&quot;My-Cookie&quot;). Do you have link?"}], "answers": [{"tags": [], "owner": {"reputation": 1737, "user_id": 4244598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/l7ysL.png?s=128&g=1", "display_name": "Natan", "link": "https://stackoverflow.com/users/4244598/natan"}, "is_accepted": false, "score": 1, "last_activity_date": 1501608829, "last_edit_date": 1501608829, "creation_date": 1501608165, "answer_id": 45444151, "question_id": 45443491, "link": "https://stackoverflow.com/questions/45443491/how-can-i-make-each-rest-endpoint-read-a-cookie-and-use-that-value-in-okhttp-int/45444151#45444151", "title": "How can I make each rest endpoint read a cookie and use that value in okhttp Interceptor?", "body": "<p>You should have an interceptor to add cookies for you. Interceptor are quite flexible, you can have an interceptor for received cookies and another to set your cookies.</p>\n\n<pre><code>var cookie: String? = null\n\nfun createOwnClient(): MyOwnClient {\n    val client = createOkHttpClient()\n    val retrofit = Retrofit.Builder().baseUrl(MyOwnConstants.API_BASE_URL)\n            .client(client)\n            .build()\n    return retrofit.create(MyOwnClient::class.java)\n}\n\nfun createOkHttpClient(): OkHttpClient {\n    val addCookiesInterceptor = createAddCookiesInterceptor()\n    val receivedCookiesInterceptor = createReceivedCookiesInterceptor()\n    return OkHttpClient.Builder()\n            .addInterceptor(addCookiesInterceptor)\n            .addInterceptor(receivedCookiesInterceptor)\n            .build()\n}\n\nfun createAddCookiesInterceptor(): Interceptor {\n    return Interceptor {\n        val requestBuilder = it.request().newBuilder()\n        if (cookie != null) {\n            requestBuilder.addHeader(\"Cookie\", cookie)\n        }\n        it.proceed(requestBuilder.build())\n    }\n}\n\nfun createReceivedCookiesInterceptor(): Interceptor {\n    return Interceptor {\n        val originalRequest = it.proceed(it.request())\n        cookie = originalRequest.header(\"Set-Cookie\")\n        originalRequest\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 429, "user_id": 7564563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e33fda5582c0a084d5c59424c8ff42d?s=128&d=identicon&r=PG&f=1", "display_name": "Bill O&#39;Neil", "link": "https://stackoverflow.com/users/7564563/bill-oneil"}, "is_accepted": false, "score": 0, "last_activity_date": 1502471940, "creation_date": 1502471940, "answer_id": 45640610, "question_id": 45443491, "link": "https://stackoverflow.com/questions/45443491/how-can-i-make-each-rest-endpoint-read-a-cookie-and-use-that-value-in-okhttp-int/45640610#45640610", "title": "How can I make each rest endpoint read a cookie and use that value in okhttp Interceptor?", "body": "<p>I would not recommend rolling your own Cookie Interceptor like @natan Suggested. OkHttp has built in functionality for cookie jars that will handle much more than just the basics. For example if you need expirations, domain based, path based, ssl only...</p>\n\n<pre><code>import okhttp3.JavaNetCookieJar;\n\nCookieManager cookieManager = new CookieManager();\ncookieManager.setCookiePolicy(CookiePolicy.ACCEPT_ALL);\nJavaNetCookieJar cookieJar = new JavaNetCookieJar(cookieManager);\n\nOkHttpClient client = new OkHttpClient.Builder().cookieJar(cookieJar).build();\n</code></pre>\n\n<p>This should handle all of the cookies for you by adding one extra OkHttp module.</p>\n"}], "owner": {"reputation": 4263, "user_id": 148736, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/98ce675339d7e7c8269349943d6a0823?s=128&d=identicon&r=PG", "display_name": "Andrew Arrow", "link": "https://stackoverflow.com/users/148736/andrew-arrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 921, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1502471940, "creation_date": 1501606083, "question_id": 45443491, "link": "https://stackoverflow.com/questions/45443491/how-can-i-make-each-rest-endpoint-read-a-cookie-and-use-that-value-in-okhttp-int", "title": "How can I make each rest endpoint read a cookie and use that value in okhttp Interceptor?", "body": "<p>I have lots of endpoints like:</p>\n\n<p>@GET\n  index()</p>\n\n<p>@GET\n  @Path(\"/{id}\")</p>\n\n<p>and by adding:</p>\n\n<pre><code>  @GET\n  @Path(\"/{id}\")\n  fun getThing(@CookieParam(\"My-Cookie\") cookie: String?)\n</code></pre>\n\n<p>I can read the value in that cookie just fine.</p>\n\n<p>But I don't want to add this <code>@CookieParam(\"My-Cookie\") cookie: String?</code> line to 100's of endpoints. I want to somehow make this happen for each one by default and then use that value when I make an http call to another API using okhttp retrofit.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1565, "user_id": 2836381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c01f048c61632f1d432506e1d7be2158?s=128&d=identicon&r=PG&f=1", "display_name": "CzarMatt", "link": "https://stackoverflow.com/users/2836381/czarmatt"}, "edited": false, "score": 1, "creation_date": 1501604536, "post_id": 45442838, "comment_id": 77846883, "body": "I suppose you can do something like an object expression <code>val runnable = object : Runnable { . . .</code>  <a href=\"https://stackoverflow.com/posts/45442838/edit\">Edit</a> What holi-java said."}], "answers": [{"comments": [{"owner": {"reputation": 1371, "user_id": 7263373, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3a7d9040d19161c5bc3e85fc9cc61935?s=128&d=identicon&r=PG&f=1", "display_name": "Rohan Bhatia", "link": "https://stackoverflow.com/users/7263373/rohan-bhatia"}, "edited": false, "score": 0, "creation_date": 1516462736, "post_id": 45442955, "comment_id": 83702517, "body": "If Kotlin prohibited usage of a variable inside its own initializer then wouldn&#39;t the error say so? The error clearly states something else and also provides a workaround."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 1371, "user_id": 7263373, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/3a7d9040d19161c5bc3e85fc9cc61935?s=128&d=identicon&r=PG&f=1", "display_name": "Rohan Bhatia", "link": "https://stackoverflow.com/users/7263373/rohan-bhatia"}, "edited": false, "score": 0, "creation_date": 1516464865, "post_id": 45442955, "comment_id": 83703239, "body": "It&#39;s just the diagnostic that is not clear enough in this case. There are two errors in the code in question, and the compiler reports the one about recursive types (it can occur in many other cases, too). Once you fix it, it will say that the variable has to be initialized, and that&#39;s what I described in my answer."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 27, "last_activity_date": 1501608163, "last_edit_date": 1501608163, "creation_date": 1501604410, "answer_id": 45442955, "question_id": 45442838, "link": "https://stackoverflow.com/questions/45442838/type-checking-has-run-into-a-recursive-in-kotlin/45442955#45442955", "title": "Type checking has run into a recursive in kotlin", "body": "<p>Kotlin prohibits usage of a variable or a property inside its own initializer. </p>\n\n<p>You can use an <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"noreferrer\">object expression</a> to implement <code>Runnable</code> in the same way as in Java:</p>\n\n<pre><code>val cycleRunnable = object : Runnable {\n    override fun run() {\n        handler.postDelayed(this, 100)\n    }\n}\n</code></pre>\n\n<p>Another way to do that is to use some function that will return the <code>Runnable</code> and to use <code>cycleRunnable</code> inside the lambda passed to it, e.g.:</p>\n\n<pre><code>val cycleRunnable: Runnable = run {\n    Runnable {\n        println(cycleRunnable)\n    }\n}\n</code></pre>\n\n<p>Or see <a href=\"https://stackoverflow.com/questions/35100389/writing-a-kotlin-util-function-which-provides-self-reference-in-initializer\">a workaround that allows a variable to be used inside its own initializer</a> through a self reference: </p>\n\n<p><sub>This code will not work out of the box: you need to add the utils from the link above or use the <a href=\"https://github.com/h0tk3y/kotlin-fun\" rel=\"noreferrer\"><code>kotlin-fun</code></a> library:</sub></p>\n\n<pre><code>val cycleRunnable: Runnable = selfReference {\n    Runnable {\n        handler.postDelayed(self, 100)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 2, "last_activity_date": 1501605108, "last_edit_date": 1501605108, "creation_date": 1501604481, "answer_id": 45442972, "question_id": 45442838, "link": "https://stackoverflow.com/questions/45442838/type-checking-has-run-into-a-recursive-in-kotlin/45442972#45442972", "title": "Type checking has run into a recursive in kotlin", "body": "<p>How about this? you can replace it with <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"nofollow noreferrer\">object expression</a>, this is because you can't reference the lambda in lambda body since the <code>cycleRunnable</code> hasn't been initialized yet.</p>\n\n<pre><code>val cycleRunnable = object:Runnable {\n    override fun run() {\n        handler.postDelayed(this, 100)\n    }\n}\n</code></pre>\n\n<p><strong>OR</strong> use the <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#lazy\" rel=\"nofollow noreferrer\">lazy</a> delegated-properties instead if the <code>cycleRunnable</code> is a property, for example:</p>\n\n<pre><code>val cycleRunnable: Runnable by lazy {\n    Runnable { handler.postDelayed(cycleRunnable, 100) }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4101, "user_id": 563509, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/xYq7e.jpg?s=128&g=1", "display_name": "masterwok", "link": "https://stackoverflow.com/users/563509/masterwok"}, "edited": false, "score": 6, "creation_date": 1534820213, "post_id": 49522979, "comment_id": 90831651, "body": "Your solution worked for me. However, I was able to use an expression body in the end by explicitly defining the return type."}, {"owner": {"reputation": 886, "user_id": 4034697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e642b4be5d4cf044fb063ce0bd41be77?s=128&d=identicon&r=PG&f=1", "display_name": "vahid", "link": "https://stackoverflow.com/users/4034697/vahid"}, "edited": false, "score": 0, "creation_date": 1612937791, "post_id": 49522979, "comment_id": 116918906, "body": "It is second time I found your answer on google and helped me. I hope don&#39;t forget again :)"}], "tags": [], "owner": {"reputation": 1605, "user_id": 1917056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1212f481f29a04ef16c5008266e349c?s=128&d=identicon&r=PG", "display_name": "Peter", "link": "https://stackoverflow.com/users/1917056/peter"}, "is_accepted": false, "score": 18, "last_activity_date": 1522187416, "creation_date": 1522187416, "answer_id": 49522979, "question_id": 45442838, "link": "https://stackoverflow.com/questions/45442838/type-checking-has-run-into-a-recursive-in-kotlin/49522979#49522979", "title": "Type checking has run into a recursive in kotlin", "body": "<p>For anyone seeing this compiler warning, it may be as simple as nesting your code inside a <code>Unit</code> aka <code>{ ... }</code></p>\n\n<p>Kotlin allows us to assign functions:</p>\n\n<pre><code>fun doSomethingElse() = doSomething()\nfun doSomething() { }\n</code></pre>\n\n<p>However, this doesn't work if we're calling the function recursively:</p>\n\n<pre><code>fun recursiveFunction(int: Int) =\n    when (int) {\n        1 -&gt; { }\n        else -&gt; recursiveFunction()\n    }\n</code></pre>\n\n<p>The fix is simple:</p>\n\n<pre><code>fun recursiveFunction(int: Int) {\n    when (int) {\n        1 -&gt; { }\n        else -&gt; recursiveFunction()\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1333, "user_id": 5890321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08b0ac8116e1de42e5733c6c67c92a2?s=128&d=identicon&r=PG&f=1", "display_name": "Kenneth Argo", "link": "https://stackoverflow.com/users/5890321/kenneth-argo"}, "edited": false, "score": 1, "creation_date": 1578541902, "post_id": 50293985, "comment_id": 105474597, "body": "This solution does not work.  Yes, the original error (Type checking has run into a recursive problem) is no longer shown but a new error (Variable &#39;cycleRunnable&#39; must be initialized)"}, {"owner": {"reputation": 2385, "user_id": 6883143, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-6eVI86TCKZ8/AAAAAAAAAAI/AAAAAAAAAB4/AmD0k6JZYN4/photo.jpg?sz=128", "display_name": "Axbor Axrorov", "link": "https://stackoverflow.com/users/6883143/axbor-axrorov"}, "reply_to_user": {"reputation": 1333, "user_id": 5890321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08b0ac8116e1de42e5733c6c67c92a2?s=128&d=identicon&r=PG&f=1", "display_name": "Kenneth Argo", "link": "https://stackoverflow.com/users/5890321/kenneth-argo"}, "edited": false, "score": 0, "creation_date": 1578551942, "post_id": 50293985, "comment_id": 105476918, "body": "@KennethArgo which kotlin version are you using? It is impossible to get such error because we are initializing this value."}, {"owner": {"reputation": 1333, "user_id": 5890321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08b0ac8116e1de42e5733c6c67c92a2?s=128&d=identicon&r=PG&f=1", "display_name": "Kenneth Argo", "link": "https://stackoverflow.com/users/5890321/kenneth-argo"}, "edited": false, "score": 0, "creation_date": 1580857823, "post_id": 50293985, "comment_id": 106234364, "body": "I was using everything the latest version: 1.3.61"}, {"owner": {"reputation": 2385, "user_id": 6883143, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-6eVI86TCKZ8/AAAAAAAAAAI/AAAAAAAAAB4/AmD0k6JZYN4/photo.jpg?sz=128", "display_name": "Axbor Axrorov", "link": "https://stackoverflow.com/users/6883143/axbor-axrorov"}, "reply_to_user": {"reputation": 1333, "user_id": 5890321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f08b0ac8116e1de42e5733c6c67c92a2?s=128&d=identicon&r=PG&f=1", "display_name": "Kenneth Argo", "link": "https://stackoverflow.com/users/5890321/kenneth-argo"}, "edited": false, "score": 0, "creation_date": 1580908661, "post_id": 50293985, "comment_id": 106251879, "body": "@KennethArgo Thank you, I see that in latest versions has such kind of problem. I&#39;ve updated my answer."}], "tags": [], "owner": {"reputation": 2385, "user_id": 6883143, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-6eVI86TCKZ8/AAAAAAAAAAI/AAAAAAAAAB4/AmD0k6JZYN4/photo.jpg?sz=128", "display_name": "Axbor Axrorov", "link": "https://stackoverflow.com/users/6883143/axbor-axrorov"}, "is_accepted": false, "score": 14, "last_activity_date": 1580908602, "last_edit_date": 1580908602, "creation_date": 1526047007, "answer_id": 50293985, "question_id": 45442838, "link": "https://stackoverflow.com/questions/45442838/type-checking-has-run-into-a-recursive-in-kotlin/50293985#50293985", "title": "Type checking has run into a recursive in kotlin", "body": "<p>Show value type explicitly like below:</p>\n\n<pre><code>val cycleRunnable:Runnable = Runnable {\n    handler.postDelayed(cycleRunnable,100)\n}\n</code></pre>\n\n<p>This solution solves most of the problems with recursive typechecking problem.</p>\n\n<p>If you are receiving error <code>Variable  must be initialized</code> then you have to declare variable first, and then initialize it with runnable like below:</p>\n\n<pre><code>lateinit var cycleRunnable:Runnable\n\n//in constructor or somewhere else:\ncycleRunnable = Runnable {\n        handler.postDelayed(cycleRunnable,100)\n    }\n</code></pre>\n"}], "owner": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9838, "favorite_count": 1, "answer_count": 4, "score": 33, "last_activity_date": 1580908602, "creation_date": 1501604091, "last_edit_date": 1526638528, "question_id": 45442838, "link": "https://stackoverflow.com/questions/45442838/type-checking-has-run-into-a-recursive-in-kotlin", "title": "Type checking has run into a recursive in kotlin", "body": "<pre><code> val cycleRunnable = Runnable {\n        handler.postDelayed(cycleRunnable,100)\n    }\n</code></pre>\n\n<p>I am getting error\nError:(219, 29) Type checking has run into a recursive problem. Easiest workaround: specify types of your declarations explicitly</p>\n\n<p>But its exact java version doesn't have any error</p>\n\n<pre><code>private final Runnable cycleRunnable = new Runnable() {\n        public void run() {\n                handler.postDelayed(cycleRunnable, POST_DELAY);\n        }\n    };\n</code></pre>\n"}, {"tags": ["android", "multithreading", "kotlin", "freeze"], "answers": [{"comments": [{"owner": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "edited": false, "score": 0, "creation_date": 1501601741, "post_id": 45441798, "comment_id": 77845152, "body": "There is error at line 6 i.e.             handler.postDelayed(cycleRunnable, POST_DELAY); cycleRunnable variable placement is wrong. It can&#39;t inside."}, {"owner": {"reputation": 1140, "user_id": 5105431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3d51abec8a8f4810671711192d5b3d0?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Potapov", "link": "https://stackoverflow.com/users/5105431/anton-potapov"}, "reply_to_user": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "edited": false, "score": 0, "creation_date": 1501601846, "post_id": 45441798, "comment_id": 77845203, "body": "Ye, sure. Fixed it"}, {"owner": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "edited": false, "score": 0, "creation_date": 1501602489, "post_id": 45441798, "comment_id": 77845610, "body": "it is running only one time but I want to run infinite time till user does not cancel it."}, {"owner": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "edited": false, "score": 0, "creation_date": 1501603722, "post_id": 45441798, "comment_id": 77846387, "body": "I don&#39;t know your code is working fine in java but not in kotlin. By the way thanks a lot."}], "tags": [], "owner": {"reputation": 1140, "user_id": 5105431, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f3d51abec8a8f4810671711192d5b3d0?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Potapov", "link": "https://stackoverflow.com/users/5105431/anton-potapov"}, "is_accepted": true, "score": 0, "last_activity_date": 1501602682, "last_edit_date": 1501602682, "creation_date": 1501601013, "answer_id": 45441798, "question_id": 45441597, "link": "https://stackoverflow.com/questions/45441597/main-ui-freezes/45441798#45441798", "title": "Main Ui Freezes", "body": "<p>Try not using the separate Thread and Looper. Handler is enough for what you want to do. Cycle it like this:</p>\n\n<pre><code>private static final long POST_DELAY = 100;\nprivate final Handler handler = new Handler();\nprivate final Runnable cycleRunnable = new Runnable() {\n    public void run() {\n        if (isCycling) {\n            // make your cycle body here\n            handler.postDelayed(cycleRunnable, POST_DELAY);\n        }\n    }\n};\n\nprivate boolean isCycling = false;\n\npublic void startCycle() {\n    if (!isCycling) {\n        isCycling = true;\n        handler.postDelayed(cycleRunnable, POST_DELAY);\n    }\n}\n\npublic void stopCycle() {\n    if (isCycling) {\n        isCycling = false;\n        handler.removeCallbacks(cycleRunnable);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2802, "user_id": 1640009, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7d2fca77984f73030fcd81083886f254?s=128&d=identicon&r=PG", "display_name": "Ankur_009", "link": "https://stackoverflow.com/users/1640009/ankur-009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 45441798, "answer_count": 1, "score": 0, "last_activity_date": 1501602682, "creation_date": 1501600445, "last_edit_date": 1501602545, "question_id": 45441597, "link": "https://stackoverflow.com/questions/45441597/main-ui-freezes", "title": "Main Ui Freezes", "body": "<p>I am trying to blink the camera led at the different speed.</p>\n\n<p>so to do this I am using seekbar to change the blinking speed.</p>\n\n<p>When I first change the value of seekbar it starts blinking </p>\n\n<pre><code>private fun startFlashLightBlink(context: Context,blinkSpeed: Int) {\n\n        isBlinkFlashLight=true\n     flashLightBlinkThread = Thread{\n\n                Looper.prepare()\n                while (isBlinkFlashLight){\n                    val blinkInterval:Long=blinkSpeed*100L\n                    //getMainLooper() handler is associated \"with the Looper for the current thread\" ... which is currently the main(UI) thread\n                    val handler = Handler()\n\n                    var runnable:Runnable = Runnable{\n                        toggleFlashLight()\n                    }\n                    handler.postDelayed(runnable,blinkInterval)\n                }\n\n                Looper.loop()\n\n            }\n            flashLightBlinkThread?.start()\n\n    }\n</code></pre>\n\n<p><strong>But it freezes the main UI so now I am not able to change the value using seekbar And gets ANR message.</strong> \nWhat should I do? I can't use the asynkTask. \nService is also not a good option. I think. </p>\n"}, {"tags": ["jpa", "kotlin"], "comments": [{"owner": {"reputation": 10481, "user_id": 380338, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cb2fc8100ee717e04bb73ede7133be1?s=128&d=identicon&r=PG", "display_name": "Neil Stockton", "link": "https://stackoverflow.com/users/380338/neil-stockton"}, "edited": false, "score": 1, "creation_date": 1501599255, "post_id": 45441146, "comment_id": 77843469, "body": "<code>No persistence provider</code> doesn&#39;t necessarily mean that it can&#39;t read the <code>persistence.xml</code> (check you spelt it correct). Maybe it can&#39;t find the provider in the CLASSPATH ..."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501599907, "post_id": 45441146, "comment_id": 77843895, "body": "The error occurs in <i>compile-time</i> which means your code hasn&#39;t been ran. so I&#39;m sure you didn&#39;t add any JPA dependencies in your classpath."}, {"owner": {"reputation": 11, "user_id": 8400152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96fa894b880fc03193ddd205487b8be7?s=128&d=identicon&r=PG&f=1", "display_name": "W.Guedria", "link": "https://stackoverflow.com/users/8400152/w-guedria"}, "edited": false, "score": 0, "creation_date": 1501833079, "post_id": 45441146, "comment_id": 77962935, "body": "Thanks for the response. Even by including jpa dependencies in the CLASSPATH, I still getting the same error when running the script I added  eclipselink-2.6.4.jar and postgresql-9.4.jar in the CLASSPATH. Should I add something else?"}], "owner": {"reputation": 11, "user_id": 8400152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96fa894b880fc03193ddd205487b8be7?s=128&d=identicon&r=PG&f=1", "display_name": "W.Guedria", "link": "https://stackoverflow.com/users/8400152/w-guedria"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1501601722, "creation_date": 1501599120, "last_edit_date": 1501601722, "question_id": 45441146, "link": "https://stackoverflow.com/questions/45441146/kotlin-script-cant-access-meta-inf-resources-persistence-xml-from-jar", "title": "Kotlin script can&#39;t access META-INF resources (persistence.xml) from jar", "body": "<p>I have a kotlin script .kts which uses a META-INF resources (persistence.xm) from a jar. </p>\n\n<p>I checked that the META-INF is present in the jar (lib.jar)</p>\n\n<pre><code>var emf: EntityManagerFactory = Persistence.createEntityManagerFactory(PERSISTENCE_UNIT_NAME, props)\n</code></pre>\n\n<p>I am getting this error when compiling :</p>\n\n<blockquote>\n  <p>kotlinc -script template2.kts -cp \"lib.jar:persist-0.0.1-dev.jar\"</p>\n  \n  <p>javax.persistence.PersistenceException: No Persistence provider for\n  EntityManager</p>\n</blockquote>\n\n<p>The same code compiles in Eclipse environment with main function </p>\n\n<p>Any idea how to get it works with kts\n?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "rx-kotlin"], "comments": [{"owner": {"reputation": 3573, "user_id": 5564847, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aqnwlPrpnW0/AAAAAAAAAAI/AAAAAAAAABg/kED99SX86V0/photo.jpg?sz=128", "display_name": "Eric Bachhuber", "link": "https://stackoverflow.com/users/5564847/eric-bachhuber"}, "edited": false, "score": 0, "creation_date": 1501601538, "post_id": 45441074, "comment_id": 77844994, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/41786439/retrofit-and-rxjava-how-to-combine-two-requests-and-get-access-to-both-results\" title=\"retrofit and rxjava how to combine two requests and get access to both results\">stackoverflow.com/questions/41786439/&hellip;</a> Also, make sure you are using RxJava&#39;s flatmap operator, not Kotlins!"}, {"owner": {"reputation": 23, "user_id": 5065580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JvLdY.jpg?s=128&g=1", "display_name": "Hawa Zen", "link": "https://stackoverflow.com/users/5065580/hawa-zen"}, "reply_to_user": {"reputation": 3573, "user_id": 5564847, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aqnwlPrpnW0/AAAAAAAAAAI/AAAAAAAAABg/kED99SX86V0/photo.jpg?sz=128", "display_name": "Eric Bachhuber", "link": "https://stackoverflow.com/users/5564847/eric-bachhuber"}, "edited": false, "score": 0, "creation_date": 1501604408, "post_id": 45441074, "comment_id": 77846804, "body": "Thanks for your answer Eric :) I&#39;ve already seen this question &amp; the answer. The answer was around Observable not Flowable and the language used was java. I&#39;ve tried to be inspired by the answer to do the same in Kotlin but I didn&#39;t success..arf"}, {"owner": {"reputation": 3573, "user_id": 5564847, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aqnwlPrpnW0/AAAAAAAAAAI/AAAAAAAAABg/kED99SX86V0/photo.jpg?sz=128", "display_name": "Eric Bachhuber", "link": "https://stackoverflow.com/users/5564847/eric-bachhuber"}, "edited": false, "score": 0, "creation_date": 1501604737, "post_id": 45441074, "comment_id": 77847011, "body": "For all intents and purposes, Flowable is the same as Observable except it <a href=\"https://github.com/ReactiveX/RxJava/wiki/Backpressure\" rel=\"nofollow noreferrer\">supports backpressure</a>. So you can still use the same operators as you would on an Observable, i.e. .flatMap(). RxKotlin is just syntax extensions on top of RxJava so you are still using RxJava in Kotlin. If you are hung up on syntax, you can use the auto-conversion tool on <a href=\"https://try.kotlinlang.org\" rel=\"nofollow noreferrer\">try.kotlinlang.org</a> (since it does get kinda messy when you throw Functions into the mix)."}, {"owner": {"reputation": 1839, "user_id": 882912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb0ee650f3ddaf676349ef9de068ad52?s=128&d=identicon&r=PG", "display_name": "KTCO", "link": "https://stackoverflow.com/users/882912/ktco"}, "edited": false, "score": 0, "creation_date": 1501649878, "post_id": 45441074, "comment_id": 77864522, "body": "Why don&#39;t you use Kotlin&#39;s async features? See <a href=\"https://stackoverflow.com/a/43151714/882912\">stackoverflow.com/a/43151714/882912</a>"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 5065580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JvLdY.jpg?s=128&g=1", "display_name": "Hawa Zen", "link": "https://stackoverflow.com/users/5065580/hawa-zen"}, "edited": false, "score": 0, "creation_date": 1501859078, "post_id": 45502088, "comment_id": 77981297, "body": "Thank you very much, I&#39;ve tried your solution and it worked!"}], "tags": [], "owner": {"reputation": 66, "user_id": 4748738, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mu9x_RjPoKM/AAAAAAAAAAI/AAAAAAAAFCI/WZGiblxKUXM/photo.jpg?sz=128", "display_name": "Kioba", "link": "https://stackoverflow.com/users/4748738/kioba"}, "is_accepted": true, "score": 4, "last_activity_date": 1501836075, "creation_date": 1501836075, "answer_id": 45502088, "question_id": 45441074, "link": "https://stackoverflow.com/questions/45441074/multiple-retrofit2-requests-using-flowable-in-kotlin/45502088#45502088", "title": "Multiple retrofit2 requests using Flowable in Kotlin", "body": "<p>this is how i would solve it:  </p>\n\n<pre><code>Flowable.zip&lt;User, Comments, Pair&lt;User, Comments&gt;&gt;(\n      postService.getUser(postId),\n      postService.getCommentsByPostId(postId),\n      BiFunction { user, comments -&gt; Pair(user, comments) })\n      .subscribeOn(Schedulers.io())\n      .observeOn(AndroidSchedulers.mainThread())\n      .bindToLifecycle(this)\n      .map { (first, second) -&gt; Triple(first, second, ExtraDatasFromSomewhere) }\n      .subscribe({\n        Log.d(\"MainActivity\", \"OnNext\")\n      }, {\n        Log.d(\"MainActivity\", \"OnError\")\n      }, {\n        Log.d(\"MainActivity\", \"OnComplete\")\n      })\n</code></pre>\n\n<p>Use the <code>zip</code> or <code>zipWith</code> functions to achieve your goal if the retrofit2 calls dont depent on each other.<br>\nYou can find out more here:<br>\nRxZip() : <code>http://reactivex.io/documentation/operators/zip</code> . </p>\n\n<p>You can easily map the data from the server with the mainActivity data together like this:</p>\n\n<pre><code>.map { (first, second) -&gt; Triple(first, second, ExtraDatasFromSomewhere) }\n</code></pre>\n\n<p>Kotlin has a very beautiful syntax for lambda functions so i would encourage you to use them with the specific subscribe function:<br>\nsubscribe() : <code>http://reactivex.io/RxJava/javadoc/io/reactivex/Flowable.html#subscribe(io.reactivex.functions.Consumer,%20io.reactivex.functions.Consumer,%20io.reactivex.functions.Action)</code> </p>\n\n<p><strong>Also very important to note</strong> that i did not use only the raw Rxjava2 lib. i used the libs below:\n<a href=\"https://github.com/ReactiveX/RxAndroid\" rel=\"nofollow noreferrer\"><strong>RxAndroid</strong></a><br>\nfor <code>observeOn(AndroidSchedulers.mainThread())</code> to get the mainThread. This is because you manipulated the UI without specifying the thread you subscribed on. With this you can achieve that your subscription will be handled on the mainThread.<br>\n<a href=\"https://github.com/trello/RxLifecycle\" rel=\"nofollow noreferrer\"><strong>RxLifecycle</strong></a><br>\nfor <code>.bindToLifecycle(this)</code> this will make sure you don't leave memory leak if the activity is closed but your retrofit2 call did not finished</p>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 5065580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JvLdY.jpg?s=128&g=1", "display_name": "Hawa Zen", "link": "https://stackoverflow.com/users/5065580/hawa-zen"}, "is_accepted": false, "score": 1, "last_activity_date": 1501859190, "creation_date": 1501859190, "answer_id": 45510134, "question_id": 45441074, "link": "https://stackoverflow.com/questions/45441074/multiple-retrofit2-requests-using-flowable-in-kotlin/45510134#45510134", "title": "Multiple retrofit2 requests using Flowable in Kotlin", "body": "<p>I've just adapted the solution suggested by Kioba with my needs. I post this here in case it can be useful to someone. \nI don't know if it's an elegant way to obtain the number of comments though. I've just used <em>List &lt; Comment ></em> instead of <em>Comment</em> and then I do something like <em>it.second.size.toString()</em> for obtaining the number of comments.<br>\nSince I only need two data: user and comment I decided to use Pair instead of Triple.</p>\n\n<pre><code>Flowable.zip&lt;User, List&lt;Comment&gt;, Pair&lt;User, List&lt;Comment&gt;&gt;&gt;(\n            postService.getUser(post.id),\n            postService.getCommentsByPostId(post.id),\n            BiFunction { user, comments -&gt; Pair(user, comments) })\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .map { (first, second) -&gt; Pair(first, second) }\n            .subscribe({\n                Log.d(\"MainActivity\", \"OnNext\")\n                userTextView.text = it.first.name\n                title.text = post.title\n                body.text = post.body\n                number_comments.text = it.second.size.toString()\n\n            }, {\n                Log.d(\"MainActivity\", \"OnError\")\n            }, {\n                Log.d(\"MainActivity\", \"OnComplete\")\n            }) \n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 5065580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JvLdY.jpg?s=128&g=1", "display_name": "Hawa Zen", "link": "https://stackoverflow.com/users/5065580/hawa-zen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1471, "favorite_count": 0, "accepted_answer_id": 45502088, "answer_count": 2, "score": 1, "last_activity_date": 1501859247, "creation_date": 1501598914, "last_edit_date": 1501859247, "question_id": 45441074, "link": "https://stackoverflow.com/questions/45441074/multiple-retrofit2-requests-using-flowable-in-kotlin", "title": "Multiple retrofit2 requests using Flowable in Kotlin", "body": "<p>In order to improve my skills in kotlin, Rx, Retrofit2 I've decided to do a demo project.\nThe demo project consist to display posts in a recycler view then display details of the post in a detail activity.<br>\nI've encountered difficulties displaying data coming from different api call: the user name, the title, the body of the post and the number of comments of the post.</p>\n\n<p>My problem is that I would like to do multiple request and then have all the data needed in order to display them in the detail activity. Which mean doing a call that give me the user name and then a call that give me the number of comments for the post. The title and the body of the post are coming from a request done in the main activity I just transmit it with the bundle to the detail activity.</p>\n\n<p>Api calls:<br>\n// return the comments for the post 1<br>\n<a href=\"http://jsonplaceholder.typicode.com/comments?postId=1\" rel=\"nofollow noreferrer\">http://jsonplaceholder.typicode.com/comments?postId=1</a> </p>\n\n<p>// return the information of the user 2<br>\n<a href=\"http://jsonplaceholder.typicode.com/users/2\" rel=\"nofollow noreferrer\">http://jsonplaceholder.typicode.com/users/2</a>  </p>\n\n<p>// call used to display posts in the main activity<br>\nhttp:/jsonplaceholder.typicode.com/posts</p>\n\n<p>I'm still new on Rx, I was thinking to use a flatMap but I don't know how to use it with Flowable in kotlin..   </p>\n\n<pre><code>var post = viewModel.getPost()\nvar userStream: Flowable&lt;User&gt; = postService.getUser(post.userId)\nvar commentsByPostIdCall: Flowable&lt;List&lt;Comment&gt;&gt; = postService.getCommentsByPostId(post.id)\n\nuserStream.subscribeOn(Schedulers.io())\n        .subscribe(object : Subscriber&lt;User&gt; {\n            override fun onError(t: Throwable?) {\n                Log.d(this.toString(), \" Read of users failed with the following message: \" + t?.message);\n            }\n\n            override fun onNext(user: User) {\n                userTextView.text = user.name\n                title.text = post.title\n                body.text = post.body\n            }\n\n            override fun onComplete() {\n            }\n\n            override fun onSubscribe(s: Subscription?) {\n                if (s != null) {\n                    s.request(1)\n                }\n            }\n        })\n</code></pre>\n\n<p>I have put the second call in a method <em>getNumberComments</em>:</p>\n\n<pre><code>    private fun getNumberComments(commentsByPostIdCall: Flowable&lt;List&lt;Comment&gt;&gt;): Int {\n    var listComments = listOf&lt;Comment&gt;()\n    var listCommentSize = 0\n\n     commentsByPostIdCall\n             .subscribeOn(Schedulers.io())\n             .subscribe(object : Subscriber&lt;List&lt;Comment&gt;&gt; {\n                override fun onError(t: Throwable?) {\n                    Log.d(this.toString(), \" Read of comments failed with the following message: \" + t?.message);\n                }\n\n                override fun onNext(comment: List&lt;Comment&gt;) {\n                    listComments = comment\n                }\n\n                override fun onComplete() {\n                    print(\"onComplete!\")\n                    listCommentSize = listComments.size\n                }\n\n                override fun onSubscribe(s: Subscription?) {\n                    if (s != null) {\n                        s.request(1)\n                    }\n                }\n            })\n    return listCommentSize\n\n}\n</code></pre>\n\n<p>Other think that I've noticed is that sometimes the stream didn't go to onComplete, sometimes it remains blocked on onNext. Don't understand why?</p>\n\n<p>Any help will be much appreciate! Thanks a lot :)</p>\n"}, {"tags": ["arrays", "multithreading", "matrix", "multidimensional-array", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 1, "last_activity_date": 1501602824, "last_edit_date": 1501602824, "creation_date": 1501598870, "answer_id": 45441051, "question_id": 45439765, "link": "https://stackoverflow.com/questions/45439765/multi-threaded-array-initialization-in-kotlin/45441051#45441051", "title": "Multi-threaded array initialization in Kotlin", "body": "<p>Yes, you can create a <code>Matrix2D</code> in parallel, for example:</p>\n\n<pre><code>val threads = Matrix2D(10, 3){x, y-&gt; Thread.currentThread() }.flatten().distinct()\n\n//              v--- size &gt; 1\nprintln(threads.size)\n</code></pre>\n\n<hr>\n\n<pre><code>inline fun &lt;reified T&gt; Matrix2D(w: Int, h: Int, crossinline init: (Int, Int) -&gt; T)=\n       //                     v--- create array in parallel\n       generatorOf(w){x -&gt; Array(h) {y -&gt; init(x, y) } }.map{ it() }.toTypedArray()\n       //                          get the final result `Matrix2D` ---^\n\n//                     v--- create array generator\ninline fun &lt;reified T&gt; generatorOf(size: Int, crossinline init:(Int) -&gt; T) = \n  //v--- you can use `ForkJoinPool#commonPool`, but it will run task in work thread\n   ForkJoinPool(20).let {\n       Array(size) { i -&gt; it.submit(Callable { init(i) }).let { { it.get() } } }\n       //                 return the lambda generator ()-&gt;T  ---^\n   }\n</code></pre>\n\n<p>You also can write an extension function <code>toArray</code> to remove the middle <code>map</code> operation &amp; promote the performance, for example:</p>\n\n<pre><code>inline fun &lt;reified T&gt; Matrix2D(w: Int, h: Int, crossinline init: (Int, Int) -&gt; T)=\n        //                         v--- init array elements in parallel\n        generatorOf(w) { x -&gt; Array(h) { y -&gt; init(x, y) } }.toArray{it()}\n        //           transform to the `Matrix2D` directly  ---^\n\n//                                v--- convert Array&lt;T&gt; to Array&lt;R&gt;\ninline fun &lt;T,reified R&gt; Array&lt;T&gt;.toArray(transform:(T)-&gt;R):Array&lt;R&gt;{\n    return Array(size){i-&gt;transform(get(i))}\n}\n</code></pre>\n\n<p><strong>Why</strong> did the <code>Matrix2D</code> start threads in outer array initialization, you can see <a href=\"https://stackoverflow.com/questions/45304215/java-sum-two-double-with-parallel-stream/45305725\">sum two double[][] with parallel stream</a> as further.</p>\n"}], "owner": {"reputation": 3658, "user_id": 67878, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8a20b6c052e6178c98b8026c28fb75cc?s=128&d=identicon&r=PG", "display_name": "Vitaly", "link": "https://stackoverflow.com/users/67878/vitaly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 240, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1501602824, "creation_date": 1501595417, "question_id": 45439765, "link": "https://stackoverflow.com/questions/45439765/multi-threaded-array-initialization-in-kotlin", "title": "Multi-threaded array initialization in Kotlin", "body": "<p>Say, I have the following functions that allow me to create matrices:</p>\n\n<pre><code>inline fun &lt;reified T&gt; Matrix2D(w: Int, h: Int, init: (Int, Int) -&gt; T) =\n    Array(w){ x -&gt; Array(h){ y -&gt; init(x, y) } }\n\ninline fun &lt;reified T&gt; Matrix2D(w: Int, h: Int, value: T) =\n    Array(w){ Array(h){ value } }\n\n// For example:\nval m = Matrix2D(400, 400) { x, y -&gt;\n    Color(x.toDouble() / 400.0, y.toDouble() / 400.0, 0.0)\n}\n</code></pre>\n\n<p>I also don't want to allow for nullability, cause it's going to be a pain to deal with element access later.</p>\n\n<p>How would I initialize such a matrix using multiple threads/coroutines, where each one initializes its own tile of the matrix, without allowing for nullability of the matrix cells?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6900623, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154563654268684/picture?type=large", "display_name": "Fatehostol Bouakkaz", "link": "https://stackoverflow.com/users/6900623/fatehostol-bouakkaz"}, "edited": false, "score": 0, "creation_date": 1501593625, "post_id": 45438243, "comment_id": 77838947, "body": "but I have <a href=\"https://downloads.gradle.org/distributions/gradle-4.0.2-all.zip\" rel=\"nofollow noreferrer\">downloads.gradle.org/distributions/gradle-4.0.2-all.zip</a>"}, {"owner": {"reputation": 1, "user_id": 6900623, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154563654268684/picture?type=large", "display_name": "Fatehostol Bouakkaz", "link": "https://stackoverflow.com/users/6900623/fatehostol-bouakkaz"}, "edited": false, "score": 0, "creation_date": 1501593766, "post_id": 45438243, "comment_id": 77839055, "body": "i think it&#39;s this the last version gradle 4.0.2 and android plugin version 3.0.0-alpha7"}], "tags": [], "owner": {"reputation": 3253, "user_id": 4831648, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/TPzW0.jpg?s=128&g=1", "display_name": "Sunil P", "link": "https://stackoverflow.com/users/4831648/sunil-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1501591887, "last_edit_date": 1501591887, "creation_date": 1501591586, "answer_id": 45438243, "question_id": 45438167, "link": "https://stackoverflow.com/questions/45438167/gradle-project-sync-failed-basic-functionality-will-not-work-properly-in-android/45438243#45438243", "title": "gradle project sync failed basic functionality will not work properly in android studio 3.0", "body": "<p>change distribution url which is in <strong>Gradle script->gradle-wrapper.properties</strong> like below and try.</p>\n\n<pre><code>distributionUrl=https\\://services.gradle.org/distributions/gradle-3.4.1-all.zip\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 190, "user_id": 7798068, "user_type": "registered", "profile_image": "https://graph.facebook.com/1298172486941626/picture?type=large", "display_name": "Hitesh Kanjani", "link": "https://stackoverflow.com/users/7798068/hitesh-kanjani"}, "is_accepted": false, "score": 0, "last_activity_date": 1501591610, "creation_date": 1501591610, "answer_id": 45438256, "question_id": 45438167, "link": "https://stackoverflow.com/questions/45438167/gradle-project-sync-failed-basic-functionality-will-not-work-properly-in-android/45438256#45438256", "title": "gradle project sync failed basic functionality will not work properly in android studio 3.0", "body": "<p>Download all required sdk,sdk-tools.then rebuild your project..Hope this helpful!</p>\n"}], "owner": {"reputation": 1, "user_id": 6900623, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154563654268684/picture?type=large", "display_name": "Fatehostol Bouakkaz", "link": "https://stackoverflow.com/users/6900623/fatehostol-bouakkaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 210, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1501595821, "creation_date": 1501591404, "last_edit_date": 1501595821, "question_id": 45438167, "link": "https://stackoverflow.com/questions/45438167/gradle-project-sync-failed-basic-functionality-will-not-work-properly-in-android", "title": "gradle project sync failed basic functionality will not work properly in android studio 3.0", "body": "<p>I'm new in programming of android I tried to install android studio I checked this problem ,I changed the directory of JDK (File-Project Structer) to <code>C:\\Program Files\\Java\\jdk1.8.0_141</code> but still have this problem on my android studio 3.0 preview \nYou can see the problem on this image </p>\n\n<p><img src=\"https://i.stack.imgur.com/6nAlY.jpg\" alt=\"enter image description here\"></p>\n\n<p>I hope you will help me</p>\n"}, {"tags": ["android", "maven", "gradle", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 1, "creation_date": 1501591454, "post_id": 45438053, "comment_id": 77837169, "body": "take a look to this link it may help you <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html\" rel=\"nofollow noreferrer\">kotlin</a>"}, {"owner": {"reputation": 800, "user_id": 5147603, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/F7wHB.jpg?s=128&g=1", "display_name": "Rucha Bhatt Joshi", "link": "https://stackoverflow.com/users/5147603/rucha-bhatt-joshi"}, "edited": false, "score": 0, "creation_date": 1501591471, "post_id": 45438053, "comment_id": 77837189, "body": "are you trying to add kotlin extentions?"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1501592145, "post_id": 45438053, "comment_id": 77837768, "body": "gradle project means &quot;Android Project&quot;? If yes you just have to check a <code>include kotlin</code> checkbox while creating project."}, {"owner": {"reputation": 9, "user_id": 8399662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0438c233c4a7f95fc9efefcc002b61c4?s=128&d=identicon&r=PG&f=1", "display_name": "Sweety Joshi", "link": "https://stackoverflow.com/users/8399662/sweety-joshi"}, "edited": false, "score": 0, "creation_date": 1501593548, "post_id": 45438053, "comment_id": 77838880, "body": "maven{ url &quot;<a href=\"https://dl.bintary.com/kotlin/kotlin-eap-1.1\" rel=\"nofollow noreferrer\">dl.bintary.com/kotlin/kotlin-eap-1.1</a>&quot; }....this code is using for what...??"}], "owner": {"reputation": 9, "user_id": 8399662, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0438c233c4a7f95fc9efefcc002b61c4?s=128&d=identicon&r=PG&f=1", "display_name": "Sweety Joshi", "link": "https://stackoverflow.com/users/8399662/sweety-joshi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1564583614, "creation_date": 1501591096, "last_edit_date": 1564583614, "question_id": 45438053, "link": "https://stackoverflow.com/questions/45438053/i-want-to-add-my-kotlin-version-into-gradle-project", "title": "I want to add my kotlin version into gradle project", "body": "<p>When I am creating a new gradle project in kotlin and add maven{\n        url \"<a href=\"https://dl.bintary.com/kotlin/kotlin-eap-1.1\" rel=\"nofollow noreferrer\">https://dl.bintary.com/kotlin/kotlin-eap-1.1</a>\"\n    }  this one url in my project level gradle and after downloading zip file ,I was select tool-tool window -gradle ...and trying to add that one zip file then it not added ...so simple i just want to add my kotlin version into that gradle window so that I am able to run that gradle project and please remember I am very new to this kotlin language so i didnt know anything about this.</p>\n"}, {"tags": ["android", "kotlin", "greenrobot-eventbus-3.0"], "comments": [{"owner": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1501593398, "post_id": 45437829, "comment_id": 77838762, "body": "where do you call <code>addFragment</code> method?"}, {"owner": {"reputation": 8851, "user_id": 1444321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/3xtPI.jpg?s=128&g=1", "display_name": "Khawar", "link": "https://stackoverflow.com/users/1444321/khawar"}, "reply_to_user": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1501604045, "post_id": 45437829, "comment_id": 77846578, "body": "<code>addFragment</code> is not yet called. I had planned to call it to add more fragments. But currently, stuck at getting event."}, {"owner": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1501604135, "post_id": 45437829, "comment_id": 77846638, "body": "I just wanted to clarify if Task list fragment is attached to activity. your code seems fine and tried it myself works"}, {"owner": {"reputation": 8851, "user_id": 1444321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/3xtPI.jpg?s=128&g=1", "display_name": "Khawar", "link": "https://stackoverflow.com/users/1444321/khawar"}, "reply_to_user": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1501604233, "post_id": 45437829, "comment_id": 77846698, "body": "I actually added Fragment via .xml file. Even I myself not able to know the reason."}, {"owner": {"reputation": 128827, "user_id": 653856, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6qIEl.png?s=128&g=1", "display_name": "Raghunandan", "link": "https://stackoverflow.com/users/653856/raghunandan"}, "edited": false, "score": 0, "creation_date": 1501604664, "post_id": 45437829, "comment_id": 77846961, "body": "I ran your code and it works."}, {"owner": {"reputation": 507, "user_id": 3334980, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/w1th8.jpg?s=128&g=1", "display_name": "Dan Ponce", "link": "https://stackoverflow.com/users/3334980/dan-ponce"}, "edited": false, "score": 0, "creation_date": 1542978255, "post_id": 45437829, "comment_id": 93767290, "body": "did you make it work?"}], "answers": [{"comments": [{"owner": {"reputation": 8851, "user_id": 1444321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/3xtPI.jpg?s=128&g=1", "display_name": "Khawar", "link": "https://stackoverflow.com/users/1444321/khawar"}, "edited": false, "score": 1, "creation_date": 1501604275, "post_id": 45438187, "comment_id": 77846722, "body": "thank you for sharing your thoughts. Even I also planned to work with rx, but just wanted to make a quick MVP for an app using EventBus, as it seems simple to use."}], "tags": [], "owner": {"reputation": 6533, "user_id": 570168, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b212792627d3184a74a5c2a5ab23d73a?s=128&d=identicon&r=PG", "display_name": "Tobias", "link": "https://stackoverflow.com/users/570168/tobias"}, "is_accepted": false, "score": 2, "last_activity_date": 1501591445, "creation_date": 1501591445, "answer_id": 45438187, "question_id": 45437829, "link": "https://stackoverflow.com/questions/45437829/eventbus-with-kotlin-not-working/45438187#45438187", "title": "EventBus with Kotlin not working", "body": "<blockquote>\n  <p>I am new to Android ...</p>\n</blockquote>\n\n<p>then you should better get familiar with dagger and rx instead.\nEvent busses are a <em>bad thing</em> on android and often make things more complicated than necessary.</p>\n\n<p><a href=\"https://www.google.de/search?q=android+rxjava+instead+of+eventbus\" rel=\"nofollow noreferrer\">https://www.google.de/search?q=android+rxjava+instead+of+eventbus</a></p>\n"}, {"comments": [{"owner": {"reputation": 8851, "user_id": 1444321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/3xtPI.jpg?s=128&g=1", "display_name": "Khawar", "link": "https://stackoverflow.com/users/1444321/khawar"}, "edited": false, "score": 0, "creation_date": 1501604383, "post_id": 45438368, "comment_id": 77846788, "body": "thank you for reply. I tried this, but it didn&#39;t work as well. However, I&#39;ll try to rx stuff."}, {"owner": {"reputation": 7814, "user_id": 1939564, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a4INA.jpg?s=128&g=1", "display_name": "Muhammad Babar", "link": "https://stackoverflow.com/users/1939564/muhammad-babar"}, "edited": false, "score": 0, "creation_date": 1515503867, "post_id": 45438368, "comment_id": 83317343, "body": "What do method name has to do with the event? as the event is recognized on the base of method paramter."}], "tags": [], "owner": {"reputation": 87, "user_id": 4164786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac086e63a7d3d17c5b422b80c8285169?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik", "link": "https://stackoverflow.com/users/4164786/dominik"}, "is_accepted": false, "score": 0, "last_activity_date": 1615906016, "last_edit_date": 1615906016, "creation_date": 1501591874, "answer_id": 45438368, "question_id": 45437829, "link": "https://stackoverflow.com/questions/45437829/eventbus-with-kotlin-not-working/45438368#45438368", "title": "EventBus with Kotlin not working", "body": "<p>try to change your subscribed method name to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    onMessageEvent(event: TaskListFragment.TaskCreateSelectEvent)\n</code></pre>\n<p>but as the @Lord Flash suggested - use rxjava instead of eventbus. Take a look at <code>PublishSubject/PublishProcessor</code> (rx 2.0) classes</p>\n"}], "owner": {"reputation": 8851, "user_id": 1444321, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/3xtPI.jpg?s=128&g=1", "display_name": "Khawar", "link": "https://stackoverflow.com/users/1444321/khawar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6749, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1615906016, "creation_date": 1501590545, "question_id": 45437829, "link": "https://stackoverflow.com/questions/45437829/eventbus-with-kotlin-not-working", "title": "EventBus with Kotlin not working", "body": "<p>I am new to Android, and trying to send message from a Fragment to its container Activity using EventBus. \nHowever, I am getting error:</p>\n\n<pre><code>D/EventBus: No subscribers registered for event class com.app.todo.controllers.task.TaskListFragment$TaskCreateSelectEvent\n</code></pre>\n\n<p>Following is the code in Activity class related to EventBus:</p>\n\n<pre><code>public class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n\n    @Subscribe(threadMode = ThreadMode.MAIN)\n    fun onTaskCreateSelectEvent(event: TaskListFragment.TaskCreateSelectEvent) {\n        Log.d(\"TAG\", \"On Main Activity\")\n    }\n\n    fun addFragment(fragment: Fragment) {\n        val transaction = supportFragmentManager.beginTransaction()\n        transaction.setCustomAnimations(R.anim.enter, R.anim.exit, R.anim.pop_enter, R.anim.pop_exit)\n        transaction.add(R.id.task_fragment_container, fragment)\n        transaction.addToBackStack(fragment.javaClass.simpleName)\n        transaction.commit()\n    }\n\n    public override fun onStart() {\n        super.onStart()\n        EventBus.getDefault().register(this)\n    }\n\n    public override fun onStop() {\n        super.onStop()\n        EventBus.getDefault().unregister(this)\n    }\n\n}\n</code></pre>\n\n<p>Following is in Fragment class</p>\n\n<pre><code>public class TaskListFragment : Fragment() {\n    private var fab: FloatingActionButton? = null\n\n    public class TaskCreateSelectEvent {\n        var fab: FloatingActionButton? = null\n    }\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        var view = inflater!!.inflate(R.layout.task_list_fragment, container, false)\n        fab = view.findViewById&lt;FloatingActionButton&gt;(R.id.fab)\n        fab!!.setOnClickListener {\n            val selectEvent = TaskCreateSelectEvent()\n            EventBus.getDefault().post(selectEvent)\n        }\n        return view\n    }\n}\n</code></pre>\n\n<p>This is how library is added in <code>build.gradle</code> file.</p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n\ndependencies {\n    compile 'org.greenrobot:eventbus:3.0.0'\n    kapt 'org.greenrobot:eventbus-annotation-processor:3.0.1' }\n\nkapt {\n    arguments {\n        arg('eventBusIndex', 'com.app.todo.controllers.MyEventBusIndex')\n    } \n}\n</code></pre>\n\n<p>Any idea what I am doing wrong?</p>\n"}, {"tags": ["android", "list", "kotlin", "expandablelistview", "expandablelistadapter"], "comments": [{"owner": {"reputation": 2319, "user_id": 3514144, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/hRi21.jpg?s=128&g=1", "display_name": "Ajay Pandya", "link": "https://stackoverflow.com/users/3514144/ajay-pandya"}, "edited": false, "score": 0, "creation_date": 1501589051, "post_id": 45437253, "comment_id": 77835389, "body": "So What You Exactly want to get populated ? colored item or something else? means your lsitview is empty in activity?"}, {"owner": {"reputation": 2101, "user_id": 1470479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f38b09e68131cc2431997616b52976f5?s=128&d=identicon&r=PG", "display_name": "lidkxx", "link": "https://stackoverflow.com/users/1470479/lidkxx"}, "reply_to_user": {"reputation": 2319, "user_id": 3514144, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/hRi21.jpg?s=128&g=1", "display_name": "Ajay Pandya", "link": "https://stackoverflow.com/users/3514144/ajay-pandya"}, "edited": false, "score": 0, "creation_date": 1501589583, "post_id": 45437253, "comment_id": 77835774, "body": "@AjayPandya yes. Neither my headers nor child items are showing. The view is completely empty."}, {"owner": {"reputation": 2222, "user_id": 1574133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YypZZ.jpg?s=128&g=1", "display_name": "rafal", "link": "https://stackoverflow.com/users/1574133/rafal"}, "edited": false, "score": 0, "creation_date": 1501589797, "post_id": 45437253, "comment_id": 77835927, "body": "@lidkxx is <code>expandable_list</code> a <code>RecyclerView</code>? If so, you need to specify <code>layoutManager</code> (most likely <code>LinearLayoutManager</code>)"}], "answers": [{"comments": [{"owner": {"reputation": 2101, "user_id": 1470479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f38b09e68131cc2431997616b52976f5?s=128&d=identicon&r=PG", "display_name": "lidkxx", "link": "https://stackoverflow.com/users/1470479/lidkxx"}, "edited": false, "score": 0, "creation_date": 1501593674, "post_id": 45437675, "comment_id": 77838987, "body": "Thanks a lot for your help! I think this is what I was looking for (can&#39;t tell 100% as I am getting some nasty library &quot;/system/lib64/libhwuibp.so&quot; not found, Sending SIG 9 error now, but this seems like another issue). A little documentation never killed nobody, I guess."}], "tags": [], "owner": {"reputation": 2222, "user_id": 1574133, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YypZZ.jpg?s=128&g=1", "display_name": "rafal", "link": "https://stackoverflow.com/users/1574133/rafal"}, "is_accepted": true, "score": 0, "last_activity_date": 1501590153, "creation_date": 1501590153, "answer_id": 45437675, "question_id": 45437253, "link": "https://stackoverflow.com/questions/45437253/expandablelistview-not-showing-up-in-my-activity/45437675#45437675", "title": "ExpandableListView not showing up in my Activity", "body": "<p>You were were very close to solving the issue :)</p>\n\n<pre><code> class ExpandableListAdapter (context: Context, listDataHeader : ArrayList&lt;String&gt;, listDataChild : HashMap&lt;String, ArrayList&lt;String&gt;&gt;) : BaseExpandableListAdapter() {\n\n\n        var listDataHeader = arrayListOf&lt;String&gt;() //list sub-headers\n\n        var listDataChild = HashMap&lt;String, List&lt;String&gt;&gt;() //list sub-points\n        //...\n}\n</code></pre>\n\n<p>On the first line you specify constructor parameters, however you don't use them at all. (<code>var listDataHeader</code> is class' property, meaning that it's something different than constructor parameter <code>listDataHeader</code>)</p>\n\n<p>You probably want something like this:</p>\n\n<pre><code> class ExpandableListAdapter (context: Context, private val listDataHeader : ArrayList&lt;String&gt;, private val listDataChild : HashMap&lt;String, ArrayList&lt;String&gt;&gt;) : BaseExpandableListAdapter() {\n//no declaration of another fields\n\n//rest of adapter code here...\n}\n</code></pre>\n\n<p>Please notice <code>private val</code> before constructor parameters. Those are class' properties declared directly within constructor. You can read more on them here: <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/classes.html</a></p>\n"}], "owner": {"reputation": 2101, "user_id": 1470479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f38b09e68131cc2431997616b52976f5?s=128&d=identicon&r=PG", "display_name": "lidkxx", "link": "https://stackoverflow.com/users/1470479/lidkxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 419, "favorite_count": 0, "accepted_answer_id": 45437675, "answer_count": 1, "score": 1, "last_activity_date": 1501590839, "creation_date": 1501588851, "last_edit_date": 1501590839, "question_id": 45437253, "link": "https://stackoverflow.com/questions/45437253/expandablelistview-not-showing-up-in-my-activity", "title": "ExpandableListView not showing up in my Activity", "body": "<p><strong>I am trying to implement an ExpandableListView in my app, but it's not showing up.</strong></p>\n\n<p>I double checked: </p>\n\n<ol>\n<li><p>The correct naming and referring-to all of my three XML layouts (for ExpandableListView, list header and list item), </p></li>\n<li><p>Debugged to see if my lists are getting populated in <code>prepareListdata()</code> method (they are).</p></li>\n</ol>\n\n<p>I think the <strong>problem</strong> is in my <code>ExpandableListAdapterClass</code>, as the\n class parameters <code>listDataHeader : ArrayList&lt;String&gt;, listDataChild : HashMap&lt;String, ArrayList&lt;String&gt;&gt;</code> are getting colored with a\nsquiggly grey line as not used.</p>\n\n<p><strong>How to correctly tell my app that those are equal to my activity member variables?  Or is there something obvious I am missing?</strong></p>\n\n<p>Here is my code:</p>\n\n<p>Adapter</p>\n\n<pre><code> class ExpandableListAdapter (context: Context, listDataHeader : ArrayList&lt;String&gt;, listDataChild : HashMap&lt;String, ArrayList&lt;String&gt;&gt;) : BaseExpandableListAdapter() {\n\n\n        var listDataHeader = arrayListOf&lt;String&gt;() //list sub-headers\n\n        var listDataChild = HashMap&lt;String, List&lt;String&gt;&gt;() //list sub-points\n\n        private val inflater: LayoutInflater = LayoutInflater.from(context)\n\n        override fun getGroup(groupPosition: Int): Any {\n            return this.listDataHeader[groupPosition]\n        }\n\n        override fun isChildSelectable(p0: Int, p1: Int): Boolean {\n            return true\n        }\n\n        override fun hasStableIds(): Boolean {\n            return false\n        }\n\n        override fun getGroupView(groupPosition: Int, isExpanded: Boolean, convertView: View?, parent: ViewGroup?): View? {\n            val headerTitle: Int = getGroup(groupPosition) as Int\n            if (convertView == null) {\n                inflater.inflate(R.layout.main_list_group_header, parent, false)\n            }\n\n            val listHeader = convertView?.findViewById&lt;TextView&gt;(R.id.list_header)\n            listHeader?.setTypeface(null, Typeface.BOLD)\n            listHeader?.setText(headerTitle)\n\n            return convertView\n        }\n\n        override fun getChildrenCount(groupPosition: Int): Int {\n            return this.listDataChild[this.listDataHeader[groupPosition]]!!.size\n        }\n\n        override fun getChild(groupPosition: Int, childPosition: Int): Any {\n            return this.listDataChild[this.listDataHeader[groupPosition]]!![childPosition]\n        }\n\n        override fun getGroupId(groupPosition: Int): Long {\n            return groupPosition.toLong()\n        }\n\n        override fun getChildView(groupPosition: Int, childPosition: Int, isLastChild: Boolean, convertView: View?, parent: ViewGroup?): View? {\n            val childText: Int = getChild(groupPosition, childPosition) as Int\n            if (convertView == null) {\n                inflater.inflate(R.layout.main_list_item, parent, false)\n            }\n\n            val textListChild = convertView?.findViewById&lt;TextView&gt;(R.id.list_item)\n            textListChild?.setText(childText)\n            return convertView\n        }\n\n        override fun getChildId(groupPosition: Int, childPosition: Int): Long {\n            return childPosition.toLong()\n        }\n\n        override fun getGroupCount(): Int {\n            return this.listDataHeader.size\n        }\n    }\n</code></pre>\n\n<p>The rest of MainActivity and prepareListData() function</p>\n\n<pre><code>class MainListActivity : AppCompatActivity() {\n\n    lateinit var adapter : ExpandableListAdapter\n    val listDataHeader = arrayListOf&lt;String&gt;()\n    val listDataChild = HashMap&lt;String, ArrayList&lt;String&gt;&gt;()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_mainlistactivity)\n        prepareListData()\n        adapter = ExpandableListAdapter(this, listDataHeader, listDataChild)\n        expandable_list.setAdapter(adapter)\n    }\n\n    private fun prepareListData() {\n\n        listDataHeader.add(\"Gathering data\")\n        listDataHeader.add(\"Simulate\")\n\n        val gatheringDataChildList = arrayListOf&lt;String&gt;()\n        gatheringDataChildList.add(\"Record data: video + accelerometer\")\n\n        val simulateChildList = arrayListOf&lt;String&gt;()\n        simulateChildList.add(\"Driving simulator\")\n\n        listDataChild.put(listDataHeader[0], gatheringDataChildList)\n        listDataChild.put(listDataHeader[1], simulateChildList)\n    }\n</code></pre>\n\n<p>Here's the screenshot of what I am trying to achieve:\n<a href=\"https://i.stack.imgur.com/3SiPg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3SiPg.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "android-studio", "android-volley", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 9164, "user_id": 6740698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tFFAJ2BB1co/AAAAAAAAAAI/AAAAAAAAMBM/Mp1krWr_OVA/photo.jpg?sz=128", "display_name": "Xenolion", "link": "https://stackoverflow.com/users/6740698/xenolion"}, "edited": false, "score": 0, "creation_date": 1501589127, "post_id": 45437233, "comment_id": 77835434, "body": "What about JsonArrayRequest instead of String request in volley. There is String request, JSONobject request and also JSONArray Request!"}, {"owner": {"reputation": 156, "user_id": 3464162, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a80f0856fc16a4a319e99b791fa5916b?s=128&d=identicon&r=PG&f=1", "display_name": "shivpal jodha", "link": "https://stackoverflow.com/users/3464162/shivpal-jodha"}, "edited": false, "score": 0, "creation_date": 1501656326, "post_id": 45437233, "comment_id": 77867497, "body": "it can help you  <a href=\"https://www.androidhive.info/2014/05/android-working-with-volley-library-1/\" rel=\"nofollow noreferrer\">androidhive.info/2014/05/android-working-with-volley-library&zwnj;&#8203;-1</a>"}], "answers": [{"comments": [{"owner": {"reputation": 77, "user_id": 8397347, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e3f274c8d0a78462a3f37a7b1ecd6b17?s=128&d=identicon&r=PG&f=1", "display_name": "Jyoti ", "link": "https://stackoverflow.com/users/8397347/jyoti"}, "edited": false, "score": 0, "creation_date": 1501589251, "post_id": 45437334, "comment_id": 77835528, "body": "{ &quot;number&quot;:&quot;12345678&quot;, &quot;password&quot;:&quot;12345678&quot;, &quot;first_name&quot;:&quot;abc&quot;, &quot;last_name&quot;:&quot;xyz&quot;, &quot;email&quot;:&quot;abc@gmail.com&quot; }"}, {"owner": {"reputation": 3253, "user_id": 4831648, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/TPzW0.jpg?s=128&g=1", "display_name": "Sunil P", "link": "https://stackoverflow.com/users/4831648/sunil-p"}, "reply_to_user": {"reputation": 77, "user_id": 8397347, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e3f274c8d0a78462a3f37a7b1ecd6b17?s=128&d=identicon&r=PG&f=1", "display_name": "Jyoti ", "link": "https://stackoverflow.com/users/8397347/jyoti"}, "edited": false, "score": 0, "creation_date": 1501590731, "post_id": 45437334, "comment_id": 77836588, "body": "it is in json format only like key and value. here <code>KEY_USERNAME</code> is key and <code>username</code> is value"}, {"owner": {"reputation": 77, "user_id": 8397347, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e3f274c8d0a78462a3f37a7b1ecd6b17?s=128&d=identicon&r=PG&f=1", "display_name": "Jyoti ", "link": "https://stackoverflow.com/users/8397347/jyoti"}, "edited": false, "score": 0, "creation_date": 1501763821, "post_id": 45437334, "comment_id": 77929247, "body": "yes, i want to pass as json array form not in key- value pairs"}, {"owner": {"reputation": 3253, "user_id": 4831648, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/TPzW0.jpg?s=128&g=1", "display_name": "Sunil P", "link": "https://stackoverflow.com/users/4831648/sunil-p"}, "reply_to_user": {"reputation": 77, "user_id": 8397347, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e3f274c8d0a78462a3f37a7b1ecd6b17?s=128&d=identicon&r=PG&f=1", "display_name": "Jyoti ", "link": "https://stackoverflow.com/users/8397347/jyoti"}, "edited": false, "score": 0, "creation_date": 1501822806, "post_id": 45437334, "comment_id": 77958042, "body": "then how you want pass json array"}, {"owner": {"reputation": 77, "user_id": 8397347, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e3f274c8d0a78462a3f37a7b1ecd6b17?s=128&d=identicon&r=PG&f=1", "display_name": "Jyoti ", "link": "https://stackoverflow.com/users/8397347/jyoti"}, "edited": false, "score": 0, "creation_date": 1501824424, "post_id": 45437334, "comment_id": 77958536, "body": "&quot;object_update_params&quot;:&quot;{\\&quot;first_name\\&quot;:\\&quot;abc \\&quot;,\\&quot;last_name\\&quot;:\\&quot;xyz\\&quot;}&quot;, i want to parse my json string with this escape character and i am unable to parse my value in params with this object update params parameter"}], "tags": [], "owner": {"reputation": 3253, "user_id": 4831648, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/TPzW0.jpg?s=128&g=1", "display_name": "Sunil P", "link": "https://stackoverflow.com/users/4831648/sunil-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1501589045, "creation_date": 1501589045, "answer_id": 45437334, "question_id": 45437233, "link": "https://stackoverflow.com/questions/45437233/how-to-send-params-value-as-json-array/45437334#45437334", "title": "How to send params value as json array", "body": "<p>check this code as a reference and do according to your code.</p>\n\n<pre><code>private void registerUser(){\n        final String username = editTextUsername.getText().toString().trim();\n        final String password = editTextPassword.getText().toString().trim();\n        final String email = editTextEmail.getText().toString().trim();\n\n        StringRequest stringRequest = new StringRequest(Request.Method.POST, REGISTER_URL,\n                new Response.Listener&lt;String&gt;() {\n                    @Override\n                    public void onResponse(String response) {\n                        Toast.makeText(MainActivity.this,response,Toast.LENGTH_LONG).show();\n                    }\n                },\n                new Response.ErrorListener() {\n                    @Override\n                    public void onErrorResponse(VolleyError error) {\n                        Toast.makeText(MainActivity.this,error.toString(),Toast.LENGTH_LONG).show();\n                    }\n                }){\n            @Override\n            protected Map&lt;String,String&gt; getParams(){\n                Map&lt;String,String&gt; params = new HashMap&lt;String, String&gt;();\n                params.put(KEY_USERNAME,username);\n                params.put(KEY_PASSWORD,password);\n                params.put(KEY_EMAIL, email);\n                return params;\n            }\n\n        };\n\n        RequestQueue requestQueue = Volley.newRequestQueue(this);\n        requestQueue.add(stringRequest);\n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 156, "user_id": 3464162, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a80f0856fc16a4a319e99b791fa5916b?s=128&d=identicon&r=PG&f=1", "display_name": "shivpal jodha", "link": "https://stackoverflow.com/users/3464162/shivpal-jodha"}, "edited": false, "score": 0, "creation_date": 1501656467, "post_id": 45453262, "comment_id": 77867582, "body": "actually i tried it before some time then i move to string request"}, {"owner": {"reputation": 1203, "user_id": 6048312, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AyAKcG7odlw/AAAAAAAAAAI/AAAAAAAAAYw/LlW0MgtDmgM/photo.jpg?sz=128", "display_name": "Rajat Beck", "link": "https://stackoverflow.com/users/6048312/rajat-beck"}, "reply_to_user": {"reputation": 156, "user_id": 3464162, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/a80f0856fc16a4a319e99b791fa5916b?s=128&d=identicon&r=PG&f=1", "display_name": "shivpal jodha", "link": "https://stackoverflow.com/users/3464162/shivpal-jodha"}, "edited": false, "score": 0, "creation_date": 1501663526, "post_id": 45453262, "comment_id": 77872102, "body": "in that case the only possible answer would be that you are sending bad request ....since you are getting 400 as error code..please check the keys and the url once again.."}], "tags": [], "owner": {"reputation": 1203, "user_id": 6048312, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-AyAKcG7odlw/AAAAAAAAAAI/AAAAAAAAAYw/LlW0MgtDmgM/photo.jpg?sz=128", "display_name": "Rajat Beck", "link": "https://stackoverflow.com/users/6048312/rajat-beck"}, "is_accepted": false, "score": 0, "last_activity_date": 1501656022, "creation_date": 1501656022, "answer_id": 45453262, "question_id": 45437233, "link": "https://stackoverflow.com/questions/45437233/how-to-send-params-value-as-json-array/45453262#45453262", "title": "How to send params value as json array", "body": "<p>try using Json request instead of using String request </p>\n\n<pre><code>JsonObjectRequest jsObjRequest = new JsonObjectRequest\n        (Request.Method.POST, url, null, new Response.Listener&lt;JSONObject({\n\n    @Override\n    public void onResponse(JSONObject response) {\n        mTxtDisplay.setText(\"Response: \" + response.toString());\n    }\n}, new Response.ErrorListener() {\n\n    @Override\n    public void onErrorResponse(VolleyError error) {\n        // TODO Auto-generated method stub\n\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 8397347, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e3f274c8d0a78462a3f37a7b1ecd6b17?s=128&d=identicon&r=PG&f=1", "display_name": "Jyoti ", "link": "https://stackoverflow.com/users/8397347/jyoti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1191, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1501656022, "creation_date": 1501588818, "last_edit_date": 1501594894, "question_id": 45437233, "link": "https://stackoverflow.com/questions/45437233/how-to-send-params-value-as-json-array", "title": "How to send params value as json array", "body": "<p>I have to pass request params value for signup api and value should be pass in this fromat. as i am getting volley error 400. Can anyone help how to resolve.</p>\n\n<p><strong>Json</strong></p>\n\n<pre><code>{\n    \"number\":\"12345678\",\n    \"password\":\"12345678\",\n    \"first_name\":\"abc\",\n    \"last_name\":\"xyz\",\n    \"email\":\"abc@gmail.com\"\n}\n</code></pre>\n\n<p>also have to pass content-type and authentication in header</p>\n\n<pre><code>fun signup(requestp:String,number: String, password: String, firstname: String,lastname: String,email: String) {\n\n\n\n\n\n    showDialog()\n    var strReq: StringRequest\n    val urlapireq= APIReqParam()\n    val urlresult = URLCollection()\n    var st:Boolean\n\n\n\n\n        pDialog.setMessage(\"Signing...\")\n        showDialog()\n\n        strReq= object : StringRequest(Request.Method.POST,\n                URLCollection.obj.BASE_URL,object : Response.Listener&lt;String&gt; {\n\n            override fun onResponse(response: String) {\n                println(\"Change Password Response\" + response.toString())\n                hideDialog()\n                try {\n\n                    val responseObj = JSONObject(response)\n\n\n                    // Parsing json object response\n                    // response will be a json object\n\n                    val status = responseObj.getString(urlapireq.STATUS)\n                    val message = responseObj.getString(urlapireq.MESSAGE)\n                    val success = responseObj.getString(urlapireq.SUCCESS)\n                    val error = responseObj.getString(urlapireq.ERROR)\n                    val responsecode = responseObj.getString(urlapireq.RESPONSECODE)\n                    if (responsecode == \"200\") {\n                       Toast.makeText(applicationContext,success,Toast.LENGTH_SHORT).show()\n\n                    } else {\n                        Toast.makeText(applicationContext, error, Toast.LENGTH_LONG).show()\n                    }\n\n                } catch (e: JSONException) {\n                    println(\"Request for SMS error : \" + e.message)\n                    /*Boast.makeText(getApplicationContext(),\n                           \"Request for SMS error : \" + e.getMessage(),\n                           Toast.LENGTH_LONG).show();*/\n\n                }\n\n\n            }\n        }, object : Response.ErrorListener {\n\n            override fun onErrorResponse(error: VolleyError) {\n                System.out.println(\"Change Password: \" + error.message)\n\n                /*Boast.makeText(getApplicationContext(),\"Registration Error: \"+\n                   error.getMessage(), Toast.LENGTH_LONG).show();*/\n\n            }\n        }) {\n\n\n\n            override fun getParams(): Map&lt;String, String&gt; {\n                //Creating HashMap\n                val params = HashMap&lt;String, String&gt;()\n                params.put(urlapireq.REQUEST, \"signup\")\n                params.put(urlapireq.Number, number)\n                params.put(urlapireq.Password , password)\n                params.put(urlapireq.FIRSTNAME , firstname)\n                params.put(urlapireq.LASTNAME , lastname)\n                params.put(urlapireq.EMAIL , email)\n                return params\n            }\n            @Throws(AuthFailureError::class)\n            override fun getHeaders(): Map&lt;String, String&gt; {\n                val headers = HashMap&lt;String, String&gt;()\n                headers.put(\"Content-Type\", \"application/json\")\n\n                return headers\n            }\n        }\n\n    println(\"Verification Url : \" + strReq!!)\n    // val crashinst=CrashApplicationClass()\n    CrashApplicationClass.instance?.addToRequestQueue(strReq,TAG)\n}\n</code></pre>\n\n<p>but as it giving me error of </p>\n\n<blockquote>\n  <p>BasicNetwork.performRequest: Unexpected response code 400.</p>\n</blockquote>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1501588556, "post_id": 45437075, "comment_id": 77835025, "body": "Do you get an error message on the line <code>password.text == null -&gt; password.error = &quot;Enter Password!&quot;</code>? If so, what is it exactly?"}, {"owner": {"reputation": 295, "user_id": 7995174, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0711ab262f2df3aee59cee3f9efbb754?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek Dhanuka", "link": "https://stackoverflow.com/users/7995174/prateek-dhanuka"}, "reply_to_user": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1501588712, "post_id": 45437075, "comment_id": 77835147, "body": "No, I don&#39;t get an error. even when I Keep the password field null, it still doesn&#39;t raise the required error, i.e. &quot;Invalid Password!&quot;"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1501651394, "post_id": 45437075, "comment_id": 77865084, "body": "What is the type of <code>email</code> and <code>password</code>?"}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1501658404, "post_id": 45437075, "comment_id": 77868762, "body": "Can you leave a breakpoint on the line starting <code>else if(registering)</code>, and then up date the question showing us the state of <code>email</code> and <code>password</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 295, "user_id": 7995174, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0711ab262f2df3aee59cee3f9efbb754?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek Dhanuka", "link": "https://stackoverflow.com/users/7995174/prateek-dhanuka"}, "edited": false, "score": 0, "creation_date": 1501590140, "post_id": 45437386, "comment_id": 77836161, "body": "No, I know that. What I mean is that I give the email but leave the password out on purpose, but I still don&#39;t get an error message"}, {"owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "reply_to_user": {"reputation": 295, "user_id": 7995174, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0711ab262f2df3aee59cee3f9efbb754?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek Dhanuka", "link": "https://stackoverflow.com/users/7995174/prateek-dhanuka"}, "edited": false, "score": 0, "creation_date": 1501590389, "post_id": 45437386, "comment_id": 77836364, "body": "So <code>password.text == null</code> is not null ) Try to use debugger or logs and check <code>password</code> variable. There is some thing wrong"}, {"owner": {"reputation": 295, "user_id": 7995174, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0711ab262f2df3aee59cee3f9efbb754?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek Dhanuka", "link": "https://stackoverflow.com/users/7995174/prateek-dhanuka"}, "edited": false, "score": 0, "creation_date": 1501591962, "post_id": 45437386, "comment_id": 77837603, "body": "I have been trying to do that. My issue is that the same line works well and fine when used on the edit text named email but fails when used the edit text named password. How do I make it that the error is shown when password field is empty"}], "tags": [], "owner": {"reputation": 5192, "user_id": 3084205, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/qaFQu.jpg?s=128&g=1", "display_name": "Stanislav Bondar", "link": "https://stackoverflow.com/users/3084205/stanislav-bondar"}, "is_accepted": false, "score": 0, "last_activity_date": 1501589235, "creation_date": 1501589235, "answer_id": 45437386, "question_id": 45437075, "link": "https://stackoverflow.com/questions/45437075/when-statement-skipping-a-condition-in-kotlin-for-android/45437386#45437386", "title": "&#39;when&#39; statement skipping a condition in Kotlin for Android", "body": "<p>If no argument is supplied <code>when</code> is used as a replacement for an <code>if-else if</code>\nEverything works fine. You got one valid statement and then out of <code>when</code>\n<a href=\"https://kotlinlang.org/docs/reference/control-flow.html\" rel=\"nofollow noreferrer\">Kotlin When Expression</a></p>\n"}, {"tags": [], "owner": {"reputation": 295, "user_id": 7995174, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0711ab262f2df3aee59cee3f9efbb754?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek Dhanuka", "link": "https://stackoverflow.com/users/7995174/prateek-dhanuka"}, "is_accepted": true, "score": 1, "last_activity_date": 1501847556, "creation_date": 1501847556, "answer_id": 45506157, "question_id": 45437075, "link": "https://stackoverflow.com/questions/45437075/when-statement-skipping-a-condition-in-kotlin-for-android/45506157#45506157", "title": "&#39;when&#39; statement skipping a condition in Kotlin for Android", "body": "<p>I have used <code>password.text.toString().isNullOrEmpty()</code> to achieve the desired result.<br>\nNo idea why <code>email.text == null</code> works but <code>password.text == null</code> does not. Any suggestions welcome</p>\n"}], "owner": {"reputation": 295, "user_id": 7995174, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0711ab262f2df3aee59cee3f9efbb754?s=128&d=identicon&r=PG&f=1", "display_name": "Prateek Dhanuka", "link": "https://stackoverflow.com/users/7995174/prateek-dhanuka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 382, "favorite_count": 0, "accepted_answer_id": 45506157, "answer_count": 2, "score": 1, "last_activity_date": 1501847556, "creation_date": 1501588362, "last_edit_date": 1501729067, "question_id": 45437075, "link": "https://stackoverflow.com/questions/45437075/when-statement-skipping-a-condition-in-kotlin-for-android", "title": "&#39;when&#39; statement skipping a condition in Kotlin for Android", "body": "<p>I've been developing an app on android studio canary 5 using kotlin. I'm using a when statement to verify if a registration form is valid as so.</p>\n\n<pre><code>else if(registering) when {\n        email.text == null -&gt; email.error = \"Enter Email!\"\n        !isValidEmail(email.text) -&gt; email.error = \"Invalid Email!\"\n        password.text == null -&gt; password.error = \"Enter Password!\"\n        password_conf.text == null -&gt; password_conf.error = \"Re-enter Password!\"\n        password_conf.text.toString() != password.text.toString() -&gt; password_conf.error =\n                \"Re-enter Password!\"\n        password_conf.text.toString() != password.text.toString() -&gt; password_conf.error = \"Passwords Don't Match!\"\n        name.text == null -&gt; name.error = \"Enter Full Name!\"\n        branchSelected == \"Branch\" -&gt;{\n            val errorText = branch.selectedView as TextView\n            errorText.error = \"\"\n            errorText.setTextColor(Color.RED)\n            errorText.text = getString(R.string.select_branch)\n        }\n        phone.text == null || !isValidPhone(phone.text) -&gt; phone.error = \"Enter Valid Phone Number!\"\n        !isValidReg(reg_number.text) -&gt; reg_number.error = \"Invalid Registration Number\"\n        roll_number.text != null &amp;&amp; !isValidRoll(roll_number.text) -&gt; roll_number.error = \"Enter Valid roll number!\"\n        else -&gt; {\n            createAccount(email.text.toString(), password.text.toString())\n            addDB()\n        }\n    }\n</code></pre>\n\n<p>The line <code>password.text == null -&gt; password.error = \"Enter Password!\"</code> doesn't work for some reason.</p>\n\n<p>I'm like 90% sure the line is correct since <code>email.text == null -&gt; email.error = \"Enter Email!\"</code> works perfectly fine and android studio color codes the variables. </p>\n\n<p>Can the error occur because android studio kotlin support is in beta or for some other reason?</p>\n\n<p>Update: As JK Ly suggested, Here are the values of email and password: </p>\n\n<pre><code>(When I kept email empty)\n\nemail = {AppCompatEditText@5191} \"android.support.v7.widget.AppCompatEditText{c15a402 VFED..CL. .F...... 79,242-1001,360 #7f09003d app:id/email}\"\n mBackgroundTintHelper = {AppCompatBackgroundHelper@5243} \n mTextHelper = {AppCompatTextHelperV17@5244} \n mAllowTransformationLengthChange = false\n mAutoLinkMask = 0\n mBoring = null\n mBreakStrategy = 0\n mBufferType = {TextView$BufferType@5245} \"EDITABLE\"\n mChangeWatcher = {TextView$ChangeWatcher@5246} \n mCharWrapper = null\n mCurHintTextColor = 1627389952\n mCurTextColor = -570425344\n mCurrentSpellCheckerLocaleCache = null\n mCursorDrawableRes = 17303397\n mDeferScroll = -1\n mDesiredHeightAtMeasure = 118\n mDeviceProvisionedState = 0\n mDrawables = null\n mEditableFactory = {Editable$Factory@5247} \n mEditor = {Editor@5248} \n mEllipsize = null\n mFilters = {InputFilter[0]@5249} \n mFreezesText = false\n mGravity = 8388627\n mHighlightColor = 1711314568\n mHighlightPaint = {Paint@5250} \n mHighlightPath = {Path@5251} \n mHighlightPathBogus = false\n mHint = \"Email\"\n mHintBoring = {BoringLayout$Metrics@5253} \"FontMetricsInt: top=-50 ascent=-44 descent=11 bottom=13 leading=0 width=116\"\n mHintLayout = {BoringLayout@5254} \n mHintTextColor = {ColorStateList@5255} \"ColorStateList{mThemeAttrs=nullmChangingConfigurations=0mStateSpecs=[[16842910, 16842919], []]mColors=[-1979711488, 1627389952]mDefaultColor=1627389952}\"\n mHorizontallyScrolling = true\n mHyphenationFrequency = 1\n mIncludePad = true\n mLastLayoutDirection = 0\n mLastScroll = 0\n mLayout = {DynamicLayout@5256} \n mLinkTextColor = {ColorStateList@5257} \"ColorStateList{mThemeAttrs=nullmChangingConfigurations=0mStateSpecs=[[]]mColors=[-16738680]mDefaultColor=-16738680}\"\n mLinksClickable = true\n mListeners = null\n mLocalesChanged = false\n mMarquee = null\n mMarqueeFadeMode = 0\n mMarqueeRepeatLimit = 3\n mMaxMode = 1\n mMaxWidth = 2147483647\n mMaxWidthMode = 2\n mMaximum = 1\n mMinMode = 1\n mMinWidth = 0\n mMinWidthMode = 2\n mMinimum = 1\n mMovement = {ArrowKeyMovementMethod@5258} \n mOldMaxMode = 1\n mOldMaximum = 1\n mPreDrawListenerDetached = false\n mPreDrawRegistered = false\n mPreventDefaultMovement = false\n mRestartMarquee = false\n mSavedHintLayout = {BoringLayout@5254} \n mSavedLayout = null\n mSavedMarqueeModeLayout = null\n mScroller = null\n mShadowColor = 0\n mShadowDx = 0.0\n mShadowDy = 0.0\n mShadowRadius = 0.0\n mSingleLine = true\n mSpacingAdd = 0.0\n mSpacingMult = 1.0\n mSpannableFactory = {Spannable$Factory@5259} \n mTempRect = {Rect@5260} \"Rect(87, 305 - 91, 423)\"\n mText = {SpannableStringBuilder@5261} \"\"\n  mFilters = {InputFilter[1]@5289} \n  mGapLength = 10\n  mGapStart = 0\n  mIndexOfSpan = {IdentityHashMap@5290}  size = 7\n  mLowWaterMark = 2147483647\n  mOrderSortBuffer = {int[9]@5291} \n  mPrioSortBuffer = {int[9]@5292} \n  mSpanCount = 7\n  mSpanEnds = {int[9]@5293} \n  mSpanFlags = {int[9]@5294} \n  mSpanInsertCount = 19\n  mSpanMax = {int[7]@5295} \n  mSpanOrder = {int[9]@5296} \n  mSpanStarts = {int[9]@5297} \n  mSpans = {Object[9]@5298} \n  mText = {char[10]@5299} \n  mTextWatcherDepth = 0\n  shadow$_klass_ = {Class@529} \"class android.text.SpannableStringBuilder\"\n  shadow$_monitor_ = -2077412599\n mTextColor = {ColorStateList@5262} \"ColorStateList{mThemeAttrs=nullmChangingConfigurations=0mStateSpecs=[[-16842910], []]mColors=[973078528, -570425344]mDefaultColor=-570425344}\"\n mTextDir = {TextDirectionHeuristics$TextDirectionHeuristicInternal@5263} \n mTextEditSuggestionContainerLayout = 17367285\n mTextEditSuggestionHighlightStyle = 16974923\n mTextEditSuggestionItemLayout = 17367287\n mTextPaint = {TextPaint@5264} \n mTextSelectHandleLeftRes = 17303401\n mTextSelectHandleRes = 17303403\n mTextSelectHandleRightRes = 17303405\n mTransformation = {SingleLineTransformationMethod@5265} \n mTransformed = {ReplacementTransformationMethod$SpannedReplacementCharSequence@5266} \"\"\n mUserSetTextScaleX = false\n mAccessibilityCursorPosition = -1\n mAccessibilityDelegate = null\n mAccessibilityTraversalAfterId = -1\n mAccessibilityTraversalBeforeId = -1\n mAccessibilityViewId = -1\n mAnimator = null\n mAttachInfo = {View$AttachInfo@5267} \n mAttributes = null\n mBackground = {InsetDrawable@5268} \n mBackgroundRenderNode = {RenderNode@5269} \n mBackgroundResource = 0\n mBackgroundSizeChanged = false\n mBackgroundTint = null\n mBottom = 360\n mCachingFailed = false\n mClipBounds = null\n mContentDescription = null\n mContext = {LoginActivity@5188} \n mCurrentAnimation = null\n mDrawableState = {int[4]@5270} \n mDrawingCache = null\n mDrawingCacheBackgroundColor = 0\n mFloatingTreeObserver = null\n mForegroundInfo = null\n mFrameMetricsObservers = null\n mGhostView = null\n mHasPerformedLongPress = false\n mID = 2131296317\n mIgnoreNextUpEvent = false\n mInContextButtonPress = false\n mInputEventConsistencyVerifier = null\n mKeyedTags = null\n mLabelForId = -1\n mLastIsOpaque = false\n mLayerPaint = null\n mLayerType = 0\n mLayoutInsets = null\n mLayoutParams = {LinearLayout$LayoutParams@5271} \n mLeft = 79\n mLeftPaddingDefined = false\n mListenerInfo = null\n mLongClickX = NaN\n mLongClickY = NaN\n mMatchIdPredicate = null\n mMatchLabelForPredicate = null\n mMeasureCache = {LongSparseLongArray@5272} \"{4611689978387236305=3959959847030}\"\n mMeasuredHeight = 118\n mMeasuredWidth = 922\n mMinHeight = 0\n View.mMinWidth = 0\n mNestedScrollingParent = null\n mNextFocusDownId = -1\n mNextFocusForwardId = -1\n mNextFocusLeftId = -1\n mNextFocusRightId = -1\n mNextFocusUpId = -1\n mOldHeightMeasureSpec = 1489\n mOldWidthMeasureSpec = 1073742746\n mOutlineProvider = {ViewOutlineProvider$1@5273} \n mOverScrollMode = 1\n mOverlay = null\n mPaddingBottom = 29\n mPaddingLeft = 10\n mPaddingRight = 10\n mPaddingTop = 26\n mParent = {LinearLayout@5274} \"android.widget.LinearLayout{2b0397d V.E...... ........ 0,0-1080,1997 #7f090000 app:id/SignIn_Layout}\"\n mPendingCheckForLongPress = null\n mPendingCheckForTap = null\n mPerformClick = null\n mPointerIcon = null\n mPrivateFlags = 16812082\n mPrivateFlags2 = 1611867688\n mPrivateFlags3 = 4\n mRecreateDisplayList = false\n mRenderNode = {RenderNode@5275} \n mResources = {Resources@5227} \n mRight = 1001\n mRightPaddingDefined = false\n mRunQueue = {HandlerActionQueue@5276} \n mScrollCache = null\n mScrollIndicatorDrawable = null\n mScrollX = 0\n mScrollY = 0\n mSendViewScrolledAccessibilityEvent = null\n mSendViewStateChangedAccessibilityEvent = null\n mSendingHoverAccessibilityEvents = false\n mStartActivityRequestWho = null\n mStateListAnimator = null\n mSystemUiVisibility = 0\n mTag = null\n mTempNestedScrollConsumed = null\n mTop = 242\n mTouchDelegate = null\n mTouchSlop = 21\n mTransformationInfo = {View$TransformationInfo@5277} \n mTransientStateCount = 0\n mTransitionName = null\n mUnscaledDrawingCache = null\n mUnsetPressedState = null\n mUserPaddingBottom = 29\n mUserPaddingEnd = -2147483648\n mUserPaddingLeft = 10\n mUserPaddingLeftInitial = 10\n mUserPaddingRight = 10\n mUserPaddingRightInitial = 10\n mUserPaddingStart = -2147483648\n mVerticalScrollFactor = 0.0\n mVerticalScrollbarPosition = 0\n mViewFlags = 405028865\n mWindowAttachCount = 1\n shadow$_klass_ = {Class@5076} \"class android.support.v7.widget.AppCompatEditText\"\n shadow$_monitor_ = -1944738814  \n\n\n(When I gave some value of email)\n\n\nemail = {AppCompatEditText@5199} \"android.support.v7.widget.AppCompatEditText{9041f8b VFED..CL. .F...... 79,242-1001,360 #7f09003d app:id/email}\"\n mBackgroundTintHelper = {AppCompatBackgroundHelper@5250} \n mTextHelper = {AppCompatTextHelperV17@5251} \n mAllowTransformationLengthChange = false\n mAutoLinkMask = 0\n mBoring = null\n mBreakStrategy = 0\n mBufferType = {TextView$BufferType@5252} \"EDITABLE\"\n mChangeWatcher = {TextView$ChangeWatcher@5253} \n mCharWrapper = null\n mCurHintTextColor = 1627389952\n mCurTextColor = -570425344\n mCurrentSpellCheckerLocaleCache = null\n mCursorDrawableRes = 17303397\n mDeferScroll = -1\n mDesiredHeightAtMeasure = 118\n mDeviceProvisionedState = 0\n mDrawables = null\n mEditableFactory = {Editable$Factory@5254} \n mEditor = {Editor@5255} \n mEllipsize = null\n mFilters = {InputFilter[0]@5256} \n mFreezesText = false\n mGravity = 8388627\n mHighlightColor = 1711314568\n mHighlightPaint = {Paint@5257} \n mHighlightPath = {Path@5258} \n mHighlightPathBogus = false\n mHint = \"Email\"\n mHintBoring = {BoringLayout$Metrics@5260} \"FontMetricsInt: top=-50 ascent=-44 descent=11 bottom=13 leading=0 width=116\"\n mHintLayout = {BoringLayout@5261} \n mHintTextColor = {ColorStateList@5262} \"ColorStateList{mThemeAttrs=nullmChangingConfigurations=0mStateSpecs=[[16842910, 16842919], []]mColors=[-1979711488, 1627389952]mDefaultColor=1627389952}\"\n mHorizontallyScrolling = true\n mHyphenationFrequency = 1\n mIncludePad = true\n mLastLayoutDirection = 0\n mLastScroll = 0\n mLayout = {DynamicLayout@5263} \n mLinkTextColor = {ColorStateList@5264} \"ColorStateList{mThemeAttrs=nullmChangingConfigurations=0mStateSpecs=[[]]mColors=[-16738680]mDefaultColor=-16738680}\"\n mLinksClickable = true\n mListeners = null\n mLocalesChanged = false\n mMarquee = null\n mMarqueeFadeMode = 0\n mMarqueeRepeatLimit = 3\n mMaxMode = 1\n mMaxWidth = 2147483647\n mMaxWidthMode = 2\n mMaximum = 1\n mMinMode = 1\n mMinWidth = 0\n mMinWidthMode = 2\n mMinimum = 1\n mMovement = {ArrowKeyMovementMethod@5265} \n mOldMaxMode = 1\n mOldMaximum = 1\n mPreDrawListenerDetached = false\n mPreDrawRegistered = false\n mPreventDefaultMovement = false\n mRestartMarquee = false\n mSavedHintLayout = {BoringLayout@5261} \n mSavedLayout = null\n mSavedMarqueeModeLayout = null\n mScroller = null\n mShadowColor = 0\n mShadowDx = 0.0\n mShadowDy = 0.0\n mShadowRadius = 0.0\n mSingleLine = true\n mSpacingAdd = 0.0\n mSpacingMult = 1.0\n mSpannableFactory = {Spannable$Factory@5266} \n mTempRect = {Rect@5267} \"Rect(374, 305 - 378, 423)\"\n mText = {SpannableStringBuilder@5268} \"wfm@dm.ssc\"\n mTextColor = {ColorStateList@5269} \"ColorStateList{mThemeAttrs=nullmChangingConfigurations=0mStateSpecs=[[-16842910], []]mColors=[973078528, -570425344]mDefaultColor=-570425344}\"\n mTextDir = {TextDirectionHeuristics$TextDirectionHeuristicInternal@5270} \n mTextEditSuggestionContainerLayout = 17367285\n mTextEditSuggestionHighlightStyle = 16974923\n mTextEditSuggestionItemLayout = 17367287\n mTextPaint = {TextPaint@5271} \n mTextSelectHandleLeftRes = 17303401\n mTextSelectHandleRes = 17303403\n mTextSelectHandleRightRes = 17303405\n mTransformation = {SingleLineTransformationMethod@5272} \n mTransformed = {ReplacementTransformationMethod$SpannedReplacementCharSequence@5273} \"wfm@dm.ssc\"\n mUserSetTextScaleX = false\n mAccessibilityCursorPosition = -1\n mAccessibilityDelegate = null\n mAccessibilityTraversalAfterId = -1\n mAccessibilityTraversalBeforeId = -1\n mAccessibilityViewId = -1\n mAnimator = null\n mAttachInfo = {View$AttachInfo@5274} \n mAttributes = null\n mBackground = {InsetDrawable@5275} \n mBackgroundRenderNode = {RenderNode@5276} \n mBackgroundResource = 0\n mBackgroundSizeChanged = false\n mBackgroundTint = null\n mBottom = 360\n mCachingFailed = false\n mClipBounds = null\n mContentDescription = null\n mContext = {LoginActivity@5195} \n mCurrentAnimation = null\n mDrawableState = {int[4]@5277} \n mDrawingCache = null\n mDrawingCacheBackgroundColor = 0\n mFloatingTreeObserver = null\n mForegroundInfo = null\n mFrameMetricsObservers = null\n mGhostView = null\n mHasPerformedLongPress = false\n mID = 2131296317\n mIgnoreNextUpEvent = false\n mInContextButtonPress = false\n mInputEventConsistencyVerifier = null\n mKeyedTags = null\n mLabelForId = -1\n mLastIsOpaque = false\n mLayerPaint = null\n mLayerType = 0\n mLayoutInsets = null\n mLayoutParams = {LinearLayout$LayoutParams@5278} \n mLeft = 79\n mLeftPaddingDefined = false\n mListenerInfo = null\n mLongClickX = NaN\n mLongClickY = NaN\n mMatchIdPredicate = null\n mMatchLabelForPredicate = null\n mMeasureCache = {LongSparseLongArray@5279} \"{4611689978387236305=3959959847030}\"\n mMeasuredHeight = 118\n mMeasuredWidth = 922\n mMinHeight = 0\n View.mMinWidth = 0\n mNestedScrollingParent = null\n mNextFocusDownId = -1\n mNextFocusForwardId = -1\n mNextFocusLeftId = -1\n mNextFocusRightId = -1\n mNextFocusUpId = -1\n mOldHeightMeasureSpec = 1489\n mOldWidthMeasureSpec = 1073742746\n mOutlineProvider = {ViewOutlineProvider$1@5280} \n mOverScrollMode = 1\n mOverlay = null\n mPaddingBottom = 29\n mPaddingLeft = 10\n mPaddingRight = 10\n mPaddingTop = 26\n mParent = {LinearLayout@5281} \"android.widget.LinearLayout{bd21b35 V.E...... ........ 0,0-1080,1997 #7f090000 app:id/SignIn_Layout}\"\n mPendingCheckForLongPress = null\n mPendingCheckForTap = null\n mPerformClick = null\n mPointerIcon = null\n mPrivateFlags = 16812082\n mPrivateFlags2 = 1611867688\n mPrivateFlags3 = 4\n mRecreateDisplayList = false\n mRenderNode = {RenderNode@5282} \n mResources = {Resources@5234} \n mRight = 1001\n mRightPaddingDefined = false\n mRunQueue = {HandlerActionQueue@5283} \n mScrollCache = null\n mScrollIndicatorDrawable = null\n mScrollX = 0\n mScrollY = 0\n mSendViewScrolledAccessibilityEvent = null\n mSendViewStateChangedAccessibilityEvent = null\n mSendingHoverAccessibilityEvents = false\n mStartActivityRequestWho = null\n mStateListAnimator = null\n mSystemUiVisibility = 0\n mTag = null\n mTempNestedScrollConsumed = null\n mTop = 242\n mTouchDelegate = null\n mTouchSlop = 21\n mTransformationInfo = {View$TransformationInfo@5284} \n mTransientStateCount = 0\n mTransitionName = null\n mUnscaledDrawingCache = null\n mUnsetPressedState = null\n mUserPaddingBottom = 29\n mUserPaddingEnd = -2147483648\n mUserPaddingLeft = 10\n mUserPaddingLeftInitial = 10\n mUserPaddingRight = 10\n mUserPaddingRightInitial = 10\n mUserPaddingStart = -2147483648\n mVerticalScrollFactor = 0.0\n mVerticalScrollbarPosition = 0\n mViewFlags = 405028865\n mWindowAttachCount = 1\n shadow$_klass_ = {Class@5076} \"class android.support.v7.widget.AppCompatEditText\"\n shadow$_monitor_ = -1996218485  \n\n\npassword = {AppCompatEditText@5200} \"android.support.v7.widget.AppCompatEditText{8dff868 VFED..CL. ........ 79,400-1001,518 #7f090075 app:id/password}\"\n mBackgroundTintHelper = {AppCompatBackgroundHelper@5308} \n mTextHelper = {AppCompatTextHelperV17@5309} \n mAllowTransformationLengthChange = false\n mAutoLinkMask = 0\n mBoring = null\n mBreakStrategy = 0\n mBufferType = {TextView$BufferType@5252} \"EDITABLE\"\n mChangeWatcher = {TextView$ChangeWatcher@5310} \n mCharWrapper = null\n mCurHintTextColor = 1627389952\n mCurTextColor = -570425344\n mCurrentSpellCheckerLocaleCache = null\n mCursorDrawableRes = 17303397\n mDeferScroll = -1\n mDesiredHeightAtMeasure = 118\n mDeviceProvisionedState = 0\n mDrawables = null\n mEditableFactory = {Editable$Factory@5254} \n mEditor = {Editor@5311} \n mEllipsize = null\n mFilters = {InputFilter[0]@5256} \n mFreezesText = false\n mGravity = 8388627\n mHighlightColor = 1711314568\n mHighlightPaint = {Paint@5312} \n mHighlightPath = null\n mHighlightPathBogus = true\n mHint = \"Password\"\n mHintBoring = {BoringLayout$Metrics@5314} \"FontMetricsInt: top=-50 ascent=-44 descent=11 bottom=13 leading=0 width=224\"\n mHintLayout = {BoringLayout@5315} \n mHintTextColor = {ColorStateList@5262} \"ColorStateList{mThemeAttrs=nullmChangingConfigurations=0mStateSpecs=[[16842910, 16842919], []]mColors=[-1979711488, 1627389952]mDefaultColor=1627389952}\"\n mHorizontallyScrolling = true\n mHyphenationFrequency = 1\n mIncludePad = true\n mLastLayoutDirection = 0\n mLastScroll = 0\n mLayout = {DynamicLayout@5316} \n mLinkTextColor = {ColorStateList@5264} \"ColorStateList{mThemeAttrs=nullmChangingConfigurations=0mStateSpecs=[[]]mColors=[-16738680]mDefaultColor=-16738680}\"\n mLinksClickable = true\n mListeners = null\n mLocalesChanged = false\n mMarquee = null\n mMarqueeFadeMode = 0\n mMarqueeRepeatLimit = 3\n mMaxMode = 1\n mMaxWidth = 2147483647\n mMaxWidthMode = 2\n mMaximum = 1\n mMinMode = 1\n mMinWidth = 0\n mMinWidthMode = 2\n mMinimum = 1\n mMovement = {ArrowKeyMovementMethod@5265} \n mOldMaxMode = 1\n mOldMaximum = 1\n mPreDrawListenerDetached = false\n mPreDrawRegistered = false\n mPreventDefaultMovement = false\n mRestartMarquee = false\n mSavedHintLayout = {BoringLayout@5315} \n mSavedLayout = null\n mSavedMarqueeModeLayout = null\n mScroller = null\n mShadowColor = 0\n mShadowDx = 0.0\n mShadowDy = 0.0\n mShadowRadius = 0.0\n mSingleLine = true\n mSpacingAdd = 0.0\n mSpacingMult = 1.0\n mSpannableFactory = {Spannable$Factory@5266} \n mTempRect = null\n mText = {SpannableStringBuilder@5317} \"\"\n mTextColor = {ColorStateList@5269} \"ColorStateList{mThemeAttrs=nullmChangingConfigurations=0mStateSpecs=[[-16842910], []]mColors=[973078528, -570425344]mDefaultColor=-570425344}\"\n mTextDir = {TextDirectionHeuristics$TextDirectionHeuristicInternal@5318} \n mTextEditSuggestionContainerLayout = 17367285\n mTextEditSuggestionHighlightStyle = 16974923\n mTextEditSuggestionItemLayout = 17367287\n mTextPaint = {TextPaint@5319} \n mTextSelectHandleLeftRes = 17303401\n mTextSelectHandleRes = 17303403\n mTextSelectHandleRightRes = 17303405\n mTransformation = {PasswordTransformationMethod@5320} \n mTransformed = {PasswordTransformationMethod$PasswordCharSequence@5321} \"\"\n mUserSetTextScaleX = false\n mAccessibilityCursorPosition = -1\n mAccessibilityDelegate = null\n mAccessibilityTraversalAfterId = -1\n mAccessibilityTraversalBeforeId = -1\n mAccessibilityViewId = -1\n mAnimator = null\n mAttachInfo = {View$AttachInfo@5274} \n mAttributes = null\n mBackground = {InsetDrawable@5322} \n mBackgroundRenderNode = {RenderNode@5323} \n mBackgroundResource = 0\n mBackgroundSizeChanged = false\n mBackgroundTint = null\n mBottom = 518\n mCachingFailed = false\n mClipBounds = null\n mContentDescription = null\n mContext = {LoginActivity@5195} \n mCurrentAnimation = null\n mDrawableState = {int[3]@5324} \n mDrawingCache = null\n mDrawingCacheBackgroundColor = 0\n mFloatingTreeObserver = null\n mForegroundInfo = null\n mFrameMetricsObservers = null\n mGhostView = null\n mHasPerformedLongPress = false\n mID = 2131296373\n mIgnoreNextUpEvent = false\n mInContextButtonPress = false\n mInputEventConsistencyVerifier = null\n mKeyedTags = null\n mLabelForId = -1\n mLastIsOpaque = false\n mLayerPaint = null\n mLayerType = 0\n mLayoutInsets = null\n mLayoutParams = {LinearLayout$LayoutParams@5278} \n mLeft = 79\n mLeftPaddingDefined = false\n mListenerInfo = null\n mLongClickX = NaN\n mLongClickY = NaN\n mMatchIdPredicate = null\n mMatchLabelForPredicate = null\n mMeasureCache = {LongSparseLongArray@5325} \"{4611689978387236147=3959959847030}\"\n mMeasuredHeight = 118\n mMeasuredWidth = 922\n mMinHeight = 0\n View.mMinWidth = 0\n mNestedScrollingParent = null\n mNextFocusDownId = -1\n mNextFocusForwardId = -1\n mNextFocusLeftId = -1\n mNextFocusRightId = -1\n mNextFocusUpId = -1\n mOldHeightMeasureSpec = 1331\n mOldWidthMeasureSpec = 1073742746\n mOutlineProvider = {ViewOutlineProvider$1@5280} \n mOverScrollMode = 1\n mOverlay = null\n mPaddingBottom = 29\n mPaddingLeft = 10\n mPaddingRight = 10\n mPaddingTop = 26\n mParent = {LinearLayout@5281} \"android.widget.LinearLayout{bd21b35 V.E...... ........ 0,0-1080,1997 #7f090000 app:id/SignIn_Layout}\"\n mPendingCheckForLongPress = null\n mPendingCheckForTap = null\n mPerformClick = null\n mPointerIcon = null\n mPrivateFlags = 16812080\n mPrivateFlags2 = 1611867688\n mPrivateFlags3 = 4\n mRecreateDisplayList = false\n mRenderNode = {RenderNode@5326} \n mResources = {Resources@5234} \n mRight = 1001\n mRightPaddingDefined = false\n mRunQueue = null\n mScrollCache = null\n mScrollIndicatorDrawable = null\n mScrollX = 0\n mScrollY = 0\n mSendViewScrolledAccessibilityEvent = null\n mSendViewStateChangedAccessibilityEvent = null\n mSendingHoverAccessibilityEvents = false\n mStartActivityRequestWho = null\n mStateListAnimator = null\n mSystemUiVisibility = 0\n mTag = null\n mTempNestedScrollConsumed = null\n mTop = 400\n mTouchDelegate = null\n mTouchSlop = 21\n mTransformationInfo = {View$TransformationInfo@5327} \n mTransientStateCount = 0\n mTransitionName = null\n mUnscaledDrawingCache = null\n mUnsetPressedState = null\n mUserPaddingBottom = 29\n mUserPaddingEnd = -2147483648\n mUserPaddingLeft = 10\n mUserPaddingLeftInitial = 10\n mUserPaddingRight = 10\n mUserPaddingRightInitial = 10\n mUserPaddingStart = -2147483648\n mVerticalScrollFactor = 0.0\n mVerticalScrollbarPosition = 0\n mViewFlags = 405028865\n mWindowAttachCount = 1\n shadow$_klass_ = {Class@5076} \"class android.support.v7.widget.AppCompatEditText\"\n shadow$_monitor_ = -1998587800\n</code></pre>\n"}, {"tags": ["generics", "kotlin", "variance"], "answers": [{"comments": [{"owner": {"reputation": 281, "user_id": 2668333, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d358a1823dfcf871f93422b04cb6a2c?s=128&d=identicon&r=PG", "display_name": "grenzfrequence", "link": "https://stackoverflow.com/users/2668333/grenzfrequence"}, "edited": false, "score": 0, "creation_date": 1501593447, "post_id": 45437140, "comment_id": 77838798, "body": "You are right, that works then. But I have the additional problem that IMyViewModel has two fun&#39;s:   fun attachView(view: VIEW), fun getView(): VIEW? The fun attachView(view: VIEW) will not work with out, because it is an In there. What can I do?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 281, "user_id": 2668333, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d358a1823dfcf871f93422b04cb6a2c?s=128&d=identicon&r=PG", "display_name": "grenzfrequence", "link": "https://stackoverflow.com/users/2668333/grenzfrequence"}, "edited": false, "score": 0, "creation_date": 1501593829, "post_id": 45437140, "comment_id": 77839094, "body": "@grenzfrequence, then you can only apply the use-site variance, and you won&#39;t be able to safely call <code>attachView(view: VIEW)</code>, because <code>VIEW</code> will have no lower bound (it can be any subtype of <code>IMyView</code>). If that does not fit your use case, you can try to add another type parameter to <code>MyBaseClass</code>, please see the updated answer."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 281, "user_id": 2668333, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d358a1823dfcf871f93422b04cb6a2c?s=128&d=identicon&r=PG", "display_name": "grenzfrequence", "link": "https://stackoverflow.com/users/2668333/grenzfrequence"}, "edited": false, "score": 0, "creation_date": 1501595076, "post_id": 45437140, "comment_id": 77840101, "body": "@grenzfrequence, I&#39;ve checked the question update, and seems like the last point in the updated answer solves the problem."}, {"owner": {"reputation": 281, "user_id": 2668333, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d358a1823dfcf871f93422b04cb6a2c?s=128&d=identicon&r=PG", "display_name": "grenzfrequence", "link": "https://stackoverflow.com/users/2668333/grenzfrequence"}, "edited": false, "score": 0, "creation_date": 1501595260, "post_id": 45437140, "comment_id": 77840262, "body": "I just updated my code. Your approach does not work for me, because if you declare interface IMyViewModel&lt;out View : IMyView, in ITEM&gt;, then the compiler describes for fun attachView(view: VIEW) in IMyViewModl as follows: &quot;The type parameter is desclared as &#39;out&#39; but occurs in &#39;in&#39; position in type VIEW."}, {"owner": {"reputation": 281, "user_id": 2668333, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d358a1823dfcf871f93422b04cb6a2c?s=128&d=identicon&r=PG", "display_name": "grenzfrequence", "link": "https://stackoverflow.com/users/2668333/grenzfrequence"}, "edited": false, "score": 0, "creation_date": 1501595385, "post_id": 45437140, "comment_id": 77840358, "body": "please copy and paste that code in Android Studio and you will see immediately the error message when you chance the code with &#39;out&#39;."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 281, "user_id": 2668333, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d358a1823dfcf871f93422b04cb6a2c?s=128&d=identicon&r=PG", "display_name": "grenzfrequence", "link": "https://stackoverflow.com/users/2668333/grenzfrequence"}, "edited": false, "score": 0, "creation_date": 1501596232, "post_id": 45437140, "comment_id": 77841152, "body": "@grenzfrequence, did you try the third point I added after your comment (the one suggesting to add another type parameter <code>T</code>)? It works for me on the full code sample from the updated answer."}, {"owner": {"reputation": 281, "user_id": 2668333, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d358a1823dfcf871f93422b04cb6a2c?s=128&d=identicon&r=PG", "display_name": "grenzfrequence", "link": "https://stackoverflow.com/users/2668333/grenzfrequence"}, "edited": false, "score": 0, "creation_date": 1501613685, "post_id": 45437140, "comment_id": 77852154, "body": "the third point does not work for me because MyBaseClass itself is the view what I want to set with attachView. Therefore I will not use a view from outside."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 1, "last_activity_date": 1501593826, "last_edit_date": 1501593826, "creation_date": 1501588546, "answer_id": 45437140, "question_id": 45436451, "link": "https://stackoverflow.com/questions/45436451/kotlin-generics-kotlin-does-not-recognize-my-class-with-correct-inheritance/45437140#45437140", "title": "Kotlin Generics: Kotlin does not recognize my class with correct inheritance", "body": "<p>The problem with your code is that when you make an upper bound <code>VIEWMODEL : IMyViewModel&lt;IMyView, *&gt;</code>, a type can satisfy this bound <strong>only</strong> if it implements <code>IMyViewModel</code> with the <code>VIEW</code> type parameter substituted <strong>exactly</strong> with <code>IMyView</code>, no subtype of <code>IMyView</code> is allowed (and thus <code>MyViewModel</code> is rejected). In other words, <a href=\"https://kotlinlang.org/docs/reference/generics.html#variance\" rel=\"nofollow noreferrer\"><code>VIEW</code> is invariant</a>.</p>\n\n<p>Since Kotlin allows you to specify the type parameter variance both at declaration site and at use site, you can fix this by doing one of the following:</p>\n\n<ul>\n<li><p>Make the <code>VIEW</code> type parameter of <code>IMyViewModel</code> covariant with declaration-site variance:</p>\n\n<pre><code>interface IMyViewModel&lt;out VIEW : IMyView, in ITEM&gt;  \n                       ^^^\n</code></pre></li>\n<li><p>Add an <code>out</code>-projection at the use-site of <code>IMyViewModel</code> in the <code>VIEWMODEL</code> upper bound:</p>\n\n<pre><code>abstract class MyBaseClass&lt;VIEWMODEL : IMyViewModel&lt;out IMyView, *&gt;&gt;\n                                                    ^^^\n</code></pre></li>\n<li><p>Add another type parameter <code>T</code> to <code>MyBaseClass</code> and use it in <code>IMyViewModel&lt;T, *&gt;</code>:</p>\n\n<pre><code>abstract class MyBaseClass&lt;T : IMyView, VIEWMODEL : IMyViewModel&lt;T, *&gt;&gt;\nclass MyMainClass: MyBaseClass&lt;myView, MyViewModel&gt;()\n</code></pre></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 281, "user_id": 2668333, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d358a1823dfcf871f93422b04cb6a2c?s=128&d=identicon&r=PG", "display_name": "grenzfrequence", "link": "https://stackoverflow.com/users/2668333/grenzfrequence"}, "is_accepted": true, "score": 0, "last_activity_date": 1501667808, "creation_date": 1501667808, "answer_id": 45457535, "question_id": 45436451, "link": "https://stackoverflow.com/questions/45436451/kotlin-generics-kotlin-does-not-recognize-my-class-with-correct-inheritance/45457535#45457535", "title": "Kotlin Generics: Kotlin does not recognize my class with correct inheritance", "body": "<p>I solved the problem now. I made a concept error. Here is the solution:</p>\n\n<pre><code>interface IMyViewModel&lt;VIEW : IMyView, in ITEM&gt; {\n\n    fun attachView(view: VIEW)\n\n    fun getView(): VIEW?\n}\n\n\nclass MyViewModel : IMyViewModel&lt;IMyView, String&gt; {\n    override fun attachView(view: IMyView) {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n\n    override fun getView(): IMyView? {\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n    }\n}\n\n\nabstract class MyBaseClass&lt;VIEWMODEL : IMyViewModel&lt;IMyView, *&gt;&gt; : IMyView {\n\n    protected lateinit var viewModel: VIEWMODEL\n\n    fun myInvocation(): Unit {\n        viewModel.attachView(this)\n    }\n}\n\nclass MyMainClass : MyBaseClass&lt;MyViewModel&gt;()\n</code></pre>\n"}], "owner": {"reputation": 281, "user_id": 2668333, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6d358a1823dfcf871f93422b04cb6a2c?s=128&d=identicon&r=PG", "display_name": "grenzfrequence", "link": "https://stackoverflow.com/users/2668333/grenzfrequence"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1046, "favorite_count": 0, "accepted_answer_id": 45457535, "answer_count": 2, "score": 2, "last_activity_date": 1501667808, "creation_date": 1501586612, "last_edit_date": 1501613498, "question_id": 45436451, "link": "https://stackoverflow.com/questions/45436451/kotlin-generics-kotlin-does-not-recognize-my-class-with-correct-inheritance", "title": "Kotlin Generics: Kotlin does not recognize my class with correct inheritance", "body": "<p>this is my simplified example:</p>\n\n<pre><code>interface IMyView\n\ninterface IMyViewModel&lt;VIEW : IMyView, in ITEM&gt; {\n\n    fun attachView(view: VIEW)\n\n    fun getView(): VIEW?\n}\n\n\nclass myView : IMyView\n\nclass MyViewModel : IMyViewModel&lt;myView, String&gt; {\n    override fun attachView(view: myView) {\n        TODO(\"not implemented\")\n    }\n\n    override fun getView(): myView? {\n        TODO(\"not implemented\")\n    }\n}\n\n\nabstract class MyBaseClass&lt;VIEWMODEL : IMyViewModel&lt;out IMyView, *&gt;&gt; : IMyView {\n\n    protected lateinit var viewModel: VIEWMODEL\n\n    fun myInvocation(): Unit {\n        viewModel.attachView(this as IMyView)\n    }\n}\n\nclass MyMainClass : MyBaseClass&lt;MyViewModel&gt;()\n</code></pre>\n\n<p>The problem is the last line, because MyViewModel is not recognized as IMyViewModel. Error message is as follows:</p>\n\n<pre><code>Type argument is not within its bounds. \nExpected: IMyViewModel&lt;IMyView, *&gt;\nFound: MyViewModel\n</code></pre>\n\n<p>In Java it works. What I have to adapt to make it workable in Kotlin as well?</p>\n\n<p>****** update ******</p>\n\n<p>If you use</p>\n\n<pre><code>abstract class MyBaseClass&lt;VIEWMODEL : IMyViewModel&lt;out IMyView, *&gt;&gt;\n</code></pre>\n\n<p>(please see updated Kotlin code above)</p>\n\n<p>then I cannot call myInvocation because for that call I need 'in IMyView'.\nTherefore it is a disaster. All what I do results in other problems. That was easier in Java.</p>\n"}, {"tags": ["kotlin", "lazy-evaluation", "kotlin-interop"], "comments": [{"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "edited": false, "score": 0, "creation_date": 1501586231, "post_id": 45435437, "comment_id": 77833277, "body": "May be you can use iterable with <code>someIterable.asSequence()</code> in Kotlin?"}, {"owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "reply_to_user": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "edited": false, "score": 0, "creation_date": 1501587166, "post_id": 45435437, "comment_id": 77833959, "body": "That world work, but leaves - as stated - the possibility that an <i>unsuspecting</i> caller accidentally drops laziness. This question is more in direction library development."}], "answers": [{"comments": [{"owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "edited": false, "score": 0, "creation_date": 1501719237, "post_id": 45470691, "comment_id": 77906643, "body": "Interesting approach, I&#39;ll accept this in a day or two if there are no alternative ideas."}], "tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 2, "last_activity_date": 1501706739, "creation_date": 1501706739, "answer_id": 45470691, "question_id": 45435437, "link": "https://stackoverflow.com/questions/45435437/kotlin-targeting-java-interop-idiomatic-type-for-lazy-collection/45470691#45470691", "title": "Kotlin, targeting Java interop: Idiomatic type for lazy collection?", "body": "<p>You can make everyone happy by implementing all three. e.g.:</p>\n\n<pre><code>data class User(val name: String)\n\nfun userSequence(): Sequence&lt;User&gt; = TODO()\nfun usersLazily(): Iterable&lt;User&gt; = userSequence().asIterable()\nfun userStream(): Stream&lt;User&gt; = userSequence().asStream()\n</code></pre>\n\n<p>By not using a simple name like <code>users</code> for any of these functions you make the caller think just a little extra on which one they really want:</p>\n\n<ul>\n<li>Kotlin users will use <code>userSequence</code>.</li>\n<li>Java 1.6 and 1.7 users will use <code>usersLazily</code>.</li>\n<li>Java 1.8 users will use <code>userStream</code>.</li>\n</ul>\n\n<p><code>userStream</code> will have to be defined in a separate JAR adding JDK 1.8 support to your 1.6/1.7 JAR (similar to how <code>org.jetbrains.kotlin:kotlin-stdlib-jre8</code> does for <code>org.jetbrains.kotlin:kotlin-stdlib</code>).</p>\n\n<p>With that said, I would question whether you really need to maintain Java 1.6 or 1.7 support. If you find you don't then you can put <code>userSequence</code> and <code>userStream</code> into the same JAR and not even define <code>usersLazily</code>.</p>\n"}], "owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 2, "accepted_answer_id": 45470691, "answer_count": 1, "score": 7, "last_activity_date": 1502002910, "creation_date": 1501583560, "last_edit_date": 1502002910, "question_id": 45435437, "link": "https://stackoverflow.com/questions/45435437/kotlin-targeting-java-interop-idiomatic-type-for-lazy-collection", "title": "Kotlin, targeting Java interop: Idiomatic type for lazy collection?", "body": "<p>When targeting Java interop, what type should one use for a lazy collection?</p>\n\n<ul>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.sequences/-sequence/index.html\" rel=\"nofollow noreferrer\"><code>Sequence&lt;T&gt;</code></a> makes the most sense for Kotlin callers due to extension functions on it being lazy by default, but forces Java callers to deal with a Kotlin stdlib type and convert the sequence iterator manually (sequence does not extend iterable!)</li>\n<li><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-iterable/index.html\" rel=\"nofollow noreferrer\"><code>Iterable&lt;T&gt;</code></a> makes sense for Java callers due to implicit usage in for loops, but will cause unsuspecting Kotlin callers to accidentally drop laziness due to non-lazy extension functions</li>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"nofollow noreferrer\"><code>Stream&lt;T&gt;</code></a> is optimal for both Java and Kotlin callers but may have overhead and is Java 8+ (Kotlin targets 6+)</li>\n</ul>\n"}, {"tags": ["kotlin", "getter"], "answers": [{"comments": [{"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 0, "creation_date": 1595598598, "post_id": 45433875, "comment_id": 111538966, "body": "What is a backing field?  Your link doesn&#39;t explain it."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 0, "creation_date": 1595666610, "post_id": 45433875, "comment_id": 111558351, "body": "It&#39;s a field that stores the value of a property. It can be either mutable or immutable (<code>final</code> in JVM terms)."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 9, "last_activity_date": 1501579335, "creation_date": 1501579335, "answer_id": 45433875, "question_id": 45433608, "link": "https://stackoverflow.com/questions/45433608/kotlin-val-difference-getter-override-vs-assignment/45433875#45433875", "title": "Kotlin val difference getter override vs assignment", "body": "<p>The key difference here is that in <code>val isEmpty get() = ...</code> the body is evaluated each time the property is accessed, and in <code>val isEmpty = ...</code> the expression on the right hand side gets evaluated during the object construction, the result is stored in <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"noreferrer\">the backing field</a> and this exact result is returned each time the property is used.</p>\n\n<p>So, the first approach is suitable when you want the result to be calculated each time, while the second approach is good when you want the result to be calculated only once and stored.</p>\n"}, {"comments": [{"owner": {"reputation": 149, "user_id": 1595254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/702e5de601f0a2d9aa5679648c6798aa?s=128&d=identicon&r=PG", "display_name": "Rjbcc58", "link": "https://stackoverflow.com/users/1595254/rjbcc58"}, "edited": false, "score": 0, "creation_date": 1579616607, "post_id": 45433909, "comment_id": 105820221, "body": "What would the difference be if the getter function example was a declared as a  <code>var</code>?"}, {"owner": {"reputation": 785, "user_id": 5616255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/frl7l.jpg?s=128&g=1", "display_name": "Bojan P.", "link": "https://stackoverflow.com/users/5616255/bojan-p"}, "reply_to_user": {"reputation": 149, "user_id": 1595254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/702e5de601f0a2d9aa5679648c6798aa?s=128&d=identicon&r=PG", "display_name": "Rjbcc58", "link": "https://stackoverflow.com/users/1595254/rjbcc58"}, "edited": false, "score": 0, "creation_date": 1587468981, "post_id": 45433909, "comment_id": 108517941, "body": "According to documentation, there would be no effect in the example cases above. When using <code>val</code> the setter is <i>not allowed</i>, when using <code>var</code> you <i>can</i> (optionally) implement the setter - if you don&#39;t, then the default <code>field</code> identifier will be used (<a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"nofollow noreferrer\">Backing fields</a>). But because you implemented custom getter, this <code>field</code> has no use (unless you use it in getter)."}, {"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 0, "creation_date": 1595598691, "post_id": 45433909, "comment_id": 111539020, "body": "What&#39;s a backing field?  The kotlin docs don&#39;t explain it."}], "tags": [], "owner": {"reputation": 785, "user_id": 5616255, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/frl7l.jpg?s=128&g=1", "display_name": "Bojan P.", "link": "https://stackoverflow.com/users/5616255/bojan-p"}, "is_accepted": true, "score": 12, "last_activity_date": 1562490008, "last_edit_date": 1562490008, "creation_date": 1501579419, "answer_id": 45433909, "question_id": 45433608, "link": "https://stackoverflow.com/questions/45433608/kotlin-val-difference-getter-override-vs-assignment/45433909#45433909", "title": "Kotlin val difference getter override vs assignment", "body": "<p>In your second example <code>size</code> is immutable value and therefore both ways are valid.</p>\n\n<p>However variant with overridden getter <code>get() = size == 0</code> <a href=\"https://kotlinlang.org/docs/reference/properties.html#getters-and-setters\" rel=\"nofollow noreferrer\">has no backing field</a> and therefore <code>size == 0</code> is evaluated every time you access <code>isEmpty</code> variable.</p>\n\n<p>On the other hand, when using initializer <code>= size == 0</code> the expression <code>size == 0</code> is evaluated during construction (check exactly when and how here - <a href=\"https://medium.com/keepsafe-engineering/an-in-depth-look-at-kotlins-initializers-a0420fcbf546\" rel=\"nofollow noreferrer\">An in-depth look at Kotlin\u2019s initializers</a>) and stored to the <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"nofollow noreferrer\">backing field</a>, of which value is then returned when you access the variable.</p>\n"}], "owner": {"reputation": 2341, "user_id": 3883569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c778021c6ac70c1fe99a0294b0ed664f?s=128&d=identicon&r=PG&f=1", "display_name": "FreshD", "link": "https://stackoverflow.com/users/3883569/freshd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1304, "favorite_count": 3, "accepted_answer_id": 45433909, "answer_count": 2, "score": 11, "last_activity_date": 1562490008, "creation_date": 1501578584, "question_id": 45433608, "link": "https://stackoverflow.com/questions/45433608/kotlin-val-difference-getter-override-vs-assignment", "title": "Kotlin val difference getter override vs assignment", "body": "<p>I started playing arround with Kotlin and read something about mutable val with custom getter. As refered in e.g <a href=\"http://blog.danlew.net/2017/05/30/mutable-vals-in-kotlin/\" rel=\"noreferrer\">here</a> or in the <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html#functions-vs-properties\" rel=\"noreferrer\">Kotlin Coding Convention</a> one should not override the getter if the result can change.</p>\n\n<pre><code>class SampleArray(val size: Int) {\n    val isEmpty get() = size == 0  // size is set at the beginning and does not change so this is ok\n}\n\nclass SampleArray(var size: Int) {\n    fun isEmpty() { return size == 0 }  // size is set at the beginning but can also change over time so function is prefered\n}\n</code></pre>\n\n<p>But just from the perspective of usage as in the guidelines where is the difference between the following two</p>\n\n<pre><code>class SampleArray(val size: Int) {\n    val isEmpty get() = size == 0  // size can not change so this can be used instad of function\n    val isEmpty = size == 0        // isEmpty is assigned at the beginning ad will keep this value also if size could change\n}\n</code></pre>\n\n<p>From <a href=\"https://stackoverflow.com/a/36366900/3883569\">this</a> answer I could see that for getter override the value is not stored. Is there something else where the getter override is different form the assignment? Maybe with delegates or latinit?</p>\n"}, {"tags": ["android", "kotlin", "speech-recognition"], "answers": [{"tags": [], "owner": {"reputation": 965, "user_id": 4023485, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BZdpM.jpg?s=128&g=1", "display_name": "Vikram Ezhil", "link": "https://stackoverflow.com/users/4023485/vikram-ezhil"}, "is_accepted": false, "score": -1, "last_activity_date": 1503662701, "creation_date": 1503662701, "answer_id": 45881040, "question_id": 45430541, "link": "https://stackoverflow.com/questions/45430541/android-speechrecognizer-not-getting-started-again/45881040#45881040", "title": "Android SpeechRecognizer not getting started again", "body": "<p>You would need to again set the <strong>RecognitionListener</strong> to have this work. As weird it sounds, every time when you need to listen to the user reset and set the listener again to make it work.</p>\n\n<p>If you are looking for a quick solution you can try <a href=\"https://github.com/vikramezhil/DroidSpeech\" rel=\"nofollow noreferrer\">DroidSpeech</a>, which takes care of all the heavy lifting. With a few lines of code, you will have the speech recognition running perfectly in no time.</p>\n\n<pre><code>DroidSpeech droidSpeech = new DroidSpeech(this, null);\ndroidSpeech.setOnDroidSpeechListener(this);\n</code></pre>\n\n<p>To start listening to the user call the below code,</p>\n\n<pre><code>droidSpeech.startDroidSpeechRecognition();\n</code></pre>\n\n<p>And you will get the voice result in the listener method,</p>\n\n<pre><code>@Override\npublic void onDroidSpeechFinalResult(String finalSpeechResult, boolean droidSpeechWillListen)\n{\n  // Do whatever you want with the speech result\n}\n</code></pre>\n"}], "owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 986, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1515361450, "creation_date": 1501569320, "last_edit_date": 1515361450, "question_id": 45430541, "link": "https://stackoverflow.com/questions/45430541/android-speechrecognizer-not-getting-started-again", "title": "Android SpeechRecognizer not getting started again", "body": "<p>I know how the SpeechRecognizer works in the android. I have a requirement that i need to call <strong>SpeechRecognizer.stopListening()</strong> method after some time. But after that when i start listener again it would not work.</p>\n\n<p>Code to start SpeechRecognizer</p>\n\n<pre><code>private void promptSpeechInput() {\n    /*\n    Intent intent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n    intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL,\n            RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n    intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\n    intent.putExtra(RecognizerIntent.EXTRA_PROMPT,\n            getString(R.string.speech_prompt));\n    try {\n        startActivityForResult(intent, REQ_CODE_SPEECH_INPUT);\n    } catch (ActivityNotFoundException a) {\n        Toast.makeText(getApplicationContext(),\n                getString(R.string.speech_not_supported),\n                Toast.LENGTH_SHORT).show();\n    }\n    */\n\n    speechIntent = new Intent(RecognizerIntent.ACTION_RECOGNIZE_SPEECH);\n    speechIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, RecognizerIntent.LANGUAGE_MODEL_FREE_FORM);\n    speechIntent.putExtra(RecognizerIntent.EXTRA_CALLING_PACKAGE, context.getPackageName());\n    // for more: https://stackoverflow.com/questions/7973023/what-is-the-list-of-supported-languages-locales-on-android\n    /*intent.putExtra(RecognizerIntent.EXTRA_LANGUAGE_MODEL, \"en_IN\"); */\n    speechIntent.putExtra(RecognizerIntent.EXTRA_LANGUAGE, Locale.getDefault());\n    speechIntent.putExtra(RecognizerIntent.EXTRA_MAX_RESULTS, 1);\n    speechIntent.putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_MINIMUM_LENGTH_MILLIS, 200);\n    speechIntent.putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_COMPLETE_SILENCE_LENGTH_MILLIS, new Long(5000));\n    speechIntent.putExtra(RecognizerIntent.EXTRA_SPEECH_INPUT_POSSIBLY_COMPLETE_SILENCE_LENGTH_MILLIS, new Long(5000));\n    speechIntent.putExtra(\"android.speech.extra.DICTATION_MODE\", false);\n    speechIntent.putExtra(RecognizerIntent.EXTRA_PARTIAL_RESULTS, false);\n    /*\n    intent.putExtra(\"android.speech.extra.GET_AUDIO_FORMAT\", \"audio/AMR\");\n    intent.putExtra(\"android.speech.extra.GET_AUDIO\", true);\n    */\n\n    sr.startListening(speechIntent);\n}\n</code></pre>\n\n<p>After few seconds of speaking i do use</p>\n\n<pre><code>sr.stopListening();\n</code></pre>\n\n<p>And after receiving the results in <strong>onResults</strong> i am trying to start it again using </p>\n\n<pre><code>sr.startListening(speechIntent);\n</code></pre>\n\n<p>but its not working. What should i do to make it work ?</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>if I call <strong>promptSpeechInput();</strong> method again instead of <strong>sr.startListening(speechIntent);</strong> it starts giving me <code>SpeechRecognizer.ERROR_RECOGNIZER_BUSY</code> error repeatedly.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1501568271, "post_id": 45430203, "comment_id": 77821424, "body": "<a href=\"https://www.google.co.uk/search?q=kotlin+as+keyword\" rel=\"nofollow noreferrer\">google.co.uk/search?q=kotlin+as+keyword</a>"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1501568513, "post_id": 45430203, "comment_id": 77821549, "body": "Can someone explain why there are so many duplicate answers here? The two answers to this question are identical, except for the fact that the <i>second</i> one is a less detailed version of the first one, which was posted one minute earlier. Why do people tend to answer the same thing when there is already a correct answer?"}], "answers": [{"comments": [{"owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "edited": false, "score": 0, "creation_date": 1501569115, "post_id": 45430249, "comment_id": 77821863, "body": "Just for the sake of completion: The Java equivalent would be <code>JsonObject jsonObj = (JsonObject) json;</code>"}], "tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": false, "score": 1, "last_activity_date": 1501571386, "last_edit_date": 1501571386, "creation_date": 1501568326, "answer_id": 45430249, "question_id": 45430203, "link": "https://stackoverflow.com/questions/45430203/what-does-the-code-val-jsonobj-json-as-jsonobject-mean-in-kotlin/45430249#45430249", "title": "What does the code &quot;val jsonObj = json as JsonObject&quot; mean in Kotlin?", "body": "<p><code>as</code> is a type cast operator.</p>\n\n<p>So this just cast your <code>json</code> object of <code>JsonElement</code> to <code>JsonObject</code>.</p>\n\n<p>Just like Java equivalent of <code>JsonObject jsonObject = (JsonObject) json;</code></p>\n\n<p>For more read this <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#unsafe-cast-operator\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/typecasts.html#unsafe-cast-operator</a></p>\n"}, {"tags": [], "owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "is_accepted": true, "score": 2, "last_activity_date": 1501568399, "creation_date": 1501568399, "answer_id": 45430272, "question_id": 45430203, "link": "https://stackoverflow.com/questions/45430203/what-does-the-code-val-jsonobj-json-as-jsonobject-mean-in-kotlin/45430272#45430272", "title": "What does the code &quot;val jsonObj = json as JsonObject&quot; mean in Kotlin?", "body": "<p>Your <code>json</code> is being casted to <code>JsonObject</code> . <code>as</code> is a cast keyword in Kotlin.</p>\n\n<p><code>as</code> provides us with unsafe cast. That is an exception will be thrown if the cast isn't possible.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/typecasts.html#unsafe-cast-operator\" rel=\"nofollow noreferrer\">Further reading</a></p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 280, "favorite_count": 0, "accepted_answer_id": 45430272, "answer_count": 2, "score": -1, "last_activity_date": 1501571386, "creation_date": 1501568129, "last_edit_date": 1501569141, "question_id": 45430203, "link": "https://stackoverflow.com/questions/45430203/what-does-the-code-val-jsonobj-json-as-jsonobject-mean-in-kotlin", "title": "What does the code &quot;val jsonObj = json as JsonObject&quot; mean in Kotlin?", "body": "<p>The following sample code is from a webpage, could you tell me what the code <code>val jsonObj = json as JsonObject</code> mean? Is the word <code>as</code> keyword of Kotlin?</p>\n\n<p>Thanks!</p>\n\n<pre><code>open class WeatherDeserializer : JsonDeserializer&lt;WeatherObject&gt; {\n\n    override fun deserialize(json: JsonElement?, typeOfT: Type?, context: JsonDeserializationContext?): WeatherObject? {\n        val jsonObj = json as JsonObject\n\n        val wheather = WeatherObject()\n        val wind = WindObject()\n\n        val jsonWeatherArray = jsonObj.getAsJsonArray(\"weather\").get(0)\n        val jsonMainObj = jsonObj.getAsJsonObject(\"main\")\n        val jsonWindObj = jsonObj.getAsJsonObject(\"wind\")\n\n        wheather.main = jsonWeatherArray.asJsonObject.get(\"main\").asString\n        wheather.description = jsonWeatherArray.asJsonObject.get(\"description\").asString\n        wheather.temp = jsonMainObj.get(\"temp\").asFloat\n        wheather.tempMax = jsonMainObj.get(\"temp_max\").asFloat\n        wheather.tempMin = jsonMainObj.get(\"temp_min\").asFloat\n        wheather.humidity = jsonMainObj.get(\"humidity\").asInt\n        wind.speed = jsonWindObj.get(\"speed\").asFloat\n        wind.deg = jsonWindObj.get(\"deg\").asFloat\n        wheather.wind = wind\n\n        return wheather\n\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "visible"], "answers": [{"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 1, "last_activity_date": 1501565174, "creation_date": 1501565174, "answer_id": 45429572, "question_id": 45428237, "link": "https://stackoverflow.com/questions/45428237/how-to-force-some-method-to-be-visible-only-to-kotlin/45429572#45429572", "title": "How to force some method to be visible only to kotlin", "body": "<p>Some methods in Kotlin stdlib are marked <code>inline</code> with the <code>@kotlin.internal.InlineOnly</code> annotation. That makes the compiler to inline them into the kotlin code without generating corresponding methods in JVM classes.</p>\n\n<p>This trick is used for reducing method count on stdlib. This is a dangerous solution and can cause problems with separate compilation when used incorrectly.</p>\n\n<p>The catch: the <code>@kotlin.internal.InlineOnly</code> annotation is internal and can be used only in the standard library. I know of no plans of releasing it into the public API.</p>\n\n<p>TL;DR: You can do it, but only if you are contributing to Kotlin stdlib</p>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 7, "last_activity_date": 1501578653, "last_edit_date": 1501578653, "creation_date": 1501577204, "answer_id": 45433077, "question_id": 45428237, "link": "https://stackoverflow.com/questions/45428237/how-to-force-some-method-to-be-visible-only-to-kotlin/45433077#45433077", "title": "How to force some method to be visible only to kotlin", "body": "<p>You can achieve exactly what you want by using the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-jvm-synthetic/index.html\" rel=\"noreferrer\"><code>@JvmSynthetic</code></a> annotation. It marks the element with the <a href=\"http://javapapers.com/core-java/java-synthetic-class-method-field/\" rel=\"noreferrer\"><code>synthetic</code> flag</a> in the JVM bytecode, and its usage becomes an error in Java sources (not quite sure about other JVM languages, needs checking, but likely it will work as well):</p>\n\n<pre><code>@JvmSynthetic\nfun f() { /*...*/ }\n</code></pre>\n\n<p>The marked element can still be used in Kotlin normally.</p>\n\n<p>Unfortunately, <code>@JvmSynthetic</code> cannot be used to mark a class (it has no <code>CLASS</code> target).</p>\n\n<p>See more:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/41022275/whats-the-intended-use-of-jvmsynthetic-in-kotlin\">What's the intended use of @JvmSynthetic in Kotlin?</a> (no answer there, but the effect is described in the question)</p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/41892715/inline-function-cannot-access-non-public-api-publishedapi-vs-suppress-vs-jvm\">Inline function cannot access non-public-API: @PublishedApi vs @Suppress vs @JvmSynthetic</a>, about how it can be used to hide effectively public internal members.</p></li>\n</ul>\n"}], "owner": {"reputation": 243, "user_id": 8392073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12cc6534b89c1abd8dcd5b8e04964abc?s=128&d=identicon&r=PG&f=1", "display_name": "like", "link": "https://stackoverflow.com/users/8392073/like"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 426, "favorite_count": 0, "accepted_answer_id": 45433077, "answer_count": 2, "score": 5, "last_activity_date": 1501645846, "creation_date": 1501556252, "last_edit_date": 1501645846, "question_id": 45428237, "link": "https://stackoverflow.com/questions/45428237/how-to-force-some-method-to-be-visible-only-to-kotlin", "title": "How to force some method to be visible only to kotlin", "body": "<p>I want some method to be visible only to kotlin code and not to Java code.</p>\n\n<p>For example, here is a method <code>fun method(){}</code> that can only be called in kotlin code and cannot be called in Java code.</p>\n"}, {"tags": ["android", "class", "arraylist", "kotlin", "parcelable"], "comments": [{"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1501549150, "post_id": 45427184, "comment_id": 77816024, "body": "where are you stuck?"}, {"owner": {"reputation": 1956, "user_id": 2027146, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/mrrIp.jpg?s=128&g=1", "display_name": "Milk", "link": "https://stackoverflow.com/users/2027146/milk"}, "edited": false, "score": 0, "creation_date": 1501552804, "post_id": 45427184, "comment_id": 77816870, "body": "Android Studio has a feature where you can paste Java code into a Kotlin class and it will convert it to Kotlin. This might be enough to help you solve the issue"}, {"owner": {"reputation": 237, "user_id": 4922635, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10204774870991346/picture?type=large", "display_name": "Ryan Dailey", "link": "https://stackoverflow.com/users/4922635/ryan-dailey"}, "edited": false, "score": 0, "creation_date": 1501552853, "post_id": 45427184, "comment_id": 77816887, "body": "I don&#39;t know what to do or what code to use. There is no Kotlin tutorials on how to do this"}, {"owner": {"reputation": 237, "user_id": 4922635, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10204774870991346/picture?type=large", "display_name": "Ryan Dailey", "link": "https://stackoverflow.com/users/4922635/ryan-dailey"}, "edited": false, "score": 0, "creation_date": 1501610095, "post_id": 45427184, "comment_id": 77850123, "body": "The problem is that I want it be be in Kotlin, not Java, so it is not a duplicate of the link above."}, {"owner": {"reputation": 3284, "user_id": 5582307, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NNBFy.jpg?s=128&g=1", "display_name": "David Corral", "link": "https://stackoverflow.com/users/5582307/david-corral"}, "edited": false, "score": 0, "creation_date": 1501612273, "post_id": 45427184, "comment_id": 77851384, "body": "Can you add some code? For example: the data that you want to transfer between activities?"}, {"owner": {"reputation": 237, "user_id": 4922635, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10204774870991346/picture?type=large", "display_name": "Ryan Dailey", "link": "https://stackoverflow.com/users/4922635/ryan-dailey"}, "edited": false, "score": 0, "creation_date": 1501632885, "post_id": 45427184, "comment_id": 77860149, "body": "Okay code has been added."}], "answers": [{"comments": [{"owner": {"reputation": 237, "user_id": 4922635, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10204774870991346/picture?type=large", "display_name": "Ryan Dailey", "link": "https://stackoverflow.com/users/4922635/ryan-dailey"}, "edited": false, "score": 0, "creation_date": 1501610011, "post_id": 45430246, "comment_id": 77850061, "body": "This is in Java, I am using Kotlin"}, {"owner": {"reputation": 338, "user_id": 5362726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8e0J2.jpg?s=128&g=1", "display_name": "Abhinash", "link": "https://stackoverflow.com/users/5362726/abhinash"}, "reply_to_user": {"reputation": 237, "user_id": 4922635, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10204774870991346/picture?type=large", "display_name": "Ryan Dailey", "link": "https://stackoverflow.com/users/4922635/ryan-dailey"}, "edited": false, "score": 2, "creation_date": 1501665849, "post_id": 45430246, "comment_id": 77873793, "body": "I have changed it to Kotlin. Hope this helps"}, {"owner": {"reputation": 237, "user_id": 4922635, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10204774870991346/picture?type=large", "display_name": "Ryan Dailey", "link": "https://stackoverflow.com/users/4922635/ryan-dailey"}, "edited": false, "score": 0, "creation_date": 1501686087, "post_id": 45430246, "comment_id": 77889566, "body": "Thanks! This worked and helped a lot."}], "tags": [], "owner": {"reputation": 338, "user_id": 5362726, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8e0J2.jpg?s=128&g=1", "display_name": "Abhinash", "link": "https://stackoverflow.com/users/5362726/abhinash"}, "is_accepted": true, "score": 11, "last_activity_date": 1501665834, "last_edit_date": 1501665834, "creation_date": 1501568321, "answer_id": 45430246, "question_id": 45427184, "link": "https://stackoverflow.com/questions/45427184/kotlin-passing-listarray-to-another-activity-using-parcelable/45430246#45430246", "title": "Kotlin Passing ListArray to another Activity using Parcelable", "body": "<p>Use something like this...</p>\n\n<pre><code>   class Series() : Parcelable {\n  private var name: String? = null\n  private var numOfSeason: Int = 0\n  private var numOfEpisode: Int = 0\n\n  constructor(parcel: Parcel) : this() {\n    val data = arrayOfNulls&lt;String&gt;(3)\n    parcel.readStringArray(data)\n    this.name = data[0]\n    this.numOfSeason = Integer.parseInt(data[1])\n    this.numOfEpisode = Integer.parseInt(data[2])\n  }\n\n\n  override fun writeToParcel(parcel: Parcel, flags: Int) {\n    parcel.writeString(name);\n    parcel.writeInt(numOfSeason);\n    parcel.writeInt(numOfEpisode);\n  }\n\n  private fun readFromParcel(parcel: Parcel){\n    name = parcel.readString()\n    numOfSeason = parcel.readInt()\n    numOfEpisode = parcel.readInt()\n  }\n  override fun describeContents(): Int {\n    return 0\n  }\n\n  companion object CREATOR : Creator&lt;Series&gt; {\n    override fun createFromParcel(parcel: Parcel): Series {\n      return Series(parcel)\n    }\n\n    override fun newArray(size: Int): Array&lt;Series?&gt; {\n      return arrayOfNulls(size)\n    }\n  }\n\n}\n</code></pre>\n\n<p>and then in your Activity</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\nsuper.onCreate(savedInstanceState)\nsetContentView(R.layout.main_activity)\n\n        val i = Intent(this, SecondActivity::class.java)\n\nval testing = ArrayList&lt;testparcel&gt;()\n\ni.putParcelableArrayListExtra(\"extraextra\", testing)\nstartActivity(i)\n}\n\nclass SecondActivity :Activity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n       super.onCreate(savedInstanceState)\n        setContentView(R.layout.secondActivty_activity)\n\nval testing = this.intent.getParcelableArrayListExtra&lt;Parcelable&gt;(\"extraextra\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 237, "user_id": 4922635, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10204774870991346/picture?type=large", "display_name": "Ryan Dailey", "link": "https://stackoverflow.com/users/4922635/ryan-dailey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7493, "favorite_count": 1, "closed_date": 1501648714, "accepted_answer_id": 45430246, "answer_count": 1, "score": 1, "last_activity_date": 1501665834, "creation_date": 1501547241, "last_edit_date": 1501634141, "question_id": 45427184, "link": "https://stackoverflow.com/questions/45427184/kotlin-passing-listarray-to-another-activity-using-parcelable", "closed_reason": "Duplicate", "title": "Kotlin Passing ListArray to another Activity using Parcelable", "body": "<p>I have a custom class filled with information of a User. I use an ArrayList to hold all the User class data. I would like to pass the array to another activity where the it can be read and modified. Since the array could be large, I need this process to be done as efficiently and fast as possible, which is why I choose to use Parcelable instead of Serializable.</p>\n\n<p>I am having trouble doing this using Kotlin. There are lots of Java tutorials but none are in Kotlin, which is what makes this question different then all the others. Can someone please provide and explain the code in Kotlin on how this can be achieved? </p>\n\n<p>This is what I have so far:</p>\n\n<pre><code>constructor(`in`:Parcel) {\n    CollegeName = `in`.readString()\n}\n\noverride fun describeContents(): Int {\n    return 0\n}\n\noverride fun writeToParcel(dest: Parcel?, flags: Int) {\n\n}\n\nprivate fun readFromParcel(`in`:Parcel) {\n    CollegeName = `in`.readString()\n}\n\ncompanion object {\n    @JvmField final val CREATOR: Parcelable.Creator&lt;College&gt; = object: Parcelable.Creator&lt;College&gt; {\n\n        override fun createFromParcel(source: Parcel): College {\n            return College(source)\n        }\n\n        override fun newArray(size: Int): Array&lt;College?&gt; {\n            return arrayOfNulls&lt;College&gt;(size)\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "firebase", "kotlin"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1501541227, "post_id": 45426150, "comment_id": 77814179, "body": "Well, are you compiling auth?"}, {"owner": {"reputation": 51, "user_id": 4450367, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ab7304ed6e4dd86f42055a4a7786db0c?s=128&d=identicon&r=PG&f=1", "display_name": "Abdu Hawi", "link": "https://stackoverflow.com/users/4450367/abdu-hawi"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1501543099, "post_id": 45426150, "comment_id": 77814651, "body": "yes, I compile it"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 4450367, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ab7304ed6e4dd86f42055a4a7786db0c?s=128&d=identicon&r=PG&f=1", "display_name": "Abdu Hawi", "link": "https://stackoverflow.com/users/4450367/abdu-hawi"}, "edited": false, "score": 0, "creation_date": 1501543275, "post_id": 45426390, "comment_id": 77814689, "body": "I use this import"}, {"owner": {"reputation": 51, "user_id": 4450367, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ab7304ed6e4dd86f42055a4a7786db0c?s=128&d=identicon&r=PG&f=1", "display_name": "Abdu Hawi", "link": "https://stackoverflow.com/users/4450367/abdu-hawi"}, "edited": false, "score": 0, "creation_date": 1501543611, "post_id": 45426390, "comment_id": 77814769, "body": "I use this import. when I use createUserWithEmailAndPassword function and make task. the emulator send to me ( Failed to post notification on channel &quot;null&quot; See log for more detail). in log  I have this message (1-W/DynamiteModule: Local module descriptor class for com.google.firebase.auth not found. 2-W/Notification: Use of stream types is deprecated for operations other than volume control. 3-W/Notification: See the documentation of setSound() for what to use instead with android.media.AudioAttributes to qualify your playback use case).also in firebase console I enable email &amp; password Auth"}, {"owner": {"reputation": 1, "user_id": 8396532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5044a208a1ba54902a08680854f484ff?s=128&d=identicon&r=PG", "display_name": "user8396532", "link": "https://stackoverflow.com/users/8396532/user8396532"}, "reply_to_user": {"reputation": 51, "user_id": 4450367, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ab7304ed6e4dd86f42055a4a7786db0c?s=128&d=identicon&r=PG&f=1", "display_name": "Abdu Hawi", "link": "https://stackoverflow.com/users/4450367/abdu-hawi"}, "edited": false, "score": 0, "creation_date": 1501551534, "post_id": 45426390, "comment_id": 77816602, "body": "Have you modified your app gradle setting to use firebase?  <a href=\"https://firebase.google.com/support/guides/firebase-android\" rel=\"nofollow noreferrer\">firebase.google.com/support/guides/firebase-android</a>"}], "tags": [], "owner": {"reputation": 1, "user_id": 8396532, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5044a208a1ba54902a08680854f484ff?s=128&d=identicon&r=PG", "display_name": "user8396532", "link": "https://stackoverflow.com/users/8396532/user8396532"}, "is_accepted": false, "score": 0, "last_activity_date": 1501541209, "last_edit_date": 1501541209, "creation_date": 1501541008, "answer_id": 45426390, "question_id": 45426150, "link": "https://stackoverflow.com/questions/45426150/unable-to-import-firebaseauth/45426390#45426390", "title": "Unable to import FirebaseAuth", "body": "<p><code>Import firebaseauth</code> is for ios code, for android use</p>\n\n<pre><code>import com.google.firebase.auth.FirebaseAuth\n</code></pre>\n\n<p>Or move your cursor to word that has red underline until it show bulb, left click on it and choose import menu, it will automatically import the package for you.</p>\n"}], "owner": {"reputation": 51, "user_id": 4450367, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ab7304ed6e4dd86f42055a4a7786db0c?s=128&d=identicon&r=PG&f=1", "display_name": "Abdu Hawi", "link": "https://stackoverflow.com/users/4450367/abdu-hawi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2859, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1530036247, "creation_date": 1501539606, "last_edit_date": 1501541171, "question_id": 45426150, "link": "https://stackoverflow.com/questions/45426150/unable-to-import-firebaseauth", "title": "Unable to import FirebaseAuth", "body": "<p><a href=\"https://i.stack.imgur.com/VosPL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VosPL.png\" alt=\"screenshot from Android Studio\"></a></p>\n\n<p>I tried to declare a class of <code>FirebaseAuth</code>.</p>\n\n<p>The assistant of Firebase in Android Studio is giving me:</p>\n\n<ol>\n<li>Connect your app to Firebase -> connected</li>\n<li>Add Firebase Authentication to your app -> Dependencies set up coorectly</li>\n</ol>\n\n<p>When I declare an instance of <code>FirebaseAuth</code>:</p>\n\n<pre><code>import FirebaseAuth\n</code></pre>\n\n<p>It causes error in this line. I try to clean and rebuild the project, nothing changes.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 0, "creation_date": 1501533930, "post_id": 45424973, "comment_id": 77811388, "body": "Thanks, that helps a lot!"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 0, "creation_date": 1501533983, "post_id": 45424973, "comment_id": 77811409, "body": "@Renato Not at all. glad it helped you."}, {"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 1, "creation_date": 1501534051, "post_id": 45424973, "comment_id": 77811433, "body": "In case anyone uses this, you can suppress the warning with <code>@Suppress(&quot;PLATFORM_CLASS_MAPPED_TO_KOTLIN&quot;)</code>"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 0, "creation_date": 1501534205, "post_id": 45424973, "comment_id": 77811498, "body": "@Renato yeah. I want to tell OP that the compiler will produce a warning. :)"}, {"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 1, "creation_date": 1501534494, "post_id": 45424973, "comment_id": 77811632, "body": "In case anyone wanted to know: Java split is much faster than Kotlin&#39;s if you use it millions of times (I was splitting over a million lines and after changing  to Java split, it did the job almost twice as fast). The Pattern solution is much slower even than the Kotlin&#39;s split."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 0, "creation_date": 1501534571, "post_id": 45424973, "comment_id": 77811663, "body": "@Renato I agree on. because <code>java.lang.String#split</code> has optimized for this internally. however, it is an off-topic in this question."}, {"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 1, "creation_date": 1501535131, "post_id": 45424973, "comment_id": 77811896, "body": "It&#39;s not off-topic. The only reason you would do this is for performance, so it&#39;s good to know it pays off."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 1, "creation_date": 1501535243, "post_id": 45424973, "comment_id": 77811946, "body": "@Renato I admit that <code>Pattern#split</code> is an optional way, I&#39;ll fix my answer. thanks for your feedback, sir. How about it now?"}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 4, "last_activity_date": 1501535314, "last_edit_date": 1501535314, "creation_date": 1501533880, "answer_id": 45424973, "question_id": 45424811, "link": "https://stackoverflow.com/questions/45424811/how-can-i-use-a-java-string-method-split-directly-from-kotlin-source/45424973#45424973", "title": "How can I use a Java String method (split) directly from Kotlin source?", "body": "<p>You can cast a <code>kotlin.String</code> to a <code>java.lang.String</code> then use the <code>java.lang.String#split</code> since <code>kotlin.String</code> will be <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">mapped</a> to <code>java.lang.String</code> , but you'll get a warnings. for example:</p>\n\n<pre><code>//                               v--- PLATFORM_CLASS_MAPPED_TO_KOTLIN warnings\nval parts: Array&lt;String&gt; = (line as java.lang.String).split(\"\\t\")\n</code></pre>\n\n<p>You also can use the <code>java.util.regex.Pattern#split</code> instead, as @Renato metioned it will slower than <code>java.lang.String#split</code> in some situations. for example:</p>\n\n<pre><code>val parts: Array&lt;String&gt; = Pattern.compile(\"\\t\").split(line, 0)\n</code></pre>\n\n<p>But be careful, <code>kotlin.String#split</code>'s behavior is different with <code>java.lang.String#split</code> , for example:</p>\n\n<pre><code>val line: String = \"example\\tline\\t\"\n\n//   v--- [\"example\", \"line\"]\nval parts1: Array&lt;String&gt; = Pattern.compile(\"\\t\").split(line, 0)\n\n//   v--- [\"example\", \"line\", \"\"]\nval parts2 = line.split(\"\\t\".toRegex())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1501533981, "creation_date": 1501533981, "answer_id": 45425000, "question_id": 45424811, "link": "https://stackoverflow.com/questions/45424811/how-can-i-use-a-java-string-method-split-directly-from-kotlin-source/45425000#45425000", "title": "How can I use a Java String method (split) directly from Kotlin source?", "body": "<p>You can do this:</p>\n\n<pre><code>(line as java.lang.String).split(delimiter)\n</code></pre>\n\n<p>But it's not recommended to not use the <code>kotlin.String</code> as the compiler might tell you.</p>\n"}], "owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1013, "favorite_count": 0, "accepted_answer_id": 45424973, "answer_count": 2, "score": 3, "last_activity_date": 1501535314, "creation_date": 1501533200, "last_edit_date": 1501535207, "question_id": 45424811, "link": "https://stackoverflow.com/questions/45424811/how-can-i-use-a-java-string-method-split-directly-from-kotlin-source", "title": "How can I use a Java String method (split) directly from Kotlin source?", "body": "<p>Doing some profiling, it seems my bottleneck is the Kotlin <code>kotlin.CharSequence.split()</code> extension function.</p>\n\n<p>My code just does something like this:</p>\n\n<pre><code>val delimiter = '\\t'\nval line = \"example\\tline\"\nval parts = line.split(delimiter)\n</code></pre>\n\n<p>As you might notice, <code>parts</code> is a <code>List&lt;String&gt;</code>.</p>\n\n<p>I wanted to benchmark using Java's <code>split</code> directly, which returns a <code>String[]</code> and might be more efficient.</p>\n\n<p>How can I call Java's <code>String::split(String)</code> directly from Kotlin source?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 18360, "user_id": 2911458, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3a6060bc7ace07fa75791cd5dac2d46a?s=128&d=identicon&r=PG", "display_name": "stkent", "link": "https://stackoverflow.com/users/2911458/stkent"}, "edited": false, "score": 0, "creation_date": 1501525467, "post_id": 45422761, "comment_id": 77806908, "body": "This might inspire you: <a href=\"https://developer.android.com/guide/topics/ui/themes.html#Inheritance\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/ui/themes.html#Inheritanc&zwnj;&#8203;e</a>"}, {"owner": {"reputation": 1315, "user_id": 8088208, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-g6-IGTROys4/AAAAAAAAAAI/AAAAAAAABe4/PElk_AzW6Gg/photo.jpg?sz=128", "display_name": "UmarZaii", "link": "https://stackoverflow.com/users/8088208/umarzaii"}, "edited": false, "score": 0, "creation_date": 1501525509, "post_id": 45422761, "comment_id": 77806930, "body": "Can you post your styles.xml?"}, {"owner": {"reputation": 3301, "user_id": 2819928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a20a83999465ed80bfed990713079a3?s=128&d=identicon&r=PG", "display_name": "HenriqueMS", "link": "https://stackoverflow.com/users/2819928/henriquems"}, "edited": false, "score": 0, "creation_date": 1501525579, "post_id": 45422761, "comment_id": 77806983, "body": "you can define a new style that defines its parent as the common style in your app and in it redefine colorPrimaryDark. Use this new style for this specific activity"}], "answers": [{"comments": [{"owner": {"reputation": 4554, "user_id": 5670752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3TSWf.jpg?s=128&g=1", "display_name": "Taslim Oseni", "link": "https://stackoverflow.com/users/5670752/taslim-oseni"}, "edited": false, "score": 0, "creation_date": 1537922701, "post_id": 45422845, "comment_id": 91957127, "body": "What&#39;s the superclass of the getWindow() method? It&#39;s in red here."}], "tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 0, "last_activity_date": 1501525962, "last_edit_date": 1501525962, "creation_date": 1501525608, "answer_id": 45422845, "question_id": 45422761, "link": "https://stackoverflow.com/questions/45422761/how-can-i-change-colorprimarydark-for-just-one-activity/45422845#45422845", "title": "How can I change ColorPrimaryDark for just one activity?", "body": "<p>Add the below code in your activity to set the status bar color programmatically:</p>\n\n<pre><code>getWindow.setStatusBarColor(getResources().getColor(R.color.your_color));\n</code></pre>\n\n<p>Also, you can set the status bar color by writing theme in <code>styles.xml</code> file:</p>\n\n<pre><code>&lt;style name=\"YourActivityTheme\" parent=\"AppTheme\"&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/yourColor&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>Then in the manifest file, you have to add the below code:</p>\n\n<pre><code>&lt;activity android:name=\"packageName.YourActivity\"\n    android:theme=\"@style/YourActivityTheme\"/&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "is_accepted": false, "score": 9, "last_activity_date": 1501525629, "creation_date": 1501525629, "answer_id": 45422852, "question_id": 45422761, "link": "https://stackoverflow.com/questions/45422761/how-can-i-change-colorprimarydark-for-just-one-activity/45422852#45422852", "title": "How can I change ColorPrimaryDark for just one activity?", "body": "<p><a href=\"https://developer.android.com/guide/topics/ui/themes.html\" rel=\"noreferrer\">Create a theme</a> specifically for that <code>Activity</code>.</p>\n\n<pre><code>&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/gray&lt;/item&gt;\n    &lt;!-- Your application theme --&gt;\n&lt;/style&gt;\n\n&lt;style name=\"BlueActivityTheme\" parent=\"AppTheme\"&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/blue&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>Then in your manifest, apply the theme to only that <code>Activity</code>:</p>\n\n<pre><code>&lt;activity android:name=\"com.example.app.BlueActivity\"\n    android:theme=\"@style/BlueActivityTheme\"/&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3309, "user_id": 7690376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VfvVx.jpg?s=128&g=1", "display_name": "Lluis Felisart", "link": "https://stackoverflow.com/users/7690376/lluis-felisart"}, "is_accepted": false, "score": 0, "last_activity_date": 1501526521, "last_edit_date": 1501526521, "creation_date": 1501526116, "answer_id": 45423004, "question_id": 45422761, "link": "https://stackoverflow.com/questions/45422761/how-can-i-change-colorprimarydark-for-just-one-activity/45423004#45423004", "title": "How can I change ColorPrimaryDark for just one activity?", "body": "<p>In /res/value/styles.xml you can define as many styles as you want, then on the root item of your activity layout xml you can use: </p>\n\n<pre><code>&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n style=\"@style/MySecondStyle\"\n ....\n</code></pre>\n\n<p>Style can be assigned in the manifest too.</p>\n\n<p>Even you can change style for only one View or one ViewGroup, using theme attribute, for example:</p>\n\n<pre><code> &lt;TextView       \n        android:theme=\"@style/MyThirdStyle\"\n        .....\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5101, "user_id": 153586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3bc43786cfcbc75521a28870e76759c1?s=128&d=identicon&r=PG", "display_name": "Sankar", "link": "https://stackoverflow.com/users/153586/sankar"}, "edited": false, "score": 0, "creation_date": 1521269257, "post_id": 45423048, "comment_id": 85668278, "body": "I am writing an app for with minSdkVersion 19 and targetSdkVersion 26. There is no &quot;android:theme&quot; property for the activity element in the manifest.xml. Are there any workarounds ?"}, {"owner": {"reputation": 5101, "user_id": 153586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3bc43786cfcbc75521a28870e76759c1?s=128&d=identicon&r=PG", "display_name": "Sankar", "link": "https://stackoverflow.com/users/153586/sankar"}, "edited": false, "score": 1, "creation_date": 1521274798, "post_id": 45423048, "comment_id": 85669413, "body": "Okay. Even though the IDE complained that there was no &quot;android:theme&quot; it worked fine in the app. Thanks."}], "tags": [], "owner": {"reputation": 1315, "user_id": 8088208, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-g6-IGTROys4/AAAAAAAAAAI/AAAAAAAABe4/PElk_AzW6Gg/photo.jpg?sz=128", "display_name": "UmarZaii", "link": "https://stackoverflow.com/users/8088208/umarzaii"}, "is_accepted": false, "score": 2, "last_activity_date": 1501526243, "creation_date": 1501526243, "answer_id": 45423048, "question_id": 45422761, "link": "https://stackoverflow.com/questions/45422761/how-can-i-change-colorprimarydark-for-just-one-activity/45423048#45423048", "title": "How can I change ColorPrimaryDark for just one activity?", "body": "<p>You have to create your own theme. Notice that I hace a new theme in <strong>styles.xml</strong> named MyTheme and I set the <code>colorPrimaryDark</code> to <code>lightGreen</code>.</p>\n\n<pre><code>&lt;resources&gt;\n\n    &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"MyTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/lightGreen&lt;/item&gt;\n    &lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre>\n\n<p>Now in <strong>manifest.xml</strong>, you have to set your theme on <code>activity</code> tag. Do not set your theme in <code>application</code> tag.</p>\n\n<pre><code>&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\" &gt;\n\n    &lt;activity android:name=\".MainActivity\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity android:name=\".OtherActivity1\"\n        android:theme=\"@style/MyTheme\" /&gt;\n    &lt;activity android:name=\".OtherActivity2\"\n        android:theme=\"@style/AppTheme\" /&gt;\n    &lt;activity android:name=\".OtherActivity3\"\n        android:theme=\"@style/AppTheme\" /&gt;\n\n&lt;/application&gt;\n</code></pre>\n\n<p>Now, as you can see I have set custom theme which is <code>MyTheme</code> on <code>OtherActivity1</code>. For the the rest of the activity I set the theme as the default theme. Hope it helps.</p>\n"}], "owner": {"reputation": 81, "user_id": 8382015, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/65d199d20a6a3a075237cd01efcf3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Norman Wildermuth", "link": "https://stackoverflow.com/users/8382015/norman-wildermuth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5373, "favorite_count": 2, "answer_count": 4, "score": 4, "last_activity_date": 1501527709, "creation_date": 1501525254, "last_edit_date": 1501527709, "question_id": 45422761, "link": "https://stackoverflow.com/questions/45422761/how-can-i-change-colorprimarydark-for-just-one-activity", "title": "How can I change ColorPrimaryDark for just one activity?", "body": "<p>I would like to change the color of ColorPrimaryDark for just one activity. How can I do this?</p>\n\n<p>I think go to the styles.xml and change this:</p>\n\n<pre><code>&lt;item name=\"colorPrimaryDark\"&gt;@color/blue&lt;/item&gt;\n</code></pre>\n\n<p>But the problem is if I do this I change the color of all my activities and I just need to change the color of one activity.</p>\n\n<p>Thank you for your help!</p>\n\n<p>To be specific, this color is the color of the bar at the top of the app I mean above of <code>ActionBar</code>. I use Kotlin to do this.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 612, "user_id": 4228147, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/1502913289/picture?type=large", "display_name": "Jacob Boyd", "link": "https://stackoverflow.com/users/4228147/jacob-boyd"}, "edited": false, "score": 0, "creation_date": 1501523671, "post_id": 45422290, "comment_id": 77805904, "body": "as long as <code>i</code> is casted to be of type <code>Int</code> it will be a <code>Int</code> you can&#39;t divide a <code>Int</code> by a <code>Double</code>, etc --I should add I don&#39;t have a lot of experience with Kotlin, like one or two simple &quot;projects&quot; to play around with it a week or two ago, but that is the case for most all strongly typed languages."}], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1501524445, "post_id": 45422382, "comment_id": 77806354, "body": "<code>(i &#47; 3).toInt() == (i &#47; 3)</code> is always true if <code>i</code> is an <code>Int</code>, and it&#39;s invalid code if it&#39;s not."}], "tags": [], "owner": {"reputation": 6753, "user_id": 5294091, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/m7giV.png?s=128&g=1", "display_name": "Avijit Karmakar", "link": "https://stackoverflow.com/users/5294091/avijit-karmakar"}, "is_accepted": false, "score": 1, "last_activity_date": 1501524953, "last_edit_date": 1501524953, "creation_date": 1501523786, "answer_id": 45422382, "question_id": 45422290, "link": "https://stackoverflow.com/questions/45422290/checking-if-the-output-of-a-calculation-is-a-whole-number/45422382#45422382", "title": "Checking if the output of a calculation is a whole number", "body": "<p><code>is</code> operator in Kotlin is used to check the instance of the object.</p>\n\n<p>Here you have written <code>(i / 3) is Int</code> means:</p>\n\n<p>You are checking (i / 3) is an instance of Int or not.</p>\n\n<p>In Kotlin, you have to write the below code to check a number is a whole number or not.</p>\n\n<p>If <strong>i</strong> is an int</p>\n\n<pre><code>if((i / 3).toInt() == (i / 3)) {\n    print(\"Whole Number\")\n}\n</code></pre>\n\n<p>otherwise you can also use the below code:</p>\n\n<pre><code>if((i / 3).toInt().compareTo(i / 3) == 0) {\n    print(\"Whole Number\")\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "edited": false, "score": 0, "creation_date": 1501525466, "post_id": 45422616, "comment_id": 77806907, "body": "I read the question and the other answer three times and couldn&#39;t belief nobody was giving <i>this</i> answer. Was about to start typing when I saw your attempt ;-)"}, {"owner": {"reputation": 31, "user_id": 8395560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10bca7c92bca859fa962744de5cfd978?s=128&d=identicon&r=PG&f=1", "display_name": "tplc10", "link": "https://stackoverflow.com/users/8395560/tplc10"}, "edited": false, "score": 0, "creation_date": 1501528009, "post_id": 45422616, "comment_id": 77808246, "body": "Is there any reason with this <a href=\"https://pastebin.com/PmhnsHhX\" rel=\"nofollow noreferrer\">code</a>, the second i variable has an unresolved reference error. How would I fix this?"}, {"owner": {"reputation": 8164, "user_id": 5593959, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/9StDn.jpg?s=128&g=1", "display_name": "Dima Rostopira", "link": "https://stackoverflow.com/users/5593959/dima-rostopira"}, "edited": false, "score": 1, "creation_date": 1501531538, "post_id": 45422616, "comment_id": 77810129, "body": "In Kotlin I would prefer to write <code>a.rem(b)</code> instead of <code>a % b</code>. This makes code more readable"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 1, "creation_date": 1501551610, "post_id": 45422616, "comment_id": 77816621, "body": "<code>d.compareTo(d.toInt()) == 0</code> gives incorrect result if <code>d</code> is outside of <code>Int</code> range."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1575035055, "post_id": 45422616, "comment_id": 104443616, "body": "Thanks for <code>d % 1.0 == 0.0</code>. But better is <code>Math.abs(d) % 1.0 &lt; 1e-10</code>."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 10, "last_activity_date": 1501589825, "last_edit_date": 1501589825, "creation_date": 1501524723, "answer_id": 45422616, "question_id": 45422290, "link": "https://stackoverflow.com/questions/45422290/checking-if-the-output-of-a-calculation-is-a-whole-number/45422616#45422616", "title": "Checking if the output of a calculation is a whole number", "body": "<p>An easy way to check whether <code>a / b</code> is a whole number is to check the remainder for being zero: <code>a % b == 0</code>.</p>\n\n<p>Note, however, that if both operands of <code>/</code> are of an integral type (<code>Short</code>, <code>Int</code>, <code>Long</code>), then the division result is always an integer number (the fractional part is just dropped), so, if you have a <code>val i: Int = 2</code> then <code>i % 3 == 1</code> but  <code>i / 3 == 0</code>. To use fractional division, make at least one of the operands fractional like <code>i / 3.0</code> or <code>i.toDouble / 3</code>.</p>\n\n<p>In case you want to check that a <code>Double</code> is whole, you can use <code>d % 1.0 == 0.0</code> or check that <code>Math.floor(d) == d</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 1, "creation_date": 1501551683, "post_id": 45425783, "comment_id": 77816638, "body": "This gives incorrect result if <code>value</code> is outside of <code>Int</code> range."}, {"owner": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1501608000, "post_id": 45425783, "comment_id": 77848934, "body": "If you&#39;re working with numbers that large, it will also work changing <code>toInt</code> to <code>toLong</code>."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1501611239, "post_id": 45425783, "comment_id": 77850759, "body": "<code>Long</code> has limited range bounds too. See the general solution which is not subject to this problem in the @hotkey&#39;s answer."}, {"owner": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1501611842, "post_id": 45425783, "comment_id": 77851115, "body": "Yeah I agree that&#39;s a better answer.  I was just offering a solution that works with numbers up to 2.1 billion (or 9.2 quintillion if switch to <code>Long</code>)."}], "tags": [], "owner": {"reputation": 4233, "user_id": 6510523, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-d58ISqzIb4k/AAAAAAAAAAI/AAAAAAAADFo/4rh4L8K0zS0/photo.jpg?sz=128", "display_name": "Brett Beatty", "link": "https://stackoverflow.com/users/6510523/brett-beatty"}, "is_accepted": false, "score": 4, "last_activity_date": 1501537522, "creation_date": 1501537522, "answer_id": 45425783, "question_id": 45422290, "link": "https://stackoverflow.com/questions/45422290/checking-if-the-output-of-a-calculation-is-a-whole-number/45425783#45425783", "title": "Checking if the output of a calculation is a whole number", "body": "<p>One way to check whether or not a <code>Double</code> is a whole number without knowing the calculation type (this works for more than just division) would be to subtract the integer part to get the fraction part and compare to zero:</p>\n\n<pre><code>fun isWhole(value: Double):Boolean {\n    return value - value.toInt() == 0.0\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 6628335, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3kZre.png?s=128&g=1", "display_name": "Mohamed Medhat", "link": "https://stackoverflow.com/users/6628335/mohamed-medhat"}, "is_accepted": false, "score": 3, "last_activity_date": 1592489066, "last_edit_date": 1592489066, "creation_date": 1561897593, "answer_id": 56824840, "question_id": 45422290, "link": "https://stackoverflow.com/questions/45422290/checking-if-the-output-of-a-calculation-is-a-whole-number/56824840#56824840", "title": "Checking if the output of a calculation is a whole number", "body": "<p>A simple trick is to check if the values of <code>ceil</code> and <code>floor</code> functions are equal or not  </p>\n\n<p>If they are equal, the result is a whole number<br>\nif not, the result is not a whole number</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>if (ceil(i/3) == floor(i/3)) {\n    print(\"int (a whole number)\")\n} else {\n    print(\"not int (not a whole number)\")\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8395560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10bca7c92bca859fa962744de5cfd978?s=128&d=identicon&r=PG&f=1", "display_name": "tplc10", "link": "https://stackoverflow.com/users/8395560/tplc10"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4311, "favorite_count": 0, "answer_count": 4, "score": 3, "last_activity_date": 1592489066, "creation_date": 1501523437, "last_edit_date": 1501525628, "question_id": 45422290, "link": "https://stackoverflow.com/questions/45422290/checking-if-the-output-of-a-calculation-is-a-whole-number", "title": "Checking if the output of a calculation is a whole number", "body": "<p>What is a method to check if the output of a calculation is a whole number? I've tried doing this:</p>\n\n<pre><code>if ((i / 3) is Int ) {\nprint(\"Whole Number\")\n}\n</code></pre>\n\n<p>But it seems to be checking the type of the variable, not what the output is.</p>\n\n<hr>\n\n<p>Edit: Apparently if the variable is an integer, it automatically rounds the output of the operation, so I had to do something like this:</p>\n\n<pre><code> if((i.toFloat()/3) == (i / 3).toFloat()){\n        println(\"Whole Number\")\n</code></pre>\n"}, {"tags": ["java", "int", "kotlin"], "comments": [{"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 5, "creation_date": 1501518784, "post_id": 45420806, "comment_id": 77803078, "body": "The big takeaway from the answers below is that numbers are treated like objects in koltin (and must be explicitly converted), but the compiler uses primitives where possible to maximize performance and efficiency, so don&#39;t worry about that."}, {"owner": {"reputation": 76644, "user_id": 330057, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/i6yM6.png?s=128&g=1", "display_name": "corsiKa", "link": "https://stackoverflow.com/users/330057/corsika"}, "edited": false, "score": 1, "creation_date": 1501540388, "post_id": 45420806, "comment_id": 77813917, "body": "This is 2017 - in 99.9% of cases, numerical manipulation being efficient doesn&#39;t matter. I have worked on cases where it did, thermal modelling and such, but rare is the case where such a worry is not a micro-optimization and a waste of time."}, {"owner": {"reputation": 9181, "user_id": 429972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/413633346ff1cd473b1329f8adc174fb?s=128&d=identicon&r=PG", "display_name": "jontro", "link": "https://stackoverflow.com/users/429972/jontro"}, "reply_to_user": {"reputation": 76644, "user_id": 330057, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/i6yM6.png?s=128&g=1", "display_name": "corsiKa", "link": "https://stackoverflow.com/users/330057/corsika"}, "edited": false, "score": 0, "creation_date": 1510675197, "post_id": 45420806, "comment_id": 81530737, "body": "@corsiKa A lot of us needs to know this information, it&#39;s still as important as it was 10 years ago. Why do you think they are improving SIMD support in the processors? Also any kind of image or audio manipulation would be terribly inefficient if you would not think of this"}, {"owner": {"reputation": 76644, "user_id": 330057, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/i6yM6.png?s=128&g=1", "display_name": "corsiKa", "link": "https://stackoverflow.com/users/330057/corsika"}, "reply_to_user": {"reputation": 9181, "user_id": 429972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/413633346ff1cd473b1329f8adc174fb?s=128&d=identicon&r=PG", "display_name": "jontro", "link": "https://stackoverflow.com/users/429972/jontro"}, "edited": false, "score": 0, "creation_date": 1510676267, "post_id": 45420806, "comment_id": 81531485, "body": "@jontro You seem to have not read my comment. I have worked on case swhere it did matter - billion+ polygon thermal modelling scenarios on Beowulf clusters. Definitely, it can matter. However, the vast, overwheming, monstrously huge majority, literally at least 99% (not exaggerating) will not care. For every engineer doing audio manipulation there are 100 pumping out another internal webapp for Big Company Inc to replace a spreadsheet that keeps getting deleted off a corporate shared drive."}, {"owner": {"reputation": 9181, "user_id": 429972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/413633346ff1cd473b1329f8adc174fb?s=128&d=identicon&r=PG", "display_name": "jontro", "link": "https://stackoverflow.com/users/429972/jontro"}, "reply_to_user": {"reputation": 76644, "user_id": 330057, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/i6yM6.png?s=128&g=1", "display_name": "corsiKa", "link": "https://stackoverflow.com/users/330057/corsika"}, "edited": false, "score": 0, "creation_date": 1510676539, "post_id": 45420806, "comment_id": 81531695, "body": "@corsiKa I read your commend fully, but still this is a valid and good question, a lot of subjects here on SO are on specialized knowledge"}, {"owner": {"reputation": 76644, "user_id": 330057, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/i6yM6.png?s=128&g=1", "display_name": "corsiKa", "link": "https://stackoverflow.com/users/330057/corsika"}, "edited": false, "score": 0, "creation_date": 1510676926, "post_id": 45420806, "comment_id": 81531936, "body": "Hey I didn&#39;t cast a close vote (and as a Java Gold Badge holder I can actually insta-close...), or even downvote. It&#39;s a good question in its own right, there&#39;s no doubt about that. But sometimes people think they have problems they really don&#39;t have. It&#39;s important to keep perspective on what the real problems are."}, {"owner": {"reputation": 9181, "user_id": 429972, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/413633346ff1cd473b1329f8adc174fb?s=128&d=identicon&r=PG", "display_name": "jontro", "link": "https://stackoverflow.com/users/429972/jontro"}, "edited": false, "score": 0, "creation_date": 1510677161, "post_id": 45420806, "comment_id": 81532099, "body": "No disagreement here, nothing good comes out of premature optimizations"}], "answers": [{"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 0, "creation_date": 1501518425, "post_id": 45420908, "comment_id": 77802900, "body": "@BasilBourque hi, I&#39;m sorry I&#39;m not good at english. How about it now?"}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 5, "creation_date": 1501519033, "post_id": 45420908, "comment_id": 77803224, "body": "I understand the technical issue, but the English was not clear. I edited the text in the Answer to clarify. And your English is not bad, quite good and clear actually, just this one glitch."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 13, "last_activity_date": 1501518875, "last_edit_date": 1501518875, "creation_date": 1501518172, "answer_id": 45420908, "question_id": 45420806, "link": "https://stackoverflow.com/questions/45420806/are-kotlin-data-types-built-off-primitive-or-non-primitive-java-data-types/45420908#45420908", "title": "Are Kotlin data types built off primitive or non-primitive Java data types?", "body": "<p>This is because Kotlin does not work like Java in widening numbers. </p>\n\n<p>There are no implicit widening conversions for <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#numbers\" rel=\"noreferrer\">numbers</a> in Kotlin. for example, you can write something in Java as below:</p>\n\n<pre><code>int a = 1;\ndouble b = a;\n</code></pre>\n\n<p>However, you can't write something in Kotlin. for example:</p>\n\n<pre><code>val a:Int = 1  \n//             v--- can't be widening\nval b:Double = a\n</code></pre>\n\n<p>This is because everything in Kotlin is object, there is no primitive types, so you should convert an <code>Int</code> to a <code>Double</code> explicitly, for example:</p>\n\n<pre><code>val a:Int = 1  \n//               v--- convert it explicitly by `toDouble()` method\nval b:Double = a.toDouble()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 45, "last_activity_date": 1525961321, "last_edit_date": 1525961321, "creation_date": 1501518487, "answer_id": 45420993, "question_id": 45420806, "link": "https://stackoverflow.com/questions/45420806/are-kotlin-data-types-built-off-primitive-or-non-primitive-java-data-types/45420993#45420993", "title": "Are Kotlin data types built off primitive or non-primitive Java data types?", "body": "<blockquote>\n  <p>I took an <code>Int</code> type and then tried to cast it as a <code>Double</code> by saying <code>num as Double</code> &lt;...> However, this failed, saying that Int cannot be cast to <code>Double</code>. I am assuming this is because it is built off the <code>Integer</code> class rather than the raw <code>int</code> data type. </p>\n</blockquote>\n\n<p>No, and there are two important points to note:</p>\n\n<ul>\n<li><p>Kotlin positions its numeric types (<code>Int</code>, <code>Long</code>, <code>Double</code> etc.) as not being nested into each other, there is <strong>no</strong> subtyping relationship between these types. That's why the cast <code>intNum as Double</code> does not succeed in Kotlin. That's also why there's no implicit conversions between these types. Instead, <a href=\"https://kotlinlang.org/docs/reference/basic-types.html#explicit-conversions\" rel=\"noreferrer\">the numeric conversion is done with the corresponding functions</a> (e.g. <code>.toDouble()</code>)</p></li>\n<li><p>The numeric type usages in Kotlin are compiled into JVM primitives where possible. Some usages require boxed types (e.g. a nullable <code>Int?</code> requires boxing, and so does a generic type implementation with an <code>Int</code> as a type argument), but the compiler decides whether they are necessary for each case.</p></li>\n</ul>\n\n<blockquote>\n  <p>&lt;...> What is the most efficient way to cast values? There is a <code>.toDouble()</code> function, but this seems inefficient and unwieldy.</p>\n</blockquote>\n\n<p>The most efficient way is to use the numeric conversion functions like <code>.toDouble()</code>. In fact, these functions are <em>intrinsified</em>, and there is no function call overhead when you use them. They are compiled closely to what javac would produce for a Java numeric cast or an implicit conversion. You can <a href=\"https://stackoverflow.com/questions/35538049/kotlin-bytecode\">inspect the bytecode</a> that the Kotlin compiler produces to find out what it's under the hood and whether a specific conversion introduces any overhead.</p>\n\n<p>See also: an answer to a similar question, <a href=\"https://stackoverflow.com/a/47080746/2196460\">(link)</a></p>\n"}], "owner": {"reputation": 826, "user_id": 6247003, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/21772ce850e24800b5ca0102003b3025?s=128&d=identicon&r=PG&f=1", "display_name": "ajax992", "link": "https://stackoverflow.com/users/6247003/ajax992"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4364, "favorite_count": 0, "accepted_answer_id": 45420993, "answer_count": 2, "score": 39, "last_activity_date": 1525961321, "creation_date": 1501517882, "question_id": 45420806, "link": "https://stackoverflow.com/questions/45420806/are-kotlin-data-types-built-off-primitive-or-non-primitive-java-data-types", "title": "Are Kotlin data types built off primitive or non-primitive Java data types?", "body": "<p>I am new to Kotlin and was playing around with the data types. I took an <code>Int</code> type and then tried to cast it as a <code>Double</code> by saying <code>num as Double</code>, a call that is valid in java (non syntactically but you get the point). However, this failed, saying that Int cannot be cast to Double. I am assuming this is because it is built off the Integer class rather than the raw int data type. Am I correct, and what is the most efficient way to cast values? There is a <code>.toDouble()</code> function, but this seems inefficient and unwieldy. </p>\n"}, {"tags": ["java", "intellij-idea", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 0, "creation_date": 1501513908, "post_id": 45419373, "comment_id": 77799895, "body": "Bug report with the <a href=\"http://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> is welcome at <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a>."}, {"owner": {"reputation": 4582, "user_id": 2092870, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c0398348b6867339df2e7853109846ab?s=128&d=identicon&r=PG", "display_name": "Kre\u0161imir Nesek", "link": "https://stackoverflow.com/users/2092870/kre%c5%a1imir-nesek"}, "reply_to_user": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 1, "creation_date": 1501514698, "post_id": 45419373, "comment_id": 77800459, "body": "I managed to reproduce it in a simple project - reporting it now."}], "answers": [{"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501515084, "post_id": 45419652, "comment_id": 77800742, "body": "you need to check the gradle wrapper version instead."}], "tags": [], "owner": {"reputation": 4582, "user_id": 2092870, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c0398348b6867339df2e7853109846ab?s=128&d=identicon&r=PG", "display_name": "Kre\u0161imir Nesek", "link": "https://stackoverflow.com/users/2092870/kre%c5%a1imir-nesek"}, "is_accepted": false, "score": 0, "last_activity_date": 1501515464, "last_edit_date": 1501515464, "creation_date": 1501514353, "answer_id": 45419652, "question_id": 45419373, "link": "https://stackoverflow.com/questions/45419373/intellij-not-including-gradle-dependency-on-classpath-when-running-an-app/45419652#45419652", "title": "Intellij not including gradle dependency on classpath when running an app", "body": "<p>It seems this a bug in InteliJ for which I'll file a bug report. Including this answer with a workaround here for anyone who might encounter similar issue.</p>\n\n<p>It seems that when there is a certain combinations of dependencies present on the classpath, then when you use gradle dependency like this</p>\n\n<pre><code>compile group: 'ch.qos.logback', name: 'logback-classic', version: '1.+'\n</code></pre>\n\n<p>it will not get included when run from the IDE. But if you include it like this:</p>\n\n<pre><code>compile group: 'ch.qos.logback', name: 'logback-classic', version: '1.1.+'\n</code></pre>\n\n<p>then it works. First example did work for a while, until I included more dependencies.</p>\n"}], "owner": {"reputation": 4582, "user_id": 2092870, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c0398348b6867339df2e7853109846ab?s=128&d=identicon&r=PG", "display_name": "Kre\u0161imir Nesek", "link": "https://stackoverflow.com/users/2092870/kre%c5%a1imir-nesek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1440, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1501515464, "creation_date": 1501513503, "question_id": 45419373, "link": "https://stackoverflow.com/questions/45419373/intellij-not-including-gradle-dependency-on-classpath-when-running-an-app", "title": "Intellij not including gradle dependency on classpath when running an app", "body": "<p>IntelliJ is not including by logback-classic dependency on classpath when running the application from IDE (it is kotlin application, but it shouldn't matter). My gradle build contains a line:</p>\n\n<pre><code>    compile group: 'ch.qos.logback', name: 'logback-classic', version: '1.+'\n</code></pre>\n\n<p>Dependency is correctly listed under \"External Libraries\" in IntelliJ.</p>\n\n<p>When I try to manually reference a class that the dependency provides in the source code, compiler doesn't complain and it compiles the code successfully.\nHowever, when I run the application I get ClassNotFoundException.</p>\n\n<pre><code>//This import is provided by logback-classic library \nimport org.slf4j.impl.StaticLoggerBinder\n...\n// This compiles successfully, but will trigger ClassNotFoundException when run \nval singleton = StaticLoggerBinder.getSingleton()\n</code></pre>\n\n<p>I included the code to list out the runtime classpath:</p>\n\n<pre><code>        val cl = ClassLoader.getSystemClassLoader()\n        val urls = (cl as URLClassLoader).urLs\n        for (url in urls) {\n            System.out.println(url.file)\n        }\n</code></pre>\n\n<p>And the output, when run from IDE, doesn't include logback-classic. Sample output:</p>\n\n<pre><code>...\n/Users/knesek/.gradle/caches/modules-2/files-2.1/commons-httpclient/commons-httpclient/3.1/964cd74171f427720480efdec40a7c7f6e58426a/commons-httpclient-3.1.jar\n/Users/knesek/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.core/jackson-databind/2.8.8/bf88c7b27e95cbadce4e7c316a56c3efffda8026/jackson-databind-2.8.8.jar\n/Users/knesek/.gradle/caches/modules-2/files-2.1/com.fasterxml.jackson.module/jackson-module-jaxb-annotations/2.8.8/e2e95efc46d45be4b429b704efbb1d4b89721d3a/jackson-module-jaxb-annotations-2.8.8.jar\n/Users/knesek/.gradle/caches/modules-2/files-2.1/com.sun.mail/javax.mail/1.5.6/ab5daef2f881c42c8e280cbe918ec4d7fdfd7efe/javax.mail-1.5.6.jar\n/Users/knesek/.gradle/caches/modules-2/files-2.1/ch.qos.logback/logback-core/1.1.11/88b8df40340eed549fb07e2613879bf6b006704d/logback-core-1.1.11.jar\n/Users/knesek/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.1.1/98e484e67f913e934559f7f55f0c94be5593f03c/kotlin-stdlib-1.1.1.jar\n/Users/knesek/.gradle/caches/modules-2/files-2.1/org.springframework/spring-beans/4.3.9.RELEASE/daa5abf3779c8cad1a2910e1ea08e4272489d8ae/spring-beans-4.3.9.RELEASE.jar\n...\n</code></pre>\n\n<p>Fascinatingly, logback-core is in there while logback-classic is not (and logback-core is a transitive dependency of logback-classic).</p>\n\n<p>I tried invalidating InteliJ cahces, rebuilding and restarting InteliJ. Compling from gradle and running the jar works fine. Any suggestions?</p>\n"}, {"tags": ["class", "kotlin", "scope", "member"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 100, "last_activity_date": 1604052548, "last_edit_date": 1604052548, "creation_date": 1501510311, "answer_id": 45418262, "question_id": 45418194, "link": "https://stackoverflow.com/questions/45418194/i-cant-reach-any-class-member-from-a-nested-class-in-kotlin/45418262#45418262", "title": "I can&#39;t reach any class member from a nested class in Kotlin", "body": "<p>In Kotlin, nested classes cannot access the outer class instance by default, just like nested <code>static class</code>es can't in Java.</p>\n<p>To do that, add the <strong><code>inner</code></strong> modifier to the nested class:</p>\n<pre><code>class MainFragment : Fragment() {\n    // ...\n\n    inner class PersonAdapter() : RecyclerView.Adapter&lt;ViewHolder&gt;() {\n        // ...\n    }\n}\n</code></pre>\n<p>Note that an <code>inner</code> class holds a reference to its containing class instance, which may affect the lifetime of the latter and potentially lead to a memory leak if the <code>inner</code> class instance is stored globally.</p>\n<p>See: <a href=\"https://kotlinlang.org/docs/reference/nested-classes.html\" rel=\"noreferrer\"><strong>Nested classes</strong></a> in the language reference</p>\n"}, {"comments": [{"owner": {"reputation": 132, "user_id": 7155725, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aGTbZDHIvfs/AAAAAAAAAAI/AAAAAAAAABk/_m_8fMhQta4/photo.jpg?sz=128", "display_name": "Freddie", "link": "https://stackoverflow.com/users/7155725/freddie"}, "edited": false, "score": 3, "creation_date": 1573450252, "post_id": 46730214, "comment_id": 103873012, "body": "To access the parent class in the inner class, use <b>this@OuterClass</b>"}], "tags": [], "owner": {"reputation": 2485, "user_id": 4083237, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3VloV2uI0_Y/AAAAAAAAAAI/AAAAAAAAAnI/PaERGCtqYvQ/photo.jpg?sz=128", "display_name": "AaRiF", "link": "https://stackoverflow.com/users/4083237/aarif"}, "is_accepted": false, "score": 14, "last_activity_date": 1507898539, "creation_date": 1507898539, "answer_id": 46730214, "question_id": 45418194, "link": "https://stackoverflow.com/questions/45418194/i-cant-reach-any-class-member-from-a-nested-class-in-kotlin/46730214#46730214", "title": "I can&#39;t reach any class member from a nested class in Kotlin", "body": "<p>In Kotlin, there are 2 types of the nested classes.</p>\n\n<ol>\n<li>Nested Class</li>\n<li>inner Class</li>\n</ol>\n\n<p>Nested class are not allowed to access the member of the outer class.</p>\n\n<p>If you want to access the member of outer class in the nested class then you need to define that nested class as inner class.</p>\n\n<pre><code>class OuterClass{\n\n    var name=\"john\"\n\n    inner class InnerClass{\n\n       //....\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 447, "user_id": 7624543, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-pvCsys3CwiU/AAAAAAAAAAI/AAAAAAAACoQ/VHaBMG_hKKs/photo.jpg?sz=128", "display_name": "ftibi93", "link": "https://stackoverflow.com/users/7624543/ftibi93"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13782, "favorite_count": 6, "accepted_answer_id": 45418262, "answer_count": 2, "score": 44, "last_activity_date": 1604052548, "creation_date": 1501510138, "last_edit_date": 1560347314, "question_id": 45418194, "link": "https://stackoverflow.com/questions/45418194/i-cant-reach-any-class-member-from-a-nested-class-in-kotlin", "title": "I can&#39;t reach any class member from a nested class in Kotlin", "body": "<p>I want to access a member of the MainFragment class from PersonAdapter class but none of them are available. I tried making both the classes and the members public and private also but so far nothing worked. \nI guess I'm missing something obvious but I just can't figure it out. </p>\n\n<pre><code>class MainFragment : Fragment() {\n    lateinit var personAdapter: PersonAdapter\n    lateinit var personListener: OnPersonSelected\n    private var realm: Realm by Delegates.notNull()\n    lateinit var realmListener: RealmChangeListener&lt;Realm&gt;\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val v = inflater.inflate(R.layout.fragment_main, container, false)\n        return v\n    }\n\n    class PersonAdapter() : RecyclerView.Adapter&lt;ViewHolder&gt;() {\n        var localPersonList = personList\n\n        override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n            holder.bindItems(localPersonList[position])\n\n            holder.itemView.setOnClickListener {\n                Toast.makeText(context, \"click\", Toast.LENGTH_SHORT).show()\n                //I want to reach personListener from here\n            }\n        }\n\n        override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ViewHolder {\n            val v = LayoutInflater.from(parent!!.context).inflate(R.layout.person_list_item, parent, false)\n            return ViewHolder(v)\n        }\n    }}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 885, "user_id": 4947010, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-p7qc7MdO2mM/AAAAAAAAAAI/AAAAAAAAAQ8/6jG6kh1jKcI/photo.jpg?sz=128", "display_name": "MrLeblond", "link": "https://stackoverflow.com/users/4947010/mrleblond"}, "reply_to_user": {"reputation": 260, "user_id": 3890358, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f646b691d53ecb9862319802fd31a945?s=128&d=identicon&r=PG&f=1", "display_name": "Suneet Agrawal", "link": "https://stackoverflow.com/users/3890358/suneet-agrawal"}, "edited": false, "score": 1, "creation_date": 1501508329, "post_id": 45416853, "comment_id": 77795695, "body": "nice, If you want more explanation, look @hotkey&#39;s answer :)"}], "tags": [], "owner": {"reputation": 885, "user_id": 4947010, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-p7qc7MdO2mM/AAAAAAAAAAI/AAAAAAAAAQ8/6jG6kh1jKcI/photo.jpg?sz=128", "display_name": "MrLeblond", "link": "https://stackoverflow.com/users/4947010/mrleblond"}, "is_accepted": false, "score": 4, "last_activity_date": 1501506538, "creation_date": 1501506538, "answer_id": 45416853, "question_id": 45416788, "link": "https://stackoverflow.com/questions/45416788/is-there-any-way-to-override-a-setter-property-in-extending-class-in-kotlin/45416853#45416853", "title": "Is there any way to override a setter property in extending class in Kotlin", "body": "<p>You need to set your var selectedColor to open. I think it's good</p>\n\n<p>like this :</p>\n\n<pre><code>class A {\n\nopen var selectedColor: Int\n    get() = selectedColor\n    set(selectedColor) {\n        this.selectedColor = selectedColor\n        doSomething()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 6, "last_activity_date": 1501513392, "last_edit_date": 1501513392, "creation_date": 1501507648, "answer_id": 45417277, "question_id": 45416788, "link": "https://stackoverflow.com/questions/45416788/is-there-any-way-to-override-a-setter-property-in-extending-class-in-kotlin/45417277#45417277", "title": "Is there any way to override a setter property in extending class in Kotlin", "body": "<p>To do that, you need to mark both <code>class A</code> and the property as <code>open</code> (<a href=\"https://kotlinlang.org/docs/reference/classes.html#inheritance\" rel=\"noreferrer\">they are <code>final</code> by default</a>):</p>\n\n<p>Also, your getters are written as <code>get() = selectedColor</code> and setters have <code>this.selectedColor = selectedColor</code> assignments, which are actually both recursive calls to the same accessor, which will lead to <code>StackOverflowError</code>. To <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"noreferrer\">access the value of the backing field</a>, use <code>get() = field</code> and <code>field = ...</code> instead.</p>\n\n<pre><code>open class A {\n    open var selectedColor: Int = someDefaultValue\n        get() = field\n        set(value) {\n            field = value\n            doSomething()\n        }\n}\n</code></pre>\n\n<p>Then you can <code>override</code> the property, and if you want the getter behavior to be unchanged, you can call <code>super.selectedColor</code>:</p>\n\n<pre><code>class B : A() {\n    override var selectedColor: Int = someDefaultValue\n        get() = super.selectedColor\n        set(value) {\n            field = value\n            doSomethingElse()\n        }\n}\n</code></pre>\n\n<p>If you want to call the superclass's setter, use <code>super.selectedColor = value</code> instead of <code>field = value</code>.</p>\n"}], "owner": {"reputation": 260, "user_id": 3890358, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/f646b691d53ecb9862319802fd31a945?s=128&d=identicon&r=PG&f=1", "display_name": "Suneet Agrawal", "link": "https://stackoverflow.com/users/3890358/suneet-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1061, "favorite_count": 0, "accepted_answer_id": 45417277, "answer_count": 2, "score": 1, "last_activity_date": 1501515917, "creation_date": 1501506376, "last_edit_date": 1501515917, "question_id": 45416788, "link": "https://stackoverflow.com/questions/45416788/is-there-any-way-to-override-a-setter-property-in-extending-class-in-kotlin", "title": "Is there any way to override a setter property in extending class in Kotlin", "body": "<pre><code>class A {\n    var selectedColor: Int\n        get() = selectedColor\n        set(selectedColor) {\n            this.selectedColor = selectedColor\n            doSomething()\n        }\n}\n\nclass B : A {\n    override var selectedColor: Int\n        get() = selectedColor\n        set(selectedColor) {\n            this.selectedColor = selectedColor\n            doSomethingElse()\n        }\n}\n</code></pre>\n\n<p>the keyword override is showing error saying\n'selectedColor' is final and cannot be overridden.\nIs there something I am missing?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "lint"], "comments": [{"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1501505709, "post_id": 45415947, "comment_id": 77793705, "body": "how did you decompile the code?"}, {"owner": {"reputation": 309, "user_id": 4726725, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e7968bfd0f544d9c920b2dc0e8cf1243?s=128&d=identicon&r=PG", "display_name": "Tom Koptel", "link": "https://stackoverflow.com/users/4726725/tom-koptel"}, "reply_to_user": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1501508951, "post_id": 45415947, "comment_id": 77796174, "body": "@lelloman I did relied on Android Studio &quot;Show Kotlin Bytecode&quot;. There is a &quot;Decompile&quot; button in the tab that appears on right side of Android Studio pane. Another way is to use &quot;classyshark-bytecode-viewer&quot;, but I have not tried it."}, {"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1501509406, "post_id": 45415947, "comment_id": 77796543, "body": "cool thx! I tried your code and I noticed one thing, if I make TestKt class extends View, the warning disappear.. :\\"}], "answers": [{"tags": [], "owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "is_accepted": false, "score": 3, "last_activity_date": 1501661510, "last_edit_date": 1501661510, "creation_date": 1501511690, "answer_id": 45418774, "question_id": 45415947, "link": "https://stackoverflow.com/questions/45415947/kotlin-apply-extension-lint-message-in-android-studio-3-0-alpha8/45418774#45418774", "title": "Kotlin apply() extension lint message in Android Studio 3.0-alpha8", "body": "<p><s>It really looks like a bug</s> It is a <a href=\"https://youtrack.jetbrains.com/issue/KT-12015\" rel=\"nofollow noreferrer\">known bug</a> but one could actually see why you're getting the warning if looking at Bundle.java source code. </p>\n\n<p>Before api 21 <code>Bundle</code> had a method (<a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/4.4_r1/android/os/Bundle.java?av=f#Bundle.putString%28java.lang.String%2Cjava.lang.String%29\" rel=\"nofollow noreferrer\">check here</a>) </p>\n\n<pre><code>public void putString(@Nullable String key, @Nullable String value)\n</code></pre>\n\n<p>and the class itself had no super class. From api 21 <code>Bundle</code> extends a newly added <code>BaseBundle</code> class and this method <code>putString</code> had been <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/5.0.0_r1/android/os/BaseBundle.java?av=f#BaseBundle.getString%28java.lang.String%29\" rel=\"nofollow noreferrer\">moved</a> to <code>BaseBundle</code>. So, when you call the method on api 21 and above, the method belongs to <code>BaseBundle</code>, for lower version it belongs to <code>Bundle</code>.</p>\n\n<p>This is somehow related to the <code>apply</code> block because the warning doesn't appear if you call the method on a <code>Bundle</code>-type variable directly.</p>\n"}, {"tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": true, "score": 1, "last_activity_date": 1501661590, "creation_date": 1501661590, "answer_id": 45455141, "question_id": 45415947, "link": "https://stackoverflow.com/questions/45415947/kotlin-apply-extension-lint-message-in-android-studio-3-0-alpha8/45455141#45455141", "title": "Kotlin apply() extension lint message in Android Studio 3.0-alpha8", "body": "<p>One workaround is to use <code>let</code> instead of <code>apply</code>, like:</p>\n\n<pre><code>fun newInstance(message: String?): DialogFragment {\n    return DialogFragment().apply {\n        arguments = Bundle().let {\n            it.putString(\"arg\", message)\n            it\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 309, "user_id": 4726725, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e7968bfd0f544d9c920b2dc0e8cf1243?s=128&d=identicon&r=PG", "display_name": "Tom Koptel", "link": "https://stackoverflow.com/users/4726725/tom-koptel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 1, "accepted_answer_id": 45455141, "answer_count": 2, "score": 6, "last_activity_date": 1518527343, "creation_date": 1501504043, "last_edit_date": 1518527343, "question_id": 45415947, "link": "https://stackoverflow.com/questions/45415947/kotlin-apply-extension-lint-message-in-android-studio-3-0-alpha8", "title": "Kotlin apply() extension lint message in Android Studio 3.0-alpha8", "body": "<p>I have following code that produces following lint error.\n<a href=\"https://i.stack.imgur.com/DKIOm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DKIOm.png\" alt=\"lint issue\"></a></p>\n\n<pre><code>fun newInstance(message: String?): DialogFragment {\n    return DialogFragment().apply {\n        arguments = Bundle().apply {\n            putString(\"arg\", message)\n        }\n    }\n}\n</code></pre>\n\n<p>The message points out that <code>this</code> reference inside <code>apply()</code> function points to <code>BaseBundle</code> class that is available since API 21 which will crash on lower API. <a href=\"https://android.googlesource.com/platform/frameworks/base/+/ics-mr1/core/java/android/os/Bundle.java#483\" rel=\"nofollow noreferrer\">Bundle#putString(key, value)</a> is definitely available on lower versions, but there is an error in Android Studio 3.0-alpha8.</p>\n\n<p>The issue quite strange as I can see decompiled code as this:\n<a href=\"https://i.stack.imgur.com/rDJzd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rDJzd.png\" alt=\"decompiled\"></a></p>\n\n<p>Which do reference <code>Bundle</code> type not a <code>BaseBundle</code>.</p>\n\n<p>Why do we have Lint error in first place?</p>\n"}, {"tags": ["android", "spinner", "kotlin", "anko"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1501503553, "post_id": 45415655, "comment_id": 77792144, "body": "this link may help you <a href=\"https://github.com/Kotlin/anko-example\" rel=\"nofollow noreferrer\">github.com/Kotlin/anko-example</a>"}, {"owner": {"reputation": 799, "user_id": 1883606, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2g4lW.jpg?s=128&g=1", "display_name": "Carla Urrea Stabile", "link": "https://stackoverflow.com/users/1883606/carla-urrea-stabile"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1501577169, "post_id": 45415655, "comment_id": 77826994, "body": "I checked it but there&#39;s no example on how to use a spinner. @NileshRathod"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1501577635, "post_id": 45415655, "comment_id": 77827355, "body": "check this link <a href=\"https://github.com/lightningkite/kotlin-anko/blob/master/src/main/java/com/lightningkite/kotlin/anko/HintSpinner.kt\" rel=\"nofollow noreferrer\">github.com/lightningkite/kotlin-anko/blob/master/src/main/ja&zwnj;&#8203;va/&hellip;</a> or this <a href=\"https://github.com/lightningkite/kotlin-anko\" rel=\"nofollow noreferrer\">github.com/lightningkite/kotlin-anko</a>"}], "answers": [{"comments": [{"owner": {"reputation": 722, "user_id": 6629569, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eec30cf8d13a1de12bde3a38dd18d483?s=128&d=identicon&r=PG&f=1", "display_name": "Abby", "link": "https://stackoverflow.com/users/6629569/abby"}, "edited": false, "score": 0, "creation_date": 1526026896, "post_id": 46917079, "comment_id": 87592077, "body": "As in the other answer: you could also use <code>android.R.layout.simple_spinner_dropdown_item</code> if you don&#39;t want to create a layout yourself."}], "tags": [], "owner": {"reputation": 21, "user_id": 8765940, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cde6e359992d2ae3ecb07e23b13c8a19?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony Cosson Eni", "link": "https://stackoverflow.com/users/8765940/anthony-cosson-eni"}, "is_accepted": false, "score": 2, "last_activity_date": 1508871626, "last_edit_date": 1508871626, "creation_date": 1508867806, "answer_id": 46917079, "question_id": 45415655, "link": "https://stackoverflow.com/questions/45415655/how-to-use-anko-spinner/46917079#46917079", "title": "How to use anko spinner?", "body": "<p>One solution :</p>\n\n<pre><code>class AddActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        val items = listOf(Friend(\"bla\",\"bla\",50),Friend(\"bla\",\"bla\",50));\n\n        val adapterFriends = ArrayAdapter(this,R.layout.mon_spinner,items)\n\n        verticalLayout {\n\n            val friends = spinner {  adapter = adapterFriends  }\n\n            val wine = editText()\n\n            button(\"Say Hello\") {\n                onClick { toast(\"Hello, ${wine.text}!\") }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>with this layout (mon_spinner.xml) :</p>\n\n<pre><code>&lt;TextView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"wrap_content\"\n    android:padding=\"10dp\"\n    android:textSize=\"14sp\"\n    android:textColor=\"@color/colorPrimary\"\n    android:spinnerMode=\"dialog\"\n    android:text=\"XXX\"\n    /&gt;\n</code></pre>\n\n<p>It's all right !!</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 7510446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LOOHm.jpg?s=128&g=1", "display_name": "Jon Tran", "link": "https://stackoverflow.com/users/7510446/jon-tran"}, "is_accepted": false, "score": 0, "last_activity_date": 1510240522, "creation_date": 1510240522, "answer_id": 47205350, "question_id": 45415655, "link": "https://stackoverflow.com/questions/45415655/how-to-use-anko-spinner/47205350#47205350", "title": "How to use anko spinner?", "body": "<p>Try this in your AnkoComponent:</p>\n\n<pre><code>spinner {\n    adapter = ArrayAdapter.createFromResource(\n            ctx,\n            R.array.your_string_array,\n            android.R.layout.simple_spinner_dropdown_item)\n}\n</code></pre>\n"}], "owner": {"reputation": 799, "user_id": 1883606, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/2g4lW.jpg?s=128&g=1", "display_name": "Carla Urrea Stabile", "link": "https://stackoverflow.com/users/1883606/carla-urrea-stabile"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1591, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1510240522, "creation_date": 1501503173, "question_id": 45415655, "link": "https://stackoverflow.com/questions/45415655/how-to-use-anko-spinner", "title": "How to use anko spinner?", "body": "<p>I'm trying to add a spinner inside an alert using anko. My code so far looks like this: </p>\n\n<pre><code>alert(getString(R.string.alert)) {\n            positiveButton(\"Cool\") { toast(\"Yess!!!\") }\n            customView {\n                linearLayout {\n\n                    textView(\"I'm a text\")\n                    padding = dip(16)\n                    orientation = LinearLayout.VERTICAL\n                    spinner(R.style.Widget_AppCompat_Spinner) {\n                        id = R.id.spinner_todo_category\n                        prompt = \"Select a Category\"\n                    }\n\n\n\n                }\n            }\n        }.show()\n</code></pre>\n\n<p>but I get compilation errors because apparently that's not how to call a spinner. I've been looking at the docs (<a href=\"https://github.com/Kotlin/anko/wiki\" rel=\"nofollow noreferrer\">Anko GitHub Wiki</a>) but it says nothing about spinners. </p>\n\n<p>Thanks in advance </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501502973, "post_id": 45415531, "comment_id": 77791699, "body": "it will return a list of <code>View</code>s from <code>layout&#47;test.xml</code>"}, {"owner": {"reputation": 945, "user_id": 5482691, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/L0URg.jpg?s=128&g=1", "display_name": "Charu", "link": "https://stackoverflow.com/users/5482691/charu"}, "edited": false, "score": 0, "creation_date": 1501503719, "post_id": 45415531, "comment_id": 77792273, "body": "could you please share the link where you found this"}, {"owner": {"reputation": 15, "user_id": 8207199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e43997c7e2a5b1d9d34c5a204460d04d?s=128&d=identicon&r=PG&f=1", "display_name": "DarkSpikeX", "link": "https://stackoverflow.com/users/8207199/darkspikex"}, "reply_to_user": {"reputation": 945, "user_id": 5482691, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/L0URg.jpg?s=128&g=1", "display_name": "Charu", "link": "https://stackoverflow.com/users/5482691/charu"}, "edited": false, "score": 0, "creation_date": 1501503880, "post_id": 45415531, "comment_id": 77792393, "body": "@Charu <a href=\"https://github.com/SimpleMobileTools/Simple-Calendar/blob/master/app/src/main/kotlin/com/simplemobiletools/calendar/fragments/WeekFragment.kt\" rel=\"nofollow noreferrer\">github.com/SimpleMobileTools/Simple-Calendar/blob/master/app&zwnj;&#8203;/&hellip;</a>  Line 82, i changed the inflater.inflate line to make it smaller."}], "answers": [{"tags": [], "owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "is_accepted": false, "score": 1, "last_activity_date": 1501503814, "creation_date": 1501503814, "answer_id": 45415866, "question_id": 45415531, "link": "https://stackoverflow.com/questions/45415531/what-does-x-x-map-do-in-kotlin-android/45415866#45415866", "title": "what does (x..x).map do in kotlin android", "body": "<p><code>map</code> transforms the input into an output. Since Kotlin can infer the argument if it's the only one it will be called <code>it</code>. So your code is equivalent to this:</p>\n\n<pre><code>(0..6).map{ it =&gt; inflater.inflate(R.layout.test, container) }\n</code></pre>\n\n<p>You can see that you are not using <code>it</code> argument anyways</p>\n\n<p>So after doing that you will have a list of 7 views (from 0 to 6) inflated from <code>R.layout.test</code></p>\n\n<p>You can find more about <code>map</code> in the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/index.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n"}, {"tags": [], "owner": {"reputation": 945, "user_id": 5482691, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/L0URg.jpg?s=128&g=1", "display_name": "Charu", "link": "https://stackoverflow.com/users/5482691/charu"}, "is_accepted": false, "score": 0, "last_activity_date": 1501504305, "creation_date": 1501504305, "answer_id": 45416036, "question_id": 45415531, "link": "https://stackoverflow.com/questions/45415531/what-does-x-x-map-do-in-kotlin-android/45416036#45416036", "title": "what does (x..x).map do in kotlin android", "body": "<p>It is a <code>Lambda</code> expression. It just inflate <strong>R.layout.test</strong> and add this view to the <strong>container</strong>. The example you are refering is a <code>GridView</code> and need to add this view 7 times in the container, that is what (1..6) doing here.</p>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 0, "last_activity_date": 1501552571, "creation_date": 1501552571, "answer_id": 45427788, "question_id": 45415531, "link": "https://stackoverflow.com/questions/45415531/what-does-x-x-map-do-in-kotlin-android/45427788#45427788", "title": "what does (x..x).map do in kotlin android", "body": "<p>In the linked code it's just a different and not quite idiomatic way to repeat some action.</p>\n\n<p>One can use the following approaches instead of <code>map</code> function, if the result of the transform is not gonna be used:</p>\n\n<pre><code>// for loop\nfor (n in 0..6) inflater.inflate(R.layout.test, container)\n\n// forEach extension\n(0..6).forEach { inflater.inflate(R.layout.test, container) }\n\n// repeat function\nrepeat(7) { inflater.inflate(R.layout.test, container) }\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 8207199, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e43997c7e2a5b1d9d34c5a204460d04d?s=128&d=identicon&r=PG&f=1", "display_name": "DarkSpikeX", "link": "https://stackoverflow.com/users/8207199/darkspikex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 45427788, "answer_count": 3, "score": 1, "last_activity_date": 1501552571, "creation_date": 1501502809, "last_edit_date": 1501502980, "question_id": 45415531, "link": "https://stackoverflow.com/questions/45415531/what-does-x-x-map-do-in-kotlin-android", "title": "what does (x..x).map do in kotlin android", "body": "<p>Been looking at some kotlin examples on the web and saw the following, where i can not figur eout exactly what it's doing.</p>\n\n<p><code>(0..6).map{ inflater.inflate(R.layout.test, container) }</code></p>\n\n<p>I know it's a range that inflates R.layout.test into container but what is the point of \".map\" ?</p>\n\n<p>is it just a different way to write <code>for (i in 0..6)</code> ?</p>\n"}, {"tags": ["android", "listview", "kotlin"], "comments": [{"owner": {"reputation": 4818, "user_id": 4063532, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ycJy2.jpg?s=128&g=1", "display_name": "Oussema Aroua", "link": "https://stackoverflow.com/users/4063532/oussema-aroua"}, "edited": false, "score": 0, "creation_date": 1501494985, "post_id": 45412700, "comment_id": 77785789, "body": "add your logcat please"}, {"owner": {"reputation": 3783, "user_id": 1273240, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/762e4e2a5c0aea7633847a2775300e16?s=128&d=identicon&r=PG", "display_name": "Kapil G", "link": "https://stackoverflow.com/users/1273240/kapil-g"}, "edited": false, "score": 0, "creation_date": 1501495038, "post_id": 45412700, "comment_id": 77785837, "body": "what is your listView? don&#39;t see any reference or object for it in your code at the moment?"}, {"owner": {"reputation": 4818, "user_id": 4063532, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ycJy2.jpg?s=128&g=1", "display_name": "Oussema Aroua", "link": "https://stackoverflow.com/users/4063532/oussema-aroua"}, "reply_to_user": {"reputation": 3783, "user_id": 1273240, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/762e4e2a5c0aea7633847a2775300e16?s=128&d=identicon&r=PG", "display_name": "Kapil G", "link": "https://stackoverflow.com/users/1273240/kapil-g"}, "edited": false, "score": 0, "creation_date": 1501495345, "post_id": 45412700, "comment_id": 77786056, "body": "@kapsym he is using Kotlin"}, {"owner": {"reputation": 161, "user_id": 6667254, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/63fb44acd84a8d976517da7969f29b04?s=128&d=identicon&r=PG&f=1", "display_name": "Lucky", "link": "https://stackoverflow.com/users/6667254/lucky"}, "reply_to_user": {"reputation": 4818, "user_id": 4063532, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ycJy2.jpg?s=128&g=1", "display_name": "Oussema Aroua", "link": "https://stackoverflow.com/users/4063532/oussema-aroua"}, "edited": false, "score": 0, "creation_date": 1501495659, "post_id": 45412700, "comment_id": 77786258, "body": "@OussemaAroua I added the logcat with level &quot;error&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 161, "user_id": 6667254, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/63fb44acd84a8d976517da7969f29b04?s=128&d=identicon&r=PG&f=1", "display_name": "Lucky", "link": "https://stackoverflow.com/users/6667254/lucky"}, "edited": false, "score": 1, "creation_date": 1501497480, "post_id": 45413221, "comment_id": 77787607, "body": "Thanks so much. I got things done with your answer. But how do I know whether an object is <code>Nullable</code> in Java? And Why didn&#39;t I get a warning or error during the compiling time since Kotlin says it&#39;s null-safe?"}, {"owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "reply_to_user": {"reputation": 161, "user_id": 6667254, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/63fb44acd84a8d976517da7969f29b04?s=128&d=identicon&r=PG&f=1", "display_name": "Lucky", "link": "https://stackoverflow.com/users/6667254/lucky"}, "edited": false, "score": 0, "creation_date": 1501501947, "post_id": 45413221, "comment_id": 77790897, "body": "@Lucky Because Java is not null-safe, and ListView class of Android is defined in Java. You can specify <code>@NotNull</code> or <code>@Nullable</code> in Java (<a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/java-interop.html</a>), and Kotlin recognizes the annotations. However, the annotations are not mandatory, and <code>ListView.getView()</code>&#39;s definition do not specify them. If they are not specified, you maybe need to read the JavaDoc or source codes to find out which is nullable and which is not-nullable. (Or simply assume everything that are not specified is nullable, and add <code>?</code> to types.)"}], "tags": [], "owner": {"reputation": 2425, "user_id": 1308763, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/kJEeR.jpg?s=128&g=1", "display_name": "Mohit Charadva", "link": "https://stackoverflow.com/users/1308763/mohit-charadva"}, "is_accepted": true, "score": 2, "last_activity_date": 1501496468, "creation_date": 1501496468, "answer_id": 45413221, "question_id": 45412700, "link": "https://stackoverflow.com/questions/45412700/runtime-error-using-listview-in-android-with-kotlin/45413221#45413221", "title": "Runtime error using ListView in Android with Kotlin?", "body": "<p>Just modify <code>getView</code> method signature like below:</p>\n\n<pre><code>cv: View?\n</code></pre>\n\n<blockquote>\n  <p>override fun getView(pos: Int, cv: View?, pa: ViewGroup): View</p>\n</blockquote>\n\n<p>In JAVA <code>converView</code> object is <code>Nullable</code>. It will be null when the list item created for the first time.</p>\n"}, {"tags": [], "owner": {"reputation": 1834, "user_id": 3881947, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0lhYF.jpg?s=128&g=1", "display_name": "Deepshikha Puri", "link": "https://stackoverflow.com/users/3881947/deepshikha-puri"}, "is_accepted": false, "score": 0, "last_activity_date": 1504970340, "creation_date": 1504970340, "answer_id": 46132125, "question_id": 45412700, "link": "https://stackoverflow.com/questions/45412700/runtime-error-using-listview-in-android-with-kotlin/46132125#46132125", "title": "Runtime error using ListView in Android with Kotlin?", "body": "<p>Download source code from here (<a href=\"http://deepshikhapuri.blogspot.in/2017/09/listview-in-kotlin-android.html\" rel=\"nofollow noreferrer\">Listview in Kotlin Android</a>)</p>\n\n<p><strong>MainActivity.kt:</strong></p>\n\n<pre><code>package com.deepshikha.listviewinkotlin\n\nimport android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport kotlinx.android.synthetic.main.activity_main.*\n\npublic class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedState: Bundle?) {\n    super.onCreate(savedState)\n    setContentView(R.layout.activity_main)\n\n    val al_flower=ArrayList&lt;Model_flower&gt;()\n    al_flower.add(Model_flower(\"Rosa\",R.drawable.rosa,\"A rose is a woody perennial flowering plant of the genus Rosa, in the family Rosaceae, or the flower it bears. There are over a hundred species and thousands of cultivars\"))\n\n    al_flower.add(Model_flower(\"Lotus\",R.drawable.lotus,\"Nelumbo nucifera, also known as Indian lotus, sacred lotus, bean of India, Egyptian bean or simply lotus, is one of two extant species of aquatic plant in the family Nelumbonaceae.\"))\n\n    al_flower.add(Model_flower(\"Cherry Blossom\",R.drawable.nelumbo,\"A cherry blossom (or commonly known in Japan as sakura) is the flower of any of several trees of genus Prunus, particularly the Japanese cherry, Prunus serrulata\"))\n\n    al_flower.add(Model_flower(\"Bird of Paradise\",R.drawable.birdofparadise,\"The birds-of-paradise are members of the family Paradisaeidae of the order Passeriformes. The majority of species are found in eastern Indonesia, Papua New Guinea, and eastern Australia. The family has 42 species in 15 genera\"))\n\n    al_flower.add(Model_flower(\"Tulips\",R.drawable.tulips,\"The tulip is a Eurasian and North African genus of herbaceous, perennial, bulbous plants in the lily family, with showy flowers. About 75 wild species are accepted\"))\n\n    al_flower.add(Model_flower(\"Dahlia\",R.drawable.dahlia,\"Dahlia is a genus of bushy, tuberous, herbaceous perennial plants native to Mexico. A member of the Asteraceae, dicotyledonous plants, related species include the sunflower, daisy, chrysanthemum, and zinnia.\"))\n\n    al_flower.add(Model_flower(\"Water Lilies\",R.drawable.waterlilies,\"Lilium is a genus of herbaceous flowering plants growing from bulbs, all with large prominent flowers. Lilies are a group of flowering plants which are important in culture and literature in much of the world.\"))\n\n    al_flower.add(Model_flower(\"Gazania\",R.drawable.gazania,\"Gazania is a genus of flowering plants in the family Asteraceae, native to Southern Africa. They produce large, daisy-like composite flowerheads in brilliant shades of yellow and orange, over a long period in summer.\"))\n\n    al_flower.add(Model_flower(\"Orchid\",R.drawable.orchid,\"The Orchidaceae are a diverse and widespread family of flowering plants, with blooms that are often colourful and fragrant, commonly known as the orchid family. Along with the Asteraceae, they are one of the two largest families of flowering plants\"))\n\n\n    val obj_adapter : CustomAdapter\n    obj_adapter = CustomAdapter(applicationContext,al_flower)\n    lv_flower.adapter=obj_adapter\n}\n</code></pre>\n\n<p>} </p>\n\n<p><strong>CustomAdapter.kt:</strong></p>\n\n<pre><code>package com.deepshikha.listviewinkotlin\n\nimport android.content.Context\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.BaseAdapter\nimport android.widget.ImageView\nimport android.widget.TextView\n\n  /**\n  * Created by deepshikha on 31/7/17.\n*/\n\nclass CustomAdapter(context: Context,al_flower:ArrayList&lt;Model_flower&gt;) : BaseAdapter(){\n\nprivate val mInflator: LayoutInflater\nprivate val al_flower:ArrayList&lt;Model_flower&gt;\n\ninit {\n    this.mInflator = LayoutInflater.from(context)\n    this.al_flower=al_flower\n}\n\noverride fun getCount(): Int {\n    return al_flower.size\n}\n\noverride fun getItem(position: Int): Any {\n    return al_flower.get(position)\n}\n\noverride fun getItemId(position: Int): Long {\n    return position.toLong()\n}\n\noverride fun getView(position: Int, convertView: View?, parent: ViewGroup): View? {\n    val view: View?\n    val vh: ListRowHolder\n    if (convertView == null) {\n        view = this.mInflator.inflate(R.layout.adapter_layout, parent, false)\n        vh = ListRowHolder(view)\n        view.tag = vh\n    } else {\n        view = convertView\n        vh = view.tag as ListRowHolder\n    }\n\n    vh.label.text = al_flower.get(position).str_name\n    vh.tv_des.text = al_flower.get(position).str_des\n    vh.iv_image.setImageResource(al_flower.get(position).int_image)\n    return view\n}\n}\n\nprivate class ListRowHolder(row: View?) {\npublic val label: TextView\npublic val tv_des: TextView\npublic val iv_image: ImageView\n\ninit {\n    this.label = row?.findViewById&lt;TextView&gt;(R.id.tv_name) as TextView\n    this.tv_des = row?.findViewById&lt;TextView&gt;(R.id.tv_des) as TextView\n    this.iv_image = row?.findViewById&lt;ImageView&gt;(R.id.iv_flower) as ImageView\n}\n\n\n}\n</code></pre>\n\n<p>Thanks!</p>\n"}], "owner": {"reputation": 161, "user_id": 6667254, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/63fb44acd84a8d976517da7969f29b04?s=128&d=identicon&r=PG&f=1", "display_name": "Lucky", "link": "https://stackoverflow.com/users/6667254/lucky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 756, "favorite_count": 0, "accepted_answer_id": 45413221, "answer_count": 2, "score": 0, "last_activity_date": 1504970340, "creation_date": 1501494967, "last_edit_date": 1501495452, "question_id": 45412700, "link": "https://stackoverflow.com/questions/45412700/runtime-error-using-listview-in-android-with-kotlin", "title": "Runtime error using ListView in Android with Kotlin?", "body": "<pre><code>class MainActivity : AppCompatActivity() {\n\n    var data = listOf(\"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\")\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        val mAdapter = MAdapter(this,R.layout.mitem, data)\n        setContentView(R.layout.activity_main)\n        listView.adapter = mAdapter\n    }\n}\n\n\nclass MAdapter(context: Context, var id: Int, objects: List&lt;String&gt;) :\n        ArrayAdapter&lt;String&gt;(context, id, objects) {\n    override fun getView(pos: Int, cv: View, pa: ViewGroup): View {\n        val mItem = getItem(pos)\n        val v = LayoutInflater.from(context).inflate(id, pa, false)\n        v.itemid.text = mItem\n        v.itemdes.text = \"common description\"\n        return v\n    }\n}\n</code></pre>\n\n<p>I think the layout file has no problem.\nIt shows no warnings/errors in compiling process.\nIt crashes when running on devices.</p>\n\n<p>logcat is here</p>\n\n<pre><code>07-31 17:58:38.470 30321-30321/? E/dalvikvm: &gt;&gt;&gt;&gt;&gt; Normal User\n07-31 17:58:38.470 30321-30321/? E/dalvikvm: &gt;&gt;&gt;&gt;&gt; com.lukhy.landroid [ userId:0 | appId:10211 ]\n07-31 17:58:50.950 30321-30321/com.lukhy.landroid E/dalvikvm: Could not find class 'android.graphics.drawable.RippleDrawable', referenced from method android.support.v7.widget.AppCompatImageHelper.hasOverlappingRendering\n07-31 17:58:51.110 30321-30321/com.lukhy.landroid E/AndroidRuntime: FATAL EXCEPTION: main\n                                                                    Process: com.lukhy.landroid, PID: 30321\n                                                                    java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter cv\n                                                                        at com.lukhy.landroid.MAdapter.getView(MainActivity.kt)\n                                                                        at android.widget.AbsListView.obtainView(AbsListView.java:2753)\n                                                                        at android.widget.ListView.measureHeightOfChildren(ListView.java:1274)\n                                                                        at android.widget.ListView.onMeasure(ListView.java:1186)\n                                                                        at android.view.View.measure(View.java:17442)\n</code></pre>\n\n<p>...</p>\n"}, {"tags": ["android", "button", "kotlin"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1501492424, "post_id": 45411634, "comment_id": 77783852, "body": "can you post your activity_main.xml?"}, {"owner": {"reputation": 908, "user_id": 5167937, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/3oBhf.jpg?s=128&g=1", "display_name": "Chirag Solanki", "link": "https://stackoverflow.com/users/5167937/chirag-solanki"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1501492993, "post_id": 45411634, "comment_id": 77784288, "body": "Please check Update @chandil03  I also try this same this with LinearLayoutParam but it&#39;s not work."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1501495693, "post_id": 45411634, "comment_id": 77786272, "body": "As i can see in your commented section this is not how we should use LayoutParams. Check answer."}], "answers": [{"comments": [{"owner": {"reputation": 908, "user_id": 5167937, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/3oBhf.jpg?s=128&g=1", "display_name": "Chirag Solanki", "link": "https://stackoverflow.com/users/5167937/chirag-solanki"}, "edited": false, "score": 0, "creation_date": 1501496065, "post_id": 45412926, "comment_id": 77786563, "body": "Wooow It&#39;s working fine.Thank you brother.Answer Accepted"}, {"owner": {"reputation": 351, "user_id": 6869491, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mHfHNbKnkBo/AAAAAAAAAAI/AAAAAAAAABA/8JjiB8j40XI/photo.jpg?sz=128", "display_name": "Amit Verma", "link": "https://stackoverflow.com/users/6869491/amit-verma"}, "edited": false, "score": 1, "creation_date": 1568136193, "post_id": 45412926, "comment_id": 102176042, "body": "var params = LinearLayout.LayoutParams(             LinearLayout.LayoutParams.MATCH_PARENT,             LinearLayout.LayoutParams.WRAP_CONTENT         ).also {             it.setMargins(10, 10, 10, 10)         }"}], "tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": true, "score": 58, "last_activity_date": 1587447948, "last_edit_date": 1587447948, "creation_date": 1501495597, "answer_id": 45412926, "question_id": 45411634, "link": "https://stackoverflow.com/questions/45411634/set-runtime-margin-to-any-view-using-kotlin/45412926#45412926", "title": "Set runtime margin to any view using Kotlin", "body": "<p>You need to get the <code>layoutParams</code> object from button and cast it to <code>ViewGroup.MarginLayoutParams</code> (which is a <a href=\"https://developer.android.com/reference/android/view/ViewGroup.MarginLayoutParams\" rel=\"noreferrer\">parent class</a> of <code>LinearLayout.LayoutParams</code>, <code>RelativeLayout.LayoutParams</code> and others and you don't have to check which is <code>btnClickMe</code>'s actual parent) and set margins to whatever you want.</p>\n\n<p>Check following code:</p>\n\n<pre><code>val param = btnClickMe.layoutParams as ViewGroup.MarginLayoutParams\nparam.setMargins(10,10,10,10)\nbtnClickMe.layoutParams = param // Tested!! - You need this line for the params to be applied.\n</code></pre>\n\n<p>Hope it helps.</p>\n"}, {"comments": [{"owner": {"reputation": 3732, "user_id": 1016544, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/08b2ae4d9b56474f6cfbe79fae6688a2?s=128&d=identicon&r=PG", "display_name": "Wahib Ul Haq", "link": "https://stackoverflow.com/users/1016544/wahib-ul-haq"}, "edited": false, "score": 0, "creation_date": 1531405804, "post_id": 50765990, "comment_id": 89593149, "body": "These were super useful!"}], "tags": [], "owner": {"reputation": 821, "user_id": 3048407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yu7TU.jpg?s=128&g=1", "display_name": "Hitesh Gupta", "link": "https://stackoverflow.com/users/3048407/hitesh-gupta"}, "is_accepted": false, "score": 34, "last_activity_date": 1559304321, "last_edit_date": 1559304321, "creation_date": 1528479994, "answer_id": 50765990, "question_id": 45411634, "link": "https://stackoverflow.com/questions/45411634/set-runtime-margin-to-any-view-using-kotlin/50765990#50765990", "title": "Set runtime margin to any view using Kotlin", "body": "<p>This is how I would like to do in Kotlin - </p>\n\n<pre><code>fun View.margin(left: Float? = null, top: Float? = null, right: Float? = null, bottom: Float? = null) {\n    layoutParams&lt;ViewGroup.MarginLayoutParams&gt; {\n        left?.run { leftMargin = dpToPx(this) }\n        top?.run { topMargin = dpToPx(this) }\n        right?.run { rightMargin = dpToPx(this) }\n        bottom?.run { bottomMargin = dpToPx(this) }\n    }\n}\n\ninline fun &lt;reified T : ViewGroup.LayoutParams&gt; View.layoutParams(block: T.() -&gt; Unit) {\n    if (layoutParams is T) block(layoutParams as T)\n}\n\nfun View.dpToPx(dp: Float): Int = context.dpToPx(dp)\nfun Context.dpToPx(dp: Float): Int = TypedValue.applyDimension(TypedValue.COMPLEX_UNIT_DIP, dp, resources.displayMetrics).toInt()\n</code></pre>\n\n<p>now we just have to call this on a view like </p>\n\n<pre><code>textView.margin(left = 16F)\n</code></pre>\n"}], "owner": {"reputation": 908, "user_id": 5167937, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/3oBhf.jpg?s=128&g=1", "display_name": "Chirag Solanki", "link": "https://stackoverflow.com/users/5167937/chirag-solanki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23597, "favorite_count": 2, "accepted_answer_id": 45412926, "answer_count": 2, "score": 22, "last_activity_date": 1587447948, "creation_date": 1501492010, "last_edit_date": 1559737723, "question_id": 45411634, "link": "https://stackoverflow.com/questions/45411634/set-runtime-margin-to-any-view-using-kotlin", "title": "Set runtime margin to any view using Kotlin", "body": "<p>I am a beginner in Kotlin .I am not too much familier with this language. I am making one example and playing with code. I Just want to set runtime margin to any view. I also trying to google it but not getting any proper solution for this task.</p>\n\n<p><strong>Requirement</strong></p>\n\n<p>Set runtime margin to any View.</p>\n\n<p><strong>Description</strong></p>\n\n<p>I have taking one xml file which is contain on Button and I want to set runtime margin to this button.</p>\n\n<p><strong>Code</strong></p>\n\n<p>I also try below thing but it's not work.</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n\n//private lateinit var btnClickMe: Button\n//var btnClickMe=Button();\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        //For setting runtime text to any view.\n        btnClickMe.text = \"Chirag\"\n\n        //For getting runtime text to any view\n        var str: String = btnClickMe.text as String;\n\n        //For setting runtimer drawable\n       btnClickMe.background=ContextCompat.getDrawable(this,R.drawable.abc_ab_share_pack_mtrl_alpha)//this.getDrawable(R.drawable.abc_ab_share_pack_mtrl_alpha)\n\n\n        /*\n        //For Setting Runtime Margine to any view.\n        var param:GridLayout.LayoutParams\n        param.setMargins(10,10,10,10);\n\n        btnClickMe.left=10;\n        btnClickMe.right=10;\n        btnClickMe.top=10;\n        btnClickMe.bottom=10;\n        */\n\n        // Set OnClick Listener.\n        btnClickMe.setOnClickListener {\n            Toast.makeText(this,str,5000).show();\n        }\n\n    }\n\n}\n</code></pre>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:orientation=\"vertical\"\ntools:context=\"chirag.iblazing.com.stackoverflowapp.MainActivity\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;Button\n    android:id=\"@+id/btnClickMe\"\n    android:text=\"Click Me\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>How can I proceed?</p>\n"}, {"tags": ["kotlin", "channel", "coroutine", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 5483, "user_id": 1356130, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/71a884fac9d80ee3171a4018b1eaf660?s=128&d=identicon&r=PG", "display_name": "atok", "link": "https://stackoverflow.com/users/1356130/atok"}, "edited": false, "score": 0, "creation_date": 1501489511, "post_id": 45410726, "comment_id": 77781819, "body": "The hackish way to do it I&#39;ve found is to .take(100) on the resulting sequence but I&#39;m not sure in what state it leaves the underlying structures."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 7, "last_activity_date": 1501503999, "creation_date": 1501503999, "answer_id": 45415930, "question_id": 45410726, "link": "https://stackoverflow.com/questions/45410726/fan-out-fan-in-closing-result-channel/45415930#45415930", "title": "Fan-out / fan-in - closing result channel", "body": "<p>You can run a coroutine that awaits for the consumers to finish and then closes the <code>resultChannel</code>.</p>\n\n<p>First, rewrite the code that starts the consumers to save the <code>Job</code>s:</p>\n\n<pre><code>val jobs = (1..threads).map {\n    launch(CommonPool) {\n        bundleProducer.consumeEach {\n            println(\"CONSUMING $it\")\n            resultChannel.send(\"Result ($it)\")\n        }\n    }\n}\n</code></pre>\n\n<p>And then run another coroutine that closes the channel once all the <code>Job</code>s are done:</p>\n\n<pre><code>launch(CommonPool) {\n    jobs.forEach { it.join() }\n    resultChannel.close()\n}\n</code></pre>\n"}], "owner": {"reputation": 5483, "user_id": 1356130, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/71a884fac9d80ee3171a4018b1eaf660?s=128&d=identicon&r=PG", "display_name": "atok", "link": "https://stackoverflow.com/users/1356130/atok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 592, "favorite_count": 0, "accepted_answer_id": 45415930, "answer_count": 1, "score": 8, "last_activity_date": 1505455043, "creation_date": 1501489399, "last_edit_date": 1505455043, "question_id": 45410726, "link": "https://stackoverflow.com/questions/45410726/fan-out-fan-in-closing-result-channel", "title": "Fan-out / fan-in - closing result channel", "body": "<p>I'm producing items, consuming from multiple co-routines and pushing back to resultChannel. Producer is closing its channel after last item. </p>\n\n<p>The code never finishes as resultChannel is never being closed. How to detect and properly finish iteration so <code>hasNext()</code> return <code>false</code>?</p>\n\n<pre><code>val inputData = (0..99).map { \"Input$it\" }\nval threads = 10\n\nval bundleProducer = produce&lt;String&gt;(CommonPool, threads) {\n    inputData.forEach { item -&gt;\n        send(item)\n        println(\"Producing: $item\")\n    }\n\n    println(\"Producing finished\")\n    close()\n}\n\nval resultChannel = Channel&lt;String&gt;(threads)\n\nrepeat(threads) {\n    launch(CommonPool) {\n        bundleProducer.consumeEach {\n            println(\"CONSUMING $it\")\n            resultChannel.send(\"Result ($it)\")\n        }\n    }\n}\n\nval iterator = object : Iterator&lt;String&gt; {\n    val iterator = resultChannel.iterator()\n    override fun hasNext() = runBlocking { iterator.hasNext() }\n    override fun next() = runBlocking { iterator.next() }\n}.asSequence()\n\nprintln(\"Starting interation...\")\n\nval result = iterator.toList()\n\nprintln(\"finish: ${result.size}\")\n</code></pre>\n"}, {"tags": ["list", "java-8", "kotlin", "java-stream"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1501501472, "post_id": 45409911, "comment_id": 77790537, "body": "Why do you need Java Streams for that? The Kotlin API is more than enough"}], "answers": [{"tags": [], "owner": {"reputation": 249903, "user_id": 2422776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2353050223ebecb113741c29458de4b2?s=128&d=identicon&r=PG", "display_name": "Mureinik", "link": "https://stackoverflow.com/users/2422776/mureinik"}, "is_accepted": false, "score": 8, "last_activity_date": 1501486687, "creation_date": 1501486687, "answer_id": 45409973, "question_id": 45409911, "link": "https://stackoverflow.com/questions/45409911/getting-the-elements-from-a-list-of-lists-with-the-java-stream-api-in-kotlin/45409973#45409973", "title": "Getting the elements from a list of lists with the Java Stream API in Kotlin", "body": "<p>You could <code>flatMap</code> each list:</p>\n\n<pre><code>List&lt;List&lt;Object&gt;&gt; listOfLists = ...;\nList&lt;Object&gt; flatList = \n    listOfLists.stream().flatMap(List::stream).collect(Collectors.toList());\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 98, "user_id": 3716155, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a46c0c26bc1c793d0af288a43a3c91a9?s=128&d=identicon&r=PG&f=1", "display_name": "rohit", "link": "https://stackoverflow.com/users/3716155/rohit"}, "is_accepted": false, "score": 1, "last_activity_date": 1501494487, "creation_date": 1501494487, "answer_id": 45412508, "question_id": 45409911, "link": "https://stackoverflow.com/questions/45409911/getting-the-elements-from-a-list-of-lists-with-the-java-stream-api-in-kotlin/45412508#45412508", "title": "Getting the elements from a list of lists with the Java Stream API in Kotlin", "body": "<p>Use flatMap</p>\n\n<pre><code>  List&lt;Integer&gt; extractedList = listOfLists.stream().flatMap(Collection::stream).collect(Collectors.toList());\n</code></pre>\n\n<p>flatMap() creates a stream out of each list in listOfLists. collect() collects the stream elements into a list.</p>\n"}, {"tags": [], "owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "is_accepted": true, "score": 17, "last_activity_date": 1502803757, "last_edit_date": 1502803757, "creation_date": 1501494881, "answer_id": 45412671, "question_id": 45409911, "link": "https://stackoverflow.com/questions/45409911/getting-the-elements-from-a-list-of-lists-with-the-java-stream-api-in-kotlin/45412671#45412671", "title": "Getting the elements from a list of lists with the Java Stream API in Kotlin", "body": "<p>In Kotlin it's super easy without any excessive boilerplate:</p>\n\n<pre><code>val listOfLists: List&lt;List&lt;String&gt;&gt; = listOf()\n\nval flattened: List&lt;String&gt; = listOfLists.flatten()\n</code></pre>\n\n<p><code>flatten()</code> is the same as doing <code>flatMap { it }</code></p>\n\n<hr>\n\n<p>In Java, you need to utilize Stream API:</p>\n\n<pre><code>List&lt;String&gt; flattened = listOfLists.stream()\n  .flatMap(List::stream)\n  .collect(Collectors.toList());\n</code></pre>\n\n<p>You can also use Stream API in Kotlin:</p>\n\n<pre><code>val flattened: List&lt;String&gt; = listOfLists.stream()\n  .flatMap { it.stream() }\n  .collect(Collectors.toList())\n</code></pre>\n"}], "owner": {"reputation": 1852, "user_id": 625672, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/8ce3f0c015e6d7482bbf5ab40110b42b?s=128&d=identicon&r=PG", "display_name": "Fabian", "link": "https://stackoverflow.com/users/625672/fabian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5158, "favorite_count": 2, "accepted_answer_id": 45412671, "answer_count": 3, "score": 7, "last_activity_date": 1502803757, "creation_date": 1501486464, "last_edit_date": 1502803710, "question_id": 45409911, "link": "https://stackoverflow.com/questions/45409911/getting-the-elements-from-a-list-of-lists-with-the-java-stream-api-in-kotlin", "title": "Getting the elements from a list of lists with the Java Stream API in Kotlin", "body": "<p>The following code (written in Kotlin) extracts the elements from a list of lists. It works, but looks rather ugly and difficult to read.</p>\n\n<p>Is there a nicer way to write the same with the java stream api? (Examples can be given in Kotlin or Java)</p>\n\n<pre><code>val listOfLists: List&lt;Any&gt; = ...\nval outList: MutableList&lt;Any&gt; = mutableListOf()\n\nlistOfLists.forEach {\n    list -&gt;\n    if (list is ArrayList&lt;*&gt;) list.forEach {\n        l -&gt;\n        outList.add(l)\n    }\n}\n\nreturn outList;\n</code></pre>\n"}, {"tags": ["kotlin", "retrofit2", "any"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 5, "creation_date": 1501486009, "post_id": 45409461, "comment_id": 77779651, "body": "You can either use non-wildcard types (e. g. MutableMap, MutableList) or use @JvmSuppressWildcards annotation (e. g. <code>@QueryMap paramsMap: @JvmSuppressWildcards Map&lt;String, Any&gt;</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 639, "user_id": 5281486, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WFC6L77HT_U/AAAAAAAAAAI/AAAAAAAAAMs/e5uzD1yfOsw/photo.jpg?sz=128", "display_name": "Abdul Hakeem Mahmood", "link": "https://stackoverflow.com/users/5281486/abdul-hakeem-mahmood"}, "is_accepted": false, "score": 41, "last_activity_date": 1543888835, "last_edit_date": 1543888835, "creation_date": 1537781181, "answer_id": 52476245, "question_id": 45409461, "link": "https://stackoverflow.com/questions/45409461/the-generic-parameters-any-of-kotlin-are-converted-to-wildcards/52476245#52476245", "title": "The generic parameters Any of kotlin are converted to wildcards(?)", "body": "<p>You simply have to add <code>@JvmSuppressWildcards</code> to your interface name.</p>\n\n<pre><code>@JvmSuppressWildcards\ninternal interface WebService {\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 243, "user_id": 8392073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12cc6534b89c1abd8dcd5b8e04964abc?s=128&d=identicon&r=PG&f=1", "display_name": "like", "link": "https://stackoverflow.com/users/8392073/like"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6547, "favorite_count": 2, "answer_count": 1, "score": 19, "last_activity_date": 1543888835, "creation_date": 1501484946, "question_id": 45409461, "link": "https://stackoverflow.com/questions/45409461/the-generic-parameters-any-of-kotlin-are-converted-to-wildcards", "title": "The generic parameters Any of kotlin are converted to wildcards(?)", "body": "<p>I encountered an issue when I used kotlin and retrofit2,The generic parameters of kotlin are converted to wildcards(?),but not in java.</p>\n\n<p>now, I need a parameter <code>Map&lt;String, Object&gt;</code>(The key is the String type, the value is not fixed) in java,convert to kotlin code is <code>Map&lt;String, Any&gt;</code>.</p>\n\n<p>But retrofit treats them differently.</p>\n\n<p><code>Map&lt;String, Object&gt;</code> in java be compiled into <code>[java.util.Map&lt;java.lang.String, java.lang.Object&gt;]</code>,and works correctly.</p>\n\n<p><code>Map&lt;String, Any&gt;</code> in kotlin be compiled into <code>[java.util.Map&lt;java.lang.String, ?&gt;]</code>,and the retrofit2 throws parameterError(Parameter type must not include a type variable or wildcard).</p>\n\n<p>1\u3001Retrofit related code</p>\n\n<pre><code>public ServiceMethod build() {\n    \u2026\u2026\n    for (int p = 0; p &lt; parameterCount; p++) {\n        Type parameterType = parameterTypes[p];\n        if (Utils.hasUnresolvableType(parameterType)) {\n            throw parameterError(p, \"Parameter type must not include a type variable or wildcard: %s\", parameterType);\n        }\n        \u2026\u2026\n    }\n    \u2026\u2026\n}\n</code></pre>\n\n<p>Utils.hasUnresolvableType(parameterType) method is quoted as follows</p>\n\n<pre><code>final class Utils {\n    \u2026\u2026\n    static boolean hasUnresolvableType(Type type) {\n        \u2026\u2026\n        if (type instanceof WildcardType) {\n            return true;\n        }\n        \u2026\u2026\n\n    }\n    \u2026\u2026\n}\n</code></pre>\n\n<p>2\u3001interface in java, I need a parameter <code>Map&lt;String, Object&gt;</code>(The key is the String type, the value is not fixed), it be compiled into <code>[java.util.Map&lt;java.lang.String, java.lang.Object&gt;]</code>,and works correctly.</p>\n\n<pre><code>@GET(\"/index.html\")\nObservable&lt;ResponseBody&gt; getQueryMap(@QueryMap Map&lt;String, Object&gt; params);\n</code></pre>\n\n<p>3\u3001interface in kotlin,I need a parameter <code>Map&lt;String, Any&gt;</code>(The key is the String type, the value is not fixed), but it be compiled into <code>[java.util.Map&lt;java.lang.String, ?&gt;]</code>,and the retrofit2 throws parameterError(Parameter type must not include a type variable or wildcard).</p>\n\n<pre><code>@GET(\"/index.html\")\nfun getQueryMap(@QueryMap paramsMap: Map&lt;String, Any&gt;): Observable&lt;ResponseBody&gt;\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 1, "last_activity_date": 1501611275, "last_edit_date": 1501611275, "creation_date": 1501607187, "answer_id": 45443845, "question_id": 45408983, "link": "https://stackoverflow.com/questions/45408983/why-cant-i-use-publishedapi-on-typealias/45443845#45443845", "title": "Why can&#39;t I use @PublishedApi on typealias?", "body": "<p>Currently you cannot use a non-public typealias in a public inline function.\nThat's a current shortcoming of how the inline function checks whether it's ok to use non-public API inside its body.</p>\n\n<p>I've opened an issue <a href=\"https://youtrack.jetbrains.com/issue/KT-19407\" rel=\"nofollow noreferrer\">KT-19407</a> to track and discuss this problem.</p>\n"}], "owner": {"reputation": 1870, "user_id": 4837112, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/da93bd05b13630b7642656d7dd34918f?s=128&d=identicon&r=PG&f=1", "display_name": "danielspaniol", "link": "https://stackoverflow.com/users/4837112/danielspaniol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1501611275, "creation_date": 1501483211, "question_id": 45408983, "link": "https://stackoverflow.com/questions/45408983/why-cant-i-use-publishedapi-on-typealias", "title": "Why can&#39;t I use @PublishedApi on typealias?", "body": "<p>In my current project I have a public interface for different kind of queries</p>\n\n<pre><code>interface Query&lt;T&gt;\n</code></pre>\n\n<p>and an internal implementation for that interface. Since I have public inline functions to create different queries I need to use <code>@PublishedApi</code> on that class</p>\n\n<pre><code>@PublishedApi\ninternal class QueryImpl&lt;T&gt; : Query&lt;T&gt;\n</code></pre>\n\n<p>Now for convenience I want to define some type-aliases for the different kind of queries. <br></p>\n\n<pre><code>typealias MatchQuery = Query&lt;MatchQueryProperties&gt;\n</code></pre>\n\n<p>this works very well for that public interface but I need to create one instance of it in my public inline function</p>\n\n<pre><code>inline fun match(init: MatchQuery.() -&gt; Unit) {\n    // It would look nicer if I could use MatchQueryImpl().init()\n    QueryImpl&lt;MatchQueryProperties&gt;().init()\n}\n</code></pre>\n\n<p>But instead of having to write <code>QueryImpl&lt;PropertiesType&gt;</code> for every kind of query I want to use an internal typealias for the implementation as well.</p>\n\n<pre><code>// fails because it needs to be internal\ntypealias MatchQueryImpl = QueryImpl&lt;MatchQueryProperties&gt;\n\n// can't be used in public inline functions\ninternal typealias MatchQueryImpl = QueryImpl&lt;MatchQueryProperties&gt; \n\n// annotation can't be used on typealias\n@PublishedApi internal typealias MatchQueryImpl = QueryImpl&lt;MatchQueryProperties&gt;\n</code></pre>\n\n<p>So my questions are: <br>\nCan I somehow use an <code>@PublishedApi internal typealias</code>? <br>\nIf not why can't I use one? <br>\nIs there another way of archiving what I want?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 0, "creation_date": 1501479546, "post_id": 45408167, "comment_id": 77776567, "body": "<a href=\"https://kotlinlang.org/docs/reference/android-overview.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/android-overview.html</a>"}, {"owner": {"reputation": 45596, "user_id": 1741671, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/QQX5Z.png?s=128&g=1", "display_name": "Ajay S", "link": "https://stackoverflow.com/users/1741671/ajay-s"}, "reply_to_user": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "edited": false, "score": 1, "creation_date": 1501479811, "post_id": 45408167, "comment_id": 77776675, "body": "You may want to take help from this thread <a href=\"https://stackoverflow.com/questions/2868047/fullscreen-activity-in-android\" title=\"fullscreen activity in android\">stackoverflow.com/questions/2868047/&hellip;</a> if you want to convert it into kotlin then you can use converter or read what @IntelliJAmiya suggested"}, {"owner": {"reputation": 412, "user_id": 8924663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cccba1c0b4b6fc0029e7ce0defa2195?s=128&d=identicon&r=PG", "display_name": "Tupio", "link": "https://stackoverflow.com/users/8924663/tupio"}, "edited": false, "score": 1, "creation_date": 1548165300, "post_id": 45408167, "comment_id": 95439248, "body": "Wondering why this question is marked as duplicate and having so many down votes. The question redirected is not showing any code in kotlin lang..."}], "answers": [{"comments": [{"owner": {"reputation": 255, "user_id": 5644410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6755f690c17322b9b1f4805ff5946065?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/5644410/dev"}, "edited": false, "score": 0, "creation_date": 1501479898, "post_id": 45408235, "comment_id": 77776700, "body": "by using this code my app is crash   Log:  Caused by: android.util.AndroidRuntimeException: requestFeature() must be called before adding content"}, {"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "reply_to_user": {"reputation": 255, "user_id": 5644410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6755f690c17322b9b1f4805ff5946065?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/5644410/dev"}, "edited": false, "score": 4, "creation_date": 1501479964, "post_id": 45408235, "comment_id": 77776727, "body": "add code before set content"}, {"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "reply_to_user": {"reputation": 255, "user_id": 5644410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6755f690c17322b9b1f4805ff5946065?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/5644410/dev"}, "edited": false, "score": 1, "creation_date": 1501480009, "post_id": 45408235, "comment_id": 77776754, "body": "check edited answer"}], "tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 11, "last_activity_date": 1501479898, "last_edit_date": 1501479898, "creation_date": 1501479776, "answer_id": 45408235, "question_id": 45408167, "link": "https://stackoverflow.com/questions/45408167/how-to-create-the-activity-full-screen-in-android-programmatically-using-kotlin/45408235#45408235", "title": "How to create the activity full screen in android programmatically using kotlin.", "body": "<p>Import Window packages</p>\n\n<pre><code>import android.view.Window\nimport android.view.WindowManager\n</code></pre>\n\n<p>Add your onCreate method</p>\n\n<pre><code>   override fun onCreate(savedInstanceState: Bundle?) {\n    requestWindowFeature(Window.FEATURE_NO_TITLE)\n    super.onCreate(savedInstanceState)     \n    window.setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n            WindowManager.LayoutParams.FLAG_FULLSCREEN)\n   setContentView(R.layout.activity_test_test)\n   }\n</code></pre>\n"}], "owner": {"reputation": 255, "user_id": 5644410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6755f690c17322b9b1f4805ff5946065?s=128&d=identicon&r=PG&f=1", "display_name": "Dev", "link": "https://stackoverflow.com/users/5644410/dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7644, "favorite_count": 0, "closed_date": 1501479630, "answer_count": 1, "score": 0, "last_activity_date": 1501480243, "creation_date": 1501479409, "last_edit_date": 1501480243, "question_id": 45408167, "link": "https://stackoverflow.com/questions/45408167/how-to-create-the-activity-full-screen-in-android-programmatically-using-kotlin", "closed_reason": "Duplicate", "title": "How to create the activity full screen in android programmatically using kotlin.", "body": "<p>How to create the activity full screen in android programmatically using kotlin. </p>\n\n<p>Thanks!</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "is_accepted": true, "score": 5, "last_activity_date": 1501569256, "last_edit_date": 1501569256, "creation_date": 1501478573, "answer_id": 45408013, "question_id": 45407880, "link": "https://stackoverflow.com/questions/45407880/java-allow-to-access-kotlins-base-variable-through-its-child-but-not-kotlin/45408013#45408013", "title": "Java allow to access Kotlin&#39;s base variable through it&#39;s child, but not Kotlin, why?", "body": "<p><strong>It's a design decision allowing you to avoid ambiguities.</strong> - child classes can have their own <code>companion object</code>s with fields/methods having same names as those in the parent. </p>\n\n<p>By restricting access to companions only through the actual class, problems with ambiguous field/method shadowing do not exist anymore.</p>\n\n<p>Also, companion objects are not <code>static</code> members known from other languages. Although, the majority of use cases overlap.</p>\n\n<p>Additionally, remember that</p>\n\n<pre><code>KotlinBase.TAG\n</code></pre>\n\n<p>is a shortcut for:</p>\n\n<pre><code>KotlinBase.Companion.TAG\n</code></pre>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 457, "favorite_count": 0, "accepted_answer_id": 45408013, "answer_count": 1, "score": 2, "last_activity_date": 1501569256, "creation_date": 1501477817, "question_id": 45407880, "link": "https://stackoverflow.com/questions/45407880/java-allow-to-access-kotlins-base-variable-through-its-child-but-not-kotlin", "title": "Java allow to access Kotlin&#39;s base variable through it&#39;s child, but not Kotlin, why?", "body": "<p>I have a class as below</p>\n\n<pre><code>open class KotlinBase {\n    companion object {\n        const val TAG = \"testing\"\n    }\n}\n</code></pre>\n\n<p>And a child of it as</p>\n\n<pre><code>class KotlinChild : KotlinBase()\n</code></pre>\n\n<p>When I try to access TAG from a Java class, I could either</p>\n\n<pre><code>public class JavaOther {\n    String test1 = KotlinBase.TAG; // This is okay\n    String test2 = KotlinChild.TAG; // This is okay\n}\n</code></pre>\n\n<p>However, when accessing from Kotlin class, I can't access through the Child.</p>\n\n<pre><code>class KotlinOther {\n    val test1 = KotlinChild.TAG  // Compile/Syntax error\n    val test2 = KotlinBase.TAG   // This is okay\n}\n</code></pre>\n\n<p>Why can't my Kotlin class access the inherited variable <code>TAG</code> through <code>KotlinChild</code>?</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "rx-kotlin"], "answers": [{"comments": [{"owner": {"reputation": 407, "user_id": 6407499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-7s4l6zo1H3U/AAAAAAAAAAI/AAAAAAAAAck/x0z4rjubJUk/photo.jpg?sz=128", "display_name": "Arsala Bangash", "link": "https://stackoverflow.com/users/6407499/arsala-bangash"}, "edited": false, "score": 0, "creation_date": 1501455809, "post_id": 45405457, "comment_id": 77771451, "body": "I used the completeable subject and it worked perfectly. There&#39;s so much to learn about Reactive Extensions!  1. Would using RX for the countdown timer theoretically increase the performance?   2. I&#39;m having a hard time understanding how the RxTimer would be completed."}, {"owner": {"reputation": 407, "user_id": 6407499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-7s4l6zo1H3U/AAAAAAAAAAI/AAAAAAAAAck/x0z4rjubJUk/photo.jpg?sz=128", "display_name": "Arsala Bangash", "link": "https://stackoverflow.com/users/6407499/arsala-bangash"}, "edited": false, "score": 0, "creation_date": 1501456113, "post_id": 45405457, "comment_id": 77771516, "body": "Oh nvm       &quot; val timeNanos = timeUnit.toNanos(time).also { require(it &gt;= 0) }&quot;      &quot; val tickNanos = tickUnit.toNanos(tick).also { require(it &gt; 0) } &quot;             Must be doing the trick"}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "reply_to_user": {"reputation": 407, "user_id": 6407499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-7s4l6zo1H3U/AAAAAAAAAAI/AAAAAAAAAck/x0z4rjubJUk/photo.jpg?sz=128", "display_name": "Arsala Bangash", "link": "https://stackoverflow.com/users/6407499/arsala-bangash"}, "edited": false, "score": 0, "creation_date": 1501459975, "post_id": 45405457, "comment_id": 77772268, "body": "@ArsalaBangash In this case there is no direct benefit to using an Rx-based timer, but it is more flexible and may be useful if you are hooking it up to other things."}], "tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": true, "score": 0, "last_activity_date": 1501454956, "creation_date": 1501454956, "answer_id": 45405457, "question_id": 45404606, "link": "https://stackoverflow.com/questions/45404606/how-to-notify-observable-when-countdowntimer-is-finished/45405457#45405457", "title": "How to notify Observable when CountdownTimer is finished", "body": "<p>You could provide a <a href=\"https://github.com/ReactiveX/RxJava/wiki/Subject\" rel=\"nofollow noreferrer\">Subject</a>.</p>\n\n<pre><code>val onFinishObservable = CompletableSubject.create()\n\noverride fun onFinish() {\n    onFinishObservable.onComplete()\n}\n</code></pre>\n\n<p>Or you could use Rx for the timer instead of <code>CountDownTimer</code>.</p>\n\n<pre><code>fun countDownTimer(\n        time: Long, timeUnit: TimeUnit = TimeUnit.MILLISECONDS,\n        tick: Long = 1, tickUnit: TimeUnit = TimeUnit.MILLISECONDS\n): Observable&lt;Long&gt; {\n    val timeNanos = timeUnit.toNanos(time).also { require(it &gt;= 0) }\n    val tickNanos = tickUnit.toNanos(tick).also { require(it &gt; 0) }\n    val ticks = timeNanos / tickNanos\n    return Observable\n        .intervalRange(\n            1L, ticks, timeNanos % tickNanos, tickNanos, TimeUnit.NANOSECONDS)\n        .map { ticks - it }\n        .startWith(ticks)\n}\n\nfun start(time: Long, timeUnit: TimeUnit = TimeUnit.SECONDS): Completable {\n    timerSubscription?.dispose()\n    val timer = countDownTimer(time, timeUnit, tickUnit = TimeUnit.SECONDS)\n    timerSubscription = timer.subscribe {\n        text = String.format(\"%d:%02d\", it / 60, it % 60)\n    }\n    return timer.ignoreElements()\n}\n</code></pre>\n\n<p>Either way, the caller can subscribe to that <code>Completable</code>.</p>\n"}], "owner": {"reputation": 407, "user_id": 6407499, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-7s4l6zo1H3U/AAAAAAAAAAI/AAAAAAAAAck/x0z4rjubJUk/photo.jpg?sz=128", "display_name": "Arsala Bangash", "link": "https://stackoverflow.com/users/6407499/arsala-bangash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 864, "favorite_count": 2, "accepted_answer_id": 45405457, "answer_count": 1, "score": 0, "last_activity_date": 1501454956, "creation_date": 1501448005, "question_id": 45404606, "link": "https://stackoverflow.com/questions/45404606/how-to-notify-observable-when-countdowntimer-is-finished", "title": "How to notify Observable when CountdownTimer is finished", "body": "<p>I have a custom Android TextView which shows the amount of time left in a game via a CountDownTimer</p>\n\n<pre><code>class CountdownTextView(context: Context, attrs: AttributeSet) : TextView(context, attrs) {\n\n    private lateinit var countDownTimer: CountDownTimer\n    private lateinit var onFinishObservable: Observable&lt;Unit&gt;\n\n    fun setTime(initTime: Int) {\n        this.text = \"$initTime:00\"\n        countDownTimer = object : CountDownTimer((initTime *1000).toLong(), 1000) {\n            override fun onTick(millisUntilFinished: Long) {\n            val minutes = millisUntilFinished / 60000\n            val seconds = (millisUntilFinished % 60000) / 1000\n            if (seconds / 10 &gt; 0) {\n                text = \"$minutes:${(millisUntilFinished % 60000) / 1000}\"\n            } else {\n                text = \"$minutes:0${(millisUntilFinished % 60000) / 1000}\"\n            }\n        }\n\n        override fun onFinish() {\n\n        }\n    }\n\n\n    fun startCountdown() {\n        countDownTimer.start()\n    }\n}\n</code></pre>\n\n<p>How do I set up an observable that emits a value when the countDownTimer's onFinish() method is called? I need this so that on the main activity, I can subscribe to that observable and perform the necessary actions when the countdowntimer expires. </p>\n"}, {"tags": ["android", "bitmap", "kotlin", "android-canvas"], "answers": [{"tags": [], "owner": {"reputation": 205, "user_id": 7833421, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ca0847d1999c25567f4cf92b6b5ef479?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Surkov", "link": "https://stackoverflow.com/users/7833421/eugene-surkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1501449881, "creation_date": 1501449881, "answer_id": 45404850, "question_id": 45404243, "link": "https://stackoverflow.com/questions/45404243/canvas-draw-bitmap/45404850#45404850", "title": "Canvas draw bitmap?", "body": "<p>Solution is draw rect with bitmap size and set some clor.</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val bitmap = BitmapFactory.decodeResource(resources, R.drawable.grass)\n    val filterBitmap = Bitmap.createBitmap(bitmap.width, bitmap.height, bitmap.config)\n\n    button.setOnClickListener {\n        val paint = Paint().apply {\n            color = Color.RED\n        }\n        val canvas = Canvas(filterBitmap)\n        canvas.drawRect(Rect(/*bitmap size**/), Paint())\n        filter_image.setImageBitmap(filterBitmap)\n    }\n}\n</code></pre>\n\n<p>}\nIn this case </p>\n\n<pre><code>val filterBitmap = Bitmap.createBitmap(bitmap.width, bitmap.height, bitmap.config)\n</code></pre>\n\n<p>we have something like transparent bitmap</p>\n\n<p>or use </p>\n\n<pre><code>filterBitmap.eraseColor(Color.RED)\n</code></pre>\n"}], "owner": {"reputation": 205, "user_id": 7833421, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ca0847d1999c25567f4cf92b6b5ef479?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Surkov", "link": "https://stackoverflow.com/users/7833421/eugene-surkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2464, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1581754002, "creation_date": 1501445539, "last_edit_date": 1581754002, "question_id": 45404243, "link": "https://stackoverflow.com/questions/45404243/canvas-draw-bitmap", "title": "Canvas draw bitmap?", "body": "<p>I know that to draw bitmap in canvas we need to call canvas.drawBitmap(filterBitmap, 0f, 0f, paint) for full screen image.\nBut I couldn't understand why my code didn't work and my ImageView is empty.</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    val bitmap = BitmapFactory.decodeResource(resources, R.drawable.grass)\n    val filterBitmap = Bitmap.createBitmap(bitmap.width, bitmap.height, bitmap.config)\n\n    val paint = Paint().apply {\n        color = Color.RED\n        style = Paint.Style.FILL\n    }\n    val canvas = Canvas(filterBitmap)\n    canvas.drawBitmap(filterBitmap, 0f, 0f, paint)\n    filter_image.setImageBitmap(filterBitmap)\n}\n</code></pre>\n\n<p>Drawable resource has width and height.</p>\n"}, {"tags": ["android", "kotlin", "onclicklistener", "butterknife"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1501438740, "post_id": 45403119, "comment_id": 77766523, "body": ":), you should remove the <code>TODO(...)</code> call which will crash your app. and you can make the parameter type <code>View?</code> to type <code>View</code> as further since it is never be <code>null</code>."}, {"owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "edited": false, "score": 0, "creation_date": 1501439020, "post_id": 45403119, "comment_id": 77766601, "body": "Your views might be null. Since you are using null-safe call using ?, it won&#39;t crash the app. Would you post your layout xml?"}, {"owner": {"reputation": 774, "user_id": 5982172, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NCUgRd9n6Vo/AAAAAAAAAAI/AAAAAAAADqM/4AJnuo6Woa8/photo.jpg?sz=128", "display_name": "iwayankit", "link": "https://stackoverflow.com/users/5982172/iwayankit"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501441517, "post_id": 45403119, "comment_id": 77767399, "body": "thank you @holi-java , i made the changes but got stuck in same"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501441813, "post_id": 45403119, "comment_id": 77767505, "body": "hi, what&#39;s wrong about you now?"}, {"owner": {"reputation": 774, "user_id": 5982172, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NCUgRd9n6Vo/AAAAAAAAAAI/AAAAAAAADqM/4AJnuo6Woa8/photo.jpg?sz=128", "display_name": "iwayankit", "link": "https://stackoverflow.com/users/5982172/iwayankit"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501442264, "post_id": 45403119, "comment_id": 77767659, "body": "i am stuck as previous, nothing happening when i am clicking on button and textview @holi-java"}, {"owner": {"reputation": 774, "user_id": 5982172, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NCUgRd9n6Vo/AAAAAAAAAAI/AAAAAAAADqM/4AJnuo6Woa8/photo.jpg?sz=128", "display_name": "iwayankit", "link": "https://stackoverflow.com/users/5982172/iwayankit"}, "reply_to_user": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "edited": false, "score": 0, "creation_date": 1501442310, "post_id": 45403119, "comment_id": 77767669, "body": "you can check now i have added xml file now, thanks for help @Bob"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501442483, "post_id": 45403119, "comment_id": 77767726, "body": "Hi, you can change the <code>register?.setOnClickListener</code> to <code>register!!.setOnClickListener</code> to make sure your view is bound in your activity."}, {"owner": {"reputation": 774, "user_id": 5982172, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NCUgRd9n6Vo/AAAAAAAAAAI/AAAAAAAADqM/4AJnuo6Woa8/photo.jpg?sz=128", "display_name": "iwayankit", "link": "https://stackoverflow.com/users/5982172/iwayankit"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501442631, "post_id": 45403119, "comment_id": 77767774, "body": "i did and got KotlinNullPointerException @holi-java"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501442690, "post_id": 45403119, "comment_id": 77767794, "body": "this is because your <code>ButterKnife</code> is never worked."}, {"owner": {"reputation": 774, "user_id": 5982172, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NCUgRd9n6Vo/AAAAAAAAAAI/AAAAAAAADqM/4AJnuo6Woa8/photo.jpg?sz=128", "display_name": "iwayankit", "link": "https://stackoverflow.com/users/5982172/iwayankit"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501442819, "post_id": 45403119, "comment_id": 77767839, "body": "i implemented it correctly right?, can you suggest me any other way to resolve this @holi-java"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501442908, "post_id": 45403119, "comment_id": 77767871, "body": "please see here how to configure your butterknife : <a href=\"https://github.com/JakeWharton/butterknife\" rel=\"nofollow noreferrer\">github.com/JakeWharton/butterknife</a>"}, {"owner": {"reputation": 774, "user_id": 5982172, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NCUgRd9n6Vo/AAAAAAAAAAI/AAAAAAAADqM/4AJnuo6Woa8/photo.jpg?sz=128", "display_name": "iwayankit", "link": "https://stackoverflow.com/users/5982172/iwayankit"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501443076, "post_id": 45403119, "comment_id": 77767929, "body": "This is for java, i need help with kotlin BTW thank you for help @holi-java"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501443131, "post_id": 45403119, "comment_id": 77767949, "body": "hey, there is kotterknife here: <a href=\"https://github.com/JakeWharton/kotterknife\" rel=\"nofollow noreferrer\">github.com/JakeWharton/kotterknife</a>"}], "owner": {"reputation": 774, "user_id": 5982172, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh6.googleusercontent.com/-NCUgRd9n6Vo/AAAAAAAAAAI/AAAAAAAADqM/4AJnuo6Woa8/photo.jpg?sz=128", "display_name": "iwayankit", "link": "https://stackoverflow.com/users/5982172/iwayankit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1104, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1501487719, "creation_date": 1501438623, "last_edit_date": 1501487719, "question_id": 45403119, "link": "https://stackoverflow.com/questions/45403119/onclick-not-responding-using-kotlin-in-android-studio", "title": "Onclick not responding using kotlin in android studio", "body": "<p>I am new to kotlin. Here I am implementing login screen to my application, and the implementation of class using kotlin as below with xml file, but when I am clicking on button or textview onclick is not responding. please help me to resolve this.</p>\n\n<pre><code>import android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.*\nimport android.util.Log\nimport android.view.View\nimport android.widget.Button\nimport android.widget.TextView\nimport android.widget.Toast\nimport butterknife.BindView\nimport butterknife.ButterKnife\nimport butterknife.OnClick\n\nclass login : AppCompatActivity(), View.OnClickListener {\n\n    @BindView(R.id.title) var title: TextView? = null\n    @BindView (R.id.email)  var email : TextView? = null\n    @BindView (R.id.password)  var pass : TextView? = null\n    @BindView (R.id.tv_fp)  var fp : TextView? = null\n    @BindView (R.id.tv_register) var register : TextView? = null\n    @BindView (R.id.btn_login )  var login : Button? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_login)\n        ButterKnife.bind(this)\n        // change to register!!.setOnClickListener(this) to make sure your view is injected\n        register?.setOnClickListener(this)\n        login?.setOnClickListener(this)\n    }\n    //                       v--- change the parameter type View? to View, it is never be null     \n    override fun onClick(p0: View?) {\n        // v--- remove it\n        TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        //   v--- remove the redundant safe-call ?. \n        if(p0?.id == R.id.tv_register){\n            Log.e(\"login\", \"i\")\n            var intent  = Intent(this@login,  signin:: class.java)\n            startActivity(intent)\n        }\n        if(p0?.id == R.id.btn_login){\n             Toast.makeText(this, \"Login Button clicked\", Toast.LENGTH_SHORT)\n        }\n    }\n}\n</code></pre>\n\n<p>and layout file of this class is as below, i used constrainedLayout </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:layout_margin=\"20dp\"&gt;\n    &lt;android.support.design.widget.TextInputEditText\n        android:id=\"@+id/email\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:hint=\"Email id\"\n        android:textCursorDrawable=\"@drawable/cursor_color\"\n        android:backgroundTint=\"@color/skyBlue\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        android:layout_marginTop=\"100dp\"\n        app:layout_constraintHorizontal_bias=\"0.0\"\n        android:inputType=\"textEmailAddress\"/&gt;\n\n    &lt;android.support.design.widget.TextInputEditText\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        android:hint=\"Password\"\n        android:textCursorDrawable=\"@drawable/cursor_color\"\n        android:id=\"@+id/password\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        android:layout_marginTop=\"8dp\"\n        app:layout_constraintTop_toBottomOf=\"@+id/email\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintHorizontal_bias=\"0.0\"\n        android:inputType=\"textPassword\"/&gt;\n\n    &lt;Button\n        android:id=\"@+id/btn_login\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Login\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        android:layout_marginTop=\"36dp\"\n        android:background=\"@color/yellow\"\n        android:textStyle=\"bold\"\n        app:layout_constraintTop_toBottomOf=\"@+id/password\"\n        android:layout_marginStart=\"4dp\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tv_fp\"\n        android:layout_width=\"171dp\"\n        android:layout_height=\"22dp\"\n        android:text=\"FORGOT PASSWORD?\"\n        android:background=\"?attr/selectableItemBackground\"\n        tools:layout_editor_absoluteY=\"301dp\"\n        android:layout_marginStart=\"8dp\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"@+id/tv_register\"\n        android:layout_marginTop=\"6dp\"\n        android:layout_marginBottom=\"7dp\"\n        app:layout_constraintBottom_toTopOf=\"@+id/btn_login\" /&gt;\n\n    &lt;TextView\n        android:id=\"@+id/tv_register\"\n        android:layout_width=\"156dp\"\n        android:layout_height=\"18dp\"\n        android:layout_marginStart=\"8dp\"\n        android:text=\"Register\"\n        android:background=\"?attr/selectableItemBackground\"\n        android:gravity=\"right\"\n        app:layout_constraintStart_toEndOf=\"@+id/tv_fp\"\n        app:layout_constraintTop_toTopOf=\"@+id/button\"\n        android:layout_marginTop=\"58dp\"\n        app:layout_constraintBottom_toBottomOf=\"@+id/btn_login\"\n         /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501438391, "post_id": 45402991, "comment_id": 77766418, "body": "what&#39;s wrong about you? Kotlin <code>arrayOf&lt;String&gt;(...)</code> is equivalent to Java <code>String[]</code>."}, {"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501438906, "post_id": 45402991, "comment_id": 77766564, "body": "@holi-java Then why doesn&#39;t this work?"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501439005, "post_id": 45402991, "comment_id": 77766595, "body": ":), I&#39;m not an android developer, and you didn&#39;t give any information what happened that nobody know why didn&#39;t work. it seems to your mime-type is wrong, maybe this can helped you: <a href=\"https://stackoverflow.com/questions/8701634/send-email-intent\">stackoverflow.com/questions/8701634/send-email-intent</a>"}], "answers": [{"comments": [{"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1501439773, "post_id": 45403249, "comment_id": 77766839, "body": "sorry, I meant <code>intent.setType(&quot;*&#47;*&quot;)</code>"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501440272, "post_id": 45403249, "comment_id": 77767022, "body": ":), you can use backslash `\\` to escape markdown symbols."}, {"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1501440492, "post_id": 45403249, "comment_id": 77767090, "body": "The &quot;TO:&quot; field still comes up blank.  I&#39;m going to have to try it on a different device, but I don&#39;t have one available just now."}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1501440687, "post_id": 45403249, "comment_id": 77767149, "body": "using a debugger, make sure that <code>to</code> actually has a value in it"}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "reply_to_user": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1501443669, "post_id": 45403249, "comment_id": 77768121, "body": "@saulspatz - ok then, try using to.toString()"}, {"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1501458039, "post_id": 45403249, "comment_id": 77771897, "body": "This didn&#39;t work, but it gave me the right idea.  See my answer."}, {"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1501492390, "post_id": 45403249, "comment_id": 77783823, "body": "@Les Posted my xml file."}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1501495123, "post_id": 45403249, "comment_id": 77785904, "body": "I took your code verbabim, changed only the package name and it works properly, &quot;To&quot; populates.  Next idea is versions.  I am running with Android Studio 3.0, Canary 8, building with minSdkVersion=23, targetSdkVersion=26, targetSdkVersion=26."}], "tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": false, "score": 4, "last_activity_date": 1501463928, "last_edit_date": 1501463928, "creation_date": 1501439336, "answer_id": 45403249, "question_id": 45402991, "link": "https://stackoverflow.com/questions/45402991/how-to-pass-string-array-to-android-email-intent/45403249#45403249", "title": "How to pass string array to android email intent", "body": "<p>Your <strong>TO</strong> statement looks right, I don't think you need to be explicit (i.e, using <code>arrayOf&lt;String>(to)</code>).</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>Based on your last update, <code>to</code> is not being recognized as a <code>String</code>.  The following code works...</p>\n\n<pre><code>            val to = \"person@gmail.com\"\n            val subject = \"Test\"\n            val message = \"Test\"\n\n            val intent = Intent(Intent.ACTION_SEND)\n            val addressees = arrayOf(to)\n            intent.putExtra(Intent.EXTRA_EMAIL, addressees)\n            intent.putExtra(Intent.EXTRA_SUBJECT, subject)\n            intent.putExtra(Intent.EXTRA_TEXT, message)\n            intent.setType(\"message/rfc822\")\n            startActivity(Intent.createChooser(intent, \"Send Email using:\"));\n</code></pre>\n\n<p>The call to <code>editTextTo.getText().toString()</code> is returning a builder or something other than a true <code>String</code>.  Instead try calling <code>arrayOf(to.toString())</code></p>\n\n<p><strong>EDIT2</strong></p>\n\n<p>Here is an example of code that works, i.e., fills in the \"To\" field in the email app.</p>\n\n<pre><code>package com.x.edittextexp\n\nimport android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\nimport android.widget.Button\nimport android.widget.EditText\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val button: Button = findViewById(R.id.button)\n        val editTextTo: EditText = findViewById(R.id.editTextTo)\n\n        button.setOnClickListener(View.OnClickListener {\n            val to = editTextTo.getText().toString()\n            val subject = \"Test\"\n            val message = \"Test\"\n\n            val intent = Intent(Intent.ACTION_SEND)\n            val addressees = arrayOf(to)\n            intent.putExtra(Intent.EXTRA_EMAIL, addressees)\n            intent.putExtra(Intent.EXTRA_SUBJECT, subject)\n            intent.putExtra(Intent.EXTRA_TEXT, message)\n            intent.setType(\"message/rfc822\")\n            startActivity(Intent.createChooser(intent, \"Send Email using:\"));\n        })\n    }\n}\n</code></pre>\n\n<p>And the xml looks like this</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:layout_height=\"match_parent\"\nandroid:layout_width=\"match_parent\"\nandroid:orientation=\"vertical\"&gt;\n\n&lt;EditText\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:inputType=\"textEmailAddress\"\n    android:hint=\"person@gmail.com\"\n    android:id=\"@+id/editTextTo\"/&gt;\n\n&lt;Button\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"BUTTON\"\n    android:id=\"@+id/button\"/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>As you can see, the differences are trivial, but this works and yours doesn't.  I would suspect the problem is in your XML file.  Could you post it?</p>\n"}, {"comments": [{"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1501464024, "post_id": 45405808, "comment_id": 77773160, "body": "my last edit uses the same construct, and Kotlin has no problem interfering the type."}, {"owner": {"reputation": 4912, "user_id": 3307720, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/a9af81f6e3d88cba98772f0419f85214?s=128&d=identicon&r=PG&f=1", "display_name": "nasch", "link": "https://stackoverflow.com/users/3307720/nasch"}, "edited": false, "score": 0, "creation_date": 1567187777, "post_id": 45405808, "comment_id": 101902803, "body": "I had it defined as an array of CharSequence and that wasn&#39;t working.  Thanks for the tip."}], "tags": [], "owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "is_accepted": false, "score": 1, "last_activity_date": 1501458435, "creation_date": 1501458435, "answer_id": 45405808, "question_id": 45402991, "link": "https://stackoverflow.com/questions/45402991/how-to-pass-string-array-to-android-email-intent/45405808#45405808", "title": "How to pass string array to android email intent", "body": "<p>I tried Les's suggestion of using <code>arrayOf(to.toString())</code>, but android studio grayed out <code>.toString()</code> indicating that it knew it was a string already.  Then I tried being more explicit:</p>\n\n<pre><code>val addressees: Array&lt;String&gt; = arrayOf(to)\n</code></pre>\n\n<p>and it worked!  I don't understand this at all.  It doesn't seem like kotlin should have any trouble with the type inference.  Perhaps some guru will see this and explain it; I'd be interested and grateful.  </p>\n"}], "owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3484, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1501494324, "creation_date": 1501437827, "last_edit_date": 1501494324, "question_id": 45402991, "link": "https://stackoverflow.com/questions/45402991/how-to-pass-string-array-to-android-email-intent", "title": "How to pass string array to android email intent", "body": "<p>I'm trying to send an email programmatically in kotlin.</p>\n\n<p>Here's my code, which I translated from a java example I found on the Web.</p>\n\n<pre><code>package com.example.emaildemo\n\nimport android.content.Intent;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\n\nclass MainActivity: AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState:Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val editTextTo:EditText  = findViewById(R.id.editText)\n        val editTextSubject:EditText = findViewById(R.id.editText2)\n        val editTextMessage:EditText = findViewById(R.id.editText3)\n        val button1:Button = findViewById(R.id.button)\n\n        button1.setOnClickListener(View.OnClickListener{\n\n          val to = editTextTo.getText().toString()\n          val subject = editTextSubject.getText().toString()\n          val message = editTextMessage.getText().toString()\n\n          val intent = Intent(Intent.ACTION_SEND)\n          val addressees = arrayOf(to)\n          intent.putExtra(Intent.EXTRA_EMAIL, addressees)\n          intent.putExtra(Intent.EXTRA_SUBJECT, subject)\n          intent.putExtra(Intent.EXTRA_TEXT, message)\n          intent.setType(\"message/rfc822\")\n          startActivity(Intent.createChooser(intent, \"Select Email Sending App :\"))\n       })\n   }\n}\n</code></pre>\n\n<p>It seems to work correctly, except that the \"TO\" field isn't copied into the user's email app.  The java code said:</p>\n\n<pre><code>intent.putExtra(Intent.EXTRA_EMAIL, new String[]{TO}); \n</code></pre>\n\n<p>and the android developer <a href=\"https://developer.android.com/guide/components/intents-common.html\" rel=\"nofollow noreferrer\">docs</a> say that Intent.EXTRA_EMAIL is \"A string array of all \"To\" recipient email addresses.\"  How should I define the <code>addressees</code> variable?</p>\n\n<p>EDIT: I've discover that if I hard code my email address, </p>\n\n<pre><code>val addressees = arrayOf(\"me@email.com\")\n</code></pre>\n\n<p>then the app works as expected.  When I get to the email app, my address is in the \"To:\" field, and I can send mail to myself.  If, however, the I type the same address in the program, it doesn't show up in the email client.  Moreover, when I look at it under the debugger, the intent shows exactly the same values both ways.  Curiouser and curiouser.</p>\n\n<p><strong>EDIT2</strong></p>\n\n<p>Here is my XML file.  (Somehow I can't get the first two lines indented correctly.)  </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"&gt;\n\n&lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:textSize=\"18dp\"\n    android:text=\"To\"\n    android:id=\"@+id/textView\"\n    android:layout_alignParentTop=\"true\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_alignParentStart=\"true\" /&gt;\n\n&lt;EditText\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"wrap_content\"\n    android:id=\"@+id/editText\"\n    android:layout_below=\"@+id/textView\"\n    android:layout_centerHorizontal=\"true\"\n    /&gt;\n\n&lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:textSize=\"18dp\"\n    android:text=\"Subject\"\n    android:id=\"@+id/textView2\"\n    android:layout_below=\"@+id/editText\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_alignParentStart=\"true\" /&gt;\n\n&lt;EditText\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"wrap_content\"\n    android:id=\"@+id/editText2\"\n    android:layout_below=\"@+id/textView2\"\n    android:layout_centerHorizontal=\"true\" /&gt;\n\n&lt;TextView\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:textSize=\"18dp\"\n    android:text=\"Message\"\n    android:id=\"@+id/textView3\"\n    android:layout_below=\"@+id/editText2\"\n    android:layout_alignParentLeft=\"true\"\n    android:layout_alignParentStart=\"true\" /&gt;\n\n&lt;EditText\n    android:layout_width=\"fill_parent\"\n    android:layout_height=\"wrap_content\"\n    android:inputType=\"textMultiLine\"\n    android:lines=\"4\"\n    android:id=\"@+id/editText3\"\n    android:layout_below=\"@+id/textView3\"\n    android:layout_centerHorizontal=\"true\" /&gt;\n\n&lt;Button\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Click Here To Send Email from android application programmatically\"\n    android:id=\"@+id/button\"\n    android:layout_below=\"@+id/editText3\"\n    android:layout_centerHorizontal=\"true\"\n    android:layout_marginTop=\"44dp\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1501430327, "post_id": 45401591, "comment_id": 77763941, "body": "Please separate this question in to 2, one about reflection, and one about vararg."}, {"owner": {"reputation": 11627, "user_id": 2602791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db72b53576b82f4fa30f46bfc8438937?s=128&d=identicon&r=PG", "display_name": "BladeCoder", "link": "https://stackoverflow.com/users/2602791/bladecoder"}, "edited": false, "score": 1, "creation_date": 1501452729, "post_id": 45401591, "comment_id": 77770688, "body": "You are trying to use Java reflection with Kotlin code. It&#39;s probable that Int::class.java does not match Kotlin&#39;s Int because Kotlin will use Java&#39;s primitive types for non-null values. I would recommend that you use Kotlin&#39;s reflection with Kotlin code instead."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8389826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00e89d7dd6626815a75a81de34255a36?s=128&d=identicon&r=PG&f=1", "display_name": "like", "link": "https://stackoverflow.com/users/8389826/like"}, "edited": false, "score": 0, "creation_date": 1501463297, "post_id": 45402772, "comment_id": 77773010, "body": "thank you for your answer sincerely\uff0cThis is the first time I use stack overflow. and my English was so bad that I couldn&#39;t articulate the issue."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 3, "user_id": 8389826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00e89d7dd6626815a75a81de34255a36?s=128&d=identicon&r=PG&f=1", "display_name": "like", "link": "https://stackoverflow.com/users/8389826/like"}, "edited": false, "score": 0, "creation_date": 1501485540, "post_id": 45402772, "comment_id": 77779355, "body": "@like No explanation is never better than a not ideal one"}], "tags": [], "owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "is_accepted": true, "score": 2, "last_activity_date": 1501436312, "creation_date": 1501436312, "answer_id": 45402772, "question_id": 45401591, "link": "https://stackoverflow.com/questions/45401591/kotlin-reflect-and-vararg/45402772#45402772", "title": "kotlin reflect and vararg", "body": "<p>You probably want to replace <code>b(args)</code> with <code>b(*args)</code> and <code>method.invoke(this, args)</code> with <code>method.invoke(this, *args)</code>. <code>*</code> is the <a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"nofollow noreferrer\">spread operator</a>, which can be used to explode an array of size <code>n</code> (in this case <code>args</code>) to varargs of size <code>n</code>. </p>\n\n<p>This is needed, because you may just as well want to pass in the array called <code>args</code> as the one and only parameter instead of its contents. I'm not sure if the Java code is broken as well, but the test passes due to the <code>catch</code>-block.</p>\n\n<p>By the way, please describe the error you're facing in more detail next time. State what problem you actually have and which behavior you're expecting instead of just giving us some code.</p>\n"}], "owner": {"reputation": 3, "user_id": 8389826, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/00e89d7dd6626815a75a81de34255a36?s=128&d=identicon&r=PG&f=1", "display_name": "like", "link": "https://stackoverflow.com/users/8389826/like"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 0, "accepted_answer_id": 45402772, "answer_count": 1, "score": -4, "last_activity_date": 1501436312, "creation_date": 1501429137, "last_edit_date": 1501429213, "question_id": 45401591, "link": "https://stackoverflow.com/questions/45401591/kotlin-reflect-and-vararg", "title": "kotlin reflect and vararg", "body": "<p>I'm trying to replace Java with kotlin, But there are problems with the transmission of vararg.</p>\n\n<p><strong>test passed in java</strong></p>\n\n<pre><code>public class ExampleUnitTest1 {\n    @Test\n    public void test() {\n        a(1, 2);\n    }\n\n    public void a(Object... args) {\n        b(args);\n    }\n\n    public void b(Object... args) {\n        Class clazz1 = ExampleUnitTest1.class;\n        try {\n            Method method = clazz1.getMethod(\"add\", Integer.class, Integer.class);\n            method.invoke(this, args);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void add(Integer a, Integer b) {\n        System.out.println(a + b);\n    }\n}\n</code></pre>\n\n<p><strong>but test failed in kotlin</strong></p>\n\n<pre><code>class ExampleUnitTest {\n    @Test\n    fun test() {\n        a(1, 2)\n    }\n\n    fun a(vararg args: Any) {\n        b(args)\n    }\n\n    fun b(vararg args: Any) {\n        val clazz1 = ExampleUnitTest::class.java\n        val method = clazz1.getMethod(\"add\", Int::class.java, Int::class.java)\n        method.invoke(this, args) // also failed to replace with args[0]\n    }\n\n    fun add(a: Int, b: Int) {\n        println(a + b)\n    }\n}\n</code></pre>\n"}, {"tags": ["javafx", "label", "kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1501443278, "post_id": 45401015, "comment_id": 77768002, "body": "You have removed the SystemDetailsViewProxy.kt class from HEAD now, so I&#39;ts hard to test. Can you put it back perhaps?"}, {"owner": {"reputation": 408, "user_id": 2881550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8kv.jpg?s=128&g=1", "display_name": "ItWillDo", "link": "https://stackoverflow.com/users/2881550/itwilldo"}, "reply_to_user": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 0, "creation_date": 1501443498, "post_id": 45401015, "comment_id": 77768073, "body": "Hey Edvin, please try checking out the <code>feature&#47;APTFX-3-Create-system-details-view</code> branch. Thanks for the effort!"}], "answers": [{"comments": [{"owner": {"reputation": 408, "user_id": 2881550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8kv.jpg?s=128&g=1", "display_name": "ItWillDo", "link": "https://stackoverflow.com/users/2881550/itwilldo"}, "edited": false, "score": 0, "creation_date": 1501531589, "post_id": 45404435, "comment_id": 77810161, "body": "Hey Edvin, thank you very much for the clarification and the additional remarks! Looks like I&#39;ll have to look a little bit further into JavaFX &amp; TornadoFX to get a better grasp on how it&#39;s structured."}, {"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 408, "user_id": 2881550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8kv.jpg?s=128&g=1", "display_name": "ItWillDo", "link": "https://stackoverflow.com/users/2881550/itwilldo"}, "edited": false, "score": 0, "creation_date": 1501594559, "post_id": 45404435, "comment_id": 77839685, "body": "Great :) If you have questions or need guidance, you should join us on Slack! <a href=\"https://kotlinlang.slack.com/messages/tornadofx/\" rel=\"nofollow noreferrer\">kotlinlang.slack.com/messages/tornadofx</a>"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 1, "last_activity_date": 1501446862, "creation_date": 1501446862, "answer_id": 45404435, "question_id": 45401015, "link": "https://stackoverflow.com/questions/45401015/tornadofx-label-text-not-updating/45404435#45404435", "title": "TornadoFX: Label text not updating", "body": "<p>The reason this isn't working is that you're manually loading a new version of the FMXL file every time you select something in your menu. The FXML file originally loaded by <code>SystemDetailsViewProxy</code> is updated correctly, but that's not the one you're showing on screen anymore.</p>\n\n<p>To see the updated View, make sure you put the root node of the <code>SystemDetailsViewProxy</code> instance back.</p>\n\n<p>You could for example change your DrawerMenuButton enum to contain references to SystemDetailsViewProxy::class instead of those two strings, and use <code>add(viewClass)</code> to add the correct root node to your view when clicking the menu buttons.</p>\n\n<p>Furthermore, you should be using ViewModels and binding instead of manually updating the text property of the labels. You're doing an awful lot of manual/error prone work that the framework can help you with for free.</p>\n\n<p>Your application is not using best practices in several important areas, and you're rolling your own solutions for stuff that the framework already does very well :)</p>\n\n<p>Views are singletons when managed by the framework, but you instantiate them yourself instead of using inject/find. The result is that important life cycle methods are not being called.</p>\n\n<p>I would also suggest looking into type safe builders instead of FXML.</p>\n\n<p>Hope this helps :)</p>\n"}], "owner": {"reputation": 408, "user_id": 2881550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8kv.jpg?s=128&g=1", "display_name": "ItWillDo", "link": "https://stackoverflow.com/users/2881550/itwilldo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 818, "favorite_count": 0, "accepted_answer_id": 45404435, "answer_count": 1, "score": 1, "last_activity_date": 1501446862, "creation_date": 1501425792, "question_id": 45401015, "link": "https://stackoverflow.com/questions/45401015/tornadofx-label-text-not-updating", "title": "TornadoFX: Label text not updating", "body": "<p>One of the issues I'm currently experiencing is that I can't seem to change the text of a Label which is implemented in a dynamically loaded <code>AnchorPane</code>. I assume this might be related to the controller and how JavaFX/TornadoFX works, but I can't seem to find what I'm doing wrong.</p>\n\n<p>The issue itself occurs in <a href=\"https://github.com/sigmadeltasoftware/APT-InItFX/blob/feature/APTFX-3-Create-system-details-view/src/main/kotlin/be/sigmadelta/aptinitfx/presentation/systemdetails/SystemDetailsViewProxy.kt\" rel=\"nofollow noreferrer\">this class</a>, and happens in the <code>showSystemDetails()</code> method. What I would expect to happen is that upon pressing the \"System Details\" button in the sidebar, the labels would update to the required value, but this isn't happening for some reason. </p>\n\n<p>Please feel free to point me to what I'm doing wrong, or provide any constructive criticism. The project is still in full development so a lot of things are still messy/broken.</p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "answers": [{"tags": [], "owner": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "is_accepted": true, "score": 10, "last_activity_date": 1501429709, "creation_date": 1501429709, "answer_id": 45401693, "question_id": 45400892, "link": "https://stackoverflow.com/questions/45400892/android-dagger-2-11-with-kotlin-contributesandroidinjector-annotation-issue/45401693#45401693", "title": "Android Dagger 2.11 with Kotlin, ContributesAndroidInjector Annotation issue", "body": "<p>The problem is about my dependencies. Here're the working dependencies for <code>Dagger 2.11</code> and <code>Kotlin</code>.</p>\n\n<pre><code>compile \"com.google.dagger:dagger-android-support:$rootProject.ext.daggerVersion\"\nkapt \"com.google.dagger:dagger-compiler:$rootProject.ext.daggerVersion\"\nkapt \"com.google.dagger:dagger-android-processor:$rootProject.ext.daggerVersion\"\n</code></pre>\n\n<p>Thanks all for help. </p>\n"}], "owner": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1470, "favorite_count": 0, "accepted_answer_id": 45401693, "answer_count": 1, "score": 0, "last_activity_date": 1502231032, "creation_date": 1501425092, "question_id": 45400892, "link": "https://stackoverflow.com/questions/45400892/android-dagger-2-11-with-kotlin-contributesandroidinjector-annotation-issue", "title": "Android Dagger 2.11 with Kotlin, ContributesAndroidInjector Annotation issue", "body": "<p>I'm using <code>Dagger 2.11</code> with <code>Kotlin</code>. Everything is fine with <code>Dagger</code> but when i add <code>ContributesAndroidInjector</code> annotation to project i get this error:</p>\n\n<pre><code>e: \n...build/tmp/kapt3/stubs/devDebug/com/raqun/android/di/AppComponent.java:6: error: dagger.internal.codegen.ComponentProcessor was unable to process this interface because not all of its dependencies could be resolved. Check for compilation errors or a circular dependency with generated code.\ne: \n\ne: public abstract interface AppComponent extends dagger.android.AndroidInjector&lt;MyApp&gt; {\ne:  \n</code></pre>\n\n<p>Here're the dependencies i use: </p>\n\n<pre><code>$rootProject.ext.daggerVersion = 2.11\n\ncompile \"com.google.dagger:dagger-android:$rootProject.ext.daggerVersion\"\ncompile \"com.google.dagger:dagger-android-support:$rootProject.ext.daggerVersion\"\nkapt \"com.google.dagger:dagger-compiler:$rootProject.ext.daggerVersion\"\nannotationProcessor \"com.google.dagger:dagger-android-processor:$rootProject.ext.daggerVersion\"\nannotationProcessor \"com.google.dagger:dagger-compiler:$rootProject.ext.daggerVersion\"\n</code></pre>\n\n<p>I already added:</p>\n\n<pre><code>kapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>apply plugin: 'kotlin-kapt'\n</code></pre>\n\n<p>What i'm missing or doing wrong? \nThanks for your help.</p>\n\n<p><strong>Not:</strong> I already tried cleaning gradle and re-building project.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "answers": [{"tags": [], "owner": {"reputation": 1643, "user_id": 3396396, "user_type": "registered", "accept_rate": 13, "profile_image": "https://graph.facebook.com/608285721/picture?type=large", "display_name": "Rik van Velzen", "link": "https://stackoverflow.com/users/3396396/rik-van-velzen"}, "is_accepted": false, "score": 0, "last_activity_date": 1501425178, "creation_date": 1501425178, "answer_id": 45400909, "question_id": 45400842, "link": "https://stackoverflow.com/questions/45400842/unable-to-add-kotlin-android-extensions-to-my-project/45400909#45400909", "title": "Unable to add Kotlin Android Extensions to my project", "body": "<p>Ooops. I forgot to add the kotlin gradle plugin as mentioned here:\n<a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#plugin-and-versions\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/using-gradle.html#plugin-and-versions</a></p>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1591808880, "post_id": 45507822, "comment_id": 110200046, "body": "Order actually matters in gradle?"}], "tags": [], "owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "is_accepted": false, "score": 37, "last_activity_date": 1590228850, "last_edit_date": 1590228850, "creation_date": 1501852434, "answer_id": 45507822, "question_id": 45400842, "link": "https://stackoverflow.com/questions/45400842/unable-to-add-kotlin-android-extensions-to-my-project/45507822#45507822", "title": "Unable to add Kotlin Android Extensions to my project", "body": "<p>I think it's all about ordering,\nmake sure you have plugin orders like that</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'realm-android'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 39, "user_id": 6912748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jhCy5.jpg?s=128&g=1", "display_name": "Parth Ravrani", "link": "https://stackoverflow.com/users/6912748/parth-ravrani"}, "is_accepted": false, "score": 3, "last_activity_date": 1511596771, "creation_date": 1511596771, "answer_id": 47483817, "question_id": 45400842, "link": "https://stackoverflow.com/questions/45400842/unable-to-add-kotlin-android-extensions-to-my-project/47483817#47483817", "title": "Unable to add Kotlin Android Extensions to my project", "body": "<p>you are all done good but you have to add the plugin id to dependencies classpath in your gradle file like this</p>\n\n<pre><code>buildscript {\next.kotlin_version = '1.1.60'\nrepositories {\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:2.1.0'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n  }\n}\n</code></pre>\n\n<p>you always have to add that and after doing this, add the following in your gradle(app) file</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n</code></pre>\n\n<p>and you are all done</p>\n"}, {"tags": [], "owner": {"reputation": 199, "user_id": 9832581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "abhilasha Yadav", "link": "https://stackoverflow.com/users/9832581/abhilasha-yadav"}, "is_accepted": false, "score": 1, "last_activity_date": 1527091272, "last_edit_date": 1527091272, "creation_date": 1527089257, "answer_id": 50492204, "question_id": 45400842, "link": "https://stackoverflow.com/questions/45400842/unable-to-add-kotlin-android-extensions-to-my-project/50492204#50492204", "title": "Unable to add Kotlin Android Extensions to my project", "body": "<p>In your gradle app:</p>\n\n<pre><code>apply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>and in your activity:</p>\n\n<pre><code>import kotlinx.android.synthetic.main.height_dialog_ft.*\n</code></pre>\n\n<p>Then you can use any id in your activity directly by their id name which your\nhave mentioned in your .xml file</p>\n"}, {"tags": [], "owner": {"reputation": 665, "user_id": 5590380, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-nQmD-ZDrADU/AAAAAAAAAAI/AAAAAAAAEZw/of6iEdmhdb0/photo.jpg?sz=128", "display_name": "Ramin Ar", "link": "https://stackoverflow.com/users/5590380/ramin-ar"}, "is_accepted": false, "score": 10, "last_activity_date": 1578863675, "creation_date": 1578863675, "answer_id": 59708172, "question_id": 45400842, "link": "https://stackoverflow.com/questions/45400842/unable-to-add-kotlin-android-extensions-to-my-project/59708172#59708172", "title": "Unable to add Kotlin Android Extensions to my project", "body": "<p>Please also consider that you must be careful about <code>apply plugin:</code> orders:</p>\n\n<p>So in order to apply <code>kotlin-android-extensions</code> you must first apply <code>kotlin-android</code>. Same as the following coode:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 13273099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f78021763e1fc64d8f8e754adca2b483?s=128&d=identicon&r=PG&f=1", "display_name": "Gabor Szigeti", "link": "https://stackoverflow.com/users/13273099/gabor-szigeti"}, "is_accepted": false, "score": 7, "last_activity_date": 1605106289, "creation_date": 1605106289, "answer_id": 64788708, "question_id": 45400842, "link": "https://stackoverflow.com/questions/45400842/unable-to-add-kotlin-android-extensions-to-my-project/64788708#64788708", "title": "Unable to add Kotlin Android Extensions to my project", "body": "<p>Android Studio 4.1</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'kotlin-android'\n    id 'kotlin-android-extensions'\n}\n</code></pre>\n"}], "owner": {"reputation": 1643, "user_id": 3396396, "user_type": "registered", "accept_rate": 13, "profile_image": "https://graph.facebook.com/608285721/picture?type=large", "display_name": "Rik van Velzen", "link": "https://stackoverflow.com/users/3396396/rik-van-velzen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16316, "favorite_count": 0, "answer_count": 6, "score": 17, "last_activity_date": 1605106289, "creation_date": 1501424742, "last_edit_date": 1502119256, "question_id": 45400842, "link": "https://stackoverflow.com/questions/45400842/unable-to-add-kotlin-android-extensions-to-my-project", "title": "Unable to add Kotlin Android Extensions to my project", "body": "<p>When i try to add kotlin-android-extensions via:</p>\n\n<p><code>apply plugin: 'kotlin-android-extensions'</code></p>\n\n<p>to my project Android Studio tells me <em>Plugin with 'kotlin-android-extensions</em> not found??</p>\n\n<p>What is going wrong? I am Running Android Studio 3.0 Canary 8</p>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "answers": [{"tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": false, "score": 1, "last_activity_date": 1501443308, "creation_date": 1501443308, "answer_id": 45403898, "question_id": 45399232, "link": "https://stackoverflow.com/questions/45399232/gradle-kotlin-is-it-possible-to-create-dynamic-on-fly-tasks/45403898#45403898", "title": "Gradle. Kotlin - is it possible to create dynamic (&quot;on fly&quot;) tasks?", "body": "<p>Yes, you can create tasks dynamically and refer to other tasks by (String) name in the Gradle Kotlin DSL.</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>tasks {\n    \"installDebugFlavors\" {\n        android.applicationVariants.forEach { v -&gt;\n            if (v.name.endsWith(\"Debug\")) {\n                val name = v.name.capitalize()\n                dependsOn(\"install$name\")\n            }\n        }\n    }        \n}\n</code></pre>\n"}], "owner": {"reputation": 1227, "user_id": 8164968, "user_type": "registered", "accept_rate": 19, "profile_image": "https://www.gravatar.com/avatar/c76845207f72226c13e5546f8ddff26c?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8164968/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1537446144, "creation_date": 1501413483, "last_edit_date": 1537446144, "question_id": 45399232, "link": "https://stackoverflow.com/questions/45399232/gradle-kotlin-is-it-possible-to-create-dynamic-on-fly-tasks", "title": "Gradle. Kotlin - is it possible to create dynamic (&quot;on fly&quot;) tasks?", "body": "<p>I'm an android developer. And as result write build by Gradle. Many tasks I write on Gradle DSL on Groovy. </p>\n\n<p>Sometimes I need to create Gradle tasks dynamically (\"on fly\"). Here example:</p>\n\n<pre><code>task installDebugFlavors() {\n    android.applicationVariants.all { v -&gt;\n        if (v.name.endsWith('Debug')) {\n            String name = v.name.capitalize()\n            dependsOn \"install$name\"\n        }\n    }\n}\n</code></pre>\n\n<p>This task generate new tasks with all flavors combinations.\nAs result Gradle script is very small, easy to understand and easy to support. It' very powerfull Groovy capability. And it's very often help me.</p>\n\n<p>In new version of Gradle was introduce new language - Kotlin.</p>\n\n<p>My question is: Is it possible to write same task (for dynamic creation of another tasks) on Kotlin?</p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "edited": false, "score": 0, "creation_date": 1501403886, "post_id": 45397925, "comment_id": 77756477, "body": "What exactly about the message don&#39;t you understand? The message seems pretty clear."}, {"owner": {"reputation": 178, "user_id": 7866322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/akLNK.jpg?s=128&g=1", "display_name": "Ali Barani", "link": "https://stackoverflow.com/users/7866322/ali-barani"}, "reply_to_user": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "edited": false, "score": 0, "creation_date": 1501404596, "post_id": 45397925, "comment_id": 77756643, "body": "How i can update the kotlin runtime? and i don&#39;t which kotlin version is compatible with the gradle version 3.0.0."}, {"owner": {"reputation": 1672, "user_id": 1413913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nGSn2.jpg?s=128&g=1", "display_name": "J. Willette", "link": "https://stackoverflow.com/users/1413913/j-willette"}, "edited": false, "score": 2, "creation_date": 1505962418, "post_id": 45397925, "comment_id": 79629723, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/43928118/outdated-kotlin-runtime-warning-kotlin-plugin-1-1-2-release-studio2-3-3\">Outdated Kotlin Runtime warning (Kotlin plugin 1.1.2-release-Studio2.3-3)</a>"}], "answers": [{"comments": [{"owner": {"reputation": 178, "user_id": 7866322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/akLNK.jpg?s=128&g=1", "display_name": "Ali Barani", "link": "https://stackoverflow.com/users/7866322/ali-barani"}, "edited": false, "score": 1, "creation_date": 1501406071, "post_id": 45398186, "comment_id": 77756991, "body": "I will try to change it to this version and restart the android studio, hopefully this notification about kotlin outdated runtime is solved.                                                                                                       THANKS"}, {"owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "reply_to_user": {"reputation": 178, "user_id": 7866322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/akLNK.jpg?s=128&g=1", "display_name": "Ali Barani", "link": "https://stackoverflow.com/users/7866322/ali-barani"}, "edited": false, "score": 0, "creation_date": 1501406509, "post_id": 45398186, "comment_id": 77757126, "body": "If it solves your problem, don&#39;t forget to accept the answer. ))"}, {"owner": {"reputation": 3163, "user_id": 1690017, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f4227236924d10a1c31e13c0857f398c?s=128&d=identicon&r=PG", "display_name": "David", "link": "https://stackoverflow.com/users/1690017/david"}, "edited": false, "score": 0, "creation_date": 1526653707, "post_id": 45398186, "comment_id": 87842727, "body": "I don&#39;t have that defined anywhere in my project, still getting that warning though :S"}, {"owner": {"reputation": 3317, "user_id": 2557258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xBgdF.jpg?s=128&g=1", "display_name": "Yazon2006", "link": "https://stackoverflow.com/users/2557258/yazon2006"}, "edited": false, "score": 0, "creation_date": 1538128892, "post_id": 45398186, "comment_id": 92044521, "body": "I can say that the problem can be in plugin for Android Studio. Open Android Studio -&gt; File -&gt; Settings -&gt; Plugins -&gt; Browse repositories... -&gt; Find Kotlin Repo -&gt; Push Update button at the top right corner of the window."}], "tags": [], "owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "is_accepted": true, "score": 11, "last_activity_date": 1501405647, "creation_date": 1501405647, "answer_id": 45398186, "question_id": 45397925, "link": "https://stackoverflow.com/questions/45397925/outdated-kotlin-runtime/45398186#45398186", "title": "Outdated Kotlin Runtime", "body": "<p>Go to your <code>build.gradle</code> file. \nChange </p>\n\n<pre><code>ext.kotlin_version = '1.1.2-4'\n</code></pre>\n\n<p>to</p>\n\n<pre><code>ext.kotlin_version = '1.1.3-2' \n</code></pre>\n\n<p>For future references, visit this <a href=\"https://bintray.com/bintray/jcenter/org.jetbrains.kotlin%3Akotlin-gradle-plugin\" rel=\"noreferrer\">link</a> to see the latest update and update it accordingly in your <code>build.gradle</code> file. </p>\n"}], "owner": {"reputation": 178, "user_id": 7866322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/akLNK.jpg?s=128&g=1", "display_name": "Ali Barani", "link": "https://stackoverflow.com/users/7866322/ali-barani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4572, "favorite_count": 1, "accepted_answer_id": 45398186, "answer_count": 1, "score": 5, "last_activity_date": 1531674678, "creation_date": 1501403748, "question_id": 45397925, "link": "https://stackoverflow.com/questions/45397925/outdated-kotlin-runtime", "title": "Outdated Kotlin Runtime", "body": "<p>I got this message when i wanted to update the kotlin runtime:</p>\n\n<p>Your version of Kotlin runtime in 'kotlin-stdlib-1.1.2-4' library is 1.1.2-4, while plugin version is 1.1.3-release-Studio 3.0-2.\nRuntime library should be updated to avoid compatibility problems.</p>\n\n<p>Some of codes segment which is exist in the file build.gradle</p>\n\n<p>ext.kotlin_version = '1.1.2-4' <br>\nclasspath 'com.android.tools.build:gradle:3.0.0-alpha8'</p>\n\n<p>Can anyone help me to solve this issue?</p>\n\n<p>Thanks in advance..</p>\n"}, {"tags": ["collections", "kotlin", "typechecking"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1501405468, "post_id": 45397859, "comment_id": 77756837, "body": "If you just added <code>println(it.javaClass)</code> inside your closure, you would know."}, {"owner": {"reputation": 181, "user_id": 1708857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5531142ecf326afc2d695f1efb45130e?s=128&d=identicon&r=PG", "display_name": "natrollus", "link": "https://stackoverflow.com/users/1708857/natrollus"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1501406063, "post_id": 45397859, "comment_id": 77756988, "body": "<code>harfler.all { println(it.javaClass) }</code>required boolean"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1501406229, "post_id": 45397859, "comment_id": 77757032, "body": "Don&#39;t <b>replace</b> the closure code by that. <b>add</b> that line in the closure, right after the opening curly brace."}, {"owner": {"reputation": 181, "user_id": 1708857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5531142ecf326afc2d695f1efb45130e?s=128&d=identicon&r=PG", "display_name": "natrollus", "link": "https://stackoverflow.com/users/1708857/natrollus"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1501406421, "post_id": 45397859, "comment_id": 77757101, "body": "i edited questions for that @JBNizet"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1501406551, "post_id": 45397859, "comment_id": 77757144, "body": "But you still haven&#39;t read my comment. I never told you to replace the closure code by <code>it.javaClass</code>. I told you to <b>add</b> the line <code>println(it.javaClass)</code> to the closure, right after the opening curly brace."}, {"owner": {"reputation": 181, "user_id": 1708857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5531142ecf326afc2d695f1efb45130e?s=128&d=identicon&r=PG", "display_name": "natrollus", "link": "https://stackoverflow.com/users/1708857/natrollus"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1501406995, "post_id": 45397859, "comment_id": 77757257, "body": "i can&#39;t <b>add</b> line in closure,can you write full code?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1501407126, "post_id": 45397859, "comment_id": 77757296, "body": "Jeez, this is extremely basic stuff. Adding a line inside a block of code shouldn&#39;t be a problem. <a href=\"https://gist.github.com/jnizet/52fca9bf16eae0bef5fd70cc10d035db\" rel=\"nofollow noreferrer\">gist.github.com/jnizet/52fca9bf16eae0bef5fd70cc10d035db</a>"}, {"owner": {"reputation": 181, "user_id": 1708857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5531142ecf326afc2d695f1efb45130e?s=128&d=identicon&r=PG", "display_name": "natrollus", "link": "https://stackoverflow.com/users/1708857/natrollus"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1501407449, "post_id": 45397859, "comment_id": 77757379, "body": "ok but <b>all</b> iterator element one by one must be return true in this condition <code>(it.javaClass == String::class.java || it.javaClass == Char::class.java)</code>,why return false?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1501407513, "post_id": 45397859, "comment_id": 77757399, "body": "Have you added the line of code? Have you executed the code with that line added? What does it print? Does it print kotlin.Char.class? Or does it print something else?"}, {"owner": {"reputation": 181, "user_id": 1708857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5531142ecf326afc2d695f1efb45130e?s=128&d=identicon&r=PG", "display_name": "natrollus", "link": "https://stackoverflow.com/users/1708857/natrollus"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1501407983, "post_id": 45397859, "comment_id": 77757518, "body": "yes i have added, and it prints <i>class java.lang.String class java.lang.String class java.lang.Character false</i> ,but all function doesnt do compare all items in one condition?"}, {"owner": {"reputation": 181, "user_id": 1708857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5531142ecf326afc2d695f1efb45130e?s=128&d=identicon&r=PG", "display_name": "natrollus", "link": "https://stackoverflow.com/users/1708857/natrollus"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1501408263, "post_id": 45397859, "comment_id": 77757597, "body": "@JBNizet ok i fixed and understand the problem: <a href=\"https://gist.github.com/natrollus/e5733211143539255a545cdbd29a3708\" rel=\"nofollow noreferrer\">gist.github.com/natrollus/e5733211143539255a545cdbd29a3708</a> if you add answer i&#39;ll accept it."}], "answers": [{"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 181, "user_id": 1708857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5531142ecf326afc2d695f1efb45130e?s=128&d=identicon&r=PG", "display_name": "natrollus", "link": "https://stackoverflow.com/users/1708857/natrollus"}, "edited": false, "score": 0, "creation_date": 1501420807, "post_id": 45400025, "comment_id": 77760972, "body": "@natrollus Not at all. glad it helped you, :)"}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 3, "last_activity_date": 1501419192, "creation_date": 1501419192, "answer_id": 45400025, "question_id": 45397859, "link": "https://stackoverflow.com/questions/45397859/whats-the-behavior-of-iterableall-why-did-kotlin-charclass-java-char-ja/45400025#45400025", "title": "What&#39;s the behavior of Iterable#all &amp; Why did Kotlin Char::class.java != char.javaClass", "body": "<p>As @JB Nizet has already told you how to analyze the problem. </p>\n\n<p>According to the <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">Mapped Types</a>, The Kotlin <code>Char</code> will be mapped to Java Type decide on its declaration. </p>\n\n<ul>\n<li>when declare as a <strong>non-nullable</strong> type <code>Char</code> it is a primitive Java type <code>char</code>.</li>\n<li>when declare as a <strong>nullable</strong> type <code>Char?</code> it is a Java wrapper type <code>Character</code>.</li>\n<li><p>when declare as a <strong>type argument</strong> <code>List&lt;Char&gt;</code> it is a Java wrapper type <code>Character</code>.</p>\n\n<pre><code>val it = 'a'\n//                v--- it should be `Any`\nval array: Array&lt;Any&gt; = arrayOf('a')\n\n//          v--- char\nprintln(it.javaClass)\n\n//             v--- print [java.lang.Character]  \nprintln(array.map { it.javaClass })\n</code></pre></li>\n</ul>\n\n<hr>\n\n<p>But I want to say that there is a different between the <strong>usage</strong> and the <strong>declaration</strong>.\nFor example, the parameter type <code>it</code> is a <code>java.lang.Character</code>, but its <code>javaClass</code> is <code>char</code>.</p>\n\n<pre><code>fun typeOf(it: Char?) = it?.javaClass\n\nfun test() {\n    //                                          v--- java.lang.Character\n    println(::typeOf.javaMethod!!.parameterTypes[0])\n    //       v--- but it return `char` rather than `java.lang.Character`\n    println(typeOf('a'))\n}\n</code></pre>\n\n<p>And the example below show the different as further, this is why I declare the array type to <code>Array&lt;Any&gt;</code> rather than <code>Array&lt;Char&gt;</code> in preceding example:</p>\n\n<pre><code>//                v--- uses `java.lang.Character` instead\nval array: Array&lt;Char&gt; = arrayOf('a')\n\n//                       v--- java.lang.Character\nprintln(array.javaClass.componentType)\n//             v--- [char]\nprintln(array.map { it.javaClass })\n</code></pre>\n\n<hr>\n\n<p><strong>Why</strong> did the strange behavior occurs in Koltin? </p>\n\n<p>This is because Kotlin <code>Char</code> and other wrapper classes represent 2 roles. one is a Java <strong>primitive type</strong> <code>char</code>, another is a Java <strong>wrapper</strong> class <code>java.lang.Character</code>. However, Kotlin <code>Char</code> is <strong>statically</strong> which means you can't change its type in runtime. and a <code>Char</code> should be mapped to a <code>char</code> by default in Kotlin.</p>\n\n<p><strong>IF</strong> you want get the wrapper type every time, you should use <code>KClass.javaObjectType</code> instead, for example:</p>\n\n<pre><code>//                  v--- char \nprintln(Char::class.java)\n//                  v--- java.lang.Character\nprintln(Char::class.javaObjectType)\n</code></pre>\n\n<hr>\n\n<p>The <code>Iterable#all</code> operation is a short-circuiting operation, which means if any first element didn't satisfied will return <code>false</code> immediately.</p>\n\n<pre><code>inline fun &lt;T&gt; Iterable&lt;T&gt;.all(predicate: (T) -&gt; Boolean): Boolean {\n    //   return `false` immediately the condition didn't satisfied\n    //                        v                                            \n    for (element in this) if (!predicate(element)) return false\n    return true\n}\n</code></pre>\n\n<hr>\n\n<p>When checking a Kotlin class like as <code>Char</code> and others. you should use the Kotlin <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#type-checks-and-casts\" rel=\"nofollow noreferrer\">type checking</a> mechanism rather than traditional comparing approach, it helps you avoid such a confusion. for example:</p>\n\n<pre><code>val anything: Array&lt;Any&gt; = arrayOf('a')\nval chars: Array&lt;Char&gt; = arrayOf('a')\n\nprintln(chars.all { it is Char }) // print true\nprintln(anything.all { it is Char }) // print true\n</code></pre>\n\n<p>So your code can replace with <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#type-checks-and-casts\" rel=\"nofollow noreferrer\">type checking</a> as below:</p>\n\n<pre><code>fun test() {\n    val harfler = listOf(\"a\", \"b\", 'c', 'd')\n\n    //                       v---------------v--- use type checking here \n    println(harfler.all { it is String || it is Char }) // print true\n}\n</code></pre>\n"}], "owner": {"reputation": 181, "user_id": 1708857, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5531142ecf326afc2d695f1efb45130e?s=128&d=identicon&r=PG", "display_name": "natrollus", "link": "https://stackoverflow.com/users/1708857/natrollus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 243, "favorite_count": 0, "accepted_answer_id": 45400025, "answer_count": 1, "score": 2, "last_activity_date": 1501421304, "creation_date": 1501403182, "last_edit_date": 1501421304, "question_id": 45397859, "link": "https://stackoverflow.com/questions/45397859/whats-the-behavior-of-iterableall-why-did-kotlin-charclass-java-char-ja", "title": "What&#39;s the behavior of Iterable#all &amp; Why did Kotlin Char::class.java != char.javaClass", "body": "<p>I'm trying an example in kotlin, like:</p>\n\n<pre><code>fun test(){    \n    val harfler = listOf(\"a\",\"b\",'c','d')\n    println(harfler.all { \n           it.javaClass == String::class.java || it.javaClass == Char::class.java \n    })\n}\n</code></pre>\n\n<p>List contains <code>Char</code> or <code>String</code> but <em><code>all</code></em> function in this expression returns <code>false</code>,Why return <code>false</code>? </p>\n\n<p>Can anybody explain it?</p>\n\n<p><strong>Edit</strong>\nfor @JBNizet\n<a href=\"https://i.stack.imgur.com/Rvftw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Rvftw.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1501409990, "post_id": 45397802, "comment_id": 77758059, "body": "Can you please post <code>MainActivity.kt</code> code. Which help us to get idea about issue."}, {"owner": {"reputation": 89, "user_id": 8388666, "user_type": "registered", "profile_image": "https://graph.facebook.com/1166977573406812/picture?type=large", "display_name": "Brand  Lee", "link": "https://stackoverflow.com/users/8388666/brand-lee"}, "reply_to_user": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "edited": false, "score": 0, "creation_date": 1501411539, "post_id": 45397802, "comment_id": 77758485, "body": "no problem,here is main code of the mainactivity.kt : <code>private var mPagerAdapter: MainFragmentAdapter? = null    override fun initData() {         mPagerAdapter = MainFragmentAdapter(supportFragmentManager, this)     } </code>  the crash happens in the init of the mPageAdapter, the constructor of the MainFragmentPagerAdapter is below: <code>class MainFragmentAdapter : FragmentPagerAdapter {     private val mContext: Context      constructor(fm: FragmentManager, context: Context) : super(fm) {         mContext = context     }</code>"}, {"owner": {"reputation": 111, "user_id": 6350515, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A82F7ueUUc4/AAAAAAAAAAI/AAAAAAAAAsE/TIPgbHJb-ag/photo.jpg?sz=128", "display_name": "Aran Moncusi Ramirez", "link": "https://stackoverflow.com/users/6350515/aran-moncusi-ramirez"}, "edited": false, "score": 0, "creation_date": 1501493466, "post_id": 45397802, "comment_id": 77784654, "body": "Ttry to add this dependency: <code>compile &quot;org.jetbrains.kotlin:kotlin-reflect:$kotlin_version&quot;</code>"}, {"owner": {"reputation": 89, "user_id": 8388666, "user_type": "registered", "profile_image": "https://graph.facebook.com/1166977573406812/picture?type=large", "display_name": "Brand  Lee", "link": "https://stackoverflow.com/users/8388666/brand-lee"}, "edited": false, "score": 0, "creation_date": 1501551178, "post_id": 45397802, "comment_id": 77816516, "body": "appreciated, but it doesn&#39;t work as expected......"}], "answers": [{"comments": [{"owner": {"reputation": 89, "user_id": 8388666, "user_type": "registered", "profile_image": "https://graph.facebook.com/1166977573406812/picture?type=large", "display_name": "Brand  Lee", "link": "https://stackoverflow.com/users/8388666/brand-lee"}, "edited": false, "score": 0, "creation_date": 1501552100, "post_id": 45412951, "comment_id": 77816727, "body": "I tried, but it doesn&#39;t work, thx anyway, but I&#39;ve used multi dex in my application, I don&#39;t know if multidex would cause this issue?"}], "tags": [], "owner": {"reputation": 908, "user_id": 5167937, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/3oBhf.jpg?s=128&g=1", "display_name": "Chirag Solanki", "link": "https://stackoverflow.com/users/5167937/chirag-solanki"}, "is_accepted": false, "score": 0, "last_activity_date": 1501495675, "creation_date": 1501495675, "answer_id": 45412951, "question_id": 45397802, "link": "https://stackoverflow.com/questions/45397802/kotlin-start-application-crash/45412951#45412951", "title": "Kotlin start Application crash", "body": "<p>Add below two line in your app gradle and sync your project.</p>\n\n<pre><code>apply plugin: 'kotlin-android'\napply plugin: \"kotlin-android-extensions\"\n</code></pre>\n\n<p>It might be having problem to configure kotlin plugin in your android studio.If you still having the same issue than please refer below link It's might be helpfull.</p>\n\n<p><a href=\"https://segunfamisa.com/posts/setting-up-android-studio-for-kotlin-development\" rel=\"nofollow noreferrer\">Setup tutorial 1</a></p>\n\n<p><a href=\"https://android.jlelse.eu/setup-kotlin-for-android-studio-1bffdf1362e8\" rel=\"nofollow noreferrer\">Setup tutorial 2</a></p>\n\n<p><strong>Best of Luck</strong></p>\n"}, {"comments": [{"owner": {"reputation": 1215, "user_id": 6079057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/876931f006e0fb3c6d158912be6685d0?s=128&d=identicon&r=PG&f=1", "display_name": "Shangwu", "link": "https://stackoverflow.com/users/6079057/shangwu"}, "edited": false, "score": 0, "creation_date": 1536875340, "post_id": 47684159, "comment_id": 91592065, "body": "$kotlin_version should be like 1.2.50"}], "tags": [], "owner": {"reputation": 464, "user_id": 1448272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4de3d20a332dc8c8da370f0170086158?s=128&d=identicon&r=PG", "display_name": "Edmund Johnson", "link": "https://stackoverflow.com/users/1448272/edmund-johnson"}, "is_accepted": false, "score": 5, "last_activity_date": 1523729489, "last_edit_date": 1523729489, "creation_date": 1512597646, "answer_id": 47684159, "question_id": 45397802, "link": "https://stackoverflow.com/questions/45397802/kotlin-start-application-crash/47684159#47684159", "title": "Kotlin start Application crash", "body": "<p>Adding the following as an app-level dependency fixed it for me:</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n</code></pre>\n\n<p>--- EDIT ---</p>\n\n<p>This has now been superseded by:</p>\n\n<pre><code>implementation \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 8388666, "user_type": "registered", "profile_image": "https://graph.facebook.com/1166977573406812/picture?type=large", "display_name": "Brand  Lee", "link": "https://stackoverflow.com/users/8388666/brand-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3477, "favorite_count": 1, "answer_count": 2, "score": 8, "last_activity_date": 1523729489, "creation_date": 1501402705, "last_edit_date": 1501492989, "question_id": 45397802, "link": "https://stackoverflow.com/questions/45397802/kotlin-start-application-crash", "title": "Kotlin start Application crash", "body": "<p>my application is built with kotlin,here is my build.gradle file:</p>\n\n<pre><code>compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n</code></pre>\n\n<p>and my workspace's build.gradle file:</p>\n\n<pre><code>ext.kotlin_version = '1.1.3-2'\next.kotlin_plugin_version = '1.1.1'\ndependencies {\n    classpath \"io.realm:realm-gradle-plugin:3.4.0\"\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_plugin_version\"\n}\n</code></pre>\n\n<p>in my project,I already use java8 with jack, so the gradle-plugin version can only be 1.1.1</p>\n\n<p>when I start my application, it crashes randomly,here is the log:</p>\n\n<pre><code>FATAL EXCEPTION: main                                                                                \nProcess: com.ss.android.caijing.stock.debug, PID: 31962                                                                                 \njava.lang.NoClassDefFoundError: Failed resolution of: Lkotlin/jvm/internal/Intrinsics;                                                                                      \n   at com.ss.android.caijing.stock.main.MainActivity.initData(MainActivity.kt:33)                                                                                      \n   at com.ss.android.caijing.stock.base.BaseActivity.onCreate(BaseActivity.java:25)                                                                                      \n   at android.app.Activity.performCreate(Activity.java:6367)                                                                                      \n   at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1110)                                                                                      \n   at com.bytedance.frameworks.plugin.hook.InstrumentationHook$PluginInstrumentation.callActivityOnCreate(InstrumentationHook.java:248)                                                                                      \n   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2404)                                                                                      \n   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2511)                                                                                      \n   at android.app.ActivityThread.access$900(ActivityThread.java:165)                                                                                      \n   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1375)                                                                                      \n   at android.os.Handler.dispatchMessage(Handler.java:102)                                                                                      \n   at android.os.Looper.loop(Looper.java:150)                                                                                      \n   at android.app.ActivityThread.main(ActivityThread.java:5621)                                                                                      \n   at java.lang.reflect.Method.invoke(Native Method)                                                                                      \n   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:794)                                                                                      \n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:684)                                                                                      \nCaused by: java.lang.ClassNotFoundException: Didn't find class \"kotlin.jvm.internal.Intrinsics\" on path: DexPathList[[zip file \"/data/app/com.ss.android.caijing.stock.debug-1/base.apk\"],nativeLibraryDirectories=[/data/app/com.ss.android.caijing.stock.debug-1/lib/arm64, /data/app/com.ss.android.caijing.stock.debug-1/base.apk!/lib/arm64-v8a, /vendor/lib64, /system/lib64]]                                                                                      \n   at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)                                                                                      \n   at java.lang.ClassLoader.loadClass(ClassLoader.java:511)                                                                                      \n   at java.lang.ClassLoader.loadClass(ClassLoader.java:469)                                                                                      \n   at com.ss.android.caijing.stock.main.MainActivity.initData(MainActivity.kt:33)\u00a0                                                                                      \n   at com.ss.android.caijing.stock.base.BaseActivity.onCreate(BaseActivity.java:25)\u00a0                                                                                      \n   at android.app.Activity.performCreate(Activity.java:6367)\u00a0                                                                                      \n   at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1110)\u00a0                                                                                      \n   at com.bytedance.frameworks.plugin.hook.InstrumentationHook$PluginInstrumentation.callActivityOnCreate(InstrumentationHook.java:248)\u00a0                                                                                      \n   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2404)\u00a0                                                                                      \n   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2511)\u00a0                                                                                      \n   at android.app.ActivityThread.access$900(ActivityThread.java:165)\u00a0                                                                                      \n   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1375)\u00a0                                                                                      \n   at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0                                                                                      \n   at android.os.Looper.loop(Looper.java:150)\u00a0                                                                                      \n   at android.app.ActivityThread.main(ActivityThread.java:5621)\u00a0                                                                                      \n   at java.lang.reflect.Method.invoke(Native Method)\u00a0                                                                                      \n   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:794)\u00a0                                                                                      \n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:684)\u00a0                                                                                \nSuppressed: java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics not found                                                                                      \n   at com.bytedance.frameworks.plugin.core.DelegateClassLoader.findClass(DelegateClassLoader.java:137)                                                                                      \n   at java.lang.ClassLoader.loadClass(ClassLoader.java:511)                                                                                      \n   at java.lang.ClassLoader.loadClass(ClassLoader.java:504)                                                                                                         \nSuppressed: java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics                                                                                      \n   at java.lang.Class.classForName(Native Method)                                                                                      \n   at java.lang.BootClassLoader.findClass(ClassLoader.java:781)                                                                                      \n   at java.lang.BootClassLoader.loadClass(ClassLoader.java:841)                                                                                      \n   at java.lang.ClassLoader.loadClass(ClassLoader.java:504)                                                                                                          \nCaused by: java.lang.NoClassDefFoundError: Class not found using the boot class loader; no stack trace available                                                                                      \nCaused by: java.lang.reflect.InvocationTargetException                                                                                      \n   at java.lang.reflect.Method.invoke(Native Method)                                                                                      \n   at com.bytedance.frameworks.plugin.core.DelegateClassLoader.findClass(DelegateClassLoader.java:60)                                                                                                            \nCaused by: java.lang.ClassNotFoundException: Didn't find class \"kotlin.jvm.internal.Intrinsics\" on path: DexPathList[[zip file \"/data/app/com.ss.android.caijing.stock.debug-1/base.apk\"],nativeLibraryDirectories=[/data/app/com.ss.android.caijing.stock.debug-1/lib/arm64, /data/app/com.ss.android.caijing.stock.debug-1/base.apk!/lib/arm64-v8a, /vendor/lib64, /system/lib64]]                                                                                      \n   at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:56)\n\n\n private var mPagerAdapter: MainFragmentAdapter? = null \n</code></pre>\n\n<p>override </p>\n\n<pre><code>fun initData() { mPagerAdapter = MainFragmentAdapter(supportFragmentManager, this) }\n</code></pre>\n\n<p>the crash happens in the init of the mPageAdapter, the constructor of the MainFragmentPagerAdapter is below: </p>\n\n<pre><code>class MainFragmentAdapter : FragmentPagerAdapter { private val mContext:     Context constructor(fm: FragmentManager, context: Context) : super(fm) { mContext = context }\n</code></pre>\n\n<p>can somebody help me out,thx a lot!</p>\n"}, {"tags": ["android", "kotlin", "android-studio-3.0"], "comments": [{"owner": {"reputation": 1431, "user_id": 7597595, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/X9mLz.jpg?s=128&g=1", "display_name": "batsheva", "link": "https://stackoverflow.com/users/7597595/batsheva"}, "edited": false, "score": 0, "creation_date": 1501394646, "post_id": 45396829, "comment_id": 77754436, "body": "what is this: btn!! ??"}, {"owner": {"reputation": 25, "user_id": 8019516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Cf1R.jpg?s=128&g=1", "display_name": "Ebin Chandy", "link": "https://stackoverflow.com/users/8019516/ebin-chandy"}, "reply_to_user": {"reputation": 1431, "user_id": 7597595, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/X9mLz.jpg?s=128&g=1", "display_name": "batsheva", "link": "https://stackoverflow.com/users/7597595/batsheva"}, "edited": false, "score": 0, "creation_date": 1501394824, "post_id": 45396829, "comment_id": 77754472, "body": "Sry i didnt specify it"}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1501398518, "post_id": 45396829, "comment_id": 77755248, "body": "You can&#39;t just draw whenever you want. You must use the <code>Canvas</code> provided by <code>onDraw()</code>, only within the <code>onDraw()</code> callback. You can use <code>invalidate()</code> to request that it be called for the next frame. <a href=\"https://developer.android.com/training/custom-views/custom-drawing.html\" rel=\"nofollow noreferrer\">developer.android.com/training/custom-views/custom-drawing.h&zwnj;&#8203;tml</a>"}, {"owner": {"reputation": 25, "user_id": 8019516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Cf1R.jpg?s=128&g=1", "display_name": "Ebin Chandy", "link": "https://stackoverflow.com/users/8019516/ebin-chandy"}, "edited": false, "score": 0, "creation_date": 1501407970, "post_id": 45396829, "comment_id": 77757513, "body": "Can you modify my code like you said? I am trying but i always get stuck somewhere"}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1501408282, "post_id": 45396829, "comment_id": 77757604, "body": "Go to the page I linked and click &quot;Download the sample&quot;."}, {"owner": {"reputation": 25, "user_id": 8019516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Cf1R.jpg?s=128&g=1", "display_name": "Ebin Chandy", "link": "https://stackoverflow.com/users/8019516/ebin-chandy"}, "edited": false, "score": 0, "creation_date": 1501410872, "post_id": 45396829, "comment_id": 77758311, "body": "I am trying had as i can. But i am not getting in"}], "owner": {"reputation": 25, "user_id": 8019516, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3Cf1R.jpg?s=128&g=1", "display_name": "Ebin Chandy", "link": "https://stackoverflow.com/users/8019516/ebin-chandy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 684, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1501491701, "creation_date": 1501394194, "last_edit_date": 1501491701, "question_id": 45396829, "link": "https://stackoverflow.com/questions/45396829/how-to-draw-lines-using-drawline", "title": "How to draw lines using drawLine()", "body": "<p>I am trying to draw a line using <code>drawLine()</code>. The line is not appearing, can someone debug this code?</p>\n\n<pre><code> fun LinePlacer(btn: Button?, call:Int,cPlayer:Int?){\n    var xStart=btn!!.getTop().toFloat()\n    var yStart=btn!!.getLeft().toFloat()\n    var xStop=xStart+100\n    var yStop=yStart+100\n    var paint=Paint()\n\n    paint.setColor(Color.RED)\n    Draw(xStart,yStart,yStop,xStop,paint)\n\n}\nfun Draw(xStart:Float,yStart:Float,yStop:Float,xStop:Float,paint: Paint){\n     var canvas=Canvas()\n     paint.setColor(Color.RED)\n     paint.setStrokeWidth(2f)\n     canvas.drawLine(xStart,yStart,xStop,yStop,paint) \n}\n</code></pre>\n\n<p>Edit 1:\nThis function is called from a main function. I made this to test if how the draw line works. That btn is a button that i press. I need to draw line over that button.\nAlso some variables are not used now.. but i need them later...</p>\n\n<p>Edit 2: i have been trying but i am not getting anywhere. </p>\n\n<p>Question 1: Do i need to add something in my main xml file to use the canvas?</p>\n\n<p>Question 2: i have overrided the onDraw. But how to call it from main function when i need?</p>\n\n<p>Question 3: i have seen using invalidate() to draw shapes. How to use that...</p>\n"}, {"tags": ["enums", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "edited": false, "score": 1, "creation_date": 1501387417, "post_id": 45396209, "comment_id": 77753207, "body": "Interesting... So the problem I&#39;m having must be because the enum is in the <i>same</i> file as where I want to use it.  I&#39;ll update the question to included this restriction."}, {"owner": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "edited": false, "score": 0, "creation_date": 1501388967, "post_id": 45396209, "comment_id": 77753484, "body": "The compiler complains when I try your same-file snippet.  It says <code>Unresolved reference: E</code>."}, {"owner": {"reputation": 1615, "user_id": 2884225, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Eaihe.png?s=128&g=1", "display_name": "Ryan Hilbert", "link": "https://stackoverflow.com/users/2884225/ryan-hilbert"}, "reply_to_user": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "edited": false, "score": 0, "creation_date": 1501389708, "post_id": 45396209, "comment_id": 77753617, "body": "For me, this snippet is valid. You can try it in the online compiler here: <a href=\"https://try.kotlinlang.org\" rel=\"nofollow noreferrer\">try.kotlinlang.org</a> - Perhaps your enum isn&#39;t declared at the top level of the default package? If enum E is declared in class C of package p for example, you&#39;d need <code>import p.C.E.*</code> (even for same-file imports)"}, {"owner": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "edited": false, "score": 0, "creation_date": 1501391127, "post_id": 45396209, "comment_id": 77753846, "body": "You&#39;re right - my import wasn&#39;t correct.  Now it works!  Thank you!!"}, {"owner": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "edited": false, "score": 0, "creation_date": 1501391820, "post_id": 45396209, "comment_id": 77753962, "body": "Observation - in a <code>.kts</code> file you don&#39;t even need the import.  Only in regular <code>.kt</code> files.  Allowing Intellij code-completion to guide the construction of the import allowed me to &quot;find&quot; the enum correctly."}], "tags": [], "owner": {"reputation": 1615, "user_id": 2884225, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/Eaihe.png?s=128&g=1", "display_name": "Ryan Hilbert", "link": "https://stackoverflow.com/users/2884225/ryan-hilbert"}, "is_accepted": true, "score": 10, "last_activity_date": 1501390283, "last_edit_date": 1592644375, "creation_date": 1501387143, "answer_id": 45396209, "question_id": 45396097, "link": "https://stackoverflow.com/questions/45396097/reference-enum-instance-directly-without-class-in-kotlin/45396209#45396209", "title": "Reference enum instance directly without class in Kotlin", "body": "<h1>Yes, this is possible!</h1>\n<p>In Kotlin, enum instances can be imported like most other things, so assuming enum class E is in the default package, you can just add <code>import E.*</code> to the top of the source file that would like to use its instances directly. For example:</p>\n<pre><code>import E.*\nval a = A // now translates to E.A\n</code></pre>\n<p>Each instance can also be imported individually, instead of just importing everything in the enum:</p>\n<pre><code>import E.A\nimport E.B\n//etc...\n</code></pre>\n<p>This also works even if the enum is declared in the same file:</p>\n<pre><code>import E.*\nenum class E{A,B}\nval a = A\n</code></pre>\n"}], "owner": {"reputation": 9790, "user_id": 369722, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/24eda94096d4b827c9aeb0cccc8c2198?s=128&d=identicon&r=PG", "display_name": "Julian A.", "link": "https://stackoverflow.com/users/369722/julian-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1519, "favorite_count": 1, "accepted_answer_id": 45396209, "answer_count": 1, "score": 11, "last_activity_date": 1501390283, "creation_date": 1501385735, "last_edit_date": 1501387453, "question_id": 45396097, "link": "https://stackoverflow.com/questions/45396097/reference-enum-instance-directly-without-class-in-kotlin", "title": "Reference enum instance directly without class in Kotlin", "body": "<p>In Kotlin, I'm unable to reference the instances of an enum directly when E is in the same file as the code where I use its instances:</p>\n\n<pre><code>enum class E {\n    A, B\n}\n</code></pre>\n\n<p>What I want to do:</p>\n\n<pre><code>val e = A    \n</code></pre>\n\n<p>What I can do:</p>\n\n<pre><code>val e = E.A\n</code></pre>\n\n<p>Is this possible?</p>\n"}, {"tags": ["android", "singleton", "kotlin"], "comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1501367209, "post_id": 45394540, "comment_id": 77749980, "body": "You could have a method like <code>recreate</code> or something to reinitialize your singleton"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1501411289, "post_id": 45394540, "comment_id": 77758423, "body": "The whole approach looks weird. If you need this &#39;singleton&#39; only when Activity is visilbe, just create an object inside Activity."}, {"owner": {"reputation": 73, "user_id": 3204157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c76f226d4fcc2a91f1306848346cf217?s=128&d=identicon&r=PG&f=1", "display_name": "PedroMVU", "link": "https://stackoverflow.com/users/3204157/pedromvu"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1501465311, "post_id": 45394540, "comment_id": 77773415, "body": "@Miha_x64 the thing is I need the singleton throughout the entire life of the app, yes I guess having a recreate at the beginning will be the same as having a cleanup at the end, but the problem is the same, need to make sure to reset each member variable."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1501486162, "post_id": 45394540, "comment_id": 77779751, "body": "<code>android.app.Application</code> will exist for the entire life of the app. If you want an object which will live shorter, with UI, and survive configuration changes, consider using <code>onRetainCustomNonConfigurationInstance</code>."}, {"owner": {"reputation": 11627, "user_id": 2602791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db72b53576b82f4fa30f46bfc8438937?s=128&d=identicon&r=PG", "display_name": "BladeCoder", "link": "https://stackoverflow.com/users/2602791/bladecoder"}, "edited": false, "score": 0, "creation_date": 1504209899, "post_id": 45394540, "comment_id": 78938683, "body": "If that state should be &quot;cleaned up&quot;, it&#39;s probably tied to an Activity or Service and should not be stored in a global singleton. Also, there is no such thing as &quot;closing&quot; an Android app. The system decides when to kill it."}], "answers": [{"comments": [{"owner": {"reputation": 1203, "user_id": 2957956, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b7aa294d8f363f76f0564bfbd114f03b?s=128&d=identicon&r=PG&f=1", "display_name": "v4_adi", "link": "https://stackoverflow.com/users/2957956/v4-adi"}, "reply_to_user": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1501417865, "post_id": 45399488, "comment_id": 77760180, "body": "@Ascorbin Are you sure you know Kotlin? This is how singleton is created in Kotlin. You can check Kotlin official Documentation."}, {"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1501422651, "post_id": 45399488, "comment_id": 77761490, "body": "Whoops, sorry! You&#39;re right, I missed the object keyword. You could remove the database stuff (because it&#39;s irrelevant here), highlight the object keyword and point to the specific part of the link you posted: <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 1203, "user_id": 2957956, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b7aa294d8f363f76f0564bfbd114f03b?s=128&d=identicon&r=PG&f=1", "display_name": "v4_adi", "link": "https://stackoverflow.com/users/2957956/v4-adi"}, "reply_to_user": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1501423362, "post_id": 45399488, "comment_id": 77761708, "body": "@Ascorbin It is alright. I have removed the database part. And I have also changed the link to point it to the specific part. Would you mind upvoting my answer now?"}, {"owner": {"reputation": 73, "user_id": 3204157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c76f226d4fcc2a91f1306848346cf217?s=128&d=identicon&r=PG&f=1", "display_name": "PedroMVU", "link": "https://stackoverflow.com/users/3204157/pedromvu"}, "edited": false, "score": 0, "creation_date": 1501465036, "post_id": 45399488, "comment_id": 77773354, "body": "@v4_adi The problem with object is, if you put an init block, you will see that it is only being executed the first time, after closing app via back key and relaunching it no init code will be called, whatever was in the member variables is still going to be there, so I will still need to make sure to reset each member variable at some point."}], "tags": [], "owner": {"reputation": 1203, "user_id": 2957956, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b7aa294d8f363f76f0564bfbd114f03b?s=128&d=identicon&r=PG&f=1", "display_name": "v4_adi", "link": "https://stackoverflow.com/users/2957956/v4-adi"}, "is_accepted": false, "score": 1, "last_activity_date": 1501423280, "last_edit_date": 1501423280, "creation_date": 1501415487, "answer_id": 45399488, "question_id": 45394540, "link": "https://stackoverflow.com/questions/45394540/whats-the-recommended-way-to-deal-with-singletons-cleanup-in-android-kotlin/45399488#45399488", "title": "What&#39;s the recommended way to deal with Singletons cleanup in Android (Kotlin)?", "body": "<p>creating Singleton in kotlin is as easy as following</p>\n\n<p>Take following as an example</p>\n\n<p>No need to create class explicitly, just do the following</p>\n\n<pre><code> object MySingleton   {\n\n      fun myFunction() {\n\n        }\n    }\n</code></pre>\n\n<p>And call it like</p>\n\n<pre><code>MySingleton.myFunction()\n</code></pre>\n\n<p>you read more about singleton in kotlin from its doc <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations</a></p>\n"}], "owner": {"reputation": 73, "user_id": 3204157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c76f226d4fcc2a91f1306848346cf217?s=128&d=identicon&r=PG&f=1", "display_name": "PedroMVU", "link": "https://stackoverflow.com/users/3204157/pedromvu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2087, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1501423280, "creation_date": 1501366242, "question_id": 45394540, "link": "https://stackoverflow.com/questions/45394540/whats-the-recommended-way-to-deal-with-singletons-cleanup-in-android-kotlin", "title": "What&#39;s the recommended way to deal with Singletons cleanup in Android (Kotlin)?", "body": "<p>I have been having some weird issues in my Android app when closing it via back key and reentering, and found they are happening because variables in 2 Singleton classes I have are never re-initializing (The issue doesn't happen if manually killing the app from task manager).</p>\n\n<p>Even after I call finish explicitly on Main activity onBackPressed and I can see onDestroy is called, the Singletons are still in memory.</p>\n\n<p>I decided to do manual cleanup of these Singletons before destroying my Activity, the problem is using Kotlin I would need to make all their member variables nullable (?) and it would be a lot of hassle to remember to assign null to every variable, so for now I opted to handle the instantiation of the Singleton like this and just make null the whole instance while cleaning:</p>\n\n<pre><code>class SingletonName {\n\n    companion object {\n        private var _instance: SingletonName ? = null\n        private var instance: SingletonName ?\n            get() {\n                if (_instance == null) {\n                    _instance = SingletonName ()\n                }\n                return _instance\n            }\n            set(value) {\n                _instance = value\n            }\n\n        @JvmStatic fun get(): SingletonName {\n            return instance!! //avoid having to deal with nullable value in client code\n        }\n    }\n\n    //need to make sure to call this before destroying main activity\n    fun cleanup() {\n        instance = null\n    }\n}\n</code></pre>\n\n<p>Client use:</p>\n\n<pre><code>SingletonName.get().somefunc()\n</code></pre>\n\n<p>These seems more involved than it should, and I know this is not even thread safe, but keep in mind that simply using the 'object' keyword instead of 'class' will not work, as it will prevent any initialization taking place the second time I run the app (the constructor is not being called again and I can't force destroy the instance).</p>\n\n<p>This makes me think it might be worth looking into Android dependency injection but I feel like at least one of my Singletons really needs to be accessed on a lot of places so it might not be an elegant solution either (Probably need to refactor it into smaller functionalities).</p>\n\n<p>The main issue here is the way android handles destruction but I guess I can't change that, I don't see any reason why it keeps all the static values of non activity classes if the application activities are already destroyed.</p>\n\n<p>The question is how do you deal with this cases regardless of the language used? or what do you think are the best practices in this case?</p>\n\n<p>Edit: Actually I just did a test with Dagger 2, and the same problem happens, if I use @Provides and @Singleton, the values of member variables on the provided object the second time launching the app are not null so I guess this needs to be dealt with explicitly unless I am missing some more annotations to tell Dagger that the instance should be released at the end of the app life-cycle.</p>\n"}, {"tags": ["java", "android", "class", "kotlin", "public"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1501357938, "post_id": 45393423, "comment_id": 77747491, "body": "you can down to use <i>private</i> visibility. the visibility of top-level types is <i>package</i> visibility in Java."}, {"owner": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501358038, "post_id": 45393423, "comment_id": 77747521, "body": "To maintain the readability of code I can&#39;t make them private."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501358104, "post_id": 45393423, "comment_id": 77747542, "body": "well. there is no way to prevent the client code using your internal Kotlin classes. <code>@PublishedApi</code> only support for warnings, but the client code can forcing to call your internal classes."}, {"owner": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1501358239, "post_id": 45393423, "comment_id": 77747583, "body": "@holi-java That&#39;s too bad. Probably will have to sacrifice modularity and make them <code>private</code>"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501358407, "post_id": 45393423, "comment_id": 77747644, "body": "so you should redesign your api. the problem is your design rather than  the visibility. maybe many features can be <b>private</b>,  and there is a little features only available in <b>internal</b> modules."}, {"owner": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "edited": false, "score": 0, "creation_date": 1501358686, "post_id": 45393423, "comment_id": 77747730, "body": "Well, the <code>internal</code> modules are supposed to be for internal use only which works perfectly in Kotlin app. There is nothing to be exposed there. The problem is with interoperability from Kotlin to Java and not with the design I believe."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501358921, "post_id": 45393423, "comment_id": 77747813, "body": "you should think why the feature must be access round in module. maybe it can be down to the package visibility. I&#39;m not good at English. so I wish you can understand it."}, {"owner": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "edited": false, "score": 0, "creation_date": 1501359290, "post_id": 45393423, "comment_id": 77747929, "body": "I understand that making it <code>private</code> is the way but the problem is that class is very big and making it inner <code>class</code> will further reduce the readability of the <code>class</code>."}, {"owner": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "reply_to_user": {"reputation": 1764, "user_id": 4548520, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/5a177d9d1652832f694552623905abbb?s=128&d=identicon&r=PG&f=1", "display_name": "user25", "link": "https://stackoverflow.com/users/4548520/user25"}, "edited": false, "score": 0, "creation_date": 1501359458, "post_id": 45393423, "comment_id": 77747965, "body": "@user25 I don&#39;t believe that article. It&#39;s examples are also not valid. For instance the smart cast error can be solved simply by adding <code>as Int</code>."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501359554, "post_id": 45393423, "comment_id": 77747985, "body": "I&#39;ll try to answer your question of how to redesign your code. do you mind?"}, {"owner": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "edited": false, "score": 0, "creation_date": 1501359628, "post_id": 45393423, "comment_id": 77748007, "body": "Sure <a href=\"https://github.com/ryan652/EasyCrypt/blob/master/easycrypt/src/main/java/com/pvryan/easycrypt/symmetric/ECryptSymmetricEncrypt.kt\" rel=\"nofollow noreferrer\">this</a> is the class."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1501387518, "post_id": 45393423, "comment_id": 77753227, "body": "Why do you want to prevent public visibility of these classes in Java? Does it compromise the security of your library if called from Java, or do you just want not to give any compatibility guaranties for them?"}, {"owner": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1501635672, "post_id": 45393423, "comment_id": 77860805, "body": "@Ilya they are there only for internal use and has no purpose of being exposed"}, {"owner": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "edited": false, "score": 0, "creation_date": 1526408046, "post_id": 45393423, "comment_id": 87729888, "body": "Any solution???"}, {"owner": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "reply_to_user": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "edited": false, "score": 1, "creation_date": 1526413709, "post_id": 45393423, "comment_id": 87732805, "body": "@vihkat I am now using <code>internal object</code> with <code>@JvmSynthetic internal fun</code> which does the thing. Check here <a href=\"https://github.com/ryan652/EasyCrypt/blob/master/easycrypt/src/main/java/com/pvryan/easycrypt/symmetric/performEncrypt.kt\" rel=\"nofollow noreferrer\">github.com/ryan652/EasyCrypt/blob/master/easycrypt/src/main/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 685, "user_id": 5269276, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/48ea7f5acbc5050b46623bb8723d4200?s=128&d=identicon&r=PG&f=1", "display_name": "vihkat", "link": "https://stackoverflow.com/users/5269276/vihkat"}, "edited": false, "score": 0, "creation_date": 1526458834, "post_id": 45393423, "comment_id": 87747650, "body": "Thank you so much!"}], "answers": [{"comments": [{"owner": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "edited": false, "score": 0, "creation_date": 1501363884, "post_id": 45393921, "comment_id": 77749200, "body": "Using your suggestion of top-level internal function generates an error saying <i><code>internal</code> function exposes its <code>private</code> return type <code>ECryptSymmetricEncrypt</code></i>."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "edited": false, "score": 0, "creation_date": 1501364061, "post_id": 45393921, "comment_id": 77749251, "body": "@Ryan are you define the top-level function in the related classes?"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "edited": false, "score": 0, "creation_date": 1501364337, "post_id": 45393921, "comment_id": 77749321, "body": "@Ryan ooh. I know why. you shouldn&#39;t return the <code>ECryptSymmetricEncrypt</code> in your top-level function <code>encrypt</code>, since it is <b>private</b>. you should make the top-level function&#39;s return type to <code>Unit</code>/ <code>Any</code>."}, {"owner": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "edited": false, "score": 0, "creation_date": 1501364498, "post_id": 45393921, "comment_id": 77749368, "body": "Yes that solves it. Now how do I call the method from another class?"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "edited": false, "score": 0, "creation_date": 1501364541, "post_id": 45393921, "comment_id": 77749382, "body": "@Ryan you should apply the same rule as <code>encrypt</code> top-level functions. then in your Kotlin client code you can the top-level function <code>encrypt</code> instead."}, {"owner": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501364578, "post_id": 45393921, "comment_id": 77749391, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/150503/discussion-between-ryan-and-holi-java\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 7, "last_activity_date": 1501366341, "last_edit_date": 1501366341, "creation_date": 1501361384, "answer_id": 45393921, "question_id": 45393423, "link": "https://stackoverflow.com/questions/45393423/kotlin-internal-classes-in-java-visible-publicly/45393921#45393921", "title": "Kotlin internal classes in Java visible publicly", "body": "<p>I have seen all of your <a href=\"https://github.com/ryan652/EasyCrypt/search?utf8=%E2%9C%93&amp;q=path%3Aeasycrypt+internal&amp;type=\" rel=\"noreferrer\">internal  classes</a> are all about <a href=\"https://github.com/ryan652/EasyCrypt/blob/master/easycrypt/src/main/java/com/pvryan/easycrypt/symmetric/ECryptSymmetric.kt#L142\" rel=\"noreferrer\">encrypt</a> &amp; <a href=\"https://github.com/ryan652/EasyCrypt/blob/master/easycrypt/src/main/java/com/pvryan/easycrypt/symmetric/ECryptSymmetric.kt#L212\" rel=\"noreferrer\">decrypt</a>. </p>\n\n<p>you can do it easily by define a top-level function and mark it as  <code>@JvmSynthetic</code>, and then makes the <a href=\"https://github.com/ryan652/EasyCrypt/blob/master/easycrypt/src/main/java/com/pvryan/easycrypt/symmetric/ECryptSymmetricDecrypt.kt\" rel=\"noreferrer\">ECryptSymmetricDecrypt</a> and <a href=\"https://github.com/ryan652/EasyCrypt/blob/master/easycrypt/src/main/java/com/pvryan/easycrypt/symmetric/ECryptSymmetricEncrypt.kt\" rel=\"noreferrer\">ECryptSymmetricEncrypt</a> classes to <strong>private</strong> to prevent Java client access your internal classes, for example:</p>\n\n<pre><code>// define this top-level function in your ECryptSymmetricEncrypt.kt\n\n@JvmSynthetic internal fun &lt;T&gt; encrypt(\n                                       input:T, password: String, cipher:Cihper, \n                                       erl: ECryptResultListener, outputFile:File,\n                                       getKey:(String,ByteArray)-&gt;SecretKeySpec){\n\n  ECryptSymmetricEncrypt(input, password, cipher,\n                { pass, salt -&gt; getKey(pass, salt) }, erl, outputFile)\n}\n</code></pre>\n\n<p>However, it solved your problem, but I still want to say that your code can break into small pieces as further. for example, the encrypt &amp; decrypt algorithm have many duplications, maybe you can applies <a href=\"https://en.wikipedia.org/wiki/Template_method_pattern\" rel=\"noreferrer\">Template Method Pattern</a> in your encrypt library &amp; introduce interfaces to make your library explicitly and hiding the <code>Cipher</code> operations under the implementation classes. Ideally, the client code can't see any <code>java.security.*</code> classes via <code>Encrypt</code> or <code>Decrypt</code> interfaces. for example:</p>\n\n<pre><code>interface Encrypt{\n   //          v--- don't include the infrastructure class here,e.g:`Keys`,`Cipher`\n   fun encode(...args)\n}\n\ninterface Decrypt{\n   //          v--- don't include the infrastructure class here,e.g:`Keys`,`Cipher`\n   fun decode(...args)\n}\n</code></pre>\n\n<p><strong>AND</strong> it is a bad thing that you create an instance and compute the result in <code>init</code> block <a href=\"https://github.com/ryan652/EasyCrypt/blob/master/easycrypt/src/main/java/com/pvryan/easycrypt/symmetric/ECryptSymmetricEncrypt.kt#L38\" rel=\"noreferrer\">here</a>. </p>\n\n<p><strong>AND</strong> you can use <a href=\"https://en.wikipedia.org/wiki/Factory_method_pattern\" rel=\"noreferrer\">Factory Method Pattern</a> to avoid the type checking both in <a href=\"https://github.com/ryan652/EasyCrypt/blob/master/easycrypt/src/main/java/com/pvryan/easycrypt/symmetric/ECryptSymmetricDecrypt.kt#L46\" rel=\"noreferrer\">ECryptSymmetricDecrypt</a> and <a href=\"https://github.com/ryan652/EasyCrypt/blob/master/easycrypt/src/main/java/com/pvryan/easycrypt/symmetric/ECryptSymmetricEncrypt.kt#L51\" rel=\"noreferrer\">ECryptSymmetricEncrypt</a> classes. </p>\n"}, {"comments": [{"owner": {"reputation": 1279, "user_id": 1631742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ae47a1c993169cf8f8ee12769705eb7?s=128&d=identicon&r=PG", "display_name": "Chelsea Urquhart", "link": "https://stackoverflow.com/users/1631742/chelsea-urquhart"}, "edited": false, "score": 2, "creation_date": 1542132974, "post_id": 47257731, "comment_id": 93456382, "body": "that seems so awful, but clever and technically solves the problem so upvoted ;)"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 1279, "user_id": 1631742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ae47a1c993169cf8f8ee12769705eb7?s=128&d=identicon&r=PG", "display_name": "Chelsea Urquhart", "link": "https://stackoverflow.com/users/1631742/chelsea-urquhart"}, "edited": false, "score": 0, "creation_date": 1542155085, "post_id": 47257731, "comment_id": 93464435, "body": "@ChelseaUrquhart Cheers :-)"}, {"owner": {"reputation": 479, "user_id": 10216251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ebtUr.jpg?s=128&g=1", "display_name": "Ardy Febriansyah", "link": "https://stackoverflow.com/users/10216251/ardy-febriansyah"}, "edited": false, "score": 0, "creation_date": 1608485718, "post_id": 47257731, "comment_id": 115592829, "body": "@ice1000 Geniuss!!"}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 5, "last_activity_date": 1542385291, "last_edit_date": 1542385291, "creation_date": 1510551589, "answer_id": 47257731, "question_id": 45393423, "link": "https://stackoverflow.com/questions/45393423/kotlin-internal-classes-in-java-visible-publicly/47257731#47257731", "title": "Kotlin internal classes in Java visible publicly", "body": "<p>Apart from <code>@JvmSynthetic</code>, you can use <code>@JvmName</code> with an illegal Java identifier, like adding a space.</p>\n\n<p>As an example, I added a space in the <code>@JvmName</code> param, so any languages except Kotlin will not be able to invoke your method:</p>\n\n<pre><code>@JvmName(\" example\")\ninternal fun example() {\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 134, "user_id": 11326621, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p9OVT8vz4Lc/AAAAAAAAAAI/AAAAAAAAKzw/rqJZU-Pgm88/photo.jpg?sz=128", "display_name": "Shreyas Patil", "link": "https://stackoverflow.com/users/11326621/shreyas-patil"}, "is_accepted": false, "score": 0, "last_activity_date": 1594981465, "creation_date": 1594981465, "answer_id": 62952048, "question_id": 45393423, "link": "https://stackoverflow.com/questions/45393423/kotlin-internal-classes-in-java-visible-publicly/62952048#62952048", "title": "Kotlin internal classes in Java visible publicly", "body": "<p>As per my answer on this question in <a href=\"https://stackoverflow.com/a/62951988/11326621\">another</a> thread:</p>\n<p>Not perfect solution but I found two hacky solutions</p>\n<h3>Annotate every public method of that <code>internal class</code> by <code>@JvmName</code> with blank spaces or special symbols by which it'll generate syntax error in Java.</h3>\n<p>For e.g.</p>\n<pre><code>internal class LibClass {\n\n    @JvmName(&quot; &quot;) // Blank Space will generate error in Java\n    fun foo() {}\n\n    @JvmName(&quot; $#&quot;) // These characters will cause error in Java\n    fun bar() {}\n}\n</code></pre>\n<p>Since this above solution isn't appropriate for managing huge project or not seems good practice, this below solution might help.</p>\n<h3>Annotate every public method of that <code>internal class</code> by <code>@JvmSynthetic</code> by which public methods aren't accessible by Java.</h3>\n<p>For e.g.</p>\n<pre><code>internal class LibClass {\n\n    @JvmSynthetic\n    fun foo() {}\n\n    @JvmSynthetic\n    fun bar() {}\n}\n</code></pre>\n<h1>Note:</h1>\n<p>This solution protects the methods/fields of the function. As per the question, it does not hide the visibility of class in Java. So the perfect solution to this is still awaited.</p>\n"}, {"tags": [], "owner": {"reputation": 81, "user_id": 12001093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37c7f3672b3963f1be20b913539ed2c9?s=128&d=identicon&r=PG&f=1", "display_name": "05nelsonm", "link": "https://stackoverflow.com/users/12001093/05nelsonm"}, "is_accepted": false, "score": 0, "last_activity_date": 1607740358, "creation_date": 1607740358, "answer_id": 65261030, "question_id": 45393423, "link": "https://stackoverflow.com/questions/45393423/kotlin-internal-classes-in-java-visible-publicly/65261030#65261030", "title": "Kotlin internal classes in Java visible publicly", "body": "<p>Utilizing a private constructor + companion object containing method to instantiate annotated with JvmSynthetic preserves encapsulation.</p>\n<pre><code>// Private constructor to inhibit instantiation\ninternal class SomeInternalClass private constructor() {\n\n    // Use the companion object for your JvmSynthetic method to\n    // instantiate as it's not accessible from Java\n    companion object {\n        @JvmSynthetic\n        fun instantiate(): SomeInternalClass =\n            SomeInternalClass()\n    }\n\n    // This is accessible from Java\n    @JvmSynthetic\n    internal var someVariable1 = false\n\n    // This is accessible from Java\n    @JvmSynthetic\n    var someVariable2 = false\n\n\n\n    // This is inaccessible, both variable and methods.\n    private var someVariable3 = false\n    @JvmSynthetic\n    fun getSomeVariable3(): Boolean =\n        someVariable3\n    @JvmSynthetic\n    fun setSomeVariable3(boolean: Boolean) {\n        someVariable3 = boolean\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2533, "user_id": 3498044, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/rwWEw.jpg?s=128&g=1", "display_name": "priyank", "link": "https://stackoverflow.com/users/3498044/priyank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3994, "favorite_count": 4, "accepted_answer_id": 45393921, "answer_count": 4, "score": 5, "last_activity_date": 1607740358, "creation_date": 1501357653, "question_id": 45393423, "link": "https://stackoverflow.com/questions/45393423/kotlin-internal-classes-in-java-visible-publicly", "title": "Kotlin internal classes in Java visible publicly", "body": "<p>I am developing an Android <a href=\"https://github.com/ryan652/EasyCrypt\" rel=\"noreferrer\">crypto library</a> in Kotlin. I have a couple of <code>internal</code> classes which become publicly visible in a Java app. Found <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html\" rel=\"noreferrer\">this</a> in documentations.</p>\n\n<blockquote>\n  <p><code>internal</code> declarations become <code>public</code> in Java. Members of <code>internal</code> classes go through name mangling, to make it harder to accidentally use them from Java and to allow overloading for members with the same signature that don't see each other according to Kotlin rules;</p>\n</blockquote>\n\n<p>Is there a way to get around this?</p>\n"}, {"tags": ["xml", "jaxb", "jvm", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 6, "last_activity_date": 1501356280, "creation_date": 1501356280, "answer_id": 45393236, "question_id": 45393092, "link": "https://stackoverflow.com/questions/45393092/cannot-unmarshal-a-collection-of-xml-objects-using-jaxb-and-kotlin/45393236#45393236", "title": "Cannot unmarshal a collection of xml objects using JAXB and Kotlin", "body": "<p>This is because you defined the <code>XmlAccessType</code> as <code>FIELD</code>, so you should use <a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"noreferrer\">site target</a> to make the annotation annotated on the backing <code>field</code>, for example:</p>\n\n<pre><code>// v--- annotated on field rather than getter/setter/params\n@field:[XmlElementWrapper(name = \"people\") XmlElement(name = \"person\")]\nvar people: List&lt;Person&gt;? = null\n</code></pre>\n"}], "owner": {"reputation": 2759, "user_id": 640202, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1b09ba5f70ea0208ed6315bca46f5d23?s=128&d=identicon&r=PG", "display_name": "Frank", "link": "https://stackoverflow.com/users/640202/frank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1069, "favorite_count": 0, "accepted_answer_id": 45393236, "answer_count": 1, "score": 0, "last_activity_date": 1501356280, "creation_date": 1501355437, "last_edit_date": 1501355809, "question_id": 45393092, "link": "https://stackoverflow.com/questions/45393092/cannot-unmarshal-a-collection-of-xml-objects-using-jaxb-and-kotlin", "title": "Cannot unmarshal a collection of xml objects using JAXB and Kotlin", "body": "<p>I am trying to deserialize/unmarshal XML that contains a collection of Person elements wrapped in People tag. I am attempting to deserialize this XML in Kotlin using JAXB. Everything compiles and runs without errors but the people collection in my class is always empty. How do I unmarshal this collection?</p>\n\n<pre><code>import java.io.StringReader\nimport javax.xml.bind.JAXB\nimport javax.xml.bind.annotation.XmlAccessType\nimport javax.xml.bind.annotation.XmlAccessorType\nimport javax.xml.bind.annotation.XmlElement\nimport javax.xml.bind.annotation.XmlElementWrapper\n\n@XmlAccessorType(XmlAccessType.FIELD)\ndata class Person(\n        var name:String = \"\",\n        var age:Int = 0\n)\n\n@XmlAccessorType(XmlAccessType.FIELD)\ndata class Report(\n        var statusCode:Int = 0,\n        @XmlElementWrapper(name = \"people\")\n        @XmlElement(name = \"person\")\n        var people:List&lt;Person&gt;? = null\n)\n\nval xml = \"\"\"\n&lt;report&gt;\n    &lt;statusCode&gt;3&lt;/statusCode&gt;\n    &lt;people&gt;\n        &lt;person&gt;\n            &lt;name&gt;Bob&lt;/name&gt;\n            &lt;age&gt;30&lt;/age&gt;\n        &lt;/person&gt;\n        &lt;person&gt;\n            &lt;name&gt;Alice&lt;/name&gt;\n            &lt;age&gt;40&lt;/age&gt;\n        &lt;/person&gt;\n    &lt;/people&gt;\n&lt;/report&gt;\n\"\"\"\n\nfun main(args: Array&lt;String&gt;) {\n    val report = JAXB.unmarshal(StringReader(xml), Report::class.java)\n    println(report) // Report(statusCode=3, people=[])\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "android-viewpager", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 951, "user_id": 6504152, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh6.googleusercontent.com/-QGM0TRKgJxg/AAAAAAAAAAI/AAAAAAAAABw/-jeI8itRwUY/photo.jpg?sz=128", "display_name": "Johannes Gnadlinger", "link": "https://stackoverflow.com/users/6504152/johannes-gnadlinger"}, "edited": false, "score": 0, "creation_date": 1501354977, "post_id": 45392764, "comment_id": 77746591, "body": "Thank you for your answer I tried to set the background of my activity_main with the textviews and the fragment_main with the text views in it did not work"}], "tags": [], "owner": {"reputation": 150, "user_id": 5114252, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d68184219763ccf8d1ab35b523280ac?s=128&d=identicon&r=PG&f=1", "display_name": "BNAndroid", "link": "https://stackoverflow.com/users/5114252/bnandroid"}, "is_accepted": false, "score": 0, "last_activity_date": 1501353471, "creation_date": 1501353471, "answer_id": 45392764, "question_id": 45392678, "link": "https://stackoverflow.com/questions/45392678/viewpager-shows-textviews-from-first-fragment/45392764#45392764", "title": "ViewPager shows Textviews from first fragment", "body": "<p>Provide to first fragment a colored background(can be transparent also or white) it should resolve it.\nYou can use for transparent the following: <code>android:background=\"@android:color/transparent\"</code></p>\n"}, {"comments": [{"owner": {"reputation": 951, "user_id": 6504152, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh6.googleusercontent.com/-QGM0TRKgJxg/AAAAAAAAAAI/AAAAAAAAABw/-jeI8itRwUY/photo.jpg?sz=128", "display_name": "Johannes Gnadlinger", "link": "https://stackoverflow.com/users/6504152/johannes-gnadlinger"}, "edited": false, "score": 0, "creation_date": 1501354775, "post_id": 45392779, "comment_id": 77746529, "body": "Thank you for your answer! I made the changes but now I got every text view twice I think and the problem is still here. I pushed my changes on my github repo"}, {"owner": {"reputation": 2732, "user_id": 1649472, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1e372dc8b47350de5ab8e27f477e0b18?s=128&d=identicon&r=PG", "display_name": "ono", "link": "https://stackoverflow.com/users/1649472/ono"}, "reply_to_user": {"reputation": 951, "user_id": 6504152, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh6.googleusercontent.com/-QGM0TRKgJxg/AAAAAAAAAAI/AAAAAAAAABw/-jeI8itRwUY/photo.jpg?sz=128", "display_name": "Johannes Gnadlinger", "link": "https://stackoverflow.com/users/6504152/johannes-gnadlinger"}, "edited": false, "score": 0, "creation_date": 1501355161, "post_id": 45392779, "comment_id": 77746649, "body": "Move the  <code>val inLay = findViewById&lt;View&gt;(R.id.innerLay) as LinearLayout for (x in 0..9) { inLay.addView(getView(x)) }</code> and <code>getView()</code> method from your Activity to the fragment and see if it works."}, {"owner": {"reputation": 951, "user_id": 6504152, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh6.googleusercontent.com/-QGM0TRKgJxg/AAAAAAAAAAI/AAAAAAAAABw/-jeI8itRwUY/photo.jpg?sz=128", "display_name": "Johannes Gnadlinger", "link": "https://stackoverflow.com/users/6504152/johannes-gnadlinger"}, "edited": false, "score": 0, "creation_date": 1501355998, "post_id": 45392779, "comment_id": 77746862, "body": "no did not work this cannot be the problem. With this code I initialize my horizontal view so I dont think that the problem is there"}], "tags": [], "owner": {"reputation": 2732, "user_id": 1649472, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1e372dc8b47350de5ab8e27f477e0b18?s=128&d=identicon&r=PG", "display_name": "ono", "link": "https://stackoverflow.com/users/1649472/ono"}, "is_accepted": false, "score": 0, "last_activity_date": 1501353585, "creation_date": 1501353585, "answer_id": 45392779, "question_id": 45392678, "link": "https://stackoverflow.com/questions/45392678/viewpager-shows-textviews-from-first-fragment/45392779#45392779", "title": "ViewPager shows Textviews from first fragment", "body": "<p>Looking at your project in GitHub, your <code>TextViews</code> are being added to the <code>R.id.innerLay</code> <code>LinearLayout</code>, which is in your Activity, but they're are not in any of the fragments which are part of the <code>R.id.pager</code> <code>ViewPager</code>. You need to move the <code>TextViews</code> to the <code>R.layout.fragment_main</code> which will prevent them from showing in <code>R.layout.fragment_second</code></p>\n"}], "owner": {"reputation": 951, "user_id": 6504152, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh6.googleusercontent.com/-QGM0TRKgJxg/AAAAAAAAAAI/AAAAAAAAABw/-jeI8itRwUY/photo.jpg?sz=128", "display_name": "Johannes Gnadlinger", "link": "https://stackoverflow.com/users/6504152/johannes-gnadlinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1501952339, "creation_date": 1501352923, "last_edit_date": 1592644375, "question_id": 45392678, "link": "https://stackoverflow.com/questions/45392678/viewpager-shows-textviews-from-first-fragment", "title": "ViewPager shows Textviews from first fragment", "body": "<p>Hey I am trying to implement a vertical viewpager and been  been successful so far. But when I scroll down to get to my second fragment which is blank with an orange background the textviews from my inital fragment are shown.</p>\n<p><strong>Inital View</strong></p>\n<p><a href=\"https://i.stack.imgur.com/IbJUb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IbJUb.png\" alt=\"Pic 1\" /></a></p>\n<p><strong>After Scrolling</strong></p>\n<p><a href=\"https://i.stack.imgur.com/0qOMK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0qOMK.png\" alt=\"Pic2\" /></a></p>\n<p>I implemented the vertical pager from this <a href=\"https://stackoverflow.com/questions/13477820/android-vertical-viewpager\">answer</a> (the first one with 180 upvotes)</p>\n<p>My project is also on <a href=\"https://github.com/Gnadi/Alfred.git\" rel=\"nofollow noreferrer\">github</a></p>\n<p>If you got any questions feel free to ask in the comments :)</p>\n"}, {"tags": ["android", "broadcastreceiver", "kotlin"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 1, "creation_date": 1501411153, "post_id": 45392037, "comment_id": 77758378, "body": "What do you mean saying &#39;there is no Broadcast Receiver function&#39;? From Kotlin you can see the same classes which you can see from Java."}], "answers": [{"comments": [{"owner": {"reputation": 2681, "user_id": 979052, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/BWcqy.jpg?s=128&g=1", "display_name": "Alicia", "link": "https://stackoverflow.com/users/979052/alicia"}, "edited": false, "score": 8, "creation_date": 1512948306, "post_id": 45396182, "comment_id": 82449206, "body": "Really helpful, thanks! But what would you put as the <code>android:name=&quot;&quot;</code> attribute of <code>&lt;receiver&gt;</code> in the manifest?"}], "tags": [], "owner": {"reputation": 434, "user_id": 6062639, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0pua3keSZGw/AAAAAAAAAAI/AAAAAAAAABk/nOIKCqI7YTY/photo.jpg?sz=128", "display_name": "alireza", "link": "https://stackoverflow.com/users/6062639/alireza"}, "is_accepted": false, "score": 6, "last_activity_date": 1501417390, "last_edit_date": 1501417390, "creation_date": 1501386789, "answer_id": 45396182, "question_id": 45392037, "link": "https://stackoverflow.com/questions/45392037/broadcast-receiver-in-kotlin/45396182#45396182", "title": "Broadcast Receiver in kotlin", "body": "<p>Anonymous class syntax in Kotlin is like this:</p>\n\n<pre><code>val receiver = object : BroadcastReceiver() {\n    override fun onReceive(context: Context, intent: Intent) {\n\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1203, "user_id": 2957956, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b7aa294d8f363f76f0564bfbd114f03b?s=128&d=identicon&r=PG&f=1", "display_name": "v4_adi", "link": "https://stackoverflow.com/users/2957956/v4-adi"}, "reply_to_user": {"reputation": 32807, "user_id": 196919, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/iqMS0.png?s=128&g=1", "display_name": "DmitryBoyko", "link": "https://stackoverflow.com/users/196919/dmitryboyko"}, "edited": false, "score": 4, "creation_date": 1517423228, "post_id": 45399437, "comment_id": 84093997, "body": "@AcademyofProgrammer you need to register receiver in manifest if it is global broadcast. You don&#39;t to do it for local broadcast."}, {"owner": {"reputation": 4318, "user_id": 2276081, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/LMM6M.jpg?s=128&g=1", "display_name": "Thalatta", "link": "https://stackoverflow.com/users/2276081/thalatta"}, "edited": false, "score": 1, "creation_date": 1528843646, "post_id": 45399437, "comment_id": 88658370, "body": "this could create a memory leak if you Android does not call <code>onDestroy()</code> which according to the docs is not guaranteed. onPause / onResume are a better pair"}, {"owner": {"reputation": 1669, "user_id": 9987309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vUtsn.jpg?s=128&g=1", "display_name": "iCantC", "link": "https://stackoverflow.com/users/9987309/icantc"}, "reply_to_user": {"reputation": 4318, "user_id": 2276081, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/LMM6M.jpg?s=128&g=1", "display_name": "Thalatta", "link": "https://stackoverflow.com/users/2276081/thalatta"}, "edited": false, "score": 0, "creation_date": 1556198728, "post_id": 45399437, "comment_id": 98362620, "body": "I agree with @Thalatta, register for your receiver at onResume() and unregister at onPause(), thats the recommended way."}, {"owner": {"reputation": 1619, "user_id": 950814, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/oIwpD.jpg?s=128&g=1", "display_name": "behelit", "link": "https://stackoverflow.com/users/950814/behelit"}, "edited": false, "score": 0, "creation_date": 1594598765, "post_id": 45399437, "comment_id": 111173108, "body": "Wouldn&#39;t that stop it from receiving broadcasts in multi window inactive state? Isn&#39;t start/stop better?"}], "tags": [], "owner": {"reputation": 1203, "user_id": 2957956, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b7aa294d8f363f76f0564bfbd114f03b?s=128&d=identicon&r=PG&f=1", "display_name": "v4_adi", "link": "https://stackoverflow.com/users/2957956/v4-adi"}, "is_accepted": true, "score": 70, "last_activity_date": 1611874164, "last_edit_date": 1611874164, "creation_date": 1501415168, "answer_id": 45399437, "question_id": 45392037, "link": "https://stackoverflow.com/questions/45392037/broadcast-receiver-in-kotlin/45399437#45399437", "title": "Broadcast Receiver in kotlin", "body": "<p>you can do it in  the following way</p>\n<p>Create a broadcast receiver object in your activity class</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val broadCastReceiver = object : BroadcastReceiver() {\n    override fun onReceive(contxt: Context?, intent: Intent?) {   \n        when (intent?.action) {\n           BROADCAST_DEFAULT_ALBUM_CHANGED -&gt; handleAlbumChanged()\n           BROADCAST_CHANGE_TYPE_CHANGED -&gt; handleChangeTypeChanged()\n        }\n    }\n}\n</code></pre>\n<p>Register broadcast receiver in onCreate() function of your activity</p>\n<pre><code> LocalBroadcastManager.getInstance(this)\n                    .registerReceiver(broadCastReceiver, IntentFilter(BROADCAST_DEFAULT_ALBUM_CHANGED))\n</code></pre>\n<p>unregister it in ondestroy function of your activity</p>\n<pre><code>LocalBroadcastManager.getInstance(this)\n                .unregisterReceiver(broadCastReceiver)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "edited": false, "score": 0, "creation_date": 1522007142, "post_id": 45473649, "comment_id": 85963228, "body": "what should I use instead of <code>BROADCAST_SOMETHING_HAPPENED</code> for SMS recieving"}, {"owner": {"reputation": 2509, "user_id": 1738090, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9c5127a1f300d2f092a5eeb7f76ce348?s=128&d=identicon&r=PG", "display_name": "w3bshark", "link": "https://stackoverflow.com/users/1738090/w3bshark"}, "reply_to_user": {"reputation": 3146, "user_id": 629438, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/50d941c114107ef5d8624bc19b293c8e?s=128&d=identicon&r=PG", "display_name": "Steven Elliott", "link": "https://stackoverflow.com/users/629438/steven-elliott"}, "edited": false, "score": 0, "creation_date": 1529009331, "post_id": 45473649, "comment_id": 88733849, "body": "@StevenElliott that would be answering Hasan&#39;s question and not OP&#39;s question. If you want to know what intent filter to use for SMS, then google it or post another StackOverflow question. But, there are already other StackOverflow questions on SMS filters, so here you go: <a href=\"https://stackoverflow.com/questions/8847876/android-sms-intent-filter\" title=\"android sms intent filter\">stackoverflow.com/questions/8847876/android-sms-intent-filte&zwnj;&#8203;r</a>"}], "tags": [], "owner": {"reputation": 2509, "user_id": 1738090, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9c5127a1f300d2f092a5eeb7f76ce348?s=128&d=identicon&r=PG", "display_name": "w3bshark", "link": "https://stackoverflow.com/users/1738090/w3bshark"}, "is_accepted": false, "score": 9, "last_activity_date": 1501725942, "creation_date": 1501725942, "answer_id": 45473649, "question_id": 45392037, "link": "https://stackoverflow.com/questions/45392037/broadcast-receiver-in-kotlin/45473649#45473649", "title": "Broadcast Receiver in kotlin", "body": "<p>I've created a <a href=\"https://github.com/TylerMcCraw/android-kotlin-extensions/blob/master/BroadcastReceiver.kt\" rel=\"noreferrer\">BroadcastReceiver Kotlin extension</a>, which you can copy/paste anywhere.\nIt doesn't do much more than what is already mentioned, but it reduces some of the boilerplate. \ud83d\ude00</p>\n\n<p>Using this extension, you should register/unregister like so:</p>\n\n<pre><code>private lateinit var myReceiver: BroadcastReceiver\n\noverride fun onStart() {\n    super.onStart()\n    myReceiver = registerReceiver(IntentFilter(BROADCAST_SOMETHING_HAPPENED)) { intent -&gt;\n        when (intent?.action) {\n            BROADCAST_SOMETHING_HAPPENED -&gt; handleSomethingHappened()\n        }\n    }\n}\n\noverride fun onStop() {\n    super.onStop()\n    unregisterReceiver(myReceiver)\n}\n</code></pre>\n"}], "owner": {"reputation": 289, "user_id": 6417843, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Y_6Dz26RipM/AAAAAAAAAAI/AAAAAAAAABQ/U0I8KvYoTmE/photo.jpg?sz=128", "display_name": "Jashan Chakkal", "link": "https://stackoverflow.com/users/6417843/jashan-chakkal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36251, "favorite_count": 6, "accepted_answer_id": 45399437, "answer_count": 3, "score": 27, "last_activity_date": 1611874164, "creation_date": 1501348964, "last_edit_date": 1596048637, "question_id": 45392037, "link": "https://stackoverflow.com/questions/45392037/broadcast-receiver-in-kotlin", "title": "Broadcast Receiver in kotlin", "body": "<p>How to use register and create a Broadcast Receiver in Android in Kotlin. Any advice...\nIn Java, you can create it by declaring it as a Broadcast Receiver. But in Kotlin I am not able to find Broadcast Receiver ...well if it is there then how to use it.</p>\n"}, {"tags": ["kotlin", "kotlin-null-safety"], "comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 2, "creation_date": 1501341547, "post_id": 45390855, "comment_id": 77742313, "body": "To answer your 1st question have a look <a href=\"https://stackoverflow.com/questions/43826699/single-exclamation-mark-in-kotlin\">here</a>"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 1, "creation_date": 1501341820, "post_id": 45390855, "comment_id": 77742409, "body": "The safe call means do this or if the object is <code>null</code> return <code>null</code>. The elvis operator means if the expression is <code>null</code> then return the thing after it (e.g. <code>null ?: 1</code> will return <code>1</code>)."}, {"owner": {"reputation": 645, "user_id": 4283455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2e4cf134fcf092addb86cca9a95f34b6?s=128&d=identicon&r=PG", "display_name": "An Nguyen", "link": "https://stackoverflow.com/users/4283455/an-nguyen"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1501342011, "post_id": 45390855, "comment_id": 77742468, "body": "Thanks, I understood those operators but want to sure about its name."}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1501342119, "post_id": 45390855, "comment_id": 77742497, "body": "The names are correct except for <code>!!</code> as this one doesn&#39;t really have a name."}, {"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 3, "creation_date": 1501347070, "post_id": 45390855, "comment_id": 77744065, "body": "!! = Hold My Beer operator"}], "answers": [{"tags": [], "owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "is_accepted": true, "score": 7, "last_activity_date": 1511818787, "last_edit_date": 1511818787, "creation_date": 1501344125, "answer_id": 45391279, "question_id": 45390855, "link": "https://stackoverflow.com/questions/45390855/confused-about-null-safety-in-kotlin/45391279#45391279", "title": "Confused about Null Safety in Kotlin", "body": "<p>The first one that is the single <code>exclamation mark (!)</code> is called the <strong>platform type</strong>. What it does is that, Kotlin doesn't know how that value will turn out. Whether null or not null so it leaves it to you to decide.</p>\n\n<p>The second one (<code>?.</code>) is a <strong>safe-call operator</strong>. It allows you to combine a method call and a null check into a single operation.</p>\n\n<pre><code>val x:String?\nx=\"foo\"\nprintln(x?.toUpperCase())\n</code></pre>\n\n<p>The third one (<code>?:</code>) is an <strong>Elvis Operator</strong> or the <strong><em>Null-Coalescing operator</em></strong> . It provides a default pre-defined value instead of null when used.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val x:String?;\n    x=null;\n    println(x?:\"book\".toUpperCase())\n}\n</code></pre>\n\n<p>In this instance, the printed value will be <code>\"BOOK\"</code> since <code>x</code> is <code>null</code>.</p>\n\n<p>The last one doesn't really have a name. It is usually referred to as <em>Double-bang</em> or <em>Double exclamation mark</em>. What it does is that it throws a <code>null pointer exception</code> when the value is <code>null</code>.</p>\n\n<pre><code>val x:String?;\nx=null;\nprintln(x!!.toUpperCase())\n</code></pre>\n\n<p>This will throw a null pointer exception.</p>\n\n<p><code>?.let</code> ---> the <strong>let function</strong></p>\n\n<p>The let function turns an object on which it is called into a parameter of a function usually expressed using a lambda expression. When used with a safe call operator (<code>?.</code>), the let function conveniently converts a nullable object to an object of a non-nullable type.</p>\n\n<p>Let's say we have this function.</p>\n\n<pre><code>fun ConvertToUpper (word: String) {word.toUpperCase()}\n</code></pre>\n\n<p>The parameter of ConvertToUpper isn't null so we can't pass a null argument to it.</p>\n\n<pre><code>val newWord: String? = \"foo\"\nConvertToUpper(newWord)\n</code></pre>\n\n<p>The above code wouldn't compile because <code>newWord</code> can be null and our <code>ConvertToUpper</code> function doesn't accept a  <code>null</code> argument.</p>\n\n<p>We can explicitly solve that using an if expression.</p>\n\n<pre><code>if(newWord != null) ConvertToUpper(newWord)\n</code></pre>\n\n<p>The let function simplifies this for us by calling the function only is the value passed to it isn't null.</p>\n\n<pre><code>newWord?.let {ConvertToUpper(it)}\n</code></pre>\n"}], "owner": {"reputation": 645, "user_id": 4283455, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2e4cf134fcf092addb86cca9a95f34b6?s=128&d=identicon&r=PG", "display_name": "An Nguyen", "link": "https://stackoverflow.com/users/4283455/an-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 949, "favorite_count": 3, "accepted_answer_id": 45391279, "answer_count": 1, "score": 4, "last_activity_date": 1511818787, "creation_date": 1501341480, "last_edit_date": 1502611184, "question_id": 45390855, "link": "https://stackoverflow.com/questions/45390855/confused-about-null-safety-in-kotlin", "title": "Confused about Null Safety in Kotlin", "body": "<p>I am new to Kotlin and have read more than one time about <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">Null Safety</a> in Kotlin but I am really confused and do not understand clearly. Can anyone helps me answer questions below:</p>\n\n<ol>\n<li><p>What does <code>!</code> character in <code>fun getString(key: String!)</code> mean?</p></li>\n<li><p>Are names of operators below correct: </p></li>\n</ol>\n\n<p><code>?.</code>: Safe call operator</p>\n\n<p><code>?:</code>: Elvis operator</p>\n\n<p><code>!!</code>: Sure operator</p>\n\n<ol start=\"3\">\n<li>What does differences between <code>?:</code> operator and <code>?.let</code>? When should I use each one?</li>\n</ol>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1075, "user_id": 5284595, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0la1I.png?s=128&g=1", "display_name": "Dexter", "link": "https://stackoverflow.com/users/5284595/dexter"}, "edited": false, "score": 0, "creation_date": 1501341088, "post_id": 45390781, "comment_id": 77742167, "body": "Use textwatcher -- <a href=\"https://stackoverflow.com/questions/8543449/how-to-use-the-textwatcher-class-in-android\" title=\"how to use the textwatcher class in android\">stackoverflow.com/questions/8543449/&hellip;</a>"}, {"owner": {"reputation": 81, "user_id": 8382015, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/65d199d20a6a3a075237cd01efcf3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Norman Wildermuth", "link": "https://stackoverflow.com/users/8382015/norman-wildermuth"}, "edited": false, "score": 0, "creation_date": 1501341657, "post_id": 45390781, "comment_id": 77742349, "body": "Thank you indeed I think I have to use textwatcher but the problem is I have two editText..."}, {"owner": {"reputation": 1075, "user_id": 5284595, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0la1I.png?s=128&g=1", "display_name": "Dexter", "link": "https://stackoverflow.com/users/5284595/dexter"}, "edited": false, "score": 0, "creation_date": 1501342510, "post_id": 45390781, "comment_id": 77742600, "body": "Check now. I have updated the answer."}], "answers": [{"comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 2, "creation_date": 1501341960, "post_id": 45390820, "comment_id": 77742452, "body": "You could just write the condition as the parameter for <code>setEnabled</code>"}, {"owner": {"reputation": 1075, "user_id": 5284595, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0la1I.png?s=128&g=1", "display_name": "Dexter", "link": "https://stackoverflow.com/users/5284595/dexter"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 1, "creation_date": 1501342171, "post_id": 45390820, "comment_id": 77742507, "body": "That&#39;s cleaver :)  But I think this will give OP more clarity."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 1, "creation_date": 1501344503, "post_id": 45390820, "comment_id": 77743221, "body": "I will make it one <code>TextWatcher</code> only and check for both <code>EditText.isEmpty()</code> on that <code>onTextChanged()</code>. I think it will be more pure."}], "tags": [], "owner": {"reputation": 1075, "user_id": 5284595, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0la1I.png?s=128&g=1", "display_name": "Dexter", "link": "https://stackoverflow.com/users/5284595/dexter"}, "is_accepted": true, "score": 1, "last_activity_date": 1501342458, "last_edit_date": 1501342458, "creation_date": 1501341270, "answer_id": 45390820, "question_id": 45390781, "link": "https://stackoverflow.com/questions/45390781/disable-a-button/45390820#45390820", "title": "Disable a button", "body": "<p>Edited : after clarification from OP.\nIf you want to check two editTexts , you can do something like following,</p>\n\n<pre><code>        boolean editText1Empty = true;\n        boolean editText2Empty = true;\n\n        editText1.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n            }\n\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                editText1Empty = charSequence.length() == 0;\n                checkButton();\n            }\n\n            @Override\n            public void afterTextChanged(Editable editable) {\n\n            }\n        });\n\n        editText2.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n\n            }\n\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                editText2Empty = charSequence.length() == 0;\n                checkButton();\n            }\n\n            @Override\n            public void afterTextChanged(Editable editable) {\n\n            }\n        });\n\n        void checkButton() {\n        button.setEnable(!editText1Empty &amp;&amp; !editText2Empty);\n        }\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 8382015, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/65d199d20a6a3a075237cd01efcf3c9a?s=128&d=identicon&r=PG&f=1", "display_name": "Norman Wildermuth", "link": "https://stackoverflow.com/users/8382015/norman-wildermuth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 874, "favorite_count": 0, "accepted_answer_id": 45390820, "answer_count": 1, "score": 1, "last_activity_date": 1501385166, "creation_date": 1501340958, "last_edit_date": 1501385166, "question_id": 45390781, "link": "https://stackoverflow.com/questions/45390781/disable-a-button", "title": "Disable a button", "body": "<p>Hello I would like to do this : I have two EditText and one button and I would like to disable the button if one of the EditText is empty. To do this I try this :</p>\n\n<pre><code>if(editText1!!.getText().length  == 0 || editText2!!.getText().length  == 0 ){\n            button1!!.setEnabled(false)\n        }\n</code></pre>\n\n<p>The problem is my button is everytime disable... and I would when the two EditText are not empty I can click on the button...</p>\n\n<p>How can I do this ?</p>\n\n<p>Thank you !</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 3, "last_activity_date": 1501338249, "last_edit_date": 1501338249, "creation_date": 1501336802, "answer_id": 45390105, "question_id": 45390000, "link": "https://stackoverflow.com/questions/45390000/what-is-legitimate-way-to-get-annotations-of-a-pure-kotlin-property-via-reflecti/45390105#45390105", "title": "What is legitimate way to get annotations of a pure Kotlin property via reflection, are they always missing?", "body": "<p>As Kotlin reference said as below:</p>\n\n<blockquote>\n  <p>If you don't specify a <em>use-site target</em>, the target is chosen according to the <code>@Target</code> annotation of the annotation being used. If there are multiple applicable targets, the first applicable target from the following: <code>param</code>  > <code>property</code> > <code>field</code>. </p>\n</blockquote>\n\n<p>To make the annotation annotated on a <code>property</code>, you should use <a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\">site target</a>, for example:</p>\n\n<pre><code>@MyAnnotation\ndata class TestDto(@property:MyAnnotation val answer: Int = 42)\n</code></pre>\n\n<p>However, annotations with <code>property</code> target in Kotlin are not visible to Java, so you should <em>double</em> the annotation, for example:</p>\n\n<pre><code>@MyAnnotation      // v--- used for property  v--- used for params in Java\ndata class TestDto(@property:MyAnnotation @MyAnnotation val answer: Int = 42)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501337100, "post_id": 45390145, "comment_id": 77740809, "body": "first, upvote! yeah. but be-careful. you can&#39;t get the <code>property</code> annotation in Java. which means you can&#39;t use the 3rd Java library to resolve the annotation correctly."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501337408, "post_id": 45390145, "comment_id": 77740918, "body": "the <b>culprit</b> is Kotlin annotation target is applicable anywhere by default. you can see here as further: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.annotation/-target/index.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.annotation/-targ&zwnj;&#8203;et/&hellip;</a>"}, {"owner": {"reputation": 16438, "user_id": 241986, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lFsRO.gif?s=128&g=1", "display_name": "Boris Treukhov", "link": "https://stackoverflow.com/users/241986/boris-treukhov"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501337653, "post_id": 45390145, "comment_id": 77741006, "body": "@holi-java I still don&#39;t get why the code in my question even compile? If I specify <code>@Target(AnnotationTarget.CLASS)</code> than it won&#39;t. IMO this is a design issue if it&#39;s applicable but not processed. This is very counterintuitive even if it&#39;s documented."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501337887, "post_id": 45390145, "comment_id": 77741073, "body": "sir, are you sure? maybe your editor is lower version. but you can&#39;t compile it."}, {"owner": {"reputation": 16438, "user_id": 241986, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lFsRO.gif?s=128&g=1", "display_name": "Boris Treukhov", "link": "https://stackoverflow.com/users/241986/boris-treukhov"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501337955, "post_id": 45390145, "comment_id": 77741100, "body": "The in the question will compile, but if you limit the scope of @Target in the answer it wont."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501338004, "post_id": 45390145, "comment_id": 77741115, "body": "this is because <code>allowedTargets</code> in annotated <code>@Target</code> is empty by default. so you can&#39;t annotated it anywhere."}], "tags": [], "owner": {"reputation": 16438, "user_id": 241986, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lFsRO.gif?s=128&g=1", "display_name": "Boris Treukhov", "link": "https://stackoverflow.com/users/241986/boris-treukhov"}, "is_accepted": true, "score": 4, "last_activity_date": 1501342234, "last_edit_date": 1501342234, "creation_date": 1501336990, "answer_id": 45390145, "question_id": 45390000, "link": "https://stackoverflow.com/questions/45390000/what-is-legitimate-way-to-get-annotations-of-a-pure-kotlin-property-via-reflecti/45390145#45390145", "title": "What is legitimate way to get annotations of a pure Kotlin property via reflection, are they always missing?", "body": "<p>Ok, \nit seems that the culprit was, that Kotlin annotations have default <strong>@Target(AnnotationTarget.CLASS)</strong> which is not stressed enough in documentation. </p>\n\n<p>After I added <em>@Target</em> to the annotation class it now works properly</p>\n\n<pre><code>@Target(AnnotationTarget.CLASS, AnnotationTarget.PROPERTY)\nannotation class MyAnnotation()\n</code></pre>\n\n<p>Now it prints out</p>\n\n<pre><code>[@some.meaningless.package.name.MyAnnotation()]\n[@some.meaningless.package.name.MyAnnotation()]\n</code></pre>\n\n<p>As a side affect it will force the compiler to check that the annotation is applied as required, in current version of Kotlin, if explicit <code>@Target</code>is not present only class level annotations are kept but no validity checks performed.</p>\n"}], "owner": {"reputation": 16438, "user_id": 241986, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lFsRO.gif?s=128&g=1", "display_name": "Boris Treukhov", "link": "https://stackoverflow.com/users/241986/boris-treukhov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 591, "favorite_count": 0, "accepted_answer_id": 45390145, "answer_count": 2, "score": 1, "last_activity_date": 1501342234, "creation_date": 1501336147, "last_edit_date": 1501339507, "question_id": 45390000, "link": "https://stackoverflow.com/questions/45390000/what-is-legitimate-way-to-get-annotations-of-a-pure-kotlin-property-via-reflecti", "title": "What is legitimate way to get annotations of a pure Kotlin property via reflection, are they always missing?", "body": "<p>I'm trying to get annotations from Kotlin data class</p>\n\n<pre><code>package some.meaningless.package.name\n\nimport kotlin.reflect.full.memberProperties\n\nannotation class MyAnnotation()\n\n@MyAnnotation\ndata class TestDto(@MyAnnotation val answer: Int = 42)\n\nfun main(args: Array&lt;String&gt;) {\n    TestDto::class.memberProperties.forEach { p -&gt; println(p.annotations) }\n    println(TestDto::class.annotations)\n}\n</code></pre>\n\n<p>I need to process class annotation to make a custom name serialization of GSON however no matter how I declare annotation class it never gets detected</p>\n\n<p>The program always outputs</p>\n\n<pre><code>[] \n[@some.meaningless.package.name.MyAnnotation()]\n</code></pre>\n\n<p>which means only class level annotations are present</p>\n"}, {"tags": ["java", "android", "onclick", "kotlin"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 1, "creation_date": 1501332289, "post_id": 45389420, "comment_id": 77739332, "body": "i think this <a href=\"https://antonioleiva.com/when-expression-kotlin/\" rel=\"nofollow noreferrer\">link</a> may help you"}], "answers": [{"tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": true, "score": 17, "last_activity_date": 1501332701, "last_edit_date": 1501332701, "creation_date": 1501332310, "answer_id": 45389443, "question_id": 45389420, "link": "https://stackoverflow.com/questions/45389420/kotlin-how-to-distinguish-the-view-id-from-onclick-like-switch-statement-in/45389443#45389443", "title": "Kotlin || How to distinguish the view id from onClick() like switch statement in Android?", "body": "<p>Use the <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#when-expression\" rel=\"noreferrer\"><code>when</code> expression</a>. It is the equivalent of Java's <code>switch</code>. Example code:</p>\n\n<pre><code>when(view.id) {\n    R.id.imgBack -&gt; {/* code goes here */}\n    R.id.btnSubmit -&gt; {/* you can omit the braces if there is only a single expression */}\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "reply_to_user": {"reputation": 6644, "user_id": 3946958, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/UZtJu.jpg?s=128&g=1", "display_name": "Ravindra Kushwaha", "link": "https://stackoverflow.com/users/3946958/ravindra-kushwaha"}, "edited": false, "score": 0, "creation_date": 1501332572, "post_id": 45389456, "comment_id": 77739429, "body": "follow this <a href=\"https://antonioleiva.com/when-expression-kotlin/\" rel=\"nofollow noreferrer\">link</a>@RavindraKushwaha"}], "tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": false, "score": 4, "last_activity_date": 1501332669, "last_edit_date": 1501332669, "creation_date": 1501332392, "answer_id": 45389456, "question_id": 45389420, "link": "https://stackoverflow.com/questions/45389420/kotlin-how-to-distinguish-the-view-id-from-onclick-like-switch-statement-in/45389456#45389456", "title": "Kotlin || How to distinguish the view id from onClick() like switch statement in Android?", "body": "<p>try this <strong>use when</strong> :- , when expressions in Kotlin can do everything you can do with a switch and much more.</p>\n\n<p>Actually, with when you can substitute the most complex if/else you can have in your code.</p>\n\n<p>for more info <a href=\"https://antonioleiva.com/when-expression-kotlin/\" rel=\"nofollow noreferrer\">visit this site</a></p>\n\n<pre><code> when (view.id) {\n    R.id.home -&gt; perform your action here\n    R.id.search -&gt; perform your action here\n    R.id.settings -&gt; perform your action here\n    else -&gt; perform action\n}\n</code></pre>\n"}], "owner": {"reputation": 6644, "user_id": 3946958, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/UZtJu.jpg?s=128&g=1", "display_name": "Ravindra Kushwaha", "link": "https://stackoverflow.com/users/3946958/ravindra-kushwaha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6776, "favorite_count": 0, "accepted_answer_id": 45389443, "answer_count": 2, "score": 7, "last_activity_date": 1501832459, "creation_date": 1501332153, "last_edit_date": 1501832459, "question_id": 45389420, "link": "https://stackoverflow.com/questions/45389420/kotlin-how-to-distinguish-the-view-id-from-onclick-like-switch-statement-in", "title": "Kotlin || How to distinguish the view id from onClick() like switch statement in Android?", "body": "<p>As we know in <strong><code>Android</code></strong> we are using the <strong><code>switch</code></strong> statement to distinct the <code>view</code> like below, We used to <code>implement</code> <strong><code>View.OnClickListener</code></strong> to get <code>onClick</code> interface method to perform any task</p>\n\n<pre><code> @Override\n    public void onClick(View view) {\n\n        switch (view.getId()) {\n            case R.id.imgBack:\n\n              ///DO SOME THING HERE\n\n                break;\n\n            case R.id.btnSubmit:\n\n                ///DO SOME THING HERE\n\n                break;\n        }\n    }\n</code></pre>\n\n<p>Same thing i am using in <strong><code>Kotlin</code></strong> , by implement the  <strong><code>View.OnClickListener</code></strong> and getting its overrided method like below</p>\n\n<pre><code>class FeedBackActivity : AppCompatActivity(), View.OnClickListener {\n    override fun onClick(p0: View?) {\n\n /// HOW CAN I USE THE SWITCH STATEMENT TO DISTINGUISH THE VIEW CLICK \n\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.feed_back_screen)\n\n        imgBack.setOnClickListener(this)\n\n\n    }\n\n}\n</code></pre>\n\n<p>In above code i want to use the same <strong><code>switch</code></strong> to distinguish the different view click. How can i archive this in <strong><code>Kotlin</code></strong></p>\n\n<p>I know there is another way to perform the click listener in <strong><code>Kotlin</code></strong> like below</p>\n\n<pre><code>MY_VIEW.setOnClickListener {\n                Toast.makeText(this,\"I have clicked\",Toast.LENGTH_LONG).show()\n            }\n</code></pre>\n\n<p>But i want to use the same interface in <strong><code>Kotin</code></strong> which we are using the <strong><code>Android</code></strong>.Please help me to short out from this problem</p>\n"}, {"tags": ["android", "google-maps", "kotlin"], "comments": [{"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1501322216, "post_id": 45387700, "comment_id": 77736436, "body": "<code>mapFragment</code> is probably null, which means that the <code>fragmentManager</code> can&#39;t find it. Did you initialize the <code>SupportMapFragment</code> somewhere in your code?"}, {"owner": {"reputation": 132, "user_id": 8253831, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh4.googleusercontent.com/-GwFVHLzZ2eE/AAAAAAAAAAI/AAAAAAAAAEY/mXGOGaqbQ7c/photo.jpg?sz=128", "display_name": "Dimple patel", "link": "https://stackoverflow.com/users/8253831/dimple-patel"}, "reply_to_user": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1501329063, "post_id": 45387700, "comment_id": 77738408, "body": "Actually the map is displaying on screen but marker is not addded"}, {"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1501333765, "post_id": 45387700, "comment_id": 77739802, "body": "Can you show your layout XML? Or do you call <code>SupportMapFragment()</code> (the constructor) somewhere?"}], "answers": [{"tags": [], "owner": {"reputation": 5455, "user_id": 1162784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TjcuA.png?s=128&g=1", "display_name": "arsent", "link": "https://stackoverflow.com/users/1162784/arsent"}, "is_accepted": false, "score": 1, "last_activity_date": 1501336572, "creation_date": 1501336572, "answer_id": 45390064, "question_id": 45387700, "link": "https://stackoverflow.com/questions/45387700/kotlin-with-map-marker-not-showing/45390064#45390064", "title": "Kotlin with Map ( Marker Not showing)", "body": "<ol>\n<li>You are using the wrong map instance.</li>\n<li>Sydney lat lng are <code>-33.8479731,150.6517908</code></li>\n</ol>\n\n<blockquote>\n<pre><code>mapFragment?.getMapAsync { \n\n    map -&gt;  // &lt;- this is the map that you got async not mMap            \n        val sydney = LatLng(-33.8479731, 150.6517908)\n        map.addMarker(...\n        map.moveCamera(...\n}\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 132, "user_id": 8253831, "user_type": "registered", "accept_rate": 44, "profile_image": "https://lh4.googleusercontent.com/-GwFVHLzZ2eE/AAAAAAAAAAI/AAAAAAAAAEY/mXGOGaqbQ7c/photo.jpg?sz=128", "display_name": "Dimple patel", "link": "https://stackoverflow.com/users/8253831/dimple-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1120, "favorite_count": 2, "answer_count": 1, "score": 3, "last_activity_date": 1501431095, "creation_date": 1501320816, "last_edit_date": 1501431095, "question_id": 45387700, "link": "https://stackoverflow.com/questions/45387700/kotlin-with-map-marker-not-showing", "title": "Kotlin with Map ( Marker Not showing)", "body": "<p>Hello I'm trying to implements <code>Google Maps</code> in kotlin, but in these code my <code>getMapAsync</code>is not getting called, the maps shows perfectly but the marker doesn't show up </p>\n\n<pre><code>    var mapFragment : SupportMapFragment?=null\n    mapFragment= fragmentManager.findFragmentById(R.id.map) as SupportMapFragment?\n    mapFragment?.getMapAsync { \n        val sydney = LatLng(22.30, 73.20)\n        mMap!!.addMarker(MarkerOptions().position(sydney).title(\"Marker in Sydney\"))\n        mMap!!.moveCamera(CameraUpdateFactory.newLatLng(sydney))\n\n\n        Toast.makeText(activity,\"dfgdg\",Toast.LENGTH_LONG).show() }\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 67098, "user_id": 1235698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90fd9ad4efef8eb93209f42183c48f3e?s=128&d=identicon&r=PG", "display_name": "Marcin Orlowski", "link": "https://stackoverflow.com/users/1235698/marcin-orlowski"}, "edited": false, "score": 2, "creation_date": 1501297355, "post_id": 45384786, "comment_id": 77730838, "body": "Your question makes no sense. Google Kotlin and you figure out why."}, {"owner": {"reputation": 107, "user_id": 7984305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85279d4d0910e26d10955cb75d8f44a8?s=128&d=identicon&r=PG&f=1", "display_name": "moksh freelancer", "link": "https://stackoverflow.com/users/7984305/moksh-freelancer"}, "reply_to_user": {"reputation": 67098, "user_id": 1235698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90fd9ad4efef8eb93209f42183c48f3e?s=128&d=identicon&r=PG", "display_name": "Marcin Orlowski", "link": "https://stackoverflow.com/users/1235698/marcin-orlowski"}, "edited": false, "score": 0, "creation_date": 1501297977, "post_id": 45384786, "comment_id": 77730927, "body": "I have already searched in google. But I do not know how Kotlin is used for android. My colleague says I need to learn Kotlin for android application development."}, {"owner": {"reputation": 984, "user_id": 3908547, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eopGH.jpg?s=128&g=1", "display_name": "Greg Whatley", "link": "https://stackoverflow.com/users/3908547/greg-whatley"}, "edited": false, "score": 1, "creation_date": 1501298685, "post_id": 45384786, "comment_id": 77731031, "body": "@mokshfreelancer Kotlin is a language that runs in the JVM, like Java.  That&#39;s how it can be used to develop Android apps.  I did a quick search for <code>Android Kotlin tutorial</code> on YouTube and got a lot of results.  Try to use that as a starting point."}, {"owner": {"reputation": 107, "user_id": 7984305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85279d4d0910e26d10955cb75d8f44a8?s=128&d=identicon&r=PG&f=1", "display_name": "moksh freelancer", "link": "https://stackoverflow.com/users/7984305/moksh-freelancer"}, "reply_to_user": {"reputation": 984, "user_id": 3908547, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/eopGH.jpg?s=128&g=1", "display_name": "Greg Whatley", "link": "https://stackoverflow.com/users/3908547/greg-whatley"}, "edited": false, "score": 0, "creation_date": 1501298762, "post_id": 45384786, "comment_id": 77731042, "body": "@GregWhatley thank you very much"}, {"owner": {"reputation": 7427, "user_id": 6156989, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/LncX1.png?s=128&g=1", "display_name": "Akshar Patel", "link": "https://stackoverflow.com/users/6156989/akshar-patel"}, "edited": false, "score": 0, "creation_date": 1501312673, "post_id": 45384786, "comment_id": 77733830, "body": "There are so many resources on internet that answers this question. Please read this <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> before posting any question."}, {"owner": {"reputation": 107, "user_id": 7984305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85279d4d0910e26d10955cb75d8f44a8?s=128&d=identicon&r=PG&f=1", "display_name": "moksh freelancer", "link": "https://stackoverflow.com/users/7984305/moksh-freelancer"}, "reply_to_user": {"reputation": 7427, "user_id": 6156989, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/LncX1.png?s=128&g=1", "display_name": "Akshar Patel", "link": "https://stackoverflow.com/users/6156989/akshar-patel"}, "edited": false, "score": 0, "creation_date": 1501312871, "post_id": 45384786, "comment_id": 77733882, "body": "@AksharPatelIN thanks"}, {"owner": {"reputation": 7427, "user_id": 6156989, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/LncX1.png?s=128&g=1", "display_name": "Akshar Patel", "link": "https://stackoverflow.com/users/6156989/akshar-patel"}, "edited": false, "score": 0, "creation_date": 1501313031, "post_id": 45384786, "comment_id": 77733930, "body": "You can learn from Udacity. <a href=\"https://in.udacity.com/courses/android\" rel=\"nofollow noreferrer\">in.udacity.com/courses/android</a>. The courses are taught by Google Engineers."}], "answers": [{"comments": [{"owner": {"reputation": 107, "user_id": 7984305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85279d4d0910e26d10955cb75d8f44a8?s=128&d=identicon&r=PG&f=1", "display_name": "moksh freelancer", "link": "https://stackoverflow.com/users/7984305/moksh-freelancer"}, "edited": false, "score": 1, "creation_date": 1501302086, "post_id": 45384926, "comment_id": 77731549, "body": "The best answer I have got. You cleared my all doubts. Thank you very very much."}, {"owner": {"reputation": 1271, "user_id": 5134052, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b6f2f3673c6b9d1371fcd61d80b5e178?s=128&d=identicon&r=PG&f=1", "display_name": "SRBhagwat", "link": "https://stackoverflow.com/users/5134052/srbhagwat"}, "reply_to_user": {"reputation": 107, "user_id": 7984305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85279d4d0910e26d10955cb75d8f44a8?s=128&d=identicon&r=PG&f=1", "display_name": "moksh freelancer", "link": "https://stackoverflow.com/users/7984305/moksh-freelancer"}, "edited": false, "score": 0, "creation_date": 1501305098, "post_id": 45384926, "comment_id": 77732089, "body": "@mokshfreelancer Happy learning:)"}], "tags": [], "owner": {"reputation": 1271, "user_id": 5134052, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/b6f2f3673c6b9d1371fcd61d80b5e178?s=128&d=identicon&r=PG&f=1", "display_name": "SRBhagwat", "link": "https://stackoverflow.com/users/5134052/srbhagwat"}, "is_accepted": true, "score": 13, "last_activity_date": 1501298778, "creation_date": 1501298778, "answer_id": 45384926, "question_id": 45384786, "link": "https://stackoverflow.com/questions/45384786/what-is-better-for-android-application-development-is-it-kotlin-or-java/45384926#45384926", "title": "What is better for android application development? Is it kotlin or java?", "body": "<p>You need to learn either Java or Kotlin for Android application development. Android studio is an IDE like eclipse which helps you to develop applications. \nKotlin is a Programming language like Java.\nSo if you are confused about learning Java or Kotlin to develop Android applications, your question makes sense. Here is a comparision:</p>\n\n<p>Kotlin for Android : <a href=\"https://kotlinlang.org/docs/reference/android-overview.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/android-overview.html</a></p>\n\n<p><strong>What Java has that Kotlin does not</strong></p>\n\n<p>Checked exceptions, \nPrimitive types that are not classes, \nStatic members, \nNon-private fields, \nWildcard-types</p>\n\n<p><strong>What Kotlin has that Java does not</strong></p>\n\n<p>Extension functions, \nNull-safety, \nLambda expressions + Inline functions, \nstructuresSmart casts, \nString templates, \nProperties, \nPrimary constructors, \nFirst-class delegation, \nType inference for variable and property types, \nSingletons, \nDeclaration-site variance &amp; Type projections, \nRange expressions, \nOperator overloading, \nCompanion objects, \nData classes, \nSeparate interfaces for read-only and mutable collections, \nCoroutines</p>\n\n<p>Source : <a href=\"https://kotlinlang.org/docs/reference/comparison-to-java.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/comparison-to-java.html</a></p>\n\n<p>Full Kotlin Ref : <a href=\"https://kotlinlang.org/docs/kotlin-docs.pdf\" rel=\"noreferrer\">https://kotlinlang.org/docs/kotlin-docs.pdf</a></p>\n"}, {"tags": [], "owner": {"reputation": 3496, "user_id": 1564652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5cBHJ.jpg?s=128&g=1", "display_name": "TooManyEduardos", "link": "https://stackoverflow.com/users/1564652/toomanyeduardos"}, "is_accepted": false, "score": 2, "last_activity_date": 1501301689, "creation_date": 1501301689, "answer_id": 45385192, "question_id": 45384786, "link": "https://stackoverflow.com/questions/45384786/what-is-better-for-android-application-development-is-it-kotlin-or-java/45385192#45385192", "title": "What is better for android application development? Is it kotlin or java?", "body": "<p>Java and Kotlin are programming languages. You're safe learning either one, but since Java is much older it will be easier to find books, tutorials, and sample code in Java than in Kotlin.</p>\n\n<p>Android Studio is just the IDE, or text editor (+ sdk, emulator, etc....) you write your code on.</p>\n\n<p>Learning one doesn't mean much for the other.</p>\n\n<p>You could learn Java, and write your code on Android Studio, or Eclipse, or even Sublime text (and run the app from command prompt/terminal)</p>\n"}], "owner": {"reputation": 107, "user_id": 7984305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85279d4d0910e26d10955cb75d8f44a8?s=128&d=identicon&r=PG&f=1", "display_name": "moksh freelancer", "link": "https://stackoverflow.com/users/7984305/moksh-freelancer"}, "delete_vote_count": 2, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3378, "favorite_count": 0, "closed_date": 1501319067, "accepted_answer_id": 45384926, "answer_count": 2, "score": 3, "last_activity_date": 1501389264, "creation_date": 1501297165, "last_edit_date": 1501389264, "question_id": 45384786, "link": "https://stackoverflow.com/questions/45384786/what-is-better-for-android-application-development-is-it-kotlin-or-java", "closed_reason": "Needs details or clarity", "title": "What is better for android application development? Is it kotlin or java?", "body": "<p>I am new to android. I am confused what to learn android studio or kotlin. I don't know anything about android development.</p>\n"}, {"tags": ["kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 1, "creation_date": 1501296070, "post_id": 45384389, "comment_id": 77730666, "body": "Whoops, didn&#39;t find this until after I wrote my answer, but <a href=\"https://stackoverflow.com/a/43149382\">stackoverflow.com/a/43149382</a> is a little more detailed."}], "answers": [{"comments": [{"owner": {"reputation": 1914, "user_id": 1094605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fdb22561b95b9173f26fcafba25a46cc?s=128&d=identicon&r=PG", "display_name": "aProperFox", "link": "https://stackoverflow.com/users/1094605/aproperfox"}, "edited": false, "score": 0, "creation_date": 1551369121, "post_id": 45384682, "comment_id": 96623582, "body": "You are my hero. Thank you much."}], "tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": true, "score": 17, "last_activity_date": 1501295937, "creation_date": 1501295937, "answer_id": 45384682, "question_id": 45384389, "link": "https://stackoverflow.com/questions/45384389/why-cant-dagger-process-these-kotlin-generics/45384682#45384682", "title": "Why can&#39;t dagger process these kotlin generics?", "body": "<p>Kotlin's <code>List&lt;out E&gt;</code> translates to covariance in Java's <code>List&lt;? extends E&gt;</code> by default. Dagger doesn't like that.</p>\n\n<p>To get around this issue, you can either switch to <code>MutableList&lt;E&gt;</code> which is invariant, or write <code>List&lt;@JvmSuppressWildcards E&gt;</code>.</p>\n"}], "owner": {"reputation": 395, "user_id": 2785579, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4d9b3ef0d0baf464896511d097d7e89f?s=128&d=identicon&r=PG&f=1", "display_name": "Daykm", "link": "https://stackoverflow.com/users/2785579/daykm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1873, "favorite_count": 1, "accepted_answer_id": 45384682, "answer_count": 1, "score": 6, "last_activity_date": 1501295937, "creation_date": 1501291853, "last_edit_date": 1501292292, "question_id": 45384389, "link": "https://stackoverflow.com/questions/45384389/why-cant-dagger-process-these-kotlin-generics", "title": "Why can&#39;t dagger process these kotlin generics?", "body": "<p>I'm having some weird kotlin generic issues with Dagger that I kinda fixed but the solution isn't sound.</p>\n\n<p>Here's the dagger classes:</p>\n\n<pre><code>@Module class P5Module {\n    @Provides fun pool(): RecyclerView.RecycledViewPool = RecyclerView.RecycledViewPool()\n    @Provides\n    fun adapters(fusion: P5FusionAdapter, personas: P5ListAdapter, skills: P5SkillsAdapter, info: InfoAdapter)\n            : List&lt;Pageable&gt; = listOf(fusion, personas, skills, info)\n}\n\n@ActivityScope\n@Subcomponent(modules = arrayOf(P5Module::class)) interface P5Component {\n    fun adapter(): PageableAdapter\n}\n\ninterface Pageable {\n    fun manager(ctx: Context): LayoutManager\n    fun attach()\n    fun adapter(): Adapter&lt;*&gt;\n}\n\nclass PageableAdapter\n@Inject constructor(val pageables: List&lt;Pageable&gt;, val pool: RecyclerView.RecycledViewPool) :PagerAdapter()\n</code></pre>\n\n<p>When I build, I get this kapt error in the top level component: </p>\n\n<pre><code>e: C:\\Users\\daykm\\StudioProjects\\P5Executioner\\app\\build\\tmp\\kapt3\\stubs\\appDebug\\com\\daykm\\p5executioner\\AppComponent.java:17: error: [com.daykm.p5executioner.main.P5Component.adapter()] java.util.List&lt;? extends com.daykm.p5executioner.view.Pageable&gt; cannot be provided without an @Provides-annotated method.\ne: \n\ne: public abstract interface AppComponent {\ne:                 ^\ne:       java.util.List&lt;? extends com.daykm.p5executioner.view.Pageable&gt; is injected at\ne:           com.daykm.p5executioner.view.PageableAdapter.&lt;init&gt;(pageables, \u2026)\ne:       com.daykm.p5executioner.view.PageableAdapter is provided at\ne:           com.daykm.p5executioner.main.P5Component.adapter()\ne: java.lang.IllegalStateException: failed to analyze: org.jetbrains.kotlin.kapt3.diagnostic.KaptError: Error while annotation processing\n</code></pre>\n\n<p>I took a look at the stubs generated:</p>\n\n<pre><code>@javax.inject.Inject()\npublic PageableAdapter(@org.jetbrains.annotations.NotNull()\njava.util.List&lt;? extends com.daykm.p5executioner.view.Pageable&gt; pageables, @org.jetbrains.annotations.NotNull()\nandroid.support.v7.widget.RecyclerView.RecycledViewPool pool) {\n    super();\n}\n\n@org.jetbrains.annotations.NotNull()\n@dagger.Provides()\npublic final java.util.List&lt;com.daykm.p5executioner.view.Pageable&gt; adapters(@org.jetbrains.annotations.NotNull()\n</code></pre>\n\n<p>Apparently  doesn't match with  because when I modify the dagger class like so:</p>\n\n<pre><code>@Module class P5Module {\n    @Provides fun pool(): RecyclerView.RecycledViewPool = RecyclerView.RecycledViewPool()\n    @Provides\n    fun adapters(fusion: P5FusionAdapter, personas: P5ListAdapter, skills: P5SkillsAdapter, info: InfoAdapter)\n            : List&lt;*&gt; = listOf(fusion, personas, skills, info)\n}\n\n@ActivityScope\n@Subcomponent(modules = arrayOf(P5Module::class)) interface P5Component {\n    fun adapter(): PageableAdapter\n}\n\ninterface Pageable {\n    fun manager(ctx: Context): LayoutManager\n    fun attach()\n    fun adapter(): Adapter&lt;*&gt;\n}\n\nclass PageableAdapter\n@Inject constructor(val pageables: List&lt;*&gt;, val pool: RecyclerView.RecycledViewPool) :PagerAdapter()\n</code></pre>\n\n<p>The issue disappears.\nAm I bumping into some weird translation issue with covariance and contravariance? I'd rather not force a cast downstream.</p>\n"}, {"tags": ["kotlin", "reactive-programming", "project-reactor"], "answers": [{"comments": [{"owner": {"reputation": 382, "user_id": 2352866, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8bcac072648a59672779bf81be2d0be8?s=128&d=identicon&r=PG", "display_name": "Orestis", "link": "https://stackoverflow.com/users/2352866/orestis"}, "edited": false, "score": 0, "creation_date": 1501403958, "post_id": 45397578, "comment_id": 77756497, "body": "If every observer writes the message to a DB, will it be done asynchronously with a Flux or the loop is going to run still sequentially?"}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "reply_to_user": {"reputation": 382, "user_id": 2352866, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8bcac072648a59672779bf81be2d0be8?s=128&d=identicon&r=PG", "display_name": "Orestis", "link": "https://stackoverflow.com/users/2352866/orestis"}, "edited": false, "score": 0, "creation_date": 1501406678, "post_id": 45397578, "comment_id": 77757189, "body": "@Orestis As you&#39;ve written it, it is sequential. One way to get parallelism is something like <code>observers.toFlux().flatMap { observer -&gt; Mono.fromCallable { observer.reactOnMessage(message) }.subscribeOn(Schedulers.parallel()) }.subscribe()</code>."}], "tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": true, "score": 1, "last_activity_date": 1501400832, "creation_date": 1501400832, "answer_id": 45397578, "question_id": 45384336, "link": "https://stackoverflow.com/questions/45384336/using-a-flux-instead-of-a-for-loop-any-benefits/45397578#45397578", "title": "Using a Flux instead of a for loop, any benefits?", "body": "<p>It depends.</p>\n\n<p>If it is reasonable to process <code>observers</code> sequentially, there is no benefit to using Flux here and</p>\n\n<pre><code>override fun notifyObserversOnMessage(message: Message) {\n    observers.forEach { observer -&gt;\n        observer.reactOnMessage(message)\n    }\n}\n</code></pre>\n\n<p>or simply</p>\n\n<pre><code>override fun notifyObserversOnMessage(message: Message) {\n    observers.forEach { it.reactOnMessage(message) }\n}\n</code></pre>\n\n<p>is fine.</p>\n\n<p>For na\u00efve parallelism,</p>\n\n<pre><code>override fun notifyObserversOnMessage(message: Message) {\n    observers.parallelStream().forEach { it.reactOnMessage(message) }\n}\n</code></pre>\n\n<p>can be used, but at this point it's more likely you'll have additional requirements such as worker pools or timeouts. In that case the expressiveness of Reactor is useful.</p>\n"}], "owner": {"reputation": 382, "user_id": 2352866, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8bcac072648a59672779bf81be2d0be8?s=128&d=identicon&r=PG", "display_name": "Orestis", "link": "https://stackoverflow.com/users/2352866/orestis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2777, "favorite_count": 0, "accepted_answer_id": 45397578, "answer_count": 1, "score": 0, "last_activity_date": 1501400832, "creation_date": 1501291103, "last_edit_date": 1501322743, "question_id": 45384336, "link": "https://stackoverflow.com/questions/45384336/using-a-flux-instead-of-a-for-loop-any-benefits", "title": "Using a Flux instead of a for loop, any benefits?", "body": "<p>I am trying to get my head around reactive programming so I would like to ask if there is any benefit to using a Flux here:</p>\n\n<pre><code>override fun notifyObserversOnMessage(message: Message) {\n        Flux.fromStream(observers.stream())\n                .map { observer -&gt; Mono.just(observer.reactOnMessage(message)) }\n                .subscribe()        \n    }\n</code></pre>\n\n<p>instead of:</p>\n\n<pre><code>override fun notifyObserversOnMessage(message: Message) {\n        for (observer in observers) {\n            observer.reactOnMessage(message)\n        }       \n    }\n</code></pre>\n\n<p>Does it depend on the work each observer is doing and if that is IO or not? </p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1501287565, "post_id": 45382552, "comment_id": 77729301, "body": "Would you mind pushing your current state to Github? Would like to have a look."}, {"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "reply_to_user": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1501328639, "post_id": 45382552, "comment_id": 77738295, "body": "Thanks @Ascorbin , I&#39;ve added a repo link now. It is built with the latest canary Android Studio so hopefully that ain&#39;t a problem."}], "answers": [{"comments": [{"owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "edited": false, "score": 0, "creation_date": 1501679280, "post_id": 45452391, "comment_id": 77883905, "body": "Well done thanks for that. I just did what AS told me to and it caused me about 6 hours of grief :)"}], "tags": [], "owner": {"reputation": 1314, "user_id": 6952632, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6fe561e3e70b441ad8ca9ce63242620?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitrii Nechepurenko", "link": "https://stackoverflow.com/users/6952632/dmitrii-nechepurenko"}, "is_accepted": true, "score": 3, "last_activity_date": 1501652802, "creation_date": 1501652802, "answer_id": 45452391, "question_id": 45382552, "link": "https://stackoverflow.com/questions/45382552/mvp-presenter-not-injected-correctly/45452391#45452391", "title": "MVP Presenter not injected correctly", "body": "<p>It's not a full answer but pretty close. </p>\n\n<p>Problem is in<code>out</code> modifier. With this modifier Dagger try inject</p>\n\n<pre><code>com.xxx.login.LoginMVP.Presenter&lt;com.xxx.login.LoginMVP.View,? extends com.xxx.login.LoginMVP.Interactor&gt;\n</code></pre>\n\n<p>but you provide only</p>\n\n<pre><code>  com.xxx.login.LoginMVP.Presenter&lt;com.xxx.login.LoginMVP.View, com.xxx.login.LoginMVP.Interactor&gt;  \n</code></pre>\n\n<p>(in function <code>provideLoginPresenter</code>). </p>\n\n<p>So if remove all <code>out</code> modifies (from <code>Presenter</code>, <code>BasePresenter</code>, <code>LoginPresenter</code>) it starts compile and work.</p>\n\n<p>I'm not sure why Dagger try inject wrong type or cannot understand that it is same type. It looks like bug while annotation processing. So the simplest solution - don't use <code>out</code> modifier\nwith Dagger.</p>\n"}], "owner": {"reputation": 16317, "user_id": 1866373, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cafdE.jpg?s=128&g=1", "display_name": "Daniel Wilson", "link": "https://stackoverflow.com/users/1866373/daniel-wilson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 811, "favorite_count": 3, "accepted_answer_id": 45452391, "answer_count": 1, "score": 5, "last_activity_date": 1501652802, "creation_date": 1501276679, "last_edit_date": 1501328558, "question_id": 45382552, "link": "https://stackoverflow.com/questions/45382552/mvp-presenter-not-injected-correctly", "title": "MVP Presenter not injected correctly", "body": "<p>I am learning Kotlin and Dagger 2 simultaneously by attempting to convert some of <a href=\"https://github.com/MindorksOpenSource/android-mvp-interactor-architecture\" rel=\"nofollow noreferrer\">Mindorks advanced MVP sample</a> to Kotlin but am having Dagger2 compile issues. I am swimming in classes here but am very close! Don't mind the untidiness, I intend to comb over each class once it compiles. If something is missing please let me know. The error comes down to my presenter class not being correctly injected into the activity. The error reads as follows:</p>\n\n<pre><code>e: D:\\_Dev\\repo\\app\\build\\tmp\\kapt3\\stubs\\debug\\com\\xxx\\di\\component\\ActivityComponent.java:8: error: com.xxx.login.LoginMVP.Presenter&lt;com.xxx.login.LoginMVP.View,? extends com.xxx.login.LoginMVP.Interactor&gt; cannot be provided without an @Provides- or @Produces-annotated method.\ne: \n\ne:     public abstract void inject(@org.jetbrains.annotations.NotNull()\ne:                          ^\ne:       com.xxx.login.LoginMVP.Presenter&lt;com.xxx.login.LoginMVP.View,? extends com.xxx.login.LoginMVP.Interactor&gt; is injected at\ne:           com.xxx.login.LoginActivity.presenter\ne:       com.xxx.login.LoginActivity is injected at\ne:           com.xxx.di.component.ActivityComponent.inject(activity)\ne: java.lang.IllegalStateException: failed to analyze: org.jetbrains.kotlin.kapt3.diagnostic.KaptError: Error while annotation processing\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p><a href=\"https://github.com/danielwilson1702/mindorks-kotlin-sample\" rel=\"nofollow noreferrer\">Here is a repo with the failing code</a>, built with the latest canary build of Android Studio</p>\n\n<p>BaseActivity.kt</p>\n\n<pre><code>abstract class BaseActivity : AppCompatActivity(), MvpView {\n\n    val activityComponent: ActivityComponent by lazy {\n        DaggerActivityComponent.builder()\n                .applicationComponent((application as App).applicationComponent)\n                .activityModule(ActivityModule(this))\n                .build()\n    }\n}\n</code></pre>\n\n<p>BasePresenter.kt</p>\n\n<pre><code>open class BasePresenter&lt;V : MvpView, out I: MvpInteractor&gt;\n@Inject constructor(private val mvpInteractor: I) : MvpPresenter&lt;V, I&gt; {\n\n    private var mvpView: V? = null\n\n    override fun onAttach(mvpView: V) {\n        this.mvpView = mvpView\n    }\n\n    override fun onDetach() {\n        mvpView = null\n    }\n\n    override fun getMvpView(): V? {\n        return mvpView\n    }\n\n    override fun getInteractor(): I {\n        return mvpInteractor\n    }\n\n}\n</code></pre>\n\n<p>MvpPresenter.kt (MvpView and MvpInteractor are basic empty interfaces)</p>\n\n<pre><code>interface MvpPresenter&lt;V: MvpView, out I: MvpInteractor&gt; {\n\n    fun onAttach(mvpView: V)\n\n    fun onDetach()\n\n    fun getMvpView(): V?\n\n    fun getInteractor(): I\n}\n</code></pre>\n\n<p>App.kt</p>\n\n<pre><code>class App: Application() {\n\n    lateinit var applicationComponent: ApplicationComponent\n\n    override fun onCreate() {\n        super.onCreate()\n        applicationComponent = DaggerApplicationComponent.builder()\n                .applicationModule(ApplicationModule(this)).build()\n\n        applicationComponent.inject(this)\n    }\n\n    fun getComponent(): ApplicationComponent {\n        return applicationComponent\n    }\n\n    fun setComponent(applicationComponent: ApplicationComponent) {\n        this.applicationComponent = applicationComponent\n    }\n}\n</code></pre>\n\n<p>ApplicationComponent.kt</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(ApplicationModule::class))\ninterface ApplicationComponent {\n\n    fun inject(app: App)\n\n    @ApplicationContext fun context(): Context\n\n    fun application(): Application\n\n    //Pref helper\n    //Api helper\n}\n</code></pre>\n\n<p>ApplicationModule.kt</p>\n\n<pre><code>@Module\nclass ApplicationModule(val application: Application) {\n\n    @Provides\n    @ApplicationContext\n    fun provideContext(): Context = application\n\n    @Provides\n    fun provideApplication(): Application = application\n\n    //Provide api helper\n\n    //Provide pref helper\n\n    //Provide api key etc.\n}\n</code></pre>\n\n<p>ActivityModule.kt</p>\n\n<pre><code>@Module\nclass ActivityModule(val activity: AppCompatActivity) {\n\n    @Provides\n    fun provideContext(): Context = activity\n\n    @Provides\n    fun provideActivity(): AppCompatActivity = activity\n\n    @Provides\n    fun provideLoginPresenter(presenter: LoginPresenter&lt;LoginMVP.View, LoginMVP.Interactor&gt;):\n            LoginMVP.Presenter&lt;LoginMVP.View, LoginMVP.Interactor&gt; {\n        return presenter\n    }\n\n    @Provides\n    fun provideLoginMvpInteractor(interactor: LoginInteractor):\n            LoginMVP.Interactor {\n        return interactor\n    }\n\n}\n</code></pre>\n\n<p>ActivityComponent.kt</p>\n\n<pre><code>@PerActivity\n@Component(dependencies = arrayOf(ApplicationComponent::class), modules = arrayOf(ActivityModule::class))\ninterface ActivityComponent {\n\n    fun inject(activity: LoginActivity)\n}\n</code></pre>\n\n<p>LoginActivity.kt</p>\n\n<pre><code>class LoginActivity : BaseActivity(), LoaderCallbacks&lt;Cursor&gt;, LoginMVP.View {\n\n    @Inject lateinit var presenter: LoginMVP.Presenter&lt;LoginMVP.View, LoginMVP.Interactor&gt;\n\n    private var authTask: UserLoginTask? = null\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_login)\n\n        activityComponent.inject(this)\n\n        email_sign_in_button.setOnClickListener { presenter.onServerLoginClick(email.text.toString(), password.text.toString()) }\n\n        presenter.onAttach(this)\n    }\n}\n</code></pre>\n\n<p>LoginMVP.kt</p>\n\n<pre><code>interface LoginMVP {\n\n    interface Interactor : MvpInteractor {\n\n    }\n\n    @PerActivity\n    interface Presenter&lt;V : LoginMVP.View, out I : LoginMVP.Interactor&gt;\n        : MvpPresenter&lt;V, I&gt; {\n\n        fun onServerLoginClick(email: String, password: String)\n\n    }\n\n    interface View : MvpView {\n        fun openMainActivity()\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "rx-java2", "rx-kotlin"], "answers": [{"comments": [{"owner": {"reputation": 673, "user_id": 3692626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qqE1P.jpg?s=128&g=1", "display_name": "Carter Hudson", "link": "https://stackoverflow.com/users/3692626/carter-hudson"}, "edited": false, "score": 0, "creation_date": 1501490063, "post_id": 45382149, "comment_id": 77782192, "body": "After implementing this in my project, I have to say this is really cool and actually works really well. Once I got around to writing some tests, it helped me determine that the core of what I&#39;m trying to accomplish isn&#39;t really doable due to data set constraints. I&#39;m actually a little sad I no longer have a use case to warrant including this neat little pattern. Thanks for taking the time to respond! :)"}], "tags": [], "owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "is_accepted": true, "score": 1, "last_activity_date": 1501274814, "creation_date": 1501274814, "answer_id": 45382149, "question_id": 45380773, "link": "https://stackoverflow.com/questions/45380773/how-to-dynamically-scale-debounce-of-burst-emission-stream/45382149#45382149", "title": "How to dynamically scale debounce of burst emission stream?", "body": "<p>You could defer the debounce, take one item of it and trigger repeat once the new debounce value has been determined:</p>\n\n<pre><code>int DEBOUNCE_TIME = 100;\nAtomicInteger debounceTime = new AtomicInteger(DEBOUNCE_TIME);\nPublishSubject&lt;Integer&gt; mayRepeat = PublishSubject.create();\n\nAtomicInteger counter = new AtomicInteger();\n\nObservable&lt;Integer&gt; INTEGERS =\n        Observable.fromArray(10, 20, 200, 250, 300, 550, 600, 650, 700, 1200)\n        .flatMap(v -&gt; Observable.timer(v, TimeUnit.MILLISECONDS)\n                .map(w -&gt; counter.incrementAndGet()));\n\nINTEGERS.publish(o -&gt;\n        o.buffer(\n            Observable.defer(() -&gt;\n                o.debounce(\n                    debounceTime.get(), TimeUnit.MILLISECONDS)\n            )\n            .take(1)\n            .repeatWhen(v -&gt; v.zipWith(mayRepeat, (a, b) -&gt; b))\n        )\n    )\n    .map(list -&gt; {\n        int nextDebounce = Math.min(100, list.size() * 100);\n        debounceTime.set(nextDebounce);\n        mayRepeat.onNext(1);\n        return list;\n    })\n    .blockingSubscribe(System.out::println);\n</code></pre>\n\n<p>This prints:</p>\n\n<pre><code>[1, 2]\n[3, 4, 5]\n[6, 7, 8, 9]\n[10]\n</code></pre>\n"}], "owner": {"reputation": 673, "user_id": 3692626, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/qqE1P.jpg?s=128&g=1", "display_name": "Carter Hudson", "link": "https://stackoverflow.com/users/3692626/carter-hudson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 45382149, "answer_count": 1, "score": 1, "last_activity_date": 1501274814, "creation_date": 1501268958, "last_edit_date": 1501269299, "question_id": 45380773, "link": "https://stackoverflow.com/questions/45380773/how-to-dynamically-scale-debounce-of-burst-emission-stream", "title": "How to dynamically scale debounce of burst emission stream?", "body": "<p>I've got a buffered stream, waiting for a predetermined amount of silence time, before publishing a list of elements that have been buffered:</p>\n\n<pre><code>INTEGERS\n     .share()\n     .buffer(INTEGERS.debounce(DEBOUNCE_TIME,TimeUnit.MILLISECONDS,scheduler))\n     .map { durations -&gt;\n       ... \n     }\n</code></pre>\n\n<p>I'd like to make <code>DEBOUNCE_TIME</code> dynamically adjust depending on the average of the buffered items, but I'm having a hard time figuring out how to achieve this. </p>\n"}, {"tags": ["dictionary", "kotlin", "bimap"], "answers": [{"comments": [{"owner": {"reputation": 9382, "user_id": 1168661, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/AU4We.jpg?s=128&g=1", "display_name": "aug", "link": "https://stackoverflow.com/users/1168661/aug"}, "edited": false, "score": 3, "creation_date": 1501267569, "post_id": 45380326, "comment_id": 77722344, "body": "So to answer the question of &quot;Is there any better way of doing this without using a middleman (middlelist)?&quot; the answer is no? :P"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 9382, "user_id": 1168661, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/AU4We.jpg?s=128&g=1", "display_name": "aug", "link": "https://stackoverflow.com/users/1168661/aug"}, "edited": false, "score": 0, "creation_date": 1501267604, "post_id": 45380326, "comment_id": 77722361, "body": "@aug yeah. I&#39;ll answer the question further."}, {"owner": {"reputation": 1802, "user_id": 1045902, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cae064ef599158ab518d569351fcb650?s=128&d=identicon&r=PG", "display_name": "DPM", "link": "https://stackoverflow.com/users/1045902/dpm"}, "edited": false, "score": 1, "creation_date": 1517418647, "post_id": 45380326, "comment_id": 84091343, "body": "for the last solution &quot;it[v] = k&quot; is more compact and expressive than it.put(v, k)"}, {"owner": {"reputation": 428, "user_id": 3613216, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1bbfA.png?s=128&g=1", "display_name": "foo", "link": "https://stackoverflow.com/users/3613216/foo"}, "edited": false, "score": 0, "creation_date": 1567027136, "post_id": 45380326, "comment_id": 101844312, "body": "What if the given map is not a 1to1 mapping ? What if the values aren&#39;t distinct enough to serve as keys ? The output of such operation will in general be a <code>Map&lt;V, List&lt;K&gt;&gt;</code>, where <code>K</code> is the key type and <code>V</code> the value type of the input map."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 52, "last_activity_date": 1574176689, "last_edit_date": 1574176689, "creation_date": 1501267238, "answer_id": 45380326, "question_id": 45380280, "link": "https://stackoverflow.com/questions/45380280/how-to-reverse-a-map-in-kotlin/45380326#45380326", "title": "How to reverse a Map in Kotlin?", "body": "<p>Since the <code>Map</code> consists of <code>Entry</code>s and it is not <code>Iterable</code> you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/entries.html\" rel=\"noreferrer\">Map#entries</a> instead.  It will be mapped to <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Map.html#entrySet--\" rel=\"noreferrer\">Map#entrySet</a> to create a backed view of <code>Set&lt;Entry&gt;</code>, for example:</p>\n\n<pre><code>val reversed = map.entries.associateBy({ it.value }) { it.key }\n</code></pre>\n\n<p><strong>OR</strong> use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/associate.html\" rel=\"noreferrer\">Iterable#associate</a>, which will create additional <code>Pair</code>s.</p>\n\n<pre><code>val reversed = map.entries.associate{(k,v)-&gt; v to k}\n</code></pre>\n\n<p><strong>OR</strong> using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/for-each.html#foreach\" rel=\"noreferrer\">Map#forEach</a>:</p>\n\n<pre><code>val reversed = mutableMapOf&lt;Int, String&gt;().also {\n    //     v-- use `forEach` here     \n    map.forEach { (k, v) -&gt; it.put(v, k) } \n}.toMap()\n// ^--- you can add `toMap()` to create an immutable Map.\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2613, "user_id": 1388837, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/15d773b2cb0e4c95c615b6ad13b0f20d?s=128&d=identicon&r=PG", "display_name": "bennyl", "link": "https://stackoverflow.com/users/1388837/bennyl"}, "is_accepted": false, "score": 5, "last_activity_date": 1501931978, "last_edit_date": 1501931978, "creation_date": 1501844075, "answer_id": 45504997, "question_id": 45380280, "link": "https://stackoverflow.com/questions/45380280/how-to-reverse-a-map-in-kotlin/45504997#45504997", "title": "How to reverse a Map in Kotlin?", "body": "<p>Here is a simple extension function that reverse a map - without generating unneeded garbage (like pairs, intermediate data structures and unnecessary closures )  </p>\n\n<pre><code>fun &lt;K, V&gt; Map&lt;K, V&gt;.reversed() = HashMap&lt;V, K&gt;().also { newMap -&gt;\n    entries.forEach { newMap.put(it.value, it.key) }\n}\n</code></pre>\n\n<p>note that <code>apply</code> is inlined, and <code>entries.forEach</code> is also inlined (which is not the same for <code>Map::forEach</code>)</p>\n"}, {"tags": [], "owner": {"reputation": 545, "user_id": 1978496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70ed8b59ad5e52bed669add3bbd9493a?s=128&d=identicon&r=PG", "display_name": "Eoin", "link": "https://stackoverflow.com/users/1978496/eoin"}, "is_accepted": false, "score": 1, "last_activity_date": 1529010323, "creation_date": 1529010323, "answer_id": 50865926, "question_id": 45380280, "link": "https://stackoverflow.com/questions/45380280/how-to-reverse-a-map-in-kotlin/50865926#50865926", "title": "How to reverse a Map in Kotlin?", "body": "<p>I'm still learning the ins and outs of Kotlin, but I had the same requirement and as of Kotlin 1.2 it appears that you can iterate over a Map and so map() it directly like this:</p>\n\n<pre><code>@Test\nfun testThatReverseIsInverseOfMap() {\n    val intMap = mapOf(1 to \"one\", 2 to \"two\", 3 to \"three\")\n    val revMap = intMap.map{(k,v) -&gt; v to k}.toMap()\n    assertTrue(intMap.keys.toTypedArray() contentEquals revMap.values.toTypedArray())\n    assertTrue(intMap.values.toTypedArray() contentEquals revMap.keys.toTypedArray())\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 1349263, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45b9a4994f7644be8aabf0f31cada155?s=128&d=identicon&r=PG", "display_name": "Yair Galler", "link": "https://stackoverflow.com/users/1349263/yair-galler"}, "is_accepted": false, "score": 3, "last_activity_date": 1572261261, "creation_date": 1572261261, "answer_id": 58589942, "question_id": 45380280, "link": "https://stackoverflow.com/questions/45380280/how-to-reverse-a-map-in-kotlin/58589942#58589942", "title": "How to reverse a Map in Kotlin?", "body": "<p>In case your map is not a 1-1 mapping and you want the inversion to be a list of values:</p>\n\n<pre><code>mapOf(1 to \"AAA\", 2 to \"BBB\", 3 to \"BBB\").toList()\n        .groupBy { pair -&gt; pair.second } // Pair&lt;Int, String&gt;\n        .mapValues { entry -&gt; \n          entry.value.map { it.first } // Entry&lt;String, List&lt;Pair&lt;Int, String&gt;&gt;\n        }\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 108923, "user_id": 20394, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8a662b85e473c0c03c90a3a0ca42dff8?s=128&d=identicon&r=PG", "display_name": "Mike Samuel", "link": "https://stackoverflow.com/users/20394/mike-samuel"}, "is_accepted": false, "score": 2, "last_activity_date": 1574177333, "creation_date": 1574177333, "answer_id": 58937525, "question_id": 45380280, "link": "https://stackoverflow.com/questions/45380280/how-to-reverse-a-map-in-kotlin/58937525#58937525", "title": "How to reverse a Map in Kotlin?", "body": "<p>If you need to reverse a multimap like <code>m: Map&lt;K, List&lt;V&gt;&gt;</code> to a <code>Map&lt;V, List&lt;K&gt;&gt;</code> you can do</p>\n\n<pre><code>m\n  .flatMap { it.value.map { oneValue -&gt; oneValue to it.key } }\n  .groupBy({ it.first }, { it.second })\n  .toMap()\n</code></pre>\n\n<p>In sequence, </p>\n\n<ul>\n<li><code>mapOf('a' to listOf('b', 'c'), 'd' to listOf('b'))</code>\ngets flat mapped to a sequence like</li>\n<li><code>listOf('b' to 'a', 'c' to 'a', 'b' to 'd')</code> which gets grouped to</li>\n<li><code>listOf('b' to listOf('a', 'd'), 'c' to listOf('a'))</code> which then gets converted to a map.</li>\n</ul>\n\n<p>This probably creates intermediate objects.</p>\n"}], "owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8398, "favorite_count": 4, "accepted_answer_id": 45380326, "answer_count": 5, "score": 32, "last_activity_date": 1574177333, "creation_date": 1501267011, "question_id": 45380280, "link": "https://stackoverflow.com/questions/45380280/how-to-reverse-a-map-in-kotlin", "title": "How to reverse a Map in Kotlin?", "body": "<p>I am trying to reverse a Map in Kotlin. So far, I have come up with:</p>\n\n<pre><code>mapOf(\"foo\" to 42)\n  .toList()\n  .map { (k, v) -&gt; v to k }\n  .toMap()\n</code></pre>\n\n<p>Is there any better way of doing this without using a middleman(middlelist)?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 55, "creation_date": 1501258203, "post_id": 45377921, "comment_id": 77717487, "body": "This makes my head hurt if I try to think too hard about how that&#39;s actually working (despite not actually being complex). It does make sense when you read it though!"}, {"owner": {"reputation": 15597, "user_id": 232485, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc3cbbdadcf7485288e502d084820c32?s=128&d=identicon&r=PG", "display_name": "Jabba", "link": "https://stackoverflow.com/users/232485/jabba"}, "edited": false, "score": 0, "creation_date": 1507458299, "post_id": 45377921, "comment_id": 80209659, "body": "I&#39;m new to Kotlin. Could someone please explain what&#39;s going on here? What is &quot;also&quot;, what is the block after?"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 15597, "user_id": 232485, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc3cbbdadcf7485288e502d084820c32?s=128&d=identicon&r=PG", "display_name": "Jabba", "link": "https://stackoverflow.com/users/232485/jabba"}, "edited": false, "score": 0, "creation_date": 1507467100, "post_id": 45377921, "comment_id": 80211946, "body": "@Jabba it&#39;s a built-in inline extension function, to understand it you should know the following links first: <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">extension function</a>, <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html\" rel=\"nofollow noreferrer\">inline function</a>"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 15597, "user_id": 232485, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc3cbbdadcf7485288e502d084820c32?s=128&d=identicon&r=PG", "display_name": "Jabba", "link": "https://stackoverflow.com/users/232485/jabba"}, "edited": false, "score": 0, "creation_date": 1507467737, "post_id": 45377921, "comment_id": 80212127, "body": "@Jabba you maybe need to know the <a href=\"http://kotlinlang.org/docs/reference/grammar.html#precedence\" rel=\"nofollow noreferrer\">precedence</a> of operators."}, {"owner": {"reputation": 480, "user_id": 5173839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CJDcM.jpg?s=128&g=1", "display_name": "Anton3", "link": "https://stackoverflow.com/users/5173839/anton3"}, "edited": false, "score": 15, "creation_date": 1533318822, "post_id": 45377921, "comment_id": 90318846, "body": "Yet another explanation in simple terms. This syntax is a shorthand for <code>a = b.also({ b = a })</code>. We see <code>also()</code> method being called on <code>b</code> with an argument of lambda <code>{ b = a }</code>. <code>also</code> just calls its parameter, then returns <code>this</code>. So first lambda <code>{ b = a }</code> is executed, then <code>a</code> is assigned the result of <code>also()</code>, which is its &quot;this&quot;, which is the initial <code>b</code>."}, {"owner": {"reputation": 1166, "user_id": 1623598, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fhlut.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/1623598/peter"}, "edited": false, "score": 1, "creation_date": 1612160490, "post_id": 45377921, "comment_id": 116669808, "body": "Awesome! It works even for array elements: <code>a[i] = a[j].also { a[j] = a[i] }</code>"}, {"owner": {"reputation": 982, "user_id": 570244, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7e32aa83ad31238662afd4f91ebe7c2?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/570244/phil"}, "reply_to_user": {"reputation": 480, "user_id": 5173839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CJDcM.jpg?s=128&g=1", "display_name": "Anton3", "link": "https://stackoverflow.com/users/5173839/anton3"}, "edited": false, "score": 1, "creation_date": 1616391281, "post_id": 45377921, "comment_id": 117977417, "body": "@Anton3 your explanation is the best I&#39;ve seen yet, but something is still not clear to me. You say that the lambda is executed first. So that means b is assigned the value of a and b is therefore overwritten. There is some implicit buffering going on here. I decompiled the byte code for a = b.also { b = a } and got the following in Java, which is the traditional swap algorithm:        int a = 1;       int b = 2;       byte var4 = b;       b = a;       a = var4;  So when and where is the buffering of b conceptually occurring? Stack? Closure?"}, {"owner": {"reputation": 480, "user_id": 5173839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CJDcM.jpg?s=128&g=1", "display_name": "Anton3", "link": "https://stackoverflow.com/users/5173839/anton3"}, "reply_to_user": {"reputation": 982, "user_id": 570244, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7e32aa83ad31238662afd4f91ebe7c2?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/570244/phil"}, "edited": false, "score": 1, "creation_date": 1616487986, "post_id": 45377921, "comment_id": 118010490, "body": "@Phil In Kotlin or Java, whenever an argument is passed to a function, or returned, or captured in a closure, a copy is created (In case of object types, we copy a reference to the GC-managed object). However, Kotlin has punched a small hole in that system with <code>var</code> captures, which are conceptually implemented by putting the value in a wrapper object that lets us mutate the inner value (which the variable names) as long as we have a reference to the wrapper object."}, {"owner": {"reputation": 480, "user_id": 5173839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CJDcM.jpg?s=128&g=1", "display_name": "Anton3", "link": "https://stackoverflow.com/users/5173839/anton3"}, "edited": false, "score": 1, "creation_date": 1616488037, "post_id": 45377921, "comment_id": 118010508, "body": "So, in the example, we first create the lambda object, which captures a copy of <code>a</code> and <code>var b</code> (which conceptually works by the mechanism described above). Second, we call the extension function <code>also</code>, passing it the lambda (conceptually, a copy of the reference to the lambda object, to be precise), as well as a copy of <code>b</code> as the hidden <code>this</code> parameter. Third, <code>also</code> calls the lambda, which mutates <code>var b</code>, then returns <code>this</code>, which is the initial value of <code>b</code>."}, {"owner": {"reputation": 480, "user_id": 5173839, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/CJDcM.jpg?s=128&g=1", "display_name": "Anton3", "link": "https://stackoverflow.com/users/5173839/anton3"}, "edited": false, "score": 0, "creation_date": 1616488481, "post_id": 45377921, "comment_id": 118010716, "body": "I say &quot;conceptually&quot;, because with Kotlin&#39;s <code>inline</code> functions, it can optimize out both the lambda object and the wrapper object, but anyway, the only fact needed to answer the question is that <code>b</code> is copied when passed as <code>this</code> parameter."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 97, "last_activity_date": 1501257825, "creation_date": 1501257825, "answer_id": 45377921, "question_id": 45377802, "link": "https://stackoverflow.com/questions/45377802/swap-function-in-kotlin/45377921#45377921", "title": "Swap Function in Kotlin", "body": "<p>No need a swap function in Kotlin at all. you can use the existing <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/also.html\" rel=\"noreferrer\">also</a> function, for example:</p>\n\n<pre><code>var a = 1\nvar b = 2\n\na = b.also { b = a }\n\nprintln(a) // print 2\nprintln(b) // print 1\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 0, "creation_date": 1501258699, "post_id": 45378021, "comment_id": 77717784, "body": "This is really just the generic Java way he was talking about. So you&#39;re answer is effectively &quot;no, there is no better way&quot;. I think I&#39;m inclined to agree."}], "tags": [], "owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "is_accepted": false, "score": 11, "last_activity_date": 1501263492, "last_edit_date": 1501263492, "creation_date": 1501258139, "answer_id": 45378021, "question_id": 45377802, "link": "https://stackoverflow.com/questions/45377802/swap-function-in-kotlin/45378021#45378021", "title": "Swap Function in Kotlin", "body": "<p>Edit: Thanks to <a href=\"https://stackoverflow.com/users/2196460/hotkey\">@hotkey</a> for his comment</p>\n\n<p>I believe the code for swapping two variables is simple enough - not to try simplifying it any further.</p>\n\n<p>The most elegant form of implementation IMHO is:</p>\n\n<pre><code>var a = 1\nvar b = 2\n\nrun { val temp = a; a = b; b = temp }\n\nprintln(a) // print 2\nprintln(b) // print 1\n</code></pre>\n\n<p>Benefits: </p>\n\n<ul>\n<li>The intent is loud and clear. nobody would misunderstand this.</li>\n<li><code>temp</code> will not remain in the scope.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 2, "creation_date": 1501258956, "post_id": 45378094, "comment_id": 77717925, "body": "More concise: yes. More intuitive: ... maybe if I forget everything I ever learned about programming. :)"}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "reply_to_user": {"reputation": 33331, "user_id": 1898563, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d99204bcce923f40f5c72b7f80121644?s=128&d=identicon&r=PG", "display_name": "Michael", "link": "https://stackoverflow.com/users/1898563/michael"}, "edited": false, "score": 13, "creation_date": 1501260299, "post_id": 45378094, "comment_id": 77718619, "body": "Definitely not more intuitive. It is <b>bad</b> code. I was just having some fun."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 1, "creation_date": 1501266422, "post_id": 45378094, "comment_id": 77721748, "body": "Looks amazingly scary! :) Function should be <code>inline</code>."}], "tags": [], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "is_accepted": false, "score": 15, "last_activity_date": 1514445304, "last_edit_date": 1514445304, "creation_date": 1501258388, "answer_id": 45378094, "question_id": 45377802, "link": "https://stackoverflow.com/questions/45377802/swap-function-in-kotlin/45378094#45378094", "title": "Swap Function in Kotlin", "body": "<p>If you want to write some really scary code, you could have a function like this:</p>\n\n<pre><code>inline operator fun &lt;T&gt; T.invoke(dummy: () -&gt; Unit): T {\n    dummy()\n    return this\n}\n</code></pre>\n\n<p>That would allow you to write code like this</p>\n\n<pre><code>a = b { b = a }\n</code></pre>\n\n<hr>\n\n<p>Note that I do <strong>NOT</strong> recommend this. Just showing it's possible.</p>\n"}, {"tags": [], "owner": {"reputation": 1474, "user_id": 2794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2tHkr.jpg?s=128&g=1", "display_name": "gavrie", "link": "https://stackoverflow.com/users/2794/gavrie"}, "is_accepted": false, "score": 7, "last_activity_date": 1514891254, "creation_date": 1514891254, "answer_id": 48059850, "question_id": 45377802, "link": "https://stackoverflow.com/questions/45377802/swap-function-in-kotlin/48059850#48059850", "title": "Swap Function in Kotlin", "body": "<p>Kotlin encourages the use of immutable data when possible (such as using <code>val</code> instead of <code>var</code>). This greatly reduces the change for subtle bugs, since it's possible to reason more soundly about code if values don't change.</p>\n\n<p>Swapping two values is very much the opposite of immutable data: Did I mean the value of <code>a</code> before or after the swap?</p>\n\n<p>Consider rewriting your code in the following immutable way:</p>\n\n<pre><code>val a = 1\nval b = 2\n\nval (a2, b2) = b to a\n</code></pre>\n\n<p>This works by making use of <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"noreferrer\">destructuring declarations</a>, along with the built-in <code>to</code> extension function that creates a <code>Pair</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 7, "last_activity_date": 1515018749, "last_edit_date": 1515018749, "creation_date": 1514896694, "answer_id": 48061176, "question_id": 45377802, "link": "https://stackoverflow.com/questions/45377802/swap-function-in-kotlin/48061176#48061176", "title": "Swap Function in Kotlin", "body": "<p>That is a good usage for <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/with.html\" rel=\"noreferrer\">with</a>:</p>\n\n<pre><code>var a = 1\nvar b = 2\n\nwith(a) {\n    a = b\n    b = this\n}\n\nprintln(a) // 2\nprintln(b) // 1\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 702, "user_id": 10030894, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Fmf65CtWECo/AAAAAAAAAAI/AAAAAAAAF0U/3pDYRzrUPTE/photo.jpg?sz=128", "display_name": "Nicolas Duponchel", "link": "https://stackoverflow.com/users/10030894/nicolas-duponchel"}, "is_accepted": false, "score": -1, "last_activity_date": 1555503763, "creation_date": 1555503763, "answer_id": 55727474, "question_id": 45377802, "link": "https://stackoverflow.com/questions/45377802/swap-function-in-kotlin/55727474#55727474", "title": "Swap Function in Kotlin", "body": "<p>In order to use Kotlin <code>List</code> you could create this kind of extension. It returns a copy of this list with elements at indices a and b swapped.</p>\n\n<pre><code>fun &lt;T&gt; List&lt;T&gt;.swap(a: Int, b: Int): List&lt;T&gt; = this\n    .toMutableList()\n    .also {\n        it[a] = this[b]\n        it[b] = this[a]\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1618, "user_id": 6619441, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EosH7.jpg?s=128&g=1", "display_name": "repitch", "link": "https://stackoverflow.com/users/6619441/repitch"}, "is_accepted": false, "score": 3, "last_activity_date": 1574174017, "last_edit_date": 1574174017, "creation_date": 1574173785, "answer_id": 58936329, "question_id": 45377802, "link": "https://stackoverflow.com/questions/45377802/swap-function-in-kotlin/58936329#58936329", "title": "Swap Function in Kotlin", "body": "<p>Very simple, fast and elegant solution:</p>\n\n<pre><code>var a = 1\nvar b = 2\nval (b0, a0) = a swap b\na = a0\nb = b0\n\ninfix fun &lt;A&gt; A.swap(second: A): Pair&lt;A, A&gt; = second to this\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 4943455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/564780ec311b38ebe1fb2ad50dd898f3?s=128&d=identicon&r=PG&f=1", "display_name": "Vinodh Thimmisetty", "link": "https://stackoverflow.com/users/4943455/vinodh-thimmisetty"}, "is_accepted": false, "score": 2, "last_activity_date": 1582348155, "creation_date": 1582348155, "answer_id": 60349248, "question_id": 45377802, "link": "https://stackoverflow.com/questions/45377802/swap-function-in-kotlin/60349248#60349248", "title": "Swap Function in Kotlin", "body": "<p>prefer a=b.<strong>apply</strong> {b=a} for swapping the elements.\nIf we want to perform some operation on the variable inside the lambda, then go for\n a = b.<strong>also</strong> {someFun(<strong>it</strong>)}</p>\n"}, {"comments": [{"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "reply_to_user": {"reputation": 391, "user_id": 1430422, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbcaddab560bd62b551e221878478e70?s=128&d=identicon&r=PG", "display_name": "Micha", "link": "https://stackoverflow.com/users/1430422/micha"}, "edited": false, "score": 0, "creation_date": 1605210361, "post_id": 61381231, "comment_id": 114588515, "body": "@Micha People don&#39;t like arrays anymore?"}], "tags": [], "owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "is_accepted": false, "score": -2, "last_activity_date": 1587819872, "last_edit_date": 1587819872, "creation_date": 1587625469, "answer_id": 61381231, "question_id": 45377802, "link": "https://stackoverflow.com/questions/45377802/swap-function-in-kotlin/61381231#61381231", "title": "Swap Function in Kotlin", "body": "<p>If you use an array, you can use this:</p>\n\n<pre><code>fun &lt;T&gt; Array&lt;T&gt;.swap(i: Int, j: Int) {\n    with(this[i]) {\n        this@swap[i] = this@swap[j]\n        this@swap[j] = this\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 7427, "user_id": 6156989, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/LncX1.png?s=128&g=1", "display_name": "Akshar Patel", "link": "https://stackoverflow.com/users/6156989/akshar-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19690, "favorite_count": 10, "accepted_answer_id": 45377921, "answer_count": 9, "score": 61, "last_activity_date": 1587819872, "creation_date": 1501257474, "question_id": 45377802, "link": "https://stackoverflow.com/questions/45377802/swap-function-in-kotlin", "title": "Swap Function in Kotlin", "body": "<p>is there any better way to write generic swap function in kotlin other than java way described in <a href=\"https://stackoverflow.com/questions/3624525/how-to-write-a-basic-swap-function-in-java\">How to write a basic swap function in Java</a>.</p>\n\n<p>Is there any kotlin language feature which can make generic swap function more concise and intuitive?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "is_accepted": true, "score": 46, "last_activity_date": 1501263814, "last_edit_date": 1501263814, "creation_date": 1501257316, "answer_id": 45377756, "question_id": 45377386, "link": "https://stackoverflow.com/questions/45377386/using-kotlin-when-clause-for-comparisons/45377756#45377756", "title": "Using Kotlin WHEN clause for &lt;, &lt;=, &gt;=, &gt; comparisons", "body": "<p>Even a flexible language such as Kotlin doesn't have a \"elegant\" / DRY solution for each and every case.</p>\n\n<p>You can write something like:</p>\n\n<pre><code>when (foo) {\n    in 0 .. Int.MAX_VALUE -&gt; doSomethingWhenPositive()\n    0    -&gt; doSomethingWhenZero()\n    else -&gt; doSomethingWhenNegative()\n}\n</code></pre>\n\n<p>But then you depend on the variable type.</p>\n\n<p>I believe the following form is the most idiomatic in Kotlin:</p>\n\n<pre><code>when {\n    foo &gt; 0  -&gt; doSomethingWhenPositive()\n    foo == 0 -&gt; doSomethingWhenZero()\n    else     -&gt; doSomethingWhenNegative()\n}\n</code></pre>\n\n<p>Yeah... there is some (minimal) code duplication.</p>\n\n<p>Some languages (Ruby?!) tried to provide an uber-elegant form for any case - but there is a tradeoff: the language becomes more complex and more difficult for a programmer to know end-to-end.</p>\n\n<p>My 2 cents...</p>\n"}, {"comments": [{"owner": {"reputation": 5131, "user_id": 5135551, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ILHpb.jpg?s=128&g=1", "display_name": "Jim Leask", "link": "https://stackoverflow.com/users/5135551/jim-leask"}, "edited": false, "score": 0, "creation_date": 1501271721, "post_id": 45377801, "comment_id": 77724457, "body": "It&#39;s interesting to see the grammar. So the first <code>expression</code> looks like it needs to be an expression that returns boolean, which is what I used in my example that compiled. Is that right. The second expression with the &quot;in&quot; clause is an expression that returns some sort of collection, and the &quot;is&quot; is simply a type declaration. Right? Anyway, guess the full expression for each case is the cleanest option here."}], "tags": [], "owner": {"reputation": 17217, "user_id": 1240320, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3ff7ec4e8d7aebe239763aa235cd6d14?s=128&d=identicon&r=PG", "display_name": "Pixel Elephant", "link": "https://stackoverflow.com/users/1240320/pixel-elephant"}, "is_accepted": false, "score": 12, "last_activity_date": 1501257461, "creation_date": 1501257461, "answer_id": 45377801, "question_id": 45377386, "link": "https://stackoverflow.com/questions/45377386/using-kotlin-when-clause-for-comparisons/45377801#45377801", "title": "Using Kotlin WHEN clause for &lt;, &lt;=, &gt;=, &gt; comparisons", "body": "<p>The <a href=\"https://kotlinlang.org/docs/reference/grammar.html#when\" rel=\"noreferrer\">grammar</a> for a <code>when</code> condition is as follows:</p>\n\n<pre><code>whenCondition (used by whenEntry)\n  : expression\n  : (\"in\" | \"!in\") expression\n  : (\"is\" | \"!is\") type\n  ;\n</code></pre>\n\n<p>This means that you can only use <code>is</code> or <code>in</code> as special cases that do not have to be a full expression; everything else must be a normal expression. Since <code>&gt; 0</code> is not a valid expression this will not compile.</p>\n\n<p>Furthermore, ranges are closed in Kotlin, so you cannot get away with trying to use an unbounded range.</p>\n\n<p>Instead you should use the <code>when</code> statement with a full expression, as in your example:</p>\n\n<pre><code>when {\n    foo &gt; 0 -&gt; doSomethingWhenPositive()\n    foo &lt; 0 -&gt; doSomethingWhenNegative()\n    else -&gt; doSomethingWhenZero()\n}\n</code></pre>\n\n<p>Or alternatively:</p>\n\n<pre><code>when {\n    foo &lt; 0 -&gt; doSomethingWhenNegative()\n    foo == 0 -&gt; doSomethingWhenZero()        \n    foo &gt; 0 -&gt; doSomethingWhenPositive()        \n}\n</code></pre>\n\n<p>which may be more readable.</p>\n"}, {"comments": [{"owner": {"reputation": 5131, "user_id": 5135551, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ILHpb.jpg?s=128&g=1", "display_name": "Jim Leask", "link": "https://stackoverflow.com/users/5135551/jim-leask"}, "edited": false, "score": 0, "creation_date": 1501519856, "post_id": 45415977, "comment_id": 77803679, "body": "This is a useful example for how to do something a bit more complex than I need here. I plan to just use the standard WHEN clause, but may want to refer to this example for something that is more involved of a similar nature."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 5131, "user_id": 5135551, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ILHpb.jpg?s=128&g=1", "display_name": "Jim Leask", "link": "https://stackoverflow.com/users/5135551/jim-leask"}, "edited": false, "score": 1, "creation_date": 1501520436, "post_id": 45415977, "comment_id": 77803976, "body": "Such framework is scalable, you can extend it in many ways, like pattern matching."}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": false, "score": 3, "last_activity_date": 1501690614, "last_edit_date": 1501690614, "creation_date": 1501504144, "answer_id": 45415977, "question_id": 45377386, "link": "https://stackoverflow.com/questions/45377386/using-kotlin-when-clause-for-comparisons/45415977#45415977", "title": "Using Kotlin WHEN clause for &lt;, &lt;=, &gt;=, &gt; comparisons", "body": "<p>You want your code to be elegant, so why stay on the <code>when</code> expression. Kotlin is flexible enough to build a new one using extension.</p>\n\n<p>First we should claim that we can only pass a <code>Comparable&lt;T&gt;</code> here because you have to <strong>compare</strong> the value.</p>\n\n<p>Then, we have our framework:</p>\n\n<pre><code>fun &lt;T: Comparable&lt;T&gt;&gt; case(target: T, tester: Tester&lt;T&gt;.() -&gt; Unit) {\n    val test = Tester(target)\n    test.tester()\n    test.funFiltered?.invoke() ?: return\n}\nclass Tester&lt;T : Comparable&lt;T&gt;&gt;(val it: T) {\n    var funFiltered: (() -&gt; Unit)? = null\n    infix operator fun Boolean.minus(block: () -&gt; Unit) {\n        if (this &amp;&amp; funFiltered == null) funFiltered = block\n    }\n\n    fun lt(arg: T) = it &lt; arg\n    fun gt(arg: T) = it &gt; arg\n    fun ge(arg: T) = it &gt;= arg\n    fun le(arg: T) = it &lt;= arg\n    fun eq(arg: T) = it == arg\n    fun ne(arg: T) = it != arg\n    fun inside(arg: Collection&lt;T&gt;) = it in arg\n    fun inside(arg: String) = it as String in arg\n    fun outside(arg: Collection&lt;T&gt;) = it !in arg\n    fun outside(arg: String) = it as String !in arg\n}\n</code></pre>\n\n<p>After that we can have elegant code like:</p>\n\n<pre><code>case(\"g\") {\n    (it is String) - { println(\"hello\") } // normal comparison, like `is`\n    outside(\"gg\") - { println(\"gg again\") } // invoking the contains method\n}\n\ncase(233) {\n    lt(500) - { println(\"less than 500!\") }\n    // etc.\n}\n</code></pre>\n\n<p>If you're happy, you can rename the <code>minus</code> function to <code>compareTo</code> and return 0. In such way, you can replace the <code>-</code> with <code>=&gt;</code>, which looks like scala.</p>\n"}, {"comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1560016701, "post_id": 56508840, "comment_id": 99604834, "body": "This is not actually more readable nor better than the original <code>when { foo &gt; 0 -&gt; ...; foo &lt; 0 -&gt; ...; else -&gt; ... }</code>."}, {"owner": {"reputation": 667, "user_id": 5209185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb523e6233de789cd2c9bf757578f30a?s=128&d=identicon&r=PG&f=1", "display_name": "kyay10", "link": "https://stackoverflow.com/users/5209185/kyay10"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1560023080, "post_id": 56508840, "comment_id": 99606158, "body": "I know, but it is still a good alternative if you MUST use it no matter what. You could also make an external function that does that so that it is more readable"}], "tags": [], "owner": {"reputation": 667, "user_id": 5209185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb523e6233de789cd2c9bf757578f30a?s=128&d=identicon&r=PG&f=1", "display_name": "kyay10", "link": "https://stackoverflow.com/users/5209185/kyay10"}, "is_accepted": false, "score": -2, "last_activity_date": 1560016302, "creation_date": 1560016302, "answer_id": 56508840, "question_id": 45377386, "link": "https://stackoverflow.com/questions/45377386/using-kotlin-when-clause-for-comparisons/56508840#56508840", "title": "Using Kotlin WHEN clause for &lt;, &lt;=, &gt;=, &gt; comparisons", "body": "<p>I found a bit hacky way that can help you in mixing greater than, less than, or any other expression with other in expressions.\nSimply, a when statement in Kotlin looks at the \"case\", and if it is a range, it sees if the variable is in that range, but if it isn't, it looks to see if the case is of the same type of the variable, and if it isn't, you get a syntax error. So, to get around this, you could do something like this: </p>\n\n<pre><code>when (foo) {\n    if(foo &gt; 0) foo else 5 /*or any other out-of-range value*/ -&gt; doSomethingWhenPositive()\n    in -10000..0   -&gt; doSomethingWhenBetweenNegativeTenKAndZero()\n    if(foo &lt; -10000) foo else -11000 -&gt; doSomethingWhenNegative()\n}\n</code></pre>\n\n<p>As you can see, this takes advantage of the fact that everything in Kotlin is an expression. So, IMO, this is a pretty good solution for now until this feature gets added to the language.</p>\n"}, {"tags": [], "owner": {"reputation": 6037, "user_id": 5629056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NdOZG.jpg?s=128&g=1", "display_name": "Naveen T P", "link": "https://stackoverflow.com/users/5629056/naveen-t-p"}, "is_accepted": false, "score": 4, "last_activity_date": 1562575741, "creation_date": 1562575741, "answer_id": 56931327, "question_id": 45377386, "link": "https://stackoverflow.com/questions/45377386/using-kotlin-when-clause-for-comparisons/56931327#56931327", "title": "Using Kotlin WHEN clause for &lt;, &lt;=, &gt;=, &gt; comparisons", "body": "<p>We can use <code>let</code> to achieve this behaviour.</p>\n\n<pre><code>response.code().let {\n    when {\n        it == 200 -&gt; handleSuccess()\n        it == 401 -&gt; handleUnauthorisedError()\n        it &gt;= 500 -&gt; handleInternalServerError()\n        else -&gt; handleOtherErrors()\n    }\n}\n</code></pre>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 5131, "user_id": 5135551, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/ILHpb.jpg?s=128&g=1", "display_name": "Jim Leask", "link": "https://stackoverflow.com/users/5135551/jim-leask"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16141, "favorite_count": 3, "accepted_answer_id": 45377756, "answer_count": 5, "score": 41, "last_activity_date": 1562575741, "creation_date": 1501256085, "last_edit_date": 1501604765, "question_id": 45377386, "link": "https://stackoverflow.com/questions/45377386/using-kotlin-when-clause-for-comparisons", "title": "Using Kotlin WHEN clause for &lt;, &lt;=, &gt;=, &gt; comparisons", "body": "<p>I'm trying to use the <code>WHEN</code> clause with a <code>&gt;</code> or <code>&lt;</code> comparison.</p>\n\n<p>This doesn't compile. Is there a way of using the normal set of boolean operators (&lt; &lt;=, >= >) in a comparison to enable this?</p>\n\n<pre><code>val foo = 2\n\n// doesn't compile\nwhen (foo) {\n    &gt; 0 -&gt; doSomethingWhenPositive()\n    0   -&gt; doSomethingWhenZero()\n    &lt; 0 -&gt; doSomethingWhenNegative()\n}\n</code></pre>\n\n<p>I tried to find an unbounded range comparison, but couldn't make this work either? Is it possible to write this as an unbounded range?</p>\n\n<pre><code>// trying to get an unbounded range - doesn't compile\nwhen (foo) {\n    in 1.. -&gt; doSomethingWhenPositive()\n    else -&gt; doSomethingElse()\n}\n</code></pre>\n\n<p>You can put the whole expression in the second part, which is OK but seems like unnecessary duplication. At least it compiles and works.</p>\n\n<pre><code>when {\n    foo &gt; 0 -&gt; doSomethingWhenPositive()\n    foo &lt; 0 -&gt; doSomethingWhenNegative()\n    else -&gt; doSomethingWhenZero()\n}\n</code></pre>\n\n<p>But I'm not sure that is any simpler than the if-else alternative we have been doing for years. Something like:</p>\n\n<pre><code>if ( foo &gt; 0 ) {\n    doSomethingWhenPositive()\n}\nelse if (foo &lt; 0) {\n    doSomethingWhenNegative()\n}\nelse {\n    doSomethingWhenZero()\n}\n</code></pre>\n\n<p>Of course, real world problems are more complex than the above, and the <code>WHEN</code> clause is attractive but doesn't work as I expect for this type of comparison.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 7666, "user_id": 1241193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0331e5e748a0ac3860b68f6cac130ef1?s=128&d=identicon&r=PG", "display_name": "Bob Dalgleish", "link": "https://stackoverflow.com/users/1241193/bob-dalgleish"}, "edited": false, "score": 1, "creation_date": 1501258347, "post_id": 45377382, "comment_id": 77717566, "body": "What are you trying to do? It appears that you are subverting a list of strings by trying to add a non-string, and Kotlin, rightly, is complaining about it. Lists of String can only hold Strings."}], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 1, "last_activity_date": 1501266834, "last_edit_date": 1501266834, "creation_date": 1501265363, "answer_id": 45379843, "question_id": 45377382, "link": "https://stackoverflow.com/questions/45377382/declaration-site-variance-may-cause-classcastexception/45379843#45379843", "title": "Declaration-site variance may cause ClassCastException", "body": "<p>Your code can be compiled without any warnings, this is because <a href=\"https://kotlinlang.org/docs/reference/generics.html#declaration-site-variance\" rel=\"nofollow noreferrer\">declaration-site variance</a> only available in Kotlin. </p>\n\n<blockquote>\n  <p>This is in contrast with Java's use-site variance where wildcards in the type usages make the types covariant.</p>\n</blockquote>\n\n<p>For example 2 <code>Soruce</code> interfaces use <a href=\"https://kotlinlang.org/docs/reference/generics.html#declaration-site-variance\" rel=\"nofollow noreferrer\">declaration-site variance</a> in Kotlin:</p>\n\n<pre><code>interface Source&lt;out T&gt; \ninterface Source&lt;in T&gt; \n</code></pre>\n\n<p>Both of the two <code>Source</code> interfaces will be generated into the same source code in Java as below:</p>\n\n<pre><code>//                      v---`T extends Object` rather than `? extends T` \npublic interface Source&lt;T&gt;{ /**/ }\n</code></pre>\n\n<p>This is because wildcard <code>?</code> is used as a type argument rather than a type parameter in Java.\nThe <code>T</code> in <code>Source&lt;T&gt;</code> is a <strong>type parameter</strong> and the <code>? extends String</code> in <code>Source&lt;? extends String&gt;</code> is a <strong>type argument</strong>.</p>\n\n<p>So if you use <a href=\"https://kotlinlang.org/docs/reference/generics.html#type-projections\" rel=\"nofollow noreferrer\">type projections</a> to make the <code>objects</code> force to a <code>List&lt;out Any&gt;</code>, then the compiler will reports an <em>UNCHECKED_CAST</em> warning  , for example:</p>\n\n<pre><code>fun demo(strs: List&lt;String&gt;) {\n    //                v--- makes it explicitly by using out type proejction\n    val objects: List&lt;out Any&gt; = strs \n    if (objects is MutableList) {\n         //                                 v--- an UNCHECKED_CAST warning reported\n        val obs: MutableList&lt;Any&gt; = objects as MutableList&lt;Any&gt;\n        obs.add(TextView())\n    }\n}\n</code></pre>\n\n<p>In other words, you can't assign a <code>List&lt;out Any&gt;</code> to a <code>MutableList&lt;Any&gt;</code>. Otherwise, you will get a compilation error. for example:</p>\n\n<pre><code>fun demo(strs: List&lt;String&gt;) {\n    val objects: List&lt;out Any&gt; = strs \n    if (objects is MutableList) {\n        //                                v--- ? extends Object\n        //ERROR: can't assign MutableList&lt;out Any&gt; to Mutable&lt;Any&gt; \n        //                          v                          ^--- Object\n        val obs: MutableList&lt;Any&gt; = objects\n        obs.add(TextView())\n    }\n}\n</code></pre>\n\n<p><strong>IF</strong> you assign the <code>objects</code> to a <code>MutableList&lt;out Any&gt;</code> variable, you'll found that you can't adding anything, since you can't create <code>Nothing</code> in Kotlin at all. for example:</p>\n\n<pre><code>fun demo(strs: List&lt;String&gt;) {\n    val objects: List&lt;out Any&gt; = strs\n    if (objects is MutableList) {\n        //                   v--- down-casting to `MutableList&lt;out Any&gt;` \n        val obs: MutableList&lt;out Any&gt; = objects\n        //      v---ERROR: can't be instantiated\n        obs.add(Nothing())\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p><strong>Q</strong>: Is the way to use out/in keywords a recommended practice?</p>\n</blockquote>\n\n<p>Java has described <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/wildcardGuidelines.html\" rel=\"nofollow noreferrer\">how to use a wildcard</a> and it also applies in Kotlin.</p>\n\n<p>An \"<strong>in</strong>\" Variable, note \"<strong>in</strong>\" in here is <code>? extends T</code> and it is same with Kotlin <strong>out</strong> variance:</p>\n\n<blockquote>\n  <p>An \"in\" variable serves up data to the code. Imagine a copy method with two arguments: <code>copy(src, dest)</code>. The <strong><em>src</em></strong> argument provides the data to be copied, so it is the \"<strong>in</strong>\" parameter.</p>\n</blockquote>\n\n<p>An \"<strong>out</strong>\" Variable, note \"<strong>out</strong>\" in here is <code>? super T</code> and it is  same with Kotlin <strong>in</strong> variance:</p>\n\n<blockquote>\n  <p>An \"<strong>out</strong>\" variable holds data for use elsewhere. In the copy example, <code>copy(src, dest)</code>, the <strong><em>dest</em></strong> argument accepts data, so it is the \"<strong>out</strong>\" parameter.</p>\n</blockquote>\n"}], "owner": {"reputation": 291, "user_id": 3910584, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4urSl.jpg?s=128&g=1", "display_name": "wujunbin", "link": "https://stackoverflow.com/users/3910584/wujunbin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 45379843, "answer_count": 1, "score": 2, "last_activity_date": 1501266834, "creation_date": 1501256078, "question_id": 45377382, "link": "https://stackoverflow.com/questions/45377382/declaration-site-variance-may-cause-classcastexception", "title": "Declaration-site variance may cause ClassCastException", "body": "<p>Kotlin introduces Declaration-site variance described at <a href=\"https://kotlinlang.org/docs/reference/generics.html#declaration-site-variance\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>The out/in keywords for generic parameters may cause ClassCastException in some case. My program is shown below.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var l: List&lt;String&gt; = mutableListOf(\"string\")\n    demo(l)\n    println(\"======\")\n    for (s in l) {\n        println(s)\n    }\n}\n\nfun demo(strs: List&lt;String&gt;) {\n    val objects: List&lt;Any&gt; = strs // This is OK, since T is an out-parameter\n    if (objects is MutableList) {\n        val obs: MutableList&lt;Any&gt; = objects as MutableList&lt;Any&gt;\n        obs.add(TextView())\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.ClassCastException: com.kotlin.demo.clzz.TextView cannot be cast to java.lang.String\n    at com.kotlin.demo.clzz.Declaration_Site_VarianceKt.main(Declaration-Site-Variance.kt:14)\n======\nadn\n</code></pre>\n\n<p>Is the way to use out/in keywords a recommended practice? and Why? </p>\n"}, {"tags": ["android", "http-post", "android-volley", "kotlin"], "comments": [{"owner": {"reputation": 304, "user_id": 3189164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5abd125fce74126efeb29a540c7bcaf6?s=128&d=identicon&r=PG&f=1", "display_name": "spuente", "link": "https://stackoverflow.com/users/3189164/spuente"}, "edited": false, "score": 0, "creation_date": 1501560149, "post_id": 45376637, "comment_id": 77818454, "body": "did the solution worked for you?"}], "answers": [{"tags": [], "owner": {"reputation": 304, "user_id": 3189164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5abd125fce74126efeb29a540c7bcaf6?s=128&d=identicon&r=PG&f=1", "display_name": "spuente", "link": "https://stackoverflow.com/users/3189164/spuente"}, "is_accepted": false, "score": 0, "last_activity_date": 1501364673, "last_edit_date": 1501364673, "creation_date": 1501364309, "answer_id": 45394310, "question_id": 45376637, "link": "https://stackoverflow.com/questions/45376637/cant-send-multpart-form-data-with-volley/45394310#45394310", "title": "Can&#39;t send multpart/form-data with Volley", "body": "<p>Postman automatically generates some random boundary text that gets added to the body params when sending the request. You are missing that on your code. Here's how you might do it:</p>\n\n<p>Use a random boundary that the server will use to split the params</p>\n\n<pre><code>val BOUNDARY = \"AS24adije32MDJHEM9oMaGnKUXtfHq\"\nval MULTIPART_FORMDATA = \"multipart/form-data;boundary=\" + BOUNDARY\n</code></pre>\n\n<p>getBodyContentType function should return that MULTIPART_FORMDATA</p>\n\n<pre><code>override fun getBodyContentType(): String {\n    return MULTIPART_FORMDATA\n}\n</code></pre>\n\n<p>On the getBody() function, add the boundary to the params like this:</p>\n\n<pre><code>override fun getBody(): ByteArray {\n    val params = HashMap&lt;String, String&gt;()\n    params.put(\"profile_id\", \"1\")\n    params.put(\"place_name\", \"La la land\")\n    params.put(\"place_identifier\", \"10239jodmda\")\n\n    val map: List&lt;String&gt; = params.map {\n        (key, value) -&gt; \"--$BOUNDARY\\nContent-Disposition: form-data; name=\\\"$key\\\"\\n\\n$value\\n\"\n    }\n    val endResult = \"${map.joinToString(\"\")}\\n--$BOUNDARY--\\n\"\n    return endResult.toByteArray()\n}\n</code></pre>\n\n<p>Since you are already setting up the content type on getBodyContentType(), you probably <strong>don't</strong> need the following line on getHeaders():</p>\n\n<pre><code>headers.put(\"Content-Type\", \"multipart/form-data\")\n</code></pre>\n\n<p>This SO answer shows how to do something similar in java: <a href=\"https://stackoverflow.com/a/38238994/3189164\">https://stackoverflow.com/a/38238994/3189164</a></p>\n"}, {"tags": [], "owner": {"reputation": 65, "user_id": 5427965, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-FgcLraAbo58/AAAAAAAAAAI/AAAAAAAAAhU/W187ZK8AVd0/photo.jpg?sz=128", "display_name": "Matheus Leite", "link": "https://stackoverflow.com/users/5427965/matheus-leite"}, "is_accepted": true, "score": 0, "last_activity_date": 1501597669, "creation_date": 1501597669, "answer_id": 45440599, "question_id": 45376637, "link": "https://stackoverflow.com/questions/45376637/cant-send-multpart-form-data-with-volley/45440599#45440599", "title": "Can&#39;t send multpart/form-data with Volley", "body": "<p>The solution that worked for me is <strong>remove</strong> the line that setting Content-Type from header! </p>\n"}], "owner": {"reputation": 65, "user_id": 5427965, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh6.googleusercontent.com/-FgcLraAbo58/AAAAAAAAAAI/AAAAAAAAAhU/W187ZK8AVd0/photo.jpg?sz=128", "display_name": "Matheus Leite", "link": "https://stackoverflow.com/users/5427965/matheus-leite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 973, "favorite_count": 0, "accepted_answer_id": 45440599, "answer_count": 2, "score": 1, "last_activity_date": 1569099986, "creation_date": 1501253831, "question_id": 45376637, "link": "https://stackoverflow.com/questions/45376637/cant-send-multpart-form-data-with-volley", "title": "Can&#39;t send multpart/form-data with Volley", "body": "<p>I have problem with send Params in body request. On Postman I have successful request but using Volley I only get <em>Unexpected response code 415</em> error code. </p>\n\n<p><a href=\"https://i.stack.imgur.com/Wq1VB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wq1VB.png\" alt=\"Postman successful request\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/lEIgy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lEIgy.png\" alt=\"Volley request\"></a></p>\n"}, {"tags": ["sorting", "kotlin"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1501253488, "post_id": 45375988, "comment_id": 77714458, "body": "you should implements your own <code>Map</code>, otherwise you can&#39;t guarantee the order after subsequent <code>put</code>s. and the <code>SortedMap</code> only support  <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/SortedMap.html#comparator--\" rel=\"nofollow noreferrer\">Key</a>."}], "answers": [{"comments": [{"owner": {"reputation": 615, "user_id": 726872, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/kpgjF.jpg?s=128&g=1", "display_name": "Rohan Bojja", "link": "https://stackoverflow.com/users/726872/rohan-bojja"}, "edited": false, "score": 0, "creation_date": 1567241654, "post_id": 45376279, "comment_id": 101912292, "body": "If you need to use a function for comparison. map.toList()     .sortedBy { (key, value) -&gt; function(value) }     .toMap()"}], "tags": [], "owner": {"reputation": 4000, "user_id": 4268663, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b48e9b34057e12c82cd42ac43cda60b?s=128&d=identicon&r=PG&f=1", "display_name": "Alex Filatov", "link": "https://stackoverflow.com/users/4268663/alex-filatov"}, "is_accepted": true, "score": 46, "last_activity_date": 1518370774, "last_edit_date": 1518370774, "creation_date": 1501252803, "answer_id": 45376279, "question_id": 45375988, "link": "https://stackoverflow.com/questions/45375988/how-to-sort-linkedhashmap-by-values-in-kotlin/45376279#45376279", "title": "How to sort LinkedHashMap by values in Kotlin?", "body": "<pre><code>map.toList()\n    .sortedBy { (key, value) -&gt; value }\n    .toMap()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 5, "last_activity_date": 1586253212, "last_edit_date": 1586253212, "creation_date": 1518362413, "answer_id": 48733029, "question_id": 45375988, "link": "https://stackoverflow.com/questions/45375988/how-to-sort-linkedhashmap-by-values-in-kotlin/48733029#48733029", "title": "How to sort LinkedHashMap by values in Kotlin?", "body": "<p>You can use <code>sortedBy</code> with destructuring syntax and leave the first argument blank:</p>\n\n<pre><code>map.toList().sortedBy { (_, value) -&gt; value }.toMap()\n</code></pre>\n\n<p>or you can do it without destructuring syntax (as mentioned by <a href=\"https://stackoverflow.com/users/6346531/aksh1618\">aksh1618</a> in the comments): </p>\n\n<pre><code>map.toList().sortedBy { it.second }.toMap()\n</code></pre>\n\n<p>and if you want to iterate the result right away, you don't even need <code>toMap()</code>:</p>\n\n<pre><code>map.toList()\n    .sortedBy { it.second }\n    .forEach { (key, value) -&gt; /* ... */ }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 863, "user_id": 630833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe7500b06559a4b08ee2980c521bc5de?s=128&d=identicon&r=PG", "display_name": "jayeffkay", "link": "https://stackoverflow.com/users/630833/jayeffkay"}, "edited": false, "score": 2, "creation_date": 1593975959, "post_id": 61262959, "comment_id": 110958460, "body": "This removes all entries where the <code>value</code> is equal."}, {"owner": {"reputation": 6120, "user_id": 752630, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/117edb11a37a9ee948002a3f68e54a2e?s=128&d=identicon&r=PG&f=1", "display_name": "mbonnin", "link": "https://stackoverflow.com/users/752630/mbonnin"}, "edited": false, "score": 1, "creation_date": 1594822073, "post_id": 61262959, "comment_id": 111261618, "body": "<code>toSortedMap</code> only exists on the JVM"}, {"owner": {"reputation": 9858, "user_id": 569885, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/493d9c4b9f4815e62f44e0c819ebe6e0?s=128&d=identicon&r=PG", "display_name": "dbm", "link": "https://stackoverflow.com/users/569885/dbm"}, "edited": false, "score": 0, "creation_date": 1610100255, "post_id": 61262959, "comment_id": 116030704, "body": "I would say your example is very dangerous while you have put a lot of assumptions in it. There is nothing in the question hinting about the keys and values being of the same type (<code>Int</code> in your example). Nor is it necessarily true that when a key is greater than the other, then also the corresponding value will be greater (key: 2 &gt; 1 == value: 22 &gt; 11). Last, but absolutely not least: The API&#39;s you use will sort on key (the <code>it</code> in your example), not on value, which is what OP was explicitly asking for. The accepted answer meets all these requirements."}], "tags": [], "owner": {"reputation": 1450, "user_id": 8750174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rAgIf.jpg?s=128&g=1", "display_name": "Vikas Acharya", "link": "https://stackoverflow.com/users/8750174/vikas-acharya"}, "is_accepted": false, "score": 1, "last_activity_date": 1587088854, "creation_date": 1587088854, "answer_id": 61262959, "question_id": 45375988, "link": "https://stackoverflow.com/questions/45375988/how-to-sort-linkedhashmap-by-values-in-kotlin/61262959#61262959", "title": "How to sort LinkedHashMap by values in Kotlin?", "body": "<p>I don't why you have accepted the complicated answer.</p>\n\n<pre><code>var mapImmutable = mapOf&lt;Int, Int&gt;(1 to 11, 2 to 22, 3 to 33)\n\nprintln(mapImmutable.toSortedMap(compareByDescending { mapImmutable[it] })) //{3=33, 2=22, 1=11}\n</code></pre>\n\n<p><code>mapImmutable[it]</code> is the value<br>\njust pass it to <code>compareBy</code> function</p>\n"}], "owner": {"reputation": 592, "user_id": 4941270, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/04e5131c2ed49bec512a9008de7e8f61?s=128&d=identicon&r=PG&f=1", "display_name": "diesersamat", "link": "https://stackoverflow.com/users/4941270/diesersamat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10806, "favorite_count": 2, "accepted_answer_id": 45376279, "answer_count": 3, "score": 20, "last_activity_date": 1587088854, "creation_date": 1501252019, "question_id": 45375988, "link": "https://stackoverflow.com/questions/45375988/how-to-sort-linkedhashmap-by-values-in-kotlin", "title": "How to sort LinkedHashMap by values in Kotlin?", "body": "<p>To sort by keys I can use</p>\n\n<pre><code>map.toSortedMap()\n</code></pre>\n\n<p>But what is the best way to sort LinkedHashMap by values in Kotlin?</p>\n"}, {"tags": ["java", "annotations", "kotlin", "swagger"], "comments": [{"owner": {"reputation": 3103, "user_id": 3887813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5d60d4ba9be9d67243bef5ca7f0141?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/3887813/robin"}, "edited": false, "score": 0, "creation_date": 1501247425, "post_id": 45374025, "comment_id": 77709845, "body": "Annotations expect Arrays, not Lists, so try using the <code>arrayOf</code>-function instead of <code>listOf()</code>"}, {"owner": {"reputation": 313, "user_id": 6095603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bb7f9331929abd76d8b9931bb10b2fa?s=128&d=identicon&r=PG&f=1", "display_name": "Frido", "link": "https://stackoverflow.com/users/6095603/frido"}, "reply_to_user": {"reputation": 3103, "user_id": 3887813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5d60d4ba9be9d67243bef5ca7f0141?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/3887813/robin"}, "edited": false, "score": 0, "creation_date": 1501247721, "post_id": 45374025, "comment_id": 77710116, "body": "Now I have got error: <code>Type inference failed. Expected type mismatch: inferred type is Array&lt;ApiResponse&gt; but ApiResponse was expected</code>"}, {"owner": {"reputation": 7635, "user_id": 1722882, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/3nr6N.png?s=128&g=1", "display_name": "Plog", "link": "https://stackoverflow.com/users/1722882/plog"}, "edited": false, "score": 0, "creation_date": 1501248126, "post_id": 45374025, "comment_id": 77710419, "body": "Yeah this is very odd. I&#39;m tempted to say this might be a bug in Kotlin"}, {"owner": {"reputation": 3103, "user_id": 3887813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5d60d4ba9be9d67243bef5ca7f0141?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/3887813/robin"}, "edited": false, "score": 0, "creation_date": 1501248321, "post_id": 45374025, "comment_id": 77710553, "body": "Just tried it, actually you need to completly leave out the <code>value = listOf</code> part, and just put the individual arguments top level. Seems like kotlin translates a <code>value</code> that&#39;s an Array into varargs when called from Kotlin."}, {"owner": {"reputation": 3103, "user_id": 3887813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5d60d4ba9be9d67243bef5ca7f0141?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/3887813/robin"}, "edited": false, "score": 0, "creation_date": 1501248643, "post_id": 45374025, "comment_id": 77710793, "body": "See my answer for the section in the Kotlin language reference that covers this and the code example that should work for you"}], "answers": [{"tags": [], "owner": {"reputation": 3103, "user_id": 3887813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5d60d4ba9be9d67243bef5ca7f0141?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/3887813/robin"}, "is_accepted": true, "score": 17, "last_activity_date": 1501248563, "creation_date": 1501248563, "answer_id": 45374821, "question_id": 45374025, "link": "https://stackoverflow.com/questions/45374025/how-to-use-swagger-apiresponses-annotation-in-kotlin/45374821#45374821", "title": "How to use Swagger @ApiResponses annotation in Kotlin?", "body": "<p>As stated in <a href=\"https://kotlinlang.org/docs/reference/annotations.html#java-annotations\" rel=\"noreferrer\">the Kotlin Language Reference</a>:</p>\n\n<blockquote>\n  <p>If the value argument [of an Annotation] in Java has an array type, it becomes a vararg parameter in Kotlin</p>\n</blockquote>\n\n<p>So, to make your example work, you need to put it like so:</p>\n\n<pre><code>@ApiResponses(\n    ApiResponse(code = 200, message = \"...\"),\n    ApiResponse(code = 404, message = \"...\"),\n    ApiResponse(code = 500, message = \"...\"),\n    ApiResponse(code = 400, message = \"...\"),\n    ApiResponse(code = 412, message = \"...\")\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2691, "user_id": 5934435, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6L1G1vVshZg/AAAAAAAAAAI/AAAAAAAAAJY/8xBZk8UzmtQ/photo.jpg?sz=128", "display_name": "Sampada", "link": "https://stackoverflow.com/users/5934435/sampada"}, "is_accepted": false, "score": 2, "last_activity_date": 1590069379, "creation_date": 1590069379, "answer_id": 61936178, "question_id": 45374025, "link": "https://stackoverflow.com/questions/45374025/how-to-use-swagger-apiresponses-annotation-in-kotlin/61936178#61936178", "title": "How to use Swagger @ApiResponses annotation in Kotlin?", "body": "<p>For Swagger 3, this is the way to go:</p>\n\n<pre><code> @ApiResponses(value = [\n    ApiResponse(responseCode = \"200\", description = \"...\", content = [\n        (Content(mediaType = \"application/json\", array = (\n        ArraySchema(schema = Schema(implementation = DataModel::class)))))]),\n    ApiResponse(responseCode = \"400\", description = \"...\", content = [Content()]),\n    ApiResponse(responseCode = \"404\", description = \"...\", content = [Content()])]\n    )\n</code></pre>\n\n<p>This snippet also includes <code>@Content</code>, <code>@ArraySchema</code> and <code>@Schema</code> annotation examples.</p>\n"}], "owner": {"reputation": 313, "user_id": 6095603, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bb7f9331929abd76d8b9931bb10b2fa?s=128&d=identicon&r=PG&f=1", "display_name": "Frido", "link": "https://stackoverflow.com/users/6095603/frido"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3305, "favorite_count": 0, "accepted_answer_id": 45374821, "answer_count": 2, "score": 16, "last_activity_date": 1590069379, "creation_date": 1501246194, "last_edit_date": 1501250358, "question_id": 45374025, "link": "https://stackoverflow.com/questions/45374025/how-to-use-swagger-apiresponses-annotation-in-kotlin", "title": "How to use Swagger @ApiResponses annotation in Kotlin?", "body": "<p>How to convert the following Swagger annotations from Java to Kotlin?</p>\n\n<pre><code> @ApiResponses(value = { @ApiResponse(code = 200, message = \"Given admin user found\"),\n            @ApiResponse(code = 404, message = \"...\"),\n            @ApiResponse(code = 500, message = \"...\"),\n            @ApiResponse(code = 400, message = \"...\"),\n            @ApiResponse(code = 412, message = \"...\") })\n</code></pre>\n\n<p>This does not works:</p>\n\n<pre><code>@ApiResponses(value = listOf( \n        ApiResponse(code = 200, message = \"...\"),\n        ApiResponse(code = 404, message = \"...\"),\n        ApiResponse(code = 500, message = \"...\"),\n        ApiResponse(code = 400, message = \"...\"),\n        ApiResponse(code = 412, message = \"...\") ))\n</code></pre>\n\n<p>The error is:</p>\n\n<blockquote>\n  <p>Type inference failed. Expected type mismatch: inferred type is List but ApiResponse was expected</p>\n</blockquote>\n\n<p>It works when I use just one <code>@ApiResponse</code> instead of <code>listOf()</code>, but I have to define more <code>@ApiResponse(s)</code>.</p>\n\n<p>I use Swagger 2.5.0</p>\n"}]