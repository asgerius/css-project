[{"tags": ["kotlin", "dagger-2", "dagger"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502345577, "post_id": 45599332, "comment_id": 78170239, "body": "you mean  constructor that has no parameter?"}, {"owner": {"reputation": 274, "user_id": 3517658, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f37bde4584090aa16a4ce87b42f23c0a?s=128&d=identicon&r=PG&f=1", "display_name": "user3517658", "link": "https://stackoverflow.com/users/3517658/user3517658"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502346250, "post_id": 45599332, "comment_id": 78170598, "body": "The primary constructor should have no parameters and the injection should happen in the secondary constructor"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 1, "creation_date": 1502347791, "post_id": 45599332, "comment_id": 78171476, "body": "in <code>Kotlin</code> this is not the case. check this from documentation <code>A class in Kotlin can have a primary constructor and one or more secondary constructors. The primary constructor is part of the class header: it goes after the class name (and optional type parameters)</code>"}, {"owner": {"reputation": 707, "user_id": 1966126, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/65cf4dc7b49e6c951376b1600d2dc1ec?s=128&d=identicon&r=PG", "display_name": "praj", "link": "https://stackoverflow.com/users/1966126/praj"}, "edited": false, "score": 0, "creation_date": 1569838031, "post_id": 45599332, "comment_id": 102712992, "body": "@user3517658 any solutions?"}, {"owner": {"reputation": 231, "user_id": 1992895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29519e96726b0edf5d765bfdc4aa7b8e?s=128&d=identicon&r=PG", "display_name": "Ashish singh", "link": "https://stackoverflow.com/users/1992895/ashish-singh"}, "edited": false, "score": 0, "creation_date": 1578472176, "post_id": 45599332, "comment_id": 105445310, "body": "any solutions ?"}], "answers": [{"tags": [], "owner": {"reputation": 3492, "user_id": 7210237, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XWFIV.jpg?s=128&g=1", "display_name": "Jenea Vranceanu", "link": "https://stackoverflow.com/users/7210237/jenea-vranceanu"}, "is_accepted": false, "score": 0, "last_activity_date": 1598011672, "last_edit_date": 1598011672, "creation_date": 1598005581, "answer_id": 63521072, "question_id": 45599332, "link": "https://stackoverflow.com/questions/45599332/inject-doesnt-work-with-second-constructor/63521072#63521072", "title": "Inject doesn&#39;t work with second constructor", "body": "<p>Make sure your <code>SelectionFragmentModel</code> class <strong>has only one constuctor</strong>. It does not matter if the constructor is primary or secondary in terms of Kotlin language idioms. There will be only one constructor to use in <code>SelectionFragmentModel</code>.</p>\n<p>The following code leaves no options for the initializer regarding which constructor to use as there is only one!</p>\n<pre><code>class SelectionFragmentModel: ViewModel {\n    lateinit var channelInfosRepository: ChannelInfosRepository\n\n    @Inject constructor(channelInfosRepository: ChannelInfosRepository) : super() {\n        this.channelInfosRepository = channelInfosRepository\n    }\n}\n</code></pre>\n<h3>Example (that works)</h3>\n<p>In this example we have default setup using dagger:</p>\n<ol>\n<li><code>@Module</code> annotated class that provides us with <code>ChannelInfosRepository</code>;</li>\n<li>Modified <code>SelectionFragmentModel</code> (the code is located above the example);</li>\n<li>Interface annotated with <code>@Component</code> with a list of modules consisting of only one module;</li>\n<li>Everything else is just Android stuff.</li>\n</ol>\n<p>Here is the module:</p>\n<pre><code>@Module\nclass AppModule {\n    @Provides\n    @Singleton\n    fun providesChannelInfosRepository(): ChannelInfosRepository {\n        return ChannelInfosRepository()\n    }\n}\n</code></pre>\n<p>Interface annotated with <code>@Component</code>:</p>\n<pre><code>@Singleton\n@Component(modules = [AppModule::class])\ninterface AppComponent {\n    fun inject(fragment: MainFragment)\n}\n</code></pre>\n<p>Here is how the <code>AppComponent</code> is instantiated. <code>MyApplication</code> must be mentioned in <code>AndroidManifest.xml</code>.</p>\n<pre><code>class MyApplication : Application() {\n    var appComponent: AppComponent? = null\n        private set\n\n    override fun onCreate() {\n        super.onCreate()\n\n        appComponent = DaggerAppComponent.builder()\n                .appModule(AppModule())\n                .build()\n    }\n}\n</code></pre>\n<p>Fragment that injects <code>SelectionFragmentModel</code> using <code>AppComponent</code>:</p>\n<pre><code>class MainFragment : Fragment() {\n\n    @Inject\n    lateinit var selectionFragmentModel: SelectionFragmentModel\n\n    companion object {\n        fun newInstance() = MainFragment()\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        // Ugly but fine for a test\n        (activity?.application as? MyApplication)?.appComponent?.inject(this)\n    }\n\n    // onCreateView and other stuff ...\n\n    @SuppressLint(&quot;SetTextI18n&quot;)\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        println(&quot;ViewModel address = ${selectionFragmentModel}&quot;)\n        println(&quot;ChannelInfosRepository address = ${selectionFragmentModel.channelInfosRepository}&quot;)\n    }\n}\n</code></pre>\n<p>The result (instead of printing the result I displayed it in a TextView):</p>\n<p><a href=\"https://i.stack.imgur.com/M25M1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M25M1.png\" alt=\"The result of the code in example\" /></a></p>\n"}], "owner": {"reputation": 274, "user_id": 3517658, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f37bde4584090aa16a4ce87b42f23c0a?s=128&d=identicon&r=PG&f=1", "display_name": "user3517658", "link": "https://stackoverflow.com/users/3517658/user3517658"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 786, "favorite_count": 0, "answer_count": 1, "score": 8, "last_activity_date": 1598011672, "creation_date": 1502307643, "question_id": 45599332, "link": "https://stackoverflow.com/questions/45599332/inject-doesnt-work-with-second-constructor", "title": "Inject doesn&#39;t work with second constructor", "body": "<p>for my current project I'm using Kotlin and Dagger 2.\nI want to inject dependencies in an secondary constructor, but the constructor never gets initialized.</p>\n\n<pre><code>class SelectionFragmentModel ():ViewModel(){\n   lateinit var channelInfosRepository: ChannelInfosRepository\n   @Inject constructor(channelInfosRepository: ChannelInfosRepository) : this(){\n      this.channelInfosRepository = channelInfosRepository\n   }\n   ...\n}\n</code></pre>\n\n<p>As a workaround I'm currently injecting in the primary constructor but this isn't optimal.</p>\n\n<pre><code>class SelectionFragmentModel @Inject constructor(private val channelInfosRepository: ChannelInfosRepository):ViewModel(){\n   constructor() : this(ChannelInfosRepository())\n   ...\n}\n</code></pre>\n\n<p>Am I missing something?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 2, "creation_date": 1502306331, "post_id": 45598955, "comment_id": 78157467, "body": "what is the error message / logs? Can you post your code snippet?"}, {"owner": {"reputation": 1935, "user_id": 2570153, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/TF2FV.png?s=128&g=1", "display_name": "Umar Farooque", "link": "https://stackoverflow.com/users/2570153/umar-farooque"}, "edited": false, "score": 0, "creation_date": 1502306692, "post_id": 45598955, "comment_id": 78157650, "body": "MyActivity::class.java is the kotlin version. What are the error logs ?"}, {"owner": {"reputation": 1737, "user_id": 4244598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/l7ysL.png?s=128&g=1", "display_name": "Natan", "link": "https://stackoverflow.com/users/4244598/natan"}, "edited": false, "score": 0, "creation_date": 1502307247, "post_id": 45598955, "comment_id": 78157948, "body": "Which version of kotlin are you using?"}, {"owner": {"reputation": 15663, "user_id": 2564847, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1441871406/picture?type=large", "display_name": "Robin Dijkhof", "link": "https://stackoverflow.com/users/2564847/robin-dijkhof"}, "reply_to_user": {"reputation": 1737, "user_id": 4244598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/l7ysL.png?s=128&g=1", "display_name": "Natan", "link": "https://stackoverflow.com/users/4244598/natan"}, "edited": false, "score": 0, "creation_date": 1502307312, "post_id": 45598955, "comment_id": 78157997, "body": "@Natan I believe it is 1.1"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502307377, "post_id": 45598955, "comment_id": 78158024, "body": "Which exact version of Android Studio are you working? In my knowledge there is no release named <code>beta 1</code> as of now. Its in <code>Android Studio 3.0 Canary</code> format."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502307476, "post_id": 45598955, "comment_id": 78158076, "body": "Can you provide build.gradle files of both <code>project level</code> and <code>app level</code>?"}, {"owner": {"reputation": 15663, "user_id": 2564847, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1441871406/picture?type=large", "display_name": "Robin Dijkhof", "link": "https://stackoverflow.com/users/2564847/robin-dijkhof"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502307757, "post_id": 45598955, "comment_id": 78158205, "body": "@chandil03 it was released a few hours ago"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502307947, "post_id": 45598955, "comment_id": 78158298, "body": "Thanks for the update, i am just updating and let you know the status."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 1, "creation_date": 1502308220, "post_id": 45598955, "comment_id": 78158420, "body": "At a first look, i guess you are missing <code>classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:1.1.3-2&quot;</code> line in your <code>project level build.gradle</code> file."}, {"owner": {"reputation": 15663, "user_id": 2564847, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1441871406/picture?type=large", "display_name": "Robin Dijkhof", "link": "https://stackoverflow.com/users/2564847/robin-dijkhof"}, "edited": false, "score": 0, "creation_date": 1502308311, "post_id": 45598955, "comment_id": 78158465, "body": "I saw that when a created an empty project. It makes no difference."}, {"owner": {"reputation": 91, "user_id": 5298262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcbed4718dd6ce4e5b2f26ebb8c9aa28?s=128&d=identicon&r=PG&f=1", "display_name": "YoshioMYH", "link": "https://stackoverflow.com/users/5298262/yoshiomyh"}, "edited": false, "score": 0, "creation_date": 1502308497, "post_id": 45598955, "comment_id": 78158558, "body": "I suspect that can be a bug from the update. Have you tried the solution described in the Release Notes?<a href=\"https://androidstudio.googleblog.com/2017/08/android-studio-30-beta-1.html\" rel=\"nofollow noreferrer\">androidstudio.googleblog.com/2017/08/&hellip;</a>"}, {"owner": {"reputation": 15663, "user_id": 2564847, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1441871406/picture?type=large", "display_name": "Robin Dijkhof", "link": "https://stackoverflow.com/users/2564847/robin-dijkhof"}, "reply_to_user": {"reputation": 91, "user_id": 5298262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fcbed4718dd6ce4e5b2f26ebb8c9aa28?s=128&d=identicon&r=PG&f=1", "display_name": "YoshioMYH", "link": "https://stackoverflow.com/users/5298262/yoshiomyh"}, "edited": false, "score": 0, "creation_date": 1502308698, "post_id": 45598955, "comment_id": 78158657, "body": "@YoshioMYH, yeah a plain Java build wasn&#39;tt possibple without."}], "answers": [{"comments": [{"owner": {"reputation": 15663, "user_id": 2564847, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1441871406/picture?type=large", "display_name": "Robin Dijkhof", "link": "https://stackoverflow.com/users/2564847/robin-dijkhof"}, "edited": false, "score": 0, "creation_date": 1502350463, "post_id": 45600308, "comment_id": 78173237, "body": "It doesn&#39;t make a difference. I even did a clean build. Any other suggestions?"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 15663, "user_id": 2564847, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1441871406/picture?type=large", "display_name": "Robin Dijkhof", "link": "https://stackoverflow.com/users/2564847/robin-dijkhof"}, "edited": false, "score": 0, "creation_date": 1502356656, "post_id": 45600308, "comment_id": 78177456, "body": "@RobinDijkhof dumb thing to ask but still : have you installed kotlin plugin?"}], "tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": false, "score": 1, "last_activity_date": 1502311361, "creation_date": 1502311361, "answer_id": 45600308, "question_id": 45598955, "link": "https://stackoverflow.com/questions/45598955/kotlin-myclass-class-java-unresolved-reference-java/45600308#45600308", "title": "Kotlin MyClass.class.java Unresolved reference: java", "body": "<p>Try adding following changes in your gradle file.</p>\n\n<p>Add <code>classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.1.3-2\"</code> in your project build.gradle file.</p>\n\n<h2>build.gradle(:project)</h2>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-beta1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:1.1.3-2\" // New \n        classpath 'com.google.gms:google-services:3.0.0'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\n...\n...\n</code></pre>\n\n<hr>\n\n<p>And add </p>\n\n<p><code>apply plugin: 'kotlin-android-extensions' \napply plugin: 'kotlin-android'</code> </p>\n\n<p>two lines in app build.gradle file. </p>\n\n<h2>build.gradle(:app)</h2>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android-extensions' // New \napply plugin: 'kotlin-android' // New \n\nandroid {\n    ...\n    ...\n\n    ...\n    ...\n}\n\n\ndependencies {\n    ...\n    ...\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>This must solve your problem as i have updated My Android Studio to <code>3.0 beta 1</code> and having so issues.</p>\n\n<p>I Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 15663, "user_id": 2564847, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1441871406/picture?type=large", "display_name": "Robin Dijkhof", "link": "https://stackoverflow.com/users/2564847/robin-dijkhof"}, "is_accepted": true, "score": 0, "last_activity_date": 1502900071, "creation_date": 1502900071, "answer_id": 45718490, "question_id": 45598955, "link": "https://stackoverflow.com/questions/45598955/kotlin-myclass-class-java-unresolved-reference-java/45718490#45718490", "title": "Kotlin MyClass.class.java Unresolved reference: java", "body": "<p>I think this was an bug. I just updated to beta2 an the problem was solved.</p>\n"}], "owner": {"reputation": 15663, "user_id": 2564847, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1441871406/picture?type=large", "display_name": "Robin Dijkhof", "link": "https://stackoverflow.com/users/2564847/robin-dijkhof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1996, "favorite_count": 0, "accepted_answer_id": 45718490, "answer_count": 2, "score": 1, "last_activity_date": 1581082280, "creation_date": 1502306223, "last_edit_date": 1581082280, "question_id": 45598955, "link": "https://stackoverflow.com/questions/45598955/kotlin-myclass-class-java-unresolved-reference-java", "title": "Kotlin MyClass.class.java Unresolved reference: java", "body": "<p>In Java Android we use <code>MyActivity.class</code> to start a new activity. I was playing with Android Studio 3 beta1 and tried to convert it to kotlin. It gets converted to <code>MyActivity::class.java</code> but this doesn't compile. It gives me <code>Unresolved reference: java</code>. What would be the correct equivalent?</p>\n\n<p>Project Build.gradle:</p>\n\n<pre><code>buildscript {\n    repositories {\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-beta1'\n        classpath 'com.google.gms:google-services:3.0.0'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        maven { url \"https://jitpack.io\" }\n    }\n}\n</code></pre>\n\n<p>App Build.gradle:</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    signingConfigs {\n    }\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.2\"\n    lintOptions {\n        abortOnError false\n    }\n    defaultConfig {\n        vectorDrawables.useSupportLibrary = true\n        applicationId \"app\"\n        minSdkVersion 15\n        targetSdkVersion 25\n        versionCode 104\n        versionName \"4.0.11\"\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n        debug {\n            minifyEnabled false\n        }\n    }\n    flavorDimensions \"mode\"\n\n    productFlavors {\n        free {\n            dimension \"mode\"\n        }\n        paid {\n            dimension \"mode\"\n            applicationId \"app.paid\"\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\n\ndependencies {\n    compile fileTree(include: ['*.jar'], dir: 'libs')\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    compile 'com.android.support:support-v4:25.3.1'\n    compile 'com.android.support:design:25.3.1'\n    compile 'com.android.support:recyclerview-v7:25.3.1'\n    compile 'com.android.support:cardview-v7:25.3.1'\n    compile 'com.google.android.gms:play-services-ads:10.2.6'\n    releaseCompile 'ch.acra:acra:4.9.1'\n    //    compile 'ch.acra:acra:4.9.1'\n    compile 'com.google.firebase:firebase-core:10.2.6'\n    compile 'com.google.firebase:firebase-database:10.2.6'\n    compile 'com.google.firebase:firebase-auth:10.2.6'\n    compile 'com.google.android.gms:play-services-auth:10.2.6'\n    compile 'com.github.frangsierra:rx2firebase:1.1.3'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2", "dagger"], "comments": [{"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1502295160, "post_id": 45593146, "comment_id": 78151058, "body": "Did you do a clean build? Kotlin with annotation processors still has a few kinks"}, {"owner": {"reputation": 2334, "user_id": 3729490, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4i1yH.png?s=128&g=1", "display_name": "rafaelasguerra", "link": "https://stackoverflow.com/users/3729490/rafaelasguerra"}, "reply_to_user": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1502353453, "post_id": 45593146, "comment_id": 78175090, "body": "@DavidMedenjak didn&#39;t solve"}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1502353760, "post_id": 45593146, "comment_id": 78175289, "body": "does this help? <a href=\"https://stackoverflow.com/questions/41213765/issue-with-databinding-using-kotlin-for-android/41220138#41220138\" title=\"issue with databinding using kotlin for android\">stackoverflow.com/questions/41213765/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1502353736, "post_id": 45601142, "comment_id": 78175273, "body": "this is probably the soultion, see my answer here: <a href=\"https://stackoverflow.com/questions/41213765/issue-with-databinding-using-kotlin-for-android/41220138#41220138\" title=\"issue with databinding using kotlin for android\">stackoverflow.com/questions/41213765/&hellip;</a> <code>generateStubs = true</code> is not allowed with kapt3 (<code>apply plugin:  &#39;kotlin-kapt&#39;</code>)"}], "tags": [], "owner": {"reputation": 10844, "user_id": 7765139, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1JCJG0Q4b8I/AAAAAAAAAAI/AAAAAAAAB1w/2ghArTJ7KEs/photo.jpg?sz=128", "display_name": "Levi Moreira", "link": "https://stackoverflow.com/users/7765139/levi-moreira"}, "is_accepted": false, "score": 5, "last_activity_date": 1502315302, "creation_date": 1502315302, "answer_id": 45601142, "question_id": 45593146, "link": "https://stackoverflow.com/questions/45593146/kapt-kotlin-dagger2-error-while-annotation-processing/45601142#45601142", "title": "Kapt, Kotlin, Dagger2 Error while annotation processing", "body": "<p>Did you try adding kapt in your app level gradle file?</p>\n\n<pre><code>kapt {\n    generateStubs = true\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2334, "user_id": 3729490, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4i1yH.png?s=128&g=1", "display_name": "rafaelasguerra", "link": "https://stackoverflow.com/users/3729490/rafaelasguerra"}, "is_accepted": true, "score": 7, "last_activity_date": 1503068599, "creation_date": 1503068599, "answer_id": 45759769, "question_id": 45593146, "link": "https://stackoverflow.com/questions/45593146/kapt-kotlin-dagger2-error-while-annotation-processing/45759769#45759769", "title": "Kapt, Kotlin, Dagger2 Error while annotation processing", "body": "<p>Solved by using the <strong>AndroidSupportInjectionModule</strong> once I'm using  <em>android.support.v4.app.Fragment</em>.</p>\n\n<pre><code>@Singleton\n@Component(modules = {AndroidSupportInjectionModule.class, ApplicationModule.class, RetrofitModule.class, ActivityBuilderModule.class})\npublic interface ApplicationComponent {\n\n    @Component.Builder\n    interface Builder {\n\n        @BindsInstance\n        Builder application(Application application);\n\n        ApplicationComponent build();\n    }\n\n    void inject(TaskApplication application);\n}\n</code></pre>\n"}], "owner": {"reputation": 2334, "user_id": 3729490, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/4i1yH.png?s=128&g=1", "display_name": "rafaelasguerra", "link": "https://stackoverflow.com/users/3729490/rafaelasguerra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9424, "favorite_count": 3, "accepted_answer_id": 45759769, "answer_count": 2, "score": 8, "last_activity_date": 1503068599, "creation_date": 1502287880, "last_edit_date": 1502960824, "question_id": 45593146, "link": "https://stackoverflow.com/questions/45593146/kapt-kotlin-dagger2-error-while-annotation-processing", "title": "Kapt, Kotlin, Dagger2 Error while annotation processing", "body": "<p>I'm getting this gradle error after adding <strong>com.google.dagger:dagger-android-support</strong> dependency in a project with kotlin.</p>\n\n<p>This is part of my build gradle\n<strong>build.gradle</strong></p>\n\n<pre><code>    apply plugin: 'com.android.application'\n    apply plugin: 'kotlin-android'\n    apply plugin: 'realm-android'\n    apply plugin: 'me.tatarka.retrolambda'\n    apply plugin: 'kotlin-kapt'\n\n    android {\n      ...\n       kapt {\n         generateStubs = true\n       }\n    }\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n\n    ...\n       kapt \"com.google.dagger:dagger-compiler:${daggerVersion}\"\n       kapt \"com.google.dagger:dagger-android-processor:${daggerVersion}\"\n       compile \"com.google.dagger:dagger:${daggerVersion}\"\n       compile \"com.google.dagger:dagger-android-support:${daggerVersion}\"\n\n       ...\n    }\n</code></pre>\n\n<p>and here the\n<strong>gradle error</strong> that I get</p>\n\n<pre><code>ApplicationComponent.java:21: error: [dagger.android.AndroidInjector.inject(T)] java.util.Map&lt;java.lang.Class&lt;? extends android.support.v4.app.Fragment&gt;,javax.inject.Provider&lt;dagger.android.AndroidInjector.Factory&lt;? extends android.support.v4.app.Fragment&gt;&gt;&gt; cannot be provided without an @Provides-annotated method.\ne: \npublic interface ApplicationComponent {\n    e:        ^\n    e: java.lang.IllegalStateException: failed to analyze: org.jetbrains.kotlin.kapt3.diagnostic.KaptError: Error while annotation processing\n        at org.jetbrains.kotlin.analyzer.AnalysisResult.throwIfError(AnalysisResult.kt:57)\n        at org.jetbrains.kotlin.cli.jvm.compiler.KotlinToJVMBytecodeCompiler.compileModules(KotlinToJVMBytecodeCompiler.kt:144)\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:167)\n        at org.jetbrains.kotlin.cli.jvm.K2JVMCompiler.doExecute(K2JVMCompiler.kt:55)\n        at org.jetbrains.kotlin.cli.common.CLICompiler.exec(CLICompiler.java:182)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.execCompiler(CompileServiceImpl.kt:397)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl.access$execCompiler(CompileServiceImpl.kt:99)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:365)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$compile$1$2.invoke(CompileServiceImpl.kt:99)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2$$special$$inlined$withValidClientOrSessionProxy$lambda$1.invoke(CompileServiceImpl.kt:798)\n        at org.jetbrains.kotlin.daemon.CompileServiceImpl$doCompile$2$$special$$inlined$withValidClientOrSessionProxy$lambda$1.invoke(CompileServiceImpl.kt:99)\n        at org.jetbrains.kotlin.daemon.common.DummyProfiler.withMeasure(PerfUtils.kt:137)\n</code></pre>\n\n<p><strong>ApplicationComponent</strong></p>\n\n<pre><code>@Singleton\n@Component(modules = {AndroidInjectionModule.class, ApplicationModule.class, RetrofitModule.class, ActivityBuilderModule.class})\npublic interface ApplicationComponent {\n\n    @Component.Builder\n    interface Builder {\n\n        @BindsInstance\n        Builder application(Application application);\n\n        ApplicationComponent build();\n    }\n\n    void inject(TaskApplication application);\n}\n</code></pre>\n\n<p>Anyone had the same problem?</p>\n"}, {"tags": ["dictionary", "kotlin", "nullable"], "answers": [{"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 9, "last_activity_date": 1502274864, "creation_date": 1502274864, "answer_id": 45588238, "question_id": 45588059, "link": "https://stackoverflow.com/questions/45588059/why-mutablemapof-returns-nullable/45588238#45588238", "title": "Why mutableMapOf returns nullable?", "body": "<p>It is possible that there is no value for key [position], which will make it return <code>null</code>:</p>\n\n<blockquote>\n<pre><code>abstract operator fun get(key: K): V?\n</code></pre>\n  \n  <p>Returns the value corresponding to the given key, or null if such a key is not present in the map.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 734, "user_id": 6514270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/97e2a509de8c25e864803c1d95d71fd9?s=128&d=identicon&r=PG&f=1", "display_name": "Amiraslan", "link": "https://stackoverflow.com/users/6514270/amiraslan"}, "edited": false, "score": 1, "creation_date": 1502280244, "post_id": 45590100, "comment_id": 78139008, "body": "Before your answer, I wrote this. : ```` override fun getItem(position: Int): Fragment = (fragmentsAndIds[position]) ?: throw NullPointerException()````   It does similiar thing. But your option is cleaner and short. I will use it. thanks"}, {"owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "reply_to_user": {"reputation": 734, "user_id": 6514270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/97e2a509de8c25e864803c1d95d71fd9?s=128&d=identicon&r=PG&f=1", "display_name": "Amiraslan", "link": "https://stackoverflow.com/users/6514270/amiraslan"}, "edited": false, "score": 1, "creation_date": 1502280442, "post_id": 45590100, "comment_id": 78139172, "body": "Yeah it does the same thing. By the way, you can write <code>override fun getItem(position: Int): Fragment = (fragmentsAndIds[position])!!</code>. The <code>!!</code> will throw <code>NullPointerException</code> if null ;)"}], "tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": false, "score": 3, "last_activity_date": 1502280021, "creation_date": 1502280021, "answer_id": 45590100, "question_id": 45588059, "link": "https://stackoverflow.com/questions/45588059/why-mutablemapof-returns-nullable/45590100#45590100", "title": "Why mutableMapOf returns nullable?", "body": "<p>@nhaarman is right, but you can use <code>getValue(key)</code> that return non-nullable but throw <code>NoSuchElementException</code> if not found.</p>\n\n<pre><code>/**\n * Returns the value for the given [key] or throws an exception if there is no such key in the map.\n *\n * If the map was created by [withDefault], resorts to its `defaultValue` provider function\n * instead of throwing an exception.\n *\n * @throws NoSuchElementException when the map doesn't contain a value for the specified key and\n * no implicit default value was provided for that map.\n */\n@SinceKotlin(\"1.1\")\npublic fun &lt;K, V&gt; Map&lt;K, V&gt;.getValue(key: K): V = getOrImplicitDefault(key)\n</code></pre>\n"}], "owner": {"reputation": 734, "user_id": 6514270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/97e2a509de8c25e864803c1d95d71fd9?s=128&d=identicon&r=PG&f=1", "display_name": "Amiraslan", "link": "https://stackoverflow.com/users/6514270/amiraslan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "accepted_answer_id": 45588238, "answer_count": 2, "score": 4, "last_activity_date": 1502903232, "creation_date": 1502274405, "last_edit_date": 1502903232, "question_id": 45588059, "link": "https://stackoverflow.com/questions/45588059/why-mutablemapof-returns-nullable", "title": "Why mutableMapOf returns nullable?", "body": "<p>I wrote a simple code block to store <code>fragments</code> with <code>ids</code> in <code>Map</code>. The <code>value</code> and <code>key</code> of map is initialized as non-nullable but when I want to get them as <code>key</code> and <code>value</code>, it gives <code>nullable</code> type data. So, I don't understand why? Is there any other type of map that returns <code>non-nullable</code> data in <code>Kotlin</code>?</p>\n\n<p><a href=\"https://i.stack.imgur.com/h8cBt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h8cBt.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 10995, "user_id": 476690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7843bb075c05be6886a97b77e36758ff?s=128&d=identicon&r=PG", "display_name": "dwursteisen", "link": "https://stackoverflow.com/users/476690/dwursteisen"}, "edited": false, "score": 0, "creation_date": 1502274302, "post_id": 45587932, "comment_id": 78134720, "body": "you can retry the build by killing the gradle daemon first (<code>gradlew --stop</code>), then if still doesn&#39;t work, compile again with <code>--info</code> and/or <code>--debug</code> and/or <code>--stacktrace</code> (ie <code>gradlew build --info</code>)"}, {"owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "reply_to_user": {"reputation": 10995, "user_id": 476690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7843bb075c05be6886a97b77e36758ff?s=128&d=identicon&r=PG", "display_name": "dwursteisen", "link": "https://stackoverflow.com/users/476690/dwursteisen"}, "edited": false, "score": 0, "creation_date": 1502288456, "post_id": 45587932, "comment_id": 78146004, "body": "tried that and still fails to build the project with the same error"}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "edited": false, "score": 0, "creation_date": 1502304558, "post_id": 45587932, "comment_id": 78156474, "body": "Have you tried to build your project under command line? <code>.&#47;gradlew build</code>"}, {"owner": {"reputation": 561, "user_id": 2997980, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZtqBQ.jpg?s=128&g=1", "display_name": "N1hk", "link": "https://stackoverflow.com/users/2997980/n1hk"}, "edited": false, "score": 1, "creation_date": 1503963165, "post_id": 45587932, "comment_id": 78815982, "body": "I had this same problem with Kotlin in IntelliJ IDEA, but not AS. To solve it there, I unchecked &quot;Keep compiler process alive between invocations&quot; in File-&gt;Settings-&gt;Other Settings-&gt;Kotlin Compiler."}, {"owner": {"reputation": 1559, "user_id": 2759296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/OoPGq.jpg?s=128&g=1", "display_name": "anthonymonori", "link": "https://stackoverflow.com/users/2759296/anthonymonori"}, "edited": false, "score": 0, "creation_date": 1514889698, "post_id": 45587932, "comment_id": 83091137, "body": "Does your problem still persist if you update to the latest stable version? If so, I would suggest you close down this question or even write the solution if you found any."}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 6074932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TvlSS.jpg?s=128&g=1", "display_name": "Henrique Horbovyi", "link": "https://stackoverflow.com/users/6074932/henrique-horbovyi"}, "is_accepted": false, "score": 0, "last_activity_date": 1522109263, "creation_date": 1522109263, "answer_id": 49502488, "question_id": 45587932, "link": "https://stackoverflow.com/questions/45587932/android-studio-3-cant-build-my-project/49502488#49502488", "title": "Android Studio 3 can&#39;t build my project", "body": "<p>Maybe you have the same error I had. \nI solved <a href=\"https://discuss.kotlinlang.org/t/broken-compilation-in-ide/1377\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11568352, "user_type": "registered", "profile_image": "https://graph.facebook.com/2504462169578476/picture?type=large", "display_name": "Seif Daadoucha", "link": "https://stackoverflow.com/users/11568352/seif-daadoucha"}, "is_accepted": false, "score": 0, "last_activity_date": 1559057847, "last_edit_date": 1559057847, "creation_date": 1559056607, "answer_id": 56345332, "question_id": 45587932, "link": "https://stackoverflow.com/questions/45587932/android-studio-3-cant-build-my-project/56345332#56345332", "title": "Android Studio 3 can&#39;t build my project", "body": "<p>Try to close android studio, delete .gradle and then open it. I had the same problem and it's fixed now.</p>\n"}], "owner": {"reputation": 15439, "user_id": 444668, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/7ffced6cbed40a750c8ef8a365872fd7?s=128&d=identicon&r=PG", "display_name": "Jonathan", "link": "https://stackoverflow.com/users/444668/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1200, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1559057847, "creation_date": 1502274079, "last_edit_date": 1502280893, "question_id": 45587932, "link": "https://stackoverflow.com/questions/45587932/android-studio-3-cant-build-my-project", "title": "Android Studio 3 can&#39;t build my project", "body": "<p>I am using Android Studio 3 preview to code and build a android kotlin project but it does not seem to compile due to this error:</p>\n\n<blockquote>\n  <p>: java.lang.Exception: Unable to get response from daemon in 10000 ms</p>\n  \n  <p>Could not perform incremental compilation: Could not connect to Kotlin\n  compile daemon Could not connect to kotlin daemon. Using fallback\n  strategy.</p>\n\n<pre><code>Error:Failed to complete Gradle execution.\n\nCause:\nGradle build daemon disappeared unexpectedly (it may have been killed or may have crashed)\n</code></pre>\n</blockquote>\n\n<p>Here is my gradle build file</p>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.1.3-2'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-alpha9'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\n\n    apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion '26.0.1'\n\n    defaultConfig {\n        applicationId \"com.jr.app\"\n        minSdkVersion 19\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        buildConfigField \"String\", \"DEMO_SERVER_URL\", \"https://demoserver.restlet.net/v1/\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:26.0.0'\n    implementation 'com.android.support:design:26.0.0'\n    implementation 'com.squareup.retrofit2:retrofit:2.3.0'\n    implementation 'com.android.support:support-v4:26.0.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.0'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.0'\n}\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["java", "testing", "junit", "kotlin"], "comments": [{"owner": {"reputation": 1022, "user_id": 3638966, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/720326815f0a1d2d4e35d159c163b93b?s=128&d=identicon&r=PG&f=1", "display_name": "diesieben07", "link": "https://stackoverflow.com/users/3638966/diesieben07"}, "edited": false, "score": 0, "creation_date": 1502272475, "post_id": 45587166, "comment_id": 78133350, "body": "Can you show your attempted call to the method? Because that should work fine."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502272519, "post_id": 45587166, "comment_id": 78133377, "body": "You can also create your own extension function."}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 8140501, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/A2Xnm.png?s=128&g=1", "display_name": "John Aqel", "link": "https://stackoverflow.com/users/8140501/john-aqel"}, "is_accepted": false, "score": 2, "last_activity_date": 1502274298, "last_edit_date": 1502274298, "creation_date": 1502273711, "answer_id": 45587808, "question_id": 45587166, "link": "https://stackoverflow.com/questions/45587166/how-to-call-assertequals-with-double-epsilon-precision-in-kotlin/45587808#45587808", "title": "How to call assertEquals with Double Epsilon/Precision in Kotlin?", "body": "<p>Just check to make sure you're importing the correct class that has the desired <code>assertEquals</code> method on it. Other than that you may want to verify that the <code>calculateCouponAmount()</code> method returns a <code>Double</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1920, "user_id": 187148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6470f976d0185f97a1a88dd05c5fdfc?s=128&d=identicon&r=PG", "display_name": "BrunoJCM", "link": "https://stackoverflow.com/users/187148/brunojcm"}, "edited": false, "score": 0, "creation_date": 1549625725, "post_id": 45587996, "comment_id": 95979340, "body": "How does that consider the precision at all in the Kotlin version?"}, {"owner": {"reputation": 685, "user_id": 8344252, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QmV0W.jpg?s=128&g=1", "display_name": "Stefano.Maffullo", "link": "https://stackoverflow.com/users/8344252/stefano-maffullo"}, "reply_to_user": {"reputation": 1920, "user_id": 187148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6470f976d0185f97a1a88dd05c5fdfc?s=128&d=identicon&r=PG", "display_name": "BrunoJCM", "link": "https://stackoverflow.com/users/187148/brunojcm"}, "edited": false, "score": 0, "creation_date": 1549896448, "post_id": 45587996, "comment_id": 96058371, "body": "It doesn&#39;t in pure Kotlin, that&#39;s why you need to use Assert.assertEquals"}, {"owner": {"reputation": 1920, "user_id": 187148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6470f976d0185f97a1a88dd05c5fdfc?s=128&d=identicon&r=PG", "display_name": "BrunoJCM", "link": "https://stackoverflow.com/users/187148/brunojcm"}, "edited": false, "score": 5, "creation_date": 1550038054, "post_id": 45587996, "comment_id": 96117692, "body": "<code>&#47;&#47; to use the Kotlin one</code> kind of implies that this is equivalent when it&#39;s not, so I think it should be changed"}], "tags": [], "owner": {"reputation": 685, "user_id": 8344252, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QmV0W.jpg?s=128&g=1", "display_name": "Stefano.Maffullo", "link": "https://stackoverflow.com/users/8344252/stefano-maffullo"}, "is_accepted": true, "score": 6, "last_activity_date": 1502292191, "last_edit_date": 1502292191, "creation_date": 1502274235, "answer_id": 45587996, "question_id": 45587166, "link": "https://stackoverflow.com/questions/45587166/how-to-call-assertequals-with-double-epsilon-precision-in-kotlin/45587996#45587996", "title": "How to call assertEquals with Double Epsilon/Precision in Kotlin?", "body": "<p>I have figured it out!</p>\n\n<p>This is how it's done</p>\n\n<pre><code>import org.junit.*\nimport Kotlin.Test.assertEquals\n\nAssert.assertEquals(expected, actual, precision) // to use the jUnit standard one\nassertEquals(expected, actual, message) // to use the Kotlin one\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1920, "user_id": 187148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6470f976d0185f97a1a88dd05c5fdfc?s=128&d=identicon&r=PG", "display_name": "BrunoJCM", "link": "https://stackoverflow.com/users/187148/brunojcm"}, "is_accepted": false, "score": 4, "last_activity_date": 1583389098, "creation_date": 1583389098, "answer_id": 60539219, "question_id": 45587166, "link": "https://stackoverflow.com/questions/45587166/how-to-call-assertequals-with-double-epsilon-precision-in-kotlin/60539219#60539219", "title": "How to call assertEquals with Double Epsilon/Precision in Kotlin?", "body": "<p>I couldn't find one, so I created my own set of functions:</p>\n\n<pre><code>import java.math.BigDecimal\nimport kotlin.math.abs\nimport kotlin.test.asserter\n\ninternal fun assertEquals(expected: Double, actual: Double?, epsilon: Double, message: String? = null) {\n    asserter.assertNotNull(null, actual)\n    asserter.assertTrue({ messagePrefix(message) + \"Expected &lt;$expected&gt;, actual &lt;$actual&gt;, should differ no more than &lt;$epsilon&gt;.\" },\n            abs(expected - actual!!) &lt;= epsilon)\n}\n\ninternal fun assertEquals(expected: BigDecimal, actual: BigDecimal?, epsilon: Double, message: String? = null) {\n    asserter.assertNotNull(null, actual)\n    asserter.assertTrue({ messagePrefix(message) + \"Expected &lt;$expected&gt;, actual &lt;$actual&gt;, should differ no more than &lt;$epsilon&gt;.\" },\n            (expected - actual!!).abs().toDouble() &lt;= epsilon)\n}\n\ninternal fun assertEquals(expected: Double, actual: BigDecimal?, epsilon: Double, message: String? = null) {\n    asserter.assertNotNull(null, actual)\n    asserter.assertTrue({ messagePrefix(message) + \"Expected &lt;$expected&gt;, actual &lt;$actual&gt;, should differ no more than &lt;$epsilon&gt;.\" },\n            abs(expected - actual!!.toDouble()) &lt;= epsilon)\n}\n\ninternal fun messagePrefix(message: String?) = if (message == null) \"\" else \"$message. \"\n</code></pre>\n"}], "owner": {"reputation": 685, "user_id": 8344252, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QmV0W.jpg?s=128&g=1", "display_name": "Stefano.Maffullo", "link": "https://stackoverflow.com/users/8344252/stefano-maffullo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2303, "favorite_count": 0, "accepted_answer_id": 45587996, "answer_count": 3, "score": 7, "last_activity_date": 1583389098, "creation_date": 1502272076, "last_edit_date": 1502275034, "question_id": 45587166, "link": "https://stackoverflow.com/questions/45587166/how-to-call-assertequals-with-double-epsilon-precision-in-kotlin", "title": "How to call assertEquals with Double Epsilon/Precision in Kotlin?", "body": "<p>I was wondering, in Kotlin, is there the possibility to call the equivalent of the java method:</p>\n\n<pre><code>assertEquals(double expected, double actual, double precision)\n</code></pre>\n\n<p>because everytime I'm getting this method instead</p>\n\n<pre><code>assertEquals(expected: T, actual: T, message: String)\n</code></pre>\n\n<p>And i can't find the one with the precision parameter.\nCalling the Java one should be fine too I guess.</p>\n\n<p>My call to the method:</p>\n\n<pre><code>assertEquals(5000.00, calculateCouponAmount(basicFaceValue, basicInterestRate, amortizationBullet, couponNumber1), 0.01)\n</code></pre>\n\n<p>I'm getting an error because 0.01 gets in the \"message\" field</p>\n"}, {"tags": ["android", "background", "android-animation", "kotlin"], "comments": [{"owner": {"reputation": 1320, "user_id": 1779222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a0f8a29a51d47bf7066267a9d3e0b20?s=128&d=identicon&r=PG", "display_name": "egoldx", "link": "https://stackoverflow.com/users/1779222/egoldx"}, "edited": false, "score": 0, "creation_date": 1502268783, "post_id": 45585866, "comment_id": 78130648, "body": "Show some code you have tried please."}, {"owner": {"reputation": 667, "user_id": 5990450, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Iswxg.jpg?s=128&g=1", "display_name": "Mikayel Saghyan", "link": "https://stackoverflow.com/users/5990450/mikayel-saghyan"}, "reply_to_user": {"reputation": 1320, "user_id": 1779222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a0f8a29a51d47bf7066267a9d3e0b20?s=128&d=identicon&r=PG", "display_name": "egoldx", "link": "https://stackoverflow.com/users/1779222/egoldx"}, "edited": false, "score": 0, "creation_date": 1502268924, "post_id": 45585866, "comment_id": 78130753, "body": "It won&#39;t be helpful... I&#39;m a beginner and I am not sure it would help. For example: animatedPerson.animate(). In Java, as far as I know, I should use android:background and getBackground.animate(). But I can&#39;t find similar thing in Kotlin."}], "answers": [{"tags": [], "owner": {"reputation": 1320, "user_id": 1779222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a0f8a29a51d47bf7066267a9d3e0b20?s=128&d=identicon&r=PG", "display_name": "egoldx", "link": "https://stackoverflow.com/users/1779222/egoldx"}, "is_accepted": true, "score": 8, "last_activity_date": 1502269203, "creation_date": 1502269203, "answer_id": 45586073, "question_id": 45585866, "link": "https://stackoverflow.com/questions/45585866/how-to-animate-animation-list-in-kotlin/45586073#45586073", "title": "How to animate animation-list in Kotlin?", "body": "<p>in Java it's like this:</p>\n\n<pre><code>// Get the background, which has been compiled to an AnimationDrawable object.\nAnimationDrawable frameAnimation = (AnimationDrawable) img.getBackground();\n\n// Start the animation (looped playback by default).\nframeAnimation.start();\n</code></pre>\n\n<p>So Kotlin will be really similar:</p>\n\n<pre><code>// Get the background, which has been compiled to an AnimationDrawable object.\nval frameAnimation: AnimationDrawable = img.background as AnimationDrawable\n\n// Start the animation (looped playback by default).\nframeAnimation.start()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1927, "user_id": 8399518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f2d83438fa2e74d9fbb9a0353bdb397?s=128&d=identicon&r=PG&f=1", "display_name": "Naimatullah", "link": "https://stackoverflow.com/users/8399518/naimatullah"}, "is_accepted": false, "score": -1, "last_activity_date": 1502270935, "last_edit_date": 1502270935, "creation_date": 1502269813, "answer_id": 45586295, "question_id": 45585866, "link": "https://stackoverflow.com/questions/45585866/how-to-animate-animation-list-in-kotlin/45586295#45586295", "title": "How to animate animation-list in Kotlin?", "body": "<p>Kotlin is similar to java...</p>\n\n<p>// Get the background, which has been compiled to an AnimationDrawable object.</p>\n\n<pre><code>val frameAnimation: AnimationDrawable = img.background as AnimationDrawable\n</code></pre>\n\n<p>// Start the animation (looped playback by default).</p>\n\n<pre><code>frameAnimation.start()\n</code></pre>\n\n<p>Another way is to use convert java code to kotlin by pressing ctrl + shift + a and then in action feild, write down </p>\n\n<blockquote>\n  <p>convert java to Kotlin..</p>\n</blockquote>\n\n<p>it will automatically convert the java code in kotlin.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 1597523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1014fd84612bcc2fd4b4eaee1deff355?s=128&d=identicon&r=PG", "display_name": "Tom Peak", "link": "https://stackoverflow.com/users/1597523/tom-peak"}, "is_accepted": false, "score": 0, "last_activity_date": 1561795762, "creation_date": 1561795762, "answer_id": 56816033, "question_id": 45585866, "link": "https://stackoverflow.com/questions/45585866/how-to-animate-animation-list-in-kotlin/56816033#56816033", "title": "How to animate animation-list in Kotlin?", "body": "<p>Nobody asked, but i did it in ANKO, you don't need the background!? Just for somebody how whats to implement awesome animations\u2026   </p>\n\n<p>I am a real ANKO fan!</p>\n\n<p>loadinganim is the animation-list .xml</p>\n\n<pre><code> loadingAnim = imageView{\n   imageResource = R.drawable.loadinganim\n  }\n\nloadingAnim = loadingView.drawable as AnimationDrawable\nloadingAnim.start()\n</code></pre>\n"}], "owner": {"reputation": 667, "user_id": 5990450, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/Iswxg.jpg?s=128&g=1", "display_name": "Mikayel Saghyan", "link": "https://stackoverflow.com/users/5990450/mikayel-saghyan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2484, "favorite_count": 1, "accepted_answer_id": 45586073, "answer_count": 3, "score": 2, "last_activity_date": 1561795762, "creation_date": 1502268641, "last_edit_date": 1502699997, "question_id": 45585866, "link": "https://stackoverflow.com/questions/45585866/how-to-animate-animation-list-in-kotlin", "title": "How to animate animation-list in Kotlin?", "body": "<p>I have an <code>animation list</code> <code>XML</code> in <code>drawables</code>:</p>\n\n<pre><code>&lt;animation-list xmlns:android=\"http://schemas.android.com/apk/res/android\" android:oneshot=\"false\"&gt;\n    &lt;item android:duration=\"40\" android:drawable=\"@drawable/animated_person_0 /&gt;\n    &lt;item android:duration=\"40\" android:drawable=\"@drawable/animated_person_1 /&gt;\n    &lt;item android:duration=\"40\" android:drawable=\"@drawable/animated_person_2 /&gt;\n&lt;/animated-list&gt;\n</code></pre>\n\n<p>I called the <code>list</code> from my <code>content_main.xml</code>:</p>\n\n<pre><code>&lt;ImageView\n    ...\n    android:id=\"@+id/animatedPerson\"\n    android:src=\"@drawable/animatedperson\"\n    ...\n/&gt;\n</code></pre>\n\n<p>And now whatever I try with my code, I can't start the animation.</p>\n"}, {"tags": ["android", "kotlin", "android-components"], "comments": [{"owner": {"reputation": 3001, "user_id": 671580, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ce9e871134885854d5c3e3ab5fa83c3b?s=128&d=identicon&r=PG", "display_name": "shelll", "link": "https://stackoverflow.com/users/671580/shelll"}, "edited": false, "score": 0, "creation_date": 1502268878, "post_id": 45585809, "comment_id": 78130716, "body": "Is the service registered in the manifest?"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 1, "creation_date": 1502270146, "post_id": 45585809, "comment_id": 78131636, "body": "Make sure that <code>startService</code> returns non-null value, this will indicate that service was started. Keep in mind that <code>startService</code> is deprecated in Android O and will throw exception for <code>targetSdk 26</code>."}], "answers": [{"tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": false, "score": 10, "last_activity_date": 1511248769, "last_edit_date": 1511248769, "creation_date": 1502268822, "answer_id": 45585925, "question_id": 45585809, "link": "https://stackoverflow.com/questions/45585809/kotlin-android-start-new-service/45585925#45585925", "title": "kotlin android start new service", "body": "<p>try this</p>\n\n<pre><code> val intent = Intent(context, LocationService::class.java)\n if (context != null) {\n      context.startService(intent)\n }\n</code></pre>\n\n<p>And don't forget to register your <code>service</code> in <code>manifest</code> file</p>\n\n<pre><code> &lt;service  android:name=\"packageName.LocationService\"/&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2517, "user_id": 4312751, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PuJuA.jpg?s=128&g=1", "display_name": "mac229", "link": "https://stackoverflow.com/users/4312751/mac229"}, "is_accepted": false, "score": 1, "last_activity_date": 1502268879, "creation_date": 1502268879, "answer_id": 45585943, "question_id": 45585809, "link": "https://stackoverflow.com/questions/45585809/kotlin-android-start-new-service/45585943#45585943", "title": "kotlin android start new service", "body": "<p>Put declaration of service in AndroidManifest.xml file <br>\ni.e <code>&lt;service android:name=\".LocationService\"/&gt;</code></p>\n"}, {"tags": [], "owner": {"reputation": 77, "user_id": 8422052, "user_type": "registered", "profile_image": "https://graph.facebook.com/1646099438758176/picture?type=large", "display_name": "Albert", "link": "https://stackoverflow.com/users/8422052/albert"}, "is_accepted": false, "score": 1, "last_activity_date": 1502269018, "creation_date": 1502269018, "answer_id": 45585995, "question_id": 45585809, "link": "https://stackoverflow.com/questions/45585809/kotlin-android-start-new-service/45585995#45585995", "title": "kotlin android start new service", "body": "<p>You need to declare your service in AndroidManifest.xml</p>\n\n<pre><code>&lt;manifest ...&gt;\n   &lt;application ...&gt;\n      &lt;service\n          android:name=\"package.LocationService\"&gt;\n      &lt;/service&gt;\n   &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2743, "user_id": 5282127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/951b27605f21a74299bad28ddc456aa1?s=128&d=identicon&r=PG&f=1", "display_name": "Anice Jahanjoo", "link": "https://stackoverflow.com/users/5282127/anice-jahanjoo"}, "is_accepted": false, "score": 5, "last_activity_date": 1572417999, "creation_date": 1572417999, "answer_id": 58619919, "question_id": 45585809, "link": "https://stackoverflow.com/questions/45585809/kotlin-android-start-new-service/58619919#58619919", "title": "kotlin android start new service", "body": "<p>Use safe access compression in kotlin:</p>\n\n<pre><code>val intent = Intent(context, LocationService::class.java)\ncontext?.startService(intent)\n</code></pre>\n\n<p>Also define your service in your manifest. </p>\n"}], "owner": {"reputation": 1082, "user_id": 6903609, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/322d1161fb223d274f3ae1ff88dd2af8?s=128&d=identicon&r=PG&f=1", "display_name": "Logo", "link": "https://stackoverflow.com/users/6903609/logo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11979, "favorite_count": 0, "answer_count": 4, "score": 11, "last_activity_date": 1572417999, "creation_date": 1502268455, "last_edit_date": 1502269406, "question_id": 45585809, "link": "https://stackoverflow.com/questions/45585809/kotlin-android-start-new-service", "title": "kotlin android start new service", "body": "<p>By using the below code, i am trying to start a new service from a <code>Broadcast receiver</code>, but the service is not started. kindly guide me on how to start a service in <code>kotlin</code>?.</p>\n\n<pre><code>val intent = Intent(context, LocationService::class.java)\n if (context != null) {\n      context.startService(intent)\n }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1502267119, "post_id": 45585195, "comment_id": 78129556, "body": "Can you show the method <code>ItemOneFragment.newInstance()</code>?"}, {"owner": {"reputation": 38, "user_id": 3400721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5fd1d5ebeb6a9378a1bfab12185ab1a?s=128&d=identicon&r=PG&f=1", "display_name": "Darshan", "link": "https://stackoverflow.com/users/3400721/darshan"}, "reply_to_user": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1502267465, "post_id": 45585195, "comment_id": 78129760, "body": "Christian Br&#252;ggemann I have made fragment"}, {"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1502267786, "post_id": 45585195, "comment_id": 78129948, "body": "Yes, but can you post the code of that method (and maybe even the whole class) here?"}, {"owner": {"reputation": 38, "user_id": 3400721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5fd1d5ebeb6a9378a1bfab12185ab1a?s=128&d=identicon&r=PG&f=1", "display_name": "Darshan", "link": "https://stackoverflow.com/users/3400721/darshan"}, "reply_to_user": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 0, "creation_date": 1502268451, "post_id": 45585195, "comment_id": 78130423, "body": "I have posted all code @ChristianBr&#252;ggemann"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1502268623, "post_id": 45585195, "comment_id": 78130543, "body": "Where are you assigning <code>supportFragmentManager </code> variable? Check it again and make sure you are calling <code>getSupportFragmentManager()</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "is_accepted": false, "score": 1, "last_activity_date": 1502273978, "creation_date": 1502273978, "answer_id": 45587898, "question_id": 45585195, "link": "https://stackoverflow.com/questions/45585195/how-to-load-fragment-in-kotlin/45587898#45587898", "title": "How to load Fragment in Kotlin?", "body": "<p>It looks like you're importing <code>android.app.Fragment</code> in the file containing your <code>bottomNavigationView</code> code. <code>ItemOneFragment.newInstance()</code> returns <code>android.support.v4.app.Fragment</code>, which would be incompatible with <code>android.app.Fragment</code>.</p>\n\n<p>Changing the import to <code>android.support.v4.app.Fragment</code> should solve the issue.</p>\n"}], "owner": {"reputation": 38, "user_id": 3400721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5fd1d5ebeb6a9378a1bfab12185ab1a?s=128&d=identicon&r=PG&f=1", "display_name": "Darshan", "link": "https://stackoverflow.com/users/3400721/darshan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2359, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1502273978, "creation_date": 1502266523, "last_edit_date": 1502268431, "question_id": 45585195, "link": "https://stackoverflow.com/questions/45585195/how-to-load-fragment-in-kotlin", "title": "How to load Fragment in Kotlin?", "body": "<p>I am new to kotlin I am adding bottom bar in my app</p>\n\n<pre><code>val bottomNavigationView = findViewById&lt;View&gt;(R.id.navigation) as BottomNavigationView\n    BottomNavigationViewHelper.removeShiftMode(bottomNavigationView)\n    bottomNavigationView.setOnNavigationItemSelectedListener { item -&gt;\n        var selectedFragment: Fragment? = null\n        when (item.itemId) {\n            R.id.action_item1 -&gt; selectedFragment = ItemOneFragment.newInstance()\n            R.id.action_item2 -&gt; selectedFragment = ItemTwoFragment.newInstance()\n            R.id.action_item3 -&gt; selectedFragment = ItemThreeFragment.newInstance()\n            R.id.action_item4 -&gt; selectedFragment = ItemThreeFragment.newInstance()\n        }\n        val transaction = supportFragmentManager.beginTransaction()\n        transaction.replace(R.id.frame_layout, selectedFragment)\n        transaction.commit()\n        true\n    }\n\n    //Manually displaying the first fragment - one time only\n    val transaction = supportFragmentManager.beginTransaction()\n    transaction.replace(R.id.frame_layout, ItemOneFragment.newInstance())\n    transaction.commit()\n</code></pre>\n\n<p>ItemOneFragment.java</p>\n\n<pre><code>import android.os.Bundle;\nimport android.support.v4.app.Fragment;\nimport android.view.LayoutInflater;\nimport android.view.View;\n import android.view.ViewGroup;\n public class ItemOneFragment extends Fragment {\n public static ItemOneFragment newInstance() {\n    ItemOneFragment fragment = new ItemOneFragment();\n    return fragment;\n}\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n}\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container,\n                         Bundle savedInstanceState) {\n    return inflater.inflate(R.layout.fragment_item_one, container, false);\n}}\n</code></pre>\n\n<p>But I am getting the error :\ntype mismatch Required : Fragment at ItemOneFragment.newInstance()\nI have tried all stuff \nThanks in advance. </p>\n"}, {"tags": ["android", "kotlin", "android-databinding"], "answers": [{"comments": [{"owner": {"reputation": 2599, "user_id": 291427, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2ec41e25a00ba0b382c9fb390be12267?s=128&d=identicon&r=PG", "display_name": "kmalmur", "link": "https://stackoverflow.com/users/291427/kmalmur"}, "edited": false, "score": 0, "creation_date": 1502274243, "post_id": 45585975, "comment_id": 78134682, "body": "the same issue on AS 3.0 Canary 9"}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "reply_to_user": {"reputation": 2599, "user_id": 291427, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2ec41e25a00ba0b382c9fb390be12267?s=128&d=identicon&r=PG", "display_name": "kmalmur", "link": "https://stackoverflow.com/users/291427/kmalmur"}, "edited": false, "score": 0, "creation_date": 1502275867, "post_id": 45585975, "comment_id": 78135886, "body": "You can raising an issue if you think its really a bug."}], "tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": false, "score": 0, "last_activity_date": 1502268957, "creation_date": 1502268957, "answer_id": 45585975, "question_id": 45585171, "link": "https://stackoverflow.com/questions/45585171/kotlin-kapt-doesnt-show-databinding-errors-when-running-from-android-studio/45585975#45585975", "title": "Kotlin Kapt doesn&#39;t show databinding errors when running from Android Studio", "body": "<p><code>Android Studio 3.0</code> and later version of android studio support <code>Kotlin</code> better. <code>AS 3.0</code> comes with default support with Kotlin as <code>AS 2.3</code> requires a plugin to be installed.</p>\n\n<p><code>Android Studio Team</code> from google and <code>IDEA intellij</code> Team from JetBrain working together to make Kotlin compatible with <code>Android Studio</code>.</p>\n\n<p>Right now 3.0 version comes with Canary version(Preview version) and every week a new preview version (Canary 1, Canary 2 ... and so on) rolls out fixing reported bugs.</p>\n\n<p>So you should try Android Studio 3.0 Canary 9 latest version as of now.</p>\n\n<p>If still problem persists, report this bug.</p>\n"}, {"tags": [], "owner": {"reputation": 8052, "user_id": 2959120, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/hYi2J.jpg?s=128&g=1", "display_name": "Mladen Rakonjac", "link": "https://stackoverflow.com/users/2959120/mladen-rakonjac"}, "is_accepted": false, "score": 1, "last_activity_date": 1511533569, "creation_date": 1511533569, "answer_id": 47475274, "question_id": 45585171, "link": "https://stackoverflow.com/questions/45585171/kotlin-kapt-doesnt-show-databinding-errors-when-running-from-android-studio/47475274#47475274", "title": "Kotlin Kapt doesn&#39;t show databinding errors when running from Android Studio", "body": "<p>You can see the error in <strong>Gradle Console</strong>, something similar to this :</p>\n\n<p><a href=\"https://i.stack.imgur.com/eunIl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eunIl.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 2599, "user_id": 291427, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/2ec41e25a00ba0b382c9fb390be12267?s=128&d=identicon&r=PG", "display_name": "kmalmur", "link": "https://stackoverflow.com/users/291427/kmalmur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 493, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1511533569, "creation_date": 1502266461, "question_id": 45585171, "link": "https://stackoverflow.com/questions/45585171/kotlin-kapt-doesnt-show-databinding-errors-when-running-from-android-studio", "title": "Kotlin Kapt doesn&#39;t show databinding errors when running from Android Studio", "body": "<p>I'm using Kotlin kapt version 3, whenever there is a problem with databinding, the build from Android Studio fails with a very generic error:</p>\n\n<pre><code>Error:Execution failed for task ':app:kaptDev21DebugKotlin'.\n&gt; Internal compiler error. See log for more details\n</code></pre>\n\n<p>When I run the same task from the console, the real problem shows up. Somehow the AS doesn't show this error in message window. </p>\n\n<p>I'm using Android Studio version 2.3.3</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin", "firebaseui"], "answers": [{"tags": [], "owner": {"reputation": 2895, "user_id": 1392452, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/VWPq2.jpg?s=128&g=1", "display_name": "Nicola Giancecchi", "link": "https://stackoverflow.com/users/1392452/nicola-giancecchi"}, "is_accepted": true, "score": 2, "last_activity_date": 1502267401, "creation_date": 1502267401, "answer_id": 45585460, "question_id": 45585102, "link": "https://stackoverflow.com/questions/45585102/using-firebaselistadapter-in-kotlin/45585460#45585460", "title": "Using FirebaseListAdapter in Kotlin", "body": "<p>Solved, the first argument of the <code>FirebaseListAdaptwer</code> constructor (<code>this</code>) wasn't an <code>Activity</code> type.</p>\n"}], "owner": {"reputation": 2895, "user_id": 1392452, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/VWPq2.jpg?s=128&g=1", "display_name": "Nicola Giancecchi", "link": "https://stackoverflow.com/users/1392452/nicola-giancecchi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 690, "favorite_count": 0, "accepted_answer_id": 45585460, "answer_count": 1, "score": 3, "last_activity_date": 1502267401, "creation_date": 1502266281, "question_id": 45585102, "link": "https://stackoverflow.com/questions/45585102/using-firebaselistadapter-in-kotlin", "title": "Using FirebaseListAdapter in Kotlin", "body": "<p>I'm trying to implement a <code>ListView</code> with a <code>FirebaseListAdapter</code> attached on it. I need to display a list of strings inside the adapter, so I'm using <code>String</code> as generic. The structure of the Firebase Database is this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5OPA4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5OPA4.png\" alt=\"enter image description here\"></a></p>\n\n<p>I need to display the keys available under the <code>users</code> node (102127..., 102133..., etc.), so I'm using this code to create the adapter:</p>\n\n<pre><code>val ref = db.getReference(MATCHES_REF).child(match).child(USERS_REF)\nval adapter = object : FirebaseListAdapter&lt;String&gt;(this, String::class.java, R.layout.cell_friends, ref) {\n    override fun populateView(view: View, s: String, i: Int) {\n        val text = view.findViewById(R.id.text_view) as TextView\n        text.text = s\n    }\n}\nlistView?.adapter = adapter\n</code></pre>\n\n<p>This is the error shown in Android Studio:</p>\n\n<blockquote>\n  <p>Error:(50, 32) None of the following functions can be called with the\n  arguments supplied: public constructor FirebaseListAdapter(activity: Activity!, parser: ((DataSnapshot!) -> String!)!,\n  @LayoutRes modelLayout: Int, query: Query!) defined in\n  com.firebase.ui.database.FirebaseListAdapter public constructor\n  FirebaseListAdapter(activity: Activity!, parser:\n  SnapshotParser!, @LayoutRes modelLayout: Int, query: Query!)\n  defined in com.firebase.ui.database.FirebaseListAdapter public\n  constructor FirebaseListAdapter(activity: Activity!,\n  modelClass: Class!, @LayoutRes modelLayout: Int, query:\n  Query!) defined in com.firebase.ui.database.FirebaseListAdapter</p>\n</blockquote>\n\n<p>Any solution?</p>\n"}, {"tags": ["kotlin", "data-class"], "answers": [{"comments": [{"owner": {"reputation": 1384, "user_id": 858448, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a5e40090f95e9e86021c2f3f7d7b9ab2?s=128&d=identicon&r=PG", "display_name": "Ghedeon", "link": "https://stackoverflow.com/users/858448/ghedeon"}, "edited": false, "score": 2, "creation_date": 1504713969, "post_id": 45584419, "comment_id": 79121027, "body": "Another way to trick it into choosing the right method would be to have a different name for copy param. Ex: <code>override fun copy(_age: Int) = copy(age = _age)</code>."}], "tags": [], "owner": {"reputation": 1377, "user_id": 364401, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/056e9a6e0509a9dd97130a2fc1a5cb16?s=128&d=identicon&r=PG", "display_name": "Stim", "link": "https://stackoverflow.com/users/364401/stim"}, "is_accepted": false, "score": 10, "last_activity_date": 1504859450, "last_edit_date": 1504859450, "creation_date": 1502264354, "answer_id": 45584419, "question_id": 45584242, "link": "https://stackoverflow.com/questions/45584242/how-to-update-data-classes-implementing-a-common-interface/45584419#45584419", "title": "How to update data classes implementing a common interface", "body": "<p>[OP:] The best I've come up with is indeed to declare the copy function in the interface:</p>\n\n<pre><code>interface Aging {\n  val age : Int\n  fun copy(age : Int) : Aging\n}\n</code></pre>\n\n<p>This works out of the box for data class subtypes without additional properties (i.e. Cheese from the question). For data class subtypes with additional properties you need to declare it explicitly, since the generated <code>copy</code> function does not override the one from the interface.</p>\n\n<p>The subtype with it's age-copy implementation looks like:</p>\n\n<pre><code>data class Wine(\n  override val age : Int,\n  val grape : String\n) : Aging {\n\n  // Different parameter name, to avoid conflict with generated copy method\n  override fun copy(_age: Int) = copy(age = _age)\n}\n</code></pre>\n\n<p>Hoping for better solutions (or a Kotlin improvement ;) ).</p>\n\n<p><strong>Edit:</strong> updated to follow  Ghedeons suggestion.</p>\n"}], "owner": {"reputation": 1377, "user_id": 364401, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/056e9a6e0509a9dd97130a2fc1a5cb16?s=128&d=identicon&r=PG", "display_name": "Stim", "link": "https://stackoverflow.com/users/364401/stim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2041, "favorite_count": 1, "answer_count": 1, "score": 13, "last_activity_date": 1504859450, "creation_date": 1502263818, "last_edit_date": 1504859347, "question_id": 45584242, "link": "https://stackoverflow.com/questions/45584242/how-to-update-data-classes-implementing-a-common-interface", "title": "How to update data classes implementing a common interface", "body": "<p>I'm struggling with data classes and polymorphism. I want to benefit from the immutability, but still be able to update my state. For this, I'm hoping to be able to use the <code>copy</code> function.</p>\n\n<p>Let's give an example. I have this class hierarchy:</p>\n\n<pre><code>interface Aging {\n  val age : Int\n}\n\ndata class Cheese (\n  override val age : Int\n  // more Cheese specific properties\n) : Aging\n\ndata class Wine (\n  override val age : Int,\n  val grape : String\n  // more Wine specific properties\n) : Aging   \n</code></pre>\n\n<p>And now I want to be able to do something like this (but <em>this</em> does not work):</p>\n\n<pre><code>class RipeningProcess(){\n  fun ripen(products : List&lt;Aging&gt;) =\n    // Not possibe, no copy function on Aging\n    products.map { it.copy(age = it.age + 1) } \n}\n</code></pre>\n\n<p><strong>How can I create updated copies in a polymorphic way?</strong>  </p>\n\n<p>I've tried to give the interface a <code>copy</code> function, but if the subtypes have additional properties they don't override the copy function.<br>\nIt's frustrating since I <em>know</em> the subtypes have that property, but I cannot utilize that knowledge in the interface.</p>\n"}, {"tags": ["android", "kotlin", "extension-function"], "answers": [{"tags": [], "owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "is_accepted": false, "score": 44, "last_activity_date": 1502260581, "last_edit_date": 1502260581, "creation_date": 1502259826, "answer_id": 45583023, "question_id": 45582732, "link": "https://stackoverflow.com/questions/45582732/difference-between-kotlin-also-apply-let-use-takeif-and-takeunless-in-kotlin/45583023#45583023", "title": "difference between kotlin also, apply, let, use, takeIf and takeUnless in Kotlin", "body": "<h2>let</h2>\n\n<p><code>public inline fun &lt;T, R&gt; T.let(block: (T) -&gt; R): R = block(this)</code>  </p>\n\n<p>Take the <em>receiver</em> and pass it to a function passed as a parameter. Return the result of the function. </p>\n\n<pre><code>val myVar = \"hello!\"\nmyVar.let { println(it) } // Output \"hello!\"\n</code></pre>\n\n<p>You can use <code>let</code> for null safety check:</p>\n\n<pre><code>val myVar = if (Random().nextBoolean()) \"hello!\" else null\nmyVar?.let { println(it) } // Output \"hello!\" only if myVar is not null\n</code></pre>\n\n<h2>also</h2>\n\n<p><code>public inline fun &lt;T&gt; T.also(block: (T) -&gt; Unit): T { block(this); return this }</code> </p>\n\n<p>Execute the function passed with the <em>receiver</em> as parameter and return the <em>receiver</em>.<br>\nIt's like let but always return the <em>receiver</em>, not the result of the function.</p>\n\n<p>You can use it for doing something on an object.</p>\n\n<pre><code>val person = Person().also {\n  println(\"Person ${it.name} initialized!\")\n  // Do what you want here...\n}\n</code></pre>\n\n<h2>takeIf</h2>\n\n<p><code>public inline fun &lt;T&gt; T.takeIf(predicate: (T) -&gt; Boolean): T? = if (predicate(this)) this else null</code>  </p>\n\n<p>Return the <em>receiver</em> if the function (predicate) return true, else return null.</p>\n\n<pre><code>println(myVar.takeIf { it is Person } ?: \"Not a person!\")\n</code></pre>\n\n<h2>takeUnless</h2>\n\n<p><code>public inline fun &lt;T&gt; T.takeUnless(predicate: (T) -&gt; Boolean): T? = if (!predicate(this)) this else null</code>  </p>\n\n<p>Same as <code>takeIf</code>, but with predicate reversed. If true, return null, else return the <em>receiver</em>.</p>\n\n<pre><code>println(myVar.takeUnless { it is Person } ?: \"It's a person!\")\n</code></pre>\n\n<h2>Help</h2>\n\n<ul>\n<li>You can use <a href=\"https://try.kotlinlang.org/\" rel=\"noreferrer\">https://try.kotlinlang.org/</a> for testing easily. You can find examples <a href=\"https://try.kotlinlang.org/#/UserProjects/khtmi67bs418h4j2ocpiji089a/dipu5dmhj7orvf1g9c8q7604t9\" rel=\"noreferrer\">here</a>.</li>\n<li>You can checkout the source of the standard lib <a href=\"https://github.com/JetBrains/kotlin/tree/master/libraries/stdlib\" rel=\"noreferrer\">here</a>. <code>let</code>, <code>also</code>, <code>takeIf</code> and <code>takeUnless</code> <a href=\"https://github.com/JetBrains/kotlin/blob/1.0.1/libraries/stdlib/src/kotlin/util/Standard.kt\" rel=\"noreferrer\">here</a>.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "is_accepted": true, "score": 19, "last_activity_date": 1598946627, "last_edit_date": 1598946627, "creation_date": 1512730125, "answer_id": 47712786, "question_id": 45582732, "link": "https://stackoverflow.com/questions/45582732/difference-between-kotlin-also-apply-let-use-takeif-and-takeunless-in-kotlin/47712786#47712786", "title": "difference between kotlin also, apply, let, use, takeIf and takeUnless in Kotlin", "body": "<p><strong>let, also, apply, takeIf, takeUnless</strong> are extension functions in Kotlin.</p>\n<p>To understand these function you have to understand <strong>Extension functions</strong> and <strong>Lambda functions</strong> in Kotlin.</p>\n<p><strong>Extension Function:</strong></p>\n<p>By the use of extension function, we can create a function for a class without inheriting a class.</p>\n<blockquote>\n<p>Kotlin, similar to C# and Gosu, provides the ability to extend a class\nwith new functionality without having to inherit from the class or use\nany type of design pattern such as Decorator. This is done via special\ndeclarations called extensions. Kotlin supports extension functions\nand extension properties.</p>\n</blockquote>\n<p>So, to find if only numbers in the <code>String</code>, you can create a method like below without inheriting <code>String</code> class.</p>\n<pre><code>fun String.isNumber(): Boolean = this.matches(&quot;[0-9]+&quot;.toRegex())\n</code></pre>\n<p>you can use the above <strong>extension function</strong> like this,</p>\n<pre><code>val phoneNumber = &quot;8899665544&quot;\nprintln(phoneNumber.isNumber())\n</code></pre>\n<p>which is prints <code>true</code>.</p>\n<p><strong>Lambda Functions:</strong></p>\n<p>Lambda functions are just like Interface (contains only one method. Also called as Single Abstract Method) in Java. From Java 8 lambdas are available in java also. In Kotlin lambdas used everywhere. Mostly lambdas passed as a parameter in a function.</p>\n<p>Example:</p>\n<pre><code>fun String.isNumber(block: () -&gt; Unit): Boolean {\n    return if (this.matches(&quot;[0-9]+&quot;.toRegex())) {\n        block()\n        true\n    } else false\n}\n</code></pre>\n<p>You can see, the block is a lambda function and it is passed as a parameter. You can use the above function like this,</p>\n<pre><code>val phoneNumber = &quot;8899665544&quot;\nphoneNumber.isNumber {\n   println(&quot;Block executed&quot;)\n}\n</code></pre>\n<p>The above function will print like this,</p>\n<pre><code>Block executed\n</code></pre>\n<p>I hope, now you got an idea about Extension functions and Lambda functions. Now we can go to Extension functions one by one.</p>\n<p><strong>let</strong></p>\n<pre><code>public inline fun &lt;T, R&gt; T.let(block: (T) -&gt; R): R = block(this)\n</code></pre>\n<p>Two Types T and R used in the above function.</p>\n<pre><code>T.let\n</code></pre>\n<p><code>T</code> could be any object like String, number, or any type. So you can invoke this function with any objects.</p>\n<pre><code>block: (T) -&gt; R\n</code></pre>\n<p>You can see the lambda function In parameter of let the invoking object is passed as a parameter of the function. So you can use the invoking class object inside the function. then it returns the <code>R</code> (another object).</p>\n<p>Example:</p>\n<pre><code>val phoneNumber = &quot;8899665544&quot;\nval numberAndCount: Pair&lt;Int, Int&gt; = phoneNumber.let { it.toInt() to it.count() }\n</code></pre>\n<p>In above example let takes <strong>String</strong> as a parameter of its lambda function and it returns <strong>Pair</strong> in return.</p>\n<p>In the same way, other extension functions works.</p>\n<p><strong>also</strong></p>\n<pre><code>public inline fun &lt;T&gt; T.also(block: (T) -&gt; Unit): T { block(this); return this }\n</code></pre>\n<p>extension function <code>also</code> takes the invoking class as a lambda function parameter and returns nothing.</p>\n<p>Example:</p>\n<pre><code>val phoneNumber = &quot;8899665544&quot;\nphoneNumber.also { number -&gt;\n    println(number.contains(&quot;8&quot;))\n    println(number.length)\n }\n</code></pre>\n<p><strong>apply</strong></p>\n<pre><code>public inline fun &lt;T&gt; T.apply(block: T.() -&gt; Unit): T { block(); return this }\n</code></pre>\n<p>Same as also but the same invoking object passed as the function so you can use the functions and other properties without calling it or parameter name.</p>\n<p>Example:</p>\n<pre><code>val phoneNumber = &quot;8899665544&quot;\nphoneNumber.apply { \n    println(contains(&quot;8&quot;))\n    println(length)\n }\n</code></pre>\n<p>You can see in the above example the functions of String class directly invoked inside the lambda funtion.</p>\n<p><strong>takeIf</strong></p>\n<pre><code>public inline fun &lt;T&gt; T.takeIf(predicate: (T) -&gt; Boolean): T? = if (predicate(this)) this else null\n</code></pre>\n<p>Example:</p>\n<pre><code>val phoneNumber = &quot;8899665544&quot;\nval number = phoneNumber.takeIf { it.matches(&quot;[0-9]+&quot;.toRegex()) }\n</code></pre>\n<p>In above example <code>number</code> will have a string of <code>phoneNumber</code> only it matches the <code>regex</code>. Otherwise, it will be <code>null</code>.</p>\n<p><strong>takeUnless</strong></p>\n<pre><code>public inline fun &lt;T&gt; T.takeUnless(predicate: (T) -&gt; Boolean): T? = if (!predicate(this)) this else null\n</code></pre>\n<p>It is the reverse of takeIf.</p>\n<p>Example:</p>\n<pre><code>val phoneNumber = &quot;8899665544&quot;\nval number = phoneNumber.takeUnless { it.matches(&quot;[0-9]+&quot;.toRegex()) }\n</code></pre>\n<p><code>number</code> will have a string of <code>phoneNumber</code> only if not matches the <code>regex</code>. Otherwise, it will be <code>null</code>.</p>\n"}], "owner": {"reputation": 11295, "user_id": 5558150, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9GtP.jpg?s=128&g=1", "display_name": "Bhuvanesh BS", "link": "https://stackoverflow.com/users/5558150/bhuvanesh-bs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 14511, "favorite_count": 12, "accepted_answer_id": 47712786, "answer_count": 2, "score": 26, "last_activity_date": 1598946627, "creation_date": 1502258634, "last_edit_date": 1526107806, "question_id": 45582732, "link": "https://stackoverflow.com/questions/45582732/difference-between-kotlin-also-apply-let-use-takeif-and-takeunless-in-kotlin", "title": "difference between kotlin also, apply, let, use, takeIf and takeUnless in Kotlin", "body": "<p>I read many Kotlin documents about these items. But I can't understand so clearly.</p>\n\n<p>What is the use of Kotlin <strong>let</strong>, <strong>also</strong>, <strong>takeIf</strong> and <strong>takeUnless</strong> in detail?</p>\n\n<p>I need an example of each item. Please don't post the Kotlin documentation. I need a real-time example and use cases of these items.</p>\n"}, {"tags": ["java", "android", "button", "onclick", "kotlin"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1502254915, "post_id": 45581530, "comment_id": 78123149, "body": "You can try to copy this code to Android Studio and see what you get."}], "answers": [{"comments": [{"owner": {"reputation": 409, "user_id": 7696752, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/97a4678a6e70062260f9c4d1c7f5bd67?s=128&d=identicon&r=PG&f=1", "display_name": "Anand Rajput", "link": "https://stackoverflow.com/users/7696752/anand-rajput"}, "edited": false, "score": 0, "creation_date": 1502252115, "post_id": 45581562, "comment_id": 78122369, "body": "I have tried but the view object can&#39;t be cast to Button. Can you post the full code where the view object was declared? Thanks"}, {"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 1, "creation_date": 1597265008, "post_id": 45581562, "comment_id": 112079934, "body": "This seems the most &quot;kotlinish,&quot; but the code won&#39;t compile.  The <code>when</code> statement needs to handle the nullable with !!. or ?.  In my case I chose to throw an exception, so that line should be <code>when(v!!.id) {</code>"}, {"owner": {"reputation": 1050, "user_id": 2379746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7e1395d5244036d7199c42112b354e?s=128&d=identicon&r=PG", "display_name": "Kharda", "link": "https://stackoverflow.com/users/2379746/kharda"}, "reply_to_user": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 1, "creation_date": 1597398658, "post_id": 45581562, "comment_id": 112126013, "body": "@SMBiggs oh yes, you&#39;re right. Just realize it. You can add a null checker for the v, like <code>when(v?.id) {</code>. I&#39;ve updated the answer. Thanks!"}], "tags": [], "owner": {"reputation": 1050, "user_id": 2379746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7e1395d5244036d7199c42112b354e?s=128&d=identicon&r=PG", "display_name": "Kharda", "link": "https://stackoverflow.com/users/2379746/kharda"}, "is_accepted": false, "score": 4, "last_activity_date": 1597398477, "last_edit_date": 1597398477, "creation_date": 1502251852, "answer_id": 45581562, "question_id": 45581530, "link": "https://stackoverflow.com/questions/45581530/multiple-click-listeners-on-buttons/45581562#45581562", "title": "Multiple click listeners on buttons", "body": "<p>Yes, in Kotlin you can do it like this:</p>\n<pre><code>view.setOnClickListener(object : View.OnClickListener {\n    override fun onClick(v: View?) {\n        when(v?.id) {\n            R.id.imgBack -&gt; {/* do your code */}\n            R.id.twoButton -&gt; {/* do your code */}\n            R.id.threeButton -&gt; {/* do your code */}\n            else -&gt; {/* do your code */}\n        }\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1125, "user_id": 5049244, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/oudcJ.png?s=128&g=1", "display_name": "Arnold Brown", "link": "https://stackoverflow.com/users/5049244/arnold-brown"}, "edited": false, "score": 3, "creation_date": 1519013266, "post_id": 45581580, "comment_id": 84722215, "body": "Question asked for Kotlin and you gave the answer in Java."}], "tags": [], "owner": {"reputation": 696, "user_id": 8420175, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/q6wtL.jpg?s=128&g=1", "display_name": "Harshit Trivedi", "link": "https://stackoverflow.com/users/8420175/harshit-trivedi"}, "is_accepted": false, "score": -1, "last_activity_date": 1502255620, "last_edit_date": 1502255620, "creation_date": 1502252014, "answer_id": 45581580, "question_id": 45581530, "link": "https://stackoverflow.com/questions/45581530/multiple-click-listeners-on-buttons/45581580#45581580", "title": "Multiple click listeners on buttons", "body": "<p>Try below like this.</p>\n\n<pre><code>  public class MainActivity extends Activity implements View.OnClickListener{\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Button xyz = (Button) findViewById(R.id.xyz);\n        xyz.setOnClickListener(this);\n    }\n    @Override\n    public void onClick(View v) { \n    }}\n</code></pre>\n\n<p>More detailed information at <a href=\"https://androidacademic.blogspot.in/2016/12/multiple-buttons-onclicklistener-android.html\" rel=\"nofollow noreferrer\">https://androidacademic.blogspot.in/2016/12/multiple-buttons-onclicklistener-android.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 172, "user_id": 10752962, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oxgTMoW5-o0/AAAAAAAAAAI/AAAAAAAAIG0/1s_a3YbmpQA/photo.jpg?sz=128", "display_name": "Vivek Thummar", "link": "https://stackoverflow.com/users/10752962/vivek-thummar"}, "edited": false, "score": 0, "creation_date": 1618474500, "post_id": 45581727, "comment_id": 118613374, "body": "in java we do something like - <code>case R.id.oneButton:         case R.id.twoButton:         &#47;&#47; do your code         break;</code> when we have two different buttons for same task, how can we achieve this in kotlin??"}, {"owner": {"reputation": 172, "user_id": 10752962, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oxgTMoW5-o0/AAAAAAAAAAI/AAAAAAAAIG0/1s_a3YbmpQA/photo.jpg?sz=128", "display_name": "Vivek Thummar", "link": "https://stackoverflow.com/users/10752962/vivek-thummar"}, "edited": false, "score": 0, "creation_date": 1618484146, "post_id": 45581727, "comment_id": 118617562, "body": "ohk, i found the way to do the same in kotlin, <code>case R.id.oneButton, case R.id.twoButton -&gt;</code> and it&#39;s done..."}], "tags": [], "owner": {"reputation": 9509, "user_id": 1380032, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/56881b805678c0352d3d4f92a908ffbf?s=128&d=identicon&r=PG", "display_name": "Rahul", "link": "https://stackoverflow.com/users/1380032/rahul"}, "is_accepted": true, "score": 4, "last_activity_date": 1531149571, "last_edit_date": 1531149571, "creation_date": 1502253101, "answer_id": 45581727, "question_id": 45581530, "link": "https://stackoverflow.com/questions/45581530/multiple-click-listeners-on-buttons/45581727#45581727", "title": "Multiple click listeners on buttons", "body": "<p>First of all implement <code>OnClickListener</code> in your <code>Activity</code>, like </p>\n\n<pre><code>class MainActivity : Activity , OnClickListener\n</code></pre>\n\n<p>then override its implementation like </p>\n\n<pre><code>func onClick(v:View) {  \n   //use when here like\n   case R.id.youview -&gt; {\n   // do your work on click of view\n    }\n</code></pre>\n\n<p>Don't forgot to set clicklistener on your <code>View</code>. </p>\n\n<pre><code>  yourView.setOnClickListener(this)\n</code></pre>\n\n<p>Or for better understanding go step by step -</p>\n\n<ol>\n<li><p>Implement <code>OnClickListener</code> in your <code>Activity</code>.</p></li>\n<li><p>Compiler will ask you to implement overrided methods. Implement those.</p></li>\n<li><p>Copy paste your java code which you wrote inside <code>onClick</code> method, that can be converted by kotlin itself or write down <code>when</code> conditions.</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 172, "user_id": 10752962, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oxgTMoW5-o0/AAAAAAAAAAI/AAAAAAAAIG0/1s_a3YbmpQA/photo.jpg?sz=128", "display_name": "Vivek Thummar", "link": "https://stackoverflow.com/users/10752962/vivek-thummar"}, "edited": false, "score": 0, "creation_date": 1608528344, "post_id": 45581859, "comment_id": 115602004, "body": "In java i&#39;m declaring buttons like this : <code>Button btn1, btn2;</code>, how can i declare multiple buttons in single line in kotlin?"}, {"owner": {"reputation": 477, "user_id": 6011758, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/78deaf9b9ff4d6f044ff8b91a37445f0?s=128&d=identicon&r=PG&f=1", "display_name": "rockstar", "link": "https://stackoverflow.com/users/6011758/rockstar"}, "reply_to_user": {"reputation": 172, "user_id": 10752962, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-oxgTMoW5-o0/AAAAAAAAAAI/AAAAAAAAIG0/1s_a3YbmpQA/photo.jpg?sz=128", "display_name": "Vivek Thummar", "link": "https://stackoverflow.com/users/10752962/vivek-thummar"}, "edited": false, "score": 1, "creation_date": 1608624693, "post_id": 45581859, "comment_id": 115633356, "body": "Using this syntax is discouraged, thus some newer languages like <i>Kotlin don&#39;t even allow them</i>."}], "tags": [], "owner": {"reputation": 477, "user_id": 6011758, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/78deaf9b9ff4d6f044ff8b91a37445f0?s=128&d=identicon&r=PG&f=1", "display_name": "rockstar", "link": "https://stackoverflow.com/users/6011758/rockstar"}, "is_accepted": false, "score": 4, "last_activity_date": 1502253990, "creation_date": 1502253990, "answer_id": 45581859, "question_id": 45581530, "link": "https://stackoverflow.com/questions/45581530/multiple-click-listeners-on-buttons/45581859#45581859", "title": "Multiple click listeners on buttons", "body": "<p>You can try this following code:</p>\n\n<pre><code>class Testing:AppCompatActivity(), View.OnClickListener {\n  private val mButton1:Button\n  private val mButton2:Button\n  protected fun onCreate(savedInstanceState:Bundle) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_testing)\n    mButton1 = findViewById(R.id.btn_click) as Button\n    mButton2 = findViewById(R.id.btn_click1) as Button\n    mButton1.setOnClickListener(this)\n    mButton2.setOnClickListener(this)\n  }\n  fun onClick(view:View) {\n    when (view.getId()) {\n      R.id.btn_click -&gt; {\n        Toast.makeText(this, \"button 1\", Toast.LENGTH_SHORT).show()\n      }\n      R.id.btn_click1 -&gt; {\n        Toast.makeText(this, \"button 2\", Toast.LENGTH_SHORT).show()\n      }\n      else -&gt; {}\n    }\n  }\n}\n</code></pre>\n\n<p>I hope this is help you.</p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 8437527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SlEIT.jpg?s=128&g=1", "display_name": "Mengheang", "link": "https://stackoverflow.com/users/8437527/mengheang"}, "is_accepted": false, "score": 2, "last_activity_date": 1502357818, "last_edit_date": 1502357818, "creation_date": 1502263022, "answer_id": 45583990, "question_id": 45581530, "link": "https://stackoverflow.com/questions/45581530/multiple-click-listeners-on-buttons/45583990#45583990", "title": "Multiple click listeners on buttons", "body": "<p>This code worked for me:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    imgBack.setOnClickListener(this)\n    twoButton.setOnClickListener(this)\n    threeButton.setOnClickListener(this)\n}\n\noverride fun onClick(view:View) {\n    when (view.id) {\n        R.id.imgBack -&gt; {\n            Toast.makeText(this, \"imgBack\", Toast.LENGTH_SHORT).show()\n        }\n        R.id.twoButton -&gt; {\n            Toast.makeText(this, \"twoButton\", Toast.LENGTH_SHORT).show()\n        }\n        else -&gt; {}\n    }\n}\n</code></pre>\n\n<p>Don't forget implement <code>View.OnClickListener</code> in your class.</p>\n"}, {"tags": [], "owner": {"reputation": 1604, "user_id": 6630837, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/EsA91.jpg?s=128&g=1", "display_name": "Sudheesh R", "link": "https://stackoverflow.com/users/6630837/sudheesh-r"}, "is_accepted": false, "score": 8, "last_activity_date": 1562301491, "last_edit_date": 1562301491, "creation_date": 1511345729, "answer_id": 47432009, "question_id": 45581530, "link": "https://stackoverflow.com/questions/45581530/multiple-click-listeners-on-buttons/47432009#47432009", "title": "Multiple click listeners on buttons", "body": "<p>For multiple onClickListeners in <code>kotlin</code> <code>(version:1.1.60)</code>, the following helped me. Hope it'll be useful to someone else too.</p>\n\n<p>Implement <code>OnClickListener</code> to activity like: </p>\n\n<pre><code>class YourActivity : AppCompatActivity(), View.OnClickListener\n</code></pre>\n\n<p>set your button in <code>onCreate()</code>:</p>\n\n<pre><code>val button = findViewById&lt;Button&gt;(R.id.buttonId)\n</code></pre>\n\n<p>and assign <code>onclick</code> to the button in <code>onCreate()</code>:</p>\n\n<pre><code>button.setOnClickListener { onClick(button) }\n</code></pre>\n\n<p>and in the override method of <code>onClick()</code> :</p>\n\n<pre><code> override fun onClick(v: View) {\n    when (v.id) {\n        R.id.buttonId -&gt; { //your code  }\n        ..\n        ..\n        ..\n        else -&gt; { //your code  }\n   }\n }\n</code></pre>\n"}], "owner": {"reputation": 409, "user_id": 7696752, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/97a4678a6e70062260f9c4d1c7f5bd67?s=128&d=identicon&r=PG&f=1", "display_name": "Anand Rajput", "link": "https://stackoverflow.com/users/7696752/anand-rajput"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13514, "favorite_count": 2, "accepted_answer_id": 45581727, "answer_count": 6, "score": 7, "last_activity_date": 1597398477, "creation_date": 1502251616, "last_edit_date": 1529341482, "question_id": 45581530, "link": "https://stackoverflow.com/questions/45581530/multiple-click-listeners-on-buttons", "title": "Multiple click listeners on buttons", "body": "<p>I want to know how to add multiple click events to buttons defined in XML, as previously, in Java, we implemented <code>View.onClickListener</code> interface and did the rest of the work in <code>onClick</code> method.<br>\nExample:</p>\n\n<pre><code>@Override\npublic void onClick(View v) {\n\nswitch (v.getId()) {\n\n    case R.id.oneButton:\n        // do your code\n        break;\n\n    case R.id.twoButton:\n        // do your code\n        break;\n\n    case R.id.threeButton:\n        // do your code\n        break;\n\n    default:\n        break;\n    }\n\n}\n</code></pre>\n\n<p>I'm making a basic calculator app with the new Kotlin but it seems Kotlin has no such provisions, instead my code looks too long and verbose, as I'm attaching events to all buttons individually.<br>\nCan someone tell me how to do the same way in Kotlin? Thanks</p>\n"}, {"tags": ["intellij-idea", "kotlin", "intellij-plugin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 0, "creation_date": 1502251200, "post_id": 45581424, "comment_id": 78122140, "body": "Please file an issue at <a href=\"https://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/KT</a> and attach the CPU snapshot (<a href=\"https://intellij-support.jetbrains.com/hc/articles/207241235\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/articles/207241235</a>)."}, {"owner": {"reputation": 593, "user_id": 1076720, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/559826338/picture?type=large", "display_name": "Kelvin", "link": "https://stackoverflow.com/users/1076720/kelvin"}, "reply_to_user": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 0, "creation_date": 1502251568, "post_id": 45581424, "comment_id": 78122237, "body": "I did, no response, <a href=\"https://youtrack.jetbrains.com/issue/KT-19509\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-19509</a>. Since this issue is fairly common, I wanted to see if other developers have a fix for this."}, {"owner": {"reputation": 75, "user_id": 944725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8e9e25d6deef9d82b4e4e83cd4cf502?s=128&d=identicon&r=PG", "display_name": "Priyanka", "link": "https://stackoverflow.com/users/944725/priyanka"}, "edited": false, "score": 1, "creation_date": 1580907364, "post_id": 45581424, "comment_id": 106251189, "body": "I am also facing a similar issue with Kotlin 1.3. Does anyone has found a solution to this problem?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9514304"}, "edited": false, "score": 17, "creation_date": 1558222062, "post_id": 45589467, "comment_id": 99029541, "body": "Is it back in Kotlin 1.3.31? I&#39;m just switching over from Java now.. and man, code completion is slooooooow. I mean, I can type faster than waiting for auto-complete. WTH? I&#39;m sure it&#39;s not meant to be this way.. Google says devs love Kotlin.."}, {"owner": {"reputation": 2384, "user_id": 452486, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/a8k4V.jpg?s=128&g=1", "display_name": "Arst", "link": "https://stackoverflow.com/users/452486/arst"}, "edited": false, "score": 3, "creation_date": 1562500138, "post_id": 45589467, "comment_id": 100386089, "body": "I have the same issue.. especially with one of file in project which has 1xxx lines of code. It takes like 2 seconds to show auto completion on every typing....terrible."}, {"owner": {"reputation": 7558, "user_id": 966104, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/ff370f6bd04596d5928ef29e33b25864?s=128&d=identicon&r=PG", "display_name": "Yona Appletree", "link": "https://stackoverflow.com/users/966104/yona-appletree"}, "edited": false, "score": 1, "creation_date": 1601072591, "post_id": 45589467, "comment_id": 113301286, "body": "Despite all the improvements JetBrains has done recently, Kotlin autocompletion and highlighting speed is still terrible. I really hope they sort it out soon, with all the improvements Java has been making, I&#39;d be tempted to go back. IDE speed is critical."}, {"owner": {"reputation": 6655, "user_id": 945034, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/693380f79095fd9d986297968b573226?s=128&d=identicon&r=PG", "display_name": "Kumar Sambhav", "link": "https://stackoverflow.com/users/945034/kumar-sambhav"}, "edited": false, "score": 5, "creation_date": 1601277779, "post_id": 45589467, "comment_id": 113345895, "body": "Facing this with IntelliJ Ultimate 2020 and kotlin 1.3 &amp; kotlin 1.4"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 6, "last_activity_date": 1502278298, "creation_date": 1502278298, "answer_id": 45589467, "question_id": 45581424, "link": "https://stackoverflow.com/questions/45581424/extremely-slow-in-autocompletion-code-analysis-for-kotlin-projects-in-intellij/45589467#45589467", "title": "Extremely slow in autocompletion &amp; code analysis for Kotlin projects in Intellij IDEA", "body": "<p>The problem visible in your snapshot is resolved in Kotlin 1.1.4. As of this writing, it's available as an EAP (Early Access Preview) release; the final version will be released soon (and bundled with IntelliJ IDEA 2017.2.2).</p>\n"}, {"tags": [], "owner": {"reputation": 593, "user_id": 1076720, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/559826338/picture?type=large", "display_name": "Kelvin", "link": "https://stackoverflow.com/users/1076720/kelvin"}, "is_accepted": false, "score": 0, "last_activity_date": 1502302763, "creation_date": 1502302763, "answer_id": 45597992, "question_id": 45581424, "link": "https://stackoverflow.com/questions/45581424/extremely-slow-in-autocompletion-code-analysis-for-kotlin-projects-in-intellij/45597992#45597992", "title": "Extremely slow in autocompletion &amp; code analysis for Kotlin projects in Intellij IDEA", "body": "<p>I've reached out to JetBrian and submitted a request to YouTrack. After reviewing the CPU snapshot, looks like upgrading the Kotlin plugin 1.1.4-eap which includes a major fix in performance will fix the issue. Just tried it and it worked!</p>\n"}, {"comments": [{"owner": {"reputation": 3719, "user_id": 2550406, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GhBMm.png?s=128&g=1", "display_name": "lucidbrot", "link": "https://stackoverflow.com/users/2550406/lucidbrot"}, "edited": false, "score": 1, "creation_date": 1578770945, "post_id": 58075585, "comment_id": 105550336, "body": "Still happens in <code>IntelliJ 11.0.5</code> where this checkbox is not checked (neither by default nor now that it is happening)"}], "tags": [], "owner": {"reputation": 61, "user_id": 1004836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/522f6d1200fb6998772c6f5f9c160d46?s=128&d=identicon&r=PG", "display_name": "Erick Pranata", "link": "https://stackoverflow.com/users/1004836/erick-pranata"}, "is_accepted": false, "score": 2, "last_activity_date": 1569311741, "creation_date": 1569311741, "answer_id": 58075585, "question_id": 45581424, "link": "https://stackoverflow.com/questions/45581424/extremely-slow-in-autocompletion-code-analysis-for-kotlin-projects-in-intellij/58075585#58075585", "title": "Extremely slow in autocompletion &amp; code analysis for Kotlin projects in Intellij IDEA", "body": "<p>Still happens in Kotlin 1.3.50. Got resolved by disabling <code>Add unambiguous imports on the fly</code> in <code>Settings &gt; Editor &gt; General &gt; Auto Import</code></p>\n"}, {"comments": [{"owner": {"reputation": 75, "user_id": 944725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8e9e25d6deef9d82b4e4e83cd4cf502?s=128&d=identicon&r=PG", "display_name": "Priyanka", "link": "https://stackoverflow.com/users/944725/priyanka"}, "edited": false, "score": 0, "creation_date": 1580907693, "post_id": 59505805, "comment_id": 106251322, "body": "I am facing this issue with Kotlin-1.3 and this solution worked for me with a slightly higher value for Xms1024 along with what you have mentioned in the solution. Thanks for sharing."}], "tags": [], "owner": {"reputation": 641, "user_id": 1409784, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/maIPr.jpg?s=128&g=1", "display_name": "Nigel Savage", "link": "https://stackoverflow.com/users/1409784/nigel-savage"}, "is_accepted": false, "score": 2, "last_activity_date": 1577479123, "creation_date": 1577479123, "answer_id": 59505805, "question_id": 45581424, "link": "https://stackoverflow.com/questions/45581424/extremely-slow-in-autocompletion-code-analysis-for-kotlin-projects-in-intellij/59505805#59505805", "title": "Extremely slow in autocompletion &amp; code analysis for Kotlin projects in Intellij IDEA", "body": "<p>I recently ran into this with a Kotlin gradle multi module project. I managed to get back to a good code analysis and  completion speed by massively increasing my memory settings in the vmoptions, this is what they look like now</p>\n\n<pre><code>-Xms512m\n-Xmx16384m\n-XX:ReservedCodeCacheSize=960m\n-XX:+UseConcMarkSweepGC\n-XX:SoftRefLRUPolicyMSPerMB=100\n-ea\n-XX:CICompilerCount=2\n-Dsun.io.useCanonPrefixCache=false\n-Djava.net.preferIPv4Stack=true\n-Djdk.http.auth.tunneling.disabledSchemes=\"\"\n-XX:+HeapDumpOnOutOfMemoryError\n-XX:-OmitStackTraceInFastThrow\n-Djdk.attach.allowAttachSelf=true\n-Dkotlinx.coroutines.debug=off\n-Djdk.module.illegalAccess.silent=true\n-Dawt.useSystemAAFontSettings=lcd\n-Dsun.java2d.renderer=sun.java2d.marlin.MarlinRenderingEngine\n-Dsun.tools.attach.tmp.only=true\n</code></pre>\n"}], "owner": {"reputation": 593, "user_id": 1076720, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/559826338/picture?type=large", "display_name": "Kelvin", "link": "https://stackoverflow.com/users/1076720/kelvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5525, "favorite_count": 4, "accepted_answer_id": 45589467, "answer_count": 4, "score": 18, "last_activity_date": 1577479123, "creation_date": 1502250858, "question_id": 45581424, "link": "https://stackoverflow.com/questions/45581424/extremely-slow-in-autocompletion-code-analysis-for-kotlin-projects-in-intellij", "title": "Extremely slow in autocompletion &amp; code analysis for Kotlin projects in Intellij IDEA", "body": "<p>We have a project on IDEA that consists of a couple med sized Java packages and one very small Kotlin package (5 files). I noticed performance is fine with any Java packages, but it's 10x slower in autocompletion, code analysis and compilation for the very small Kotlin package. Autocompletion occasionally was so slow to a point where the popover couldn't load all the methods and it had to load a couple API incrementally. Every time our developer types a word and wait for autocomplete, it takes about 2-5 seconds for the expected autocomplete to show up. Sometimes autocomplete was too slow to show anything, and we had to cancel the word and retyped it and waited. Same slowness occurs in code analysis. This is significantly impacting my team's productivity. From our research, it appears this is a well-known long lasting issue. This also happens for our another small project. I was wondering what we can do to fix this? Thanks.</p>\n\n<p>Kotlin plugin is latest, Version: 1.1.3-release-IJ2017.2-2\nIntellij is also on latest version, 2017 2.1 (built on July 31 2017)</p>\n"}, {"tags": ["android", "kotlin", "drawerlayout"], "comments": [{"owner": {"reputation": 18360, "user_id": 2911458, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3a6060bc7ace07fa75791cd5dac2d46a?s=128&d=identicon&r=PG", "display_name": "stkent", "link": "https://stackoverflow.com/users/2911458/stkent"}, "edited": false, "score": 0, "creation_date": 1502245759, "post_id": 45579737, "comment_id": 78120802, "body": "What version of the support library are you using?"}, {"owner": {"reputation": 18360, "user_id": 2911458, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3a6060bc7ace07fa75791cd5dac2d46a?s=128&d=identicon&r=PG", "display_name": "stkent", "link": "https://stackoverflow.com/users/2911458/stkent"}, "edited": false, "score": 0, "creation_date": 1502245887, "post_id": 45579737, "comment_id": 78120834, "body": "Posting for reference: <a href=\"https://android.googlesource.com/platform/frameworks/support/+/407e01608ccafe5dc24f82608583f71c34312f9c/v4/java/android/support/v4/widget/DrawerLayout.java#626\" rel=\"nofollow noreferrer\">android.googlesource.com/platform/frameworks/support/+/&hellip;</a> Not sure what version of the library that corresponds to though."}, {"owner": {"reputation": 1564, "user_id": 1129647, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5b0dcd2a60e21a57484e643f685248c3?s=128&d=identicon&r=PG", "display_name": "TomTaila", "link": "https://stackoverflow.com/users/1129647/tomtaila"}, "reply_to_user": {"reputation": 18360, "user_id": 2911458, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3a6060bc7ace07fa75791cd5dac2d46a?s=128&d=identicon&r=PG", "display_name": "stkent", "link": "https://stackoverflow.com/users/2911458/stkent"}, "edited": false, "score": 0, "creation_date": 1502257244, "post_id": 45579737, "comment_id": 78123991, "body": "@stkent support library version 26.0.0"}], "answers": [{"tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": false, "score": 0, "last_activity_date": 1502244830, "last_edit_date": 1502244830, "creation_date": 1502243734, "answer_id": 45580516, "question_id": 45579737, "link": "https://stackoverflow.com/questions/45579737/why-does-using-a-drawerlayout-give-illegalargumentexception-drawerlayout-must-b/45580516#45580516", "title": "Why does using a DrawerLayout give IllegalArgumentException: DrawerLayout must be measured with MeasureSpec.EXACTLY", "body": "<p>The width needs to be specified in dpi, not \"wrap_content\"(see <a href=\"https://developer.android.com/training/implementing-navigation/nav-drawer.html#Init\" rel=\"nofollow noreferrer\">navigation drawer documentation</a>)</p>\n\n<blockquote>\n  <p>\u2022The drawer view specifies its width in dp units and the height matches the parent view. The drawer width should be no more than 320dp so the user can always see a portion of the main content</p>\n</blockquote>\n\n<p><strong>EDIT</strong> As far as your child class goes, does it give the same error?  I am guessing that when the \"wrap_content\" size is computed, that the actual width is not valid (perhaps zero).  You should check the width in onMeasure and make sure it is within limits (greater than zero, substantially less than the parent width so that it can still be seen when drawer is open).</p>\n"}], "owner": {"reputation": 1564, "user_id": 1129647, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/5b0dcd2a60e21a57484e643f685248c3?s=128&d=identicon&r=PG", "display_name": "TomTaila", "link": "https://stackoverflow.com/users/1129647/tomtaila"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 184, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502244830, "creation_date": 1502237393, "question_id": 45579737, "link": "https://stackoverflow.com/questions/45579737/why-does-using-a-drawerlayout-give-illegalargumentexception-drawerlayout-must-b", "title": "Why does using a DrawerLayout give IllegalArgumentException: DrawerLayout must be measured with MeasureSpec.EXACTLY", "body": "<p>The following is my xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout&gt;\n\n&lt;android.support.v4.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/root_drawer_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"tailamade.boop.CustomerHomeActivity\"\n    tools:openDrawer=\"start\"&gt;\n\n    &lt;include\n        layout=\"@layout/content_customer_home\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" /&gt;\n\n    &lt;android.support.design.widget.NavigationView\n        android:id=\"@+id/navigationView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        app:headerLayout=\"@layout/activity_main\"\n        app:menu=\"@menu/menu_customer_home\" /&gt;\n\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n\n<p>I have also tried writing my own CustomDrawerLayout like so (with no luck):</p>\n\n<pre><code>class CustomDrawerLayout : DrawerLayout {\n\nconstructor(context: Context) : super(context)\n\nconstructor(context: Context, attrs: AttributeSet) : super(context, attrs)\n\nconstructor(context: Context, attrs: AttributeSet, defStyle: Int) : super(context, attrs, defStyle)\n\noverride fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {\n    var widthMeasureSpec = widthMeasureSpec\n    var heightMeasureSpec = heightMeasureSpec\n    widthMeasureSpec = MeasureSpec.makeMeasureSpec(\n            MeasureSpec.getSize(widthMeasureSpec), MeasureSpec.EXACTLY)\n    heightMeasureSpec = MeasureSpec.makeMeasureSpec(\n            MeasureSpec.getSize(heightMeasureSpec), MeasureSpec.EXACTLY)\n    super.onMeasure(widthMeasureSpec, heightMeasureSpec)\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I have seen other posts regarding this exception but the \"solutions\" do not work. Whats the issue here?</p>\n"}, {"tags": ["java", "generics", "kotlin", "covariance"], "comments": [{"owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "edited": false, "score": 0, "creation_date": 1502246026, "post_id": 45579660, "comment_id": 78120865, "body": "Hey, just noticed your recursive function is a prime candidate for a sequence: <code>generateSequence(this) { it.cause }.first { it::class.java.isAssignableFrom(e.java) }</code> should be behaviour compatible, is IMO faster to consume mentally and also gets rid of recursion. Don&#39;t edit the question though, as it might invalidate the current answer."}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1502246786, "post_id": 45579660, "comment_id": 78121036, "body": "You are calling with your method with a derived class of Throwable, so when you define the parameter as KClass&lt;in Throwable&gt;, you should expect a compile error, right?"}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "reply_to_user": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "edited": false, "score": 0, "creation_date": 1502304042, "post_id": 45579660, "comment_id": 78156184, "body": "@mEQ5aNLrK3lqs3kfSa5HbvsTWe0nIu Some username! Regarding the sequence, the problem I see is that all cause are collected first, and then the matching one, if any, is returned. But there is no need to iterate any more if we find a match; your claim that sequence is faster than recursion doesn&#39;t seem to hold theoretically."}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1502307352, "post_id": 45579660, "comment_id": 78158008, "body": "@AbhijitSarkar <code>Sequence</code> is lazy, it does not continue iterating."}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1502309828, "post_id": 45579660, "comment_id": 78159195, "body": "Verified that the sequence is indeed lazily evaluated by writing a test. Thanks."}, {"owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "reply_to_user": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1502310065, "post_id": 45579660, "comment_id": 78159306, "body": "As @ephemient stated, sequences are lazy (I suggest getting familiar with the actual source code of sequences, there are a lot of gotcha&#39;s!), and I never claimed performance gains - I think it just reads nicer given understanding of generated sequences. And why yes, some username ;)"}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "reply_to_user": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "edited": false, "score": 0, "creation_date": 1502310128, "post_id": 45579660, "comment_id": 78159333, "body": "@mEQ5aNLrK3lqs3kfSa5HbvsTWe0nIu Sorry, I misread &quot;IMO faster to consume mentally&quot; as just &quot;faster&quot;."}], "answers": [{"comments": [{"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1502242063, "post_id": 45580001, "comment_id": 78119967, "body": "I read your explanation 3 times and what you say is true, but I&#39;m not sure it answers my question. As you said I don&#39;t use any properties or methods from <code>e</code>, except getting the java class. It seems like <code>in</code> should work too, but it doesn&#39;t. Can you help me understand why not?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1502242949, "post_id": 45580001, "comment_id": 78120186, "body": "@AbhijitSarkar, that&#39;s because when you define an argument of type <code>KClass&lt;in Throwable&gt;</code> you restrict the arguments that you can pass so that they should all be able to receive a <code>Throwable</code> where a <code>KClass&lt;T&gt;</code> expects <code>T</code> (you want to be able to pass a <code>Throwable</code> <b>in</b>). For example, <code>Any::class</code> safisfies this restriction: since it can receive <code>Any</code> as <code>T</code>, it can receive <code>Throwable</code> as well. But <code>NoRemoteRepositoryException::class</code> does not: it expects only <code>NoRemoteRepositoryException</code> and its subtypes as <code>T</code>, so it would not know what to do with an arbitrary <code>Throwable</code>."}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1502333072, "post_id": 45580001, "comment_id": 78166515, "body": "The verbosity of your answer was actually a hindrance to my understanding :) I prefer short and to-the-point answers. But I understand each person has their own way of explaining, and understanding."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1502239818, "creation_date": 1502239818, "answer_id": 45580001, "question_id": 45579660, "link": "https://stackoverflow.com/questions/45579660/kotlin-generics-and-variance/45580001#45580001", "title": "Kotlin: generics and variance", "body": "<p>In your case, you don't actually use the variance of the type parameter: you never pass a value or use a value returned from a call to your <code>e: KClass&lt;T&gt;</code>.</p>\n\n<p>The variance describes which values you can pass as an argument and what you can expect from the values returned from properties and functions when you work with the projected type (e.g. inside a function implementation). For example, where a <code>KClass&lt;T&gt;</code> would return a <code>T</code> (as written in the signature), a <code>KClass&lt;out SomeType&gt;</code> can return either <code>SomeType</code> <em>or any of its subtypes</em>. On contrary, where a <code>KClass&lt;T&gt;</code> would expect an argument of <code>T</code>, a <code>KClass&lt;in SomeType&gt;</code> expects <em>some of the supertypes</em> of <code>SomeType</code> (but it is unknown which exactly).</p>\n\n<p>This, in fact, defines the limitations on the actual type arguments of the instances that you pass to such a function. With invariant type <code>KClass&lt;Base&gt;</code>, you cannot pass a <code>KClass&lt;Super&gt;</code> or <code>KClass&lt;Derived&gt;</code> (where <code>Derived : Base : Super</code>). But if a function expects <code>KClass&lt;out Base&gt;</code>, then you can also pass a <code>KClass&lt;Derived&gt;</code>, because it satisfies the aforementioned requirement: it returns <code>Derived</code> from its methods which should return <code>Base</code> or its subtype (but that's not true for <code>KClass&lt;Super&gt;</code>). And, on contrary, a function that expects <code>KClass&lt;in Base&gt;</code> can also receive <code>KClass&lt;Super&gt;</code></p>\n\n<p>So, when you rewrite <code>getCauseIfAssignableFrom</code> to accept a <code>e: KClass&lt;in Throwable&gt;</code>, you state that in the implementation you want to be able to pass a <code>Throwable</code> to some generic function or a property of <code>e</code>, and you need a <code>KClass</code> instance that is capable of handling that. The <code>Any::class</code> or <code>Throwable::class</code> would fit, but that's not what you need.</p>\n\n<p>Since you don't call any of <code>e</code>'s functions and don't access any of its properties, you could even make its type <code>KClass&lt;*&gt;</code> (clearly stating that you don't care what is the type and allow it to be anything), and it would work.</p>\n\n<p>But your use case requires you to restrict the type to be a subtype of <code>Throwable</code>. This is where <code>KClass&lt;out Throwable&gt;</code> works: it restricts the type argument to be a subtype of <code>Throwable</code> (again, you state that, for the functions and properties of <code>KClass&lt;T&gt;</code> that return <code>T</code> or something with <code>T</code> like <code>Function&lt;T&gt;</code>, you want to use the return value as if <code>T</code> is a subtype of <code>Throwable</code>; though you don't do it).</p>\n\n<p>The other option that works for you is defining an upper bound <code>&lt;T : Throwable&gt;</code>. This is similar to <code>&lt;out Throwable&gt;</code>, but it additionally captures the type argument of <code>KClass&lt;T&gt;</code> and allows you to use it somewhere else in the signature (in the return type or the types of the other parameters) or inside the implementation.</p>\n"}, {"tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": false, "score": 1, "last_activity_date": 1502248574, "creation_date": 1502248574, "answer_id": 45581114, "question_id": 45579660, "link": "https://stackoverflow.com/questions/45579660/kotlin-generics-and-variance/45581114#45581114", "title": "Kotlin: generics and variance", "body": "<p>In the example you cite from documentation, you are showing a generic <strong>class</strong> with the <code>out</code> annotation.  This annotation give users of the class a guarantee that the class will not put out anything but a T or class derived from T.</p>\n\n<p>In you code example, you are showing a generic function <strong>parameter</strong> with an <code>out</code> annotation on the parameter's type.  This is giving users of the parameter the guarantee that the parameter will not be anything but a <code>T</code> (in your case a <code>KClass&lt;Throwable&gt;</code>) or a class derived from <code>T</code> (a <code>KClass&lt;{derived from Throwable}&gt;</code>).</p>\n\n<p>Now reverse the thinking for <code>in</code>.  If you were to use <code>e: KClass&lt;in Throwable&gt;</code> then you constrain the parameter to supers of <code>Throwable</code>.</p>\n\n<p>In the case of your compiler error, it isn't the point whether or not your function uses methods or properties of <code>e</code>.  In your case, the declaration of the parameter is constraining how the function can be called, not how the function itself uses the parameter.  Therefore, using <code>in</code> instead of <code>out</code> disqualifies your call to the function with the parameter <code>NorRemoteRepositoryException::class</code>.</p>\n\n<p>Of course, the constraints also apply within your function, but those constraints are never exercised because <code>e</code> is not used that way.</p>\n"}, {"comments": [{"owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "edited": false, "score": 0, "creation_date": 1502309908, "post_id": 45599693, "comment_id": 78159233, "body": "For inline functions with reified type parameters and no higher order function parameters, it may be preferable to extract the logic into a non-inline function taking an additional Java <code>Class</code>, then making the inliine function simply call that function. This would prevent bytecode explosion if the function logic grows and is used from many places."}, {"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1502309969, "post_id": 45599693, "comment_id": 78159265, "body": "Where is the <code>e</code> formal parameter in your implementation?"}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "reply_to_user": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 1, "creation_date": 1502310066, "post_id": 45599693, "comment_id": 78159308, "body": "@AbhijitSarkar It is not necessary. When you write <code>.getCauseIfInstance&lt;T&gt;()</code> the compiler fills in the rest."}], "tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": false, "score": 2, "last_activity_date": 1502309837, "last_edit_date": 1502309837, "creation_date": 1502309012, "answer_id": 45599693, "question_id": 45579660, "link": "https://stackoverflow.com/questions/45579660/kotlin-generics-and-variance/45599693#45599693", "title": "Kotlin: generics and variance", "body": "<p>The other answers have addressed why you don't need variance at this <strong>use</strong> site.</p>\n\n<p>FYI, the API would be more usable if you cast the return to the expected type,</p>\n\n<pre><code>@Suppress(\"UNCHECKED_CAST\")\nfun &lt;T : Any&gt; Throwable.getCauseIfInstance(e: KClass&lt;T&gt;): T? = when {\n    e.java.isAssignableFrom(javaClass) -&gt; this as T\n    else -&gt; cause?.getCauseIfInstance(e)\n}\n</code></pre>\n\n<p>but it's more Kotlin-like to use a reified type.</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; Throwable.getCauseIfInstance(): T? =\n    generateSequence(this) { it.cause }.filterIsInstance&lt;T&gt;().firstOrNull()\n</code></pre>\n\n<p>This is effectively the same as writing an explicit loop, but shorter.</p>\n\n<pre><code>inline fun &lt;reified T : Any&gt; Throwable.getCauseIfInstance(): T? {\n    var current = this\n    while (true) {\n        when (current) {\n            is T -&gt; return current\n            else -&gt; current = current.cause ?: return null\n        }\n    }\n}\n</code></pre>\n\n<p>And unlike the original, this method does not require <code>kotlin-reflect</code>.</p>\n\n<p>(I've also changed the behavior from <code>isAssignableFrom</code> to <code>is</code> (<code>instanceof</code>); I have a hard time imagining how the original could have been useful.)</p>\n"}], "owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 766, "favorite_count": 0, "accepted_answer_id": 45580001, "answer_count": 3, "score": 3, "last_activity_date": 1502309837, "creation_date": 1502236654, "question_id": 45579660, "link": "https://stackoverflow.com/questions/45579660/kotlin-generics-and-variance", "title": "Kotlin: generics and variance", "body": "<p>I want to create an extension function on <code>Throwable</code> that, given a <code>KClass</code>, recursively searches for a root cause that matches the argument. The following is one attempt that works: </p>\n\n<pre><code>fun &lt;T : Throwable&gt; Throwable.getCauseIfAssignableFrom(e: KClass&lt;T&gt;): Throwable? = when {\n    this::class.java.isAssignableFrom(e.java) -&gt; this\n    nonNull(this.cause) -&gt; this.cause?.getCauseIfAssignableFrom(e)\n    else -&gt; null\n}\n</code></pre>\n\n<p>This works too:</p>\n\n<pre><code>fun Throwable.getCauseIfAssignableFrom(e: KClass&lt;out Throwable&gt;): Throwable? = when {\n    this::class.java.isAssignableFrom(e.java) -&gt; this\n    nonNull(this.cause) -&gt; this.cause?.getCauseIfAssignableFrom(e)\n    else -&gt; null\n}\n</code></pre>\n\n<p>I call the function like so: <code>e.getCauseIfAssignableFrom(NoRemoteRepositoryException::class)</code>.</p>\n\n<p>However, <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">Kotlin docs</a> about generics says:</p>\n\n<blockquote>\n  <p>This is called declaration-site variance: we can annotate the type\n  parameter T of Source to make sure that it is only returned (produced)\n  from members of Source, and never consumed. To do this we provide\n  the out modifier</p>\n</blockquote>\n\n<pre><code>abstract class Source&lt;out T&gt; {\n    abstract fun nextT(): T\n}\n\nfun demo(strs: Source&lt;String&gt;) {\n    val objects: Source&lt;Any&gt; = strs // This is OK, since T is an out-parameter\n    // ...\n}\n</code></pre>\n\n<p>In my case, parameter <code>e</code> isn't returned, but consumed. It seems to me that it should be declared as <code>e: KClass&lt;in Throwable&gt;</code> but that doesn't compile. However, if I think of <code>out</code> as \"you can only read from, or return, it\" and <code>in</code> as \"you can only write, or assign a value, to it\", then it makes sense. Can someone explain?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1502236035, "post_id": 45578982, "comment_id": 78118732, "body": "<code>context</code> is not a parameter of your <code>constructor(parcel: Parcel)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 1, "creation_date": 1502248755, "post_id": 45579620, "comment_id": 78121508, "body": "Thanks for the explanation.  I&#39;ve been doing some more reading, and it seems to me that I should have been googling &quot;saving state in custom views.&quot;  However, your suggestion of a design change is probably going to be easier to implement.  I&#39;m going to have to save the state of the game anyway."}], "tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": true, "score": 1, "last_activity_date": 1502243212, "last_edit_date": 1502243212, "creation_date": 1502236223, "answer_id": 45579620, "question_id": 45578982, "link": "https://stackoverflow.com/questions/45578982/constructor-taking-parcelable-constructor-in-kotlin-derived-class/45579620#45579620", "title": "Constructor Taking Parcelable Constructor in kotlin Derived Class", "body": "<p><code>context</code> needs to be supplied in order to call the <code>this(context,...)</code> constructors.  But, you cannot change your <code>constructor(parcel: Parcel)</code> to <code>constructor(context: Context, parcel: Parcel)</code> because Parcelable requires the `constructor(parcel: Parcel)</p>\n\n<p>What's going on?  Your class derives from <code>TextView</code> which requires a <code>Context</code> to instantiate.  Your primary <code>constructor</code> is doing that...</p>\n\n<pre><code>class ChessClock(context: Context) : TextView(context) ...\n</code></pre>\n\n<p>The documentation says...</p>\n\n<blockquote>\n  <p>If the class has a primary constructor, the base type can (and must) be initialized right there, using the parameters of the primary constructor.</p>\n</blockquote>\n\n<p>Since you've chosen to use a primary constructor, the base class must be initialized by that constructor, and the secondary constructors chain off of the primary.</p>\n\n<pre><code>    constructor(context:Context, p:String, angle:Float) : this(context) ...\n    // notice how the secondary constructor has the context with which to\n    // call the primary constructor\n</code></pre>\n\n<p>The error you are seeing is due to the second secondary constructor not supplying a context to the constructor that it is calling (it's calling the first secondary constructor).</p>\n\n<pre><code>    constructor(parcel: Parcel) :this(context, parcel.readString(), parcel.readFloat()) ...\n    // compiler error because \"context\" has no source, there is no \n    // parameter \"context\" being supplied\n</code></pre>\n\n<p><strong>More importantly</strong>, the <code>Parcel</code> constructor was added by the Parcelable Plug-in tool when it added <code>Parcelable</code> Interface to the inheritance (<a href=\"https://developer.android.com/reference/android/os/Parcelable.html\" rel=\"nofollow noreferrer\">see the example of a Parcelable implementation</a>).  And as such, the <code>CREATOR</code> method (the required <code>Parcelable.Creator</code> Interface) expects to find a constructor that takes only a <code>Parcel</code>.  You may have to adjust your design, because a <code>Context</code> is not serializable and therefore should not (cannot) be placed in a <code>Parcel</code>. You could look at the <code>CREATOR</code> code and see about modifying that, but I would recommend a design change.</p>\n\n<p>\"Best practice\" is to separate your business logic from your UI logic.  Here you have tied your <code>ChessClock</code> to a UI object <code>TextView</code>.  A \"ChessClock\" sound to me like UI, so maybe you need a ChessClockData class to pass around as a <code>Parcelable</code> instead of the Clock UI.</p>\n"}], "owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2217, "favorite_count": 1, "accepted_answer_id": 45579620, "answer_count": 1, "score": 1, "last_activity_date": 1502243212, "creation_date": 1502231411, "last_edit_date": 1502242413, "question_id": 45578982, "link": "https://stackoverflow.com/questions/45578982/constructor-taking-parcelable-constructor-in-kotlin-derived-class", "title": "Constructor Taking Parcelable Constructor in kotlin Derived Class", "body": "<p>This is a followup to a <a href=\"https://stackoverflow.com/questions/45576845/parcelable-derived-class-in-kotlin\">question</a> I asked earlier.  I am using the Android Parcelable plugin from <a href=\"https://github.com/nekocode/android-parcelable-intellij-plugin-kotlin\" rel=\"nofollow noreferrer\">https://github.com/nekocode/android-parcelable-intellij-plugin-kotlin</a>\nFollowing bennyl's suggestion, I changed the generated code for the constructors to</p>\n\n<pre><code>class ChessClock(context:Context) : TextView(context), Parcelable {\n    lateinit var player:String\n    constructor(context:Context, p:String, angle:Float) : this(context) {\n        player = p\n        rotation = angle\n    }\n}\n</code></pre>\n\n<p>and this got rid of the syntax errors I had asked about.  I now have another problem that I overlooked at first.</p>\n\n<p>The plugin generated this code for <code>writeToParcel</code>:</p>\n\n<pre><code>override fun writeToParcel(parcel: Parcel, flags: Int) {\n    parcel.writeString(player)\n    parcel.writeFloat(rotation)\n    parcel.writeLong(mTime)\n    parcel.writeInt(mState)\n}\n</code></pre>\n\n<p>and this constructor:</p>\n\n<pre><code>constructor(parcel: Parcel) :this() {\n    player = parcel.readString()\n    rotation = parcel.readFloat()\n    mTime = parcel.readLong()\n    mState = parcel.readInt()\n}\n</code></pre>\n\n<p>(Actually, I added the lines with rotation, but that's unimportant.)</p>\n\n<p>Now, the constructor won't compile.  <code>this</code> is underlined and I see the tooltip\n<a href=\"https://i.stack.imgur.com/zV923.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zV923.png\" alt=\"enter image description here\"></a>\nI would expect to see something like, </p>\n\n<pre><code>constructor(parcel: Parcel) :this(context, parcel.readString(), parcel.readFloat()) {\n    mTime = parcel.readLong()\n    mState = parcel.readInt()\n}\n</code></pre>\n\n<p>but if I try that, I get the message, \"Cannot access context before superclass constructor has been called.\"  I'm pretty new to kotlin (and android) and I don't understand what's happening here.  I've tried invoking <code>super</code>, but it tells me that a call to the primary constructor is expected.  I've also tried invoking TextView() but it tells me that a call to <code>this</code> or <code>super</code> is expected.</p>\n\n<p>I don't see that there is a way to write the context to the parcel, (and I'm not sure what this would mean.)</p>\n\n<p>Can you tell me how the code should be modified, and more important, can you explain why?  </p>\n"}, {"tags": ["android", "broadcastreceiver", "kotlin"], "comments": [{"owner": {"reputation": 250, "user_id": 9876410, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Aqua Freshka", "link": "https://stackoverflow.com/users/9876410/aqua-freshka"}, "edited": false, "score": 0, "creation_date": 1600184127, "post_id": 45577792, "comment_id": 113004850, "body": "i want to do the same thing but i don&#39;t know where to deplare the component, where do you put this code ?"}], "answers": [{"comments": [{"owner": {"reputation": 2052, "user_id": 1656813, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/x7Txa.jpg?s=128&g=1", "display_name": "P4yam", "link": "https://stackoverflow.com/users/1656813/p4yam"}, "edited": false, "score": 0, "creation_date": 1502230512, "post_id": 45578305, "comment_id": 78117217, "body": "when I use it without .java or ::class.java, I get an error which says I should use a <code>class</code> or <code>String!</code> as the second parameter"}, {"owner": {"reputation": 642, "user_id": 3005856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qpxGN.jpg?s=128&g=1", "display_name": "cristianorbs", "link": "https://stackoverflow.com/users/3005856/cristianorbs"}, "reply_to_user": {"reputation": 2052, "user_id": 1656813, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/x7Txa.jpg?s=128&g=1", "display_name": "P4yam", "link": "https://stackoverflow.com/users/1656813/p4yam"}, "edited": false, "score": 0, "creation_date": 1502243275, "post_id": 45578305, "comment_id": 78120248, "body": "Yes, because it has more than one public constructor. One of them takes the context as first parameter and .class as the second and the other takes the context as first and a String representing the class name as stated on the first link"}], "tags": [], "owner": {"reputation": 642, "user_id": 3005856, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qpxGN.jpg?s=128&g=1", "display_name": "cristianorbs", "link": "https://stackoverflow.com/users/3005856/cristianorbs"}, "is_accepted": false, "score": 1, "last_activity_date": 1502227607, "creation_date": 1502227607, "answer_id": 45578305, "question_id": 45577792, "link": "https://stackoverflow.com/questions/45577792/enable-and-disable-a-broadcast-in-kotlin/45578305#45578305", "title": "Enable and disable a broadcast in kotlin", "body": "<p>It's giving you error because the <a href=\"https://developer.android.com/reference/android/content/ComponentName.html\" rel=\"nofollow noreferrer\">ComponentName</a> class expects a context and a Java class. Since your class was written in Kotlin, you should get the class by doing as you said: </p>\n\n<p><code>DateChangeReceiver::class.java</code></p>\n\n<p>or</p>\n\n<p><code>DateChangeReceiver::javaClass</code></p>\n\n<p>If the ComponentName expected a Kotlin class, there would be no problem by doing it without the <code>.java</code></p>\n\n<p>You'll face this using some Java libraries.</p>\n\n<p>Also check <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"nofollow noreferrer\">this</a> about reflection in Kotlin. As stated there:</p>\n\n<blockquote>\n  <p>Note that a Kotlin class reference is not the same as a Java class reference. To obtain a Java class reference, use the .java property on a KClass instance.</p>\n</blockquote>\n"}], "owner": {"reputation": 2052, "user_id": 1656813, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/x7Txa.jpg?s=128&g=1", "display_name": "P4yam", "link": "https://stackoverflow.com/users/1656813/p4yam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 896, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1502227607, "creation_date": 1502225360, "question_id": 45577792, "link": "https://stackoverflow.com/questions/45577792/enable-and-disable-a-broadcast-in-kotlin", "title": "Enable and disable a broadcast in kotlin", "body": "<p>I wrote this code to enable and disable a broadcast:</p>\n\n<pre><code>        val broadcastState = when(state){\n        true -&gt; {PackageManager.COMPONENT_ENABLED_STATE_ENABLED}\n        false -&gt; {PackageManager.COMPONENT_ENABLED_STATE_DISABLED}\n    }\n\n    val component:ComponentName=ComponentName(this,DateChangeReceiver::class)\n    packageManager.setComponentEnabledSetting(component,\n            broadcastState,PackageManager.DONT_KILL_APP)\n</code></pre>\n\n<p>But Android Studio gave some error till I changed <code>component</code> to this:</p>\n\n<pre><code>val component:ComponentName=ComponentName(this,DateChangeReceiver::class.java)\n</code></pre>\n\n<p>Based on <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#getclass\" rel=\"nofollow noreferrer\">this link</a> it should be used to  retrieve the Java class of an object, but all my classes are in kotlin. So I'm wondering if I'm doing it right.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1502224138, "post_id": 45577154, "comment_id": 78114452, "body": "Perfect.  Thank you."}, {"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1502225309, "post_id": 45577154, "comment_id": 78115027, "body": "Oops.  I spoke too soon.  Now I see that the compiler is complaining about the declaration <code>constructor(parcel: Parcel) :this()</code>.  How should this declaration be changed?"}, {"owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "edited": false, "score": 0, "creation_date": 1502229056, "post_id": 45577154, "comment_id": 78116732, "body": "I&#39;m going to make this a new question."}], "tags": [], "owner": {"reputation": 2613, "user_id": 1388837, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/15d773b2cb0e4c95c615b6ad13b0f20d?s=128&d=identicon&r=PG", "display_name": "bennyl", "link": "https://stackoverflow.com/users/1388837/bennyl"}, "is_accepted": true, "score": 2, "last_activity_date": 1502222575, "creation_date": 1502222575, "answer_id": 45577154, "question_id": 45576845, "link": "https://stackoverflow.com/questions/45576845/parcelable-derived-class-in-kotlin/45577154#45577154", "title": "Parcelable Derived Class in Kotlin", "body": "<ol>\n<li>TextView is a class and therefore your primary constructor should\ninvoke one of its constructors </li>\n<li>you should invoke your primary constructor from other constructors </li>\n</ol>\n\n<p>Example:</p>\n\n<pre><code>class ChessClock(context: Context) : TextView(context), Parcelable\n\n//in this case you don't need other constructors but in-case you do, this is how you should write it:\nconstructor(context: Context, dummy: Int): this(context)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1502241709, "post_id": 45579945, "comment_id": 78119900, "body": "but that won&#39;t help you address the <code>constructor(parcel: Parcel)</code> problem, see my <a href=\"https://stackoverflow.com/questions/45578982/constructor-taking-parcelable-constructor-in-kotlin-derived-class/45579620#45579620\">answer to your other question</a>... but the short answer is to not try to make your UI parcelable, separate the UI from the backing data if you can."}], "tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": false, "score": 0, "last_activity_date": 1502241783, "last_edit_date": 1502241783, "creation_date": 1502239273, "answer_id": 45579945, "question_id": 45576845, "link": "https://stackoverflow.com/questions/45576845/parcelable-derived-class-in-kotlin/45579945#45579945", "title": "Parcelable Derived Class in Kotlin", "body": "<p>You could also just change the generated code from <code>ChessClock()</code> to <code>ChessClock</code>.</p>\n"}], "owner": {"reputation": 4289, "user_id": 908293, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/a30b8d0b807c736c457e506cd7f7f699?s=128&d=identicon&r=PG", "display_name": "saulspatz", "link": "https://stackoverflow.com/users/908293/saulspatz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1187, "favorite_count": 0, "accepted_answer_id": 45577154, "answer_count": 2, "score": 0, "last_activity_date": 1502241783, "creation_date": 1502221397, "question_id": 45576845, "link": "https://stackoverflow.com/questions/45576845/parcelable-derived-class-in-kotlin", "title": "Parcelable Derived Class in Kotlin", "body": "<p>I'm using Android Parcelable plugin from <a href=\"https://github.com/nekocode/android-parcelable-intellij-plugin-kotlin\" rel=\"nofollow noreferrer\">https://github.com/nekocode/android-parcelable-intellij-plugin-kotlin</a></p>\n\n<p>I tried it on a class with this definition</p>\n\n<pre><code>class ChessClock : TextView  {\n    lateinit var player:String\n    constructor(context: Context) : super(context)\n    constructor(context:Context, p:String, angle:Float) : this(context) {\n       player = p\n       rotation = angle\n   }\n   &lt;snip&gt;\n}\n</code></pre>\n\n<p>and the definition was changed to</p>\n\n<pre><code>class ChessClock() : TextView, Parcelable {\n   lateinit var player:String \n   constructor(context: Context) : super(context)\n   constructor(context:Context, p:String, angle:Float) : this(context){\n       player = p\n       rotation = angle\n   }\n   &lt;snip -- various stuff added here&gt;\n}\n</code></pre>\n\n<p>Two syntax errors were highlighted.</p>\n\n<p>In the line </p>\n\n<pre><code>class ChessClock() : TextView, Parcelable\n</code></pre>\n\n<p><code>TextView</code> is underlined, with the comment \"This type has a constructor, and must be initialized here.\"  </p>\n\n<p>In the line </p>\n\n<pre><code>constructor(context: Context) : super(context)\n</code></pre>\n\n<p><code>super</code> is underlined, with the comment \"Primary constructor call expected.\"</p>\n\n<p>I've only been using kotlin for a few weeks, and I don't understand what's going on here.  First of all, I know (or at least I think I know) that kotlin doesn't implement multiple inheritance, so I don't understand what </p>\n\n<p>class ChessClock() : TextView, Parcelable</p>\n\n<p>means.  Is this really legitimate kotlin?  How can one make a derived class Parcelable in kotlin?</p>\n"}, {"tags": ["collections", "parallel-processing", "kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 17217, "user_id": 1240320, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3ff7ec4e8d7aebe239763aa235cd6d14?s=128&d=identicon&r=PG", "display_name": "Pixel Elephant", "link": "https://stackoverflow.com/users/1240320/pixel-elephant"}, "edited": false, "score": 1, "creation_date": 1502217137, "post_id": 45575516, "comment_id": 78110724, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/34697828/parallel-operations-on-kotlin-collections\">Parallel operations on Kotlin collections?</a>"}, {"owner": {"reputation": 7893, "user_id": 380451, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/WowPn.png?s=128&g=1", "display_name": "Parker", "link": "https://stackoverflow.com/users/380451/parker"}, "reply_to_user": {"reputation": 17217, "user_id": 1240320, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/3ff7ec4e8d7aebe239763aa235cd6d14?s=128&d=identicon&r=PG", "display_name": "Pixel Elephant", "link": "https://stackoverflow.com/users/1240320/pixel-elephant"}, "edited": false, "score": 2, "creation_date": 1502217333, "post_id": 45575516, "comment_id": 78110837, "body": "That question is a year and a half old, and was asked before Kotlin Coroutines were introduced"}, {"owner": {"reputation": 806, "user_id": 4842585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-oygxcJWDVYk/AAAAAAAAAAI/AAAAAAAAADU/S75I8NGFQCg/photo.jpg?sz=128", "display_name": "Sylvain GIROD", "link": "https://stackoverflow.com/users/4842585/sylvain-girod"}, "edited": false, "score": 0, "creation_date": 1502221458, "post_id": 45575516, "comment_id": 78113043, "body": "the launch() coroutine may do the jobx"}, {"owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "edited": false, "score": 0, "creation_date": 1503310333, "post_id": 45575516, "comment_id": 78546609, "body": "also, you can always use the Java parallel streams"}], "answers": [{"tags": [], "owner": {"reputation": 941, "user_id": 5446940, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/8OddJ.jpg?s=128&g=1", "display_name": "ABS", "link": "https://stackoverflow.com/users/5446940/abs"}, "is_accepted": false, "score": 0, "last_activity_date": 1502219064, "last_edit_date": 1502219064, "creation_date": 1502218034, "answer_id": 45575887, "question_id": 45575516, "link": "https://stackoverflow.com/questions/45575516/kotlin-process-collection-in-parallel/45575887#45575887", "title": "Kotlin Process Collection In Parallel?", "body": "<p>You can use <a href=\"https://github.com/ReactiveX/RxAndroid\" rel=\"nofollow noreferrer\">RxJava</a> to solve this.</p>\n\n<pre><code>List&lt;MyObjects&gt; items = getList()\n\nObservable.from(items).flatMap(object : Func1&lt;MyObjects, Observable&lt;String&gt;&gt;() {\n    fun call(item: MyObjects): Observable&lt;String&gt; {\n        return someMethod(item)\n    }\n}).subscribeOn(Schedulers.io()).observeOn(AndroidSchedulers.mainThread()).subscribe(object : Subscriber&lt;String&gt;() {\n    fun onCompleted() {\n\n    }\n\n    fun onError(e: Throwable) {\n\n    }\n\n    fun onNext(s: String) {\n        // do on output of each string\n    }\n})\n</code></pre>\n\n<p>By subscribing on <code>Schedulers.io()</code>, some method is scheduled on background thread.</p>\n"}, {"tags": [], "owner": {"reputation": 5216, "user_id": 765009, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ffec3b192463b07eb6de598b74dc9631?s=128&d=identicon&r=PG", "display_name": "toto2", "link": "https://stackoverflow.com/users/765009/toto2"}, "is_accepted": false, "score": 5, "last_activity_date": 1503015434, "last_edit_date": 1503015434, "creation_date": 1503006356, "answer_id": 45745403, "question_id": 45575516, "link": "https://stackoverflow.com/questions/45575516/kotlin-process-collection-in-parallel/45745403#45745403", "title": "Kotlin Process Collection In Parallel?", "body": "<p>Java Stream is simple to use in Kotlin:</p>\n\n<pre><code>tasks.stream().parallel().forEach { computeNotSuspend(it) }\n</code></pre>\n\n<p>If you are using Android however, you cannot use Java 8 if you want an app compatible with an API lower than 24.</p>\n\n<p>You can also use coroutines as you suggested.  But it's not really part of the language as of now (August 2017) and you need to install an external library.  There is very good <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#async-style-functions\" rel=\"noreferrer\">guide with examples</a>.</p>\n\n<pre><code>    runBlocking&lt;Unit&gt; {\n        val deferreds = tasks.map { async(CommonPool) { compute(it) } }\n        deferreds.forEach { it.await() }\n    }\n</code></pre>\n\n<p>Note that coroutines are implemented with non-blocking multi-threading, which mean they can be faster than traditional multi-threading.  I have code below benchmarking the Stream parallel versus coroutine and in that case the coroutine approach is 7 times faster on my machine.  <em>However you have to do some work yourself to make sure your code is \"suspending\" (non-locking) which can be quite tricky.</em>  In my example I'm just calling <code>delay</code> which is a <code>suspend</code> function provided by the library.  Non-blocking multi-threading is not always faster than traditional multi-threading.  It can be faster if you have many threads doing nothing but waiting on IO, which is kind of what my benchmark is doing.</p>\n\n<p>My benchmarking code:</p>\n\n<pre><code>import kotlinx.coroutines.experimental.CommonPool\nimport kotlinx.coroutines.experimental.async\nimport kotlinx.coroutines.experimental.delay\nimport kotlinx.coroutines.experimental.launch\nimport kotlinx.coroutines.experimental.runBlocking\nimport java.util.*\nimport kotlin.system.measureNanoTime\nimport kotlin.system.measureTimeMillis\n\nclass SomeTask() {\n    val durationMS = random.nextInt(1000).toLong()\n\n    companion object {\n        val random = Random()\n    }\n}\n\nsuspend fun compute(task: SomeTask): Unit {\n    delay(task.durationMS)\n    //println(\"done ${task.durationMS}\")\n    return\n}\n\nfun computeNotSuspend(task: SomeTask): Unit {\n    Thread.sleep(task.durationMS)\n    //println(\"done ${task.durationMS}\")\n    return\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val n = 100\n    val tasks = List(n) { SomeTask() }\n\n    val timeCoroutine = measureNanoTime {\n        runBlocking&lt;Unit&gt; {\n            val deferreds = tasks.map { async(CommonPool) { compute(it) } }\n            deferreds.forEach { it.await() }\n        }\n    }\n\n    println(\"Coroutine ${timeCoroutine / 1_000_000} ms\")\n\n    val timePar = measureNanoTime {\n        tasks.stream().parallel().forEach { computeNotSuspend(it) }\n    }\n    println(\"Stream parallel ${timePar / 1_000_000} ms\")\n}\n</code></pre>\n\n<p>Output on my 4 cores computer:</p>\n\n<pre><code>Coroutine: 1037 ms\nStream parallel: 7150 ms\n</code></pre>\n\n<p>If you uncomment out the <code>println</code> in the two <code>compute</code> functions you will see that in the non-blocking coroutine code the tasks are processed in the right order, but not with Streams.</p>\n"}, {"comments": [{"owner": {"reputation": 1870, "user_id": 752385, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/adb164b92b3e338ce103bd2816b266e4?s=128&d=identicon&r=PG", "display_name": "Strinder", "link": "https://stackoverflow.com/users/752385/strinder"}, "edited": false, "score": 1, "creation_date": 1591731628, "post_id": 45794421, "comment_id": 110166520, "body": "Currently &#39;CommonPool&#39; cannot be accessed - it is internal in &#39;kotlinx.coroutines&#39;!"}], "tags": [], "owner": {"reputation": 7514, "user_id": 1104870, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/fe76e258ce32209153e67d540f9232fd?s=128&d=identicon&r=PG", "display_name": "Alex Krauss", "link": "https://stackoverflow.com/users/1104870/alex-krauss"}, "is_accepted": false, "score": 15, "last_activity_date": 1503310053, "creation_date": 1503310053, "answer_id": 45794421, "question_id": 45575516, "link": "https://stackoverflow.com/questions/45575516/kotlin-process-collection-in-parallel/45794421#45794421", "title": "Kotlin Process Collection In Parallel?", "body": "<p>Yes, this can be done using coroutines. The following function applies an operation in parallel on all elements of a collection:</p>\n\n<pre><code>fun &lt;A&gt;Collection&lt;A&gt;.forEachParallel(f: suspend (A) -&gt; Unit): Unit = runBlocking {\n    map { async(CommonPool) { f(it) } }.forEach { it.await() }\n}\n</code></pre>\n\n<p>While the definition itself is a little cryptic, you can then easily apply it as you would expect:</p>\n\n<pre><code>myObjects.forEachParallel { myObj -&gt;\n    someMethod(myObj)\n}\n</code></pre>\n\n<p>Parallel map can be implemented in a similar way, see <a href=\"https://stackoverflow.com/a/45794062/1104870\">https://stackoverflow.com/a/45794062/1104870</a>.</p>\n"}], "owner": {"reputation": 7893, "user_id": 380451, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/WowPn.png?s=128&g=1", "display_name": "Parker", "link": "https://stackoverflow.com/users/380451/parker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7710, "favorite_count": 2, "answer_count": 3, "score": 3, "last_activity_date": 1503310053, "creation_date": 1502216725, "last_edit_date": 1503006465, "question_id": 45575516, "link": "https://stackoverflow.com/questions/45575516/kotlin-process-collection-in-parallel", "title": "Kotlin Process Collection In Parallel?", "body": "<p>I have a collection of objects, which I need to perform some transformation on. Currently I am using:</p>\n\n<pre><code>var myObjects: List&lt;MyObject&gt; = getMyObjects()\n\nmyObjects.forEach{ myObj -&gt;\n    someMethod(myObj)\n}\n</code></pre>\n\n<p>It works fine, but I was hoping to speed it up by running <code>someMethod()</code> in parallel, instead of waiting for each object to finish, before starting on the next one.</p>\n\n<p>Is there any way to do this in Kotlin? Maybe with <code>doAsyncTask</code> or something?</p>\n\n<p>I know when this was <a href=\"https://stackoverflow.com/questions/34697828/parallel-operations-on-kotlin-collections\">asked over a year ago</a> it was not possible, <strong>but now that Kotlin has coroutines like <code>doAsyncTask</code> I am curious if any of the coroutines can help</strong></p>\n"}, {"tags": ["gradle", "javafx", "kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1502216516, "post_id": 45574892, "comment_id": 78110381, "body": "Assuming you&#39;re using OpenJDK, JavaFX is not included by default as it is with Oracle&#39;s JDK, so you may need to install it or switch to Oracle."}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 4, "creation_date": 1502216800, "post_id": 45574892, "comment_id": 78110528, "body": "If you&#39;re on Ubuntu, it&#39;s as simple as <code>sudo apt-get install openjfx</code>"}], "answers": [{"comments": [{"owner": {"reputation": 64101, "user_id": 72791, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/39d0620b84f6ba356ed731a73c619505?s=128&d=identicon&r=PG", "display_name": "DrAl", "link": "https://stackoverflow.com/users/72791/dral"}, "edited": false, "score": 0, "creation_date": 1502294913, "post_id": 45575487, "comment_id": 78150914, "body": "Brilliant, thank you.  I think I&#39;d been working on the misguided assumption that gradle was downloading everything (including javafx) that was necessary, but clearly it was just getting the tornadofx add-on bit.  Installing openjfx on Linux sorted it out."}], "tags": [], "owner": {"reputation": 490, "user_id": 4697327, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/4f81318a6d644f9413a902460d0e575e?s=128&d=identicon&r=PG&f=1", "display_name": "kwantuM", "link": "https://stackoverflow.com/users/4697327/kwantum"}, "is_accepted": true, "score": 4, "last_activity_date": 1502216625, "creation_date": 1502216625, "answer_id": 45575487, "question_id": 45574892, "link": "https://stackoverflow.com/questions/45574892/gradle-compilation-cant-find-tornadofx-on-linux/45575487#45575487", "title": "Gradle Compilation can&#39;t find tornadofx on Linux", "body": "<p>See the error message:</p>\n\n<p><code>e: /home/al/project/app/src/pcUi/MyApp.kt: (3, 8): Unresolved reference: javafx\ne: /home/al/project/app/src/pcUi/MyApp.kt: (12, 5): Unresolved reference: Application</code></p>\n\n<p>It seems like you do not have your JDK set up correctly on Ubuntu. JavaFX is no longer a part of the OpenJDK, you have to install it manually: <a href=\"https://packages.qa.debian.org/o/openjfx.html\" rel=\"nofollow noreferrer\">https://packages.qa.debian.org/o/openjfx.html</a> .</p>\n\n<p>Edit: see <a href=\"https://stackoverflow.com/a/43301246/4697327\">https://stackoverflow.com/a/43301246/4697327</a> . You're probably using the Oracle JDK on Windows, which has JavaFX included.</p>\n"}, {"tags": [], "owner": {"reputation": 1571, "user_id": 9063935, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0kpYD.png?s=128&g=1", "display_name": "dantechguy", "link": "https://stackoverflow.com/users/9063935/dantechguy"}, "is_accepted": false, "score": 0, "last_activity_date": 1612651306, "creation_date": 1612651306, "answer_id": 66082727, "question_id": 45574892, "link": "https://stackoverflow.com/questions/45574892/gradle-compilation-cant-find-tornadofx-on-linux/66082727#66082727", "title": "Gradle Compilation can&#39;t find tornadofx on Linux", "body": "<p>To quickly re-include JavaFX in my project, I modified my <code>build.grade</code> file and let it sync.</p>\n<pre><code>plugins {\n    id 'org.openjfx.javafxplugin' version '0.0.8'\n}\n\nrepositories {\n    mavenCentral()\n}\n\njavafx {\n    version = &quot;15.0.1&quot;\n    modules = [ 'javafx.controls', 'javafx.fxml' ]\n}\n</code></pre>\n"}], "owner": {"reputation": 64101, "user_id": 72791, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/39d0620b84f6ba356ed731a73c619505?s=128&d=identicon&r=PG", "display_name": "DrAl", "link": "https://stackoverflow.com/users/72791/dral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1788, "favorite_count": 0, "accepted_answer_id": 45575487, "answer_count": 2, "score": 1, "last_activity_date": 1612651306, "creation_date": 1502214455, "question_id": 45574892, "link": "https://stackoverflow.com/questions/45574892/gradle-compilation-cant-find-tornadofx-on-linux", "title": "Gradle Compilation can&#39;t find tornadofx on Linux", "body": "<p>I am trying to compile a kotlin application with gradle.  The application uses tornadofx (kotlin version of javafx).</p>\n\n<p>In <code>build.gradle</code>, I have:</p>\n\n<pre><code>dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    compile 'no.tornado:tornadofx:1.7.8'\n    compile 'com.squareup.moshi:moshi:1.5.0'\n    compile 'com.squareup.moshi:moshi-kotlin:1.5.0'\n\n    // Required for local unit tests (JUnit 4 framework)\n    testCompile 'junit:junit:4.12'\n}\n</code></pre>\n\n<p>In <code>MyApp.kt</code> I have:</p>\n\n<pre><code>import javafx.application.Application\nimport tornadofx.App\n</code></pre>\n\n<p>When I compile this project on Windows 10, either with <code>gradle clean build</code> or <code>.\\gradlew clean build</code>, it compiles and works perfectly.</p>\n\n<p>When I compile this project on Ubuntu Linux, I get a page of error messages, including:</p>\n\n<pre><code>...\n\ne: Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath:\n    class tornadofx.UIComponent, unresolved supertypes: javafx.event.EventTarget\n    class tornadofx.App, unresolved supertypes: javafx.application.Application\n\n...\n\ne: /home/al/project/app/src/pcUi/MyApp.kt: (3, 8): Unresolved reference: javafx\ne: /home/al/project/app/src/pcUi/MyApp.kt: (12, 5): Unresolved reference: Application\n\n...\n</code></pre>\n\n<p>Although if I do this from a clean set-up, the gradle output also includes:</p>\n\n<pre><code>Download https://jcenter.bintray.com/no/tornado/tornadofx/1.7.8/tornadofx-1.7.8.pom\nDownload https://jcenter.bintray.com/com/squareup/moshi/moshi/1.5.0/moshi-1.5.0.pom\nDownload https://jcenter.bintray.com/com/squareup/moshi/moshi-parent/1.5.0/moshi-parent-1.5.0.pom\nDownload https://jcenter.bintray.com/com/squareup/moshi/moshi-kotlin/1.5.0/moshi-kotlin-1.5.0.pom\nDownload https://jcenter.bintray.com/org/glassfish/javax.json/1.0.4/javax.json-1.0.4.pom\nDownload https://jcenter.bintray.com/org/glassfish/json/1.0.4/json-1.0.4.pom\nDownload https://jcenter.bintray.com/net/java/jvnet-parent/3/jvnet-parent-3.pom\nDownload https://jcenter.bintray.com/org/jetbrains/kotlin/kotlin-stdlib-jre8/1.1.3/kotlin-stdlib-jre8-1.1.3.pom\nDownload https://jcenter.bintray.com/org/jetbrains/kotlin/kotlin-reflect/1.1.3/kotlin-reflect-1.1.3.pom\nDownload https://jcenter.bintray.com/com/squareup/okio/okio/1.13.0/okio-1.13.0.pom\nDownload https://jcenter.bintray.com/com/squareup/okio/okio-parent/1.13.0/okio-parent-1.13.0.pom\nDownload https://jcenter.bintray.com/org/jetbrains/kotlin/kotlin-stdlib-jre7/1.1.3/kotlin-stdlib-jre7-1.1.3.pom\nDownload https://jcenter.bintray.com/org/jetbrains/kotlin/kotlin-stdlib/1.1.3/kotlin-stdlib-1.1.3.pom\nDownload https://jcenter.bintray.com/no/tornado/tornadofx/1.7.8/tornadofx-1.7.8.jar\nDownload https://jcenter.bintray.com/com/squareup/moshi/moshi/1.5.0/moshi-1.5.0.jar\nDownload https://jcenter.bintray.com/com/squareup/moshi/moshi-kotlin/1.5.0/moshi-kotlin-1.5.0.jar\nDownload https://jcenter.bintray.com/org/glassfish/javax.json/1.0.4/javax.json-1.0.4.jar\nDownload https://jcenter.bintray.com/org/jetbrains/kotlin/kotlin-stdlib-jre8/1.1.3/kotlin-stdlib-jre8-1.1.3.jar\nDownload https://jcenter.bintray.com/org/jetbrains/kotlin/kotlin-reflect/1.1.3/kotlin-reflect-1.1.3.jar\nDownload https://jcenter.bintray.com/com/squareup/okio/okio/1.13.0/okio-1.13.0.jar\nDownload https://jcenter.bintray.com/org/jetbrains/kotlin/kotlin-stdlib-jre7/1.1.3/kotlin-stdlib-jre7-1.1.3.jar\nDownload https://jcenter.bintray.com/org/jetbrains/kotlin/kotlin-stdlib/1.1.3/kotlin-stdlib-1.1.3.jar\n</code></pre>\n\n<p>This doesn't make sense to me as it's downloading the dependencies correctly (on Linux and Windows), but then only succeeding to compile on Windows and not Linux.  I haven't been able to figure out what's going on, so can anyone offer any suggestions for where to look?</p>\n"}, {"tags": ["inheritance", "kotlin"], "comments": [{"owner": {"reputation": 95978, "user_id": 1079354, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/c17dd9cf3e2322be19639e96da9f3eb3?s=128&d=identicon&r=PG", "display_name": "Makoto", "link": "https://stackoverflow.com/users/1079354/makoto"}, "edited": false, "score": 0, "creation_date": 1502212371, "post_id": 45574258, "comment_id": 78108074, "body": "Me not knowing much about Kotlin yet, but knowing that Java is generically <i>invariant</i> when it comes to this, was shocked to learn that this <i>should</i> be possible, if I read <a href=\"https://proandroiddev.com/understanding-generics-and-variance-in-kotlin-714c14564c470\" rel=\"nofollow noreferrer\">this article</a> correctly.  I&#39;m not confident in this finding enough to list it as an answer, but this&#39;ll at least give you a great lead to go off of."}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 5, "last_activity_date": 1502213794, "last_edit_date": 1502213794, "creation_date": 1502212812, "answer_id": 45574440, "question_id": 45574258, "link": "https://stackoverflow.com/questions/45574258/do-kotlin-classes-that-inherit-from-java-classes-also-inherit-from-any/45574440#45574440", "title": "Do Kotlin classes that inherit from Java classes also inherit from Any?", "body": "<p>Yes. <code>Any</code> is a <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">mapped type</a> that corresponds to <code>java.lang.Object</code> (which is the supertype for all Java classes), so, basically, every Java class is seen from Kotlin as a subtype of <code>Any</code>. The <code>something is Any</code> check is always true for both Kotlin and Java types, as long as <code>something</code> is non-null.</p>\n\n<p>Actually, <code>Any</code> is <em>represented by</em> <code>java.lang.Object</code> on the JVM platform:</p>\n\n<pre><code>println(Any::class.qualifiedName) // kotlin.Any\nprintln(Any::class.jvmName)       // java.lang.Object\n</code></pre>\n"}], "owner": {"reputation": 1752, "user_id": 918585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d84c69a270815c947e19baf632dbc15d?s=128&d=identicon&r=PG", "display_name": "Vas", "link": "https://stackoverflow.com/users/918585/vas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 364, "favorite_count": 0, "accepted_answer_id": 45574440, "answer_count": 1, "score": 2, "last_activity_date": 1502216043, "creation_date": 1502212149, "question_id": 45574258, "link": "https://stackoverflow.com/questions/45574258/do-kotlin-classes-that-inherit-from-java-classes-also-inherit-from-any", "title": "Do Kotlin classes that inherit from Java classes also inherit from Any?", "body": "<p>Do Kotlin classes that inherit from Java classes also inherit from Any?</p>\n\n<p>If we have a Java class Foo, and a Kotlin class Bar that inherits from Foo, and we're trying to use it in a MutableList in Kotlin, then should the following work?</p>\n\n<pre><code>class Class(items: MutableList&lt;Bar&gt; = mutableListOf()) {\n    var items: MutableList&lt;Any&gt; = items\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "kotlin-android-extensions"], "answers": [{"comments": [{"owner": {"reputation": 175, "user_id": 8138184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f055aea8a5960874615cd456ea4d2aa?s=128&d=identicon&r=PG&f=1", "display_name": "NSaran", "link": "https://stackoverflow.com/users/8138184/nsaran"}, "edited": false, "score": 1, "creation_date": 1502216270, "post_id": 45574332, "comment_id": 78110244, "body": "Thank you! A follow up question on this:   <code>var isX: Boolean     get() = isX()     set(value) = setX(value)</code>  You said that the isX will be a generated property. So will its signature look something like this?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 175, "user_id": 8138184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f055aea8a5960874615cd456ea4d2aa?s=128&d=identicon&r=PG&f=1", "display_name": "NSaran", "link": "https://stackoverflow.com/users/8138184/nsaran"}, "edited": false, "score": 1, "creation_date": 1502217968, "post_id": 45574332, "comment_id": 78111168, "body": "@user8138184, this is only a representation. It behaves <i>as if</i> there&#39;s a property implemented as you supposed, but it is not compiled to a real property (the Kotlin compiler just maps the reads and writes of this representation to real getter and setter calls)."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 6, "last_activity_date": 1502214699, "last_edit_date": 1502214699, "creation_date": 1502212397, "answer_id": 45574332, "question_id": 45574203, "link": "https://stackoverflow.com/questions/45574203/kotlin-setting-a-private-boolean-in-java-class-via-a-data-class-in-kotlin-why/45574332#45574332", "title": "Kotlin: Setting a private Boolean in Java class via a Data class in Kotlin. Why am I not able to do this?", "body": "<p>This is because of <a href=\"https://stackoverflow.com/questions/37481017/kotlin-view-setenabled-function-missing\">how Kotlin represents Java getters and setters as properties</a>. If the getter signature is <code>T isSomething()</code> (and not <code>T getSomething()</code>), then the Kotlin property is named <code>isSomething</code> as well (not just <code>something</code>) . And in your case, the <code>x = xNew</code> resolves to the private field access.</p>\n\n<p>You can fix your code by assigning <code>isX</code> instead:</p>\n\n<pre><code>init {\n    name = nameNew\n    isX = xNew\n}\n</code></pre>\n\n<p>Or, if you rename <code>isX()</code> to <code>getX()</code> in your Java code, then your <code>x = xNew</code> assignment will work.</p>\n"}], "owner": {"reputation": 175, "user_id": 8138184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f055aea8a5960874615cd456ea4d2aa?s=128&d=identicon&r=PG&f=1", "display_name": "NSaran", "link": "https://stackoverflow.com/users/8138184/nsaran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1545, "favorite_count": 1, "accepted_answer_id": 45574332, "answer_count": 1, "score": 9, "last_activity_date": 1502215503, "creation_date": 1502211963, "question_id": 45574203, "link": "https://stackoverflow.com/questions/45574203/kotlin-setting-a-private-boolean-in-java-class-via-a-data-class-in-kotlin-why", "title": "Kotlin: Setting a private Boolean in Java class via a Data class in Kotlin. Why am I not able to do this?", "body": "<p>I have a Java class of the format:</p>\n\n<pre><code>class JavaClass {\n    private String name;\n    private Boolean x;\n\n    public String getName() { return name; }\n    public void setName(String name) { this.name = name }\n\n    public Boolean isX() { return x; }\n    public void setX(Boolean x) { this.x = x }\n}\n</code></pre>\n\n<p>And I am overriding this class into a Data class in Kotlin, which is of the format:</p>\n\n<pre><code>data class KotlinClass(\n    var nameNew: String? = null,\n    var xNew: Boolean = false\n): JavaClass() {\n\n    init {\n        name = nameNew\n        x = xNew\n    }\n}\n</code></pre>\n\n<p>When I do this, the name initialization this way doesn't give a problem, but I can't initialize x in this way. The IDE complains that x is invisible. <strong>Why with x and not with name?</strong></p>\n\n<p>I created a new variable in the Kotlin class with the name x with a custom getter and setter and it complains about an accidental override for the setter (That is understandable.). This means that the the Java setter and getter is visible in the Data class. So why is the setter not being used for x in the init block, like it is doing for name?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 5, "creation_date": 1502211478, "post_id": 45574008, "comment_id": 78107560, "body": "Stack Overflow is not a code editing service."}], "answers": [{"comments": [{"owner": {"reputation": 39, "user_id": 8435479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13832db74570131b6c09d685cbae530a?s=128&d=identicon&r=PG&f=1", "display_name": "student", "link": "https://stackoverflow.com/users/8435479/student"}, "edited": false, "score": 0, "creation_date": 1502222028, "post_id": 45574390, "comment_id": 78113351, "body": "The last question. How to convert Celsius to Fahrenheit? Input: 25; 0; -5.5; 32.3 Output: 77; 32; 22.1; 90.14 fun main(args: Array&lt;String&gt;) {     val celsius = 25     val fahrenheit = celsius * 1.8 + 32     println(fahrenheit) }"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 39, "user_id": 8435479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13832db74570131b6c09d685cbae530a?s=128&d=identicon&r=PG&f=1", "display_name": "student", "link": "https://stackoverflow.com/users/8435479/student"}, "edited": false, "score": 0, "creation_date": 1502256463, "post_id": 45574390, "comment_id": 78123669, "body": "@student your code is right. what&#39;s wrong of the code?"}, {"owner": {"reputation": 39, "user_id": 8435479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13832db74570131b6c09d685cbae530a?s=128&d=identicon&r=PG&f=1", "display_name": "student", "link": "https://stackoverflow.com/users/8435479/student"}, "edited": false, "score": 0, "creation_date": 1502285697, "post_id": 45574390, "comment_id": 78143637, "body": "In the first case it should be 77, not 77.0 or 77.00."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 39, "user_id": 8435479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13832db74570131b6c09d685cbae530a?s=128&d=identicon&r=PG&f=1", "display_name": "student", "link": "https://stackoverflow.com/users/8435479/student"}, "edited": false, "score": 0, "creation_date": 1502287748, "post_id": 45574390, "comment_id": 78145400, "body": "@student use formatter instead: <code>DecimalFormat().apply { roundingMode = HALF_UP; maximumFractionDigits = 2 }</code>"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 39, "user_id": 8435479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13832db74570131b6c09d685cbae530a?s=128&d=identicon&r=PG&f=1", "display_name": "student", "link": "https://stackoverflow.com/users/8435479/student"}, "edited": false, "score": 0, "creation_date": 1502288587, "post_id": 45574390, "comment_id": 78146114, "body": "@student Kotlin is base on Java, if you want to mastering Kotlin you should learning <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> first."}, {"owner": {"reputation": 36733, "user_id": 907695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/daac9f1ef1a91604000a38376cace034?s=128&d=identicon&r=PG", "display_name": "Pointer Null", "link": "https://stackoverflow.com/users/907695/pointer-null"}, "edited": false, "score": 0, "creation_date": 1589477793, "post_id": 45574390, "comment_id": 109317730, "body": "@holi-java Not anymore, Kotlin is now multi-platform. And your answer doesn&#39;t work with Javascript target."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 36733, "user_id": 907695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/daac9f1ef1a91604000a38376cace034?s=128&d=identicon&r=PG", "display_name": "Pointer Null", "link": "https://stackoverflow.com/users/907695/pointer-null"}, "edited": false, "score": 0, "creation_date": 1589553959, "post_id": 45574390, "comment_id": 109348755, "body": "@PointerNull thanks for your feedback, but the original OP want to implement the javascript like function target in jvm only, not target for all platforms."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 5, "last_activity_date": 1502213219, "last_edit_date": 1502213219, "creation_date": 1502212658, "answer_id": 45574390, "question_id": 45574008, "link": "https://stackoverflow.com/questions/45574008/how-to-convert-tofixed2-in-kotlin/45574390#45574390", "title": "How to convert toFixed(2) in Kotlin", "body": "<p>I think you really meet a problem that how to convert Javascript code to Kotlin code. You need to ask the question clearly at next time, :). you can use <code>String#format</code> instead, for example:</p>\n\n<pre><code>println(\"%.2f\".format(1.0))  // print \"1.00\"\n\nprintln(\"%.2f\".format(1.253))  // print \"1.25\"\n\nprintln(\"%.2f\".format(1.255))  // print \"1.26\"\n</code></pre>\n\n<p><strong>AND</strong> the <code>area</code> is an <code>Int</code> which means it will truncates the <em>precision</em>, Kotlin doesn't like as Javascript use the numeric by default, so you should let <em><code>a*h</code></em> divide by a <code>Double</code>, then your code is like as below:</p>\n\n<pre><code>//                  v--- use a `Double` instead\nval area = a * h / 2.0\n\nprintln(\"Triangle area = ${\"%.2f\".format(area)}\")\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 8435479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13832db74570131b6c09d685cbae530a?s=128&d=identicon&r=PG&f=1", "display_name": "student", "link": "https://stackoverflow.com/users/8435479/student"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 835, "favorite_count": 0, "accepted_answer_id": 45574390, "answer_count": 1, "score": -4, "last_activity_date": 1502213219, "creation_date": 1502211396, "last_edit_date": 1502211882, "question_id": 45574008, "link": "https://stackoverflow.com/questions/45574008/how-to-convert-tofixed2-in-kotlin", "title": "How to convert toFixed(2) in Kotlin", "body": "<p>Please edit my code. Thanks.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\nval a = 20\nval h = 30\nval area = a * h / 2\nprintln(\"Triangle area = $area.toFixed(2)\")\n}\n</code></pre>\n"}, {"tags": ["java", "kotlin", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 2, "last_activity_date": 1502207572, "creation_date": 1502207572, "answer_id": 45572886, "question_id": 45572419, "link": "https://stackoverflow.com/questions/45572419/java-generic-to-kotlin-generic-return-generic-from-method/45572886#45572886", "title": "Java generic to Kotlin generic. Return generic from method", "body": "<p>Your code is returning a function which accepts <code>observable</code> of unknown type and returns an <code>Observable</code> object.</p>\n\n<p>The lambda expression you need should be like this:</p>\n\n<pre><code>protected fun &lt;T&gt; onNetworkError(): ObservableTransformer&lt;T, T&gt; {\n    return ObservableTransformer { observable -&gt;\n        observable\n                .doOnError({ throwable -&gt; networkError.setValue(throwable) })\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 13, "user_id": 8435111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896a3c2a8b8d22801768c03c16803e9e?s=128&d=identicon&r=PG&f=1", "display_name": "jegvetinte", "link": "https://stackoverflow.com/users/8435111/jegvetinte"}, "edited": false, "score": 1, "creation_date": 1502208149, "post_id": 45573008, "comment_id": 78105577, "body": "Thanks! I always looking for ways to simplify the code. I marked BakaWaii as correct answer as he was first to write."}], "tags": [], "owner": {"reputation": 6154, "user_id": 1392623, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/55zGA.jpg?s=128&g=1", "display_name": "Eduard B.", "link": "https://stackoverflow.com/users/1392623/eduard-b"}, "is_accepted": false, "score": 1, "last_activity_date": 1502207981, "creation_date": 1502207981, "answer_id": 45573008, "question_id": 45572419, "link": "https://stackoverflow.com/questions/45572419/java-generic-to-kotlin-generic-return-generic-from-method/45573008#45573008", "title": "Java generic to Kotlin generic. Return generic from method", "body": "<p>Additionally to BakaWaii's response from above, you can further simplify the code as follows: </p>\n\n<pre><code>protected fun &lt;T&gt; onNetworkError(): ObservableTransformer&lt;T, T&gt; {\n    return ObservableTransformer {\n        it.doOnError { networkError.setValue(it) }\n    }\n}\n</code></pre>\n\n<p>However, having two different <code>it</code>s might be confusing, so you might want to leave one of them as an explicit parameter.</p>\n"}], "owner": {"reputation": 13, "user_id": 8435111, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/896a3c2a8b8d22801768c03c16803e9e?s=128&d=identicon&r=PG&f=1", "display_name": "jegvetinte", "link": "https://stackoverflow.com/users/8435111/jegvetinte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 690, "favorite_count": 0, "accepted_answer_id": 45572886, "answer_count": 2, "score": 1, "last_activity_date": 1502207981, "creation_date": 1502206228, "question_id": 45572419, "link": "https://stackoverflow.com/questions/45572419/java-generic-to-kotlin-generic-return-generic-from-method", "title": "Java generic to Kotlin generic. Return generic from method", "body": "<p>Trying to convert a project from Java to Kotlin.</p>\n\n<p>I got stuck on a method that returns ObservableTransformer from RXJava 2</p>\n\n<p>Java</p>\n\n<pre><code>protected &lt;T&gt; ObservableTransformer&lt;T, T&gt; onNetworkError() {\n    return observable -&gt; observable\n            .doOnError(throwable -&gt; networkError.setValue(throwable));\n}\n</code></pre>\n\n<p>Converting this using intellij ide throws an error.</p>\n\n<p>Java to Kotlin using ide</p>\n\n<pre><code>protected fun &lt;T&gt; onNetworkError(): ObservableTransformer&lt;T, T&gt; {\n    return { observable -&gt;\n        observable\n                .doOnError({ throwable -&gt; networkError.setValue(throwable) })\n    }\n}\n</code></pre>\n\n<p>Does anyone have an idea to convert the above Java code to Kotlin?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["kotlin", "kotlin-null-safety"], "answers": [{"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 1, "last_activity_date": 1502205747, "last_edit_date": 1592644375, "creation_date": 1502205747, "answer_id": 45572250, "question_id": 45571981, "link": "https://stackoverflow.com/questions/45571981/handle-a-object-that-can-return-null-in-kotlin/45572250#45572250", "title": "handle a object that can return null in kotlin", "body": "<blockquote>\n<p>Should I need to have an if condition to check if the user is null?</p>\n</blockquote>\n<p>According to Firebase's doc:</p>\n<blockquote>\n<p>Returns the currently signed-in FirebaseUser or null if there is none.</p>\n<p>Use getCurrentUser() != null to check if a user is signed in.</p>\n</blockquote>\n<p>So, it depends on how you want to handle when there is no signed-in user.</p>\n<p>If you want the function to be one-lined, you can chain it like this:</p>\n<pre><code>fun getAuthUserEmail(): String? {\n    return FirebaseAuth.getInstance().currentUser?.email\n}\n</code></pre>\n<p>It will return null if <code>currentUser</code> is null or <code>currentUser?.email</code> is null.</p>\n<hr />\n<p>Edit: If you simply want to return email if it exists. It's ok to write it in one line, since <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"nofollow noreferrer\">safe calls</a> can be chained.</p>\n"}, {"tags": [], "owner": {"reputation": 457, "user_id": 4408588, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002483357368/picture?type=large", "display_name": "Janusz Hain", "link": "https://stackoverflow.com/users/4408588/janusz-hain"}, "is_accepted": false, "score": 1, "last_activity_date": 1502274037, "creation_date": 1502274037, "answer_id": 45587919, "question_id": 45571981, "link": "https://stackoverflow.com/questions/45571981/handle-a-object-that-can-return-null-in-kotlin/45587919#45587919", "title": "handle a object that can return null in kotlin", "body": "<p>Small advice. If you are sure object shouldn't be null, but is nullable, use <code>!!</code> to mark object as one that shouldn't be null. If app crashes it is okay as it shows you that u did somewhere bad implementation. Look at the structure of your implementation to know wheter object should be null or not, a lot of devs overuse <code>objet?.let</code> without looking if this object should be null or not</p>\n"}, {"tags": [], "owner": {"reputation": 4203, "user_id": 1339473, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ToWE6.jpg?s=128&g=1", "display_name": "QuokMoon", "link": "https://stackoverflow.com/users/1339473/quokmoon"}, "is_accepted": false, "score": 1, "last_activity_date": 1502285505, "creation_date": 1502285505, "answer_id": 45592188, "question_id": 45571981, "link": "https://stackoverflow.com/questions/45571981/handle-a-object-that-can-return-null-in-kotlin/45592188#45592188", "title": "handle a object that can return null in kotlin", "body": "<blockquote>\n  <p>I am just wondering in my kotlin version if the user happens to be\n  null. Should I need to have an if condition to check if the user is\n  null?</p>\n</blockquote>\n\n<p>Depend on the case how you are going to handle scenario but you can form \nyour data in <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"nofollow noreferrer\">Elvis Operator</a> way as below:</p>\n\n<pre><code>fun getAuthUserEmail(): String? {\n    return FirebaseAuth.getInstance().currentUser?.email ? \"No data\"\n}\n</code></pre>\n"}], "owner": {"reputation": 29871, "user_id": 70942, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9f7667844c54af07fbb1a85592137cd4?s=128&d=identicon&r=PG", "display_name": "ant2009", "link": "https://stackoverflow.com/users/70942/ant2009"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2116, "favorite_count": 0, "accepted_answer_id": 45572250, "answer_count": 3, "score": 1, "last_activity_date": 1502697663, "creation_date": 1502204910, "last_edit_date": 1502697663, "question_id": 45571981, "link": "https://stackoverflow.com/questions/45571981/handle-a-object-that-can-return-null-in-kotlin", "title": "handle a object that can return null in kotlin", "body": "<pre><code>Android Studio 3.0\n</code></pre>\n\n<p>I am have java code that I am converting to Kotlin for my project.</p>\n\n<pre><code>public String getAuthUserEmail() {\n        FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\n        String email = null;\n        if (user != null) {\n            email = user.getEmail();\n        }\n        return email;\n}\n</code></pre>\n\n<p>I have converted it to koklin like this:</p>\n\n<pre><code>   fun getAuthUserEmail(): String? {\n        val user: FirebaseUser? = FirebaseAuth.getInstance().currentUser\n\n        return user?.email\n    }\n</code></pre>\n\n<p>I am just wondering in my kotlin version if the user happens to be null. Should I need to have an if condition to check if the user is null?</p>\n\n<p>I could have the function as a one line</p>\n\n<pre><code>   fun getAuthUserEmail(): String? {\n       return FirebaseAuth.getInstance().currentUser.email?\n    }\n</code></pre>\n\n<p>And would the calling function need to handle a null string that could be return from the function?</p>\n\n<p>Many thanks for any suggestions</p>\n"}, {"tags": ["java", "reflection", "jvm", "kotlin"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1502204240, "post_id": 45571654, "comment_id": 78102852, "body": "You can create your own extension function which will hide this &#39;really ugly&#39; code."}, {"owner": {"reputation": 1085, "user_id": 4012979, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/---qkN46xdTA/AAAAAAAAAAI/AAAAAAAAAeI/x3SUiBz1BPQ/photo.jpg?sz=128", "display_name": "Preston Garno", "link": "https://stackoverflow.com/users/4012979/preston-garno"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1502206715, "post_id": 45571654, "comment_id": 78104617, "body": "@Miha_x64 all sarcasm aside that doesn&#39;t even address the question."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502209690, "post_id": 45571654, "comment_id": 78106502, "body": "hi, what you want to do is get the anonymous class?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1502210311, "post_id": 45571654, "comment_id": 78106878, "body": "Why not <code>someClass.java.isAnonymousClass</code>?"}, {"owner": {"reputation": 1085, "user_id": 4012979, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/---qkN46xdTA/AAAAAAAAAAI/AAAAAAAAAeI/x3SUiBz1BPQ/photo.jpg?sz=128", "display_name": "Preston Garno", "link": "https://stackoverflow.com/users/4012979/preston-garno"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1502215345, "post_id": 45571654, "comment_id": 78109742, "body": "@hotkey works, but I&#39;m looking for something without JVM i.e. only <code>kotlin.reflect</code>"}], "owner": {"reputation": 1085, "user_id": 4012979, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/---qkN46xdTA/AAAAAAAAAAI/AAAAAAAAAeI/x3SUiBz1BPQ/photo.jpg?sz=128", "display_name": "Preston Garno", "link": "https://stackoverflow.com/users/4012979/preston-garno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 262, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1502204077, "creation_date": 1502204077, "question_id": 45571654, "link": "https://stackoverflow.com/questions/45571654/simple-way-to-find-out-if-a-class-is-anonymous-object-and-get-the-concrete-class", "title": "Simple way to find out if a class is anonymous/object and get the concrete class name from the instance in Kotlin", "body": "<p>When implementing <code>toString</code>, etc. I sometimes print/log the concrete class name. Is there an easy/provided way to get this even for anonymous classes? It looks like there are less methods in the Kotlin reflection library than java. Currently, I'm doing it this way:</p>\n\n<pre><code>    instance::class.qualifiedName?: \n      instance::class::superclasses.get()[0].qualifiedName)\n</code></pre>\n\n<p>which is really ugly, and I don't know if it's even guaranteed to be correct every time unless the ordering of the list of superclasses is.</p>\n\n<p>Is there a method for kotlin reflection like in <code>java.lang.reflect</code> where it's as easy as typing <code>someClass.isAnonymous()</code>?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502203478, "post_id": 45571272, "comment_id": 78102215, "body": "you can try to replace it with <code>timer = timer + someOtherValue</code>."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1502203597, "post_id": 45571272, "comment_id": 78102313, "body": "Providing more context of your problem."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1502203750, "post_id": 45571272, "comment_id": 78102445, "body": "I confirm it doesn&#39;t work for me ether"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1502203840, "post_id": 45571272, "comment_id": 78102507, "body": "The should be ok because when <code>plusAssingned</code> is not defined, such an expression is converted to `timer = timer + someOtherValue"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1502203863, "post_id": 45571272, "comment_id": 78102529, "body": "Please file a bug at <a href=\"https://youtrack.jetbrains.com/issues/KT\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/KT</a>"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1502203942, "post_id": 45571272, "comment_id": 78102591, "body": "@voddan No. <code>plusAssingned</code> is for immutable variables if the <code>plus</code> exists. in other words, the <code>+=</code> will always use the <code>plus</code>  with a mutable variable when both <code>plusAssingned</code> and <code>plus</code> are exist. you can see here as further: <a href=\"https://stackoverflow.com/questions/44558663/overloading-and-operators-for-number-classes/44562224#44562224\" title=\"overloading and operators for number classes\">stackoverflow.com/questions/44558663/&hellip;</a>"}, {"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502205841, "post_id": 45571272, "comment_id": 78103987, "body": "@holi-java of course this is what I did, thank you :) But still it bothers me, how it <i>just</i> stopped working!"}, {"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1502205925, "post_id": 45571272, "comment_id": 78104047, "body": "@Miha_x64 I define it in an extension function for my specific type of <code>activity</code> (a bit weird at first glance, but surprisingly very readable). Is it enough or do you need more information?"}, {"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502206123, "post_id": 45571272, "comment_id": 78104187, "body": "@holi-java regarding mentioned stack question, I will just look into the definition of the delegate I used"}], "answers": [{"comments": [{"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "edited": false, "score": 0, "creation_date": 1502206920, "post_id": 45572617, "comment_id": 78104763, "body": "Ah yeah, we saw that, but I&#39;m still wondering why <i>it just stopped working</i> (it worked for a week or so) - or maybe, why it worked in the first place!"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "edited": false, "score": 0, "creation_date": 1502207004, "post_id": 45572617, "comment_id": 78104820, "body": "@Antek maybe you used the newest version kotlin in last week."}, {"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "edited": false, "score": 0, "creation_date": 1502207101, "post_id": 45572617, "comment_id": 78104887, "body": "how this could be? The version used in the project has been stable at 1.1.3-2 since 13th of July, and I don&#39;t remember any update notifications"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "edited": false, "score": 0, "creation_date": 1502207263, "post_id": 45572617, "comment_id": 78104969, "body": "@Antek I&#39;m sure you can&#39;t, maybe you make it to a <b>property</b> rather than a local <b>variable</b>. the newest version kotlin also don&#39;t support that: <a href=\"https://github.com/JetBrains/kotlin/blob/master/compiler/backend/src/org/jetbrains/kotlin/codegen/StackValue.java#L1718\" rel=\"nofollow noreferrer\">github.com/JetBrains/kotlin/blob/master/compiler/backend/src&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "edited": false, "score": 0, "creation_date": 1502207309, "post_id": 45572617, "comment_id": 78104995, "body": "computers are weird (:"}, {"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "edited": false, "score": 0, "creation_date": 1502264717, "post_id": 45572617, "comment_id": 78127962, "body": "regarding property - I&#39;m defining <code>timer</code> as a local variable inside extension function, I can make it an extension property. I hope I will have time to look into this possibility."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 1, "last_activity_date": 1502206958, "last_edit_date": 1502206958, "creation_date": 1502206772, "answer_id": 45572617, "question_id": 45571272, "link": "https://stackoverflow.com/questions/45571272/augment-assignment-and-increment-are-not-supported-for-local-delegated-propertie/45572617#45572617", "title": "Augment assignment and increment are not supported for local delegated properties ans inline properties", "body": "<p>This is because this feature is not implemented yet, it's not a bug, :). here is the source code of the <a href=\"https://github.com/JetBrains/kotlin/blob/1.1.3/compiler/backend/src/org/jetbrains/kotlin/codegen/StackValue.java#L1815\" rel=\"nofollow noreferrer\">StackValue#L1815</a> in Kotlin 1.1.3 as below:</p>\n\n<pre><code>if (stackValue instanceof Delegate) {\n    //TODO need to support\n    throwUnsupportedComplexOperation(((Delegate) stackValue).variableDescriptor);\n}\n</code></pre>\n\n<p>Why does the <strong>property</strong> can working with <code>+=</code>, this is because the <code>Delegate</code> is wrapped by <code>getter</code>/<code>setter</code>, which means it is invisible from the client code.</p>\n"}], "owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 45572617, "answer_count": 1, "score": 1, "last_activity_date": 1502206958, "creation_date": 1502203036, "question_id": 45571272, "link": "https://stackoverflow.com/questions/45571272/augment-assignment-and-increment-are-not-supported-for-local-delegated-propertie", "title": "Augment assignment and increment are not supported for local delegated properties ans inline properties", "body": "<p>as in title:\n<code>Augment assignment and increment are not supported for local delegated properties ans inline properties</code> - I get this for a following piece of code:</p>\n\n<pre><code>var timer by someDelegate { }\ntimer += someOtherValue\n</code></pre>\n\n<p>which compiled perfectly as long as half an hour ago. Cleaning the project  and resetting Android Studio did not help.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1502202304, "post_id": 45570575, "comment_id": 78101270, "body": "are you sure that in your code you&#39;re importing the BuildConfig of your app and not the one of some other library? Can you change it to <code>com.yourapp.BuildConfig.DEBUG</code>?"}, {"owner": {"reputation": 1182, "user_id": 1667344, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/072fddfd0f05f50faabcc63f655a6ce1?s=128&d=identicon&r=PG", "display_name": "Josh Beckwith", "link": "https://stackoverflow.com/users/1667344/josh-beckwith"}, "reply_to_user": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1502202365, "post_id": 45570575, "comment_id": 78101324, "body": "@lelloman Both the code and the BuildConfig I&#39;m referencing are part of a separate android module. I&#39;m seeing elsewhere that if you&#39;re reference a BuildConfig in a android module, it&#39;s always going to be debug false. Is there anything that can be done about this?"}], "answers": [{"tags": [], "owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "is_accepted": false, "score": 1, "last_activity_date": 1502202792, "creation_date": 1502202792, "answer_id": 45571170, "question_id": 45570575, "link": "https://stackoverflow.com/questions/45570575/android-kotlin-buildconfig-file-isnt-giving-the-correct-value/45571170#45571170", "title": "Android Kotlin: BuildConfig file isn&#39;t giving the correct value", "body": "<p>the problem is that your module will be built with release variant by default. you can actually set the dependencies in your app explicitly, so that the debug variant of the app depends on the debug build of a module, and app release on module release.</p>\n\n<pre><code>dependencies {\n    releaseCompile project(path: ':library', configuration: 'release')\n    debugCompile project(path: ':library', configuration: 'debug')\n}\n</code></pre>\n"}], "owner": {"reputation": 1182, "user_id": 1667344, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/072fddfd0f05f50faabcc63f655a6ce1?s=128&d=identicon&r=PG", "display_name": "Josh Beckwith", "link": "https://stackoverflow.com/users/1667344/josh-beckwith"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1538, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1502202792, "creation_date": 1502201208, "question_id": 45570575, "link": "https://stackoverflow.com/questions/45570575/android-kotlin-buildconfig-file-isnt-giving-the-correct-value", "title": "Android Kotlin: BuildConfig file isn&#39;t giving the correct value", "body": "<p>I'm building my project in Kotlin. In one line of my application, I am access a property in the BuildConfig file (which is a generated file, and it's being generated in Java, if that matters). BuildConfig.DEBUG is evaluating to <em>false</em> and though it's set to <em>true</em>.</p>\n\n<p>Here is the line:</p>\n\n<pre><code>if (BuildConfig.DEBUG) // do something\n</code></pre>\n\n<p>Here is my generated BuildConfigs line:</p>\n\n<pre><code>public static final boolean DEBUG = Boolean.parseBoolean(\"true\");\n</code></pre>\n\n<p>When I \"go to reference\" using CTRL+B or middle mouse click on BuildConfig.DEBUG, it takes me to the correct file, I <em>know</em> it's accessing the correct file.</p>\n\n<p>I've stepped through the debugger already. Boolean.parseBoolean(\"true\"); correctly returns true in the expression evaluator.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["android", "android-studio", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 1089, "user_id": 5576636, "user_type": "registered", "profile_image": "https://graph.facebook.com/1048479778517375/picture?type=large", "display_name": "Anurag", "link": "https://stackoverflow.com/users/5576636/anurag"}, "edited": false, "score": 1, "creation_date": 1502190849, "post_id": 45566266, "comment_id": 78092394, "body": "Are you using latest version of Kotlin plugin ? Since it was a issue in the kotlin&#39;s pervious version, If not, just disable the kotlin plugin your project will work again. This error is mainly occurs when one of your plugin is not compatible."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7522312"}, "reply_to_user": {"reputation": 1089, "user_id": 5576636, "user_type": "registered", "profile_image": "https://graph.facebook.com/1048479778517375/picture?type=large", "display_name": "Anurag", "link": "https://stackoverflow.com/users/5576636/anurag"}, "edited": false, "score": 0, "creation_date": 1502191859, "post_id": 45566266, "comment_id": 78093172, "body": "Yes I have downloaded the lastest version of Kotlin (I cannot update). But I dont want to disable plugin because I want to use Kotlin in the project and also I cannot create new projects."}, {"owner": {"reputation": 965, "user_id": 4288334, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cGseApRw1A8/AAAAAAAAAAI/AAAAAAAAA68/7Qc6qaRau9k/photo.jpg?sz=128", "display_name": "Niroshan", "link": "https://stackoverflow.com/users/4288334/niroshan"}, "edited": false, "score": 0, "creation_date": 1502192922, "post_id": 45566266, "comment_id": 78093972, "body": "For better Kotlin support try Android Studio 3.0 Canary 7+. Those are good enough and stable enough more over you can keep your Android Studio 2.3.3 installation no need to replace."}, {"owner": {"reputation": 587, "user_id": 3295983, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/ZCmn9.jpg?s=128&g=1", "display_name": "Deepak Rathore", "link": "https://stackoverflow.com/users/3295983/deepak-rathore"}, "edited": false, "score": 0, "creation_date": 1502193132, "post_id": 45566266, "comment_id": 78094136, "body": "Faced same problem. Try to make new project with kotlin dependency. (  While creating project check kotlin dependency ). It will download remaining kotlin support. Now you will be able to use android studio for older project."}, {"owner": {"reputation": 1089, "user_id": 5576636, "user_type": "registered", "profile_image": "https://graph.facebook.com/1048479778517375/picture?type=large", "display_name": "Anurag", "link": "https://stackoverflow.com/users/5576636/anurag"}, "edited": false, "score": 0, "creation_date": 1502193411, "post_id": 45566266, "comment_id": 78094338, "body": "@JoseLuis Have you added Kotlin&#39;s classpath to your project Build.gradle and Kotlin&#39;s plugin in your module.gradle ?"}], "answers": [{"tags": [], "owner": {"reputation": 51, "user_id": 999015, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TMYfd.png?s=128&g=1", "display_name": "Ganesh Kumar Ramamoorthy", "link": "https://stackoverflow.com/users/999015/ganesh-kumar-ramamoorthy"}, "is_accepted": false, "score": 0, "last_activity_date": 1505263493, "creation_date": 1505263493, "answer_id": 46187194, "question_id": 45566266, "link": "https://stackoverflow.com/questions/45566266/cannot-open-android-studio-project-after-install-kotlin/46187194#46187194", "title": "Cannot open Android studio project after install kotlin", "body": "<p>I too got the same problem when I was creating New Project in Android Studio. I get an error \"com.intellij.diagnostic Pluginexception Plugin org.jetbrains.kotlin.android.dsl\"</p>\n\n<p><strong>Solution :</strong></p>\n\n<p>Go to \"Welcome Android Studio\" > Configure > Plugin > Search \"Anko\" plugin. Uninstall this plugin and Restart the Android Studio. </p>\n\n<p>This fixed for me. </p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7522312"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 429, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1505263493, "creation_date": 1502189285, "last_edit_date": 1502193817, "question_id": 45566266, "link": "https://stackoverflow.com/questions/45566266/cannot-open-android-studio-project-after-install-kotlin", "title": "Cannot open Android studio project after install kotlin", "body": "<p>Just downloaded Android Studio 2.3.3 and after install I've created a simple project. Then I've installed Kotlin plugin and now I cannot open projects...</p>\n\n<p>This is the error message:</p>\n\n<pre><code>Cannot load project: \n</code></pre>\n\n<p><code>com.intellij.ide.plugins.PluginManager$StartupAbortedException: com.intellij.diagnostic.PluginException: org/jetbrains/android/uipreview/AndroidLayoutPreviewToolWindowManager [Plugin: org.jetbrains.kotlin.android.dsl]</code></p>\n\n<p>(SOLVED)\nI don't know why but after reinstall kotlin plugin and restart android studio several times magically it works..</p>\n\n<p>Thank you all</p>\n"}, {"tags": ["android", "mockito", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3007, "user_id": 705544, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/01d0590a2787663c5eac4283092cbc12?s=128&d=identicon&r=PG", "display_name": "edi233", "link": "https://stackoverflow.com/users/705544/edi233"}, "edited": false, "score": 0, "creation_date": 1502193019, "post_id": 45565951, "comment_id": 78094041, "body": "that&#39;s it!!! I forgot add: presenter.bindView(view) in test class before call methods. Thx a lot!"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 1, "last_activity_date": 1502188295, "creation_date": 1502188295, "answer_id": 45565951, "question_id": 45564555, "link": "https://stackoverflow.com/questions/45564555/null-pointer-in-view-when-run-test-android-mocking/45565951#45565951", "title": "Null pointer in view when run test android mocking", "body": "<p><code>MenuPresenter()</code> - you don't call <code>bindView</code> anywhere in your code, so the presenter has no idea about your mocked view. This means it cannot be anything but <code>null</code>.</p>\n"}], "owner": {"reputation": 3007, "user_id": 705544, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/01d0590a2787663c5eac4283092cbc12?s=128&d=identicon&r=PG", "display_name": "edi233", "link": "https://stackoverflow.com/users/705544/edi233"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 0, "accepted_answer_id": 45565951, "answer_count": 1, "score": 0, "last_activity_date": 1502188295, "creation_date": 1502184511, "question_id": 45564555, "link": "https://stackoverflow.com/questions/45564555/null-pointer-in-view-when-run-test-android-mocking", "title": "Null pointer in view when run test android mocking", "body": "<p>I create test:</p>\n\n<pre><code>class MenuPresenterTest {\n\n    lateinit var presenter: MenuPresenter\n    lateinit var view: MenuView\n\n    @Before fun setUp() {\n        view = mock(MenuView::class.java)\n        presenter = MenuPresenter()\n    }\n\n    @Test fun test_validation() {\n        presenter.openActivity()\n        verify(view).openActivity()\n    }\n\n\n}\n</code></pre>\n\n<p>MenuView</p>\n\n<pre><code>interface MenuView : MvpView {\n    fun init()\n    fun openActivity()\n}\n</code></pre>\n\n<p>MenuPresenter</p>\n\n<pre><code>@PerActivity\nclass MenuPresenter @Inject constructor() : MvpPresenter&lt;MenuView&gt;() {\n\n    fun initView(){\n        view.init()\n    }\n\n    fun openActivity(){\n        view.openActivity()\n    }\n}\n</code></pre>\n\n<p>MvpPresenter</p>\n\n<pre><code>open class MvpPresenter&lt;V : MvpBaseView&gt; : MvpBasePresenter&lt;V&gt;() {\n    // things specific for current project\n\n    override fun bindView(view: V) {\n        super.bindView(view)\n    }\n\n    override fun unbindView() {\n        super.unbindView()\n        clear()\n    }\n}\n</code></pre>\n\n<p>MvpBasePresenter:</p>\n\n<pre><code>abstract class MvpBasePresenter&lt;V : MvpBaseView&gt; {\n    private var viewRef: WeakReference&lt;V&gt;? = null\n    private val disposables = CompositeDisposable()\n\n    fun clear() = disposables.clear()\n    fun dispose(disposable: Disposable) = disposables.add(disposable)\n\n    open fun bindView(view: V) {\n        viewRef = WeakReference(view)\n    }\n\n    open fun unbindView() {\n        viewRef = null\n    }\n\n    fun isViewBound() = viewRef != null\n\n    val view: V\n        get() {\n            if (viewRef == null) {\n                throw NullPointerException(\"getView() called when viewRef is null. Ensure bindView(View view) is called first.\")\n            } else {\n                return viewRef!!.get() as V\n            }\n        }\n\n\n}\n</code></pre>\n\n<p>when I run test I get:</p>\n\n<pre><code>java.lang.NullPointerException: getView() called when viewRef is null. Ensure bindView(View view) is called first.\nat base.MvpBasePresenter.getView(MvpBasePresenter.kt:27)\n</code></pre>\n\n<p>Any ideas why?</p>\n"}, {"tags": ["gradle", "character-encoding", "kotlin"], "comments": [{"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1502211742, "post_id": 45564450, "comment_id": 78107727, "body": "I&#39;m pretty sure it&#39;s always UTF-8, although I can&#39;t find it documented."}, {"owner": {"reputation": 3196, "user_id": 1231245, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/86Lrq.jpg?s=128&g=1", "display_name": "StefMa", "link": "https://stackoverflow.com/users/1231245/stefma"}, "edited": false, "score": 5, "creation_date": 1502374872, "post_id": 45564450, "comment_id": 78191658, "body": "<code>Does it mean that there is no such option?</code> - After checking there source code I can tell you: No. There is no such option. You can check the DSL for the plugin <a href=\"https://github.com/JetBrains/kotlin/tree/master/libraries/tools/kotlin-gradle-plugin/src/main/kotlin/org/jetbrains/kotlin/gradle/dsl\" rel=\"nofollow noreferrer\">here</a>. Specially the <code>KotlinJvmOptions*</code> are interested for you for what is available and whats not. Unfortunately I can&#39;t say you which default encoding they use..."}, {"owner": {"reputation": 1904, "user_id": 1545952, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aMD46.jpg?s=128&g=1", "display_name": "Xvolks", "link": "https://stackoverflow.com/users/1545952/xvolks"}, "edited": false, "score": 0, "creation_date": 1502378550, "post_id": 45564450, "comment_id": 78194604, "body": "I found this statement <code>All Kotlin source files use the UTF-8 character encoding</code> at <a href=\"https://medium.com/@napperley/unofficial-kotlin-style-guide-a44cb899a84f\" rel=\"nofollow noreferrer\">medium.com/@napperley/&hellip;</a>. But it seems to be best practices. I guess that if UTF-8 works and other encodings don&#39;t and there is no way to specify the actual encoding, you are stuck to UTF-8."}, {"owner": {"reputation": 1186, "user_id": 3714376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OkQsb.jpg?s=128&g=1", "display_name": "JTeam", "link": "https://stackoverflow.com/users/3714376/jteam"}, "edited": false, "score": 0, "creation_date": 1502965840, "post_id": 45564450, "comment_id": 78422938, "body": "@Natix what is your gradle wrapper version?"}, {"owner": {"reputation": 12997, "user_id": 1064809, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b1cf3eaad6d6c7bd5995351132923cac?s=128&d=identicon&r=PG", "display_name": "Natix", "link": "https://stackoverflow.com/users/1064809/natix"}, "reply_to_user": {"reputation": 1186, "user_id": 3714376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OkQsb.jpg?s=128&g=1", "display_name": "JTeam", "link": "https://stackoverflow.com/users/3714376/jteam"}, "edited": false, "score": 0, "creation_date": 1502971677, "post_id": 45564450, "comment_id": 78427016, "body": "@JTeam Depends, I usually try to use the latest Gradle available. Does it matter?"}], "answers": [{"tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": false, "score": 8, "last_activity_date": 1505549108, "creation_date": 1505549108, "answer_id": 46251660, "question_id": 45564450, "link": "https://stackoverflow.com/questions/45564450/how-to-set-kotlin-source-encoding-in-gradle/46251660#46251660", "title": "How to set Kotlin source encoding in Gradle?", "body": "<p>Kotlin source files are always UTF-8 by design. There is no way to specify any other encoding. </p>\n"}], "owner": {"reputation": 12997, "user_id": 1064809, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/b1cf3eaad6d6c7bd5995351132923cac?s=128&d=identicon&r=PG", "display_name": "Natix", "link": "https://stackoverflow.com/users/1064809/natix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2112, "favorite_count": 2, "answer_count": 1, "score": 15, "last_activity_date": 1505549108, "creation_date": 1502184213, "last_edit_date": 1502971892, "question_id": 45564450, "link": "https://stackoverflow.com/questions/45564450/how-to-set-kotlin-source-encoding-in-gradle", "title": "How to set Kotlin source encoding in Gradle?", "body": "<p>When building Java or Groovy using Gradle, it's possible to define source encoding like this:</p>\n\n<pre><code>compileJava {\n    options.encoding = 'UTF-8'\n}\n\ncompileTestJava {\n    options.encoding = 'UTF-8'\n}\n\ncompileGroovy {\n    groovyOptions.encoding = 'UTF-8'\n}\n\ncompileTestGroovy {\n    groovyOptions.encoding = 'UTF-8'\n}\n</code></pre>\n\n<p>However, similar approach with Kotlin doesn't work:</p>\n\n<pre><code>compileKotlin {        \n    kotlinOptions.jvmTarget = '1.8'\n    kotlinOptions.encoding = 'UTF-8'\n}\n</code></pre>\n\n<p>It fails with the error:</p>\n\n<pre><code>* What went wrong:\nA problem occurred evaluating root project 'backend'.\n&gt; No such property: encoding for class: org.jetbrains.kotlin.gradle.dsl.KotlinJvmOptionsImpl\n</code></pre>\n\n<p>I actually can't find any info about Kotlin compiler's encoding at all. Does it mean that there is no such option? What charset does it use then, UTF-8, system default (I hope not)?</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 160, "user_id": 6018922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64514f2111c758325aac19cd177385da?s=128&d=identicon&r=PG&f=1", "display_name": "aygavras", "link": "https://stackoverflow.com/users/6018922/aygavras"}, "is_accepted": true, "score": 1, "last_activity_date": 1502187007, "creation_date": 1502187007, "answer_id": 45565481, "question_id": 45564196, "link": "https://stackoverflow.com/questions/45564196/how-to-extends-java-static-fields-in-kotlin/45565481#45565481", "title": "How to extends Java static fields in kotlin", "body": "<p>In Kotlin, unlike Java, static members are not inherited by subclasses, though they can be called inside a subclass without specifying the base class name.</p>\n\n<p>For this case, you can either call using the base class. Or:</p>\n\n<pre><code>object ResponseCode : Code() {\n     val SKU_STOCK_NOT_ENOUGH = 2000\n     val _SUCCESS = SUCCESS\n\n}\n</code></pre>\n\n<p>One more option is declaring a method instead of a variable. </p>\n\n<pre><code>object ResponseCode : Code() {\n    val SKU_STOCK_NOT_ENOUGH = 2000\n\n    fun SUCCESS(): Int {\n        return SUCCESS\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 483, "user_id": 5381825, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/shF6d.jpg?s=128&g=1", "display_name": "dzrkot", "link": "https://stackoverflow.com/users/5381825/dzrkot"}, "is_accepted": false, "score": 0, "last_activity_date": 1502187326, "creation_date": 1502187326, "answer_id": 45565595, "question_id": 45564196, "link": "https://stackoverflow.com/questions/45564196/how-to-extends-java-static-fields-in-kotlin/45565595#45565595", "title": "How to extends Java static fields in kotlin", "body": "<p>there is no way to get static field from java class <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#accessing-static-members\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/java-interop.html#accessing-static-members</a></p>\n\n<p>only way:</p>\n\n<pre><code>object ResponseCode : Code() {\n    val SKU_STOCK_NOT_ENOUGH = 2000\n\n    fun getSuccess() = SUCCESS\n    fun getFail() = FAIL\n\n}\n</code></pre>\n"}], "owner": {"reputation": 291, "user_id": 3910584, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4urSl.jpg?s=128&g=1", "display_name": "wujunbin", "link": "https://stackoverflow.com/users/3910584/wujunbin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 653, "favorite_count": 0, "accepted_answer_id": 45565481, "answer_count": 2, "score": 1, "last_activity_date": 1502187326, "creation_date": 1502183577, "question_id": 45564196, "link": "https://stackoverflow.com/questions/45564196/how-to-extends-java-static-fields-in-kotlin", "title": "How to extends Java static fields in kotlin", "body": "<p>I have a Java file</p>\n\n<pre><code>public class Code {\n    public static final int SUCCESS = 0;\n    public static final int FAIL = 1;\n}\n</code></pre>\n\n<p>I created a kotlin class that extends the Code class.</p>\n\n<pre><code>object ResponseCode : Code() {\n    val SKU_STOCK_NOT_ENOUGH = 2000\n}\n</code></pre>\n\n<p>I cannot call the statement, ResponseCode.SUCCESS, in other Kotlin function.\nWhat can I do to make kotlin class extend the Code class's static field.</p>\n"}, {"tags": ["android", "android-fragments", "android-activity", "kotlin"], "comments": [{"owner": {"reputation": 2296, "user_id": 215400, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/04691f365d960f86a3659ca2d397a136?s=128&d=identicon&r=PG", "display_name": "tskulbru", "link": "https://stackoverflow.com/users/215400/tskulbru"}, "edited": false, "score": 0, "creation_date": 1502182355, "post_id": 45563642, "comment_id": 78086282, "body": "How did you define the variable iv_slide_image ? is it through kotlin-android-extensions ?"}, {"owner": {"reputation": 457, "user_id": 1636461, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/930851793339a6aad2f5ae6e37f432f1?s=128&d=identicon&r=PG", "display_name": "Avinash kumawat", "link": "https://stackoverflow.com/users/1636461/avinash-kumawat"}, "reply_to_user": {"reputation": 2296, "user_id": 215400, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/04691f365d960f86a3659ca2d397a136?s=128&d=identicon&r=PG", "display_name": "tskulbru", "link": "https://stackoverflow.com/users/215400/tskulbru"}, "edited": false, "score": 0, "creation_date": 1502182479, "post_id": 45563642, "comment_id": 78086383, "body": "yes..I used kotlin-android-extension @tskulbru"}, {"owner": {"reputation": 5865, "user_id": 3676184, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/e3d0f66167a77f42ccbc191a91f163fd?s=128&d=identicon&r=PG&f=1", "display_name": "Pavya", "link": "https://stackoverflow.com/users/3676184/pavya"}, "edited": false, "score": 0, "creation_date": 1502182706, "post_id": 45563642, "comment_id": 78086548, "body": "try with pager adapter instead of fragmentpagerAdapter  <a href=\"http://www.androhub.com/android-image-slider-using-viewpager/\" rel=\"nofollow noreferrer\">androhub.com/android-image-slider-using-viewpager</a>"}, {"owner": {"reputation": 457, "user_id": 1636461, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/930851793339a6aad2f5ae6e37f432f1?s=128&d=identicon&r=PG", "display_name": "Avinash kumawat", "link": "https://stackoverflow.com/users/1636461/avinash-kumawat"}, "reply_to_user": {"reputation": 5865, "user_id": 3676184, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/e3d0f66167a77f42ccbc191a91f163fd?s=128&d=identicon&r=PG&f=1", "display_name": "Pavya", "link": "https://stackoverflow.com/users/3676184/pavya"}, "edited": false, "score": 0, "creation_date": 1502347659, "post_id": 45563642, "comment_id": 78171401, "body": "FragmentViewPager is extended by the PagerAdapter class.. Don&#39;t know how is this going to solve my problem.. @pravin"}], "owner": {"reputation": 457, "user_id": 1636461, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/930851793339a6aad2f5ae6e37f432f1?s=128&d=identicon&r=PG", "display_name": "Avinash kumawat", "link": "https://stackoverflow.com/users/1636461/avinash-kumawat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 240, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1502182154, "creation_date": 1502182154, "question_id": 45563642, "link": "https://stackoverflow.com/questions/45563642/calling-a-function-in-a-fragment-of-a-view-pager-from-activity", "title": "Calling a function in a fragment of a view pager from activity", "body": "<p>I have a activity which contains few checkboxs and a view pager which slides in every 30 sec. I want to change the image when i check the checkbox in the parent activity. But while calling function \"flipImage()\" in the fragment gets the image view as null and also when i click the image the onClickListener is not working.</p>\n\n<pre><code>class SomeActivity : AppCompatActivity() {\n\n    var viewPagerAdapter : SectionsPagerAdapter by Delegates.notNull&lt;SectionsPagerAdapter&gt;()\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n        setContentView(R.layout.activity_image_slides)\n        supportActionBar?.setDisplayHomeAsUpEnabled(true)\n\n        viewPagerAdapter = SectionsPagerAdapter(supportFragmentManager)\n\n        vp_image_slides.adapter = viewPagerAdapter\n\n        btnImageFlip.setOnCheckedChangeListener({\n            checkbox, b -&gt;\n\n            val slideImageFrag = viewPagerAdapter.getItem(vp_image_slides.currentItem) as SlideImageFragment\n            slideImageFrag.flipImage()\n        })\n    }\n\n\n    inner class SectionsPagerAdapter(fm: FragmentManager) : FragmentPagerAdapter(fm) {\n\n        override fun getItem(position: Int): Fragment {\n\n\n            return SlideImageFragment.newInstance(someUri)\n        }\n\n        override fun getCount(): Int {\n\n            return 4\n        }\n\n\n    }\n\n}\n</code></pre>\n\n<p>and In My Fragment</p>\n\n<pre><code>    class SlideImageFragment : Fragment() {\n\n        var uri: Uri? = null\n        val TAG = SlideImageFragment.javaClass.simpleName\n\n\n\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            if (arguments != null) {\n                uri = arguments.getParcelable(IMAGE_URI)\n\n            }\n        }\n\n\n        override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n            super.onViewCreated(view, savedInstanceState)\n            if (uri != null) {\n\n\n                Glide.with(view).load(uri).into(iv_slide_image)\n\n//Not working\n                iv_slide_image.setOnClickListener {\n\n                    val activity = activity as ImageSlidesActivity\n                    activity.toggle()\n                    Log.e(TAG, \"Image is clicke2d\")\n                }\n\n            }\n\n        }\n\n\n\n        fun flipImage() {\n\n\n        //here I am getting iv_slide_image as null\n            if (iv_slide_image != null)\n                iv_slide_image.rotationX = 180f\n        }\n\n\n        override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                                  savedInstanceState: Bundle?): View? {\n\n            Log.e(TAG, \"onCreateView\")\n            val view = inflater!!.inflate(R.layout.fragment_slide_image, container, false)\n\n\n            return view\n\n        }\n\n\n\n\n        companion object {\n\n            val IMAGE_URI = \"image\"\n            fun newInstance(uri: Uri): SlideImageFragment {\n                val fragment = SlideImageFragment()\n                val args = Bundle()\n                args.putParcelable(IMAGE_URI, uri)\n                fragment.arguments = args\n                return fragment\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["java", "android", "exception", "kotlin", "oncreate"], "comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1502179366, "post_id": 45562434, "comment_id": 78084232, "body": "Is there anything else in your onCreate()?"}, {"owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "edited": false, "score": 0, "creation_date": 1502179428, "post_id": 45562434, "comment_id": 78084268, "body": "What&#39;s the name of your Activity?"}, {"owner": {"reputation": 4031, "user_id": 391401, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c1ad749cc57f5b0b5802de65435412d0?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/391401/androiddev"}, "edited": false, "score": 0, "creation_date": 1502179575, "post_id": 45562434, "comment_id": 78084377, "body": "AuthenticationActivity.kt and the Manifest file has this entry:         &lt;activity             android:name=&quot;.Authentication.AuthenticationActivity&quot;             android:configChanges=&quot;keyboardHidden|orientation|screenSize&zwnj;&#8203;|uiMode&quot;             android:screenOrientation=&quot;sensorPortrait&quot;             android:theme=&quot;@style/AppTheme.Simple&quot;             tools:ignore=&quot;InnerclassSeparator&quot;&gt;             &lt;intent-filter&gt;                 &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;                 &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;"}, {"owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "edited": false, "score": 0, "creation_date": 1502179706, "post_id": 45562434, "comment_id": 78084461, "body": "Can you post code of AppLifecycleTracker class?"}], "answers": [{"comments": [{"owner": {"reputation": 4031, "user_id": 391401, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c1ad749cc57f5b0b5802de65435412d0?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/391401/androiddev"}, "edited": false, "score": 0, "creation_date": 1502179795, "post_id": 45562694, "comment_id": 78084512, "body": "Facepalm :) I did override AppLifecycleTracker somewhere else and I completely forgot about that. Now its working fine, thank you."}], "tags": [], "owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "is_accepted": true, "score": 4, "last_activity_date": 1502179563, "creation_date": 1502179563, "answer_id": 45562694, "question_id": 45562434, "link": "https://stackoverflow.com/questions/45562434/oncreate-crashing-after-converting-from-java-to-kotlin/45562694#45562694", "title": "onCreate crashing after converting from Java to Kotlin", "body": "<p>Looks like the method <code>onActivityCreated</code> in <code>AppLifecycleTracker</code> has a parameter <code>savedInstanceState: Bundle</code>, which should be <code>savedInstanceState: Bundle?</code>, as there isn't necessarily a saved state available on activity creation, which means that the parameter value can be <code>null</code>. Kotlin checks this to ensure <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">null safety</a>.</p>\n\n<p>The crash seems to be unrelated to the conversion of the Activity itself.</p>\n"}], "owner": {"reputation": 4031, "user_id": 391401, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/c1ad749cc57f5b0b5802de65435412d0?s=128&d=identicon&r=PG&f=1", "display_name": "AndroidDev", "link": "https://stackoverflow.com/users/391401/androiddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 690, "favorite_count": 1, "accepted_answer_id": 45562694, "answer_count": 1, "score": 1, "last_activity_date": 1502179563, "creation_date": 1502178817, "question_id": 45562434, "link": "https://stackoverflow.com/questions/45562434/oncreate-crashing-after-converting-from-java-to-kotlin", "title": "onCreate crashing after converting from Java to Kotlin", "body": "<p>I converted my Launcher Activity from Java to Kotlin and I'm getting a crash in onCreate() and I don't understand why it is crashing. </p>\n\n<p>Java:</p>\n\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\n</code></pre>\n\n<p>Kotlin:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\nsuper.onCreate(savedInstanceState)\n</code></pre>\n\n<p>Call-stack:</p>\n\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{com.a.b.c/com.a.b.c.Authentication.AuthenticationActivity}: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter savedInstanceState\n                                                                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2416)\n                                                                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)\n                                                                      at android.app.ActivityThread.-wrap11(ActivityThread.java)\n                                                                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)\n                                                                      at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                      at android.os.Looper.loop(Looper.java:148)\n                                                                      at android.app.ActivityThread.main(ActivityThread.java:5417)\n                                                                      at java.lang.reflect.Method.invoke(Native Method)\n                                                                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\n                                                                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\n                                                                   Caused by: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter savedInstanceState\n                                                                      at com.a.b.c.Activity.AppLifecycleTracker.onActivityCreated(AppLifecycleTracker.kt)\n                                                                      at android.app.Application.dispatchActivityCreated(Application.java:195)\n                                                                      at android.app.Activity.onCreate(Activity.java:922)\n                                                                      at android.support.v4.app.FragmentActivity.onCreate(FragmentActivity.java:277)\n                                                                      at android.support.v7.app.AppCompatActivity.onCreate(AppCompatActivity.java:85)\n                                                                      at com.a.b.c.Authentication.AuthenticationActivity.onCreate(AuthenticationActivity.kt:147)\n                                                                      at android.app.Activity.performCreate(Activity.java:6251)\n                                                                      at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1107)\n                                                                      at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2369)\n                                                                      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2476)\u00a0\n                                                                      at android.app.ActivityThread.-wrap11(ActivityThread.java)\u00a0\n                                                                      at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1344)\u00a0\n                                                                      at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                                                                      at android.os.Looper.loop(Looper.java:148)\u00a0\n                                                                      at android.app.ActivityThread.main(ActivityThread.java:5417)\u00a0\n                                                                      at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                                                                      at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:726)\u00a0\n                                                                      at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:616)\u00a0\n</code></pre>\n"}, {"tags": ["android", "listview", "kotlin", "onclicklistener"], "comments": [{"owner": {"reputation": 977, "user_id": 6880458, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03f0e030c367ed14f905ed87e484317d?s=128&d=identicon&r=PG&f=1", "display_name": "Ak9637", "link": "https://stackoverflow.com/users/6880458/ak9637"}, "edited": false, "score": 0, "creation_date": 1502177229, "post_id": 45561668, "comment_id": 78082838, "body": "did u try adding android:clickable = &quot;true&quot; to your root of listview layout"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1502184446, "post_id": 45561668, "comment_id": 78087800, "body": "override <code>View#performClick</code> then"}, {"owner": {"reputation": 457, "user_id": 4408588, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002483357368/picture?type=large", "display_name": "Janusz Hain", "link": "https://stackoverflow.com/users/4408588/janusz-hain"}, "edited": false, "score": 0, "creation_date": 1502274979, "post_id": 45561668, "comment_id": 78135195, "body": "You need to disable click events on listView and it&#39;s children, then  enable clicks for LinearLayout"}, {"owner": {"reputation": 711, "user_id": 5614815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFZsf.jpg?s=128&g=1", "display_name": "Bapusaheb Shinde", "link": "https://stackoverflow.com/users/5614815/bapusaheb-shinde"}, "edited": false, "score": 0, "creation_date": 1502362098, "post_id": 45561668, "comment_id": 78181333, "body": "try to use clicklistener to parent view."}, {"owner": {"reputation": 946, "user_id": 1446177, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bIovS.jpg?s=128&g=1", "display_name": "IARI", "link": "https://stackoverflow.com/users/1446177/iari"}, "edited": false, "score": 0, "creation_date": 1502712350, "post_id": 45561668, "comment_id": 78305625, "body": "I believe i had tried clickable=&quot;true&quot;, which didn&#39;t solve the problem. Also setting a click listener on parent view does not work - the click isn&#39;t triggered, but apparently consumed by the Listview for scrolling. My current workaround is a custom viewgroup &#180;ClickableRelativeLayout extends RelativeLayout&#180; which overrides onInterceptTouchEvent - that might be similar to what @psink has suggested."}], "owner": {"reputation": 946, "user_id": 1446177, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/bIovS.jpg?s=128&g=1", "display_name": "IARI", "link": "https://stackoverflow.com/users/1446177/iari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 238, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1502176591, "creation_date": 1502176591, "question_id": 45561668, "link": "https://stackoverflow.com/questions/45561668/dont-call-setonclicklistener-for-an-adapterview", "title": "Don&#39;t call setOnClickListener for an AdapterView", "body": "<p>I'm trying to close some custom softkeyboard, whenever a listview is clicked. However, android apparently does not allow to set Click Listeners for a complete ListView. The following line</p>\n\n<pre><code>listview.setOnClickListener { softkeyboard?.hideContent() }\n</code></pre>\n\n<p>Results in an exception, telling me to</p>\n\n<blockquote>\n  <p>Don't call setOnClickListener for an AdapterView</p>\n</blockquote>\n\n<p>The Listview is wrapped in an LinearLayout. If I set the listener on this LinearLayout, it does not receive any click events. Also using</p>\n\n<pre><code>listview.setOnItemClickListener { parent, view, position, id -&gt; softkeyboard?.hideContent() }\n</code></pre>\n\n<p>does not solve the problem: it only works for direct clisk on items, while the List has vast areas where no item is visible, but a background. The click on the background should work as well.</p>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1233, "user_id": 1740097, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7a1397e879a1e705a0ec816214dc0295?s=128&d=identicon&r=PG", "display_name": "Mr.G", "link": "https://stackoverflow.com/users/1740097/mr-g"}, "edited": false, "score": 0, "creation_date": 1502175997, "post_id": 45561454, "comment_id": 78082127, "body": "Yes it did . so in kotlin i need to use arrayOf  to make a array right ?"}, {"owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "reply_to_user": {"reputation": 1233, "user_id": 1740097, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7a1397e879a1e705a0ec816214dc0295?s=128&d=identicon&r=PG", "display_name": "Mr.G", "link": "https://stackoverflow.com/users/1740097/mr-g"}, "edited": false, "score": 1, "creation_date": 1502176205, "post_id": 45561454, "comment_id": 78082230, "body": "Aye, there&#39;s no java-like array initialization in Kotlin."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 2, "creation_date": 1512415471, "post_id": 45561454, "comment_id": 82239390, "body": "Update: now in Kotlin 1.2 you can use the <a href=\"https://kotlinlang.org/docs/reference/whatsnew12.html#array-literals-in-annotations\" rel=\"nofollow noreferrer\">array literals</a> <code>[]</code> (but only in annotations!)"}], "tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": true, "score": 8, "last_activity_date": 1512451276, "last_edit_date": 1512451276, "creation_date": 1502175877, "answer_id": 45561454, "question_id": 45561381, "link": "https://stackoverflow.com/questions/45561381/unexpected-tokens-use-to-seperate-expressions-on-the-same-line-in-kotlin/45561454#45561454", "title": "Unexpected tokens (use ; to seperate expressions on the same line) in kotlin", "body": "<p>I assume this will do the job:</p>\n\n<pre><code>@SerializedName(value=\"name\", alternate=arrayOf(\"person\", \"user\")) val title:String\n</code></pre>\n\n<p><strong>Kotlin</strong> compiler treats <code>alternate={\"person\", \"user\"}</code> as a <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-types\" rel=\"nofollow noreferrer\">function type</a>.</p>\n\n<hr>\n\n<p><strong><em>EDIT by <a href=\"https://stackoverflow.com/users/7366707/1blustone\">1blustone</a>:</em></strong> </p>\n\n<p>In <strong>Kotlin</strong> 1.2 this is possible with <a href=\"https://kotlinlang.org/docs/reference/whatsnew12.html#array-literals-in-annotations\" rel=\"nofollow noreferrer\">array literals</a>, but only in annotations:</p>\n\n<pre><code>@SerializedName(value = \"name\", alternate = [\"person\", \"user\"]) val title:String\n</code></pre>\n"}], "owner": {"reputation": 1233, "user_id": 1740097, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7a1397e879a1e705a0ec816214dc0295?s=128&d=identicon&r=PG", "display_name": "Mr.G", "link": "https://stackoverflow.com/users/1740097/mr-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2864, "favorite_count": 0, "accepted_answer_id": 45561454, "answer_count": 1, "score": 3, "last_activity_date": 1512451276, "creation_date": 1502175643, "question_id": 45561381, "link": "https://stackoverflow.com/questions/45561381/unexpected-tokens-use-to-seperate-expressions-on-the-same-line-in-kotlin", "title": "Unexpected tokens (use ; to seperate expressions on the same line) in kotlin", "body": "<p>I was using kotlin in my android project which is developing on java , I ve used kotlin data classes in my service layer </p>\n\n<p>Now i wants to add alternate tag in serialied  </p>\n\n<pre><code>@SerializedName(value=\"name\", alternate={\"person\", \"user\"}) val title:String,\n</code></pre>\n\n<p>This gives me unexpected token issue and it seems its from kotlin side </p>\n\n<p>This seems like kotlin issue can someone point me out issue  </p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 861, "user_id": 7229971, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/AWdZL.jpg?s=128&g=1", "display_name": "KuLdip PaTel", "link": "https://stackoverflow.com/users/7229971/kuldip-patel"}, "edited": false, "score": 0, "creation_date": 1502192226, "post_id": 45557197, "comment_id": 78093440, "body": "see this answer..<a href=\"https://stackoverflow.com/a/45567180/7229971\">stackoverflow.com/a/45567180/7229971</a>"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 8431339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8dc319d19463a315fc27ad313aee587?s=128&d=identicon&r=PG&f=1", "display_name": "Guy Martino", "link": "https://stackoverflow.com/users/8431339/guy-martino"}, "edited": false, "score": 0, "creation_date": 1502150167, "post_id": 45557221, "comment_id": 78074523, "body": "I try this : <code>editText_test!!.setOnFocusChangeListener(OnFocusChangeListen&zwnj;&#8203;er { view, hasFocus -&gt;             getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT&zwnj;&#8203;_INPUT_STATE_HIDDEN)&zwnj;&#8203;;                      })</code> but it does not work :/"}], "tags": [], "owner": {"reputation": 2622, "user_id": 1834967, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/Fdxei.jpg?s=128&g=1", "display_name": "Felix Guo", "link": "https://stackoverflow.com/users/1834967/felix-guo"}, "is_accepted": false, "score": 0, "last_activity_date": 1502149611, "creation_date": 1502149611, "answer_id": 45557221, "question_id": 45557197, "link": "https://stackoverflow.com/questions/45557197/how-to-disable-the-keyboard-when-i-click-on-edittext/45557221#45557221", "title": "How to disable the keyboard when I click on EditText?", "body": "<p>Set a listener for your EditText's onFocus, you can add:</p>\n\n<p><code>getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_STATE_HIDDEN);</code></p>\n\n<p><a href=\"https://stackoverflow.com/questions/9732761/how-to-avoid-automatically-appear-android-keyboard-when-activity-start\">How to avoid automatically appear android keyboard when activity start</a></p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 8431339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8dc319d19463a315fc27ad313aee587?s=128&d=identicon&r=PG&f=1", "display_name": "Guy Martino", "link": "https://stackoverflow.com/users/8431339/guy-martino"}, "edited": false, "score": 1, "creation_date": 1502150943, "post_id": 45557316, "comment_id": 78074689, "body": "I tried this :  <code>editText_test!!.setOnFocusChangeListener(OnFocusChangeListen&zwnj;&#8203;er { view, hasFocus -&gt;             val view = this.currentFocus             if (view != null) {                 val imm = getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager                 imm.hideSoftInputFromWindow(view.windowToken, 0)             }                     })</code> but unfortunately it does not work when I click on the EditText I see the keyboard :/"}], "tags": [], "owner": {"reputation": 9, "user_id": 2863508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14d055beb92c65e0dcd4e0c4476337d1?s=128&d=identicon&r=PG&f=1", "display_name": "Mobicoder", "link": "https://stackoverflow.com/users/2863508/mobicoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1502150447, "creation_date": 1502150447, "answer_id": 45557316, "question_id": 45557197, "link": "https://stackoverflow.com/questions/45557197/how-to-disable-the-keyboard-when-i-click-on-edittext/45557316#45557316", "title": "How to disable the keyboard when I click on EditText?", "body": "<p>inside the listener method force the android to hide the virtual keyboard using the <a href=\"https://developer.android.com/reference/android/view/inputmethod/InputMethodManager.html#hideSoftInputFromWindow%28android.os.IBinder,%20int%29\" rel=\"nofollow noreferrer\">hideSoftInputFromWindow</a> method in the <a href=\"https://developer.android.com/reference/android/view/inputmethod/InputMethodManager.html\" rel=\"nofollow noreferrer\">InputMethodManager</a></p>\n\n<pre><code>View view = this.getCurrentFocus();\nif (view != null) {  \n    InputMethodManager imm = (InputMethodManager)getSystemService(Context.INPUT_METHOD_SERVICE);\n    imm.hideSoftInputFromWindow(view.getWindowToken(), 0);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": false, "score": 8, "last_activity_date": 1502163304, "creation_date": 1502163304, "answer_id": 45558867, "question_id": 45557197, "link": "https://stackoverflow.com/questions/45557197/how-to-disable-the-keyboard-when-i-click-on-edittext/45558867#45558867", "title": "How to disable the keyboard when I click on EditText?", "body": "<p>If you have minimum <strong>API >= 21</strong>:</p>\n\n<pre><code>editText_test!!.showSoftInputOnFocus = false\n</code></pre>\n\n<p>To deal with different versions:</p>\n\n<pre><code>if (Build.VERSION.SDK_INT &gt;= 21) {\n    editText_test!!.showSoftInputOnFocus = false\n} else if (Build.VERSION.SDK_INT &gt;= 11) {\n    editText_test!!.setRawInputType(InputType.TYPE_CLASS_TEXT)\n    editText_test!!.setTextIsSelectable(true)\n} else {\n    editText_test!!.setRawInputType(InputType.TYPE_NULL)\n    editText_test!!.isFocusable = true\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 711, "user_id": 5614815, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gFZsf.jpg?s=128&g=1", "display_name": "Bapusaheb Shinde", "link": "https://stackoverflow.com/users/5614815/bapusaheb-shinde"}, "is_accepted": false, "score": 0, "last_activity_date": 1502170064, "last_edit_date": 1502170064, "creation_date": 1502165646, "answer_id": 45559179, "question_id": 45557197, "link": "https://stackoverflow.com/questions/45557197/how-to-disable-the-keyboard-when-i-click-on-edittext/45559179#45559179", "title": "How to disable the keyboard when I click on EditText?", "body": "<p>try this in manifest file</p>\n\n<pre><code>:\n&lt;activity\n...\nandroid:windowSoftInputMode=\"stateHidden|adjustResize\"\n...\n&gt;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 8431339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f8dc319d19463a315fc27ad313aee587?s=128&d=identicon&r=PG&f=1", "display_name": "Guy Martino", "link": "https://stackoverflow.com/users/8431339/guy-martino"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4287, "favorite_count": 1, "answer_count": 4, "score": 3, "last_activity_date": 1502170579, "creation_date": 1502149429, "last_edit_date": 1502170579, "question_id": 45557197, "link": "https://stackoverflow.com/questions/45557197/how-to-disable-the-keyboard-when-i-click-on-edittext", "title": "How to disable the keyboard when I click on EditText?", "body": "<p>Hello I would like to do the next thing : when I click on an EditText I would like to hide the keyboard but seeing the cursor. I tried to do this : </p>\n\n<pre><code>    editText_test!!.setCursorVisible(false);\n    editText_test!!.setFocusableInTouchMode(false);\n    editText_test!!.setFocusable(true);\n</code></pre>\n\n<p>Obviously I don't see the keyboard but I can't click on my EditText. How can I do this ? To be precise I am using Kotlin.</p>\n\n<p>Thank you !</p>\n"}, {"tags": ["android", "kotlin", "inputstreamreader"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1502140705, "post_id": 45555831, "comment_id": 78071719, "body": "update pointer in the loop"}, {"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1502140979, "post_id": 45555831, "comment_id": 78071843, "body": "thanks Tim!, actually I was asking if there is similar way to assignment and return the result for checking in one line."}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "closed_date": 1502151261, "answer_count": 0, "score": 0, "last_activity_date": 1502201170, "creation_date": 1502140534, "last_edit_date": 1502201170, "question_id": 45555831, "link": "https://stackoverflow.com/questions/45555831/how-to-do-check-the-boolean-result-after-assignment-in-kotlin", "closed_reason": "Duplicate", "title": "how to do check the boolean result after assignment in kotlin?", "body": "<p>update: thanks for point out the anwser in elariler question, for complete this question here, the answer is:</p>\n\n<pre><code>while ((reader.read(buffer).let {pointer = it; it != -1}) ) {\n                writer.write(buffer, 0, pointer)\n            }\n</code></pre>\n\n<p>Was trying to read something from buffer in a while loop, in Java is done with one line: </p>\n\n<pre><code>while ((pointer = reader.read(buffer)) != -1)\n</code></pre>\n\n<p>but in kotling it gets error: Error:(46, 21) Assignments are not expressions, and only expressions are allowed in this context</p>\n\n<p>how to to the same thing with kotlin?</p>\n\n<pre><code>val reader = BufferedReader(InputStreamReader(inputStream, \"UTF-8\"))\n        var pointer: Int\n\n        while ((pointer = reader.read(buffer)) != -1) {\n            writer.write(buffer, 0, pointer)\n        }\n</code></pre>\n"}, {"tags": ["java", "maven", "reactjs", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "edited": false, "score": 1, "creation_date": 1502133320, "post_id": 45554157, "comment_id": 78068223, "body": "What messages do you see on the console (where you typed the <code>mvn</code> command)? Do you see &quot;server started&quot; etc?"}, {"owner": {"reputation": 13167, "user_id": 399457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a6ed435a024926ffb41d1ad84b3b1f5?s=128&d=identicon&r=PG", "display_name": "Mentiflectax", "link": "https://stackoverflow.com/users/399457/mentiflectax"}, "reply_to_user": {"reputation": 362892, "user_id": 256196, "user_type": "moderator", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/d84b558fd67be10d5a718fb94231909d?s=128&d=identicon&r=PG", "display_name": "Bohemian", "link": "https://stackoverflow.com/users/256196/bohemian"}, "edited": false, "score": 0, "creation_date": 1502133588, "post_id": 45554157, "comment_id": 78068336, "body": "Ad <i>Do you see &quot;server started&quot; etc?</i>: Yes. I&#39;ve included the output of <code>mvn clean spring-boot:run</code> in update 1."}, {"owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "edited": false, "score": 1, "creation_date": 1502133940, "post_id": 45554157, "comment_id": 78068520, "body": "Please don&#39;t link your errors and output. Copy them in here and format them properly so the links don&#39;t change or expire later."}], "answers": [{"comments": [{"owner": {"reputation": 5173, "user_id": 7694740, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TLLG0.jpg?s=128&g=1", "display_name": "Juan Carlos Mendoza", "link": "https://stackoverflow.com/users/7694740/juan-carlos-mendoza"}, "edited": false, "score": 1, "creation_date": 1502134269, "post_id": 45554379, "comment_id": 78068672, "body": "He is expecting a page. So <code>@RestController</code> is not the proper annotation in this use case. Should use <code>@Controller</code> instead."}, {"owner": {"reputation": 338, "user_id": 3415305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jYXPt.jpg?s=128&g=1", "display_name": "MrMisery", "link": "https://stackoverflow.com/users/3415305/mrmisery"}, "reply_to_user": {"reputation": 5173, "user_id": 7694740, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TLLG0.jpg?s=128&g=1", "display_name": "Juan Carlos Mendoza", "link": "https://stackoverflow.com/users/7694740/juan-carlos-mendoza"}, "edited": false, "score": 0, "creation_date": 1502135003, "post_id": 45554379, "comment_id": 78069047, "body": "actually in the controller he used the <code>controller</code> annotation see here: <a href=\"https://github.com/dpisarenko/minimal-react-boot-project/blob/master/src/main/kotlin/com/mycompany/HomeController.kt\" rel=\"nofollow noreferrer\">github.com/dpisarenko/minimal-react-boot-project/blob/master&zwnj;&#8203;/&hellip;</a> but in the application initializer and RestController...."}, {"owner": {"reputation": 13167, "user_id": 399457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a6ed435a024926ffb41d1ad84b3b1f5?s=128&d=identicon&r=PG", "display_name": "Mentiflectax", "link": "https://stackoverflow.com/users/399457/mentiflectax"}, "edited": false, "score": 0, "creation_date": 1502135311, "post_id": 45554379, "comment_id": 78069216, "body": "Thanks for your answer. I tried it, but it didn&#39;t help (see update 2)."}, {"owner": {"reputation": 338, "user_id": 3415305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jYXPt.jpg?s=128&g=1", "display_name": "MrMisery", "link": "https://stackoverflow.com/users/3415305/mrmisery"}, "edited": false, "score": 0, "creation_date": 1502135530, "post_id": 45554379, "comment_id": 78069338, "body": "can you please try adding <code>ClassLoaderTemplateResolver</code> bean although it is from Thymeleaf but since you added your templates to <code>sources</code> folder I assume you need to add a template resolver. check the answer&#39;s update."}, {"owner": {"reputation": 338, "user_id": 3415305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jYXPt.jpg?s=128&g=1", "display_name": "MrMisery", "link": "https://stackoverflow.com/users/3415305/mrmisery"}, "edited": false, "score": 0, "creation_date": 1502135956, "post_id": 45554379, "comment_id": 78069542, "body": "was a little late :) check it now."}, {"owner": {"reputation": 13167, "user_id": 399457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a6ed435a024926ffb41d1ad84b3b1f5?s=128&d=identicon&r=PG", "display_name": "Mentiflectax", "link": "https://stackoverflow.com/users/399457/mentiflectax"}, "edited": false, "score": 0, "creation_date": 1502192321, "post_id": 45554379, "comment_id": 78093513, "body": "@MrMisery Thanks, your answer helped. The GitHub repo now contains a version that works for me (with your changes being there)."}], "tags": [], "owner": {"reputation": 338, "user_id": 3415305, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jYXPt.jpg?s=128&g=1", "display_name": "MrMisery", "link": "https://stackoverflow.com/users/3415305/mrmisery"}, "is_accepted": true, "score": 1, "last_activity_date": 1502135841, "last_edit_date": 1502135841, "creation_date": 1502134110, "answer_id": 45554379, "question_id": 45554157, "link": "https://stackoverflow.com/questions/45554157/why-cant-this-spring-boot-application-find-the-main-page/45554379#45554379", "title": "Why can&#39;t this Spring Boot application find the main page?", "body": "<p>now I don't have experince in Kotlin but I can tell you that you are missing something in the following code (in addition to having an extra <code>RestController</code> annotation ).<br></p>\n\n<pre><code>@SpringBootApplication\n@RestController\nopen class MyApp {\n\n}\n</code></pre>\n\n<p>In Java this class implements <code>ServletContextInitializer</code> in addition to having the <code>main</code> within it with the following static method run:</p>\n\n<pre><code>SpringApplication.run(MyApp.class, args);\n</code></pre>\n\n<p>I hope this helps.</p>\n\n<h1>Update</h1>\n\n<p>Try to also add a template resolving bean, now it is not the only way to do this but worths a try that would look like the following:</p>\n\n<pre><code>@Bean\npublic ClassLoaderTemplateResolver yourTemplateResolver() {\n    ClassLoaderTemplateResolver yourTemplateResolver = new ClassLoaderTemplateResolver();\n    yourTemplateResolver.setPrefix(\"templates/\");\n   return yourTemplateResolver;\n}\n</code></pre>\n\n<p>and add the following lines to your application.properties:</p>\n\n<pre><code>spring.thymeleaf.check-template-location=true\nspring.thymeleaf.suffix=.html\n</code></pre>\n\n<p>don't forget to import thymeleaf to your POM:</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}], "owner": {"reputation": 13167, "user_id": 399457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/6a6ed435a024926ffb41d1ad84b3b1f5?s=128&d=identicon&r=PG", "display_name": "Mentiflectax", "link": "https://stackoverflow.com/users/399457/mentiflectax"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1066, "favorite_count": 0, "accepted_answer_id": 45554379, "answer_count": 1, "score": 0, "last_activity_date": 1502135841, "creation_date": 1502133176, "last_edit_date": 1502135244, "question_id": 45554157, "link": "https://stackoverflow.com/questions/45554157/why-cant-this-spring-boot-application-find-the-main-page", "title": "Why can&#39;t this Spring Boot application find the main page?", "body": "<p>I'm trying to create a minimal Spring Boot application that allows me to use\nReactJS on the frontend.</p>\n\n<p><strong>What I want to achieve</strong></p>\n\n<p>When I run the Spring Boot application, it should display a page with a React\ncomponent inside it.</p>\n\n<p><strong>Structure of the project</strong></p>\n\n<p>You can find the source code <a href=\"https://github.com/dpisarenko/minimal-react-boot-project\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<ul>\n<li><a href=\"https://github.com/dpisarenko/minimal-react-boot-project/blob/master/src/main/kotlin/com/mycompany/MyApp.kt\" rel=\"nofollow noreferrer\">Spring Boot application class</a></li>\n<li><p><a href=\"https://github.com/dpisarenko/minimal-react-boot-project/blob/master/src/main/kotlin/com/mycompany/HomeController.kt\" rel=\"nofollow noreferrer\">Controller</a> class</p></li>\n<li><p>Main <a href=\"https://github.com/dpisarenko/minimal-react-boot-project/blob/master/src/main/resources/templates/index.html\" rel=\"nofollow noreferrer\">HTML page</a></p></li>\n<li><p><a href=\"https://github.com/dpisarenko/minimal-react-boot-project/blob/master/src/main/js/app.js\" rel=\"nofollow noreferrer\">React Code</a></p></li>\n</ul>\n\n<p><strong>What I get</strong></p>\n\n<p>When I</p>\n\n<ol>\n<li>run <code>mvn clean</code>mvn clean spring-boot:run` and</li>\n<li>navigate to <code>http://localhost:8080</code>,</li>\n</ol>\n\n<p>I get the 404 error (see below).</p>\n\n<p><a href=\"https://i.stack.imgur.com/YJMok.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YJMok.png\" alt=\"Error message\"></a></p>\n\n<p>How can I fix it?</p>\n\n<p>Notes:</p>\n\n<ol>\n<li>I copied the approach from the tutorial <a href=\"https://spring.io/guides/tutorials/react-and-spring-data-rest/\" rel=\"nofollow noreferrer\">React.js and Spring Data REST</a>.</li>\n<li>Don't tell me to get rid of Kotlin, it's very unlikely that it's Kotlin that\ncauses the problem.</li>\n</ol>\n\n<p><strong>Update 1 (07.08.2017 22:17 MSK):</strong></p>\n\n<p>The output of <code>mvn clean spring-boot:run</code> can be found <a href=\"https://gist.github.com/dpisarenko/288a8f4d53d6e8254af1ae96ae5713cc\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p><strong>Update 2 (07.08.2017 22:44 MSK):</strong></p>\n\n<p>Changing <code>RestController</code> to <code>Controller</code> in <code>MyApp</code> class and moving the <code>main</code>\nmethod inside it didn't help.</p>\n\n<p>Currently, the <code>MyApp</code> class looks like this:</p>\n\n<pre><code>@SpringBootApplication\n@Controller\nopen class MyApp {\n    fun main(args: Array&lt;String&gt;) {\n        SpringApplication.run(MyApp::class.java,*args)\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 7455, "user_id": 312161, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e21cc7396d5879d3812e2a940ebca6cb?s=128&d=identicon&r=PG", "display_name": "neworld", "link": "https://stackoverflow.com/users/312161/neworld"}, "edited": false, "score": 0, "creation_date": 1502130725, "post_id": 45553388, "comment_id": 78066903, "body": "Actually, I am not using as backend app, and don&#39;t have the luxury for additional 1k methods. Still, I love syntax of kotlin and would like to use it anyway."}, {"owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "reply_to_user": {"reputation": 7455, "user_id": 312161, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e21cc7396d5879d3812e2a940ebca6cb?s=128&d=identicon&r=PG", "display_name": "neworld", "link": "https://stackoverflow.com/users/312161/neworld"}, "edited": false, "score": 0, "creation_date": 1502130797, "post_id": 45553388, "comment_id": 78066942, "body": "@neworld - can you elaborate what is the unique use-case, then?"}, {"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "reply_to_user": {"reputation": 7455, "user_id": 312161, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e21cc7396d5879d3812e2a940ebca6cb?s=128&d=identicon&r=PG", "display_name": "neworld", "link": "https://stackoverflow.com/users/312161/neworld"}, "edited": false, "score": 3, "creation_date": 1502130941, "post_id": 45553388, "comment_id": 78067018, "body": "@neworld You definitely need at least the <a href=\"https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-runtime/1.1.3-2\" rel=\"nofollow noreferrer\">runtime library</a>, although not necessarily the <a href=\"https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-stdlib/1.1.3-2\" rel=\"nofollow noreferrer\">standard library</a>. There&#39;s no way around AFAIK. Perhaps <a href=\"https://www.guardsquare.com/en/proguard\" rel=\"nofollow noreferrer\">ProGuard</a> can help reducing the method count after integrating the runtime."}, {"owner": {"reputation": 7455, "user_id": 312161, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e21cc7396d5879d3812e2a940ebca6cb?s=128&d=identicon&r=PG", "display_name": "neworld", "link": "https://stackoverflow.com/users/312161/neworld"}, "edited": false, "score": 0, "creation_date": 1502131302, "post_id": 45553388, "comment_id": 78067224, "body": "I want to write a very small library (max 30 methods), fully tested and with my beloved language. +1000 methods are a huge overhead for not-kotlin projects."}], "tags": [], "owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "is_accepted": false, "score": 2, "last_activity_date": 1502130751, "last_edit_date": 1502130751, "creation_date": 1502130147, "answer_id": 45553388, "question_id": 45553348, "link": "https://stackoverflow.com/questions/45553348/is-possible-to-compile-kotlin-code-for-run-without-runtime-lib-how/45553388#45553388", "title": "Is possible to compile kotlin code for run without runtime lib? How?", "body": "<p>Kotlin runtime is required for running, <a href=\"https://stackoverflow.com/a/30565407/3834036\">as explained here</a> - so I see no reason it will not be required for compilation as well. I guess there is no free lunch :-)</p>\n\n<p>You should either:</p>\n\n<ul>\n<li>Have Kotlin runtime in the classpath.</li>\n<li>Point to the runtime location when running the app, <a href=\"https://stackoverflow.com/a/9356023/3834036\">as described on this answer</a></li>\n<li>Embed the runtime within the .jar file of the app:</li>\n</ul>\n\n<p><code>$ kotlinc &lt;class name&gt; -include-runtime -d &lt;jar name&gt;\n $ java -jar &lt;jar name&gt;</code></p>\n"}], "owner": {"reputation": 7455, "user_id": 312161, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/e21cc7396d5879d3812e2a940ebca6cb?s=128&d=identicon&r=PG", "display_name": "neworld", "link": "https://stackoverflow.com/users/312161/neworld"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1502130751, "creation_date": 1502129960, "question_id": 45553348, "link": "https://stackoverflow.com/questions/45553348/is-possible-to-compile-kotlin-code-for-run-without-runtime-lib-how", "title": "Is possible to compile kotlin code for run without runtime lib? How?", "body": "<p>My case is unusual. Is there any chance to compile code without <code>kotlin-runtime</code>? Flags <code>-Xno-param-assertions</code> and <code>-Xno-call-assertions</code> doesn\u2019t help much, I still got:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: Failed resolution of: Lkotlin/jvm/internal/Intrinsics;\n   at lt.neworld.yyy.&lt;init&gt;(Unknown Source:2)\n   at lt.neworld.yyy.&lt;init&gt;(yyy.kt:13)\n</code></pre>\n"}, {"tags": ["android", "enums", "gson", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1502130024, "post_id": 45553339, "comment_id": 78066555, "body": "have you tried somethinig?"}, {"owner": {"reputation": 1144, "user_id": 3198230, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YQjH2.jpg?s=128&g=1", "display_name": "Drake", "link": "https://stackoverflow.com/users/3198230/drake"}, "reply_to_user": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1502130435, "post_id": 45553339, "comment_id": 78066758, "body": "@lelloman yes, I have tried standard way, just pass my enum to POJO and it always null"}, {"owner": {"reputation": 12672, "user_id": 1527232, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/n5xGm.png?s=128&g=1", "display_name": "lelloman", "link": "https://stackoverflow.com/users/1527232/lelloman"}, "edited": false, "score": 0, "creation_date": 1502130476, "post_id": 45553339, "comment_id": 78066780, "body": "maybe it&#39;s worth mentioning it in your question"}, {"owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "edited": false, "score": 0, "creation_date": 1502130689, "post_id": 45553339, "comment_id": 78066890, "body": "I think the most relevant part here would be which converter are you using...  GSON or something else?"}, {"owner": {"reputation": 1144, "user_id": 3198230, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YQjH2.jpg?s=128&g=1", "display_name": "Drake", "link": "https://stackoverflow.com/users/3198230/drake"}, "reply_to_user": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "edited": false, "score": 0, "creation_date": 1502130722, "post_id": 45553339, "comment_id": 78066902, "body": "@LordRaydenMK yes GSON"}, {"owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "edited": false, "score": 1, "creation_date": 1502130861, "post_id": 45553339, "comment_id": 78066973, "body": "have you tried using @SerializedName annotation? according to this <a href=\"https://stackoverflow.com/questions/25423590/enum-annotations-in-kotlin\" title=\"enum annotations in kotlin\">stackoverflow.com/questions/25423590/enum-annotations-in-kot&zwnj;&#8203;lin</a> it should work"}], "answers": [{"comments": [{"owner": {"reputation": 69363, "user_id": 413127, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/D8FKw.jpg?s=128&g=1", "display_name": "Blundell", "link": "https://stackoverflow.com/users/413127/blundell"}, "edited": false, "score": 0, "creation_date": 1597406335, "post_id": 45553707, "comment_id": 112129220, "body": "that&#39;s a GSON solution, change to <code>@Json(name=&quot;foo&quot;)</code> for moshi"}, {"owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "reply_to_user": {"reputation": 69, "user_id": 7696097, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53beb4348b92fb09275e3882ecbf6c2c?s=128&d=identicon&r=PG&f=1", "display_name": "ravid rinek", "link": "https://stackoverflow.com/users/7696097/ravid-rinek"}, "edited": false, "score": 0, "creation_date": 1598789842, "post_id": 45553707, "comment_id": 112566890, "body": "@ravidrinek please ask a new question, and include all relevant details, e.g. json parsing lib etc..."}], "tags": [], "owner": {"reputation": 11438, "user_id": 1011435, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3b15f386380d50047dbc768cbf85001?s=128&d=identicon&r=PG", "display_name": "LordRaydenMK", "link": "https://stackoverflow.com/users/1011435/lordraydenmk"}, "is_accepted": true, "score": 52, "last_activity_date": 1502131313, "creation_date": 1502131313, "answer_id": 45553707, "question_id": 45553339, "link": "https://stackoverflow.com/questions/45553339/how-use-kotlin-enum-with-retrofit/45553707#45553707", "title": "How use Kotlin enum with Retrofit?", "body": "<pre><code>enum class VehicleEnumEntity(val value: String) {\n   @SerializedName(\"vehicle\")\n   CAR(\"vehicle\"),\n\n   @SerializedName(\"motorcycle\")\n   MOTORCYCLE(\"motorcycle\"),\n\n   @SerializedName(\"van\")\n   VAN(\"van\"),\n\n   @SerializedName(\"motorhome\")\n   MOTORHOME(\"motorhome\"),\n\n   @SerializedName(\"other\")\n   OTHER(\"other\")\n}\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/18851314/1011435\">Source</a></p>\n"}, {"comments": [{"owner": {"reputation": 1065, "user_id": 6723008, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-cuRN9cK_8Z0/AAAAAAAAAAI/AAAAAAAAAAA/K1IO6ReviHg/photo.jpg?sz=128", "display_name": "Sergio", "link": "https://stackoverflow.com/users/6723008/sergio"}, "edited": false, "score": 0, "creation_date": 1607441325, "post_id": 45561053, "comment_id": 115270001, "body": "This works nicely if the enum type is String. Is there a way to create a generic adapter for any type? The most common enum values are strings and integers I think, but it would be nice to have a generic way to serialize any type."}], "tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": false, "score": 11, "last_activity_date": 1502174526, "creation_date": 1502174526, "answer_id": 45561053, "question_id": 45553339, "link": "https://stackoverflow.com/questions/45553339/how-use-kotlin-enum-with-retrofit/45561053#45561053", "title": "How use Kotlin enum with Retrofit?", "body": "<p>Another option: use a custom (de)serializer that uses the <code>value</code> of the enum, instead of the <code>name</code> (default). This means you don't need to annotate every enum value, but instead you can annotate the enum class (or add the adapter to <code>GsonBuilder</code>).</p>\n\n<pre><code>interface HasValue {\n    val value: String\n}\n\n@JsonAdapter(EnumByValueAdapter::class)\nenum class VehicleEnumEntity(override val value: String): HasValue {\n   CAR(\"vehicle\"),\n   MOTORCYCLE(\"motorcycle\"),\n   VAN(\"van\"),\n   MOTORHOME(\"motorhome\"),\n   OTHER(\"other\")\n}\n\nclass EnumByValueAdapter&lt;T&gt; : JsonDeserializer&lt;T&gt;, JsonSerializer&lt;T&gt;\n    where T : Enum&lt;T&gt;, T : HasValue {\n    private var values: Map&lt;String, T&gt;? = null\n\n    override fun deserialize(\n        json: JsonElement, type: Type, context: JsonDeserializationContext\n    ): T? =\n        (values ?: @Suppress(\"UNCHECKED_CAST\") (type as Class&lt;T&gt;).enumConstants\n            .associateBy { it.value }.also { values = it })[json.asString]\n\n    override fun serialize(\n        src: T, type: Type, context: JsonSerializationContext\n    ): JsonElement = JsonPrimitive(src.value)\n}\n</code></pre>\n\n<p>The same adapter class is reusable on other enum classes.</p>\n"}], "owner": {"reputation": 1144, "user_id": 3198230, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/YQjH2.jpg?s=128&g=1", "display_name": "Drake", "link": "https://stackoverflow.com/users/3198230/drake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11612, "favorite_count": 4, "closed_date": 1502180235, "accepted_answer_id": 45553707, "answer_count": 2, "score": 17, "last_activity_date": 1502174526, "creation_date": 1502129928, "last_edit_date": 1502131634, "question_id": 45553339, "link": "https://stackoverflow.com/questions/45553339/how-use-kotlin-enum-with-retrofit", "closed_reason": "Duplicate", "title": "How use Kotlin enum with Retrofit?", "body": "<p>How can I parse JSON to model with enum?</p>\n\n<p>Here is my enum class:</p>\n\n<pre><code>enum class VehicleEnumEntity(val value: String) {\n   CAR(\"vehicle\"),\n   MOTORCYCLE(\"motorcycle\"),\n   VAN(\"van\"),\n   MOTORHOME(\"motorhome\"),\n   OTHER(\"other\")\n}\n</code></pre>\n\n<p>and I need to parse <code>type</code> into an enum</p>\n\n<blockquote>\n  <p>\"vehicle\": {\n            \"data\": {\n              \"type\": \"vehicle\",\n              \"id\": \"F9dubDYLYN\"\n            }\n          }</p>\n</blockquote>\n\n<p><strong>EDIT</strong></p>\n\n<p>I have tried standard way, just pass my enum to POJO and it always null</p>\n"}, {"tags": ["android", "arrays", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": true, "score": 7, "last_activity_date": 1502130028, "creation_date": 1502130028, "answer_id": 45553365, "question_id": 45553285, "link": "https://stackoverflow.com/questions/45553285/type-mismatch-in-arrayofnulls-with-kotlin/45553365#45553365", "title": "Type mismatch in ArrayOfNulls with Kotlin", "body": "<p>An array of nulls is basically an array with every element equal to <code>null</code>. That means that your variable's type must accept nulls as well. To accomplish this you need to change your variable type to <code>Array&lt;TextView?&gt;?</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 3906799, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LeiCR.jpg?s=128&g=1", "display_name": "Abdelaziz refaat", "link": "https://stackoverflow.com/users/3906799/abdelaziz-refaat"}, "is_accepted": false, "score": 1, "last_activity_date": 1563030847, "last_edit_date": 1563030847, "creation_date": 1563029523, "answer_id": 57020222, "question_id": 45553285, "link": "https://stackoverflow.com/questions/45553285/type-mismatch-in-arrayofnulls-with-kotlin/57020222#57020222", "title": "Type mismatch in ArrayOfNulls with Kotlin", "body": "<p>Use:</p>\n\n<pre><code>private lateinit var dots: Array&lt;TextView?&gt;\n</code></pre>\n\n<p>Instead of:</p>\n\n<pre><code>private var dots: Array&lt;TextView&gt;? = null\n</code></pre>\n"}], "owner": {"reputation": 263, "user_id": 5133518, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/10207082355687899/picture?type=large", "display_name": "Genaro Alberto Cancino Herrera", "link": "https://stackoverflow.com/users/5133518/genaro-alberto-cancino-herrera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2371, "favorite_count": 2, "accepted_answer_id": 45553365, "answer_count": 2, "score": 3, "last_activity_date": 1563030847, "creation_date": 1502129737, "last_edit_date": 1502131342, "question_id": 45553285, "link": "https://stackoverflow.com/questions/45553285/type-mismatch-in-arrayofnulls-with-kotlin", "title": "Type mismatch in ArrayOfNulls with Kotlin", "body": "<p>I got a problem when converting my java code to kotlin.</p>\n\n<p>This line of code is what making me the problem</p>\n\n<pre><code> dots = arrayOfNulls&lt;TextView&gt;(layouts.size)\n</code></pre>\n\n<p>it said:</p>\n\n<blockquote>\n  <p>Type mismatch. Required: Array(TextView)? - Found: Array(TextView?)</p>\n</blockquote>\n\n<p>Let you here the whole code and hope you can give me hand to figure out what's wrong.</p>\n\n<pre><code>class WelcomeActivity : AppCompatActivity() {\n\nprivate var viewPager: ViewPager? = null\nprivate var myViewPagerAdapter: MyViewPagerAdapter? = null\nprivate var dotsLayout: LinearLayout? = null\nprivate var dots: Array&lt;TextView&gt;? = null\nprivate var layouts: IntArray? = null\nprivate var btnSkip: Button? = null\nprivate var btnNext: Button? = null\nprivate var prefManager: PrefManager? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    // Checking for first time launch - before calling setContentView()\n    prefManager = PrefManager(this)\n    if (!prefManager!!.isFirstTimeLaunch) {\n        launchHomeScreen()\n        finish()\n    }\n\n    // Making notification bar transparent\n    if (Build.VERSION.SDK_INT &gt;= 21) {\n        window.decorView.systemUiVisibility = View.SYSTEM_UI_FLAG_LAYOUT_STABLE or View.SYSTEM_UI_FLAG_LAYOUT_FULLSCREEN\n    }\n\n    setContentView(R.layout.welcomescreen)\n\n    viewPager = findViewById(R.id.view_pager) as ViewPager\n    dotsLayout = findViewById(R.id.layoutDots) as LinearLayout\n    btnSkip = findViewById(R.id.btn_skip) as Button\n    btnNext = findViewById(R.id.btn_next) as Button\n\n\n    // layouts of all welcome sliders\n    // add few more layouts if you want\n    layouts = intArrayOf(R.layout.welcomescreen_slide1, R.layout.welcomescreen_slide2, R.layout.welcomescreen_slide3, R.layout.welcomescreen_slide4)\n\n    // adding bottom dots\n    addBottomDots(0)\n\n    // making notification bar transparent\n    changeStatusBarColor()\n\n    myViewPagerAdapter = MyViewPagerAdapter()\n    viewPager!!.adapter = myViewPagerAdapter\n    viewPager!!.addOnPageChangeListener(viewPagerPageChangeListener)\n\n    btnSkip!!.setOnClickListener { launchHomeScreen() }\n\n    btnNext!!.setOnClickListener {\n        // checking for last page\n        // if last page home screen will be launched\n        val current = getItem(+1)\n        if (current &lt; layouts!!.size) {\n            // move to next screen\n            viewPager!!.currentItem = current\n        } else {\n            launchHomeScreen()\n        }\n    }\n}\n\nprivate fun addBottomDots(currentPage: Int) {\n    dots = arrayOfNulls&lt;TextView&gt;(layouts.size)\n\n    val colorsActive = resources.getIntArray(R.array.array_dot_active)\n    val colorsInactive = resources.getIntArray(R.array.array_dot_inactive)\n\n    dotsLayout!!.removeAllViews()\n    for (i in dots!!.indices) {\n        dots[i] = TextView(this)\n        dots!![i].text = Html.fromHtml(\"&amp;#8226;\")\n        dots!![i].textSize = 35f\n        dots!![i].setTextColor(colorsInactive[currentPage])\n        dotsLayout!!.addView(dots!![i])\n    }\n\n    if (dots!!.size &gt; 0)\n        dots!![currentPage].setTextColor(colorsActive[currentPage])\n}\n</code></pre>\n\n<p>Thanks in advance.</p>\n\n<p>[EDIT]: Also, I noticed an error in a for statement, here:</p>\n\n<pre><code>for (i in dots!!.indices) {\n        dots[i] = TextView(this)\n        dots!![i].text = Html.fromHtml(\"&amp;#8226;\")\n        dots!![i].textSize = 35f\n        dots!![i].setTextColor(colorsInactive[currentPage])\n        dotsLayout!!.addView(dots!![i])\n    }\n</code></pre>\n\n<p>First, in the first line said <strong>Unresolve reference indices</strong>; then in second line say that dots[i] cannot smart cast to 'Array?' because it's a mutable property and finally in the lines behind every dot before dots!![i] says \"Only safe (?) or not-null asserted (!!.) calls are allowed on a nullable receiver of type TextView?</p>\n"}, {"tags": ["android", "imageview", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1502129734, "post_id": 45553167, "comment_id": 78066382, "body": "this is not really related to kotlin"}], "answers": [{"tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": false, "score": 8, "last_activity_date": 1502129493, "creation_date": 1502129493, "answer_id": 45553211, "question_id": 45553167, "link": "https://stackoverflow.com/questions/45553167/android-kotlin-visibility/45553211#45553211", "title": "Android Kotlin .visibility", "body": "<p>Use <code>View.VISIBLE</code>. That is a constant defined in <code>View</code> class.</p>\n\n<pre><code>fun hacerVisibleLaFoto(v: View) {\n    imageView.visibility = View.VISIBLE;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1737, "user_id": 4244598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/l7ysL.png?s=128&g=1", "display_name": "Natan", "link": "https://stackoverflow.com/users/4244598/natan"}, "is_accepted": true, "score": 31, "last_activity_date": 1502131882, "creation_date": 1502131882, "answer_id": 45553849, "question_id": 45553167, "link": "https://stackoverflow.com/questions/45553167/android-kotlin-visibility/45553849#45553849", "title": "Android Kotlin .visibility", "body": "<p>Android has static constants for <a href=\"https://developer.android.com/reference/android/view/View.html#setVisibility(int)\" rel=\"noreferrer\">view visibilities</a>. In order to change the visibility programmatically, you should use <code>View.VISIBLE</code>, <code>View.INVISIBLE</code> or <code>View.GONE</code>.</p>\n\n<p>Setting the visibility using <code>myView.visibility = myVisibility</code> in Kotlin is the same as setting it using <code>myView.setVisibility(myVisibility)</code> in Java.</p>\n\n<p>In your case:</p>\n\n<pre><code>fun hacerVisibleLaFoto(v: View) {\n    imageView.visibility = View.VISIBLE\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 745, "user_id": 2657153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rDAy8.jpg?s=128&g=1", "display_name": "Pinkesh Darji", "link": "https://stackoverflow.com/users/2657153/pinkesh-darji"}, "is_accepted": false, "score": 3, "last_activity_date": 1502174576, "last_edit_date": 1502174576, "creation_date": 1502173799, "answer_id": 45560836, "question_id": 45553167, "link": "https://stackoverflow.com/questions/45553167/android-kotlin-visibility/45560836#45560836", "title": "Android Kotlin .visibility", "body": "<pre><code>View.VISIBLE \n</code></pre>\n\n<p>Should go after the = sign to make the value visible. It has integer constant value in View class. You can check it by pressing ctrl + click (Windows) or cmd + click (Mac).</p>\n\n<p>So it should be like this.</p>\n\n<pre><code>imageView.visibility = View.VISIBLE\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 6040706, "user_type": "registered", "accept_rate": 18, "profile_image": "https://i.stack.imgur.com/Uhuh3.jpg?s=128&g=1", "display_name": "Azarnoy", "link": "https://stackoverflow.com/users/6040706/azarnoy"}, "edited": false, "score": 0, "creation_date": 1605182209, "post_id": 54781355, "comment_id": 114575494, "body": "More clean solution:       fun View.showOrGone(show: Boolean) {         visibility = if(show) View.VISIBLE  else View.GONE      }"}], "tags": [], "owner": {"reputation": 665, "user_id": 7900721, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-INZeIznIQTg/AAAAAAAAAAI/AAAAAAAAAAw/E9VciNY8wo4/photo.jpg?sz=128", "display_name": "Andrew Steinmetz", "link": "https://stackoverflow.com/users/7900721/andrew-steinmetz"}, "is_accepted": false, "score": 2, "last_activity_date": 1550649310, "creation_date": 1550649310, "answer_id": 54781355, "question_id": 45553167, "link": "https://stackoverflow.com/questions/45553167/android-kotlin-visibility/54781355#54781355", "title": "Android Kotlin .visibility", "body": "<p>Taking advantage of some of Kotlin's language features, I use these two extension methods on <code>View</code> that toggle the visibility with a boolean as a convenience. </p>\n\n<pre><code>fun View.showOrGone(show: Boolean) {\n    visibility = if(show) {\n        View.VISIBLE\n    } else {\n        View.GONE\n    }\n}\n\nfun View.showOrInvisible(show: Boolean) {\n    visibility = if(show) {\n        View.VISIBLE\n    } else {\n        View.INVISIBLE\n    }\n}\n</code></pre>\n\n<p>Basic usage: </p>\n\n<pre><code>imageView.showOrGone(true) //will make it visible\nimageView.showOrGone(false) //will make it gone\n</code></pre>\n\n<p>Although if you are looking for just a little syntactic Kotlin sugar to make your <code>View</code> visible, you could just write an extension function like so to make it visible. </p>\n\n<pre><code>fun View.visible() {\n    visibility = View.Visible\n}\n</code></pre>\n\n<p>Basic usage:</p>\n\n<pre><code>imageView.visible()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 491, "user_id": 10322739, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-a5cVHlkHndk/AAAAAAAAAAI/AAAAAAAAAb4/uwTilJaia3c/photo.jpg?sz=128", "display_name": "Raghib Arshi", "link": "https://stackoverflow.com/users/10322739/raghib-arshi"}, "is_accepted": false, "score": 1, "last_activity_date": 1581506004, "last_edit_date": 1581506004, "creation_date": 1581497346, "answer_id": 60184367, "question_id": 45553167, "link": "https://stackoverflow.com/questions/45553167/android-kotlin-visibility/60184367#60184367", "title": "Android Kotlin .visibility", "body": "<blockquote>\n  <p>Very easy and simple</p>\n  \n  <p>To visible a view :</p>\n</blockquote>\n\n<pre><code>ViewName.visibility = View.VISIBLE\n</code></pre>\n\n<p>e.g.- <code>button.visibity = View.VISIBLE</code></p>\n\n<p>To invisible a view :</p>\n\n<pre><code>ViewName.visibility = View.INVISIBLE\n</code></pre>\n\n<p>e.g.- <code>button.visibity = View.INVISIBLE</code></p>\n\n<blockquote>\n  <p>Anything you can use like button, textview, image view etc</p>\n  \n  <p>Hope this would work.</p>\n</blockquote>\n"}], "owner": {"reputation": 315, "user_id": 3153872, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/2kS78.jpg?s=128&g=1", "display_name": "StealthDroid", "link": "https://stackoverflow.com/users/3153872/stealthdroid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23082, "favorite_count": 1, "accepted_answer_id": 45553849, "answer_count": 5, "score": 12, "last_activity_date": 1581506004, "creation_date": 1502129351, "last_edit_date": 1515361727, "question_id": 45553167, "link": "https://stackoverflow.com/questions/45553167/android-kotlin-visibility", "title": "Android Kotlin .visibility", "body": "<p>I have this code that is supposed to make an image visible, but I don't know exactly how it's supposed to be written for Kotlin.</p>\n\n<p>I'm trying to use <code>.visibility</code> in Kotlin, and I don't know what to give it for a value. It's based off of <code>setVisibility()</code>.</p>\n\n<p>Code:</p>\n\n<pre><code>fun hacerVisibleLaFoto(v: View) {\n    imageView.visibility = 1;\n}\n</code></pre>\n\n<p>I put <code>1</code> in the value spot because an integer value is required there, and that's my placeholder value until I find what really goes there.</p>\n\n<p>What should go after the <code>=</code> sign to make the value visible?</p>\n"}, {"tags": ["kotlin", "strategy-pattern"], "answers": [{"comments": [{"owner": {"reputation": 605, "user_id": 1662332, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/jhAaK.jpg?s=128&g=1", "display_name": "Giacomo Bartoli", "link": "https://stackoverflow.com/users/1662332/giacomo-bartoli"}, "edited": false, "score": 0, "creation_date": 1502203479, "post_id": 45552696, "comment_id": 78102217, "body": "It works perfectly even if in Kotlin! Thanks a lot BakaWaii."}], "tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 2, "last_activity_date": 1502127515, "creation_date": 1502127515, "answer_id": 45552696, "question_id": 45550814, "link": "https://stackoverflow.com/questions/45550814/split-algorithm-and-view-part-using-a-strategy-pattern-in-kotlin/45552696#45552696", "title": "Split algorithm and view part using a Strategy Pattern in Kotlin", "body": "<p>It should be similar to Java.</p>\n\n<p>Suppose the type of <code>requestsUsers</code> is <code>ArrayList&lt;RequestsUser&gt;</code>.</p>\n\n<p>Create the strategy interface.</p>\n\n<pre><code>interface Strategy {\n    fun getRequestsUsers(dataSnapshot: DataSnapshot): ArrayList&lt;RequestsUser&gt;\n}\n</code></pre>\n\n<p>Implement the interface.</p>\n\n<pre><code>class StrategyImpl: Strategy {\n\n    override fun getRequestsUsers(dataSnapshot: DataSnapshot): ArrayList&lt;RequestsUser&gt; {\n        val match = dataSnapshot.children\n        val keysArray = KeysHandler()\n        val requestsUsers = arrayListOf&lt;RequestsUser&gt;()\n        if (match != null) {\n\n            for (data in match) {\n                keysArray.addToList(data.key)\n            }\n            if (keysArray.list.size &gt; 0) {  //this line can be omitted\n                repeat(keysArray.list.size) { i -&gt;\n                    val onlineMatch = dataSnapshot.child(keysArray.getElement(i)).getValue(OnlineMatch::class.java)!!\n                    onlineMatch.key = keysArray.list[i]\n                    requestsUsers.add(onlineMatch)\n                }\n            }\n        }\n        return requestsUsers\n    }\n}\n</code></pre>\n\n<p>Declare the strategy in your class</p>\n\n<pre><code>var strategy = StrategyImpl()  //make it var so that it can be changed\n</code></pre>\n\n<p>Finally, use <code>strategy</code> to get the list of data and add to the list.</p>\n\n<pre><code>val postListener = object : ValueEventListener {\n    override fun onDataChange(dataSnapshot: DataSnapshot) {\n        // Get Post object and use the values to update the UI\n        requestsUsers?.clear()\n        requestsUsers?.addAll(strategy.getRequestsUsers(dataSnapshot))\n        //Updating GUI\n        updateRequests()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 605, "user_id": 1662332, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/jhAaK.jpg?s=128&g=1", "display_name": "Giacomo Bartoli", "link": "https://stackoverflow.com/users/1662332/giacomo-bartoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 150, "favorite_count": 0, "accepted_answer_id": 45552696, "answer_count": 1, "score": 0, "last_activity_date": 1502127515, "creation_date": 1502120419, "question_id": 45550814, "link": "https://stackoverflow.com/questions/45550814/split-algorithm-and-view-part-using-a-strategy-pattern-in-kotlin", "title": "Split algorithm and view part using a Strategy Pattern in Kotlin", "body": "<p>This is the code I would like to refactor:</p>\n\n<pre><code>val postListener = object : ValueEventListener {\noverride fun onDataChange(dataSnapshot: DataSnapshot) {\n            // Get Post object and use the values to update the UI\n            requestsUsers?.clear()\n            val match = dataSnapshot.children\n            val keysArray = KeysHandler()\n            if (match != null) {\n\n                for (data in match) {\n                    keysArray.addToList(data.key)\n                }\n                if (keysArray.list.size &gt; 0) {\n                    repeat(keysArray.list.size) { i -&gt;\n                        val onlineMatch = dataSnapshot.child(keysArray.getElement(i)).getValue(OnlineMatch::class.java)!!\n                        onlineMatch.key = keysArray.list[i]\n                        requestsUsers.add(onlineMatch)\n                    }\n                }\n            }\n            //Updating GUI\n            updateRequests()\n\n}\n</code></pre>\n\n<p>As you can see I am downloading data in an array called match. Then I parse the same array obtaining an array of keys (keysArray). Then I add a specific element of the keys array to another array (requestsUser).</p>\n\n<p>Considering that this algorithm could be changed I would like to incapsulate the algorithm part in another class. I read somewhere that in these kind of situation the best thing to do is to use a Strategy Pattern, but I am working in kotlin. How could I implement a Strategy Pattern in Kotlin?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 2, "creation_date": 1502117581, "post_id": 45549693, "comment_id": 78059226, "body": "Seems like your actual string has different prefix or suffix. See the <a href=\"https://try.kotlinlang.org/#/UserProjects/jrmfi6lvsohjpbt2mnh4i27bmv/sne6uiki43tfr2lbac4fpp4fod\" rel=\"nofollow noreferrer\">runnable demo</a> where the function is used with your example and works properly. If the receiver string does not start with the prefix or does not end with the suffix, then it is returned unchanged, and this is what seems to happen in your case."}, {"owner": {"reputation": 315, "user_id": 3119628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8f12d5a13ebadc3032b658fbf068fc74?s=128&d=identicon&r=PG&f=1", "display_name": "Lewiky", "link": "https://stackoverflow.com/users/3119628/lewiky"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1502117991, "post_id": 45549693, "comment_id": 78059527, "body": "Thanks for the reply. I&#39;ve checked and it definitely matches, printing the result gives <code>= &quot;arn:aws:s3:::$name$&#47;*&quot;</code>. Even changing to just using <code>.removePrefix(&quot;arn:aws:s3:::&quot;)</code> is doing nothing."}], "answers": [{"tags": [], "owner": {"reputation": 315, "user_id": 3119628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8f12d5a13ebadc3032b658fbf068fc74?s=128&d=identicon&r=PG&f=1", "display_name": "Lewiky", "link": "https://stackoverflow.com/users/3119628/lewiky"}, "is_accepted": false, "score": 0, "last_activity_date": 1502118593, "creation_date": 1502118593, "answer_id": 45550240, "question_id": 45549693, "link": "https://stackoverflow.com/questions/45549693/kotlin-removesurrounding-not-working-to-strip-aws-arn-string/45550240#45550240", "title": "Kotlin .removeSurrounding not working to strip aws ARN string", "body": "<p>I solved it, I was being stupid.</p>\n\n<p>For some reason the string literal itself had quotation marks, so the string was \"\"arn:aws:s3:::$name$/*\"\", I had to also strip the extra quotations, hence why the string was not matching the stripSurrounding</p>\n"}], "owner": {"reputation": 315, "user_id": 3119628, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8f12d5a13ebadc3032b658fbf068fc74?s=128&d=identicon&r=PG&f=1", "display_name": "Lewiky", "link": "https://stackoverflow.com/users/3119628/lewiky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 302, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502118593, "creation_date": 1502117054, "question_id": 45549693, "link": "https://stackoverflow.com/questions/45549693/kotlin-removesurrounding-not-working-to-strip-aws-arn-string", "title": "Kotlin .removeSurrounding not working to strip aws ARN string", "body": "<p>Working on my kotlin app, I receive a string containing the ARN for an S3 Bucket, however I just need the bucket name. </p>\n\n<p>The ARN comes in the format : \"arn:aws:s3:::$NAME$/*\".</p>\n\n<p>I'm using the kotlin .removeSurrounding function to strip away the beggining arn tag and the ending /*, however it seems that the function is doing absolutely nothing. </p>\n\n<p>Here's the appropriate code.</p>\n\n<pre><code>EntityUtils.toString(httpGetRequest(***)!!.entity).removeSurrounding(\"arn:aws:s3:::\",\"/*\")\n</code></pre>\n\n<p>Am I just using the function wrong?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5063, "user_id": 1281930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9a9988595d63cddd5415bd2cc1914b84?s=128&d=identicon&r=PG&f=1", "display_name": "guness", "link": "https://stackoverflow.com/users/1281930/guness"}, "edited": false, "score": 0, "creation_date": 1502117146, "post_id": 45549600, "comment_id": 78058921, "body": "this is currently how I do, is there a way to get rid of getter function?"}, {"owner": {"reputation": 62612, "user_id": 1253844, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/3fUHG.jpg?s=128&g=1", "display_name": "Bryan Herbst", "link": "https://stackoverflow.com/users/1253844/bryan-herbst"}, "reply_to_user": {"reputation": 5063, "user_id": 1281930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9a9988595d63cddd5415bd2cc1914b84?s=128&d=identicon&r=PG&f=1", "display_name": "guness", "link": "https://stackoverflow.com/users/1281930/guness"}, "edited": false, "score": 0, "creation_date": 1502117558, "post_id": 45549600, "comment_id": 78059199, "body": "Not really- you want to expose a value of one type as a different type, so you will need two different ways to access that value."}], "tags": [], "owner": {"reputation": 62612, "user_id": 1253844, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/3fUHG.jpg?s=128&g=1", "display_name": "Bryan Herbst", "link": "https://stackoverflow.com/users/1253844/bryan-herbst"}, "is_accepted": false, "score": 0, "last_activity_date": 1502116810, "creation_date": 1502116810, "answer_id": 45549600, "question_id": 45549559, "link": "https://stackoverflow.com/questions/45549559/in-kotlin-how-to-make-a-property-accessible-by-only-specific-type/45549600#45549600", "title": "In Kotlin, how to make a property accessible by only specific type", "body": "<p>I would make the field <code>private</code> and expose the value like so:</p>\n\n<pre><code>class MyKotlinExample {\n    private val mMyString = MutableLiveData&lt;String&gt;()\n\n    fun getMyString(): String = mMyString.getValue()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5063, "user_id": 1281930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9a9988595d63cddd5415bd2cc1914b84?s=128&d=identicon&r=PG&f=1", "display_name": "guness", "link": "https://stackoverflow.com/users/1281930/guness"}, "edited": false, "score": 1, "creation_date": 1502117730, "post_id": 45549735, "comment_id": 78059339, "body": "<code>fun getNonMutableLiveData(): LiveData&lt;String&gt; = mMyString</code> seems better"}], "tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": false, "score": 1, "last_activity_date": 1502176879, "last_edit_date": 1502176879, "creation_date": 1502117137, "answer_id": 45549735, "question_id": 45549559, "link": "https://stackoverflow.com/questions/45549559/in-kotlin-how-to-make-a-property-accessible-by-only-specific-type/45549735#45549735", "title": "In Kotlin, how to make a property accessible by only specific type", "body": "<p>You should use a getter which does the cast for you:</p>\n\n<pre><code>class MyKotlinExample {\n    private val mMyString = MutableLiveData&lt;String&gt;()\n\n    fun getNonMutableLiveData(): LiveData&lt;String&gt; = mMyString\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5063, "user_id": 1281930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9a9988595d63cddd5415bd2cc1914b84?s=128&d=identicon&r=PG&f=1", "display_name": "guness", "link": "https://stackoverflow.com/users/1281930/guness"}, "edited": false, "score": 0, "creation_date": 1502117555, "post_id": 45549765, "comment_id": 78059197, "body": "I think this is the answer but it seems ugly."}, {"owner": {"reputation": 5063, "user_id": 1281930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9a9988595d63cddd5415bd2cc1914b84?s=128&d=identicon&r=PG&f=1", "display_name": "guness", "link": "https://stackoverflow.com/users/1281930/guness"}, "edited": false, "score": 0, "creation_date": 1502118201, "post_id": 45549765, "comment_id": 78059657, "body": "thanks, second one seems a solid way. currently decided if it is an overkill.  I need to learn kotlin way of thinking :P"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1502138107, "post_id": 45549765, "comment_id": 78070570, "body": "first upvote. This is the simplest way to do that.  And note private backing field has no getters/setters just same as java field."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 5, "last_activity_date": 1502117871, "last_edit_date": 1502117871, "creation_date": 1502117251, "answer_id": 45549765, "question_id": 45549559, "link": "https://stackoverflow.com/questions/45549559/in-kotlin-how-to-make-a-property-accessible-by-only-specific-type/45549765#45549765", "title": "In Kotlin, how to make a property accessible by only specific type", "body": "<p>You can use a <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-properties\" rel=\"noreferrer\">backing property</a>:</p>\n\n<pre><code>class MyKotlinExample {\n\n    private val _myString = MutableLiveData&lt;String&gt;()\n    val myString: LiveData&lt;String&gt;\n      get() = _myString\n}\n</code></pre>\n\n<hr>\n\n<p>You can also provide an interface to your clients, which provides only <code>LiveData&lt;String&gt;</code>. Given the following classes:</p>\n\n<pre><code>interface LiveData&lt;T&gt; {\n\n    val value: T\n}\n\ndata class MutableLiveData&lt;T&gt;(override var value: T) : LiveData&lt;T&gt;\n</code></pre>\n\n<p>Create the following interface/implementation:</p>\n\n<pre><code>interface MyExampleInterface {\n\n    val myString: LiveData&lt;String&gt;\n}\n\nclass MyExampleClass : MyExampleInterface {\n\n    override val myString: MutableLiveData&lt;String&gt; = MutableLiveData(\"\")\n}\n</code></pre>\n\n<p>Internally, you can access <code>myString</code> as <code>MutableLiveData</code>, and you can pass the instance of <code>MyExampleClass</code> as <code>MyExampleInterface</code> so they can only access <code>myString</code> as <code>LiveData&lt;String&gt;</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 5063, "user_id": 1281930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9a9988595d63cddd5415bd2cc1914b84?s=128&d=identicon&r=PG&f=1", "display_name": "guness", "link": "https://stackoverflow.com/users/1281930/guness"}, "edited": false, "score": 1, "creation_date": 1502122961, "post_id": 45550469, "comment_id": 78062770, "body": "this way <code>MyKotlinExample</code> class is also blocked using methods from <code>MutableLiveData</code>"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": -1, "last_activity_date": 1502119336, "creation_date": 1502119336, "answer_id": 45550469, "question_id": 45549559, "link": "https://stackoverflow.com/questions/45549559/in-kotlin-how-to-make-a-property-accessible-by-only-specific-type/45550469#45550469", "title": "In Kotlin, how to make a property accessible by only specific type", "body": "<p>This is quite simple - you set the type of the property to <code>LiveData&lt;String&gt;</code>, but initialize it with the instance of <code>MutableLiveData&lt;String&gt;</code>:</p>\n\n<pre><code>class MyKotlinExample {\n    val mMyString: LiveData&lt;String&gt; = MutableLiveData&lt;String&gt;()\n}\n</code></pre>\n"}], "owner": {"reputation": 5063, "user_id": 1281930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9a9988595d63cddd5415bd2cc1914b84?s=128&d=identicon&r=PG&f=1", "display_name": "guness", "link": "https://stackoverflow.com/users/1281930/guness"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 785, "favorite_count": 0, "accepted_answer_id": 45549765, "answer_count": 4, "score": 5, "last_activity_date": 1502176879, "creation_date": 1502116671, "question_id": 45549559, "link": "https://stackoverflow.com/questions/45549559/in-kotlin-how-to-make-a-property-accessible-by-only-specific-type", "title": "In Kotlin, how to make a property accessible by only specific type", "body": "<p>Lets say I have a Kotlin class similar to this:</p>\n\n<pre><code>class MyKotlinExample {\n    val mMyString = MutableLiveData&lt;String&gt;()\n}\n</code></pre>\n\n<p><code>MutableLiveData</code> extends <code>LiveData</code> however I don't want to expose <code>MutableLiveData</code> to other classes. They should only see/access <code>LiveData&lt;String&gt;</code> as my special <code>String</code></p>\n\n<p>Is it possible, and/or good/advised etc?</p>\n"}, {"tags": ["android", "kotlin", "device-admin"], "answers": [{"comments": [{"owner": {"reputation": 784, "user_id": 6352333, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/jSpP6.jpg?s=128&g=1", "display_name": "Code Wiget", "link": "https://stackoverflow.com/users/6352333/code-wiget"}, "edited": false, "score": 0, "creation_date": 1601263370, "post_id": 45551284, "comment_id": 113342008, "body": "This doesn&#39;t work... I requested device admin, then requested this managed profile. Didn&#39;t work."}], "tags": [], "owner": {"reputation": 2024, "user_id": 6917917, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb9b1e18afc92ab46e7f54203f156d15?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Miskovetz", "link": "https://stackoverflow.com/users/6917917/steve-miskovetz"}, "is_accepted": false, "score": 2, "last_activity_date": 1502121991, "creation_date": 1502121991, "answer_id": 45551284, "question_id": 45548476, "link": "https://stackoverflow.com/questions/45548476/work-around-for-device-admin-api-does-not-own-profile/45551284#45551284", "title": "Work around for Device admin api does not own profile", "body": "<p>NFC provisioning is only required for setting a device owner.</p>\n\n<p>I would say the dpm command is generally used also for testing/setting the device owner (that's what I've used it for), but you can also set a profile owner.</p>\n\n<p>You can set up a managed profile programmatically using the code below. The apps that you want to manage must be installed in this profile. This code was based off of android-AppRestrictionEnforcer.</p>\n\n<pre><code>/**\n * Initiates the managed profile provisioning. If we already have a managed profile set up on\n * this device, we will get an error dialog in the following provisioning phase.\n */\nprivate void provisionManagedProfile() {\n    Activity activity = getActivity();\n    if (null == activity) {\n        return;\n    }\n    Intent intent = new Intent(ACTION_PROVISION_MANAGED_PROFILE);\n    if (Build.VERSION.SDK_INT &gt;= 24) {\n        intent.putExtra(EXTRA_PROVISIONING_DEVICE_ADMIN_COMPONENT_NAME,\n                CustomDeviceAdminReceiver.getComponentName(activity));\n    } else {\n        //noinspection deprecation\n        intent.putExtra(EXTRA_PROVISIONING_DEVICE_ADMIN_PACKAGE_NAME,\n                activity.getApplicationContext().getPackageName());\n        intent.putExtra(EXTRA_DEVICE_ADMIN, CustomDeviceAdminReceiver.getComponentName(activity));\n    }\n    if (intent.resolveActivity(activity.getPackageManager()) != null) {\n        startActivityForResult(intent, REQUEST_PROVISION_MANAGED_PROFILE);\n        activity.finish();\n    } else {\n        Toast.makeText(activity, \"Device provisioning is not enabled. Stopping.\",\n                Toast.LENGTH_SHORT).show();\n    }\n}\n\n@Override\npublic void onActivityResult(int requestCode, int resultCode, Intent data) {\n    if (requestCode == REQUEST_PROVISION_MANAGED_PROFILE) {\n        if (resultCode == Activity.RESULT_OK) {\n            Toast.makeText(getActivity(), \"Provisioning done.\", Toast.LENGTH_SHORT).show();\n        } else {\n            Toast.makeText(getActivity(), \"Provisioning failed.\", Toast.LENGTH_SHORT).show();\n        }\n        return;\n    }\n    super.onActivityResult(requestCode, resultCode, data);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3909, "user_id": 2185582, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/rSrJW.png?s=128&g=1", "display_name": "humblerookie", "link": "https://stackoverflow.com/users/2185582/humblerookie"}, "edited": false, "score": 0, "creation_date": 1502254904, "post_id": 45551446, "comment_id": 78123145, "body": "Hey thanks for this, while it abstracts the API it does not provide a workaround since the device still needs to be factory reset and this makes it non feasible if I do not own the device and if I need to distribute it on Google play"}, {"owner": {"reputation": 2003, "user_id": 4816506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c09eeaaa88f06e21972820dd6884a9a1?s=128&d=identicon&r=PG&f=1", "display_name": "Fred", "link": "https://stackoverflow.com/users/4816506/fred"}, "reply_to_user": {"reputation": 3909, "user_id": 2185582, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/rSrJW.png?s=128&g=1", "display_name": "humblerookie", "link": "https://stackoverflow.com/users/2185582/humblerookie"}, "edited": false, "score": 0, "creation_date": 1502271269, "post_id": 45551446, "comment_id": 78132465, "body": "Indeed you cannot gain device owner privilege on an entire device without factory reset, this is a security feature as device owner gives full control over the device. However you can create a work profile within the device, with just the apps you want to control, on which you will have profile owner privilege."}], "tags": [], "owner": {"reputation": 2003, "user_id": 4816506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c09eeaaa88f06e21972820dd6884a9a1?s=128&d=identicon&r=PG&f=1", "display_name": "Fred", "link": "https://stackoverflow.com/users/4816506/fred"}, "is_accepted": false, "score": 1, "last_activity_date": 1507806639, "last_edit_date": 1507806639, "creation_date": 1502122530, "answer_id": 45551446, "question_id": 45548476, "link": "https://stackoverflow.com/questions/45548476/work-around-for-device-admin-api-does-not-own-profile/45551446#45551446", "title": "Work around for Device admin api does not own profile", "body": "<p>The device owner or profile owner app needs to be set during the setup of the device or work profile. Unlike for device admin, it cannot be changed after setup without factory reset (or removing the work profile). To configure your app to be a device owner or profile owner, see the <a href=\"https://developers.google.com/android/work/prov-devices\" rel=\"nofollow noreferrer\">Android EMM Developers documentation</a>.</p>\n\n<p>It's quite complicated to implement this in your own app, and instead you should consider using the <a href=\"https://developers.google.com/android/management/?utm_source=so&amp;utm_medium=45548476\" rel=\"nofollow noreferrer\">Android Management API</a> which offers the same features as a simpler cloud API. For example the equivalent of <code>setPermissionGrantState</code> is <a href=\"https://developers.google.com/android/management/reference/rest/v1/enterprises.policies#PermissionGrant\" rel=\"nofollow noreferrer\"><code>PermissionGrant</code></a>.</p>\n"}], "owner": {"reputation": 3909, "user_id": 2185582, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/rSrJW.png?s=128&g=1", "display_name": "humblerookie", "link": "https://stackoverflow.com/users/2185582/humblerookie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2933, "favorite_count": 2, "answer_count": 2, "score": 4, "last_activity_date": 1515361535, "creation_date": 1502113521, "last_edit_date": 1515361535, "question_id": 45548476, "link": "https://stackoverflow.com/questions/45548476/work-around-for-device-admin-api-does-not-own-profile", "title": "Work around for Device admin api does not own profile", "body": "<p>I was working my way through the device admin api, and while invoking the  <code>setPermissionGrantState</code> function on the <code>DevicePolicyManager</code> I got</p>\n\n<pre><code>Unable to start receiver com.xx.admin.receivers.AdminReceiver: java.lang.SecurityException: Admin ComponentInfo{com.xx/com.xx.admin.receivers.AdminReceiver} does not own the profile.\n</code></pre>\n\n<p>I understand that there are certain functions that can be only run by device/profile owners. Further more that <code>NFC provisioning and dpm command</code> is the way through it. But this is hardly the way I want to proceed when I distribute my app. Is there any way I can automate this authorization by requesting the user to permit my app with a profile ownership with/without root.</p>\n\n<p>Here is my receiver</p>\n\n<pre><code>class AdminReceiver : DeviceAdminReceiver() {\n\n    var manager: DevicePolicyManager? = null\n    override fun onEnabled(context: Context?, intent: Intent?) {\n        super.onEnabled(context, intent)\n        manager = getManager(context)\n        manager!!.setPermissionGrantState(getComponentName(context!!)\n                , \"com.abc.app\"\n                , Manifest.permission.WRITE_EXTERNAL_STORAGE\n                , DevicePolicyManager.PERMISSION_GRANT_STATE_DENIED)\n\n\n    }\n\n    fun getComponentName(context: Context): ComponentName {\n        return ComponentName(context.applicationContext, AdminReceiver::class.java)\n    }\n\n}\n</code></pre>\n"}, {"tags": ["android", "android-camera", "kotlin", "android-6.0-marshmallow", "android-permissions"], "answers": [{"tags": [], "owner": {"reputation": 3103, "user_id": 3887813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5d60d4ba9be9d67243bef5ca7f0141?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/3887813/robin"}, "is_accepted": false, "score": 1, "last_activity_date": 1502112205, "creation_date": 1502112205, "answer_id": 45548031, "question_id": 45547514, "link": "https://stackoverflow.com/questions/45547514/android-m-ask-for-permission-in-onsurfacetextureavailable-callback-not-in-activi/45548031#45548031", "title": "Android M ask for permission in onSurfaceTextureAvailable callback not in Activity", "body": "<p>I've written myself a little <code>PermissionRequestHandler</code> for exactly this purpose, you can find it here: <a href=\"https://gist.github.com/Hikaru755/0ae45a4184bdbc28dcc5c1af659b4508\" rel=\"nofollow noreferrer\">https://gist.github.com/Hikaru755/0ae45a4184bdbc28dcc5c1af659b4508</a></p>\n\n<p>You simply create an instance of it in your Activity, and make sure that any calls to <code>onRequestPermissionsResult</code> are passed to it, like in the example <code>BaseActivity</code> in the gist. Then you can pass it around to other classes, request permission through it and get callbacks where you need them without cluttering your Activity. Be careful not to create memory leaks by holding it longer than the Activity lives, though!</p>\n"}], "owner": {"reputation": 2101, "user_id": 1470479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f38b09e68131cc2431997616b52976f5?s=128&d=identicon&r=PG", "display_name": "lidkxx", "link": "https://stackoverflow.com/users/1470479/lidkxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 242, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1502112896, "creation_date": 1502110742, "last_edit_date": 1502112896, "question_id": 45547514, "link": "https://stackoverflow.com/questions/45547514/android-m-ask-for-permission-in-onsurfacetextureavailable-callback-not-in-activi", "title": "Android M ask for permission in onSurfaceTextureAvailable callback not in Activity", "body": "<p><strong>Symptoms</strong>: upon first start my app crashes with <code>java.lang.SecurityException: Lacking privileges to access camera service</code>. I am getting \"Unfortunately your app has crashed\" dialog, clicking \"OK\", under this dialog there are two dialogs asking for the necessary permissions. I say \"OK\" to both and from now on my app works. Next starts are without the crash. </p>\n\n<p><strong>Causes</strong>: After some time of reading and debugging I came to understanding that my app problem is that it wants to do some Camera related logic before it obtains the required permissions (<code>onSurfaceTextureAvailable</code> callback in my CameraHandler class) or before camera surface view comes to foreground.</p>\n\n<p>There's a lot of questions regarding similar errors on SO and Github, but still it's hard for me to figure out.</p>\n\n<p>I tried to go through <a href=\"https://stackoverflow.com/questions/40353706/lacking-privileges-to-access-camera-service-in-android-6-0\">this</a> answer, but my setup is a bit different, i.e. I have my Camera logic inside a different class that isn't an Activity, and I would really like to keep it that way not to clutter my CameraActivity class. Is there a good way to deal with this?</p>\n\n<p><strong>How to make sure that when onSurfaceTextureAvailable in my CameraHandler class is fired, the permissions are already granted, so that I am not getting <code>java.lang.SecurityException: Lacking privileges to access camera service</code> on the first run?</strong></p>\n\n<p>This is my SurfaceTextureListener located in CameraHandler class:</p>\n\n<pre><code>    private val surfaceTextureListener = object : TextureView.SurfaceTextureListener {\n    override fun onSurfaceTextureAvailable(surface: SurfaceTexture, width: Int, height: Int) {\n        openCamera(width, height) //this line here makes my app crash\n    }\n\n    override fun onSurfaceTextureSizeChanged(surface: SurfaceTexture, width: Int, height: Int) {\n        configureTransform(width, height)\n    }\n\n    override fun onSurfaceTextureDestroyed(surface: SurfaceTexture): Boolean {\n        return true\n    }\n\n    override fun onSurfaceTextureUpdated(surface: SurfaceTexture) {\n\n    }\n}\n</code></pre>\n\n<p>My CameraActivity onCreate, onResume() and onPause():</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n                super.onCreate(savedInstanceState)\n\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n                    if (!canAccessCamera() || !canRecordAudio()) {\n                        requestPermissions(INITIAL_PERMISSIONS, INITIAL_REQUEST)\n                    }\n                }\n            }\n\n    override fun onResume() {\n            super.onResume()\n            cameraHandler.startHandler()\n        }\n\n    override fun onPause() {\n            cameraHandler.stopHandler()\n            super.onPause()\n        }\n</code></pre>\n\n<p>permission checking inside CameraActivity</p>\n\n<pre><code>@RequiresApi(api = Build.VERSION_CODES.M)\n    private fun canAccessCamera() : Boolean {\n        return (hasPermission(android.Manifest.permission.CAMERA))\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.M)\n    private fun canRecordAudio() : Boolean {\n        return (hasPermission(android.Manifest.permission.RECORD_AUDIO))\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.M)\n    private fun hasPermission(perm : String) : Boolean{\n        return (PackageManager.PERMISSION_GRANTED == checkSelfPermission(perm))\n    }\n\n    @RequiresApi(Build.VERSION_CODES.M)\n    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n        if (requestCode == INITIAL_REQUEST) {\n            if (canAccessCamera() &amp;&amp; canRecordAudio()) {\n                recordButton2.setOnClickListener {\n                    if (isRecording) {\n                        cameraHandler.endRecording()\n                    } else {\n                        currentFileName = generateTimestampName()\n                        createCSVFile(currentFileName)\n\n                        cameraHandler.startStopRecording()\n                    }\n\n                    isRecording = !isRecording\n                }\n            } else {\n                Toast.makeText(this, \"We need it to perform magic\", Toast.LENGTH_SHORT).show()\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["eclipse", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 2, "creation_date": 1502112081, "post_id": 45546791, "comment_id": 78055447, "body": "I don&#39;t have Eclipse, but does <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/enum-values.html\" rel=\"nofollow noreferrer\">enumValues</a> get around this issue? <code>enumValues&lt;MyEnumClass&gt;().forEach { doSomething(it) }</code>"}, {"owner": {"reputation": 2836, "user_id": 1278725, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/44514b2bd90c907a487532791a357e57?s=128&d=identicon&r=PG", "display_name": "nansen", "link": "https://stackoverflow.com/users/1278725/nansen"}, "reply_to_user": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1502114662, "post_id": 45546791, "comment_id": 78057195, "body": "Yes, this would fix it. Thank you!"}, {"owner": {"reputation": 11748, "user_id": 338614, "user_type": "registered", "accept_rate": 22, "profile_image": "https://www.gravatar.com/avatar/76fa9e029701c45b2bfe4403cc10e290?s=128&d=identicon&r=PG", "display_name": "Harald Wellmann", "link": "https://stackoverflow.com/users/338614/harald-wellmann"}, "edited": false, "score": 0, "creation_date": 1564134214, "post_id": 45546791, "comment_id": 100939129, "body": "See <a href=\"https://youtrack.jetbrains.com/issue/KE-331\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KE-331</a>"}], "owner": {"reputation": 2836, "user_id": 1278725, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/44514b2bd90c907a487532791a357e57?s=128&d=identicon&r=PG", "display_name": "nansen", "link": "https://stackoverflow.com/users/1278725/nansen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 456, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1502108539, "creation_date": 1502108539, "question_id": 45546791, "link": "https://stackoverflow.com/questions/45546791/kotlin-overload-resolution-ambiguity-in-eclipse-but-not-in-intellij", "title": "Kotlin: Overload resolution ambiguity in Eclipse, but not in IntelliJ", "body": "<p>I want to access the values of a Java enum in my Kotlin code:</p>\n\n<pre><code>MyEnumClass.values().forEach {\n    doSomething(it)\n}\n</code></pre>\n\n<p>This works fine in IntelliJ, however Eclipse (oxygen) with Kotlin-Plugin (0.8.2) complains:</p>\n\n<blockquote>\n  <p>Multiple markers at this line - Overload resolution ambiguity: public\n  open fun values(): Array! defined in my.package.MyEnumClass public\n  final fun values(): Array defined in my.package.MyEnumClass - Cannot\n  choose among the following candidates without completing type\n  inference: @HidesMembers public inline fun Iterable.forEach(action:\n  (???) -> Unit): Unit defined in kotlin.collections @HidesMembers\n  public inline fun Map.forEach(action: (Map.Entry) -> Unit): Unit\n  defined in kotlin.collections</p>\n</blockquote>\n\n<p>The autocomplete suggestions in eclipse show me <code>Array&lt;MyEnumClass&gt;</code> and <code>Array&lt;(out) MyEnumClass!&gt;!</code> as available return types for <code>values()</code>. The latter would however not show in IntelliJ's autocomplete, thus no ambiguity there.</p>\n"}, {"tags": ["android", "constructor", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4818, "user_id": 4063532, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ycJy2.jpg?s=128&g=1", "display_name": "Oussema Aroua", "link": "https://stackoverflow.com/users/4063532/oussema-aroua"}, "edited": false, "score": 1, "creation_date": 1502099805, "post_id": 45544115, "comment_id": 78047883, "body": "you need to add getters/setters too or change the visibility"}, {"owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "reply_to_user": {"reputation": 4818, "user_id": 4063532, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ycJy2.jpg?s=128&g=1", "display_name": "Oussema Aroua", "link": "https://stackoverflow.com/users/4063532/oussema-aroua"}, "edited": false, "score": 0, "creation_date": 1502100280, "post_id": 45544115, "comment_id": 78048170, "body": "Not sure if OP needs getters/setters for his class, but yes, you&#39;re right."}, {"owner": {"reputation": 4818, "user_id": 4063532, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ycJy2.jpg?s=128&g=1", "display_name": "Oussema Aroua", "link": "https://stackoverflow.com/users/4063532/oussema-aroua"}, "edited": false, "score": 0, "creation_date": 1502100424, "post_id": 45544115, "comment_id": 78048265, "body": "using the <code>init</code> method is the best choice"}, {"owner": {"reputation": 67, "user_id": 2412632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/M35i2.jpg?s=128&g=1", "display_name": "Thomas VC", "link": "https://stackoverflow.com/users/2412632/thomas-vc"}, "edited": false, "score": 1, "creation_date": 1502103374, "post_id": 45544115, "comment_id": 78049935, "body": "I&#39;ve use the second option because I had more actions to be completed before getting the source/label_type/data information. By removing the private indication of the declaration and changing them to var&#39;s, I have my needed solution. Thank you!"}], "tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": true, "score": 2, "last_activity_date": 1502099873, "last_edit_date": 1502099873, "creation_date": 1502099628, "answer_id": 45544115, "question_id": 45543993, "link": "https://stackoverflow.com/questions/45543993/kotlin-class-secondary-constructor-with-different-parameter/45544115#45544115", "title": "Kotlin - Class secondary constructor with different parameter", "body": "<p>That's the way:    </p>\n\n<pre><code>class ScanInfo(intent: Intent) {\n    private val source = intent.source\n    private val labelType = intent.labelType\n    private val data = intent.data\n}\n</code></pre>\n\n<p><strong>OR</strong></p>\n\n<pre><code>class ScanInfo(intent: Intent) {\n    private val source: String\n    private val labelType: String\n    private val data: String\n\n    init {\n        source = intent.data\n        labelType = intent.data\n        data = intent.data\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 67, "user_id": 2412632, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/M35i2.jpg?s=128&g=1", "display_name": "Thomas VC", "link": "https://stackoverflow.com/users/2412632/thomas-vc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 369, "favorite_count": 0, "accepted_answer_id": 45544115, "answer_count": 1, "score": 1, "last_activity_date": 1502099873, "creation_date": 1502099281, "last_edit_date": 1502099683, "question_id": 45543993, "link": "https://stackoverflow.com/questions/45543993/kotlin-class-secondary-constructor-with-different-parameter", "title": "Kotlin - Class secondary constructor with different parameter", "body": "<p>Whilst converting a rather simple application from Java to <code>Kotlin</code> I came across one 'problem' I can't seem to fix.</p>\n\n<p>I have a class <code>ScanInfo</code> that looks like this in Java (without getters and setters)</p>\n\n<pre><code>public class ScanInfo {\n    private String source;\n    private String label_type;\n    private String data;\n\n    public ScanInfo(Intent intent) {\n        ... Get Info from intent and assign the values ...\n        this.source = ...\n        this.label_type = ....\n        this.data = ....\n    }\n}\n</code></pre>\n\n<p>Now in <code>Kotlin</code> i can create the class </p>\n\n<pre><code>class ScanInfo (var source: String, var label_type: String, var data: String)\n</code></pre>\n\n<p>But I have no idea how to get it to work so I can create a <code>ScanInfo</code> object with Intent as parameter. \nI tried with companion, object, companion object but I can't seem to find the right syntax. </p>\n\n<p>Am I wrong to look for such a solution while using <code>Kotlin</code> or am I just not using the right <code>kotlin-constructor</code>?\nIf it's possible, how can I create a <code>ScanInfo</code> object with an Intent as parameter?</p>\n\n<pre><code>var result = ScanInfo(intent)\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 9509, "user_id": 1380032, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/56881b805678c0352d3d4f92a908ffbf?s=128&d=identicon&r=PG", "display_name": "Rahul", "link": "https://stackoverflow.com/users/1380032/rahul"}, "edited": false, "score": 0, "creation_date": 1502096266, "post_id": 45542404, "comment_id": 78045672, "body": "Please show decompiled FooKt$bar$foo$1.class"}], "answers": [{"tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": false, "score": 0, "last_activity_date": 1502096332, "creation_date": 1502096332, "answer_id": 45543036, "question_id": 45542404, "link": "https://stackoverflow.com/questions/45542404/kotlin-how-can-i-call-function-from-object-expression/45543036#45543036", "title": "kotlin: how can I call function from object expression", "body": "<p>This is because Kotlin create an extra class extending from object <code>FooKt$bar$foo$1.class</code>. You can use anonymous objects always than you aren't exposing it outer the scope.</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/object-declarations.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/object-declarations.html</a></p>\n"}], "owner": {"reputation": 11, "user_id": 5610534, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/228bbb9eb29e21f4372b88c8b63d9459?s=128&d=identicon&r=PG&f=1", "display_name": "walfud", "link": "https://stackoverflow.com/users/5610534/walfud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 548, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502096332, "creation_date": 1502094182, "question_id": 45542404, "link": "https://stackoverflow.com/questions/45542404/kotlin-how-can-i-call-function-from-object-expression", "title": "kotlin: how can I call function from object expression", "body": "<p>I have such code:</p>\n\n<pre><code>// foo.kt\nfun bar() {\n    val foo = object {\n        fun zzz() {\n            println()\n        }\n    }\n\n    foo.zzz()\n}\n</code></pre>\n\n<p>And I use <code>kotlinc foo.kt</code> to compile the kotlin code. I got 'FooKt.class' and 'FooKt$bar$foo$1.class' as result.\nAnd then I decompile the 'FooKt.class' file to discover the java code, it is like this(by jd-gui):</p>\n\n<pre><code>import java.io.PrintStream;\nimport kotlin.Metadata;\n\n@Metadata(mv={1, 1, 6}, bv={1, 0, 1}, k=2, d1={\"\\000\\006\\n\\000\\n\\002\\020\\002\\032\\006\\020\\000\\032\\0020\\001\"}, d2={\"bar\", \"\"})\npublic final class MainKt\n{\n  public static final void bar()\n  {\n    Object foo = new Object()\n    {\n      public final void zzz()\n      {\n        System.out.println();\n      }\n    };\n    foo.zzz();        // You can NOT do this in java world. But kotlin can do. Why?\n  }\n}\n</code></pre>\n\n<p>I'm curious about the java code above. If you paste the code to any ide and compile(javac), there will be an error: <code>zzz unresolved</code>.\nThe error above say that you can't call any custom function from a <code>new Object()</code> even you extend it.\nNow is the question: Kotlin generated such error code but all seems ok, why?</p>\n"}, {"tags": ["spring", "spring-boot", "kotlin"], "comments": [{"owner": {"reputation": 3296, "user_id": 3086289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VhG15.png?s=128&g=1", "display_name": "Sangam Belose", "link": "https://stackoverflow.com/users/3086289/sangam-belose"}, "edited": false, "score": 0, "creation_date": 1502257850, "post_id": 45542171, "comment_id": 78124208, "body": "Have you tried defining the default constructor."}, {"owner": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "reply_to_user": {"reputation": 3296, "user_id": 3086289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VhG15.png?s=128&g=1", "display_name": "Sangam Belose", "link": "https://stackoverflow.com/users/3086289/sangam-belose"}, "edited": false, "score": 0, "creation_date": 1502265590, "post_id": 45542171, "comment_id": 78128547, "body": "I tried, no errors now, but all the fields of <code>Charge</code> bean are null."}], "answers": [{"comments": [{"owner": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "edited": false, "score": 0, "creation_date": 1502177688, "post_id": 45550051, "comment_id": 78083156, "body": "Sorry, it doesn&#39;t work, both two requests failed, the exception says: <code>Failed to instantiate [xxx.xxx.xxx.Charge]: No default constructor found; nested exception is java.lang.NoSuchMethodException: xxx.xxx.xxx.Charge.&lt;init&gt;()</code>."}, {"owner": {"reputation": 3296, "user_id": 3086289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VhG15.png?s=128&g=1", "display_name": "Sangam Belose", "link": "https://stackoverflow.com/users/3086289/sangam-belose"}, "reply_to_user": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "edited": false, "score": 0, "creation_date": 1502177808, "post_id": 45550051, "comment_id": 78083226, "body": "post your Charge bean"}, {"owner": {"reputation": 3296, "user_id": 3086289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VhG15.png?s=128&g=1", "display_name": "Sangam Belose", "link": "https://stackoverflow.com/users/3086289/sangam-belose"}, "reply_to_user": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "edited": false, "score": 0, "creation_date": 1502178781, "post_id": 45550051, "comment_id": 78083844, "body": "I dont have any idea on kotlin.. but as per the exception it requires the default constructor. Java provides default constructor if class doesnt have any constructor."}, {"owner": {"reputation": 3296, "user_id": 3086289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VhG15.png?s=128&g=1", "display_name": "Sangam Belose", "link": "https://stackoverflow.com/users/3086289/sangam-belose"}, "reply_to_user": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "edited": false, "score": 0, "creation_date": 1502178822, "post_id": 45550051, "comment_id": 78083874, "body": "may be you should try defining default constructor and then try"}], "tags": [], "owner": {"reputation": 3296, "user_id": 3086289, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VhG15.png?s=128&g=1", "display_name": "Sangam Belose", "link": "https://stackoverflow.com/users/3086289/sangam-belose"}, "is_accepted": false, "score": 1, "last_activity_date": 1502177889, "last_edit_date": 1502177889, "creation_date": 1502118086, "answer_id": 45550051, "question_id": 45542171, "link": "https://stackoverflow.com/questions/45542171/spring-boot-rest-api-how-to-support-both-json-form-urlencoded-request/45550051#45550051", "title": "Spring boot rest api: how to support both json &amp; form-urlencoded request?", "body": "<p>try this:</p>\n\n<pre><code>@RequestMapping(value = \"/charge\", method = RequestMethod.POST,\n    consumes = {\"application/json\", \"multipart/form-data\" })\npublic void charge(@ModelAttribute Charge chargeBean){\n // your custom code.\n}\n</code></pre>\n"}], "owner": {"reputation": 3810, "user_id": 971070, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/iY9gL.jpg?s=128&g=1", "display_name": "Hong Duan", "link": "https://stackoverflow.com/users/971070/hong-duan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1551, "favorite_count": 1, "answer_count": 1, "score": 2, "last_activity_date": 1502178185, "creation_date": 1502093401, "last_edit_date": 1502178185, "question_id": 45542171, "link": "https://stackoverflow.com/questions/45542171/spring-boot-rest-api-how-to-support-both-json-form-urlencoded-request", "title": "Spring boot rest api: how to support both json &amp; form-urlencoded request?", "body": "<p>Is it possible to support both json &amp; multipart form-data request?</p>\n\n<p>For example, I want to implement an API that support the two requests below:</p>\n\n<pre><code>curl -X \"POST\" \"http://localhost:8080/charge\" \\\n     -H \"Content-Type: application/x-www-form-urlencoded; charset=utf-8\" \\\n     --data-urlencode \"user_id=duanhong\" \\\n     --data-urlencode \"gift_id=1\"\n\ncurl -X \"POST\" \"http://localhost:8080/charge\" \\\n     -H \"Content-Type: application/json; charset=utf-8\" \\\n     -d $'{\n  \"user_id\": \"duanhong\",\n  \"gift_id\": \"1\"\n}'\n</code></pre>\n\n<p>I've tried:</p>\n\n<pre><code>@RequestMapping(value = \"/charge\", method = arrayOf(RequestMethod.POST), consumes = arrayOf(MediaType.APPLICATION_JSON_UTF8_VALUE, MediaType.APPLICATION_FORM_URLENCODED_VALUE))\nfun charge(@RequestBody body: Charge): ChargeResult {\n    return chargeService.charge(body.user_id, body.gift_id)\n}\n</code></pre>\n\n<p>which can handle json request but cannot handle form-urlencoded, the error is:</p>\n\n<pre><code>org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/x-www-form-urlencoded;charset=utf-8' not supported\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:237) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:150) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:128) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_25]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_25]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_25]\n</code></pre>\n\n<p>and as @Sangam Belose's advice:</p>\n\n<pre><code>@RequestMapping(value = \"/charge\", method = arrayOf(RequestMethod.POST), consumes = arrayOf(MediaType.APPLICATION_JSON_UTF8_VALUE, MediaType.APPLICATION_FORM_URLENCODED_VALUE))\nfun charge(@ModelAttribute body: Charge): ChargeResult {\n    return chargeService.charge(body.user_id, body.gift_id)\n}\n</code></pre>\n\n<p>the error is:</p>\n\n<pre><code>org.springframework.beans.BeanInstantiationException: Failed to instantiate [xxx.xxx.xxx.Charge]: No default constructor found; nested exception is java.lang.NoSuchMethodException: xxx.xxx.xxx.Charge.&lt;init&gt;()\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:105) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.createAttribute(ModelAttributeMethodProcessor.java:141) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletModelAttributeMethodProcessor.createAttribute(ServletModelAttributeMethodProcessor.java:81) ~[spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.method.annotation.ModelAttributeMethodProcessor.resolveArgument(ModelAttributeMethodProcessor.java:101) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121) ~[spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:158) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:128) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:97) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:967) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:901) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:872) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:661) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846) [spring-webmvc-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:742) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52) [tomcat-embed-websocket-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:105) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:81) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107) [spring-web-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:198) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:478) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:140) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:80) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:342) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:799) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:66) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:861) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1455) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142) [na:1.8.0_25]\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617) [na:1.8.0_25]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) [tomcat-embed-core-8.5.15.jar:8.5.15]\n    at java.lang.Thread.run(Thread.java:745) [na:1.8.0_25]\nCaused by: java.lang.NoSuchMethodException: xxx.xxx.xxx.Charge.&lt;init&gt;()\n    at java.lang.Class.getConstructor0(Class.java:3074) ~[na:1.8.0_25]\n    at java.lang.Class.getDeclaredConstructor(Class.java:2170) ~[na:1.8.0_25]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:102) ~[spring-beans-4.3.9.RELEASE.jar:4.3.9.RELEASE]\n    ... 54 common frames omitted\n</code></pre>\n\n<p>My <code>Charge</code> bean:</p>\n\n<pre><code>data class Charge(val user_id: String, val gift_id: String)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "variadic-functions"], "answers": [{"tags": [], "owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "is_accepted": true, "score": 1, "last_activity_date": 1502093551, "creation_date": 1502093551, "answer_id": 45542215, "question_id": 45542065, "link": "https://stackoverflow.com/questions/45542065/referring-to-vararg-function-parameters-kotlin/45542215#45542215", "title": "Referring to vararg function parameters Kotlin", "body": "<p><code>vararg</code> is basically just syntactic sugar for creating arrays. Thus, you will need to treat the parameter <code>permission</code> like an <code>Array&lt;AppPermission&gt;</code>, which means that you might want to do this:</p>\n\n<pre><code>fun Activity.isPermissionGranted(vararg permissions : AppPermission) = permissions.all { permission -&gt; (PermissionChecker.checkSelfPermission(this, permission.permissionName) == PackageManager.PERMISSION_GRANTED) }\n</code></pre>\n\n<p>Here, <code>all</code> is a function from the standard library that computes a <code>Boolean</code> for each value in the array and returns <code>true</code> if all those <code>Boolean</code>s are <code>true</code>.</p>\n"}], "owner": {"reputation": 2101, "user_id": 1470479, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f38b09e68131cc2431997616b52976f5?s=128&d=identicon&r=PG", "display_name": "lidkxx", "link": "https://stackoverflow.com/users/1470479/lidkxx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 562, "favorite_count": 0, "accepted_answer_id": 45542215, "answer_count": 1, "score": 0, "last_activity_date": 1502093551, "creation_date": 1502092973, "last_edit_date": 1592644375, "question_id": 45542065, "link": "https://stackoverflow.com/questions/45542065/referring-to-vararg-function-parameters-kotlin", "title": "Referring to vararg function parameters Kotlin", "body": "<p>Is there a way to refer to</p>\n<p><strong>permission.permissionName</strong></p>\n<p>in this code:</p>\n<pre><code>fun Activity.isPermissionGranted(vararg permission : AppPermission) = (PermissionChecker.checkSelfPermission(this, permission.permissionName) == PackageManager.PERMISSION_GRANTED)\n</code></pre>\n<p>As is I am getting &quot;unresolved reference: permissionName&quot; error.</p>\n<p><strong>AppPermission</strong> class signature looks like this:</p>\n<pre><code>sealed class AppPermission(val permissionName: String,\n                           val requestCode: Int,\n                           val deniedMessageId: Int,\n                           val explanationMessageId: Int) {...}\n</code></pre>\n<p>To be honest I am not even sure if using varargs here is a good idea so if it's completely bonkers please correct me.</p>\n<p>Basically I am trying to implement grant permission(s) logic for Android &gt; 5.0 and I am not sure how many permissions we're going to end up needing so this is why I thought about using varargs here.</p>\n"}, {"tags": ["android", "twitter", "kotlin", "twitter-rest-api"], "comments": [{"owner": {"reputation": 436, "user_id": 2699805, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8725bb7aaf28a7cb2ebb6fb1d247cb6e?s=128&d=identicon&r=PG&f=1", "display_name": "qwert_ukg", "link": "https://stackoverflow.com/users/2699805/qwert-ukg"}, "edited": false, "score": 0, "creation_date": 1502079102, "post_id": 45539266, "comment_id": 78038590, "body": "maybe cose ur <code>fun home_timeline</code> returns Unit (void)?"}, {"owner": {"reputation": 83, "user_id": 4159235, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jWhzozQRhAo/AAAAAAAAAAI/AAAAAAAAAEQ/xEyvln6FBnI/photo.jpg?sz=128", "display_name": "VitDuck", "link": "https://stackoverflow.com/users/4159235/vitduck"}, "reply_to_user": {"reputation": 436, "user_id": 2699805, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8725bb7aaf28a7cb2ebb6fb1d247cb6e?s=128&d=identicon&r=PG&f=1", "display_name": "qwert_ukg", "link": "https://stackoverflow.com/users/2699805/qwert-ukg"}, "edited": false, "score": 0, "creation_date": 1502090124, "post_id": 45539266, "comment_id": 78042247, "body": "@qwert_ukg maybe it&#39;s the problem. But I don&#39;t know how to write this function to return something - after that implement it to use Callback function."}, {"owner": {"reputation": 436, "user_id": 2699805, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/8725bb7aaf28a7cb2ebb6fb1d247cb6e?s=128&d=identicon&r=PG&f=1", "display_name": "qwert_ukg", "link": "https://stackoverflow.com/users/2699805/qwert-ukg"}, "edited": false, "score": 0, "creation_date": 1502095569, "post_id": 45539266, "comment_id": 78045259, "body": "just try to add return type"}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1502103465, "post_id": 45539266, "comment_id": 78049975, "body": "what is the full declaration of Callback&lt;T&gt;?"}], "answers": [{"tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": false, "score": 0, "last_activity_date": 1502104199, "last_edit_date": 1502104199, "creation_date": 1502103488, "answer_id": 45545257, "question_id": 45539266, "link": "https://stackoverflow.com/questions/45539266/add-custom-twitter-rest-api-queries-using-kotlin/45545257#45545257", "title": "Add custom Twitter REST API queries using Kotlin", "body": "<p>Your callback is calling methods that return <code>Unit</code>.  I.e. <code>success()</code> has no return value, <code>Log.d</code> returns <code>Unit</code>, so the <code>Unit</code> is implied.  Same goes for <code>failure()</code>.</p>\n\n<p>Look closer at the Callback class.  If you have and IDE with \"Intelli-sense\" or the like, it will help you.  Otherwise, look at the interface/class and determine how the methods are defined, specifically, look at the return type and either change your calls to match or change the <code>Callback&lt;T&gt;</code> methods to be Unit (assuming it is your interface).  <a href=\"https://kotlinlang.org/docs/reference/functions.html\" rel=\"nofollow noreferrer\">This link</a> can help you figure out how to write your functions to return specific types.</p>\n\n<p>Let's say you find something like this...</p>\n\n<pre><code>interface Callback&lt;T&gt; {\n    fun success(result: Result&lt;T&gt;) : T //notice the : T determines the type of the function\n    //... other members\n}\n</code></pre>\n\n<p>Then your code might look like this...</p>\n\n<pre><code>apiClient.getHomeTimeline().home_timeline(null, null, null, object : Callback&lt;List&lt;Tweet&gt;&gt;() {\n    override fun success(result: Result&lt;List&lt;Tweet&gt;&gt;?) {\n        Log.d(\"result\", result.toString())\n        return result.getMemberForT() // I made up the name, would need\n                                      // decl. for Result&lt;T&gt; \n    }\n    //...\n}\n</code></pre>\n\n<p>But without the declarations for Callback and Result, I would only be guessing.</p>\n"}], "owner": {"reputation": 83, "user_id": 4159235, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jWhzozQRhAo/AAAAAAAAAAI/AAAAAAAAAEQ/xEyvln6FBnI/photo.jpg?sz=128", "display_name": "VitDuck", "link": "https://stackoverflow.com/users/4159235/vitduck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 576, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502104199, "creation_date": 1502078707, "question_id": 45539266, "link": "https://stackoverflow.com/questions/45539266/add-custom-twitter-rest-api-queries-using-kotlin", "title": "Add custom Twitter REST API queries using Kotlin", "body": "<p>I'm a newbie in Kotlin.\nI'm building an app like Twitter.\nI want to create custom class extends TwitterApiClient - to use more endpoints. Twitter's tutorial is here\n<a href=\"https://twittercommunity.com/t/adding-custom-queries-android/34542\" rel=\"nofollow noreferrer\">Tutorial</a></p>\n\n<p>Here's my code:</p>\n\n<pre><code>class TwitterApiList(session: TwitterSession) : TwitterApiClient(session) {\n\n    fun getHomeTimeline(): TwitterCustom {\n        return getService(TwitterCustom::class.java)\n    }\n}\n// TwitterCustom interface\npublic interface TwitterCustom {\n    @GET(\"/1.1/statuses/home_timeline.json\")\n    fun home_timeline(@Query(\"count\") count: Int?, @Query(\"since_id\") since_id: Int?, @Query(\"max_id\") max_id: Int?, cb: Callback&lt;List&lt;Tweet&gt;&gt;)\n}\n// And how I use it\nval apiClient = TwitterApiList(TwitterCore.getInstance().sessionManager.activeSession)\napiClient.getHomeTimeline().home_timeline(null, null, null, object : Callback&lt;List&lt;Tweet&gt;&gt;() {\n    override fun success(result: Result&lt;List&lt;Tweet&gt;&gt;?) {\n        Log.d(\"result\", result.toString())\n    }\n\n    override fun failure(exception: TwitterException?) {\n        Log.d(\"failed\", exception?.message)\n    }\n})\n</code></pre>\n\n<p>When I run app, it\u2019s always crash with message \u201cService methods cannot return void.\u201d at this line</p>\n\n<pre><code>apiClient.getHomeTimeline().home_timeline(null, null, null, object : Callback&lt;List&lt;Tweet&gt;&gt;()\n</code></pre>\n\n<p>Please help me to solve this problem.</p>\n\n<p>Thank you all.</p>\n"}, {"tags": ["android", "kotlin", "kapt"], "comments": [{"owner": {"reputation": 13256, "user_id": 3879847, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/shQpQ.png?s=128&g=1", "display_name": "Ranjith Kumar", "link": "https://stackoverflow.com/users/3879847/ranjith-kumar"}, "edited": false, "score": 0, "creation_date": 1502446329, "post_id": 45538787, "comment_id": 78224029, "body": "Pls post your answer if your problem solved.."}, {"owner": {"reputation": 1254, "user_id": 1090973, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/04c441b04f1a1e9b8c1208164dd337d5?s=128&d=identicon&r=PG", "display_name": "sunghun", "link": "https://stackoverflow.com/users/1090973/sunghun"}, "reply_to_user": {"reputation": 13256, "user_id": 3879847, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/shQpQ.png?s=128&g=1", "display_name": "Ranjith Kumar", "link": "https://stackoverflow.com/users/3879847/ranjith-kumar"}, "edited": false, "score": 0, "creation_date": 1502448439, "post_id": 45538787, "comment_id": 78225453, "body": "@RanjithKumar Nope. After many hours struggling, I just revert Kotln classes to Java class. It&#39;s working with Java."}, {"owner": {"reputation": 13256, "user_id": 3879847, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/shQpQ.png?s=128&g=1", "display_name": "Ranjith Kumar", "link": "https://stackoverflow.com/users/3879847/ranjith-kumar"}, "edited": false, "score": 0, "creation_date": 1502448811, "post_id": 45538787, "comment_id": 78225685, "body": "Just now I fixed my problem... After find the root cause I will post the my solution.."}, {"owner": {"reputation": 2722, "user_id": 1643076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0OSSl.jpg?s=128&g=1", "display_name": "Gautam", "link": "https://stackoverflow.com/users/1643076/gautam"}, "reply_to_user": {"reputation": 13256, "user_id": 3879847, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/shQpQ.png?s=128&g=1", "display_name": "Ranjith Kumar", "link": "https://stackoverflow.com/users/3879847/ranjith-kumar"}, "edited": false, "score": 0, "creation_date": 1535561634, "post_id": 45538787, "comment_id": 91115361, "body": "@RanjithKumar can you tell me how you solved it?"}, {"owner": {"reputation": 13256, "user_id": 3879847, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/shQpQ.png?s=128&g=1", "display_name": "Ranjith Kumar", "link": "https://stackoverflow.com/users/3879847/ranjith-kumar"}, "reply_to_user": {"reputation": 2722, "user_id": 1643076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0OSSl.jpg?s=128&g=1", "display_name": "Gautam", "link": "https://stackoverflow.com/users/1643076/gautam"}, "edited": false, "score": 0, "creation_date": 1535604537, "post_id": 45538787, "comment_id": 91128804, "body": "@Gautam I fixed &amp; posted my answer. but it down-voted that&#39;s the reason I deleted.  Now I undelete my old answer. I don&#39;t know now its working or not. try your luck."}, {"owner": {"reputation": 2722, "user_id": 1643076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0OSSl.jpg?s=128&g=1", "display_name": "Gautam", "link": "https://stackoverflow.com/users/1643076/gautam"}, "reply_to_user": {"reputation": 13256, "user_id": 3879847, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/shQpQ.png?s=128&g=1", "display_name": "Ranjith Kumar", "link": "https://stackoverflow.com/users/3879847/ranjith-kumar"}, "edited": false, "score": 0, "creation_date": 1535605427, "post_id": 45538787, "comment_id": 91129016, "body": "@RanjithKumar thanks. I will try what you suggested &amp; you can delete if you want, i have taken the screenshot :D"}, {"owner": {"reputation": 13256, "user_id": 3879847, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/shQpQ.png?s=128&g=1", "display_name": "Ranjith Kumar", "link": "https://stackoverflow.com/users/3879847/ranjith-kumar"}, "reply_to_user": {"reputation": 2722, "user_id": 1643076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0OSSl.jpg?s=128&g=1", "display_name": "Gautam", "link": "https://stackoverflow.com/users/1643076/gautam"}, "edited": false, "score": 0, "creation_date": 1535605855, "post_id": 45538787, "comment_id": 91129149, "body": "@Gautam after you try pls let me know it working or not. If working I will keep the answer for future users. else I will delete"}, {"owner": {"reputation": 1254, "user_id": 1090973, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/04c441b04f1a1e9b8c1208164dd337d5?s=128&d=identicon&r=PG", "display_name": "sunghun", "link": "https://stackoverflow.com/users/1090973/sunghun"}, "edited": false, "score": 0, "creation_date": 1535707592, "post_id": 45538787, "comment_id": 91175267, "body": "@Gatuam This question was while ago. I am now using Kotlin 1.6 and Android Studio 3.1 and It has been improved a lot and there is not problem like that. Thanks anyway."}, {"owner": {"reputation": 2722, "user_id": 1643076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0OSSl.jpg?s=128&g=1", "display_name": "Gautam", "link": "https://stackoverflow.com/users/1643076/gautam"}, "edited": false, "score": 0, "creation_date": 1535905031, "post_id": 45538787, "comment_id": 91227281, "body": "@sunghun yes I know, but I have to use the older version of kotlin and I can&#39;t do anything about it."}, {"owner": {"reputation": 2722, "user_id": 1643076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0OSSl.jpg?s=128&g=1", "display_name": "Gautam", "link": "https://stackoverflow.com/users/1643076/gautam"}, "reply_to_user": {"reputation": 13256, "user_id": 3879847, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/shQpQ.png?s=128&g=1", "display_name": "Ranjith Kumar", "link": "https://stackoverflow.com/users/3879847/ranjith-kumar"}, "edited": false, "score": 0, "creation_date": 1535905077, "post_id": 45538787, "comment_id": 91227296, "body": "@RanjithKumar this didn&#39;t helped me but one gist helped me which mentions do&#39;s and dont&#39;s for kapt and kotlin. Anyways thanks for the help"}, {"owner": {"reputation": 13256, "user_id": 3879847, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/shQpQ.png?s=128&g=1", "display_name": "Ranjith Kumar", "link": "https://stackoverflow.com/users/3879847/ranjith-kumar"}, "reply_to_user": {"reputation": 2722, "user_id": 1643076, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/0OSSl.jpg?s=128&g=1", "display_name": "Gautam", "link": "https://stackoverflow.com/users/1643076/gautam"}, "edited": false, "score": 0, "creation_date": 1536036699, "post_id": 45538787, "comment_id": 91267768, "body": "@Gautam pls post your solution. I deleted my answer"}], "owner": {"reputation": 1254, "user_id": 1090973, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/04c441b04f1a1e9b8c1208164dd337d5?s=128&d=identicon&r=PG", "display_name": "sunghun", "link": "https://stackoverflow.com/users/1090973/sunghun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1241, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1502450963, "creation_date": 1502074461, "last_edit_date": 1502075413, "question_id": 45538787, "link": "https://stackoverflow.com/questions/45538787/appkaptdebugkotlin-error-when-running-unit-test", "title": ":app:kaptDebugKotlin error when running unit test", "body": "<p>I have been trying Kotlin and implementing an app. Running the app is working fine so far, but I cannot run unit test. </p>\n\n<p>Android Studio: 2.3.3</p>\n\n<p>Here is my Gradle settings:</p>\n\n<p>build.gradle(Project)</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.3'\n    repositories {\n        jcenter()\n        maven { url 'https://jitpack.io' }\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:2.3.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n        classpath \"io.realm:realm-gradle-plugin:3.5.0\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>build.gradle(Module)</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-kapt'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'realm-android'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.1\"\n    defaultConfig {\n        applicationId \"com.example.myapp\"\n        minSdkVersion 15\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    kapt {\n        generateStubs = true\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    compile 'com.android.support:design:25.3.1'\n    compile group: 'com.google.code.gson', name: 'gson', version:'2.8.0'\n\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n\n    testCompile 'junit:junit:4.12'\n    testCompile 'org.robolectric:robolectric:3.3.2'\n}\nrepositories {\n    mavenCentral()\n}\n\n\nclass FileUtils(assets: AssetManager) {\n    val assets = assets\n\n    fun &lt;T&gt; readJsonFromAsset(fileName: String, tClass: Class&lt;T&gt;): T {\n        val text: String? = this.assets.open(fileName)?.bufferedReader()?.readText();\n\n        val typeToken = object : TypeToken&lt;T&gt;() {}.type\n        val gson: Gson = Gson()\n        return gson.fromJson&lt;T&gt;(text, typeToken)\n    }\n}\n\n\n\n@RunWith(RobolectricTestRunner::class)\n@Config(constants = BuildConfig::class)\n\n    class FileUtilsTest {\n\n        val fileUtils: FileUtils\n\n        init {\n            val assetManager = Robolectric.buildActivity(Activity::class.java).create().get().assets\n            fileUtils = FileUtils(assetManager)\n        }\n\n\n        @Test\n        fun readJsonFromAsset_ShouldGetQuestionList() {\n            val questions = fileUtils.readJsonFromAsset(\"part1.json\", Questions::class.java)\n            assert(7 == questions.size)\n        }\n\n        class Questions : ArrayList&lt;Question&gt;()\n    }\n</code></pre>\n\n<p>Error message: </p>\n\n<pre><code>Information:Gradle tasks [:app:generateDebugSources, :app:mockableAndroidJar, :app:prepareDebugUnitTestDependencies, :app:compileDebugUnitTestSources]\n    Error:Execution failed for task ':app:kaptDebugKotlin'.\n    &gt; Internal compiler error. See log for more details\n</code></pre>\n\n<p>What I have tried:</p>\n\n<pre><code>Tried with kotlin_version from 1.1.1 to 1.1.3\nTried with compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\nClean Project\nClean cache and restart Android Studio\n</code></pre>\n\n<p>I think Kotlin doesn't work with smoothly some libraries and it takes effort to fix it. If I cannot make unit test easier than Java using Kotlin, I don't want to use Kotlin but want to experiment more.\nI will appreciate for your help.</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1502062978, "post_id": 45537645, "comment_id": 78035342, "body": "Are you just checking .info/connected, or have you also tried actually reading and writing the database?"}, {"owner": {"reputation": 68, "user_id": 7868063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b27c8eed103a06a9ce6ac0c1339acfe?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas Gruhn", "link": "https://stackoverflow.com/users/7868063/niklas-gruhn"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1502063880, "post_id": 45537645, "comment_id": 78035518, "body": "yes I am also trying to read from the database at this point. But the listener functions attached are never called. Which is the desired behavior, in offline mode, right?"}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 3, "creation_date": 1502064136, "post_id": 45537645, "comment_id": 78035570, "body": "Turn on debug logging to see what&#39;s going on. <code>FirebaseDatabase.getInstance().setLogLevel(Logger.Level.DEBU&zwnj;&#8203;G);</code>"}, {"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 0, "creation_date": 1502954147, "post_id": 45537645, "comment_id": 78415119, "body": "hey @Niklas have you resolved the issue?? I am facing the same from past two days"}, {"owner": {"reputation": 68, "user_id": 7868063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b27c8eed103a06a9ce6ac0c1339acfe?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas Gruhn", "link": "https://stackoverflow.com/users/7868063/niklas-gruhn"}, "edited": false, "score": 0, "creation_date": 1503098185, "post_id": 45537645, "comment_id": 78490820, "body": "I have no idea really... It just started working again somehow. I didn&#39;t analysed the problem any further. I just was glad it was over. This really gave me some headaches... the only thing I remember changing right before it started working again was: I changed the following line in my <i>app/build.grade</i> <code>compile &quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version&quot;</code> to <code>compile &quot;org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version&quot;</code>. Maybe this is some kind of Java7 -&gt; Java8 problem, but I have no idea. I really hope this magically solves your problem too."}], "owner": {"reputation": 68, "user_id": 7868063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b27c8eed103a06a9ce6ac0c1339acfe?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas Gruhn", "link": "https://stackoverflow.com/users/7868063/niklas-gruhn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 251, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1502062488, "creation_date": 1502062488, "question_id": 45537645, "link": "https://stackoverflow.com/questions/45537645/firebase-database-always-offline-when-tested-on-physical-android-device", "title": "Firebase database always offline, when tested on physical Android device", "body": "<p>I am building a native Android application in <strong>Android Studio 3</strong>, which makes use of Firebase Database and Firebase Auth. I have tested it on different virtual devices, where everthing works fine:</p>\n\n<ul>\n<li>Nexus_5X_API_25_x86 with Android 7.1.1 </li>\n<li>Pixel with Android 6.0</li>\n</ul>\n\n<p>It also used to work on physical devices. But somehow not anymore. The Firebase Database seems to be <strong>always in offline mode</strong>. I don't get any errors. It's just always offline. I am checking that like this:</p>\n\n<pre><code>    val connectedRef = FirebaseDatabase.getInstance().getReference(\".info/connected\")\n    connectedRef.addValueEventListener(object : ValueEventListener {\n        override fun onDataChange(snapshot: DataSnapshot) {\n            val connected = snapshot.getValue(Boolean::class.java)!!\n            if (connected) {\n                println(\"FIREBASE IS CONNECTED\")\n            } else {\n                println(\"FIREBASE IS NOT CONNECTED\")\n            }\n        }\n\n        override fun onCancelled(error: DatabaseError) {\n            System.err.println(\"Listener was cancelled\")\n        }\n    })\n</code></pre>\n\n<p>My app <strong>definitely has internet access</strong> though, because I'm successfully communicating with the YouTube Data API at the same time.</p>\n\n<p>The physical two physical devices I used, have Android 5.0.2 and 6.0.1 installed.</p>\n\n<p>I also restored a version of my old code, from a time it was still working an physical devices but the problem remained. So I guess it has nothing to do with my code.</p>\n\n<p>Is there maybe some common mistake, related to this? If not, can you tell me how I could further investigate the problem? I am really struggling with this and have no idea what to do. I also can't really find any reports of similar issues.</p>\n"}, {"tags": ["java", "delegates", "jvm", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1085, "user_id": 4012979, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/---qkN46xdTA/AAAAAAAAAAI/AAAAAAAAAeI/x3SUiBz1BPQ/photo.jpg?sz=128", "display_name": "Preston Garno", "link": "https://stackoverflow.com/users/4012979/preston-garno"}, "edited": false, "score": 0, "creation_date": 1502133560, "post_id": 45537452, "comment_id": 78068325, "body": "There&#39;s definitely something wrong either with the kotlin version I&#39;m running or possibly the gradle plugin (not programming for android - just using the kotlin &amp; java plugins).  When I remove the <code>getValue</code> method from the <code>PropertyMapper</code> class in your demo, it still works fine, as expected (i.e. only failing at the TODO() in the getValue method in the <code>ReadOnlyProperty</code> instance returned by the <code>PropertyMapper#provideDelegate</code>.  However, when I run it on my machine in my project it fails with a <code>NoSuchMethodError</code> when attempting to access the property"}, {"owner": {"reputation": 1085, "user_id": 4012979, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/---qkN46xdTA/AAAAAAAAAAI/AAAAAAAAAeI/x3SUiBz1BPQ/photo.jpg?sz=128", "display_name": "Preston Garno", "link": "https://stackoverflow.com/users/4012979/preston-garno"}, "edited": false, "score": 0, "creation_date": 1502134269, "post_id": 45537452, "comment_id": 78068673, "body": "<a href=\"https://try.kotlinlang.org/#/UserProjects/i80l089pasrufarmko4a1juhju/smrs60ai2hva4c7hpffjbrvalq\" rel=\"nofollow noreferrer\">Here&#39;s an example</a> (I modified yours) which more closely resembles what I&#39;m trying to do and <a href=\"https://github.com/prestongarno/ktq-codegen\" rel=\"nofollow noreferrer\">here&#39;s the repository</a> and more specifically: the <a href=\"https://github.com/prestongarno/ktq-codegen/blob/master/runtime/src/main/java/com/prestongarno/ktq/runtime/GraphType.kt\" rel=\"nofollow noreferrer\">interface</a> and <a href=\"https://github.com/prestongarno/ktq-codegen/blob/master/compiler/src/test/java/com/prestongarno/transpiler/experimental/Query.kt\" rel=\"nofollow noreferrer\">implementation</a>"}, {"owner": {"reputation": 1085, "user_id": 4012979, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/---qkN46xdTA/AAAAAAAAAAI/AAAAAAAAAeI/x3SUiBz1BPQ/photo.jpg?sz=128", "display_name": "Preston Garno", "link": "https://stackoverflow.com/users/4012979/preston-garno"}, "edited": false, "score": 0, "creation_date": 1502137438, "post_id": 45537452, "comment_id": 78070274, "body": "Moved my comment to an answer - see my explanation below. If I can reproduce consistently in an isolated example I&#39;ll file a bug report"}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 1, "last_activity_date": 1502061426, "last_edit_date": 1502061426, "creation_date": 1502060650, "answer_id": 45537452, "question_id": 45537061, "link": "https://stackoverflow.com/questions/45537061/kotlin-delegate-properties-implementing-providedelegate-operator-function-but/45537452#45537452", "title": "Kotlin delegate properties implementing &#39;provideDelegate&#39; operator function, but method never called", "body": "<p>Are you sure it is not called? What I found wrong in your code is that when you implement the <code>provideDelegate</code> operator and that returns some delegate object other than its receiver, you don't need the <code>getValue</code> operator to be implemented, since it won't be used, it's the object that <code>provideDelegate</code> returns that will be used for the property access (see below).</p>\n\n<p>Otherwise, your code is valid. I have slightly modified your example to make it more clear what happens:</p>\n\n<pre><code>class PropertyMapper&lt;out T : Any&gt; internal constructor() {\n    operator fun getValue(inst: DbType, prop: KProperty&lt;*&gt;): T {\n        println(\"PropertyMapper :: getValue\") // note: never printed\n        TODO()\n    }\n\n    operator fun provideDelegate(inst: DbType, prop: KProperty&lt;*&gt;): ReadOnlyProperty&lt;DbType, T&gt; {\n        println(\"PropertyMapper :: provideDelegate\")\n        return object : ReadOnlyProperty&lt;DbType, T&gt; {\n            override fun getValue(thisRef: DbType, property: KProperty&lt;*&gt;): T {\n                println(\"anonymous ReadOnlyProperty :: getValue\")\n                TODO()\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>The <code>DbType</code> and the <code>BasicUserInfo</code> were left unchanged.</p>\n\n<p>Now, when I create an instance of <code>BasicUserInfo</code> and get its <code>username</code> (with the expression <code>BasicUserInfo().username</code>), I get the following output:</p>\n\n<blockquote>\n<pre><code>PropertyMapper :: provideDelegate\nanonymous ReadOnlyProperty :: getValue\nException in thread \"main\" kotlin.NotImplementedError: An operation is not implemented.\n...\n</code></pre>\n</blockquote>\n\n<p>And if I only create the instance, it's only the first line.</p>\n\n<p>Please see <a href=\"https://try.kotlinlang.org/#/UserProjects/vevoajgh2snt4ov9cqmtfo0ejm/er9k5he550ur2qahn38707bu1a\" rel=\"nofollow noreferrer\">the runnable demo of this code</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1085, "user_id": 4012979, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/---qkN46xdTA/AAAAAAAAAAI/AAAAAAAAAeI/x3SUiBz1BPQ/photo.jpg?sz=128", "display_name": "Preston Garno", "link": "https://stackoverflow.com/users/4012979/preston-garno"}, "is_accepted": true, "score": 0, "last_activity_date": 1502137242, "creation_date": 1502137242, "answer_id": 45555084, "question_id": 45537061, "link": "https://stackoverflow.com/questions/45537061/kotlin-delegate-properties-implementing-providedelegate-operator-function-but/45555084#45555084", "title": "Kotlin delegate properties implementing &#39;provideDelegate&#39; operator function, but method never called", "body": "<p>I figured it out: It appears to be a bug in the kotlin plugin or gradle. If I build a clean project with <code>PropertyMapper</code> only having a single operator method called <code>getValue</code>, it works as expected: calling <code>PropertyMapper#getValue</code> on accessing the field. </p>\n\n<p>Then, when I delete that method and instead use the <code>provideDelegate</code> operator method, it fails with a <code>NoSuchMethodError</code> (never calls the <code>PropertyMapper#provideDelegate</code> method). If I clean (manually deleting the build/out folders) and re-build with that setup, it runs just fine.</p>\n"}], "owner": {"reputation": 1085, "user_id": 4012979, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/---qkN46xdTA/AAAAAAAAAAI/AAAAAAAAAeI/x3SUiBz1BPQ/photo.jpg?sz=128", "display_name": "Preston Garno", "link": "https://stackoverflow.com/users/4012979/preston-garno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1163, "favorite_count": 0, "accepted_answer_id": 45555084, "answer_count": 2, "score": 1, "last_activity_date": 1502137242, "creation_date": 1502057096, "question_id": 45537061, "link": "https://stackoverflow.com/questions/45537061/kotlin-delegate-properties-implementing-providedelegate-operator-function-but", "title": "Kotlin delegate properties implementing &#39;provideDelegate&#39; operator function, but method never called", "body": "<p>I have a base type <code>DbType</code> which is open for extension for my models like this: </p>\n\n<pre><code>interface DbType {\n    fun &lt;T : Any&gt; field() = PropertyMapper&lt;T&gt;()\n}\n</code></pre>\n\n<p>The <code>PropertyMapper</code> class is implemented like this:</p>\n\n<pre><code>class PropertyMapper&lt;out T : Any&gt; internal constructor() {\n\n    @Suppress(\"UNCHECKED_CAST\") operator fun getValue(inst: DbType, prop: KProperty&lt;*&gt;): T {\n        return ImplementationDetail.values?.get(prop.name) as T? ?: throw NullPointerException(\"No such ${prop.name} in type ${inst::class}\")\n    }\n\n    operator fun provideDelegate(inst: DbType, prop: KProperty&lt;*&gt;): ReadOnlyProperty&lt;DbType, T&gt; {\n        TODO()\n    }\n}\n</code></pre>\n\n<p>According to <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#providing-a-delegate-since-11\" rel=\"nofollow noreferrer\">this</a> entry in the kotlin documentation, I should be able to provide my own <code>ReadOnlyProperty&lt;R, T&gt;</code> by adding an operator function <code>provideDelegate</code> in the class that the property is delegated to. However, when I instantiate an object implementing/extending <code>DbType</code>, the operator function <code>provideDelegate</code> is never invoked. The \"getValue\" part works fine, but I want to intercept the property delegate creation at the time the object is created. Any idea what I'm doing incorrectly? Here is an example class:</p>\n\n<pre><code>class BasicUserInfo : DbType {\n    val username by field&lt;String&gt;()\n}\n</code></pre>\n"}, {"tags": ["kotlin", "builder-pattern"], "comments": [{"owner": {"reputation": 15791, "user_id": 839733, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/2s6lO.jpg?s=128&g=1", "display_name": "Abhijit Sarkar", "link": "https://stackoverflow.com/users/839733/abhijit-sarkar"}, "edited": false, "score": 0, "creation_date": 1502055525, "post_id": 45535324, "comment_id": 78033747, "body": "Why not make the class Java and use something like Lombok instead of the <code>copy</code> hack or rolling your own builder pattern?"}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 5831074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db48109eefb70b5a3c573916b4e0b30c?s=128&d=identicon&r=PG", "display_name": "Brian Voter", "link": "https://stackoverflow.com/users/5831074/brian-voter"}, "edited": false, "score": 1, "creation_date": 1502045400, "post_id": 45535352, "comment_id": 78030861, "body": "I am currently creating the object at the end like you said, however it seems counter intuitive to keep track of all the constructor parameters that will be passed in. Essentially I&#39;m having to maintain the same list of parameters in both the data class and in the code block where I am constructing instances of the data class."}, {"owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "reply_to_user": {"reputation": 101, "user_id": 5831074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db48109eefb70b5a3c573916b4e0b30c?s=128&d=identicon&r=PG", "display_name": "Brian Voter", "link": "https://stackoverflow.com/users/5831074/brian-voter"}, "edited": false, "score": 2, "creation_date": 1502054149, "post_id": 45535352, "comment_id": 78033450, "body": "@BrianVoter but that&#39;s also how builder models work in Java. The values are in the builder class and copied over to the data class upon creation."}], "tags": [], "owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "is_accepted": false, "score": 3, "last_activity_date": 1502044848, "creation_date": 1502044848, "answer_id": 45535352, "question_id": 45535324, "link": "https://stackoverflow.com/questions/45535324/how-to-make-a-builder-for-a-kotlin-data-class-with-many-immutable-properties/45535352#45535352", "title": "How to make a builder for a Kotlin data class with many immutable properties", "body": "<p>I don't  think Kotlin has native builders. You can always compute all values and create the object at the end.</p>\n\n<p>If you still want to use a builder you will have to implement it by yourself. Check <a href=\"https://stackoverflow.com/questions/36140791/how-to-implement-builder-pattern-in-kotlin\">this question</a></p>\n"}, {"comments": [{"owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "edited": false, "score": 0, "creation_date": 1578237079, "post_id": 45535573, "comment_id": 105366445, "body": "Let&#39;s just remember that in JVM every <code>copy</code> execution creates a new instance of the <code>data class</code>. So e.g. <code>val temp = MyData().copy(val1 = &quot;1&quot;).copy(val2 = &quot;2&quot;).copy(val3 = &quot;3&quot;)</code> creates <b>four</b> instances of <code>MyData</code> to create that single <code>val</code>. This + the fact that <code>default</code> values of <code>data class</code> properties can be complex &amp; expensive expressions, means that all this can get out of hand pretty quickly (performance-wise)."}], "tags": [], "owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "is_accepted": false, "score": 1, "last_activity_date": 1502056116, "last_edit_date": 1502056116, "creation_date": 1502046281, "answer_id": 45535573, "question_id": 45535324, "link": "https://stackoverflow.com/questions/45535324/how-to-make-a-builder-for-a-kotlin-data-class-with-many-immutable-properties/45535573#45535573", "title": "How to make a builder for a Kotlin data class with many immutable properties", "body": "<p>There is no need for creating custom builders in Kotlin - in order to achieve builder-like semantics, you can leverage <code>copy</code> method - it's perfect for situations where you want to get object's copy with a small alteration.</p>\n\n<pre><code>data class MyData(val val1: String? = null, val val2: String? = null, val val3: String? = null)\n\nval temp = MyData()\n  .copy(val1 = \"1\")\n  .copy(val2 = \"2\")\n  .copy(val3 = \"3\")\n</code></pre>\n\n<p>Or:</p>\n\n<pre><code>val empty = MyData()\nval with1 = empty.copy(val1 = \"1\")\nval with2 = with1.copy(val2 = \"2\")\nval with3 = with2.copy(val3 = \"3\")\n</code></pre>\n\n<p>Since you want everything to be immutable, copying must happen at every stage.</p>\n\n<p>Also, it's fine to have mutable properties in the builder as long as the result produced by it is immutable.</p>\n"}, {"tags": [], "owner": {"reputation": 2273, "user_id": 4407321, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/KHKUZ.png?s=128&g=1", "display_name": "Allan W", "link": "https://stackoverflow.com/users/4407321/allan-w"}, "is_accepted": false, "score": 3, "last_activity_date": 1502055117, "creation_date": 1502055117, "answer_id": 45536856, "question_id": 45535324, "link": "https://stackoverflow.com/questions/45535324/how-to-make-a-builder-for-a-kotlin-data-class-with-many-immutable-properties/45536856#45536856", "title": "How to make a builder for a Kotlin data class with many immutable properties", "body": "<p>I agree with the data copy block in Grzegorz answer, but it's essentially the same syntax as creating data classes with constructors. If you want to use that method and keep everything legible, you'll likely be computing everything beforehand and passing the values all together in the end.</p>\n\n<p>To have something more like a builder, you may consider the following:</p>\n\n<p>Let's say your data class is</p>\n\n<pre><code>data class Data(val text: String, val number: Int, val time: Long)\n</code></pre>\n\n<p>You can create a mutable builder version like so, with a build method to create the data class:</p>\n\n<pre><code>class Builder {\n    var text = \"hello\"\n    var number = 2\n    var time = System.currentTimeMillis()\n\n    internal fun build()\n            = Data(text, number, time)\n\n}\n</code></pre>\n\n<p>Along with a builder method like so:</p>\n\n<pre><code>fun createData(action: Builder.() -&gt; Unit): Data {\n    val builder = Builder()\n    builder.action()\n    return builder.build()\n}\n</code></pre>\n\n<p>Action is a function from which you can modify the values directly, and <code>createData</code> will build it into a data class for you directly afterwards.\nThis way, you can create a data class with:</p>\n\n<pre><code>val data: Data = createData {\n    //execute stuff here\n    text = \"new text\"\n    //calculate number\n    number = -1\n    //calculate time\n    time = 222L\n}\n</code></pre>\n\n<p>There are no setter methods per say, but you can directly assign the mutable variables with your new values and call other methods within the builder.</p>\n\n<p>You can also make use of kotlin's get and set by specifying your own functions for each variable so it can do more than set the field.</p>\n\n<p>There's also no need for returning the current builder class, as you always have access to its variables.</p>\n\n<p>Addition note: If you care, <code>createData</code> can be shortened to this:</p>\n\n<pre><code>fun createData(action: Builder.() -&gt; Unit): Data = with(Builder()) { action(); build() }.\n</code></pre>\n\n<blockquote>\n  <p>\"With a new builder, apply our action and build\"</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 5831074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db48109eefb70b5a3c573916b4e0b30c?s=128&d=identicon&r=PG", "display_name": "Brian Voter", "link": "https://stackoverflow.com/users/5831074/brian-voter"}, "edited": false, "score": 0, "creation_date": 1502120752, "post_id": 45540045, "comment_id": 78061409, "body": "Did you use JavaPoet over KotlinPoet for any particular reason? I was hoping Kotlin had a more standard approach that I had missed but this is really interesting!"}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "reply_to_user": {"reputation": 101, "user_id": 5831074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db48109eefb70b5a3c573916b4e0b30c?s=128&d=identicon&r=PG", "display_name": "Brian Voter", "link": "https://stackoverflow.com/users/5831074/brian-voter"}, "edited": false, "score": 0, "creation_date": 1502122204, "post_id": 45540045, "comment_id": 78062309, "body": "@BrianVoter The annotation processor API provides a view on Java classes, and it&#39;s not trivial to recover the original Kotlin semantics (such as default arguments), so I found it it easier to just work with Java."}], "tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": false, "score": 1, "last_activity_date": 1502084342, "creation_date": 1502084342, "answer_id": 45540045, "question_id": 45535324, "link": "https://stackoverflow.com/questions/45535324/how-to-make-a-builder-for-a-kotlin-data-class-with-many-immutable-properties/45540045#45540045", "title": "How to make a builder for a Kotlin data class with many immutable properties", "body": "<p>It's possible to mechanize the creation of the builder classes with annotation processors.\n I just created <a href=\"https://github.com/ephemient/builder-generator\" rel=\"nofollow noreferrer\">ephemient/builder-generator</a> to demonstrate this.</p>\n\n<p>Note that currently, kapt works fine for generated Java code, but there are some issues with generated Kotlin code (see <a href=\"https://youtrack.jetbrains.com/issue/KT-14070\" rel=\"nofollow noreferrer\">KT-14070</a>). For these purposes this isn't an issue, as long as the nullability annotations are copied through from the original Kotlin classes to the generated Java builders (so that Kotlin code using the generated Java code sees nullable/non-nullable types instead of just platform types).</p>\n"}], "owner": {"reputation": 101, "user_id": 5831074, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db48109eefb70b5a3c573916b4e0b30c?s=128&d=identicon&r=PG", "display_name": "Brian Voter", "link": "https://stackoverflow.com/users/5831074/brian-voter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3518, "favorite_count": 3, "answer_count": 4, "score": 5, "last_activity_date": 1502084342, "creation_date": 1502044594, "question_id": 45535324, "link": "https://stackoverflow.com/questions/45535324/how-to-make-a-builder-for-a-kotlin-data-class-with-many-immutable-properties", "title": "How to make a builder for a Kotlin data class with many immutable properties", "body": "<p>I have a Kotlin data class that I am constructing with many immutable properties, which are being fetched from separate SQL queries. If I want to construct the data class using the builder pattern, how do I do this without making those properties mutable?</p>\n\n<p>For example, instead of constructing via </p>\n\n<pre><code>var data = MyData(val1, val2, val3)\n</code></pre>\n\n<p>I want to use </p>\n\n<pre><code>builder.someVal(val1)\n// compute val2\nbuilder.someOtherVal(val2)\n// ... \nvar data = builder.build()\n</code></pre>\n\n<p>while still using Kotlin's data class feature and immutable properties.</p>\n"}, {"tags": ["android", "android-intent", "uri", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": true, "score": 8, "last_activity_date": 1502091991, "last_edit_date": 1502091991, "creation_date": 1502044388, "answer_id": 45535292, "question_id": 45535272, "link": "https://stackoverflow.com/questions/45535272/how-to-link-button-with-website-in-android-studio-using-kotlin/45535292#45535292", "title": "How to link button with website in android studio using kotlin", "body": "<p>Do like this:</p>\n\n<pre><code>    val url = \"http://www.example.com\"\n    val i = Intent(Intent.ACTION_VIEW)\n    i.data = Uri.parse(url)\n    startActivity(i)\n</code></pre>\n\n<p>Or like this:</p>\n\n<pre><code>    val i = Intent(Intent.ACTION_VIEW, Uri.parse(\"http://www.example.com\"))\n    startActivity(i)\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 8352605, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e05436d83276b15a38d31e33e98bd6d1?s=128&d=identicon&r=PG&f=1", "display_name": "A.Essam", "link": "https://stackoverflow.com/users/8352605/a-essam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7410, "favorite_count": 2, "accepted_answer_id": 45535292, "answer_count": 1, "score": 5, "last_activity_date": 1518153980, "creation_date": 1502044244, "last_edit_date": 1502087960, "question_id": 45535272, "link": "https://stackoverflow.com/questions/45535272/how-to-link-button-with-website-in-android-studio-using-kotlin", "title": "How to link button with website in android studio using kotlin", "body": "<p>I want to link button in my application with a website as when user click on this button the website open in browser or in application ,, I using kotlin not java ,,\nHow can i make it ? :) i try to use this code :</p>\n\n<pre><code>bu1.setOnClickListener({\nvar gourl= Intent(this,Uri.parse(\"https://www.facebook.com/\"))\nstartActivity(gourl)\n})\n\n\n bu1.setOnClickListener({\nvar gourl= Intent(this,Uri.parse(\"https://www.facebook.com/\"))\nstartActivity(gourl)\n})\n\n bu1.setOnClickListener({\nvar gourl= Intent(this,Uri.parse(\"https://www.facebook.com/\"))\nstartActivity(gourl)\n})\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java"], "answers": [{"comments": [{"owner": {"reputation": 1156, "user_id": 1649917, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/98f36daa955c06085670a76a55a246a6?s=128&d=identicon&r=PG&f=1", "display_name": "nmu", "link": "https://stackoverflow.com/users/1649917/nmu"}, "edited": false, "score": 0, "creation_date": 1502098336, "post_id": 45540864, "comment_id": 78046968, "body": "I guess technically that would work for this example. What I am really looking for though is how to do this in general with database operations I wouldn&#39;t be able to do on the data coming in from retrofit."}], "tags": [], "owner": {"reputation": 4300, "user_id": 4438639, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh5.googleusercontent.com/-ebNq5Cp0Ob0/AAAAAAAAAAI/AAAAAAAAANE/MoxentxCjRw/photo.jpg?sz=128", "display_name": "Florescu C\u0103t\u0103lin", "link": "https://stackoverflow.com/users/4438639/florescu-c%c4%83t%c4%83lin"}, "is_accepted": false, "score": 1, "last_activity_date": 1502088489, "creation_date": 1502088489, "answer_id": 45540864, "question_id": 45534889, "link": "https://stackoverflow.com/questions/45534889/using-rxjava-to-get-a-distinct-result-with-realm-and-retrofit/45540864#45540864", "title": "Using RxJava to get a distinct result with Realm and Retrofit", "body": "<p>Have you tried <code>distinct()</code>? According <a href=\"http://reactivex.io/documentation/operators/distinct.html\" rel=\"nofollow noreferrer\">documentation</a>, this method will give you only different object when they are emitted. If you have custom objects, i think you must implement <code>equals()</code> and <code>hashCode()</code></p>\n"}, {"tags": [], "owner": {"reputation": 1156, "user_id": 1649917, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/98f36daa955c06085670a76a55a246a6?s=128&d=identicon&r=PG&f=1", "display_name": "nmu", "link": "https://stackoverflow.com/users/1649917/nmu"}, "is_accepted": true, "score": 0, "last_activity_date": 1502826914, "creation_date": 1502826914, "answer_id": 45700539, "question_id": 45534889, "link": "https://stackoverflow.com/questions/45534889/using-rxjava-to-get-a-distinct-result-with-realm-and-retrofit/45700539#45700539", "title": "Using RxJava to get a distinct result with Realm and Retrofit", "body": "<p>What ended up working really well for me is having the network request return a RealmResult and saving the data just before calling the RealmQuery - so something like:</p>\n\n<pre><code>fun network(): Observable&lt;RealmResult&lt;Something&gt;&gt; {\n    return getAuth()\n            .andThen(somethingRepository.getRemoteSomething())\n            .doOnNext { somethings: List&lt;Something&gt; -&gt; somethingRepository.saveSomethings(somethings) }\n            .flatMap { distinctSomethings }\n}\n\nval distinctSomethings: Observable&lt;RealmResults&lt;Something&gt;&gt; by lazy { getDistinctSomethings() }\n\n//... later\n\nfun showDistinctSomethings() {\n    Observable.concat(\n            distinctSomethings,\n            network()\n    )\n            .filter { somethings: RealmResults&lt;Something&gt; -&gt;\n                somethings.toArray().isNotEmpty()\n            }\n            .take(1)\n            .subscribe(/*..show distinct somethings here.*/)\n}\n</code></pre>\n\n<p>Crucially though, you could replace <code>getDistinctSomethings()</code> with any complex Realm look up and you would always get the right result</p>\n\n<p>Hope this helps someone beside me :P</p>\n"}], "owner": {"reputation": 1156, "user_id": 1649917, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/98f36daa955c06085670a76a55a246a6?s=128&d=identicon&r=PG&f=1", "display_name": "nmu", "link": "https://stackoverflow.com/users/1649917/nmu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 1, "accepted_answer_id": 45700539, "answer_count": 2, "score": 0, "last_activity_date": 1502826914, "creation_date": 1502041597, "last_edit_date": 1502088075, "question_id": 45534889, "link": "https://stackoverflow.com/questions/45534889/using-rxjava-to-get-a-distinct-result-with-realm-and-retrofit", "title": "Using RxJava to get a distinct result with Realm and Retrofit", "body": "<p>I know that Dan Lew pretty much answered the question of getting data from different sources with a</p>\n\n<p><code>.concat(/*...*/)\n.take(1)</code></p>\n\n<p>But what if instead of getting a List of users from both my locally stored data  and retrofit. </p>\n\n<p>I needed to do a database specific operation on the data before displaying the result like showing distinct users only. In that case simply using the concat operator on both my network request and local data wouldn't return the same result. </p>\n\n<p>Is there any idiomatic way of writing this with RxJava?</p>\n"}, {"tags": ["javascript", "java", "xml", "xsd", "kotlin"], "comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1502034920, "post_id": 45530098, "comment_id": 78027634, "body": "If you want to have a (de)serializer which works in both Java and JS it must be written in Kotlin entirely as Kotlin can&#39;t translate Java to JS. You could though have a interface and different implementations for Java and JS. In that case you could use Java and JS code (but only in the appropriate parts)"}, {"owner": {"reputation": 2335, "user_id": 518491, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/anHUr.png?s=128&g=1", "display_name": "Andi", "link": "https://stackoverflow.com/users/518491/andi"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1502046568, "post_id": 45530098, "comment_id": 78031192, "body": "Kotlin is an option, but also Java sources transpiled with GWT"}, {"owner": {"reputation": 9968, "user_id": 868941, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/d9269818df2a058ad6bf9dbbaf1e8240?s=128&d=identicon&r=PG", "display_name": "rmuller", "link": "https://stackoverflow.com/users/868941/rmuller"}, "edited": false, "score": 0, "creation_date": 1502050684, "post_id": 45530098, "comment_id": 78032517, "body": "&quot;I know JAXB, but as far as I understand, it heavily relies on reflection.&quot;. The generated sources do not rely on reflection!"}, {"owner": {"reputation": 2335, "user_id": 518491, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/anHUr.png?s=128&g=1", "display_name": "Andi", "link": "https://stackoverflow.com/users/518491/andi"}, "edited": false, "score": 0, "creation_date": 1502052642, "post_id": 45530098, "comment_id": 78033044, "body": "I believe you are right, but the sources generated by JAXB (xjc) contain annotations for the classes and fields, and how can they be processed if not using reflection?"}], "owner": {"reputation": 2335, "user_id": 518491, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/anHUr.png?s=128&g=1", "display_name": "Andi", "link": "https://stackoverflow.com/users/518491/andi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 567, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1502008093, "creation_date": 1502008093, "question_id": 45530098, "link": "https://stackoverflow.com/questions/45530098/xml-to-from-java-kotlin-cross-platform", "title": "XML to/from Java/Kotlin, cross-platform", "body": "<p>I have an XML format specified with XSD and I want to generate the corresponding Java (or Kotlin) sources including (de)serialization. I know JAXB, but as far as I understand, it heavily relies on reflection. This is no option for me, because I want the generated sources to be ready for transpilation to JavaScript (by GWT or Kotlin/JavaScript for example). Because of this, these are the requirements:</p>\n\n<ol>\n<li>Using an XSD schema, generate the corresponding Java or Kotlin source code</li>\n<li>Do not use reflection, but plain old Java classes which include serialize/deserialize methods</li>\n<li>Inject an XML IO interface (like StaX) with the required methods (which I can instatiate depending on the target: JVM, JavaScript, Android, ...)</li>\n</ol>\n\n<p>Do you know a tool for this task or do I have to create my own solution?</p>\n"}, {"tags": ["string", "casting", "kotlin"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501983830, "post_id": 45527832, "comment_id": 78015957, "body": ":), replace the <code>prntList = mutableListOf(String)</code> with the <code>prntList = mutableListOf&lt;String&gt;()</code>, you initialized <code>prntList</code> with a <code>MutableList&lt;StringCompanionObject&gt;</code> rather than a <code>MutableList&lt;String&gt;</code>."}, {"owner": {"reputation": 77, "user_id": 8245856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b81fa7dc1b28f44491aced6d2a0133bb?s=128&d=identicon&r=PG&f=1", "display_name": "JoeyG2677", "link": "https://stackoverflow.com/users/8245856/joeyg2677"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501983984, "post_id": 45527832, "comment_id": 78015974, "body": "That did it, but why? And why was I able to initialize it as mutableListOf(String) without a syntax error? Why would it by default cast MutableList(String) as... String.Companion? Was that because it was inside a Companion Object?"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501984176, "post_id": 45527832, "comment_id": 78015997, "body": "No, a compile error  is reported for <code>prntList.add(strNameToAdd)</code> . what&#39;s editor you are using?"}, {"owner": {"reputation": 77, "user_id": 8245856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b81fa7dc1b28f44491aced6d2a0133bb?s=128&d=identicon&r=PG&f=1", "display_name": "JoeyG2677", "link": "https://stackoverflow.com/users/8245856/joeyg2677"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501984261, "post_id": 45527832, "comment_id": 78016000, "body": "Well that&#39;s true, but that&#39;s because it couldn&#39;t cast a Java.String to Kotlin.String.Companion or w/e, why did it show up as String.Companion by default? I&#39;m using IntelliJ on Ubuntu. Also, I can type in the correction, but would rather give it to you &lt;3 but I can&#39;t because it&#39;s a comment :X"}, {"owner": {"reputation": 77, "user_id": 8245856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b81fa7dc1b28f44491aced6d2a0133bb?s=128&d=identicon&r=PG&f=1", "display_name": "JoeyG2677", "link": "https://stackoverflow.com/users/8245856/joeyg2677"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501984716, "post_id": 45527832, "comment_id": 78016054, "body": "Like, why does :: var prntList = mutableListOf(String) :: not work. Within intelliJ IDE it will give the error in the companion functions saying that a String was given but a String.Companion item is required. Why does mutableListOf&lt;String&gt;() work but not mutableListOf(String)?"}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1501986354, "post_id": 45527832, "comment_id": 78016291, "body": "Names have multiple meanings. <code>String</code>, when used inside <code>&lt;&gt;</code> or after <code>:</code>, means the <i>type</i>. <code>String</code>, when used as a callable, means the constructor. <code>String</code>, when used as a value, means the companion object, which holds static methods such as <code>String.format()</code>. <code>mutableListOf(String)</code> means a list with one element, the (singleton) <code>String</code> companion object, which is not actually a <code>String</code>. <code>mutableListOf&lt;String&gt;()</code> means an empty mutable list with elements of type <code>String</code>."}], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 6, "last_activity_date": 1501987686, "last_edit_date": 1501987686, "creation_date": 1501987084, "answer_id": 45528080, "question_id": 45527832, "link": "https://stackoverflow.com/questions/45527832/kotlin-cast-string-as-string-companion/45528080#45528080", "title": "Kotlin Cast String as String.Companion", "body": "<p>First, the code above in your question can't be compiled since the <code>prntList</code> is a <code>MutableList&lt;String.Companion&gt;</code> rather than a <code>MutableList&lt;String&gt;</code>. IF you want the <code>prntList</code> to adds <code>String</code>s, you need to change its type  to <code>MutableList&lt;String&gt;</code>, for example:</p>\n\n<pre><code>var prntList = mutableListOf&lt;String&gt;()\n</code></pre>\n\n<p>Secondly, the <code>String</code> in <code>mutableListOf(String)</code> is just an <strong>qualifier</strong> rather than a class. which means the <code>String</code> will be reference to a specific reference in its scope. in your case the <em>qualifier</em> will reference to its <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"noreferrer\">companion object</a>.  </p>\n\n<blockquote>\n  <p>Members of the companion object can be called by using simply the class name as the <strong>qualifier</strong>.</p>\n</blockquote>\n\n<p>For example:</p>\n\n<pre><code>//                         v--- reference to its companion object\nval it:String.Companion = String\n</code></pre>\n\n<p>On the other hand, you also can make the <em>qualifier</em> reference to a top-level variable, for example:</p>\n\n<pre><code> val String = \"\"\n //                            v--- reference to the top-level variable\n var prntList = mutableListOf(String)\n //  ^---is a `MutableList&lt;String&gt;` rather than `MutableList&lt;String.Companion&gt;` now\n</code></pre>\n\n<p>The different between the <code>mutableListOf&lt;String&gt;()</code> and the <code>mutableListOf(String)</code> as below:</p>\n\n<pre><code>//             v--- it is a type argument of the `String` class\nmutableListOf&lt;String&gt;()\n\n//             v--- it is a qualifier that reference to `String.Companion`\nmutableListOf(String)\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 8245856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b81fa7dc1b28f44491aced6d2a0133bb?s=128&d=identicon&r=PG&f=1", "display_name": "JoeyG2677", "link": "https://stackoverflow.com/users/8245856/joeyg2677"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3770, "favorite_count": 0, "accepted_answer_id": 45528080, "answer_count": 1, "score": 4, "last_activity_date": 1501994962, "creation_date": 1501983212, "last_edit_date": 1501994962, "question_id": 45527832, "link": "https://stackoverflow.com/questions/45527832/kotlin-cast-string-as-string-companion", "title": "Kotlin Cast String as String.Companion", "body": "<p>So I'm new to learning Kotlin, coming from a C# background. I've been messing around with types and a few other things. I'm trying to create a static class of \"WalMartGreeters\" that can add greeters to a list, and then call a simple static function to display those. My method(s) takes a string argument/string list to add to the mutable string list but when I attempt to add values to it. I get a pre-compilation error saying \"expected String.Companion\" \"got String\" I attempt to change it to cast the String as a String.Companion and then it says the cast is illegal. </p>\n\n<p>The predominant error I get is: Exception in thread \"main\" java.lang.ClassCastException: java.lang.String cannot be cast to kotlin.jvm.internal.StringCompanionObject</p>\n\n<pre><code>fun main(args:Array&lt;String&gt;) {\n    walMartGreeter.addTo(\"Jean\")\n    walMartGreeter.addTo(\"Dale\")\n    walMartGreeter.addTo(\"Phil\")\n    walMartGreeter.addTo(\"Chris\")\n    walMartGreeter.listTheWholeFam()\n}\n\nclass walMartGreeter(val strName:String) {\n    companion object classList {\n        var prntList = mutableListOf(String)\n\n        fun addTo(strNameToAdd:String) {\n            prntList.add(strNameToAdd)\n        }\n\n        fun addTo(listOfNames:List&lt;String&gt;) {\n            for (item in listOfNames) {\n                prntList.add(item)\n            }\n        }\n\n        fun listTheWholeFam() {\n            //println(\"All I do is $strName\")\n            for(item in prntList) {\n                println(\"Hello, $item!\")\n            }\n            //println(\"type of mutList: ${mutList.ToString()}\")\n            if(prntList is MutableList) {\n                println(\"Yeah, it's a mutableList\");\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "owner": {"reputation": 3074, "user_id": 1321025, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/QFW8g.jpg?s=128&g=1", "display_name": "Albert Gao", "link": "https://stackoverflow.com/users/1321025/albert-gao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 233, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1501975077, "creation_date": 1501975077, "question_id": 45527182, "link": "https://stackoverflow.com/questions/45527182/notificationmanager-setinterruptionfilter-not-work-for-certain-phone", "title": "NotificationManager.setInterruptionFilter not work for certain phone", "body": "<pre><code>val notificationManager:NotificationManager = context.getSystemService(\n    Context.NOTIFICATION_SERVICE\n) as NotificationManager\n\nnotificationManager.setInterruptionFilter(\n    NotificationManager.INTERRUPTION_FILTER_ALL\n)\n</code></pre>\n\n<p>The code is simple, just change the InterruptionFilter, I'\nve already got the DoNotDisturb permission, and it works on emulator.</p>\n\n<p>But when I tested on a real device (OnePlus3) which has the same system of the emulator (Android 7.1.1 API25 with Google services installed), it doesn't work. The code executed, no error, no changes which means it doesn't change the current filter from <code>INTERRUPTION_FILTER_NONE</code> to <code>INTERRUPTION_FILTER_ALL</code>.</p>\n\n<p>What happended and how to fix it?</p>\n"}, {"tags": ["android", "kotlin", "calculator"], "comments": [{"owner": {"reputation": 1523, "user_id": 5877632, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SzYmPfCOr-w/AAAAAAAAAAI/AAAAAAAAADk/6lXakT4ia3Q/photo.jpg?sz=128", "display_name": "Bruno Ferreira", "link": "https://stackoverflow.com/users/5877632/bruno-ferreira"}, "edited": false, "score": 0, "creation_date": 1501971672, "post_id": 45526846, "comment_id": 78013990, "body": "what not Works?"}, {"owner": {"reputation": 3496, "user_id": 1564652, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/5cBHJ.jpg?s=128&g=1", "display_name": "TooManyEduardos", "link": "https://stackoverflow.com/users/1564652/toomanyeduardos"}, "edited": false, "score": 0, "creation_date": 1501974636, "post_id": 45526846, "comment_id": 78014529, "body": "what&#39;s the problem? why do you mention the layout, but not add the layout code (if that&#39;s the problem)?"}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1501979089, "post_id": 45526846, "comment_id": 78015264, "body": "The other thing that &quot;didn&#39;t work&quot; is your problem description."}, {"owner": {"reputation": 634, "user_id": 860211, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/VKDl3.jpg?s=128&g=1", "display_name": "Dhrubo", "link": "https://stackoverflow.com/users/860211/dhrubo"}, "edited": false, "score": 0, "creation_date": 1502001868, "post_id": 45526846, "comment_id": 78019004, "body": "ya, text of the question may be enhanced."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1502023189, "post_id": 45526846, "comment_id": 78024171, "body": "Please rephrase the question"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8422812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8aab1d072cdc55a4c9f6db07c53de7?s=128&d=identicon&r=PG&f=1", "display_name": "Ammarabutalip", "link": "https://stackoverflow.com/users/8422812/ammarabutalip"}, "edited": false, "score": 0, "creation_date": 1502008061, "post_id": 45529329, "comment_id": 78020282, "body": "I cleared the buttons and replaced them with a new codes which you typed  and they doesn&#39;t work for bad but when I press the buttons the application close immediately"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 1, "last_activity_date": 1502001690, "creation_date": 1502001690, "answer_id": 45529329, "question_id": 45526846, "link": "https://stackoverflow.com/questions/45526846/calculator-doesnt-work/45529329#45529329", "title": "Calculator doesnt work", "body": "<p>Instead of this</p>\n\n<pre><code>button_plus.setOnClickListener{View.OnClickListener {\n    View -&gt; result.text =(getNumber_1() + getNumber_2()).toString()\n}}\n</code></pre>\n\n<p>You should do this:</p>\n\n<pre><code>button_plus.setOnClickListener { view -&gt;\n    result.text = (getNumber_1() + getNumber_2()).toString()\n}\n</code></pre>\n\n<p>The curly braces you open after <code>setOnClickListener</code> are the lambda that gets executed when your button is clicked. So what you were doing so far is creating a new <code>View.OnClickListener</code> instance every time one of the buttons was clicked, instead of performing the actions you wanted. </p>\n\n<p>In Java code, the equivalent of that would be something like this:</p>\n\n<pre><code>button_plus.setOnClickListener(new View.OnClickListener {\n    @Override\n    void onClick(View view) {\n\n        new View.OnClickListener {\n            @Override\n            void onClick(View view) {\n                result.setText(...);\n            }\n        };\n\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8422812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f8aab1d072cdc55a4c9f6db07c53de7?s=128&d=identicon&r=PG&f=1", "display_name": "Ammarabutalip", "link": "https://stackoverflow.com/users/8422812/ammarabutalip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": -7, "last_activity_date": 1502001690, "creation_date": 1501971629, "last_edit_date": 1501982448, "question_id": 45526846, "link": "https://stackoverflow.com/questions/45526846/calculator-doesnt-work", "title": "Calculator doesnt work", "body": "<p>I have a problems with my calculator </p>\n\n<p>I did it with Kotlin in AndroidStudio and after I finished it didn't work although layout is very good </p>\n\n<p>The Code</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_menu)\n\n    val result=findViewById(R.id.textView) as TextView\n    val button_plus=findViewById(R.id.button_plus) as Button\n    val button_di=findViewById(R.id.button_di) as Button\n    val button_mult=findViewById(R.id.button_mult) as Button\n    val button_div=findViewById(R.id.button_div) as Button\n\n\n    fun getNumber_1():Int{\n        val input_num1 = findViewById(R.id.edittext2) as EditText\n        return Integer.parseInt(input_num1.text.toString())\n    }\n    fun getNumber_2():Int{\n        val input_num2 = findViewById(R.id.edittext2) as EditText\n        return Integer.parseInt(input_num2.text.toString())\n    }\n\n    button_plus.setOnClickListener{View.OnClickListener {\n        View -&gt; result.text =(getNumber_1() + getNumber_2()).toString()\n    }}\n\n    button_di.setOnClickListener { View.OnClickListener {\n        View -&gt; result.text =(getNumber_1() - getNumber_2()).toString()\n    }}\n\n    button_mult.setOnClickListener { View.OnClickListener {\n        View -&gt; result.text =(getNumber_1() * getNumber_2()).toString()\n    }}\n\n    button_div.setOnClickListener { View.OnClickListener {\n        View -&gt; result.text =(getNumber_1() / getNumber_2()).toString()\n    }}\n}\n</code></pre>\n\n<p>and thanks</p>\n"}, {"tags": ["android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 1, "last_activity_date": 1502002386, "creation_date": 1502002386, "answer_id": 45529405, "question_id": 45526765, "link": "https://stackoverflow.com/questions/45526765/how-can-i-convert-inputstream-to-bufferinputstream-in-kotlin/45529405#45529405", "title": "how can i convert InputStream to BufferInputStream in kotlin", "body": "<p>If you have an <code>InputStream</code>, you can create a <code>BufferedInputStream</code> from it by using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-input-stream/buffered.html\" rel=\"nofollow noreferrer\"><code>buffered</code></a> from the standard library:</p>\n\n<pre><code>val buffered: BufferedInputStream = inputStream.buffered()\n</code></pre>\n\n<p>If instead you want to create a <code>BufferedReader</code> (as in your code), you can use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.io/java.io.-input-stream/buffered-reader.html\" rel=\"nofollow noreferrer\"><code>bufferedReader</code></a> extension.</p>\n\n<pre><code>val reader: BufferedReader = inputStream.bufferedReader()\n</code></pre>\n\n<p>And if you want to read all lines of a <code>BufferedReader</code>, you can do any of the following:</p>\n\n<pre><code>val lineList: List&lt;String&gt; = reader.readLines()\n\nval lineSequence: Sequence&lt;String&gt; = reader.lineSequence()\n\nval linesAsOneString: String = reader.lineSequence().joinToString(\"\\n\")\n</code></pre>\n\n<hr>\n\n<p>So, for example, you could implement your original function like this:</p>\n\n<pre><code>fun convertStreamToString(inputStream: InputStream) \n        = inputStream.bufferedReader().lineSequence().joinToString(separator = \"\")\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 8310009, "user_type": "registered", "profile_image": "https://graph.facebook.com/2312399865651933/picture?type=large", "display_name": "Moneem A Abbas", "link": "https://stackoverflow.com/users/8310009/moneem-a-abbas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 564, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1502012822, "creation_date": 1501970721, "last_edit_date": 1502012822, "question_id": 45526765, "link": "https://stackoverflow.com/questions/45526765/how-can-i-convert-inputstream-to-bufferinputstream-in-kotlin", "title": "how can i convert InputStream to BufferInputStream in kotlin", "body": "<p>How can I convert InputStream to BufferInputStream in Kotlin?</p>\n\n<pre><code>fun ConvertStreamToString(inputStream:InputStream): String {\n\n    val bufferreader=BufferedReader(InputStreamReader(inputStream))\n\n    var line= String\n    var AllString:String=\"\"\n    try {\n        do {\n            line=bufferreader.readLine()\n            if (line!=null){\n                AllString+=line\n            }\n</code></pre>\n"}, {"tags": ["spring", "kotlin"], "comments": [{"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1501963645, "post_id": 45525720, "comment_id": 78012047, "body": "What packages are <code>DemoApplication</code> and <code>StudentController</code> in?"}, {"owner": {"reputation": 1786, "user_id": 4587985, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/VG6mg.jpg?s=128&g=1", "display_name": "Daniela Morais", "link": "https://stackoverflow.com/users/4587985/daniela-morais"}, "reply_to_user": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1501968909, "post_id": 45525720, "comment_id": 78013428, "body": "That&#39;s the error. Works fine. Could please publish the answer?"}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1501968917, "post_id": 45525720, "comment_id": 78013429, "body": "We need to see more of your code. It is hard to tell from what we can see."}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1501972995, "post_id": 45525720, "comment_id": 78014239, "body": "@DanielaMorais can you update the question with the packages they are in? It&#39;s hard to give a definitive answer without that info."}, {"owner": {"reputation": 13349, "user_id": 224334, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/bfeafb6026cbf6128309744296c6d726?s=128&d=identicon&r=PG", "display_name": "RyanWilcox", "link": "https://stackoverflow.com/users/224334/ryanwilcox"}, "edited": false, "score": 0, "creation_date": 1502051408, "post_id": 45525720, "comment_id": 78032696, "body": "What does the Spring Actuator /mapping endpoint say?? More information here: <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/production-ready-endpoints.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/html/&hellip;</a>"}, {"owner": {"reputation": 7571, "user_id": 4578513, "user_type": "registered", "accept_rate": 15, "profile_image": "https://i.stack.imgur.com/mUo1D.jpg?s=128&g=1", "display_name": "Developine", "link": "https://stackoverflow.com/users/4578513/developine"}, "edited": false, "score": 0, "creation_date": 1505797984, "post_id": 45525720, "comment_id": 79547059, "body": "read this blog post. <a href=\"http://codingaffairs.blogspot.com/2017/09/kotlin-restful-backend-with-spring-boot.html\" rel=\"nofollow noreferrer\">codingaffairs.blogspot.com/2017/09/&hellip;</a>"}], "owner": {"reputation": 1786, "user_id": 4587985, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/VG6mg.jpg?s=128&g=1", "display_name": "Daniela Morais", "link": "https://stackoverflow.com/users/4587985/daniela-morais"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 311, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1501961667, "creation_date": 1501961667, "question_id": 45525720, "link": "https://stackoverflow.com/questions/45525720/setup-a-spring-boot-project-with-kotlin", "title": "Setup a Spring Boot project with Kotlin", "body": "<p>I started a new project to learn Kotlin, I got a project template in Spring Initializr and create a controller to mapping my resource.</p>\n\n<p>StudentController</p>\n\n<pre><code>@RestController\nclass StudentController {\n\n    @GetMapping(\"/students\")\n    fun getStudent(): Student {\n        return Student(\"name\", \"test\")\n    }\n}\n</code></pre>\n\n<p>Application</p>\n\n<pre><code>@SpringBootApplication\nclass DemoApplication\n\nfun main(args: Array&lt;String&gt;) {\n    SpringApplication.run(DemoApplication::class.java, *args)\n}\n</code></pre>\n\n<p>application.properties</p>\n\n<pre><code>debug=true\n</code></pre>\n\n<p>I run project and when I sent a GET request to <em>localhost:8080/students</em> I received a 404.</p>\n\n<pre><code>{\n  \"timestamp\": 1501961340149,\n  \"status\": 404,\n  \"error\": \"Not Found\",\n  \"message\": \"No message available\",\n  \"path\": \"/students\"\n}\n</code></pre>\n\n<p>What I did wrong? </p>\n"}, {"tags": ["concurrency", "kotlin", "quasar"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501961505, "post_id": 45525679, "comment_id": 78011443, "body": "Nice to meet you again, :). I think you need to put your question to <a href=\"https://stackexchange.com/\">stackexchange.com</a>, Nobody will answer your question here."}, {"owner": {"reputation": 1602, "user_id": 3105524, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5b169766a0453f1ace846e5d425c940b?s=128&d=identicon&r=PG", "display_name": "Kamyar", "link": "https://stackoverflow.com/users/3105524/kamyar"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501961590, "post_id": 45525679, "comment_id": 78011467, "body": "@holi-java Why? I think it is a programming question for who have used both libraries! It is not a sysadmin question!"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1501961670, "post_id": 45525679, "comment_id": 78011494, "body": "Indeed, stackoverflow is for the question of the specific code rather than the opinion/design."}], "owner": {"reputation": 1602, "user_id": 3105524, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/5b169766a0453f1ace846e5d425c940b?s=128&d=identicon&r=PG", "display_name": "Kamyar", "link": "https://stackoverflow.com/users/3105524/kamyar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 112, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1501961506, "creation_date": 1501961264, "last_edit_date": 1501961506, "question_id": 45525679, "link": "https://stackoverflow.com/questions/45525679/is-quasar-and-comsat-worth-of-replacing-ktor", "title": "Is Quasar and Comsat worth of replacing Ktor?", "body": "<p>I hope this question be worth of answering and well asked! I have a couple of projects using Ktor. I have studied about Quasar and I know it has Comsat for web backends. As you know, Ktor uses fiber and NIO! With this notice, does rewriting the projects with Quasar (Comsat) makes them perform much (noticeably) better than Ktor?</p>\n"}, {"tags": ["oop", "kotlin", "immutability"], "comments": [{"owner": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "edited": false, "score": 0, "creation_date": 1501959079, "post_id": 45525289, "comment_id": 78010755, "body": "I think the line requested from you code (on the naive approach) is: <code>return house.copy(kitchen = house.kitchen.copy(kettle = house.kitchen.kettle.copy(on = true)))</code>"}, {"owner": {"reputation": 5745, "user_id": 777939, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4f399c0b34a287ad4c5ae184f2335488?s=128&d=identicon&r=PG", "display_name": "Martin Eden", "link": "https://stackoverflow.com/users/777939/martin-eden"}, "reply_to_user": {"reputation": 8060, "user_id": 3834036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PEZNI.png?s=128&g=1", "display_name": "Lior Bar-On", "link": "https://stackoverflow.com/users/3834036/lior-bar-on"}, "edited": false, "score": 0, "creation_date": 1501960708, "post_id": 45525289, "comment_id": 78011198, "body": "Yes, that&#39;s what I meant about it being more complicated in reality - the example is slightly simplified"}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1502035245, "post_id": 45525289, "comment_id": 78027747, "body": "I think you could do it by adding a <code>turnKettleOn</code> (or something along this) to <code>House</code> and then make it create a new representation of itself with just replacing the <code>Kettle</code>. Though that might restrain your code as every <code>Kitchen</code> will have to have a <code>Kettle</code>"}], "answers": [{"tags": [], "owner": {"reputation": 5745, "user_id": 777939, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4f399c0b34a287ad4c5ae184f2335488?s=128&d=identicon&r=PG", "display_name": "Martin Eden", "link": "https://stackoverflow.com/users/777939/martin-eden"}, "is_accepted": false, "score": 0, "last_activity_date": 1501961101, "last_edit_date": 1501961101, "creation_date": 1501958962, "answer_id": 45525350, "question_id": 45525289, "link": "https://stackoverflow.com/questions/45525289/can-i-update-a-deeply-nested-immutable-object-without-making-it-aware-of-its-con/45525350#45525350", "title": "Can I update a deeply nested immutable object without making it aware of its context?", "body": "<p>One possible approach I thought of (this is the question asker, by the way) was like this:</p>\n\n<pre><code>data class Kettle(val on: Boolean) {\n    fun activate() {\n        return Transform(this, Kettle(on = true))\n    }    \n}\n\nclass Transform&lt;T&gt;(val what: T, val replacement: T) {\n    fun &lt;U&gt; apply(x: U): U {\n        if (x is T &amp;&amp; x == what) {\n            return replacement as U\n        } else {\n            return x\n        }\n    }\n}\n</code></pre>\n\n<p>The idea here is that a transform is a function you can apply to every object in the graph and it will only modify the <code>what</code> you told it to modify.</p>\n\n<p>So you use it like this:</p>\n\n<pre><code>val transform = house.kitchen.kettle.activate()\nhouse = house.transformEverything(transform)\n</code></pre>\n\n<p>Where every class has an implementation like this:</p>\n\n<pre><code>data class House(val bedroom: Bedroom, val bathroom: Bathroom, val kitchen: Kitchen) {\n    fun transformEverything(transform: Transform): House {\n        return transform(this).copy(\n                bedroom = bedroom.transformEverything(transform),\n                bathroom = bathroom.transformEverything(transform),\n                kitchen = kitchen.transformEverything(transform)\n        )\n    }\n}\n</code></pre>\n\n<p>Which recursively gives the <code>transform</code> a chance to modify every object it wants to, and it will only apply it to one.</p>\n\n<p>This approach is bad because:</p>\n\n<ol>\n<li>Tons of boiler-plate giving everything its own dumb version of the <code>transformEverything</code> method</li>\n<li>It seems weird (and inefficient) to have to call an function on every object in the graph just to change one.</li>\n</ol>\n\n<p>But it does achieve my goal of the Kettle not needing to know anything about its context, and it's pretty straightforward to write the <code>activate</code> function. Thoughts?</p>\n"}, {"comments": [{"owner": {"reputation": 5745, "user_id": 777939, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4f399c0b34a287ad4c5ae184f2335488?s=128&d=identicon&r=PG", "display_name": "Martin Eden", "link": "https://stackoverflow.com/users/777939/martin-eden"}, "edited": false, "score": 0, "creation_date": 1502001195, "post_id": 45526583, "comment_id": 78018850, "body": "Hi I looked into functional lenses, but I can&#39;t see how they help me here. A lens lets me concisely describe that the path from House to Kettle in a reusable way, which I like. But in order to update the Kettle I still have to know about the full structure. There&#39;s no way to localise the concern to the Kettle&#39;s own methods. Unless I&#39;m missing something about lenses?"}], "tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": false, "score": 1, "last_activity_date": 1501968733, "creation_date": 1501968733, "answer_id": 45526583, "question_id": 45525289, "link": "https://stackoverflow.com/questions/45525289/can-i-update-a-deeply-nested-immutable-object-without-making-it-aware-of-its-con/45526583#45526583", "title": "Can I update a deeply nested immutable object without making it aware of its context?", "body": "<p>This is where functional lenses show their power. For example, using <a href=\"https://github.com/poetix/klenses\" rel=\"nofollow noreferrer\">poetix/klenses</a>,</p>\n\n<pre><code>val kettleLens = +House::kitchen + Kitchen::kettle\n\nvar house = House(...)\nhouse = kettleLens(house) { copy(on = true) }\n</code></pre>\n"}], "owner": {"reputation": 5745, "user_id": 777939, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4f399c0b34a287ad4c5ae184f2335488?s=128&d=identicon&r=PG", "display_name": "Martin Eden", "link": "https://stackoverflow.com/users/777939/martin-eden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 427, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1501968733, "creation_date": 1501958439, "last_edit_date": 1501960867, "question_id": 45525289, "link": "https://stackoverflow.com/questions/45525289/can-i-update-a-deeply-nested-immutable-object-without-making-it-aware-of-its-con", "title": "Can I update a deeply nested immutable object without making it aware of its context?", "body": "<p>Let's imagine I have a nested immutable object graph, along these lines (using Kotlin syntax, but hopefully it's clear):</p>\n\n<pre><code>data class House(val bedroom: Bedroom, val bathroom: Bathroom, val kitchen: Kitchen)\nclass Bedroom\nclass Bathroom\ndata class Kitchen(val oven: Oven, val kettle: Kettle)\nclass Oven\ndata class Kettle(val on: Boolean)\n\nvar house = House(Bedroom(), Bathroom(), Kitchen(Oven(), Kettle(false)))\n</code></pre>\n\n<p>Now, I want to switch the kettle on. If the objects were mutable I would just write:</p>\n\n<pre><code>data class Kettle(var on: Boolean) {\n    fun activate() {\n        this.on = true\n    }\n}        \nhouse.kitchen.kettle.activate()\n</code></pre>\n\n<p>But because they are immutable I have to write:</p>\n\n<pre><code>data class Kettle(val on: Boolean) {\n    fun activate(house: House): House {\n         return house.copy(kitchen = kitchen.copy(kettle = kettle.copy(on = true)))\n    }\n}\nhouse = house.kitchen.kettle.activate(house)  \n</code></pre>\n\n<p>(Actually, it's slightly more complicated, but this pseudo-code will do).</p>\n\n<p>I don't like this, not because it's long, per se, but because the Kettle now needs to know not just about its own internal state, but about the full context it exists in.</p>\n\n<p>How can I rewrite this so that each object can be responsible for providing its own mutation logic, without having to be aware of the full object graph? Or am I just trying to marry object-oriented and functional concepts in an impossible way?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1665, "user_id": 1101963, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/84c24dec7be50840b7aeaac32358e189?s=128&d=identicon&r=PG", "display_name": "Yuriy Kulikov", "link": "https://stackoverflow.com/users/1101963/yuriy-kulikov"}, "edited": false, "score": 0, "creation_date": 1501962130, "post_id": 45525279, "comment_id": 78011628, "body": "Ok, it seems that I can inject pm with by lazy { guice().getInstance(PowerManager::class.java) }, but in this case wakeLock will still be initlized in onCreate and it cannot be val."}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1501987450, "post_id": 45525279, "comment_id": 78016445, "body": "Yes, the generated bytecode includes checks and calls to various methods in <a href=\"https://github.com/JetBrains/kotlin/blob/master/core/runtime.jvm/src/kotlin/jvm/internal/Intrinsics.java\" rel=\"nofollow noreferrer\"><code>kotlin.jvm.internal.Intrinsics</code></a>. There&#39;s no good solution right now, but see <a href=\"https://youtrack.jetbrains.com/issue/KT-18714\" rel=\"nofollow noreferrer\">KT-18714</a>/<a href=\"https://youtrack.jetbrains.com/issue/KT-18383\" rel=\"nofollow noreferrer\">KT-18383</a> and <a href=\"https://github.com/jacoco/jacoco/issues/552\" rel=\"nofollow noreferrer\">jacoco/jacoco#552</a>."}, {"owner": {"reputation": 1665, "user_id": 1101963, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/84c24dec7be50840b7aeaac32358e189?s=128&d=identicon&r=PG", "display_name": "Yuriy Kulikov", "link": "https://stackoverflow.com/users/1101963/yuriy-kulikov"}, "reply_to_user": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1502010717, "post_id": 45525279, "comment_id": 78020934, "body": "I have looked in the generated bytecode and I think the issue has to be addressed on the compiler level. Here is the code for lateinit variable:      ALOAD 0     GETFIELD com/better/alarm/background/VibrationService.wakeLock : Landroid/os/PowerManager$WakeLock;     DUP     IFNONNULL L3     LDC &quot;wakeLock&quot;     INVOKESTATIC kotlin/jvm/internal/Intrinsics.throwUninitializedPropertyAcc&zwnj;&#8203;essException (Ljava/lang/String;)V    L3     INVOKEVIRTUAL android/os/PowerManager$WakeLock.release ()V    L4  IFNONNULL is a branch which is not covered by JaCoCo"}, {"owner": {"reputation": 1665, "user_id": 1101963, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/84c24dec7be50840b7aeaac32358e189?s=128&d=identicon&r=PG", "display_name": "Yuriy Kulikov", "link": "https://stackoverflow.com/users/1101963/yuriy-kulikov"}, "reply_to_user": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1502010754, "post_id": 45525279, "comment_id": 78020939, "body": "This could also be done this way:     ALOAD 0     GETFIELD com/better/alarm/background/VibrationService.wl : Landroid/os/PowerManager$WakeLock;     INVOKESTATIC kotlin/jvm/internal/Intrinsics.checkLatinitInitilized (Ljava/lang/Object;)V     ALOAD 0     GETFIELD com/better/alarm/background/VibrationService.wl : Landroid/os/PowerManager$WakeLock;     INVOKEVIRTUAL android/os/PowerManager$WakeLock.release ()V"}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1502033228, "post_id": 45525279, "comment_id": 78027096, "body": "I haven&#39;t tried, but ProGuard <code>-assumenosideeffects</code> could be used to remove the call. I&#39;m not sure if it would delete the now-emptt branch, or if it stays in the bytecode, and if it does I&#39;m not sure what JaCoCo would do with it."}, {"owner": {"reputation": 9549, "user_id": 317522, "user_type": "registered", "accept_rate": 11, "profile_image": "https://i.stack.imgur.com/y7DXx.jpg?s=128&g=1", "display_name": "Paulo Merson", "link": "https://stackoverflow.com/users/317522/paulo-merson"}, "edited": false, "score": 0, "creation_date": 1542036841, "post_id": 45525279, "comment_id": 93414822, "body": "This problem also happens for Spring <code>@Autowired lateinit</code> variables. Lines of code where the variables are used are marked by JaCoCo as &quot;partially covered by tests&quot; when they should be &quot;fully covered by tests&quot;."}, {"owner": {"reputation": 2231, "user_id": 1758149, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/sjOJv.jpg?s=128&g=1", "display_name": "RyPope", "link": "https://stackoverflow.com/users/1758149/rypope"}, "edited": false, "score": 0, "creation_date": 1594188262, "post_id": 45525279, "comment_id": 111034714, "body": "Did any of you figure out a workaround for this? I don&#39;t believe this has been resolved yet."}, {"owner": {"reputation": 1665, "user_id": 1101963, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/84c24dec7be50840b7aeaac32358e189?s=128&d=identicon&r=PG", "display_name": "Yuriy Kulikov", "link": "https://stackoverflow.com/users/1101963/yuriy-kulikov"}, "edited": false, "score": 0, "creation_date": 1594556079, "post_id": 45525279, "comment_id": 111161086, "body": "I have stopped using lateinit in my code almost exclusively. In services I use by inject() or by lazy { }, and everywhere else primary constructors."}], "owner": {"reputation": 1665, "user_id": 1101963, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/84c24dec7be50840b7aeaac32358e189?s=128&d=identicon&r=PG", "display_name": "Yuriy Kulikov", "link": "https://stackoverflow.com/users/1101963/yuriy-kulikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 875, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1501958361, "creation_date": 1501958361, "question_id": 45525279, "link": "https://stackoverflow.com/questions/45525279/how-to-avoid-partial-coverage-with-lateinit-fields-in-kotlin", "title": "How to avoid partial coverage with lateinit fields in Kotlin", "body": "<p>I have an Android service written in Kotlin which I inject using Guice. It has lateinit fields which cannot be null, but they must be lateinit because I cannot use constructor injection.</p>\n\n<p>Something around these lines:</p>\n\n<pre><code>class VibrationService : Service() {\n    @Inject\n    private lateinit var pm: PowerManager\n    private lateinit var wakeLock: WakeLock\n\n    override fun onCreate() {\n        AlarmApplication.guice().injectMembers(this)\n        wakeLock = pm.newWakeLock(PowerManager.PARTIAL_WAKE_LOCK, \"VibrationService\")\n        wakeLock.acquire()\n    }\n}\n</code></pre>\n\n<p>Now when I create JaCoCo reports, all lines where any of the lateinit fields are accessed are marked as partially covered. I think Kotlin compiler adds some checks to the bytecode to make sure that fields are initialized before they are accessed.</p>\n\n<p>Is there any way to disable these checks? I want my 100% coverage:-)</p>\n"}, {"tags": ["android", "gradle", "android-gradle-plugin", "kotlin"], "comments": [{"owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "edited": false, "score": 0, "creation_date": 1501954500, "post_id": 45524636, "comment_id": 78009447, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/43933459/declaring-custom-clean-task-when-using-the-standard-gradle-lifecycle-plugins-i\">Declaring custom &#39;clean&#39; task when using the standard Gradle lifecycle plugins is not allowed</a>"}, {"owner": {"reputation": 409, "user_id": 7696752, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/97a4678a6e70062260f9c4d1c7f5bd67?s=128&d=identicon&r=PG&f=1", "display_name": "Anand Rajput", "link": "https://stackoverflow.com/users/7696752/anand-rajput"}, "reply_to_user": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "edited": false, "score": 0, "creation_date": 1501954961, "post_id": 45524636, "comment_id": 78009567, "body": "Am trying to create new kotlin project in studio, pls point out what the error is."}, {"owner": {"reputation": 5408, "user_id": 6021469, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2Slrs.jpg?s=128&g=1", "display_name": "Shweta Chauhan", "link": "https://stackoverflow.com/users/6021469/shweta-chauhan"}, "edited": false, "score": 0, "creation_date": 1501955876, "post_id": 45524636, "comment_id": 78009839, "body": "Are you done with this steps:  Preferences &gt; Plugins &gt; Browse Repositories and search for \u201cKotlin\u201d then, click on \u201cInstall\u201d"}, {"owner": {"reputation": 409, "user_id": 7696752, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/97a4678a6e70062260f9c4d1c7f5bd67?s=128&d=identicon&r=PG&f=1", "display_name": "Anand Rajput", "link": "https://stackoverflow.com/users/7696752/anand-rajput"}, "reply_to_user": {"reputation": 5408, "user_id": 6021469, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2Slrs.jpg?s=128&g=1", "display_name": "Shweta Chauhan", "link": "https://stackoverflow.com/users/6021469/shweta-chauhan"}, "edited": false, "score": 0, "creation_date": 1501958151, "post_id": 45524636, "comment_id": 78010471, "body": "@shweta, yes I have done those steps. Tell me how to configure AS for kotlin"}, {"owner": {"reputation": 409, "user_id": 7696752, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/97a4678a6e70062260f9c4d1c7f5bd67?s=128&d=identicon&r=PG&f=1", "display_name": "Anand Rajput", "link": "https://stackoverflow.com/users/7696752/anand-rajput"}, "edited": false, "score": 0, "creation_date": 1501960119, "post_id": 45524636, "comment_id": 78011050, "body": "Never mind, I have fixed it. Issue is closed. Thanks everyone."}, {"owner": {"reputation": 5408, "user_id": 6021469, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/2Slrs.jpg?s=128&g=1", "display_name": "Shweta Chauhan", "link": "https://stackoverflow.com/users/6021469/shweta-chauhan"}, "edited": false, "score": 0, "creation_date": 1501994156, "post_id": 45524636, "comment_id": 78017513, "body": "How is it solved?"}], "owner": {"reputation": 409, "user_id": 7696752, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/97a4678a6e70062260f9c4d1c7f5bd67?s=128&d=identicon&r=PG&f=1", "display_name": "Anand Rajput", "link": "https://stackoverflow.com/users/7696752/anand-rajput"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 293, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1501953991, "creation_date": 1501953991, "question_id": 45524636, "link": "https://stackoverflow.com/questions/45524636/configuring-kotlin-in-new-android-studio-project", "title": "Configuring Kotlin in New Android Studio Project", "body": "<p>I have installed kotlin plugin and created a new project in studio. I have been to Tools > Kotlin > Configure Kotlin in Project and followed all the steps but my gradle build does not work. </p>\n\n<p>I am getting this error:</p>\n\n<pre><code>Error:(24, 0) Declaring custom 'clean' task when using the standard Gradle lifecycle plugins is not allowed.\n</code></pre>\n\n<p>Open File</p>\n\n<p>Can someone point out to me what is wrong or show me the proper way to setup android studio for kotlin. Thanks.</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 1, "creation_date": 1501942936, "post_id": 45522909, "comment_id": 78006026, "body": "Uhm... this log output indicates that it&#39;s up to try #13. I&#39;m not convinced that is part of the normal handshake/negotiation. It seems more likely that the client simply can&#39;t reach the server."}], "tags": [], "owner": {"reputation": 4382, "user_id": 5632969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D0Ioa.jpg?s=128&g=1", "display_name": "Android Enthusiast", "link": "https://stackoverflow.com/users/5632969/android-enthusiast"}, "is_accepted": false, "score": 1, "last_activity_date": 1501942626, "creation_date": 1501942626, "answer_id": 45522909, "question_id": 45522684, "link": "https://stackoverflow.com/questions/45522684/firebase-requests-never-complete-on-android/45522909#45522909", "title": "Firebase requests never complete on Android", "body": "<p>This is a known issue. The Firebase client attempts to establish a real-time connection to the Firebase servers using multiple methods. If one of those methods succeeds before the Websocket does, we cancel the Websocket and you see that warning. You can safely ignore the error.</p>\n"}], "owner": {"reputation": 68, "user_id": 7868063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b27c8eed103a06a9ce6ac0c1339acfe?s=128&d=identicon&r=PG&f=1", "display_name": "Niklas Gruhn", "link": "https://stackoverflow.com/users/7868063/niklas-gruhn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1501942797, "creation_date": 1501941253, "last_edit_date": 1501942797, "question_id": 45522684, "link": "https://stackoverflow.com/questions/45522684/firebase-requests-never-complete-on-android", "title": "Firebase requests never complete on Android", "body": "<p>I am currently building a native android app in Kotlin with Android Studio 3 (Canary). I am also utilizing Firebase Realtime Database and Firebase Auth. Here are my gradle dependecies:</p>\n\n<pre><code>dependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n\n    compile 'com.android.support:appcompat-v7:25.3.1'\n    compile 'com.android.support:design:25.3.1'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile 'com.squareup.picasso:picasso:2.5.2'\n    compile 'com.google.firebase:firebase-database:11.0.4'\n    compile 'com.google.firebase:firebase-auth:11.0.4'\n    compile 'com.dlazaro66.qrcodereaderview:qrcodereaderview:2.0.2'\n    compile 'com.android.support:support-v4:25.3.1'\n    compile 'com.android.support:recyclerview-v7:25.3.1'\n    compile 'com.firebaseui:firebase-ui-database:2.0.1'\n    testCompile 'junit:junit:4.12'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n}\n</code></pre>\n\n<p>Everything worked fine until communication with my Firebase Database stopped completing. I don't get any errors but all Listeners I have registerd are not being triggerd anymore. For example:</p>\n\n<pre><code>val ref = FirebaseDatabase.getInstance().reference.child(\"message\")\n    ref.setValue(\"Test\", object: DatabaseReference.CompletionListener {\n        override fun onComplete(p0: DatabaseError?, p1: DatabaseReference?) {\n           println(\"IT WORKED!\")\n        }\n    })\n</code></pre>\n\n<p>The <code>println</code> statement is never reached.</p>\n\n<p>This is some Logger output, which I belive is related. It looks to me like all WebSocket connection attempts time out and are therefore retried. This output repeats over and over again:</p>\n\n<pre><code>08-05 15:11:25.899 10820-10909/... D/Connection: conn_12 - Opening a connection\n08-05 15:11:55.899 10820-10909/... D/WebSocket: ws_12 - timed out on connect\n08-05 15:11:55.899 10820-10909/... D/WebSocket: ws_12 - closed\n08-05 15:11:55.899 10820-10909/... D/WebSocket: ws_12 - closing itself\n08-05 15:11:55.899 10820-10909/... D/Connection: conn_12 - Realtime connection failed\n08-05 15:11:55.899 10820-10909/... D/Connection: conn_12 - closing realtime connection\n08-05 15:11:55.899 10820-10909/... D/PersistentConnection: pc_0 - Got on disconnect due to OTHER\n08-05 15:11:55.899 10820-10909/... D/PersistentConnection: pc_0 - Scheduling connection attempt\n08-05 15:11:55.899 10820-10909/... D/ConnectionRetryHelper: Scheduling retry in 9844ms\n08-05 15:12:05.739 10820-10909/... D/PersistentConnection: pc_0 - Trying to fetch auth token\n08-05 15:12:05.739 10820-10909/... D/PersistentConnection: pc_0 - Successfully fetched token, opening\nconnection\n08-05 15:12:05.739 10820-10909/... D/Connection: conn_13 - Opening a connection\n</code></pre>\n\n<p>But if I'm right, what is causing this problem? I haven't found any similar issues googling.</p>\n\n<p>I ran the code both on a physical device and in the emulator. I have a web client connected to the same database, which is still working though, so I guess it's not a server-side problem.</p>\n\n<p>The worst thing ist, I reset my project to a point were it used to work but that did not help. </p>\n\n<p>I know this is not much information but I don't know how to further analyse the problem.</p>\n"}, {"tags": ["kotlin", "extension-methods", "dsl", "ktor"], "answers": [{"comments": [{"owner": {"reputation": 1900, "user_id": 303637, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d8113c4877cd0d077cd1ba90f4e4890a?s=128&d=identicon&r=PG", "display_name": "Peter Zeller", "link": "https://stackoverflow.com/users/303637/peter-zeller"}, "edited": false, "score": 0, "creation_date": 1502361240, "post_id": 45522613, "comment_id": 78180772, "body": "Using named parameters does not fix it, but the explanation makes sense."}, {"owner": {"reputation": 7735, "user_id": 300797, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/328e4d651b4e1c7a97bd86f3d7c84073?s=128&d=identicon&r=PG", "display_name": "thecoshman", "link": "https://stackoverflow.com/users/300797/thecoshman"}, "edited": false, "score": 0, "creation_date": 1553268740, "post_id": 45522613, "comment_id": 97334465, "body": "Why is this the accepted answer if it doesn&#39;t solve the problem? It may be a nice snippet of information, but if it doesn&#39;t actually answer the question, it shouldn&#39;t be accepted."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 3, "last_activity_date": 1501940779, "creation_date": 1501940779, "answer_id": 45522613, "question_id": 45522470, "link": "https://stackoverflow.com/questions/45522470/how-do-i-extract-parts-of-code-into-local-variables-in-kotlin-when-using-ktors/45522613#45522613", "title": "How do I extract parts of code into local variables in Kotlin when using Ktor&#39;s HTML builder?", "body": "<p>I think the compiler doesn't like having a mandatory <em>after</em> default parameters, unless it is a lambda outside of the braces. </p>\n\n<p>Try to name it:</p>\n\n<pre><code>call.respondHtml(block = block)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7735, "user_id": 300797, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/328e4d651b4e1c7a97bd86f3d7c84073?s=128&d=identicon&r=PG", "display_name": "thecoshman", "link": "https://stackoverflow.com/users/300797/thecoshman"}, "edited": false, "score": 0, "creation_date": 1553268868, "post_id": 45629469, "comment_id": 97334554, "body": "How does this compare to using the <code>call.respondHtmlTemplate</code> approach? What you have here looks more idiomatic to me, but it begs the question, why does Ktor support a templating system when you could just do this already?"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 7735, "user_id": 300797, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/328e4d651b4e1c7a97bd86f3d7c84073?s=128&d=identicon&r=PG", "display_name": "thecoshman", "link": "https://stackoverflow.com/users/300797/thecoshman"}, "edited": false, "score": 0, "creation_date": 1553361953, "post_id": 45629469, "comment_id": 97359878, "body": "Templates are easier for copy-pasting HTML from the Internet, however the DSL is much more powerful for conditional generation and loops. I prefer mixing up both approaches"}, {"owner": {"reputation": 7735, "user_id": 300797, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/328e4d651b4e1c7a97bd86f3d7c84073?s=128&d=identicon&r=PG", "display_name": "thecoshman", "link": "https://stackoverflow.com/users/300797/thecoshman"}, "edited": false, "score": 0, "creation_date": 1555351035, "post_id": 45629469, "comment_id": 98072234, "body": "Hmm, the examples I&#39;ve seen are still using the DSL, though I can&#39;t fully work out how to get it to work how I want. This seems like a more intuitive way of handling things. I&#39;m kinda curious how performance will be... but I think I&#39;ll deal with that if/when it becomes a problem."}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 3, "last_activity_date": 1502436878, "creation_date": 1502436878, "answer_id": 45629469, "question_id": 45522470, "link": "https://stackoverflow.com/questions/45522470/how-do-i-extract-parts-of-code-into-local-variables-in-kotlin-when-using-ktors/45629469#45629469", "title": "How do I extract parts of code into local variables in Kotlin when using Ktor&#39;s HTML builder?", "body": "<p>BTW, if what you want is to extract logic, I would recommend using functions. For your example:</p>\n\n<pre><code>fun HTML.headAndBody() {\n    head {\n        title { +\"HTML Application\" }\n    }\n    body {\n        h1 { +\"Sample application with HTML builders\" }\n        widget {\n            +\"Widgets are just functions\"\n        }\n    }\n}\n\ncall.respondHtml {\n    headAndBody()\n}\n</code></pre>\n\n<p>That way you can even add parameters to your block of html, creating a custom component out of it.</p>\n"}], "owner": {"reputation": 1900, "user_id": 303637, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/d8113c4877cd0d077cd1ba90f4e4890a?s=128&d=identicon&r=PG", "display_name": "Peter Zeller", "link": "https://stackoverflow.com/users/303637/peter-zeller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 239, "favorite_count": 0, "accepted_answer_id": 45522613, "answer_count": 2, "score": 3, "last_activity_date": 1511891959, "creation_date": 1501939714, "last_edit_date": 1511891959, "question_id": 45522470, "link": "https://stackoverflow.com/questions/45522470/how-do-i-extract-parts-of-code-into-local-variables-in-kotlin-when-using-ktors", "title": "How do I extract parts of code into local variables in Kotlin when using Ktor&#39;s HTML builder?", "body": "<p>I am trying to understand the HTML builder in Kotlin / Ktor. \nThe <a href=\"https://github.com/Kotlin/ktor/blob/5902c5d393bbab4171e5f92b48a9aa21f4d4d524/ktor-samples/ktor-samples-html/src/org/jetbrains/ktor/samples/html/HtmlApplication.kt#L14\" rel=\"nofollow noreferrer\">example here</a> uses the HTML builder to build the result:</p>\n\n<pre><code>call.respondHtml {\n    head {\n        title { +\"HTML Application\" }\n    }\n    body {\n        h1 { +\"Sample application with HTML builders\" }\n        widget {\n            +\"Widgets are just functions\"\n        }\n    }\n}\n</code></pre>\n\n<p>I am trying to extract the body into a variable like this:</p>\n\n<pre><code>val block: HTML.() -&gt; Unit = {\n    head {\n        title { +\"HTML Application\" }\n    }\n    body {\n        h1 { +\"Sample application with HTML builders\" }\n    }\n}\ncall.respondHtml(block)\n</code></pre>\n\n<p>Now I get the following compile error:</p>\n\n<pre><code>Error:(37, 22) Kotlin: None of the following functions can be called with the arguments supplied: \npublic suspend fun ApplicationCall.respondHtml(status: HttpStatusCode = ..., versions: List&lt;Version&gt; = ..., cacheControl: CacheControl? = ..., block: HTML.() -&gt; Unit): Unit defined in org.jetbrains.ktor.html\npublic suspend fun ApplicationCall.respondHtml(status: HttpStatusCode = ..., block: HTML.() -&gt; Unit): Unit defined in org.jetbrains.ktor.html\n</code></pre>\n\n<p>When I add the first (optional) argument it works again: <code>call.respondHtml(HttpStatusCode.OK, block)</code>.</p>\n\n<p>Why does it not work, when I simply try to extract the body into a variable?</p>\n"}, {"tags": ["java", "json", "kotlin"], "owner": {"reputation": 3113, "user_id": 1541609, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/b489568449345d3e18dbf7aa4fa44f22?s=128&d=identicon&r=PG", "display_name": "Ewan Valentine", "link": "https://stackoverflow.com/users/1541609/ewan-valentine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 617, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1501935241, "creation_date": 1501935241, "question_id": 45521753, "link": "https://stackoverflow.com/questions/45521753/getting-json-data-out-of-a-post-body-in-spark-kotlin", "title": "Getting JSON data out of a POST body in Spark + Kotlin", "body": "<p>I'm playing around with Kotlin and Spark, creating a RESTful web service. However I'm struggling to parse a JSON POST request. I have the following endpoint... </p>\n\n<pre><code>    post(\"\") { req, res -&gt;\n        var objectMapper = ObjectMapper()\n        println(req.body())\n        val data = objectMapper.readValue(req.body(), User::class.java)\n        usersDao.save(data.name, data.email, data.age)\n        res.status(201)\n        \"okies\"\n    }\n</code></pre>\n\n<p>However I'm getting a 500 error, it's not actually printing an error, just returning a 500. </p>\n\n<p>It seems to be this line <code>val data = objectMapper.readValue(req.body(), User::class.java)</code>. I'm attempting to convert the json body into a user object. Here's my user object... </p>\n\n<pre><code>data class User(val name: String, val email: String, val age: Int, val id: Int)\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 3694, "user_id": 1167714, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/978df6957d78068fde50b8fd0e584512?s=128&d=identicon&r=PG", "display_name": "jonathanrz", "link": "https://stackoverflow.com/users/1167714/jonathanrz"}, "edited": false, "score": 4, "creation_date": 1501935695, "post_id": 45521462, "comment_id": 78003900, "body": "@Rahul: actually this is not a duplicate. He is asking how to declare a private static final and the linked question just tells how to declare a static final."}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "reply_to_user": {"reputation": 3694, "user_id": 1167714, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/978df6957d78068fde50b8fd0e584512?s=128&d=identicon&r=PG", "display_name": "jonathanrz", "link": "https://stackoverflow.com/users/1167714/jonathanrz"}, "edited": false, "score": 0, "creation_date": 1501937303, "post_id": 45521462, "comment_id": 78004362, "body": "@jonathanrz exactly..."}, {"owner": {"reputation": 3694, "user_id": 1167714, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/978df6957d78068fde50b8fd0e584512?s=128&d=identicon&r=PG", "display_name": "jonathanrz", "link": "https://stackoverflow.com/users/1167714/jonathanrz"}, "edited": false, "score": 0, "creation_date": 1501937969, "post_id": 45521462, "comment_id": 78004564, "body": "answering your question, IMO the better way is the const one. I don&#180;t know any way to define a companion object as private."}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "reply_to_user": {"reputation": 3694, "user_id": 1167714, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/978df6957d78068fde50b8fd0e584512?s=128&d=identicon&r=PG", "display_name": "jonathanrz", "link": "https://stackoverflow.com/users/1167714/jonathanrz"}, "edited": false, "score": 0, "creation_date": 1501940592, "post_id": 45521462, "comment_id": 78005286, "body": "@jonathanrz What naming convention do you use?"}, {"owner": {"reputation": 3694, "user_id": 1167714, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/978df6957d78068fde50b8fd0e584512?s=128&d=identicon&r=PG", "display_name": "jonathanrz", "link": "https://stackoverflow.com/users/1167714/jonathanrz"}, "edited": false, "score": 0, "creation_date": 1501940846, "post_id": 45521462, "comment_id": 78005361, "body": "since I converted a codebase from Java, I kept the convention from java (uppercased), but I don&#180;t know if the Kotlin community has changed the convention."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1501961163, "post_id": 45521462, "comment_id": 78011348, "body": "I think the second approach is better if you have multiple classes declared within one file. Also check out <a href=\"https://stackoverflow.com/questions/38381748/why-do-we-use-companion-object-as-a-kind-of-replacement-for-java-static-fields\">this</a> for further explanation of using <code>companion object</code>."}, {"owner": {"reputation": 837, "user_id": 6923171, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mvE9H.jpg?s=128&g=1", "display_name": "Julius", "link": "https://stackoverflow.com/users/6923171/julius"}, "edited": false, "score": 0, "creation_date": 1536773749, "post_id": 45521462, "comment_id": 91549053, "body": "Is it possible to overturn the duplicate mark and re-open this question...?"}, {"owner": {"reputation": 1067, "user_id": 242925, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/55d28cd38f9627bc4c78ca6954bae3cb?s=128&d=identicon&r=PG", "display_name": "Todd W Crone", "link": "https://stackoverflow.com/users/242925/todd-w-crone"}, "edited": false, "score": 0, "creation_date": 1548967317, "post_id": 45521462, "comment_id": 95745660, "body": "Yes, this one is about &quot;private&quot; static final.  Anyone know the answer?"}], "owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1393, "favorite_count": 0, "closed_date": 1501934958, "answer_count": 0, "score": 7, "last_activity_date": 1501933169, "creation_date": 1501933169, "question_id": 45521462, "link": "https://stackoverflow.com/questions/45521462/what-is-an-equivalent-of-private-static-final-field-in-kotlin", "closed_reason": "Duplicate", "title": "What is an equivalent of private static final field in Kotlin?", "body": "<p>Actually the question is, which approach is better and which convention do you use? </p>\n\n<p>E.g. in order to improve readability we've added this field in Java class:</p>\n\n<pre><code>class Game {\n\n    private static final int MAX_PLAYERS = 10;\n\n    public boolean canWePlay(int playersCount) {\n         return playersCount &lt;= MAX_PLAYERS;\n    } \n\n    // getters and setters\n}\n</code></pre>\n\n<p>Now the better approach is to use companion object:</p>\n\n<pre><code>class Game {\n\n    fun canWePlay(playersCount: Int): Boolean {\n        return playersCount &lt; MAX_PLAYERS\n    }\n\n    companion object {\n\n        val MAX_PLAYERS = 10\n    }\n}\n</code></pre>\n\n<p>or and <code>const val</code> outside the class:</p>\n\n<pre><code>private const val MAX_PLAYERS = 10\n\nclass Game {\n\n    fun canWePlay(playersCount: Int): Boolean {\n        return playersCount &lt; MAX_PLAYERS\n    }\n}\n</code></pre>\n\n<p>or maybe do you use different approaches?</p>\n\n<p>And the additional question is, if we use the second convention, should we use camel case or uppercase with underscore? (I'm talking manly about Android code).</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "rx-android"], "comments": [{"owner": {"reputation": 3262, "user_id": 5460066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca347f40c81e9ce6dbbd26f03cd46790?s=128&d=identicon&r=PG&f=1", "display_name": "nhp", "link": "https://stackoverflow.com/users/5460066/nhp"}, "edited": false, "score": 0, "creation_date": 1502200031, "post_id": 45521429, "comment_id": 78099488, "body": "Check my answer"}], "answers": [{"tags": [], "owner": {"reputation": 3262, "user_id": 5460066, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca347f40c81e9ce6dbbd26f03cd46790?s=128&d=identicon&r=PG&f=1", "display_name": "nhp", "link": "https://stackoverflow.com/users/5460066/nhp"}, "is_accepted": false, "score": 1, "last_activity_date": 1501934710, "creation_date": 1501934710, "answer_id": 45521693, "question_id": 45521429, "link": "https://stackoverflow.com/questions/45521429/rxjava-operator-for-switching-method/45521693#45521693", "title": "RxJava Operator for switching method", "body": "<p>When you want to get data from multi-sources, <code>concat</code> and <code>first</code> should suit for you. </p>\n\n<pre><code>// Our sources (left as an exercise for the reader)\nObservable&lt;Data&gt; memory = ...;  \nObservable&lt;Data&gt; disk = ...;  \nObservable&lt;Data&gt; network = ...;\n\n// Retrieve the first source with data\nObservable&lt;Data&gt; source = Observable  \n  .concat(memory, disk, network)\n  .first();\n</code></pre>\n\n<p><code>concat()</code> takes multiple <code>Observables</code> and concatenates their sequences. <code>first()</code> emits only the first item from a sequence. Therefore, if you use <code>concat().first()</code>, it retrieves the first item emitted by multiple sources.</p>\n\n<p>The key to this pattern is that <code>concat()</code> only subscribes to each child Observable when it needs to. There's no unnecessary querying of slower sources if data is cached, since <code>first()</code> will stop the sequence early. In other words, if memory returns a result, then we won't bother going to disk or network. Conversely, if neither memory nor disk have data, it'll make a new network request.</p>\n\n<p>Note that the order of the source <code>Observables</code> in <code>concat()</code> matters, since it's checking them one-by-one.</p>\n\n<p>Then if you want to save data for each sources, just change a little bit it your source with <code>doOnNext()</code></p>\n\n<pre><code>Observable&lt;Data&gt; networkWithSave = network.doOnNext(data -&gt; {  \n  saveToDisk(data);\n  cacheInMemory(data);\n});\n\nObservable&lt;Data&gt; diskWithCache = disk.doOnNext(data -&gt; {  \n  cacheInMemory(data);\n});\n</code></pre>\n"}], "owner": {"reputation": 107, "user_id": 1752973, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/6756ce73893a7092991199af1866e23e?s=128&d=identicon&r=PG", "display_name": "user1752973", "link": "https://stackoverflow.com/users/1752973/user1752973"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1501934710, "creation_date": 1501932886, "question_id": 45521429, "link": "https://stackoverflow.com/questions/45521429/rxjava-operator-for-switching-method", "title": "RxJava Operator for switching method", "body": "<p>Im new with Rxjava on Android Project, here my code </p>\n\n<pre><code>class RadioListRepositoryImpl(private val apiServices: ApiServices, private val chlDao: ChannelDao) : RadioListRepository {\n\nprivate val results: MutableList&lt;DataResponse&gt;\n\ninit {\n    results = ArrayList&lt;DataResponse&gt;()\n}\n\noverride fun getData(): Observable&lt;DataResponse&gt; {\n    return dataFromMemory().switchIfEmpty(dataFromNetwork())\n}\n\noverride fun dataFromMemory(): Observable&lt;DataResponse&gt; {\n\n    val cacheDateExp = DateTime().minusHours(6)\n\n    if(chlDao.isCacheExpired(cacheDateExp).isNotEmpty()){\n\n        Logger.d(\"Get data from cache SQLITE\")\n\n        val chList: MutableList&lt;DataResponse&gt; = ArrayList()\n\n        val cache = chlDao.loadAll()\n        repeat(cache.size){ i -&gt;\n            val ch = DataResponse()\n            ch.channelId = cache[i].channelId\n            ch.channelTitle = cache[i].title\n\n            chList.add(ch)\n        }\n\n        return Observable.from(chList)\n    }else{\n        chlDao.deleteAll()\n\n        return Observable.empty&lt;DataResponse&gt;()\n    }\n}\n\noverride fun dataFromNetwork(): Observable&lt;DataResponse&gt; {\n    val dttime = DateTime()\n    return apiServices.getChannelList()\n            .concatMap {\n                dataListResponseModel -&gt; Observable.from(dataListResponseModel.radio)\n            }\n            .doOnNext {\n                channelDataResponse -&gt; results.add(channelDataResponse)\n            }\n            .doOnNext { channelDataResponse -&gt;\n                Logger.d(\"Put data to cache\")\n                val c: ChannelEntitiy = ChannelEntitiy()\n                c.channelId = channelDataResponse.channelId\n                c.title = channelDataResponse.channelTitle\n                chlDao.insert(c)\n            }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>My other class access method getData() and I want if data is empty from memory (sqlite) then get data from network. </p>\n\n<p>But what I want is if data is empty from memory then get data from network insert to memory and after that getData() method return dataFromMemory()</p>\n\n<p>Can I handle it using another Rx operator to simplify my code ?</p>\n"}, {"tags": ["transactions", "kotlin", "kotlin-exposed"], "comments": [{"owner": {"reputation": 1387, "user_id": 4547118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48c1bd41974b2165147c6b381b556e20?s=128&d=identicon&r=PG&f=1", "display_name": "pokemzok", "link": "https://stackoverflow.com/users/4547118/pokemzok"}, "edited": false, "score": 0, "creation_date": 1501929485, "post_id": 45520895, "comment_id": 78002298, "body": "The exception basicaly says that you do not have a table CITIES in database. Are you sure you h2 database created it for you?"}, {"owner": {"reputation": 159, "user_id": 2910541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hGq8n.jpg?s=128&g=1", "display_name": "rustyfinger", "link": "https://stackoverflow.com/users/2910541/rustyfinger"}, "reply_to_user": {"reputation": 1387, "user_id": 4547118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48c1bd41974b2165147c6b381b556e20?s=128&d=identicon&r=PG&f=1", "display_name": "pokemzok", "link": "https://stackoverflow.com/users/4547118/pokemzok"}, "edited": false, "score": 0, "creation_date": 1501929801, "post_id": 45520895, "comment_id": 78002367, "body": "Yes, the first read within the transaction creating the table and the row works fine and prints out Cities: St. Petersburg. Table and row were created correctly but for some reason can&#39;t be accessed after closing the first transaction."}, {"owner": {"reputation": 1387, "user_id": 4547118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48c1bd41974b2165147c6b381b556e20?s=128&d=identicon&r=PG&f=1", "display_name": "pokemzok", "link": "https://stackoverflow.com/users/4547118/pokemzok"}, "edited": false, "score": 0, "creation_date": 1501931914, "post_id": 45520895, "comment_id": 78002886, "body": "I look here <a href=\"http://www.h2database.com/html/faq.html\" rel=\"nofollow noreferrer\">h2database.com/html/faq.html</a> for some answers. Interesting part for you is part titled &quot;Where are the Database Files Stored?&quot;. Can you find these files on your computer?"}, {"owner": {"reputation": 159, "user_id": 2910541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hGq8n.jpg?s=128&g=1", "display_name": "rustyfinger", "link": "https://stackoverflow.com/users/2910541/rustyfinger"}, "reply_to_user": {"reputation": 1387, "user_id": 4547118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48c1bd41974b2165147c6b381b556e20?s=128&d=identicon&r=PG&f=1", "display_name": "pokemzok", "link": "https://stackoverflow.com/users/4547118/pokemzok"}, "edited": false, "score": 0, "creation_date": 1501932308, "post_id": 45520895, "comment_id": 78002994, "body": "i am using it as in-memory DB: jdbc:h2:mem:test"}], "answers": [{"tags": [], "owner": {"reputation": 159, "user_id": 2910541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hGq8n.jpg?s=128&g=1", "display_name": "rustyfinger", "link": "https://stackoverflow.com/users/2910541/rustyfinger"}, "is_accepted": false, "score": 1, "last_activity_date": 1503131493, "last_edit_date": 1503131493, "creation_date": 1502109884, "answer_id": 45547242, "question_id": 45520895, "link": "https://stackoverflow.com/questions/45520895/kotlin-exposed-does-not-commit-transaction/45547242#45547242", "title": "Kotlin Exposed does not commit transaction", "body": "<p>Changing the DB from in memory to <code>Database.connect(\"jdbc:h2:~/test\", driver = \"org.h2.Driver\")</code> fixed the problem.</p>\n"}, {"comments": [{"owner": {"reputation": 159, "user_id": 2910541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hGq8n.jpg?s=128&g=1", "display_name": "rustyfinger", "link": "https://stackoverflow.com/users/2910541/rustyfinger"}, "edited": false, "score": 1, "creation_date": 1503555357, "post_id": 45766583, "comment_id": 78666198, "body": "Good to know, thanks for sharing. The file based has been work well for me."}], "tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": false, "score": 3, "last_activity_date": 1503102938, "creation_date": 1503102938, "answer_id": 45766583, "question_id": 45520895, "link": "https://stackoverflow.com/questions/45520895/kotlin-exposed-does-not-commit-transaction/45766583#45766583", "title": "Kotlin Exposed does not commit transaction", "body": "<p>It does commit the transaction. The problem is that when the in memory database is closed then it's deleted and the in memory database is closed under the following circumstances:</p>\n\n<blockquote>\n  <p>By default, H2 closes the database when the last connection is closed  </p>\n</blockquote>\n\n<p><sub><a href=\"http://www.h2database.com/html/faq.html#database_slow\" rel=\"nofollow noreferrer\">Source</a></sub></p>\n\n<p>Here is a diagram so it's easier to understand what happens step by step (when the database is closed it's deleted altogether)</p>\n\n<p><a href=\"https://drive.google.com/file/d/0B8ueMUnDQQ9HVUNlb3VESDE4Smc/view?usp=sharing\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rgble.png\" alt=\"diagram\"></a></p>\n\n<p>The easiest solution is to simply use a actual file database instead of a in memory one.</p>\n"}, {"tags": [], "owner": {"reputation": 14335, "user_id": 13892, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/cf90480c604dec1c06b9173bed0de65e?s=128&d=identicon&r=PG&f=1", "display_name": "James A Wilson", "link": "https://stackoverflow.com/users/13892/james-a-wilson"}, "is_accepted": false, "score": 16, "last_activity_date": 1512315043, "creation_date": 1512315043, "answer_id": 47619932, "question_id": 45520895, "link": "https://stackoverflow.com/questions/45520895/kotlin-exposed-does-not-commit-transaction/47619932#47619932", "title": "Kotlin Exposed does not commit transaction", "body": "<p>It looks like you moved away from in-memory H2 to solve your problem. Be advised that the root of your initial problem was probably because H2 needs to be told to keep your tables for the life of the JVM:</p>\n\n<blockquote>\n  <p>jdbc:h2:mem:test;DB_CLOSE_DELAY=-1</p>\n</blockquote>\n\n<p>further explained here: <a href=\"https://stackoverflow.com/questions/5763747/h2-in-memory-database-table-not-found\">H2 in-memory database. Table not found</a></p>\n"}], "owner": {"reputation": 159, "user_id": 2910541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hGq8n.jpg?s=128&g=1", "display_name": "rustyfinger", "link": "https://stackoverflow.com/users/2910541/rustyfinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2875, "favorite_count": 0, "answer_count": 3, "score": 9, "last_activity_date": 1512315043, "creation_date": 1501929205, "last_edit_date": 1503131577, "question_id": 45520895, "link": "https://stackoverflow.com/questions/45520895/kotlin-exposed-does-not-commit-transaction", "title": "Kotlin Exposed does not commit transaction", "body": "<p>Following the example provided on <a href=\"https://github.com/JetBrains/Exposed\" rel=\"noreferrer\">Exposed</a> I am not able to read the created tables/data outside the transaction creating it. I am using h2-in-memory database.</p>\n\n<p>The exception is:</p>\n\n<pre><code>Exception in thread \"main\" org.h2.jdbc.JdbcSQLException: Table \"CITIES\" not found; SQL statement:\n</code></pre>\n\n<p>I have added a call to commit but this does not help. If I read the data within the transaction creating the data, as in the example on the link to github, it works fine. Here the a simplified version of it:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    Database.connect(\"jdbc:h2:mem:test\", driver = \"org.h2.Driver\")\n\n    transaction {\n        create(Cities)\n\n        City.new {\n            name = \"St. Petersburg\"\n        }\n\n        println(\"Cities: ${City.all().joinToString { it.name }}\")\n        //I have added this commit here\n        commit()\n    }\n    //I want to read the data outside the transaction, but it does not work\n    transaction {\n        println(\"Cities: ${City.all().joinToString { it.name }}\")\n\n    }\n}\n</code></pre>\n\n<p>How can I persist the data?</p>\n\n<p>Adding <code>logger.addLogger(StdOutSqlLogger)</code> gives the following output:</p>\n\n<pre><code>SQL: CREATE TABLE IF NOT EXISTS CITIES (ID INT AUTO_INCREMENT PRIMARY KEY, NAME VARCHAR(50) NOT NULL)\nSQL: INSERT INTO CITIES (NAME) VALUES ('St. Petersburg')\nSQL: SELECT CITIES.ID, CITIES.NAME FROM CITIES\n</code></pre>\n"}, {"tags": ["java", "generics", "kotlin", "wildcard"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 19, "last_activity_date": 1501932703, "last_edit_date": 1501932703, "creation_date": 1501930271, "answer_id": 45521057, "question_id": 45520368, "link": "https://stackoverflow.com/questions/45520368/java-wildcard-types-vs-kotlin-star-projection/45521057#45521057", "title": "Java Wildcard-types vs Kotlin Star-projection", "body": "<p>Probably what it means is that Kotlin doesn't have wildcards in the same form as they are present in Java. Instead, Kotlin uses a different concept of <a href=\"https://www.cs.cornell.edu/~ross/publications/mixedsite/\" rel=\"noreferrer\">mixed-site variance</a>, which adds an option to specify the variance at declaration-site, that is something you cannot do with Java wildcards.</p>\n\n<p>As to the star-projection, it is actually almost equivalent to an unbounded Java wildcard. However, there is at least one difference related to the Kotlin type system.</p>\n\n<p>When you have a <code>List&lt;?&gt;</code>, the type is unknown to Java, but all Java referential types are nullable, and therefore you can safely pass a <code>null</code> as an argument of the unknown type, e.g. <code>list.add(null)</code>.</p>\n\n<p>In Kotlin that is not true, a star projection <code>MutableList&lt;*&gt;</code> combines both <code>out Any?</code> and <code>in Nothing</code> projections, and the latter means that you cannot pass anything at all to the methods where the type is unknown (<code>Nothing</code> is the type that has no value).</p>\n\n<p>The same can be said of the out-projections: while you can pass a <code>null</code> as a Java bounded wildcard type <code>? extends T</code>, you cannot do the same with Kotlin <code>out T</code> projection.</p>\n\n<p>And the exact equivalent of the Java unbounded wildcard is <code>&lt;in Nothing?&gt;</code>, because it lets you pass a <code>null</code> as an argument of the unknown type (<code>Nothing?</code> is <code>Nothing</code> \u222a { <code>null</code> }, this is the type that has only <code>null</code> value).</p>\n"}], "owner": {"reputation": 1387, "user_id": 4547118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/48c1bd41974b2165147c6b381b556e20?s=128&d=identicon&r=PG&f=1", "display_name": "pokemzok", "link": "https://stackoverflow.com/users/4547118/pokemzok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2978, "favorite_count": 6, "accepted_answer_id": 45521057, "answer_count": 1, "score": 11, "last_activity_date": 1526734743, "creation_date": 1501925379, "last_edit_date": 1526734743, "question_id": 45520368, "link": "https://stackoverflow.com/questions/45520368/java-wildcard-types-vs-kotlin-star-projection", "title": "Java Wildcard-types vs Kotlin Star-projection", "body": "<p>I was reading a kotlin documentation about differences between Java and Kotlin here\n<a href=\"https://kotlinlang.org/docs/reference/comparison-to-java.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/comparison-to-java.html</a>. It was stated there that <strong>Kotlin does not have wildcard-types</strong>. However after reading carefully through the documentation of generics I have found information about \n<a href=\"https://kotlinlang.org/docs/reference/generics.html#star-projections\" rel=\"noreferrer\">star-projection</a> and honestly I can't see the difference. Can somebody explain to me how this</p>\n\n<pre><code>List&lt;?&gt; list;\n</code></pre>\n\n<p>differs from this</p>\n\n<pre><code>lateinit var list: MutableList&lt;*&gt; \n</code></pre>\n"}, {"tags": ["collections", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 5, "creation_date": 1501928474, "post_id": 45520345, "comment_id": 78002027, "body": "Arrays are optimized for primitives in Kotlin. Refers to <a href=\"https://stackoverflow.com/a/36263748/8343333\">@hotkey&#39;s answer</a>."}], "tags": [], "owner": {"reputation": 109956, "user_id": 159145, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/r8ryC.png?s=128&g=1", "display_name": "Dai", "link": "https://stackoverflow.com/users/159145/dai"}, "is_accepted": true, "score": 38, "last_activity_date": 1501926261, "last_edit_date": 1501926261, "creation_date": 1501925214, "answer_id": 45520345, "question_id": 45520267, "link": "https://stackoverflow.com/questions/45520267/what-is-the-difference-between-find-and-firstornull/45520345#45520345", "title": "What is the difference between find and firstOrNull?", "body": "<p>In this thread from 2014, Kotlin community members and JetBrains staff discuss the merits of the different methods <code>find</code> and <code>firstOrNull</code>:</p>\n\n<p><a href=\"https://youtrack.jetbrains.com/issue/KT-5185\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/KT-5185</a></p>\n\n<p>While not an official statement, JetBrains' employee Ilya Ryzhenkov describes it as:</p>\n\n<blockquote>\n  <p>I think we can undeprecate <code>find</code> and make it an alias to <code>firstOrNull</code>. Much like <code>indexOf</code> has well-known semantics, <code>find</code> is also widely recognised as \"find first item matching predicate or return null if nothing is found\". People who like precise meaning can use <code>firstOrNull</code>, <code>singleOrNull</code> to express the intent. </p>\n</blockquote>\n\n<p>In other words:</p>\n\n<ul>\n<li><code>find(predicate)</code> and <code>firstOrNull(predicate)</code> are identical in behaviour and <code>find</code> can be considered alias of <code>firstOrNull</code> </li>\n<li><code>find</code> is kept around as an alias because it's more intuitive and discoverable for programmers not already familiar with these Linq-style - or <em>functional</em> - methods.</li>\n</ul>\n\n<p>In actuality the definition of <code>Array&lt;out T&gt;.find</code> is not defined as an alias, but as a wrapper (though the optimizing compiler will inline it, effectively making it an alias):<br>\n<a href=\"https://github.com/JetBrains/kotlin/blob/1.1.3/libraries/stdlib/src/generated/_Arrays.kt#L657\" rel=\"noreferrer\">https://github.com/JetBrains/kotlin/blob/1.1.3/libraries/stdlib/src/generated/_Arrays.kt#L657</a></p>\n\n<pre><code>@kotlin.internal.InlineOnly\npublic inline fun &lt;T&gt; Array&lt;out T&gt;.find(predicate: (T) -&gt; Boolean): T? {\n    return firstOrNull(predicate)\n}\n</code></pre>\n\n<p>Ditto for <code>Sequence&lt;T&gt;.find</code>:<br>\n<a href=\"https://github.com/JetBrains/kotlin/blob/1.1.3/libraries/stdlib/src/generated/_Sequences.kt#L74\" rel=\"noreferrer\">https://github.com/JetBrains/kotlin/blob/1.1.3/libraries/stdlib/src/generated/_Sequences.kt#L74</a></p>\n\n<pre><code>@kotlin.internal.InlineOnly\npublic inline fun &lt;T&gt; Sequence&lt;T&gt;.find(predicate: (T) -&gt; Boolean): T? {\n    return firstOrNull(predicate)\n}\n</code></pre>\n\n<p>(I'm not a Kotlin user myself, but I'm surprised that these methods are implemented as compile-time generated code manually defined for each collection type instead of as a single JVM generic method - is there some reason for this?)</p>\n"}], "owner": {"reputation": 6798, "user_id": 4174897, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/gS0gI.jpg?s=128&g=1", "display_name": "Kyll", "link": "https://stackoverflow.com/users/4174897/kyll"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9342, "favorite_count": 2, "accepted_answer_id": 45520345, "answer_count": 1, "score": 29, "last_activity_date": 1501926261, "creation_date": 1501924710, "question_id": 45520267, "link": "https://stackoverflow.com/questions/45520267/what-is-the-difference-between-find-and-firstornull", "title": "What is the difference between find and firstOrNull?", "body": "<p>Given the following code extracted from <a href=\"https://github.com/Kotlin/kotlin-koans/blob/resolutions/src/ii_collections/n15AllAnyAndOtherPredicates.kt#L36-L39\" rel=\"noreferrer\">Kotlin Koans</a>:</p>\n\n<pre><code>fun Shop.findAnyCustomerFrom(city: City): Customer? {\n    // Return a customer who lives in the given city, or null if there is none\n    return customers.firstOrNull { it.isFrom(city) }\n}\n</code></pre>\n\n<p>My own solution used <code>customers.find</code>. Both work in the koan scenario.</p>\n\n<p>The documentation for <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/first-or-null.html\" rel=\"noreferrer\"><code>firstOrNull</code></a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/find.html\" rel=\"noreferrer\"><code>find</code></a> seem to be very similar.</p>\n\n<p>What is the difference between these two functions?</p>\n"}, {"tags": ["kotlin"], "owner": {"reputation": 645, "user_id": 1582024, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e15498d3e5d13a9917262e45363cb720?s=128&d=identicon&r=PG", "display_name": "user1582024", "link": "https://stackoverflow.com/users/1582024/user1582024"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1501924619, "creation_date": 1501924619, "question_id": 45520256, "link": "https://stackoverflow.com/questions/45520256/is-it-possible-to-avoid-code-repetition-when-an-object-should-return-a-modified", "title": "Is it possible to avoid code repetition when an object should return a modified copy of itself?", "body": "<p>I'm currently writing some classes that represent symbolic mathematical expressions. All of these are immutable.</p>\n\n<p>However, I found myself often repeating the same kind of structure, so I created an interface to avoid repetition, but find myself unable to avoid duplicating the \"substituteInside\" method (see below), which returns a copy of the object with components corresponding to \"find\" replaced with \"replace\".</p>\n\n<p>This behavior is the same for all instances of this interface.</p>\n\n<p>In my current solution, the interface requires implementing a method <code>createOp</code> which returns the modified copy of the object.</p>\n\n<pre><code>interface UnarySymbolicOp&lt;InType : Any,\n                          OutType : Any,\n                          OpType : UnarySymbolicOp&lt;InType,OutType,OpType&gt;&gt; :\n        Symbolic&lt;OutType&gt; {\n\n    // Arg may be a complex expression\n    val arg: Symbolic&lt;InType&gt;\n\n    fun createOp(mesh: Symbolic&lt;InType&gt;) : OpType\n\n    override val variables\n        get() = arg.variables\n\n    override fun &lt;V : Any&gt; substituteInside(find: Symbolic&lt;V&gt;, replace: Symbolic&lt;V&gt;): OpType {\n        return createOp(arg.substitute(find, replace))\n    }\n}\n</code></pre>\n\n<p>The interface can then be implemented as follows: these classes represent the operation of getting some component of an expression.</p>\n\n<pre><code>data class GetX(override val arg: Symbolic&lt;Vector3d&gt;) : UnarySymbolicOp&lt;Vector3d, Double, GetX&gt; {\n    override fun createOp(mesh: Symbolic&lt;Vector3d&gt;) = GetX(arg)\n\n    override fun eval() = arg.eval().x\n}\n\ndata class GetY(override val arg: Symbolic&lt;Vector3d&gt;) : UnarySymbolicOp&lt;Vector3d, Double, GetY&gt; {\n    override fun createOp(mesh: Symbolic&lt;Vector3d&gt;) = GetY(arg)\n\n    override fun eval() = arg.eval().y\n}\n\ndata class GetZ(override val arg: Symbolic&lt;Vector3d&gt;) : UnarySymbolicOp&lt;Vector3d, Double, GetZ&gt; {\n    override fun createOp(mesh: Symbolic&lt;Vector3d&gt;) = GetZ(arg)\n\n    override fun eval() = arg.eval().z\n}\n</code></pre>\n\n<p>This improves things as other methods returning a copy of the object can use that method and thus can live in the interface, but I still have to copy this method everywhere, while it basically always does the same thing.</p>\n"}, {"tags": ["android", "kotlin", "android-alertdialog", "anko"], "comments": [{"owner": {"reputation": 9509, "user_id": 1380032, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/56881b805678c0352d3d4f92a908ffbf?s=128&d=identicon&r=PG", "display_name": "Rahul", "link": "https://stackoverflow.com/users/1380032/rahul"}, "edited": false, "score": 0, "creation_date": 1501921032, "post_id": 45519733, "comment_id": 78000190, "body": "Check <a href=\"https://stackoverflow.com/questions/12997273/alertdialog-with-edittext-open-soft-keyboard-automatically-with-focus-on-editte\" title=\"alertdialog with edittext open soft keyboard automatically with focus on editte\">stackoverflow.com/questions/12997273/&hellip;</a>"}, {"owner": {"reputation": 2183, "user_id": 5257738, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1481932215459032/picture?type=large", "display_name": "Rustam Ibragimov", "link": "https://stackoverflow.com/users/5257738/rustam-ibragimov"}, "reply_to_user": {"reputation": 9509, "user_id": 1380032, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/56881b805678c0352d3d4f92a908ffbf?s=128&d=identicon&r=PG", "display_name": "Rahul", "link": "https://stackoverflow.com/users/1380032/rahul"}, "edited": false, "score": 1, "creation_date": 1501924807, "post_id": 45519733, "comment_id": 78001114, "body": "@Rahul, it is not the same. I create EditText in alert view as part of custom view. In this question they created edit text outside."}], "owner": {"reputation": 2183, "user_id": 5257738, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1481932215459032/picture?type=large", "display_name": "Rustam Ibragimov", "link": "https://stackoverflow.com/users/5257738/rustam-ibragimov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 702, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1501920472, "creation_date": 1501920472, "question_id": 45519733, "link": "https://stackoverflow.com/questions/45519733/android-anko-alert-custom-layout-currentfocus", "title": "android anko alert custom layout currentFocus", "body": "<p>I have a alert view with custom layout which contains EditText</p>\n\n<pre><code>activity.alert {\n        var quantityEt: EditText? = null\n\n        customView {\n            linearLayout {\n                orientation = LinearLayout.VERTICAL\n\n                quantityEt = editText {}\n\n                quantityEt!!.requestFocus()\n                Log.e(\"LOL\", ac.window.currentFocus.toString())\n            }\n        }\n    }.show()\n</code></pre>\n\n<p>then I request focus to this edit text. However, <code>activity.window.currentFocus</code> outputs that the currentFocus android.support.v7.widget.RecyclerView. </p>\n\n<p>I need the currentFocus to be EditText. I also tried to tap it to request focus, but still got RecyclerView. </p>\n\n<p>Is there a way to achieve that?</p>\n"}, {"tags": ["android", "hashmap", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "is_accepted": true, "score": 7, "last_activity_date": 1501920243, "last_edit_date": 1501920243, "creation_date": 1501917941, "answer_id": 45519410, "question_id": 45519391, "link": "https://stackoverflow.com/questions/45519391/error-type-inference-failed/45519410#45519410", "title": "Error: type inference failed", "body": "<p>You have to specify the types of the key and value of the map. Something like this:</p>\n\n<pre><code>mParent = HashMap&lt;String, String&gt;()\n</code></pre>\n\n<p>Or like this:</p>\n\n<pre><code>var mParent: MutableMap&lt;String, String&gt;? = null\nmParent = HashMap()\n</code></pre>\n\n<p>Having * as the generic parameter means, any type of object allowed as the key and value. So when you create the HashMap, the compiler has no idea what the exact type of the key and value - it cannot type infer. That's why you get an error like that. </p>\n\n<p>Suggestion: Kotlin idiom suggests to use the <code>mapOf()</code> or <code>mutableMapOf()</code> method to create a map rather than using the Java style HashMap():</p>\n\n<pre><code>mParent = mutableMapOf&lt;String, String&gt;()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2991, "user_id": 4976247, "user_type": "registered", "accept_rate": 55, "profile_image": "https://graph.facebook.com/640054809465506/picture?type=large", "display_name": "Vishal Vaishnav", "link": "https://stackoverflow.com/users/4976247/vishal-vaishnav"}, "is_accepted": false, "score": 1, "last_activity_date": 1501917996, "creation_date": 1501917996, "answer_id": 45519419, "question_id": 45519391, "link": "https://stackoverflow.com/questions/45519391/error-type-inference-failed/45519419#45519419", "title": "Error: type inference failed", "body": "<p>You can use HashMap like this in kotlin....</p>\n\n<pre><code>val context = HashMap&lt;String, Any&gt;()\ncontext.put(\"world\", \"John\")\ncontext.put(\"count\", 1)\ncontext.put(\"tf\", true)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9509, "user_id": 1380032, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/56881b805678c0352d3d4f92a908ffbf?s=128&d=identicon&r=PG", "display_name": "Rahul", "link": "https://stackoverflow.com/users/1380032/rahul"}, "is_accepted": false, "score": 1, "last_activity_date": 1501918503, "creation_date": 1501918503, "answer_id": 45519482, "question_id": 45519391, "link": "https://stackoverflow.com/questions/45519391/error-type-inference-failed/45519482#45519482", "title": "Error: type inference failed", "body": "<p>If you are not sure what are your keys and values are going to be then use <code>Any</code>.</p>\n\n<pre><code>var mParent: MutableMap&lt;Any, Any&gt; ?= mutableMapOf()\n</code></pre>\n\n<p>In your case compiler is not sure what those aestriks means.</p>\n"}], "owner": {"reputation": 385, "user_id": 4868113, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cnwdW.jpg?s=128&g=1", "display_name": "Nyagaka Enock", "link": "https://stackoverflow.com/users/4868113/nyagaka-enock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10366, "favorite_count": 0, "accepted_answer_id": 45519410, "answer_count": 3, "score": 2, "last_activity_date": 1502187583, "creation_date": 1501917824, "last_edit_date": 1502187583, "question_id": 45519391, "link": "https://stackoverflow.com/questions/45519391/error-type-inference-failed", "title": "Error: type inference failed", "body": "<p>I am trying to write an android Kotlin application but I got below error. Where have I gone wrong ? </p>\n\n<p>This is how I have declared my HashMap:</p>\n\n<pre><code> var mParent: MutableMap&lt;*, *&gt; ?= null\n mParent = HashMap()\n</code></pre>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>type inference failed. Not enough information to infer parameter K in\n  constructor HashMap. Please specify it explicitly</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 385, "user_id": 4868113, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cnwdW.jpg?s=128&g=1", "display_name": "Nyagaka Enock", "link": "https://stackoverflow.com/users/4868113/nyagaka-enock"}, "edited": false, "score": 0, "creation_date": 1501911311, "post_id": 45518583, "comment_id": 77998097, "body": "So which is the solution Buddy @Xype"}, {"owner": {"reputation": 78, "user_id": 3630719, "user_type": "registered", "profile_image": "https://graph.facebook.com/776823045/picture?type=large", "display_name": "Xype", "link": "https://stackoverflow.com/users/3630719/xype"}, "reply_to_user": {"reputation": 385, "user_id": 4868113, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cnwdW.jpg?s=128&g=1", "display_name": "Nyagaka Enock", "link": "https://stackoverflow.com/users/4868113/nyagaka-enock"}, "edited": false, "score": 0, "creation_date": 1501911491, "post_id": 45518583, "comment_id": 77998129, "body": "I would try changing it from internal var to internal val and see if it works. Problem with Kotlin, and I am going through it too, it is trial by fire, limited documentation, constantly changing. Fun though."}], "tags": [], "owner": {"reputation": 78, "user_id": 3630719, "user_type": "registered", "profile_image": "https://graph.facebook.com/776823045/picture?type=large", "display_name": "Xype", "link": "https://stackoverflow.com/users/3630719/xype"}, "is_accepted": false, "score": 0, "last_activity_date": 1501911616, "last_edit_date": 1501911616, "creation_date": 1501911075, "answer_id": 45518583, "question_id": 45518564, "link": "https://stackoverflow.com/questions/45518564/smart-cast-to-bootsrapbutton-is-imposible-because-endtrip-is-mutable-property-th/45518583#45518583", "title": "Smart cast to BootsrapButton is imposible because endtrip is mutable property that have changed by this time", "body": "<p>val is the static, var is the mutable. kotlin prefers everything static even more so in the place you called it.</p>\n\n<p>Just to clarify a little, Kotlin only really likes for you to use var inside a method, it doesn't like it up in the main. It wants val up there.</p>\n\n<p>val is an immutable variable\nvar is mutable.</p>\n"}, {"tags": [], "owner": {"reputation": 385, "user_id": 4868113, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cnwdW.jpg?s=128&g=1", "display_name": "Nyagaka Enock", "link": "https://stackoverflow.com/users/4868113/nyagaka-enock"}, "is_accepted": false, "score": 0, "last_activity_date": 1501912198, "creation_date": 1501912198, "answer_id": 45518710, "question_id": 45518564, "link": "https://stackoverflow.com/questions/45518564/smart-cast-to-bootsrapbutton-is-imposible-because-endtrip-is-mutable-property-th/45518710#45518710", "title": "Smart cast to BootsrapButton is imposible because endtrip is mutable property that have changed by this time", "body": "<p>I have figured out the problem. I removed the global declaration of endtrip and initialized it in the onCreate method as below.</p>\n\n<pre><code>import com.beardedhen.androidbootstrap.BootstrapButton\nclass EndTrip : AppCompatActivity(){\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_end_trip)\n var endtrip: BootstrapButton = findViewById(R.id.endtrip) as BootstrapButton\nendtrip.setOnClickListener(View.OnClickListener {\n//Some code here\n}\n}\n}\n</code></pre>\n\n<p>But my worry is what if i want to use a variable in other methods?</p>\n"}, {"comments": [{"owner": {"reputation": 385, "user_id": 4868113, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cnwdW.jpg?s=128&g=1", "display_name": "Nyagaka Enock", "link": "https://stackoverflow.com/users/4868113/nyagaka-enock"}, "edited": false, "score": 0, "creation_date": 1501913553, "post_id": 45518844, "comment_id": 77998513, "body": "Thanks for your response. But when i do that i get an error val cannot be reassigned at endtrip = findViewById(R.id.endtrip) as BootstrapButton"}], "tags": [], "owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "is_accepted": false, "score": 0, "last_activity_date": 1501915291, "last_edit_date": 1501915291, "creation_date": 1501913193, "answer_id": 45518844, "question_id": 45518564, "link": "https://stackoverflow.com/questions/45518564/smart-cast-to-bootsrapbutton-is-imposible-because-endtrip-is-mutable-property-th/45518844#45518844", "title": "Smart cast to BootsrapButton is imposible because endtrip is mutable property that have changed by this time", "body": "<p>The reason why you are receiving that error is due to <em>smart casting</em> and the use of <code>var</code>. <code>var</code> is mutable, so at any point in your code, it can be changed. Kotlin cannot guarantee that, the value that <code>endtrip</code> will be changed to can be casted to <code>BootstrapButton</code> hence the error. In the documentation under smart casts, it lists various instances when smart casting can't be possible. You can find them <a href=\"https://kotlinlang.org/docs/reference/typecasts.html#smart-casts\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>To make your code work you will have to change it to this</p>\n\n<pre><code>val endtrip: BootstrapButton ?=  null\n</code></pre>\n\n<p>With this, Kotlin is rest assured that your endtrip variable won't change and can cast it to BootstrapButton successfully.</p>\n\n<p>Edit: Since you want to reassign endtrip, you could do something like this:</p>\n\n<pre><code>var endtrip: BootstrapButton ?= null\nval immutableEndtrip = endtrip // you can definitely use a different variable name\n\nif(immutableEndtrip !=null)\n{\nendtrip = findViewById(R.id.endtrip) as BootstrapButton\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 3, "last_activity_date": 1501918810, "last_edit_date": 1592644375, "creation_date": 1501918810, "answer_id": 45519518, "question_id": 45518564, "link": "https://stackoverflow.com/questions/45518564/smart-cast-to-bootsrapbutton-is-imposible-because-endtrip-is-mutable-property-th/45519518#45519518", "title": "Smart cast to BootsrapButton is imposible because endtrip is mutable property that have changed by this time", "body": "<p>The error tell you that you cannot guarantee that <code>endtrip</code> is not null at that line of code. The reason is that <code>endtrip</code> is a <code>var</code>. It can be mutated by other thread, even if you do a null check just before you use that variable.</p>\n<p>Here is the <a href=\"https://kotlinlang.org/docs/reference/typecasts.html\" rel=\"nofollow noreferrer\">official document's</a> explanation:</p>\n<blockquote>\n<p>Note that smart casts do not work when the compiler cannot guarantee that the variable cannot change between the check and the usage. More specifically, smart casts are applicable according to the following rules:</p>\n<ul>\n<li><strong>val</strong> local variables - always;</li>\n<li><strong>val</strong> properties - if the property is private or internal or the check is performed in the same module where the property is declared. Smart casts aren't applicable to open properties or properties that have custom getters;</li>\n<li><strong>var</strong> local variables - if the variable is not modified between the check and the usage and is not captured in a lambda that modifies it;</li>\n<li><strong>var</strong> properties - never (because the variable can be modified at any time by other code).</li>\n</ul>\n</blockquote>\n<p>The simplest solution is to use safe call operator <code>?.</code></p>\n<pre><code>endtrip?.setOnClickListener(View.OnClickListener {\n    //Some code here\n}\n</code></pre>\n<p>Suggested reading: <a href=\"https://stackoverflow.com/questions/34498562/in-kotlin-what-is-the-idiomatic-way-to-deal-with-nullable-values-referencing-o\">In Kotlin, what is the idiomatic way to deal with nullable values, referencing or converting them</a></p>\n"}], "owner": {"reputation": 385, "user_id": 4868113, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cnwdW.jpg?s=128&g=1", "display_name": "Nyagaka Enock", "link": "https://stackoverflow.com/users/4868113/nyagaka-enock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 646, "favorite_count": 0, "accepted_answer_id": 45519518, "answer_count": 4, "score": 0, "last_activity_date": 1501918810, "creation_date": 1501910845, "last_edit_date": 1501911035, "question_id": 45518564, "link": "https://stackoverflow.com/questions/45518564/smart-cast-to-bootsrapbutton-is-imposible-because-endtrip-is-mutable-property-th", "title": "Smart cast to BootsrapButton is imposible because endtrip is mutable property that have changed by this time", "body": "<p>I am new to Kotlin. I have an android project which I opted to convert to kotlin. This is my piece of code.</p>\n\n<pre><code>import com.beardedhen.androidbootstrap.BootstrapButton\nclass EndTrip : AppCompatActivity(){\ninternal var endtrip: BootstrapButton ?=  null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_end_trip)\nendtrip.setOnClickListener(View.OnClickListener {\n//Some code here\n}\n}\n}\n</code></pre>\n\n<p>But I get this error on the endtrip </p>\n\n<blockquote>\n  <p>Smart cast to BootsrapButton is impossible because endtrip is mutable\n  property that have changed by this time</p>\n</blockquote>\n\n<p>A similar question has been answered <a href=\"https://stackoverflow.com/questions/44595529/smart-cast-to-type-is-impossible-because-variable-is-a-mutable-property-tha\">here</a> but i cant figure out the solution. I am using <a href=\"https://github.com/Bearded-Hen/Android-Bootstrap\" rel=\"nofollow noreferrer\">beardedhen Android Bootstrap Library</a>. Thank you.</p>\n"}, {"tags": ["android", "kotlin", "android-intent", "android-activity"], "comments": [{"owner": {"reputation": 389, "user_id": 2787953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mbeBb.jpg?s=128&g=1", "display_name": "Scre", "link": "https://stackoverflow.com/users/2787953/scre"}, "reply_to_user": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1537962332, "post_id": 45518139, "comment_id": 91973405, "body": "@BakaWaii that page does not exist anymore."}], "answers": [{"tags": [], "owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "is_accepted": false, "score": 4, "last_activity_date": 1501909558, "creation_date": 1501909558, "answer_id": 45518441, "question_id": 45518139, "link": "https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity/45518441#45518441", "title": "Kotlin Android start new Activity", "body": "<p>This is because your <code>Page2</code> class doesn't have a companion object which is similar to <code>static</code> in Java so to use your class. To pass your class as an argument to <code>Intent</code>, you will have to do something like this</p>\n\n<pre><code>val changePage = Intent(this, Page2::class.java)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4325, "user_id": 6512057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0113ed8a84e0acc8a0425a8cdd88a89a?s=128&d=identicon&r=PG", "display_name": "Mr-IDE", "link": "https://stackoverflow.com/users/6512057/mr-ide"}, "edited": false, "score": 6, "creation_date": 1573062216, "post_id": 45518762, "comment_id": 103761756, "body": "Any idea why they changed it to <code>::class.java</code> instead of <code>.class</code> ? The Kotlin approach is unusually complicated, compared to Java."}, {"owner": {"reputation": 9113, "user_id": 2097780, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/db5b03704c129196a4e9415e55413ce6?s=128&d=identicon&r=PG", "display_name": "kirbyfan64sos", "link": "https://stackoverflow.com/users/2097780/kirbyfan64sos"}, "reply_to_user": {"reputation": 4325, "user_id": 6512057, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0113ed8a84e0acc8a0425a8cdd88a89a?s=128&d=identicon&r=PG", "display_name": "Mr-IDE", "link": "https://stackoverflow.com/users/6512057/mr-ide"}, "edited": false, "score": 4, "creation_date": 1586911527, "post_id": 45518762, "comment_id": 108301642, "body": "@Mr-IDE <code>class</code> returns a Kotlin <code>KClass</code>, but Android expects a Java <code>Class&lt;...&gt;</code>, hence the <code>.java</code> property."}], "tags": [], "owner": {"reputation": 9509, "user_id": 1380032, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/56881b805678c0352d3d4f92a908ffbf?s=128&d=identicon&r=PG", "display_name": "Rahul", "link": "https://stackoverflow.com/users/1380032/rahul"}, "is_accepted": true, "score": 202, "last_activity_date": 1521956227, "last_edit_date": 1521956227, "creation_date": 1501912579, "answer_id": 45518762, "question_id": 45518139, "link": "https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity/45518762#45518762", "title": "Kotlin Android start new Activity", "body": "<p>To start an <code>Activity</code> in java we wrote <code>Intent(this, Page2.class)</code>, basically you have to define <code>Context</code> in first parameter and destination class in second parameter. According to <code>Intent</code> method in source code - </p>\n\n<pre><code> public Intent(Context packageContext, Class&lt;?&gt; cls)\n</code></pre>\n\n<p>As you can see we have to pass <code>Class&lt;?&gt;</code> type in second parameter. </p>\n\n<p>By writing <code>Intent(this, Page2)</code> we never specify we are going to pass class, we are trying to pass <code>class</code> type which is not acceptable.</p>\n\n<p>Use <code>::class.java</code> which is alternative of <code>.class</code> in kotlin. Use below code to start your <code>Activity</code></p>\n\n<pre><code>Intent(this, Page2::class.java)\n</code></pre>\n\n<p>Example -</p>\n\n<pre><code>val intent = Intent(this, NextActivity::class.java)\n// To pass any data to next activity\nintent.putExtra(\"keyIdentifier\", value)\n// start your next activity\nstartActivity(intent)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 187, "user_id": 7505665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73e1d9b5f71e8025c370118cc475e6a?s=128&d=identicon&r=PG&f=1", "display_name": "ShadeToD", "link": "https://stackoverflow.com/users/7505665/shadetod"}, "edited": false, "score": 1, "creation_date": 1560079133, "post_id": 45539736, "comment_id": 99614304, "body": "You don&#39;t need to use putExtra method to start new activity."}, {"owner": {"reputation": 2838, "user_id": 6314513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QMIUc.jpg?s=128&g=1", "display_name": "Gowtham Subramaniam", "link": "https://stackoverflow.com/users/6314513/gowtham-subramaniam"}, "reply_to_user": {"reputation": 187, "user_id": 7505665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73e1d9b5f71e8025c370118cc475e6a?s=128&d=identicon&r=PG&f=1", "display_name": "ShadeToD", "link": "https://stackoverflow.com/users/7505665/shadetod"}, "edited": false, "score": 0, "creation_date": 1560141364, "post_id": 45539736, "comment_id": 99625760, "body": "@ShadeToD Yeah! No need to use <code>putExtra</code> method. I just added it for passing values when starting new <code>Activity</code>"}], "tags": [], "owner": {"reputation": 2838, "user_id": 6314513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QMIUc.jpg?s=128&g=1", "display_name": "Gowtham Subramaniam", "link": "https://stackoverflow.com/users/6314513/gowtham-subramaniam"}, "is_accepted": false, "score": 38, "last_activity_date": 1559302867, "last_edit_date": 1559302867, "creation_date": 1502082386, "answer_id": 45539736, "question_id": 45518139, "link": "https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity/45539736#45539736", "title": "Kotlin Android start new Activity", "body": "<p>Simply you can start an <code>Activity</code> in <code>KOTLIN</code> by using this simple method,</p>\n\n<pre><code>val intent = Intent(this, SecondActivity::class.java)\nintent.putExtra(\"key\", value)\nstartActivity(intent)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 324, "user_id": 7739417, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7dc131c639fec0a6a1151cd861be7fd?s=128&d=identicon&r=PG&f=1", "display_name": "Boris", "link": "https://stackoverflow.com/users/7739417/boris"}, "is_accepted": false, "score": 7, "last_activity_date": 1502106960, "creation_date": 1502106960, "answer_id": 45546334, "question_id": 45518139, "link": "https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity/45546334#45546334", "title": "Kotlin Android start new Activity", "body": "<p>Try this</p>\n\n<pre><code>val intent = Intent(this, Page2::class.java)\nstartActivity(intent)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2250, "user_id": 5830551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Utrc.jpg?s=128&g=1", "display_name": "leoelstin", "link": "https://stackoverflow.com/users/5830551/leoelstin"}, "reply_to_user": {"reputation": 435, "user_id": 228164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UzBLB.jpg?s=128&g=1", "display_name": "Jakub Keller", "link": "https://stackoverflow.com/users/228164/jakub-keller"}, "edited": false, "score": 2, "creation_date": 1536585505, "post_id": 48201137, "comment_id": 91464726, "body": "this@Activity is equal to Java&#39;s Activity.this :)"}], "tags": [], "owner": {"reputation": 2250, "user_id": 5830551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6Utrc.jpg?s=128&g=1", "display_name": "leoelstin", "link": "https://stackoverflow.com/users/5830551/leoelstin"}, "is_accepted": false, "score": 32, "last_activity_date": 1536585574, "last_edit_date": 1536585574, "creation_date": 1515652765, "answer_id": 48201137, "question_id": 45518139, "link": "https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity/48201137#48201137", "title": "Kotlin Android start new Activity", "body": "<p>To start a new Activity , </p>\n\n<pre><code>startActivity(Intent(this@CurrentClassName,RequiredClassName::class.java)\n</code></pre>\n\n<p>So change your code to : </p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n\n    fun buTestUpdateText2 (view: View) {\n        startActivity(Intent(this@MainActivity,ClassName::class.java))\n\n        // Also like this \n\n        val intent = Intent(this@MainActivity,ClassName::class.java)\n        startActivity(intent)\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 273, "user_id": 8420957, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3X6w8x9MhTI/AAAAAAAAAAI/AAAAAAAAABg/H5wT0dTRHMk/photo.jpg?sz=128", "display_name": "Bharat Vasoya", "link": "https://stackoverflow.com/users/8420957/bharat-vasoya"}, "is_accepted": false, "score": 6, "last_activity_date": 1520838413, "creation_date": 1520838413, "answer_id": 49229779, "question_id": 45518139, "link": "https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity/49229779#49229779", "title": "Kotlin Android start new Activity", "body": "<p>This is my main activity where i take the username and password from edit text and setting to the intent</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\nval userName = null\nval password = null\noverride fun onCreate(savedInstanceState: Bundle?) {\nsuper.onCreate(savedInstanceState)\nsetContentView(R.layout.activity_main)\nbutton.setOnClickListener {\n    val intent = Intent(this@MainActivity,SecondActivity::class.java);\n    var userName = username.text.toString()\n    var password = password_field.text.toString()\n    intent.putExtra(\"Username\", userName)\n    intent.putExtra(\"Password\", password)\n    startActivity(intent);\n }\n}\n</code></pre>\n\n<p>This is my second activity where i have to receive values from the main activity</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\nsuper.onCreate(savedInstanceState)\nsetContentView(R.layout.activity_second)\nvar strUser: String = intent.getStringExtra(\"Username\")\nvar strPassword: String = intent.getStringExtra(\"Password\")\nuser_name.setText(\"Seelan\")\npasswor_print.setText(\"Seelan\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2693, "user_id": 450356, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/SOCF1.png?s=128&g=1", "display_name": "Adib Faramarzi", "link": "https://stackoverflow.com/users/450356/adib-faramarzi"}, "is_accepted": false, "score": 11, "last_activity_date": 1521956764, "creation_date": 1521956764, "answer_id": 49472917, "question_id": 45518139, "link": "https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity/49472917#49472917", "title": "Kotlin Android start new Activity", "body": "<p>You have to give the second argument of class type. You can also have it a little bit more tidy like below. </p>\n\n<pre><code>startActivity(Intent(this, Page2::class.java).apply {\n    putExtra(\"extra_1\", value1)\n    putExtra(\"extra_2\", value2)\n    putExtra(\"extra_3\", value3)\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4243, "user_id": 4384513, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/761Ft.png?s=128&g=1", "display_name": "Masum", "link": "https://stackoverflow.com/users/4384513/masum"}, "is_accepted": false, "score": 4, "last_activity_date": 1529441971, "creation_date": 1529441971, "answer_id": 50936870, "question_id": 45518139, "link": "https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity/50936870#50936870", "title": "Kotlin Android start new Activity", "body": "<p><strong>From activity to activity</strong></p>\n\n<pre><code>val intent = Intent(this, YourActivity::class.java)\nstartActivity(intent)\n</code></pre>\n\n<p><strong>From fragment to activity</strong></p>\n\n<pre><code>val intent = Intent(activity, YourActivity::class.java)\nstartActivity(intent)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 389, "user_id": 2787953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mbeBb.jpg?s=128&g=1", "display_name": "Scre", "link": "https://stackoverflow.com/users/2787953/scre"}, "edited": false, "score": 0, "creation_date": 1537962797, "post_id": 50936995, "comment_id": 91973675, "body": "As newbie to kotlin, how would you plant a variable number (or none) of putExtra()&#39;s with that?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 389, "user_id": 2787953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mbeBb.jpg?s=128&g=1", "display_name": "Scre", "link": "https://stackoverflow.com/users/2787953/scre"}, "edited": false, "score": 1, "creation_date": 1537964148, "post_id": 50936995, "comment_id": 91974521, "body": "You could set up <code>inline fun &lt;reified T: Activity&gt; Context.createIntent(vararg extras: Pair&lt;String, Any?&gt;) = Intent(this, T::class.java).apply { putExtras(bundleOf(*extras)) }</code> instead of what I said and it&#39;ll work (assuming you have <code>bundleOf</code> from android-ktx or anko)"}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 14, "last_activity_date": 1529442656, "creation_date": 1529442656, "answer_id": 50936995, "question_id": 45518139, "link": "https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity/50936995#50936995", "title": "Kotlin Android start new Activity", "body": "<p>You can generally simplify the specification of the parameter <code>BlahActivity::class.java</code> by defining an inline reified generic function.</p>\n\n<pre><code>inline fun &lt;reified T: Activity&gt; Context.createIntent() =\n    Intent(this, T::class.java)\n</code></pre>\n\n<p>Because that lets you do </p>\n\n<pre><code>startActivity(createIntent&lt;Page2&gt;()) \n</code></pre>\n\n<p>Or even simpler </p>\n\n<pre><code>inline fun &lt;reified T: Activity&gt; Activity.startActivity() {\n    startActivity(createIntent&lt;T&gt;()) \n} \n</code></pre>\n\n<p>So it's now </p>\n\n<pre><code>startActivity&lt;Page2&gt;() \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19500, "user_id": 4488252, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/A66Rf.jpg?s=128&g=1", "display_name": "Vasily  Bodnarchuk", "link": "https://stackoverflow.com/users/4488252/vasily-bodnarchuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1535493867, "last_edit_date": 1535493867, "creation_date": 1535479484, "answer_id": 52063918, "question_id": 45518139, "link": "https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity/52063918#52063918", "title": "Kotlin Android start new Activity", "body": "<h2>Details</h2>\n\n<ul>\n<li>Android Studio 3.1.4</li>\n<li>Kotlin version: 1.2.60</li>\n</ul>\n\n<h2>Step 1. Application()</h2>\n\n<blockquote>\n  <p>Get link to the context of you application </p>\n</blockquote>\n\n<pre><code>class MY_APPLICATION_NAME: Application() {\n\n    companion object {\n        private lateinit var instance: MY_APPLICATION_NAME\n        fun getAppContext(): Context = instance.applicationContext\n    }\n\n    override fun onCreate() {\n        instance = this\n        super.onCreate()\n    }\n\n}\n</code></pre>\n\n<h2>Step 2. Add Router object</h2>\n\n<pre><code>object Router {\n    inline fun &lt;reified T: Activity&gt; start() {\n         val context =  MY_APPLICATION_NAME.getAppContext()\n         val intent = Intent(context, T::class.java)\n         context.startActivity(intent)\n    }\n}\n</code></pre>\n\n<h2>Usage</h2>\n\n<pre><code>// You can start activity from any class: form Application, from any activity, from any fragment and other  \nRouter.start&lt;ANY_ACTIVITY_CLASS&gt;()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 611, "user_id": 6198614, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1712495589027610/picture?type=large", "display_name": "Nicolai Harbo", "link": "https://stackoverflow.com/users/6198614/nicolai-harbo"}, "is_accepted": false, "score": 0, "last_activity_date": 1542975206, "creation_date": 1542975206, "answer_id": 53446527, "question_id": 45518139, "link": "https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity/53446527#53446527", "title": "Kotlin Android start new Activity", "body": "<p>Remember to add the activity you want to present, to your <code>AndroidManifest.xml</code> too :-) That was the issue for me.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 8143509, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XTU5v.jpg?s=128&g=1", "display_name": "Ashish Patel", "link": "https://stackoverflow.com/users/8143509/ashish-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1549885476, "last_edit_date": 1549885476, "creation_date": 1549884950, "answer_id": 54629713, "question_id": 45518139, "link": "https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity/54629713#54629713", "title": "Kotlin Android start new Activity", "body": "<pre><code>val intentAct: Intent = Intent(this@YourCurrentActivity, TagentActivity::class.java)\nstartActivity(intentAct)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3189, "user_id": 2212770, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/21c36bd45107c86ecad1341d47508667?s=128&d=identicon&r=PG", "display_name": "Wirling", "link": "https://stackoverflow.com/users/2212770/wirling"}, "edited": false, "score": 0, "creation_date": 1576656162, "post_id": 55286973, "comment_id": 104966074, "body": "If you add <code>@JvmStatic</code> to your <code>newIntent</code> method you can call it from java without the <code>Companion</code> part."}], "tags": [], "owner": {"reputation": 726, "user_id": 5329293, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/d2553037df0ac753036033a8a37846fc?s=128&d=identicon&r=PG&f=1", "display_name": "Anton Makov", "link": "https://stackoverflow.com/users/5329293/anton-makov"}, "is_accepted": false, "score": 1, "last_activity_date": 1553192786, "creation_date": 1553192786, "answer_id": 55286973, "question_id": 45518139, "link": "https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity/55286973#55286973", "title": "Kotlin Android start new Activity", "body": "<p>I had a similar issue, I started to write my application in Kotlin, after I rewrote one of my activities I wanted to see if there are any issues, the problem was that I was not sure how to send an intent from java file to kotlin file.</p>\n\n<p>In this case I created a static function in kotlin (companion object), this function is getting a context (from the current activity) and returning the new intent while using the current context (\"java\" context) while using the kotlin class (\"::class.java\").</p>\n\n<p>Here is my code:</p>\n\n<pre><code> //this code will be in the kotlin activity - SearchActivity\n companion object {\n\n    fun newIntent(context: Context): Intent {\n        return Intent(context, SearchActivity::class.java)\n    }\n}\n\n    //this is how you call SearchActivity from MainActivity.java\nIntent searchIntent = SearchActivity.Companion.newIntent(this);\nstartActivity(searchIntent);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1659, "user_id": 2200711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ulo4v.jpg?s=128&g=1", "display_name": "Saadat Sayem", "link": "https://stackoverflow.com/users/2200711/saadat-sayem"}, "is_accepted": false, "score": 6, "last_activity_date": 1569058084, "creation_date": 1569058084, "answer_id": 58038957, "question_id": 45518139, "link": "https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity/58038957#58038957", "title": "Kotlin Android start new Activity", "body": "<p><strong>Well, I found these 2 ways to be the simplest of all outcomes:</strong></p>\n\n<p><em>Way #1:</em></p>\n\n<pre><code>accoun_btn.setOnClickListener {\n            startActivity(Intent(this@MainActivity, SecondActivity::class.java))\n        }\n</code></pre>\n\n<p><em>Way#2:</em> (In a generic way)</p>\n\n<pre><code>    accoun_btn.setOnClickListener {\n        startActivity&lt;SecondActivity&gt;(this)\n    }\n\n    private inline fun &lt;reified T&gt; startActivity(context: Context) {\n            startActivity(Intent(context, T::class.java))\n        }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/vt93c.gif\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/vt93c.gif\" alt=\"sample\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 386, "user_id": 4858953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c1bd51ff3d57ce03882dbd19956e02c?s=128&d=identicon&r=PG", "display_name": "libliboom", "link": "https://stackoverflow.com/users/4858953/libliboom"}, "is_accepted": false, "score": 0, "last_activity_date": 1589362374, "creation_date": 1589362374, "answer_id": 61771057, "question_id": 45518139, "link": "https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity/61771057#61771057", "title": "Kotlin Android start new Activity", "body": "<p>How about this to consider encapsulation?<br/><br/>\nFor example:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_contents)\n\n        val title = intent.getStringExtra(EXTRA_TITLE) ?: EXTRA_TITLE_DEFAULT\n\n        supportFragmentManager.beginTransaction()\n            .add(R.id.frame_layout_fragment, ContentsFragment.newInstance())\n            .commit()\n    }\n\n    // Omit...\n\n    companion object {\n\n        private const val EXTRA_TITLE = \"extra_title\"\n        private const val EXTRA_TITLE_DEFAULT = \"No title\"\n\n        fun newIntent(context: Context, title: String): Intent {\n            val intent = Intent(context, ContentsActivity::class.java)\n            intent.putExtra(EXTRA_TITLE, title)\n            return intent\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9367, "user_id": 2057089, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PYeJI.png?s=128&g=1", "display_name": "Gene", "link": "https://stackoverflow.com/users/2057089/gene"}, "is_accepted": false, "score": 0, "last_activity_date": 1590968102, "last_edit_date": 1590968102, "creation_date": 1590613425, "answer_id": 62052829, "question_id": 45518139, "link": "https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity/62052829#62052829", "title": "Kotlin Android start new Activity", "body": "<p>You can use both Kotlin and Java files in your application. </p>\n\n<p>To switch between the two files, make sure you give them unique &lt; action android:name=\"\" in AndroidManifest.xml, like so:</p>\n\n<pre><code>            &lt;activity android:name=\".MainActivityKotlin\"&gt;\n                &lt;intent-filter&gt;\n                    &lt;action android:name=\"com.genechuang.basicfirebaseproject.KotlinActivity\"/&gt;\n                    &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n                    &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n                    &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n                &lt;/intent-filter&gt;\n            &lt;/activity&gt;\n            &lt;activity\n                android:name=\"com.genechuang.basicfirebaseproject.MainActivityJava\"\n                android:label=\"MainActivityJava\" &gt;\n                &lt;intent-filter&gt;\n                    &lt;action android:name=\"com.genechuang.basicfirebaseproject.JavaActivity\" /&gt;\n                    &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n                &lt;/intent-filter&gt;\n            &lt;/activity&gt;\n</code></pre>\n\n<p>Then in your MainActivity.kt (Kotlin file), to start an Activity written in Java, do this:</p>\n\n<pre><code>       val intent = Intent(\"com.genechuang.basicfirebaseproject.JavaActivity\")\n        startActivity(intent)\n</code></pre>\n\n<p>In your MainActivityJava.java (Java file), to start an Activity written in Kotlin, do this: </p>\n\n<pre><code>       Intent mIntent = new Intent(\"com.genechuang.basicfirebaseproject.KotlinActivity\");\n        startActivity(mIntent);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6476, "user_id": 872707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2a52e516d40736111c3d3ab6d313bc70?s=128&d=identicon&r=PG", "display_name": "Amit Verma", "link": "https://stackoverflow.com/users/872707/amit-verma"}, "edited": false, "score": 1, "creation_date": 1594631870, "post_id": 62866519, "comment_id": 111182202, "body": "Pls do consider of explaining your code and how it would help, so that others can get benefited from this."}], "tags": [], "owner": {"reputation": 1517, "user_id": 6076692, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/i5Cv9.jpg?s=128&g=1", "display_name": "Mohamed AbdelraZek", "link": "https://stackoverflow.com/users/6076692/mohamed-abdelrazek"}, "is_accepted": false, "score": 1, "last_activity_date": 1594640100, "last_edit_date": 1594640100, "creation_date": 1594588459, "answer_id": 62866519, "question_id": 45518139, "link": "https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity/62866519#62866519", "title": "Kotlin Android start new Activity", "body": "<p>another simple  way of navigating to another activity is</p>\n<pre><code>Intent(this, CodeActivity::class.java).apply {\n                    startActivity(this)\n                }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 91778, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 2, "creation_date": 1616032249, "post_id": 66675215, "comment_id": 117878980, "body": "Code dumps without any explanation are rarely helpful. Stack Overflow is about learning, not providing snippets to blindly copy and paste. Please <a href=\"https://stackoverflow.com/posts/66675215/edit\">edit</a> your question and explain how it works better than what the OP provided. See <a href=\"https://stackoverflow.com/questions/how-to-answer\">How to Answer</a>."}], "tags": [], "owner": {"reputation": 29, "user_id": 6453466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d0d68c33069308f3b36f0ee13dfe6ea?s=128&d=identicon&r=PG&f=1", "display_name": "Addy", "link": "https://stackoverflow.com/users/6453466/addy"}, "is_accepted": false, "score": 0, "last_activity_date": 1615991670, "creation_date": 1615991670, "answer_id": 66675215, "question_id": 45518139, "link": "https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity/66675215#66675215", "title": "Kotlin Android start new Activity", "body": "<pre><code>fun Context.launchActivity(\n    cls: Class&lt;*&gt;,\n    flags: Int = 0,\n    intentTransformer: Intent.() -&gt; Unit = {}\n) {\n    val intent = Intent(this, cls).apply {\n        addFlags(flags)\n        intentTransformer()\n    }\n    this.startActivity(intent)\n}\n</code></pre>\n"}], "owner": {"reputation": 1435, "user_id": 8084935, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/10211908509644982/picture?type=large", "display_name": "J Adonai Dagdag", "link": "https://stackoverflow.com/users/8084935/j-adonai-dagdag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 136603, "favorite_count": 14, "protected_date": 1516956176, "accepted_answer_id": 45518762, "answer_count": 18, "score": 112, "last_activity_date": 1615991670, "creation_date": 1501906574, "last_edit_date": 1583888537, "question_id": 45518139, "link": "https://stackoverflow.com/questions/45518139/kotlin-android-start-new-activity", "title": "Kotlin Android start new Activity", "body": "<p>I want to start another activity on Android but I get this error:</p>\n\n<blockquote>\n  <p>Please specify constructor invocation; classifier 'Page2' does not have a companion object</p>\n</blockquote>\n\n<p>after instantiating the <code>Intent</code> class. What should I do to correct the error? My code:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n\n    fun buTestUpdateText2 (view: View) {\n        val changePage = Intent(this, Page2) \n        // Error: \"Please specify constructor invocation; \n        // classifier 'Page2' does not have a companion object\"\n\n        startActivity(changePage)\n    }\n\n}\n</code></pre>\n"}, {"tags": ["kotlin", "rx-java"], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 1, "last_activity_date": 1501905364, "last_edit_date": 1501905364, "creation_date": 1501903877, "answer_id": 45517895, "question_id": 45517872, "link": "https://stackoverflow.com/questions/45517872/kotlin-how-to-create-an-alias-function-of-rxjava-flatmap/45517895#45517895", "title": "Kotlin - How to create an alias function of RxJava flatmap()?", "body": "<p>The <code>flatMap</code> takes a <code>java.util.function.Function</code>, the actually error is you didn't import the <code>java.util.function.Function</code> in your Kotlin file, but I don't suggest you use the <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged &#39;java-8&#39;\" rel=\"tag\">java-8</a> functions because you can't take advantage of the <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM Conversions</a> to use the lambda directly from the Kotlin code which defined with <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged &#39;java-8&#39;\" rel=\"tag\">java-8</a> functional interface as parameter type.</p>\n\n<p>You should replace <code>Function</code> with <code>Function1</code>, since the <code>Function</code> interface is a Kotlin <a href=\"https://stackoverflow.com/questions/4540820/if-a-marker-interface-does-not-have-any-methods-how-does-it-work\">marker interface</a> only. for example:</p>\n\n<pre><code>//                                  v--- use the `Function1&lt;T,R&gt;` here\nfun &lt;T, R&gt; Flowable&lt;T&gt;.then(mapper: Function1&lt;T, Publisher&lt;R&gt;&gt;): Flowable&lt;R&gt; {\n    return flatMap(mapper)\n}\n</code></pre>\n\n<p><strong>OR</strong> use the Kotlin <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-types\" rel=\"nofollow noreferrer\">function type</a> as below, for example:</p>\n\n<pre><code>//                                      v--- use the Kotlin function type here  \nfun &lt;T, R&gt; Flowable&lt;T&gt;.then(mapper: (T) -&gt; Publisher&lt;R&gt;): Flowable&lt;R&gt; {\n    return flatMap(mapper)\n}\n</code></pre>\n"}], "owner": {"reputation": 1652, "user_id": 3663635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ioKp.jpg?s=128&g=1", "display_name": "jaychang0917", "link": "https://stackoverflow.com/users/3663635/jaychang0917"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 521, "favorite_count": 0, "accepted_answer_id": 45517895, "answer_count": 1, "score": 3, "last_activity_date": 1501905364, "creation_date": 1501903662, "last_edit_date": 1501904449, "question_id": 45517872, "link": "https://stackoverflow.com/questions/45517872/kotlin-how-to-create-an-alias-function-of-rxjava-flatmap", "title": "Kotlin - How to create an alias function of RxJava flatmap()?", "body": "<p>I tried to create an alias function to <code>Flowable.flatmap()</code> as follow, but compile error.</p>\n\n<pre><code>fun &lt;T, R&gt; Flowable&lt;T&gt;.then(mapper: Function&lt;T, Publisher&lt;R&gt;&gt;): Flowable&lt;R&gt; {\n  return flatMap(mapper)\n}\n</code></pre>\n\n<p>The error is : <strong>One type argument expected for interface <code>Function&lt;out R&gt;</code> defined in kotlin</strong></p>\n\n<p>Have any idea? Thanks!</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1369, "user_id": 5994926, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/NqywN.jpg?s=128&g=1", "display_name": "Ryan Pierce", "link": "https://stackoverflow.com/users/5994926/ryan-pierce"}, "edited": false, "score": 0, "creation_date": 1501904717, "post_id": 45517341, "comment_id": 77997031, "body": "What is toStrubg()? Also why are you adding two longs and a string. I think your problem might be that you haven&#39;t proofread your code."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8419826, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-D1Tpia6wMLM/AAAAAAAAAAI/AAAAAAAAAFg/cQ8CMYUBaFw/photo.jpg?sz=128", "display_name": "Ubaid Ur Rehman", "link": "https://stackoverflow.com/users/8419826/ubaid-ur-rehman"}, "edited": false, "score": 0, "creation_date": 1501927103, "post_id": 45518533, "comment_id": 78001649, "body": "Its showing num1, num2, num3, result. Their references not found error"}], "tags": [], "owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "is_accepted": false, "score": 0, "last_activity_date": 1501910530, "creation_date": 1501910530, "answer_id": 45518533, "question_id": 45517341, "link": "https://stackoverflow.com/questions/45517341/adding-number-in-android-using-kotlin/45518533#45518533", "title": "Adding number in Android using Kotlin", "body": "<p>You say you are a newbie but that doesn't mean you will have to ignore the compiler or IDE errors. Clearly <code>toStrubg()</code> is not a keyword and your IDE will make you aware of that. Don't know what the rest of your code looks like so will help you with the <code>result.setOnClickListener</code>.</p>\n\n<p>Try this</p>\n\n<pre><code>result.setOnClickListener {\n        var result = input_num1.toString()?.toLong() +  input_num2.toString()?.toLong() + input_num3.toString()?.toLong()\n    }\n</code></pre>\n\n<p>Also I'll advise that you should try and learn Kotlin first before embarking on your Android development journey. Here are some links to help you.\n<a href=\"https://kotlinlang.org/docs/reference/\" rel=\"nofollow noreferrer\">Docs</a>\n<a href=\"https://try.kotlinlang.org\" rel=\"nofollow noreferrer\">try</a></p>\n"}], "owner": {"reputation": 1, "user_id": 8419826, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-D1Tpia6wMLM/AAAAAAAAAAI/AAAAAAAAAFg/cQ8CMYUBaFw/photo.jpg?sz=128", "display_name": "Ubaid Ur Rehman", "link": "https://stackoverflow.com/users/8419826/ubaid-ur-rehman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1536, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1501930274, "creation_date": 1501896204, "last_edit_date": 1501930274, "question_id": 45517341, "link": "https://stackoverflow.com/questions/45517341/adding-number-in-android-using-kotlin", "title": "Adding number in Android using Kotlin", "body": "<p>I am trying to add numbers with 3 EditTexts and I want to display it on text view with a calculate button but there's something wrong with Kotlin code as I'm newbie </p>\n\n<p>Here's my code:</p>\n\n<pre><code>class Add : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_adsense)\n        var input_num1 = num1\n        var input_num2 = numm2\n        var input_num3 = num3\n\n        result.setOnCLickListener {\n            var result = input_num1.toStrubg()?.toLong() +  input_num2.toStrubg()?.toLong() + input_num3.toLong()?.toString()\n        }\n    }\n}\n\n&lt;TextView\n    android:id=\"@+id/textView\"\n    android:textSize=\"20dp\" /&gt;\n\n&lt;EditText\n    android:id=\"@+id/num1\"\n    android:inputType=\"number\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/textView2\"\n    android:textSize=\"20dp\" /&gt;\n\n&lt;EditText\n    android:id=\"@+id/num2\"\n    android:inputType=\"numberDecimal\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/textView3\"\n    android:textSize=\"20dp\" /&gt;\n\n&lt;EditText\n    android:id=\"@+id/num3\"\n    android:inputType=\"numberDecimal\" /&gt;\n\n&lt;TextView\n    android:id=\"@+id/result\"\n    android:textSize=\"20dp\"\n    android:text=\"Result\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/Calculate\"\n    android:onClick=\"Calculate\"\n    android:text=\"Calculate\"\n    android:textSize=\"20dp\" /&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2", "dagger"], "comments": [{"owner": {"reputation": 1161, "user_id": 2508174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e55b10ba6ea26d3bad5529158997e0e1?s=128&d=identicon&r=PG", "display_name": "Benoit", "link": "https://stackoverflow.com/users/2508174/benoit"}, "edited": false, "score": 0, "creation_date": 1503070163, "post_id": 45516500, "comment_id": 78478327, "body": "Hey, I have the same question. Did you find any way to do it?"}, {"owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "reply_to_user": {"reputation": 1161, "user_id": 2508174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e55b10ba6ea26d3bad5529158997e0e1?s=128&d=identicon&r=PG", "display_name": "Benoit", "link": "https://stackoverflow.com/users/2508174/benoit"}, "edited": false, "score": 0, "creation_date": 1503087981, "post_id": 45516500, "comment_id": 78487527, "body": "yes, I did. Check my answer."}], "answers": [{"tags": [], "owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "is_accepted": true, "score": 1, "last_activity_date": 1503087959, "creation_date": 1503087959, "answer_id": 45764594, "question_id": 45516500, "link": "https://stackoverflow.com/questions/45516500/how-to-inject-mocks-with-dagger-2-11/45764594#45764594", "title": "How to inject mocks with Dagger 2.11", "body": "<p>I found a answer.</p>\n\n<p>I were changing the injectorComponent in my tests... Like this: </p>\n\n<pre><code>@Inject\nlateinit var someDependency: SomeDependency\n\nval app = instrumentation.targetContext.applicationContext as MyApplication\n\napp.injectorComponent = DaggerMockComponent.builder()\n                .mockModule(MockModule(app))\n                .build()\n\nif (null == mockComponent) {\n      mockComponent = app.injectorComponent as MockComponent\n      mockComponent!!.inject(this)\n}\n</code></pre>\n\n<p>My application were, more or less, like this:</p>\n\n<pre><code>open class MyApplication : Application(), HasActivityInjector {\n        @Inject\n        lateinit var androidInjector : DispatchingAndroidInjector&lt;Activity&gt;\n\n    lateinit var injectorComponent: InjectorComponent\n\n    override fun onCreate() {\n        super.onCreate()              \n\n        buildInjector()\n\n    }\n\n\n    open fun buildInjector() {\n        injectorComponent = DaggerInjectorComponent.builder()\n                .dataModule(DataModule())\n                .appModule(AppModule(this))\n                .trackerModule(TrackerModule(this, FirebaseAnalytics.getInstance(this)))\n                .build()\n    }\n\n    override fun activityInjector(): AndroidInjector&lt;Activity&gt; = androidInjector\n\n}\n</code></pre>\n\n<p>But now I am using a different Application for my tests where I extend the default Application (a TestApplication). In this application I construct a different injector:</p>\n\n<pre><code>class TestApplication : MyApplication() {\n\n    override fun buildInjector() {\n        injectorComponent = DaggerMockComponent.builder().mockModule(MockModule(this)).build()\n    }\n}\n</code></pre>\n\n<p>You will need create a MockComponent that extends the InjectorComponent and a MockModule that provides all the mocks that you need. </p>\n\n<p>Then in your test just do: </p>\n\n<pre><code>@Before\nfun setUp() {\n    val app = instrumentation.targetContext.applicationContext as TestApplication\n    (app.injectorComponent as MockComponent).inject(this)\n}\n</code></pre>\n\n<p>It works just fine! </p>\n"}], "owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 835, "favorite_count": 0, "accepted_answer_id": 45764594, "answer_count": 1, "score": 3, "last_activity_date": 1503087959, "creation_date": 1501886991, "question_id": 45516500, "link": "https://stackoverflow.com/questions/45516500/how-to-inject-mocks-with-dagger-2-11", "title": "How to inject mocks with Dagger 2.11", "body": "<p>I am trying to inject mocks using the Android Injector of Dagger 2.11. </p>\n\n<p>Before using the Android Inject I used to change the injector in the Application class so I can inject mocks. Like this:</p>\n\n<pre><code>class EGOApplication : Application() {\n\n    lateinit var injectorComponent: InjectorComponent\n\n\n    override fun onCreate() {\n        super.onCreate()\n\n        injectorComponent = DaggerInjectorComponent.builder()\n                .appModule(AppModule(this))               \n                .build()\n}\n</code></pre>\n\n<p>And in my tests I used to change the injectorComponent like this:</p>\n\n<pre><code>app.injectorComponent = DaggerMockComponent.builder()\n                .mockModule(MockModule(app))\n                .build()\n</code></pre>\n\n<p>And then I can inject my mocks from MockModule.</p>\n\n<p>But now I am using Android Injector form this tutorial: <a href=\"https://medium.com/@iammert/new-android-injector-with-dagger-2-part-1-8baa60152abe\" rel=\"nofollow noreferrer\">https://medium.com/@iammert/new-android-injector-with-dagger-2-part-1-8baa60152abe</a></p>\n\n<p>Well... now I inject my dependencies like this:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        AndroidInjection.inject(this)\n}\n</code></pre>\n\n<p>So my approach doesn't work anymore... <strong>How can I make Dagger injector dependencies from my MockModule?</strong></p>\n\n<p>Any help is appreciated!</p>\n"}, {"tags": ["android", "generics", "kotlin"], "comments": [{"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1501883191, "post_id": 45515624, "comment_id": 77993191, "body": "The single bang signifies a platform type in kotlin: <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}, {"owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "edited": false, "score": 0, "creation_date": 1528378301, "post_id": 45515624, "comment_id": 88492713, "body": "Google recommends never let ViewModel to know about Android classes, it&#39;s a bad practice. I&#39;m pretty sure there are better ways to do that without mixing it up. You can use ViewModel and still use onSaveInstanceState() and onCreate() to restore whatever you need. Letting the heavy stuff into ViewModel."}, {"owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "edited": false, "score": 0, "creation_date": 1528380838, "post_id": 45515624, "comment_id": 88494535, "body": "Is that approach recreating the ViewModel every time activity is recreated?"}], "answers": [{"comments": [{"owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "edited": false, "score": 0, "creation_date": 1501980529, "post_id": 45518290, "comment_id": 78015508, "body": "Thanks Alf! The code of yours got similar error:  Error:(32, 1) Class &#39;BundleAwareViewModelFactory&#39; must be declared abstract or implement abstract member public abstract fun &lt;T : ViewModel!&gt; create(p0: Class&lt;T!&gt;!): T! defined in android.arch.lifecycle.ViewModelProvider.Factory Error:(40, 5) &#39;create&#39; overrides nothing Error:(41, 34) Type parameter bound for T in fun &lt;T : ViewModel!&gt; create(p0: Class&lt;T!&gt;!): T!  is not satisfied: inferred type CapturedTypeConstructor(*) is not a subtype of ViewModel!"}], "tags": [], "owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "is_accepted": false, "score": 0, "last_activity_date": 1501908219, "creation_date": 1501908219, "answer_id": 45518290, "question_id": 45515624, "link": "https://stackoverflow.com/questions/45515624/what-is-this-error-mean-when-convert-from-java-code-with-generic-to-kotlin-sing/45518290#45518290", "title": "what is this error mean when convert from java code with generic to kotlin, single ban after the T?", "body": "<p><code>T!</code> is a platform type. What it means is that, Kotlin isn't aware of how the final value will turn out to be, whether null or not so it leaves it to you to decide. For your code, try this.</p>\n\n<pre><code>class BundleAwareViewModelFactory&lt;T : ParcelableViewModel&gt;(bundle:Bundle?,\n                                                                    provider:ViewModelProvider.Factory):ViewModelProvider.Factory {\n  private val bundle:Bundle?\n  private val provider:ViewModelProvider.Factory\n  init{\n    this.bundle = bundle\n    this.provider = provider\n  }\n  override fun create(modelClass:Class&lt;*&gt;):T {\n    val viewModel = provider.create(modelClass) as T\n    if (bundle != null)\n    {\n      viewModel.readFrom(bundle)\n    }\n    return viewModel\n  }\n}\nabstract class ParcelableViewModel:ViewModel() {\n  abstract fun writeTo(@NonNull bundle:Bundle)\n  abstract fun readFrom(@NonNull bundle:Bundle)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "is_accepted": true, "score": 0, "last_activity_date": 1502065376, "last_edit_date": 1502065376, "creation_date": 1502064251, "answer_id": 45537798, "question_id": 45515624, "link": "https://stackoverflow.com/questions/45515624/what-is-this-error-mean-when-convert-from-java-code-with-generic-to-kotlin-sing/45537798#45537798", "title": "what is this error mean when convert from java code with generic to kotlin, single ban after the T?", "body": "<p>got a working version, but not sure how it could be made better:</p>\n\n<pre><code>class BundleAwareViewModelFactory&lt;T : ParcelableViewModel&gt;(private val bundle: Bundle?,\n                                                       private val provider: \nViewModelProvider.Factory) : ViewModelProvider.Factory {\noverride fun &lt;T : ViewModel&gt;create(modelClass: Class&lt;T&gt;): T {\n    val viewModel : T = provider.create(modelClass) as T\n\n    if (bundle != null &amp;&amp; viewModel is ParcelableViewModel) {\n        viewModel.readFrom(bundle)\n    }\n    return viewModel\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 6667, "user_id": 2987953, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/c2a6cba46cf5f4c9c7338f324a1d7732?s=128&d=identicon&r=PG&f=1", "display_name": "lannyf", "link": "https://stackoverflow.com/users/2987953/lannyf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 992, "favorite_count": 0, "accepted_answer_id": 45537798, "answer_count": 2, "score": 1, "last_activity_date": 1502065376, "creation_date": 1501881371, "last_edit_date": 1501911363, "question_id": 45515624, "link": "https://stackoverflow.com/questions/45515624/what-is-this-error-mean-when-convert-from-java-code-with-generic-to-kotlin-sing", "title": "what is this error mean when convert from java code with generic to kotlin, single ban after the T?", "body": "<p>trying to convert some java code to kotlin, and having problem with the ones with generic type.</p>\n\n<p>one sample here is the java code from Danny Preussler\u2019s post Of Bundles and ViewModels:\n<a href=\"https://proandroiddev.com/customizing-the-new-viewmodel-cf28b8a7c5fc\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>class BundleAwareViewModelFactory&lt;T extends ParcelableViewModel&gt; implements ViewModelProvider.Factory {\n    private final Bundle bundle;\n    private final ViewModelProvider.Factory provider;\n    public BundleAwareViewModelFactory(@Nullable Bundle bundle,\n                                   ViewModelProvider.Factory provider) {\n        this.bundle = bundle;\n        this.provider = provider;\n    }\n    @SuppressWarnings(\"unchecked\")\n    @Override\n    public T create(final Class modelClass) {\n        T viewModel = (T) provider.create(modelClass);\n        if (bundle != null) {\n            viewModel.readFrom(bundle);\n        }\n        return viewModel;\n    }\n}\n\npublic abstract class ParcelableViewModel extends ViewModel {\n\n    public abstract void writeTo(@NonNull Bundle bundle);\n    public abstract void readFrom(@NonNull Bundle bundle);\n}\n</code></pre>\n\n<p>trying to convert the code snippet into kotlin code, not be able do it right so using the android studio IDE to do it and get this result, still it shows compiler error:</p>\n\n<p>Error:(24, 1) Class 'BundleAwareViewModelFactory' must be declared abstract or implement abstract member public abstract fun  create(p0: Class!): T! defined in android.arch.lifecycle.ViewModelProvider.Factory</p>\n\n<p>Error:(28, 34) Type parameter bound for T in fun  create(p0: Class!): T!\n is not satisfied: inferred type CapturedTypeConstructor(*) is not a subtype of ViewModel!</p>\n\n<pre><code>class BundleAwareViewModelFactory&lt;T : ParcelableViewModel&gt;(@param:Nullable private val bundle: Bundle?, \n                                                                private val provider: ViewModelProvider.Factory) : \n        ViewModelProvider.Factory {\n    override fun create(modelClass: Class&lt;*&gt;): T {\n        val viewModel = provider.create(modelClass) as T\n        if (bundle != null) {\n            viewModel.readFrom(bundle)\n        }\n        return viewModel\n    }\n}\n\nabstract class ParcelableViewModel : ViewModel() {\n\n    abstract fun writeTo(bundle: Bundle)\n    abstract fun readFrom(bundle: Bundle)\n}\n</code></pre>\n\n<p>what does the single ban T! mean?\nwhat does the error means or how those generic to be presented in the kotlin, or any post talks about the generic in kotlin?</p>\n"}, {"tags": ["android", "kotlin", "viewmodel", "android-architecture-components"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1501877612, "post_id": 45514723, "comment_id": 77990972, "body": "you are doing a dangerous working... the client code expect a <code>T extends ViewModel</code> but you give a <code>MyViewModel</code>. when the client code use a specific  type of <code>T</code> you always got a <code>ClassCastException</code>, e.g: <code>val model:T = factory.create(T::class.java)</code>"}, {"owner": {"reputation": 11689, "user_id": 563904, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0668bb28edd4ea4e18f07b7e416fc7d?s=128&d=identicon&r=PG", "display_name": "Entreco", "link": "https://stackoverflow.com/users/563904/entreco"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501878651, "post_id": 45514723, "comment_id": 77991384, "body": "That&#39;s why I would like to know an alternate approach :)"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1501884335, "post_id": 45514723, "comment_id": 77993532, "body": "you can use reflection to instantiate the <code>ViewModel</code> or use the 3rd IoC container to create the <code>ViewModel</code>."}], "answers": [{"comments": [{"owner": {"reputation": 11689, "user_id": 563904, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0668bb28edd4ea4e18f07b7e416fc7d?s=128&d=identicon&r=PG", "display_name": "Entreco", "link": "https://stackoverflow.com/users/563904/entreco"}, "edited": false, "score": 0, "creation_date": 1501921925, "post_id": 45517555, "comment_id": 78000398, "body": "Since this should be called very rarely, the cost of reflection seems reasonable. Would have hoped for some funky Kotlin goodies, but this will do. Thanks!"}, {"owner": {"reputation": 11627, "user_id": 2602791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db72b53576b82f4fa30f46bfc8438937?s=128&d=identicon&r=PG", "display_name": "BladeCoder", "link": "https://stackoverflow.com/users/2602791/bladecoder"}, "reply_to_user": {"reputation": 11689, "user_id": 563904, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0668bb28edd4ea4e18f07b7e416fc7d?s=128&d=identicon&r=PG", "display_name": "Entreco", "link": "https://stackoverflow.com/users/563904/entreco"}, "edited": false, "score": 1, "creation_date": 1501976547, "post_id": 45517555, "comment_id": 78014814, "body": "Kotlin goodies like reified generic types are unfortunately not available in this case. Because of  type erasure, you can only force cast or use reflection. Also, the default factory already uses reflection to invoke the empty public constructor so the cost would be about the same."}], "tags": [], "owner": {"reputation": 11627, "user_id": 2602791, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db72b53576b82f4fa30f46bfc8438937?s=128&d=identicon&r=PG", "display_name": "BladeCoder", "link": "https://stackoverflow.com/users/2602791/bladecoder"}, "is_accepted": true, "score": 12, "last_activity_date": 1501898720, "creation_date": 1501898720, "answer_id": 45517555, "question_id": 45514723, "link": "https://stackoverflow.com/questions/45514723/android-viewmodelproviderfactory-in-kotlin/45517555#45517555", "title": "Android ViewModelProviderFactory in kotlin", "body": "<p>You could write:</p>\n\n<pre><code>class MyFactory(val handler: Handler) : ViewModelProvider.Factory {\n    override fun &lt;T : ViewModel&gt; create(modelClass: Class&lt;T&gt;): T {\n        return modelClass.getConstructor(Handler::class.java).newInstance(handler)\n    }\n}\n</code></pre>\n\n<p>This will work with any class accepting a <code>Handler</code> as constructor argument and will throw <code>NoSuchMethodException</code> if the class doesn't have the proper constructor.</p>\n"}], "owner": {"reputation": 11689, "user_id": 563904, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0668bb28edd4ea4e18f07b7e416fc7d?s=128&d=identicon&r=PG", "display_name": "Entreco", "link": "https://stackoverflow.com/users/563904/entreco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2637, "favorite_count": 2, "accepted_answer_id": 45517555, "answer_count": 1, "score": 8, "last_activity_date": 1501898720, "creation_date": 1501877186, "question_id": 45514723, "link": "https://stackoverflow.com/questions/45514723/android-viewmodelproviderfactory-in-kotlin", "title": "Android ViewModelProviderFactory in kotlin", "body": "<p>I'm experimenting with the <a href=\"https://developer.android.com/topic/libraries/architecture/index.html\" rel=\"noreferrer\">Architecture Components</a> from Google. Specifically I want to implement a <a href=\"https://developer.android.com/reference/android/arch/lifecycle/ViewModelProvider.Factory.html\" rel=\"noreferrer\">ViewModelProvider.Factory</a> to create a ViewModel that takes constructor parameters, like so:</p>\n\n<pre><code>class MyFactory(val handler: Handler) : ViewModelProvider.Factory {\n    override fun &lt;T : ViewModel?&gt; create(modelClass: Class&lt;T&gt;?): T {\n        return MyViewModel(handler) as T\n    }\n}\n</code></pre>\n\n<p>My ViewModel looks like this:</p>\n\n<pre><code>class MyViewModel(val handler: Handler) : ViewModel() \n</code></pre>\n\n<p>Anyone knows how to avoid the nasty cast in the end :</p>\n\n<pre><code>return MyViewModel(handler) as T\n</code></pre>\n"}, {"tags": ["android", "android-viewpager", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 21, "creation_date": 1501872635, "post_id": 45513456, "comment_id": 77988472, "body": "<i>1 tip</i>: when you don&#39;t know how to do it? keep the cursor here and press <code>CTRL+SHIFT+SPACE</code>."}, {"owner": {"reputation": 9509, "user_id": 1380032, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/56881b805678c0352d3d4f92a908ffbf?s=128&d=identicon&r=PG", "display_name": "Rahul", "link": "https://stackoverflow.com/users/1380032/rahul"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501872700, "post_id": 45513456, "comment_id": 77988505, "body": "@holi-java Thank you for this tip."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501872734, "post_id": 45513456, "comment_id": 77988528, "body": "Not at all. I think it is useful for you. :)"}, {"owner": {"reputation": 9509, "user_id": 1380032, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/56881b805678c0352d3d4f92a908ffbf?s=128&d=identicon&r=PG", "display_name": "Rahul", "link": "https://stackoverflow.com/users/1380032/rahul"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501872763, "post_id": 45513456, "comment_id": 77988540, "body": "Yes, it is useful for me"}, {"owner": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "edited": false, "score": 2, "creation_date": 1501874577, "post_id": 45513456, "comment_id": 77989472, "body": "Or, you can write it in Java way in a Java file and copy paste the code to a Kotlin file. It automagically converts the Java code to Kotlin."}, {"owner": {"reputation": 9509, "user_id": 1380032, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/56881b805678c0352d3d4f92a908ffbf?s=128&d=identicon&r=PG", "display_name": "Rahul", "link": "https://stackoverflow.com/users/1380032/rahul"}, "reply_to_user": {"reputation": 11733, "user_id": 4586742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QRXQc.jpg?s=128&g=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/4586742/bob"}, "edited": false, "score": 0, "creation_date": 1501874650, "post_id": 45513456, "comment_id": 77989512, "body": "Yes I agree @Bob, I was trying to do by own :)"}], "tags": [], "owner": {"reputation": 9509, "user_id": 1380032, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/56881b805678c0352d3d4f92a908ffbf?s=128&d=identicon&r=PG", "display_name": "Rahul", "link": "https://stackoverflow.com/users/1380032/rahul"}, "is_accepted": true, "score": 100, "last_activity_date": 1501871686, "creation_date": 1501871686, "answer_id": 45513456, "question_id": 45513455, "link": "https://stackoverflow.com/questions/45513455/kotlin-how-to-add-onpagechangelistener-in-viewpager/45513456#45513456", "title": "Kotlin - How to add OnPageChangeListener in ViewPager", "body": "<p>I found it is quite simple, but it took my time as I am new in kotlin. I hope it will save others time one day.</p>\n\n<pre><code>viewPager?.addOnPageChangeListener(object : ViewPager.OnPageChangeListener {\n\n            override fun onPageScrollStateChanged(state: Int) {\n            }\n\n            override fun onPageScrolled(position: Int, positionOffset: Float, positionOffsetPixels: Int) {\n\n            }\n            override fun onPageSelected(position: Int) {\n\n            }\n\n        })\n</code></pre>\n\n<p>or we can implement <code>ViewPager.OnPageChangeListener</code> in our <code>Activity</code> or <code>Fragment</code> then just use <code>viewPager?.addOnPageChangeListener(this)</code> but make sure to implement overrided methods.</p>\n"}, {"tags": [], "owner": {"reputation": 497, "user_id": 1394348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/148d56683465ba9dfdd12b589b40085d?s=128&d=identicon&r=PG", "display_name": "themichaelscott", "link": "https://stackoverflow.com/users/1394348/themichaelscott"}, "is_accepted": false, "score": 4, "last_activity_date": 1519460831, "creation_date": 1519460831, "answer_id": 48960889, "question_id": 45513455, "link": "https://stackoverflow.com/questions/45513455/kotlin-how-to-add-onpagechangelistener-in-viewpager/48960889#48960889", "title": "Kotlin - How to add OnPageChangeListener in ViewPager", "body": "<p>If you'd like to leverage the power of Kotlin one step further, you could simplify usage of the <code>ViewPager.OnPageChangeListener</code> by creating your own custom listener for each of the three methods.  Each listener handles one of the actions defined in the <code>OnPageChangedListener: onPageScrolled(), onPageSelected() and onPageScrollStateChanged()</code>.\nUsually you are only overriding one of the methods anyway and this way you can quickly add an implementation that does what you want to do without worrying about the other two methods.  This is similar to what Butterknife was accomplishing with its annotations <code>@OnPageSelected</code>, etc.</p>\n\n<p>To do this, create the class(es) you'd like to use:</p>\n\n<pre><code>// ViewPagerOnPageSelected.kt\nclass ViewPagerOnPageSelected(private val pageSelected: (Int) -&gt; Unit = {}) : ViewPager.OnPageChangeListener {\n\n    override fun onPageScrolled(position: Int, positionOffset: Float, positionOffsetPixels: Int) {}\n\n    override fun onPageSelected(position: Int) {\n        pageSelected(position)\n    }\n\n    override fun onPageScrollStateChanged(state: Int) {}\n}\n\n// ViewPagerOnPageScrolled.kt\nclass ViewPagerOnPageScrolled(private val pageScrolled: (Int, Float, Int) -&gt; Unit = { _, _, _ -&gt; }) : ViewPager.OnPageChangeListener {\n\n    override fun onPageScrolled(position: Int, positionOffset: Float, positionOffsetPixels: Int) {\n        pageScrolled(position, positionOffset, positionOffsetPixels)\n    }\n\n    override fun onPageSelected(position: Int) {}\n\n    override fun onPageScrollStateChanged(state: Int) {}\n}\n\n// ViewPagerScrollStateChanged.kt\nclass ViewPagerScrollStateChanged(private val pageScrollStateChanged: (Int) -&gt; Unit = {}) : ViewPager.OnPageChangeListener {\n\n    override fun onPageScrolled(position: Int, positionOffset: Float, positionOffsetPixels: Int) {}\n\n    override fun onPageSelected(position: Int) {}\n\n    override fun onPageScrollStateChanged(state: Int) {\n        pageScrollStateChanged(state)\n    }\n}\n</code></pre>\n\n<p>Now that you have your classes (or be honest, the one most used is <code>onPageSelected()</code>, so you could just create that one) you can implement them in your Activity.</p>\n\n<pre><code>// MyActivity.kt \nviewPager.addOnPageChangeListener(ViewPagerOnPageSelected(this@MyActivity::onPageSelected))\n\nprivate fun onPageSelected(position: Int) {\n    // add your code here\n}\n</code></pre>\n\n<p>You can even add a second or third listener</p>\n\n<pre><code>// MyActivity.kt \nviewPager.addOnPageChangeListener(ViewPagerOnPageSelected(this@MyActivity::onPageSelected))\nviewPager.addOnPageChangeListener(ViewPagerScrollStateChanged(this@MyActivity::onPageScrollStateChanged))\n\nprivate fun onPageSelected(position: Int) {\n    // add your code here\n}\n\nprivate fun onPageScrollStateChanged(state: Int) {\n    // add your code here\n}\n</code></pre>\n\n<p>Kotlin is great for this but it applies not only to the ViewPager listener but for any Android interface that requires multiple methods to be overridden even though you only care to override one.</p>\n\n<p>Note:\nDon't forget that the listener's onPageSelected() doesn't get called on the initial startup so if you'd like to take action on the first page you'll need to do it outside of this listener method.</p>\n\n<p>Good luck!!!</p>\n"}, {"tags": [], "owner": {"reputation": 5159, "user_id": 2219237, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/815fb1292fef4b93fdeb031bdbbb32a9?s=128&d=identicon&r=PG", "display_name": "Vasily Kabunov", "link": "https://stackoverflow.com/users/2219237/vasily-kabunov"}, "is_accepted": false, "score": 6, "last_activity_date": 1575436121, "creation_date": 1575436121, "answer_id": 59169287, "question_id": 45513455, "link": "https://stackoverflow.com/questions/45513455/kotlin-how-to-add-onpagechangelistener-in-viewpager/59169287#59169287", "title": "Kotlin - How to add OnPageChangeListener in ViewPager", "body": "<p>Since most of the times we need to override only one of three <code>ViewPager.OnPageChangeListener</code>'s methods (usually <code>onPageSelected</code>), this might be useful to reduce the code:</p>\n\n<pre><code>viewPager?.addOnPageChangeListener(object : ViewPager.SimpleOnPageChangeListener() {\n\n    //override only methods you need, not all of them\n\n    override fun onPageSelected(position: Int) {\n\n    }\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1009, "user_id": 6845131, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/9800d8a818df2a7c3a0b87b3f89b35ae?s=128&d=identicon&r=PG&f=1", "display_name": "Vishist Varugeese", "link": "https://stackoverflow.com/users/6845131/vishist-varugeese"}, "is_accepted": false, "score": 4, "last_activity_date": 1615804382, "last_edit_date": 1615804382, "creation_date": 1602331028, "answer_id": 64293155, "question_id": 45513455, "link": "https://stackoverflow.com/questions/45513455/kotlin-how-to-add-onpagechangelistener-in-viewpager/64293155#64293155", "title": "Kotlin - How to add OnPageChangeListener in ViewPager", "body": "<p>For <strong>ViewPager2</strong> you can do it using <code>OnPageChangeCallBack</code>,</p>\n<pre><code>viewPager2?.registerOnPageChangeCallback(object : ViewPager2.OnPageChangeCallback() {\n        override fun onPageSelected(position: Int) {\n            super.onPageSelected(position)\n        }\n\n        override fun onPageScrollStateChanged(state: Int) {\n            super.onPageScrollStateChanged(state)\n        }\n\n        override fun onPageScrolled(position: Int,\n                                    positionOffset: Float,\n                                    positionOffsetPixels: Int) {\n            super.onPageScrolled(position, positionOffset, positionOffsetPixels)\n        }\n    })\n</code></pre>\n"}], "owner": {"reputation": 9509, "user_id": 1380032, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/56881b805678c0352d3d4f92a908ffbf?s=128&d=identicon&r=PG", "display_name": "Rahul", "link": "https://stackoverflow.com/users/1380032/rahul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20812, "favorite_count": 5, "accepted_answer_id": 45513456, "answer_count": 4, "score": 37, "last_activity_date": 1615804382, "creation_date": 1501871686, "question_id": 45513455, "link": "https://stackoverflow.com/questions/45513455/kotlin-how-to-add-onpagechangelistener-in-viewpager", "title": "Kotlin - How to add OnPageChangeListener in ViewPager", "body": "<p>I am new in kotlin, How can I add <code>OnPageChangeListener</code> in a <code>ViewPager</code>.</p>\n\n<pre><code>viewPager?.addOnPageChangeListener // Now how can I add listener to it.\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-espresso"], "comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501878133, "post_id": 45513348, "comment_id": 77991172, "body": "there is no problem of the junit4 rules  &amp; static setUp . maybe the activity is destroyed by <code>ActvityTestRule</code>."}], "answers": [{"tags": [], "owner": {"reputation": 604, "user_id": 2113970, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BsCjm.jpg?s=128&g=1", "display_name": "Derek Fredrickson", "link": "https://stackoverflow.com/users/2113970/derek-fredrickson"}, "is_accepted": false, "score": 2, "last_activity_date": 1504895961, "creation_date": 1504895961, "answer_id": 46122717, "question_id": 45513348, "link": "https://stackoverflow.com/questions/45513348/android-espresso-how-to-run-setup-only-once-for-all-tests/46122717#46122717", "title": "Android Espresso - how to run setup only once for all tests", "body": "<p>This is by design. </p>\n\n<blockquote>\n  <p>This rule provides functional testing of a single activity. The activity under test will be launched before each test annotated with @Test and before any method annotated with @Before. It will be terminated after the test is completed and all methods annotated with @After are finished. The activity under test can be accessed during your test by calling ActivityTestRule.getActivity().</p>\n</blockquote>\n\n<p>Source: <a href=\"https://developer.android.com/training/testing/junit-rules.html\" rel=\"nofollow noreferrer\">JUnit4 Rules</a></p>\n\n<p>You might be able to get around it by making a custom rule. Otherwise, you could create a single <code>@Test</code> and put each of your assertions inside it. To keep your general format, you could put your assertions in separate private functions.</p>\n\n<p>For example:</p>\n\n<pre><code>@Test\nfun testLoginPage() {\n    testLoginButtonIsDisplayed()\n    // call other private functions\n}\n\nprivate fun testLoginButtonIsDisplayed() {\n    loginPage.loginButton.check(matches(isDisplayed()))\n}\n\n//  add other private functions\n</code></pre>\n"}], "owner": {"reputation": 1323, "user_id": 4713905, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/4ea89ed7f9c7b840122af32fecd3d11e?s=128&d=identicon&r=PG&f=1", "display_name": "reutsey", "link": "https://stackoverflow.com/users/4713905/reutsey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1538, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1504895961, "creation_date": 1501871280, "last_edit_date": 1501872080, "question_id": 45513348, "link": "https://stackoverflow.com/questions/45513348/android-espresso-how-to-run-setup-only-once-for-all-tests", "title": "Android Espresso - how to run setup only once for all tests", "body": "<p>I am using Espresso/Kotlin to run tests for our Android Application and I want to run the setup once for all tests in the given test class.  </p>\n\n<p>I created a companion object to launch the application once (which it does), however it then closes and doesn't stay open while each test runs.</p>\n\n<p><a href=\"https://i.stack.imgur.com/LHksR.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/LHksR.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I have it launch the application, run all the tests in the test class, then close the application?</p>\n\n<p>I also tried the following, but it still launches once then closes, then tries running the tests:\n<a href=\"https://i.stack.imgur.com/MhY4w.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MhY4w.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "sqlite", "kotlin"], "comments": [{"owner": {"reputation": 1523, "user_id": 5877632, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SzYmPfCOr-w/AAAAAAAAAAI/AAAAAAAAADk/6lXakT4ia3Q/photo.jpg?sz=128", "display_name": "Bruno Ferreira", "link": "https://stackoverflow.com/users/5877632/bruno-ferreira"}, "edited": false, "score": 2, "creation_date": 1501869617, "post_id": 45512935, "comment_id": 77986999, "body": "post database code here."}, {"owner": {"reputation": 186087, "user_id": 575376, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/LnDUq.gif?s=128&g=1", "display_name": "juergen d", "link": "https://stackoverflow.com/users/575376/juergen-d"}, "edited": false, "score": 0, "creation_date": 1501869829, "post_id": 45512935, "comment_id": 77987114, "body": "The error message is obvious. There is no such table. Did you create the tables before?"}, {"owner": {"reputation": 3, "user_id": 8418786, "user_type": "registered", "profile_image": "https://graph.facebook.com/1684460081862369/picture?type=large", "display_name": "Shimaa Taha", "link": "https://stackoverflow.com/users/8418786/shimaa-taha"}, "edited": false, "score": 0, "creation_date": 1501870016, "post_id": 45512935, "comment_id": 77987216, "body": "I updated the question, and I&#39;m new in programming it&#39;s my first table :)"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501870431, "post_id": 45512935, "comment_id": 77987391, "body": "there are many obscure code in your question, :). you should point out where does the code is failed and with its stacktrace."}, {"owner": {"reputation": 3, "user_id": 8418786, "user_type": "registered", "profile_image": "https://graph.facebook.com/1684460081862369/picture?type=large", "display_name": "Shimaa Taha", "link": "https://stackoverflow.com/users/8418786/shimaa-taha"}, "edited": false, "score": 0, "creation_date": 1501870808, "post_id": 45512935, "comment_id": 77987579, "body": "the code failed when I enter the title and desc in the app, and when I click add note button it added into the database and then the app failed."}, {"owner": {"reputation": 10385, "user_id": 4032703, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8imMA.png?s=128&g=1", "display_name": "EJoshuaS - Reinstate Monica", "link": "https://stackoverflow.com/users/4032703/ejoshuas-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1501875810, "post_id": 45512935, "comment_id": 77990113, "body": "Please see: <a href=\"https://meta.stackoverflow.com/questions/354427/how-do-i-avoid-misusing-tags\">How do I avoid misusing tags?</a>"}, {"owner": {"reputation": 3, "user_id": 8418786, "user_type": "registered", "profile_image": "https://graph.facebook.com/1684460081862369/picture?type=large", "display_name": "Shimaa Taha", "link": "https://stackoverflow.com/users/8418786/shimaa-taha"}, "edited": false, "score": 0, "creation_date": 1501876165, "post_id": 45512935, "comment_id": 77990289, "body": "Am I misusing tags ?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8418786, "user_type": "registered", "profile_image": "https://graph.facebook.com/1684460081862369/picture?type=large", "display_name": "Shimaa Taha", "link": "https://stackoverflow.com/users/8418786/shimaa-taha"}, "edited": false, "score": 0, "creation_date": 1501878096, "post_id": 45514818, "comment_id": 77991152, "body": "I tried to uninstall and reinstall the app and it didnt work"}, {"owner": {"reputation": 3, "user_id": 8418786, "user_type": "registered", "profile_image": "https://graph.facebook.com/1684460081862369/picture?type=large", "display_name": "Shimaa Taha", "link": "https://stackoverflow.com/users/8418786/shimaa-taha"}, "edited": false, "score": 0, "creation_date": 1501879512, "post_id": 45514818, "comment_id": 77991813, "body": "Thanks for help :)"}], "tags": [], "owner": {"reputation": 136101, "user_id": 101361, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fb0da94b98f64b5b8f12caeb3a049b80?s=128&d=identicon&r=PG", "display_name": "laalto", "link": "https://stackoverflow.com/users/101361/laalto"}, "is_accepted": false, "score": 2, "last_activity_date": 1501877592, "creation_date": 1501877592, "answer_id": 45514818, "question_id": 45512935, "link": "https://stackoverflow.com/questions/45512935/error-in-my-first-table-in-kotlin/45514818#45514818", "title": "Error in my first table in kotlin", "body": "<p>Your database version is already at 4 but your <code>onUpgrade</code> merely drops the table but does not create the required tables.</p>\n\n<p>If you want data-losing upgrades, you can just invoke <code>onCreate</code> in <code>onUpgrade</code> after dropping old tables. Or at development time, it's often just easier to uninstall and reinstall your app. See <a href=\"https://stackoverflow.com/questions/21881992/when-is-sqliteopenhelper-oncreate-onupgrade-run\">When is SQLiteOpenHelper onCreate() / onUpgrade() run?</a> for more about how <code>SQLiteOpenHelper</code> works.</p>\n"}, {"tags": [], "owner": {"reputation": 9958, "user_id": 2503185, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uQ8kr.jpg?s=128&g=1", "display_name": "Evin1_", "link": "https://stackoverflow.com/users/2503185/evin1"}, "is_accepted": true, "score": 0, "last_activity_date": 1501878253, "creation_date": 1501878253, "answer_id": 45514953, "question_id": 45512935, "link": "https://stackoverflow.com/questions/45512935/error-in-my-first-table-in-kotlin/45514953#45514953", "title": "Error in my first table in kotlin", "body": "<p>@laalto is right, you need to re-create your table once you've dropped it, you need to add a call to <code>onCreate(p0)</code> inside your <code>onUpgrade()</code> method.</p>\n\n<hr>\n\n<p>I removed a couple of unneeded fields on your class, this is how it looks now:</p>\n\n<pre><code>class DbManger(context: Context) {\n    val dbName = \"MyNotes\"\n    val dbTable = \"Notes\"\n    val colID = \"ID\"\n    val colTitle = \"Title\"\n    val colDesc = \"Desc\"\n    var dbVer = 4\n\n    val sqlCreateTable = \"CREATE TABLE IF NOT EXISTS $dbTable($colID INTEGER PRIMARY KEY,$colTitle TEXT,$colDesc TEXT);\"\n    var sqlDataBase: SQLiteDatabase? = null\n\n    inner class dbHelperNotes(val context: Context) : SQLiteOpenHelper(context, dbName, null, dbVer) {\n        override fun onCreate(database: SQLiteDatabase?) {\n            database?.execSQL(sqlCreateTable)\n            Toast.makeText(context, \"Database is created\", Toast.LENGTH_LONG).show()\n        }\n\n        override fun onUpgrade(database: SQLiteDatabase?, oldVersion: Int, newVersion: Int) {\n            database?.execSQL(\"drop table IF EXISTS \" + dbTable)\n            onCreate(database)\n        }\n    }\n\n    fun insert(values: ContentValues): Long {\n        val id = sqlDataBase!!.insert(dbTable, \"\", values)\n        return id\n    }\n\n    init {\n        val db = dbHelperNotes(context)\n        sqlDataBase = db.writableDatabase\n    }\n}\n</code></pre>\n\n<p>I believe you also have a typo on your class name, should be 'DbManager'.</p>\n"}], "owner": {"reputation": 3, "user_id": 8418786, "user_type": "registered", "profile_image": "https://graph.facebook.com/1684460081862369/picture?type=large", "display_name": "Shimaa Taha", "link": "https://stackoverflow.com/users/8418786/shimaa-taha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 963, "favorite_count": 0, "accepted_answer_id": 45514953, "answer_count": 2, "score": -2, "last_activity_date": 1501878253, "creation_date": 1501869546, "last_edit_date": 1501875806, "question_id": 45512935, "link": "https://stackoverflow.com/questions/45512935/error-in-my-first-table-in-kotlin", "title": "Error in my first table in kotlin", "body": "<p>I'm facing a problem when I try to insert a column in the database using Kotlin in Android.</p>\n\n<p>This is the error:</p>\n\n<blockquote>\n  <p>08-04 19:45:03.781 14302-14302/com.example.hello.note E/Zygote: v2\n  08-04 19:45:03.781 14302-14302/com.example.hello.note E/Zygote: accessInfo : 0\n  08-04 19:45:20.471 14302-14302/com.example.hello.note E/Qmage: isQIO : stream is not a QIO file\n  08-04 19:45:20.521 14302-14302/com.example.hello.note E/Qmage: isQIO : stream is not a QIO file\n  08-04 19:45:20.531 14302-14302/com.example.hello.note E/Qmage: isQIO : stream is not a QIO file\n  08-04 19:45:20.541 14302-14302/com.example.hello.note E/MotionRecognitionManager: mSContextService = null\n  08-04 19:45:20.541 14302-14302/com.example.hello.note E/MotionRecognitionManager: motionService = com.samsung.android.motion.IMotionRecognitionService$Stub$Proxy@78b77\n  08-04 19:45:47.991 14302-14302/com.example.hello.note E/Qmage: isQIO : stream is not a QIO file\n  08-04 19:45:47.991 14302-14302/com.example.hello.note E/Qmage: isQIO : stream is not a QIO file\n  08-04 19:45:47.991 14302-14302/com.example.hello.note E/Qmage: isQIO : stream is not a QIO file\n  08-04 19:47:40.311 14302-14302/com.example.hello.note E/Qmage: isQIO : stream is not a QIO file\n  08-04 19:48:14.131 14302-14302/com.example.hello.note E/SQLiteLog: (1) no such table: Notes\n  08-04 19:48:14.141 14302-14302/com.example.hello.note E/SQLiteDatabase: Error inserting Title=note Desc=desc\n                                                                          android.database.sqlite.SQLiteException: no such table: Notes (code 1): , while compiling: INSERT INTO Notes(Title,Desc) VALUES (?,?)\n                                                                          #################################################################\n                                                                          Error Code : 1 (SQLITE_ERROR)\n                                                                          Caused By : SQL(query) error or missing database.\n                                                                              (no such table: Notes (code 1): , while compiling: INSERT INTO Notes(Title,Desc) VALUES (?,?))\n                                                                          #################################################################\n                                                                              at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\n                                                                              at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:1004)\n                                                                              at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:569)\n                                                                              at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)\n                                                                              at android.database.sqlite.SQLiteProgram.(SQLiteProgram.java:59)\n                                                                              at android.database.sqlite.SQLiteStatement.(SQLiteStatement.java:31)\n                                                                              at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1633)\n                                                                              at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1505)\n                                                                              at com.example.hello.note.DbManger.Insert(DbManger.kt:40)\n                                                                              at com.example.hello.note.addNotes.buAdd(addNotes.kt:24)\n                                                                              at java.lang.reflect.Method.invoke(Native Method)\n                                                                              at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:288)\n                                                                              at android.view.View.performClick(View.java:5721)\n                                                                              at android.widget.TextView.performClick(TextView.java:10931)\n                                                                              at android.view.View$PerformClick.run(View.java:22620)\n                                                                              at android.os.Handler.handleCallback(Handler.java:739)\n                                                                              at android.os.Handler.dispatchMessage(Handler.java:95)\n                                                                              at android.os.Looper.loop(Looper.java:148)\n                                                                              at android.app.ActivityThread.main(ActivityThread.java:7409)\n                                                                              at java.lang.reflect.Method.invoke(Native Method)\n                                                                              at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1230)\n                                                                              at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1120)</p>\n</blockquote>\n\n<p>Database code:</p>\n\n<pre><code>class DbManger(context: Context) {\n    val dbName = \"MyNotes\"\n    val dbTable = \"Notes\"\n    val colID = \"ID\"\n    val colTitle = \"Title\"\n    val colDesc = \"Desc\"\n    var dbVer = 4\n\n    val sqlCreateTable = \"CREATE TABLE IF NOT EXISTS \" + dbTable + \"(\" + colID + \" INTEGER PRIMARY KEY,\" + colTitle + \" TEXT,\" + colDesc + \" TEXT \" + \");\"\n    var sqlDataBase: SQLiteDatabase? = null\n\n    inner class dbHelperNotes : SQLiteOpenHelper {\n        var context: Context? = null\n\n        constructor(context: Context) : super(context, dbName, null, dbVer) {\n            this.context = context\n\n        }\n\n        override fun onCreate(p0: SQLiteDatabase?) {\n            p0!!.execSQL(sqlCreateTable)\n            Toast.makeText(this.context, \"Database is created\", Toast.LENGTH_LONG).show()\n        }\n\n        override fun onUpgrade(p0: SQLiteDatabase?, p1: Int, p2: Int) {\n            p0!!.execSQL(\"drop table IF EXISTS \" + dbTable)\n        }\n\n\n    }\n\n    fun Insert(values: ContentValues): Long {\n        val ID = sqlDataBase!!.insert(dbTable, \"\", values)\n        return ID\n    }\n\n    init {\n        var db = dbHelperNotes(context)\n        sqlDataBase = db.writableDatabase\n    }\n}\n</code></pre>\n"}, {"tags": ["generics", "kotlin", "type-alias"], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 6681681, "user_type": "registered", "profile_image": "https://graph.facebook.com/1128289237204673/picture?type=large", "display_name": "Tobiah Lissens", "link": "https://stackoverflow.com/users/6681681/tobiah-lissens"}, "edited": false, "score": 1, "creation_date": 1501870002, "post_id": 45512927, "comment_id": 77987209, "body": "Thank you, I assumed It was a class instead of an interface. I didn&#39;t know it was possible to create a function that looks like a Constructor"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 135, "user_id": 6681681, "user_type": "registered", "profile_image": "https://graph.facebook.com/1128289237204673/picture?type=large", "display_name": "Tobiah Lissens", "link": "https://stackoverflow.com/users/6681681/tobiah-lissens"}, "edited": false, "score": 0, "creation_date": 1501870063, "post_id": 45512927, "comment_id": 77987238, "body": "@TobiahLissens Not at all. glad it helped you, :)"}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 2, "last_activity_date": 1501870024, "last_edit_date": 1501870024, "creation_date": 1501869518, "answer_id": 45512927, "question_id": 45512852, "link": "https://stackoverflow.com/questions/45512852/constructors-for-typealiased-types-using-generics/45512927#45512927", "title": "Constructors for typealiased types using generics", "body": "<p>This is because the <code>List&lt;T&gt;</code> is an interface, which means there is no constructors. and the <a href=\"https://kotlinlang.org/docs/reference/type-aliases.html#type-aliases\" rel=\"nofollow noreferrer\">typealias</a> keyword is used for existing types.  In fact, <code>List(size,init)</code> is defined as a top-level extension function in <code>stdlib</code> as below:</p>\n\n<pre><code>//             v--- List(size){...} is a function rather than a type\ninline fun &lt;T&gt; List(size:Int, init: (index: Int)-&gt;T):List&lt;T&gt;=MutableList(size,init)\n</code></pre>\n\n<p><strong>IF</strong> you change the alias <code>L</code> to the <strong>concrete</strong> class <code>ArrayList</code>, you found you also can create it by use its constructor, for example:</p>\n\n<pre><code>typealias L&lt;T&gt; = ArrayList&lt;T&gt; \n\nfun main(args: Array&lt;String&gt;) {\n    // v--- create `L&lt;Int&gt;` by its constructor\n    L&lt;Int&gt;(1)\n}\n</code></pre>\n"}], "owner": {"reputation": 135, "user_id": 6681681, "user_type": "registered", "profile_image": "https://graph.facebook.com/1128289237204673/picture?type=large", "display_name": "Tobiah Lissens", "link": "https://stackoverflow.com/users/6681681/tobiah-lissens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1051, "favorite_count": 0, "accepted_answer_id": 45512927, "answer_count": 1, "score": 2, "last_activity_date": 1501871608, "creation_date": 1501869285, "last_edit_date": 1501871608, "question_id": 45512852, "link": "https://stackoverflow.com/questions/45512852/constructors-for-typealiased-types-using-generics", "title": "Constructors for typealiased types using generics", "body": "<p>I am learning Kotlin at the moment.</p>\n\n<p>But I am having trouble with the following example.</p>\n\n<p>When I type alias a class I created myself, I can use the normal constructor as seen below, but I cannot do the same thing with the Kotlin list type. What am I missing here? </p>\n\n<pre><code>class Example&lt;T&gt; {}\n\ntypealias Ex&lt;T&gt; = Example&lt;T&gt; // typealias for example class\ntypealias L&lt;T&gt; = List&lt;T&gt; // typealias for Kotlin list class\n\nfun main(args: Array&lt;String&gt;) {\n    Ex&lt;Int&gt;() // OK! compiles\n    L&lt;Int&gt;(0,{ _ -&gt; 1}) // unresolved reference\n}\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 104, "user_id": 1552262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9bc32ea26511604508b168f2fba6a34?s=128&d=identicon&r=PG", "display_name": "lalosoft", "link": "https://stackoverflow.com/users/1552262/lalosoft"}, "edited": false, "score": 0, "creation_date": 1501860003, "post_id": 45510273, "comment_id": 77981897, "body": "Have you defined variables or functions in your interface Media? Looks like they are variables (properties in Kotlin). I think you want to define a list of functions (methods in Java) and implement them in <code>Airling</code> class. Is it ok?"}], "answers": [{"comments": [{"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1501860115, "post_id": 45510378, "comment_id": 77981960, "body": "There is also the problem of overriding <code>String</code> properties with <code>String?</code> properties."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 5, "last_activity_date": 1501860323, "last_edit_date": 1501860323, "creation_date": 1501859973, "answer_id": 45510378, "question_id": 45510273, "link": "https://stackoverflow.com/questions/45510273/getting-platform-declaration-clash-when-using-interface-in-kotlin/45510378#45510378", "title": "Getting Platform declaration clash when using Interface in kotlin", "body": "<p>You don't need to declare <code>override fun getContentId(): String?</code>, because the <code>val contentId: String</code> from the <code>Media</code> interface is already overridden by <code>override val contentId: String?</code>. </p>\n\n<p>The error that you get means that the function you declare clashes in the JVM bytecode with the getter that is already generated for the <code>contentId</code> property (the getter has the same signature).</p>\n\n<p>In Kotlin, you should work with the property <code>contentId</code> directly, whereas in Java you can use the generated accessors <code>getContentId()</code> and <code>setContentId(...)</code>.</p>\n\n<p>Also, Kotlin does not allow you to override a not-null <code>String</code> property with a nullable <code>String?</code> one, because the users of the base interface will expect a not-null value from the property. You should replace the overridden property types with <code>String</code>, or make them <code>String?</code> in the interface.</p>\n"}, {"tags": [], "owner": {"reputation": 4445, "user_id": 6290452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc977b070a4c0b40edff349c8a017048?s=128&d=identicon&r=PG&f=1", "display_name": "AlexTa", "link": "https://stackoverflow.com/users/6290452/alexta"}, "is_accepted": false, "score": 0, "last_activity_date": 1501860014, "creation_date": 1501860014, "answer_id": 45510394, "question_id": 45510273, "link": "https://stackoverflow.com/questions/45510273/getting-platform-declaration-clash-when-using-interface-in-kotlin/45510394#45510394", "title": "Getting Platform declaration clash when using Interface in kotlin", "body": "<p>Variables declared as <code>val</code> are like Java <code>final</code> variables, are inmutable so you cannot set as <code>Optional ?</code></p>\n\n<p>Your variable declaration should be like follows:</p>\n\n<pre><code>interface Media {\n    var contentId: String?\n    //...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1501863337, "post_id": 45511173, "comment_id": 77983762, "body": "<i>Note</i>: this rule apply immutable <code>val</code> property, because override method can provide its return type with subtype  in Java. in other words, you can&#39;t apply the rule in mutable <code>var</code> property."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 2, "last_activity_date": 1501862546, "creation_date": 1501862546, "answer_id": 45511173, "question_id": 45510273, "link": "https://stackoverflow.com/questions/45510273/getting-platform-declaration-clash-when-using-interface-in-kotlin/45511173#45511173", "title": "Getting Platform declaration clash when using Interface in kotlin", "body": "<p>The main problem is the type <code>T?</code> includes <code>T</code> and <code>null</code>. in turn, <code>T</code> is a subset of <code>T?</code>. so you can't override the <code>T</code> property with its superset type, for example:</p>\n\n<pre><code>interface Source { val content: Any }\n\n//                               v--- ERROR: `Any?` is not a subtype of `Any`\nclass Image(override val content:Any?) : Source\n</code></pre>\n\n<p>However, you can override the <code>T?</code> property with its <strong>subset type</strong> or <strong>subtype</strong>, for example:</p>\n\n<pre><code>interface Source { val content: Any? }\n\n//                              v--- `Any` is a subset of `Any?`\nclass Image(override val content:Any) : Source\n\n// `String` is a subtype of `Any` &amp; `Any?` includes `Any`\n//                               v\nclass Text(override val content:String) : Source\n</code></pre>\n\n<p>Then your code should be as below. However, Kotlin is a null-safety system, you can't define a property without initializing it, even if the property is a <strong>nullable</strong> property:</p>\n\n<pre><code>class Airing : Media {\n   //           v--- ERROR: the property isn't initialized      \n   override val contentId: String\n   ...\n}\n</code></pre>\n\n<p>You should introduce properties in primary constructor to let the client code to initializing them in future, for example:</p>\n\n<pre><code>class Airing\nconstructor(\n        override val contentId: String,\n        override val displayRunTime: String,\n        override val genres: List&lt;String&gt;,\n        override val programId: String,\n        override val runTime: String,\n        override val type: String\n) : Media \n</code></pre>\n\n<p>You also can provide some default value for the properties, for example:</p>\n\n<pre><code>class Airing : Media {\n    override val contentId: String = \"&lt;default&gt;\"\n    override val displayRunTime: String = \"&lt;default&gt;\"\n    override val genres: List&lt;String&gt; = emptyList()\n    override val programId: String = \"&lt;default&gt;\"\n    override val runTime: String = \"&lt;default&gt;\"\n    override val type: String = \"&lt;default&gt;\"\n}\n</code></pre>\n\n<p><strong>AND</strong> <code>getContentId</code> function will conflict with <code>getter</code>, so you should remove it.</p>\n"}], "owner": {"reputation": 6407, "user_id": 1250929, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/89099b220ea58bae3f99779f7a8e33c9?s=128&d=identicon&r=PG", "display_name": "Kristy Welsh", "link": "https://stackoverflow.com/users/1250929/kristy-welsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8214, "favorite_count": 1, "accepted_answer_id": 45510378, "answer_count": 3, "score": 7, "last_activity_date": 1501862546, "creation_date": 1501859632, "question_id": 45510273, "link": "https://stackoverflow.com/questions/45510273/getting-platform-declaration-clash-when-using-interface-in-kotlin", "title": "Getting Platform declaration clash when using Interface in kotlin", "body": "<p>I'm converting some classes in Java to kotlin and I'm running into compile errors when trying to inherit from an interface:</p>\n\n<blockquote>\n  <p>Platform declaration clash: The following declarations have the same\n  JVM signature (getContentID()Ljava/lang/String;):</p>\n  \n  <p>public open fun get-content-id (): String? \n  public open fun getContentId(): String?</p>\n</blockquote>\n\n<p>Here is the interface: </p>\n\n<pre><code>interface Media {\n  val contentId: String\n\n  val displayRunTime: String\n\n  val genres: List&lt;String&gt;\n\n  val programId: String\n\n  val runTime: String\n\n  val type: String\n}\n</code></pre>\n\n<p>here is the class:</p>\n\n<pre><code>class Airing : Media {\n  override val contentId: String? = null\n  override val displayRunTime: String? = null\n  override val genres: List&lt;String&gt;? = null\n  override val programId: String? = null\n  override val runTime: String? = null\n  override val type: String? = null\n\n  override fun getContentId(): String? {\n    return contentId\n  }\n</code></pre>\n\n<p>I'm super new to kotlin.  </p>\n"}, {"tags": ["java", "virtual-machine", "kotlin", "allocation", "connection-refused"], "answers": [{"tags": [], "owner": {"reputation": 556, "user_id": 6825678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83d48472638ddacdb4b577251246930f?s=128&d=identicon&r=PG&f=1", "display_name": "DrHopfen", "link": "https://stackoverflow.com/users/6825678/drhopfen"}, "is_accepted": false, "score": 0, "last_activity_date": 1501857419, "creation_date": 1501857419, "answer_id": 45509544, "question_id": 45509344, "link": "https://stackoverflow.com/questions/45509344/counting-the-number-of-instanced-classes-fails-in-debug-mode/45509544#45509544", "title": "Counting the number of instanced classes fails in debug mode", "body": "<p>I guess the problem is that you try to use the same port for the debugger as the one used by the program. Try to use a different port for the debugger.</p>\n"}], "owner": {"reputation": 5577, "user_id": 1047713, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/6bd4a6e80c7c52685a465ef6fd4ebde3?s=128&d=identicon&r=PG", "display_name": "elect", "link": "https://stackoverflow.com/users/1047713/elect"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1501857681, "creation_date": 1501856813, "last_edit_date": 1501857681, "question_id": 45509344, "link": "https://stackoverflow.com/questions/45509344/counting-the-number-of-instanced-classes-fails-in-debug-mode", "title": "Counting the number of instanced classes fails in debug mode", "body": "<p>Working on a imgui port in kotlin, I have a <code>metrics</code> menu where I display the number of allocations</p>\n\n<p>This is the <a href=\"https://github.com/kotlin-graphics/imgui/blob/master/src/main/kotlin/imgui/Context.kt#L504-L523\" rel=\"nofollow noreferrer\">init code</a> I wrote:</p>\n\n<pre><code>    try {\n        var ac: AttachingConnector? = null\n        for (x in Bootstrap.virtualMachineManager().attachingConnectors()) {\n            if (x.javaClass.name.toLowerCase().indexOf(\"socket\") != -1) {\n                ac = x\n                break\n            }\n        }\n        if (ac == null) {\n            throw Error(\"No socket attaching connector found\")\n        }\n        val connectArgs = HashMap&lt;String, Argument&gt;(ac.defaultArguments())\n        connectArgs[\"hostname\"]!!.setValue(\"127.0.0.1\")\n        connectArgs[\"port\"]!!.setValue(Integer.toString(3001))\n        connectArgs[\"timeout\"]!!.setValue(\"3000\")\n        vm = ac.attach(connectArgs)\n    } catch (error: Exception) {\n        System.err.println(\"Couldn't retrieve the number of allocations, $error\")\n    }\n</code></pre>\n\n<p>And these are the arguments I pass in as 'VM options'</p>\n\n<p><code>-Xdebug -Xrunjdwp:transport=dt_socket,address=3001,server=y,suspend=n</code></p>\n\n<p>Whenever I run it normally, it works. But if I run it in debug mode, it doesnt, returning the following error:</p>\n\n<blockquote>\n  <p>java.net.ConnectException: Connection refused: connect</p>\n</blockquote>\n\n<p>I couldn't find yet a solution for that, at the moment I simply display a <code>-1</code> to indicate an error</p>\n\n<p>Does anyone have a solution/explanation about?</p>\n\n<p>Specs:</p>\n\n<ul>\n<li>Kotlin 1.2-m1</li>\n<li>Idea 2017.2.1</li>\n</ul>\n"}, {"tags": ["android", "jenkins", "gradle", "build", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 8342784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4e7017cd355d9ba5d62988658c4f56f?s=128&d=identicon&r=PG&f=1", "display_name": "tothzolidev", "link": "https://stackoverflow.com/users/8342784/tothzolidev"}, "is_accepted": true, "score": 1, "last_activity_date": 1501857796, "creation_date": 1501857796, "answer_id": 45509654, "question_id": 45507250, "link": "https://stackoverflow.com/questions/45507250/jenkins-gradle-build-fail-due-to-appcompiledebugkotlin/45509654#45509654", "title": "Jenkins gradle build fail due to app:compileDebugKotlin", "body": "<p>I had to define <strong>environmental variables</strong> for Jenkins.</p>\n\n<blockquote>\n  <p>Manage Jenkins -> Configure System -> Global properties</p>\n</blockquote>\n\n<p><strong>check the Environment variables checkbox</strong> then add the following:</p>\n\n<pre><code>Name: JAVA_HOME \nValue: [your_JDK_folder]\n\nName: JRE_HOME\nValue: [your_JRE_folder]\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 8342784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4e7017cd355d9ba5d62988658c4f56f?s=128&d=identicon&r=PG&f=1", "display_name": "tothzolidev", "link": "https://stackoverflow.com/users/8342784/tothzolidev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 813, "favorite_count": 1, "accepted_answer_id": 45509654, "answer_count": 1, "score": 2, "last_activity_date": 1501857796, "creation_date": 1501850838, "last_edit_date": 1501857437, "question_id": 45507250, "link": "https://stackoverflow.com/questions/45507250/jenkins-gradle-build-fail-due-to-appcompiledebugkotlin", "title": "Jenkins gradle build fail due to app:compileDebugKotlin", "body": "<p>I try to build my apk in Jenkins with the gradle-plugin, but it keeps failing due to </p>\n\n<blockquote>\n  <p>Internal compiler error</p>\n</blockquote>\n\n<p>The project is written in <strong>Kotlin</strong></p>\n\n<p>In Jenkins I use the the <strong>default gradle wrapper</strong> after a succesfull svn checkout.</p>\n\n<p>The error:</p>\n\n<pre><code>&gt; FAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':app:compileDebugKotlin'.\n&gt; Internal compiler error. See log for more details\n\n* Try:\nRun with --info or --debug option to get more log output.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:compileDebugKotlin'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:100)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:70)\n    at org.gradle.api.internal.tasks.execution.SkipUpToDateTaskExecuter.execute(SkipUpToDateTaskExecuter.java:64)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskOutputCachingStateExecuter.execute(ResolveTaskOutputCachingStateExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ValidatingTaskExecuter.execute(ValidatingTaskExecuter.java:58)\n    at org.gradle.api.internal.tasks.execution.SkipEmptySourceFilesTaskExecuter.execute(SkipEmptySourceFilesTaskExecuter.java:88)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskArtifactStateTaskExecuter.execute(ResolveTaskArtifactStateTaskExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:52)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:54)\n    at org.gradle.api.internal.tasks.execution.ExecuteAtMostOnceTaskExecuter.execute(ExecuteAtMostOnceTaskExecuter.java:43)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:34)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker$1.run(DefaultTaskGraphExecuter.java:243)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:236)\n    at org.gradle.execution.taskgraph.DefaultTaskGraphExecuter$EventFiringTaskWorker.execute(DefaultTaskGraphExecuter.java:225)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.processTask(DefaultTaskPlanExecutor.java:124)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.access$200(DefaultTaskPlanExecutor.java:80)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:105)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker$1.execute(DefaultTaskPlanExecutor.java:99)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.execute(DefaultTaskExecutionPlan.java:625)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionPlan.executeWithTask(DefaultTaskExecutionPlan.java:580)\n    at org.gradle.execution.taskgraph.DefaultTaskPlanExecutor$TaskExecutorWorker.run(DefaultTaskPlanExecutor.java:99)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nCaused by: org.gradle.api.GradleException: Internal compiler error. See log for more details\n    at org.jetbrains.kotlin.gradle.tasks.TasksUtilsKt.throwGradleExceptionIfError(tasksUtils.kt:9)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.processCompilerExitCode(Tasks.kt:291)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:265)\n    at org.jetbrains.kotlin.gradle.tasks.KotlinCompile.callCompiler$kotlin_gradle_plugin(Tasks.kt:168)\n    at org.jetbrains.kotlin.gradle.tasks.AbstractKotlinCompile.execute(Tasks.kt:147)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:73)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$IncrementalTaskAction.doExecute(DefaultTaskClassInfoStore.java:168)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:134)\n    at org.gradle.api.internal.project.taskfactory.DefaultTaskClassInfoStore$StandardTaskAction.execute(DefaultTaskClassInfoStore.java:121)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter$1.run(ExecuteActionsTaskExecuter.java:122)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:336)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor$RunnableBuildOperationWorker.execute(DefaultBuildOperationExecutor.java:328)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.execute(DefaultBuildOperationExecutor.java:197)\n    at org.gradle.internal.progress.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:107)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeAction(ExecuteActionsTaskExecuter.java:111)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeActions(ExecuteActionsTaskExecuter.java:92)\n    ... 27 more\n</code></pre>\n"}, {"tags": ["android", "nullpointerexception", "kotlin", "searchview"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1501850756, "post_id": 45507189, "comment_id": 77975080, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/45309872/no-value-passed-for-parameter-item\">No value passed for parameter item</a>"}, {"owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "edited": false, "score": 0, "creation_date": 1501850766, "post_id": 45507189, "comment_id": 77975085, "body": "Please, provide full stack trace."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1501850812, "post_id": 45507189, "comment_id": 77975130, "body": "You have the same problem as this question, you have different <code>SearchView</code> classes in your XML and in your Kotlin file. Just make sure you use the one from the support library everywhere."}, {"owner": {"reputation": 196, "user_id": 6941949, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-zW0aAhk494k/AAAAAAAAAAI/AAAAAAAAA9s/WfL3Aqx1CQw/photo.jpg?sz=128", "display_name": "Mukhtar Bimurat", "link": "https://stackoverflow.com/users/6941949/mukhtar-bimurat"}, "reply_to_user": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "edited": false, "score": 0, "creation_date": 1501851833, "post_id": 45507189, "comment_id": 77975849, "body": "@AlexanderRomanov can&#39;t put all code stackoverflow swears"}, {"owner": {"reputation": 196, "user_id": 6941949, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-zW0aAhk494k/AAAAAAAAAAI/AAAAAAAAA9s/WfL3Aqx1CQw/photo.jpg?sz=128", "display_name": "Mukhtar Bimurat", "link": "https://stackoverflow.com/users/6941949/mukhtar-bimurat"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1501851908, "post_id": 45507189, "comment_id": 77975893, "body": "@zsmb13 \t i have checked it both of them i have android.widget.SearchView"}], "answers": [{"comments": [{"owner": {"reputation": 196, "user_id": 6941949, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-zW0aAhk494k/AAAAAAAAAAI/AAAAAAAAA9s/WfL3Aqx1CQw/photo.jpg?sz=128", "display_name": "Mukhtar Bimurat", "link": "https://stackoverflow.com/users/6941949/mukhtar-bimurat"}, "edited": false, "score": 0, "creation_date": 1501853067, "post_id": 45507847, "comment_id": 77976735, "body": "i dont understand why android does not work but app work"}], "tags": [], "owner": {"reputation": 9965, "user_id": 900128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WiYo8.jpg?s=128&g=1", "display_name": "Muthukrishnan Rajendran", "link": "https://stackoverflow.com/users/900128/muthukrishnan-rajendran"}, "is_accepted": true, "score": 3, "last_activity_date": 1501852500, "creation_date": 1501852500, "answer_id": 45507847, "question_id": 45507189, "link": "https://stackoverflow.com/questions/45507189/kotlinnullpointerexception-inside-oncreateoptionsmenu-cant-find-searchview-an/45507847#45507847", "title": "KotlinNullPointerException: inside onCreateOptionsMenu can&#39;t find searchView; android", "body": "<p>Change <code>android:actionViewClass=\"android.widget.SearchView\"</code> to <code>app:actionViewClass=\"android.widget.SearchView\"</code> it will work fine.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 4450367, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/ab7304ed6e4dd86f42055a4a7786db0c?s=128&d=identicon&r=PG&f=1", "display_name": "Abdu Hawi", "link": "https://stackoverflow.com/users/4450367/abdu-hawi"}, "is_accepted": false, "score": 0, "last_activity_date": 1505391697, "creation_date": 1505391697, "answer_id": 46219016, "question_id": 45507189, "link": "https://stackoverflow.com/questions/45507189/kotlinnullpointerexception-inside-oncreateoptionsmenu-cant-find-searchview-an/46219016#46219016", "title": "KotlinNullPointerException: inside onCreateOptionsMenu can&#39;t find searchView; android", "body": "<p>The problem is in app:actionViewClass</p>\n\n<pre><code>&lt;item\n    android:id=\"@+id/itemSearch\"\n    android:icon=\"@drawable/ic_search\"\n    android:title=\"Search\"\n    app:actionViewClass=\"android.support.v7.widget.SearchView\"\n    app:showAsAction=\"collapseActionView|ifRoom\" /&gt;\n</code></pre>\n\n<p>you must make actionViewClass is same in Activity</p>\n\n<pre><code>import android.support.v7.widget.SearchView\n</code></pre>\n\n<p>The MainActivity is extends from AppCompatActivity\nalso the AppCompatActivity is import like that</p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity\n</code></pre>\n\n<p>I hope support everyone here</p>\n\n<p>Best Regards</p>\n"}], "owner": {"reputation": 196, "user_id": 6941949, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-zW0aAhk494k/AAAAAAAAAAI/AAAAAAAAA9s/WfL3Aqx1CQw/photo.jpg?sz=128", "display_name": "Mukhtar Bimurat", "link": "https://stackoverflow.com/users/6941949/mukhtar-bimurat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "accepted_answer_id": 45507847, "answer_count": 2, "score": 2, "last_activity_date": 1505391697, "creation_date": 1501850655, "last_edit_date": 1501852071, "question_id": 45507189, "link": "https://stackoverflow.com/questions/45507189/kotlinnullpointerexception-inside-oncreateoptionsmenu-cant-find-searchview-an", "title": "KotlinNullPointerException: inside onCreateOptionsMenu can&#39;t find searchView; android", "body": "<p>I need MainActivity with SearchView, it throws KotlinNullPointerException: inside onCreateOptionsMenu; here is my code: </p>\n\n<p>options_menu.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n&lt;item\n    android:id=\"@+id/search\"\n    android:actionViewClass=\"android.widget.SearchView\"\n    android:icon=\"@android:drawable/ic_menu_search\"\n    app:showAsAction=\"collapseActionView|ifRoom\"\n    android:title=\"@string/search\" /&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p>MainActivity.java </p>\n\n<pre><code>import android.text.TextUtils\nimport android.view.Menu\nimport android.widget.AdapterView\nimport android.widget.SearchView\nimport android.widget.Toast\n...\nimport kotlinx.android.synthetic.main.activity_main.*\nimport android.app.SearchManager\nimport android.content.Context\n\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    logd(\"onCreate MainActivity\")\n    setSupportActionBar(toolbar)\n    ...\n} \n...\noverride fun onCreateOptionsMenu(menu: Menu): Boolean {\n    menuInflater.inflate(R.menu.options_menu, menu)\n    val searchManager = getSystemService(Context.SEARCH_SERVICE) as SearchManager\n    val searchView = menu.findItem(R.id.search).actionView as? SearchView\n    searchView!!.setSearchableInfo(searchManager.getSearchableInfo(componentName))\n    return true\n}\n</code></pre>\n\n<p>i am using custom toolbar like this but i think problem is not here</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 123770, "user_id": 2830850, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e48b39b77bf324de9aeefd6c5bfc10c6?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Lalwani", "link": "https://stackoverflow.com/users/2830850/tarun-lalwani"}, "edited": false, "score": 0, "creation_date": 1501844796, "post_id": 45505169, "comment_id": 77971032, "body": "Yes, both have a different syntax. So it is a obvious choice to make. From what I have read till now, nothing of a story has been associated with the extension as of yet. But it easy for the team to attach one when things get popular :)"}, {"owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "edited": false, "score": 0, "creation_date": 1501844875, "post_id": 45505169, "comment_id": 77971093, "body": "Maybe I don&#39;t really understand your question but I think .kt may come from the word Kotlin and what more appropriate suffix would you suggest? Kotlin code differs from java code (not entirely though but in most ways). I think it is logical for them to provide it with a different suffix"}], "answers": [{"comments": [{"owner": {"reputation": 16928, "user_id": 1047788, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/xA1rW.png?s=128&g=1", "display_name": "user7610", "link": "https://stackoverflow.com/users/1047788/user7610"}, "edited": false, "score": 1, "creation_date": 1559637627, "post_id": 45505308, "comment_id": 99473926, "body": "Whereas if you explicitly declare a class in Kotlin, it will not have <code>Kt</code> appended."}], "tags": [], "owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "is_accepted": true, "score": 14, "last_activity_date": 1501845704, "last_edit_date": 1501845704, "creation_date": 1501844982, "answer_id": 45505308, "question_id": 45505169, "link": "https://stackoverflow.com/questions/45505169/what-is-the-reason-for-using-kt-suffix-in-kotlin-classes/45505308#45505308", "title": "What is the reason for using &quot;Kt&quot; suffix in Kotlin classes?", "body": "<p>Unlike Java, Kotlin allows you to define functions that are not inside a class. But if you want Java to talk to Kotlin that becomes a problem. How to solve it? Convert those functions into static methods of a class named as the file with the \"Kt\" suffix</p>\n\n<p>You can find more info about that in the <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#package-level-functions\" rel=\"noreferrer\">documentation</a></p>\n"}], "owner": {"reputation": 15566, "user_id": 876497, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/2713233cc2e49a4db53ff08d6c114255?s=128&d=identicon&r=PG", "display_name": "DejanLekic", "link": "https://stackoverflow.com/users/876497/dejanlekic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1961, "favorite_count": 2, "accepted_answer_id": 45505308, "answer_count": 1, "score": 6, "last_activity_date": 1501845704, "creation_date": 1501844598, "question_id": 45505169, "link": "https://stackoverflow.com/questions/45505169/what-is-the-reason-for-using-kt-suffix-in-kotlin-classes", "title": "What is the reason for using &quot;Kt&quot; suffix in Kotlin classes?", "body": "<p>I was trying to find more details about this decision in the Kotlin documentation but there is no section that \"talks\" about it. Does anyone know what drove the decision to use the \"Kt\" suffix in class names in Kotlin? Is it to avoid collision with Java class names, or is there more to it?</p>\n"}, {"tags": ["android", "android-activity", "kotlin", "android-fragmentactivity"], "comments": [{"owner": {"reputation": 1523, "user_id": 5877632, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-SzYmPfCOr-w/AAAAAAAAAAI/AAAAAAAAADk/6lXakT4ia3Q/photo.jpg?sz=128", "display_name": "Bruno Ferreira", "link": "https://stackoverflow.com/users/5877632/bruno-ferreira"}, "edited": false, "score": 1, "creation_date": 1501844613, "post_id": 45505109, "comment_id": 77970901, "body": "post preferenceActivity code."}, {"owner": {"reputation": 1607, "user_id": 1992823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fLRXm.jpg?s=128&g=1", "display_name": "hsm59", "link": "https://stackoverflow.com/users/1992823/hsm59"}, "edited": false, "score": 0, "creation_date": 1501845007, "post_id": 45505109, "comment_id": 77971178, "body": "Have you tried this? - <a href=\"https://stackoverflow.com/questions/30139548/how-to-add-toolbar-in-preferenceactivity\">Stack Overflow Post</a>"}], "answers": [{"comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1501851688, "post_id": 45505383, "comment_id": 77975740, "body": "No need to do all of this, just provide <code>android:theme</code> with action bar to preference activity."}, {"owner": {"reputation": 1970, "user_id": 2870834, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/d93690f6406fc60cd50073322dc1b5a6?s=128&d=identicon&r=PG&f=1", "display_name": "Evren Yurtesen", "link": "https://stackoverflow.com/users/2870834/evren-yurtesen"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1512751252, "post_id": 45505383, "comment_id": 82397431, "body": "@azizbekian please provife a complete answer"}], "tags": [], "owner": {"reputation": 1188, "user_id": 5908465, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/206b8c09c5e9baa0428b2977fa238cc2?s=128&d=identicon&r=PG&f=1", "display_name": "Android Player_Shree", "link": "https://stackoverflow.com/users/5908465/android-player-shree"}, "is_accepted": false, "score": 0, "last_activity_date": 1501845255, "creation_date": 1501845255, "answer_id": 45505383, "question_id": 45505109, "link": "https://stackoverflow.com/questions/45505109/how-do-i-add-a-toolbar-to-the-android-preferenceactivity-when-noactionbar-is-set/45505383#45505383", "title": "How do I add a toolbar to the Android PreferenceActivity when NoActionBar is set as the App Theme?", "body": "<p>You can create Custom Toolbar using <strong><code>android.support.v7.widget.Toolbar</code></strong> widget.<br>\nFor example, create <code>toolbar_layout</code> as below:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:fitsSystemWindows=\"true\"\nandroid:orientation=\"vertical\"&gt;\n\n&lt;android.support.v7.widget.Toolbar\n    android:id=\"@+id/toolbar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@color/colorPrimary\"\n    android:minHeight=\"?attr/actionBarSize\"\n    android:contentInsetStart=\"0dp\"\n    android:contentInsetLeft=\"0dp\"\n    app:contentInsetLeft=\"0dp\"\n    app:contentInsetStart=\"0dp\"\n    app:theme=\"@style/ThemeOverlay.AppCompat.Dark\"\n    app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\"\n    app:titleTextColor=\"@android:color/white\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_margin=\"5dp\"\n        android:gravity=\"center\"\n        android:orientation=\"horizontal\"&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/iv_menu\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:padding=\"5dp\"\n            android:src=\"@drawable/ic_menu\"\n            /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/tvTitle\"\n            android:layout_width=\"0dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_weight=\"1\"\n            android:textColor=\"@android:color/white\"\n            android:textSize=\"@dimen/toolbar_title_size\"\n            android:gravity=\"center\"\n            android:text=\"MDS Manager\"\n            android:singleLine=\"true\"\n            android:typeface=\"monospace\"\n            /&gt;\n\n    &lt;/LinearLayout&gt;\n&lt;/android.support.v7.widget.Toolbar&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>Now you have to <strong>include</strong> <code>toolbar_layout</code> in your activity's xml file as below:</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nxmlns:tools=\"http://schemas.android.com/tools\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"match_parent\"\nandroid:orientation=\"vertical\"\ntools:context=\"com.mds.manager.mdsmanager.activities.MainActivity\"&gt;\n\n&lt;include\n    layout=\"@layout/toolbar_layout\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\" /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>And finally your style.xml looks like below:</p>\n\n<pre><code>&lt;resources&gt;\n\n&lt;!-- Base application theme. --&gt;\n&lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n    &lt;!-- Customize your theme here. --&gt;\n    &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n    &lt;item name=\"android:typeface\"&gt;serif&lt;/item&gt;\n&lt;/style&gt;\n\n&lt;/resources&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/gY28M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gY28M.png\" alt=\"enter image description here\"></a></p>\n\n<p>I hope this answer may help you</p>\n"}, {"tags": [], "owner": {"reputation": 375, "user_id": 8043759, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/e9d95dc6eb7c91c353d363d3378348e3?s=128&d=identicon&r=PG", "display_name": "user221256", "link": "https://stackoverflow.com/users/8043759/user221256"}, "is_accepted": false, "score": 1, "last_activity_date": 1501849098, "creation_date": 1501849098, "answer_id": 45506673, "question_id": 45505109, "link": "https://stackoverflow.com/questions/45505109/how-do-i-add-a-toolbar-to-the-android-preferenceactivity-when-noactionbar-is-set/45506673#45506673", "title": "How do I add a toolbar to the Android PreferenceActivity when NoActionBar is set as the App Theme?", "body": "<p>Create <code>PreferenceActivity</code>s own style and apply it in the <code>android:theme</code> attribute in the manifest.\nOr if you do not have certain reasons to use <code>PreferenceActivity</code> use regular <code>Activity</code> or <code>AppCompatActivity</code> instead and add <code>PreferenceFragment</code> in it.</p>\n"}], "owner": {"reputation": 83, "user_id": 7284546, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ba338bddb91ff45bb1156c82ac9c1156?s=128&d=identicon&r=PG&f=1", "display_name": "ItsT-Mo", "link": "https://stackoverflow.com/users/7284546/itst-mo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 608, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1501849098, "creation_date": 1501844421, "last_edit_date": 1501844973, "question_id": 45505109, "link": "https://stackoverflow.com/questions/45505109/how-do-i-add-a-toolbar-to-the-android-preferenceactivity-when-noactionbar-is-set", "title": "How do I add a toolbar to the Android PreferenceActivity when NoActionBar is set as the App Theme?", "body": "<p>I have the following problem. I want to add a toolbar to the <code>preferencesActivity</code> that is generated by Android Studio, but I am using <code>NoActionBar</code> as my app theme (since I have a custom toolbar in my activites).</p>\n\n<p>The generated Preferences Activity has no layout file in which I could add that toolbar. Is there a way to set it anyway? (In this case even the standard toolbar would work, since I only need the back button and title to show)</p>\n\n<h3>PreferencesActivity</h3>\n\n<pre><code>package PACKAGENAME\n\nimport android.annotation.TargetApi\nimport android.content.Context\nimport android.content.Intent\nimport android.content.res.Configuration\nimport android.media.RingtoneManager\nimport android.net.Uri\nimport android.os.Build\nimport android.os.Bundle\nimport android.preference.ListPreference\nimport android.preference.Preference\nimport android.preference.PreferenceActivity\nimport android.preference.PreferenceFragment\nimport android.preference.PreferenceManager\nimport android.preference.RingtonePreference\nimport android.text.TextUtils\nimport android.view.MenuItem\nimport android.support.v4.app.NavUtils\nimport de.dilello.quickpark.R\n\n/**\n * A [PreferenceActivity] that presents a set of application settings. On\n * handset devices, settings are presented as a single list. On tablets,\n * settings are split by category, with category headers shown to the left of\n * the list of settings.\n *\n * See [Android Design: Settings](http://developer.android.com/design/patterns/settings.html)\n * for design guidelines and the [Settings API Guide](http://developer.android.com/guide/topics/ui/settings.html)\n * for more information on developing a Settings UI.\n */\nclass SettingsActivity : AppCompatPreferenceActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setupActionBar()\n    }\n\n    /**\n     * Set up the [android.app.ActionBar], if the API is available.\n     */\n    private fun setupActionBar() {\n        supportActionBar?.setDisplayHomeAsUpEnabled(true)\n    }\n\n    override fun onMenuItemSelected(featureId: Int, item: MenuItem): Boolean {\n        val id = item.itemId\n        if (id == android.R.id.home) {\n            if (!super.onMenuItemSelected(featureId, item)) {\n                NavUtils.navigateUpFromSameTask(this)\n            }\n            return true\n        }\n        return super.onMenuItemSelected(featureId, item)\n    }\n\n    /**\n     * {@inheritDoc}\n     */\n    override fun onIsMultiPane(): Boolean {\n        return isXLargeTablet(this)\n    }\n\n    /**\n     * {@inheritDoc}\n     */\n    @TargetApi(Build.VERSION_CODES.HONEYCOMB)\n    override fun onBuildHeaders(target: List&lt;PreferenceActivity.Header&gt;) {\n        loadHeadersFromResource(R.xml.pref_headers, target)\n    }\n\n    /**\n     * This method stops fragment injection in malicious applications.\n     * Make sure to deny any unknown fragments here.\n     */\n    override fun isValidFragment(fragmentName: String): Boolean {\n        return PreferenceFragment::class.java.name == fragmentName\n                || GeneralPreferenceFragment::class.java.name == fragmentName\n                || DataSyncPreferenceFragment::class.java.name == fragmentName\n                || NotificationPreferenceFragment::class.java.name == fragmentName\n    }\n\n    /**\n     * This fragment shows general preferences only. It is used when the\n     * activity is showing a two-pane settings UI.\n     */\n    @TargetApi(Build.VERSION_CODES.HONEYCOMB)\n    class GeneralPreferenceFragment : PreferenceFragment() {\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            addPreferencesFromResource(R.xml.pref_general)\n            setHasOptionsMenu(true)\n\n            // Bind the summaries of EditText/List/Dialog/Ringtone preferences\n            // to their values. When their values change, their summaries are\n            // updated to reflect the new value, per the Android Design\n            // guidelines.\n            bindPreferenceSummaryToValue(findPreference(\"example_text\"))\n            bindPreferenceSummaryToValue(findPreference(\"example_list\"))\n        }\n\n        override fun onOptionsItemSelected(item: MenuItem): Boolean {\n            val id = item.itemId\n            if (id == android.R.id.home) {\n                startActivity(Intent(activity, SettingsActivity::class.java))\n                return true\n            }\n            return super.onOptionsItemSelected(item)\n        }\n    }\n\n    /**\n     * This fragment shows notification preferences only. It is used when the\n     * activity is showing a two-pane settings UI.\n     */\n    @TargetApi(Build.VERSION_CODES.HONEYCOMB)\n    class NotificationPreferenceFragment : PreferenceFragment() {\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            addPreferencesFromResource(R.xml.pref_notification)\n            setHasOptionsMenu(true)\n\n            // Bind the summaries of EditText/List/Dialog/Ringtone preferences\n            // to their values. When their values change, their summaries are\n            // updated to reflect the new value, per the Android Design\n            // guidelines.\n            bindPreferenceSummaryToValue(findPreference(\"notifications_new_message_ringtone\"))\n        }\n\n        override fun onOptionsItemSelected(item: MenuItem): Boolean {\n            val id = item.itemId\n            if (id == android.R.id.home) {\n                startActivity(Intent(activity, SettingsActivity::class.java))\n                return true\n            }\n            return super.onOptionsItemSelected(item)\n        }\n    }\n\n    /**\n     * This fragment shows data and sync preferences only. It is used when the\n     * activity is showing a two-pane settings UI.\n     */\n    @TargetApi(Build.VERSION_CODES.HONEYCOMB)\n    class DataSyncPreferenceFragment : PreferenceFragment() {\n        override fun onCreate(savedInstanceState: Bundle?) {\n            super.onCreate(savedInstanceState)\n            addPreferencesFromResource(R.xml.pref_data_sync)\n            setHasOptionsMenu(true)\n\n            // Bind the summaries of EditText/List/Dialog/Ringtone preferences\n            // to their values. When their values change, their summaries are\n            // updated to reflect the new value, per the Android Design\n            // guidelines.\n            bindPreferenceSummaryToValue(findPreference(\"sync_frequency\"))\n        }\n\n        override fun onOptionsItemSelected(item: MenuItem): Boolean {\n            val id = item.itemId\n            if (id == android.R.id.home) {\n                startActivity(Intent(activity, SettingsActivity::class.java))\n                return true\n            }\n            return super.onOptionsItemSelected(item)\n        }\n    }\n\n    companion object {\n\n        /**\n         * A preference value change listener that updates the preference's summary\n         * to reflect its new value.\n         */\n        private val sBindPreferenceSummaryToValueListener = Preference.OnPreferenceChangeListener { preference, value -&gt;\n            val stringValue = value.toString()\n\n            if (preference is ListPreference) {\n                // For list preferences, look up the correct display value in\n                // the preference's 'entries' list.\n                val listPreference = preference\n                val index = listPreference.findIndexOfValue(stringValue)\n\n                // Set the summary to reflect the new value.\n                preference.setSummary(\n                        if (index &gt;= 0)\n                            listPreference.entries[index]\n                        else\n                            null)\n\n            } else if (preference is RingtonePreference) {\n                // For ringtone preferences, look up the correct display value\n                // using RingtoneManager.\n                if (TextUtils.isEmpty(stringValue)) {\n                    // Empty values correspond to 'silent' (no ringtone).\n                    preference.setSummary(R.string.pref_ringtone_silent)\n\n                } else {\n                    val ringtone = RingtoneManager.getRingtone(\n                            preference.getContext(), Uri.parse(stringValue))\n\n                    if (ringtone == null) {\n                        // Clear the summary if there was a lookup error.\n                        preference.setSummary(null)\n                    } else {\n                        // Set the summary to reflect the new ringtone display\n                        // name.\n                        val name = ringtone.getTitle(preference.getContext())\n                        preference.setSummary(name)\n                    }\n                }\n\n            } else {\n                // For all other preferences, set the summary to the value's\n                // simple string representation.\n                preference.summary = stringValue\n            }\n            true\n        }\n\n        /**\n         * Helper method to determine if the device has an extra-large screen. For\n         * example, 10\" tablets are extra-large.\n         */\n        private fun isXLargeTablet(context: Context): Boolean {\n            return context.resources.configuration.screenLayout and Configuration.SCREENLAYOUT_SIZE_MASK &gt;= Configuration.SCREENLAYOUT_SIZE_XLARGE\n        }\n\n        /**\n         * Binds a preference's summary to its value. More specifically, when the\n         * preference's value is changed, its summary (line of text below the\n         * preference title) is updated to reflect the value. The summary is also\n         * immediately updated upon calling this method. The exact display format is\n         * dependent on the type of preference.\n\n         * @see .sBindPreferenceSummaryToValueListener\n         */\n        private fun bindPreferenceSummaryToValue(preference: Preference) {\n            // Set the listener to watch for value changes.\n            preference.onPreferenceChangeListener = sBindPreferenceSummaryToValueListener\n\n            // Trigger the listener immediately with the preference's\n            // current value.\n            sBindPreferenceSummaryToValueListener.onPreferenceChange(preference,\n                    PreferenceManager\n                            .getDefaultSharedPreferences(preference.context)\n                            .getString(preference.key, \"\"))\n        }\n    }\n}\n</code></pre>\n"}]