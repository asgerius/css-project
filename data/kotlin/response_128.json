[{"tags": ["java", "statistics", "kotlin", "weighted-average"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1498084881, "post_id": 44687205, "comment_id": 76358735, "body": "That result sounds correct to me - your initial state is zero, so you&#39;re seeing your moving-average slowly ramp up."}, {"owner": {"reputation": 4197, "user_id": 1911388, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58854a18f41a5a9ae701cc0fed31f9f2?s=128&d=identicon&r=PG&f=1", "display_name": "0xbe5077ed", "link": "https://stackoverflow.com/users/1911388/0xbe5077ed"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1498149912, "post_id": 44687205, "comment_id": 76393235, "body": "Whoever downvoted me, could you possibly explain why so I don&#39;t repeat whatever it was that troubled you?"}], "owner": {"reputation": 4197, "user_id": 1911388, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/58854a18f41a5a9ae701cc0fed31f9f2?s=128&d=identicon&r=PG&f=1", "display_name": "0xbe5077ed", "link": "https://stackoverflow.com/users/1911388/0xbe5077ed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 226, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1498083883, "creation_date": 1498083883, "question_id": 44687205, "link": "https://stackoverflow.com/questions/44687205/how-to-implement-exponentially-decreasing-weighted-average", "title": "How to implement exponentially decreasing weighted average", "body": "<p>I've been trying to implement a weighted average function using exponentially decreasing weights as described <a href=\"https://en.wikipedia.org/wiki/Weighted_arithmetic_mean#Exponentially_decreasing_weights\" rel=\"nofollow noreferrer\">in this Wikipedia article</a>.</p>\n\n<p>I think I'm failing! I'm a bit too thick to fill in a few of the gaps that seem to be missing from the Wikipedia article, since it seems to be missing a nice clean one-line definition of what the function should produce given <em>m</em> samples, <em>ie</em> what does f(x<sub>1</sub>, x<sub>2</sub>, ... x<sub>m</sub>) = ?.</p>\n\n<p>Here's my attempt to implement it in Kotlin, where <em>numbers</em> contains my <em>m</em> samples, and <em>fraction</em> is the &Delta; referred to in the Wikipedia article:</p>\n\n<pre><code>fun weightedAverage(numbers: List&lt;Long&gt;, fraction: BigDecimal): Long? {\n    if (! (zero &lt; fraction &amp;&amp; fraction &lt; one)) {\n        throw IllegalArgumentException(\"fraction must be in (0..1), but $fraction is outside that range\")\n    }\n    return when(numbers.size) {\n        0 -&gt; null\n        1 -&gt; numbers.first()\n        else -&gt; multiPointWeightedAverage(numbers, fraction)\n    }\n}\n\nprivate fun multiPointWeightedAverage(numbers: List&lt;Long&gt;, fraction: BigDecimal): Long {\n    val m = numbers.size\n    var w = one - fraction\n    val w_m = w.pow(m)\n    val V1 = (one - w_m) / fraction\n    var sum = w * BigDecimal(numbers[0])\n    for (i in 1..m-1) {\n        w /= V1\n        sum += w * BigDecimal(numbers[1])\n    }\n    return sum.setScale(0, RoundingMode.HALF_UP).toLong()\n}\n</code></pre>\n\n<p>But I'm pretty sure this is wrong, because, <em>eg</em>, I expect <code>weightedAverage(listOf(1L, 1L, 1L), BigDecimal(0.9))</code> to produce the output 1, but it ends up spitting out 0.27125... which rounds down to zero.</p>\n\n<p>Can you help me correct my implementation, hopefully explaining what wrong assumption or step I made?</p>\n"}, {"tags": ["android", "view", "properties", "kotlin", "synthetic"], "answers": [{"comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1498081735, "post_id": 44686815, "comment_id": 76357645, "body": "@roobyroo I took another interpretation of your question, is this better?"}, {"owner": {"reputation": 868, "user_id": 4970976, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fkqFs.jpg?s=128&g=1", "display_name": "bartonstanley", "link": "https://stackoverflow.com/users/4970976/bartonstanley"}, "edited": false, "score": 0, "creation_date": 1498139745, "post_id": 44686815, "comment_id": 76385760, "body": "I have re-worded the question as promised."}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "reply_to_user": {"reputation": 868, "user_id": 4970976, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fkqFs.jpg?s=128&g=1", "display_name": "bartonstanley", "link": "https://stackoverflow.com/users/4970976/bartonstanley"}, "edited": false, "score": 0, "creation_date": 1498150436, "post_id": 44686815, "comment_id": 76393535, "body": "@roobyroo See the addition to the answer."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 4, "last_activity_date": 1498150423, "last_edit_date": 1498150423, "creation_date": 1498081707, "answer_id": 44686815, "question_id": 44685129, "link": "https://stackoverflow.com/questions/44685129/what-is-the-editor-magic-behind-kotlin-android-extensions-for-views/44686815#44686815", "title": "What is the editor magic behind Kotlin Android Extensions for Views?", "body": "<p>If I understand correctly, you are assuming the following:</p>\n\n<pre><code>import kotlinx.android.synthetic.main.activity_main.item_test\nimport kotlinx.android.synthetic.main.activity_main.item_test_2\n\nclass MyClass {\n  lateinit var x: View\n  lateinit var y: View\n\n  fun foo() {\n    val foo1 = x.item_test // Compiles\n    val foo2 = y.item_test // Compiles as well\n\n    val bar1 = x.item_test_2 // Compiles too\n    val bar2 = y.item_test_2 // Compiles yet again\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>So it appears to me that any property that is of type View will have the synthetic properties associated with a synthetic import regardless of whether it is valid or not. So the extension implementation appears to be brute force and will not tip-off the developer if anything is wrong.</p>\n</blockquote>\n\n<p>That is correct.<br>\nNow, the <code>item_test</code> import is essentially an extension property on the <code>View</code> class (simplified example<sup>[1]</sup>):</p>\n\n<pre><code>val View.item_test get() = findViewById(R.id.item_test)\n</code></pre>\n\n<p>For each of the views in your layout, the plugin generates these properties, and puts them in their relative files. These properties also exist on <code>Activity</code> and <code>Fragment</code>.<br>\nThus, when you call <code>x.item_test</code>, you're essentially calling <code>x.findViewById(R.id.item_test)</code><sup>[1]</sup>.<br>\nUpon compilation, the plugin replaces these calls back to <code>findViewById</code>. So the simplified decompiled version of the above program<sup>[1]</sup> (in Java):</p>\n\n<pre><code>final class MyClass {\n   public View x;\n   public View y;\n\n   public final void foo() {\n      TextView foo1 = (TextView) x.findViewById(id.item_test);\n      TextView foo2 = (TextView) y.findViewById(id.item_test);\n      TextView bar1 = (TextView) x.findViewById(id.item_test_2);\n      TextView bar2 = (TextView) y.findViewById(id.item_test_2);\n   }\n}\n</code></pre>\n\n<p>Since this is just an extension function on <code>View</code>, there are no sanity checks to check whether <code>item_test</code> exists in the view hierarchy of <code>x</code> or <code>y</code>, just like they are not there for <code>findViewById</code>. If the <code>findViewById</code> call returns <code>null</code>, the value is <code>null</code> or a <code>KotlinNullPointerException</code> is thrown.</p>\n\n<hr>\n\n<blockquote>\n  <ul>\n  <li>The addition of layout view ids as properties is done blindly. Any view id implied by a such a synthetic import is added to any property of the class that is of type View (or a subclass of View). This includes properties of such type inherited by the class.</li>\n  </ul>\n</blockquote>\n\n<p>Yes, since the property is an extension property on <code>View</code>, as explained above.</p>\n\n<blockquote>\n  <ul>\n  <li>Because the properties are added blindly it is incumbent upon the developer to ensure that the runtime view corresponding to the synthetic import is assigned before the synthetic properties are accessed or an exception will be thrown.</li>\n  </ul>\n</blockquote>\n\n<p>I'm not sure what you're asking here. If you mean that you'd have to initialize <code>x</code> before calling <code>x.item_test</code>, then that's right. Also, <code>x</code> should have a view <code>item_test</code> in its hierarchy.</p>\n\n<ul>\n<li>If two or more such imports are specified in a file then the union of their view ids will be blindly added to all class properties of type View.\nThe purpose of allowing multiple imports is to account for the case where one layout file includes another.</li>\n</ul>\n\n<p>Yes.</p>\n\n<hr>\n\n<p><sup>[1]: Actually, behind the scenes these lookups are cached. See <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html#under-the-hood\" rel=\"nofollow noreferrer\">Under the hood</a> in the documentation.</sup></p>\n"}], "owner": {"reputation": 868, "user_id": 4970976, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/fkqFs.jpg?s=128&g=1", "display_name": "bartonstanley", "link": "https://stackoverflow.com/users/4970976/bartonstanley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 708, "favorite_count": 2, "accepted_answer_id": 44686815, "answer_count": 1, "score": 2, "last_activity_date": 1498150423, "creation_date": 1498074684, "last_edit_date": 1498139528, "question_id": 44685129, "link": "https://stackoverflow.com/questions/44685129/what-is-the-editor-magic-behind-kotlin-android-extensions-for-views", "title": "What is the editor magic behind Kotlin Android Extensions for Views?", "body": "<p>When I add an import of the form <code>kotlinx.android.synthetic.main.&lt;layout-name&gt;.view.*</code> to a Kotlin source it alters the behavior of the Android Studio editor.  Specifically, it now considers any property of type <code>View</code> to have a property corresponding to each view in the layout file that is assigned an id.  I am assuming that I am doing this in a class that is <em>not</em> an <code>Activity</code> or <code>Fragment</code>.</p>\n\n<p>For example, say I have a <code>ViewHolder</code> declared in the source file and I add a property to it called <code>x</code> of type <code>View</code>.  Further, say that I have a layout named <code>item_test</code> that has three view declarations that have been assigned the ids, <code>a</code>, <code>b</code>, and <code>c</code>.  When I add a synthetic import of the form above with a <em>layout-name</em> of <code>item_test</code> suddenly <code>x</code> has three new properties, <code>a</code>, <code>b</code>, and <code>c</code>.  Or, more correctly, the editor makes it appear as though <code>x</code> has these properties.</p>\n\n<p>After some research, I have concluded the following:</p>\n\n<ul>\n<li><p>The addition of layout view ids as properties is done blindly.  Any view id implied by a such a synthetic import is added to any property of the class that is of type <code>View</code> (or a subclass of <code>View</code>).  This includes properties of such type inherited by the class.</p></li>\n<li><p>Because the properties are added blindly it is incumbent upon the developer to ensure that the runtime view corresponding to the synthetic import is assigned before the synthetic properties are accessed or an exception will be thrown.</p></li>\n<li><p>If two or more such imports are specified in a file then the union of their view ids will be blindly added to all class properties of type <code>View</code>.</p></li>\n<li><p>The purpose of allowing multiple imports is to account for the case where one layout file includes another.</p></li>\n</ul>\n\n<p>Are these conclusions correct?</p>\n\n<p>Are any other interesting subtleties around the implementation of this feature?</p>\n\n<p>I am using version 1.1.2-5 of the kotlin-gradle-plugin.</p>\n"}, {"tags": ["intellij-idea", "testng", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 3, "last_activity_date": 1498073092, "creation_date": 1498073092, "answer_id": 44684662, "question_id": 44682249, "link": "https://stackoverflow.com/questions/44682249/modify-the-test-file-template/44684662#44684662", "title": "Modify the test file template", "body": "<p>If you look closely, the generated Kotlin test class is actually first generated as a Java class and then quickly converted to Kotlin.</p>\n\n<p>Thus, you can modify the <code>TestNG Test Class</code> template in <code>Settings</code> -> <code>Editor</code> -> <code>File and Code templates</code> -> <code>Code</code>.</p>\n"}], "owner": {"reputation": 296034, "user_id": 829571, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/zflGZ.png?s=128&g=1", "display_name": "assylias", "link": "https://stackoverflow.com/users/829571/assylias"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "accepted_answer_id": 44684662, "answer_count": 1, "score": 0, "last_activity_date": 1498073092, "creation_date": 1498064859, "question_id": 44682249, "link": "https://stackoverflow.com/questions/44682249/modify-the-test-file-template", "title": "Modify the test file template", "body": "<p>When selecting \"Create test\" on a Kotlin class, I would like to include additional imports by default. For example, at the moment, only <code>import org.testng.annotations.Test</code> is included but I would also like <code>import org.testng.Assert.*</code>.</p>\n\n<p><strong>How can I modify the test file template for Kotlin/TestNG in IntelliJ?</strong></p>\n"}, {"tags": ["kotlin", "kotlin-interop"], "answers": [{"comments": [{"owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "edited": false, "score": 0, "creation_date": 1498066388, "post_id": 44682070, "comment_id": 76349540, "body": "Ok thanks I&#39;ll try that, I skimmed over that part of the documentation because I thought it was for overloaded functions only. Now I know better"}, {"owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "edited": false, "score": 0, "creation_date": 1498066463, "post_id": 44682070, "comment_id": 76349586, "body": "Oh, BTW. .should it be dynamic or type Document?"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 3, "last_activity_date": 1498064282, "creation_date": 1498064282, "answer_id": 44682070, "question_id": 44681785, "link": "https://stackoverflow.com/questions/44681785/x-is-not-a-function-when-passing-parameters-in-kotlin-javascript/44682070#44682070", "title": "&#39;x&#39; is not a function when passing parameters in Kotlin Javascript", "body": "<p>If you're calling a Kotlin function from JavaScript, you need to use the <code>@JsName</code> annotation to give it a stable name. See <a href=\"http://kotlinlang.org/docs/reference/js-to-kotlin-interop.html#jsname-annotation\" rel=\"nofollow noreferrer\">here</a> for documentation.</p>\n\n<pre><code>@JsName(\"dumpTitle\")\nfun dumpTitle(doc: dynamic) {\n    println(doc.title)\n}\n</code></pre>\n"}], "owner": {"reputation": 6474, "user_id": 270143, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/tB6Fg.jpg?s=128&g=1", "display_name": "ycomp", "link": "https://stackoverflow.com/users/270143/ycomp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 0, "accepted_answer_id": 44682070, "answer_count": 1, "score": 0, "last_activity_date": 1498067286, "creation_date": 1498063258, "last_edit_date": 1498067286, "question_id": 44681785, "link": "https://stackoverflow.com/questions/44681785/x-is-not-a-function-when-passing-parameters-in-kotlin-javascript", "title": "&#39;x&#39; is not a function when passing parameters in Kotlin Javascript", "body": "<p>I keep getting this error: <em>TypeError: Scraper.dumpTitle is not a function</em></p>\n\n<p>And I can't figure out why...</p>\n\n<h1>Index.html</h1>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Kotlin JS Demo&lt;/title&gt;\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;script src=\"out/production/lib/kotlin.js\"&gt;&lt;/script&gt;\n&lt;script src=\"out/production/Scraper.js\"&gt;&lt;/script&gt;\n    &lt;!--&lt;script&gt;--&gt;\n        &lt;!--function loaded() {--&gt;\n        &lt;!--}--&gt;\n    &lt;!--&lt;/script&gt;--&gt;\n\n    &lt;script&gt;\n        $(function() {\n            Scraper.dumpTitle(document)\n        })\n\n    &lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<h1>Main.js</h1>\n\n<pre><code>import kotlin.browser.document\n\n/**\n *  *\n *  * -\n */\nfun main(args: Array&lt;String&gt;) {\n    println(\"Hello\")\n}\n\nfun dumpTitle(doc: dynamic) {\n    println(doc.title)\n}\nfun dumpTitle1() {\n    println(document.title)\n}\n</code></pre>\n\n<h1>generated js</h1>\n\n<pre><code>if (typeof kotlin === 'undefined') {\n  throw new Error(\"Error loading module 'Scraper'. Its dependency 'kotlin' was not found. Please, check whether 'kotlin' is loaded prior to 'Scraper'.\");\n}\nvar Scraper = function (_, Kotlin) {\n  'use strict';\n  var println = Kotlin.kotlin.io.println_s8jyv4$;\n  function main(args) {\n    println('Hello');\n  }\n  function dumpTitle(doc) {\n    println(doc.title);\n  }\n  function dumpTitle1() {\n    println(document.title);\n  }\n  _.main_kand9s$ = main;\n  _.dumpTitle_za3rmp$ = dumpTitle;\n  _.dumpTitle1 = dumpTitle1;\n  Kotlin.defineModule('Scraper', _);\n  main([]);\n  return _;\n}(typeof Scraper === 'undefined' ? {} : Scraper, kotlin);\n</code></pre>\n\n<h2>notes</h2>\n\n<ol>\n<li>calling <code>dumpTitle1()</code> works fine.. so the problem I have is only with passing parameters</li>\n<li>no need to point out that I can access the <code>document</code> variable in Kotlin without needing to pass it, I know... but I wanted to pass another <code>document</code> object to use</li>\n</ol>\n"}, {"tags": ["java", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 6740300, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8dosDMW2_Ls/AAAAAAAAAAI/AAAAAAAAABE/_Nl2ZDqnBwY/photo.jpg?sz=128", "display_name": "\u8c22\u6797\u5fd7", "link": "https://stackoverflow.com/users/6740300/%e8%b0%a2%e6%9e%97%e5%bf%97"}, "edited": false, "score": 0, "creation_date": 1498060342, "post_id": 44680598, "comment_id": 76346044, "body": "thanks for your help"}], "tags": [], "owner": {"reputation": 4156, "user_id": 919716, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fe28dca557f7b6fad21a8186de4f87e8?s=128&d=identicon&r=PG", "display_name": "Steven Schoen", "link": "https://stackoverflow.com/users/919716/steven-schoen"}, "is_accepted": true, "score": 1, "last_activity_date": 1498059548, "creation_date": 1498059548, "answer_id": 44680598, "question_id": 44680426, "link": "https://stackoverflow.com/questions/44680426/how-to-return-a-interface-like-javawith-kotlin/44680598#44680598", "title": "How to return a interface like javawith Kotlin", "body": "<p>In Kotlin, you can create an anonymous class that implements an interface like this:</p>\n\n<pre><code>object : KotlinInterface {\n    override fun fun1() {\n        ...\n    }\n    override fun fun2() {\n        ...\n    }\n}\n</code></pre>\n\n<p>That will give a reference to your anonymous class. You just need to return that.</p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 6740300, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8dosDMW2_Ls/AAAAAAAAAAI/AAAAAAAAABE/_Nl2ZDqnBwY/photo.jpg?sz=128", "display_name": "\u8c22\u6797\u5fd7", "link": "https://stackoverflow.com/users/6740300/%e8%b0%a2%e6%9e%97%e5%bf%97"}, "is_accepted": false, "score": 2, "last_activity_date": 1498060288, "creation_date": 1498060288, "answer_id": 44680886, "question_id": 44680426, "link": "https://stackoverflow.com/questions/44680426/how-to-return-a-interface-like-javawith-kotlin/44680886#44680886", "title": "How to return a interface like javawith Kotlin", "body": "<pre><code>class KotlinClass {\nfun test():KotlinInterface{\n    return object :KotlinInterface{\n        override fun fun1() {\n            TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n\n        override fun fun2() {\n            TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n\n    }\n}\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 6740300, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8dosDMW2_Ls/AAAAAAAAAAI/AAAAAAAAABE/_Nl2ZDqnBwY/photo.jpg?sz=128", "display_name": "\u8c22\u6797\u5fd7", "link": "https://stackoverflow.com/users/6740300/%e8%b0%a2%e6%9e%97%e5%bf%97"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 895, "favorite_count": 0, "closed_date": 1498059623, "accepted_answer_id": 44680598, "answer_count": 2, "score": 0, "last_activity_date": 1498060288, "creation_date": 1498059082, "question_id": 44680426, "link": "https://stackoverflow.com/questions/44680426/how-to-return-a-interface-like-javawith-kotlin", "closed_reason": "Duplicate", "title": "How to return a interface like javawith Kotlin", "body": "<p>this is my KotlinInterface.kt</p>\n\n<pre><code>interface KotlinInterface {\nfun fun1()\nfun fun2()\n}\n</code></pre>\n\n<p>this is my JavaClass.java</p>\n\n<pre><code>public class JavaClass {\npublic KotlinInterface test() {\n    return new KotlinInterface() {\n        @Override\n        public void fun2() {\n\n        }\n\n        @Override\n        public void fun1() {\n\n        }\n    };\n}\n</code></pre>\n\n<p>}</p>\n\n<p>this is my KotlinClass.kt</p>\n\n<pre><code>class KotlinClass {\n    fun test():KotlinInterface{\n        return KotlinInterface{\n            //how to return like java\n        }\n    }\n}\n</code></pre>\n\n<p>I want to know how to return a interface with kotlin like with java ,thanks everybody</p>\n"}, {"tags": ["rx-java", "kotlin", "reactive-programming", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 9429, "user_id": 3903847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SH280.png?s=128&g=1", "display_name": "yosriz", "link": "https://stackoverflow.com/users/3903847/yosriz"}, "is_accepted": true, "score": 2, "last_activity_date": 1498111726, "creation_date": 1498111726, "answer_id": 44691409, "question_id": 44679499, "link": "https://stackoverflow.com/questions/44679499/how-to-coordinate-a-list-of-completable-executions-with-rxjava/44691409#44691409", "title": "How to coordinate a list of Completable executions with RxJava?", "body": "<p>You can do it in various ways:</p>\n\n<pre><code> fun run(): Completable {\n    return Completable.concat(tasks.map { task -&gt;\n        task.run()\n                .doOnComplete { logTaskCompletedSuccessfully(task) }\n                .doOnError { error -&gt;\n                    logTaskFailed(task, error)\n                }\n    })\n}\n</code></pre>\n\n<p>sequential execution is achieved by the <code>concat</code> operator, error from some of the <code>Completable</code>s will stop the stream with <code>onError()</code>, and you will get the logging capability with either success or error.  </p>\n\n<p>as for the <code>blockPipe()</code> flag, if I understands correctly it is used to flag that the task has failed and you should break the stream, if that's the case, seems unnecessary to me, for any failure in the task, throw <code>Exception</code> instead of raising a flag, and the exception will break the stream with <code>onError</code>. </p>\n\n<hr>\n\n<p>Another option is to use more reactive approach instead of iterating the tasks on the list, iterate it with <code>Observable</code>.<br>\nstart with <code>Observable</code>, that iterates the list of tasks, and then <code>flatMap</code> each task to <code>Completable</code>. \nsequential execution is achieved here as you're not applying any Scheduler to each <code>Completable</code>, and hence the order of execution is maintained.</p>\n\n<pre><code> fun run(): Completable {\n    return Observable.fromIterable(tasks)\n            .flatMapCompletable { task -&gt;\n                task.run()\n                        .doOnComplete { logTaskCompletedSuccessfully(task) }\n                        .doOnError { error -&gt;\n                            logTaskFailed(task, error)\n                        }\n            }\n            .subscribeOn(Schedulers.newThread() // Schedulers.io())\n}\n</code></pre>\n"}], "owner": {"reputation": 2873, "user_id": 7822962, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/VAPYJ.png?s=128&g=1", "display_name": "Humble Student", "link": "https://stackoverflow.com/users/7822962/humble-student"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3999, "favorite_count": 0, "accepted_answer_id": 44691409, "answer_count": 1, "score": 1, "last_activity_date": 1515224090, "creation_date": 1498056687, "last_edit_date": 1515224090, "question_id": 44679499, "link": "https://stackoverflow.com/questions/44679499/how-to-coordinate-a-list-of-completable-executions-with-rxjava", "title": "How to coordinate a list of Completable executions with RxJava?", "body": "<p>I have a list of <code>BlockingTasks</code> that I want to run sequentially:</p>\n\n<pre><code>class BlockingTaskManager {\n    val tasks = mutableListOf&lt;BlockingTask&gt;()\n\n    fun run () : Completable {\n        /* What can I put here in order to run\n           all tasks and return a completable according with the\n           requirements described below? */\n    }\n}\n\ninterface BlockingTask {\n\n    fun run () : Completable\n\n    fun getDescription(): String\n\n    fun blockPipe(): Boolean\n}\n</code></pre>\n\n<h2>Requirements</h2>\n\n<ul>\n<li>If any <code>Completable</code> in the pipe finishes with error, the whole execution should stop.;</li>\n<li>When a <code>Completable</code> returned by <code>run()</code> finishes, either with error or success, a log containing the timestamp and the String returned by <code>getDescription()</code> should be issued;</li>\n</ul>\n\n<hr>\n\n<p>I thought about using <code>Completable.concat { tasks }</code>, but I don't see how I can call <code>currentIterationTask.run()</code> and how to fail the pipe if <code>run()</code> results on error, as well as logging <code>currentInterationTask.getDescription()</code>.</p>\n\n<p>Another idea was using <code>andThen()</code>, but I'm not sure if it will work as needed:</p>\n\n<pre><code>    tasks.forEachIndexed {\n        idx, task -&gt;\n        var isBroken = false\n        task.run()\n                .doOnComplete {\n                    logTaskCompletedSuccessfully(task)\n                }\n                .doOnError {\n                    error -&gt;\n                    logTaskFailed(task, error)\n                    isBroken = task.blockPipe()\n                }\n                .andThen {\n                    if (!isBroken &amp;&amp; idx &lt; tasks.size) {\n                        tasks[idx+1]\n                    }\n                }\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 8052, "user_id": 2959120, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/hYi2J.jpg?s=128&g=1", "display_name": "Mladen Rakonjac", "link": "https://stackoverflow.com/users/2959120/mladen-rakonjac"}, "edited": false, "score": 0, "creation_date": 1499961277, "post_id": 44684519, "comment_id": 77143708, "body": "I am getting:  Error:Could not find org.jetbrains.kotlin:kotlin-gradle-plugin:1.1.3-eap-85. Searched in the following locations:"}, {"owner": {"reputation": 750, "user_id": 2990802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yd6kI.jpg?s=128&g=1", "display_name": "0wl", "link": "https://stackoverflow.com/users/2990802/0wl"}, "reply_to_user": {"reputation": 8052, "user_id": 2959120, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/hYi2J.jpg?s=128&g=1", "display_name": "Mladen Rakonjac", "link": "https://stackoverflow.com/users/2959120/mladen-rakonjac"}, "edited": false, "score": 0, "creation_date": 1512668225, "post_id": 44684519, "comment_id": 82361377, "body": "@MladenRakonjac I&#39;ve updated my answer. Check it please."}, {"owner": {"reputation": 1976, "user_id": 434400, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/7cc7232e06994cbed8c8ecdadd557060?s=128&d=identicon&r=PG", "display_name": "Danedo", "link": "https://stackoverflow.com/users/434400/danedo"}, "edited": false, "score": 0, "creation_date": 1517270619, "post_id": 44684519, "comment_id": 84018776, "body": "Turns out I was missing the &#39;kotlin-kapt&#39; apply plugin. Everything worked fine until this query issue, amusingly."}], "tags": [], "owner": {"reputation": 750, "user_id": 2990802, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yd6kI.jpg?s=128&g=1", "display_name": "0wl", "link": "https://stackoverflow.com/users/2990802/0wl"}, "is_accepted": false, "score": 1, "last_activity_date": 1512668193, "last_edit_date": 1512668193, "creation_date": 1498072540, "answer_id": 44684519, "question_id": 44678547, "link": "https://stackoverflow.com/questions/44678547/room-and-kotlin-getting-each-bind-variable-in-the-query-must-have-a-matching/44684519#44684519", "title": "Room and Kotlin - getting &quot;Each bind variable in the query must have a matching method parameter.&quot;", "body": "<p>To avoid that problem you have to use kotlin-kapt plugin in your build.gradle.</p>\n\n<pre><code>...\n\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n\n...\n\nandroid {\n...\n}\n</code></pre>\n\n<p>btw, ensure that you're using kotlin 1.2.0+</p>\n"}, {"comments": [{"owner": {"reputation": 825, "user_id": 3118604, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63ee8d8249df323a6a63fa99f52eb5a1?s=128&d=identicon&r=PG&f=1", "display_name": "user3118604", "link": "https://stackoverflow.com/users/3118604/user3118604"}, "edited": false, "score": 0, "creation_date": 1520868845, "post_id": 47164897, "comment_id": 85481443, "body": "Encountered this issue even when not using Kotlin anywhere project. This solved it"}, {"owner": {"reputation": 227, "user_id": 1393652, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/2ce0d35be3ba174bd62405c439ec7e1d?s=128&d=identicon&r=PG", "display_name": "Ivo Pavlik", "link": "https://stackoverflow.com/users/1393652/ivo-pavlik"}, "edited": false, "score": 0, "creation_date": 1595057179, "post_id": 47164897, "comment_id": 111347995, "body": "Facing the same issue with Java when my dao is in a module and database class in application. Room v2.2.5"}], "tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": true, "score": 4, "last_activity_date": 1510078814, "creation_date": 1510078814, "answer_id": 47164897, "question_id": 44678547, "link": "https://stackoverflow.com/questions/44678547/room-and-kotlin-getting-each-bind-variable-in-the-query-must-have-a-matching/47164897#47164897", "title": "Room and Kotlin - getting &quot;Each bind variable in the query must have a matching method parameter.&quot;", "body": "<p>Try to change \"network\" param to \"arg0\"</p>\n\n<pre><code>@Query(\"SELECT * FROM token_descriptors WHERE network LIKE :arg0\")\n</code></pre>\n\n<p>In newer versions of kotlin and room this issue was fixed!</p>\n"}], "owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1249, "favorite_count": 0, "accepted_answer_id": 47164897, "answer_count": 2, "score": 0, "last_activity_date": 1512668193, "creation_date": 1498054276, "question_id": 44678547, "link": "https://stackoverflow.com/questions/44678547/room-and-kotlin-getting-each-bind-variable-in-the-query-must-have-a-matching", "title": "Room and Kotlin - getting &quot;Each bind variable in the query must have a matching method parameter.&quot;", "body": "<p>I am getting this error:</p>\n\n<pre><code>error: Each bind variable in the query must have a matching method parameter. Cannot find method parameters for :network.\nerror: Unused parameter: arg0\n</code></pre>\n\n<p>when trying Room and Kotlin like this:</p>\n\n<pre><code>@Dao\ninterface TokenDefinitionDao {\n\n    @Query(\"SELECT * FROM token_descriptors WHERE network LIKE :network\")\n    fun getAllForNetwork(network: String?): List&lt;TokenDescriptor&gt;\n\n    @Delete\n    fun delete(token: TokenDescriptor)\n}\n</code></pre>\n\n<p>But I am passing and using this parameter. Anyone sees what the problem is or can point me to working examples of using Room with Kotlin?</p>\n"}, {"tags": ["java", "rx-java", "kotlin", "rx-java2"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 1, "creation_date": 1498054394, "post_id": 44678513, "comment_id": 76341236, "body": "Can you show us where you got stuck with the things you have tried?"}, {"owner": {"reputation": 193, "user_id": 3057984, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd785f841178a64a84c83b6c0c08973e?s=128&d=identicon&r=PG", "display_name": "KNOX.C", "link": "https://stackoverflow.com/users/3057984/knox-c"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1498094671, "post_id": 44678513, "comment_id": 76361120, "body": "@nhaarman I updated my question."}, {"owner": {"reputation": 2091, "user_id": 5535096, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/ae3b40fe986d590176f7f82eceffae1e?s=128&d=identicon&r=PG&f=1", "display_name": "Kota1921", "link": "https://stackoverflow.com/users/5535096/kota1921"}, "edited": false, "score": 0, "creation_date": 1498107813, "post_id": 44678513, "comment_id": 76364446, "body": "I guess you can collect responses in onNext method in you subscriber and use all collected in onCompleted."}], "answers": [{"comments": [{"owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "edited": false, "score": 0, "creation_date": 1498118440, "post_id": 44693458, "comment_id": 76370143, "body": "You probably want to <code>subscribeOn</code> just before <code>subscribe</code>. Otherwise the buffer operation will take place in Android&#39;s main thread"}, {"owner": {"reputation": 193, "user_id": 3057984, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd785f841178a64a84c83b6c0c08973e?s=128&d=identicon&r=PG", "display_name": "KNOX.C", "link": "https://stackoverflow.com/users/3057984/knox-c"}, "reply_to_user": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "edited": false, "score": 0, "creation_date": 1498119490, "post_id": 44693458, "comment_id": 76370865, "body": "Thanks for the tips, it should observeOn main thread after buffer()"}], "tags": [], "owner": {"reputation": 193, "user_id": 3057984, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd785f841178a64a84c83b6c0c08973e?s=128&d=identicon&r=PG", "display_name": "KNOX.C", "link": "https://stackoverflow.com/users/3057984/knox-c"}, "is_accepted": true, "score": 1, "last_activity_date": 1498119612, "last_edit_date": 1498119612, "creation_date": 1498118165, "answer_id": 44693458, "question_id": 44678513, "link": "https://stackoverflow.com/questions/44678513/how-to-collect-async-response-using-rxjava/44693458#44693458", "title": "How to collect async response using RxJava", "body": "<p>Finally I have accomplish by using PublishProcessor, PublishSubject can also do the trick, but I skip the difference between them.  </p>\n\n<pre><code>val mPublishProcessor: FlowableProcessor&lt;String&gt; = PublishProcessor.create&lt;String&gt;().toSerialized()\n\nlist.forEach {\n    doSomeAsyncTasksWithCallback(string) {\n      mPublishProcessor.onNext(string)\n    }\n}\n\nmPublishProcessor\n.buffer(list.size)\n.observeOn(AndroidSchedulers.mainThread())\n.subscribe {\n   doSomethingWithTheCollectedStrings()\n}\n</code></pre>\n"}], "owner": {"reputation": 193, "user_id": 3057984, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/cd785f841178a64a84c83b6c0c08973e?s=128&d=identicon&r=PG", "display_name": "KNOX.C", "link": "https://stackoverflow.com/users/3057984/knox-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 174, "favorite_count": 0, "accepted_answer_id": 44693458, "answer_count": 1, "score": 0, "last_activity_date": 1498119612, "creation_date": 1498054191, "last_edit_date": 1498094633, "question_id": 44678513, "link": "https://stackoverflow.com/questions/44678513/how-to-collect-async-response-using-rxjava", "title": "How to collect async response using RxJava", "body": "<p>Here is my goal: collect responses from async tasks that come from a third party library    </p>\n\n<p>requirement: use RxJava2 to accomplish in order </p>\n\n<p>I'm stuck at thinking use which operator or operators to do so, ideas are appreciated.</p>\n\n<p>My thought is:  </p>\n\n<pre><code>Flowable.fromIterable(list)\n    .anOperatorCanOnNextTheResponse()\n    .buffer()\n    .subscribe(newList)\n</code></pre>\n"}, {"tags": ["kotlin", "kotlin-extension"], "comments": [{"owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "edited": false, "score": 16, "creation_date": 1498050491, "post_id": 44676853, "comment_id": 76338168, "body": "Why do you use class named <i>Constants</i> to store mutable variables?"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1498050918, "post_id": 44676853, "comment_id": 76338511, "body": "Show your stack trace."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1498050979, "post_id": 44676853, "comment_id": 76338550, "body": "an <code>ExceptionInInitializerError</code> is occurs in static <i>initializer / static initialization</i>, I don&#39;t know why you are reported such an error?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user961376"}, "edited": false, "score": 2, "creation_date": 1498055182, "post_id": 44676853, "comment_id": 76341862, "body": "It tested your code and it works for me"}, {"owner": {"reputation": 1436, "user_id": 6526330, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1431b869f4c90eb411cad50d59df2425?s=128&d=identicon&r=PG&f=1", "display_name": "Dr. Nitpick", "link": "https://stackoverflow.com/users/6526330/dr-nitpick"}, "edited": false, "score": 0, "creation_date": 1498362332, "post_id": 44676853, "comment_id": 76467060, "body": "I admit I don;t know a lot about how Kotlin initializes properties in an object but it almost looks like it is happening after you access it. Can you try annotating your vars in your object with <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#static-methods\" rel=\"nofollow noreferrer\"><code>@JvmStatic</code></a> and let us know if that fixes it?"}], "owner": {"reputation": 383, "user_id": 7955472, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/5e27d959ccf20210eb515c8fed4f077e?s=128&d=identicon&r=PG&f=1", "display_name": "GeekyInt", "link": "https://stackoverflow.com/users/7955472/geekyint"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2885, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1498053442, "creation_date": 1498049907, "last_edit_date": 1498053442, "question_id": 44676853, "link": "https://stackoverflow.com/questions/44676853/how-to-create-a-static-class-in-kotlin", "title": "How to create a static class in Kotlin?", "body": "<p>I have 2 classes:</p>\n\n<pre><code>object TrimNCompressConstants {\n  var REQUEST_CODE = 101\n  var EXTRA_VIDEO_PATH = \"EXTRA_VIDEO_PATH\"\n  var EXTRA_MESSAGE = \"EXTRA_MESSAGE\"\n  var RESULT_SUCCESS = 102 \n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>class VideoUtil (var context : Context?) {\n  fun show (code : Int) {\n    TrimNCompressConstants.REQUEST_CODE = code\n  }\n}\n</code></pre>\n\n<p>When in call <code>show()</code>, it gives an error for <code>TrimNCompressConstants.REQUEST_CODE = code</code>:</p>\n\n<blockquote>\n  <p>java.lang.ExceptionInInitializerError</p>\n</blockquote>\n\n<p>Can anybody help on this?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin", "kotlin-extension"], "answers": [{"tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": false, "score": 0, "last_activity_date": 1498047828, "creation_date": 1498047828, "answer_id": 44676049, "question_id": 44675974, "link": "https://stackoverflow.com/questions/44675974/converting-my-existing-android-studio-project-to-kotlin/44676049#44676049", "title": "Converting my existing android studio project to kotlin?", "body": "<p>Include <code>maven { url 'https://maven.google.com' }</code> in your repositories sections:</p>\n\n<pre><code>buildscript {\n  repositories {\n    /* ... */\n    maven { url 'https://maven.google.com' }\n  }\n}\n\nrepositories {\n   /* ... */\n   maven { url 'https://maven.google.com' }\n}\n</code></pre>\n\n<p>If you use Gradle 4+, you can use <code>google()</code> instead.</p>\n"}, {"comments": [{"owner": {"reputation": 1164, "user_id": 7445389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-s4ffATDogr4/AAAAAAAAAAI/AAAAAAAARz4/-nYozKzogbo/photo.jpg?sz=128", "display_name": "amit pandya", "link": "https://stackoverflow.com/users/7445389/amit-pandya"}, "edited": false, "score": 0, "creation_date": 1558033768, "post_id": 52329500, "comment_id": 98976889, "body": "After doing this, do I have to remove .java files?"}, {"owner": {"reputation": 656, "user_id": 5687476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f4c57abeca2396bdbb690bd5137bd80?s=128&d=identicon&r=PG", "display_name": "Paramjit Singh Rana", "link": "https://stackoverflow.com/users/5687476/paramjit-singh-rana"}, "reply_to_user": {"reputation": 1164, "user_id": 7445389, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-s4ffATDogr4/AAAAAAAAAAI/AAAAAAAARz4/-nYozKzogbo/photo.jpg?sz=128", "display_name": "amit pandya", "link": "https://stackoverflow.com/users/7445389/amit-pandya"}, "edited": false, "score": 0, "creation_date": 1565067450, "post_id": 52329500, "comment_id": 101223706, "body": "@amitpandya no need to delete android java files."}], "tags": [], "owner": {"reputation": 103, "user_id": 10356809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfe8d6e3a0fcd676ce7020b538ab16b6?s=128&d=identicon&r=PG&f=1", "display_name": "Ramanjeet", "link": "https://stackoverflow.com/users/10356809/ramanjeet"}, "is_accepted": false, "score": 3, "last_activity_date": 1536918985, "last_edit_date": 1592644375, "creation_date": 1536918985, "answer_id": 52329500, "question_id": 44675974, "link": "https://stackoverflow.com/questions/44675974/converting-my-existing-android-studio-project-to-kotlin/52329500#52329500", "title": "Converting my existing android studio project to kotlin?", "body": "<p>Converting an android project to kotlin</p>\n<p>This is a small write-up of my experiences from converting a native android-app from java to kotlin.</p>\n<h1>Convert your project!</h1>\n<p>The first step is easy, android-studio will do most of the work for you. To convert the existing java code into kotlin, simply select the src/main/java folder in the project and choose Code-&gt;\u201cConvert Java File to Kotlin File\u201d. Android studio will then try as best as it can to convert all your java-code to kotlin-code.</p>\n<p>Android studio will convert all your .java files into .kt files in-place, leaving them in src/main/java.</p>\n<p>Your project will probably not compile now, because of differences in how java and kotlin handle #nullability.</p>\n<p>nullability(.!!?) issues\nOne of the big advantages kotlin has over java is the handling of nullability. By default, an object is non-nullable and has to explicitly specified to be nullable.</p>\n<h1>Android-annotations (if applicable)</h1>\n<p>To use android-annotations, add the kotlin-kapt plugin to your build-script and add the android-annotations-dependency to the kapt-configuration:</p>\n<pre><code>...\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n...\n\ndependencies{\n...\n    kapt &quot;org.androidannotations:androidannotations:4.3.1&quot;\n\n}\n</code></pre>\n"}], "owner": {"reputation": 656, "user_id": 5687476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f4c57abeca2396bdbb690bd5137bd80?s=128&d=identicon&r=PG", "display_name": "Paramjit Singh Rana", "link": "https://stackoverflow.com/users/5687476/paramjit-singh-rana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 844, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1561826299, "creation_date": 1498047646, "last_edit_date": 1561826299, "question_id": 44675974, "link": "https://stackoverflow.com/questions/44675974/converting-my-existing-android-studio-project-to-kotlin", "title": "Converting my existing android studio project to kotlin?", "body": "<p>Error:Could not find com.android.tools.build:gradle:3.0.0-alpha2</p>\n\n<p>Searched in the following locations:</p>\n\n<p>file:/User/3.0/android-studio/gradle/m2repository/com/android/tools/build/gradle/3.0.0-alpha2/gradle-3.0.0-alpha2.pom</p>\n\n<p><a href=\"https://jcenter.bintray.com/com/\" rel=\"nofollow noreferrer\">https://jcenter.bintray.com/com/</a>...</p>\n\n<p>Required by: project</p>\n\n<p>It is working fine with Android studio 2.3.</p>\n\n<p>I have tried cleaning project, deleting build folder from the project, invalidate and restart.</p>\n\n<p>What can I do?</p>\n"}, {"tags": ["android", "gson", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 11450, "user_id": 1533933, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3UF7i.png?s=128&g=1", "display_name": "krossovochkin", "link": "https://stackoverflow.com/users/1533933/krossovochkin"}, "edited": false, "score": 0, "creation_date": 1498046493, "post_id": 44675487, "comment_id": 76334993, "body": "Also you can try to use some 3rd-party libraries for Gson written in kotlin, like: <a href=\"https://github.com/SalomonBrys/Kotson\" rel=\"nofollow noreferrer\">github.com/SalomonBrys/Kotson</a>"}], "tags": [], "owner": {"reputation": 11450, "user_id": 1533933, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3UF7i.png?s=128&g=1", "display_name": "krossovochkin", "link": "https://stackoverflow.com/users/1533933/krossovochkin"}, "is_accepted": true, "score": 1, "last_activity_date": 1498046339, "creation_date": 1498046339, "answer_id": 44675487, "question_id": 44675367, "link": "https://stackoverflow.com/questions/44675367/android-studio-kotlin-gsonbuilder-registertypeadapter-gives-2-errors/44675487#44675487", "title": "Android Studio (Kotlin) GsonBuilder.registerTypeAdapter() gives 2 errors", "body": "<p><code>DateTime.class</code> should be changed to <code>Date::class.java</code></p>\n\n<p>Maybe it will resolve your second issue as well, otherwise please post your <code>DateTimeTypeConverter</code> source code</p>\n\n<blockquote>\n  <p>Class References</p>\n  \n  <p>The most basic reflection feature is getting the runtime reference to\n  a Kotlin class. To obtain the reference to a statically known Kotlin\n  class, you can use the class literal syntax:</p>\n  \n  <p>val c = MyClass::class The reference is a value of type KClass.</p>\n  \n  <p>Note that a Kotlin class reference is not the same as a Java class\n  reference. To obtain a Java class reference, use the .java property on\n  a KClass instance.</p>\n</blockquote>\n\n<p>Reference: <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/reflection.html</a></p>\n"}], "owner": {"reputation": 663, "user_id": 6327913, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1158118634201351/picture?type=large", "display_name": "Simon Andersson", "link": "https://stackoverflow.com/users/6327913/simon-andersson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 594, "favorite_count": 0, "accepted_answer_id": 44675487, "answer_count": 1, "score": 0, "last_activity_date": 1498046339, "creation_date": 1498046037, "last_edit_date": 1498046260, "question_id": 44675367, "link": "https://stackoverflow.com/questions/44675367/android-studio-kotlin-gsonbuilder-registertypeadapter-gives-2-errors", "title": "Android Studio (Kotlin) GsonBuilder.registerTypeAdapter() gives 2 errors", "body": "<p>I am using the <a href=\"https://kotlinlang.org/\" rel=\"nofollow noreferrer\">Kotlin</a> plugin and trying to create a <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">gson</a> variable using <a href=\"https://google.github.io/gson/apidocs/com/google/gson/GsonBuilder.html\" rel=\"nofollow noreferrer\">GsonBuilder</a>.</p>\n\n<p>This used to work without problems in Java, but now in I get the two errors when trying to use <a href=\"https://google.github.io/gson/apidocs/com/google/gson/GsonBuilder.html#registerTypeAdapter-java.lang.reflect.Type-java.lang.Object-\" rel=\"nofollow noreferrer\">registerTypeAdapter()</a>, as shown below:</p>\n\n<pre><code>val gson = GsonBuilder().registerTypeAdapter(DateTime.class, DateTimeTypeConverter()).create()\n</code></pre>\n\n<p>For the first parameter (type), I get <strong>\"name expected\" error.</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/8IDhl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8IDhl.png\" alt=\"enter image description here\"></a></p>\n\n<p>For the second parameter (typeAdapter), I get \"expecting an expression\" error</p>\n\n<p><a href=\"https://i.stack.imgur.com/1VlG4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1VlG4.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["list", "kotlin", "filtering"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 3, "creation_date": 1498043799, "post_id": 44674532, "comment_id": 76333036, "body": "just copy this code to kotlin file, IDE automatically do it for you."}], "answers": [{"comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 3, "creation_date": 1498044042, "post_id": 44674612, "comment_id": 76333197, "body": "I would&#39;ve been stunned if there wasn&#39;t a function for this. The standard library is amazing."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 1, "creation_date": 1498044387, "post_id": 44674612, "comment_id": 76333431, "body": "Did you mean <code>removeAll</code>? Because in the question an item is removed when the predicate <i>passes</i>."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 0, "creation_date": 1498044480, "post_id": 44674612, "comment_id": 76333500, "body": "@Ilya, thanks, it&#39;s just the name <code>checkItem</code> confused me. Fixed."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 67, "last_activity_date": 1498046218, "last_edit_date": 1498046218, "creation_date": 1498043901, "answer_id": 44674612, "question_id": 44674532, "link": "https://stackoverflow.com/questions/44674532/how-to-filter-a-list-in-place-with-kotlin/44674612#44674612", "title": "How to filter a list in-place with Kotlin?", "body": "<p>Just use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/retain-all.html\" rel=\"noreferrer\"><code>.retainAll { ... }</code></a> or <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/remove-all.html\" rel=\"noreferrer\"><code>.removeAll { ... }</code></a>, both accepting a predicate, to filter it in-place:</p>\n\n<pre><code>items.retainAll { shouldRetain(it) }\n</code></pre>\n\n<p><sup></p>\n\n<pre><code>items.removeAll { shouldRemove(it) }\n</code></pre>\n\n<p>Note that <code>items</code> should be a <code>MutableList&lt;T&gt;</code> for that, not just <code>List&lt;T&gt;</code>, which is a read-only list in Kotlin and thus does not expose any mutating functions (see: <a href=\"https://kotlinlang.org/docs/reference/collections.html#collections\" rel=\"noreferrer\"><em>Collections</em></a> in the language reference).</p>\n\n<p><sub>By the way, these two function are implemented efficiently for lists that support random access: then the list is not compacted after each item is removed (<em>O(n<sup>2</sup>)</em> time worst-case), and instead the items are moved within the list as it is processed, giving <em>O(n)</em> time.</sub></p>\n\n<hr>\n\n<p>And if you don't want to modify the original list, you can produce a separate collection with only the items you want to retain using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter.html\" rel=\"noreferrer\"><code>.filter { ... }</code></a> or <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/filter-not.html\" rel=\"noreferrer\"><code>.filterNot { ... }</code></a>, this will work for read-only <code>List&lt;T&gt;</code> as well:</p>\n\n<pre><code>val filtered = items.filter { shouldRetain(it) }\n</code></pre>\n\n<p></sup></p>\n\n<pre><code>val filtered = items.filterNot { shouldRemove(it) }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 607, "user_id": 1527472, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9hkaD.jpg?s=128&g=1", "display_name": "Konstantin Kiriushyn", "link": "https://stackoverflow.com/users/1527472/konstantin-kiriushyn"}, "is_accepted": false, "score": 5, "last_activity_date": 1498044010, "creation_date": 1498044010, "answer_id": 44674673, "question_id": 44674532, "link": "https://stackoverflow.com/questions/44674532/how-to-filter-a-list-in-place-with-kotlin/44674673#44674673", "title": "How to filter a list in-place with Kotlin?", "body": "<p>Kotlin has a lot of neat built-in functions. You can try to use <code>filter</code> here.</p>\n\n<pre><code>val filteredItems = items.filter { checkItem(it) }  \n</code></pre>\n\n<p>Unfortunately, it will recreate the list. This API was designed on purpose to avoid extra mutability. </p>\n\n<p>But if you still want to proceed with a MutableList use <code>retainAll</code> method</p>\n\n<pre><code>items.retainAll { checkItem(it) }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5291, "user_id": 5279156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHs51.jpg?s=128&g=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/5279156/vlad"}, "edited": false, "score": 0, "creation_date": 1574786943, "post_id": 55735063, "comment_id": 104351071, "body": "Thanks for examples"}], "tags": [], "owner": {"reputation": 17444, "user_id": 2069407, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9cf04e8273f7868fedf1fe32e1a5ec4f?s=128&d=identicon&r=PG", "display_name": "s-hunter", "link": "https://stackoverflow.com/users/2069407/s-hunter"}, "is_accepted": false, "score": 2, "last_activity_date": 1555531257, "last_edit_date": 1555531257, "creation_date": 1555530853, "answer_id": 55735063, "question_id": 44674532, "link": "https://stackoverflow.com/questions/44674532/how-to-filter-a-list-in-place-with-kotlin/55735063#55735063", "title": "How to filter a list in-place with Kotlin?", "body": "<p>This will remove even numbers from the list 1-9, and prints <code>[1, 3, 5, 7, 9]</code></p>\n\n<pre><code>var myLists = mutableListOf(1,2,3,4,5,6,7,8,9)\nmyLists.removeAll{ it % 2 == 0 }\nprintln(myLists)\n</code></pre>\n\n<p>This will retain even numbers and remove others from the list 1-9, and prints <code>[2, 4, 6, 8]</code></p>\n\n<pre><code>myLists = mutableListOf(1,2,3,4,5,6,7,8,9)\nmyLists.retainAll{ it % 2 == 0 }\nprintln(myLists)\n</code></pre>\n\n<p>Try them in <a href=\"https://play.kotlinlang.org/\" rel=\"nofollow noreferrer\">https://play.kotlinlang.org/</a></p>\n"}], "owner": {"reputation": 4098, "user_id": 1393280, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/767b919d51cfd467ac1ebf47abb14e51?s=128&d=identicon&r=PG", "display_name": "BArtWell", "link": "https://stackoverflow.com/users/1393280/bartwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16388, "favorite_count": 7, "accepted_answer_id": 44674612, "answer_count": 3, "score": 33, "last_activity_date": 1557848975, "creation_date": 1498043642, "last_edit_date": 1557848975, "question_id": 44674532, "link": "https://stackoverflow.com/questions/44674532/how-to-filter-a-list-in-place-with-kotlin", "title": "How to filter a list in-place with Kotlin?", "body": "<p>In Java I can remove items from a list with this code:</p>\n\n<pre><code>private void filterList(List&lt;Item&gt; items) {\n    Iterator&lt;Item&gt; iterator = items.iterator();\n    while (iterator.hasNext()) {\n        if (checkItem(iterator.next())) {\n            iterator.remove();\n        }\n    }\n}\n</code></pre>\n\n<p>How to make the same in Kotlin (i.e. remove some items in a <code>List</code> without re-creation)? </p>\n"}, {"tags": ["java", "intellij-idea", "gradle", "kotlin", "readline"], "comments": [{"owner": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 2, "creation_date": 1498038469, "post_id": 44672217, "comment_id": 76329283, "body": "See <a href=\"https://youtrack.jetbrains.com/issue/IDEA-133811\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/IDEA-133811</a>, should be fixed in <a href=\"https://www.jetbrains.com/idea/nextversion/\" rel=\"nofollow noreferrer\">jetbrains.com/idea/nextversion</a>."}, {"owner": {"reputation": 4030, "user_id": 454378, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/35ecec2dbfe92776f966832447c8ac2d?s=128&d=identicon&r=PG", "display_name": "Harindaka", "link": "https://stackoverflow.com/users/454378/harindaka"}, "reply_to_user": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 0, "creation_date": 1498045183, "post_id": 44672217, "comment_id": 76334015, "body": "@CrazyCoder Thank you"}, {"owner": {"reputation": 2970, "user_id": 1144085, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d993682d7644f6709d4c810665e0f070?s=128&d=identicon&r=PG", "display_name": "ejain", "link": "https://stackoverflow.com/users/1144085/ejain"}, "edited": false, "score": 0, "creation_date": 1546654259, "post_id": 44672217, "comment_id": 94932051, "body": "To get System.in to work in unit tests, see <a href=\"https://stackoverflow.com/questions/38482844/reading-system-in-from-the-console-using-intellij-and-junit/54028823#54028823\" title=\"reading system in from the console using intellij and junit\">stackoverflow.com/questions/38482844/&hellip;</a>."}], "owner": {"reputation": 4030, "user_id": 454378, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/35ecec2dbfe92776f966832447c8ac2d?s=128&d=identicon&r=PG", "display_name": "Harindaka", "link": "https://stackoverflow.com/users/454378/harindaka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1316, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1498037641, "creation_date": 1498037641, "question_id": 44672217, "link": "https://stackoverflow.com/questions/44672217/why-doesnt-intellij-idea-console-pause-for-user-input", "title": "Why Doesn&#39;t Intellij Idea Console Pause for User Input", "body": "<p>I have a simple Kotlin project which uses a Gradle build file. The main function is as follows.</p>\n\n<pre><code>fun main(args:Array&lt;String&gt;){\n    println(\"test\")\n    val input = readLine()\n    println(\"You entered: $input\")\n}\n</code></pre>\n\n<p>The Gradle file is as follows</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.2'\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'kotlin'\napply plugin: 'application'\n\nmainClassName = 'MainKt'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    testCompile 'junit:junit:4.11'\n    testCompile \"org.jetbrains.kotlin:kotlin-test-junit:$kotlin_version\"\n}\n\nrun {\n    standardInput = System.in\n}\n</code></pre>\n\n<p>Everything works as expected when I run Gradle from the command line like so</p>\n\n<pre><code>gradle run -q --console plain\n</code></pre>\n\n<p>I have configured Idea to run my project as follows</p>\n\n<p><a href=\"https://i.stack.imgur.com/D9ISt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D9ISt.png\" alt=\"Project Run Configuration\"></a></p>\n\n<p>However, it seems the Idea Run console does not wait for user input at the readLine() method and simply prints</p>\n\n<pre><code>test\nYou entered: null\n</code></pre>\n\n<p>How do I fix this in Idea? (I'm running Idea on Windows)</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1498029075, "post_id": 44669079, "comment_id": 76322849, "body": "All of these collections have an <code>isEmpty()</code> method, if that&#39;s what you&#39;re looking for."}, {"owner": {"reputation": 299, "user_id": 5196822, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-bidf7y6-aDE/AAAAAAAAAAI/AAAAAAAAAEQ/QqDjVASr0qA/photo.jpg?sz=128", "display_name": "Rohit Parmar", "link": "https://stackoverflow.com/users/5196822/rohit-parmar"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1498029150, "post_id": 44669079, "comment_id": 76322886, "body": "how to declare an empty collection that i am looking for"}], "answers": [{"comments": [{"owner": {"reputation": 299, "user_id": 5196822, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-bidf7y6-aDE/AAAAAAAAAAI/AAAAAAAAAEQ/QqDjVASr0qA/photo.jpg?sz=128", "display_name": "Rohit Parmar", "link": "https://stackoverflow.com/users/5196822/rohit-parmar"}, "edited": false, "score": 0, "creation_date": 1498030570, "post_id": 44669176, "comment_id": 76323806, "body": "Thanks for your last edit i am searching for that whats the main difference"}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 2, "creation_date": 1498030869, "post_id": 44669176, "comment_id": 76323987, "body": "&quot;in the first case you get mutable collections&quot; - are you sure it is not the other way around?"}, {"owner": {"reputation": 497, "user_id": 1080191, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/6f023540d4107d16eca48cd7fcdbed9b?s=128&d=identicon&r=PG", "display_name": "brescia123", "link": "https://stackoverflow.com/users/1080191/brescia123"}, "edited": false, "score": 4, "creation_date": 1498032713, "post_id": 44669176, "comment_id": 76325136, "body": "<code>listOf&lt;String&gt;()</code> and <code>emptyList&lt;String&gt;()</code> are exactly the same: the first one just call the second one!"}], "tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": true, "score": 24, "last_activity_date": 1519891862, "last_edit_date": 1519891862, "creation_date": 1498029238, "answer_id": 44669176, "question_id": 44669079, "link": "https://stackoverflow.com/questions/44669079/declaring-empty-collections-in-kotlin/44669176#44669176", "title": "Declaring empty collections in Kotlin", "body": "<blockquote>\n  <p>I want to check is these collections are empty or not.</p>\n</blockquote>\n\n<p>Why can't you simply use the <code>isEmpty()</code> method?</p>\n\n<pre><code>print(occupations.isEmpty())    // &gt;&gt;&gt; false\nprint(shoppingList.isEmpty())   // &gt;&gt;&gt; false\nprint(favoriteGenres.isEmpty()) // &gt;&gt;&gt; false\n</code></pre>\n\n<hr>\n\n<p>Anyway, if you really want to declare an empty collection, you can do it like this:</p>\n\n<pre><code>val emptyList = listOf&lt;String&gt;()\nval emptySet = setOf&lt;String&gt;()\nval emptyMap = mapOf&lt;String, String&gt;()\n</code></pre>\n\n<p><strong>OR</strong> </p>\n\n<pre><code>val emptyList = emptyList&lt;String&gt;()\nval emptySet = emptySet&lt;String&gt;()\nval emptyMap = emptyMap&lt;String, String&gt;()\n</code></pre>\n\n<hr>\n\n<p>Let's take a look under the hood. Method <code>listOf()</code> called with no arguments has the following implementation:</p>\n\n<pre><code>/** Returns an empty read-only list.  The returned list is serializable (JVM). */\n@kotlin.internal.InlineOnly\npublic inline fun &lt;T&gt; listOf(): List&lt;T&gt; = emptyList()\n</code></pre>\n\n<p>It's easy to see that it simply calls another method - <code>emptyList()</code>:</p>\n\n<pre><code>/** Returns an empty read-only list.  The returned list is serializable (JVM). */\npublic fun &lt;T&gt; emptyList(): List&lt;T&gt; = EmptyList\n</code></pre>\n\n<p>that returns an <strong>internal object</strong> named <code>EmptyList</code>:</p>\n\n<pre><code>internal object EmptyList : List&lt;Nothing&gt;, Serializable, RandomAccess {\n    // &lt;...&gt;\n}\n</code></pre>\n\n<p>So the summary is that (as <a href=\"https://stackoverflow.com/users/1080191/brescia123\">@brescia123</a> said) these methods do exactly the same thing: both of them return an empty immutable <code>List</code> and it's up to you to decide which one to use.</p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 4, "last_activity_date": 1498029640, "last_edit_date": 1498029640, "creation_date": 1498029239, "answer_id": 44669177, "question_id": 44669079, "link": "https://stackoverflow.com/questions/44669079/declaring-empty-collections-in-kotlin/44669177#44669177", "title": "Declaring empty collections in Kotlin", "body": "<p>You can create empty collections like this:</p>\n\n<pre><code>val occupations = mapOf&lt;String, String&gt;()\nval shoppingList = listOf&lt;String&gt;()\nval favoriteGenres = setOf&lt;String&gt;()\n</code></pre>\n"}], "owner": {"reputation": 299, "user_id": 5196822, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-bidf7y6-aDE/AAAAAAAAAAI/AAAAAAAAAEQ/QqDjVASr0qA/photo.jpg?sz=128", "display_name": "Rohit Parmar", "link": "https://stackoverflow.com/users/5196822/rohit-parmar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7916, "favorite_count": 1, "accepted_answer_id": 44669176, "answer_count": 2, "score": 8, "last_activity_date": 1519891862, "creation_date": 1498028962, "last_edit_date": 1498032206, "question_id": 44669079, "link": "https://stackoverflow.com/questions/44669079/declaring-empty-collections-in-kotlin", "title": "Declaring empty collections in Kotlin", "body": "<p>How can i declare an empty collection for <code>mapOf</code>,<code>listOf</code> and <code>setOf</code> in <strong>Kotlin</strong>?</p>\n\n<p>I have declared below variables:</p>\n\n<pre><code>val occupations = mapOf(Pair(\"Malcolm\", \"Captain\"), Pair(\"Kaylee\", \"Mechanic\"))\nval shoppingList = listOf(\"catfish\", \"water\", \"tulips\", \"blue paint\")\nval favoriteGenres = setOf(\"Rock\", \"Classical\", \"Hip hop\") \n</code></pre>\n\n<p>I want to check is these collection are empty or not.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1498024266, "post_id": 44667689, "comment_id": 76320385, "body": "To clarify, the first case corresponds to <code>obj == a == 1</code>?"}, {"owner": {"reputation": 229, "user_id": 8192173, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-x7W1vNxY6fQ/AAAAAAAAAAI/AAAAAAAAABI/Dvf4hSZq1WE/photo.jpg?sz=128", "display_name": "theerasan tonthongkam", "link": "https://stackoverflow.com/users/8192173/theerasan-tonthongkam"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1498027998, "post_id": 44667689, "comment_id": 76322226, "body": "yes to clarify obj == a == 1"}], "answers": [{"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 4, "last_activity_date": 1498025670, "creation_date": 1498025670, "answer_id": 44668121, "question_id": 44667689, "link": "https://stackoverflow.com/questions/44667689/when-expression-kotlin-how-to-check-when-a-b/44668121#44668121", "title": "when expression kotlin how to check when a &amp; b", "body": "<pre><code>when {\n    obj == 1 &amp;&amp; a == 1 -&gt; doAIsOne()\n    obj == a -&gt; doSomethingA()\n    obj == b -&gt; doSomethingB()\n}\n</code></pre>\n"}], "owner": {"reputation": 229, "user_id": 8192173, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh5.googleusercontent.com/-x7W1vNxY6fQ/AAAAAAAAAAI/AAAAAAAAABI/Dvf4hSZq1WE/photo.jpg?sz=128", "display_name": "theerasan tonthongkam", "link": "https://stackoverflow.com/users/8192173/theerasan-tonthongkam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 44668121, "answer_count": 1, "score": 2, "last_activity_date": 1498069369, "creation_date": 1498023841, "question_id": 44667689, "link": "https://stackoverflow.com/questions/44667689/when-expression-kotlin-how-to-check-when-a-b", "title": "when expression kotlin how to check when a &amp; b", "body": "<p>I have some code need to check 3 conditions by using when how to use when expression do this</p>\n\n<pre><code>when (obj) {\n    a == 1 -&gt; doAIsOne()\n    a -&gt; doSomethingA()\n    b -&gt; doSomethingB()\n}\n</code></pre>\n\n<p>or I just do this?</p>\n\n<pre><code>when (obj) {\n    a -&gt; when(a) {\n        1 -&gt; doAIsOne()\n        else -&gt; doSomethingA()\n    }\n    b -&gt; doSomethingB()\n}\n</code></pre>\n"}, {"tags": ["parameters", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "is_accepted": true, "score": 6, "last_activity_date": 1498021567, "creation_date": 1498021567, "answer_id": 44667215, "question_id": 44667183, "link": "https://stackoverflow.com/questions/44667183/how-do-i-only-pass-one-parameter-to-a-function-when-it-expects-two/44667215#44667215", "title": "How do I only pass one parameter to a function when it expects two?", "body": "<p>You're almost there -- you just need to <em>utilize</em> <a href=\"https://kotlinlang.org/docs/reference/functions.html#named-arguments\" rel=\"noreferrer\">named arguments</a> since you've already have them named:</p>\n\n<pre><code>multipleParams(name = \"Rose\")\n</code></pre>\n\n<p>This will use the default value of <code>1</code> for <code>id</code> as it is not passed and use <code>\"Rose\"</code> for <code>name</code>. You can't simply use positional arguments here because you're not supplying the first argument, so use the names you've given.</p>\n"}, {"tags": [], "owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "is_accepted": false, "score": 3, "last_activity_date": 1498023877, "last_edit_date": 1498023877, "creation_date": 1498023335, "answer_id": 44667558, "question_id": 44667183, "link": "https://stackoverflow.com/questions/44667183/how-do-i-only-pass-one-parameter-to-a-function-when-it-expects-two/44667558#44667558", "title": "How do I only pass one parameter to a function when it expects two?", "body": "<p>I want to add on to the answer of @Andrew Li.</p>\n\n<p>You can just change the order of arguments to achieve that.</p>\n\n<pre><code>fun multipleParams(name: String, id: Int = 1) {\n  ...\n}\n</code></pre>\n\n<p>Now you can call function following way:</p>\n\n<pre><code>multipleParams(\"Rose\", 1)\nmultipleParams(\"Rose\")\n</code></pre>\n\n<p>Note: Preferably default arguments should be at the end of function parameters. Then you need not use named arguments.</p>\n"}, {"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 0, "last_activity_date": 1498047618, "creation_date": 1498047618, "answer_id": 44675963, "question_id": 44667183, "link": "https://stackoverflow.com/questions/44667183/how-do-i-only-pass-one-parameter-to-a-function-when-it-expects-two/44675963#44675963", "title": "How do I only pass one parameter to a function when it expects two?", "body": "<p>I want to add on to the @chandil03's answer.</p>\n\n<p><strong>\"default arguments should be at the end of function parameters\"</strong> ,but except the <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-types\" rel=\"nofollow noreferrer\">Function types</a> parameter, if you want to using <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#lambda-expressions-and-anonymous-functions\" rel=\"nofollow noreferrer\">Lambda Expression</a>, for example:</p>\n\n<pre><code>fun multipleParams(name: String, id: Int = 1, block: () -&gt; Unit) {\n    ...\n}\n\nmultipleParams(\"Rose\") {};\nmultipleParams(\"Rose\", 1) {};\n</code></pre>\n"}], "owner": {"reputation": 3275, "user_id": 908124, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/45951c19a60bd2ab4da4b38fa4b03546?s=128&d=identicon&r=PG", "display_name": "NNikN", "link": "https://stackoverflow.com/users/908124/nnikn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 44667215, "answer_count": 3, "score": 4, "last_activity_date": 1498047618, "creation_date": 1498021373, "last_edit_date": 1498021712, "question_id": 44667183, "link": "https://stackoverflow.com/questions/44667183/how-do-i-only-pass-one-parameter-to-a-function-when-it-expects-two", "title": "How do I only pass one parameter to a function when it expects two?", "body": "<pre><code>fun multipleParams(id: Int = 1 , name: String) {\n  ...\n}\n</code></pre>\n\n<p>I created the above method in the class. The following method call is a working correctly with:</p>\n\n<pre><code>multipleParams(1,\"Rose\")\n</code></pre>\n\n<p>Is it possible to use it in a way, such that sometimes I pass only <code>name</code> and sometimes both? </p>\n\n<pre><code>multipleParams(1,\"Rose\")\nmultipleParams(\"Rose\")\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-studio-2.3"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1498012363, "post_id": 44665668, "comment_id": 76317061, "body": "<code>$kotlin_version</code> is not defined?"}, {"owner": {"reputation": 11, "user_id": 7357129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7469ac3631dcfafd0c8fb0873c6877ab?s=128&d=identicon&r=PG&f=1", "display_name": "\u5353\u660e\u948a", "link": "https://stackoverflow.com/users/7357129/%e5%8d%93%e6%98%8e%e9%92%8a"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1498015934, "post_id": 44665668, "comment_id": 76317870, "body": "@cricket_007 Is this defined?                        \tbuildscript {     ext.kotlin_version = &#39;1.0.0&#39;     repositories {         jcenter()     }     dependencies {         classpath &#39;com.android.tools.build:gradle:2.3.3&#39;         classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;          // NOTE: Do not place your application dependencies here; they belong         // in the individual module build.gradle files     } \t}"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1498049618, "post_id": 44665668, "comment_id": 76337412, "body": "Yes, now if you click on &quot;Show Log&quot; what information is there?"}, {"owner": {"reputation": 11, "user_id": 7357129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7469ac3631dcfafd0c8fb0873c6877ab?s=128&d=identicon&r=PG&f=1", "display_name": "\u5353\u660e\u948a", "link": "https://stackoverflow.com/users/7357129/%e5%8d%93%e6%98%8e%e9%92%8a"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1498441859, "post_id": 44665668, "comment_id": 76485396, "body": "@cricket_007 the log detail :"}], "owner": {"reputation": 11, "user_id": 7357129, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7469ac3631dcfafd0c8fb0873c6877ab?s=128&d=identicon&r=PG&f=1", "display_name": "\u5353\u660e\u948a", "link": "https://stackoverflow.com/users/7357129/%e5%8d%93%e6%98%8e%e9%92%8a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 483, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1498012334, "creation_date": 1498010258, "last_edit_date": 1498012334, "question_id": 44665668, "link": "https://stackoverflow.com/questions/44665668/kotlin-run-on-android-studio-failed-prompt-gradle-sync-failed-connection-timed", "title": "Kotlin run on Android Studio failed prompt &quot;Gradle sync failed: Connection timed out: connect Consult IDE log for more details (Help | Show Log)&quot;", "body": "<p>Kotlin run on Android Studio fialed and tell me \"Gradle sync failed: Connection timed out: connect Consult IDE log for more details (Help | Show Log)\",but if i just new android project and not configure kotlin configuration that ok. </p>\n\n<p>My operational like this:</p>\n\n<pre><code>1.Install kotlin plugin .\n2.configure kotlin in project .\n3.convert java file to kotlin file\n4.Run \"app\" failed \n</code></pre>\n\n<p><strong>My IDE version:</strong> </p>\n\n<p>![IDE version ][1]</p>\n\n<p><strong>My configution</strong> </p>\n\n<pre><code>apply plugin: 'com.android.application'  //kotlin config \napply plugin: 'kotlin-android'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.0\"\n    defaultConfig {\n        applicationId \"com.huawei.myapplication\"\n        minSdkVersion 15\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'com.android.support:appcompat-v7:26.+'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n\n}\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "is_accepted": false, "score": 6, "last_activity_date": 1498134888, "last_edit_date": 1498134888, "creation_date": 1498023335, "answer_id": 44667560, "question_id": 44665611, "link": "https://stackoverflow.com/questions/44665611/kotlin-function-with-nullable-nonnull-input-mapped-to-nullable-nonnull-output/44667560#44667560", "title": "Kotlin function with nullable/nonnull input mapped to nullable/nonnull output", "body": "<blockquote>\n  <p>If not, is there a more elegant alternative?</p>\n</blockquote>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/functions.html#single-expression-functions\" rel=\"nofollow noreferrer\">Single expression functions</a>, <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"nofollow noreferrer\"><code>?.</code> safe calls</a> and standard library functionial inbuilts like <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/let.html\" rel=\"nofollow noreferrer\"><code>.let</code></a> are all your friends, and while cannot parametize functions as you wish, can bring down your code to just two lines:</p>\n\n<pre><code>fun parse(string: String): LibObject = SomeJavaLibrary.parse(string)\nfun parseNullable(string: String?): LibObject? = string?.let { parse(it) }\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT</strong>: You may be able to take advantage of generic type parameters and the fact that nullable types are a supertype of their non-nullable counterparts, but I am not experienced enough to solve this across multiple types.</p>\n"}], "owner": {"reputation": 13935, "user_id": 11015, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zKg6n.jpg?s=128&g=1", "display_name": "miguel", "link": "https://stackoverflow.com/users/11015/miguel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1498134888, "creation_date": 1498009851, "question_id": 44665611, "link": "https://stackoverflow.com/questions/44665611/kotlin-function-with-nullable-nonnull-input-mapped-to-nullable-nonnull-output", "title": "Kotlin function with nullable/nonnull input mapped to nullable/nonnull output", "body": "<p>I'm trying to figure out a way to combine these two functions into one,</p>\n\n<pre><code>fun parse(string: String): LibObject {\n  return SomeJavaLibrary.parse(string)\n}\n\nfun parseNullable(string: String?): LibObject? {\n    if (string != null) {\n        return parse(string)\n    } else {\n        return null;\n    }\n}\n</code></pre>\n\n<p>If the input is nullable I want the output to be nullable, otherwise it's nonnullable. Almost like parameterized nullability. I'm guessing it's not possible but figured I'd ask. If not, is there a  more elegant alternative?</p>\n"}, {"tags": ["delegates", "jvm", "kotlin", "generic-variance"], "comments": [{"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1498046526, "post_id": 44665427, "comment_id": 76335013, "body": "You shouldn&#39;t be able to use contravariance there, since the map <i>produces</i> values. The fact that you don&#39;t get a compiler warning is likely a bug. Actually <code>out</code> makes in covariant, <code>in</code> makes it contravariant. For <i>some</i> reason, using <code>in</code> produces the code I would expect with <code>out</code>."}], "answers": [{"comments": [{"owner": {"reputation": 3123, "user_id": 7803527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bskeA.jpg?s=128&g=1", "display_name": "Dean Xu", "link": "https://stackoverflow.com/users/7803527/dean-xu"}, "edited": false, "score": 0, "creation_date": 1498089137, "post_id": 44676596, "comment_id": 76359901, "body": "Thanks. So it just a bug."}], "tags": [], "owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "is_accepted": true, "score": 0, "last_activity_date": 1498049224, "creation_date": 1498049224, "answer_id": 44676596, "question_id": 44665427, "link": "https://stackoverflow.com/questions/44665427/why-kotlin-doesnt-allow-covariant-mutablemap-to-be-a-delegate/44676596#44676596", "title": "Why kotlin doesn&#39;t allow covariant mutablemap to be a delegate?", "body": "<p>Yeah... the compiler is definitely wrong here. (testing with Kotlin version 1.1.2-5)</p>\n\n<p>First of all, in the case of property delegation to a map, you use the name of the property to look up a value for it in the map.</p>\n\n<p>Using a <code>MutableMap&lt;String, in String&gt;</code>, is equivalent to Java's <code>Map&lt;String, ? super String&gt;</code> which uses <em>contravariance</em>.</p>\n\n<p>Using a <code>MutableMap&lt;String, out String&gt;</code>, is equivalent to Java's <code>Map&lt;String, ? extends String&gt;</code> which uses <em>covariance</em>.</p>\n\n<p>(you mixed the two up)</p>\n\n<p>A covariant type can be used as a producer. A contravariant type can be used as a consumer. (See <a href=\"https://stackoverflow.com/questions/2723397\">PECS</a>. sorry, I don't have a Kotlin specific link, but the principle still applies).</p>\n\n<p>Delegation by map uses the second generic type of map as a producer (you get things <em>out</em> of the map), so it should not be possible to use a <code>MutableMap&lt;String, in String&gt;</code> since it's second parameter is a consumer (to put things into).</p>\n\n<p>For some reason, the compiler generates the code it needs for a <code>MutableMap&lt;String, out String&gt;</code> in the case of a <code>MutableMap&lt;String, in String&gt;</code> and this is wrong, as you can see in this example:</p>\n\n<pre><code>class User(val map: MutableMap&lt;String, in String&gt;) {\n    val name: String by map\n}\n\nfun main(args:Array&lt;String&gt;){\n    val m: MutableMap&lt;String, CharSequence&gt; = mutableMapOf(\"name\" to StringBuilder())\n    val a = User(m)\n\n    val s: String = a.name\n}\n</code></pre>\n\n<p>You will get a class cast exception, because the VM is trying to treat a <code>StringBuilder</code> as a <code>String</code>. But you don't use any explicit casts, so it <em>should</em> be safe.</p>\n\n<p>Unfortunately, it generates garbage (<code>throw null</code>) in the valid use case of <code>out</code>.</p>\n\n<p>In the case of <code>String</code> it doesn't really make sense to use covariance (<code>out</code>), since <code>String</code> is final, but in the case of a different type hierarchy, the only work around I can think of is to manually patch the bytecode, which is a nightmare.</p>\n\n<p>I don't know if there is an existing bug report. I guess we'll just have to wait until this gets fixed.</p>\n"}, {"tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": false, "score": 1, "last_activity_date": 1528324451, "last_edit_date": 1528324451, "creation_date": 1499878806, "answer_id": 45063672, "question_id": 44665427, "link": "https://stackoverflow.com/questions/44665427/why-kotlin-doesnt-allow-covariant-mutablemap-to-be-a-delegate/45063672#45063672", "title": "Why kotlin doesn&#39;t allow covariant mutablemap to be a delegate?", "body": "<p><strong>Short answer</strong>: it's not a bug in the compiler, but rather an unfortunate consequence of how the signature of <code>operator getValue()</code> is declared for <code>MutableMap</code>.</p>\n\n<p><strong>Long answer</strong>:\n<a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">delegating properties</a> to maps is possible because of the following three operator functions in the standard library: </p>\n\n<pre><code>// for delegating val to read-only map\noperator fun &lt;V, V1: V&gt; Map&lt;in String, @Exact V&gt;.getValue(thisRef: Any?, property: KProperty&lt;*&gt;): V1\n\n// for delegating var to mutable map\noperator fun &lt;V&gt; MutableMap&lt;in String, in V&gt;.getValue(thisRef: Any?, property: KProperty&lt;*&gt;): V\n\noperator fun &lt;V&gt; MutableMap&lt;in String, in V&gt;.setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: V)\n</code></pre>\n\n<p>Here the use-site variance of the <code>MutableMap</code> receiver is chosen so that one could delegate a property of some type to a map which can store its supertype:</p>\n\n<pre><code>class Sample(val map: MutableMap&lt;String, Any&gt;) {\n    var stringValue: String by map\n    var intValue: Int by map\n}\n</code></pre>\n\n<p>Unfortunately, when you try to use an out-projected <code>MutableMap&lt;String, out String&gt;</code> as a delegate for a <code>val</code> property and consequently as a receiver of <code>getValue</code> operator, here what happens:</p>\n\n<ul>\n<li><code>MutableMap&lt;in String, in V&gt;.getValue</code> overload is choosen, because it has more specific receiver type.</li>\n<li>Since the receiver map has <code>out String</code> type argument projection it's unknown what its actual type argument is (it can be a <code>MutableMap&lt;..., String&gt;</code> or a <code>MutableMap&lt;..., SubTypeOfString&gt;</code>), so the only safe option is to assume it is <code>Nothing</code>, which is a subtype of all possible types.</li>\n<li>The return type of this function is declared as <code>V</code> which has been inferred to <code>Nothing</code>, and the compiler inserts a check that the actual returned value is of type <code>Nothing</code>, which should always fail, as there couldn't be a value of type <code>Nothing</code>. This check looks like <code>throw null</code> in the bytecode.</li>\n</ul>\n\n<p>I've opened an issue <a href=\"https://youtrack.jetbrains.com/issue/KT-18789\" rel=\"nofollow noreferrer\">KT-18789</a>  to see what we can be done with the signature of this operator function.</p>\n\n<p><strong>UPD</strong>: The signature was fixed in Kotlin 1.2.20</p>\n\n<p>Meanwhile as a workaround you can cast the <code>MutableMap</code> to <code>Map</code>, so that the first overload of <code>getValue</code> is chosen:</p>\n\n<pre><code>class User(val map: MutableMap&lt;String, out String&gt;) {\n    val name: String by map as Map&lt;String, String&gt;\n}\n</code></pre>\n"}], "owner": {"reputation": 3123, "user_id": 7803527, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/bskeA.jpg?s=128&g=1", "display_name": "Dean Xu", "link": "https://stackoverflow.com/users/7803527/dean-xu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 494, "favorite_count": 0, "accepted_answer_id": 44676596, "answer_count": 2, "score": 7, "last_activity_date": 1528324451, "creation_date": 1498008435, "last_edit_date": 1499879972, "question_id": 44665427, "link": "https://stackoverflow.com/questions/44665427/why-kotlin-doesnt-allow-covariant-mutablemap-to-be-a-delegate", "title": "Why kotlin doesn&#39;t allow covariant mutablemap to be a delegate?", "body": "<p>I'm new to Kotlin.\nWhen I learn <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#storing-properties-in-a-map\" rel=\"noreferrer\">Storing Properties in a Map</a>. I try following usage.</p>\n\n<pre><code>class User(val map: MutableMap&lt;String, String&gt;) {\n    val name: String by map\n}\n</code></pre>\n\n<p><p></p>\n\n<pre><code>class User(val map: MutableMap&lt;String, in String&gt;) {\n    val name: String by map\n}\n</code></pre>\n\n<p><p></p>\n\n<pre><code>class User(val map: MutableMap&lt;String, out String&gt;) {\n    val name: String by map\n}\n</code></pre>\n\n<p>The first two are both work, the last one failed.\nWith <code>out</code> modifier, the bytecode of <code>getName</code> like this:</p>\n\n<pre><code>  public final java.lang.String getName();\n     0  aload_0 [this]\n     1  getfield kotl.User.name$delegate : java.util.Map [11]\n     4  astore_1\n     5  aload_0 [this]\n     6  astore_2\n     7  getstatic kotl.User.$$delegatedProperties : kotlin.reflect.KProperty[] [15]\n    10  iconst_0\n    11  aaload\n    12  astore_3\n    13  aload_1\n    14  aload_3\n    15  invokeinterface kotlin.reflect.KProperty.getName() : java.lang.String [19] [nargs: 1]\n    20  invokestatic kotlin.collections.MapsKt.getOrImplicitDefaultNullable(java.util.Map, java.lang.Object) : java.lang.Object [25]\n    23  checkcast java.lang.Object [4]\n    26  aconst_null\n    27  athrow\n      Local variable table:\n        [pc: 0, pc: 28] local: this index: 0 type: kotl.User\n</code></pre>\n\n<p>As we can see, it will cause a <code>NullPointerException</code>.</p>\n\n<p>Why contravariant is not allowed on a map delegate?</p>\n\n<p>And why kotlin doesn't give me a compile error?</p>\n"}, {"tags": ["android", "kotlin", "android-architecture-lifecycle"], "comments": [{"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1498020696, "post_id": 44664027, "comment_id": 76319116, "body": "can you add code snippet having  <code>signInViewModel.googleApiClient.value = it</code> line?"}, {"owner": {"reputation": 1101, "user_id": 3307993, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/97194dc317b7411439477d01b7b84f70?s=128&d=identicon&r=PG", "display_name": "Olinasc", "link": "https://stackoverflow.com/users/3307993/olinasc"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1498062792, "post_id": 44664027, "comment_id": 76347487, "body": "Sure... it is a RxJava subscription. there is nothing especial about it, but here it goes (also emphasizing I&#39;ve debugged it and the callback is called. Inside LiveData, the Observer is not considered active and therefore is not called."}, {"owner": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1498064278, "post_id": 44664027, "comment_id": 76348311, "body": "See you are having problem with flow of your code in <code>SignInViewModel</code> class. You need to post whole <code>SignInViewModel</code> class. if you can not put all code then remove your business login in method but keep methods flow. With the info you have given no one can give a solution."}, {"owner": {"reputation": 1101, "user_id": 3307993, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/97194dc317b7411439477d01b7b84f70?s=128&d=identicon&r=PG", "display_name": "Olinasc", "link": "https://stackoverflow.com/users/3307993/olinasc"}, "reply_to_user": {"reputation": 13757, "user_id": 5039950, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/1f695a9f3f5a8c6a13e60c880769527b?s=128&d=identicon&r=PG&f=1", "display_name": "chandil03", "link": "https://stackoverflow.com/users/5039950/chandil03"}, "edited": false, "score": 0, "creation_date": 1498080068, "post_id": 44664027, "comment_id": 76357000, "body": "I&#39;ve reproduced the error with the whole class you see in the post. Sorry but <code>SignInViewModel</code> is complete."}, {"owner": {"reputation": 168, "user_id": 5099603, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oYGYDrKkZ8o/AAAAAAAAAAI/AAAAAAAAAu4/DZdFMFoNLlc/photo.jpg?sz=128", "display_name": "hiten pannu", "link": "https://stackoverflow.com/users/5099603/hiten-pannu"}, "edited": false, "score": 0, "creation_date": 1523357366, "post_id": 44664027, "comment_id": 86517801, "body": "@Olinasc Just curious to know how are you able to inject billingApi without using any ViewModel Factory"}, {"owner": {"reputation": 1101, "user_id": 3307993, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/97194dc317b7411439477d01b7b84f70?s=128&d=identicon&r=PG", "display_name": "Olinasc", "link": "https://stackoverflow.com/users/3307993/olinasc"}, "edited": false, "score": 0, "creation_date": 1523479909, "post_id": 44664027, "comment_id": 86583948, "body": "There is a factory. I just removed it for avoiding discussing the fact. It follows the Github sample from google samples."}], "answers": [{"tags": [], "owner": {"reputation": 1101, "user_id": 3307993, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/97194dc317b7411439477d01b7b84f70?s=128&d=identicon&r=PG", "display_name": "Olinasc", "link": "https://stackoverflow.com/users/3307993/olinasc"}, "is_accepted": true, "score": 1, "last_activity_date": 1498096895, "creation_date": 1498096895, "answer_id": 44688917, "question_id": 44664027, "link": "https://stackoverflow.com/questions/44664027/android-livedata-mutabledata-is-never-on-active-state/44688917#44688917", "title": "Android LiveData: MutableData is never on active state", "body": "<p>It turns out <code>minifyEnabled</code> was true. I haven't seen anything about proguard rules for architecture components. </p>\n\n<p>Found this <a href=\"https://issuetracker.google.com/issues/62113696\" rel=\"nofollow noreferrer\">issue</a> which is not resolved yet but has the configuration needed to make it pass:</p>\n\n<pre><code>-keepclassmembers class * implements android.arch.lifecycle.LifecycleObserver {\n    &lt;init&gt;(...);\n}\n-keepclassmembers class * extends android.arch.lifecycle.ViewModel {\n    &lt;init&gt;(...);\n}\n-keepclassmembers class android.arch.lifecycle.Lifecycle$State { *; }\n-keepclassmembers class android.arch.lifecycle.Lifecycle$Event { *; }\n-keepclassmembers class * {\n    @android.arch.lifecycle.OnLifecycleEvent *;\n}\n\n-keep class * implements android.arch.lifecycle.LifecycleObserver {\n    &lt;init&gt;(...);\n}\n</code></pre>\n"}], "owner": {"reputation": 1101, "user_id": 3307993, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/97194dc317b7411439477d01b7b84f70?s=128&d=identicon&r=PG", "display_name": "Olinasc", "link": "https://stackoverflow.com/users/3307993/olinasc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 948, "favorite_count": 0, "accepted_answer_id": 44688917, "answer_count": 1, "score": 1, "last_activity_date": 1498096895, "creation_date": 1497997890, "last_edit_date": 1498063124, "question_id": 44664027, "link": "https://stackoverflow.com/questions/44664027/android-livedata-mutabledata-is-never-on-active-state", "title": "Android LiveData: MutableData is never on active state", "body": "<p>I have the following <code>ViewModel</code>:</p>\n\n<pre><code>class SignInViewModel @Inject constructor(val api: BillingApi) : ViewModel() {\n    val googleApiClient: MutableLiveData&lt;GoogleApiClient&gt; = MutableLiveData()\n}\n</code></pre>\n\n<p>On my <code>Activity.onCreate(onSavedInstanceState: Bundle?)</code> I have:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    ...\n    signInViewModel = ViewModelProviders.of(this)\n            .get(SignInViewModel::class.java)\n\n    signInViewModel.googleApiClient.observe(this, Observer&lt;GoogleApiClient?&gt; {\n        ... // here never gets trigged\n    }\n</code></pre>\n\n<p>Later on my code I have <code>signInViewModel.googleApiClient.value = it</code>. At this point (which happens after a button click, so I am in a resumed state) the I expected the <code>LiveData</code> to trigger my observer, but it <strong>does not</strong>.</p>\n\n<p>While debugging I've noticed that my <code>MutableLiveData</code> is never on an <code>active</code> state.</p>\n\n<p>What am I doing wrong? Please, I know I am using a <code>GoogleApiClient</code> instance in the example and that it should be initialized with the Activity with automanage and whatnot, but this is not the issue here. I want to set it dynamically and have my observer be triggered.</p>\n\n<p><strong>Edit</strong>: adding the code that calls the setValue</p>\n\n<pre><code>signInViewModel.someMethod(this)\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe(Consumer {\n                // This gets called but the observe callback does **not**\n                signInViewModel.googleApiClient.value = it\n            }, errorCallback)\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1497992742, "post_id": 44662908, "comment_id": 76311654, "body": "Can&#39;t you just use a lambda expression instead of the method reference?"}, {"owner": {"reputation": 10605, "user_id": 1949554, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d43d63dddaff1f4e278a9cdfdcf3b817?s=128&d=identicon&r=PG&f=1", "display_name": "FRR", "link": "https://stackoverflow.com/users/1949554/frr"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1497993261, "post_id": 44662908, "comment_id": 76311892, "body": "you mean like this: sort(&quot;Quick Sort&quot;, { quickSort(unsorted) }), yes, that works! but I was just wondering why the other way around doesn&#39;t. It feels that it should work as well."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1497996616, "post_id": 44662908, "comment_id": 76313188, "body": "thumb up  for finding such impractical question :D"}], "answers": [{"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 5, "last_activity_date": 1497997107, "creation_date": 1497997107, "answer_id": 44663897, "question_id": 44662908, "link": "https://stackoverflow.com/questions/44662908/is-it-possible-to-use-high-order-functions-with-optional-arguments/44663897#44663897", "title": "Is it possible to use High order functions with optional arguments", "body": "<p>There is no avoiding this problem since it would contradict 2 corner stones of Kotlin type system:</p>\n\n<ul>\n<li>1) Every expression has a type (strong typing)</li>\n<li>2) The receiver side does not affect an expression's type (local inference)</li>\n</ul>\n\n<p>For example if you could do that, the following would not to work, which is a simple refactoring of your example:</p>\n\n<pre><code>val algorithm = ::quickSort\nsort(\"Quick Sort\", arrayOf(2, 3, 1), algorithm)\n</code></pre>\n\n<p>Anyways, the <code>sort(\"Quick Sort\", { quickSort(unsorted) })</code> workaround is too simple for Kotlin developers to spend spend time on the problem.</p>\n"}], "owner": {"reputation": 10605, "user_id": 1949554, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d43d63dddaff1f4e278a9cdfdcf3b817?s=128&d=identicon&r=PG&f=1", "display_name": "FRR", "link": "https://stackoverflow.com/users/1949554/frr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 678, "favorite_count": 0, "accepted_answer_id": 44663897, "answer_count": 1, "score": 6, "last_activity_date": 1497997107, "creation_date": 1497992431, "question_id": 44662908, "link": "https://stackoverflow.com/questions/44662908/is-it-possible-to-use-high-order-functions-with-optional-arguments", "title": "Is it possible to use High order functions with optional arguments", "body": "<p>I put together a dummy problem to illustrate my point: Say that we have the following handy function to display information about a particular sorting algorithm:</p>\n\n<pre><code>fun sort(name: String, array: Array&lt;Int&gt;, sortingAlgorithm: (Array&lt;Int&gt;) -&gt; Array&lt;Int&gt;) {\n    println(name)\n    sortingAlgorithm(array).forEach { print(\" $it \") }\n    println()\n}\n</code></pre>\n\n<p>You would use it like this:</p>\n\n<pre><code>sort(\"Selection Sort - \u0398(n^2)\", arrayOf(2, 3, 1), ::selectionSort)\n</code></pre>\n\n<p>And this works because the signature of <code>selectionSort</code> is simple: <code>fun selectionSort(array: Array&lt;Int&gt;): Array&lt;Int&gt; {</code></p>\n\n<p>But say I have another sorting algorithm with the following signature</p>\n\n<pre><code>fun quickSort(array: Array&lt;Int&gt;,\n              start: Int = 0,\n              end: Int = array.size - 1): Array&lt;Int&gt; {\n</code></pre>\n\n<p>The last two arguments are optional, so in theory you could call <code>quickSort</code> the same way you call <code>selectionSort</code>. That is to say, it stil respects the signature <code>(Array&lt;Int&gt;) -&gt; Array&lt;Int&gt;</code> Right?</p>\n\n<p>Unfortunately when I try to call <code>sort(\"Quick Sort\", arrayOf(2, 3, 1), ::quickSort)</code> I get:</p>\n\n<p><a href=\"https://i.stack.imgur.com/rVSz8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rVSz8.png\" alt=\"type missmatch\"></a></p>\n\n<p>I think that the compiler isn't being smart enough to realise that those two arguments are optional. How can avoid this problem, other than overloading the <code>sort</code> method to accept a high order function with the signature ?</p>\n"}, {"tags": ["websocket", "kotlin", "spark-java"], "answers": [{"comments": [{"owner": {"reputation": 51074, "user_id": 449856, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4a7754d9dea2792e2bbf36aa8a1d1a7?s=128&d=identicon&r=PG", "display_name": "Codemwnci", "link": "https://stackoverflow.com/users/449856/codemwnci"}, "edited": false, "score": 0, "creation_date": 1498061733, "post_id": 44669998, "comment_id": 76346897, "body": "Awesome, thank you. Excellent answer BTW, not only the fix, but the reason for the error."}], "tags": [], "owner": {"reputation": 1878, "user_id": 1126831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a85dcf0a3326db827d5e805b884fdd7?s=128&d=identicon&r=PG", "display_name": "ledniov", "link": "https://stackoverflow.com/users/1126831/ledniov"}, "is_accepted": true, "score": 3, "last_activity_date": 1498031609, "creation_date": 1498031609, "answer_id": 44669998, "question_id": 44662272, "link": "https://stackoverflow.com/questions/44662272/sparkjava-using-kotlin-and-websockets/44669998#44669998", "title": "SparkJava using Kotlin and WebSockets", "body": "<p>There is an error during invocation of <code>closed</code> method deep inside <code>org.eclipse.jetty.websocket.common.events.annotated.CallableMethod</code> class with the following message: </p>\n\n<blockquote>\n  <p>Parameter specified as non-null is null: method\n  webchat.WSHandler.closed, parameter reason</p>\n</blockquote>\n\n<p>It is related to Kotlin's nullability features and all works fine when you declare your method using signature below:</p>\n\n<pre><code>fun closed(session: Session, statusCode: Int, reason: String?)\n</code></pre>\n"}], "owner": {"reputation": 51074, "user_id": 449856, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/a4a7754d9dea2792e2bbf36aa8a1d1a7?s=128&d=identicon&r=PG", "display_name": "Codemwnci", "link": "https://stackoverflow.com/users/449856/codemwnci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 562, "favorite_count": 0, "accepted_answer_id": 44669998, "answer_count": 1, "score": 1, "last_activity_date": 1498031609, "creation_date": 1497989864, "question_id": 44662272, "link": "https://stackoverflow.com/questions/44662272/sparkjava-using-kotlin-and-websockets", "title": "SparkJava using Kotlin and WebSockets", "body": "<p>I am trying out Kotlin with SparkJava, and having trouble implementing the WebSockets routes. I am trying to follow the WebSockets example available on the SparkJava website (<a href=\"http://sparkjava.com/tutorials/websocket-chat\" rel=\"nofollow noreferrer\">http://sparkjava.com/tutorials/websocket-chat</a>), and whilst I can get the OnWebSocketConnect and OnWebSocketMessage elements to work, the OnWebSocketClose is not picked up.</p>\n\n<p>I have implemented this in Java to double check that it is not a browser issues, and the Java implementation works fine...so this appears to be something specific to the way Kotlin is interpreting the OnWebSocketClose annotation.</p>\n\n<p>My code looks like the following</p>\n\n<pre><code>import spark.Spark.*\nimport org.eclipse.jetty.websocket.api.Session\nimport org.eclipse.jetty.websocket.api.annotations.*;\n\nfun main(args: Array&lt;String&gt;) {\n    staticFileLocation(\"/public\")\n    webSocket(\"/chat\", WSHandler::class.java)\n    init()\n}\n\n@WebSocket\nclass WSHandler {\n\n    @OnWebSocketConnect\n    fun connected(session: Session) = println(\"session connected\")\n\n    @OnWebSocketClose\n    fun closed(session: Session, statusCode: Int, reason: String) = println(\"closed sessions\")\n\n    @OnWebSocketMessage\n    fun message(session: Session, message: String) = println(\"Got: $message\")\n}\n</code></pre>\n\n<p>The html / javascript etc are as per the tutorial on the SparkJava website. </p>\n"}, {"tags": ["android", "firebase", "server", "firebase-realtime-database", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1498007124, "post_id": 44663532, "comment_id": 76315873, "body": "Thanks for the answer, I already took a look at Heroku once, but didn&#39;t quite get it. Now I looked into it again and have problems with it again. I don&#39;t understand how I can push my existing IntelliJ project to Heroku. I got my <code>.jar</code> file running on Heroku, but it is not working (running on 0.0.0.0/0.0.0.0 and crashing after 90 seconds). Do you know a source explaining how to do it in detail?"}, {"owner": {"reputation": 669, "user_id": 4735988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c50221cc9059111d11808ac61e1fe5a7?s=128&d=identicon&r=PG", "display_name": "Bernd", "link": "https://stackoverflow.com/users/4735988/bernd"}, "reply_to_user": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1498029165, "post_id": 44663532, "comment_id": 76322902, "body": "Have a look at their tutorial on getting started with Kotlin on Heroku, here: <a href=\"https://devcenter.heroku.com/articles/getting-started-with-kotlin#introduction\" rel=\"nofollow noreferrer\">devcenter.heroku.com/articles/&hellip;</a>    As long as your project is built with gradle, it should work with only minimal to no changes."}, {"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1498030530, "post_id": 44663532, "comment_id": 76323781, "body": "I found out that they only support HTTP connections, so I guess that it is the same effort to rewrite my own server as setting up firebase."}, {"owner": {"reputation": 132, "user_id": 7862316, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iHIRy.jpg?s=128&g=1", "display_name": "MrCurious", "link": "https://stackoverflow.com/users/7862316/mrcurious"}, "edited": false, "score": 0, "creation_date": 1536558752, "post_id": 44663532, "comment_id": 91450991, "body": "Even for making backend development with kotlin simple check this post <a href=\"https://medium.com/@mrcurious/a-complete-backend-only-with-kotlin-and-your-favourite-text-editor-582b4528688\" rel=\"nofollow noreferrer\">medium.com/@mrcurious/&hellip;</a>"}], "tags": [], "owner": {"reputation": 669, "user_id": 4735988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c50221cc9059111d11808ac61e1fe5a7?s=128&d=identicon&r=PG", "display_name": "Bernd", "link": "https://stackoverflow.com/users/4735988/bernd"}, "is_accepted": true, "score": 2, "last_activity_date": 1497995046, "creation_date": 1497995046, "answer_id": 44663532, "question_id": 44662215, "link": "https://stackoverflow.com/questions/44662215/is-there-a-way-to-deploy-backend-kotlin-server-application-to-firebase/44663532#44663532", "title": "Is there a way to deploy backend (Kotlin) server application to Firebase?", "body": "<p>TLDR; No, this is not possible with Firebase, however there are alternatives.</p>\n\n<p>Firebase is a Backend as a Service, this means, that they basically provide most functionality for you. The Database can be directly accessed from the client application (an android app for example), or a third party server. The website hosting is static, meaning you can't perform server side code, and instead only serve your pre-built Html/Css/Javascript. </p>\n\n<p>They have recently introduced <a href=\"https://firebase.google.com/docs/functions/\" rel=\"nofollow noreferrer\">Cloud functions</a>, which are basically small functions executed on their servers, which could fulfill your purpose, however those are currently only available in javascript, and probably have a vastly different architecture from your existing backend, due to their nature of being small functions.</p>\n\n<p>If you don't want to rewrite everything to work with Firebase, I'd recommend going with a service like Heroku, which is a Platform as a Service. This means that you can <a href=\"https://devcenter.heroku.com/articles/getting-started-with-kotlin#introduction\" rel=\"nofollow noreferrer\">deploy your existing Kotlin backend to Heroku</a>, and use that as the backend for your app.</p>\n"}], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1199, "favorite_count": 2, "accepted_answer_id": 44663532, "answer_count": 1, "score": 1, "last_activity_date": 1497995046, "creation_date": 1497989618, "question_id": 44662215, "link": "https://stackoverflow.com/questions/44662215/is-there-a-way-to-deploy-backend-kotlin-server-application-to-firebase", "title": "Is there a way to deploy backend (Kotlin) server application to Firebase?", "body": "<p>I have already written a <strong>backend server application</strong>, which executes rather complicated tasks in Kotlin and it is running fine on my local machine.</p>\n\n<p>I looked into Firebase and found out that you could host your website and create your database. My <strong>server application</strong> is basically a <strong>database</strong>, plus everything to handle it. I think that it should be possible to write the same database with <strong>Firebase's database</strong> too, but I think that that would require quite some time and I would need to learn how to access the database from <strong>Android</strong> and also <em>understand how the Firebase database works and how to implement my functionality</em>.</p>\n\n<h3>Concluding</h3>\n\n<p>My question basically is, <em>if it is possible to deploy my already written app to Firebase</em> and access it like before. Maybe through the website hosting and a link to my <em>Kotlin app</em>. I could not really find any information on how to do something like this.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 2, "creation_date": 1497962077, "post_id": 44651337, "comment_id": 76291543, "body": "I think there&#39;s no need to change the signature. Why not simply call the function as <code>val authApiService = ApiFactory.createRetrofit&lt;AuthApiService&gt;()</code>?"}, {"owner": {"reputation": 1878, "user_id": 1126831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a85dcf0a3326db827d5e805b884fdd7?s=128&d=identicon&r=PG", "display_name": "ledniov", "link": "https://stackoverflow.com/users/1126831/ledniov"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1497962305, "post_id": 44651337, "comment_id": 76291712, "body": "@hotkey you&#39;re right, this should work fine, I&#39;m just new to Kotlin"}], "tags": [], "owner": {"reputation": 1878, "user_id": 1126831, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a85dcf0a3326db827d5e805b884fdd7?s=128&d=identicon&r=PG", "display_name": "ledniov", "link": "https://stackoverflow.com/users/1126831/ledniov"}, "is_accepted": false, "score": 2, "last_activity_date": 1497958161, "last_edit_date": 1497958161, "creation_date": 1497956758, "answer_id": 44651337, "question_id": 44650946, "link": "https://stackoverflow.com/questions/44650946/kotlin-reduce-duplicated-code/44651337#44651337", "title": "Kotlin, reduce duplicated code", "body": "<p>You can modify your <code>ApiFactory</code> like this:</p>\n\n<pre><code>interface ApiFactory {\n    companion object {\n        inline fun &lt;reified T&gt;createRetrofit(klass: KClass&lt;T&gt;): T {\n            val gson = GsonBuilder().setLenient().create()\n\n            val retrofit = Retrofit.Builder()\n                    .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                    .addConverterFactory(GsonConverterFactory.create(gson))\n                    .baseUrl(\"http://192.168.24.188:8080\")\n                    .build()\n\n            return retrofit.create(klass.java)\n        }\n\n\n    }\n}\n</code></pre>\n\n<p>And then use it to create different service instances:</p>\n\n<pre><code>val authApiService = ApiFactory.createRetrofit(AuthApiService::class)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1497963872, "last_edit_date": 1497963872, "creation_date": 1497959729, "answer_id": 44652374, "question_id": 44650946, "link": "https://stackoverflow.com/questions/44650946/kotlin-reduce-duplicated-code/44652374#44652374", "title": "Kotlin, reduce duplicated code", "body": "<p>A simple solution is just to call the function of your <code>ApiFactory</code> directly:</p>\n\n<pre><code>val authApiService = ApiFactory.createRetrofit&lt;AuthApiService&gt;()\n</code></pre>\n\n<hr>\n\n<p>But if you want to be able to call <code>AuthApiService.create()</code>, then you can define a marker interface, say, <code>ApiFactoryClient&lt;T&gt;</code>, and mark an empty <code>companion object</code> with it.</p>\n\n<pre><code>interface ApiFactoryClient&lt;T&gt;\n\ninterface AuthApiService {\n    /* ... */\n\n    companion object : ApiFactoryClient&lt;AuthApiService&gt;\n}\n</code></pre>\n\n<p>And then make an extension function that works with <code>ApiFactoryClient&lt;T&gt;</code>:</p>\n\n<pre><code>inline fun &lt;reified T&gt; ApiFactoryClient&lt;T&gt;.create(): T = ApiFactory.createRetrofit&lt;T&gt;()\n</code></pre>\n\n<p>And the usage would be:</p>\n\n<pre><code>val authApiService = AuthApiService.create()\n</code></pre>\n"}], "owner": {"reputation": 8470, "user_id": 682763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/cc4ab410936026ce1b033d77cfca419e?s=128&d=identicon&r=PG", "display_name": "Expert wanna be", "link": "https://stackoverflow.com/users/682763/expert-wanna-be"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "accepted_answer_id": 44652374, "answer_count": 2, "score": 1, "last_activity_date": 1497963872, "creation_date": 1497955610, "question_id": 44650946, "link": "https://stackoverflow.com/questions/44650946/kotlin-reduce-duplicated-code", "title": "Kotlin, reduce duplicated code", "body": "<p>Every my API service interface class have create static method,</p>\n\n<pre><code>interface AuthApiService {\n    @FormUrlEncoded\n    @POST(\"api/auth/login\")\n    fun postLogin(@Field(\"username\") username: String, @Field(\"password\") password: String):\n            io.reactivex.Observable&lt;LoginApiResponse&gt;\n\n    companion object Factory {\n        fun create(): AuthApiService {\n            val gson = GsonBuilder().setLenient().create()\n\n            val retrofit = Retrofit.Builder()\n                    .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                    .addConverterFactory(GsonConverterFactory.create(gson))\n                    .baseUrl(\"http:192.168.24.188:8080\")\n                    .build()\n            return retrofit.create(AuthApiService::class.java)\n        }\n    }\n}\n\n\ninterface BBBApiService {\n    companion object Factory {\n        fun create(): BBBApiService {\n            val gson = GsonBuilder().setLenient().create()\n\n            val retrofit = Retrofit.Builder()\n                    .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                    .addConverterFactory(GsonConverterFactory.create(gson))\n                    .baseUrl(\"http:192.168.24.188:8080\")\n                    .build()\n            return retrofit.create(BBBApiService::class.java)\n        }\n    }\n}\n</code></pre>\n\n<p>But, I want to define the create() method only once.</p>\n\n<p>So I made the ApiFactory class,</p>\n\n<pre><code>interface ApiFactory {\n    companion object {\n        inline fun &lt;reified T&gt;createRetrofit(): T {\n            val gson = GsonBuilder().setLenient().create()\n\n            val retrofit = Retrofit.Builder()\n                    .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n                    .addConverterFactory(GsonConverterFactory.create(gson))\n                    .baseUrl(\"http://192.168.24.188:8080\")\n                    .build()\n\n            return retrofit.create(T::class.java)\n        }\n\n\n    }\n}\n\ninterface AuthApiService {\n    @FormUrlEncoded\n    @POST(\"api/auth/login\")\n    fun postLogin(@Field(\"username\") username: String, @Field(\"password\") password: String):\n            io.reactivex.Observable&lt;LoginApiResponse&gt;\n\n    companion object Factory {\n        fun create(): AuthApiService {\n            return ApiFactory.createRetrofit()\n        }\n    }\n</code></pre>\n\n<p>But, still, I need to define the create() method in AuthApiService.</p>\n\n<p>Is there any a way implement the ApiFactory class to SubApi classes so that I don't have to define the create method in each child classes?</p>\n"}, {"tags": ["security", "kotlin", "proguard", "obfuscation", "bytecode"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1497955342, "post_id": 44650840, "comment_id": 76286527, "body": "You can use the same tools as with Java."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 1, "creation_date": 1497956771, "post_id": 44650840, "comment_id": 76287548, "body": "Since ProGuard/DexGuard/DexProtector work not with sources but with bytecode, they still can be applied."}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1497957528, "creation_date": 1497957528, "answer_id": 44651624, "question_id": 44650840, "link": "https://stackoverflow.com/questions/44650840/does-kotlin-provide-any-additional-security/44651624#44651624", "title": "Does Kotlin provide any additional security?", "body": "<p>Suppose you're running <code>gradle build</code> on your Kotlin Android project. Then you'll find following tasks being run:</p>\n\n<pre><code>:app:compileReleaseKotlin\n:app:compileReleaseJavaWithJavac\n:app:copyReleaseKotlinClasses\n:app:compileReleaseSources\n:app:transformResourcesWithMergeJavaResForRelease\n:app:transformClassesAndResourcesWithProguardForRelease\n:app:transformClassesWithDexForRelease\n</code></pre>\n\n<p>As you can see Kotlin sources are compiled first, then the Java sources. This results in only one collection of Java classes which are processed with Proguard; just at the end. There is no differentiation between Java and Kotlin anymore at this step.</p>\n"}, {"tags": [], "owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "is_accepted": true, "score": 7, "last_activity_date": 1497993730, "last_edit_date": 1497993730, "creation_date": 1497958225, "answer_id": 44651867, "question_id": 44650840, "link": "https://stackoverflow.com/questions/44650840/does-kotlin-provide-any-additional-security/44651867#44651867", "title": "Does Kotlin provide any additional security?", "body": "<p>Code obfuscation is neither a Java feature nor a Kotlin one.</p>\n\n<p>Since Kotlin is compiled to the same bytecode as Java, you can use the same tools (for example Proguard). Those tools obfuscate the bytecode and not the sources, I think you misunderstood that.</p>\n"}], "owner": {"reputation": 1037, "user_id": 2020940, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/b857c82cca81d28d1655d3b68dcf9530?s=128&d=identicon&r=PG", "display_name": "Rahul Matte", "link": "https://stackoverflow.com/users/2020940/rahul-matte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 965, "favorite_count": 1, "accepted_answer_id": 44651867, "answer_count": 2, "score": 0, "last_activity_date": 1497993730, "creation_date": 1497955289, "last_edit_date": 1497993672, "question_id": 44650840, "link": "https://stackoverflow.com/questions/44650840/does-kotlin-provide-any-additional-security", "title": "Does Kotlin provide any additional security?", "body": "<p>When we develop an Android app in Java, we have the option to obfuscate the code and built the APK. </p>\n\n<p>Is there any advance feature in Kotlin to do the same?</p>\n"}, {"tags": ["reflection", "kotlin"], "comments": [{"owner": {"reputation": 25812, "user_id": 288456, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf294ff6d86cc587dec43e2af34a9532?s=128&d=identicon&r=PG", "display_name": "Alexander Udalov", "link": "https://stackoverflow.com/users/288456/alexander-udalov"}, "edited": false, "score": 0, "creation_date": 1497969472, "post_id": 44648168, "comment_id": 76297516, "body": "I&#39;ve deleted my answer because for some reason I&#39;ve missed the JavaScript part of the question. Sorry for that."}], "answers": [{"tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": false, "score": 0, "last_activity_date": 1497970382, "creation_date": 1497970382, "answer_id": 44656452, "question_id": 44648168, "link": "https://stackoverflow.com/questions/44648168/how-can-i-get-a-reference-to-a-kotlin-kclass-by-name-when-not-running-on-the-jvm/44656452#44656452", "title": "How can I get a reference to a Kotlin KClass by name when not running on the JVM?", "body": "<p>I didn't test it on Native nor JavaScript version (it does work on the JVM one) but you can just do <code>SomeClass::class</code>. <a href=\"https://kotlinlang.org/docs/reference/reflection.html#class-references\" rel=\"nofollow noreferrer\">Kotlin docs</a></p>\n"}, {"tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1497973414, "creation_date": 1497973414, "answer_id": 44657547, "question_id": 44648168, "link": "https://stackoverflow.com/questions/44648168/how-can-i-get-a-reference-to-a-kotlin-kclass-by-name-when-not-running-on-the-jvm/44657547#44657547", "title": "How can I get a reference to a Kotlin KClass by name when not running on the JVM?", "body": "<p>As it said in <strong>Kotlin</strong> <a href=\"https://kotlinlang.org/docs/reference/js-reflection.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>At this time, <strong>JavaScript</strong> does not support the full <strong>Kotlin</strong> reflection\n  API. The only supported part of the API is the <code>::class</code> syntax which\n  allows you to refer to the class of an instance, or the class\n  corresponding to the given type. The value of a <code>::class</code> expression is\n  a stripped-down <code>KClass</code> implementation that only supports the\n  <code>simpleName</code> and <code>isInstance</code> members.</p>\n</blockquote>\n\n<p>Here's the example:</p>\n\n<pre><code>val a = A()\n\nprint(a::class.simpleName)  // Obtains class for an instance; prints \"A\"\nprint(A::class.simpleName)  // Obtains class for a type; prints \"B\"\n</code></pre>\n"}], "owner": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 291, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1497973414, "creation_date": 1497948509, "question_id": 44648168, "link": "https://stackoverflow.com/questions/44648168/how-can-i-get-a-reference-to-a-kotlin-kclass-by-name-when-not-running-on-the-jvm", "title": "How can I get a reference to a Kotlin KClass by name when not running on the JVM?", "body": "<p>When targeting Javascript and native <code>java.lang.Class.forName()</code> is not available. How can I get a <code>KClass</code> in these environments?</p>\n"}, {"tags": ["gradle", "kotlin", "build.gradle.kts", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 1321, "user_id": 663012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7417c278374e4cdf4609cb75885adf46?s=128&d=identicon&r=PG", "display_name": "Czar", "link": "https://stackoverflow.com/users/663012/czar"}, "edited": false, "score": 0, "creation_date": 1497965159, "post_id": 44652849, "comment_id": 76293981, "body": "Hi. Thanks for thorough reply. I do have buildscript, plugins, repositories, plugins configuration, etc. in <code>build.gradle.kts</code> and it works like a charm when dependencies block is in said file. I&#39;m on gradle 4.0 (KTS 0.9.0). The renaming of the file worked in part, I now get different exception: <code>Error:Configuration with name &#39;compile&#39; not found.</code>"}, {"owner": {"reputation": 1321, "user_id": 663012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7417c278374e4cdf4609cb75885adf46?s=128&d=identicon&r=PG", "display_name": "Czar", "link": "https://stackoverflow.com/users/663012/czar"}, "edited": false, "score": 0, "creation_date": 1497965552, "post_id": 44652849, "comment_id": 76294287, "body": "And by the way I&#39;m also on Boot 2.0.0.M2 :) and Kotlin 1.1.2-5"}, {"owner": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "reply_to_user": {"reputation": 1321, "user_id": 663012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7417c278374e4cdf4609cb75885adf46?s=128&d=identicon&r=PG", "display_name": "Czar", "link": "https://stackoverflow.com/users/663012/czar"}, "edited": false, "score": 0, "creation_date": 1497965568, "post_id": 44652849, "comment_id": 76294305, "body": "...that&#39;s why I was saying also you need the <code>buildscript</code>, <code>repositories</code> and potentially <code>plugins</code> also"}, {"owner": {"reputation": 1321, "user_id": 663012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7417c278374e4cdf4609cb75885adf46?s=128&d=identicon&r=PG", "display_name": "Czar", "link": "https://stackoverflow.com/users/663012/czar"}, "edited": false, "score": 0, "creation_date": 1497965703, "post_id": 44652849, "comment_id": 76294404, "body": "yes, I have them, but omitted for brevity, because they work, the only problem I have is the one described."}, {"owner": {"reputation": 1321, "user_id": 663012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7417c278374e4cdf4609cb75885adf46?s=128&d=identicon&r=PG", "display_name": "Czar", "link": "https://stackoverflow.com/users/663012/czar"}, "edited": false, "score": 0, "creation_date": 1497965932, "post_id": 44652849, "comment_id": 76294583, "body": "And I&#39;m always online on Kotlin Slack when I&#39;m at the PC :)"}, {"owner": {"reputation": 1321, "user_id": 663012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7417c278374e4cdf4609cb75885adf46?s=128&d=identicon&r=PG", "display_name": "Czar", "link": "https://stackoverflow.com/users/663012/czar"}, "edited": false, "score": 0, "creation_date": 1497966005, "post_id": 44652849, "comment_id": 76294647, "body": "<a href=\"https://kotlinlang.slack.com/archives/C19FD9681/p1497950969066738\" rel=\"nofollow noreferrer\">kotlinlang.slack.com/archives/C19FD9681/p1497950969066738</a> \u2190 this is my share of this question in there"}, {"owner": {"reputation": 1321, "user_id": 663012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7417c278374e4cdf4609cb75885adf46?s=128&d=identicon&r=PG", "display_name": "Czar", "link": "https://stackoverflow.com/users/663012/czar"}, "edited": false, "score": 1, "creation_date": 1497966641, "post_id": 44652849, "comment_id": 76295175, "body": "Just realized, renaming the file actually worked, I was misplacing the applyFrom. Thanks :)"}], "tags": [], "owner": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "is_accepted": true, "score": 2, "last_activity_date": 1497961076, "creation_date": 1497961076, "answer_id": 44652849, "question_id": 44648129, "link": "https://stackoverflow.com/questions/44648129/gradle-kts-how-to-move-dependencies-configuration-to-a-separate-file-from-main/44652849#44652849", "title": "Gradle KTS. How to move dependencies configuration to a separate file from main build?", "body": "<p>A couple of things here:</p>\n\n<ol>\n<li><p>I'm assuming you have nothing inside <code>build.gradle.kts</code> but <code>applyFrom(\"dependencies.kts\")</code>; if so, you still need a <code>buildscript</code> and <code>plugins</code> block on it:</p>\n\n<pre><code>buildscript {\n  repositories {\n    //gradleScriptKotlin()\n    mavenCentral()\n    maven { setUrl(\"https://repo.spring.io/milestone\") }\n  }\n\n  dependencies {\n    classpath(\"org.springframework.boot:spring-boot-gradle-plugin:2.0.0.M2\")\n    classpath(kotlin(\"gradle-plugin\"))\n  }\n}\n\nplugins {\n  //id(\"io.spring.dependency-management\")\n  id(\"org.gradle.application\")\n  id(\"org.gradle.idea\")\n  //id(\"org.gradle.java\")\n  id(\"org.jetbrains.kotlin.jvm\") version \"1.1.2-5\"\n  //id(\"org.springframework.boot\")\n}\n...\n// applyFrom(\"dependencies.kts\")\n</code></pre></li>\n<li><p><code>dependencies.kts</code> should be renamed to <code>dependencies.gradle.kts</code> (and also the reference)</p></li>\n<li>Depending on the Gradle version you are using <code>kotlinModule(\"stdlib-jre8\")</code> might be deprecated already; <code>kotlin(\"stdlib-jre8\")</code> is used in the most recent one.</li>\n<li><p>You are missing some more settings on that file itself (<code>buildscript</code>, <code>repositories</code> and  potentially <code>plugins</code> also).</p>\n\n<pre><code>buildscript {\n  repositories {\n    //gradleScriptKotlin()\n    mavenCentral()\n    maven { setUrl(\"https://repo.spring.io/milestone\") }\n  }\n\n  dependencies {\n    classpath(\"org.springframework.boot:spring-boot-gradle-plugin:2.0.0.M2\")\n    classpath(kotlin(\"gradle-plugin\"))\n  }\n}\n\napply {\n  plugin(\"io.spring.dependency-management\")\n  //plugin(\"kotlin-jpa\")\n  //plugin(\"kotlin-spring\")\n  plugin(\"kotlin\")\n  plugin(\"org.springframework.boot\")\n}\n\nrepositories {\n  //gradleScriptKotlin()\n  mavenCentral()\n  maven { setUrl(\"https://repo.spring.io/milestone\") }\n}\n...\n// ...your `dependencies` block here\n</code></pre></li>\n</ol>\n\n<blockquote>\n  <p>Notice I'm using <code>spring-boot-gradle-plugin:2.0.0.M2</code> and the <code>milestone</code> repo(s); you might be using a stable/prior version. Tweak accordingly.</p>\n</blockquote>\n\n<p>Have a look in <a href=\"https://github.com/gradle/kotlin-dsl\" rel=\"nofollow noreferrer\">Kotlin language support for Gradle build scripts</a> for some examples; they are slightly different on what you are doing here, but you might have a requirement on doing things like that.</p>\n"}], "owner": {"reputation": 1321, "user_id": 663012, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/7417c278374e4cdf4609cb75885adf46?s=128&d=identicon&r=PG", "display_name": "Czar", "link": "https://stackoverflow.com/users/663012/czar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3958, "favorite_count": 1, "accepted_answer_id": 44652849, "answer_count": 1, "score": 2, "last_activity_date": 1504920701, "creation_date": 1497948420, "last_edit_date": 1504920701, "question_id": 44648129, "link": "https://stackoverflow.com/questions/44648129/gradle-kts-how-to-move-dependencies-configuration-to-a-separate-file-from-main", "title": "Gradle KTS. How to move dependencies configuration to a separate file from main build?", "body": "\n\n<p>I'm trying to create modular build script in kotlin. Basically main script and dependencies script. in the build.gradle.kts I have:</p>\n\n<pre><code>applyFrom(\"dependencies.kts\")\n</code></pre>\n\n<p>and in dependencies.kts I have the actual dependencies:</p>\n\n<pre><code>dependencies {\n    listOf(\n            kotlinModule(\"stdlib-jre8\"),\n            // Spring boot\n            \"org.springframework.boot:spring-boot-starter-web\",\n            \"org.springframework.boot:spring-boot-starter-security\",\n            \"org.springframework.boot:spring-boot-starter-logging\",\n            \"org.springframework.boot:spring-boot-actuator\",\n            // Spring\n            \"org.springframework.data:spring-data-mongodb\",\n            // Logging\n            \"org.slf4j:slf4j-api\",\n            \"org.slf4j:jcl-over-slf4j\",\n            \"ch.qos.logback:logback-classic\"\n    ).forEach { compile(it) }\n\n    listOf(\n            \"org.codehaus.groovy:groovy-all\",\n            \"org.springframework.boot:spring-boot-starter-test\",\n            \"org.spockframework:spock-core:1.0-groovy-2.4\",\n            \"org.spockframework:spock-spring:1.0-groovy-2.4\"\n    ).forEach { testCompile(it) }\n}\n</code></pre>\n\n<p>This fails with:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>Error: Could not find method kotlinModule() for arguments [stdlib-jre8] on object of type org.gradle.api.internal.artifacts.dsl.dependencies.DefaultDependencyHandler.\n</code></pre>\n\n<p>If I try to import kotlinModule, it fails with: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Error:Cause: startup failed:\nscript '/home/czar/personal/work/***/dependencies.kts': 1: unable to resolve class org.gradle.script.lang.kotlin.kotlinModule\n@ line 1, column 1.\nimport org.gradle.script.lang.kotlin.kotlinModule\n^\n1 error\n</code></pre>\n\n<p>What am I doing wrong and how to do it right?</p>\n\n<p>Versions and relevant information:</p>\n\n<ul>\n<li>Gradle: 4.0 </li>\n<li>Gradle KTS: 0.9.0</li>\n<li>editor: IntelliJ U 2017.1.4</li>\n<li>Kotlin Plugin: 1.1.3 EAP</li>\n<li>Kotlin version for project: 1.1.2.5</li>\n</ul>\n\n<p>My build works perfectly when I have dependencies in the main file. All necessary configurations (buildscript, plugins, repositories, etc.) are present, but omitted here for brevity.</p>\n"}, {"tags": ["android", "lambda", "kotlin"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1497948711, "post_id": 44647961, "comment_id": 76281517, "body": "<a href=\"https://kotlinlang.org/docs/reference/this-expressions.html#qualified\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/this-expressions.html#qualifie&zwnj;&#8203;d</a>"}, {"owner": {"reputation": 191, "user_id": 2685972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ozk7M.png?s=128&g=1", "display_name": "Andrey_yog", "link": "https://stackoverflow.com/users/2685972/andrey-yog"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1498038198, "post_id": 44647961, "comment_id": 76329079, "body": "It&#39;s not what I can use in here. I can do only this@AddGirlFragment but can&#39;t this@GirlQualitiesChoiceDialog. AddGirlFragment  is a fragment from which I open GirlQualitiesChoiceDialog. But I need to dismiss GirlQualitiesChoiceDialog. So I need to pass some link to GirlQualitiesChoiceDialog into a setOnClickListener  body."}], "answers": [{"tags": [], "owner": {"reputation": 193, "user_id": 5920500, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NX8cqpSmHV4/AAAAAAAAAAI/AAAAAAAAAv8/xt9V5mYroo0/photo.jpg?sz=128", "display_name": "Troy Heninger", "link": "https://stackoverflow.com/users/5920500/troy-heninger"}, "is_accepted": false, "score": 0, "last_activity_date": 1501200507, "creation_date": 1501200507, "answer_id": 45362891, "question_id": 44647961, "link": "https://stackoverflow.com/questions/44647961/how-to-dismiss-dialogfragment-from-lambda-specified-in-caller-kotlin/45362891#45362891", "title": "how to dismiss DialogFragment from lambda specified in caller Kotlin", "body": "<p>I recommend that you return the instance of the dialog from your show method then you can dismiss it in the call back.</p>\n\n<p>Change show in GirlQualitiesChoiceDialog something like the following:</p>\n\n<pre><code>    fun show(activity: Activity, qualityType: Int, itemClick: (Quality) -&gt; Unit): GirlQualitiesChoiceDialog {\n        itemClickInterface = itemClick\n        val dialog = GirlQualitiesChoiceDialog().apply {\n            arguments = Bundle().apply {\n                putInt(ARG_QUALITY_TYPE, qualityType)\n            }\n        }\n        dialog.show((activity as AppCompatActivity).supportFragmentManager, TAG)\n        return dialog\n    }\n</code></pre>\n\n<p>Here's the listener code:</p>\n\n<pre><code>girlType.setOnClickListener {\n    val dialog = GirlQualitiesChoiceDialog.show(activity, InitialDataSet.instance.QUALITY_TYPE_COLOR) {\n        Picasso.with(context).load(it.resId).into(colorTypeImage as ImageView)\n        dialog.dismiss()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 191, "user_id": 2685972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ozk7M.png?s=128&g=1", "display_name": "Andrey_yog", "link": "https://stackoverflow.com/users/2685972/andrey-yog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1351, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1501200507, "creation_date": 1497947935, "last_edit_date": 1498037926, "question_id": 44647961, "link": "https://stackoverflow.com/questions/44647961/how-to-dismiss-dialogfragment-from-lambda-specified-in-caller-kotlin", "title": "how to dismiss DialogFragment from lambda specified in caller Kotlin", "body": "<p>I'm running the GirlQualitiesChoiceDialog from fragment like below:</p>\n\n<pre><code>        girlType.setOnClickListener {\n              GirlQualitiesChoiceDialog.show(activity, InitialDataSet.instance.QUALITY_TYPE_COLOR){\n              Picasso.with(context).load(it.resId).into(colorTypeImage as ImageView)\n            //GirlQualitiesChoiceDialog.this.dismiss()   - need to dismiss the created dialog\n              }\n         }\n</code></pre>\n\n<p>Where specify the listener. What i need is to dismiss the dialog after i load the picture. <strong>GirlQualitiesChoiceDialog.this.dismiss()</strong>  is not working.</p>\n\n<p>Can anybody advise me please how can I dismiss GirlQualitiesChoiceDialog in here ? Suppose I would need to pass the dialog callback somehow to lambda, but can't realize how. </p>\n\n<p>Below is the code of my Dialog:</p>\n\n<pre><code>class GirlQualitiesChoiceDialog : DialogFragment() {\n\n    companion object {\n        val ARG_QUALITY_TYPE = \"ARG_QUALITY_TYPE\"\n\n        private lateinit var itemClickInterface: (Quality) -&gt; Unit\n\n        fun show(activity: Activity, qualityType: Int, itemClick: (Quality) -&gt; Unit) {\n            itemClickInterface = itemClick\n            GirlQualitiesChoiceDialog().apply {\n                arguments = Bundle().apply {\n                    putInt(ARG_QUALITY_TYPE, qualityType)\n                }\n            }.show((activity as AppCompatActivity).supportFragmentManager, TAG)\n        }\n    }\n\n    private lateinit var adapter: QualitiesAdapter\n\n    override fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\n\n        val choiceDialogView = activity.getLayoutInflater().inflate(horizontal_list_view, null)\n        val layoutManager = LinearLayoutManager(activity, LinearLayoutManager.HORIZONTAL, false)\n        choiceDialogView.horisontalCardsRecyclerView.setLayoutManager(layoutManager)\n\n        with(ItemClickSupport.addTo(choiceDialogView.horisontalCardsRecyclerView)) {\n            setOnItemLongClickListener { recyclerView, position, v -&gt;\n                val quality = v.getTag() as Quality;\n                dismiss()\n                true\n            }\n        }\n\n        var qualityType = arguments.getInt(ARG_QUALITY_TYPE)\n\n        var title = -1\n        when (qualityType) {\n            InitialDataSet.instance.QUALITY_TYPE_COLOR -&gt; {\n                title = R.string.choose_color_type\n                adapter = QualitiesAdapter(InitialDataSet.instance.qualities, itemClickInterface)\n            }\n        }\n\n        choiceDialogView.horisontalCardsRecyclerView.adapter = adapter\n\n        return AlertDialog.Builder(activity)\n                .setTitle(title)\n                .setView(choiceDialogView)\n                .create()\n    }\n}\n</code></pre>\n\n<p>and adapter</p>\n\n<pre><code>class QualitiesAdapter(val qualities: List&lt;Quality&gt;, val itemClick: (Quality) -&gt; Unit) :\n    RecyclerView.Adapter&lt;QualitiesAdapter.ViewHolder&gt;() {\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n    val view = LayoutInflater.from(parent.context).inflate(R.layout.selection_card, parent, false)\n    return ViewHolder(view, itemClick)\n}\n\noverride fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    holder.bindForecast(qualities[position])\n}\n\noverride fun getItemCount() = qualities.size\n\nclass ViewHolder(view: View, val itemClick: (Quality) -&gt; Unit) : RecyclerView.ViewHolder(view) {\n\n    fun bindForecast(quality: Quality) {\n        with(quality) {\n            Picasso.with(itemView.context).load(resId).into(itemView.selectionImage)\n            (itemView as BaseCardView).setStatusLabel(desc)\n            itemView.setTag(quality)\n            itemView.setOnClickListener { itemClick(this) }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 295, "user_id": 5411507, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84dfb7330401f0d0ae6d8406519a226c?s=128&d=identicon&r=PG&f=1", "display_name": "Vanya Sakharovskiy", "link": "https://stackoverflow.com/users/5411507/vanya-sakharovskiy"}, "edited": false, "score": 0, "creation_date": 1497948164, "post_id": 44647942, "comment_id": 76281097, "body": "@zsmb13 yes, i installed kotlin plugins, and it works nice until i reboot android studio. Is it studio error maybe?"}, {"owner": {"reputation": 1089, "user_id": 5155869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gilQB.png?s=128&g=1", "display_name": "uramonk", "link": "https://stackoverflow.com/users/5155869/uramonk"}, "edited": false, "score": 0, "creation_date": 1497967055, "post_id": 44647942, "comment_id": 76295528, "body": "Did you try to clean or rebuild project?"}], "answers": [{"comments": [{"owner": {"reputation": 1742, "user_id": 2642024, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ifi9n.jpg?s=128&g=1", "display_name": "finki", "link": "https://stackoverflow.com/users/2642024/finki"}, "reply_to_user": {"reputation": 295, "user_id": 5411507, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84dfb7330401f0d0ae6d8406519a226c?s=128&d=identicon&r=PG&f=1", "display_name": "Vanya Sakharovskiy", "link": "https://stackoverflow.com/users/5411507/vanya-sakharovskiy"}, "edited": false, "score": 0, "creation_date": 1497950255, "post_id": 44648143, "comment_id": 76282743, "body": "Then you have another problem, this is from the official kotlin docs: <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/android-plugin.html</a>"}], "tags": [], "owner": {"reputation": 1742, "user_id": 2642024, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ifi9n.jpg?s=128&g=1", "display_name": "finki", "link": "https://stackoverflow.com/users/2642024/finki"}, "is_accepted": false, "score": 0, "last_activity_date": 1497950239, "last_edit_date": 1497950239, "creation_date": 1497948459, "answer_id": 44648143, "question_id": 44647942, "link": "https://stackoverflow.com/questions/44647942/kotlin-extensions-unresolved-references/44648143#44648143", "title": "Kotlin extensions unresolved references", "body": "<p>There is no need to add the kotlin-android-extensions dependency in your top level gradle file.</p>\n\n<p>project gradle config:</p>\n\n<pre><code>dependencies {\n   \u2026\n   classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n}\n</code></pre>\n\n<p>app gradle config:</p>\n\n<pre><code>apply plugin: 'kotlin-android-extensions'\n</code></pre>\n\n<p>This configuration should make your project work like you expect. Reference: <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/android-plugin.html</a></p>\n"}], "owner": {"reputation": 295, "user_id": 5411507, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/84dfb7330401f0d0ae6d8406519a226c?s=128&d=identicon&r=PG&f=1", "display_name": "Vanya Sakharovskiy", "link": "https://stackoverflow.com/users/5411507/vanya-sakharovskiy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2202, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1497950239, "creation_date": 1497947896, "question_id": 44647942, "link": "https://stackoverflow.com/questions/44647942/kotlin-extensions-unresolved-references", "title": "Kotlin extensions unresolved references", "body": "<p>i stated to learn kotlin and tried to create a project by kotlin guides. In one of the guides said that i can use View's ids instead <code>findViewById</code>. I have imported <code>kotlin-android-extensions</code> plugin, added it in gradle file^ but still can't get object's reference by using only id. Can someone help me? I'm using Android Studio 2.3 and Kotlin version 1.1.2-5. Here's my code:</p>\n\n<blockquote>\n  <p>Main gradle file</p>\n</blockquote>\n\n<pre><code>buildscript {\next.kotlin_version = \"1.1.2-5\"\nrepositories {\n    mavenCentral()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:2.3.2'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>App gradle file</p>\n</blockquote>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion \"25.0.0\"\n    defaultConfig {\n        applicationId \".kotlintodoapp\"\n        minSdkVersion 15\n        targetSdkVersion 25\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    compile 'com.android.support:recyclerview-v7:25.2.0'\n    compile 'com.android.support:appcompat-v7:25.2.0'\n    compile 'com.android.support:support-v4:25.2.0'\n    compile 'com.android.support:design:25.2.0'\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n\n    compile 'com.pawegio.kandroid:kandroid:0.5.0@aar'\n    testCompile 'junit:junit:4.12'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n}\n\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n\n<blockquote>\n  <p>activity_main.xml</p>\n</blockquote>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout\n    xmlns:a=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    a:id=\"@+id/parent_layout\"\n    a:layout_width=\"match_parent\"\n    a:layout_height=\"match_parent\"&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        a:id=\"@+id/simpleRecyclerView\"\n        a:layout_width=\"match_parent\"\n        a:layout_height=\"match_parent\"/&gt;\n\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<blockquote>\n  <p>ActivityMain.kt</p>\n</blockquote>\n\n<pre><code>import android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport kotlinx.android.synthetic.main.activity_main.*\n\nclass MainActivity : AppCompatActivity() {\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        simpleRecyclerView.setFixedSize(true)\n    }\n}\n</code></pre>\n\n<p>Android studio says that <code>kotlinx.android.synthetic.main.activity_main.*</code> is unused import, and tries to import <code>simpleRecyclerView</code> as id. </p>\n"}, {"tags": ["reflection", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 2, "creation_date": 1531509526, "post_id": 44647797, "comment_id": 89638770, "body": "If you can do <code>as MyObject</code>, you can write <code>MyObject</code> instead of all this in the first place :)"}, {"owner": {"reputation": 307, "user_id": 1104612, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Lfm8E.jpg?s=128&g=1", "display_name": "Mikolasan", "link": "https://stackoverflow.com/users/1104612/mikolasan"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1617984873, "post_id": 44647797, "comment_id": 118473371, "body": "@AlexeyRomanov But what if the string represents subclass and <code>as MyObject</code> casts it to a base class. Anyway, you can throw out <code>as MyObject</code> and consider this example as a good one-liner."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1617990232, "post_id": 44647797, "comment_id": 118475570, "body": "&quot;But what if the string represents subclass and <code>as MyObject</code> casts it to a base class&quot; Doesn&#39;t apply to this question, where <code>MyObject</code> is an <code>object</code> which can&#39;t be extended. &quot;you can throw out <code>as MyObject</code>&quot; Yes, I agree."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 2, "last_activity_date": 1497947484, "creation_date": 1497947484, "answer_id": 44647797, "question_id": 44647626, "link": "https://stackoverflow.com/questions/44647626/how-can-i-get-a-reference-to-a-kotlin-object-by-name/44647797#44647797", "title": "How can I get a reference to a Kotlin object by name?", "body": "<p>you can using kotlin reflection, for example:</p>\n\n<pre><code>val it = Class.forName(\"com.example.MyObject\").kotlin.objectInstance as MyObject;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2264, "user_id": 3004821, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77519448e6002723a9345b54d76870c9?s=128&d=identicon&r=PG&f=1", "display_name": "fralbo", "link": "https://stackoverflow.com/users/3004821/fralbo"}, "edited": false, "score": 0, "creation_date": 1523625428, "post_id": 44647804, "comment_id": 86650328, "body": "considering we use a function to return an object instance from its name, what is the return type please?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 2264, "user_id": 3004821, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/77519448e6002723a9345b54d76870c9?s=128&d=identicon&r=PG&f=1", "display_name": "fralbo", "link": "https://stackoverflow.com/users/3004821/fralbo"}, "edited": false, "score": 0, "creation_date": 1617990309, "post_id": 44647804, "comment_id": 118475608, "body": "@fralbo <code>Any</code> would be the only reasonable return type in general (or <code>Any?</code> if you want to return <code>null</code> when there&#39;s no such <code>object</code>)."}], "tags": [], "owner": {"reputation": 5110, "user_id": 1542319, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/49d8051261a5786e0fed00556f644191?s=128&d=identicon&r=PG", "display_name": "SerCe", "link": "https://stackoverflow.com/users/1542319/serce"}, "is_accepted": true, "score": 8, "last_activity_date": 1497949194, "last_edit_date": 1497949194, "creation_date": 1497947504, "answer_id": 44647804, "question_id": 44647626, "link": "https://stackoverflow.com/questions/44647626/how-can-i-get-a-reference-to-a-kotlin-object-by-name/44647804#44647804", "title": "How can I get a reference to a Kotlin object by name?", "body": "<p>If you have <a href=\"https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-reflect\" rel=\"noreferrer\"><code>kotlin-reflect</code></a> on the classpath then you can use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/object-instance.html\" rel=\"noreferrer\"><code>objectInstance</code></a> property of <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect/-k-class/\" rel=\"noreferrer\"><code>KClass</code></a></p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val fqn = \"com.example.MyObject\"\n    val clz: Class&lt;*&gt; = Class.forName(fqn)\n    val instance = clz.kotlin.objectInstance\n    println(instance) // com.example.MyObject@71623278\n}\n</code></pre>\n\n<p>if you don't have <code>kotlin-reflect</code> then you can do it in a plain old java-way</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val fqn = \"com.example.MyObject\"\n    val clz: Class&lt;*&gt; = Class.forName(fqn)\n    val field: Field = clz.getDeclaredField(\"INSTANCE\")\n    val instance = field.get(null)\n    println(instance) // com.example.MyObject@76ed5528\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 6350515, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A82F7ueUUc4/AAAAAAAAAAI/AAAAAAAAAsE/TIPgbHJb-ag/photo.jpg?sz=128", "display_name": "Aran Moncusi Ramirez", "link": "https://stackoverflow.com/users/6350515/aran-moncusi-ramirez"}, "is_accepted": false, "score": 0, "last_activity_date": 1497947908, "creation_date": 1497947908, "answer_id": 44647948, "question_id": 44647626, "link": "https://stackoverflow.com/questions/44647626/how-can-i-get-a-reference-to-a-kotlin-object-by-name/44647948#44647948", "title": "How can I get a reference to a Kotlin object by name?", "body": "<p>Same a java code, you need use <code>Class.forName(\"com.example.MyObject\")</code>. Now you have a Java class, but using <code>kotlin</code> extension, it convert to Kotlin class. <code>Class.forName(\"com.example.MyObject\").kotlin</code></p>\n"}], "owner": {"reputation": 16077, "user_id": 97777, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb95aca1c80de718bbfa01447220633b?s=128&d=identicon&r=PG", "display_name": "Duncan McGregor", "link": "https://stackoverflow.com/users/97777/duncan-mcgregor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2187, "favorite_count": 0, "accepted_answer_id": 44647804, "answer_count": 3, "score": 4, "last_activity_date": 1497949194, "creation_date": 1497946944, "question_id": 44647626, "link": "https://stackoverflow.com/questions/44647626/how-can-i-get-a-reference-to-a-kotlin-object-by-name", "title": "How can I get a reference to a Kotlin object by name?", "body": "<p>If I have a top level object declaration</p>\n\n<pre><code>package com.example\n\nobject MyObject {}\n</code></pre>\n\n<p>how can I convert the string <code>com.example.MyObject</code> into a reference to <code>MyObject</code>?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3731, "user_id": 2830986, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7205852a91e57eb794dba7f50272ac95?s=128&d=identicon&r=PG", "display_name": "NDevox", "link": "https://stackoverflow.com/users/2830986/ndevox"}, "edited": false, "score": 0, "creation_date": 1497949710, "post_id": 44646505, "comment_id": 76282329, "body": "That fixed it thank you. Just worth adding in that context is imported from <code>android.content.Context</code>. Only detail I was missing."}, {"owner": {"reputation": 3170, "user_id": 1809268, "user_type": "registered", "accept_rate": 22, "profile_image": "https://graph.facebook.com/1718231387/picture?type=large", "display_name": "Ajith Memana", "link": "https://stackoverflow.com/users/1809268/ajith-memana"}, "edited": false, "score": 0, "creation_date": 1501658867, "post_id": 44646505, "comment_id": 77869049, "body": "Simply speaking, i transfer/ pass the &quot;context&quot; parameter from Inherited class to Base class super method."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 11, "last_activity_date": 1497944024, "last_edit_date": 1497944024, "creation_date": 1497943624, "answer_id": 44646505, "question_id": 44646461, "link": "https://stackoverflow.com/questions/44646461/kotlin-inheritnce-no-value-passed-for-parameter-context/44646505#44646505", "title": "Kotlin inheritnce - No value passed for parameter context", "body": "<p><code>AbstractAccountAuthenticator</code>'s <a href=\"https://developer.android.com/reference/android/accounts/AbstractAccountAuthenticator.html#AbstractAccountAuthenticator(android.content.Context)\" rel=\"noreferrer\">constructor</a> takes a <code>Context context</code> parameter. So you'll have to pass a <code>Context</code> to it somehow, for example, your <code>AccountAuthenticator</code> could also have a <code>Context</code> parameter:</p>\n\n<pre><code>class AccountAuthenticator(context: Context): AbstractAccountAuthenticator(context) {}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1521, "user_id": 2323637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef04866eaeda4c257a3c8d5cdb307776?s=128&d=identicon&r=PG", "display_name": "Gent Ahmeti", "link": "https://stackoverflow.com/users/2323637/gent-ahmeti"}, "is_accepted": false, "score": 1, "last_activity_date": 1497943662, "creation_date": 1497943662, "answer_id": 44646520, "question_id": 44646461, "link": "https://stackoverflow.com/questions/44646461/kotlin-inheritnce-no-value-passed-for-parameter-context/44646520#44646520", "title": "Kotlin inheritnce - No value passed for parameter context", "body": "<p>I don't know much about Kotlin but <code>AbstractAccountAuthenticator</code> constructor takes a <code>Context</code> see <a href=\"https://developer.android.com/reference/android/accounts/AbstractAccountAuthenticator.html#AbstractAccountAuthenticator(android.content.Context)\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>So I guess you have to implement this constructor and other related abstract methods.</p>\n"}], "owner": {"reputation": 3731, "user_id": 2830986, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/7205852a91e57eb794dba7f50272ac95?s=128&d=identicon&r=PG", "display_name": "NDevox", "link": "https://stackoverflow.com/users/2830986/ndevox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10736, "favorite_count": 2, "accepted_answer_id": 44646505, "answer_count": 2, "score": 4, "last_activity_date": 1497944024, "creation_date": 1497943489, "question_id": 44646461, "link": "https://stackoverflow.com/questions/44646461/kotlin-inheritnce-no-value-passed-for-parameter-context", "title": "Kotlin inheritnce - No value passed for parameter context", "body": "<p>I'm trying to build an <code>AccountAuthenticator</code> class with kotlin for android. But when trying to implement the <code>AbstractAccountAuthenticator</code> class I get the following exception at compile:</p>\n\n<p><code>No value passed for parameter context</code></p>\n\n<p>I'm not entirely sure what it means and can't find anything on how to solve it.</p>\n\n<p>Here is the relevant code:</p>\n\n<pre><code>import android.accounts.AbstractAccountAuthenticator\nimport android.accounts.Account\nimport android.accounts.AccountAuthenticatorResponse\nimport android.os.Bundle\n\nclass AccountAuthenticator: AbstractAccountAuthenticator() {}\n</code></pre>\n\n<p>Does anyone know what this means, why, and how to fix it?</p>\n"}, {"tags": ["scope", "kotlin", "extension-methods"], "comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1497945966, "post_id": 44646363, "comment_id": 76279648, "body": "I find it hard to understand what you&#39;re trying to achieve. Could you give a use case?"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 0, "creation_date": 1497946377, "post_id": 44646363, "comment_id": 76279920, "body": "@KirillRakhman sir. Indeed, this feature is not new, if you familiar with <code>ruby</code> . it can add additional methods dynamically into a <code>object</code> scope not the <code>class</code> scope. let&#39;s say we have an <code>Entity</code> class, I wish to bind the <code>CURD</code> methods into a certain object rather than at the class level."}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1497947937, "post_id": 44646363, "comment_id": 76280932, "body": "Another option may be to pass the save-function as a parameter to <code>block</code>."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1497948019, "post_id": 44646363, "comment_id": 76280985, "body": "@marstran the idea is good, but how to handle when we have more than half dozen extension methods?"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1497948503, "post_id": 44646363, "comment_id": 76281349, "body": "I think you should introduce your interface if you want to do that."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1497948845, "post_id": 44646363, "comment_id": 76281632, "body": "@marstran yeah, I have already described in my question that I want to avoiding introduce an additional interface for the extension methods."}], "answers": [{"comments": [{"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1497950163, "post_id": 44648555, "comment_id": 76282666, "body": "first, thanks for your answer. but if you replace <code>C</code> with <code>T</code> and remove the generic parameter <code>C</code> in my question, then the code can compile. I know the local extension method is never be used, but I want it available in the lambda scope."}, {"owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1497950643, "post_id": 44648555, "comment_id": 76283031, "body": "I added and highlighted some part of the anwser. Please read it carefully. The local extension function should either be moved to a package scope or moved into a wrapper class like your second solution."}], "tags": [], "owner": {"reputation": 5305, "user_id": 5818889, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6b8df2f6af3fd32042982001fac8407b?s=128&d=identicon&r=PG&f=1", "display_name": "glee8e", "link": "https://stackoverflow.com/users/5818889/glee8e"}, "is_accepted": false, "score": 0, "last_activity_date": 1497950528, "last_edit_date": 1497950528, "creation_date": 1497949466, "answer_id": 44648555, "question_id": 44646363, "link": "https://stackoverflow.com/questions/44646363/how-to-make-a-local-extension-method-avaiable-in-a-function-with-receiver/44648555#44648555", "title": "How to make a local extension method avaiable in a function with receiver?", "body": "<p>There is no such feature yet, and I think in near future it won't be added either. <strong>You should just use your second version. Don't care about adding an wrapper class</strong>. The idea of <em>avoiding introducing a wrapper class</em> is actually, as long as you are using JVM backend, just <strong>nonsense</strong>, because by using local function you are actually adding a local class.</p>\n\n<p>This is the equivalent Java code of your kotlin function, after fixing as you have suggested, with the assumption that your <code>bind</code> function lives in file <code>bind.kt</code>:</p>\n\n<pre><code>public final class BindKt {\n    public static &lt;T&gt; void bind(T[] receiver, List&lt;? super T&gt; context, Function1&lt;T&gt; block) {\n        class Local { // the name of local class is unimportant, as it's generated by compiler. It should looks like \"package.name.BindKt$bind$X\" where X is a number.\n            public void save(T[] receiver) {\n                context.addAll(receiver);\n            }\n        }\n        block.invoke(this); // this won't compile. Neither will yours.\n    }\n}\n</code></pre>\n\n<p>As you can see <code>save</code> is NOT compiled to a static method, which means, if your <code>block</code> somehow ever called that <code>save</code>, an instance of <code>Local</code> must be fist created. So, no matter what you do, as long as you used a local function, there is basically no point in avoiding introduing a wrapper class. Your second solution is good, and just use it. It's both elegant and efficient enough. </p>\n\n<p>If you really don't want add a class/object creation, move these extension functions to a package scope, and let clients import them.</p>\n"}], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1505652066, "creation_date": 1497943183, "last_edit_date": 1505652066, "question_id": 44646363, "link": "https://stackoverflow.com/questions/44646363/how-to-make-a-local-extension-method-avaiable-in-a-function-with-receiver", "title": "How to make a local extension method avaiable in a function with receiver?", "body": "<p>I found an interesting thing, but I couldn't do it. Is there any way to make the local extension method available in a function with receiver.</p>\n\n<pre><code>val list = ArrayList&lt;Any&gt;();\n\nfun &lt;T&gt; Array&lt;T&gt;.bind(context: MutableList&lt;in T&gt;, block: Array&lt;T&gt;.() -&gt; Unit) {\n    fun Array&lt;T&gt;.save() {\n        context.addAll(this);\n    }\n    block();\n}\n\narrayOf(1, 2, 3).bind(list) {\n    save(); //todo: how to bind extension in execution scope\n};\n</code></pre>\n\n<p>I know there is an alternative way by introducing another type for the receiver, but I want to avoid it. for example:</p>\n\n<pre><code>interface Savable {\n    fun save();\n}\n\nfun &lt;T&gt; Array&lt;T&gt;.bind(context: MutableList&lt;in T&gt;, block: Savable.() -&gt; Unit) {\n    val proxy = object : Savable {\n        override fun save() {\n            context += this@bind;\n        }\n    };\n\n    proxy.block();\n}\n</code></pre>\n"}, {"tags": ["android", "android-intent", "android-recyclerview", "kotlin", "android-adapter"], "answers": [{"tags": [], "owner": {"reputation": 32343, "user_id": 155213, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/57bc3e08faeb981ddc81abd1d25c3bf1?s=128&d=identicon&r=PG", "display_name": "miensol", "link": "https://stackoverflow.com/users/155213/miensol"}, "is_accepted": false, "score": 2, "last_activity_date": 1497937383, "creation_date": 1497937383, "answer_id": 44644678, "question_id": 44644568, "link": "https://stackoverflow.com/questions/44644568/why-intent-constructor-is-invisible-in-companion-object-kotlin/44644678#44644678", "title": "Why Intent constructor is invisible in companion object? Kotlin", "body": "<p><code>Intent</code> constructor requires <code>Context</code> passed as an argument. Inside <code>makeIntent</code> <code>this</code> is a reference to the instance of <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\">companion object</a>. A companion object has no reference to the instance of containing class. Hence you'd have to pass the <code>Context</code> somehow e.g.:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    companion object {\n        fun makeIntent(pos : Int, context:Context):Intent {\n            println(\"${pos} is here!\")\n            var intent = Intent(context, DetailActivity::class.java)\n            return intent\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "is_accepted": false, "score": 0, "last_activity_date": 1497971406, "creation_date": 1497971406, "answer_id": 44656833, "question_id": 44644568, "link": "https://stackoverflow.com/questions/44644568/why-intent-constructor-is-invisible-in-companion-object-kotlin/44656833#44656833", "title": "Why Intent constructor is invisible in companion object? Kotlin", "body": "<p>In addition to @meinsol's excellent answer, you can keep your code pretty much the same if you add a receiver to the <code>makeIntent</code> function:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    companion object {\n        fun Context.makeIntent(pos : Int) {  // &lt;- Notice the Context receiver here\n            println(\"${pos} is here!\")\n            var intent = Intent(this, DetailActivity::class.java)\n            // Do what you want with the intent\n        }\n    }\n\n    ... \n}\n</code></pre>\n\n<p>Then you can call it from anywhere you are in a context (<code>makeIntent(5)</code>), or if you're not in a context but have one available, use it (<code>context.makeIntent(5)</code>)</p>\n"}], "owner": {"reputation": 1, "user_id": 7667194, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d3bc694f5cb8dec6c36fc0c17a08934?s=128&d=identicon&r=PG&f=1", "display_name": "Nurbol Seydazimov", "link": "https://stackoverflow.com/users/7667194/nurbol-seydazimov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 655, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1497971406, "creation_date": 1497936801, "last_edit_date": 1497937235, "question_id": 44644568, "link": "https://stackoverflow.com/questions/44644568/why-intent-constructor-is-invisible-in-companion-object-kotlin", "title": "Why Intent constructor is invisible in companion object? Kotlin", "body": "<pre><code>class MainActivity : AppCompatActivity() {\n\n    companion object {\n        fun makeIntent(pos : Int) {\n            println(\"${pos} is here!\")\n            var intent = Intent(this, DetailActivity::class.java)\n            if (intent != null) {\n                println(\"intent is not null in makeIntent function\")\n            }   else {\n                println(\"intent is null in makeIntent function\")\n            }\n        }\n    }\n\n    ... \n}\n</code></pre>\n\n<p>While doing <code>var intent = Intent(...)</code> it does not see Intent. Why?</p>\n"}, {"tags": ["android-studio", "kotlin"], "comments": [{"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 36, "creation_date": 1497946870, "post_id": 44644524, "comment_id": 76280234, "body": "Try either upgrading plug-in (Tools -&gt; Kotlin -&gt; Configure Kotlin Plugin Updates -&gt; Check for updates now) or downgrading <code>ext.kotlin_version</code> in <code>build.gradle</code>."}, {"owner": {"reputation": 2067, "user_id": 5435658, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/92a5439c20610a55fe6fe43b2677d542?s=128&d=identicon&r=PG&f=1", "display_name": "raditya gumay", "link": "https://stackoverflow.com/users/5435658/raditya-gumay"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1497965875, "post_id": 44644524, "comment_id": 76294526, "body": "Let me trying this. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 9051, "user_id": 4433326, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-0eT2bjizzRQ/AAAAAAAAAAI/AAAAAAAA6WQ/O6mD60Yyahc/photo.jpg?sz=128", "display_name": "Louis CAD", "link": "https://stackoverflow.com/users/4433326/louis-cad"}, "edited": false, "score": 2, "creation_date": 1506782174, "post_id": 44652435, "comment_id": 79961703, "body": "Still present in Android Studio 3.0 Beta 6"}, {"owner": {"reputation": 526, "user_id": 4550431, "user_type": "registered", "profile_image": "https://graph.facebook.com/10204396454166108/picture?type=large", "display_name": "Krzysztof Dziuba", "link": "https://stackoverflow.com/users/4550431/krzysztof-dziuba"}, "edited": false, "score": 5, "creation_date": 1507186683, "post_id": 44652435, "comment_id": 80111994, "body": "in Android Studio 3.0 Beta 7 too"}, {"owner": {"reputation": 3217, "user_id": 1448316, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/wHOVd.jpg?s=128&g=1", "display_name": "Sreekanth Karumanaghat", "link": "https://stackoverflow.com/users/1448316/sreekanth-karumanaghat"}, "edited": false, "score": 2, "creation_date": 1510914467, "post_id": 44652435, "comment_id": 81648728, "body": "in Android studio 3.1 Canary 3 also."}, {"owner": {"reputation": 1054, "user_id": 562146, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/f105112f9c986a69ec89a5c84e69cc6e?s=128&d=identicon&r=PG", "display_name": "es0329", "link": "https://stackoverflow.com/users/562146/es0329"}, "edited": false, "score": 0, "creation_date": 1536248415, "post_id": 44652435, "comment_id": 91364715, "body": "also seen in Android Studio 3.3. Canary 3"}, {"owner": {"reputation": 799, "user_id": 2344192, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a5ddfcd95a172dce1bab5c67496d5189?s=128&d=identicon&r=PG&f=1", "display_name": "display name", "link": "https://stackoverflow.com/users/2344192/display-name"}, "edited": false, "score": 0, "creation_date": 1541621479, "post_id": 44652435, "comment_id": 93282675, "body": "and in Android Studio 3.2 stable too"}, {"owner": {"reputation": 9526, "user_id": 7356355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ed89399fa941467104efb9930687aaa?s=128&d=identicon&r=PG&f=1", "display_name": "user158", "link": "https://stackoverflow.com/users/7356355/user158"}, "reply_to_user": {"reputation": 799, "user_id": 2344192, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/a5ddfcd95a172dce1bab5c67496d5189?s=128&d=identicon&r=PG&f=1", "display_name": "display name", "link": "https://stackoverflow.com/users/2344192/display-name"}, "edited": false, "score": 0, "creation_date": 1546918160, "post_id": 44652435, "comment_id": 95002831, "body": "@JamesBond fixed it checkout the following answer"}, {"owner": {"reputation": 647, "user_id": 3813664, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gES7u.jpg?s=128&g=1", "display_name": "Nils", "link": "https://stackoverflow.com/users/3813664/nils"}, "edited": false, "score": 1, "creation_date": 1600149732, "post_id": 44652435, "comment_id": 112988637, "body": "Also in Android Studio 4.0.1"}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": false, "score": 5, "last_activity_date": 1497959915, "creation_date": 1497959915, "answer_id": 44652435, "question_id": 44644524, "link": "https://stackoverflow.com/questions/44644524/kotlin-version-that-is-used-for-building-with-gradle-1-1-2-5-differs-from-the/44652435#44652435", "title": "kotlin version that is used for building with gradle (1.1.2-5) differs from the one bundled into the IDE plugin (1.1.2-4)", "body": "<p>There's an <a href=\"https://issuetracker.google.com/issues/62697211\" rel=\"noreferrer\">issue in Android Studio 3.0 Canary 4</a> that prevents it from loading the updated version of the Kotlin plugin. You can ignore the warning shown by the Kotlin plugin in build.gradle until a newer version of Android Studio 3.0 is released.</p>\n"}, {"comments": [{"owner": {"reputation": 281, "user_id": 2600408, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ilrkj.jpg?s=128&g=1", "display_name": "India", "link": "https://stackoverflow.com/users/2600408/india"}, "edited": false, "score": 1, "creation_date": 1532430335, "post_id": 48169695, "comment_id": 89961847, "body": "Yes, perfect Thank you, should be marked as right answer"}], "tags": [], "owner": {"reputation": 6781, "user_id": 660982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/giQX8.png?s=128&g=1", "display_name": "jpihl", "link": "https://stackoverflow.com/users/660982/jpihl"}, "is_accepted": false, "score": 243, "last_activity_date": 1585061603, "last_edit_date": 1585061603, "creation_date": 1515505932, "answer_id": 48169695, "question_id": 44644524, "link": "https://stackoverflow.com/questions/44644524/kotlin-version-that-is-used-for-building-with-gradle-1-1-2-5-differs-from-the/48169695#48169695", "title": "kotlin version that is used for building with gradle (1.1.2-5) differs from the one bundled into the IDE plugin (1.1.2-4)", "body": "<p>I followed @Miha_x64's advice and upgraded the plug-in which solved my problem:</p>\n\n<blockquote>\n  <p><code>Tools</code> -> <code>Kotlin</code> -> <code>Configure Kotlin Plugin Updates</code> -> <code>Check for updates now</code></p>\n</blockquote>\n\n<p>My version of Android Studio is:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Android Studio 3.0.1\nBuild #AI-171.4443003, built on November 9, 2017\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2283, "user_id": 4526030, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-s05ILbxi6YA/AAAAAAAAAAI/AAAAAAAAACc/yAd6W8jNSBI/photo.jpg?sz=128", "display_name": "John Perry", "link": "https://stackoverflow.com/users/4526030/john-perry"}, "edited": false, "score": 2, "creation_date": 1533562622, "post_id": 50653112, "comment_id": 90378919, "body": "It&#39;s really surprising that they have such a basic flaw in their setup that you can configure the classpath to the latest via a shell script in one place but not the other."}, {"owner": {"reputation": 1795, "user_id": 7160898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LGfPx.jpg?s=128&g=1", "display_name": "Jimale Abdi", "link": "https://stackoverflow.com/users/7160898/jimale-abdi"}, "edited": false, "score": 1, "creation_date": 1561803032, "post_id": 50653112, "comment_id": 100186793, "body": "Thank you, the point is after you update the plugin you must change the previous version into current version at  <code>build.gradle</code>"}], "tags": [], "owner": {"reputation": 2755, "user_id": 5634470, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/883k1.png?s=128&g=1", "display_name": "RoCk RoCk", "link": "https://stackoverflow.com/users/5634470/rock-rock"}, "is_accepted": false, "score": 70, "last_activity_date": 1594271678, "last_edit_date": 1594271678, "creation_date": 1527908358, "answer_id": 50653112, "question_id": 44644524, "link": "https://stackoverflow.com/questions/44644524/kotlin-version-that-is-used-for-building-with-gradle-1-1-2-5-differs-from-the/50653112#50653112", "title": "kotlin version that is used for building with gradle (1.1.2-5) differs from the one bundled into the IDE plugin (1.1.2-4)", "body": "<p>In my case, I converted Java to Kotlin and I have already Kotlin installed with lower version. So I updated it.</p>\n<p><code>Tools</code> -&gt; <code>Kotlin</code> -&gt; <code>Configure Kotlin Plugin Updates</code> then <code>Check for updates now</code> then choose <code>Stable</code></p>\n<p><a href=\"https://i.stack.imgur.com/PelnB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/PelnB.png\" alt=\"Kotlin\" /></a>\n.</p>\n<p>But it didn't update my version in the <code>build.gradle</code> file automatically. Because it detected a newer version and differs from the old one.</p>\n<p>So I manually updated my version to the latest from</p>\n<p><code>ext.kotlin_version = '1.0.0'</code> to  <code>ext.kotlin_version = '1.2.41'</code></p>\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.41'\n\n    repositories {\n        google()\n        jcenter()\n    }\n    \n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.1.2'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9526, "user_id": 7356355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ed89399fa941467104efb9930687aaa?s=128&d=identicon&r=PG&f=1", "display_name": "user158", "link": "https://stackoverflow.com/users/7356355/user158"}, "is_accepted": false, "score": 3, "last_activity_date": 1571989008, "last_edit_date": 1571989008, "creation_date": 1546918113, "answer_id": 54084849, "question_id": 44644524, "link": "https://stackoverflow.com/questions/44644524/kotlin-version-that-is-used-for-building-with-gradle-1-1-2-5-differs-from-the/54084849#54084849", "title": "kotlin version that is used for building with gradle (1.1.2-5) differs from the one bundled into the IDE plugin (1.1.2-4)", "body": "<p>I also had the same issue, I am using Android Studio 3.2.1</p>\n\n<p>Change the Kotlin version of your <strong>project build.gradle file</strong>(not module build.gradle file) to latest(at the moment it is 1.3.11)</p>\n\n<pre><code>ext.kotlin_version = '1.3.11'\n</code></pre>\n\n<p>then there will be notification call Kotlin migration, click Run migrations link on the notification.</p>\n"}, {"tags": [], "owner": {"reputation": 809, "user_id": 5832732, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-l6LlC5EguGE/AAAAAAAAAAI/AAAAAAAAAj0/fFgxB0OAspU/photo.jpg?sz=128", "display_name": "reza rahmad", "link": "https://stackoverflow.com/users/5832732/reza-rahmad"}, "is_accepted": false, "score": 0, "last_activity_date": 1584228312, "creation_date": 1584228312, "answer_id": 60688267, "question_id": 44644524, "link": "https://stackoverflow.com/questions/44644524/kotlin-version-that-is-used-for-building-with-gradle-1-1-2-5-differs-from-the/60688267#60688267", "title": "kotlin version that is used for building with gradle (1.1.2-5) differs from the one bundled into the IDE plugin (1.1.2-4)", "body": "<p>add this in your build gradle app</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n</code></pre>\n"}], "owner": {"reputation": 2067, "user_id": 5435658, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/92a5439c20610a55fe6fe43b2677d542?s=128&d=identicon&r=PG&f=1", "display_name": "raditya gumay", "link": "https://stackoverflow.com/users/5435658/raditya-gumay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28377, "favorite_count": 14, "answer_count": 5, "score": 109, "last_activity_date": 1594271678, "creation_date": 1497936567, "last_edit_date": 1568376279, "question_id": 44644524, "link": "https://stackoverflow.com/questions/44644524/kotlin-version-that-is-used-for-building-with-gradle-1-1-2-5-differs-from-the", "title": "kotlin version that is used for building with gradle (1.1.2-5) differs from the one bundled into the IDE plugin (1.1.2-4)", "body": "<p>Has anyone solved this issue?</p>\n\n<blockquote>\n  <p>kotlin version that is used for building with gradle (1.1.2-5) differs from the one bundled into the IDE plugin (1.1.2-4)</p>\n</blockquote>\n\n<p>I am using AS 3.0 Canary 4</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5063, "user_id": 1281930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9a9988595d63cddd5415bd2cc1914b84?s=128&d=identicon&r=PG&f=1", "display_name": "guness", "link": "https://stackoverflow.com/users/1281930/guness"}, "edited": false, "score": 2, "creation_date": 1515417117, "post_id": 44643704, "comment_id": 83280347, "body": "Android studio suggests to use <code>@RequiresPermission(allOf = [ACCESS_COARSE_LOCATION, ACCESS_FINE_LOCATION])</code>, but then compiler error is shown. Do you now what is going on?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 5063, "user_id": 1281930, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/9a9988595d63cddd5415bd2cc1914b84?s=128&d=identicon&r=PG&f=1", "display_name": "guness", "link": "https://stackoverflow.com/users/1281930/guness"}, "edited": false, "score": 0, "creation_date": 1515417298, "post_id": 44643704, "comment_id": 83280447, "body": "That&#39;s a new feature introduced in Kotlin 1.2, see here: <a href=\"https://kotlinlang.org/docs/reference/whatsnew12.html#array-literals-in-annotations\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a>"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 8, "last_activity_date": 1547109030, "last_edit_date": 1547109030, "creation_date": 1497932015, "answer_id": 44643704, "question_id": 44643402, "link": "https://stackoverflow.com/questions/44643402/requirespermission-annotations-with-allof-in-kotlin/44643704#44643704", "title": "RequiresPermission annotations with &quot;allOf&quot; in Kotlin", "body": "<p>You can pass in an array of items as an annotation parameter with <code>arrayOf</code>:</p>\n\n<pre><code>@RequiresPermission(allOf = arrayOf(ACCESS_COARSE_LOCATION, ACCESS_FINE_LOCATION))\nfun getLocation(): Location {\n    // ...\n}\n</code></pre>\n\n<p>You can actually get to this solution by just pasting your Java code into a Kotlin file Android Studio as well.</p>\n\n<p>Update: <a href=\"https://kotlinlang.org/docs/reference/whatsnew12.html#array-literals-in-annotations\" rel=\"nofollow noreferrer\">since Kotlin 1.2</a>, you can use an <a href=\"https://kotlinlang.org/docs/reference/annotations.html#arrays-as-annotation-parameters\" rel=\"nofollow noreferrer\">array literal syntax</a> as well:</p>\n\n<pre><code>@RequiresPermission(allOf = [ACCESS_COARSE_LOCATION, ACCESS_FINE_LOCATION])\nfun getLocation(): Location {\n    // ...\n}\n</code></pre>\n"}], "owner": {"reputation": 6938, "user_id": 667810, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d4197ff9557ceffd5662a7ae5e9dfc90?s=128&d=identicon&r=PG", "display_name": "rmtheis", "link": "https://stackoverflow.com/users/667810/rmtheis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1115, "favorite_count": 0, "accepted_answer_id": 44643704, "answer_count": 1, "score": 5, "last_activity_date": 1547109030, "creation_date": 1497929661, "question_id": 44643402, "link": "https://stackoverflow.com/questions/44643402/requirespermission-annotations-with-allof-in-kotlin", "title": "RequiresPermission annotations with &quot;allOf&quot; in Kotlin", "body": "<p>In Kotlin, I'd like to add a method annotation that's equivalent to this <code>RequiresPermission</code> annotation in Java, indicating that multiple permissions are required:</p>\n\n<pre><code>@RequiresPermission(allOf = {ACCESS_COARSE_LOCATION, ACCESS_FINE_LOCATION})\npublic Location getLocation() {\n    // ...\n}\n</code></pre>\n\n<p>How can I write this annotation in Kotlin?</p>\n"}, {"tags": ["kotlin", "inline"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1497936306, "post_id": 44642823, "comment_id": 76274096, "body": "If it is already a function, not a closure, why would you want to inline it? No new object is allocated anyways"}, {"owner": {"reputation": 53, "user_id": 7909148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4be71f9f4fcbf8e9aacb55d21496df19?s=128&d=identicon&r=PG&f=1", "display_name": "Suzhan Yu", "link": "https://stackoverflow.com/users/7909148/suzhan-yu"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1497938780, "post_id": 44642823, "comment_id": 76275047, "body": "Thank you, it helped a lot, but I&#39;m still not clear about closure, I have experience in Java only."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1497945745, "post_id": 44642823, "comment_id": 76279504, "body": "My point is that inlining in this case does not affect semantics or performance, so you shouldn&#39;t really care"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 7909148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4be71f9f4fcbf8e9aacb55d21496df19?s=128&d=identicon&r=PG&f=1", "display_name": "Suzhan Yu", "link": "https://stackoverflow.com/users/7909148/suzhan-yu"}, "edited": false, "score": 0, "creation_date": 1498006154, "post_id": 44645958, "comment_id": 76315663, "body": "Thank you, <code>bar()</code> has its own right to decide its behavior, I got it."}], "tags": [], "owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "is_accepted": true, "score": 2, "last_activity_date": 1497941956, "creation_date": 1497941956, "answer_id": 44645958, "question_id": 44642823, "link": "https://stackoverflow.com/questions/44642823/kotlin-is-local-function-passed-to-inlined-functions-as-parameter-inlined/44645958#44645958", "title": "Kotlin: Is local function passed to inlined functions as parameter inlined?", "body": "<p><code>bar()</code> is <strong>not</strong> declared to be <em>inlined</em>. So why would you expect it to be inlined?!</p>\n\n<p>In other words: it would be simply wrong that the signature of method A affects (implicitly) the signature of another method B.</p>\n\n<p>Your idea would (somehow) affect \"semantics\" of bar() - just because you used <code>bar()</code> as argument to another method call. </p>\n"}, {"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 2, "last_activity_date": 1497946121, "creation_date": 1497946121, "answer_id": 44647368, "question_id": 44642823, "link": "https://stackoverflow.com/questions/44642823/kotlin-is-local-function-passed-to-inlined-functions-as-parameter-inlined/44647368#44647368", "title": "Kotlin: Is local function passed to inlined functions as parameter inlined?", "body": "<p>As you can in the <a href=\"https://javap.yawk.at/#TngSAt/procyon\" rel=\"nofollow noreferrer\">decompiled code</a>, kotlin does not inline <code>bar</code> in your case, but it does inline it if it is declared as <code>inline fun bar()</code>.</p>\n\n<p>The rule is that lambdas are inlined when they are passed to an inlined function. In all other cases like passing a function reference or a lambda object, no inlining is done.</p>\n"}], "owner": {"reputation": 53, "user_id": 7909148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4be71f9f4fcbf8e9aacb55d21496df19?s=128&d=identicon&r=PG&f=1", "display_name": "Suzhan Yu", "link": "https://stackoverflow.com/users/7909148/suzhan-yu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 499, "favorite_count": 0, "accepted_answer_id": 44645958, "answer_count": 2, "score": 4, "last_activity_date": 1497946121, "creation_date": 1497925454, "last_edit_date": 1497933817, "question_id": 44642823, "link": "https://stackoverflow.com/questions/44642823/kotlin-is-local-function-passed-to-inlined-functions-as-parameter-inlined", "title": "Kotlin: Is local function passed to inlined functions as parameter inlined?", "body": "<p>When passing a lambda or anonymous function to inlined functions as a parameter, it's quite simple, the code is pasted to the calling position, but when passing a local function as a parameter, the result seems different(shown as below). I wonder if it's inlined? Why or why not?</p>\n\n<p>For example: </p>\n\n<pre><code>inline fun foo(arg: () -&gt; Int): Int {\n    return arg()\n}\n\nfun bar(): Int {\n    return 0\n}\n\nfun main(args: Array&lt;String&gt;) {\n    foo(::bar)\n}\n</code></pre>\n\n<p>And decompiled Java code:</p>\n\n<pre><code>public final class InlinedFuncKt {\n   public static final int foo(@NotNull Function0 arg) {\n      Intrinsics.checkParameterIsNotNull(arg, \"arg\");\n      return ((Number)arg.invoke()).intValue();\n   }\n\n   public static final int bar() {\n      return 0;\n   }\n\n   public static final void main(@NotNull String[] args) {\n      Intrinsics.checkParameterIsNotNull(args, \"args\");\n      bar();\n   }\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1784, "user_id": 6223149, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p2_EG3ImUcE/AAAAAAAAAAI/AAAAAAAAADg/mMZyInMpqs8/photo.jpg?sz=128", "display_name": "Ralf Stuckert", "link": "https://stackoverflow.com/users/6223149/ralf-stuckert"}, "is_accepted": true, "score": 0, "last_activity_date": 1497937421, "creation_date": 1497937421, "answer_id": 44644689, "question_id": 44642521, "link": "https://stackoverflow.com/questions/44642521/create-new-node-module-object-from-kotlin/44644689#44644689", "title": "Create new node module object from kotlin", "body": "<p>I guess you have to define <code>Bar</code> as an external class from module <code>foo</code>:</p>\n\n<pre><code>@JsModule(\"foo\")\nexternal class Bar {\n   ...\n}\n</code></pre>\n\n<p>See <a href=\"https://kotlinlang.org/docs/reference/js-modules.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/js-modules.html</a> and <a href=\"https://kotlinlang.org/docs/reference/js-interop.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/js-interop.html</a></p>\n"}], "owner": {"reputation": 23, "user_id": 8183023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/835d83da2515638021564882f991d6f4?s=128&d=identicon&r=PG&f=1", "display_name": "M Coder", "link": "https://stackoverflow.com/users/8183023/m-coder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 0, "accepted_answer_id": 44644689, "answer_count": 1, "score": 2, "last_activity_date": 1497937421, "creation_date": 1497923179, "question_id": 44642521, "link": "https://stackoverflow.com/questions/44642521/create-new-node-module-object-from-kotlin", "title": "Create new node module object from kotlin", "body": "<p>I'm trying to write a small node.js application in Kotlin to test and play with the javascript interop. From an external node module 'foo' which exposes a prototype 'Bar', I am trying to create a new instance of 'Bar'.</p>\n\n<p>In Javascript I would simply write something like\n</p>\n\n<pre><code>var foo = require('foo')\nvar bar = new foo.Bar()\n</code></pre>\n\n<p>In Kotlin, I defined an external function 'require' and load the module which works as expected:</p>\n\n<pre><code>external fun require(module: String): dynamic\n...\nval foo = require(\"foo\")\n//Somehow create a new Bar\n</code></pre>\n\n<p>Now I would like to create a new instance of Bar. So far I've tried:</p>\n\n<ul>\n<li>Calling <code>val bar = foo.Bar()</code>. This is interpreted as function and thus doesn't work.</li>\n<li>Defining an external class Bar and creating a new object <code>val bar = Bar()</code></li>\n</ul>\n\n<p>The only workaround I could find is to instantiate the object via native javascript code: <code>val bar = js(\"new foo.Bar()\")</code>. This works, but has a few disadvantages:</p>\n\n<ul>\n<li>it is not typesafe (which is part of the beauty of using kotlin)</li>\n<li>it has an implicit dependency on the variable foo which is not checked at compile time</li>\n<li>The module exposes many such objects with different sets of constructor parameters, which would result in a lot of native code as above, which I would like to avoid</li>\n</ul>\n\n<p>Is there any way to achieve this, prefearably in pure kotlin?</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2", "dagger"], "answers": [{"comments": [{"owner": {"reputation": 306, "user_id": 6027598, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6b9b3e9de288ac25c347a57a9531a753?s=128&d=identicon&r=PG&f=1", "display_name": "Arjun", "link": "https://stackoverflow.com/users/6027598/arjun"}, "edited": false, "score": 0, "creation_date": 1513139192, "post_id": 44639432, "comment_id": 82532247, "body": "Amazing. I would have never gotten to this, all the Google Android Architecture projects are in Java !"}, {"owner": {"reputation": 141, "user_id": 2477412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DPS13.jpg?s=128&g=1", "display_name": "John Michael Pirie", "link": "https://stackoverflow.com/users/2477412/john-michael-pirie"}, "edited": false, "score": 0, "creation_date": 1523538015, "post_id": 44639432, "comment_id": 86608882, "body": "I would upvote 10 times if I could.  Thank you so much."}, {"owner": {"reputation": 1921, "user_id": 4420543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cff56a7d6453ef26835d3cf2e3a83cdb?s=128&d=identicon&r=PG&f=1", "display_name": "andras", "link": "https://stackoverflow.com/users/4420543/andras"}, "edited": false, "score": 0, "creation_date": 1542786559, "post_id": 44639432, "comment_id": 93689486, "body": "Does that mean that you cannot inject <code>KClass&lt;T&gt;</code>, only <code>Class&lt;T&gt;</code> into Kotlin code?"}, {"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "reply_to_user": {"reputation": 1921, "user_id": 4420543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cff56a7d6453ef26835d3cf2e3a83cdb?s=128&d=identicon&r=PG&f=1", "display_name": "andras", "link": "https://stackoverflow.com/users/4420543/andras"}, "edited": false, "score": 0, "creation_date": 1542803838, "post_id": 44639432, "comment_id": 93699016, "body": "@andras You can, however neither of those are injected here."}, {"owner": {"reputation": 1921, "user_id": 4420543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cff56a7d6453ef26835d3cf2e3a83cdb?s=128&d=identicon&r=PG&f=1", "display_name": "andras", "link": "https://stackoverflow.com/users/4420543/andras"}, "edited": false, "score": 0, "creation_date": 1542949496, "post_id": 44639432, "comment_id": 93754820, "body": "@KirillRakhman You said <code>When using KClass in an annotation, it actually gets compiled to Java&#39;s Class</code>. I think that&#39;s true because I did a couple tests. Dagger2 always threw an error when I tried to inject <code>KClass</code>, independent whether the annotation&#39;s value was <code>KClass</code> (like in your <code>ViewModelKey</code> example) or just <code>Class</code>. In every linked example there is always a <code>Class</code> injected. I wish I could see the actual dependency graph in Dagger2 for debugging, but there is no way for that, not even when using <code>kapt</code> instead <code>annotationProcessor</code>. (TLDR: But how?)"}], "tags": [], "owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "is_accepted": true, "score": 39, "last_activity_date": 1497904194, "creation_date": 1497904194, "answer_id": 44639432, "question_id": 44638878, "link": "https://stackoverflow.com/questions/44638878/binding-into-map-with-kclass-type/44639432#44639432", "title": "Binding Into Map With KClass Type", "body": "<p>When using <code>KClass</code> in an annotation, it actually gets compiled to Java's <code>Class</code>. But the actual issue is the wildcard in <code>java.util.Map&lt;kotlin.reflect.KClass&lt;? extends android.arch.lifecycle.ViewModel&gt;,? extends javax.inject.Provider&lt;android.arch.lifecycle.ViewModel&gt;&gt;</code> that the Kotlin compiler is generating.</p>\n\n<p>Assuming that <code>@ViewModelKey</code> is defined as </p>\n\n<pre><code>@MapKey\nannotation class ViewModelKey(val value: KClass&lt;out ViewModel&gt;)\n</code></pre>\n\n<p>You'll need to define your injection site as</p>\n\n<pre><code>Map&lt;Class&lt;out ViewModel&gt;, @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;\n</code></pre>\n\n<p>Using <code>@JvmSuppressWildcards</code> will prevent the compiler from generating wildcards.</p>\n\n<p>I don't actually know, why wildcards are not supported by the Dagger compiler. You can see a similar issue here: <a href=\"https://stackoverflow.com/questions/44164395/dagger-2-how-to-inject-mapclass-extends-foo-provider-extends-foo/44165488#44165488\">Dagger 2: How to inject Map&lt;Class&lt;? extends Foo&gt;, Provider&lt;? extends Foo&gt;&gt;</a></p>\n"}], "owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2520, "favorite_count": 4, "accepted_answer_id": 44639432, "answer_count": 1, "score": 20, "last_activity_date": 1514558905, "creation_date": 1497902189, "last_edit_date": 1514558905, "question_id": 44638878, "link": "https://stackoverflow.com/questions/44638878/binding-into-map-with-kclass-type", "title": "Binding Into Map With KClass Type", "body": "<p>I am trying to bind subclasses of <code>ViewModel</code> into a map by their <code>KClass</code> types:</p>\n\n<pre><code>@Module abstract class ViewModelModule {\n\n    @Binds @IntoMap @ViewModelKey(MyViewModel::class)\n    abstract fun bindsMyViewModel(viewModel: MyViewModel): ViewModel\n\n    @Binds abstract fun bindViewModelFactory(factory: ViewModelFactory): ViewModelProvider.Factory\n\n}\n</code></pre>\n\n<p>But I am getting Dagger compiler error:</p>\n\n<pre><code>e: ~/Example/app/build/tmp/kapt3/stubs/debug/com/example/app/injection/AppComponent.java:5: error: [dagger.android.AndroidInjector.inject(T)] java.util.Map&lt;kotlin.reflect.KClass&lt;? extends android.arch.lifecycle.ViewModel&gt;,? extends javax.inject.Provider&lt;android.arch.lifecycle.ViewModel&gt;&gt; cannot be provided without an @Provides-annotated method.\ne: \n\ne: public abstract interface AppComponent {\ne:                 ^\ne:       java.util.Map&lt;kotlin.reflect.KClass&lt;? extends android.arch.lifecycle.ViewModel&gt;,? extends javax.inject.Provider&lt;android.arch.lifecycle.ViewModel&gt;&gt; is injected at\ne:           com.example.app.ui.ViewModelFactory.&lt;init&gt;(creators)\ne:       com.example.app.ui.ViewModelFactory is injected at\ne:           com.example.app.injection.ViewModelModule.bindViewModelFactory(p0)\ne:       android.arch.lifecycle.ViewModelProvider.Factory is injected at\ne:           com.example.app.ui.MyFragment.setViewModelFactory(p0)\ne:       com.example.app.ui.MyFragment is injected at\ne:           dagger.android.AndroidInjector.inject(arg0)\n</code></pre>\n\n<p>The above <code>ViewModelModule</code> is included in my <code>AppModule</code>, which is a module in my <code>AppComponent</code>. So Dagger should be able to provide the <code>Map&lt;KClass&lt;out ViewModel&gt;, Provider&lt;ViewModel&gt;&gt;</code> required by my <code>ViewModelFactory</code>, but I cannot figure out why it is crashing.</p>\n\n<hr>\n\n<p>I also tried switching the <code>ViewModelKey</code> annotation class over to Java, taking a <code>Class</code> as a constructor parameter instead of a <code>KClass</code>. Then modified my <code>ViewModelFactory</code> to depend on a <code>Map&lt;Class&lt;out ViewModel&gt;, Provider&lt;ViewModel&gt;&gt;</code>, but the same error occurred.</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "kotlin-android-extensions"], "answers": [{"tags": [], "owner": {"reputation": 1545, "user_id": 3673616, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f0c382496484720b042ef26019963a8e?s=128&d=identicon&r=PG&f=1", "display_name": "techfly", "link": "https://stackoverflow.com/users/3673616/techfly"}, "is_accepted": false, "score": 2, "last_activity_date": 1497896810, "creation_date": 1497896810, "answer_id": 44637505, "question_id": 44637435, "link": "https://stackoverflow.com/questions/44637435/how-to-use-fragments-with-kotlin/44637505#44637505", "title": "How to use fragments with kotlin", "body": "<p>I have had this issue too and it drove me crazy until I found it.</p>\n\n<p>In the <code>onCreateView</code>, you need to make <code>savedInstanceState</code> nullable like this:</p>\n\n<p><code>savedInstanceState: Bundle?</code> (add a question mark to indicate that it is nullable)</p>\n"}, {"tags": [], "owner": {"reputation": 153906, "user_id": 1676363, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/44dac57d3bb65805bc3df4409d019c83?s=128&d=identicon&r=PG", "display_name": "ianhanniballake", "link": "https://stackoverflow.com/users/1676363/ianhanniballake"}, "is_accepted": true, "score": 14, "last_activity_date": 1497896816, "creation_date": 1497896816, "answer_id": 44637510, "question_id": 44637435, "link": "https://stackoverflow.com/questions/44637435/how-to-use-fragments-with-kotlin/44637510#44637510", "title": "How to use fragments with kotlin", "body": "<p><code>savedInstanceState</code> is nullable, yet you declared it as <code>Bundle</code> - it should be <code>Bundle?</code>.</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?): View? {\n</code></pre>\n"}], "owner": {"reputation": 183, "user_id": 7686760, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ml1Gc6_5KVw/AAAAAAAAAAI/AAAAAAAAAMk/n26hxRCWZDY/photo.jpg?sz=128", "display_name": "Harol Rodriguez", "link": "https://stackoverflow.com/users/7686760/harol-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15068, "favorite_count": 0, "accepted_answer_id": 44637510, "answer_count": 2, "score": 14, "last_activity_date": 1501218414, "creation_date": 1497896578, "last_edit_date": 1498037537, "question_id": 44637435, "link": "https://stackoverflow.com/questions/44637435/how-to-use-fragments-with-kotlin", "title": "How to use fragments with kotlin", "body": "<p>I can not find how to use fragments using kotlin.\nI get an error in the onCreateView method, please help me.</p>\n\n<p>ListaFragment.kt:</p>\n\n<pre><code>class ListaFragment : Fragment() {\n\noverride fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle): View? {\n    val view = inflater.inflate(R.layout.fragment_lista, container, false)\n\n    return view\n}\n}\n</code></pre>\n\n<p>fragment_lista.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\" android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:gravity=\"center\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:textAlignment=\"center\"\n        android:text=\"Hello\"/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>MainActivity.kt:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private var listaFragment: ListaFragment? = null\n    override fun onCreate(savedState: Bundle?) {\n        super.onCreate(savedState) //cual es la diferencia con savedInstanceState\n        setContentView(R.layout.activity_main)\n\n        listaFragment = Fragment.instantiate(this@MainActivity,\n                ListaFragment::class.java!!.getName()) as ListaFragment\n\n        fragmentManager.beginTransaction().replace(R.id.flLista, listaFragment).commit()\n    }\n}\n</code></pre>\n\n<p>activity_main.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    tools:context=\"com.example.harol.appfinalandroid.MainActivity\"&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/flLista\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;&lt;/FrameLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>I have no syntax errors, the application stops when I open the fragment</p>\n\n<p>error:</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter savedInstanceState\n                                                                                     at com.example.harol.appfinalandroid.ListaFragment.onCreateView(ListaFragment.kt:0)\n</code></pre>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "dagger-2"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1497887233, "creation_date": 1497887233, "answer_id": 44634858, "question_id": 44634088, "link": "https://stackoverflow.com/questions/44634088/inject-set-not-injecting-property/44634858#44634858", "title": "@Inject set Not Injecting Property", "body": "<p>I can't test it right now, but I think it's because your property is private. Dagger doesn't use reflection, so the fields it injects have to be visible from outside the class in order for it to operate. </p>\n\n<p>(Writing out <code>set</code> explicitly doesn't help with this, as it just represents a private setter in this case. Note that fields are private for all properties, and non-private properties have getters/setters with broader visibilities as appropriate.)</p>\n\n<p>You should also be able to just annotate the property instead of its setter, so this would be the end result:</p>\n\n<pre><code>@Inject\nlateinit var dispatchingAndroidInjector: DispatchingAndroidInjector&lt;Activity&gt;\n</code></pre>\n\n<p>If you want your property to be private, consider using constructor injection instead.</p>\n"}, {"tags": [], "owner": {"reputation": 2734, "user_id": 6463877, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/Ix45h.jpg?s=128&g=1", "display_name": "Abhishek Kumar", "link": "https://stackoverflow.com/users/6463877/abhishek-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1562590913, "creation_date": 1562590913, "answer_id": 56935529, "question_id": 44634088, "link": "https://stackoverflow.com/questions/44634088/inject-set-not-injecting-property/56935529#56935529", "title": "@Inject set Not Injecting Property", "body": "<p>Don't use <strong>lateinit</strong>, use <strong>internal</strong> instead.</p>\n\n<p>change this</p>\n\n<pre><code>private lateinit var dispatchingAndroidInjector: DispatchingAndroidInjector&lt;Activity&gt;\n    @Inject set \n</code></pre>\n\n<p>to</p>\n\n<pre><code>private internal var dispatchingAndroidInjector: DispatchingAndroidInjector&lt;Activity&gt;\n    @Inject set \n</code></pre>\n"}], "owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1383, "favorite_count": 0, "accepted_answer_id": 44634858, "answer_count": 2, "score": 3, "last_activity_date": 1562590913, "creation_date": 1497884930, "question_id": 44634088, "link": "https://stackoverflow.com/questions/44634088/inject-set-not-injecting-property", "title": "@Inject set Not Injecting Property", "body": "<p>I am attempting to use the <a href=\"https://google.github.io/dagger//android.html\" rel=\"nofollow noreferrer\">Android Dagger \u2021 implementation</a> and inject a <code>DispatchingAndroidInjector</code> into my <code>Application</code> class:</p>\n\n<pre><code>class MyApp : Application(), HasActivityInjector {\n\n    private lateinit var dispatchingAndroidInjector: DispatchingAndroidInjector&lt;Activity&gt;\n        @Inject set    \n\n    override fun onCreate() {\n        super.onCreate()\n        AppInjector.init(this)\n    }\n\n    override fun activityInjector(): ActivityInjector&lt;Activity&gt; {\n        return dispatchingAndroidInjector\n    }\n\n}\n</code></pre>\n\n<p>But I get an <code>IllegalArgumentExecption</code> stating that the \"<code>lateinit</code> property has not been initialized\":</p>\n\n<pre><code>06-19 10:57:30.773 10797-10797/com.example.app E/AndroidRuntime: FATAL EXCEPTION: main\n        Process: com.example.app, PID: 10797\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.app/com.example.app.ui.MainActivity}: kotlin.UninitializedPropertyAccessException: lateinit property dispatchingAndroidInjector has not been initialized\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2666)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2727)\n            at android.app.ActivityThread.-wrap12(ActivityThread.java)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1478)\n            at android.os.Handler.dispatchMessage(Handler.java:102)\n            at android.os.Looper.loop(Looper.java:154)\n            at android.app.ActivityThread.main(ActivityThread.java:6121)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\n         Caused by: kotlin.UninitializedPropertyAccessException: lateinit property dispatchingAndroidInjector has not been initialized\n            at com.example.app.MyApp.activityInjector(MyApp.kt:28)\n            at dagger.android.AndroidInjection.inject(AndroidInjection.java:55)\n            at com.example.app.injection.AppInjector.handleActivity(AppInjector.kt:41)\n            at com.example.app.injection.AppInjector.access$handleActivity(AppInjector.kt:14)\n            at com.example.app.injection.AppInjector$init$1.onActivityCreated(AppInjector.kt:21)\n            at android.app.Application.dispatchActivityCreated(Application.java:197)\n            at android.app.Activity.onCreate(Activity.java:961)\n            at android.support.v4.app.BaseFragmentActivityGingerbread.onCreate(BaseFragmentActivityGingerbread.java:54)\n            at android.support.v4.app.FragmentActivity.onCreate(FragmentActivity.java:319)\n            at com.example.app.ui.MainActivity.onCreate(MainActivity.kt:20)\n            at android.app.Activity.performCreate(Activity.java:6682)\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2619)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2727)\u00a0\n            at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1478)\u00a0\n            at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n            at android.os.Looper.loop(Looper.java:154)\u00a0\n            at android.app.ActivityThread.main(ActivityThread.java:6121)\u00a0\n            at java.lang.reflect.Method.invoke(Native Method)\u00a0\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\u00a0\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\n</code></pre>\n\n<p>This is the <code>AppInjector</code> class used to create the <code>AppComponent</code> and inject the <code>MyApp</code> dependencies:</p>\n\n<pre><code>object AppInjector {\n\n    fun init(app: MyApp) {\n        DaggerAppComponent.builder().application(app).build().inject(app)\n        // ...\n    }\n\n}\n</code></pre>\n\n<p>And the <code>AppComponent</code> interface:</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(\n    AndroidInjectionModule::class,\n    AppModule::class,\n    MainActivityModule::class\n)) interface AppComponent {\n\n    @Component.Builder interface Builder {\n\n        @BindsInstance fun application(app: Application): Builder\n\n        fun build(): AppComponent\n\n    }\n\n    fun inject(app: MyApp)\n\n}\n</code></pre>\n\n<p>I am using the <code>@Inject</code> annotation on the property accessor, as outlined in <a href=\"https://kotlinlang.org/docs/reference/annotations.html\" rel=\"nofollow noreferrer\">the documentation</a>, but it doesn't seem to be working. What am I doing wrong?</p>\n"}, {"tags": ["reflection", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1497884921, "post_id": 44634016, "comment_id": 76253703, "body": "Probably a relevant issue with code generation for class tokens of reified type parameters: <a href=\"https://youtrack.jetbrains.com/issue/KT-17879\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-17879</a>"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1497885009, "post_id": 44634016, "comment_id": 76253776, "body": "Please check whether a newer version of Kotlin has this behavior."}, {"owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1497885031, "post_id": 44634016, "comment_id": 76253791, "body": "Thanks - yes it seems like it&#39;s a known bug: <a href=\"https://youtrack.jetbrains.com/issue/KT-17748\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-17748</a>  Post as an answer and I&#39;ll accept it."}, {"owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1497888937, "post_id": 44634016, "comment_id": 76256428, "body": "Confirmed the same behavior exists in Kotlin 1.1.2"}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1497885242, "creation_date": 1497885242, "answer_id": 44634198, "question_id": 44634016, "link": "https://stackoverflow.com/questions/44634016/why-does-and-equals-produce-different-results/44634198#44634198", "title": "Why does == and equals produce different results?", "body": "<p>This behavior is a known issue in code generation for class tokens of reified type parameters, it's tracked here: <a href=\"https://youtrack.jetbrains.com/issue/KT-17748\" rel=\"nofollow noreferrer\">KT-17748</a>.</p>\n"}], "owner": {"reputation": 2004, "user_id": 53923, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/c611f709789bc1cb2b3b37a0ff72f4c3?s=128&d=identicon&r=PG", "display_name": "hudsonb", "link": "https://stackoverflow.com/users/53923/hudsonb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 44634198, "answer_count": 1, "score": 3, "last_activity_date": 1497918455, "creation_date": 1497884683, "last_edit_date": 1497918455, "question_id": 44634016, "link": "https://stackoverflow.com/questions/44634016/why-does-and-equals-produce-different-results", "title": "Why does == and equals produce different results?", "body": "<p>Executing the following code:</p>\n\n<pre><code>inline fun &lt;reified R&gt; foobar() {\n    println(R::class == Double::class)\n    println(R::class.equals(Double::class))\n}\n\nfun main(args: Array&lt;String&gt;) {\n    foobar&lt;Double&gt;()\n}\n</code></pre>\n\n<p>Produces the following output:</p>\n\n<pre><code>false\ntrue\n</code></pre>\n\n<p>Why is there a difference between == and equals in this case? IntelliJ itself is suggesting that I replace the equals call with ==. Also, I could have sworn this code using == was working in the past.</p>\n\n<p>Using kotlin version <code>1.1.0-rc91</code></p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 11, "last_activity_date": 1497879108, "creation_date": 1497879108, "answer_id": 44631995, "question_id": 44631859, "link": "https://stackoverflow.com/questions/44631859/kotlin-cast-arrayliststring-to-arraystring/44631995#44631995", "title": "Kotlin: Cast ArrayList&lt;String!&gt; to Array&lt;String&gt;", "body": "<p><code>ArrayList&lt;T&gt;</code> and <code>Array&lt;T&gt;</code> are <a href=\"https://stackoverflow.com/questions/36262305/difference-between-list-and-array-types-in-kotlin\">completely different types</a>, so, formally speaking, you cannot just make a cast.</p>\n\n<p>You can, however, convert a <code>List&lt;T&gt;</code> to an <code>Array&lt;T&gt;</code> using <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/to-typed-array.html\" rel=\"noreferrer\"><code>.toTypedArray()</code></a>:</p>\n\n<pre><code>aList[0] = input.nextLine().split(\" \").toTypedArray()\n</code></pre>\n"}], "owner": {"reputation": 303, "user_id": 3201506, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/97d50b7b1e62d2c9f22b3817a1e5f8b0?s=128&d=identicon&r=PG&f=1", "display_name": "Araf", "link": "https://stackoverflow.com/users/3201506/araf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3592, "favorite_count": 0, "accepted_answer_id": 44631995, "answer_count": 1, "score": 3, "last_activity_date": 1497879108, "creation_date": 1497878757, "question_id": 44631859, "link": "https://stackoverflow.com/questions/44631859/kotlin-cast-arrayliststring-to-arraystring", "title": "Kotlin: Cast ArrayList&lt;String!&gt; to Array&lt;String&gt;", "body": "<p>I am trying to split a string that is input by the user. My code looks similar to the following:</p>\n\n<pre><code>val aList = Array(5, {Array&lt;String&gt;(2){ \" \" }})\naList[0] = ArrayList(input.nextLine().split(\" \"))  // `split` returns a List\n</code></pre>\n\n<p>But this results in the following error:\n<code>error: type inference failed. Expected type mismatch: inferred type is ArrayList&lt;String!&gt; but Array&lt;String&gt; was expected</code>.</p>\n\n<p>After some digging around I found that the <code>T!</code> operator means <code>T or T?</code>. How can I cast <code>ArrayList&lt;String!&gt;</code> to <code>Array&lt;String&gt;</code>?</p>\n"}, {"tags": ["exception", "iterator", "kotlin"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1497878268, "post_id": 44631514, "comment_id": 76248717, "body": "<code>1..75</code> is an inclusive range. The 75th element is added to the list at index 74."}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 1596379, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8ccc6909bee7fa1fd8a1fc2c21fac963?s=128&d=identicon&r=PG", "display_name": "n0manarmy", "link": "https://stackoverflow.com/users/1596379/n0manarmy"}, "edited": false, "score": 1, "creation_date": 1497878593, "post_id": 44631688, "comment_id": 76248936, "body": "Ahh I see. I thought that by calling the iterator I was referencing N as the index of the iterator, not the value. Thank makes sense. Because my list is not based on 0 being the starting value and N being the value instead of the index, it will overflow."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 1, "last_activity_date": 1497878217, "creation_date": 1497878217, "answer_id": 44631688, "question_id": 44631514, "link": "https://stackoverflow.com/questions/44631514/odd-size-numbered-mutablelistint-in-kotlin-returns-indexoutofboundsexception-w/44631688#44631688", "title": "Odd size numbered MutableList&lt;Int&gt; in Kotlin returns IndexOutOfBoundsException with iterator", "body": "<p>You are iterating over all numbers <code>1..75</code> but indexing starts at 0. Subtracting <code>1</code> from the item would give you the correct index to the value.</p>\n\n<pre><code>for(n in mList.iterator()) {\n    println(mList[n - 1])\n}\n</code></pre>\n\n<p>But eventually it's not even what you intended to do at all. You might want to print the item directly or iterate over the indices <code>0..mList.size-1</code> itself.</p>\n"}, {"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 4, "last_activity_date": 1497878882, "creation_date": 1497878882, "answer_id": 44631915, "question_id": 44631514, "link": "https://stackoverflow.com/questions/44631514/odd-size-numbered-mutablelistint-in-kotlin-returns-indexoutofboundsexception-w/44631915#44631915", "title": "Odd size numbered MutableList&lt;Int&gt; in Kotlin returns IndexOutOfBoundsException with iterator", "body": "<p><code>mList</code> contains these numbers, with these indexes:</p>\n\n<pre><code>[ 1, 2, 3, 4, ... , 73, 74, 75]   list contents\n  0  1  2  3  ...   72  73  74    indexes\n</code></pre>\n\n<p>Therefore, if you index <code>mList</code> with the contents of <code>mList</code> itself, that means accessing indexes <code>1</code> through <code>75</code>, which will give you the numbers 2 through 75 for the first 74 accesses, and finally an <code>IndexOutOfBoundsException</code> when you try to access the element at index <code>75</code>, which doesn't exist.</p>\n\n<p>If you want to iterate over <code>mList</code> and print its elements, you have several ways to do that:</p>\n\n<pre><code>// using indexes with `until`\nfor(i in 0 until mList.size) { println(mList[i]) }\n\n// using `.indices` to get the start and end indexes\nfor(i in mList.indices) { println(mList[i]) }\n\n// range-for loop\nfor(i in mList) { println(i) }\n\n// functional approach\nmList.forEach { println(it) }\n</code></pre>\n"}], "owner": {"reputation": 109, "user_id": 1596379, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8ccc6909bee7fa1fd8a1fc2c21fac963?s=128&d=identicon&r=PG", "display_name": "n0manarmy", "link": "https://stackoverflow.com/users/1596379/n0manarmy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 356, "favorite_count": 0, "accepted_answer_id": 44631915, "answer_count": 2, "score": 1, "last_activity_date": 1497878882, "creation_date": 1497877847, "question_id": 44631514, "link": "https://stackoverflow.com/questions/44631514/odd-size-numbered-mutablelistint-in-kotlin-returns-indexoutofboundsexception-w", "title": "Odd size numbered MutableList&lt;Int&gt; in Kotlin returns IndexOutOfBoundsException with iterator", "body": "<p>Running a test with the code below returns a java.lang.IndexOutOfBoundsException: Index 75, Size: 75.</p>\n\n<p>This does not happen on even numbered lists, only odd numbered lists. Am I doing this wrong? Iterating in Java does not seem to do this.</p>\n\n<pre><code>var mList: MutableList&lt;Int&gt; = mutableListOf()\nfor(n in 1..75) {\n    mList.add(n)\n}\nfor(n in mList.iterator()) {\n    println(mList[n])\n}\n</code></pre>\n"}, {"tags": ["firebase", "kotlin", "firebase-storage"], "answers": [{"tags": [], "owner": {"reputation": 54, "user_id": 7554413, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/78dc7ae385fc9c7fa36e6657eb059a9b?s=128&d=identicon&r=PG&f=1", "display_name": "andrewF", "link": "https://stackoverflow.com/users/7554413/andrewf"}, "is_accepted": false, "score": 0, "last_activity_date": 1497887268, "creation_date": 1497887268, "answer_id": 44634880, "question_id": 44631364, "link": "https://stackoverflow.com/questions/44631364/issues-uploading-images-to-firebase/44634880#44634880", "title": "Issues uploading images to Firebase", "body": "<p>I figured it out, I wasn't asking for permissions so the picturePath I was using was always null</p>\n"}], "owner": {"reputation": 54, "user_id": 7554413, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/78dc7ae385fc9c7fa36e6657eb059a9b?s=128&d=identicon&r=PG&f=1", "display_name": "andrewF", "link": "https://stackoverflow.com/users/7554413/andrewf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 397, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1497887268, "creation_date": 1497877414, "question_id": 44631364, "link": "https://stackoverflow.com/questions/44631364/issues-uploading-images-to-firebase", "title": "Issues uploading images to Firebase", "body": "<p>I'm trying to upload an image to Firebase from the Gallery of the phone but the simulator keeps closing and it's not logging any errors. Here is my code</p>\n\n<pre><code>val PICK_IMAGE_CODE=123\nfun loadImage(){\n    var intent = Intent(Intent.ACTION_PICK,MediaStore.Images.Media.EXTERNAL_CONTENT_URI)\n    startActivityForResult(intent,PICK_IMAGE_CODE)\n}\n\n override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    if(requestCode==PICK_IMAGE_CODE  &amp;&amp; data!=null &amp;&amp; resultCode == RESULT_OK){\n\n        val selectedImage=data.data\n        val filePathColum= arrayOf(MediaStore.Images.Media.DATA)\n        val cursor= contentResolver.query(selectedImage,filePathColum,null,null,null)\n        cursor.moveToFirst()\n        val coulomIndex=cursor.getColumnIndex(filePathColum[0])\n        val picturePath=cursor.getString(coulomIndex)\n        cursor.close()\n       uploadImage(BitmapFactory.decodeFile(picturePath))\n    }\n\n\n}\n\nvar DownloadURL:String?=\"\"\n\nfun uploadImage(bitmap:Bitmap){\n    adapter!!.notifyDataSetChanged()\n\n    var currentUser = mAuth!!.currentUser\n\n    val storage= FirebaseStorage.getInstance()\n   val storgaRef=storage.reference\n    val df= SimpleDateFormat(\"ddMMyyHHmmss\")\n    val dataobj= Date()\n    val imagePath= currentUser!!.uid+ \".\"+ df.format(dataobj)+ \".jpg\"\n    val ImageRef=storgaRef.child(\"imagePost/\"+imagePath )\n    val baos= ByteArrayOutputStream()\n    bitmap.compress(Bitmap.CompressFormat.JPEG,100,baos)\n    val data= baos.toByteArray()\n    val uploadTask=ImageRef.putBytes(data)\n    uploadTask.addOnFailureListener{\n        Toast.makeText(applicationContext,\"fail to upload\", Toast.LENGTH_LONG).show()\n    }.addOnSuccessListener { taskSnapshot -&gt;\n\n        DownloadURL= taskSnapshot.downloadUrl!!.toString()\n        ListTweets.removeAt(0)\n        adapter!!.notifyDataSetChanged()\n\n    }\n}\n</code></pre>\n\n<p>If I comment out the call I make to uploadImage the simulator doesn't crash so I think there is something going on with the way I get the picturePath but I'm not sure. Can anyone help me out?</p>\n"}, {"tags": ["java", "spring", "spring-boot", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 55186, "user_id": 301607, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c1a7b23a820171d3370a308139556e29?s=128&d=identicon&r=PG", "display_name": "StanislavL", "link": "https://stackoverflow.com/users/301607/stanislavl"}, "is_accepted": false, "score": 0, "last_activity_date": 1497873703, "creation_date": 1497873703, "answer_id": 44630054, "question_id": 44629885, "link": "https://stackoverflow.com/questions/44629885/how-can-i-tell-whether-my-spring-boot-application-is-in-debug-mode/44630054#44630054", "title": "How can I tell whether my Spring boot application is in debug mode?", "body": "<p>I am afraid it is not possible to get debug mode this way.</p>\n\n<p>Spring looks for any property values here but <code>--debug</code> is not part of property.</p>\n\n<p>The debug detecting could be vendor specific. (see <a href=\"https://stackoverflow.com/questions/1109019/determine-if-a-java-application-is-in-debug-mode-in-eclipse\">Determine if a java application is in debug mode in Eclipse</a> for more info about debug detecting).</p>\n"}, {"comments": [{"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1497904144, "post_id": 44631241, "comment_id": 76264743, "body": "I ended up checking the command line parameter before Spring starts (before I call <code>SpringApplication.run()</code>) but this is a more idiomatic way I guess."}], "tags": [], "owner": {"reputation": 84621, "user_id": 1384297, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/mQ01b.jpg?s=128&g=1", "display_name": "Andy Wilkinson", "link": "https://stackoverflow.com/users/1384297/andy-wilkinson"}, "is_accepted": true, "score": 9, "last_activity_date": 1497877049, "creation_date": 1497877049, "answer_id": 44631241, "question_id": 44629885, "link": "https://stackoverflow.com/questions/44629885/how-can-i-tell-whether-my-spring-boot-application-is-in-debug-mode/44631241#44631241", "title": "How can I tell whether my Spring boot application is in debug mode?", "body": "<p>The most robust way to check for debug mode is to query the <code>Environment</code>. This will allow you to detect that the mode has been enabled whether that's been done via a command line argument (<code>--debug</code>), system property (<code>-Ddebug</code>), environment variable (<code>DEBUG=true</code>), etc.</p>\n\n<p>You can inject an instance of the <code>Environment</code> as you would any other dependency or you can implement <code>EnvironmentAware</code>. The <code>getProperty(String)</code> method can then be used to retrieve the value of the <code>debug</code> property. Spring Boot treats <code>debug</code> as being enabled if the <code>debug</code> property has a non-null value other than <code>false</code>:</p>\n\n<pre><code>private boolean isSet(ConfigurableEnvironment environment, String property) {\n    String value = environment.getProperty(property);\n    return (value != null &amp;&amp; !value.equals(\"false\"));\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1497903937, "post_id": 44631332, "comment_id": 76264623, "body": "I don&#39;t think this will work because the <code>--debug</code> option is a special flag handled by Spring. I can&#39;t use it in another way."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1497904386, "post_id": 44631332, "comment_id": 76264853, "body": "@AdamArold sir, thanks for your feedback. but the <code>--debug</code> option only available in <code>spring-boot</code> rather than <code>spring</code>."}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1497904714, "post_id": 44631332, "comment_id": 76265022, "body": "That&#39;s why I tagged my question with it."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1497904953, "post_id": 44631332, "comment_id": 76265141, "body": "@AdamArold sir, I&#39;m sorry I  don&#39;t see the title clearly. but you can change other names for the debug, e.g: <code>dev</code>. for the option <code>debug!</code> you need change the expression to  <code>systemProperties[&#39;debug!&#39;] != null</code>."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 0, "last_activity_date": 1497878087, "last_edit_date": 1497878087, "creation_date": 1497877314, "answer_id": 44631332, "question_id": 44629885, "link": "https://stackoverflow.com/questions/44629885/how-can-i-tell-whether-my-spring-boot-application-is-in-debug-mode/44631332#44631332", "title": "How can I tell whether my Spring boot application is in debug mode?", "body": "<p>the simplest way is makes <code>debug</code> option to a system property, for example:</p>\n\n<pre><code>java -Ddebug Application\n</code></pre>\n\n<p>then you can annotated the property as below:</p>\n\n<pre><code>@Value(\"#{systemProperties.debug != null}\")\nvar debug: Boolean = false;\n//                    ^--- using a default value to avoiding NPException\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 500, "user_id": 222044, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/b22f150896b3aa5d611b830eecade3e7?s=128&d=identicon&r=PG", "display_name": "ctron", "link": "https://stackoverflow.com/users/222044/ctron"}, "is_accepted": false, "score": 0, "last_activity_date": 1565774154, "creation_date": 1565774154, "answer_id": 57491695, "question_id": 44629885, "link": "https://stackoverflow.com/questions/44629885/how-can-i-tell-whether-my-spring-boot-application-is-in-debug-mode/57491695#57491695", "title": "How can I tell whether my Spring boot application is in debug mode?", "body": "<p>As already mentioned before in <a href=\"https://stackoverflow.com/a/44631241/222044\">the reply by Andy</a>, it is possible to evaluate the property <code>debug</code>, however you need to do this from the <code>Environment</code>.</p>\n\n<p>I ran into the same problem, when I wanted to activate a component, only in \"debug mode\". You can achieve this by using <code>@ConditionalOnProperty(\"debug\")</code>, which does fetch the information from <code>Environment</code> and thus works with <code>--debug</code>, <code>-Ddebug</code>, \u2026</p>\n"}], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3746, "favorite_count": 1, "accepted_answer_id": 44631241, "answer_count": 4, "score": 4, "last_activity_date": 1565774154, "creation_date": 1497873208, "last_edit_date": 1497873439, "question_id": 44629885, "link": "https://stackoverflow.com/questions/44629885/how-can-i-tell-whether-my-spring-boot-application-is-in-debug-mode", "title": "How can I tell whether my Spring boot application is in debug mode?", "body": "<p>I'd like to modify how my application works depending on whether the <code>--debug</code> switch is present or not. I tried this in my <code>@Configuration</code> file:</p>\n\n<pre><code>@Value(\"\\${debug}\")\nlateinit var debug: String\n</code></pre>\n\n<p>but Spring says</p>\n\n<blockquote>\n  <p>Could not resolve placeholder 'debug' in value \"${debug}\"</p>\n</blockquote>\n\n<p>How can I query the state of the <code>--debug</code> option?</p>\n"}, {"tags": ["java", "memory", "scope", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "is_accepted": false, "score": 4, "last_activity_date": 1497869617, "creation_date": 1497869617, "answer_id": 44628649, "question_id": 44628461, "link": "https://stackoverflow.com/questions/44628461/how-kotlin-objects-companion-objects-lazy-works-with-memory/44628649#44628649", "title": "How Kotlin objects &amp; companion objects &amp; lazy works with memory", "body": "<p>It's a quite vague question and can be answered by looking into bytecode.</p>\n\n<h1><a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-declarations\" rel=\"nofollow noreferrer\">Object declaration</a></h1>\n\n<p>Object declaration is a singleton. It has a static field called <code>INSTANCE</code> which gets initialized in static block (<code>&lt;clinit&gt;</code>).</p>\n\n<h1><a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\">Companion object</a></h1>\n\n<p>Companion is a kind of inner class, but is a singleton and behaves like object declaration.</p>\n\n<h1><a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">Lazy delegate</a></h1>\n\n<p>Lazy delegate (every delegate) is a separate object. Each time you create a lazy field, a delegate object gets instantiated.</p>\n"}], "owner": {"reputation": 3767, "user_id": 5431173, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/5cc099bed59473fb573fe169561bc244?s=128&d=identicon&r=PG&f=1", "display_name": "Akshay Sood", "link": "https://stackoverflow.com/users/5431173/akshay-sood"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1181, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1503314274, "creation_date": 1497869083, "last_edit_date": 1503314274, "question_id": 44628461, "link": "https://stackoverflow.com/questions/44628461/how-kotlin-objects-companion-objects-lazy-works-with-memory", "title": "How Kotlin objects &amp; companion objects &amp; lazy works with memory", "body": "<p>I couldn't find anywhere about how objects, companion objects and lazy works with memory.\nCan anyone here explain me how they work with memory?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["kotlin", "rx-java2", "rx-kotlin"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1498572343, "post_id": 44627173, "comment_id": 76545474, "body": "Why do you need a try-catch-block. Which <code>Exception</code> are you expecting? And why?"}], "owner": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1231, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1498572097, "creation_date": 1497865488, "last_edit_date": 1498572097, "question_id": 44627173, "link": "https://stackoverflow.com/questions/44627173/rxjava2-maybe-return-empty-observable-if-no-element", "title": "RxJava2 Maybe return empty Observable if no element", "body": "<p>Is there a better / more idiomatic way to use a <code>Maybe</code> type from JavaRx 2 than <code>flatMap</code> and <code>try/catch</code>? The following example takes a <code>Maybe&lt;User&gt;</code> and tries to book them a random ticket for a flight. If the user doesn't exist, return an empty <code>Observable</code>.</p>\n\n<pre><code>fun bookRandomTicketFor(userId: UUID): Observable&lt;Ticket&gt; {\n    val agencies = travelAgents() // Observable&lt;TravelAgency&gt;\n    val user = findById(userId) // Maybe&lt;User&gt;\n    val location = locate() // Observable&lt;GeoLocation&gt;\n\n    return Observable\n            .just(user.toObservable())\n            .flatMap { usr -&gt;\n                try {\n                    usr.zipWith(location, { aUser, location -&gt;\n                        agencies\n                                .flatMap { agency -&gt;\n                                    agency\n                                            .search(aUser, location) // Observable&lt;Flight&gt;.\n                                            .toList() // Convert to List&lt;Flight&gt;.\n                                            .toObservable() // And to Observable&lt;List&lt;Flight&gt;&gt;.\n                                            .flatMap { flights -&gt; // So it can be shuffled,\n                                                Observable.just( // giving a random order.\n                                                        shuffle(flights as MutableList&lt;Flight&gt;)[0]\n                                                )\n                                            }\n                                }.firstElement() // Now take the first randomly shuffled Flight.\n                    }).flatMap { flight -&gt;\n                        book(user.toObservable(), flight.toObservable())\n                    }\n                } catch (ex: Exception) {\n                    Observable.empty&lt;Ticket&gt;()\n                }\n            }\n            .doOnSubscribe { Logger.log(\"Random ticket: start for $userId\") }\n            .doOnComplete { Logger.log(\"Random ticket: exit for $userId\") }\n}\n</code></pre>\n\n<p>It seems a bit of a fudge to have to convert the <code>Maybe&lt;User&gt;</code> to an <code>Observable</code> and start with an <code>Observable&lt;Observable&lt;User&gt;&gt;</code> that I can then <code>flatMap</code> and <code>try/catch</code>. Just wondering if there is a neater approach to doing this?</p>\n"}, {"tags": ["java", "generics", "kotlin"], "comments": [{"owner": {"reputation": 10389, "user_id": 4105457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9ef298504ee9556c9532d3c7f3a3263?s=128&d=identicon&r=PG&f=1", "display_name": "Flown", "link": "https://stackoverflow.com/users/4105457/flown"}, "edited": false, "score": 0, "creation_date": 1497864158, "post_id": 44626655, "comment_id": 76239017, "body": "How does your Kotlin code look like? Which error do you get?"}, {"owner": {"reputation": 69, "user_id": 5610411, "user_type": "registered", "profile_image": "https://graph.facebook.com/759025257562076/picture?type=large", "display_name": "Taku Semba", "link": "https://stackoverflow.com/users/5610411/taku-semba"}, "reply_to_user": {"reputation": 10389, "user_id": 4105457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9ef298504ee9556c9532d3c7f3a3263?s=128&d=identicon&r=PG&f=1", "display_name": "Flown", "link": "https://stackoverflow.com/users/4105457/flown"}, "edited": false, "score": 0, "creation_date": 1497864478, "post_id": 44626655, "comment_id": 76239261, "body": "val someClass = SomeClass(a, b) the error is &quot;infered type Any! is not a subtype of ClassA&quot;, but idk how to fix it. a and b extends ClassA and implements InterfaceA"}, {"owner": {"reputation": 10389, "user_id": 4105457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d9ef298504ee9556c9532d3c7f3a3263?s=128&d=identicon&r=PG&f=1", "display_name": "Flown", "link": "https://stackoverflow.com/users/4105457/flown"}, "edited": false, "score": 0, "creation_date": 1497864778, "post_id": 44626655, "comment_id": 76239458, "body": "You should update your question."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1497865100, "post_id": 44626655, "comment_id": 76239651, "body": "Kotlin needs you to specify type parameter, e. g. <code>SomeClass&lt;SomeAnotherClass&gt;()</code>"}, {"owner": {"reputation": 69, "user_id": 5610411, "user_type": "registered", "profile_image": "https://graph.facebook.com/759025257562076/picture?type=large", "display_name": "Taku Semba", "link": "https://stackoverflow.com/users/5610411/taku-semba"}, "edited": false, "score": 0, "creation_date": 1497865141, "post_id": 44626655, "comment_id": 76239679, "body": "ok. i updated my answer"}, {"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1497865214, "post_id": 44626655, "comment_id": 76239727, "body": "Please <a href=\"https://stackoverflow.com/posts/44626655/edit\">edit</a> the question and include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. I can not reproduce your error."}], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 5610411, "user_type": "registered", "profile_image": "https://graph.facebook.com/759025257562076/picture?type=large", "display_name": "Taku Semba", "link": "https://stackoverflow.com/users/5610411/taku-semba"}, "edited": false, "score": 0, "creation_date": 1497864860, "post_id": 44626732, "comment_id": 76239500, "body": "thats a Class definition, I want to know how I can get a instance of it."}, {"owner": {"reputation": 69, "user_id": 5610411, "user_type": "registered", "profile_image": "https://graph.facebook.com/759025257562076/picture?type=large", "display_name": "Taku Semba", "link": "https://stackoverflow.com/users/5610411/taku-semba"}, "edited": false, "score": 0, "creation_date": 1497865439, "post_id": 44626732, "comment_id": 76239872, "body": "thank you for your nice answer. the SomeClass takes two instances in the constructor, and both are different classes. sorry to mention it late. i updated my question"}, {"owner": {"reputation": 69, "user_id": 5610411, "user_type": "registered", "profile_image": "https://graph.facebook.com/759025257562076/picture?type=large", "display_name": "Taku Semba", "link": "https://stackoverflow.com/users/5610411/taku-semba"}, "edited": false, "score": 0, "creation_date": 1497867310, "post_id": 44626732, "comment_id": 76241183, "body": "a and b should be instanciated from different classes, like val a = ClassB(), val b = ClassC() and both ClassB and ClassC extends ClassA and implements InterfaceA."}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 69, "user_id": 5610411, "user_type": "registered", "profile_image": "https://graph.facebook.com/759025257562076/picture?type=large", "display_name": "Taku Semba", "link": "https://stackoverflow.com/users/5610411/taku-semba"}, "edited": false, "score": 0, "creation_date": 1497867446, "post_id": 44626732, "comment_id": 76241295, "body": "If one of those is a subclass of the other, then this will still work. If it&#39;s not, then you&#39;ll have to change the code of <code>SomeClass</code>, and give it two type parameters instead of just the one. Added code for this case too."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 4, "last_activity_date": 1497867582, "last_edit_date": 1497867582, "creation_date": 1497864259, "answer_id": 44626732, "question_id": 44626655, "link": "https://stackoverflow.com/questions/44626655/how-can-i-instance-a-java-class-like-a-extends-b-implements-c-in-kotlin/44626732#44626732", "title": "How can i instance a java class like A: extends B implements C in kotlin", "body": "<p>You can use a <a href=\"https://kotlinlang.org/docs/reference/generics.html#upper-bounds\" rel=\"nofollow noreferrer\">where-clause</a> to define multiple upper bounds:</p>\n\n<pre><code>class SomeClass&lt;T&gt;(a: T, b: T)\n    where T : ClassA, T : InterfaceA\n</code></pre>\n\n<hr>\n\n<p>Update, since apparently that wasn't the question. Let's say you have the code above (or the original Java), and a <code>ClassB</code> that inherits/implements the two types that are required from <code>T</code>, <code>ClassA</code> and <code>InterfaceA</code>.</p>\n\n<pre><code>open class ClassA\ninterface InterfaceA\n\nclass ClassB : ClassA(), InterfaceA\n</code></pre>\n\n<p>Creating an instance of <code>SomeClass</code> if you have an <code>a</code> and <code>b</code> that's of type <code>T</code> from somewhere (for example, they're instances of <code>ClassB</code>) then looks like this:</p>\n\n<pre><code>val a = ClassB()\nval b = ClassB()\nval someClass = SomeClass(a, b)\n</code></pre>\n\n<p>The long form of the last line with the type parameter included actually looks like this (but the type parameter can be inferred most of the time like you've seen above):</p>\n\n<pre><code>val someClass = SomeClass&lt;ClassB&gt;(a, b)\n</code></pre>\n\n<hr>\n\n<p>Edit again:</p>\n\n<p>If you need to pass in instances of unrelated classes that match the type requirements, you'll need to give your <code>SomeClass</code> two type parameters:</p>\n\n<pre><code>public class SomeClass&lt;T1 extends ClassA &amp; InterfaceA, T2 extends ClassA &amp; InterfaceA&gt; {\n\n    public SomeClass(T1 a, T2 b) {}\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 0, "last_activity_date": 1498003331, "last_edit_date": 1498003331, "creation_date": 1497885062, "answer_id": 44634152, "question_id": 44626655, "link": "https://stackoverflow.com/questions/44626655/how-can-i-instance-a-java-class-like-a-extends-b-implements-c-in-kotlin/44634152#44634152", "title": "How can i instance a java class like A: extends B implements C in kotlin", "body": "<p>Generic with multiple upper-bounds in Kotlin is painful. maybe it is a bug, there is no problem in java since both <code>A</code> and <code>B</code> are the subclasses of <code>ClassA</code> and <code>InterfaceA</code>.\nbut it can achieve your way by write an ugly method for the multi upper-bounds generic parameters. for example: </p>\n\n<pre><code>val error = SomeClass(A(), B());\nval ok = new(A(), B());\n\n//star projection means: &lt;? extends ClassA &amp; InterfaceA&gt;\n//                                             |\nfun &lt;F, S&gt; new(first: F, second: S): SomeClass&lt;*&gt;\n        where F : ClassA, F : InterfaceA,\n              S : ClassA, S : InterfaceA {\n\n    @Suppress(\"UNCHECKED_CAST\")\n    return SomeClass(first,second as F);\n    //           it is always ok  ---^\n}\n</code></pre>\n\n<p>there is no problem in the code above, since the raw type of both <code>F</code> and <code>S</code> are <code>ClassA</code> and <code>InterfaceA</code> so it works fine in <em>runtime</em>, and <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-18.html\" rel=\"nofollow noreferrer\">type inference</a> &amp; <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-4.html#jls-4.6\" rel=\"nofollow noreferrer\">type erasure</a> occurs in <em>compile-time</em> only.</p>\n"}], "owner": {"reputation": 69, "user_id": 5610411, "user_type": "registered", "profile_image": "https://graph.facebook.com/759025257562076/picture?type=large", "display_name": "Taku Semba", "link": "https://stackoverflow.com/users/5610411/taku-semba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 816, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1498003909, "creation_date": 1497864043, "last_edit_date": 1498003909, "question_id": 44626655, "link": "https://stackoverflow.com/questions/44626655/how-can-i-instance-a-java-class-like-a-extends-b-implements-c-in-kotlin", "title": "How can i instance a java class like A: extends B implements C in kotlin", "body": "<p>I have java classes like this below:</p>\n\n<pre><code>public class SomeClass&lt;T extends ClassA &amp; InterfaceA&gt; {\n\n    public SomeClass(T a, T b) {}\n\n}\n\nclass A extends ClassA implements InterfaceA{}\nclass B extends ClassA implements InterfaceA{}\n</code></pre>\n\n<p>I'm trying to create an instance of SomeClass in kotlin at below, but I get a compile error:</p>\n\n<p><strong>\"infered type Any! is not a subtype of ClassA\"</strong></p>\n\n<p>but I'd know how to fix it. <code>A</code> and <code>B</code> at below extends <code>ClassA</code> and implements <code>InterfaceA</code>.</p>\n\n<pre><code>val someClass = SomeClass(A(), B()) \n</code></pre>\n\n<p>Could someone help this out?</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 5858, "user_id": 1530549, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9acb42e69fdeeaf6474022411fe61725?s=128&d=identicon&r=PG", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1530549/scooter"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1497865830, "post_id": 44626565, "comment_id": 76240134, "body": "@tynn For IntelliJ I am using whatever the default is. For compiling at the command line, I would not be using Gradle."}, {"owner": {"reputation": 5858, "user_id": 1530549, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9acb42e69fdeeaf6474022411fe61725?s=128&d=identicon&r=PG", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1530549/scooter"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1497868005, "post_id": 44626565, "comment_id": 76241637, "body": "@tynn Nope, no build.gradle file."}, {"owner": {"reputation": 5858, "user_id": 1530549, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9acb42e69fdeeaf6474022411fe61725?s=128&d=identicon&r=PG", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1530549/scooter"}, "edited": false, "score": 0, "creation_date": 1497868496, "post_id": 44626565, "comment_id": 76241944, "body": "@tynn IntelliJ does allow the generation of an Ant file: Build-&gt;Generate Ant Build . I don&#39;t understand all that is in there, but I notice that there is no &quot;kotlinc&quot; anywhere."}, {"owner": {"reputation": 348241, "user_id": 104891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ff652685122f4500dd4f3c21fb32da2?s=128&d=identicon&r=PG", "display_name": "CrazyCoder", "link": "https://stackoverflow.com/users/104891/crazycoder"}, "edited": false, "score": 2, "creation_date": 1497874572, "post_id": 44626565, "comment_id": 76246155, "body": "You can&#39;t see the commands because IntelliJ IDEA doesn&#39;t call the compiler process, it uses compiler API directly. The same applies to both Java and Kotlin, therefore your question already <a href=\"https://stackoverflow.com/a/43855256/104891\">has the answer here</a>."}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1497902356, "post_id": 44626565, "comment_id": 76263776, "body": "Did you have a look at the documentation for using the command line compiler? <a href=\"https://kotlinlang.org/docs/tutorials/command-line.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/command-line.html</a>"}, {"owner": {"reputation": 5858, "user_id": 1530549, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9acb42e69fdeeaf6474022411fe61725?s=128&d=identicon&r=PG", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1530549/scooter"}, "reply_to_user": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1497913647, "post_id": 44626565, "comment_id": 76268437, "body": "@JKLy Yes, I did see that. I wish there was an example of making a project with multiple files/packages and then compiling and running that."}], "answers": [{"comments": [{"owner": {"reputation": 5858, "user_id": 1530549, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9acb42e69fdeeaf6474022411fe61725?s=128&d=identicon&r=PG", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1530549/scooter"}, "edited": false, "score": 0, "creation_date": 1497874213, "post_id": 44629368, "comment_id": 76245912, "body": "Thanks for the reply. I don&#39;t know about or use gradle, but I do have it on my system. However, no gradlew and I see it is called the Gradle Wrapper and that &quot;If a Gradle project has set up the Wrapper (and we recommend all projects do so), you can execute the build using one of the following commands from the root of the project: &quot;. I am guessing that IntelliJ Idea has not created a Gradle project."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 0, "last_activity_date": 1497877155, "last_edit_date": 1497877155, "creation_date": 1497871706, "answer_id": 44629368, "question_id": 44626565, "link": "https://stackoverflow.com/questions/44626565/how-do-you-determine-the-compile-commands-being-issued-by-intellij-idea/44629368#44629368", "title": "How do you determine the compile commands being issued by IntelliJ Idea?", "body": "<p>Not exactly what you want, but an easy way to get the compiler command line I know of is to run a Gradle build of your project with debug log level:</p>\n\n<pre><code>./gradlew compileKotlin --debug | grep 'compiler args'\n</code></pre>\n\n<p>You'll get something like this:</p>\n\n<blockquote>\n  <p>14:23:57.754 [DEBUG] [org.gradle.api.Project] [KOTLIN] Kotlin <strong>compiler args</strong>: -d C:\\yourProjectPath\\build\\kotlin-classes\\main -cp  -no-stdlib -no-reflect -module C:\\Temp\\kjps1937184266353217163kotlingradlepluginapi.script.xml -module-name kotlin-gradle-plugin-api -jvm-target 1.6 -Xadd-compiler-builtins -Xload-builtins-from-dependencies -language-version 1.1 -api-version 1.1 -Xcoroutines=warn</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 5858, "user_id": 1530549, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9acb42e69fdeeaf6474022411fe61725?s=128&d=identicon&r=PG", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1530549/scooter"}, "is_accepted": true, "score": 0, "last_activity_date": 1497914108, "creation_date": 1497914108, "answer_id": 44641343, "question_id": 44626565, "link": "https://stackoverflow.com/questions/44626565/how-do-you-determine-the-compile-commands-being-issued-by-intellij-idea/44641343#44641343", "title": "How do you determine the compile commands being issued by IntelliJ Idea?", "body": "<p>As mentioned by CrazyCoder above and <a href=\"https://stackoverflow.com/questions/43855119/how-can-i-see-the-javac-command-intellij-idea-uses-to-compile-my-code/43855256#43855256\">as an answer to this question</a> IntelliJ does not call command line programs to build an application, but rather makes calls to a compiler API.</p>\n\n<p>Also mentioned <a href=\"https://stackoverflow.com/questions/43855119/how-can-i-see-the-javac-command-intellij-idea-uses-to-compile-my-code/43855256#43855256\">as an answer to this question</a> is the fact that IntelliJ IDEA has a way to export a file for <strong>Ant</strong> to process: <strong>Build->Generate Ant Build...</strong> . That output file can be examined, or Ant can be invoked to process it, in order to see what commands need to be run.</p>\n"}, {"comments": [{"owner": {"reputation": 5858, "user_id": 1530549, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9acb42e69fdeeaf6474022411fe61725?s=128&d=identicon&r=PG", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1530549/scooter"}, "edited": false, "score": 0, "creation_date": 1497916982, "post_id": 44641529, "comment_id": 76269280, "body": "Thanks! How does that run without the adding the kotlin runtime to the compile command that they say you need to do on their kotlinc page? I guess &quot;kotlin&quot; includes that (while &quot;java&quot; does not)?"}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "reply_to_user": {"reputation": 5858, "user_id": 1530549, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9acb42e69fdeeaf6474022411fe61725?s=128&d=identicon&r=PG", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1530549/scooter"}, "edited": false, "score": 1, "creation_date": 1497917501, "post_id": 44641529, "comment_id": 76269388, "body": "Yes, the <code>kotlin</code> command runs it with the packaged kotlin-runtime on the classpath. The <code>java</code> command doesn&#39;t know anything about Kotlin, so you would either have to include the runtime on the classpath yourself, or compile it with <code>-include-runtime</code>"}], "tags": [], "owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "is_accepted": false, "score": 1, "last_activity_date": 1497915592, "creation_date": 1497915592, "answer_id": 44641529, "question_id": 44626565, "link": "https://stackoverflow.com/questions/44626565/how-do-you-determine-the-compile-commands-being-issued-by-intellij-idea/44641529#44641529", "title": "How do you determine the compile commands being issued by IntelliJ Idea?", "body": "<p>If you intend to use <code>kotlinc</code> to compile your 2 files, you would do something like this:</p>\n\n<p><strong>example.kt</strong></p>\n\n<pre><code>fun say() {\n    println(\"hello world\")\n}\n</code></pre>\n\n<p><strong>main.kt</strong></p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    say()\n}\n</code></pre>\n\n<p>Then run this to compile your files into a directory called <code>classes/</code>:</p>\n\n<pre><code>kotlinc main.kt example.kt -d classes\n</code></pre>\n\n<p>And this to run it:</p>\n\n<pre><code>kotlin -classpath classes MainKt \n</code></pre>\n"}], "owner": {"reputation": 5858, "user_id": 1530549, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9acb42e69fdeeaf6474022411fe61725?s=128&d=identicon&r=PG", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1530549/scooter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 219, "favorite_count": 1, "accepted_answer_id": 44641343, "answer_count": 3, "score": 2, "last_activity_date": 1497915592, "creation_date": 1497863770, "question_id": 44626565, "link": "https://stackoverflow.com/questions/44626565/how-do-you-determine-the-compile-commands-being-issued-by-intellij-idea", "title": "How do you determine the compile commands being issued by IntelliJ Idea?", "body": "<p>I am using IntelliJ Idea to compile a simple 2-file Kotlin project. I would prefer to use the command line to compile and run. So I would like to see what commands the IDE is issuing to compile and run the project. How would I do that?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-softkeyboard", "bottom-sheet"], "comments": [{"owner": {"reputation": 551, "user_id": 4993283, "user_type": "registered", "profile_image": "https://graph.facebook.com/480708548753383/picture?type=large", "display_name": "\ubc30\uc900\ubaa8", "link": "https://stackoverflow.com/users/4993283/%eb%b0%b0%ec%a4%80%eb%aa%a8"}, "edited": false, "score": 0, "creation_date": 1497861474, "post_id": 44625365, "comment_id": 76237214, "body": "kotlin code is fine. please post your styles.xml code."}, {"owner": {"reputation": 3635, "user_id": 1360579, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/f078c70c6c6820e3f6816932408ffa46?s=128&d=identicon&r=PG&f=1", "display_name": "orium", "link": "https://stackoverflow.com/users/1360579/orium"}, "edited": false, "score": 2, "creation_date": 1498748336, "post_id": 44625365, "comment_id": 76637690, "body": "what version of android design library do you use? It works just fine in 25.3.1, but don&#39;t work in 25.4.0"}, {"owner": {"reputation": 3635, "user_id": 1360579, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/f078c70c6c6820e3f6816932408ffa46?s=128&d=identicon&r=PG&f=1", "display_name": "orium", "link": "https://stackoverflow.com/users/1360579/orium"}, "edited": false, "score": 1, "creation_date": 1501791303, "post_id": 44625365, "comment_id": 77949103, "body": "any updates about this?"}], "answers": [{"comments": [{"owner": {"reputation": 2644, "user_id": 2511560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab74921f703ca5d49041b6223bc8c1a4?s=128&d=identicon&r=PG", "display_name": "Irfan Raza", "link": "https://stackoverflow.com/users/2511560/irfan-raza"}, "edited": false, "score": 0, "creation_date": 1519750931, "post_id": 45519946, "comment_id": 85032878, "body": "It worked now. I have posted the code separately which is working for me. Thanks for your suggestion, will try that as well."}], "tags": [], "owner": {"reputation": 3635, "user_id": 1360579, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/f078c70c6c6820e3f6816932408ffa46?s=128&d=identicon&r=PG&f=1", "display_name": "orium", "link": "https://stackoverflow.com/users/1360579/orium"}, "is_accepted": false, "score": -1, "last_activity_date": 1501922380, "creation_date": 1501922380, "answer_id": 45519946, "question_id": 44625365, "link": "https://stackoverflow.com/questions/44625365/keyboard-hides-bottomsheetdialogfragment/45519946#45519946", "title": "Keyboard hides BottomSheetDialogFragment", "body": "<p>add this to your styles</p>\n\n<pre><code>&lt;style name=\"DialogStyle\"&gt;\n    &lt;item name=\"android:windowBackground\"&gt;@android:color/transparent&lt;/item&gt;\n    &lt;item name=\"colorPrimaryDark\"&gt;@android:color/transparent&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>then in your's bottom sheet dialog's onCreate() add</p>\n\n<pre><code>setStyle(DialogFragment.STYLE_NO_FRAME, R.style.DialogStyle);\n</code></pre>\n\n<p>also don't forget to add to dialog's setupDialog() method</p>\n\n<pre><code>dialog.getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2644, "user_id": 2511560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab74921f703ca5d49041b6223bc8c1a4?s=128&d=identicon&r=PG", "display_name": "Irfan Raza", "link": "https://stackoverflow.com/users/2511560/irfan-raza"}, "reply_to_user": {"reputation": 1043, "user_id": 7207103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ec341cae3798625281c3ecf13ad40e?s=128&d=identicon&r=PG&f=1", "display_name": "jblejder", "link": "https://stackoverflow.com/users/7207103/jblejder"}, "edited": false, "score": 0, "creation_date": 1529488111, "post_id": 49005057, "comment_id": 88887752, "body": "May be. I didn&#39;t check on 27. Please put your working code for android 27 if you find"}], "tags": [], "owner": {"reputation": 2644, "user_id": 2511560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab74921f703ca5d49041b6223bc8c1a4?s=128&d=identicon&r=PG", "display_name": "Irfan Raza", "link": "https://stackoverflow.com/users/2511560/irfan-raza"}, "is_accepted": false, "score": 0, "last_activity_date": 1519723097, "creation_date": 1519723097, "answer_id": 49005057, "question_id": 44625365, "link": "https://stackoverflow.com/questions/44625365/keyboard-hides-bottomsheetdialogfragment/49005057#49005057", "title": "Keyboard hides BottomSheetDialogFragment", "body": "<p>This is working for me</p>\n\n<pre><code>public class CustomBottomSheetDialogFragment extends BottomSheetDialogFragment \n{\n @Override\n public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle \n    savedInstanceState) {\nView v = inflater.inflate(R.layout.content_dialog_bottom_sheet, container, false);\n\n\ngetDialog().getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE);\n    return v;\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2416, "user_id": 2627680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xRIPs.jpg?s=128&g=1", "display_name": "headsvk", "link": "https://stackoverflow.com/users/2627680/headsvk"}, "edited": false, "score": 6, "creation_date": 1529919993, "post_id": 50948146, "comment_id": 89033607, "body": "Nice solution! Also note that it&#39;s important that the top layout is a ScrollView, otherwise it doesn&#39;t work."}, {"owner": {"reputation": 1043, "user_id": 7207103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ec341cae3798625281c3ecf13ad40e?s=128&d=identicon&r=PG&f=1", "display_name": "jblejder", "link": "https://stackoverflow.com/users/7207103/jblejder"}, "reply_to_user": {"reputation": 2416, "user_id": 2627680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xRIPs.jpg?s=128&g=1", "display_name": "headsvk", "link": "https://stackoverflow.com/users/2627680/headsvk"}, "edited": false, "score": 0, "creation_date": 1530103191, "post_id": 50948146, "comment_id": 89115843, "body": "@headsvk actually it does not matter what is the top layout. On screenshoot I have simple ConstraintLayout with EditText and TextView. BottomSheetDialogFragment wraps my layout in necessary layout."}, {"owner": {"reputation": 2416, "user_id": 2627680, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xRIPs.jpg?s=128&g=1", "display_name": "headsvk", "link": "https://stackoverflow.com/users/2627680/headsvk"}, "edited": false, "score": 2, "creation_date": 1530187017, "post_id": 50948146, "comment_id": 89153010, "body": "@jblejder Maybe your layout is simple enough that you don&#39;t need it. I had more TextViews and buttons below the edit text and I had to wrap ConstraintLayout with a ScrollView otherwise it didn&#39;t work properly."}, {"owner": {"reputation": 497, "user_id": 925034, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/f56ab56a4c6ae7ce6920116679817374?s=128&d=identicon&r=PG", "display_name": "ab.helly", "link": "https://stackoverflow.com/users/925034/ab-helly"}, "edited": false, "score": 0, "creation_date": 1543430291, "post_id": 50948146, "comment_id": 93920834, "body": "For me it only worked with <code>android:isScrollContainer=&quot;true&quot;</code> on the child view that should be scrollable."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1555578388, "post_id": 50948146, "comment_id": 98162284, "body": "<code>android:statusBarColor</code> requires API 21 and why is it needed?"}, {"owner": {"reputation": 1975, "user_id": 7102459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db8f5bdae9005d34c37b73519dcfc2bb?s=128&d=identicon&r=PG", "display_name": "Zayid Mohammed", "link": "https://stackoverflow.com/users/7102459/zayid-mohammed"}, "edited": false, "score": 2, "creation_date": 1567584742, "post_id": 50948146, "comment_id": 102001921, "body": "this works, i had parent ConstraintLayout with complex design, works only when i wrapped ConstraintLayout with NestedScrollView (ScrollView is not working)"}, {"owner": {"reputation": 775, "user_id": 7382665, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/16f644a9822fd4517c202f10b1fead29?s=128&d=identicon&r=PG&f=1", "display_name": "Shruti", "link": "https://stackoverflow.com/users/7382665/shruti"}, "edited": false, "score": 0, "creation_date": 1569776834, "post_id": 50948146, "comment_id": 102697433, "body": "@jblejder I am using Constraint Layout and tried your solution but it did not work,can you add your XML code too?"}, {"owner": {"reputation": 1043, "user_id": 7207103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ec341cae3798625281c3ecf13ad40e?s=128&d=identicon&r=PG&f=1", "display_name": "jblejder", "link": "https://stackoverflow.com/users/7207103/jblejder"}, "reply_to_user": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 1, "creation_date": 1577880626, "post_id": 50948146, "comment_id": 105273275, "body": "@CoolMind <code>android:statusBarColor</code> is not necessary but without it, with other settings default, there will be status bar visible that breaks BottomSheetDialog feeling.  @Shruti I just tried my solution once again and seems to be working fine even with ConstraintLayout. Just make sure you have all vertical constraint set."}, {"owner": {"reputation": 1964, "user_id": 5064151, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/n2MNh.jpg?s=128&g=1", "display_name": "Muhammad Umair Shafique", "link": "https://stackoverflow.com/users/5064151/muhammad-umair-shafique"}, "edited": false, "score": 0, "creation_date": 1598527220, "post_id": 50948146, "comment_id": 112491161, "body": "This answer might help: <a href=\"https://stackoverflow.com/a/56631966/5064151\">stackoverflow.com/a/56631966/5064151</a>"}], "tags": [], "owner": {"reputation": 1043, "user_id": 7207103, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/31ec341cae3798625281c3ecf13ad40e?s=128&d=identicon&r=PG&f=1", "display_name": "jblejder", "link": "https://stackoverflow.com/users/7207103/jblejder"}, "is_accepted": true, "score": 89, "last_activity_date": 1530102537, "last_edit_date": 1530102537, "creation_date": 1529497261, "answer_id": 50948146, "question_id": 44625365, "link": "https://stackoverflow.com/questions/44625365/keyboard-hides-bottomsheetdialogfragment/50948146#50948146", "title": "Keyboard hides BottomSheetDialogFragment", "body": "<p>I found the solution for 27 api. So the reason why keyboard hides view even with SOFT_INPUT_ADJUST_RESIZE is that the windowIsFloating is set for Dialogs.</p>\n\n<p>The most convenient way that I found to change this is by creating style:</p>\n\n<pre><code>&lt;style name=\"DialogStyle\" parent=\"Theme.Design.Light.BottomSheetDialog\"&gt;\n    &lt;item name=\"android:windowIsFloating\"&gt;false&lt;/item&gt;\n    &lt;item name=\"android:statusBarColor\"&gt;@android:color/transparent&lt;/item&gt;\n    &lt;item name=\"android:windowSoftInputMode\"&gt;adjustResize&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n\n<p>And set this in <code>onCreate</code> method of your <code>BottomSheetDialogFragment</code>:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setStyle(DialogFragment.STYLE_NORMAL, R.style.DialogStyle)\n}\n</code></pre>\n\n<p>This is how it looks on my device:</p>\n\n<p><a href=\"https://i.stack.imgur.com/R9o9k.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/R9o9k.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 1844, "user_id": 10858631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec3bda6220c2c94bad630f8299e5e8af?s=128&d=identicon&r=PG&f=1", "display_name": "Mikev", "link": "https://stackoverflow.com/users/10858631/mikev"}, "edited": false, "score": 1, "creation_date": 1551349920, "post_id": 54923221, "comment_id": 96611891, "body": "You should give some explanation on your answer"}], "tags": [], "owner": {"reputation": 354, "user_id": 7979621, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4fHMV.jpg?s=128&g=1", "display_name": "Vitali", "link": "https://stackoverflow.com/users/7979621/vitali"}, "is_accepted": false, "score": 1, "last_activity_date": 1551348876, "creation_date": 1551348876, "answer_id": 54923221, "question_id": 44625365, "link": "https://stackoverflow.com/questions/44625365/keyboard-hides-bottomsheetdialogfragment/54923221#54923221", "title": "Keyboard hides BottomSheetDialogFragment", "body": "<p>You can use the next class:</p>\n\n<pre><code>import android.graphics.Rect; \nimport android.os.Bundle;\nimport android.support.annotation.NonNull;\nimport android.support.annotation.Nullable;\nimport android.support.design.widget.BottomSheetBehavior;\nimport android.support.design.widget.BottomSheetDialog;\nimport android.support.design.widget.BottomSheetDialogFragment;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.WindowManager;\n\npublic class TestBottomSheetDialog extends BottomSheetDialogFragment {\n\n    @Nullable\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n        View fragmentView = LayoutInflater.from(getContext()).inflate(R.layout.fragment_bottom_sheet, container, false);\n        if (getDialog().getWindow() != null) {\n           getDialog().getWindow().setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE);\n        }\n        if (getActivity() != null) {\n            View decorView = getActivity().getWindow().getDecorView();\n            decorView.getViewTreeObserver().addOnGlobalLayoutListener(() -&gt; {\n                Rect displayFrame = new Rect();\n                decorView.getWindowVisibleDisplayFrame(displayFrame);\n                int height = decorView.getContext().getResources().getDisplayMetrics().heightPixels;\n                int heightDifference = height - displayFrame.bottom;\n                if (heightDifference != 0) {\n                    if (fragmentView.getPaddingBottom() != heightDifference) {\n                        fragmentView.setPadding(0, 0, 0, heightDifference);\n                    }\n                } else {\n                    if (fragmentView.getPaddingBottom() != 0) {\n                        fragmentView.setPadding(0, 0, 0, 0);\n                    }\n                }\n            });\n        }\n        getDialog().setOnShowListener(dialog -&gt; {\n            BottomSheetDialog d = (BottomSheetDialog) dialog;\n            View bottomSheetInternal = d.findViewById(android.support.design.R.id.design_bottom_sheet);\n            if (bottomSheetInternal == null) return;\n             BottomSheetBehavior.from(bottomSheetInternal).setState(BottomSheetBehavior.STATE_EXPANDED);\n        });\n        return fragmentView;\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 96, "user_id": 6946462, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jlYt3cRo1OI/AAAAAAAAAAI/AAAAAAAAAGk/PYvVEs78R6s/photo.jpg?sz=128", "display_name": "Neckster", "link": "https://stackoverflow.com/users/6946462/neckster"}, "edited": false, "score": 3, "creation_date": 1585588488, "post_id": 56617198, "comment_id": 107807603, "body": "Worked for me too!"}], "tags": [], "owner": {"reputation": 111, "user_id": 6848850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jHGWW.png?s=128&g=1", "display_name": "Andrey Liashuk", "link": "https://stackoverflow.com/users/6848850/andrey-liashuk"}, "is_accepted": false, "score": 11, "last_activity_date": 1560672886, "creation_date": 1560672886, "answer_id": 56617198, "question_id": 44625365, "link": "https://stackoverflow.com/questions/44625365/keyboard-hides-bottomsheetdialogfragment/56617198#56617198", "title": "Keyboard hides BottomSheetDialogFragment", "body": "<p>I tried all of answers in this topic but nothing helped. I looked through many sites and found only one solution that working for me. </p>\n\n<pre><code> override fun onCreateDialog(savedInstanceState: Bundle?): Dialog {\n    val dialog = super.onCreateDialog(savedInstanceState)\n\n    dialog.window?.setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE)\n    dialog.setOnShowListener {\n        Handler().post {\n            val bottomSheet = (dialog as? BottomSheetDialog)?.findViewById&lt;View&gt;(R.id.design_bottom_sheet) as? FrameLayout\n            bottomSheet?.let {\n                BottomSheetBehavior.from(it).state = BottomSheetBehavior.STATE_EXPANDED\n            }\n        }\n    }\n\n    return dialog\n}\n</code></pre>\n\n<p><a href=\"https://lepiolet.fr/2017/09/25/bottomsheetdialogfragment-et-keyboard/\" rel=\"noreferrer\">Original solution</a></p>\n"}, {"tags": [], "owner": {"reputation": 157, "user_id": 7360275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53696f138d475236feea15a65396bb3d?s=128&d=identicon&r=PG&f=1", "display_name": "O. Remlawi", "link": "https://stackoverflow.com/users/7360275/o-remlawi"}, "is_accepted": false, "score": 0, "last_activity_date": 1603622361, "creation_date": 1603622361, "answer_id": 64522772, "question_id": 44625365, "link": "https://stackoverflow.com/questions/44625365/keyboard-hides-bottomsheetdialogfragment/64522772#64522772", "title": "Keyboard hides BottomSheetDialogFragment", "body": "<p>This solution worked for me after spending 5 hours without luck:</p>\n<h1>Step #1:</h1>\n<p>Add this code to your styles.xml (located in res\\values folder)</p>\n<pre><code>&lt;style name=&quot;CustomizedBottomDialogStyle&quot;&gt;\n    &lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/transparent&lt;/item&gt;\n    &lt;item name=&quot;android:backgroundDimEnabled&quot;&gt;true&lt;/item&gt;\n    &lt;item name=&quot;android:backgroundDimAmount&quot;&gt;0.7&lt;/item&gt;\n    &lt;item name=&quot;android:windowIsFloating&quot;&gt;false&lt;/item&gt;\n    &lt;item name=&quot;android:windowAnimationStyle&quot;&gt;@android:style/Animation.Dialog&lt;/item&gt;\n    &lt;item name=&quot;android:statusBarColor&quot;&gt;@android:color/transparent&lt;/item&gt;\n    &lt;item name=&quot;android:windowSoftInputMode&quot;&gt;adjustResize&lt;/item&gt;\n    &lt;item name=&quot;android:background&quot;&gt;@android:color/transparent&lt;/item&gt;\n&lt;/style&gt;\n</code></pre>\n<p>The key here is to set <strong>android:windowIsFloating</strong> -&gt; <strong>false</strong>, if it is <strong>true</strong> your code will not work! Therefor i used rather  <strong>android:backgroundDimEnabled</strong> and <strong>android:backgroundDimAmount</strong> to make background looks transparent with beautiful overlay.</p>\n<h1>Step #2:</h1>\n<p>Write this function to adjust it programmatically (note it is not optional, you need to perform both steps #1 and #2):</p>\n<pre><code>private fun showDialog() {\n\n    BottomSheetDialog(requireActivity(), R.style.CustomizedBottomDialogStyle).apply {\n\n        window?.setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE)\n\n        setOnShowListener {\n            Handler().post {\n                val bottomSheet = findViewById&lt;View&gt;(R.id.design_bottom_sheet) as? FrameLayout\n                bottomSheet?.let {\n                    BottomSheetBehavior.from(it).state = STATE_EXPANDED\n                }\n            }\n        }\n\n        setContentView(R.layout.dialog_layout)\n\n        // Your code goes here....\n\n        show()\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1186, "user_id": 4603242, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh4.googleusercontent.com/-je_p7yIUpG0/AAAAAAAAAAI/AAAAAAAAAI8/cL6FgnKgLeQ/photo.jpg?sz=128", "display_name": "alvarlagerlof", "link": "https://stackoverflow.com/users/4603242/alvarlagerlof"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13848, "favorite_count": 21, "accepted_answer_id": 50948146, "answer_count": 6, "score": 25, "last_activity_date": 1603622361, "creation_date": 1497859937, "question_id": 44625365, "link": "https://stackoverflow.com/questions/44625365/keyboard-hides-bottomsheetdialogfragment", "title": "Keyboard hides BottomSheetDialogFragment", "body": "<p>There are more fields below the keyboard. This happened when i updated the support library. I know it's Kotlin but it looks almost the same as java. How do I fix this issue?</p>\n\n<p>This is what it looks like:</p>\n\n<p><a href=\"https://i.stack.imgur.com/InjsP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/InjsP.png\" alt=\"enter image description here\"></a></p>\n\n<p>My code:</p>\n\n<pre><code>class ProjectsEditBottomSheetFragment(val privateID: String,\n                                  val publicID: String) : BottomSheetDialogFragment() {\n\n\n\nprivate val mBottomSheetBehaviorCallback = object : BottomSheetBehavior.BottomSheetCallback() {\n    override fun onStateChanged(bottomSheet: View, newState: Int) {\n        if (newState == BottomSheetBehavior.STATE_HIDDEN) {\n            dismiss()\n        }\n\n    }\n\n\n    override fun onSlide(bottomSheet: View, slideOffset: Float) {\n        if (slideOffset &lt; -0.15f) {\n            dismiss()\n        }\n    }\n}\n\n\noverride fun setupDialog(dialog: Dialog, style: Int) {\n    super.setupDialog(dialog, style)\n    val view = View.inflate(context, R.layout.projects_edit_sheet, null)\n    dialog.setContentView(view)\n\n    dialog.window.setSoftInputMode(WindowManager.LayoutParams.SOFT_INPUT_ADJUST_RESIZE)\n\n\n    val params = (view.parent as View).layoutParams as CoordinatorLayout.LayoutParams\n    val behavior = params.behavior\n\n    if (behavior != null &amp;&amp; behavior is BottomSheetBehavior&lt;*&gt;) {\n        behavior.setBottomSheetCallback(mBottomSheetBehaviorCallback)\n    }\n\n\n    // Get and set values\n    val realm = Realm.getDefaultInstance()\n    val realmObject = realm.where(ProjectsRealmObject::class.java)\n            .equalTo(\"privateID\", privateID)\n            .findFirst()\n\n\n\n\n    realm.beginTransaction()\n    view.title_input.text = SpannableStringBuilder(realmObject.title)\n    view.description_input.text = SpannableStringBuilder(realmObject.description)\n    view.public_checkbox.isChecked = realmObject.isPublic\n    realm.commitTransaction()\n\n\n    // Keyboard\n    view.title_input.onFocusChangeListener = View.OnFocusChangeListener { _, hasFocus -&gt;\n        if (hasFocus) {\n            (context.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager).showSoftInput(view.title_input, InputMethodManager.SHOW_FORCED)\n        } else {\n            (context.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager).hideSoftInputFromWindow(view.title_input.windowToken, 0)\n        }\n    }\n\n    view.description_input.onFocusChangeListener = View.OnFocusChangeListener { _, hasFocus -&gt;\n        if (hasFocus) {\n            (context.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager).showSoftInput(view.description_input, InputMethodManager.SHOW_FORCED)\n        } else {\n            (context.getSystemService(Context.INPUT_METHOD_SERVICE) as InputMethodManager).hideSoftInputFromWindow(view.description_input.windowToken, 0)\n        }\n    }\n\n\n    // Click listners\n    view.public_layout.setOnClickListener { view.public_checkbox.toggle() }\n\n    view.cancel.setOnClickListener {\n        view?.hideKeyboard()\n        dismiss()\n    }\n\n    view.save.setOnClickListener {\n        view?.hideKeyboard()\n        // Save to realm\n        realm.beginTransaction()\n        realmObject.title = if (view.title_input.text.toString() == \"\") getString(R.string.unnamed) else view.title_input.text.toString()\n        realmObject.description = view.description_input.text.toString()\n        realmObject.isPublic = view.public_checkbox.isChecked\n        realmObject.synced = false\n        realmObject.updatedRealm = TimeUnit.MILLISECONDS.toSeconds(System.currentTimeMillis()).toString() + \"\"\n        realm.commitTransaction()\n\n        ProjectsSync(context)\n\n        toast(\"Sparat\")\n\n        dismiss()\n    }\n\n  }\n}\n</code></pre>\n\n<p>xml:</p>\n\n<pre><code>&lt;ScrollView\nxmlns:android=\"http://schemas.android.com/apk/res/android\"\nxmlns:app=\"http://schemas.android.com/apk/res-auto\"\nandroid:layout_width=\"match_parent\"\nandroid:layout_height=\"wrap_content\"\nandroid:background=\"@color/white\"\napp:layout_collapseMode=\"none\"\napp:behavior_hideable=\"false\"\napp:behavior_peekHeight=\"100dp\"\napp:layout_behavior=\"android.support.design.widget.BottomSheetBehavior\"\nstyle=\"@style/Widget.Design.BottomSheet.Modal\"&gt;\n\n&lt;FrameLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"\n        android:id=\"@+id/content\"&gt;\n\n        &lt;android.support.design.widget.TextInputLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:paddingRight=\"16dp\"\n            android:paddingLeft=\"16dp\"\n            android:layout_marginTop=\"16dp\"\n            android:layout_marginBottom=\"8dp\"&gt;\n\n            &lt;android.support.design.widget.TextInputEditText\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:hint=\"@string/edit_info_placeholder_title\"\n                android:id=\"@+id/title_input\"/&gt;\n\n        &lt;/android.support.design.widget.TextInputLayout&gt;\n\n        &lt;android.support.design.widget.TextInputLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:paddingRight=\"16dp\"\n            android:paddingLeft=\"16dp\"&gt;\n\n            &lt;android.support.design.widget.TextInputEditText\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:hint=\"@string/edit_info_placeholder_description\"\n                android:id=\"@+id/description_input\"/&gt;\n\n        &lt;/android.support.design.widget.TextInputLayout&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"horizontal\"\n            android:clickable=\"true\"\n            android:background=\"@drawable/click\"\n            android:paddingTop=\"8dp\"\n            android:paddingBottom=\"8dp\"\n            android:id=\"@+id/public_layout\"&gt;\n\n            &lt;android.support.v7.widget.AppCompatCheckBox\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_marginLeft=\"12dp\"\n                android:id=\"@+id/public_checkbox\"\n                android:layout_marginRight=\"8dp\"/&gt;\n\n            &lt;TextView\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"@string/edit_info_placeholder_is_public\"\n                android:layout_gravity=\"center_vertical\"\n                style=\"@style/textMedium\"/&gt;\n\n        &lt;/LinearLayout&gt;\n\n\n        &lt;!-- Buttons --&gt;\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"horizontal\"\n            android:gravity=\"right\"\n            android:paddingBottom=\"8dp\"&gt;\n\n            &lt;Button\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"@string/edit_info_button_cancel\"\n                android:id=\"@+id/cancel\"\n                style=\"@style/Widget.AppCompat.Button.Borderless.Colored\"/&gt;\n\n            &lt;Button\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"@string/edit_info_button_save\"\n                android:id=\"@+id/save\"\n                style=\"@style/Widget.AppCompat.Button.Borderless.Colored\"/&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/LinearLayout&gt;\n\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["json", "kotlin"], "comments": [{"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "edited": false, "score": 3, "creation_date": 1497858311, "post_id": 44624635, "comment_id": 76235325, "body": "What is the error you are getting? Please post a stack trace, if possible."}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1497858411, "post_id": 44624635, "comment_id": 76235379, "body": "Which parser you are using?"}, {"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "reply_to_user": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1497858480, "post_id": 44624635, "comment_id": 76235417, "body": "@Miha_x64 He&#39;s using Moshi, see last code snippet: <code>.addConverterFactory(MoshiConverterFactory.create())</code>"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 1, "creation_date": 1497858537, "post_id": 44624635, "comment_id": 76235453, "body": "Ok then, answer first question to get some help."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1497860546, "post_id": 44624635, "comment_id": 76236645, "body": "Please format the code parts appropriately to make it easy to read. Also add all errors."}], "answers": [{"tags": [], "owner": {"reputation": 270, "user_id": 1482081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2IFOP.jpg?s=128&g=1", "display_name": "Zia", "link": "https://stackoverflow.com/users/1482081/zia"}, "is_accepted": false, "score": 0, "last_activity_date": 1497943400, "creation_date": 1497943400, "answer_id": 44646430, "question_id": 44624635, "link": "https://stackoverflow.com/questions/44624635/kotlin-json-parser/44646430#44646430", "title": "Kotlin Json Parser", "body": "<p>Thanks Guys!\nI found the answer, everything stat working after changing the parser </p>\n\n<p>MoshiConverterFactory to GsonConverterFactory. </p>\n"}, {"tags": [], "owner": {"reputation": 935, "user_id": 8822851, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-tmfBFb3Xhyg/AAAAAAAAAAI/AAAAAAAAAEY/srQLkMO4MnE/photo.jpg?sz=128", "display_name": "arjun shrestha", "link": "https://stackoverflow.com/users/8822851/arjun-shrestha"}, "is_accepted": false, "score": 0, "last_activity_date": 1514740002, "creation_date": 1514740002, "answer_id": 48044376, "question_id": 44624635, "link": "https://stackoverflow.com/questions/44624635/kotlin-json-parser/48044376#48044376", "title": "Kotlin Json Parser", "body": "<p>respones is the string which will be your jsonResponse</p>\n\n<pre><code>try {\nval rootArray = JSONArray(respones)\nval mainObject=rootArray.getJSONObject(0)\nval platformObject=mainObject.getJSONObject(\"platform\")\nval name=platformObject.getString(\"name\")\nval publishingRegion=platformObject.getString(\"publishingRegion\")\nval platformGroup=platformObject.getString(\"platformGroup\")\nval id=platformObject.getInt(\"id\")\nval countryCode=platformObject.getString(\"countryCode\")\nval localesObj=platformObject.getJSONObject(\"locales\")\nval localeArray=locales.getJSONArray(\"locale\")\nval stringOne=localeArray.getString(0)\nval stringTwo=localeArray.getString(1) \n} catch (e: JSONException){}\n</code></pre>\n"}], "owner": {"reputation": 270, "user_id": 1482081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2IFOP.jpg?s=128&g=1", "display_name": "Zia", "link": "https://stackoverflow.com/users/1482081/zia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 465, "favorite_count": 0, "answer_count": 2, "score": -6, "last_activity_date": 1514740002, "creation_date": 1497857501, "last_edit_date": 1497904221, "question_id": 44624635, "link": "https://stackoverflow.com/questions/44624635/kotlin-json-parser", "title": "Kotlin Json Parser", "body": "<p>I have this JSON in Kotlin, and I'm not able to fetch and parse. Any quick help. Please.</p>\n\n<pre><code>[{platform: {name: \"mena-web\",publishingRegion: \"mena\",platformGroup:\"web\",id: 2,countryCode: \"AE\",locales: {locale:[\"en_US\",\"ar_AE\"]}}}]\n</code></pre>\n\n<p>Here are my data classes:</p>\n\n<pre><code>data class Locales(var locale: ArrayList&lt;String&gt;) {}\n\ndata class Platform(var name: String, var publishingRegion: String, var platformGroup: String, var id: Int, var countryCode: String, var locales: Locales) {}\n\ndata class Json(var platform: Platform) {}\n</code></pre>\n\n<p>Here is my JSON API interface:</p>\n\n<pre><code>interface  Api {\n    @GET(\"/me.json2\")\n    fun getGeo(callback: Callback&lt;List&lt;Json&gt;&gt;): Call&lt;List&lt;Json&gt;&gt;\n}\n</code></pre>\n\n<p>Here is my RestAPI:</p>\n\n<pre><code>class RestAPI(val api: Api) {\n\n    fun getNews(callback: Callback&lt;List&lt;Json&gt;&gt;) {\n        val call = api.getGeo(callback)\n        call.enqueue(callback)\n    }\n}\n</code></pre>\n\n<p>Here is my RestAPI call:</p>\n\n<pre><code>try {\n    val api: RestAPI\n    val retrofit = Retrofit.Builder()\n                      .baseUrl(PLATEFORM_URL)\n                      .addConverterFactory(MoshiConverterFactory.create())\n                      .build()\n\n    api = retrofit.create(RestApi::class.java)\n    val callback = object : Callback&lt;List&lt;Json&gt;&gt; {\n\n        override fun onResponse(call: Call&lt;List&lt;Json&gt;&gt;?, response: retrofit2.Response&lt;List&lt;Json&gt;&gt;?) {\n            response?.isSuccessful.let {\n                this@MainActivity.photos = response?.body()\n            }\n        }\n\n        override fun onFailure(call: Call&lt;List&lt;Json&gt;&gt;?, t: Throwable?) {\n            Log.e(\"MainActivity\", \"Problems calling API\", t)\n        }\n\n    }\n\n    api.getGeo(callback)\n//  Log.e(\"Message\", test.getNews().toList().toString())\n} catch(e:Exception){\n    Log.e(\"Message\", e.message)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3664, "user_id": 1771055, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e72db016ef8a0d3cd83cf132964456c3?s=128&d=identicon&r=PG", "display_name": "rozina", "link": "https://stackoverflow.com/users/1771055/rozina"}, "edited": false, "score": 1, "creation_date": 1497857230, "post_id": 44624412, "comment_id": 76234754, "body": "Google &quot;ExpandableListView example&quot; and you should be able to figure it out."}, {"owner": {"reputation": 4197, "user_id": 7190575, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63b85f6a33e1b032dabc877b7ff4af50?s=128&d=identicon&r=PG&f=1", "display_name": "OhMad", "link": "https://stackoverflow.com/users/7190575/ohmad"}, "reply_to_user": {"reputation": 3664, "user_id": 1771055, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e72db016ef8a0d3cd83cf132964456c3?s=128&d=identicon&r=PG", "display_name": "rozina", "link": "https://stackoverflow.com/users/1771055/rozina"}, "edited": false, "score": 0, "creation_date": 1497859044, "post_id": 44624412, "comment_id": 76235762, "body": "yep, I found the setAdapter function. Only seem to struggle creating an ExpandableListAdapter. I only managed to get an ArrayAdapter working, which doesn&#39;t help me much."}], "answers": [{"tags": [], "owner": {"reputation": 139, "user_id": 2848861, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/ejn8w.png?s=128&g=1", "display_name": "Arthur Meier", "link": "https://stackoverflow.com/users/2848861/arthur-meier"}, "is_accepted": false, "score": 0, "last_activity_date": 1517207627, "creation_date": 1517207627, "answer_id": 48495595, "question_id": 44624412, "link": "https://stackoverflow.com/questions/44624412/kotlin-add-items-to-expandablelistview/48495595#48495595", "title": "Kotlin - Add items to ExpandableListView", "body": "<p>For me it worked fine.<br>\nIn your activity where you define your listdata do this:</p>\n\n<pre><code>private ArrayList&lt;HeaderInfo&gt; SectionList = new ArrayList&lt;&gt;();\n...\n//create the adapter by passing your ArrayList data\nlistAdapter = new ExpandableListAdapter(MyListActivity.this, SectionList);\n//attach the adapter to the list\nexpandableListView.setAdapter(listAdapter);\n</code></pre>\n\n<p>This is the constructor in my expandable list adapter</p>\n\n<pre><code>public class ExpandableListAdapter extends BaseExpandableListAdapter {\n\nprivate Context context;\nprivate ArrayList&lt;HeaderInfo&gt; SectionList;\n\npublic ExpandableListAdapter(Context context, ArrayList&lt;HeaderInfo&gt;\nSectionList) {   \n    this.context = context;\n    this.SectionList = SectionList;\n}\n...\n</code></pre>\n"}], "owner": {"reputation": 4197, "user_id": 7190575, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/63b85f6a33e1b032dabc877b7ff4af50?s=128&d=identicon&r=PG&f=1", "display_name": "OhMad", "link": "https://stackoverflow.com/users/7190575/ohmad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2493, "favorite_count": 0, "answer_count": 1, "score": 5, "last_activity_date": 1517207627, "creation_date": 1497856646, "last_edit_date": 1498037556, "question_id": 44624412, "link": "https://stackoverflow.com/questions/44624412/kotlin-add-items-to-expandablelistview", "title": "Kotlin - Add items to ExpandableListView", "body": "<p>I am trying to dynamically populate my expandable list view inside of Android Studio using Kotlin. But as of now, I wasn't able to find any up to date function to do so, all functions I found seem to be outdated. This is my skeleton code:</p>\n\n<pre><code>private val shows = listOf(\"First\", \"Breaking Bad\", \"Game of Thrones\", \"Bob and Martin...\")\n\n    private val expandableListView: ExpandableListView by bind(R.id.theListView)\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        //Add items to expandable list view here\n    }\n</code></pre>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 5858, "user_id": 1530549, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9acb42e69fdeeaf6474022411fe61725?s=128&d=identicon&r=PG", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1530549/scooter"}, "edited": false, "score": 0, "creation_date": 1497856537, "post_id": 44623710, "comment_id": 76234348, "body": "I had results that matched a previous answer - one gave you the runtime by default in the project file, the other didn&#39;t. But just now I got the runtime with both?? I am going to have to ask another question on how to not get the runtime as it isn&#39;t clear to me."}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "reply_to_user": {"reputation": 5858, "user_id": 1530549, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9acb42e69fdeeaf6474022411fe61725?s=128&d=identicon&r=PG", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1530549/scooter"}, "edited": false, "score": 1, "creation_date": 1497863599, "post_id": 44623710, "comment_id": 76238644, "body": "If you don&#39;t need a runtime, simply create a Java project and don&#39;t select any Kotlin options."}], "tags": [], "owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "is_accepted": true, "score": 3, "last_activity_date": 1497854231, "creation_date": 1497854231, "answer_id": 44623710, "question_id": 44621433, "link": "https://stackoverflow.com/questions/44621433/what-is-the-difference-in-the-two-jvm-kotlin-create-project-options-in-intelli/44623710#44623710", "title": "What is the difference in the two JVM Kotlin &quot;create project&quot; options in IntelliJ?", "body": "<p>There is no difference between the two options. The two paths exist because people can think of their project as either a Java project with Kotlin, or as a Kotlin project.</p>\n"}], "owner": {"reputation": 5858, "user_id": 1530549, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9acb42e69fdeeaf6474022411fe61725?s=128&d=identicon&r=PG", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1530549/scooter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 44623710, "answer_count": 1, "score": 1, "last_activity_date": 1497856945, "creation_date": 1497839011, "last_edit_date": 1497856945, "question_id": 44621433, "link": "https://stackoverflow.com/questions/44621433/what-is-the-difference-in-the-two-jvm-kotlin-create-project-options-in-intelli", "title": "What is the difference in the two JVM Kotlin &quot;create project&quot; options in IntelliJ?", "body": "<p>Using <a href=\"https://www.jetbrains.com/idea/\" rel=\"nofollow noreferrer\">IntelliJ Idea</a> Community Edition 2017.1, I am presented with two ways to create a <a href=\"https://kotlinlang.org/\" rel=\"nofollow noreferrer\">Kotlin</a> project for the JVM:</p>\n\n<ul>\n<li>File->New->Project->Java->Kotlin (Java)</li>\n<li>File->New->Project->Kotlin->Kotlin(JVM)</li>\n</ul>\n\n<p>Is there a difference between what each does, and if so, what is it?\n(The IntelliJ Idea Kotlin \"tutorial\" <a href=\"https://kotlinlang.org/docs/tutorials/getting-started.html\" rel=\"nofollow noreferrer\">uses the first method</a>)</p>\n\n<p><a href=\"https://i.stack.imgur.com/rvBXq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rvBXq.png\" alt=\"IntelliJ Java - Kotlin project dialog\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/e9bK9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e9bK9.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "constructor", "kotlin", "android-room", "android-components"], "answers": [{"comments": [{"owner": {"reputation": 1985, "user_id": 5255006, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/tbsB8.jpg?s=128&g=1", "display_name": "Krunal Kapadiya", "link": "https://stackoverflow.com/users/5255006/krunal-kapadiya"}, "edited": false, "score": 0, "creation_date": 1514023385, "post_id": 44620836, "comment_id": 82872463, "body": "can we make secondary constructor for this data class?"}, {"owner": {"reputation": 998, "user_id": 3005202, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9896d7e313a22e1d0f21f804fd8c3412?s=128&d=identicon&r=PG&f=1", "display_name": "Gogi Bobina", "link": "https://stackoverflow.com/users/3005202/gogi-bobina"}, "reply_to_user": {"reputation": 1985, "user_id": 5255006, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/tbsB8.jpg?s=128&g=1", "display_name": "Krunal Kapadiya", "link": "https://stackoverflow.com/users/5255006/krunal-kapadiya"}, "edited": false, "score": 0, "creation_date": 1514283439, "post_id": 44620836, "comment_id": 82922930, "body": "you can try Emanuel&#39;s answer <a href=\"https://stackoverflow.com/a/46526911/3005202\">stackoverflow.com/a/46526911/3005202</a>"}], "tags": [], "owner": {"reputation": 998, "user_id": 3005202, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9896d7e313a22e1d0f21f804fd8c3412?s=128&d=identicon&r=PG&f=1", "display_name": "Gogi Bobina", "link": "https://stackoverflow.com/users/3005202/gogi-bobina"}, "is_accepted": true, "score": 15, "last_activity_date": 1515846601, "last_edit_date": 1515846601, "creation_date": 1497832751, "answer_id": 44620836, "question_id": 44620835, "link": "https://stackoverflow.com/questions/44620835/room-cannot-pick-a-constructor-since-multiple-constructors-are-suitable-error/44620836#44620836", "title": "Room cannot pick a constructor since multiple constructors are suitable error", "body": "<p>I had this error because Kotlin apparently generates multiple Java constructors for a single Kotlin constructor with default argument values. Working code see next:</p>\n\n<pre><code>@Entity\ndata class Site(\n        var name: String,\n        var url: String,\n        @PrimaryKey(autoGenerate = true) var id: Long)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2398, "user_id": 2429928, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Krw2n.jpg?s=128&g=1", "display_name": "Franco", "link": "https://stackoverflow.com/users/2429928/franco"}, "edited": false, "score": 0, "creation_date": 1505107237, "post_id": 44852983, "comment_id": 79258747, "body": "It&#39;s important to note that while this works, the <code>ignored</code> property will not be added to the DB, which might not be what the person who asked the question is trying to do."}, {"owner": {"reputation": 2065, "user_id": 2024390, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/rgatu.png?s=128&g=1", "display_name": "Felipe Porge Xavier", "link": "https://stackoverflow.com/users/2024390/felipe-porge-xavier"}, "reply_to_user": {"reputation": 4295, "user_id": 5125212, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/meon0.png?s=128&g=1", "display_name": "Damia Fuentes", "link": "https://stackoverflow.com/users/5125212/damia-fuentes"}, "edited": false, "score": 1, "creation_date": 1527982328, "post_id": 44852983, "comment_id": 88334212, "body": "@damia-fuentes It worked because the Room processor knows you are using @ Ignore in one of @ Entity properties, so, it thinks you are sure about which constructors you need. You can also use @ Ignore private var to make it more transparent in your code."}], "tags": [], "owner": {"reputation": 33, "user_id": 7206283, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-LmcjqJG_7X4/AAAAAAAAAAI/AAAAAAAACCI/7wlLKQCTfj4/photo.jpg?sz=128", "display_name": "Edwin Bello", "link": "https://stackoverflow.com/users/7206283/edwin-bello"}, "is_accepted": false, "score": 2, "last_activity_date": 1501014171, "last_edit_date": 1501014171, "creation_date": 1498848090, "answer_id": 44852983, "question_id": 44620835, "link": "https://stackoverflow.com/questions/44620835/room-cannot-pick-a-constructor-since-multiple-constructors-are-suitable-error/44852983#44852983", "title": "Room cannot pick a constructor since multiple constructors are suitable error", "body": "<p>This worked for me:</p>\n\n<pre><code>@Entity\ndata class Site(\n    @PrimaryKey(autoGenerate = true) var id: Long = 0),\n    var name: String = \"\",\n    var url: String = \"\",\n    @Ignore var ignored: String? = null\n)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 805, "user_id": 7569316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wPu6p.jpg?s=128&g=1", "display_name": "SpkingR", "link": "https://stackoverflow.com/users/7569316/spkingr"}, "edited": false, "score": 0, "creation_date": 1498983281, "post_id": 44868624, "comment_id": 76716425, "body": "please remove the last comma <code>,</code> and with <code>@PrimaryKey(autoGenerate = true)</code> this configuration, you can always set <code>id = 0</code>. :)"}], "tags": [], "owner": {"reputation": 805, "user_id": 7569316, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/wPu6p.jpg?s=128&g=1", "display_name": "SpkingR", "link": "https://stackoverflow.com/users/7569316/spkingr"}, "is_accepted": false, "score": 0, "last_activity_date": 1507016330, "last_edit_date": 1507016330, "creation_date": 1498982392, "answer_id": 44868624, "question_id": 44620835, "link": "https://stackoverflow.com/questions/44620835/room-cannot-pick-a-constructor-since-multiple-constructors-are-suitable-error/44868624#44868624", "title": "Room cannot pick a constructor since multiple constructors are suitable error", "body": "<p>Here you change your app database <code>version</code> and restart program agian, it will work:</p>\n\n<pre><code>@Database(entities = arrayOf(Site::class), version = 123) abstract class YourAppDatabase : RoomDatabase() {\n    abstract fun yourDao(): YourDao\n}\n</code></pre>\n\n<p>and you can also try this <code>data class</code>:</p>\n\n<pre><code>    @Entity\n    data class Site(@PrimaryKey(autoGenerate = true) var id: Long) {\n    @Ignore constructor() : this(0)\n    var name: String = \"\",\n    var url: String = \"\",\n}\n</code></pre>\n\n<p>and the last instruction: your primary key <code>id</code> should be <strong>incremented manually</strong>.</p>\n\n<p>Hope that works for you. :)</p>\n\n<p>Test to show that above answers are invalid.</p>\n\n<pre><code>data class TestModel(var id: Int = 0) {\n    constructor() : this(0)\n\n    var name: String = \"defaultname\"\n    var testData: String = \"defaulttestData\"\n}\n\nval testModel = TestModel(5)\ntestModel.name = \"test\"\n\nval testModel2 = TestModel(5)\ntestModel2.testData = \"testdata\"\ntestModel2.name = \"test\"\n\ninfo { \"Test with name set: $testModel\" }\ninfo { \"Testdata equals Testdata2 ${testModel.equals(testModel2)}\" }\n</code></pre>\n\n<p>returns Test with name set: TestModel(id=5) and Testdata equals Testdata2 true</p>\n"}, {"comments": [{"owner": {"reputation": 290, "user_id": 1703824, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/bgAYu.jpg?s=128&g=1", "display_name": "Ramiz Raja", "link": "https://stackoverflow.com/users/1703824/ramiz-raja"}, "edited": false, "score": 0, "creation_date": 1540240246, "post_id": 46526911, "comment_id": 92783762, "body": "I think instead of writing a separator constructor we can also use @JvmOverloads annotation."}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 290, "user_id": 1703824, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/bgAYu.jpg?s=128&g=1", "display_name": "Ramiz Raja", "link": "https://stackoverflow.com/users/1703824/ramiz-raja"}, "edited": false, "score": 1, "creation_date": 1540823916, "post_id": 46526911, "comment_id": 92995339, "body": "Dont use JvmOverloads if you dont need them. The generated code will be not as efficient as it would be by creating several constructors."}], "tags": [], "owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "is_accepted": false, "score": 8, "last_activity_date": 1506952483, "creation_date": 1506952483, "answer_id": 46526911, "question_id": 44620835, "link": "https://stackoverflow.com/questions/44620835/room-cannot-pick-a-constructor-since-multiple-constructors-are-suitable-error/46526911#46526911", "title": "Room cannot pick a constructor since multiple constructors are suitable error", "body": "<p>None of the above solutions are good, since they work but may cause errors.</p>\n\n<p>Kotlin's <a href=\"https://kotlinlang.org/docs/reference/data-classes.html\" rel=\"noreferrer\">Data Class</a> generates several Methods using the default constructor. That means that <a href=\"https://kotlinlang.org/docs/reference/equality.html\" rel=\"noreferrer\">equals()</a>, <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-any/hash-code.html\" rel=\"noreferrer\">hashCode()</a>, \n<a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/to-string.html\" rel=\"noreferrer\">toString()</a>, <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"noreferrer\">componentN() functions</a> and <a href=\"https://kotlinlang.org/docs/reference/data-classes.html#copying\" rel=\"noreferrer\">copy()</a> is generated using the attributes you assign to your constructor.</p>\n\n<p>Using the above solutions like </p>\n\n<pre><code>@Entity data class Site(@PrimaryKey(autoGenerate = true) var id: Long) {\n    @Ignore constructor() : this(0)\n    var name: String = \"\"\n    var url: String = \"\"\n} \n</code></pre>\n\n<p>generates all the above listed methods only for id. Using equals leads to unwanted quality, same as toString(). Solving this requires you to have all attributes you want to process inside the constructor and add a second constructor using ignore like</p>\n\n<pre><code>@Entity data class Site(\n    @NonNull @PrimaryKey(autoGenerate = true) var id: Long,\n    var name: String = \"\",\n    var url: String = \"\") {\n    @Ignore constructor(id = 0, name = \", url = \"\") : this()\n} \n</code></pre>\n\n<p>You should really keep in mind, that you usually use data classes to have methods like toString and copy. Only this solution is working to avoid unwanted bugs during runtime.</p>\n"}, {"comments": [{"owner": {"reputation": 4093, "user_id": 1403997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3c6E.jpg?s=128&g=1", "display_name": "4gus71n", "link": "https://stackoverflow.com/users/1403997/4gus71n"}, "edited": false, "score": 1, "creation_date": 1529041737, "post_id": 50868637, "comment_id": 88741124, "body": "More info: Seems that Room won&#39;t ignore the @Ignore arguments if they&#39;re in the constructor <a href=\"https://issuetracker.google.com/issues/70762008\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/70762008</a>"}], "tags": [], "owner": {"reputation": 4093, "user_id": 1403997, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/J3c6E.jpg?s=128&g=1", "display_name": "4gus71n", "link": "https://stackoverflow.com/users/1403997/4gus71n"}, "is_accepted": false, "score": 0, "last_activity_date": 1529032488, "creation_date": 1529032488, "answer_id": 50868637, "question_id": 44620835, "link": "https://stackoverflow.com/questions/44620835/room-cannot-pick-a-constructor-since-multiple-constructors-are-suitable-error/50868637#50868637", "title": "Room cannot pick a constructor since multiple constructors are suitable error", "body": "<p>Just leaving my answer in case that helps anyone. I ran into the same issue, none of the answers above worked. The only thing that worked was changing from a <code>data class</code> to a <code>class</code>. I invite anyone to try the same code and explain why It did the trick:</p>\n\n<p><strong>Before</strong></p>\n\n<pre><code>@Entity\ndata class ImgurGalleryPost (\n    @NotNull @PrimaryKey\n    var id: String,\n    var title: String?,\n    var description: String?,\n    var datetime: Int?,\n    var cover: String?,\n    var coverWidth: Int?,\n    var coverHeight: Int?,\n    var accountUrl: String?,\n    var accountId: Int?,\n    var privacy: String?,\n    var layout: String?,\n    var views: Int?,\n    var link: String?,\n    var ups: Int?,\n    var downs: Int?,\n    var points: Int?,\n    var score: Int?,\n    var isAlbum: Boolean?,\n    var vote: Boolean?,\n    var favorite: Boolean?,\n    var nsfw: Boolean?,\n    var section: String?,\n    var commentCount: Int?,\n    var favoriteCount: Int?,\n    var topic: String?,\n    var topicId: Int?,\n    var imagesCount: Int?,\n    var inGallery: Boolean?,\n    var isAd: Boolean?,\n    @NotNull @Ignore\n    var tags: List&lt;ImgurGalleryTag&gt;,\n    var inMostViral: Boolean?,\n    @NotNull @Ignore\n    var images: List&lt;ImgurGalleryImage&gt;\n)\n</code></pre>\n\n<p><strong>After</strong></p>\n\n<pre><code>@Entity\nclass ImgurGalleryPost (\n    @NotNull @PrimaryKey\n    var id: String,\n    var title: String?,\n    var description: String?,\n    var datetime: Int?,\n    var cover: String?,\n    var coverWidth: Int?,\n    var coverHeight: Int?,\n    var accountUrl: String?,\n    var accountId: Int?,\n    var privacy: String?,\n    var layout: String?,\n    var views: Int?,\n    var link: String?,\n    var ups: Int?,\n    var downs: Int?,\n    var points: Int?,\n    var score: Int?,\n    var isAlbum: Boolean?,\n    var vote: Boolean?,\n    var favorite: Boolean?,\n    var nsfw: Boolean?,\n    var section: String?,\n    var commentCount: Int?,\n    var favoriteCount: Int?,\n    var topic: String?,\n    var topicId: Int?,\n    var imagesCount: Int?,\n    var inGallery: Boolean?,\n    var isAd: Boolean?,\n    @NotNull @Ignore\n    var tags: List&lt;ImgurGalleryTag&gt;,\n    var inMostViral: Boolean?,\n    @NotNull @Ignore\n    var images: \n\nList&lt;ImgurGalleryImage&gt;\n    )\n</code></pre>\n\n<p>It's really weird, but I doubt that is an Android Studio cache issue because changing it back to the <code>data class</code> causes the error to show up again. Seems that is some kind of issue with the collection fields. I checked the constructor in the generated class and It looked fine, I don't know why the build was failing even when the constructor was being generated properly:</p>\n\n<pre><code>public ImgurGalleryPost(@org.jetbrains.annotations.NotNull()\njava.lang.String id, @org.jetbrains.annotations.Nullable()\njava.lang.String title, @org.jetbrains.annotations.Nullable()\njava.lang.String description, @org.jetbrains.annotations.Nullable()\njava.lang.Integer datetime, @org.jetbrains.annotations.Nullable()\njava.lang.String cover, @org.jetbrains.annotations.Nullable()\njava.lang.Integer coverWidth, @org.jetbrains.annotations.Nullable()\njava.lang.Integer coverHeight, @org.jetbrains.annotations.Nullable()\njava.lang.String accountUrl, @org.jetbrains.annotations.Nullable()\njava.lang.Integer accountId, @org.jetbrains.annotations.Nullable()\njava.lang.String privacy, @org.jetbrains.annotations.Nullable()\njava.lang.String layout, @org.jetbrains.annotations.Nullable()\njava.lang.Integer views, @org.jetbrains.annotations.Nullable()\njava.lang.String link, @org.jetbrains.annotations.Nullable()\njava.lang.Integer ups, @org.jetbrains.annotations.Nullable()\njava.lang.Integer downs, @org.jetbrains.annotations.Nullable()\njava.lang.Integer points, @org.jetbrains.annotations.Nullable()\njava.lang.Integer score, @org.jetbrains.annotations.Nullable()\njava.lang.Boolean isAlbum, @org.jetbrains.annotations.Nullable()\njava.lang.Boolean vote, @org.jetbrains.annotations.Nullable()\njava.lang.Boolean favorite, @org.jetbrains.annotations.Nullable()\njava.lang.Boolean nsfw, @org.jetbrains.annotations.Nullable()\njava.lang.String section, @org.jetbrains.annotations.Nullable()\njava.lang.Integer commentCount, @org.jetbrains.annotations.Nullable()\njava.lang.Integer favoriteCount, @org.jetbrains.annotations.Nullable()\njava.lang.String topic, @org.jetbrains.annotations.Nullable()\njava.lang.Integer topicId, @org.jetbrains.annotations.Nullable()\njava.lang.Integer imagesCount, @org.jetbrains.annotations.Nullable()\njava.lang.Boolean inGallery, @org.jetbrains.annotations.Nullable()\njava.lang.Boolean isAd, @org.jetbrains.annotations.NotNull()\njava.util.List&lt;com.kimboo.core.model.ImgurGalleryTag&gt; tags, @org.jetbrains.annotations.Nullable()\njava.lang.Boolean inMostViral, @org.jetbrains.annotations.NotNull()\njava.util.List&lt;com.kimboo.core.model.ImgurGalleryImage&gt; images) {\n    super();\n}\n</code></pre>\n\n<p>If anyone can figure out a way to fix this without changing from <code>data class</code> to <code>class</code> please feel free to comment below.</p>\n"}, {"tags": [], "owner": {"reputation": 510, "user_id": 1961783, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/TrtAa.jpg?s=128&g=1", "display_name": "Zebulon Li", "link": "https://stackoverflow.com/users/1961783/zebulon-li"}, "is_accepted": false, "score": 1, "last_activity_date": 1530181841, "creation_date": 1530181841, "answer_id": 51080627, "question_id": 44620835, "link": "https://stackoverflow.com/questions/44620835/room-cannot-pick-a-constructor-since-multiple-constructors-are-suitable-error/51080627#51080627", "title": "Room cannot pick a constructor since multiple constructors are suitable error", "body": "<p>this works for me</p>\n\n<pre><code>@Entity\ndata class TaskDetail @Ignore constructor(\n    @PrimaryKey(autoGenerate = true)\n    var id:Long = 0,\n    var taskId:Long = 0,\n    var content:String = \"\")\n{\n    constructor():this(id = 0)\n}\n</code></pre>\n\n<p>I use @Ignore to forbid ROOM warning</p>\n\n<blockquote>\n  <p>There are multiple good constructors and Room will pick the no-arg constructor. You can use the @Ignore annotation to eliminate unwanted constructors.</p>\n</blockquote>\n\n<p>And add a default constructor for ROOM.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10809560, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-g-mXW0TQzk8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gqApTOu9tJE2n5avQoTJ0x__G5xQ/mo/photo.jpg?sz=128", "display_name": "m.fahad butt", "link": "https://stackoverflow.com/users/10809560/m-fahad-butt"}, "is_accepted": false, "score": 1, "last_activity_date": 1545201723, "creation_date": 1545201723, "answer_id": 53845860, "question_id": 44620835, "link": "https://stackoverflow.com/questions/44620835/room-cannot-pick-a-constructor-since-multiple-constructors-are-suitable-error/53845860#53845860", "title": "Room cannot pick a constructor since multiple constructors are suitable error", "body": "<p>Try to change the variable datatype from val to var :</p>\n\n<p><strong>BEFORE :</strong> </p>\n\n<pre><code> @Entity\n    data class Product(\n            @PrimaryKey\n            val id: String = \"\",\n            val name: String = \"\"\n    )\n</code></pre>\n\n<p><strong>AFTER :</strong> </p>\n\n<pre><code>@Entity\ndata class Product(\n        @PrimaryKey\n        var id: String = \"\",\n        var name: String = \"\"\n)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4169, "user_id": 1149398, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KWIoS.jpg?s=128&g=1", "display_name": "sud007", "link": "https://stackoverflow.com/users/1149398/sud007"}, "edited": false, "score": 0, "creation_date": 1554919492, "post_id": 54688175, "comment_id": 97930752, "body": "This does not work too. Gives en error saying <code>Data class must have at least one primary constructor parameter</code>"}], "tags": [], "owner": {"reputation": 5317, "user_id": 2098878, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/FkPdT.png?s=128&g=1", "display_name": "Rafael", "link": "https://stackoverflow.com/users/2098878/rafael"}, "is_accepted": false, "score": 0, "last_activity_date": 1550140003, "creation_date": 1550140003, "answer_id": 54688175, "question_id": 44620835, "link": "https://stackoverflow.com/questions/44620835/room-cannot-pick-a-constructor-since-multiple-constructors-are-suitable-error/54688175#54688175", "title": "Room cannot pick a constructor since multiple constructors are suitable error", "body": "<p>Error is caused by initially set variables in constructor. If you have only one constructor, change your code to this.</p>\n\n<pre><code>@Entity\ndata class Site(\n        val name: String,\n        val url: String,\n        @PrimaryKey(autoGenerate = true) val id: Long)\n</code></pre>\n\n<p>If you need empty constructor too, then you should do like this</p>\n\n<pre><code>@Entity\ndata class Site() {\n\n  constructor(name: String, url: String): this() {\n     this.name = name\n     this.url = url\n  }\n\n    var name: String = \"\",\n    var url: String = \"\",\n    @PrimaryKey(autoGenerate = true) var id: Long = 0\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 1400272, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/a1f99f64662385f05887bfcac1550b07?s=128&d=identicon&r=PG", "display_name": "Dhiraj Himani", "link": "https://stackoverflow.com/users/1400272/dhiraj-himani"}, "is_accepted": false, "score": 1, "last_activity_date": 1560924483, "creation_date": 1560924483, "answer_id": 56661024, "question_id": 44620835, "link": "https://stackoverflow.com/questions/44620835/room-cannot-pick-a-constructor-since-multiple-constructors-are-suitable-error/56661024#56661024", "title": "Room cannot pick a constructor since multiple constructors are suitable error", "body": "<pre><code>@Entity\ndata class Site @JvmOverloads constructor(\n    @ColumnInfo(name = \"name\") var name: String = \"\",\n    @ColumnInfo(name = \"url\") var url: String = \"\",\n    @PrimaryKey(autoGenerate = true) var id: Long = 0)\n</code></pre>\n\n<p>Immutable model class for a Site. In order to compile with Room, we could use @JvmOverloads to handle multiple constructors.</p>\n"}], "owner": {"reputation": 998, "user_id": 3005202, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9896d7e313a22e1d0f21f804fd8c3412?s=128&d=identicon&r=PG&f=1", "display_name": "Gogi Bobina", "link": "https://stackoverflow.com/users/3005202/gogi-bobina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15789, "favorite_count": 3, "accepted_answer_id": 44620836, "answer_count": 9, "score": 23, "last_activity_date": 1560924483, "creation_date": 1497832751, "question_id": 44620835, "link": "https://stackoverflow.com/questions/44620835/room-cannot-pick-a-constructor-since-multiple-constructors-are-suitable-error", "title": "Room cannot pick a constructor since multiple constructors are suitable error", "body": "<p>I try to implement persistent library in my android kotlin project, but catch this error on compile time:</p>\n\n<blockquote>\n  <p>error: Room cannot pick a constructor since multiple constructors are\n  suitable. Try to annotate unwanted constructors with @Ignore.</p>\n</blockquote>\n\n<p>Error code:</p>\n\n<pre><code>@Entity\ndata class Site(\n        var name: String = \"\",\n        var url: String = \"\",\n        @PrimaryKey(autoGenerate = true) var id: Long = 0)\n</code></pre>\n"}, {"tags": ["kotlin", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 11062, "user_id": 1104902, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e2ce37fa708768742edc4ed94b4cb76d?s=128&d=identicon&r=PG", "display_name": "pt2121", "link": "https://stackoverflow.com/users/1104902/pt2121"}, "is_accepted": false, "score": 2, "last_activity_date": 1497842755, "creation_date": 1497842755, "answer_id": 44621841, "question_id": 44620507, "link": "https://stackoverflow.com/questions/44620507/how-can-i-merge-a-singlelistlistt-into-a-listt-with-rxjava-2/44621841#44621841", "title": "How Can I Merge a Single&lt;List&lt;List&lt;T&gt;&gt;&gt; Into a List&lt;T&gt; with RxJava 2?", "body": "<p>I haven't tested this but I think you can do this with <code>flatmap</code> and <code>reduce</code> (or <code>collect</code>). probably something's like:</p>\n\n<pre><code>getAllUsers()\n  .take(3)\n  .flatMap { api.getUsersPosts(it.id) }\n  .map { it.size }\n  .reduce(0) { acc, e -&gt; acc + e }\n  .observeOn(AndroidSchedulers.mainThread())\n  .subscribe(\n    { posts -&gt; toast(\"There are: ${posts.flatten().size} posts\") },\n    { ex -&gt; Timber.e(ex, \"there was an error processing the request\") }\n   )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 3, "last_activity_date": 1497856755, "creation_date": 1497856755, "answer_id": 44624437, "question_id": 44620507, "link": "https://stackoverflow.com/questions/44620507/how-can-i-merge-a-singlelistlistt-into-a-listt-with-rxjava-2/44624437#44624437", "title": "How Can I Merge a Single&lt;List&lt;List&lt;T&gt;&gt;&gt; Into a List&lt;T&gt; with RxJava 2?", "body": "<p>Since you're only looking for the total number of posts, you could just <code>flatmap</code> the lists to a stream and then <code>count</code>. The flat-mapping will not guarantee order, but flattens the list of list into a single stream.</p>\n\n<pre><code>getPostsForFirstThreeUsers()\n    .subscribeOn(Schedulers.io())\n    .flatmapObservable(Observable::fromIterable)\n    .flatmap(Observable::fromIterable)\n    .count()\n    .observeOn(AndroidSchedulers.mainThread())\n    .subscribe(\n        { count -&gt; toast(\"There are: ${count} posts\") },\n        { ex -&gt; Timber.e(ex, \"there was an error processing the request\") }\n    )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3163, "user_id": 2543138, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ce5b219b385d3e316a553d8a41900ed9?s=128&d=identicon&r=PG", "display_name": "brwngrldev", "link": "https://stackoverflow.com/users/2543138/brwngrldev"}, "is_accepted": true, "score": 1, "last_activity_date": 1497895866, "creation_date": 1497895866, "answer_id": 44637238, "question_id": 44620507, "link": "https://stackoverflow.com/questions/44620507/how-can-i-merge-a-singlelistlistt-into-a-listt-with-rxjava-2/44637238#44637238", "title": "How Can I Merge a Single&lt;List&lt;List&lt;T&gt;&gt;&gt; Into a List&lt;T&gt; with RxJava 2?", "body": "<p>I ended up going with this solution, which allows me to have access to the entire <code>List</code> of <code>Post</code> objects. Thanks for the direction.</p>\n\n<pre><code>fun getPostsForFirstThreeUsers(): Single&lt;MutableList&lt;Post&gt;&gt; {\n        return getFirstThreeUsers()\n                .flatMapSingle { api.getUsersPosts(it.id) }\n                .doOnNext { Timber.i(\"number of posts: ${it.size}\") }\n                .flatMapIterable { it }\n                .doOnNext { Timber.i(\"the post: $it\") }\n                .toList()\n    }\n</code></pre>\n"}], "owner": {"reputation": 3163, "user_id": 2543138, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/ce5b219b385d3e316a553d8a41900ed9?s=128&d=identicon&r=PG", "display_name": "brwngrldev", "link": "https://stackoverflow.com/users/2543138/brwngrldev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 981, "favorite_count": 1, "accepted_answer_id": 44637238, "answer_count": 3, "score": 2, "last_activity_date": 1497895866, "creation_date": 1497828917, "question_id": 44620507, "link": "https://stackoverflow.com/questions/44620507/how-can-i-merge-a-singlelistlistt-into-a-listt-with-rxjava-2", "title": "How Can I Merge a Single&lt;List&lt;List&lt;T&gt;&gt;&gt; Into a List&lt;T&gt; with RxJava 2?", "body": "<p>What I want to do is hit an endpoint to get a list of users, that returns <code>Single&lt;List&lt;User&gt;&gt;</code>. Next, I want to grab the first three users and hit another endpoint to get all of their posts <code>Single&lt;List&lt;Post&gt;&gt;</code>. Finally I want to display a <code>Toast</code> that has the <em>total number of posts</em> for all of the first 3 users.</p>\n\n<p>I've been able to achieve it with the <code>flatten()</code> function available in Kotlin. However, I'd like to know how to do this using only RxJava 2. Is it possible? Thanks.</p>\n\n<pre><code>...\n\ngetPostsForFirstThreeUsers()\n    .subscribeOn(Schedulers.io())\n    .observeOn(AndroidSchedulers.mainThread())\n    .subscribe(\n        { posts -&gt; toast(\"There are: ${posts.flatten().size} posts\") },\n        { ex -&gt; Timber.e(ex, \"there was an error processing the request\") }\n              )\n\n\n\nfun getFirstThreeUsers(): Flowable&lt;User&gt; {\n    return getAllUsers()\n            .flattenAsFlowable { users -&gt; users }\n            .doOnNext { Timber.i(\"a user: ${it.username}\") }\n            .take(3)\n}\n\nfun getPostsForFirstThreeUsers(): Single&lt;List&lt;List&lt;Post&gt;&gt;&gt; {\n    return getFirstThreeUsers()\n            .flatMapSingle { api.getUsersPosts(it.id) }\n            .doOnNext { Timber.i(\"number of posts: ${it.size}\") }\n            .toList()\n}\n</code></pre>\n"}, {"tags": ["android", "xml", "android-layout", "ide", "kotlin"], "comments": [{"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 1, "creation_date": 1497824674, "post_id": 44619993, "comment_id": 76226023, "body": "Apparently you have no connection."}, {"owner": {"reputation": 1, "user_id": 7832677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4816c3c83f887783e31136253fbd92c3?s=128&d=identicon&r=PG&f=1", "display_name": "Soufiane.bekk", "link": "https://stackoverflow.com/users/7832677/soufiane-bekk"}, "reply_to_user": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "edited": false, "score": 0, "creation_date": 1497831495, "post_id": 44619993, "comment_id": 76227344, "body": "please what&#39;s the solution , i have connection ??"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 7832677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4816c3c83f887783e31136253fbd92c3?s=128&d=identicon&r=PG&f=1", "display_name": "Soufiane.bekk", "link": "https://stackoverflow.com/users/7832677/soufiane-bekk"}, "edited": false, "score": 0, "creation_date": 1497831364, "post_id": 44620200, "comment_id": 76227321, "body": "but when i use offline work  , i have another broblem ==&gt; <a href=\"https://www.gulf-up.com/do.php?img=330026\" rel=\"nofollow noreferrer\">gulf-up.com/do.php?img=330026</a>"}, {"owner": {"reputation": 1617, "user_id": 5385758, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tOxyD.jpg?s=128&g=1", "display_name": "DaveNOTDavid", "link": "https://stackoverflow.com/users/5385758/davenotdavid"}, "reply_to_user": {"reputation": 1, "user_id": 7832677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4816c3c83f887783e31136253fbd92c3?s=128&d=identicon&r=PG&f=1", "display_name": "Soufiane.bekk", "link": "https://stackoverflow.com/users/7832677/soufiane-bekk"}, "edited": false, "score": 0, "creation_date": 1497833051, "post_id": 44620200, "comment_id": 76227665, "body": "@Soufiane.bekk Strange. But then again, you should expect bugs when using Android Studio&#39;s alpha version, and this could be one of them. That&#39;s why I still use Android Studio&#39;s latest stable version (2.3.3 as of now) for a reason."}], "tags": [], "owner": {"reputation": 1617, "user_id": 5385758, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tOxyD.jpg?s=128&g=1", "display_name": "DaveNOTDavid", "link": "https://stackoverflow.com/users/5385758/davenotdavid"}, "is_accepted": false, "score": 0, "last_activity_date": 1497826069, "last_edit_date": 1497826069, "creation_date": 1497825525, "answer_id": 44620200, "question_id": 44619993, "link": "https://stackoverflow.com/questions/44619993/connection-time-outconnect-consult-ide-log/44620200#44620200", "title": "connection time out:connect consult IDE log", "body": "<p>As mentioned in the comment(s), you literally have no internet connection which is mandatory for gradle building since the platform checks for potential updates for say, SDK versions, from a server.</p>\n\n<p>However, if you want to build and do your work offline, then go to <strong>File -> Settings -> Build, Execution, Deployment -> Gradle -> Check Offline work under Global Gradle settings</strong></p>\n"}], "owner": {"reputation": 1, "user_id": 7832677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4816c3c83f887783e31136253fbd92c3?s=128&d=identicon&r=PG&f=1", "display_name": "Soufiane.bekk", "link": "https://stackoverflow.com/users/7832677/soufiane-bekk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 237, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1497855411, "creation_date": 1497823647, "last_edit_date": 1497855411, "question_id": 44619993, "link": "https://stackoverflow.com/questions/44619993/connection-time-outconnect-consult-ide-log", "title": "connection time out:connect consult IDE log", "body": "<p>I have android studio 3 canary, I'm programming with Kotlin , I use windows 64 bit OS, when I want to start a new project I'm getting this error in xml files , and I can't view design for project... </p>\n\n<p>please Help me if you have any idea!! thank you </p>\n\n<p><a href=\"https://i.stack.imgur.com/3Xevb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Xevb.png\" alt=\"\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/cJRI4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cJRI4.png\" alt=\"\"></a></p>\n"}, {"tags": ["java", "unit-testing", "testing", "junit", "kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 2, "creation_date": 1497812399, "post_id": 44618469, "comment_id": 76222849, "body": "Of course - just have your test case call the function."}], "answers": [{"comments": [{"owner": {"reputation": 35078, "user_id": 615306, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/5a11940d70233031c01ead6c0b62c990?s=128&d=identicon&r=PG", "display_name": "Kirill Rakhman", "link": "https://stackoverflow.com/users/615306/kirill-rakhman"}, "edited": false, "score": 1, "creation_date": 1497856405, "post_id": 44618527, "comment_id": 76234265, "body": "The problem is not so much that JUnit requires a class because top-level functions are implictly placed in a class called after the file name. The problem is that top-level functions are static and JUnit requires <code>@Test</code> functions to be non-static."}, {"owner": {"reputation": 1867, "user_id": 3848334, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XyhMu.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/3848334/david"}, "edited": false, "score": 0, "creation_date": 1536390907, "post_id": 44618527, "comment_id": 91414990, "body": "if two top level function is in one class, it is good to write tests for both in one test class? or separate tests of each function to a class?"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 1867, "user_id": 3848334, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/XyhMu.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/3848334/david"}, "edited": false, "score": 0, "creation_date": 1536391680, "post_id": 44618527, "comment_id": 91415130, "body": "@David: Completely up to you, as there&#39;s no functional difference."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1497812834, "creation_date": 1497812834, "answer_id": 44618527, "question_id": 44618469, "link": "https://stackoverflow.com/questions/44618469/it-is-possible-to-write-function-in-kotlin-ie-at-top-level-can-i-unit-test-t/44618527#44618527", "title": "It is possible to write function in Kotlin (ie. at top level). Can I unit-test those at top-level too?", "body": "<p>Let's say you have a top level function in a file:</p>\n\n<pre><code>// functions.kt\npackage some.pack.age\n\nfun add(x: Int, y: Int) = x + y\n</code></pre>\n\n<p>You can create a test for it like so (an easy way to create this file in IntelliJ is to use the <code>Alt + Enter</code> shortcut on the function's name, and choose <code>Create test</code>):</p>\n\n<pre><code>// FunctionKtTest.kt - the default suggested name\npackage some.pack.age\n\nimport org.junit.Assert.*\nimport org.junit.Test\n\nclass FunctionsKtTest {\n    @Test\n    fun additionIsCorrect() {\n        assertEquals(5, add(2, 3))\n    }\n}\n</code></pre>\n\n<p>The JUnit test itself does require a class to be defined that holds the <code>@Test</code> functions, of course you can name this class anything you want. </p>\n\n<p>If you place this class in the same package as the function, you don't even have to import it. If you were to place it in another package, you could still import your top level function like so:</p>\n\n<pre><code>import some.pack.age.add\n</code></pre>\n"}], "owner": {"reputation": 1723, "user_id": 745920, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/8955ff64e438603ba3bdda60b44b8a45?s=128&d=identicon&r=PG", "display_name": "tisek", "link": "https://stackoverflow.com/users/745920/tisek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "accepted_answer_id": 44618527, "answer_count": 1, "score": 1, "last_activity_date": 1497812834, "creation_date": 1497812356, "question_id": 44618469, "link": "https://stackoverflow.com/questions/44618469/it-is-possible-to-write-function-in-kotlin-ie-at-top-level-can-i-unit-test-t", "title": "It is possible to write function in Kotlin (ie. at top level). Can I unit-test those at top-level too?", "body": "<p>If I write code at top level (outside of a class).</p>\n\n<p>Can I write JUnit test of this code without creating a class for this testing purpose?</p>\n"}, {"tags": ["java", "android", "akka", "kotlin", "actor"], "comments": [{"owner": {"reputation": 3250, "user_id": 4801289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/I0puU.jpg?s=128&g=1", "display_name": "Ismail H", "link": "https://stackoverflow.com/users/4801289/ismail-h"}, "edited": false, "score": 0, "creation_date": 1555342327, "post_id": 44617697, "comment_id": 98067992, "body": "did you manage to get Akka 2.5 working with Android ? or at least Akka 2.4 ?"}, {"owner": {"reputation": 542, "user_id": 4874258, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10206388700413298/picture?type=large", "display_name": "Michele Sapignoli", "link": "https://stackoverflow.com/users/4874258/michele-sapignoli"}, "reply_to_user": {"reputation": 3250, "user_id": 4801289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/I0puU.jpg?s=128&g=1", "display_name": "Ismail H", "link": "https://stackoverflow.com/users/4801289/ismail-h"}, "edited": false, "score": 0, "creation_date": 1555399005, "post_id": 44617697, "comment_id": 98086208, "body": "I succedeed with the &#39;2.3.16&#39;, because following versions are not compatible with Java &lt; 8"}], "answers": [{"comments": [{"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1497807784, "post_id": 44617758, "comment_id": 76221522, "body": "I think you missed the question a bit. The question isn&#39;t whether Android Studio supports Java 8. It&#39;s whether you can run Akka on Android given that it requires Java 8"}, {"owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "reply_to_user": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1497807977, "post_id": 44617758, "comment_id": 76221575, "body": "He said &quot;I know that Android does not support Java 8&quot;, which is not true anymore, so I told him. Given that his question may be redundant."}, {"owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "edited": false, "score": 0, "creation_date": 1497808898, "post_id": 44617758, "comment_id": 76221816, "body": "Not every version of Android supports Java 8 and we don&#39;t know his minimal required version. I think he wants to know whether he can use it on Android versions which don&#39;t support Java 8 (entirely)"}, {"owner": {"reputation": 542, "user_id": 4874258, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10206388700413298/picture?type=large", "display_name": "Michele Sapignoli", "link": "https://stackoverflow.com/users/4874258/michele-sapignoli"}, "edited": false, "score": 0, "creation_date": 1497868576, "post_id": 44617758, "comment_id": 76242013, "body": "I tried using Android Studio 3.0 but it gives me issues about dates. &quot;Failed resolution of: Ljava/time/format/DateTimeFormatter&quot;, because of Java 8"}], "tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": false, "score": 1, "last_activity_date": 1497807453, "creation_date": 1497807453, "answer_id": 44617758, "question_id": 44617697, "link": "https://stackoverflow.com/questions/44617697/is-it-possible-to-run-the-latest-version-of-akka-framework-2-5-2-in-an-android/44617758#44617758", "title": "Is it possible to run the latest version of Akka Framework (2.5.2) in an Android project?", "body": "<p><a href=\"https://developer.android.com/studio/preview/index.html\" rel=\"nofollow noreferrer\">Android Studio 3.0</a> now supports <strong>Java 8</strong>, you can download the preview version <a href=\"https://developer.android.com/studio/preview/index.html\" rel=\"nofollow noreferrer\">here</a>. With it you can use Java 8.</p>\n"}, {"comments": [{"owner": {"reputation": 542, "user_id": 4874258, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10206388700413298/picture?type=large", "display_name": "Michele Sapignoli", "link": "https://stackoverflow.com/users/4874258/michele-sapignoli"}, "edited": false, "score": 0, "creation_date": 1497869653, "post_id": 44618447, "comment_id": 76242707, "body": "I think I will downgrade Akka to make it compatible with Android and use RxJava for some aspects. Thanks."}], "tags": [], "owner": {"reputation": 176, "user_id": 311601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/228c46558f760e7a1a4d0878694eccd1?s=128&d=identicon&r=PG", "display_name": "Mario Arias", "link": "https://stackoverflow.com/users/311601/mario-arias"}, "is_accepted": false, "score": 1, "last_activity_date": 1497812217, "creation_date": 1497812217, "answer_id": 44618447, "question_id": 44617697, "link": "https://stackoverflow.com/questions/44617697/is-it-possible-to-run-the-latest-version-of-akka-framework-2-5-2-in-an-android/44618447#44618447", "title": "Is it possible to run the latest version of Akka Framework (2.5.2) in an Android project?", "body": "<p>I don't think that is possible to run that version of Akka in Android. Most of Android developers use RxJava for concurrency programming in Android </p>\n"}], "owner": {"reputation": 542, "user_id": 4874258, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/10206388700413298/picture?type=large", "display_name": "Michele Sapignoli", "link": "https://stackoverflow.com/users/4874258/michele-sapignoli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1497812217, "creation_date": 1497807060, "question_id": 44617697, "link": "https://stackoverflow.com/questions/44617697/is-it-possible-to-run-the-latest-version-of-akka-framework-2-5-2-in-an-android", "title": "Is it possible to run the latest version of Akka Framework (2.5.2) in an Android project?", "body": "<p>I'm developing an Android project and wondering if it's possible to use <code>Akka</code> framework v. 2.5.2. This framework needs Java 8 to run and I know Android does not support Java 8. Is there a configuration that makes it work? Maybe using Kotlin?</p>\n"}, {"tags": ["android", "android-layout", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1497854424, "post_id": 44617238, "comment_id": 76233084, "body": "The <code>protected</code> modifier means that the method will be visible to this class and its subclasses. Your <code>MainActivity</code> class is final (because classes in Kotlin are final by default), so it won&#39;t have any subclasses, and using <code>protected</code> here doesn&#39;t make any sense (even if it worked)."}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 4, "last_activity_date": 1497804283, "creation_date": 1497804283, "answer_id": 44617270, "question_id": 44617238, "link": "https://stackoverflow.com/questions/44617238/difference-between-protected-and-without/44617270#44617270", "title": "Difference between protected and without", "body": "<p>The <a href=\"https://developer.android.com/reference/android/view/View.html#attr_android:onClick\" rel=\"nofollow noreferrer\"><code>android:onClick</code></a> takes a method name as value.</p>\n\n<blockquote>\n  <p>This name must correspond to a public method that takes exactly one parameter of type View.</p>\n</blockquote>\n\n<p>Adding <code>protected</code> to the method reduces the visibility from <code>public</code> which is required by the framework.</p>\n"}, {"tags": [], "owner": {"reputation": 327, "user_id": 8176306, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4039e94fafc10b7f6138f54fa22ae0ec?s=128&d=identicon&r=PG&f=1", "display_name": "Karim ElGhandour", "link": "https://stackoverflow.com/users/8176306/karim-elghandour"}, "is_accepted": false, "score": 2, "last_activity_date": 1497804446, "creation_date": 1497804446, "answer_id": 44617298, "question_id": 44617238, "link": "https://stackoverflow.com/questions/44617238/difference-between-protected-and-without/44617298#44617298", "title": "Difference between protected and without", "body": "<p>It has something to do with access modifiers. Protected methods can only be seen by subclasses (classes that extend the class in which the method exists) or by other classes in the same package. And as already mentioned by @tynn , the android:onClick requires the methods called to be public, or else it won't be able to use it. \nI advise that you read more into access modifiers, and when to use them.</p>\n"}], "owner": {"reputation": 1, "user_id": 8179517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac725024350f7ac9c6f7b248eaf2ec32?s=128&d=identicon&r=PG&f=1", "display_name": "Randal Nolan", "link": "https://stackoverflow.com/users/8179517/randal-nolan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1497806015, "creation_date": 1497804080, "last_edit_date": 1497806015, "question_id": 44617238, "link": "https://stackoverflow.com/questions/44617238/difference-between-protected-and-without", "title": "Difference between protected and without", "body": "<p>Hello everybody I have this code in Kotlin for Android but I don't know why it does not work. Here is my code:</p>\n\n<pre><code>package com.test.tictac\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.view.View\nimport android.widget.Button\nimport android.widget.Toast\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n\n    protected fun buClick(view: View) {\n        val buSelected = view as Button\n        var cellID = 0\n        when(buSelected.id) {\n            R.id.bu1-&gt;cellID = 1\n            R.id.bu2-&gt;cellID = 2\n            R.id.bu3-&gt;cellID = 3\n            R.id.bu4-&gt;cellID = 4\n            R.id.bu5-&gt;cellID = 5\n            R.id.bu6-&gt;cellID = 6\n            R.id.bu7-&gt;cellID = 7\n            R.id.bu8-&gt;cellID = 8\n            R.id.bu9-&gt;cellID = 9\n        }\n\n        Toast.makeText(this,\"ID:\"+ cellID, Toast.LENGTH_LONG).show()\n    }\n}\n</code></pre>\n\n<p>I tried a lot of things and according to me when I remove protected for the function <code>buClick</code> it works but is there a way to make workable with <code>protected</code>? Thank you very much!</p>\n\n<p>PS : This is the xml :</p>\n\n<pre><code>&lt;TableLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:gravity=\"center\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.test.tictac.MainActivity\"&gt;\n\n    &lt;TableRow\n        android:gravity=\"center\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" &gt;\n\n        &lt;Button\n            android:id=\"@+id/bu1\"\n            android:layout_width=\"40pt\"\n            android:layout_height=\"40pt\"\n            android:layout_marginRight=\"3pt\"\n            android:onClick=\"buClick\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/bu2\"\n            android:layout_width=\"40pt\"\n            android:layout_height=\"40pt\"\n            android:layout_marginRight=\"3pt\"\n            android:onClick=\"buClick\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/bu3\"\n            android:layout_width=\"40pt\"\n            android:layout_height=\"40pt\"\n            android:layout_marginRight=\"3pt\"\n            android:onClick=\"buClick\" /&gt;\n    &lt;/TableRow&gt;\n\n    &lt;TableRow\n        android:gravity=\"center\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" &gt;\n\n        &lt;Button\n            android:id=\"@+id/bu4\"\n            android:layout_width=\"40pt\"\n            android:layout_height=\"40pt\"\n            android:layout_marginRight=\"3pt\"\n            android:onClick=\"buClick\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/bu5\"\n            android:layout_width=\"40pt\"\n            android:layout_height=\"40pt\"\n            android:layout_marginRight=\"3pt\"\n            android:onClick=\"buClick\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/bu6\"\n            android:layout_width=\"40pt\"\n            android:layout_height=\"40pt\"\n            android:layout_marginRight=\"3pt\"\n            android:onClick=\"buClick\" /&gt;\n    &lt;/TableRow&gt;\n\n    &lt;TableRow\n        android:gravity=\"center\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" &gt;\n\n        &lt;Button\n            android:id=\"@+id/bu7\"\n            android:layout_width=\"40pt\"\n            android:layout_height=\"40pt\"\n            android:layout_marginRight=\"3pt\"\n            android:onClick=\"buClick\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/bu8\"\n            android:layout_width=\"40pt\"\n            android:layout_height=\"40pt\"\n            android:layout_marginRight=\"3pt\"\n            android:onClick=\"buClick\" /&gt;\n\n        &lt;Button\n            android:id=\"@+id/bu9\"\n            android:layout_width=\"40pt\"\n            android:layout_height=\"40pt\"\n            android:layout_marginRight=\"3pt\"\n            android:onClick=\"buClick\" /&gt;\n    &lt;/TableRow&gt;\n&lt;/TableLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1617, "user_id": 5385758, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tOxyD.jpg?s=128&g=1", "display_name": "DaveNOTDavid", "link": "https://stackoverflow.com/users/5385758/davenotdavid"}, "is_accepted": true, "score": 0, "last_activity_date": 1497843936, "last_edit_date": 1497843936, "creation_date": 1497804765, "answer_id": 44617351, "question_id": 44616997, "link": "https://stackoverflow.com/questions/44616997/android-studio-doesnt-compile-changes-until-second-compile-with-kotlin/44617351#44617351", "title": "Android Studio doesn&#39;t compile changes until second compile with Kotlin", "body": "<p>If you're <strong>not</strong> using the latest Kotlin plug-in version (1.1.2-5 as of now) and/or Android Studio's latest stable version (2.3.3 as of now), then disabling Android Studio's Instant Run feature may <strong>not</strong> be able to fix this problem even though it's one of the most common solutions (based on blogs, SO posts here, and etc.) for properly running configuration changes to an app. Android Studio, particularly its alpha/beta versions (Alpha 4 as of now), are obviously bound to have buggy features, and the configuration-change bug could be one of them.</p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 7861527, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JPEiLRIYp2k/AAAAAAAAAAI/AAAAAAAAADA/VNi0tnVzOjY/photo.jpg?sz=128", "display_name": "V Chen", "link": "https://stackoverflow.com/users/7861527/v-chen"}, "is_accepted": false, "score": 1, "last_activity_date": 1498541574, "creation_date": 1498541574, "answer_id": 44772850, "question_id": 44616997, "link": "https://stackoverflow.com/questions/44616997/android-studio-doesnt-compile-changes-until-second-compile-with-kotlin/44772850#44772850", "title": "Android Studio doesn&#39;t compile changes until second compile with Kotlin", "body": "<p>If you use kotlin and retrolambda this might fix it:</p>\n\n<pre><code>me.tatarka:gradle-retrolambda:3.4.0\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/41076056/7861527\">https://stackoverflow.com/a/41076056/7861527</a></p>\n"}], "owner": {"reputation": 1057, "user_id": 8119977, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh4.googleusercontent.com/-UKerJziyq2I/AAAAAAAAAAI/AAAAAAAABWA/YRGWMdu_gig/photo.jpg?sz=128", "display_name": "Eder Padilla", "link": "https://stackoverflow.com/users/8119977/eder-padilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 644, "favorite_count": 1, "accepted_answer_id": 44617351, "answer_count": 2, "score": 0, "last_activity_date": 1498541574, "creation_date": 1497802608, "question_id": 44616997, "link": "https://stackoverflow.com/questions/44616997/android-studio-doesnt-compile-changes-until-second-compile-with-kotlin", "title": "Android Studio doesn&#39;t compile changes until second compile with Kotlin", "body": "<p>When I am compiling with Kotlin's puglin, I always have to run the project twice if I make a change, Android Studio does not recognize the change until it runs the project twice, Insnat Run its off and this continues happening</p>\n"}, {"tags": ["spring-boot", "kotlin", "spring-annotations", "spring-webflux"], "answers": [{"comments": [{"owner": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "edited": false, "score": 0, "creation_date": 1497802972, "post_id": 44617026, "comment_id": 76220191, "body": "I have them commented out in the example since that&#39;s the issue: I can&#39;t use them in the test class. It might be an issue with Spring (or not)...I have no clue. For now, I&#39;m using the ones provided by Java (and getting the warnings) but I would like to use the Kotlin ones...that&#39;s the point for this question."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "edited": false, "score": 0, "creation_date": 1497805096, "post_id": 44617026, "comment_id": 76220814, "body": "@\u0250u\u0131\u0265\u0254\u0250\u026f okay. what wrong with you when using kotlin annotations?"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "edited": false, "score": 0, "creation_date": 1497807273, "post_id": 44617026, "comment_id": 76221383, "body": "@\u0250u\u0131\u0265\u0254\u0250\u026f sir, <code>AnnotationTarget.CLASS</code>  is equivalent to <code>ElementType.TYPE</code>. so you should replace <code>AnnotationTarget.TYPE</code> with <code>AnnotationTarget.CLASS</code> which just using type usage."}, {"owner": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "edited": false, "score": 0, "creation_date": 1497807855, "post_id": 44617026, "comment_id": 76221541, "body": "...and you are right! I was using the same &quot;type&quot;! Silly! Thank you!"}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 1, "last_activity_date": 1497806936, "last_edit_date": 1497806936, "creation_date": 1497802769, "answer_id": 44617026, "question_id": 44616815, "link": "https://stackoverflow.com/questions/44616815/spring-boot-kotlin-annotation-errors/44617026#44617026", "title": "Spring Boot + Kotlin annotation error(s)", "body": "<p>kotlin has it own <code>@kotlin.annotation.Retention</code> and <code>@kotlin.annotation.Target</code> annotations. take a while to look the <a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotations\" rel=\"nofollow noreferrer\">kotlin annotation documentation</a> please.</p>\n\n<h2>Edit</h2>\n\n<p>I have test it in springframework that no problem. Note that have a distinction in <code>@Target</code> between java and kotlin. </p>\n\n<p>the kotlin <code>kotlin.annotation.@Target(AnnotationTarget.CLASS)</code> is translated to:</p>\n\n<pre><code>@java.lang.annotation.Target(ElementType.TYPE);\n</code></pre>\n\n<p>and the kotlin <code>kotlin.annotation.@Target(AnnotationTarget.TYPE)</code> is translated to:</p>\n\n<pre><code>@java.lang.annotation.Target;\n</code></pre>\n\n<p>which means <code>AnnotationTarget.TYPE</code> don't supported for java. it just used in kotlin. so your own annotation should be like this:</p>\n\n<pre><code>//spring-test annotations\n@ActiveProfiles(profiles = arrayOf(\"default\", \"test\"))\n@ContextConfiguration(classes = arrayOf(Application::class))\n//spring-boot annotations\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureWebTestClient\n//kotlin annotations\n@Target(AnnotationTarget.CLASS)\n@Retention(AnnotationRetention.RUNTIME)// can remove it default is RUNTIME\nannotation class SpringWebFluxTest;\n</code></pre>\n"}], "owner": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1609, "favorite_count": 0, "accepted_answer_id": 44617026, "answer_count": 1, "score": 2, "last_activity_date": 1497806953, "creation_date": 1497801255, "last_edit_date": 1497806953, "question_id": 44616815, "link": "https://stackoverflow.com/questions/44616815/spring-boot-kotlin-annotation-errors", "title": "Spring Boot + Kotlin annotation error(s)", "body": "<p>I have a Spring Boot <code>2.0.0.M2</code> (with WebFlux) application written in Kotlin.</p>\n\n<p>I'm used to define/declare \"annotations\" for test cases in order to avoid some boilerplate configuration; something like:</p>\n\n<pre><code>import java.lang.annotation.ElementType\nimport java.lang.annotation.Inherited\nimport java.lang.annotation.Retention\nimport java.lang.annotation.RetentionPolicy\nimport java.lang.annotation.Target\n...\n\n@Inherited\n@Target(ElementType.TYPE)\n@AutoConfigureWebTestClient // TODO: FTW this really does?!\n@Retention(RetentionPolicy.RUNTIME)\n//@kotlin.annotation.Target(AnnotationTarget.TYPE)\n//@kotlin.annotation.Retention(AnnotationRetention.RUNTIME)\n@ActiveProfiles(profiles = arrayOf(\"default\", \"test\"))\n@ContextConfiguration(classes = arrayOf(Application::class))\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nannotation class SpringWebFluxTest\n</code></pre>\n\n<p>...then in my tests I use it like:</p>\n\n<pre><code>@SpringWebFluxTest\n@RunWith(SpringRunner::class)\nclass PersonWorkflowTest {\n  private lateinit var client: WebTestClient\n  ...\n</code></pre>\n\n<p>The <strong>issue is</strong> that I can't achieve the same using the annotations provided by Kotlin:</p>\n\n<pre><code>@kotlin.annotation.Target(AnnotationTarget.TYPE)\n@kotlin.annotation.Retention(AnnotationRetention.RUNTIME)\n</code></pre>\n\n<p>I'm getting a <code>this annotation is not applicable to target 'class'</code> inside <code>PersonWorkflowTest</code>. If I use the Java ones everything is fine, but on the other hand I get these warnings \u2015 which what I'm really trying to get rid of :)</p>\n\n<pre><code>...\n:compileTestKotlin\nw: /home/gorre/Workshop/kotlin-spring-boot-reactive/src/test/kotlin/io/shido/annotations/SpringWebFluxTest.kt: (18, 1): This annotation is deprecated in Kotlin. Use '@kotlin.annotation.Target' instead\nw: /home/gorre/Workshop/kotlin-spring-boot-reactive/src/test/kotlin/io/shido/annotations/SpringWebFluxTest.kt: (20, 1): This annotation is deprecated in Kotlin. Use '@kotlin.annotation.Retention' instead\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/WT7Je.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WT7Je.png\" alt=\"Kotlin Annotation(s) error with Spring Boot\"></a></p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 1354, "user_id": 7977034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HsIWe.jpg?s=128&g=1", "display_name": "Caleb Bassham", "link": "https://stackoverflow.com/users/7977034/caleb-bassham"}, "reply_to_user": {"reputation": 251344, "user_id": 438154, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/827d86026ddc062f449ccedece1c52da?s=128&d=identicon&r=PG&f=1", "display_name": "Sotirios Delimanolis", "link": "https://stackoverflow.com/users/438154/sotirios-delimanolis"}, "edited": false, "score": 0, "creation_date": 1497799144, "post_id": 44616441, "comment_id": 76219147, "body": "sure @SotiriosDelimanolis"}, {"owner": {"reputation": 1354, "user_id": 7977034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HsIWe.jpg?s=128&g=1", "display_name": "Caleb Bassham", "link": "https://stackoverflow.com/users/7977034/caleb-bassham"}, "edited": false, "score": 0, "creation_date": 1497799590, "post_id": 44616441, "comment_id": 76219268, "body": "What do you mean by <code>What does it does not mean?</code>"}, {"owner": {"reputation": 13883, "user_id": 6815131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c38385f9eb57b70176498fa5c3b4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Joe C", "link": "https://stackoverflow.com/users/6815131/joe-c"}, "edited": false, "score": 2, "creation_date": 1497799640, "post_id": 44616441, "comment_id": 76219280, "body": "I cannot more strongly advise against using the legacy <code>java.util.Date</code> if you can possibly avoid it.  You should instead look in the <code>java.time</code> package and find the class that is most appropriate for your use case."}, {"owner": {"reputation": 1354, "user_id": 7977034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HsIWe.jpg?s=128&g=1", "display_name": "Caleb Bassham", "link": "https://stackoverflow.com/users/7977034/caleb-bassham"}, "reply_to_user": {"reputation": 13883, "user_id": 6815131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c38385f9eb57b70176498fa5c3b4c99?s=128&d=identicon&r=PG&f=1", "display_name": "Joe C", "link": "https://stackoverflow.com/users/6815131/joe-c"}, "edited": false, "score": 0, "creation_date": 1497799936, "post_id": 44616441, "comment_id": 76219365, "body": "@JoeC Thanks a lot, this has fixed my problem. I remember finding these classes a while back but forgot about them."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1497799943, "post_id": 44616441, "comment_id": 76219366, "body": "<i>From what I understand from the javadocs this should work</i>: could you explain your train of thought? Does the javadoc of DateFormat.getDateTimeInstance() say that it returns a DateFormat able to parse what Date.toString() generates?"}], "answers": [{"tags": [], "owner": {"reputation": 1354, "user_id": 7977034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HsIWe.jpg?s=128&g=1", "display_name": "Caleb Bassham", "link": "https://stackoverflow.com/users/7977034/caleb-bassham"}, "is_accepted": false, "score": 0, "last_activity_date": 1497800043, "creation_date": 1497800043, "answer_id": 44616634, "question_id": 44616441, "link": "https://stackoverflow.com/questions/44616441/parsing-java-dates/44616634#44616634", "title": "Parsing Java Dates", "body": "<p>Using the new <code>java.time</code> classes I was able to solve the problem.</p>\n\n<p>The current date you can get with <code>LocalDateTime.now()</code> and the date string can be parsed with <code>LocalDateTime.parse()</code></p>\n"}], "owner": {"reputation": 1354, "user_id": 7977034, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/HsIWe.jpg?s=128&g=1", "display_name": "Caleb Bassham", "link": "https://stackoverflow.com/users/7977034/caleb-bassham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1578, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1497800043, "creation_date": 1497798856, "last_edit_date": 1497799678, "question_id": 44616441, "link": "https://stackoverflow.com/questions/44616441/parsing-java-dates", "title": "Parsing Java Dates", "body": "<p>I am trying to parse dates. From what I understand from the javadocs this should work. I thing this should work becuase on the JavaDoc is said that <code>Date.parse()</code> is deprecated and should be replaced with <code>DateFormat.parse()</code>.</p>\n\n<pre><code> DateFormat.getDateTimeInstance().parse(Date().toString())\n</code></pre>\n\n<p>but it does not.</p>\n\n<p><code>Date().toString()</code> returns a <code>String</code> like</p>\n\n<pre><code>Sun Jun 18 10:09:50 CDT 2017\n</code></pre>\n\n<p>When I try to parse this string, a <code>ParseException</code> is thrown </p>\n\n<pre><code>java.text.ParseException: Unparseable date: \"Sun Jun 18 10:09:50 CDT 2017\"\n</code></pre>\n\n<p>Also I am using Kotlin so <code>Date()</code> is the same thing as <code>new Date()</code></p>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1497790974, "post_id": 44615237, "comment_id": 76216675, "body": "Could you show the class definition including the main function? Maybe there is a mistake in the main function, e.g. not public or static?"}, {"owner": {"reputation": 482, "user_id": 8001960, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/i59dG.jpg?s=128&g=1", "display_name": "Bord81", "link": "https://stackoverflow.com/users/8001960/bord81"}, "reply_to_user": {"reputation": 79299, "user_id": 589259, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vJbKg.jpg?s=128&g=1", "display_name": "Maarten Bodewes", "link": "https://stackoverflow.com/users/589259/maarten-bodewes"}, "edited": false, "score": 0, "creation_date": 1497791250, "post_id": 44615237, "comment_id": 76216756, "body": "Yes, it was my mistake, I declared args: String instead of args: Array&lt;String&gt;"}], "answers": [{"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1574874497, "post_id": 44615343, "comment_id": 104387960, "body": "Not needed for newer versions of Kotiln: <a href=\"https://kotlinlang.org/docs/tutorials/kotlin-for-py/hello-world.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/kotlin-for-py/hello-world.html</a>"}], "tags": [], "owner": {"reputation": 482, "user_id": 8001960, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/i59dG.jpg?s=128&g=1", "display_name": "Bord81", "link": "https://stackoverflow.com/users/8001960/bord81"}, "is_accepted": false, "score": 1, "last_activity_date": 1497791513, "last_edit_date": 1497791513, "creation_date": 1497791385, "answer_id": 44615343, "question_id": 44615237, "link": "https://stackoverflow.com/questions/44615237/how-to-run-kotlin-function-in-intellij-idea/44615343#44615343", "title": "How to run Kotlin function in Intellij Idea", "body": "<p>Update: It works, I just had to put correct arguments <code>args: Array&lt;String&gt;</code></p>\n"}, {"comments": [{"owner": {"reputation": 359, "user_id": 5120346, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Eqcqi.jpg?s=128&g=1", "display_name": "sednanre", "link": "https://stackoverflow.com/users/5120346/sednanre"}, "edited": false, "score": 4, "creation_date": 1529451160, "post_id": 44615355, "comment_id": 88874758, "body": "It&#39;s also a good thing to check if you by any chance put a <code>class Main {</code>at the file (like we do in java), for example. I had that in my file and it wasn&#39;t running. After taking it off, the method <code>main</code> was recognized and I could run it."}, {"owner": {"reputation": 860, "user_id": 9347168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958b75f6f8f36ed5e82baf0965804034?s=128&d=identicon&r=PG&f=1", "display_name": "Hfrav", "link": "https://stackoverflow.com/users/9347168/hfrav"}, "edited": false, "score": 1, "creation_date": 1560260804, "post_id": 44615355, "comment_id": 99672010, "body": "For me, this doesn&#39;t work at all. I&#39;ve created a new Kotlin project from scratch, but there is no way to run the class and the main method."}, {"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1574874278, "post_id": 44615355, "comment_id": 104387831, "body": "There is no <b>Kotlin (JVM)</b> option for new projects"}], "tags": [], "owner": {"reputation": 58671, "user_id": 6509751, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/260caa996ae8ac9fcee35487aa8d7c81?s=128&d=identicon&r=PG&f=1", "display_name": "creativecreatorormaybenot", "link": "https://stackoverflow.com/users/6509751/creativecreatorormaybenot"}, "is_accepted": true, "score": 16, "last_activity_date": 1497791445, "creation_date": 1497791445, "answer_id": 44615355, "question_id": 44615237, "link": "https://stackoverflow.com/questions/44615237/how-to-run-kotlin-function-in-intellij-idea/44615355#44615355", "title": "How to run Kotlin function in Intellij Idea", "body": "<p>Check that your IDEA is <strong>up to date</strong>. When creating a new Project you can select Kotlin like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/BHpXW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BHpXW.png\" alt=\"Project creation with Kotlin\"></a></p>\n\n<p>This will automatically <strong>configure Kotlin</strong> for you. If you started a Java project and want Kotlin support, there will be a little window in the bottom right corner to configure Kotlin in the project for you. <em>(not needed if the project is created like shown above)</em></p>\n\n<p><a href=\"https://i.stack.imgur.com/9HLVA.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/9HLVA.png\" alt=\"Kotlin configuration in Java project\"></a></p>\n\n<p>There you want to select <strong>Java</strong>, not <strong>Javascript</strong> and after that click on <em>\"Configure '...' module in '...' project <strong>as Kotlin (Java) module</strong>...\"</em></p>\n\n<p>When your project is set up correctly, make sure that your main function is called <em>\"main\"</em> and has a parameter of type <code>Array&lt;String&gt;</code>.</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n\n}\n</code></pre>\n\n<p>Next to it a Kotlin <em>\"K\"</em> will appear, which you can click on to run your main function.</p>\n\n<p><a href=\"https://i.stack.imgur.com/ZLRBj.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ZLRBj.png\" alt=\"Main function execution\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1574874454, "post_id": 54726161, "comment_id": 104387938, "body": "There is no such option as you described"}, {"owner": {"reputation": 4233, "user_id": 917476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zQfm9.png?s=128&g=1", "display_name": "frin", "link": "https://stackoverflow.com/users/917476/frin"}, "reply_to_user": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 1, "creation_date": 1575271725, "post_id": 54726161, "comment_id": 104496222, "body": "@IgorGanapolsky did you check under the Modules tab in Project Structure window? You should see a file tree on the right, and &quot;Mark as&quot; options above it."}, {"owner": {"reputation": 2667, "user_id": 3358488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6804ecef4a62a5536c875a22733d6594?s=128&d=identicon&r=PG&f=1", "display_name": "user118967", "link": "https://stackoverflow.com/users/3358488/user118967"}, "edited": false, "score": 0, "creation_date": 1616479172, "post_id": 54726161, "comment_id": 118007880, "body": "Perfect answer, that&#39;s all I need to know. Silly of IntelliJ IDEA to require this."}], "tags": [], "owner": {"reputation": 4233, "user_id": 917476, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zQfm9.png?s=128&g=1", "display_name": "frin", "link": "https://stackoverflow.com/users/917476/frin"}, "is_accepted": false, "score": 11, "last_activity_date": 1550340718, "creation_date": 1550340718, "answer_id": 54726161, "question_id": 44615237, "link": "https://stackoverflow.com/questions/44615237/how-to-run-kotlin-function-in-intellij-idea/54726161#54726161", "title": "How to run Kotlin function in Intellij Idea", "body": "<p>I had a problem where I could not even run the code, IntelliJ IDEA offered me to create a new configuration.</p>\n\n<p>I solved the problem by marking the \"src\" folder as \"Sources\" in Project Structure (File > Project Structure, select src and mark it as Sources). For some reason generating new project didn't mark src folder as sources automatically.</p>\n\n<p>Once I did that an arrow appeared next to the main function and I could run it.</p>\n"}, {"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1574874551, "post_id": 57778896, "comment_id": 104387994, "body": "Kotlin doesn&#39;t require classes"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4367461"}, "edited": false, "score": 0, "creation_date": 1590597833, "post_id": 57778896, "comment_id": 109742048, "body": "I had this issue too. Thanks"}], "tags": [], "owner": {"reputation": 1944, "user_id": 5844686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bdc03955e4050fc063d6593d6e1c8b8a?s=128&d=identicon&r=PG&f=1", "display_name": "Big Pumpkin", "link": "https://stackoverflow.com/users/5844686/big-pumpkin"}, "is_accepted": false, "score": 6, "last_activity_date": 1567545741, "creation_date": 1567545741, "answer_id": 57778896, "question_id": 44615237, "link": "https://stackoverflow.com/questions/44615237/how-to-run-kotlin-function-in-intellij-idea/57778896#57778896", "title": "How to run Kotlin function in Intellij Idea", "body": "<p>Coming from a Java background, I instinctively put the main function inside a class. Then IntelliJ wouldn't let me run it. After taking the main function out of class to the top level, IntelliJ automatically put the green arrow next to the main function and added <code>Run</code> to the context menu (brought up by right clicking the file).</p>\n"}], "owner": {"reputation": 482, "user_id": 8001960, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/i59dG.jpg?s=128&g=1", "display_name": "Bord81", "link": "https://stackoverflow.com/users/8001960/bord81"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15512, "favorite_count": 1, "accepted_answer_id": 44615355, "answer_count": 4, "score": 9, "last_activity_date": 1567545741, "creation_date": 1497790750, "question_id": 44615237, "link": "https://stackoverflow.com/questions/44615237/how-to-run-kotlin-function-in-intellij-idea", "title": "How to run Kotlin function in Intellij Idea", "body": "<p>I have created a test project aiming to start with Kotlin in IntelliJ IDEA CE.</p>\n\n<p>The IDE version and the system is  2017.1.4 Build #IC-171.4694.23, built on June 6, 2017\nJRE: 1.8.0_112-release-736-b21 x86_64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\nMac OS X 10.12.4</p>\n\n<p>There is one .kt file with a main function in it. When I right-click on it I can select Run, but I get an error form JUnit: !!! JUnit version 3.8 or later expected.</p>\n\n<p>I figured out it was about missing configuration, but I can't set up a proper one for Kotlin as well. Namely it requires a 'main class', which I don't have. Setting package name instead, as some other discussions suggest didn't help either.</p>\n\n<p>What is the proper configuration for Kotlin in IDEA?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["kotlin", "serenity-bdd"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 8178827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07dba1bcd82dedf3e101c75a2f0cd3f8?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8178827/alex"}, "edited": false, "score": 0, "creation_date": 1497788496, "post_id": 44614855, "comment_id": 76216082, "body": "you are right! Modifier <i>Open</i> before class and really solved the problem of launching"}, {"owner": {"reputation": 3569, "user_id": 2462759, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/d328d4b61356d8e6c763e6bb40ada158?s=128&d=identicon&r=PG", "display_name": "paul", "link": "https://stackoverflow.com/users/2462759/paul"}, "edited": false, "score": 0, "creation_date": 1583756569, "post_id": 44614855, "comment_id": 107211739, "body": "Hey Alex, I am also trying Serenity with Kotlin. Can you please help? Can you share some sample working repo?"}], "tags": [], "owner": {"reputation": 7210, "user_id": 3533380, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0d02db8e76f1b27cce4f07e15a52bd07?s=128&d=identicon&r=PG&f=1", "display_name": "Mibac", "link": "https://stackoverflow.com/users/3533380/mibac"}, "is_accepted": true, "score": 4, "last_activity_date": 1497788423, "last_edit_date": 1497788423, "creation_date": 1497788120, "answer_id": 44614855, "question_id": 44614812, "link": "https://stackoverflow.com/questions/44614812/i-cant-use-kotlin-for-serenity-bdd/44614855#44614855", "title": "I can&#39;t use Kotlin for Serenity-bdd", "body": "<p>In Kotlin classes <a href=\"https://kotlinlang.org/docs/reference/classes.html#inheritance\" rel=\"nofollow noreferrer\">don't allow subclassing by default</a> (equivalent of Java's <code>final</code>). To allow subclassing you need to mark them as <code>open</code>. (<code>open class X</code>)</p>\n\n<blockquote>\n  <p>The open annotation on a class is the opposite of Java's final: it allows others to inherit from this class. By default, all classes in Kotlin are final, which corresponds to Effective Java, Item 17: Design and document for inheritance or else prohibit it. -- <a href=\"https://kotlinlang.org/docs/reference/classes.html#inheritance\" rel=\"nofollow noreferrer\">Kotlin docs</a></p>\n</blockquote>\n"}], "owner": {"reputation": 35, "user_id": 8178827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07dba1bcd82dedf3e101c75a2f0cd3f8?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8178827/alex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 679, "favorite_count": 0, "accepted_answer_id": 44614855, "answer_count": 1, "score": 1, "last_activity_date": 1587475710, "creation_date": 1497787774, "last_edit_date": 1497788149, "question_id": 44614812, "link": "https://stackoverflow.com/questions/44614812/i-cant-use-kotlin-for-serenity-bdd", "title": "I can&#39;t use Kotlin for Serenity-bdd", "body": "<p>I try use kotlin for my tests with serenity-bed framework, but this don't work\nfor example</p>\n\n<pre><code>public class EndUserSteps {\n\n    var dictionaryPage: DictionaryPage = null!!\n\n    @Step\n    fun enters(keyword: String) {\n        dictionaryPage.enter_keywords(keyword)\n    }\n\n    @Step\n    fun starts_search() {\n        dictionaryPage.lookup_terms()\n    }\n\n    @Step\n    fun should_see_definition(definition: String) {\n        assertThat(dictionaryPage.definitions, hasItem(containsString(definition)))\n    }\n\n    @Step\n    fun is_the_home_page() {\n        dictionaryPage.open()\n    }\n\n    @Step\n    fun looks_for(term: String) {\n        enters(term)\n        starts_search()\n    }\n}\n</code></pre>\n\n<p>Other code has written in Java!</p>\n\n<p>output:\n(net.serenitybdd.core.exceptions.StepInitialisationException: Failed to create step library for EndUserSteps:Cannot subclass final class class ru.tinkoff.atesting.steps.serenity.EndUserSteps)</p>\n\n<p>can you help me?\nHave any ideas?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 2030, "user_id": 6576875, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/82829bdc248f0ae251b8fac049bf81b7?s=128&d=identicon&r=PG&f=1", "display_name": "Martin De Simone", "link": "https://stackoverflow.com/users/6576875/martin-de-simone"}, "edited": false, "score": 1, "creation_date": 1497754423, "post_id": 44611224, "comment_id": 76209243, "body": "Use the java to kotlin converter in android studio"}, {"owner": {"reputation": 1311, "user_id": 3591398, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qQhHL.jpg?s=128&g=1", "display_name": "j.elmer", "link": "https://stackoverflow.com/users/3591398/j-elmer"}, "reply_to_user": {"reputation": 2030, "user_id": 6576875, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/82829bdc248f0ae251b8fac049bf81b7?s=128&d=identicon&r=PG&f=1", "display_name": "Martin De Simone", "link": "https://stackoverflow.com/users/6576875/martin-de-simone"}, "edited": false, "score": 0, "creation_date": 1497754765, "post_id": 44611224, "comment_id": 76209288, "body": "this app already use kotlin from the start, so I can only write kotlin right? not write Java in kotline file."}, {"owner": {"reputation": 1311, "user_id": 3591398, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qQhHL.jpg?s=128&g=1", "display_name": "j.elmer", "link": "https://stackoverflow.com/users/3591398/j-elmer"}, "reply_to_user": {"reputation": 2030, "user_id": 6576875, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/82829bdc248f0ae251b8fac049bf81b7?s=128&d=identicon&r=PG&f=1", "display_name": "Martin De Simone", "link": "https://stackoverflow.com/users/6576875/martin-de-simone"}, "edited": false, "score": 0, "creation_date": 1497754886, "post_id": 44611224, "comment_id": 76209307, "body": "just realize that you can copy paste it and auto convert it"}], "answers": [{"comments": [{"owner": {"reputation": 696, "user_id": 5355801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d5eef826bb31cff0076e44ef9f07041?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/5355801/chris"}, "edited": false, "score": 3, "creation_date": 1511556015, "post_id": 44611348, "comment_id": 81914277, "body": "What does that &quot;true&quot; stand for?"}, {"owner": {"reputation": 762, "user_id": 6638518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D388w.jpg?s=128&g=1", "display_name": "Glory", "link": "https://stackoverflow.com/users/6638518/glory"}, "reply_to_user": {"reputation": 696, "user_id": 5355801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d5eef826bb31cff0076e44ef9f07041?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/5355801/chris"}, "edited": false, "score": 0, "creation_date": 1511706876, "post_id": 44611348, "comment_id": 81949720, "body": "Sorry, the &quot;return&quot; expression is mistakenly removed from code during the last edit.  I&#39;ve fixed it now. Thanks. @Chris"}, {"owner": {"reputation": 1971, "user_id": 2717445, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/f17fk.jpg?s=128&g=1", "display_name": "Ye Htun Z", "link": "https://stackoverflow.com/users/2717445/ye-htun-z"}, "edited": false, "score": 0, "creation_date": 1515080232, "post_id": 44611348, "comment_id": 83172159, "body": "when i set return true this show errors message, only false keep error clean.? what is that.."}, {"owner": {"reputation": 3963, "user_id": 3979479, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c7e93379146d6dc695cb880c34f3879a?s=128&d=identicon&r=PG&f=1", "display_name": "mbo", "link": "https://stackoverflow.com/users/3979479/mbo"}, "edited": false, "score": 2, "creation_date": 1515744092, "post_id": 44611348, "comment_id": 83425087, "body": "It&#39;s not working with the <code>return true</code>, you have to add <code>else -&gt; true</code> to the when block. Otherwise you will get the error &quot;When expression must be exhaustive, add necessary else branch&quot;"}, {"owner": {"reputation": 1001, "user_id": 5658251, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-snphfvZWF0s/AAAAAAAAAAI/AAAAAAAAEMU/VcbwF479mRE/photo.jpg?sz=128", "display_name": "Eswar", "link": "https://stackoverflow.com/users/5658251/eswar"}, "edited": false, "score": 0, "creation_date": 1532528744, "post_id": 44611348, "comment_id": 90011519, "body": "@Glory how to set one default menuitem among the items?"}, {"owner": {"reputation": 778, "user_id": 6325722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UJ0nT.jpg?s=128&g=1", "display_name": "Johnny Five", "link": "https://stackoverflow.com/users/6325722/johnny-five"}, "reply_to_user": {"reputation": 696, "user_id": 5355801, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d5eef826bb31cff0076e44ef9f07041?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/5355801/chris"}, "edited": false, "score": 0, "creation_date": 1555490582, "post_id": 44611348, "comment_id": 98125967, "body": "@Chris return true to display the item as the selected item.  <a href=\"https://developer.android.com/reference/android/support/design/widget/NavigationView.OnNavigationItemSelectedListener\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/support/design/widge&zwnj;&#8203;t/&hellip;</a>"}], "tags": [], "owner": {"reputation": 762, "user_id": 6638518, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D388w.jpg?s=128&g=1", "display_name": "Glory", "link": "https://stackoverflow.com/users/6638518/glory"}, "is_accepted": true, "score": 20, "last_activity_date": 1588677249, "last_edit_date": 1588677249, "creation_date": 1497754893, "answer_id": 44611348, "question_id": 44611224, "link": "https://stackoverflow.com/questions/44611224/how-to-setonnavigationitemlistener-on-bottomnavigationview-in-android-using-kotl/44611348#44611348", "title": "How to setOnNavigationItemListener on BottomNavigationView in android using Kotlin?", "body": "<p>You can use this format of code:</p>\n\n<pre><code>bottomNavigation.setOnNavigationItemSelectedListener { item -&gt;\n    when (item.itemId) {\n        R.id.action_favorites -&gt; {\n        }\n        R.id.action_schedules -&gt; {\n        }\n        R.id.action_music -&gt; {\n        }\n    }\n    true\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1547, "user_id": 1756939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DU0b6.jpg?s=128&g=1", "display_name": "AndrewBloom", "link": "https://stackoverflow.com/users/1756939/andrewbloom"}, "edited": false, "score": 0, "creation_date": 1572967280, "post_id": 48599671, "comment_id": 103722011, "body": "wrong! the when is executed only once when the listener is set, so it&#39;s not equivalent to the java code in the question"}], "tags": [], "owner": {"reputation": 533, "user_id": 7553195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50cdc18957162fb398a3a8b141120c96?s=128&d=identicon&r=PG&f=1", "display_name": "Ali hasan", "link": "https://stackoverflow.com/users/7553195/ali-hasan"}, "is_accepted": false, "score": 7, "last_activity_date": 1576244240, "last_edit_date": 1576244240, "creation_date": 1517676576, "answer_id": 48599671, "question_id": 44611224, "link": "https://stackoverflow.com/questions/44611224/how-to-setonnavigationitemlistener-on-bottomnavigationview-in-android-using-kotl/48599671#48599671", "title": "How to setOnNavigationItemListener on BottomNavigationView in android using Kotlin?", "body": "<p>use must add annotation for return the lambda only </p>\n\n<pre><code> bottomNavigation.setOnNavigationItemSelectedListener { item -&gt;\n        when(item.itemId){\n            R.id.home -&gt; {}\n\n            R.id.group -&gt; {}\n\n            R.id.profile -&gt; {}\n        }\n        return true\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 629, "user_id": 2293855, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9dfcaaaed6141d61b26a8a8171f42d66?s=128&d=identicon&r=PG", "display_name": "jaffar", "link": "https://stackoverflow.com/users/2293855/jaffar"}, "is_accepted": false, "score": 2, "last_activity_date": 1519569333, "creation_date": 1519569333, "answer_id": 48974639, "question_id": 44611224, "link": "https://stackoverflow.com/questions/44611224/how-to-setonnavigationitemlistener-on-bottomnavigationview-in-android-using-kotl/48974639#48974639", "title": "How to setOnNavigationItemListener on BottomNavigationView in android using Kotlin?", "body": "<blockquote>\n  <p>return boolean in each block because setOnNavigationItemSelectedListener expects return type </p>\n</blockquote>\n\n<pre><code>fun initViews() {\n    bottomNavigationView.setOnNavigationItemSelectedListener { item -&gt;\n        when (item.itemId) {\n            R.id.action_menu_media -&gt; {\n                true\n            }\n            R.id.action_menu_tag -&gt; {\n                true\n            }\n            R.id.action_menu_home -&gt; {\n                true\n            }\n            else -&gt; {\n                true\n            }\n        }\n\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 489, "user_id": 4569915, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ImxQJ.png?s=128&g=1", "display_name": "twenk11k", "link": "https://stackoverflow.com/users/4569915/twenk11k"}, "edited": false, "score": 1, "creation_date": 1572527743, "post_id": 51991094, "comment_id": 103593610, "body": "Why we have to add @setOnNavigationItemSelectedListener after return word ?"}, {"owner": {"reputation": 1547, "user_id": 1756939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DU0b6.jpg?s=128&g=1", "display_name": "AndrewBloom", "link": "https://stackoverflow.com/users/1756939/andrewbloom"}, "edited": false, "score": 0, "creation_date": 1572967309, "post_id": 51991094, "comment_id": 103722029, "body": "wrong! the when is executed only once when the listener is set, so it&#39;s not equivalent to the java code in the question"}], "tags": [], "owner": {"reputation": 169, "user_id": 5189151, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/214f87a2d1a4bad5d9d6b4c116ed8bde?s=128&d=identicon&r=PG&f=1", "display_name": "Thanh v\u0169", "link": "https://stackoverflow.com/users/5189151/thanh-v%c5%a9"}, "is_accepted": false, "score": 9, "last_activity_date": 1535044530, "creation_date": 1535044530, "answer_id": 51991094, "question_id": 44611224, "link": "https://stackoverflow.com/questions/44611224/how-to-setonnavigationitemlistener-on-bottomnavigationview-in-android-using-kotl/51991094#51991094", "title": "How to setOnNavigationItemListener on BottomNavigationView in android using Kotlin?", "body": "<p>You can use below code</p>\n\n<pre><code>bottom_navigation.setOnNavigationItemSelectedListener {\n            var selectedFragment: Fragment = A()\n            when (it.itemId) {\n                R.id.action_item1 -&gt; selectedFragment = A()\n                R.id.action_item2 -&gt; selectedFragment = B()\n                R.id.action_item3 -&gt; selectedFragment = C()\n            }\n            val transaction = fragmentManager.beginTransaction()\n            transaction.replace(R.id.frame_layout, selectedFragment)\n            transaction.commit()\n            return@setOnNavigationItemSelectedListener true\n        }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1547, "user_id": 1756939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DU0b6.jpg?s=128&g=1", "display_name": "AndrewBloom", "link": "https://stackoverflow.com/users/1756939/andrewbloom"}, "is_accepted": false, "score": 4, "last_activity_date": 1572967157, "creation_date": 1572967157, "answer_id": 58714394, "question_id": 44611224, "link": "https://stackoverflow.com/questions/44611224/how-to-setonnavigationitemlistener-on-bottomnavigationview-in-android-using-kotl/58714394#58714394", "title": "How to setOnNavigationItemListener on BottomNavigationView in android using Kotlin?", "body": "<pre><code>bottomNavigationView.setOnNavigationItemSelectedListener {\n            when (it.itemId) {\n                R.id.action_favorites -&gt; { }\n                R.id.action_schedules -&gt; { }\n                R.id.action_music -&gt; { }\n            }\n            true\n        }\n</code></pre>\n\n<p>note that last line seems to miss the return keyword, but </p>\n\n<blockquote>\n  <p>The last expression in a lambda is considered the return value:</p>\n</blockquote>\n\n<p>from <a href=\"https://kotlinlang.org/docs/reference/lambdas.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/lambdas.html</a></p>\n\n<p>Moreover, @setOnNavigationItemSelectedListener creates a </p>\n\n<pre><code>local final fun &lt;anonymous&gt; (it: Menuitem) : Boolean\n</code></pre>\n\n<p>wrapping what follows, so in some answers this will have the effect of executing the when block only when the listener is set (only one time), and the callback will be just a return true statement.</p>\n"}, {"tags": [], "owner": {"reputation": 459, "user_id": 11737287, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/reghE.png?s=128&g=1", "display_name": "thesamoanppprogrammer", "link": "https://stackoverflow.com/users/11737287/thesamoanppprogrammer"}, "is_accepted": false, "score": 3, "last_activity_date": 1579400424, "creation_date": 1579400424, "answer_id": 59806599, "question_id": 44611224, "link": "https://stackoverflow.com/questions/44611224/how-to-setonnavigationitemlistener-on-bottomnavigationview-in-android-using-kotl/59806599#59806599", "title": "How to setOnNavigationItemListener on BottomNavigationView in android using Kotlin?", "body": "<p>This is my code using the new Navigation component.\nLet me know if you need help with nav ui.</p>\n\n<pre><code>bottom_nav.setOnNavigationItemSelectedListener {\n            when (it.itemId) {\n                R.id.home -&gt; {\n                    findNavController(R.id.nav_host_fragment)\n                        .navigate(R.id.mainFragment)\n                }\n                R.id.search -&gt; {\n                    findNavController(R.id.nav_host_fragment)\n                        .navigate(R.id.searchFragment)\n                }\n                R.id.inapppurchases -&gt; {\n                    findNavController(R.id.nav_host_fragment)\n                        .navigate(R.id.inappPurchasesFragment)\n                }\n                R.id.settings -&gt; {\n                    findNavController(R.id.nav_host_fragment)\n                        .navigate(R.id.settingsFragment)\n                }\n            }\n            true\n        }\n</code></pre>\n"}], "owner": {"reputation": 1311, "user_id": 3591398, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/qQhHL.jpg?s=128&g=1", "display_name": "j.elmer", "link": "https://stackoverflow.com/users/3591398/j-elmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19166, "favorite_count": 2, "accepted_answer_id": 44611348, "answer_count": 6, "score": 16, "last_activity_date": 1588677249, "creation_date": 1497753332, "question_id": 44611224, "link": "https://stackoverflow.com/questions/44611224/how-to-setonnavigationitemlistener-on-bottomnavigationview-in-android-using-kotl", "title": "How to setOnNavigationItemListener on BottomNavigationView in android using Kotlin?", "body": "<p>I use kotlin-android-extension and I can call <code>bottomNavigationView</code> id from layout file to kotlin file. I can use <code>bottomNavigationView.setOnNavigationItemSelectedListener(BottomNavigationView.OnNavigationItemSelectedListener {})</code>, but whats next?</p>\n\n<p>As far as I know in Java, there is another function called <code>onNavigationItemSelected</code>, but I can't find it in kotlin.</p>\n\n<p>this is the example code I want to use in Java but cannot write it in kotlin.</p>\n\n<pre><code>bottomNavigationView.setOnNavigationItemSelectedListener(\n    new BottomNavigationView.OnNavigationItemSelectedListener() {\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n            switch (item.getItemId()) {\n                case R.id.action_favorites:\n\n                case R.id.action_schedules:\n\n                case R.id.action_music:\n\n            }\n            return true;\n        }\n    });\n</code></pre>\n"}, {"tags": ["android", "kotlin", "timber-android"], "comments": [{"owner": {"reputation": 6120, "user_id": 752630, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/117edb11a37a9ee948002a3f68e54a2e?s=128&d=identicon&r=PG&f=1", "display_name": "mbonnin", "link": "https://stackoverflow.com/users/752630/mbonnin"}, "edited": false, "score": 1, "creation_date": 1497736038, "post_id": 44609637, "comment_id": 76206103, "body": "Mmmmkay, Timber seems to be Android-only. I was under the impression that it could be used without android but I must have been wrong..."}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1497736415, "post_id": 44609637, "comment_id": 76206184, "body": "That shouldn&#39;t be the issue here.. Also you shouldn&#39;t compile the Gradle plugin like that. What is the rest of your gradle script?"}, {"owner": {"reputation": 6120, "user_id": 752630, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/117edb11a37a9ee948002a3f68e54a2e?s=128&d=identicon&r=PG&f=1", "display_name": "mbonnin", "link": "https://stackoverflow.com/users/752630/mbonnin"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1497736492, "post_id": 44609637, "comment_id": 76206199, "body": "Yes, I find it strange too. If there&#39;s an unmet dependency on Android.log, I would expect the error message to say so instead of just <code>unresolved reference</code>"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1497738501, "post_id": 44609637, "comment_id": 76206619, "body": "have you refresh the gradle project to update your dependencies?"}, {"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1497739576, "post_id": 44609637, "comment_id": 76206837, "body": "You have two <code>dependencies</code> sections. Perhaps the first one overrides the second one? Then Timber would never be included, and that would explain why you can&#39;t reference it in your code."}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 4, "last_activity_date": 1497773648, "creation_date": 1497773648, "answer_id": 44612999, "question_id": 44609637, "link": "https://stackoverflow.com/questions/44609637/android-kotlin-unresolved-reference-timber/44612999#44612999", "title": "Android/Kotlin: unresolved reference: timber", "body": "<pre><code>apply plugin: 'java-library'\napply plugin: 'kotlin'\n</code></pre>\n\n<p>You're not applying any android plugin and thus don't know how to handle <code>@aar</code> artifacts. But these are the default artifacts when using Android libraries. Sometimes you might find <code>@jar</code> artifacts with the dependency as well, but not that often any more. And Timber is</p>\n\n<blockquote>\n  <p>A logger with a small, extensible API which provides utility on top of Android's normal Log class.</p>\n</blockquote>\n\n<p>You could teach Gradle to understand <code>@aar</code> files, but then you'd run into issues with the Android dependencies when using Timber.</p>\n\n<p>So basically you have to make you module an Android Kotlin library instead.</p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\n</code></pre>\n"}], "owner": {"reputation": 6120, "user_id": 752630, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/117edb11a37a9ee948002a3f68e54a2e?s=128&d=identicon&r=PG&f=1", "display_name": "mbonnin", "link": "https://stackoverflow.com/users/752630/mbonnin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1751, "favorite_count": 1, "accepted_answer_id": 44612999, "answer_count": 1, "score": 3, "last_activity_date": 1497780969, "creation_date": 1497735712, "last_edit_date": 1497780969, "question_id": 44609637, "link": "https://stackoverflow.com/questions/44609637/android-kotlin-unresolved-reference-timber", "title": "Android/Kotlin: unresolved reference: timber", "body": "<p>I'm trying to write a kotlin library for Android and can't include timber. I always get the following error:</p>\n\n<pre><code>Error:error: unresolved reference: timber\n</code></pre>\n\n<p>I have this in my build.gradle:</p>\n\n<pre><code>apply plugin: 'java-library'\napply plugin: 'kotlin'\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n}\n\nsourceCompatibility = \"1.8\"\ntargetCompatibility = \"1.8\"\n\nbuildscript {\n    ext.kotlin_version = '1.1.2-4'\n    repositories {\n        maven {url \"https://maven.google.com\"}\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    compile 'com.jakewharton.timber:timber:4.5.1'\n    testCompile 'junit:junit:4.12'\n}\n</code></pre>\n\n<p>My source file is very simple at the moment:</p>\n\n<pre><code>package net.mbonnin.test\n\nimport timber.log.Timber\n\nclass Main() {\n\n    fun main() {\n        Timber.d(\"hello world\")\n    }\n}\n</code></pre>\n\n<p>It fails on the import statement.</p>\n\n<p>I'm using Android studio 3 canary 4 and kotlin 1.1.2-4.\nAny idea what I'm doing wrong ? Or is timber not usable in kotlin ?</p>\n"}, {"tags": ["kotlin", "android-room"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 2, "creation_date": 1497773968, "post_id": 44608980, "comment_id": 76212466, "body": "I&#39;d suggest you to use a dependency injection framework for handling singletons for you. Like this you&#39;re able to control the life-time of the instances."}, {"owner": {"reputation": 3640, "user_id": 4618331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7356f3874129c5cf6b5ed6dbd9b9436?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/4618331/sam"}, "edited": false, "score": 0, "creation_date": 1497779571, "post_id": 44608980, "comment_id": 76213880, "body": "This is a design question, not a code question. Looks like you are well aware of how to create a singleton and what the alternatives are. The question of whether or not using a singleton is a good idea is pretty much out of scope for SO."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 2328444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oVW6X.jpg?s=128&g=1", "display_name": "Ahasan", "link": "https://stackoverflow.com/users/2328444/ahasan"}, "is_accepted": false, "score": 1, "last_activity_date": 1550926207, "creation_date": 1550926207, "answer_id": 54841797, "question_id": 44608980, "link": "https://stackoverflow.com/questions/44608980/android-room-kotlin-pattern/54841797#54841797", "title": "Android Room + Kotlin pattern", "body": "<p>According to Android documentation, we can create a database instance using the singleton design pattern  as follows\nCreate a room database entity </p>\n\n<pre><code>@Entity\ndata class User(\n    @PrimaryKey var uid: Int,\n    @ColumnInfo(name = \"first_name\") var firstName: String?,\n    @ColumnInfo(name = \"last_name\") var lastName: String?\n)\n</code></pre>\n\n<p>Create DAO class</p>\n\n<pre><code>@Dao\ninterface UserDao {\n    @Query(\"SELECT * FROM user\")\n    fun getAll(): List&lt;User&gt;\n\n    @Query(\"SELECT * FROM user WHERE uid IN (:userIds)\")\n    fun loadAllByIds(userIds: IntArray): List&lt;User&gt;\n\n    @Query(\"SELECT * FROM user WHERE first_name LIKE:  first AND \" +\n           \"last_name LIKE :last LIMIT 1\")\n    fun findByName(first: String, last: String): User\n\n    @Insert\n    fun insertAll(vararg users: User)\n\n    @Delete\n    fun delete(user: User)\n}\n</code></pre>\n\n<p>Create database with singleton pattern</p>\n\n<pre><code>@Database(entities = arrayOf(User::class), version = 1)\nabstract class AppDatabase : RoomDatabase() {\n    abstract fun userDao(): UserDao\n\n    companion object {\n        @Volatile\n        private var instance: AppDatabase? = null\n\n        fun getInstance(\n            context: Context\n        ): AppDatabase = instance ?: synchronized(this) {\n            instance ?: buildDatabase(context).also { instance = it }\n        }\n\n        private fun buildDatabase(context: Context): AppDatabase {\n            return Room.databaseBuilder(\n                context,\n                AppDatabase::class.java,\n                \"database-name\"\n            ).build()\n        }\n    }\n}\n</code></pre>\n\n<p>You can get database instance by following code</p>\n\n<pre><code> var databaseInstance=AppDatabase.getInstance(context)\n</code></pre>\n"}], "owner": {"reputation": 351, "user_id": 1410896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99429f4fccb8a0e050e7bb67a43d7c49?s=128&d=identicon&r=PG", "display_name": "rlecheta", "link": "https://stackoverflow.com/users/1410896/rlecheta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1042, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550926207, "creation_date": 1497730260, "last_edit_date": 1497773717, "question_id": 44608980, "link": "https://stackoverflow.com/questions/44608980/android-room-kotlin-pattern", "title": "Android Room + Kotlin pattern", "body": "<p>the Android Room documentation says that we should follow the singleton design pattern when instantiating an AppDatabase object.</p>\n\n<p>I was thinking about it, and I would like to know if its recommended to put the AppDatabase class inside my Application class. Or if I can use the Kotlin singleton for that.</p>\n\n<p>Let's say I have a DAO called CarroDAO and class CarrosDatabase that is a RoomDatabase.</p>\n\n<p>Is it ok to create a DatabaseManager class using a Kotlin object/singleton ?</p>\n\n<pre><code>object DatabaseManager {\n    private var dbInstance: CarrosDatabase\n\n    init {\n        val appContext = MyApplication.getInstance().applicationContext\n\n        dbInstance = Room.databaseBuilder(\n                appContext,\n                CarrosDatabase::class.java,\n                \"mybd.sqlite\")\n                .build()\n    }\n\n    fun getCarroDAO(): CarroDAO {\n        return dbInstance.carroDAO()\n    }\n}\n</code></pre>\n\n<p>So I can get the DAO class like this:</p>\n\n<pre><code>val dao = DatabaseManager.getCarroDAO()\n</code></pre>\n"}, {"tags": ["kotlin", "convention"], "comments": [{"owner": {"reputation": 14221, "user_id": 1212960, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b3f39c683b5fbe30dfed80b8782d0195?s=128&d=identicon&r=PG", "display_name": "Greg Kopff", "link": "https://stackoverflow.com/users/1212960/greg-kopff"}, "edited": false, "score": 1, "creation_date": 1497749100, "post_id": 44608595, "comment_id": 76208544, "body": "You&#39;ve used the <code>coding-style</code> tag, but it says: <i>DO NOT USE! This tag refers to an entirely opinionated subject and is therefore no longer on-topic</i>.  That would suggest that this question is therefore off-topic."}, {"owner": {"reputation": 141, "user_id": 3949509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4e3c0ef6331b08503f9782a0e55751?s=128&d=identicon&r=PG&f=1", "display_name": "LinusCDE", "link": "https://stackoverflow.com/users/3949509/linuscde"}, "reply_to_user": {"reputation": 14221, "user_id": 1212960, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b3f39c683b5fbe30dfed80b8782d0195?s=128&d=identicon&r=PG", "display_name": "Greg Kopff", "link": "https://stackoverflow.com/users/1212960/greg-kopff"}, "edited": false, "score": 0, "creation_date": 1497792465, "post_id": 44608595, "comment_id": 76217091, "body": "I removed the tag."}, {"owner": {"reputation": 14221, "user_id": 1212960, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b3f39c683b5fbe30dfed80b8782d0195?s=128&d=identicon&r=PG", "display_name": "Greg Kopff", "link": "https://stackoverflow.com/users/1212960/greg-kopff"}, "edited": false, "score": 0, "creation_date": 1497822992, "post_id": 44608595, "comment_id": 76225598, "body": "Your question remains one of coding <i>style</i>, which is off-topic for Stack Overflow these days.  You might try <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a>"}], "answers": [{"comments": [{"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1594737814, "post_id": 44677543, "comment_id": 111227443, "body": "I wanted to create such empty implementation as just a convenience to use callbacks that have many functions in them that I don&#39;t care about. But when I do use one, it always calls &quot;super&quot;. Is there a way to avoid it?"}], "tags": [], "owner": {"reputation": 11450, "user_id": 1533933, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/3UF7i.png?s=128&g=1", "display_name": "krossovochkin", "link": "https://stackoverflow.com/users/1533933/krossovochkin"}, "is_accepted": true, "score": 3, "last_activity_date": 1498051681, "creation_date": 1498051681, "answer_id": 44677543, "question_id": 44608595, "link": "https://stackoverflow.com/questions/44608595/coding-convention-for-empty-functions-that-need-to-be-overridden-in-kotlin/44677543#44677543", "title": "Coding convention for empty functions that need to be overridden in Kotlin", "body": "<p>You've added link to <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html\" rel=\"nofollow noreferrer\">Coding Conventions</a> where seems like actually there is an answer to your question</p>\n\n<blockquote>\n  <p>Unit</p>\n  \n  <p>If a function returns Unit, the return type should be omitted:</p>\n  \n  <p>fun foo() { // \": Unit\" is omitted here</p>\n  \n  <p>}</p>\n</blockquote>\n\n<p>So I believe</p>\n\n<pre><code>fun foo() {}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>fun foo() {\n}\n</code></pre>\n\n<p>should be the answer</p>\n"}], "owner": {"reputation": 141, "user_id": 3949509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc4e3c0ef6331b08503f9782a0e55751?s=128&d=identicon&r=PG&f=1", "display_name": "LinusCDE", "link": "https://stackoverflow.com/users/3949509/linuscde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3568, "favorite_count": 0, "accepted_answer_id": 44677543, "answer_count": 1, "score": 4, "last_activity_date": 1498051681, "creation_date": 1497727597, "last_edit_date": 1497792444, "question_id": 44608595, "link": "https://stackoverflow.com/questions/44608595/coding-convention-for-empty-functions-that-need-to-be-overridden-in-kotlin", "title": "Coding convention for empty functions that need to be overridden in Kotlin", "body": "<p>Accourding to the very short <a href=\"https://kotlinlang.org/docs/reference/coding-conventions.html\" rel=\"nofollow noreferrer\">Coding Conventions</a> there is no answer for the opimal way of writing down empty functions in Kotlin.</p>\n\n<p>Example:</p>\n\n<pre><code>ani.setAnimationListener(object: Animation.AnimationListener {\n\n    override fun onAnimationRepeat(animation: Animation?) = Unit\n    override fun onAnimationStart(animation: Animation?) {}\n\n    override fun onAnimationEnd(animation: Animation?) =\n        activity.runOnUiThread { loadLists() }\n})\n</code></pre>\n\n<p>Here only one of the 3 necessary Methods of AnimationListener (Android) is used.</p>\n\n<p>Which type of empty Method should be used?\n<a href=\"https://kotlinlang.org/docs/reference/functions.html#single-expression-functions\" rel=\"nofollow noreferrer\">Single Expression</a> (<code>fun name() = Unit</code>) or the traditional way used in Java (<code>fun name() {}</code>)?</p>\n\n<p>I personally like the <code>= Unit</code>-Way more because that seems to be meant the way of shorting functions down to one line. But <code>{}</code> is shorter yet older and probably more ugly.</p>\n\n<p>And is there any better/shorter way for doing this code?</p>\n"}, {"tags": ["android", "kotlin", "imagebutton"], "comments": [{"owner": {"reputation": 1617, "user_id": 5385758, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tOxyD.jpg?s=128&g=1", "display_name": "DaveNOTDavid", "link": "https://stackoverflow.com/users/5385758/davenotdavid"}, "edited": false, "score": 0, "creation_date": 1497738903, "post_id": 44607901, "comment_id": 76206697, "body": "Do you mind posting up the Activity class that opens up the fragment?"}, {"owner": {"reputation": 111, "user_id": 6350515, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-A82F7ueUUc4/AAAAAAAAAAI/AAAAAAAAAsE/TIPgbHJb-ag/photo.jpg?sz=128", "display_name": "Aran Moncusi Ramirez", "link": "https://stackoverflow.com/users/6350515/aran-moncusi-ramirez"}, "edited": false, "score": 0, "creation_date": 1497968942, "post_id": 44607901, "comment_id": 76297054, "body": "I haven&#39;t any reason for think that method run in other thread that UI, but I can&#39;t find any reason. Try to run your Toast in UI thread using <code>runOnUiThread</code>"}], "answers": [{"comments": [{"owner": {"reputation": 620, "user_id": 7879896, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/r7KcY.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/7879896/max"}, "edited": false, "score": 0, "creation_date": 1497725127, "post_id": 44608063, "comment_id": 76203209, "body": "yes, everything else works fine, the log confirms that :/ I&#39;m using the Application Inst to store &quot;global&quot; variables, that works fine too. Deleting this code doesn&#39;t change anything"}], "tags": [], "owner": {"reputation": 349, "user_id": 6181049, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0a3ef998bcdde02904a3f49a21ca388a?s=128&d=identicon&r=PG&f=1", "display_name": "Zhyano", "link": "https://stackoverflow.com/users/6181049/zhyano"}, "is_accepted": false, "score": 0, "last_activity_date": 1497836157, "last_edit_date": 1497836157, "creation_date": 1497724321, "answer_id": 44608063, "question_id": 44607901, "link": "https://stackoverflow.com/questions/44607901/imagebutton-onclicklistener-not-working/44608063#44608063", "title": "ImageButton OnClickListener not working", "body": "<p>First of all, do you even know that this code is executed? That the listener is set? Maybe try to use the <strong>Log class</strong> (should be the same in Kotlin as in Java).<br/>Also, </p>\n\n<pre><code>val result = MyAppApplication()\nvar money = result.money\n</code></pre>\n\n<p>looks suspicious to me. Are you trying to create a new Application instance?</p>\n"}, {"comments": [{"owner": {"reputation": 620, "user_id": 7879896, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/r7KcY.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/7879896/max"}, "edited": false, "score": 0, "creation_date": 1497730554, "post_id": 44608803, "comment_id": 76204799, "body": "it&#39;s in a fragment :/"}, {"owner": {"reputation": 1736, "user_id": 2688304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03f4a4c53dcfe9828b0d13726a683f49?s=128&d=identicon&r=PG", "display_name": "shiftpsh", "link": "https://stackoverflow.com/users/2688304/shiftpsh"}, "reply_to_user": {"reputation": 620, "user_id": 7879896, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/r7KcY.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/7879896/max"}, "edited": false, "score": 0, "creation_date": 1497730613, "post_id": 44608803, "comment_id": 76204816, "body": "@Foose It&#39;s possible to get view elements by calling <code>activity.findViewById(resId)</code> in your <code>Fragment</code>."}], "tags": [], "owner": {"reputation": 1736, "user_id": 2688304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03f4a4c53dcfe9828b0d13726a683f49?s=128&d=identicon&r=PG", "display_name": "shiftpsh", "link": "https://stackoverflow.com/users/2688304/shiftpsh"}, "is_accepted": false, "score": 1, "last_activity_date": 1497731970, "last_edit_date": 1497731970, "creation_date": 1497728984, "answer_id": 44608803, "question_id": 44607901, "link": "https://stackoverflow.com/questions/44607901/imagebutton-onclicklistener-not-working/44608803#44608803", "title": "ImageButton OnClickListener not working", "body": "<p>Try initializing your click listener in <code>onActivityCreated</code>. It's called after <code>onCreateView</code> so it'll ensure that <code>view</code> is inflated.</p>\n\n<pre><code>override fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n\n    val moneyButton: ImageButton = activity.findViewById(R.id.moneyBtn) as ImageButton\n    moneyButton.setOnClickListener {\n        Toast.makeText(activity, \"TESTING BUTTON CLICK 1\", Toast.LENGTH_SHORT).show()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1617, "user_id": 5385758, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/tOxyD.jpg?s=128&g=1", "display_name": "DaveNOTDavid", "link": "https://stackoverflow.com/users/5385758/davenotdavid"}, "is_accepted": false, "score": 0, "last_activity_date": 1497739157, "last_edit_date": 1497739157, "creation_date": 1497738854, "answer_id": 44610009, "question_id": 44607901, "link": "https://stackoverflow.com/questions/44607901/imagebutton-onclicklistener-not-working/44610009#44610009", "title": "ImageButton OnClickListener not working", "body": "<p>Strange, I just tried your code snippets on my platform, and the Toast pops up just fine... Try changing the first arg of Toast to view.context instead so it'd look something like:</p>\n\n<pre><code>Toast.makeText(view.context, \"TESTING BUTTON CLICK 1\", Toast.LENGTH_SHORT).show()\n</code></pre>\n\n<p>Let me know if that makes a difference.</p>\n"}, {"tags": [], "owner": {"reputation": 15274, "user_id": 4409113, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/0pAon.jpg?s=128&g=1", "display_name": "\u028d\u0473\u0452\u0abd\u0aef\u0e17", "link": "https://stackoverflow.com/users/4409113/%ca%8d%d1%b3%d1%92%e0%aa%bd%e0%ab%af%e0%b8%97"}, "is_accepted": false, "score": 1, "last_activity_date": 1534494521, "creation_date": 1534494521, "answer_id": 51891292, "question_id": 44607901, "link": "https://stackoverflow.com/questions/44607901/imagebutton-onclicklistener-not-working/51891292#51891292", "title": "ImageButton OnClickListener not working", "body": "<p>Had the same problem and it can be done like following codes:</p>\n\n<p>In your <code>Fragment</code>:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?,\n                                  savedInstanceState: Bundle?): View? {\n\n            val rootView = inflater.inflate(R.layout.fragment_home, container, false)\n            val imgViewButton = rootView.findViewById&lt;ImageButton&gt;(R.id.moneyBtn) // Use the current view\n\n            imgViewButton?.setOnClickListener() {\n\n            Toast.makeText(activity, \"Clicked!\", Toast.LENGTH_SHORT).show()\n\n        }\n\n\n        return rootView\n  }\n</code></pre>\n\n<p>The reason is the <code>View</code> which we weren't get it in the right way. But, with these codes, it sets the current <code>View</code> and then after all, returns the view which works perfectly.</p>\n"}], "owner": {"reputation": 620, "user_id": 7879896, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/r7KcY.png?s=128&g=1", "display_name": "Max", "link": "https://stackoverflow.com/users/7879896/max"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3171, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1534494521, "creation_date": 1497723384, "question_id": 44607901, "link": "https://stackoverflow.com/questions/44607901/imagebutton-onclicklistener-not-working", "title": "ImageButton OnClickListener not working", "body": "<p>So I have the following ImageButton in a fragment:</p>\n\n<pre><code>&lt;ImageButton\n            android:id=\"@+id/moneyBtn\"\n            style=\"@android:style/Widget.Holo.Light.ImageButton\"\n            android:layout_width=\"250dp\"\n            android:layout_height=\"250dp\"\n            android:layout_centerHorizontal=\"true\"\n            android:layout_marginTop=\"40dp\"\n            android:scaleType=\"fitCenter\"\n            android:adjustViewBounds=\"true\"\n            android:src=\"@drawable/monkey\"\n            android:background=\"@null\"/&gt;\n</code></pre>\n\n<p>And the following fragmentActivity.kt</p>\n\n<pre><code>class Home : Fragment()  {\n\n    override public fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val view: View? = inflater.inflate(R.layout.fragment_home, container, false)\n        val moneyButton: ImageButton = view?.findViewById(R.id.moneyBtn) as ImageButton\n\n\n        val result = MyAppApplication()\n        var money = result.money\n\n        moneyButton.setOnClickListener(View.OnClickListener {\n            Toast.makeText(activity, \"TESTING BUTTON CLICK 1\", Toast.LENGTH_SHORT).show()\n        })\n\n\n        return view\n    }\n</code></pre>\n\n<p>I also tried to use the \"normal\" Kotline setOnClickListener</p>\n\n<pre><code>moneyButton.setOnClickListener {\n            Toast.makeText(activity, \"TESTING BUTTON CLICK 1\", Toast.LENGTH_SHORT).show()\n        }\n</code></pre>\n\n<p>The App dosent crash and dosent freeze, it just dont work</p>\n\n<p>I also tried to replace the Toast with a throw, but that wont be exceuted either.\nMaybe you can find my mistake?</p>\n"}, {"tags": ["button", "libgdx", "kotlin"], "comments": [{"owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "edited": false, "score": 0, "creation_date": 1497726559, "post_id": 44607175, "comment_id": 76203686, "body": "I tested your code, Everything working fine as expected"}], "answers": [{"tags": [], "owner": {"reputation": 1199, "user_id": 6771212, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-m2cEKWwMe14/AAAAAAAAAAI/AAAAAAAAAGI/l4t5-eEO638/photo.jpg?sz=128", "display_name": "Dawid Fieluba", "link": "https://stackoverflow.com/users/6771212/dawid-fieluba"}, "is_accepted": false, "score": 0, "last_activity_date": 1497723128, "creation_date": 1497723128, "answer_id": 44607847, "question_id": 44607175, "link": "https://stackoverflow.com/questions/44607175/libgdx-button-up-down-no-effect/44607847#44607847", "title": "libgdx button up down no effect", "body": "<p>You have to update your button.\nThere is updateImage() function, but its protected so u have to do it using Stage.</p>\n\n<p>So here is what u do:</p>\n\n<ol>\n<li>Create stage.</li>\n<li>Add your button to stage.</li>\n<li><p>Call stage.draw() in render function.</p>\n\n<pre><code>...\nStage stage = new Stage();\n//create button\nstage.addActor(playButton);\n...\n\n\n@Override\npublic void render() {      \n    stage.draw();\n}\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 18740, "user_id": 3445320, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nvbJ7_WkXK4/AAAAAAAAAAI/AAAAAAAAABs/UVW5XWwJhyY/photo.jpg?sz=128", "display_name": "Abhishek Aryan", "link": "https://stackoverflow.com/users/3445320/abhishek-aryan"}, "is_accepted": true, "score": 1, "last_activity_date": 1497727550, "creation_date": 1497727550, "answer_id": 44608589, "question_id": 44607175, "link": "https://stackoverflow.com/questions/44607175/libgdx-button-up-down-no-effect/44608589#44608589", "title": "libgdx button up down no effect", "body": "<p>I've tested your code, that's working fine. Added complete text code :</p>\n\n<pre><code>class Main : ApplicationAdapter(){\n\n   internal lateinit var stage: Stage\n\n   override fun create() {\n\n    stage= Stage()\n    stage.setDebugAll(true)\n    Gdx.input.setInputProcessor(stage)\n\n    var skin= Skin()\n    var tex1 =Texture(\"badlogic.jpg\")\n    skin.add(\"up\", TextureRegion(tex1, 0, 0, 100, 50))\n    skin.add(\"down\", TextureRegion(tex1, 0, 96, 100, 50))\n\n    var playButton: ImageTextButton = ImageTextButton(\"Play The Game\", with(ImageTextButton.ImageTextButtonStyle()){\n\n        up = skin.getDrawable(\"up\")\n        down = skin.getDrawable(\"down\")\n        font = BitmapFont()\n        font.data.setScale(3f)\n        font.color = Color.ORANGE\n        this\n    });\n\n    playButton.setPosition(0F,100F)\n    playButton.addListener(object : ClickListener(){\n\n        override fun clicked(event: InputEvent?, x: Float, y: Float) {\n            print(\"clicked\")\n            super.clicked(event, x, y)\n        }\n    })\n\n    stage.addActor(playButton)\n  }\n\n  override fun render() {\n\n      Gdx.gl.glClearColor(1f, 0f, 0f, 1f)\n      Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT)\n\n      stage.draw()\n      stage.act()\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1347, "user_id": 1556088, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/e7f88fc222e59ee5272238f74adf9072?s=128&d=identicon&r=PG&f=1", "display_name": "resource8218", "link": "https://stackoverflow.com/users/1556088/resource8218"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 0, "accepted_answer_id": 44608589, "answer_count": 2, "score": 1, "last_activity_date": 1497727550, "creation_date": 1497718885, "last_edit_date": 1497726589, "question_id": 44607175, "link": "https://stackoverflow.com/questions/44607175/libgdx-button-up-down-no-effect", "title": "libgdx button up down no effect", "body": "<pre><code>val playTexture = assetManager?.get(A.image.gamePlayBtn, Texture::class.java)\n\nval skin: Skin = Skin()\nskin.add(\"up\", TextureRegion(playTexture, 0, 0, 296, 96))\nskin.add(\"down\", TextureRegion(playTexture, 0, 96, 296, 96))\n\nval playButton: ImageTextButton = ImageTextButton(\"PLAY THE GAME\", with(ImageTextButton.ImageTextButtonStyle()) {\n    up = skin.getDrawable(\"up\")\n    down = skin.getDrawable(\"down\")\n    font = BitmapFont()\n    font.data.setScale(3f)\n    font.color = Color.ORANGE\n    this\n})\n</code></pre>\n\n<p>OnClick events work ok, but there is no button background change for onClicked state(down). Where I'm wrong?</p>\n"}, {"tags": ["swing", "kotlin"], "comments": [{"owner": {"reputation": 1736, "user_id": 2688304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03f4a4c53dcfe9828b0d13726a683f49?s=128&d=identicon&r=PG", "display_name": "shiftpsh", "link": "https://stackoverflow.com/users/2688304/shiftpsh"}, "edited": false, "score": 0, "creation_date": 1497722247, "post_id": 44607112, "comment_id": 76202280, "body": "Did you try <code>@JvmStatic override fun createUI</code>?"}, {"owner": {"reputation": 315, "user_id": 315287, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cf0e06bb6f3d6870079f742bc83da053?s=128&d=identicon&r=PG", "display_name": "dimafeng", "link": "https://stackoverflow.com/users/315287/dimafeng"}, "reply_to_user": {"reputation": 1736, "user_id": 2688304, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03f4a4c53dcfe9828b0d13726a683f49?s=128&d=identicon&r=PG", "display_name": "shiftpsh", "link": "https://stackoverflow.com/users/2688304/shiftpsh"}, "edited": false, "score": 0, "creation_date": 1497730260, "post_id": 44607112, "comment_id": 76204718, "body": "@shiftpsh it&#39;s not applicable within the object declaration."}], "answers": [{"comments": [{"owner": {"reputation": 315, "user_id": 315287, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cf0e06bb6f3d6870079f742bc83da053?s=128&d=identicon&r=PG", "display_name": "dimafeng", "link": "https://stackoverflow.com/users/315287/dimafeng"}, "edited": false, "score": 0, "creation_date": 1497730962, "post_id": 44607751, "comment_id": 76204912, "body": "thank you for the reply. I&#39;m not sure that the bug you&#39;re referring to describes the same problem. I&#39;m using fallback to java as a workaround right now, but I&#39;m looking for a more solid approach."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 315, "user_id": 315287, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cf0e06bb6f3d6870079f742bc83da053?s=128&d=identicon&r=PG", "display_name": "dimafeng", "link": "https://stackoverflow.com/users/315287/dimafeng"}, "edited": false, "score": 0, "creation_date": 1497731617, "post_id": 44607751, "comment_id": 76205054, "body": "@dimafeng this is the actually <a href=\"https://youtrack.jetbrains.com/issue/KT-12993\" rel=\"nofollow noreferrer\">bug</a>."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 5, "last_activity_date": 1497731688, "last_edit_date": 1497731688, "creation_date": 1497722536, "answer_id": 44607751, "question_id": 44607112, "link": "https://stackoverflow.com/questions/44607112/kotlin-jvmstatic-and-accidental-override-in-a-companion-object/44607751#44607751", "title": "Kotlin @JvmStatic and accidental override in a companion object", "body": "<p>it's a kotlin <a href=\"https://youtrack.jetbrains.com/issue/KT-12993\" rel=\"nofollow noreferrer\">bug KT-12993</a>. Unfortunately, the bug is not fixed yet. just using <a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged &#39;java&#39;\" rel=\"tag\">java</a> implements your <code>ButtonUI</code> or switch between <a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged &#39;java&#39;\" rel=\"tag\">java</a> and kotlin to solving the problem if you want to let kotlin implements your ui logic. for example, you should define a <strong>peer</strong> between <a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged &#39;java&#39;\" rel=\"tag\">java</a> and kotlin.</p>\n\n<p>the java code as below:</p>\n\n<pre><code>public class ButtonUI extends BasicButtonUI {\n    private ButtonUIPeer peer;\n\n    public ButtonUI(ButtonUIPeer peer) {\n        this.peer = peer;\n    }\n\n    @Override\n    public void installUI(JComponent c) {\n        peer.installUI(c, () -&gt; super.installUI(c));\n    }\n\n    // override other methods ...\n\n\n    public static ComponentUI createUI(JComponent c) {\n        // create the peer which write by kotlin \n        //                        |\n        return new ButtonUI(new YourButtonUIPeer());\n    }\n}\n\n\ninterface ButtonUIPeer {\n    void installUI(Component c, Runnable parentCall);\n    //adding other methods for the ButtonUI\n}\n</code></pre>\n\n<p>the kotlin code as below:</p>\n\n<pre><code>class YourButtonUIPeer : ButtonUIPeer {\n    override fun installUI(c: Component, parentCall: Runnable) {\n      // todo: implements your own ui logic\n    }\n}\n</code></pre>\n\n<p><strong>IF</strong> you have more than half dozen methods to implements, you can using the <a href=\"https://en.wikipedia.org/wiki/Proxy_pattern\" rel=\"nofollow noreferrer\">Proxy Design Pattern</a> just delegate request to the target <code>ButtonUI</code> which implemented in kotlin (many IDE support generates delegate methods for a field). for example:</p>\n\n<pre><code>public class ButtonUIProxy extends BasicButtonUI {\n    private final BasicButtonUI target;\n    //1. move the cursor to here ---^\n    //2. press `ALT+INSERT`\n    //3. choose `Delegate Methods` \n    //4. select all public methods and then click `OK`\n\n    public ButtonUIProxy(BasicButtonUI target) {\n        this.target = target;\n    }\n\n    public static ComponentUI createUI(JComponent c){\n        // class created by kotlin     ---v\n        return new ButtonUIProxy(new ButtonUI());\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 4251936, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-1XqIOUXLPn0/AAAAAAAAAAI/AAAAAAAACVU/E_6GZM24vUA/photo.jpg?sz=128", "display_name": "Piotr Tomiak", "link": "https://stackoverflow.com/users/4251936/piotr-tomiak"}, "is_accepted": false, "score": 1, "last_activity_date": 1589555946, "creation_date": 1589555946, "answer_id": 61822636, "question_id": 44607112, "link": "https://stackoverflow.com/questions/44607112/kotlin-jvmstatic-and-accidental-override-in-a-companion-object/61822636#61822636", "title": "Kotlin @JvmStatic and accidental override in a companion object", "body": "<p>In latest version of Kotlin 1.3.70 the error can be suppressed with <code>@Suppress(\"ACCIDENTAL_OVERRIDE\")</code>. I am not sure since which version it works.</p>\n"}], "owner": {"reputation": 315, "user_id": 315287, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cf0e06bb6f3d6870079f742bc83da053?s=128&d=identicon&r=PG", "display_name": "dimafeng", "link": "https://stackoverflow.com/users/315287/dimafeng"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 866, "favorite_count": 1, "answer_count": 2, "score": 7, "last_activity_date": 1589555946, "creation_date": 1497718461, "question_id": 44607112, "link": "https://stackoverflow.com/questions/44607112/kotlin-jvmstatic-and-accidental-override-in-a-companion-object", "title": "Kotlin @JvmStatic and accidental override in a companion object", "body": "<p>I'm working on a Swing look&amp;feel using kotlin. In order to create a UI, Swing requires to have a static method <code>createUI</code> with the following signature:</p>\n\n\n\n<pre><code>class ButtonUI: BasicButtonUI() {\n    ...\n    companion object {\n        @JvmStatic fun createUI(p0: JComponent): ComponentUI {\n           ...\n        }\n    }\n}\n</code></pre>\n\n<p>and then it is called via reflection in Swing code:</p>\n\n<pre><code>m = uiClass.getMethod(\"createUI\", new Class[]{JComponent.class});\n</code></pre>\n\n<p>Unfortunately, the code above cannot be compiled by the kotlin compiler because of:</p>\n\n<pre><code>Error:(88, 9) Kotlin: Accidental override: The following declarations have the same JVM signature (createUI(Ljavax/swing/JComponent;)Ljavax/swing/plaf/ComponentUI;):\n    fun createUI(c: JComponent): ComponentUI\n    fun createUI(p0: JComponent!): ComponentUI!\n</code></pre>\n\n<p>Is there a workaround for this case?</p>\n"}, {"tags": ["reflection", "kotlin", "getter"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1497717826, "post_id": 44606888, "comment_id": 76200937, "body": "You recursively calling the getter for <code>p</code>. What is it that you want to achieve?"}, {"owner": {"reputation": 133, "user_id": 1586359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b8087343cd747337b693750f7f35180?s=128&d=identicon&r=PG", "display_name": "Malkaviano", "link": "https://stackoverflow.com/users/1586359/malkaviano"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1497718237, "post_id": 44606888, "comment_id": 76201060, "body": "I suspect that was the case, I want help to implement the getter via reflection/delegation."}], "answers": [{"comments": [{"owner": {"reputation": 133, "user_id": 1586359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b8087343cd747337b693750f7f35180?s=128&d=identicon&r=PG", "display_name": "Malkaviano", "link": "https://stackoverflow.com/users/1586359/malkaviano"}, "edited": false, "score": 0, "creation_date": 1497719086, "post_id": 44607189, "comment_id": 76201343, "body": "Okay, I approached the example from the wrong angle, it&#39;s intended to show how to keep the state outside the Class? Like building a Repository or something. I really got this fixed idea of accessing the Delegator state, now thinking clearly it makes little sense."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "reply_to_user": {"reputation": 133, "user_id": 1586359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b8087343cd747337b693750f7f35180?s=128&d=identicon&r=PG", "display_name": "Malkaviano", "link": "https://stackoverflow.com/users/1586359/malkaviano"}, "edited": false, "score": 0, "creation_date": 1497719199, "post_id": 44607189, "comment_id": 76201367, "body": "@Malkaviano Not all right. you can decide how to implement the <code>Delegate</code>."}, {"owner": {"reputation": 133, "user_id": 1586359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b8087343cd747337b693750f7f35180?s=128&d=identicon&r=PG", "display_name": "Malkaviano", "link": "https://stackoverflow.com/users/1586359/malkaviano"}, "edited": false, "score": 0, "creation_date": 1497723848, "post_id": 44607189, "comment_id": 76202809, "body": "Can&#39;t edit my comment, I made a translation mistake. By &quot;fixed idea&quot; I meant rigid thinking."}], "tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 2, "last_activity_date": 1497719087, "last_edit_date": 1497719087, "creation_date": 1497718986, "answer_id": 44607189, "question_id": 44606888, "link": "https://stackoverflow.com/questions/44606888/kotlin-reflection-operator-get-implementation/44607189#44607189", "title": "Kotlin Reflection operator get implementation", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html#translation-rules\" rel=\"nofollow noreferrer\">Translation Rule</a> says:</p>\n\n<blockquote>\n  <p>For instance, for the property <code>prop</code> the hidden property <code>prop$delegate</code> is generated, and the code of the accessors(<strong>getter/setter</strong>) simply delegates to this additional property.</p>\n</blockquote>\n\n<p>so the kotlin <em>property</em> will dispatch the <em>getter/setter</em> to the <code>delegator</code>. when you <em>get/set</em> the value on a <em>property</em> around in the delegate handlers (<em>getValue/setValue</em>) will result in recursive call. </p>\n\n<p>your <code>Delegate</code> should more like this:</p>\n\n<pre><code>class Delegate&lt;T&gt; {\n\n    private var value: T? = null;\n    //           ^--- store the proeprty value internal\n\n    operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T {\n        return value ?: throw UninitializedPropertyAccessException();\n    }\n\n    operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: T) {\n        this.value = value;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 133, "user_id": 1586359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b8087343cd747337b693750f7f35180?s=128&d=identicon&r=PG", "display_name": "Malkaviano", "link": "https://stackoverflow.com/users/1586359/malkaviano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 411, "favorite_count": 0, "accepted_answer_id": 44607189, "answer_count": 1, "score": 0, "last_activity_date": 1497719087, "creation_date": 1497717139, "question_id": 44606888, "link": "https://stackoverflow.com/questions/44606888/kotlin-reflection-operator-get-implementation", "title": "Kotlin Reflection operator get implementation", "body": "<p>I'm learning Kotlin, current using Fedora 25 OpenJDK 8 and Kotlin 1.1.</p>\n\n<p>I copied the example from the Kotlin website: <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/delegated-properties.html</a> and changed the get operator.</p>\n\n<pre><code>class Example {\nvar p: String by Delegate()\n}\n\nclass Delegate {\n    operator fun getValue(thisRef: Any?, property: KProperty&lt;*&gt;): String {\n        // My implementation\n        return property.getter.call(thisRef) as String\n    }\n\n    operator fun setValue(thisRef: Any?, property: KProperty&lt;*&gt;, value: String) {\n        println(\"$value has been assigned to '${property.name} in $thisRef.'\")\n    }\n}\n</code></pre>\n\n<p>Reading the Reflection documentation the getter expects the object instance and no other parameter, but I only achieved the following error.\n(Error is abbreviate because it's too big, it's in recursion.)</p>\n\n<pre><code>.\n.\n.\nat info.malk.Example.getP(Delegation.kt)\nat sun.reflect.GeneratedMethodAccessor1.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat kotlin.reflect.jvm.internal.FunctionCaller$Method.callMethod(FunctionCaller.kt:98)\nat kotlin.reflect.jvm.internal.FunctionCaller$InstanceMethod.call(FunctionCaller.kt:115)\nat kotlin.reflect.jvm.internal.KCallableImpl.call(KCallableImpl.kt:107)\nat info.malk.Delegate.getValue(Delegation.kt:32)\nat info.malk.Example.getP(Delegation.kt)\n.\n.\n.\nCaused by: java.lang.reflect.InvocationTargetException\n    ... 1024 more\nCaused by: java.lang.StackOverflowError\n    ... 1024 more\n\nProcess finished with exit code 1\n</code></pre>\n\n<p>Help.</p>\n"}, {"tags": ["android", "intellij-idea", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 5339360, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4bd6122a281ce85be20fa0b56c63c433?s=128&d=identicon&r=PG", "display_name": "tuniprocoder", "link": "https://stackoverflow.com/users/5339360/tuniprocoder"}, "edited": false, "score": 0, "creation_date": 1497713427, "post_id": 44606267, "comment_id": 76199594, "body": "I have added AndroidMAnifest in my question just now"}], "tags": [], "owner": {"reputation": 1, "user_id": 8176304, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EBAvz1wTAy8/AAAAAAAAAAI/AAAAAAAAAYQ/knE995hmC3Y/photo.jpg?sz=128", "display_name": "Walnuts and Bolts", "link": "https://stackoverflow.com/users/8176304/walnuts-and-bolts"}, "is_accepted": false, "score": 0, "last_activity_date": 1497713237, "creation_date": 1497713237, "answer_id": 44606267, "question_id": 44606240, "link": "https://stackoverflow.com/questions/44606240/pockemon-go-turned-to-empty-map/44606267#44606267", "title": "Pockemon Go turned to Empty Map", "body": "<p>Check your permissions in settings - If the app does not have permission to use your location, it might show up blank.</p>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 5339360, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4bd6122a281ce85be20fa0b56c63c433?s=128&d=identicon&r=PG", "display_name": "tuniprocoder", "link": "https://stackoverflow.com/users/5339360/tuniprocoder"}, "edited": false, "score": 0, "creation_date": 1497714233, "post_id": 44606381, "comment_id": 76199811, "body": "I have done that , the map is shown but the Pokemons are not shown neither the player"}, {"owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "reply_to_user": {"reputation": 19, "user_id": 5339360, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4bd6122a281ce85be20fa0b56c63c433?s=128&d=identicon&r=PG", "display_name": "tuniprocoder", "link": "https://stackoverflow.com/users/5339360/tuniprocoder"}, "edited": false, "score": 0, "creation_date": 1497714647, "post_id": 44606381, "comment_id": 76199926, "body": "I have found a problem with your code. Updating my answer soon."}], "tags": [], "owner": {"reputation": 6041, "user_id": 5138921, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/5f202e6926526d8b4ad819de30504e1f?s=128&d=identicon&r=PG&f=1", "display_name": "Alf Moh", "link": "https://stackoverflow.com/users/5138921/alf-moh"}, "is_accepted": false, "score": 0, "last_activity_date": 1497714710, "last_edit_date": 1497714710, "creation_date": 1497714106, "answer_id": 44606381, "question_id": 44606240, "link": "https://stackoverflow.com/questions/44606240/pockemon-go-turned-to-empty-map/44606381#44606381", "title": "Pockemon Go turned to Empty Map", "body": "<ol>\n<li>Get a Google Map Api key.</li>\n<li>Make sure you select the Map template when creating your app.</li>\n<li>After creating your app, change your app from debug to release.</li>\n<li>Now go to <code>google_maps_api.xml</code> and insert your api key into a\nspecified potion in the file that tells you to replace the\n\"<code>google_maps_key</code>\" there.</li>\n</ol>\n\n<p>Rebuild and run your app. The map should be showing now. </p>\n\n<p>To make the Pokemons show, Your <code>LoadPokemon()</code> function call should be in the <code>checkPermission(){}</code> function after <code>GetUserLocation()</code> and not in the <code>onCreate()</code> function.</p>\n"}], "owner": {"reputation": 19, "user_id": 5339360, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4bd6122a281ce85be20fa0b56c63c433?s=128&d=identicon&r=PG", "display_name": "tuniprocoder", "link": "https://stackoverflow.com/users/5339360/tuniprocoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1497714710, "creation_date": 1497713010, "last_edit_date": 1497713401, "question_id": 44606240, "link": "https://stackoverflow.com/questions/44606240/pockemon-go-turned-to-empty-map", "title": "Pockemon Go turned to Empty Map", "body": "<p>I am working on android App using Kotlin Language that is similar to Pokemon Go,\nThere is no problems in the App  but when I installed it in my phone , only an empty Map is shown and the person is not going to my location How can I solve that ?</p>\n\n<p>MapsActivity.tkt</p>\n\n<pre><code>package ahmedchtn.pockemontn\n\nimport android.content.Context\nimport android.content.pm.PackageManager\nimport android.location.Location\nimport android.location.LocationListener\nimport android.location.LocationManager\nimport android.os.Build\nimport android.support.v4.app.FragmentActivity\nimport android.os.Bundle\nimport android.support.v4.app.ActivityCompat\nimport android.widget.Toast\n\nimport com.google.android.gms.maps.CameraUpdateFactory\nimport com.google.android.gms.maps.GoogleMap\nimport com.google.android.gms.maps.OnMapReadyCallback\nimport com.google.android.gms.maps.SupportMapFragment\nimport com.google.android.gms.maps.model.BitmapDescriptor\nimport com.google.android.gms.maps.model.BitmapDescriptorFactory\nimport com.google.android.gms.maps.model.LatLng\nimport com.google.android.gms.maps.model.MarkerOptions\n\n\nclass MapsActivity : FragmentActivity(), OnMapReadyCallback {\n\n    //WORK WITH USER LOCATION\n\n\n    private var mMap: GoogleMap? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_maps)\n        // Obtain the SupportMapFragment and get notified when the map is ready to be used.\n        val mapFragment = supportFragmentManager\n                .findFragmentById(R.id.map) as SupportMapFragment\n        mapFragment.getMapAsync(this)\n\n\n        checkPermmison()\n        LoadPockemon()\n    }\n\n    var ACCESSLOCATION = 123\n    fun checkPermmison() {\n\n        if (Build.VERSION.SDK_INT &gt;= 23) {\n\n            if (ActivityCompat.\n                    checkSelfPermission(this,\n                            android.Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\n\n                requestPermissions(arrayOf(android.Manifest.permission.ACCESS_FINE_LOCATION), ACCESSLOCATION)\n                return\n            }\n        }\n\n        GetUserLocation()\n    }\n\n    fun GetUserLocation() {\n        Toast.makeText(this, \"User location access on\", Toast.LENGTH_LONG).show()\n        //TODO: Will implement later\n\n        var myLocation = MylocationListener()\n\n        var locationManager = getSystemService(Context.LOCATION_SERVICE) as LocationManager\n\n        locationManager.requestLocationUpdates(LocationManager.GPS_PROVIDER, 3, 3f, myLocation)\n\n        var mythread = myThread()\n        mythread.start()\n    }\n\n    override fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n\n        when (requestCode) {\n\n            ACCESSLOCATION -&gt; {\n\n                if (grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    GetUserLocation()\n                } else {\n                    Toast.makeText(this, \"We cannot access to your location\", Toast.LENGTH_LONG).show()\n                }\n            }\n        }\n\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults)\n    }\n\n\n    /**\n     * Manipulates the map once available.\n     * This callback is triggered when the map is ready to be used.\n     * This is where we can add markers or lines, add listeners or move the camera. In this case,\n     * we just add a marker near Sydney, Australia.\n     * If Google Play services is not installed on the device, the user will be prompted to install\n     * it inside the SupportMapFragment. This method will only be triggered once the user has\n     * installed Google Play services and returned to the app.\n     */\n    override fun onMapReady(googleMap: GoogleMap) {\n        mMap = googleMap\n\n\n    }\n\n    var location: Location? = null\n\n    //Get user location\n\n    inner class MylocationListener : LocationListener {\n\n\n        constructor() {\n            location = Location(\"Start\")\n            location!!.longitude = 0.0\n            location!!.longitude = 0.0\n        }\n\n        override fun onLocationChanged(p0: Location?) {\n            location = p0\n        }\n\n        override fun onStatusChanged(p0: String?, p1: Int, p2: Bundle?) {\n            //TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n\n        override fun onProviderEnabled(p0: String?) {\n            // TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n\n        override fun onProviderDisabled(p0: String?) {\n            //TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n        }\n\n    }\n\n\n    var oldLocation: Location? = null\n\n    inner class myThread : Thread {\n\n        constructor() : super() {\n            oldLocation = Location(\"Start\")\n            oldLocation!!.longitude = 0.0\n            oldLocation!!.longitude = 0.0\n        }\n\n        override fun run() {\n\n            while (true) {\n\n                try {\n\n                    if (oldLocation!!.distanceTo(location) == 0f) {\n                        continue\n                    }\n\n                    oldLocation = location\n\n\n                    runOnUiThread {\n\n\n                        mMap!!.clear()\n\n                        // show me\n                        val sydney = LatLng(location!!.latitude, location!!.longitude)\n                        mMap!!.addMarker(MarkerOptions()\n                                .position(sydney)\n                                .title(\"Me\")\n                                .snippet(\" here is my location\")\n                                .icon(BitmapDescriptorFactory.fromResource(R.drawable.naruto)))\n                        mMap!!.moveCamera(CameraUpdateFactory.newLatLngZoom(sydney, 14f))\n\n                        // show pockemons\n\n                        for (i in 0..listPockemons.size - 1) {\n\n                            var newPockemon = listPockemons[i]\n\n                            if (newPockemon.IsCatch == false) {\n\n                                val pockemonLoc = LatLng(newPockemon.location!!.latitude, newPockemon.location!!.longitude)\n                                mMap!!.addMarker(MarkerOptions()\n                                        .position(pockemonLoc)\n                                        .title(newPockemon.name!!)\n                                        .snippet(newPockemon.des!! + \", power:\" + newPockemon!!.power)\n                                        .icon(BitmapDescriptorFactory.fromResource(newPockemon.image!!)))\n\n\n                                if (location!!.distanceTo(newPockemon.location) &lt; 2) {\n                                    newPockemon.IsCatch = true\n                                    listPockemons[i] = newPockemon\n                                    playerPower += newPockemon.power!!\n                                    Toast.makeText(applicationContext,\n                                            \"You catch new pockemon your new pwoer is \" + playerPower,\n                                            Toast.LENGTH_LONG).show()\n\n                                }\n\n                            }\n                        }\n\n                    }\n\n                    Thread.sleep(1000)\n\n                } catch (ex: Exception) {\n                }\n\n\n            }\n\n        }\n\n    }\n\n\n    var playerPower = 0.0\n    var listPockemons = ArrayList&lt;Pockemon&gt;()\n\n    fun LoadPockemon() {\n\n\n        listPockemons.add(Pockemon(R.drawable.charmandertn,\n                \"Charmander\", \"Charmander living in japan\", 55.0, 35.687997, 10.085267))\n        listPockemons.add(Pockemon(R.drawable.bulbasaurtn,\n                \"Bulbasaur\", \"Bulbasaur living in usa\", 90.5, 35.687657, 10.084838))\n        listPockemons.add(Pockemon(R.drawable.squirtletn,\n                \"Squirtle\", \"Squirtle living in iraq\", 33.5, 35.687552, 10.084623))\n\n    }\n\n}\n</code></pre>\n\n<p>Pockemon.tkt</p>\n\n<pre><code>package ahmedchtn.pockemontn\n\nimport android.location.Location\n\n/**\n * Created by Ahmed on 17-06-2017.\n */\n\nclass  Pockemon{\n    var name:String?=null\n    var des:String?=null\n    var image:Int?=null\n    var power:Double?=null\n    var location:Location?=null\n    var IsCatch:Boolean?=false\n    constructor(image:Int,name:String,des:String,power:Double,lat:Double,log:Double){\n        this.name=name\n        this.des=des\n        this.image=image\n        this.power=power\n        this.location= Location(name)\n        this.location!!.latitude=lat\n        this.location!!.longitude=log\n        this.IsCatch=false\n    }\n\n}\n</code></pre>\n\n<p>AndroidManifest</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"ahmedchtn.pockemontn\"&gt;\n    &lt;!--\n         The ACCESS_COARSE/FINE_LOCATION permissions are not required to use\n         Google Maps Android API v2, but you must specify either coarse or fine\n         location permissions for the 'MyLocation' functionality. \n    --&gt;\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n    &lt;uses-permission android:name=\"android.permission.ACCESS_FINE_LOCATION\"/&gt;\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;!--\n             The API key for Google Maps-based APIs is defined as a string resource.\n             (See the file \"res/values/google_maps_api.xml\").\n             Note that the API key is linked to the encryption key used to sign the APK.\n             You need a different API key for each encryption key, including the release key that is used to\n             sign the APK for publishing.\n             You can define the keys for the debug and release targets in src/debug/ and src/release/. \n        --&gt;\n        &lt;meta-data\n            android:name=\"com.google.android.geo.API_KEY\"\n            android:value=\"@string/google_maps_key\" /&gt;\n\n        &lt;activity\n            android:name=\".MapsActivity\"\n            android:label=\"@string/title_activity_maps\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Thanks in advance !</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 356, "user_id": 6883162, "user_type": "registered", "profile_image": "https://graph.facebook.com/1219864271419492/picture?type=large", "display_name": "San Ko Ko", "link": "https://stackoverflow.com/users/6883162/san-ko-ko"}, "edited": false, "score": 1, "creation_date": 1497707881, "post_id": 44604725, "comment_id": 76197908, "body": "may be duplicate question of <a href=\"https://stackoverflow.com/questions/33428957/kotlin-public-get-private-set-var\" title=\"kotlin public get private set var\">stackoverflow.com/questions/33428957/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7287, "user_id": 258848, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2Ckug.jpg?s=128&g=1", "display_name": "dimsuz", "link": "https://stackoverflow.com/users/258848/dimsuz"}, "is_accepted": false, "score": 0, "last_activity_date": 1497794286, "creation_date": 1497794286, "answer_id": 44615738, "question_id": 44604725, "link": "https://stackoverflow.com/questions/44604725/inline-setter-or-not-to-create-unused-setter-in-kotlin/44615738#44615738", "title": "Inline setter or Not to create unused setter in Kotlin?", "body": "<p>You can annotate value with <code>@JvmField</code> annotation to instruct kotlin compiler to not generate a getter/setter pair for it:</p>\n\n<pre><code>@JvmField\nprivate var name: String = \"Joshua\"\n</code></pre>\n\n<p>Also, for vals, if you have a <code>private val</code>, compiler won't generate a getter for it and produce a bytecode which would have it as an ordinary field.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user4003256"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1497794286, "creation_date": 1497703006, "question_id": 44604725, "link": "https://stackoverflow.com/questions/44604725/inline-setter-or-not-to-create-unused-setter-in-kotlin", "title": "Inline setter or Not to create unused setter in Kotlin?", "body": "<p>I noticed that Kotlin create <strong>setter</strong> for <strong>var</strong>, and set value via <strong>setter</strong> instead of set it directly. Can we make setter <strong>inline</strong>? or set value directly without create <strong>private setter</strong> method by default?</p>\n\n<pre><code>lateinit var name: String\n    private set\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1497703362, "post_id": 44604635, "comment_id": 76196507, "body": "Yes, but the question mentions declaring it with an unsigned byte I added the part about using <code>Char</code>. <code>-1</code> would be the correct answer with signed bytes."}, {"owner": {"reputation": 1038, "user_id": 5858238, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/a1hN4.png?s=128&g=1", "display_name": "nyconing", "link": "https://stackoverflow.com/users/5858238/nyconing"}, "edited": false, "score": 0, "creation_date": 1497799282, "post_id": 44604635, "comment_id": 76219171, "body": "<code>0xFF.toByte()</code> did the thing. appreciate."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": true, "score": 16, "last_activity_date": 1497702377, "creation_date": 1497702377, "answer_id": 44604635, "question_id": 44604555, "link": "https://stackoverflow.com/questions/44604555/declaring-byte-in-kotlin-does-compile-time-error-the-integer-literal-does-not-c/44604635#44604635", "title": "Declaring Byte in Kotlin does compile-time error &#39;The integer literal does not conform to the expected type Byte&#39;", "body": "<p>Kotlin doesn't automatically convert between number types.</p>\n\n<p>If you do <code>val b:Byte = 0xFF.toByte()</code> then it compiles and results in a byte with value <code>-1</code>.</p>\n\n<p>If you want to hold the unsigned byte value then you need to store it as a <code>Char</code>, but you will need to convert it to another type to print it as a number:</p>\n\n<pre><code>val b = 0xFF.toChar()\nprintln(b.toInt())\n</code></pre>\n"}], "owner": {"reputation": 1038, "user_id": 5858238, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/a1hN4.png?s=128&g=1", "display_name": "nyconing", "link": "https://stackoverflow.com/users/5858238/nyconing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8698, "favorite_count": 3, "accepted_answer_id": 44604635, "answer_count": 1, "score": 11, "last_activity_date": 1497702377, "creation_date": 1497701854, "last_edit_date": 1497702263, "question_id": 44604555, "link": "https://stackoverflow.com/questions/44604555/declaring-byte-in-kotlin-does-compile-time-error-the-integer-literal-does-not-c", "title": "Declaring Byte in Kotlin does compile-time error &#39;The integer literal does not conform to the expected type Byte&#39;", "body": "<p>As seen another question in <a href=\"https://stackoverflow.com/questions/33023949/0xff0000ff-an-integer-literal-does-not-conform-to-the-expected-type-kotlin-int\">0xFF0000FF An integer literal does not conform to the expected type kotlin.Int</a></p>\n\n<p>I declaring value 0xFF as Byte</p>\n\n<p><code>val b:Byte = 0xFF</code></p>\n\n<p>receiving <strong><em>The integer literal does not conform to the expected type Byte</em></strong> compile error</p>\n\n<p>Since I have clue about <code>kotlin.Byte</code> <strong>is signed byte</strong></p>\n\n<p>How to declaring Byte in Kotlin with <code>0x00</code> - <code>0xFF</code> unsigned byte just like <a href=\"/questions/tagged/.net\" class=\"post-tag\" title=\"show questions tagged &#39;.net&#39;\" rel=\"tag\">.net</a> <code>Byte b = 0xFF</code> ?</p>\n\n<p>.</p>\n\n<p>.</p>\n\n<p>If you want instant compiler for testing and answer:</p>\n\n<p><a href=\"http://rextester.com/l/kotlin_online_compiler\" rel=\"noreferrer\">rextester</a> , <a href=\"https://try.kotlinlang.org/\" rel=\"noreferrer\">try.kotlinlang.org</a></p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "answers": [{"comments": [{"owner": {"reputation": 265, "user_id": 5884505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a00b028666506a00b645bfffe6f0a42b?s=128&d=identicon&r=PG&f=1", "display_name": "omer tamir", "link": "https://stackoverflow.com/users/5884505/omer-tamir"}, "edited": false, "score": 0, "creation_date": 1497704349, "post_id": 44604477, "comment_id": 76196822, "body": "ty you so much !! you save my day ."}, {"owner": {"reputation": 157, "user_id": 3314615, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/KtDsB.jpg?s=128&g=1", "display_name": "ClayHerendeen", "link": "https://stackoverflow.com/users/3314615/clayherendeen"}, "edited": false, "score": 0, "creation_date": 1555083170, "post_id": 44604477, "comment_id": 97998833, "body": "Thanks! The built in Java to Kotlin converter in Android Studio converted it to a non nullable Bundle and this worked."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 32, "last_activity_date": 1497701386, "creation_date": 1497701386, "answer_id": 44604477, "question_id": 44604156, "link": "https://stackoverflow.com/questions/44604156/kotlin-custom-dialog-parameter-specified-as-non-null/44604477#44604477", "title": "Kotlin custom dialog Parameter specified as non-null", "body": "<p><code>override fun onCreate(savedInstanceState: Bundle) {</code></p>\n\n<p>Since <code>savedInstanceState</code> can be <code>null</code> the type has to be <code>Bundle?</code>.</p>\n\n<p>When you specify that a parameter is not null then kotlin generates a check in all cases. This includes when implementing a Java interface so you need to be careful about making nullable parameters non-null.</p>\n"}, {"comments": [{"owner": {"reputation": 265, "user_id": 5884505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a00b028666506a00b645bfffe6f0a42b?s=128&d=identicon&r=PG&f=1", "display_name": "omer tamir", "link": "https://stackoverflow.com/users/5884505/omer-tamir"}, "edited": false, "score": 0, "creation_date": 1497704194, "post_id": 44604522, "comment_id": 76196773, "body": "it is still crashing :/"}], "tags": [], "owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "is_accepted": false, "score": -2, "last_activity_date": 1497701580, "creation_date": 1497701580, "answer_id": 44604522, "question_id": 44604156, "link": "https://stackoverflow.com/questions/44604156/kotlin-custom-dialog-parameter-specified-as-non-null/44604522#44604522", "title": "Kotlin custom dialog Parameter specified as non-null", "body": "<p>change this line</p>\n\n<pre><code>  activity.window!!.setLayout(WindowManager.LayoutParams.MATCH_PARENT,\n            WindowManager.LayoutParams.MATCH_PARENT)\n</code></pre>\n\n<p>to</p>\n\n<pre><code>if(activity.window != null) { \n     activity.window!!.setLayout(WindowManager.LayoutParams.MATCH_PARENT,\n               WindowManager.LayoutParams.MATCH_PARENT) \n} else {\n     Log.e(TAG, \"Window is null\");\n} \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 201, "user_id": 5978486, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2c57b4a3422a5cea4fdf53623d5fde2?s=128&d=identicon&r=PG&f=1", "display_name": "humanheima", "link": "https://stackoverflow.com/users/5978486/humanheima"}, "is_accepted": false, "score": 12, "last_activity_date": 1515747319, "last_edit_date": 1515747319, "creation_date": 1515735265, "answer_id": 48220144, "question_id": 44604156, "link": "https://stackoverflow.com/questions/44604156/kotlin-custom-dialog-parameter-specified-as-non-null/48220144#48220144", "title": "Kotlin custom dialog Parameter specified as non-null", "body": "<p>I also meet the error ,I changed the type <code>Bundle</code> to <code>\"Bundle?\"</code>.Then it workd for me. In Kotlin you have to specify if the variable/parameter is null or not.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    init()\n}\n</code></pre>\n"}], "owner": {"reputation": 265, "user_id": 5884505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a00b028666506a00b645bfffe6f0a42b?s=128&d=identicon&r=PG&f=1", "display_name": "omer tamir", "link": "https://stackoverflow.com/users/5884505/omer-tamir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5010, "favorite_count": 1, "answer_count": 3, "score": 15, "last_activity_date": 1515747319, "creation_date": 1497699442, "last_edit_date": 1497699518, "question_id": 44604156, "link": "https://stackoverflow.com/questions/44604156/kotlin-custom-dialog-parameter-specified-as-non-null", "title": "Kotlin custom dialog Parameter specified as non-null", "body": "<p>I got this error : </p>\n\n<blockquote>\n  <p>Caused by: java.lang.IllegalArgumentException: Parameter specified as\n  non-null is null: method\n  kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter\n  savedInstanceState</p>\n</blockquote>\n\n<p>When i am trying to inflate a custom dialog in Kotlin\n, i got the error i wrote above on the super.onCreate line in the dialog.</p>\n\n<p>the dialog code is : </p>\n\n<pre><code>class Custom_Dialog_Exit_App(var activity: Activity)// TODO Auto-generated constructor stub\n    : Dialog(activity, R.style.full_screen_dialog) {\n\n    override fun onCreate(savedInstanceState: Bundle) {\n        super.onCreate(savedInstanceState)\n        requestWindowFeature(Window.FEATURE_NO_TITLE)\n        setContentView(R.layout.custom_dialog_exit_app)\n        activity.window!!.setLayout(WindowManager.LayoutParams.MATCH_PARENT,\n                WindowManager.LayoutParams.MATCH_PARENT)\n\n        initView()\n    }\n\n    fun initView() {\n        initClicks()\n    }\n\n    fun initClicks() {\n\n\n    }\n\n\n}\n</code></pre>\n\n<p>and the init is : </p>\n\n<pre><code>val omer = Custom_Dialog_Exit_App(this@MainActivity)\n        omer.show()\n</code></pre>\n\n<p>Please help</p>\n"}, {"tags": ["build.gradle", "kotlin", "vert.x", "kapt"], "answers": [{"comments": [{"owner": {"reputation": 7499, "user_id": 2139222, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y1eA8.jpg?s=128&g=1", "display_name": "Ulises", "link": "https://stackoverflow.com/users/2139222/ulises"}, "edited": false, "score": 0, "creation_date": 1503251070, "post_id": 44647741, "comment_id": 78527685, "body": "Kotlin docs say you have to use the <code>kapt</code> configuration  in you dependencies the way you did it <a href=\"https://kotlinlang.org/docs/reference/kapt.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/kapt.html</a>"}], "tags": [], "owner": {"reputation": 145, "user_id": 2716827, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3b05b5105a68389b68d99cdcf0e6ea7f?s=128&d=identicon&r=PG&f=1", "display_name": "everCurious", "link": "https://stackoverflow.com/users/2716827/evercurious"}, "is_accepted": true, "score": 0, "last_activity_date": 1497947328, "creation_date": 1497947328, "answer_id": 44647741, "question_id": 44603994, "link": "https://stackoverflow.com/questions/44603994/kapt-plugin-not-working-with-gradle-script-kotlin/44647741#44647741", "title": "kapt plugin not working with gradle-script-kotlin", "body": "<p>I had to add following to the build.gradle.kts</p>\n\n<pre><code>dependencies {\n....\n        kapt(\"io.vertx:vertx-codegen:$vertx_version:processor\")\n...\n}\n</code></pre>\n\n<p>Still dont know why though. posting here to let others know.</p>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 2631567, "user_type": "registered", "profile_image": "https://graph.facebook.com/1300412113/picture?type=large", "display_name": "Nagaraju Nooka", "link": "https://stackoverflow.com/users/2631567/nagaraju-nooka"}, "is_accepted": false, "score": 0, "last_activity_date": 1531766597, "creation_date": 1531766597, "answer_id": 51368277, "question_id": 44603994, "link": "https://stackoverflow.com/questions/44603994/kapt-plugin-not-working-with-gradle-script-kotlin/51368277#51368277", "title": "kapt plugin not working with gradle-script-kotlin", "body": "<p>Apart from kotlin-kapt plugin and other kotlin dependencies keep following dependencies in your build.gradle file. It will be enough to generate the code(I am using the same way). Above mentioned kapt and java blocks are not required unless you are looking for some customization.</p>\n\n<pre><code>dependencies {\n  kapt \"io.vertx:vertx-codegen:$vertxVersion:processor\"\n  compileOnly \"io.vertx:vertx-codegen:$vertxVersion\"\n}\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 2716827, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/3b05b5105a68389b68d99cdcf0e6ea7f?s=128&d=identicon&r=PG&f=1", "display_name": "everCurious", "link": "https://stackoverflow.com/users/2716827/evercurious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2050, "favorite_count": 0, "accepted_answer_id": 44647741, "answer_count": 2, "score": 2, "last_activity_date": 1531766597, "creation_date": 1497698491, "question_id": 44603994, "link": "https://stackoverflow.com/questions/44603994/kapt-plugin-not-working-with-gradle-script-kotlin", "title": "kapt plugin not working with gradle-script-kotlin", "body": "<p>I want to move my vertx based project to <a href=\"https://github.com/sczyh30/vertx-blueprint-microservice.git\" rel=\"nofollow noreferrer\">https://github.com/sczyh30/vertx-blueprint-microservice.git</a> template. The blueprint project uses annotations @vertxGen etc. to generate code during compilation.</p>\n\n<p>I am using gradle-script-kotlin to build the project. I need to use kapt plugin to generate code as per annotations (via vertx ... codegen ). Unfortunately, am unable to correctly configure kapt plugin. Its giving following error:</p>\n\n<p><strong>w: [kapt] Sources output directory is not specified, skipping annotation processing</strong></p>\n\n<p>I would be delighted if someone could fix my gradle build file. Following are the kapt related snippets</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.plugin.* // kaptExtension\n...\napply {\n  plugin(\"kotlin-kapt\")\n}\n...\n\nfun Project.kapt(setup: KaptExtension.() -&gt; Unit) = the&lt;KaptExtension&gt;().setup()\n\nkapt {\n        generateStubs = true\n\n        javacOptions( closureOf&lt;KaptJavacOptionsDelegate&gt; {\n                option(\"-proc:only\")\n                option(\"-processor\", \"io.vertx.codegen.CodeGenProcessor\") // vertx processor here\n                option(\"-AoutputDirectory\", \"${projectDir}/src/main\")\n                option(\"-Acodegen.output\", \"${projectDir}/src/main\")\n        } )\n\n        // specify output of generated code\n        arguments( closureOf&lt;KaptAnnotationProcessorOptions&gt; {\n                arg(\"destinationDir\", \"${buildDir}/generated/source/kapt/main\")\n        } )\n}\n...\njava {\n...\n        sourceSets.getByName(\"main\").java.srcDirs(\"${project.buildDir}/generated/source/kapt/main\")\n}\n</code></pre>\n\n<p>Let me know for any other info/query. Thanks in advance.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 796, "user_id": 5935969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3r2lM.jpg?s=128&g=1", "display_name": "Nihal Saxena", "link": "https://stackoverflow.com/users/5935969/nihal-saxena"}, "edited": false, "score": 0, "creation_date": 1497698542, "post_id": 44603956, "comment_id": 76195201, "body": "what is the error you are getting ?"}, {"owner": {"reputation": 13314, "user_id": 1760984, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IcBXx.jpg?s=128&g=1", "display_name": "aldok", "link": "https://stackoverflow.com/users/1760984/aldok"}, "reply_to_user": {"reputation": 796, "user_id": 5935969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3r2lM.jpg?s=128&g=1", "display_name": "Nihal Saxena", "link": "https://stackoverflow.com/users/5935969/nihal-saxena"}, "edited": false, "score": 0, "creation_date": 1497699627, "post_id": 44603956, "comment_id": 76195471, "body": "@NihalSaxena It won&#39;t compile, the IDE says Type mismatch and Unresolved reference."}], "answers": [{"tags": [], "owner": {"reputation": 1089, "user_id": 5155869, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gilQB.png?s=128&g=1", "display_name": "uramonk", "link": "https://stackoverflow.com/users/5155869/uramonk"}, "is_accepted": true, "score": 57, "last_activity_date": 1497699698, "creation_date": 1497699698, "answer_id": 44604198, "question_id": 44603956, "link": "https://stackoverflow.com/questions/44603956/how-to-override-method-when-instantiating-object-in-kotlin/44604198#44604198", "title": "How to override method when instantiating object in Kotlin?", "body": "<p>If you want to create anonymous inner class, you should use <code>object</code>.</p>\n\n<pre><code>var rule = object : ActivityTestRule&lt;MainActivity&gt;(MainActivity::class.java) {\n    override fun beforeActivityLaunched() {\n        super.beforeActivityLaunched()\n    }\n}\n</code></pre>\n\n<p>See also <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html\" rel=\"noreferrer\">Object Expressions and Declarations</a>.</p>\n"}], "owner": {"reputation": 13314, "user_id": 1760984, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/IcBXx.jpg?s=128&g=1", "display_name": "aldok", "link": "https://stackoverflow.com/users/1760984/aldok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13769, "favorite_count": 7, "accepted_answer_id": 44604198, "answer_count": 1, "score": 32, "last_activity_date": 1497699698, "creation_date": 1497698248, "last_edit_date": 1497699558, "question_id": 44603956, "link": "https://stackoverflow.com/questions/44603956/how-to-override-method-when-instantiating-object-in-kotlin", "title": "How to override method when instantiating object in Kotlin?", "body": "<p>In Java, to override method when instantiating new object we can do this</p>\n\n<pre><code>public ActivityTestRule&lt;MainActivity&gt; rule = new ActivityTestRule&lt;MainActivity&gt;(\n            MainActivity.class) {\n        @Override\n        protected void beforeActivityLaunched() {\n            // implement code\n            super.beforeActivityLaunched();\n        }\n    };\n</code></pre>\n\n<p>How to do that in Kotlin? I tried this code but it failed to compile.</p>\n\n<pre><code>@Rule @JvmField\nvar rule = ActivityTestRule&lt;MainActivity&gt;(MainActivity::class.java) {\n    override fun beforeActivityLaunched() {\n        super.beforeActivityLaunched()\n    }\n} \n</code></pre>\n"}, {"tags": ["java", "android", "generics", "sharedpreferences", "kotlin"], "comments": [{"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1497693963, "post_id": 44603073, "comment_id": 76193819, "body": "I can not reproduce your error. One thing I can note is that you&#39;re not returning the result of <code>when</code>, so it will always return null."}, {"owner": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "reply_to_user": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1497695283, "post_id": 44603073, "comment_id": 76194218, "body": "@JornVernee can you please see this : <a href=\"https://gist.github.com/krupalshah/782c42c70f2c58004c9bbda6291315e6\" rel=\"nofollow noreferrer\">gist.github.com/krupalshah/782c42c70f2c58004c9bbda6291315e6</a> I need your help."}, {"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1497696100, "post_id": 44603073, "comment_id": 76194454, "body": "I can not help you if I can not reproduce the error."}, {"owner": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "reply_to_user": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1497696200, "post_id": 44603073, "comment_id": 76194473, "body": "@JornVernee I have this activity which reproduces the error <a href=\"https://gist.github.com/krupalshah/fc758c054c3042d66a703cc6896d75ee\" rel=\"nofollow noreferrer\">gist.github.com/krupalshah/fc758c054c3042d66a703cc6896d75ee</a>"}, {"owner": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "reply_to_user": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1497696324, "post_id": 44603073, "comment_id": 76194516, "body": "@JornVernee Here is the simplified version of it : <a href=\"https://gist.github.com/krupalshah/d091be195999a7ddf52c3bb0f04f2bf3\" rel=\"nofollow noreferrer\">gist.github.com/krupalshah/d091be195999a7ddf52c3bb0f04f2bf3</a> I get UnsupportedOperationException every time"}, {"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1497696477, "post_id": 44603073, "comment_id": 76194552, "body": "I don&#39;t have Android. This looks like a compiler error, but I can&#39;t reproduce it with the compiler I have."}, {"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1497697642, "post_id": 44603073, "comment_id": 76194912, "body": "With that gist I was able to reproduce the problem, but it&#39;s with the line <code>val age: Int? = prefs[Constants.PREF_AGE, 23]</code>, not the one you have in the question."}, {"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1497698139, "post_id": 44603073, "comment_id": 76195091, "body": "Here is my MCVE if you want to use it: <a href=\"https://gist.github.com/JornVernee/34e2c9dce310ecea369efd415b1ee670\" rel=\"nofollow noreferrer\">gist.github.com/JornVernee/34e2c9dce310ecea369efd415b1ee670</a>"}, {"owner": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "reply_to_user": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 0, "creation_date": 1497698691, "post_id": 44603073, "comment_id": 76195239, "body": "@JornVernee Ok....so function is working working fine then couldn&#39;t catch the error. Error is at runtime and so hard to catch."}], "answers": [{"comments": [{"owner": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "edited": false, "score": 0, "creation_date": 1497699048, "post_id": 44604044, "comment_id": 76195320, "body": "Thanks. You are right. First solution is also working fine now. Did we discover new bug in Kotlin compiler?"}, {"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "reply_to_user": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "edited": false, "score": 1, "creation_date": 1497699132, "post_id": 44604044, "comment_id": 76195340, "body": "@KrupalShah Not a bug, maybe a shortcoming; that It doesn&#39;t have special treatment when comparing <code>java.lang.Integer::class</code> to <code>Int::class</code>"}, {"owner": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "edited": false, "score": 0, "creation_date": 1497699217, "post_id": 44604044, "comment_id": 76195357, "body": "Hm.. ok. Your second solution is fine but the only problem is that I should be able to pass null as default value even if I want String. That time it won&#39;t work."}, {"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "reply_to_user": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "edited": false, "score": 0, "creation_date": 1497699239, "post_id": 44604044, "comment_id": 76195367, "body": "@KrupalShah Oh yeah, I didn&#39;t think about that"}, {"owner": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "edited": false, "score": 0, "creation_date": 1497699473, "post_id": 44604044, "comment_id": 76195424, "body": "Thank you very much for helping."}], "tags": [], "owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "is_accepted": true, "score": 3, "last_activity_date": 1497699263, "last_edit_date": 1497699263, "creation_date": 1497698806, "answer_id": 44604044, "question_id": 44603073, "link": "https://stackoverflow.com/questions/44603073/kotlin-cannot-use-t-as-reified-type-parameter-use-a-class-instead/44604044#44604044", "title": "Kotlin - Cannot use &#39;T&#39; as reified type parameter. Use a class instead", "body": "<p>The problem is curious, but it seems that <code>Int::class</code> is not the same as <code>Int?::class</code> (which is an illegal expression any ways).</p>\n\n<p>When you add the line:</p>\n\n<pre><code>println(T::class)\n</code></pre>\n\n<p>To the <code>get</code> method, and call <code>val age: Int? = prefs[\"AGE\", 23]</code>, you will see that it prints <code>java.lang.Integer</code>.</p>\n\n<p>It seems like <code>Int?</code> is translated into <code>java.lang.Integer</code>.</p>\n\n<p>A possible (but imho kind of hacky) solution is to use the references to Java classes as the cases for when:</p>\n\n<pre><code>operator inline fun &lt;reified T : Any&gt; get(key: String, defaultValue: T? = null): T? {\n    return when (T::class) {\n        String::class -&gt; getString(key, defaultValue as? String) as T?\n        java.lang.Integer::class -&gt; getInt(key, defaultValue as? Int ?: -1) as T?\n        java.lang.Boolean::class -&gt; getBoolean(key, defaultValue as? Boolean ?: false) as T?\n        java.lang.Float::class -&gt; getFloat(key, defaultValue as? Float ?: -1f) as T?\n        java.lang.Long::class -&gt; getLong(key, defaultValue as? Long ?: -1) as T?\n        else -&gt; throw UnsupportedOperationException(\"Not yet implemented\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 8011, "user_id": 3830694, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/6TotP.jpg?s=128&g=1", "display_name": "Krupal Shah", "link": "https://stackoverflow.com/users/3830694/krupal-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11892, "favorite_count": 1, "accepted_answer_id": 44604044, "answer_count": 1, "score": 8, "last_activity_date": 1497885698, "creation_date": 1497692622, "last_edit_date": 1497885698, "question_id": 44603073, "link": "https://stackoverflow.com/questions/44603073/kotlin-cannot-use-t-as-reified-type-parameter-use-a-class-instead", "title": "Kotlin - Cannot use &#39;T&#39; as reified type parameter. Use a class instead", "body": "<p>I have a simple helper function to get value from SharedPreferences like this : </p>\n\n<pre><code>operator inline fun &lt;reified T : Any&gt; SharedPreferences.get(key: String, defaultValue: T? = null): T? {\n    return when (T::class) {\n        String::class -&gt; getString(key, defaultValue as? String) as T?\n        Int::class -&gt; getInt(key, defaultValue as? Int ?: -1) as T?\n        Boolean::class -&gt; getBoolean(key, defaultValue as? Boolean ?: false) as T?\n        Float::class -&gt; getFloat(key, defaultValue as? Float ?: -1f) as T?\n        Long::class -&gt; getLong(key, defaultValue as? Long ?: -1) as T?\n        else -&gt; throw UnsupportedOperationException(\"Not yet implemented\")\n    }\n}\n</code></pre>\n\n<p>I have used reified type parameter to have switching over class type and since it is an operator function, I should be able to call with the square brackets syntax like below :</p>\n\n<pre><code>val name: String? = prefs[Constants.PREF_NAME]\n</code></pre>\n\n<p>But, every time I call it,  UnsupportedOperationException is thrown indicating  function is not able to get class type.</p>\n\n<p>When I attach debugger and evaluate <code>T::class</code>, It is giving me an error <code>\"Cannot use 'T' as reified type parameter. Use a class instead.\"</code></p>\n\n<p>What's wrong with my function? I could not catch the mistake. can anyone help?</p>\n\n<p>Edit : The whole class is <a href=\"https://gist.github.com/krupalshah/782c42c70f2c58004c9bbda6291315e6\" rel=\"noreferrer\">here</a> and <a href=\"https://gist.github.com/krupalshah/d091be195999a7ddf52c3bb0f04f2bf3\" rel=\"noreferrer\">this is where</a> I get the error.</p>\n\n<p><strong>Update:</strong> It seems to be Kotlin compiler issue. \nTrack <a href=\"https://youtrack.jetbrains.com/issue/KT-17748\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/KT-17748</a> and\n<a href=\"https://youtrack.jetbrains.com/issue/KT-17748\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/KT-17748</a> for updates.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": true, "score": 10, "last_activity_date": 1497680030, "last_edit_date": 1497680030, "creation_date": 1497679360, "answer_id": 44601345, "question_id": 44600926, "link": "https://stackoverflow.com/questions/44600926/why-is-getmessage-an-unresolved-reference-in-kotlin-with-an-exception-class/44601345#44601345", "title": "Why is getMessage() an unresolved reference in Kotlin with an Exception class?", "body": "<p>There is no other <code>Throwable</code> except for <code>java.lang.Throwable</code>. This class is used both by Java and by Kotlin programs.</p>\n\n<p>The fact that <code>Throwable</code> has an entry in the Kotlin documentation suggests that this is a special compiler \"alias\". That means that for all intents and purposes it is a Kotlin class, instances of which are represented by <code>java.lang.Throwable</code>. Black magic.</p>\n\n<p>TL;DR:</p>\n\n<p>The equivalent of <code>e.getMessage()</code> in Kotlin is <code>e.message</code>, which is described in the docs as <code>open val message: String?</code>. </p>\n\n<p>Since <code>Throwable</code> is not used directly from Java, but mapped to Kotlin, you cannot use the Java notation <code>e.getMessage()</code> for the property. Here is more about mapped types: <a href=\"http://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"noreferrer\">http://kotlinlang.org/docs/reference/java-interop.html#mapped-types</a></p>\n"}], "owner": {"reputation": 5858, "user_id": 1530549, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9acb42e69fdeeaf6474022411fe61725?s=128&d=identicon&r=PG", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1530549/scooter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2832, "favorite_count": 0, "accepted_answer_id": 44601345, "answer_count": 1, "score": 5, "last_activity_date": 1497680030, "creation_date": 1497675397, "last_edit_date": 1497676919, "question_id": 44600926, "link": "https://stackoverflow.com/questions/44600926/why-is-getmessage-an-unresolved-reference-in-kotlin-with-an-exception-class", "title": "Why is getMessage() an unresolved reference in Kotlin with an Exception class?", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/exceptions.html\" rel=\"noreferrer\">Kotin documentation says</a> that \"All exception classes in Kotlin are descendants of the class Throwable. Every exception has a message, stack trace and an optional cause.\"</p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Throwable.html\" rel=\"noreferrer\">The Java documentation for Throwable</a> shows a getMessage() method. But the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-throwable/index.html\" rel=\"noreferrer\">Kotlin documentation for Throwable</a> does not have a getMessage(). So this code:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;)\n{\n   try\n   {\n      println(\"args size: ${args.size}\");\n   }\n   catch (e: Exception)\n   {\n      println(e.getMessage())\n      System.exit(1)\n   }\n}\n</code></pre>\n\n<p>gives me this compile error:</p>\n\n<pre><code>test_exception.kt:12:17: error: unresolved reference: getMessage\n      println(e.getMessage())\n                ^\n</code></pre>\n\n<p>suggesting that I am using a Kotlin Exception class derived from a Kotlin Throwable class.</p>\n\n<p>However, if I change getMessage() to toString() and add a throw:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;)\n{\n   try\n   {\n      println(\"args size: ${args.size}\");\n      throw Exception(\"something went wrong\")\n   }\n   catch (e: Exception)\n   {\n      println(e.toString())\n      System.exit(1)\n   }\n}\n</code></pre>\n\n<p>I get this message:</p>\n\n<pre><code>java.lang.Exception: something went wrong\n</code></pre>\n\n<p>Which seems to say that the Exception class is NOT a Kotlin Exception class - but the java version which has a getMessage() method and I shouldn't get a compile error when I try to use it.</p>\n"}, {"tags": ["android", "string", "kotlin", "immutability"], "answers": [{"comments": [{"owner": {"reputation": 2278, "user_id": 2149195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wH8P5.jpg?s=128&g=1", "display_name": "RBK", "link": "https://stackoverflow.com/users/2149195/rbk"}, "edited": false, "score": 0, "creation_date": 1497664557, "post_id": 44600058, "comment_id": 76188164, "body": "Yes, but is mutable and reassignable same?"}, {"owner": {"reputation": 2278, "user_id": 2149195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wH8P5.jpg?s=128&g=1", "display_name": "RBK", "link": "https://stackoverflow.com/users/2149195/rbk"}, "edited": false, "score": 0, "creation_date": 1497665464, "post_id": 44600058, "comment_id": 76188288, "body": "Agreed that both are reassignable. But it doesn&#39;t mean mutable = reassignable. That&#39;s\u200b what I want to clarify"}, {"owner": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "edited": false, "score": 0, "creation_date": 1497674549, "post_id": 44600058, "comment_id": 76189473, "body": "@FrankWilson Excellent example!"}, {"owner": {"reputation": 5858, "user_id": 1530549, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/9acb42e69fdeeaf6474022411fe61725?s=128&d=identicon&r=PG", "display_name": "Scooter", "link": "https://stackoverflow.com/users/1530549/scooter"}, "reply_to_user": {"reputation": 2278, "user_id": 2149195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wH8P5.jpg?s=128&g=1", "display_name": "RBK", "link": "https://stackoverflow.com/users/2149195/rbk"}, "edited": false, "score": 0, "creation_date": 1497675673, "post_id": 44600058, "comment_id": 76189651, "body": "@RBK No mutable and reassignable are not the same. Mutable refers to the value - the data - that the variable points to. Reassignable refers whether you can point a variable to different data (a different value)."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1497724259, "post_id": 44600058, "comment_id": 76202943, "body": "Additionally the braces after the class definition could be removed"}, {"owner": {"reputation": 2826, "user_id": 1900169, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wqxtO.jpg?s=128&g=1", "display_name": "Frank Wilson", "link": "https://stackoverflow.com/users/1900169/frank-wilson"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1497726140, "post_id": 44600058, "comment_id": 76203548, "body": "@1blustone I&#39;ve implemented your suggestion. Thank you."}], "tags": [], "owner": {"reputation": 2826, "user_id": 1900169, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wqxtO.jpg?s=128&g=1", "display_name": "Frank Wilson", "link": "https://stackoverflow.com/users/1900169/frank-wilson"}, "is_accepted": false, "score": 8, "last_activity_date": 1497726044, "last_edit_date": 1497726044, "creation_date": 1497664410, "answer_id": 44600058, "question_id": 44600017, "link": "https://stackoverflow.com/questions/44600017/is-var-str-string-mutable-or-immutable/44600058#44600058", "title": "Is var str: String mutable or immutable?", "body": "<p>I don't like way the documentation is written either but there is no contradiction in reality. They are using the word <em>mutable</em> in a way that invites a comparison between program <em>symbols</em> and <em>objects</em> that is not very helpful.</p>\n\n<p>A variable declared by the <code>var</code> keyword is reassignable whereas one declared with the <code>val</code> keyword is not.</p>\n\n<p>A string is an immutable object type, once created it cannot be changed.</p>\n\n<p>Whether a variable is <em>reassignable</em> and whether the object it points to is <em>immutable</em> are two different things.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>class Person(var name: String)\n\nval fred = Person(\"Fred\")\n\nfred.name = \"Barry\" // fred is not immutable\n\nfred = Person(\"Barry\") // ERROR Val cannot be reassigned\n</code></pre>\n\n<p>So to use mutable in the way the documentation does, just because a <em>symbol</em> is declared a <code>val</code> does not make the <em>object</em> it points to immutable.</p>\n"}, {"comments": [{"owner": {"reputation": 2278, "user_id": 2149195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wH8P5.jpg?s=128&g=1", "display_name": "RBK", "link": "https://stackoverflow.com/users/2149195/rbk"}, "edited": false, "score": 0, "creation_date": 1497665893, "post_id": 44600150, "comment_id": 76188332, "body": "Agreed that val and var is relate to java&#39;s final... But is a String declared with var mutable or immutable?"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "reply_to_user": {"reputation": 2278, "user_id": 2149195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wH8P5.jpg?s=128&g=1", "display_name": "RBK", "link": "https://stackoverflow.com/users/2149195/rbk"}, "edited": false, "score": 2, "creation_date": 1497666028, "post_id": 44600150, "comment_id": 76188345, "body": "It&#39;s always immutable, as I explained and the documentation says... What exactly do you expect to do if a string was mutable?"}], "tags": [], "owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "is_accepted": false, "score": 3, "last_activity_date": 1497665532, "creation_date": 1497665532, "answer_id": 44600150, "question_id": 44600017, "link": "https://stackoverflow.com/questions/44600017/is-var-str-string-mutable-or-immutable/44600150#44600150", "title": "Is var str: String mutable or immutable?", "body": "<p>What's the contradiction? A string is read-only. Just as Java, you cannot set <code>a[i] = 'x'</code>, any string replacement methods return new strings, etc. Therefore, not mutable. This point is made to clarify the functionality of a <code>var</code> String type </p>\n\n<p>The difference between var and val can be associated with a <code>final</code> variable in Java. You can make a <code>final String</code> constant, or you can have a regular <code>String</code> object </p>\n"}, {"tags": [], "owner": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "is_accepted": false, "score": 4, "last_activity_date": 1497850550, "last_edit_date": 1497850550, "creation_date": 1497674333, "answer_id": 44600819, "question_id": 44600017, "link": "https://stackoverflow.com/questions/44600017/is-var-str-string-mutable-or-immutable/44600819#44600819", "title": "Is var str: String mutable or immutable?", "body": "<p>An <a href=\"https://stackoverflow.com/a/44600058/1820644\">excellent example</a> by @Frank. It makes me more clear, what the documentation said. </p>\n\n<p>The first part of the documentation says:</p>\n\n<blockquote>\n  <p>Classes in Kotlin can have properties. <strong>These can be declared as\n  mutable, using the var keyword</strong> or read-only using the val keyword.</p>\n</blockquote>\n\n<p>Now, the second part says:</p>\n\n<blockquote>\n  <p>Strings are represented by the type String. <strong>Strings are immutable.</strong></p>\n</blockquote>\n\n<p>These both are true in my opinion. </p>\n\n<p>Based on the Frank's example, let's take another example.</p>\n\n<pre><code>data class User(var name: String, var email:String)\n\nvar user1 = User(\"Foo\",\"foo@bar.com\")  \n// user1 is mutable and object properties as well\n\nval user2 = User(\"Bar\",\"bar@foo.com\")\n// user2 is immutable but object's properties are mutable\n</code></pre>\n\n<p>Now, consider property <strong><code>user1</code></strong>. It is mutable as it is declared with keyword <code>var</code>. And also the User object assign to it. </p>\n\n<p>But the <code>user2</code> property is immutable. You can not change the assigned object to it. But the Object itself has mutable properties. So the properties can be changes by <code>user2.name = \"Foo\"</code>.</p>\n\n<p>Now changing the example a bit and making user properties immutable.</p>\n\n<pre><code>data class User(val name: String, val email:String)\n\nvar user1 = User(\"Foo\",\"foo@bar.com\")  \n// user1 is mutable and object properties are not\n\nval user2 = User(\"Bar\",\"bar@foo.com\")\n// user2 is immutable and object's properties are also immutable\n</code></pre>\n\n<p>Here, User's properties are immutable. So, <code>user1</code> is mutable, you can assign another object to it. But the properties are immutable. So  <code>user1 = User(\"New Foo\",\"newfoo@bar.com\")</code> will work. But after assigning an object User, you can not change it's properties, as they are immutable. </p>\n\n<p>Now, let's take an example with String type.</p>\n\n<pre><code>var str1 = \"Bar\"\n// Here str1 (property) is mutable. So you can assign a different string to it. \n// But you can not modify the String object directly.\nstr1 = \"Foo\"  // This will work\nstr1[0] = 'B' // This will NOT work as The string object assigned to str1 is immutable\n\nval str2 = \"Foo\"\n// Here both str2 and the assigned object are immutable. (Just like Java final)\n</code></pre>\n\n<p>And as the Frank said, </p>\n\n<blockquote>\n  <p>just because a symbol is declared a val does not make the object it points to immutable.</p>\n</blockquote>\n\n<p><strong>My final cents:</strong> </p>\n\n<blockquote>\n  <p>String object is immutable, as it can not be changed. But that\n  immutable String object can be assigned to a mutable <strong>property</strong>, which\n  can be re-assigned with the different String Object. That is what\n  <code>var</code> keyword does. Making the property mutable. But the object it\n  points to can be mutable or immutable.</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 0, "last_activity_date": 1497686562, "creation_date": 1497686562, "answer_id": 44602231, "question_id": 44600017, "link": "https://stackoverflow.com/questions/44600017/is-var-str-string-mutable-or-immutable/44602231#44602231", "title": "Is var str: String mutable or immutable?", "body": "<p>In Kotlin/Java an object's behaviour does <em>not</em> depend on the kind of reference you use to access it. Everything is (potentially) in the heap, so any property is just a reference (a.k.a. link) to the object.</p>\n\n<pre><code>val str = \"Hello\"\nval a = str\nvar b = str\n</code></pre>\n\n<p>In the snippet above there is only one immutable string <code>str</code>, and both <code>a</code> and <code>b</code> reference it. You can't change the string, no matter what reference you use, mutable or immutable. But you can change the mutable reference itself to point to another (immutable) string:</p>\n\n<pre><code>b = \"World\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2865, "user_id": 3513479, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/YUTfS.jpg?s=128&g=1", "display_name": "Vishal Patel", "link": "https://stackoverflow.com/users/3513479/vishal-patel"}, "is_accepted": true, "score": 7, "last_activity_date": 1498038430, "last_edit_date": 1498038430, "creation_date": 1498037605, "answer_id": 44672196, "question_id": 44600017, "link": "https://stackoverflow.com/questions/44600017/is-var-str-string-mutable-or-immutable/44672196#44672196", "title": "Is var str: String mutable or immutable?", "body": "<p>Actually, String <em><code>variable</code></em> is mutable, but  String <em><code>Value</code></em> is Immutable.</p>\n\n<blockquote>\n  <p>Appreciate with @cricket_007</p>\n</blockquote>\n\n<p>Let me Describe deeply what happened behind When you declare variable.</p>\n\n<pre><code>val string1 = \"abcd\"  \nval string2 = \"abcd\"\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/11nIc.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/11nIc.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>As Shown above image and Declaration.  </p>\n\n<p>-String pool is a special storage area in <strong>The Heap Memory</strong>.</p>\n\n<p>-When a <code>string is created</code> and if the string <code>already exists</code> in the pool, the reference of the <code>existing string will be returned</code>, instead of creating a new object and returning its reference.</p>\n\n<p>-If string is not immutable, changing the string with one reference will lead to the wrong value for the other references.</p>\n\n<p>-Now with above our example Value Assign to Variable <strong>String1</strong> now we can use this variable.</p>\n\n<p>also we can change the value</p>\n\n<pre><code>string1.renameTo(\"Hi This Is Test\")\n</code></pre>\n\n<p>So What happen at behind in memory ?<br>\n->yes,<br>\n<strong>if</strong>   <em>\"Hi This Is Test\"</em> this string available it will return a reference to \"<strong>string1</strong>\"<br>\n<strong>else</strong> it Create new space and give reference To \"<strong>string1</strong>\"</p>\n\n<p>Actually, that's Why String called immutable.</p>\n\n<p><strong>Reference - <a href=\"https://discuss.kotlinlang.org/t/immutable/1032\" rel=\"noreferrer\">Link</a></strong></p>\n"}, {"tags": [], "owner": {"reputation": 305, "user_id": 7721253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2672974c59d0cc2e0fcc0d85e1ba7a51?s=128&d=identicon&r=PG&f=1", "display_name": "Jalvap", "link": "https://stackoverflow.com/users/7721253/jalvap"}, "is_accepted": false, "score": 1, "last_activity_date": 1498812374, "creation_date": 1498812374, "answer_id": 44842303, "question_id": 44600017, "link": "https://stackoverflow.com/questions/44600017/is-var-str-string-mutable-or-immutable/44842303#44842303", "title": "Is var str: String mutable or immutable?", "body": "<p>Personally, I find it easier to think about the difference between <code>val</code> and <code>var</code> in terms of Java. <code>val</code> would correspond to a variable with the <code>final</code> modifier, which means it can only be assigned once and <code>var</code> is just with that modifier absent and therefore reassignable. </p>\n\n<p>The object themselves can still be either mutable or immutable. Mutability here refers to the variable itself.</p>\n"}], "owner": {"reputation": 2278, "user_id": 2149195, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wH8P5.jpg?s=128&g=1", "display_name": "RBK", "link": "https://stackoverflow.com/users/2149195/rbk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3311, "favorite_count": 3, "accepted_answer_id": 44672196, "answer_count": 6, "score": 13, "last_activity_date": 1498812374, "creation_date": 1497663943, "question_id": 44600017, "link": "https://stackoverflow.com/questions/44600017/is-var-str-string-mutable-or-immutable", "title": "Is var str: String mutable or immutable?", "body": "<p>I have declared a String variable in Kotlin as like.</p>\n\n<p><code>var str: String</code></p>\n\n<p>The Kotlin document contradict for mutability concept.\nAs per document...\nvar is mutable.\n<img src=\"https://i.stack.imgur.com/jRttP.png\" alt=\"var is mutable\"></p>\n\n<p>But for String it define as immutable.\n<img src=\"https://i.stack.imgur.com/W6ssW.png\" alt=\"String is immutable\"></p>\n\n<p>So please clarify contradiction...</p>\n"}, {"tags": ["android", "compilation", "kotlin"], "comments": [{"owner": {"reputation": 2292, "user_id": 3383038, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PR3Vp.jpg?s=128&g=1", "display_name": "Oleg Osipenko", "link": "https://stackoverflow.com/users/3383038/oleg-osipenko"}, "edited": false, "score": 0, "creation_date": 1497944643, "post_id": 44598848, "comment_id": 76278794, "body": "provide the content of <code>build.gradle</code> inside the app module"}, {"owner": {"reputation": 691, "user_id": 6769980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bff8fcbc226504d3d40afa0997b9916?s=128&d=identicon&r=PG&f=1", "display_name": "junioregis", "link": "https://stackoverflow.com/users/6769980/junioregis"}, "reply_to_user": {"reputation": 2292, "user_id": 3383038, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/PR3Vp.jpg?s=128&g=1", "display_name": "Oleg Osipenko", "link": "https://stackoverflow.com/users/3383038/oleg-osipenko"}, "edited": false, "score": 0, "creation_date": 1497958947, "post_id": 44598848, "comment_id": 76289216, "body": "Hi @OlegOsipenko! Post updated."}, {"owner": {"reputation": 1339, "user_id": 3805929, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/g8jRs.jpg?s=128&g=1", "display_name": "arslancharyev31", "link": "https://stackoverflow.com/users/3805929/arslancharyev31"}, "edited": false, "score": 0, "creation_date": 1500828021, "post_id": 44598848, "comment_id": 77497676, "body": "Were you able to fix the problem?"}], "answers": [{"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1542747984, "post_id": 45310431, "comment_id": 93678285, "body": "Why would the order matter?  Does gradle.org specify that"}], "tags": [], "owner": {"reputation": 691, "user_id": 6769980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bff8fcbc226504d3d40afa0997b9916?s=128&d=identicon&r=PG&f=1", "display_name": "junioregis", "link": "https://stackoverflow.com/users/6769980/junioregis"}, "is_accepted": false, "score": 15, "last_activity_date": 1501005187, "creation_date": 1501005187, "answer_id": 45310431, "question_id": 44598848, "link": "https://stackoverflow.com/questions/44598848/error-supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure/45310431#45310431", "title": "error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath", "body": "<p>I fixed it by changing the order of plugins call!</p>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>buildscript {\n    ext.android_plugin_version = '2.3.3'\n    ext.kotlin_version = '1.1.3-2'\n\n    repositories {\n        jcenter()\n        mavenCentral()\n\n        maven { url \"https://maven.google.com\" }\n        maven { url 'https://maven.fabric.io/public' }\n        maven { url \"https://jitpack.io\" }\n    }\n\n    dependencies {\n        classpath \"com.android.tools.build:gradle:$android_plugin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-android-extensions:$kotlin_version\"\n        classpath 'io.fabric.tools:gradle:1.+'\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        mavenCentral()\n\n        maven { url \"https://maven.google.com\" }\n        maven { url 'https://maven.fabric.io/public' }\n        maven { url \"https://jitpack.io\" }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p><strong>app/build.gradle</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-kapt'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'io.fabric'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.0\"\n\n    defaultConfig {\n        applicationId \"com.sample.app\"\n        minSdkVersion 19\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        multiDexEnabled true\n    }\n\n    buildTypes {\n        debug {\n            ext.alwaysUpdateBuildId = false\n        }\n\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    dexOptions {\n        javaMaxHeapSize \"4g\"\n    }\n\n    dataBinding {\n        enabled true\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    lintOptions {\n        abortOnError false\n        disable 'InvalidPackage'\n    }\n}\n\nkapt {\n    generateStubs = true\n}\n\ndependencies {\ncompile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    testCompile 'junit:junit:4.12'\n\n    // kotlin\n    kapt \"com.android.databinding:compiler:$android_plugin_version\"\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    // android\n    compile 'com.android.support:multidex:1.0.1'\n    compile \"com.android.support:appcompat-v7:${compat_version}\"\n    compile \"com.android.support:design:${compat_version}\"\n    compile \"com.android.support:cardview-v7:${compat_version}\"\n    compile \"com.android.support:recyclerview-v7:${compat_version}\"\n    compile \"com.android.support:gridlayout-v7:${compat_version}\"\n    compile \"com.android.support:support-vector-drawable:${compat_version}\"\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile \"com.google.android.gms:play-services-ads:${play_services_version}\"\n    compile \"com.google.android.gms:play-services-maps:${play_services_version}\"\n    compile \"com.google.android.gms:play-services-gcm:${play_services_version}\"\n    compile 'com.google.maps.android:android-maps-utils:0.4+'\n\n    // fabric\n    compile('com.crashlytics.sdk.android:crashlytics:2.6.8@aar') {\n        transitive = true;\n    }\n\n    // logger\n    compile 'com.orhanobut:logger:2.1.1'\n\n    // dexter\n    compile 'com.karumi:dexter:4.1.0'\n\n    // firebase\n    compile \"com.google.firebase:firebase-messaging:${firebase_version}\"\n\n    // persistence\n    compile \"android.arch.persistence.room:runtime:1.0.0-alpha3\"\n    annotationProcessor \"android.arch.persistence.room:compiler:1.0.0-alpha3\"\n\n    // facebook\n    compile 'com.facebook.android:facebook-android-sdk:4.+'\n\n    // retrofit\n    compile 'com.squareup.retrofit2:retrofit:2.3.0'\n    compile 'com.squareup.retrofit2:converter-gson:2.3.0'\n\n    // gson\n    compile 'com.google.code.gson:gson:2.8.1'\n\n    // jobs\n    compile 'com.evernote:android-job:1.1.11'\n\n    // chart\n    compile 'com.github.PhilJay:MPAndroidChart:v3.0.1'\n\n    // fresco\n    compile 'com.facebook.fresco:fresco:1.3.0'\n\n    // indicator\n    compile 'com.github.JakeWharton:ViewPagerIndicator:2.4.1'\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1921, "user_id": 4420543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cff56a7d6453ef26835d3cf2e3a83cdb?s=128&d=identicon&r=PG&f=1", "display_name": "andras", "link": "https://stackoverflow.com/users/4420543/andras"}, "edited": false, "score": 1, "creation_date": 1543216819, "post_id": 51505105, "comment_id": 93822678, "body": "I have forgotten to add the <code>Dagger</code> dependency to the module whose class I was using. <code>implementation</code> should be enough, if it is explicitly added to the module. (Thanks for the idea btw, you saved me from a couple hours debugging.)"}, {"owner": {"reputation": 1282, "user_id": 4298143, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ab8308e1a96d575b392a678e3927e432?s=128&d=identicon&r=PG&f=1", "display_name": "Cody", "link": "https://stackoverflow.com/users/4298143/cody"}, "edited": false, "score": 0, "creation_date": 1544672273, "post_id": 51505105, "comment_id": 94362014, "body": "This is it chief."}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1558426780, "post_id": 51505105, "comment_id": 99086827, "body": "do you mean if we use the library by &quot;adding it as module&quot;, then we need to write dependencies defined in that library in &quot;app&quot; module? why?"}, {"owner": {"reputation": 2029, "user_id": 6552016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf30872c5ab2ff01a02ea2da74830232?s=128&d=identicon&r=PG&f=1", "display_name": "Rub&#233;n Viguera", "link": "https://stackoverflow.com/users/6552016/rub%c3%a9n-viguera"}, "edited": false, "score": 0, "creation_date": 1568910916, "post_id": 51505105, "comment_id": 102434722, "body": "In my case this error was happening when trying to access a method on a fragment. To avoid applying api configuration just for this error, I just created an interface and implement it on the fragment."}, {"owner": {"reputation": 6398, "user_id": 2127950, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/27eef5e6b57a1d7a7eaaf107a14fffb3?s=128&d=identicon&r=PG", "display_name": "portfoliobuilder", "link": "https://stackoverflow.com/users/2127950/portfoliobuilder"}, "edited": false, "score": 0, "creation_date": 1578018022, "post_id": 51505105, "comment_id": 105312516, "body": "@oblakr24  What is you do not want to use <code>api</code> and you want to remain <code>implementation</code>? The issue lies with inheritance using an abstract class. Is there any work other workarounds for this without changing implementation to api?"}], "tags": [], "owner": {"reputation": 541, "user_id": 7435550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a96d59be545e67164a12e3f550590d70?s=128&d=identicon&r=PG&f=1", "display_name": "oblakr24", "link": "https://stackoverflow.com/users/7435550/oblakr24"}, "is_accepted": false, "score": 41, "last_activity_date": 1532455935, "creation_date": 1532455935, "answer_id": 51505105, "question_id": 44598848, "link": "https://stackoverflow.com/questions/44598848/error-supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure/51505105#51505105", "title": "error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath", "body": "<p>In my case I had a library module with an abstract application class implementing Dagger's <code>HasActivityInjector</code> and an application module with a dependency to the library and its own (non-abstract) application class extending the base app class. </p>\n\n<p>My Gradle dependencies were <code>implementation</code>s, and therefore not accessible to the application module's application class (even though there were no imports there, otherwise the issue would be immediately obvious as you'd get a 'could not resolve' error. The fix was to replace dagger <code>implementation</code> dependencies with <code>api</code>, that makes them available to dependant modules as well.</p>\n"}, {"tags": [], "owner": {"reputation": 63, "user_id": 6629423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03685908a24ebbc5b5ca6e52f793a305?s=128&d=identicon&r=PG&f=1", "display_name": "Curtes Malteser", "link": "https://stackoverflow.com/users/6629423/curtes-malteser"}, "is_accepted": false, "score": 0, "last_activity_date": 1541493628, "creation_date": 1541493628, "answer_id": 53168380, "question_id": 44598848, "link": "https://stackoverflow.com/questions/44598848/error-supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure/53168380#53168380", "title": "error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath", "body": "<p>On my case I had to add the required dependency on my main module and compile the last version with:</p>\n\n<pre><code>android {\n    configurations.all {\n        resolutionStrategy.force \"com.squareup.picasso:picasso:${picassoVersion}\"\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1679, "user_id": 1068827, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/c8d7f2076cd9cd4ce86cfca077ad3a32?s=128&d=identicon&r=PG", "display_name": "HeartlessArchangel", "link": "https://stackoverflow.com/users/1068827/heartlessarchangel"}, "is_accepted": false, "score": -1, "last_activity_date": 1547720410, "creation_date": 1547720410, "answer_id": 54233700, "question_id": 44598848, "link": "https://stackoverflow.com/questions/44598848/error-supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure/54233700#54233700", "title": "error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath", "body": "<p>Update your google play gradle version to the latest</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 8419606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c34ad7afe90897767abdbd0ef7d20e37?s=128&d=identicon&r=PG&f=1", "display_name": "Priyanka", "link": "https://stackoverflow.com/users/8419606/priyanka"}, "is_accepted": false, "score": 8, "last_activity_date": 1561420897, "creation_date": 1561420897, "answer_id": 56745265, "question_id": 44598848, "link": "https://stackoverflow.com/questions/44598848/error-supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure/56745265#56745265", "title": "error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath", "body": "<p>Before trying anything else, try:\n    Android Studio -> File -> Invalidate cache/restart</p>\n\n<p>This worked for me.</p>\n"}, {"tags": [], "owner": {"reputation": 855, "user_id": 599743, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fff621ebecc8d67b4690b4cfe7e8c69f?s=128&d=identicon&r=PG", "display_name": "tonisives", "link": "https://stackoverflow.com/users/599743/tonisives"}, "is_accepted": false, "score": 4, "last_activity_date": 1570689803, "creation_date": 1570689803, "answer_id": 58316941, "question_id": 44598848, "link": "https://stackoverflow.com/questions/44598848/error-supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure/58316941#58316941", "title": "error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath", "body": "<p>For me the problem was child module not using AndroidX Activity. I guess the class names clashed.</p>\n\n<p>Added this to resolve:</p>\n\n<p><code>implementation 'androidx.legacy:legacy-support-v4:1.0.0'</code></p>\n"}, {"tags": [], "owner": {"reputation": 1387, "user_id": 651377, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/537563472e02359f184f0d4a5da446a5?s=128&d=identicon&r=PG", "display_name": "Alok Gupta", "link": "https://stackoverflow.com/users/651377/alok-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1576499238, "creation_date": 1576499238, "answer_id": 59356628, "question_id": 44598848, "link": "https://stackoverflow.com/questions/44598848/error-supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure/59356628#59356628", "title": "error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath", "body": "<p>I was getting error for below lib in app level build.gradle</p>\n\n<pre><code>  implementation 'com.google.firebase:firebase-iid:20.0.2'\n</code></pre>\n\n<p>So the solution is the order in project level build.gradle, So\n<strong>before solving error the structure was</strong></p>\n\n<pre><code>buildscript {\next.kotlin_version = '1.3.50'\nrepositories {\n\n    google()\n    jcenter()\n    mavenCentral()\n    maven {\n        url \"https://maven.google.com\"\n    }\n\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.5.3'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    classpath 'com.github.jengelman.gradle.plugins:shadow:1.2.3'\n    classpath 'com.google.gms:google-services:4.3.3'\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n}\n\nallprojects {\nrepositories {\n\n    google()\n    jcenter()\n    mavenCentral()\n    maven {\n        url \"https://maven.google.com\" // Google's Maven repository\n    }\n\n}\n}\n\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n}\n</code></pre>\n\n<p><strong>After Solving the error the struture is :</strong></p>\n\n<pre><code>buildscript {\next.kotlin_version = '1.3.50'\nrepositories {\n     maven {\n        url \"https://maven.google.com\"\n    }\n    google()\n    jcenter()\n    mavenCentral()\n\n\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.5.3'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    classpath 'com.github.jengelman.gradle.plugins:shadow:1.2.3'\n    classpath 'com.google.gms:google-services:4.3.3'\n    // NOTE: Do not place your application dependencies here; they belong\n    // in the individual module build.gradle files\n}\n}\n\nallprojects {\nrepositories {\n    maven {\n        url \"https://maven.google.com\" // Google's Maven repository\n    }\n    google()\n    jcenter()\n    mavenCentral()\n\n\n}\n}\n\ntask clean(type: Delete) {\ndelete rootProject.buildDir\n}\n</code></pre>\n\n<p><strong>By default it tries to download using google() as it comes first in the sequence but when we move maven on top of all then it creates the build again using maven and the build succeeds</strong>. Cheers :)</p>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 8019837, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8526f321947fa7a62ffe4beb8a70be9?s=128&d=identicon&r=PG&f=1", "display_name": "akshat tailang", "link": "https://stackoverflow.com/users/8019837/akshat-tailang"}, "edited": false, "score": 0, "creation_date": 1589404096, "post_id": 59466530, "comment_id": 109285120, "body": "This Didn&#39;t help in my case!"}], "tags": [], "owner": {"reputation": 1391, "user_id": 4308897, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-X67wO4XjVAE/AAAAAAAAAAI/AAAAAAAAADw/NacwJv67gHI/photo.jpg?sz=128", "display_name": "Ercan", "link": "https://stackoverflow.com/users/4308897/ercan"}, "is_accepted": false, "score": 0, "last_activity_date": 1577179380, "creation_date": 1577179380, "answer_id": 59466530, "question_id": 44598848, "link": "https://stackoverflow.com/questions/44598848/error-supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure/59466530#59466530", "title": "error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath", "body": "<p>When setting up the crashlytics to my app, I used \"recommended\" dependency as well, as shown below. But this was the part causes error.</p>\n\n<pre><code>// Firebase Crashlytics\n// (Recommended) Add the Google Analytics dependency.\nimplementation 'com.google.firebase:firebase-analytics:17.2.1'\nimplementation 'com.crashlytics.sdk.android:crashlytics:2.10.1'\n</code></pre>\n\n<p>Removing \"analytics\" line solved my problem. </p>\n\n<pre><code>// Firebase Crashlytics\nimplementation 'com.crashlytics.sdk.android:crashlytics:2.10.1'\n</code></pre>\n\n<p>Hope this helps someone else too, </p>\n\n<p>best </p>\n"}, {"tags": [], "owner": {"reputation": 147, "user_id": 12098597, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb07a2e42eb507dad6b60de673011a87?s=128&d=identicon&r=PG&f=1", "display_name": "Shuvo", "link": "https://stackoverflow.com/users/12098597/shuvo"}, "is_accepted": false, "score": -2, "last_activity_date": 1582454350, "creation_date": 1582454350, "answer_id": 60361327, "question_id": 44598848, "link": "https://stackoverflow.com/questions/44598848/error-supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure/60361327#60361327", "title": "error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath", "body": "<p>Update your Android Studio sdk and run this project again.. Then your problem will be solved..</p>\n"}, {"tags": [], "owner": {"reputation": 180, "user_id": 373257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da2d11da9e1baaf93062aec854d9766f?s=128&d=identicon&r=PG", "display_name": "Bipin", "link": "https://stackoverflow.com/users/373257/bipin"}, "is_accepted": false, "score": 0, "last_activity_date": 1586812625, "creation_date": 1586812625, "answer_id": 61196924, "question_id": 44598848, "link": "https://stackoverflow.com/questions/44598848/error-supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure/61196924#61196924", "title": "error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath", "body": "<p>(App)-----depends----(library)</p>\n\n<p>In my case I did not change any dependencies configuration nor i change the order.\nI had to copy a local pojo(model) jar file from the library module to App.</p>\n\n<p>App is in kotlin\nlibrary is in java</p>\n\n<p>Its a bug, I should not have pojo.jar in app and library </p>\n"}, {"tags": [], "owner": {"reputation": 345, "user_id": 8945078, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215398012164405/picture?type=large", "display_name": "Thiago Silva", "link": "https://stackoverflow.com/users/8945078/thiago-silva"}, "is_accepted": false, "score": 0, "last_activity_date": 1587122742, "creation_date": 1587122742, "answer_id": 61270491, "question_id": 44598848, "link": "https://stackoverflow.com/questions/44598848/error-supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure/61270491#61270491", "title": "error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath", "body": "<p>I fixed this error upgrading others libraries.\nMy error showed when I added firebase=ads (from google adsmob). \nSo I found a conflict in my firebase-auth (16.0.5) and firebase ads (19.0.1).</p>\n\n<p>Migrating firebase to 19.3.0 solved the problem.</p>\n"}, {"tags": [], "owner": {"reputation": 1258, "user_id": 8371825, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b409bd818fe0ab6a3380fc0b6f4cfe6?s=128&d=identicon&r=PG&f=1", "display_name": "jon", "link": "https://stackoverflow.com/users/8371825/jon"}, "is_accepted": false, "score": 0, "last_activity_date": 1588864816, "creation_date": 1588864816, "answer_id": 61661464, "question_id": 44598848, "link": "https://stackoverflow.com/questions/44598848/error-supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure/61661464#61661464", "title": "error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath", "body": "<p>In my case, I had removed an unused <code>OnFragmentInteractionListener</code> in a fragment:</p>\n\n<pre><code>public interface OnFragmentInteractionListener {\n    // TODO: Update argument type and name\n    void onFragmentInteraction(Uri uri);\n}\n</code></pre>\n\n<p>However, In my activity I had failed to remove a reference to this <code>OnFragmentInteractionListener</code> :</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity implements\n        MyFragment.OnFragmentInteractionListener {\n</code></pre>\n\n<p>Strangely, instead of giving an error that indicated the <code>OnFragmentInteractionListener</code> was not found, I received the above <strong>\"supertypes of the following classes cannot be resolved\"</strong> with no reference to the classes.</p>\n"}, {"tags": [], "owner": {"reputation": 181, "user_id": 12745710, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mANQn_pEGaq2URvLjeJH0YxK2bMzspUFhVi3ikNGw=k-s128", "display_name": "Emmanuel Ametepee", "link": "https://stackoverflow.com/users/12745710/emmanuel-ametepee"}, "is_accepted": false, "score": 0, "last_activity_date": 1593534336, "creation_date": 1593534336, "answer_id": 62661949, "question_id": 44598848, "link": "https://stackoverflow.com/questions/44598848/error-supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure/62661949#62661949", "title": "error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath", "body": "<p>In my case, I went to the project structure and updated all firebase dependencies to the latest and the highest. At the moment here are implementations with their versions:</p>\n<pre><code>    implementation 'com.google.firebase:firebase-auth:19.3.1'\n    implementation 'com.google.firebase:firebase-database:19.3.1'\n    implementation 'com.google.firebase:firebase-storage:19.1.1'\n    implementation 'com.google.firebase:firebase-analytics:17.4.3'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 997, "user_id": 12787264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/grb3o.jpg?s=128&g=1", "display_name": "finnmglas", "link": "https://stackoverflow.com/users/12787264/finnmglas"}, "edited": false, "score": 0, "creation_date": 1596118379, "post_id": 63174484, "comment_id": 111714209, "body": "This does not answer the question and should be removed. If you want to comment on a post, you should provide <a href=\"https://stackoverflow.com/help/how-to-answer\">actual answers</a> to earn the reputation necessary to comment (which is 50, see <a href=\"https://stackoverflow.com/help/privileges\">privileges</a>)"}, {"owner": {"reputation": 18920, "user_id": 516910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ecb6fe519e40259b1b51de9c2b5c8a6a?s=128&d=identicon&r=PG", "display_name": "broc.seib", "link": "https://stackoverflow.com/users/516910/broc-seib"}, "reply_to_user": {"reputation": 997, "user_id": 12787264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/grb3o.jpg?s=128&g=1", "display_name": "finnmglas", "link": "https://stackoverflow.com/users/12787264/finnmglas"}, "edited": false, "score": 0, "creation_date": 1611939406, "post_id": 63174484, "comment_id": 116619908, "body": "@finnmglas why do you view this as not being an answer? W"}, {"owner": {"reputation": 997, "user_id": 12787264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/grb3o.jpg?s=128&g=1", "display_name": "finnmglas", "link": "https://stackoverflow.com/users/12787264/finnmglas"}, "reply_to_user": {"reputation": 18920, "user_id": 516910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ecb6fe519e40259b1b51de9c2b5c8a6a?s=128&d=identicon&r=PG", "display_name": "broc.seib", "link": "https://stackoverflow.com/users/516910/broc-seib"}, "edited": false, "score": 0, "creation_date": 1611943011, "post_id": 63174484, "comment_id": 116621374, "body": "@broc.seib It appeared to be more of a comment than an answer (especially as Sangeetha&#39;s reputation was below 50). The question was solved by other answers showing the problem was way more complex than something that goes away by rebuilding :D"}, {"owner": {"reputation": 153, "user_id": 12883471, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5NQDdcdE-LY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdpVsN1pHgFgOb848Q3t0GX9S-FOw/photo.jpg?sz=128", "display_name": "Sangeetha Sakthivel", "link": "https://stackoverflow.com/users/12883471/sangeetha-sakthivel"}, "reply_to_user": {"reputation": 997, "user_id": 12787264, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/grb3o.jpg?s=128&g=1", "display_name": "finnmglas", "link": "https://stackoverflow.com/users/12787264/finnmglas"}, "edited": false, "score": 0, "creation_date": 1616858054, "post_id": 63174484, "comment_id": 118137289, "body": "@finnmglas Thanks that you are very much concerned about the answer and Even I had the same problem and it is solved by just rebuilding my project and I thought it might help him and I hope I didn&#39;t add something which is not necessary on this forum"}, {"owner": {"reputation": 153, "user_id": 12883471, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5NQDdcdE-LY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdpVsN1pHgFgOb848Q3t0GX9S-FOw/photo.jpg?sz=128", "display_name": "Sangeetha Sakthivel", "link": "https://stackoverflow.com/users/12883471/sangeetha-sakthivel"}, "reply_to_user": {"reputation": 18920, "user_id": 516910, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ecb6fe519e40259b1b51de9c2b5c8a6a?s=128&d=identicon&r=PG", "display_name": "broc.seib", "link": "https://stackoverflow.com/users/516910/broc-seib"}, "edited": false, "score": 0, "creation_date": 1616858087, "post_id": 63174484, "comment_id": 118137299, "body": "@broc.seib Thanks"}], "tags": [], "owner": {"reputation": 153, "user_id": 12883471, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5NQDdcdE-LY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdpVsN1pHgFgOb848Q3t0GX9S-FOw/photo.jpg?sz=128", "display_name": "Sangeetha Sakthivel", "link": "https://stackoverflow.com/users/12883471/sangeetha-sakthivel"}, "is_accepted": false, "score": 0, "last_activity_date": 1596116519, "creation_date": 1596116519, "answer_id": 63174484, "question_id": 44598848, "link": "https://stackoverflow.com/questions/44598848/error-supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure/63174484#63174484", "title": "error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath", "body": "<p>Clean Project and Rebuild it This works for me</p>\n"}, {"tags": [], "owner": {"reputation": 9451, "user_id": 1342096, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xmB1y.gif?s=128&g=1", "display_name": "Min2", "link": "https://stackoverflow.com/users/1342096/min2"}, "is_accepted": false, "score": 0, "last_activity_date": 1606296261, "last_edit_date": 1606296261, "creation_date": 1605959831, "answer_id": 64942763, "question_id": 44598848, "link": "https://stackoverflow.com/questions/44598848/error-supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure/64942763#64942763", "title": "error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath", "body": "<p>Well in my case this error randomly occurs which usually occurs during execution through Android Studio.</p>\n<p>The root cause was that My Activity class were extending some interfaces which was in another nested package:</p>\n<p><strong>package tv.activities</strong></p>\n<pre><code>public class MainActivity implements MyListener {\n\n} \n</code></pre>\n<p><strong>package tv.activities.error</strong></p>\n<pre><code>interface MyListener {\n\n}\n</code></pre>\n<p>Hence it usually happens during execution but after second run it resolves automatically so no one bother to resolve it. Sometimes Android Studio fail to recognise that interface is accessible so there is no sense of showing error for the same:</p>\n<pre><code>Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath:\n    class tv.activities.MainActivity, unresolved supertypes: MyListener\n</code></pre>\n<p><strong>Final Solution:</strong></p>\n<p><strong>Making interface public resolves this issue permanently.</strong></p>\n<pre><code>public interface MyListener {\n}\n</code></pre>\n<p>Or refactor the package accessibility where AS doesn't get confuse</p>\n"}], "owner": {"reputation": 691, "user_id": 6769980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7bff8fcbc226504d3d40afa0997b9916?s=128&d=identicon&r=PG&f=1", "display_name": "junioregis", "link": "https://stackoverflow.com/users/6769980/junioregis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49632, "favorite_count": 4, "answer_count": 15, "score": 43, "last_activity_date": 1606296261, "creation_date": 1497652446, "last_edit_date": 1497958811, "question_id": 44598848, "link": "https://stackoverflow.com/questions/44598848/error-supertypes-of-the-following-classes-cannot-be-resolved-please-make-sure", "title": "error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath", "body": "<p>I can't compile my Android Kotlin project.</p>\n\n<p>I have no idea what is this...</p>\n\n<p><strong>Gradle log:</strong></p>\n\n<p>error: supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath:\nclass android.support.v7.app.AppCompatActivity, unresolved supertypes: SupportParentable</p>\n\n<p><strong>build.gradle (app)</strong></p>\n\n<pre><code>buildscript {\n    ext.android_plugin_version = \"2.3.3\"\n    ext.kotlin_version = '1.1.2-5'\n\n    repositories {\n        maven { url 'https://maven.google.com' }\n        maven { url \"https://jitpack.io\" }\n\n        mavenCentral()\n    }\n\n    dependencies {\n        classpath \"com.android.tools.build:gradle:$android_plugin_version\"\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nallprojects {\n    repositories {\n        maven { url 'https://maven.google.com' }\n        maven { url \"https://jitpack.io\" }\n\n        mavenCentral()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\ndef compat_version = '26.+'\ndef play_services_version = '11.0.1'\ndef firebase_version = '9.6.1'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.0\"\n\n    defaultConfig {\n        applicationId \"com.site.app\"\n        minSdkVersion 19\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n        javaCompileOptions {\n            annotationProcessorOptions {\n                arguments = [\"library\" : \"true\"]\n            }\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    dexOptions {\n        javaMaxHeapSize \"4g\"\n    }\n\n    dataBinding {\n        enabled true\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_7\n        targetCompatibility JavaVersion.VERSION_1_7\n    }\n}\n\nkapt {\n    generateStubs = true\n    correctErrorTypes = true\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    testCompile 'junit:junit:4.12'\n\n    // android\n    compile 'com.android.support:multidex:1.0.1'\n    compile \"com.android.support:appcompat-v7:${compat_version}\"\n    compile \"com.android.support:design:${compat_version}\"\n    compile \"com.android.support:cardview-v7:${compat_version}\"\n    compile \"com.android.support:recyclerview-v7:${compat_version}\"\n    compile \"com.android.support:gridlayout-v7:${compat_version}\"\n    compile \"com.google.android.gms:play-services:${play_services_version}\"\n    compile \"com.google.android.gms:play-services-ads:${play_services_version}\"\n    compile \"com.google.android.gms:play-services-maps:${play_services_version}\"\n    compile 'com.android.support.constraint:constraint-layout:1.0.2'\n    compile 'com.google.maps.android:android-maps-utils:0.4+'\n    kapt \"com.android.databinding:compiler:$android_plugin_version\"\n\n    // kotlin\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-junit:$kotlin_version\"\n}\n</code></pre>\n"}, {"tags": ["android", "android-activity", "kotlin"], "comments": [{"owner": {"reputation": 654, "user_id": 2129362, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/75bff4c04db99fa4c96762ce684d3da6?s=128&d=identicon&r=PG", "display_name": "Ramki Anba", "link": "https://stackoverflow.com/users/2129362/ramki-anba"}, "edited": false, "score": 0, "creation_date": 1514356791, "post_id": 44597348, "comment_id": 82943688, "body": "I have same issue. what is the issue on AppInjector, can you suggest it"}], "answers": [{"tags": [], "owner": {"reputation": 295, "user_id": 1538992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38ba99e0e0be941ec7f092e8876fbcbf?s=128&d=identicon&r=PG", "display_name": "mcassiano", "link": "https://stackoverflow.com/users/1538992/mcassiano"}, "is_accepted": true, "score": 10, "last_activity_date": 1497644836, "creation_date": 1497644836, "answer_id": 44597473, "question_id": 44597348, "link": "https://stackoverflow.com/questions/44597348/illegalargumentexception-savedinstancestate-specified-as-non-null-is-null/44597473#44597473", "title": "IllegalArgumentException: savedInstanceState Specified as Non-Null is Null", "body": "<p>It seems like the issue isn't in the <code>onCreate</code> method. Try looking at <code>com.android.example.github.injection.AppInjector$init$1.onActivityCreated(AppInjector.kt)</code>. I can't tell if it's a generated class, but it should give you an idea of what to do next.</p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 1830244, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1d5c5255be43478b9ac67b43a9a0853?s=128&d=identicon&r=PG", "display_name": "creativedrewy", "link": "https://stackoverflow.com/users/1830244/creativedrewy"}, "is_accepted": false, "score": 2, "last_activity_date": 1497651297, "creation_date": 1497651297, "answer_id": 44598692, "question_id": 44597348, "link": "https://stackoverflow.com/questions/44597348/illegalargumentexception-savedinstancestate-specified-as-non-null-is-null/44598692#44598692", "title": "IllegalArgumentException: savedInstanceState Specified as Non-Null is Null", "body": "<p>As @mcassiano noted, it appears the issue isn't with your <code>onCreate</code> method but actually <code>onActivityCreated</code>. Two thoughts:</p>\n\n<ul>\n<li>Due to the fact that libraries and such are in transition, for now you may have to just manually override <code>onActivityCreated</code> in your fragment and explicitly mark the Bundle as nullable: <code>(savedInstanceState: Bundle?)</code>. You shouldn't have to, but manually setting up the nullability may just help.</li>\n<li>I notice that the crash goes all the way down to BaseFragmentActivityGingerbread - is this a result of using the LifecycleActivity? Or do you have other, older, out-of-date dependencies in your project?</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 6067, "user_id": 3251783, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6eRHv.jpg?s=128&g=1", "display_name": "Kishore Jethava", "link": "https://stackoverflow.com/users/3251783/kishore-jethava"}, "edited": false, "score": 1, "creation_date": 1514724486, "post_id": 44769319, "comment_id": 83055741, "body": "What if i can&#39;t able to change this definition? for ex. SDK library functions!"}, {"owner": {"reputation": 3473, "user_id": 3821287, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/144b17c1457bed92e26e8b1b4ba1425f?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas P.", "link": "https://stackoverflow.com/users/3821287/lucas-p"}, "edited": false, "score": 8, "creation_date": 1520549980, "post_id": 44769319, "comment_id": 85373657, "body": "Thanks! My DialogFragments (converted form java to Kotlin from Android Studio) were crashing and just a simple ? on the Bundle in the <code>onCreateDialog(savedInstanceState: Bundle?): Dialog</code> fixed it!"}, {"owner": {"reputation": 7439, "user_id": 2848676, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BEAn9.jpg?s=128&g=1", "display_name": "Michael Osofsky", "link": "https://stackoverflow.com/users/2848676/michael-osofsky"}, "edited": false, "score": 0, "creation_date": 1526924954, "post_id": 44769319, "comment_id": 87921499, "body": "Seems like this changes the signature of an inherited function.  I confirmed it works though, no compiler errors.  In what other ways can we change the signature of a function that we override?"}, {"owner": {"reputation": 564, "user_id": 2967672, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/100001252541663/picture?type=large", "display_name": "Paras Sidhu", "link": "https://stackoverflow.com/users/2967672/paras-sidhu"}, "reply_to_user": {"reputation": 3473, "user_id": 3821287, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/144b17c1457bed92e26e8b1b4ba1425f?s=128&d=identicon&r=PG&f=1", "display_name": "Lucas P.", "link": "https://stackoverflow.com/users/3821287/lucas-p"}, "edited": false, "score": 1, "creation_date": 1588315539, "post_id": 44769319, "comment_id": 108855172, "body": "@LucasP. Thank You! You saved me hours!"}], "tags": [], "owner": {"reputation": 2230, "user_id": 3060279, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100003359002838/picture?type=large", "display_name": "lxknvlk", "link": "https://stackoverflow.com/users/3060279/lxknvlk"}, "is_accepted": false, "score": 69, "last_activity_date": 1498514531, "creation_date": 1498514531, "answer_id": 44769319, "question_id": 44597348, "link": "https://stackoverflow.com/questions/44597348/illegalargumentexception-savedinstancestate-specified-as-non-null-is-null/44769319#44769319", "title": "IllegalArgumentException: savedInstanceState Specified as Non-Null is Null", "body": "<p>I had the exact same problem, you have to make nullable types here:</p>\n\n<pre><code>override fun onCreatePreferences(bundle: Bundle?, s: String?) {}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1740, "user_id": 1773001, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/f37ddc84473bcb0f9b4ecf414774a38a?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/1773001/chris"}, "is_accepted": false, "score": 19, "last_activity_date": 1515873865, "creation_date": 1515873865, "answer_id": 48243821, "question_id": 44597348, "link": "https://stackoverflow.com/questions/44597348/illegalargumentexception-savedinstancestate-specified-as-non-null-is-null/48243821#48243821", "title": "IllegalArgumentException: savedInstanceState Specified as Non-Null is Null", "body": "<p>The issue is in the AppInjector. I used the google GitHubBrowser sample like you did and ran into this same error. I copied the code over to my project and let Android Studio convert it to Kotlin. When it did this it didn't properly specify the nullability of the <code>savedInstanceState</code> parameter which is what is causing the crash. Just make it optional like in the below code and it will work.</p>\n\n<pre><code>object AppInjector {\n    fun init(app: App) {\n        DaggerAppComponent.builder().application(app)\n                .build().inject(app)\n        app\n                .registerActivityLifecycleCallbacks(object : Application.ActivityLifecycleCallbacks {\n                    override fun onActivityCreated(activity: Activity, savedInstanceState: Bundle?) {\n                        handleActivity(activity)\n                    }\n\n                    override fun onActivityStarted(activity: Activity) {\n\n                    }\n\n                    override fun onActivityResumed(activity: Activity) {\n\n                    }\n\n                    override fun onActivityPaused(activity: Activity) {\n\n                    }\n\n                    override fun onActivityStopped(activity: Activity) {\n\n                    }\n\n                    override fun onActivitySaveInstanceState(activity: Activity, outState: Bundle) {\n\n                    }\n\n                    override fun onActivityDestroyed(activity: Activity) {\n\n                    }\n                })\n    }\n\n    private fun handleActivity(activity: Activity) {\n        if (activity is HasSupportFragmentInjector) {\n            AndroidInjection.inject(activity)\n        }\n        (activity as? FragmentActivity)?.supportFragmentManager?.registerFragmentLifecycleCallbacks(\n                object : FragmentManager.FragmentLifecycleCallbacks() {\n                    override fun onFragmentCreated(fm: FragmentManager?, f: Fragment?,\n                                                   savedInstanceState: Bundle?) {\n                        if (f is Injectable) {\n                            AndroidSupportInjection.inject(f)\n                        }\n                    }\n                }, true)\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1323, "user_id": 8206432, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh3.googleusercontent.com/-23DNVlLluZk/AAAAAAAAAAI/AAAAAAAAAEo/Ebjepzhl6i8/photo.jpg?sz=128", "display_name": "Jack Moody", "link": "https://stackoverflow.com/users/8206432/jack-moody"}, "edited": false, "score": 1, "creation_date": 1550084667, "post_id": 54677422, "comment_id": 96144327, "body": "Thanks for adding an answer! Would you mind explaining what you are doing in your solution?"}], "tags": [], "owner": {"reputation": 131, "user_id": 8927831, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-t1PMEbZPOyw/AAAAAAAAAAI/AAAAAAAAAIM/ikomct7kIB8/photo.jpg?sz=128", "display_name": "Andrew Bekhtold", "link": "https://stackoverflow.com/users/8927831/andrew-bekhtold"}, "is_accepted": false, "score": 13, "last_activity_date": 1550238146, "last_edit_date": 1550238146, "creation_date": 1550083953, "answer_id": 54677422, "question_id": 44597348, "link": "https://stackoverflow.com/questions/44597348/illegalargumentexception-savedinstancestate-specified-as-non-null-is-null/54677422#54677422", "title": "IllegalArgumentException: savedInstanceState Specified as Non-Null is Null", "body": "<p>You may use null-coalescing operator <code>?:</code>. The <code>savedInstanceState</code> will be passed to the <code>super.onCreate</code> method only if it is <code>@NonNull</code>, otherwise, if it is <code>null</code>, an empty <code>Bundle()</code> will be passed.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState?: Bundle())\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8612490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dca22c3bf554ffdc8e09ec8f2405f343?s=128&d=identicon&r=PG&f=1", "display_name": "Ku narutokan", "link": "https://stackoverflow.com/users/8612490/ku-narutokan"}, "is_accepted": false, "score": 0, "last_activity_date": 1570160816, "creation_date": 1570160816, "answer_id": 58229640, "question_id": 44597348, "link": "https://stackoverflow.com/questions/44597348/illegalargumentexception-savedinstancestate-specified-as-non-null-is-null/58229640#58229640", "title": "IllegalArgumentException: savedInstanceState Specified as Non-Null is Null", "body": "<p>You know that inside function <code>super.onCreate</code> looks like <code>public void onCreate(Bundle savedInstanceState)</code> this saveInstanceState cannot be Null and may be calling function can be connect to orther functions. In my case, <code>super.onCreate</code> connects to <code>onCreatePreferences</code>then i fixed this problem, this code following to:</p>\n\n<pre><code>override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {\n\n    addPreferencesFromResource(R.xml.preferences_pomodoro)\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState?:Bundle.EMPTY)\n\n    if (context != null) {\n        sharedPreferences = PreferenceManager.getDefaultSharedPreferences(context!!)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 11878751, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8-QEaVIEhVQ/AAAAAAAAAAI/AAAAAAABs44/unfOXYCPfUE/photo.jpg?sz=128", "display_name": "Amir Golan", "link": "https://stackoverflow.com/users/11878751/amir-golan"}, "is_accepted": false, "score": 0, "last_activity_date": 1600536688, "creation_date": 1600536688, "answer_id": 63971567, "question_id": 44597348, "link": "https://stackoverflow.com/questions/44597348/illegalargumentexception-savedinstancestate-specified-as-non-null-is-null/63971567#63971567", "title": "IllegalArgumentException: savedInstanceState Specified as Non-Null is Null", "body": "<p>if nothing else works, you can just pass an empty Bundle this way:</p>\n<pre><code>if (savedInstanceState == null)\n    savedInstanceState = new Bundle();\nsuper.onCreate(savedInstanceState);\n</code></pre>\n<p>or if you always want an empty bundle then simply:</p>\n<pre><code>super.onCreate(new Bundle());\n</code></pre>\n<p>Mayne not so pretty, but works.</p>\n"}], "owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12315, "favorite_count": 4, "accepted_answer_id": 44597473, "answer_count": 7, "score": 38, "last_activity_date": 1600536688, "creation_date": 1497644298, "question_id": 44597348, "link": "https://stackoverflow.com/questions/44597348/illegalargumentexception-savedinstancestate-specified-as-non-null-is-null", "title": "IllegalArgumentException: savedInstanceState Specified as Non-Null is Null", "body": "<p>I am getting a strange error when I start my <code>MainActivity</code>:</p>\n\n<pre><code>06-16 16:01:05.193 2083-2083/? E/AndroidRuntime: FATAL EXCEPTION: main\n        Process: com.android.example.github, PID: 2083\n        java.lang.RuntimeException: Unable to start activity ComponentInfo{com.android.example.github/com.android.example.github.ui.MainActivity}: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter savedInstanceState\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2666)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2727)\n            at android.app.ActivityThread.-wrap12(ActivityThread.java)\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1478)\n            at android.os.Handler.dispatchMessage(Handler.java:102)\n            at android.os.Looper.loop(Looper.java:154)\n            at android.app.ActivityThread.main(ActivityThread.java:6121)\n            at java.lang.reflect.Method.invoke(Native Method)\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\n          Caused by: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter savedInstanceState\n            at com.android.example.github.injection.AppInjector$init$1.onActivityCreated(AppInjector.kt)\n            at android.app.Application.dispatchActivityCreated(Application.java:197)\n            at android.app.Activity.onCreate(Activity.java:961)\n            at android.support.v4.app.BaseFragmentActivityGingerbread.onCreate(BaseFragmentActivityGingerbread.java:54)\n            at android.support.v4.app.FragmentActivity.onCreate(FragmentActivity.java:319)\n            at com.android.example.github.ui.MainActivity.onCreate(MainActivity.kt:20)\n            at android.app.Activity.performCreate(Activity.java:6682)\n            at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n            at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2619)\n            at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2727)\u00a0\n            at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n            at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1478)\u00a0\n            at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n            at android.os.Looper.loop(Looper.java:154)\u00a0\n            at android.app.ActivityThread.main(ActivityThread.java:6121)\u00a0\n            at java.lang.reflect.Method.invoke(Native Method)\u00a0\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:889)\u00a0\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:779)\u00a0\n</code></pre>\n\n<p>This is my <code>MainActivity</code> class:</p>\n\n<pre><code>class MainActivity : LifecycleActivity(), HasSupportFragmentInjector {\n\n    lateinit var dispatchingAndroidInjector: DispatchingAndroidInjector&lt;Fragment&gt;\n        @Inject set\n\n    lateinit var navigationController: NavigationController\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.main_activity)\n\n        if (savedInstanceState == null) {\n            navigationController.navigateToSearch()\n        }\n    }\n\n    override fun supportFragmentInjector(): AndroidInjector&lt;Fragment&gt; {\n        return dispatchingAndroidInjector\n    }\n\n}\n</code></pre>\n\n<p>The error states that the parameter <code>savedInstanceState</code> is null, when it is specified as non-null; but it is nullable (<code>savedInstanceState: Bundle?</code>) and the <code>onCreate()</code> method is marked as <code>@Nullable</code> in the source.</p>\n\n<p>I have not come across this error in any of my other Kotlin projects. I am using Kotlin version 1.1.2-5; and had the same error with 1.1.2-3.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 5, "creation_date": 1497636861, "post_id": 44595529, "comment_id": 76179121, "body": "Somewhere in between a different thread could have changed the value to null again. I&#39;m pretty sure answers on the other questions mention that as well."}, {"owner": {"reputation": 11535, "user_id": 1267663, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/cv7Po.jpg?s=128&g=1", "display_name": "Whymarrh", "link": "https://stackoverflow.com/users/1267663/whymarrh"}, "edited": false, "score": 3, "creation_date": 1497636968, "post_id": 44595529, "comment_id": 76179176, "body": "You could use a <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"nofollow noreferrer\">safe call</a> to add"}, {"owner": {"reputation": 10605, "user_id": 1949554, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d43d63dddaff1f4e278a9cdfdcf3b817?s=128&d=identicon&r=PG&f=1", "display_name": "FRR", "link": "https://stackoverflow.com/users/1949554/frr"}, "reply_to_user": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "edited": false, "score": 0, "creation_date": 1497637182, "post_id": 44595529, "comment_id": 76179301, "body": "thanks @nhaarman that makes sense, Whymarrh how can do that? I thought safe calls were only for objects not methods"}, {"owner": {"reputation": 26542, "user_id": 3699139, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pYdt3.jpg?s=128&g=1", "display_name": "Jorn Vernee", "link": "https://stackoverflow.com/users/3699139/jorn-vernee"}, "edited": false, "score": 7, "creation_date": 1497637309, "post_id": 44595529, "comment_id": 76179362, "body": "Something like: <code>n.left?.let { queue.add(it) }</code> I think?"}], "answers": [{"comments": [{"owner": {"reputation": 6181, "user_id": 1025555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GBIIj.png?s=128&g=1", "display_name": "Good Night Nerd Pride", "link": "https://stackoverflow.com/users/1025555/good-night-nerd-pride"}, "edited": false, "score": 10, "creation_date": 1510397326, "post_id": 44596284, "comment_id": 81424250, "body": "4. Think of a more functional solution to your problem that doesn&#39;t require mutable variables."}, {"owner": {"reputation": 961, "user_id": 8463412, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-AsVe6ZFmeDU/AAAAAAAAAAI/AAAAAAAAADQ/pQ5YSEATEPg/photo.jpg?sz=128", "display_name": "sak", "link": "https://stackoverflow.com/users/8463412/sak"}, "edited": false, "score": 0, "creation_date": 1532087249, "post_id": 44596284, "comment_id": 89853452, "body": "What is this n in n.left?"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 961, "user_id": 8463412, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-AsVe6ZFmeDU/AAAAAAAAAAI/AAAAAAAAADQ/pQ5YSEATEPg/photo.jpg?sz=128", "display_name": "sak", "link": "https://stackoverflow.com/users/8463412/sak"}, "edited": false, "score": 1, "creation_date": 1532117742, "post_id": 44596284, "comment_id": 89869973, "body": "@sak It was an instance of a <code>Node</code> class defined in the original version of the question which had a more complicated code snippet with <code>n.left</code> instead of simply <code>left</code>. I&#39;ve updated the answer accordingly. Thanks."}, {"owner": {"reputation": 961, "user_id": 8463412, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-AsVe6ZFmeDU/AAAAAAAAAAI/AAAAAAAAADQ/pQ5YSEATEPg/photo.jpg?sz=128", "display_name": "sak", "link": "https://stackoverflow.com/users/8463412/sak"}, "edited": false, "score": 0, "creation_date": 1532148047, "post_id": 44596284, "comment_id": 89875494, "body": "@mfulton26 Thanks for making it clear, but what if I have this error for 3 variables? e.g: &quot;MyAsyncTask().execute(a1,a2,a3)&quot; and here a1, a2, a3 all giving smart cast error."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 961, "user_id": 8463412, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-AsVe6ZFmeDU/AAAAAAAAAAI/AAAAAAAAADQ/pQ5YSEATEPg/photo.jpg?sz=128", "display_name": "sak", "link": "https://stackoverflow.com/users/8463412/sak"}, "edited": false, "score": 1, "creation_date": 1532180832, "post_id": 44596284, "comment_id": 89882861, "body": "@sak The same concepts apply. You can create a new <code>val</code> for each <code>var</code>, nest several <code>?.let</code> statements, or use several <code>?: return</code> statements depending on your function. e.g. <code>MyAsyncTask().execute(a1 ?: return, a2 ?: return, a3 ?: return)</code>. You can also try one of the solutions for a <a href=\"https://stackoverflow.com/q/35513636/3255152\">&quot;multiple variable let&quot;</a>."}, {"owner": {"reputation": 961, "user_id": 8463412, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-AsVe6ZFmeDU/AAAAAAAAAAI/AAAAAAAAADQ/pQ5YSEATEPg/photo.jpg?sz=128", "display_name": "sak", "link": "https://stackoverflow.com/users/8463412/sak"}, "edited": false, "score": 0, "creation_date": 1532684663, "post_id": 44596284, "comment_id": 90077293, "body": "@mfulton26 Thanks!"}, {"owner": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "edited": false, "score": 2, "creation_date": 1563606934, "post_id": 44596284, "comment_id": 100762867, "body": "If there is a mutable variable in Kotlin that means it&#39;s required at some point. So, instead of being smartass propose a solution"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "edited": false, "score": 1, "creation_date": 1563812682, "post_id": 44596284, "comment_id": 100815627, "body": "@FARID who are referring to?"}, {"owner": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "reply_to_user": {"reputation": 6181, "user_id": 1025555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GBIIj.png?s=128&g=1", "display_name": "Good Night Nerd Pride", "link": "https://stackoverflow.com/users/1025555/good-night-nerd-pride"}, "edited": false, "score": 1, "creation_date": 1563813401, "post_id": 44596284, "comment_id": 100815917, "body": "to @GoodNightNerdPride, I forgot to tag the user"}, {"owner": {"reputation": 6181, "user_id": 1025555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GBIIj.png?s=128&g=1", "display_name": "Good Night Nerd Pride", "link": "https://stackoverflow.com/users/1025555/good-night-nerd-pride"}, "reply_to_user": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "edited": false, "score": 1, "creation_date": 1563815402, "post_id": 44596284, "comment_id": 100816750, "body": "@FARID, I wasn&#39;t trying to be a smart ass. Re-thinking your design to rely less on mutability is a valid approach to solve concurrency issues."}, {"owner": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "reply_to_user": {"reputation": 6181, "user_id": 1025555, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GBIIj.png?s=128&g=1", "display_name": "Good Night Nerd Pride", "link": "https://stackoverflow.com/users/1025555/good-night-nerd-pride"}, "edited": false, "score": 1, "creation_date": 1563867071, "post_id": 44596284, "comment_id": 100832129, "body": "@GoodNightNerdPride, apparently, I went far by calling you a name, sorry for that. But at some point, we have to use <code>mutable</code> consequently end up in a mess and looking for a proper solution. Every time I take a look at comments to see others&#39; ideas on the solution while checking the answer. I just carried away for a moment by your answer and unnecessarily vent spleen on you ))"}, {"owner": {"reputation": 881, "user_id": 5526322, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh5.googleusercontent.com/-U3x-dmLrzEc/AAAAAAAAAAI/AAAAAAAAAF4/k3qwuNMq9F4/photo.jpg?sz=128", "display_name": "Alan Nelson", "link": "https://stackoverflow.com/users/5526322/alan-nelson"}, "edited": false, "score": 1, "creation_date": 1565805909, "post_id": 44596284, "comment_id": 101469234, "body": "number 3&#39;s my favorite!"}, {"owner": {"reputation": 407, "user_id": 8345451, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-r622c9I-XoM/AAAAAAAAAAI/AAAAAAAANe4/GElaI1-RFug/photo.jpg?sz=128", "display_name": "Divya Gupta", "link": "https://stackoverflow.com/users/8345451/divya-gupta"}, "edited": false, "score": 0, "creation_date": 1577778989, "post_id": 44596284, "comment_id": 105251594, "body": "Will the first option be safe? I mean it will not create any NPE later right? @mfulton26. Because I will be making these changes in production environment."}, {"owner": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "edited": false, "score": 3, "creation_date": 1577783610, "post_id": 44596284, "comment_id": 105253068, "body": "Yes, it&#39;s safe. When a variable is declared as class global, any thread can modify its value. But in case of a local variable (a variable declared inside a function), that variable is not reachable from other threads, so safe to use."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 407, "user_id": 8345451, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-r622c9I-XoM/AAAAAAAAAAI/AAAAAAAANe4/GElaI1-RFug/photo.jpg?sz=128", "display_name": "Divya Gupta", "link": "https://stackoverflow.com/users/8345451/divya-gupta"}, "edited": false, "score": 1, "creation_date": 1577978061, "post_id": 44596284, "comment_id": 105299130, "body": "@DivyaGupta, Farid is correct, it is null safe. See <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"nofollow noreferrer\">Null Safety - Kotlin Programming Language</a> for more details."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7552591"}, "edited": false, "score": 0, "creation_date": 1593468448, "post_id": 44596284, "comment_id": 110787509, "body": "Doesn&#39;t adding local variables beat the purpose of DataBinding? I&#39;m more confused."}, {"owner": {"reputation": 1067, "user_id": 5752410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bc3e1e22952ae6a52f034d2d7c42467?s=128&d=identicon&r=PG&f=1", "display_name": "Eitanos30", "link": "https://stackoverflow.com/users/5752410/eitanos30"}, "edited": false, "score": 0, "creation_date": 1602699021, "post_id": 44596284, "comment_id": 113806030, "body": "@mfulton26, i know that it&#39;s and old post but i will be glad to understand what happens when <i>add</i> function get a <i>return</i> as an argument. I have never seen a think like this before"}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "reply_to_user": {"reputation": 1067, "user_id": 5752410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bc3e1e22952ae6a52f034d2d7c42467?s=128&d=identicon&r=PG&f=1", "display_name": "Eitanos30", "link": "https://stackoverflow.com/users/5752410/eitanos30"}, "edited": false, "score": 0, "creation_date": 1602763525, "post_id": 44596284, "comment_id": 113826451, "body": "@Eitanos30, here <code>return</code> is used as an expression which means <code>add</code> never gets called if <code>left</code> is <code>null</code>; execution flow returns from whatever functions contains this statement."}, {"owner": {"reputation": 1067, "user_id": 5752410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bc3e1e22952ae6a52f034d2d7c42467?s=128&d=identicon&r=PG&f=1", "display_name": "Eitanos30", "link": "https://stackoverflow.com/users/5752410/eitanos30"}, "edited": false, "score": 1, "creation_date": 1602763707, "post_id": 44596284, "comment_id": 113826530, "body": "@mfulton26, thanks. Kotlin has so much sugar syntax that it make me crazy :("}, {"owner": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "reply_to_user": {"reputation": 1067, "user_id": 5752410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bc3e1e22952ae6a52f034d2d7c42467?s=128&d=identicon&r=PG&f=1", "display_name": "Eitanos30", "link": "https://stackoverflow.com/users/5752410/eitanos30"}, "edited": false, "score": 0, "creation_date": 1603184602, "post_id": 44596284, "comment_id": 113949033, "body": "@Eitanos30 It does drive people crazy but it&#39;s, actually, great, if not warned by IDE you could&#39;ve simply overlooked it."}], "tags": [], "owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "is_accepted": true, "score": 418, "last_activity_date": 1602763369, "last_edit_date": 1602763369, "creation_date": 1497639761, "answer_id": 44596284, "question_id": 44595529, "link": "https://stackoverflow.com/questions/44595529/smart-cast-to-type-is-impossible-because-variable-is-a-mutable-property-tha/44596284#44596284", "title": "Smart cast to &#39;Type&#39; is impossible, because &#39;variable&#39; is a mutable property that could have been changed by this time", "body": "<p>Between execution of <code>left != null</code> and <code>queue.add(left)</code> another thread could have changed the value of <code>left</code> to <code>null</code>.</p>\n<p>To work around this you have several options. Here are some:</p>\n<ol>\n<li><p>Use a local variable with smart cast:</p>\n<pre><code> val node = left\n if (node != null) {\n     queue.add(node)\n }\n</code></pre>\n</li>\n<li><p>Use a <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#safe-calls\" rel=\"noreferrer\">safe call</a> such as one of the following:</p>\n<pre><code> left?.let { node -&gt; queue.add(node) }\n left?.let { queue.add(it) }\n left?.let(queue::add)\n</code></pre>\n</li>\n<li><p>Use the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html#elvis-operator\" rel=\"noreferrer\">Elvis operator</a> with <a href=\"https://kotlinlang.org/docs/reference/returns.html\" rel=\"noreferrer\"><code>return</code></a> to <a href=\"https://kotlinlang.org/docs/reference/returns.html#returns-and-jumps\" rel=\"noreferrer\">return</a> early from the enclosing function:</p>\n<pre><code> queue.add(left ?: return)\n</code></pre>\n<p>Note that <code>break</code> and <code>continue</code> can be used similarly for checks within loops.</p>\n</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 10605, "user_id": 1949554, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d43d63dddaff1f4e278a9cdfdcf3b817?s=128&d=identicon&r=PG&f=1", "display_name": "FRR", "link": "https://stackoverflow.com/users/1949554/frr"}, "edited": false, "score": 0, "creation_date": 1510934808, "post_id": 47347719, "comment_id": 81661884, "body": "As far as I understand, the &#39;?.&#39; operator is checking if the variable on its left side is null.. In the example above it would be &#39;queue&#39;. The error &#39;smart cast impossible&#39; is referring to the parameter &quot;left&quot; being passed into the method &quot;add&quot;... I still get the error if I use this approach"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 10605, "user_id": 1949554, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d43d63dddaff1f4e278a9cdfdcf3b817?s=128&d=identicon&r=PG&f=1", "display_name": "FRR", "link": "https://stackoverflow.com/users/1949554/frr"}, "edited": false, "score": 0, "creation_date": 1510935068, "post_id": 47347719, "comment_id": 81662047, "body": "Right, the error is on <code>left</code> and not <code>queue</code>. Need to check this, will edit the answer in a minute"}], "tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 29, "last_activity_date": 1510936196, "last_edit_date": 1510936196, "creation_date": 1510912321, "answer_id": 47347719, "question_id": 44595529, "link": "https://stackoverflow.com/questions/44595529/smart-cast-to-type-is-impossible-because-variable-is-a-mutable-property-tha/47347719#47347719", "title": "Smart cast to &#39;Type&#39; is impossible, because &#39;variable&#39; is a mutable property that could have been changed by this time", "body": "<p>There is a fourth option in addition to the ones in mfulton26's answer.</p>\n\n<p>By using the <code>?.</code> operator it is possible to call methods as well as fields without dealing with <code>let</code> or using local variables.</p>\n\n<p>Some code for context:</p>\n\n<pre><code>var factory: ServerSocketFactory = SSLServerSocketFactory.getDefault();\nsocket = factory.createServerSocket(port)\nsocket.close()//smartcast impossible\nsocket?.close()//Smartcast possible. And works when called\n</code></pre>\n\n<p>It works with methods, fields and all the other things I tried to get it to work.</p>\n\n<p>So in order to solve the issue, instead of having to use manual casts or using local variables, you can use <code>?.</code> to call the methods.</p>\n\n<p>For reference, this was tested in Kotlin <code>1.1.4-3</code>, but also tested in <code>1.1.51</code> and <code>1.1.60</code>. There's no guarantee it works on other versions, it could be a new feature. </p>\n\n<p>Using the <code>?.</code> operator can't be used in your case since it's a passed variable that's the problem. The Elvis operator can be used as an alternative, and it's probably the one that requires the least amount of code. Instead of using <code>continue</code> though, <code>return</code> could also be used.</p>\n\n<p>Using manual casting could also be an option, but this isn't null safe:</p>\n\n<pre><code>queue.add(left as Node);\n</code></pre>\n\n<p>Meaning if left <strong>has changed</strong> on a different thread, the program will crash.</p>\n"}, {"comments": [{"owner": {"reputation": 1934, "user_id": 7877391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oVvK.png?s=128&g=1", "display_name": "c-an", "link": "https://stackoverflow.com/users/7877391/c-an"}, "edited": false, "score": 0, "creation_date": 1557192845, "post_id": 52913032, "comment_id": 98673179, "body": "what does it do?"}, {"owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "reply_to_user": {"reputation": 1934, "user_id": 7877391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oVvK.png?s=128&g=1", "display_name": "c-an", "link": "https://stackoverflow.com/users/7877391/c-an"}, "edited": false, "score": 0, "creation_date": 1557211937, "post_id": 52913032, "comment_id": 98677811, "body": "@c-an it make your variable initialize as null but expect sure to initialize later in code."}, {"owner": {"reputation": 1934, "user_id": 7877391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oVvK.png?s=128&g=1", "display_name": "c-an", "link": "https://stackoverflow.com/users/7877391/c-an"}, "edited": false, "score": 0, "creation_date": 1557212433, "post_id": 52913032, "comment_id": 98678076, "body": "Then, isn&#39;t it the same? @Radesh"}, {"owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "reply_to_user": {"reputation": 1934, "user_id": 7877391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oVvK.png?s=128&g=1", "display_name": "c-an", "link": "https://stackoverflow.com/users/7877391/c-an"}, "edited": false, "score": 0, "creation_date": 1557213108, "post_id": 52913032, "comment_id": 98678440, "body": "@c-an same with what?"}, {"owner": {"reputation": 1934, "user_id": 7877391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oVvK.png?s=128&g=1", "display_name": "c-an", "link": "https://stackoverflow.com/users/7877391/c-an"}, "edited": false, "score": 0, "creation_date": 1557228612, "post_id": 52913032, "comment_id": 98686923, "body": "<code>lateinit var left: Node</code> and <code>var left: Node? = null</code>"}, {"owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "reply_to_user": {"reputation": 1934, "user_id": 7877391, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1oVvK.png?s=128&g=1", "display_name": "c-an", "link": "https://stackoverflow.com/users/7877391/c-an"}, "edited": false, "score": 1, "creation_date": 1557229641, "post_id": 52913032, "comment_id": 98687485, "body": "i answered above question that is  Smart cast to &#39;Node&#39; is impossible, because &#39;left&#39; is a mutable property that could have been changed by this time  this code prevent that error by specify variable kind. so compiler no need for smart cast"}, {"owner": {"reputation": 2085, "user_id": 5636313, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/igjep.jpg?s=128&g=1", "display_name": "Farid", "link": "https://stackoverflow.com/users/5636313/farid"}, "edited": false, "score": 0, "creation_date": 1577783462, "post_id": 52913032, "comment_id": 105253016, "body": "Although the answer could be helpful to some, don&#39;t forget that you&#39;re prohibiting the value of the variable to be <code>null</code> when you declare it as <code>lateinit var left: Node</code>"}], "tags": [], "owner": {"reputation": 10570, "user_id": 6401241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mduJJ.png?s=128&g=1", "display_name": "Radesh", "link": "https://stackoverflow.com/users/6401241/radesh"}, "is_accepted": false, "score": 48, "last_activity_date": 1582010134, "last_edit_date": 1582010134, "creation_date": 1540106938, "answer_id": 52913032, "question_id": 44595529, "link": "https://stackoverflow.com/questions/44595529/smart-cast-to-type-is-impossible-because-variable-is-a-mutable-property-tha/52913032#52913032", "title": "Smart cast to &#39;Type&#39; is impossible, because &#39;variable&#39; is a mutable property that could have been changed by this time", "body": "<p><strong>1)</strong> Also you can use <code>lateinit</code> If you <strong>sure</strong> do your initialization later on <code>onCreate()</code> or elsewhere.</p>\n\n<p>Use this</p>\n\n<pre><code>lateinit var left: Node\n</code></pre>\n\n<p>Instead of this</p>\n\n<pre><code>var left: Node? = null\n</code></pre>\n\n<p><strong>2)</strong> And there is other way that use <code>!!</code> end of variable when you use it like this</p>\n\n<pre><code>queue.add(left!!) // add !!\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7649, "user_id": 208881, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/bf3eafe58d6aba3dbab9d64307aeb6fb?s=128&d=identicon&r=PG", "display_name": "AFD", "link": "https://stackoverflow.com/users/208881/afd"}, "edited": false, "score": 0, "creation_date": 1583932560, "post_id": 53977943, "comment_id": 107277822, "body": "This is shadowing of &quot;left&quot; variable?"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 7649, "user_id": 208881, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/bf3eafe58d6aba3dbab9d64307aeb6fb?s=128&d=identicon&r=PG", "display_name": "AFD", "link": "https://stackoverflow.com/users/208881/afd"}, "edited": false, "score": 0, "creation_date": 1583935544, "post_id": 53977943, "comment_id": 107279638, "body": "Which is totally ok. See <a href=\"https://www.reddit.com/r/androiddev/comments/fdp2zq/is_name_shadowing_not_recommended/fjj2c7k/\" rel=\"nofollow noreferrer\">reddit.com/r/androiddev/comments/fdp2zq/&hellip;</a>"}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 2, "last_activity_date": 1546176051, "creation_date": 1546176051, "answer_id": 53977943, "question_id": 44595529, "link": "https://stackoverflow.com/questions/44595529/smart-cast-to-type-is-impossible-because-variable-is-a-mutable-property-tha/53977943#53977943", "title": "Smart cast to &#39;Type&#39; is impossible, because &#39;variable&#39; is a mutable property that could have been changed by this time", "body": "<p>Do this:</p>\n\n<pre><code>var left: Node? = null\n\nfun show() {\n     val left = left\n     if (left != null) {\n         queue.add(left) // safe cast succeeds\n     }\n}\n</code></pre>\n\n<p>Which seems to be the first option provided by the accepted answer, but that's what you're looking for. </p>\n"}, {"comments": [{"owner": {"reputation": 1254, "user_id": 3362350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e4500858d24434055bd01b57bdc734f?s=128&d=identicon&r=PG", "display_name": "Jacob Zimmerman", "link": "https://stackoverflow.com/users/3362350/jacob-zimmerman"}, "edited": false, "score": 3, "creation_date": 1548362937, "post_id": 54240045, "comment_id": 95525299, "body": "Dangerous. For the same reason the auto-casting doesn&#39;t work."}, {"owner": {"reputation": 2655, "user_id": 208513, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/b059d016bf749df1a4193c976d8e35f8?s=128&d=identicon&r=PG", "display_name": "Pritam Karmakar", "link": "https://stackoverflow.com/users/208513/pritam-karmakar"}, "edited": false, "score": 3, "creation_date": 1555905677, "post_id": 54240045, "comment_id": 98247879, "body": "It may cause app crash if left is null."}, {"owner": {"reputation": 460, "user_id": 2523899, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a66076a12ef7f9cd9833f3d1ea15fcd?s=128&d=identicon&r=PG", "display_name": "The incredible Jan", "link": "https://stackoverflow.com/users/2523899/the-incredible-jan"}, "edited": false, "score": 0, "creation_date": 1604484949, "post_id": 54240045, "comment_id": 114359184, "body": "How can it be null? Code in question checks it: &quot;if (left != null)&quot;. If the value could change to null it could change to another value, too. The app would crash but the results of the method could be unexpected."}, {"owner": {"reputation": 640, "user_id": 798724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d184e72131c0346866f9957e3515a8b?s=128&d=identicon&r=PG", "display_name": "Albert Vaca Cintora", "link": "https://stackoverflow.com/users/798724/albert-vaca-cintora"}, "edited": false, "score": 0, "creation_date": 1608733808, "post_id": 54240045, "comment_id": 115669975, "body": "Literally, the error given by Kotlin (in the title of the question) tells you that it could have changed. Either you are smarter than the compiler (rarely the case) or this is possible when there are multiple threads running (which always is the case in Android, you at least have a UI thread + several worker threads)."}], "tags": [], "owner": {"reputation": 503, "user_id": 5046511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee7d5e461e8619e934b5f41b7a3cda24?s=128&d=identicon&r=PG&f=1", "display_name": "Bikeboy", "link": "https://stackoverflow.com/users/5046511/bikeboy"}, "is_accepted": false, "score": 0, "last_activity_date": 1552300418, "last_edit_date": 1552300418, "creation_date": 1547741789, "answer_id": 54240045, "question_id": 44595529, "link": "https://stackoverflow.com/questions/44595529/smart-cast-to-type-is-impossible-because-variable-is-a-mutable-property-tha/54240045#54240045", "title": "Smart cast to &#39;Type&#39; is impossible, because &#39;variable&#39; is a mutable property that could have been changed by this time", "body": "<p>Try using the not-null assertion operator...</p>\n\n<pre><code>queue.add(left!!) \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 36931, "user_id": 225757, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/e7140b12949e4652885f6bb02b435f42?s=128&d=identicon&r=PG", "display_name": "Roland Illig", "link": "https://stackoverflow.com/users/225757/roland-illig"}, "is_accepted": false, "score": 4, "last_activity_date": 1558160952, "creation_date": 1558160952, "answer_id": 56196539, "question_id": 44595529, "link": "https://stackoverflow.com/questions/44595529/smart-cast-to-type-is-impossible-because-variable-is-a-mutable-property-tha/56196539#56196539", "title": "Smart cast to &#39;Type&#39; is impossible, because &#39;variable&#39; is a mutable property that could have been changed by this time", "body": "<p>The practical reason why this doesn't work is not related to threads. The point is that <code>node.left</code> is effectively translated into <code>node.getLeft()</code>.</p>\n\n<p>This property getter might be defined as:</p>\n\n<pre><code>val left get() = if (Math.random() &lt; 0.5) null else leftPtr\n</code></pre>\n\n<p>Therefore two calls might not return the same result.</p>\n"}, {"tags": [], "owner": {"reputation": 555, "user_id": 1635800, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/InRE1.jpg?s=128&g=1", "display_name": "Mohammed mansoor", "link": "https://stackoverflow.com/users/1635800/mohammed-mansoor"}, "is_accepted": false, "score": 5, "last_activity_date": 1574321422, "creation_date": 1574321422, "answer_id": 58969487, "question_id": 44595529, "link": "https://stackoverflow.com/questions/44595529/smart-cast-to-type-is-impossible-because-variable-is-a-mutable-property-tha/58969487#58969487", "title": "Smart cast to &#39;Type&#39; is impossible, because &#39;variable&#39; is a mutable property that could have been changed by this time", "body": "<p>Change <code>var left: Node? = null</code> to <code>lateinit var left: Node</code>. Problem solved.</p>\n"}, {"tags": [], "owner": {"reputation": 17453, "user_id": 5279996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf8327567575d69a46bd8afe8db4466e?s=128&d=identicon&r=PG", "display_name": "Braian Coronel", "link": "https://stackoverflow.com/users/5279996/braian-coronel"}, "is_accepted": false, "score": 1, "last_activity_date": 1586075241, "creation_date": 1586075241, "answer_id": 61039907, "question_id": 44595529, "link": "https://stackoverflow.com/questions/44595529/smart-cast-to-type-is-impossible-because-variable-is-a-mutable-property-tha/61039907#61039907", "title": "Smart cast to &#39;Type&#39; is impossible, because &#39;variable&#39; is a mutable property that could have been changed by this time", "body": "<p>For there to be a Smart Cast of the properties, <strong>the data type of the property must be the class that contains the method</strong> or behavior that you want to access and NOT that the property is of the type of the super class.</p>\n\n<hr>\n\n<h2>e.g on Android</h2>\n\n<p>Be:</p>\n\n<pre><code>class MyVM : ViewModel() {\n    fun onClick() {}\n}\n</code></pre>\n\n<p>Solution:</p>\n\n<pre><code>From: private lateinit var viewModel: ViewModel\nTo: private lateinit var viewModel: MyVM\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>viewModel = ViewModelProvider(this)[MyVM::class.java]\nviewModel.onClick {}\n</code></pre>\n\n<p>GL</p>\n"}, {"tags": [], "owner": {"reputation": 855, "user_id": 599743, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/fff621ebecc8d67b4690b4cfe7e8c69f?s=128&d=identicon&r=PG", "display_name": "tonisives", "link": "https://stackoverflow.com/users/599743/tonisives"}, "is_accepted": false, "score": 0, "last_activity_date": 1586323119, "creation_date": 1586323119, "answer_id": 61093791, "question_id": 44595529, "link": "https://stackoverflow.com/questions/44595529/smart-cast-to-type-is-impossible-because-variable-is-a-mutable-property-tha/61093791#61093791", "title": "Smart cast to &#39;Type&#39; is impossible, because &#39;variable&#39; is a mutable property that could have been changed by this time", "body": "<p>How I would write it:</p>\n\n<pre><code>var left: Node? = null\n\nfun show() {\n     val left = left ?: return\n     queue.add(left) // no error because we return if it is null\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 331, "user_id": 10928439, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e3f96adfa5034912960b1ee84fb06923?s=128&d=identicon&r=PG&f=1", "display_name": "Simon Jacobs", "link": "https://stackoverflow.com/users/10928439/simon-jacobs"}, "is_accepted": false, "score": 3, "last_activity_date": 1587578015, "last_edit_date": 1587578015, "creation_date": 1587216678, "answer_id": 61289947, "question_id": 44595529, "link": "https://stackoverflow.com/questions/44595529/smart-cast-to-type-is-impossible-because-variable-is-a-mutable-property-tha/61289947#61289947", "title": "Smart cast to &#39;Type&#39; is impossible, because &#39;variable&#39; is a mutable property that could have been changed by this time", "body": "<p>Your most elegant solution must be:</p>\n\n<pre><code>var left: Node? = null\n\nfun show() {\n    left?.also {\n        queue.add( it )\n    }\n}\n</code></pre>\n\n<p>Then you don't have to define a new and unnecessary local variable, and you don't have any new assertions or casts (which are not DRY). Other scope functions could also work so choose your favourite.</p>\n"}], "owner": {"reputation": 10605, "user_id": 1949554, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/d43d63dddaff1f4e278a9cdfdcf3b817?s=128&d=identicon&r=PG&f=1", "display_name": "FRR", "link": "https://stackoverflow.com/users/1949554/frr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105582, "favorite_count": 47, "accepted_answer_id": 44596284, "answer_count": 10, "score": 324, "last_activity_date": 1602763369, "creation_date": 1497636675, "last_edit_date": 1595538082, "question_id": 44595529, "link": "https://stackoverflow.com/questions/44595529/smart-cast-to-type-is-impossible-because-variable-is-a-mutable-property-tha", "title": "Smart cast to &#39;Type&#39; is impossible, because &#39;variable&#39; is a mutable property that could have been changed by this time", "body": "<p>And the Kotlin newbie asks, &quot;why won't the following code compile?&quot;:</p>\n<pre><code>var left: Node? = null\n    \nfun show() {\n    if (left != null) {\n        queue.add(left) // ERROR HERE\n    }\n}\n</code></pre>\n<blockquote>\n<p>Smart cast to 'Node' is impossible, because 'left' is a mutable\nproperty that could have been changed by this time</p>\n</blockquote>\n<p>I get that <code>left</code> is mutable variable, but I'm explicitly checking <code>left != null</code> and <code>left</code> is of type <code>Node</code> so why can't it be smart-casted to that type?</p>\n<p>How can I fix this elegantly?</p>\n"}, {"tags": ["android", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1497638845, "post_id": 44594475, "comment_id": 76180219, "body": "weird. it works like a charm for me... do you have any other issues? could you post your <code>build.gradle</code>s?"}, {"owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "reply_to_user": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1497639255, "post_id": 44594475, "comment_id": 76180425, "body": "@Lovis Sure, added"}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 1, "creation_date": 1497639403, "post_id": 44594475, "comment_id": 76180494, "body": "remove <code>kapt { generateStubs = true }</code>, it&#39;s not allowed with kapt3 (and you&#39;re using kapt3, since you <code>apply plugin kotlin-kapt</code> if that doesn&#39;t help it&#39;s probably a Studio 3.0 issue, and I would wait until it&#39;s final"}, {"owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "reply_to_user": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 1, "creation_date": 1497641221, "post_id": 44594475, "comment_id": 76181414, "body": "@Lovis Ah, I didn&#39;t even think to check if it was a 3.0 issue. I had tried with and without <code>kapt { generateStubs = true }</code> though. I opened the project in 2.3.3 (and lowered the gradle version), and it ran fine! Thanks for the help."}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1497653779, "post_id": 44594475, "comment_id": 76186296, "body": "Could you try adding <code>dataBinding { addDefaultAdapters true }</code>? It seems like the default adapters are not available. And if this doesn&#39;t work, it would be interesting to see the databinding dependencies available with <code>.&#47;gradlew :app:dependencies</code>"}, {"owner": {"reputation": 1786, "user_id": 6842292, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-L5qGqKN0Ho4/AAAAAAAAAAI/AAAAAAAAyKs/NQxQ_UyyHcM/photo.jpg?sz=128", "display_name": "Vin Norman", "link": "https://stackoverflow.com/users/6842292/vin-norman"}, "edited": false, "score": 2, "creation_date": 1519384071, "post_id": 44594475, "comment_id": 84899198, "body": "Accept Matej Drobnic&#39;s answer!"}, {"owner": {"reputation": 2195, "user_id": 2472350, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/slD29.jpg?s=128&g=1", "display_name": "Amin Keshavarzian", "link": "https://stackoverflow.com/users/2472350/amin-keshavarzian"}, "edited": false, "score": 0, "creation_date": 1560319117, "post_id": 44594475, "comment_id": 99691682, "body": "maybe this <a href=\"https://stackoverflow.com/a/56555455/2472350\">answer</a> will, I fixed mine."}], "answers": [{"comments": [{"owner": {"reputation": 2271, "user_id": 5095790, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/q0ELO.jpg?s=128&g=1", "display_name": "Ajay Shrestha", "link": "https://stackoverflow.com/users/5095790/ajay-shrestha"}, "edited": false, "score": 3, "creation_date": 1506469865, "post_id": 44989266, "comment_id": 79831674, "body": "Thank you. It works. What I know now is, if something error happens, first delete .gradle file and  then .idea file :D"}, {"owner": {"reputation": 1461, "user_id": 6897018, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/O6o3k.jpg?s=128&g=1", "display_name": "Drew Szurko", "link": "https://stackoverflow.com/users/6897018/drew-szurko"}, "reply_to_user": {"reputation": 2271, "user_id": 5095790, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/q0ELO.jpg?s=128&g=1", "display_name": "Ajay Shrestha", "link": "https://stackoverflow.com/users/5095790/ajay-shrestha"}, "edited": false, "score": 3, "creation_date": 1508018635, "post_id": 44989266, "comment_id": 80445565, "body": "@AjayShrestha deleting the .gradle fixed it for me, thanks!"}, {"owner": {"reputation": 122540, "user_id": 379693, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/2c9f04076de133db434c7d9966ac6f6b?s=128&d=identicon&r=PG", "display_name": "Paresh Mayani", "link": "https://stackoverflow.com/users/379693/paresh-mayani"}, "edited": false, "score": 0, "creation_date": 1516171504, "post_id": 44989266, "comment_id": 83574728, "body": "deleting .gradle and .idea worked for me, I was getting issue on getter method. Good catch, thanks for the same!"}, {"owner": {"reputation": 2852, "user_id": 2185251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7hd7.jpg?s=128&g=1", "display_name": "seyeon", "link": "https://stackoverflow.com/users/2185251/seyeon"}, "edited": false, "score": 0, "creation_date": 1518950523, "post_id": 44989266, "comment_id": 84704929, "body": "It&#39;s working. in my case, I had changed project package Name and App Name.  I think the Android studio has confused."}, {"owner": {"reputation": 1786, "user_id": 6842292, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-L5qGqKN0Ho4/AAAAAAAAAAI/AAAAAAAAyKs/NQxQ_UyyHcM/photo.jpg?sz=128", "display_name": "Vin Norman", "link": "https://stackoverflow.com/users/6842292/vin-norman"}, "edited": false, "score": 3, "creation_date": 1519384013, "post_id": 44989266, "comment_id": 84899167, "body": "THIS!!! I lost about 2 hours to this, going through stackoverflow with a magnifying glass. Kept finding things saying &quot;it&#39;s an error with your xml, make sure your variables are right, public getters etc. etc.&quot;... - nothing was wrong, just an ugly as hell android studio bug. This should be accepted answer."}, {"owner": {"reputation": 509, "user_id": 5793305, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9c4ab99b0f388943e3c90ab26f51802?s=128&d=identicon&r=PG&f=1", "display_name": "N.Moudgil", "link": "https://stackoverflow.com/users/5793305/n-moudgil"}, "edited": false, "score": 0, "creation_date": 1528376274, "post_id": 44989266, "comment_id": 88491099, "body": "Life saver you are. Thanks"}, {"owner": {"reputation": 156, "user_id": 5668782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7h6wE.png?s=128&g=1", "display_name": "mdb", "link": "https://stackoverflow.com/users/5668782/mdb"}, "edited": false, "score": 0, "creation_date": 1528697659, "post_id": 44989266, "comment_id": 88588744, "body": "@Matej Drobnic Thanks, I have been struggling with this issue for past 3 days and got a solution on this thread. Any idea why this problem occurs?"}, {"owner": {"reputation": 923, "user_id": 5273071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e292db677fae6573da9bd81e6bad61d?s=128&d=identicon&r=PG", "display_name": "Matej Drobni\u010d", "link": "https://stackoverflow.com/users/5273071/matej-drobni%c4%8d"}, "edited": false, "score": 0, "creation_date": 1528720320, "post_id": 44989266, "comment_id": 88601437, "body": "No idea. It looks like something breaks within Android Studio."}], "tags": [], "owner": {"reputation": 923, "user_id": 5273071, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e292db677fae6573da9bd81e6bad61d?s=128&d=identicon&r=PG", "display_name": "Matej Drobni\u010d", "link": "https://stackoverflow.com/users/5273071/matej-drobni%c4%8d"}, "is_accepted": true, "score": 61, "last_activity_date": 1499537012, "creation_date": 1499537012, "answer_id": 44989266, "question_id": 44594475, "link": "https://stackoverflow.com/questions/44594475/listener-binding-cannot-find-the-setter/44989266#44989266", "title": "Listener Binding; Cannot Find the Setter", "body": "<p>I just had that issue and I have managed to solve it by deleting .idea, .gradle and gradle folders and let Android Studio recreate whole project from scratch from gradle files.</p>\n"}, {"tags": [], "owner": {"reputation": 8052, "user_id": 2959120, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/hYi2J.jpg?s=128&g=1", "display_name": "Mladen Rakonjac", "link": "https://stackoverflow.com/users/2959120/mladen-rakonjac"}, "is_accepted": false, "score": 1, "last_activity_date": 1507103512, "creation_date": 1507103512, "answer_id": 46559666, "question_id": 44594475, "link": "https://stackoverflow.com/questions/44594475/listener-binding-cannot-find-the-setter/46559666#46559666", "title": "Listener Binding; Cannot Find the Setter", "body": "<p>Just rebuild the project. It is probably because you did some refactoring </p>\n"}, {"tags": [], "owner": {"reputation": 131, "user_id": 3057668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2210a49bf0df46df3410783e69361cc9?s=128&d=identicon&r=PG&f=1", "display_name": "tanshiwei", "link": "https://stackoverflow.com/users/3057668/tanshiwei"}, "is_accepted": false, "score": 0, "last_activity_date": 1514448060, "creation_date": 1514448060, "answer_id": 48003797, "question_id": 44594475, "link": "https://stackoverflow.com/questions/44594475/listener-binding-cannot-find-the-setter/48003797#48003797", "title": "Listener Binding; Cannot Find the Setter", "body": "<ol>\n<li>Delete .gradle folder.</li>\n<li>Run the project.</li>\n<li>Clean the project.</li>\n<li>Run the project.</li>\n</ol>\n\n<p>Work for me.\nIf the order mix or miss , its not working for me.</p>\n"}, {"comments": [{"owner": {"reputation": 430, "user_id": 7676003, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/FQRXk.jpg?s=128&g=1", "display_name": "yuzuriha", "link": "https://stackoverflow.com/users/7676003/yuzuriha"}, "edited": false, "score": 0, "creation_date": 1519567009, "post_id": 48685195, "comment_id": 84953339, "body": "can I ask how to run gradle wrapper in the project root? I face this issue almost every time I compile the app"}, {"owner": {"reputation": 868, "user_id": 1419353, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RdQxD.jpg?s=128&g=1", "display_name": "noev", "link": "https://stackoverflow.com/users/1419353/noev"}, "reply_to_user": {"reputation": 430, "user_id": 7676003, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/FQRXk.jpg?s=128&g=1", "display_name": "yuzuriha", "link": "https://stackoverflow.com/users/7676003/yuzuriha"}, "edited": false, "score": 0, "creation_date": 1519568386, "post_id": 48685195, "comment_id": 84953786, "body": "@leyreyyan If you are are on a mac you can run &#39;brew install gradle&#39;. Also I have added an additional fix that sometimes works for me."}], "tags": [], "owner": {"reputation": 868, "user_id": 1419353, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/RdQxD.jpg?s=128&g=1", "display_name": "noev", "link": "https://stackoverflow.com/users/1419353/noev"}, "is_accepted": false, "score": 0, "last_activity_date": 1519568318, "last_edit_date": 1519568318, "creation_date": 1518091880, "answer_id": 48685195, "question_id": 44594475, "link": "https://stackoverflow.com/questions/44594475/listener-binding-cannot-find-the-setter/48685195#48685195", "title": "Listener Binding; Cannot Find the Setter", "body": "<p>Valid case:\nThis error is raised if you have an error in the xml file. First read carefully through the xml and if you find a problem fix it.</p>\n\n<p>Invalid case:\nFor me the issue was raised for a file that was already deleted from the project or the file was renamed and the databinding was referencing the old file.</p>\n\n<p>I'm not sure how to get rid of the issue every time but I have a number of things that sometimes work and sometimes don't.</p>\n\n<p>Fix number 1:</p>\n\n<p>Running 'gradle wrapper' in the project root.</p>\n\n<p>Fix number 2:</p>\n\n<p>Android Studio Clean Project</p>\n\n<p>Next delete these folders in the project root:</p>\n\n<p>rm -rf .gradle/</p>\n\n<p>rm -rf app/build/</p>\n\n<p>rm -rf build</p>\n\n<p>rm -rf gradle</p>\n\n<p>rm -rf gradlew</p>\n\n<p>Android Studio Invalidate and restart</p>\n\n<p>Everything should be back to normal now.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 3882159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ab908a9377963f40895138ca729bfc9?s=128&d=identicon&r=PG", "display_name": "Govind Tank", "link": "https://stackoverflow.com/users/3882159/govind-tank"}, "is_accepted": false, "score": 0, "last_activity_date": 1523539140, "creation_date": 1523539140, "answer_id": 49797672, "question_id": 44594475, "link": "https://stackoverflow.com/questions/44594475/listener-binding-cannot-find-the-setter/49797672#49797672", "title": "Listener Binding; Cannot Find the Setter", "body": "<p>As suggested by all other fellow brothers, yes the error resolves after deleting .idea, .gradle and gradle folders.</p>\n\n<p>(this is just for someone curious why this happens, below is my usecase):\ni think this problem caused in my project because of i added one rxRecycleViewDataBinding custom library lately which might caused some binding errors by mixing binding references.</p>\n"}, {"comments": [{"owner": {"reputation": 643, "user_id": 8653915, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208211298235032/picture?type=large", "display_name": "\u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440 \u0411\u0430\u0431\u0438\u0447", "link": "https://stackoverflow.com/users/8653915/%d0%90%d0%bb%d0%b5%d0%ba%d1%81%d0%b0%d0%bd%d0%b4%d1%80-%d0%91%d0%b0%d0%b1%d0%b8%d1%87"}, "edited": false, "score": 1, "creation_date": 1539769978, "post_id": 50881162, "comment_id": 92619389, "body": "This one is helpful. Cleaning project and deleting .idea &amp; .gradle files didn&#39;t help, but applying plugin did."}, {"owner": {"reputation": 705, "user_id": 911580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d59bb22f676de1f146a21a198adbdc56?s=128&d=identicon&r=PG", "display_name": "bazyle", "link": "https://stackoverflow.com/users/911580/bazyle"}, "edited": false, "score": 0, "creation_date": 1581466076, "post_id": 50881162, "comment_id": 106441083, "body": "Indeed. Cleaning &amp; re-importing didn&#39;t help. Looks like the android plugin has a &quot;silent&quot; dependency on &quot;kapt&quot; plugin. If it&#39;s not satisfied and you have databinding annotations in your module it&#39;ll give the above error message. I&#39;m astonished the @androiddev guys didn&#39;t added a helpful message so far!"}], "tags": [], "owner": {"reputation": 1914, "user_id": 2599940, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/ZvDA3.jpg?s=128&g=1", "display_name": "kevswanberg", "link": "https://stackoverflow.com/users/2599940/kevswanberg"}, "is_accepted": false, "score": 47, "last_activity_date": 1540327344, "last_edit_date": 1540327344, "creation_date": 1529088267, "answer_id": 50881162, "question_id": 44594475, "link": "https://stackoverflow.com/questions/44594475/listener-binding-cannot-find-the-setter/50881162#50881162", "title": "Listener Binding; Cannot Find the Setter", "body": "<p>Make sure <code>apply plugin: 'kotlin-kapt'</code> is in build.gradle.</p>\n\n<p>If you are running in to this and no amount of rebuilding the project, deleting directories, clearing AS settings do anything. The IDE is fine without having it but the building fails. </p>\n\n<p>It would be nice if android studio had better error messages for this.</p>\n"}, {"tags": [], "owner": {"reputation": 45763, "user_id": 6891563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/HJ9QX.jpg?s=128&g=1", "display_name": "Khemraj", "link": "https://stackoverflow.com/users/6891563/khemraj"}, "is_accepted": false, "score": 1, "last_activity_date": 1533628525, "creation_date": 1533628525, "answer_id": 51721648, "question_id": 44594475, "link": "https://stackoverflow.com/questions/44594475/listener-binding-cannot-find-the-setter/51721648#51721648", "title": "Listener Binding; Cannot Find the Setter", "body": "<p><code>Rebuilding</code> project worked for me. </p>\n\n<ul>\n<li>Rebuild project from <strong><code>Build&gt;Rebuild</code></strong></li>\n<li>Fix issues if you get in build logs.</li>\n<li>Rebuild project again from <strong><code>Build&gt;Rebuild</code></strong></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 2594, "user_id": 7379765, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-TVi7ot4M7K4/AAAAAAAAAAI/AAAAAAAAADo/bvtc9JNjmSE/photo.jpg?sz=128", "display_name": "Neeraj Sewani", "link": "https://stackoverflow.com/users/7379765/neeraj-sewani"}, "is_accepted": false, "score": 1, "last_activity_date": 1561113284, "creation_date": 1561113284, "answer_id": 56701744, "question_id": 44594475, "link": "https://stackoverflow.com/questions/44594475/listener-binding-cannot-find-the-setter/56701744#56701744", "title": "Listener Binding; Cannot Find the Setter", "body": "<p>If a similar kind of problem is encountered for a member variable of type <code>LiveData</code> then check your lambda in the XML file as for calling a function in <code>onClick</code> of a view <code>\"@{() -&gt; variableName.callMethod()}\"</code> is used whereas for a variable <code>\"@{variableName.memeberVariableName}\"</code> is used.</p>\n"}, {"tags": [], "owner": {"reputation": 15831, "user_id": 5925259, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/89crf.jpg?s=128&g=1", "display_name": "Yogesh Umesh Vaity", "link": "https://stackoverflow.com/users/5925259/yogesh-umesh-vaity"}, "is_accepted": false, "score": 0, "last_activity_date": 1565173440, "creation_date": 1565173440, "answer_id": 57392229, "question_id": 44594475, "link": "https://stackoverflow.com/questions/44594475/listener-binding-cannot-find-the-setter/57392229#57392229", "title": "Listener Binding; Cannot Find the Setter", "body": "<p>The error <code>Cannot find the setter for attribute</code> means, it cannot find setter method that accepts the variable of the data type you provided as a parameter for that attribute.</p>\n\n<p>That means it won't find the BindingAdapter method that you have defined. I had this issue because I was providing a wrong data type in XML layout to a custom attribute that I defined using BindingAdapter. Once I gave the correct data type to the custom attribute, it worked.</p>\n\n<p>So, check if you are providing correct data type to the custom attributes that you may have defined using BindingAdapters.</p>\n"}], "owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25570, "favorite_count": 3, "accepted_answer_id": 44989266, "answer_count": 9, "score": 30, "last_activity_date": 1565173440, "creation_date": 1497632425, "last_edit_date": 1592644375, "question_id": 44594475, "link": "https://stackoverflow.com/questions/44594475/listener-binding-cannot-find-the-setter", "title": "Listener Binding; Cannot Find the Setter", "body": "<p>I am trying to implement <a href=\"https://developer.android.com/topic/libraries/data-binding/index.html#listener_bindings\" rel=\"noreferrer\">listener bindings</a>, but when I run my code I get the following error:</p>\n<pre><code>Caused by: android.databinding.tool.util.LoggedErrorException: Found data binding errors.\n****/ data binding error ****msg:Cannot find the setter for attribute 'android:onClick' with parameter type lambda on android.widget.Button. file:~/GithubBrowser/app/src/main/res/layout/loading_state.xml loc:30:31 - 30:52 ****\\ data binding error ****\n</code></pre>\n<p>This is the layout file in question:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;data&gt;\n        &lt;import type=&quot;com.example.app.data.model.Resource&quot;/&gt;\n        &lt;import type=&quot;com.example.app.data.model.Status&quot;/&gt;\n        &lt;variable name=&quot;resource&quot; type=&quot;Resource&quot;/&gt;\n        &lt;variable name=&quot;callback&quot; type=&quot;com.example.app.ui.common.RetryCallback&quot;/&gt;\n    &lt;/data&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;vertical&quot;\n        android:gravity=&quot;center&quot;\n        android:padding=&quot;@dimen/default_margin&quot;&gt;\n\n        &lt;Button android:id=&quot;@+id/retry&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;@string/retry&quot;\n            android:onClick=&quot;@{() -&gt; callback.retry()}&quot;/&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n<p>And this is the <code>RetryCallback</code> interface referenced in the layout:</p>\n<pre><code>package com.example.app.ui.common\n\ninterface RetryCallback {\n\n    fun retry()\n\n}\n</code></pre>\n<hr />\n<h3>Edit</h3>\n<p>The top-level <code>build.gradle</code>:</p>\n<pre><code>buildscript {\n    ext.android_tools_version = '3.0.0-alpha3'\n    ext.kotlin_version = '1.1.2-5'\n    repositories {\n        maven { url 'https://maven.google.com' }\n        jcenter()\n    }\n    dependencies {\n        classpath &quot;com.android.tools.build:gradle:$android_tools_version&quot;\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\next {\n    architecture_version = '1.0.0-alpha2'\n    constraint_version = '1.0.2'\n    dagger_version = '2.11'\n    espresso_version = '2.2.2'\n    glide_version = '3.7.0'\n    junit_version = '4.12'\n    mockito_version = '2.7.19'\n    mock_server_version = '3.6.0'\n    moshi_version = '1.5.0'\n    retrofit_version = '2.2.0'\n    support_version = '25.4.0'\n    timber_version = '4.5.1'\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        mavenCentral()\n        maven { url 'https://maven.google.com' }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>And the app module <code>build.gradle</code>:</p>\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 25\n    buildToolsVersion &quot;25.0.3&quot;\n    defaultConfig {\n        applicationId &quot;com.example.app&quot;\n        minSdkVersion 16\n        targetSdkVersion 25\n        versionCode 1\n        versionName &quot;1.0&quot;\n        testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\n    }\n    buildTypes {\n        debug {\n            testCoverageEnabled !project.hasProperty('android.injected.invoked.from.ide')\n        }\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    dataBinding {\n        enabled = true\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\nkapt {\n    generateStubs = true\n}\n\ndependencies {\n    compile &quot;org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version&quot;\n\n    compile &quot;com.android.support:appcompat-v7:$support_version&quot;\n    compile &quot;com.android.support:cardview-v7:$support_version&quot;\n    compile &quot;com.android.support:design:$support_version&quot;\n    compile &quot;com.android.support:recyclerview-v7:$support_version&quot;\n    compile &quot;com.android.support.constraint:constraint-layout:$constraint_version&quot;\n\n    compile &quot;android.arch.lifecycle:extensions:$architecture_version&quot;\n    compile &quot;android.arch.lifecycle:runtime:$architecture_version&quot;\n    compile &quot;android.arch.persistence.room:runtime:$architecture_version&quot;\n\n    compile &quot;com.google.dagger:dagger:$dagger_version&quot;\n    compile &quot;com.google.dagger:dagger-android:$dagger_version&quot;\n    compile &quot;com.google.dagger:dagger-android-support:$dagger_version&quot;\n\n    compile &quot;com.squareup.moshi:moshi:$moshi_version&quot;\n    compile &quot;com.squareup.retrofit2:retrofit:$retrofit_version&quot;\n    compile &quot;com.squareup.retrofit2:converter-moshi:$retrofit_version&quot;\n\n    compile &quot;com.github.bumptech.glide:glide:$glide_version&quot;\n\n    compile &quot;com.jakewharton.timber:timber:$timber_version&quot;\n\n    kapt &quot;com.android.databinding:compiler:$android_tools_version&quot;\n    kapt &quot;com.google.dagger:dagger-android-processor:$dagger_version&quot;\n    kapt &quot;com.google.dagger:dagger-compiler:$dagger_version&quot;\n    kapt &quot;android.arch.persistence.room:compiler:$architecture_version&quot;\n    kapt &quot;android.arch.lifecycle:compiler:$architecture_version&quot;\n\n    testCompile &quot;junit:junit:$junit_version&quot;\n    testCompile &quot;com.squareup.okhttp3:mockwebserver:$mock_server_version&quot;\n    testCompile (&quot;android.arch.core:core-testing:$architecture_version&quot;, {\n        exclude group: 'com.android.support', module: 'support-compat'\n        exclude group: 'com.android.support', module: 'support-annotations'\n        exclude group: 'com.android.support', module: 'support-ccore-utils'\n    })\n\n    androidTestCompile &quot;com.android.support:appcompat-v7:$support_version&quot;\n    androidTestCompile &quot;com.android.support:cardview-v7:$support_version&quot;\n    androidTestCompile &quot;com.android.support:design:$support_version&quot;\n    androidTestCompile &quot;com.android.support:recyclerview-v7:$support_version&quot;\n\n    androidTestCompile (&quot;com.android.support.test.espresso:espresso-core:$espresso_version&quot;, {\n        exclude group: 'com.android.support', module: 'support-annotations'\n        exclude group: 'com.google.code.findbugs', module: 'jsr305'\n    })\n\n    androidTestCompile (&quot;com.android.support.test.espresso:espresso-contrib:$espresso_version&quot;, {\n        exclude group: 'com.android.support', module: 'support-annotations'\n        exclude group: 'com.google.code.findbugs', module: 'jsr305'\n    })\n\n    androidTestCompile &quot;org.mockito:mockito-android:$mockito_version&quot;\n}\n</code></pre>\n"}, {"tags": ["java", "gradle", "kotlin", "annotation-processing"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1497627207, "post_id": 44592662, "comment_id": 76173807, "body": "Try adding <code>kapt files(&#39;...&#39;)</code> to your <code>dependencies { ... }</code> block, kapt uses a separate configuration for its annotation processors."}, {"owner": {"reputation": 868, "user_id": 5417750, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9b68fb34bf55d566f53c6df194bbcf38?s=128&d=identicon&r=PG&f=1", "display_name": "abbath0767", "link": "https://stackoverflow.com/users/5417750/abbath0767"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1497627597, "post_id": 44592662, "comment_id": 76174050, "body": "oh! I&#39;ts works! But generate in bad folder) But in worked! Thx! Please make it as answer"}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1497627978, "creation_date": 1497627978, "answer_id": 44593247, "question_id": 44592662, "link": "https://stackoverflow.com/questions/44592662/how-start-annotationprocessing-kapt-for-local-library/44593247#44593247", "title": "How start annotationProcessing (kapt) for local library?", "body": "<p>Kapt uses a separate configuration for its annotation processors, namely <code>kapt</code>. You need to add your JAR to that configuration as well:</p>\n\n<pre><code>dependencies {\n     // ...\n\n     kapt files('/Users/I/Documents/Projects/my/test2/build/libs/codelib-0.3.jar')\n}\n</code></pre>\n"}], "owner": {"reputation": 868, "user_id": 5417750, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9b68fb34bf55d566f53c6df194bbcf38?s=128&d=identicon&r=PG&f=1", "display_name": "abbath0767", "link": "https://stackoverflow.com/users/5417750/abbath0767"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 874, "favorite_count": 0, "accepted_answer_id": 44593247, "answer_count": 1, "score": 2, "last_activity_date": 1497627978, "creation_date": 1497626012, "question_id": 44592662, "link": "https://stackoverflow.com/questions/44592662/how-start-annotationprocessing-kapt-for-local-library", "title": "How start annotationProcessing (kapt) for local library?", "body": "<p>I write small library for annotation processing. Compile it to jar file with Gradle and add to android project. In build.gradle app lvl i added: </p>\n\n<pre><code>dependencies {\n\n  //...\n    compile files('/Users/I/Documents/Projects/my/test2/build/libs/codelib-0.3.jar')\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>android.defaultConfig.javaCompileOptions.annotationProcessorOptions.includeCompileClasspath = true\n</code></pre>\n\n<p>But if i build the project java classes not genered. In another java project (not android!) all perfect works (for build i use command <code>gradle assemble</code>) and files creates.\nFor annotationProcessing in another dependencies (dagger, glide) i use 'kotlin-kapt' and he works fine for there, but he not local obviously.</p>\n"}, {"tags": ["asynchronous", "kotlin", "coroutine"], "answers": [{"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": true, "score": 0, "last_activity_date": 1499169311, "last_edit_date": 1499169311, "creation_date": 1497629888, "answer_id": 44593768, "question_id": 44592243, "link": "https://stackoverflow.com/questions/44592243/why-the-coroutine-exception-handler-double-the-original-exception/44593768#44593768", "title": "why the coroutine exception handler double the original exception?", "body": "<p>the strange behavior is comes from java. the <code>ForkJoinTask#getThrowableException</code> will rethrow exception for the given task:</p>\n\n<blockquote>\n  <p>Returns a <strong>rethrowable</strong> exception for the given task, if\n    available. To provide <strong>accurate</strong> stack traces, if the exception\n    was not thrown by the current thread, we try to <strong>create a new\n    exception</strong> of the same type as the one thrown, but with the\n    recorded exception as its cause. If there is no such\n    constructor, we instead try to use a <strong>no-arg constructor</strong>,\n    followed by <code>initCause</code>, to the same effect. If none of these\n    apply, or any fail due to other exceptions, we return the\n    recorded exception, which is still correct, although it may\n    contain a misleading stack trace.</p>\n</blockquote>\n\n<p>which implies that if you don't want to rethrow exception for the give task you can make the exception constructor non-publicly, for example:</p>\n\n<pre><code>val exception = object: IllegalStateException(){/**/};\n//                      ^--- its constructor only available in its scope \n</code></pre>\n"}], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 204, "favorite_count": 0, "accepted_answer_id": 44593768, "answer_count": 1, "score": 0, "last_activity_date": 1499169311, "creation_date": 1497624686, "question_id": 44592243, "link": "https://stackoverflow.com/questions/44592243/why-the-coroutine-exception-handler-double-the-original-exception", "title": "why the coroutine exception handler double the original exception?", "body": "<p>I implements my own <code>async</code>, I can't process the exception in a right way. why?</p>\n\n<pre><code>val expected = IllegalStateException();\nval it = async&lt;Any&gt; {\n    throw expected;\n};\n\nassert.that({ it.get() }, throws(equalTo(expected)));\n//              ^--- but it throws a IllegalStateException(cause = expected)\n</code></pre>\n\n<h2>Source Code</h2>\n\n<pre><code>interface Response&lt;in T&gt; {\n    suspend fun yield(value: T);\n}\n\ninterface Request&lt;out T&gt; {\n    fun get(): T;\n    fun &lt;R&gt; then(mapping: (T) -&gt; R): Request&lt;R&gt;;\n}\n\nprivate val executor: ExecutorService = ForkJoinPool(20);\nfun &lt;T&gt; async(block: suspend Response&lt;T&gt;.() -&gt; Unit): Request&lt;T&gt; {\n    return object : Request&lt;T&gt;, Response&lt;T&gt; {\n        @Volatile var value: T? = null;\n\n        var request: Continuation&lt;Unit&gt;? = block.createCoroutine(this, delegate {}).let {\n            var task: Future&lt;*&gt;? = executor.submit { it.resume(Unit); };\n            return@let delegate {\n                try {\n                    val current = task!!;\n                    task = null;\n                    current.get();\n                } catch(e: ExecutionException) {\n                    throw e.cause ?: e;\n                }\n            };\n        };\n\n        override fun &lt;R&gt; then(mapping: (T) -&gt; R): Request&lt;R&gt; = async&lt;R&gt; {\n            yield(mapping(get()));\n        };\n\n        override fun get(): T {\n            return value ?: wait();\n        }\n\n        private fun wait(): T {\n            val it = request!!;\n            request = null;\n            it.resume(Unit);\n            return value!!;\n        }\n\n        suspend override fun yield(value: T) {\n            this.value = value;\n        }\n\n    };\n}\n\ninline fun &lt;T&gt; delegate(noinline exceptional: (Throwable) -&gt; Unit = { throw it; }, crossinline resume: (T) -&gt; Unit): Continuation&lt;T&gt; {\n    return object : Continuation&lt;T&gt; {\n        override val context: CoroutineContext = EmptyCoroutineContext;\n\n\n        override fun resumeWithException(exception: Throwable) {\n            exceptional(exception);\n        }\n\n        override fun resume(value: T) {\n            resume(value);\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 897, "user_id": 2528556, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ArYFN.jpg?s=128&g=1", "display_name": "Sonofblip", "link": "https://stackoverflow.com/users/2528556/sonofblip"}, "edited": false, "score": 0, "creation_date": 1497620578, "post_id": 44590769, "comment_id": 76169103, "body": "That&#39;s interesting because in the case where you&#39;re assigning something to a value based off itself, you still have to use it on the right side as well to avoid a compiler error. (e.g. myObj?.property = myObj?.property + 1)"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 897, "user_id": 2528556, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ArYFN.jpg?s=128&g=1", "display_name": "Sonofblip", "link": "https://stackoverflow.com/users/2528556/sonofblip"}, "edited": false, "score": 4, "creation_date": 1497620766, "post_id": 44590769, "comment_id": 76169240, "body": "@Sonofblip, there&#39;s a different reason for that: in a multi-threaded environment (which a JVM is), a global variable <code>myObj</code> can be reassigned between the check in the left-hand side and the evaluation of <code>myObj?.property</code> in the right-hand side. So, you need to check it again."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1497634885, "post_id": 44590769, "comment_id": 76178059, "body": "@hotkey sir, first up-vote. but it needn&#39;t to check it again in multi-threads since the kotlin copy the reference into another variable."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1497637159, "post_id": 44590769, "comment_id": 76179283, "body": "@holi-java, please see <a href=\"https://gist.github.com/h0tk3y/37e95db4243ccd0e8a012733a5982413\" rel=\"nofollow noreferrer\">this gist</a>, where I explained the bytecode generated for a line <code>c?.x = (c?.x ?: 0) + 1</code>. You can clearly see that <code>AppKt.c</code> is accessed twice, so if <code>c</code> is reassigned inbetween, you can get a null in the second call. Therefore the compiler treats that <code>c</code> as nullable in the right-hand side, and you should check it for null again to be able to use it. That&#39;s what I meant."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1497637285, "post_id": 44590769, "comment_id": 76179350, "body": "Also, as a funny side-effect, in a statement <code>c?.x = (?.x ?: 0) + 1</code>, you can set <code>x</code> of a different object than the one you get it from. :)"}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 0, "creation_date": 1497637575, "post_id": 44590769, "comment_id": 76179505, "body": "@hotkey sir, but what are you  said is that you need check the <code>myObj</code> again rather than the <code>property</code> of <code>myObj</code>."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1497637737, "post_id": 44590769, "comment_id": 76179596, "body": "@holi-java, I meant, if <code>c</code> is nullable, the Kotlin compiler does not let you write <code>c?.x = c.x + 1</code>, because <code>c</code> is accessed twice, and it can be reassgined inbetween. By &#39;<i>check</i>&#39;, I mean that you have to use safe access <code>?.</code> in the right-hand side again, like <code>(c?.x ?: 0) + 1</code>, or make a not-null assertion <code>!!</code>, like <code>c!!.x + 1</code>."}, {"owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "edited": false, "score": 1, "creation_date": 1497637945, "post_id": 44590769, "comment_id": 76179706, "body": "@hotkey I&#39;m sorry, I understand what are you said by your detailed comment. thanks very much."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 28, "last_activity_date": 1501676721, "last_edit_date": 1501676721, "creation_date": 1497620458, "answer_id": 44590769, "question_id": 44590682, "link": "https://stackoverflow.com/questions/44590682/what-does-mean-in-kotlin-when-used-on-the-left-side-of-an-assignment/44590769#44590769", "title": "What does ?. mean in Kotlin when used on the left side of an assignment?", "body": "<p>It means that if one of the safe calls on the left-hand side fails (i.e. its receiver is null), then the whole assignment is skipped, and the expression on the right-hand side is not evaluated at all.</p>\n\n<pre><code>val nullable: Container? = null\nnullable?.x = f() // f is not called\n</code></pre>\n\n<p><sup><a href=\"https://try.kotlinlang.org/#/UserProjects/53p2po3gng5ln7rjavo30fagri/ept2e273e4nbv121jqrbhv88er\" rel=\"nofollow noreferrer\">(runnable demo)</a></sup></p>\n"}, {"tags": [], "owner": {"reputation": 25092, "user_id": 7607923, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/amAyL.jpg?s=128&g=1", "display_name": "holi-java", "link": "https://stackoverflow.com/users/7607923/holi-java"}, "is_accepted": false, "score": 2, "last_activity_date": 1497649216, "last_edit_date": 1497649216, "creation_date": 1497635578, "answer_id": 44595265, "question_id": 44590682, "link": "https://stackoverflow.com/questions/44590682/what-does-mean-in-kotlin-when-used-on-the-left-side-of-an-assignment/44595265#44595265", "title": "What does ?. mean in Kotlin when used on the left side of an assignment?", "body": "<p>I'm seeing a fun question &amp; answer in Kotlin just now. Even if the answer is very nice, but I want to clarify it in more detailed.</p>\n\n<p>The assignment expression below: </p>\n\n<pre><code>myObj?.property = SomeClass.someFunc() \n</code></pre>\n\n<p>is transformed to Java bytecode by Kolin as below:</p>\n\n<pre><code>val it = myObj;\n\nif(it != null){\n   it.property = SomeClass.someFunc(); \n}\n</code></pre>\n\n<p>so there is no problem in multiple threads. It still works fine and I have tested it on <a href=\"https://github.com/holi-java/kotlin-guides/blob/55911cced7dc8d35d692bac05d62196e31a8fbbf/src/test/kotlin/com/holi/basic/operators/NullSafetyOperatorsTest.kt#L46-L62\" rel=\"nofollow noreferrer\">github</a>. But it will result in the <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/interfere.html\" rel=\"nofollow noreferrer\">Thread Interference</a> problem, which means it will modify the <code>property</code> on different references when <code>myObj</code> is changed.</p>\n\n<p>Except the assignment expression can be <em>short-circuited</em>, others also can be <em>short-circuited</em>. For example:</p>\n\n<pre><code>val array:Array&lt;Any&gt;? = null;\n\n//   v--- short-circuited\narray?.set(0,SomeClass.someFunc());\n//                     ^--- never be called\n</code></pre>\n"}], "owner": {"reputation": 897, "user_id": 2528556, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ArYFN.jpg?s=128&g=1", "display_name": "Sonofblip", "link": "https://stackoverflow.com/users/2528556/sonofblip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1609, "favorite_count": 1, "accepted_answer_id": 44590769, "answer_count": 2, "score": 24, "last_activity_date": 1501676721, "creation_date": 1497620233, "last_edit_date": 1497702928, "question_id": 44590682, "link": "https://stackoverflow.com/questions/44590682/what-does-mean-in-kotlin-when-used-on-the-left-side-of-an-assignment", "title": "What does ?. mean in Kotlin when used on the left side of an assignment?", "body": "<p>According to the <a href=\"https://kotlinlang.org/docs/reference/null-safety.html\" rel=\"noreferrer\">Kotlin docs</a>, the ?. operator represents a 'safe call', meaning that if it's used in a chain of method calls, the entire chain will return null if the value of whatever it's used on is null.</p>\n\n<p>But what about if it's used on the left side of an assignment? Since the left side isn't the side that's 'returning' anything it seems like it probably has a different effect. Here's an example of what I'm talking about:</p>\n\n<pre><code>val myObj = SomeObj()\nmyObj?.property = SomeClass.someFunc() // What does ?. do in this context?\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 6094, "user_id": 5132804, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/ueFFV.jpg?s=128&g=1", "display_name": "Pelocho", "link": "https://stackoverflow.com/users/5132804/pelocho"}, "edited": false, "score": 1, "creation_date": 1497617475, "post_id": 44589669, "comment_id": 76167027, "body": "Did you check Effective Java Item 69?"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 1, "creation_date": 1497617771, "post_id": 44589669, "comment_id": 76167243, "body": "You could use actors from Kotlin coroutines to implement your service. It waits for items to be sent to a channel. More info here: <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/coroutines-guide.md#actors\" rel=\"nofollow noreferrer\">github.com/Kotlin/kotlinx.coroutines/blob/master/&hellip;</a>"}, {"owner": {"reputation": 4447, "user_id": 3050249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yz2yy.jpg?s=128&g=1", "display_name": "Miha_x64", "link": "https://stackoverflow.com/users/3050249/miha-x64"}, "edited": false, "score": 0, "creation_date": 1497617988, "post_id": 44589669, "comment_id": 76167382, "body": "You can cast any object to <code>java.lang.Object</code> and implement such antipatterns easily."}, {"owner": {"reputation": 36733, "user_id": 907695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/daac9f1ef1a91604000a38376cace034?s=128&d=identicon&r=PG", "display_name": "Pointer Null", "link": "https://stackoverflow.com/users/907695/pointer-null"}, "edited": false, "score": 0, "creation_date": 1569444206, "post_id": 44589669, "comment_id": 102603332, "body": "Currently <code>actor</code> from coroutines is deprecated, so this is also not good option."}], "answers": [{"comments": [{"owner": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "edited": false, "score": 0, "creation_date": 1497623003, "post_id": 44589962, "comment_id": 76170955, "body": "Ad BlockingQueue, in my case this wouldn&#39;t work, because when notified, I need to check the data in the database. Would there be something useful for it? Ad <code>notify</code>, I don&#39;t really need to use it, I just need to to find something suitable :-)"}, {"owner": {"reputation": 1839, "user_id": 1502352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eacd8109133d34d8382cf40d4f41012d?s=128&d=identicon&r=PG", "display_name": "Christian Br&#252;ggemann", "link": "https://stackoverflow.com/users/1502352/christian-br%c3%bcggemann"}, "reply_to_user": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "edited": false, "score": 0, "creation_date": 1497626581, "post_id": 44589962, "comment_id": 76173406, "body": "@Vojt\u011bch Maybe a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html\" rel=\"nofollow noreferrer\">Semaphore</a>?"}, {"owner": {"reputation": 36733, "user_id": 907695, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/daac9f1ef1a91604000a38376cace034?s=128&d=identicon&r=PG", "display_name": "Pointer Null", "link": "https://stackoverflow.com/users/907695/pointer-null"}, "edited": false, "score": 2, "creation_date": 1569444575, "post_id": 44589962, "comment_id": 102603448, "body": "Instead of the cast and @Suppress, create dedicated <code>val lock=Object()</code>, and use any <code>synchronized(lock){ lock.wait(); lock.notify()}</code> on that. This is without compiler warning."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 20, "last_activity_date": 1497882812, "last_edit_date": 1497882812, "creation_date": 1497618224, "answer_id": 44589962, "question_id": 44589669, "link": "https://stackoverflow.com/questions/44589669/correctly-implementing-wait-and-notify-in-kotlin/44589962#44589962", "title": "Correctly implementing wait and notify in Kotlin", "body": "<p>A <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html\" rel=\"noreferrer\"><code>BlockingQueue</code></a> can be a suitable high-level concurrency utility for your use case, but applying it requires knowing and modifying your code structure.</p>\n\n<p>The idea is, <code>fetchData()</code> should <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html#take()\" rel=\"noreferrer\"><code>.take()</code></a> an item from the queue, and if the queue is empty, that will block the execution until an item appears, which eliminates the <code>.wait()</code> in your code. The producer of the data should <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/BlockingQueue.html#put(E)\" rel=\"noreferrer\"><code>.put(t)</code></a> the data into the queue. </p>\n\n<hr>\n\n<p>If you <em>really</em> need to use <code>wait</code> and <code>notify</code>, e.g. for implementing a concurrency utility at low-level, you can cast a Kotlin object to <code>java.lang.Object</code> and call these functions afterwards, as said in <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#waitnotify\" rel=\"noreferrer\">the language reference</a>. Or, written as extension functions:</p>\n\n<pre><code>@Suppress(\"PLATFORM_CLASS_MAPPED_TO_KOTLIN\")\nprivate fun Any.wait() = (this as java.lang.Object).wait()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3801, "user_id": 124974, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28f935ff36b53c1b42faf29b1217fde5?s=128&d=identicon&r=PG", "display_name": "Jon Tirsen", "link": "https://stackoverflow.com/users/124974/jon-tirsen"}, "edited": false, "score": 2, "creation_date": 1539618177, "post_id": 49699398, "comment_id": 92557788, "body": "Kotlin also adds the <code>withLock</code> higher level function which makes this even nicer!"}, {"owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "reply_to_user": {"reputation": 3801, "user_id": 124974, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/28f935ff36b53c1b42faf29b1217fde5?s=128&d=identicon&r=PG", "display_name": "Jon Tirsen", "link": "https://stackoverflow.com/users/124974/jon-tirsen"}, "edited": false, "score": 1, "creation_date": 1539623157, "post_id": 49699398, "comment_id": 92560078, "body": "@JonTirsen Thanks! Somehow I&#39;d missed the existence of <code>withLock</code> in the standard library (I swear I&#39;d looked for something like this). I&#39;ve updated the answer to use it."}, {"owner": {"reputation": 2983, "user_id": 7767664, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/32630cb48af30367a74442b541b5f94a?s=128&d=identicon&r=PG&f=1", "display_name": "user924", "link": "https://stackoverflow.com/users/7767664/user924"}, "edited": false, "score": 0, "creation_date": 1560845949, "post_id": 49699398, "comment_id": 99859475, "body": "you still have to use variable <code>boolean</code> to check if thread is waiting or not, so for me it&#39;s still better to use <code>synchronized</code> + <code>Object</code>"}, {"owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "reply_to_user": {"reputation": 2983, "user_id": 7767664, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/32630cb48af30367a74442b541b5f94a?s=128&d=identicon&r=PG&f=1", "display_name": "user924", "link": "https://stackoverflow.com/users/7767664/user924"}, "edited": false, "score": 0, "creation_date": 1568055227, "post_id": 49699398, "comment_id": 102145606, "body": "@user924 What do you mean?"}, {"owner": {"reputation": 515, "user_id": 1749411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bff2595f8256bd8401392090d4f493a?s=128&d=identicon&r=PG", "display_name": "Pavel \u010cernock&#253;", "link": "https://stackoverflow.com/users/1749411/pavel-%c4%8cernock%c3%bd"}, "edited": false, "score": 0, "creation_date": 1589538499, "post_id": 49699398, "comment_id": 109340309, "body": "Using <code>wait()</code>/<code>notify()</code> and <code>ReeantrantLock</code>/<code>Condition</code> together with Coroutines does not make sense. Both approaches block thread which is not acceptable in Couroutines."}], "tags": [], "owner": {"reputation": 124764, "user_id": 90848, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/tK3A3.jpg?s=128&g=1", "display_name": "Laurence Gonsalves", "link": "https://stackoverflow.com/users/90848/laurence-gonsalves"}, "is_accepted": false, "score": 45, "last_activity_date": 1539880547, "last_edit_date": 1539880547, "creation_date": 1523040932, "answer_id": 49699398, "question_id": 44589669, "link": "https://stackoverflow.com/questions/44589669/correctly-implementing-wait-and-notify-in-kotlin/49699398#49699398", "title": "Correctly implementing wait and notify in Kotlin", "body": "<p>In general you should use higher-level concurrency utilities when possible.</p>\n\n<p>However, if none of the higher-level constructs work in your case, the direct\nreplacement is to use a\n<a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/locks/ReentrantLock.html\" rel=\"noreferrer\"><code>ReentrantLock</code></a> and a single\n<a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/concurrent/locks/Condition.html\" rel=\"noreferrer\"><code>Condition</code></a>\non that lock.</p>\n\n<p>For example, if your Java code was something like:</p>\n\n\n\n<pre><code>private Object lock = new Object();\n\n...\n\nsynchronized(lock) {\n    ...\n    lock.wait();\n    ...\n    lock.notify();\n    ...\n    lock.notifyAll();\n    ...\n}\n</code></pre>\n\n<p>You can change it to the following Kotlin:</p>\n\n\n\n<pre><code>private val lock = ReentrantLock()\nprivate val condition = lock.newCondition()\n\nlock.withLock {           // like synchronized(lock)\n    ...\n    condition.await()     // like wait()\n    ...\n    condition.signal()    // like notify()\n    ...\n    condition.signalAll() // like notifyAll()\n    ...\n}\n</code></pre>\n\n<p>While this is slightly more verbose, conditions do provide some extra\nflexibility, as you can have multiple conditions on a single lock, and there\nare also other kinds of locks (notably <code>ReentrantReadWriteLock.ReadLock</code> and\n<code>ReentrantReadWriteLock.WriteLock</code>).</p>\n\n<p>Note that <code>withLock</code> is a Kotlin-provided extension function that takes care of calling <code>Lock.lock()</code>/<code>Lock.unlock()</code> before/after invoking the supplied lambda.</p>\n"}, {"comments": [{"owner": {"reputation": 515, "user_id": 1749411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bff2595f8256bd8401392090d4f493a?s=128&d=identicon&r=PG", "display_name": "Pavel \u010cernock&#253;", "link": "https://stackoverflow.com/users/1749411/pavel-%c4%8cernock%c3%bd"}, "edited": false, "score": 0, "creation_date": 1589538355, "post_id": 59505770, "comment_id": 109340243, "body": "I think the example in this answer is wrong. There is a race condition. I assume, that <code>notify()</code> is called after <code>fetchData()</code> returns something different than before. If <code>notify()</code> is called after <code>data.isEmpty()</code> is true, but before <code>mutex.lock()</code>, then coroutine waiting on <code>mutex.lock()</code> will wait forever."}, {"owner": {"reputation": 3548, "user_id": 1185087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6afade4b139c906d08b90d8b2b36f7db?s=128&d=identicon&r=PG", "display_name": "user1185087", "link": "https://stackoverflow.com/users/1185087/user1185087"}, "reply_to_user": {"reputation": 515, "user_id": 1749411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bff2595f8256bd8401392090d4f493a?s=128&d=identicon&r=PG", "display_name": "Pavel \u010cernock&#253;", "link": "https://stackoverflow.com/users/1749411/pavel-%c4%8cernock%c3%bd"}, "edited": false, "score": 0, "creation_date": 1589791613, "post_id": 59505770, "comment_id": 109422973, "body": "@Pavel\u010cernock&#253; you are right. To fix it, I replaced the mutex by a semaphore and two acquire calls. This chains condition and suspension together. If the notify call comes in between the isEmpty condition and the acquire call, then it won&#39;t result in an unwanted unlimited suspension anymore."}, {"owner": {"reputation": 515, "user_id": 1749411, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6bff2595f8256bd8401392090d4f493a?s=128&d=identicon&r=PG", "display_name": "Pavel \u010cernock&#253;", "link": "https://stackoverflow.com/users/1749411/pavel-%c4%8cernock%c3%bd"}, "edited": false, "score": 0, "creation_date": 1589959562, "post_id": 59505770, "comment_id": 109495883, "body": "This fix has another problems. <code>acquire()</code>/<code>release()</code> has to be in pair what is not guaranteed here. Especially when <code>notifyDataAvailable()</code> is called multiple times, it will throw an exception, because there will be no <code>Semaphore</code> permits to release. In general i don&#39;t see this approach is right, it certainly can not be generalized. The whole <code>while</code> is constructed badly. <code>data</code> is local variable which is filled by <code>fetchData</code>, so <code>fetchData</code> should be coordinated with <code>notifyDataAvailable</code>."}], "tags": [], "owner": {"reputation": 3548, "user_id": 1185087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6afade4b139c906d08b90d8b2b36f7db?s=128&d=identicon&r=PG", "display_name": "user1185087", "link": "https://stackoverflow.com/users/1185087/user1185087"}, "is_accepted": false, "score": -1, "last_activity_date": 1589791293, "last_edit_date": 1589791293, "creation_date": 1577478876, "answer_id": 59505770, "question_id": 44589669, "link": "https://stackoverflow.com/questions/44589669/correctly-implementing-wait-and-notify-in-kotlin/59505770#59505770", "title": "Correctly implementing wait and notify in Kotlin", "body": "<p>You could use the <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.sync/-semaphore/index.html\" rel=\"nofollow noreferrer\">kotlin Semaphore</a> to suspend the coroutine instead of blocking a thread:</p>\n\n<pre><code>val semaphore = Semaphore(1, 0)\n\nsuspend fun runFetchLoop() = withContext(Dispatchers.Default){\n    while (isActive) {\n        val data = fetchData()\n        processData(data)\n        semaphore.acquire()\n        if (data.isEmpty()) {\n            semaphore.acquire()\n        }\n        semaphore.release()\n    }\n}\n\nfun notifyDataAvailable() = semaphore.release()\n</code></pre>\n\n<p>Here is a running example: <a href=\"https://pl.kotl.in/bnKeOspfs\" rel=\"nofollow noreferrer\">https://pl.kotl.in/bnKeOspfs</a> .</p>\n\n<p>However I would prefer a <em>cold</em> <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.flow/-flow/index.html\" rel=\"nofollow noreferrer\">Flow</a> or a <em>hot</em> <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.channels/produce.html\" rel=\"nofollow noreferrer\">Channel</a> to solve this problem. Here is a good <a href=\"https://medium.com/@elizarov/cold-flows-hot-channels-d74769805f9\" rel=\"nofollow noreferrer\">article</a> about cold flows and hot channels of the great Roman Elizarov</p>\n"}], "owner": {"reputation": 9318, "user_id": 922584, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/05766da42bea2cb7c9e185fa66be4725?s=128&d=identicon&r=PG", "display_name": "Vojt\u011bch", "link": "https://stackoverflow.com/users/922584/vojt%c4%9bch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18129, "favorite_count": 3, "answer_count": 3, "score": 31, "last_activity_date": 1589791293, "creation_date": 1497617344, "last_edit_date": 1497623447, "question_id": 44589669, "link": "https://stackoverflow.com/questions/44589669/correctly-implementing-wait-and-notify-in-kotlin", "title": "Correctly implementing wait and notify in Kotlin", "body": "<p>According to this document, using <code>wait</code> and <code>notify</code> is discouraged in Kotlin: <a href=\"https://kotlinlang.org/docs/reference/java-interop.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/java-interop.html</a></p>\n\n<blockquote>\n  <p>wait()/notify()</p>\n  \n  <p>Effective Java Item 69 kindly suggests to prefer concurrency utilities to wait() and notify(). Thus, these methods are not available on references of type Any. </p>\n</blockquote>\n\n<p>However the document does not propose any correct way of doing it.</p>\n\n<p>Basically, I would like to implement a service, which would read the input data and process them. If there were no input data, it would suspend itself until someone notifies that there are new input data. Something like</p>\n\n<pre><code>while (true) {\n    val data = fetchData()\n    processData(data)\n    if (data.isEmpty()) {\n        wait()\n    }\n}\n</code></pre>\n\n<p>EDIT: </p>\n\n<p>I don't want to use these not recommended methods (antipatterns), I really want to find out how to do this properly.</p>\n\n<p>In my case <code>fetchData</code> reads data from the database, so queues in my case cannot be used.</p>\n"}, {"tags": ["gradle", "kotlin", "gradle-kotlin-dsl"], "answers": [{"comments": [{"owner": {"reputation": 395, "user_id": 2785579, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4d9b3ef0d0baf464896511d097d7e89f?s=128&d=identicon&r=PG&f=1", "display_name": "Daykm", "link": "https://stackoverflow.com/users/2785579/daykm"}, "edited": false, "score": 0, "creation_date": 1497619718, "post_id": 44589895, "comment_id": 76168491, "body": "Cool. Took me a second to figure out what you mean with scoping. Putting the applyFrom() inside the buildscript block works. It doesn&#39;t make complete sense since the project.extra&#39;s shouldn&#39;t be affected by the ExtensionAware scope, right?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "reply_to_user": {"reputation": 395, "user_id": 2785579, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4d9b3ef0d0baf464896511d097d7e89f?s=128&d=identicon&r=PG&f=1", "display_name": "Daykm", "link": "https://stackoverflow.com/users/2785579/daykm"}, "edited": false, "score": 0, "creation_date": 1497620062, "post_id": 44589895, "comment_id": 76168747, "body": "@Daykm, now I see that there was a completely different problem in your case: Gradle collects and executes the <code>buildscript</code> blocks strictly before anything else in the script, so, ideed, the correct fix was to apply another script in the <code>buildscript</code> block and not outside."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 14, "last_activity_date": 1497620319, "last_edit_date": 1497620319, "creation_date": 1497618028, "answer_id": 44589895, "question_id": 44589153, "link": "https://stackoverflow.com/questions/44589153/how-are-gradle-extra-properties-set-in-the-kotlin-dsl/44589895#44589895", "title": "How are gradle extra properties set in the Kotlin DSL?", "body": "<p><strong>A correct fix:</strong> Gradle collects and applies the <code>buildscript { ... }</code> blocks from your script strictly before executing anything else from it. So, to make your properties from <code>config.gradle.kts</code> available inside the <code>buildscript</code>, you should move <code>applyFrom(\"config.gradle.kts\")</code> to your <code>buildscript { ... }</code> block:</p>\n\n<pre><code>buildscript {\n    applyFrom(\"config.gradle.kts\")\n\n    /* ... */\n}\n</code></pre>\n\n<hr>\n\n<p>Another possible mistake is using an extra property as <code>extra[\"minSdkVer\"]</code> in a scope of another <code>ExtensionAware</code>, like a task in this example:</p>\n\n<pre><code>val myTask = task(\"printMinSdkVer\") {\n    doLast {\n        println(\"Extra property value: ${extra[\"minSdkVer\"]}\")\n    }\n}\n</code></pre>\n\n<p><sup>In this case, <code>extra.get(...)</code> uses not the <code>project.extra</code> but the <code>extra</code> of the task.</sup></p>\n\n<p>To fix that, specify that you work with the project. Direct usage:</p>\n\n<pre><code>println(project.extra[\"minSdkVer\"])\n</code></pre>\n\n<p>And for delegation.</p>\n\n<pre><code>val minSdkVer by project.extra\n</code></pre>\n"}], "owner": {"reputation": 395, "user_id": 2785579, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4d9b3ef0d0baf464896511d097d7e89f?s=128&d=identicon&r=PG&f=1", "display_name": "Daykm", "link": "https://stackoverflow.com/users/2785579/daykm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10545, "favorite_count": 3, "accepted_answer_id": 44589895, "answer_count": 1, "score": 16, "last_activity_date": 1512394268, "creation_date": 1497615728, "last_edit_date": 1512394268, "question_id": 44589153, "link": "https://stackoverflow.com/questions/44589153/how-are-gradle-extra-properties-set-in-the-kotlin-dsl", "title": "How are gradle extra properties set in the Kotlin DSL?", "body": "<p>I'm trying to organize my build files as I would in groovy, by having values in a separate file to reuse. But I cannot understand the syntax to do the same thing in the kotlin DSL.</p>\n\n<p>Here's what I'm using in root build.gradle.kts:</p>\n\n<pre><code>applyFrom(\"config.gradle.kts\")\n\nbuildscript {\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        val test = project.extra[\"minSdkVer\"]\n        classpath(\"com.android.tools.build:gradle:3.0.0-alpha4\")\n        classpath(\"org.jetbrains.kotlin:kotlin-gradle-plugin:1.1.2-5\")\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n    }\n}\n</code></pre>\n\n<p>and here's whats in the config.gradle.kts that is being referenced:</p>\n\n<pre><code>mapOf(\n        Pair(\"minSdkVer\", 22),\n        Pair(\"targetSdkVer\", 25),\n        Pair(\"compiledSdkVer\", 25),\n        Pair(\"buildToolsVer\", \"26-rc4\")\n).entries.forEach {\n    project.extra.set(it.key, it.value)\n}\n</code></pre>\n\n<p>But there's an error:</p>\n\n<blockquote>\n  <p>Cannot get property 'minSdkVer' on extra properties extension as it\n  does not exist</p>\n</blockquote>\n"}, {"tags": ["generics", "types", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 2, "creation_date": 1497615168, "post_id": 44588821, "comment_id": 76165507, "body": "You could also write <code>when(a)</code>, and just write <code>is Int -&gt;</code> in each of the cases. You won&#39;t repeat <code>a</code> for every case this way."}], "tags": [], "owner": {"reputation": 89682, "user_id": 675383, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/6e7a971eb341ffeaa3efca407239bf3b?s=128&d=identicon&r=PG", "display_name": "nhaarman", "link": "https://stackoverflow.com/users/675383/nhaarman"}, "is_accepted": true, "score": 6, "last_activity_date": 1497614596, "creation_date": 1497614596, "answer_id": 44588821, "question_id": 44588620, "link": "https://stackoverflow.com/questions/44588620/is-it-possible-to-return-the-same-type-as-the-type-parameter-in-when-statement/44588821#44588821", "title": "Is it possible to return the same type as the type parameter in when statement", "body": "<p>You can cast the result to <code>T</code> afterwards. You won't get any compiler assistance with that and you will get warnings, but at least it does compile:</p>\n\n<pre><code>fun &lt;T&gt; f(a: T): T =\n    when {\n        a is Int -&gt; 0  // if T is Int, then return Int\n        a is String -&gt; \"\"  // if T is String, then return String\n        else -&gt; throw RuntimeException()  // Otherwise, throw an exception so that the return type does not matter.\n    } as T\n</code></pre>\n\n<p>Note that <code>when (a)</code> here is unnecessary, just <code>when {</code> is enough.</p>\n"}, {"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 4, "last_activity_date": 1519823779, "last_edit_date": 1519823779, "creation_date": 1497615655, "answer_id": 44589139, "question_id": 44588620, "link": "https://stackoverflow.com/questions/44588620/is-it-possible-to-return-the-same-type-as-the-type-parameter-in-when-statement/44589139#44589139", "title": "Is it possible to return the same type as the type parameter in when statement", "body": "<p>Currently, when the Kotlin compiler analyzes a function, it does not assume certain particular cases of a type parameter for the parts of the body.</p>\n\n<p>Instead, the code that works with a type parameter <code>T</code> is supposed to be correct with any <code>T</code>. Returning an <code>Int</code> where <code>T</code> is expected is not considered safe just because it's not analyzed deep enough to proof that <code>T</code> is always a supertype of <code>Int</code> if the function reaches that branch.</p>\n\n<p>One option is just to make an unchecked cast to <code>T</code>, as in @nhaarman's answer, thus expressing that you are sure that the types are correct.</p>\n\n<p>Another solution is to make several overloads of your function that work with different types:</p>\n\n<pre><code>fun f(a: Int) = 1\nfun f(a: String) = \"\"\nfun f(a: Any): Nothing = throw RuntimeException()\n</code></pre>\n\n<p>In this case, the compiler will choose the function overload based on the argument you pass, in contrast with specializing a single generic function to a certain type argument, and this is a simpler task for the compiler, because it does not involve any type analysis inside a function body.</p>\n\n<hr>\n\n<p>Also, similar question:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/38858672/kotlin-reified-type-parameter-doesnt-smart-cast\">Kotlin reified type parameter doesn't smart cast</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/34010442/why-doesnt-smart-cast-handle-this-situation\">Why doesn't smart-cast handle this situation?</a></p></li>\n</ul>\n"}], "owner": {"reputation": 11598, "user_id": 869330, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/34be19b80429871a85ea92656850bceb?s=128&d=identicon&r=PG&f=1", "display_name": "Naetmul", "link": "https://stackoverflow.com/users/869330/naetmul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 44588821, "answer_count": 2, "score": 3, "last_activity_date": 1519823779, "creation_date": 1497613970, "question_id": 44588620, "link": "https://stackoverflow.com/questions/44588620/is-it-possible-to-return-the-same-type-as-the-type-parameter-in-when-statement", "title": "Is it possible to return the same type as the type parameter in when statement", "body": "<p>For example:</p>\n\n<pre><code>fun &lt;T&gt; f(a: T): T =\n    when (a) {\n        a is Int -&gt; 0  // if T is Int, then return Int\n        a is String -&gt; \"\"  // if T is String, then return String\n        else -&gt; throw RuntimeException()  // Otherwise, throw an exception so that the return type does not matter.\n    }\n</code></pre>\n\n<p>It gives compile errors:</p>\n\n<pre><code>Error:(3, 20) The integer literal does not conform to the expected type T\nError:(4, 23) Type mismatch: inferred type is String but T was expected\n</code></pre>\n"}, {"tags": ["java", "mockito", "kotlin", "powermock", "powermockito"], "owner": {"reputation": 6473, "user_id": 2660462, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e7866e763430b8848f14ffdacb61b99f?s=128&d=identicon&r=PG", "display_name": "Lukas Lechner", "link": "https://stackoverflow.com/users/2660462/lukas-lechner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 896, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1497613224, "creation_date": 1497613224, "question_id": 44588388, "link": "https://stackoverflow.com/questions/44588388/powermockito-spy-and-kotlins-object-declarations-cannot-subclass-final-class", "title": "Powermockito spy and Kotlin&#39;s object declarations: Cannot subclass final class", "body": "<p>I have some problems with object declarations in Koltin and Powermocks' spy() when converting tests from java to kotlin</p>\n\n<pre><code>open class TestData(val test: String){\n    open fun test(){\n        println(\"TestData\")\n    }\n}\n\n@RunWith(PowerMockRunner::class)\nopen class MockitoTests {\n\n    lateinit var testData: TestData\n    lateinit var testDataObjectDeclaration: TestData\n\n    @Before\n    open fun setup(){\n        testData = PowerMockito.spy(TestData(\"Test\"))\n        testDataObjectDeclaration = PowerMockito.spy(object: TestData(\"test\"){\n            override fun test() {}\n        })\n    }\n\n    @Test\n    fun dummyTest() {}\n}\n</code></pre>\n\n<p>When I run the test, I get the following Error:</p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: Cannot subclass final class class at.lukle.kotlinplayground.MockitoTests$setup$1</p>\n</blockquote>\n\n<pre><code>at org.mockito.cglib.proxy.Enhancer.generateClass(Enhancer.java:447)\nat org.mockito.cglib.core.DefaultGeneratorStrategy.generate(DefaultGeneratorStrategy.java:25)\nat org.mockito.cglib.core.AbstractClassGenerator.create(AbstractClassGenerator.java:217)\nat org.mockito.cglib.proxy.Enhancer.createHelper(Enhancer.java:378)\nat org.mockito.cglib.proxy.Enhancer.createClass(Enhancer.java:318)\nat org.powermock.api.mockito.repackaged.ClassImposterizer.createProxyClass(ClassImposterizer.java:124)\nat org.powermock.api.mockito.repackaged.ClassImposterizer.imposterise(ClassImposterizer.java:58)\nat org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.createMethodInvocationControl(DefaultMockCreator.java:121)\nat org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.createMock(DefaultMockCreator.java:69)\nat org.powermock.api.mockito.internal.mockcreation.DefaultMockCreator.mock(DefaultMockCreator.java:46)\nat org.powermock.api.mockito.PowerMockito.spy(PowerMockito.java:221)\nat at.lukle.kotlinplayground.MockitoTests.setup(MockitoTests.kt:24)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.junit.internal.runners.MethodRoadie.runBefores(MethodRoadie.java:133)\nat org.junit.internal.runners.MethodRoadie.runBeforesThenTestThenAfters(MethodRoadie.java:96)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.executeTest(PowerMockJUnit44RunnerDelegateImpl.java:300)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTestInSuper(PowerMockJUnit47RunnerDelegateImpl.java:131)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.access$100(PowerMockJUnit47RunnerDelegateImpl.java:59)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner$TestExecutorStatement.evaluate(PowerMockJUnit47RunnerDelegateImpl.java:147)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.evaluateStatement(PowerMockJUnit47RunnerDelegateImpl.java:107)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit47RunnerDelegateImpl$PowerMockJUnit47MethodRunner.executeTest(PowerMockJUnit47RunnerDelegateImpl.java:82)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$PowerMockJUnit44MethodRunner.runBeforesThenTestThenAfters(PowerMockJUnit44RunnerDelegateImpl.java:288)\nat org.junit.internal.runners.MethodRoadie.runTest(MethodRoadie.java:87)\nat org.junit.internal.runners.MethodRoadie.run(MethodRoadie.java:50)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.invokeTestMethod(PowerMockJUnit44RunnerDelegateImpl.java:208)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.runMethods(PowerMockJUnit44RunnerDelegateImpl.java:147)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl$1.run(PowerMockJUnit44RunnerDelegateImpl.java:121)\nat org.junit.internal.runners.ClassRoadie.runUnprotected(ClassRoadie.java:34)\nat org.junit.internal.runners.ClassRoadie.runProtected(ClassRoadie.java:44)\nat org.powermock.modules.junit4.internal.impl.PowerMockJUnit44RunnerDelegateImpl.run(PowerMockJUnit44RunnerDelegateImpl.java:123)\nat org.powermock.modules.junit4.common.internal.impl.JUnit4TestSuiteChunkerImpl.run(JUnit4TestSuiteChunkerImpl.java:121)\nat org.powermock.modules.junit4.common.internal.impl.AbstractCommonPowerMockRunner.run(AbstractCommonPowerMockRunner.java:53)\nat org.powermock.modules.junit4.PowerMockRunner.run(PowerMockRunner.java:59)\nat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:117)\nat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:42)\nat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:262)\nat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:84)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat com.intellij.rt.execution.application.AppMain.main(AppMain.java:147)\n</code></pre>\n\n<p>The according Java Test runs just fine: \n`@RunWith(PowerMockRunner.class)\npublic class MockitoJavaTest {</p>\n\n<pre><code>private TestData testData;\nprivate TestData testDataAnnonymousClass;\n\n@Before\npublic void setup() {\n    MockitoAnnotations.initMocks(this);\n    testData = spy(new TestData(\"test\"));\n    testDataAnnonymousClass = spy(new TestData(\"test\"){\n        @Override\n        public void test() {\n\n        }\n    });\n}\n\n@Test\npublic void dummyTest(){\n\n}\n</code></pre>\n\n<p>}`</p>\n\n<p>Why does it work with Java's Annonymous class but not with Kotlin's Object Declarations?</p>\n\n<p>When I decompile the generated Bytecode of the Kotlin Test, the outcome is almost the same as the Java Test:</p>\n\n<p><code>Object var10001 = PowerMockito.spy(new TestData(\"Test\"));\n     Intrinsics.checkExpressionValueIsNotNull(var10001, \n     \"PowerMockito.spy(TestData(\\\"Test\\\"))\");\n     this.testData = (TestData)var10001;\n     var10001 = PowerMockito.spy(new TestData(\"test\") {\n         public void test() {}\n     });</code></p>\n"}, {"tags": ["android", "kotlin", "mvp"], "answers": [{"comments": [{"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1497627987, "post_id": 44584232, "comment_id": 76174328, "body": "You may want to add that you can change the name of the getter with <code>@JvmName</code>"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 5, "last_activity_date": 1497600961, "creation_date": 1497600961, "answer_id": 44584232, "question_id": 44584117, "link": "https://stackoverflow.com/questions/44584117/kotlin-mvp-accidental-override/44584232#44584232", "title": "Kotlin + MVP - accidental override", "body": "<p>You can make your property <code>private</code> to prevent a getter being generated for it:</p>\n\n<pre><code>private val x: String = \"\"\n</code></pre>\n\n<p>Alternatively, you can make it a simple Java field instead of a property with the <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#instance-fields\" rel=\"noreferrer\"><code>@JvmField</code></a> annotation:</p>\n\n<pre><code>@JvmField val x: String = \"\"\n</code></pre>\n"}], "owner": {"reputation": 147, "user_id": 4068898, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4704f6200a01924496f79ec22645ea11?s=128&d=identicon&r=PG&f=1", "display_name": "scottazord", "link": "https://stackoverflow.com/users/4068898/scottazord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1497601018, "creation_date": 1497600572, "last_edit_date": 1497601018, "question_id": 44584117, "link": "https://stackoverflow.com/questions/44584117/kotlin-mvp-accidental-override", "title": "Kotlin + MVP - accidental override", "body": "<p>I'm using Kotlin &amp; MVP together and stumbled on a little annoyance. </p>\n\n<p>I'm getting an \"accidental override\" error (as you can tell from below). Are there any resolutions to this, besides changing either the member variable name or the getX() in the MainView interface. </p>\n\n<p>From what i researched, there isn't a way to prevent kotlin from generating the getter for 'x'. </p>\n\n<pre><code>class MainActivity : Activity(), MainView {\n    val x: String // Accidental override\n\n    override fun getX(): String {\n        return x\n    }\n}\n\ninterface MainView {\n    fun getX(): String\n}\n</code></pre>\n"}, {"tags": ["kotlin", "bigdecimal"], "comments": [{"owner": {"reputation": 5553, "user_id": 875083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be32c5c41abe85fc683eb9176376de3?s=128&d=identicon&r=PG", "display_name": "Joachim Rohde", "link": "https://stackoverflow.com/users/875083/joachim-rohde"}, "edited": false, "score": 0, "creation_date": 1497598787, "post_id": 44583481, "comment_id": 76154887, "body": "Maybe your question is better suited for <a href=\"https://github.com/Kotlin/KEEP\" rel=\"nofollow noreferrer\">github.com/Kotlin/KEEP</a>"}, {"owner": {"reputation": 2414, "user_id": 4052962, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nGD2o.jpg?s=128&g=1", "display_name": "Michael Spitsin", "link": "https://stackoverflow.com/users/4052962/michael-spitsin"}, "reply_to_user": {"reputation": 5553, "user_id": 875083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8be32c5c41abe85fc683eb9176376de3?s=128&d=identicon&r=PG", "display_name": "Joachim Rohde", "link": "https://stackoverflow.com/users/875083/joachim-rohde"}, "edited": false, "score": 0, "creation_date": 1497599246, "post_id": 44583481, "comment_id": 76155125, "body": "@JoachimRohde thank you. I will try to add it there. However I thought, that there was a reason to not adding such functionality, thus I would be pointed to concrete caveats and would find another solution for my problem."}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1497602006, "post_id": 44583481, "comment_id": 76156800, "body": "Bear in mind that floating-point arithmetic doesn&#39;t always work that simply. For example, it would be possible to construct infinite loops this way."}, {"owner": {"reputation": 2414, "user_id": 4052962, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nGD2o.jpg?s=128&g=1", "display_name": "Michael Spitsin", "link": "https://stackoverflow.com/users/4052962/michael-spitsin"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1497602235, "post_id": 44583481, "comment_id": 76156929, "body": "@OliverCharlesworth, could you please, provide an example of <code>start</code>, <code>end</code> and <code>step</code> values for &quot;infinite loops&quot; case?"}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1497602824, "post_id": 44583481, "comment_id": 76157305, "body": "For single precision, anything where the endpoints are at least 2^24 times bigger than the step size. At that point, incrementing by the step size would have no effect."}, {"owner": {"reputation": 2414, "user_id": 4052962, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nGD2o.jpg?s=128&g=1", "display_name": "Michael Spitsin", "link": "https://stackoverflow.com/users/4052962/michael-spitsin"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1497603251, "post_id": 44583481, "comment_id": 76157590, "body": "@OliverCharlesworth as I know that is true for floats and doubles. Does it true for a BigDecimals?"}, {"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 1, "creation_date": 1497603805, "post_id": 44583481, "comment_id": 76157948, "body": "Indeed, doubles encounter the same problem (at 2^53 rather than 2^24).  As far as I&#39;m aware, the problem shouldn&#39;t occur for BigDecimal."}, {"owner": {"reputation": 2414, "user_id": 4052962, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nGD2o.jpg?s=128&g=1", "display_name": "Michael Spitsin", "link": "https://stackoverflow.com/users/4052962/michael-spitsin"}, "reply_to_user": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1497603923, "post_id": 44583481, "comment_id": 76158020, "body": "@OliverCharlesworth I agree with you. But my general question was about BigDecimals. Sorry, if I designed it wrong :("}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1497610076, "post_id": 44583481, "comment_id": 76162347, "body": "With floating point numbers, there can also be some cases where <code>step * n</code> lies within the range, but <code>(1..n).map { step }.sum()</code> does not, due to the rounding. Therefore it&#39;s not clear how to handle these corner cases. This, however, is not a problem with <code>BigDecimal</code>."}, {"owner": {"reputation": 24586, "user_id": 3255152, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/fbd95ef81d0a85310fee8dd46e0f65b0?s=128&d=identicon&r=PG&f=1", "display_name": "mfulton26", "link": "https://stackoverflow.com/users/3255152/mfulton26"}, "edited": false, "score": 0, "creation_date": 1497615708, "post_id": 44583481, "comment_id": 76165871, "body": "See also <a href=\"https://stackoverflow.com/q/44315977/3255152\">Ranges in Kotlin using data type Double</a>."}], "answers": [{"tags": [], "owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1497854773, "last_edit_date": 1497854773, "creation_date": 1497599161, "answer_id": 44583671, "question_id": 44583481, "link": "https://stackoverflow.com/questions/44583481/why-kotlin-doesnt-have-a-decimal-progression/44583671#44583671", "title": "Why Kotlin doesn&#39;t have a Decimal Progression?", "body": "<p>As it said in the <a href=\"https://kotlinlang.org/docs/reference/ranges.html#rangeto\" rel=\"nofollow noreferrer\">documentation</a> for ranges:</p>\n\n<blockquote>\n  <p>Floating point numbers (Double, Float) do not define their rangeTo\n  operator, and the one provided by the standard library for generic\n  Comparable types is used instead:</p>\n</blockquote>\n\n<pre><code>public operator fun &lt;T: Comparable&lt;T&gt;&gt; T.rangeTo(that: T): ClosedRange&lt;T&gt;\n</code></pre>\n\n<blockquote>\n  <p>The range returned by this function cannot be used for iteration. You\n  will have to use some other kind of loop since you can't use ranges.</p>\n</blockquote>\n\n<p>They simply <strong>do not define</strong>.</p>\n"}], "owner": {"reputation": 2414, "user_id": 4052962, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nGD2o.jpg?s=128&g=1", "display_name": "Michael Spitsin", "link": "https://stackoverflow.com/users/4052962/michael-spitsin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2024, "favorite_count": 1, "accepted_answer_id": 44583671, "answer_count": 1, "score": 5, "last_activity_date": 1497854773, "creation_date": 1497598535, "last_edit_date": 1497654647, "question_id": 44583481, "link": "https://stackoverflow.com/questions/44583481/why-kotlin-doesnt-have-a-decimal-progression", "title": "Why Kotlin doesn&#39;t have a Decimal Progression?", "body": "<p>Recently I faced with a problem iterating through decimal numbers with a decimal step and I was wondered, why <strong>Kotlin</strong> has Progressions only for <code>Int</code>, <code>Long</code> and <code>Char</code>.</p>\n\n<p>I understand, that there could be some caveats with decimal numbers. But still. We just want to have a start <code>BigDecimal</code> number, end <code>BigDecimal</code> number and then iterate through them with <code>BigDecimal</code> step.</p>\n\n<blockquote>\n  <p><strong>Q:</strong> So, why there is no any progressions for not integer numbers? Thank you.</p>\n</blockquote>\n\n<p><em>P.S.:</em> Here is a sample code of possible implementation (I took sources for Int and adapted to <code>BigDecimal</code>):</p>\n\n<pre><code>/**\n * Returns a progression that goes over the same range with the given step.\n */\npublic infix fun BigDecimalProgression.step(step: BigDecimal): BigDecimalProgression {\n    if (step &lt;= java.math.BigDecimal.ZERO) throw IllegalArgumentException(\"Step must be positive, was: $step.\")\n    return BigDecimalProgression.fromClosedRange(first, last, if (this.step &gt; java.math.BigDecimal.ZERO) step else -step)\n}\n\n/**\n * A progression of values of type `BigDecimal`.\n */\npublic open class BigDecimalProgression\ninternal constructor\n(\n        start: BigDecimal,\n        endInclusive: BigDecimal,\n        step: BigDecimal\n) : Iterable&lt;BigDecimal&gt; {\n    init {\n        if (step == BigDecimal.ZERO) throw kotlin.IllegalArgumentException(\"Step must be non-zero\")\n    }\n\n    /**\n     * The first element in the progression.\n     */\n    public val first: BigDecimal = start\n\n    /**\n     * The last element in the progression.\n     */\n    public val last: BigDecimal = getProgressionLastElement(start, endInclusive, step)\n\n    /**\n     * The step of the progression.\n     */\n    public val step: BigDecimal = step\n\n    override fun iterator(): BigDecimalIterator = BigDecimalProgressionIterator(first, last, step)\n\n    /** Checks if the progression is empty. */\n    public open fun isEmpty(): Boolean = if (step &gt; BigDecimal.ZERO) first &gt; last else first &lt; last\n\n    override fun equals(other: Any?): Boolean =\n            other is BigDecimalProgression &amp;&amp; (isEmpty() &amp;&amp; other.isEmpty() ||\n                    first == other.first &amp;&amp; last == other.last &amp;&amp; step == other.step)\n\n    override fun hashCode(): Int =\n            if (isEmpty()) -1 else (31 * (31 * first.hashCode() + last.hashCode()) + step.hashCode())\n\n    override fun toString(): String = if (step &gt; BigDecimal.ZERO) \"$first..$last step $step\" else \"$first downTo $last step ${-step}\"\n\n    companion object {\n        /**\n         * Creates BigDecimalProgression within the specified bounds of a closed range.\n\n         * The progression starts with the [rangeStart] value and goes toward the [rangeEnd] value not excluding it, with the specified [step].\n         * In order to go backwards the [step] must be negative.\n         */\n        public fun fromClosedRange(rangeStart: BigDecimal, rangeEnd: BigDecimal, step: BigDecimal): BigDecimalProgression = BigDecimalProgression(rangeStart, rangeEnd, step)\n    }\n}\n\nfun getProgressionLastElement(start: BigDecimal, end: BigDecimal, step: BigDecimal): BigDecimal {\n    if (step &gt; BigDecimal.ZERO) {\n        return start + BigDecimal(((end - start) / step).toInt()) * step\n    } else if (step &lt; BigDecimal.ZERO) {\n        return start - BigDecimal(((start - end) / -step).toInt()) * -step\n    } else {\n        throw kotlin.IllegalArgumentException(\"Step is zero.\")\n    }\n}\n\n/** An iterator over a sequence of values of type `BigDecimal`. */\npublic abstract class BigDecimalIterator : Iterator&lt;BigDecimal&gt; {\n    override final fun next() = nextBigDecimal()\n\n    /** Returns the next value in the sequence without boxing. */\n    public abstract fun nextBigDecimal(): BigDecimal\n}\n\n/**\n * An iterator over a progression of values of type `BigDecimal`.\n * @property step the number by which the value is incremented on each step.\n */\ninternal class BigDecimalProgressionIterator(first: BigDecimal, last: BigDecimal, val step: BigDecimal) : BigDecimalIterator() {\n    private val finalElement = last\n    private var hasNext: Boolean = if (step &gt; BigDecimal.ZERO) first &lt;= last else first &gt;= last\n    private var next = if (hasNext) first else finalElement\n\n    override fun hasNext(): Boolean = hasNext\n\n    override fun nextBigDecimal(): BigDecimal {\n        val value = next\n        if (value &gt;= finalElement) {\n            if (!hasNext) throw kotlin.NoSuchElementException()\n            hasNext = false\n        }\n        else {\n            next += step\n        }\n        return value\n    }\n}\n</code></pre>\n"}, {"tags": ["java", "spring-boot", "jackson", "kotlin", "spring-webflux"], "comments": [{"owner": {"reputation": 33963, "user_id": 1915448, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/51afb9344f8a44e60916753d37186513?s=128&d=identicon&r=PG", "display_name": "g00glen00b", "link": "https://stackoverflow.com/users/1915448/g00glen00b"}, "edited": false, "score": 0, "creation_date": 1497592414, "post_id": 44579870, "comment_id": 76151600, "body": "Option 1 is working fine for me if I set up a simple project with Spring boot and <code>spring-boot-starter-web</code> with version 2.0.0.M1. Are you sure you&#39;re not creating a Jackson <code>ObjectMapper</code> bean somewhere by yourself?"}, {"owner": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "reply_to_user": {"reputation": 33963, "user_id": 1915448, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/51afb9344f8a44e60916753d37186513?s=128&d=identicon&r=PG", "display_name": "g00glen00b", "link": "https://stackoverflow.com/users/1915448/g00glen00b"}, "edited": false, "score": 1, "creation_date": 1497618418, "post_id": 44579870, "comment_id": 76167651, "body": "Looks like a &quot;problem&quot; with the WebFlux module; it&#39;s targeting the <code>M3</code>...I can wait :)"}], "answers": [{"comments": [{"owner": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "edited": false, "score": 0, "creation_date": 1497618326, "post_id": 44585365, "comment_id": 76167584, "body": "Indeed; it looks like it won&#39;t be fixed until <code>M3</code>...thanks!"}, {"owner": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "edited": false, "score": 1, "creation_date": 1502643645, "post_id": 44585365, "comment_id": 78283163, "body": "...and it&#39;s actually fixed on <code>M3</code> (and hopefully on-wards)."}], "tags": [], "owner": {"reputation": 39004, "user_id": 1393484, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/251d2d8ab5721e399a715d7531471448?s=128&d=identicon&r=PG", "display_name": "Ali Dehghani", "link": "https://stackoverflow.com/users/1393484/ali-dehghani"}, "is_accepted": true, "score": 3, "last_activity_date": 1497604464, "creation_date": 1497604464, "answer_id": 44585365, "question_id": 44579870, "link": "https://stackoverflow.com/questions/44579870/configure-jackson-to-use-snake-case-globally-in-spring-boot-2-0-0-m1/44585365#44585365", "title": "Configure Jackson to use SNAKE_CASE &quot;globally&quot; in Spring Boot 2.0.0.M1", "body": "<p>As the <a href=\"http://docs.spring.io/spring/docs/5.0.0.RC2/spring-framework-reference/web.html#web-reactive-http-body\" rel=\"nofollow noreferrer\">Web-Flux module documentation</a> states:</p>\n\n<blockquote>\n  <p>The <code>spring-core</code> module provides reactive <code>Encoder</code> and <code>Decoder</code> contracts that enable the serialization of a <code>Flux</code> of bytes to and from typed objects.</p>\n</blockquote>\n\n<p>Apparently the automatically configured <code>ObjectMapper</code> by <code>JacksonAutoConfiguration</code> won't be picked up by the <a href=\"https://github.com/spring-projects/spring-boot/blob/master/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/reactive/WebFluxAutoConfiguration.java\" rel=\"nofollow noreferrer\"><code>WebFluxAutoConfiguration</code></a> and <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-webflux/src/main/java/org/springframework/web/reactive/config/WebFluxConfigurationSupport.java\" rel=\"nofollow noreferrer\"><code>WebFluxConfigurationSupport</code></a> when configuring an instance of <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-web/src/main/java/org/springframework/http/codec/json/Jackson2JsonEncoder.java\" rel=\"nofollow noreferrer\"><code>Jackson2JsonEncoder</code></a>. This issue already reported in <a href=\"https://github.com/spring-projects/spring-boot/issues/9166\" rel=\"nofollow noreferrer\">here</a> and currently planned for <code>M3</code> milestone.</p>\n"}], "owner": {"reputation": 5057, "user_id": 4695271, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/fNlXZ.png?s=128&g=1", "display_name": "x80486", "link": "https://stackoverflow.com/users/4695271/x80486"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4657, "favorite_count": 0, "accepted_answer_id": 44585365, "answer_count": 1, "score": 3, "last_activity_date": 1502643808, "creation_date": 1497580192, "last_edit_date": 1502643808, "question_id": 44579870, "link": "https://stackoverflow.com/questions/44579870/configure-jackson-to-use-snake-case-globally-in-spring-boot-2-0-0-m1", "title": "Configure Jackson to use SNAKE_CASE &quot;globally&quot; in Spring Boot 2.0.0.M1", "body": "<p>I'm using Spring Boot <code>2.0.0.M1</code> (hence Spring <code>5.0.0.RC1</code>). I'm trying to configure it to make use of <code>PropertyNamingStrategy.SnakeCaseStrategy.SNAKE_CASE</code> but I doesn't work so far.</p>\n\n<p>I've tried:</p>\n\n<ol>\n<li><p>The <code>application.yml</code> file with:</p>\n\n<pre><code>spring:\n  jackson:\n    property-naming-strategy: SNAKE_CASE\n</code></pre></li>\n<li><p>Configuring a <code>Jackson2ObjectMapperBuilder</code> bean:</p>\n\n<pre><code>@Bean\n@Primary\nopen fun jacksonBuilder(): Jackson2ObjectMapperBuilder {\n  val jacksonMapperBuilder = Jackson2ObjectMapperBuilder()\n      .failOnUnknownProperties(false)\n      .modules(JavaTimeModule(), KotlinModule())\n      .propertyNamingStrategy(PropertyNamingStrategy.SnakeCaseStrategy.SNAKE_CASE)\n  logger.info { \"Jackson2ObjectMapperBuilder configured successfully...\" }\n  return jacksonMapperBuilder\n}\n</code></pre></li>\n<li><p>Configuring an <code>ObjectMapper</code> bean:</p>\n\n<pre><code>@Bean\n@Primary\nopen fun objectMapper(): ObjectMapper {\n  val objectMapper = ObjectMapper()\n  objectMapper.registerModule(JavaTimeModule())\n  objectMapper.registerModule(KotlinModule())\n  objectMapper.setPropertyNamingStrategy(PropertyNamingStrategy.SnakeCaseStrategy.SNAKE_CASE)\n  logger.info { \"ObjectMapper configured successfully...\" }\n  return objectMapper\n}\n</code></pre></li>\n</ol>\n\n<p>The only way I've found to make it work it by annotating every single class with <code>@JsonNaming(PropertyNamingStrategy.SnakeCaseStrategy::class)</code>...but that's not a solution for my case.</p>\n\n<p>Any other options?</p>\n\n<hr>\n\n<p>This is the <code>dependencies</code> \"section\" in my <code>build.gradle.kts</code> file:</p>\n\n<pre><code>dependencies {\n  compile(\"com.fasterxml.jackson.datatype:jackson-datatype-jsr310\")\n  compile(\"com.fasterxml.jackson.module:jackson-module-kotlin\")\n  compile(\"io.github.microutils:kotlin-logging:1.4.4\")\n  //compile(\"io.projectreactor:reactor-kotlin-extensions\")\n  compile(\"org.springframework.boot:spring-boot-starter-actuator\")\n  compile(\"org.springframework.boot:spring-boot-starter-data-mongodb-reactive\")\n  compile(\"org.springframework.boot:spring-boot-starter-webflux\")\n  compile(kotlin(\"stdlib\"))\n\n  testCompile(\"io.projectreactor.addons:reactor-test\")\n  testCompile(\"org.springframework.boot:spring-boot-starter-test\")\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>This was indeed fixed on <code>M3</code>; if you need the <code>SnakeCaseStrategy.SNAKE_CASE</code> the setting(s) in <code>application.yml</code> are enough.</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "rx-java2", "android-room"], "comments": [{"owner": {"reputation": 15573, "user_id": 397786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8550f0386287de4073e022c401b9d4aa?s=128&d=identicon&r=PG", "display_name": "Tassos Bassoukos", "link": "https://stackoverflow.com/users/397786/tassos-bassoukos"}, "edited": false, "score": 0, "creation_date": 1497590518, "post_id": 44579412, "comment_id": 76150890, "body": "Signal 11 is SIGSEGV, segmentation fault. Are you sure your native libraries are OK?"}, {"owner": {"reputation": 75, "user_id": 4643590, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-VQuiPIlj1iQ/AAAAAAAAAAI/AAAAAAAAGLM/u3hOv_EKg10/photo.jpg?sz=128", "display_name": "Josue Mavarez", "link": "https://stackoverflow.com/users/4643590/josue-mavarez"}, "reply_to_user": {"reputation": 15573, "user_id": 397786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8550f0386287de4073e022c401b9d4aa?s=128&d=identicon&r=PG", "display_name": "Tassos Bassoukos", "link": "https://stackoverflow.com/users/397786/tassos-bassoukos"}, "edited": false, "score": 0, "creation_date": 1497591609, "post_id": 44579412, "comment_id": 76151274, "body": "@TassosBassoukos could you be more specific? I can show you my build.gradle if needed"}, {"owner": {"reputation": 15573, "user_id": 397786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8550f0386287de4073e022c401b9d4aa?s=128&d=identicon&r=PG", "display_name": "Tassos Bassoukos", "link": "https://stackoverflow.com/users/397786/tassos-bassoukos"}, "edited": false, "score": 2, "creation_date": 1497603329, "post_id": 44579412, "comment_id": 76157642, "body": "Signal 11 usually means that your process tried to access something outside its address space, or tried writing in a protected memory area. This should not be possible from within Java/Dalvik/ART, as they&#39;re explicitly designed to be safe. The most probable cause is that you are using the NDK to develop native libs and there&#39;s a bug there."}, {"owner": {"reputation": 75, "user_id": 4643590, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-VQuiPIlj1iQ/AAAAAAAAAAI/AAAAAAAAGLM/u3hOv_EKg10/photo.jpg?sz=128", "display_name": "Josue Mavarez", "link": "https://stackoverflow.com/users/4643590/josue-mavarez"}, "reply_to_user": {"reputation": 15573, "user_id": 397786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8550f0386287de4073e022c401b9d4aa?s=128&d=identicon&r=PG", "display_name": "Tassos Bassoukos", "link": "https://stackoverflow.com/users/397786/tassos-bassoukos"}, "edited": false, "score": 0, "creation_date": 1497616465, "post_id": 44579412, "comment_id": 76166392, "body": "@TassosBassoukos I don&#39;t think I&#39;m using anything of the NDK. But thanks for the explanation"}, {"owner": {"reputation": 22341, "user_id": 550471, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/m8UlO.png?s=128&g=1", "display_name": "Someone Somewhere", "link": "https://stackoverflow.com/users/550471/someone-somewhere"}, "edited": false, "score": 0, "creation_date": 1508256814, "post_id": 44579412, "comment_id": 80535862, "body": "I also just got it: <code>Fatal signal 11 (SIGSEGV), code 1, fault addr 0x0 in tid 29799 (RxCachedThreadS)</code> using RxJava 2.1.2, RxAndroid 2.0.1, kotlin_version = &#39;1.1.51&#39;"}, {"owner": {"reputation": 1721, "user_id": 3796083, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/533f65ff463f37e5540bac8059583a8c?s=128&d=identicon&r=PG", "display_name": "AndroidRuntimeException", "link": "https://stackoverflow.com/users/3796083/androidruntimeexception"}, "edited": false, "score": 0, "creation_date": 1527000584, "post_id": 44579412, "comment_id": 87954614, "body": "Did you found a solution for this?"}, {"owner": {"reputation": 75, "user_id": 4643590, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-VQuiPIlj1iQ/AAAAAAAAAAI/AAAAAAAAGLM/u3hOv_EKg10/photo.jpg?sz=128", "display_name": "Josue Mavarez", "link": "https://stackoverflow.com/users/4643590/josue-mavarez"}, "reply_to_user": {"reputation": 1721, "user_id": 3796083, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/533f65ff463f37e5540bac8059583a8c?s=128&d=identicon&r=PG", "display_name": "AndroidRuntimeException", "link": "https://stackoverflow.com/users/3796083/androidruntimeexception"}, "edited": false, "score": 0, "creation_date": 1527001382, "post_id": 44579412, "comment_id": 87955211, "body": "@AndroidRuntimeException Yes I think. Turns out I was missing the foreign relationship between 2 tables, is what I can remember."}, {"owner": {"reputation": 1721, "user_id": 3796083, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/533f65ff463f37e5540bac8059583a8c?s=128&d=identicon&r=PG", "display_name": "AndroidRuntimeException", "link": "https://stackoverflow.com/users/3796083/androidruntimeexception"}, "edited": false, "score": 0, "creation_date": 1527002366, "post_id": 44579412, "comment_id": 87955875, "body": "@JosueMavarez The strange is, I am not using realm or a database."}, {"owner": {"reputation": 75, "user_id": 4643590, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-VQuiPIlj1iQ/AAAAAAAAAAI/AAAAAAAAGLM/u3hOv_EKg10/photo.jpg?sz=128", "display_name": "Josue Mavarez", "link": "https://stackoverflow.com/users/4643590/josue-mavarez"}, "reply_to_user": {"reputation": 1721, "user_id": 3796083, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/533f65ff463f37e5540bac8059583a8c?s=128&d=identicon&r=PG", "display_name": "AndroidRuntimeException", "link": "https://stackoverflow.com/users/3796083/androidruntimeexception"}, "edited": false, "score": 1, "creation_date": 1527012975, "post_id": 44579412, "comment_id": 87961727, "body": "@AndroidRuntimeException I don&#39;t remember that much when I encounter this issue, but I&#39;ll check the project&#39;s repository."}], "answers": [{"tags": [], "owner": {"reputation": 4206, "user_id": 40952, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/39f20a6e31d35e8107f49920d349f6c5?s=128&d=identicon&r=PG", "display_name": "James Allen", "link": "https://stackoverflow.com/users/40952/james-allen"}, "is_accepted": false, "score": 1, "last_activity_date": 1561370939, "creation_date": 1561370939, "answer_id": 56734309, "question_id": 44579412, "link": "https://stackoverflow.com/questions/44579412/getting-fata-signal-11-when-trying-to-use-observable/56734309#56734309", "title": "Getting Fata signal 11 when trying to use Observable", "body": "<p>I had prettyy much the same problem. My scenario was this: I had a <code>RecyclerView</code> list, and each item in the list had a delete button. The delete button fired off an <code>Observable</code> which deleted the item from the Room table. At the same time, the table of items was being observed by another <code>Observable</code> which was updating the <code>RecyclerView</code> which was using a <code>PagedList</code> adapter.</p>\n\n<p>The OP hinted that this might be the problem in comments, just wanted to confirm: after converting my code to use LiveData instead of RxJava, I got a proper error message, which was a <code>FOREIGN KEY CONSTRAINT</code> failure when deleting the item (in my case, I had another entity which was linked to the entity being deleted, and I had <code>onDelete</code> set to <code>RESTRICT</code>).</p>\n\n<p>For some reason, this particular error causes RxJava to absolutely freak out, instead of returning an error message. Seems like a bug.</p>\n"}], "owner": {"reputation": 75, "user_id": 4643590, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-VQuiPIlj1iQ/AAAAAAAAAAI/AAAAAAAAGLM/u3hOv_EKg10/photo.jpg?sz=128", "display_name": "Josue Mavarez", "link": "https://stackoverflow.com/users/4643590/josue-mavarez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 639, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1561370939, "creation_date": 1497576380, "last_edit_date": 1515545124, "question_id": 44579412, "link": "https://stackoverflow.com/questions/44579412/getting-fata-signal-11-when-trying-to-use-observable", "title": "Getting Fata signal 11 when trying to use Observable", "body": "<p>I'm working on a project trying for the first time Kotlin, RxJava 2, and the new android architecture components. I'm trying to execute a delete method from Room on separate Thread and I'm getting <code>ERROR: Fatal signal 11 (SIGSEGV), code 1, fault addr 0x0 in tid 12673 (RxCachedThreadS)</code> when executing the method, and the force closes. I'm trying these two options:</p>\n\n<p>1.</p>\n\n<pre><code>Single.fromCallable { deviceViewModel.delete(device.phone) }\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe()\n</code></pre>\n\n<p>2.</p>\n\n<pre><code>Observable.just(Unit)\n            .subscribeOn(Schedulers.io())\n            .map { deviceViewModel.delete(device.phone) }\n            .subscribe()\n</code></pre>\n\n<p>Here's my DeviceViewModel.kt (using AndroidViewModel)</p>\n\n<pre><code>class DeviceViewModel constructor(application: Application) : AndroidViewModel(application) {\n\n@Inject lateinit var db: AppDatabase\n\ninit {\n    (application as KaiApplication).appComponent.inject(this)\n}\n\nfun count() = db.deviceModel().count();\n\nfun getDevices() = db.deviceModel().devices();\n\nfun getDevice(phone: String) = db.deviceModel().device(phone)\n\nfun create(device: Device): Device {\n    db.deviceModel().createOrUpdate(device).let {\n        return device\n    }\n}\n\nfun createTestDevice(name: String, phone: String) {\n    db.deviceModel().createTestDevice(name, phone)\n}\n\nfun delete(device: Device): Device {\n    db.deviceModel().delete(device).let {\n        return device\n    }\n}\n\nfun delete(devicePhone: String) {\n    db.deviceModel().delete(devicePhone)\n}\n</code></pre>\n\n<p>And my DeviceDao.kt</p>\n\n<pre><code>@Dao\nabstract class DeviceDao {\n\n    @Query(\"SELECT COUNT(*) FROM device\")\n    abstract fun count(): Int\n\n    @Query(\"SELECT * FROM device\")\n    abstract fun devices(): Flowable&lt;List&lt;Device&gt;&gt;\n\n    @Query(\"SELECT * FROM device WHERE phone = :p0\")\n    abstract fun device(phone: String): Device?\n\n    fun createOrUpdate(device: Device) {\n        Timber.d(\"Device to create $device\")\n        insertOrUpdate(device)\n    }\n\n    fun createTestDevice(name: String, phone: String) {\n        val device: Device = Device()\n        device.phone = phone\n        device.name = name\n        device.password = \"12345\"\n\n        Timber.d(\"Device to create $device\")\n        insertOrUpdate(device)\n    }\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    abstract fun insertOrUpdate(vararg devices: Device)\n\n    @Query(\"DELETE FROM device WHERE phone = :p0\")\n    abstract fun delete(phone: String)\n\n    @Delete\n    abstract fun delete(device: Device)\n</code></pre>\n\n<p>I've tried to solve this, but no success. Any help would come in hand. Thanks!</p>\n"}, {"tags": ["java", "generics", "kotlin", "bridge"], "comments": [{"owner": {"reputation": 8756, "user_id": 3795036, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c01d5584e40e3d19507e9a5eaf0bae15?s=128&d=identicon&r=PG", "display_name": "K.Nicholas", "link": "https://stackoverflow.com/users/3795036/k-nicholas"}, "edited": false, "score": 0, "creation_date": 1497574648, "post_id": 44579057, "comment_id": 76147070, "body": "Why does <code>Player</code> need to have a generic related to <code>Item</code>? <code>Player</code>s aren&#39;t <code>Item</code>s."}, {"owner": {"reputation": 335, "user_id": 6107387, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e9aeea7dc3cebf0f7d143ae86ac608e?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Woodworth", "link": "https://stackoverflow.com/users/6107387/ben-woodworth"}, "reply_to_user": {"reputation": 8756, "user_id": 3795036, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c01d5584e40e3d19507e9a5eaf0bae15?s=128&d=identicon&r=PG", "display_name": "K.Nicholas", "link": "https://stackoverflow.com/users/3795036/k-nicholas"}, "edited": false, "score": 0, "creation_date": 1497576042, "post_id": 44579057, "comment_id": 76147387, "body": "I&#39;m not sure how else to ensure that <code>getInventory()</code> provides an <code>Inventory</code> containing the correct implementation of <code>Item</code>."}], "answers": [{"comments": [{"owner": {"reputation": 335, "user_id": 6107387, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e9aeea7dc3cebf0f7d143ae86ac608e?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Woodworth", "link": "https://stackoverflow.com/users/6107387/ben-woodworth"}, "edited": false, "score": 0, "creation_date": 1497579663, "post_id": 44579571, "comment_id": 76148202, "body": "I have the abstract dependency <code>ItemBuilder</code>, implemented by <code>SpongeItemBuilder</code> and <code>BukkitItemBuilder</code>, that is used to build items for the respective platforms (instead of <code>new Item()</code>). Let&#39;s say that the player&#39;s <code>Inventory</code> is the concrete implementation <code>BukkitInventory</code>, which adapts <b>Bukkit</b> inventory objects. If I build an <code>Item</code> with a <code>SpongeItemBuilder</code>, there&#39;s no type safety stopping me from trying to add the <code>Item</code> (which adapts a <b>Sponge</b> item) to the <b>Bukkit</b> inventory. The inventory from the Bukkit API being adapted can&#39;t accept an item from the <b>Sponge</b> API."}, {"owner": {"reputation": 8756, "user_id": 3795036, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c01d5584e40e3d19507e9a5eaf0bae15?s=128&d=identicon&r=PG", "display_name": "K.Nicholas", "link": "https://stackoverflow.com/users/3795036/k-nicholas"}, "reply_to_user": {"reputation": 335, "user_id": 6107387, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e9aeea7dc3cebf0f7d143ae86ac608e?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Woodworth", "link": "https://stackoverflow.com/users/6107387/ben-woodworth"}, "edited": false, "score": 0, "creation_date": 1497627924, "post_id": 44579571, "comment_id": 76174293, "body": "honestly this question is a design &#39;opinion&#39; question and doesn&#39;t belong on SO. I would encourage you to step back and work on &quot;version 2.0&quot;. A Person is an object, so I don&#39;t think it makes sense make it generic. It could be a base class, but generic classes tend to act on things, like a list stores things. So, you&#39;ve gotten a little astray and need to reboot."}, {"owner": {"reputation": 335, "user_id": 6107387, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e9aeea7dc3cebf0f7d143ae86ac608e?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Woodworth", "link": "https://stackoverflow.com/users/6107387/ben-woodworth"}, "edited": false, "score": 0, "creation_date": 1497630001, "post_id": 44579571, "comment_id": 76175419, "body": "My thinking was that the abstract player carries items of a generic type, as lists contain objects of a generic type. In general, I&#39;m asking because I want to see if there&#39;s a standard approach for bridging API&#39;s with interactions like this, so that I can rethink my impenetrable with a better approach in mind. A version 2.0 of sorts."}, {"owner": {"reputation": 8756, "user_id": 3795036, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c01d5584e40e3d19507e9a5eaf0bae15?s=128&d=identicon&r=PG", "display_name": "K.Nicholas", "link": "https://stackoverflow.com/users/3795036/k-nicholas"}, "reply_to_user": {"reputation": 335, "user_id": 6107387, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e9aeea7dc3cebf0f7d143ae86ac608e?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Woodworth", "link": "https://stackoverflow.com/users/6107387/ben-woodworth"}, "edited": false, "score": 0, "creation_date": 1497630405, "post_id": 44579571, "comment_id": 76175597, "body": "A Player delegates the holding the inventory to a different class, such as a list or set or your own custom inventory class. Even then, an Item sounds like base class. Generics would be for completely unrelated objects, a list of coins, a list of animals, a list of orders, so it seems like you&#39;re trying to use generics incorrectly. If you have different items with some things in common and some things specific to an item, you&#39;re describing a class hierarchy, i.e., polymorphism."}], "tags": [], "owner": {"reputation": 8756, "user_id": 3795036, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/c01d5584e40e3d19507e9a5eaf0bae15?s=128&d=identicon&r=PG", "display_name": "K.Nicholas", "link": "https://stackoverflow.com/users/3795036/k-nicholas"}, "is_accepted": false, "score": 0, "last_activity_date": 1497578358, "last_edit_date": 1497578358, "creation_date": 1497577620, "answer_id": 44579571, "question_id": 44579057, "link": "https://stackoverflow.com/questions/44579057/bridge-design-pattern-resulting-in-too-many-generics/44579571#44579571", "title": "Bridge design pattern resulting in too many generics", "body": "<p>EDITED: Well, isn't this a bridge pattern?</p>\n\n<pre><code>public interface InventoryHolder\n{\n    public void transfer(Player toPlayer, Item item);\n}\n</code></pre>\n\n<p>then</p>\n\n<pre><code>public class Player implements InventoryHolder\n{\n    List&lt;Item&gt; items;\n    public Item removeItem(Item item){\n        return items.remove(items.indexOf(item));\n    }\n    public void addItem(Item item) {\n        items.add(item);\n    }\n    public void transfer(Player toPlayer, Item item)\n    {\n        toPlayer.addItem(removeItem(item));\n    }\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>public class Item {}\n</code></pre>\n\n<p>so</p>\n\n<pre><code>public class PlayGame\n{\n    public static void main(String... args) {\n        new PlayGame().run();\n    }\n    private void run() {\n        Player p1 = new Player();\n        Player p2 = new Player();\n        Item item = new Item();\n        p1.addItem(item);\n        // transfer\n        p1.transfer(p2, item);\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 335, "user_id": 6107387, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e9aeea7dc3cebf0f7d143ae86ac608e?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Woodworth", "link": "https://stackoverflow.com/users/6107387/ben-woodworth"}, "is_accepted": false, "score": 0, "last_activity_date": 1497655007, "last_edit_date": 1497655007, "creation_date": 1497654046, "answer_id": 44599070, "question_id": 44579057, "link": "https://stackoverflow.com/questions/44579057/bridge-design-pattern-resulting-in-too-many-generics/44599070#44599070", "title": "Bridge design pattern resulting in too many generics", "body": "<p>This is my current solution. If you see any room for improvement, by all means, share your insights. Here's some of my source code, simplified, and written in Kotlin.</p>\n\n<p>dependencies:</p>\n\n<pre><code>// An abstract class, to be used by objects adapting\n// native implementations. Provides an unwrap method,\n// to unwrap the adapted object.\nabstract class Adapter(protected val base: Any) {\n    @Suppress(\"UNCHECKED_CAST\")\n    fun &lt;T&gt; unwrap() = base as T\n}\n\n// Inventory adapter, extends Adapter\nabstract class InventoryAdapter(baseInventory: Any) : Adapter(baseInventory)\n\n// Player adapter, extends Adapter\nabstract class PlayerAdapter(basePlayer: Any) : Adapter(basePlayer) {\n    abstract fun openInventory(inventory: InventoryAdapter)\n}\n</code></pre>\n\n<p>Sponge implementation:</p>\n\n<pre><code>// Adapts Player (from the Sponge API)\nclass SpongePlayerAdapter(\n        protected val basePlayer: Player\n): PlayerAdapter(basePlayer) {\n\n    override fun openInventory(inventory: InventoryAdapter) {\n        // The unwrap&lt;T&gt;() method inferences T as Sponge's\n        // Inventory type, from the openInventory parameter\n        basePlayer.openInventory(inventory.unwrap())\n    }\n}\n</code></pre>\n\n<p>The need for generics has been removed, at the cost of type safety. <code>PlayerAdapter.openInventory()</code> can be called by passing in an <code>InventoryAdapter</code> object as a parameter. If the <code>PlayerAdapter</code> is a <code>SpongePlayerAdapter</code>, and the <code>InventoryAdapter</code> is a <code>SpongeInventoryAdapter</code>, then the <code>unwrap()</code> method will return a Sponge <code>Inventory</code>, and the inventory will be opened for the player as expected.</p>\n\n<p>If a <code>BukkitInventoryAdapter</code> object were passed in, for example, a casting exception will be thrown at runtime, since the <code>unwrap()</code> method will try to cast a Bukkit <code>Inventory</code> to a Sponge <code>Inventory</code>. This isn't a big issue, and shouldn't cause errors as long as dependencies are injected correctly.</p>\n"}], "owner": {"reputation": 335, "user_id": 6107387, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2e9aeea7dc3cebf0f7d143ae86ac608e?s=128&d=identicon&r=PG&f=1", "display_name": "Ben Woodworth", "link": "https://stackoverflow.com/users/6107387/ben-woodworth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 479, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1497655007, "creation_date": 1497573609, "question_id": 44579057, "link": "https://stackoverflow.com/questions/44579057/bridge-design-pattern-resulting-in-too-many-generics", "title": "Bridge design pattern resulting in too many generics", "body": "<p>I'm currently working on something for Minecraft, and I'm using the bridge pattern so my code can used with two separate server platforms, Sponge and Bukkit, with different (but somewhat similar) API's.</p>\n\n<p>I have my core code, which depends only on abstractions of common things in Minecraft that I will need later on, such as players and items, as well as abstract factory and builder classes. The code for the specific server platforms will implement the factories and builders, and provide them as dependencies to the core code.</p>\n\n<p>This has been working pretty well so far, but I'm running into an issue with abstractions that depend on each other. For example, I have adapters for Minecraft inventories and items that adapt from the server platform's item/inventory type, to my own abstract item/inventory type. Item and inventory objects will need to interact with each other, and since the core code doesn't know about the implementation, I've resorted to using generics. Here's some pseudocode:</p>\n\n<pre><code>interface Item&lt;TBase&gt; {\n    TBase getBase();\n}\ninterface Inventory&lt;TItem extends Item&lt;*&gt;&gt; {\n    void addItem(TItem item);\n}\n</code></pre>\n\n<p>The Item class adapts an item from the item type used by the server platform. The <code>addItem()</code> method implementations will use the <code>getBase()</code> method to add an instance of the server platform's item to an instance of the server platform's inventory. Overall, generics provide a solution to interaction between platform specific objects.</p>\n\n<p>The problem I've been running into, however, is generics getting complicated as the size of the project increases. One reason is that classes that use items/inventories will require the same generics. For example, all players have an inventory:</p>\n\n<pre><code>interface Player&lt;TItem extends Item&lt;*&gt;&gt; {\n    Inventory&lt;TItem&gt; getInventory();\n    void giveItem(TItem item);\n}\n</code></pre>\n\n<p>And something that uses a player needs to have generics, and so forth.</p>\n\n<p>The second issue is that there are more interactions between instances than just these two, which could mean several generic parameters for an object, and therefore more generics on all the classes that use that object.</p>\n\n<p>I suppose another solution would be not using generics at all, changing <code>getBase()</code> to return an <code>Object</code> type, and blindly cast, trusting that it's the correct type (which it will be).</p>\n\n<p>I've put a ton of thought into this, and this is about the best I could come up with. I'm wondering if there are any other solutions that I'm missing, or any design patterns that might help with this problem.</p>\n\n<p>If having the source would help, you can find it here:\n<a href=\"https://github.com/BenWoodworth/FastCraft/tree/master/src/main/kotlin/net/benwoodworth/fastcraft\" rel=\"nofollow noreferrer\">https://github.com/BenWoodworth/FastCraft/tree/master/src/main/kotlin/net/benwoodworth/fastcraft</a></p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1497607921, "post_id": 44578791, "comment_id": 76161010, "body": "Please add code and error logs as text not as image!"}], "answers": [{"comments": [{"owner": {"reputation": 4054, "user_id": 1390874, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/7YKKV.jpg?s=128&g=1", "display_name": "goRGon", "link": "https://stackoverflow.com/users/1390874/gorgon"}, "edited": false, "score": 0, "creation_date": 1519703008, "post_id": 44587574, "comment_id": 85006602, "body": "And make sure you have this plugin enabled in the module where your activity is defined ;)"}], "tags": [], "owner": {"reputation": 276, "user_id": 6477931, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3dca347429798ade333c34ac3f4cf52d?s=128&d=identicon&r=PG&f=1", "display_name": "SAHOOD SSA", "link": "https://stackoverflow.com/users/6477931/sahood-ssa"}, "is_accepted": true, "score": 9, "last_activity_date": 1526750023, "last_edit_date": 1526750023, "creation_date": 1497610722, "answer_id": 44587574, "question_id": 44578791, "link": "https://stackoverflow.com/questions/44578791/java-lang-classnotfoundexception-didnt-find-class-kotlin/44587574#44587574", "title": "Java.lang.ClassNotFoundException: Didn&#39;t find class Kotlin", "body": "<p>check project package name and add kotlin plugin &amp; dependencies.</p>\n\n<pre><code>  apply plugin: 'kotlin-android'\n\n  classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n</code></pre>\n"}], "owner": {"reputation": 1057, "user_id": 8119977, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh4.googleusercontent.com/-UKerJziyq2I/AAAAAAAAAAI/AAAAAAAABWA/YRGWMdu_gig/photo.jpg?sz=128", "display_name": "Eder Padilla", "link": "https://stackoverflow.com/users/8119977/eder-padilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3003, "favorite_count": 0, "accepted_answer_id": 44587574, "answer_count": 1, "score": 3, "last_activity_date": 1526750023, "creation_date": 1497571285, "last_edit_date": 1497645668, "question_id": 44578791, "link": "https://stackoverflow.com/questions/44578791/java-lang-classnotfoundexception-didnt-find-class-kotlin", "title": "Java.lang.ClassNotFoundException: Didn&#39;t find class Kotlin", "body": "<p><a href=\"https://i.stack.imgur.com/gH5ox.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gH5ox.png\" alt=\"This always appear after changing the code I rebuild the project and everything goes fine\"></a>\nEvery time I change my code and run it, this appear and the second time I run the code, it doesn't appears, what is the cause of this bug ?</p>\n"}, {"tags": ["string", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 20852, "user_id": 544406, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/dPN4O.jpg?s=128&g=1", "display_name": "Dmitry Ryadnenko", "link": "https://stackoverflow.com/users/544406/dmitry-ryadnenko"}, "edited": false, "score": 1, "creation_date": 1497602963, "post_id": 44578628, "comment_id": 76157392, "body": "Damn, that&#39;s beautifull"}], "tags": [], "owner": {"reputation": 11435, "user_id": 6328256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PyZe2.png?s=128&g=1", "display_name": "Sash Sinha", "link": "https://stackoverflow.com/users/6328256/sash-sinha"}, "is_accepted": false, "score": 14, "last_activity_date": 1528774117, "last_edit_date": 1528774117, "creation_date": 1497570080, "answer_id": 44578628, "question_id": 44578583, "link": "https://stackoverflow.com/questions/44578583/reverse-the-order-of-words-in-a-string-in-kotlin/44578628#44578628", "title": "Reverse the order of words in a String in Kotlin", "body": "<p>You are correct in assuming that <strong><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/reverse.html\" rel=\"noreferrer\"><code>reverse</code></a></strong> would be helpful in this task.\nHowever to reverse the order of the words you would also need to use things like <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/split.html\" rel=\"noreferrer\"><strong><code>split</code></strong></a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/join-to-string.html\" rel=\"noreferrer\"><strong><code>joinToString</code></strong></a> (or implement them yourself):</p>\n\n<pre><code>fun reverseOrderOfWords(s: String) = s.split(\" \").reversed().joinToString(\" \")\n\nval s = \"What is up, Pal!\"\nprintln(reverseOrderOfWords(s))\n</code></pre>\n\n<p><strong>Output:</strong>    </p>\n\n<pre><code>Pal! up, is What\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 3335655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KvnGe.jpg?s=128&g=1", "display_name": "Jun", "link": "https://stackoverflow.com/users/3335655/jun"}, "edited": false, "score": 0, "creation_date": 1561513263, "post_id": 56763969, "comment_id": 100084752, "body": "fold could also work, for difference between fold and reduce, please see here: <a href=\"https://stackoverflow.com/questions/44429419/what-is-basic-difference-between-fold-and-reduce-in-kotlin-when-to-use-which\" title=\"what is basic difference between fold and reduce in kotlin when to use which\">stackoverflow.com/questions/44429419/&hellip;</a>"}], "tags": [], "owner": {"reputation": 31, "user_id": 3335655, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KvnGe.jpg?s=128&g=1", "display_name": "Jun", "link": "https://stackoverflow.com/users/3335655/jun"}, "is_accepted": false, "score": 3, "last_activity_date": 1561512614, "creation_date": 1561512614, "answer_id": 56763969, "question_id": 44578583, "link": "https://stackoverflow.com/questions/44578583/reverse-the-order-of-words-in-a-string-in-kotlin/56763969#56763969", "title": "Reverse the order of words in a String in Kotlin", "body": "<p>You could try this:</p>\n\n<p>fun reverse(str:String) = str.split(\" \").reduce{acc, x -> x + \" \" + acc}</p>\n"}], "owner": {"reputation": 91, "user_id": 8152487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9195170d77827262ba5013e0b685aedc?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Star", "link": "https://stackoverflow.com/users/8152487/patrick-star"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3310, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1612182904, "creation_date": 1497569800, "last_edit_date": 1612182904, "question_id": 44578583, "link": "https://stackoverflow.com/questions/44578583/reverse-the-order-of-words-in-a-string-in-kotlin", "title": "Reverse the order of words in a String in Kotlin", "body": "<p>I am looking for way to reverse the order of words in a string in Kotlin.</p>\n<p>For example, the input string would be:</p>\n<p><strong>What is up, Pal!</strong></p>\n<p>And the output string would be:</p>\n<p><strong>Pal! up, is What</strong></p>\n<p>I know I need to use the reversed module, but I am not sure how.</p>\n"}, {"tags": ["kotlin", "method-reference", "rx-kotlin"], "comments": [{"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "edited": false, "score": 0, "creation_date": 1497606368, "post_id": 44578211, "comment_id": 76159870, "body": "Are you <i>sure</i> that you don&#39;t get the same error with lambdas? because I get it..."}], "answers": [{"comments": [{"owner": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "edited": false, "score": 0, "creation_date": 1497611697, "post_id": 44587447, "comment_id": 76163301, "body": "Thanks for the explanation. With a bit of reading, I came to a similar conclusion, although perhaps in not such technical terms! I have no errors; what version of Kotlin are you using? I have 1.1.2-5."}, {"owner": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "edited": false, "score": 1, "creation_date": 1497612184, "post_id": 44587447, "comment_id": 76163615, "body": "<a href=\"https://github.com/AshleyByeUK/rxkotlin/blob/6f9bb30c7b1da970c6edb4b11527c29208609056/src/main/kotlin/uk/ashleybye/rxkotlin/operatorstransformations/AdvancedOperators.kt#L107-L130\" rel=\"nofollow noreferrer\">Here&#39;s</a> my full implementation of this example."}, {"owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "reply_to_user": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "edited": false, "score": 0, "creation_date": 1497613396, "post_id": 44587447, "comment_id": 76164389, "body": "@amb85 I&#39;m also using 1.1.2-5  &#175;_(\u30c4)_/&#175;"}, {"owner": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "edited": false, "score": 0, "creation_date": 1497622160, "post_id": 44587447, "comment_id": 76170387, "body": "who knows?! &#175;\\_(\u30c4)_/&#175;"}], "tags": [], "owner": {"reputation": 7351, "user_id": 1096567, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ateKI.jpg?s=128&g=1", "display_name": "Lovis", "link": "https://stackoverflow.com/users/1096567/lovis"}, "is_accepted": true, "score": 3, "last_activity_date": 1497610306, "creation_date": 1497610306, "answer_id": 44587447, "question_id": 44578211, "link": "https://stackoverflow.com/questions/44578211/rxkotlin-collectinto-mutablelist-using-method-references/44587447#44587447", "title": "RxKotlin collectInto() MutableList using method references", "body": "<p>In your first example, you try to apply the method signature of <code>collect</code> to the one from <code>collectInto</code>.</p>\n\n<p>This can never work, since <code>collect</code> expects a <code>Func0&lt;R&gt;</code> and a  <code>Action2&lt;R, ? super T&gt;</code> and <code>collectInto</code> expects a <em>real object</em> and a <code>BiConsumer&lt;U, T&gt;</code>.<br>\nA constructor <em>reference</em> can't work for <code>collectInto</code> - you need a real object (e.g. your <code>mutableListOf()</code> call)</p>\n\n<p>The second problem is that Kotlin is expecting a <code>BiConsumer</code> object and not a function. I'm not quite sure why. Apparently Kotlin can't handle multiple generics for lambdas and function reference from SAM-Interfaces.</p>\n\n<p>You therefore need to pass an instance of <code>BiConsumer</code> and not just a function.<br>\nThat's also why I asked in the comment whether you're sure about the error message:</p>\n\n<pre><code>range(10, 20).collectInto(mutableListOf(), { l, i -&gt;  l.add(i) }) \n</code></pre>\n\n<p>will give me an error, while</p>\n\n<pre><code>range(10, 20).collectInto(mutableListOf(), BiConsumer { l, i -&gt;  l.add(i) })\n</code></pre>\n\n<p>won't. </p>\n"}], "owner": {"reputation": 893, "user_id": 8086746, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/66af61e414e557bf54bf1c46f826f775?s=128&d=identicon&r=PG&f=1", "display_name": "amb85", "link": "https://stackoverflow.com/users/8086746/amb85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1461, "favorite_count": 0, "accepted_answer_id": 44587447, "answer_count": 1, "score": 3, "last_activity_date": 1497610306, "creation_date": 1497567288, "last_edit_date": 1497594869, "question_id": 44578211, "link": "https://stackoverflow.com/questions/44578211/rxkotlin-collectinto-mutablelist-using-method-references", "title": "RxKotlin collectInto() MutableList using method references", "body": "<p>The following code is my attempt to convert an RxJava example into Kotlin. It's supposed to collect a bunch of <code>Int</code>'s into a <code>MutableList</code>, but I get a host of errors.</p>\n\n<pre><code>val all: Single&lt;MutableList&lt;Int&gt;&gt; = Observable\n        .range(10, 20)\n        .collectInto(::MutableList, MutableList::add)\n</code></pre>\n\n<p>The errors:</p>\n\n<pre><code>    Error:(113, 36) Kotlin: Type inference failed: Not enough information to infer parameter T in inline fun &lt;T&gt; MutableList(size: Int, init: (index: Int) -&gt; T): MutableList&lt;T&gt;\nPlease specify it explicitly.\n\nError:(113, 49) Kotlin: One type argument expected for interface MutableList&lt;E&gt; : List&lt;E&gt;, MutableCollection&lt;E&gt; defined in kotlin.collections\n\n    Error:(113, 67) Kotlin: None of the following functions can be called with the arguments supplied: \npublic abstract fun add(element: Int): Boolean defined in kotlin.collections.MutableList\npublic abstract fun add(index: Int, element: Int): Unit defined in kotlin.collections.MutableList\n</code></pre>\n\n<p>If I change <code>ImmutableList::add</code> to <code>ImmutableList&lt;Int&gt;::add</code>, I get rid of the type argument expected error, which is replaced with:</p>\n\n<pre><code>Error:(113, 22) Kotlin: Type inference failed: fun &lt;U : Any!&gt; collectInto(initialValue: U!, collector: ((U!, Int!) -&gt; Unit)!): Single&lt;U!&gt;!\n        cannot be applied to\n        (&lt;unknown&gt;,&lt;unknown&gt;)\n</code></pre>\n\n<p>This is a straight copy of the following in Java:</p>\n\n<pre><code>Observable&lt;List&lt;Integer&gt;&gt; all = Observable\n    .range(10, 20)\n    .collect(ArrayList::new, List::add);\n</code></pre>\n\n<p>I understand that the first error is telling me it's either inferring the incorrect type and I need to be more explicit (where?), but I thought that <code>::MutableList</code> would be the equivalent of <code>() -&gt; MutableList&lt;Int&gt;</code>. The third error is telling me that it can't call any of the <code>add()</code> methods with the arguments, but again, I thought that <code>MutableList::add</code> is equivalent to <code>{ list, value -&gt; list.add(value) }</code>. The fourth error tells me it can't figure out the types being applied to the <code>collector</code>.</p>\n\n<p>If I use a lambda expression instead, there are no errors:</p>\n\n<pre><code>val all: Single&lt;MutableList&lt;Int&gt;&gt; = Observable\n        .range(10, 20)\n        .collectInto(mutableListOf(), { list, value -&gt; list.add(value) })\n\nall.subscribe { x -&gt; println(x) }\n</code></pre>\n\n<p>I'd appreciate some comments on what I'm doing wrong with the method references, as there's clearly something I've misunderstood (looking through the <a href=\"https://kotlinlang.org/docs/reference/reflection.html#bound-function-and-property-references-since-11\" rel=\"nofollow noreferrer\">Kotlin Language Reference</a>, I'm wondering if it's even a language feature at this time?). Much appreciated.</p>\n"}]