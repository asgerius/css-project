[{"tags": ["android", "kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 495, "user_id": 6774854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa6a105d7c663b5df2e16b787791bac6?s=128&d=identicon&r=PG&f=1", "display_name": "masp", "link": "https://stackoverflow.com/users/6774854/masp"}, "edited": false, "score": 0, "creation_date": 1508367175, "post_id": 46820107, "comment_id": 80588313, "body": "I think you should try the <code>unsubscribeOn</code> method to define where the <code>cancellable</code> will be executed."}, {"owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "reply_to_user": {"reputation": 495, "user_id": 6774854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa6a105d7c663b5df2e16b787791bac6?s=128&d=identicon&r=PG&f=1", "display_name": "masp", "link": "https://stackoverflow.com/users/6774854/masp"}, "edited": false, "score": 0, "creation_date": 1508441339, "post_id": 46820107, "comment_id": 80622461, "body": "@masp thank you for your comment but it doesn&#39;t work. See my comment on the answer below. Any other idea?"}], "answers": [{"comments": [{"owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "edited": false, "score": 0, "creation_date": 1508441197, "post_id": 46822736, "comment_id": 80622379, "body": "Thank you for your answer but it doesn&#39;t work. The thread from the executor is blocked at <code>resource.readLine()</code>, so scheduling the cancellable with <code>unsubscribeOn(...)</code> never calls it because the thread is never released. Ideas?"}], "tags": [], "owner": {"reputation": 1082, "user_id": 5335712, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/d5fed5938ba68e0c91ba42d7f449f6dd?s=128&d=identicon&r=PG&f=1", "display_name": "Vinay Nagaraj", "link": "https://stackoverflow.com/users/5335712/vinay-nagaraj"}, "is_accepted": false, "score": 2, "last_activity_date": 1508411992, "last_edit_date": 1508411992, "creation_date": 1508386422, "answer_id": 46822736, "question_id": 46820107, "link": "https://stackoverflow.com/questions/46820107/invoke-rxjava2-cancellable-disposable-from-correct-thread/46822736#46822736", "title": "Invoke RxJava2 cancellable/disposable from correct thread", "body": "<p><code>Schedulers.io()</code> manages a thread pool, so it may or may not use the same thread to dispose your resource. You will have to use a custom scheduler and the <code>unsubscribeOn()</code> operator to ensure your <code>Observable</code> is subscribed and unsubscribed on the same thread. Something like:</p>\n\n<pre><code>Scheduler customScheduler = Schedulers.from(Executors.newSingleThreadExecutor());\n\nval disposable = lines()\n        .unsubscribeOn(customScheduler)\n        .subscribeOn(customScheduler)\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe { Log.i(TAG, \"Line: $it\" }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "edited": false, "score": 0, "creation_date": 1508529095, "post_id": 46851696, "comment_id": 80660250, "body": "Hey Peti, thank you for your answer, but it doesn&#39;t solve the issue because the thread will still be stuck at <code>resource.readLine()</code>, so the <code>emitter.isDisposed</code> flag won&#39;t be checked until a line is received, which could be a while. I am afraid that there isn&#39;t an answer unless it is safe to call <code>resource.close()</code> from another thread. Have a nice weekend!"}, {"owner": {"reputation": 1470, "user_id": 1662412, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a037b4a3538b419a8382a880a184df6d?s=128&d=identicon&r=PG", "display_name": "Peti", "link": "https://stackoverflow.com/users/1662412/peti"}, "reply_to_user": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "edited": false, "score": 0, "creation_date": 1508565077, "post_id": 46851696, "comment_id": 80668498, "body": "Yeah, the dedicated IO thread will call <code>close</code> delayed... This is the &quot;If you don&#39;t mind delaying the call&quot; introduction of this answer :-) But is this really an issue? Because <code>NetworkResource</code> seems to be blocking, the dedicated IO thread is anyway somehow &quot;wasted&quot; during the lifetime of an ongoing <code>lines()</code> subscription..."}, {"owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "edited": false, "score": 0, "creation_date": 1508578287, "post_id": 46851696, "comment_id": 80671188, "body": "You are right, the thread being &quot;wasted&quot; is a small issue, what I am more worried about is not being able to close the underlying network connection."}], "tags": [], "owner": {"reputation": 1470, "user_id": 1662412, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a037b4a3538b419a8382a880a184df6d?s=128&d=identicon&r=PG", "display_name": "Peti", "link": "https://stackoverflow.com/users/1662412/peti"}, "is_accepted": false, "score": 1, "last_activity_date": 1508510877, "creation_date": 1508510877, "answer_id": 46851696, "question_id": 46820107, "link": "https://stackoverflow.com/questions/46820107/invoke-rxjava2-cancellable-disposable-from-correct-thread/46851696#46851696", "title": "Invoke RxJava2 cancellable/disposable from correct thread", "body": "<p>If you don't mind delaying the call to <code>NetworkResource#close</code> a little bit, why not just</p>\n\n<pre><code>    fun lines(): Observable&lt;String&gt; =\n            Observable.create { emitter -&gt;\n                val resource = NetworkResource()\n                try {\n                    while (!emitter.isDisposed) {\n                        emitter.onNext(resource.readLine())\n                    }\n                    resource.close()\n                } catch (ioe: IOException) {\n                    emitter.tryOnError(ioe)\n                }\n            }\n</code></pre>\n\n<p>But there is still an issue with this: In case of an <code>IOException</code> nobody will ever call <code>NetworkResource#close</code> (also in your example from the question, I think). </p>\n\n<p>Attempt to fix this:</p>\n\n<pre><code>    fun lines(): Observable&lt;String&gt; =\n            Observable.create { emitter -&gt;\n                val resource = NetworkResource()\n                try {\n                    while (!emitter.isDisposed) {\n                        emitter.onNext(resource.readLine()) \n                    }\n                } catch (ioe: IOException) {\n                    emitter.tryOnError(ioe)\n                } finally {\n                    resource.close() // try-catch here, too?\n                }\n            }\n</code></pre>\n\n<p>or using \"Kotlin-Try-With-Resources\" function <code>use</code></p>\n\n<pre><code>    fun lines(): Observable&lt;String&gt; =\n            Observable.create { emitter -&gt;\n                NetworkResource().use { resource -&gt;\n                    try {\n                        while (!emitter.isDisposed) {\n                            emitter.onNext(resource.readLine())\n                        }\n                    } catch (ioe: IOException) {\n                        emitter.tryOnError(ioe)\n                    }\n                }\n            }\n</code></pre>\n\n<p>I hope, this helps. I wish you a nice weekend.</p>\n"}, {"comments": [{"owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "edited": false, "score": 0, "creation_date": 1508578403, "post_id": 46860495, "comment_id": 80671228, "body": "Thanks again Peti. About a) I can&#39;t control it, about b) already tried it."}], "tags": [], "owner": {"reputation": 1470, "user_id": 1662412, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a037b4a3538b419a8382a880a184df6d?s=128&d=identicon&r=PG", "display_name": "Peti", "link": "https://stackoverflow.com/users/1662412/peti"}, "is_accepted": false, "score": 0, "last_activity_date": 1508565403, "creation_date": 1508565403, "answer_id": 46860495, "question_id": 46820107, "link": "https://stackoverflow.com/questions/46820107/invoke-rxjava2-cancellable-disposable-from-correct-thread/46860495#46860495", "title": "Invoke RxJava2 cancellable/disposable from correct thread", "body": "<p>What about taking an alternative path?</p>\n\n<p>a) by <strong>making <code>NetworkResource</code> thread-safe</strong> (if you are in control of the sourcecode)</p>\n\n<p>or </p>\n\n<p>b) by <strong>wrapping <code>NetworkResource</code> with an \"agent\"</strong>? With \"agent\" I mean a proxy which uses internally a dedicated thread which does all the interaction with <code>NetworkResource</code> (constructing, readLine, close, ...)</p>\n"}], "owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 984, "favorite_count": 0, "answer_count": 3, "score": 3, "last_activity_date": 1508565403, "creation_date": 1508365102, "last_edit_date": 1508529315, "question_id": 46820107, "link": "https://stackoverflow.com/questions/46820107/invoke-rxjava2-cancellable-disposable-from-correct-thread", "title": "Invoke RxJava2 cancellable/disposable from correct thread", "body": "<p>I am implementing an observable that emmits lines from a <code>Resource</code>.</p>\n\n<p>The problem is that this resource really does not like being closed from a different thread that it was created on (it kills a puppy and throws an exception when this happens).</p>\n\n<p>When I dispose the subscription, the resource <code>Cancellable</code>/<code>Disposable</code> is invoked from the <code>main</code> thread, while the observable was subscribed on <code>Schedulers.io()</code>.</p>\n\n<p>Here is the Kotlin code:</p>\n\n<pre><code>fun lines(): Observable&lt;String&gt; =\n        Observable.create { emitter -&gt;\n            val resource = NetworkResource()\n            emitter.setCancellable {\n                resource.close() // &lt;-- main thread :(\n            }\n            try {\n                while (!emitter.isDisposed)\n                    emitter.onNext(resource.readLine()) // &lt;-- blocked here!\n            } catch (ioe: IOException) {\n                emitter.tryOnError(ioe) // &lt;-- this also triggers the cancellable\n            }\n        }\n\nval disposable = lines()\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribe { Log.i(TAG, \"Line: $it\" }\n\ndisposable.dispose() // &lt;-- main thread :)\n</code></pre>\n\n<p><strong>Question</strong>: Is it possible to invoke the <code>Cancellable</code> from the correct* thread, taking into account that the subscribing thread is blocked on <code>resource.readLine()</code>?</p>\n\n<p>*Correct thread meaning the one from <code>subscribeOn(Schedures.io())</code>.</p>\n\n<p><strong>EDIT</strong>: I am afraid this question does not have a correct answer, unless <code>resource.close()</code> is made thread-safe or some kind of polling on <code>resource.dataReady</code> is implemented so that the thread is not blocked.</p>\n"}, {"tags": ["android", "android-studio", "intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1508577007, "post_id": 46820069, "comment_id": 80670862, "body": "What\u2019s the current version of the plugin you have installed?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7664681"}, "reply_to_user": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1508608865, "post_id": 46820069, "comment_id": 80680127, "body": "@JKLy how i can know that ?"}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1508612232, "post_id": 46820069, "comment_id": 80681203, "body": "Preferences - Plugins, search <code>Kotlin</code>, the version number will be in the info pane."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7664681"}, "reply_to_user": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1508636126, "post_id": 46820069, "comment_id": 80686607, "body": "@JKLy Version: 1.1.51-release-Studio3.0-1"}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 2, "creation_date": 1508636293, "post_id": 46820069, "comment_id": 80686628, "body": "That implies you already have the latest version installed?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7664681"}, "reply_to_user": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1508776440, "post_id": 46820069, "comment_id": 80735640, "body": "Then why the dialog guide me to install new version?"}, {"owner": {"reputation": 2105, "user_id": 1631664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/691b56d8d43fec81f05431e857164424?s=128&d=identicon&r=PG", "display_name": "JK Ly", "link": "https://stackoverflow.com/users/1631664/jk-ly"}, "edited": false, "score": 0, "creation_date": 1508779655, "post_id": 46820069, "comment_id": 80737405, "body": "It could be a bug with the update dialog - you could try uninstalling the plugin from the preferences page, and then reinstall to see if the issue persists."}], "answers": [{"comments": [{"owner": {"reputation": 1227, "user_id": 2867351, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/w7fZk.png?s=128&g=1", "display_name": "Morgan Koh", "link": "https://stackoverflow.com/users/2867351/morgan-koh"}, "edited": false, "score": 7, "creation_date": 1517389654, "post_id": 46962317, "comment_id": 84071553, "body": "Whenever in doubt, restart Android Studio."}, {"owner": {"reputation": 2983, "user_id": 7767664, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/32630cb48af30367a74442b541b5f94a?s=128&d=identicon&r=PG&f=1", "display_name": "user924", "link": "https://stackoverflow.com/users/7767664/user924"}, "edited": false, "score": 0, "creation_date": 1543763564, "post_id": 46962317, "comment_id": 94026505, "body": "well... it even exists in 3.2.1 Stable version, I&#39;ll try restart the studio and see what will happen"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user7697994"}, "is_accepted": true, "score": 11, "last_activity_date": 1509046011, "creation_date": 1509046011, "answer_id": 46962317, "question_id": 46820069, "link": "https://stackoverflow.com/questions/46820069/configure-kotlin-plugin-update-fail/46962317#46962317", "title": "Configure kotlin plugin update fail?", "body": "<p>Please try to restart your android-studio and I think this behaviour doesn't exist with android-studio 3.0 stable version.</p>\n"}, {"comments": [{"owner": {"reputation": 2983, "user_id": 7767664, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/32630cb48af30367a74442b541b5f94a?s=128&d=identicon&r=PG&f=1", "display_name": "user924", "link": "https://stackoverflow.com/users/7767664/user924"}, "edited": false, "score": 0, "creation_date": 1543763620, "post_id": 53330543, "comment_id": 94026533, "body": "bad answer (to delete the whole folder with your settings)"}], "tags": [], "owner": {"reputation": 76, "user_id": 7461267, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2NZSyoiUIA0/AAAAAAAAAAI/AAAAAAAAAMY/DXJSgedRRes/photo.jpg?sz=128", "display_name": "takke", "link": "https://stackoverflow.com/users/7461267/takke"}, "is_accepted": false, "score": 0, "last_activity_date": 1542334859, "creation_date": 1542334859, "answer_id": 53330543, "question_id": 46820069, "link": "https://stackoverflow.com/questions/46820069/configure-kotlin-plugin-update-fail/53330543#53330543", "title": "Configure kotlin plugin update fail?", "body": "<p>I had a same issue on Android Studio 3.3 Beta 4 and solved.</p>\n\n<p>Following:</p>\n\n<ul>\n<li>Remove ~/.AndroidStudioPreview3.3 directory.</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 286, "user_id": 10554177, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cliyyxlNHYA/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbAHl0gi_IZw0nbFAk9II4IIVhozqQ/mo/photo.jpg?sz=128", "display_name": "Dany G", "link": "https://stackoverflow.com/users/10554177/dany-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1544835523, "creation_date": 1544835523, "answer_id": 53788674, "question_id": 46820069, "link": "https://stackoverflow.com/questions/46820069/configure-kotlin-plugin-update-fail/53788674#53788674", "title": "Configure kotlin plugin update fail?", "body": "<p>Perform a Check for updates (Help -> Check for updates) in Android Studio. Maybe there is a pending update in Android Studio itself. When Android Studio is up to date, the Kotlin plugin should update flawlessly.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7664681"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4035, "favorite_count": 0, "accepted_answer_id": 46962317, "answer_count": 3, "score": 5, "last_activity_date": 1544835523, "creation_date": 1508364875, "last_edit_date": 1508646135, "question_id": 46820069, "link": "https://stackoverflow.com/questions/46820069/configure-kotlin-plugin-update-fail", "title": "Configure kotlin plugin update fail?", "body": "<p>I'm trying to update <strong>kotlin</strong> <em>plugin</em> through this window:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UxBoP.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/UxBoP.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>1-  I check for update.</p>\n\n<p>2-  New version appear and i click install.</p>\n\n<p>3-  After download and install i restart android studio.</p>\n\n<p>I tried that about 5 times, and every time the <em>kotlin plugin</em> doesn't update.</p>\n\n<p>Why I can't update it?</p>\n\n<p>Am bit confused in the <code>plugins</code> i can find the final version, but when i open Configure kotlin plugin updates it's always check for updates and install it.</p>\n"}, {"tags": ["android", "kotlin", "rx-java", "observable", "reactive-programming"], "comments": [{"owner": {"reputation": 7850, "user_id": 2960788, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/423618eadcdd4a265e38985a911f5c1a?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher", "link": "https://stackoverflow.com/users/2960788/christopher"}, "edited": false, "score": 0, "creation_date": 1508362613, "post_id": 46819634, "comment_id": 80586762, "body": "Observable.zip() should do the trick."}, {"owner": {"reputation": 1475, "user_id": 5693082, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4faaab1b925d46aed09b42526914ca38?s=128&d=identicon&r=PG&f=1", "display_name": "dotGitignore", "link": "https://stackoverflow.com/users/5693082/dotgitignore"}, "edited": false, "score": 0, "creation_date": 1508373365, "post_id": 46819634, "comment_id": 80589883, "body": "or Observable.combineLatest();"}], "answers": [{"tags": [], "owner": {"reputation": 392, "user_id": 3648678, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/f5d3d3463ad87237ca6d6e3b50f99b35?s=128&d=identicon&r=PG&f=1", "display_name": "gyosida", "link": "https://stackoverflow.com/users/3648678/gyosida"}, "is_accepted": true, "score": 2, "last_activity_date": 1508375237, "creation_date": 1508375237, "answer_id": 46821447, "question_id": 46819634, "link": "https://stackoverflow.com/questions/46819634/combining-the-results-of-multiple-observables/46821447#46821447", "title": "Combining the results of multiple observables", "body": "<p>Using the <code>zip</code> operator you can combine the result of both <code>Single</code> and apply a transforming function that returns a list</p>\n\n<pre><code>Single.zip(\n            rates1,\n            rates2,\n            BiFunction&lt;List&lt;Currency&gt;, List&lt;Currency&gt;, List&lt;Currency&gt;&gt; { x, y -&gt;\n                // return your list\n            }\n    ).doOnSuccess { list -&gt; // save your data }\n    .subscribeOn(Schedulers.io())\n    .observeOn(AndroidSchedulers.mainThread())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10692, "user_id": 7101554, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/YgL1x.jpg?s=128&g=1", "display_name": "Leandro Borges Ferreira", "link": "https://stackoverflow.com/users/7101554/leandro-borges-ferreira"}, "is_accepted": false, "score": 0, "last_activity_date": 1508427261, "creation_date": 1508427261, "answer_id": 46833659, "question_id": 46819634, "link": "https://stackoverflow.com/questions/46819634/combining-the-results-of-multiple-observables/46833659#46833659", "title": "Combining the results of multiple observables", "body": "<p>The answer of gyosida is correct. Here is another example showing a generic use of Zip:</p>\n\n<pre><code>    val single1 = Single.just(mutableListOf(\"one\", \"two\", \"three\"))\n    val single2 = Single.just(mutableListOf(\"four\", \"five\", \"six\"))\n\n    val single = Single.zip(single1, single2, BiFunction {\n        a: MutableList&lt;String&gt;, b: MutableList&lt;String&gt; -&gt;\n            a.addAll(b)\n            return@BiFunction a\n    }) \n</code></pre>\n\n<p>Happy coding!</p>\n"}], "owner": {"reputation": 161, "user_id": 5430313, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/4220cf19808475081ae4c238266700f3?s=128&d=identicon&r=PG&f=1", "display_name": "olu", "link": "https://stackoverflow.com/users/5430313/olu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1207, "favorite_count": 0, "accepted_answer_id": 46821447, "answer_count": 2, "score": 0, "last_activity_date": 1563262760, "creation_date": 1508362523, "last_edit_date": 1563262760, "question_id": 46819634, "link": "https://stackoverflow.com/questions/46819634/combining-the-results-of-multiple-observables", "title": "Combining the results of multiple observables", "body": "<p>I'm trying to achieve something like this: \n- Make two different API calls and combine the results into a list. The result for each call is a HashMap and I have a function to convert it to a list. What I'm trying to do now is to combine the lists into one but I'm having difficulty.</p>\n\n<p>This is what my Retrofit service looks like:</p>\n\n<pre><code>@GET(\"data/price?fsym=ETH\")\nfun getETHRates(@Query(\"tsyms\") tsyms : String) : Single&lt;HashMap&lt;String, Double&gt;&gt;\n\n@GET(\"data/price?fsym=BTC\")\nfun getBTCRates(@Query(\"tsyms\") tsyms: String) : Single&lt;HashMap&lt;String, Double&gt;&gt;\n</code></pre>\n\n<p>I've been able to make the calls separately and transform the result into a list(please correct me if this can be done better) like this:</p>\n\n<pre><code>val btcRates: Single&lt;List&lt;Currency&gt;&gt; = cryptoApi.getBTCRates(countries)\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .flatMap { result: HashMap&lt;String, Double&gt; -&gt;\n            return@flatMap Single.just(createCurrencyObjects(\"BTC\", result))\n        }\n\nval ethRates: Single&lt;List&lt;Currency&gt;&gt; = cryptoApi.getETHRates(countries)\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n        .flatMap { result: HashMap&lt;String, Double&gt; -&gt;\n            return@flatMap Single.just(createCurrencyObjects(\"ETH\", result))\n        }\n</code></pre>\n\n<p>This is the function that transforms the result into a list:</p>\n\n<pre><code>fun createCurrencyObjects(from: String, map: HashMap&lt;String, Double&gt;): List&lt;Currency&gt; {\n    val list = ArrayList&lt;Currency&gt;(0)\n\n    for (key in map.keys) {\n        val amount: Double? = map.get(key)\n        list.add(Currency(0, from, key, amount!!))\n    }\n\n    return list;\n}\n</code></pre>\n\n<p>What I want to do now is combine the lists from both calls and then save it into a database. How do I do this combination with RxJava?</p>\n\n<p>I've tried something like this but I keep getting error messages:</p>\n\n<pre><code>val apiCall: Disposable = Observable.concat(ethRates, btcRates)\n        .subscribeOn(Schedulers.newThread())\n        .observeOn(AndroidSchedulers.mainThread())\n        .doOnNext { values: List&lt;Currency&gt; -&gt;\n            run {\n                App.database?.currencyDao()?.insertAllCurrencies(values)\n            }\n        }.doOnError { e -&gt; e.printStackTrace() }\n        .subscribe();\n</code></pre>\n"}, {"tags": ["kotlin", "corda"], "comments": [{"owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "edited": false, "score": 0, "creation_date": 1508364286, "post_id": 46819627, "comment_id": 80587427, "body": "Can you post the API call? You appear to be initiating an <code>InitiatorFlow</code>, which I don&#39;t see defined above."}, {"owner": {"reputation": 78, "user_id": 3861837, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4a8c86e600d2248975c67b1b8d99cdd7?s=128&d=identicon&r=PG&f=1", "display_name": "codeviper", "link": "https://stackoverflow.com/users/3861837/codeviper"}, "reply_to_user": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "edited": false, "score": 0, "creation_date": 1508429401, "post_id": 46819627, "comment_id": 80616233, "body": "Sorry. I&#39;ve updated my question with API call and correct flow error."}, {"owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "edited": false, "score": 0, "creation_date": 1508430025, "post_id": 46819627, "comment_id": 80616603, "body": "How are you running the nodes to test the API?"}, {"owner": {"reputation": 78, "user_id": 3861837, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4a8c86e600d2248975c67b1b8d99cdd7?s=128&d=identicon&r=PG&f=1", "display_name": "codeviper", "link": "https://stackoverflow.com/users/3861837/codeviper"}, "reply_to_user": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "edited": false, "score": 0, "creation_date": 1508430444, "post_id": 46819627, "comment_id": 80616829, "body": "Updated my question with Gradle deployNodes task. I run the nodes using usual build/nodes/runnodes command. To trigger the flow, I issue a http request: &quot;http:localhost:10029/api/testapp/start-flow?price=10&amp;otherP&zwnj;&#8203;arty=CN=Other,O=Othe&zwnj;&#8203;r,L=NY,C=US&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 78, "user_id": 3861837, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4a8c86e600d2248975c67b1b8d99cdd7?s=128&d=identicon&r=PG&f=1", "display_name": "codeviper", "link": "https://stackoverflow.com/users/3861837/codeviper"}, "edited": false, "score": 0, "creation_date": 1508432128, "post_id": 46835046, "comment_id": 80617755, "body": "Thanks for looking into the problem. I made the fixes and did gradlew clean deployNodes. But, I see same error. Do I need to add the nodes as part of permissions in deployNodes task ? or am I missing any other step ?"}, {"owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "reply_to_user": {"reputation": 78, "user_id": 3861837, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4a8c86e600d2248975c67b1b8d99cdd7?s=128&d=identicon&r=PG&f=1", "display_name": "codeviper", "link": "https://stackoverflow.com/users/3861837/codeviper"}, "edited": false, "score": 0, "creation_date": 1508432565, "post_id": 46835046, "comment_id": 80617973, "body": "Can you update the code samples in the question to correct the errors and show how you get the other party in the API?"}, {"owner": {"reputation": 78, "user_id": 3861837, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4a8c86e600d2248975c67b1b8d99cdd7?s=128&d=identicon&r=PG&f=1", "display_name": "codeviper", "link": "https://stackoverflow.com/users/3861837/codeviper"}, "edited": false, "score": 0, "creation_date": 1508434873, "post_id": 46835046, "comment_id": 80619172, "body": "Corrected the code samples and added code to get the other Party."}], "tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": false, "score": 0, "last_activity_date": 1508431938, "creation_date": 1508431938, "answer_id": 46835046, "question_id": 46819627, "link": "https://stackoverflow.com/questions/46819627/corda-party-rejected-session-request-as-requestor-has-not-been-registered/46835046#46835046", "title": "Corda: Party rejected session request as Requestor has not been registered", "body": "<p>There appears to be a couple of problems with the code you posted:</p>\n\n<ul>\n<li>The annotation should be <code>@StartableByRPC</code>, not <code>@StartableNByRPC</code></li>\n<li>The price passed to <code>startTrackedFlow</code> should be a long, not an int</li>\n</ul>\n\n<p>However, even after fixing these issues, I couldn't replicate your error. Can you apply these fixes, do a clean re-deploy of your nodes (<code>gradlew clean deployNodes</code>), and see whether the error changes?</p>\n"}, {"comments": [{"owner": {"reputation": 78, "user_id": 3861837, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4a8c86e600d2248975c67b1b8d99cdd7?s=128&d=identicon&r=PG&f=1", "display_name": "codeviper", "link": "https://stackoverflow.com/users/3861837/codeviper"}, "edited": false, "score": 0, "creation_date": 1508510698, "post_id": 46844949, "comment_id": 80650624, "body": "Makes sense. Thanks."}], "tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": false, "score": 0, "last_activity_date": 1508487346, "creation_date": 1508487346, "answer_id": 46844949, "question_id": 46819627, "link": "https://stackoverflow.com/questions/46819627/corda-party-rejected-session-request-as-requestor-has-not-been-registered/46844949#46844949", "title": "Corda: Party rejected session request as Requestor has not been registered", "body": "<p>You shouldn't be connecting to the other node via RPC. RPC is how a node's owner speaks to their node. In the real world, you wouldn't have the other node's RPC credentials, and couldn't log into the node in this way.</p>\n\n<p>Instead, you should use your own node's RPC client to retrieve the counterparty's identity:</p>\n\n<p><code>val otherParty = services.partyFromX500Name(\"CN=Other,O=Other,L=NY,C=US\")!!</code></p>\n\n<p>See an M14 example here: <a href=\"https://github.com/corda/cordapp-example/blob/release-M14/kotlin-source/src/main/kotlin/com/example/api/ExampleApi.kt\" rel=\"nofollow noreferrer\">https://github.com/corda/cordapp-example/blob/release-M14/kotlin-source/src/main/kotlin/com/example/api/ExampleApi.kt</a>.</p>\n"}], "owner": {"reputation": 78, "user_id": 3861837, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4a8c86e600d2248975c67b1b8d99cdd7?s=128&d=identicon&r=PG&f=1", "display_name": "codeviper", "link": "https://stackoverflow.com/users/3861837/codeviper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 400, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1508487346, "creation_date": 1508362501, "last_edit_date": 1508434797, "question_id": 46819627, "link": "https://stackoverflow.com/questions/46819627/corda-party-rejected-session-request-as-requestor-has-not-been-registered", "title": "Corda: Party rejected session request as Requestor has not been registered", "body": "<p>I've a Corda application that using M14 to build and run corda to run a TwoPartyProtocol where either parties can exchange data to reach a data validity consensus. I've followed <a href=\"https://docs.corda.net/releases/release-M14.0/flow-cookbook.html\" rel=\"nofollow noreferrer\">Corda flow cookbook</a> to build a flow.</p>\n\n<p>Also, after reading the docs from several different corda milestones I've understood that M14 no longer needs flowSessions as mentioned in the <a href=\"https://discourse.corda.net/t/cordapp-changes-introduced-by-milestone-12/1231\" rel=\"nofollow noreferrer\">release notes</a> which also eliminates need to register services. </p>\n\n<p>My TwoPartyFlow with inner FlowLogics:</p>\n\n<pre><code>class TwoPartyFlow{\n   @InitiatingFlow\n   @StartableByRPC\n   open class Requestor(val price: Long,\n                        val otherParty: Party) : FlowLogic&lt;SignedTransaction&gt;(){\n       @Suspendable\n       override fun call(): SignedTransaction {\n           val notary = serviceHub.networkMapCache.notaryNodes.single().notaryIdentity\n           send(otherParty, price)\n           /*Some code to generate SignedTransaction*/\n       }\n   }\n\n   @InitiatedBy(Requestor::class)\n   open class Responder(val requestingParty : Party) : FlowLogic&lt;SignedTransaction&gt;(){\n          @Suspendable\n          override fun call(): SignedTransaction {\n              val request = receive&lt;Long&gt;(requestor).unwrap { price -&gt; price }\n              println(request)\n              /*Some code to generate SignedTransaction*/\n          }    \n   }\n\n}\n</code></pre>\n\n<p>But, running the above using startTrackedFlow from Api causes the above error:</p>\n\n<pre><code>Party CN=Other,O=Other,L=NY,C=US rejected session request: com.testapp.flow.TwoPartyFlow$Requestor has not been registered\n</code></pre>\n\n<p>I had hard time finding the reason from corda docs or logs since Two Party flow implementations have changed among several Milestones of corda. Can someone help me understand the problem here.</p>\n\n<p>My API Call:</p>\n\n<pre><code>@GET\n@Path(\"start-flow\")\nfun requestOffering(@QueryParam(value = \"price\") price: String) : Response{\n        val price : Long = 10L\n        /*Code to get otherParty details*/\n        val otherPartyHostAndPort = HostAndPort.fromString(\"localhost:10031\")\n        val client = CordaRPCClient(otherPartyHostAndPort)\n        val services : CordaRPCOps = client.start(\"user1\",\"test\").proxy\n        val otherParty: Party = services.nodeIdentity().legalIdentity\n        val (status, message) = try {\n            val flowHandle = services.startTrackedFlow(::Requestor, price, otherParty)\n            val result = flowHandle.use { it.returnValue.getOrThrow() }\n            // Return the response.\n            Response.Status.CREATED to \"Transaction id ${result.id} committed to ledger.\\n\"\n        } catch (e: Exception) {\n            Response.Status.BAD_REQUEST to e.message\n        }\n        return Response.status(status).entity(message).build()\n}\n</code></pre>\n\n<p>My Gradle deployNodes task:</p>\n\n<pre><code>task deployNodes(type: net.corda.plugins.Cordform, dependsOn: ['build']) {\ndirectory \"./build/nodes\"\nnetworkMap \"CN=Controller,O=R3,OU=corda,L=London,C=UK\"\nnode {\n    name \"CN=Controller,O=R3,OU=corda,L=London,C=UK\"\n    advertisedServices = [\"corda.notary.validating\"]\n    p2pPort 10021\n    rpcPort 10022\n    cordapps = []\n}\nnode {\n    name \"CN=Subject,O=Subject,L=NY,C=US\"\n    advertisedServices = []\n    p2pPort 10027\n    rpcPort 10028\n    webPort 10029\n    cordapps = []\n    rpcUsers = [[ user: \"user1\", \"password\": \"test\", \"permissions\": []]]\n}\nnode {\n    name \"CN=Other,O=Other,L=NY,C=US\"\n    advertisedServices = []\n    p2pPort 10030\n    rpcPort 10031\n    webPort 10032\n    cordapps = []\n    rpcUsers = [[ user: \"user1\", \"password\": \"test\", \"permissions\": []]]\n}\n</code></pre>\n"}, {"tags": ["android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 69302, "user_id": 542270, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/DJlop.jpg?s=128&g=1", "display_name": "Opal", "link": "https://stackoverflow.com/users/542270/opal"}, "edited": false, "score": 0, "creation_date": 1508395955, "post_id": 46817678, "comment_id": 80595680, "body": "It does not necessarily mean that the method is undefined at all. It may also mean that there&#39;s something wrong with the arguments. Also you may have invoked this method too early - before an appropriate task was created."}, {"owner": {"reputation": 529, "user_id": 9316168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUaOF.jpg?s=128&g=1", "display_name": "gmk57", "link": "https://stackoverflow.com/users/9316168/gmk57"}, "edited": false, "score": 0, "creation_date": 1599998295, "post_id": 46817678, "comment_id": 112943547, "body": "I&#39;ve filed an issue to <a href=\"https://issuetracker.google.com/issues/168373989\" rel=\"nofollow noreferrer\">Google</a> and <a href=\"https://youtrack.jetbrains.com/issue/KT-37206\" rel=\"nofollow noreferrer\">JetBrains</a>"}], "answers": [{"comments": [{"owner": {"reputation": 529, "user_id": 9316168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUaOF.jpg?s=128&g=1", "display_name": "gmk57", "link": "https://stackoverflow.com/users/9316168/gmk57"}, "edited": false, "score": 0, "creation_date": 1599996379, "post_id": 46857980, "comment_id": 112943026, "body": "Please be aware that this doesn&#39;t work as intended: specified options are applied to <b>all</b> build types."}], "tags": [], "owner": {"reputation": 857, "user_id": 8691695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-Fp2LGX20PLI/AAAAAAAAAAI/AAAAAAAAAIk/XXYhAmUNB8E/photo.jpg?sz=128", "display_name": "Thibault Seisel", "link": "https://stackoverflow.com/users/8691695/thibault-seisel"}, "is_accepted": true, "score": 17, "last_activity_date": 1600615125, "last_edit_date": 1600615125, "creation_date": 1508537156, "answer_id": 46857980, "question_id": 46817678, "link": "https://stackoverflow.com/questions/46817678/configure-compiler-arguments/46857980#46857980", "title": "Configure compiler arguments", "body": "<p>After a few days of search and experimentation, I finally found a way to configure the compiler based on the build variant.</p>\n<p>Here is what worked for me :</p>\n<pre><code>buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n\n            // Configure Kotlin compiler optimisations for releases\n            kotlinOptions {\n                freeCompilerArgs += [\n                        '-Xno-param-assertions',\n                        '-Xno-call-assertions',\n                        '-Xno-receiver-assertions'\n                ]\n            }\n        }\n    }\n}\n</code></pre>\n<p>It seems like the documentation for the Gradle Kotlin Android plugin is not correct: while it says that the compiler can be configured by adding, for instance, the <code>compileReleaseKotlin</code> closure for release builds, for Android you have to put a <code>kotlinOptions</code> block in <code>release</code>, as shown above.</p>\n<p>Note that for a regular Kotlin project (without Android), the <code>compileKotlin</code> block described in the documentation works as intented.</p>\n<p>Hope it helps !</p>\n<p><strong>Edit</strong> Added <code>-</code> prefix for arguments, as the compiler would silently ignore them otherwise.</p>\n<p><strong>Edit 2</strong> Changed <code>=</code> to <code>+=</code> to avoid overwriting compiler options from other configurations.</p>\n"}, {"tags": [], "owner": {"reputation": 2446, "user_id": 643951, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/28af467eb309ca3d12cec68ace7b3f05?s=128&d=identicon&r=PG", "display_name": "Ruslan", "link": "https://stackoverflow.com/users/643951/ruslan"}, "is_accepted": false, "score": 2, "last_activity_date": 1597973404, "creation_date": 1597973404, "answer_id": 63515266, "question_id": 46817678, "link": "https://stackoverflow.com/questions/46817678/configure-compiler-arguments/63515266#63515266", "title": "Configure compiler arguments", "body": "<p>For anyone looking for quick info in 2020 on how to add a compiler arg to a Kotlin Android project (I needed it to enable the experimental serialization API), this is how I did it:</p>\n<p>(app build.gradle file)</p>\n<pre><code>android {\n    ...\n    compileOptions {\n        ...\n        kotlin {\n            kotlinOptions {\n                freeCompilerArgs += &quot;-Xopt-in=kotlin.RequiresOptIn&quot;\n            }\n        }\n    }\n}\n</code></pre>\n<p>Android Studio doesn't provide those as suggestions.</p>\n"}, {"tags": [], "owner": {"reputation": 529, "user_id": 9316168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUaOF.jpg?s=128&g=1", "display_name": "gmk57", "link": "https://stackoverflow.com/users/9316168/gmk57"}, "is_accepted": false, "score": 1, "last_activity_date": 1602103533, "creation_date": 1602103533, "answer_id": 64252057, "question_id": 46817678, "link": "https://stackoverflow.com/questions/46817678/configure-compiler-arguments/64252057#64252057", "title": "Configure compiler arguments", "body": "<p>Kotlin compiler options for <strong>all build types</strong> should be specified in the <code>android</code> closure. This is where Android Studio 4.1 places <code>kotlinOptions { jvmTarget = '1.8' }</code> by default:</p>\n<pre><code>android {\n    ...\n    kotlinOptions {\n        jvmTarget = '1.8'\n        freeCompilerArgs += ['-Xno-param-assertions']\n    }\n}\n</code></pre>\n<p>Compiler options for <strong>specific build type</strong> should be configured at the root level, wrapped in <code>afterEvaluate</code>, because <a href=\"https://youtrack.jetbrains.com/issue/KT-37206#focus=Comments-27-4426525.0-0\" rel=\"nofollow noreferrer\">the task is only registered once the Android Gradle plugin creates specific build variant, which is only done at the <code>afterEvaluate</code> phase</a>:</p>\n<pre><code>afterEvaluate {\n    compileReleaseKotlin {\n        kotlinOptions {\n            freeCompilerArgs += ['-Xno-param-assertions']\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 857, "user_id": 8691695, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-Fp2LGX20PLI/AAAAAAAAAAI/AAAAAAAAAIk/XXYhAmUNB8E/photo.jpg?sz=128", "display_name": "Thibault Seisel", "link": "https://stackoverflow.com/users/8691695/thibault-seisel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2581, "favorite_count": 0, "accepted_answer_id": 46857980, "answer_count": 3, "score": 5, "last_activity_date": 1602103533, "creation_date": 1508354400, "last_edit_date": 1508395864, "question_id": 46817678, "link": "https://stackoverflow.com/questions/46817678/configure-compiler-arguments", "title": "Configure compiler arguments", "body": "<p>I'm looking for a way to configure Kotlin compiler arguments in the <code>build.gradle</code> file of my Android Application project.</p>\n\n<p>I've seen on the <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#compiler-options\" rel=\"noreferrer\">Kotlin official documentation</a> that it is possible to configure compiler arguments for each build flavor (such as debug, release).</p>\n\n<h3>Project-level build.gradle</h3>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.51'\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-rc1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<h3>App-level build.gradle</h3>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.2\"\n    defaultConfig {\n        applicationId \"com.myapp.myapplication\"\n        minSdkVersion 16\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\n// The interesting part : configure the compileReleaseKotlin task\n// to include compiler arguments when building releases\ncompileReleaseKotlin {\n    kotlinOptions {\n        freeCompilerArgs = [\n                'Xno-param-assertions',\n                'Xno-call-assertions',\n                'Xno-receiver-assertions'\n        ]\n    }\n}\n\ndependencies {\n    // The usual Android dependencies, omitted for brievety\n}\n</code></pre>\n\n<p>When building the project, I get the following error :</p>\n\n<pre><code>Could not find method compileReleaseKotlin() for arguments [build_7b4e2sfm3830f9z4br95gfme2$_run_closure2@7ed96f28] on project ':app' of type org.gradle.api.Project.\n</code></pre>\n\n<p>Is the <code>compileReleaseKotlin</code> block misplaced, or mispelled ? Android Studio suggests me this method, though.</p>\n"}, {"tags": ["android-intent", "kotlin"], "comments": [{"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 1, "creation_date": 1508339426, "post_id": 46813243, "comment_id": 80574068, "body": "What does your MainActivity extend (e.g. AppCompatActivity)? Making the intent nullable when overriding onActivityResult works for me."}, {"owner": {"reputation": 2903, "user_id": 1160216, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f0TsK.jpg?s=128&g=1", "display_name": "Mike Miller", "link": "https://stackoverflow.com/users/1160216/mike-miller"}, "reply_to_user": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1508339690, "post_id": 46813243, "comment_id": 80574255, "body": "My MainActivity extends YouTubeBaseActivity, which extends Activity, so I can&#39;t change it."}, {"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1508340249, "post_id": 46813243, "comment_id": 80574639, "body": "Works fine for me when extending YouTubeBaseActivity. Maybe an issue with the Kotlin plugin for AS? I use Version: 1.1.4-release-Studio2.3-3."}, {"owner": {"reputation": 2903, "user_id": 1160216, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f0TsK.jpg?s=128&g=1", "display_name": "Mike Miller", "link": "https://stackoverflow.com/users/1160216/mike-miller"}, "reply_to_user": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1508344676, "post_id": 46813243, "comment_id": 80577547, "body": "1.1.51-release and i still get onActivityResult overrides nothing :("}, {"owner": {"reputation": 1959, "user_id": 258896, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1051e27bc1498e959047ad62c5d9b2bd?s=128&d=identicon&r=PG", "display_name": "Ed J", "link": "https://stackoverflow.com/users/258896/ed-j"}, "edited": false, "score": 0, "creation_date": 1545945833, "post_id": 46813243, "comment_id": 94740608, "body": "The override of onActivityResult  with nullable data param works for me with Kotlin version &#39;1.2.41&#39; in fragment extending from android.support.v4.app.Fragment"}], "owner": {"reputation": 2903, "user_id": 1160216, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/f0TsK.jpg?s=128&g=1", "display_name": "Mike Miller", "link": "https://stackoverflow.com/users/1160216/mike-miller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1675, "favorite_count": 0, "answer_count": 0, "score": 7, "last_activity_date": 1508338639, "creation_date": 1508338639, "question_id": 46813243, "link": "https://stackoverflow.com/questions/46813243/parameter-specified-as-non-null-is-null-for-data-in-onactivityresult", "title": "Parameter specified as non-null is null for data in onActivityResult", "body": "<p>I'm having the same issue as described here: <a href=\"https://github.com/paypal/PayPal-Android-SDK/issues/437\" rel=\"noreferrer\">https://github.com/paypal/PayPal-Android-SDK/issues/437</a></p>\n\n<p>But I'm unable to solve it with the obvious solution, which is to change the signature to </p>\n\n<p><code>override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {}</code></p>\n\n<p>because then it says that the function overrides nothing (in the original method, data is not nullable)</p>\n\n<p>But without this, data is sent in as null, which is not allowed. I get the following RuntimeException:</p>\n\n<p>Failure delivering result ResultInfo{who=null, request=2, result=0, data=null} to activity {...MainActivity}: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter data</p>\n\n<p>How can I get data to not be null, or to be allowed to be null? I am pressing the \"back\" button in my own activity, so I am able to send in whatever I need. I've tried adding an intent with some data, i.e. </p>\n\n<pre><code>override fun onBackPressed() {\n    super.onBackPressed()\n    val i = Intent()\n    i.putExtra(\"nonNull\", \"nonNull\")\n    setResult(RESULT_CANCELED, i)\n    finish()\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1508383259, "post_id": 46809021, "comment_id": 80592112, "body": "Use <code>listOf()</code> instead of <code>ArrayList()</code>. There is no need to specify <code>ArrayList</code>."}, {"owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "reply_to_user": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1508399924, "post_id": 46809021, "comment_id": 80597844, "body": "@Joshua In general you&#39;re right, but OP&#39;s original code instantiates <code>ArrayList&lt;T&gt;()</code>."}], "tags": [], "owner": {"reputation": 3852, "user_id": 7079453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f35f4fd1c0eaa060ffdc533c89b481e9?s=128&d=identicon&r=PG&f=1", "display_name": "F. George", "link": "https://stackoverflow.com/users/7079453/f-george"}, "is_accepted": true, "score": 6, "last_activity_date": 1508325734, "creation_date": 1508325734, "answer_id": 46809021, "question_id": 46806909, "link": "https://stackoverflow.com/questions/46806909/kotlin-class-delegation-features/46809021#46809021", "title": "Kotlin class delegation features", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/delegation.html\" rel=\"noreferrer\">Class Delegation</a> is currently only possible for parameters of the primary constructor.</p>\n\n<p>Workaround: declare the primary constructor private and offer a public constructor that delegates to it.</p>\n\n<pre><code>class CustomList&lt;T&gt; private constructor(private val data: List&lt;T&gt;) : List&lt;T&gt; by data {\n    constructor() : this(ArrayList())\n}\n</code></pre>\n"}], "owner": {"reputation": 1921, "user_id": 4420543, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/cff56a7d6453ef26835d3cf2e3a83cdb?s=128&d=identicon&r=PG&f=1", "display_name": "andras", "link": "https://stackoverflow.com/users/4420543/andras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 46809021, "answer_count": 1, "score": 3, "last_activity_date": 1508325734, "creation_date": 1508318899, "question_id": 46806909, "link": "https://stackoverflow.com/questions/46806909/kotlin-class-delegation-features", "title": "Kotlin class delegation features", "body": "<p>This is how I know to create class delegation in Kotlin:</p>\n\n<pre><code>class CustomList&lt;T&gt;(private val data: ArrayList&lt;T&gt; = ArrayList&lt;T&gt;()) : List&lt;T&gt; by data\n</code></pre>\n\n<p>However, I do not want to put the data in the constructor, because I want the list to be empty when <code>CustomList</code> is created:</p>\n\n<pre><code>class CustomList&lt;T&gt; : List&lt;T&gt; by data { \n    private val data = ArrayList&lt;T&gt;()\n}\n</code></pre>\n\n<p>This does not seem to be working.</p>\n\n<p>How can I make the <code>data</code> an inner field and also delegate the List to it's methods without having to write all delegation methods?</p>\n"}, {"tags": ["android", "kotlin", "android-number-picker"], "comments": [{"owner": {"reputation": 2105, "user_id": 1909309, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/zBBmU.jpg?s=128&g=1", "display_name": "Wubbalubbadubdub", "link": "https://stackoverflow.com/users/1909309/wubbalubbadubdub"}, "edited": false, "score": 0, "creation_date": 1508318395, "post_id": 46806198, "comment_id": 80560458, "body": "Not quite clear what is it you want ? as far I have been realised , do you want the input field as a number picker not TextView and need same calculation , is that it ? @Joedk"}, {"owner": {"reputation": 11, "user_id": 8794535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95ec58bf3d1f340624d275e955915b6?s=128&d=identicon&r=PG&f=1", "display_name": "Joedk", "link": "https://stackoverflow.com/users/8794535/joedk"}, "reply_to_user": {"reputation": 2105, "user_id": 1909309, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/zBBmU.jpg?s=128&g=1", "display_name": "Wubbalubbadubdub", "link": "https://stackoverflow.com/users/1909309/wubbalubbadubdub"}, "edited": false, "score": 0, "creation_date": 1508318567, "post_id": 46806198, "comment_id": 80560565, "body": "Hi Sorry, I already have the calculations (function) done. But at the moment the inputs are textViews and I want to replace them for number pickers :)"}, {"owner": {"reputation": 2670, "user_id": 3286614, "user_type": "registered", "accept_rate": 87, "profile_image": "https://graph.facebook.com/684521485/picture?type=large", "display_name": "Rachit", "link": "https://stackoverflow.com/users/3286614/rachit"}, "edited": false, "score": 0, "creation_date": 1508318868, "post_id": 46806198, "comment_id": 80560751, "body": "If you need your input to be only numbers, you can set the EditText inputType property to &quot;number&quot;. &quot;android:inputType=&quot;number&quot;"}, {"owner": {"reputation": 11, "user_id": 8794535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95ec58bf3d1f340624d275e955915b6?s=128&d=identicon&r=PG&f=1", "display_name": "Joedk", "link": "https://stackoverflow.com/users/8794535/joedk"}, "edited": false, "score": 0, "creation_date": 1508319045, "post_id": 46806198, "comment_id": 80560878, "body": "I know that, but I need to user numberPicker (because of the reason I mentioned on my question), in order to avoid user input error since this involves time, so I always need the : separator"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 8794535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95ec58bf3d1f340624d275e955915b6?s=128&d=identicon&r=PG&f=1", "display_name": "Joedk", "link": "https://stackoverflow.com/users/8794535/joedk"}, "edited": false, "score": 0, "creation_date": 1508319271, "post_id": 46806967, "comment_id": 80561020, "body": "this give me error  pickerMinutes.value &amp;&amp; (distance.text.isNotEmpty() &amp;&amp; pace.text.isNotEmpty()) -&gt;    I tried it before. Should I show you perhaps the whole class? (I am using Kotlin, thats why I am using .value and not getValue"}, {"owner": {"reputation": 2105, "user_id": 1909309, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/zBBmU.jpg?s=128&g=1", "display_name": "Wubbalubbadubdub", "link": "https://stackoverflow.com/users/1909309/wubbalubbadubdub"}, "reply_to_user": {"reputation": 11, "user_id": 8794535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95ec58bf3d1f340624d275e955915b6?s=128&d=identicon&r=PG&f=1", "display_name": "Joedk", "link": "https://stackoverflow.com/users/8794535/joedk"}, "edited": false, "score": 0, "creation_date": 1508319365, "post_id": 46806967, "comment_id": 80561091, "body": "this would help ,  give me your class with a <a href=\"https://pastebin.com/\" rel=\"nofollow noreferrer\">pastebin.com</a> link. this will help me dig deep"}, {"owner": {"reputation": 11, "user_id": 8794535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95ec58bf3d1f340624d275e955915b6?s=128&d=identicon&r=PG&f=1", "display_name": "Joedk", "link": "https://stackoverflow.com/users/8794535/joedk"}, "edited": false, "score": 0, "creation_date": 1508319519, "post_id": 46806967, "comment_id": 80561201, "body": "Going to do it. :)"}, {"owner": {"reputation": 11, "user_id": 8794535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95ec58bf3d1f340624d275e955915b6?s=128&d=identicon&r=PG&f=1", "display_name": "Joedk", "link": "https://stackoverflow.com/users/8794535/joedk"}, "edited": false, "score": 0, "creation_date": 1508319681, "post_id": 46806967, "comment_id": 80561308, "body": "<a href=\"https://pastebin.com/MpfRyrwq\" rel=\"nofollow noreferrer\">pastebin.com/MpfRyrwq</a>  ask me any questions. Right now what I have is passing the values from the pickers to the textviews, but thats not optimal. I want the inputs to be only from my pickers Thanks"}, {"owner": {"reputation": 2105, "user_id": 1909309, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/zBBmU.jpg?s=128&g=1", "display_name": "Wubbalubbadubdub", "link": "https://stackoverflow.com/users/1909309/wubbalubbadubdub"}, "reply_to_user": {"reputation": 11, "user_id": 8794535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95ec58bf3d1f340624d275e955915b6?s=128&d=identicon&r=PG&f=1", "display_name": "Joedk", "link": "https://stackoverflow.com/users/8794535/joedk"}, "edited": false, "score": 0, "creation_date": 1508319973, "post_id": 46806967, "comment_id": 80561526, "body": "I start solving this error , just need know which error you get after using pickerMinutes and pickerSeconds"}, {"owner": {"reputation": 11, "user_id": 8794535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95ec58bf3d1f340624d275e955915b6?s=128&d=identicon&r=PG&f=1", "display_name": "Joedk", "link": "https://stackoverflow.com/users/8794535/joedk"}, "edited": false, "score": 0, "creation_date": 1508320264, "post_id": 46806967, "comment_id": 80561689, "body": "I don&#39;t have any error in the code I sent you. But if I replace time.text.isEmpty() for pickerMinutes.value I get type mismatch required Boolean"}, {"owner": {"reputation": 11, "user_id": 8794535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95ec58bf3d1f340624d275e955915b6?s=128&d=identicon&r=PG&f=1", "display_name": "Joedk", "link": "https://stackoverflow.com/users/8794535/joedk"}, "edited": false, "score": 0, "creation_date": 1508320790, "post_id": 46806967, "comment_id": 80562012, "body": "Do you have any question @Vutka Bilai ?"}, {"owner": {"reputation": 2105, "user_id": 1909309, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/zBBmU.jpg?s=128&g=1", "display_name": "Wubbalubbadubdub", "link": "https://stackoverflow.com/users/1909309/wubbalubbadubdub"}, "reply_to_user": {"reputation": 11, "user_id": 8794535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95ec58bf3d1f340624d275e955915b6?s=128&d=identicon&r=PG&f=1", "display_name": "Joedk", "link": "https://stackoverflow.com/users/8794535/joedk"}, "edited": false, "score": 0, "creation_date": 1508323455, "post_id": 46806967, "comment_id": 80563610, "body": "Look here why you are getting type mismatch error , you are looking for isEmpty() method which is part of Textview class . If you use NumberPicker you don&#39;t need this validation . as you set  pickerMinutes.minValue = 0 . so by default it will be set to 0 .(distance.text.isNotEmpty() &amp;&amp; pace.text.isNotEmpty()) -&gt;                 calculatePace(null, distance.text.toString().toDouble(), pace.text.toString()) remove time.text.isEmpty()"}, {"owner": {"reputation": 11, "user_id": 8794535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95ec58bf3d1f340624d275e955915b6?s=128&d=identicon&r=PG&f=1", "display_name": "Joedk", "link": "https://stackoverflow.com/users/8794535/joedk"}, "edited": false, "score": 0, "creation_date": 1508323808, "post_id": 46806967, "comment_id": 80563835, "body": "I did not use .isEmpty on my numberPicker. Look what I used :P The thing is I don&#39;t want to use my text Views anymore. I know how to pass my Number Picker values to the text views. What I want to do is replace the text views for my number pickers."}, {"owner": {"reputation": 2105, "user_id": 1909309, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/zBBmU.jpg?s=128&g=1", "display_name": "Wubbalubbadubdub", "link": "https://stackoverflow.com/users/1909309/wubbalubbadubdub"}, "reply_to_user": {"reputation": 11, "user_id": 8794535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95ec58bf3d1f340624d275e955915b6?s=128&d=identicon&r=PG&f=1", "display_name": "Joedk", "link": "https://stackoverflow.com/users/8794535/joedk"}, "edited": false, "score": 0, "creation_date": 1508323883, "post_id": 46806967, "comment_id": 80563879, "body": "I get it :p ; i know what you did  pickerMinutes.value &amp;&amp; (distance.text.isNotEmpty() &amp;&amp; pace.text.isNotEmpty()) -&gt;                     calculatePace(null, distance.text.toString().toDouble(), pace.text.toString())  what does pickerMinutes.value retruns ?? it returns int , so how &quot;&amp;&amp;&quot; operators works on boolean and int . it is not possible .   so when you need number picker value for calculation use pickerMinutes.value . you don&#39;t need to validate is it empty or not"}, {"owner": {"reputation": 11, "user_id": 8794535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95ec58bf3d1f340624d275e955915b6?s=128&d=identicon&r=PG&f=1", "display_name": "Joedk", "link": "https://stackoverflow.com/users/8794535/joedk"}, "edited": false, "score": 0, "creation_date": 1508324588, "post_id": 46806967, "comment_id": 80564253, "body": "So I just do  pickerMinutes.value.(distance.text.isNotEmpty() &amp;&amp; pace.text.isNotEmpty()) -&gt; calculatePace(null, distance.text.toString().toDouble(), pace.text.toString())  ?"}, {"owner": {"reputation": 11, "user_id": 8794535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95ec58bf3d1f340624d275e955915b6?s=128&d=identicon&r=PG&f=1", "display_name": "Joedk", "link": "https://stackoverflow.com/users/8794535/joedk"}, "edited": false, "score": 0, "creation_date": 1508325240, "post_id": 46806967, "comment_id": 80564642, "body": "error as well. I think I am missing something basic here :/"}, {"owner": {"reputation": 11, "user_id": 8794535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95ec58bf3d1f340624d275e955915b6?s=128&d=identicon&r=PG&f=1", "display_name": "Joedk", "link": "https://stackoverflow.com/users/8794535/joedk"}, "edited": false, "score": 0, "creation_date": 1508334513, "post_id": 46806967, "comment_id": 80570611, "body": "Any ideas @Vutka? :)"}], "tags": [], "owner": {"reputation": 2105, "user_id": 1909309, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/zBBmU.jpg?s=128&g=1", "display_name": "Wubbalubbadubdub", "link": "https://stackoverflow.com/users/1909309/wubbalubbadubdub"}, "is_accepted": false, "score": 0, "last_activity_date": 1508319070, "creation_date": 1508319070, "answer_id": 46806967, "question_id": 46806198, "link": "https://stackoverflow.com/questions/46806198/replace-textview-for-numberpicker-android/46806967#46806967", "title": "Replace textView for NumberPicker - Android", "body": "<p>If you look at the <a href=\"https://developer.android.com/reference/android/widget/NumberPicker.html\" rel=\"nofollow noreferrer\">NumberPicker</a> API , you will see there is a method <code>getValue()</code> which returns selected value , which is int return type . you can use <code>toDouble()</code> as your calculation method is taking double type </p>\n\n<p>N.B as NumberPicker always works with integer I think you can modify your calculation method , as it will never get Double from NumberPicker </p>\n\n<p>please confirm , if I didn't get what you want </p>\n"}], "owner": {"reputation": 11, "user_id": 8794535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e95ec58bf3d1f340624d275e955915b6?s=128&d=identicon&r=PG&f=1", "display_name": "Joedk", "link": "https://stackoverflow.com/users/8794535/joedk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 283, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1508323707, "creation_date": 1508316622, "last_edit_date": 1508323707, "question_id": 46806198, "link": "https://stackoverflow.com/questions/46806198/replace-textview-for-numberpicker-android", "title": "Replace textView for NumberPicker - Android", "body": "<p>So I have some <code>textViews</code> that their inputs are numbers, but in order to be less prone to error I want to replace it with <code>numberPickers</code>.</p>\n\n<p><strong>What I have done</strong></p>\n\n<ul>\n<li><code>TextViews</code> work</li>\n<li><code>NumberPickers</code> Work</li>\n<li>Any math and calculation works</li>\n</ul>\n\n<p><strong>What I need</strong>: </p>\n\n<ul>\n<li><p>To replace the input method</p></li>\n<li><p>This is what I have for my <code>textViews</code></p>\n\n<pre><code>when {\n\n        time.text.isEmpty() &amp;&amp; (distance.text.isNotEmpty() &amp;&amp; pace.text.isNotEmpty()) -&gt;\n            calculatePace(null, distance.text.toString().toDouble(), pace.text.toString())\n\n        distance.text.isEmpty() &amp;&amp; (time.text.isNotEmpty() &amp;&amp; pace.text.isNotEmpty()) -&gt;\n            calculatePace(time.text.toString(), null, pace.text.toString())\n\n        pace.text.isEmpty() &amp;&amp; (time.text.isNotEmpty() &amp;&amp; distance.text.isNotEmpty()) -&gt;\n            calculatePace(time.text.toString(), distance.text.toString().toDouble(), null)\n\n\n        else -&gt; {\n            Toast.makeText(this, \"Please check fields\",\n                    Toast.LENGTH_SHORT).show()\n        }\n    }\n</code></pre></li>\n</ul>\n\n<p>These are my <code>pickers</code>:</p>\n\n<pre><code>    val pickerMinutes = numberPicker as NumberPicker\n    val pickerSeconds = numberPickerSeconds as NumberPicker\n    pickerMinutes.minValue = 0\n    pickerMinutes.maxValue = 60\n    pickerMinutes.wrapSelectorWheel = false\n    pickerMinutes.isEnabled = true\n\n    pickerSeconds.minValue = 0\n    pickerSeconds.maxValue = 60\n    pickerSeconds.wrapSelectorWheel = false\n    pickerSeconds.isEnabled = true\n</code></pre>\n\n<p>Any help would be very appreciated</p>\n\n<p>Thanks</p>\n"}, {"tags": ["java", "arrays", "json", "kotlin", "gson"], "answers": [{"tags": [], "owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1508316806, "creation_date": 1508316806, "answer_id": 46806249, "question_id": 46806152, "link": "https://stackoverflow.com/questions/46806152/how-to-get-multi-dimenstional-primitive-array-class-in-kotlin/46806249#46806249", "title": "How to get multi-dimenstional primitive array class in kotlin?", "body": "<p>You can mix <code>arrayOf</code> and <code>doubleArrayOf</code> for that case. </p>\n\n<pre><code>arrayOf(\n    doubleArrayOf(1.2, 4.1)\n    doubleArrayOf(3.4, 4.4)\n)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 1307, "user_id": 4681367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/83a0416184c6ffe72aac807e2feac5ce?s=128&d=identicon&r=PG&f=1", "display_name": "Lionel Briand", "link": "https://stackoverflow.com/users/4681367/lionel-briand"}, "edited": false, "score": 2, "creation_date": 1508318958, "post_id": 46806602, "comment_id": 80560822, "body": "You can do   Array&lt;DoubleArray&gt;::class.java"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 2, "last_activity_date": 1508322651, "last_edit_date": 1508322651, "creation_date": 1508317883, "answer_id": 46806602, "question_id": 46806152, "link": "https://stackoverflow.com/questions/46806152/how-to-get-multi-dimenstional-primitive-array-class-in-kotlin/46806602#46806602", "title": "How to get multi-dimenstional primitive array class in kotlin?", "body": "<h2>Answer to the Gson problem</h2>\n\n<p>For the class type of your use case use <code>Array&lt;DoubleArray&gt;::class.java)</code></p>\n\n<h2>Some additional Words on Multidimensional Arrays</h2>\n\n<p>Simply wrap <code>arrayOf</code> into another <code>arrayOf</code> or <code>doubleArrayOf</code> (less Boxing overhead) to get something like <code>Array&lt;DoubleArray&gt;</code>:</p>\n\n<pre><code>val doubles : Array&lt;DoubleArray&gt;  = arrayOf(doubleArrayOf(1.2), doubleArrayOf(2.3))\n</code></pre>\n\n<p>It's also possible to nest multiple Array initializers with the following <code>constructor</code>:</p>\n\n<pre><code>public inline constructor(size: Int, init: (Int) -&gt; T)\n</code></pre>\n\n<p>A call can look like this:</p>\n\n<pre><code>val doubles2: Array&lt;DoubleArray&gt; = Array(2) { i -&gt;\n    DoubleArray(2) { j -&gt;\n        j + 1 * (i + 1).toDouble()\n    }\n}\n//[[1.0, 2.0], [2.0, 3.0]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": false, "score": 1, "last_activity_date": 1508321594, "creation_date": 1508321594, "answer_id": 46807783, "question_id": 46806152, "link": "https://stackoverflow.com/questions/46806152/how-to-get-multi-dimenstional-primitive-array-class-in-kotlin/46807783#46807783", "title": "How to get multi-dimenstional primitive array class in kotlin?", "body": "<p>In the future, you can try using the Kotlin converter.  I took your code and ran it through the converter and got the following working code which agrees with the answer given.</p>\n\n<pre><code>internal var json = \"[[1.2, 4.1], [3.4, 4.4]]\"\ninternal var variable = Gson().fromJson(json, Array&lt;DoubleArray&gt;::class.java)\n</code></pre>\n"}], "owner": {"reputation": 1307, "user_id": 4681367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/83a0416184c6ffe72aac807e2feac5ce?s=128&d=identicon&r=PG&f=1", "display_name": "Lionel Briand", "link": "https://stackoverflow.com/users/4681367/lionel-briand"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 468, "favorite_count": 1, "accepted_answer_id": 46806602, "answer_count": 3, "score": 2, "last_activity_date": 1577143276, "creation_date": 1508316460, "last_edit_date": 1577143276, "question_id": 46806152, "link": "https://stackoverflow.com/questions/46806152/how-to-get-multi-dimenstional-primitive-array-class-in-kotlin", "title": "How to get multi-dimenstional primitive array class in kotlin?", "body": "<p>in Java I have been using gson to parse a json like this <code>[[1.2, 4.1], [3.4, 4.4]]</code> into a java primitive multi-array <code>double[][]</code></p>\n\n<p>The code looks like this (and works fine) :</p>\n\n<pre><code>String json = \"[[1.2, 4.1], [3.4, 4.4]]\"\ndouble[][] variable = new Gson().fromJson(json, double[][].class);\n</code></pre>\n\n<p>Is there a way to get the <code>double[][].class</code> in kotlin ?\nIs <code>double[][] variable;</code> can be substitute in kotlin ?</p>\n\n<p>Edit :</p>\n\n<p>My goal is to achieve the same behavior with gson in kotlin. I have thousand of doubles arrays to parse.</p>\n\n<p>I would like to do something like this in kotlin :</p>\n\n<pre><code>val json = \"[[1.1, 1.2], [2.1, 2.2, 2.3], [3.1, 3.2]\"\nval variable:Double[][] = Gson().fromJson(json, Double[][]::class.java)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kodein"], "answers": [{"tags": [], "owner": {"reputation": 7879, "user_id": 1269640, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/41b92fffd289939497f29809d146c59d?s=128&d=identicon&r=PG", "display_name": "Salomon BRYS", "link": "https://stackoverflow.com/users/1269640/salomon-brys"}, "is_accepted": true, "score": 3, "last_activity_date": 1508321464, "creation_date": 1508321464, "answer_id": 46807739, "question_id": 46805576, "link": "https://stackoverflow.com/questions/46805576/passing-lambda-as-argument-in-kodein/46807739#46807739", "title": "Passing lambda as argument in Kodein", "body": "<p>This is a bug in Kodein 4 that is corrected in the next version of Kodein (version 5.0).</p>\n\n<p>In the mean time, here is the fix :</p>\n\n<pre><code>val clickListener : SimpleButtonListener by With(generic(), onClick).instance()\n</code></pre>\n\n<p>Sorry for the inconvenicence.</p>\n"}], "owner": {"reputation": 779, "user_id": 171622, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b42f81ca75076f7bf49783d5e32a5bdf?s=128&d=identicon&r=PG", "display_name": "Joel Shea", "link": "https://stackoverflow.com/users/171622/joel-shea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 366, "favorite_count": 0, "accepted_answer_id": 46807739, "answer_count": 1, "score": 1, "last_activity_date": 1516109754, "creation_date": 1508314409, "last_edit_date": 1516109754, "question_id": 46805576, "link": "https://stackoverflow.com/questions/46805576/passing-lambda-as-argument-in-kodein", "title": "Passing lambda as argument in Kodein", "body": "<p>I am using Kodein for dependency injection on Android (in Kotlin, of course), but I am struggling with one aspect: I can't seem to pass a lambda as an argument to a factory.  It compiles correctly but fails at runtime (something I though Kodein as meant to protect against).</p>\n\n<p>In my Application class, I do the following binding:</p>\n\n<pre><code>class MyApplication : Application(), KodeinAware {\n    override val kodein by Kodein.lazy {\n        ...\n        bind&lt;SimpleButtonListener&gt;() with factory { func: () -&gt; Unit -&gt; SimpleButtonListener(func) }\n    }\n}\n</code></pre>\n\n<p>In my activity, I invoke it like this:</p>\n\n<pre><code>val onClick = { startActivity(EmailIntent()) }\nval clickListener : SimpleButtonListener by with(onClick).instance()\n</code></pre>\n\n<p>I also tried this unsuccessfully:</p>\n\n<pre><code>val clickListener : SimpleButtonListener by with({ startActivity(EmailIntent()) }).instance()\n</code></pre>\n\n<p>But I always get the same issue when I run:</p>\n\n<blockquote>\n  <p>com.github.salomonbrys.kodein.Kodein$NotFoundException: No factory found for bind() with ? { ? }<br>\n  ...\n  bind() with factory { Function0 -> SimpleButtonListener } </p>\n</blockquote>\n\n<p>I'm still pretty new to Kotlin, so I'm not sure exactly where I have gone wrong.  Is there a quirk or idiom in the language I have missed or is there a limitation of Kodein around lambdas as arguments?</p>\n"}, {"tags": ["android", "json", "kotlin", "graphql", "apollo-client"], "answers": [{"tags": [], "owner": {"reputation": 8787, "user_id": 5282585, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/817632218354985/picture?type=large", "display_name": "nhoxbypass", "link": "https://stackoverflow.com/users/5282585/nhoxbypass"}, "is_accepted": false, "score": 0, "last_activity_date": 1508311282, "creation_date": 1508311282, "answer_id": 46804745, "question_id": 46804667, "link": "https://stackoverflow.com/questions/46804667/invalid-json-string-on-response-in-android-apollo/46804745#46804745", "title": "Invalid JSON String on response in android-apollo", "body": "<p>This seem to be URL parameters, use this method to convert back to JSON String format:</p>\n\n<pre><code>public static String urlParamsToJSON(String urlParams) {\n    urlParams = urlParams.replaceAll(\"=\", \"\\\":\\\"\");\n    urlParams = urlParams.replaceAll(\"&amp;\", \"\\\",\\\"\");\n    return \"{\\\"\" + urlParams + \"\\\"}\";\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 6877164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUIdB.jpg?s=128&g=1", "display_name": "Maxim Dubovoi", "link": "https://stackoverflow.com/users/6877164/maxim-dubovoi"}, "is_accepted": true, "score": 0, "last_activity_date": 1509741656, "creation_date": 1509741656, "answer_id": 47104108, "question_id": 46804667, "link": "https://stackoverflow.com/questions/46804667/invalid-json-string-on-response-in-android-apollo/47104108#47104108", "title": "Invalid JSON String on response in android-apollo", "body": "<pre><code>object HelperJSON {\n    private var gson: Gson = Gson()\n    fun fetchSocialUrls(jsonString: String): SocialLoginUrlInfo {\n        Log.e(\"JSONHelper \", \"Enter: \" + jsonString)\n        return gson.fromJson(jsonString, SocialLoginUrlInfo::class.java)\n    }\n\n    fun toJsonString(simpleObject: Any?): String = gson.toJson(simpleObject)\n}\n</code></pre>\n\n<p>In Presenter:</p>\n\n<pre><code>socialLoginUrl = HelperJSON.fetchSocialUrls(HelperJSON.toJsonString(response.data()?.socialLoginUrls()))\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 6877164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iUIdB.jpg?s=128&g=1", "display_name": "Maxim Dubovoi", "link": "https://stackoverflow.com/users/6877164/maxim-dubovoi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 425, "favorite_count": 0, "accepted_answer_id": 47104108, "answer_count": 2, "score": -4, "last_activity_date": 1509773740, "creation_date": 1508310997, "last_edit_date": 1509773740, "question_id": 46804667, "link": "https://stackoverflow.com/questions/46804667/invalid-json-string-on-response-in-android-apollo", "title": "Invalid JSON String on response in android-apollo", "body": "<p>I send simple mutations and I was expecting JSON but in response string like that :</p>\n\n<pre><code>{\n   facebook=https://www.facebook.com/, \n   linkedIn=https://www.linkedin.com/  \n}\n</code></pre>\n\n<p>How to fix it?</p>\n"}, {"tags": ["templates", "kotlin", "extension-methods"], "comments": [{"owner": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "edited": false, "score": 1, "creation_date": 1508305177, "post_id": 46803331, "comment_id": 80553555, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/32883936/extension-functions-for-generic-classes-in-kotlin\">Extension functions for generic classes in Kotlin</a>"}], "answers": [{"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 4, "last_activity_date": 1508305369, "last_edit_date": 1508305369, "creation_date": 1508304855, "answer_id": 46803414, "question_id": 46803331, "link": "https://stackoverflow.com/questions/46803331/sharing-implementations-of-extension-functions-between-float-and-double-in-kotli/46803414#46803414", "title": "Sharing implementations of extension functions between Float and Double in Kotlin", "body": "<p>An extension on a generic type can be achieved by using <code>fun &lt;T&gt; T.toFixed(...)</code>. Doing that, <code>this</code> is accessible.</p>\n\n<p>The Problem then is, that the extenstion can be used on any type! You can use upper bounds on your <code>T</code> to restrict it: </p>\n\n<p><code>fun &lt;T: Number&gt; T.toFixed(...)</code></p>\n\n<p>If you really have to restrict the extension to <em>only</em> <code>Float</code> <em>and</em> <em>Double</em> it's necessary to extend the concrete types only. Have a look at the Koltin <code>math</code> library in addition, might be helpful :) (Available with <a href=\"https://blog.jetbrains.com/kotlin/2017/09/kotlin-1-2-beta-is-out/\" rel=\"nofollow noreferrer\">1.2-Beta</a>):<br>\n<a href=\"https://github.com/JetBrains/kotlin/blob/master/js/js.libraries/src/core/math.kt\" rel=\"nofollow noreferrer\">https://github.com/JetBrains/kotlin/blob/master/js/js.libraries/src/core/math.kt</a></p>\n"}], "owner": {"reputation": 6342, "user_id": 26331, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/zJfV7.jpg?s=128&g=1", "display_name": "aaaidan", "link": "https://stackoverflow.com/users/26331/aaaidan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 261, "favorite_count": 0, "accepted_answer_id": 46803414, "answer_count": 1, "score": 2, "last_activity_date": 1508305627, "creation_date": 1508304262, "last_edit_date": 1508305627, "question_id": 46803331, "link": "https://stackoverflow.com/questions/46803331/sharing-implementations-of-extension-functions-between-float-and-double-in-kotli", "title": "Sharing implementations of extension functions between Float and Double in Kotlin", "body": "<p><strong>NOTE: This question is not about generic classes, it's about generic functions.</strong> (I don't believe it to be a duplicate of <a href=\"https://stackoverflow.com/questions/32883936/extension-functions-for-generic-classes-in-kotlin\">this one</a>: it is more specific than that.)</p>\n\n<p>In our project, we have a handful of utility functions to extend <code>Double</code> and <code>Float</code>, such as <code>toFixed</code> (inspired by <code>Javascript's Number.toFixed</code>)</p>\n\n<pre><code>fun Double.toFixed(digits: Int):String = java.lang.String.format(\"%.${digits}f\", this)\nfun Float.toFixed(digits: Int):String = java.lang.String.format(\"%.${digits}f\", this)\n</code></pre>\n\n<p>As you can see, <code>Double.toFixed</code> and <code>Float.toFixed</code> have an identical implementation. </p>\n\n<p>Because there are several other, more complicated extension functions like this, improvements and bug fixes in one version (say, <code>Double.toPrecision</code>) have to be manually kept in sync (with <code>Float.toPrecision</code>), which is boring and error prone.</p>\n\n<p>I experimented with moving the duplicated implementations into a shared <code>&lt;templated&gt;</code> function, but (rightly) it can't access <code>this</code> in the context of an unbound function.</p>\n\n<p>To illustrate, I was hoping for something like this:</p>\n\n<pre><code>private fun &lt;T&gt;toFixed(digits: Int):String = java.lang.String.format(\"%.${digits}f\", this)\nfun Double.toFixed = ::toFixed&lt;Double&gt;\nfun Float.toFixed = ::toFixed&lt;Float&gt;\n</code></pre>\n\n<p>If any language can rock this, surely Kotlin can! Thoughts?</p>\n"}, {"tags": ["android", "debugging", "kotlin"], "comments": [{"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1519038954, "post_id": 46800397, "comment_id": 84732951, "body": "i am facing same problem while integrating google map in android app using java....same error is showing in logcat....if you had found any solution then please reply this comment."}], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 8401988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c44ea3ca169fd5e369319753d08a955?s=128&d=identicon&r=PG&f=1", "display_name": "DNA", "link": "https://stackoverflow.com/users/8401988/dna"}, "edited": false, "score": 0, "creation_date": 1508286446, "post_id": 46800708, "comment_id": 80548929, "body": "Thank you for your reply. I am testing this on 2 computers. When I add this line of code it greys itself out and says it&#39;s an unused import directive. I think my actual problem was the result of the OpenJDK platform in the background. I say this because once I ended the process in combination with deleting and reinstalling the emulator files, it now does as I want."}, {"owner": {"reputation": 1165, "user_id": 7355128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JoNgX.png?s=128&g=1", "display_name": "Andre Breton", "link": "https://stackoverflow.com/users/7355128/andre-breton"}, "reply_to_user": {"reputation": 97, "user_id": 8401988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c44ea3ca169fd5e369319753d08a955?s=128&d=identicon&r=PG&f=1", "display_name": "DNA", "link": "https://stackoverflow.com/users/8401988/dna"}, "edited": false, "score": 0, "creation_date": 1508287587, "post_id": 46800708, "comment_id": 80549183, "body": "hmm You have to delete this lines (import android.widget.Button import android.widget.EditText) and everything else but the code on the answer it should work"}, {"owner": {"reputation": 97, "user_id": 8401988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c44ea3ca169fd5e369319753d08a955?s=128&d=identicon&r=PG&f=1", "display_name": "DNA", "link": "https://stackoverflow.com/users/8401988/dna"}, "edited": false, "score": 0, "creation_date": 1508351873, "post_id": 46800708, "comment_id": 80581265, "body": "Well I am once again getting the same error and I now have exactly what you have and nothing else. No greyed out items or other activities.  Also getting this errror.          10-18 11:31:46.031 1470-1483/? E/memtrack: Couldn&#39;t load memtrack module 10-18 11:31:46.031 1470-1483/? W/android.os.Debug: failed to get memory consumption info: -1"}, {"owner": {"reputation": 1165, "user_id": 7355128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JoNgX.png?s=128&g=1", "display_name": "Andre Breton", "link": "https://stackoverflow.com/users/7355128/andre-breton"}, "reply_to_user": {"reputation": 97, "user_id": 8401988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c44ea3ca169fd5e369319753d08a955?s=128&d=identicon&r=PG&f=1", "display_name": "DNA", "link": "https://stackoverflow.com/users/8401988/dna"}, "edited": false, "score": 0, "creation_date": 1508353602, "post_id": 46800708, "comment_id": 80582221, "body": "Yeah, at this point seems to be an external affecting your IDE, i will recommend uninstalling Java and Android Studio,  and installing the new RC1 which has full support for kotlin <a href=\"https://developer.android.com/studio/preview/index.html#mac-canary-bundle\" rel=\"nofollow noreferrer\">developer.android.com/studio/preview/&hellip;</a>, Hope it helps"}, {"owner": {"reputation": 1861, "user_id": 7804719, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/P3Meo.jpg?s=128&g=1", "display_name": "Jaydip Kalkani", "link": "https://stackoverflow.com/users/7804719/jaydip-kalkani"}, "edited": false, "score": 0, "creation_date": 1519039205, "post_id": 46800708, "comment_id": 84733107, "body": "hey...i am facing same error when i integrate google map in my android app. logcat showing same error.  <code>02-19 16:41:58.950 1429-1457&#47;? W&#47;audio_hw_generic: Not supplying enough data to HAL, expected position 2582927 , only wrote 2582640</code> i am using java so this solution you had given is not for me. please tell me if you have any other solution. @AndreBreton"}], "tags": [], "owner": {"reputation": 1165, "user_id": 7355128, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JoNgX.png?s=128&g=1", "display_name": "Andre Breton", "link": "https://stackoverflow.com/users/7355128/andre-breton"}, "is_accepted": false, "score": 2, "last_activity_date": 1508283130, "creation_date": 1508283130, "answer_id": 46800708, "question_id": 46800397, "link": "https://stackoverflow.com/questions/46800397/not-supplying-enough-data-to-hal-expected-position/46800708#46800708", "title": "Not supplying enough data to HAL, expected position", "body": "<p>XML are fine but the main activity class is not using kotlin in the right way, in order to bind your items from your layout you can use <strong>synthetic</strong> native library like this </p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport kotlinx.android.synthetic.main.activity_main.* // this imports all your items from your layout\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val searchEditText = searchEditText.text.toString() \n        // you can now use any items in the layout just by calling them\n\n        searchButton.setOnClickListener{\n            println(searchEditText)\n        }\n\n    }\n}\n</code></pre>\n\n<p>Hope it helps</p>\n"}, {"comments": [{"owner": {"reputation": 125, "user_id": 4953469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75199285880cfc80fadc1eda00443d02?s=128&d=identicon&r=PG&f=1", "display_name": "Aishwarya", "link": "https://stackoverflow.com/users/4953469/aishwarya"}, "reply_to_user": {"reputation": 428, "user_id": 10844401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nEVuY.jpg?s=128&g=1", "display_name": "asim", "link": "https://stackoverflow.com/users/10844401/asim"}, "edited": false, "score": 0, "creation_date": 1567316391, "post_id": 57740375, "comment_id": 101925534, "body": "@user10844401 in Kotlin? Because it worked fine in Java. What error would it be?"}, {"owner": {"reputation": 428, "user_id": 10844401, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nEVuY.jpg?s=128&g=1", "display_name": "asim", "link": "https://stackoverflow.com/users/10844401/asim"}, "edited": false, "score": 0, "creation_date": 1567356694, "post_id": 57740375, "comment_id": 101933162, "body": "How? your activity is not the owner of the view (in which the button resides) until you call setContentView or Inflate on it."}], "tags": [], "owner": {"reputation": 125, "user_id": 4953469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75199285880cfc80fadc1eda00443d02?s=128&d=identicon&r=PG&f=1", "display_name": "Aishwarya", "link": "https://stackoverflow.com/users/4953469/aishwarya"}, "is_accepted": false, "score": 0, "last_activity_date": 1567273713, "creation_date": 1567273713, "answer_id": 57740375, "question_id": 46800397, "link": "https://stackoverflow.com/questions/46800397/not-supplying-enough-data-to-hal-expected-position/57740375#57740375", "title": "Not supplying enough data to HAL, expected position", "body": "<p>Change you class code to this</p>\n\n<pre><code>    val editText = findViewById&lt;EditText&gt;(R.id.searchEditText)\n    val searchEditText = editText.text.toString()\n\n\n    val button = findViewById&lt;Button&gt;(R.id.searchButton)\n    button.setOnClickListener {\n        println(searchEditText)\n        //val intent = Intent(this,SearchResultActivity::class.java)\n        //intent.putExtra(\"searchTerm\",searchEditText)\n        //startActivity(intent)\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n    }\n  }\n</code></pre>\n\n<p>Here we have just moved the \"override\" statement to the very end. I faced a similar issue but in Java, and when I moved the override function to the bottom, I didn't see that issue anymore. I hope it works for Kotlin as well.</p>\n"}], "owner": {"reputation": 97, "user_id": 8401988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c44ea3ca169fd5e369319753d08a955?s=128&d=identicon&r=PG&f=1", "display_name": "DNA", "link": "https://stackoverflow.com/users/8401988/dna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15613, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1567273713, "creation_date": 1508280775, "last_edit_date": 1508314000, "question_id": 46800397, "link": "https://stackoverflow.com/questions/46800397/not-supplying-enough-data-to-hal-expected-position", "title": "Not supplying enough data to HAL, expected position", "body": "<p>I'm getting this error in Android Studio. I just want to print the text when I push the button. I get the below error, which appears every time I press the button. If I uncomment out the intent it works perfectly fine as well, but the more code I have the more the error changes. I am not actually sure this is the true error. I say this because I have an entire app (not this one) that uses retrofit and github api to search for repos. This button is the nexus for searching. If I hard code in a word the app works perfectly. I finally got to this simplified app in an attempt to find the root cause. Please help. </p>\n\n<p>1.\n</p>\n\n<pre><code>10-17 15:33:56.569 1404-1431/? W/audio_hw_generic: Not supplying enough data to HAL, expected position 2045606 , only wrote 1793520\n</code></pre>\n\n<p></p>\n\n<ol start=\"2\">\n<li>This is the code</li>\n</ol>\n\n<p></p>\n\n<pre><code>import android.content.Intent\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.Button\nimport android.widget.EditText\n\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val editText = findViewById&lt;EditText&gt;(R.id.searchEditText)\n        val searchEditText = editText.text.toString()\n\n\n        val button = findViewById&lt;Button&gt;(R.id.searchButton)\n        button.setOnClickListener {\n            println(searchEditText)\n            //val intent = Intent(this,SearchResultActivity::class.java)\n            //intent.putExtra(\"searchTerm\",searchEditText)\n            //startActivity(intent)\n        }\n    }\n}\n</code></pre>\n\n<p></p>\n\n<ol start=\"3\">\n<li>This is the manifest</li>\n</ol>\n\n<p></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\npackage=\"com.example.blah.test236\"&gt;\n\n&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:roundIcon=\"@mipmap/ic_launcher_round\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity android:name=\".MainActivity\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n    &lt;activity android:name=\".SearchResultActivity\" /&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p> \n</p>\n\n<ol start=\"4\">\n<li>This is the xml file</li>\n</ol>\n\n<p></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout \n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.example.dnarialpressley.test236.MainActivity\"\n    tools:ignore=\"DuplicateIds\"&gt;\n&lt;EditText\n    android:id=\"@+id/searchEditText\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginTop=\"50dp\"\n    android:ems=\"10\"\n    android:inputType=\"textPersonName\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintHorizontal_bias=\"0.5\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;Button\n    android:id=\"@+id/searchButton\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginTop=\"8dp\"\n    android:text=\"@string/button\"\n    app:layout_constraintEnd_toEndOf=\"parent\"\n    app:layout_constraintHorizontal_bias=\"0.5\"\n    app:layout_constraintStart_toStartOf=\"parent\"\n    app:layout_constraintTop_toBottomOf=\"@+id/searchEditText\" /&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p></p>\n"}, {"tags": ["kotlin", "mathematical-optimization", "linear-programming", "ojalgo"], "answers": [{"comments": [{"owner": {"reputation": 9475, "user_id": 1373258, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/057cb1f71b78244924b7854605d79a9d?s=128&d=identicon&r=PG&f=1", "display_name": "tmn", "link": "https://stackoverflow.com/users/1373258/tmn"}, "edited": false, "score": 0, "creation_date": 1508287603, "post_id": 46799659, "comment_id": 80549188, "body": "I just figured that out moments before you posted. Thank you."}], "tags": [], "owner": {"reputation": 1045, "user_id": 4421592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xaI2H.jpg?s=128&g=1", "display_name": "apete", "link": "https://stackoverflow.com/users/4421592/apete"}, "is_accepted": true, "score": 1, "last_activity_date": 1508276413, "creation_date": 1508276413, "answer_id": 46799659, "question_id": 46798888, "link": "https://stackoverflow.com/questions/46798888/ojalgo-expressing-variables-as-boundaries-in-optimization/46799659#46799659", "title": "ojAlgo - Expressing Variables as Boundaries in Optimization?", "body": "<p>You can't do that. You can't directly model <code>expr1 &gt;= expr2</code>. Instead you have to model <code>(expr1 - expr2) &gt;= 0</code>. There is an example on the ojAlgo wiki describing how to model a similar problem: <a href=\"https://github.com/optimatika/ojAlgo/wiki/The-Diet-Problem\" rel=\"nofollow noreferrer\">https://github.com/optimatika/ojAlgo/wiki/The-Diet-Problem</a></p>\n"}, {"tags": [], "owner": {"reputation": 9475, "user_id": 1373258, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/057cb1f71b78244924b7854605d79a9d?s=128&d=identicon&r=PG&f=1", "display_name": "tmn", "link": "https://stackoverflow.com/users/1373258/tmn"}, "is_accepted": false, "score": 2, "last_activity_date": 1508290979, "creation_date": 1508290979, "answer_id": 46801593, "question_id": 46798888, "link": "https://stackoverflow.com/questions/46798888/ojalgo-expressing-variables-as-boundaries-in-optimization/46801593#46801593", "title": "ojAlgo - Expressing Variables as Boundaries in Optimization?", "body": "<p>For future readers, here is the full working solution I came up with. </p>\n\n<pre><code>import org.ojalgo.optimisation.ExpressionsBasedModel\nimport org.ojalgo.optimisation.Variable\nimport java.math.RoundingMode\n\n\nfun main(args: Array&lt;String&gt;) {\n\n    val model = ExpressionsBasedModel()\n\n    val ingredients = sequenceOf(\n            Ingredient(\"Pork\", 4.32, 30),\n            Ingredient(\"Wheat\", 2.46, 20),\n            Ingredient(\"Starch\", 1.86, 17)\n    ).map { it.name to it }\n     .toMap()\n\n    val sausageTypes = sequenceOf(\n            SausageType(\"Economy\", .40),\n            SausageType(\"Premium\", .60)\n    ).map { it.description to it }\n     .toMap()\n\n    // Map concatenated string keys to variables\n    val variables = ingredients.values.asSequence().flatMap { ingredient -&gt;\n        sausageTypes.values.asSequence()\n                .map { type -&gt; Combo(ingredient,type)}\n    }.map { it.toString() to Variable.make(it.toString()).lower(0).weight(it.ingredient.cost) }\n     .toMap()\n\n    // add variables to model\n    model.addVariables(variables.values)\n\n\n    // Pe + We + Se = 350 * 0.05\n    model.addExpression(\"EconomyDemand\").level(17.5).apply {\n        set(variables[\"Pork-Economy\"], 1)\n        set(variables[\"Wheat-Economy\"], 1)\n        set(variables[\"Starch-Economy\"], 1)\n    }\n\n    // Pp + Wp + Sp = 500 * 0.05\n    model.addExpression(\"PremiumDemand\").level(25).apply {\n        set(variables[\"Pork-Premium\"], 1)\n        set(variables[\"Wheat-Premium\"], 1)\n        set(variables[\"Starch-Premium\"], 1)\n    }\n\n    // Pe &gt;= 0.4(Pe + We + Se)\n    model.addExpression(\"EconomyPorkRatio\").upper(0.0).apply {\n        set(variables[\"Pork-Economy\"], -0.6)\n        set(variables[\"Wheat-Economy\"], .4)\n        set(variables[\"Starch-Economy\"], .4)\n    }\n\n    // Pe &gt;= 0.6(Pp + Wp + Sp)\n    model.addExpression(\"PremiumPorkRatio\").upper(0.0).apply {\n        set(variables[\"Pork-Premium\"], -0.4)\n        set(variables[\"Wheat-Premium\"], .6)\n        set(variables[\"Starch-Premium\"], .6)\n    }\n\n    // Se &lt;= .25(Pe + We + Se)\n    // Sp &lt;= .25(Pp + Wp + Sp)\n    sausageTypes.values.forEach {\n        model.addExpression(\"${it}StarchRestriction\").lower(0.0).apply {\n            set(variables[\"Pork-$it\"], .25)\n            set(variables[\"Wheat-$it\"], .25)\n            set(variables[\"Starch-$it\"], -0.75)\n        }\n    }\n\n    // Pe + Pp &lt;= 30\n    // We + Wp &lt;= 20\n    // Se + Sp &lt;= 17\n    ingredients.values.forEach { ingredient -&gt;\n        model.addExpression(\"${ingredient}SupplyConstraint\").upper(ingredient.availability).apply {\n            sausageTypes.values.forEach { sausageType -&gt;\n                set(variables[\"$ingredient-$sausageType\"], 1)\n            }\n        }\n    }\n\n    // Pe + Pp &gt;= 23\n    model.addExpression(\"ContractPorkRestriction\").lower(23).apply {\n        set(variables[\"Pork-Economy\"], 1)\n        set(variables[\"Pork-Premium\"], 1)\n    }\n\n\n    // go!\n    val result = model.minimise()\n\n    println(\"OPTIMIZED COST: ${result.value}\")\n\n\n    model.variables.asSequence()\n            .map { it.name }\n            .zip(result.asSequence().map { it.setScale(3, RoundingMode.HALF_DOWN) })\n            .forEach(::println)\n\n}\n\ndata class Combo(val ingredient: Ingredient, val sausageType: SausageType) {\n    override fun toString() = \"$ingredient-$sausageType\"\n}\n\ndata class SausageType(val description: String, val porkRequirement: Double) {\n    override fun toString() = description\n}\n\ndata class Ingredient(val name: String, val cost: Double, val availability: Int) {\n    override fun toString() = name\n}\n</code></pre>\n\n<p><strong>OUTPUT:</strong></p>\n\n<pre><code>OPTIMIZED COST: 140.955\n(Pork-Economy, 8.000)\n(Pork-Premium, 15.000)\n(Wheat-Economy, 5.125)\n(Wheat-Premium, 3.750)\n(Starch-Economy, 4.375)\n(Starch-Premium, 6.250)\n</code></pre>\n"}], "owner": {"reputation": 9475, "user_id": 1373258, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/057cb1f71b78244924b7854605d79a9d?s=128&d=identicon&r=PG&f=1", "display_name": "tmn", "link": "https://stackoverflow.com/users/1373258/tmn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 46799659, "answer_count": 2, "score": 1, "last_activity_date": 1508290979, "creation_date": 1508272908, "last_edit_date": 1508273715, "question_id": 46798888, "link": "https://stackoverflow.com/questions/46798888/ojalgo-expressing-variables-as-boundaries-in-optimization", "title": "ojAlgo - Expressing Variables as Boundaries in Optimization?", "body": "<p>I've been playing around with ojAlgo and I've been pretty thrilled with it so far. I've worked through a few studies with it but I'm having trouble with this <a href=\"http://benalexkeen.com/linear-programming-with-python-and-pulp-part-4/\" rel=\"nofollow noreferrer\">problem described in this article</a>. </p>\n\n<p>I'm using Kotlin instead of Java, but that shouldn't cause any issues. I'm stuck trying to input an expression into my model but bounding on a variable rather than a literal numeric value. How do I input that? </p>\n\n<p>Here is my work so far: </p>\n\n<pre><code>import org.ojalgo.optimisation.ExpressionsBasedModel\nimport org.ojalgo.optimisation.Variable\n\n\nfun main(args: Array&lt;String&gt;) {\n\n    val model = ExpressionsBasedModel()\n\n    val ingredients = sequenceOf(\n            Ingredient(\"Pork\", 4.32, 30),\n            Ingredient(\"Wheat\", 2.46, 20),\n            Ingredient(\"Starch\", 1.86, 17)\n    ).map { it.name to it }\n     .toMap()\n\n    val sausageTypes = sequenceOf(\n            SausageType(\"Economy\", .40),\n            SausageType(\"Premium\", .60)\n    ).map { it.description to it }\n     .toMap()\n\n    // Map concatenated string keys to variables\n    val variables = ingredients.values.asSequence().flatMap { ingredient -&gt;\n        sausageTypes.values.asSequence()\n                .map { type -&gt; Combo(ingredient,type)}\n    }.map { it.toString() to Variable.make(it.toString()).lower(0).weight(it.ingredient.cost) }\n     .toMap()\n\n    // add variables to model\n    model.addVariables(variables.values)\n\n    // Pe + We + Se = 350 * 0.05\n    model.addExpression(\"EconomyDemand\").level(350.0 * 0.05).apply {\n        set(variables[\"Pork-Economy\"], 1)\n        set(variables[\"Wheat-Economy\"], 1)\n        set(variables[\"Starch-Economy\"], 1)\n    }\n\n    // Pp + Wp + Sp = 500 * 0.05\n    model.addExpression(\"PremiumDemand\").level(500.0 * 0.05).apply {\n        set(variables[\"Pork-Premium\"], 1)\n        set(variables[\"Wheat-Premium\"], 1)\n        set(variables[\"Starch-Premium\"], 1)\n    }\n\n    // Pe &gt;= 0.4(Pe + We + Se) \n    // compile error?\n    model.addExpression(\"EconomyGovRestriction\").upper(variables[\"Pork-Economy\"]).apply {\n        set(variables[\"Pork-Economy\"], .4)\n        set(variables[\"Wheat-Economy\"], .4)\n        set(variables[\"Starch-Economy\"], .4)\n    }\n}\n\ndata class Combo(val ingredient: Ingredient, val sausageType: SausageType) {\n    override fun toString() = \"$sausageType-$ingredient\"\n}\n\ndata class SausageType(val description: String, val porkRequirement: Double) {\n    override fun toString() = description\n}\n\ndata class Ingredient(val name: String, val cost: Double, val availability: Int) {\n    override fun toString() = name\n}\n</code></pre>\n"}, {"tags": ["kotlin", "objectbox"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1508274159, "post_id": 46798596, "comment_id": 80545259, "body": "Have you tried <code>lateinit</code>?"}, {"owner": {"reputation": 11, "user_id": 359499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d395b8d0d18a7bb9a4e09d8ef2a16aa?s=128&d=identicon&r=PG&f=1", "display_name": "mannrecaged", "link": "https://stackoverflow.com/users/359499/mannrecaged"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1508274526, "post_id": 46798596, "comment_id": 80545431, "body": "Not possible to use lateinit for primary constructor"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1508274561, "post_id": 46798596, "comment_id": 80545451, "body": "I know, but you could put this particular property in the body"}, {"owner": {"reputation": 11, "user_id": 359499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d395b8d0d18a7bb9a4e09d8ef2a16aa?s=128&d=identicon&r=PG&f=1", "display_name": "mannrecaged", "link": "https://stackoverflow.com/users/359499/mannrecaged"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1508275685, "post_id": 46798596, "comment_id": 80545907, "body": "objextbox calls getAttachments() which would throw an exception &quot; lateinit property attachments has not been initialized&quot;"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1508275727, "post_id": 46798596, "comment_id": 80545924, "body": "If it does before setting it, yes that\u2019s a problem"}, {"owner": {"reputation": 11, "user_id": 359499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d395b8d0d18a7bb9a4e09d8ef2a16aa?s=128&d=identicon&r=PG&f=1", "display_name": "mannrecaged", "link": "https://stackoverflow.com/users/359499/mannrecaged"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1508665594, "post_id": 46798596, "comment_id": 80692450, "body": "Looks like the issue caused by Roboelectric. Shifted to AdndroidInstrumentaitonTest and it worked fine with lateinit."}, {"owner": {"reputation": 11, "user_id": 359499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d395b8d0d18a7bb9a4e09d8ef2a16aa?s=128&d=identicon&r=PG&f=1", "display_name": "mannrecaged", "link": "https://stackoverflow.com/users/359499/mannrecaged"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1508666208, "post_id": 46798596, "comment_id": 80692613, "body": "Github URL: <a href=\"https://github.com/objectbox/objectbox-java/issues/220\" rel=\"nofollow noreferrer\">github.com/objectbox/objectbox-java/issues/220</a>"}], "owner": {"reputation": 11, "user_id": 359499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d395b8d0d18a7bb9a4e09d8ef2a16aa?s=128&d=identicon&r=PG&f=1", "display_name": "mannrecaged", "link": "https://stackoverflow.com/users/359499/mannrecaged"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 463, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1508274127, "creation_date": 1508271793, "last_edit_date": 1508273801, "question_id": 46798596, "link": "https://stackoverflow.com/questions/46798596/objectbox-how-to-initialize-tomany-relation-in-kotlin", "title": "Objectbox: How to initialize ToMany&lt;&gt; relation in kotlin", "body": "<pre><code>@Entity\ndata class EmailMessage (\n    @Id var id: Long = 0,\n    var subject: String = \"\",\n    var body: String = \"\",\n    var attachments: ToMany&lt;Attachment&gt;? = null,\n)\n</code></pre>\n\n<p>for 'attachments', Is there a better way to do it without assigning null?</p>\n"}, {"tags": ["spring", "kotlin", "spring-bean"], "answers": [{"comments": [{"owner": {"reputation": 5021, "user_id": 4470135, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oXA6y.jpg?s=128&g=1", "display_name": "yuranos", "link": "https://stackoverflow.com/users/4470135/yuranos"}, "edited": false, "score": 0, "creation_date": 1552901647, "post_id": 46804360, "comment_id": 97171574, "body": "Thanks for the answer and for your repo, S&#233;bastien Deleuze. It would also be nice to see how to combine component scan and DSL in case people want to migrate to DSL iteratively."}], "tags": [], "owner": {"reputation": 5000, "user_id": 1092077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5778521f67d80de0ee3b213e4f159a59?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Deleuze", "link": "https://stackoverflow.com/users/1092077/s%c3%a9bastien-deleuze"}, "is_accepted": true, "score": 4, "last_activity_date": 1508309740, "creation_date": 1508309740, "answer_id": 46804360, "question_id": 46798347, "link": "https://stackoverflow.com/questions/46798347/postconstruct-not-called-when-using-kotlin-beandefinitiondsl/46804360#46804360", "title": "@PostConstruct not called when using Kotlin BeanDefinitionDsl", "body": "<p><code>GenericApplicationContext</code> instantiated in the <code>Application</code> class does not support out of the box <code>@PostContruct</code>. To make it works, you should use <code>AnnotationConfigApplicationContext</code> instead and remove the exclude for <code>spring-aop</code> in the Gradle build.</p>\n"}], "owner": {"reputation": 1404, "user_id": 564553, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/cca53f9b89c73e85539a7f599585c789?s=128&d=identicon&r=PG", "display_name": "BPS", "link": "https://stackoverflow.com/users/564553/bps"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2970, "favorite_count": 0, "accepted_answer_id": 46804360, "answer_count": 1, "score": 4, "last_activity_date": 1508309740, "creation_date": 1508270806, "question_id": 46798347, "link": "https://stackoverflow.com/questions/46798347/postconstruct-not-called-when-using-kotlin-beandefinitiondsl", "title": "@PostConstruct not called when using Kotlin BeanDefinitionDsl", "body": "<p>It seems that the @PostConstruct method is not called when a bean is added to the context using a Kotlin BeanDefinitionDsl.</p>\n\n<p>This happened to me in my own project but to create a simple way to reproduce it, here's what I did.</p>\n\n<ol>\n<li>I forked the Spring example of using the Kotlin DSL <a href=\"https://github.com/sdeleuze/spring-kotlin-functional\" rel=\"nofollow noreferrer\">https://github.com/sdeleuze/spring-kotlin-functional</a></li>\n<li>I added a @PostConstruct to the UserHandler class.  (More details below.)</li>\n<li>I pushed the result here: <a href=\"https://github.com/benjishults/spring-kotlin-functional\" rel=\"nofollow noreferrer\">https://github.com/benjishults/spring-kotlin-functional</a></li>\n</ol>\n\n<p>So all you need to do is fork my repo and do a gradle run.</p>\n\n<p>My questions are:</p>\n\n<ol>\n<li>Shouldn't I expect that @PostConstruct to be called since I'm bringing the class in as a bean?</li>\n<li>Am I missing a step?</li>\n<li>Is this a Spring bug?</li>\n</ol>\n\n<p>If you don't want to pull my repo, here are more details about what I did.  I added this to the UserHandler class:</p>\n\n<pre><code>@PostConstruct\nfun afterPropertiesSet() {\n    System.out.println(\"AFTER PROPERTIES SET CALLED\")\n}\n</code></pre>\n\n<p>along with the import and the Gradle dependency.</p>\n\n<p>The UserHandler bean is pulled into the context using a call to the bean method within a beans DSL like so:</p>\n\n<pre><code>fun beans() = beans {\n    bean&lt;UserHandler&gt;()\n    // ...\n}\n</code></pre>\n\n<p>and this is brought into the context with:</p>\n\n<pre><code>beans().initialize(context)\n</code></pre>\n"}, {"tags": ["java", "apache-spark", "intellij-idea", "kotlin", "dagger-2"], "comments": [{"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 1, "creation_date": 1508290204, "post_id": 46798085, "comment_id": 80549774, "body": "I have tried using Dagger with Idea. The generated is probably in the build folder. You have to add that to your source set in your gradle file."}], "answers": [{"tags": [], "owner": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "is_accepted": true, "score": 3, "last_activity_date": 1510548629, "creation_date": 1510548629, "answer_id": 47257246, "question_id": 46798085, "link": "https://stackoverflow.com/questions/46798085/dagger-2-unable-to-find-generated-class-in-intellij-idea-kotlin/47257246#47257246", "title": "Dagger 2: Unable to find generated class in Intellij Idea (Kotlin)", "body": "<p>This looks like <a href=\"https://youtrack.jetbrains.com/issue/KT-17923\" rel=\"nofollow noreferrer\">KT-17923</a>.\nPlease update your Kotlin IDE plugin version to 1.1.60 or 1.2-Beta.</p>\n\n<p>Also, as a work-around, you can specify the generated directories manually:</p>\n\n<pre><code>apply plugin: 'idea'\nidea {\n    module {\n        sourceDirs += file('build/generated/source/kapt/main')\n        generatedSourceDirs += file('build/generated/source/kapt/main')\n    }\n}\n</code></pre>\n\n<p>Note that you need to re-import project after adding this to your <code>build.gradle</code>.</p>\n\n<p>The only thing that seems strange for me is that the error also reproduces during the build. Please check if <code>DaggerAppComponent</code> lays in the same package with the class that references it (or there is an <code>import</code> directive). </p>\n"}, {"tags": [], "owner": {"reputation": 157, "user_id": 3452728, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m97cC.jpg?s=128&g=1", "display_name": "MarkoMilos", "link": "https://stackoverflow.com/users/3452728/markomilos"}, "is_accepted": false, "score": 2, "last_activity_date": 1550065836, "creation_date": 1550065836, "answer_id": 54671775, "question_id": 46798085, "link": "https://stackoverflow.com/questions/46798085/dagger-2-unable-to-find-generated-class-in-intellij-idea-kotlin/54671775#54671775", "title": "Dagger 2: Unable to find generated class in Intellij Idea (Kotlin)", "body": "<p>To me, it looks like an IDE (AndroidStudio / IntelliJ) bug.</p>\n\n<p>Facts:</p>\n\n<ul>\n<li>Generated classes are present in path <code>build/generated/source/kapt/main</code></li>\n<li>Code that uses these generated classes actually works even tough that IDE marks it with red color and <code>Unresolved reference</code> error</li>\n</ul>\n\n<p>Fix:</p>\n\n<pre><code>sourceSets {\n    main.java.srcDirs += \"$buildDir/generated/source/kapt/main\"\n}\n</code></pre>\n\n<p>If you use <a href=\"https://github.com/protocolbuffers/protobuf\" rel=\"nofollow noreferrer\">protobuf</a> there is a similar problem where generated proto classes are not visible (again <code>Unresolved reference</code> error)</p>\n\n<p>Fix:</p>\n\n<pre><code>sourceSets {\n    main {\n        java {\n            srcDirs += file(\"${protobuf.generatedFilesBaseDir}/main/java\")\n            srcDirs += file(\"${protobuf.generatedFilesBaseDir}/main/javalite\")\n            srcDirs += file(\"${protobuf.generatedFilesBaseDir}/main/grpc\")\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 163, "user_id": 5534033, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/415102608684667/picture?type=large", "display_name": "Prashant Gupta", "link": "https://stackoverflow.com/users/5534033/prashant-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1692, "favorite_count": 0, "accepted_answer_id": 47257246, "answer_count": 2, "score": 3, "last_activity_date": 1550065836, "creation_date": 1508269756, "question_id": 46798085, "link": "https://stackoverflow.com/questions/46798085/dagger-2-unable-to-find-generated-class-in-intellij-idea-kotlin", "title": "Dagger 2: Unable to find generated class in Intellij Idea (Kotlin)", "body": "<p>I was trying to write a application to understand spark and dagger 2. But was unable to use generated dagger files.</p>\n\n<p>There are multiple questions similar to this one, but I am not able to solve the problem using any of those.</p>\n\n<p>My project can be found at github <a href=\"https://github.com/pr-gupta/Pissarra\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>The build.gradle file looks like this</p>\n\n<pre><code>...\napply plugin: 'kotlin-kapt'\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    compile \"com.sparkjava:spark-kotlin:$spark_kotlin_version\"\n    compile \"org.slf4j:slf4j-log4j12:$slf4j_version\"\n    compile \"com.google.dagger:dagger:$dagger_version\"\n    kapt \"com.google.dagger:dagger-compiler:$dagger_version\"\n\n    testCompile group: 'junit', name: 'junit', version: '4.12'\n}\n....\n</code></pre>\n\n<p>It's the <code>SparkSetup.kt</code> Class that I am trying to inject. Module and Component for this are present in <code>co.pissarra.util.dagger</code> package</p>\n\n<p>The contents of <code>SetupModule.kt</code> looks like this</p>\n\n<pre><code>@Module\nclass SetUpModule {\n    @Provides\n    @Singleton\n    fun provideSparkSetup() : SparkSetup {\n        return SparkSetup()\n    }\n}\n</code></pre>\n\n<p>And this is <code>AppComponent.kt</code> Class</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(SetUpModule::class))\ninterface AppComponent {\n    fun sparkSetup() : SparkSetup\n}\n</code></pre>\n\n<p>Ideally there should be a class by the name <code>DaggerAppComponent</code>, which infact is present in the build directory (both generated and classes). But this only works if I am not using <code>DaggerAppComponent</code> anywhere in the project. If I try using this, intellij idea gives the error that <code>Unresolved reference: DaggerAppComponent</code> and the project also fails to build.</p>\n\n<p>I would like to change the file <code>ContainerRunner.kt</code> and instead of calling <code>SparkSetup().init()</code> directly, I would like to have that done through DI.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 3781, "user_id": 6444297, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh6.googleusercontent.com/-0ykZumduPX4/AAAAAAAAAAI/AAAAAAAAAA8/RQMECmLfpwE/photo.jpg?sz=128", "display_name": "Alireza Noorali", "link": "https://stackoverflow.com/users/6444297/alireza-noorali"}, "edited": false, "score": 0, "creation_date": 1513676570, "post_id": 46797916, "comment_id": 82733698, "body": "Take a look at this <a href=\"https://stackoverflow.com/a/37532046/6444297\">Answer</a> which solved my problem."}], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 8671825, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kXCLD-iFZxs/AAAAAAAAAAI/AAAAAAAACQE/Y1VsDSJZq-w/photo.jpg?sz=128", "display_name": "61 Keys to Music", "link": "https://stackoverflow.com/users/8671825/61-keys-to-music"}, "edited": false, "score": 2, "creation_date": 1558962489, "post_id": 46798014, "comment_id": 99261035, "body": "How should I send the View or Context object without having this issue?"}], "tags": [], "owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "is_accepted": true, "score": 15, "last_activity_date": 1508269446, "creation_date": 1508269446, "answer_id": 46798014, "question_id": 46797916, "link": "https://stackoverflow.com/questions/46797916/this-field-leaks-a-context-object/46798014#46798014", "title": "This field leaks a context object", "body": "<p>You assign a View to your HttpRequestTask. Since a View requires a Context you are leaking it.</p>\n\n<p>Just think what happen if the View has been destroyed but the Http Task is not finished yet. </p>\n\n<p>Thats why you should avoid assigning Context relevanted stuff inside methods which may give something back while the view has been already killed.</p>\n\n<p>Remove the debtorText and return the value to set it inside your view.</p>\n"}, {"comments": [{"owner": {"reputation": 1273, "user_id": 2076463, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6fbe354df64081a4d69a558ff24f2ed0?s=128&d=identicon&r=PG", "display_name": "Qylin", "link": "https://stackoverflow.com/users/2076463/qylin"}, "edited": false, "score": 2, "creation_date": 1536653557, "post_id": 46798508, "comment_id": 91490126, "body": "Some year ago, I feel like WeakReference could be a silver bullet. But now I feel like I&#39;m wrong. It would just bring you more trouble than convenience."}, {"owner": {"reputation": 56, "user_id": 4218954, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9qHTA.jpg?s=128&g=1", "display_name": "Fernando Perez", "link": "https://stackoverflow.com/users/4218954/fernando-perez"}, "edited": false, "score": 0, "creation_date": 1569890511, "post_id": 46798508, "comment_id": 102734098, "body": "thanks! it worked for me using the context as object"}], "tags": [], "owner": {"reputation": 8390, "user_id": 1869968, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/kTFyG.jpg?s=128&g=1", "display_name": "Submersed", "link": "https://stackoverflow.com/users/1869968/submersed"}, "is_accepted": false, "score": 22, "last_activity_date": 1530583720, "last_edit_date": 1530583720, "creation_date": 1508271453, "answer_id": 46798508, "question_id": 46797916, "link": "https://stackoverflow.com/questions/46797916/this-field-leaks-a-context-object/46798508#46798508", "title": "This field leaks a context object", "body": "<p>Use a <a href=\"https://developer.android.com/reference/java/lang/ref/WeakReference.html\" rel=\"noreferrer\">WeakReference</a>.</p>\n\n<pre><code>val textRef: WeakReference&lt;TextView&gt; = WeakReference(debtorText)\n</code></pre>\n"}], "owner": {"reputation": 413, "user_id": 1916252, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/7d786ffb2ef1a08aa21bbec5161ce91e?s=128&d=identicon&r=PG", "display_name": "xorgx3", "link": "https://stackoverflow.com/users/1916252/xorgx3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16532, "favorite_count": 1, "accepted_answer_id": 46798014, "answer_count": 2, "score": 24, "last_activity_date": 1530583720, "creation_date": 1508269116, "question_id": 46797916, "link": "https://stackoverflow.com/questions/46797916/this-field-leaks-a-context-object", "title": "This field leaks a context object", "body": "<p>My code: </p>\n\n<pre><code>class HttpRequestTask(private val debtWsUrl : URI, debtorText : TextView) : \n      AsyncTask&lt;Void, Void, Iterable&lt;Debtor&gt;?&gt;() {\n            val debtorText: TextView = debtorText\n}\n</code></pre>\n\n<p>Why line with TextView shows warning: </p>\n\n<blockquote>\n  <p>This field leaks a context object</p>\n</blockquote>\n\n<p>?</p>\n\n<p>How can I prevent this? </p>\n"}, {"tags": ["android", "asynchronous", "kotlin", "anko"], "comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 1, "creation_date": 1508313142, "post_id": 46795795, "comment_id": 80557428, "body": "can you post your <code>parseResponse</code> code ?"}], "answers": [{"comments": [{"owner": {"reputation": 1433, "user_id": 2115769, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/YWzWg.jpg?s=128&g=1", "display_name": "W3hri", "link": "https://stackoverflow.com/users/2115769/w3hri"}, "edited": false, "score": 1, "creation_date": 1508308560, "post_id": 46796984, "comment_id": 80554934, "body": "Unfortunately, this didn&#39;t work. Neither the <i>catch</i> case nor the <i>uiThread</i> will be entered"}], "tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": false, "score": 1, "last_activity_date": 1508265365, "creation_date": 1508265365, "answer_id": 46796984, "question_id": 46795795, "link": "https://stackoverflow.com/questions/46795795/ankos-uithread-sporadically-not-fired/46796984#46796984", "title": "Anko&#39;s uiThread sporadically not fired", "body": "<p>I had the same issue, it was because an uncaught exception is happening in background. </p>\n\n<p>surround your background task with a try/catch and you should be able to see what is occurring.</p>\n\n<pre><code>doAsync {\n    try {\n        val itemlist = parseResponse(response)\n    } catch(t: Throwable) {\n        //TODO log your exception\n    ]\n    uiThread {\n        Otto.INSTANCE.post(UpdateRedeemedVoucherViewsEvent(itemlist))\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 1, "creation_date": 1508683481, "post_id": 46805547, "comment_id": 80697710, "body": "Doing this, you are leaking your context instance. I&#39;m not sure if it will free after this because of the lifecycle could not be destroying it properly, you know?"}, {"owner": {"reputation": 1433, "user_id": 2115769, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/YWzWg.jpg?s=128&g=1", "display_name": "W3hri", "link": "https://stackoverflow.com/users/2115769/w3hri"}, "reply_to_user": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1508744181, "post_id": 46805547, "comment_id": 80715477, "body": "yeah, i&#39;m aware of that. But this is, at the moment, the only way i can get this to be called consistently. I&#39;ll keep an eye on that and will report if it causes any further problems"}], "tags": [], "owner": {"reputation": 1433, "user_id": 2115769, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/YWzWg.jpg?s=128&g=1", "display_name": "W3hri", "link": "https://stackoverflow.com/users/2115769/w3hri"}, "is_accepted": true, "score": 4, "last_activity_date": 1508314319, "creation_date": 1508314319, "answer_id": 46805547, "question_id": 46795795, "link": "https://stackoverflow.com/questions/46795795/ankos-uithread-sporadically-not-fired/46805547#46805547", "title": "Anko&#39;s uiThread sporadically not fired", "body": "<p>Thank you for your help guys.\nI've figured it out by myself, so i'm posting this answer just in case anyone else faces this problem.</p>\n\n<p><strong>TL;DR: the <em>context</em> gets lost, so the <em>uiThread</em> won't be executed</strong></p>\n\n<p>Solution:\nI've stumbled across this <a href=\"https://antonioleiva.com/api-request-kotlin/\" rel=\"nofollow noreferrer\">post</a> where an important feature of the <em>uiThread</em> method was mentioned: </p>\n\n<blockquote>\n  <p>Basically you have an async function that will execute it\u2019s code in another thread, and will give the chance of returning main thread using uiThread. async is an extension function implemented for Context, and will use a weak reference of it, so it won\u2019t prevent GC from releasing its memory.</p>\n</blockquote>\n\n<p>Upon further investigation, i've found the following log right after my parsing was done, and where the <em>uiThread</em> should have been called: </p>\n\n<pre><code>I/art: Background partial concurrent mark sweep GC freed 30879(16MB) AllocSpace objects, 16(2MB) LOS objects, 40% free, 16MB/27MB, paused 2.123ms total 196.372ms\n</code></pre>\n\n<p>So it seems that there is indeed some GC action, which may or may not the <em>context</em> to get freed.</p>\n\n<p>To prevent this, i'm using Ankos <strong>runOnUiThread</strong>, which can be <em>called</em> on a given context reference:</p>\n\n<pre><code>// Asynchronously parse server response\ndoAsync {\n    val itemlist = parseResponse(response)\n    context.runOnUiThread {\n        Otto.INSTANCE.post(UpdateRedeemedVoucherViewsEvent(itemlist))\n    }\n}\n</code></pre>\n\n<p>As far as i can tell by now, this seems to have done the trick. </p>\n"}], "owner": {"reputation": 1433, "user_id": 2115769, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/YWzWg.jpg?s=128&g=1", "display_name": "W3hri", "link": "https://stackoverflow.com/users/2115769/w3hri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 458, "favorite_count": 0, "accepted_answer_id": 46805547, "answer_count": 2, "score": 2, "last_activity_date": 1510362781, "creation_date": 1508261028, "last_edit_date": 1508314389, "question_id": 46795795, "link": "https://stackoverflow.com/questions/46795795/ankos-uithread-sporadically-not-fired", "title": "Anko&#39;s uiThread sporadically not fired", "body": "<p>I am currently using Anko's <em>doAsync</em> to handle asyncronous tasks.\nSpecifically, i'm using it to parse a response <em>json</em> to an <em>ArrayList</em> of data objects, as seen below:</p>\n\n<pre><code>// Asynchronously parse server response\ndoAsync {\n    val itemlist = parseResponse(response)\n    uiThread {\n        Otto.INSTANCE.post(UpdateRedeemedVoucherViewsEvent(itemlist))\n    }\n}\n</code></pre>\n\n<p>Most of the time, like on an <strong>Google Pixel (Android 8.0.0)</strong>, this works just fine. My objects get parsed, and the <em>Otto bus event</em> will be posten on the <em>ui thread</em>.</p>\n\n<p>But in some rare cases, this process fails.\nSo far i noticed that the ui thread call wont be fired on an <strong>Galaxy S5 Mini (Android 5.1.1)</strong>. Although my data was parsed without any errors or exceptions, the code snippet in the <em>uiThread</em> brackets won't be executed. </p>\n\n<p>So far i was not able to determine any reason for this behaviour. No logcat logs, nothing. There is no scheme of when this error will appear.</p>\n\n<p>Has anybody had the same or a similar problem with kotlin and/or Anko?</p>\n\n<p><strong>UPDATE: I've found a solution by myself, please see my answer below for an explanation.</strong> </p>\n"}, {"tags": ["kotlin", "teamcity"], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1508266110, "creation_date": 1508266110, "answer_id": 46797193, "question_id": 46795437, "link": "https://stackoverflow.com/questions/46795437/can-you-concatenate-statements-at-run-time-in-kotlin/46797193#46797193", "title": "Can you concatenate statements at run-time in Kotlin?", "body": "<p>First, note that <code>Requirements</code> accepts a function into its constructor. Without knowing what is the type of that function, let's assume it's <code>Context.() -&gt; Unit</code> (<a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver\" rel=\"nofollow noreferrer\">a function with receiver</a> of <code>Context</code>, accepting no arguments and <a href=\"https://kotlinlang.org/docs/reference/functions.html#unit-returning-functions\" rel=\"nofollow noreferrer\">returning <code>Unit</code></a>).</p>\n\n<p>Now, we can naturally <a href=\"https://kotlinlang.org/docs/reference/operator-overloading.html\" rel=\"nofollow noreferrer\">overload the plus operator</a> for the <code>Requirements</code> type, so that it returns another <code>Requirements</code> instance that has a function that applies both functions from the operands.</p>\n\n<p>You could do that in your own code in the following way:</p>\n\n<pre><code>class Requirements(val check: Context.() -&gt; Unit)\n\noperator fun Requirements.plus(other: Requirements) = \n    Requirements { check(); other.check() }\n</code></pre>\n"}], "owner": {"reputation": 381, "user_id": 5490974, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cHsis.jpg?s=128&g=1", "display_name": "ZoSal", "link": "https://stackoverflow.com/users/5490974/zosal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 46797193, "answer_count": 1, "score": 2, "last_activity_date": 1508318309, "creation_date": 1508259662, "last_edit_date": 1508318309, "question_id": 46795437, "link": "https://stackoverflow.com/questions/46795437/can-you-concatenate-statements-at-run-time-in-kotlin", "title": "Can you concatenate statements at run-time in Kotlin?", "body": "<p>I am trying to interface with TeamCity using Kotlin-DSL</p>\n\n<p><a href=\"https://confluence.jetbrains.com/display/TCD10/Kotlin+DSL#KotlinDSL-AdvantagesofKotlinDSLvsXML\" rel=\"nofollow noreferrer\">In this section</a> of the TC Kotlin guide there is a rather odd looking part where it seems like it causes statements to become concatenated on the fly.</p>\n\n<p>It first defines these:</p>\n\n<pre><code>val linux = Requirements() {\n   contains(\"os.name\", \"linux\")\n}\n\nval oracle = Requirements() {\n   equals(\"db.name\", \"oracle\")\n}\n\nval java6 = Requirements() {\n   contains(\"env.JAVA_HOME\", \"1.6\")\n}\n</code></pre>\n\n<p>Then does this with those definitions:</p>\n\n<pre><code>buildType {\n ...\n requirements(linux + oracle + java6)\n ...\n}\n</code></pre>\n\n<p>I know that the above section of code is equivalent to</p>\n\n<pre><code>buildType {\n ...\n    requirements {\n        contains(\"os.name\", \"linux\")\n        equals(\"db.name\", \"oracle\")\n        contains(\"env.JAVA_HOME\", \"1.6\")\n    }\n ...\n}\n</code></pre>\n\n<p>So I suppose what my question boils down to is what is the return type of the 'Requirements' function that can just be concatenated together? My guess is it is some sort of statement/ function wrapper and Kotlin lets you concatenate these as you go, and the function signature looks like this:</p>\n\n<pre><code>fun Requirements(init: (a: String, b: String) -&gt; UnknownTypeA) : UnknownTypeB\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT:</strong>\nFor anyone who is confused when reading this in the future, the calls to Requirements are actually an object initialisation via the Requirements constructor. I do inevitably feel embarrassed for not picking up on this (The casing of the name should have been hint enough!) but I'm making this edit to make it clear to people that it is not a function. Thank you to <a href=\"https://stackoverflow.com/users/2196460/hotkey\">Hotkey</a> for pointing that out.</p>\n"}, {"tags": ["android", "gson", "kotlin"], "comments": [{"owner": {"reputation": 3103, "user_id": 3887813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5d60d4ba9be9d67243bef5ca7f0141?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/3887813/robin"}, "edited": false, "score": 0, "creation_date": 1508315250, "post_id": 46794678, "comment_id": 80558609, "body": "This is a really tricky case... Have you tried implementing this thing in Java? Because then you could convert to Kotlin and see if that works, but so far I&#39;ve not gotten this to work in either language."}], "answers": [{"tags": [], "owner": {"reputation": 1108, "user_id": 1136459, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9611b7667bcac9ef22488f32d135697?s=128&d=identicon&r=PG", "display_name": "Marco Biscaro", "link": "https://stackoverflow.com/users/1136459/marco-biscaro"}, "is_accepted": false, "score": 1, "last_activity_date": 1508629826, "creation_date": 1508629826, "answer_id": 46869210, "question_id": 46794678, "link": "https://stackoverflow.com/questions/46794678/implementing-typeadapterfactory-with-typeadapter-in-kotlin/46869210#46869210", "title": "Implementing TypeAdapterFactory with TypeAdapter in Kotlin", "body": "<p>This is not possible because the method you are overwriting (<code>TypeFactory.create</code>) has no upper bound (which translates to <code>&lt;T : Any&gt;</code> in Kotlin). In your <code>create</code> method, <code>T</code> is not \nguaranteed to be a <code>Enum&lt;T&gt;</code> (so, it's not possible to pass it as argument to your adapter).</p>\n\n<p>What you can do is simply remove the upper bound in your adapter class and keep it private to make sure only your factory can create instances of it (and the factory already validates if the type is an enum).</p>\n\n<pre><code>class SmartEnumTypeAdapterFactory(fallbackKey: String) : TypeAdapterFactory {\n\n    private val fallbackKey = fallbackKey.toLowerCase(Locale.US)\n\n    override fun &lt;T&gt; create(gson: Gson?, type: TypeToken&lt;T&gt;): TypeAdapter&lt;T&gt;? {\n        val rawType = type.rawType\n        return if (!rawType.isEnum) null else SmartEnumTypeAdapter(rawType)\n    }\n\n    private class SmartEnumTypeAdapter&lt;T&gt;(classOfT: Class&lt;in T&gt;) : TypeAdapter&lt;T&gt;() {\n\n        override fun write(out: JsonWriter?, value: T) {\n            TODO(\"not implemented\")\n        }\n\n        override fun read(`in`: JsonReader?): T {\n            TODO(\"not implemented\")\n        }\n    }\n}\n</code></pre>\n\n<p>(<code>classOfT</code> is a <code>Class&lt;in T&gt;</code> because <code>TypeToken.rawType()</code> returns a <code>Class&lt;? super T&gt;</code>)</p>\n"}], "owner": {"reputation": 989, "user_id": 2957893, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/Mkizg.jpg?s=128&g=1", "display_name": "Den Drobiazko", "link": "https://stackoverflow.com/users/2957893/den-drobiazko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1559, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1508629826, "creation_date": 1508256914, "question_id": 46794678, "link": "https://stackoverflow.com/questions/46794678/implementing-typeadapterfactory-with-typeadapter-in-kotlin", "title": "Implementing TypeAdapterFactory with TypeAdapter in Kotlin", "body": "<p>I'm trying implement some particular GSON TypeAdapter in Kotlin language for my android project.</p>\n\n<p>The issue I'm facing is compile error with inability to infer type: <code>Type inference failed: 'T' cannot capture 'in (T..T?'. Type parameter has an upper bound 'Enum&lt;T&gt;' that cannot be satisfied capturing 'in' projection</code></p>\n\n<p>The code is following:</p>\n\n<pre><code>  class SmartEnumTypeAdapterFactory(fallbackKey: String) : TypeAdapterFactory {\n\n     private val fallbackKey = fallbackKey.toLowerCase(Locale.US)\n\n     override fun &lt;T : Any&gt; create(gson: Gson?, type: TypeToken&lt;T&gt;): TypeAdapter&lt;T&gt;? {\n        val rawType = type.rawType\n        return if (!rawType.isEnum) null else SmartEnumTypeAdapter(rawType)\n     }\n\n     class SmartEnumTypeAdapter&lt;T : Enum&lt;T&gt;&gt;(classOfT: Class&lt;T&gt;) : TypeAdapter&lt;T&gt;() {\n\n        override fun write(out: JsonWriter?, value: T) {\n           TODO(\"not implemented\")\n        }\n\n        override fun read(`in`: JsonReader?): T {\n           TODO(\"not implemented\")\n        }\n     }\n  }\n</code></pre>\n\n<p>The reason I want to have <code>classOfT: Class&lt;T&gt;</code> as parameter for TypeAdapter is out of context of this problem.</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1508255168, "post_id": 46794071, "comment_id": 80534901, "body": "&quot;even after including ? or !!&quot;  Post the code <i>with</i> included ? or !!"}, {"owner": {"reputation": 95, "user_id": 8706778, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/768ebe6ba6ed5fc7d4cc3c4b0402e95e?s=128&d=identicon&r=PG&f=1", "display_name": "hagrya", "link": "https://stackoverflow.com/users/8706778/hagrya"}, "reply_to_user": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1508255221, "post_id": 46794071, "comment_id": 80534939, "body": "@Ascorbin I tried with val miwokTextView= listView?.findViewById(R.id.miwok_text_view) as TextView and val miwokTextView= listView!!.findViewById(R.id.miwok_text_view) as TextView         but i am still getting error at findViewById"}, {"owner": {"reputation": 476, "user_id": 8771467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1843cd2cc1cd27cde68d5900c8f648d?s=128&d=identicon&r=PG", "display_name": "dillius", "link": "https://stackoverflow.com/users/8771467/dillius"}, "edited": false, "score": 0, "creation_date": 1508255609, "post_id": 46794071, "comment_id": 80535155, "body": "If you remove the <code>as TextView</code> cast following the use of either of those does it have an impact? You may not be able to cast to a non-nullable type when using <code>?</code> because it allows for null to propagate."}, {"owner": {"reputation": 95, "user_id": 8706778, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/768ebe6ba6ed5fc7d4cc3c4b0402e95e?s=128&d=identicon&r=PG&f=1", "display_name": "hagrya", "link": "https://stackoverflow.com/users/8706778/hagrya"}, "reply_to_user": {"reputation": 476, "user_id": 8771467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1843cd2cc1cd27cde68d5900c8f648d?s=128&d=identicon&r=PG", "display_name": "dillius", "link": "https://stackoverflow.com/users/8771467/dillius"}, "edited": false, "score": 0, "creation_date": 1508255834, "post_id": 46794071, "comment_id": 80535268, "body": "@dillius even after removing as TextView cast,i am getting the error"}, {"owner": {"reputation": 476, "user_id": 8771467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1843cd2cc1cd27cde68d5900c8f648d?s=128&d=identicon&r=PG", "display_name": "dillius", "link": "https://stackoverflow.com/users/8771467/dillius"}, "edited": false, "score": 0, "creation_date": 1508256020, "post_id": 46794071, "comment_id": 80535370, "body": "I&#39;m not sure why the error is occurring, but maybe this can work around it:  Wrap that bit of code in another if statement:      <code>if(listView != null)</code>  Kotlin will smart cast listView to a non-nullable type and it should then be impossible for you to get that error."}], "answers": [{"comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 2, "creation_date": 1508258603, "post_id": 46794829, "comment_id": 80536818, "body": "This is exactly the same thing you said you tried in the question, but with an extra space."}], "tags": [], "owner": {"reputation": 95, "user_id": 8706778, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/768ebe6ba6ed5fc7d4cc3c4b0402e95e?s=128&d=identicon&r=PG&f=1", "display_name": "hagrya", "link": "https://stackoverflow.com/users/8706778/hagrya"}, "is_accepted": false, "score": 1, "last_activity_date": 1508294068, "last_edit_date": 1508294068, "creation_date": 1508257366, "answer_id": 46794829, "question_id": 46794071, "link": "https://stackoverflow.com/questions/46794071/errorerror-only-safe-or-non-null-asserted-calls-are-allowed-on-a-nu/46794829#46794829", "title": "Error:error: only safe (?.) or non-null asserted (!!.) calls are allowed on a nullable receiver of type View?", "body": "<p>Got it\n val miwokTextView = listView?.findViewById<code>&lt;</code>View<code>&gt;</code>(R.id.miwok_text_view) as TextView</p>\n"}, {"comments": [{"owner": {"reputation": 95, "user_id": 8706778, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/768ebe6ba6ed5fc7d4cc3c4b0402e95e?s=128&d=identicon&r=PG&f=1", "display_name": "hagrya", "link": "https://stackoverflow.com/users/8706778/hagrya"}, "edited": false, "score": 0, "creation_date": 1508306185, "post_id": 46803533, "comment_id": 80553954, "body": "Even if i write val it is not a problem.I forgot to add <code>&lt;View&gt;</code> after findViewById"}, {"owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "reply_to_user": {"reputation": 95, "user_id": 8706778, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/768ebe6ba6ed5fc7d4cc3c4b0402e95e?s=128&d=identicon&r=PG&f=1", "display_name": "hagrya", "link": "https://stackoverflow.com/users/8706778/hagrya"}, "edited": false, "score": 0, "creation_date": 1508306249, "post_id": 46803533, "comment_id": 80553974, "body": "ok . when you going to use  miwokTextView as global use as var instead of val .. now its solved?"}], "tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1508305548, "creation_date": 1508305548, "answer_id": 46803533, "question_id": 46794071, "link": "https://stackoverflow.com/questions/46794071/errorerror-only-safe-or-non-null-asserted-calls-are-allowed-on-a-nu/46803533#46803533", "title": "Error:error: only safe (?.) or non-null asserted (!!.) calls are allowed on a nullable receiver of type View?", "body": "<p>Change the type <code>val</code> into <code>var</code> like this format.Because val cant be reassigned.</p>\n\n<pre><code>var miwokTextView= listView?.findViewById&lt;View&gt;(R.id.miwok_text_view) as TextView\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 8706778, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/768ebe6ba6ed5fc7d4cc3c4b0402e95e?s=128&d=identicon&r=PG&f=1", "display_name": "hagrya", "link": "https://stackoverflow.com/users/8706778/hagrya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2088, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1508305548, "creation_date": 1508255001, "last_edit_date": 1508255320, "question_id": 46794071, "link": "https://stackoverflow.com/questions/46794071/errorerror-only-safe-or-non-null-asserted-calls-are-allowed-on-a-nu", "title": "Error:error: only safe (?.) or non-null asserted (!!.) calls are allowed on a nullable receiver of type View?", "body": "<p>I am trying to code some code from Java to kotlin but i keep gettin the foll error</p>\n\n<p>Error:error: only safe (?.) or non-null asserted (!!.) calls are allowed on a nullable receiver of type View?</p>\n\n<p>Java Code</p>\n\n<pre><code>  View listItemView = convertView;\n        if (listItemView == null) {\n            listItemView = LayoutInflater.from(getContext()).inflate(\n                    R.layout.list_item, parent, false);\n        }\n\n        // Get the {@link Word} object located at this position in the list\n        Word currentWord = getItem(position);\n\n        // Find the TextView in the list_item.xml layout with the ID miwok_text_view.\n        TextView miwokTextView = (TextView) listItemView.findViewById(R.id.miwok_text_view);\n</code></pre>\n\n<p>After converting to kotlin</p>\n\n<pre><code>  var listView:View? =convertView\n        if(listView==null){\n            listView=LayoutInflater.from(context).inflate(R.layout.list_item,parent,false)\n        }\n\n        var currentWord:Word=getItem(position)\n\n        val miwokTextView= listView.findViewById(R.id.miwok_text_view) as TextView\n</code></pre>\n\n<p>I am getting error at listView.findViewById, even after including ? or !!,the error won't disappear.I even tried the online converter from JetBrains and when i paste the converted code to android studio,i still keep getting the error.Please help </p>\n\n<p>I tried with <code>val miwokTextView= listView?.findViewById(R.id.miwok_text_view) as TextView</code> and <code>val miwokTextView= listView!!.findViewById(R.id.miwok_text_view) as TextView</code> but i am still getting error at findViewById</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1508250622, "post_id": 46792226, "comment_id": 80531776, "body": "If I understand the question correctly, you want to have an extension property with a backing field. This is not possible, because extensions do not modify the classes. You can, however, try to emulate this behavior with a delegate, see <a href=\"https://stackoverflow.com/a/36511438/2196460\">my answer to the question</a> I linked as the duplicated."}, {"owner": {"reputation": 51, "user_id": 5867133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2a1b9c170d4a26ad20480ccdffba8a1?s=128&d=identicon&r=PG&f=1", "display_name": "FinalDest", "link": "https://stackoverflow.com/users/5867133/finaldest"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1508250993, "post_id": 46792226, "comment_id": 80532050, "body": "But how can I use the setter method?"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1508251430, "post_id": 46792226, "comment_id": 80532360, "body": "Ah, just assign the value into the property: <code>person.phone = 12345</code>"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1508251525, "post_id": 46792226, "comment_id": 80532429, "body": "That&#39;s for Kotlin. And in Java, you need to call the static method on the class that corresponds to the file that declares the extension, e.g. <code>FilenameKt.setPhone(person, 12345);</code>"}, {"owner": {"reputation": 51, "user_id": 5867133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2a1b9c170d4a26ad20480ccdffba8a1?s=128&d=identicon&r=PG&f=1", "display_name": "FinalDest", "link": "https://stackoverflow.com/users/5867133/finaldest"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1508251537, "post_id": 46792226, "comment_id": 80532438, "body": "I think it could be a recursive call?"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1508251610, "post_id": 46792226, "comment_id": 80532493, "body": "Currently, it <i>is</i>."}, {"owner": {"reputation": 51, "user_id": 5867133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2a1b9c170d4a26ad20480ccdffba8a1?s=128&d=identicon&r=PG&f=1", "display_name": "FinalDest", "link": "https://stackoverflow.com/users/5867133/finaldest"}, "edited": false, "score": 0, "creation_date": 1508251673, "post_id": 46792226, "comment_id": 80532535, "body": "In my opinion, the setter, in this case, is redundant of Kotlin,"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1508251777, "post_id": 46792226, "comment_id": 80532619, "body": "Why? With a normal property you don&#39;t NEED to specify a setter. It&#39;s automatically implemented if it has a backing field. <code>val a = 3</code> is completely valid."}, {"owner": {"reputation": 51, "user_id": 5867133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2a1b9c170d4a26ad20480ccdffba8a1?s=128&d=identicon&r=PG&f=1", "display_name": "FinalDest", "link": "https://stackoverflow.com/users/5867133/finaldest"}, "edited": false, "score": 0, "creation_date": 1508251989, "post_id": 46792226, "comment_id": 80532791, "body": "I mean when you extend a property (dont have backing field), you use the setter by assigning person.phone = 12345 but it&#39;s infinite recursive call. So, I think Kotlin should remove the setter in this case"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1508254287, "post_id": 46792226, "comment_id": 80534355, "body": "That&#39;s not the point of an extension property. You are making the recursive call yourself, so <i>your</i> code is causing infinite recursion. If you don&#39;t <i>want</i> a setter, just use <code>val</code> instead of <code>var</code>."}], "answers": [{"tags": [], "owner": {"reputation": 476, "user_id": 8771467, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b1843cd2cc1cd27cde68d5900c8f648d?s=128&d=identicon&r=PG", "display_name": "dillius", "link": "https://stackoverflow.com/users/8771467/dillius"}, "is_accepted": false, "score": 0, "last_activity_date": 1508250056, "creation_date": 1508250056, "answer_id": 46792435, "question_id": 46792226, "link": "https://stackoverflow.com/questions/46792226/extension-property-kotlin/46792435#46792435", "title": "Extension Property Kotlin", "body": "<p>Not sure that Kotlin can accomplish what you want here.</p>\n\n<p>From the <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>Note that, since extensions do not actually insert members into\n  classes, there's no efficient way for an extension property to have a\n  backing field. This is why initializers are not allowed for extension\n  properties. Their behavior can only be defined by explicitly providing\n  getters/setters.</p>\n</blockquote>\n\n<p>Since you can't add a backing field for your property, you can't really add that bit of stored data to the existing class this way.</p>\n\n<p>You may instead have to extend Person to add more to it.</p>\n"}], "owner": {"reputation": 51, "user_id": 5867133, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a2a1b9c170d4a26ad20480ccdffba8a1?s=128&d=identicon&r=PG&f=1", "display_name": "FinalDest", "link": "https://stackoverflow.com/users/5867133/finaldest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1952, "favorite_count": 0, "closed_date": 1508250526, "answer_count": 1, "score": 1, "last_activity_date": 1508250946, "creation_date": 1508249415, "last_edit_date": 1508250946, "question_id": 46792226, "link": "https://stackoverflow.com/questions/46792226/extension-property-kotlin", "closed_reason": "Duplicate", "title": "Extension Property Kotlin", "body": "<p>I'm new in Kotlin\nI have a class Person with (name) and (age) property.\nHow can I set the extension property for Person class like that</p>\n\n<pre><code>var Person.phone: Int\n    get() = this.phone\n    set(value) {this.phone = value}\n</code></pre>\n\n<p>How I can use setter in this case?\nThank you.</p>\n"}, {"tags": ["reflection", "lambda", "kotlin"], "comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1508250580, "post_id": 46792185, "comment_id": 80531738, "body": "To confirm, do you want it with or without reflection, the last sentence of the question seems like either, but the question says only without?"}, {"owner": {"reputation": 4041, "user_id": 495800, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d9cb7002c3b604c61f75e5434ae63306?s=128&d=identicon&r=PG", "display_name": "joecks", "link": "https://stackoverflow.com/users/495800/joecks"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1508250813, "post_id": 46792185, "comment_id": 80531920, "body": "I changed the title, best would be without reflection."}], "answers": [{"comments": [{"owner": {"reputation": 4041, "user_id": 495800, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d9cb7002c3b604c61f75e5434ae63306?s=128&d=identicon&r=PG", "display_name": "joecks", "link": "https://stackoverflow.com/users/495800/joecks"}, "edited": false, "score": 0, "creation_date": 1508250728, "post_id": 46792462, "comment_id": 80531862, "body": "That are two nice answers, thanks for your help but it is not really helping because I am not scoping the second value: <code>secondA.name.changed(firstA)</code>. Also unfortunately the second solution is not really scalabel solution."}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "reply_to_user": {"reputation": 4041, "user_id": 495800, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d9cb7002c3b604c61f75e5434ae63306?s=128&d=identicon&r=PG", "display_name": "joecks", "link": "https://stackoverflow.com/users/495800/joecks"}, "edited": false, "score": 0, "creation_date": 1508251084, "post_id": 46792462, "comment_id": 80532139, "body": "Is the with list option more usable?"}, {"owner": {"reputation": 4041, "user_id": 495800, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d9cb7002c3b604c61f75e5434ae63306?s=128&d=identicon&r=PG", "display_name": "joecks", "link": "https://stackoverflow.com/users/495800/joecks"}, "edited": false, "score": 0, "creation_date": 1508315633, "post_id": 46792462, "comment_id": 80558802, "body": "I found a solution that is a bit more scalable, but thanks for your help! <a href=\"https://stackoverflow.com/a/46805891/495800\">stackoverflow.com/a/46805891/495800</a>"}], "tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": false, "score": 3, "last_activity_date": 1508251064, "last_edit_date": 1508251064, "creation_date": 1508250124, "answer_id": 46792462, "question_id": 46792185, "link": "https://stackoverflow.com/questions/46792185/kotlin-compare-property-values-of-different-target-objects-without-reflection/46792462#46792462", "title": "Kotlin: Compare property values of different target objects with(out) reflection", "body": "<h1>Using reflection</h1>\n\n<p>Using the Kotlin reflection library you can use the <code>memberProperties</code> and filter by different values</p>\n\n<pre><code>import java.util.*\nimport kotlin.reflect.full.memberProperties\n\ndata class Example(val a: Int, val b:Long, val c: String)\n\nfun main(args: Array&lt;String&gt;) {\n    val start = Example(1,2, \"A\")\n    val end = Example(1,4, \"B\")\n    val differentFields = Example::class.memberProperties.filter {\n        val startValue = it.get(start)\n        val endValue = it.get(end)\n        !Objects.equals(startValue, endValue)\n    }\n\n    differentFields.forEach {\n        println(it.name)\n    }\n}\n</code></pre>\n\n<p>Output</p>\n\n<pre><code>b\nc\n</code></pre>\n\n<h1>Not using reflection</h1>\n\n<p>You need to explicitly go over each method (or store them in a list and iterate over them)</p>\n\n<h2>Without List</h2>\n\n<pre><code>import java.util.*\n\ndata class Example(val a: Int, val b:Long, val c: String) {\n    fun getChanged(other: Example): List&lt;String&gt; {\n        val ret: MutableList&lt;String&gt; = mutableListOf()\n\n        if (!Objects.equals(a, other.a)) ret.add(\"a\")\n        if (!Objects.equals(b, other.b)) ret.add(\"b\")\n        if (!Objects.equals(c, other.c)) ret.add(\"c\")\n\n        return ret\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val start = Example(1,2, \"A\")\n    val end = Example(1,4, \"B\")\n    println(start.getChanged(end))\n}\n</code></pre>\n\n<h2>With List</h2>\n\n<pre><code>import java.util.*\n\ndata class Example(val a: Int, val b:Long, val c: String) {\n\n    data class Field(val function: (Example) -&gt; Any?, val name: String)\n    val fields: List&lt;Field&gt; = listOf(\n            Field({ it.a }, \"a\"),\n            Field({ it.b }, \"b\"),\n            Field({ it.c }, \"c\")\n    )\n\n    fun getChanged(other: Example): List&lt;String&gt; {\n        return fields.filter {\n            !Objects.equals(it.function(this), it.function(other))\n        }.map { it.name }\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    val start = Example(1,2, \"A\")\n    val end = Example(1,4, \"B\")\n    println(start.getChanged(end))\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14655, "user_id": 1439522, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/924a7f2067fd21632db2d88559bd1dd9?s=128&d=identicon&r=PG", "display_name": "prom85", "link": "https://stackoverflow.com/users/1439522/prom85"}, "edited": false, "score": 0, "creation_date": 1541872851, "post_id": 46805891, "comment_id": 93369262, "body": "I like this very much, you can also write a simple <code>Diff</code> class that takes two objects to avoid the additional paramater. Btw, I tried writing a <code>fun &lt;R&gt; changedAny(memberAccess: Array&lt;T.() -&gt; R&gt;): Boolean</code> function. Can write one that seems ok, but whenever I try to use I see errors. Is it possible to have a <code>changedAny</code> function?"}], "tags": [], "owner": {"reputation": 4041, "user_id": 495800, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d9cb7002c3b604c61f75e5434ae63306?s=128&d=identicon&r=PG", "display_name": "joecks", "link": "https://stackoverflow.com/users/495800/joecks"}, "is_accepted": true, "score": 4, "last_activity_date": 1508315572, "creation_date": 1508315572, "answer_id": 46805891, "question_id": 46792185, "link": "https://stackoverflow.com/questions/46792185/kotlin-compare-property-values-of-different-target-objects-without-reflection/46805891#46805891", "title": "Kotlin: Compare property values of different target objects with(out) reflection", "body": "<h1>Without Reflection</h1>\n\n<p>I found a way without using reflection:</p>\n\n<pre><code>interface DiffValue&lt;T&gt; {\n    val old : T?\n}\n\nfun &lt;T,R&gt; T.changed(memberAccess : T.() -&gt; R) : Boolean {\n    if (this is DiffValue&lt;*&gt;) {\n        val old = this.old as? T\n        if (old != null) {\n            val currentValue = with(this, memberAccess)\n            val previousValue = with(old, memberAccess)\n            return currentValue != previousValue\n        }\n    }\n    return true\n}\n</code></pre>\n\n<p>And this is how you use it:</p>\n\n<pre><code>data class A(val val name: String, override val old : A? = null)\nval firstA = A(\"hello\")\nval secondA = A(\"you\", firstA)\n\nif (secondA.changed {name}) {\n   // Do something\n}\n</code></pre>\n\n<p>This is based on the concept of <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver\" rel=\"nofollow noreferrer\">lambda literals with receivers</a> that allows Kotlin to build powerful builders and DSLs.</p>\n\n<p>Note: The <code>DiffValue</code> interface is optional and is just used to make it a bit easier to keep values together and avoids an additional parameter in <code>changed</code>.</p>\n"}], "owner": {"reputation": 4041, "user_id": 495800, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d9cb7002c3b604c61f75e5434ae63306?s=128&d=identicon&r=PG", "display_name": "joecks", "link": "https://stackoverflow.com/users/495800/joecks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2517, "favorite_count": 1, "accepted_answer_id": 46805891, "answer_count": 2, "score": 4, "last_activity_date": 1508422284, "creation_date": 1508249265, "last_edit_date": 1508422284, "question_id": 46792185, "link": "https://stackoverflow.com/questions/46792185/kotlin-compare-property-values-of-different-target-objects-without-reflection", "title": "Kotlin: Compare property values of different target objects with(out) reflection", "body": "<p>I want to compare values between multiple instances of a data class so that I know which value changed:</p>\n\n<pre><code>data class A(val name : String)\nval firstA = A(\"hello\")\nval secondA = A(\"you\")\n\nif (secondA.name.changed(firstA)) {\n   // Do something\n}\n</code></pre>\n\n<p>Can I somehow access the property function of <code>.name</code> and execute it on another target value (in this example on firstA) without explicitly defining it? \nCan delegates help here or how do I solve this with and without reflection? </p>\n"}, {"tags": ["java", "postgresql", "hibernate", "kotlin", "vert.x"], "answers": [{"tags": [], "owner": {"reputation": 614, "user_id": 7588582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20f9d0bee50b3ecd765fefa0865c667d?s=128&d=identicon&r=PG&f=1", "display_name": "M. Galczynski", "link": "https://stackoverflow.com/users/7588582/m-galczynski"}, "is_accepted": true, "score": 0, "last_activity_date": 1508472837, "creation_date": 1508472837, "answer_id": 46842267, "question_id": 46792095, "link": "https://stackoverflow.com/questions/46792095/vert-x-chunked-answer-with-data-from-database-using-blob-and-hibernate/46842267#46842267", "title": "Vert.x chunked answer with data from database using BLOB and hibernate", "body": "<p>I got it working but I don't know exactly why it's working. It just for me looks like there is problem with reusing vert.x buffer in loops. Code below</p>\n\n<pre><code>fun getFile(user: User, messageId: Long, fileId: Short, response: HttpServerResponse) {\n        val mediaContent = mediaContentRepository.getFile(messageId, fileId)\n        when {\n            mediaContent == null -&gt;\n                response.apply { statusCode = 404 }.end()\n            conversationUserRepository.authorize(user.id!!, mediaContent.message!!.conversation!!.id, mediaContent.message!!.created) -&gt;\n                response.putHeader(\"Content-Disposition\", \"attachment; filename=\\\"${mediaContent.name}\\\"\") //TODO: prevent injections\n                        .putHeader(\"Content-Type\", mediaContent.contentType)\n                        .putHeader(\"Content-Length\", mediaContent.file.length().toString())\n                        .apply {\n                            val stream = mediaContent.file.binaryStream\n                            val byteArray = ByteArray(BUFFER_SIZE)\n                            for (i in (0L..(mediaContent.file.length() / BUFFER_SIZE))) {\n                                val bytesRead = stream.read(byteArray)\n                                write(Buffer(io.vertx.core.buffer.Buffer.buffer(byteArray)\n                                        .let {\n                                            if (bytesRead == BUFFER_SIZE) it\n                                            else it.slice(0, bytesRead)\n                                        }))\n                            }\n                        }\n                        .end()\n            else -&gt;\n                response.apply { statusCode = 403 }.end()\n        }\n    }\n</code></pre>\n"}], "owner": {"reputation": 614, "user_id": 7588582, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20f9d0bee50b3ecd765fefa0865c667d?s=128&d=identicon&r=PG&f=1", "display_name": "M. Galczynski", "link": "https://stackoverflow.com/users/7588582/m-galczynski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 46842267, "answer_count": 1, "score": 3, "last_activity_date": 1508472837, "creation_date": 1508248982, "last_edit_date": 1508250562, "question_id": 46792095, "link": "https://stackoverflow.com/questions/46792095/vert-x-chunked-answer-with-data-from-database-using-blob-and-hibernate", "title": "Vert.x chunked answer with data from database using BLOB and hibernate", "body": "<p>I try to send in chunks binary data in response from database (Postgresql 9.6.5) using Hibernate 5.2.11.Final (BLOB type) and Vert.x 3.4.2, but I receive wrong response (it looks for me like some bits are missing). Here is my code in Kotlin:</p>\n\n<pre><code>fun getFile(user: User, messageId: Long, fileId: Short, response: HttpServerResponse) {\n    val mediaContent = mediaContentRepository.getFile(messageId, fileId)\n    when {\n        mediaContent == null -&gt;\n            response.apply { statusCode = 404 }.end()\n        conversationUserRepository.authorize(user.id!!, mediaContent.message!!.conversation!!.id, mediaContent.message!!.created) -&gt;\n            response.setChunked(true)\n                    .putHeader(\"Content-Disposition\", \"attachment; filename=\\\"${mediaContent.name}\\\"\") //TODO: prevent injections\n                    .putHeader(\"Content-Type\", mediaContent.contentType)\n                    //.putHeader(\"Content-Length\", mediaContent.file.length().toString())\n                    .apply {\n                        //write(Buffer.buffer().apply { delegate.setBytes(0, mediaContent.file.binaryStream.readAllBytes()) })\n                        val buffer = Buffer.buffer(BUFFER_SIZE)\n                        val stream = mediaContent.file.binaryStream\n                        val byteArray = ByteArray(BUFFER_SIZE)\n                        for (i in (0L..(mediaContent.file.length() / BUFFER_SIZE))) {\n                            val bytesRead = stream.read(byteArray)\n                            buffer.delegate.setBytes(0, byteArray, 0, bytesRead)\n                            write(if (bytesRead == BUFFER_SIZE) buffer else buffer.slice(0, bytesRead))\n                        }\n                    }\n                    .end()\n        else -&gt;\n            response.apply { statusCode = 403 }.end()\n    }\n}\n</code></pre>\n\n<p>But when I try to send whole file at once using this line, response is correct.</p>\n\n<pre><code>write(Buffer.buffer().apply { delegate.setBytes(0, mediaContent.file.binaryStream.readAllBytes()) })\n</code></pre>\n\n<p>Any idea what I'm doing wrong?</p>\n\n<p>EDIT: It also can be helpful that I usually receive different responses for that same file.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 684, "user_id": 2275474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MUmw0.jpg?s=128&g=1", "display_name": "Pritesh Patel", "link": "https://stackoverflow.com/users/2275474/pritesh-patel"}, "edited": false, "score": 1, "creation_date": 1508247084, "post_id": 46791385, "comment_id": 80529238, "body": "You have concat  &quot;pickerMinutes&quot; which is picker number object on time.text = newVal.toString() + pickerMinutes"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "reply_to_user": {"reputation": 684, "user_id": 2275474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MUmw0.jpg?s=128&g=1", "display_name": "Pritesh Patel", "link": "https://stackoverflow.com/users/2275474/pritesh-patel"}, "edited": false, "score": 0, "creation_date": 1508247161, "post_id": 46791385, "comment_id": 80529307, "body": "yes I know.. that was my attempt to make it work, because like I said I need the correct format. How can I do it?"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "reply_to_user": {"reputation": 684, "user_id": 2275474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MUmw0.jpg?s=128&g=1", "display_name": "Pritesh Patel", "link": "https://stackoverflow.com/users/2275474/pritesh-patel"}, "edited": false, "score": 0, "creation_date": 1508248515, "post_id": 46791385, "comment_id": 80530294, "body": "Could you check my edit"}, {"owner": {"reputation": 684, "user_id": 2275474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MUmw0.jpg?s=128&g=1", "display_name": "Pritesh Patel", "link": "https://stackoverflow.com/users/2275474/pritesh-patel"}, "edited": false, "score": 0, "creation_date": 1508248909, "post_id": 46791385, "comment_id": 80530552, "body": "time.text = pickerMinutes.getValue() + &quot;:&quot; + newVal in pickerMinutes.setOnValueChangedListener"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "reply_to_user": {"reputation": 684, "user_id": 2275474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MUmw0.jpg?s=128&g=1", "display_name": "Pritesh Patel", "link": "https://stackoverflow.com/users/2275474/pritesh-patel"}, "edited": false, "score": 0, "creation_date": 1508249368, "post_id": 46791385, "comment_id": 80530874, "body": "I tried that before, but I got an error on the + sign: none of the following functions can be called with the arguments supplied"}, {"owner": {"reputation": 684, "user_id": 2275474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MUmw0.jpg?s=128&g=1", "display_name": "Pritesh Patel", "link": "https://stackoverflow.com/users/2275474/pritesh-patel"}, "edited": false, "score": 0, "creation_date": 1508249575, "post_id": 46791385, "comment_id": 80531024, "body": "Try to sent in pickerSeconds.setOnValueChangedListener like time.text = pickerMinutes.getValue() + &quot;:&quot; + newVal"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "reply_to_user": {"reputation": 684, "user_id": 2275474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MUmw0.jpg?s=128&g=1", "display_name": "Pritesh Patel", "link": "https://stackoverflow.com/users/2275474/pritesh-patel"}, "edited": false, "score": 0, "creation_date": 1508249634, "post_id": 46791385, "comment_id": 80531063, "body": "same... they are the same, just with different name"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "reply_to_user": {"reputation": 684, "user_id": 2275474, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MUmw0.jpg?s=128&g=1", "display_name": "Pritesh Patel", "link": "https://stackoverflow.com/users/2275474/pritesh-patel"}, "edited": false, "score": 0, "creation_date": 1508315287, "post_id": 46791385, "comment_id": 80558629, "body": "Anyone with any ideas?"}], "owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508248503, "creation_date": 1508246909, "last_edit_date": 1508248503, "question_id": 46791385, "link": "https://stackoverflow.com/questions/46791385/android-numberpicker-passing-android-widget-as-value", "title": "Android numberPicker passing android widget as value", "body": "<p>So, I have a calculator that so far is using a text view for me to type the inputs, but in order to avoid any errors or mistypes I want to change these to number pickers. So, I have been trying different ways and this is what I have. It is nearly working, but I don't know how to do the next step. One of the fields is time, so I need a format like mm:ss or hh:mm:ss, thing is i can't use doubles or anything like that on numberPickers so I tried this.</p>\n\n<p><a href=\"https://imgur.com/a/RuC8W\" rel=\"nofollow noreferrer\">Layout</a></p>\n\n<p>What am I doing wrong?</p>\n\n<p>Thanks</p>\n\n<p>Code:</p>\n\n<pre><code>  pickerMinutes.minValue = 0\n    pickerMinutes.maxValue = 60\n    pickerMinutes.wrapSelectorWheel = false\n    pickerMinutes.isEnabled = true\n\n    pickerSeconds.minValue = 0\n    pickerSeconds.maxValue = 60\n    pickerSeconds.wrapSelectorWheel = false\n    pickerSeconds.isEnabled = true\n\n\n    pickerMinutes.setOnValueChangedListener { picker, oldVal, newVal -&gt;\n       time.text = newVal.toString() + \":\"\n    }\n    pickerSeconds.setOnValueChangedListener { picker, oldVal, newVal -&gt;\n        time.text = newVal.toString() + pickerMinutes\n    }\n</code></pre>\n\n<p><strong>EDIT</strong></p>\n\n<p>I did this and it kind of works, but it uses the same value.\nDo you know how I can modify it?</p>\n\n<pre><code>pickerMinutes.setOnValueChangedListener { picker, oldVal, newVal -&gt;\n       time.text = newVal.toString() + \":\" + newVal\n}\n</code></pre>\n\n<p><a href=\"https://imgur.com/a/xRZlJ\" rel=\"nofollow noreferrer\">Picture</a></p>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 450, "user_id": 7904606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NfP_qsVkhsc/AAAAAAAAAAI/AAAAAAAAAIA/phbAgBBktNM/photo.jpg?sz=128", "display_name": "Alpesh Sorathiya", "link": "https://stackoverflow.com/users/7904606/alpesh-sorathiya"}, "edited": false, "score": 0, "creation_date": 1508245183, "post_id": 46790743, "comment_id": 80527832, "body": "Please share .xml file"}, {"owner": {"reputation": 8787, "user_id": 5282585, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/817632218354985/picture?type=large", "display_name": "nhoxbypass", "link": "https://stackoverflow.com/users/5282585/nhoxbypass"}, "edited": false, "score": 0, "creation_date": 1508245217, "post_id": 46790743, "comment_id": 80527861, "body": "Please provide your xml layout"}, {"owner": {"reputation": 450, "user_id": 7904606, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NfP_qsVkhsc/AAAAAAAAAAI/AAAAAAAAAIA/phbAgBBktNM/photo.jpg?sz=128", "display_name": "Alpesh Sorathiya", "link": "https://stackoverflow.com/users/7904606/alpesh-sorathiya"}, "edited": false, "score": 0, "creation_date": 1508245372, "post_id": 46790743, "comment_id": 80527969, "body": "First of all you have to remove &quot;+&quot; from  This  android:layout_above=&quot;@+id/linear_adview&quot;  To  android:layout_above=&quot;@id/linear_adview&quot;"}, {"owner": {"reputation": 923, "user_id": 4922328, "user_type": "registered", "accept_rate": 56, "profile_image": "https://lh4.googleusercontent.com/-7rwJd3ibCIU/AAAAAAAAAAI/AAAAAAAAAFc/6OzAE-xIMX4/photo.jpg?sz=128", "display_name": "Ishaan Kumar", "link": "https://stackoverflow.com/users/4922328/ishaan-kumar"}, "edited": false, "score": 0, "creation_date": 1508820183, "post_id": 46790743, "comment_id": 80751388, "body": "No useful information given. Provide full xml files."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 8790059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ace1780cb7cbd59bbed28f16e41a5291?s=128&d=identicon&r=PG&f=1", "display_name": "walid.daris", "link": "https://stackoverflow.com/users/8790059/walid-daris"}, "is_accepted": false, "score": 0, "last_activity_date": 1508316801, "creation_date": 1508316801, "answer_id": 46806244, "question_id": 46790743, "link": "https://stackoverflow.com/questions/46790743/not-a-sibling-in-the-same-relativelayout/46806244#46806244", "title": "not a sibling in the same RelativeLayout?", "body": "<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:ads=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/rl_content_root\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:background=\"@drawable/background\"&gt;\n &lt;LinearLayout`enter code here`\n        android:id=\"@+id/linear_adview\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:orientation=\"vertical\"&gt;\n        &lt;com.google.android.gms.ads.AdView\n            android:id=\"@+id/ad_view_editimg\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            ads:adSize=\"BANNER\"\n\n &lt;RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_above=\"@+id/sticker_recycler_view\"\n            android:layout_below=\"@id/linear_adview\"&gt;\n\n            &lt;FrameLayout\n                android:id=\"@+id/sticker_framelayout\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:layout_below=\"@id/linear_adview\"&gt;\n\n\n                &lt;ImageView\n                    android:id=\"@+id/pic_edit_imageview\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n                    android:padding=\"5dp\"\n                    android:scaleType=\"centerCrop\"\n                    android:src=\"@drawable/background\"\n\n                    /&gt;\n\n                &lt;include\n                    layout=\"@layout/text_layout\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\" /&gt;\n\n            &lt;/FrameLayout&gt;\n\n\n        &lt;/RelativeLayout&gt;\n    &lt;/LinearLayout&gt;\n    &lt;android.support.v7.widget.RecyclerView\n            android:id=\"@+id/sticker_recycler_view\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:padding=\"5dp\"\n            android:visibility=\"visible\"\n            android:layout_above=\"@+id/linearLayout\" /&gt;\n\n    &lt;LinearLayout\n        android:id=\"@+id/linearLayout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"50dp\"\n        android:layout_alignParentBottom=\"true\"\n        android:background=\"@color/colorPrimary\"\n        android:orientation=\"horizontal\"&gt;\n\n        &lt;TextView\n            android:id=\"@+id/smoke_tv\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_gravity=\"center_vertical\"\n            android:layout_weight=\"1\"\n            android:clickable=\"true\"\n            android:background=\"@color/black\"\n            android:gravity=\"center\"\n            android:text=\"@string/smoke\"\n            android:textColor=\"@color/white\"\n            android:textSize=\"18sp\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/text_tv\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_gravity=\"center_vertical\"\n            android:layout_weight=\"1\"\n            android:clickable=\"true\"\n            android:gravity=\"center\"\n            android:text=\"@string/text\"\n            android:textColor=\"@color/white\"\n            android:textSize=\"18sp\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/share_tv\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_gravity=\"center_vertical\"\n            android:layout_weight=\"1\"\n            android:gravity=\"center\"\n            android:clickable=\"true\"\n            android:text=\"@string/share\"\n            android:textColor=\"@color/white\"\n            android:textSize=\"18sp\" /&gt;\n    &lt;/LinearLayout&gt;\n&lt;/RelativeLayout&gt;`\n`\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 671, "user_id": 2600197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YH6aS.jpg?s=128&g=1", "display_name": "\u0141ukasz Kobyli\u0144ski", "link": "https://stackoverflow.com/users/2600197/%c5%81ukasz-kobyli%c5%84ski"}, "is_accepted": false, "score": 0, "last_activity_date": 1508793233, "creation_date": 1508793233, "answer_id": 46898652, "question_id": 46790743, "link": "https://stackoverflow.com/questions/46790743/not-a-sibling-in-the-same-relativelayout/46898652#46898652", "title": "not a sibling in the same RelativeLayout?", "body": "<p>FrameLayout with <code>android:id=\"@+id/sticker_framelayout\"</code> isn't a direct sibling of LinearLayout with <code>android:id=\"@+id/linear_adview\"</code> and that's why you can't use <code>android:layout_below=\"@id/linear_adview\"</code> in it. Actually you can merge RelativeLayout and FrameLayout into one view:</p>\n\n<pre><code>&lt;RelativeLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:layout_above=\"@+id/sticker_recycler_view\"\n        android:layout_below=\"@id/linear_adview\"&gt;\n\n        &lt;FrameLayout\n            android:id=\"@+id/sticker_framelayout\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_below=\"@id/linear_adview\"&gt;\n\n(...)\n\n        &lt;/FrameLayout&gt;\n</code></pre>\n\n<p></p>\n\n<p>to</p>\n\n<pre><code>&lt;FrameLayout\n            android:id=\"@+id/sticker_framelayout\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_above=\"@+id/sticker_recycler_view\"\n            android:layout_below=\"@id/linear_adview\"&gt;\n\n(...)\n\n&lt;/FrameLayout&gt;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 8790059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ace1780cb7cbd59bbed28f16e41a5291?s=128&d=identicon&r=PG&f=1", "display_name": "walid.daris", "link": "https://stackoverflow.com/users/8790059/walid-daris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2614, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1508793233, "creation_date": 1508245055, "last_edit_date": 1508254115, "question_id": 46790743, "link": "https://stackoverflow.com/questions/46790743/not-a-sibling-in-the-same-relativelayout", "title": "not a sibling in the same RelativeLayout?", "body": "<p>Hello I am starting with Android developing. I am just modifying with Android Studio an open source example. </p>\n\n<p>I have only modified string.xml and some .png files. In the Android simulator it works perfect but when I try to generate the signed Apk file I receive two errors with similar description. </p>\n\n<p>This is one of them (the line is marking with *):</p>\n\n<blockquote>\n  <p>Error:(33) Error: @id/linear_adview is not a sibling in the same\n  RelativeLayout [Not Sibling]</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2641, "user_id": 7073808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/--ImTRkYRdz0/AAAAAAAAAAI/AAAAAAAAABk/LksPtBHMaB8/photo.jpg?sz=128", "display_name": "UltimateDevil", "link": "https://stackoverflow.com/users/7073808/ultimatedevil"}, "edited": false, "score": 2, "creation_date": 1508243293, "post_id": 46790099, "comment_id": 80526568, "body": "post your code what have you done so far"}], "answers": [{"tags": [], "owner": {"reputation": 10859, "user_id": 3710865, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/oROuW.jpg?s=128&g=1", "display_name": "sasikumar", "link": "https://stackoverflow.com/users/3710865/sasikumar"}, "is_accepted": true, "score": 5, "last_activity_date": 1508244332, "last_edit_date": 1508244332, "creation_date": 1508243987, "answer_id": 46790367, "question_id": 46790099, "link": "https://stackoverflow.com/questions/46790099/kotlin-clear-an-adapter/46790367#46790367", "title": "Kotlin clear an adapter", "body": "<p>If you want update <code>recyclerview</code>  after adding/removing data in your <code>adapter</code> use this code</p>\n\n<p>If you use <code>Arraylist</code> to store the data objects then just clear your <code>list</code> and call <code>notifyDataSetChanged</code>.</p>\n\n<pre><code>         dataList.clear()\n         recyclerView?.adapter?.notifyDataSetChanged()\n</code></pre>\n"}], "owner": {"reputation": 877, "user_id": 857429, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/132e09d6d68bad61580fdee8d9485b5b?s=128&d=identicon&r=PG&f=1", "display_name": "Caffeinatedwolf", "link": "https://stackoverflow.com/users/857429/caffeinatedwolf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3001, "favorite_count": 0, "accepted_answer_id": 46790367, "answer_count": 1, "score": -3, "last_activity_date": 1508244332, "creation_date": 1508243131, "question_id": 46790099, "link": "https://stackoverflow.com/questions/46790099/kotlin-clear-an-adapter", "title": "Kotlin clear an adapter", "body": "<p>What is the best way to clear an adapter in Kotlin?\nI was trying to clear a recyclerview and update the values. \nI am using LoaderManager and I am kind of stuck in this state.</p>\n"}, {"tags": ["android", "kotlin", "static-code-analysis"], "comments": [{"owner": {"reputation": 3190, "user_id": 1096905, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8cG8s.jpg?s=128&g=1", "display_name": "webo80", "link": "https://stackoverflow.com/users/1096905/webo80"}, "edited": false, "score": 0, "creation_date": 1508235825, "post_id": 46787845, "comment_id": 80521922, "body": "I think that Idea IDE Lint inspector is the way to go"}, {"owner": {"reputation": 2294, "user_id": 7358035, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/y7OJk.jpg?s=128&g=1", "display_name": "Amal p", "link": "https://stackoverflow.com/users/7358035/amal-p"}, "reply_to_user": {"reputation": 3190, "user_id": 1096905, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/8cG8s.jpg?s=128&g=1", "display_name": "webo80", "link": "https://stackoverflow.com/users/1096905/webo80"}, "edited": false, "score": 0, "creation_date": 1508387115, "post_id": 46787845, "comment_id": 80592956, "body": "This is a very helpful and a question in need,Please remove the hold."}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1525933123, "post_id": 46787845, "comment_id": 87551133, "body": "@Amalp check this <a href=\"https://medium.com/@danielvivek2006/code-styling-for-kotlin-fa7a8291c254\" rel=\"nofollow noreferrer\">medium.com/@danielvivek2006/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3103, "user_id": 3887813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5d60d4ba9be9d67243bef5ca7f0141?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/3887813/robin"}, "is_accepted": false, "score": 5, "last_activity_date": 1508238012, "creation_date": 1508238012, "answer_id": 46788544, "question_id": 46787845, "link": "https://stackoverflow.com/questions/46787845/static-analysis-tools-for-kotlin-programming-language/46788544#46788544", "title": "Static Analysis Tools For Kotlin Programming Language?", "body": "<p>IntelliJ does a great job (and I think I've heard it can be accessed via command line). Other than that, I know of Ktlint (<a href=\"https://github.com/shyiko/ktlint\" rel=\"noreferrer\">https://github.com/shyiko/ktlint</a>) and Detekt (<a href=\"https://github.com/arturbosch/detekt\" rel=\"noreferrer\">https://github.com/arturbosch/detekt</a>). I've worked with neither of them, but they seem sensible alternatives. At least Detekt also has Sonarqube integration.</p>\n"}], "owner": {"reputation": 2294, "user_id": 7358035, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/y7OJk.jpg?s=128&g=1", "display_name": "Amal p", "link": "https://stackoverflow.com/users/7358035/amal-p"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2034, "favorite_count": 0, "closed_date": 1508323940, "answer_count": 1, "score": 2, "last_activity_date": 1508387064, "creation_date": 1508235634, "last_edit_date": 1508387064, "question_id": 46787845, "link": "https://stackoverflow.com/questions/46787845/static-analysis-tools-for-kotlin-programming-language", "closed_reason": "Not suitable for this site", "title": "Static Analysis Tools For Kotlin Programming Language?", "body": "<p><code>PMD,FindBugs,CheckStyle</code> etc are the most commonly used static code analysis tools for <code>java</code>.</p>\n\n<p>I think Android-Lint is the only trusted static analysis tool that exists and can only be used to analyse an android project.</p>\n\n<p>Sonarqube doesn't have a Kotlin plugin yet.I think they are planning to provide this later this year.(i found this information on the below link).</p>\n\n<p><a href=\"https://discuss.kotlinlang.org/t/sonarqube-support/3657\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/sonarqube-support/3657</a></p>\n\n<p>Please,Correct me if i'am wrong ?</p>\n"}, {"tags": ["java", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 11190, "user_id": 1388116, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/t4eGE.jpg?s=128&g=1", "display_name": "dumazy", "link": "https://stackoverflow.com/users/1388116/dumazy"}, "edited": false, "score": 0, "creation_date": 1508230719, "post_id": 46786262, "comment_id": 80518826, "body": "is it possible without referring the super class?"}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 11190, "user_id": 1388116, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/t4eGE.jpg?s=128&g=1", "display_name": "dumazy", "link": "https://stackoverflow.com/users/1388116/dumazy"}, "edited": false, "score": 1, "creation_date": 1508230812, "post_id": 46786262, "comment_id": 80518891, "body": "No, because <code>static</code> members can&#39;t be inherited. Inheritance only works on instances."}, {"owner": {"reputation": 11190, "user_id": 1388116, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/t4eGE.jpg?s=128&g=1", "display_name": "dumazy", "link": "https://stackoverflow.com/users/1388116/dumazy"}, "edited": false, "score": 0, "creation_date": 1508230952, "post_id": 46786262, "comment_id": 80518988, "body": "Hmm, too bad. With a Java subclass instead of kotlin, this would be possible"}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "reply_to_user": {"reputation": 11190, "user_id": 1388116, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/t4eGE.jpg?s=128&g=1", "display_name": "dumazy", "link": "https://stackoverflow.com/users/1388116/dumazy"}, "edited": false, "score": 0, "creation_date": 1508231137, "post_id": 46786262, "comment_id": 80519089, "body": "Yep, that&#39;s true."}, {"owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "edited": false, "score": 0, "creation_date": 1508231335, "post_id": 46786262, "comment_id": 80519230, "body": "Does not seem so. How?"}], "tags": [], "owner": {"reputation": 26106, "user_id": 485337, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/VAz9B.jpg?s=128&g=1", "display_name": "Adam Arold", "link": "https://stackoverflow.com/users/485337/adam-arold"}, "is_accepted": true, "score": 2, "last_activity_date": 1508230647, "creation_date": 1508230647, "answer_id": 46786262, "question_id": 46786236, "link": "https://stackoverflow.com/questions/46786236/access-static-field-from-java-superclass/46786262#46786262", "title": "Access static field from Java superclass", "body": "<p>Try</p>\n\n<pre><code>MyJavaClass.STATUS_SUPER\n</code></pre>\n\n<p>Since <code>STATUS_SUPER</code> is not a member of <code>MyKotlinClass</code> you won't be able to access it.</p>\n"}], "owner": {"reputation": 11190, "user_id": 1388116, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/t4eGE.jpg?s=128&g=1", "display_name": "dumazy", "link": "https://stackoverflow.com/users/1388116/dumazy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 643, "favorite_count": 0, "closed_date": 1508232303, "accepted_answer_id": 46786262, "answer_count": 1, "score": 1, "last_activity_date": 1508333268, "creation_date": 1508230571, "last_edit_date": 1508333268, "question_id": 46786236, "link": "https://stackoverflow.com/questions/46786236/access-static-field-from-java-superclass", "closed_reason": "Duplicate", "title": "Access static field from Java superclass", "body": "<p>I have a Kotlin class that extends a Java class.</p>\n\n<p><em>Kotlin</em></p>\n\n<pre><code>class MyKotlinClass: MyJavaClass() {\n\n    companion object {\n        const val STATUS_SUB = 1\n    }\n}\n</code></pre>\n\n<p><em>Java</em></p>\n\n<pre><code>public abstract class MyJavaClass {\n\n    public static final int STATUS_SUPER = 0\n\n}\n</code></pre>\n\n<p>How can I access the super class field through the kotlin subclass?</p>\n\n<p><em>Kotlin</em></p>\n\n<pre><code>when(status) {\n    MyKotlinClass.STATUS_SUPER -&gt; something()\n    MyKotlinClass.STATUS_SUB -&gt; somethingElse()\n}\n</code></pre>\n\n<p>Is this possible? It says \"unresolved reference: STATUS_SUPER\"\nWould it be possible without using <code>MyJavaClass.STATUS_SUPER</code>?</p>\n"}, {"tags": ["android", "kotlin", "graphql", "apollo"], "answers": [{"tags": [], "owner": {"reputation": 71, "user_id": 8788698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OwhNc.png?s=128&g=1", "display_name": "MarioR", "link": "https://stackoverflow.com/users/8788698/marior"}, "is_accepted": true, "score": 1, "last_activity_date": 1508489429, "creation_date": 1508489429, "answer_id": 46845535, "question_id": 46785570, "link": "https://stackoverflow.com/questions/46785570/access-generated-apollo-classes-from-sub-package-kotlin/46845535#46845535", "title": "Access generated Apollo classes from sub package - Kotlin", "body": "<p>I solved it : use the NameOfQuery.builder() function, and not NameOfQuery.Builder() (b vs B)</p>\n"}], "owner": {"reputation": 71, "user_id": 8788698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OwhNc.png?s=128&g=1", "display_name": "MarioR", "link": "https://stackoverflow.com/users/8788698/marior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "accepted_answer_id": 46845535, "answer_count": 1, "score": 0, "last_activity_date": 1508489429, "creation_date": 1508228262, "question_id": 46785570, "link": "https://stackoverflow.com/questions/46785570/access-generated-apollo-classes-from-sub-package-kotlin", "title": "Access generated Apollo classes from sub package - Kotlin", "body": "<p>I have some problem in my GraphQL/Apollo use with Kotlin/Android.\nI can't access Apollo generated query class from a subpackage.</p>\n\n<p>e.g : I have a generated Apollo class \"GetUserAccountQuery\" in packagename.networklibrary , I can access it from other classes in packagename.networklibrary, but if I try to access it from packagename.networklibrary.gqlCalls, the \"Builder\" function in GetUserAccountQuery.Builder() is red highlighted and the error message is : \" Cannot access '': it is public/<em>package</em>/ in 'Builder' \"\nI can't build my project.</p>\n\n<p>Thank you for helping me if you have a tip :)</p>\n"}, {"tags": ["android", "kotlin", "android-room", "android-architecture-components"], "comments": [{"owner": {"reputation": 3624, "user_id": 820861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IZdzk.jpg?s=128&g=1", "display_name": "Pravin Divraniya", "link": "https://stackoverflow.com/users/820861/pravin-divraniya"}, "edited": false, "score": 0, "creation_date": 1509007104, "post_id": 46785534, "comment_id": 80846192, "body": "Please post your &#39;ExampleDao&#39; class."}, {"owner": {"reputation": 2398, "user_id": 2429928, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Krw2n.jpg?s=128&g=1", "display_name": "Franco", "link": "https://stackoverflow.com/users/2429928/franco"}, "reply_to_user": {"reputation": 3624, "user_id": 820861, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IZdzk.jpg?s=128&g=1", "display_name": "Pravin Divraniya", "link": "https://stackoverflow.com/users/820861/pravin-divraniya"}, "edited": false, "score": 0, "creation_date": 1509066989, "post_id": 46785534, "comment_id": 80879713, "body": "The DAO seems irrelevant for the issue I&#39;m having @PravinDivraniya, but I have added it now anyway in case it helps you figure out the problem. Cheers."}, {"owner": {"reputation": 11104, "user_id": 372076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7bbad743c8abd73e0399dcd310d978?s=128&d=identicon&r=PG", "display_name": "Pedro Loureiro", "link": "https://stackoverflow.com/users/372076/pedro-loureiro"}, "edited": false, "score": 1, "creation_date": 1510340070, "post_id": 46785534, "comment_id": 81409273, "body": "I came across the same problem. Given that apparently, this is not possible, I created a feature request: <a href=\"https://issuetracker.google.com/issues/69164099\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/69164099</a>"}, {"owner": {"reputation": 978, "user_id": 7980846, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206911451767783/picture?type=large", "display_name": "Tomek Pola\u0144ski", "link": "https://stackoverflow.com/users/7980846/tomek-pola%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1515142638, "post_id": 46785534, "comment_id": 83195549, "body": "@Franco, I&#39;ve updated my solution to compile with Room"}, {"owner": {"reputation": 2398, "user_id": 2429928, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Krw2n.jpg?s=128&g=1", "display_name": "Franco", "link": "https://stackoverflow.com/users/2429928/franco"}, "reply_to_user": {"reputation": 978, "user_id": 7980846, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206911451767783/picture?type=large", "display_name": "Tomek Pola\u0144ski", "link": "https://stackoverflow.com/users/7980846/tomek-pola%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1515394185, "post_id": 46785534, "comment_id": 83268978, "body": "Thanks @TomekPola\u0144ski, I will try to test it when I have time and I&#39;ll accept your answer if I can verify that it works as expected."}], "answers": [{"comments": [{"owner": {"reputation": 2398, "user_id": 2429928, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Krw2n.jpg?s=128&g=1", "display_name": "Franco", "link": "https://stackoverflow.com/users/2429928/franco"}, "edited": false, "score": 0, "creation_date": 1508832863, "post_id": 46904853, "comment_id": 80757442, "body": "I was already aware of this workaround, but I don&#39;t find it acceptable as it&#39;s not scalable. Thanks anyway."}], "tags": [], "owner": {"reputation": 346, "user_id": 7397474, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3j8ii.jpg?s=128&g=1", "display_name": "Nguy\u1ec5n Gia L\u1ec5", "link": "https://stackoverflow.com/users/7397474/nguy%e1%bb%85n-gia-l%e1%bb%85"}, "is_accepted": false, "score": -1, "last_activity_date": 1508830940, "creation_date": 1508830940, "answer_id": 46904853, "question_id": 46785534, "link": "https://stackoverflow.com/questions/46785534/android-room-error-typeconverter-not-recognised-for-list-of-enums/46904853#46904853", "title": "Android Room error: TypeConverter not recognised for List of Enums", "body": "<p>We have no way to store and get a List enum without array list. Room does not support it. But if you want to avoid using array list, you can create an object ListDayOfWeek with List is an attribute. I tried it and it's ok. If you need code, please reply here. I will post it.</p>\n"}, {"comments": [{"owner": {"reputation": 2398, "user_id": 2429928, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Krw2n.jpg?s=128&g=1", "display_name": "Franco", "link": "https://stackoverflow.com/users/2429928/franco"}, "edited": false, "score": 0, "creation_date": 1508833075, "post_id": 46905039, "comment_id": 80757565, "body": "I think you didn&#39;t read my code above, I&#39;m already trying to save it as a list of ints, not enums, so your answer doesn&#39;t address my issue."}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 2398, "user_id": 2429928, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Krw2n.jpg?s=128&g=1", "display_name": "Franco", "link": "https://stackoverflow.com/users/2429928/franco"}, "edited": false, "score": 0, "creation_date": 1508833163, "post_id": 46905039, "comment_id": 80757610, "body": "Thats Why i wrote a Working example. You  dont  Need a list if  you solve  it bitwise. Try  to   understand my Code. Thats the  Proper Way  storing week days."}, {"owner": {"reputation": 2398, "user_id": 2429928, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Krw2n.jpg?s=128&g=1", "display_name": "Franco", "link": "https://stackoverflow.com/users/2429928/franco"}, "edited": false, "score": 0, "creation_date": 1508834221, "post_id": 46905039, "comment_id": 80758256, "body": "I think I was not clear in my previous comment, I&#39;m already saving this as a String, which is composed of the list of ints concatenated, not trying to save the list itself as you seem to think, it&#39;s all in my code above.   I read your code but I&#39;m not sure why solving it bitwise &quot;is the proper way of storing weekdays&quot;, I don&#39;t think it&#39;s &quot;the proper&quot; way, it is just another workaround different to the one I already used. In the end, what I want is not another workaround, but to understand why this doesn&#39;t work with <code>List</code> and if there is a way to use it without having to add extra code."}], "tags": [], "owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "is_accepted": false, "score": -2, "last_activity_date": 1508831598, "creation_date": 1508831598, "answer_id": 46905039, "question_id": 46785534, "link": "https://stackoverflow.com/questions/46785534/android-room-error-typeconverter-not-recognised-for-list-of-enums/46905039#46905039", "title": "Android Room error: TypeConverter not recognised for List of Enums", "body": "<p>You should not store it like that into your database. Better build something like that and store it as int:</p>\n\n<pre><code>enum class DaysOfWeek(var bitValue: Int) {\n    Monday(64),\n    Tuesday(32),\n    Wednesday(16),\n    Thursday(8),\n    Friday(4),\n    Saturday(2),\n    Sunday(1);\n}\n</code></pre>\n\n<p>Finally your utility functions to convert from/to enum.</p>\n\n<pre><code>fun daysToBitValue(days: EnumSet&lt;DaysOfWeek&gt;): Int {\n        var daysBitValue = 0\n        for (`val` in days) daysBitValue += `val`.bitValue\n        return daysBitValue\n}\n\n\nprivate fun fromBitValues(origBitMask: Int): EnumSet&lt;DaysOfWeek&gt; {\n\n        val ret_val = EnumSet.noneOf(DaysOfWeek::class.java)\n\n        var bitMask = origBitMask\n\n        for (`val` in DaysOfWeek.values()) {\n            if (`val`.bitValue and bitMask == `val`.bitValue) {\n                bitMask = bitMask and `val`.bitValue.inv()\n                ret_val.add(`val`)\n            }\n        }\n\n        if (bitMask != 0) {\n            throw IllegalArgumentException(String.format(Locale.getDefault(), \"Bit mask value 0x%X(%d) has unsupported bits 0x%X.  Extracted values: %s\", origBitMask, origBitMask, bitMask, ret_val))\n        }\n\n        return ret_val\n  }\n</code></pre>\n\n<p>Now you can either store an int and get the weekdays later:</p>\n\n<pre><code>@Entity\ndata class Example(@PrimaryKey val id: String?,\n                   val name: String,\n                   var days: Int = 0) \n</code></pre>\n\n<p>or you use the enum and write a proper typeconverter for that.</p>\n\n<pre><code>@Entity\ndata class Example(@PrimaryKey val id: String?,\n                   val name: String,\n                   var days: EnumSet&lt;DaysOfWeek&gt;?) \n\n\nclass DayOfWeekConverter {\n\n    @TypeConverter\n    fun daysOfWeekToString(daysOfWeek: EnumSet&lt;DayOfWeek&gt;?) =\n        daysOfWeek?.let{ YourUtilities.daysToBitValue(it) }\n\n    @TypeConverter\n    fun intToDaysOfWeek(daysOfWeek: Int?) = \n        daysOfWeek?.let {  YourUtilities.fromBitValues(it) } \n}\n</code></pre>\n\n<p>You can loop through the enum and get all days by using</p>\n\n<pre><code>for (aDaysOfWeekEnumSet in daysOfWeekEnumSet) \n             info{ \"day = ${aDaysOfWeekEnumSet.name\"} \n</code></pre>\n\n<p>Code is untested because im not on my Computer, but this should show the concept which works better then storing an enum (which is just an alias to a predefined value!)</p>\n"}, {"comments": [{"owner": {"reputation": 2398, "user_id": 2429928, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Krw2n.jpg?s=128&g=1", "display_name": "Franco", "link": "https://stackoverflow.com/users/2429928/franco"}, "edited": false, "score": 0, "creation_date": 1515100280, "post_id": 48097562, "comment_id": 83182697, "body": "I seem to remember that I tried it and it didn&#39;t work, but I&#39;m not sure as it was months ago. If I have time I might try it but I&#39;m quite busy atm so I won&#39;t be able to do it for a while. Did you try this yourself?"}, {"owner": {"reputation": 2398, "user_id": 2429928, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Krw2n.jpg?s=128&g=1", "display_name": "Franco", "link": "https://stackoverflow.com/users/2429928/franco"}, "edited": false, "score": 0, "creation_date": 1515637714, "post_id": 48097562, "comment_id": 83379140, "body": "I finally got some time to try this and indeed it worked with <code>MutableList</code> :), thanks @ TomekPola\u0144ski!   Thinking about it I guess it makes sense, as <code>List</code>s in Kotlin are immutable and hence you cannot add values to them, which is maybe what Room is trying to do in the background."}, {"owner": {"reputation": 371, "user_id": 4473883, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab3e76df8e24d1502bdbec25c662e1c5?s=128&d=identicon&r=PG&f=1", "display_name": "The Fox", "link": "https://stackoverflow.com/users/4473883/the-fox"}, "edited": false, "score": 1, "creation_date": 1571264159, "post_id": 48097562, "comment_id": 103186955, "body": "Just wanted to add that you have to add the @Converters annotation to the ROOM DATABASE as well. I didn&#39;t, and it kept on giving me errors. See also <a href=\"https://adrianhall.github.io/android/2018/08/08/converting-types-with-room-and-kotlin/\" rel=\"nofollow noreferrer\">adrianhall.github.io/android/2018/08/08/&hellip;</a>."}], "tags": [], "owner": {"reputation": 978, "user_id": 7980846, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206911451767783/picture?type=large", "display_name": "Tomek Pola\u0144ski", "link": "https://stackoverflow.com/users/7980846/tomek-pola%c5%84ski"}, "is_accepted": true, "score": 18, "last_activity_date": 1515142604, "last_edit_date": 1515142604, "creation_date": 1515076769, "answer_id": 48097562, "question_id": 46785534, "link": "https://stackoverflow.com/questions/46785534/android-room-error-typeconverter-not-recognised-for-list-of-enums/48097562#48097562", "title": "Android Room error: TypeConverter not recognised for List of Enums", "body": "<p>For some reason, Room does not like Kotlin <code>List</code>, but when I've replaced <code>List</code> with <code>MutableList</code> it started to work:</p>\n\n<pre><code>@Entity\ndata class Example(@PrimaryKey val id: String,\n                   val name: String,\n                   var days: MutableList&lt;DayOfWeek&gt;?)\n\nclass DayOfWeekConverter {\n    companion object {\n\n        @TypeConverter\n        @JvmStatic\n        fun daysOfWeekToString(daysOfWeek: MutableList&lt;DayOfWeek&gt;?): String? =\n                daysOfWeek?.map { it.value }?.joinToString(separator = SEPARATOR)\n\n        @TypeConverter\n        @JvmStatic\n        fun stringToDaysOfWeek(daysOfWeek: String?): MutableList&lt;DayOfWeek&gt;? =\n                daysOfWeek?.split(SEPARATOR)?.map { DayOfWeek.of(it.toInt()) }?.toMutableList()\n    }\n}\n</code></pre>\n\n<p>This is not perfect solution, but hope you can investigate more with that.</p>\n\n<p>Also you need to change <code>@PrimaryKey</code> to be not nullable</p>\n"}, {"tags": [], "owner": {"reputation": 1652, "user_id": 3663635, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ioKp.jpg?s=128&g=1", "display_name": "jaychang0917", "link": "https://stackoverflow.com/users/3663635/jaychang0917"}, "is_accepted": false, "score": 3, "last_activity_date": 1534521921, "creation_date": 1534521921, "answer_id": 51899242, "question_id": 46785534, "link": "https://stackoverflow.com/questions/46785534/android-room-error-typeconverter-not-recognised-for-list-of-enums/51899242#51899242", "title": "Android Room error: TypeConverter not recognised for List of Enums", "body": "<p>The full signature of <code>List</code> in Kotlin is <code>List&lt;out E&gt;</code>(<code>List&lt;? extend E&gt;</code> in Java), it doesn't make any sense to convert such generic type. In other words, Room doesn't know if the input is a <code>DayOfWeek</code> or its subclass.</p>\n\n<p>As for <code>ArrayList</code> and <code>MutableList</code>, their full signature is <code>ArrayList&lt;E&gt;</code> and <code>MutableList&lt;E&gt;</code> correspondingly, the input type is fixed and hence Room knows how to convert it.</p>\n"}], "owner": {"reputation": 2398, "user_id": 2429928, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Krw2n.jpg?s=128&g=1", "display_name": "Franco", "link": "https://stackoverflow.com/users/2429928/franco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8115, "favorite_count": 7, "accepted_answer_id": 48097562, "answer_count": 4, "score": 14, "last_activity_date": 1534521921, "creation_date": 1508228138, "last_edit_date": 1509066945, "question_id": 46785534, "link": "https://stackoverflow.com/questions/46785534/android-room-error-typeconverter-not-recognised-for-list-of-enums", "title": "Android Room error: TypeConverter not recognised for List of Enums", "body": "<p>The Room library is not recognizing a <code>TypeConverter</code> I created for a <code>List</code> of enums. However, when I change this to an <code>ArrayList</code> of enums it works fine. Anyone has any idea why and what can I do to make this work with <code>List</code>? (Using List in Kotlin is easier and I really don't wanna be converting back and forwards to <code>ArrayList</code> just because of this).</p>\n\n<p>Here is my code:</p>\n\n<p>My model:</p>\n\n<pre><code>@Entity\ndata class Example(@PrimaryKey val id: String?,\n                   val name: String,\n                   var days: List&lt;DayOfWeek&gt;?)\n</code></pre>\n\n<p><code>DayOfWeek</code> is an enum:</p>\n\n<pre><code>enum class DayOfWeek {\n\n    MONDAY,\n    TUESDAY,\n    WEDNESDAY,\n    THURSDAY,\n    FRIDAY,\n    SATURDAY,\n    SUNDAY;\n\n    val value: Int\n        get() = ordinal + 1\n\n\n    companion object {\n\n        private val ENUMS = DayOfWeek.values()\n\n        fun of(dayOfWeek: Int): DayOfWeek {\n            if (dayOfWeek &lt; 1 || dayOfWeek &gt; 7) {\n                throw RuntimeException(\"Invalid value for DayOfWeek: \" + dayOfWeek)\n            }\n\n            return ENUMS[dayOfWeek - 1]\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>My <code>TypeConverter</code>:</p>\n\n<pre><code>private const val SEPARATOR = \",\"\n\nclass DayOfWeekConverter {\n\n    @TypeConverter\n    fun daysOfWeekToString(daysOfWeek: List&lt;DayOfWeek&gt;?): String? {\n        return daysOfWeek?.map { it.value }?.joinToString(separator = SEPARATOR)\n    }\n\n    @TypeConverter\n    fun stringToDaysOfWeek(daysOfWeek: String?): List&lt;DayOfWeek&gt;? {\n        return daysOfWeek?.split(SEPARATOR)?.map { DayOfWeek.of(it.toInt()) }\n    }\n\n}\n</code></pre>\n\n<p>And I set it in my DB class like this:</p>\n\n<pre><code>@Database(entities = arrayOf(Example::class), version = 1)\n@TypeConverters(DayOfWeekConverter::class)\nabstract class AppDatabase : RoomDatabase() {\n\n    abstract fun exampleDao(): ExampleDao\n\n}\n</code></pre>\n\n<p>My DAO looks like this:</p>\n\n<pre><code>@Dao\ninterface ExampleDao {\n\n    @Query(\"SELECT * FROM example\")\n    fun getAll(): LiveData&lt;List&lt;Example&gt;&gt;\n\n    @Insert(onConflict = REPLACE)\n    fun save(examples: List&lt;Example&gt;)\n\n}\n</code></pre>\n\n<p>The error I get with this code is:</p>\n\n<pre><code>error: Cannot figure out how to save this field into database. You can consider adding a type converter for it.\ne: \n\ne:     private java.util.List&lt;? extends com.example.DayOfWeek&gt; days;\n</code></pre>\n\n<p>Like I said above, if I change the <code>days</code> property to <code>ArrayList&lt;DayOfWeek&gt;</code> (and make the changes to <code>ArrayList</code> in <code>DayOfWeekConverter</code>) then everything works fine. If anyone can help me figure this out and tell me how I can use <code>List</code> here it'd be of great help, it is driving me crazy :/.</p>\n"}, {"tags": ["kotlin", "url-routing", "ktor"], "answers": [{"tags": [], "owner": {"reputation": 2143, "user_id": 5335131, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0bc05182c722756b8acaf61729c808a?s=128&d=identicon&r=PG&f=1", "display_name": "avolkmann", "link": "https://stackoverflow.com/users/5335131/avolkmann"}, "is_accepted": true, "score": 3, "last_activity_date": 1515417359, "creation_date": 1515417359, "answer_id": 48151101, "question_id": 46783858, "link": "https://stackoverflow.com/questions/46783858/whats-the-correct-way-to-nest-ktor-route-matchers-and-handlers-for-a-typical-re/48151101#48151101", "title": "What&#39;s the correct way to nest Ktor route matchers and handlers for a typical REST implementation?", "body": "<p>The reason is that you haven't specified any handler for <code>GET /nomenclature/articles/categories</code>.</p>\n\n<p>You set up a route for <code>/articles</code>, and then for <code>/categories</code>, but there is no handler inside. \nThe only thing inside is <code>get(\"{categoryId?}\")</code>, which doesn't match, since there is no tailcard.</p>\n\n<p>The reason for getting <code>/nomenclature/articles/{articleId}</code> is, that it first tries to match <code>/articles</code>, but since it cannot match <code>/categories</code> (there is no handler), it goes on looking and finally finds the last route, which contains a wildcard parameter and matches. </p>\n\n<p>If you want to set up a handler for that specific route, here is how:</p>\n\n<pre><code>route(\"articles\") {\n    route(\"categories\") {\n        get(\"{categoryId?}\") {\n            ...\n        }\n        get {\n            ... your code ...\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1679, "user_id": 267874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/007a9c64b82a001443ff463ef326366b?s=128&d=identicon&r=PG", "display_name": "Paul-Sebastian Manole", "link": "https://stackoverflow.com/users/267874/paul-sebastian-manole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1812, "favorite_count": 1, "accepted_answer_id": 48151101, "answer_count": 1, "score": 3, "last_activity_date": 1515417359, "creation_date": 1508222013, "last_edit_date": 1508278147, "question_id": 46783858, "link": "https://stackoverflow.com/questions/46783858/whats-the-correct-way-to-nest-ktor-route-matchers-and-handlers-for-a-typical-re", "title": "What&#39;s the correct way to nest Ktor route matchers and handlers for a typical REST implementation?", "body": "<p>I'm having a bit of trouble understanding the proper way to use Ktor's DSL for <a href=\"https://github.com/Kotlin/ktor-wiki/blob/master/Feature-Routing.md\" rel=\"nofollow noreferrer\">request routing</a>.\nThe problem is that when I test my API and try to <code>GET /nomenclature/articles/categories</code> which should return a list of all article categories, I get instead <code>Invalid article specified</code> which a message I return for the <code>/nomenclature/articles/{articleId}</code> route when the <code>articleId</code> parameter is invalid.</p>\n\n<p>Here's my code: \n</p>\n\n<pre><code>route(\"/nomenclature\") {\n    method(HttpMethod.Get) {\n        handle { call.respondText(\"The resource you accessed is not a valid REST resource, but a parent node. Children nodes include articles, categories, subcategories and so on.\") }\n    }\n    route(\"articles\") {\n        route(\"categories\") {\n            get(\"{categoryId?}\") {\n                val categoryIdParam = call.parameters[\"categoryId\"]\n                if (categoryIdParam != null) {\n                    val categoryId = categoryIdParam.toIntOrNull()\n                    if (categoryId != null) {\n                        val category = articlesDAO.findCategoryById(categoryId)\n                        if (category != null) call.respond(category)\n                        else call.respondText(\"Category not found\", status = HttpStatusCode.NotFound)\n                    } else call.respondText(\"Invalid category ID specified\", status = HttpStatusCode.BadRequest)\n                } else {\n                    val categories = articlesDAO.getCategories()\n                    if (categories != null) call.respond(categories)\n                    else call.respondText(\"No categories found\", status = HttpStatusCode.NotFound)\n                }\n            }\n        }\n        route(\"subcategories\") {\n            get(\"{subcategoryId?}\") {\n                val subcategoryIdParam = call.parameters[\"subcategoryId\"]\n                if (subcategoryIdParam != null) {\n                    val subcategoryId = subcategoryIdParam.toIntOrNull()\n                    if (subcategoryId != null) {\n                        val subcategory = articlesDAO.findSubcategoryById(subcategoryId)\n                        if (subcategory != null) call.respond(subcategory)\n                        else call.respondText(\"Subcategory not found\", status = HttpStatusCode.NotFound)\n                    } else call.respondText(\"Invalid subcategory ID specified\", status = HttpStatusCode.BadRequest)\n                } else {\n                    val subcategories = articlesDAO.getCategories()\n                    if (subcategories != null) call.respond(subcategories)\n                    else call.respondText(\"No subcategories found\", status = HttpStatusCode.NotFound)\n                }\n            }\n        }\n        get(\"types\") {\n            val articleTypes = articlesDAO.getArticleTypes()\n            if (articleTypes != null) call.respond(articleTypes)\n            else call.respondText(\"No article types found\", status = HttpStatusCode.NotFound)\n        }\n        get(\"wholePackagings\") {\n            val wholePackagings = articlesDAO.getWholePackagings()\n            if (wholePackagings != null) call.respond(wholePackagings)\n            else call.respondText(\"No whole packagings found\", status = HttpStatusCode.NotFound)\n        }\n        get(\"fractionsPackagings\") {\n            val fractionsPackagings = articlesDAO.getFractionPackagings()\n            if (fractionsPackagings != null) call.respond(fractionsPackagings)\n            else call.respondText(\"No fractions packagings found\", status = HttpStatusCode.NotFound)\n        }\n        get(\"{articleId?}\") {\n            val articleIdParam = call.parameters[\"articleId\"]\n            if (articleIdParam != null) {\n                val articleId = articleIdParam.toIntOrNull()\n                if (articleId != null) {\n                    val article = articlesDAO.findArticleById(articleId)\n                    if (article != null) call.respond(article) else call.respondText(\"No article found\", status = HttpStatusCode.NotFound)\n                } else call.respondText(\"Invalid article ID specified\", status = HttpStatusCode.BadRequest)\n            } else {\n                val articles = articlesDAO.getArticles()\n                if (articles != null) call.respond(articles) else call.respondText(\"No articles found\", status = HttpStatusCode.NotFound)\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>It would be really great if someone could help me by providing a basic but somewhat comprehensive example of how to use all Ktor route matchers and handlers, including in a nested resource manner.</p>\n\n<p><strong>EDIT:</strong> I've rewritten the routing using a different approach but I would still like to know why my previous version didn't work as expected.\nHere's my second approach that seems to work as expected (I've tested it):</p>\n\n<pre><code>routing {\n    route(\"/v1\") {\n        route(\"stock\") {\n            get {\n                val stock = stockDAO.getAllStock()\n                if (stock != null) call.respond(stock) else call.respondText(\"No stock found\", status = HttpStatusCode.NotFound)\n            }\n            get(\"{locationId}\") {\n                val locationIdParam = call.parameters[\"locationId\"]\n                if (locationIdParam != null) {\n                    val locationId = locationIdParam.toIntOrNull()\n                    if (locationId != null) {\n                        val stock = stockDAO.getStockByLocationId(locationId)\n                        if (stock != null) call.respond(stock) else call.respondText(\"No stock found\", status = HttpStatusCode.NotFound)\n                    } else call.respondText(\"ERROR: Invalid location ID specified.\", status = HttpStatusCode.BadRequest)\n                }\n            }\n        }\n\n        route(\"nomenclature\") {\n            get {\n                call.respondText(\"The resource you accessed is not a valid REST resource, but a parent node. Children nodes include articles, categories, subcategories and so on.\")\n            }\n\n            route(\"articles\") {\n                get {\n                    val articles = articlesDAO.getArticles()\n                    if (articles != null) call.respond(articles) else call.respondText(\"No articles found\", status = HttpStatusCode.NotFound)\n                }\n                get(\"{articleId}\") {\n                    val articleIdParam = call.parameters[\"articleId\"]\n                    if (articleIdParam != null) {\n                        val articleId = articleIdParam.toIntOrNull()\n                        if (articleId != null) {\n                            val article = articlesDAO.findArticleById(articleId)\n                            if (article != null) call.respond(article) else call.respondText(\"No article found\", status = HttpStatusCode.NotFound)\n                        } else call.respondText(\"Invalid article ID specified\", status = HttpStatusCode.BadRequest)\n                    }\n                }\n\n                route(\"categories\") {\n                    get {\n                        val categories = articlesDAO.getCategories()\n                        if (categories != null) call.respond(categories)\n                        else call.respondText(\"No categories found\", status = HttpStatusCode.NotFound)\n                    }\n                    get(\"{categoryId}\") {\n                        val categoryIdParam = call.parameters[\"categoryId\"]\n                        if (categoryIdParam != null) {\n                            val categoryId = categoryIdParam.toIntOrNull()\n                            if (categoryId != null) {\n                                val category = articlesDAO.findCategoryById(categoryId)\n                                if (category != null) call.respond(category)\n                                else call.respondText(\"Category not found\", status = HttpStatusCode.NotFound)\n                            } else call.respondText(\"Invalid category ID specified\", status = HttpStatusCode.BadRequest)\n                        }\n                    }\n                }\n\n                route(\"subcategories\") {\n                    get {\n                        val subcategories = articlesDAO.getSubcategories()\n                        if (subcategories != null) call.respond(subcategories)\n                        else call.respondText(\"No subcategories found\", status = HttpStatusCode.NotFound)\n                    }\n                    get(\"{subcategoryId}\") {\n                        val subcategoryIdParam = call.parameters[\"subcategoryId\"]\n                        if (subcategoryIdParam != null) {\n                            val subcategoryId = subcategoryIdParam.toIntOrNull()\n                            if (subcategoryId != null) {\n                                val subcategory = articlesDAO.findSubcategoryById(subcategoryId)\n                                if (subcategory != null) call.respond(subcategory)\n                                else call.respondText(\"Subcategory not found\", status = HttpStatusCode.NotFound)\n                            } else call.respondText(\"Invalid subcategory ID specified\", status = HttpStatusCode.BadRequest)\n                        }\n                    }\n                }\n\n                get(\"types\") {\n                    val articleTypes = articlesDAO.getArticleTypes()\n                    if (articleTypes != null) call.respond(articleTypes)\n                    else call.respondText(\"No article types found\", status = HttpStatusCode.NotFound)\n                }\n                get(\"wholePackagings\") {\n                    val wholePackagings = articlesDAO.getWholePackagings()\n                    if (wholePackagings != null) call.respond(wholePackagings)\n                    else call.respondText(\"No whole packagings found\", status = HttpStatusCode.NotFound)\n                }\n                get(\"fractionsPackagings\") {\n                    val fractionsPackagings = articlesDAO.getFractionPackagings()\n                    if (fractionsPackagings != null) call.respond(fractionsPackagings)\n                    else call.respondText(\"No fractions packagings found\", status = HttpStatusCode.NotFound)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-databinding"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1508219340, "post_id": 46783218, "comment_id": 80512857, "body": "what&#39;s the content of <code>gradle console</code>?"}, {"owner": {"reputation": 33, "user_id": 8756164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af2482e715ec827cf3df7a071de6bfc8?s=128&d=identicon&r=PG&f=1", "display_name": "W.J", "link": "https://stackoverflow.com/users/8756164/w-j"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1508219485, "post_id": 46783218, "comment_id": 80512908, "body": "Nothing, just Error:Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;. &gt; Compilation failed; see the compiler error output for details."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1508219516, "post_id": 46783218, "comment_id": 80512919, "body": "no, its not <code>gradle console</code>, see <a href=\"https://developer.android.com/studio/run/index.html\" rel=\"nofollow noreferrer\">developer.android.com/studio/run/index.html</a> ^F <code>console</code>"}, {"owner": {"reputation": 33, "user_id": 8756164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af2482e715ec827cf3df7a071de6bfc8?s=128&d=identicon&r=PG&f=1", "display_name": "W.J", "link": "https://stackoverflow.com/users/8756164/w-j"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1508220025, "post_id": 46783218, "comment_id": 80513115, "body": "here it is ... <code>\u9519\u8bef: \u65e0\u6cd5\u8bbf\u95eeNonExistentClass   \u627e\u4e0d\u5230error.NonExistentClass\u7684\u7c7b\u6587\u4ef6   \u6709\u5173\u8be6\u7ec6\u4fe1\u606f, \u8bf7\u53c2\u9605\u4ee5\u4e0b\u5806\u6808\u8ddf\u8e2a\u3002   com.sun.tools.javac.code.Symbol$CompletionFailure: \u627e\u4e0d\u5230error.NonExistentClass\u7684\u7c7b\u6587\u4ef6 1 \u4e2a\u9519\u8bef  :app:compileDebugJavaWithJavac FAILED  FAILURE: Build failed with an exception.  * What went wrong: Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;. &gt; Compilation failed; see the compiler error output for details.  * Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output.  * Get more help at https:&#47;&#47;help.gradle.org</code>"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1508220154, "post_id": 46783218, "comment_id": 80513151, "body": "and whats that chinise letters in it? sorry i cannot read mandarin"}, {"owner": {"reputation": 33, "user_id": 8756164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af2482e715ec827cf3df7a071de6bfc8?s=128&d=identicon&r=PG&f=1", "display_name": "W.J", "link": "https://stackoverflow.com/users/8756164/w-j"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1508220343, "post_id": 46783218, "comment_id": 80513228, "body": "unable to access NonExistentClass.  Can&#39;t find error.NonExistentClass class file."}, {"owner": {"reputation": 33, "user_id": 8756164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af2482e715ec827cf3df7a071de6bfc8?s=128&d=identicon&r=PG&f=1", "display_name": "W.J", "link": "https://stackoverflow.com/users/8756164/w-j"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1508224890, "post_id": 46783218, "comment_id": 80515409, "body": "I konw what is going wrong, I missed the apply plugin &#39;kotlin-kapt&#39; in app.gradle, Anyway, thanks for your help!"}], "answers": [{"tags": [], "owner": {"reputation": 283, "user_id": 2106298, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/e818cc2bef5d28426a7136d65aca8b98?s=128&d=identicon&r=PG", "display_name": "b1n0m", "link": "https://stackoverflow.com/users/2106298/b1n0m"}, "is_accepted": false, "score": 0, "last_activity_date": 1531597048, "creation_date": 1531597048, "answer_id": 51342776, "question_id": 46783218, "link": "https://stackoverflow.com/questions/46783218/databinding-cant-be-used-in-baseactivity-where-i-code-in-kotlin/51342776#51342776", "title": "DataBinding can&#39;t be used in BaseActivity where I code in Kotlin", "body": "<p>I had the same issue. If you use Dagger2, try not to use generics like <code>&lt;B: ViewDataBinding&gt;</code> as it can conflict with it. See my answer <a href=\"https://stackoverflow.com/a/51342740/2106298\">here</a>.</p>\n"}], "owner": {"reputation": 33, "user_id": 8756164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af2482e715ec827cf3df7a071de6bfc8?s=128&d=identicon&r=PG&f=1", "display_name": "W.J", "link": "https://stackoverflow.com/users/8756164/w-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 560, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1531597048, "creation_date": 1508219067, "question_id": 46783218, "link": "https://stackoverflow.com/questions/46783218/databinding-cant-be-used-in-baseactivity-where-i-code-in-kotlin", "title": "DataBinding can&#39;t be used in BaseActivity where I code in Kotlin", "body": "<p>I am trying to use DataBinding in my Android project where I code in Kotlin. First of all, I'm use DataBindingUtil.setContentView(layoutResId) method, it can run. Then I try to encapsulate DataBinding to BaseActivity, gradle build failed, I don't know why.\nHere is my code.</p>\n\n<h2>BaseActivity.kt</h2>\n\n<pre><code>class BaseActivity&lt;B : ViewDataBinding&gt;\n    : AppCompatActivity(){\n\n    protected lateinit var mContext: AppCompatActivity\n\n    protected lateinit var mBinding: B\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        // Dagger2 \u6ce8\u5165\n        AndroidInjection.inject(this)\n        super.onCreate(savedInstanceState)\n\n        // \u4fdd\u5b58\u5f53\u524d Context \u5bf9\u8c61\n        mContext = this\n\n        // \u6dfb\u52a0\u5230 AppManager \u5e94\u7528\u7ba1\u7406\n        AppManager.INSTANCE.addActivity(this)\n\n    }\n\n    override fun onDestroy() {\n\n        // \u4ece\u5e94\u7528\u7ba1\u7406\u79fb\u9664\u5f53\u524d Activity \u5bf9\u8c61\n        AppManager.INSTANCE.removeActivity(this)\n\n        super.onDestroy()\n    }\n\n    override fun setContentView(layoutResID: Int) {\n\n        // \u52a0\u8f7d\u5e03\u5c40\uff0c\u521d\u59cb\u5316 DataBinding\n        mBinding = DataBindingUtil.inflate(\n                LayoutInflater.from(mContext),\n                layoutResID, null, false\n        )\n\n        super.setContentView(mBinding.root)\n    }\n\n}\n</code></pre>\n\n<h2>MainActivity.kt</h2>\n\n<pre><code>class MainActivity : BaseActivity&lt;ActivityMainBinding&gt;() {    \n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n}\n</code></pre>\n\n<h2>Messages Gradle Build</h2>\n\n<pre><code>Error:Execution failed for task ':app:compileDebugJavaWithJavac'.\n&gt; Compilation failed; see the compiler error output for details.\n</code></pre>\n\n<h2>idea.log</h2>\n\n<pre><code>2017-10-17 13:10:33,992 [se-915-b01]   INFO - ild.invoker.GradleBuildInvoker - About to execute Gradle tasks: [:SwipToLoad:generateDebugSources, :SwipToLoad:generateDebugAndroidTestSources, :SwipToLoad:mockableAndroidJar, :SwipToLoad:compileDebugAndroidTestSources, :SwipToLoad:compileDebugUnitTestSources, :SwipToLoad:compileDebugSources, :app:generateDebugSources, :app:generateDebugAndroidTestSources, :app:mockableAndroidJar, :app:compileDebugAndroidTestSources, :app:compileDebugUnitTestSources, :app:compileDebugSources] \n2017-10-17 13:10:33,998 [thread 138]   INFO - s.plugins.gradle.GradleManager - Instructing gradle to use java from C:/Program Files/Java/jdk1.8.0_101 \n2017-10-17 13:10:34,086 [thread 138]   INFO - oject.common.GradleInitScripts - init script file sync.local.repo contents \"allprojects {\\n  buildscript {\\n    repositories {\\n      maven { url 'D:\\\\\\\\android-studio3.0\\\\\\\\gradle\\\\\\\\m2repository'}\\n    }\\n  }\\n  repositories {\\n      maven { url 'D:\\\\\\\\android-studio3.0\\\\\\\\gradle\\\\\\\\m2repository'}\\n  }\\n}\\n\" \n2017-10-17 13:10:34,087 [thread 138]   INFO - ild.invoker.GradleBuildInvoker - Build command line options: [--configure-on-demand, -Pandroid.injected.invoked.from.ide=true, --init-script, C:\\Users\\Administrator\\AppData\\Local\\Temp\\sync.local.repo43033.gradle] \n2017-10-17 13:10:34,087 [thread 138]   INFO - xecution.GradleExecutionHelper - Passing command-line args to Gradle Tooling API: --configure-on-demand -Pandroid.injected.invoked.from.ide=true --init-script C:\\Users\\Administrator\\AppData\\Local\\Temp\\sync.local.repo43033.gradle \n2017-10-17 13:10:35,800 [se-915-b01]   INFO - ild.invoker.GradleBuildInvoker - Gradle build finished with 1 error(s) in 1s 783ms \n2017-10-17 13:10:35,835 [se-915-b01]   INFO - pl.ProjectRootManagerComponent - project roots have changed \n2017-10-17 13:10:35,860 [thread 138]   INFO - .diagnostic.PerformanceWatcher - Pushing properties took 1ms; general responsiveness: ok; EDT responsiveness: ok \n2017-10-17 13:10:35,910 [thread 138]   INFO - .diagnostic.PerformanceWatcher - Indexable file iteration took 50ms; general responsiveness: ok; EDT responsiveness: ok \n2017-10-17 13:10:36,405 [J pool 2/4]   WARN - hes.resolve.KotlinCacheService - Could not find correct module information.\nReason: Analyzing element of type class com.android.tools.idea.databinding.LightGeneratedComponentClass with no containing file\nText:\nnull \n2017-10-17 13:10:36,405 [J pool 2/4]   WARN - .resolve.jvm.JvmAnalyzerFacade - Java referenced null from LibraryInfo(libraryName=library-1.3.1)\nReferenced class was: JavaClassImpl: DATA binding component class\n\n2017-10-17 13:10:36,405 [J pool 2/4]   WARN - hes.resolve.KotlinCacheService - Could not find correct module information.\nReason: Analyzing element of type class com.android.tools.idea.databinding.LightGeneratedComponentClass with no containing file\nText:\nnull \n2017-10-17 13:10:36,405 [J pool 2/4]   WARN - .resolve.jvm.JvmAnalyzerFacade - Java referenced null from LibraryInfo(libraryName=library-1.3.1)\nReferenced class was: JavaClassImpl: DATA binding component class\n</code></pre>\n\n<p>I don't know how to solve this problem, all my code is in <a href=\"https://github.com/Lorry0822/KotlinTest\" rel=\"nofollow noreferrer\">KotlinTest</a>, thanks for your help!</p>\n"}, {"tags": ["android", "static", "kotlin"], "comments": [{"owner": {"reputation": 2192, "user_id": 1934317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9b1922893de6094def1ca29690123b9?s=128&d=identicon&r=PG&f=1", "display_name": "awd", "link": "https://stackoverflow.com/users/1934317/awd"}, "edited": false, "score": 2, "creation_date": 1508216524, "post_id": 46782775, "comment_id": 80511856, "body": "you did not even try googling it."}, {"owner": {"reputation": 13, "user_id": 7641211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b9f4bf0d232643f55a70cf758f12b3?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijeet Soni", "link": "https://stackoverflow.com/users/7641211/abhijeet-soni"}, "reply_to_user": {"reputation": 2192, "user_id": 1934317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9b1922893de6094def1ca29690123b9?s=128&d=identicon&r=PG&f=1", "display_name": "awd", "link": "https://stackoverflow.com/users/1934317/awd"}, "edited": false, "score": 0, "creation_date": 1508216795, "post_id": 46782775, "comment_id": 80511939, "body": "@awd Yes, I did, but, the official doc is hard to understood by a 14 year old student :&#39;-("}, {"owner": {"reputation": 2210, "user_id": 3364266, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/04d1edaaf3fafd9a515da1b800d4e95e?s=128&d=identicon&r=PG&f=1", "display_name": "Samir Bhatt", "link": "https://stackoverflow.com/users/3364266/samir-bhatt"}, "edited": false, "score": 0, "creation_date": 1508218385, "post_id": 46782775, "comment_id": 80512468, "body": "Try with @JvmField . That works as a static"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 7641211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b9f4bf0d232643f55a70cf758f12b3?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijeet Soni", "link": "https://stackoverflow.com/users/7641211/abhijeet-soni"}, "edited": false, "score": 0, "creation_date": 1508216846, "post_id": 46782794, "comment_id": 80511953, "body": "That&#39;s not the exact thing, I just want any field to be static"}], "tags": [], "owner": {"reputation": 4621, "user_id": 3156226, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/OvMfk.jpg?s=128&g=1", "display_name": "josedlujan", "link": "https://stackoverflow.com/users/3156226/josedlujan"}, "is_accepted": false, "score": 1, "last_activity_date": 1508216524, "creation_date": 1508216524, "answer_id": 46782794, "question_id": 46782775, "link": "https://stackoverflow.com/questions/46782775/static-fields-in-kotlin/46782794#46782794", "title": "Static fields in kotlin", "body": "<p>This is a simple activity:</p>\n\n<pre><code>import android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        val TAG:String = \"MainActivity\" \n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 7641211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/50b9f4bf0d232643f55a70cf758f12b3?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijeet Soni", "link": "https://stackoverflow.com/users/7641211/abhijeet-soni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 0, "closed_date": 1508217187, "answer_count": 1, "score": -2, "last_activity_date": 1508216618, "creation_date": 1508216422, "question_id": 46782775, "link": "https://stackoverflow.com/questions/46782775/static-fields-in-kotlin", "closed_reason": "Duplicate", "title": "Static fields in kotlin", "body": "<p>I'm new to Kotlin and trying to convert my android activities to Kotlin, but I've no Idea how to declare a field as static.\nI want to convert the following code...</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nstatic String TAG = \"MainActicity\";\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n   ....\n\n   }\n\n....\n}\n</code></pre>\n\n<p>Can anybody just help?\nThanks in advance!</p>\n"}, {"tags": ["android", "kotlin", "java-io"], "comments": [{"owner": {"reputation": 10749, "user_id": 2108972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a04d0ccf9b761c9373ec9905ca7e92?s=128&d=identicon&r=PG", "display_name": "greenapps", "link": "https://stackoverflow.com/users/2108972/greenapps"}, "edited": false, "score": 0, "creation_date": 1508228245, "post_id": 46782129, "comment_id": 80517320, "body": "Why are you converting that string to byte array?"}], "answers": [{"tags": [], "owner": {"reputation": 462, "user_id": 4582676, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kQ_JnGCo6bg/AAAAAAAAAAI/AAAAAAAAABo/bQhDxH-A0JY/photo.jpg?sz=128", "display_name": "Eduard Kornev", "link": "https://stackoverflow.com/users/4582676/eduard-kornev"}, "is_accepted": false, "score": 0, "last_activity_date": 1508225342, "creation_date": 1508225342, "answer_id": 46784717, "question_id": 46782129, "link": "https://stackoverflow.com/questions/46782129/android-write-string-to-file-takes-too-long/46784717#46784717", "title": "Android write string to file takes too long", "body": "<p>Try to use FileWriter.</p>\n\n<pre><code>val sdcard = ctx.getExternalStorageDirectory()\nval file = File(\"example.txt\", sdcard)\nval fileWriter = FileWriter(file)\nfileWriter.write(data)\nfileWriter.flush()\nfileWriter.close()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 813369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345b84e665454f7db4d37720c3d62bf2?s=128&d=identicon&r=PG", "display_name": "Eric Li", "link": "https://stackoverflow.com/users/813369/eric-li"}, "is_accepted": false, "score": 0, "last_activity_date": 1508293029, "creation_date": 1508293029, "answer_id": 46801845, "question_id": 46782129, "link": "https://stackoverflow.com/questions/46782129/android-write-string-to-file-takes-too-long/46801845#46801845", "title": "Android write string to file takes too long", "body": "<p>Sorry that the long waiting time is not due to file I/O but due to Regex find with a very long string before writing file.</p>\n"}], "owner": {"reputation": 103, "user_id": 813369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/345b84e665454f7db4d37720c3d62bf2?s=128&d=identicon&r=PG", "display_name": "Eric Li", "link": "https://stackoverflow.com/users/813369/eric-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 517, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1508293029, "creation_date": 1508211867, "question_id": 46782129, "link": "https://stackoverflow.com/questions/46782129/android-write-string-to-file-takes-too-long", "title": "Android write string to file takes too long", "body": "<p>I use the following function to write a long string (byte array size is 871504) to the internal storage of an Android device, but it takes around one and a half minute to complete. However, for another string (byte array size is 782979), it just takes a few seconds to complete.</p>\n\n<pre><code>fun saveTempSrc(data: String, ctx: Context) {\n    try {\n        val dataByteArray = data.toByteArray()\n        Timber.d(\"saveTempSrc: byte array size = %d\", dataByteArray.size)\n        val inputStream = BufferedInputStream(ByteArrayInputStream(dataByteArray))\n        val outputStream = BufferedOutputStream(ctx.openFileOutput(\"example.txt\", Context.MODE_PRIVATE))\n        inputStream.copyTo(outputStream)\n        inputStream.close()\n        outputStream.flush()\n        outputStream.close()\n    } catch (e: IOException) {\n        Timber.e(e, \"Write Temp file failed\")\n    }\n}\n</code></pre>\n\n<p>Is this function suitable for writing long string to file? I run this function in RxJava's I/O scheduler.</p>\n"}, {"tags": ["javafx", "kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 129471, "user_id": 1155209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=128&d=identicon&r=PG", "display_name": "jewelsea", "link": "https://stackoverflow.com/users/1155209/jewelsea"}, "edited": false, "score": 0, "creation_date": 1508276585, "post_id": 46781514, "comment_id": 80546251, "body": "Regarding the bootstrap related portion of your question, see: <a href=\"https://stackoverflow.com/questions/21268062/bootstrap-with-javafx\">Bootstrap with JavaFX</a>."}, {"owner": {"reputation": 693, "user_id": 425993, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1267cef00f1c7f190e1912bc50d1e6e5?s=128&d=identicon&r=PG", "display_name": "Ace.Yin", "link": "https://stackoverflow.com/users/425993/ace-yin"}, "reply_to_user": {"reputation": 129471, "user_id": 1155209, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5192e7cbcf2f72a847d6fb0d1552f049?s=128&d=identicon&r=PG", "display_name": "jewelsea", "link": "https://stackoverflow.com/users/1155209/jewelsea"}, "edited": false, "score": 0, "creation_date": 1508288114, "post_id": 46781514, "comment_id": 80549314, "body": "@jewelsea thanks for your suggestion, i will try later:)"}], "answers": [{"tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 5, "last_activity_date": 1508235963, "creation_date": 1508235963, "answer_id": 46787943, "question_id": 46781514, "link": "https://stackoverflow.com/questions/46781514/what-is-the-best-practice-for-creating-customized-ui-component-in-tornadofx/46787943#46787943", "title": "What is the best practice for creating customized UI component in tornadofx?", "body": "<p>There really isn't anything TornadoFX specific to this process, but I have two recommendations:</p>\n\n<p>Don't create a custom control unless you really need to. To add custom functionality to a Button or a TextField, install a custom skin instead.</p>\n\n<p>If you really need a custom control, consider extending the Control class. For more layout centric components you might extend a layout instead, or simply Pane.</p>\n\n<p>To learn more about custom components, consider reading this brilliant book:</p>\n\n<p><a href=\"https://rads.stackoverflow.com/amzn/click/com/B00L3TF02K\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">https://www.amazon.com/Mastering-JavaFX-Controls-Oracle-Press-ebook/dp/B00L3TF02K</a></p>\n\n<p>Also check out these videos:</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=L9xtOhdSx6k\" rel=\"noreferrer\">https://www.youtube.com/watch?v=L9xtOhdSx6k</a></p>\n\n<p><a href=\"https://www.youtube.com/watch?v=7PPcM0E5yQw\" rel=\"noreferrer\">https://www.youtube.com/watch?v=7PPcM0E5yQw</a></p>\n"}], "owner": {"reputation": 693, "user_id": 425993, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1267cef00f1c7f190e1912bc50d1e6e5?s=128&d=identicon&r=PG", "display_name": "Ace.Yin", "link": "https://stackoverflow.com/users/425993/ace-yin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 698, "favorite_count": 0, "accepted_answer_id": 46787943, "answer_count": 1, "score": 3, "last_activity_date": 1508235963, "creation_date": 1508206517, "question_id": 46781514, "link": "https://stackoverflow.com/questions/46781514/what-is-the-best-practice-for-creating-customized-ui-component-in-tornadofx", "title": "What is the best practice for creating customized UI component in tornadofx?", "body": "<p>i am new to JavaFX and tornadofx, and now i need to create some highly customized UI components(including submit button, text input field, password input field, datetime picker, dropdown selector etc) shown as the picture bellow:</p>\n\n<p><a href=\"https://i.stack.imgur.com/GAXYA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GAXYA.png\" alt=\"enter image description here\"></a></p>\n\n<p>so, what is the best practice for creating these components?\nmy question includes:</p>\n\n<ol>\n<li>which super class my customized UI component should extend?</li>\n<li>is there any existing example in tornadofx?</li>\n<li>can i use bootstrap in my case? and if yes, how can i use bootstrap?</li>\n</ol>\n\n<p>thanks\n(this question also posted here: <a href=\"https://github.com/edvin/tornadofx/issues/498\" rel=\"nofollow noreferrer\">https://github.com/edvin/tornadofx/issues/498</a>)</p>\n"}, {"tags": ["android", "bluetooth", "broadcastreceiver", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2143, "user_id": 2949834, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/LikXg.png?s=128&g=1", "display_name": "kimkevin", "link": "https://stackoverflow.com/users/2949834/kimkevin"}, "is_accepted": true, "score": 1, "last_activity_date": 1508226518, "creation_date": 1508226518, "answer_id": 46785090, "question_id": 46781262, "link": "https://stackoverflow.com/questions/46781262/how-to-set-color-of-recyclerview-viewholder-in-broadcastreceiver-onreceive/46785090#46785090", "title": "how to set color of RecyclerView.ViewHolder in BroadcastReceiver.onReceive?", "body": "<p>Add <code>boolean</code> or <code>int</code> to <code>BluetoothDevice</code> model for managing view.</p>\n\n<p>For example, </p>\n\n<p>BluetoothDevice: added <code>isOn</code> state. (Sorry, it's Java)</p>\n\n<pre><code>class BluetoothDevice {\n    boolean isOn;\n\n    public boolean isOn() {\n        return isOn;\n    }\n\n    public void setOn(boolean isOn) {\n        this.isOn = isOn;\n    }\n}\n</code></pre>\n\n<p>DeviceHolder: changed color of view</p>\n\n<pre><code>fun bindItems(btDevice: BluetoothDevice) {\n   stateView.textColor = btDevice.isOn() ? Color.RED : Color.GREEN\n}\n</code></pre>\n\n<p>DeviceAdapter: added <code>getItems</code></p>\n\n<pre><code>fun getItems() {\n   return mDevices\n}\n</code></pre>\n\n<p>If you want to change <code>isOn</code> state, change model and notify it.</p>\n\n<pre><code>adapter.getItems().get(i).setOn(true);\nadapter.notifyDataSetChanged();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "is_accepted": false, "score": 0, "last_activity_date": 1508308483, "creation_date": 1508308483, "answer_id": 46804084, "question_id": 46781262, "link": "https://stackoverflow.com/questions/46781262/how-to-set-color-of-recyclerview-viewholder-in-broadcastreceiver-onreceive/46804084#46804084", "title": "how to set color of RecyclerView.ViewHolder in BroadcastReceiver.onReceive?", "body": "<p>I like the above answer as well but the way that i got this done was to pass the BroadcastReceiver into the DeviceAdapter :</p>\n\n<pre><code>class DeviceAdapter(val mContext:Context, val mReceiver:MainBTStatusReceiver) : RecyclerView.Adapter&lt;DeviceAdapter.DeviceHolder&gt;()\n</code></pre>\n\n<p>and then made a ViewHolder a member of the BroadcastReceiver and a setter function for the ViewHolder named setFocus. before calling any functions from the BluetoothUtils class i called the setFocus function and then the broadcast receiver modifies the color of the view that focus is currently set too. I do have some concern that this might not be  reliable as the most accurate method to modify the correct ViewHolder every time. if you see any problem with this please comment to let me know.</p>\n\n<p>my updated BroadcastReceiver:</p>\n\n<pre><code>class MainBTStatusReceiver(): BroadcastReceiver() {\n\nval TAG = \"MainBTStatusReceiver\"\nvar holder: DeviceAdapter.DeviceHolder? = null\n\nfun setFocus(holder: DeviceAdapter.DeviceHolder) {\n    this.holder = holder\n}\n\noverride fun onReceive(context: Context?, intent: Intent) {\n    val action = intent.action\n    when (action) {\n        BluetoothDevice.ACTION_BOND_STATE_CHANGED -&gt; {\n            val device = intent.getParcelableExtra&lt;BluetoothDevice&gt;(BluetoothDevice.EXTRA_DEVICE)\n            when (device.bondState) {\n                BluetoothDevice.BOND_BONDED -&gt; {\n                    holder!!.itemView.setBackgroundColor(Color.CYAN)\n                    Log.d(TAG, \"BONDED\")\n                }\n                BluetoothDevice.BOND_BONDING -&gt; {\n                    Log.d(TAG, \"BONDING\")\n                }\n                BluetoothDevice.BOND_NONE -&gt; {\n                    holder!!.itemView.setBackgroundColor(Color.TRANSPARENT)\n                    Log.d(TAG, \"NONE\")\n                }\n            }\n        }\n    }\n}\n}\n</code></pre>\n\n<p>and the two statements in my when expression that call setFocus():</p>\n\n<pre><code>              R.id.pairOp -&gt; {\n                        Log.d(TAG, \"pairOp reached\")\n                        mReceiver.setFocus(this@DeviceHolder)\n                        BluetoothUtils.startPair(BluetoothAdapter.getDefaultAdapter(), btDevice)\n                        Log.d(TAG, \"start pair complete\")\n                        dialog!!.dismiss()\n                    }\n                    R.id.unPairOp -&gt; {\n                        Log.d(TAG, \"unPairOp reached\")\n                        mReceiver.setFocus(this@DeviceHolder)\n                        BluetoothUtils.unPair(btDevice)\n                        Log.d(TAG, \"unpair complete\")\n                        dialog!!.dismiss()\n                    }\n</code></pre>\n"}], "owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 504, "favorite_count": 0, "accepted_answer_id": 46785090, "answer_count": 2, "score": 1, "last_activity_date": 1508308483, "creation_date": 1508204442, "question_id": 46781262, "link": "https://stackoverflow.com/questions/46781262/how-to-set-color-of-recyclerview-viewholder-in-broadcastreceiver-onreceive", "title": "how to set color of RecyclerView.ViewHolder in BroadcastReceiver.onReceive?", "body": "<p>i am creating an app that scans for and pairs to Bluetooth devices. i am displaying the devices in a RecyclerView and indicating bond state by coloring the ViewHolder for that device. my problem is that the color of the ViewHolder is only changed after scanning for devices again and i want it to immediately update the color on pair or unpair. i am attempting to do this through use of a broadcast receiver but i am unable to get a reference to the correct ViewHolder. how can i achieve this? i am including my code below for my RecyclerView.Adapter and my BluetoothUtils file containing the broadcast receiver. thanks in advance. my adapter:</p>\n\n<pre><code>class DeviceAdapter(val mContext : Context) : RecyclerView.Adapter&lt;DeviceAdapter.DeviceHolder&gt;() {\n\ncompanion object {\n    val TAG = \"Device Adapter\"\n\n    fun DeviceHolder.setColor(bonded: Boolean):Unit{\n        val background = if (bonded)Color.CYAN else Color.TRANSPARENT\n        this.itemView.setBackgroundColor(background)\n    }\n\n}\n\nval mDevices = ArrayList&lt;BluetoothDevice&gt;()\n\nfun updateItems(list: ArrayList&lt;BluetoothDevice&gt;) {\n    mDevices.clear()\n    mDevices.addAll(list)\n    Log.d(TAG, \"updating items : $mDevices\")\n    notifyDataSetChanged()\n}\n\nfun ViewGroup.inflate(@LayoutRes res: Int, attachToRoot: Boolean = false): View {\n    return LayoutInflater.from(mContext).inflate(res, this, attachToRoot)\n}\n\noverride fun onBindViewHolder(holder: DeviceHolder, position: Int) {\n    Log.d(TAG, \"onBindViewHolder called!\")\n    holder.bindItems(mDevices.get(position))\n    if (mDevices.get(position).bondState==BluetoothDevice.BOND_BONDED) {\n        holder.itemView.setBackgroundColor(CYAN)\n    } else {\n        holder.itemView.setBackgroundColor(Color.TRANSPARENT)\n    }\n}\n\noverride fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): DeviceAdapter.DeviceHolder {\n    Log.d(TAG, \"onCreateViewHolder called!\")\n    val v = parent!!.inflate(R.layout.device_item, false)\n    return DeviceHolder(v)\n}\n\noverride fun getItemCount(): Int {\n    return mDevices.size\n}\n\ninner class DeviceHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n    val nameView = itemView.findViewById(R.id.nameView) as TextView\n    val addrView = itemView.findViewById(R.id.addressView) as TextView\n    var dialog: AlertDialog? = null;\n\n    fun bindItems(btDevice: BluetoothDevice) {\n        Log.d(TAG, \"holder created!\")\n        nameView.text = btDevice.name ?: \"Unknown\"\n        addrView.text = btDevice.address\n        itemView.setOnClickListener {\n            dialog = AlertDialog.Builder(it.context)\n                    .setTitle(\"Options\")\n                    .setView(R.layout.options_dialog_layout)\n                    .setNegativeButton(\"Cancel\", DialogInterface.OnClickListener { _, which -&gt; })\n                    .create()\n            dialog!!.show()\n            val ops = listOf(\n                    dialog!!.findViewById(R.id.statOp),\n                    dialog!!.findViewById(R.id.pairOp),\n                    dialog!!.findViewById(R.id.connectOp),\n                    dialog!!.findViewById(R.id.sendOp),\n                    dialog!!.findViewById(R.id.unPairOp)\n            )\n            ops.forEach { it.setOnClickListener {\n                Toast.makeText(it.context, it.id.toString(), Toast.LENGTH_SHORT).show()\n                when(it.id){\n                    R.id.statOp -&gt; {}\n                    R.id.connectOp -&gt; {\n                        Log.d(TAG, \"connectOp reached\")\n                        BluetoothReflection.connectDevice(btDevice)\n                        dialog!!.dismiss()\n                    }// BluetoothUtils.connect(BluetoothAdapter.getDefaultAdapter(), btDevice)\n                    R.id.pairOp -&gt; {\n                        Log.d(TAG, \"pairOp reached\")\n                        BluetoothUtils.startPair(BluetoothAdapter.getDefaultAdapter(), btDevice)\n                        if (btDevice.bondState==BluetoothDevice.BOND_BONDED){\n                            this@DeviceHolder.itemView.setBackgroundColor(CYAN) //doesn't work\n                        }\n                        Log.d(TAG, \"start pair complete\")\n                        dialog!!.dismiss()\n                    }//\n                    R.id.unPairOp -&gt; {//no executable code found here\n                        Log.d(TAG, \"unPairOp reached\")\n                        BluetoothUtils.unPair(btDevice)\n                        if (btDevice.bondState==BluetoothDevice.BOND_NONE){\n                            this@DeviceHolder.itemView.setBackgroundColor(Color.TRANSPARENT) //doesn't work\n                        }\n                        Log.d(TAG, \"unpair complete\")\n                        dialog!!.dismiss()\n                    }\n                    R.id.sendOp -&gt; {}\n                }\n            } }\n        }\n\n    }\n}\n}\n</code></pre>\n\n<p>and my BluetoothUtils:</p>\n\n<pre><code>class BluetoothUtils {\n\ncompanion object {\n\n    var listener: ListenThread? = null\n\n    val _UUID = UUID.fromString(\"a0e7e4c7-0e4e-43b7-9d18-659192512164\")\n    val TAG = \"BluetoothUtils\"\n\n    val receiver = MainBTStatusReceiver()\n\n    fun initPairingServer(adapter: BluetoothAdapter){\n        var mmServerSocket: BluetoothServerSocket?\n        try {\n            var tmp = adapter.listenUsingRfcommWithServiceRecord(TAG, _UUID)\n            mmServerSocket = tmp\n            listener = ListenThread(mmServerSocket)\n            listener!!.start()\n        }catch (ioe: IOException){\n            Log.e(TAG, \"Error initializing Bluetooth\", ioe)\n        }\n    }\n\n    fun cancelListener() = listener!!.cancel()\n\n    fun connect(adapter: BluetoothAdapter, device: BluetoothDevice){\n        var btSocket: BluetoothSocket?\n\n        try {\n            adapter.cancelDiscovery()\n            btSocket = device.createRfcommSocketToServiceRecord(_UUID)\n            PairingThread(btSocket).start()\n        }catch (ioe: IOException){\n            Log.e(TAG, \"error connecting\", ioe)\n        }\n    }\n\n    fun startPair(adapter: BluetoothAdapter, device: BluetoothDevice): Unit{\n        adapter.cancelDiscovery()\n        Log.d(TAG, device.bondState.toString())\n        device.createBond()\n    }\n\n    fun unPair(device: BluetoothDevice): Any = device::class.java.getMethod(\"removeBond\").invoke(device)\n\n}\n}\n\nclass ListenThread(val btServSock: BluetoothServerSocket) : Thread(){\n\ncompanion object {\n    val TAG = \"ListenThread\"\n}\n\nvar btSocket: BluetoothSocket? = null\n\noverride fun run() {\n    super.run()\n    while (true){\n        try {\n            Log.d(TAG, \"listening . . . \")\n            btSocket = btServSock.accept()\n        }catch (ioe: IOException){\n            Log.e(TAG, \"Error\", ioe) // SHOULD HANDLE FAILURE OF LISTENER INSTANTIATION\n            break\n        }\n\n        //manage connection here\n        //with either BluetoothUtils function\n        //or BluetoothSocket extension\n    }\n}\n\nfun cancel() = btServSock.close()\n}\n\nclass PairingThread(val btSocket: BluetoothSocket) : Thread(){\n\ncompanion object {\n    val TAG = \"Pairing Thread\"\n}\n\noverride fun run() {\n    super.run()\n\n    try {\n        Log.d(TAG, \"attempting to connect\")\n        btSocket.connect()\n    }catch (ioe: IOException){\n        Log.e(TAG, \"error connecting\", ioe)\n        btSocket.close()\n    }\n}\n}\n\n\nclass MainBTStatusReceiver(): BroadcastReceiver(){\n\nval TAG = \"MainBTStatusReceiver\"\nvar mAdapter: DeviceAdapter? = null\n\nfun setAdapter(adapter: DeviceAdapter){\n    mAdapter = adapter\n}\n\noverride fun onReceive(context: Context?, intent: Intent) {\n    val action = intent.action\n    val devExtra = intent.getParcelableExtra&lt;BluetoothDevice&gt;(BluetoothDevice.EXTRA_DEVICE) as BluetoothDevice\n    when(action){\n        BluetoothDevice.ACTION_BOND_STATE_CHANGED -&gt; {\n            val device = intent.getParcelableExtra&lt;BluetoothDevice&gt;(BluetoothDevice.EXTRA_DEVICE)\n            when(device.bondState){\n                BluetoothDevice.BOND_BONDED -&gt; {\n\n                    Log.d(TAG, \"BONDED\")\n                }\n                BluetoothDevice.BOND_BONDING -&gt; {Log.d(TAG, \"BONDING\")}\n                BluetoothDevice.BOND_NONE -&gt; {Log.d(TAG, \"NONE\")}\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1193, "user_id": 72793, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/98872a9cd89241c90267965d180e9b4d?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/72793/alan"}, "edited": false, "score": 0, "creation_date": 1508189229, "post_id": 46779248, "comment_id": 80504577, "body": "Fixed, thanks for pointing it out."}], "answers": [{"tags": [], "owner": {"reputation": 1798, "user_id": 5225247, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/0d5fb959272a6b5703b5f6eb5c0bd7e8?s=128&d=identicon&r=PG&f=1", "display_name": "Aalap Patel", "link": "https://stackoverflow.com/users/5225247/aalap-patel"}, "is_accepted": true, "score": 1, "last_activity_date": 1508188906, "creation_date": 1508188906, "answer_id": 46779301, "question_id": 46779248, "link": "https://stackoverflow.com/questions/46779248/validating-edittext-values-crashes-app/46779301#46779301", "title": "Validating EditText values crashes app", "body": "<p>button clicks giving you crash because your <code>Edittext</code> doesnt have any value and you call <code>.trim()</code>and <code>.toDouble()</code> on null object reference. Please check null check condition before calling trim and todouble methods.</p>\n"}, {"tags": [], "owner": {"reputation": 7287, "user_id": 258848, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/2Ckug.jpg?s=128&g=1", "display_name": "dimsuz", "link": "https://stackoverflow.com/users/258848/dimsuz"}, "is_accepted": false, "score": 0, "last_activity_date": 1508189342, "creation_date": 1508189342, "answer_id": 46779393, "question_id": 46779248, "link": "https://stackoverflow.com/questions/46779248/validating-edittext-values-crashes-app/46779393#46779393", "title": "Validating EditText values crashes app", "body": "<p>Use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/to-double-or-null.html\" rel=\"nofollow noreferrer\">toDoubleOrNull()</a> instead of <code>toDouble()</code> or wrap that line in a <code>try-catch</code> to handle <code>NumberFormatException</code>.</p>\n"}], "owner": {"reputation": 1193, "user_id": 72793, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/98872a9cd89241c90267965d180e9b4d?s=128&d=identicon&r=PG", "display_name": "Alan", "link": "https://stackoverflow.com/users/72793/alan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "accepted_answer_id": 46779301, "answer_count": 2, "score": 0, "last_activity_date": 1508189342, "creation_date": 1508188648, "question_id": 46779248, "link": "https://stackoverflow.com/questions/46779248/validating-edittext-values-crashes-app", "title": "Validating EditText values crashes app", "body": "<p>I have a EditText (inputValue) that accepts numberDecimal format, which I need to validate. The validation function is called by:</p>\n\n<pre><code>      buttonCalculate.setOnClickListener {\n          pickFunction()    }\n</code></pre>\n\n<p>If this EditText is left blank I get an immediate program crash after each button click. If I fill in the form with a zero, then click the button, validation works as expected. </p>\n\n<pre><code>  fun pickFunction() {\n\n\n\n        val s: String = inputValue.getText().toString().trim()\n\n        val d =  inputValue.getText().toString().toDouble()\n\n          if(s.isNullOrEmpty()) {\n                Toast.makeText(applicationContext, \"Blank value entered\", Toast.LENGTH_SHORT).show()\n          return\n        }\n\n\n         if( d &lt;= 0)\n         {\n             Toast.makeText(applicationContext, \"Zero value entered\", Toast.LENGTH_SHORT).show()\n            return\n         }\n\n  // go do something with valid value\n\n }\n</code></pre>\n"}, {"tags": ["java", "kotlin", "android-support-library"], "comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1508192241, "post_id": 46778676, "comment_id": 80505752, "body": "What exactly is the error that you get?"}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1508207817, "post_id": 46778676, "comment_id": 80509593, "body": "No, on Java side it is only an IDE warning. On Kotlin, it is currently not supported. You have to always check for it."}, {"owner": {"reputation": 6305, "user_id": 389649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fc842fef375d0c258c3762684d149d1?s=128&d=identicon&r=PG", "display_name": "Cristan", "link": "https://stackoverflow.com/users/389649/cristan"}, "edited": false, "score": 0, "creation_date": 1509360876, "post_id": 46778676, "comment_id": 80973321, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/35976002/how-to-use-android-support-typedef-annotations-in-kotlin\">How to use Android Support typedef annotations in kotlin?</a>"}, {"owner": {"reputation": 161, "user_id": 1536208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a76e43d7c2eca8cf51cbf8246abc62?s=128&d=identicon&r=PG&f=1", "display_name": "phazedlite", "link": "https://stackoverflow.com/users/1536208/phazedlite"}, "reply_to_user": {"reputation": 6305, "user_id": 389649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fc842fef375d0c258c3762684d149d1?s=128&d=identicon&r=PG", "display_name": "Cristan", "link": "https://stackoverflow.com/users/389649/cristan"}, "edited": false, "score": 0, "creation_date": 1509426405, "post_id": 46778676, "comment_id": 81003402, "body": "@Cristan It isn&#39;t. This has to do with the equals operator in java when referring to an intdef defined in kotlin (which is possible)."}], "owner": {"reputation": 161, "user_id": 1536208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/86a76e43d7c2eca8cf51cbf8246abc62?s=128&d=identicon&r=PG&f=1", "display_name": "phazedlite", "link": "https://stackoverflow.com/users/1536208/phazedlite"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 912, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1509359405, "creation_date": 1508186116, "last_edit_date": 1509359405, "question_id": 46778676, "link": "https://stackoverflow.com/questions/46778676/error-using-intdef-defined-in-kotlin-when-using-in-java", "title": "Error using IntDef defined in Kotlin when using in Java", "body": "<p>I'm trying to define an <code>IntDef</code> interface in Kotlin but then use those constants in Java. I am able to access it, but I get an IDE Lint error when I try to do a equals operator on it. Though, a different comparison operator (&lt;, >) works fine. Even using 'Objects.equal()' works, just not ==. Anyone have any idea about this?</p>\n\n<blockquote>\n  <p>Error: Must be one of: 1L, 2L</p>\n</blockquote>\n\n<p>My Kotlin Class</p>\n\n<pre><code>class RandomClass{\n    ...\n    @IntDef(STATE_1, STATE_2)\n    @Retention(AnnotationRetention.SOURCE)\n    annotation class MyState\n\n    companion object {\n        const val STATE_1 = 1L\n        const val STATE_2 = 2L\n    }\n</code></pre>\n\n<p>Accessing the Annotation in Java where Error Occurs</p>\n\n<pre><code>void myFunction(@RandomClass.MyState long state){\n    if(state == RandomClass.STATE_1){\n        ...\n    }\n}\n</code></pre>\n\n<p>My Temp Fix for this</p>\n\n<pre><code>void myFunction(@RandomClass.MyState long state){\n    if(Objects.equal(state, RandomClass.STATE_1)){\n        ...\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "sql", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 2, "creation_date": 1508181284, "post_id": 46777532, "comment_id": 80500711, "body": "Room simply augments SQLite&#39;s placeholder system, and in SQLite, AFAIK, you cannot make a column name be a placeholder."}, {"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1508221829, "post_id": 46777532, "comment_id": 80513885, "body": "Room do <b>compile time</b> checking. I don&#39;t think you can do it."}, {"owner": {"reputation": 8233, "user_id": 7594961, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/dnyEy.jpg?s=128&g=1", "display_name": "Bertram Gilfoyle", "link": "https://stackoverflow.com/users/7594961/bertram-gilfoyle"}, "edited": false, "score": 0, "creation_date": 1534614970, "post_id": 46777532, "comment_id": 90772580, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44287465/how-to-dynamically-query-the-room-database-at-runtime\">How to dynamically query the room database at runtime?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5570, "user_id": 1201441, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/CrG13.jpg?s=128&g=1", "display_name": "TejaDroid", "link": "https://stackoverflow.com/users/1201441/tejadroid"}, "is_accepted": false, "score": 1, "last_activity_date": 1519899302, "last_edit_date": 1519899302, "creation_date": 1519896648, "answer_id": 49046551, "question_id": 46777532, "link": "https://stackoverflow.com/questions/46777532/how-can-i-construct-sql-query-with-dynamic-column-name-in-room-persistent-librar/49046551#49046551", "title": "How can I construct SQL query with dynamic column name in room persistent library", "body": "<p>@user3063925, Your question is in limitation of Room Library, </p>\n\n<p>But don't worry, </p>\n\n<blockquote>\n  <p>We can write fully dynamic query on Room Database by using the\n  <a href=\"https://developer.android.com/reference/android/arch/persistence/db/SupportSQLiteDatabase.html#query(java.lang.String)\" rel=\"nofollow noreferrer\"><code>@query()</code></a></p>\n</blockquote>\n\n<pre><code>String mQuery = \"SELECT * FROM foobar WHERE columnName1 IN ('value_1','value_2') and columnName2 In('value_3','value_4')\";\n\nAppDatabase appDatabase = Room.databaseBuilder(getApplicationContext(),\n        AppDatabase.class, \"database-name\").build();\n\nCursor mCursor = AppDatabase.getAppDatabase(context).getOpenHelper().getReadableDatabase().query(myQuery);\n</code></pre>\n\n<p>Now you can convert cursor row wise data to your POJO class.</p>\n"}], "owner": {"reputation": 235, "user_id": 3063925, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/b8f0f0da7101fae1ae54cd9c7e2f5efc?s=128&d=identicon&r=PG&f=1", "display_name": "user3063925", "link": "https://stackoverflow.com/users/3063925/user3063925"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1124, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1519899302, "creation_date": 1508181227, "question_id": 46777532, "link": "https://stackoverflow.com/questions/46777532/how-can-i-construct-sql-query-with-dynamic-column-name-in-room-persistent-librar", "title": "How can I construct SQL query with dynamic column name in room persistent library", "body": "<p>This doesn't work, and I'm not sure if I wore it wrong or if it's a limitation of Android's Room</p>\n\n<pre><code>@Query(\"SELECT * FROM foobar WHERE :column IN (:values)\")\nfun getByFieldName(column: String, vararg values: String): Flowable&lt;List&lt;FooBar&gt;&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "express", "kotlin", "kotlin-interop"], "comments": [{"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 6, "creation_date": 1508175313, "post_id": 46775924, "comment_id": 80497459, "body": "Why would you <i>want</i> to do that?"}, {"owner": {"reputation": 13990, "user_id": 5209322, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/efd5e18eea17567194fc54bcdb84887d?s=128&d=identicon&r=PG&f=1", "display_name": "Cy Rossignol", "link": "https://stackoverflow.com/users/5209322/cy-rossignol"}, "reply_to_user": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 2, "creation_date": 1508175584, "post_id": 46775924, "comment_id": 80497598, "body": "@JaredSmith I guess I&#39;m partly asking the same question... <i>&quot;should I want to do this?&quot;</i> I know there are other options, but I&#39;m particularly interested in exploiting Kotlin&#39;s type-safety while improving my skills in a relatively expressive and runtime-agnostic language that I can apply to other types of projects."}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 1, "creation_date": 1508175832, "post_id": 46775924, "comment_id": 80497723, "body": "I&#39;m going to argue that Javascript/Typescript and Kotlin are not sufficiently different in expressive power to make a purely language-based argument for one over the other (although Kotlin definitely gets the edge in the library department courtesy of Java). So what you are really asking is &quot;should I use V8 or the JVM&quot;. I don&#39;t feel qualified to answer that, but unless you have very good reasons stick with the one that brought you to the dance. Its <i>probably</i> not worth the trouble vs. just flat-out switching to JavaScript/TypeScript... or sticking with Kotlin/JVM."}, {"owner": {"reputation": 13990, "user_id": 5209322, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/efd5e18eea17567194fc54bcdb84887d?s=128&d=identicon&r=PG&f=1", "display_name": "Cy Rossignol", "link": "https://stackoverflow.com/users/5209322/cy-rossignol"}, "reply_to_user": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1508177890, "post_id": 46775924, "comment_id": 80498876, "body": "@JaredSmith Well, I&#39;m more interested in the <i>possibility</i> of this approach rather than its <i>correctness</i> as defined by the availability of existing technologies in this area. Kotlin is a relatively new language/ecosystem, so it may become a valid alternative for node development in the future. I agree with what you&#39;re saying and appreciate the input--if I needed to pick a language for an enterprise project, I&#39;d certainly choose an industry-standard set of tools. But Kotlin seems to support the goal of the question, at least to some degree, so I&#39;m interested to see how far this approach works."}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 1, "creation_date": 1508187080, "post_id": 46775924, "comment_id": 80503601, "body": "I guess my question remains <i>why</i>? What does Kotlin by you over JavaScript in a node.js environment? Lots of languages can be varying degrees of easily compiled to JS: clojure, haskell, ocaml, C/C++. Indeed, one can write node modules in another language and expose them to node via FFI (David Herman at Mozilla had a blog post about doing so in Rust). It&#39;s certainly possible, and it may even be <i>easy</i>, I&#39;m just not sure what benefit accrues."}, {"owner": {"reputation": 13990, "user_id": 5209322, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/efd5e18eea17567194fc54bcdb84887d?s=128&d=identicon&r=PG&f=1", "display_name": "Cy Rossignol", "link": "https://stackoverflow.com/users/5209322/cy-rossignol"}, "reply_to_user": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1508191691, "post_id": 46775924, "comment_id": 80505578, "body": "@JaredSmith Good points. What does Kotlin offer here? Benefits? Not much, perhaps, aside from <i>yet another</i> cross-stack language. There may also be something gained by supplementing existing node apps, or by relatively easy reuse of familiar JS libraries. I don&#39;t have an answer to these questions yet, which is part of the reason why I&#39;m playing with these ideas. I appreciate the practicality you bring to this post--I must seem foolish for digging into a solved problem. I pose my question in the spirit of experimentation and learning with full expectation that I may seek something unreasonable."}, {"owner": {"reputation": 13990, "user_id": 5209322, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/efd5e18eea17567194fc54bcdb84887d?s=128&d=identicon&r=PG&f=1", "display_name": "Cy Rossignol", "link": "https://stackoverflow.com/users/5209322/cy-rossignol"}, "reply_to_user": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1508192175, "post_id": 46775924, "comment_id": 80505729, "body": "@JaredSmith And, in regard to learning, our discussion here has already given me some things to think about. Thanks for taking the time to respond."}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "reply_to_user": {"reputation": 13990, "user_id": 5209322, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/efd5e18eea17567194fc54bcdb84887d?s=128&d=identicon&r=PG&f=1", "display_name": "Cy Rossignol", "link": "https://stackoverflow.com/users/5209322/cy-rossignol"}, "edited": false, "score": 0, "creation_date": 1508244363, "post_id": 46775924, "comment_id": 80527257, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/156919/discussion-between-jared-smith-and-cy-rossignol\">continue this discussion in chat</a>."}, {"owner": {"reputation": 2015, "user_id": 1109309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f8a2b866ae0dc92a9e774d0094da8f4d?s=128&d=identicon&r=PG", "display_name": "Alexey Andreev", "link": "https://stackoverflow.com/users/1109309/alexey-andreev"}, "edited": false, "score": 0, "creation_date": 1510394970, "post_id": 46775924, "comment_id": 81423627, "body": "I don&#39;t understand why are you asking this question. You refer both to someone&#39;s question (and the author claims his approach to be inconvenient) and to <i>official</i> documentation. I guess the choice is obvious."}, {"owner": {"reputation": 13990, "user_id": 5209322, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/efd5e18eea17567194fc54bcdb84887d?s=128&d=identicon&r=PG&f=1", "display_name": "Cy Rossignol", "link": "https://stackoverflow.com/users/5209322/cy-rossignol"}, "reply_to_user": {"reputation": 2015, "user_id": 1109309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f8a2b866ae0dc92a9e774d0094da8f4d?s=128&d=identicon&r=PG", "display_name": "Alexey Andreev", "link": "https://stackoverflow.com/users/1109309/alexey-andreev"}, "edited": false, "score": 0, "creation_date": 1510534884, "post_id": 46775924, "comment_id": 81462248, "body": "Thanks for your input, @Alexey. You&#39;re right--I&#39;ve managed to piece together some details of this puzzle, but the resources I&#39;ve found don&#39;t focus specifically on Node at a <i>project</i> level. I&#39;m looking for input from a Kotlin JS expert or someone with experience building a full Node app with Kotlin who can answer about the overall practicability of this approach and provide suggestions for a solid and reasonable foundation for Node projects written with Kotlin. If this type of project isn&#39;t possible (or sustainable), I&#39;m interested to learn about the specific obstacles."}], "answers": [{"tags": [], "owner": {"reputation": 1225, "user_id": 2769403, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b303f2f7ec1514815b899995b4aeb3e2?s=128&d=identicon&r=PG", "display_name": "Owen C. Jones", "link": "https://stackoverflow.com/users/2769403/owen-c-jones"}, "is_accepted": false, "score": 3, "last_activity_date": 1511184429, "creation_date": 1511184429, "answer_id": 47393154, "question_id": 46775924, "link": "https://stackoverflow.com/questions/46775924/is-it-possible-to-build-a-full-node-js-web-application-using-kotlin/47393154#47393154", "title": "Is it possible to build a full Node.js web application using Kotlin?", "body": "<p>Technically speaking, yes, provided the claim by Kotlin that:</p>\n\n<blockquote>\n  <p>You can use Kotlin to interact with server-side JavaScript such as node.js</p>\n</blockquote>\n\n<p>Is correct, and the transpilation of Kotlin -> JS is reliable enough to be able to predict what JS is coming out, then you <em>could</em> write a Node app in Kotlin, much as you can write them in TypeScript.</p>\n\n<p>I suspect, personally, that you'd find it difficult, buggy, and rather short on support, but it might make a good academic exercise...maybe.</p>\n"}, {"tags": [], "owner": {"reputation": 48, "user_id": 1240525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9842b7df1c0eb9c11502a1ba4a231b92?s=128&d=identicon&r=PG", "display_name": "Luiz Henrique", "link": "https://stackoverflow.com/users/1240525/luiz-henrique"}, "is_accepted": true, "score": 1, "last_activity_date": 1600114748, "creation_date": 1600114748, "answer_id": 63891321, "question_id": 46775924, "link": "https://stackoverflow.com/questions/46775924/is-it-possible-to-build-a-full-node-js-web-application-using-kotlin/63891321#63891321", "title": "Is it possible to build a full Node.js web application using Kotlin?", "body": "<p>Yes, it's possible <a href=\"https://kotlinlang.org/docs/reference/js-project-setup.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/js-project-setup.html</a></p>\n<p>But, NIO was the biggest reason to use NodeJS instead of any language to build a backend solution. Now, with reactive first class support you can have a stack like Kotlin + Spring Reactive + Coroutines + R2DBC and build a simple micro service or any full enterprise solution.</p>\n"}], "owner": {"reputation": 13990, "user_id": 5209322, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/efd5e18eea17567194fc54bcdb84887d?s=128&d=identicon&r=PG&f=1", "display_name": "Cy Rossignol", "link": "https://stackoverflow.com/users/5209322/cy-rossignol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1291, "favorite_count": 2, "accepted_answer_id": 63891321, "answer_count": 2, "score": 19, "last_activity_date": 1600114748, "creation_date": 1508175083, "question_id": 46775924, "link": "https://stackoverflow.com/questions/46775924/is-it-possible-to-build-a-full-node-js-web-application-using-kotlin", "title": "Is it possible to build a full Node.js web application using Kotlin?", "body": "<p>If I understand correctly, with <a href=\"https://blog.jetbrains.com/kotlin/2017/01/kotlin-1-1-beta-is-here/\" rel=\"noreferrer\">the release of Kotlin 1.1</a>, we can <a href=\"https://kotlinlang.org/docs/reference/js-overview.html\" rel=\"noreferrer\">set JavaScript as a compile target</a> for full compilation to JavaScript of Kotlin projects. Is it possible (or feasible) to write an entire Node.js application, such as an express webserver, using only Kotlin code?</p>\n\n<p>As <a href=\"https://stackoverflow.com/q/44642521/5209322\">this question</a> suggests, we can import Node modules into Kotlin classes:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>external fun require(module: String): dynamic\n\nval express = require('express')\n</code></pre>\n\n<p>...which seems like I can create an application using: </p>\n\n<pre><code>val app = express()\n</code></pre>\n\n<p>Is this the <em>Kotlin way</em> to set up an express application? Or should I declare a class as <a href=\"https://kotlinlang.org/docs/reference/js-modules.html\" rel=\"noreferrer\">described in the docs</a>: </p>\n\n<pre><code>@JsModule(\"express\")\nexternal class Express { ... }\n</code></pre>\n\n<p>What is the canonical way to set up a Kotlin project for Node.js application development? Is Kotlin's JavaScript interoperability robust enough to continue down this path, or will it be more trouble than it's worth?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "android-mvp"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1508176257, "post_id": 46775469, "comment_id": 80497953, "body": "Have you tried to put your app in background, terminate it from Android Studio, then re-load the app?"}, {"owner": {"reputation": 31520, "user_id": 1837367, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v8XDk.jpg?s=128&g=1", "display_name": "David Medenjak", "link": "https://stackoverflow.com/users/1837367/david-medenjak"}, "edited": false, "score": 0, "creation_date": 1508177321, "post_id": 46775469, "comment_id": 80498539, "body": "I can&#39;t read about any problems or errors you encountered. Could you update your question with the error / problem you have or what you would expect? What you are trying to achieve?"}, {"owner": {"reputation": 353, "user_id": 3177588, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40c67c440b651b965ebec3cbafe9392e?s=128&d=identicon&r=PG&f=1", "display_name": "Murat", "link": "https://stackoverflow.com/users/3177588/murat"}, "edited": false, "score": 0, "creation_date": 1508224423, "post_id": 46775469, "comment_id": 80515145, "body": "I update the question"}], "owner": {"reputation": 353, "user_id": 3177588, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/40c67c440b651b965ebec3cbafe9392e?s=128&d=identicon&r=PG&f=1", "display_name": "Murat", "link": "https://stackoverflow.com/users/3177588/murat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 424, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1508224383, "creation_date": 1508173368, "last_edit_date": 1508224383, "question_id": 46775469, "link": "https://stackoverflow.com/questions/46775469/call-fragments-presenters-method-from-activity-dagger-2-mvp", "title": "Call Fragments presenter&#39;s method from Activity [Dagger 2 + MVP]", "body": "<p>I have 2 different fragments and they both will be using by 2 different activities.\nIn both activity's layout there is one frame layout to use as fragment container.</p>\n\n<p>Which are;</p>\n\n<p>Fragments: MapFragment, ListFragment</p>\n\n<p>Activities: HomeActivity, SearchActivity.</p>\n\n<p>Lets talk about HomeActivity;</p>\n\n<p>HomeActivity will inject ListFragment and MapFragment on onCreate of activity and push injected fragments to it's layout(list fragment first) and after that, activity will call injected fragment's presenter method to show service result on list or map.</p>\n\n<p>Codes;\nFragment Side;</p>\n\n<pre><code>@CustomScope\n@Component(dependencies = NetComponent.class, modules = {ChallengeListFrgModule.class, ChallengeRepositoryModule.class})\npublic interface ChallengeListFrgComponent{\n\n    void inject(ChallengeListFragment fragment);\n}\n</code></pre>\n\n<p>_</p>\n\n<pre><code> @Module class ChallengeListFrgModule(private val mView: ChallengeListFrgContract.View) {\n\n  @Provides internal fun providesChallengeListFrgContractView(): ChallengeListFrgContract.View {\n    return mView\n  }\n}\n</code></pre>\n\n<p>ListFrgPresenter:</p>\n\n<pre><code>public class ChallengeListFrgPresenter implements ChallengeListFrgContract.Presenter {\n\n  //region  Variables\n\n  ChallengeListFrgContract.View mView;\n  ChallengeRepository challengeRepository;\n  // Application application;\n\n  private ChallengeSearchCriteria challengeSearchCriteria;\n\n  //endregion\n\n  //region Constructer\n\n  @Inject public ChallengeListFrgPresenter(ChallengeRepository challengeRepository,\n      ChallengeListFrgContract.View mView) {\n    this.mView = mView;\n    this.challengeRepository = challengeRepository;\n  }\n\n  //endregion\n\n  //region Override Methods\n\n  @Override public void load() {\n\n  }\n\n  @Override public void clearChallenges() {\n    mView.clearChallenges();\n  }\n\n  }\n</code></pre>\n\n<p>ChallengeListFragment:</p>\n\n<pre><code>@Singleton\nclass ChallengeListFragment/*@Inject*/\n  : BaseFragment(), ChallengeListFrgContract.View {\n\n\n  @Inject\n  lateinit var challengeListFrgPresenter: ChallengeListFrgPresenter\n\n///...\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    initComponent()\n\n\n  }\n\n\n  fun initComponent() {\n\n    DaggerChallengeListFrgComponent.builder()\n        .netComponent((activity.applicationContext as DuupleApplication).netComponent) // crash\n        .challengeListFrgModule(ChallengeListFrgModule(this as ChallengeListFrgContract.View))\n        .challengeRepositoryModule(ChallengeRepositoryModule(activity))\n        .build()\n        .inject(this)\n  }\n}\n</code></pre>\n\n<p>Activity Side:</p>\n\n<p>HomeActivityComponent:</p>\n\n<pre><code>@CustomScope @Component(dependencies = NetComponent.class, modules = {\n    HomeActivityModule.class, HomeFragmentManagerModule.class, ChallengeListFrgModule.class,\n    HomeNearbyMapFrgModule.class\n}) public interface HomeActivityComponent {\n  Context context();\n\n  void inject(HomeActivity activity);\n}\n</code></pre>\n\n<p>HomeActivityModule;</p>\n\n<pre><code>@Module public class HomeActivityModule {\n\n  private final HomeActivityContract.View mView;\n  private final Context context;\n\n  public HomeActivityModule(HomeActivityContract.View mView, Context context) {\n    this.mView = mView;\n    this.context = context;\n  }\n\n  @Provides @CustomScope Context provideContext() {\n    return context;\n  }\n\n  @Provides @CustomScope HomeActivityContract.View providesActivityContractView() {\n    return mView;\n  }\n\n\n  @Provides @CustomScope ChallengeListFragment providesChallengeListFragment() {\n    return new ChallengeListFragment();\n  }\n\n  @Provides @CustomScope HomeNearbyMapFragment providesHomeNearbyMapFragment() {\n    return new HomeNearbyMapFragment();\n  }\n}\n</code></pre>\n\n<p>HomeActivity:</p>\n\n<pre><code>public class HomeActivity extends DrawerActivity\n    implements NavigationView.OnNavigationItemSelectedListener, HomeActivityContract.View {\n\n  //region widgets\n  Toolbar appToolbar;\n  ImageView imageViewHamburger;\n\n  private DrawerLayout drawerLayout;\n\n  //endregion\n\n  //region variables\n\n  @Inject ChallengeListFragment challengeListFragment;\n  @Inject HomeNearbyMapFragment homeNearbyMapFragment;\n\n  @Inject ChallengeListFrgPresenter challengeListFrgPresenter;\n  @Inject HomeNearbyMapFrgPresenter homeNearbyMapFragmentPresenter;\n\n//...\n\n@Override protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_home);\n\n    initComponent();\n///...\n    pushFragment(challengeListFragment, FragmentHelper.homeListFragmnetIndex);\n  }\n\nprotected void initComponent() {\n    DaggerHomeActivityComponent.builder()\n        .netComponent(((DuupleApplication) getApplicationContext()).getNetComponent())\n        .homeActivityModule(new HomeActivityModule(this, this))\n        .challengeListFrgModule(\n            new ChallengeListFrgModule((ChallengeListFrgContract.View) challengeListFragment))\n        .homeFragmentManagerModule(\n            new HomeFragmentManagerModule(HomeActivity.this, manager, R.id.placeHolder_HomeAct))\n        .homeNearbyMapFrgModule(\n            new HomeNearbyMapFrgModule((HomeNearbyMapFrgContract.View) homeNearbyMapFragment))\n        .build()\n        .inject(this);\n\n  }\n}\n</code></pre>\n\n<p>Update:\nProblem is; I need to inject challengeListFragment in HomeActivity on initComponent method, also I need to give challengeListFragment object to ChallengeListFrgModule as parameter in same place. I think problem occurred in here. Before finish injecting ChallengeListFragment object ChallengeListFrgModule constructer triggered. How can I fix it</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2767, "user_id": 2290950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8iIm5.png?s=128&g=1", "display_name": "Viktor Yakunin", "link": "https://stackoverflow.com/users/2290950/viktor-yakunin"}, "edited": false, "score": 0, "creation_date": 1508181340, "post_id": 46775333, "comment_id": 80500739, "body": "you call initLoader, it will run once, try to change it to restartLoader, so it will run every time when called"}], "answers": [{"tags": [], "owner": {"reputation": 308, "user_id": 2130708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m6HkO.jpg?s=128&g=1", "display_name": "Sijansd", "link": "https://stackoverflow.com/users/2130708/sijansd"}, "is_accepted": false, "score": 0, "last_activity_date": 1508185215, "last_edit_date": 1508185215, "creation_date": 1508179471, "answer_id": 46777088, "question_id": 46775333, "link": "https://stackoverflow.com/questions/46775333/swipe-to-refresh-to-update-data/46777088#46777088", "title": "Swipe to refresh to update data", "body": "<p>Just use </p>\n\n<pre><code>loaderManager.initLoader(mCoinLoaderId, null, this).forceLoad()\n</code></pre>\n\n<p>instead of</p>\n\n<pre><code>loaderManager.initLoader(mCoinLoaderId, null, this)\n</code></pre>\n"}], "owner": {"reputation": 877, "user_id": 857429, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/132e09d6d68bad61580fdee8d9485b5b?s=128&d=identicon&r=PG&f=1", "display_name": "Caffeinatedwolf", "link": "https://stackoverflow.com/users/857429/caffeinatedwolf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 383, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1508244347, "creation_date": 1508172860, "last_edit_date": 1508244347, "question_id": 46775333, "link": "https://stackoverflow.com/questions/46775333/swipe-to-refresh-to-update-data", "title": "Swipe to refresh to update data", "body": "<p>I have a recyclerview that I want to update when a user swipes to refresh.</p>\n\n<p>this is my MainActity.kt</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), LoaderManager.LoaderCallbacks&lt;List&lt;Coin&gt;&gt; {\n\nprivate val mCoinLoaderId = 1\nprivate val mCoinEndpointUrl = \"http://coincap.io/front\"\nprivate var swipeRefreshLayout: SwipeRefreshLayout? = null\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    swipeRefreshLayout=  findViewById&lt;SwipeRefreshLayout&gt;(R.id.swipe_refresh_layout) as SwipeRefreshLayout\n\n    rv_coins.layoutManager = LinearLayoutManager(this)\n    rv_coins.setHasFixedSize(true)\n    runLoaders()\n\n\n    swipeRefreshLayout?.setOnRefreshListener{\n\n\n                // This method performs the actual data-refresh operation.\n                // The method calls setRefreshing(false) when it's finished.\n                runLoaders()\n            }\n\n\n\n}\n\nprivate fun runLoaders() {\n\n    val connManager = getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\n    val networkInfo = connManager.activeNetworkInfo\n    if (networkInfo != null &amp;&amp; networkInfo.isConnected) {\n        loaderManager.initLoader(mCoinLoaderId, null , this)\n    } else {\n        Toast.makeText(this, \"No Internet connection\", Toast.LENGTH_SHORT).show()\n    }\n}\n\n\noverride fun onCreateLoader(id: Int, args: Bundle?): Loader&lt;List&lt;Coin&gt;&gt; {\n    val baseUri: Uri = Uri.parse(mCoinEndpointUrl)\n\n\n    return object : AsyncTaskLoader&lt;List&lt;Coin&gt;&gt;(this) {\n        override fun onStartLoading() {\n            forceLoad()\n        }\n\n        override fun loadInBackground(): List&lt;Coin&gt;? {\n            return QueryUtils.fetchCoinData(baseUri.toString())\n        }\n    }\n}\n\noverride fun onLoadFinished(loader: Loader&lt;List&lt;Coin&gt;&gt;?, data: List&lt;Coin&gt;?) {\n    if (data != null &amp;&amp; !data.isEmpty()) {\n\n        progressBar1.isEnabled = false\n        if(swipeRefreshLayout?.isRefreshing!!)  {\n            swipeRefreshLayout?.isRefreshing = false\n        }\n\n        rv_coins.adapter = CoinAdapter(data)\n    }\n\n\n\n}\n\noverride fun onLoaderReset(loader: Loader&lt;List&lt;Coin&gt;&gt;?) {\n    TODO(\"not implemented\") //To change body of created functions use File | Settings | File Templates.\n}\n</code></pre>\n\n<p>and I have the following adapter</p>\n\n<pre><code>class CoinAdapter(private val mCoinData: List&lt;Coin&gt;): RecyclerView.Adapter&lt;CoinAdapter.CoinViewHolder&gt;() {\n\n\noverride fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): CoinViewHolder {\n    val inflater = LayoutInflater.from(parent?.context)\n    return CoinViewHolder(inflater.inflate(R.layout.list_item, parent, false))\n}\n\noverride fun onBindViewHolder(holder: CoinViewHolder?, position: Int) {\n    holder?.mCoinShortNameTV?.text = mCoinData[position].short\n    holder?.mCoinLongNameTV?.text = mCoinData[position].longname\n    holder?.mCoinPercentageTV?.text = \"\"\"${mCoinData[position].perc.toString()}%\"\"\"\n    if (mCoinData[position].perc &lt; 0.0) {\n        holder?.mCoinPercentageTV?.setTextColor(Color.parseColor(\"#F73757\"))\n    } else {\n        holder?.mCoinPercentageTV?.setTextColor(Color.parseColor(\"#21BD2E\"))\n    }\n}\n\noverride fun getItemCount(): Int {\n    return mCoinData.size\n}\n\n\ninner class CoinViewHolder(itemView: View): RecyclerView.ViewHolder(itemView) {\n    val mCoinLongNameTV: TextView = itemView.findViewById&lt;TextView&gt;(R.id.long_name) as TextView\n    val mCoinPercentageTV: TextView = itemView.findViewById&lt;TextView&gt;(R.id.percentage) as TextView\n    val mCoinShortNameTV: TextView = itemView.findViewById&lt;TextView&gt;(R.id.short_name) as TextView\n}\n</code></pre>\n\n<p>But even though I called runLoaders() function while the user is swiping to refresh, it is not updating the data. It is not even calling the fetch function to update the data.</p>\n\n<p>What is wrong with my code?</p>\n"}, {"tags": ["java", "spring", "spring-boot", "spring-security", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 444, "user_id": 8736108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3eeb158506591fcbdcba7acdced60c7?s=128&d=identicon&r=PG&f=1", "display_name": "Mohd Yasin", "link": "https://stackoverflow.com/users/8736108/mohd-yasin"}, "is_accepted": true, "score": 2, "last_activity_date": 1508173077, "creation_date": 1508173077, "answer_id": 46775394, "question_id": 46774497, "link": "https://stackoverflow.com/questions/46774497/redirect-to-protected-page-after-authentication/46775394#46775394", "title": "Redirect to protected page after authentication", "body": "<p>In my project, i used <code>DefaultSavedRequest</code> that completed my requirement. <code>DefaultSavedRequest</code> class is used by AbstractAuthenticationProcessingFilter and SavedRequestAwareWrapper to reproduce the request after successful authentication. An instance of this class is stored at the time of an authentication exception by ExceptionTranslationFilter. </p>\n\n<p><a href=\"https://docs.spring.io/spring-security/site/docs/4.1.2.RELEASE/apidocs/org/springframework/security/web/savedrequest/DefaultSavedRequest.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-security/site/docs/4.1.2.RELEASE/apidocs/org/springframework/security/web/savedrequest/DefaultSavedRequest.html</a></p>\n\n<pre><code>@Override\npublic void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication) \n        throws IOException, ServletException {\n    DefaultSavedRequest defaultSavedRequest = (DefaultSavedRequest) session.getAttribute(\"SPRING_SECURITY_SAVED_REQUEST\");\n    if(defaultSavedRequest != null){\n       String targetURL = defaultSavedRequest.getRedirectUrl();\n       redirectStrategy.sendRedirect(request, response, targetURL);\n       return;\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 469, "user_id": 8494058, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MXDo1DgJ68Y/AAAAAAAAAAI/AAAAAAAAABU/kD-UrwZcZB4/photo.jpg?sz=128", "display_name": "pszkv", "link": "https://stackoverflow.com/users/8494058/pszkv"}, "is_accepted": false, "score": 0, "last_activity_date": 1508210096, "creation_date": 1508210096, "answer_id": 46781922, "question_id": 46774497, "link": "https://stackoverflow.com/questions/46774497/redirect-to-protected-page-after-authentication/46781922#46781922", "title": "Redirect to protected page after authentication", "body": "<p>Thanks to Mhod's answer this did the trick.</p>\n\n<pre><code>@Component\nclass MyS: AuthenticationSuccessHandler {\n    override fun onAuthenticationSuccess(request: HttpServletRequest?, response: HttpServletResponse?, authentication: Authentication?) {\n\n        val defaultSavedRequest = request?.session?.getAttribute(\"SPRING_SECURITY_SAVED_REQUEST\") as DefaultSavedRequest\n        response?.sendRedirect(defaultSavedRequest.requestURI)\n\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 469, "user_id": 8494058, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MXDo1DgJ68Y/AAAAAAAAAAI/AAAAAAAAABU/kD-UrwZcZB4/photo.jpg?sz=128", "display_name": "pszkv", "link": "https://stackoverflow.com/users/8494058/pszkv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3674, "favorite_count": 1, "accepted_answer_id": 46775394, "answer_count": 2, "score": 2, "last_activity_date": 1571298302, "creation_date": 1508169790, "last_edit_date": 1571298302, "question_id": 46774497, "link": "https://stackoverflow.com/questions/46774497/redirect-to-protected-page-after-authentication", "title": "Redirect to protected page after authentication", "body": "<p>By default, spring security after authentication redirects you to protected page you tried to access before.</p>\n\n<p>When I implement my own success handler</p>\n\n<pre><code>@Component\nclass MyS: AuthenticationSuccessHandler {\n    override fun onAuthenticationSuccess(request: HttpServletRequest?, response: HttpServletResponse?, authentication: Authentication?) {\n\n        response?.sendRedirect(request?.getHeader(HttpHeaders.REFERER))\n\n    }\n}\n</code></pre>\n\n<hr>\n\n<pre><code>class SecurityConfigTH(@Autowired private val myHandler: MyS) : WebSecurityConfigurerAdapter() { \n...\n    .formLogin()\n        .loginPage(\"/en/login\")\n        .successHandler(myHandler)\n        .permitAll()\n }\n</code></pre>\n\n<p>I cannot achieve the same effect. I tried redirect to referrer, but in this case referrer is /en/login page.</p>\n\n<p>Basically:</p>\n\n<ol>\n<li>User try to access protected url <code>/protected</code></li>\n<li>Redirect user to <code>/login</code> page</li>\n<li>After authentication user should be redirected to <code>/protected</code> again</li>\n</ol>\n\n<p>How to do it with custom successHandler?</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 0, "creation_date": 1508346548, "post_id": 46815305, "comment_id": 80578531, "body": "The error message I&#39;m encountering from the Room library reads <code>Entities and Pojos must have a usable public constructor. You can have an empty constructor or a constructor whose parameters match the fields (by name and type).</code> What you are suggesting, and what I found, is that these constructors all exist, including one that has all parameters that match the fields."}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 0, "creation_date": 1508347851, "post_id": 46815305, "comment_id": 80579129, "body": "Ive added your class to my project and it works flawlessly. Even after cleaning the project, invalidating cache, and so on. Could you please post your Gradle files"}, {"owner": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 0, "creation_date": 1508388389, "post_id": 46815305, "comment_id": 80593246, "body": "I&#39;ve posted the relevant Gradle snippet, as well as a few other files in the implementation."}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 0, "creation_date": 1508405164, "post_id": 46815305, "comment_id": 80600846, "body": "Please post the class UserPermissions. I have completly recoded your stuff above and it compiles just fine by adding a UserPermissions class which contains only a &quot;permissionID&quot; as param."}, {"owner": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 0, "creation_date": 1508463710, "post_id": 46815305, "comment_id": 80630314, "body": "Added the full UserPermissions class to the post. Very odd that you&#39;re able to use everything without issues."}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 0, "creation_date": 1508491657, "post_id": 46815305, "comment_id": 80639810, "body": "Updated my answer"}, {"owner": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 0, "creation_date": 1508610998, "post_id": 46815305, "comment_id": 80680793, "body": "I&#39;ve updated to the newest version (as of now rc1 is the newest), and the same issue appears. The update did point out a few issues with two of my classes having a PrimaryKey var that was nullable, but after fixing that, the same error message is popping up two times without any context."}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 0, "creation_date": 1508611028, "post_id": 46815305, "comment_id": 80680803, "body": "After changing to rc1 you need to clean your project and invalidate cache and restart"}, {"owner": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 0, "creation_date": 1508614013, "post_id": 46815305, "comment_id": 80681807, "body": "Have done so multiple times. Still getting that same dumb error."}, {"owner": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 0, "creation_date": 1508614756, "post_id": 46815305, "comment_id": 80681986, "body": "Thanks for your help on this, I was finally able to narrow it down. Left an answer for the response, but awarded the bounty to you for the awesome troubleshooting help. Thank you again!"}, {"owner": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 0, "creation_date": 1508614814, "post_id": 46815305, "comment_id": 80682005, "body": "Still not sure why these errors started going away when I was removing the OTHER classes that weren&#39;t actually the cause. That&#39;s what originally led me to believe the issue was in the class pasted in the original question."}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "edited": false, "score": 0, "creation_date": 1508614859, "post_id": 46815305, "comment_id": 80682014, "body": "Thank you, and thank you for posting the answer. Regarding the &quot;hard to debug&quot; i left an issue a few month ago (straight after release) in the aac github ;-) ive spent two days finding that issue a long time ago"}, {"owner": {"reputation": 529, "user_id": 9316168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HUaOF.jpg?s=128&g=1", "display_name": "gmk57", "link": "https://stackoverflow.com/users/9316168/gmk57"}, "edited": false, "score": 0, "creation_date": 1590411488, "post_id": 46815305, "comment_id": 109661317, "body": "Are you sure about &quot;if you have nullable values Kotlin will generate several constructors for each possible constructor&quot;? <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html#overloads-generation\" rel=\"nofollow noreferrer\">The docs</a> say they are generated for parameters with default values, regardless of their nullability, and at most one (empty) constructor is generated without <code>@JvmOverloads</code>."}], "tags": [], "owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "is_accepted": false, "score": 19, "last_activity_date": 1508491646, "last_edit_date": 1508491646, "creation_date": 1508345355, "answer_id": 46815305, "question_id": 46774218, "link": "https://stackoverflow.com/questions/46774218/room-database-error-with-kotlin-data-class/46815305#46815305", "title": "Room Database error with Kotlin Data Class", "body": "<p>The problem in your case is, that if you have nullable values Kotlin will generate several constructors for each possible constructor.</p>\n\n<p>That means that you have to define a default constructor and fill it with default values. </p>\n\n<p>If you want to have another one which should be ignored you should make sure to use the parent constructor with all those parameters.</p>\n\n<p>Example:</p>\n\n<pre><code>@Entity(tableName = \"inspections\")\ndata class Inspection(\n@SerializedName(\"id\")\nvar id: Int = 0,\n\n@PrimaryKey\n@SerializedName(\"guid\")\nvar guid: String = \"\",\n\n@SerializedName(\"score\")\nvar score: Double = 0.0,\n\n@SerializedName(\"notification_sent_at\")\nvar notificationSentAt: Date = Date(),\n\nvar wasUploaded: Boolean = false)  {\n\n@Ignore\nconstructor() : this(0, \"\", 0.0, Date(), false)\n}\n</code></pre>\n\n<p>In this case only two constructors will be generated \"under the hood\". If you have nullable values you will have all possible constructors available.</p>\n\n<p>Example:</p>\n\n<pre><code>data class Test(var id: Int = 0, var testString: String? = null, var testBool : Boolean? = null) {\n   constructor(0)\n} \n</code></pre>\n\n<p>generates </p>\n\n<pre><code>constructor(var id:Int)\nconstructor() : this(0)\nconstructor(var id:Int, var testString: String)\nconstructor(var id:Int, var testBool: Boolean) \nconstructor(var id:Int, var testString: String, var testBool : Boolean)\n// .. and so on\n</code></pre>\n\n<p>Since you'r looking for an official documentation, you may want to look at <a href=\"https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html\" rel=\"noreferrer\">Overloads Generation</a>.</p>\n\n<p>After testing your class which works flawlessly i found in another post that you have to check if you used <code>apply plugin: 'kotlin-kapt'</code> in your Gradle.</p>\n\n<p>Double check that you've valid type converters for your Date class. I wrote <a href=\"https://github.com/googlesamples/android-architecture-components/issues/43\" rel=\"noreferrer\">that issue</a> longer time ago.</p>\n\n<p>After recoding your stuff above it worked just fine by adding a UserPermissions class like that:</p>\n\n<pre><code>data class UserPermissions(var permissionid: String) \n</code></pre>\n\n<p>Edit: After using your UserPermission class everything worked just fine. Please take care if you use the proper import (util.Date instead of sql.Date for example).</p>\n\n<p>Another problem is that your using an old very buggy library of room. </p>\n\n<p>The current version (while writing this) is</p>\n\n<pre><code>implementation \"android.arch.persistence.room:runtime:1.0.0-beta2\"\nkapt \"android.arch.persistence.room:compiler:1.0.0-beta2\"\nimplementation \"android.arch.persistence.room:rxjava2:1.0.0-beta2\"\n</code></pre>\n\n<p>I wrote <a href=\"https://github.com/googlesamples/android-architecture-components/issues/172\" rel=\"noreferrer\">an issue</a> long time ago </p>\n"}, {"tags": [], "owner": {"reputation": 1046, "user_id": 3464870, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1ef858158709a6e7e8b72ae9b699f6e2?s=128&d=identicon&r=PG", "display_name": "gyurix", "link": "https://stackoverflow.com/users/3464870/gyurix"}, "is_accepted": false, "score": 0, "last_activity_date": 1508345542, "creation_date": 1508345542, "answer_id": 46815362, "question_id": 46774218, "link": "https://stackoverflow.com/questions/46774218/room-database-error-with-kotlin-data-class/46815362#46815362", "title": "Room Database error with Kotlin Data Class", "body": "<p>Try to avoid using nullable values and make everything have some kind of default value. That's the simpliest way to solve this issue.</p>\n\n<p>If you really want to use them, then you may create a constructor, containing all of them.</p>\n"}, {"comments": [{"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1508417424, "post_id": 46827313, "comment_id": 80607841, "body": "Are you sure that you understand the use of kotlin based annotations? ;-)"}, {"owner": {"reputation": 928, "user_id": 5052133, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RxBmEJAEu8Q/AAAAAAAAAAI/AAAAAAAAAAA/6fyGasyBm7s/photo.jpg?sz=128", "display_name": "Muzammil Husnain", "link": "https://stackoverflow.com/users/5052133/muzammil-husnain"}, "reply_to_user": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1508471517, "post_id": 46827313, "comment_id": 80632008, "body": "@EmanuelS It will be nice of you if you point out the exact problem in the use of kotlin based annotations. I have attached the official document as well."}], "tags": [], "owner": {"reputation": 928, "user_id": 5052133, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-RxBmEJAEu8Q/AAAAAAAAAAI/AAAAAAAAAAA/6fyGasyBm7s/photo.jpg?sz=128", "display_name": "Muzammil Husnain", "link": "https://stackoverflow.com/users/5052133/muzammil-husnain"}, "is_accepted": false, "score": 1, "last_activity_date": 1508407122, "creation_date": 1508407122, "answer_id": 46827313, "question_id": 46774218, "link": "https://stackoverflow.com/questions/46774218/room-database-error-with-kotlin-data-class/46827313#46827313", "title": "Room Database error with Kotlin Data Class", "body": "<p>Your Primary keys should be like given below using <a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"nofollow noreferrer\">Annotation Use-site Targets</a></p>\n\n<pre><code>@field:PrimaryKey @field:SerializedName(\"guid\") var guid: String = \"\"\n</code></pre>\n\n<p>and </p>\n\n<pre><code>@field:PrimaryKey @field:SerializedName(\"id\") var id: Int = 0\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6463, "user_id": 2683275, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/MUB13.jpg?s=128&g=1", "display_name": "Rat-a-tat-a-tat Ratatouille", "link": "https://stackoverflow.com/users/2683275/rat-a-tat-a-tat-ratatouille"}, "edited": false, "score": 0, "creation_date": 1538106906, "post_id": 46867296, "comment_id": 92035405, "body": "This works.. +1. Infact for those who do not want to use ignore, you can simply specify your typeconverter, but do not include @Embedded for a list of objects"}], "tags": [], "owner": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "is_accepted": true, "score": 3, "last_activity_date": 1508614719, "creation_date": 1508614719, "answer_id": 46867296, "question_id": 46774218, "link": "https://stackoverflow.com/questions/46774218/room-database-error-with-kotlin-data-class/46867296#46867296", "title": "Room Database error with Kotlin Data Class", "body": "<p>The issue was extremely difficult to debug and harder to reproduce, but I found the issue. I was using an <code>@Embedded</code> object, but the result that was going in was actually a <code>List</code> of that object. This was giving trouble to the automatic Embed task, and there wasn't a perfect Converter that could be written for it.</p>\n\n<pre><code>@SerializedName(\"range_choices\")\n@Embedded\nvar rangeChoices: List&lt;RangeChoice&gt;? = null,\n</code></pre>\n\n<p>I had to annotate that with <code>@Ignore</code> and instead, I'll be saving the results of this list to its own table, now the new table <code>range_choices</code>.</p>\n"}], "owner": {"reputation": 1205, "user_id": 2686654, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHptL.jpg?s=128&g=1", "display_name": "WoogieNoogie", "link": "https://stackoverflow.com/users/2686654/woogienoogie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12312, "favorite_count": 0, "accepted_answer_id": 46867296, "answer_count": 4, "score": 14, "last_activity_date": 1600340473, "creation_date": 1508168901, "last_edit_date": 1508614917, "question_id": 46774218, "link": "https://stackoverflow.com/questions/46774218/room-database-error-with-kotlin-data-class", "title": "Room Database error with Kotlin Data Class", "body": "<p>I've been moving into using Room, and I've run into a blocking issue. I've gone through and fixed all of the compile-time checks from the Room library, but am now encountering the following error:</p>\n\n<pre><code>Entities and Pojos must have a usable public constructor. You can have an empty constructor or a constructor whose parameters match the fields (by name and type).\n</code></pre>\n\n<p>This appears twice at compile time with no evidence of which class this comes from, but I was able to figure out (by removing classes from the Database) that this was one of the files. I'm assuming it has something to do with the Primary Key being a string instead of an Int (this is one of two classes that uses this), but nothing in the documentation indicates what the issue would be, and in fact the documentation shows that strings are valid Primary Keys.</p>\n\n<pre><code>@Entity(tableName = \"inspections\")\ndata class Inspection(\n@SerializedName(\"id\")\nvar id: Int = 0,\n\n...\n// Rest of code left off for brevity, found to not be related to the issue.\n</code></pre>\n\n<p>I've tried a few things to try and get around this.</p>\n\n<ul>\n<li>Remove the data attribute of this class to make it a normal POKO</li>\n<li>Remove the variables from the default constructor, and place them into the class</li>\n<li>Remove the Ignore from the empty constructor (note, this causes a different issue, <code>Room cannot pick a constructor since multiple constructors are suitable</code> - the Ignore annotation on a default constructor gets around this.) This is the part which perplexes me the most - removing this says \"multiple constructors are valid\", keeping it says \"no constructors are valid\".</li>\n</ul>\n\n<p>Updated: Adding a few more relevant code snippets from my project.</p>\n\n<p>build.gradle</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n.....\nimplementation 'android.arch.persistence.room:runtime:1.0.0-alpha9-1'\nimplementation 'android.arch.persistence.room:rxjava2:1.0.0-alpha9-1'\nkapt 'android.arch.persistence.room:compiler:1.0.0-alpha9-1'\n</code></pre>\n\n<p>Database class</p>\n\n<pre><code>@Database(entities =\n    arrayOf(Account::class, Category::class,\n            Inspection::class, InspectionForm::class,\n            InspectionFormItem::class, InspectionFormsStructure::class,\n            InspectionItemPhoto::class,\n            InspectionItem::class, LineItem::class,\n            LocalPhoto::class, Rating::class,\n            Structure::class, SupervisoryZone::class,\n            Upload::class, User::class),\n    version = 16)\n@TypeConverters(Converters::class)\nabstract class OrangeDatabase : RoomDatabase() {\n    abstract fun inspectionDao(): InspectionDao\n\n    abstract fun localDao(): LocalDao\n\n    abstract fun ratingsDao(): RatingsDao\n\n    abstract fun structureZoneDao(): StructureZoneDao\n\n    abstract fun userAccountDao(): UserAccountDao\n}\n</code></pre>\n\n<p>Converters</p>\n\n<pre><code>class Converters {\n@TypeConverter\nfun fromTimestamp(value: Long?): Date? {\n    return if (value == null) Date() else Date(value)\n}\n\n@TypeConverter\nfun dateToTimestamp(date: Date?): Long? {\n    return date?.time ?: 0\n}\n\n@TypeConverter\nfun fromStringToArray(value: String?): Array&lt;String&gt;? {\n    return value?.split(\",\")?.toTypedArray() ?: arrayOf()\n}\n\n@TypeConverter\nfun stringToStringArray(strings: Array&lt;String&gt;?): String? {\n    return strings?.joinToString(\",\") ?: \"\"\n}\n}\n</code></pre>\n\n<p>Another data class</p>\n\n<pre><code>@Entity(tableName = \"users\")\ndata class User(\n@PrimaryKey\n@SerializedName(\"id\")\nvar id: Int = 0,\n\n...\n// Rest of code left off for brevity, found to not be related to the issue.\n</code></pre>\n\n<p>UserPermissions class:</p>\n\n<pre><code>data class UserPermissions(\n@SerializedName(\"id\")\nvar pid: Int = 0,\n\n...\n// Rest of code left off for brevity, found to not be related to the issue.\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 7503, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "edited": false, "score": 0, "creation_date": 1508168740, "post_id": 46773888, "comment_id": 80493998, "body": "you are right. The mistake was inside lambda. The crush really looks confusing :( thanks"}], "tags": [], "owner": {"reputation": 9470, "user_id": 925478, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/51c385b62e5fca7e554d61641fc2b15b?s=128&d=identicon&r=PG", "display_name": "Myk Willis", "link": "https://stackoverflow.com/users/925478/myk-willis"}, "is_accepted": true, "score": 0, "last_activity_date": 1508168290, "last_edit_date": 1508168290, "creation_date": 1508167855, "answer_id": 46773888, "question_id": 46773756, "link": "https://stackoverflow.com/questions/46773756/timer-crashes-with-kotlinnullpointerexception-inside-fragment/46773888#46773888", "title": "timer crashes with KotlinNullPointerException inside fragment", "body": "<p>It looks to me like <code>textViewTimer</code> or <code>activity</code> is null on this line:</p>\n\n<pre><code>activity.runOnUiThread{...}\n</code></pre>\n\n<p>Are you sure you've set it up appropriately?</p>\n\n<p>In particular, you cannot rely on <code>Fragment.getActivity()</code> (just <code>activity</code> here in Kotlin) to return a non-null value at arbitrary points after creation. Because you are executing this in a timer, it is possible for <code>getActivity</code> to return null.</p>\n\n<p>Aside: The stack traces can be confusing when using nested lambdas like this. If you look carefully at</p>\n\n<pre><code>at com.dmitry.timer.views.TimerFragment$onViewCreated$1$$special$$inlined$scheduleAtFixedRate$1.run(Timer.kt:145)\n</code></pre>\n\n<p>You can see the <code>$1</code> after <code>scheduleAtFixedRate</code>. That dollar-sign notation is often used to refer to anonymous methods or lambdas, and here I believe it is referring to your timer handler itself.</p>\n"}, {"tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 0, "last_activity_date": 1508168539, "creation_date": 1508168539, "answer_id": 46774100, "question_id": 46773756, "link": "https://stackoverflow.com/questions/46773756/timer-crashes-with-kotlinnullpointerexception-inside-fragment/46774100#46774100", "title": "timer crashes with KotlinNullPointerException inside fragment", "body": "<p>In addition to the answer by Myk Willis, you are combining the safe-call (<code>.?</code>) as well as the NPE-call (<code>!!</code>) operators.</p>\n\n<p>This means that if <code>timerViewModel</code>, <code>timerViewModel.timerValue</code> or <code>timerViewModel.timerValue.value</code> is <code>null</code> then that can also cause the NPE that you're seeing. Effectively negating the benefit of using the safe-call operator.</p>\n"}], "owner": {"reputation": 7503, "user_id": 2339405, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/K0wMk.jpg?s=128&g=1", "display_name": "Rainmaker", "link": "https://stackoverflow.com/users/2339405/rainmaker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 552, "favorite_count": 0, "accepted_answer_id": 46773888, "answer_count": 2, "score": 0, "last_activity_date": 1508168539, "creation_date": 1508167512, "last_edit_date": 1508168140, "question_id": 46773756, "link": "https://stackoverflow.com/questions/46773756/timer-crashes-with-kotlinnullpointerexception-inside-fragment", "title": "timer crashes with KotlinNullPointerException inside fragment", "body": "<p>I created Timer (java.util.Timer) in Kotlin this way:</p>\n\n<pre><code>override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    buttonStart.setOnClickListener({\n        val timer = Timer(\"schedule\", true)\n        timer.scheduleAtFixedRate(1000, 1000) {\n            if (timerViewModel?.timerValue?.value!! &gt; 0){\n                timerViewModel?.timerValue?.value = timerViewModel?.timerValue?.value!! - 1\n                activity.runOnUiThread { textViewTimer.text = timerViewModel?.timerValue?.value?.toString() }\n            } else {\n                cancel()\n            }\n        }\n    })\n}\n</code></pre>\n\n<p>This code crashes on 5th line with the error:</p>\n\n<pre><code> kotlin.KotlinNullPointerException\n           at com.dmitry.timer.views.TimerFragment$onViewCreated$1$$special$$inlined$scheduleAtFixedRate$1.run(Timer.kt:145)\n           at java.util.Timer$TimerImpl.run(Timer.java:284)\n</code></pre>\n\n<p>When I create timer inside <code>activity</code> - it works fine.\nWhat is the problem?</p>\n"}, {"tags": ["android", "dependency-injection", "kotlin", "kodein"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 7289713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6783bddc77fd0376eee611067888286c?s=128&d=identicon&r=PG&f=1", "display_name": "Halima", "link": "https://stackoverflow.com/users/7289713/halima"}, "edited": false, "score": 0, "creation_date": 1508225699, "post_id": 46772766, "comment_id": 80515864, "body": "Thak you but it&#39;s weird because it works when i call  <code>callType.call (callType.callNumber)</code>, but i&#39;ll change it. My problem is in CallType class. I want to inject value in this class. But i don&#39;t know how because it extends nothing."}, {"owner": {"reputation": 5, "user_id": 7289713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6783bddc77fd0376eee611067888286c?s=128&d=identicon&r=PG&f=1", "display_name": "Halima", "link": "https://stackoverflow.com/users/7289713/halima"}, "edited": false, "score": 0, "creation_date": 1508237219, "post_id": 46772766, "comment_id": 80522662, "body": "i&#39;m really blocked... if you have any idea. Thak you for your help"}, {"owner": {"reputation": 7879, "user_id": 1269640, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/41b92fffd289939497f29809d146c59d?s=128&d=identicon&r=PG", "display_name": "Salomon BRYS", "link": "https://stackoverflow.com/users/1269640/salomon-brys"}, "reply_to_user": {"reputation": 5, "user_id": 7289713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6783bddc77fd0376eee611067888286c?s=128&d=identicon&r=PG&f=1", "display_name": "Halima", "link": "https://stackoverflow.com/users/7289713/halima"}, "edited": false, "score": 0, "creation_date": 1508243297, "post_id": 46772766, "comment_id": 80526570, "body": "You can pass it the <code>kodein</code> property at constructor, and then use standard retrieval methods : <a href=\"https://salomonbrys.github.io/Kodein/#_dependency_retrieval\" rel=\"nofollow noreferrer\">salomonbrys.github.io/Kodein/#_dependency_retrieval</a>"}, {"owner": {"reputation": 5, "user_id": 7289713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6783bddc77fd0376eee611067888286c?s=128&d=identicon&r=PG&f=1", "display_name": "Halima", "link": "https://stackoverflow.com/users/7289713/halima"}, "edited": false, "score": 0, "creation_date": 1508318583, "post_id": 46772766, "comment_id": 80560575, "body": "Thank you, but I find it hard to understand in your doc. Can you show me an example with my <code>CallType</code> and <code>ConnectivitySate</code> above classes, for example ?"}], "tags": [], "owner": {"reputation": 7879, "user_id": 1269640, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/41b92fffd289939497f29809d146c59d?s=128&d=identicon&r=PG", "display_name": "Salomon BRYS", "link": "https://stackoverflow.com/users/1269640/salomon-brys"}, "is_accepted": true, "score": 0, "last_activity_date": 1508164253, "creation_date": 1508164253, "answer_id": 46772766, "question_id": 46771739, "link": "https://stackoverflow.com/questions/46771739/kodein-inject-data-to-simple-class/46772766#46772766", "title": "kodein, inject data to simple class", "body": "<p>When you call <code>super.onCreate()</code>, it calls <code>onCreateView</code>, so the line <code>callType.call(callType.callNumber)</code> is called <strong>before</strong> <code>initializeInjector()</code>.</p>\n\n<p>Note that you should always call <code>initializeInjector()</code> <strong>before</strong> calling <code>super.onCreate()</code>:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    initializeInjector()\n    super.onCreate(savedInstanceState)\n}\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 7289713, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6783bddc77fd0376eee611067888286c?s=128&d=identicon&r=PG&f=1", "display_name": "Halima", "link": "https://stackoverflow.com/users/7289713/halima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 679, "favorite_count": 0, "accepted_answer_id": 46772766, "answer_count": 1, "score": 0, "last_activity_date": 1508164253, "creation_date": 1508161139, "question_id": 46771739, "link": "https://stackoverflow.com/questions/46771739/kodein-inject-data-to-simple-class", "title": "kodein, inject data to simple class", "body": "<p>i'm new on kotlin and kodein development.\nI want to inject data to a simple class which extends nothing.</p>\n\n<p>I have my <code>MainActivity</code> which extends <code>KodeinAppCompatActivity()</code>,\nmy fragment which extends <code>KodeinSupportFragment()</code> calls a function from my simple class <code>CallType</code>. But this function must to change a boolean from an other simple class <code>ConnectivitySate</code>. I don't want to use static value.</p>\n\n<p>Below, my code :</p>\n\n<pre><code>    class App : Application(), KodeinAware {\n\noverride val kodein by Kodein.lazy {\n    import(autoAndroidModule(this@App))\n\n    bind&lt;CallType&gt;() with instance(CallType())\n    bind&lt;ConnectivityState&gt;() with instance(ConnectivityState())\n    bind&lt;ContactData&gt;() with instance(ContactData())\n\n}\n\noverride fun onCreate() {\n    super.onCreate()\n    registerActivityLifecycleCallbacks(androidActivityScope.lifecycleManager)\n}        \n</code></pre>\n\n<p>MainActivity :</p>\n\n<pre><code>    class MainActivity : KodeinAppCompatActivity() {        \n</code></pre>\n\n<p>My Fragment :</p>\n\n<pre><code>class JournalFragment : KodeinSupportFragment(){\n\n  private val callType: CallType by instance()\n\n  @SuppressLint(\"MissingSuperCall\")\n  override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    initializeInjector()\n}\n\n  override fun onCreateView(inflater: LayoutInflater?, container: \n          ViewGroup?,savedInstanceState: Bundle?): View? {\n\n      // !! CALL MY FUNCTION !!\n      callType.call(callType.callNumber)\n\n  }\n\n ....\n\n @SuppressLint(\"MissingSuperCall\")\n override fun onDestroy() {\n    super.onDestroy()\n    destroyInjector()\n}\n</code></pre>\n\n<p>My simple class :</p>\n\n<pre><code>class CallType {\n\nfun call(number: String) {\n\n   // !! I want to change gsmState value from ConnectivityState class\n   connectivityState.gsmState = true\n\n}\n</code></pre>\n\n<p>My ConnectivityState class :</p>\n\n<pre><code>class ConnectivityState {\n\n    var gsmState = false\n\n}\n</code></pre>\n\n<p>It is an example among many others, because in lots of situations, i'm blocked like that. I have try lots of things but i always have like error : <code>value not injected</code></p>\n\n<p>Thank you very much for your reply..</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "kotlin-android-extensions"], "answers": [{"tags": [], "owner": {"reputation": 731, "user_id": 7316510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qlsvQ.jpg?s=128&g=1", "display_name": "Sneha Sarkar", "link": "https://stackoverflow.com/users/7316510/sneha-sarkar"}, "is_accepted": false, "score": 0, "last_activity_date": 1508150389, "creation_date": 1508150389, "answer_id": 46768371, "question_id": 46768265, "link": "https://stackoverflow.com/questions/46768265/start-a-project-with-the-help-of-kotlin-in-android/46768371#46768371", "title": "Start a Project with the help of Kotlin in android", "body": "<p>There is no link better than <a href=\"https://kotlinlang.org/docs/tutorials/kotlin-android.html\" rel=\"nofollow noreferrer\">this</a> to learn Kotlin language for development.</p>\n\n<p>You can refer to this link.</p>\n"}, {"tags": [], "owner": {"reputation": 308, "user_id": 2130708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m6HkO.jpg?s=128&g=1", "display_name": "Sijansd", "link": "https://stackoverflow.com/users/2130708/sijansd"}, "is_accepted": false, "score": 1, "last_activity_date": 1508176394, "last_edit_date": 1508176394, "creation_date": 1508161838, "answer_id": 46771973, "question_id": 46768265, "link": "https://stackoverflow.com/questions/46768265/start-a-project-with-the-help-of-kotlin-in-android/46771973#46771973", "title": "Start a Project with the help of Kotlin in android", "body": "<p>You can follow <a href=\"https://www.programiz.com/kotlin-programming/hello-world\" rel=\"nofollow noreferrer\">this</a> link to learn basic syntax of Kotlin.</p>\n\n<p>This tutorial is with very good examples and very helpful for beginners.</p>\n\n<p>If you want to learn some android basic with kotlin <a href=\"https://android.jlelse.eu/learn-kotlin-while-developing-an-android-app-introduction-567e21ff9664\" rel=\"nofollow noreferrer\">this</a> link can help you.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 4004690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb3a7a190cb2073129bc965c6dcb3290?s=128&d=identicon&r=PG", "display_name": "Aneesh Melkot", "link": "https://stackoverflow.com/users/4004690/aneesh-melkot"}, "is_accepted": false, "score": 0, "last_activity_date": 1508234914, "creation_date": 1508234914, "answer_id": 46787629, "question_id": 46768265, "link": "https://stackoverflow.com/questions/46768265/start-a-project-with-the-help-of-kotlin-in-android/46787629#46787629", "title": "Start a Project with the help of Kotlin in android", "body": "<p>A simple Google search or Youtube search will yield all the info that you want, to help get you started. I have gathered some of them here which I used.</p>\n\n<ul>\n<li><a href=\"https://youtu.be/H_oGi8uuDpA\" rel=\"nofollow noreferrer\">Kotlin In One Video</a> by Derek Banas (Youtube)</li>\n<li><a href=\"https://www.youtube.com/watch?v=Org0vh-VSgA&amp;list=PLsyeobzWxl7rooJFZhc3qPLwVROovGCfh\" rel=\"nofollow noreferrer\">Kotlin Tutorials Playlist</a> by Telusko Learnings (Youtube)</li>\n<li>You can also check out the Kotlin Developer Course on Udemy by Rob Percival and Nick Walter (Paid Course)</li>\n</ul>\n"}], "owner": {"reputation": 380, "user_id": 5474261, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/PR6u0.jpg?s=128&g=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/5474261/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1508234914, "creation_date": 1508150036, "question_id": 46768265, "link": "https://stackoverflow.com/questions/46768265/start-a-project-with-the-help-of-kotlin-in-android", "title": "Start a Project with the help of Kotlin in android", "body": "<p><strong>I am new in Kotlin for android and i have just started to learn.Please let me know how i should have a knowledge about Kotlin for creating  a project in Android with the help of Kotlin.?</strong></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 3351, "user_id": 7344445, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cNjFr.jpg?s=128&g=1", "display_name": "Atif AbbAsi", "link": "https://stackoverflow.com/users/7344445/atif-abbasi"}, "edited": false, "score": 0, "creation_date": 1614104621, "post_id": 46766950, "comment_id": 117281519, "body": "check <a href=\"https://stackoverflow.com/questions/10496616/how-to-remove-the-decimal-part-from-a-float-number-that-contains-0-in-java\" title=\"how to remove the decimal part from a float number that contains 0 in java\">stackoverflow.com/questions/10496616/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": true, "score": 8, "last_activity_date": 1508147024, "last_edit_date": 1508147024, "creation_date": 1508146669, "answer_id": 46767172, "question_id": 46766950, "link": "https://stackoverflow.com/questions/46766950/kotlin-how-do-i-check-if-a-number-has-decimal-points-modulus-solution-doesnt/46767172#46767172", "title": "Kotlin: How do i check if a number has decimal points (modulus solution doesn&#39;t work)", "body": "<h1>Equivalent code</h1>\n\n<p>The 0 is an int, so you need to explicitly say you want a double like this:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun factor100(n: Number) = n.toDouble() % 100.0 == 0.0\n</code></pre>\n\n<h1>Why this probably is not what you want</h1>\n\n<p>For double values this may not work correctly, due to floating point errors, so you will want to check if the difference is smaller than some small amount.</p>\n\n<p>An example of how this is broken is this:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var x = 0.3 - 0.2         // 0.1 (ish)\n    x *= 1000                 // 100 (ish)\n    println(factor100(x))     // False\n}\n\nfun factor100(n: Number) = n.toDouble() % 100.0 == 0.0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 387, "user_id": 7303452, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xHgsn.jpg?s=128&g=1", "display_name": "Hamlet Leon", "link": "https://stackoverflow.com/users/7303452/hamlet-leon"}, "is_accepted": false, "score": -1, "last_activity_date": 1532713019, "creation_date": 1532713019, "answer_id": 51562981, "question_id": 46766950, "link": "https://stackoverflow.com/questions/46766950/kotlin-how-do-i-check-if-a-number-has-decimal-points-modulus-solution-doesnt/51562981#51562981", "title": "Kotlin: How do i check if a number has decimal points (modulus solution doesn&#39;t work)", "body": "<p>I don't know if im just lazy searching how to do this with core functions or there are no solutions about it. So i solved it doing this:</p>\n\n<pre><code>fun Double?.checkDecimals(decimals: Int): Boolean {\n    if (this == null) return false\n    val comparator = 10.0.pow(decimals)\n    val doubleTimesComparator = (this * comparator)\n    val integerUnit = doubleTimesComparator.toInt()\n    return doubleTimesComparator == integerUnit.toDouble()\n}\n</code></pre>\n\n<hr>\n\n<p>*android</p>\n"}, {"tags": [], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "is_accepted": false, "score": 4, "last_activity_date": 1575034620, "creation_date": 1575034620, "answer_id": 59105872, "question_id": 46766950, "link": "https://stackoverflow.com/questions/46766950/kotlin-how-do-i-check-if-a-number-has-decimal-points-modulus-solution-doesnt/59105872#59105872", "title": "Kotlin: How do i check if a number has decimal points (modulus solution doesn&#39;t work)", "body": "<p>See <a href=\"https://stackoverflow.com/a/45422616/2914140\">https://stackoverflow.com/a/45422616/2914140</a>. </p>\n\n<pre><code>num % 1.0 != 0.0 // But better compare with a small constant like 1e-8.\n</code></pre>\n\n<p>For currency:</p>\n\n<p><code>num.absoluteValue % 1.0 &gt;= 0.005</code> (or other small constant).</p>\n"}, {"tags": [], "owner": {"reputation": 250, "user_id": 4156497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EEXRk.png?s=128&g=1", "display_name": "Geeky bean", "link": "https://stackoverflow.com/users/4156497/geeky-bean"}, "is_accepted": false, "score": 2, "last_activity_date": 1588148315, "creation_date": 1588148315, "answer_id": 61497191, "question_id": 46766950, "link": "https://stackoverflow.com/questions/46766950/kotlin-how-do-i-check-if-a-number-has-decimal-points-modulus-solution-doesnt/61497191#61497191", "title": "Kotlin: How do i check if a number has decimal points (modulus solution doesn&#39;t work)", "body": "<p>In Kotlin you can use the \"rem\" function:</p>\n\n<pre><code>if (number.rem(1).equals(0.0))\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 8783319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5138d2d416e1fdbeff739e8a4d4fdc4?s=128&d=identicon&r=PG&f=1", "display_name": "eLn86", "link": "https://stackoverflow.com/users/8783319/eln86"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6314, "favorite_count": 0, "accepted_answer_id": 46767172, "answer_count": 4, "score": 4, "last_activity_date": 1588148315, "creation_date": 1508145908, "question_id": 46766950, "link": "https://stackoverflow.com/questions/46766950/kotlin-how-do-i-check-if-a-number-has-decimal-points-modulus-solution-doesnt", "title": "Kotlin: How do i check if a number has decimal points (modulus solution doesn&#39;t work)", "body": "<p>I'm new to Kotlin and came from JS. I am currently making a calculator app and am working on the '%' operator. I need to find out if the output of the 'current input * 0.01' is a whole number or with decimal points. Usually, I would use</p>\n\n<pre><code>num % 1 !== 0\n</code></pre>\n\n<p>but it does not work in Kotlin and gives me the error \"!= operator cannot be applied to Double or Int\". It is the same for Strings or Characters. My Kotlin code is below, hope someone can help! Thanks!</p>\n\n<pre><code>val percentResult: Double() = result.toDouble() * 0.01\n  if(percentResult % 1 != 0) {\n   result = (NumberFormat.getInstance().format(percentResult)).toString()\n  } else {\n   result = percentResult.toInt().toString()\n  }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1508136365, "post_id": 46764344, "comment_id": 80473942, "body": "Synchronous calls don&#39;t cause that exception. Calling network anywhere on the main thread does. Please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and the full logcat"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1508136622, "post_id": 46764344, "comment_id": 80474064, "body": "Also, not the problem, but after getting the token, this can easily be asynchronously done with <code>call.enqueue()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 5965352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/83d9543cd617125e873207e1149dd239?s=128&d=identicon&r=PG&f=1", "display_name": "Mehdi_ag", "link": "https://stackoverflow.com/users/5965352/mehdi-ag"}, "is_accepted": true, "score": 0, "last_activity_date": 1508141530, "last_edit_date": 1508141530, "creation_date": 1508140925, "answer_id": 46765549, "question_id": 46764344, "link": "https://stackoverflow.com/questions/46764344/android-retrofit-2-synchronous-call/46765549#46765549", "title": "Android Retrofit 2 synchronous call", "body": "<p>the best way to implementing refreshToken with Retrofit is using Authenticator.</p>\n\n<pre><code>class TokenAuthenticator : Authenticator {\n    override fun authenticate(route: Route?, response: Response?): Request {\n        //call your Refresh Token here\n    }\n}\n</code></pre>\n\n<p>finally set TokenAuthenticator to your OkHttpClient</p>\n\n<pre><code>val httpClient : OkHttpClient.Builder = OkHttpClient.Builder()\nhttpClient.authenticator (TokenAuthenticator())\n</code></pre>\n\n<p>if you insist on using your way you should call retrofit api in another thread</p>\n"}], "owner": {"reputation": 8470, "user_id": 682763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/cc4ab410936026ce1b033d77cfca419e?s=128&d=identicon&r=PG", "display_name": "Expert wanna be", "link": "https://stackoverflow.com/users/682763/expert-wanna-be"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1016, "favorite_count": 0, "accepted_answer_id": 46765549, "answer_count": 1, "score": 0, "last_activity_date": 1508141530, "creation_date": 1508136201, "last_edit_date": 1508136669, "question_id": 46764344, "link": "https://stackoverflow.com/questions/46764344/android-retrofit-2-synchronous-call", "title": "Android Retrofit 2 synchronous call", "body": "<p>I need to the synchronous call to refresh the Auth token, but I got '<strong>NetworkOnMainThreadException</strong>'.</p>\n\n<pre><code>@Synchronized\nfun refreshToken(): String? {\n    val refreshToken = AuthService.getRefreshToken(context)\n    var id_token: String? = null\n\n    val call = apiService.refreshToken(\"refresh_token\", refreshToken)\n            val response = call.execute()\n\n            id_token = response.body()\n\n            if (id_token != null)\n            {\n                AuthService.saveTokens(context, id_token)\n            }\n        })\n\n    return id_token\n}\n</code></pre>\n\n<p>How should I do to avoid the 'NetworkOnMainThreadException'?</p>\n\n<pre><code>D/OkHttp: --&gt; POST https://localhost/api/auth/refresh http/1.1 (372-byte body)\nD/OkHttp: &lt;-- HTTP FAILED: android.os.NetworkOnMainThreadException\nD/AndroidRuntime: Shutting down VM\nE/AndroidRuntime: FATAL EXCEPTION: main\n                  Process: com.test, PID: 1537\n                  android.os.NetworkOnMainThreadException\n                  ...\n</code></pre>\n"}, {"tags": ["kotlin", "in-operator"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1508135671, "post_id": 46764081, "comment_id": 80473579, "body": "It tests is &quot;KOTLIN&quot; is &gt;= &quot;J&quot; and &lt;= &quot;K&quot;, using the compareTo() method of String."}, {"owner": {"reputation": 12732, "user_id": 430128, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c2aa2c9f527afea12a7fef458588b2a1?s=128&d=identicon&r=PG", "display_name": "Raman", "link": "https://stackoverflow.com/users/430128/raman"}, "edited": false, "score": 0, "creation_date": 1508174069, "post_id": 46764081, "comment_id": 80496811, "body": "I think this will make it clear what your issue is: <code>println(&quot;KOTLIN&quot; in &quot;J&quot;..&quot;KZ&quot;)</code> i.e. <code>KOTLIN &gt; K</code> and <code>KOTLIN &lt; KZ</code>"}], "answers": [{"comments": [{"owner": {"reputation": 7173, "user_id": 3753273, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5135b28f6bb4bf11bc932641a0362fd4?s=128&d=identicon&r=PG&f=1", "display_name": "Android Developer", "link": "https://stackoverflow.com/users/3753273/android-developer"}, "edited": false, "score": 0, "creation_date": 1508136284, "post_id": 46764287, "comment_id": 80473902, "body": "Hows the comparison for &quot;KOTLIN&quot; in &quot;Java&quot;..&quot;Scala&quot; is done.Is every character of string is compared.And if yes with with what it is compared?"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 7173, "user_id": 3753273, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5135b28f6bb4bf11bc932641a0362fd4?s=128&d=identicon&r=PG&f=1", "display_name": "Android Developer", "link": "https://stackoverflow.com/users/3753273/android-developer"}, "edited": false, "score": 0, "creation_date": 1508136548, "post_id": 46764287, "comment_id": 80474031, "body": "It relies on Java&#39;s String compare, I added the implementation"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 6, "last_activity_date": 1508137063, "last_edit_date": 1508137063, "creation_date": 1508135979, "answer_id": 46764287, "question_id": 46764081, "link": "https://stackoverflow.com/questions/46764081/using-in-operator-to-compare-string-with-range-of-strings/46764287#46764287", "title": "Using in operator to compare string with range of strings", "body": "<p><code>in</code> is compiled down to the following function (defined in <code>kotlin.ranges.Range.kt</code>):</p>\n\n<pre><code>public operator fun contains(value: T): Boolean = value &gt;= start &amp;&amp; value &lt;= endInclusive\n</code></pre>\n\n<p>So <code>\"KOTLIN\" in \"J\"..\"K\"</code> results in:</p>\n\n<pre><code>(\"J\"..\"K\").contains(\"KOTLIN\")\n</code></pre>\n\n<p>The comparison in this case relies on normal <code>String</code> comparisons since >= and &lt;= are compiled down to variations of <code>compareTo</code>. The implementation looks as follows:</p>\n\n<pre><code>public int compareTo(String anotherString) {\n    int len1 = value.length;\n    int len2 = anotherString.value.length;\n    int lim = Math.min(len1, len2);\n    char v1[] = value;\n    char v2[] = anotherString.value;\n\n    int k = 0;\n    while (k &lt; lim) {\n        char c1 = v1[k];\n        char c2 = v2[k];\n        if (c1 != c2) {\n            return c1 - c2;\n        }\n        k++;\n    }\n    return len1 - len2;\n}\n</code></pre>\n\n<p>So, <code>\"KOTLIN\" in \"Java\"..\"Scala\"</code> is equal to the following:</p>\n\n<pre><code>\"KOTLIN\".compareTo(\"Java\") &gt;=0 &amp;&amp; \"KOTLIN\".compareTo(\"Scala\") &lt;= 0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12732, "user_id": 430128, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/c2aa2c9f527afea12a7fef458588b2a1?s=128&d=identicon&r=PG", "display_name": "Raman", "link": "https://stackoverflow.com/users/430128/raman"}, "is_accepted": false, "score": 3, "last_activity_date": 1508174408, "creation_date": 1508174408, "answer_id": 46775753, "question_id": 46764081, "link": "https://stackoverflow.com/questions/46764081/using-in-operator-to-compare-string-with-range-of-strings/46775753#46775753", "title": "Using in operator to compare string with range of strings", "body": "<p>Based on your question, I think you are confused about this result:</p>\n\n<p><code>println(\"KOTLIN\" in \"J\"..\"K\")</code> is <code>false</code></p>\n\n<p>Basically, if you were to sort these using Java's String comparison implementation, you would see this:</p>\n\n<pre><code>Bhuv\nJ\nJava\nK\nKOTLIN\nKZ\n</code></pre>\n\n<p>Since <code>K</code> is lexicographically before <code>KOTLIN</code>, the result you are seeing makes total sense.</p>\n"}], "owner": {"reputation": 7173, "user_id": 3753273, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5135b28f6bb4bf11bc932641a0362fd4?s=128&d=identicon&r=PG&f=1", "display_name": "Android Developer", "link": "https://stackoverflow.com/users/3753273/android-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1616, "favorite_count": 0, "accepted_answer_id": 46764287, "answer_count": 2, "score": 1, "last_activity_date": 1508174408, "creation_date": 1508135035, "last_edit_date": 1508138249, "question_id": 46764081, "link": "https://stackoverflow.com/questions/46764081/using-in-operator-to-compare-string-with-range-of-strings", "title": "Using in operator to compare string with range of strings", "body": "<p>I am using in operator to check whether a value is in range. But I am not able to understand exactly how the comparison with range of strings is done. Below are the few arguments and their output which I have tried:</p>\n\n<pre><code>   println(\"KOTLIN\" in \"J\"..\"K\")\nfalse\n\n   println(\"KOTLIN\" in \"Java\"..\"Scala\")\ntrue\n\n    println(\"KOTLIN\" in \"Java\"..\"Bhuv\")\nfalse\n</code></pre>\n"}, {"tags": ["android", "kotlin", "tail-recursion"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1508141994, "post_id": 46763795, "comment_id": 80476891, "body": "I tried it with the code you provided, and got <code>5! = 120</code>."}, {"owner": {"reputation": 8935, "user_id": 7637657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5QJPu.jpg?s=128&g=1", "display_name": "Alexander Romanov", "link": "https://stackoverflow.com/users/7637657/alexander-romanov"}, "edited": false, "score": 0, "creation_date": 1508143426, "post_id": 46763795, "comment_id": 80477659, "body": "Same. Got <code>5! = 120</code>."}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1508143720, "post_id": 46763795, "comment_id": 80477832, "body": "Idem, I got <code>5! = 120</code> in the kotlin REPL"}, {"owner": {"reputation": 509, "user_id": 3262945, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/957df820ce0836fdbbc397be1be303f4?s=128&d=identicon&r=PG&f=1", "display_name": "SarojMjn", "link": "https://stackoverflow.com/users/3262945/sarojmjn"}, "edited": false, "score": 0, "creation_date": 1508215631, "post_id": 46763795, "comment_id": 80511575, "body": "I cleaned and then re ran. It got me the desired result. Don&#39;t know what went wrong before."}, {"owner": {"reputation": 4991, "user_id": 1498586, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/wcmTY.jpg?s=128&g=1", "display_name": "Mahdi", "link": "https://stackoverflow.com/users/1498586/mahdi"}, "edited": false, "score": 0, "creation_date": 1512215647, "post_id": 46763795, "comment_id": 82173592, "body": "Your code workings fine"}], "answers": [{"tags": [], "owner": {"reputation": 4991, "user_id": 1498586, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/wcmTY.jpg?s=128&g=1", "display_name": "Mahdi", "link": "https://stackoverflow.com/users/1498586/mahdi"}, "is_accepted": false, "score": 1, "last_activity_date": 1512372564, "last_edit_date": 1512372564, "creation_date": 1512217272, "answer_id": 47607846, "question_id": 46763795, "link": "https://stackoverflow.com/questions/46763795/in-kotlin-android-tailrec-function-returns-0/47607846#47607846", "title": "In kotlin android tailrec function returns 0", "body": "<p>You code is right and you definitely get <strong>0</strong> for multiple result more than <strong>MAX_SIZE</strong> of <strong>Int</strong> value. You can get Int max size with:</p>\n\n<pre><code>Int.MAX_VALUE\n</code></pre>\n\n<p>So if this y * x cross <code>Int.MAX_VALUE = 2147483647</code>, fun will return <strong>0</strong> to you.\nFor number bigger than <strong>16</strong> func will return minus number and for greater than <strong>33</strong> it will return <strong>0</strong>. you can check this by:</p>\n\n<pre><code>for(x in 5..50){\n    log.i(\"$x! : ${fact(x)}\")\n  }\n</code></pre>\n\n<p>So you can handle this by changing variable from Int to Long</p>\n\n<pre><code>fun fact(x : Long) : Long {\n     fun factTail(y : Long , z :Long):Long {\n         return if (y == 0L)  z\n         else return factTail(y-1 ,y*z)\n        }\n        return factTail(x ,1)\n   }\n</code></pre>\n\n<p>But Long also have its limitation. Hope you get the point.</p>\n"}], "owner": {"reputation": 509, "user_id": 3262945, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/957df820ce0836fdbbc397be1be303f4?s=128&d=identicon&r=PG&f=1", "display_name": "SarojMjn", "link": "https://stackoverflow.com/users/3262945/sarojmjn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1512372564, "creation_date": 1508133618, "last_edit_date": 1508143398, "question_id": 46763795, "link": "https://stackoverflow.com/questions/46763795/in-kotlin-android-tailrec-function-returns-0", "title": "In kotlin android tailrec function returns 0", "body": "<p>I tried to use this tutorial <a href=\"https://www.youtube.com/watch?v=H_oGi8uuDpA\" rel=\"nofollow noreferrer\">youtube tutorial</a>. I have a function as follows:</p>\n\n<pre><code>fun fact(x:Int):Int{\n    tailrec fun factTail(y:Int, z:Int):Int{\n        return if(y == 0) {\n            z\n        } else {\n            factTail(y - 1, y * z)\n        }\n    }\n    return factTail(x,1)\n}\n</code></pre>\n\n<p>and this function is called in oncreate as:</p>\n\n<pre><code>var abc = fact(5)\nLog.i(TAG, \"5! = $abc\")\n</code></pre>\n\n<p>When the app outputs log it shows like this:</p>\n\n<pre><code>I/MainActivity: 5! = 0\n</code></pre>\n\n<p>Can anyone point out what is wrong here.</p>\n"}, {"tags": ["java", "android", "json", "gson", "kotlin"], "comments": [{"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1508117509, "post_id": 46761428, "comment_id": 80468849, "body": "Please share the whole error log."}, {"owner": {"reputation": 604, "user_id": 2113970, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BsCjm.jpg?s=128&g=1", "display_name": "Derek Fredrickson", "link": "https://stackoverflow.com/users/2113970/derek-fredrickson"}, "reply_to_user": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1508122175, "post_id": 46761428, "comment_id": 80469792, "body": "Updated it with the error log"}], "answers": [{"comments": [{"owner": {"reputation": 604, "user_id": 2113970, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BsCjm.jpg?s=128&g=1", "display_name": "Derek Fredrickson", "link": "https://stackoverflow.com/users/2113970/derek-fredrickson"}, "edited": false, "score": 0, "creation_date": 1508123953, "post_id": 46762398, "comment_id": 80470181, "body": "Hmm, interesting. Thanks for running that test for me. That makes me think there is something wrong with the way I&#39;m reading in the JSON file itself."}], "tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": false, "score": 3, "last_activity_date": 1508123458, "creation_date": 1508123458, "answer_id": 46762398, "question_id": 46761428, "link": "https://stackoverflow.com/questions/46761428/json-to-hashmap-with-objects-using-gson/46762398#46762398", "title": "JSON to HashMap with objects using Gson", "body": "<p>I don't know why you have any error. I am able to parse the JSON with following code.</p>\n\n<pre><code>val gson = GsonBuilder().create()\nval type = object:TypeToken&lt;Map&lt;String, MainObject&gt;&gt;(){}.type\nval result = gson.fromJson&lt;Map&lt;String, MainObject&gt;&gt;(\"{ \\\"a\\\": { \\\"name\\\": \\\"A\\\", \\\"some_int\\\": \\\"2\\\", \\\"some_string\\\": \\\"string\\\", \\\"some_bool\\\": false, \\\"some_string_arr\\\": [ \\\"str1\\\", \\\"str2\\\" ], \\\"sub_obj_arr\\\": [ { \\\"obj_name\\\": \\\"d\\\", \\\"some_obj_string\\\": \\\"s\\\" } ] }, \\\"b\\\": { \\\"name\\\": \\\"B\\\", \\\"some_int\\\": \\\"4\\\", \\\"some_string\\\": \\\"string\\\", \\\"some_bool\\\": false, \\\"some_string_arr\\\": [ \\\"str5\\\", \\\"str6\\\" ] } }\", type)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 604, "user_id": 2113970, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BsCjm.jpg?s=128&g=1", "display_name": "Derek Fredrickson", "link": "https://stackoverflow.com/users/2113970/derek-fredrickson"}, "is_accepted": false, "score": 0, "last_activity_date": 1508126760, "creation_date": 1508126760, "answer_id": 46762789, "question_id": 46761428, "link": "https://stackoverflow.com/questions/46761428/json-to-hashmap-with-objects-using-gson/46762789#46762789", "title": "JSON to HashMap with objects using Gson", "body": "<p>Okay, with the help of others I figured out that the issue wasn't with Gson or my JSON or anything. It was in the way I was reading it into memory. The code I was using was:</p>\n\n<pre><code>val input = this.resources.openRawResource(R.raw.json)\nval json = try {\n    val size = input.available()\n    val buffer = ByteArray(size)\n    input.read(buffer)\n    input.close()\n    String(buffer)\n} catch (ex: IOException) {\n    ex.printStackTrace()\n    null\n}\n</code></pre>\n\n<p>However, <code>String(buffer)</code> defaults to using UTF_8 charset. In order for mine to work, I needed to use a UTF_16 charset. The working change was using <code>String(buffer, Charsets.UTF_16)</code>. </p>\n"}], "owner": {"reputation": 604, "user_id": 2113970, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BsCjm.jpg?s=128&g=1", "display_name": "Derek Fredrickson", "link": "https://stackoverflow.com/users/2113970/derek-fredrickson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2515, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1508126760, "creation_date": 1508113886, "last_edit_date": 1508126289, "question_id": 46761428, "link": "https://stackoverflow.com/questions/46761428/json-to-hashmap-with-objects-using-gson", "title": "JSON to HashMap with objects using Gson", "body": "<p>In my Android app (written in Kotlin), I need to turn some JSON into a string to MainObject hash map. This is what the JSON looks like:</p>\n\n<pre><code>{\n    \"a\": {\n        \"name\": \"A\",\n        \"some_int\": \"2\",\n        \"some_string\": \"string\",\n        \"some_bool\": false,\n        \"some_string_arr\": [\n            \"str1\",\n            \"str2\"\n        ],\n        \"sub_obj_arr\": [\n            {\n                \"obj_name\": \"d\",\n                \"some_obj_string\": \"s\"\n            }\n        ]\n    },\n    \"b\": {\n        \"name\": \"B\",\n        \"some_int\": \"4\",\n        \"some_string\": \"string\",\n        \"some_bool\": false,\n        \"some_string_arr\": [\n            \"str5\",\n            \"str6\"\n        ]\n    }\n}\n</code></pre>\n\n<p>I created a couple of objects to help with this.</p>\n\n<pre><code>class MainObject {\n    @SerializedName(\"name\")\n    val name: String? = null\n\n    @SerializedName(\"some_int\")\n    val someInt: Int? = null\n\n    @SerializedName(\"some_string\")\n    val someString: String? = null\n\n    @SerializedName(\"some_bool\")\n    val someBool: Boolean = false\n\n    @SerializedName(\"some_string_arr\")\n    val someStringArr: List&lt;String&gt;? = null\n\n    @SerializedName(\"sub_obj_arr\")\n    val someObjArr: List&lt;SubObject&gt;? = null\n}\n\nclass SubObject {\n    @SerializedName(\"obj_name\")\n    val objName: String? = null\n\n    @SerializedName(\"some_obj_string\")\n    val someObjString: String? = null\n}\n</code></pre>\n\n<p>How do I convert this into a type of <code>HashMap&lt;String, MainObject&gt;</code>? I tried using a TypeToken as described <a href=\"https://stackoverflow.com/questions/2779251/how-can-i-convert-json-to-a-hashmap-using-gson\">here</a>, but I was getting the error \"expected begin object but was string\".</p>\n\n<p>Any ideas? </p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I'm also reading in the JSON data locally via the solution described <a href=\"https://stackoverflow.com/questions/45176941/how-to-parse-local-json-file-in-assets\">here</a></p>\n\n<p>Error Log</p>\n\n<pre><code>10-15 20:06:42.771 10328-10328/xxx E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: xxx, PID: 10328\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{xxx}: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n        at android.os.Handler.dispatchMessage(Handler.java:105)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n     Caused by: com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\n        at com.google.gson.Gson.fromJson(Gson.java:900)\n        at com.google.gson.Gson.fromJson(Gson.java:853)\n        at com.google.gson.Gson.fromJson(Gson.java:802)\n        at xxx.onCreate(BottomNavigation.kt:48)\n        at android.app.Activity.performCreate(Activity.java:6975)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\u00a0\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\u00a0\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:105)\u00a0\n        at android.os.Looper.loop(Looper.java:164)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\u00a0\n     Caused by: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $\n        at com.google.gson.stream.JsonReader.beginObject(JsonReader.java:385)\n        at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:183)\n        at com.google.gson.internal.bind.MapTypeAdapterFactory$Adapter.read(MapTypeAdapterFactory.java:145)\n        at com.google.gson.Gson.fromJson(Gson.java:888)\n        at com.google.gson.Gson.fromJson(Gson.java:853)\u00a0\n        at com.google.gson.Gson.fromJson(Gson.java:802)\u00a0\n        at xxx.onCreate(BottomNavigation.kt:48)\u00a0\n        at android.app.Activity.performCreate(Activity.java:6975)\u00a0\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\u00a0\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\u00a0\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\u00a0\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\u00a0\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\u00a0\n        at android.os.Handler.dispatchMessage(Handler.java:105)\u00a0\n        at android.os.Looper.loop(Looper.java:164)\u00a0\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\u00a0\n        at java.lang.reflect.Method.invoke(Native Method)\u00a0\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\u00a0\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\u00a0\n</code></pre>\n\n<p><strong>Update 2</strong></p>\n\n<p>The actual issue is something wrong with the way I am reading in my local JSON file. The code I use is this:</p>\n\n<pre><code>val input = this.resources.openRawResource(R.raw.json)\nval json = try {\n    val size = input.available()\n    val buffer = ByteArray(size)\n    input.read(buffer)\n    input.close()\n    String(buffer)\n} catch (ex: IOException) {\n    ex.printStackTrace()\n    null\n}\n</code></pre>\n\n<p>Which gives me these weird characters when I print out the json to the console:</p>\n\n<p>10-15 23:55:11.911 3351-3351/xxx I/System.out: \ufffd\ufffd{\ufffd\ufffd\ufffd\ufffd</p>\n\n<p>10-15 23:55:11.911 3351-3351/xxx I/System.out: \ufffd\ufffd \ufffd\ufffd \ufffd\ufffd \ufffd\ufffd \ufffd\ufffd\"\ufffd\ufffda\ufffd\ufffd\"\ufffd\ufffd:\ufffd\ufffd \ufffd\ufffd{\ufffd\ufffd\ufffd\ufffd</p>\n\n<p>No idea why though. </p>\n"}, {"tags": ["java", "kotlin", "rx-java2", "kotlin-interop"], "answers": [{"comments": [{"owner": {"reputation": 7544, "user_id": 73046, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/pWrkh.jpg?s=128&g=1", "display_name": "James Moore", "link": "https://stackoverflow.com/users/73046/james-moore"}, "edited": false, "score": 0, "creation_date": 1508168805, "post_id": 46763302, "comment_id": 80494031, "body": "I would have sworn I triple-checked the order of the type parameters, but obviously not."}], "tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 2, "last_activity_date": 1508130510, "creation_date": 1508130510, "answer_id": 46763302, "question_id": 46761401, "link": "https://stackoverflow.com/questions/46761401/how-do-you-use-flowable-generate-from-kotlin/46763302#46763302", "title": "How do you use Flowable.generate from Kotlin", "body": "<p>The type for <code>generate()</code> should be <code>&lt;String, Int&gt;</code> and the type for <code>BiConsumer</code> should be <code>&lt;Int, Emitter&lt;String&gt;&gt;</code>.</p>\n\n<pre><code>val xs: Flowable&lt;String&gt; = Flowable.generate&lt;String, Int&gt;(\n        java.util.concurrent.Callable&lt;Int&gt; { -&gt; 0 },\n        io.reactivex.functions.BiConsumer&lt;Int, Emitter&lt;String&gt;&gt; { t1, t2 -&gt;  }\n)\n</code></pre>\n"}], "owner": {"reputation": 7544, "user_id": 73046, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/pWrkh.jpg?s=128&g=1", "display_name": "James Moore", "link": "https://stackoverflow.com/users/73046/james-moore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 831, "favorite_count": 0, "accepted_answer_id": 46763302, "answer_count": 1, "score": 1, "last_activity_date": 1508130510, "creation_date": 1508113667, "question_id": 46761401, "link": "https://stackoverflow.com/questions/46761401/how-do-you-use-flowable-generate-from-kotlin", "title": "How do you use Flowable.generate from Kotlin", "body": "<p>Here's a failed stub attempt at Flowable.generate (with more type annotations than I'd normally use):</p>\n\n<pre><code>val xs: Flowable&lt;String&gt; = Flowable.generate&lt;Int, String&gt;(\n  java.util.concurrent.Callable&lt;Int&gt; { -&gt; 0 },\n  io.reactivex.functions.BiConsumer&lt;Int, String&gt; { t1, t2 -&gt; }\n)\n</code></pre>\n\n<p>The Java signature I'd like to use is:</p>\n\n<pre><code>public static &lt;T, S&gt; Flowable&lt;T&gt; generate(Callable&lt;S&gt; initialState, final BiConsumer&lt;S, Emitter&lt;T&gt;&gt; generator)\n</code></pre>\n\n<p>The error I'm getting is:</p>\n\n<pre><code>Error:(145, 12) None of the following functions can be called with the arguments supplied:\n@CheckReturnValue @BackpressureSupport @SchedulerSupport public final fun &lt;T : Any!, S : Any!&gt; generate(p0: (() -&gt; (???..???))!, p1: (((???..???), Emitter&lt;(???..???)&gt;!) -&gt; Unit)!): Flowable&lt;(???..???)&gt;! defined in io.reactivex.Flowable\n@CheckReturnValue @BackpressureSupport @SchedulerSupport public final fun &lt;T : Any!, S : Any!&gt; generate(p0: (() -&gt; (???..???))!, p1: ((???, Emitter&lt;(???..???)&gt;) -&gt; ???)!): Flowable&lt;(???..???)&gt;! defined in io.reactivex.Flowable\n@CheckReturnValue @BackpressureSupport @SchedulerSupport public open fun &lt;T : Any!, S : Any!&gt; generate(p0: Callable&lt;(???..???)&gt;!, p1: BiConsumer&lt;(???..???), Emitter&lt;String!&gt;!&gt;!): Flowable&lt;String!&gt;! defined in io.reactivex.Flowable\n@CheckReturnValue @BackpressureSupport @SchedulerSupport public open fun &lt;T : Any!, S : Any!&gt; generate(p0: Callable&lt;Int!&gt;!, p1: BiFunction&lt;Int!, Emitter&lt;(???..???)&gt;!, Int!&gt;!): Flowable&lt;(???..???)&gt;! defined in io.reactivex.Flowable\n</code></pre>\n\n<p>What <em>should</em> I be feeding the compiler?</p>\n"}, {"tags": ["android", "kotlin", "pubnub"], "comments": [{"owner": {"reputation": 4312, "user_id": 1342232, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BNnph.jpg?s=128&g=1", "display_name": "Craig Conover", "link": "https://stackoverflow.com/users/1342232/craig-conover"}, "edited": false, "score": 0, "creation_date": 1508194124, "post_id": 46760242, "comment_id": 80506268, "body": "Which version of PubNub Android SDK? Can you share more complete code?"}, {"owner": {"reputation": 847, "user_id": 5400847, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/---nToSRbky4/AAAAAAAAAAI/AAAAAAAAAXc/RGgyKXJX5XE/photo.jpg?sz=128", "display_name": "Ayush Singh", "link": "https://stackoverflow.com/users/5400847/ayush-singh"}, "reply_to_user": {"reputation": 4312, "user_id": 1342232, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BNnph.jpg?s=128&g=1", "display_name": "Craig Conover", "link": "https://stackoverflow.com/users/1342232/craig-conover"}, "edited": false, "score": 1, "creation_date": 1508216425, "post_id": 46760242, "comment_id": 80511825, "body": "It is solved now. I found that I couldn\u2019t modify or do anything to the textview from insider the subscribe listener, so I made a new asynctask"}, {"owner": {"reputation": 5269, "user_id": 3268303, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8480b7d6292d1310066b690175c73c5b?s=128&d=identicon&r=PG&f=1", "display_name": "dazza5000", "link": "https://stackoverflow.com/users/3268303/dazza5000"}, "edited": false, "score": 0, "creation_date": 1509236451, "post_id": 46760242, "comment_id": 80938010, "body": "You can also use runOnUiThread"}, {"owner": {"reputation": 4312, "user_id": 1342232, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BNnph.jpg?s=128&g=1", "display_name": "Craig Conover", "link": "https://stackoverflow.com/users/1342232/craig-conover"}, "edited": false, "score": 0, "creation_date": 1511300222, "post_id": 46760242, "comment_id": 81800985, "body": "You should post as official answer ^^^"}], "answers": [{"tags": [], "owner": {"reputation": 4312, "user_id": 1342232, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/BNnph.jpg?s=128&g=1", "display_name": "Craig Conover", "link": "https://stackoverflow.com/users/1342232/craig-conover"}, "is_accepted": false, "score": 0, "last_activity_date": 1521162544, "creation_date": 1521162544, "answer_id": 49311712, "question_id": 46760242, "link": "https://stackoverflow.com/questions/46760242/pubnub-subscribe-android-kotlin/49311712#49311712", "title": "PubNub subscribe android kotlin", "body": "<p>Adding answer on behalf of Ayush Singh</p>\n\n<p>I found that I couldn\u2019t modify or do anything to the textview from inside the subscribe listener, so I made a new async task.</p>\n\n<p>You can also use <code>runOnUiThread</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 345, "user_id": 5331813, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/LQmuD.jpg?s=128&g=1", "display_name": "Khalid Ali", "link": "https://stackoverflow.com/users/5331813/khalid-ali"}, "is_accepted": false, "score": 0, "last_activity_date": 1523445865, "creation_date": 1523445865, "answer_id": 49773854, "question_id": 46760242, "link": "https://stackoverflow.com/questions/46760242/pubnub-subscribe-android-kotlin/49773854#49773854", "title": "PubNub subscribe android kotlin", "body": "<p>This error happens always when you try updating <strong>UI View</strong> out of the main thread which created this view, so you should put your updating code inside  <em>runOnUiThread</em> method. And here is the simplest way to do that in kotlin using lambda.</p>\n\n<pre><code>runOnUiThread {         \n     Log.i(\"Tag\", \"runOnUiThread\") \n     // put your code here\n}\n</code></pre>\n"}], "owner": {"reputation": 847, "user_id": 5400847, "user_type": "registered", "accept_rate": 40, "profile_image": "https://lh4.googleusercontent.com/---nToSRbky4/AAAAAAAAAAI/AAAAAAAAAXc/RGgyKXJX5XE/photo.jpg?sz=128", "display_name": "Ayush Singh", "link": "https://stackoverflow.com/users/5400847/ayush-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 144, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1523445865, "creation_date": 1508103377, "question_id": 46760242, "link": "https://stackoverflow.com/questions/46760242/pubnub-subscribe-android-kotlin", "title": "PubNub subscribe android kotlin", "body": "<p>I am trying to setup listener in pubnub in an android app but am having problems. The app crashes whenever any message is received. I am getting this error in logcat - <code>android.view.ViewRootImpl$CalledFromWrongThreadException: Only the original thread that created a view hierarchy can touch its views.</code></p>\n\n<p>Can anyone suggest any solution to this?</p>\n"}, {"tags": ["java", "android", "reflection", "kotlin"], "comments": [{"owner": {"reputation": 1045, "user_id": 2549828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb6c3041a1a42fd8dae7cda9be3da38?s=128&d=identicon&r=PG", "display_name": "Phoca", "link": "https://stackoverflow.com/users/2549828/phoca"}, "edited": false, "score": 2, "creation_date": 1508101921, "post_id": 46759959, "comment_id": 80465425, "body": "What is the type of the parameter of <code>removeBondNative</code>? Usually you giving the class of the parameter there like for example <code>Int::class.java</code>. Why are you casting null to Class here?"}, {"owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "reply_to_user": {"reputation": 1045, "user_id": 2549828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb6c3041a1a42fd8dae7cda9be3da38?s=128&d=identicon&r=PG", "display_name": "Phoca", "link": "https://stackoverflow.com/users/2549828/phoca"}, "edited": false, "score": 0, "creation_date": 1508104471, "post_id": 46759959, "comment_id": 80466092, "body": "@Phoca the param type is possibly Boolean but the examples I have been finding all implement with null Class array. I have seen posts that claim it works for them but for me not at all. I will try to change to Boolean but as for the call to invoke how can I know what to pass as argument? I am trying to unpair a Bluetooth device if that helps."}], "answers": [{"comments": [{"owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "edited": false, "score": 1, "creation_date": 1508166828, "post_id": 46765316, "comment_id": 80492779, "body": "What ended up working in the end was going back to using removeBond as in: <code>device::Class.java.getMethod(&quot;removeBond&quot;).invoke(device)</code> omitting the parameter list altogether."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 3, "last_activity_date": 1508140061, "creation_date": 1508140061, "answer_id": 46765316, "question_id": 46759959, "link": "https://stackoverflow.com/questions/46759959/kotlin-reflection-for-java-method-accepting-null-class-array/46765316#46765316", "title": "kotlin reflection for java method accepting null Class array", "body": "<p>The error message tells you the problem: <code>Class&lt;*&gt;</code> is a non-null type, so casts to it always check the casted value isn't null. You could write <code>null as Class&lt;*&gt;?</code>, but that would be equivalent of <code>(Class) null</code>. You want <code>null as Array&lt;Class&lt;*&gt;&gt;?</code> instead.</p>\n\n<p>However, at any rate this seems pointless: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html#getMethod(java.lang.String,%20java.lang.Class...)\" rel=\"nofollow noreferrer\">\"If parameterTypes is null, it is treated as if it were an empty array\"</a> so <code>.getMethod(\"removeBondNative\")</code> should give you the same result.</p>\n"}], "owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1508, "favorite_count": 0, "accepted_answer_id": 46765316, "answer_count": 1, "score": 0, "last_activity_date": 1508140061, "creation_date": 1508101295, "last_edit_date": 1508132283, "question_id": 46759959, "link": "https://stackoverflow.com/questions/46759959/kotlin-reflection-for-java-method-accepting-null-class-array", "title": "kotlin reflection for java method accepting null Class array", "body": "<p>I have java code like this: </p>\n\n<pre><code>Method m = device.getClass()\n        .getMethod(\"removeBondNative\", (Class[]) null);\nm.invoke(device, (Object[]) null);\n</code></pre>\n\n<p>and I am trying to write the same thing in Kotlin like this:</p>\n\n<pre><code>device.javaClass.getMethod(\"removeBondNative\", null as Class&lt;*&gt;).invoke(device, null as Any)\n</code></pre>\n\n<p>but I get this error message: </p>\n\n<pre><code>Process: com.example.zemcd.toofxchange, PID: 17466\n   kotlin.TypeCastException: null cannot be cast to non-null type java.lang.Class&lt;*&gt;\n       at com.example.zemcd.toofxchange.BluetoothUtils$Companion.unPair(BluetoothUtils.kt:61)\n       at com.example.zemcd.toofxchange.DeviceAdapter$DeviceHolder$bindItems$1$$special$$inlined$forEach$lambda$1.onClick(DeviceAdapter.kt:98)\n       at android.view.View.performClick(View.java:5217)\n       at android.view.View$PerformClick.run(View.java:21349)\n       at android.os.Handler.handleCallback(Handler.java:739)\n       at android.os.Handler.dispatchMessage(Handler.java:95)\n       at android.os.Looper.loop(Looper.java:148)\n       at android.app.ActivityThread.main(ActivityThread.java:5585)\n       at java.lang.reflect.Method.invoke(Native Method)\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:730)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:620)\n</code></pre>\n\n<p>I also tried changing null to Unit:</p>\n\n<pre><code>device.javaClass.getMethod(\"removeBondNative\", Unit as Class&lt;*&gt;).invoke(device, null as Any)\n</code></pre>\n\n<p>but still encounter error:</p>\n\n<pre><code>Process: com.example.zemcd.toofxchange, PID: 19219\n   java.lang.ClassCastException: kotlin.Unit cannot be cast to java.lang.Class\n       at com.example.zemcd.toofxchange.BluetoothUtils$Companion.unPair(BluetoothUtils.kt:61)\n       at com.example.zemcd.toofxchange.DeviceAdapter$DeviceHolder$bindItems$1$$special$$inlined$forEach$lambda$1.onClick(DeviceAdapter.kt:98)\n       at android.view.View.performClick(View.java:5217)\n       at android.view.View$PerformClick.run(View.java:21349)\n       at android.os.Handler.handleCallback(Handler.java:739)\n       at android.os.Handler.dispatchMessage(Handler.java:95)\n       at android.os.Looper.loop(Looper.java:148)\n       at android.app.ActivityThread.main(ActivityThread.java:5585)\n       at java.lang.reflect.Method.invoke(Native Method)\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:730)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:620)\n</code></pre>\n\n<p>What I am doing wrong here? how can java reflection be mirrored in Kotlin in a situation like this?</p>\n"}, {"tags": ["kotlin", "corda"], "answers": [{"comments": [{"owner": {"reputation": 2066, "user_id": 6363050, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f9db389fc3801b8ecef05ed3074e2f03?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel Dare", "link": "https://stackoverflow.com/users/6363050/samuel-dare"}, "edited": false, "score": 0, "creation_date": 1508098520, "post_id": 46759514, "comment_id": 80464514, "body": "Thanks for your help. Where do I add the dependency? In the gradle file?"}, {"owner": {"reputation": 2066, "user_id": 6363050, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f9db389fc3801b8ecef05ed3074e2f03?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel Dare", "link": "https://stackoverflow.com/users/6363050/samuel-dare"}, "edited": false, "score": 0, "creation_date": 1508098647, "post_id": 46759514, "comment_id": 80464547, "body": "Here are kotlin dependencies in my gradle file: ` kotlinOptions {         languageVersion = &quot;1.1&quot;         apiVersion = &quot;1.1&quot;         jvmTarget = &quot;1.8&quot;         javaParameters = true   // Useful for reflection.     }`"}, {"owner": {"reputation": 2066, "user_id": 6363050, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f9db389fc3801b8ecef05ed3074e2f03?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel Dare", "link": "https://stackoverflow.com/users/6363050/samuel-dare"}, "edited": false, "score": 0, "creation_date": 1508098676, "post_id": 46759514, "comment_id": 80464554, "body": "They seem to point to the reflection library (please correct me if im wrong)"}, {"owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "reply_to_user": {"reputation": 2066, "user_id": 6363050, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f9db389fc3801b8ecef05ed3074e2f03?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel Dare", "link": "https://stackoverflow.com/users/6363050/samuel-dare"}, "edited": false, "score": 0, "creation_date": 1508100294, "post_id": 46759514, "comment_id": 80464981, "body": "<a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#configuring-dependencies\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/&hellip;</a> See the note about reflection."}, {"owner": {"reputation": 2066, "user_id": 6363050, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f9db389fc3801b8ecef05ed3074e2f03?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel Dare", "link": "https://stackoverflow.com/users/6363050/samuel-dare"}, "edited": false, "score": 0, "creation_date": 1508100403, "post_id": 46759514, "comment_id": 80465008, "body": "Thanks . Added <code>compile &quot;org.jetbrains.kotlin:kotlin-reflect&quot;     testCompile &quot;org.jetbrains.kotlin:kotlin-test&quot;     testCompile &quot;org.jetbrains.kotlin:kotlin-test-junit&quot;</code> and its throwing the same error"}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 3, "last_activity_date": 1508098264, "creation_date": 1508098264, "answer_id": 46759514, "question_id": 46759460, "link": "https://stackoverflow.com/questions/46759460/unresolved-reference-jvmname/46759514#46759514", "title": "Unresolved reference: jvmName", "body": "<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.reflect.jvm/jvm-name.html\" rel=\"nofollow noreferrer\"><code>KClass&lt;*&gt;.jvmName</code></a> belongs to the <code>kotlin-reflect</code> library, you probably don't have it included as a dependency.</p>\n"}, {"tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": true, "score": 2, "last_activity_date": 1508101406, "creation_date": 1508101406, "answer_id": 46759974, "question_id": 46759460, "link": "https://stackoverflow.com/questions/46759460/unresolved-reference-jvmname/46759974#46759974", "title": "Unresolved reference: jvmName", "body": "<p>You need to add the following line: <code>import kotlin.reflect.jvm.jvmName</code>.</p>\n"}], "owner": {"reputation": 2066, "user_id": 6363050, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f9db389fc3801b8ecef05ed3074e2f03?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel Dare", "link": "https://stackoverflow.com/users/6363050/samuel-dare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "accepted_answer_id": 46759974, "answer_count": 2, "score": 1, "last_activity_date": 1508101406, "creation_date": 1508097899, "question_id": 46759460, "link": "https://stackoverflow.com/questions/46759460/unresolved-reference-jvmname", "title": "Unresolved reference: jvmName", "body": "<p>I am trying to build a kotlin file with gradle in terminal. </p>\n\n<p>I am getting this error:</p>\n\n<pre><code> Unresolved reference: jvmName\n</code></pre>\n\n<p>Here is a copy of the line from the code: </p>\n\n<pre><code>val outputContract = IOUContract::class.jvmName\n</code></pre>\n\n<p>Syntax seems fines. Would appreciate it if someone could give pointers on this</p>\n"}, {"tags": ["kotlin", "corda"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1508095941, "post_id": 46758820, "comment_id": 80463637, "body": "The <code>class</code> keyword should be lowercase."}], "answers": [{"tags": [], "owner": {"reputation": 23867, "user_id": 4620025, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/hKFnG.jpg?s=128&g=1", "display_name": "Joel", "link": "https://stackoverflow.com/users/4620025/joel"}, "is_accepted": true, "score": 3, "last_activity_date": 1508096910, "creation_date": 1508096910, "answer_id": 46759315, "question_id": 46758820, "link": "https://stackoverflow.com/questions/46758820/expecting-member-declaration/46759315#46759315", "title": "Expecting Member Declaration", "body": "<p>As zsmb13 says, the <code>class</code> keyword should have a lower-case <code>c</code> (see <a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/classes.html</a>).</p>\n"}], "owner": {"reputation": 2066, "user_id": 6363050, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/f9db389fc3801b8ecef05ed3074e2f03?s=128&d=identicon&r=PG&f=1", "display_name": "Samuel Dare", "link": "https://stackoverflow.com/users/6363050/samuel-dare"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6028, "favorite_count": 0, "accepted_answer_id": 46759315, "answer_count": 1, "score": 0, "last_activity_date": 1508096910, "creation_date": 1508093842, "question_id": 46758820, "link": "https://stackoverflow.com/questions/46758820/expecting-member-declaration", "title": "Expecting Member Declaration", "body": "<p>I am trying to build a kotlin file (Corda) but running into the following error:</p>\n\n<blockquote>\n  <p>e:\n  /Users/pro/Documents/Code/Corda/Tutorials/Kotlin/cordapp-template-kotlin/src/main/kotlin/com/template/App.kt:\n  (59, 5): Expecting member declaration e:\n  /Users/pro/Documents/Code/Corda/Tutorials/Kotlin/cordapp-template-kotlin/src/main/kotlin/com/template/App.kt:\n  (59, 11): Expecting member declaration e:\n  /Users/pro/Documents/Code/Corda/Tutorials/Kotlin/cordapp-template-kotlin/src/main/kotlin/com/template/App.kt:\n  (59, 17): Expecting member declaration e:\n  /Users/pro/Documents/Code/Corda/Tutorials/Kotlin/cordapp-template-kotlin/src/main/kotlin/com/template/App.kt:\n  (59, 19): Expecting member declaration</p>\n</blockquote>\n\n<p>Here is a snippet of line 59:</p>\n\n<pre><code> // A transaction is considered valid if the verify() function of the contract of each of the transaction's input\n    // and output states does not throw an exception.\n\n    // Our Create Command\n    Class Create: CommandData //Line 59\n</code></pre>\n\n<p>I am unsure of how to debug this and will appreciate any pointers on this</p>\n"}, {"tags": ["java", "generics", "kotlin", "interop"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1508141050, "post_id": 46758572, "comment_id": 80476349, "body": "Instantiating it in Java this way is a bad idea, see <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/generics/rawTypes.html</a>."}, {"owner": {"reputation": 16758, "user_id": 444639, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/76bfe9645715492707b67ed7d04bc73a?s=128&d=identicon&r=PG", "display_name": "Mike Rylander", "link": "https://stackoverflow.com/users/444639/mike-rylander"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1508358827, "post_id": 46758572, "comment_id": 80584899, "body": "@AlexeyRomanov I you stating that instantiating an generic object using raw types is a bad idea? (if so, I would agree. I just want to make sure I understand you comment)"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 1, "creation_date": 1508360788, "post_id": 46758572, "comment_id": 80585815, "body": "Yes (as a specific case of a more general statement that using raw types is a bad idea unless you have requirements to maintain compatibility with pre-Java-5 code/JVM)."}], "answers": [{"comments": [{"owner": {"reputation": 16758, "user_id": 444639, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/76bfe9645715492707b67ed7d04bc73a?s=128&d=identicon&r=PG", "display_name": "Mike Rylander", "link": "https://stackoverflow.com/users/444639/mike-rylander"}, "edited": false, "score": 0, "creation_date": 1508101421, "post_id": 46759901, "comment_id": 80465300, "body": "If it was converted to Kotlin and used the signature <code>class MyLegacyClass&lt;out T : MyLegacyClass&lt;T&gt;&gt;</code>, what would the instantiation then look like?"}, {"owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "reply_to_user": {"reputation": 16758, "user_id": 444639, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/76bfe9645715492707b67ed7d04bc73a?s=128&d=identicon&r=PG", "display_name": "Mike Rylander", "link": "https://stackoverflow.com/users/444639/mike-rylander"}, "edited": false, "score": 4, "creation_date": 1508101507, "post_id": 46759901, "comment_id": 80465324, "body": "@MikeRylander it will look like: <code>val x = MyLegacyClass&lt;MyLegacyClass&lt;*&gt;&gt;()</code>"}, {"owner": {"reputation": 16758, "user_id": 444639, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/76bfe9645715492707b67ed7d04bc73a?s=128&d=identicon&r=PG", "display_name": "Mike Rylander", "link": "https://stackoverflow.com/users/444639/mike-rylander"}, "edited": false, "score": 2, "creation_date": 1508101705, "post_id": 46759901, "comment_id": 80465373, "body": "The Java interoperability issue you referenced to is that Kotlin interprets that as invariant instead of covariant?"}, {"owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "reply_to_user": {"reputation": 16758, "user_id": 444639, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/76bfe9645715492707b67ed7d04bc73a?s=128&d=identicon&r=PG", "display_name": "Mike Rylander", "link": "https://stackoverflow.com/users/444639/mike-rylander"}, "edited": false, "score": 3, "creation_date": 1508101766, "post_id": 46759901, "comment_id": 80465390, "body": "@MikeRylander Exactly"}], "tags": [], "owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "is_accepted": true, "score": 8, "last_activity_date": 1508100872, "creation_date": 1508100872, "answer_id": 46759901, "question_id": 46758572, "link": "https://stackoverflow.com/questions/46758572/instantiate-a-concrete-java-class-that-uses-recursive-generics-in-kotlin/46759901#46759901", "title": "Instantiate a concrete Java class that uses recursive generics in Kotlin", "body": "<blockquote>\n  <p>Can I instantiate a concrete Java class that uses recursive generics in Kotlin? if so then how?</p>\n</blockquote>\n\n<p><strong>No, you can't</strong>.\nThe problem is related to variance.</p>\n\n<p>This Java class:</p>\n\n<pre><code>public class MyLegacyClass&lt;T extends MyLegacyClass&lt;T&gt;&gt; {}\n</code></pre>\n\n<p>is equal to this Kotlin class:</p>\n\n<pre><code>class MyLegacyClass&lt;T : MyLegacyClass&lt;T&gt;&gt;\n</code></pre>\n\n<p>that is <strong>invariant</strong> in its parameter <code>T</code>. You would need instead a <strong>covariant</strong> type, so, in this case:</p>\n\n<pre><code>class MyLegacyClass&lt;out T : MyLegacyClass&lt;T&gt;&gt;\n</code></pre>\n\n<p>But you <strong>can't</strong> do it without creating a new Kotlin class due to Java interoperability.</p>\n\n<p>I would move the class <code>MyLegacyClass</code> to Kotlin covariant in its parameter <code>T</code> if possible, otherwise, your approach is correct.</p>\n"}], "owner": {"reputation": 16758, "user_id": 444639, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/76bfe9645715492707b67ed7d04bc73a?s=128&d=identicon&r=PG", "display_name": "Mike Rylander", "link": "https://stackoverflow.com/users/444639/mike-rylander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 1, "accepted_answer_id": 46759901, "answer_count": 1, "score": 9, "last_activity_date": 1508100872, "creation_date": 1508092350, "last_edit_date": 1508092652, "question_id": 46758572, "link": "https://stackoverflow.com/questions/46758572/instantiate-a-concrete-java-class-that-uses-recursive-generics-in-kotlin", "title": "Instantiate a concrete Java class that uses recursive generics in Kotlin", "body": "<p>Can I instantiate a concrete Java class that uses recursive generics in Kotlin, if so then how?</p>\n\n<p><strong>Details</strong></p>\n\n<p>I am trying to instantiate a Java class that uses recursive generics similar to the example below. I found a work around for wrapping the Java class in a new class, but that feels like I am sidestepping a problem that I should be able to handle directly. </p>\n\n<p><em>Java Class With Recursive Generics</em></p>\n\n<pre><code>public class MyLegacyClass&lt;T extends MyLegacyClass&lt;T&gt;&gt; {\n    // implementation ...\n}\n</code></pre>\n\n<p><em>How it is Instantiated in Java</em></p>\n\n<pre><code>// In Java we just ignore the generic type...\nMyLegacyClass myLegacyClass = new MyLegacyClass();\n</code></pre>\n\n<p><em>Failed Attempts to Instantiate in Kotlin</em></p>\n\n<pre><code>class myClass {\n    // Error: One type argument expected for class...\n    val x: MyLegacyClass = MyLegacyClass()\n\n    // Still 'Error: One type argument expected for class..' You start to see the problem here. \n    val y: MyLegacyClass&lt;MyLegacyClass&lt;MyLegacyClass&lt;MyLegacyClass&gt;&gt;&gt; = MyLegacyClass()\n}\n</code></pre>\n\n<p><em>Kotlin workaround</em></p>\n\n<pre><code>class MyLegacyClassWrapper : MyLegacyClass&lt;MyLegacyClassWrapper&gt;()\n\nclass myClass {\n    val x: MyLegacyClass&lt;MyLegacyClassWrapper&gt; = MyLegacyClassWrapper()\n}\n</code></pre>\n"}, {"tags": ["kotlin", "nullable"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1508092462, "post_id": 46758566, "comment_id": 80462488, "body": "Are you asking how to store something other than <code>null</code>? How to access a nullable object without using <code>!!</code>? Both of those are covered in the language docs."}, {"owner": {"reputation": 488, "user_id": 8534933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e20cfa958d169445a3c8e86cf06d6a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy Alvarez", "link": "https://stackoverflow.com/users/8534933/jimmy-alvarez"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1508093024, "post_id": 46758566, "comment_id": 80462693, "body": "I want to store a new item on the list but this throws the exception when I try to use the method .add which is what I use to store items in java."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1508093560, "post_id": 46758566, "comment_id": 80462901, "body": "But you don&#39;t have a list in the first place, you have <code>null</code>. The main change from Java there is simply that Kotlin gives you the option of non-nullable references, and goes as far as making that the default. You have to opt into <code>null</code>, and unchecked access won&#39;t compile (you told the compiler with <code>!!</code> that you guarantee it isn&#39;t <code>null</code>, which was a lie), so it&#39;s considerably harder to accidentally have a <code>NullPointerException</code>."}, {"owner": {"reputation": 488, "user_id": 8534933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e20cfa958d169445a3c8e86cf06d6a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy Alvarez", "link": "https://stackoverflow.com/users/8534933/jimmy-alvarez"}, "reply_to_user": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1508094575, "post_id": 46758566, "comment_id": 80463227, "body": "Yes, that is what is happening, what can I do to solve this kind of problems. In may case I do&#39;t know long this list will be so I can put a fix size. in nutshell I can initialize it before or a don&#39;t know how to do that."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 0, "creation_date": 1508094748, "post_id": 46758566, "comment_id": 80463295, "body": "You likely don&#39;t even need it to be nullable in the first place, but either way, <a href=\"https://kotlinlang.org/docs/reference/classes.html#creating-instances-of-classes\" rel=\"nofollow noreferrer\">create an object</a> instead of using <code>null</code>, just like you would in Java."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1508141199, "post_id": 46758566, "comment_id": 80476435, "body": "It isn&#39;t <code>add</code> which throws the exception, it&#39;s <code>!!</code>."}], "answers": [{"comments": [{"owner": {"reputation": 488, "user_id": 8534933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e20cfa958d169445a3c8e86cf06d6a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy Alvarez", "link": "https://stackoverflow.com/users/8534933/jimmy-alvarez"}, "edited": false, "score": 0, "creation_date": 1508100386, "post_id": 46759673, "comment_id": 80465002, "body": "Thank you so much, this works perfect. I didn&#39;t know there are methods like that to initialize objects."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 488, "user_id": 8534933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e20cfa958d169445a3c8e86cf06d6a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy Alvarez", "link": "https://stackoverflow.com/users/8534933/jimmy-alvarez"}, "edited": false, "score": 0, "creation_date": 1508100411, "post_id": 46759673, "comment_id": 80465013, "body": "You should obtain an instance of your class in some way, for example by calling its constructor: <code>val person = Person(name, age)</code>"}, {"owner": {"reputation": 488, "user_id": 8534933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e20cfa958d169445a3c8e86cf06d6a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy Alvarez", "link": "https://stackoverflow.com/users/8534933/jimmy-alvarez"}, "edited": false, "score": 0, "creation_date": 1508100510, "post_id": 46759673, "comment_id": 80465034, "body": "I get it, Thanks for your help. I am enjoining this awesome concepts included in Functional Programming."}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "reply_to_user": {"reputation": 488, "user_id": 8534933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e20cfa958d169445a3c8e86cf06d6a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy Alvarez", "link": "https://stackoverflow.com/users/8534933/jimmy-alvarez"}, "edited": false, "score": 1, "creation_date": 1508101429, "post_id": 46759673, "comment_id": 80465301, "body": "Actually this isn&#39;t related at all to functional programming, it&#39;s more likely about object oriented programming."}], "tags": [], "owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "is_accepted": true, "score": 1, "last_activity_date": 1508099362, "creation_date": 1508099362, "answer_id": 46759673, "question_id": 46758566, "link": "https://stackoverflow.com/questions/46758566/add-method-of-mutableliste-throws-kotlin-kotlinnullpointerexception/46759673#46759673", "title": ".add Method of MutableList&lt;E&gt; throws kotlin.KotlinNullPointerException", "body": "<p>You need to initialize the variable with an instance of MutableList before calling any methods on it.</p>\n\n<pre><code>list = mutableListOf&lt;E&gt;() // creates an empty mutable list\nlist!!.add(E())\n</code></pre>\n\n<p>If you initialize variable right at the declaration, you even don't need to declare it as nullable and var.</p>\n\n<pre><code>val list = mutableListOf&lt;E&gt;()\n...\nlist.add(E())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 149, "user_id": 4016577, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/EFjyp.png?s=128&g=1", "display_name": "Kashif Ahmad", "link": "https://stackoverflow.com/users/4016577/kashif-ahmad"}, "is_accepted": false, "score": 0, "last_activity_date": 1618500245, "creation_date": 1618500245, "answer_id": 67111309, "question_id": 46758566, "link": "https://stackoverflow.com/questions/46758566/add-method-of-mutableliste-throws-kotlin-kotlinnullpointerexception/67111309#67111309", "title": ".add Method of MutableList&lt;E&gt; throws kotlin.KotlinNullPointerException", "body": "<p>Here is the proper declaration List.</p>\n<pre><code>private var mList = mutableListOf&lt;String&gt;()//You can change the String class to your data model\n</code></pre>\n<p>You can add values like this:</p>\n<pre><code>mList.add(String)//you can assign your data model class\n</code></pre>\n"}], "owner": {"reputation": 488, "user_id": 8534933, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e20cfa958d169445a3c8e86cf06d6a9f?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy Alvarez", "link": "https://stackoverflow.com/users/8534933/jimmy-alvarez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 0, "accepted_answer_id": 46759673, "answer_count": 2, "score": 1, "last_activity_date": 1618500245, "creation_date": 1508092319, "last_edit_date": 1508100274, "question_id": 46758566, "link": "https://stackoverflow.com/questions/46758566/add-method-of-mutableliste-throws-kotlin-kotlinnullpointerexception", "title": ".add Method of MutableList&lt;E&gt; throws kotlin.KotlinNullPointerException", "body": "<p>Please, just keep in mind that I'm ramping up on functional programming hehe.</p>\n\n<p>I have defined a Mutable list like this: </p>\n\n<pre><code> var list: MutableList&lt;E&gt;? = null\n</code></pre>\n\n<p>So, when I try to use <code>list!!.add(E())</code> this throws a </p>\n\n<blockquote>\n  <p>kotlin.KotlinNullPointerException.</p>\n</blockquote>\n\n<p>I understand that this is because I assign null to this list when I define it but a didn't get with a right solution thinking about on functional programming aspects how to solve this.\nCan you suggest me some code or concepts to achieve this situation.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 12398, "user_id": 1310566, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/5qiMO.jpg?s=128&g=1", "display_name": "Simon Forsberg", "link": "https://stackoverflow.com/users/1310566/simon-forsberg"}, "edited": false, "score": 1, "creation_date": 1538499952, "post_id": 46757980, "comment_id": 92160654, "body": "Does that page really say that <code>trait</code> itself was dropped then though? Seems to me like one of the features of <code>trait</code>s was dropped then, but not <code>trait</code> itself."}], "tags": [], "owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "is_accepted": true, "score": 22, "last_activity_date": 1549790470, "last_edit_date": 1549790470, "creation_date": 1508088888, "answer_id": 46757980, "question_id": 46757825, "link": "https://stackoverflow.com/questions/46757825/does-kotlin-have-a-trait-type/46757980#46757980", "title": "Does Kotlin have a &#39;trait&#39; type?", "body": "<p>The keyword <code>trait</code> was a keyword in Kotlin but now it's removed. It was deprecated on the Kotlin M12 release.</p>\n\n<p>You can find more <a href=\"https://blog.jetbrains.com/kotlin/2015/04/upcoming-changes-and-more/\" rel=\"noreferrer\">here</a>.</p>\n\n<p><strong>Edit:</strong> It was replaced by the <code>interface</code> keyword, see <em>Traits are now interfaces</em> in the <a href=\"https://blog.jetbrains.com/kotlin/2015/05/kotlin-m12-is-out/\" rel=\"noreferrer\">notes to M12 release</a>.</p>\n"}], "owner": {"reputation": 16758, "user_id": 444639, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/76bfe9645715492707b67ed7d04bc73a?s=128&d=identicon&r=PG", "display_name": "Mike Rylander", "link": "https://stackoverflow.com/users/444639/mike-rylander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4414, "favorite_count": 1, "accepted_answer_id": 46757980, "answer_count": 1, "score": 17, "last_activity_date": 1549790470, "creation_date": 1508088053, "question_id": 46757825, "link": "https://stackoverflow.com/questions/46757825/does-kotlin-have-a-trait-type", "title": "Does Kotlin have a &#39;trait&#39; type?", "body": "<p>I keep finding <code>trait</code> mentioned in Kotlin examples. For example this <a href=\"https://stackoverflow.com/a/29566159/444639\">answer</a> uses <code>trait</code>.</p>\n\n<p>Is the <code>trait</code> keyword used in Kotlin? If it is, where can I find info on it, and if it is not, was it part of the language spec at some point?</p>\n"}, {"tags": ["android", "kotlin", "storage"], "comments": [{"owner": {"reputation": 3474, "user_id": 5550161, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/dBIGc.png?s=128&g=1", "display_name": "HB.", "link": "https://stackoverflow.com/users/5550161/hb"}, "edited": false, "score": 0, "creation_date": 1508080936, "post_id": 46756588, "comment_id": 80458534, "body": "What is your <code>targetSdk</code>?"}, {"owner": {"reputation": 2390, "user_id": 6121643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/exMvQ.jpg?s=128&g=1", "display_name": "Irony Stack", "link": "https://stackoverflow.com/users/6121643/irony-stack"}, "reply_to_user": {"reputation": 3474, "user_id": 5550161, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/dBIGc.png?s=128&g=1", "display_name": "HB.", "link": "https://stackoverflow.com/users/5550161/hb"}, "edited": false, "score": 0, "creation_date": 1508080987, "post_id": 46756588, "comment_id": 80458552, "body": "@H.Brooks <code>targetSdk</code> is 26"}, {"owner": {"reputation": 3474, "user_id": 5550161, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/dBIGc.png?s=128&g=1", "display_name": "HB.", "link": "https://stackoverflow.com/users/5550161/hb"}, "edited": false, "score": 1, "creation_date": 1508081070, "post_id": 46756588, "comment_id": 80458576, "body": "Yes then you will need runtime permissions, the work around would be to change your <code>targetSdk</code> to 23. Since 24 runtime permissions are required."}, {"owner": {"reputation": 2390, "user_id": 6121643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/exMvQ.jpg?s=128&g=1", "display_name": "Irony Stack", "link": "https://stackoverflow.com/users/6121643/irony-stack"}, "reply_to_user": {"reputation": 3474, "user_id": 5550161, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/dBIGc.png?s=128&g=1", "display_name": "HB.", "link": "https://stackoverflow.com/users/5550161/hb"}, "edited": false, "score": 0, "creation_date": 1508088552, "post_id": 46756588, "comment_id": 80461028, "body": "thanks @H.Brooks it helped me"}, {"owner": {"reputation": 3474, "user_id": 5550161, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/dBIGc.png?s=128&g=1", "display_name": "HB.", "link": "https://stackoverflow.com/users/5550161/hb"}, "edited": false, "score": 0, "creation_date": 1508088686, "post_id": 46756588, "comment_id": 80461078, "body": "You are welcome."}], "answers": [{"tags": [], "owner": {"reputation": 323, "user_id": 5437331, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ImJzd.jpg?s=128&g=1", "display_name": "CodeRed", "link": "https://stackoverflow.com/users/5437331/codered"}, "is_accepted": true, "score": 1, "last_activity_date": 1508080797, "creation_date": 1508080797, "answer_id": 46756633, "question_id": 46756588, "link": "https://stackoverflow.com/questions/46756588/permission-denied-error-while-creating-new-file-android/46756633#46756633", "title": "Permission denied error while Creating new File | Android", "body": "<p>If your device is working on Android 6 or higher have you already requested runtime permissions?</p>\n\n<p>See <a href=\"https://developer.android.com/training/permissions/requesting.html\" rel=\"nofollow noreferrer\">https://developer.android.com/training/permissions/requesting.html</a> for more details.</p>\n"}], "owner": {"reputation": 2390, "user_id": 6121643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/exMvQ.jpg?s=128&g=1", "display_name": "Irony Stack", "link": "https://stackoverflow.com/users/6121643/irony-stack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2409, "favorite_count": 0, "accepted_answer_id": 46756633, "answer_count": 1, "score": 1, "last_activity_date": 1573223624, "creation_date": 1508080590, "last_edit_date": 1573223624, "question_id": 46756588, "link": "https://stackoverflow.com/questions/46756588/permission-denied-error-while-creating-new-file-android", "title": "Permission denied error while Creating new File | Android", "body": "<p>I am trying to create a image file to external storage to share it. but while trying following code I am having some error</p>\n\n<pre><code>        var icon: Bitmap = BitmapFactory.decodeResource(resources, R.drawable.namelogo)\n\n        val shareIntent = Intent(Intent.ACTION_SEND)\n        shareIntent.type = \"image/*\"\n        val bytes = ByteArrayOutputStream()\n        icon.compress(Bitmap.CompressFormat.JPEG, 100, bytes)\n        val path = File.separator + \"temporary_file.jpg\"\n\n        val f = File(Environment.getExternalStorageDirectory().toString(), path)\n        try {\n\n\n            if (!f.parentFile.exists())\n                f.parentFile.mkdirs()\n            if (!f.exists())\n                f.createNewFile()\n            f.createNewFile()\n            val fo = FileOutputStream(f)\n\n            fo.write(bytes.toByteArray())\n        } catch (e: IOException) {\n            Log.e(\"path = \", \"+ $path \" + e.toString())\n            e.printStackTrace()\n        }\n\n        shareIntent.putExtra(Intent.EXTRA_STREAM, Uri.parse(\"file:///sdcard/IronyBalls/temporary_file.jpg\"));\n        startActivity(Intent.createChooser(shareIntent, \"Share Image\"))\n</code></pre>\n\n<p>Till now I found solutions only to use</p>\n\n<pre><code>if (!f.parentFile.exists())\n      f.parentFile.mkdirs()\nif (!f.exists())\n      f.createNewFile()\n</code></pre>\n\n<p>and </p>\n\n<p>to set permission</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.WRITE_EXTERNAL_STORAGE\" /&gt;\n</code></pre>\n\n<p>that I have already used.But still gettig error as below\nin <strong>Error Tab</strong> </p>\n\n<blockquote>\n  <p>E/path\u00a0=: + /temporary_file.jpg java.io.IOException: Permission denied</p>\n</blockquote>\n\n<p>and in <strong>info tab</strong> </p>\n\n<blockquote>\n  <p>W/System.err: java.io.IOException: Permission denied</p>\n  \n  <p>W/System.err:     at\n  java.io.UnixFileSystem.createFileExclusively0(Native Method)</p>\n  \n  <p>W/System.err:     at\n  java.io.UnixFileSystem.createFileExclusively(UnixFileSystem.java:280)</p>\n  \n  <p>W/System.err:     at java.io.File.createNewFile(File.java:948)\n  W/System.err:     at\n  com.irony.balls.MainActivity$onCreate$8.onClick(MainActivity.kt:277)</p>\n  \n  <p>W/System.err:     at android.view.View.performClick(View.java:5611)</p>\n  \n  <p>10-15 20:33:17.912 29759-29759/com.irony.balls \n  W/System.err:     at\n  android.view.View$PerformClick.run(View.java:22276) 10-15 20:33:17.912\n  29759-29759/com.irony.balls\n   W/System.err:     at\n  android.os.Handler.handleCallback(Handler.java:751) 10-15 20:33:17.912\n  29759-29759/com.irony.balls \n  W/System.err:     at\n  android.os.Handler.dispatchMessage(Handler.java:95) 10-15 20:33:17.912\n  29759-29759/com.irony.balls \n  W/System.err:     at\n  android.os.Looper.loop(Looper.java:154) 10-15 20:33:17.912\n  29759-29759/com.irony.balls W/System.err:     at\n  android.app.ActivityThread.main(ActivityThread.java:6195) 10-15\n  20:33:17.912 29759-29759/com.irony.balls W/System.err:     at\n  java.lang.reflect.Method.invoke(Native Method) 10-15 20:33:17.912\n  29759-29759/com.irony.balls W/System.err:     at\n  com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:874)</p>\n  \n  <p>10-15 20:33:17.912 29759-29759/com.irony.balls W/System.err:     at\n  com.android.internal.os.ZygoteInit.main(ZygoteInit.java:764)</p>\n</blockquote>\n"}, {"tags": ["android", "arraylist", "collections", "kotlin"], "comments": [{"owner": {"reputation": 5973, "user_id": 826657, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zFnGE.jpg?s=128&g=1", "display_name": "Rachit Mishra", "link": "https://stackoverflow.com/users/826657/rachit-mishra"}, "edited": false, "score": 0, "creation_date": 1508066299, "post_id": 46754421, "comment_id": 80454447, "body": "Kotlin lists are immutable. Use <code>mutableListOf</code>"}, {"owner": {"reputation": 11142, "user_id": 2229438, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/629fdde67cb23f9d3799635d89c7b250?s=128&d=identicon&r=PG", "display_name": "Grzegorz Piwowarek", "link": "https://stackoverflow.com/users/2229438/grzegorz-piwowarek"}, "reply_to_user": {"reputation": 5973, "user_id": 826657, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zFnGE.jpg?s=128&g=1", "display_name": "Rachit Mishra", "link": "https://stackoverflow.com/users/826657/rachit-mishra"}, "edited": false, "score": 1, "creation_date": 1508066790, "post_id": 46754421, "comment_id": 80454563, "body": "@RachitMishra it has nothing to do with that, this is just a standard ArrayList from Java"}, {"owner": {"reputation": 5973, "user_id": 826657, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zFnGE.jpg?s=128&g=1", "display_name": "Rachit Mishra", "link": "https://stackoverflow.com/users/826657/rachit-mishra"}, "edited": false, "score": 0, "creation_date": 1508067036, "post_id": 46754421, "comment_id": 80454620, "body": "Hmm! Yup my bad! Can you post the exception."}, {"owner": {"reputation": 189, "user_id": 7687520, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GZnhs_8sF9I/AAAAAAAAAAI/AAAAAAAAAB0/Y7aZXR--LFs/photo.jpg?sz=128", "display_name": "MONK", "link": "https://stackoverflow.com/users/7687520/monk"}, "reply_to_user": {"reputation": 5973, "user_id": 826657, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zFnGE.jpg?s=128&g=1", "display_name": "Rachit Mishra", "link": "https://stackoverflow.com/users/826657/rachit-mishra"}, "edited": false, "score": 0, "creation_date": 1508069580, "post_id": 46754421, "comment_id": 80455214, "body": "@Rachit Mishra Added. I also checked the logs , the add methode comes before get so idk why it won&#39;t add items"}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1508072210, "post_id": 46754421, "comment_id": 80455969, "body": "It is about the execution order of your code. It can&#39;t be debugged by knowing only a few line of the code."}, {"owner": {"reputation": 189, "user_id": 7687520, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GZnhs_8sF9I/AAAAAAAAAAI/AAAAAAAAAB0/Y7aZXR--LFs/photo.jpg?sz=128", "display_name": "MONK", "link": "https://stackoverflow.com/users/7687520/monk"}, "reply_to_user": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1508074136, "post_id": 46754421, "comment_id": 80456433, "body": "@BakaWaii <a href=\"https://stackoverflow.com/questions/46749355/viewpager-in-fragment-is-not-working-second-time\" title=\"viewpager in fragment is not working second time\">stackoverflow.com/questions/46749355/&hellip;</a> - here you can find almost all the code , but there I am using ViewPagerAdapter to hold the items and I have the same problem ."}, {"owner": {"reputation": 189, "user_id": 7687520, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GZnhs_8sF9I/AAAAAAAAAAI/AAAAAAAAAB0/Y7aZXR--LFs/photo.jpg?sz=128", "display_name": "MONK", "link": "https://stackoverflow.com/users/7687520/monk"}, "reply_to_user": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1508074866, "post_id": 46754421, "comment_id": 80456632, "body": "@BakaWaii , it&#39;s not about the execution code but the way I want to assign an empty List to a variable I am using . Otherwise it wouldn&#39;t work on first launch ."}], "answers": [{"comments": [{"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 189, "user_id": 7687520, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GZnhs_8sF9I/AAAAAAAAAAI/AAAAAAAAAB0/Y7aZXR--LFs/photo.jpg?sz=128", "display_name": "MONK", "link": "https://stackoverflow.com/users/7687520/monk"}, "edited": false, "score": 1, "creation_date": 1508074988, "post_id": 46755140, "comment_id": 80456670, "body": "If you really want to use fixed indexes which is not recommended, you may want to use a HashMap over an ArrayList. A List is not designed to have fixed indexes except a LinkedList. Better use a HashMap and get rid of the outofboundexceptions"}, {"owner": {"reputation": 253, "user_id": 2620553, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fAVEV.jpg?s=128&g=1", "display_name": "Rahul Bali", "link": "https://stackoverflow.com/users/2620553/rahul-bali"}, "edited": false, "score": 0, "creation_date": 1514120660, "post_id": 46755140, "comment_id": 82890707, "body": "Not working in Android. Neither does the Hashmap technique works. It does not get updated. I need some other ideas."}, {"owner": {"reputation": 253, "user_id": 2620553, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/fAVEV.jpg?s=128&g=1", "display_name": "Rahul Bali", "link": "https://stackoverflow.com/users/2620553/rahul-bali"}, "edited": false, "score": 0, "creation_date": 1514122249, "post_id": 46755140, "comment_id": 82891082, "body": "I am trying to fill the GridView using the ArrayList.  Also tried the HashMap, does not update even a single value."}], "tags": [], "owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1508071758, "last_edit_date": 1508071758, "creation_date": 1508071183, "answer_id": 46755140, "question_id": 46754421, "link": "https://stackoverflow.com/questions/46754421/kotlin-arraylist-cant-rewrite-the-list/46755140#46755140", "title": "Kotlin arrayList - can&#39;t rewrite the list", "body": "<p>You don't define a new list using arrayListOf. </p>\n\n<p>Use <code>ArrayList()</code> since <code>arrayListOf()</code> is only used if you want to intialize a list using existing values and set the size of the items you provide. In your case it intialize a List with the size of 0.</p>\n\n<p>That means this is the proper way doing that:</p>\n\n<pre><code>var itemList = ArrayList&lt;Item&gt;()\n</code></pre>\n\n<p>You can also use </p>\n\n<pre><code>var itemList = mutableListOf&lt;Item&gt;() \n</code></pre>\n\n<p>which is exactly the same as using <code>ArrayList&lt;Item&gt;()</code> and should be used, since Kotlin may change the implementation later.</p>\n"}], "owner": {"reputation": 189, "user_id": 7687520, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GZnhs_8sF9I/AAAAAAAAAAI/AAAAAAAAAB0/Y7aZXR--LFs/photo.jpg?sz=128", "display_name": "MONK", "link": "https://stackoverflow.com/users/7687520/monk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 862, "favorite_count": 0, "accepted_answer_id": 46755140, "answer_count": 1, "score": 1, "last_activity_date": 1508071758, "creation_date": 1508066145, "last_edit_date": 1508069495, "question_id": 46754421, "link": "https://stackoverflow.com/questions/46754421/kotlin-arraylist-cant-rewrite-the-list", "title": "Kotlin arrayList - can&#39;t rewrite the list", "body": "<p>I am using a class named ItemHolder to hold some objects in a List . Dynamically I add some . At a certain point I need to clear the items(all of them) to add new ones . When I try to get an item from list I get the IndexOutOfBoundException .</p>\n\n<p>Here is the code I use :</p>\n\n<p>Inside ItemHolder </p>\n\n<pre><code>    var itemList : ArrayList&lt;Item&gt; = arrayListOf()\n</code></pre>\n\n<p>In another class on init :</p>\n\n<pre><code>    itemHolder.itemList = arrayListOf()\n</code></pre>\n\n<p>And later on the same class :</p>\n\n<pre><code>itemHolder.itemList.add(position, database.getRandomData())\n</code></pre>\n\n<p>and :</p>\n\n<pre><code>itemHolder.getItem(position)\n</code></pre>\n\n<p>The problem is that when I first time use the class it works fine but second time throws me the exception .</p>\n\n<pre><code>FATAL EXCEPTION: main\n                                                                   Process: studio.monk.rq, PID: 2812\n                                                                   java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n                                                                       at java.util.ArrayList.get(ArrayList.java:411)\n                                                                       at studio.monk.rq.common.ItemHolder.getItem(ItemHolder.kt:9)\n                                                                       at studio.monk.rq.fragments.MainFragment$onCreateView$vpPageChangeListener$1.onPageSelected(MainFragment.kt:44)\n                                                                       at studio.monk.rq.fragments.MainFragment$onCreateView$1.run(MainFragment.kt:51)\n                                                                       at android.os.Handler.handleCallback(Handler.java:751)\n                                                                       at android.os.Handler.dispatchMessage(Handler.java:95)\n                                                                       at android.os.Looper.loop(Looper.java:154)\n                                                                       at android.app.ActivityThread.main(ActivityThread.java:6119)\n                                                                       at java.lang.reflect.Method.invoke(Native Method)\n                                                                       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\n                                                                       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-adapter"], "answers": [{"tags": [], "owner": {"reputation": 5973, "user_id": 826657, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zFnGE.jpg?s=128&g=1", "display_name": "Rachit Mishra", "link": "https://stackoverflow.com/users/826657/rachit-mishra"}, "is_accepted": false, "score": 1, "last_activity_date": 1508066840, "creation_date": 1508066840, "answer_id": 46754523, "question_id": 46754027, "link": "https://stackoverflow.com/questions/46754027/unresolved-reference-kotlin-variable/46754523#46754523", "title": "unresolved reference kotlin variable", "body": "<p>Nested classed don't have access to <em>outer class members</em>.</p>\n\n<p>Make your <code>MyViewHolder</code> an <code>inner</code> class. </p>\n\n<p>Read more here <a href=\"https://kotlinlang.org/docs/reference/nested-classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/nested-classes.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 2485, "user_id": 4083237, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3VloV2uI0_Y/AAAAAAAAAAI/AAAAAAAAAnI/PaERGCtqYvQ/photo.jpg?sz=128", "display_name": "AaRiF", "link": "https://stackoverflow.com/users/4083237/aarif"}, "is_accepted": false, "score": 4, "last_activity_date": 1508066871, "creation_date": 1508066871, "answer_id": 46754528, "question_id": 46754027, "link": "https://stackoverflow.com/questions/46754027/unresolved-reference-kotlin-variable/46754528#46754528", "title": "unresolved reference kotlin variable", "body": "<p>In Kotlin, you can directly access the member of outer class from the nested class. </p>\n\n<p>In order to access the outer class members, you need to make your class as <strong>inner</strong> class as given in below snippt.</p>\n\n<pre><code>class OuterClass{\n\n    var name=\"john\"\n\n    inner class InnerClass{\n\n       //....\n    }\n\n}\n</code></pre>\n\n<p>So, here you need to define you <strong>MyViewHolder</strong> class <strong>inner class MyViewHolder</strong></p>\n\n<p>You can also check the same on this link <a href=\"https://stackoverflow.com/a/46730214/4083237\">https://stackoverflow.com/a/46730214/4083237</a></p>\n"}], "owner": {"reputation": 5389, "user_id": 5437621, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/FTt9D.png?s=128&g=1", "display_name": "mrid", "link": "https://stackoverflow.com/users/5437621/mrid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2767, "favorite_count": 0, "closed_date": 1508067316, "answer_count": 2, "score": 0, "last_activity_date": 1508066871, "creation_date": 1508063177, "question_id": 46754027, "link": "https://stackoverflow.com/questions/46754027/unresolved-reference-kotlin-variable", "closed_reason": "Duplicate", "title": "unresolved reference kotlin variable", "body": "<p>I'm new to kotlin. I'm using the following code in my Adapter:</p>\n\n<pre><code>class TravelListAdapter(private var context: Context) : RecyclerView.Adapter&lt;TravelListAdapter.MyViewHolder&gt;() {\n\n    lateinit var onClickListener: TravelListAdapterListener\n    lateinit var holderView: View\n\n    interface TravelListAdapterListener {\n        fun onClickListener(v: View, position: Int)\n    }\n\n\n     class MyViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        private lateinit var txtLabel: TextView\n\n        fun MyViewHolder(view: View) {\n\n            holderView = view // holderView shows error\n\n            // in line below, holderView and onClickListener shows error\n            holderView.setOnClickListener(\n                View.OnClickListener { v -&gt; onClickListener.onClickListener(v, adapterPosition) }\n            )\n        }\n\n    }\n\n    ...\n    ...\n}\n</code></pre>\n\n<p>The variables <code>onClickListener</code> and <code>holderView</code> have been declared in the Adapter class, but give this error when I access them in another class ( which is defined inside the Adapter class ):</p>\n\n<blockquote>\n  <p>Unresolved reference: variable_name</p>\n</blockquote>\n\n<p>Can anyone tell me what I'm doing wrong ??</p>\n"}, {"tags": ["java", "exception", "enums", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 7, "creation_date": 1508051172, "post_id": 46752532, "comment_id": 80450874, "body": "<code>enum: Enum&lt;*&gt;</code>"}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 0, "creation_date": 1508169105, "post_id": 46752532, "comment_id": 80494215, "body": "You can also make the class generic based on the enum as well if you wanted: <code>class UnexpectedEnumException&lt;T : Enum&lt;T&gt;&gt;(enum: T)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 6188, "user_id": 172690, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3759fa3ad04a0fd20729382956f24a3?s=128&d=identicon&r=PG", "display_name": "Grzegorz Adam Hankiewicz", "link": "https://stackoverflow.com/users/172690/grzegorz-adam-hankiewicz"}, "is_accepted": false, "score": 4, "last_activity_date": 1508068335, "creation_date": 1508068335, "answer_id": 46754710, "question_id": 46752532, "link": "https://stackoverflow.com/questions/46752532/how-can-i-declare-an-argument-in-kotlin-that-accepts-only-enums/46754710#46754710", "title": "How can I declare an argument in Kotlin that accepts (only) enums", "body": "<p>To expand on JB Nizet's comment, which should have been an answer, <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">generics in Kotlin</a> are a little bit different from Java. The usage of the <em>star</em> is explained in the <a href=\"https://kotlinlang.org/docs/reference/generics.html#star-projections\" rel=\"nofollow noreferrer\">Star projections</a> section of documentation.</p>\n\n<pre><code>class UnexpectedEnumException(enum: Enum&lt;*&gt;)\n    : Exception(\"Unexpected enum $enum\")\n</code></pre>\n"}], "owner": {"reputation": 170, "user_id": 2530661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57b3549ae9b7fb14fb8b97657f1c7591?s=128&d=identicon&r=PG", "display_name": "J&#246;rg Vollmer", "link": "https://stackoverflow.com/users/2530661/j%c3%b6rg-vollmer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1508068335, "creation_date": 1508050837, "question_id": 46752532, "link": "https://stackoverflow.com/questions/46752532/how-can-i-declare-an-argument-in-kotlin-that-accepts-only-enums", "title": "How can I declare an argument in Kotlin that accepts (only) enums", "body": "<p>For example: I want to declare an exception:</p>\n\n<pre><code>class UnexpectedEnumException(enum: Enum...) : Exception(\"Unexpected enum $enum\")\n</code></pre>\n\n<p>In Java I can do this by</p>\n\n<pre><code>public class UnexpectedEnumException extends RuntimeException {\n\n    public UnexpectedEnumException(Enum&lt;?&gt; en) {\n        super(\"Unexpected enum \" +  en);\n    }\n</code></pre>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 465, "user_id": 4224839, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JPk2_hPVBGY/AAAAAAAAAAI/AAAAAAAB9RA/-y2dwp3N3hE/photo.jpg?sz=128", "display_name": "Edward DiGirolamo", "link": "https://stackoverflow.com/users/4224839/edward-digirolamo"}, "is_accepted": false, "score": 2, "last_activity_date": 1508123393, "last_edit_date": 1508123393, "creation_date": 1508120039, "answer_id": 46762050, "question_id": 46751459, "link": "https://stackoverflow.com/questions/46751459/how-to-query-firebase-firestore-reference-data-type/46762050#46762050", "title": "How to query Firebase Firestore Reference data type?", "body": "<p>We will need to see some of your code to give you an answer. but in the meantime here is what my query snippet looks like, it assumes you are looking for something unique if not you can loop through the results.</p>\n\n<pre><code>FireBaseFirestore db = FirebaseFirestore.getInstance();\ncollectionRef = db.collection(\"yourCollection\");\nQuery query = collectionRef.whereEqualTo(\"Field\", \"yourQuery\" );\nquery.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                        @Override\n                        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                            if(task.isSuccessful()) {\n                                QuerySnapshot qSnap = task.getResult();\n                                if (!qSnap.isEmpty()) {\n                                    Log.d(\"Query Data\", String.valueOf(task.getResult().getDocuments().get(0).getData()));                                       \n                                } else {\n                                    Log.d(\"Query Data\", \"Data is not valid\");\n\n                                }\n\n                            }\n                        }\n                    });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1483, "user_id": 796336, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riu0L.jpg?s=128&g=1", "display_name": "Pravin Sonawane", "link": "https://stackoverflow.com/users/796336/pravin-sonawane"}, "edited": false, "score": 0, "creation_date": 1508691870, "post_id": 46876838, "comment_id": 80700640, "body": "Yes.. casting to DocumentReference fails too.. seems you are right and this is a bug."}], "tags": [], "owner": {"reputation": 127, "user_id": 5975643, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xcB9KN8iEsw/AAAAAAAAAAI/AAAAAAAAXps/Sc-ezwBe4eQ/photo.jpg?sz=128", "display_name": "camendoza94", "link": "https://stackoverflow.com/users/5975643/camendoza94"}, "is_accepted": false, "score": 3, "last_activity_date": 1508691712, "creation_date": 1508691712, "answer_id": 46876838, "question_id": 46751459, "link": "https://stackoverflow.com/questions/46751459/how-to-query-firebase-firestore-reference-data-type/46876838#46876838", "title": "How to query Firebase Firestore Reference data type?", "body": "<p>Firestore returns a DocumentReference when getting a reference from your collections. If changing the cast to DocumentReference doesn't work, keep track of this <a href=\"https://groups.google.com/forum/#!topic/google-cloud-firestore-discuss/bk3oX1RIleU\" rel=\"nofollow noreferrer\">issue</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 2560488, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/57b5b79485a3b974fa0c608e2327f829?s=128&d=identicon&r=PG&f=1", "display_name": "Akajit Saelim", "link": "https://stackoverflow.com/users/2560488/akajit-saelim"}, "is_accepted": false, "score": 1, "last_activity_date": 1510735362, "last_edit_date": 1510735362, "creation_date": 1509826403, "answer_id": 47115182, "question_id": 46751459, "link": "https://stackoverflow.com/questions/46751459/how-to-query-firebase-firestore-reference-data-type/47115182#47115182", "title": "How to query Firebase Firestore Reference data type?", "body": "<p>I suffer same your problem. However I can solve this problem using:</p>\n\n<pre><code>DocumentReference docRef = firestore.document(map.get(\"reference_field\").toString());\n</code></pre>\n\n<p>I'm not sure that this is correct way, but this way works for me.</p>\n\n<p>-- Update --</p>\n\n<p>It seems new firestore version (11.6.0) on android can't use my way. However it can be cast directly</p>\n\n<pre><code>DocumentReference docRef = (DocumentReference) map.get(\"reference_field\");\n</code></pre>\n"}], "owner": {"reputation": 1483, "user_id": 796336, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/Riu0L.jpg?s=128&g=1", "display_name": "Pravin Sonawane", "link": "https://stackoverflow.com/users/796336/pravin-sonawane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6725, "favorite_count": 0, "answer_count": 3, "score": 6, "last_activity_date": 1510735362, "creation_date": 1508039102, "last_edit_date": 1508121062, "question_id": 46751459, "link": "https://stackoverflow.com/questions/46751459/how-to-query-firebase-firestore-reference-data-type", "title": "How to query Firebase Firestore Reference data type?", "body": "<p>I'm using the Firestore <a href=\"https://firebase.google.com/docs/firestore/manage-data/data-types\" rel=\"noreferrer\">reference</a> data type to store a reference to a User as shown in the screenshots below</p>\n\n<blockquote>\n  <p>User reference</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/dxLkh.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/dxLkh.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>Users collections</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/MRvt3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MRvt3.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I try to query this data, I get a <code>ClassCastException</code> (I tried to cast to a <code>String</code> just for the sake of it).</p>\n\n<blockquote>\n  <p>Code</p>\n</blockquote>\n\n<pre><code>//.. this function reads data from DocumentSnapshot\n//.. and converts to an Organization\nprivate fun DocumentSnapshot.toOrganization(): Organization {\n  //.. some code\n      (this.data[\"members\"] as ArrayList&lt;HashMap&lt;String, Any&gt;&gt;).map { toOrgMember(it) })\n  //.. more code\n}\n\nfun toOrgMember(map: Map&lt;String, Any&gt;): OrgMember {\n  //map[\"user\"] as String throws ClassCastException. Refer first screenshot\n  return OrgMember(map[\"id\"] as Long, UserRef(map[\"user\"] as String), map[\"type\"] as String,\n      asJobTitlesList(map[\"jobTitles\"] as String))\n}\n</code></pre>\n\n<blockquote>\n  <p>Stacktrace</p>\n</blockquote>\n\n<pre><code>10-14 20:31:17.503 15569-15569/com.a.b W/System.err: Caused by: java.lang.ClassCastException: com.google.android.gms.internal.zzegf cannot be cast to java.lang.String\n10-14 20:31:17.504 15569-15569/com.a.b W/System.err:     at feature.model.core.CoreUtilsKt.toOrgMember(CoreUtils.kt:28)\n10-14 20:31:17.504 15569-15569/com.a.b W/System.err:     at feature.model.organization.OrgRemoteKt.toOrganization(OrgRemote.kt:55)\n</code></pre>\n\n<p>To what class should I cast the reference data type? (<code>com.google.android.gms.internal.zzegf</code> seems like an internal class which shouldn't be used)</p>\n\n<p>As of now, I didn't find any example in the <a href=\"https://firebase.google.com/docs/firestore/query-data/get-data\" rel=\"noreferrer\">docs</a> for a reference type.\nAny help would be appreciated.</p>\n"}, {"tags": ["android", "android-fragments", "android-viewpager", "kotlin"], "comments": [{"owner": {"reputation": 1029, "user_id": 5498065, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/163dd1670b50f571da1a91e836585f5e?s=128&d=identicon&r=PG&f=1", "display_name": "M.Yogeshwaran", "link": "https://stackoverflow.com/users/5498065/m-yogeshwaran"}, "edited": false, "score": 0, "creation_date": 1517986279, "post_id": 46749355, "comment_id": 84312797, "body": "have you solved this"}, {"owner": {"reputation": 189, "user_id": 7687520, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GZnhs_8sF9I/AAAAAAAAAAI/AAAAAAAAAB0/Y7aZXR--LFs/photo.jpg?sz=128", "display_name": "MONK", "link": "https://stackoverflow.com/users/7687520/monk"}, "reply_to_user": {"reputation": 1029, "user_id": 5498065, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/163dd1670b50f571da1a91e836585f5e?s=128&d=identicon&r=PG&f=1", "display_name": "M.Yogeshwaran", "link": "https://stackoverflow.com/users/5498065/m-yogeshwaran"}, "edited": false, "score": 0, "creation_date": 1530271665, "post_id": 46749355, "comment_id": 89188557, "body": "@Yogesh , yeah check the answer below"}], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 5928670, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K5yf6.jpg?s=128&g=1", "display_name": "Maulik Baraiya", "link": "https://stackoverflow.com/users/5928670/maulik-baraiya"}, "edited": false, "score": 0, "creation_date": 1586871399, "post_id": 51011361, "comment_id": 108282913, "body": "Solved. Thanks  yes change from FragmentPagerAdapter to FragmentStatePagerAdapter then All Pager Fragment initialize once again and working properly."}], "tags": [], "owner": {"reputation": 1138, "user_id": 4876386, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/973246456049097/picture?type=large", "display_name": "Himanshu Shekher Jha", "link": "https://stackoverflow.com/users/4876386/himanshu-shekher-jha"}, "is_accepted": false, "score": 4, "last_activity_date": 1529854365, "creation_date": 1529854365, "answer_id": 51011361, "question_id": 46749355, "link": "https://stackoverflow.com/questions/46749355/viewpager-in-fragment-is-not-working-second-time/51011361#51011361", "title": "ViewPager in Fragment is not working second time", "body": "<p>I had the same issue. Changing the parent class of my <code>PageAdapter</code> from <code>android.support.v4.app.FragmentPagerAdapter</code> to <code>android.support.v4.app.FragmentStatePagerAdapter</code> solve my ViewPager display issue on \"second time\"!</p>\n"}, {"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 7, "last_activity_date": 1529854554, "creation_date": 1529854554, "answer_id": 51011385, "question_id": 46749355, "link": "https://stackoverflow.com/questions/46749355/viewpager-in-fragment-is-not-working-second-time/51011385#51011385", "title": "ViewPager in Fragment is not working second time", "body": "<p>Actually, it would work if you change:</p>\n\n<pre><code> val vpAdapter = ViewPagerAdapter(activity.supportFragmentManager)\n</code></pre>\n\n<p>to</p>\n\n<pre><code> val vpAdapter = ViewPagerAdapter(childFragmentManager)\n</code></pre>\n"}], "owner": {"reputation": 189, "user_id": 7687520, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GZnhs_8sF9I/AAAAAAAAAAI/AAAAAAAAAB0/Y7aZXR--LFs/photo.jpg?sz=128", "display_name": "MONK", "link": "https://stackoverflow.com/users/7687520/monk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1413, "favorite_count": 0, "accepted_answer_id": 51011385, "answer_count": 2, "score": 2, "last_activity_date": 1529854554, "creation_date": 1508015305, "last_edit_date": 1508015620, "question_id": 46749355, "link": "https://stackoverflow.com/questions/46749355/viewpager-in-fragment-is-not-working-second-time", "title": "ViewPager in Fragment is not working second time", "body": "<p>I am using a FrameLayout to display a fragment which contains a ViewPager. Sometimes I need to change to another fragment . Everything works fine until I want to get back to Fragment which contains ViewPager .</p>\n\n<p>Here is the code I am using : </p>\n\n<p>Fragment which contains ViewPager :</p>\n\n<pre><code>    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val view : View = inflater!!.inflate(R.layout.main_quotes, null)\n    val vpQuotes = view.findViewById&lt;CustomViewPager&gt;(R.id.vpQuotes)\n\n    val vpAdapter = ViewPagerAdapter(activity.supportFragmentManager)\n    vpQuotes.adapter = vpAdapter\n\n    val vpPageChangeListener : ViewPager.OnPageChangeListener = object : ViewPager.OnPageChangeListener {\n        override fun onPageScrollStateChanged(state: Int) {\n        }\n\n        override fun onPageScrolled(position: Int, positionOffset: Float, positionOffsetPixels: Int) {\n        }\n\n        override fun onPageSelected(position: Int) {\n            (activity as ChangeLikeButton).changeLikeButton(vpAdapter.getQuoteItem(Shared.currentViewPager.currentItem))\n        }\n\n    }\n\n    vpQuotes.swipeDirection = CustomViewPager.SwipeDirection.RIGHT\n    vpQuotes.addOnPageChangeListener(vpPageChangeListener)\n    vpQuotes.setPageTransformer(true, ViewPagerTransformer())\n    vpQuotes.post { vpPageChangeListener.onPageSelected(0) }\n\n    return view\n}\n</code></pre>\n\n<p>ViewPagerAdapter :</p>\n\n<pre><code>class ViewPagerAdapter(fm : FragmentManager) : CustomViewPagerAdapter(fm) {\noverride fun getQuoteItem(position: Int): QuoteItem {\n    return quoteItemList[position]\n}\n\noverride var quoteItemList: ArrayList&lt;QuoteItem&gt; = arrayListOf()\nprivate val ALLOWED_PAGES = 100\n\noverride fun getItem(position: Int): Fragment {\n    quoteItemList.add(position, Shared.database.getRandomData())\n    val quoteFragment = QuoteFragment()\n    quoteFragment.getItemFromAdapter(quoteItemList[position])\n    return quoteFragment\n}\n\noverride fun getCount(): Int {\n    return ALLOWED_PAGES\n}\n</code></pre>\n\n<p>}</p>\n\n<p>CustomViewPagerAdapter is a class which contains a method to extract some data \nHere is the code :</p>\n\n<pre><code>abstract class CustomViewPagerAdapter(fm : FragmentManager) : FragmentPagerAdapter(fm) {\n\nabstract var quoteItemList : ArrayList&lt;QuoteItem&gt;\n\n\nabstract fun getQuoteItem(position: Int) : QuoteItem\n</code></pre>\n\n<p>And the error I get is :</p>\n\n<pre><code>java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n                                                                         at java.util.ArrayList.get(ArrayList.java:411)\n                                                                         at studio.monk.royalquotes.custom.CustomViewPagerAdapter.getQuoteItem(CustomViewPagerAdapter.kt:13)\n                                                                         at studio.monk.royalquotes.fragments.MainFragment$onCreateView$vpPageChangeListener$1.onPageSelected(MainFragment.kt:44)\n                                                                         at studio.monk.royalquotes.fragments.MainFragment$onCreateView$1.run(MainFragment.kt:55)\n                                                                         at android.os.Handler.handleCallback(Handler.java:751)\n                                                                         at android.os.Handler.dispatchMessage(Handler.java:95)\n                                                                         at android.os.Looper.loop(Looper.java:154)\n                                                                         at android.app.ActivityThread.main(ActivityThread.java:6119)\n                                                                         at java.lang.reflect.Method.invoke(Native Method)\n                                                                         at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\n                                                                         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\n</code></pre>\n\n<p>Basically the program logic is like this :\nApp start -> New Fragment(every works fine) -> onButtonClick change fragment -> onButtonClick -> New Fragment with the same Viewpager(now I get the error)</p>\n\n<p>I don't save any data on Fragment destroy to use it on next fragment but I still get this error . What should I do ?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "owner": {"reputation": 3648, "user_id": 3951400, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/sQDAM.png?s=128&g=1", "display_name": "E. Sundin", "link": "https://stackoverflow.com/users/3951400/e-sundin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 351, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1508016640, "creation_date": 1508009180, "last_edit_date": 1508016640, "question_id": 46748495, "link": "https://stackoverflow.com/questions/46748495/why-does-hiding-a-fragment-cause-a-null-pointer-exception", "title": "Why does hiding a Fragment cause a null pointer exception?", "body": "<h1>Update 1:</h1>\n\n<p>I saw <a href=\"https://stackoverflow.com/a/28804540/3951400\">this answer</a> which solved the issue but I don't understand why and <a href=\"https://i.imgur.com/wvftwHL.png\" rel=\"nofollow noreferrer\">feel like this guy</a>.</p>\n\n<p>Both these return a non-null InfoboxFragments but the transaction <em>fails with the first one</em>.</p>\n\n<pre><code>childFragmentManager.findFragmentById(R.id.infobox_fragment)\nchildFragmentManager.findFragmentByTag(\"plz\")\n</code></pre>\n\n<p><strong>Excuse me?!</strong></p>\n\n<hr>\n\n<h1>Update 2:</h1>\n\n<p>childFragmentManager does not play nice with nested fragments in xml.</p>\n\n<hr>\n\n<p>I've been trying to hide a Fragment inside of another Fragment for a while. I've tried a few approaches and reducing the child fragments height to 1dp seems the most reliable, <em>but it leaves a bit of the fragment visible</em>.</p>\n\n<p>So, I tried a recommended approach of using the childFragmentManager with transactions to hide the fragment like below.</p>\n\n<p>The Android docs says this about the <code>hide(fragment)</code> method:</p>\n\n<blockquote>\n  <p>Hides an existing fragment. This is only relevant for fragments whose\n  views have been added to a container, as this will cause the view to\n  be hidden</p>\n</blockquote>\n\n<p>So, I've contained the fragment inside a <code>LinearLayout</code>.</p>\n\n<p>The <code>showInfoBox()</code> works fine but the <code>hideInfoBox()</code> crashes with a NPE:</p>\n\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'void android.view.ViewGroup.startViewTransition(android.view.View)' on a null object reference\n                                                                                          at android.support.v4.app.FragmentManagerImpl.completeShowHideFragment(FragmentManager.java:1681)\n                                                                                          at android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1778)\n</code></pre>\n\n<p>The only difference seems to be the <code>hide</code> and <code>show</code> transactions.</p>\n\n<pre><code>    private fun showInfoBox() {\n        val infoboxFragment = childFragmentManager.findFragmentById(R.id.infobox_fragment) as InfoboxFragment\n\n        childFragmentManager.beginTransaction()\n                .setCustomAnimations(android.R.animator.fade_in,\n                        android.R.animator.fade_out)\n                .show(infoboxFragment)\n                .commit()\n\n        TransitionManager.beginDelayedTransition(constraintLayout)\n        applyConstraintSet.applyTo(constraintLayout)\n\n    }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>    private fun hideInfoBox() { // this crashes\n        val infoboxFragment = childFragmentManager.findFragmentById(R.id.infobox_fragment) as InfoboxFragment\n\n        childFragmentManager.beginTransaction()\n                .setCustomAnimations(android.R.animator.fade_in,\n                        android.R.animator.fade_out)\n                .hide(infoboxFragment) // with only this difference\n                .commit()\n    }\n</code></pre>\n\n<p>The fragment is added like so:</p>\n\n<pre><code>override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n\n    val infoboxFragment = InfoboxFragment()\n    with(childFragmentManager) {\n        beginTransaction().add(R.id.infobox_fragment_container, infoboxFragment).commit()\n        //beginTransaction().hide(infoboxFragment).commit()\n    }\n\n    resetConstraintSet.clone(constraintLayout)\n    applyConstraintSet.clone(constraintLayout)\n    //applyConstraintSet.setVisibility(R.id.infobox_fragment_container, View.VISIBLE)\n    applyConstraintSet.constrainHeight(R.id.infobox_fragment_container, 250.toDP())\n}\n</code></pre>\n"}, {"tags": ["java", "functional-programming", "kotlin"], "comments": [{"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1508043148, "post_id": 46748193, "comment_id": 80449427, "body": "Change <code>op(A::add)</code> to <code>op(calc::add)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1736, "user_id": 2891426, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1476117894/picture?type=large", "display_name": "Nagy Vilmos", "link": "https://stackoverflow.com/users/2891426/nagy-vilmos"}, "is_accepted": true, "score": 0, "last_activity_date": 1508007470, "creation_date": 1508007470, "answer_id": 46748232, "question_id": 46748193, "link": "https://stackoverflow.com/questions/46748193/executing-method-on-object-kotlin/46748232#46748232", "title": "Executing method on object kotlin", "body": "<p>I think you'd like to write something like this:</p>\n\n<pre><code>interface A{\n    fun add()\n}\n\nclass AImpl: A {\n    override fun add() {\n        println(\"Hello, Aimpl\")\n    }\n}\n\nval calc = AImpl()\nfun op(func: A.()-&gt;Unit){\n    calc.func()   \n}\n\nfun main(args: Array&lt;String&gt;) {\n    op(A::add)\n}\n</code></pre>\n\n<p>This is called <em>Function Literal with Receiver</em> in Kotlin. The relevant documentation is here: <a href=\"https://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/lambdas.html#function-literals-with-receiver</a></p>\n\n<p>In this case you provide a Lambda function as a parameter that can be called on any <code>A</code> objects. And in the function <code>op</code> I call this method on ther <code>calc</code> object.</p>\n"}], "owner": {"reputation": 162, "user_id": 6007933, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/f72431438a72df4a67d525e25807e256?s=128&d=identicon&r=PG&f=1", "display_name": "Alon .G.", "link": "https://stackoverflow.com/users/6007933/alon-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "closed_date": 1508057781, "accepted_answer_id": 46748232, "answer_count": 1, "score": 0, "last_activity_date": 1508007470, "creation_date": 1508007189, "question_id": 46748193, "link": "https://stackoverflow.com/questions/46748193/executing-method-on-object-kotlin", "closed_reason": "Duplicate", "title": "Executing method on object kotlin", "body": "<p>I'm rather new to Kotlin and am still trying to get to grips with it.<br>\nLet's say I have this interface:</p>\n\n<pre><code>interface A{\n    fun add()\n}\n</code></pre>\n\n<p>I have a function and something that implements this interface:</p>\n\n<pre><code>val calc = /*Something that implements interface A*/\nfun op(func:()-&gt;Unit){\n       //Some code\n}\n</code></pre>\n\n<p>Finally, in my main function, I have this:</p>\n\n<pre><code>fun main(args:Array&lt;String&gt;){\n    op(A::add)\n}\n</code></pre>\n\n<p>Is there a way for function <code>op</code> to run the given function using the val <code>calc</code>? (Assuming that the given function exists)</p>\n"}, {"tags": ["android", "sqlite", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1508003458, "post_id": 46747457, "comment_id": 80441195, "body": "I suspect that you cannot use <code>:days</code> inside of a quoted string. All Room is doing is wrapping around SQLite placeholders. Try string concatenation."}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1508003996, "post_id": 46747457, "comment_id": 80441389, "body": "Thanks, i will try this, also see my update if you want, i haven&#39;t notice another problem"}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1508005439, "post_id": 46747457, "comment_id": 80441857, "body": "post your Database class .. :-)"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "reply_to_user": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1508005654, "post_id": 46747457, "comment_id": 80441943, "body": "@EmanuelS i made an update, thanks for help"}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1508005703, "post_id": 46747457, "comment_id": 80441965, "body": "1) validate that you have the proper Date imported in your converter class. There&#39;s sql.Date and util.Date. Maybe you have mixed it. If the error still persists, remove the &quot;open&quot; classes and double check if this may be the issue"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508005968, "post_id": 46747457, "comment_id": 80442083, "body": "I provide my database with Dagger"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "reply_to_user": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1508006079, "post_id": 46747457, "comment_id": 80442118, "body": "@EmanuelS I made an update. I think the problem is with the converter all the time, the error tells me about it. I am using util.Date in both"}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1508006198, "post_id": 46747457, "comment_id": 80442155, "body": "Okay, the reason may be because your LogEvent is a sealed class. That means your Date is &quot;private&quot; and cant be accessed by Room. Try to make it open, not sealed"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508006236, "post_id": 46747457, "comment_id": 80442165, "body": "Ok, i will try. Here is also the log from my gradle console if you will be interested: <a href=\"https://gist.github.com/oksett/1fa8e4237817f33fba5ab08a767c1cf0\" rel=\"nofollow noreferrer\">gist.github.com/oksett/1fa8e4237817f33fba5ab08a767c1cf0</a>"}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1508006742, "post_id": 46747457, "comment_id": 80442339, "body": "Tried it. Its the sealed class. Make it to open and it should work. <a href=\"https://github.com/googlesamples/android-architecture-components/issues/52\" rel=\"nofollow noreferrer\">github.com/googlesamples/android-architecture-components/iss&zwnj;&#8203;ues/&hellip;</a>"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508006958, "post_id": 46747457, "comment_id": 80442386, "body": "Still nothing,  i made it open, and removed dateFrom variable from LogEvent, so the child classes will not override it, now they have just this as own parameter. The error still appears"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "reply_to_user": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1508009968, "post_id": 46747457, "comment_id": 80443241, "body": "@EmanuelS I decided to keep dateFrom as Long, because it is not a big deal. But there is a problem with the query, actually it not works as it should. Can you check it again? There should be minus or something. Thanks for help so far, i will accept your answer if this query will be working"}, {"owner": {"reputation": 205, "user_id": 2185548, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dLsXm.jpg?s=128&g=1", "display_name": "Gama the Great", "link": "https://stackoverflow.com/users/2185548/gama-the-great"}, "edited": false, "score": 0, "creation_date": 1519641185, "post_id": 46747457, "comment_id": 84977142, "body": "instead of <code>:days</code>, try using <code>:arg0</code>"}], "answers": [{"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508004711, "post_id": 46747771, "comment_id": 80441631, "body": "I made an update, maybe you can help now. I also using your convertion"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508005232, "post_id": 46747771, "comment_id": 80441788, "body": "I made an update, i have error: Class is referenced as a converter but it does not have any converter methods."}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508010421, "post_id": 46747771, "comment_id": 80443380, "body": "updated my answer. try to use concat. im not sure if the syntax works."}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508010673, "post_id": 46747771, "comment_id": 80443461, "body": "Glad that i could help you. Please update your Question above with the solution to help others :-)"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508248599, "post_id": 46747771, "comment_id": 80530349, "body": "Hey, unfortunately i was in a hurry and didn&#39;t really check properly the answer. It appears that it delets all the time, not depends on the date. Maybe you can help again?"}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508248641, "post_id": 46747771, "comment_id": 80530375, "body": "ill take a look in 2~ hours"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1508250002, "post_id": 46747771, "comment_id": 80531321, "body": "Thanks, for now i just invoke this function with Long to make it no complicated"}], "tags": [], "owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "is_accepted": false, "score": 6, "last_activity_date": 1532341336, "last_edit_date": 1532341336, "creation_date": 1508004404, "answer_id": 46747771, "question_id": 46747457, "link": "https://stackoverflow.com/questions/46747457/android-room-database-error-unused-parameter-days-in-query-function/46747771#46747771", "title": "Android Room Database error: Unused parameter: days in @Query function", "body": "<p>I think CW gave the answer already for your: days issue.</p>\n\n<p>Your days must be quoted as a string like</p>\n\n<pre><code>\"-20 days\"\n\n\n@Query(\"DELETE FROM my_table WHERE dateFrom &lt;= date('now', :days)\")\nfun deleteAllOlderThan(days: String)\n</code></pre>\n\n<p>If it's not working, concat may help.</p>\n\n<p>Try:</p>\n\n<pre><code>@Query(\"DELETE FROM my_table WHERE dateFrom &lt;= date('now', '-' || :days || ' days')\")\nfun deleteAllOlderThan(days: Int)\n</code></pre>\n\n<p>For your Converter issue, you may want to use</p>\n\n<pre><code>@TypeConverter\nfun fromTimestamp(value: Long?) = value?.let { Date(it) }\n\n@TypeConverter\nfun dateToTimestamp(date: Date?) = date?.time \n</code></pre>\n\n<p>which works just fine.</p>\n\n<p>Don't use a companion object. Just use</p>\n\n<pre><code>class DBConverters { \n    @TypeConverter\n    fun fromTimestamp(value: Long?) = value?.let { Date(it) }\n\n    @TypeConverter\n    fun dateToTimestamp(date: Date?) = date?.time\n}\n</code></pre>\n\n<p>and add the Converter to your abstract DB class like</p>\n\n<pre><code>@TypeConverters(DBConverters::class)\nabstract class YourDb : RoomDatabase() {}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2284, "user_id": 5041124, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh4.googleusercontent.com/-IJhFrfQUyz4/AAAAAAAAAAI/AAAAAAAAVdI/RovG1p3MdQM/photo.jpg?sz=128", "display_name": "Nick Mowen", "link": "https://stackoverflow.com/users/5041124/nick-mowen"}, "edited": false, "score": 0, "creation_date": 1532352314, "post_id": 48208811, "comment_id": 89928294, "body": "That&#39;s not true, in my project I just need to put <code>:</code> in front of the variable name in the @Query statement"}, {"owner": {"reputation": 948, "user_id": 8919323, "user_type": "registered", "profile_image": "https://graph.facebook.com/1792111867490136/picture?type=large", "display_name": "Micha\u0142 Pow\u0142oka", "link": "https://stackoverflow.com/users/8919323/micha%c5%82-pow%c5%82oka"}, "reply_to_user": {"reputation": 2284, "user_id": 5041124, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh4.googleusercontent.com/-IJhFrfQUyz4/AAAAAAAAAAI/AAAAAAAAVdI/RovG1p3MdQM/photo.jpg?sz=128", "display_name": "Nick Mowen", "link": "https://stackoverflow.com/users/5041124/nick-mowen"}, "edited": false, "score": 0, "creation_date": 1532597887, "post_id": 48208811, "comment_id": 90038864, "body": "This bug has been fixed in one of Kotlin releases. Unfortunately I do not know which exactly and I am not able to check it now..."}], "tags": [], "owner": {"reputation": 948, "user_id": 8919323, "user_type": "registered", "profile_image": "https://graph.facebook.com/1792111867490136/picture?type=large", "display_name": "Micha\u0142 Pow\u0142oka", "link": "https://stackoverflow.com/users/8919323/micha%c5%82-pow%c5%82oka"}, "is_accepted": false, "score": 2, "last_activity_date": 1515679190, "creation_date": 1515679190, "answer_id": 48208811, "question_id": 46747457, "link": "https://stackoverflow.com/questions/46747457/android-room-database-error-unused-parameter-days-in-query-function/48208811#48208811", "title": "Android Room Database error: Unused parameter: days in @Query function", "body": "<p>About error: Unused parameter: days</p>\n\n<p>Currently Room cannot read arguments name when using Kotlin. Try using arg0 or p0 instead, like:</p>\n\n<pre><code> @Query(\"DELETE FROM my_table WHERE dateFrom &lt;= date('now','-:arg0 day')\")\n fun deleteAllOlderThan(days: Int)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2284, "user_id": 5041124, "user_type": "registered", "accept_rate": 68, "profile_image": "https://lh4.googleusercontent.com/-IJhFrfQUyz4/AAAAAAAAAAI/AAAAAAAAVdI/RovG1p3MdQM/photo.jpg?sz=128", "display_name": "Nick Mowen", "link": "https://stackoverflow.com/users/5041124/nick-mowen"}, "is_accepted": false, "score": 6, "last_activity_date": 1532352282, "creation_date": 1532352282, "answer_id": 51479922, "question_id": 46747457, "link": "https://stackoverflow.com/questions/46747457/android-room-database-error-unused-parameter-days-in-query-function/51479922#51479922", "title": "Android Room Database error: Unused parameter: days in @Query function", "body": "<p>Inside the @Query string you need to put a <code>:</code> before days</p>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3156, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1532352282, "creation_date": 1508002713, "last_edit_date": 1508011073, "question_id": 46747457, "link": "https://stackoverflow.com/questions/46747457/android-room-database-error-unused-parameter-days-in-query-function", "title": "Android Room Database error: Unused parameter: days in @Query function", "body": "<p>I'm using Room databse, trying to write a query in my Dao, which will delete all records older than specific amount of days. Here is what i come to:</p>\n\n<pre><code> @Query(\"DELETE FROM my_table WHERE dateFrom &lt;= date('now','-:days day')\")\nfun deleteAllOlderThan(days: Int)\n</code></pre>\n\n<p>However, when i try to build my project i get an error in my Gradle Console:</p>\n\n<blockquote>\n  <p>error: Unused parameter: days</p>\n</blockquote>\n\n<p>I am using Kotlin, so it also show me this:</p>\n\n<blockquote>\n  <p>Error:Execution failed for task ':nexo:kaptDebugKotlin'.\n  Internal compiler error. See log for more details</p>\n</blockquote>\n\n<p>What is wrong with my Query?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I am also getting an error about converting Date. Here is my converter:</p>\n\n<pre><code>class Converter {\n@TypeConverter\nfun fromTimestamp(value: Long?) = value?.let { Date(it) }\n\n@TypeConverter\nfun dateToTimestamp(date: Date?) = date?.time\n}\n</code></pre>\n\n<p>I am also adding it to my Database with annotation:</p>\n\n<pre><code>@TypeConverters(Converter::class)\n</code></pre>\n\n<p>Here is specific error i get:</p>\n\n<blockquote>\n  <p>Cannot figure out how to save this field into database. You can consider adding a type converter for it.\n  e: \n  e:private final java.util.Date dateFrom = null;</p>\n</blockquote>\n\n<p><strong>SUMMARY</strong></p>\n\n<ol>\n<li><p>I was trying to use Converter with sealed class which in Room it causes problems, so i decided to keep my date parameter as Long.</p></li>\n<li><p>Check Emmanuel S answer. It should be:</p>\n\n<pre><code>@Query(\"DELETE FROM my_table WHERE dateFrom &lt;= date('now', '-' || :days || ' days')\")\nfun deleteAllOlderThan(days: Int)\n</code></pre></li>\n</ol>\n"}, {"tags": ["javafx", "gson", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 1, "last_activity_date": 1508002755, "creation_date": 1508002755, "answer_id": 46747460, "question_id": 46745679, "link": "https://stackoverflow.com/questions/46745679/how-to-deserialize-kotlin-delegates-in-gson/46747460#46747460", "title": "How to deserialize Kotlin delegates in GSON", "body": "<p>You could build something based on GSON's <a href=\"http://google.github.io/gson/apidocs/com/google/gson/ExclusionStrategy.html\" rel=\"nofollow noreferrer\"><code>ExclusionStrategy</code></a> to exclude delegate fields from serialization. Either by checking for the <code>$delegate</code> field suffix or by using Kotlin's reflection.</p>\n"}], "owner": {"reputation": 2030, "user_id": 4256929, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/d892796db8d41da857978e112c16ab3a?s=128&d=identicon&r=PG&f=1", "display_name": "Humberd", "link": "https://stackoverflow.com/users/4256929/humberd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 341, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1508002755, "creation_date": 1507991574, "question_id": 46745679, "link": "https://stackoverflow.com/questions/46745679/how-to-deserialize-kotlin-delegates-in-gson", "title": "How to deserialize Kotlin delegates in GSON", "body": "<p>I have this class: </p>\n\n<pre><code>class Project {\n    val nameProperty = SimpleStringProperty(\"foobar\")\n    val name by nameProperty\n}\n</code></pre>\n\n<p>I use <a href=\"https://github.com/joffrey-bion/fx-gson\" rel=\"nofollow noreferrer\">Fx-GSON</a> library to serialize JavaFx Properties.</p>\n\n<p>When I serialize it to JSON I get this:</p>\n\n<pre><code>{\n    \"nameProperty\": \"foobar\",\n    \"name$delegate\": \"foobar\"\n}\n</code></pre>\n\n<p>But when I deserialize it back to the object of type <code>Project</code> the <code>name</code> and <code>nameProperty</code> are <strong>2 different objects</strong>.</p>\n\n<p>How to make <code>name</code> property delegate to the new <code>nameProperty</code>?</p>\n"}, {"tags": ["android", "google-maps", "kotlin", "supportmapfragment", "mapfragment"], "comments": [{"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "reply_to_user": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1508005023, "post_id": 46744563, "comment_id": 80441724, "body": "Some of the &quot;answers are incomplete....posted a complete answer here..."}, {"owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "edited": false, "score": 0, "creation_date": 1508043657, "post_id": 46744563, "comment_id": 80449509, "body": "You may post your full answer and accept it. Refer to <a href=\"https://stackoverflow.com/help/self-answer\">here</a>."}], "answers": [{"comments": [{"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1507993443, "post_id": 46744672, "comment_id": 80437930, "body": "The MapFragment Wasn&#39;t null so the supportMapFragment shouldn&#39;t be null as well..."}, {"owner": {"reputation": 957, "user_id": 5991493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a80594869af32aa62a442e25e1c1572?s=128&d=identicon&r=PG&f=1", "display_name": "Karol Kulbaka", "link": "https://stackoverflow.com/users/5991493/karol-kulbaka"}, "reply_to_user": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1508003696, "post_id": 46744672, "comment_id": 80441283, "body": "This is from find by id doc <code>@return The fragment if found or null otherwise.</code> It is not about it <b>is</b> null or not but aboutt <b>can be</b>. I&#39;ve update answer to be more clearly."}], "tags": [], "owner": {"reputation": 957, "user_id": 5991493, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a80594869af32aa62a442e25e1c1572?s=128&d=identicon&r=PG&f=1", "display_name": "Karol Kulbaka", "link": "https://stackoverflow.com/users/5991493/karol-kulbaka"}, "is_accepted": false, "score": 0, "last_activity_date": 1508003871, "last_edit_date": 1508003871, "creation_date": 1507984779, "answer_id": 46744672, "question_id": 46744563, "link": "https://stackoverflow.com/questions/46744563/having-issues-moving-from-fragmentmanager-mapfragment-to-supportfragmentmanager/46744672#46744672", "title": "Having issues moving from fragmentManager/MapFragment to supportfragmentManager/SupportMapFragment", "body": "<p>In kotlin nullable class ( with ? at the end of class type) is different class from non-nullable. <code>findFragmentById</code> can return null so return type is nullable. You are trying to cast in to non-nullable <code>SupportMapFragment</code>.</p>\n\n<p>Try to do it this way <code>activity.supportFragmentManager.findFragmentById(R.id.mapF) as SupportMapFragment?</code></p>\n"}, {"comments": [{"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1507993416, "post_id": 46744778, "comment_id": 80437920, "body": "Is shouldn&#39;t be null though... the mapFragment wasn&#39;t null..  so the supportMapFragment shouldn&#39;t be null as well...."}, {"owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "edited": false, "score": 0, "creation_date": 1508005170, "post_id": 46744778, "comment_id": 80441768, "body": "see solution above...required childfragmentmanager... then it seems to work now..."}], "tags": [], "owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1507985453, "creation_date": 1507985453, "answer_id": 46744778, "question_id": 46744563, "link": "https://stackoverflow.com/questions/46744563/having-issues-moving-from-fragmentmanager-mapfragment-to-supportfragmentmanager/46744778#46744778", "title": "Having issues moving from fragmentManager/MapFragment to supportfragmentManager/SupportMapFragment", "body": "<p>Since your SupportFragment may be null you need to do a null check. There are several ways to do that. The simplest is</p>\n\n<pre><code>activity.supportFragmentManager.findFragmentById(R.id.mapF)\n(mapFragment as SupportFragment)?.getMapAsync(this) \n</code></pre>\n\n<p>This will ignore everything after ?. if the value is null.</p>\n\n<p>Using </p>\n\n<pre><code>activity.supportFragmentManager.findFragmentById(R.id.mapF)?.let {\n    (it as SupportFragment).getMapAsync(this)\n}  \n</code></pre>\n\n<p>works the same way, except that everything in <code>it</code> is your SupportFragment which cant be null.</p>\n\n<p>The last but not least is to force a nullable value by using</p>\n\n<pre><code>activity.supportFragmentManager.findFragmentById(R.id.mapF)\n(mapFragment as YourFragment).!!getMapAsync(this) \n</code></pre>\n\n<p>which is not recommended due nullpointerexceptions.</p>\n"}], "owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 337, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1508006157, "creation_date": 1507984133, "last_edit_date": 1508004993, "question_id": 46744563, "link": "https://stackoverflow.com/questions/46744563/having-issues-moving-from-fragmentmanager-mapfragment-to-supportfragmentmanager", "title": "Having issues moving from fragmentManager/MapFragment to supportfragmentManager/SupportMapFragment", "body": "<p>SO I'm able to use MapFragment no issue but when I change it to supportMapFragment it bails out. with the below error. not sure what I'm doing wrong that one works and the other doesn't. The reason I need the support one is that I can't remove the fragment with when using <strong>mapfragment</strong> because the below line is expectin Fragment! and is receiving MapFragment.....so it fails...when I switch it to SupportMapFragment the below line works but the errors happen below. </p>\n\n<p>Thanks</p>\n\n<pre><code>    getFragmentManager().beginTransaction().remove(mapFragment).commit();\n</code></pre>\n\n<p><strong>XML</strong></p>\n\n<pre><code> &lt;fragment\n            android:id=\"@+id/mapF\"\n            class=\"com.google.android.gms.maps.SupportMapFragment\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"200dp\" /&gt;\n</code></pre>\n\n<p><strong>CLASS</strong></p>\n\n<pre><code>import android.location.Address\nimport android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport com.google.android.gms.maps.*\nimport com.google.android.gms.maps.model.LatLng\nimport com.google.android.gms.maps.model.MarkerOptions\nimport android.location.Geocoder\nimport android.text.Html\nimport android.webkit.WebView\nimport android.widget.Toast\nimport com.beust.klaxon.JsonObject\nimport com.beust.klaxon.Parser\nimport com.beust.klaxon.obj\nimport com.beust.klaxon.string\nimport com.github.kittinunf.fuel.httpGet\nimport com.github.kittinunf.fuel.httpPost\nimport com.github.kittinunf.result.Result\nimport com.github.kittinunf.result.getAs\nimport kotlinx.android.synthetic.main.fragment_1.view.*\nimport kotlinx.android.synthetic.main.fragment_event_details.*\nimport kotlinx.android.synthetic.main.fragment_event_details.view.*\nimport java.util.*\nimport kotlin.collections.ArrayList\n\n\n\nclass Event_details : Fragment(),OnMapReadyCallback{\n    lateinit var mMap:GoogleMap\n    lateinit var mWeb:WebView\n    lateinit var mapFragment:SupportMapFragment\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n\n    }\n\n\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        var myView = inflater!!.inflate(R.layout.fragment_event_details, container, false)\n\n        var mP = Pair(\"news_id\",101)\n        var mL:ArrayList&lt;Pair&lt;String,Int&gt;&gt; = ArrayList&lt;Pair&lt;String,Int&gt;&gt;()\n        mL.add(mP)\n\n\n       ****do some JSON STUFF****\n\n\n        &gt;&gt;&gt;&gt;&gt; LINNE 125   mapFragment = activity.supportFragmentManager.findFragmentById(R.id.mapF) as SupportMapFragment\n        mapFragment.getMapAsync(this) \n\n\n\n        return  myView\n    }\n</code></pre>\n\n<p><strong>ERROR</strong></p>\n\n<blockquote>\n  <p>ntime: FATAL EXCEPTION: main\n                                                                                 Process: com.example.herbstzu.listview, PID: 11988\n                                                                                 kotlin.TypeCastException: null cannot be cast to non-null type\n  com.google.android.gms.maps.SupportMapFragment\n                                                                                     at\n  com.example.sadfasdf.listview.Event_details.onCreateView(Event_details.kt:125)\n                                                                                     at\n  android.support.v4.app.Fragment.performCreateView(Fragment.java:2354)\n                                                                                     at\n  android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1419)</p>\n</blockquote>\n\n<p><strong>SOLUTION</strong></p>\n\n<p>So...the solution was two fold....</p>\n\n<p>When changing from <strong>MapFragment</strong> to <strong>SupportMapFragment</strong>.......</p>\n\n<ol>\n<li>Change XML class to SupportMapFragment in side of a fragment</li>\n<li>Change so that SupportMapFragment is a nullable throughout your code </li>\n<li>Change supportFragmentManager to childFragmentManager..supportFragmentManager will also work however it will not fire the onMapReady... </li>\n<li>Smile because you beat down Kotlin/Android like a little ..... ;)</li>\n</ol>\n"}, {"tags": ["android", "kotlin", "android-constraintlayout"], "answers": [{"comments": [{"owner": {"reputation": 3271, "user_id": 764624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bcb73d4a76eb0dbb40705de0cee1d23?s=128&d=identicon&r=PG", "display_name": "Ivan Wooll", "link": "https://stackoverflow.com/users/764624/ivan-wooll"}, "edited": false, "score": 4, "creation_date": 1521111118, "post_id": 46745968, "comment_id": 85596831, "body": "I love extension functions!"}, {"owner": {"reputation": 1092, "user_id": 3394588, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/9a081d98da538a1f00e9693af9df2a56?s=128&d=identicon&r=PG", "display_name": "Guilherme Lima Pereira", "link": "https://stackoverflow.com/users/3394588/guilherme-lima-pereira"}, "edited": false, "score": 0, "creation_date": 1529931852, "post_id": 46745968, "comment_id": 89040730, "body": "The kotlin extension didn&#39;t work for me: Attempt to invoke virtual method &#39;void android.view.View.setOnClickListener(android.view.View$OnCli&zwnj;&#8203;ckListener)&#39; on a null object reference"}, {"owner": {"reputation": 1231, "user_id": 62676, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/918bebec1dab5e2d760e56adc09cbd94?s=128&d=identicon&r=PG", "display_name": "Jeff Barger", "link": "https://stackoverflow.com/users/62676/jeff-barger"}, "edited": false, "score": 0, "creation_date": 1532985895, "post_id": 46745968, "comment_id": 90170959, "body": "Be careful doing this - the ConstraintLayout Group is designed to manage <i>visibility</i>. I just got bit by this - we were trying to use a group to be able to set a common click listener just like this answer, but also wanted to set the visibility of one of the views outside of the group, and it didn&#39;t work."}, {"owner": {"reputation": 109, "user_id": 3707606, "user_type": "registered", "profile_image": "https://graph.facebook.com/1271857215/picture?type=large", "display_name": "lucas_sales", "link": "https://stackoverflow.com/users/3707606/lucas-sales"}, "edited": false, "score": 1, "creation_date": 1538723761, "post_id": 46745968, "comment_id": 92250629, "body": "Just to look more kotlinish I made a small change   <code>fun Group.setAllOnClickListener(listener: (View) -&gt; Unit) {     referencedIds.forEach { id -&gt;         rootView.findViewById&lt;View&gt;(id).setOnClickListener(listener)     } }</code>"}, {"owner": {"reputation": 782, "user_id": 4260256, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/36964ba46af2833bad4dbc5096e6be7c?s=128&d=identicon&r=PG&f=1", "display_name": "toidv", "link": "https://stackoverflow.com/users/4260256/toidv"}, "edited": false, "score": 0, "creation_date": 1562240065, "post_id": 46745968, "comment_id": 100321093, "body": "Had an overlapping issue with multiple Constraints Group in different Fragment"}, {"owner": {"reputation": 800, "user_id": 5912570, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aNMw4Qrx4v8/AAAAAAAAAAI/AAAAAAAAB-4/lll-4_R7zdA/photo.jpg?sz=128", "display_name": "Harshad Prajapati", "link": "https://stackoverflow.com/users/5912570/harshad-prajapati"}, "edited": false, "score": 0, "creation_date": 1563259147, "post_id": 46745968, "comment_id": 100629223, "body": "thanks, @Cheticamp great solutions with kotlin extension function. This is absolutely working with <code>implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;</code> but if you want to use MotionLayout and Group both using latest <code>implementation &#39;androidx.constraintlayout:constraintlayout:2.0.0-beta2&#39;</code> this is not working.  as you can not find referencedIds from group. So if you want to use both MotionLayout and Group use <code>implementation &#39;androidx.constraintlayout:constraintlayout:2.0.0-beta1&#39;</code>"}, {"owner": {"reputation": 101, "user_id": 1434361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb655119737863c9c793570dfc0c2e5b?s=128&d=identicon&r=PG", "display_name": "AntekM", "link": "https://stackoverflow.com/users/1434361/antekm"}, "edited": false, "score": 2, "creation_date": 1565269375, "post_id": 46745968, "comment_id": 101306517, "body": "One issue with using this approach is that we will end up with non-clickable white spaces between elements of the group, which may result in poor user experience"}, {"owner": {"reputation": 5855, "user_id": 9060223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xCtnx.png?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/9060223/richard"}, "edited": false, "score": 0, "creation_date": 1574679886, "post_id": 46745968, "comment_id": 104304621, "body": "Has there been an extended functionality of <code>Group</code> so that I can only set one click listener to said <code>Group</code> as I would to a <code>ViewGroup</code>?"}, {"owner": {"reputation": 171, "user_id": 3718297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyHCu.jpg?s=128&g=1", "display_name": "reavcn", "link": "https://stackoverflow.com/users/3718297/reavcn"}, "reply_to_user": {"reputation": 5855, "user_id": 9060223, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xCtnx.png?s=128&g=1", "display_name": "Richard", "link": "https://stackoverflow.com/users/9060223/richard"}, "edited": false, "score": 0, "creation_date": 1575045478, "post_id": 46745968, "comment_id": 104448250, "body": "@Richard not yet AFAIK"}, {"owner": {"reputation": 171, "user_id": 3718297, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kyHCu.jpg?s=128&g=1", "display_name": "reavcn", "link": "https://stackoverflow.com/users/3718297/reavcn"}, "reply_to_user": {"reputation": 101, "user_id": 1434361, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bb655119737863c9c793570dfc0c2e5b?s=128&d=identicon&r=PG", "display_name": "AntekM", "link": "https://stackoverflow.com/users/1434361/antekm"}, "edited": false, "score": 0, "creation_date": 1575045573, "post_id": 46745968, "comment_id": 104448289, "body": "@AntekM This might be true in some cases, however it really depends on how the layout is built. If you have multiple referenced ids each one either above or below the others, then you won&#39;t end up with non-clickable spaces"}], "tags": [], "owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "is_accepted": true, "score": 61, "last_activity_date": 1563451451, "last_edit_date": 1563451451, "creation_date": 1507993540, "answer_id": 46745968, "question_id": 46743944, "link": "https://stackoverflow.com/questions/46743944/use-group-in-constraintlayout-to-listen-for-click-events-on-multiple-views/46745968#46745968", "title": "Use group in ConstraintLayout to listen for click events on multiple views", "body": "<p>The <code>Group</code> in <code>ConstraintLayout</code> is just a loose association of views AFAIK. It is not a <code>ViewGroup</code>, so you will not be able to use a single click listener like you did when the views were in a <code>ViewGroup</code>.</p>\n\n<p>As an alternative, you can get a list of ids that are members of your <code>Group</code> in your code and explicitly set the click listener. <s>(I have not found official documentation on this feature, but I believe that it is just lagging the code release.)</s> See documentation on <code>getReferencedIds</code> <a href=\"https://developer.android.com/reference/android/support/constraint/Group.html#getReferencedIds()\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Java:</p>\n\n<pre><code>    Group group = findViewById(R.id.group);\n    int refIds[] = group.getReferencedIds();\n    for (int id : refIds) {\n        findViewById(id).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // your code here.\n            }\n        });\n    }\n</code></pre>\n\n<p>In Kotlin you can build an extension function for that.</p>\n\n<p>Kotlin:</p>\n\n<pre><code>    fun Group.setAllOnClickListener(listener: View.OnClickListener?) {\n        referencedIds.forEach { id -&gt;\n            rootView.findViewById&lt;View&gt;(id).setOnClickListener(listener)\n        }\n    }\n</code></pre>\n\n<p>Then call the function on the group:</p>\n\n<pre><code>    group.setAllOnClickListener(View.OnClickListener {\n        // code to perform on click event\n    })\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>The referenced ids are not immediately available in <em>2.0.0-beta2</em> although they are in <em>2.0.0-beta1</em> and before. \"Post\" the code above to grab the reference ids after layout. Something like this will work.</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    fun Group.setAllOnClickListener(listener: View.OnClickListener?) {\n        referencedIds.forEach { id -&gt;\n            rootView.findViewById&lt;View&gt;(id).setOnClickListener(listener)\n        }\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        // Referenced ids are not available here but become available post-layout.\n        layout.post {\n            group.setAllOnClickListener(object : View.OnClickListener {\n                override fun onClick(v: View) {\n                    val text = (v as Button).text\n                    Toast.makeText(this@MainActivity, text, Toast.LENGTH_SHORT).show()\n                }\n            })\n        }\n    }\n}\n</code></pre>\n\n<p>This should work for releases prior to <em>2.0.0-beta2</em>, so you can just do this and not have to do any version checks.</p>\n"}, {"comments": [{"owner": {"reputation": 2990, "user_id": 3828004, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/GKdRN.jpg?s=128&g=1", "display_name": "Michael Vescovo", "link": "https://stackoverflow.com/users/3828004/michael-vescovo"}, "edited": false, "score": 1, "creation_date": 1518395488, "post_id": 48478599, "comment_id": 84475609, "body": "or you can put it on the bottom if you want to change the background"}, {"owner": {"reputation": 4466, "user_id": 390718, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/TpQ3p.png?s=128&g=1", "display_name": "hopia", "link": "https://stackoverflow.com/users/390718/hopia"}, "edited": false, "score": 1, "creation_date": 1561510456, "post_id": 48478599, "comment_id": 100084327, "body": "This works pretty well.  You don&#39;t need to group your views together.  You can even add a selector to the View&#39;s background to indicate the user pressed it."}, {"owner": {"reputation": 252, "user_id": 2453177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b60e3d002ed3fb4249371e1b8ce8987?s=128&d=identicon&r=PG&f=1", "display_name": "pkuszewski", "link": "https://stackoverflow.com/users/2453177/pkuszewski"}, "edited": false, "score": 0, "creation_date": 1584371855, "post_id": 48478599, "comment_id": 107410162, "body": "Do you have any tip on how to make this view slightly bigger than indicated by constraints? Like add 4dp on each side of the view?"}, {"owner": {"reputation": 574, "user_id": 1714102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc0da4a2535695cffdbd66719b58a28?s=128&d=identicon&r=PG", "display_name": "Przemo", "link": "https://stackoverflow.com/users/1714102/przemo"}, "edited": false, "score": 0, "creation_date": 1589191783, "post_id": 48478599, "comment_id": 109184993, "body": "I find it the cleanest solution. It is not fancy, and not perfect, but cleaner than one which outvotes the rest. Human-being vote for popular, fancy things, and devs are (sadly) no different."}], "tags": [], "owner": {"reputation": 244, "user_id": 1974303, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f8969be6660894d3aa136f6cfe5101e?s=128&d=identicon&r=PG", "display_name": "Vitthalk", "link": "https://stackoverflow.com/users/1974303/vitthalk"}, "is_accepted": false, "score": 9, "last_activity_date": 1534673782, "last_edit_date": 1534673782, "creation_date": 1517074712, "answer_id": 48478599, "question_id": 46743944, "link": "https://stackoverflow.com/questions/46743944/use-group-in-constraintlayout-to-listen-for-click-events-on-multiple-views/48478599#48478599", "title": "Use group in ConstraintLayout to listen for click events on multiple views", "body": "<p>The better way to listen to click events from multiple views is to add a transparent view as a container on top of all required views. This view has to be at the end (i.e on top) of all the views you need to perform a click on.</p>\n\n<p>Sample container view :  </p>\n\n<pre><code>&lt;View\n   android:id=\"@+id/view_container\"\n   android:layout_width=\"0dp\"\n   android:layout_height=\"0dp\"\n   app:layout_constraintBottom_toBottomOf=\"@+id/view_bottom\"\n   app:layout_constraintEnd_toEndOf=\"@+id/end_view_guideline\"\n   app:layout_constraintStart_toStartOf=\"@+id/start_view_guideline\"\n   app:layout_constraintTop_toTopOf=\"parent\"/&gt;\n</code></pre>\n\n<p>Above sample contains all four constraint boundaries within that, we can add views that to listen together and as it is a view, we can do whatever we want, such as ripple effect.</p>\n"}, {"tags": [], "owner": {"reputation": 2239, "user_id": 3160089, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9f67d91623ebc5edf13ce0ccd5e2a3d9?s=128&d=identicon&r=PG&f=1", "display_name": "Endzeit", "link": "https://stackoverflow.com/users/3160089/endzeit"}, "is_accepted": false, "score": 3, "last_activity_date": 1517233541, "creation_date": 1517233541, "answer_id": 48502742, "question_id": 46743944, "link": "https://stackoverflow.com/questions/46743944/use-group-in-constraintlayout-to-listen-for-click-events-on-multiple-views/48502742#48502742", "title": "Use group in ConstraintLayout to listen for click events on multiple views", "body": "<p>While I like the general approach in <a href=\"https://stackoverflow.com/a/48478599/3160089\">Vitthalk's answer</a> I think it has one major drawback and two minor ones.</p>\n\n<ol>\n<li><p>It does not account for dynamic position changes of the single views</p></li>\n<li><p>It may register clicks for views that are not part of the group</p></li>\n<li>It is not a generic solution to this rather common problem</li>\n</ol>\n\n<p>While I'm not sure about a solution to the second point, there clearly are quite easy ones to the first and third.</p>\n\n<hr>\n\n<p><strong>1. Accounting position changes of element in the group</strong>  </p>\n\n<p>This is actually rather simple. One can use the toolset of the constraint layout to adjust the edges of the transparent view.\nWe simply use <a href=\"https://developer.android.com/reference/android/support/constraint/Barrier.html\" rel=\"nofollow noreferrer\">Barriers</a> to receive the leftmost, rightmost etc. positions of any View in the group.\nThen we can adjust the transparent view to the barriers instead of concrete views.</p>\n\n<p><strong>3. Generic solution</strong></p>\n\n<p>Using Kotlin we can extend the Group-Class to include a method that adds a ClickListener onto a View as described above.\nThis method simply adds the Barriers to the layout paying attention to every child of the group, the transparent view that is aligned to the barriers and registers the ClickListener to the latter one.</p>\n\n<p>This way we simply need to call the method on the Group and do not need to add the views to the layout manually everytime we need this behaviour.</p>\n"}, {"comments": [{"owner": {"reputation": 611, "user_id": 4805124, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200132971163634/picture?type=large", "display_name": "Cyd", "link": "https://stackoverflow.com/users/4805124/cyd"}, "edited": false, "score": 0, "creation_date": 1605550719, "post_id": 51746239, "comment_id": 114678838, "body": "is there a way not to use the findViewByID?"}, {"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "reply_to_user": {"reputation": 611, "user_id": 4805124, "user_type": "registered", "profile_image": "https://graph.facebook.com/10200132971163634/picture?type=large", "display_name": "Cyd", "link": "https://stackoverflow.com/users/4805124/cyd"}, "edited": false, "score": 1, "creation_date": 1607055501, "post_id": 51746239, "comment_id": 115158122, "body": "@Cyd - I don&#39;t think so; you need to find the views. Remember this only happens once per view during setup, not at click."}], "tags": [], "owner": {"reputation": 1759, "user_id": 974184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e2f97a8d3cae8511952cb3eda041027?s=128&d=identicon&r=PG", "display_name": "Rodrigo Queiroz", "link": "https://stackoverflow.com/users/974184/rodrigo-queiroz"}, "is_accepted": false, "score": 14, "last_activity_date": 1533729746, "creation_date": 1533729746, "answer_id": 51746239, "question_id": 46743944, "link": "https://stackoverflow.com/questions/46743944/use-group-in-constraintlayout-to-listen-for-click-events-on-multiple-views/51746239#51746239", "title": "Use group in ConstraintLayout to listen for click events on multiple views", "body": "<p>To complement the accepted answer for Kotlin users create an extension function and accept a lambda to feel more like the API <code>group.addOnClickListener { }</code>.</p>\n\n<h3>Create the extension function:</h3>\n\n<pre><code>fun Group.addOnClickListener(listener: (view: View) -&gt; Unit) {\n    referencedIds.forEach { id -&gt;\n        rootView.findViewById&lt;View&gt;(id).setOnClickListener(listener)\n    }\n}\n</code></pre>\n\n<h3>usage:</h3>\n\n<pre><code>group.addOnClickListener { v -&gt;\n    Log.d(\"GroupExt\", v)\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2644, "user_id": 2957169, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mf8Nx.jpg?s=128&g=1", "display_name": "charles-allen", "link": "https://stackoverflow.com/users/2957169/charles-allen"}, "edited": false, "score": 0, "creation_date": 1607055364, "post_id": 53690180, "comment_id": 115158086, "body": "&quot;The second approach has a better performance&quot; - But your &quot;one object&quot; is 3 times the size because it contains all the different listeners. Surely if the listeners are different it makes sense to set 3 different objects; and if they&#39;re the same, you can still declare one listener in the first case and pass it to all 3 setters: <code>val listener: (View -&gt; Unit) = {...}</code>"}], "tags": [], "owner": {"reputation": 4154, "user_id": 2390217, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/1c42289dabee917e679767208ae4c534?s=128&d=identicon&r=PG&f=1", "display_name": "Alireza A. Ahmadi", "link": "https://stackoverflow.com/users/2390217/alireza-a-ahmadi"}, "is_accepted": false, "score": 3, "last_activity_date": 1544353895, "last_edit_date": 1544353895, "creation_date": 1544339379, "answer_id": 53690180, "question_id": 46743944, "link": "https://stackoverflow.com/questions/46743944/use-group-in-constraintlayout-to-listen-for-click-events-on-multiple-views/53690180#53690180", "title": "Use group in ConstraintLayout to listen for click events on multiple views", "body": "<p>The extension method is great but you can make it even better by changing it to </p>\n\n<pre><code>fun Group.setAllOnClickListener(listener: (View) -&gt; Unit) {\n    referencedIds.forEach { id -&gt;\n        rootView.findViewById&lt;View&gt;(id).setOnClickListener(listener)\n    }\n}\n</code></pre>\n\n<p>So the calling would be like this</p>\n\n<pre><code>group.setAllOnClickListener {\n    // code to perform on click event\n}\n</code></pre>\n\n<p>Now the need for explicitly defining View.OnClickListener is now gone.</p>\n\n<p>You can also define your own interface for GroupOnClickLitener like this</p>\n\n<pre><code>interface GroupOnClickListener {\n    fun onClick(group: Group)\n}\n</code></pre>\n\n<p>and then define an extension method like this</p>\n\n<pre><code>fun Group.setAllOnClickListener(listener: GroupOnClickListener) {\n    referencedIds.forEach { id -&gt;\n        rootView.findViewById&lt;View&gt;(id).setOnClickListener { listener.onClick(this)}\n    }\n}\n</code></pre>\n\n<p>and use it like this</p>\n\n<pre><code>groupOne.setAllOnClickListener(this)\ngroupTwo.setAllOnClickListener(this)\ngroupThree.setAllOnClickListener(this)\n\noverride fun onClick(group: Group) {\n    when(group.id){\n        R.id.group1 -&gt; //code for group1\n        R.id.group2 -&gt; //code for group2\n        R.id.group3 -&gt; //code for group3\n        else -&gt; throw IllegalArgumentException(\"wrong group id\")\n    }\n}\n</code></pre>\n\n<p>The second approach has a better performance if the number of views is large since you only use one object as a listener for all the views!</p>\n"}, {"tags": [], "owner": {"reputation": 8823, "user_id": 804440, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/6Elkl.png?s=128&g=1", "display_name": "nilsi", "link": "https://stackoverflow.com/users/804440/nilsi"}, "is_accepted": false, "score": 1, "last_activity_date": 1610004383, "last_edit_date": 1610004383, "creation_date": 1581430918, "answer_id": 60171003, "question_id": 46743944, "link": "https://stackoverflow.com/questions/46743944/use-group-in-constraintlayout-to-listen-for-click-events-on-multiple-views/60171003#60171003", "title": "Use group in ConstraintLayout to listen for click events on multiple views", "body": "<p>For the Java people out there like me:</p>\n<pre><code>public class MyConstraintLayoutGroup extends Group {\n    public MyConstraintLayoutGroup(Context context) {\n        super(context);\n    }\n\n    public MyConstraintLayoutGroup(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    public MyConstraintLayoutGroup(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n    }\n\n    public void setOnClickListener(OnClickListener listener) {\n        for (int id : getReferencedIds()) {\n            getRootView().findViewById(id).setOnClickListener(listener);\n        }\n    }\n}\n</code></pre>\n<p>I don't like that this is not propagating click states to all other children.</p>\n"}], "owner": {"reputation": 2239, "user_id": 3160089, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/9f67d91623ebc5edf13ce0ccd5e2a3d9?s=128&d=identicon&r=PG&f=1", "display_name": "Endzeit", "link": "https://stackoverflow.com/users/3160089/endzeit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21305, "favorite_count": 10, "accepted_answer_id": 46745968, "answer_count": 6, "score": 39, "last_activity_date": 1610004383, "creation_date": 1507980063, "question_id": 46743944, "link": "https://stackoverflow.com/questions/46743944/use-group-in-constraintlayout-to-listen-for-click-events-on-multiple-views", "title": "Use group in ConstraintLayout to listen for click events on multiple views", "body": "<p>Basically I'd like to attach a single OnClickListener to multiple views inside a ConstraintLayout.</p>\n\n<p>Before migrating to the ConstraintLayout the views where inside one layout onto which I could add a listener. Now they are on the same layer with other views right under the ConstraintLayout.</p>\n\n<p>I tried adding the views to a <code>android.support.constraint.Group</code> and added a OnClickListener to it programmatically.</p>\n\n<pre><code>group.setOnClickListener {\n    Log.d(\"OnClick\", \"groupClickListener triggered\")\n}\n</code></pre>\n\n<p>However this does not seem to work as of the ConstraintLayout version <code>1.1.0-beta2</code></p>\n\n<p>Have I done something wrong, is there a way to achieve this behaviour or do I need to attach the listener to each of the single views? </p>\n"}, {"tags": ["date", "kotlin", "immutability", "kotlin-interop"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1507976400, "post_id": 46743362, "comment_id": 80432868, "body": "I would just educate the developers and tell them to treat java.util.Date as an immtable class, and thus never, ever call any of its mutating methods. Or better, stop using java.util.Date, and use java.time.Instant instead (or joda time Instant if you&#39;re still not on Java 8)."}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1507976504, "post_id": 46743362, "comment_id": 80432898, "body": "That said, the equals() and hashCode() methods generated for data classes are really not what you want for a JPA entity."}, {"owner": {"reputation": 558, "user_id": 3778769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce5660c7285414f5410a160b83eb191?s=128&d=identicon&r=PG&f=1", "display_name": "faizan", "link": "https://stackoverflow.com/users/3778769/faizan"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1507978670, "post_id": 46743362, "comment_id": 80433502, "body": "@JBNizet Not using the Equals and hashcode for JPA, but if these objects are used in collections like Set or Map then I think they should have proper equals and hashcode. Is that right?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1507978902, "post_id": 46743362, "comment_id": 80433570, "body": "The key part here is &quot;proper&quot;. java.lang.Object already has &quot;proper&quot; equals() and hashCode() implementations. The ones generated for data classes are &quot;proper&quot;, too, but don&#39;t work the same way."}, {"owner": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 1, "creation_date": 1507997646, "post_id": 46743362, "comment_id": 80439317, "body": "As Nizet commented, the  <code>java.time.Date</code> class is part of the troublesome old date-time classes that are now legacy, supplanted by the java.time classes. And the java.time classes are immutable. In particular, <code>java.time.Instant</code> replaces <code>Date</code>. Convert by calling <code>Date::toInstant</code>. For Android, see the ThreeTen-Backport and ThreeTenABP projects."}, {"owner": {"reputation": 558, "user_id": 3778769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce5660c7285414f5410a160b83eb191?s=128&d=identicon&r=PG&f=1", "display_name": "faizan", "link": "https://stackoverflow.com/users/3778769/faizan"}, "reply_to_user": {"reputation": 213390, "user_id": 642706, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/ZWEI3.jpg?s=128&g=1", "display_name": "Basil Bourque", "link": "https://stackoverflow.com/users/642706/basil-bourque"}, "edited": false, "score": 0, "creation_date": 1508045540, "post_id": 46743362, "comment_id": 80449844, "body": "@BasilBourque I intend to use Instant instead of Date. The issue I am faced with is that this is a Hibernate Entity Class and we are using hibernate 3.6. Instant support came in hibernate 5.2 so we are way behind and migration of hibernate will be a heavy task. What I did notice is that kotlin data classes do allow setters and getters just in a different way. I will add these to the question details in an edit"}], "answers": [{"tags": [], "owner": {"reputation": 347, "user_id": 560350, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89f2b5641fa5e2a2fb4e6746f1305de0?s=128&d=identicon&r=PG", "display_name": "loc", "link": "https://stackoverflow.com/users/560350/loc"}, "is_accepted": false, "score": 0, "last_activity_date": 1530173559, "creation_date": 1530173559, "answer_id": 51077865, "question_id": 46743362, "link": "https://stackoverflow.com/questions/46743362/how-to-make-a-data-class-in-kotlin-immutable-with-java-date-object-in-it/51077865#51077865", "title": "How to make a data class in Kotlin immutable with java Date object in it?", "body": "<p>You can do it with some hack:\n    </p>\n\n<pre><code>@Entity\n@Table(name = \"my_table\")\ndata class DateWrapper(\n\n        @Id\n        @Column(name = \"id\")\n        val id: Long?,\n\n        @Column(name = \"my_date\")\n        private var _date: Date?\n) {\n\n    init {\n        _date = _date?.clone() as Date\n    }\n\n    val date = _date\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 1450062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfba584908f6f13eccdc08eedb9de560?s=128&d=identicon&r=PG", "display_name": "David Garc&#236;a", "link": "https://stackoverflow.com/users/1450062/david-garc%c3%aca"}, "is_accepted": false, "score": 0, "last_activity_date": 1564675472, "creation_date": 1564675472, "answer_id": 57313001, "question_id": 46743362, "link": "https://stackoverflow.com/questions/46743362/how-to-make-a-data-class-in-kotlin-immutable-with-java-date-object-in-it/57313001#57313001", "title": "How to make a data class in Kotlin immutable with java Date object in it?", "body": "<p>Try using java.sql.Date instead</p>\n"}], "owner": {"reputation": 558, "user_id": 3778769, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ce5660c7285414f5410a160b83eb191?s=128&d=identicon&r=PG&f=1", "display_name": "faizan", "link": "https://stackoverflow.com/users/3778769/faizan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1323, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1564675472, "creation_date": 1507976083, "last_edit_date": 1508045892, "question_id": 46743362, "link": "https://stackoverflow.com/questions/46743362/how-to-make-a-data-class-in-kotlin-immutable-with-java-date-object-in-it", "title": "How to make a data class in Kotlin immutable with java Date object in it?", "body": "<p>The <code>java.util.Date</code> itself is a mutable object. As such even if Kotlin data class (with date field declared val) prevents me from changing the reference I can modify the date object itself to change its value.</p>\n\n<p>Ways I could come up with:</p>\n\n<p>Use normal class, override getter and setter. In each use the clone method to make a copy of given date.</p>\n\n<pre><code>    @Column(name = \"db_date\")\n    private var dbDate: Date? = null\n    get() = dbDate?.clone() as Date\n    set(date) {\n        field = date?.clone() as Date\n    }\n</code></pre>\n\n<p>Also I can't use the <code>copy</code> method of data class since these classes are hibernate entities. So I need to modify them via setters.</p>\n\n<p>The reason I want to use data classes for my entities is because these implement <code>equals</code> and <code>hashcode</code> by default. We had been using lombok in java for this and now convincing team to create these methods is tough. Even if generation happens by IDE its still going to be checked into source control.</p>\n\n<p>So is there any way I could do custom setters on data class logic. Or any way I can generate equals and hashcode for normal classes without checking them in source control?</p>\n\n<p>Edit: In comments it was pointed out to use <code>java.time.Instant</code> which is Immutable. The issue I am faced with is that this is a <strong>Hibernate Entity Class</strong> and we are using <strong>hibernate 3.6</strong>. Instant support came in hibernate 5.2 so we are way behind and migration of hibernate will be a heavy task. What I did notice is that kotlin data classes do allow setters and getters just in a different way. Code below:</p>\n\n<pre><code>@Entity\n@Table(name = \"my_table\")\ndata class MyTable(\n    @Id\n    @Column(name = \"id\")\n    var id: Long? = null,\n\n\n    @Column(name = \"my_date\")\n    private var date: Date? = null,\n\n\n) {\n    fun getDate():Date = gradedDate?.clone() as Date\n    fun setDate(date: Date?) {\n        this.date = date?.clone() as Date\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "menu", "kotlin", "toolbar", "anko"], "answers": [{"tags": [], "owner": {"reputation": 730, "user_id": 4989585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MCYMQ.jpg?s=128&g=1", "display_name": "Almaz", "link": "https://stackoverflow.com/users/4989585/almaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1507964548, "last_edit_date": 1507964548, "creation_date": 1507963579, "answer_id": 46741723, "question_id": 46741722, "link": "https://stackoverflow.com/questions/46741722/kotlin-how-to-make-toolbar-menu-with-anko-dsl/46741723#46741723", "title": "Kotlin: How to make toolbar menu with Anko DSL?", "body": "<p>In <b>AndroidManifest.xml</b> file select the theme without ActionBar</p>\n\n<p>Create your menu XML resource file as usual:</p>\n\n<pre><code>&lt;menu ...&gt;\n  &lt;item\n    android:id=\"@+id/action1\"\n    android:title=\"Action1\"/&gt;\n  &lt;item\n    android:id=\"@+id/action2\"\n    android:title=\"Action2\"/&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p>For each item in menu create your custom activites</p>\n\n<p>Create the main activity class:</p>\n\n<pre><code>class ActivityMain : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n       super.onCreate(savedInstanceState)\n       ActivityMainUI().setContentView(this)\n\n       //do not use setActionBar() or setSupportActionBar()\n    }\n\n    // do not override onOptionsItemSelected() and onCreateOptionsMenu() here\n\n }\n\n\nclass ActivityMainUi: AnkoComponent&lt;ActivityMain&gt; {\n\n    override fun createView(ui: AnkoContext&lt;ActivityMain&gt;) = with(ui) {\n\n        coordinatorLayout {\n\n            // justify layout\n\n            appBarLayout {\n\n                toolbar {\n\n                    // justify your toolbar\n\n                    inflateMenu(R.menu.your_menu_xml_resource)\n\n                    onMenuItemClick { item -&gt;\n                        when (item!!.itemId) {\n                            R.id.action_1 -&gt; {\n                                startActivity&lt;Activity1&gt;()\n                                true\n                            }\n                            R.id.action_2 -&gt; {\n                                startActivity&lt;Activity2&gt;()\n                                true\n                            }\n                            else -&gt; false\n                        }\n                    }\n\n                }.lparams(width = matchParent, height = wrapContent)\n\n            }.lparams(width = matchParent, height = wrapContent)\n\n            // put other views\n        }\n\n    }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 0, "creation_date": 1533217268, "post_id": 51650066, "comment_id": 90273692, "body": "That&#39;s about what I wanted. I&#39;ll wait a few days to see if anybody else posts a solution, but I believe the bounty is yours"}, {"owner": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 0, "creation_date": 1533220536, "post_id": 51650066, "comment_id": 90276056, "body": "How would I add an Icon for that menu, and that kind of configuration?"}, {"owner": {"reputation": 528, "user_id": 151658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0b3981085d9d206cac75dfd3bd6868d?s=128&d=identicon&r=PG", "display_name": "Daniel Rothmaler", "link": "https://stackoverflow.com/users/151658/daniel-rothmaler"}, "reply_to_user": {"reputation": 5208, "user_id": 4257162, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/GKajj.jpg?s=128&g=1", "display_name": "LeoColman", "link": "https://stackoverflow.com/users/4257162/leocolman"}, "edited": false, "score": 2, "creation_date": 1533223389, "post_id": 51650066, "comment_id": 90278074, "body": "Updated the code sample to include some more properties (incl. Icons)"}, {"owner": {"reputation": 722, "user_id": 6629569, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/eec30cf8d13a1de12bde3a38dd18d483?s=128&d=identicon&r=PG&f=1", "display_name": "Abby", "link": "https://stackoverflow.com/users/6629569/abby"}, "edited": false, "score": 0, "creation_date": 1534797748, "post_id": 51650066, "comment_id": 90826575, "body": "Any idea how to use this with a table layout? <code>appBarLayout</code> doesn&#39;t seem to work there. Using just <code>toolbar</code> places the toolbar underneath the actual application bar..."}, {"owner": {"reputation": 86, "user_id": 8485264, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-96Cvok-ljT4/AAAAAAAAAAI/AAAAAAAAHOE/hDaNNsIgNnY/photo.jpg?sz=128", "display_name": "Duane", "link": "https://stackoverflow.com/users/8485264/duane"}, "edited": false, "score": 0, "creation_date": 1552280910, "post_id": 51650066, "comment_id": 96934755, "body": "Is there a way to make a group of items pragmatically? I can&#39;t seem to find a java function for creating Groups. Every example I can find uses XML."}, {"owner": {"reputation": 528, "user_id": 151658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0b3981085d9d206cac75dfd3bd6868d?s=128&d=identicon&r=PG", "display_name": "Daniel Rothmaler", "link": "https://stackoverflow.com/users/151658/daniel-rothmaler"}, "reply_to_user": {"reputation": 86, "user_id": 8485264, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-96Cvok-ljT4/AAAAAAAAAAI/AAAAAAAAHOE/hDaNNsIgNnY/photo.jpg?sz=128", "display_name": "Duane", "link": "https://stackoverflow.com/users/8485264/duane"}, "edited": false, "score": 0, "creation_date": 1552371315, "post_id": 51650066, "comment_id": 96972077, "body": "@Duane Sorry, but what kind of groups do you mean exactly? Can you provide a link to the XML examples you mentioned?"}, {"owner": {"reputation": 86, "user_id": 8485264, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-96Cvok-ljT4/AAAAAAAAAAI/AAAAAAAAHOE/hDaNNsIgNnY/photo.jpg?sz=128", "display_name": "Duane", "link": "https://stackoverflow.com/users/8485264/duane"}, "edited": false, "score": 0, "creation_date": 1552582525, "post_id": 51650066, "comment_id": 97075489, "body": "In XML, a menu item can be a child of a &lt;group&gt;. See <a href=\"https://developer.android.com/guide/topics/ui/menus\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/ui/menus</a>"}], "tags": [], "owner": {"reputation": 528, "user_id": 151658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0b3981085d9d206cac75dfd3bd6868d?s=128&d=identicon&r=PG", "display_name": "Daniel Rothmaler", "link": "https://stackoverflow.com/users/151658/daniel-rothmaler"}, "is_accepted": false, "score": 4, "last_activity_date": 1533223168, "last_edit_date": 1533223168, "creation_date": 1533201929, "answer_id": 51650066, "question_id": 46741722, "link": "https://stackoverflow.com/questions/46741722/kotlin-how-to-make-toolbar-menu-with-anko-dsl/51650066#51650066", "title": "Kotlin: How to make toolbar menu with Anko DSL?", "body": "<p>Anko doesn't have any helpers for menu building yet. But there is an <a href=\"https://github.com/Kotlin/anko/pull/324\" rel=\"nofollow noreferrer\">open Pull Request</a> for that.</p>\n\n<p>Until that, you can use standard Kotlin/Android tools to create menu items in your code quite easily: </p>\n\n<pre><code>class ActivityMainUi: AnkoComponent&lt;ActivityMain&gt; {\n    override fun createView(ui: AnkoContext&lt;ActivityMain&gt;) = with(ui) {\n        coordinatorLayout {\n            appBarLayout {\n                lparams(width = matchParent, height = wrapContent)\n\n                toolbar {\n                    lparams(width = matchParent, height = wrapContent)\n\n                    menu.apply {\n                        add(\"Action1\").apply {\n                            tooltipText = \"Start Action 1\"\n\n                            // Unfortunately you cant't use `icon = R.drawable.ic_action_foo` here,\n                            // because it would expect a Drawable instead of a Resource ID\n                            setIcon(R.drawable.ic_action_foo)\n\n                            setOnMenuItemClickListener {\n                                startActivity&lt;Activity1&gt;()\n                                true\n                            }\n                        }\n\n                        add(\"Action2\")\n                                // If you don't like the extra apply,\n                                // you can also use chain most of the setters\n                                .setTooltipText(\"Start Action 2\")\n                                .setIcon(R.drawable.ic_action_bar)\n                                .setOnMenuItemClickListener {\n                                    startActivity&lt;Activity2&gt;()\n                                    true\n                                }\n                                // Not all types of menu Icons do actually show the icon,\n                                // so make it an Action for demo purposes\n                                .setShowAsAction(MenuItem.SHOW_AS_ACTION_ALWAYS) // &lt;-- this is actually one of the setters, that cant be chained\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 730, "user_id": 4989585, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/MCYMQ.jpg?s=128&g=1", "display_name": "Almaz", "link": "https://stackoverflow.com/users/4989585/almaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2761, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1533223168, "creation_date": 1507963579, "last_edit_date": 1507978123, "question_id": 46741722, "link": "https://stackoverflow.com/questions/46741722/kotlin-how-to-make-toolbar-menu-with-anko-dsl", "title": "Kotlin: How to make toolbar menu with Anko DSL?", "body": "<p>How to make Android toolbar menu with Anko DSL directly in UI class?\nDo not want to write listeners in my Activity class.</p>\n\n<p>Regarding my answer given below, is there a way to avoid XML recource file to describe menu items?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 192, "user_id": 6903138, "user_type": "registered", "profile_image": "https://graph.facebook.com/1158764420882946/picture?type=large", "display_name": "Arun Prajapati", "link": "https://stackoverflow.com/users/6903138/arun-prajapati"}, "edited": false, "score": 0, "creation_date": 1526017117, "post_id": 46741363, "comment_id": 87587137, "body": "not working in my case giving error unresolved reference getChildFragementManager();"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 192, "user_id": 6903138, "user_type": "registered", "profile_image": "https://graph.facebook.com/1158764420882946/picture?type=large", "display_name": "Arun Prajapati", "link": "https://stackoverflow.com/users/6903138/arun-prajapati"}, "edited": false, "score": 0, "creation_date": 1526017247, "post_id": 46741363, "comment_id": 87587192, "body": "@ArunPrajapati using <code>import android.support.v4.app.FragmentManager</code>?"}, {"owner": {"reputation": 928, "user_id": 9831902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/382eb1f4b6c3a6b9fbf70a259547deca?s=128&d=identicon&r=PG&f=1", "display_name": "Nanda Z", "link": "https://stackoverflow.com/users/9831902/nanda-z"}, "edited": false, "score": 0, "creation_date": 1578417711, "post_id": 46741363, "comment_id": 105428564, "body": "please add some detail"}], "tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": true, "score": 6, "last_activity_date": 1507960240, "creation_date": 1507960240, "answer_id": 46741363, "question_id": 46741316, "link": "https://stackoverflow.com/questions/46741316/getchildfragmentmanager-not-found-in-kotlin/46741363#46741363", "title": "getChildFragmentManager() not found in kotlin", "body": "<pre><code>val adapterOBJ= YourAdapter(getChildFragmentManager()) // val means unmodifiable\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2495, "user_id": 6925888, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/pq1wE.jpg?s=128&g=1", "display_name": "iamkdblue", "link": "https://stackoverflow.com/users/6925888/iamkdblue"}, "is_accepted": false, "score": 1, "last_activity_date": 1593839888, "last_edit_date": 1593839888, "creation_date": 1593804906, "answer_id": 62721715, "question_id": 46741316, "link": "https://stackoverflow.com/questions/46741316/getchildfragmentmanager-not-found-in-kotlin/62721715#62721715", "title": "getChildFragmentManager() not found in kotlin", "body": "<p>Just use <code>childFragmentManager</code> instead of <code>getChildFragmentManager()</code></p>\n"}], "owner": {"reputation": 13256, "user_id": 3879847, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/shQpQ.png?s=128&g=1", "display_name": "Ranjith Kumar", "link": "https://stackoverflow.com/users/3879847/ranjith-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3281, "favorite_count": 1, "accepted_answer_id": 46741363, "answer_count": 2, "score": 4, "last_activity_date": 1593839888, "creation_date": 1507959791, "last_edit_date": 1507960937, "question_id": 46741316, "link": "https://stackoverflow.com/questions/46741316/getchildfragmentmanager-not-found-in-kotlin", "title": "getChildFragmentManager() not found in kotlin", "body": "<p>How to use the <strong><code>getChildFragmentManager()</code></strong> in kotlin fragment class?</p>\n\n<p>I know its very basic question. But no documents found for this.\nI searched in google &amp; SO but no results found. </p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 2223, "user_id": 496895, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/tcfXe.jpg?s=128&g=1", "display_name": "Syed Absar", "link": "https://stackoverflow.com/users/496895/syed-absar"}, "edited": false, "score": 0, "creation_date": 1554883852, "post_id": 46740775, "comment_id": 97910049, "body": "You can create Kotlin POJO at <a href=\"https://json2kotlin.com\" rel=\"nofollow noreferrer\">json2kotlin.com</a>"}], "answers": [{"tags": [], "owner": {"reputation": 21170, "user_id": 2949612, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/RLdcF.png?s=128&g=1", "display_name": "pRaNaY", "link": "https://stackoverflow.com/users/2949612/pranay"}, "is_accepted": true, "score": 2, "last_activity_date": 1507955964, "creation_date": 1507955964, "answer_id": 46740923, "question_id": 46740775, "link": "https://stackoverflow.com/questions/46740775/render-json-response-in-kotlin/46740923#46740923", "title": "Render json response in Kotlin", "body": "<p>This sample class code gives you a <strong>GSON</strong> library annotation class code. Which you can use to parse your json.</p>\n\n<p>You can simple remove annotation if you want to use normal class in Kotlin and java.</p>\n\n<p>You can use below Kotlin class to parse your json response:</p>\n\n<p><strong>Kotlin class code:</strong> : </p>\n\n<p>Link: <a href=\"https://pastebin.com/gXq3TrXf\" rel=\"nofollow noreferrer\">https://pastebin.com/gXq3TrXf</a></p>\n\n<pre><code> class Example {\n  @SerializedName(\"AWBNo\")\n  @Expose\n  var awbNo:String\n  @SerializedName(\"AuthKey\")\n  @Expose\n  var authKey:String\n  @SerializedName(\"OrderNo\")\n  @Expose\n  var orderNo:String\n  @SerializedName(\"ReturnMessage\")\n  @Expose\n  var returnMessage:String\n  @SerializedName(\"ShipmentSummary\")\n  @Expose\n  var shipmentSummary:List&lt;ShipmentSummary&gt; = null\n  inner class ShipmentSummary {\n    @SerializedName(\"PickUpDate\")\n    @Expose\n    var pickUpDate:String\n    @SerializedName(\"PickUpTime\")\n    @Expose\n    var pickUpTime:String\n    @SerializedName(\"OriginLocation\")\n    @Expose\n    var originLocation:String\n    @SerializedName(\"DestinationLocation\")\n    @Expose\n    var destinationLocation:String\n    @SerializedName(\"Weight\")\n    @Expose\n    var weight:String\n    @SerializedName(\"ExpectedDeliveryDate\")\n    @Expose\n    var expectedDeliveryDate:String\n    @SerializedName(\"Status\")\n    @Expose\n    var status:String\n    @SerializedName(\"StatusCode\")\n    @Expose\n    var statusCode:String\n    @SerializedName(\"StatusDate\")\n    @Expose\n    var statusDate:String\n    @SerializedName(\"StatusTime\")\n    @Expose\n    var statusTime:String\n    @SerializedName(\"Location\")\n    @Expose\n    var location:String\n    @SerializedName(\"Comment\")\n    @Expose\n    var comment:String\n  }\n}\n</code></pre>\n\n<p><strong>Java class Code:</strong>  </p>\n\n<p>Link: <a href=\"https://pastebin.com/zrPNB0T4\" rel=\"nofollow noreferrer\">https://pastebin.com/zrPNB0T4</a></p>\n\n<pre><code>public class Example {\n\n@SerializedName(\"AWBNo\")\n@Expose\nprivate String aWBNo;\n@SerializedName(\"AuthKey\")\n@Expose\nprivate String authKey;\n@SerializedName(\"OrderNo\")\n@Expose\nprivate String orderNo;\n@SerializedName(\"ReturnMessage\")\n@Expose\nprivate String returnMessage;\n@SerializedName(\"ShipmentSummary\")\n@Expose\nprivate List&lt;ShipmentSummary&gt; shipmentSummary = null;\n\npublic String getAWBNo() {\nreturn aWBNo;\n}\n\npublic void setAWBNo(String aWBNo) {\nthis.aWBNo = aWBNo;\n}\n\npublic String getAuthKey() {\nreturn authKey;\n}\n\npublic void setAuthKey(String authKey) {\nthis.authKey = authKey;\n}\n\npublic String getOrderNo() {\nreturn orderNo;\n}\n\npublic void setOrderNo(String orderNo) {\nthis.orderNo = orderNo;\n}\n\npublic String getReturnMessage() {\nreturn returnMessage;\n}\n\npublic void setReturnMessage(String returnMessage) {\nthis.returnMessage = returnMessage;\n}\n\npublic List&lt;ShipmentSummary&gt; getShipmentSummary() {\nreturn shipmentSummary;\n}\n\npublic void setShipmentSummary(List&lt;ShipmentSummary&gt; shipmentSummary) {\nthis.shipmentSummary = shipmentSummary;\n}\n\n\npublic class ShipmentSummary {\n\n@SerializedName(\"PickUpDate\")\n@Expose\nprivate String pickUpDate;\n@SerializedName(\"PickUpTime\")\n@Expose\nprivate String pickUpTime;\n@SerializedName(\"OriginLocation\")\n@Expose\nprivate String originLocation;\n@SerializedName(\"DestinationLocation\")\n@Expose\nprivate String destinationLocation;\n@SerializedName(\"Weight\")\n@Expose\nprivate String weight;\n@SerializedName(\"ExpectedDeliveryDate\")\n@Expose\nprivate String expectedDeliveryDate;\n@SerializedName(\"Status\")\n@Expose\nprivate String status;\n@SerializedName(\"StatusCode\")\n@Expose\nprivate String statusCode;\n@SerializedName(\"StatusDate\")\n@Expose\nprivate String statusDate;\n@SerializedName(\"StatusTime\")\n@Expose\nprivate String statusTime;\n@SerializedName(\"Location\")\n@Expose\nprivate String location;\n@SerializedName(\"Comment\")\n@Expose\nprivate String comment;\n\npublic String getPickUpDate() {\nreturn pickUpDate;\n}\n\npublic void setPickUpDate(String pickUpDate) {\nthis.pickUpDate = pickUpDate;\n}\n\npublic String getPickUpTime() {\nreturn pickUpTime;\n}\n\npublic void setPickUpTime(String pickUpTime) {\nthis.pickUpTime = pickUpTime;\n}\n\npublic String getOriginLocation() {\nreturn originLocation;\n}\n\npublic void setOriginLocation(String originLocation) {\nthis.originLocation = originLocation;\n}\n\npublic String getDestinationLocation() {\nreturn destinationLocation;\n}\n\npublic void setDestinationLocation(String destinationLocation) {\nthis.destinationLocation = destinationLocation;\n}\n\npublic String getWeight() {\nreturn weight;\n}\n\npublic void setWeight(String weight) {\nthis.weight = weight;\n}\n\npublic String getExpectedDeliveryDate() {\nreturn expectedDeliveryDate;\n}\n\npublic void setExpectedDeliveryDate(String expectedDeliveryDate) {\nthis.expectedDeliveryDate = expectedDeliveryDate;\n}\n\npublic String getStatus() {\nreturn status;\n}\n\npublic void setStatus(String status) {\nthis.status = status;\n}\n\npublic String getStatusCode() {\nreturn statusCode;\n}\n\npublic void setStatusCode(String statusCode) {\nthis.statusCode = statusCode;\n}\n\npublic String getStatusDate() {\nreturn statusDate;\n}\n\npublic void setStatusDate(String statusDate) {\nthis.statusDate = statusDate;\n}\n\npublic String getStatusTime() {\nreturn statusTime;\n}\n\npublic void setStatusTime(String statusTime) {\nthis.statusTime = statusTime;\n}\n\npublic String getLocation() {\nreturn location;\n}\n\npublic void setLocation(String location) {\nthis.location = location;\n}\n\npublic String getComment() {\nreturn comment;\n}\n\npublic void setComment(String comment) {\nthis.comment = comment;\n}\n\n}\n\n}\n</code></pre>\n\n<p>You can use your class name by replacing <code>Example</code>.</p>\n"}], "owner": {"reputation": 682, "user_id": 5256798, "user_type": "registered", "accept_rate": 32, "profile_image": "https://www.gravatar.com/avatar/ee0d6c875e27c27b77195923b0fcbc29?s=128&d=identicon&r=PG&f=1", "display_name": "sachsure", "link": "https://stackoverflow.com/users/5256798/sachsure"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 425, "favorite_count": 0, "accepted_answer_id": 46740923, "answer_count": 1, "score": 1, "last_activity_date": 1507956021, "creation_date": 1507954152, "last_edit_date": 1507956021, "question_id": 46740775, "link": "https://stackoverflow.com/questions/46740775/render-json-response-in-kotlin", "title": "Render json response in Kotlin", "body": "<p>I am new to Kotlin and Java.\nI trying to make an API call and then render it in Kotlin.</p>\n\n<p>This is how I get the JSON response:</p>\n\n<pre><code>[\n  {\n    \"AWBNo\": \"1326217373504\",\n    \"AuthKey\": \"Valid\",\n    \"OrderNo\": \"SGHRGR15073TCC\",\n    \"ReturnMessage\": \"Successful\",\n    \"ShipmentSummary\": [\n      {\n        \"PickUpDate\": \"08-10-2017\",\n        \"PickUpTime\": \"0015\",\n        \"OriginLocation\": \"DEL/WDL, Delhi NCR, DELHI\",\n        \"DestinationLocation\": \"\",\n        \"Weight\": \"0\",\n        \"ExpectedDeliveryDate\": \"10/11/2017 12:21:32 AM\",\n        \"Status\": \"Delivered\",\n        \"StatusCode\": \"DLVD\",\n        \"StatusDate\": \"11-10-2017\",\n        \"StatusTime\": \"1316\",\n        \"Location\": \"Berhampur, Berhampur, ORISSA\",\n        \"Comment\": \"Shipment Delivered by SR: RAKESH, DeliveryDate:2017-10-11 1316, Receiver Name: Manmandir  Mobile Accessories  Remarks : \"\n      },\n      {\n        \"PickUpDate\": \"08-10-2017\",\n        \"PickUpTime\": \"0015\",\n        \"OriginLocation\": \"DEL/WDL, Delhi NCR, DELHI\",\n        \"DestinationLocation\": \"\",\n        \"Weight\": \"0\",\n        \"ExpectedDeliveryDate\": \"10/11/2017 12:21:32 AM\",\n        \"Status\": \"Out for Delivery\",\n        \"StatusCode\": \"OFD\",\n        \"StatusDate\": \"11-10-2017\",\n        \"StatusTime\": \"0858\",\n        \"Location\": \"Berhampur, Berhampur, ORISSA\",\n        \"Comment\": \"Out for delivery: 39031-RAKESH-PDS1728408582139031\"\n      }\n    ]\n  }\n]\n</code></pre>\n\n<p>how can I use this to be rendered in a java object.</p>\n\n<p>I understand we need to create a POJO data class similar to the response we receive.</p>\n\n<p>would be grateful if you can show me a sample class which will work with this.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "edited": false, "score": 2, "creation_date": 1507953610, "post_id": 46740234, "comment_id": 80427899, "body": "Sure, you can modify <code>a</code> when I do <code>a + b</code>, but I totally expect you NOT to do that because it&#39;s insane."}], "answers": [{"tags": [], "owner": {"reputation": 5492, "user_id": 8343333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e75e781624e6d5d0676c54e73ad6227f?s=128&d=identicon&r=PG", "display_name": "BakaWaii", "link": "https://stackoverflow.com/users/8343333/bakawaii"}, "is_accepted": true, "score": 11, "last_activity_date": 1507954967, "last_edit_date": 1507954967, "creation_date": 1507954550, "answer_id": 46740804, "question_id": 46740234, "link": "https://stackoverflow.com/questions/46740234/what-is-the-difference-between-plus-and-plusassign-in-operator-overloading-of-ko/46740804#46740804", "title": "What is the difference between plus and plusAssign in operator overloading of kotlin?", "body": "<p>When you are talking about overloading, you have full control of what the function do, even that you completely swap the implementation of <code>plus</code> and <code>plusAssign</code> (not possible in Kotlin), or even <code>minus</code>. Although you are allowed to do that, it is not suggested.</p>\n\n<p>In general, <code>plus</code> function should be a <strong>pure</strong> function (function with no side effect) which concatenates two objects and return the concatenated result. It does not change the value of the object. <code>plusAssign</code> should be a <strong>mutating</strong> function which concatenates the left-hand-side operand with the right-hand-side operand. It mutates the object (left-hand-side operand) instead of passing the result back.</p>\n"}], "owner": {"reputation": 429, "user_id": 8499384, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WyvDW.jpg?s=128&g=1", "display_name": "BlackCat", "link": "https://stackoverflow.com/users/8499384/blackcat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1370, "favorite_count": 0, "accepted_answer_id": 46740804, "answer_count": 1, "score": 6, "last_activity_date": 1507974456, "creation_date": 1507947929, "last_edit_date": 1507974456, "question_id": 46740234, "link": "https://stackoverflow.com/questions/46740234/what-is-the-difference-between-plus-and-plusassign-in-operator-overloading-of-ko", "title": "What is the difference between plus and plusAssign in operator overloading of kotlin?", "body": "<p>I know there are some difference between <code>plus</code> and <code>plusAssign</code>, the latter can't return anything, but I find that the <code>plus</code> can achieve what <code>plusAssign</code> do.</p>\n\n<p>A <code>Point</code> class overloads <code>plus</code> and return a new <code>Point</code>.</p>\n\n<pre><code> data class Point(var x: Int, var y: Int)\n{\n    operator fun plus(other: Point): Point\n    {\n        return Point(x + other.x, y + other.y)\n    }\n} \n</code></pre>\n\n<p>A <code>Point</code> class overloads <code>plusAssign</code> but do not return a new <code>Point</code>.</p>\n\n<pre><code>data class Point(var x: Int, var y: Int)\n{\n    operator fun plusAssign(other: Point): Unit\n    {\n       this.x+=other.x\n        this.y+=other.y\n    }\n}\n</code></pre>\n\n<p>But I find it can also be achieved like this:</p>\n\n<pre><code>data class Point(var x: Int, var y: Int)\n{\n    operator fun plus(other: Point): Point\n    {\n       this.x+=other.x\n        this.y+=other.y\n\n        return this;\n    }\n}\n</code></pre>\n\n<p>So, I can't find something make <code>plusAssign</code> special, is there anything <code>plusAssign</code> can do but <code>plus</code> can't?</p>\n"}, {"tags": ["java", "ruby", "jvm", "kotlin", "vert.x"], "comments": [{"owner": {"reputation": 34798, "user_id": 1362755, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97aa8c37ffa60c4262955aefae56e605?s=128&d=identicon&r=PG", "display_name": "the8472", "link": "https://stackoverflow.com/users/1362755/the8472"}, "edited": false, "score": 0, "creation_date": 1507978533, "post_id": 46739738, "comment_id": 80433459, "body": "assuming you have tried, which specific roadblock have you hit?"}], "answers": [{"comments": [{"owner": {"reputation": 3270, "user_id": 727184, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/xARBY.png?s=128&g=1", "display_name": "GarouDan", "link": "https://stackoverflow.com/users/727184/garoudan"}, "edited": false, "score": 0, "creation_date": 1507988792, "post_id": 46745165, "comment_id": 80436457, "body": "Hum, so, can&#39;t we use the same base code? My final goal about this is to using for example JRuby on Rails and Kotlin with Spring Boot for example. Do you think this is possible?"}, {"owner": {"reputation": 5302, "user_id": 51560, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e948f0816514cc90a10bbe9ca1060d60?s=128&d=identicon&r=PG", "display_name": "Paulo Lopes", "link": "https://stackoverflow.com/users/51560/paulo-lopes"}, "reply_to_user": {"reputation": 3270, "user_id": 727184, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/xARBY.png?s=128&g=1", "display_name": "GarouDan", "link": "https://stackoverflow.com/users/727184/garoudan"}, "edited": false, "score": 0, "creation_date": 1508011924, "post_id": 46745165, "comment_id": 80443811, "body": "It depends. For example you can mix and match to some extent. Say that you have a JS verticle then you can rely on nashorn to do interop with java and since kotlin also can be used from java you can interact with kotlin. I don&#39;t mention ruby because I&#39;m do not know the inwards of the engine. Here&#39;s an example of JS with Java: <a href=\"http://www.jetdrone.xyz/2017/01/25/Vertx-Polyglot-Proxy-Services.html\" rel=\"nofollow noreferrer\">jetdrone.xyz/2017/01/25/Vertx-Polyglot-Proxy-Services.html</a>"}], "tags": [], "owner": {"reputation": 5302, "user_id": 51560, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e948f0816514cc90a10bbe9ca1060d60?s=128&d=identicon&r=PG", "display_name": "Paulo Lopes", "link": "https://stackoverflow.com/users/51560/paulo-lopes"}, "is_accepted": false, "score": 1, "last_activity_date": 1507988079, "creation_date": 1507988079, "answer_id": 46745165, "question_id": 46739738, "link": "https://stackoverflow.com/questions/46739738/vert-x-how-to-create-a-real-polyglot-jvm-application/46745165#46745165", "title": "Vert.x. How to create a real polyglot JVM application?", "body": "<p>But you can :)</p>\n\n<p>Here's how:</p>\n\n<ol>\n<li>Create a verticle in java</li>\n<li>Create a verticle in JS</li>\n<li>Create a verticle in Kotlin</li>\n</ol>\n\n<p>Now either run each verticle independently with cluster mode on (so verticles communicate over the eventbus which is a common abstraction across all languages) or create a extra verticle that deploys all verticles in the same JVM and again use the eventbus to do message driven development across languages.</p>\n"}], "owner": {"reputation": 3270, "user_id": 727184, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/xARBY.png?s=128&g=1", "display_name": "GarouDan", "link": "https://stackoverflow.com/users/727184/garoudan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 479, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507988684, "creation_date": 1507942172, "last_edit_date": 1507988684, "question_id": 46739738, "link": "https://stackoverflow.com/questions/46739738/vert-x-how-to-create-a-real-polyglot-jvm-application", "title": "Vert.x. How to create a real polyglot JVM application?", "body": "<p>I'm inspecting <a href=\"http://vertx.io/\" rel=\"nofollow noreferrer\">Vert.x</a>, a framework that can run an application in several different JVM languages.</p>\n\n<p>There are a huge number of examples available at <a href=\"https://github.com/vert-x3/vertx-examples\" rel=\"nofollow noreferrer\">vertx-examples</a>.</p>\n\n<p>But the problem is, (and I didn't find anything yet) how could we write a Vert.x application on a real polyglot way (using all supported JVM languages at the same time)?</p>\n\n<p>For example, how can we write a code that uses the following files:\n<code>Java.java</code>, <code>Kotlin.kt</code>, <code>Javascript.js</code>, <code>Ruby.rb</code>.\nWhere each one have a simple function inside of it that print the language name (for example the Ruby.rb prints <code>ruby</code>).</p>\n\n<p>For example, when using this input:</p>\n\n<p><code>$vertx run Polyglot.java</code></p>\n\n<p>how can we achieve the following output?</p>\n\n<p><code>java, kotlin, javascript, ruby</code></p>\n\n<p><strong>Edit</strong>, my attempt:</p>\n\n<p><strong>Polyglot.java</strong></p>\n\n<pre><code>import io.vertx.core.AbstractVerticle;\nimport io.vertx.core.Launcher;\n\nimport java.lang.management.ManagementFactory;\n\npublic class Polyglot extends AbstractVerticle {\n\n  public static void main(args: String[]) {\n    Launcher.main(new String[] { \"run\", Polyglot.class.getName(), \"-ha\"});\n  }\n\n  @Override\n  public void start() {\n\n    vertx.createHttpServer().requestHandler(req -&gt; {\n      final String name = ManagementFactory.getRuntimeMXBean().getName();\n      req.response().end(\n        Java.message()\n        + Kotlin.message()\n      );\n    }).listen(8080);\n  }\n}\n</code></pre>\n\n<p><strong>Java.java</strong></p>\n\n<pre><code>public class Java {\n\n    public static String message() {\n        return \"Java\\n\";\n    }\n}\n</code></pre>\n\n<p><strong>Kotlin.kt</strong></p>\n\n<pre><code>class Kotlin {\n\n    companion object {\n        fun message() {\n            return \"Kotlin\\n\"\n        }\n    }\n}\n</code></pre>\n\n<p><code>vertx run Polyglot.java</code></p>\n"}, {"tags": ["collections", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 5598932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b64c6a3bfb6d3c48f3aaac988cf947b?s=128&d=identicon&r=PG", "display_name": "JWT", "link": "https://stackoverflow.com/users/5598932/jwt"}, "edited": false, "score": 1, "creation_date": 1507996402, "post_id": 46739715, "comment_id": 80438941, "body": "Thanks jrtapsell,  Yes I know I can maintain this second variable as well... but that wasn&#39;t sure if needed the additional clutter..   I think it also works like this:  <code>val name: List&lt;String&gt; = _names</code>"}, {"owner": {"reputation": 115, "user_id": 5598932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b64c6a3bfb6d3c48f3aaac988cf947b?s=128&d=identicon&r=PG", "display_name": "JWT", "link": "https://stackoverflow.com/users/5598932/jwt"}, "edited": false, "score": 0, "creation_date": 1507996777, "post_id": 46739715, "comment_id": 80439055, "body": "... although that probably would not prevent the cast"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "reply_to_user": {"reputation": 115, "user_id": 5598932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b64c6a3bfb6d3c48f3aaac988cf947b?s=128&d=identicon&r=PG", "display_name": "JWT", "link": "https://stackoverflow.com/users/5598932/jwt"}, "edited": false, "score": 0, "creation_date": 1507997069, "post_id": 46739715, "comment_id": 80439142, "body": "The names property just acts as a immutable view of _names, although it would be nice if the clutter could be reduced"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "reply_to_user": {"reputation": 115, "user_id": 5598932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b64c6a3bfb6d3c48f3aaac988cf947b?s=128&d=identicon&r=PG", "display_name": "JWT", "link": "https://stackoverflow.com/users/5598932/jwt"}, "edited": false, "score": 0, "creation_date": 1509983004, "post_id": 46739715, "comment_id": 81230965, "body": "Using the backing field may simplify the code: <a href=\"https://kotlinlang.org/docs/reference/properties.html#backing-fields\" rel=\"nofollow noreferrer\">link</a>"}], "tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": true, "score": 5, "last_activity_date": 1507941918, "creation_date": 1507941918, "answer_id": 46739715, "question_id": 46739685, "link": "https://stackoverflow.com/questions/46739685/kotlin-exposing-immutable-list-in-api/46739715#46739715", "title": "Kotlin: exposing immutable list in API", "body": "<p>The following works:</p>\n\n<pre><code>class Foo {\n    private val _names: MutableList&lt;String&gt; = mutableListOf()\n    val names: List&lt;String&gt;\n        get() = _names.toList()\n\n    fun addName(name: String) {\n        _names.add(name)\n    }\n}\n</code></pre>\n\n<p>The toList means that if they cast it to a <code>MutableList&lt;String&gt;</code> and try to add to it they will get an <code>UnsupportedOperationException</code>, the <code>_names</code> field holds the real data, and external access is done via the names property</p>\n"}, {"tags": [], "owner": {"reputation": 17430, "user_id": 355438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eb132c7de803cf864996a922a073e5f2?s=128&d=identicon&r=PG", "display_name": "Lu55", "link": "https://stackoverflow.com/users/355438/lu55"}, "is_accepted": false, "score": 1, "last_activity_date": 1513292398, "last_edit_date": 1513292398, "creation_date": 1513199657, "answer_id": 47802210, "question_id": 46739685, "link": "https://stackoverflow.com/questions/46739685/kotlin-exposing-immutable-list-in-api/47802210#47802210", "title": "Kotlin: exposing immutable list in API", "body": "<p>Define mutable list as a private property with underscore (a kind of \"field\" in Kotlin) and expose it through another public read-only property.</p>\n\n<p>If the \"field\" is read-only this will do the trick \n(suggested by @JWT):</p>\n\n<pre><code>class Foo {\n    private val _names: MutableList&lt;String&gt; = mutableListOf()\n    val names: List&lt;String&gt; = _names\n\n    fun addName(name: String) {\n        _names.add(name)\n    }\n}\n</code></pre>\n\n<p>If the \"field\" might be reassigned, it will require to define getter as a function (note <code>var _names</code>):</p>\n\n<pre><code>class Foo2 {\n    private var _names: MutableList&lt;String&gt; = mutableListOf()\n    val names: List&lt;String&gt;\n        get() = _names\n\n    fun addName(name: String) {\n        _names.add(name)\n    }\n\n    fun reset() {\n        _names = mutableListOf()\n    }\n}\n</code></pre>\n\n<p>Tests are available <a href=\"https://try.kotlinlang.org/#/UserProjects/d269t0nhbo9u661mr4mdtv30g1/5rraf5rad7hpjbvsnbg3r372e9\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 115, "user_id": 5598932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b64c6a3bfb6d3c48f3aaac988cf947b?s=128&d=identicon&r=PG", "display_name": "JWT", "link": "https://stackoverflow.com/users/5598932/jwt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 571, "favorite_count": 0, "accepted_answer_id": 46739715, "answer_count": 2, "score": 6, "last_activity_date": 1513292398, "creation_date": 1507941547, "question_id": 46739685, "link": "https://stackoverflow.com/questions/46739685/kotlin-exposing-immutable-list-in-api", "title": "Kotlin: exposing immutable list in API", "body": "<p>I am new to Kotlin and am wrestling with the problem of returning immutable versions of internally mutable lists.</p>\n\n<p>I reviewed the following '<a href=\"https://stackoverflow.com/questions/37956425/kotlin-modifying-immutable-list-through-cast-is-it-legitimate\">Kotlin: Modifying (immutable) List through cast, is it legitimate?</a>' and understand that immutable lists are really just read-only views which do not expose the modification methods.</p>\n\n<p>I want to have a class which exposes an \"immutable\" List and still want to take advantage of Kotlins automatic getters (without having to provide all the boilerplate for getting the list or a member of the list)</p>\n\n<p>Is the following a bad idea (or will it cause a problem that may be blocked in future releases)</p>\n\n<pre><code>class Foo {\n  val names: List&lt;String&gt; = LinkedList;\n\n  fun addName(name: String) {\n    (names as LinkedList).add(name)\n  }\n}\n</code></pre>\n\n<p>I am looking to allow (for example):</p>\n\n<pre><code>  val foo = Foo;\n  println(foo.names.size)\n</code></pre>\n\n<p>But still prevent the caller from modifying the internals of the class (at least as much as possible). For example removing elements or clearing the backing list.</p>\n"}, {"tags": ["kotlin", "tornadofx"], "answers": [{"comments": [{"owner": {"reputation": 25, "user_id": 4227888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c5601fad45d2d9230df0eebee347eba?s=128&d=identicon&r=PG&f=1", "display_name": "Creotik", "link": "https://stackoverflow.com/users/4227888/creotik"}, "edited": false, "score": 0, "creation_date": 1507918828, "post_id": 46735419, "comment_id": 80418424, "body": "This seems to be what I was looking for thanks! Sadly I wont know upfront data types."}, {"owner": {"reputation": 4651, "user_id": 737457, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e5b089b59520e9d2ab23a08881fb7c54?s=128&d=identicon&r=PG&f=1", "display_name": "csotiriou", "link": "https://stackoverflow.com/users/737457/csotiriou"}, "edited": false, "score": 0, "creation_date": 1595261029, "post_id": 46735419, "comment_id": 111406676, "body": "Although this works for the first time, this will re-add the sample columns again and again on second run. How do we remove them?"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 3, "last_activity_date": 1507916875, "creation_date": 1507916875, "answer_id": 46735419, "question_id": 46734946, "link": "https://stackoverflow.com/questions/46734946/dynamic-table-columns/46735419#46735419", "title": "Dynamic table columns", "body": "<p>If you already know the column names and data type, I would suggest to hard code that. If you know nothing about the format and simply want to create a TableView with completely dynamic columns, you can use the index in the csv data as an extractor to create <code>StringProperty</code> values for your data:</p>\n\n<pre><code>class MyView : View() {\n    val data = FXCollections.observableArrayList&lt;List&lt;String&gt;&gt;()\n    val csvController: CsvController by inject()\n\n    init {\n        runAsync {\n            csvController.loadData()\n        } ui { entries -&gt;\n            // Generate columns based on the first row\n            entries.first().forEachIndexed { colIndex, name -&gt;\n                root.column(name, String::class) {\n                    value { row -&gt;\n                        SimpleStringProperty(row.value[colIndex])\n                    }\n                }\n            }\n\n            // Assign the extracted entries to our list, skip first row\n            data.setAll(entries.drop(1))\n        }\n    }\n\n    override val root = tableview(data)\n}\n\nclass CsvController : Controller() {\n    // Load data from CSV file here, we'll use som static data\n    // where the first row is the headers\n    fun loadData() = listOf(\n            listOf(\"Name\", \"Age\"),\n            listOf(\"John\", \"42\"),\n            listOf(\"Jane\", \"24\")\n    )\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/PESr9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PESr9.png\" alt=\"Resulting application\"></a></p>\n\n<p>This approach would only be good for visualizing the data in a CSV file. If you need to edit or manipulate the data, knowledge of the data types up front would yield a less flimsy application IMO :)</p>\n"}], "owner": {"reputation": 25, "user_id": 4227888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c5601fad45d2d9230df0eebee347eba?s=128&d=identicon&r=PG&f=1", "display_name": "Creotik", "link": "https://stackoverflow.com/users/4227888/creotik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 778, "favorite_count": 0, "accepted_answer_id": 46735419, "answer_count": 1, "score": 2, "last_activity_date": 1507916875, "creation_date": 1507914919, "question_id": 46734946, "link": "https://stackoverflow.com/questions/46734946/dynamic-table-columns", "title": "Dynamic table columns", "body": "<p>How should I proceed when I want to generate table from list of lists which contains only strings(ex. data from csv). Names of columns don't matter. From all examples provided I saw only binding table items to specific model(which doesn't fit there as I have unknown number and names of columns).</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 1, "creation_date": 1507909998, "post_id": 46733446, "comment_id": 80413889, "body": "You want : <code>setCustomAnimations (int enter, int exit, int popEnter, int popExit)</code> instead."}, {"owner": {"reputation": 1394, "user_id": 1960464, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b9bd5ed73cbbfc3b825987708b6ac001?s=128&d=identicon&r=PG", "display_name": "I.S", "link": "https://stackoverflow.com/users/1960464/i-s"}, "reply_to_user": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1507911417, "post_id": 46733446, "comment_id": 80414682, "body": "@Mark Keen Thanks Please write your comment as answer and I could accept it."}], "answers": [{"tags": [], "owner": {"reputation": 7418, "user_id": 6852729, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZgDLu.jpg?s=128&g=1", "display_name": "KeLiuyue", "link": "https://stackoverflow.com/users/6852729/keliuyue"}, "is_accepted": false, "score": 1, "last_activity_date": 1507910222, "creation_date": 1507910222, "answer_id": 46733765, "question_id": 46733446, "link": "https://stackoverflow.com/questions/46733446/why-does-fragment-exit-animation-not-work/46733765#46733765", "title": "Why does Fragment exit animation not work?", "body": "<p>Remove the <code>set</code> tag in your xml code .</p>\n\n<p>Change to this .</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;translate xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:duration=\"700\"\n    android:fromYDelta=\"100%p\"\n    android:toYDelta=\"0%p\"&gt;\n&lt;/translate&gt;\n</code></pre>\n\n<p>And </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;translate xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:duration=\"1700\"\n    android:fromYDelta=\"0%p\"\n    android:toYDelta=\"-100%p\"&gt;\n&lt;/translate&gt;\n</code></pre>\n"}], "owner": {"reputation": 1394, "user_id": 1960464, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b9bd5ed73cbbfc3b825987708b6ac001?s=128&d=identicon&r=PG", "display_name": "I.S", "link": "https://stackoverflow.com/users/1960464/i-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 683, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507916482, "creation_date": 1507909066, "last_edit_date": 1507916482, "question_id": 46733446, "link": "https://stackoverflow.com/questions/46733446/why-does-fragment-exit-animation-not-work", "title": "Why does Fragment exit animation not work?", "body": "<p>I'm adding fragment with animation from bottom to top and then it should go from top to down when back is pressed or when popBackStack() is called.</p>\n\n<pre><code>val confirmFragment = ConfirmFragment.Companion.newInstance(item)\nval transaction = MainActivity.getMainActivity(context)!!.supportFragmentManager.beginTransaction()\ntransaction.addToBackStack(tag)\ntransaction.setCustomAnimations(R.anim.slide_in_bottom, R.anim.slide_out_top)\ntransaction.replace(R.id.over_view, confirmFragment, tag)\ntransaction.commit()\n</code></pre>\n\n<p>ExitAnimation (xml)</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\" &gt;\n    &lt;translate\n        android:duration=\"700\"\n        android:fromYDelta=\"100%\"\n        android:toYDelta=\"0%\" &gt;\n    &lt;/translate&gt;\n&lt;/set&gt;\n</code></pre>\n\n<p>EnterAnimation (xml)</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;set xmlns:android=\"http://schemas.android.com/apk/res/android\" &gt;\n    &lt;translate\n        android:duration=\"1700\"\n        android:fromYDelta=\"0%\"\n        android:toYDelta=\"100%\" &gt;\n    &lt;/translate&gt;\n&lt;/set&gt;\n</code></pre>\n\n<p>The enter animation works but when the fragment exists it doesn't work</p>\n"}, {"tags": ["android", "groovy", "kotlin", "spock"], "comments": [{"owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "edited": false, "score": 0, "creation_date": 1509053094, "post_id": 46731894, "comment_id": 80875902, "body": "I experienced the same issue after upgrading to AS 3.0 stable. Have you found a solution yet?"}], "answers": [{"comments": [{"owner": {"reputation": 6787, "user_id": 4927616, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CjEA4.jpg?s=128&g=1", "display_name": "Matthew", "link": "https://stackoverflow.com/users/4927616/matthew"}, "edited": false, "score": 0, "creation_date": 1510291814, "post_id": 46965674, "comment_id": 81381799, "body": "Just experienced the same problem after trying out the new version 3 plugin.  I can confirm that this seems to have fixed the problem (hopefully, it won&#39;t be long till the plugin fixes this itself)."}], "tags": [], "owner": {"reputation": 3473, "user_id": 2740621, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MpxtQ.png?s=128&g=1", "display_name": "AutonomousApps", "link": "https://stackoverflow.com/users/2740621/autonomousapps"}, "is_accepted": false, "score": 2, "last_activity_date": 1513029994, "last_edit_date": 1513029994, "creation_date": 1509063475, "answer_id": 46965674, "question_id": 46731894, "link": "https://stackoverflow.com/questions/46731894/cannot-get-property-kotlinoutputdir-on-null-object-kotlin-and-spock/46965674#46965674", "title": "Cannot get property &#39;kotlinOutputDir&#39; on null object - Kotlin and Spock", "body": "<h1>Update</h1>\n\n<p>The Groovy Android Gradle Plugin has released v2.0.0, which is compatible with Android Gradle Plugin 3.0.0. Edit your root <code>build.gradle</code>:</p>\n\n<pre><code>classpath 'org.codehaus.groovy:groovy-android-gradle-plugin:2.0.0'\n</code></pre>\n\n<p>The original answer (which should not be used!), I leave for historical purposes.</p>\n\n<h1>Original answer</h1>\n\n<p>The short answer is that this should be fixed soon, with the Groovy Android Gradle Plugin v2.0.0, which is currently in progress.</p>\n\n<p>The longer answer (with immediate payoff), is that you can workaround this as follows. See <a href=\"https://github.com/groovy/groovy-android-gradle-plugin/issues/156#issuecomment-339830019\" rel=\"nofollow noreferrer\">my comment</a> on the issue on Github.</p>\n\n<p>The following should be added to <code>app/build.gradle</code>:</p>\n\n<pre><code>// Ugly workaround for incompatibility between Groovy Android Gradle Plugin 1.2.0 and Android Gradle Plugin 3.0.0\n// Should be fixed with Groovy Android Gradle Plugin 1.3.0. https://github.com/groovy/groovy-android-gradle-plugin/pull/155\ntask copyFlavorDebugUnitTestKotlinClasses(type: CopyKotlinClasses)\nclass CopyKotlinClasses extends DefaultTask {\n\n    def kotlinOutputDir = [\"$project.rootDir/app/build/tmp/kotlin-classes/flavorDebugUnitTest\"]\n\n    @TaskAction\n    def doNothing() {\n    }\n}\n</code></pre>\n\n<p>Please note, you must replace \"flavor\" with your project's actual flavor(s), or remove that if you don't use product flavors.</p>\n"}], "owner": {"reputation": 9467, "user_id": 4631935, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/2Jepc.jpg?s=128&g=1", "display_name": "RediOne1", "link": "https://stackoverflow.com/users/4631935/redione1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 556, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1513029994, "creation_date": 1507903920, "last_edit_date": 1507904729, "question_id": 46731894, "link": "https://stackoverflow.com/questions/46731894/cannot-get-property-kotlinoutputdir-on-null-object-kotlin-and-spock", "title": "Cannot get property &#39;kotlinOutputDir&#39; on null object - Kotlin and Spock", "body": "<p>I am trying to test <code>Kotlin</code> classes with <code>Spock Framework</code>.\nWhen I had only Java classes in my project, everything was working fine. But after adding kotlin in version <code>1.1.51</code> to my project, tests stoped working and now I am receiving such error:</p>\n\n<pre><code>Error:Execution failed for task ':app:compileDebugUnitTestGroovyWithGroovyc'.\n&gt; Cannot get property 'kotlinOutputDir' on null object\n</code></pre>\n\n<p>I am using Android Studio 3.0 Beta 7</p>\n\n<p>Here is my project and module <code>build.gradle</code> files:</p>\n\n<h2>Project <code>build.gradle</code></h2>\n\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\n\nbuildscript {\n    ext.kotlin_version = '1.1.51'\n\n    repositories {\n        google()\n        jcenter()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0-beta7'\n        classpath 'org.codehaus.groovy:groovy-android-gradle-plugin:1.2.0'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        classpath 'com.google.gms:google-services:3.1.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<h2>Module <code>build.gradle</code></h2>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'groovyx.android'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.2\"\n    defaultConfig {\n        applicationId \"com.redione.debtscalc\"\n        minSdkVersion 15\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.google.firebase:firebase-auth:11.4.2'\n    implementation 'com.google.firebase:firebase-database:11.4.2'\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n\n    testImplementation 'org.mockito:mockito-core:2.10.0'\n\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:3.0.1', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n\n    testImplementation 'org.codehaus.groovy:groovy:2.4.11:grooid'\n    testImplementation('org.spockframework:spock-core:1.1-groovy-2.4') {\n        exclude group: 'org.codehaus.groovy'\n        exclude group: 'junit'\n    }    \n}\n\n\napply plugin: 'com.google.gms.google-services'\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n"}, {"tags": ["kotlin", "teamcity"], "answers": [{"comments": [{"owner": {"reputation": 381, "user_id": 5490974, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cHsis.jpg?s=128&g=1", "display_name": "ZoSal", "link": "https://stackoverflow.com/users/5490974/zosal"}, "edited": false, "score": 0, "creation_date": 1507905106, "post_id": 46732250, "comment_id": 80410820, "body": "That&#39;s a rather clever compiler!"}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 10, "last_activity_date": 1507905379, "last_edit_date": 1507905379, "creation_date": 1507905015, "answer_id": 46732250, "question_id": 46731745, "link": "https://stackoverflow.com/questions/46731745/why-can-this-kotlin-object-inherit-from-itself/46732250#46732250", "title": "Why can this Kotlin Object Inherit from itself?", "body": "<p>Assuming qualified classes <code>other.Project</code> and <code>my.Project</code>, you'd have two different classes defined with the same name, in different packages.</p>\n\n<p>Since <code>my.Project</code> is defined as a Singleton, you cannot extend from it and the actual base class is <code>other.Project</code>. <em>Kotlin</em> is clever enough to differentiate. If you would try to do the same with a class declaration, you'd get a circular inheritance.</p>\n\n<p>You could even try to force extending from the Singleton explicitly, but then you'll have the error <em>Cannot inherit from a Singleton</em>. So basically this only works well if you imported the right classes.</p>\n"}], "owner": {"reputation": 381, "user_id": 5490974, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/cHsis.jpg?s=128&g=1", "display_name": "ZoSal", "link": "https://stackoverflow.com/users/5490974/zosal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1254, "favorite_count": 0, "accepted_answer_id": 46732250, "answer_count": 1, "score": 6, "last_activity_date": 1507905379, "creation_date": 1507903445, "question_id": 46731745, "link": "https://stackoverflow.com/questions/46731745/why-can-this-kotlin-object-inherit-from-itself", "title": "Why can this Kotlin Object Inherit from itself?", "body": "<p>I am trying to interface with TeamCity using Kotlin.</p>\n\n<p>When you convert a project to Kotlin (from .xml) you will have a file called Project.kt which is where you can set all your configurations.</p>\n\n<p>With no editing mine looks like this:</p>\n\n<pre><code>object Project : Project(/* Some Function Literal with Receiver */)\n</code></pre>\n\n<p>This looks like circular inheritance? There are imports that I am omitting, but surely that wouldn't make that big of a difference? Could the name be interpreted in different ways depending on where it appears in the file?</p>\n\n<p>My mind is interpreting the object signature like this:</p>\n\n<ul>\n<li><strong>object</strong> = Object declaration for singleton.</li>\n<li><strong>Project</strong> (first occurrence) = Name of object.</li>\n<li><strong>:</strong> = Inheritance marker.</li>\n<li><strong>Project</strong> (second occurrence) = Base class to inherit from.</li>\n<li><strong>()</strong> = Constructor call to the base class.</li>\n</ul>\n\n<p>Is this circular inheritance or have I missed something big about Kotlin? I have looked <a href=\"http://kotlinlang.org/docs/reference/classes.html\" rel=\"noreferrer\">here</a> and <a href=\"http://kotlinlang.org/docs/reference/object-declarations.html\" rel=\"noreferrer\">here</a> and can't seem to find my answer.</p>\n"}, {"tags": ["java", "spring", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "is_accepted": true, "score": 2, "last_activity_date": 1507903920, "creation_date": 1507903920, "answer_id": 46731895, "question_id": 46731607, "link": "https://stackoverflow.com/questions/46731607/spring-injected-references-in-kotlin/46731895#46731895", "title": "Spring injected references in Kotlin", "body": "<p>You have two options.</p>\n\n<p><strong>1) use constructor injection</strong> </p>\n\n<p>Constructor injection is in my opinion the best way because it clearly declares that the dependencies must be set to construct the object.</p>\n\n<p><strong>2) declare your field as lateinit</strong> </p>\n\n<p>Read more on tht topic in the doc:\n<a href=\"https://kotlinlang.org/docs/reference/properties.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/properties.html</a></p>\n\n<blockquote>\n  <p>Late-Initialized Properties</p>\n  \n  <p>Normally, properties declared as having a non-null type must be\n  initialized in the constructor. However, fairly often this is not\n  convenient. For example, properties can be initialized through\n  dependency injection, or in the setup method of a unit test. In this\n  case, you cannot supply a non-null initializer in the constructor, but\n  you still want to avoid null checks when referencing the property\n  inside the body of a class.</p>\n</blockquote>\n\n<pre><code>public class MyTest {\n    lateinit var subject: TestSubject\n\n    @SetUp fun setup() {\n        subject = TestSubject()\n    }\n\n    @Test fun test() {\n        subject.method()  // dereference directly\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 458, "user_id": 786818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/66ff5b5074934545df02bdbf52fbb866?s=128&d=identicon&r=PG", "display_name": "Mihkel Selgal", "link": "https://stackoverflow.com/users/786818/mihkel-selgal"}, "is_accepted": false, "score": 1, "last_activity_date": 1507904379, "creation_date": 1507904379, "answer_id": 46732037, "question_id": 46731607, "link": "https://stackoverflow.com/questions/46731607/spring-injected-references-in-kotlin/46732037#46732037", "title": "Spring injected references in Kotlin", "body": "<p>The Spring project official recommendation is to use constructor injection. \nIn Kotlin it will look something like this:</p>\n\n<pre><code>@Service\nclass GobblinMetricsConsumer(\n    private val graphiteClient: GraphiteClient,\n    private val parserService: JsonParserService,\n    private val kafkaConfigurationProperties: KafkaConfigurationProperties\n) {\n  // code will go here\n}\n</code></pre>\n"}], "owner": {"reputation": 2809, "user_id": 1526347, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a9cee1766e0a271ab642702c7736e2a2?s=128&d=identicon&r=PG", "display_name": "jingx", "link": "https://stackoverflow.com/users/1526347/jingx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 973, "favorite_count": 0, "accepted_answer_id": 46731895, "answer_count": 2, "score": 0, "last_activity_date": 1507904379, "creation_date": 1507902972, "question_id": 46731607, "link": "https://stackoverflow.com/questions/46731607/spring-injected-references-in-kotlin", "title": "Spring injected references in Kotlin", "body": "<p>In Kotlin, a variable must be initialized at declaration time, and cannot be <code>null</code> unless it has <code>?</code> appended to the type name. So a bean reference intended to be injected by Spring would have to be declared as:</p>\n\n<pre><code>@AutoWired\nvar someService: SomeService? = null\n</code></pre>\n\n<p>The nuisance is obviously that from here on everywhere <code>someService</code> is used, some kind of null-safety logic has to be specified, be it <code>?:</code> or a straight-up null check.</p>\n\n<p>Of course we can do:</p>\n\n<pre><code>@AutoWired\nvar someService = new SomeService()\n</code></pre>\n\n<p>But that's not always possible, and the throwaway instance is just confusing.</p>\n\n<p>My question is, is there anyway to tell Kotlin that this variable will be initialized and actually not be <code>null</code>?</p>\n"}, {"tags": ["android", "kotlin", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 1289, "user_id": 4338446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-lEYUAtfOcaI/AAAAAAAAAAI/AAAAAAAAAIs/MSqS9M_3Xzk/photo.jpg?sz=128", "display_name": "Skye", "link": "https://stackoverflow.com/users/4338446/skye"}, "edited": false, "score": 0, "creation_date": 1507902751, "post_id": 46731456, "comment_id": 80409179, "body": "In your firestore data I don&#39;t see data for key &quot;USA&quot; and &quot;skipping&quot;. Are you sure that this data are correct?"}, {"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "reply_to_user": {"reputation": 1289, "user_id": 4338446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-lEYUAtfOcaI/AAAAAAAAAAI/AAAAAAAAAIs/MSqS9M_3Xzk/photo.jpg?sz=128", "display_name": "Skye", "link": "https://stackoverflow.com/users/4338446/skye"}, "edited": false, "score": 0, "creation_date": 1507902866, "post_id": 46731456, "comment_id": 80409262, "body": "That answer just made me figure out the problem. Thanks"}, {"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "reply_to_user": {"reputation": 1289, "user_id": 4338446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-lEYUAtfOcaI/AAAAAAAAAAI/AAAAAAAAAIs/MSqS9M_3Xzk/photo.jpg?sz=128", "display_name": "Skye", "link": "https://stackoverflow.com/users/4338446/skye"}, "edited": false, "score": 0, "creation_date": 1507902914, "post_id": 46731456, "comment_id": 80409294, "body": "Could you tell me one thing I don&#39;t know how to do: Instead of looking for a specific data, how can I load the whole document? Thanks"}, {"owner": {"reputation": 1289, "user_id": 4338446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-lEYUAtfOcaI/AAAAAAAAAAI/AAAAAAAAAIs/MSqS9M_3Xzk/photo.jpg?sz=128", "display_name": "Skye", "link": "https://stackoverflow.com/users/4338446/skye"}, "edited": false, "score": 0, "creation_date": 1507903258, "post_id": 46731456, "comment_id": 80409520, "body": "look at the answer below."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1507903322, "post_id": 46731659, "comment_id": 80409576, "body": "regarding the first question, it was a stupid mistake, fixed. I was calling the value and not the key (data). As for the 2nd, maybe I explain myself wrong. Let&#39;s take the example of the collection &quot;cities&quot;. I have a Document called &quot;LA&quot;. How can I make it so on my List it shows &quot;LA&quot; and then I click on it and it appears with the elements inside that document? I know how to create an intent and all that, just need help with the part of getting it from firestore Thanks :D"}, {"owner": {"reputation": 1289, "user_id": 4338446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-lEYUAtfOcaI/AAAAAAAAAAI/AAAAAAAAAIs/MSqS9M_3Xzk/photo.jpg?sz=128", "display_name": "Skye", "link": "https://stackoverflow.com/users/4338446/skye"}, "reply_to_user": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1507903479, "post_id": 46731659, "comment_id": 80409690, "body": "Put document id (in this case LA) into document. Then you will have { &#39;country&#39; : &#39;USA&#39;, &#39;name&#39; : &#39;Los Angeles&#39;, &#39;state&#39; : &#39;CA&#39;, &#39;cityId&#39; : &#39;LA&#39; }. It will give you ability to querying items by id :)"}, {"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1507903544, "post_id": 46731659, "comment_id": 80409730, "body": "into document where? Sorry I am fairly new to Android Dev."}, {"owner": {"reputation": 1289, "user_id": 4338446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-lEYUAtfOcaI/AAAAAAAAAAI/AAAAAAAAAIs/MSqS9M_3Xzk/photo.jpg?sz=128", "display_name": "Skye", "link": "https://stackoverflow.com/users/4338446/skye"}, "reply_to_user": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1507903603, "post_id": 46731659, "comment_id": 80409770, "body": "In your document you have 3 fields right? Put another one, call it cityId and add LA or another id you want :)"}, {"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1507903731, "post_id": 46731659, "comment_id": 80409857, "body": "Oh no  no, not that :) What I want is for the Name of the Document (which in this case is LA, as you can see from the link on my question) to appear on my list and then when I click on it, another activity comes up with the data inside the document. As I said, I know how to create an intent :)"}, {"owner": {"reputation": 1289, "user_id": 4338446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-lEYUAtfOcaI/AAAAAAAAAAI/AAAAAAAAAIs/MSqS9M_3Xzk/photo.jpg?sz=128", "display_name": "Skye", "link": "https://stackoverflow.com/users/4338446/skye"}, "reply_to_user": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1507903864, "post_id": 46731659, "comment_id": 80409937, "body": "You cannot get list of ids from collection. My solution gives you what you want. You can get the id of the city from snapshot, then you can start another activity with this id, or you can provide more params (to reduce database usage for example). If you don&#39;t want to do this that way, you can create new document with ids."}, {"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1507904041, "post_id": 46731659, "comment_id": 80410085, "body": "Oh I see... i could create a document solely for the ids, correct? Could you elaborate a bit more regarding your answer? As in how to show all the data inside my document? :) You&#39;re being very helpful thanks :)"}, {"owner": {"reputation": 1289, "user_id": 4338446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-lEYUAtfOcaI/AAAAAAAAAAI/AAAAAAAAAIs/MSqS9M_3Xzk/photo.jpg?sz=128", "display_name": "Skye", "link": "https://stackoverflow.com/users/4338446/skye"}, "reply_to_user": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1507904268, "post_id": 46731659, "comment_id": 80410254, "body": "Right. But I checked in the docs, each document has field called id. So you can get this id calling (according to your code): document.id . In that case you are downloading entire list of cities, so you can use this data in the future (no needed to download them again for selected city). It&#39;s better to store cityId inside city document :)"}, {"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1507904406, "post_id": 46731659, "comment_id": 80410343, "body": "Got it... what about the second part? :)"}, {"owner": {"reputation": 1289, "user_id": 4338446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-lEYUAtfOcaI/AAAAAAAAAAI/AAAAAAAAAIs/MSqS9M_3Xzk/photo.jpg?sz=128", "display_name": "Skye", "link": "https://stackoverflow.com/users/4338446/skye"}, "reply_to_user": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1507904449, "post_id": 46731659, "comment_id": 80410374, "body": "@MilliyY about storing ids in documents?"}, {"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1507904499, "post_id": 46731659, "comment_id": 80410413, "body": "This might be related: I have something like this <a href=\"https://imgur.com/a/VXHGR\" rel=\"nofollow noreferrer\">imgur.com/a/VXHGR</a> (saw on stack). How can I go around saving it to my firebase and upload (automatically) the name of my Created list to my list (the one I showed you on my question) - I did try something but the code was full of errors"}, {"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1507904572, "post_id": 46731659, "comment_id": 80410467, "body": "no. About showing up all the data inside a document on a list (because like I said, I would touch &quot;LA&quot; on my list, and create an intent to load everything inside it)"}, {"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1507904716, "post_id": 46731659, "comment_id": 80410568, "body": "I tried something like  Firestore.firestore().collection(&quot;Collection&quot;).addDocument(d&zwnj;&#8203;ata: [             // start out with the strings, then add constants.             &quot;FieldName&quot; : &quot;FieldValue&quot;,             &quot;FieldName&quot; : &quot;FieldValue&quot;,             &quot;FieldName&quot; : &quot;FieldValue&quot;         ]) { (err) in             if let err = err {                 debugPrint(&quot;Error adding document: &#40;err)&quot;)             } else {                 // successful do something             }         }               but it didn&#39;t work"}, {"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1507905047, "post_id": 46731659, "comment_id": 80410785, "body": "So I add querySnapshot.documents.mapTo(firstKitList) { it.toObject(DataClass::class.java)} inside my Create List button?"}, {"owner": {"reputation": 1289, "user_id": 4338446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-lEYUAtfOcaI/AAAAAAAAAAI/AAAAAAAAAIs/MSqS9M_3Xzk/photo.jpg?sz=128", "display_name": "Skye", "link": "https://stackoverflow.com/users/4338446/skye"}, "reply_to_user": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1507905216, "post_id": 46731659, "comment_id": 80410894, "body": "@MilliyY it will map all documents inside snapshot to your custom list of models (I posted example of your model in my answer above). You can do with your list what you want."}, {"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1507905521, "post_id": 46731659, "comment_id": 80411109, "body": "There are a couple of things i don&#39;t get, but others that I do. Let me go one at a time and see if I am right/wrong. So, 1st I create a Data Class like you&#39;ve shown me; after I add an intent to an item on my list and pass the information on that Data class inside that activity correct?  2nd: so if I want to add the name of my created list using the button I have to do it with startActivityForResult? instead of this  val intent = Intent(this, NewKitListActivity::class.java)             startActivity(intent); correct?"}, {"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1507905684, "post_id": 46731659, "comment_id": 80411214, "body": "And also, whats the difference between creating a data class and this FirebaseFirestore.getInstance().collection(&quot;collectionName&quot;)                     .document(&quot;documentId, for example LA&quot;).set(city)     ?"}, {"owner": {"reputation": 1289, "user_id": 4338446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-lEYUAtfOcaI/AAAAAAAAAAI/AAAAAAAAAIs/MSqS9M_3Xzk/photo.jpg?sz=128", "display_name": "Skye", "link": "https://stackoverflow.com/users/4338446/skye"}, "reply_to_user": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1507906166, "post_id": 46731659, "comment_id": 80411525, "body": "I have to go. Later I will post you git repo with all code you need to do this, ok?"}, {"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1507906214, "post_id": 46731659, "comment_id": 80411566, "body": "Take your time. I am going as well now. Thanks a lot Skye, will be waiting :) On the meantime I will work ou ton something"}, {"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1508143867, "post_id": 46731659, "comment_id": 80477907, "body": "Any news @Skye? :)"}, {"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1508145649, "post_id": 46731659, "comment_id": 80478955, "body": "@Skyie, no worries at all :D Meanwhile I am going to study about  startActivityForResult. Thanks for your tips. See  you tomorrow"}, {"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1508229685, "post_id": 46731659, "comment_id": 80518146, "body": "I will be on as much as possible to check your edits :)"}, {"owner": {"reputation": 1289, "user_id": 4338446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-lEYUAtfOcaI/AAAAAAAAAAI/AAAAAAAAAIs/MSqS9M_3Xzk/photo.jpg?sz=128", "display_name": "Skye", "link": "https://stackoverflow.com/users/4338446/skye"}, "reply_to_user": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1508233635, "post_id": 46731659, "comment_id": 80520595, "body": "@MilliyY today at 7 pm (GMT) I&#39;ll post here a link to repo."}, {"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1508234148, "post_id": 46731659, "comment_id": 80520921, "body": "not sure I will be on but I will definitely see it tomorrow at 9am (GMT). By the way, any questions you want answered to be clarified? Once again thanks a lot"}, {"owner": {"reputation": 1289, "user_id": 4338446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-lEYUAtfOcaI/AAAAAAAAAAI/AAAAAAAAAIs/MSqS9M_3Xzk/photo.jpg?sz=128", "display_name": "Skye", "link": "https://stackoverflow.com/users/4338446/skye"}, "reply_to_user": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1508312531, "post_id": 46731659, "comment_id": 80557047, "body": "@MilliyY <a href=\"https://github.com/banaszeknorbert/FirestoreCities\" rel=\"nofollow noreferrer\">github.com/banaszeknorbert/FirestoreCities</a> It&#39;s not completely finished :)"}, {"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1508314367, "post_id": 46731659, "comment_id": 80558116, "body": "Good morning @Skye, i am going to have a look :)"}, {"owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1508314708, "post_id": 46731659, "comment_id": 80558302, "body": "@ Skye, any chance we can chat on Skype or something like that? :) I have some questions thanks"}, {"owner": {"reputation": 1289, "user_id": 4338446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-lEYUAtfOcaI/AAAAAAAAAAI/AAAAAAAAAIs/MSqS9M_3Xzk/photo.jpg?sz=128", "display_name": "Skye", "link": "https://stackoverflow.com/users/4338446/skye"}, "reply_to_user": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "edited": false, "score": 0, "creation_date": 1508316173, "post_id": 46731659, "comment_id": 80559088, "body": "@MilliyY write me an email (you can find email adress in profile on github)."}], "tags": [], "owner": {"reputation": 1289, "user_id": 4338446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-lEYUAtfOcaI/AAAAAAAAAAI/AAAAAAAAAIs/MSqS9M_3Xzk/photo.jpg?sz=128", "display_name": "Skye", "link": "https://stackoverflow.com/users/4338446/skye"}, "is_accepted": false, "score": 0, "last_activity_date": 1507905114, "last_edit_date": 1507905114, "creation_date": 1507903137, "answer_id": 46731659, "question_id": 46731456, "link": "https://stackoverflow.com/questions/46731456/firestore-only-lets-me-load-one-document/46731659#46731659", "title": "Firestore only lets me load one document", "body": "<p>1st Answer:\nIn your firestore data I don't see data for key \"USA\" and \"skipping\". Are you sure that this data are correct?</p>\n\n<p>Answer for 2nd question.\nI suggest you to create data class with fields you want. Then, you can map your document data to your class with code: </p>\n\n<pre><code>document.data.toObject(DataClass::class.java)\n</code></pre>\n\n<p>Or, if you have more than one document in QuerySnapshot:</p>\n\n<pre><code>val dataList = mutableListOf&lt;DataClass&gt;()\nquerySnapshot.documents.mapTo(dataList) { it.toObject(DataClass::class.java)}\n</code></pre>\n\n<p>Basing on your code, you can do this: </p>\n\n<pre><code>querySnapshot.documents.mapTo(firstKitList) { it.toObject(DataClass::class.java)}\n</code></pre>\n\n<p>@Edit1\nthis is you data model:</p>\n\n<pre><code>class City(var cityId: String,\n       var state: String,\n       var name: String,\n       var country: String) {\n\n    //remember to add empty constructor.\n    constructor() : this(\"\", \"\", \"\", \"\")\n}\n</code></pre>\n\n<p>When you tap on list on this item, create an Intent with all this data, and start new activity. </p>\n\n<p>@Edit2\nIf you want to add document with specific id:</p>\n\n<pre><code>FirebaseFirestore.getInstance().collection(\"collectionName\")\n                    .document(\"documentId, for example LA\").set(city)\n</code></pre>\n\n<p>If you want to pass id to previous activity, learn something about startActivityForResult method :)</p>\n"}], "owner": {"reputation": 21, "user_id": 8771633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36f3e10945f0f7601e4cbef55cf59c6e?s=128&d=identicon&r=PG&f=1", "display_name": "MilliyY", "link": "https://stackoverflow.com/users/8771633/milliyy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 154, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1507905114, "creation_date": 1507902417, "question_id": 46731456, "link": "https://stackoverflow.com/questions/46731456/firestore-only-lets-me-load-one-document", "title": "Firestore only lets me load one document", "body": "<p>So, why can I call any pair of key-value from <a href=\"https://imgur.com/a/XFUR2\" rel=\"nofollow noreferrer\">this one</a>, but can't from <a href=\"https://imgur.com/a/sQNRj\" rel=\"nofollow noreferrer\">this one</a>?</p>\n\n<p>This is my code</p>\n\n<pre><code> var firstKitList = mutableListOf&lt;String&gt;()\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_kit_list)\n\n    val mainKitList = kitListView\n    val mainListViewAdapter = ArrayAdapter(this, android.R.layout.simple_list_item_1, firstKitList)\n    mainKitList.adapter = mainListViewAdapter\n\n     db1.collection(\"cities\").get().addOnSuccessListener { snapshot -&gt;\n        for (document in snapshot.documents) {\n            val data = document.data\n            val country = data[\"USA\"] as String\n\n            firstKitList.add(country)\n\n\n\n        }\n        mainListViewAdapter.notifyDataSetChanged()\n    }\n</code></pre>\n\n<p>If I switch \"cities\" for \"KitList\" and <code>val country = data[\"USA\"] as String</code>  for <code>val rope = data[\"skipping\"] as String</code> it works... Could anyone explain this to me please?</p>\n"}, {"tags": ["android", "firebase", "kotlin", "firebase-authentication"], "owner": {"reputation": 11, "user_id": 8771375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zvvPI.jpg?s=128&g=1", "display_name": "mgurei", "link": "https://stackoverflow.com/users/8771375/mgurei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 296, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1507907393, "creation_date": 1507900786, "last_edit_date": 1507907393, "question_id": 46730962, "link": "https://stackoverflow.com/questions/46730962/android-firebase-auth-local-module-descriptor-class-for-com-google-android-gms", "title": "Android Firebase auth: Local module descriptor class for com.google.android.gms.crash and com.google.firebase.auth not found", "body": "<p>For my master thesis project I am working on an application for medical diagnostic on Android. I am using Kotlin in Android Studio 3.0 Beta 7. I have implemented a authentication system with Firebase, and every time I run the app in the logcat I get these warnings:</p>\n\n<pre><code>DynamiteModule: Local module descriptor class for com.google.firebase.auth not found.\n\nDynamiteModule: Local module descriptor class for com.google.firebase.auth not found.\n</code></pre>\n\n<p>I am using the email and password sign-in method. The authentication works just fine, so I don't get the origin of this warnings. My gradle app file has: </p>\n\n<pre><code>...\ndependencies { \n...\nimplementation 'com.firebase:firebase-client-android:2.3.1'\nimplementation 'com.google.firebase:firebase-auth:11.4.2'\nimplementation 'com.google.firebase:firebase-database:11.4.2'\nimplementation 'com.google.firebase:firebase-core:11.4.2'\nimplementation 'com.google.firebase:firebase-crash:11.4.2'\nimplementation 'com.google.android.gms:play-services-vision:11.4.2'\n...\n}\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>Of course I do have Internet permits added in the Manifest. I have tried different approaches I've seen here on SO, but nothing worked:</p>\n\n<ul>\n<li>I have 12.55 GB of free storage, so it is not about storage space</li>\n<li>Google play services installed are v. 11.5.18</li>\n<li>I have cleared all app data </li>\n<li>Added extra libraries (already listed above)</li>\n<li>Restart Android Studio</li>\n</ul>\n\n<p>Any suggestion? Thanks!</p>\n\n<p>EDIT: I have tested this on 2 devices: Nexus 5 with Android 6.0.1 and Oneplus 5 with 7.1.1</p>\n"}, {"tags": ["java", "android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 2571, "user_id": 3734457, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/de6e5134d8a12fdcbd9cd3b204d70203?s=128&d=identicon&r=PG", "display_name": "Jan Slominski", "link": "https://stackoverflow.com/users/3734457/jan-slominski"}, "edited": false, "score": 0, "creation_date": 1508137457, "post_id": 46730931, "comment_id": 80474470, "body": "Have you tried the same Room schema in Java and annotation processor instead of kapt?"}, {"owner": {"reputation": 730, "user_id": 3250600, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fd42c672162d2cb50c2557c63e67b9a6?s=128&d=identicon&r=PG", "display_name": "Saeed.re", "link": "https://stackoverflow.com/users/3250600/saeed-re"}, "edited": false, "score": 0, "creation_date": 1508155478, "post_id": 46730931, "comment_id": 80484966, "body": "Removing the <code>@Ignore</code> from default constructors got rid of the error for me."}, {"owner": {"reputation": 9772, "user_id": 1618135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UqWor.jpg?s=128&g=1", "display_name": "blackpanther", "link": "https://stackoverflow.com/users/1618135/blackpanther"}, "reply_to_user": {"reputation": 730, "user_id": 3250600, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/fd42c672162d2cb50c2557c63e67b9a6?s=128&d=identicon&r=PG", "display_name": "Saeed.re", "link": "https://stackoverflow.com/users/3250600/saeed-re"}, "edited": false, "score": 0, "creation_date": 1508156040, "post_id": 46730931, "comment_id": 80485363, "body": "@Virusman that doesn\u2019t work for me"}], "answers": [{"tags": [], "owner": {"reputation": 1931, "user_id": 1042965, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/5fdd7b12f474f5e1682aa818ab973433?s=128&d=identicon&r=PG", "display_name": "Pinakin", "link": "https://stackoverflow.com/users/1042965/pinakin"}, "is_accepted": false, "score": 0, "last_activity_date": 1516855905, "creation_date": 1516855905, "answer_id": 48435889, "question_id": 46730931, "link": "https://stackoverflow.com/questions/46730931/many-to-many-relationship-with-room-resulting-in-error-entities-and-pojos-must/48435889#48435889", "title": "Many to many relationship with Room resulting in Error: Entities and Pojos must have a usable public constructor", "body": "<p>@Relation Tag in Room right now only support one to Many relation ship as mentioned by \"Florina Muntenescu\" in her blog <a href=\"https://medium.com/google-developers/7-pro-tips-for-room-fbadea4bfbd1\" rel=\"nofollow noreferrer\">post</a></p>\n\n<p>Also for the above question make changes in your data classes as mentioned below</p>\n\n<pre><code>@Entity(tableName = \"Person\")\ndata class Person(@PrimaryKey \n                  var id: Int = 0,\n                  var firstName: String = \"\",\n                  var surname: String = \"\",\n                  var age: Int = 0,\n                  var numberOfHobbies: Int = 0)\n\n@Entity(tableName = \"Skill\")\ndata class Skill(@PrimaryKey \n                 var id: Int = 0,\n                 var skillName: String = \"\")\n\n@Entity(tableName = \"PersonSkill\")\ndata class PersonSkill(@PrimaryKey \n                       var id: Int = 0\n                       var personId: Int = 0,\n                       var skillId: Int = 0)\n\n\n\ndata class SkillWithPersons(\n    @Embedded \n    var skill: Skill? = null \n    @Relation(\n            parentColumn = \"id\",\n            entityColumn = \"skillId\",\n            entity = PersonSkill::class,\n            projection = arrayOf(\"personId\")) \n            var personIds: List&lt;Int&gt; = ArrayList()\n            )\n\ndata class PersonWithSkills(\n    @Embedded \n    var person: Person? = null\n    @Relation(\n            parentColumn = \"id\",\n            entityColumn = \"personId\",\n            entity = PersonSkill::class,\n            projection = arrayOf(\"skillId\")) \n            var skillIds: List&lt;Int&gt; = ArrayList()\n)\n</code></pre>\n\n<p>This way you can get rid of errors. </p>\n"}], "owner": {"reputation": 9772, "user_id": 1618135, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/UqWor.jpg?s=128&g=1", "display_name": "blackpanther", "link": "https://stackoverflow.com/users/1618135/blackpanther"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 527, "favorite_count": 3, "answer_count": 1, "score": 3, "last_activity_date": 1516855905, "creation_date": 1507900694, "question_id": 46730931, "link": "https://stackoverflow.com/questions/46730931/many-to-many-relationship-with-room-resulting-in-error-entities-and-pojos-must", "title": "Many to many relationship with Room resulting in Error: Entities and Pojos must have a usable public constructor", "body": "<p>I am encountering the issue stated in the title. I have the following entities:</p>\n\n<pre><code>@Entity(tableName = \"Person\")\ndata class Person(@PrimaryKey var id: Int,\n              var firstName: String,\n              var surname: String,\n              var age: Int,\n              var numberOfHobbies: Int) {\n    @Ignore\n    constructor() : this(0, \"\", \"\", 0, 0)\n}\n\n@Entity(tableName = \"Skill\")\ndata class Skill(@PrimaryKey var id: Int,\n             var skillName: String) {\n    @Ignore\n    constructor() : this(0, \"\")\n}\n\n@Entity(tableName = \"PersonSkill\")\ndata class PersonSkill(var personId: Int,\n                   var skillId: Int) {\n    @Ignore\n    constructor() : this(0, 0)\n\n    @field:PrimaryKey(autoGenerate = true)\n    var id: Int = 0\n}\n</code></pre>\n\n<p>And the following relationships:</p>\n\n<pre><code>data class SkillWithPersons(\n    @Embedded var skill: Skill = Skill(0, \"UNKNOWN\"),\n    @Relation(\n            parentColumn = \"id\",\n            entityColumn = \"skillId\",\n            entity = PersonSkill::class,\n            projection = arrayOf(\"personId\")\n    ) var personIds: List&lt;Int&gt; = emptyList()\n) {\n      constructor() : this(Skill(0, \"UNKNOWN\"), emptyList())\n }\n\ndata class PersonWithSkills(\n    @Embedded var person: Person = Person(0, \"UNKNOWN\", \"UNKNOWN\", 0, 0),\n    @Relation(\n            parentColumn = \"id\",\n            entityColumn = \"personId\",\n            entity = PersonSkill::class,\n            projection = arrayOf(\"skillId\")\n    ) var skillIds: List&lt;Int&gt; = emptyList()\n) {\n      constructor(): this(Person(0, \"UNKNOWN\", \"UNKNOWN\", 0, 0), emptyList())\n}\n</code></pre>\n\n<p>And I have tried everything, and yet it does not work. I keep getting the following error with kotlin-kapt:</p>\n\n<pre><code>e: error: Entities and Pojos must have a usable public constructor. You can have an empty constructor or a constructor whose parameters match the fields (by name and type).\ne: \n\ne:   Tried the following constructors but they failed to match:\ne:   Integer(int) : [value : null]\ne:   Integer(java.lang.String) : [s : null]\ne: error: Entities and Pojos must have a usable public constructor. You can have an empty constructor or a constructor whose parameters match the fields (by name and type).\ne: \n\ne: java.lang.IllegalStateException:\n</code></pre>\n\n<p>I am using the following versions:</p>\n\n<p>Android Studio 3.0 with Gradle 4,\nRoom: <code>1.0.0-alpha9-1</code>,\nBuild tools: <code>26.0.2</code>,\nKotlin: <code>1.1.51</code></p>\n\n<p>It seems there's a bug with the use of <code>@Relation</code> as kotin-kapt seems to no handle it. Has anyone encountered this situation before? I have even tried to remove the <code>projection</code> from the <code>@Relation</code> but even that does not seem to make a difference.</p>\n"}, {"tags": ["android", "google-maps", "kotlin", "supportmapfragment"], "answers": [{"tags": [], "owner": {"reputation": 124, "user_id": 5333750, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pDba25TC3Ew/AAAAAAAAAAI/AAAAAAAACIs/payTXS9KtCc/photo.jpg?sz=128", "display_name": "Darko Bacic", "link": "https://stackoverflow.com/users/5333750/darko-bacic"}, "is_accepted": false, "score": -1, "last_activity_date": 1507899660, "creation_date": 1507899660, "answer_id": 46730570, "question_id": 46730332, "link": "https://stackoverflow.com/questions/46730332/cant-get-supportmapfragment-to-return-anything-seems-to-be-always-null/46730570#46730570", "title": "Can&#39;t get SupportMapFragment to return anything..seems to be always null", "body": "<p>You are using the wrong fragment manager. You need to use the <strong>supportFragmentManager</strong></p>\n\n<pre><code>    var mapFragment = activity.supportFragmentManager.findFragmentById(R.id.mapF) as SupportMapFragment\n</code></pre>\n"}], "owner": {"reputation": 1047, "user_id": 929732, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/ab07188bfbcf1c804ada347f9391e7ae?s=128&d=identicon&r=PG", "display_name": "BostonMacOSX", "link": "https://stackoverflow.com/users/929732/bostonmacosx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 745, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1554572555, "creation_date": 1507898911, "question_id": 46730332, "link": "https://stackoverflow.com/questions/46730332/cant-get-supportmapfragment-to-return-anything-seems-to-be-always-null", "title": "Can&#39;t get SupportMapFragment to return anything..seems to be always null", "body": "<p>So here is my Code:\nKrux of things is that the onMapReady wasn't being called so I played around with the </p>\n\n<p><strong>Error</strong></p>\n\n<blockquote>\n  <p>Process: com.example.herbstzu.listview, PID: 16963\n                                                                                 kotlin.TypeCastException: null cannot be cast to non-null type\n  com.google.android.gms.maps.SupportMapFragment</p>\n</blockquote>\n\n<p><strong>XML</strong></p>\n\n<pre><code>.....\n &lt;LinearLayout\n            android:id=\"@+id/LayoutInfo\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_marginVertical=\"10dp\"\n            android:orientation=\"horizontal\"&gt;\n\n            &lt;ImageView\n                android:id=\"@+id/imagePhone2\"\n                android:layout_width=\"60dp\"\n                android:layout_height=\"60dp\"\n                android:layout_gravity=\"start\"\n                android:layout_marginLeft=\"15dp\"\n                android:layout_marginRight=\"15dp\"\n                app:srcCompat=\"@drawable/ic_exclamation\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/info_text\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_weight=\"1\"\n                android:text=\"TextView\"\n                android:textColor=\"#000000\" /&gt;\n        &lt;/LinearLayout&gt;\n\n        &lt;fragment\n            class=\"com.google.android.gms.maps.MapFragment\"\n            android:id=\"@+id/mapF\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"200dp\"/&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/ScrollView&gt;\n</code></pre>\n\n<p><strong>Kotlin Fragment Class</strong></p>\n\n<pre><code>import android.os.Bundle\nimport android.support.v4.app.Fragment\nimport android.util.Log\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport com.google.android.gms.maps.model.LatLng\nimport com.google.android.gms.maps.model.MarkerOptions\nimport com.google.android.gms.maps.SupportMapFragment\nimport com.google.android.gms.maps.CameraUpdateFactory\nimport com.google.android.gms.maps.GoogleMap\nimport com.google.android.gms.maps.OnMapReadyCallback\n\nclass Event_details : Fragment(),OnMapReadyCallback{\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n    }\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?,\n                              savedInstanceState: Bundle?): View? {\n        var myView = inflater!!.inflate(R.layout.fragment_event_details, container, false)\n\n        var mapFragment = activity.fragmentManager.findFragmentById(R.id.mapF) as SupportMapFragment\n        mapFragment.getMapAsync(this)\n\n        return  myView\n    }\n     override fun onMapReady(googleMap: GoogleMap) {\n        Log.d(\"onMapready\",\"MapReady\")\n        val cphbusiness = LatLng(55.770535, 12.511922)\n        googleMap.addMarker(MarkerOptions().position(cphbusiness).title(\"Her\"))\n        googleMap.moveCamera(CameraUpdateFactory.zoomTo(16.0F))\n        googleMap.moveCamera(CameraUpdateFactory.newLatLng(cphbusiness))\n\n    }\n}// Required empty public constructor\n</code></pre>\n"}, {"tags": ["java", "exception", "try-catch", "kotlin"], "comments": [{"owner": {"reputation": 574, "user_id": 1714102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc0da4a2535695cffdbd66719b58a28?s=128&d=identicon&r=PG", "display_name": "Przemo", "link": "https://stackoverflow.com/users/1714102/przemo"}, "edited": false, "score": 0, "creation_date": 1531735607, "post_id": 46730315, "comment_id": 89690700, "body": "ArithmeticException is not <i>checked exception</i>, so even in JAVA programmer wouldn&#39;t be warned. You would have to use eg. IOException"}, {"owner": {"reputation": 1751, "user_id": 6241054, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qV7vO.jpg?s=128&g=1", "display_name": "Jocky Doe", "link": "https://stackoverflow.com/users/6241054/jocky-doe"}, "reply_to_user": {"reputation": 574, "user_id": 1714102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/acc0da4a2535695cffdbd66719b58a28?s=128&d=identicon&r=PG", "display_name": "Przemo", "link": "https://stackoverflow.com/users/1714102/przemo"}, "edited": false, "score": 0, "creation_date": 1531739232, "post_id": 46730315, "comment_id": 89692814, "body": "@Przemo Really, is that so? Thank you for that info"}], "answers": [{"tags": [], "owner": {"reputation": 126499, "user_id": 1531124, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/zw18i.png?s=128&g=1", "display_name": "GhostCat", "link": "https://stackoverflow.com/users/1531124/ghostcat"}, "is_accepted": true, "score": 9, "last_activity_date": 1507899101, "creation_date": 1507899101, "answer_id": 46730402, "question_id": 46730315, "link": "https://stackoverflow.com/questions/46730315/kotlin-checked-exceptions-alternative/46730402#46730402", "title": "Kotlin checked exceptions alternative", "body": "<p>Given the fact that the language doesn't have a construct to make this explicit, the only thing left is: implicitly.</p>\n\n<p>For example by putting javadoc that clearly tells the user of the method about what/why exceptions might be thrown at him. Or you use the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-throws/\" rel=\"noreferrer\">@Throws</a> annotation.</p>\n\n<p>Maybe, maybe the kotlin team will add <em>compiler warnings</em> at some point to make up for this ( see <a href=\"https://discuss.kotlinlang.org/t/in-future-could-kotlin-have-checked-exception/1579\" rel=\"noreferrer\">here</a> ).</p>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 6700830, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TmRHUaNDjGI/AAAAAAAAAAI/AAAAAAAABpg/WUC4cyxANRI/photo.jpg?sz=128", "display_name": "CodesInTheDark", "link": "https://stackoverflow.com/users/6700830/codesinthedark"}, "is_accepted": false, "score": 2, "last_activity_date": 1530841388, "creation_date": 1530841388, "answer_id": 51201970, "question_id": 46730315, "link": "https://stackoverflow.com/questions/46730315/kotlin-checked-exceptions-alternative/51201970#51201970", "title": "Kotlin checked exceptions alternative", "body": "<p>You can return Try so that client can call isSuccess or isFailure <a href=\"http://www.java-allandsundry.com/2017/12/kotlin-try-type-for-functional.html\" rel=\"nofollow noreferrer\">http://www.java-allandsundry.com/2017/12/kotlin-try-type-for-functional.html</a></p>\n\n<p>You can also return nullable type BigDecimal? so that client will know that the value might not exist (when divided by zero you can return null).</p>\n"}], "owner": {"reputation": 1751, "user_id": 6241054, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/qV7vO.jpg?s=128&g=1", "display_name": "Jocky Doe", "link": "https://stackoverflow.com/users/6241054/jocky-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4494, "favorite_count": 2, "accepted_answer_id": 46730402, "answer_count": 2, "score": 15, "last_activity_date": 1530841388, "creation_date": 1507898864, "question_id": 46730315, "link": "https://stackoverflow.com/questions/46730315/kotlin-checked-exceptions-alternative", "title": "Kotlin checked exceptions alternative", "body": "<p>Since Kotlin doesn't support checked exceptions then how to make a programmer aware that a method may throw exception</p>\n\n<p>Simple example:</p>\n\n<pre><code>class Calculator (value: Int = 0) {\n\n    fun divide (dividend: BigDecimal, divider: BigDecimal) : BigDecimal {\n        return dividend / divider\n    }\n}\n</code></pre>\n\n<p>Obviously the divide method may throw <code>java.lang.ArithmeticException: Division by zero</code> exception and the creator of the library needs to warn the user of the class to put the invoke in a <code>try-catch</code> clause</p>\n\n<p>What's the mechanism for that awareness in Kotlin?</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1526307386, "post_id": 46730173, "comment_id": 87681071, "body": "Shouldn&#39;t <code>@Query</code> be annotated with <b>Transaction</b> as well?"}, {"owner": {"reputation": 5135, "user_id": 4577762, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/bxDtJ.jpg?s=128&g=1", "display_name": "FirstOne", "link": "https://stackoverflow.com/users/4577762/firstone"}, "edited": false, "score": 12, "creation_date": 1537384265, "post_id": 46730173, "comment_id": 91769115, "body": "The key for me was to use <code>open</code> for the method, as I already had an abstract class."}], "tags": [], "owner": {"reputation": 1514, "user_id": 4982379, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dc061f763b5a0f9f5c51ab78fa4b7190?s=128&d=identicon&r=PG", "display_name": "Marcola Carr", "link": "https://stackoverflow.com/users/4982379/marcola-carr"}, "is_accepted": true, "score": 42, "last_activity_date": 1550145002, "last_edit_date": 1550145002, "creation_date": 1507898382, "answer_id": 46730173, "question_id": 46730172, "link": "https://stackoverflow.com/questions/46730172/room-receiving-error-when-using-transaction/46730173#46730173", "title": "Room: Receiving error when using @Transaction", "body": "<p>According to the <a href=\"https://developer.android.com/reference/android/arch/persistence/room/Transaction.html\" rel=\"noreferrer\">transaction documentation</a></p>\n\n<blockquote>\n  <p>Marks a method in an <strong>abstract Dao class</strong> as a transaction method.</p>\n</blockquote>\n\n<p>Change your class to:</p>\n\n<pre><code>@Dao abstract class Dao {\n\n    @Insert(onConflict = REPLACE) abstract fun insertList(chacaras: List&lt;String&gt;)\n\n    @Query(\"SELECT * FROM chacara WHERE cityId = :cityId\")\n    abstract fun getListOfCity(cityId: String): LiveData&lt;List&lt;String&gt;&gt;\n\n    @Delete abstract fun deleteList(chacaraList: List&lt;String&gt;)\n\n    @Transaction\n    open fun updateList(list: List&lt;String&gt;){\n        deleteList(list)\n        insertList(list)\n    }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 1514, "user_id": 4982379, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dc061f763b5a0f9f5c51ab78fa4b7190?s=128&d=identicon&r=PG", "display_name": "Marcola Carr", "link": "https://stackoverflow.com/users/4982379/marcola-carr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3193, "favorite_count": 2, "accepted_answer_id": 46730173, "answer_count": 1, "score": 19, "last_activity_date": 1550145002, "creation_date": 1507898382, "question_id": 46730172, "link": "https://stackoverflow.com/questions/46730172/room-receiving-error-when-using-transaction", "title": "Room: Receiving error when using @Transaction", "body": "<p>I'm have a method annotated with @Transaction in my DAO class, which is causing the following error:</p>\n\n<blockquote>\n  <p>A DAO method can be annotated with only one of the following:Insert,Delete,Query,Update</p>\n</blockquote>\n\n<p>Here's my class:</p>\n\n<pre><code>@Dao interface Dao {\n\n    @Insert(onConflict = REPLACE) fun insertList(chacaras: List&lt;String&gt;)\n\n    @Query(\"SELECT * FROM chacara WHERE cityId = :cityId\")\n    fun getListOfCity(cityId: String): LiveData&lt;List&lt;String&gt;&gt;\n\n    @Delete fun deleteList(chacaraList: List&lt;String&gt;)\n\n    @Transaction\n    fun updateList(list: List&lt;String&gt;){\n        deleteList(list)\n        insertList(list)\n    }\n\n}\n</code></pre>\n\n<p>When I remove the method annotated with @Transaction it compiles normally.\nIs there anyway to fix this?</p>\n"}, {"tags": ["spring", "kotlin", "java-6", "migrate"], "comments": [{"owner": {"reputation": 501, "user_id": 6160689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dd07633d89d73629a21246090042d30c?s=128&d=identicon&r=PG&f=1", "display_name": "Sartorius", "link": "https://stackoverflow.com/users/6160689/sartorius"}, "edited": false, "score": 2, "creation_date": 1507926046, "post_id": 46730001, "comment_id": 80421802, "body": "It would really help to know more about your &quot;limitations&quot;. In general, I&#39;d say give Kotlin a try. Better stay away from <code>lambdaj</code> (suggested in one of the answers) - IMHO, it&#39;s really ugly (and outdated). If Kotlin doesn&#39;t work for you there are still better alternatives, e.g. <a href=\"https://github.com/orfjackal/retrolambda\" rel=\"nofollow noreferrer\">retrolambda</a> and either <a href=\"https://sourceforge.net/projects/streamsupport/\" rel=\"nofollow noreferrer\">streamsupport</a> or <a href=\"https://github.com/aNNiMON/Lightweight-Stream-API\" rel=\"nofollow noreferrer\">LWS</a>"}], "answers": [{"tags": [], "owner": {"reputation": 621, "user_id": 4478968, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/f9L6H.jpg?s=128&g=1", "display_name": "marco", "link": "https://stackoverflow.com/users/4478968/marco"}, "is_accepted": false, "score": 1, "last_activity_date": 1507898310, "creation_date": 1507898310, "answer_id": 46730145, "question_id": 46730001, "link": "https://stackoverflow.com/questions/46730001/migrating-from-java-6-to-kotlin/46730145#46730145", "title": "Migrating from Java 6 to Kotlin", "body": "<p>For kotlin, I don't know. But I think there is a lambda library, developed by Mario Fusco, an italian \"Java Champion\" (the only italian Java champion as far as I know), which is named lambdaj.\nI google it for you and I found <a href=\"https://github.com/mariofusco/lambdaj\" rel=\"nofollow noreferrer\">this</a>. I suggest you to google it a bit more, I remember that long time ago it was available in a jar for ant build. </p>\n\n<p>I hope it helps. </p>\n"}, {"tags": [], "owner": {"reputation": 20715, "user_id": 1045142, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/uz1X3.jpg?s=128&g=1", "display_name": "Simon Martinelli", "link": "https://stackoverflow.com/users/1045142/simon-martinelli"}, "is_accepted": true, "score": 2, "last_activity_date": 1507898939, "creation_date": 1507898939, "answer_id": 46730347, "question_id": 46730001, "link": "https://stackoverflow.com/questions/46730001/migrating-from-java-6-to-kotlin/46730347#46730347", "title": "Migrating from Java 6 to Kotlin", "body": "<p>In my opinion Kotlin is a great language because it addresses all the pain points from Java in terms of boiler plate code and adds all of this plus functional programming to Java 6 (your target Java version)</p>\n\n<p>So go ahead and give it a try.\nIf you use IntelliJ you can convert Java files to Kotlin and vice versa. </p>\n"}], "owner": {"reputation": 3, "user_id": 8313595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4919eca1b0d750fcb23f898f87a5304?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos C&#244;rtes", "link": "https://stackoverflow.com/users/8313595/marcos-c%c3%b4rtes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 192, "favorite_count": 0, "accepted_answer_id": 46730347, "answer_count": 2, "score": -4, "last_activity_date": 1507934617, "creation_date": 1507897891, "last_edit_date": 1507934617, "question_id": 46730001, "link": "https://stackoverflow.com/questions/46730001/migrating-from-java-6-to-kotlin", "title": "Migrating from Java 6 to Kotlin", "body": "<p>I have some projects in Java 6 and Spring on app server. Because of limitations in my infrastructure and governance planninng I cannot migrate to newer Java 7 or 8.</p>\n\n<p>I think i could add Kotlin in those projects to use features like functional programming.</p>\n\n<p>It this approach a good way to go?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["java", "android", "lambda", "kotlin"], "comments": [{"owner": {"reputation": 3071, "user_id": 3166697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGEWy.jpg?s=128&g=1", "display_name": "Dima Kozhevin", "link": "https://stackoverflow.com/users/3166697/dima-kozhevin"}, "edited": false, "score": 1, "creation_date": 1507895411, "post_id": 46729225, "comment_id": 80404480, "body": "It&#39;s the most shortest question as I seen today)"}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 0, "creation_date": 1507895418, "post_id": 46729225, "comment_id": 80404488, "body": "I think here you can find answer <a href=\"https://stackoverflow.com/questions/43235423/converted-java-class-file-to-kotlin-makes-compilation-error\" title=\"converted java class file to kotlin makes compilation error\">stackoverflow.com/questions/43235423/&hellip;</a>"}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 3071, "user_id": 3166697, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YGEWy.jpg?s=128&g=1", "display_name": "Dima Kozhevin", "link": "https://stackoverflow.com/users/3166697/dima-kozhevin"}, "edited": false, "score": 2, "creation_date": 1507896030, "post_id": 46729225, "comment_id": 80404822, "body": "@DimaKozhevin it is kinda long because I posted 2 examples in which the failure occurs."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 0, "creation_date": 1507896122, "post_id": 46729225, "comment_id": 80404868, "body": "@JemoMgebrishvili so it says I either need to use <code>object :</code> as I did above, or change these interfaces to <code>typealias</code> of Kotlin&#39;s function types, or use Kotlin&#39;s function types directly? Changing to <code>typealias</code> or to Kotlin types would work only if I change all code that uses this to Kotlin as well. Hrmm... Yes, that <b>is</b> a very relevant question."}, {"owner": {"reputation": 3509, "user_id": 7470253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de5e0a1bb750b2968ca1655e76895079?s=128&d=identicon&r=PG&f=1", "display_name": "M. Prokhorov", "link": "https://stackoverflow.com/users/7470253/m-prokhorov"}, "edited": false, "score": 2, "creation_date": 1507896385, "post_id": 46729225, "comment_id": 80405024, "body": "@EpicPandaForce, or you could leave functional interfaces in Java and implement them in Kotlin. At least this I think is hinted at in linked answer."}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 0, "creation_date": 1507896477, "post_id": 46729225, "comment_id": 80405086, "body": "yep, you have a two options if you convert your code to Kotlin, in my case I preferred typealiases"}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1507897307, "post_id": 46729225, "comment_id": 80405617, "body": "see also <a href=\"https://discuss.kotlinlang.org/t/sam-conversion-on-kotlin-interfaces/1433\" rel=\"nofollow noreferrer\">SAM Conversion on Kotlin Interfaces</a> - good discussion"}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1507897660, "post_id": 46729225, "comment_id": 80405838, "body": "The <b>Converter</b> has a bug.  I.e., having found a lambda in the original Java source code, and having converted the original java interface to a Kotlin interface, the converter should have also converted the lambda to a compatible type - IMHO"}], "answers": [{"tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": true, "score": 1, "last_activity_date": 1507905860, "last_edit_date": 1507905860, "creation_date": 1507902954, "answer_id": 46731600, "question_id": 46729225, "link": "https://stackoverflow.com/questions/46729225/why-cannot-kotlin-infer-the-following-lambda-argument-after-java-kotlin-conv/46731600#46731600", "title": "Why cannot Kotlin infer the following lambda argument (after Java -&gt; Kotlin conversion)?", "body": "<p>Thanks to <code>/u/lupajz</code> I now know that the problem is that interfaces defined in Kotlin are <strong>not</strong> converted by the SAM conversion because of <a href=\"https://discuss.kotlinlang.org/t/kotlin-and-sam-interface-with-two-parameters/293/5\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/t/kotlin-and-sam-interface-with-two-parameters/293/5</a></p>\n\n<p>Basically it boils down to</p>\n\n<blockquote>\n  <p>\"why would you do it this way when you can use Kotlin's functional interfaces and type-aliases instead; if you need this then define the interfaces in Java\".</p>\n</blockquote>\n\n<hr>\n\n<p>There are a few workarounds:</p>\n\n<p>1.) inline objects (which is what I showed above as part of the question)</p>\n\n<p>2.) type aliases + exposing overloaded methods</p>\n\n<pre><code>private typealias KotlinPredicate&lt;T&gt; = (T) -&gt; Boolean;\n\nprivate typealias KotlinConsumer&lt;T&gt; = (T) -&gt; Unit;\n\nclass DatabaseManager {\n    private interface Consumer&lt;T&gt; {\n        fun apply(t : T) : Unit;\n    }\n\n    private fun forEachLiveList(consumer: Consumer&lt;MutableLiveList&lt;*&gt;&gt;) {\n        forEachLiveList({\n            consumer.apply(it)\n        })\n    }\n\n    private fun forEachLiveList(consumer: KotlinConsumer&lt;MutableLiveList&lt;*&gt;&gt;) {\n        ...\n    }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>interface Predicate&lt;T&gt; {\n    fun test(t : T) : Boolean;\n}\n\n\nfun updateLiveLists(predicate: Predicate&lt;MutableLiveList&lt;*&gt;&gt;) {\n    updateLiveLists({\n        predicate.test(it)\n    })\n}\n\nfun updateLiveLists(predicate: KotlinPredicate&lt;MutableLiveList&lt;*&gt;&gt; = { liveList -&gt; true }) {\n    forEachLiveList({ liveList -&gt;\n        if (predicate.invoke(liveList)) {\n            refresh(liveList)\n        }\n    })\n}\n</code></pre>\n"}], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1140, "favorite_count": 2, "accepted_answer_id": 46731600, "answer_count": 1, "score": 1, "last_activity_date": 1507998947, "creation_date": 1507895179, "last_edit_date": 1507998947, "question_id": 46729225, "link": "https://stackoverflow.com/questions/46729225/why-cannot-kotlin-infer-the-following-lambda-argument-after-java-kotlin-conv", "title": "Why cannot Kotlin infer the following lambda argument (after Java -&gt; Kotlin conversion)?", "body": "<p>I had the following Java code:</p>\n\n<pre><code>public class DatabaseManager {\n    public interface Predicate&lt;T&gt; {\n        boolean test(T t);\n    }\n\n    private interface Consumer&lt;T&gt; {\n        void apply(T t);\n    }\n\n    private void updateLiveLists() {\n        updateLiveLists(liveList -&gt; true);\n    }\n\n    private void updateLiveLists(Predicate&lt;MutableLiveList&lt;?&gt;&gt; predicate) {\n        forEachLiveList(liveList -&gt; {\n            if (predicate.test(liveList)) {\n                refresh(liveList);\n            }\n        });\n    }\n\n    private void forEachLiveList(Consumer&lt;MutableLiveList&lt;?&gt;&gt; consumer) {\n        ...\n    }\n</code></pre>\n\n<p>Then I used <code>Java -&gt; Kotlin conversion</code> in Android Studio:</p>\n\n<pre><code>class DatabaseManager {\n    interface Predicate&lt;T&gt; {\n        fun test(t: T): Boolean\n    }\n\n    private interface Consumer&lt;T&gt; {\n        fun apply(t: T)\n    }\n\n    private fun updateLiveLists(predicate: Predicate&lt;MutableLiveList&lt;*&gt;&gt; = { liveList -&gt; true }) {\n        forEachLiveList({ liveList -&gt;\n            if (predicate.test(liveList)) {\n                refresh(liveList)\n            }\n        })\n    }\n\n    private fun forEachLiveList(consumer: Consumer&lt;MutableLiveList&lt;*&gt;&gt;) {\n       ...\n    }\n</code></pre>\n\n<p>Fails with the following error:</p>\n\n<blockquote>\n  <p>Type mismatch</p>\n  \n  <p><code>Required: DatabaseManager.Consumer&lt;MutableLiveList&lt;*&gt;&gt;</code></p>\n  \n  <p>Found: (???) -> Unit</p>\n</blockquote>\n\n<p>Now I had to change code to following:</p>\n\n<pre><code>private fun updateLiveLists(predicate: Predicate&lt;MutableLiveList&lt;*&gt;&gt; = object : Predicate&lt;MutableLiveList&lt;*&gt;&gt; {\n    override fun test(t: MutableLiveList&lt;*&gt;): Boolean {\n        return true;\n    }\n}) {\n    forEachLiveList(object : DatabaseManager.Consumer&lt;MutableLiveList&lt;*&gt;&gt; { // &lt;--- !!\n        override fun apply(t: MutableLiveList&lt;*&gt;) {\n            if (predicate.test(t)) {\n                refresh(t)\n            }\n        }\n    })\n}\n</code></pre>\n\n<p><strong>Okay, so I had to explicitly declare this anonymous interface as an explicit subclass of <code>object</code>, as for whatever reason Kotlin couldn't figure out the lambda.</strong></p>\n\n<hr>\n\n<p>If it helps, I have the same problem occurring in a function below it:</p>\n\n<pre><code>fun refresh(vararg tables: Table) {\n    updateLiveLists({ liveList -&gt;\n        for (table in tables) {\n            if (liveList.getTable() === table) {\n                return@updateLiveLists true\n            }\n        }\n        false\n    })\n}\n</code></pre>\n\n<p>Which says:</p>\n\n<blockquote>\n  <p>Type Mismatch:</p>\n  \n  <p><code>Required: DatabaseManager.Predicate&lt;MutableLiveList&lt;*&gt;&gt;</code></p>\n  \n  <p>Found: ??? -> Boolean</p>\n</blockquote>\n\n<p>And I have to do this instead</p>\n\n<pre><code>fun refresh(vararg tables: Table) {\n    updateLiveLists(object: DatabaseManager.Predicate&lt;MutableLiveList&lt;*&gt;&gt; { // &lt;--\n        override fun test(t: MutableLiveList&lt;*&gt;): Boolean {\n            for (table in tables) {\n                if (t.getTable() === table) {\n                    return true\n                }\n            }\n            return false\n        }\n    })\n}\n</code></pre>\n\n<p><strong>Why, and how can I avoid this? How can I use my own Predicate/Consumer without Kotlin getting confused about the lambda type?</strong></p>\n"}, {"tags": ["android-intent", "kotlin", "parcelable"], "comments": [{"owner": {"reputation": 84801, "user_id": 769265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37aa203d22f9e9a864b71eb7968d6b09?s=128&d=identicon&r=PG", "display_name": "David Wasser", "link": "https://stackoverflow.com/users/769265/david-wasser"}, "edited": false, "score": 0, "creation_date": 1507899207, "post_id": 46728857, "comment_id": 80406824, "body": "Where is the exception being thrown? Please show the entire stack trace? Do you put this <code>Intent</code> with &quot;extras&quot; in a <code>Notification</code> or send it to <code>AlarmManager</code>?"}, {"owner": {"reputation": 861, "user_id": 7229971, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/AWdZL.jpg?s=128&g=1", "display_name": "KuLdip PaTel", "link": "https://stackoverflow.com/users/7229971/kuldip-patel"}, "edited": false, "score": 0, "creation_date": 1507974605, "post_id": 46728857, "comment_id": 80432428, "body": "please refer this ans <a href=\"https://stackoverflow.com/questions/33551972/is-there-a-convenient-way-to-create-parcelable-data-classes-in-android-with-kotl\" title=\"is there a convenient way to create parcelable data classes in android with kotl\">stackoverflow.com/questions/33551972/&hellip;</a>"}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1508122547, "post_id": 46728857, "comment_id": 80469864, "body": "have you tried putting person object in bundle and then putting this bundle in intent extra?"}, {"owner": {"reputation": 4293, "user_id": 2919052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mfshI.jpg?s=128&g=1", "display_name": "codeKiller", "link": "https://stackoverflow.com/users/2919052/codekiller"}, "reply_to_user": {"reputation": 861, "user_id": 7229971, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/AWdZL.jpg?s=128&g=1", "display_name": "KuLdip PaTel", "link": "https://stackoverflow.com/users/7229971/kuldip-patel"}, "edited": false, "score": 0, "creation_date": 1508142507, "post_id": 46728857, "comment_id": 80477160, "body": "@KuLdipPaTel if you check my code for <code>Person.kt</code> it matches the accepted answer you are referring to in your comment"}, {"owner": {"reputation": 4293, "user_id": 2919052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mfshI.jpg?s=128&g=1", "display_name": "codeKiller", "link": "https://stackoverflow.com/users/2919052/codekiller"}, "reply_to_user": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1508142580, "post_id": 46728857, "comment_id": 80477209, "body": "@MalwinderSingh is it any major difference using <code>Bundle</code> or passing the parameter as I am doing on <code>MainActivity.kt</code>??"}, {"owner": {"reputation": 4293, "user_id": 2919052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mfshI.jpg?s=128&g=1", "display_name": "codeKiller", "link": "https://stackoverflow.com/users/2919052/codekiller"}, "edited": false, "score": 0, "creation_date": 1508143235, "post_id": 46728857, "comment_id": 80477538, "body": "Well, I do not know why, but using a <code>Bundle</code> for sending the <code>Parcelable</code> still works and does NOT throw any exception"}], "answers": [{"comments": [{"owner": {"reputation": 2031, "user_id": 1651845, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/30ec7b2d4dae5107b36c52fff7a29894?s=128&d=identicon&r=PG", "display_name": "stankocken", "link": "https://stackoverflow.com/users/1651845/stankocken"}, "edited": false, "score": 1, "creation_date": 1508335422, "post_id": 46766285, "comment_id": 80571285, "body": "No idea neither why it&#39;s working but your solution make it work. Thanks."}, {"owner": {"reputation": 129, "user_id": 2070522, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d9704a3337b014c2fcdd1a340a3080a7?s=128&d=identicon&r=PG", "display_name": "Abhishek Dewan", "link": "https://stackoverflow.com/users/2070522/abhishek-dewan"}, "edited": false, "score": 2, "creation_date": 1519247028, "post_id": 46766285, "comment_id": 84837230, "body": "I second that... this worked. For some reason when you use Intent.putExtra(CustomParcellableClass) it doesn&#39;t store the classloader information.  Anyways thank you for the solution :D"}, {"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 0, "creation_date": 1579329601, "post_id": 46766285, "comment_id": 105737513, "body": "I couldn&#39;t figure out how to recover the Parcelable from the savedInstanceState, but adding the line <code>as MyClass</code> did the trick.  Oddly the type arguments within the angle brackets generate a warning saying that it&#39;s unnecessary and can be inferred.  If I remove that, I get a compile error saying that the inference fails.  Make up your mind, kotlin!"}], "tags": [], "owner": {"reputation": 4293, "user_id": 2919052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mfshI.jpg?s=128&g=1", "display_name": "codeKiller", "link": "https://stackoverflow.com/users/2919052/codekiller"}, "is_accepted": true, "score": 22, "last_activity_date": 1508143641, "creation_date": 1508143641, "answer_id": 46766285, "question_id": 46728857, "link": "https://stackoverflow.com/questions/46728857/kotlin-parcelable-class-throwing-classnotfoundexception/46766285#46766285", "title": "Kotlin parcelable class throwing ClassNotFoundException", "body": "<p>After testing a solution in a comment, the following works without throwing any exception</p>\n\n<p><strong>Sending the<code>Parcelable</code> via <code>Bundle</code></strong></p>\n\n<pre><code>val intent = Intent(this, ProfilePage::class.java)\nvar bundle = Bundle()\nbundle.putParcelable(\"selected_person\",person)\nintent.putExtra(\"myBundle\",bundle)\nstartActivity(intent)\n</code></pre>\n\n<p><strong>Recovering <code>Parcelable</code></strong></p>\n\n<pre><code>val bundle = intent.getBundleExtra(\"myBundle\")\nvar person  = bundle.getParcelable&lt;Person&gt;(\"selected_person\") as Person\n</code></pre>\n\n<p>However, I do not know the difference with my old code in the question and why that old code throws Exception and why this new one does not throw</p>\n"}, {"tags": [], "owner": {"reputation": 5323, "user_id": 807110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e4311934b00d7a37980696839577f07?s=128&d=identicon&r=PG", "display_name": "Gunhan", "link": "https://stackoverflow.com/users/807110/gunhan"}, "is_accepted": false, "score": 4, "last_activity_date": 1527064363, "creation_date": 1527064363, "answer_id": 50483526, "question_id": 46728857, "link": "https://stackoverflow.com/questions/46728857/kotlin-parcelable-class-throwing-classnotfoundexception/50483526#50483526", "title": "Kotlin parcelable class throwing ClassNotFoundException", "body": "<p>I've prepared the extension functions below for your convenience to use the Kotlin Parcelables without any warnings.</p>\n\n<pre><code>fun Intent.putParcel(key: String = \"parcel_key\", parcel: Parcelable) {\n    val bundle = Bundle()\n    bundle.putParcelable(key, parcel)\n    this.putExtra(\"parcel_bundle\", bundle)\n}\n\nfun &lt;T : Parcelable&gt; Intent.getParcel(key: String = \"parcel_key\"): T? {\n    return this.getBundleExtra(\"parcel_bundle\")?.getParcelable(key)\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>//Put parcel\nintent.putParcel(parcel = Person()) //any Parcalable\n\n//Get parcel\nval person: Person?  = intent.getParcel() //auto converts using Generics\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 479, "user_id": 2534122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c78c521a68d8d299b49d8da512574fa?s=128&d=identicon&r=PG", "display_name": "mujeeb.omr", "link": "https://stackoverflow.com/users/2534122/mujeeb-omr"}, "is_accepted": false, "score": 0, "last_activity_date": 1557996360, "creation_date": 1557996360, "answer_id": 56164447, "question_id": 46728857, "link": "https://stackoverflow.com/questions/46728857/kotlin-parcelable-class-throwing-classnotfoundexception/56164447#56164447", "title": "Kotlin parcelable class throwing ClassNotFoundException", "body": "<pre><code>var bundle = intent.extras\nvar person = bundle.getParcelable&lt;Person&gt;(\"selected_person\")\n</code></pre>\n\n<p>The above code is working for me. You can cut short the code as follows.</p>\n\n<pre><code>var person = intent.extras.getParcelable&lt;Person&gt;(\"selected_person\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 1019258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6851fcdfc87509152c29ccb36b3c79?s=128&d=identicon&r=PG", "display_name": "Blake", "link": "https://stackoverflow.com/users/1019258/blake"}, "is_accepted": false, "score": 2, "last_activity_date": 1594140615, "last_edit_date": 1594140615, "creation_date": 1567097986, "answer_id": 57714823, "question_id": 46728857, "link": "https://stackoverflow.com/questions/46728857/kotlin-parcelable-class-throwing-classnotfoundexception/57714823#57714823", "title": "Kotlin parcelable class throwing ClassNotFoundException", "body": "<p>I guess this is a compatibility issue between Kotlin and Java for the moment.\nI found an easy solution that allows using only Kotlin and without boilerplate.</p>\n<pre><code>val intent = Intent(this, ProfilePage::class.java).apply {\n    extras?.putParcellable(&quot;clicked_person&quot;,person)\n}\n\nstartActivity(intent)\n</code></pre>\n<p>And then to retrieve the value you should use:</p>\n<pre><code>var person = intent?.extras?.getParcellable&lt;Person&gt;(&quot;clicked_person&quot;)\n</code></pre>\n<p>NB: you don't need to cast as Person</p>\n"}, {"tags": [], "owner": {"reputation": 4200, "user_id": 10699119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aYUPn.jpg?s=128&g=1", "display_name": "sana ebadi", "link": "https://stackoverflow.com/users/10699119/sana-ebadi"}, "is_accepted": false, "score": 0, "last_activity_date": 1582023444, "creation_date": 1582023444, "answer_id": 60279293, "question_id": 46728857, "link": "https://stackoverflow.com/questions/46728857/kotlin-parcelable-class-throwing-classnotfoundexception/60279293#60279293", "title": "Kotlin parcelable class throwing ClassNotFoundException", "body": "<p><strong>In the first Activity:</strong></p>\n\n<pre><code> val intent = Intent(this@MainActivity, DetailsActivity::class.java)\n        intent.putExtra(Const.SELECTED_NOTE, noteList[position])\n        startActivity(intent)\n</code></pre>\n\n<p><strong>In the Second Activity:</strong></p>\n\n<pre><code>val note = intent.getParcelableExtra&lt;Note&gt;(Const.SELECTED_NOTE)\n</code></pre>\n\n<p><strong>EXPLAIN</strong>: First you should Put <code>Parcelable</code> Data and call <code>getParcelableExtra</code> in next activity!\nin <code>getParcelableExtra</code> you should call <code>Data class</code> (here is <strong>Note</strong> ) and <code>Key Of Bundle</code> (here is <strong>Const.SELECTED_NOTE</strong>)! </p>\n"}], "owner": {"reputation": 4293, "user_id": 2919052, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/mfshI.jpg?s=128&g=1", "display_name": "codeKiller", "link": "https://stackoverflow.com/users/2919052/codekiller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9824, "favorite_count": 1, "accepted_answer_id": 46766285, "answer_count": 5, "score": 9, "last_activity_date": 1594140615, "creation_date": 1507894041, "last_edit_date": 1508137223, "question_id": 46728857, "link": "https://stackoverflow.com/questions/46728857/kotlin-parcelable-class-throwing-classnotfoundexception", "title": "Kotlin parcelable class throwing ClassNotFoundException", "body": "<p>I have a class that I use as my data model for a <code>RecyclerView</code>in order to pass object of this class from one activity to another via <code>Intent</code> I had to make it <code>Parcelable</code></p>\n\n<p>The problem is now that I am being able to send the object from one activity to another and retrieve it, <strong>so that the app does not crash</strong>, but keeps throwing <code>ClassNotFoundException</code> in the logcat screen.</p>\n\n<p>What am I doing wrong?</p>\n\n<p><strong>----> Person.kt</strong></p>\n\n<pre><code>@Parcelize\nclass Person(var name: String, var username: String, var address: String, val avatar: Int) : Parcelable\n</code></pre>\n\n<p><strong>----> in MainActivity.kt</strong></p>\n\n<pre><code>val intent = Intent(this, ProfilePage::class.java)\n        intent.putExtra(\"clicked_person\",person)\n        startActivity(intent)\n</code></pre>\n\n<p><strong>---->. <code>onCreate()</code> in ProfilePAge.kt</strong></p>\n\n<pre><code>var person  = intent.getParcelableExtra&lt;Person&gt;(\"clicked_person\") as Person\n</code></pre>\n\n<p>And the <code>Exception</code></p>\n\n<pre><code>E/Parcel: Class not found when unmarshalling: com.example.testkot.kotlinapp.Person\n                                         java.lang.ClassNotFoundException: com.example.testkot.kotlinapp.Person\n</code></pre>\n\n<p>Please remember that the app does not crash, it keeps working but shows the exception in logcat</p>\n"}, {"tags": ["java", "design-patterns", "kotlin"], "comments": [{"owner": {"reputation": 852, "user_id": 3319557, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CPTHY.jpg?s=128&g=1", "display_name": "mlecz", "link": "https://stackoverflow.com/users/3319557/mlecz"}, "edited": false, "score": 0, "creation_date": 1507893549, "post_id": 46728647, "comment_id": 80403328, "body": "I do not know kotlin, but the error looks like computeSomething is not public."}, {"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1507893742, "post_id": 46728647, "comment_id": 80403449, "body": "can&#39;t you use &#39;protected final&#39; ? So that it&#39;s accessible by subclasses, but cannot be overriden?"}, {"owner": {"reputation": 11622, "user_id": 1097451, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1516b785b675ba751aacdc05ae31764b?s=128&d=identicon&r=PG", "display_name": "Martin Drozdik", "link": "https://stackoverflow.com/users/1097451/martin-drozdik"}, "reply_to_user": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1507893848, "post_id": 46728647, "comment_id": 80403528, "body": "@NSimon Actually I want it to be overriden. I don&#39;t want it to be <i>called</i>."}], "answers": [{"comments": [{"owner": {"reputation": 11622, "user_id": 1097451, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1516b785b675ba751aacdc05ae31764b?s=128&d=identicon&r=PG", "display_name": "Martin Drozdik", "link": "https://stackoverflow.com/users/1097451/martin-drozdik"}, "edited": false, "score": 1, "creation_date": 1507899091, "post_id": 46729963, "comment_id": 80406752, "body": "I agree about the lambda, that is a nice solution.  However I disagree that it doesn&#39;t make sense for a private method to be overridden. My example code illustrates that quite clearly."}], "tags": [], "owner": {"reputation": 137, "user_id": 3853021, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60cd1a77153f6c41ab67cc1e9bbb57df?s=128&d=identicon&r=PG", "display_name": "gegy1000", "link": "https://stackoverflow.com/users/3853021/gegy1000"}, "is_accepted": true, "score": 2, "last_activity_date": 1507897702, "creation_date": 1507897702, "answer_id": 46729963, "question_id": 46728647, "link": "https://stackoverflow.com/questions/46728647/how-to-implement-the-template-method-design-pattern-in-kotlin/46729963#46729963", "title": "How to implement the template method design pattern in Kotlin?", "body": "<p>It doesn't make sense for a function to be overridden, but not callable from that class. By overriding that function, you own its implementation, and therefore can call it.</p>\n\n<p>You can accomplish what you want by detaching the execution logic from the derived classes, which can be done in a few ways:</p>\n\n<ul>\n<li>You could make use of a lambda, and pass that to the constructor of the <code>Base</code> </li>\n<li>You could create an interface implementation that handles the execution logic</li>\n</ul>\n\n<p>By passing these to the <code>Base</code> class in its constructor, you are transferring their ownership to that class.</p>\n"}, {"tags": [], "owner": {"reputation": 1560, "user_id": 4758618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2f04c304d3c41dcc6f9b721cbe22d4f0?s=128&d=identicon&r=PG&f=1", "display_name": "V-master", "link": "https://stackoverflow.com/users/4758618/v-master"}, "is_accepted": false, "score": 1, "last_activity_date": 1507902710, "creation_date": 1507902710, "answer_id": 46731536, "question_id": 46728647, "link": "https://stackoverflow.com/questions/46728647/how-to-implement-the-template-method-design-pattern-in-kotlin/46731536#46731536", "title": "How to implement the template method design pattern in Kotlin?", "body": "<p>You can make them to pass object that will check the value if they would like to call this method.\nexample</p>\n\n<pre><code>abstract class Base\n{\n    fun computeSomething(argument: Int): Int\n    {\n        return execute(ValueCheck(argument))\n    }\n\n    protected abstract fun execute(validArgument: ValueCheck)\n\n    protected class ValueCheck(a: Int)\n    {\n        private val value = checkValue(a)\n\n        private fun checkValue(argument: Int): Int\n        {\n            require(argument &gt; 0)\n            return argument\n        }\n\n        fun get() = value\n    }\n}\n</code></pre>\n\n<p>and when derived class would like to call execute, it have to pass object that is checking value when creating instance</p>\n"}], "owner": {"reputation": 11622, "user_id": 1097451, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1516b785b675ba751aacdc05ae31764b?s=128&d=identicon&r=PG", "display_name": "Martin Drozdik", "link": "https://stackoverflow.com/users/1097451/martin-drozdik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1061, "favorite_count": 0, "accepted_answer_id": 46729963, "answer_count": 2, "score": 6, "last_activity_date": 1507902710, "creation_date": 1507893331, "question_id": 46728647, "link": "https://stackoverflow.com/questions/46728647/how-to-implement-the-template-method-design-pattern-in-kotlin", "title": "How to implement the template method design pattern in Kotlin?", "body": "<p>Consider the problem:</p>\n\n<p>We have a <code>Base</code> class with an abstract method. Now, we would like to enforce that every override of this method will perform some argument checking or some other drudgery. We want this argument checking to be identical across all overrides. One solution would be to wrap this behavior in a non-abstract method which calls an abstract one:</p>\n\n<pre><code>abstract class Base\n{\n    fun computeSomething(argument: Int): Int\n    {\n        require(argument &gt; 0) // Some intricate checking\n        return execute(argument)\n    }\n\n    // Pure functionality, assuming correct arguments\n    // Ideally, this would be private. \n    protected abstract fun execute(validArgument: Int): Int\n}\n\nclass Derived1: Base()\n{\n    override fun execute(validArgument: Int): Int =\n        validArgument * validArgument\n}\n\nclass Derived2: Base()\n{\n    override fun execute(validArgument: Int): Int =\n        validArgument * validArgument * validArgument\n}\n\n\nfun main(args: Array&lt;String&gt;)\n{\n    val d = Derived1()\n    println(d.computeSomething(23))\n}\n</code></pre>\n\n<p>I would like to have <code>Base::execute</code> private, such that no subclass of <code>Base</code> can call it by accident without checking its arguments. Unfortunately, this is not possible:</p>\n\n<blockquote>\n  <p>Error:(9, 5) Kotlin: Modifier 'private' is incompatible with\n  'abstract'</p>\n</blockquote>\n\n<p>Kotlin's <code>protected</code> is better than Java's <code>protected</code>, since it makes the function accessible only to subclasses but still, the ideal case would be <code>private</code>.</p>\n\n<p>So is there some right way to implement this pattern? Also, just out of curiosity, is the incompatibility of <code>private</code> and <code>abstract</code> a deliberate choice of language design?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 8081, "user_id": 1729085, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/dU7CD.jpg?s=128&g=1", "display_name": "Audi", "link": "https://stackoverflow.com/users/1729085/audi"}, "edited": false, "score": 0, "creation_date": 1507891232, "post_id": 46727702, "comment_id": 80401940, "body": "Ah that makes sense.. Thanks"}, {"owner": {"reputation": 293, "user_id": 5023926, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-foc_KlXu7qQ/AAAAAAAAAAI/AAAAAAAABwk/IcGbSb05eJk/photo.jpg?sz=128", "display_name": "Niels", "link": "https://stackoverflow.com/users/5023926/niels"}, "edited": false, "score": 1, "creation_date": 1521821184, "post_id": 46727702, "comment_id": 85910751, "body": "A bit late, but you could wrap a Collection implementation in a custom class and override the get/remove methods. This way you can trigger you listeners."}, {"owner": {"reputation": 73, "user_id": 4741304, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fDzEv.jpg?s=128&g=1", "display_name": "Alexander Knauf", "link": "https://stackoverflow.com/users/4741304/alexander-knauf"}, "edited": false, "score": 0, "creation_date": 1618297507, "post_id": 46727702, "comment_id": 118552101, "body": "The idea of using immutable is great. Kotlin makes it easy to create new lists upon list. And by the way, your list is more robust against concurrency issues"}], "tags": [], "owner": {"reputation": 3103, "user_id": 3887813, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6a5d60d4ba9be9d67243bef5ca7f0141?s=128&d=identicon&r=PG&f=1", "display_name": "Robin", "link": "https://stackoverflow.com/users/3887813/robin"}, "is_accepted": true, "score": 9, "last_activity_date": 1521821517, "last_edit_date": 1521821517, "creation_date": 1507890165, "answer_id": 46727702, "question_id": 46727614, "link": "https://stackoverflow.com/questions/46727614/how-to-create-a-observable-list-in-kotlin/46727702#46727702", "title": "How to create a observable List in kotlin", "body": "<p>It doesn't work because the observabe delegate only observes changes to the <em>variable</em>, not to the object <em>stored in that variable</em>. So when the list changes, the variable still points to the same list, and the observable delegate has no idea anything has changed. To observe that, you need some means of actually observing the contents of the list, which is not something Kotlin or Java provides out of the box. You'll need some kind of observable list for that.</p>\n\n<p>Alternatively, you could use a standard list (instead of a mutable one), and whenever you need to change the list, replace it with the new version of the list. This way you can listen to changes just like you want to, but probably need to adjust a lot of other code using that list.</p>\n"}, {"tags": [], "owner": {"reputation": 6281, "user_id": 648746, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6c7be55a7a5e28c374ba30054a9ecb82?s=128&d=identicon&r=PG", "display_name": "theblitz", "link": "https://stackoverflow.com/users/648746/theblitz"}, "is_accepted": false, "score": 1, "last_activity_date": 1557006982, "last_edit_date": 1557006982, "creation_date": 1554988111, "answer_id": 55633264, "question_id": 46727614, "link": "https://stackoverflow.com/questions/46727614/how-to-create-a-observable-list-in-kotlin/55633264#55633264", "title": "How to create a observable List in kotlin", "body": "<p>I am very late on this one but have developed a library that supplies observable collections.</p>\n\n<p>At present it includes the following collections:</p>\n\n<p><strong>Lists</strong><br>\nArrayList<br>\nLinkedList<br>\nStack<br>\nVector  </p>\n\n<p><strong>Maps</strong><br>\nArrayMap<br>\nConcurrentHashMap<br>\nLinkedHashMap<br>\nTreeMap<br>\nWeakHashMap  </p>\n\n<p><strong>Queues</strong><br>\nArrayBlockingQueue<br>\nArrayDeque<br>\nDelayDeque<br>\nLinkedBlockingQueue<br>\nLinkedTransferQueue<br>\nPriorityBlockingQueue<br>\nQueue<br>\nSynchronousQueue   </p>\n\n<p><strong>Sets</strong><br>\nHashSet<br>\nLinkedHashSet<br>\nTreeSet</p>\n\n<p>More will be added as time permits and per requests.</p>\n\n<p>You can find it at \n<a href=\"https://github.com/theblitz/ObservableCollections\" rel=\"nofollow noreferrer\">https://github.com/theblitz/ObservableCollections</a></p>\n\n<p>and is available for gradle on jcenter() like this:</p>\n\n<blockquote>\n  <p>implementation 'il.co.theblitz:observablecollections:1.2.0'</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 4883, "user_id": 1638277, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/iHZQ7.jpg?s=128&g=1", "display_name": "avianey", "link": "https://stackoverflow.com/users/1638277/avianey"}, "is_accepted": false, "score": 4, "last_activity_date": 1584015874, "creation_date": 1584015874, "answer_id": 60654101, "question_id": 46727614, "link": "https://stackoverflow.com/questions/46727614/how-to-create-a-observable-list-in-kotlin/60654101#60654101", "title": "How to create a observable List in kotlin", "body": "<p>You can use something like this :</p>\n\n<pre><code>class ObservableList&lt;T&gt;(private val wrapped: MutableList&lt;T&gt;): MutableList&lt;T&gt; by wrapped, Observable() {\n    override fun add(element: T): Boolean {\n        if (wrapped.add(element)) {\n            setChanged()\n            notifyObservers()\n            return true\n        }\n        return false\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 8081, "user_id": 1729085, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/dU7CD.jpg?s=128&g=1", "display_name": "Audi", "link": "https://stackoverflow.com/users/1729085/audi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8709, "favorite_count": 1, "accepted_answer_id": 46727702, "answer_count": 3, "score": 7, "last_activity_date": 1584015874, "creation_date": 1507889839, "last_edit_date": 1507890566, "question_id": 46727614, "link": "https://stackoverflow.com/questions/46727614/how-to-create-a-observable-list-in-kotlin", "title": "How to create a observable List in kotlin", "body": "<p>I want to update my text whenever there is a new element added to my list..\nI tried to do this by below code..</p>\n\n<pre><code>var myList: MutableList&lt;ArrayList&lt;String&gt;&gt; by Delegates.observable(mutableListOf(), onChange = { _, _, new -&gt;\n    Constants.debug(\"Value Changed\")\n})\n</code></pre>\n\n<p>But it doesn't seem to work.. Any ideas?</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "rx-java2", "okhttp"], "answers": [{"comments": [{"owner": {"reputation": 70, "user_id": 4209879, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000475651090/picture?type=large", "display_name": "Marius Andrei Rosu", "link": "https://stackoverflow.com/users/4209879/marius-andrei-rosu"}, "edited": false, "score": 0, "creation_date": 1507896170, "post_id": 46727830, "comment_id": 80404887, "body": "You&#39;re right. I&#39;m new to Kotlin and didn&#39;t know that TODO might throw NotImplementedError. Thanks for your answer. Marked as accepted!"}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 2, "last_activity_date": 1507890567, "creation_date": 1507890567, "answer_id": 46727830, "question_id": 46727497, "link": "https://stackoverflow.com/questions/46727497/httpexception-not-caught-by-onerror/46727830#46727830", "title": "HttpException not caught by onError()", "body": "<p>The <code>CompositeException</code> indicates that the actual issue is within <code>handleRegistrationError(error)</code>. Somehow you do something resulting in</p>\n\n<pre><code>kotlin.NotImplementedError: An operation is not implemented: not implemented\n</code></pre>\n\n<p>Most likely it is related to a function you implemented as <code>TODO()</code></p>\n\n<pre><code>fun TODO(): Nothing = throw NotImplementedError()\n</code></pre>\n\n<p>So just implement this (or remove the <code>TODO()</code>) and you might resolve your issue.</p>\n"}], "owner": {"reputation": 70, "user_id": 4209879, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000475651090/picture?type=large", "display_name": "Marius Andrei Rosu", "link": "https://stackoverflow.com/users/4209879/marius-andrei-rosu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 576, "favorite_count": 1, "accepted_answer_id": 46727830, "answer_count": 1, "score": 0, "last_activity_date": 1522681875, "creation_date": 1507889491, "last_edit_date": 1522681875, "question_id": 46727497, "link": "https://stackoverflow.com/questions/46727497/httpexception-not-caught-by-onerror", "title": "HttpException not caught by onError()", "body": "<p>I am making a request to a back-end server using Retrofit2 and RxJava2. When the response is 200 or 201 everything works fine. When the sever's response is 409 or 503 and a <code>HttpException</code> is thrown it is not caught by Observable's <code>onError()</code> and the app crashes.</p>\n\n<p>The request that I am making is like this:</p>\n\n<pre><code>@POST(\"users/sign-up\")\nfun register(@Body register: RegisterBody): Observable&lt;User&gt;\n</code></pre>\n\n<p>The code snippet where I make the request is this (<code>applySchedulers()</code> only applies <code>subscribeOn()</code> and <code>observeOn()</code>) : </p>\n\n<pre><code>api.register(body)\n   .compose(applySchedulers())\n   .subscribe(\n        { user -&gt; onNextRegister(user.id, email.toString(), password.toString()) },\n        { error -&gt; handleRegistrationError(error) })\n</code></pre>\n\n<p>The exception thrown is below:</p>\n\n<pre><code> io.reactivex.exceptions.CompositeException: 2 exceptions occurred.\n ComposedException 1 : retrofit2.adapter.rxjava2.HttpException: HTTP 503 Unavailable\n ComposedException 2 : kotlin.NotImplementedError: An operation is not implemented: not implemented\n</code></pre>\n\n<p>How can I prevent the app from crashing even if I implemented <code>onError()</code> for the Observable? Note that the code from <code>handleRegistrationError(error)</code> is still executed.</p>\n"}, {"tags": ["android", "kotlin", "android-service"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1507888847, "post_id": 46727264, "comment_id": 80400593, "body": "what do you need <code>myBroadcastReceiver</code> for? why do you want to register it after binding to your service?"}, {"owner": {"reputation": 1298, "user_id": 5102206, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dbd708596d1ec8dfc9889dc58e7721bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ralf Wickum", "link": "https://stackoverflow.com/users/5102206/ralf-wickum"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1507889547, "post_id": 46727264, "comment_id": 80401016, "body": "That service has nothing to do with the recevier, I need both. I just wrote it because of the error message."}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1507889734, "post_id": 46727264, "comment_id": 80401117, "body": "so register it in <code>onStart</code> and unregister in <code>onStop</code> (or <code>onCreate</code> / <code>onDestroy</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 0, "last_activity_date": 1507889832, "creation_date": 1507889832, "answer_id": 46727611, "question_id": 46727264, "link": "https://stackoverflow.com/questions/46727264/why-unregisterreceiver-never-calls-onservicedisconnected/46727611#46727611", "title": "Why unregisterReceiver() never calls onServiceDisconnected?", "body": "<p>You're misunderstanding the purpose of <a href=\"https://developer.android.com/reference/android/content/ServiceConnection.html#onServiceDisconnected(android.content.ComponentName)\" rel=\"nofollow noreferrer\"><code>onServiceDisconnected()</code></a></p>\n\n<blockquote>\n  <p>Called when a connection to the Service has been lost. This typically happens when the process hosting the service has crashed or been killed. This does not remove the ServiceConnection itself -- this binding to the service will remain active, and you will receive a call to <code>onServiceConnected(ComponentName, IBinder)</code> when the Service is next running.</p>\n</blockquote>\n\n<p>So this is actually only called, whenever you loose a connection to the actual service. When you unbind from the service, you have to do the cleanup manually. Better handle the receiver on a different (other) level than the <code>ServiceConnection</code> - like <code>onStart()</code>/<code>onStop()</code>.</p>\n"}], "owner": {"reputation": 1298, "user_id": 5102206, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/dbd708596d1ec8dfc9889dc58e7721bd?s=128&d=identicon&r=PG&f=1", "display_name": "Ralf Wickum", "link": "https://stackoverflow.com/users/5102206/ralf-wickum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 46727611, "answer_count": 1, "score": 0, "last_activity_date": 1507889832, "creation_date": 1507888664, "question_id": 46727264, "link": "https://stackoverflow.com/questions/46727264/why-unregisterreceiver-never-calls-onservicedisconnected", "title": "Why unregisterReceiver() never calls onServiceDisconnected?", "body": "<p>I bind to a Service in my Activity:</p>\n\n<pre><code>override fun onStart() {\n    Timber.d(\"onStart\")\n    super.onStart()\n    val intent = Intent(this, MyService::class.java)\n    bindService(intent, serviceConnection, Context.BIND_AUTO_CREATE)\n}\n</code></pre>\n\n<p>which works so far. Then the <code>bindService()</code> calls <code>onServiceConnected()</code>:</p>\n\n<pre><code>/** Defines callbacks for service binding, passed to bindService()  */\nprivate val serviceConnection = object : ServiceConnection {\n\n    override fun onServiceConnected(className: ComponentName,\n                                    service: IBinder) {\n        // We've bound to MyService, cast the IBinder and get MyService instance\n        val binder = service as MyService.MyBinder\n        myService = binder.service\n        isBound = true\n        registerReceiver(myBroadcastReceiver, filter)\n    }\n\n    override fun onServiceDisconnected(arg0: ComponentName) {\n        myService!!.removeRecevier(this@MainActivity)\n        isBound = false\n        unregisterReceiver(myBroadcastReceiver)\n    }\n}\n</code></pre>\n\n<p>In my <code>onStop()</code> I also have <code>unbindService(serviceConnection)</code> , but here the onServiceDisconnected() is never triggered? <strong>What am I doing wrong?</strong></p>\n\n<p>Therefore I get: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Activity MainActivity has leaked IntentReceiver com.example.MyBroadcastReceiver@68091a2 that was originally registered here. Are you missing a call to unregisterReceiver()?\r\nandroid.app.IntentReceiverLeaked: Activity MainActivity has leaked IntentReceiver com.example.MyBroadcastReceiver@68091a2 that was originally registered here. Are you missing a call to unregisterReceiver()?</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["android", "kotlin", "google-cloud-firestore"], "answers": [{"tags": [], "owner": {"reputation": 1289, "user_id": 4338446, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-lEYUAtfOcaI/AAAAAAAAAAI/AAAAAAAAAIs/MSqS9M_3Xzk/photo.jpg?sz=128", "display_name": "Skye", "link": "https://stackoverflow.com/users/4338446/skye"}, "is_accepted": false, "score": 0, "last_activity_date": 1507903954, "creation_date": 1507903954, "answer_id": 46731911, "question_id": 46725860, "link": "https://stackoverflow.com/questions/46725860/android-load-multiple-firestore-documents/46731911#46731911", "title": "Android load multiple firestore documents", "body": "<p>1st, create your custom data model (I will call it DataClass).\nThen, in addOnSuccessListener put this code: </p>\n\n<pre><code>snapshot.documents.mapTo(spinnerArray) { it.toObject(DataClass::class.java)}\n</code></pre>\n\n<p>Of course, replace DataClass with your own :)</p>\n"}], "owner": {"reputation": 1, "user_id": 8770073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eee4607f2416964230deb6f6a8b567c7?s=128&d=identicon&r=PG&f=1", "display_name": "MollyTra", "link": "https://stackoverflow.com/users/8770073/mollytra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 464, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1507903954, "creation_date": 1507884085, "question_id": 46725860, "link": "https://stackoverflow.com/questions/46725860/android-load-multiple-firestore-documents", "title": "Android load multiple firestore documents", "body": "<p>I have a spinner. Into that spinner I added one of my firestore collections. I thought but calling the collection I could load any data into my spinner, but when I added a second document to my collection it stopped working.</p>\n\n<p>This is what I have right now:</p>\n\n<pre><code>db.collection(\"KitList\").get().addOnSuccessListener { snapshot -&gt;\n        for (document in snapshot.documents) {\n            val data = document.data\n            val skipRope = data[\"rope\"] as String\n            spinnerArray.add(skipRope)\n            val kettle = data[\"kettle\"] as ArrayList&lt;String&gt;\n            for (item in kettle) {\n                val kettleWeight = \"kettle $item\"\n                spinnerArray.add(kettleWeight)\n            }\n\n        }\n\n    }\n</code></pre>\n\n<p>I tried <code>db.collection(\"KitList\").document(\"documentname\")get().addOnSuccessListener { snapshot -&gt;</code> but it didn't work because my snapshot.documents got an error.</p>\n\n<p>Could anyone help me out here? Just want to know how I can can call multiple documents. Thanks :D</p>\n"}]