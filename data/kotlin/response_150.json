[{"tags": ["android", "kotlin", "android-testing"], "comments": [{"owner": {"reputation": 1132, "user_id": 2893307, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ccc3e790d23d317ee1366394cd29851c?s=128&d=identicon&r=PG&f=1", "display_name": "nnesterov", "link": "https://stackoverflow.com/users/2893307/nnesterov"}, "reply_to_user": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1511396476, "post_id": 47445518, "comment_id": 81846921, "body": "this page:  <a href=\"https://developer.android.com/studio/build/multidex.html#testing\" rel=\"nofollow noreferrer\">developer.android.com/studio/build/multidex.html#testing</a>    and couple of comments in google issue tracker say that &quot;Using multidex to create a test APK is not currently supported.&quot;"}, {"owner": {"reputation": 1132, "user_id": 2893307, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ccc3e790d23d317ee1366394cd29851c?s=128&d=identicon&r=PG&f=1", "display_name": "nnesterov", "link": "https://stackoverflow.com/users/2893307/nnesterov"}, "reply_to_user": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 3, "creation_date": 1511396592, "post_id": 47445518, "comment_id": 81846960, "body": "Remove synthetic getters and setters is just a one step to optimize method count in my apk. But if there is compiler options or something like that it would be great. I can easily remove 2k methods."}, {"owner": {"reputation": 1132, "user_id": 2893307, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ccc3e790d23d317ee1366394cd29851c?s=128&d=identicon&r=PG&f=1", "display_name": "nnesterov", "link": "https://stackoverflow.com/users/2893307/nnesterov"}, "reply_to_user": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1511396798, "post_id": 47445518, "comment_id": 81847011, "body": "Maybe my question isn&#39;t clear. Not my app apk exceeds limit. It easily can be solved with multidex. Apk that contains all my test code and test libs exceeds limit. And this apk cannot be proguarded nor multidexed due to android build system bugs."}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1511397132, "post_id": 47445518, "comment_id": 81847086, "body": "Removed comment, as I see what you&#39;re trying to achieve! Can you not use <code>minifyEnabled true</code> with <code>useProguard false</code> in your build configuration?"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 1, "creation_date": 1511442867, "post_id": 47445518, "comment_id": 81867167, "body": "There is no such compiler option. d8 (the replacement for dex tool) might be able to remove accessors, but I&#39;m not sure if the functionality is currently implemented."}, {"owner": {"reputation": 1132, "user_id": 2893307, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ccc3e790d23d317ee1366394cd29851c?s=128&d=identicon&r=PG&f=1", "display_name": "nnesterov", "link": "https://stackoverflow.com/users/2893307/nnesterov"}, "edited": false, "score": 0, "creation_date": 1511442998, "post_id": 47445518, "comment_id": 81867237, "body": "Many thanks for your answer. I&#39;ll try d8"}], "answers": [{"comments": [{"owner": {"reputation": 5291, "user_id": 5279156, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vHs51.jpg?s=128&g=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/5279156/vlad"}, "edited": false, "score": 0, "creation_date": 1591108650, "post_id": 47469443, "comment_id": 109926744, "body": "It is not a solution"}], "tags": [], "owner": {"reputation": 74510, "user_id": 43582, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3e5ac1db48e4a7ef1b192cc6b5e7fbf0?s=128&d=identicon&r=PG", "display_name": "Bombe", "link": "https://stackoverflow.com/users/43582/bombe"}, "is_accepted": false, "score": 1, "last_activity_date": 1511513248, "creation_date": 1511513248, "answer_id": 47469443, "question_id": 47445518, "link": "https://stackoverflow.com/questions/47445518/remove-getters-and-setters-from-kotlin-code/47469443#47469443", "title": "Remove getters and setters from kotlin code", "body": "<p>You can simply declare your properties as <code>private</code>, they won\u2019t have getters and setters generated then.</p>\n\n<pre><code>class Foo {\n  private val foo: String = \"foo\"\n}\n</code></pre>\n\n<p>This will generate the following class:</p>\n\n<pre><code>\u2192 javap -classpath build/classes/kotlin/test -p test.Foo\nCompiled from \"Foo.kt\"\npublic final class test.Foo {\n  private final java.lang.String foo;\n  public test.Foo();\n}\n</code></pre>\n"}], "owner": {"reputation": 1132, "user_id": 2893307, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/ccc3e790d23d317ee1366394cd29851c?s=128&d=identicon&r=PG&f=1", "display_name": "nnesterov", "link": "https://stackoverflow.com/users/2893307/nnesterov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2180, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1511513248, "creation_date": 1511394371, "question_id": 47445518, "link": "https://stackoverflow.com/questions/47445518/remove-getters-and-setters-from-kotlin-code", "title": "Remove getters and setters from kotlin code", "body": "<p>For this code</p>\n\n<pre><code>class Foo {\n    var name: String? = null\n}\n</code></pre>\n\n<p>kotlin compiler generates:    </p>\n\n<pre><code>private String name;\npublic final String getName() { ... }\npublic final void setName(String name) { ... }\n</code></pre>\n\n<p>Even if property <code>name</code> doesn't have custom getter or setter.\nIt's possible to remove redundant get and set methods using <code>@JvmField</code> annotation. So this code</p>\n\n<pre><code>class Foo {\n    @JvmField\n    var name: String? = null\n}\n</code></pre>\n\n<p>generates only one field without additional methods.</p>\n\n<pre><code>public String name;\n</code></pre>\n\n<p>But is there any way to make kotlin compiler <strong>not</strong> generate getters and setters for all properties in entire project? No matter if it has annotation or not. Maybe some experimental compiler flags? </p>\n\n<p>I want it because I have android instrumentation tests written on kotlin. Test apk exceeds 65k method count limit. About 2k of methods is generated getters/setters.  I cannot use proguard or multidex due to some bugs in android build system. So removing kotlin synthetic methods will help me a lot. </p>\n"}, {"tags": ["android", "kotlin", "dagger-2"], "owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 252, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1511395999, "creation_date": 1511389739, "last_edit_date": 1592644375, "question_id": 47444843, "link": "https://stackoverflow.com/questions/47444843/cant-inject-same-instance-into-a-service-and-a-viewmodel", "title": "Can&#39;t inject same instance into a Service and a ViewModel", "body": "<p>I am trying to replicate this this Singleton using Dagger 2.</p>\n<p>I would like to have a BehaviorSubject in which I call <code>onNext()</code> to in a service and <code>subscribe()</code> to in a ViewModel.</p>\n<p>Here is my Singleton object:</p>\n<pre><code>object MyMessageBus {\n    val pusher =  BehaviorSubject.create&lt;String&gt;()\n}\n</code></pre>\n<p>In my Service I can do this:</p>\n<pre><code>private val pusherObservable = MyMessageBus.pusher\n\noverride fun onCreate() { \n    super.onCreate()\n    println(&quot;service myObservable = ${pusherObservable.hashCode()}&quot;)\n}\n</code></pre>\n<p>and then in my ViewModel I can do this:</p>\n<pre><code>private val pusherObservable = MyMessageBus.pusher\n\ninit {\n    println(&quot;viewModel myObservable = ${pusherObservable.hashCode()}&quot;)\n}\n</code></pre>\n<p>When I run with this I get the same observable in both the Service <em>and</em> the ViewModel.</p>\n<blockquote>\n<p>viewModel myObservable = 218654319</p>\n<p>service myObservable = 218654319</p>\n</blockquote>\n<p>and so I can call onNext in the Service and observe the change in the ViewModel.</p>\n<p>As I said above I am trying to replicate this using Dagger, but I cant seem to get the same instance in both the Service and the ViewModel. I think the problem is that I just have two different graphs, but I cant figure out how to join them - even after reading the <a href=\"https://google.github.io/dagger/users-guide.html\" rel=\"nofollow noreferrer\">docs</a> and knowing about <a href=\"https://google.github.io/dagger/subcomponents.html\" rel=\"nofollow noreferrer\">Subcomponents</a>.</p>\n<p>Besides that, this seems like a huge amount of code to do something so simple.</p>\n<p><strong>So my question is how do I do the equivalent using Dagger with the minimum amount of code?</strong></p>\n<hr />\n<h2><strong>Here is what I have tried so far:</strong></h2>\n<p>Here is the class I would like to inject into the Service and ViewModel.</p>\n<p><strong>Note:</strong> I originally thought just annotating the class and constructor would work,  but have also tried with a module (hence the comments)</p>\n<pre><code>//@Singleton\nclass MessageBus {\n    val pusher: BehaviorSubject&lt;String&gt;\n//    @Inject\n    constructor() {\n        pusher =  BehaviorSubject.create&lt;String&gt;()\n    }\n}\n</code></pre>\n<p>Here is the module for providing the Service injections</p>\n<pre><code>@Singleton\n@Module()\nabstract class AndroidModule {\n    @ContributesAndroidInjector\n    abstract fun contributesPusherService(): PusherService\n}\n</code></pre>\n<p>Here is the module that provides the MessageBus (Note I also tried just using commented out annoations above.</p>\n<pre><code>@Module\nclass PervasiveModule {\n    @Provides @Singleton fun provideMessageBus() = MessageBus()\n}\n</code></pre>\n<p>Next is the App component</p>\n<pre><code>@Singleton\n@Component(modules = arrayOf(AndroidInjectionModule::class, AndroidModule::class, PervasiveModule::class))\ninterface AppComponent {\n    @Component.Builder\n    interface Builder {\n        @BindsInstance\n        fun application(myApp: MyApp): Builder\n        fun build(): AppComponent\n    }\n    fun inject(myApp: MyApp): MyApp\n}\n</code></pre>\n<p>finally the component for the ViewModel.</p>\n<pre><code>@Component(modules = arrayOf(PervasiveModule::class))\n@Singleton\ninterface MainViewModelComponent {\n     @Component.Builder\n     interface Builder {\n          fun build(): MainViewModelComponent\n     }\n     fun inject(mainViewModel: MainViewModel)\n}\n</code></pre>\n<p>In the service I have:</p>\n<pre><code>@Inject lateinit var messageBus: MessageBus\n\noverride fun onCreate() {\n    AndroidInjection.inject(this)\n    super.onCreate()\n    setupPusher()\n    println(&quot;service created&quot;)\n    println(&quot;service messageBus = ${messageBus.hashCode()}&quot;)\n}\n</code></pre>\n<p>In the ViewModel I have:</p>\n<pre><code>@Inject lateinit var messageBus: MessageBus\n\ninit {\n    DaggerMainViewModelComponent.create().inject(this)\n    println(&quot;view model messageBus = ${messageBus.hashCode()}&quot;)\n}\n</code></pre>\n<p>When I run this,  everything is injected, but I end up with two instances of MessageBus rather than one.</p>\n<blockquote>\n<p>view model messageBus = 252114254</p>\n<p>service messageBus = 91479273</p>\n</blockquote>\n<p>As I said above I think the issue is that <code>MainViewModelComponent</code> and the <code>AppComponent</code> are actually two different graphs.  Is this the case?  If so how do I join them.  If not can someone explain what's going on and how to get this to work.</p>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 2364, "user_id": 383676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/512533dbca12b5d8f03aade683e2fdd4?s=128&d=identicon&r=PG", "display_name": "fejd", "link": "https://stackoverflow.com/users/383676/fejd"}, "edited": false, "score": 1, "creation_date": 1511388492, "post_id": 47444492, "comment_id": 81844490, "body": "What does the OfferRepresentation class look like?"}, {"owner": {"reputation": 145, "user_id": 7200236, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-l-8BwGpRqso/AAAAAAAAAAI/AAAAAAAAAgY/xWb4wGHPluE/photo.jpg?sz=128", "display_name": "Israel Rodrigues", "link": "https://stackoverflow.com/users/7200236/israel-rodrigues"}, "reply_to_user": {"reputation": 2364, "user_id": 383676, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/512533dbca12b5d8f03aade683e2fdd4?s=128&d=identicon&r=PG", "display_name": "fejd", "link": "https://stackoverflow.com/users/383676/fejd"}, "edited": false, "score": 0, "creation_date": 1511389353, "post_id": 47444492, "comment_id": 81844812, "body": "@fejd OfferRepresentation has four attributes (offerTypes) that can be a addon, sale, plan or customPlan. If OfferRepresentation has a plan (or any other), the others attributes are aways null."}], "answers": [{"tags": [], "owner": {"reputation": 459, "user_id": 4237969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b516cdc42933f17be33f57b6afd6daa2?s=128&d=identicon&r=PG&f=1", "display_name": "ian1095", "link": "https://stackoverflow.com/users/4237969/ian1095"}, "is_accepted": false, "score": -1, "last_activity_date": 1511389017, "creation_date": 1511389017, "answer_id": 47444707, "question_id": 47444492, "link": "https://stackoverflow.com/questions/47444492/kotlin-how-can-i-return-different-types-from-my-method/47444707#47444707", "title": "Kotlin - How can i return different types from my method?", "body": "<p>You cannot return more than 1 value from a function by the JVM. \nWhat you can do is return a Pair or Tuple or create a Data class with all the fields and then have them as optional</p>\n\n<p>Eg: </p>\n\n<p>data class Offer(val type1: String?=null, val type2: Integer? = 0)</p>\n"}, {"tags": [], "owner": {"reputation": 8455, "user_id": 1349366, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d1f9a569a1c0af19fbe093e2ed751a7?s=128&d=identicon&r=PG", "display_name": "Aivean", "link": "https://stackoverflow.com/users/1349366/aivean"}, "is_accepted": false, "score": 2, "last_activity_date": 1511390069, "last_edit_date": 1511390069, "creation_date": 1511389554, "answer_id": 47444803, "question_id": 47444492, "link": "https://stackoverflow.com/questions/47444492/kotlin-how-can-i-return-different-types-from-my-method/47444803#47444803", "title": "Kotlin - How can i return different types from my method?", "body": "<p>Here is how you can do that:</p>\n\n<pre><code>object Main {\n\n    // concrete class for all \"enum\" values (such as OfferType.ADDON or OfferType.SALE)\n    // that get passed to `getOffer` as second param\n    class OfferType&lt;T&gt; {\n\n        companion object Types {\n\n            // \"enum\" values. Unfortunately Kotlin doesn't support\n            // type parameters for real enums\n            @JvmStatic\n            val ADDON = OfferType&lt;Addon&gt;()\n\n            @JvmStatic\n            val SALE = OfferType&lt;Sale&gt;()\n\n            data class Addon(val name: String)\n            data class Sale(val name: String)\n        }\n    }\n\n    data class OfferRepresentation(\n        val addon: OfferType.Types.Addon,\n        val sale: OfferType.Types.Sale\n    )\n\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n\n        fun &lt;T&gt; getOffer(offers: OfferRepresentation, type: OfferType&lt;T&gt;): T {\n            @Suppress(\"UNCHECKED_CAST\")\n            return when (type) {\n                OfferType.ADDON -&gt; offers.addon as T\n                OfferType.SALE -&gt; offers.sale as T\n                else -&gt; throw IllegalArgumentException(\"Unsupported type $type\")\n            }\n        }\n\n        val offer = OfferRepresentation(\n            OfferType.Types.Addon(\"addon\"),\n            OfferType.Types.Sale(\"sale\")\n        )\n\n        // types are specified explicitly for the sake of demonstration\n        val addon: OfferType.Types.Addon = getOffer(offer, OfferType.ADDON)\n        val sale: OfferType.Types.Sale = getOffer(offer, OfferType.SALE)\n\n        println(\"$addon, $sale\")\n    }\n}\n</code></pre>\n\n<p>Note that there is an <code>UNCHECKED_CAST</code> in <code>getOffer</code> function. It's your responsibility to ensure that <code>OfferType.ADDON</code> (<code>OfferType.SALE</code>, etc) values are parameterized with the correct <code>OfferRepresentation</code>'s field type and <code>when</code> logic is also correct, otherwise you'll get <code>ClassCast</code> exception in runtime.</p>\n\n<hr>\n\n<p><strong>UPD</strong>. There is alternative implementation that uses a bit of kotlin magic, specifically, <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"nofollow noreferrer\">reified types</a>.  With this approach instead of having separate entities to define the field that you want to be returned from <code>getOffer</code> function you just specify explicit type parameter. Alternatively you can rely on implicit type inference:</p>\n\n<pre><code>object Main2 {\n\n    object OfferType {\n        data class Addon(val name: String)\n        data class Sale(val name: String)\n    }\n\n    data class OfferRepresentation(\n        val addon: OfferType.Addon,\n        val sale: OfferType.Sale\n    )\n\n    //reified type parameters require function to be inline\n    inline fun &lt;reified T&gt; getOffer(offers: OfferRepresentation): T {\n        @Suppress(\"UNCHECKED_CAST\")\n        return when (T::class) {\n            OfferType.Addon::class -&gt; offers.addon as T\n            OfferType.Sale::class -&gt; offers.sale as T\n            else -&gt; throw IllegalArgumentException(\"Unsupported type ${T::class}\")\n        }\n    }\n\n    @JvmStatic\n    fun main(args: Array&lt;String&gt;) {\n\n        val offer = OfferRepresentation(\n            OfferType.Addon(\"addon\"),\n            OfferType.Sale(\"sale\")\n        )\n\n        // types needed to be specified explicitly here\n        val addon: OfferType.Addon = getOffer(offer)\n        val sale: OfferType.Sale = getOffer(offer)\n\n        // alternatively `getOffer` should be invoked like this:\n        getOffer&lt;OfferType.Addon&gt;(offer)\n\n        println(\"$addon, $sale\")\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 499, "user_id": 5666171, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Nu7os.png?s=128&g=1", "display_name": "CLOVIS", "link": "https://stackoverflow.com/users/5666171/clovis"}, "edited": false, "score": 0, "creation_date": 1554707019, "post_id": 47445144, "comment_id": 97834714, "body": "If you cannot control the classes, how would you do that? eg. either String, Int or Float"}, {"owner": {"reputation": 6723, "user_id": 618895, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bb58ac95332a6e8d0cdc03397f5da9b0?s=128&d=identicon&r=PG", "display_name": "bj0", "link": "https://stackoverflow.com/users/618895/bj0"}, "reply_to_user": {"reputation": 499, "user_id": 5666171, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Nu7os.png?s=128&g=1", "display_name": "CLOVIS", "link": "https://stackoverflow.com/users/5666171/clovis"}, "edited": false, "score": 0, "creation_date": 1554798226, "post_id": 47445144, "comment_id": 97873399, "body": "@CLOVIS if you really are going to return <i>anything</i>, you can just use <code>Any</code> as the return type."}], "tags": [], "owner": {"reputation": 6723, "user_id": 618895, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bb58ac95332a6e8d0cdc03397f5da9b0?s=128&d=identicon&r=PG", "display_name": "bj0", "link": "https://stackoverflow.com/users/618895/bj0"}, "is_accepted": false, "score": 8, "last_activity_date": 1511391609, "creation_date": 1511391609, "answer_id": 47445144, "question_id": 47444492, "link": "https://stackoverflow.com/questions/47444492/kotlin-how-can-i-return-different-types-from-my-method/47445144#47445144", "title": "Kotlin - How can i return different types from my method?", "body": "<p>It's hard to give you a difinitive answer without you giving more info, but the easiest way to return multiple types is to have them all share an interface or superclass:</p>\n\n<pre><code>interface Offer\n\nclass Addon : Offer\nclass Sale : Offer\nclass Plan : Offer\nclass CustomPlan : Offer\n</code></pre>\n\n<p>You can also use a <code>sealed class</code> if your options are static, it just depends on your use case.  Either way, you can then just have the function return type be <code>Offer</code></p>\n\n<p>For more information see:</p>\n\n<ul>\n<li><a href=\"https://kotlinlang.org/docs/reference/interfaces.html\" rel=\"noreferrer\">Interfaces</a></li>\n<li><a href=\"https://kotlinlang.org/docs/reference/sealed-classes.html\" rel=\"noreferrer\">Sealed Classes</a></li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 121, "user_id": 2795749, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/86f1a54579ba98030abd7c9c932c3613?s=128&d=identicon&r=PG", "display_name": "kzs", "link": "https://stackoverflow.com/users/2795749/kzs"}, "edited": false, "score": 0, "creation_date": 1598613853, "post_id": 47464991, "comment_id": 112523272, "body": "What if you want to be able to return <code>Any</code> and <code>Any?</code>  Those are treated differently by the Kt compiler"}, {"owner": {"reputation": 1308, "user_id": 2581809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33afb2c1d879183a3b1e0f9418dd3195?s=128&d=identicon&r=PG", "display_name": "Ekeko", "link": "https://stackoverflow.com/users/2581809/ekeko"}, "reply_to_user": {"reputation": 121, "user_id": 2795749, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/86f1a54579ba98030abd7c9c932c3613?s=128&d=identicon&r=PG", "display_name": "kzs", "link": "https://stackoverflow.com/users/2795749/kzs"}, "edited": false, "score": 0, "creation_date": 1601534537, "post_id": 47464991, "comment_id": 113439061, "body": "@kzs In that case you can return <code>Any?</code>"}], "tags": [], "owner": {"reputation": 1308, "user_id": 2581809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33afb2c1d879183a3b1e0f9418dd3195?s=128&d=identicon&r=PG", "display_name": "Ekeko", "link": "https://stackoverflow.com/users/2581809/ekeko"}, "is_accepted": false, "score": 2, "last_activity_date": 1511484595, "creation_date": 1511484595, "answer_id": 47464991, "question_id": 47444492, "link": "https://stackoverflow.com/questions/47444492/kotlin-how-can-i-return-different-types-from-my-method/47464991#47464991", "title": "Kotlin - How can i return different types from my method?", "body": "<p>You have the trivial solution of using <code>Any</code> as your return type. <code>Any</code> is not exactly like <code>Object</code> in Java but it's close enough in this case (<a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/classes.html</a>):</p>\n\n<blockquote>\n  <p>All classes in Kotlin have a common superclass <strong>Any</strong>, that is a default\n  super for a class with no supertypes declared:</p>\n\n<pre><code>class Example // Implicitly inherits from Any\n</code></pre>\n</blockquote>\n\n<p>So if your return types are completely unrelated and it doesn't make sense for you to make them share a common interface, then you can use Any:</p>\n\n<pre><code>private fun getOffer(offers: OfferRepresentation, type: OfferType): Any {\n    return when (type) {\n        OfferType.ADDON -&gt; offers.addon \n        OfferType.SALE -&gt; offers.sale\n        OfferType.PLAN -&gt; offers.plan\n        OfferType.CUSTOMPLAN -&gt; offers.customPlan\n    }\n</code></pre>\n"}], "owner": {"reputation": 145, "user_id": 7200236, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-l-8BwGpRqso/AAAAAAAAAAI/AAAAAAAAAgY/xWb4wGHPluE/photo.jpg?sz=128", "display_name": "Israel Rodrigues", "link": "https://stackoverflow.com/users/7200236/israel-rodrigues"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6525, "favorite_count": 0, "answer_count": 4, "score": 5, "last_activity_date": 1597312499, "creation_date": 1511387833, "last_edit_date": 1511387878, "question_id": 47444492, "link": "https://stackoverflow.com/questions/47444492/kotlin-how-can-i-return-different-types-from-my-method", "title": "Kotlin - How can i return different types from my method?", "body": "<p>I have this method.</p>\n\n<pre><code>    private fun getOffer(offers: OfferRepresentation, type: OfferType): ???? {\n    return when (type) {\n        OfferType.ADDON -&gt; offers.addon \n        OfferType.SALE -&gt; offers.sale\n        OfferType.PLAN -&gt; offers.plan\n        OfferType.CUSTOMPLAN -&gt; offers.customPlan\n    }\n</code></pre>\n\n<p>How can i change this method to return the correct type?</p>\n"}, {"tags": ["spring-boot", "intellij-idea", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 489, "user_id": 905869, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/de6e5d50bb4dcb26e9c8e896527fae77?s=128&d=identicon&r=PG", "display_name": "wilu", "link": "https://stackoverflow.com/users/905869/wilu"}, "is_accepted": false, "score": 0, "last_activity_date": 1511464003, "creation_date": 1511464003, "answer_id": 47462023, "question_id": 47443471, "link": "https://stackoverflow.com/questions/47443471/subtle-diff-when-running-in-intellij-and-executing-jar/47462023#47462023", "title": "Subtle diff when running in intellij and executing jar", "body": "<p>I solved my problem and the root cause was quite surprising...</p>\n\n<p>Apparently there's a problem with correct processing of custom Spring annotation.\nThe method which was supposed to open a new transaction was not annotated with a standard @Transactional annotation, but with custom, application specific annotation (@Transactional with custom tx settings). Debugging session revealed that new tx was not being open. That's it! Inlining custom annotation nearly solved a problem.\nAnother flaw I detected was a function which was not <em>open</em>, quite strange because the function was not transaction entry point (som further call).</p>\n\n<p>Kotlin compiler bug?\nAnyway, lessons learned - pay attention to custom annotations behaviour; refresh knowledge about rules for final/open.</p>\n"}], "owner": {"reputation": 489, "user_id": 905869, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/de6e5d50bb4dcb26e9c8e896527fae77?s=128&d=identicon&r=PG", "display_name": "wilu", "link": "https://stackoverflow.com/users/905869/wilu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511464003, "creation_date": 1511382909, "last_edit_date": 1511386866, "question_id": 47443471, "link": "https://stackoverflow.com/questions/47443471/subtle-diff-when-running-in-intellij-and-executing-jar", "title": "Subtle diff when running in intellij and executing jar", "body": "<p>I'm running out of ideas...</p>\n\n<p>My spring boot app behaves fine when I run it in indellij and <strong>gradle idea plugin is applied</strong> (<em>apply plugin: 'idea'</em>).\nOnce I remove the plugin from <em>build.gradle</em> it behaves similarly to app executed with <em>java -jar app.jar</em> - there is subtle but important difference, description below.</p>\n\n<p>I have the following scenario, current tx fails due to some exception, tx is marked as roll-back-only, exception is caught and its handling consists of registering post tx recovery activity with <em>TransactionSynchronizationManager.registerSynchronization</em> (new tx).</p>\n\n<p>The code works fine in intellij with idea plugin, when I remove plugin declaration or run spring boot jar with <em>java -jar</em> registering process (post tx failure task) fails with exception:</p>\n\n<pre><code>Caused by: java.lang.IllegalStateException: Transaction synchronization is not active\nat org.springframework.transaction.support.TransactionSynchronizationManager.registerSynchronization(TransactionSynchronizationManager.java:291) ~[spring-tx-4.3.10.RELEASE.jar!/:4.3.10.RELEASE]\n</code></pre>\n\n<p>Btw, the code is in kotlin if it matters.\nAny ideas?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>I think there is some kind of race condition because in debug mode, even w/o idea plugin, the app behaves as expected (registering process is successful).</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1511383889, "post_id": 47442552, "comment_id": 81842433, "body": "(small) nitpick: This isn&#39;t an anonymous class, it&#39;s a lambda."}, {"owner": {"reputation": 15891, "user_id": 5382, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s3eFh.jpg?s=128&g=1", "display_name": "Mikezx6r", "link": "https://stackoverflow.com/users/5382/mikezx6r"}, "edited": false, "score": 1, "creation_date": 1511457014, "post_id": 47442552, "comment_id": 81875684, "body": "If you want the {} lined up, you could put () around it. Adds code clutter, though. If Lambda is the last parameter, Kotlin makes the parenthesis optional. You CAN include them if it suits your style more. Not exactly what you&#39;re looking for, but a valid option.  e.g. <code>image_view.viewTreeObserver.addOnGlobalLayoutListener( { }) </code>"}], "answers": [{"tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": true, "score": 9, "last_activity_date": 1511380791, "creation_date": 1511380791, "answer_id": 47442989, "question_id": 47442552, "link": "https://stackoverflow.com/questions/47442552/why-cant-i-put-the-of-an-anonymous-class-at-a-new-line-in-kotlin/47442989#47442989", "title": "Why can&#39;t I put the { of an anonymous class at a new line in Kotlin?", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/grammar.html#semicolons\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/grammar.html#semicolons</a></p>\n\n<p>Because your second example has the same meaning as</p>\n\n<pre><code>image_view.viewTreeObserver.addOnGlobalLayoutListener;\n{\n};\n</code></pre>\n\n<p>a property access followed by an empty lambda.</p>\n"}], "owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 47442989, "answer_count": 1, "score": 5, "last_activity_date": 1511380791, "creation_date": 1511379100, "question_id": 47442552, "link": "https://stackoverflow.com/questions/47442552/why-cant-i-put-the-of-an-anonymous-class-at-a-new-line-in-kotlin", "title": "Why can&#39;t I put the { of an anonymous class at a new line in Kotlin?", "body": "<p>This question may be stupid but... why? Personally I like the Microsoft style where { is at the same column as the matching }. In all languages I have used, it did not matter where { was placed.</p>\n\n<p>But in Kotlin, only this works.</p>\n\n<pre><code>image_view.viewTreeObserver.addOnGlobalLayoutListener{\n};\n</code></pre>\n\n<p>And this causes an error.</p>\n\n<pre><code>image_view.viewTreeObserver.addOnGlobalLayoutListener\n{\n};\n</code></pre>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "is_accepted": true, "score": 0, "last_activity_date": 1511423581, "creation_date": 1511423581, "answer_id": 47450168, "question_id": 47441893, "link": "https://stackoverflow.com/questions/47441893/how-to-change-the-backgroundcolor-of-a-cardview-when-it-is-selected/47450168#47450168", "title": "How to change the backgroundcolor of a cardview when it is selected?", "body": "<p>Alright I found the answer myself, but for everyone who is struggling like I was here is the answer:</p>\n\n<pre><code>if (selectedPosition == position &amp;&amp; position != exerciseList.size) {\n        val card_view = holder.itemView.findViewById&lt;CardView&gt;(R.id.boxesExercise)\n        card_view.setCardBackgroundColor(Color.parseColor(\"#d7263d\"))\n    }\n    else {\n        if(exerciseList.size != 0){\n            val card_view = holder.itemView.findViewById&lt;CardView&gt;(R.id.boxesExercise)\n            if(card_view != null){\n                card_view.setCardBackgroundColor(Color.parseColor(\"#0197f6\"))\n            }\n\n        }\n\n    }\n</code></pre>\n\n<p>You can find the <code>CardView</code> with the ID through the <code>holder.itemView</code>, since the <code>CardView</code> is a <code>Child</code> of holder.itemView.</p>\n\n<p>I was doing it wrong in my earlier attempts because I tried to apply the Backgroundcolor directly to the <code>holder.itemView</code> and not to the <code>CardView</code>.</p>\n\n<p>Hope this helps someone! </p>\n"}], "owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 0, "accepted_answer_id": 47450168, "answer_count": 1, "score": 0, "last_activity_date": 1511423581, "creation_date": 1511376509, "last_edit_date": 1511381537, "question_id": 47441893, "link": "https://stackoverflow.com/questions/47441893/how-to-change-the-backgroundcolor-of-a-cardview-when-it-is-selected", "title": "How to change the backgroundcolor of a cardview when it is selected?", "body": "<p>I already have something to tell me which card is selected but if I want to set the background color of the itemview it doesn't change my <code>CardView</code> it changes the background color of my <code>RecyclerView</code> at that spot.</p>\n\n<pre><code>//this method is binding the data on the list\noverride fun onBindViewHolder(holder: CustomAdapterExercise.ViewHolder, position: Int) {\n    if (holder.itemViewType == typeAdd) {\n        holder.bindAdd(addList[0])\n    }\n    else{\n        if(position != exerciseList.size){\n            holder.bindItems(exerciseList[position])\n        }\n    }\n\n    if (selectedPosition == position &amp;&amp; position != exerciseList.size) {\n        holder.itemView.setBackgroundColor(Color.parseColor(\"#000000\"))\n    }\n    else {\n        holder.itemView.setBackgroundColor(Color.parseColor(\"#ffffff\"))\n    }\n\n    holder.itemView.setOnClickListener {\n        selectedPosition = position\n        notifyDataSetChanged()\n    }\n}\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin", "intellij-plugin"], "comments": [{"owner": {"reputation": 1157, "user_id": 1167690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f57f92a1d4210fb90f453d73837dbd?s=128&d=identicon&r=PG", "display_name": "Argb32", "link": "https://stackoverflow.com/users/1167690/argb32"}, "edited": false, "score": 0, "creation_date": 1511382769, "post_id": 47439843, "comment_id": 81841890, "body": "Did you try to specify &#39;language=&quot;KOTLIN&quot;&#39;?"}, {"owner": {"reputation": 24386, "user_id": 1502079, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/i6NsY.jpg?s=128&g=1", "display_name": "vovahost", "link": "https://stackoverflow.com/users/1502079/vovahost"}, "reply_to_user": {"reputation": 1157, "user_id": 1167690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68f57f92a1d4210fb90f453d73837dbd?s=128&d=identicon&r=PG", "display_name": "Argb32", "link": "https://stackoverflow.com/users/1167690/argb32"}, "edited": false, "score": 0, "creation_date": 1511427961, "post_id": 47439843, "comment_id": 81857602, "body": "I tried. It doesn&#39;t work."}], "answers": [{"comments": [{"owner": {"reputation": 24386, "user_id": 1502079, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/i6NsY.jpg?s=128&g=1", "display_name": "vovahost", "link": "https://stackoverflow.com/users/1502079/vovahost"}, "edited": false, "score": 0, "creation_date": 1511544881, "post_id": 47472910, "comment_id": 81910480, "body": "Thank you for your response but the Kotlin package is not found in <code>org.jetbrains</code>. Do I need to import it in <code>plugin.xml</code> or maybe in some other place ? I tried to remove that <code>if</code> check but it doesn&#39;t work for Kotlin files anyway. The <code>buildFoldRegions()</code> is not called at all. This is the main problem. Do you have any suggestions ?"}, {"owner": {"reputation": 24386, "user_id": 1502079, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/i6NsY.jpg?s=128&g=1", "display_name": "vovahost", "link": "https://stackoverflow.com/users/1502079/vovahost"}, "edited": false, "score": 0, "creation_date": 1511775330, "post_id": 47472910, "comment_id": 81971093, "body": "I&#39;ve added a bounty to this question."}, {"owner": {"reputation": 24386, "user_id": 1502079, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/i6NsY.jpg?s=128&g=1", "display_name": "vovahost", "link": "https://stackoverflow.com/users/1502079/vovahost"}, "edited": false, "score": 0, "creation_date": 1511977415, "post_id": 47472910, "comment_id": 82075008, "body": "Your answer is not complete because you didn&#39;t mention the most important part, adding the Kotlin plugin classes as jar file to the dependencies. I got help on intellij-support.jetbrains.com. I will post my full answer later and mark it as the accepted one. I appreciate the effort so you can have the points anyway."}, {"owner": {"reputation": 6303, "user_id": 4680436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yAD2X.jpg?s=128&g=1", "display_name": "aristotll", "link": "https://stackoverflow.com/users/4680436/aristotll"}, "reply_to_user": {"reputation": 24386, "user_id": 1502079, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/i6NsY.jpg?s=128&g=1", "display_name": "vovahost", "link": "https://stackoverflow.com/users/1502079/vovahost"}, "edited": false, "score": 0, "creation_date": 1512005809, "post_id": 47472910, "comment_id": 82087172, "body": "@vovahost I thought you already know it, sorry. And I think maybe you need to use gradle with Intellij plugin to manage the plugin dependencies, like this plugin do <a href=\"https://github.com/dkandalov/live-plugin/blob/dba9ec48bdc73a5b4952bce9e4c4a02218cf2a06/build.gradle#L38-L49\" rel=\"nofollow noreferrer\">github.com/dkandalov/live-plugin/blob/&hellip;</a>"}], "tags": [], "owner": {"reputation": 6303, "user_id": 4680436, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yAD2X.jpg?s=128&g=1", "display_name": "aristotll", "link": "https://stackoverflow.com/users/4680436/aristotll"}, "is_accepted": false, "score": 1, "last_activity_date": 1511932804, "last_edit_date": 1511932804, "creation_date": 1511524917, "answer_id": 47472910, "question_id": 47439843, "link": "https://stackoverflow.com/questions/47439843/make-intellij-idea-plugin-work-with-kotlin-files/47472910#47472910", "title": "Make Intellij Idea plugin work with Kotlin files", "body": "<p>Of course it will not work for kotlin ,as your</p>\n\n<blockquote>\n  <p>if (root !is PsiJavaFile) {\n              return FoldingDescriptor.EMPTY\n          }</p>\n</blockquote>\n\n<p>For kotlin files, the file is <code>org.jetbrains.kotlin.psi.KtFile</code> instance, rather than <code>PsiJavaFile</code></p>\n\n<hr>\n\n<p>Update:</p>\n\n<ol>\n<li>You need to add kotlin plugin as the dependency of your plugin in <em>plugin.xml</em></li>\n<li>The psi api of Kotlin is not same as Java (They are different languages). You need to write a different class (but some can be same, I just copy your origin code and edit so there is some duplicate in my kt implementation.</li>\n</ol>\n\n<p>You can see my commit here <a href=\"https://github.com/aristotll/nstack-translation-folding/commit/45286e6ec10d3b50defe25d55f8fbd8f122a148b\" rel=\"nofollow noreferrer\">https://github.com/aristotll/nstack-translation-folding/commit/45286e6ec10d3b50defe25d55f8fbd8f122a148b</a>. </p>\n"}, {"comments": [{"owner": {"reputation": 519, "user_id": 7411218, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5lKqFx3KMvc/AAAAAAAAAAI/AAAAAAAAADI/HxHeI9WHtHk/photo.jpg?sz=128", "display_name": "Sebastian Helzer", "link": "https://stackoverflow.com/users/7411218/sebastian-helzer"}, "edited": false, "score": 0, "creation_date": 1582753043, "post_id": 49428477, "comment_id": 106890171, "body": "How does one add the <code>kotlin-compiler</code> library to an intelliji plugin project?"}], "tags": [], "owner": {"reputation": 125, "user_id": 9534273, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Vadim Salajan", "link": "https://stackoverflow.com/users/9534273/vadim-salajan"}, "is_accepted": false, "score": 0, "last_activity_date": 1521721815, "last_edit_date": 1521721815, "creation_date": 1521720938, "answer_id": 49428477, "question_id": 47439843, "link": "https://stackoverflow.com/questions/47439843/make-intellij-idea-plugin-work-with-kotlin-files/49428477#49428477", "title": "Make Intellij Idea plugin work with Kotlin files", "body": "<p>In my case, adding <code>kotlin-compiler</code> library to the project resolved the issue with missing classes as <code>KtFile</code> and other related to <em>Kotlin Psi</em>.</p>\n"}], "owner": {"reputation": 24386, "user_id": 1502079, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/i6NsY.jpg?s=128&g=1", "display_name": "vovahost", "link": "https://stackoverflow.com/users/1502079/vovahost"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 843, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1521721815, "creation_date": 1511368878, "last_edit_date": 1511864389, "question_id": 47439843, "link": "https://stackoverflow.com/questions/47439843/make-intellij-idea-plugin-work-with-kotlin-files", "title": "Make Intellij Idea plugin work with Kotlin files", "body": "<p>I've created this very simple <strong>Intellij Idea plugin</strong> which folds some reference expressions. It works great for Java files but it doesn't work for Kotlin.</p>\n\n<p>Here is the source: <a href=\"https://github.com/nodes-android/nstack-translation-folding\" rel=\"nofollow noreferrer\">https://github.com/nodes-android/nstack-translation-folding</a>. <br>\nI will include here the important parts:\n<br>\n<strong>plugin.xml</strong></p>\n\n<pre><code>&lt;/idea-plugin&gt;\n    &lt;depends&gt;com.intellij.modules.all&lt;/depends&gt;\n\n    &lt;application-components&gt;\n        &lt;component&gt;\n            &lt;implementation-class&gt;com.nodes.folding.TranslationFoldingBuilder&lt;/implementation-class&gt;\n        &lt;/component&gt;\n    &lt;/application-components&gt;\n\n    &lt;extensions defaultExtensionNs=\"com.intellij\"&gt;\n        &lt;lang.foldingBuilder language=\"JAVA\" implementationClass=\"com.nodes.folding.TranslationFoldingBuilder\"/&gt;\n    &lt;/extensions&gt;\n\n&lt;/idea-plugin&gt;\n</code></pre>\n\n<p><strong>TranslationFoldingBuilder.kt</strong></p>\n\n<pre><code>class TranslationFoldingBuilder : FoldingBuilderEx() {\n\n    override fun buildFoldRegions(root: PsiElement, document: Document, quick: Boolean): Array&lt;FoldingDescriptor&gt; {\n        if (root !is PsiJavaFile) {\n            return FoldingDescriptor.EMPTY\n        }\n\n        val descriptors = ArrayList&lt;FoldingDescriptor&gt;()\n        // Get all the reference expressions in this Java file\n        val referenceExpressions = PsiTreeUtil.findChildrenOfType(root, PsiReferenceExpression::class.java)\n\n        // Some logic\n\n        return descriptors.toTypedArray()\n    }\n}\n</code></pre>\n\n<p>My problem is that for Kotlin files the <strong>buildFoldRegions()</strong> is not called at all.</p>\n"}, {"tags": ["generics", "reflection", "kotlin"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1511368377, "post_id": 47439483, "comment_id": 81834103, "body": "Which line in this snippet is line 35/75? Can you mark them with comments?"}, {"owner": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1511370554, "post_id": 47439483, "comment_id": 81835576, "body": "@1blustone Line 35 is the getValue line inside the retrieveClass function. Line 75 is the memberProperties line (for loop)"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1511371034, "post_id": 47439483, "comment_id": 81835883, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/34498562/in-kotlin-what-is-the-idiomatic-way-to-deal-with-nullable-values-referencing-o\">In Kotlin, what is the idiomatic way to deal with nullable values, referencing or converting them</a>"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 1, "creation_date": 1511371255, "post_id": 47439483, "comment_id": 81836006, "body": "Both of your errors are caused by this, the second is because <code>::class</code> is only valid on non-nullable types. <a href=\"https://discuss.kotlinlang.org/t/null-safe-class/\" rel=\"nofollow noreferrer\">I opened a discussion about the second a while ago and received some possible workarounds</a>."}, {"owner": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1511799262, "post_id": 47439483, "comment_id": 81986361, "body": "@1blustone Alright, looks like I can access the class like this val myClass  = body.let { it::class } after I cast T1 to Any in the Base class definition. And I can loop through the properties like this for (prop in myClass.memberProperties) {}. How do I access the actual property values in body. I tried this prop.get(body) as String, but get this cryptic error: Error:(82, 56) Kotlin: Out-projected type &#39;KProperty1&lt;out T1, Any?&gt;&#39; prohibits the use of &#39;public abstract fun get(receiver: T): R defined in kotlin.reflect.KProperty1&#39;"}], "owner": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 485, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511799801, "creation_date": 1511367717, "last_edit_date": 1511799801, "question_id": 47439483, "link": "https://stackoverflow.com/questions/47439483/how-to-access-attributes-methods-in-generic-class-parameter", "title": "How to access attributes/methods in generic class parameter", "body": "<p>New to Kotlin coming from C#. </p>\n\n<p>I am trying create a class that takes in an interchangeable class object through generics. In the class I would like to access attribute values and call methods in the class. I assume this has to be through some kind of reflection mechanism. Digging through Kotlin references I have been trying to apply suggestions to my code, however I get some cryptic errors. </p>\n\n<p>Any help is appreciated. </p>\n\n<pre><code>Error:(35, 20) Kotlin: Unresolved reference. None of the following candidates is applicable because of receiver type mismatch: \n@InlineOnly public operator inline fun &lt;T&gt; Lazy&lt;T1?&gt;.getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T1? defined in kotlin\n@InlineOnly public operator inline fun &lt;V, V1 : T1?&gt; Map&lt;in String, T1?&gt;.getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T1? defined in kotlin.collections\n@SinceKotlin public fun &lt;K, V&gt; Map&lt;Class&lt;T1&gt;, T1?&gt;.getValue(key: Class&lt;T1&gt;): T1? defined in kotlin.collections\n@JvmName @InlineOnly public operator inline fun &lt;V&gt; MutableMap&lt;in String, in T1?&gt;.getValue(thisRef: Any?, property: KProperty&lt;*&gt;): T1? defined in kotlin.collections\nError:(75, 20) Kotlin: Expression in a class literal has a nullable type 'T1?', use !! to make the type non-nullable\nError:(75, 35) Kotlin: Type parameter bound for T in val &lt;T : Any&gt; KClass&lt;T&gt;.memberProperties: Collection&lt;KProperty1&lt;T, *&gt;&gt;\n is not satisfied: inferred type CapturedTypeConstructor(out T1?) is not a subtype of Any\n\nopen class Base&lt;T1, T2&gt; (@Autowired var t2: T2) {\n\n    @Autowired var request: T1? = null\n\n  inline fun &lt;reified T1: Any&gt; retrieveClass(): T1? {\n    return request.getValue(T1::class.java)\n  }\n\n  fun endpoint(\n    @ApiParam(value = \"Options\", required = true) @Valid @RequestBody\n        body: T1\n    ): ResponseEntity&lt;MyResponse&gt; {\n        type1 = body\n        val obj = retrieveClass()\n        for (prop in obj::class.memberProperties) {\n           println(\"${prop.name} = ${prop.get(obj)}\")\n        }\n        val usefulResult = obj.usefulMethod()\n    }\n}\n</code></pre>\n\n<p>After modifications to access the generic class properties, the code looks like this, with an error in the println:</p>\n\n<pre><code>Error:(82, 56) Kotlin: Out-projected type 'KProperty1&lt;out T1, Any?&gt;' prohibits the use of 'public abstract fun get(receiver: T): R defined in kotlin.reflect.KProperty1'\n\n\nopen class Base&lt;T1 : Any, T2 : Any&gt; (@Autowired var t2: T2) {\n\n    @Autowired var request: T1? = null\n\n  fun endpoint(\n    @ApiParam(value = \"Options\", required = true) @Valid @RequestBody\n        body: T1\n    ): ResponseEntity&lt;MyResponse&gt; {\n        val myClass  = body.let { it::class }\n        val my2ndClass  = t2.let { it::class }\n\n        for (prop in myClass.memberProperties) {\n           println(\"${prop.name} = ${prop.get(myClass)}\")\n        }\n        val usefulResult = my2ndClass.usefulMethod(myClass)\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "realm"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1511370307, "post_id": 47437584, "comment_id": 81835412, "body": "What is the <code>RealmChangeListener</code> added to?"}, {"owner": {"reputation": 1933, "user_id": 2279862, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/3YRDE.jpg?s=128&g=1", "display_name": "zoltish", "link": "https://stackoverflow.com/users/2279862/zoltish"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1511373998, "post_id": 47437584, "comment_id": 81837461, "body": "@EpicPandaForce The ExerciseInfo object."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1511374065, "post_id": 47437584, "comment_id": 81837502, "body": "Like, <code>exerciseInfo.addChangeListener(new RealmObjectChangeListener</code> or something like that? Not the <code>realmResults</code>?"}, {"owner": {"reputation": 1933, "user_id": 2279862, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/3YRDE.jpg?s=128&g=1", "display_name": "zoltish", "link": "https://stackoverflow.com/users/2279862/zoltish"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1511374486, "post_id": 47437584, "comment_id": 81837758, "body": "@EpicPandaForce In this case Im just querying one object (findFirst()) so the listener is added directly to it."}, {"owner": {"reputation": 3477, "user_id": 1396606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8806428fd1451cf727350f163e5c13d7?s=128&d=identicon&r=PG", "display_name": "beeender", "link": "https://stackoverflow.com/users/1396606/beeender"}, "edited": false, "score": 0, "creation_date": 1511406709, "post_id": 47437584, "comment_id": 81849166, "body": "It should be the desired behavior. See <a href=\"https://realm.io/docs/java/4.2.0/api/io/realm/RealmObject.html#addChangeListener-io.realm.RealmObjectChangeListener-\" rel=\"nofollow noreferrer\">realm.io/docs/java/4.2.0/api/io/realm/&hellip;</a> It should be triggered if you add/remove/move element in the List, but not modify object in the list."}, {"owner": {"reputation": 4274, "user_id": 4647628, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/vwyho.jpg?s=128&g=1", "display_name": "Aks4125", "link": "https://stackoverflow.com/users/4647628/aks4125"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1511766051, "post_id": 47437584, "comment_id": 81966644, "body": "@EpicPandaForce realm expert :D. i do expect your answer for <a href=\"https://stackoverflow.com/questions/47505171/android-realm-database-decryption-failed\" title=\"android realm database decryption failed\">stackoverflow.com/questions/47505171/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1933, "user_id": 2279862, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/3YRDE.jpg?s=128&g=1", "display_name": "zoltish", "link": "https://stackoverflow.com/users/2279862/zoltish"}, "edited": false, "score": 0, "creation_date": 1511771970, "post_id": 47453266, "comment_id": 81969150, "body": "If I query for a list, Id like to get notified if any of the items are modified (updated or removed) as well as if any new items are added. For a single item, Id just like to know if it gets updated or removed. This works for the most part, but not if I update an items inner fields (as in my example above)."}, {"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "reply_to_user": {"reputation": 1933, "user_id": 2279862, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/3YRDE.jpg?s=128&g=1", "display_name": "zoltish", "link": "https://stackoverflow.com/users/2279862/zoltish"}, "edited": false, "score": 0, "creation_date": 1511788674, "post_id": 47453266, "comment_id": 81979487, "body": "Single-object notifications don&#39;t notify for linked objects. For that, you&#39;d need a <code>RealmResults&lt;T&gt;</code> of your single object (which is what I tend to recommend unless you are listening for specific field changes) which can be done with <code>equalTo(&quot;id&quot;, id)</code> condition. This way it is also resilient against item deletion."}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 0, "last_activity_date": 1511432984, "creation_date": 1511432984, "answer_id": 47453266, "question_id": 47437584, "link": "https://stackoverflow.com/questions/47437584/change-notifications-in-realm-for-inner-objects/47453266#47453266", "title": "Change notifications in Realm for inner objects?", "body": "<p><code>RealmChangeListener</code> added to objects directly will <em>not</em> be notified for changes in the list (link field).</p>\n\n<p>For that, you need to add the listener to a <code>RealmResults&lt;T&gt;</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 4274, "user_id": 4647628, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/vwyho.jpg?s=128&g=1", "display_name": "Aks4125", "link": "https://stackoverflow.com/users/4647628/aks4125"}, "is_accepted": false, "score": 0, "last_activity_date": 1511435440, "creation_date": 1511435440, "answer_id": 47454101, "question_id": 47437584, "link": "https://stackoverflow.com/questions/47437584/change-notifications-in-realm-for-inner-objects/47454101#47454101", "title": "Change notifications in Realm for inner objects?", "body": "<p>Try following code in your activity</p>\n\n<pre><code>class SampleActivity extends AppCompatActivity implements  RealmChangeListener&lt;Realm&gt; {\n\n\nonCreate(...){\n\nrealm.addChangeListener(this);// make sure you init realm transaction\n\n}\n\n     @Override\n    public void onChange(@NonNull Realm realm) {\n    // this method will be call after any change in realm\n    }\n}\n</code></pre>\n\n<p><em>Don't forget to remove all registered listeners in <code>onDestroy</code> method.</em></p>\n\n<hr>\n\n<p><strong>OR</strong></p>\n\n<pre><code>realm = Realm.getDefaultInstance();\n\nrealm.addChangeListener(new RealmChangeListener&lt;Realm&gt;() {\n            @Override\n            public void onChange(Realm realm) {\n                // do something \n            }\n        });\n</code></pre>\n"}], "owner": {"reputation": 1933, "user_id": 2279862, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/3YRDE.jpg?s=128&g=1", "display_name": "zoltish", "link": "https://stackoverflow.com/users/2279862/zoltish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 809, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1511435440, "creation_date": 1511362120, "last_edit_date": 1511364841, "question_id": 47437584, "link": "https://stackoverflow.com/questions/47437584/change-notifications-in-realm-for-inner-objects", "title": "Change notifications in Realm for inner objects?", "body": "<p>When I have an object <code>A</code> that contains a realm-list of <code>B</code>, if I have a query for a specific A and edit an item in its <code>B</code> list; I wont receive a change notification</p>\n\n<p>Is this the desired behavior? </p>\n\n<p>Code sample:</p>\n\n<pre><code>class ExerciseInfo : RealmObject() {\n    @PrimaryKey \n    var id: String? = null\n    var muscleFields: MuscleFields? = null\n}\n\nclass MuscleFields : RealmObject() {\n    var muscles: RealmList&lt;Muscle&gt;? = null\n}\n\nclass Muscle : RealmObject() {\n    var id: String? = null\n    var name: String? = null\n}\n\n//Example, performed inside a Realm transaction\nrealm.where(ExerciseInfo::class.java)\n    .findFirst()\n    .muscleFields\n    ?.muscles\n    ?.let{ it.first().name += \":)\" }\n</code></pre>\n\n<p>All of the above is sample code - but the scenario is exactly the same. </p>\n\n<p>I can verify that the edit is performed and stored in the database; and that no change notification is triggered for the ExeciseInfo RealmObject, regardless of whether Im using it with a addChangeListener() or the Flowable method. Moreover, the same scenario <strong>does work if the edit being made is performed directly on the exercise class, e.g. editing some fields directly on the ExerciseInfo class, and not another object inside it.</strong></p>\n\n<p>I hope that makes sense. Thought Id post this on SO before the Realm Github as it may be something Ive missed, and not a bug. </p>\n\n<p>Any idea? - Let me know. Thanks!</p>\n"}, {"tags": ["kotlin", "guava", "java.util.concurrent", "coroutine", "kotlin-coroutines"], "answers": [{"tags": [], "owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "is_accepted": true, "score": 8, "last_activity_date": 1511361938, "creation_date": 1511361938, "answer_id": 47437510, "question_id": 47436765, "link": "https://stackoverflow.com/questions/47436765/why-is-there-a-difference-between-coroutine-builders-for-completablefuture-and-l/47437510#47437510", "title": "Why is there a difference between coroutine builders for CompletableFuture and ListenableFuture?", "body": "<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#cancel-boolean-\" rel=\"noreferrer\">CompletableFuture.cancel</a> is an open (overridable) method, but it is not <em>designed for override</em>. Its documentation does not provide any guarantee for its invocation on cancellation, so the only future-proof (pun intended) way to learn that <code>CompletableFuture</code> was cancelled is by installing <code>whenComplete</code> listener on it. </p>\n\n<p>For example, it is perfectly legal for a future version of JDK to add yet another method to cancel a future that does not internally invoke <code>cancel</code>. Such a change would not violate any piece of <code>CompletableFuture</code> contract.</p>\n\n<p>Compare this with documentation on <a href=\"https://google.github.io/guava/releases/19.0/api/docs/com/google/common/util/concurrent/AbstractFuture.html#interruptTask()\" rel=\"noreferrer\">AbstractFuture.interruptTask</a>. This method is explicitly designed for override and its documentation guarantees conditions under which it is invoked. Thus, we can provide a slightly more efficient implementation for <code>ListenableFuture</code> builder that avoids creation of lambda to install a cancellation listener on it. </p>\n"}], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 532, "favorite_count": 1, "accepted_answer_id": 47437510, "answer_count": 1, "score": 4, "last_activity_date": 1552981913, "creation_date": 1511359686, "last_edit_date": 1552981913, "question_id": 47436765, "link": "https://stackoverflow.com/questions/47436765/why-is-there-a-difference-between-coroutine-builders-for-completablefuture-and-l", "title": "Why is there a difference between coroutine builders for CompletableFuture and ListenableFuture?", "body": "<p>While examining source of Kotlin coroutines, I noticed a difference (marked with <code>**</code>) between <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/integration/kotlinx-coroutines-jdk8/src/main/kotlin/kotlinx/coroutines/experimental/future/Future.kt\" rel=\"nofollow noreferrer\">JDK 8 CompletableFuture</a></p>\n\n<pre><code>public fun &lt;T&gt; future(\n    context: CoroutineContext = DefaultDispatcher,\n    start: CoroutineStart = CoroutineStart.DEFAULT,\n    block: suspend CoroutineScope.() -&gt; T\n): CompletableFuture&lt;T&gt; {\n    require(!start.isLazy) { \"$start start is not supported\" }\n    val newContext = newCoroutineContext(context)\n    val job = Job(newContext[Job])\n    val future = CompletableFutureCoroutine&lt;T&gt;(newContext + job)\n    job.cancelFutureOnCompletion(future)\n    ** future.whenComplete { _, exception -&gt; job.cancel(exception) } **\n    start(block, receiver=future, completion=future) // use the specified start strategy\n    return future\n}\n\n\nprivate class CompletableFutureCoroutine&lt;T&gt;(\n    override val context: CoroutineContext\n) : CompletableFuture&lt;T&gt;(), Continuation&lt;T&gt;, CoroutineScope {\n    override val coroutineContext: CoroutineContext get() = context\n    override val isActive: Boolean get() = context[Job]!!.isActive\n    override fun resume(value: T) { complete(value) }\n    override fun resumeWithException(exception: Throwable) { completeExceptionally(exception) }\n    ** doesn't override cancel which corresponds to interrupt task **\n}\n</code></pre>\n\n<p>and <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/integration/kotlinx-coroutines-guava/src/main/kotlin/kotlinx/coroutines/experimental/guava/ListenableFuture.kt\" rel=\"nofollow noreferrer\">Guava ListenableFuture</a></p>\n\n<pre><code>public fun &lt;T&gt; future(\n    context: CoroutineContext = DefaultDispatcher,\n    start: CoroutineStart = CoroutineStart.DEFAULT,\n    block: suspend CoroutineScope.() -&gt; T\n): ListenableFuture&lt;T&gt; {\n    require(!start.isLazy) { \"$start start is not supported\" }\n    val newContext = newCoroutineContext(context)\n    val job = Job(newContext[Job])\n    val future = ListenableFutureCoroutine&lt;T&gt;(newContext + job)\n    job.cancelFutureOnCompletion(future)\n    start(block, receiver=future, completion=future) // use the specified start strategy\n    return future\n}\n\nprivate class ListenableFutureCoroutine&lt;T&gt;(\n    override val context: CoroutineContext\n) : AbstractFuture&lt;T&gt;(), Continuation&lt;T&gt;, CoroutineScope {\n    override val coroutineContext: CoroutineContext get() = context\n    override val isActive: Boolean get() = context[Job]!!.isActive\n    override fun resume(value: T) { set(value) }\n    override fun resumeWithException(exception: Throwable) { setException(exception) }\n    ** override fun interruptTask() { context[Job]!!.cancel() } **\n}\n</code></pre>\n\n<p>integrations, though I think of the types as nearly equivalent (except of course <code>ListenableFuture</code> can't be completed directly, but I don't see why this matters here). Is there a specific reason behind this difference?</p>\n"}, {"tags": ["android", "kotlin", "android-contentprovider", "android-calendar", "android-room"], "comments": [{"owner": {"reputation": 64, "user_id": 4184814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HSl0C.jpg?s=128&g=1", "display_name": "Anikethan Shetty", "link": "https://stackoverflow.com/users/4184814/anikethan-shetty"}, "edited": false, "score": 0, "creation_date": 1596787268, "post_id": 47436298, "comment_id": 111928589, "body": "<a href=\"https://medium.com/@aniket93shetty/content-provider-for-sharing-room-database-using-kotlin-c196ca1d8471\" rel=\"nofollow noreferrer\">medium.com/@aniket93shetty/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": false, "score": 3, "last_activity_date": 1511359361, "creation_date": 1511359361, "answer_id": 47436653, "question_id": 47436298, "link": "https://stackoverflow.com/questions/47436298/how-to-access-calendarprovider-with-room/47436653#47436653", "title": "How to access CalendarProvider with Room?", "body": "<blockquote>\n  <p>it doesn't seem to work with Android's Content Providers out of the box.</p>\n</blockquote>\n\n<p>Not only does it not work with <code>ContentProvider</code> \"out of the box\", there is no practical way to have Room work with a <code>ContentProvider</code> in its present state. The closest that you could get would be to have a <code>SupportSQLite*</code> set of classes that attempt to map to <code>ContentResolver</code> operations, but that's going to run into all sorts of problems (e.g., Room cannot create metadata tables).</p>\n\n<p>It is not out of the question for a future edition of Room to support this, and there may already be libraries that offer Room-like approaches for accessing an external <code>ContentProvider</code>.</p>\n"}], "owner": {"reputation": 9051, "user_id": 4433326, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-0eT2bjizzRQ/AAAAAAAAAAI/AAAAAAAA6WQ/O6mD60Yyahc/photo.jpg?sz=128", "display_name": "Louis CAD", "link": "https://stackoverflow.com/users/4433326/louis-cad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 475, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1596698873, "creation_date": 1511358340, "question_id": 47436298, "link": "https://stackoverflow.com/questions/47436298/how-to-access-calendarprovider-with-room", "title": "How to access CalendarProvider with Room?", "body": "<p>Using Content Providers always come with hardly readable boilerplate where it's hard to spot programming errors.</p>\n\n<p>Room persistence library from Android Architecture Components alleviate this issue, but it doesn't seem to work with Android's Content Providers out of the box.</p>\n\n<p>Has anyone succeeded in using Calendar Provider or another Android's Content Provider with Room, obtaining more readable code? If yes, please answer and post your snippets, in Kotlin if you can ;)</p>\n\n<p>Thanks for any help!</p>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "edited": false, "score": 0, "creation_date": 1511361833, "post_id": 47436059, "comment_id": 81829242, "body": "Post your code, your project structure and a link to the course materials (if possible). Do you have any clue what <code>oo.Coding_Challenge_ClassesKt</code> is?"}, {"owner": {"reputation": 1308, "user_id": 2581809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33afb2c1d879183a3b1e0f9418dd3195?s=128&d=identicon&r=PG", "display_name": "Ekeko", "link": "https://stackoverflow.com/users/2581809/ekeko"}, "edited": false, "score": 0, "creation_date": 1511484941, "post_id": 47436059, "comment_id": 81884742, "body": "Are you sure you didn&#39;t just misspelled you file name, Coding_Challenge_ClassesKt instead of Coding_Challenge_Classes.Kt?"}, {"owner": {"reputation": 11, "user_id": 8990365, "user_type": "registered", "profile_image": "https://graph.facebook.com/1966567863607872/picture?type=large", "display_name": "Vale", "link": "https://stackoverflow.com/users/8990365/vale"}, "edited": false, "score": 0, "creation_date": 1512466324, "post_id": 47436059, "comment_id": 82258580, "body": "Yeah, I checked multiple times"}], "owner": {"reputation": 11, "user_id": 8990365, "user_type": "registered", "profile_image": "https://graph.facebook.com/1966567863607872/picture?type=large", "display_name": "Vale", "link": "https://stackoverflow.com/users/8990365/vale"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1511361680, "creation_date": 1511357607, "last_edit_date": 1511361680, "question_id": 47436059, "link": "https://stackoverflow.com/questions/47436059/intellij-reporting-error-running-for-a-file-non-found-in-a-module-i-created", "title": "IntelliJ reporting error running for a file non found in a module I created", "body": "<p>I'm new to programming and I've just started studying Kotlin. I'm currently dealing with Classes and Constructors. Now I'm trying to complete a \"Coding challege\" inside a course I'm attending. I've just finished coding everything but when I try to run everything, IntelliJ says, in a red bottom centre small window:</p>\n\n<blockquote>\n  <p>Error running 'oo.Coding_Challenge_ClassesKt': Class\n  'oo.Coding_Challenge_ClassesKt' not found in module 'Kotlin_Course'</p>\n</blockquote>\n\n<p>It might sound as a silly question, but in two weeks time, it's actually the first time that I have this kind of problem and can't see whether my code is correct or not.</p>\n\n<p>Thanks everyone for your patience.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore", "persistent"], "answers": [{"comments": [{"owner": {"reputation": 109, "user_id": 7007267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkBoO.jpg?s=128&g=1", "display_name": "CAZ", "link": "https://stackoverflow.com/users/7007267/caz"}, "edited": false, "score": 0, "creation_date": 1511361168, "post_id": 47436573, "comment_id": 81828736, "body": "Thank you Alex, for now I will change the way init will be set up, as the app needs to be connected at least once. I certainly will need to check if document exists online, with some OnCompleteListener&lt;DocumentSnapshot&gt;(), before querying data."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "reply_to_user": {"reputation": 109, "user_id": 7007267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkBoO.jpg?s=128&g=1", "display_name": "CAZ", "link": "https://stackoverflow.com/users/7007267/caz"}, "edited": false, "score": 0, "creation_date": 1511361313, "post_id": 47436573, "comment_id": 81828849, "body": "Yes, that&#39;s a good practice to verify a document for existens before doing something with it."}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 0, "last_activity_date": 1511359160, "creation_date": 1511359160, "answer_id": 47436573, "question_id": 47434582, "link": "https://stackoverflow.com/questions/47434582/firestore-persistent-data/47436573#47436573", "title": "FIRESTORE persistent data", "body": "<p>As the <a href=\"https://firebase.google.com/docs/firestore/manage-data/enable-offline\" rel=\"nofollow noreferrer\">offical documentation</a> says,</p>\n\n<blockquote>\n  <p>Cloud Firestore supports offline data persistence. This feature caches a copy of the Cloud Firestore data that your app is actively using, so your app can access the data when the device is offline.</p>\n</blockquote>\n\n<p>But in order to use this feature, you need at least one connection to the dabase. This means that your app must be connected to the internet at least once. After that, you'll be able to write, read, listen to, and query the cached data.</p>\n\n<p>If you want to use data between activities or fragments, i recomand you using either an <code>Intent</code> or either <code>SharedPreferences</code>, which can hold your data across the whole app.</p>\n"}, {"comments": [{"owner": {"reputation": 109, "user_id": 7007267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkBoO.jpg?s=128&g=1", "display_name": "CAZ", "link": "https://stackoverflow.com/users/7007267/caz"}, "edited": false, "score": 0, "creation_date": 1511366737, "post_id": 47438038, "comment_id": 81832959, "body": "Perfect, thanks Frank ! I will post some code once everything will be set and tested."}, {"owner": {"reputation": 109, "user_id": 7007267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkBoO.jpg?s=128&g=1", "display_name": "CAZ", "link": "https://stackoverflow.com/users/7007267/caz"}, "edited": false, "score": 0, "creation_date": 1511603043, "post_id": 47438038, "comment_id": 81923934, "body": "What would be the best way to read &#39;snapshot.getData()&#39; keys from within the &#39;onEvent&#39; listener as it is set to be nullable &#39;snapshot:DocumentSnapshot?&#39;, and we need to read for example Int data, wich are not nullable ? Function returns Unit in Kotlin, lest say Void."}], "tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": false, "score": 2, "last_activity_date": 1511363457, "creation_date": 1511363457, "answer_id": 47438038, "question_id": 47434582, "link": "https://stackoverflow.com/questions/47434582/firestore-persistent-data/47438038#47438038", "title": "FIRESTORE persistent data", "body": "<p><em>firebaser here</em></p>\n\n<p>Firestore persists the data you write on a device to a local database. So the next time you start the application it will indeed be able to read that same data, even when the device has never been connected to the Firebase servers.</p>\n\n<p>When your app first tries to read data from Firestore it tries to establish a connection to its servers. If you're <a href=\"https://firebase.google.com/docs/firestore/query-data/get-data#get_a_document\" rel=\"nofollow noreferrer\">using <code>get()</code> calls to read the data</a> Firestore will wait for that connection to be established or failed before it returns data. This means it may take quite some time for this initial call. We know that this may lead to unwanted behavior for the users of your app, so we're looking at ways to improve this behavior.</p>\n\n<p>In the meantime, consider <a href=\"https://firebase.google.com/docs/firestore/query-data/listen\" rel=\"nofollow noreferrer\">using realtime listeners</a> to read the same data. These listener behave differently in this scenario and will/may provide a result twice:</p>\n\n<ol>\n<li>The first snapshot is given straight away and comes from the local cache.</li>\n<li>The second snapshot is given later, after the client has gotten a response from the cloud database.</li>\n</ol>\n"}], "owner": {"reputation": 109, "user_id": 7007267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FkBoO.jpg?s=128&g=1", "display_name": "CAZ", "link": "https://stackoverflow.com/users/7007267/caz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 946, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1511566473, "creation_date": 1511353197, "last_edit_date": 1511566473, "question_id": 47434582, "link": "https://stackoverflow.com/questions/47434582/firestore-persistent-data", "title": "FIRESTORE persistent data", "body": "<p>talking about firestore persistent data, lets suppose the user does not have any connectivity the first time the app is launched. I add some data to Firestore Database (like userID..), I can get it back with get() method. Now user closes the app.</p>\n\n<ol>\n<li><p><em>Next time he will open the app (still without connectivity), will he be able to retrieve data stored previously, just as if it was stored in the way of sharedprefs ?</em>\nI cannot clearly figure out how to find a proper way to set up an init phasis with persistent data.</p></li>\n<li><p>I have several fragments. Each time one of them is launched, I use \"onResume\" method to populate my components from data (previously stored in sharedpref). When I set Firestore getData, it takes time to be retrieved. So if the user changes from the current fragment to another one, I have errors about components being null or unreachable at the time the result from database is complete, when connectivity is ON.</p>\n\n<p><em>What would be the best way to implement such \"onResume\" data refill ?</em></p></li>\n</ol>\n\n<p>UPDATE :</p>\n\n<p>Here is some piece of code in: <strong>MainAvtivity</strong>.kt</p>\n\n<pre><code>FirebaseFirestore.getInstance().firestoreSettings.isPersistenceEnabled\n        sightingsDatabase = FirebaseFirestore.getInstance()\n        docname=FireStoreSetup().setupFB(sightingsDatabase!!,this)\n</code></pre>\n\n<p>a kotlin object class to populate my document :</p>\n\n<pre><code>data class Sighting(var userID: String,\n                    var sig_wit_situation_type: Int,\n                    var sig_env_background_type: Int,\n                    var sig_ground_type: Int,\n                    var sig_YYYY: String,\n                    var sig_MM: String,\n                    var sig_DD: String,\n                    var sig_time_start: String,\n                    var sig_date_time: String,\n                    var sig_duration_hms: String,\n                    var sig_duration_milli: Int,\n                    var sig_weather_full: Int,\n                    var sig_temp: Int)\n</code></pre>\n\n<p>in <strong>FireStoreSetup</strong> class : when first init happens -></p>\n\n<pre><code>val sighting = Sighting(deviceId!!,\n                        0,\n                        0,\n                        0,\n                        strDate.substring(0, 4),\n                        strDate.substring(5, 7),\n                        strDate.substring(8, 10),\n                        strDate.substring(11),\n                        strDate,\n                        \"00:00:00\",\n                        0,\n                        0,\n                        0)\n\n                db.collection(\"users\").document(docname!!)\n                        .set(sighting)\n                        .addOnSuccessListener {\n                            Log.d(_tag, \"DocumentSnapshot successfully written!\")\n                            setShared(context,\"doc_name\",docname!!)}\n                        .addOnFailureListener { e -&gt; Log.w(_tag, \"Error writing document\", e) }\n</code></pre>\n\n<p>then a fun to write data to the server</p>\n\n<pre><code>fun addValue(key:String,value:Any?){\n        val docData = HashMap&lt;String,Any?&gt;()\n        docData.put(key, value)\n        FirebaseFirestore.getInstance().collection(\"users\").document(docname!!)\n                .set(docData, SetOptions.merge())\n    }\n</code></pre>\n\n<p>and</p>\n\n<pre><code> fun readValue(){\n        val docRef = FirebaseFirestore.getInstance().collection(\"users\").document(docname!!)\n        docRef.addSnapshotListener(object:EventListener&lt;DocumentSnapshot&gt; {\n            override fun onEvent(snapshot:DocumentSnapshot?, e:FirebaseFirestoreException?) {\n                if (e != null)\n                {\n                    Log.w(\"firestore\", \"Listen failed.\", e)\n                }\n                if (snapshot != null &amp;&amp; snapshot.exists())\n                {\n                    Log.d(\"firestore\", \"Current data: \" + snapshot.getData())\n                    FragmentHome.vars=snapshot.getData()\n                }\n                else\n                {\n                    Log.d(\"firestore\", \"Current data: null\")\n                }\n            }\n        })\n    }\n</code></pre>\n\n<p>in <strong>FragmentHome</strong> :</p>\n\n<pre><code>companion object {\n        val itemsMenu = ArrayList&lt;MenuData&gt;()\n        var vars: MutableMap&lt;String,Any&gt;? =null\n\n        fun newInstance(value: Int): FragmentHome {\n            val args = Bundle()\n            args.putInt(\"menu\", value)\n            val fragment = FragmentHome()\n            fragment.arguments = args\n            return fragment\n        }\n\n    }\n\noverride fun onResume() {\n        super.onResume()\n        FireStoreSetup().readValue()\n        when (_menu){\n            0-&gt; switchRecycler(1,0)\n            1-&gt; switchRecycler(0,0)\n        }\n    }\n</code></pre>\n\n<p>and then from fragmentHome, replacing it with new fragment with firestore values :</p>\n\n<pre><code>val situ= vars!![\"sig_wit_situation_type\"].toString().toInt()\n            val env= vars!![\"sig_env_background_type\"].toString().toInt()\n            val grd= vars!![\"sig_ground_type\"].toString().toInt()\nreFrag(FragmentSitu.newInstance(situ,env,grd), 1)\n</code></pre>\n\n<p>where in new FragmentSitu fragment we have :</p>\n\n<pre><code>companion object {\n        fun newInstance(situ: Int,env: Int,grd: Int): FragmentSitu {\n            val args = Bundle()\n            args.putInt(\"sig_wit_situation_type\", situ)\n            args.putInt(\"sig_env_background_type\", env)\n            args.putInt(\"sig_ground_type\", grd)\n\n            val fragment = FragmentSitu()\n            fragment.arguments = args\n            return fragment\n        }\n    }\n</code></pre>\n\n<p>and it works with no delays, online and offline, thanks to Franck and docRef.addSnapshotListener.</p>\n\n<p>** There must be a better way to catch <code>snapshot.getData()</code> result from within <code>onEvent(snapshot:DocumentSnapshot?)</code>,as I would have liked to set my fragment args FragmentSitu.newInstance(situ,env,grd) directly from <code>snapshot.getData()[\"situ\"]</code>, <code>snapshot.getData()[\"env\"]</code>...</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1039, "user_id": 5400914, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/798902f710714568d56d720b6d06e685?s=128&d=identicon&r=PG&f=1", "display_name": "yogesh lokhande", "link": "https://stackoverflow.com/users/5400914/yogesh-lokhande"}, "edited": false, "score": 0, "creation_date": 1511411948, "post_id": 47434438, "comment_id": 81850466, "body": "I dont understand why there is downvote"}], "answers": [{"comments": [{"owner": {"reputation": 1039, "user_id": 5400914, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/798902f710714568d56d720b6d06e685?s=128&d=identicon&r=PG&f=1", "display_name": "yogesh lokhande", "link": "https://stackoverflow.com/users/5400914/yogesh-lokhande"}, "edited": false, "score": 1, "creation_date": 1511353507, "post_id": 47434529, "comment_id": 81823422, "body": "Thanx for your help but it didn&#39;t worked for me still facing same issue"}, {"owner": {"reputation": 8058, "user_id": 8112541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SyzIV.jpg?s=128&g=1", "display_name": "Goku", "link": "https://stackoverflow.com/users/8112541/goku"}, "reply_to_user": {"reputation": 1039, "user_id": 5400914, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/798902f710714568d56d720b6d06e685?s=128&d=identicon&r=PG&f=1", "display_name": "yogesh lokhande", "link": "https://stackoverflow.com/users/5400914/yogesh-lokhande"}, "edited": false, "score": 1, "creation_date": 1511354491, "post_id": 47434529, "comment_id": 81824047, "body": "@YoLo remove <b><code>strAction</code></b> from <code>when</code> no need to pass that"}], "tags": [], "owner": {"reputation": 8058, "user_id": 8112541, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SyzIV.jpg?s=128&g=1", "display_name": "Goku", "link": "https://stackoverflow.com/users/8112541/goku"}, "is_accepted": true, "score": 37, "last_activity_date": 1511354633, "last_edit_date": 1511354633, "creation_date": 1511353024, "answer_id": 47434529, "question_id": 47434438, "link": "https://stackoverflow.com/questions/47434438/unable-to-use-string-contains-in-kotlin-when-expression/47434529#47434529", "title": "Unable to use string.contains() in kotlin `when` expression", "body": "<p>Try this remove <strong><code>when(strAction)</code></strong> parameter from <code>when</code></p>\n\n<pre><code>val strAction = \"Grid\"    \n\nwhen {\n  strAction.contains(\"Grid\") -&gt; println(\"position is 1\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1656, "user_id": 1211920, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/3f037af7c4795183b297f6fdaeb24922?s=128&d=identicon&r=PG", "display_name": "Igor Wojda", "link": "https://stackoverflow.com/users/1211920/igor-wojda"}, "is_accepted": false, "score": 3, "last_activity_date": 1511353684, "creation_date": 1511353684, "answer_id": 47434745, "question_id": 47434438, "link": "https://stackoverflow.com/questions/47434438/unable-to-use-string-contains-in-kotlin-when-expression/47434745#47434745", "title": "Unable to use string.contains() in kotlin `when` expression", "body": "<p>You don't need to pass <code>strAction</code></p>\n\n<pre><code>val strAction = \"Grid\"\n\n when {\n   strAction.contains(\"Grid\") -&gt; println(\"position is 1\")\n }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 2, "last_activity_date": 1605451996, "last_edit_date": 1605451996, "creation_date": 1511356208, "answer_id": 47435588, "question_id": 47434438, "link": "https://stackoverflow.com/questions/47434438/unable-to-use-string-contains-in-kotlin-when-expression/47435588#47435588", "title": "Unable to use string.contains() in kotlin `when` expression", "body": "<p>If there's only one case in your <code>when</code>, I'd recommend to use <code>if</code> instead. That's already what you're trying to do there:</p>\n<pre><code>val strAction = &quot;Grid&quot;\nif (strAction.contains(&quot;Grid&quot;)) {\n   println(&quot;position is 1&quot;)\n}\n</code></pre>\n<p>Even shorter, isn't it?</p>\n<p>Just for the record: You switch on a <code>String</code> (in <code>when</code>) but have <code>Boolean</code> cases, which won't work. What would do the trick, though:</p>\n<pre><code>val strAction = &quot;Grid&quot;\nwhen (strAction.contains(&quot;Grid&quot;)) {\n   true-&gt;println(&quot;position is 1&quot;)\n}\n</code></pre>\n<p>But again, do <code>if</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1511423336, "creation_date": 1511423336, "answer_id": 47450103, "question_id": 47434438, "link": "https://stackoverflow.com/questions/47434438/unable-to-use-string-contains-in-kotlin-when-expression/47450103#47450103", "title": "Unable to use string.contains() in kotlin `when` expression", "body": "<p>The other answers explain how to fix the problem but not what the problem actually is. Your code calculates <code>strAction.contains(\"Grid\")</code> (which will be a <code>Boolean</code>) and then <em>compares <code>strAction</code> with this value</em>. I.e. it's equivalent to</p>\n\n<pre><code>if (strAction == strAction.contains(\"Grid\")) {\n   println(\"position is 1\")\n}\n</code></pre>\n\n<p>They can't be equal because the types are incompatible, so this branch could never be taken and the compiler tells you this.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 2955983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b08559abf6e446e9a0c6f8ff77631c6?s=128&d=identicon&r=PG&f=1", "display_name": "joshuaeasy", "link": "https://stackoverflow.com/users/2955983/joshuaeasy"}, "is_accepted": false, "score": 0, "last_activity_date": 1527594308, "creation_date": 1527594308, "answer_id": 50583576, "question_id": 47434438, "link": "https://stackoverflow.com/questions/47434438/unable-to-use-string-contains-in-kotlin-when-expression/50583576#50583576", "title": "Unable to use string.contains() in kotlin `when` expression", "body": "<p>You can use Kotlin <strong>in</strong></p>\n\n<pre><code>if (\"Grid\" in strAction) { println(\"position is 1\") }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 75, "user_id": 495836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf94462872707bd5550e6900e4e217c8?s=128&d=identicon&r=PG", "display_name": "safepost", "link": "https://stackoverflow.com/users/495836/safepost"}, "edited": false, "score": 3, "creation_date": 1554813831, "post_id": 54254623, "comment_id": 97882772, "body": "Thanks that&#39;s the best reply imo, there is a way to &quot;factorise&quot; the &quot;contains&quot; so i don&#39;t need to type it every line if I only want contains directive ?"}], "tags": [], "owner": {"reputation": 1093, "user_id": 786434, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a09afc97177408a422b81de4ed58fec8?s=128&d=identicon&r=PG", "display_name": "Brian", "link": "https://stackoverflow.com/users/786434/brian"}, "is_accepted": false, "score": 36, "last_activity_date": 1547816752, "creation_date": 1547816752, "answer_id": 54254623, "question_id": 47434438, "link": "https://stackoverflow.com/questions/47434438/unable-to-use-string-contains-in-kotlin-when-expression/54254623#54254623", "title": "Unable to use string.contains() in kotlin `when` expression", "body": "<p>You can also combine <code>when</code> and <code>with</code> to get a nice syntax:</p>\n\n<pre><code>with(strAction) {\n  when {\n    contains(\"Grid\") -&gt; println(\"position is 1\")\n    contains(\"bar\") -&gt; println(\"foo\")\n    startsWith(\"foo\") -&gt; println(\"bar\")\n    else -&gt; println(\"foobar\")\n  }\n}\n</code></pre>\n\n<p>You can also save the result of <code>when</code> into a property:</p>\n\n<pre><code>val result = with(strAction) {\n  when {\n    contains(\"bar\") -&gt; \"foo\"\n    startsWith(\"foo\") -&gt; \"bar\"\n    else -&gt; \"foobar\"\n  }\n}\n\nprintln(result)\n</code></pre>\n"}], "owner": {"reputation": 1039, "user_id": 5400914, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/798902f710714568d56d720b6d06e685?s=128&d=identicon&r=PG&f=1", "display_name": "yogesh lokhande", "link": "https://stackoverflow.com/users/5400914/yogesh-lokhande"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15019, "favorite_count": 0, "accepted_answer_id": 47434529, "answer_count": 6, "score": 23, "last_activity_date": 1605451996, "creation_date": 1511352769, "last_edit_date": 1523530303, "question_id": 47434438, "link": "https://stackoverflow.com/questions/47434438/unable-to-use-string-contains-in-kotlin-when-expression", "title": "Unable to use string.contains() in kotlin `when` expression", "body": "<p>I am new to <code>kotlin</code>, I have tried several ways to use following code </p>\n\n<pre><code>val strAction = \"Grid\"\n when(strAction){\n   strAction.contains(\"Grid\")-&gt;println(\"position is 1\")\n }\n</code></pre>\n\n<p>In above code <strong>strAction.contains(\"Grid\")</strong> this line is showing me an error that Incompatible Type</p>\n\n<p><a href=\"https://i.stack.imgur.com/zwvqB.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zwvqB.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["java", "kotlin", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 152, "user_id": 5127677, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh4.googleusercontent.com/-YYh3eB1an3g/AAAAAAAAAAI/AAAAAAAA3_Q/nRTbOsGlnzc/photo.jpg?sz=128", "display_name": "Yahor Urbanovich", "link": "https://stackoverflow.com/users/5127677/yahor-urbanovich"}, "edited": false, "score": 0, "creation_date": 1511365323, "post_id": 47437845, "comment_id": 81831926, "body": "Thanks, maybe this is the only solution to date."}, {"owner": {"reputation": 6208, "user_id": 2754146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QallG.png?s=128&g=1", "display_name": "Grimthorr", "link": "https://stackoverflow.com/users/2754146/grimthorr"}, "reply_to_user": {"reputation": 152, "user_id": 5127677, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh4.googleusercontent.com/-YYh3eB1an3g/AAAAAAAAAAI/AAAAAAAA3_Q/nRTbOsGlnzc/photo.jpg?sz=128", "display_name": "Yahor Urbanovich", "link": "https://stackoverflow.com/users/5127677/yahor-urbanovich"}, "edited": false, "score": 0, "creation_date": 1511365927, "post_id": 47437845, "comment_id": 81832375, "body": "I believe so, because the <code>toObjects()</code> method is basically a convenience method for performing the logic &amp; iteration of <code>for (document in snapshot.getDocuments()) document.toObject()</code> for you, but is returning it as a list instead."}], "tags": [], "owner": {"reputation": 6208, "user_id": 2754146, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QallG.png?s=128&g=1", "display_name": "Grimthorr", "link": "https://stackoverflow.com/users/2754146/grimthorr"}, "is_accepted": true, "score": 1, "last_activity_date": 1511362888, "creation_date": 1511362888, "answer_id": 47437845, "question_id": 47433917, "link": "https://stackoverflow.com/questions/47433917/how-to-retrieve-all-documents-from-firestore-collection-in-pojo-class/47437845#47437845", "title": "How to retrieve all documents from Firestore collection in POJO class?", "body": "<p>There's no convenience method like <code>toObjects()</code> that can create a map instead, but you could iterate through each document manually and add it to a map.</p>\n\n<p>The documents in the collection are returned as a list, so you can iterate through each document, convert it to a <code>Category</code> instance and add it to your map manually, something like this:</p>\n\n<pre><code>query.addSnapshotListener { querySnapshot, firebaseFirestoreException -&gt;\n    if (firebaseFirestoreException != null) {\n        if (!emitter.isDisposed) {\n            TODO(\"implement new exception logic\")\n        }\n    } else {\n        val categories = HashMap&lt;String, Category&gt;()\n        for (document in querySnapshot.getDocuments()) {\n            categories.put(document.getId(), document.toObject(Category::class.java))\n        }\n        val categoriesEntity = CategoriesEntity()\n        categoriesEntity.setCategories(categories)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 152, "user_id": 5127677, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh4.googleusercontent.com/-YYh3eB1an3g/AAAAAAAAAAI/AAAAAAAA3_Q/nRTbOsGlnzc/photo.jpg?sz=128", "display_name": "Yahor Urbanovich", "link": "https://stackoverflow.com/users/5127677/yahor-urbanovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1411, "favorite_count": 0, "accepted_answer_id": 47437845, "answer_count": 1, "score": 2, "last_activity_date": 1511365424, "creation_date": 1511351174, "last_edit_date": 1511365424, "question_id": 47433917, "link": "https://stackoverflow.com/questions/47433917/how-to-retrieve-all-documents-from-firestore-collection-in-pojo-class", "title": "How to retrieve all documents from Firestore collection in POJO class?", "body": "<p>I have some specific question about Firebase Firestore. I have a Firestore example model like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/5KsAY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5KsAY.png\" alt=\"Firestore screenshot\"></a></p>\n\n<p><strong>Categories</strong> is collection, inside some documents. I try to get all documents from collection like this:</p>\n\n<pre><code>query.addSnapshotListener { querySnapshot, firebaseFirestoreException -&gt;\n    if (firebaseFirestoreException != null) {\n        if (!emitter.isDisposed) {\n            TODO(\"implement new exception logic\")\n        }\n    } else {\n        val value = querySnapshot.toObjects(Category::class.java)\n    }\n}\n</code></pre>\n\n<p>In this case I get List of <code>Category</code> documents. \nCan I create class <code>CategoriesEntity</code> like this and get this model class in <code>addSnapshotListener</code>?</p>\n\n<pre><code>public class CategoriesEntity {\n\n    private Map&lt;String, Category&gt; categories;\n\n    public CategoriesEntity() {\n    }\n\n    public Map&lt;String, Category&gt; getCategories() {\n        return categories;\n    }\n\n    public void setCategories(Map&lt;String, Category&gt; categories) {\n        this.categories = categories;\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "testing", "kotlin", "android-studio-3.0"], "comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1511350994, "post_id": 47433302, "comment_id": 81821835, "body": "What&#39;s you configuration? What&#39;s the gradle.build? How does it relate to kotlin? What were the previous test times?"}, {"owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1511351925, "post_id": 47433302, "comment_id": 81822443, "body": "Nothig special, simple android plugin, simple kotlin plugin... Previous test running time is about 1 minute. I run tests by clicking icon near test class name."}], "answers": [{"comments": [{"owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "edited": false, "score": 0, "creation_date": 1511840254, "post_id": 47511428, "comment_id": 82003336, "body": "Ok, Temporary solution for fast running Kotlin AndroidJUnit tests: manually add AndroidJUnit run configuration"}], "tags": [], "owner": {"reputation": 31, "user_id": 4750144, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Ha3_icCc_3Q/AAAAAAAAAAI/AAAAAAAAZ_Y/Z7hdEOHH2JU/photo.jpg?sz=128", "display_name": "Rodrigo Santos", "link": "https://stackoverflow.com/users/4750144/rodrigo-santos"}, "is_accepted": false, "score": 3, "last_activity_date": 1511787045, "creation_date": 1511787045, "answer_id": 47511428, "question_id": 47433302, "link": "https://stackoverflow.com/questions/47433302/why-running-kotlin-tests-so-slow-in-androidstudio-3-0/47511428#47511428", "title": "Why running kotlin tests so slow in AndroidStudio 3.0", "body": "<p>It's a (now) known issue for Kotlin in AS 3\n<a href=\"https://issuetracker.google.com/issues/37028496\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/37028496</a>\nThis happens because AS calls the assemble* tasks (which build up the APK) for kotlin unit tests.</p>\n"}, {"tags": [], "owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "is_accepted": true, "score": 1, "last_activity_date": 1521742502, "creation_date": 1521742502, "answer_id": 49435768, "question_id": 47433302, "link": "https://stackoverflow.com/questions/47433302/why-running-kotlin-tests-so-slow-in-androidstudio-3-0/49435768#49435768", "title": "Why running kotlin tests so slow in AndroidStudio 3.0", "body": "<p><a href=\"https://issuetracker.google.com/issues/37028496#comment11\" rel=\"nofollow noreferrer\">Fixed</a> in Android Studio 3.1 RC. There is workaround for previous studio versions: manually create an AndroidJUnit configuration.</p>\n"}], "owner": {"reputation": 497, "user_id": 3422245, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/330d92532a060be3bb43758770067089?s=128&d=identicon&r=PG", "display_name": "Alexey Nikitin", "link": "https://stackoverflow.com/users/3422245/alexey-nikitin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 897, "favorite_count": 0, "accepted_answer_id": 49435768, "answer_count": 2, "score": 3, "last_activity_date": 1522419266, "creation_date": 1511349285, "last_edit_date": 1522419266, "question_id": 47433302, "link": "https://stackoverflow.com/questions/47433302/why-running-kotlin-tests-so-slow-in-androidstudio-3-0", "title": "Why running kotlin tests so slow in AndroidStudio 3.0", "body": "<p>When I updated project to AndroidStudio 3 unit tests became runnig slowly (about 6 mimutes) than AndroidStudio 2. Recently, I updated project to AndroidStudio3.1, but test running time stayed the same. </p>\n"}, {"tags": ["android", "kotlin", "android-support-library"], "comments": [{"owner": {"reputation": 7579, "user_id": 7130121, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/1251574091562065/picture?type=large", "display_name": "Abhishek Singh", "link": "https://stackoverflow.com/users/7130121/abhishek-singh"}, "edited": false, "score": 0, "creation_date": 1511349744, "post_id": 47433238, "comment_id": 81821016, "body": "<code>ifRoom</code> working as intended if you have space on toolbar you will see item in toolbar otherwise in overflow-menu. it will not collapse to overflow menu if toolbar collapse. you need to detect collapsing toolbar collapse event and call <code>invalidateOptionMenu()</code>."}, {"owner": {"reputation": 5612, "user_id": 808019, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5d71c5402e4d270e32f6c63aaf1fc63b?s=128&d=identicon&r=PG", "display_name": "peshkira", "link": "https://stackoverflow.com/users/808019/peshkira"}, "reply_to_user": {"reputation": 7579, "user_id": 7130121, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/1251574091562065/picture?type=large", "display_name": "Abhishek Singh", "link": "https://stackoverflow.com/users/7130121/abhishek-singh"}, "edited": false, "score": 0, "creation_date": 1511350511, "post_id": 47433238, "comment_id": 81821537, "body": "@Abhishek Singh good idea, but unfortunately it doesn&#39;t help. I have the title of the collapsible toolbar disabled and the title is always on top. I have also added an appbar layout offset listener and invalidated the options menu on collapse - no change."}, {"owner": {"reputation": 7579, "user_id": 7130121, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/1251574091562065/picture?type=large", "display_name": "Abhishek Singh", "link": "https://stackoverflow.com/users/7130121/abhishek-singh"}, "edited": false, "score": 0, "creation_date": 1511351398, "post_id": 47433238, "comment_id": 81822094, "body": "if title of the collapsible toolbar disabled which title are you showing?"}, {"owner": {"reputation": 5612, "user_id": 808019, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5d71c5402e4d270e32f6c63aaf1fc63b?s=128&d=identicon&r=PG", "display_name": "peshkira", "link": "https://stackoverflow.com/users/808019/peshkira"}, "reply_to_user": {"reputation": 7579, "user_id": 7130121, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/1251574091562065/picture?type=large", "display_name": "Abhishek Singh", "link": "https://stackoverflow.com/users/7130121/abhishek-singh"}, "edited": false, "score": 0, "creation_date": 1511351629, "post_id": 47433238, "comment_id": 81822243, "body": "of the toolbar itself"}, {"owner": {"reputation": 7579, "user_id": 7130121, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/1251574091562065/picture?type=large", "display_name": "Abhishek Singh", "link": "https://stackoverflow.com/users/7130121/abhishek-singh"}, "edited": false, "score": 0, "creation_date": 1511351733, "post_id": 47433238, "comment_id": 81822308, "body": "have u used <code>setSupportActionBar(toolbar)</code>"}, {"owner": {"reputation": 5612, "user_id": 808019, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5d71c5402e4d270e32f6c63aaf1fc63b?s=128&d=identicon&r=PG", "display_name": "peshkira", "link": "https://stackoverflow.com/users/808019/peshkira"}, "reply_to_user": {"reputation": 7579, "user_id": 7130121, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/1251574091562065/picture?type=large", "display_name": "Abhishek Singh", "link": "https://stackoverflow.com/users/7130121/abhishek-singh"}, "edited": false, "score": 0, "creation_date": 1511351794, "post_id": 47433238, "comment_id": 81822355, "body": "yes <code>setSupportActionBar(binding.rmToolbar)</code> <code>supportActionBar?.setDisplayHomeAsUpEnabled(true)</code> <code>supportActionBar?.setDisplayShowTitleEnabled(true)</code>"}, {"owner": {"reputation": 7579, "user_id": 7130121, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/1251574091562065/picture?type=large", "display_name": "Abhishek Singh", "link": "https://stackoverflow.com/users/7130121/abhishek-singh"}, "edited": false, "score": 1, "creation_date": 1511351875, "post_id": 47433238, "comment_id": 81822411, "body": "can you show your layout and java code so that i can try by myself"}, {"owner": {"reputation": 2204, "user_id": 3983130, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4db8f1ba3c7d9a8d76cfb36bd22936a8?s=128&d=identicon&r=PG", "display_name": "Dilip", "link": "https://stackoverflow.com/users/3983130/dilip"}, "edited": false, "score": 0, "creation_date": 1511352694, "post_id": 47433238, "comment_id": 81822933, "body": "hey are you try just using app:showAsAction=&quot;collapseActionView&quot; in menu.xml file"}], "answers": [{"comments": [{"owner": {"reputation": 5612, "user_id": 808019, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5d71c5402e4d270e32f6c63aaf1fc63b?s=128&d=identicon&r=PG", "display_name": "peshkira", "link": "https://stackoverflow.com/users/808019/peshkira"}, "edited": false, "score": 0, "creation_date": 1511353208, "post_id": 47434528, "comment_id": 81823246, "body": "Yes! Unfortunately, this always collapses the items. Even when the title is very short and there is enough space for all 3 items. Thanks, though."}], "tags": [], "owner": {"reputation": 2204, "user_id": 3983130, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4db8f1ba3c7d9a8d76cfb36bd22936a8?s=128&d=identicon&r=PG", "display_name": "Dilip", "link": "https://stackoverflow.com/users/3983130/dilip"}, "is_accepted": false, "score": 0, "last_activity_date": 1511353017, "creation_date": 1511353017, "answer_id": 47434528, "question_id": 47433238, "link": "https://stackoverflow.com/questions/47433238/both-appshowasaction-ifroom-and-androidshowasaction-ifroom-do-not-work-as/47434528#47434528", "title": "both app:showAsAction=&quot;ifRoom&quot; and android:showAsAction=&quot;ifRoom&quot; do not work as expected", "body": "<p>Please try this hope so it will be helpful for you. I don't know if this works in general but in my case it does:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n  xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n  &lt;item \n      android:id=\"@+id/action_search\"\n      android:title=\"@string/action_search\"\n      android:icon=\"@drawable/ic_search_white_24dp\"\n      android:orderInCategory=\"1\"\n      app:actionViewClass=\"android.support.v7.widget.SearchView\"\n      app:showAsAction=\"always|collapseActionView\"/&gt;\n\n  &lt;item \n      android:id=\"@+id/action_favorite\"\n      android:title=\"@string/action_favorite_add\"\n      android:icon=\"@drawable/ic_favorite_border_white_24dp\"\n      android:orderInCategory=\"2\"\n      app:showAsAction=\"collapseActionView\"\n      /&gt;\n\n  &lt;item \n      android:id=\"@+id/action_info\"\n      android:title=\"@string/action_info\"\n      android:icon=\"@drawable/ic_info_outline_white_24dp\"\n      android:orderInCategory=\"3\"\n      app:showAsAction=\"collapseActionView\"\n      /&gt;\n&lt;/menu&gt;\n</code></pre>\n"}], "owner": {"reputation": 5612, "user_id": 808019, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5d71c5402e4d270e32f6c63aaf1fc63b?s=128&d=identicon&r=PG", "display_name": "peshkira", "link": "https://stackoverflow.com/users/808019/peshkira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 579, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1511353017, "creation_date": 1511349081, "last_edit_date": 1511352394, "question_id": 47433238, "link": "https://stackoverflow.com/questions/47433238/both-appshowasaction-ifroom-and-androidshowasaction-ifroom-do-not-work-as", "title": "both app:showAsAction=&quot;ifRoom&quot; and android:showAsAction=&quot;ifRoom&quot; do not work as expected", "body": "<p>I have an options menu defined as</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"\n  xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n  &lt;item \n      android:id=\"@+id/action_search\"\n      android:title=\"@string/action_search\"\n      android:icon=\"@drawable/ic_search_white_24dp\"\n      android:orderInCategory=\"1\"\n      app:actionViewClass=\"android.support.v7.widget.SearchView\"\n      app:showAsAction=\"always|collapseActionView\"/&gt;\n\n  &lt;item \n      android:id=\"@+id/action_favorite\"\n      android:title=\"@string/action_favorite_add\"\n      android:icon=\"@drawable/ic_favorite_border_white_24dp\"\n      android:orderInCategory=\"2\"\n      app:showAsAction=\"ifRoom\"\n      /&gt;\n\n  &lt;item \n      android:id=\"@+id/action_info\"\n      android:title=\"@string/action_info\"\n      android:icon=\"@drawable/ic_info_outline_white_24dp\"\n      android:orderInCategory=\"3\"\n      app:showAsAction=\"ifRoom\"\n      /&gt;\n&lt;/menu&gt;\n</code></pre>\n\n<p>The options menu itself works correctly, however the ifRoom actions do not collapse to an overflow when I have a longer toolbar title. Instead the toolbar title gets truncated.</p>\n\n<p>If I use <code>android:showAsAction</code> instead of <code>app:showAsAction</code> and I ignore the error regarding the support library, the items are always collapsed to an overflow. No matter the length of the title.</p>\n\n<p>I should also mention, that the toolbar is within a collapsible toolbar</p>\n\n<p>I would like to the have the search action item to appear always (no matter the length of the title) and the other two items to appear only if the toolbar title is not truncated.</p>\n\n<p><strong>UPDATE</strong>: layout and onCreate</p>\n\n<pre><code>&lt;android.support.design.widget.CoordinatorLayout\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:fitsSystemWindows=\"true\"\n    android:background=\"@color/white\"&gt;\n\n    &lt;android.support.design.widget.AppBarLayout\n        android:id=\"@+id/rm_app_bar_layout\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"160dp\"\n        android:layout_gravity=\"top\"\n        android:fitsSystemWindows=\"true\"\n        android:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"\n        app:elevation=\"0dp\"&gt;\n\n        &lt;android.support.design.widget.CollapsingToolbarLayout\n            android:id=\"@+id/rm_collapsing_toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:fitsSystemWindows=\"true\"\n            app:titleEnabled=\"false\"\n            app:layout_scrollFlags=\"scroll|snap|exitUntilCollapsed\"\n            app:contentScrim=\"@color/colorPrimary\"\n            app:statusBarScrim=\"?attr/colorPrimary\"\n            &gt;\n\n            &lt;RelativeLayout\n                android:id=\"@+id/rm_expanded_toolbar\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:fitsSystemWindows=\"true\"\n                app:layout_collapseMode=\"parallax\"&gt;\n\n                &lt;ImageView\n                    android:id=\"@+id/rm_img_toolbar\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"match_parent\"\n                    app:imagePlaceholder=\"@{@drawable/img_placeholder}\"\n                    app:imageUrl=\"@{vm.imageUrl}\"\n                    android:scaleType=\"centerCrop\"\n                    /&gt;\n\n                &lt;!-- Some other layouts overlayed over the image view --&gt;\n\n            &lt;/RelativeLayout&gt;\n\n            &lt;android.support.v7.widget.Toolbar\n                android:id=\"@+id/rm_toolbar\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"?attr/actionBarSize\"\n                app:title=\"@{vm.name}\"\n                app:layout_collapseMode=\"pin\"\n                app:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\"/&gt;\n\n        &lt;/android.support.design.widget.CollapsingToolbarLayout&gt;\n\n    &lt;/android.support.design.widget.AppBarLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"\n        app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"&gt;\n\n    &lt;!-- rest of layout --&gt;\n\n    &lt;/LinearLayout&gt;\n\n&lt;/android.support.design.widget.CoordinatorLayout&gt;\n</code></pre>\n\n<p>onCreate</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n  super.onCreate(savedInstanceState)\n  activityComponent().inject(this)\n\n  setAndBindContentView(R.layout.activity_some_activity, savedInstanceState)\n\n  setTranslucentStatusBar()\n  setSupportActionBar(binding.rmToolbar)\n  supportActionBar?.let {\n    it.setDisplayHomeAsUpEnabled(true)\n    it.setDisplayShowTitleEnabled(true)\n  }\n\n  binding.rmAppBarLayout.addOnOffsetChangedListener(object: AppBarStateChangeListener() {\n    override fun onStateChanged(appBarLayout: AppBarLayout?, state: State) {\n      if (state != State.IDLE) { // collapsed or expanded\n        invalidateOptionsMenu()\n      }\n    }\n  })\n\n  // some other view code\n\n  // viewModel load code\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "is_accepted": true, "score": 1, "last_activity_date": 1511349582, "last_edit_date": 1511349582, "creation_date": 1511349190, "answer_id": 47433279, "question_id": 47432204, "link": "https://stackoverflow.com/questions/47432204/kotlin-anonymous-class-this/47433279#47433279", "title": "Kotlin anonymous class this", "body": "<p>The problem here is that Kotlin is asumming <code>removeOnGlobalLayoutListener</code> will need a <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM expression</a>. Then when you are passing <code>{ this }</code>, you are just creating another <code>OnGlobalLayoutListener</code>instance, here the equivalent:</p>\n\n<pre><code>view.getViewTreeObserver().removeOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n    @Override\n    public void onGlobalLayout() {\n        YourOuterClass.this;\n    }\n});\n</code></pre>\n\n<p>And this listener doesn't exist in the current listeners list</p>\n\n<p>In order to solve this, you have to declare your <code>OnGlobalLayoutListener</code> as an object and not as a lamba, like this you can reference the correct \"<strong>this</strong>\" and remove the listener properly once is called.</p>\n\n<pre><code>image_view.viewTreeObserver.addOnGlobalLayoutListener(object : ViewTreeObserver.OnGlobalLayoutListener {\n    override fun onGlobalLayout() {\n        image_view.viewTreeObserver.removeOnGlobalLayoutListener(this)\n        Log.d(\"Should be called once\", \"Height = \" + image_view.height + \", Width = \" + image_view.width)\n    }\n})\n</code></pre>\n"}], "owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1068, "favorite_count": 0, "accepted_answer_id": 47433279, "answer_count": 1, "score": 1, "last_activity_date": 1511349582, "creation_date": 1511346250, "question_id": 47432204, "link": "https://stackoverflow.com/questions/47432204/kotlin-anonymous-class-this", "title": "Kotlin anonymous class this", "body": "<p>I am using the sample code in this question(<a href=\"https://stackoverflow.com/questions/3591784/getwidth-and-getheight-of-view-returns-0\">getWidth() and getHeight() of View returns 0</a>).</p>\n\n<p>It had the following code,</p>\n\n<pre><code>view.getViewTreeObserver().addOnGlobalLayoutListener(new ViewTreeObserver.OnGlobalLayoutListener() {\n            @Override\n            public void onGlobalLayout() {\n                view.getViewTreeObserver().removeOnGlobalLayoutListener(this);\n                view.getHeight(); //height is ready\n            }\n        });\n</code></pre>\n\n<p>And I wrote it in Kotlin like this</p>\n\n<pre><code>image_view.viewTreeObserver.addOnGlobalLayoutListener{\n    image_view.viewTreeObserver.removeOnGlobalLayoutListener { this }\n    Log.d(\"Should be called once\", \"Height = \" + image_view.height + \", Width = \" + image_view.width)\n};\n</code></pre>\n\n<p>The result was,</p>\n\n<pre><code>11-22 19:18:33.319 4754-4754/loser.qrcode D/Should\u00a0be\u00a0called\u00a0once: Height = 672, Width = 672\n11-22 19:18:33.328 4754-4754/loser.qrcode D/Should\u00a0be\u00a0called\u00a0once: Height = 672, Width = 672\n</code></pre>\n\n<p>So, it was called twice. That is, <code>removeOnGlobalLayoutListener</code> did not work. What should I use instead of <code>this</code>?</p>\n"}, {"tags": ["android", "kotlin", "observable", "reactive-programming", "rx-java2"], "comments": [{"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1511350514, "post_id": 47431357, "comment_id": 81821538, "body": "I&#39;d define a static <code>static final Date DEFAULT_DATE = new Date(0L)</code> instance and use it as a default missing value indicator. In the combiner function, I&#39;d then see if the parameter is <code>== DEFAULT_DATE</code>."}, {"owner": {"reputation": 505, "user_id": 5163331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f43936410dc2c4fda1ab4b0670efd79?s=128&d=identicon&r=PG&f=1", "display_name": "m.zander", "link": "https://stackoverflow.com/users/5163331/m-zander"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1511358186, "post_id": 47431357, "comment_id": 81826635, "body": "@akarnokd but what if the user selects 1/1/1970 then?"}, {"owner": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1511359083, "post_id": 47431357, "comment_id": 81827303, "body": "It&#39;s not what the date is but its unique object reference that matters. You have to use reference equals instead of Object.equals to properly distinguish between 1/1/1970 and the not-present indicator."}, {"owner": {"reputation": 505, "user_id": 5163331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f43936410dc2c4fda1ab4b0670efd79?s=128&d=identicon&r=PG&f=1", "display_name": "m.zander", "link": "https://stackoverflow.com/users/5163331/m-zander"}, "reply_to_user": {"reputation": 64143, "user_id": 61158, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/db0a0198951e15aadcb42b40452c29f7?s=128&d=identicon&r=PG", "display_name": "akarnokd", "link": "https://stackoverflow.com/users/61158/akarnokd"}, "edited": false, "score": 0, "creation_date": 1511366340, "post_id": 47431357, "comment_id": 81832684, "body": "@akarnokd of course. My mistake. I am going to try that. Will update you soon."}], "owner": {"reputation": 505, "user_id": 5163331, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f43936410dc2c4fda1ab4b0670efd79?s=128&d=identicon&r=PG&f=1", "display_name": "m.zander", "link": "https://stackoverflow.com/users/5163331/m-zander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1030, "favorite_count": 0, "answer_count": 0, "score": 4, "last_activity_date": 1511344043, "creation_date": 1511344043, "question_id": 47431357, "link": "https://stackoverflow.com/questions/47431357/optional-observables-in-combinelatest", "title": "Optional Observables in combineLatest", "body": "<p>As definied combineLatest in rx emites only if all values have changed at least once.</p>\n\n<blockquote>\n  <p>(so long as each of the source Observables has emitted at least one\n  item)</p>\n</blockquote>\n\n<p>I use it to manipulate views within my android views.\nFor example, I enable a call to action button as soon as all observables emitted a valid value. Otherwise I disable it.</p>\n\n<pre><code>    Observable.combineLatest(\n            toObservable(email),\n            toObservable(username),\n            toObservable(status),\n            toObservable(phonenumber),\n            toObservable(birthdate),\n            Function5&lt;String, String, String, String, Date, Boolean&gt; { email, username, status, phonenumber, birthdate -&gt;\n                validator?.checkEmail(email) ?: true\n                // and much more...\n            }\n    ).subscribeBy { ctaEnabled.set(it) }\n</code></pre>\n\n<p>With that snippet the <code>ctaEnabled</code> is only set to true if all values at least changed one. Because Function5 is only called if all Observables have emitted at least 1 item.</p>\n\n<p>BUT, the field for status and birthdate are optional and must not be filled.\nBecause all ObservableFields are initialized with null and can not explicitly set to null (not allowed in rxjava 2) status and birthday are not emitted when the user does not type text into it.</p>\n\n<pre><code>val status: ObservableField&lt;String&gt; = ObservableField()\nval phonenumber: ObservableField&lt;String&gt; = ObservableField()\nval birthdate: ObservableField&lt;Date&gt; = ObservableField()\n// ... and so on\n</code></pre>\n\n<p>I considered to use <code>.startWith(\"\")</code> which solves the problem for the string Observables because all string Observables emit at least an empty string.\nBut I can't use this solution for the Date field because it is nullable.</p>\n\n<p>Maybe <code>combineLatest</code> is not the operation I am searching for but I can't find a proper way to handle the optional observables.</p>\n\n<p>Best regards &amp; thanks,\nMoritz</p>\n"}, {"tags": ["android", "base64", "kotlin"], "comments": [{"owner": {"reputation": 731, "user_id": 1267975, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-u_81aJDLdPE/AAAAAAAAAAI/AAAAAAAAEEs/v8fw9iRZhkw/photo.jpg?sz=128", "display_name": "Ashish Mathew", "link": "https://stackoverflow.com/users/1267975/ashish-mathew"}, "edited": false, "score": 0, "creation_date": 1511344247, "post_id": 47431337, "comment_id": 81817315, "body": "What is the import statement you are using?"}, {"owner": {"reputation": 2270, "user_id": 3375151, "user_type": "registered", "accept_rate": 15, "profile_image": "https://graph.facebook.com/100001056706994/picture?type=large", "display_name": "Alexey", "link": "https://stackoverflow.com/users/3375151/alexey"}, "reply_to_user": {"reputation": 731, "user_id": 1267975, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-u_81aJDLdPE/AAAAAAAAAAI/AAAAAAAAEEs/v8fw9iRZhkw/photo.jpg?sz=128", "display_name": "Ashish Mathew", "link": "https://stackoverflow.com/users/1267975/ashish-mathew"}, "edited": false, "score": 0, "creation_date": 1511344360, "post_id": 47431337, "comment_id": 81817397, "body": "import java.util.*"}, {"owner": {"reputation": 731, "user_id": 1267975, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-u_81aJDLdPE/AAAAAAAAAAI/AAAAAAAAEEs/v8fw9iRZhkw/photo.jpg?sz=128", "display_name": "Ashish Mathew", "link": "https://stackoverflow.com/users/1267975/ashish-mathew"}, "edited": false, "score": 0, "creation_date": 1511344463, "post_id": 47431337, "comment_id": 81817456, "body": "java.util.Base64 has decoder function, android.util.Base64 has decode function and exists from API 8"}], "answers": [{"comments": [{"owner": {"reputation": 732, "user_id": 8607294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TiG89.jpg?s=128&g=1", "display_name": "SahdevRajput74", "link": "https://stackoverflow.com/users/8607294/sahdevrajput74"}, "edited": false, "score": 2, "creation_date": 1520223287, "post_id": 47431502, "comment_id": 85211860, "body": "Right answer !!"}, {"owner": {"reputation": 59, "user_id": 7787769, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ipcyG.png?s=128&g=1", "display_name": "kostas poimenidhs", "link": "https://stackoverflow.com/users/7787769/kostas-poimenidhs"}, "edited": false, "score": 0, "creation_date": 1548621619, "post_id": 47431502, "comment_id": 95597042, "body": "you are the best!!!! You don&#39;t know how much time i search for the correct question!!!!!"}], "tags": [], "owner": {"reputation": 7579, "user_id": 7130121, "user_type": "registered", "accept_rate": 63, "profile_image": "https://graph.facebook.com/1251574091562065/picture?type=large", "display_name": "Abhishek Singh", "link": "https://stackoverflow.com/users/7130121/abhishek-singh"}, "is_accepted": false, "score": 121, "last_activity_date": 1557752007, "last_edit_date": 1557752007, "creation_date": 1511344456, "answer_id": 47431502, "question_id": 47431337, "link": "https://stackoverflow.com/questions/47431337/base64-support-for-different-api-levels/47431502#47431502", "title": "Base64 support for different API levels", "body": "<p>Use <strong><code>android.util.Base64</code></strong> will resolve your problem its available from API 8</p>\n\n<pre><code>data = android.util.Base64.decode(str, android.util.Base64.DEFAULT);\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>Log.i(TAG, \"data: \" + new String(data));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 731, "user_id": 1267975, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-u_81aJDLdPE/AAAAAAAAAAI/AAAAAAAAEEs/v8fw9iRZhkw/photo.jpg?sz=128", "display_name": "Ashish Mathew", "link": "https://stackoverflow.com/users/1267975/ashish-mathew"}, "is_accepted": false, "score": 6, "last_activity_date": 1511344568, "creation_date": 1511344568, "answer_id": 47431549, "question_id": 47431337, "link": "https://stackoverflow.com/questions/47431337/base64-support-for-different-api-levels/47431549#47431549", "title": "Base64 support for different API levels", "body": "<p>You should be using the <strong>android.util.Base64</strong> class. It is supported from API 8, </p>\n\n<p>The Base64.getDecoder() function is part of java.util.Base64 and new in Java8.</p>\n"}, {"tags": [], "owner": {"reputation": 508, "user_id": 6947709, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uQvyc.jpg?s=128&g=1", "display_name": "Mustofa Kamal", "link": "https://stackoverflow.com/users/6947709/mustofa-kamal"}, "is_accepted": false, "score": 3, "last_activity_date": 1575190723, "creation_date": 1575190723, "answer_id": 59124055, "question_id": 47431337, "link": "https://stackoverflow.com/questions/47431337/base64-support-for-different-api-levels/59124055#59124055", "title": "Base64 support for different API levels", "body": "<pre><code>private String encodeFromImage() {\n        String encode = null;\n        if (imageView.getVisibility() == View.VISIBLE) {\n            Bitmap bitmap = ((BitmapDrawable) imageView.getDrawable()).getBitmap();\n            ByteArrayOutputStream stream = new ByteArrayOutputStream();\n            bitmap.compress(Bitmap.CompressFormat.PNG, 100, stream);\n            //encode = Base64.encodeToString(stream.toByteArray(), Base64.DEFAULT);\n            //String path = MediaStore.Images.Media.insertImage(getContentResolver(), bitmap,\"Title\",null);\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n                encode = Base64.getEncoder().encodeToString(stream.toByteArray());\n            } else {\n                encode = android.util.Base64.encodeToString(stream.toByteArray(), android.util.Base64.DEFAULT);\n            }\n        }\n        return encode;\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3667, "user_id": 1064316, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ee990de45dd5eb0fd05fdc94d6454c5?s=128&d=identicon&r=PG&f=1", "display_name": "norbDEV", "link": "https://stackoverflow.com/users/1064316/norbdev"}, "is_accepted": false, "score": 2, "last_activity_date": 1605701426, "creation_date": 1605701426, "answer_id": 64892843, "question_id": 47431337, "link": "https://stackoverflow.com/questions/47431337/base64-support-for-different-api-levels/64892843#64892843", "title": "Base64 support for different API levels", "body": "<pre><code>fun String.toBase64(): String {\n    return String(\n        android.util.Base64.encode(this.toByteArray(), android.util.Base64.DEFAULT),\n        StandardCharsets.UTF_8\n    )\n}\n\n\nfun String.fromBase64(): String {\n    return String(\n        android.util.Base64.decode(this, android.util.Base64.DEFAULT),\n        StandardCharsets.UTF_8\n    )\n}\n</code></pre>\n"}], "owner": {"reputation": 2270, "user_id": 3375151, "user_type": "registered", "accept_rate": 15, "profile_image": "https://graph.facebook.com/100001056706994/picture?type=large", "display_name": "Alexey", "link": "https://stackoverflow.com/users/3375151/alexey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22331, "favorite_count": 3, "answer_count": 4, "score": 43, "last_activity_date": 1605701426, "creation_date": 1511343957, "question_id": 47431337, "link": "https://stackoverflow.com/questions/47431337/base64-support-for-different-api-levels", "title": "Base64 support for different API levels", "body": "<p>In my Android app</p>\n\n<p><strong>build.gradle</strong></p>\n\n<pre><code>android {\n    compileSdkVersion 27\n    defaultConfig {\n        minSdkVersion 16\n        targetSdkVersion 27\n        ...\n        }\n    ....\n}\n</code></pre>\n\n<p><strong>Kotlin code</strong></p>\n\n<pre><code>val data = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n    Base64.getDecoder().decode(str)\n} else {\n    Base64.decode(str, Base64.DEFAULT) // Unresolved reference: decode\n}\n</code></pre>\n\n<p>Obviously, I got compilation error, when using Base64 variant prior to API 24.</p>\n\n<p>But how can I support all the API levels and use Base64 as before 24, as after?</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4427, "user_id": 4706743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64b05c3b09628ba8955d6d7a188271af?s=128&d=identicon&r=PG&f=1", "display_name": "D3xter", "link": "https://stackoverflow.com/users/4706743/d3xter"}, "edited": false, "score": 1, "creation_date": 1511345722, "post_id": 47429686, "comment_id": 81818255, "body": "Why not use <code>String?.isNullorEmpty()</code> from the stdlib? <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/is-null-or-empty.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/&hellip;</a>  And I&#39;d create extension functions instead of regular functions."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1511338697, "last_edit_date": 1511338697, "creation_date": 1511338325, "answer_id": 47429686, "question_id": 47429484, "link": "https://stackoverflow.com/questions/47429484/kotlin-code-refactoring/47429686#47429686", "title": "Kotlin code refactoring", "body": "<p>Make two separate overloaded methods for <code>List&lt;*&gt;?</code> and <code>String?</code>:</p>\n\n<pre><code>private fun checkIfNotEmpty(field: String?): Boolean {\n    return field != null &amp;&amp; field.isNotEmpty()\n}\nprivate fun checkIfNotEmpty(field: List&lt;*&gt;?): Boolean {\n    return field != null &amp;&amp; field.isNotEmpty()\n}\n</code></pre>\n\n<p>Note that you don't need <code>!!</code> in <code>field!!.isNotEmpty()</code> in these methods: because it isn't a <code>var</code>, after checking it doesn't equal <code>null</code> Kotlin knows it can't change to become one.</p>\n\n<p>Another, IMO worse approach, would be to keep <code>Any?</code> as parameter type and check whether you have <code>List</code> or <code>String</code> at runtime:</p>\n\n<pre><code>private fun checkIfNotEmpty(field: Any?): Boolean {\n    return when(field) {\n        null -&gt; false\n        is List&lt;*&gt; -&gt; field.isNotEmpty()\n        is String -&gt; field.isNotEmpty()\n        else -&gt; false\n    }\n}\n</code></pre>\n\n<p>Additionally, all the <code>else if</code> branches with same body can be combined using <code>||</code> instead:</p>\n\n<pre><code>if ((checkIfNotEmpty(currentStatus) &amp;&amp;\n        currentStatus?.value?.size != totalStatusCnt) ||\n    checkIfNotEmpty(keyword) ||\n    checkIfNotEmpty(sellerIds) || ...\n) {\n    isSearching.set(true)\n} else {\n    isSearching.set(false)\n}\n</code></pre>\n\n<p>which can be improved even more to </p>\n\n<pre><code>val isSearchingValue = (checkIfNotEmpty(currentStatus) &amp;&amp;\n        currentStatus?.value?.size != totalStatusCnt) ||\n    checkIfNotEmpty(keyword) ||\n    checkIfNotEmpty(sellerIds) || ...\nisSearching.set(isSearchingValue)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 162, "user_id": 8320224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/690c13ebd4b14ac64b9b34e9962ec668?s=128&d=identicon&r=PG&f=1", "display_name": "user8320224", "link": "https://stackoverflow.com/users/8320224/user8320224"}, "is_accepted": false, "score": 2, "last_activity_date": 1511346642, "creation_date": 1511346642, "answer_id": 47432355, "question_id": 47429484, "link": "https://stackoverflow.com/questions/47429484/kotlin-code-refactoring/47432355#47432355", "title": "Kotlin code refactoring", "body": "<p>Kotlin stdlib contains functions</p>\n\n<pre><code>public inline fun CharSequence?.isNullOrEmpty(): Boolean = this == null || this.length == 0\npublic inline fun CharSequence?.isNullOrBlank(): Boolean = this == null || this.isBlank()\n</code></pre>\n\n<p>You may define similar fun for <code>Collection?</code></p>\n"}], "owner": {"reputation": 8470, "user_id": 682763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/cc4ab410936026ce1b033d77cfca419e?s=128&d=identicon&r=PG", "display_name": "Expert wanna be", "link": "https://stackoverflow.com/users/682763/expert-wanna-be"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 446, "favorite_count": 0, "accepted_answer_id": 47429686, "answer_count": 2, "score": 0, "last_activity_date": 1511346642, "creation_date": 1511337556, "question_id": 47429484, "link": "https://stackoverflow.com/questions/47429484/kotlin-code-refactoring", "title": "Kotlin code refactoring", "body": "<p>I have a function which is checking if there are a searching conditions or not.</p>\n\n<pre><code>var currentStatus = MutableLiveData&lt;List&lt;Int&gt;&gt;()\n\nprivate var sellerIds: List&lt;Int&gt;? = null\nprivate var subSellerIds: List&lt;Int&gt;? = null\nprivate var partnerIds: List&lt;Int&gt;? = null\nprivate var productTypeIds: List&lt;Int&gt;? = null\nprivate var brunchIds: List&lt;Int&gt;? = null\nprivate var contractDateFrom: String? = null\nprivate var contractDateTo: String? = null\nprivate var completeDateFrom: String? = null\nprivate var completeDateTo: String? = null\n\nprivate var totalStatusCnt: Int = 10\n\nval isSearching = ObservableField&lt;Boolean&gt;(false)\n\nprivate fun checkIfSearchConditions() {\n    if (currentStatus.value != null &amp;&amp; currentStatus.value!!.isNotEmpty() &amp;&amp;\n            currentStatus.value?.size != totalStatusCnt) {\n        isSearching.set(true)\n    } else if (keyword != null &amp;&amp; keyword!!.isNotEmpty()) {\n        isSearching.set(true)\n    } else if (sellerIds != null &amp;&amp; sellerIds!!.isNotEmpty()) {\n        isSearching.set(true)\n    } else if (subSellerIds != null &amp;&amp; subSellerIds!!.isNotEmpty()) {\n        isSearching.set(true)\n    } else if (partnerIds != null &amp;&amp; partnerIds!!.isNotEmpty()) {\n        isSearching.set(true)\n    } else if (productTypeIds != null &amp;&amp; productTypeIds!!.isNotEmpty()) {\n        isSearching.set(true)\n    } else if (brunchIds != null &amp;&amp; brunchIds!!.isNotEmpty()) {\n        isSearching.set(true)\n    } else if (contractDateFrom != null &amp;&amp; contractDateFrom!!.isNotEmpty()) {\n        isSearching.set(true)\n    } else if (contractDateTo != null &amp;&amp; contractDateTo!!.isNotEmpty()) {\n        isSearching.set(true)\n    } else if (completeDateFrom != null &amp;&amp; completeDateFrom!!.isNotEmpty()) {\n        isSearching.set(true)\n    } else if (completeDateTo != null &amp;&amp; completeDateTo!!.isNotEmpty()) {\n        isSearching.set(true)\n    } else {\n        isSearching.set(false)\n    }\n}\n</code></pre>\n\n<p>And the <strong>checkIfSearchConditions</strong> method looks so dirty, so I want to refactor the method to make it clear.</p>\n\n<p>and I tried to make an empty checking method like this,</p>\n\n<pre><code>private fun checkIfNotEmpty(field: Any?): Boolean {\n    return field != null &amp;&amp; field!!.isNotEmpty() // isNotEmpty is not unsolved reference\n}\n</code></pre>\n\n<p>But the filed type could be List? or String?, so getting \n'isNotEmpty is not unsolved reference' error.</p>\n\n<p>How can I refactor the method to make clear?</p>\n"}, {"tags": ["android", "android-studio", "kotlin", "lint"], "comments": [{"owner": {"reputation": 423, "user_id": 3232741, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/08fd69c17db537c821d32bcc6f40431b?s=128&d=identicon&r=PG&f=1", "display_name": "Kelo", "link": "https://stackoverflow.com/users/3232741/kelo"}, "edited": false, "score": 0, "creation_date": 1511341205, "post_id": 47429477, "comment_id": 81815354, "body": "Maybe these links help: <a href=\"https://developer.android.com/studio/build/gradle-tips.html#configure-lint-options\" rel=\"nofollow noreferrer\">developer.android.com/studio/build/&hellip;</a> For finding possible lint options: <a href=\"https://stackoverflow.com/questions/28591726/for-android-where-do-i-find-a-complete-list-of-suppresslint-valid-issue-ids\" title=\"for android where do i find a complete list of suppresslint valid issue ids\">stackoverflow.com/questions/28591726/&hellip;</a>"}], "owner": {"reputation": 4019, "user_id": 767033, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/07fa4dc36952b149cdfe7c140ff08fc5?s=128&d=identicon&r=PG", "display_name": "Chris.Zou", "link": "https://stackoverflow.com/users/767033/chris-zou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 446, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1511340186, "creation_date": 1511337540, "last_edit_date": 1511340186, "question_id": 47429477, "link": "https://stackoverflow.com/questions/47429477/how-can-i-run-androidstudio-code-inspection-in-the-terminal", "title": "How can I run AndroidStudio code inspection in the terminal", "body": "<p>I'm developing Android app with kotlin. I wonder how can I run the AndroidStudio code inspection in the terminal. I know android lint. But many of the inspection are not check by running <code>./gradlew lint</code>. For example, if I wrote</p>\n\n<pre><code>var name = \"chris\"\nLog.d(\"mytag\", name)\n</code></pre>\n\n<p>AndroidStudio code inspection would remind my that <code>name</code> is never changed and could be change to <code>val name = \"chris\"</code>. But when I run <code>./gradlew lint</code>, this improvement option is not in the result report.</p>\n\n<p>How can I run the inspection in the terminal? That way, I can make a gradle task to check the code and gradually introduce some good practice to my team.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 6750313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f579b8f3f7ee908a7d8fd15878a4175?s=128&d=identicon&r=PG&f=1", "display_name": "\u7231\u5403\u725b\u725b\u7684sugar", "link": "https://stackoverflow.com/users/6750313/%e7%88%b1%e5%90%83%e7%89%9b%e7%89%9b%e7%9a%84sugar"}, "edited": false, "score": 0, "creation_date": 1511321294, "post_id": 47426158, "comment_id": 81807441, "body": "for Fragment import kotlinx.android.synthetic.main.home_fragment_header_card.tvA&zwnj;&#8203;uthNum for Activity  import kotlinx.android.synthetic.main.home_drawer_left.tvAuthNum i try,but activity use fragment&#39;tvAuthNum,in Activity file click tvAuthNum,jum xml is right"}], "tags": [], "owner": {"reputation": 1104, "user_id": 2154011, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/u0iO8.jpg?s=128&g=1", "display_name": "Maxim Firsoff", "link": "https://stackoverflow.com/users/2154011/maxim-firsoff"}, "is_accepted": false, "score": 0, "last_activity_date": 1511319874, "creation_date": 1511319874, "answer_id": 47426158, "question_id": 47425986, "link": "https://stackoverflow.com/questions/47425986/kotlin-extention-fragment-activity-has-view-with-same-id-isnt-ok/47426158#47426158", "title": "kotlin extention fragment activity has view with same id isn&#39;t ok", "body": "<p>Use the full string for importing ids, for example:</p>\n\n<p>// for the Fragment</p>\n\n<pre><code>import kotlinx.android.synthetic.&lt;FRAGMENT_PACKAGE&gt;.&lt;FRAGMENT_LAYOUT_XML&gt;.tvAuthNum\n</code></pre>\n\n<p>// for the Activity</p>\n\n<pre><code>import kotlinx.android.synthetic.&lt;ACTIVITY_PACKAGE&gt;.&lt;ACTIVITY_LAYOUT_XML&gt;.tvAuthNum\n</code></pre>\n\n<p>You have a collision between names.</p>\n"}], "owner": {"reputation": 1, "user_id": 6750313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f579b8f3f7ee908a7d8fd15878a4175?s=128&d=identicon&r=PG&f=1", "display_name": "\u7231\u5403\u725b\u725b\u7684sugar", "link": "https://stackoverflow.com/users/6750313/%e7%88%b1%e5%90%83%e7%89%9b%e7%89%9b%e7%9a%84sugar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 103, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1511348531, "creation_date": 1511318742, "last_edit_date": 1511348531, "question_id": 47425986, "link": "https://stackoverflow.com/questions/47425986/kotlin-extention-fragment-activity-has-view-with-same-id-isnt-ok", "title": "kotlin extention fragment activity has view with same id isn&#39;t ok", "body": "<p><code>Activity</code> has <code>TextView</code> with id <code>tvAuthNum</code>, <code>Fragment</code> has <code>TextView</code> with id <code>tvAuthNum</code>, in code click jump xml is right\uff0cimport xml is diff. But, run app <code>Activity</code>, <code>Fragment</code> use same <code>Fragment</code>'s  View. When debugging, I found memory address is the same in Activity and Fragment, why?</p>\n"}, {"tags": ["java", "android", "kotlin"], "comments": [{"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 1, "creation_date": 1511306786, "post_id": 47424402, "comment_id": 81803703, "body": "You can make &amp; start a new Thread in Kotlin just like Java"}], "answers": [{"tags": [], "owner": {"reputation": 14070, "user_id": 868492, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cdfab916eb0bb5da98df29a321dc86ab?s=128&d=identicon&r=PG", "display_name": "James McCracken", "link": "https://stackoverflow.com/users/868492/james-mccracken"}, "is_accepted": true, "score": 20, "last_activity_date": 1511307336, "creation_date": 1511307336, "answer_id": 47424516, "question_id": 47424402, "link": "https://stackoverflow.com/questions/47424402/how-bypass-networkonmainthreadexception-on-kotlin/47424516#47424516", "title": "How bypass NetworkOnMainThreadException on Kotlin", "body": "<p>All of the same classes and methods from Java and the Android SDK are available in Kotlin, so you can just use the exact same thing.  The formatting is a bit nicer because of support for SAM constructors among other things.</p>\n\n<pre><code>Thread({\n    //Do some Network Request\n\n    runOnUiThread({\n        //Update UI\n    })\n}).start()\n</code></pre>\n"}], "owner": {"reputation": 219, "user_id": 3204649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c97408422278498c313cea1d8579813?s=128&d=identicon&r=PG", "display_name": "jmtt89", "link": "https://stackoverflow.com/users/3204649/jmtt89"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8311, "favorite_count": 1, "accepted_answer_id": 47424516, "answer_count": 1, "score": 5, "last_activity_date": 1511307336, "creation_date": 1511306657, "question_id": 47424402, "link": "https://stackoverflow.com/questions/47424402/how-bypass-networkonmainthreadexception-on-kotlin", "title": "How bypass NetworkOnMainThreadException on Kotlin", "body": "<p>Hi i starting with kotlin, now Android Studio 3.0 support it, but i don't know how do a simple Network request in another thread...</p>\n\n<p>in java is very easy</p>\n\n<pre><code>new Thread(new Runnable() {\n    @Override\n    public void run() {\n        //Do dome Network Request\n\n        runOnUiThread(new Runnable() {\n            @Override\n            public void run() {\n                //Update UI\n            }\n        });\n    }\n}).start();\n</code></pre>\n\n<p>i know i can do a AsyncTask and blablabla... but i don't want that. I want a simple solution without creating extra classes and complex use case</p>\n\n<p>Is this possible in Kotlin?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3020, "user_id": 1072825, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a27932ed81093b975e0b2619367cce95?s=128&d=identicon&r=PG", "display_name": "Pavan K", "link": "https://stackoverflow.com/users/1072825/pavan-k"}, "edited": false, "score": 0, "creation_date": 1511306252, "post_id": 47424234, "comment_id": 81803523, "body": "Required Pair &lt; String, Any&gt; found Intent ... that is the error"}], "tags": [], "owner": {"reputation": 1834, "user_id": 2435402, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/lsmPv.png?s=128&g=1", "display_name": "ElliotM", "link": "https://stackoverflow.com/users/2435402/elliotm"}, "is_accepted": false, "score": 0, "last_activity_date": 1511305707, "creation_date": 1511305707, "answer_id": 47424234, "question_id": 47424196, "link": "https://stackoverflow.com/questions/47424196/kotlin-startactivity-with-flags/47424234#47424234", "title": "kotlin startactivity with flags", "body": "<p><a href=\"https://github.com/Kotlin/anko/wiki/Anko-Commons-%E2%80%93-Intents\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/anko/wiki/Anko-Commons-%E2%80%93-Intents</a></p>\n\n<p>I think <code>singleTop()</code> is what you're looking for </p>\n\n<pre><code>startActivity(intentFor&lt;SomeOtherActivity&gt;(\"id\" to 5).singleTop())\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3020, "user_id": 1072825, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a27932ed81093b975e0b2619367cce95?s=128&d=identicon&r=PG", "display_name": "Pavan K", "link": "https://stackoverflow.com/users/1072825/pavan-k"}, "is_accepted": true, "score": 0, "last_activity_date": 1511309378, "creation_date": 1511309378, "answer_id": 47424824, "question_id": 47424196, "link": "https://stackoverflow.com/questions/47424196/kotlin-startactivity-with-flags/47424824#47424824", "title": "kotlin startactivity with flags", "body": "<p>I solved it using so, </p>\n\n<pre><code>getContext().startActivity(intentFor&lt;PreviousActivity&gt;().addFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12092702, "user_type": "unregistered", "profile_image": "https://www.gravatar.com/avatar/658981da7178c2946def7ac6aab9cc2d?s=128&d=identicon&r=PG", "display_name": "Javier Ruiz Trejo", "link": "https://stackoverflow.com/users/12092702/javier-ruiz-trejo"}, "is_accepted": false, "score": 0, "last_activity_date": 1568930268, "creation_date": 1568930268, "answer_id": 58019382, "question_id": 47424196, "link": "https://stackoverflow.com/questions/47424196/kotlin-startactivity-with-flags/58019382#58019382", "title": "kotlin startactivity with flags", "body": "<p><strong>I use the following code to start an activity with FLAGS</strong></p>\n\n<pre><code>val intent = Intent(this@home_paciente,LoginActivity::class.java)\nintent.flags = Intent.FLAG_ACTIVITY_REORDER_TO_FRONT\nstartActivity(intent)\nfinish()\n</code></pre>\n\n<p>The part of </p>\n\n<blockquote>\n  <p>this@home_paciente</p>\n</blockquote>\n\n<p>is the context of the activity so you put <strong>this@activity_name</strong> or replace with <strong>applicationContext</strong> and</p>\n\n<blockquote>\n  <p>LoginActivity::class.java</p>\n</blockquote>\n\n<p>is the new activity to launch</p>\n"}], "owner": {"reputation": 3020, "user_id": 1072825, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a27932ed81093b975e0b2619367cce95?s=128&d=identicon&r=PG", "display_name": "Pavan K", "link": "https://stackoverflow.com/users/1072825/pavan-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1311, "favorite_count": 0, "accepted_answer_id": 47424824, "answer_count": 3, "score": 0, "last_activity_date": 1568930268, "creation_date": 1511305515, "last_edit_date": 1511305836, "question_id": 47424196, "link": "https://stackoverflow.com/questions/47424196/kotlin-startactivity-with-flags", "title": "kotlin startactivity with flags", "body": "<p>I am trying to start an acitvity through Anko context using kotlin, But would like to use flags</p>\n\n<pre><code> override fun createView(ui: AnkoContext&lt;MyActivity&gt;) = with (ui) {\n        verticalLayout {\n            // load something\n            button (\"Back\") {\n                onClick {\n                    // goes back to the previous activity\n                    startActivity&lt;PreviousActivity&gt;()\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>I am raising an activity like so, </p>\n\n<pre><code>startActivity&lt;PreviousActivity&gt;()\n</code></pre>\n\n<p>How can I add the flags to reorder the activity to top</p>\n\n<p>This did not work, get a type mismatch error</p>\n\n<pre><code>startActivity(intentFor&lt;PreviousActivity&gt;(\"id\" to 5).singleTop())\n</code></pre>\n"}, {"tags": ["spring", "spring-mvc", "kotlin"], "comments": [{"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1511295823, "post_id": 47421829, "comment_id": 81798514, "body": "Are you trying to pass the <i>class</i> itself in the constructor (roughly corresponds to <code>Type</code> in .NET) or an instance? Since you state &quot;object instance of type2 should be passed in through the constructor&quot;, it looks like you want <code>T1</code>/<code>T2</code> instead of <code>Class&lt;T1&gt;</code>/<code>Class&lt;T2&gt;</code>"}, {"owner": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1511296031, "post_id": 47421829, "comment_id": 81798616, "body": "I plan to pass in an instance of type1 through the body parameter in the endpoint function, and an instance of type2 through the constructor of the Base class. I assume I need the types themselves passed in, might need a 3rd parameter with the actual object?"}], "answers": [{"comments": [{"owner": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "edited": false, "score": 0, "creation_date": 1511361157, "post_id": 47422878, "comment_id": 81828731, "body": "Thanks, exactly what I was looking for."}, {"owner": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "edited": false, "score": 0, "creation_date": 1511362989, "post_id": 47422878, "comment_id": 81830137, "body": "One question popped up. How do I access attributes in the type1/body object? .Same for the t2 parameter passed into the constructor."}, {"owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "reply_to_user": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "edited": false, "score": 0, "creation_date": 1511367380, "post_id": 47422878, "comment_id": 81833410, "body": "@aggaton You can only access the properties of the generic type (which defaults to the type <code>Any?</code>). I suggest you take a look at the <a href=\"https://kotlinlang.org/docs/reference/generics.html#type-projections\" rel=\"nofollow noreferrer\"><code>is</code> operator</a> or <a href=\"https://kotlinlang.org/docs/reference/generics.html#type-projections\" rel=\"nofollow noreferrer\">type projections</a> in order to access the properties of a more specific type. Or you can override any function in a subclass or an <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"nofollow noreferrer\">object expression</a> to have access to the types specified by the type arguments."}], "tags": [], "owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "is_accepted": true, "score": 0, "last_activity_date": 1511299435, "last_edit_date": 1511299435, "creation_date": 1511298988, "answer_id": 47422878, "question_id": 47421829, "link": "https://stackoverflow.com/questions/47421829/referencing-value-and-calling-methods-in-generic-class-types/47422878#47422878", "title": "Referencing value and calling methods in generic class types", "body": "<p>The types of the parameters are passed in through the type arguments when creating an instance (the same as Java). So you do need to pass in the types themselves, adding a <code>Class</code> parameter just isn't the correct syntax.</p>\n\n<p>I believe this is what you are looking for (omitted some code for brevity).</p>\n\n<pre><code>open class Base&lt;T1, T2&gt; (@Autowired var t2: T2) {\n\n    @Autowired var type1: T1? = null\n\n    fun endpoint(\n        @ApiParam(value = \"Options\", required = true) @Valid @RequestBody\n        body: T1\n    ): ResponseEntity&lt;MyResponse&gt; {\n        type1 = body\n    }\n\n}\n</code></pre>\n\n<p>Then, for instance, you can create an instance of this class with the types <code>Int</code> and <code>String</code> (for <code>T1</code> and <code>T2</code> respectively) in the following manner.</p>\n\n<pre><code>val t2 = \"t2\"\nval base = Base&lt;Int, String&gt;(t2)\n</code></pre>\n\n<p>Or you can subclass the <code>Base</code> class with any (or none) of the types specified.</p>\n\n<pre><code>class SubBase(t2: String): Base&lt;Int, String&gt;(t2)\n</code></pre>\n"}], "owner": {"reputation": 2296, "user_id": 1575416, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/32e1e3caa938438115454a4688a3d4a2?s=128&d=identicon&r=PG", "display_name": "aggaton", "link": "https://stackoverflow.com/users/1575416/aggaton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 47422878, "answer_count": 1, "score": 0, "last_activity_date": 1511299435, "creation_date": 1511295026, "last_edit_date": 1511297765, "question_id": 47421829, "link": "https://stackoverflow.com/questions/47421829/referencing-value-and-calling-methods-in-generic-class-types", "title": "Referencing value and calling methods in generic class types", "body": "<p>I'm new to Kotlin coming from C#. Currently I am trying to setup a class that takes in a couple of interchangeable generic types, the internal code of this class is a spring service end-point.</p>\n\n<p>I have started with something like below, however I seem to have trouble with the syntax to reference the parameters of the request body as well as calling a method, which are of the types passed in through the class constructor. Syntax of generics and reflection does not seem that straight forward and most of the Kotlin examples I have been digging up has not seem to covered precisely what I am trying to do (if even possible). The object instance of type1 will be passed in through the body parameter and the object instance of type2 should be passed in through the constructor (syntax is probably not right).</p>\n\n<p>Planning to use this as a template to setup several end-points based on the same base code but with different requests and services classes.</p>\n\n<p>Any help is greatly appreciated.</p>\n\n<pre><code>import org.springframework.beans.factory.annotation.Autowired\nimport org.springframework.http.HttpStatus\nimport org.springframework.http.ResponseEntity\nimport org.springframework.web.bind.annotation.RequestBody\nimport org.springframework.web.bind.annotation.RequestMapping\nimport org.springframework.web.bind.annotation.RequestMethod\nimport javax.validation.Valid\n\nopen class Base &lt;T1,T2&gt;(t1: Class&lt;T1&gt;, t2: Class&lt;T2&gt;) {\n\n  @Autowired\n  var type1 = t1\n\n  @Autowired\n  var type2 = t2\n\n  @ApiOperation(value = \"API 1\", response = myResponse::class)\n  @ApiResponses(value = *arrayOf(\n    ApiResponse(code = 200, message = \"successful\", response = CcdaResponse::class),\n    ApiResponse(code = 405, message = \"Invalid\", response = Void::class)))\n  @RequestMapping(\n    value = \"/myEndPoint\",\n    produces = arrayOf(\"application/json\"),\n    consumes = arrayOf(\"application/json\"),\n    method = arrayOf(RequestMethod.POST)\n  )\n\n  fun endpoint(\n    @ApiParam(value = \"Options\", required = true)\n    @Valid\n    @RequestBody\n    body: Class&lt;T1&gt;\n  ): ResponseEntity&lt;myResponse&gt; {\n    val r = myResponse()\n    val response: ResponseEntity&lt;myResponse&gt;\n    response = ResponseEntity(r, HttpStatus.OK)\n    try {\n\n      //payload\n      val parameters = Parameters().apply {\n        Id1 = type1::body.Id1.get()\n        Id2 = type1::body.Id2.get()\n        Id3 = type1::body.Id3.get()\n        Id4 = type1::body.Id4.get()\n        v = type1::body.v.get()\n      }\n      //Do stuff like calling method in class of type2 passed in\n      val d = type2.getViewModel(parameters)\n\n      r.status = \"ok\"\n\n    } catch (e: Exception) {\n      r.message = e.toString()\n      r.status = \"error\"\n    } finally {\n    }\n    return response\n  }\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "gradle", "plugins", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 437, "user_id": 6159314, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/899492cdab3bea8b47e332ef564b0146?s=128&d=identicon&r=PG&f=1", "display_name": "Kulwinder Singh Rahal", "link": "https://stackoverflow.com/users/6159314/kulwinder-singh-rahal"}, "is_accepted": false, "score": 0, "last_activity_date": 1511325026, "creation_date": 1511325026, "answer_id": 47426840, "question_id": 47421570, "link": "https://stackoverflow.com/questions/47421570/how-to-add-kotlin-plugin-for-gradle-in-android-studio-3-1-canary-3/47426840#47426840", "title": "How to add Kotlin plugin for Gradle in Android Studio 3.1 Canary 3", "body": "<p>setup kotlin from Android studio <strong>Tools</strong> - <strong>Kotlin</strong> -   <strong>Configure kotlin in project</strong></p>\n"}], "owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 250, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511325026, "creation_date": 1511293947, "last_edit_date": 1511294358, "question_id": 47421570, "link": "https://stackoverflow.com/questions/47421570/how-to-add-kotlin-plugin-for-gradle-in-android-studio-3-1-canary-3", "title": "How to add Kotlin plugin for Gradle in Android Studio 3.1 Canary 3", "body": "<p>How to integrate Kotlin plugin for Gragle in Android Studio (version 3.1 Canary 3)? I have searched the web and <a href=\"https://kotlinlang.org/docs/reference/using-gradle.html\" rel=\"nofollow noreferrer\">this</a> documentation but no clear answer is present. I am not sure if the existing answers on this and other websites must be relied because there have been many changes done to Kotlin integration in Android Studio 3.1 Canary 3.</p>\n"}, {"tags": ["kotlin", "android-volley"], "answers": [{"comments": [{"owner": {"reputation": 1517, "user_id": 5818559, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a8db40e9e89fa941f9fe9a12204e8016?s=128&d=identicon&r=PG&f=1", "display_name": "zasaz", "link": "https://stackoverflow.com/users/5818559/zasaz"}, "edited": false, "score": 1, "creation_date": 1511297015, "post_id": 47422209, "comment_id": 81799163, "body": "Thank you! It worked! Can you explain me why you have to write object : StringRequest? Because without this, I couldn&#39;t override the getParams method"}, {"owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "reply_to_user": {"reputation": 1517, "user_id": 5818559, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a8db40e9e89fa941f9fe9a12204e8016?s=128&d=identicon&r=PG&f=1", "display_name": "zasaz", "link": "https://stackoverflow.com/users/5818559/zasaz"}, "edited": false, "score": 0, "creation_date": 1511297521, "post_id": 47422209, "comment_id": 81799442, "body": "@zasaz That is the syntax for an object expression (which, as I mentioned above, is the replacement for Java&#39;s anonymous class declaration); it is the only way to create an object of an anonymous class in Kotlin. As for <i>why</i> the language designers went with that specific syntax, no clue."}, {"owner": {"reputation": 1846, "user_id": 1018387, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/c71b7e1d32a22a87f4ee3bf979c9a15e?s=128&d=identicon&r=PG", "display_name": "AlexAndro", "link": "https://stackoverflow.com/users/1018387/alexandro"}, "edited": false, "score": 0, "creation_date": 1518697663, "post_id": 47422209, "comment_id": 84617274, "body": "@Bryan How do you add <code>stringRequest</code> to queque?  <code>queque.add(stringRequest)</code> rise an error <code>Expecting a class body</code>"}, {"owner": {"reputation": 871, "user_id": 5870824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/090afb28f773c2af4cc4633b698a2af7?s=128&d=identicon&r=PG", "display_name": "Parth Patel", "link": "https://stackoverflow.com/users/5870824/parth-patel"}, "edited": false, "score": 0, "creation_date": 1537281420, "post_id": 47422209, "comment_id": 91722870, "body": "Your suggestion has helped me to set headers &amp; params in volley using Kotlin Thanks to you"}], "tags": [], "owner": {"reputation": 13134, "user_id": 5115932, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/TUPjU.jpg?s=128&g=1", "display_name": "Bryan", "link": "https://stackoverflow.com/users/5115932/bryan"}, "is_accepted": true, "score": 9, "last_activity_date": 1511296427, "creation_date": 1511296427, "answer_id": 47422209, "question_id": 47421447, "link": "https://stackoverflow.com/questions/47421447/how-to-fetch-information-using-volley-library-in-kotlin/47422209#47422209", "title": "how to fetch information using volley library in kotlin", "body": "<p>You need to override the <a href=\"http://javadocs.okadatech.com/javadoc/volley/reference/com/android/volley/Request.html#getParams()\" rel=\"noreferrer\"><code>getParams()</code></a> method on your <code>Request</code>. In order to do that you can either subclass <code>StringRequest</code>, or create an <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"noreferrer\">object expression</a> (similar to an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/anonymousclasses.html\" rel=\"noreferrer\">anonymous inner class</a> from Java); as shown below.</p>\n\n<pre><code>val stringRequest = object : StringRequest(Request.Method.POST, URL, Response.Listener { s -&gt;\n    // Your success code here\n}, Response.ErrorListener { e -&gt;\n    // Your error code here\n}) {\n    override fun getParams(): Map&lt;String, String&gt; = mapOf(\"idaccount\" to \"1\")\n}\n</code></pre>\n"}], "owner": {"reputation": 1517, "user_id": 5818559, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/a8db40e9e89fa941f9fe9a12204e8016?s=128&d=identicon&r=PG&f=1", "display_name": "zasaz", "link": "https://stackoverflow.com/users/5818559/zasaz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6073, "favorite_count": 2, "accepted_answer_id": 47422209, "answer_count": 1, "score": 3, "last_activity_date": 1511296427, "creation_date": 1511293506, "last_edit_date": 1511294332, "question_id": 47421447, "link": "https://stackoverflow.com/questions/47421447/how-to-fetch-information-using-volley-library-in-kotlin", "title": "how to fetch information using volley library in kotlin", "body": "<p>I've a php file on a server, and I have to fetch the information but i don't know how to pass a parameter to the query.</p>\n\n<p>For example, if I have this query: SELECT * FROM accounttable WHERE idaccount = 1, i want to pass this 1 as a parameter, how can i do?</p>\n\n<pre><code> val stringRequest = StringRequest(Request.Method.POST, URL, Response.Listener&lt;String&gt;{ s -&gt;\n        try {\n\n                val array = JSONArray(s)\n\n                for (i in 0..array.length() - 1) {\n                    val objectAccount = array.getJSONObject(i)\n                    val account = Account(\n                            objectAccount.getString(\"accountplace\"),\n                            objectAccount.getString(\"useraccount\"),\n                            objectAccount.getString(\"accountpass\"))\n\n                    listAccounts.add(account)\n\n                }\n\n\n        }catch (e: JSONException){\n            e.printStackTrace()\n        }\n    }, Response.ErrorListener { error: VolleyError? -&gt; Log.e(\"error\", \"error\")  })\n\n    val  requesQueue = Volley.newRequestQueue(this)\n    requesQueue.add&lt;String&gt;(stringRequest)\n</code></pre>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin"], "comments": [{"owner": {"reputation": 34565, "user_id": 4815718, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/CppAt.jpg?s=128&g=1", "display_name": "Bob Snyder", "link": "https://stackoverflow.com/users/4815718/bob-snyder"}, "edited": false, "score": 1, "creation_date": 1511294297, "post_id": 47421273, "comment_id": 81797615, "body": "Field <code>score</code> is a string so the sorting is done lexicographically, not numerically.  Does that explain what appears to be the &quot;random&quot; order?"}], "answers": [{"tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 0, "last_activity_date": 1511297457, "creation_date": 1511297457, "answer_id": 47422490, "question_id": 47421273, "link": "https://stackoverflow.com/questions/47421273/firebase-real-time-database-query-doesnt-work/47422490#47422490", "title": "Firebase real_time database query doesn&#39;t work", "body": "<p>In order to solve this, change the type of your <code>score</code> field from <code>String</code> to <code>int</code> or <code>long</code>, otherwise the order is done <code>lexicographically</code>.</p>\n\n<p>There is no operator in Firebase and as far as i know nor in other databases that allow you to change this behavior. Instead, you will need to modify the data to get the behavior you want. If you want to go with the String value, store the values that are in the order you need them when sorted lexicographically. For numbers you can accomplish that by padding them with zeroes:</p>\n\n<p>As an example:</p>\n\n<ul>\n<li>\"0131\" //zero added before</li>\n<li>\"0132\" //zero added before</li>\n<li>......</li>\n<li>\"1308\"</li>\n<li>\"1309\"</li>\n<li>\"1310\"</li>\n<li>\"1311\"</li>\n</ul>\n"}], "owner": {"reputation": 3147, "user_id": 3170065, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/69d54336ebe85b9d0608e2ee6058ff54?s=128&d=identicon&r=PG", "display_name": "sorunluadam", "link": "https://stackoverflow.com/users/3170065/sorunluadam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 136, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511338431, "creation_date": 1511292934, "last_edit_date": 1511338431, "question_id": 47421273, "link": "https://stackoverflow.com/questions/47421273/firebase-real-time-database-query-doesnt-work", "title": "Firebase real_time database query doesn&#39;t work", "body": "<p>I'm using Firebase real-time database in my Android project. My database scheme as below : </p>\n\n<p><a href=\"https://i.stack.imgur.com/Xc2cq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xc2cq.png\" alt=\"database scheme\"></a></p>\n\n<p>I want to get best 10 scores. My query : </p>\n\n<pre><code>   val query = reference.child(\"users\").orderByChild(\"score\").limitToFirst(10)\n    query.addValueEventListener(object : ValueEventListener {\n            override fun onCancelled(p0: DatabaseError) {}\n            override fun onDataChange(dataSnapshot: DataSnapshot) {\n                    dataSnapshot.children.forEach {\n                        val score: String = it.child(Constants.scoreKey).value as String    \n                        Log.i(TAG,\"score:\"+score)               \n                    }\n            }\n        })\n</code></pre>\n\n<p>I hope to see best 10 scores on logcat. But it didn't. I see random scores.\nWhat is my mistake ?</p>\n"}, {"tags": ["java", "intellij-idea", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1863, "user_id": 1457813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7285f5bacccf66a327d04e1542fa3523?s=128&d=identicon&r=PG", "display_name": "Ketan Patel", "link": "https://stackoverflow.com/users/1457813/ketan-patel"}, "edited": false, "score": 1, "creation_date": 1544265855, "post_id": 47420995, "comment_id": 94220489, "body": "After tick 1st option and untick 2nd option, I have no dialog sugession for convert while paste code. Why..? any idea..?"}, {"owner": {"reputation": 335, "user_id": 4601894, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jYXfj.jpg?s=128&g=1", "display_name": "Vins", "link": "https://stackoverflow.com/users/4601894/vins"}, "edited": false, "score": 0, "creation_date": 1582193340, "post_id": 47420995, "comment_id": 106696030, "body": "I needed &quot;File -&gt;Invalidate Caches / Restart&quot; after do this."}], "tags": [], "owner": {"reputation": 26172, "user_id": 49746, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0IAAg.jpg?s=128&g=1", "display_name": "Todd", "link": "https://stackoverflow.com/users/49746/todd"}, "is_accepted": true, "score": 11, "last_activity_date": 1511292232, "last_edit_date": 1511292232, "creation_date": 1511291915, "answer_id": 47420995, "question_id": 47420726, "link": "https://stackoverflow.com/questions/47420726/re-enable-intellij-java-to-kotlin-conversion/47420995#47420995", "title": "re enable intellij java to kotlin conversion", "body": "<p>Open preferences (Windows = <code>Ctrl-Alt-S</code>, Mac = <code>Cmd-,</code>).</p>\n\n<p>Go to <code>Editor -&gt; General -&gt; Smart Keys</code> and scroll to the bottom. </p>\n\n<p>The <code>Convert pasted Java code to Kotlin</code> and <code>Don't show Java to Kotlin conversion dialog during paste</code> options should be in the Kotlin section</p>\n"}], "owner": {"reputation": 1011, "user_id": 8980861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbcd55f57aca2c891205ccec6bf558da?s=128&d=identicon&r=PG&f=1", "display_name": "Erik", "link": "https://stackoverflow.com/users/8980861/erik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1959, "favorite_count": 1, "accepted_answer_id": 47420995, "answer_count": 1, "score": 8, "last_activity_date": 1511292232, "creation_date": 1511290850, "question_id": 47420726, "link": "https://stackoverflow.com/questions/47420726/re-enable-intellij-java-to-kotlin-conversion", "title": "re enable intellij java to kotlin conversion", "body": "<p>I disabled the intellij dialog asking for converting Java code to Kotlin code on copy paste code from Java to Kotlin thinking that it would always convert without asking, but now it never converts. How can I enable this dialog again? I couldn't find any way to do it and now the IDE is not converting Java to Kotlin on copy + paste anymore.</p>\n"}, {"tags": ["android", "kotlin", "rx-java"], "comments": [{"owner": {"reputation": 9908, "user_id": 257948, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/63fc52037c03c7d22c8baf001f55f2f7?s=128&d=identicon&r=PG&f=1", "display_name": "noloman", "link": "https://stackoverflow.com/users/257948/noloman"}, "edited": false, "score": 0, "creation_date": 1511294336, "post_id": 47420714, "comment_id": 81797637, "body": "Maybe something like this would work: <code>remoteDataSource.                 getPhotos(photoTag)                 .flatMap({ t: FlickrPhoto -&gt; Observable.just(serviceMapper.transform(t.photos.photo)) })</code>"}], "answers": [{"tags": [], "owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "is_accepted": true, "score": 1, "last_activity_date": 1511296284, "creation_date": 1511296284, "answer_id": 47422171, "question_id": 47420714, "link": "https://stackoverflow.com/questions/47420714/data-transformations-with-rxjava-in-kotlin/47422171#47422171", "title": "Data transformations with RxJava in Kotlin", "body": "<p>The solution in your comment does work:</p>\n\n<pre><code>// original\nremoteDataSource\n    .getPhotos(photoTag)\n    .flatMap({ t: FlickrPhoto -&gt; \n        Observable\n            .just(serviceMapper.transform(t.photos.photo)) // &lt;-- not lazy\n    })\n</code></pre>\n\n<p>Here you have slightly different options:</p>\n\n<pre><code>// v1\nremoteDataSource\n    .getPhotos(photoTag)\n    .flatMap {\n        Observable\n            .just(it.photos.photo)\n            .map { serviceMapper.transform(it) }  // &lt;-- lazy transformation\n    }\n\n// v2\nremoteDataSource\n    .getPhotos(photoTag)\n    .flatMapIterable { it }\n    .map { serviceMapper.transform(it.photos.photo) }\n</code></pre>\n\n<p>No option is that much better than the others. Normally I would go with <code>v2</code> because it is shorter.</p>\n\n<p>But, I don't know what the <code>serviceMapper</code> does. For example, if it involved network and I wanted to execute it in another <code>Scheduler</code>, then <code>v1</code> is nice because you can subscribe the transformations in another thread (which you can't do in the original version because the transformation is pre-computed eaguerly). Example:</p>\n\n<pre><code>// v1 - with scheduler\nremoteDataSource\n    .getPhotos(photoTag)\n    .flatMap {\n        Observable\n            .just(it.photos.photo)\n            .map { serviceMapper.transform(it) } // &lt;-- lazy transformation\n            .subscribeOn(Schedulers.io())        // &lt;-- schedule on io()\n    }\n</code></pre>\n"}], "owner": {"reputation": 9908, "user_id": 257948, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/63fc52037c03c7d22c8baf001f55f2f7?s=128&d=identicon&r=PG&f=1", "display_name": "noloman", "link": "https://stackoverflow.com/users/257948/noloman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 637, "favorite_count": 0, "accepted_answer_id": 47422171, "answer_count": 1, "score": 1, "last_activity_date": 1511296284, "creation_date": 1511290795, "question_id": 47420714, "link": "https://stackoverflow.com/questions/47420714/data-transformations-with-rxjava-in-kotlin", "title": "Data transformations with RxJava in Kotlin", "body": "<p>I'm using Kotlin and I have an <code>Observable&lt;List&lt;FlickPhoto&gt;&gt;</code> model. Each <code>FlickrPhoto</code> contains a List, and each <code>Photos</code> model contains a <code>List&lt;Photo&gt;</code>.</p>\n\n<p>I want to transform a <code>List&lt;FlickrPhoto&gt;</code> to a <code>List&lt;PhotoEntity&gt;</code>, which is basically another model with less data, and wrap it into an <code>Observable</code> (in order to finally get an <code>Observable&lt;List&lt;PhotoEntity&gt;&gt;</code>).</p>\n\n<p>How can I do this in the best RxJava way?\nI have created a <code>PhotoEntityMapper</code> class with the following method that I'm sure could be properly used for the purpose:\n<code>override fun transform(photoCollection: List&lt;Photo&gt;): List&lt;PhotoEntity&gt;</code></p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511291677, "post_id": 47420870, "comment_id": 81796072, "body": "It&#39;s not allowed to do a return inside there and I also get this: <code>Error:(120, 19) Cannot access &#39;TAG&#39;: it is invisible (private in a supertype) in &#39;AppCompatActivity&#39;</code>"}, {"owner": {"reputation": 2164, "user_id": 5245903, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-5fU-jiQTlHk/AAAAAAAAAAI/AAAAAAAAABE/4mAEDlzlHQs/photo.jpg?sz=128", "display_name": "Veneet Reddy", "link": "https://stackoverflow.com/users/5245903/veneet-reddy"}, "reply_to_user": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511291900, "post_id": 47420870, "comment_id": 81796225, "body": "Check edited answer. Also the Log statement was just to illustrate you could use the position argument"}, {"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511292191, "post_id": 47420870, "comment_id": 81796400, "body": "Sorry maybe I seem very dumb now but how do I check if it has been long pressed to do something with it? <code>if(recyclerView3.onLongClick == true){}</code>"}, {"owner": {"reputation": 2164, "user_id": 5245903, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-5fU-jiQTlHk/AAAAAAAAAAI/AAAAAAAAABE/4mAEDlzlHQs/photo.jpg?sz=128", "display_name": "Veneet Reddy", "link": "https://stackoverflow.com/users/5245903/veneet-reddy"}, "reply_to_user": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511292294, "post_id": 47420870, "comment_id": 81796457, "body": "When the user long clicks any item, this method is called by <code>ItemClickSupport</code>. So you would do what you need to inside this lambda."}, {"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511292504, "post_id": 47420870, "comment_id": 81796586, "body": "<code>ItemClickSupport.addTo(recyclerView3).setOnItemLongClickList&zwnj;&#8203;ener { recyclerView, view, position, id -&gt;    Toast.makeText(context, &quot;Its a long click&quot;, Toast.LENGTH_SHORT).show()      true &#47;&#47; False if not consumed }</code> Like this? but if I do it I get this error <code>Error:(117, 74) Type mismatch: inferred type is (???, ???, ???, ???) -&gt; Boolean but ItemClickSupport.OnItemLongClickListener! was expected</code>"}, {"owner": {"reputation": 2164, "user_id": 5245903, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-5fU-jiQTlHk/AAAAAAAAAAI/AAAAAAAAABE/4mAEDlzlHQs/photo.jpg?sz=128", "display_name": "Veneet Reddy", "link": "https://stackoverflow.com/users/5245903/veneet-reddy"}, "reply_to_user": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511292803, "post_id": 47420870, "comment_id": 81796767, "body": "Sorry, please check the edited answer its <code>ItemClickSupport.addTo(recyclerView3).OnItemLongClickListene&zwnj;&#8203;r</code> not <code>ItemClickSupport.addTo(recyclerView3).setOnItemLongClickList&zwnj;&#8203;ener</code>"}, {"owner": {"reputation": 2164, "user_id": 5245903, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-5fU-jiQTlHk/AAAAAAAAAAI/AAAAAAAAABE/4mAEDlzlHQs/photo.jpg?sz=128", "display_name": "Veneet Reddy", "link": "https://stackoverflow.com/users/5245903/veneet-reddy"}, "reply_to_user": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511294324, "post_id": 47420870, "comment_id": 81797629, "body": "So your <code>ItemClickSupport</code> is it a java class or a kotlin class?"}, {"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511294393, "post_id": 47420870, "comment_id": 81797666, "body": "its a java class but it works with the onClick thing that shouldnt matter should it?"}, {"owner": {"reputation": 2164, "user_id": 5245903, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-5fU-jiQTlHk/AAAAAAAAAAI/AAAAAAAAABE/4mAEDlzlHQs/photo.jpg?sz=128", "display_name": "Veneet Reddy", "link": "https://stackoverflow.com/users/5245903/veneet-reddy"}, "reply_to_user": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511294606, "post_id": 47420870, "comment_id": 81797782, "body": "If <code>OnItemLongClickListener</code> was a kotlin interface then you can&#39;t use it like a lambda and would have to create an anonymous object. But you say it is a java interface. can you share your version of <code>ItemClickSupport</code> ?"}, {"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511294711, "post_id": 47420870, "comment_id": 81797842, "body": "<a href=\"https://gist.github.com/nesquena/231e356f372f214c4fe6\" rel=\"nofollow noreferrer\">gist.github.com/nesquena/231e356f372f214c4fe6</a> oh now I get what you mean but how can I make it not be lambda? I think I turned on automatic translation to kotlin"}, {"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511296184, "post_id": 47420870, "comment_id": 81798713, "body": "Doesn&#39;t seem to be working I get this error: <code>Error:(119, 74) Object is not abstract and does not implement abstract member public abstract fun onItemLongClicked(recyclerView: RecyclerView!, position: Int, v: View!): Boolean defined in abyte.fitness.fitnessbyte.ItemClickSupport.OnItemLongClickLi&zwnj;&#8203;stener</code>"}, {"owner": {"reputation": 2164, "user_id": 5245903, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-5fU-jiQTlHk/AAAAAAAAAAI/AAAAAAAAABE/4mAEDlzlHQs/photo.jpg?sz=128", "display_name": "Veneet Reddy", "link": "https://stackoverflow.com/users/5245903/veneet-reddy"}, "reply_to_user": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511296616, "post_id": 47420870, "comment_id": 81798959, "body": "Ohh we are referring two different version of the same interface. My method has different parameters than yours. Do one thing type in : <a href=\"https://gist.github.com/VeneetReddyK/c67aea42673b763fc120b0b4e5c78438\" rel=\"nofollow noreferrer\">gist.github.com/VeneetReddyK/c67aea42673b763fc120b0b4e5c7843&zwnj;&#8203;8</a> and press alt + enter(cursor on the error)  and click implement methods."}], "tags": [], "owner": {"reputation": 2164, "user_id": 5245903, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh4.googleusercontent.com/-5fU-jiQTlHk/AAAAAAAAAAI/AAAAAAAAABE/4mAEDlzlHQs/photo.jpg?sz=128", "display_name": "Veneet Reddy", "link": "https://stackoverflow.com/users/5245903/veneet-reddy"}, "is_accepted": true, "score": 2, "last_activity_date": 1511294997, "last_edit_date": 1511294997, "creation_date": 1511291379, "answer_id": 47420870, "question_id": 47420622, "link": "https://stackoverflow.com/questions/47420622/how-do-i-use-a-onitemlongclicklistener-in-my-activity-in-android/47420870#47420870", "title": "How do I use a onItemLongClickListener in my Activity in Android?", "body": "<p>In <code>{recyclerView, position, v -&gt; true}</code>,  <code>recyclerView, position, v</code> are the arguments to your <code>onItemLongClick</code> callback. You would use it like this:</p>\n\n<pre><code>ItemClickSupport.addTo(recyclerView3).setOnItemLongClickListener { recyclerView, view, position, id -&gt;\n    // Use position here\n\n    true // False if not consumed\n}\n</code></pre>\n\n<p><strong><em>Edit:</em></strong></p>\n\n<p>If <code>OnItemLongClickListener</code> is a Kotlin interface you would use it like this:</p>\n\n<pre><code>ItemClickSupport.addTo(recyclerView3).setOnItemLongClickListener(object: ItemClickSupport.OnItemLongClickListener {\n    override fun onItemLongClick(parent: RecyclerView, view: View, position: Int, id: Long): Boolean {\n        TODO(\"not implemented\")\n    }\n})\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1075, "favorite_count": 0, "accepted_answer_id": 47420870, "answer_count": 1, "score": 1, "last_activity_date": 1511294997, "creation_date": 1511290510, "last_edit_date": 1511291131, "question_id": 47420622, "link": "https://stackoverflow.com/questions/47420622/how-do-i-use-a-onitemlongclicklistener-in-my-activity-in-android", "title": "How do I use a onItemLongClickListener in my Activity in Android?", "body": "<p>I am using the <code>ItemClickSupport</code> class and I would like to use their long click listener but how do I know if it has been clicked long? Sadly I didn't find any examples using this.</p>\n\n<pre><code>ItemClickSupport.addTo(recyclerView3).setOnItemLongClickListener { recyclerView, position, v -&gt; true }\n</code></pre>\n\n<p>How do I check if it is true? And how do I get the position it has been clicked at?</p>\n\n<p>ItemClickSupport.java: <a href=\"https://gist.github.com/shayousefi/2d61827ea4ca68ab3d02\" rel=\"nofollow noreferrer\">gist</a></p>\n\n<pre><code>/**\n * A class that adds item click support to a {@link RecyclerView}.\n *\n * @author Hugo Visser\n * @see &lt;a href=\"http://www.littlerobots.nl/blog/Handle-Android-RecyclerView-Clicks/\"&gt;\n * Getting your clicks on RecyclerView&lt;/a&gt;\n */\npublic class ItemClickSupport {\n    private final RecyclerView recyclerView;\n    private OnItemClickListener itemClickListener;\n    private OnItemLongClickListener itemLongClickListener;\n\n    private View.OnClickListener clickListener = new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            if (itemClickListener != null) {\n                final int position = recyclerView.getChildAdapterPosition(v);\n                final long id = recyclerView.getChildItemId(v);\n                itemClickListener.onItemClick(recyclerView, v, position, id);\n            }\n        }\n    };\n\n    private View.OnLongClickListener longClickListener = new View.OnLongClickListener() {\n        @Override\n        public boolean onLongClick(View v) {\n            if (itemLongClickListener != null) {\n                final int position = recyclerView.getChildAdapterPosition(v);\n                final long id = recyclerView.getChildItemId(v);\n                return itemLongClickListener.onItemLongClick(recyclerView, v, position, id);\n            }\n            return false;\n        }\n    };\n\n    private RecyclerView.OnChildAttachStateChangeListener attachListener\n            = new RecyclerView.OnChildAttachStateChangeListener() {\n        @Override\n        public void onChildViewAttachedToWindow(View view) {\n            if (itemClickListener != null) {\n                view.setOnClickListener(clickListener);\n            }\n\n            if (itemLongClickListener != null) {\n                view.setOnLongClickListener(longClickListener);\n            }\n        }\n\n        @Override\n        public void onChildViewDetachedFromWindow(View view) {\n            if (itemClickListener != null) {\n                view.setOnClickListener(null);\n            }\n\n            if (itemLongClickListener != null) {\n                view.setOnLongClickListener(null);\n            }\n        }\n    };\n\n    private ItemClickSupport(RecyclerView recyclerView) {\n        this.recyclerView = recyclerView;\n    }\n\n    public static ItemClickSupport addTo(@NonNull RecyclerView view) {\n        ItemClickSupport support = (ItemClickSupport) view.getTag(R.id.item_click_support);\n        if (support == null) {\n            support = new ItemClickSupport(view);\n            support.attach(view);\n        } else {\n            Log.w(\"RecyclerView already has ItemClickSupport.\");\n        }\n        return support;\n    }\n\n    private void attach(RecyclerView view) {\n        view.setTag(R.id.item_click_support, this);\n        view.addOnChildAttachStateChangeListener(attachListener);\n    }\n\n    public static ItemClickSupport removeFrom(@NonNull RecyclerView view) {\n        ItemClickSupport support = (ItemClickSupport) view.getTag(R.id.item_click_support);\n        if (support != null) {\n            support.detach(view);\n        } else {\n            Log.w(\"RecyclerView does not have ItemClickSupport.\");\n        }\n        return support;\n    }\n\n    private void detach(RecyclerView view) {\n        view.removeOnChildAttachStateChangeListener(attachListener);\n        view.setTag(R.id.item_click_support, null);\n        itemClickListener = null;\n        itemLongClickListener = null;\n    }\n\n    /**\n     * @return The callback to be invoked when an item in the {@link RecyclerView}\n     * has been clicked, or {@code null} if no callback has been set.\n     */\n    public OnItemClickListener getOnItemClickListener() {\n        return itemClickListener;\n    }\n\n    /**\n     * Register a callback to be invoked when an item in the\n     * {@link RecyclerView} has been clicked.\n     *\n     * @param listener callback that will be invoked\n     */\n    public ItemClickSupport setOnItemClickListener(OnItemClickListener listener) {\n        itemClickListener = listener;\n        return this;\n    }\n\n    /**\n     * @return The callback to be invoked when an item in the {@link RecyclerView}\n     * has been clicked and held, or {@code null} if no callback has been set.\n     */\n    public OnItemLongClickListener getOnItemLongClickListener() {\n        return itemLongClickListener;\n    }\n\n    /**\n     * Register a callback to be invoked when an item in the\n     * {@link RecyclerView} has been clicked and held.\n     *\n     * @param listener callback that will be invoked\n     */\n    public ItemClickSupport setOnItemLongClickListener(OnItemLongClickListener listener) {\n        itemLongClickListener = listener;\n        return this;\n    }\n\n    /**\n     * Interface definition for a callback to be invoked when an item in the\n     * {@link RecyclerView} has been clicked.\n     */\n    public interface OnItemClickListener {\n        /**\n         * Callback method to be invoked when an item in the {@code RecyclerView}\n         * has been clicked.\n         *\n         * @param parent   {@code RecyclerView} where the click happened\n         * @param view     view within the {@code RecyclerView} that was clicked\n         * @param position position of the view in the adapter\n         * @param id       row ID of the item that was clicked\n         */\n        void onItemClick(RecyclerView parent, View view, int position, long id);\n    }\n\n    /**\n     * Interface definition for a callback to be invoked when an item in the\n     * {@link RecyclerView} has been clicked and held.\n     */\n    public interface OnItemLongClickListener {\n        /**\n         * Callback method to be invoked when an item in the {@code RecyclerView}\n         * has been clicked and held.\n         *\n         * @param parent   {@code RecyclerView} where the click happened\n         * @param view     view within the {@code RecyclerView} that was clicked\n         * @param position position of the view in the adapter\n         * @param id       row ID of the item that was clicked\n         * @return {@code true} if the callback consumed the long click; {@code false} otherwise.\n         */\n        boolean onItemLongClick(RecyclerView parent, View view, int position, long id);\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "lambda", "kotlin", "inline"], "answers": [{"comments": [{"owner": {"reputation": 1585, "user_id": 3702021, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1673bafe8b7a003e126bc5b8b2b460b9?s=128&d=identicon&r=PG&f=1", "display_name": "Kasim Rangwala", "link": "https://stackoverflow.com/users/3702021/kasim-rangwala"}, "edited": false, "score": 0, "creation_date": 1511290774, "post_id": 47420557, "comment_id": 81795529, "body": "Thanks for giving awesome explanation. So, I need to remove <code>inline</code> keyword from <code>function</code> and add <code>noinline</code> keyword to <code>callback</code> parameter. right?"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 1585, "user_id": 3702021, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1673bafe8b7a003e126bc5b8b2b460b9?s=128&d=identicon&r=PG&f=1", "display_name": "Kasim Rangwala", "link": "https://stackoverflow.com/users/3702021/kasim-rangwala"}, "edited": false, "score": 0, "creation_date": 1511290845, "post_id": 47420557, "comment_id": 81795577, "body": "@Ka7Im1011 <code>noinline</code> results in a compile error if the function is not <code>inline</code>, so you just need to remove the <code>inline</code> keyword from the function."}, {"owner": {"reputation": 1585, "user_id": 3702021, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1673bafe8b7a003e126bc5b8b2b460b9?s=128&d=identicon&r=PG&f=1", "display_name": "Kasim Rangwala", "link": "https://stackoverflow.com/users/3702021/kasim-rangwala"}, "edited": false, "score": 0, "creation_date": 1511290930, "post_id": 47420557, "comment_id": 81795620, "body": "Sorry Your answer updated. So, I can achieve better performance using <code>pendingAuthenticateCallbacks += { callback() }</code> with inline function. right?"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 1585, "user_id": 3702021, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1673bafe8b7a003e126bc5b8b2b460b9?s=128&d=identicon&r=PG&f=1", "display_name": "Kasim Rangwala", "link": "https://stackoverflow.com/users/3702021/kasim-rangwala"}, "edited": false, "score": 0, "creation_date": 1511291074, "post_id": 47420557, "comment_id": 81795703, "body": "@Ka7Im1011 I meant to add that of an example of what is <i>possible</i>. I should clarify this (I will edit it) but no, it would be better to just make the function <i>not</i> <code>inline</code>."}, {"owner": {"reputation": 1585, "user_id": 3702021, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1673bafe8b7a003e126bc5b8b2b460b9?s=128&d=identicon&r=PG&f=1", "display_name": "Kasim Rangwala", "link": "https://stackoverflow.com/users/3702021/kasim-rangwala"}, "edited": false, "score": 0, "creation_date": 1511291254, "post_id": 47420557, "comment_id": 81795800, "body": "again Thanks for this detailed explanation."}], "tags": [], "owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "is_accepted": true, "score": 11, "last_activity_date": 1511291427, "last_edit_date": 1511291427, "creation_date": 1511290286, "answer_id": 47420557, "question_id": 47419811, "link": "https://stackoverflow.com/questions/47419811/kotlin-illegal-usage-of-inline-parameter-callback/47420557#47420557", "title": "Kotlin - Illegal usage of inline parameter callback", "body": "<p><a href=\"https://kotlinlang.org/docs/reference/inline-functions.html\" rel=\"noreferrer\">Inlining inserts the code in the lambda <em>directly</em> into the call site</a>, which removes the overhead of having a function object.</p>\n\n<p>For example, this roughly results in <code>main</code> here:</p>\n\n<pre><code>fun withLambda(lambda: () -&gt; Unit) {\n    lambda()\n}\n\ninline fun inlinedLambda(lambda: () -&gt; Unit) {\n    lambda()\n}\n\nfun main(args: Array&lt;String&gt;) {\n    withLambda { println(\"Hello, world\") }\n    inlinedLambda { println(\"Hello, world\") }\n}\n</code></pre>\n\n<p>being converted to this:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    withLambda { println(\"Hello, world\") }\n    println(\"Hello, world\") // &lt;- Directly inserted!\n}\n</code></pre>\n\n<p>If you have</p>\n\n<pre><code>pendingAuthenticateCallbacks += callback\n</code></pre>\n\n<p>This is impossible because <code>callback</code> must be an object in order for it to be added to the list.</p>\n\n<p>You need to add the <code>noinline</code> modifier.</p>\n\n<p>A rough approximation would be to say that an inlined lambda cannot be treated as an object, as it <em>doesn't really exist</em> as an object. It is used directly instead of being created as an object.</p>\n\n<p>Of course, you could create a containing lambda:</p>\n\n<pre><code>pendingAuthenticateCallbacks += { callback() } // Not a good idea\n</code></pre>\n\n<p>but this would entirely defeat the point of inlining (don't do this!).</p>\n\n<p>However, making the parameter <code>noinline</code> would mean your method now has zero lambda parameters that can be inlined, so you might as well just remove the <code>inline</code> modifier as performance benefit would be minimal.</p>\n\n<p>The compiler should recognize this:</p>\n\n<blockquote>\n  <p>Note that if an inline function has no inlinable function parameters and no reified type parameters, the compiler will issue a warning, since inlining such functions is very unlikely to be beneficial.</p>\n</blockquote>\n\n<hr>\n\n<p>The main reason for inlining methods is for performance <em>when using lambdas</em> and for <a href=\"https://kotlinlang.org/docs/reference/inline-functions.html#reified-type-parameters\" rel=\"noreferrer\"><code>reified</code> generic type parameters</a>. As of Kotlin 1.1, it is also possible to have an inline property accessor for properties without a backing field.</p>\n\n<hr>\n\n<p>In short, if you have no lambda parameters (or no <code>reified</code> type parameters, in which case you <em>must</em>), it is usually pointless to mark a function as <code>inline</code>.</p>\n"}], "owner": {"reputation": 1585, "user_id": 3702021, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/1673bafe8b7a003e126bc5b8b2b460b9?s=128&d=identicon&r=PG&f=1", "display_name": "Kasim Rangwala", "link": "https://stackoverflow.com/users/3702021/kasim-rangwala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 866, "favorite_count": 2, "accepted_answer_id": 47420557, "answer_count": 1, "score": 1, "last_activity_date": 1511291427, "creation_date": 1511287557, "question_id": 47419811, "link": "https://stackoverflow.com/questions/47419811/kotlin-illegal-usage-of-inline-parameter-callback", "title": "Kotlin - Illegal usage of inline parameter callback", "body": "<p>I'm converting my <code>function</code> having <code>lambda</code> as <code>parameter</code> into <code>inline function</code> for performance improvement. </p>\n\n<p>I have <code>list</code> of <code>lambda</code> of type <code>MutableList&lt;(Authenticate) -&gt; Unit&gt;</code> variable as data member in class. When I try to adding <code>lambda parameter</code> into the <code>list</code>.</p>\n\n<p>Kotlin compiler says:</p>\n\n<blockquote>\n  <p>Illegal usage of inline parameter callback</p>\n</blockquote>\n\n<p>Here is the code</p>\n\n<pre><code>// Some code skipped\nobject Odoo {\n\n    val pendingAuthenticateCallbacks = mutableListOf&lt;(Authenticate) -&gt; Unit&gt;()\n\n    inline fun authenticate(\n        login: String, password: String, database: String,\n        quick: Boolean = false, crossinline callback: Authenticate.() -&gt; Unit\n    ) {\n        // Following statement has error saying\n        // Illegal usage of inline parameter callback. add 'noinline' modifier to parameter declaration.\n        pendingAuthenticateCallbacks += callback\n        // Error in above statement\n\n        if (pendingAuthenticateCallbacks.size == 1) {\n            // Retrofit2 Object boxing code skipped\n            val call = request.authenticate(requestBody)\n            call.enqueue(object : Callback&lt;Authenticate&gt; {\n                override fun onFailure(call: Call&lt;Authenticate&gt;, t: Throwable) {\n                    (pendingAuthenticateCallbacks.size - 1 downTo 0)\n                            .map { pendingAuthenticateCallbacks.removeAt(it) }\n                            .forEach {\n                                it(Authenticate(httpError = HttpError(\n                                        Int.MAX_VALUE,\n                                        t.message!!\n                                )))\n                            }\n                }\n\n                override fun onResponse(call: Call&lt;Authenticate&gt;, response: Response&lt;Authenticate&gt;) {\n                    (pendingAuthenticateCallbacks.size - 1 downTo 0)\n                            .map { pendingAuthenticateCallbacks.removeAt(it) }\n                            .forEach {\n                                it(Authenticate(httpError = HttpError(\n                                        response.code(),\n                                        response.errorBody()!!.string()\n                                )))\n                            }\n                }\n            })\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin", "build.gradle", "kotlin-interop"], "comments": [{"owner": {"reputation": 1054, "user_id": 6442877, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/jjWt9.jpg?s=128&g=1", "display_name": "Seyed Ali Roshan", "link": "https://stackoverflow.com/users/6442877/seyed-ali-roshan"}, "edited": false, "score": 1, "creation_date": 1516651678, "post_id": 47419597, "comment_id": 83766586, "body": "I have the same problem, did you find any solution?"}, {"owner": {"reputation": 1160, "user_id": 1200059, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5f68648d6decfcd392940172525b5f9f?s=128&d=identicon&r=PG", "display_name": "Pedro Teran", "link": "https://stackoverflow.com/users/1200059/pedro-teran"}, "edited": false, "score": 0, "creation_date": 1595459523, "post_id": 47419597, "comment_id": 111485754, "body": "how did you solved your issue I am seeing the same issue in a legacy project that is starting to migrate slowly to kotlin"}], "answers": [{"tags": [], "owner": {"reputation": 2697, "user_id": 4650581, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-hmKpWSd9B4U/AAAAAAAAAAI/AAAAAAAAAK4/xL06IHBoIyo/photo.jpg?sz=128", "display_name": "Misagh", "link": "https://stackoverflow.com/users/4650581/misagh"}, "is_accepted": false, "score": 0, "last_activity_date": 1530947647, "creation_date": 1530947647, "answer_id": 51220884, "question_id": 47419597, "link": "https://stackoverflow.com/questions/47419597/kotlin-files-not-able-to-use-r-java/51220884#51220884", "title": "Kotlin files not able to use R.java", "body": "<p>Add the following under <em>android</em> section in your application module:</p>\n\n<pre><code>android {\n  ...\n  sourceSets {\n    main.java.srcDirs += 'src/main/kotlin'\n  }\n}\n</code></pre>\n\n<blockquote>\n  <p>This lets Android Studio know that the kotlin directory is a source\n  root, so when the project model is loaded into the IDE it will be\n  properly recognized. Alternatively, you can put Kotlin classes in the\n  Java source directory, typically located in <code>src/main/java</code>.</p>\n</blockquote>\n\n<hr>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/using-gradle.html#android-studio\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/using-gradle.html#android-studio</a></p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 6545113, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6IkYNsn0dWQ/AAAAAAAAAAI/AAAAAAAAA7U/s6MmiL-mo0s/photo.jpg?sz=128", "display_name": "Miguel Vieira", "link": "https://stackoverflow.com/users/6545113/miguel-vieira"}, "is_accepted": false, "score": 0, "last_activity_date": 1538517451, "creation_date": 1538517451, "answer_id": 52617008, "question_id": 47419597, "link": "https://stackoverflow.com/questions/47419597/kotlin-files-not-able-to-use-r-java/52617008#52617008", "title": "Kotlin files not able to use R.java", "body": "<p>If you have a warning in your project please fix it.\nin my case my Gradle version had a version Compile warning.\nthe App runs fine but the R class was not recognized, so I change the gradle version and fix the warnings and all works well. </p>\n"}, {"tags": [], "owner": {"reputation": 548, "user_id": 5871026, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1eo9N.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/5871026/reza"}, "is_accepted": false, "score": 1, "last_activity_date": 1548435491, "creation_date": 1548435491, "answer_id": 54369710, "question_id": 47419597, "link": "https://stackoverflow.com/questions/47419597/kotlin-files-not-able-to-use-r-java/54369710#54369710", "title": "Kotlin files not able to use R.java", "body": "<p><strong>Invalidate Caches/Restart worked for me.</strong></p>\n\n<pre><code>Runtime JAR files in the classpath should have the same version. These files were found in the classpath:\nC:/Users/R3ZA/.gradle/caches/modules-2/files-2.1/me.eugeniomarletti.kotlin.metadata/kotlin-compiler-lite/1.0.3-k-1.2.40/a16e967c276379eaf6e1fa03af77664f003db947/kotlin-compiler-lite-1.0.3-k-1.2.40.jar (version 1.2)\nC:/Users/R3ZA/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib/1.3.20/eb2a232734e09fcd1b958a5c7520a93c6de38b32/kotlin-stdlib-1.3.20.jar (version 1.3)\nC:/Users/R3ZA/.gradle/caches/modules-2/files-2.1/org.jetbrains.kotlin/kotlin-stdlib-common/1.3.20/7d7934e26ce34da1a0a8d00e38038d7cf3375e89/kotlin-stdlib-common-1.3.20.jar (version 1.3)\n</code></pre>\n"}], "owner": {"reputation": 235, "user_id": 218321, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/ffaa79e4db4e2eec3a0ecbd199ab5307?s=128&d=identicon&r=PG&f=1", "display_name": "Sarindipity", "link": "https://stackoverflow.com/users/218321/sarindipity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1522, "favorite_count": 0, "answer_count": 3, "score": 5, "last_activity_date": 1548435491, "creation_date": 1511286819, "last_edit_date": 1511287522, "question_id": 47419597, "link": "https://stackoverflow.com/questions/47419597/kotlin-files-not-able-to-use-r-java", "title": "Kotlin files not able to use R.java", "body": "<p>I created a new layout file in the appropriate resource folder. After syncing, when I try to reference the layout file, i.e. R.layout.activity_test, R is an \"unresolved symbol\". When I try to build in AS it fails.</p>\n\n<p>The interesting thing is that if I manually import the R file and use it in code, when I try to build on command line, it works. The other thing is when I try to access the layout file using R in a Java file, that also works. So I know R.java is being generated.</p>\n\n<p>I tried creating a totally new project, and R is accessible in Kotlin files.</p>\n\n<p>What is the problem here?</p>\n\n<p>Things I have tried:</p>\n\n<ul>\n<li><p>Cleaned then built</p></li>\n<li><p>Invalidated Caches / Restart</p></li>\n<li><p>Blow away .gradle folders and recreate indexes</p></li>\n</ul>\n\n<p>Other info:</p>\n\n<ul>\n<li><p>AS v3.0.1</p></li>\n<li><p>Tried both Kotlin v1.1.2-4 and v1.1.60</p></li>\n<li><p>Gradle v4.2.1</p></li>\n<li><p>Gradle Plugin v3.0.0</p></li>\n</ul>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 251753, "user_id": 129570, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/aa98a2c5baceef5ffcaf95fdde12b8fb?s=128&d=identicon&r=PG", "display_name": "Oliver Charlesworth", "link": "https://stackoverflow.com/users/129570/oliver-charlesworth"}, "edited": false, "score": 0, "creation_date": 1511287277, "post_id": 47419435, "comment_id": 81793576, "body": "Note that <code>kotlin.collections.ArrayList</code> is declared as a type alias of <code>java.util.ArrayList</code>, so you&#39;re not gaining a lot there :)"}], "answers": [{"comments": [{"owner": {"reputation": 2419, "user_id": 5689605, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/dY18P.jpg?s=128&g=1", "display_name": "Debanjan", "link": "https://stackoverflow.com/users/5689605/debanjan"}, "edited": false, "score": 3, "creation_date": 1522421099, "post_id": 47424626, "comment_id": 86160363, "body": "But LinkedList in Java is not a child of MutableList in Kotlin, and that&#39;s a problem"}, {"owner": {"reputation": 286, "user_id": 237521, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/18015a91e4fd3d8fe68e621cc421b365?s=128&d=identicon&r=PG&f=1", "display_name": "Robert de W", "link": "https://stackoverflow.com/users/237521/robert-de-w"}, "edited": false, "score": 2, "creation_date": 1546117768, "post_id": 47424626, "comment_id": 94784385, "body": "And for multiplatform it would be nice to have the common implementation"}], "tags": [], "owner": {"reputation": 14070, "user_id": 868492, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cdfab916eb0bb5da98df29a321dc86ab?s=128&d=identicon&r=PG", "display_name": "James McCracken", "link": "https://stackoverflow.com/users/868492/james-mccracken"}, "is_accepted": true, "score": 8, "last_activity_date": 1543373828, "last_edit_date": 1543373828, "creation_date": 1511308010, "answer_id": 47424626, "question_id": 47419435, "link": "https://stackoverflow.com/questions/47419435/kotlin-linkedlist-implementation/47424626#47424626", "title": "Kotlin: LinkedList Implementation", "body": "<p>Kotlin does not have its own collections because it would be too difficult to maintain Java interoperability.  Instead, the Kotlin Standard Library just adds some extension functions to the Java collections to make them easier to work with.</p>\n\n<p>To quote <a href=\"https://www.manning.com/books/kotlin-in-action\" rel=\"nofollow noreferrer\">Kotlin in Action</a>:</p>\n\n<blockquote>\n  <p>Why are there no Kotlin collections? Because using the standard Java collections makes it much easier to interact with Java code. You don\u2019t need to convert collections one way or the other when you call Java functions from Kotlin or vice versa.</p>\n</blockquote>\n"}], "owner": {"reputation": 1232, "user_id": 5446845, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8b76d68d066d4f3cf0dd711287606242?s=128&d=identicon&r=PG&f=1", "display_name": "Poweranimal", "link": "https://stackoverflow.com/users/5446845/poweranimal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3814, "favorite_count": 1, "accepted_answer_id": 47424626, "answer_count": 1, "score": 9, "last_activity_date": 1543373828, "creation_date": 1511286322, "question_id": 47419435, "link": "https://stackoverflow.com/questions/47419435/kotlin-linkedlist-implementation", "title": "Kotlin: LinkedList Implementation", "body": "<p>Why does Kotlin not have a <code>LinkedList</code> implementation in the Kotlin Standard Library (stdlib)?</p>\n\n<p>If I'm working with Kotlin in the JVM I'm using the Java <code>LinkedList</code> <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html\" rel=\"noreferrer\">source</a>.</p>\n\n<p>Is there an equivalent in the stdlib (in particular regarding Kotlin Native Development)?</p>\n"}, {"tags": ["android", "mvvm", "kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "edited": false, "score": 0, "creation_date": 1511297244, "post_id": 47419072, "comment_id": 81799289, "body": "why can&#39;t you do the same thing as in the abstract <code>onSuccess</code> method?"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "edited": false, "score": 0, "creation_date": 1511363494, "post_id": 47419072, "comment_id": 81830525, "body": "do you mean pass error in second parameter of on success ?"}, {"owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "edited": false, "score": 0, "creation_date": 1511364091, "post_id": 47419072, "comment_id": 81830981, "body": "no, I mean defining another abstract method, something like: <code>onFail</code>."}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 303, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511285075, "creation_date": 1511285075, "question_id": 47419072, "link": "https://stackoverflow.com/questions/47419072/how-to-handle-error-handling-at-single-place-in-rxjava-using-wrapper", "title": "How to handle error handling at single place in rxjava using wrapper", "body": "<p>Hi I made a <code>CallbackWrapper</code> to handle error handling at single place in <code>rxjava</code>. </p>\n\n<pre><code>abstract class CallbackWrapper&lt;T : BaseResponse&gt; : DisposableObserver&lt;T&gt;() {\n\n    protected abstract fun onSuccess(t: T)\n\n    override fun onNext(t: T) {\n        onSuccess(t)\n    }\n\n    override fun onError(e: Throwable) {\n        when (e) {\n            is HttpException -&gt; {\n                val responseBody = (e as HttpException).response().errorBody()\n                responseBody?.let {\n                    // todo\n                }\n            }\n            is SocketTimeoutException -&gt; {\n                // todo\n            }\n            is IOException -&gt; {\n                // todo\n            }\n            else -&gt; {\n                e.message?.let {\n                    // todo\n                }\n            }\n        }\n    }\n\n\n    override fun onComplete() {\n\n    }\n\n    private fun getErrorMessage(responseBody: ResponseBody): String {\n        val jsonObject = JSONObject(responseBody.string())\n        return jsonObject.getString((\"message\"))\n    }\n}\n</code></pre>\n\n<p>I am calling it like below in my <code>LoginViewModel</code> class.</p>\n\n<pre><code>apiHelper.doServerLoginApiCall(email, password)\n                    .subscribeOn(Schedulers.io())\n                    .observeOn(AndroidSchedulers.mainThread())\n                    .subscribeWith(object : CallbackWrapper&lt;LoginResponse&gt;() {\n\n                        override fun onSuccess(loginResponse: LoginResponse) {\n                            progressVisibility.set(View.GONE)\n                        }\n                    })\n</code></pre>\n\n<p>I have <code>onError</code> method in <code>CallbackWrapper</code> which notifies if there is any error. I don't know how to send this error information to view model. I am using MVVM design pattern.</p>\n\n<p>Can anyone hint me ?</p>\n"}, {"tags": ["android", "android-studio", "intellij-idea", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 9828, "user_id": 2000323, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/70a95484b8877a108fc979ce4ee1c9d8?s=128&d=identicon&r=PG", "display_name": "Andrey", "link": "https://stackoverflow.com/users/2000323/andrey"}, "edited": false, "score": 0, "creation_date": 1511338638, "post_id": 47418138, "comment_id": 81813961, "body": "What Gradle version do you use? The thread in related <a href=\"https://youtrack.jetbrains.com/issue/KT-20967\" rel=\"nofollow noreferrer\">KT-20967</a> issue advises to use more recent Gradle version."}], "answers": [{"tags": [], "owner": {"reputation": 5176, "user_id": 923920, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/j5nnb.jpg?s=128&g=1", "display_name": "Phileo99", "link": "https://stackoverflow.com/users/923920/phileo99"}, "is_accepted": false, "score": 4, "last_activity_date": 1511304294, "last_edit_date": 1511304294, "creation_date": 1511303818, "answer_id": 47423927, "question_id": 47418138, "link": "https://stackoverflow.com/questions/47418138/unable-to-load-class-kotlin-collections-collectionskt-error-when-trying-to-syn/47423927#47423927", "title": "Unable to load class &#39;kotlin.collections.CollectionsKT&#39; error when trying to sync gradle", "body": "<p>Strange, I started experiencing this issue today as well.\nIn my case, I did not need to disable the Kotlin plugin, but I did need to upgrade the Gradle distribution (in the gradle-wrapper.properties) from 3.3 to 4.1\nSomeone logged a <a href=\"https://issuetracker.google.com/issues/69590107\" rel=\"nofollow noreferrer\">ticket</a> in the issue tracker for this.\nIf you could provide your feedback there and vote up that issue, it may help to get this resolved quicker.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9010455, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25d9f7f437f8253feb8ce8569f379fb5?s=128&d=identicon&r=PG&f=1", "display_name": "Bhargav Bandla", "link": "https://stackoverflow.com/users/9010455/bhargav-bandla"}, "is_accepted": false, "score": 0, "last_activity_date": 1511704058, "creation_date": 1511704058, "answer_id": 47496821, "question_id": 47418138, "link": "https://stackoverflow.com/questions/47418138/unable-to-load-class-kotlin-collections-collectionskt-error-when-trying-to-syn/47496821#47496821", "title": "Unable to load class &#39;kotlin.collections.CollectionsKT&#39; error when trying to sync gradle", "body": "<p>I had the same problem when I was trying out a sample project on GitHub. I had no idea why this is happening, later I realised that the gradle version in <strong>gradle-wrapper.properties</strong> and the gradle version installed on my machine are different. So I just updated the gradle-wrapper.properties to take latest gradle version installed. Everything built smoothly.</p>\n\n<p>You may also have a mismatch in gradle build tools version in build.gradle file. Update that as well if required. This is how my build.gradle look like after updating</p>\n\n<pre><code>buildscript {\nrepositories {\n    jcenter()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:2.3.3'\n    classpath 'com.neenbedankt.gradle.plugins:android-apt:1.4'\n}\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 187, "user_id": 4425374, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-rWTWCQyw4n8/AAAAAAAAAAI/AAAAAAAADMk/9GIdXxBjUN4/photo.jpg?sz=128", "display_name": "Jeremy Jao", "link": "https://stackoverflow.com/users/4425374/jeremy-jao"}, "edited": false, "score": 1, "creation_date": 1596505866, "post_id": 63239150, "comment_id": 111826073, "body": "This fixed my issue, too."}], "tags": [], "owner": {"reputation": 275, "user_id": 366906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125724928499e50768f6e76022820b8d?s=128&d=identicon&r=PG", "display_name": "drc", "link": "https://stackoverflow.com/users/366906/drc"}, "is_accepted": false, "score": 1, "last_activity_date": 1596505822, "creation_date": 1596505822, "answer_id": 63239150, "question_id": 47418138, "link": "https://stackoverflow.com/questions/47418138/unable-to-load-class-kotlin-collections-collectionskt-error-when-trying-to-syn/63239150#63239150", "title": "Unable to load class &#39;kotlin.collections.CollectionsKT&#39; error when trying to sync gradle", "body": "<p>Proguard obfuscation will also do this; you may need to set <code>minifyEnabled false</code> in your <code>build.gradle</code></p>\n"}], "owner": {"reputation": 1011, "user_id": 8980861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbcd55f57aca2c891205ccec6bf558da?s=128&d=identicon&r=PG&f=1", "display_name": "Erik", "link": "https://stackoverflow.com/users/8980861/erik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3468, "favorite_count": 0, "answer_count": 3, "score": 5, "last_activity_date": 1596505822, "creation_date": 1511282151, "last_edit_date": 1511457115, "question_id": 47418138, "link": "https://stackoverflow.com/questions/47418138/unable-to-load-class-kotlin-collections-collectionskt-error-when-trying-to-syn", "title": "Unable to load class &#39;kotlin.collections.CollectionsKT&#39; error when trying to sync gradle", "body": "<p>Today I started to get the error <code>Unable to load class 'kotlin.collections.CollectionsKT'</code> (as show in <a href=\"https://i.stack.imgur.com/nTpVx.png\" rel=\"nofollow noreferrer\">this</a> image) every time I try to gradle sync my project. I couldn't find anything on this error and the only solution seems to be to disable kotlin plugin on Intellij. Some of my projects doesn't have kotlin, but others have (the ones without kotlin also throw this error when trying to sync), so that isn't viable option.</p>\n\n<p>Does anyone have any clue on what it could be?</p>\n"}, {"tags": ["android", "kotlin", "moxy", "android-moxy"], "comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1511275017, "post_id": 47413931, "comment_id": 81784928, "body": "&quot;But it is subtype!&quot; It isn&#39;t, <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/generics.html</a> explains why."}], "answers": [{"comments": [{"owner": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "edited": false, "score": 0, "creation_date": 1511353099, "post_id": 47415335, "comment_id": 81823170, "body": "Well in that case I have same error when I have something like class:RealPresenter : BaseConnectionPresenter&lt;SomeView&gt;()"}, {"owner": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "edited": false, "score": 0, "creation_date": 1511353803, "post_id": 47415335, "comment_id": 81823613, "body": "Also impossible to correctly use viewState in Moxy from BaseConnectionView if you pass BaseView to BasePresenter"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1511273939, "creation_date": 1511273939, "answer_id": 47415335, "question_id": 47413931, "link": "https://stackoverflow.com/questions/47413931/kotlin-resolve-generic-inheritance/47415335#47415335", "title": "Kotlin: resolve generic inheritance", "body": "<p><code>BaseConnectionPresenter</code> is a subtyp of <code>BasePresenter&lt;T&gt;</code> with <code>T: BaseConnectionView</code>. The function <code>getPresenter</code> only returns <code>BasePresenter&lt;BaseView&gt;</code>. There's a problem because <code>BasePresenter&lt;T&gt;</code> is not garanteed to be <code>BasePresenter&lt;BaseView&gt;</code>. The following fixes it:</p>\n\n<pre><code>class BaseConnectionPresenter&lt;T : BaseConnectionView&gt; : BasePresenter&lt;BaseView&gt;()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "is_accepted": true, "score": 0, "last_activity_date": 1511354033, "creation_date": 1511354033, "answer_id": 47434855, "question_id": 47413931, "link": "https://stackoverflow.com/questions/47413931/kotlin-resolve-generic-inheritance/47434855#47434855", "title": "Kotlin: resolve generic inheritance", "body": "<p>Solution was easier than I think if use star-projections</p>\n\n<p>So in BaseActivity I replaced</p>\n\n<pre><code>abstract fun getPresenter():BasePresenter&lt;BaseView&gt;\n</code></pre>\n\n<p>To</p>\n\n<pre><code>abstract fun getPresenter():BasePresenter&lt;*&gt;\n</code></pre>\n\n<p>And then I can just override it with new presenter, like</p>\n\n<pre><code>override abstract fun getPresenter(): BaseConnectionPresenter&lt;*&gt;\n</code></pre>\n"}], "owner": {"reputation": 4964, "user_id": 3891376, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/y4V8u.png?s=128&g=1", "display_name": "Andrey Danilov", "link": "https://stackoverflow.com/users/3891376/andrey-danilov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 850, "favorite_count": 1, "accepted_answer_id": 47434855, "answer_count": 2, "score": 0, "last_activity_date": 1511354033, "creation_date": 1511269802, "question_id": 47413931, "link": "https://stackoverflow.com/questions/47413931/kotlin-resolve-generic-inheritance", "title": "Kotlin: resolve generic inheritance", "body": "<p>After reading same articles I still cannot solve generics problem:</p>\n\n<p>I have BaseActivity:</p>\n\n<pre><code>abstract class BaseActivity : MvpAppCompatActivity(), BaseView {\n    abstract fun getPresenter():BasePresenter&lt;BaseView&gt;\n}\n</code></pre>\n\n<p>BaseView interface for it</p>\n\n<pre><code>interface BaseView : MvpView\n</code></pre>\n\n<p>And for sure BasePresenter</p>\n\n<pre><code>open class BasePresenter&lt;T : BaseView&gt; : MvpPresenter&lt;T&gt;() \n</code></pre>\n\n<p>Then I create BaseConnectionView</p>\n\n<pre><code>interface BaseConnectionView : BaseView\n</code></pre>\n\n<p>And BaseConnectionPresenter</p>\n\n<pre><code>class BaseConnectionPresenter&lt;T : BaseConnectionView&gt; : BasePresenter&lt;T&gt;()\n</code></pre>\n\n<p>So when I create BaseConnectionActivity </p>\n\n<pre><code>abstract class BaseConnectionActivity : BaseActivity(),BaseConnectionView {\n    override abstract fun getPresenter(): BaseConnectionPresenter&lt;BaseConnectionView&gt;\n}\n</code></pre>\n\n<p>I have error:</p>\n\n<pre><code>Return type is BaseConnectionPresenter&lt;BaseConnectionView&gt;, \nwhich is not a subtype of overridden \npublic abstract fun getPresenter():BasePresenter&lt;BaseView&gt;\n</code></pre>\n\n<p>But <strong>it is</strong> subtype!</p>\n\n<p>How can I solve this problem?</p>\n"}, {"tags": ["android", "kotlin", "rx-java2", "viper"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 4144576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2d4bcb01c4fb85616d07f297590bc26?s=128&d=identicon&r=PG&f=1", "display_name": "Sajid Ali", "link": "https://stackoverflow.com/users/4144576/sajid-ali"}, "is_accepted": true, "score": 1, "last_activity_date": 1511352907, "creation_date": 1511352907, "answer_id": 47434485, "question_id": 47413064, "link": "https://stackoverflow.com/questions/47413064/handle-onkeydown-using-rxandroid/47434485#47434485", "title": "handle onKeyDown using RxAndroid", "body": "<p>I ended up creating my own Event Handler (although its not using RxJava but it does the job in my case)</p>\n\n<pre><code>object KeyEventManager {\n\nprivate val handlers: MutableMap&lt;Int, (KeyEvent?) -&gt; Boolean&gt; = ArrayMap()\n\nfun register(handler: (KeyEvent?) -&gt; Boolean): Int {\n    val id = (handlers.keys.max() ?: 0) + 1\n    handlers.put(id, handler)\n    return id\n}\n\nfun unregister(id: Int) {\n    handlers.remove(id)\n}\n\nfun postEvent(event: KeyEvent?): Boolean {\n    for (key in handlers.keys) {\n        handlers.get(key)?.run {\n            if (invoke(event)) {\n                return true\n            }\n        }\n    }\n    return false\n}\n\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4144576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2d4bcb01c4fb85616d07f297590bc26?s=128&d=identicon&r=PG&f=1", "display_name": "Sajid Ali", "link": "https://stackoverflow.com/users/4144576/sajid-ali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 298, "favorite_count": 0, "accepted_answer_id": 47434485, "answer_count": 1, "score": 1, "last_activity_date": 1511352907, "creation_date": 1511267054, "question_id": 47413064, "link": "https://stackoverflow.com/questions/47413064/handle-onkeydown-using-rxandroid", "title": "handle onKeyDown using RxAndroid", "body": "<p>I am using <a href=\"https://github.com/mkoslacz/Moviper\" rel=\"nofollow noreferrer\">https://github.com/mkoslacz/Moviper</a> for my app for Android Tv Box. There is only one activity with multiple child fragments. I want to propagate the onKeyDown to child fragments only if event is not already handled. It was easy to do without using RxJava. I could return a boolean to tell that event is already handled or not.  Is there a way I can handle it using RxJava? I am using Kotlin as source language. Here is something I am trying to do.</p>\n\n<pre><code>class MainActivity : ViperAiPassiveActivity&lt;HomeContract.View&gt;(), HomeContract.View {\n\nprivate val keyPressSubject = BehaviorSubject.create&lt;KeyEvent&gt;()\nprivate lateinit var predicate: (KeyEvent) -&gt; Boolean\n\noverride fun keyPresses(predicate: (KeyEvent) -&gt; Boolean): Observable&lt;KeyEvent&gt; {\n    this.predicate = predicate\n    return keyPressSubject\n}\n\n\noverride fun createPresenter() = HomePresenter()\n\noverride fun getLayoutId(): Int {\n    return R.layout.activity_main\n}\n\noverride fun onKeyDown(keyCode: Int, event: KeyEvent?): Boolean {\n    event?.run {\n        if (predicate(event)) {\n            keyPressSubject.onNext(event)\n            return true\n        }\n    }\n    return super.onKeyDown(keyCode, event)\n}\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-room", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 614, "user_id": 7482517, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8JHqn.jpg?s=128&g=1", "display_name": "Keshav Aggarwal", "link": "https://stackoverflow.com/users/7482517/keshav-aggarwal"}, "edited": false, "score": 0, "creation_date": 1551078985, "post_id": 47412201, "comment_id": 96492931, "body": "Have you got the fix for your problem ?"}], "answers": [{"tags": [], "owner": {"reputation": 833, "user_id": 5584709, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/z4rwC.jpg?s=128&g=1", "display_name": "Jegan Babu", "link": "https://stackoverflow.com/users/5584709/jegan-babu"}, "is_accepted": false, "score": 1, "last_activity_date": 1564737473, "last_edit_date": 1564737473, "creation_date": 1564729442, "answer_id": 57321441, "question_id": 47412201, "link": "https://stackoverflow.com/questions/47412201/using-kotlin-parcelize-together-with-polymorphism/57321441#57321441", "title": "using Kotlin @Parcelize together with polymorphism", "body": "<p><strong>@Parcelize</strong> does not work well with inheritance <a href=\"https://youtrack.jetbrains.com/issue/KT-22139\" rel=\"nofollow noreferrer\">issue link</a>. You can still have custom parceler like mentioned <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p><em>&lt;&lt;&lt;&lt; not related to your question but consider giving a shot >>>></em></p>\n\n<p>Your MapsMarker class is violating <code>is a</code> relationship -> MapsMarker is a Location?</p>\n\n<p>It should not inherit from Location instead prefer composition -> MapsMarker <code>has a</code> Location</p>\n\n<pre><code>@Parcelize\n@Entity\nclass MapsMarker(val location: Location, var name: String): Parcelable\n</code></pre>\n\n<p>You can find many blogs detailing class designs. <a href=\"https://www.w3resource.com/java-tutorial/inheritance-composition-relationship.php\" rel=\"nofollow noreferrer\">This</a> is the first related google result I got now.</p>\n"}], "owner": {"reputation": 2934, "user_id": 2163045, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/iAIbA.png?s=128&g=1", "display_name": "murt", "link": "https://stackoverflow.com/users/2163045/murt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 474, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1564737473, "creation_date": 1511264249, "last_edit_date": 1529842704, "question_id": 47412201, "link": "https://stackoverflow.com/questions/47412201/using-kotlin-parcelize-together-with-polymorphism", "title": "using Kotlin @Parcelize together with polymorphism", "body": "<p>Hey I'm using one model as <strong><em>DTO, JsonCreator and Percelize</em></strong>\nmy problem is that i want to use polymorphism (disassemble common part) and have no idea how to write it in <strong><em>Kotlin</em></strong>.</p>\n\n<pre><code>@Parcelize\n@Entity\nopen class Location (var lat: Double = 0.0, var lng: Double = 0.0) :Parcelable\n\n@Parcelize\n@Entity\nclass MapsMarker(lat: Double, lng: Double, var name: String): Location(lat, lng), Parcelable\n</code></pre>\n\n<p>An issue here is that compiles shouts </p>\n\n<blockquote>\n  <p>Parcelizable constructor parameter should be \"<em>var</em> or <em>val</em>\"</p>\n</blockquote>\n\n<p>for fields <code>lat</code>, <code>lng</code> of <code>MapsMarker</code>.</p>\n\n<p>I'm using inheritance so I can't use val because I will override properties of the <code>Location</code> class. I also dont want my <strong>room</strong> @Entity will have duplicated fields.</p>\n\n<p>If anyone knows the answer please help me ;)</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "androidinjector"], "answers": [{"tags": [], "owner": {"reputation": 9280, "user_id": 987753, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e48a721814fa3a27f8a1eaedcc328cfa?s=128&d=identicon&r=PG&f=1", "display_name": "kingston", "link": "https://stackoverflow.com/users/987753/kingston"}, "is_accepted": true, "score": 0, "last_activity_date": 1511457251, "creation_date": 1511457251, "answer_id": 47460605, "question_id": 47412194, "link": "https://stackoverflow.com/questions/47412194/provides-methods-in-subcomponent-with-androidinjector-and-kotlin/47460605#47460605", "title": "@Provides methods in SubComponent with AndroidInjector and Kotlin", "body": "<p>I ended with this:</p>\n\n<pre><code>@Subcomponent(modules = arrayOf(\n        UIModule::class,\n        HomeActivitySubcomponent.ComponentModuleForProviders::class,\n        HomeActivitySubcomponent.ComponentModule::class\n))\ninterface HomeActivitySubcomponent : AndroidInjector&lt;HomeActivity&gt; {\n    @Subcomponent.Builder\n    abstract class Builder : AndroidInjector.Builder&lt;HomeActivity&gt;()\n\n    @Module\n    abstract class ComponentModule {\n        @Suppress(\"unused\")\n        @Binds\n        @IntoMap\n        @ActivityKey(HomeActivity::class)\n        internal abstract fun bindMainActivityInjectorFactory(builder: Builder): AndroidInjector.Factory&lt;out Activity&gt;\n    }\n\n    @Module\n    open class ComponentModuleForProviders {\n        @Provides\n        open fun provideDrawerPresenter(): DrawerPresenter {...}\n     }\n\n}\n</code></pre>\n\n<p>So I use a second @Module class for the @Provides methods: <code>ComponentModuleForProviders</code>.</p>\n"}], "owner": {"reputation": 9280, "user_id": 987753, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/e48a721814fa3a27f8a1eaedcc328cfa?s=128&d=identicon&r=PG&f=1", "display_name": "kingston", "link": "https://stackoverflow.com/users/987753/kingston"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 591, "favorite_count": 0, "accepted_answer_id": 47460605, "answer_count": 1, "score": 1, "last_activity_date": 1533905410, "creation_date": 1511264229, "last_edit_date": 1533905410, "question_id": 47412194, "link": "https://stackoverflow.com/questions/47412194/provides-methods-in-subcomponent-with-androidinjector-and-kotlin", "title": "@Provides methods in SubComponent with AndroidInjector and Kotlin", "body": "<p>I'm using the Dagger2 AndroidInjector and Kotlin. I have a subcomponent with its module defined in this way:</p>\n\n<pre><code>@Subcomponent(modules = arrayOf(\n        UIModule::class,\n        HomeActivitySubcomponent.ComponentModule::class\n))\ninterface HomeActivitySubcomponent : AndroidInjector&lt;HomeActivity&gt; {\n    @Subcomponent.Builder\n    abstract class Builder : AndroidInjector.Builder&lt;HomeActivity&gt;()\n\n    @Module\n    abstract class ComponentModule {\n        @Binds\n        @IntoMap\n        @ActivityKey(HomeActivity::class)\n        internal abstract fun bindMainActivityInjectorFactory(builder: Builder): AndroidInjector.Factory&lt;out Activity&gt;\n    }\n}\n</code></pre>\n\n<p>If this was java I could add a static @Provides method to the ComponentModule @Module. It has to be static because Dagger complains if I add a non-static method to an @Module class that uses @Binds:</p>\n\n<blockquote>\n  <p>Error:A @Module may not contain both non-static @Provides methods and\n  abstract @Binds or @Multibinds declarations</p>\n</blockquote>\n\n<p>The problem is: how can I do this with Kotlin?</p>\n"}, {"tags": ["android", "kotlin", "gson", "retrofit2", "dagger-2"], "answers": [{"tags": [], "owner": {"reputation": 601, "user_id": 6820214, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b5fcbb564af448535282c4b469f3bdb9?s=128&d=identicon&r=PG&f=1", "display_name": "Lyofen", "link": "https://stackoverflow.com/users/6820214/lyofen"}, "is_accepted": false, "score": 1, "last_activity_date": 1511257620, "creation_date": 1511257620, "answer_id": 47409925, "question_id": 47409747, "link": "https://stackoverflow.com/questions/47409747/android-kotlin-dagger2-provide-gson-parameter-specified-as-non-null-is-null/47409925#47409925", "title": "Android Kotlin Dagger2 provide gson : Parameter specified as non-null is null", "body": "<p>I found answer when i posted \\o/</p>\n\n<p>So the problem was gson field in RetrofitMyEnterpriseApi class is instancied after the init of RetrofitApi parent class, i think it's strange because i pass it in parameters but..</p>\n\n<p>I just need to call my buildRetrofit method after init of RetrofitMyEnterpriseApi class, or send gson instance to my parent class.</p>\n"}], "owner": {"reputation": 601, "user_id": 6820214, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/b5fcbb564af448535282c4b469f3bdb9?s=128&d=identicon&r=PG&f=1", "display_name": "Lyofen", "link": "https://stackoverflow.com/users/6820214/lyofen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1511257620, "creation_date": 1511257074, "question_id": 47409747, "link": "https://stackoverflow.com/questions/47409747/android-kotlin-dagger2-provide-gson-parameter-specified-as-non-null-is-null", "title": "Android Kotlin Dagger2 provide gson : Parameter specified as non-null is null", "body": "<p>i want to provide a single gson instance, so i provide it in my NetworkModule, when i create retrofit api, gson is non null, but when i use gson instance in retrofit class, it is null..</p>\n\n<pre><code>    @Module\n    class NetworkModule {\n\n        @Provides\n        @Singleton\n        fun provideGson(): Gson {\n            return Gson()\n        }\n\n        @Provides\n        @Singleton\n        fun provideMyEnterpriseApi(gson: Gson): MyEnterpriseApi {\n\n            //HERE GSON IS NOT NULL\n\n            return RetrofitMyEnterpriseApi(BuildConfig.API_MYENTERPRISE_URL,\n                    BuildConfig.API_MYENTERPRISE_CONNECTION_TIMEOUT,\n\n\n       BuildConfig.API_MYENTERPRISE_READ_TIMEOUT,\n                gson)\n    }\n}\n</code></pre>\n\n<p>My retrofit api class :</p>\n\n<pre><code>class RetrofitMyEnterpriseApi(baseUrl: String, connectTimeout: Long, readTimeout: Long, private val gson: Gson)\n    : RetrofitApi&lt;RetrofitMyEnterpriseCalls&gt;(baseUrl, connectTimeout, readTimeout, RetrofitMyEnterpriseCalls::class.java) {\n\n    override fun buildRetrofit(baseUrl: String, connectTimeout: Long, readTimeout: Long): Retrofit {\n        val builder = Retrofit.Builder()\n\n        builder.baseUrl(baseUrl)\n        builder.client(buildClient(connectTimeout, readTimeout))\n        builder.addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n        builder.addConverterFactory(GsonConverterFactory.create(gson))\n\n        return builder.build()\n    }\n\n    private fun buildClient(connectTimeout: Long, readTimeout: Long): OkHttpClient {\n\n        //HERE GSON IS NULL\n\n        return OkHttpClient.Builder()\n                .addInterceptor(OAuth2Interceptor(gson, this))\n                .addInterceptor(LoggingInterceptor.newInstance())\n                .connectTimeout(connectTimeout, TimeUnit.MILLISECONDS)\n                .readTimeout(readTimeout, TimeUnit.MILLISECONDS)\n                .build()\n    }\n}\n</code></pre>\n\n<p>RetrofitApi class:</p>\n\n<pre><code>abstract class RetrofitApi&lt;C&gt;\n(baseUrl: String, connectTimeout: Long, readTimeout: Long, callsClass: Class&lt;C&gt;) {\n\n    protected val calls: C\n\n    init {\n        val retrofit = buildRetrofit(baseUrl, connectTimeout, readTimeout)\n\n        calls = retrofit.create(callsClass)\n    }\n\n    protected abstract fun buildRetrofit(baseUrl: String, connectTimeout: Long, readTimeout: Long): Retrofit\n}\n</code></pre>\n\n<p>So, when i provide it's not null, but when i use it in buildClient method is null, i can't see why, i miss something in Kotlin maybe.</p>\n"}, {"tags": ["interface", "kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 1, "creation_date": 1511256828, "post_id": 47408532, "comment_id": 81772556, "body": "I&#39;m curious, what&#39;s the purpose of using <code>interface</code> here? Wouldn&#39;t <code>object</code> make more sense?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1511257225, "post_id": 47408532, "comment_id": 81772822, "body": "@Michael In real code I have multiple possible implementations depending on OS and the initializer picks the correct one."}, {"owner": {"reputation": 615, "user_id": 1402551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f4d6c84ba4e816e4e4ab16668ff2ebe?s=128&d=identicon&r=PG&f=1", "display_name": "Clinkz", "link": "https://stackoverflow.com/users/1402551/clinkz"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1511264365, "post_id": 47408532, "comment_id": 81777589, "body": "@Michael <code>Object</code> would make a singleton Class. Not applicable to an interface."}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "reply_to_user": {"reputation": 615, "user_id": 1402551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f4d6c84ba4e816e4e4ab16668ff2ebe?s=128&d=identicon&r=PG&f=1", "display_name": "Clinkz", "link": "https://stackoverflow.com/users/1402551/clinkz"}, "edited": false, "score": 0, "creation_date": 1511284323, "post_id": 47408532, "comment_id": 81791739, "body": "@Clinkz The point was that <code>Foo</code> <i>is</i> meant to be a singleton. That is why the field <code>INSTANCE</code> exists."}, {"owner": {"reputation": 615, "user_id": 1402551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f4d6c84ba4e816e4e4ab16668ff2ebe?s=128&d=identicon&r=PG&f=1", "display_name": "Clinkz", "link": "https://stackoverflow.com/users/1402551/clinkz"}, "reply_to_user": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 0, "creation_date": 1511323444, "post_id": 47408532, "comment_id": 81807913, "body": "@1blustone Obviously. The emphasis is on <code>Class</code> in that statement."}], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1511266780, "post_id": 47408973, "comment_id": 81779207, "body": "Is it visible as <code>Foo.INSTANCE</code> from Java or only from Kotlin? That&#39;s the point of the question."}, {"owner": {"reputation": 615, "user_id": 1402551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f4d6c84ba4e816e4e4ab16668ff2ebe?s=128&d=identicon&r=PG&f=1", "display_name": "Clinkz", "link": "https://stackoverflow.com/users/1402551/clinkz"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1511268121, "post_id": 47408973, "comment_id": 81780035, "body": "Yes, if you want to access the Kotlin interface through Java, instead of <code>Foo.INSTANCE</code>, use <code>Foo.Companion.getINSTANCE();</code>  I don&#39;t think there&#39;s a way to access it from Java without using Companion. Unless, you opt for <code>object</code> like @Michael suggested. I don&#39;t see any other way. :-/"}], "tags": [], "owner": {"reputation": 615, "user_id": 1402551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f4d6c84ba4e816e4e4ab16668ff2ebe?s=128&d=identicon&r=PG&f=1", "display_name": "Clinkz", "link": "https://stackoverflow.com/users/1402551/clinkz"}, "is_accepted": false, "score": 0, "last_activity_date": 1511254596, "creation_date": 1511254596, "answer_id": 47408973, "question_id": 47408532, "link": "https://stackoverflow.com/questions/47408532/declaring-a-static-interface-field-in-kotlin/47408973#47408973", "title": "Declaring a static interface field in Kotlin", "body": "<p>The following works for me.</p>\n\n<pre><code>interface Foo {\n\n    fun bar()\n\n    companion object {\n        val INSTANCE = object : Foo { // There are no () An interface cannot be instantiated.\n            override fun bar() {\n                //Do something\n                ...\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Then in your activity, simply calling <code>Foo.INSTANCE</code> returns an instance to <code>Foo</code>. </p>\n"}, {"tags": [], "owner": {"reputation": 8046, "user_id": 1725558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NwJwX.jpg?s=128&g=1", "display_name": "Anderson Vieira", "link": "https://stackoverflow.com/users/1725558/anderson-vieira"}, "is_accepted": true, "score": 1, "last_activity_date": 1564497013, "creation_date": 1564497013, "answer_id": 57274082, "question_id": 47408532, "link": "https://stackoverflow.com/questions/47408532/declaring-a-static-interface-field-in-kotlin/57274082#57274082", "title": "Declaring a static interface field in Kotlin", "body": "<p>From Kotlin 1.3 on you can do:</p>\n\n<pre><code>interface Foo {\n    companion object {\n        @JvmField val INSTANCE = object : Foo {}\n    }\n}\n</code></pre>\n\n<p>And call it from Java as <code>Foo.INSTANCE</code>.</p>\n"}], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2363, "favorite_count": 1, "accepted_answer_id": 57274082, "answer_count": 2, "score": 3, "last_activity_date": 1564497013, "creation_date": 1511253287, "last_edit_date": 1511261632, "question_id": 47408532, "link": "https://stackoverflow.com/questions/47408532/declaring-a-static-interface-field-in-kotlin", "title": "Declaring a static interface field in Kotlin", "body": "<p>Is it possible to write the equivalent of Java</p>\n\n<pre><code>interface Foo {\n    public static final INSTANCE = new Foo {};\n}\n</code></pre>\n\n<p>in Kotlin?</p>\n\n<p>If <code>Foo</code> were a class, I could use:</p>\n\n<pre><code>class Foo {\n    companion object {\n        @JvmField\n        val INSTANCE = object : Foo() {}\n    }\n}\n</code></pre>\n\n<p>but with an interface it gives an error:</p>\n\n<blockquote>\n  <p>JvmField cannot be applied to a property defined in companion object of interface</p>\n</blockquote>\n\n<p><code>@JvmStatic</code> doesn't work either.</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 209, "user_id": 5430095, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bf3b74e16cb4fa9b7e8f59f17ed435a4?s=128&d=identicon&r=PG&f=1", "display_name": "Mhanaz Syed", "link": "https://stackoverflow.com/users/5430095/mhanaz-syed"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511249683, "post_id": 47407534, "comment_id": 81768281, "body": "OK but i will apply Entties relation in room databse like freign key"}, {"owner": {"reputation": 209, "user_id": 5430095, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bf3b74e16cb4fa9b7e8f59f17ed435a4?s=128&d=identicon&r=PG&f=1", "display_name": "Mhanaz Syed", "link": "https://stackoverflow.com/users/5430095/mhanaz-syed"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511249752, "post_id": 47407534, "comment_id": 81768314, "body": "still its coming error after apply that one also @cricket_007"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511249808, "post_id": 47407534, "comment_id": 81768340, "body": "Please <a href=\"https://stackoverflow.com/posts/47407534/edit\">edit</a> your question to include the latest code and error message"}, {"owner": {"reputation": 209, "user_id": 5430095, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bf3b74e16cb4fa9b7e8f59f17ed435a4?s=128&d=identicon&r=PG&f=1", "display_name": "Mhanaz Syed", "link": "https://stackoverflow.com/users/5430095/mhanaz-syed"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511250025, "post_id": 47407534, "comment_id": 81768470, "body": "i have updated @cricket_007 please have look"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511250108, "post_id": 47407534, "comment_id": 81768514, "body": "Okay, now, do you have anything against adding an empty constructor? Because with all the fields set, your error doesn&#39;t make sense"}, {"owner": {"reputation": 209, "user_id": 5430095, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bf3b74e16cb4fa9b7e8f59f17ed435a4?s=128&d=identicon&r=PG&f=1", "display_name": "Mhanaz Syed", "link": "https://stackoverflow.com/users/5430095/mhanaz-syed"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511250149, "post_id": 47407534, "comment_id": 81768529, "body": "nothing i have for emplty constructor @cricket_007"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511250256, "post_id": 47407534, "comment_id": 81768586, "body": "My point is that all your fields are null by default. An empty constructor will just give you an empty object. You might also want to see the answer here. <a href=\"https://stackoverflow.com/a/45019307/2308683\">stackoverflow.com/a/45019307/2308683</a>"}, {"owner": {"reputation": 209, "user_id": 5430095, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bf3b74e16cb4fa9b7e8f59f17ed435a4?s=128&d=identicon&r=PG&f=1", "display_name": "Mhanaz Syed", "link": "https://stackoverflow.com/users/5430095/mhanaz-syed"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511250341, "post_id": 47407534, "comment_id": 81768627, "body": "so what we need to change can u please suggest me i am just confues about how to add entity relasion so that table should create"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511250440, "post_id": 47407534, "comment_id": 81768666, "body": "<a href=\"https://stackoverflow.com/a/37874665/2308683\">stackoverflow.com/a/37874665/2308683</a>"}, {"owner": {"reputation": 209, "user_id": 5430095, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bf3b74e16cb4fa9b7e8f59f17ed435a4?s=128&d=identicon&r=PG&f=1", "display_name": "Mhanaz Syed", "link": "https://stackoverflow.com/users/5430095/mhanaz-syed"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511250692, "post_id": 47407534, "comment_id": 81768787, "body": "<a href=\"https://paste.ofcode.org/9r3HFRCYshQXEQCAFXFmNb\" rel=\"nofollow noreferrer\">paste.ofcode.org/9r3HFRCYshQXEQCAFXFmNb</a>  check my Updated model what about List&lt;Attendes&gt; what we need to decale @cricket_007"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511250820, "post_id": 47407534, "comment_id": 81768852, "body": "I think you should remove the List of attendees from the constructor. It starts as an empty list, and it&#39;s a computed field. Therefore you&#39;ll never initialize an object with it"}, {"owner": {"reputation": 209, "user_id": 5430095, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bf3b74e16cb4fa9b7e8f59f17ed435a4?s=128&d=identicon&r=PG&f=1", "display_name": "Mhanaz Syed", "link": "https://stackoverflow.com/users/5430095/mhanaz-syed"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511251005, "post_id": 47407534, "comment_id": 81768950, "body": "it measn there is not relation between table 1 and table 2 if i will remove that then  how i will insert and delete data @cricket_007"}, {"owner": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511251063, "post_id": 47407534, "comment_id": 81768974, "body": "Please take a moment to read this <a href=\"https://www.bignerdranch.com/blog/room-data-storage-for-everyone/\" rel=\"nofollow noreferrer\">bignerdranch.com/blog/room-data-storage-for-everyone</a>"}, {"owner": {"reputation": 209, "user_id": 5430095, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bf3b74e16cb4fa9b7e8f59f17ed435a4?s=128&d=identicon&r=PG&f=1", "display_name": "Mhanaz Syed", "link": "https://stackoverflow.com/users/5430095/mhanaz-syed"}, "reply_to_user": {"reputation": 124932, "user_id": 2308683, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/eac16c9fc481cb6825f8b3a35f916b5c?s=128&d=identicon&r=PG", "display_name": "OneCricketeer", "link": "https://stackoverflow.com/users/2308683/onecricketeer"}, "edited": false, "score": 0, "creation_date": 1511261487, "post_id": 47407534, "comment_id": 81775720, "body": "@cricket_007 are u there still facing issue i have to put there list of attendess"}, {"owner": {"reputation": 151, "user_id": 2077869, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/c28969fdacf0fee32f4545924a352566?s=128&d=identicon&r=PG", "display_name": "android.rookie", "link": "https://stackoverflow.com/users/2077869/android-rookie"}, "edited": false, "score": 0, "creation_date": 1515543012, "post_id": 47407534, "comment_id": 83337132, "body": "wondering if you were able to find a solution? @MhanazSyed"}, {"owner": {"reputation": 205, "user_id": 2185548, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dLsXm.jpg?s=128&g=1", "display_name": "Gama the Great", "link": "https://stackoverflow.com/users/2185548/gama-the-great"}, "edited": false, "score": 0, "creation_date": 1519640156, "post_id": 47407534, "comment_id": 84976462, "body": "&quot;<i>Embedded annotation can be used on a POJO or Entity only, not for a List</i>&quot; as stated by Quang Nguyen in his answer here <a href=\"https://stackoverflow.com/a/44817653/2185548\">stackoverflow.com/a/44817653/2185548</a>"}], "owner": {"reputation": 209, "user_id": 5430095, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/bf3b74e16cb4fa9b7e8f59f17ed435a4?s=128&d=identicon&r=PG&f=1", "display_name": "Mhanaz Syed", "link": "https://stackoverflow.com/users/5430095/mhanaz-syed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 740, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511250000, "creation_date": 1511249408, "last_edit_date": 1511250000, "question_id": 47407534, "link": "https://stackoverflow.com/questions/47407534/you-can-have-an-empty-constructor-or-a-constructor-whose-parameters-match-the-fi", "title": "You can have an empty constructor or a constructor whose parameters match the fields", "body": "<pre><code>@Entity(tableName = AppConstant.Companion.CALENDAR_EVENT_TABLE_NAME)\nclass CalendarEvent : Serializable {\n    @PrimaryKey(autoGenerate = true)\n    var id: Int? = null\n    @ColumnInfo(name = \"calendarId\")\n    var calendarId: Int? = null\n    @ColumnInfo(name = \"title\")\n    var title: String? = null\n    @ColumnInfo(name = \"organizer\")\n    var organizer: String? = null\n    @ColumnInfo(name = \"location\")\n    var location: String? = null\n    @ColumnInfo(name = \"description\")\n    var description: String? = null\n    @ColumnInfo(name = \"startDate\")\n    var startDate: String? = null\n    @ColumnInfo(name = \"endDate\")\n    var endDate: String? = null\n    @Embedded\n    var attendees: List&lt;Attendees&gt;? = null\n\n    constructor(id: Int,calendarId: Int, title: String, organizer: String, location: String, description: String,startDate: String,endDate: String,attendees: List&lt;Attendees&gt;) {\n        this.id = id\n        this.calendarId=calendarId\n        this.title = title\n        this.organizer = organizer\n        this.location = location\n        this.description = description\n        this.startDate=startDate\n        this.endDate=endDate\n        this.attendees=attendees\n    }\n\n\n    companion object {\n        private const val serialVersionUID = -3245196282912380133L\n        val TAG = CalendarEvent::class.java.name\n    }\n}\n\n\n@Entity(tableName = AppConstant.Companion.ATTENDEES_TABLE_NAME)\nclass Attendees: Serializable\n{\n    @PrimaryKey(autoGenerate = true)\n    var id: Int? = null\n    @ColumnInfo(name = \"name\")\n    var name: String= \"\"\n    @ColumnInfo(name = \"email\")\n    var email: String= \"\"\n    @ColumnInfo(name = \"status\")\n    var status: Int? = null\n      constructor(id: Int,name: String,email: String,status: Int)\n    {\n        this.id=id\n        this.name=name\n        this.email=email\n        this.status=status\n    }\n    companion object {\n        private const val serialVersionUID = -3245196282912380133L\n        val TAG = Attendees::class.java.name\n    }\n}\n\n\n\n@Database(entities = arrayOf(Contact::class, CalendarEvent::class,Attendees::class), version = AppConstant.Companion.DATA_BASE_VERSION)\n\nabstract class AppDatabase : RoomDatabase() {\n\n    abstract fun contactDao(): ContactDAO\n\n    companion object {\n\n        var INSTANCE: AppDatabase? = null\n        fun getAppDatabase(context: Context): AppDatabase {\n            if (INSTANCE == null) {\n                INSTANCE = Room.databaseBuilder(context.applicationContext, AppDatabase::class.java, AppConstant.DATABASE_NAME)\n                        // allow queries on the main thread.\n                        .addMigrations()\n                        // Don't do tfallbackToDestructiveMigrationhis on a real app! See PersistenceBasicSample for an example.\n                        .build()\n            }\n            return INSTANCE!!\n        }\n    }\n\n    fun destroyInstance() {\n        INSTANCE = null\n    }\n\n}\n</code></pre>\n\n<p>there are two model class i have to create two table one parent as Calendar Event and its chile table  as Attendess i have written AppDatabase for entities but when i compile then i am getting this exception</p>\n\n<p>e: error: Entities and Pojos must have a usable public constructor. You can have an empty constructor or a constructor whose parameters match the fields (by name and type).\ne: </p>\n\n<p>please suggest me what i am ding wrong i am new in room databse i never use much i am able to create single table but not child parent relationship table so please check suggest where am doing mistake</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 67098, "user_id": 1235698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90fd9ad4efef8eb93209f42183c48f3e?s=128&d=identicon&r=PG", "display_name": "Marcin Orlowski", "link": "https://stackoverflow.com/users/1235698/marcin-orlowski"}, "edited": false, "score": 4, "creation_date": 1511247695, "post_id": 47407022, "comment_id": 81767260, "body": "I&#39;m voting to close this question as off-topic because it should be asked on codereview.stackexchange.com"}], "answers": [{"tags": [], "owner": {"reputation": 162, "user_id": 8320224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/690c13ebd4b14ac64b9b34e9962ec668?s=128&d=identicon&r=PG&f=1", "display_name": "user8320224", "link": "https://stackoverflow.com/users/8320224/user8320224"}, "is_accepted": false, "score": 0, "last_activity_date": 1511250777, "creation_date": 1511250777, "answer_id": 47407878, "question_id": 47407022, "link": "https://stackoverflow.com/questions/47407022/is-there-a-simple-code-for-fun-adddetail-in-kotlin/47407878#47407878", "title": "Is there a simple code for fun addDetail in Kotlin?", "body": "<pre><code>fun addDetail(aMDetail:MDetail){\n        if (aMListDetail?.innerListDetail==null){\n            aMListDetail=MListDetail(mutableListOf(aMDetail))\n        }else {\n            aMListDetail?.innerListDetail?.add(aMDetail)\n        }\n\n    mJson = Gson().toJson(aMListDetail)\n}\n</code></pre>\n\n<p>8-)</p>\n"}, {"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1511261538, "post_id": 47408075, "comment_id": 81775747, "body": "Thanks! But your code doesn&#39;t consider the case <code>aMListDetail?.innerListDetail==null</code>. In my code  I will do ` aMListDetail=MListDetail(mutableListOf(aMDetail))` when <code>aMListDetail?.innerListDetail==null</code>"}, {"owner": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1511261912, "post_id": 47408075, "comment_id": 81776009, "body": "@HelloCW that&#39;s because I think that Gson().fromJson() will either return a null <code>aMListDetail</code> or a non-null <code>aMListDetail.innerListDetail</code>, and will never return a null <code>aMListDetail.innerListDetail</code>. In other words, if <code>aMListDetail != null</code> then you know also that <code>aMListDetail.innerListDetail != null</code>. But if you want to program defensively, then by all means use <code>if (aMListDetail?.innerListDetail == null)</code> instead of just <code>if (aMListDetail == null)</code>."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1511261985, "post_id": 47408075, "comment_id": 81776044, "body": "BTW, I think I can the object aMListDetail is not null but aMListDetail.innerListDetail is null"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1511262215, "post_id": 47408075, "comment_id": 81776198, "body": "A user maybe  store error data in &quot;mySavedJson&quot;,  so   <code>var mJson: String by PreferenceTool(mContext,&quot;mySavedJson&quot;, &quot;&quot;)</code> maybe cause aMListDetail.innerListDetail is null"}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1511262295, "post_id": 47408075, "comment_id": 81776255, "body": "<code>data class MDetail (...)</code> is complex class in my APP, I  skip some content"}], "tags": [], "owner": {"reputation": 8555, "user_id": 638028, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/xj2Hg.png?s=128&g=1", "display_name": "Klitos Kyriacou", "link": "https://stackoverflow.com/users/638028/klitos-kyriacou"}, "is_accepted": true, "score": 1, "last_activity_date": 1511263953, "last_edit_date": 1511263953, "creation_date": 1511251622, "answer_id": 47408075, "question_id": 47407022, "link": "https://stackoverflow.com/questions/47407022/is-there-a-simple-code-for-fun-adddetail-in-kotlin/47408075#47408075", "title": "Is there a simple code for fun addDetail in Kotlin?", "body": "<pre><code>fun addDetail(aMDetail: MDetail) {\n    if (aMListDetail?.innerListDetail == null) {\n        aMListDetail = MListDetail(mutableListOf(aMDetail))\n    } else {\n        aMListDetail.innerListDetail.add(aMDetail)\n    }\n\n    mJson = Gson().toJson(aMListDetail)\n}\n</code></pre>\n\n<p>Alternative:</p>\n\n<pre><code>fun addDetail(aMDetail: MDetail) {\n    if (aMListDetail?.innerListDetail == null) {\n        aMListDetail = MListDetail(mutableListOf())\n    }\n\n    aMListDetail.innerListDetail.add(aMDetail)\n    mJson = Gson().toJson(aMListDetail)\n}\n</code></pre>\n\n<p>You don't need null-safe <code>?.</code> operators in your <code>add()</code> call, since at that point you've already checked that <code>aMListDetail != null</code> and <code>innerListDetail != null</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 1, "last_activity_date": 1511266597, "creation_date": 1511266597, "answer_id": 47412941, "question_id": 47407022, "link": "https://stackoverflow.com/questions/47407022/is-there-a-simple-code-for-fun-adddetail-in-kotlin/47412941#47412941", "title": "Is there a simple code for fun addDetail in Kotlin?", "body": "<blockquote>\n  <p>BTW, in the fun addDetail(...), aMListDetail maybe null, </p>\n</blockquote>\n\n<p>Why not fix the problem at the source? You initialize it in the constructor, then tell Kotlin it <em>could</em> be set to null, but actually you never do this! </p>\n\n<p>If you remove the unused nullability, the code simplifies to:</p>\n\n<pre><code>class DetailsHandler(mContext: Context = UIApp.instance) {\n\n    data class MListDetail(val innerListDetail: MutableList&lt;MDetail&gt;)\n\n\n    var mJson: String by PreferenceTool(mContext,\"mySavedJson\", \"\")\n    // can even be val\n    private var aMListDetail: MListDetail\n\n    init {\n        aMListDetail= Gson().fromJson(mJson,MListDetail::class.java)\n    }\n\n    fun addDetail(aMDetail:MDetail){\n        aMListDetail.innerListDetail.add(aMDetail)\n\n        mJson = Gson().toJson(aMListDetail)\n    }\n\n}\n</code></pre>\n\n<p>If your real code doesn't initialize it at the beginning, consider <a href=\"https://kotlinlang.org/docs/reference/delegated-properties.html\" rel=\"nofollow noreferrer\"><code>by lazy</code></a> or <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.properties/-delegates/not-null.html\" rel=\"nofollow noreferrer\"><code>by notNull</code></a>.</p>\n\n<blockquote>\n  <p>and aMListDetail?.innerListDetail maybe null. </p>\n</blockquote>\n\n<p>Only is <code>aMListDetail</code> is null, which you should avoid as above.</p>\n\n<p>Finally, if you really need <code>aMListDetail</code> to be <code>null</code> sometimes, you can write</p>\n\n<pre><code>aMListDetail?.let {\n  it.innerListDetail.add(aMDetail)\n}\n</code></pre>\n\n<p>(which does nothing if <code>aMListDetail</code> is <code>null</code>)</p>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 47408075, "answer_count": 3, "score": 0, "last_activity_date": 1511266597, "creation_date": 1511247520, "last_edit_date": 1511249627, "question_id": 47407022, "link": "https://stackoverflow.com/questions/47407022/is-there-a-simple-code-for-fun-adddetail-in-kotlin", "title": "Is there a simple code for fun addDetail in Kotlin?", "body": "<p>The following code can work well, but the code of <code>fun addDetail(...)</code> is too complex, is there a simple way  to do that ? Thanks!</p>\n\n<p>BTW, in the <code>fun addDetail(...)</code>, <code>aMListDetail</code> maybe null, and <code>aMListDetail?.innerListDetail</code> maybe null. </p>\n\n<pre><code>data class MDetail (\n        val _id: Long\n)\n\n\nclass DetailsHandler(mContext: Context = UIApp.instance) {\n\n    data class MListDetail(val innerListDetail: MutableList&lt;MDetail&gt;)\n\n    private var aMListDetail: MListDetail?\n\n    var mJson: String by PreferenceTool(mContext,\"mySavedJson\", \"\")\n\n    init {\n        aMListDetail= Gson().fromJson(mJson,MListDetail::class.java)\n    }\n\n    fun addDetail(aMDetail:MDetail){\n        if (aMListDetail==null){\n            aMListDetail=MListDetail(mutableListOf(aMDetail))\n        }else{\n            if (aMListDetail?.innerListDetail==null){\n                aMListDetail=MListDetail(mutableListOf(aMDetail))\n            }else {\n                aMListDetail?.innerListDetail?.add(aMDetail)\n            }\n        }\n\n        mJson = Gson().toJson(aMListDetail)\n    }\n\n}\n</code></pre>\n"}, {"tags": ["java", "android", "types", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 3, "last_activity_date": 1511248952, "creation_date": 1511248952, "answer_id": 47407405, "question_id": 47406828, "link": "https://stackoverflow.com/questions/47406828/kotlin-pass-in-a-type-that-implements-a-parameterized-interface/47407405#47407405", "title": "Kotlin Pass in a type that implements a parameterized interface", "body": "<p>Your Java code actually has a type safety problem: <code>PresenterActivity&lt;P extends Presenter&gt;</code> uses a <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\" rel=\"nofollow noreferrer\">raw type</a> and when you later write <code>presenter.attachView(this)</code> you don't know whether you <em>can</em> attach <code>this</code>, but raw type means the compiler doesn't warn you. Kotlin doesn't let you hide it like this.</p>\n\n<blockquote>\n  <p>am assuming <code>Presenter&lt;V&gt;</code> is a subclass of <code>Presenter&lt;Any&gt;</code>, i have a feeling am wrong</p>\n</blockquote>\n\n<p><code>in</code> actually means <code>Presenter&lt;V&gt;</code> is a <em>super</em>-type of <code>Presenter&lt;Any&gt;</code>, not a subtype. See <a href=\"https://kotlinlang.org/docs/reference/generics.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/generics.html</a> (or search for covariance and contravariance, there are a lot of explanations on Stack Overflow and otherwise, though more for Scala than Kotlin but the idea is the same).</p>\n\n<p>I think the simplest solution would be something like </p>\n\n<pre><code>// concrete subclasses must extend V\nabstract class PresenterActivity&lt;V, P : Presenter&lt;V&gt;&gt; : BaseActivity() {\n   ... presenter!!.attachView(this as V)\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>class SomeActivity : PresenterActivity&lt;BarView, FooPresenter&gt;(), BarView {\n    ....\n}\n</code></pre>\n"}], "owner": {"reputation": 695, "user_id": 2825816, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/57ff98711b9c254e57327a823e0ae30d?s=128&d=identicon&r=PG&f=1", "display_name": "hyena", "link": "https://stackoverflow.com/users/2825816/hyena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 862, "favorite_count": 0, "accepted_answer_id": 47407405, "answer_count": 1, "score": 2, "last_activity_date": 1511248952, "creation_date": 1511246811, "question_id": 47406828, "link": "https://stackoverflow.com/questions/47406828/kotlin-pass-in-a-type-that-implements-a-parameterized-interface", "title": "Kotlin Pass in a type that implements a parameterized interface", "body": "<p>i have the following working Java code however when i convert it into Kotlin, the code does not compile</p>\n\n<p><strong>Java</strong> code</p>\n\n<pre><code>public interface Presenter&lt;V&gt; {\n   void attachView(V view);\n}\n</code></pre>\n\n<p>Abstract class implementing above interface</p>\n\n<pre><code>public abstract class BasePresenter&lt;T&gt; implements Presenter&lt;T&gt; {\n    @Override\n    public void attachView(T view) {\n        this.view = view;\n    }\n}\n</code></pre>\n\n<p>Abstract class that takes a Type parameter which implements the interface above</p>\n\n<pre><code>public abstract class PresenterActivity&lt;P extends Presenter&gt; extends BaseActivity {\n\n    protected P presenter;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        if (presenter != null) {\n        presenter.attachView(this);\n        }\n    }\n}\n</code></pre>\n\n<p>A class extending BasePresenter</p>\n\n<pre><code>public class FooPresenter extends BasePresenter&lt;BarView&gt; {\n    ...\n}\n</code></pre>\n\n<p>A class extending PresenterActivity</p>\n\n<pre><code>public class SomeActivity extends PresenterActivity&lt;FooPresenter&gt; implements BarView {\n   ....\n}\n</code></pre>\n\n<p><strong>Kotlin</strong> code converted from above Java Code</p>\n\n<pre><code>interface Presenter&lt;in V&gt; {\n    fun attachView(view: V)\n}\n</code></pre>\n\n<p>Abstract class implementing above interface</p>\n\n<pre><code>abstract class BasePresenter&lt;V&gt; : Presenter&lt;V&gt; {\n    override fun attachView(view: V) {\n        this.view = view\n    }\n}\n</code></pre>\n\n<p>Abstract class that takes a Type parameter which implements the interface above, am not sure if <code>&lt;P : Presenter&lt;Any&gt;&gt;</code> below, is the correct expression</p>\n\n<pre><code>abstract class PresenterActivity&lt;P : Presenter&lt;Any&gt;&gt; : BaseActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        if (presenter != null) {\n            presenter!!.attachView(this)\n        }\n   }\n}\n</code></pre>\n\n<p>A class extending BasePresenter</p>\n\n<pre><code>class FooPresenter : BasePresenter&lt;BarView&gt;() {\n    ....\n}\n</code></pre>\n\n<p>A class extending PresenterActivity</p>\n\n<pre><code>class SomeActivity : PresenterActivity&lt;FooPresenter&gt;(), BarView {\n    ....\n}\n</code></pre>\n\n<p>The Kotlin class <code>PresenterActivity</code> gives the following compilation error\nError:(9, 44) Type argument is not within its bounds: should be sub-type of '<code>Presenter&lt;Any&gt;</code>'</p>\n\n<p>this means <code>FooPresenter</code> is not recorgnised as a sub-type of <code>Presenter&lt;Any&gt;</code></p>\n\n<p>am assuming <code>Presenter&lt;V&gt;</code> is a subclass of <code>Presenter&lt;Any&gt;</code>, i have a feeling am wrong</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "comments": [{"owner": {"reputation": 2390, "user_id": 6121643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/exMvQ.jpg?s=128&g=1", "display_name": "Irony Stack", "link": "https://stackoverflow.com/users/6121643/irony-stack"}, "edited": false, "score": 3, "creation_date": 1511244915, "post_id": 47406276, "comment_id": 81766085, "body": "<code>ctrl</code> + click on <code>itemDateSummaryList</code> and see whether the <code>textview</code> is from he same layout file you have <code>infate</code> or otherwise"}, {"owner": {"reputation": 615, "user_id": 1402551, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f4d6c84ba4e816e4e4ab16668ff2ebe?s=128&d=identicon&r=PG&f=1", "display_name": "Clinkz", "link": "https://stackoverflow.com/users/1402551/clinkz"}, "edited": false, "score": 0, "creation_date": 1511253192, "post_id": 47406276, "comment_id": 81770224, "body": "Post the XML too. Let us have a look."}, {"owner": {"reputation": 427, "user_id": 7833604, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ew7eB.jpg?s=128&g=1", "display_name": "kokilayaa", "link": "https://stackoverflow.com/users/7833604/kokilayaa"}, "reply_to_user": {"reputation": 2390, "user_id": 6121643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/exMvQ.jpg?s=128&g=1", "display_name": "Irony Stack", "link": "https://stackoverflow.com/users/6121643/irony-stack"}, "edited": false, "score": 0, "creation_date": 1511266788, "post_id": 47406276, "comment_id": 81779216, "body": "@IronyStack you are correct I was inflating wrong layout."}, {"owner": {"reputation": 2390, "user_id": 6121643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/exMvQ.jpg?s=128&g=1", "display_name": "Irony Stack", "link": "https://stackoverflow.com/users/6121643/irony-stack"}, "edited": false, "score": 0, "creation_date": 1511267259, "post_id": 47406276, "comment_id": 81779484, "body": "@kokilayaa you can refere to my answer too :)"}], "answers": [{"tags": [], "owner": {"reputation": 10753, "user_id": 3159267, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qXQnC.jpg?s=128&g=1", "display_name": "rajan.kali", "link": "https://stackoverflow.com/users/3159267/rajan-kali"}, "is_accepted": false, "score": 4, "last_activity_date": 1511245055, "creation_date": 1511245055, "answer_id": 47406417, "question_id": 47406276, "link": "https://stackoverflow.com/questions/47406276/java-lang-illegalstateexception-textview-must-not-be-null-android-kotlin/47406417#47406417", "title": "java.lang.IllegalStateException: TextView must not be null (Android/Kotlin)", "body": "<p>It's saying your <code>dateText</code> view itself is null not the value  <code>listItem.date</code> Verify whether you are rendering it correctly, the <code>itemview</code> has the <code>TextView</code> with the id you are trying to access</p>\n"}, {"comments": [{"owner": {"reputation": 3554, "user_id": 7325182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Clk0X.png?s=128&g=1", "display_name": "Abana Clara", "link": "https://stackoverflow.com/users/7325182/abana-clara"}, "edited": false, "score": 1, "creation_date": 1603423060, "post_id": 47413094, "comment_id": 114039239, "body": "Oh my god, all my fragments are converted activities and the first time I converted one, I just copy pasted its onCreateView override and forgot to change the inflated layout as I paste it on other new fragments. This should be the accepted answer. Damn. Simple mistake and it took me 3 hours"}], "tags": [], "owner": {"reputation": 2390, "user_id": 6121643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/exMvQ.jpg?s=128&g=1", "display_name": "Irony Stack", "link": "https://stackoverflow.com/users/6121643/irony-stack"}, "is_accepted": false, "score": 13, "last_activity_date": 1511267667, "last_edit_date": 1511267667, "creation_date": 1511267159, "answer_id": 47413094, "question_id": 47406276, "link": "https://stackoverflow.com/questions/47406276/java-lang-illegalstateexception-textview-must-not-be-null-android-kotlin/47413094#47413094", "title": "java.lang.IllegalStateException: TextView must not be null (Android/Kotlin)", "body": "<p>the error is not about <code>listItem.date</code>, the error says that the <code>dateText</code> textview to which you are trying to set text is null ,</p>\n\n<p>double check you are using the correct <code>textview</code> </p>\n\n<p>Possibilities  :<br>\n<strong>1)</strong> you might be using wrong <code>id</code> of <code>textview</code><br>\n<strong>2)</strong> you may have used wrong file while inflating view. <br></p>\n\n<p><code>ctrl</code> + click on <code>itemDateSummaryList</code> and see whether the <code>textview</code> is from he same layout file you have <code>infate</code> or otherwise</p>\n"}, {"comments": [{"owner": {"reputation": 615, "user_id": 726872, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/kpgjF.jpg?s=128&g=1", "display_name": "Rohan Bojja", "link": "https://stackoverflow.com/users/726872/rohan-bojja"}, "edited": false, "score": 0, "creation_date": 1565166296, "post_id": 52676567, "comment_id": 101262414, "body": "Point to note, if your view is inside a navigation header or something of that sort then youhave to initialise those view."}, {"owner": {"reputation": 615, "user_id": 726872, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/kpgjF.jpg?s=128&g=1", "display_name": "Rohan Bojja", "link": "https://stackoverflow.com/users/726872/rohan-bojja"}, "edited": false, "score": 0, "creation_date": 1565167184, "post_id": 52676567, "comment_id": 101262880, "body": "EDIT: Point to note, if your view is inside a navigation header or something of that sort, then you have to initialise those views first. Something like, val navView: NavigationView = findViewById(R.id.nav_view) val navHeader = navView.getHeaderView(0) val textView = navHeader.findViewById(R.id.textView) as TextView"}], "tags": [], "owner": {"reputation": 5511, "user_id": 7682257, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3VeNQ.jpg?s=128&g=1", "display_name": "Suraj Vaishnav", "link": "https://stackoverflow.com/users/7682257/suraj-vaishnav"}, "is_accepted": false, "score": 8, "last_activity_date": 1595911845, "last_edit_date": 1595911845, "creation_date": 1538809548, "answer_id": 52676567, "question_id": 47406276, "link": "https://stackoverflow.com/questions/47406276/java-lang-illegalstateexception-textview-must-not-be-null-android-kotlin/52676567#52676567", "title": "java.lang.IllegalStateException: TextView must not be null (Android/Kotlin)", "body": "<p><strong>If you are using fragments:</strong> 1. Use a global variable that will hold your layout reference</p>\n<pre><code>private var root: View? = null   // create a global variable which will hold your layout \n override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n            root = inflater.inflate(R.layout.your_layout_file_name, container, false)  // initialize it here\n            return root\n    }\n</code></pre>\n<ol start=\"2\">\n<li>To use any view of your layout which is inside your layout you can use it with (<code>root.</code>) like:</li>\n</ol>\n<blockquote>\n<p><code>root?.textView.text=&quot;Hello&quot;</code></p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 3538, "user_id": 8940630, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-KzSlVZ-KfYw/AAAAAAAAAAI/AAAAAAAAAA8/8pxiVFVU9mo/photo.jpg?sz=128", "display_name": "SinaMN75", "link": "https://stackoverflow.com/users/8940630/sinamn75"}, "is_accepted": false, "score": 2, "last_activity_date": 1539279205, "creation_date": 1539279205, "answer_id": 52765930, "question_id": 47406276, "link": "https://stackoverflow.com/questions/47406276/java-lang-illegalstateexception-textview-must-not-be-null-android-kotlin/52765930#52765930", "title": "java.lang.IllegalStateException: TextView must not be null (Android/Kotlin)", "body": "<p>The same happened to me while using Fragment, I took my code from <code>onCreateView</code> and put it to <code>onViewCreated</code> method, the problem solved.</p>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 9004105, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xE1yS.jpg?s=128&g=1", "display_name": "Rich Gabrielli", "link": "https://stackoverflow.com/users/9004105/rich-gabrielli"}, "is_accepted": false, "score": 0, "last_activity_date": 1542239450, "creation_date": 1542239450, "answer_id": 53310491, "question_id": 47406276, "link": "https://stackoverflow.com/questions/47406276/java-lang-illegalstateexception-textview-must-not-be-null-android-kotlin/53310491#53310491", "title": "java.lang.IllegalStateException: TextView must not be null (Android/Kotlin)", "body": "<p>I just had the same issue with my RecyclerView. It had been working for months. After numerous unsuccessful troubleshooting steps, I did a Build > Clean Project and it fixed the issue.</p>\n"}, {"tags": [], "owner": {"reputation": 206, "user_id": 10913425, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-L9PbxOzZqXE/AAAAAAAAAAI/AAAAAAAAAQ0/y9RaMbb4vhQ/photo.jpg?sz=128", "display_name": "O\u011fulcan U&#199;ARSU", "link": "https://stackoverflow.com/users/10913425/o%c4%9fulcan-u%c3%87arsu"}, "is_accepted": false, "score": 1, "last_activity_date": 1557177488, "last_edit_date": 1557177488, "creation_date": 1557176335, "answer_id": 56012373, "question_id": 47406276, "link": "https://stackoverflow.com/questions/47406276/java-lang-illegalstateexception-textview-must-not-be-null-android-kotlin/56012373#56012373", "title": "java.lang.IllegalStateException: TextView must not be null (Android/Kotlin)", "body": "<p>I get this error my fragment, \nI solved this error,</p>\n\n<p>Error's Code:</p>\n\n<pre><code>class MyFragment : Fragment(){\n\n    private var item: Item? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        item = arguments?.getParcelable(BUNLDE_ITEM)\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        item?.let {\n            textViewTitle.text = \"Text\"\n        }\n        return inflater.inflate(R.layout.my_fragment, null, false)\n    }\n\n    companion object {\n        private const val BUNLDE_ITEM = \"item\"\n        fun newInstance(item: Item) = MyFragment().apply {\n            arguments = Bundle().apply {\n                putParcelable(BUNLDE_ITEM, item)\n            }\n        }\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>Working Code:</p>\n\n<pre><code>class MyFragment : Fragment() {\n\n    private var item: Item? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        item = arguments?.getParcelable(BUNLDE_ITEM)\n    }\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val root: View = inflater.inflate(R.layout.my_fragment, container, false)\n        val textViewTitle = root.findViewById&lt;View&gt;(R.id.textViewTitle) as TextView\n\n        item?.let {\n            textViewTitle.text = \"text\"\n        }\n        return root\n    }\n\n    companion object {\n        private const val BUNLDE_ITEM = \"item\"\n        fun newInstance(item: Item) = MyFragment().apply {\n            arguments = Bundle().apply {\n                putParcelable(BUNLDE_ITEM, item)\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3127, "user_id": 232727, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/T0jXv.jpg?s=128&g=1", "display_name": "Vitaliy A", "link": "https://stackoverflow.com/users/232727/vitaliy-a"}, "is_accepted": false, "score": 2, "last_activity_date": 1558615780, "creation_date": 1558615780, "answer_id": 56275622, "question_id": 47406276, "link": "https://stackoverflow.com/questions/47406276/java-lang-illegalstateexception-textview-must-not-be-null-android-kotlin/56275622#56275622", "title": "java.lang.IllegalStateException: TextView must not be null (Android/Kotlin)", "body": "<p>It also might happen on wrong context reference in xml file, usually it appears on manualy moving Activity to another package, Android studio didn't make this change automatically:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        ....\n        tools:context=\".view.ui.login.LoginActivity\"&gt;\n....\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 11861700, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KpTMQB54exU/AAAAAAAAAAI/AAAAAAAAADg/7yQrv9Cgdls/photo.jpg?sz=128", "display_name": "parag barsar", "link": "https://stackoverflow.com/users/11861700/parag-barsar"}, "is_accepted": false, "score": 1, "last_activity_date": 1589718824, "last_edit_date": 1589718824, "creation_date": 1589632706, "answer_id": 61836848, "question_id": 47406276, "link": "https://stackoverflow.com/questions/47406276/java-lang-illegalstateexception-textview-must-not-be-null-android-kotlin/61836848#61836848", "title": "java.lang.IllegalStateException: TextView must not be null (Android/Kotlin)", "body": "<p>I read all of these answers but none worked for me so here is my answer.</p>\n\n<p>Find the line of code similar the this:</p>\n\n<pre><code>var view:View?=inflater.inflate(R.layout.fragment_profilefragement, container, false)\n</code></pre>\n\n<p>Place your cursor on <code>fragement_ProfileFragement</code> and click with <strong>CTRL</strong>. Check that you are in the right <em>fragement</em> XML file.</p>\n"}, {"tags": [], "owner": {"reputation": 1314, "user_id": 8650422, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_JNDDkGkTYE/AAAAAAAAAAI/AAAAAAAAADY/ah_Y5aSbqYQ/photo.jpg?sz=128", "display_name": "jan4co", "link": "https://stackoverflow.com/users/8650422/jan4co"}, "is_accepted": false, "score": 0, "last_activity_date": 1618336815, "last_edit_date": 1618336815, "creation_date": 1618336452, "answer_id": 67080025, "question_id": 47406276, "link": "https://stackoverflow.com/questions/47406276/java-lang-illegalstateexception-textview-must-not-be-null-android-kotlin/67080025#67080025", "title": "java.lang.IllegalStateException: TextView must not be null (Android/Kotlin)", "body": "<p>You have look carefully because IN SOME PART OF YOUR CODE you are not referencing the view correctly. In other words, that specific view does not exist in your code.</p>\n<ol>\n<li>Try to repeat the steps you did</li>\n<li>Check in the class where the code fails your view is being inflated correctly.</li>\n</ol>\n<p>This will save you hours of looking where is wrong.</p>\n"}], "owner": {"reputation": 427, "user_id": 7833604, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/ew7eB.jpg?s=128&g=1", "display_name": "kokilayaa", "link": "https://stackoverflow.com/users/7833604/kokilayaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30402, "favorite_count": 6, "answer_count": 9, "score": 19, "last_activity_date": 1618336815, "creation_date": 1511244459, "question_id": 47406276, "link": "https://stackoverflow.com/questions/47406276/java-lang-illegalstateexception-textview-must-not-be-null-android-kotlin", "title": "java.lang.IllegalStateException: TextView must not be null (Android/Kotlin)", "body": "<p>I have the following ViewHolder class for my Recycler View,</p>\n\n<pre><code>inner class ItemViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n        private val dateText = itemView.itemDateSummaryList\n        private val systolicVal = itemView.systolicValue\n        private val diastolicVal = itemView.diastolicValue\n\n        fun update(listItem: SummaryListItemModel) {\n            Log.i(TAG, \"Update method called \" + listItem.date)\n            dateText.text = listItem.date\n            systolicVal.text = listItem.sysVal.toInt().toString()\n            diastolicVal.text = listItem.diasVal.toInt().toString()\n        }\n\n    }\n</code></pre>\n\n<p>But when I run the app an error comes up at the <code>dateText.text = listItem.date</code> saying,</p>\n\n<pre><code>java.lang.IllegalStateException: dateText must not be null\nat *****.******.*****.ui.detailview.bloodpressure.SummaryListAdapter$ItemViewHolder.update(SummaryListAdapter.kt:68)\n</code></pre>\n\n<p>But the <code>listItem.date</code> is not null I have check with the Log.</p>\n"}, {"tags": ["junit", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 2, "last_activity_date": 1511246927, "creation_date": 1511246927, "answer_id": 47406855, "question_id": 47405390, "link": "https://stackoverflow.com/questions/47405390/kotlin-property-initializer-execution-in-junit-tests/47406855#47406855", "title": "kotlin property initializer execution in JUnit tests", "body": "<p>Yes, JUnit creates a new instance of the class for each test. <code>@Before</code> method is invoked after the constructor.</p>\n\n<blockquote>\n  <p>Can't we just put all the @Before code in the initializer block</p>\n</blockquote>\n\n<p>Yes, you can (in the constructor for Java). It's more for symmetry with <code>@After</code>.</p>\n"}], "owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 686, "favorite_count": 0, "accepted_answer_id": 47406855, "answer_count": 1, "score": 2, "last_activity_date": 1511246927, "creation_date": 1511239549, "question_id": 47405390, "link": "https://stackoverflow.com/questions/47405390/kotlin-property-initializer-execution-in-junit-tests", "title": "kotlin property initializer execution in JUnit tests", "body": "<p>I have an abstract base class for testing in Kotlin:</p>\n\n<pre><code>abstract class TestBase(){\n  protected var session = configure()\n\n  private fun configure() {\n    ...\n    return session // a live session object\n  }\n\n  @After\n  open fun tearDown() {\n    ...\n    session.close()\n  }\n}\n</code></pre>\n\n<p>Then in the derived test class, we have</p>\n\n<pre><code>class MyTest: TestBase() {\n  ...\n  @Test\n  fun testScenario1() {\n    ... // uses the live session object\n    assertTrue(myCondition_1)\n  }\n\n  @Test\n  fun testScenario2() {\n    ... // uses the live session object\n    assertTrue(myCondition_2)\n  }\n}\n</code></pre>\n\n<p>When I first saw this code, I thought that this will be problematic since if <code>session</code> is only executed once in the initialization part, it will be closed after the first test is run. And during the 2nd test, since <code>session</code> has been closed, it will throw exception. However, the code runs with no problem. When I traced it, I saw that the initialization block was run for each test. In other words, <code>session</code> was initialized for each test. </p>\n\n<p>My question is why? Is this the behavior behind JUnit that for each test, it will run the whole initializer plus the constructor of the class?</p>\n\n<p>If this is the case, why use the <code>@Before</code> annotation? Can't we just put all the <code>@Before</code> code in the initializer block</p>\n"}, {"tags": ["kotlin", "gson", "parcelable", "json-deserialization"], "answers": [{"comments": [{"owner": {"reputation": 1215, "user_id": 891157, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/267f10dd56d758455c0ff7bc62d713df?s=128&d=identicon&r=PG", "display_name": "Karate_Dog", "link": "https://stackoverflow.com/users/891157/karate-dog"}, "edited": false, "score": 0, "creation_date": 1511252141, "post_id": 47406414, "comment_id": 81769530, "body": "can you give me example on how to use it? I tried the link above, and still does not work."}], "tags": [], "owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "is_accepted": false, "score": 2, "last_activity_date": 1511245047, "creation_date": 1511245047, "answer_id": 47406414, "question_id": 47405337, "link": "https://stackoverflow.com/questions/47405337/kotlin-parcelize-issue-with-gson/47406414#47406414", "title": "Kotlin parcelize issue with gson", "body": "<p><strong>No-arg compiler plugin</strong></p>\n\n<p>The no-arg compiler plugin generates an additional zero-argument constructor for classes with a specific annotation.</p>\n\n<p>The generated constructor is synthetic so it can\u2019t be directly called from Java or Kotlin, but it can be called using reflection.</p>\n\n<p>This allows the Java Persistence API (JPA) to instantiate the data class although it doesn't have the zero-parameter constructor from Kotlin or Java point of view (see the description of kotlin-jpa plugin below).</p>\n\n<p>Using in Gradle</p>\n\n<p>The usage is pretty similar to all-open.</p>\n\n<p>Add the plugin and specify the list of annotations that must lead to generating a no-arg constructor for the annotated classes.</p>\n\n<pre><code>buildscript {\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-noarg:$kotlin_version\"\n    }\n}\n\napply plugin: \"kotlin-noarg\"\n</code></pre>\n\n<p>Source <a href=\"https://kotlinlang.org/docs/reference/compiler-plugins.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/compiler-plugins.html</a></p>\n"}], "owner": {"reputation": 1215, "user_id": 891157, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/267f10dd56d758455c0ff7bc62d713df?s=128&d=identicon&r=PG", "display_name": "Karate_Dog", "link": "https://stackoverflow.com/users/891157/karate-dog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 923, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1511245047, "creation_date": 1511239270, "question_id": 47405337, "link": "https://stackoverflow.com/questions/47405337/kotlin-parcelize-issue-with-gson", "title": "Kotlin parcelize issue with gson", "body": "<p>I am using @parcelize for gson </p>\n\n<p>Here is my class</p>\n\n<pre><code>@Parcelize\ndata class CommunityModel(@SerializedName(\"post\") val post: PostModel,\n                                   @SerializedName(\"is_liked\") val isLiked: Boolean,\n                                   @SerializedName(\"post_like\") val postLike: QuestionModel,\n                                   @SerializedName(\"polling_options\") val pollingOptions: List&lt;PollingModel&gt;,\n                                   @SerializedName(\"post_polled\") val postPolled: Boolean) : Parcelable\n</code></pre>\n\n<p>I got error <code>Unable to invoke no-args constructor for class. Register an InstanceCreator with Gson for this type may fix this problem.</code>.</p>\n\n<p>But this error only presents on <strong>older android versions</strong> (below 5.0)</p>\n\n<p>I tried implementing default constructor :</p>\n\n<pre><code>constructor: this(PostModel(), true, QuestionModel(), emptyList(), true)\n</code></pre>\n\n<p>But it gave me <code>java.lang.VerifyError</code> instead</p>\n\n<p>I am using retrofit2 with rxjava2 and gson converter Version <strong>2.3</strong></p>\n\n<p>My kotlin version is <strong>1.1.51</strong></p>\n\n<p>Is it known bug? Or did I do something wrong?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-tv", "leanback"], "comments": [{"owner": {"reputation": 15264, "user_id": 6143482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD37S.jpg?s=128&g=1", "display_name": "noogui", "link": "https://stackoverflow.com/users/6143482/noogui"}, "edited": false, "score": 0, "creation_date": 1511453383, "post_id": 47402689, "comment_id": 81873677, "body": "Hi and welcome to Stack Overflow, please take a time to go through the <a href=\"https://stackoverflow.com/tour\">welcome tour</a> to know your way around here (and also to earn your first badge), read how to create a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> and also check <a href=\"https://stackoverflow.com/help/how-to-ask\">How to Ask Good Questions</a> so you increase your chances to get feedback and useful answers."}, {"owner": {"reputation": 247, "user_id": 2042035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9211def31e984fb8b846c9aa2b689eb0?s=128&d=identicon&r=PG", "display_name": "yadunath.narayanan", "link": "https://stackoverflow.com/users/2042035/yadunath-narayanan"}, "edited": false, "score": 0, "creation_date": 1511518724, "post_id": 47402689, "comment_id": 81896517, "body": "Create one item for listrow presenter.And in the presenter create custom view or fragment and add items there."}], "owner": {"reputation": 1, "user_id": 8974758, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d17e19eae5b1acb0fd91dac68e5fa17?s=128&d=identicon&r=PG&f=1", "display_name": "Patryk Cyrzan", "link": "https://stackoverflow.com/users/8974758/patryk-cyrzan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 240, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511219639, "creation_date": 1511219639, "question_id": 47402689, "link": "https://stackoverflow.com/questions/47402689/gridview-inside-listrow-using-leanback-library", "title": "GridView inside ListRow using Leanback library", "body": "<p>Is there any way to do gridView inside ListRow in DetailsFragment or ListRowFragment? I'm trying make multipleviews fragment in Leanback.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 1, "creation_date": 1511211722, "post_id": 47400942, "comment_id": 81755567, "body": ": is for declaration, :: is an operator. See <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 671, "user_id": 8543147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed0b8c5ff2f1b6142b33c6c8cfb2db5c?s=128&d=identicon&r=PG&f=1", "display_name": "Winner1", "link": "https://stackoverflow.com/users/8543147/winner1"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 1, "creation_date": 1511211830, "post_id": 47400942, "comment_id": 81755621, "body": "@m0skit0 thanks,why its class.java when I&#39;m using a kotlin class?"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 8, "creation_date": 1511211898, "post_id": 47400942, "comment_id": 81755656, "body": "Android API only accepts Java classes, that&#39;s why you need to pass a Java class. <code>IntroAndLang::class</code> returns a <code>KClass</code> (a Kotlin class), then <code>.java</code> returns the Java class. Note that all Kotlin classes are compiled to Java classes (<code>.class</code> binaries) in the end."}], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 2, "creation_date": 1511246200, "post_id": 47401147, "comment_id": 81766609, "body": "<code>::println</code> and <code>IntroAndLang::class</code> are unrelated despite both using <code>::</code>. Method reference couldn&#39;t evaluate to a <code>KClass</code>, it isn&#39;t a SAM type!"}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1511246545, "post_id": 47401147, "comment_id": 81766732, "body": "You\u2019re right that was not the cleanest answer, I modified it"}, {"owner": {"reputation": 151, "user_id": 1187878, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/920866f4629388bfeaca7143a739b46a?s=128&d=identicon&r=PG", "display_name": "pcsaunak", "link": "https://stackoverflow.com/users/1187878/pcsaunak"}, "edited": false, "score": 0, "creation_date": 1601980332, "post_id": 47401147, "comment_id": 113568317, "body": ":: is just a way to write a lambda expression basically we can use this to refer to a method i.e a member function or property  for example  <code>class Person (val name: String, val age: Int)</code> Now we can write this to access the person which has the maximium age. <code>people.maxBy{it.age}</code> we can modify the above to  <code>people.maxBy(Person::age)</code>"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 34, "last_activity_date": 1511246519, "last_edit_date": 1511246519, "creation_date": 1511212368, "answer_id": 47401147, "question_id": 47400942, "link": "https://stackoverflow.com/questions/47400942/what-does-mean-in-kotlin/47401147#47401147", "title": "what does &quot;::&quot; mean in kotlin?", "body": "<p>As stated in the <a href=\"https://kotlinlang.org/docs/reference/reflection.html#class-references\" rel=\"noreferrer\">docs</a> this is a <strong>class reference</strong>:</p>\n\n<blockquote>\n  <p>Class References:\n  The most basic reflection feature is getting the <strong>runtime reference</strong> to a Kotlin class. To obtain the reference to a statically known Kotlin class, you can use the class literal syntax:</p>\n</blockquote>\n\n<pre><code>val c = MyClass::class\n//The reference is a value of type KClass.\n</code></pre>\n\n<blockquote>\n  <p>Note that a Kotlin class reference is not the same as a Java class reference. <em>To obtain a Java class reference, use the .java property on a KClass instance.</em></p>\n</blockquote>\n\n<p>It\u2019s <strong>also</strong> the syntax for method references as in this simple example:</p>\n\n<pre><code>list.forEach(::println)\n</code></pre>\n\n<p>It refers to <code>println</code> defined in Kotlin Standard library.</p>\n"}, {"tags": [], "owner": {"reputation": 50744, "user_id": 835883, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/n7jEz.png?s=128&g=1", "display_name": "j2emanue", "link": "https://stackoverflow.com/users/835883/j2emanue"}, "is_accepted": false, "score": 54, "last_activity_date": 1607480641, "last_edit_date": 1607480641, "creation_date": 1537680812, "answer_id": 52463295, "question_id": 47400942, "link": "https://stackoverflow.com/questions/47400942/what-does-mean-in-kotlin/52463295#52463295", "title": "what does &quot;::&quot; mean in kotlin?", "body": "<p><strong>:: converts  a Kotlin function into a lambda.</strong></p>\n<p>Let's say you have a function that looks like this:</p>\n<pre><code>fun printSquare(a: Int) = println(a * 2)\n</code></pre>\n<p>And you have a class that takes a lambda as a 2nd argument:</p>\n<pre><code>class MyClass(var someOtherVar: Any, var printSquare: (Int) -&gt; Unit) {\n        \n    fun doTheSquare(i: Int) {\n        printSquare(i)\n    }\n}\n</code></pre>\n<p>How do you pass the <code>printSquare</code> function into <code>MyClass</code>? If you try the following, it wont work:</p>\n<pre><code>  MyClass(&quot;someObject&quot;, printSquare) //printSquare is not a LAMBDA, it's a function so it gives compile error of wrong argument\n</code></pre>\n<p>So how do we CONVERT printSquare into a lambda so we can pass it around? Use the <code>::</code> notation.</p>\n<pre><code>MyClass(&quot;someObject&quot;,::printSquare) //now compiler does not complain since it's expecting a lambda and we have indeed converted the `printSquare` FUNCTION into a LAMBDA. \n</code></pre>\n<p>Also, please note that <code>this</code> is implied...  meaning <code>this::printSquare</code> is the same as <code>::printSquare</code>. So if the <code>printSquare</code> function was in another class, like a presenter, then you could convert it to lambda like this:</p>\n<pre><code>presenter::printSquare\n</code></pre>\n<p>UPDATE:</p>\n<p>Also this works with constructors.  If you want to create the constructor of an object and then convert it to a lambda, it is done like this:</p>\n<pre><code>(x, y) -&gt; MyObject::new\n</code></pre>\n<p>this translates to <code>MyObject(x, y)</code> in Kotlin.</p>\n"}, {"comments": [{"owner": {"reputation": 906, "user_id": 11739833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e73a01562a4b1d40005067e399a0ab5?s=128&d=identicon&r=PG&f=1", "display_name": "mohsen", "link": "https://stackoverflow.com/users/11739833/mohsen"}, "edited": false, "score": 2, "creation_date": 1600357528, "post_id": 52463397, "comment_id": 113069179, "body": "the best answer by far"}, {"owner": {"reputation": 2214, "user_id": 4729203, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/83ef72e73541936fa5eae74e4703257c?s=128&d=identicon&r=PG&f=1", "display_name": "wonsuc", "link": "https://stackoverflow.com/users/4729203/wonsuc"}, "reply_to_user": {"reputation": 906, "user_id": 11739833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e73a01562a4b1d40005067e399a0ab5?s=128&d=identicon&r=PG&f=1", "display_name": "mohsen", "link": "https://stackoverflow.com/users/11739833/mohsen"}, "edited": false, "score": 1, "creation_date": 1607480816, "post_id": 52463397, "comment_id": 115284162, "body": "@mohsen agreed."}], "tags": [], "owner": {"reputation": 2955, "user_id": 1042124, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/f41bd8db2424f7895f2d19df47253e82?s=128&d=identicon&r=PG&f=1", "display_name": "user6327816", "link": "https://stackoverflow.com/users/1042124/user6327816"}, "is_accepted": false, "score": 40, "last_activity_date": 1599879214, "last_edit_date": 1599879214, "creation_date": 1537682147, "answer_id": 52463397, "question_id": 47400942, "link": "https://stackoverflow.com/questions/47400942/what-does-mean-in-kotlin/52463397#52463397", "title": "what does &quot;::&quot; mean in kotlin?", "body": "<p><code>::</code> is used for Reflection in kotlin</p>\n<ol>\n<li>Class Reference <code>val myClass = MyClass::class</code></li>\n<li>Function Reference <code>this::isEmpty</code></li>\n<li>Property Reference <code>::someVal.isInitialized</code></li>\n<li>Constructor Reference <code>::MyClass</code></li>\n</ol>\n<p>For detailed reading <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"noreferrer\">Official Documentation</a></p>\n"}, {"tags": [], "owner": {"reputation": 1113, "user_id": 8888461, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZ33s.jpg?s=128&g=1", "display_name": "Segun Wahaab", "link": "https://stackoverflow.com/users/8888461/segun-wahaab"}, "is_accepted": false, "score": 2, "last_activity_date": 1582993125, "last_edit_date": 1582993125, "creation_date": 1575477204, "answer_id": 59180657, "question_id": 47400942, "link": "https://stackoverflow.com/questions/47400942/what-does-mean-in-kotlin/59180657#59180657", "title": "what does &quot;::&quot; mean in kotlin?", "body": "<p>Since kotlin 1.1, in addition to class, function, property and constructor references as stated above,    '::' can also be used to obtain the bound references to all of the above.</p>\n\n<p>For instance, using '::class' could be used to get the exact class of a particular object despite the type of the receiver as below...</p>\n\n<pre><code>val widget: Widget = ...\nassert(widget is GoodWidget) { \"Bad widget: ${widget::class.qualifiedName}\" }\n</code></pre>\n\n<p>widget::class returns the exact class of the object 'widget' as either 'GoodWidget' or 'BadWidget' despite the type of the receiver expression (i.e 'Widget' as declared initially)</p>\n\n<p>More info at <a href=\"https://kotlinlang.org/docs/reference/reflection.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/reflection.html</a></p>\n"}], "owner": {"reputation": 671, "user_id": 8543147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ed0b8c5ff2f1b6142b33c6c8cfb2db5c?s=128&d=identicon&r=PG&f=1", "display_name": "Winner1", "link": "https://stackoverflow.com/users/8543147/winner1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18940, "favorite_count": 19, "accepted_answer_id": 47401147, "answer_count": 4, "score": 47, "last_activity_date": 1607480641, "creation_date": 1511211501, "last_edit_date": 1511250696, "question_id": 47400942, "link": "https://stackoverflow.com/questions/47400942/what-does-mean-in-kotlin", "title": "what does &quot;::&quot; mean in kotlin?", "body": "<p>I'm new to Kotlin<br>\nI used this code for opening another activity:</p>\n\n<pre><code>startActivity(Intent(this,IntroAndLang::class.java))\n</code></pre>\n\n<p>current activity and target activity are written in Kotlin</p>\n\n<p>I cant understand why there is not single <code>:</code> instead of <code>::</code> at <code>IntroAndLang::class.java</code></p>\n"}, {"tags": ["android", "android-fragments", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 2767, "user_id": 2290950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8iIm5.png?s=128&g=1", "display_name": "Viktor Yakunin", "link": "https://stackoverflow.com/users/2290950/viktor-yakunin"}, "edited": false, "score": 0, "creation_date": 1511211192, "post_id": 47400681, "comment_id": 81755277, "body": "read stacktrace: rcViewStations.layoutManager = LinearLayoutManager(activity)  Attempt to invoke virtual method...on a null object reference. This means that your  rcViewStations is null on this line. To initialize it you should use findViewById"}, {"owner": {"reputation": 2766, "user_id": 2545964, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dcxr3.jpg?s=128&g=1", "display_name": "gon250", "link": "https://stackoverflow.com/users/2545964/gon250"}, "reply_to_user": {"reputation": 2767, "user_id": 2290950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8iIm5.png?s=128&g=1", "display_name": "Viktor Yakunin", "link": "https://stackoverflow.com/users/2290950/viktor-yakunin"}, "edited": false, "score": 0, "creation_date": 1511213197, "post_id": 47400681, "comment_id": 81756336, "body": "yep, I know it but in theory by using <b><i>kotlin-android-extensions</i></b> you can use <code>rcViewStations.layoutManager</code> instead too <code>findViewById</code> @ViktorYakunin"}, {"owner": {"reputation": 2767, "user_id": 2290950, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8iIm5.png?s=128&g=1", "display_name": "Viktor Yakunin", "link": "https://stackoverflow.com/users/2290950/viktor-yakunin"}, "edited": false, "score": 0, "creation_date": 1511252524, "post_id": 47400681, "comment_id": 81769780, "body": "kotlin has source code for android-extensions, please try to understand how it works. You inflated a view and tried to work with kotlinx.android.synthetic references right away, but they are not there yet. So even in theory you can&#39;t do that."}], "answers": [{"tags": [], "owner": {"reputation": 226, "user_id": 8851533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54439001858522cfdb9cb87fed98cbd6?s=128&d=identicon&r=PG&f=1", "display_name": "Tim Freiheit", "link": "https://stackoverflow.com/users/8851533/tim-freiheit"}, "is_accepted": false, "score": 0, "last_activity_date": 1511211197, "creation_date": 1511211197, "answer_id": 47400861, "question_id": 47400681, "link": "https://stackoverflow.com/questions/47400681/set-layoutmanager-on-a-fragment/47400861#47400861", "title": "Set LayoutManager on a Fragment", "body": "<p><code>rcViewStations</code> is null how the Exceptions says.\nIt looks like you are using the kotlin android extensions which uses <code>getView()</code> internally.\ngetView() can only return a value after onCreateView is finished.</p>\n\n<p>You can either do all view manipulation logic in <code>onViewCreated</code> or accessing the RecyclerView by using <code>findViewById</code> on your newly created View from <code>inflater?.inflate(R.layout.fragment_stations, container, false)</code></p>\n"}, {"comments": [{"owner": {"reputation": 91, "user_id": 4668134, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/143feae32d9ea891aa0fba5da4641f26?s=128&d=identicon&r=PG&f=1", "display_name": "Thanasis", "link": "https://stackoverflow.com/users/4668134/thanasis"}, "edited": false, "score": 0, "creation_date": 1576002273, "post_id": 47401715, "comment_id": 104753645, "body": "I had the same problem. I saw your solution here and fixed it. So the problem was the activity that needs to be created. Thanks so much!"}], "tags": [], "owner": {"reputation": 2766, "user_id": 2545964, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dcxr3.jpg?s=128&g=1", "display_name": "gon250", "link": "https://stackoverflow.com/users/2545964/gon250"}, "is_accepted": true, "score": 0, "last_activity_date": 1511214714, "creation_date": 1511214714, "answer_id": 47401715, "question_id": 47400681, "link": "https://stackoverflow.com/questions/47400681/set-layoutmanager-on-a-fragment/47401715#47401715", "title": "Set LayoutManager on a Fragment", "body": "<p>I have fixed the problem setting the layout inside this <code>onActivityCreated</code> what makes sense because the view is not created. </p>\n\n<p>so the class looks like this:</p>\n\n<pre><code>class StationsFragment : Fragment() {\n\n    companion object {\n        val TAG: String = StationsFragment::class.java.simpleName\n        fun newInstance() = StationsFragment()\n    }\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        activity.title = getString(R.string.title_home)\n        val view = inflater?.inflate(R.layout.fragment_stations, container, false)\n\n        return view\n    }\n\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n\n        rcViewStations.layoutManager = LinearLayoutManager(activity)\n\n        val retrofit = Retrofit.Builder()\n                .baseUrl(url)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build()\n\n        val stations = retrofit.create(StationService::class.java)\n\n        val call = stations.getStations()\n\n        call.enqueue(object : Callback&lt;ResponseStations&gt; {\n\n            override fun onResponse(call: Call&lt;ResponseStations&gt;?, response: Response&lt;ResponseStations&gt;?) {\n                if (response?.code() == 200) {\n                    loadData(response.body()?.stations)\n                }\n            }\n\n            override fun onFailure(call: Call&lt;ResponseStations&gt;?, t: Throwable?) {\n                //TODO: Implement error response.\n            }\n\n        })\n    }\n\n    private fun loadData(stations: List&lt;StationsItem?&gt;?) {\n        val items = stations?.map {\n            it?.let {\n                Station(name, long, lat)\n            }\n        }\n        rcViewStations.adapter = AdapterStation(items)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 2766, "user_id": 2545964, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dcxr3.jpg?s=128&g=1", "display_name": "gon250", "link": "https://stackoverflow.com/users/2545964/gon250"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3238, "favorite_count": 0, "accepted_answer_id": 47401715, "answer_count": 2, "score": 2, "last_activity_date": 1511214769, "creation_date": 1511210475, "last_edit_date": 1511214769, "question_id": 47400681, "link": "https://stackoverflow.com/questions/47400681/set-layoutmanager-on-a-fragment", "title": "Set LayoutManager on a Fragment", "body": "<p>I have created a Fragment where I'm trying to implement a recyclerView and load a list. The problem is coming when I try to set the <strong><em>layoutManager</em></strong></p>\n\n<p>Error:</p>\n\n<blockquote>\n  <p>java.lang.NullPointerException: Attempt to invoke virtual method 'void\n  android.support.v7.widget.RecyclerView.setLayoutManager(android.support.v7.widget.RecyclerView$LayoutManager)'\n  on a null object reference\n                                                                             at\n  com.gn.app.Fragments.StationsFragment.onCreateView(StationsFragment.kt:37)</p>\n</blockquote>\n\n<p>I cant figerout what is wrong.</p>\n\n<p>Fragment: </p>\n\n<pre><code>class StationsFragment : Fragment() {\n\n    companion object {\n        val TAG: String = StationsFragment::class.java.simpleName\n        fun newInstance() = StationsFragment()\n    }\n\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        activity.title = getString(R.string.title_home)\n        val view = inflater?.inflate(R.layout.fragment_stations, container, false)\n\n        rcViewStations.layoutManager = LinearLayoutManager(activity)\n\n        val retrofit = Retrofit.Builder()\n                .baseUrl(url)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build()\n\n        val stations = retrofit.create(StationService::class.java)\n\n        val call = stations.getStations()\n\n        call.enqueue(object : Callback&lt;ResponseStations&gt; {\n\n            override fun onResponse(call: Call&lt;ResponseStations&gt;?, response: Response&lt;ResponseStations&gt;?) {\n                if (response?.code() == 200) {\n                    loadData(response.body()?.stations)\n                }\n            }\n\n            override fun onFailure(call: Call&lt;ResponseStations&gt;?, t: Throwable?) {\n                //TODO: Implement error response.\n            }\n\n        })\n\n        return view\n    }\n\n    private fun loadData(stations: List&lt;StationsItem?&gt;?) {\n        val items = stations?.map {\n            it?.let {\n                Station(name, long, lat)\n            }\n        }\n        rcViewStations.adapter = AdapterStation(items)\n    }\n}\n</code></pre>\n\n<p>Utils</p>\n\n<pre><code>fun ViewGroup.inflate(layoutId: Int): View {\n    return LayoutInflater.from(context).inflate(layoutId, this, false)\n}\n</code></pre>\n\n<p>Fragment xml</p>\n\n<pre><code>&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    tools:context=\"com.gn.app.Fragments.StationsFragment\"&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/rcViewStations\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        app:behavior_overlapTop=\"30dp\"\n        app:layout_behavior=\"@string/appbar_scrolling_view_behavior\" /&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>item xml </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v7.widget.CardView xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_margin=\"5dp\"\n    android:orientation=\"vertical\"&gt;\n\n        &lt;LinearLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"vertical\"\n            android:padding=\"10dp\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/txtStationName\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:textAppearance=\"@style/TextAppearance.AppCompat.Large\"\n                android:transitionName=\"transitionTitle\"\n                tools:text=\"Name\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/txtStationDistance\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:textAppearance=\"@style/TextAppearance.AppCompat.Small\"\n                android:transitionName=\"transitionDesc\"\n                tools:text=\"0.00 m\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/txtStationBikes\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:textAppearance=\"@style/TextAppearance.AppCompat.Small\"\n                android:transitionName=\"transitionDesc\"\n                tools:text=\"12\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/txtStationSlots\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:textAppearance=\"@style/TextAppearance.AppCompat.Small\"\n                android:transitionName=\"transitionDesc\"\n                tools:text=\"22\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/txtStationDate\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                android:layout_gravity=\"end\"\n                android:textAppearance=\"@style/TextAppearance.AppCompat.Medium\"\n                android:textColor=\"@color/colorAccent\"\n                android:transitionName=\"transitionPrice\"\n                tools:text=\"Date\" /&gt;\n\n        &lt;/LinearLayout&gt;\n\n&lt;/android.support.v7.widget.CardView&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 8321342, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BAP1_YqchTk/AAAAAAAAAAI/AAAAAAAAADY/0u9LIA4yhFQ/photo.jpg?sz=128", "display_name": "Freiver", "link": "https://stackoverflow.com/users/8321342/freiver"}, "edited": false, "score": 0, "creation_date": 1511195920, "post_id": 47396607, "comment_id": 81746756, "body": "Nice, Thank you."}], "tags": [], "owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "is_accepted": true, "score": 2, "last_activity_date": 1511195093, "creation_date": 1511195093, "answer_id": 47396607, "question_id": 47396177, "link": "https://stackoverflow.com/questions/47396177/how-to-implement-a-kotlin-function-to-a-view/47396607#47396607", "title": "How to implement a Kotlin function to a View", "body": "<p>You can add an extension function:</p>\n\n<pre><code>fun ConstraintLayout.applyCustomProperties() {\n    //some stuff\n    //you can use \"this\" keyword here\n}\n</code></pre>\n\n<p>That extension is resolved \"statically\", so no matter where you put that code. Now, you can do what you want:</p>\n\n<pre><code>val rootLayout = findViewById&lt;ConstraintLayout&gt;(R.id.rootLayout)\nrootLayout.applyCustomPropeties()\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 8321342, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BAP1_YqchTk/AAAAAAAAAAI/AAAAAAAAADY/0u9LIA4yhFQ/photo.jpg?sz=128", "display_name": "Freiver", "link": "https://stackoverflow.com/users/8321342/freiver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 47396607, "answer_count": 1, "score": 1, "last_activity_date": 1511195093, "creation_date": 1511193777, "question_id": 47396177, "link": "https://stackoverflow.com/questions/47396177/how-to-implement-a-kotlin-function-to-a-view", "title": "How to implement a Kotlin function to a View", "body": "<p>I need to know how to implement functions to a ConstraintLayout in Kotlin.</p>\n\n<p>I need something like this:</p>\n\n<pre><code>fun applyCustomPropeties(){\n    //some stuff\n}\n\nval rootLayout = findViewById&lt;ConstraintLayout&gt;(R.id.rootLayout)\n\nrootLayout.applyCustomPropeties()\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["android", "android-recyclerview", "crash", "kotlin"], "comments": [{"owner": {"reputation": 751, "user_id": 1615525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429bd7e91da33239476586e67ec84ffe?s=128&d=identicon&r=PG", "display_name": "sigute", "link": "https://stackoverflow.com/users/1615525/sigute"}, "edited": false, "score": 0, "creation_date": 1511194932, "post_id": 47396128, "comment_id": 81746162, "body": "in getItemCount() you are doing &quot;return exerciseList.size + 2&quot;, should it be +1? I think that&#39;s where an empty item gets added."}, {"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "reply_to_user": {"reputation": 751, "user_id": 1615525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429bd7e91da33239476586e67ec84ffe?s=128&d=identicon&r=PG", "display_name": "sigute", "link": "https://stackoverflow.com/users/1615525/sigute"}, "edited": false, "score": 0, "creation_date": 1511195436, "post_id": 47396128, "comment_id": 81746457, "body": "Yeah but if I do +1 it doesnt show my addButton it only shows the &quot;empty&quot; boy again that crashes my app if I click it"}, {"owner": {"reputation": 751, "user_id": 1615525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429bd7e91da33239476586e67ec84ffe?s=128&d=identicon&r=PG", "display_name": "sigute", "link": "https://stackoverflow.com/users/1615525/sigute"}, "edited": false, "score": 0, "creation_date": 1511195616, "post_id": 47396128, "comment_id": 81746561, "body": "Ah, I see another issue :) in &quot;getItemViewType&quot; -&gt; &quot;position == exerciseList.size + 1&quot;. This should be just &quot;position == exerciseList.size&quot;. So, let&#39;s say you have 5 items.. positions 0-4 will be your exercise items, and then position 5 will be add item."}, {"owner": {"reputation": 751, "user_id": 1615525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429bd7e91da33239476586e67ec84ffe?s=128&d=identicon&r=PG", "display_name": "sigute", "link": "https://stackoverflow.com/users/1615525/sigute"}, "edited": false, "score": 0, "creation_date": 1511195671, "post_id": 47396128, "comment_id": 81746594, "body": "You can always add some logs and output the position and type of each item in getItemViewType to ensure these are generated correctly for positions, that usually helps me to debug recycler view issues."}, {"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "reply_to_user": {"reputation": 751, "user_id": 1615525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429bd7e91da33239476586e67ec84ffe?s=128&d=identicon&r=PG", "display_name": "sigute", "link": "https://stackoverflow.com/users/1615525/sigute"}, "edited": false, "score": 0, "creation_date": 1511195788, "post_id": 47396128, "comment_id": 81746675, "body": "@sigute it doesn&#39;t show the &quot;empty&quot; item anymore but now it crashes when I click on my add button :D"}, {"owner": {"reputation": 751, "user_id": 1615525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429bd7e91da33239476586e67ec84ffe?s=128&d=identicon&r=PG", "display_name": "sigute", "link": "https://stackoverflow.com/users/1615525/sigute"}, "edited": false, "score": 0, "creation_date": 1511195889, "post_id": 47396128, "comment_id": 81746738, "body": "getting there! :D not sure why that would crash, it might be helpful if you post your logcat."}, {"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "reply_to_user": {"reputation": 751, "user_id": 1615525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429bd7e91da33239476586e67ec84ffe?s=128&d=identicon&r=PG", "display_name": "sigute", "link": "https://stackoverflow.com/users/1615525/sigute"}, "edited": false, "score": 1, "creation_date": 1511195897, "post_id": 47396128, "comment_id": 81746744, "body": "@sigute I fixed it nevermind I added a +1 in my main activity too and I removed it and now it works like a charm :) If you want to you can post a answer to it and I will choose yours as the correct one! thank you!!!"}, {"owner": {"reputation": 751, "user_id": 1615525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429bd7e91da33239476586e67ec84ffe?s=128&d=identicon&r=PG", "display_name": "sigute", "link": "https://stackoverflow.com/users/1615525/sigute"}, "edited": false, "score": 0, "creation_date": 1511196115, "post_id": 47396128, "comment_id": 81746877, "body": "happy to hear it&#39;s working :D"}], "answers": [{"tags": [], "owner": {"reputation": 751, "user_id": 1615525, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/429bd7e91da33239476586e67ec84ffe?s=128&d=identicon&r=PG", "display_name": "sigute", "link": "https://stackoverflow.com/users/1615525/sigute"}, "is_accepted": true, "score": 1, "last_activity_date": 1511196099, "creation_date": 1511196099, "answer_id": 47396918, "question_id": 47396128, "link": "https://stackoverflow.com/questions/47396128/recyclerview-adds-a-empty-layout-item-and-when-i-click-it-the-app-crashes/47396918#47396918", "title": "RecyclerView adds a &quot;empty&quot; layout item and when I click it the app crashes", "body": "<p>These are issues with calculating the index in RecyclerView:</p>\n\n<p>In getItemCount it should be + 1, instead of + 2, as it only needs to add one additional item for add button. </p>\n\n<p>In getItemViewType position at the end of the list if list length, rather than list lenght +1. This is because position is 0-indexed. So, for example, if you have 5 items, positions 0-4 will be your exercise items, and then position 5 (position == exerciseList.size) will be an add item.</p>\n\n<p>Adding logs in getItemViewType for position and generated view type is helpful for debugging, as it shows which positions are calculated incorrectly very quickly.</p>\n"}], "owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 611, "favorite_count": 0, "accepted_answer_id": 47396918, "answer_count": 1, "score": 1, "last_activity_date": 1511196099, "creation_date": 1511193622, "question_id": 47396128, "link": "https://stackoverflow.com/questions/47396128/recyclerview-adds-a-empty-layout-item-and-when-i-click-it-the-app-crashes", "title": "RecyclerView adds a &quot;empty&quot; layout item and when I click it the app crashes", "body": "<p>I didn't add any data to my RecyclerView but it shows a empty box (the one I styled in the layouts for my data) anyways. It crashes with this errormessage </p>\n\n<pre><code>java.lang.IndexOutOfBoundsException: Index: 0, Size: 0\n</code></pre>\n\n<p>Here is my customAdapter:</p>\n\n<pre><code>class CustomAdapterExercise(var exerciseList: ArrayList&lt;Exercise&gt;, val addList: ArrayList&lt;textAdd&gt;) : RecyclerView.Adapter&lt;CustomAdapterExercise.ViewHolder&gt;() {\n\nval typeAdd = 0\nval typeExercise = 1\n\noverride fun getItemViewType(position: Int): Int {\n    if (position == exerciseList.size + 1) {\n        return typeAdd\n    }\n    else{\n        return typeExercise\n    }\n\n}\n\n//this method is returning the view for each item in the list\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomAdapterExercise.ViewHolder {\n\n    if (viewType == typeExercise) {\n        val itemView = LayoutInflater.from(parent.context).inflate(R.layout.exercise_layout, parent, false)\n        return ViewHolder(itemView)\n\n    } else {\n        val itemView = LayoutInflater.from(parent.context).inflate(R.layout.add_layout, parent, false)\n        return ViewHolder(itemView)\n    }\n\n}\n\n//this method is binding the data on the list\noverride fun onBindViewHolder(holder: CustomAdapterExercise.ViewHolder, position: Int) {\n    if (holder.itemViewType == typeAdd) {\n        holder.bindAdd(addList[0])\n    }\n    else{\n        if(position != exerciseList.size){\n            holder.bindItems(exerciseList[position])\n        }\n    }\n}\n\n//this method is giving the size of the list\noverride fun getItemCount(): Int {\n    return exerciseList.size + 2\n}\n\n//the class is hodling the list view\nclass ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n    fun bindItems(Exercise: Exercise) { \n\n        var exerciseAmount = itemView.findViewById&lt;TextView&gt;(R.id.exerciseAmount)\n\n        if(exerciseAmount != null){\n            exerciseAmount.text = Exercise.exAmount\n\n        }\n    }\n\n    fun bindAdd(textAdd: textAdd){\n        val addText = itemView.findViewById&lt;TextView&gt;(R.id.addText)\n        if(addText != null){\n            addText.text = textAdd.textAdd\n        }\n\n    }\n}\n}\n</code></pre>\n\n<p>Even if I add some data it still produces a empty box there and I don't get why.\nI wonder how can I stop it from producing a empty box always?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1517, "user_id": 1203122, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/123891b458a4020beda2c370a984986a?s=128&d=identicon&r=PG", "display_name": "xRed", "link": "https://stackoverflow.com/users/1203122/xred"}, "edited": false, "score": 0, "creation_date": 1511185863, "post_id": 47393460, "comment_id": 81740101, "body": "I think this question should belong to <a href=\"https://codereview.stackexchange.com/\">code review</a>."}], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 8301551, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0e44905aaccab9cd49ebc3f9db5a17cf?s=128&d=identicon&r=PG&f=1", "display_name": "Pagrate", "link": "https://stackoverflow.com/users/8301551/pagrate"}, "is_accepted": false, "score": 1, "last_activity_date": 1511187269, "creation_date": 1511187269, "answer_id": 47394078, "question_id": 47393460, "link": "https://stackoverflow.com/questions/47393460/replace-duplicate-code-with-function-parameter/47394078#47394078", "title": "Replace duplicate code with function parameter", "body": "<p>I was able to get this working with the following..</p>\n\n<pre><code>    private fun applyBitmapOperation(predicate: KFunction2&lt;@ParameterName(name = \"bitmap\") Bitmap, @ParameterName(name = \"changeAmount\") Float, Bitmap&gt;, changeAmount: Float) {\n    val bitmap = capturedReceiptImageView.bitmap\n\n    val bitmapChanged = predicate.invoke(bitmap, changeAmount)\n\n    capturedReceiptImageView.setImageBitmap(bitmapChanged)\n    capturedReceiptImageView.invalidate()\n\n    bitmap.recycle()\n}\n</code></pre>\n\n<p>And call it like this..</p>\n\n<pre><code>applyBitmapOperation(::changeBitmapContrast, 1.10f)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 8301551, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0e44905aaccab9cd49ebc3f9db5a17cf?s=128&d=identicon&r=PG&f=1", "display_name": "Pagrate", "link": "https://stackoverflow.com/users/8301551/pagrate"}, "edited": false, "score": 0, "creation_date": 1511257703, "post_id": 47395029, "comment_id": 81773186, "body": "Very nice, I prefer your way of doing it so accepting yours as the answer"}], "tags": [], "owner": {"reputation": 146, "user_id": 7450505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac0676e332a5560416585e41b78cf62c?s=128&d=identicon&r=PG&f=1", "display_name": "Hasdfa", "link": "https://stackoverflow.com/users/7450505/hasdfa"}, "is_accepted": true, "score": 1, "last_activity_date": 1511274582, "last_edit_date": 1511274582, "creation_date": 1511190301, "answer_id": 47395029, "question_id": 47393460, "link": "https://stackoverflow.com/questions/47393460/replace-duplicate-code-with-function-parameter/47395029#47395029", "title": "Replace duplicate code with function parameter", "body": "<pre><code>fun applyBitmapOperation(imageView: ImageView): ((Bitmap) -&gt; Bitmap) -&gt; Unit {\n    val bitmap = imageView.bitmap\n    return { function -&gt;\n        val resultBitmap = function(bitmap)\n        capturedReceiptImageView.setImageBitmap(resultBitmap)\n        capturedReceiptImageView.invalidate()\n\n        bitmap.recycle()\n    }\n}\noverride fun onOptionsItemSelected(item: MenuItem?): Boolean {\n    val apply = applyBitmapOperation(capturedReceiptImageView)\n    when (item?.itemId) {\n        R.id.action_crop -&gt; {\n            apply { bitmap -&gt;\n                BitmapHelper.cropBitmap(bitmap, capturedReceiptImageView.getDimensions())\n            }\n        }\n        R.id.action_rotate_left -&gt; {\n            apply { bitmap -&gt;\n                BitmapHelper.rotateBitmap(bitmap, -90.0f)\n            }\n        }\n        R.id.action_rotate_right -&gt; {\n            apply { bitmap -&gt;\n                BitmapHelper.rotateBitmap(bitmap, 90.0f)\n            }\n        }\n        R.id.action_increase_contrast -&gt; {\n           apply { bitmap -&gt;\n                BitmapHelper.changeBitmapContrast(bitmap, 1.10f)\n            }\n        }\n        R.id.action_decrease_contrast -&gt; {\n            apply { bitmap -&gt;\n                BitmapHelper.changeBitmapContrast(bitmap, 0.90f)\n            }\n        }\n        R.id.action_save -&gt; {\n            val bitmap = capturedReceiptImageView.bitmap\n            BitmapHelper.saveBitmap(bitmap, capturedReceiptUri)\n        }\n        else -&gt; { return false }\n    }\n    return true\n}\n</code></pre>\n"}], "owner": {"reputation": 101, "user_id": 8301551, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0e44905aaccab9cd49ebc3f9db5a17cf?s=128&d=identicon&r=PG&f=1", "display_name": "Pagrate", "link": "https://stackoverflow.com/users/8301551/pagrate"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 47395029, "answer_count": 2, "score": 1, "last_activity_date": 1511274582, "creation_date": 1511185344, "question_id": 47393460, "link": "https://stackoverflow.com/questions/47393460/replace-duplicate-code-with-function-parameter", "title": "Replace duplicate code with function parameter", "body": "<p>I have the following code which contains a lot of repetition..</p>\n\n<pre><code>    override fun onOptionsItemSelected(item: MenuItem?): Boolean {\n    when (item?.itemId) {\n        R.id.action_crop -&gt; {\n            val bitmap = capturedReceiptImageView.bitmap\n\n            val bitmapCropped = BitmapHelper.cropBitmap(bitmap, capturedReceiptImageView.getDimensions())\n\n            capturedReceiptImageView.setImageBitmap(bitmapCropped)\n            capturedReceiptImageView.invalidate()\n\n            bitmap.recycle()\n        }\n        R.id.action_rotate_left -&gt; {\n            val bitmap = capturedReceiptImageView.bitmap\n\n            val bitmapRotated = BitmapHelper.rotateBitmap(bitmap, -90.0f)\n\n            capturedReceiptImageView.setImageBitmap(bitmapRotated)\n            capturedReceiptImageView.invalidate()\n\n            bitmap.recycle()\n        }\n        R.id.action_rotate_right -&gt; {\n            val bitmap = capturedReceiptImageView.bitmap\n\n            val bitmapRotated = BitmapHelper.rotateBitmap(bitmap, 90.0f)\n\n            capturedReceiptImageView.setImageBitmap(bitmapRotated)\n            capturedReceiptImageView.invalidate()\n\n            bitmap.recycle()\n        }\n        R.id.action_increase_contrast -&gt; {\n            val bitmap = capturedReceiptImageView.bitmap\n\n            val bitmapChangedContrast = BitmapHelper.changeBitmapContrast(bitmap, 1.10f)\n\n            capturedReceiptImageView.setImageBitmap(bitmapChangedContrast)\n            capturedReceiptImageView.invalidate()\n\n            bitmap.recycle()\n        }\n        R.id.action_decrease_contrast -&gt; {\n            val bitmap = capturedReceiptImageView.bitmap\n\n            val bitmapChangedContrast = BitmapHelper.changeBitmapContrast(bitmap, 0.90f)\n\n            capturedReceiptImageView.setImageBitmap(bitmapChangedContrast)\n            capturedReceiptImageView.invalidate()\n\n            bitmap.recycle()\n        }\n        R.id.action_save -&gt; {\n            val bitmap = capturedReceiptImageView.bitmap\n            BitmapHelper.saveBitmap(bitmap, capturedReceiptUri)\n        }\n        else -&gt; { return false }\n    }\n\n    return true\n}\n</code></pre>\n\n<p>I want to a lot of this duplication with a function that takes another function an pass in the functions rotateBitmap changeBitmapContrast etc which should call this in BitmapHelper and return the bitmap</p>\n\n<p>How can I change my code to accomplish this? </p>\n"}, {"tags": ["android", "kotlin", "facebook-login", "dex"], "comments": [{"owner": {"reputation": 2407, "user_id": 5339829, "user_type": "registered", "accept_rate": 27, "profile_image": "https://lh4.googleusercontent.com/-Gq5bRoltcyM/AAAAAAAAAAI/AAAAAAAABJA/57FhuHkoR3E/photo.jpg?sz=128", "display_name": "Aman Verma", "link": "https://stackoverflow.com/users/5339829/aman-verma"}, "edited": false, "score": 0, "creation_date": 1511185623, "post_id": 47393359, "comment_id": 81739918, "body": "did u try clean project??"}, {"owner": {"reputation": 742, "user_id": 6395022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yGTay.jpg?s=128&g=1", "display_name": "Ngima Sherpa", "link": "https://stackoverflow.com/users/6395022/ngima-sherpa"}, "reply_to_user": {"reputation": 2407, "user_id": 5339829, "user_type": "registered", "accept_rate": 27, "profile_image": "https://lh4.googleusercontent.com/-Gq5bRoltcyM/AAAAAAAAAAI/AAAAAAAABJA/57FhuHkoR3E/photo.jpg?sz=128", "display_name": "Aman Verma", "link": "https://stackoverflow.com/users/5339829/aman-verma"}, "edited": false, "score": 0, "creation_date": 1511185754, "post_id": 47393359, "comment_id": 81740018, "body": "Yeah I did:  I delete the .gradle I delete all build dir I clean the project  I rebuild it but it gives the error I mentioned when I tried to run the app."}], "owner": {"reputation": 742, "user_id": 6395022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yGTay.jpg?s=128&g=1", "display_name": "Ngima Sherpa", "link": "https://stackoverflow.com/users/6395022/ngima-sherpa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1511194847, "creation_date": 1511185025, "last_edit_date": 1511194847, "question_id": 47393359, "link": "https://stackoverflow.com/questions/47393359/unable-to-merge-dex-in-1-0-60-in-android-3-0-while-using-facebook-login-aar", "title": "Unable to merge dex in 1.0.60 in android 3.0 while using facebook-login.aar", "body": "<p>I am trying to use <strong>facebook-login.aar</strong> for facebook login implementation in my app. But whenever I try to run the app it gives this error:</p>\n\n<pre><code>Error:Execution failed for task ':app:transformDexArchiveWithExternalLibsDexMergerForDebug'. &gt; java.lang.RuntimeException: com.android.builder.dexing.DexArchiveMergerException: Unable to merge dex in 1.0.60\n</code></pre>\n\n<p>I commented the //    <code>implementation fileTree(dir: 'libs', include: ['*.jar', '*.aar'])</code> part in dependencies then it does not show the error. <strong>I tried all the questions related to the DexArchiveMergerException but none worked for me. :(</strong></p>\n"}, {"tags": ["android", "kotlin", "spinner"], "answers": [{"tags": [], "owner": {"reputation": 732, "user_id": 8607294, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TiG89.jpg?s=128&g=1", "display_name": "SahdevRajput74", "link": "https://stackoverflow.com/users/8607294/sahdevrajput74"}, "is_accepted": false, "score": 0, "last_activity_date": 1511184425, "creation_date": 1511184425, "answer_id": 47393153, "question_id": 47392790, "link": "https://stackoverflow.com/questions/47392790/onclickitemlistener-in-spinner-in-recycler-view-android/47393153#47393153", "title": "OnClickItemListener in spinner in recycler view android", "body": "<p><strong>Try this</strong></p>\n\n<pre><code>yourSpinner.setOnItemSelectedListener(new OnItemSelectedListener() {\n\n                @Override\n                public void onItemSelected(Spinner parent, View view,\n                        int position, long id) {\n\n\n\n                }\n            });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3007, "user_id": 705544, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/01d0590a2787663c5eac4283092cbc12?s=128&d=identicon&r=PG", "display_name": "edi233", "link": "https://stackoverflow.com/users/705544/edi233"}, "edited": false, "score": 0, "creation_date": 1511186609, "post_id": 47393279, "comment_id": 81740647, "body": "I add stacktrace"}, {"owner": {"reputation": 2351, "user_id": 3608785, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/ajAsB.png?s=128&g=1", "display_name": "appersiano", "link": "https://stackoverflow.com/users/3608785/appersiano"}, "reply_to_user": {"reputation": 3007, "user_id": 705544, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/01d0590a2787663c5eac4283092cbc12?s=128&d=identicon&r=PG", "display_name": "edi233", "link": "https://stackoverflow.com/users/705544/edi233"}, "edited": false, "score": 0, "creation_date": 1511186870, "post_id": 47393279, "comment_id": 81740811, "body": "what happen if you add spinner.setOnTouchlistener(this); ?"}, {"owner": {"reputation": 3007, "user_id": 705544, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/01d0590a2787663c5eac4283092cbc12?s=128&d=identicon&r=PG", "display_name": "edi233", "link": "https://stackoverflow.com/users/705544/edi233"}, "edited": false, "score": 0, "creation_date": 1511187587, "post_id": 47393279, "comment_id": 81741297, "body": "the same error. I removed code with listener and still get the same error. Maybe recycler view something messing up."}, {"owner": {"reputation": 2128, "user_id": 2496348, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/f5b4247efe9f1acf137af74d02778ead?s=128&d=identicon&r=PG", "display_name": "Khairil Ushan", "link": "https://stackoverflow.com/users/2496348/khairil-ushan"}, "edited": false, "score": 0, "creation_date": 1511238142, "post_id": 47393279, "comment_id": 81763844, "body": "maybe you could post your updated code that still crash."}], "tags": [], "owner": {"reputation": 2351, "user_id": 3608785, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/ajAsB.png?s=128&g=1", "display_name": "appersiano", "link": "https://stackoverflow.com/users/3608785/appersiano"}, "is_accepted": false, "score": 0, "last_activity_date": 1511184795, "creation_date": 1511184795, "answer_id": 47393279, "question_id": 47392790, "link": "https://stackoverflow.com/questions/47392790/onclickitemlistener-in-spinner-in-recycler-view-android/47393279#47393279", "title": "OnClickItemListener in spinner in recycler view android", "body": "<p>The error is clear you have to use setOnItemClickListener that return you the index of the item clicked.</p>\n\n<p><code>setOnClickListener</code> is for</p>\n\n<blockquote>\n  <p>Register a callback to be invoked when this view is clicked. If this view is not clickable, it becomes clickable.</p>\n</blockquote>\n\n<p>and <code>setOnItemClickListener</code></p>\n\n<blockquote>\n  <p>Register a callback to be invoked when an item in this AdapterView has been clicked.</p>\n</blockquote>\n\n<p>so try:</p>\n\n<pre><code>spinner.setOnItemClickListener(\n{parent, view, position, id -&gt; \"Item $position clicked\" })\n</code></pre>\n"}], "owner": {"reputation": 3007, "user_id": 705544, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/01d0590a2787663c5eac4283092cbc12?s=128&d=identicon&r=PG", "display_name": "edi233", "link": "https://stackoverflow.com/users/705544/edi233"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 814, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1511186575, "creation_date": 1511183224, "last_edit_date": 1511186575, "question_id": 47392790, "link": "https://stackoverflow.com/questions/47392790/onclickitemlistener-in-spinner-in-recycler-view-android", "title": "OnClickItemListener in spinner in recycler view android", "body": "<p>I create item, where I have only spinner:</p>\n\n<pre><code>class ItemSelect constructor(val list: ArrayList&lt;String&gt;) : AbstractItem&lt;ItemSelect, ItemSelect.ViewHolder&gt;() {\n    override fun getType(): Int {\n        return R.id.itemSpinner\n    }\n\n    override fun getLayoutRes(): Int {\n        return R.layout.item_select\n    }\n\n    override fun bindView(holder: ViewHolder, payloads: MutableList&lt;Any&gt;?) {\n        super.bindView(holder, payloads)\n        val spinnerAdapter = ArrayAdapter&lt;String&gt;(holder.context, android.R.layout.simple_spinner_item)\n        spinnerAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item)\n        spinnerAdapter.addAll(list)\n\n        holder.spinner.adapter = spinnerAdapter\n\n        holder.spinner.onItemSelectedListener = object : AdapterView.OnItemSelectedListener {\n            override fun onItemSelected(parent: AdapterView&lt;*&gt;, view: View, position: Int, id: Long) {\n\n            }\n\n            override fun onNothingSelected(parent: AdapterView&lt;*&gt;) {\n\n            }\n        }\n    }\n\n    override fun unbindView(holder: ViewHolder) {\n        super.unbindView(holder)\n    }\n\n    override fun getViewHolder(v: View): ViewHolder {\n        return ViewHolder(v)\n    }\n\n    class ViewHolder(view: View) : RecyclerView.ViewHolder(view) {\n        val spinner: Spinner = view.itemSpinner\n        val context: Context = view.context\n    }\n}\n</code></pre>\n\n<p>The item is added to recycler view. </p>\n\n<p>When I want to show this view I got error:</p>\n\n<blockquote>\n  <p>java.lang.RuntimeException: Don't call setOnClickListener for an AdapterView. You probably want setOnItemClickListener instead</p>\n</blockquote>\n\n<p>Error:</p>\n\n<pre><code>java.lang.RuntimeException: Don't call setOnClickListener for an AdapterView. You probably want setOnItemClickListener instead\n                                                                              at android.widget.AdapterView.setOnClickListener(AdapterView.java:808)\n                                                                              at com.mikepenz.fastadapter.utils.EventHookUtil.attachToView(EventHookUtil.java:58)\n                                                                              at com.mikepenz.fastadapter.FastAdapter.onCreateViewHolder(FastAdapter.java:608)\n                                                                              at android.support.v7.widget.RecyclerView$Adapter.createViewHolder(RecyclerView.java:6488)\n                                                                              at android.support.v7.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:5675)\n                                                                              at android.support.v7.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5558)\n                                                                              at android.support.v7.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5554)\n                                                                              at android.support.v7.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2229)\n                                                                              at android.support.v7.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1556)\n                                                                              at android.support.v7.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1516)\n                                                                              at android.support.v7.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:608)\n                                                                              at android.support.v7.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:3694)\n                                                                              at android.support.v7.widget.RecyclerView.dispatchLayout(RecyclerView.java:3411)\n                                                                              at android.support.v7.widget.RecyclerView.onLayout(RecyclerView.java:3963)\n                                                                              at android.view.View.layout(View.java:19586)\n                                                                              at android.view.ViewGroup.layout(ViewGroup.java:6053)\n                                                                              at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1791)\n                                                                              at android.widget.LinearLayout.layoutHorizontal(LinearLayout.java:1780)\n                                                                              at android.widget.LinearLayout.onLayout(LinearLayout.java:1546)\n                                                                              at android.view.View.layout(View.java:19586)\n                                                                              at android.view.ViewGroup.layout(ViewGroup.java:6053)\n                                                                              at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n                                                                              at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n                                                                              at android.view.View.layout(View.java:19586)\n                                                                              at android.view.ViewGroup.layout(ViewGroup.java:6053)\n                                                                              at android.support.v7.widget.ActionBarOverlayLayout.onLayout(ActionBarOverlayLayout.java:443)\n                                                                              at android.view.View.layout(View.java:19586)\n                                                                              at android.view.ViewGroup.layout(ViewGroup.java:6053)\n                                                                              at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n                                                                              at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n                                                                              at android.view.View.layout(View.java:19586)\n                                                                              at android.view.ViewGroup.layout(ViewGroup.java:6053)\n                                                                              at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1791)\n                                                                              at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1635)\n                                                                              at android.widget.LinearLayout.onLayout(LinearLayout.java:1544)\n                                                                              at android.view.View.layout(View.java:19586)\n                                                                              at android.view.ViewGroup.layout(ViewGroup.java:6053)\n                                                                              at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n                                                                              at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n                                                                              at com.android.internal.policy.DecorView.onLayout(DecorView.java:758)\n                                                                              at android.view.View.layout(View.java:19586)\n                                                                              at android.view.ViewGroup.layout(ViewGroup.java:6053)\n                                                                              at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:2484)\n                                                                              at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2200)\n                                                                              at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1386)\n                                                                              at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:6733)\n                                                                              at android.view.Choreographer$CallbackRecord.run(Choreographer.java:911)\n                                                                              at android.view.Choreographer.doCallbacks(Choreographer.java:723)\n                                                                              at android.view.Choreographer.doFrame(Choreographer.java:658)\n                                                                              at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:897)\n                                                                              at android.os.Handler.handleCallback(Handler.java:789)\n                                                                              at android.os.Handler.dispatchMessage(Handler.java:98)\n                                                                              at android.os.Looper.loop(Looper.java:164)\n                                                                              at android.app.ActivityThread.main(ActivityThread.java:6541)\n                                                                              at java.lang.reflect.Method.invoke(Native Method)\n11-20 15:01:16.691 6942-6942/pl.skillforce.formsandroid E/AndroidRuntime:     at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n                                                                              at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n</code></pre>\n"}, {"tags": ["kotlin", "retrofit2", "rx-java2"], "comments": [{"owner": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1511191079, "post_id": 47392631, "comment_id": 81743541, "body": "What do you mean by &#39;generic class&#39; and what have you tried so far?"}, {"owner": {"reputation": 504, "user_id": 7852129, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f9d0c267ee6fdb333ef05fd137594c06?s=128&d=identicon&r=PG&f=1", "display_name": "Rushabh Shah", "link": "https://stackoverflow.com/users/7852129/rushabh-shah"}, "reply_to_user": {"reputation": 19872, "user_id": 804967, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/JVZu9.jpg?s=128&g=1", "display_name": "fweigl", "link": "https://stackoverflow.com/users/804967/fweigl"}, "edited": false, "score": 0, "creation_date": 1511358307, "post_id": 47392631, "comment_id": 81826736, "body": "I am new in kotlin so I want to simplify my api calling using RxJava By making a one generic class which directly handles errors and give onSuccess directly..."}, {"owner": {"reputation": 457, "user_id": 4408588, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002483357368/picture?type=large", "display_name": "Janusz Hain", "link": "https://stackoverflow.com/users/4408588/janusz-hain"}, "edited": false, "score": 0, "creation_date": 1526280523, "post_id": 47392631, "comment_id": 87664619, "body": "<a href=\"https://github.com/ApploverSoftware/android_architecture/tree/master/app/src/main/java/pl/applover/androidarchitecture/data/example/internet\" rel=\"nofollow noreferrer\">github.com/ApploverSoftware/android_architecture/tree/master&zwnj;&#8203;/&hellip;</a>  <a href=\"https://github.com/ApploverSoftware/android_architecture/blob/master/app/src/main/java/pl/applover/androidarchitecture/interactors/example/InteractorExample.kt\" rel=\"nofollow noreferrer\">github.com/ApploverSoftware/android_architecture/blob/master&zwnj;&#8203;/&hellip;</a>  I don&#39;t have time to explain it now (maybe later if you will need it). My architecture is designed to make it easier to optimise code using rx methods like zip or merge."}, {"owner": {"reputation": 1139, "user_id": 388065, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0d5510c3c90ef3a040ad3bbd2e38859?s=128&d=identicon&r=PG", "display_name": "Makotosan", "link": "https://stackoverflow.com/users/388065/makotosan"}, "edited": false, "score": 0, "creation_date": 1527022651, "post_id": 47392631, "comment_id": 87966229, "body": "You can use this adapter library so that you can use RxJava with Retrofit: <a href=\"https://github.com/square/retrofit/tree/master/retrofit-adapters/rxjava2\" rel=\"nofollow noreferrer\">github.com/square/retrofit/tree/master/retrofit-adapters/&hellip;</a> <code>retrofitBuilder.addCallAdapterFactory(RxJava2CallAdapterFact&zwnj;&#8203;ory.createAsync())</code>"}], "answers": [{"tags": [], "owner": {"reputation": 6647, "user_id": 709671, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/e2589f597920174d08abc0cc4ba5f183?s=128&d=identicon&r=PG", "display_name": "axierjhtjz", "link": "https://stackoverflow.com/users/709671/axierjhtjz"}, "is_accepted": false, "score": 0, "last_activity_date": 1518770128, "creation_date": 1518770128, "answer_id": 48822859, "question_id": 47392631, "link": "https://stackoverflow.com/questions/47392631/rxjava-and-retrofit-using-kotlin/48822859#48822859", "title": "RxJava and Retrofit using Kotlin", "body": "<p>I use a ServiceGenerator class just in case I need to use more than one Retrofit Service interfaces.</p>\n\n<pre><code>object ServiceGenerator {\n\n    const val APP_CODE = \"APP_CODE\"\n\n    private val interceptor = HttpLoggingInterceptor()\n        .setLevel(HttpLoggingInterceptor.Level.BODY)\n\n    private val certificatePinner = CertificatePinner.Builder()\n        .add(BuildConfig.HOSTNAME, BuildConfig.SHA1_HASH1)\n        .add(BuildConfig.HOSTNAME, BuildConfig.SHA1_HASH2)\n        .add(BuildConfig.HOSTNAME, BuildConfig.SHA1_HASH3)\n        .add(BuildConfig.HOSTNAME, BuildConfig.SHA1_HASH4)\n        .build()\n\n    private val httpClient = OkHttpClient.Builder()\n        .readTimeout(1, TimeUnit.MINUTES)\n        .connectTimeout(1, TimeUnit.MINUTES)\n        .addInterceptor(interceptor)\n\n    private val builder = Retrofit.Builder()\n        .baseUrl(BuildConfig.URL_ENDPOINT)\n        .addCallAdapterFactory(\n                    RxJava2CallAdapterFactory.createWithScheduler(Schedulers.io())\n        )\n        .addConverterFactory(GsonConverterFactory.create())\n\n    private var requestInterceptor: AppEventosRequestInterceptor? = null\n\n    fun &lt;S&gt; createService(context: Context, serviceClass: Class&lt;S&gt;): S {\n        if (BuildConfig.FLAVOR.equals(\"production\")) {\n            httpClient.certificatePinner(certificatePinner)\n        }\n        if (!httpClient.interceptors().contains(requestInterceptor)) {\n            requestInterceptor = AppEventosRequestInterceptor(context)\n            httpClient.addInterceptor(requestInterceptor!!)\n        }\n        builder.client(httpClient.build())\n        val retrofit = builder.build()\n        return retrofit.create(serviceClass)\n    }\n}\n</code></pre>\n\n<p>In my case I made my Service capable of returning a Flowable response so I can observe it.</p>\n\n<pre><code>@GET(\"schedule\")\nfun getSchedules(\n        @Header(\"If-None-Match\") etag: String\n): Flowable&lt;Response&lt;ResponseBody&gt;&gt;\n</code></pre>\n\n<p>Then, when I want to make my http call I first initialize my ServiceRx class</p>\n\n<pre><code>private var mService: AppEventosServiceRx = ServiceGenerator.createService&lt;AppEventosServiceRx&gt;(applicationContext, AppEventosServiceRx::class.java)\n</code></pre>\n\n<p>And then make my request</p>\n\n<pre><code>mService.getSchedules(mEtagManager.getEtag(EtagManager.ETAG_SCHEDULES))\n    .observeOn(AndroidSchedulers.mainThread())\n    .subscribe(\n        { response -&gt;\n            if (response.code() != HttpURLConnection.HTTP_NOT_MODIFIED) {\n                if (response.body() != null) {\n                    // Do your useful stuff here...\n                }\n            } else {\n                // Check if not modified or any other HTTP Error\n            }\n        },\n        { throwable -&gt; \n            // Log your connectivity problems ...\n        }\n    ) {}\n</code></pre>\n\n<p>This way, your Service interface will give you a Observer, the Service generator will make it common for every call and you can observe it and work the response.</p>\n\n<p>Hope it helps!</p>\n"}], "owner": {"reputation": 504, "user_id": 7852129, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/f9d0c267ee6fdb333ef05fd137594c06?s=128&d=identicon&r=PG&f=1", "display_name": "Rushabh Shah", "link": "https://stackoverflow.com/users/7852129/rushabh-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1001, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1518770128, "creation_date": 1511182729, "last_edit_date": 1518768878, "question_id": 47392631, "link": "https://stackoverflow.com/questions/47392631/rxjava-and-retrofit-using-kotlin", "title": "RxJava and Retrofit using Kotlin", "body": "<p>How to create generic class for api calling using <strong>RxJava and Retrofit</strong> in <strong>Kotlin</strong>?</p>\n\n<p>My JAVA implementation is as ::</p>\n\n<p>At first Add Gradle Dependency : (update to latest version if available)</p>\n\n<p>//for retrofit</p>\n\n<blockquote>\n  <p>implementation 'com.squareup.retrofit2:retrofit:2.3.0'</p>\n  \n  <p>implementation 'com.squareup.retrofit2:converter-gson:2.3.0'</p>\n</blockquote>\n\n<p>//for interceptor\n implementation 'com.squareup.okhttp3:logging-interceptor:3.9.0'</p>\n\n<p>//For BuildType : (if you want for various environment)</p>\n\n<blockquote>\n  <p>buildTypes {\n          debug {\n              buildConfigField \"String\", \"SERVER_URL\", '\"DEV_URL\"'\n              debuggable true\n          }\n          release {\n              buildConfigField \"String\", \"SERVER_URL\", '\"LIVE_URL\"'\n              minifyEnabled false\n          }\n      }</p>\n</blockquote>\n\n<p>//If environment is set Define BASE_URL using set environment:</p>\n\n<blockquote>\n  <p>String BASE_URL = BuildConfig.SERVER_URL + \"url\";</p>\n</blockquote>\n\n<p>=======================================================<br>\nCreate a class called RestClient For Retrofit Builder : </p>\n\n<pre><code>public class RestClient {\n\nprivate static RestClient instance;\nprivate ApiConstant apiInterface;\nprivate OkHttpClient.Builder okHttpClientBuilder;\n\npublic RestClient() {\n    instance = this;\n    okHttpClientBuilder = new OkHttpClient.Builder();\n    okHttpClientBuilder.connectTimeout(60, TimeUnit.SECONDS);\n    okHttpClientBuilder.writeTimeout(60, TimeUnit.SECONDS);\n    okHttpClientBuilder.readTimeout(60, TimeUnit.SECONDS);\n\n\n//for logs of api response in debug mode\n\n    if (BuildConfig.DEBUG) {\n        final HttpLoggingInterceptor interceptor = new HttpLoggingInterceptor();\n        interceptor.setLevel(HttpLoggingInterceptor.Level.BODY);\n        okHttpClientBuilder.addInterceptor(interceptor);\n    }\n}\n\npublic static RestClient getInstance() {\n    return instance;\n}\n\npublic ApiConstant getApiInterface() {\n\n    final Retrofit.Builder retrofitBuilder = new Retrofit.Builder();\n    retrofitBuilder.baseUrl(ApiConstant.BASE_URL);\n    retrofitBuilder.client(okHttpClientBuilder.build());\n    retrofitBuilder.addConverterFactory(GsonConverterFactory.create());\n\n    Retrofit retrofit = retrofitBuilder.build();\n    apiInterface = retrofit.create(ApiConstant.class);\n\n    return apiInterface;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>=======================================================<br>\nApiInterface : (an interface for api calls)</p>\n\n<pre><code>public interface ApiInterface {\n\n@POST(\"Urls Params\")\nCall&lt;ModelClass&gt; postValidateToken(@Body JSONObject body);\n\n}\n</code></pre>\n\n<p>=======================================================<br>\nCreate Generic class called RetrofitCallback which handles Api response and Throws basic errors and show Toast Message to user: </p>\n\n<pre><code>public abstract class RetrofitCallback&lt;T&gt; implements Callback&lt;T&gt; {\n\nprivate ProgressDialog progressDialog;\nprivate Context context;\nprivate boolean validateResponse = true;\n\npublic RetrofitCallback(Context c) {\n    context = c;\n}\n\npublic RetrofitCallback(Context c, ProgressDialog dialog) {\n    progressDialog = dialog;\n    context = c;\n}\n\n    public RetrofitCallback(Context context, ProgressDialog progressDialog, boolean validateResponse) {\n    this.progressDialog = progressDialog;\n    this.context = context;\n    this.validateResponse = validateResponse;\n}\n\npublic RetrofitCallback(Context context, boolean validateResponse) {\n    this.context = context;\n    this.validateResponse = validateResponse;\n}\n\npublic abstract void onSuccess(T arg0);\n\n@Override\npublic void onResponse(Call&lt;T&gt; call, Response&lt;T&gt; response) {\n\n    if (!(((Activity) context).isFinishing()) &amp;&amp; progressDialog != null &amp;&amp; progressDialog.isShowing()) {\n        if (progressDialog != null &amp;&amp; progressDialog.isShowing()) {\n            progressDialog.dismiss();\n        }\n    }\n\n    if (response.isSuccessful() &amp;&amp; response.code() == 200) {\n        onSuccess(response.body());\n    } else {\n        Toast.makeText(context, context.getString(R.string.something_wrong), Toast.LENGTH_SHORT).show();\n    }\n}\n\n@Override\npublic void onFailure(Call&lt;T&gt; call, Throwable error) {\n    if (!validateResponse)\n        return;\n\n    String errorMsg;\n    error.printStackTrace();\n    if (error instanceof SocketTimeoutException) {\n        errorMsg = context.getString(R.string.connection_timeout);\n    } else if (error instanceof UnknownHostException) {\n        errorMsg = context.getString(R.string.nointernet);\n    } else if (error instanceof ConnectException) {\n        errorMsg = context.getString(R.string.server_not_responding);\n    } else if (error instanceof JSONException || error instanceof JsonSyntaxException) {\n        errorMsg = context.getString(R.string.parse_error);\n    } else if (error instanceof IOException) {\n        errorMsg = error.getMessage();\n    } else {\n        errorMsg = context.getString(R.string.something_wrong);\n    }\n\n    if (progressDialog != null &amp;&amp; progressDialog.isShowing()) {\n        if (progressDialog != null &amp;&amp; progressDialog.isShowing()) {\n            progressDialog.dismiss();\n        }\n    }\n    Toast.makeText(context, errorMsg, Toast.LENGTH_SHORT).show();\n}\n}\n</code></pre>\n\n<p>=======================================================<br>\nString : (string.xml)</p>\n\n<p>Something went wrong. Please try again later.\nNo internet connection available. Please try again later.\nServer is not responding. Please try again later.\nConnection Timeout\nUnable to parse response from server</p>\n\n<p>=======================================================<br>\nImplementation (How to call in Activity or Fragment):</p>\n\n<pre><code> Call&lt;User&gt; userLoginCall = RestClient.getInstance().getApiInterface().LoginURL(Util.currentLanguage,\n                Util.getLoginURL(getActivity(), email, LOGIN_GOOGLE, accID));\n        userLoginCall.enqueue(new RetrofitCallback&lt;User&gt;(getActivity(), DialogUtils.showProgressDialog(getActivity())) {\n            @Override\n            public void onSuccess(User user) {\n\n                //Your Response\n            }\n        });\n</code></pre>\n"}, {"tags": ["android", "callback", "kotlin", "rx-java", "google-vision"], "comments": [{"owner": {"reputation": 3428, "user_id": 1827254, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F1JrN.png?s=128&g=1", "display_name": "Eselfar", "link": "https://stackoverflow.com/users/1827254/eselfar"}, "edited": false, "score": 0, "creation_date": 1511182422, "post_id": 47392376, "comment_id": 81737898, "body": "Where do you subscribe?"}, {"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "reply_to_user": {"reputation": 3428, "user_id": 1827254, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F1JrN.png?s=128&g=1", "display_name": "Eselfar", "link": "https://stackoverflow.com/users/1827254/eselfar"}, "edited": false, "score": 0, "creation_date": 1511182527, "post_id": 47392376, "comment_id": 81737965, "body": "in <code>onResume</code>. I will try subscribing near properties declaration"}, {"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "reply_to_user": {"reputation": 3428, "user_id": 1827254, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F1JrN.png?s=128&g=1", "display_name": "Eselfar", "link": "https://stackoverflow.com/users/1827254/eselfar"}, "edited": false, "score": 0, "creation_date": 1511187045, "post_id": 47392376, "comment_id": 81740923, "body": "ok, that was impossible due to <code>Context</code> being not yet fed to the detector. Moving subscription to <code>onCreate</code> did not change anything"}, {"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "reply_to_user": {"reputation": 3428, "user_id": 1827254, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F1JrN.png?s=128&g=1", "display_name": "Eselfar", "link": "https://stackoverflow.com/users/1827254/eselfar"}, "edited": false, "score": 0, "creation_date": 1511187632, "post_id": 47392376, "comment_id": 81741328, "body": "I just stumbled upon <a href=\"https://medium.com/yammer-engineering/converting-callback-async-calls-to-rxjava-ebc68bde5831\" rel=\"nofollow noreferrer\">medium.com/yammer-engineering/&hellip;</a> and will try to implement this tomorrow"}, {"owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "reply_to_user": {"reputation": 3428, "user_id": 1827254, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/F1JrN.png?s=128&g=1", "display_name": "Eselfar", "link": "https://stackoverflow.com/users/1827254/eselfar"}, "edited": false, "score": 0, "creation_date": 1511376618, "post_id": 47392376, "comment_id": 81838867, "body": "sadly project has been abandoned since, and I don&#39;t know if we&#39;re gonna get back to it. I&#39;m afraid I won&#39;t try that solution before New Year."}], "owner": {"reputation": 641, "user_id": 1870447, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/5obdQ.jpg?s=128&g=1", "display_name": "Antek", "link": "https://stackoverflow.com/users/1870447/antek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1511181875, "creation_date": 1511181875, "question_id": 47392376, "link": "https://stackoverflow.com/questions/47392376/replace-externally-called-callbacks-with-rxjava", "title": "Replace externally called callbacks with RxJava", "body": "<p>I have an application using Google Mobile Vision, where the detector's <code>detect(Frame frame)</code> method is called externally by the framework. In that method I call callbacks of the hosting <code>Activity</code>:</p>\n\n<pre><code>override fun detect(frame: Frame?): SparseArray&lt;Barcode&gt; {\n    ...\n    activity.doSomethingOn(theDetections)\n}\n</code></pre>\n\n<p>Due to reactive nature of the logic, I would like to introduce ReactiveX in as many places as possible, and replace callbacks with creating a stream. Is it possible at all? Following does not work:</p>\n\n<pre><code>val detections: Flowable&lt;SparseArray&lt;Barcode&gt;&gt; = SparseArray&lt;Barcode&gt;()\n    .toSingle()\n    .toFlowable()\n\noverride fun detect(frame: Frame?): SparseArray&lt;Barcode&gt; {\n    ...\n    detections.concatWith(detections.toSingle().toFlowable())\n}\n</code></pre>\n\n<p>and in activity this is not called at all:</p>\n\n<pre><code>detector.detections\n    .subscribeOn(AndroidSchedulers.mainThread())\n    .forEach { info(detections.size) }\n</code></pre>\n\n<p>This does not work either:</p>\n\n<pre><code>val detections: Flowable&lt;SparseArray&lt;Barcode&gt;&gt; = SparseArray&lt;Barcode&gt;()\n    .toSingle()\n    .toFlowable()\n\nfun lastDetections(): Flowable&lt;SparseArray&lt;Barcode&gt;&gt; = detections\n\noverride fun detect(frame: Frame?): SparseArray&lt;Barcode&gt; {\n    ...\n    detections.concatWith(detections.toSingle().toFlowable())\n    lastDetections()\n}\n</code></pre>\n\n<p>and in activity:</p>\n\n<pre><code>detector.lastDetections()\n    .subscribeOn(AndroidSchedulers.mainThread())\n    .forEach { info(detections.size) }\n</code></pre>\n\n<p>What do I do wrongly? Is such replacement possible at all? Does it - above all - make sense? (I would say \"yes\").</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 2, "creation_date": 1511288241, "post_id": 47404389, "comment_id": 81794142, "body": "Regarding the last sentence: the corresponding Java constructor lost its main use since version 7u6 (if I remember correctly, but it should be something in that range) and still exists there for backwards compatibility. Kotlin has no need to copy it."}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1511294506, "post_id": 47404389, "comment_id": 81797734, "body": "Yes I realized that there&#39;s no need to use that constructor in the code above.. this is equivalent: <code>companion object Foo : CharSequence by &quot;xyzzy&quot;</code>"}], "tags": [], "owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "is_accepted": false, "score": 1, "last_activity_date": 1511232523, "creation_date": 1511232523, "answer_id": 47404389, "question_id": 47391856, "link": "https://stackoverflow.com/questions/47391856/variable-must-be-initialized-error-when-delegating-to-an-initialized-property/47404389#47404389", "title": "&quot;Variable must be initialized&quot; error when delegating to an initialized property", "body": "<p>I speculate that using class delegation on an object is a bit non-obvious, so that's probably the essence of <em>why</em>.</p>\n\n<p>A workaround is to delegate directly to an instance of String. This code works for me:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(\"Hello, world! ${Bar.Foo.indexOf(\"z\")}\") // Prints \"2\"\n}\n\nclass Bar {\n  companion object Foo : CharSequence by String(StringBuilder(\"xyzzy\")) {\n  }\n}\n</code></pre>\n\n<p>Aside: <code>String</code> in Kotlin has no constructor that takes a String parameter. Odd, that.</p>\n"}], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 891, "favorite_count": 0, "answer_count": 1, "score": 9, "last_activity_date": 1511232523, "creation_date": 1511180280, "last_edit_date": 1511182275, "question_id": 47391856, "link": "https://stackoverflow.com/questions/47391856/variable-must-be-initialized-error-when-delegating-to-an-initialized-property", "title": "&quot;Variable must be initialized&quot; error when delegating to an initialized property", "body": "<pre><code>object Foo : CharSequence by Foo.X {\n    val X = \"\"\n}\n</code></pre>\n\n<p>produces </p>\n\n<pre><code>Variable 'X' must be initialized\n</code></pre>\n\n<p>But it is! And the code should translate to something like</p>\n\n<pre><code>object Foo : CharSequence {\n    val X = \"\"\n    override val length get() = Foo.X.length\n    override operator fun get(index: Int): Char = Foo.X[index]\n    override fun subSequence(startIndex: Int, endIndex: Int) = Foo.X.subSequence(startIndex, endIndex)\n}\n</code></pre>\n\n<p>which works well.</p>\n\n<p>What is the reason for the error and is there a workaround? In real code initialization is non-trivial and <code>Foo</code> needs to be an <code>object</code> (actually, a companion object), not a <code>class</code>.</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 1, "creation_date": 1511180290, "post_id": 47391664, "comment_id": 81736585, "body": "&quot;it is not explained well for a beginner&quot; - SO is for enthousiast programmers, not for beginners who are looking for in-depth tutorials on basic stuff. If you have trouble understanding the answers in the linked post, you might want to spend some time on the android developer docs first, to get a basic understanding of android"}, {"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1511180882, "post_id": 47391664, "comment_id": 81736914, "body": "@TimCastelijns well I am a enthousiast programmer I just don&#39;t have the skills for android programming yet. Also I will take a look into the docs thank you. I didn&#39;t know StackOverflow is only for pros in every area."}, {"owner": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1511181639, "post_id": 47391664, "comment_id": 81737402, "body": "<i>I didn&#39;t know StackOverflow is only for pros in every area.</i> - it&#39;s not. I didn&#39;t say that. It&#39;s just not for beginners who want to be spoonfed information"}, {"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "reply_to_user": {"reputation": 37983, "user_id": 1843331, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/aVX5R.jpg?s=128&g=1", "display_name": "Tim", "link": "https://stackoverflow.com/users/1843331/tim"}, "edited": false, "score": 0, "creation_date": 1511183597, "post_id": 47391664, "comment_id": 81738646, "body": "@TimCastelijns you&#39;re totally right yes, but after trying for around 4 hours and doing half the thing myself and not understanding the last half I think it is completely okay to ask... don&#39;t you think so?"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511180037, "post_id": 47391763, "comment_id": 81736425, "body": "Do you mean I have to change the holder to the right viewType?"}, {"owner": {"reputation": 1949, "user_id": 2281718, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/IfZFP.jpg?s=128&g=1", "display_name": "patrick.elmquist", "link": "https://stackoverflow.com/users/2281718/patrick-elmquist"}, "reply_to_user": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511180098, "post_id": 47391763, "comment_id": 81736462, "body": "Since you use different layouts for the views, I suspect that you can&#39;t use the same ViewHolder (unless they actually include the same view ids and types)"}], "tags": [], "owner": {"reputation": 1949, "user_id": 2281718, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/IfZFP.jpg?s=128&g=1", "display_name": "patrick.elmquist", "link": "https://stackoverflow.com/users/2281718/patrick-elmquist"}, "is_accepted": true, "score": 0, "last_activity_date": 1511180680, "last_edit_date": 1511180680, "creation_date": 1511179953, "answer_id": 47391763, "question_id": 47391664, "link": "https://stackoverflow.com/questions/47391664/how-to-add-a-plus-image-as-a-button-at-the-end-of-my-recyclerview-in-android/47391763#47391763", "title": "How to add a plus image as a button at the end of my RecyclerView in Android?", "body": "<p>You need to switch on viewType in <code>onBindViewHolder</code>.</p>\n\n<pre><code>override fun onBindViewHolder(holder: CustomAdapterExercise.ViewHolder, position: Int) {\n    if (holder.itemViewType == typeAdd) {\n        // Bind the add button\n    else {\n        holder.bindItems(exerciseList[position])\n    }\n}\n</code></pre>\n\n<p>Sidenote:</p>\n\n<p>You're using a ViewHolder the wrong way, one of the benefits of ViewHolders is not being forced to do <code>findByView</code> every time you update a View.</p>\n"}], "owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1285, "favorite_count": 0, "closed_date": 1511180023, "accepted_answer_id": 47391763, "answer_count": 1, "score": 0, "last_activity_date": 1511180680, "creation_date": 1511179602, "last_edit_date": 1592644375, "question_id": 47391664, "link": "https://stackoverflow.com/questions/47391664/how-to-add-a-plus-image-as-a-button-at-the-end-of-my-recyclerview-in-android", "closed_reason": "Duplicate", "title": "How to add a plus image as a button at the end of my RecyclerView in Android?", "body": "<p>I want to have an <strong><code>add</code></strong> button after all my exercise Items like this:</p>\n<p><a href=\"https://i.stack.imgur.com/fN86I.jpg\" rel=\"nofollow noreferrer\">Image of the RecyclerView I want</a></p>\n<p>and I tried Implementing it in my <code>CustomAdapter</code> like this:</p>\n<pre><code>class CustomAdapterExercise(val exerciseList: ArrayList&lt;Exercise&gt;) : RecyclerView.Adapter&lt;CustomAdapterExercise.ViewHolder&gt;() {\n\nval typeAdd = 0\nval typeExercise = 1\n\n//this method is returning the view for each item in the list\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomAdapterExercise.ViewHolder {\n\n    if (viewType == typeAdd) {\n        val itemView = LayoutInflater.from(parent.context).inflate(R.layout.exercise_layout, parent, false)\n        return ViewHolder(itemView)\n    } else if (viewType == typeExercise) {\n        val itemView = LayoutInflater.from(parent.context).inflate(R.layout.add_layout, parent, false)\n        return ViewHolder(itemView)\n    }\n    else{\n        val itemView = LayoutInflater.from(parent.context).inflate(R.layout.add_layout, parent, false)\n        return ViewHolder(itemView)\n    }\n\n}\n\n//this method is binding the data on the list\noverride fun onBindViewHolder(holder: CustomAdapterExercise.ViewHolder, position: Int) {\n    holder.bindItems(exerciseList[position])\n}\n\noverride fun getItemViewType(position: Int): Int {\n    if (position &lt;= exerciseList.size) {\n        return typeExercise\n    } else if (position == exerciseList.size + 1) {\n        return typeAdd\n    }\n    else{\n        return typeAdd\n    }\n}\n\n//this method is giving the size of the list\noverride fun getItemCount(): Int {\n    return exerciseList.size + 1\n}\n\n//the class is hodling the list view\nclass ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n    fun bindItems(Exercise: Exercise) {\n\n        val exerciseAmount = itemView.findViewById&lt;TextView&gt;(R.id.exerciseAmount)\n        val exerciseName  = itemView.findViewById&lt;TextView&gt;(R.id.exerciseName)\n        val exerciseWeight = itemView.findViewById&lt;TextView&gt;(R.id.exerciseWeight)\n        val exerciseSets  = itemView.findViewById&lt;TextView&gt;(R.id.exerciseSets)\n        exerciseAmount.text = Exercise.exAmount\n        exerciseName.text = Exercise.exName\n        exerciseWeight.text = Exercise.weight\n        exerciseSets.text = Exercise.sets\n    }\n}\n}\n</code></pre>\n<p>but It crashes as soon as I go to that view and it gives me this error:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n                      at abyte.fitness.fitnessbyte.CustomAdapterExercise$ViewHolder.bindItems(CustomAdapterExercise.kt:67)\n</code></pre>\n<p>I get that this is because I am assigning text to my add-button but I don't know how to do this differently and make it work.</p>\n<p>I have already seen the &quot;duplicate&quot; question when I was searching all day but it is not explained well for a beginner like myself...</p>\n"}, {"tags": ["java", "android", "kotlin", "dialogflow-es"], "comments": [{"owner": {"reputation": 815, "user_id": 4661264, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c9900e35058d12a251d708a5124c83ce?s=128&d=identicon&r=PG", "display_name": "Sushovan Mandal", "link": "https://stackoverflow.com/users/4661264/sushovan-mandal"}, "edited": false, "score": 0, "creation_date": 1511178939, "post_id": 47390920, "comment_id": 81735744, "body": "calling <code>ai.api.android.AIConfiguration.SupportedLanguages</code> in Java works fine as above. In Kotlin 1 solution I found for the above code is to use <code>ai.api.AIConfiguration.SupportedLanguages</code> in the code, which resolved correctly. But <code>ai.api.android.AIConfiguration</code> implements <code>ai.api.AIConfiguration</code>, so why this issue arises at all I don&#39;t understand."}], "answers": [{"tags": [], "owner": {"reputation": 815, "user_id": 4661264, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c9900e35058d12a251d708a5124c83ce?s=128&d=identicon&r=PG", "display_name": "Sushovan Mandal", "link": "https://stackoverflow.com/users/4661264/sushovan-mandal"}, "is_accepted": true, "score": 1, "last_activity_date": 1511333220, "last_edit_date": 1511333220, "creation_date": 1511258264, "answer_id": 47410138, "question_id": 47390920, "link": "https://stackoverflow.com/questions/47390920/android-studio-3-0-unresolved-reference-supportedlanguages-for-aiconfiguration/47410138#47410138", "title": "Android Studio 3.0 Unresolved reference: SupportedLanguages for AIConfiguration class in Dialogflow(api.ai)", "body": "<p>One workaround I found that is working is to use <code>ai.api.AIConfiguration.SupportedLanguages</code> which is resolving instead of <code>ai.api.android.AIConfiguration.SupportedLanguages</code> which is not resolving in kotlin in Android Studio 3.0 as mentioned in the question. </p>\n\n<p>However, calling <code>ai.api.android.AIConfiguration.SupportedLanguages</code> works just fine in Java code, in which case it is resolving correctly in Android Studio 3.0. Since <code>ai.api.android.AIConfiguration</code> implements <code>ai.api.AIConfiguration</code>, why this issue is arising is puzzling!</p>\n"}, {"tags": [], "owner": {"reputation": 628, "user_id": 8712102, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qeJ69.png?s=128&g=1", "display_name": "HandyPawan", "link": "https://stackoverflow.com/users/8712102/handypawan"}, "is_accepted": false, "score": 0, "last_activity_date": 1567600231, "creation_date": 1567600231, "answer_id": 57788453, "question_id": 47390920, "link": "https://stackoverflow.com/questions/47390920/android-studio-3-0-unresolved-reference-supportedlanguages-for-aiconfiguration/57788453#57788453", "title": "Android Studio 3.0 Unresolved reference: SupportedLanguages for AIConfiguration class in Dialogflow(api.ai)", "body": "<p>Just use this line instead of previous -</p>\n\n<blockquote>\n  <p>ai.api.AIConfiguration.SupportedLanguages.English,</p>\n</blockquote>\n"}], "owner": {"reputation": 815, "user_id": 4661264, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/c9900e35058d12a251d708a5124c83ce?s=128&d=identicon&r=PG", "display_name": "Sushovan Mandal", "link": "https://stackoverflow.com/users/4661264/sushovan-mandal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 729, "favorite_count": 0, "accepted_answer_id": 47410138, "answer_count": 2, "score": 2, "last_activity_date": 1567600231, "creation_date": 1511177156, "question_id": 47390920, "link": "https://stackoverflow.com/questions/47390920/android-studio-3-0-unresolved-reference-supportedlanguages-for-aiconfiguration", "title": "Android Studio 3.0 Unresolved reference: SupportedLanguages for AIConfiguration class in Dialogflow(api.ai)", "body": "<p>I am building a chatbot Android app in Kotlin, through queries to a Dialogflow agent. I am using the <a href=\"https://github.com/dialogflow/dialogflow-android-client\" rel=\"nofollow noreferrer\">Dialogflow android client github repository</a> Readme and the <a href=\"https://github.com/dialogflow/dialogflow-android-client/tree/master/apiAISampleApp\" rel=\"nofollow noreferrer\">sample app</a> provided in that repository as the basis to build the app. As referenced in the above sources, java code for <code>AIConfiguration.SupportedLanguages</code> works fine:</p>\n\n<pre><code>import ai.api.android.AIConfiguration;\n.....\nprivate void initService(final LanguageConfig selectedLanguage) {\nfinal AIConfiguration.SupportedLanguages lang = AIConfiguration.SupportedLanguages.fromLanguageTag(selectedLanguage.getLanguageCode());\n.....\n</code></pre>\n\n<p>You can find the full usage of this <a href=\"https://github.com/dialogflow/dialogflow-android-client/blob/master/apiAISampleApp/src/main/java/ai/api/sample/AIServiceSampleActivity.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>When I am implementing this in Kotlin:</p>\n\n<pre><code>import ai.api.android.AIConfiguration\n....\n    private fun initService() {\n        //final AIConfiguration.SupportedLanguages lang = AIConfiguration.SupportedLanguages.fromLanguageTag(selectedLanguage.getLanguageCode());\n        val config = AIConfiguration(CLIENT_ACCESS_TOKEN,\n                AIConfiguration.SupportedLanguages.EnglishGB,\n                AIConfiguration.RecognitionEngine.System)\n....\n</code></pre>\n\n<p>in Android 3.0 I am getting a gradle error of \"<strong>Unresolved reference: SupportedLanguages</strong>\" for <code>AIConfiguration.SupportedLanguages</code>. <code>AIConfiguration.RecognitionEngine</code> is resolving just fine. Why is this problem happening? What solution/work-around can I implement?</p>\n\n<p>My higher level <code>build.gradle</code> file:</p>\n\n<pre><code>apply plugin: 'com.android.feature'\n\nandroid {\n    compileSdkVersion 27\n    baseFeature true\n    defaultConfig {\n        minSdkVersion 23\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    buildToolsVersion '27.0.1'\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    api 'com.android.support:appcompat-v7:27.0.0'\n    api 'com.android.support:design:27.0.0'\n    api 'com.android.support.constraint:constraint-layout:1.0.2'\n\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    compile 'ai.api:sdk:2.0.7@aar'\n    compile 'ai.api:libai:1.6.12'\n    //compile project(':ailib')\n\n    application project(':app')\n    feature project(':chatbot')\n}\n</code></pre>\n\n<p>My module <code>build.gradle</code> file:</p>\n\n<pre><code>apply plugin: 'com.android.feature'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\nandroid {\n    compileSdkVersion 27\n    defaultConfig {\n        minSdkVersion 23\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n    buildToolsVersion '27.0.1'\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    implementation project(':base')\n\n    //add the google gson library\n    compile 'com.google.code.gson:gson:2.8.2'\n\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n\n}\n</code></pre>\n"}, {"tags": ["spring", "generics", "exception", "kotlin", "spring-webflux"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1511177409, "post_id": 47390818, "comment_id": 81734814, "body": "What happens if you do the <code>return</code> from within the try-catch?"}, {"owner": {"reputation": 11622, "user_id": 1097451, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1516b785b675ba751aacdc05ae31764b?s=128&d=identicon&r=PG", "display_name": "Martin Drozdik", "link": "https://stackoverflow.com/users/1097451/martin-drozdik"}, "reply_to_user": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 0, "creation_date": 1511177578, "post_id": 47390818, "comment_id": 81734927, "body": "@Michael The problem persists: <code>ERROR, all exceptions should have been caught in &#39;get&#39; </code>"}], "answers": [{"tags": [], "owner": {"reputation": 6320, "user_id": 1005102, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/25e54051cb89e46c0af7495dc0b87a9a?s=128&d=identicon&r=PG", "display_name": "Utku &#214;zdemir", "link": "https://stackoverflow.com/users/1005102/utku-%c3%96zdemir"}, "is_accepted": true, "score": 6, "last_activity_date": 1511208347, "last_edit_date": 1511208347, "creation_date": 1511186414, "answer_id": 47393796, "question_id": 47390818, "link": "https://stackoverflow.com/questions/47390818/what-is-the-most-likely-cause-of-exceptions-mysteriously-escaping-a-try-catch-bl/47393796#47393796", "title": "What is the most likely cause of exceptions mysteriously escaping a try-catch block in this case?", "body": "<p>I tried the code with Spring Boot version <code>2.0.0.M5</code> and <code>2.0.0.M6</code>, and it seems the behavior of the following block is different between those 2 versions:</p>\n\n<pre><code>result = WebClient.create(\"https://maps.googleapis.com/maps/api/nonexisting\")\n    .get()\n    .retrieve()\n    .bodyToMono&lt;TResult&gt;()\n    .block()\n</code></pre>\n\n<p>somewhere along the chain, on Spring Boot <code>2.0.0.M5</code>, the <code>WebClientResponseException</code> is <strong>returned</strong>, on Spring Boot <code>2.0.0.M6</code> it is <strong>thrown</strong>.</p>\n\n<p>If you add a <code>e.printStackTrace()</code> to your outer catch, you will notice that the stack trace is:</p>\n\n<blockquote>\n  <p>java.lang.ClassCastException:\n  org.springframework.web.reactive.function.client.WebClientResponseException\n  cannot be cast to com.example.demo.DTO    at\n  com.example.demo.Runner.run(Test.kt:18)   at\n  org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:780)\n    at\n  org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:770)\n    at\n  org.springframework.boot.SpringApplication.afterRefresh(SpringApplication.java:760)\n    at\n  org.springframework.boot.SpringApplication.run(SpringApplication.java:328)\n    at\n  org.springframework.boot.SpringApplication.run(SpringApplication.java:1245)\n    at\n  org.springframework.boot.SpringApplication.run(SpringApplication.java:1233)\n    at com.example.demo.DemoApplicationKt.main(DemoApplication.kt:10)</p>\n</blockquote>\n\n<p>So, actually, problem is, the returned <code>WebClientResponseException</code> is tried to be cast to <code>DTO</code> class on the moment of <em>return</em> of the call <code>val dto = get&lt;DTO&gt;()</code>. This means that, when you assign <code>result = ...</code>, there is no type checking done yet. So, if you change your code to, for example, call <code>get&lt;Object&gt;()</code> instead of <code>get&lt;DTO&gt;()</code>, it won't hit any catch blocks.</p>\n\n<p>If you convert it to bytecode in IntelliJ Idea, and then decompile it to Java, you can see this block:</p>\n\n<pre><code>public class Runner implements ApplicationRunner {\n   public void run(@Nullable ApplicationArguments args) {\n      try {\n         Object result$iv = null;\n\n         try {\n            ResponseSpec $receiver$iv$iv = WebClient.create(\"https://maps.googleapis.com/maps/api/nonexisting\").get().retrieve();\n            Mono var10000 = $receiver$iv$iv.bodyToMono((ParameterizedTypeReference)(new Runner$run$$inlined$get$1()));\n            Intrinsics.checkExpressionValueIsNotNull(var10000, \"bodyToMono(object : Para\u2026zedTypeReference&lt;T&gt;() {})\");\n            result$iv = var10000.block();\n         } catch (Exception var7) {\n            String var5 = \"WORKS AS EXPECTED!!\";\n            System.out.println(var5);\n         }\n\n         DTO var2 = (DTO)result$iv;\n      } catch (Exception var8) {\n         String var3 = \"ERROR, all exceptions should have been caught in 'get' \";\n         System.out.println(var3);\n      }\n\n   }\n}\n</code></pre>\n\n<p>Here you can notice that casting to DTO is done on the point of method return (which is not a return anymore because it is <em>inlined</em>), after the inner catch block: <code>DTO var2 = (DTO)result$iv;</code>. It seems like that's the behavior for the inlined methods with reified type parameters.</p>\n"}, {"tags": [], "owner": {"reputation": 5000, "user_id": 1092077, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5778521f67d80de0ee3b213e4f159a59?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien Deleuze", "link": "https://stackoverflow.com/users/1092077/s%c3%a9bastien-deleuze"}, "is_accepted": false, "score": 4, "last_activity_date": 1511191314, "last_edit_date": 1511191314, "creation_date": 1511190942, "answer_id": 47395228, "question_id": 47390818, "link": "https://stackoverflow.com/questions/47390818/what-is-the-most-likely-cause-of-exceptions-mysteriously-escaping-a-try-catch-bl/47395228#47395228", "title": "What is the most likely cause of exceptions mysteriously escaping a try-catch block in this case?", "body": "<p>This is due to <a href=\"https://jira.spring.io/browse/SPR-16025\" rel=\"nofollow noreferrer\">SPR-16025</a> (see <a href=\"https://github.com/spring-projects/spring-framework/commit/69945f4185e57c61ae9dbb3f12b612de046339c9\" rel=\"nofollow noreferrer\">related commit</a>) since the Kotlin extension is using internally the <code>ParameterizedTypeReference</code> variant, which has been fixed in Spring Framework 5.0.1, and transitively in Spring Boot 2.0.0.M6.</p>\n\n<p>Note than if you use <code>bodyToMono(TResult::class.java)</code> with Spring Boot 2.0.0.M5, it will works as expected. </p>\n"}], "owner": {"reputation": 11622, "user_id": 1097451, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/1516b785b675ba751aacdc05ae31764b?s=128&d=identicon&r=PG", "display_name": "Martin Drozdik", "link": "https://stackoverflow.com/users/1097451/martin-drozdik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 559, "favorite_count": 0, "accepted_answer_id": 47393796, "answer_count": 2, "score": 4, "last_activity_date": 1511208347, "creation_date": 1511176853, "last_edit_date": 1511183593, "question_id": 47390818, "link": "https://stackoverflow.com/questions/47390818/what-is-the-most-likely-cause-of-exceptions-mysteriously-escaping-a-try-catch-bl", "title": "What is the most likely cause of exceptions mysteriously escaping a try-catch block in this case?", "body": "<p>I am using a <strong>Spring WebClient</strong> in a <strong>Kotlin</strong> project like this:</p>\n\n<pre><code>data class DTO(val name: String)\n\n@Component\nclass Runner: ApplicationRunner\n{\n    override fun run(args: ApplicationArguments?)\n    {\n        try\n        {\n            val dto = get&lt;DTO&gt;()\n        }\n        catch (e: Exception)\n        {\n            println(\"ERROR, all exceptions should have been caught in 'get' \")\n        }\n    }\n}\n\ninline private fun&lt;reified TResult: Any&gt; get(): TResult?\n{\n    var result: TResult? = null\n\n    try\n    {\n    result = WebClient.create(\"https://maps.googleapis.com/maps/api/nonexisting\")\n        .get()\n        .retrieve()\n        .bodyToMono&lt;TResult&gt;()\n        .block()\n    }\n    catch (e: Exception)\n    {\n        println(\"WORKS AS EXPECTED!!\")\n    }\n\n    return result\n}\n</code></pre>\n\n<p>The client will throw an exception, because the API will return a 404. However the exception is not caught where it should be, namely in the body of the <code>get</code> function, but it is propagated to the outer exception handler.</p>\n\n<p>It is interesting to note that this happens only if the exception is thrown by the <code>WebClient</code>. If I replace the code in the <code>try</code> clause with a simple <code>throw Exception(\"error\")</code>, the exception is caught where it should be. </p>\n\n<p>Similarly, when I change the signature of <code>get</code> to a <strong>non-generic</strong> <code>inline private fun get(): DTO?</code> the problem also goes away. </p>\n\n<p>For an exception to escape the <code>try-catch</code> block seems like a fundamental bug in the Kotlin tools. On the other hand, the fact that this happens only with the <code>WebClient</code> class indicates that this is a Spring problem. Or, it may be just me, using the tools in a wrong way. </p>\n\n<p>I am really baffled here and have no idea how to proceed. Any ideas on why this might be happening are most welcome. Just for completeness, this is what it looks like in the debugger:</p>\n\n<p><a href=\"https://i.stack.imgur.com/UDpjf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UDpjf.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>EDIT</strong></p>\n\n<p>The issue goes away after upgrading Spring Boot to 2.0.0.M6, it is still present in M5. </p>\n\n<p>So it seems that this was a Spring issue and not a Kotlin issue. On the other hand it would be still nice to understand how a library that you include can seemingly cause the program to violate the laws of the programming language it is written in.</p>\n"}, {"tags": ["kotlin", "rx-java", "type-inference", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1511179095, "post_id": 47391328, "comment_id": 81735849, "body": "Thanks, that worked. However, when this timeout occurs it dispose the host Observable, which i don&#39;t want to happen. Maybe you know how to prevent it? I mean this: <a href=\"https://stackoverflow.com/questions/42805481/how-to-add-a-timeout-to-detect-that-an-observable-didnt-emit-for-a-while\" title=\"how to add a timeout to detect that an observable didnt emit for a while\">stackoverflow.com/questions/42805481/&hellip;</a>"}, {"owner": {"reputation": 1972, "user_id": 5842844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nL63Q.png?s=128&g=1", "display_name": "jbarat", "link": "https://stackoverflow.com/users/5842844/jbarat"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1511179838, "post_id": 47391328, "comment_id": 81736291, "body": "<code>retryWhen</code> should resubscribe to the source observable and yes the original source finishes with error because of the <code>timeout</code>. I don&#39;t know how to get around it."}], "tags": [], "owner": {"reputation": 1972, "user_id": 5842844, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nL63Q.png?s=128&g=1", "display_name": "jbarat", "link": "https://stackoverflow.com/users/5842844/jbarat"}, "is_accepted": true, "score": 9, "last_activity_date": 1511178530, "creation_date": 1511178530, "answer_id": 47391328, "question_id": 47390764, "link": "https://stackoverflow.com/questions/47390764/kotlin-and-rxjava-type-inference-failed/47391328#47391328", "title": "Kotlin and RxJava type inference failed", "body": "<p>The compiler can't figure out what type you want to return.</p>\n\n<p>The easiest fix in your case would be to add a type your return type. Something like this <code>Observable.just(Observable.empty&lt;Any&gt;())</code>. Now the compiler will be able to figure out what type to return.</p>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7197, "favorite_count": 1, "accepted_answer_id": 47391328, "answer_count": 1, "score": 6, "last_activity_date": 1511178530, "creation_date": 1511176685, "last_edit_date": 1511177593, "question_id": 47390764, "link": "https://stackoverflow.com/questions/47390764/kotlin-and-rxjava-type-inference-failed", "title": "Kotlin and RxJava type inference failed", "body": "<p>I am trying to implement retryWhen on my Observable when there is ocurring a timeot, but i have strange errors underlined in IDE Android Studio 3.0</p>\n\n<p>Here is the code:</p>\n\n<pre><code>rxRssiRepository.onRssiUpdate() //returns Observable&lt;RssiEvent&gt;\n        .timeout(10, TimeUnit.MILLISECONDS)\n        .retryWhen { t: Observable&lt;Throwable&gt; -&gt;\n            t.flatMap { error: Throwable -&gt;\n                if (error is TimeoutException) {\n                    stopLocationUpdates()\n                    Log.v(\"TIMEOUT\", \"TIMEOUT RSSI EVENTS\")\n                    Observable.just(Observable.empty())\n                } else {\n                    Observable.error(error)\n                }\n            }\n        }\n        .concatMap { t: RssiEvent -&gt;\n            appendRssiEvent(t)\n        }\n        .publish()\n</code></pre>\n\n<p>The IDE underlines on red the .flatMap operator and says:</p>\n\n<blockquote>\n  <p>Type inference failed: Not enough information to infer parameter R in </p>\n  \n  <p>fun  flatMap\n  (\n  mapper: ((t: Throwable) \u2192 ObservableSource)!\n  )\n  : Observable!\n  Please specify it explicitly.</p>\n</blockquote>\n\n<p>Same for the 'if' operator:</p>\n\n<blockquote>\n  <p>Type inference for control flow expression failed. Please specify its type explicitly</p>\n</blockquote>\n\n<p>For operator .just:</p>\n\n<blockquote>\n  <p>Type inference failed: Not enough information to infer parameter T in \n  fun  just\n  (\n  item: T!\n  )\n  : Observable!\n  Please specify it explicitly.</p>\n</blockquote>\n\n<p>For operator .empty:</p>\n\n<blockquote>\n  <p>Type inference failed: Not enough information to infer parameter T in </p>\n  \n  <p>fun  just\n  (\n  item: T!\n  )\n  : Observable!\n  Please specify it explicitly.</p>\n</blockquote>\n\n<p>And for the .error operator:</p>\n\n<blockquote>\n  <p>Type inference failed: Not enough information to infer parameter T in </p>\n  \n  <p>fun  error\n  (\n  exception: Throwable!\n  )\n  : Observable!\n  Please specify it explicitly.</p>\n</blockquote>\n\n<p>How to fix this?</p>\n\n<p>I mean, this code was also here in Java:\n<a href=\"https://stackoverflow.com/questions/42805481/how-to-add-a-timeout-to-detect-that-an-observable-didnt-emit-for-a-while\">How to add a timeout to detect that an Observable didn&#39;t emit for a while</a></p>\n\n<p>But when i convert it similiary to Kotlin, it gives me the described situation issue</p>\n"}, {"tags": ["maven", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 337, "user_id": 1000948, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b72f432af930d47025c5e0462b5011dd?s=128&d=identicon&r=PG", "display_name": "leumas95", "link": "https://stackoverflow.com/users/1000948/leumas95"}, "is_accepted": true, "score": 0, "last_activity_date": 1511174349, "creation_date": 1511174349, "answer_id": 47390058, "question_id": 47389830, "link": "https://stackoverflow.com/questions/47389830/kotlin-unresolved-reference-at-compile-time/47390058#47390058", "title": "Kotlin unresolved reference at compile time", "body": "<p>I was missing the imports</p>\n\n<pre><code>import javax.persistence.GenerationType\nimport javax.persistence.FetchType\n</code></pre>\n\n<p>Turns out eclipse won't recognize the Classes used in annotation parameters in Kotlin, therefore, the cleanup import task removed them...</p>\n"}], "owner": {"reputation": 337, "user_id": 1000948, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b72f432af930d47025c5e0462b5011dd?s=128&d=identicon&r=PG", "display_name": "leumas95", "link": "https://stackoverflow.com/users/1000948/leumas95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1443, "favorite_count": 0, "accepted_answer_id": 47390058, "answer_count": 1, "score": 1, "last_activity_date": 1511174349, "creation_date": 1511173611, "question_id": 47389830, "link": "https://stackoverflow.com/questions/47389830/kotlin-unresolved-reference-at-compile-time", "title": "Kotlin unresolved reference at compile time", "body": "<p>I was working on a project a few days ago and it was working, I came back to it today and it is no longer compiling but I didn't change anything as far as I know...</p>\n\n<p>This is the file:</p>\n\n<pre><code>package windall.console.account.api.persistence\n\nimport com.fasterxml.jackson.annotation.JsonIgnore\nimport windall.console.account.api.dtos.PaymentDto\nimport windall.console.account.api.model.Tenant\nimport java.time.LocalDateTime\nimport javax.persistence.Column\nimport javax.persistence.Entity\nimport javax.persistence.GeneratedValue\nimport javax.persistence.Id\nimport javax.persistence.JoinColumn\nimport javax.persistence.ManyToOne\n\n@Entity\ndata class Receipt (\n\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        val id: Long? = null,\n\n        val amount: Long,\n\n        @JsonIgnore\n        @ManyToOne(fetch = FetchType.EAGER)\n        @JoinColumn(name = \"tenant_id\")\n        val tenant: Tenant? = null,\n\n        @Column(name = \"payment_datetime\")\n        val paymentDateTime: LocalDateTime = LocalDateTime.now()\n\n) {\n\n    @Suppress(\"unused\")\n    private constructor(): this(amount = 0)\n\n    constructor(dto: PaymentDto, tenant: Tenant) : this(amount = dto.amount, tenant = tenant)\n\n}\n</code></pre>\n\n<p>Here is the error that I am getting in my maven build:</p>\n\n<pre><code>&gt; [ERROR] Failed to execute goal org.jetbrains.kotlin:kotlin-maven-plugin:1.1.60:compile (compile) on project api: Compilation failure: Compilation failure:\n&gt; [ERROR] C:\\workspace\\windall.console.account.api\\src\\main\\kotlin\\windall\\console\\account\\api\\models\\Receipt.kt:[18,30] Unresolved reference: GenerationType\n&gt; [ERROR] C:\\workspace\\windall.console.account.api\\src\\main\\kotlin\\windall\\console\\account\\api\\models\\Receipt.kt:[18,30] An annotation parameter must be a compile-time constant\n&gt; [ERROR] C:\\workspace\\windall.console.account.api\\src\\main\\kotlin\\windall\\console\\account\\api\\models\\Receipt.kt:[24,22] Unresolved reference: FetchType\n&gt; [ERROR] C:\\workspace\\windall.console.account.api\\src\\main\\kotlin\\windall\\console\\account\\api\\models\\Receipt.kt:[24,22] An annotation parameter must be a compile-time constant\n</code></pre>\n\n<p>Any help would be marvelous :) as I can't seem to find any possible cause for these errors, my IDE also is not highlighting any issues...</p>\n\n<p>Also here is my pom in case it helps</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;windall.console.account&lt;/groupId&gt;\n    &lt;artifactId&gt;api&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0.RELEASE&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;windall.console.account.api&lt;/name&gt;\n    &lt;description&gt;Mucking around&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.3.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;!--kotlin.compiler.incremental&gt;true&lt;/kotlin.compiler.incremental--&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;kotlin.version&gt;1.1.60&lt;/kotlin.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-stdlib-jre8&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.6.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.6.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-test-junit&lt;/artifactId&gt;\n            &lt;version&gt;${kotlin.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;info.cukes&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n            &lt;version&gt;1.2.5&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;compilerPlugins&gt;\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\n                    &lt;/compilerPlugins&gt;\n                    &lt;jvmTarget&gt;1.8&lt;/jvmTarget&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;compile&lt;/id&gt;\n                        &lt;phase&gt;compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-compile&lt;/id&gt;\n                        &lt;phase&gt;test-compile&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "edited": false, "score": 0, "creation_date": 1511167599, "post_id": 47387694, "comment_id": 81729050, "body": "Is there a specific reason why you want to duplicate rows in the table?"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1511168464, "post_id": 47387694, "comment_id": 81729465, "body": "@Oussaki: remove (onConflict = OnConflictStrategy.IGNORE). Then each time you insert that object it will create a new row with a new id in the database."}, {"owner": {"reputation": 1312, "user_id": 1224482, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/w6Ifd.png?s=128&g=1", "display_name": "Oussaki", "link": "https://stackoverflow.com/users/1224482/oussaki"}, "reply_to_user": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1511171179, "post_id": 47387694, "comment_id": 81730918, "body": "@WilliMentzel i&#39;ve tried that but the same result"}, {"owner": {"reputation": 21161, "user_id": 1788806, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/0ca4c6bc08e59c34de7fc39e09de8dbe?s=128&d=identicon&r=PG", "display_name": "Willi Mentzel", "link": "https://stackoverflow.com/users/1788806/willi-mentzel"}, "edited": false, "score": 0, "creation_date": 1511203411, "post_id": 47387694, "comment_id": 81751020, "body": "@Oussaki pls show your insertWok calls"}], "answers": [{"comments": [{"owner": {"reputation": 1312, "user_id": 1224482, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/w6Ifd.png?s=128&g=1", "display_name": "Oussaki", "link": "https://stackoverflow.com/users/1224482/oussaki"}, "edited": false, "score": 0, "creation_date": 1511166651, "post_id": 47387784, "comment_id": 81728567, "body": "But the primary key is an incremented value !"}, {"owner": {"reputation": 11, "user_id": 1471424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jMVVM.jpg?s=128&g=1", "display_name": "Lionel", "link": "https://stackoverflow.com/users/1471424/lionel"}, "reply_to_user": {"reputation": 1312, "user_id": 1224482, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/w6Ifd.png?s=128&g=1", "display_name": "Oussaki", "link": "https://stackoverflow.com/users/1224482/oussaki"}, "edited": false, "score": 0, "creation_date": 1511180929, "post_id": 47387784, "comment_id": 81736944, "body": "I saw that. But if you query the db to get a wok, then try to insert it, it doesn&#39;t work because both objects have the same id. So you need to &quot;clear&quot; the id for this new object, or make a clone of the object coming from the DB (without the id) to let room generate a new id."}], "tags": [], "owner": {"reputation": 11, "user_id": 1471424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jMVVM.jpg?s=128&g=1", "display_name": "Lionel", "link": "https://stackoverflow.com/users/1471424/lionel"}, "is_accepted": false, "score": 1, "last_activity_date": 1511166532, "creation_date": 1511166532, "answer_id": 47387784, "question_id": 47387694, "link": "https://stackoverflow.com/questions/47387694/room-database-overriding-inserted-objects/47387784#47387784", "title": "Room Database overriding inserted objects", "body": "<p>To insert your object many times, you need to change the primary key. \nRoom is based  on it to know if  it's a new object or not. </p>\n"}, {"comments": [{"owner": {"reputation": 669, "user_id": 9160591, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-C5dQ3po_na8/AAAAAAAAAAI/AAAAAAAAAD0/G-OlLY069SA/photo.jpg?sz=128", "display_name": "kunal khedkar", "link": "https://stackoverflow.com/users/9160591/kunal-khedkar"}, "reply_to_user": {"reputation": 2164, "user_id": 7059945, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6qCOD.png?s=128&g=1", "display_name": "Andrzej Zi&#243;\u0142ek", "link": "https://stackoverflow.com/users/7059945/andrzej-zi%c3%b3%c5%82ek"}, "edited": false, "score": 0, "creation_date": 1531288369, "post_id": 51265540, "comment_id": 89533715, "body": "@Andrzej Zi&#243;\u0142ek  ....have you read my full answer? In 2nd part i have explain what could be the issue. so stop replying in such a way.I have done some test on this scenario after that i put my answer. If you got answer why not you  answer it. If not .. off."}], "tags": [], "owner": {"reputation": 669, "user_id": 9160591, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-C5dQ3po_na8/AAAAAAAAAAI/AAAAAAAAAD0/G-OlLY069SA/photo.jpg?sz=128", "display_name": "kunal khedkar", "link": "https://stackoverflow.com/users/9160591/kunal-khedkar"}, "is_accepted": false, "score": 0, "last_activity_date": 1531288027, "last_edit_date": 1531288027, "creation_date": 1531226537, "answer_id": 51265540, "question_id": 47387694, "link": "https://stackoverflow.com/questions/47387694/room-database-overriding-inserted-objects/51265540#51265540", "title": "Room Database overriding inserted objects", "body": "<p>I have tried many combination which are possible with your given information, but i didn't came with anything as you are saying.</p>\n\n<p>Can u please share more information like your contructor, how you are creating work object,\nactually what happen with output (before-after)</p>\n\n<p>This may be happen, \n  if your work object id is 0 while passing to your insertWork method\nif u put 2 identical object with id 0 of both, because of autogenrate=true room will autogenrate id for them, and as room will create unique id, these object treat as different object.</p>\n"}], "owner": {"reputation": 1312, "user_id": 1224482, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/w6Ifd.png?s=128&g=1", "display_name": "Oussaki", "link": "https://stackoverflow.com/users/1224482/oussaki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1436, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1531288027, "creation_date": 1511166160, "last_edit_date": 1511166277, "question_id": 47387694, "link": "https://stackoverflow.com/questions/47387694/room-database-overriding-inserted-objects", "title": "Room Database overriding inserted objects", "body": "<p>I have my entity object this way:</p>\n\n<pre><code>@Entity(tableName = \"woks\", foreignKeys = arrayOf(ForeignKey(\n    entity = Order::class,\n    parentColumns = arrayOf(\"entryid\"),\n    childColumns = arrayOf(\"order_id\"),\n    onDelete = ForeignKey.CASCADE\n)))\ndata class Wok(\n    val order_id: String\n) {\n    @ColumnInfo(name = \"id\")\n    @PrimaryKey(autoGenerate = true)\n    var id: Long = 0\n}\n</code></pre>\n\n<p>and the insertion in my DAO file defined this way:</p>\n\n<pre><code>@Insert(onConflict = OnConflictStrategy.IGNORE)\nabstract fun insertWok(wok: Wok): Long\n</code></pre>\n\n<p>As you can see the conflict is ignored so when ever I tried to insert the same object again it will override that object and keep increment the id.</p>\n\n<p>So what I want to achieve is inserting the same object so many times</p>\n"}, {"tags": ["java", "kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 1, "creation_date": 1511161442, "post_id": 47386583, "comment_id": 81726110, "body": "<code>i</code> is not local to <code>change</code>. So something outside <code>change</code> could have modified <code>i</code> inbetween the null-check and where you try to use <code>i</code> for <code>return</code>."}], "answers": [{"comments": [{"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1511225540, "post_id": 47386643, "comment_id": 81760816, "body": "Thanks! I updated my question, the same code can work well when I write it in java,  would you please have a look?"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1511259516, "post_id": 47386643, "comment_id": 81774373, "body": "@HelloCW Java doesn&#39;t have the concept of nullable types. It will therefore compile even though it has the same problem as the Kotlin code. The Java code will fail if some other thread would change <code>i</code> to <code>null</code> between the null check and the plus operation."}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1511259561, "post_id": 47386643, "comment_id": 81774396, "body": "There is a difference between your Java and Kotlin code though. In your Kotlin code, <code>i</code> is public, while it is private in your Java code."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1511261752, "post_id": 47386643, "comment_id": 81775894, "body": "Thanks! Do you mean that it will work when I change my Kotlin code as <code>class MyClass1(private  var i: Long?) {...}</code>"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1511268259, "post_id": 47386643, "comment_id": 81780120, "body": "No, the methods on the class can still be called by several threads at the same time. The compiler isn&#39;t smart enough to understand that none of them has a way to change <code>i</code> to <code>null</code>. I would rather try to change <code>i</code> to a <code>val</code>."}, {"owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1511357715, "post_id": 47386643, "comment_id": 81826331, "body": "Thanks , Could you write a sample code about how several threads the class at the same time ?"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "reply_to_user": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "edited": false, "score": 0, "creation_date": 1511358322, "post_id": 47386643, "comment_id": 81826746, "body": "That wouldn&#39;t serve any purpose. What I&#39;m describing is a race condition. You can read more about it in this answer: <a href=\"https://stackoverflow.com/a/34550/4137489\">stackoverflow.com/a/34550/4137489</a>"}], "tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": false, "score": 6, "last_activity_date": 1511161559, "creation_date": 1511161559, "answer_id": 47386643, "question_id": 47386583, "link": "https://stackoverflow.com/questions/47386583/why-do-i-get-the-error-smart-cast-to-long-is-impossible-in-kotlin-but-its/47386643#47386643", "title": "Why do I get the error &quot;Smart cast to &#39;Long&#39; is impossible&quot; in Kotlin? But it&#39;s Ok in java?", "body": "<p>Because <code>i</code> is a <code>var</code>, it can theoretically be changed by another thread between your null check and the plus-operation.</p>\n\n<p>You can use the <code>let</code> function to solve it. It will \"capture\" the value of <code>i</code> by giving it as a parameter to <code>let</code>.</p>\n\n<pre><code>fun change(): Long? {\n    return i?.let { it + 10L } ?: 5L\n}\n</code></pre>\n"}], "owner": {"reputation": 320, "user_id": 828896, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/YA33S.jpg?s=128&g=1", "display_name": "HelloCW", "link": "https://stackoverflow.com/users/828896/hellocw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 526, "favorite_count": 0, "closed_date": 1511169814, "answer_count": 1, "score": 0, "last_activity_date": 1511253023, "creation_date": 1511161266, "last_edit_date": 1511253023, "question_id": 47386583, "link": "https://stackoverflow.com/questions/47386583/why-do-i-get-the-error-smart-cast-to-long-is-impossible-in-kotlin-but-its", "closed_reason": "Duplicate", "title": "Why do I get the error &quot;Smart cast to &#39;Long&#39; is impossible&quot; in Kotlin? But it&#39;s Ok in java?", "body": "<p>I try to run the following code, but the code can't pass compile, I get the error: </p>\n\n<blockquote>\n  <p>Smart cast to 'Long' is impossible, because 'i' is a mutable property\n  that could have been changed by this time</p>\n</blockquote>\n\n<p>Why?</p>\n\n<pre><code>class MyClass1(var i: Long?) {\n\n    fun change(): Long? {\n        if (i != null) {\n            return i + 10L\n        } else {\n            return 5L\n        }\n    }\n}\n</code></pre>\n\n<p>I wrote the code MyClass2 in Java, it can work well, why?</p>\n\n<pre><code>class MyClass2{\n    private Long i;\n\n    public MyClass2(Long k){\n       i=k;\n    }\n\n    public Long change(){\n       if (i!=null){\n           return i+10L;\n       }else {\n           return 5L;\n       }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "image", "android-intent", "kotlin"], "comments": [{"owner": {"reputation": 2390, "user_id": 6121643, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/exMvQ.jpg?s=128&g=1", "display_name": "Irony Stack", "link": "https://stackoverflow.com/users/6121643/irony-stack"}, "edited": false, "score": 1, "creation_date": 1511160254, "post_id": 47386315, "comment_id": 81725626, "body": "do not pass the image to other activities, pass just path to that image, and procceed that path to convert a file into bitmap inside target activity&#39;s <code>onCreate()</code> method"}], "answers": [{"comments": [{"owner": {"reputation": 26838, "user_id": 490961, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LZHSa.png?s=128&g=1", "display_name": "Vincent Mimoun-Prat", "link": "https://stackoverflow.com/users/490961/vincent-mimoun-prat"}, "edited": false, "score": 0, "creation_date": 1511171726, "post_id": 47386462, "comment_id": 81731281, "body": "Never pass large data sets using intents. Pass the image URI instead."}, {"owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "reply_to_user": {"reputation": 26838, "user_id": 490961, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LZHSa.png?s=128&g=1", "display_name": "Vincent Mimoun-Prat", "link": "https://stackoverflow.com/users/490961/vincent-mimoun-prat"}, "edited": false, "score": 0, "creation_date": 1511171835, "post_id": 47386462, "comment_id": 81731353, "body": "@VincentMimoun-Prat Picture is just URI. Please have a look in his code. Picture is the variable used for storing uri of image"}, {"owner": {"reputation": 26838, "user_id": 490961, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/LZHSa.png?s=128&g=1", "display_name": "Vincent Mimoun-Prat", "link": "https://stackoverflow.com/users/490961/vincent-mimoun-prat"}, "edited": false, "score": 0, "creation_date": 1511262071, "post_id": 47386462, "comment_id": 81776095, "body": "Correct. Sorry. Cannot revert vote unless you edit your answer though."}], "tags": [], "owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "is_accepted": false, "score": 2, "last_activity_date": 1511285353, "last_edit_date": 1511285353, "creation_date": 1511160709, "answer_id": 47386462, "question_id": 47386315, "link": "https://stackoverflow.com/questions/47386315/using-kotlin-to-pass-image-from-imageview-to-another-activity-in-android/47386462#47386462", "title": "Using Kotlin to pass Image from ImageView to another Activity in Android", "body": "<p>You can pass <code>Picture</code> variable to next activity using Intents like below</p>\n\n<pre><code>val intent = Intent(this, NextActivity::class.java)\nintent.putExtra(\"picture\", Picture)\nstartActivity(intent)\n</code></pre>\n\n<p>Then in NextActivity, in <code>onCreate</code> method, you can get picture using</p>\n\n<pre><code> val Picture = getIntent().getStringExtra(\"picture\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 188, "user_id": 11543623, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002175134117/picture?type=large", "display_name": "Ali Alaoi", "link": "https://stackoverflow.com/users/11543623/ali-alaoi"}, "is_accepted": false, "score": 0, "last_activity_date": 1564856054, "creation_date": 1564856054, "answer_id": 57340988, "question_id": 47386315, "link": "https://stackoverflow.com/questions/47386315/using-kotlin-to-pass-image-from-imageview-to-another-activity-in-android/57340988#57340988", "title": "Using Kotlin to pass Image from ImageView to another Activity in Android", "body": "<p>In the <code>NextActivity</code>:  </p>\n\n<pre><code> override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    val postImage = findViewById&lt;ImageView&gt;(R.id.post_image)\n    myPic = postImage\n}\n\ncompanion object {\n    lateinit var myPic: ImageView()\n}\n</code></pre>\n\n<p>And in the first Activity:</p>\n\n<pre><code>NextActivity.myPic = Picture\n</code></pre>\n"}], "owner": {"reputation": 1479, "user_id": 1919869, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/8873e7c553f503100aa31f7f2a2b5331?s=128&d=identicon&r=PG", "display_name": "Mohamed Kamal", "link": "https://stackoverflow.com/users/1919869/mohamed-kamal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3961, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1564856054, "creation_date": 1511159943, "last_edit_date": 1511166542, "question_id": 47386315, "link": "https://stackoverflow.com/questions/47386315/using-kotlin-to-pass-image-from-imageview-to-another-activity-in-android", "title": "Using Kotlin to pass Image from ImageView to another Activity in Android", "body": "<p>How to pass Image selected in <code>ImageView</code> to another Activity in Android using <code>Kotlin</code> ?</p>\n\n<p>This is the way to select the Image inside the <code>ImageView</code> using internal Storage and I need to pass the image to another activity</p>\n\n<pre><code> fun Loadimage()\n    {\n         var intent = Intent(Intent.ACTION_PICK,android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI)\n         startActivityForResult(intent,ImageCode)\n     }\n\n     override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n         if (requestCode==ImageCode &amp;&amp; data!=null &amp;&amp; resultCode== Activity.RESULT_OK)\n         {\n             val selectedImage = data.data\n             val filepath = arrayOf(MediaStore.Images.Media.DATA)\n             val cursor = contentResolver.query(selectedImage,filepath,null,null,null)\n             cursor.moveToFirst()\n             val Index = cursor.getColumnIndex(filepath[0])\n             val Picture = cursor.getString(Index)\n             cursor.close()\n             imageView.setImageBitmap(BitmapFactory.decodeFile(Picture))\n         }\n     }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2", "dagger"], "answers": [{"comments": [{"owner": {"reputation": 5247, "user_id": 4634527, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jOABf.jpg?s=128&g=1", "display_name": "Hexfire", "link": "https://stackoverflow.com/users/4634527/hexfire"}, "edited": false, "score": 0, "creation_date": 1517822394, "post_id": 48618775, "comment_id": 84234822, "body": "It is totally unclear whether you attempt to answer the question or come up with your own problem. Please reformulate."}], "tags": [], "owner": {"reputation": 1, "user_id": 9315685, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-K8AZ7oILcU0/AAAAAAAAAAI/AAAAAAAAABI/hCanl8vcjsg/photo.jpg?sz=128", "display_name": "user9315685", "link": "https://stackoverflow.com/users/9315685/user9315685"}, "is_accepted": false, "score": -1, "last_activity_date": 1517827928, "last_edit_date": 1517827928, "creation_date": 1517821030, "answer_id": 48618775, "question_id": 47385801, "link": "https://stackoverflow.com/questions/47385801/failed-to-analyze-org-jetbrains-kotlin-kapt3-diagnostic-kapterror-error-while/48618775#48618775", "title": "Failed to analyze: org.jetbrains.kotlin.kapt3.diagnostic.KaptError: Error while annotation processing", "body": "<p>Hello I met this kind of question is actually a member variable don't correspond to the cause of such as me</p>\n\n<pre><code>@Module\nclass ApiModule {\n\n    @Provides\n    fun provideBookService(): AppApi {\n        return AppApi.instance\n    }\n}\n</code></pre>\n\n<p>Here's AppApi. Instance as the App. The instance</p>\n"}], "owner": {"reputation": 4203, "user_id": 1339473, "user_type": "registered", "accept_rate": 35, "profile_image": "https://i.stack.imgur.com/ToWE6.jpg?s=128&g=1", "display_name": "QuokMoon", "link": "https://stackoverflow.com/users/1339473/quokmoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 567, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1517827928, "creation_date": 1511157247, "question_id": 47385801, "link": "https://stackoverflow.com/questions/47385801/failed-to-analyze-org-jetbrains-kotlin-kapt3-diagnostic-kapterror-error-while", "title": "Failed to analyze: org.jetbrains.kotlin.kapt3.diagnostic.KaptError: Error while annotation processing", "body": "<p>I am exploring android supported dagger lifecycle to inject dependency in Kotlin but they always fail to generate dagger dependency code. The error occurred with fail messages are below:</p>\n\n<pre><code>    public abstract interface MainComponent {\n                    ^\n   java.lang.IllegalStateException: \n   failed to analyze: org.jetbrains.kotlin.kapt3.diagnostic.KaptError: Error while annotation processing\n</code></pre>\n\n<p>Here it is attached of MainComponent.kt</p>\n\n<pre><code>@Singleton\n@Component(modules = arrayOf(AndroidSupportInjectionModule::class,AndroidInjectionModule::class,AppModule::class, NetworkModule::class, ActivityBuilder::class))\nopen interface MainComponent{\n\n    @Component.Builder\n    interface Builder {\n        @BindsInstance\n        fun application(application: Application): Builder\n        fun build(): MainComponent\n    }\n\n    fun inject(app: ActifyApplication)\n}\n</code></pre>\n\n<p>I tried different solution like kapt enable true in app level gradle but not fixed yet.Would please give some insight why this case always. Your help would highly appreciate.Thanks in advance.</p>\n"}, {"tags": ["kotlin", "corda"], "answers": [{"comments": [{"owner": {"reputation": 1196, "user_id": 7511144, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgOR6.png?s=128&g=1", "display_name": "Roger Willis", "link": "https://stackoverflow.com/users/7511144/roger-willis"}, "reply_to_user": {"reputation": 2562, "user_id": 2310673, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c9c52e255299dc548825c41aebcf3fbc?s=128&d=identicon&r=PG", "display_name": "bakriOnFire", "link": "https://stackoverflow.com/users/2310673/bakrionfire"}, "edited": false, "score": 0, "creation_date": 1511203742, "post_id": 47388681, "comment_id": 81751219, "body": "No worries  - enjoy!"}], "tags": [], "owner": {"reputation": 1196, "user_id": 7511144, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LgOR6.png?s=128&g=1", "display_name": "Roger Willis", "link": "https://stackoverflow.com/users/7511144/roger-willis"}, "is_accepted": true, "score": 3, "last_activity_date": 1511170045, "creation_date": 1511170045, "answer_id": 47388681, "question_id": 47385641, "link": "https://stackoverflow.com/questions/47385641/corda-settlement-example/47388681#47388681", "title": "Corda Settlement Example", "body": "<p>Luckily for you - the work that was explained in the video you posted was actually open sourced, so feel free to have a look here:</p>\n\n<p><a href=\"https://github.com/project-ubin/ubin-corda\" rel=\"nofollow noreferrer\">https://github.com/project-ubin/ubin-corda</a></p>\n\n<p>Also, I wrote a simple obligation app that demonstrates how you can issue, transfer and settle obligations. This might be a better place to start than the project ubin source code. See below:</p>\n\n<ul>\n<li><strong>Obligation state:</strong> <a href=\"https://github.com/roger3cev/obligation-cordapp/blob/master/kotlin-source/src/main/kotlin/net/corda/examples/obligation/Obligation.kt\" rel=\"nofollow noreferrer\">https://github.com/roger3cev/obligation-cordapp/blob/master/kotlin-source/src/main/kotlin/net/corda/examples/obligation/Obligation.kt</a></li>\n<li><strong>Obligation contract:</strong> <a href=\"https://github.com/roger3cev/obligation-cordapp/blob/master/kotlin-source/src/main/kotlin/net/corda/examples/obligation/ObligationContract.kt\" rel=\"nofollow noreferrer\">https://github.com/roger3cev/obligation-cordapp/blob/master/kotlin-source/src/main/kotlin/net/corda/examples/obligation/ObligationContract.kt</a></li>\n<li><strong>Issue obligation:</strong> <a href=\"https://github.com/roger3cev/obligation-cordapp/blob/master/kotlin-source/src/main/kotlin/net/corda/examples/obligation/flows/IssueObligation.kt\" rel=\"nofollow noreferrer\">https://github.com/roger3cev/obligation-cordapp/blob/master/kotlin-source/src/main/kotlin/net/corda/examples/obligation/flows/IssueObligation.kt</a></li>\n<li><strong>Settle obligation:</strong> <a href=\"https://github.com/roger3cev/obligation-cordapp/blob/master/kotlin-source/src/main/kotlin/net/corda/examples/obligation/flows/SettleObligation.kt\" rel=\"nofollow noreferrer\">https://github.com/roger3cev/obligation-cordapp/blob/master/kotlin-source/src/main/kotlin/net/corda/examples/obligation/flows/SettleObligation.kt</a></li>\n</ul>\n"}], "owner": {"reputation": 2562, "user_id": 2310673, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c9c52e255299dc548825c41aebcf3fbc?s=128&d=identicon&r=PG", "display_name": "bakriOnFire", "link": "https://stackoverflow.com/users/2310673/bakrionfire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 241, "favorite_count": 1, "accepted_answer_id": 47388681, "answer_count": 1, "score": 2, "last_activity_date": 1511170045, "creation_date": 1511156268, "question_id": 47385641, "link": "https://stackoverflow.com/questions/47385641/corda-settlement-example", "title": "Corda Settlement Example", "body": "<p>Is there a working code example of settlements in Corda as explained in below video:</p>\n\n<p><a href=\"https://www.youtube.com/watch?v=glTWteHdJy0\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=glTWteHdJy0</a></p>\n\n<p>I see there is an <code>Obligations.kt</code> file in <code>corda-master</code>. Can someone please guide me to a working example for same?</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["kotlin", "abstract-class", "instantiation", "inner-classes"], "answers": [{"comments": [{"owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "edited": false, "score": 0, "creation_date": 1511151566, "post_id": 47384856, "comment_id": 81722899, "body": "You&#39;re right.  I should have said <b>outside of A</b>.  <a href=\"https://stackoverflow.com/questions/47361279\">Here&#39;s the particular use case I&#39;m trying to solve</a>, which was a sealed class originally.  A is really a quasi-interface, and A1 and A2 are boxed foreign classes I don&#39;t control.  Could you give a read and maybe answer there too if you have ideas?  Thanks."}, {"owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "reply_to_user": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "edited": false, "score": 0, "creation_date": 1511159234, "post_id": 47384856, "comment_id": 81725217, "body": "Please mention that you just need to construct the inner class with an instance of the outer class. Maybe you should write a function in the outer class that returns the instance of the inner class."}], "tags": [], "owner": {"reputation": 5469, "user_id": 7083401, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/eA15o.png?s=128&g=1", "display_name": "ice1000", "link": "https://stackoverflow.com/users/7083401/ice1000"}, "is_accepted": true, "score": 3, "last_activity_date": 1590072040, "last_edit_date": 1590072040, "creation_date": 1511150149, "answer_id": 47384856, "question_id": 47384785, "link": "https://stackoverflow.com/questions/47384785/inner-class-within-its-abstract-superclass-in-kotlin/47384856#47384856", "title": "Inner class within its abstract superclass in Kotlin?", "body": "<p>Are you looking for this?</p>\n\n<pre><code>abstract class A {\n    fun doSome() { // OK\n        val a1 = A1()\n        val a2 = A2()\n    }\n    inner class A1 : A()\n    inner class A2 : A()\n}\n</code></pre>\n\n<p>I think you probably want to construct instances of A1/A2 outside of A, like:</p>\n\n<pre><code>abstract class A {\n    inner class A1 : A()\n    inner class A2 : A()\n}\nfun doSome() { // Error\n    val a1 = A1()\n    val a2 = A2()\n}\n</code></pre>\n\n<p>This is not allowed in both Kotlin and Java, because the inner class holds pointers to the outer class. If you want to construct <code>A1/A2</code> outside of <code>A</code>, simply remove the <code>inner</code> modifiers.</p>\n\n<pre><code>abstract class A {\n    class A1 : A()\n    class A2 : A()\n}\n\nfun doSome() { // OK\n    val a1 = A.A1()\n    val a2 = A.A2()\n}\n</code></pre>\n\n<p>Also, in addition, since you said it's</p>\n\n<blockquote>\n  <p>a set of inner classes are the only implementations (subclasses) of their outer abstract containing class</p>\n</blockquote>\n\n<p>You can replace <code>abstract</code> modifier with <code>sealed</code>. This will help Kotlin do exhautiveness check in <code>when</code> expression.</p>\n"}], "owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 726, "favorite_count": 0, "accepted_answer_id": 47384856, "answer_count": 1, "score": 1, "last_activity_date": 1590072040, "creation_date": 1511149444, "last_edit_date": 1511152271, "question_id": 47384785, "link": "https://stackoverflow.com/questions/47384785/inner-class-within-its-abstract-superclass-in-kotlin", "title": "Inner class within its abstract superclass in Kotlin?", "body": "<p>If a set of inner classes are the only implementations (subclasses) of their outer abstract containing class, how does one instantiate them?</p>\n\n<pre><code>abstract class A {\n    inner class A1 : A()\n    inner class A2 : A()\n}\n</code></pre>\n\n<p>In other words, <strong>what is the syntax to construct an instance of <code>A1</code> or <code>A2</code>?</strong></p>\n\n<p><strong>EDIT:</strong> ... outside the body of class A.</p>\n"}, {"tags": ["android", "firebase", "firebase-realtime-database", "kotlin", "firebase-cloud-messaging"], "comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1511161827, "post_id": 47384470, "comment_id": 81726292, "body": "In which moment are you sending the notification?"}, {"owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1511175306, "post_id": 47384470, "comment_id": 81733580, "body": "In the service that extends <code>FirebaseMessagingService</code>, when the app receives an FCM in <code>onMessageReceived</code> and the app is not on the foreground, it creates a notification message."}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1511175554, "post_id": 47384470, "comment_id": 81733737, "body": "Have you tried to use a <code>DatabaseReference.CompletionListener</code>? And to send the notification only when the onComplete() is called. This method will be triggered when the operation has either succeeded or failed."}, {"owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "reply_to_user": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1511189078, "post_id": 47384470, "comment_id": 81742259, "body": "It is not the app that puts the entry into the FRD; that is done on server. And by the time the app received the FCM, the entry had been already in the FRD. I think it took a few seconds after the start-up of the app until it connects to and gets new data from FRD. Is the event applicable in this case?"}, {"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1511189408, "post_id": 47384470, "comment_id": 81742468, "body": "No, is not. I also think that it&#39;s about that delay."}], "owner": {"reputation": 7895, "user_id": 455796, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9a0zB.jpg?s=128&g=1", "display_name": "Damn Vegetables", "link": "https://stackoverflow.com/users/455796/damn-vegetables"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511166566, "creation_date": 1511146730, "last_edit_date": 1511166566, "question_id": 47384470, "link": "https://stackoverflow.com/questions/47384470/firebase-realtime-database-how-to-know-synchronising-state", "title": "Firebase Realtime Database, how to know &quot;synchronising&quot; state?", "body": "<p>The server application puts an entry into FRD, and then sends an Firebase Cloud Message. I hear the notification alarm and turns on the Android phone. I see the FCM notification, but I do not see the newly added entry on the app. I wait a few seconds and then it shows up.</p>\n\n<p>I think it may takes a few seconds until the app gets the <code>onChildAdded</code>. But how do I know if FRD is synchronising so that I can display something like \"Synchronising...\" so that users would not wonder why they got a notification for the new entry, but it is not showing up on the app for seconds?</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?)\n{\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    ...\n    val database = FirebaseDatabase.getInstance()\n    EntriesRef = database.getReference(\"entries\")\n\n    EntriesRef?.addChildEventListener(object:ChildEventListener{\n        ...\n        override fun onChildAdded(p0: DataSnapshot?, p1: String?)\n        {\n            //adds the new entry to the Recyler View\n        }\n    })\n}\n</code></pre>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8608956"}, "edited": false, "score": 0, "creation_date": 1511147812, "post_id": 47383452, "comment_id": 81721965, "body": "This does not prevent me from doing <code>Person(&quot;&quot;)</code>"}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1511148753, "post_id": 47383452, "comment_id": 81722208, "body": "Fixed, as per the other answer."}], "tags": [], "owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "is_accepted": false, "score": 2, "last_activity_date": 1511148744, "last_edit_date": 1511148744, "creation_date": 1511136778, "answer_id": 47383452, "question_id": 47383344, "link": "https://stackoverflow.com/questions/47383344/how-to-use-custom-setter-in-kotlin-class-constructor-body/47383452#47383452", "title": "How to use custom setter in Kotlin class constructor body", "body": "<p>Define the member outside of the constructor, and invoke the setter from the init block:</p>\n\n<pre><code>class Person(initialEmail: String) { // This is just the constructor parameter.\n    var email: String = \"\" // This is the member declaration which calls the custom setter.\n        set(value) {          // This is the custom setter.\n            require(value.trim().isNotEmpty(), { \"The email cannot be blank\" })\n            field = value\n        }\n\n    init {\n        // Set the property at construct time, to invoke the custom setter.\n        email = initialEmail\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 1, "creation_date": 1511138991, "post_id": 47383564, "comment_id": 81720037, "body": "Looks like the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.properties/-delegates/observable.html\" rel=\"nofollow noreferrer\"><code>Delegates.observable(...)</code></a> delegate can be enough if the lambda should throw an exception on a bad value."}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1511139020, "post_id": 47383564, "comment_id": 81720043, "body": "Absolutely. I&#39;d prefer vetoable() and no <code>require</code>, myself."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8608956"}, "edited": false, "score": 0, "creation_date": 1511147487, "post_id": 47383564, "comment_id": 81721869, "body": "Thanks for the quick response Paul. I tried what you have suggested using Delegates but I found that it only works when the property changes its value and not when instantiating a new object. Also I don&#39;t think that it would be &quot;idiomatic&quot; to throw an exception from a method that should return true or false based on whether the field has changed or not."}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 0, "creation_date": 1511148338, "post_id": 47383564, "comment_id": 81722110, "body": "You&#39;re right, I must have had debug code that made it work while I was testing it. I need to use init. However, it isn&#39;t a major change. Onesec.."}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 0, "creation_date": 1511148665, "post_id": 47383564, "comment_id": 81722183, "body": "The new code makes <code>vetoable</code> useless now. Switched to <code>observable</code>. Thanks @hotkey."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8608956"}, "edited": false, "score": 0, "creation_date": 1511180166, "post_id": 47383564, "comment_id": 81736498, "body": "Yes, now it works Paul. I must admit that even though we got around the problem of code duplication, it becomes a little bit verbose and complex taking into account that in my real case scenario, I would have multiple entities with more than one property that would need some sort of validation."}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "edited": false, "score": 2, "creation_date": 1511207877, "post_id": 47383564, "comment_id": 81753514, "body": "Usually, validation doesn&#39;t happen this way. Your pattern is &quot;record the data then check it&quot;; a more common pattern is &quot;check the data then record it&quot;. That is: if the email is empty, then don&#39;t create the object."}], "tags": [], "owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "is_accepted": false, "score": 3, "last_activity_date": 1511148614, "last_edit_date": 1511148614, "creation_date": 1511137810, "answer_id": 47383564, "question_id": 47383344, "link": "https://stackoverflow.com/questions/47383344/how-to-use-custom-setter-in-kotlin-class-constructor-body/47383564#47383564", "title": "How to use custom setter in Kotlin class constructor body", "body": "<p>Use a delegate. There's the observable() delegate that already exists.</p>\n\n<pre><code>class Person(initialEmail: String) { // No \"var\" any more.\n    var email: String by Delegates.observable(\"\") {\n    _, _, newValue -&gt;\n        // This code is called every time the property is set.\n        require(newValue.trim().isNotEmpty(), { \"The email cannot be blank\" })\n    }\n\n    init {\n        // Set the property at construct time, to invoke the delegate.\n        email = initialEmail\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1125, "user_id": 1923828, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/53f2c2908793afb030d785fddf7764ee?s=128&d=identicon&r=PG", "display_name": "jah", "link": "https://stackoverflow.com/users/1923828/jah"}, "is_accepted": false, "score": 3, "last_activity_date": 1514503078, "creation_date": 1514503078, "answer_id": 48015564, "question_id": 47383344, "link": "https://stackoverflow.com/questions/47383344/how-to-use-custom-setter-in-kotlin-class-constructor-body/48015564#48015564", "title": "How to use custom setter in Kotlin class constructor body", "body": "<p>You can do it just like in java. You just have to remove the primary constructor and make a secondary constructor instead. You will have to do the assignment manually though, like in java. So it would look like this:</p>\n\n<pre><code>class Person {\n    constructor(email: String) {\n        this.email = email\n    }\n\n    var email: String\n        set(value) {\n            require(value.trim().isNotEmpty(), { \"The email cannot be blank\" })\n            field = value\n        }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 105, "user_id": 9191098, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YaFs4WceUuo/AAAAAAAAAAI/AAAAAAAAACE/68Ks2Nr-QAg/photo.jpg?sz=128", "display_name": "Qiyu Zhang", "link": "https://stackoverflow.com/users/9191098/qiyu-zhang"}, "is_accepted": false, "score": 0, "last_activity_date": 1610041937, "creation_date": 1610041937, "answer_id": 65617514, "question_id": 47383344, "link": "https://stackoverflow.com/questions/47383344/how-to-use-custom-setter-in-kotlin-class-constructor-body/65617514#65617514", "title": "How to use custom setter in Kotlin class constructor body", "body": "<p>There's an alternative way, to use companion object and create object there, it's kind like the constructor and meets your requirement in a different way.</p>\n<pre><code>data class Target(\n        val date: LocalDate,\n        val id: Long,\n        val stringId: String,\n) {\n    companion object {\n        fun create(date: LocalDate, id: Long, stringId: String?,): Target{\n            val nonNullStringId= if (stringId.isNullOrEmpty()) &quot;&quot; else stringId\n            return Target(date, id, nonNullStringId)\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8608956"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4021, "favorite_count": 0, "answer_count": 4, "score": 9, "last_activity_date": 1610041937, "creation_date": 1511135936, "last_edit_date": 1511137925, "question_id": 47383344, "link": "https://stackoverflow.com/questions/47383344/how-to-use-custom-setter-in-kotlin-class-constructor-body", "title": "How to use custom setter in Kotlin class constructor body", "body": "<p>I couldn't find a better title for describing how can I avoid code duplication (require expressions) in this Kotlin class:</p>\n\n<pre><code>class Person(email: String) {\n    var email: String = email\n        set(value) {\n            require(value.trim().isNotEmpty(), { \"The email cannot be blank\" })\n            field = value\n        }\n\n    init {\n        require(email.trim().isNotEmpty(), { \"The email cannot be blank\" })\n    }\n}\n</code></pre>\n\n<p>In java, I would have a setter with the name validation and then I would call it from the constructor.</p>\n\n<p>What is the idiomatic way of doing that in Kotlin ?</p>\n"}, {"tags": ["arrays", "string", "int", "kotlin"], "comments": [{"owner": {"reputation": 1055, "user_id": 4431008, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fdcd2f6c77cd25aa0c827bd2340c3623?s=128&d=identicon&r=PG&f=1", "display_name": "Julian Rubin", "link": "https://stackoverflow.com/users/4431008/julian-rubin"}, "edited": false, "score": 0, "creation_date": 1511134719, "post_id": 47383181, "comment_id": 81719101, "body": "Duplicate of <a href=\"https://stackoverflow.com/questions/45823162/how-to-convert-string-array-to-int-array-in-kotlin\" title=\"how to convert string array to int array in kotlin\">stackoverflow.com/questions/45823162/&hellip;</a>"}, {"owner": {"reputation": 19920, "user_id": 1383168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atB67.png?s=128&g=1", "display_name": "Slai", "link": "https://stackoverflow.com/users/1383168/slai"}, "edited": false, "score": 0, "creation_date": 1511134913, "post_id": 47383181, "comment_id": 81719153, "body": "in the JavaScript version <code>JSON.parse&lt;Array&lt;Int&gt;&gt;(&quot;[1,2,3,4,5]&quot;)</code>"}, {"owner": {"reputation": 759, "user_id": 7987329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fUTZ5.jpg?s=128&g=1", "display_name": "heisen", "link": "https://stackoverflow.com/users/7987329/heisen"}, "edited": false, "score": 0, "creation_date": 1511135107, "post_id": 47383181, "comment_id": 81719193, "body": "Hi Julian, the question you suggest as duplicated refers to an array of Strings, and clearly is not the case here. This question is about only one String, containing and array of Int"}, {"owner": {"reputation": 759, "user_id": 7987329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fUTZ5.jpg?s=128&g=1", "display_name": "heisen", "link": "https://stackoverflow.com/users/7987329/heisen"}, "edited": false, "score": 1, "creation_date": 1511135374, "post_id": 47383181, "comment_id": 81719251, "body": "For better understanding, here is a question asking for the same case, but in Java <a href=\"https://stackoverflow.com/questions/7646392/convert-string-to-int-array-in-java\" title=\"convert string to int array in java\">stackoverflow.com/questions/7646392/&hellip;</a>"}, {"owner": {"reputation": 11395, "user_id": 3195526, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/YXwke.jpg?s=128&g=1", "display_name": "Paul Hicks", "link": "https://stackoverflow.com/users/3195526/paul-hicks"}, "reply_to_user": {"reputation": 19920, "user_id": 1383168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atB67.png?s=128&g=1", "display_name": "Slai", "link": "https://stackoverflow.com/users/1383168/slai"}, "edited": false, "score": 0, "creation_date": 1511135964, "post_id": 47383181, "comment_id": 81719383, "body": "<a href=\"https://stackoverflow.com/a/25839398/3195526\">This answer</a> to the above question is pretty easy to translate to idionmatic Kotlin. Or use klaxon or JSONObject, for an answer like @Slai&#39;s"}], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 8963363, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce7d6d7be37a6913d91d925b68cfa17a?s=128&d=identicon&r=PG&f=1", "display_name": "Alex", "link": "https://stackoverflow.com/users/8963363/alex"}, "is_accepted": false, "score": 0, "last_activity_date": 1511135109, "creation_date": 1511135109, "answer_id": 47383257, "question_id": 47383181, "link": "https://stackoverflow.com/questions/47383181/kotlin-string-to-int-array/47383257#47383257", "title": "Kotlin String to Int array", "body": "<p>Try with toCharArray() cutting first and last ( '[' and ']' )</p>\n\n<pre><code>inline fun String.toCharArray(\n    destination: CharArray, \n    destinationOffset: Int = 0, \n    startIndex: Int = 1, \n    endIndex: Int = length -1\n): CharArray (source)\n</code></pre>\n\n<p>You can then manually copy converted values from char to int in a new array</p>\n\n<p><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/to-char-array.html\" rel=\"nofollow noreferrer\">See more in the kotlin webpage</a></p>\n"}, {"tags": [], "owner": {"reputation": 759, "user_id": 7987329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fUTZ5.jpg?s=128&g=1", "display_name": "heisen", "link": "https://stackoverflow.com/users/7987329/heisen"}, "is_accepted": true, "score": 13, "last_activity_date": 1511139579, "last_edit_date": 1511139579, "creation_date": 1511137338, "answer_id": 47383517, "question_id": 47383181, "link": "https://stackoverflow.com/questions/47383181/kotlin-string-to-int-array/47383517#47383517", "title": "Kotlin String to Int array", "body": "<p>Fortunately I've been able to make it work, so I'll leave it here for future reference</p>\n\n<pre><code>val result = \"[1,2,3,4,5]\".removeSurrounding(\"[\", \"]\").split(\",\").map { it.toInt() }\n</code></pre>\n\n<p>Many thanks to all!</p>\n"}, {"comments": [{"owner": {"reputation": 374, "user_id": 5956589, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OlzK7czLM00/AAAAAAAAAAI/AAAAAAAABbQ/4a4etYoyuOQ/photo.jpg?sz=128", "display_name": "Richard Muvirimi", "link": "https://stackoverflow.com/users/5956589/richard-muvirimi"}, "edited": false, "score": 0, "creation_date": 1602594471, "post_id": 58132845, "comment_id": 113765187, "body": "simply call it.trim().toInt() to remove empty spaces"}], "tags": [], "owner": {"reputation": 942, "user_id": 10385054, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QB8p8.png?s=128&g=1", "display_name": "Rahul Khatri", "link": "https://stackoverflow.com/users/10385054/rahul-khatri"}, "is_accepted": false, "score": 3, "last_activity_date": 1569580559, "creation_date": 1569580559, "answer_id": 58132845, "question_id": 47383181, "link": "https://stackoverflow.com/questions/47383181/kotlin-string-to-int-array/58132845#58132845", "title": "Kotlin String to Int array", "body": "<p>When user convert list to string and again need that string to list.\n Due to space between integer app crashes with NumberFormatException for that just remove unnecessary space.</p>\n\n<pre><code>val result = \"[1, 2, 3, 4, 5]\".removeSurrounding(\"[\",\"]\").replace(\" \",\"\").split(\",\").map { it.toInt() }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1233, "user_id": 1430991, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/004ae48c1aec28b2745a7a775bfc6754?s=128&d=identicon&r=PG", "display_name": "gce", "link": "https://stackoverflow.com/users/1430991/gce"}, "is_accepted": false, "score": 0, "last_activity_date": 1615559844, "creation_date": 1615559844, "answer_id": 66601927, "question_id": 47383181, "link": "https://stackoverflow.com/questions/47383181/kotlin-string-to-int-array/66601927#66601927", "title": "Kotlin String to Int array", "body": "<p>Also another way to achieve this:</p>\n<pre><code>&quot;[1,2,3,4,5]&quot;.replace(Regex(&quot;&quot;&quot;[\\[,\\]]&quot;&quot;&quot;), &quot;&quot;).map { it - '0' }\n</code></pre>\n"}], "owner": {"reputation": 759, "user_id": 7987329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fUTZ5.jpg?s=128&g=1", "display_name": "heisen", "link": "https://stackoverflow.com/users/7987329/heisen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6530, "favorite_count": 1, "accepted_answer_id": 47383517, "answer_count": 4, "score": 8, "last_activity_date": 1615559844, "creation_date": 1511134406, "question_id": 47383181, "link": "https://stackoverflow.com/questions/47383181/kotlin-string-to-int-array", "title": "Kotlin String to Int array", "body": "<p>I\u00b4m looking for the most efficient way to convert an String like</p>\n\n<pre><code>\"[1,2,3,4,5]\"\n</code></pre>\n\n<p>to an array of Int <code>[1,2,3,4,5]</code> in Kotlin</p>\n"}, {"tags": ["reflection", "kotlin"], "comments": [{"owner": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 1, "creation_date": 1511196661, "post_id": 47381691, "comment_id": 81747250, "body": "Just to be sure that I get you correctly\u2026 you are hacking into the string internals, overwriting the string\u2019s array and then, you are surprised that the next lookup into the string pool does not find this string?"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "reply_to_user": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 0, "creation_date": 1511304151, "post_id": 47381691, "comment_id": 81802825, "body": "I am surprised that in 2 situations on the same thread String.intern() gives back different objects."}, {"owner": {"reputation": 239210, "user_id": 2711488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FhkI9.jpg?s=128&g=1", "display_name": "Holger", "link": "https://stackoverflow.com/users/2711488/holger"}, "edited": false, "score": 0, "creation_date": 1511335528, "post_id": 47381691, "comment_id": 81812259, "body": "Performing a lookup implies not only hashing, but comparing the actual content, you even cited \u201c<i>as determined by the equals(Object) method</i>\u201d. You are manipulating that content, creating an inconsistent state, leading to inconsistent behavior. What did you expect?"}], "answers": [{"comments": [{"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1511124965, "post_id": 47381877, "comment_id": 81716351, "body": "I tried keeping a reference in the companion object of the JDBC driver, but the behaviour didn&#39;t change"}, {"owner": {"reputation": 4956, "user_id": 2612030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iYT5V.jpg?s=128&g=1", "display_name": "ewramner", "link": "https://stackoverflow.com/users/2612030/ewramner"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1511165095, "post_id": 47381877, "comment_id": 81727838, "body": "Please do this test. When you first run the test snippet, store pooledString in s (saved somewhere). Then, when you run the snippet the second time, print the hash code for s as well as the hash code for the new pooledString as well as the boolean pooledString == s. What happens?"}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1511190772, "post_id": 47381877, "comment_id": 81743343, "body": "I am printing the System identity codes, do you want me to repeat in the 2 environments also?"}, {"owner": {"reputation": 4956, "user_id": 2612030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iYT5V.jpg?s=128&g=1", "display_name": "ewramner", "link": "https://stackoverflow.com/users/2612030/ewramner"}, "reply_to_user": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1511192412, "post_id": 47381877, "comment_id": 81744494, "body": "I&#39;m not sure that I understand. I thought you were starting a program that printed the codes, kept a reference to pooledString somewhere so it couldn&#39;t be gc:d and then printed the codes again with another result? If so, print the code for the saved object as well in both places plus the equality check between saved and interned. If you are running the program twice different identity codes between runs are normal."}, {"owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "edited": false, "score": 0, "creation_date": 1511304272, "post_id": 47381877, "comment_id": 81802886, "body": "Same run of the program,1 is from in a JDBC driver, the other is in the main class, the main class one gets the expected one (modifies the string used later), whereas in the JDBC driver the returned String is different to the expected one."}], "tags": [], "owner": {"reputation": 4956, "user_id": 2612030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iYT5V.jpg?s=128&g=1", "display_name": "ewramner", "link": "https://stackoverflow.com/users/2612030/ewramner"}, "is_accepted": true, "score": 2, "last_activity_date": 1511124756, "creation_date": 1511124756, "answer_id": 47381877, "question_id": 47381691, "link": "https://stackoverflow.com/questions/47381691/string-intern-returning-different-values-in-a-jdbc-driver/47381877#47381877", "title": "String.intern() returning different values in a JDBC driver", "body": "<p>Most likely the reference has been garbage collected. The contract says that if you get the same string twice and compare the returned strings they will be equal. However, if you get a string, release the reference (making the pooled string available for gc) and then get a similar string again, nothing guarantees that it will still be pooled. You will get a new pooled string instead and that has a different identityHashCode.</p>\n\n<p>Keep a reference to pooledString so that it cannot be garbage collected and see what happens!</p>\n"}], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 47381877, "answer_count": 1, "score": 2, "last_activity_date": 1511124756, "creation_date": 1511123456, "question_id": 47381691, "link": "https://stackoverflow.com/questions/47381691/string-intern-returning-different-values-in-a-jdbc-driver", "title": "String.intern() returning different values in a JDBC driver", "body": "<p>Whilst I was trying to make a fake JDBC driver to test a secure classloader I found an odd behaviour with the following code:</p>\n\n<pre><code>val stringClass = java.lang.String::class.java\nval intern = stringClass.getMethod(\"intern\")\nval pooledString = intern.invoke(\"Hello World\") as String\nval valueField = stringClass.getDeclaredField(\"value\")\nvalueField.isAccessible = true\nval pooledValue = valueField.get(pooledString) as ByteArray\nprintln(\n        \"\"\"|----------------------------------------\n           | String: ${System.identityHashCode(stringClass)}\n           | Thread: ${Thread.currentThread()}\n           | Pooled: ${System.identityHashCode(pooledString)}\n           | Internal: ${System.identityHashCode(pooledValue)}\n           |----------------------------------------\"\"\".trimMargin()\n)\nfor (index in pooledValue.indices) {\n    pooledValue[index] = 'X'.toByte()\n}\n</code></pre>\n\n<p>Running the above code from a JDBC driver's companion object gives this:</p>\n\n<pre><code>String: 349885916\nThread: Thread[main,5,main]\nPooled: 718231523\nInternal: 1349414238\n</code></pre>\n\n<p>but running the same code from a method of the test class before loading the JDBC driver (during the same execution of the program) gives this:</p>\n\n<pre><code>String: 349885916\nThread: Thread[main,5,main]\nPooled: 1635756693\nInternal: 504527234\n</code></pre>\n\n<p>I would have thought that getting the interned version of the string should have given the same string in both cases, but it seems that even within the same run of the program the 2 locations give different values for String.intern, which conflicts with the javadoc which says:</p>\n\n<blockquote>\n  <p>When the intern method is invoked, if the pool already contains a\n  string equal to this <strong>String</strong> object as determined by\n  the <strong>equals(Object)</strong> method, then the string from the pool is\n  returned. Otherwise, this <strong>String</strong> object is added to the\n  pool and a reference to this <strong>String</strong> object is returned.</p>\n</blockquote>\n\n<p>Is this to be expected, and if so why is it that the values differ?</p>\n"}, {"tags": ["java", "scala", "maven", "kotlin"], "comments": [{"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 0, "creation_date": 1511118194, "post_id": 47380641, "comment_id": 81713919, "body": "Probably won&#39;t help you, but I have an example of a Gradle project that uses Java, Kotlin, Groovy and Ceylon in the same project: <a href=\"https://github.com/renatoathaydes/ceylon-gradle-plugin/tree/master/ceylon-gradle-plugin-tests/cross-language-modules\" rel=\"nofollow noreferrer\">github.com/renatoathaydes/ceylon-gradle-plugin/tree/master/&hellip;</a>&zwnj;&#8203;.  If you can&#39;t get that working in Maven, maybe try Gradle :D"}, {"owner": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "reply_to_user": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 0, "creation_date": 1511118933, "post_id": 47380641, "comment_id": 81714194, "body": "Thanks, unfortunately, I need it for work, and we use maven."}, {"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 1, "creation_date": 1511119524, "post_id": 47380641, "comment_id": 81714383, "body": "If you want to make this work, separate the Kotlin and Scala code into  modules that compile separately otherwise it&#39;ll be impossible to know what to compile first. With the modules separate, one will be able to depend on the other, but not both depend on each other. So it should work without issue."}], "owner": {"reputation": 13177, "user_id": 411965, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/UVUN2.jpg?s=128&g=1", "display_name": "oshai", "link": "https://stackoverflow.com/users/411965/oshai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1289, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1511117107, "creation_date": 1511117107, "question_id": 47380641, "link": "https://stackoverflow.com/questions/47380641/is-it-possible-to-mix-scala-and-kotlin-in-the-same-maven-module", "title": "Is it possible to mix Scala and Kotlin in the same maven module?", "body": "<p>I am working with Kotlin configured by maven as explained here: <a href=\"https://kotlinlang.org/docs/reference/using-maven.html#compiling-kotlin-and-java-sources\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/using-maven.html#compiling-kotlin-and-java-sources</a> (but using only java src dir for both Java and Kotlin files).<br>\nWe have at work some Scala modules that are configured as explained here: <a href=\"https://dzone.com/articles/scala-in-java-maven-project\" rel=\"nofollow noreferrer\">https://dzone.com/articles/scala-in-java-maven-project</a>.  </p>\n\n<p>The obvious way of put both maven plugins together did not work. Scala did not recognize Kotlin files.  </p>\n\n<p>Is it possible to mix both Java, Kotlin and Scala in one maven module? or is there is a conflict in those maven plugins?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 3, "creation_date": 1511122401, "post_id": 47379165, "comment_id": 81715478, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/47370414/how-to-convert-function-output-to-unit-with-kotlin\">How to convert function output to Unit with Kotlin</a>"}], "answers": [{"tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": false, "score": 2, "last_activity_date": 1511112748, "last_edit_date": 1511112748, "creation_date": 1511112141, "answer_id": 47379741, "question_id": 47379165, "link": "https://stackoverflow.com/questions/47379165/discard-return-value-to-return-unit/47379741#47379741", "title": "Discard return value to return Unit?", "body": "<p>There's no way to do that out of the box, but you can make an extension function for this:</p>\n\n<pre><code>fun Any?.unit() = Unit\n</code></pre>\n\n<p>Then use it as:</p>\n\n<pre><code>fun bar(x: String): Unit = when(x) {\n    \"error\" -&gt;  println(\"There was an error\") \n    else -&gt; foo().unit()\n}\n</code></pre>\n\n<p>Alternatively, make <code>when</code> a statement and not an expression:</p>\n\n<pre><code>fun bar(x: String) {\n    when(x) {\n        \"error\" -&gt;  println(\"There was an error\") \n        else -&gt; foo()\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6188, "user_id": 172690, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/b3759fa3ad04a0fd20729382956f24a3?s=128&d=identicon&r=PG", "display_name": "Grzegorz Adam Hankiewicz", "link": "https://stackoverflow.com/users/172690/grzegorz-adam-hankiewicz"}, "is_accepted": true, "score": 9, "last_activity_date": 1511112182, "creation_date": 1511112182, "answer_id": 47379745, "question_id": 47379165, "link": "https://stackoverflow.com/questions/47379165/discard-return-value-to-return-unit/47379745#47379745", "title": "Discard return value to return Unit?", "body": "<p>You can <a href=\"https://stackoverflow.com/a/47371111/172690\">create an extension method on Any object and call it</a>. I just prefer to use the name <code>discard()</code> rather than <code>toUnit()</code>, since I feel it conveys better the intent:</p>\n\n<pre><code>fun Any?.discard() = Unit\n\nfun foo(): Int = 3\n\nfun bar(x: String): Unit = when (x) {\n    \"error\" -&gt; println(\"There was an error\")\n    else -&gt; foo().discard()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 0, "last_activity_date": 1518298845, "last_edit_date": 1518298845, "creation_date": 1511122545, "answer_id": 47381554, "question_id": 47379165, "link": "https://stackoverflow.com/questions/47379165/discard-return-value-to-return-unit/47381554#47381554", "title": "Discard return value to return Unit?", "body": "<p>There are three solutions to your problem, which come to my mind:</p>\n\n<ol>\n<li><p>Make <code>when</code> a statement instead of expression, so its result does not get returned:</p>\n\n<pre><code>fun bar(x: String) {\n     when(x) {\n        \"error\" -&gt;  println(\"There was an error\") \n        else -&gt; foo()\n    }\n}\n</code></pre></li>\n<li><p>Use an <strong>extension</strong> to convert values to <code>Unit</code>:</p>\n\n<pre><code>fun Any?.asUnit() = Unit\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>fun bar(x: String): Unit =\n   when (x) {\n       \"error\" -&gt; println(\"There was an error\")\n        else -&gt; foo().asUnit()\n}\n</code></pre></li>\n<li><p>Wrap the call into higher-order function call that returns <code>Unit</code>, e.g. <code>with</code>:</p>\n\n<pre><code>fun bar(x: String): Unit = with(x){\n    when (x) {\n        \"error\" -&gt; println(\"There was an error\")\n        else -&gt; foo()\n    }\n}\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 32442, "user_id": 4254517, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/5a949771fd949b5e2b10afbdb490de38?s=128&d=identicon&r=PG&f=1", "display_name": "Dima", "link": "https://stackoverflow.com/users/4254517/dima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1960, "favorite_count": 0, "accepted_answer_id": 47379745, "answer_count": 3, "score": 5, "last_activity_date": 1518298845, "creation_date": 1511109100, "question_id": 47379165, "link": "https://stackoverflow.com/questions/47379165/discard-return-value-to-return-unit", "title": "Discard return value to return Unit?", "body": "<p>I am just starting with kotlin, so, forgive me if this is a basic question, I did do some googling, but that didn't turn up anything useful. </p>\n\n<p>The question is how do I convert a value to <code>Unit</code>. \nFor example, in scala, if I write something like this: </p>\n\n<pre><code>def foo: Int = ???\ndef bar(x: String): Unit = x match {\n  case \"error\" =&gt; println(\"There was an error\")\n  case _ =&gt; foo      \n</code></pre>\n\n<p>}</p>\n\n<p>The return type of the <code>match</code> expression is <code>Any</code>, but it is discarded by the compiler and <code>Unit</code> is returned by the function.</p>\n\n<p>But doing something like this in kotlin:</p>\n\n<pre><code>fun bar(x: String): Unit = when(x) {\n \"error\" -&gt;  println(\"There was an error\") \n else -&gt; foo()\n}\n</code></pre>\n\n<p>it complains about the <code>foo</code> part: <code>inferred type is Int but Unit was expected</code></p>\n\n<p>I know, that in this case, I can just get rid of the <code>=</code>, and put the body inside a block instead, that works, but I am looking for a general solution. What I was able to come with so far is just <code>foo.let {}</code>, but it seems kinda clumsy, especially if there are many cases like this where it needs to be done. </p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin", "sortedlist"], "answers": [{"tags": [], "owner": {"reputation": 162, "user_id": 8320224, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/690c13ebd4b14ac64b9b34e9962ec668?s=128&d=identicon&r=PG&f=1", "display_name": "user8320224", "link": "https://stackoverflow.com/users/8320224/user8320224"}, "is_accepted": false, "score": 0, "last_activity_date": 1511180788, "last_edit_date": 1511180788, "creation_date": 1511177921, "answer_id": 47391166, "question_id": 47378283, "link": "https://stackoverflow.com/questions/47378283/sortedlist-indexoutofboundsexception-inconsistency-detected-invalid-item-posit/47391166#47391166", "title": "SortedList IndexOutOfBoundsException: Inconsistency detected. Invalid item position on remove last item", "body": "<pre><code>  (0 until battles.size()).filter { battles[it] is LoaderItem }.forEach { battles.removeItemAt(it) }\n</code></pre>\n\n<p>This fragment contain error: index sequence is incorrect after first removing.\nYou may cycle downto.\nWhy not use</p>\n\n<pre><code>battles.filter { it is LoaderItem }.forEach { battles.remove(it) }\n</code></pre>\n"}], "owner": {"reputation": 247, "user_id": 6697357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89c9f53c30839d80237967a1d6119e17?s=128&d=identicon&r=PG&f=1", "display_name": "Hobbajt", "link": "https://stackoverflow.com/users/6697357/hobbajt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 233, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1511184569, "creation_date": 1511103624, "last_edit_date": 1511184569, "question_id": 47378283, "link": "https://stackoverflow.com/questions/47378283/sortedlist-indexoutofboundsexception-inconsistency-detected-invalid-item-posit", "title": "SortedList IndexOutOfBoundsException: Inconsistency detected. Invalid item position on remove last item", "body": "<p>I have endless scrolling RecyclerView. Data is stored in SortedList. When user would scroll down, loading item appears and disappears when next 10 items are loaded. I am getting following error while removing LoaderItem:</p>\n\n<pre><code>java.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid item position 10(offset:-1).state:11\n                                                                     at android.support.v7.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:5512)\n                                                                     at android.support.v7.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5448)\n                                                                     at android.support.v7.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:5444)\n                                                                     at android.support.v7.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2224)\n                                                                     at android.support.v7.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1551)\n                                                                     at android.support.v7.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1511)\n                                                                     at android.support.v7.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:595)\n                                                                     at android.support.v7.widget.RecyclerView.dispatchLayoutStep1(RecyclerView.java:3551)\n                                                                     at android.support.v7.widget.RecyclerView.onMeasure(RecyclerView.java:3030)\n                                                                     at android.view.View.measure(View.java)\n</code></pre>\n\n<p>This is my code:</p>\n\n<p><strong>Adapter:</strong></p>\n\n<pre><code>val battles = SortedList(RecyclerViewItem::class.java, object : SortedListAdapterCallback&lt;RecyclerViewItem&gt;(this)\n{\n    override fun areItemsTheSame(item1 : RecyclerViewItem?, item2 : RecyclerViewItem?) : Boolean\n    {\n        if (item1 is Battle &amp;&amp; item2 is Battle &amp;&amp; item1.id == item2.id) return true\n        if (item1 is LoaderItem &amp;&amp; item2 is LoaderItem) return true\n        return false\n    }\n\n    override fun compare(o1 : RecyclerViewItem?, o2 : RecyclerViewItem?) : Int =\n    if (o1 is Battle &amp;&amp; o2 is Battle)\n    {\n        when\n        {\n            o1.points &gt; o2.points  -&gt; 1\n            o1.points == o2.points -&gt; 0\n            else            -&gt; -1\n        }\n    }\n    else -1\n    override fun areContentsTheSame(oldItem : RecyclerViewItem?, newItem : RecyclerViewItem?) : Boolean = if (oldItem is LoaderItem) true\n    else (oldItem as Battle).points == (newItem as Battle).points\n\n})\n\nfun removeLoadingItem()\n{\n    (0 until battles.size()).filter { battles[it] is LoaderItem }.forEach { battles.removeItemAt(it) }\n}\n\nfun addDownloadedItems(battles : List&lt;Battle&gt;)\n{\n    this.battles.addAll(battles)\n}\n</code></pre>\n\n<p><strong>Fragment:</strong></p>\n\n<pre><code>override fun displayDownloadedBattles(battles : List&lt;Battle&gt;, isMore : Boolean) {\n    pbLoader.visibility = View.GONE\n    isLoading = false\n    if (isMore)\n        adapter.removeLoadingItem()\n    adapter.addDownloadedItems(battles)\n}\n</code></pre>\n"}, {"tags": ["android", "service", "kotlin", "android-mediaplayer"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1511104544, "post_id": 47378281, "comment_id": 81708914, "body": "<code>&quot;So, there are two service playing two different music in the same time&quot;</code> no, a service is a singleton: you cannot have two instances (or more) of the same service"}, {"owner": {"reputation": 294, "user_id": 6839727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HWpFG239IkE/AAAAAAAAAAI/AAAAAAAAOFM/5McjhwU7eOo/photo.jpg?sz=128", "display_name": "Hari Anugrah", "link": "https://stackoverflow.com/users/6839727/hari-anugrah"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1511105788, "post_id": 47378281, "comment_id": 81709343, "body": "@pskink so why there are two music playing in the same time? Is it just the mediaplayer that recreated?"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1511105828, "post_id": 47378281, "comment_id": 81709359, "body": "when your service dies you dont kill your media player - and that beast survives playing your audio"}, {"owner": {"reputation": 1106, "user_id": 6396174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHvxZ.jpg?s=128&g=1", "display_name": "bmdelacruz", "link": "https://stackoverflow.com/users/6396174/bmdelacruz"}, "edited": false, "score": 0, "creation_date": 1511163080, "post_id": 47378281, "comment_id": 81726906, "body": "Before starting and binding to any service, especially a music player service, always check if there is already a running instance of the service. If there&#39;s already one running, then do not call <code>startService</code> again, just <code>bindService</code>.  Also, do not pass the BIND_AUTO_CREATE flag to the <code>bindService</code> if, most of the time, there are no bound connections to the service because when you use that flag, the service will stop itself when there are no more bound service connections. I&#39;m not really sure though if that&#39;s still the case when <code>startService</code> is called before <code>bindService</code>."}, {"owner": {"reputation": 1106, "user_id": 6396174, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MHvxZ.jpg?s=128&g=1", "display_name": "bmdelacruz", "link": "https://stackoverflow.com/users/6396174/bmdelacruz"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1511163406, "post_id": 47378281, "comment_id": 81727078, "body": "Also, make sure that you perform necessary resource clean up or destruction on the <code>Service.onDestroy()</code> method. I totally agree with @pskink. Audio related object instances usually require explicit clean up, e.g. <code>Spotify.destroyPlayer()</code>."}], "owner": {"reputation": 294, "user_id": 6839727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-HWpFG239IkE/AAAAAAAAAAI/AAAAAAAAOFM/5McjhwU7eOo/photo.jpg?sz=128", "display_name": "Hari Anugrah", "link": "https://stackoverflow.com/users/6839727/hari-anugrah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 495, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1511103598, "creation_date": 1511103598, "question_id": 47378281, "link": "https://stackoverflow.com/questions/47378281/how-to-rebind-to-already-running-bind-music-player-service", "title": "How to rebind to already running bind music player service", "body": "<p>So I just make an music player app and a service that responsible for the mediaplayer class</p>\n\n<p>When I open the fragment in main activity and play music from it, The service is called, make a notification and run in the background... The code that I use to call the service is</p>\n\n<pre><code>val auroraServiceConnection = object : ServiceConnection {\n    override fun onServiceConnected(className: ComponentName,\n                                    service: IBinder) {\n        // We've bound to LocalService, cast the IBinder and get LocalService instance\n        val binder = service as AuroraService.LocalBinder\n        mAuroraService = binder.service\n        mBound = true\n    }\n    override fun onServiceDisconnected(arg0: ComponentName) {\n        mBound = false\n    }\n}\n\nfun play(id: Int){ // Called when play and changing music\n    Log.v(\"aurora_l bound\", mBound.toString())\n    if(!mBound){\n        val intent = Intent(activity, AuroraService::class.java)\n        intent.action = AuroraService.ServiceAction.PLAY.value\n        intent.putExtra(\"music_id\", id)\n\n        activity.startService(intent)\n        activity.bindService(intent, auroraServiceConnection, Context.BIND_AUTO_CREATE)\n        mBound = true\n    } else {\n        mAuroraService.changeMusic(Const.musicUtils.musicById(id))\n    }\n\n    update(AuroraService.PlaybackStatus.PLAYING, Const.musicUtils.musicById(id))\n\n    mListener!!.onMusicStateChanged(AuroraService.PlaybackStatus.PLAYING)\n}\n</code></pre>\n\n<p>The problem is, when I close the activity(The service still running and playing music) and reopen it again, then play a music, instead of using the old service, it created a new service and play the new song... So, there are two service playing two different music in the same time</p>\n\n<p>But I want there only one service, that will reused</p>\n\n<hr>\n\n<p>Some additional data</p>\n\n<p>My Service Binder</p>\n\n<pre><code>class LocalBinder : Binder() {\n        internal// Return this instance of LocalService so clients can call public methods\n        val service: AuroraService\n            get() = this@AuroraService\n    }\n</code></pre>\n\n<p>onBind method from my service</p>\n\n<pre><code>override fun onBind(intent: Intent?): IBinder {\n        initMediaSession() // Init media sessions class for notification\n        iInitMediaPlayer() // Init mediaplayer callback\n        if (intent != null) {\n            iReceiveAction(intent)\n        }\n        return mBinder\n    }\n\nfun iReceiveAction(intent: Intent){\n        val mAction = ServiceAction.values().lastOrNull { intent.action == it.value }\n                ?: ServiceAction.NONE\n\n        when (mAction){\n            ServiceAction.PLAY -&gt; {\n                val musicId = intent.getIntExtra(\"music_id\", -1)\n                music = Const.musicUtils.musicById(musicId)\n                musicInPlaylist = musicId\n                playlist = ArrayList()\n\n                plauMusic()\n            }\n            else -&gt; {\n                Log.v(\"aurora_\", \"?!\")\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["kotlin", "ojalgo"], "comments": [{"owner": {"reputation": 9475, "user_id": 1373258, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/057cb1f71b78244924b7854605d79a9d?s=128&d=identicon&r=PG&f=1", "display_name": "tmn", "link": "https://stackoverflow.com/users/1373258/tmn"}, "edited": false, "score": 0, "creation_date": 1511106274, "post_id": 47378153, "comment_id": 81709522, "body": "Just to clarify, so you are doing nonlinear work? It looks like ojAlgo has some quadratic functionality. I&#39;m guessing you are not invoking it. I&#39;ll  look in more depth later. <a href=\"https://github.com/optimatika/ojAlgo/blob/7a8662eb7d311b88f13b110aace8907855212ab6/src/org/ojalgo/optimisation/Expression.java#L55L:L70\" rel=\"nofollow noreferrer\">github.com/optimatika/ojAlgo/blob/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 9475, "user_id": 1373258, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/057cb1f71b78244924b7854605d79a9d?s=128&d=identicon&r=PG&f=1", "display_name": "tmn", "link": "https://stackoverflow.com/users/1373258/tmn"}, "edited": false, "score": 0, "creation_date": 1511106351, "post_id": 47378711, "comment_id": 81709562, "body": "Ah, I was going to suggest that nonlinear constraints might not be available in the solvers."}, {"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "reply_to_user": {"reputation": 9475, "user_id": 1373258, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/057cb1f71b78244924b7854605d79a9d?s=128&d=identicon&r=PG&f=1", "display_name": "tmn", "link": "https://stackoverflow.com/users/1373258/tmn"}, "edited": false, "score": 0, "creation_date": 1511111058, "post_id": 47378711, "comment_id": 81711216, "body": "@tmn could you suggest a library for that (QCLP) ?"}], "tags": [], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "is_accepted": false, "score": 0, "last_activity_date": 1511106310, "creation_date": 1511106310, "answer_id": 47378711, "question_id": 47378153, "link": "https://stackoverflow.com/questions/47378153/npe-in-ojalgo-quadratic-optimizer/47378711#47378711", "title": "NPE in ojAlgo quadratic optimizer", "body": "<p>Ok, found it:</p>\n\n<blockquote>\n  <p>Currently the solvers supplied by ojAlgo can only handle linear constraint expressions.</p>\n</blockquote>\n\n<p>Pity it wasn't in the documentation or anywhere on the site (the found quote is from a code comment).</p>\n"}, {"comments": [{"owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 0, "creation_date": 1511183718, "post_id": 47390188, "comment_id": 81738730, "body": "Thanks! Is there a way to set it up using only Gradle?"}, {"owner": {"reputation": 1045, "user_id": 4421592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xaI2H.jpg?s=128&g=1", "display_name": "apete", "link": "https://stackoverflow.com/users/4421592/apete"}, "reply_to_user": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "edited": false, "score": 1, "creation_date": 1511195205, "post_id": 47390188, "comment_id": 81746329, "body": "MOSEK is a commercial product not written in Java. You can&#39;t just get it using Maven or Gradle. There is a Java interface, and ojAlgo has an integration using that."}], "tags": [], "owner": {"reputation": 1045, "user_id": 4421592, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xaI2H.jpg?s=128&g=1", "display_name": "apete", "link": "https://stackoverflow.com/users/4421592/apete"}, "is_accepted": true, "score": 1, "last_activity_date": 1511174771, "creation_date": 1511174771, "answer_id": 47390188, "question_id": 47378153, "link": "https://stackoverflow.com/questions/47378153/npe-in-ojalgo-quadratic-optimizer/47390188#47390188", "title": "NPE in ojAlgo quadratic optimizer", "body": "<p>ExpressionsBasedModel is a modelling tool. It can use many different solvers, and each solver has different capabilities. ojAlgo has a collection of solvers built in. Generally speaking those can handle everything ExpressionsBasedModel can model except one thing - quadratic constraints. This is stated in the javadoc of the ExpressionsBasedModel class. (Getting an NPE is not \"nice\". I'll fix that.)</p>\n\n<p>To solve quadratically constrained problems you need a solver that can handle that. You could for instance try MOSEK:</p>\n\n<p><a href=\"https://www.mosek.com/\" rel=\"nofollow noreferrer\">https://www.mosek.com/</a></p>\n\n<p><a href=\"https://github.com/optimatika/ojAlgo-extensions/tree/master/ojAlgo-mosek\" rel=\"nofollow noreferrer\">https://github.com/optimatika/ojAlgo-extensions/tree/master/ojAlgo-mosek</a></p>\n"}], "owner": {"reputation": 25728, "user_id": 3144601, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/94FMr.jpg?s=128&g=1", "display_name": "voddan", "link": "https://stackoverflow.com/users/3144601/voddan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 47390188, "answer_count": 2, "score": 1, "last_activity_date": 1511174771, "creation_date": 1511102796, "question_id": 47378153, "link": "https://stackoverflow.com/questions/47378153/npe-in-ojalgo-quadratic-optimizer", "title": "NPE in ojAlgo quadratic optimizer", "body": "<p>I have a very short program which is supposed to find optimize a model using ojAlgo: </p>\n\n<pre><code>package dwarfs\n\nimport org.ojalgo.optimisation.ExpressionsBasedModel\nimport org.ojalgo.optimisation.Variable\nimport java.util.concurrent.atomic.AtomicInteger\n\nval model = ExpressionsBasedModel()\n\nprivate val funcId = AtomicInteger(0)\nprivate val variableId = AtomicInteger(0)\nfun ExpressionsBasedModel.newVariable() = Variable(variableId.incrementAndGet().toString().let { \"Variable$it\" }).also(this::addVariable)\nfun ExpressionsBasedModel.newExpression() = funcId.incrementAndGet().let { \"Expression$it\"}.let { this.addExpression(it) }\n\nfun main(args: Array&lt;String&gt;) {\n    val works = model.newExpression().upper(1).lower(0).apply {\n        dwarfs.forEach { set(it.quata, it.quata, 1) }\n    }\n\n    println(model)\n    println(works)\n\n    model.maximise().let(::println)\n}\n\nclass Dwarf(val usefulness: Double) {\n    val quata: Variable = model.newVariable().lower(0).upper(1).weight(usefulness)\n}\n\nval dwarfs = listOf(\n        Dwarf(0.4), Dwarf(0.2), Dwarf(1.1)\n)\n</code></pre>\n\n<p>When I tun it, I get an NPE:</p>\n\n<pre><code>############################################\n0 &lt;= Variable1 (0.400000) &lt;= 1.000000\n0 &lt;= Variable2 (0.200000) &lt;= 1.000000\n0 &lt;= Variable3 (1.100000) &lt;= 1.000000\n0 &lt;= Expression1: 0.75 &lt;= 1.000000\n############################################\n\n0 &lt;= Expression1 &lt;= 1.000000\nException in thread \"main\" java.lang.NullPointerException\nat java.util.Objects.requireNonNull(Objects.java:203)\nat org.ojalgo.ProgrammingError.throwIfNull(ProgrammingError.java:83)\nat org.ojalgo.optimisation.convex.ConvexSolver$Builder.objective(ConvexSolver.java:318)\nat org.ojalgo.optimisation.convex.ConvexSolver.copy(ConvexSolver.java:543)\nat org.ojalgo.optimisation.convex.ConvexSolver$ModelIntegration.build(ConvexSolver.java:445)\nat org.ojalgo.optimisation.convex.ConvexSolver$ModelIntegration.build(ConvexSolver.java:439)\nat org.ojalgo.optimisation.ExpressionsBasedModel.solve(ExpressionsBasedModel.java:762)\nat org.ojalgo.optimisation.ExpressionsBasedModel.maximise(ExpressionsBasedModel.java:626)\nat dwarfs.DwarfsKt.main(dwarfs.kt:22)\n</code></pre>\n\n<p>I couldn't find any docs on how to use the quadratic optimizer. Where did I go wrong?</p>\n"}, {"tags": ["android", "android-recyclerview", "kotlin"], "comments": [{"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 1, "creation_date": 1511101655, "post_id": 47377929, "comment_id": 81707941, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/29424944/recyclerview-itemclicklistener-in-kotlin\">RecyclerView itemClickListener in Kotlin</a>"}, {"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "reply_to_user": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1511101899, "post_id": 47377929, "comment_id": 81708030, "body": "@Pavneet_Singh Where does he put that extension for the viewholder? The question you linked me to doesnt help me much."}, {"owner": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1511102008, "post_id": 47377929, "comment_id": 81708070, "body": "take a look at other answers as well"}, {"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "reply_to_user": {"reputation": 34447, "user_id": 4936904, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jh6MN.jpg?s=128&g=1", "display_name": "Pavneet_Singh", "link": "https://stackoverflow.com/users/4936904/pavneet-singh"}, "edited": false, "score": 0, "creation_date": 1511102663, "post_id": 47377929, "comment_id": 81708293, "body": "@Pavneet_Singh sadly it does not help me much because I dont really get where they placed their code"}], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511102575, "post_id": 47378042, "comment_id": 81708267, "body": "Where does the interface go? and the <code>var listener : WorkoutClickListener?</code> is red because it must be initialized. Also in the MainActivity this doesnt seem to be working because of the arrow <code>adapter.listener = (workout) -&gt; openAnotherActivity(workout);</code>"}, {"owner": {"reputation": 1164, "user_id": 4135511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efd2a9701c0f354d3cf04a8f554fccb2?s=128&d=identicon&r=PG", "display_name": "Lukas", "link": "https://stackoverflow.com/users/4135511/lukas"}, "reply_to_user": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511103009, "post_id": 47378042, "comment_id": 81708401, "body": "sorry, I assumed you are using Java8 lambdas support :P  I edited the answer"}, {"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511103474, "post_id": 47378042, "comment_id": 81708579, "body": "thats nice of you! but where do I put the interface? does it go in my mainactivity?"}, {"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511103626, "post_id": 47378042, "comment_id": 81708629, "body": "also the <code>v</code> is a unresolved reference in my bindItems method"}, {"owner": {"reputation": 1164, "user_id": 4135511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efd2a9701c0f354d3cf04a8f554fccb2?s=128&d=identicon&r=PG", "display_name": "Lukas", "link": "https://stackoverflow.com/users/4135511/lukas"}, "reply_to_user": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511105073, "post_id": 47378042, "comment_id": 81709111, "body": "Interface should be stand-alone, like your activity(in separare file)  i&#39;ve edited answer, does this snippet was helpful?"}, {"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "edited": false, "score": 0, "creation_date": 1511105669, "post_id": 47378042, "comment_id": 81709293, "body": "there is a type mismatch here with workout: <code>val adapter = CustomAdapter(workouts)</code> and here in binditems the listener is a unresolved reference <code>itemView.listener = View.OnClickListener { listener?.onWorkoutClicked(workout) } </code>"}], "tags": [], "owner": {"reputation": 1164, "user_id": 4135511, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efd2a9701c0f354d3cf04a8f554fccb2?s=128&d=identicon&r=PG", "display_name": "Lukas", "link": "https://stackoverflow.com/users/4135511/lukas"}, "is_accepted": false, "score": 1, "last_activity_date": 1511553135, "last_edit_date": 1511553135, "creation_date": 1511102172, "answer_id": 47378042, "question_id": 47377929, "link": "https://stackoverflow.com/questions/47377929/how-to-add-a-onclick-listener-on-a-recyclerview-in-android-studio-with-kotlin/47378042#47378042", "title": "How to add a Onclick listener on a RecyclerView in Android Studio with Kotlin?", "body": "<ol>\n<li><p>Let's define an interface for this use-case:</p>\n\n<pre><code>interface WorkoutClickLisetner{\n   fun onWorkoutClicked(workout: workout)\n}\n</code></pre></li>\n<li><p>Add <code>WorkoutClickListener</code> as member of <code>CustomAdapter</code></p>\n\n<pre><code>var listener : WorkoutClickListener? = null\n</code></pre>\n\n<p>register click listener for <code>itemView</code>inside your <code>bindItems</code> method</p>\n\n<pre><code>itemView.listener = object : View.OnClickListener {\n\n  override fun onClick(v: View){\n    listener?.onWorkoutClicked(workout)\n  }\n}\n</code></pre></li>\n<li><p>Do not forget to init your <code>WorkoutClickListener</code> where you will delegate action when user clicks the cell:</p>\n\n<pre><code>val adapter = CustomAdapter(workouts)\n\nadapter.listener = object : WorkoutClickListener { \n    override fun onWorkoutClicked(workout: workout){  \n   /*your delegation goes here*/`\n }\n}\n\nrecyclerView.adapter = adapter\n</code></pre></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "is_accepted": true, "score": -2, "last_activity_date": 1511116079, "creation_date": 1511116079, "answer_id": 47380425, "question_id": 47377929, "link": "https://stackoverflow.com/questions/47377929/how-to-add-a-onclick-listener-on-a-recyclerview-in-android-studio-with-kotlin/47380425#47380425", "title": "How to add a Onclick listener on a RecyclerView in Android Studio with Kotlin?", "body": "<p>Alright guys I found out how to implement a onclicklistener in Kotlin,\nhere is the link: <a href=\"https://gist.github.com/nesquena/231e356f372f214c4fe6\" rel=\"nofollow noreferrer\">https://gist.github.com/nesquena/231e356f372f214c4fe6</a></p>\n"}, {"tags": [], "owner": {"reputation": 505, "user_id": 6170625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-OVkMtjC5wgQ/AAAAAAAAAAI/AAAAAAAAAJo/ZMsQ-loF1Bw/photo.jpg?sz=128", "display_name": "Pranav Ashok", "link": "https://stackoverflow.com/users/6170625/pranav-ashok"}, "is_accepted": false, "score": 0, "last_activity_date": 1511155487, "last_edit_date": 1511155487, "creation_date": 1511154807, "answer_id": 47385432, "question_id": 47377929, "link": "https://stackoverflow.com/questions/47377929/how-to-add-a-onclick-listener-on-a-recyclerview-in-android-studio-with-kotlin/47385432#47385432", "title": "How to add a Onclick listener on a RecyclerView in Android Studio with Kotlin?", "body": "<p>use it inside viewHolder</p>\n\n<pre><code>  override fun onClick(view: View) {\n\n    }\n</code></pre>\n\n<p>if you have specific id's </p>\n\n<pre><code>@OnClick(R.id.id1, R.id.id2)\n fun onClick(view: View) {\n        when (view.id) {\n\n            R.id.id1 -&gt; {}\n            R.id.id2 -&gt; {}\n            else -&gt;{}\n       }\n}\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2169, "favorite_count": 1, "accepted_answer_id": 47380425, "answer_count": 3, "score": 2, "last_activity_date": 1511553135, "creation_date": 1511101499, "last_edit_date": 1511101843, "question_id": 47377929, "link": "https://stackoverflow.com/questions/47377929/how-to-add-a-onclick-listener-on-a-recyclerview-in-android-studio-with-kotlin", "title": "How to add a Onclick listener on a RecyclerView in Android Studio with Kotlin?", "body": "<p>so I want to have a <code>onclicklistener</code> for my <code>RecyclerView</code> in Android but I am not sure how I should do that.</p>\n\n<p>I have a <code>CustomAdapterClass</code> for my <code>Workoutlist</code> that looks like this:</p>\n\n<pre><code>class CustomAdapter(val workoutList: ArrayList&lt;workout&gt;) : RecyclerView.Adapter&lt;CustomAdapter.ViewHolder&gt;() {\n\noverride fun onCreateViewHolder(parent: ViewGroup, viewType: Int): CustomAdapter.ViewHolder {\n    val v = LayoutInflater.from(parent.context).inflate(R.layout.list_layout, parent, false)\n    return ViewHolder(v)\n}\n\noverride fun onBindViewHolder(holder: CustomAdapter.ViewHolder, position: Int) {\n    holder.bindItems(workoutList[position])\n}\n\noverride fun getItemCount(): Int {\n    return workoutList.size\n}\n\nclass ViewHolder(itemView: View) : RecyclerView.ViewHolder(itemView) {\n\n    fun bindItems(workout: workout) {\n        val cardDate = itemView.findViewById&lt;TextView&gt;(R.id.cardDate)\n        val cardDescription  = itemView.findViewById&lt;TextView&gt;(R.id.cardDescription)\n        cardDate.text = workout.date\n        cardDescription.text = workout.description\n    }\n}\n}\n</code></pre>\n\n<p>And I push my workouts in like this (in my <code>Main Activity</code>):</p>\n\n<pre><code>    val recyclerView = findViewById&lt;RecyclerView&gt;(R.id.RecyclerView)\n\n    recyclerView.layoutManager = GridLayoutManager(this, 3)\n\n\n    val workouts = ArrayList&lt;workout&gt;()\n\n    workouts.add(workout(\"12.09.2018\", \"Kniebeugen und Bizeps + R\u00fccken\"))\n    workouts.add(workout(\"12.09.2018\", \"Kniebeugen und Bizeps + R\u00fccken\"))\n    workouts.add(workout(\"12.09.2018\", \"Kniebeugen und Bizeps + R\u00fccken\"))\n    workouts.add(workout(\"12.09.2018\", \"Kniebeugen und Bizeps + R\u00fccken\"))\n    workouts.add(workout(\"12.09.2018\", \"Kniebeugen und Bizeps + R\u00fccken\"))\n    workouts.add(workout(\"12.09.2018\", \"Kniebeugen und Bizeps + R\u00fccken\"))\n    workouts.add(workout(\"12.09.2018\", \"Kniebeugen und Bizeps + R\u00fccken\"))\n    workouts.add(workout(\"12.09.2018\", \"Kniebeugen und Bizeps + R\u00fccken\"))\n\n    val adapter = CustomAdapter(workouts)\n\n    recyclerView.adapter = adapter\n</code></pre>\n\n<p>I would like to make my workouts clickable and so I can use the name and the description from the workout to open a new activity with them as the intention.</p>\n\n<p>Any help is appreciated!</p>\n\n<p>I do not get where he put that extension in the \"duplicate\"</p>\n"}, {"tags": ["java", "kotlin", "google-oauth", "google-api-java-client", "spark-java"], "comments": [{"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 0, "creation_date": 1511118457, "post_id": 47376767, "comment_id": 81714022, "body": "you need to analyse your transitive dependencies, looks like the new library you added introduced a different version of the servlet lib. Run <code>gradle dependencies</code> to see your dependency tree (before and after adding the new dep)."}, {"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 0, "creation_date": 1511118761, "post_id": 47376767, "comment_id": 81714140, "body": "Also, try <code>gradle dependencyInsight</code> as explained <a href=\"https://stackoverflow.com/questions/21311727/gradle-how-to-display-where-a-dependency-conflict-arises\">here</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1274, "user_id": 403298, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f06656f96e81e36b358f0f9b389caff5?s=128&d=identicon&r=PG", "display_name": "Tim Tuckle", "link": "https://stackoverflow.com/users/403298/tim-tuckle"}, "is_accepted": true, "score": 0, "last_activity_date": 1511292190, "creation_date": 1511292190, "answer_id": 47421063, "question_id": 47376767, "link": "https://stackoverflow.com/questions/47376767/sparkjava-cannot-work-together-with-some-google-youtube-apis/47421063#47421063", "title": "SparkJava cannot work together with some Google Youtube API&#39;s", "body": "<p>I found the problem : </p>\n\n<p>google-oauth-client-jetty (LocalServerReceiver) was using the org.mortbay.jetty which has the old version of servlet-api. (2.5.**)</p>\n\n<p>I excluded and changed LocalServerReceiver class.. Put in my package. And changed jetty to org.eclipse.jetty.</p>\n"}], "owner": {"reputation": 1274, "user_id": 403298, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f06656f96e81e36b358f0f9b389caff5?s=128&d=identicon&r=PG", "display_name": "Tim Tuckle", "link": "https://stackoverflow.com/users/403298/tim-tuckle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "accepted_answer_id": 47421063, "answer_count": 1, "score": 1, "last_activity_date": 1511292190, "creation_date": 1511094012, "question_id": 47376767, "link": "https://stackoverflow.com/questions/47376767/sparkjava-cannot-work-together-with-some-google-youtube-apis", "title": "SparkJava cannot work together with some Google Youtube API&#39;s", "body": "<p>We decided to use SparkJava, Kotlin and Mustache for a commercial <strong>web</strong> product. And our product needs to be integrated with Google (YouTube) API\u2019s. </p>\n\n<p>The project\u2019s all endpoints were working properly. (Backoffice, CRUD operations etc.) And we started to implement integrations of YouTube and I had to add Google libraries into my project for kickoff. <strong>(Not to add any of extra code, just added the library google-oauth-client-jetty.)</strong> </p>\n\n<p>You can find my Gradle libraries below :</p>\n\n<pre><code>dependencies {\n\n    // Below library is a part of the requirements or YouTube Integration\n\n    compile group: 'com.google.oauth-client', name: 'google-oauth-client-jetty', version: '1.11.0-beta'\n\n\n    // And these are the others\n    compile fileTree(include: ['*.jar'], dir: 'lib')\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n    compile group: 'com.sparkjava', name: 'spark-core', version: '2.7.0'\n    compile 'com.google.code.gson:gson:2.8.1'\n    compile group: 'commons-codec', name: 'commons-codec', version: '1.9'\n    compile 'com.github.jkcclemens:khttp:0.1.0' // -SNAPSHOT\n    compile 'com.beust:klaxon:0.30'\n    compile group: 'org.bouncycastle', name: 'bcprov-jdk15on', version: '1.58'\n    compile group: 'org.hibernate', name: 'hibernate-gradle-plugin', version: '5.2.10.Final'\n    compile group: 'org.hibernate', name: 'hibernate-core', version: '5.2.10.Final'\n    compile group: 'org.hibernate', name: 'hibernate-entitymanager', version: '5.2.10.Final'\n    compile group: 'org.hibernate', name: 'hibernate-validator', version: '6.0.0.CR3'\n    compile group: 'mysql', name: 'mysql-connector-java', version: '6.0.6'\n    compile group: 'org.hibernate', name: 'hibernate-c3p0', version: '4.1.0.Final'\n    compile 'io.sentry:sentry-log4j:1.4.0'\n    compile group: 'javax.mail', name: 'mail', version: '1.4.1'\n    compile group: 'org.apache.commons', name: 'commons-dbcp2', version: '2.0'\n    compile group: 'commons-validator', name: 'commons-validator', version: '1.4.0'\n    compile \"org.testng:testng:6.9.10\"\n    compile \"org.apache.httpcomponents:httpclient:4.5.2\"\n    compile \"org.apache.httpcomponents:httpcore:4.4.4\"\n    compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.0'\n    compile group: 'com.sparkjava', name: 'spark-template-mustache', version: '2.5.5'\n    compile group: 'org.slf4j', name: 'slf4j-simple', version: '1.7.25'\n\n    testCompile group: 'junit', name: 'junit', version: '4.11'\n}\n</code></pre>\n\n<p>When I <strong>especially add library 'google-oauth-client-jetty', version: '1.11.0-beta\u2019</strong> into the project, I cannot reach the endpoints via http (GET, POST, PUT none of them). I enabled SparkJava's logs and I am facing with the logs below. </p>\n\n<p>For example, I am calling </p>\n\n<blockquote>\n  <p><a href=\"http://localhost:3000/admin\" rel=\"nofollow noreferrer\">http://localhost:3000/admin</a></p>\n</blockquote>\n\n<p>And the result is :</p>\n\n<pre><code>    [qtp1864334028-15] WARN org.eclipse.jetty.server.HttpChannel - /admin\njava.lang.NoSuchMethodError: javax.servlet.http.HttpServletResponse.getHeaders(Ljava/lang/String;)Ljava/util/Collection;\n    at spark.utils.GzipUtils.checkAndWrap(GzipUtils.java:67)\n    at spark.http.matching.Body.serializeTo(Body.java:69)\n    at spark.http.matching.MatcherFilter.doFilter(MatcherFilter.java:189)\n    at spark.embeddedserver.jetty.JettyHandler.doHandle(JettyHandler.java:50)\n    at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1568)\n    at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n    at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:132)\n    at org.eclipse.jetty.server.Server.handle(Server.java:564)\n    at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:317)\n    at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:251)\n    at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:279)\n    at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:110)\n    at org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:124)\n    at org.eclipse.jetty.util.thread.Invocable.invokePreferred(Invocable.java:128)\n    at org.eclipse.jetty.util.thread.Invocable$InvocableExecutor.invoke(Invocable.java:222)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:294)\n    at org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.produce(EatWhatYouKill.java:126)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:673)\n    at org.eclipse.jetty.util.thread.QueuedThreadPool$2.run(QueuedThreadPool.java:591)\n    at java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>As It seems, it is quite mandatory to use method \"LocalServerReceiver() in the google-oauth-client-jetty library\". </p>\n\n<p>We need any help to move on.</p>\n"}, {"tags": ["android", "kotlin", "google-drive-android-api"], "comments": [{"owner": {"reputation": 1851, "user_id": 1912127, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HxJqa.jpg?s=128&g=1", "display_name": "Dagmar", "link": "https://stackoverflow.com/users/1912127/dagmar"}, "edited": false, "score": 0, "creation_date": 1530254334, "post_id": 47376582, "comment_id": 89179069, "body": "Did you ever find the answer to this? I know there is a setting in the Google Drive app that restricts the app to WIFI only. Is this setting used?"}, {"owner": {"reputation": 1851, "user_id": 1912127, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HxJqa.jpg?s=128&g=1", "display_name": "Dagmar", "link": "https://stackoverflow.com/users/1912127/dagmar"}, "edited": false, "score": 1, "creation_date": 1530254563, "post_id": 47376582, "comment_id": 89179175, "body": "<a href=\"https://developers.google.com/android/reference/com/google/android/gms/drive/TransferPreferences\" rel=\"nofollow noreferrer\">developers.google.com/android/reference/com/google/android/g&zwnj;&#8203;ms/&hellip;</a> ... I think you can use this"}, {"owner": {"reputation": 393, "user_id": 7354469, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c74260e6c6544d810361c3d0057c8db2?s=128&d=identicon&r=PG&f=1", "display_name": "mgcation", "link": "https://stackoverflow.com/users/7354469/mgcation"}, "reply_to_user": {"reputation": 1851, "user_id": 1912127, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HxJqa.jpg?s=128&g=1", "display_name": "Dagmar", "link": "https://stackoverflow.com/users/1912127/dagmar"}, "edited": false, "score": 0, "creation_date": 1530592660, "post_id": 47376582, "comment_id": 89277476, "body": "@Dagmar It was solved before, but your answer is pretty good."}], "owner": {"reputation": 393, "user_id": 7354469, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/c74260e6c6544d810361c3d0057c8db2?s=128&d=identicon&r=PG&f=1", "display_name": "mgcation", "link": "https://stackoverflow.com/users/7354469/mgcation"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 194, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1511093540, "creation_date": 1511092794, "last_edit_date": 1511093540, "question_id": 47376582, "link": "https://stackoverflow.com/questions/47376582/how-to-make-selective-connection-with-google-drive-api-android", "title": "how to make selective connection with google drive api (android)", "body": "<p>How to limit <code>google-drive-api</code>'s <code>offline connection feature</code> to <code>only wifi</code>?</p>\n\n<p>I use this code to upload my file, and it works. but....</p>\n\n<pre><code>val newDriveResult = Drive.DriveApi\n                          .newDriveContents(mGoogleApiClient)\n                          .await()\nval driveOutputStream = newDriveResult.driveContents\n                                      .outputStream\n\n\ndriveOutputStream = /* make driveOutputStream contain my data stream to upload */\nval metadataChangeSet = /* metadata setting */\n\n\n// upload it\nval createFileAtRootResult = Drive.DriveApi\n                                  .getRootFolder(mGoogleApiClient)\n                                  .createFile(\n                        mGoogleApiClient, metadataChangeSet, newDriveResult.driveContents)\n                                  .await()\n</code></pre>\n\n<p>I want to limit this job <code>only wifi</code></p>\n\n<hr>\n\n<p>I think use this code will make solve this problem, but this is can't be solution directly. </p>\n\n<pre><code>val isWifiConnection =\n    (context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager)\n                       .activeNetworkInfo.type == ConnectivityManager.TYPE_WIFI\n</code></pre>\n\n<p>because when I upload using above code, transfer buffer will filled and drive forces file to upload whenever while connected internet.</p>\n\n<p>And I can't find relevant function for limit to wifi.</p>\n"}, {"tags": ["android", "notifications", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 452, "user_id": 8185908, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/WVOYZ.png?s=128&g=1", "display_name": "KarmaDeli", "link": "https://stackoverflow.com/users/8185908/karmadeli"}, "edited": false, "score": 0, "creation_date": 1511123020, "post_id": 47377995, "comment_id": 81715710, "body": "Thanks @thomas stevens,  I revised my question and included the receiver code snippet from my Manifest. This notification thing has been my toughest challenge in working with Android, I appreciate your help!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8921383"}, "reply_to_user": {"reputation": 452, "user_id": 8185908, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/WVOYZ.png?s=128&g=1", "display_name": "KarmaDeli", "link": "https://stackoverflow.com/users/8185908/karmadeli"}, "edited": false, "score": 0, "creation_date": 1511137475, "post_id": 47377995, "comment_id": 81719704, "body": "I have run your code up in android studio. The notification works when run directly from the activity, and works as is on api &lt; 23 so I can only assume there is something wrong with the alarm manager broadcast/receive on api &gt;= 23. I will take a look again in a bit."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8921383"}, "is_accepted": false, "score": 0, "last_activity_date": 1511101865, "creation_date": 1511101865, "answer_id": 47377995, "question_id": 47375109, "link": "https://stackoverflow.com/questions/47375109/how-to-create-a-time-triggered-notification-that-works-on-all-android-devices/47377995#47377995", "title": "How to create a time triggered Notification that works on all Android Devices", "body": "<p>From what I can tell from your code , you need to register the receiver in either the Manifest or a context. </p>\n\n<p><a href=\"https://developer.android.com/guide/components/broadcasts.html\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/components/broadcasts.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 452, "user_id": 8185908, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/WVOYZ.png?s=128&g=1", "display_name": "KarmaDeli", "link": "https://stackoverflow.com/users/8185908/karmadeli"}, "edited": false, "score": 0, "creation_date": 1511130240, "post_id": 47381990, "comment_id": 81718004, "body": "I believe I created the notification in the first line of my if conditional. When I try to change the direction I get a bunch of red underlines saying : &quot;Call requires API level 26 (current min is 15): android.app.Notification.Builder#setChannelId more... &quot; and still no notification triggered on API 27 \u2013 notifications are tough stuff huh"}, {"owner": {"reputation": 4190, "user_id": 1566588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d2070e800356da57315d427aa2343f4?s=128&d=identicon&r=PG", "display_name": "Teovald", "link": "https://stackoverflow.com/users/1566588/teovald"}, "reply_to_user": {"reputation": 452, "user_id": 8185908, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/WVOYZ.png?s=128&g=1", "display_name": "KarmaDeli", "link": "https://stackoverflow.com/users/8185908/karmadeli"}, "edited": false, "score": 0, "creation_date": 1511134401, "post_id": 47381990, "comment_id": 81719027, "body": "oh yeah, my bad, I am not used to your yoda style comparison, it true me off"}, {"owner": {"reputation": 4190, "user_id": 1566588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d2070e800356da57315d427aa2343f4?s=128&d=identicon&r=PG", "display_name": "Teovald", "link": "https://stackoverflow.com/users/1566588/teovald"}, "reply_to_user": {"reputation": 452, "user_id": 8185908, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/WVOYZ.png?s=128&g=1", "display_name": "KarmaDeli", "link": "https://stackoverflow.com/users/8185908/karmadeli"}, "edited": false, "score": 0, "creation_date": 1511134471, "post_id": 47381990, "comment_id": 81719044, "body": "The non-channel code still does not need to be in that code and repeated but whatever.  The easiest way for you to debug this is to add logs to know at which step you are doing it wrong (is the broadcast sent, is it received, etc)"}, {"owner": {"reputation": 452, "user_id": 8185908, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/WVOYZ.png?s=128&g=1", "display_name": "KarmaDeli", "link": "https://stackoverflow.com/users/8185908/karmadeli"}, "edited": false, "score": 0, "creation_date": 1511138605, "post_id": 47381990, "comment_id": 81719950, "body": "My code didn&#39;t start out like that. I&#39;ve just been moving alot of code around to try to solve this issue. And the truth is this &quot;is&quot; working code, only problem is it doesn&#39;t work on all the android devices. So I&#39;m confident that the broadcast is being sent and received otherwise the notifications would not have come through on my Tab 4 running API 19. I think the problem is with my notification channel... as this is the only new requirement for constructing notifications. Also, I&#39;m new to android development -- about week of experience under my belt, I don&#39;t know how to add logs."}], "tags": [], "owner": {"reputation": 4190, "user_id": 1566588, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4d2070e800356da57315d427aa2343f4?s=128&d=identicon&r=PG", "display_name": "Teovald", "link": "https://stackoverflow.com/users/1566588/teovald"}, "is_accepted": false, "score": 0, "last_activity_date": 1511125436, "creation_date": 1511125436, "answer_id": 47381990, "question_id": 47375109, "link": "https://stackoverflow.com/questions/47375109/how-to-create-a-time-triggered-notification-that-works-on-all-android-devices/47381990#47381990", "title": "How to create a time triggered Notification that works on all Android Devices", "body": "<p>is your channel even created ? \nyour comparison is in the wrong direction ->  </p>\n\n<p><code>android.os.Build.VERSION_CODES.O &lt;= android.os.Build.VERSION.SDK_INT</code> it should be <code>&gt;=</code> instead</p>\n\n<p>and only the channel creation needs to be guarded against O, not the notification creation.</p>\n"}], "owner": {"reputation": 452, "user_id": 8185908, "user_type": "registered", "accept_rate": 30, "profile_image": "https://i.stack.imgur.com/WVOYZ.png?s=128&g=1", "display_name": "KarmaDeli", "link": "https://stackoverflow.com/users/8185908/karmadeli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1512072398, "creation_date": 1511081325, "last_edit_date": 1511183438, "question_id": 47375109, "link": "https://stackoverflow.com/questions/47375109/how-to-create-a-time-triggered-notification-that-works-on-all-android-devices", "title": "How to create a time triggered Notification that works on all Android Devices", "body": "<p>I'm trying to make a notification that get triggered after a certain amount of time has passed. In an attempt to achieve this I have this AlarmReceiver class that inherits from BroadCast receiver and works on devices running up to about API 23. It doesn't work on my emulator currently running API 27. Any clue what I'm doing wrong?</p>\n\n<pre><code>class AlarmReceiver : BroadcastReceiver() {\ncompanion object {\n    val PRIMARY_CHANNEL = \"dj\"\n}\n\noverride fun onReceive(context: Context, intent: Intent) {\n\n    val notificationManager = context.getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager\n    val notificationIntent = Intent(context, NotificationActivity::class.java)\n\n    val stackBuilder = TaskStackBuilder.create(context)\n    stackBuilder.addParentStack(NotificationActivity::class.java)\n    stackBuilder.addNextIntent(notificationIntent)\n\n    val pendingIntent = stackBuilder.getPendingIntent(100, PendingIntent.FLAG_UPDATE_CURRENT)\n\n    if (android.os.Build.VERSION_CODES.O &lt;= android.os.Build.VERSION.SDK_INT){\n        //I create the notification channel on the next line, but it doesn't seem to work\n        val notificationChannel = NotificationChannel(PRIMARY_CHANNEL,\n                \"DailyJokes\", NotificationManager.IMPORTANCE_DEFAULT)\n        notificationChannel.lightColor = Color.GREEN\n        notificationChannel.lockscreenVisibility = Notification.VISIBILITY_PRIVATE\n        notificationManager.createNotificationChannel(notificationChannel)\n\n        val notification = Notification.Builder(context, PRIMARY_CHANNEL)\n                .setContentIntent(pendingIntent)\n                .setChannelId(\"dj\")\n                .setContentText(\"KDW\")\n                .setSmallIcon(R.mipmap.ic_launcher_round)\n                .setContentTitle(\"CCC\")\n                .build()\n        notificationManager.notify(1,notification)    \n\n    } else {\n        var builder = NotificationCompat.Builder(context, \"dj\")\n    val sound = Uri.parse(\"android.resource://\" + context.packageName + \"/\" + \"raw/drumroll\")\n    builder = builder\n            .setSmallIcon(R.mipmap.ic_launcher_round)\n            .setColor(Color.BLUE)\n            .setContentTitle(\"Content Title\")\n            .setTicker(\"TICKER Text\")\n            .setContentText(\"KDW setContentText\")\n            .setAutoCancel(true)\n            .setContentIntent(pendingIntent)\n            .setChannelId(\"dj\")\n            .setSound(sound)\n\n    notificationManager.notify(1, builder!!.build())\n    }\n\n  }\n}\n</code></pre>\n\n<p>Here's the code that triggers the notification, anything off here?</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_notification)\n\n\n\n val alarmManager = getSystemService(Context.ALARM_SERVICE) as AlarmManager\n\n    val notificationIntent = Intent(\"android.media.action.DISPLAY_NOTIFICATION\")\n\n\n    notificationIntent.addCategory(\"android.intent.category.DEFAULT\")\n\n    val broadcast = getBroadcast(this, 100, notificationIntent, FLAG_UPDATE_CURRENT)\n\n    val cal = Calendar.getInstance()\n    cal.add(Calendar.SECOND, 5)\n    alarmManager.set(AlarmManager.RTC_WAKEUP, cal.timeInMillis, broadcast)\n\n}\n}\n</code></pre>\n\n<p>I also have a receiver in my Manifest:</p>\n\n<pre><code>&lt;receiver android:name=\".AlarmReceiver\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.media.action.DISPLAY_NOTIFICATION\" /&gt;\n\n            &lt;category android:name=\"android.intent.category.DEFAULT\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n\n<p>Even with all this the bug still lurks. I'm new to Kotlin, today makes a week since I started. My swift experience prepared me well but I just can't seem to get a hold on notifications :/</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1511040106, "post_id": 47371094, "comment_id": 81694992, "body": "The code does not make much sense, why would you use apply here?"}, {"owner": {"reputation": 1240, "user_id": 4907678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtbORjvk7z8/AAAAAAAAAAI/AAAAAAAAAAA/j24q0gq8FHY/photo.jpg?sz=128", "display_name": "saiedmomen", "link": "https://stackoverflow.com/users/4907678/saiedmomen"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1511040664, "post_id": 47371094, "comment_id": 81695158, "body": "I added the actual code"}, {"owner": {"reputation": 1240, "user_id": 4907678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtbORjvk7z8/AAAAAAAAAAI/AAAAAAAAAAA/j24q0gq8FHY/photo.jpg?sz=128", "display_name": "saiedmomen", "link": "https://stackoverflow.com/users/4907678/saiedmomen"}, "reply_to_user": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "edited": false, "score": 0, "creation_date": 1511041161, "post_id": 47371094, "comment_id": 81695294, "body": "That didnt help"}], "answers": [{"comments": [{"owner": {"reputation": 1240, "user_id": 4907678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtbORjvk7z8/AAAAAAAAAAI/AAAAAAAAAAA/j24q0gq8FHY/photo.jpg?sz=128", "display_name": "saiedmomen", "link": "https://stackoverflow.com/users/4907678/saiedmomen"}, "edited": false, "score": 0, "creation_date": 1511040110, "post_id": 47371148, "comment_id": 81694996, "body": "It doesn&#39;t work. Its returning &#39;sth&#39;. What kind of context would help?"}, {"owner": {"reputation": 1240, "user_id": 4907678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtbORjvk7z8/AAAAAAAAAAI/AAAAAAAAAAA/j24q0gq8FHY/photo.jpg?sz=128", "display_name": "saiedmomen", "link": "https://stackoverflow.com/users/4907678/saiedmomen"}, "edited": false, "score": 1, "creation_date": 1511076070, "post_id": 47371148, "comment_id": 81701675, "body": "now the (first) this argument is pointing to the whole class and not to the inflated view. Turns out the correct answer is &#39;run&#39;. These extension functions need a little getting used to :)"}, {"owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "reply_to_user": {"reputation": 1240, "user_id": 4907678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtbORjvk7z8/AAAAAAAAAAI/AAAAAAAAAAA/j24q0gq8FHY/photo.jpg?sz=128", "display_name": "saiedmomen", "link": "https://stackoverflow.com/users/4907678/saiedmomen"}, "edited": false, "score": 1, "creation_date": 1511078802, "post_id": 47371148, "comment_id": 81702129, "body": "I think you should not use run here - I think let is more correct - just replace this with it"}], "tags": [], "owner": {"reputation": 35330, "user_id": 322642, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/0030846647f93ba6bf0938a199688c2e?s=128&d=identicon&r=PG", "display_name": "ligi", "link": "https://stackoverflow.com/users/322642/ligi"}, "is_accepted": false, "score": 1, "last_activity_date": 1511043298, "last_edit_date": 1511043298, "creation_date": 1511039790, "answer_id": 47371148, "question_id": 47371094, "link": "https://stackoverflow.com/questions/47371094/best-way-to-handle-returns-in-predicate/47371148#47371148", "title": "Best way to handle returns in predicate", "body": "<p>EDIT: after seeing your example:</p>\n\n<pre><code>   override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int)\n=  LayoutInflater.from(parent?.context)\n            .inflate(R.layout.item_category_node, parent, false)\n            .let {\n                CategoryNodeViewHolder(this, this@CategoriesAdapter)\n            }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1240, "user_id": 4907678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtbORjvk7z8/AAAAAAAAAAI/AAAAAAAAAAA/j24q0gq8FHY/photo.jpg?sz=128", "display_name": "saiedmomen", "link": "https://stackoverflow.com/users/4907678/saiedmomen"}, "is_accepted": true, "score": 1, "last_activity_date": 1511076811, "creation_date": 1511076811, "answer_id": 47374639, "question_id": 47371094, "link": "https://stackoverflow.com/questions/47371094/best-way-to-handle-returns-in-predicate/47374639#47374639", "title": "Best way to handle returns in predicate", "body": "<p>The 'run' extension function should be used in these situations. Acording to <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/run.html\" rel=\"nofollow noreferrer\">kotlin docs</a> <strong>run</strong></p>\n\n<blockquote>\n  <p>Calls the specified function block and returns its result.</p>\n</blockquote>\n\n<p>My code looks like this now</p>\n\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): RecyclerView.ViewHolder {\n      return LayoutInflater.from(parent?.context)\n            .inflate(R.layout.item_category_node, parent, false)\n            .run {\n                 CategoryNodeViewHolder(this, this@CategoriesAdapter)\n            }\n    //throw Exception(\"Unkown View type\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8921383"}, "is_accepted": false, "score": 0, "last_activity_date": 1511100774, "creation_date": 1511100774, "answer_id": 47377809, "question_id": 47371094, "link": "https://stackoverflow.com/questions/47371094/best-way-to-handle-returns-in-predicate/47377809#47377809", "title": "Best way to handle returns in predicate", "body": "<p>The apply function already has a return statement of the object it is being called upon, see <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html</a></p>\n\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int) =\n   CategoryNodeViewHolder(\n       LayoutInflater.from(parent?.context).apply{\n       inflate(R.layout.item_category_node, parent, false) \n       }, this@CategoriesAdapter)\n</code></pre>\n\n<p>This is now returning the correct object type for the method, while instantiating the layoutInflater as well as applying the inflation required for the CategoryNodeViewHolder before it is used to instantiate the CategoryNodeViewHolder.</p>\n"}], "owner": {"reputation": 1240, "user_id": 4907678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtbORjvk7z8/AAAAAAAAAAI/AAAAAAAAAAA/j24q0gq8FHY/photo.jpg?sz=128", "display_name": "saiedmomen", "link": "https://stackoverflow.com/users/4907678/saiedmomen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 47374639, "answer_count": 3, "score": -1, "last_activity_date": 1511100774, "creation_date": 1511039447, "last_edit_date": 1511064679, "question_id": 47371094, "link": "https://stackoverflow.com/questions/47371094/best-way-to-handle-returns-in-predicate", "title": "Best way to handle returns in predicate", "body": "<p>When I return a function in a predicate the compiler doesn't register it and still complains </p>\n\n<blockquote>\n  <p>A 'return' expression is required for a function with a block body</p>\n</blockquote>\n\n<p>The solution I found is putting a throw after the predicate.</p>\n\n<pre><code>fun boo(): Int {\n    sth.apply {\n        return sthElse\n    }\n    throw Exception(\"Unkown View type\")\n}\n</code></pre>\n\n<p>I wonder if there is a more gracious way.</p>\n\n<p>p.s: The actual android code</p>\n\n<pre><code>override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): RecyclerView.ViewHolder {\n    LayoutInflater.from(parent?.context)\n            .inflate(R.layout.item_category_node, parent, false)\n            .apply {\n                return CategoryNodeViewHolder(this, this@CategoriesAdapter)\n    }\n    throw Exception(\"View type error\")\n}\n</code></pre>\n"}, {"tags": ["function", "return", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 4974, "user_id": 757293, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7529ae96ba82a11bc6fbbbdb86e5b561?s=128&d=identicon&r=PG", "display_name": "Vincent Hiribarren", "link": "https://stackoverflow.com/users/757293/vincent-hiribarren"}, "edited": false, "score": 0, "creation_date": 1511040071, "post_id": 47371111, "comment_id": 81694978, "body": "Very good other example with the lambda type. In an afterthought I thought using the &quot;=&quot; version of function was not the good way, but it seems there are other valid cases where it can be a problem."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 12, "last_activity_date": 1511039583, "creation_date": 1511039583, "answer_id": 47371111, "question_id": 47370414, "link": "https://stackoverflow.com/questions/47370414/how-to-convert-function-output-to-unit-with-kotlin/47371111#47371111", "title": "How to convert function output to Unit with Kotlin", "body": "<p>Unfortunaly, there's no <em>idiomatic</em> way to do this. A similiar problem, passing a lambda of type <code>(T) -&gt; Boolean</code> to a function accepting <code>(T) -&gt; Unit</code> lambdas has come up before, and the auto conversion required there is supposed to come to the language at some future point.</p>\n\n<p>For now, you could use an extension function at the end of the <code>when</code> expression to coerce it back into a <code>Unit</code> value:</p>\n\n<pre><code>fun Any?.toUnit() = Unit\n\nfun foo(bar: Int): Unit = when(bar) {\n    0 -&gt; println(\"0\")\n    else -&gt; printAndReturnTrue(bar)\n}.toUnit()\n</code></pre>\n\n<p>Alternatively, an extension property, if you happen to like that better:</p>\n\n<pre><code>val Any?.unit get() = Unit\n\nfun foo(bar: Int): Unit = when(bar) {\n    0 -&gt; println(\"0\")\n    else -&gt; printAndReturnTrue(bar)\n}.unit\n</code></pre>\n\n<p>Of course you can omit the explicit <code>Unit</code> return type of the function if you use either of these.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 3, "last_activity_date": 1511075247, "creation_date": 1511075247, "answer_id": 47374498, "question_id": 47370414, "link": "https://stackoverflow.com/questions/47370414/how-to-convert-function-output-to-unit-with-kotlin/47374498#47374498", "title": "How to convert function output to Unit with Kotlin", "body": "<p>I think the last is most idiomatic. Though you don't need explicit <code>: Unit</code>, it's the default for block form if no return type is specified and if you try to return something else you'll get an error.</p>\n\n<p>But note a subtle detail: when <code>when</code> is used as an expression, <code>else</code> is required unless the compiler can prove all cases are handled; in the block form it's \"used as a statement\" and unhandled cases are ignored.</p>\n"}, {"comments": [{"owner": {"reputation": 405, "user_id": 10205276, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-tcA58UkXv8g/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7o_Nlq4xF8S6JRC3U3groYIgtxZcg/mo/photo.jpg?sz=128", "display_name": "Ond\u0159ej Fischer", "link": "https://stackoverflow.com/users/10205276/ond%c5%99ej-fischer"}, "edited": false, "score": 0, "creation_date": 1547237490, "post_id": 47775113, "comment_id": 95137837, "body": "For better readability the method can be named <code>toUnit</code>. It can even accept the value, not lambda: <code>fun toUnit(value: Any?): Unit {}</code> and the usage: <code>else -&gt; toUnit(printAndReturnTrue(bar))</code>"}], "tags": [], "owner": {"reputation": 2811, "user_id": 1461602, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/zD5wZ.jpg?s=128&g=1", "display_name": "Tormod Haugene", "link": "https://stackoverflow.com/users/1461602/tormod-haugene"}, "is_accepted": false, "score": 3, "last_activity_date": 1513089255, "creation_date": 1513089255, "answer_id": 47775113, "question_id": 47370414, "link": "https://stackoverflow.com/questions/47370414/how-to-convert-function-output-to-unit-with-kotlin/47775113#47775113", "title": "How to convert function output to Unit with Kotlin", "body": "<p>As another alternative, you could make a higher order function that swallows the output of the function returning a value:</p>\n\n<pre><code>fun consume (fn: () -&gt; Any): Unit {\n  fn()\n}\n</code></pre>\n\n<p>Giving:</p>\n\n<pre><code>fun foo(bar: Int): Unit = when(bar) {\n    0 -&gt; println(\"0\")\n    else -&gt; consume { printAndReturnTrue(bar) }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 139, "user_id": 8906559, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5Ab0utahFc0/AAAAAAAAAAI/AAAAAAAAAgs/3tA3zNHsqlY/photo.jpg?sz=128", "display_name": "Sua Le", "link": "https://stackoverflow.com/users/8906559/sua-le"}, "is_accepted": false, "score": 0, "last_activity_date": 1513090448, "creation_date": 1513090448, "answer_id": 47775511, "question_id": 47370414, "link": "https://stackoverflow.com/questions/47370414/how-to-convert-function-output-to-unit-with-kotlin/47775511#47775511", "title": "How to convert function output to Unit with Kotlin", "body": "<p>I think you should change return type of function to optional, it's more clear, like below:</p>\n\n<pre><code>fun printAndReturnTrue(bar: Int): Boolean {\n    println(bar)\n    return true\n}\n\nfun foo(bar: Int): Unit? = when(bar) {\n    0 -&gt; println(\"0\")\n    else -&gt; printAndReturnTrue(bar) as? Unit\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 8966116, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6d350b55b96de4f22bd0a6d33be52d2?s=128&d=identicon&r=PG&f=1", "display_name": "BugInMyHEAD", "link": "https://stackoverflow.com/users/8966116/buginmyhead"}, "is_accepted": false, "score": 1, "last_activity_date": 1563642312, "creation_date": 1563642312, "answer_id": 57126897, "question_id": 47370414, "link": "https://stackoverflow.com/questions/47370414/how-to-convert-function-output-to-unit-with-kotlin/57126897#57126897", "title": "How to convert function output to Unit with Kotlin", "body": "<p>I just use a semicolon if I write in a line.</p>\n\n<pre><code>someExpression; Unit\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 528, "user_id": 3065615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ec941a893c43d4ffc4849e83cc374acf?s=128&d=identicon&r=PG&f=1", "display_name": "zarsky", "link": "https://stackoverflow.com/users/3065615/zarsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1581641044, "creation_date": 1581641044, "answer_id": 60218515, "question_id": 47370414, "link": "https://stackoverflow.com/questions/47370414/how-to-convert-function-output-to-unit-with-kotlin/60218515#60218515", "title": "How to convert function output to Unit with Kotlin", "body": "<p>You could also do something like</p>\n\n<pre><code>fun foo(bar: Int): Unit = when(bar) {\n    0 -&gt; println(\"0\")\n    else -&gt; printAndReturnTrue(bar).let{ Unit }\n}\n</code></pre>\n"}], "owner": {"reputation": 4974, "user_id": 757293, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/7529ae96ba82a11bc6fbbbdb86e5b561?s=128&d=identicon&r=PG", "display_name": "Vincent Hiribarren", "link": "https://stackoverflow.com/users/757293/vincent-hiribarren"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2149, "favorite_count": 2, "answer_count": 6, "score": 8, "last_activity_date": 1581641044, "creation_date": 1511035067, "last_edit_date": 1511035476, "question_id": 47370414, "link": "https://stackoverflow.com/questions/47370414/how-to-convert-function-output-to-unit-with-kotlin", "title": "How to convert function output to Unit with Kotlin", "body": "<p>I have troubles with a function in Kotlin that should return Unit, but due to a usage of another function returning a Boolean, there is a type mismatch.</p>\n\n<p>Here is a contrived example:</p>\n\n<pre><code>fun printAndReturnTrue(bar: Int): Boolean {\n    println(bar)\n    return true\n}\n\nfun foo(bar: Int): Unit = when(bar) {\n    0 -&gt; println(\"0\")\n    else -&gt; printAndReturnTrue(bar)\n}\n</code></pre>\n\n<p>Here, I actually do not care about the fact that <code>printAndReturnTrue</code> returns a boolean. I just want foo to perform side-effect operations. But the compiler warns about a type mismatch: my <code>else</code> should return a <code>Unit</code> value.</p>\n\n<p>Is there a nice way to convert a value to <code>Unit</code>?</p>\n\n<p>The simplest solutions I see are:</p>\n\n<pre><code>fun foo(bar: Int): Unit = when(bar) {\n    0 -&gt; println(\"0\")\n    else -&gt; { \n        printAndReturnTrue(bar)\n        Unit\n    }\n}\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>fun foo(bar: Int): Unit = when(bar) {\n    0 -&gt; println(\"0\")\n    else -&gt; eraseReturnValue(printAndReturnTrue(bar))\n}\n\nfun eraseReturnValue(value: Any) = Unit\n</code></pre>\n\n<p>Or I use the full function form:</p>\n\n<pre><code>fun foo(bar: Int): Unit { \n    when(bar) {\n        0 -&gt; println(\"0\")\n        else -&gt; printAndReturnTrue(bar)\n    }\n}\n</code></pre>\n\n<p>I am sure there are some idiomatic ways to do that (or is is the last example?), but for now I did not find them.</p>\n"}, {"tags": ["android", "xml", "view", "kotlin"], "comments": [{"owner": {"reputation": 587, "user_id": 7866996, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-r2ZQbtU8DqE/AAAAAAAAAAI/AAAAAAAAAEc/uRFF1MzCYJU/photo.jpg?sz=128", "display_name": "Patryk Jab\u0142o\u0144ski", "link": "https://stackoverflow.com/users/7866996/patryk-jab%c5%82o%c5%84ski"}, "edited": false, "score": 2, "creation_date": 1511032278, "post_id": 47369926, "comment_id": 81692473, "body": "The answer is RecyclerView"}, {"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "reply_to_user": {"reputation": 587, "user_id": 7866996, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh3.googleusercontent.com/-r2ZQbtU8DqE/AAAAAAAAAAI/AAAAAAAAAEc/uRFF1MzCYJU/photo.jpg?sz=128", "display_name": "Patryk Jab\u0142o\u0144ski", "link": "https://stackoverflow.com/users/7866996/patryk-jab%c5%82o%c5%84ski"}, "edited": false, "score": 0, "creation_date": 1511032385, "post_id": 47369926, "comment_id": 81692519, "body": "@PatrykJab\u0142o\u0144ski oh nice I didnt know there was something like that since it wasnt inside the Palette"}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1511043250, "post_id": 47369926, "comment_id": 81695961, "body": "what have you tried so far? post your code."}, {"owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "reply_to_user": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1511047253, "post_id": 47369926, "comment_id": 81696928, "body": "@MalwinderSingh i got it figured out its alright"}, {"owner": {"reputation": 5646, "user_id": 2021812, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/MehDl.jpg?s=128&g=1", "display_name": "Malwinder Singh", "link": "https://stackoverflow.com/users/2021812/malwinder-singh"}, "edited": false, "score": 0, "creation_date": 1511047289, "post_id": 47369926, "comment_id": 81696935, "body": "@Kisokare answer this question then. post your answer below."}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "is_accepted": true, "score": 0, "last_activity_date": 1511093781, "creation_date": 1511093781, "answer_id": 47376732, "question_id": 47369926, "link": "https://stackoverflow.com/questions/47369926/how-to-put-multiple-boxes-next-to-each-other-in-a-vertically-scrollable-view-in/47376732#47376732", "title": "How to put multiple boxes next to each other in a vertically scrollable view in Android Studio?", "body": "<p>Alright guys, I found the answer.\nI used a RecyclerView and I pushed my boxes into the RecyclerView like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/i9VCg.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"}], "owner": {"reputation": 53, "user_id": 8877216, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EpVtK.png?s=128&g=1", "display_name": "KrisKodira", "link": "https://stackoverflow.com/users/8877216/kriskodira"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 47376732, "answer_count": 1, "score": -2, "last_activity_date": 1511093781, "creation_date": 1511031930, "last_edit_date": 1511071974, "question_id": 47369926, "link": "https://stackoverflow.com/questions/47369926/how-to-put-multiple-boxes-next-to-each-other-in-a-vertically-scrollable-view-in", "title": "How to put multiple boxes next to each other in a vertically scrollable view in Android Studio?", "body": "<p>I have a problem. I am still a beginner with Android Development.\nI made a ScrollView and now it looks like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/guhZr.png\" alt=\"Screenshot of ScrollView with white boxes\"></p>\n\n<p>But I want to have 3 x N  boxes in a vertically scrollable view like this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/n9zpj.jpg\" alt=\"Drawing of the scrollable view I want\"></p>\n\n<p>How can I achieve this?</p>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1511090622, "post_id": 47369315, "comment_id": 81704707, "body": "what are you using kapt for ?"}, {"owner": {"reputation": 28310, "user_id": 1642079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/OheTJ.jpg?s=128&g=1", "display_name": "Chad Bingham", "link": "https://stackoverflow.com/users/1642079/chad-bingham"}, "reply_to_user": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1511112043, "post_id": 47369315, "comment_id": 81711566, "body": "@crgarridos I am using kapt for Dagger and Android Lifecycle"}, {"owner": {"reputation": 28310, "user_id": 1642079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/OheTJ.jpg?s=128&g=1", "display_name": "Chad Bingham", "link": "https://stackoverflow.com/users/1642079/chad-bingham"}, "reply_to_user": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1511115227, "post_id": 47369315, "comment_id": 81712839, "body": "Oh, and databinding"}], "owner": {"reputation": 28310, "user_id": 1642079, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/OheTJ.jpg?s=128&g=1", "display_name": "Chad Bingham", "link": "https://stackoverflow.com/users/1642079/chad-bingham"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 147, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1511028757, "creation_date": 1511028066, "last_edit_date": 1511028757, "question_id": 47369315, "link": "https://stackoverflow.com/questions/47369315/android-studio-and-kotlin-not-loading-changes", "title": "Android Studio and Kotlin - not loading changes", "body": "<p>To load a fresh APK I am required to clean <em>every time</em> before building. It is like the compiler isn't noticing my code changes. </p>\n\n<p>Here are my configurations:</p>\n\n<ul>\n<li>My project is entirely in Kotlin</li>\n<li>Kotlin version 1.1.60</li>\n<li>Gradle version 4.4</li>\n<li>Android Build Tools version 3.1.0-alpha04</li>\n<li>Android Studio 3.0 (stable)</li>\n<li>Java 8</li>\n<li>Databinding is enabled</li>\n<li>Using Kapt </li>\n<li>Instant run is disabled </li>\n</ul>\n\n<p>I haven't confirmed if Java code would show the same problems or not.</p>\n\n<p>Has anyone seen this and found a way around it?  </p>\n"}, {"tags": ["android", "validation", "kotlin", "android-databinding"], "answers": [{"tags": [], "owner": {"reputation": 6459, "user_id": 1820644, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ca7cb3fa8045dcc37490bcb4cbb09cef?s=128&d=identicon&r=PG", "display_name": "kirtan403", "link": "https://stackoverflow.com/users/1820644/kirtan403"}, "is_accepted": true, "score": 1, "last_activity_date": 1511027368, "creation_date": 1511027368, "answer_id": 47369192, "question_id": 47369053, "link": "https://stackoverflow.com/questions/47369053/error-in-data-binding-validator-by-ilhasoft-kotlin/47369192#47369192", "title": "Error in data-binding-validator by Ilhasoft + Kotlin", "body": "<p><code>validate</code> is the id of the button in the example of the library.</p>\n\n<p>You should use the id of the button, on which you want to validate. I think it is <code>new_user_button</code>.</p>\n\n<p>So with binding, it should be like <code>newUserButton</code>.</p>\n\n<p>So your full example will be like:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n    val view = inflater.inflate(R.layout.fragment_cadastrar_user, null)\n\n    //Binding Api\n    val binding: FragmentCadastrarUserBinding = DataBindingUtil.setContentView(activity as Activity, R.layout.fragment_cadastrar_user)\n    val  validator =  Validator(binding);\n\n    // CHANGE IN BELOW LINE\n    binding.newUserButton.setOnClickListener(View.OnClickListener {\n        if (validator.validate()) {\n            registerUser()\n        }\n    })\n\n    binding.setUser(user);\n\n    view.user_phone.addTextChangedListener(PhoneNumberFormattingTextWatcher())\n\n    return view\n}\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 1558481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b177abc82a2ebfdc4f7a5afe957a4c58?s=128&d=identicon&r=PG", "display_name": "Janderson Almeida", "link": "https://stackoverflow.com/users/1558481/janderson-almeida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 543, "favorite_count": 0, "accepted_answer_id": 47369192, "answer_count": 1, "score": 1, "last_activity_date": 1511027368, "creation_date": 1511026605, "last_edit_date": 1511026865, "question_id": 47369053, "link": "https://stackoverflow.com/questions/47369053/error-in-data-binding-validator-by-ilhasoft-kotlin", "title": "Error in data-binding-validator by Ilhasoft + Kotlin", "body": "<p>I'm trying to use the Android library  <a href=\"https://github.com/Ilhasoft/data-binding-validator\" rel=\"nofollow noreferrer\">\"Data Binding Validator by Ilhasoft\"</a> with Kotlin, but I'm getting this error: Unresolved reference: validate.</p>\n\n<p>That is my root build.gradle:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.60'\n    ext.android_plugin_version = '3.0.0'\n    ext.data_binding_validator_verson = '1.0.0'\n    repositories {\n        jcenter()\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"  \n\n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        maven { url 'https://jitpack.io' }\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>That is my APP build.gradle:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 27\n    buildToolsVersion \"27.0.0\"\n    defaultConfig {\n        applicationId \"com.main.janderson.meuapp\"\n        minSdkVersion 16\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n        vectorDrawables.useSupportLibrary = true\n\n        multiDexEnabled true\n\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n     dataBinding {\n        enabled = true\n    }\n}\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n    androidTestCompile('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })  \n\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    kapt \"com.android.databinding:compiler:$android_plugin_version\"\n    compile \"com.github.Ilhasoft:data-binding-validator:$data_binding_validator_verson\"\n}\nrepositories {\n    mavenCentral()\n    google()\n}\n\nkapt {\n    generateStubs = true\n}\n</code></pre>\n\n<p>That is my fragment_cadastrar_user:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;data&gt;\n        &lt;variable\n            name=\"user\"\n            type=\"com.main.janderson.meuapp.model.User\" /&gt;\n    &lt;/data&gt;\n\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"\n        android:paddingBottom=\"@dimen/activity_vertical_margin\"\n        android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n        android:paddingRight=\"@dimen/activity_horizontal_margin\"\n        android:paddingTop=\"@dimen/activity_vertical_margin\"&gt;\n\n        &lt;ProgressBar\n            android:id=\"@+id/cadastrar_user_progress\"\n            style=\"?android:attr/progressBarStyleLarge\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"center\"\n            android:layout_marginBottom=\"@dimen/activity_vertical_margin\"\n            android:visibility=\"gone\" /&gt;\n\n        &lt;ScrollView\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"&gt;\n\n            &lt;LinearLayout\n                android:id=\"@+id/cadastrar_form\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:orientation=\"vertical\"&gt;\n\n                &lt;android.support.design.widget.TextInputLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"&gt;\n\n                    &lt;EditText\n                        android:id=\"@+id/first_name_user\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:hint=\"@string/first_name\"\n                        android:inputType=\"textCapSentences\"\n                        android:lines=\"1\"\n                        android:maxLength=\"30\"\n                        android:maxLines=\"1\"\n                        android:text=\"@{user.firstName}\"\n                        app:validateEmpty=\"@{false}\" /&gt;\n\n                &lt;/android.support.design.widget.TextInputLayout&gt;\n\n                &lt;android.support.design.widget.TextInputLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"&gt;\n\n                    &lt;EditText\n                        android:id=\"@+id/last_name_user\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:hint=\"@string/last_name\"\n                        android:inputType=\"textCapSentences\"\n                        android:lines=\"1\"\n                        android:maxLength=\"30\"\n                        android:maxLines=\"1\"\n                        android:text=\"@{user.lastName}\"\n                        app:validateEmpty=\"@{false}\" /&gt;\n\n                &lt;/android.support.design.widget.TextInputLayout&gt;\n\n                &lt;android.support.design.widget.TextInputLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"&gt;\n\n                    &lt;EditText\n                        android:id=\"@+id/user_email\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:hint=\"@string/prompt_email\"\n                        android:inputType=\"textEmailAddress\"\n                        android:lines=\"1\"\n                        android:maxLength=\"100\"\n                        android:maxLines=\"1\"\n                        android:text=\"@{user.email}\"\n                        app:validateType='@{\"email\"}' /&gt;\n\n                &lt;/android.support.design.widget.TextInputLayout&gt;\n\n                &lt;android.support.design.widget.TextInputLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"&gt;\n\n                    &lt;EditText\n                        android:id=\"@+id/user_phone\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:hint=\"@string/phone\"\n                        android:inputType=\"phone\"\n                        android:lines=\"1\"\n                        android:maxLength=\"20\"\n                        android:maxLines=\"1\"\n                        android:text=\"@{user.phone}\" /&gt;\n\n                &lt;/android.support.design.widget.TextInputLayout&gt;\n\n                &lt;android.support.design.widget.TextInputLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"&gt;\n\n                    &lt;EditText\n                        android:id=\"@+id/user_pass\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:hint=\"@string/prompt_password\"\n                        android:inputType=\"textPassword\"\n                        android:lines=\"1\"\n                        android:maxLength=\"20\"\n                        android:maxLines=\"1\"\n                        android:text=\"@{user.password}\"\n                        app:validateMinLength=\"@{4}\" /&gt;\n\n                &lt;/android.support.design.widget.TextInputLayout&gt;\n\n                &lt;android.support.design.widget.TextInputLayout\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"&gt;\n\n                    &lt;EditText\n                        android:id=\"@+id/user_confir_pass\"\n                        android:layout_width=\"match_parent\"\n                        android:layout_height=\"wrap_content\"\n                        android:hint=\"@string/prompt_repeat_password\"\n                        android:imeActionLabel=\"@string/cadastrar\"\n                        android:imeOptions=\"actionUnspecified\"\n                        android:inputType=\"textPassword\"\n                        android:lines=\"1\"\n                        android:maxLength=\"20\"\n                        android:maxLines=\"1\" /&gt;\n\n                &lt;/android.support.design.widget.TextInputLayout&gt;\n\n                &lt;Button\n                    android:id=\"@+id/new_user_button\"\n                    style=\"?android:textAppearanceSmall\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginTop=\"16dp\"\n                    android:text=\"@string/cadastrar\"\n                    android:textStyle=\"bold\" /&gt;\n            &lt;/LinearLayout&gt;\n        &lt;/ScrollView&gt;\n    &lt;/LinearLayout&gt;\n&lt;/layout&gt;\n</code></pre>\n\n<p>And to finish that is my onCreateView in my Fragment:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n    val view = inflater.inflate(R.layout.fragment_cadastrar_user, null)\n\n    //Binding Api\n    val binding: FragmentCadastrarUserBinding = DataBindingUtil.setContentView(activity as Activity, R.layout.fragment_cadastrar_user)\n    val  validator =  Validator(binding);\n\n    binding.validate.setOnClickListener(View.OnClickListener {\n        if (validator.validate()) {\n            registerUser()\n        }\n    })\n\n    binding.setUser(user);\n\n    view.user_phone.addTextChangedListener(PhoneNumberFormattingTextWatcher())\n\n    return view\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/G41Z3.png\" rel=\"nofollow noreferrer\">And to complement this is a picture with my error.</a></p>\n\n<p>Could someone help me on this.\nThanks!</p>\n"}, {"tags": ["kotlin", "rx-java", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1511025868, "post_id": 47368855, "comment_id": 81690181, "body": "Thanks, i am trying to model solution for situtation like this, that i have 2 other reactive repositories which provides me Observable object of the same parent and i need to merge/buffer them and do something with them every 10 seconds or so. I do this to prevent multiple calls to db or so. Those 2 reactive repositories will be connectableObservables, which i will start to listen to it. Can you provide me the correct answer if you know how to achive this? So this is a playground on which i will be based my other same situtation."}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1511026027, "post_id": 47368855, "comment_id": 81690232, "body": "I want to base on my question solution, want to use that merge operator which buffers them every 10 seconds. Those 2 streams that i need to connect will be connectableObserables, to be specific those are 2 repositories that one delivers me Observable&lt;Location&gt; and other some other object, they have the same Parent class."}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1511026352, "post_id": 47368855, "comment_id": 81690340, "body": "So i guess i need to remove invoking subscribe on them, and just subscribe once in my zip/buffer Observable. Then it will work as i expect i guess"}, {"owner": {"reputation": 10052, "user_id": 763935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/510b0219cf16bff4e861741bde8cff25?s=128&d=identicon&r=PG", "display_name": "david.mihola", "link": "https://stackoverflow.com/users/763935/david-mihola"}, "reply_to_user": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "edited": false, "score": 0, "creation_date": 1511026481, "post_id": 47368855, "comment_id": 81690380, "body": "Yes, that&#39;s one way to do it. If you do need multiple subscribers for each source, you could add <code>.share()</code> at the end of the defintion of both <code>periodicSomeClass1</code> and <code>periodicSomeClass2</code>."}], "tags": [], "owner": {"reputation": 10052, "user_id": 763935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/510b0219cf16bff4e861741bde8cff25?s=128&d=identicon&r=PG", "display_name": "david.mihola", "link": "https://stackoverflow.com/users/763935/david-mihola"}, "is_accepted": false, "score": 1, "last_activity_date": 1511025607, "creation_date": 1511025607, "answer_id": 47368855, "question_id": 47368711, "link": "https://stackoverflow.com/questions/47368711/why-i-have-undesired-log-output-when-merging-2-observables-into-other-observable/47368855#47368855", "title": "Why i have undesired Log output when merging 2 observables into other Observable, which buffers them every 10 seconds", "body": "<p>Like you correctly suspected in <a href=\"https://stackoverflow.com/a/47368625/763935\">the comment on your other question</a>, this problem is indeed related.</p>\n\n<p>1.) You are subscribing twice to both of your source observables, once directly for each of them and once through the subscription to the <code>merge</code>d Observable.</p>\n\n<p>2.) So you then have four Observables running in total, where two of them are incrementing (and reading from) <code>counter</code> and the other two are incrementing (and reading from) <code>counter2</code>.</p>\n\n<p>3.) For each of these pairs the two intervals are ever so slightly offset and each <code>flatMap</code> from the first of each pair sees the value <code>n</code>, increments it to <code>n+1</code> and prints it. Then shortly afterwards, the other instance comes along and sees <code>n+1</code>, increments to <code>n+2</code>, prints that, etc.</p>\n\n<p>Finally, the <code>buffer</code> hides that all of this happens interleaved because it prints all the even values after all the odd ones.</p>\n\n<p>Any solution really depends on what you want to achieve - is this just a playground example, or does it model some real problem?</p>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1511025607, "creation_date": 1511024730, "last_edit_date": 1511025030, "question_id": 47368711, "link": "https://stackoverflow.com/questions/47368711/why-i-have-undesired-log-output-when-merging-2-observables-into-other-observable", "title": "Why i have undesired Log output when merging 2 observables into other Observable, which buffers them every 10 seconds", "body": "<p>I am trying to simulate merging 2 different Observable streams, which are emitting some object every second. This object has the same Parent in those 2 streams.</p>\n\n<p>I thought, that in the console will appear new object with value after 1 second.\nHowever, when i print those objects, i get objects that skipped the previous emission. So like object with value 1, 3, 5, 7 etc.</p>\n\n<p>However, in the buffer, which merges those two it seems that it only buffer the 2, 4, 6, 8 etc. emissions.</p>\n\n<p>Here is my code:</p>\n\n<pre><code> override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    var counter = 0\n    var counter2 = 0\n\n\n    val periodicSomeClass1 = Observable.interval(1, TimeUnit.SECONDS)\n            .flatMap(\n                    {\n                        counter++\n                        Observable.just(SomeClass1(\"$counter\", counter))\n                    }\n            )\n\n    val periodicSomeClass2 = Observable.interval(1, TimeUnit.SECONDS)\n            .flatMap(\n                    {\n                        counter2++\n                        Observable.just(SomeClass2(counter2.toDouble()))\n                    }\n            )\n\n    periodicSomeClass1.subscribe { t: SomeClass1 -&gt; Log.v(\"periodicSomeClass1\", t.toString())  }\n    periodicSomeClass2.subscribe { t: SomeClass2 -&gt; Log.v(\"periodicSomeClass2\", t.toString())  }\n\n\n    Observable.merge(periodicSomeClass1, periodicSomeClass2)\n            .buffer(10, TimeUnit.SECONDS)\n            .doOnSubscribe { Log.v(\"bufferObservable\", \"STARTED\") }\n            .subscribe { t: MutableList&lt;Parent&gt; -&gt;\n                Log.v(\"bufferObservable\", \"onNext\")\n                t.forEach { Log.v(\"onNext\", it.toString()) }\n            }\n}\n</code></pre>\n\n<p>And here is what i have in the Log output with first buffer/merge emsission:</p>\n\n<pre><code> V/periodicSomeClass1: SomeClass1(a=1, b=1)\n V/periodicSomeClass2: SomeClass2(a=1.0)\n V/periodicSomeClass1: SomeClass1(a=3, b=3)\n V/periodicSomeClass2: SomeClass2(a=3.0)\n V/periodicSomeClass1: SomeClass1(a=5, b=5)\n V/periodicSomeClass2: SomeClass2(a=5.0)\n V/periodicSomeClass1: SomeClass1(a=7, b=7)\n V/periodicSomeClass2: SomeClass2(a=7.0)\n V/periodicSomeClass1: SomeClass1(a=9, b=9)\n V/periodicSomeClass2: SomeClass2(a=9.0)\n V/periodicSomeClass1: SomeClass1(a=11, b=11)\n V/periodicSomeClass2: SomeClass2(a=11.0)\n V/periodicSomeClass1: SomeClass1(a=13, b=13)\n V/periodicSomeClass2: SomeClass2(a=13.0)\n V/periodicSomeClass1: SomeClass1(a=15, b=15)\n V/periodicSomeClass2: SomeClass2(a=15.0)\n V/periodicSomeClass1: SomeClass1(a=17, b=17)\n V/periodicSomeClass2: SomeClass2(a=17.0)\n V/periodicSomeClass1: SomeClass1(a=19, b=19)\n V/periodicSomeClass2: SomeClass2(a=19.0)\n V/bufferObservable: onNext\n V/onNext: SomeClass1(a=2, b=2)\n V/onNext: SomeClass2(a=2.0)\n V/onNext: SomeClass1(a=4, b=4)\n V/onNext: SomeClass2(a=4.0)\n V/onNext: SomeClass1(a=6, b=6)\n V/onNext: SomeClass2(a=6.0)\n V/onNext: SomeClass1(a=8, b=8)\n V/onNext: SomeClass2(a=8.0)\n V/onNext: SomeClass1(a=10, b=10)\n V/onNext: SomeClass2(a=10.0)\n V/onNext: SomeClass1(a=12, b=12)\n V/onNext: SomeClass2(a=12.0)\n V/onNext: SomeClass1(a=14, b=14)\n V/onNext: SomeClass2(a=14.0)\n V/onNext: SomeClass1(a=16, b=16)\n V/onNext: SomeClass2(a=16.0)\n V/onNext: SomeClass1(a=18, b=18)\n</code></pre>\n"}, {"tags": ["java", "arrays", "list", "kotlin", "arraylist"], "answers": [{"comments": [{"owner": {"reputation": 604, "user_id": 7780211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rP7pt.jpg?s=128&g=1", "display_name": "Misho Tek", "link": "https://stackoverflow.com/users/7780211/misho-tek"}, "edited": false, "score": 1, "creation_date": 1511024059, "post_id": 47368543, "comment_id": 81689511, "body": "I&#39;ve pasted your code and run it, but I&#39;m getting &quot;Error:(6, 50) Kotlin: Type mismatch: inferred type is ArrayList&lt;ArrayList&lt;Int&gt;&gt; but MutableList&lt;MutableList&lt;Int&gt;&gt; was expected&quot;"}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 3, "creation_date": 1511026216, "post_id": 47368543, "comment_id": 81690287, "body": "Since <code>MutableList&lt;T&gt;</code> is in variant on <code>T</code>, <code>MutableList&lt;ArrayList&lt;Int&gt;&gt;</code> is not assignable to <code>MutableList&lt;MutableList&lt;Int&gt;&gt;</code>, neither is <code>ArrayList&lt;ArrayList&lt;Int&gt;&gt;</code>. Instead, use <code>ArrayList&lt;MutableList&lt;Int&gt;&gt;()</code> on the right hand side, or omit the type argument to make the compiler infer it: just <code>ArrayList()</code>"}, {"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "reply_to_user": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 2, "creation_date": 1511027264, "post_id": 47368543, "comment_id": 81690687, "body": "Oops, my bad, should&#39;ve tried running the code. You can do what @hotkey suggested, I&#39;ll update my answer."}, {"owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "edited": false, "score": 2, "creation_date": 1521032346, "post_id": 47368543, "comment_id": 85559216, "body": "I&#39;d like to add that there&#39;s another function in the standard library since Kotlin 1.1 which might be useful here: the factory function <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list.html\" rel=\"nofollow noreferrer\"><code>MutableList(n) { ... }</code></a>"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 7, "last_activity_date": 1511027339, "last_edit_date": 1511027339, "creation_date": 1511023616, "answer_id": 47368543, "question_id": 47368503, "link": "https://stackoverflow.com/questions/47368503/resizeable-two-dimensional-array-in-kotlin/47368543#47368543", "title": "Resizeable two-dimensional array in Kotlin", "body": "<p>Kotlin has separate <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html\" rel=\"noreferrer\"><code>List</code></a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/index.html\" rel=\"noreferrer\"><code>MutableList</code></a> interfaces, as explained <a href=\"https://stackoverflow.com/a/33732403/4465208\">here</a>, for example. <code>ArrayList</code> is a <code>MutableList</code>, you just have to save it as a <code>MutableList</code> variable in order to be able to access methods that mutate it:</p>\n\n<pre><code>val seqList: MutableList&lt;MutableList&lt;Int&gt;&gt; = ArrayList() // alternatively: = mutableListOf()\n\nseqList.add(mutableListOf&lt;Int&gt;(1, 2, 3))\n</code></pre>\n\n<p>Also note the <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/mutable-list-of.html\" rel=\"noreferrer\"><code>mutableListOf</code></a> and <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/array-list-of.html\" rel=\"noreferrer\"><code>arrayListOf</code></a> methods in the standard library, which are handy for creating lists instead of directly using the constructor of, say, <code>ArrayList</code>.</p>\n"}], "owner": {"reputation": 604, "user_id": 7780211, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rP7pt.jpg?s=128&g=1", "display_name": "Misho Tek", "link": "https://stackoverflow.com/users/7780211/misho-tek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2558, "favorite_count": 1, "accepted_answer_id": 47368543, "answer_count": 1, "score": 5, "last_activity_date": 1577143295, "creation_date": 1511023435, "last_edit_date": 1577143295, "question_id": 47368503, "link": "https://stackoverflow.com/questions/47368503/resizeable-two-dimensional-array-in-kotlin", "title": "Resizeable two-dimensional array in Kotlin", "body": "<p><strong>I want to know how to make a resizeable two-dimensional array in Kotlin.</strong></p>\n\n<p>C++ example: <code>vector&lt; vector&lt;int&gt; &gt; my_vector</code></p>\n\n<p>What I've tried: <code>var seqList: List&lt;List&lt;Int&gt;&gt; = ArrayList&lt;ArrayList&lt;Int&gt;&gt;()</code></p>\n\n<p>but I'm getting an error when using seqList.add()</p>\n\n<blockquote>\n  <p>error: unresolved reference: add    </p>\n</blockquote>\n\n<p>I have read some questions regarding 2d arrays in Kotlin at stackoverflow, but they are about not-resizeable arrays or are outdated  </p>\n"}, {"tags": ["json", "kotlin", "ignore", "serialization", "moshi"], "answers": [{"comments": [{"owner": {"reputation": 759, "user_id": 7987329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fUTZ5.jpg?s=128&g=1", "display_name": "heisen", "link": "https://stackoverflow.com/users/7987329/heisen"}, "edited": false, "score": 1, "creation_date": 1511023509, "post_id": 47368493, "comment_id": 81689307, "body": "Works like a charm. Thanks!!"}, {"owner": {"reputation": 1537, "user_id": 2784634, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mj9we.png?s=128&g=1", "display_name": "M.Noman", "link": "https://stackoverflow.com/users/2784634/m-noman"}, "edited": false, "score": 1, "creation_date": 1541751555, "post_id": 47368493, "comment_id": 93330925, "body": "This is not working when expected fields do not come in JSON response."}, {"owner": {"reputation": 366, "user_id": 2434367, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/RCdhF.jpg?s=128&g=1", "display_name": "Dhruv Sangvikar", "link": "https://stackoverflow.com/users/2434367/dhruv-sangvikar"}, "edited": false, "score": 2, "creation_date": 1561073525, "post_id": 47368493, "comment_id": 99955176, "body": "Also, make sure you provide a default value. Otherwise, it might throw an error."}], "tags": [], "owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "is_accepted": true, "score": 40, "last_activity_date": 1511023400, "creation_date": 1511023400, "answer_id": 47368493, "question_id": 47368437, "link": "https://stackoverflow.com/questions/47368437/moshi-ignore-field-in-kotlin/47368493#47368493", "title": "Moshi ignore field in Kotlin", "body": "<p>Use the <code>@Transient</code> annotation.</p>\n\n<pre><code>@Transient\nprivate val your_variable_name: String\n</code></pre>\n\n<p>Doc here: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-transient/index.html\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-transient/index.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 363, "user_id": 913451, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/baab20635feb447cc99035b12a735fe8?s=128&d=identicon&r=PG", "display_name": "nevieandphil", "link": "https://stackoverflow.com/users/913451/nevieandphil"}, "edited": false, "score": 0, "creation_date": 1617804431, "post_id": 56066118, "comment_id": 118409570, "body": "Ie:   <code>@Transient @Json(name= &quot;snow&quot;) val snowVolume: Int? = null</code>"}], "tags": [], "owner": {"reputation": 111, "user_id": 8598718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/82332e38cdf8e1d8c83fcc1f465a72b0?s=128&d=identicon&r=PG&f=1", "display_name": "Bellan", "link": "https://stackoverflow.com/users/8598718/bellan"}, "is_accepted": false, "score": 1, "last_activity_date": 1557429004, "creation_date": 1557429004, "answer_id": 56066118, "question_id": 47368437, "link": "https://stackoverflow.com/questions/47368437/moshi-ignore-field-in-kotlin/56066118#56066118", "title": "Moshi ignore field in Kotlin", "body": "<p>Kotlin + Retrofit + Moshi</p>\n\n<p>In case where you want to conditionally ignore fields, you can set it to null.</p>\n\n<pre><code>data class  User(var id: String,  var name: string?)\n\nval user = User()\nuser.id = \"some id\"\nuser.name = null\n</code></pre>\n\n<p>The Json generated would be </p>\n\n<pre><code>user{\n\"id\": \"some id\"\n}\n</code></pre>\n"}], "owner": {"reputation": 759, "user_id": 7987329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fUTZ5.jpg?s=128&g=1", "display_name": "heisen", "link": "https://stackoverflow.com/users/7987329/heisen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8314, "favorite_count": 0, "accepted_answer_id": 47368493, "answer_count": 2, "score": 21, "last_activity_date": 1557429004, "creation_date": 1511023111, "last_edit_date": 1511168766, "question_id": 47368437, "link": "https://stackoverflow.com/questions/47368437/moshi-ignore-field-in-kotlin", "title": "Moshi ignore field in Kotlin", "body": "<p>I want to know how to ignore a Kotlin class field when using Moshi.</p>\n\n<p>I've found this answer for Java (<a href=\"https://stackoverflow.com/questions/36204499/moshi-ignore-field\">Moshi ignore field</a>), that indicates to use the keyword transient as follows</p>\n\n<pre><code>private transient String your_variable_name;\n</code></pre>\n\n<p>But I can't find the right way to get this done in Kotlin.</p>\n"}, {"tags": ["javafx", "kotlin", "desktop"], "comments": [{"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 0, "creation_date": 1511119395, "post_id": 47367990, "comment_id": 81714335, "body": "<code>primaryStage</code> will never be null, remove the <code>?</code> from the type and the variable method calls."}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 8213964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9988b7b7a1a036157b6a40dcfc124ddb?s=128&d=identicon&r=PG&f=1", "display_name": "Oleinik D", "link": "https://stackoverflow.com/users/8213964/oleinik-d"}, "edited": false, "score": 0, "creation_date": 1511073928, "post_id": 47373715, "comment_id": 81701279, "body": "Thanks! It works. I also need to add a &quot;companion object&quot; block to my &quot;main&quot; method. <code>companion object {         @JvmStatic         fun main(args: Array&lt;String&gt;) {             launch(Starter::class.java, *args)         }     }</code>"}, {"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 0, "creation_date": 1511118995, "post_id": 47373715, "comment_id": 81714217, "body": "you don&#39;t need the companion object. Just do as shown above and it will work."}, {"owner": {"reputation": 10434, "user_id": 1007991, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a1254dabbec32d7cbc502dfd2fd0438d?s=128&d=identicon&r=PG", "display_name": "Renato", "link": "https://stackoverflow.com/users/1007991/renato"}, "edited": false, "score": 2, "creation_date": 1511119277, "post_id": 47373715, "comment_id": 81714297, "body": "Just don&#39;t put the <code>main</code> function inside the class, leave it outside."}], "tags": [], "owner": {"reputation": 5491, "user_id": 1439771, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/egtxg.png?s=128&g=1", "display_name": "SimY4", "link": "https://stackoverflow.com/users/1439771/simy4"}, "is_accepted": true, "score": 3, "last_activity_date": 1511066201, "creation_date": 1511066201, "answer_id": 47373715, "question_id": 47367990, "link": "https://stackoverflow.com/questions/47367990/cant-run-javafx-kotlin-app/47373715#47373715", "title": "Can&#39;t run JavaFX - Kotlin app", "body": "<p>You need to use spread operator</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    Application.launch(Starter::class.java, *args)\n}\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 8213964, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9988b7b7a1a036157b6a40dcfc124ddb?s=128&d=identicon&r=PG&f=1", "display_name": "Oleinik D", "link": "https://stackoverflow.com/users/8213964/oleinik-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 880, "favorite_count": 0, "accepted_answer_id": 47373715, "answer_count": 1, "score": 3, "last_activity_date": 1511119335, "creation_date": 1511020419, "last_edit_date": 1511119335, "question_id": 47367990, "link": "https://stackoverflow.com/questions/47367990/cant-run-javafx-kotlin-app", "title": "Can&#39;t run JavaFX - Kotlin app", "body": "<p>I can't run my javafx - kotlin app.</p>\n\n<p>My Starter class</p>\n\n<pre><code>class Starter : Application() {\n\n  override fun start(primaryStage: Stage?) {\n      val root : Parent = FXMLLoader.load(javaClass.getResource(\"view/main.fxml\"))\n      primaryStage?.title = \"Title\"\n      primaryStage?.scene = Scene(root)\n      primaryStage?.show()\n  }\n\n  fun main(args: Array&lt;String&gt;) {\n      launch(args)\n  }\n}\n</code></pre>\n\n<p>I can't pass the param \"args\" to \"launch\" method because compiler says:</p>\n\n<blockquote>\n  <p>Error:(19, 9) Kotlin: None of the following functions can be called\n  with the arguments supplied:  public open fun launch(p0: Class!, vararg p1: String!): Unit defined in\n  javafx.application.Application public open fun launch(vararg p0:\n  String!): Unit defined in javafx.application.Application</p>\n</blockquote>\n\n<p>If I trying call \"launch\" method without params I have following Exception</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)  at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:767)\n  Caused by: java.lang.NullPointerException     at\n  sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)   at\n  sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at\n  sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)     at\n  com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:389)\n    at\n  com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:328)\n    ... 5 more</p>\n</blockquote>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 505, "user_id": 6170625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-OVkMtjC5wgQ/AAAAAAAAAAI/AAAAAAAAAJo/ZMsQ-loF1Bw/photo.jpg?sz=128", "display_name": "Pranav Ashok", "link": "https://stackoverflow.com/users/6170625/pranav-ashok"}, "edited": false, "score": 0, "creation_date": 1511156019, "post_id": 47367910, "comment_id": 81724145, "body": "try cleaning your project and use invalidate cache/restart"}, {"owner": {"reputation": 5141, "user_id": 1567541, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bgQcd.jpg?s=128&g=1", "display_name": "Hendra Anggrian", "link": "https://stackoverflow.com/users/1567541/hendra-anggrian"}, "reply_to_user": {"reputation": 505, "user_id": 6170625, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-OVkMtjC5wgQ/AAAAAAAAAAI/AAAAAAAAAJo/ZMsQ-loF1Bw/photo.jpg?sz=128", "display_name": "Pranav Ashok", "link": "https://stackoverflow.com/users/6170625/pranav-ashok"}, "edited": false, "score": 0, "creation_date": 1511356547, "post_id": 47367910, "comment_id": 81825473, "body": "Unfortunately, invalidate cache and restart doesn&#39;t seem to help. Upgrading to newest Android Studio 3.0.1 also doesn&#39;t."}, {"owner": {"reputation": 452, "user_id": 5119341, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-c2jABYz9ou4/AAAAAAAAAAI/AAAAAAAAAAA/irNaqKjkQDs/photo.jpg?sz=128", "display_name": "Bernardo Rocha", "link": "https://stackoverflow.com/users/5119341/bernardo-rocha"}, "edited": false, "score": 0, "creation_date": 1511528700, "post_id": 47367910, "comment_id": 81902346, "body": "Have you read <a href=\"https://developer.android.com/studio/write/java8-support.html#supported_features\" rel=\"nofollow noreferrer\">this</a>?"}, {"owner": {"reputation": 1266, "user_id": 2804992, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/14d98d68a50eac59018a056f565e7c3d?s=128&d=identicon&r=PG&f=1", "display_name": "gonephishing", "link": "https://stackoverflow.com/users/2804992/gonephishing"}, "edited": false, "score": 0, "creation_date": 1517605076, "post_id": 47367910, "comment_id": 84178722, "body": "Any update on this? I&#39;m stuck exactly with the same issue"}], "owner": {"reputation": 5141, "user_id": 1567541, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/bgQcd.jpg?s=128&g=1", "display_name": "Hendra Anggrian", "link": "https://stackoverflow.com/users/1567541/hendra-anggrian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 861, "favorite_count": 2, "answer_count": 0, "score": 7, "last_activity_date": 1529925010, "creation_date": 1511019981, "question_id": 47367910, "link": "https://stackoverflow.com/questions/47367910/error-while-executing-java-process-with-main-class-com-google-devtools-build-and", "title": "Error while executing java process with main class com.google.devtools.build.android.desugar.Desugar", "body": "<p>Without remembering since when, I got this error message on every <code>./gradlew build</code>:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException\nat org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\nat org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\nat org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\nat com.google.devtools.build.android.desugar.CoreLibraryRewriter.reader(CoreLibraryRewriter.java:44)\nat com.google.devtools.build.android.desugar.Desugar.desugarClassesInInput(Desugar.java:388)\nat com.google.devtools.build.android.desugar.Desugar.desugarOneInput(Desugar.java:326)\nat com.google.devtools.build.android.desugar.Desugar.desugar(Desugar.java:280)\nat com.google.devtools.build.android.desugar.Desugar.main(Desugar.java:584)\n\nExecution failed for task ':app:transformClassesWithDesugarForDebug'.\ncom.android.build.api.transform.TransformException: java.lang.RuntimeException: java.lang.RuntimeException: com.android.ide.common.process.ProcessException: Error while executing java process with main class com.google.devtools.build.android.desugar.Desugar with arguments {--input /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/43.jar --output /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/desugar/debug/46.jar --input /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/0.jar --output /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/desugar/debug/3.jar --input /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/2.jar --output /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/desugar/debug/5.jar --input /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/30.jar --output /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/desugar/debug/33.jar --input /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/15.jar --output /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/desugar/debug/18.jar --input /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/6.jar --output /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/desugar/debug/9.jar --input /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/25.jar --output /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/desugar/debug/28.jar --input /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/1.jar --output /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/desugar/debug/4.jar --input /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/36.jar --output /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/desugar/debug/39.jar --input /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/tmp/kapt3/classes/debug --output /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/desugar/debug/2 --input /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/10.jar --output /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/desugar/debug/13.jar --input /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/42.jar --output /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/desugar/debug/45.jar --input /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/23.jar --output /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/desugar/debug/26.jar --input /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/14.jar --output /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/desugar/debug/17.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/classes/debug --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/tmp/kotlin-classes/debug --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/tmp/kapt3/classes/debug --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/0.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/1.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/2.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/3.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/4.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/5.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/6.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/7.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/8.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/9.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/10.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/11.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/12.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/13.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/14.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/15.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/16.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/17.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/18.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/19.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/20.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/21.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/22.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/23.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/24.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/25.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/26.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/27.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/28.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/29.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/30.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/31.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/32.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/33.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/34.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/35.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/36.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/37.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/38.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/39.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/40.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/41.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/42.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/43.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/44.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/45.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/46.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/47.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/48.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/49.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/50.jar --classpath_entry /Users/hendraanggrian/Documents/GitHub/wp-android/app/build/intermediates/transforms/stackFramesFixer/debug/51.jar --bootclasspath_entry /Users/hendraanggrian/Library/Android/sdk/platforms/android-26/android.jar --bootclasspath_entry /Users/hendraanggrian/Library/Android/sdk/platforms/android-26/optional/org.apache.http.legacy.jar --bootclasspath_entry /Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/jre/lib/resources.jar --bootclasspath_entry /Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/jre/lib/rt.jar --bootclasspath_entry /Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/jre/lib/jsse.jar --bootclasspath_entry /Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/jre/lib/jce.jar --bootclasspath_entry /Applications/Android Studio.app/Contents/jre/jdk/Contents/Home/jre/lib/charsets.jar --min_sdk_version 14 --desugar_try_with_resources_if_needed --desugar_try_with_resources_omit_runtime_classes}\n</code></pre>\n\n<p>Any idea what might have caused it? I tried:</p>\n\n<ul>\n<li>Changing jdk from embed, 8, and 9</li>\n<li>multidex</li>\n<li>proguard</li>\n</ul>\n\n<p>None of which seems to work. The source can be found <a href=\"https://github.com/WijayaPrinting/wp-android\" rel=\"noreferrer\">here</a>, any help would be greatly appreciated.</p>\n"}, {"tags": ["android", "kotlin", "android-architecture-components"], "comments": [{"owner": {"reputation": 1547, "user_id": 1020871, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2af0b561054a608a7f1877deaeb3f748?s=128&d=identicon&r=PG", "display_name": "Love", "link": "https://stackoverflow.com/users/1020871/love"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1511015783, "post_id": 47367042, "comment_id": 81686859, "body": "@pskink Not sure it makes a difference if the DAO is never created, but it looks like this: <code>@Query(&quot;SELECT * FROM MyEntity&quot;) fun get(): LivePagedListProvider&lt;Int, MyEntity&gt;</code>. I can still initiate the DAO in another part of the app to insert entities"}], "answers": [{"tags": [], "owner": {"reputation": 1547, "user_id": 1020871, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2af0b561054a608a7f1877deaeb3f748?s=128&d=identicon&r=PG", "display_name": "Love", "link": "https://stackoverflow.com/users/1020871/love"}, "is_accepted": true, "score": 1, "last_activity_date": 1511708509, "creation_date": 1511708509, "answer_id": 47497481, "question_id": 47367042, "link": "https://stackoverflow.com/questions/47367042/android-get-a-dao-in-a-viewmodel/47497481#47497481", "title": "Android: Get a DAO in a ViewModel", "body": "<p>I found this <a href=\"https://github.com/googlesamples/android-architecture-components/tree/master/PagingSample/app/src/main/java/paging/android/example/com/pagingsample\" rel=\"nofollow noreferrer\">paging example</a> by google. Based on that I wrote this view model (see <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/PagingSample/app/src/main/java/paging/android/example/com/pagingsample/CheeseViewModel.kt\" rel=\"nofollow noreferrer\">CheeseViewModel</a>):</p>\n\n<pre><code>class MyViewModel(app: Application) : AndroidViewModel(app) {\n\n    val data = MyDatabase.get(app).dao.get().create(\n            /* initial load position */ 0,\n            PagedList.Config.Builder()\n                    .setPageSize(50)\n                    .setPrefetchDistance(50)\n                    .build())\n}\n</code></pre>\n\n<p>And I added this to my DB class (see <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/PagingSample/app/src/main/java/paging/android/example/com/pagingsample/CheeseDb.kt\" rel=\"nofollow noreferrer\">CheeseDb</a>):</p>\n\n<pre><code>companion object {\n\n    // Google example noted that this might not be the best\n    // solution and to use a dependency injection framework instead.\n\n    private var instance: MyDatabase? = null\n\n    @Synchronized\n    fun get(context: Context): MyDatabase {\n        return instance ?: Room.databaseBuilder(context.applicationContext,\n                MyDatabase::class.java, \"myDB\")\n                .build()\n                .also { instance = it }\n    }\n}\n</code></pre>\n\n<p>So that answers the question on how to get a DAO instance in a view model. Regarding the other question, I guess that the <a href=\"https://developer.android.com/topic/libraries/architecture/paging.html#classes\" rel=\"nofollow noreferrer\">paging library</a> example was incomplete.</p>\n"}, {"comments": [{"owner": {"reputation": 1547, "user_id": 1020871, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2af0b561054a608a7f1877deaeb3f748?s=128&d=identicon&r=PG", "display_name": "Love", "link": "https://stackoverflow.com/users/1020871/love"}, "edited": false, "score": 0, "creation_date": 1512903772, "post_id": 47631255, "comment_id": 82436495, "body": "You should not need a factory to pass <code>application</code> to an <a href=\"https://developer.android.com/reference/android/arch/lifecycle/AndroidViewModel.html\" rel=\"nofollow noreferrer\">AndroidViewModel</a>, you get that for free, like in <a href=\"https://github.com/googlesamples/android-architecture-components/blob/master/PagingSample/app/src/main/java/paging/android/example/com/pagingsample/CheeseViewModel.kt\" rel=\"nofollow noreferrer\">CheeseViewModel</a>"}], "tags": [], "owner": {"reputation": 167, "user_id": 2182175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ea9890a55c134114cf1b86f8fd8b368?s=128&d=identicon&r=PG", "display_name": "Prashant Kawtikwar", "link": "https://stackoverflow.com/users/2182175/prashant-kawtikwar"}, "is_accepted": false, "score": 1, "last_activity_date": 1512383670, "last_edit_date": 1512383670, "creation_date": 1512383319, "answer_id": 47631255, "question_id": 47367042, "link": "https://stackoverflow.com/questions/47367042/android-get-a-dao-in-a-viewmodel/47631255#47631255", "title": "Android: Get a DAO in a ViewModel", "body": "<p>In your code, you have parameterized constructor in your ViewModel class for that you need to pass parameter while initializing ViewModel.</p>\n\n<p>Below is the code in java</p>\n\n<pre><code>public class UserInfoViewModel extends AndroidViewModel {\n\n    LiveData&lt;PagedList&lt;UserInfo&gt;&gt; usersForList;\n    private PersonRepository personRepository;  \n\n    public UserInfoViewModel(@NonNull Application application) {\n        super(application);\n        personRepository = new PersonRepository(application);\n    }  \n\n    public static class Factory extends ViewModelProvider.NewInstanceFactory {\n\n        @NonNull\n        private final Application mApplication;\n\n        public Factory(@NonNull Application application) {\n            mApplication = application;\n        }\n\n        @Override\n        public &lt;T extends ViewModel&gt; T create(Class&lt;T&gt; modelClass) {\n            //noinspection unchecked\n            return (T) new UserInfoViewModel(mApplication);\n        }\n    }\n\n    public void init() {\n\n            usersForList = personRepository.getAllPersonsForList().create(0,\n                    new PagedList.Config.Builder()\n                            .setEnablePlaceholders(true)\n                            .setPageSize(50)\n                            .setPrefetchDistance(10)\n                            .build());\n\n    }\n}\n</code></pre>\n\n<p>In your Activity, you can access the ViewModel as shown in below code</p>\n\n<pre><code> @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        UserInfoViewModel.Factory factory = new UserInfoViewModel.Factory(\n                this.getApplication());\n        userInfoViewModel = ViewModelProviders.of(this,factory)\n                .get(UserInfoViewModel.class);\n        userInfoViewModel.init();\n    }\n</code></pre>\n\n<p>Here is my repository object in repository using DAO object as shown in below code </p>\n\n<p><strong>PersonRepository.java</strong></p>\n\n<pre><code>public class PersonRepository {\n\n    private final ChatListDAO personDAO;\n\n    public PersonRepository(Context context) {\n        personDAO = DatabaseCreator.getChatDatabase(context).ChatDatabase();\n    }\n}\n</code></pre>\n\n<p><strong>DAO.java class</strong></p>\n\n<pre><code>@Dao\npublic interface DAO{\n\n    @Insert(onConflict = OnConflictStrategy.REPLACE)\n     long insertPerson(UserInfo person);\n\n    @Update\n     void updatePerson(UserInfo person);\n\n    @Delete\n     void deletePerson(UserInfo person);\n\n    @Query(\"SELECT * FROM person\")\n     LiveData&lt;List&lt;UserInfo&gt;&gt; getAllPersons();\n\n    @Query(\"SELECT count(*) FROM person\")\n     LiveData&lt;Integer&gt; getAllPersonsCount();\n\n\n    @Query(\"SELECT * FROM person where number = :mobileIn\")\n     LiveData&lt;UserInfo&gt; getPersonByMobile(String mobileIn);\n\n\n    @Query(\"SELECT * FROM person\")\n    public abstract LivePagedListProvider&lt;Integer,UserInfo&gt; getUsersForList();\n}\n</code></pre>\n"}], "owner": {"reputation": 1547, "user_id": 1020871, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/2af0b561054a608a7f1877deaeb3f748?s=128&d=identicon&r=PG", "display_name": "Love", "link": "https://stackoverflow.com/users/1020871/love"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1863, "favorite_count": 0, "accepted_answer_id": 47497481, "answer_count": 2, "score": 7, "last_activity_date": 1512383670, "creation_date": 1511014461, "question_id": 47367042, "link": "https://stackoverflow.com/questions/47367042/android-get-a-dao-in-a-viewmodel", "title": "Android: Get a DAO in a ViewModel", "body": "<p>What is the best way to get a Android Room DAO in a ViewModel?</p>\n\n<p>Based on the <a href=\"https://developer.android.com/topic/libraries/architecture/paging.html#classes\" rel=\"noreferrer\">paging library</a> example I wrote this ViewModel:</p>\n\n<pre><code>class MyViewModel(myDao: MyDao) : ViewModel() {\n\n    val data = myDao.get().create(\n            /* initial load position */ 0,\n            PagedList.Config.Builder()\n                    .setPageSize(50)\n                    .setPrefetchDistance(50)\n                    .build())\n}\n</code></pre>\n\n<p>I then try to get an instance</p>\n\n<pre><code>val viewModel = ViewModelProviders.of(this).get(MyViewModel::class.java)\n</code></pre>\n\n<p>Trying to run this I get an exception:</p>\n\n<pre><code>java.lang.RuntimeException: Unable to start activity ComponentInfo{....MyActivity}: java.lang.RuntimeException: Cannot create an instance of class ...MyViewModel\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2817)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n    at android.app.ActivityThread.-wrap11(Unknown Source:0)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n    at android.os.Handler.dispatchMessage(Handler.java:105)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6541)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n Caused by: java.lang.RuntimeException: Cannot create an instance of class ...MyViewModel\n    at android.arch.lifecycle.ViewModelProvider$NewInstanceFactory.create(ViewModelProvider.java:145)\n    at android.arch.lifecycle.ViewModelProviders$DefaultFactory.create(ViewModelProviders.java:158)\n    at android.arch.lifecycle.ViewModelProvider.get(ViewModelProvider.java:128)\n    at android.arch.lifecycle.ViewModelProvider.get(ViewModelProvider.java:96)\n    ...\n Caused by: java.lang.InstantiationException: java.lang.Class&lt;...MyViewModel&gt; has no zero argument constructor\n</code></pre>\n\n<p>From the <a href=\"https://developer.android.com/topic/libraries/architecture/paging.html#classes\" rel=\"noreferrer\">paging library</a> example it is not apparent how the view model gets a copy of the DAO, and apparently it fails. Question is if I have missed something, or is the example incomplete?</p>\n\n<p>Googling the exception I find suggestions to use a ViewModelProvider.Factory, only the example did not use this. In the example code the view model looks like this:</p>\n\n<pre><code>class MyViewModel extends ViewModel {\n    public final LiveData&lt;PagedList&lt;User&gt;&gt; usersList;\n    public MyViewModel(UserDao userDao) {\n        usersList = userDao.usersByLastName().create(\n                /* initial load position */ 0,\n                new PagedList.Config.Builder()\n                        .setPageSize(50)\n                        .setPrefetchDistance(50)\n                        .build());\n    }\n}\n</code></pre>\n\n<p>And is retreived like this</p>\n\n<pre><code>MyViewModel viewModel = ViewModelProviders.of(this).get(MyViewModel.class);\n</code></pre>\n\n<p>My dependencies</p>\n\n<pre><code>def roomVersion = \"1.0.0\"\nimplementation \"android.arch.persistence.room:runtime:$roomVersion\"\nannotationProcessor \"android.arch.persistence.room:compiler:$roomVersion\"\nkapt \"android.arch.persistence.room:compiler:$roomVersion\"\nimplementation \"android.arch.paging:runtime:1.0.0-alpha3\"\n</code></pre>\n"}, {"tags": ["java", "android", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 4732, "user_id": 138228, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e824817a5d99296b8d0d956a4728071b?s=128&d=identicon&r=PG&f=1", "display_name": "stan", "link": "https://stackoverflow.com/users/138228/stan"}, "is_accepted": false, "score": 0, "last_activity_date": 1511033557, "last_edit_date": 1511033557, "creation_date": 1511032531, "answer_id": 47370020, "question_id": 47366988, "link": "https://stackoverflow.com/questions/47366988/i-want-to-get-one-result-from-thre-different-list/47370020#47370020", "title": "i want to get one result from thre different list", "body": "<p>If I understand correctly, you're saying that <code>list1</code> and <code>list2</code> are different types, but..you want to use the same methods on both of them. Sounds like you need to define a base class that holds <code>title</code>, <code>image</code>, etc, and then have both lists extend from that. Then you can use them <em>generically</em>.</p>\n\n<p>Here's an example of how to do that in Kotlin: <a href=\"https://www.programiz.com/kotlin-programming/inheritance\" rel=\"nofollow noreferrer\">https://www.programiz.com/kotlin-programming/inheritance</a></p>\n"}], "owner": {"reputation": 177, "user_id": 8852115, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7097d13dc0db08910937125f2cbccc72?s=128&d=identicon&r=PG&f=1", "display_name": "j jobe", "link": "https://stackoverflow.com/users/8852115/j-jobe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1511205517, "creation_date": 1511014046, "last_edit_date": 1511205517, "question_id": 47366988, "link": "https://stackoverflow.com/questions/47366988/i-want-to-get-one-result-from-thre-different-list", "title": "i want to get one result from thre different list", "body": "<p>I have function receive List : <code>list&lt;json&gt;</code></p>\n\n<p>inside this list many list:</p>\n\n<pre><code>list1&lt;go&gt; \nlist2&lt;come&gt; \nlist3&lt;leave&gt;\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>fun handleResults(it: json) {  \n    var storeCoupons = when(id_choice.toInt()){\n        0-&gt;it.list1\n        1-&gt;it.list2\n        else-&gt;it.list3\n    }  \n\n    while (i in i.. storeCoupons?.size!!-1){\n\n        var pos=storeCoupons.get(i).title\n        var img = storeCoupons?.get(i)?.image\n        var id=storeCoupons?.get(i)?.id\n        users.add(User(id.toString()!!,pos!!, img!!))\n\n        i++\n    }\n}\n</code></pre>\n\n<p>the problem is the variable storeCoupons his data type is changed because its receive some types data type as list1 and another time list2 i guess should i make another list and add all the list inside it ?</p>\n"}, {"tags": ["generics", "kotlin", "abstract-class", "covariance", "contravariance"], "answers": [{"comments": [{"owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "edited": false, "score": 0, "creation_date": 1511032411, "post_id": 47367465, "comment_id": 81692528, "body": "Looks like my question was a little of both.  I made an error when I simplified the code, which you fixed.  However, some of the real code is, as you predicted, trying to &quot;change <code>E</code>&quot;.  (I really should have put one of those in my example, but you figured it out without seeing that example.)  I was trying different combinations of <code>in</code> and <code>out</code> on the container type to make that happen, but I now realize none of that works because that&#39;s really an order higher than these generics."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "edited": false, "score": 0, "creation_date": 1511036324, "post_id": 47367465, "comment_id": 81693783, "body": "There are very few languages which support this, but there actually is one on JVM: Scala. You might consider whether using it is an option."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 1, "last_activity_date": 1511026575, "last_edit_date": 1511026575, "creation_date": 1511017412, "answer_id": 47367465, "question_id": 47366858, "link": "https://stackoverflow.com/questions/47366858/generics-in-out-for-abstract-container-tool-in-kotlin/47367465#47367465", "title": "Generics in/out for abstract container tool in Kotlin?", "body": "<p>If I understood the question correctly, variance isn't relevant here, you just got the parameters wrong:</p>\n\n<pre><code>inner class TCsq(val c: CharSequence): SObj&lt;CharSequence, Char&gt;()\n</code></pre>\n\n<p>and</p>\n\n<pre><code>inner class TList&lt;E&gt;(val l: List&lt;E&gt;): SObj&lt;List&lt;E&gt;,E&gt;()\n</code></pre>\n\n<p>What you <em>can't</em> do this way is to have operations which \"change <code>E</code>\": this requires higher-kinded types which Kotlin doesn't support.</p>\n"}], "owner": {"reputation": 645, "user_id": 8729476, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/99fdf036168c3783ab6223843a6b9ceb?s=128&d=identicon&r=PG&f=1", "display_name": "sirksel", "link": "https://stackoverflow.com/users/8729476/sirksel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 0, "accepted_answer_id": 47367465, "answer_count": 1, "score": 1, "last_activity_date": 1511026575, "creation_date": 1511013222, "question_id": 47366858, "link": "https://stackoverflow.com/questions/47366858/generics-in-out-for-abstract-container-tool-in-kotlin", "title": "Generics in/out for abstract container tool in Kotlin?", "body": "<p>I am creating an abstract tool class that operates on another set of foreign classes (not controlled by me).  The foreign classes are conceptually similar at certain points of interface, yet have different syntax for accessing their similar properties.  They also have different syntax for applying the results of the tool's operations.  I have created a data class with inner classes, based on <a href=\"https://stackoverflow.com/questions/47361279/reference-outside-the-sealed-class-in-kotlin\">this answer by @hotkey</a>.</p>\n\n<p><strong><em>Here is the generics problem:</em></strong>  The foreign classes are fundamentally containers of elements.  Each class' container type is different.  Certain of the containers have a fixed element type, while other containers carry a generic element type.  I am having trouble applying the generics concepts of <code>in</code> vs. <code>out</code>, covariance vs. contravariance to this model.  Here is a simplified example using slicing of CharSequence and List that parallels the problem almost exactly, with respect to the generics:</p>\n\n<pre><code>// *** DOES NOT COMPILE ***\ndata class Slicer&lt;C,E&gt;(val obj: C, val beg: Int, val end: Int) {\n  // C is container type; E is element type\n  // but unsure how to apply in/out properly\n  inner abstract class SObj&lt;C,E&gt;{\n    abstract val len: Int  // an input that tool requires\n    abstract val sub: C    // an output of tool (container)\n    abstract val one: E    // an output of tool (element)\n    inner class TCsq(val c: CharSequence): SObj&lt;C,E&gt;() {\n      override val len get()= c.length\n      override val sub get()= c.substring(adjusted)  // PROBLEM\n      override val one get()= c[finder+5]            // PROBLEM\n    }\n    inner class TList&lt;E&gt;(val l: List&lt;E&gt;): SObj&lt;C,E&gt;() {\n      override val len get()= l.size\n      override val sub get()= l.slice(adjusted)      // PROBLEM\n      override val one get()= l[finder]              // PROBLEM\n    }\n  // sample ops use both data class vals and abstract properties\n  val adjusted get()= (beg+1)..(len-1)\n  val finder get()= (end-beg)/2\n  }\n}\n</code></pre>\n\n<p><strong>How do I properly apply in/out here to make this work?</strong>  Alternatively, if this isn't the best construct, how else might this be structured?  </p>\n\n<p>N.B.  Keep in mind that <code>CharSequence</code> and <code>List</code> represent foreign classes which can't be modified, and <code>adjusted</code> and <code>finder</code> are samples of many operations the tool is performing on the classes.  Today, the tool's operations are just littered about the code base within (or as extensions to) the various containers in a repetitive and non-uniform manner.</p>\n"}, {"tags": ["kotlin", "rx-java", "rx-java2"], "comments": [{"owner": {"reputation": 10052, "user_id": 763935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/510b0219cf16bff4e861741bde8cff25?s=128&d=identicon&r=PG", "display_name": "david.mihola", "link": "https://stackoverflow.com/users/763935/david-mihola"}, "edited": false, "score": 0, "creation_date": 1511023999, "post_id": 47366799, "comment_id": 81689487, "body": "How do you determine the actual values of the <code>n</code>th <code>SomeClass1</code> object? Does it depend only on the value of <code>n</code>, i. e. on its position in the stream? Does it depend on the previously emitted items?"}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "reply_to_user": {"reputation": 10052, "user_id": 763935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/510b0219cf16bff4e861741bde8cff25?s=128&d=identicon&r=PG", "display_name": "david.mihola", "link": "https://stackoverflow.com/users/763935/david-mihola"}, "edited": false, "score": 0, "creation_date": 1511024196, "post_id": 47366799, "comment_id": 81689562, "body": "@david.mihola check my answer if you are interested what was my intention"}], "answers": [{"comments": [{"owner": {"reputation": 10052, "user_id": 763935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/510b0219cf16bff4e861741bde8cff25?s=128&d=identicon&r=PG", "display_name": "david.mihola", "link": "https://stackoverflow.com/users/763935/david-mihola"}, "edited": false, "score": 0, "creation_date": 1511024666, "post_id": 47368625, "comment_id": 81689741, "body": "OK, in this case, I would change the answer to: <code>Observable.interval(1, TimeUnit.SECONDS).map({SomeClass(&quot;$it&quot;, it)})</code>. That&#39;s because interval emits consecutive integers, starting with 0 - you don&#39;t need any external mutable state. Also, <code>flatMap</code> with only a <code>just</code> inside is practically never needed, just use <code>map</code> in this case."}, {"owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "reply_to_user": {"reputation": 10052, "user_id": 763935, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/510b0219cf16bff4e861741bde8cff25?s=128&d=identicon&r=PG", "display_name": "david.mihola", "link": "https://stackoverflow.com/users/763935/david-mihola"}, "edited": false, "score": 0, "creation_date": 1511024881, "post_id": 47368625, "comment_id": 81689807, "body": "@david.mihola Thanks, do you think this cause the problem with my other question here: <a href=\"https://stackoverflow.com/questions/47368711/why-i-have-undesired-log-output-when-merging-2-observables-into-one\" title=\"why i have undesired log output when merging 2 observables into one\">stackoverflow.com/questions/47368711/&hellip;</a> ?"}], "tags": [], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "is_accepted": false, "score": 0, "last_activity_date": 1511024169, "creation_date": 1511024169, "answer_id": 47368625, "question_id": 47366799, "link": "https://stackoverflow.com/questions/47366799/how-to-create-infinite-interval-observable-that-will-emit-new-object-every-time/47368625#47368625", "title": "How to create infinite interval Observable that will emit new Object every time interval?", "body": "<p>Here is the answer for my question, that satisfies my:</p>\n\n<pre><code> override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    var counter = 0\n\n    val periodicSomeClass1 = Observable.interval(1, TimeUnit.SECONDS)\n            .flatMap(\n                    {\n                        counter++\n                        Observable.just(SomeClass1(\"$counter\", counter))\n                    }\n            )\n\n\n    periodicSomeClass1.subscribe { t: SomeClass1 -&gt; Log.v(\"periodicSomeClass1\", t.toString())  }\n\n}\n</code></pre>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 632, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1511024169, "creation_date": 1511012840, "question_id": 47366799, "link": "https://stackoverflow.com/questions/47366799/how-to-create-infinite-interval-observable-that-will-emit-new-object-every-time", "title": "How to create infinite interval Observable that will emit new Object every time interval?", "body": "<p>I am trying to create an Observable that will emit new object every second.\nSo for now i am just zipping one Observable, which emits finite number of objects from a list, with interval Observable.</p>\n\n<pre><code>   val list1 = mutableListOf&lt;SomeClass1&gt;(\n            SomeClass1(\"1\", 1), SomeClass1(\"2\", 2), SomeClass1(\"3\", 3),\n            SomeClass1(\"4\", 4), SomeClass1(\"5\", 5), SomeClass1(\"6\", 6),\n            SomeClass1(\"7\", 7), SomeClass1(\"8\", 8), SomeClass1(\"9\", 9)\n    )\n\n    val someClass1Observable = Observable\n            .fromIterable(list1)\n            .zipWith(Observable.interval(2, TimeUnit.SECONDS),\n                    BiFunction { item: SomeClass1, _: Long -&gt; item })\n</code></pre>\n\n<p>So how to actually make this infinite, in a way that every 2 second there will be emiited new object of class SomeClass1 with some parameters?</p>\n"}, {"tags": ["android", "kotlin", "dagger-2", "android-room"], "answers": [{"comments": [{"owner": {"reputation": 210, "user_id": 6107009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24bcc6155ec86ee35c5479864ceaca5e?s=128&d=identicon&r=PG&f=1", "display_name": "newakkoff", "link": "https://stackoverflow.com/users/6107009/newakkoff"}, "edited": false, "score": 0, "creation_date": 1511022213, "post_id": 47367529, "comment_id": 81688824, "body": "Yes you are right. I had to use nullable types in DAO and in Provider&#39;s method (it has to  have Nullable) and add only  Nullable annotation in Inject because lateinit var cant be nullable.Thank you"}], "tags": [], "owner": {"reputation": 2560, "user_id": 857853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7eb69bcd9b721d0af2839a1337a0885f?s=128&d=identicon&r=PG", "display_name": "Zharf", "link": "https://stackoverflow.com/users/857853/zharf"}, "is_accepted": true, "score": 1, "last_activity_date": 1511017799, "creation_date": 1511017799, "answer_id": 47367529, "question_id": 47366718, "link": "https://stackoverflow.com/questions/47366718/roomdagger-2-npe/47367529#47367529", "title": "Room+dagger 2. NPE", "body": "<p>I think you need to set the <code>@Nullable</code> on the <code>provideCurrentMonthBudget</code>. Also since this is kotlin, the return type should be <code>MonthlyBudget?</code> - kotlin denotes nullable types with a <code>?</code>.</p>\n"}], "owner": {"reputation": 210, "user_id": 6107009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24bcc6155ec86ee35c5479864ceaca5e?s=128&d=identicon&r=PG&f=1", "display_name": "newakkoff", "link": "https://stackoverflow.com/users/6107009/newakkoff"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 504, "favorite_count": 0, "accepted_answer_id": 47367529, "answer_count": 1, "score": 1, "last_activity_date": 1511017799, "creation_date": 1511012245, "last_edit_date": 1511015521, "question_id": 47366718, "link": "https://stackoverflow.com/questions/47366718/roomdagger-2-npe", "title": "Room+dagger 2. NPE", "body": "<p>Using Room+LiveData+Dagger2+Kotlin</p>\n\n<p>db code:</p>\n\n<pre><code>@Database(entities = arrayOf(MonthlyBudget::class, Purchase::class), version = 1, exportSchema = false)\n@TypeConverters(DateTypeConverter::class)\nabstract class AppDatabase : RoomDatabase() {\n    abstract fun budgetDAO(): BudgetDAO\n    abstract fun purchaseDAO(): PurchaseDAO\n}\n</code></pre>\n\n<p>Method in dagger2 which provides db</p>\n\n<pre><code>@Provides\nfun providesAppDatabase(context: Context): AppDatabase = Room.databaseBuilder(context, AppDatabase::class.java, \"my-budget-db\").allowMainThreadQueries().build()\n</code></pre>\n\n<p>Method in dagger 2 which return null</p>\n\n<pre><code>@Provides\n@Singleton\n@Named(\"CurrentMonthBudget\")\nfun provideCurrentMonthBudget(repository: AppRepository): MonthlyBudget = repository.currentMonthBudget()\n</code></pre>\n\n<p>Object's inject </p>\n\n<pre><code>@Inject\n@Nullable\n@field:Named(\"CurrentMonthBudget\")\nlateinit var currentMonthBudget: MonthlyBudget\n</code></pre>\n\n<p>Because of the null data i getting this</p>\n\n<pre><code>java.lang.NullPointerException: Cannot return null from a non-@Nullable @Provides method\n</code></pre>\n\n<p>This is how i did it: created a nullcheck and If 'If' gets back 'true',  I add default values in db.</p>\n\n<pre><code>@Database(entities = arrayOf(MonthlyBudget::class, Purchase::class), version = 1, exportSchema = false)\n@TypeConverters(DateTypeConverter::class)\nabstract class AppDatabase : RoomDatabase() {\n    abstract fun budgetDAO(): BudgetDAO\n    abstract fun purchaseDAO(): PurchaseDAO\n    companion object {\n        fun getInstance(context:Context):AppDatabase {\n            val database = Room.databaseBuilder(context, AppDatabase::class.java, \"my-budget-db\").allowMainThreadQueries().build()\n            if (database.budgetDAO().queryCurrentMonthBudget() == null) {\n                database.budgetDAO().insert(MonthlyBudget(0), MonthlyBudget(0))\n                database.purchaseDAO().insert(Purchase(\"default\",0))\n            }\n            return database\n        }\n    }\n}\n</code></pre>\n\n<p>What should i do? Fill the db? If so, tell me the better way to do it, or is there another way?</p>\n"}, {"tags": ["kotlin", "rx-java", "reactive-programming", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "is_accepted": false, "score": 0, "last_activity_date": 1511027404, "creation_date": 1511027404, "answer_id": 47369201, "question_id": 47366645, "link": "https://stackoverflow.com/questions/47366645/how-to-simulate-emitting-2-infiite-observable-streams-and-have-other-observable/47369201#47369201", "title": "How to simulate emitting 2 infiite Observable streams and have other Observable which merges them and buffer every 10 seconds?", "body": "<p>To make those <code>SomeClass</code> streams infinite, you could simply put a <code>.repeat()</code> operator on them before using them, or you could build objects on demand from the <code>interval</code>:</p>\n\n<pre><code>val someClass1Obs = Observable\n    .interval(2, TimeUnit.SECONDS)\n    .map { SomeClass1(\"$it\", it.toInt()) } // &lt;-- create objects on demand\n</code></pre>\n\n<p>I think this may solve your other problems too.</p>\n"}], "owner": {"reputation": 3759, "user_id": 5434346, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/77a6965f12ed6d5082ed4a990f715f59?s=128&d=identicon&r=PG&f=1", "display_name": "K.Os", "link": "https://stackoverflow.com/users/5434346/k-os"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1511027404, "creation_date": 1511011731, "question_id": 47366645, "link": "https://stackoverflow.com/questions/47366645/how-to-simulate-emitting-2-infiite-observable-streams-and-have-other-observable", "title": "How to simulate emitting 2 infiite Observable streams and have other Observable which merges them and buffer every 10 seconds?", "body": "<p>I want to be able to simulate merging two separate streams which emits some objects(that are extending the same Parent object), buffer them using buffer operator and emit the gathered data after 10 seconds. I want this mechanism to be infinite, in a way that this merge/buffer will always be invoked whenever there is an emission from the 2 separated streams.</p>\n\n<p>Here is what I've done so far:</p>\n\n<pre><code> val list1 = mutableListOf&lt;SomeClass1&gt;(\n            SomeClass1(\"1\", 1), SomeClass1(\"2\", 2), SomeClass1(\"3\", 3),\n            SomeClass1(\"4\", 4), SomeClass1(\"5\", 5), SomeClass1(\"6\", 6),\n            SomeClass1(\"7\", 7), SomeClass1(\"8\", 8), SomeClass1(\"9\", 9)\n    )\n    val list2 = mutableListOf&lt;SomeClass2&gt;(\n            SomeClass2(1.00), SomeClass2(2.00), SomeClass2(3.00),\n            SomeClass2(4.00), SomeClass2(5.00), SomeClass2(6.00),\n            SomeClass2(7.00), SomeClass2(8.00), SomeClass2(9.00)\n    )\n\n    val someClass1Observable = Observable\n            .fromIterable(list1)\n            .zipWith(Observable.interval(2, TimeUnit.SECONDS),\n                    BiFunction { item: SomeClass1, _: Long -&gt; item })\n\n\n    val someClass2Observable = Observable\n            .fromIterable(list2)\n            .zipWith(Observable.interval(2, TimeUnit.SECONDS),\n                    BiFunction { item: SomeClass2, _: Long -&gt; item })\n\n\n    someClass1Observable.subscribe {\n        Log.v(\"someClass1\", it.toString())\n    }\n\n    someClass2Observable.subscribe {\n        Log.v(\"someClass2\", it.toString())\n    }\n\n\n    Observable.merge(someClass1Observable, someClass2Observable)\n            .buffer(10, TimeUnit.SECONDS)\n            .repeat()\n            .doOnSubscribe { Log.v(\"parentObservable\", \"STARTED\") }\n            .subscribe { t: MutableList&lt;Parent&gt; -&gt;\n                Log.v(\"parentObservable\", \"onNext\")\n                t.forEach { Log.v(\"onNext\", it.toString()) }\n            }\n\n    Thread.sleep(30000)\n    Log.v(\"AFTER_SLEEP\", \"AFTER_SLEEP\")\n\n\n    someClass1Observable.subscribe {\n        Log.v(\"someClass1\", it.toString())\n    }\n\n    someClass2Observable.subscribe {\n        Log.v(\"someClass2\", it.toString())\n    }\n</code></pre>\n\n<p>The first emission of the 2 streams works fine, the merge/buffer Observable is gathering emissions from them every time after 10 seconds. However, when those 2 streams ended emissions and i subscribe to them again, the buffer/merge Observable is no loger working. How to have this work like for infinite? Is there a better way to write code for those 2 separate streams that emits objects that they will not need to read values from a list and instead of this they will emit some new object every 2 seconds interval?\nHow to make the merge/buffer Observable works infinite, i mean whenever there is a new emission from those 2 Observable streams?</p>\n"}]