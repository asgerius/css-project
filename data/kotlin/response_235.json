[{"tags": ["kotlin", "collections", "numbers", "format", "tostring"], "answers": [{"tags": [], "owner": {"reputation": 7290, "user_id": 1203288, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3d3f848f08e23466d70487ffe039a2a0?s=128&d=identicon&r=PG", "display_name": "bsara", "link": "https://stackoverflow.com/users/1203288/bsara"}, "is_accepted": true, "score": 1, "last_activity_date": 1562803382, "last_edit_date": 1562803382, "creation_date": 1562800791, "answer_id": 56979769, "question_id": 56979768, "link": "https://stackoverflow.com/questions/56979768/convert-collection-of-numbers-to-range-formatted-string-with-kotlin/56979769#56979769", "title": "Convert collection of numbers to range formatted string with Kotlin", "body": "<p>This will convert a <code>Collection&lt;Int&gt;</code> to a string that uses the \"range notation\" specified:</p>\n\n<pre><code>fun Collection&lt;Int&gt;.toRangesString(): String {\n  if (this.isEmpty()) {\n    return \"\"\n  }\n\n\n  if (this.size &lt;= 2) {\n    return this.toSortedSet().joinToString(\",\")\n  }\n\n\n  val rangeStrings = mutableListOf&lt;String&gt;()\n\n  var start: Int? = null\n  var prev: Int? = null\n\n  for (num in this.toSortedSet()) {\n    if (prev == null) {\n      start = num\n      prev = num\n      continue\n    }\n\n    if (num != (prev + 1)) {\n      _addRangeString(rangeStrings, start!!, prev)\n      start = num\n      prev = num\n      continue\n    }\n\n    prev = num\n  }\n\n  if (start != null) {\n    _addRangeString(rangeStrings, start, prev!!)\n  }\n\n  return rangeStrings.joinToString(\",\")\n}\n\n\nprivate fun _addRangeString(rangeStrings: MutableList&lt;String&gt;, start: Int, prev: Int) {\n  rangeStrings.add(\n    when {\n      (start == prev) -&gt; start.toString()\n      ((start + 1) == prev) -&gt; \"${start},${prev}\"\n      else -&gt; \"${start}..${prev}\"\n    }\n  )\n}\n</code></pre>\n\n<p>...and this will parse those range notated strings into a <code>Set&lt;Int&gt;</code>:</p>\n\n<pre><code>fun parseRangesString(str: String): Set&lt;Int&gt; {\n  if (str.isBlank()) {\n    return setOf()\n  }\n\n\n  val ranges = str.trim().split(\",\")\n  val numbers = mutableListOf&lt;Int&gt;()\n\n  for (range in ranges) {\n    if (range.contains(\"..\")) {\n      val (start, end) = range.split(\"..\")\n      numbers.addAll(start.toInt()..end.toInt())\n      continue\n    }\n\n    numbers.add(range.toInt())\n  }\n\n  return numbers.toSet()\n}\n</code></pre>\n\n<p>...and, finally, even better than using a huge collection of numbers, you can use Kotlin's <code>IntRange</code> (or <code>LongRange</code>) class:</p>\n\n<pre><code>fun toIntRanges(str: String): Collection&lt;IntRange&gt; = _toRanges(str, ::_createIntRange)\nfun toLongRanges(str: String): Collection&lt;LongRange&gt; = _toRanges(str, ::_createLongRange)\n\nprivate fun &lt;T : ClosedRange&lt;*&gt;&gt; _toRanges(str: String, createRange: (start: String, end: String) -&gt; T): Collection&lt;T&gt; {\n  if (str.isBlank()) {\n    return listOf()\n  }\n\n  val rangeStrs = str.trim().split(\",\")\n  val ranges = mutableListOf&lt;T&gt;()\n\n  for (rangeStr in rangeStrs) {\n    if (rangeStr.contains(\"..\")) {\n      val (start, end) = rangeStr.split(\"..\")\n      ranges.add(createRange(start, end))\n      continue\n    }\n\n    ranges.add(createRange(rangeStr, rangeStr))\n  }\n\n  return ranges.toList()\n}\n\n\nprivate fun _createIntRange(start: String, end: String) = IntRange(start.toInt(), end.toInt())\nprivate fun _createLongRange(start: String, end: String) = LongRange(start.toLong(), end.toLong())\n\n</code></pre>\n"}], "owner": {"reputation": 7290, "user_id": 1203288, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3d3f848f08e23466d70487ffe039a2a0?s=128&d=identicon&r=PG", "display_name": "bsara", "link": "https://stackoverflow.com/users/1203288/bsara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 384, "favorite_count": 1, "accepted_answer_id": 56979769, "answer_count": 1, "score": -1, "last_activity_date": 1562803382, "creation_date": 1562800791, "last_edit_date": 1562802401, "question_id": 56979768, "link": "https://stackoverflow.com/questions/56979768/convert-collection-of-numbers-to-range-formatted-string-with-kotlin", "title": "Convert collection of numbers to range formatted string with Kotlin", "body": "<p>I have a very large list of numbers. I need to pass this list of numbers as a URL query parameter. Since these lists can get so large, it could potentially cause the request URL to exceed <a href=\"https://stackoverflow.com/a/417184/1203288\">the allowed length of a URL</a>; also, it's a bit difficult to debug a string of sequential numbers (E.G. <code>1,2,3,..,500,782</code>). To remedy these issues, I would like to convert the sequential number list string to one that is formatted using a range notation (E.G. <code>-5..-3,1..500,782</code>). How do I create this range notation string using Kotlin and how do I parse the string back to a collection of numbers also using Kotlin?</p>\n"}, {"tags": ["android", "exception", "kotlin", "nullpointerexception"], "comments": [{"owner": {"reputation": 1605, "user_id": 415673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5b6587837176e54e1bf1404d6335530?s=128&d=identicon&r=PG", "display_name": "fangzhzh", "link": "https://stackoverflow.com/users/415673/fangzhzh"}, "edited": false, "score": 0, "creation_date": 1562802067, "post_id": 56979653, "comment_id": 100495587, "body": "your problem is not <code>lateinit var</code>, but activity life cycle. Doing ui job after activity is destroyed is bad. there are a lot of ways to make it work, rxjava, couroutines, livedata, presenter."}], "answers": [{"comments": [{"owner": {"reputation": 4810, "user_id": 3598052, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/vzoEE.jpg?s=128&g=1", "display_name": "Chitrang", "link": "https://stackoverflow.com/users/3598052/chitrang"}, "edited": false, "score": 0, "creation_date": 1562956051, "post_id": 56979774, "comment_id": 100557049, "body": "Thanks for your theoretical answer. However, I am looking for a more precise solution for a typical use case where there is an API call, user press back button and, now, how to prevent NPE?   For now, we are using <a href=\"https://loopj.com/android-async-http/\" rel=\"nofollow noreferrer\">loopj.com/android-async-http</a> with custom subscription based logic in order to prevent NPE. Since we&#39;re migrating our code to Kotlin, do you have any recommendation for API call with Retrofit + Coroutines + synthetic extension to prevent NPE?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 4810, "user_id": 3598052, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/vzoEE.jpg?s=128&g=1", "display_name": "Chitrang", "link": "https://stackoverflow.com/users/3598052/chitrang"}, "edited": false, "score": 0, "creation_date": 1562956381, "post_id": 56979774, "comment_id": 100557180, "body": "@Chitrang: Again, NPE is not your problem, at least not directly. A non-<code>null</code> property or variable cannot be <code>null</code>. However, if the activity has been destroyed by the time your asynchronous work completes, even though your references to the <code>View</code> objects will not be <code>null</code>, they may still result in crashes. &quot;do you have any recommendation&quot; -- I covered that in my answer. <a href=\"https://gitlab.com/commonsguy/cw-jetpack-kotlin/tree/v0.4/Weather\" rel=\"nofollow noreferrer\">This sample app</a> illustrates the <code>LiveData</code> approach that I mentioned, along with Retrofit and coroutines."}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 1, "last_activity_date": 1562800811, "creation_date": 1562800811, "answer_id": 56979774, "question_id": 56979653, "link": "https://stackoverflow.com/questions/56979653/is-it-possbile-to-have-npe-if-variable-is-initialised-with-lateinit-or-synthetic/56979774#56979774", "title": "Is it possbile to have NPE if variable is initialised with lateinit or synthetic extension?", "body": "<blockquote>\n  <p>Is it possible to get NPE if I don't check for - if (pbar != null) ?</p>\n</blockquote>\n\n<p>No. That property cannot be <code>null</code>.</p>\n\n<p>However, you are likely to crash anyway. Do not attempt to modify a destroyed activity, including updating its views. Either:</p>\n\n<ul>\n<li><p>Use something like <code>LiveData</code> to tell the activity about the event, so the activity can respond to the event if the activity is around, but the event can be ignored if the activity is destroyed; or</p></li>\n<li><p>Check <code>isDestroyed</code> on the activity to see if it was destroyed, before attempting to update its views (also consider <code>isFinishing</code>, as you may not need to bother with the view updates anyway)</p></li>\n</ul>\n\n<p>Of the two, I strongly recommend the former approach, as part of replacing <code>AsyncTask</code>.</p>\n\n<blockquote>\n  <p>Same question if variables are generated through synthetic extension, will there be any NPE? </p>\n</blockquote>\n\n<p>No, it cannot be <code>null</code>, but you can crash anyway (see above).</p>\n"}], "owner": {"reputation": 4810, "user_id": 3598052, "user_type": "registered", "accept_rate": 22, "profile_image": "https://i.stack.imgur.com/vzoEE.jpg?s=128&g=1", "display_name": "Chitrang", "link": "https://stackoverflow.com/users/3598052/chitrang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 56979774, "answer_count": 1, "score": 0, "last_activity_date": 1562800811, "creation_date": 1562799660, "question_id": 56979653, "link": "https://stackoverflow.com/questions/56979653/is-it-possbile-to-have-npe-if-variable-is-initialised-with-lateinit-or-synthetic", "title": "Is it possbile to have NPE if variable is initialised with lateinit or synthetic extension?", "body": "<p>Is it possible to have NPE if the variable is initialised with lateinit?</p>\n\n<p>1/ lateinit var pbar: ProgressBar</p>\n\n<p>2/ pbar = findViewById(R.id.pbar_login)</p>\n\n<p>3/ make an api call, pbar.visibility = View.VISIBLE</p>\n\n<p>4/ pressback and destroy the activity(assuming that all views will also get destroyed)</p>\n\n<p>5/ </p>\n\n<pre><code>override fun onPostExecute() {\n    if (pbar != null) { // warning: pbar != null is always true\n        pbar.visibility = View.GONE // NPE??\n    }\n}\n</code></pre>\n\n<p><strong>Questions:</strong></p>\n\n<p>1) Is it possible to get NPE if I don't check for -  if (pbar != null) ?</p>\n\n<p>2) Same question if variables are generated through synthetic extension, will there be any NPE? </p>\n\n<hr>\n\n<p>I have gone through <a href=\"https://stackoverflow.com/questions/33023443/kotlin-lateinit-properties-npe-danger\">this</a> question, in this case, my further question is,</p>\n\n<p>Are there any best practices to avoid NPE for views related variables in activity, fragments or recyclerview?</p>\n"}, {"tags": ["c++", "kotlin", "io"], "answers": [{"comments": [{"owner": {"reputation": 3999, "user_id": 101954, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/37gU2.jpg?s=128&g=1", "display_name": "CW Holeman II", "link": "https://stackoverflow.com/users/101954/cw-holeman-ii"}, "edited": false, "score": 0, "creation_date": 1562879602, "post_id": 56992576, "comment_id": 100528662, "body": "How about the hiding of the regex and formatting details from the user of College?"}, {"owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "reply_to_user": {"reputation": 3999, "user_id": 101954, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/37gU2.jpg?s=128&g=1", "display_name": "CW Holeman II", "link": "https://stackoverflow.com/users/101954/cw-holeman-ii"}, "edited": false, "score": 0, "creation_date": 1562919016, "post_id": 56992576, "comment_id": 100538618, "body": "I just extend my answer with some ideas to hide the details."}, {"owner": {"reputation": 3999, "user_id": 101954, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/37gU2.jpg?s=128&g=1", "display_name": "CW Holeman II", "link": "https://stackoverflow.com/users/101954/cw-holeman-ii"}, "edited": false, "score": 0, "creation_date": 1562947614, "post_id": 56992576, "comment_id": 100553896, "body": "The &#39;Registry for parsers&#39; addresses the question that popped up.  Can the .register() be hidden in the class?"}, {"owner": {"reputation": 3999, "user_id": 101954, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/37gU2.jpg?s=128&g=1", "display_name": "CW Holeman II", "link": "https://stackoverflow.com/users/101954/cw-holeman-ii"}, "edited": false, "score": 0, "creation_date": 1563150956, "post_id": 56992576, "comment_id": 100593157, "body": "I am trying it. I have describe the results I get in <a href=\"https://stackoverflow.com/questions/57015559/eclipse-kotlin-identifying-just-some-needed-imports\" title=\"eclipse kotlin identifying just some needed imports\">stackoverflow.com/questions/57015559/&hellip;</a> . Any ideas?"}, {"owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "reply_to_user": {"reputation": 3999, "user_id": 101954, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/37gU2.jpg?s=128&g=1", "display_name": "CW Holeman II", "link": "https://stackoverflow.com/users/101954/cw-holeman-ii"}, "edited": false, "score": 0, "creation_date": 1563169369, "post_id": 56992576, "comment_id": 100596134, "body": "It looks like you missed the &quot;org.jetbrains.kotlin:kotlin-stdlib&quot; and maybe the &quot;org.jetbrains.kotlin:kotlin-reflect&quot; in your dependencies."}], "tags": [], "owner": {"reputation": 4397, "user_id": 9164471, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-IY5Hr42LB7Q/AAAAAAAAAAI/AAAAAAAAAHc/sk_5_2q1nCU/photo.jpg?sz=128", "display_name": "Rene", "link": "https://stackoverflow.com/users/9164471/rene"}, "is_accepted": false, "score": 0, "last_activity_date": 1563099615, "last_edit_date": 1563099615, "creation_date": 1562858600, "answer_id": 56992576, "question_id": 56979307, "link": "https://stackoverflow.com/questions/56979307/kotlin-load-a-collection-of-a-class-from-a-file/56992576#56992576", "title": "Kotlin load a collection of a class from a file?", "body": "<p>There are many ways to parse a file and split the lines in Kotlin / Java. \nThe next example uses a Regex to split the line into an id and the name for the college:</p>\n\n<pre><code>data class College(val id: String, val name: String)\n\nval colleges = File(\"input.txt\").useLines { lines -&gt;\n    val regex = Regex(\"(\\\\d+) (.+)\")\n    lines.mapNotNull { line -&gt;\n        regex.matchEntire(line)?.let {\n            College(it.groupValues[1], it.groupValues[2])\n        }\n    }.toList()\n}\n</code></pre>\n\n<p>If you need to read from the standard input, then replace the third line with:</p>\n\n<pre><code>val colleges = InputStreamReader(System.`in`).useLines { lines -&gt;\n</code></pre>\n\n<p><strong>Update: Hide details</strong></p>\n\n<p>There is no general way to parse text files into object in Java / Kotlin. For XML and Json files exists some standard APIs and you can register Serializer/Deserializer for each type. </p>\n\n<p>If you need such an abstraction for simple line oriented text files you have to build it yourself. The next examples may give you an idea:</p>\n\n<pre><code>fun &lt;T : Any&gt; File.parseLines(lineParser: (String) -&gt; T?): List&lt;T&gt; =\n    useLines { it.mapNotNull(lineParser).toList() }\n</code></pre>\n\n<p>The function extend the <code>File</code> class with a <code>parseLines</code> method.</p>\n\n<p>The implementation of the line parser for class <code>College</code> would be like this:</p>\n\n<pre><code>val collegeLineParser: (String) -&gt; College? = { line -&gt;\n    val regex = Regex(\"(\\\\d+) (.+)\")\n    regex.matchEntire(line)?.let {\n        College(it.groupValues[1], it.groupValues[2])\n    }\n}\n</code></pre>\n\n<p>Or if you like to cache the <code>RegEx</code>:</p>\n\n<pre><code>val collegeLineParserCachedRegex = object : (String) -&gt; College? {\n    val regex = Regex(\"(\\\\d+) (.+)\")\n    override fun invoke(line: String): College? =\n        regex.matchEntire(line)?.let {\n            College(it.groupValues[1], it.groupValues[2])\n        }\n}\n</code></pre>\n\n<p>Now you can invoke the method <code>parseLines</code> on a <code>File</code>: </p>\n\n<pre><code>val colleges = File(\"input.txt\").parseLines(collegeLineParser)\n</code></pre>\n\n<p><strong>Update: Registry for parsers</strong></p>\n\n<p>If you do not like to provide the <code>lineParser</code> for every call, you can create a registry: </p>\n\n<pre><code>object LineParserRegistry {\n    val parsers = ConcurrentHashMap&lt;KClass&lt;*&gt;, (String) -&gt; Any?&gt;()\n\n    inline fun &lt;reified T&gt; register(noinline parser : (String) -&gt; T?) {\n        parsers[T::class] = parser\n    }\n\n    inline fun &lt;reified T&gt; get(): (String) -&gt; T? {\n        // force companion initializer\n        Class.forName(T::class.java.name)\n        return parsers[T::class] as (String) -&gt; T??\n    }\n}\n\ninline fun &lt;reified T : Any&gt; File.parseLines(): List&lt;T&gt; =\n    useLines { it.mapNotNull(LineParserRegistry.get&lt;T&gt;()).toList() }\n</code></pre>\n\n<p>If you like to register the parsers automatically you need to add an companion object with an <code>init</code> method:</p>\n\n<pre><code>data class College(val id: String, val name: String) {\n    companion object {\n        init {\n            val collegeLineParser: (String) -&gt; College? = { line -&gt;\n                val regex = Regex(\"(\\\\d+) (.+)\")\n                regex.matchEntire(line)?.let {\n                    College(it.groupValues[1], it.groupValues[2])\n                }\n            }\n            LineParserRegistry.register(collegeLineParser)\n        }\n    }\n}\n</code></pre>\n\n<p>This <code>init</code> method is invoked the first time the <code>College</code> class is used. But reflection does not count, therefore we had to add <code>Class.forName(T::class.java.name)</code> into the <code>get</code> method of the registry. This call forces the initialization of the companion object.</p>\n\n<p>Now you can call the parser without any preparations: </p>\n\n<pre><code>val colleges = File(\"input.txt\").parseLines&lt;College&gt;()\n</code></pre>\n"}], "owner": {"reputation": 3999, "user_id": 101954, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/37gU2.jpg?s=128&g=1", "display_name": "CW Holeman II", "link": "https://stackoverflow.com/users/101954/cw-holeman-ii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1563099615, "creation_date": 1562796754, "question_id": 56979307, "link": "https://stackoverflow.com/questions/56979307/kotlin-load-a-collection-of-a-class-from-a-file", "title": "Kotlin load a collection of a class from a file?", "body": "<p>In C++ I can load a collection of a class from a file using a friend <a href=\"https://en.cppreference.com/w/cpp/io/basic_istream/operator_gtgt2\" rel=\"nofollow noreferrer\">operator>></a> overload:</p>\n\n<pre><code>friend std::istream&amp; operator&gt;&gt;(std::istream&amp; is_a, College&amp; college_a) {\n    return is_a &gt;&gt; college_a.id_,\n        is_a.get(),\n        std::getline(is_a,college_a.name_);\n}\n\nstd::set&lt;College&gt; colleges {};\nstd::copy(std::istream_iterator&lt;College&gt; {std::cin},\n    std::istream_iterator&lt;College&gt; {},\n    std::inserter(colleges, colleges.begin())); \n</code></pre>\n\n<p>from a file like this:</p>\n\n<pre><code>0707 Rowan Technical College\n0980 University of Saskatchewan\n1058 Belmont University\n1072 Belmont Technical College\n</code></pre>\n\n<p>How would this be done with Kotlin?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-studio-3.0"], "comments": [{"owner": {"reputation": 2265, "user_id": 10309564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/161d133bb8da574e6b527f3a09531ede?s=128&d=identicon&r=PG&f=1", "display_name": "grolschie", "link": "https://stackoverflow.com/users/10309564/grolschie"}, "edited": false, "score": 0, "creation_date": 1562797597, "post_id": 56979239, "comment_id": 100494655, "body": "If you need to access the class outside of your Activity, you should really create a new class file (in the case of using Java) in the folder where your other class files are. Right-click said folder and create a new Java class file."}, {"owner": {"reputation": 2530, "user_id": 876267, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0961701cb2a8116d88f10e04130b3e5b?s=128&d=identicon&r=PG", "display_name": "Mehmed", "link": "https://stackoverflow.com/users/876267/mehmed"}, "edited": false, "score": 0, "creation_date": 1562797604, "post_id": 56979239, "comment_id": 100494657, "body": "You can create a separate class (<code>MyUtil</code> class maybe) and use it in your activities. If all of your methods are static, then you can call them directly like <code>MyUtil.someFnc()</code> without creating any object in your activities."}, {"owner": {"reputation": 2265, "user_id": 10309564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/161d133bb8da574e6b527f3a09531ede?s=128&d=identicon&r=PG&f=1", "display_name": "grolschie", "link": "https://stackoverflow.com/users/10309564/grolschie"}, "edited": false, "score": 0, "creation_date": 1562797713, "post_id": 56979239, "comment_id": 100494685, "body": "Possible duplicate of: <a href=\"https://stackoverflow.com/questions/45648631/how-to-add-a-kotlin-class-in-an-android-studio-project\" title=\"how to add a kotlin class in an android studio project\">stackoverflow.com/questions/45648631/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11721382, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zJsc_v1eCuQ/AAAAAAAAAAI/AAAAAAAABus/5GtQMXQHd6Q/photo.jpg?sz=128", "display_name": "Rafael Hern&#225;ndez", "link": "https://stackoverflow.com/users/11721382/rafael-hern%c3%a1ndez"}, "is_accepted": false, "score": 0, "last_activity_date": 1562804174, "creation_date": 1562804174, "answer_id": 56980132, "question_id": 56979239, "link": "https://stackoverflow.com/questions/56979239/where-how-exactly-do-i-create-an-object-class-in-android-studio/56980132#56980132", "title": "Where/how exactly do I create an object/class in Android studio?", "body": "<p>There is no consensual way of doing this. It depends on what you need, but you can make your class implement Parcelable, put it in a bundle, the bundle in an intent and use the intent when starting the activity. Something like this:</p>\n\n<pre><code>        Intent intent = new Intent(getApplicationContext(), OtherActivity.class);\n        Bundle bundle = new Bundle();\n        Parcelable myObject = new MyObject();\n        bundle.putParcelable(\"keyForMyObject\", myObject);\n        intent.putExtras(bundle);\n        startActivity(intent);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 612, "user_id": 9416912, "user_type": "registered", "profile_image": "https://graph.facebook.com/1925749814104817/picture?type=large", "display_name": "Lee Boon Kong", "link": "https://stackoverflow.com/users/9416912/lee-boon-kong"}, "is_accepted": false, "score": 0, "last_activity_date": 1562814299, "creation_date": 1562814299, "answer_id": 56981095, "question_id": 56979239, "link": "https://stackoverflow.com/questions/56979239/where-how-exactly-do-i-create-an-object-class-in-android-studio/56981095#56981095", "title": "Where/how exactly do I create an object/class in Android studio?", "body": "<p>Well, it all based on how you want to design and structure your app, for me, I would usually create a new package named <code>objects</code>, or <code>pojo</code>, on my main package and place all my newly created objects there.</p>\n\n<p>You can do it your way if that object you created are only used by your MainActivity, but if it goes beyond that, creating a new file would be a better choice.</p>\n"}], "owner": {"reputation": 49, "user_id": 11076252, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zg9OAKMqLEs/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQPZAmmQrY1cYo7aktW7lTat_A_r0A/mo/photo.jpg?sz=128", "display_name": "Dean Rantala", "link": "https://stackoverflow.com/users/11076252/dean-rantala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1562814299, "creation_date": 1562796359, "question_id": 56979239, "link": "https://stackoverflow.com/questions/56979239/where-how-exactly-do-i-create-an-object-class-in-android-studio", "title": "Where/how exactly do I create an object/class in Android studio?", "body": "<p>I have a single project (app) in which I currently have a few functions in a single activity for handling some routines I now need to access elsewhere (from another activity).  The functions are static, and I have read that - in Kotlin speak - I need to create an object.</p>\n\n<p>Sounds simple enough... Plenty of examples.  But where do I place the object??  At the top of my MainActivity?  Since Java/Kotlin is compiled, can I just place it there?  Or is there a formal place to create a NEW file dedicated to this object and just include/import it from each activity that needs it?</p>\n"}, {"tags": ["android", "unit-testing", "kotlin"], "comments": [{"owner": {"reputation": 1648, "user_id": 965799, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be072fc6f2facdf97cf087cbf7b8b867?s=128&d=identicon&r=PG", "display_name": "Ian Medeiros", "link": "https://stackoverflow.com/users/965799/ian-medeiros"}, "edited": false, "score": 1, "creation_date": 1562793806, "post_id": 56978390, "comment_id": 100493621, "body": "Why are you mocking spannable string instead of providing a simple spannable string with SpannableString(&quot;foo&quot;) ?"}, {"owner": {"reputation": 1395, "user_id": 1344550, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/ef9a02170fe76e9c76abfa3802c60b4b?s=128&d=identicon&r=PG", "display_name": "linker85", "link": "https://stackoverflow.com/users/1344550/linker85"}, "reply_to_user": {"reputation": 1648, "user_id": 965799, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be072fc6f2facdf97cf087cbf7b8b867?s=128&d=identicon&r=PG", "display_name": "Ian Medeiros", "link": "https://stackoverflow.com/users/965799/ian-medeiros"}, "edited": false, "score": 0, "creation_date": 1562850349, "post_id": 56978390, "comment_id": 100514461, "body": "Because I want to later verify the text that the spanable string receives"}, {"owner": {"reputation": 1648, "user_id": 965799, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/be072fc6f2facdf97cf087cbf7b8b867?s=128&d=identicon&r=PG", "display_name": "Ian Medeiros", "link": "https://stackoverflow.com/users/965799/ian-medeiros"}, "edited": false, "score": 0, "creation_date": 1562863255, "post_id": 56978390, "comment_id": 100521889, "body": "And why don&#39;t you simple assert that the spannabble has the string that you want?"}, {"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1562909514, "post_id": 56978390, "comment_id": 100534564, "body": "you should not be mocking android components/frameworks/code, as android works and it doesn&#39;t need testing, instead, you should be testing your own logic and implementation of those frameworks and components"}], "owner": {"reputation": 1395, "user_id": 1344550, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/ef9a02170fe76e9c76abfa3802c60b4b?s=128&d=identicon&r=PG", "display_name": "linker85", "link": "https://stackoverflow.com/users/1344550/linker85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 244, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562791507, "creation_date": 1562791507, "question_id": 56978390, "link": "https://stackoverflow.com/questions/56978390/why-am-i-getting-java-lang-unsupportedoperationexception-class-redefinition-fai", "title": "Why am I getting java.lang.UnsupportedOperationException: class redefinition failed: attempted to add a method", "body": "<p>Good afternoon.\nI'm writing a unit test with Mockk in Kotlin.\nI need to mock the Android class 'SpannableString'</p>\n\n<p>Here is my code</p>\n\n<pre><code>private val spannableString = mockk&lt;SpannableString&gt;()\n    @Before\n    open fun setup() {\n    every { spannableString.toString() } returns SPANNABLE_STRING_VALUE\n    every { spannableStringWrapper.get() } returns spannableString\n    every { suggestion.id } returns SUGGESTION_ID\n    every { suggestion.label } returns \"The Shard\"\n    every { customerSessionStorageProvider.guid } returns \"guid\"\n}\n</code></pre>\n\n<p>So when I run my test class I'm getting:</p>\n\n<pre><code>java.lang.UnsupportedOperationException: class redefinition failed: attempted to add a method\n\nat sun.instrument.InstrumentationImpl.retransformClasses0(Native Method)\nat sun.instrument.InstrumentationImpl.retransformClasses(InstrumentationImpl.java:144)\nat io.mockk.proxy.jvm.transformation.InlineInstrumentation.doCancel(InlineInstrumentation.kt:60)\nat io.mockk.proxy.jvm.transformation.InlineInstrumentation.access$doCancel(InlineInstrumentation.kt:9)\nat io.mockk.proxy.jvm.transformation.InlineInstrumentation$execute$cancellation$1.invoke(InlineInstrumentation.kt:20)\nat io.mockk.proxy.jvm.transformation.InlineInstrumentation$execute$cancellation$1.invoke(InlineInstrumentation.kt:9)\nat io.mockk.proxy.jvm.transformation.InlineInstrumentation.execute(InlineInstrumentation.kt:43)\nat io.mockk.proxy.jvm.ProxyMaker.inline(ProxyMaker.kt:88)\nat io.mockk.proxy.jvm.ProxyMaker.proxy(ProxyMaker.kt:30)\nat io.mockk.impl.instantiation.JvmMockFactory.newProxy(JvmMockFactory.kt:34)\nat io.mockk.impl.instantiation.AbstractMockFactory.newProxy$default(AbstractMockFactory.kt:29)\nat io.mockk.impl.instantiation.AbstractMockFactory.mockk(AbstractMockFactory.kt:58)\n</code></pre>\n\n<p>Anyone knows why am I getting that error?</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["android", "android-layout", "android-fragments", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 5389331, "user_type": "registered", "profile_image": "https://graph.facebook.com/453179218194920/picture?type=large", "display_name": "Alan Matvienko", "link": "https://stackoverflow.com/users/5389331/alan-matvienko"}, "is_accepted": false, "score": 0, "last_activity_date": 1562791397, "creation_date": 1562791397, "answer_id": 56978360, "question_id": 56978300, "link": "https://stackoverflow.com/questions/56978300/how-do-you-add-multiple-child-layout-views-to-a-materialcardview-dynamically-fro/56978360#56978360", "title": "How do you add multiple child layout views to a MaterialCardView dynamically from within a fragment?", "body": "<p>Why don't you set a Layout as the child view of the CardView and add your list elements programmatically to this Layout instead of adding them all to CardView?</p>\n"}, {"tags": [], "owner": {"reputation": 3446, "user_id": 11016588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-F6RcLML2H6o/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQO0WVT35BZ4DGhtU0gK3nG_5sC3Ww/mo/photo.jpg?sz=128", "display_name": "Chrisvin Jem", "link": "https://stackoverflow.com/users/11016588/chrisvin-jem"}, "is_accepted": true, "score": 2, "last_activity_date": 1562792976, "creation_date": 1562792976, "answer_id": 56978679, "question_id": 56978300, "link": "https://stackoverflow.com/questions/56978300/how-do-you-add-multiple-child-layout-views-to-a-materialcardview-dynamically-fro/56978679#56978679", "title": "How do you add multiple child layout views to a MaterialCardView dynamically from within a fragment?", "body": "<p>Just add a <code>LinearLayout</code> inside the <code>MaterialCardView</code> and insert your child views to the layout directly. <code>MaterialCardView</code> extends <code>CardView</code> and <code>CardView</code> is designed to hold a single child view within itself.</p>\n\n<pre><code>&lt;com.google.android.material.card.MaterialCardView\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"wrap_content\"\n  android:layout_marginTop=\"16dp\"&gt;\n    &lt;LinearLayout\n    android:id=\"@+id/basket_products_card\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n        &lt;!-- Layout Child Views Should go here --&gt;\n    &lt;/LinearLayout&gt;\n&lt;/com.google.android.material.card.MaterialCardView&gt;\n</code></pre>\n"}], "owner": {"reputation": 223, "user_id": 9333553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc828804c42697bb2bf67cb54da5969e?s=128&d=identicon&r=PG&f=1", "display_name": "Pritam Sangani", "link": "https://stackoverflow.com/users/9333553/pritam-sangani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 728, "favorite_count": 0, "accepted_answer_id": 56978679, "answer_count": 2, "score": 0, "last_activity_date": 1562792976, "creation_date": 1562791145, "question_id": 56978300, "link": "https://stackoverflow.com/questions/56978300/how-do-you-add-multiple-child-layout-views-to-a-materialcardview-dynamically-fro", "title": "How do you add multiple child layout views to a MaterialCardView dynamically from within a fragment?", "body": "<p>On one of my fragment, I have a CardView, where I want to add multiple child views, based on a layout file. The number of child views being added will depend on how many items are in a List object (so I use a for loop to iterate over the list). When I add a view to the cardview, the app crashes with an error saying I have to remove child views before adding another view.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n    &lt;data&gt;\n        &lt;import type=\"com.mahaprasad.mahaprasad.models.DeliveryMethod\" /&gt;\n        &lt;import type=\"android.view.View\" /&gt;\n        &lt;variable\n            name=\"viewModel\"\n            type=\"com.mahaprasad.mahaprasad.screens.checkoutflow.CheckoutSharedViewModel\" /&gt;\n    &lt;/data&gt;\n\n    &lt;androidx.coordinatorlayout.widget.CoordinatorLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n        &lt;androidx.core.widget.NestedScrollView\n            android:id=\"@+id/nested_scroll_view\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            android:layout_marginBottom=\"50dp\"&gt;\n\n            &lt;androidx.constraintlayout.widget.ConstraintLayout\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:fitsSystemWindows=\"true\"&gt;\n\n                &lt;com.google.android.material.card.MaterialCardView\n                    android:id=\"@+id/basket_products_card\"\n                    android:layout_width=\"match_parent\"\n                    android:layout_height=\"wrap_content\"\n                    android:layout_marginTop=\"16dp\"&gt;\n\n                    &lt;!-- Layout Child Views Should go here --&gt;                   \n\n                &lt;/com.google.android.material.card.MaterialCardView&gt;\n\n            &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n        &lt;/androidx.core.widget.NestedScrollView&gt;\n\n        &lt;com.google.android.material.button.MaterialButton\n            android:id=\"@+id/checkout_button\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"bottom|start\"\n            android:insetBottom=\"0dp\"\n            android:text=\"Place Order\"\n            android:textAlignment=\"viewStart\"\n            app:backgroundTint=\"@color/green_button_colour\"\n            app:cornerRadius=\"0dp\" /&gt;\n\n    &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;\n\n&lt;/layout&gt;\n\n</code></pre>\n\n<pre><code>Layout template\n&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"&gt;\n\n    &lt;data&gt;\n        &lt;variable\n            name=\"product\"\n            type=\"com.mahaprasad.mahaprasad.models.Product\" /&gt;\n    &lt;/data&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_margin=\"8dp\"&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatImageView\n            android:id=\"@+id/product_image\"\n            android:layout_width=\"90dp\"\n            android:layout_height=\"90dp\"\n            android:maxWidth=\"100dp\"\n            android:maxHeight=\"100dp\"\n            android:src=\"@drawable/chedvo\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            tools:layout_editor_absoluteX=\"50dp\" /&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatTextView\n            android:id=\"@+id/product_name_text\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"5dp\"\n            android:layout_marginTop=\"5dp\"\n            android:maxWidth=\"300dp\"\n            android:textSize=\"18sp\"\n            android:textColor=\"@color/colourBlack\"\n            android:autoSizeMaxTextSize=\"18sp\"\n            android:autoSizeMinTextSize=\"14sp\"\n            android:autoSizeStepGranularity=\"1sp\"\n            android:autoSizeTextType=\"uniform\"\n            android:maxLines=\"1\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:layout_constraintStart_toEndOf=\"@id/product_image\"\n            app:layout_constraintBottom_toTopOf=\"@id/product_size_text\"\n            app:productName=\"@{product}\"\n            app:autoSizeMaxTextSize=\"18sp\"\n            app:autoSizeMinTextSize=\"14sp\"\n            app:autoSizeStepGranularity=\"2sp\"\n            tools:text=\"Chedvo (Farari Chedvoooooo)\"\n            tools:targetApi=\"o\" /&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatTextView\n            android:id=\"@+id/product_size_text\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"5dp\"\n            android:textSize=\"15sp\"\n            app:layout_constraintTop_toBottomOf=\"@id/product_name_text\"\n            app:layout_constraintStart_toEndOf=\"@id/product_image\"\n            app:productSize=\"@{product}\"\n            tools:text=\"6 per pack\" /&gt;\n\n        &lt;androidx.appcompat.widget.AppCompatTextView\n            android:id=\"@+id/product_price_text\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginStart=\"5dp\"\n            android:textColor=\"@color/colourBlack\"\n            android:textSize=\"15sp\"\n            app:layout_constraintStart_toEndOf=\"@id/product_image\"\n            app:layout_constraintTop_toBottomOf=\"@id/product_size_text\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"\n            app:productBasketQuantity=\"@{product}\"\n            tools:text=\"1 x \u00a35.00\" /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/layout&gt;\n\n</code></pre>\n\n<pre><code>class ReviewOrderFragment : Fragment() {\n    private lateinit var viewModel: CheckoutSharedViewModel\n    private val args: ReviewOrderFragmentArgs by navArgs()\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val binding: FragmentReviewOrderBinding = DataBindingUtil.inflate(\n            inflater, R.layout.fragment_review_order, container, false)\n\n        viewModel = activity?.run {\n            ViewModelProviders.of(this).get(CheckoutSharedViewModel::class.java)\n        } ?: throw Exception(\"Invalid Activity\")\n\n        populateBasketProductsCard(inflater, binding.basketProductsCard)\n\n        binding.viewModel = viewModel\n        binding.lifecycleOwner = this\n\n        return binding.root\n    }\n\n    private fun populateBasketProductsCard(inflater: LayoutInflater, basketProductsCard: MaterialCardView) {\n        val productInfoView: View = inflater.inflate(R.layout.layout_review_order_product_card, null)\n        val basket = args.order.basket.basket\n\n        basket.forEachIndexed { index, product -&gt;\n            val productsCardBinding: LayoutReviewOrderProductCardBinding = DataBindingUtil.inflate(\n                inflater, R.layout.layout_review_order_product_card, null, false)\n\n            productsCardBinding.product = product\n\n            basketProductsCard.addView(\n                productInfoView,\n                index,\n                ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, ViewGroup.LayoutParams.WRAP_CONTENT)\n            )\n        }\n\n    }\n\n}\n\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-permissions"], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 8685250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4XyAs.jpg?s=128&g=1", "display_name": "Hayes Roach", "link": "https://stackoverflow.com/users/8685250/hayes-roach"}, "reply_to_user": {"reputation": 866, "user_id": 8263293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/402fc9c505d16e06268b1f744a028220?s=128&d=identicon&r=PG&f=1", "display_name": "rm -rf", "link": "https://stackoverflow.com/users/8263293/rm-rf"}, "edited": false, "score": 1, "creation_date": 1562790913, "post_id": 56978149, "comment_id": 100492531, "body": "@rm-rf Here is an example of adding these types of permissions to the manifest file: <a href=\"https://stackoverflow.com/a/2169311/8685250\">stackoverflow.com/a/2169311/8685250</a>"}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 4, "last_activity_date": 1562790365, "creation_date": 1562790365, "answer_id": 56978149, "question_id": 56978082, "link": "https://stackoverflow.com/questions/56978082/ask-permissions-just-showing-granted/56978149#56978149", "title": "Ask permissions just showing granted", "body": "<p>Neither <code>INTERNET</code> nor <code>NFC</code> are permissions that need to be requested at runtime. Just having them in the manifest (via <code>&lt;uses-permission&gt;</code> elements) is sufficient.</p>\n\n<p>Only permissions with a protection level of <code>dangerous</code> need to be requested at runtime &mdash; <a href=\"https://developer.android.com/guide/topics/permissions/overview.html#permission-groups\" rel=\"nofollow noreferrer\">this table</a> lists those. <code>INTERNET</code> and <code>NFC</code> are <code>normal</code> permissions, not <code>dangerous</code>.</p>\n"}], "owner": {"reputation": 866, "user_id": 8263293, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/402fc9c505d16e06268b1f744a028220?s=128&d=identicon&r=PG&f=1", "display_name": "rm -rf", "link": "https://stackoverflow.com/users/8263293/rm-rf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 56978149, "answer_count": 1, "score": 2, "last_activity_date": 1562791518, "creation_date": 1562790078, "last_edit_date": 1562791518, "question_id": 56978082, "link": "https://stackoverflow.com/questions/56978082/ask-permissions-just-showing-granted", "title": "Ask permissions just showing granted", "body": "<p>I followed the simple steps to ask for multiple permissions at once, here is my code for the permission request:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    private val permissionCode = 100\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    getPermissions()\n}\n\nfun getPermissions() {\n    ActivityCompat.requestPermissions(\n        this,\n        arrayOf(Manifest.permission.NFC, Manifest.permission.INTERNET),\n        permissionCode\n    )\n}\n\noverride fun onRequestPermissionsResult(requestCode: Int, permissions: Array&lt;out String&gt;, grantResults: IntArray) {\n        when (requestCode) {\n            permissionCode -&gt; {\n                if (grantResults.isNotEmpty() &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED) {\n                    // Permission granted\n                    Toast.makeText(this, \"Permissions granted\", Toast.LENGTH_SHORT).show()\n                } else {\n                    // Permission denied\n                    Toast.makeText(this, \"Permission denied\", Toast.LENGTH_SHORT).show()\n                }\n            }\n        }\n    }\n</code></pre>\n\n<p>When I am starting the app I dont get any dialog to accept or deny the permissions and just get the toast \"Permissions granted\" but if I check the permissions in the app info I dont see any permissions granted. What I am doing wrong? Can someone help me?</p>\n"}, {"tags": ["android", "android-intent", "kotlin", "sharedpreferences", "parcelable"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1562790446, "post_id": 56978076, "comment_id": 100492351, "body": "Do not have two activities. Have one activity and two fragments. Or, have the object be <i>carefully</i> managed by some sort of singleton repository that both activities use."}, {"owner": {"reputation": 121, "user_id": 8685250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4XyAs.jpg?s=128&g=1", "display_name": "Hayes Roach", "link": "https://stackoverflow.com/users/8685250/hayes-roach"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1562790663, "post_id": 56978076, "comment_id": 100492440, "body": "I agree with @CommonsWare, the best way to handle this would probably be by breaking down the data into small fragments."}, {"owner": {"reputation": 2530, "user_id": 876267, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0961701cb2a8116d88f10e04130b3e5b?s=128&d=identicon&r=PG", "display_name": "Mehmed", "link": "https://stackoverflow.com/users/876267/mehmed"}, "edited": false, "score": 1, "creation_date": 1562799243, "post_id": 56978076, "comment_id": 100495059, "body": "You can use <code>ViewModel</code> while separating data from the UI component."}], "answers": [{"comments": [{"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1562909693, "post_id": 56978222, "comment_id": 100534614, "body": "even though this answer works, it&#39;s reliant on a lot of things. it only works if there&#39;s any form of persistence (file, db, etc) in place already and the objects can be uniquely identified"}], "tags": [], "owner": {"reputation": 71, "user_id": 4907704, "user_type": "registered", "profile_image": "https://graph.facebook.com/1071680046193794/picture?type=large", "display_name": "Oleg Kuzmin", "link": "https://stackoverflow.com/users/4907704/oleg-kuzmin"}, "is_accepted": true, "score": 0, "last_activity_date": 1562790722, "creation_date": 1562790722, "answer_id": 56978222, "question_id": 56978076, "link": "https://stackoverflow.com/questions/56978076/android-the-best-practice-to-pass-big-object-between-activities/56978222#56978222", "title": "Android The best practice to pass big object between activities?", "body": "<p>The best practice is not passing the whole object through activities or fragments transaction. Better approach to save a file into DB or any local folder and pass to Acitvity/Fragment the link to object (id from DB or URI to file).</p>\n\n<pre><code>val intent = Intent(this, MainActivity::class.java)\nintent.putExtra(EXTRA_KEY_FILE_ID, fileId)\nstartActivity(intent)\n</code></pre>\n"}], "owner": {"reputation": 1234, "user_id": 3257513, "user_type": "registered", "accept_rate": 92, "profile_image": "https://graph.facebook.com/1636103468/picture?type=large", "display_name": "Yoni", "link": "https://stackoverflow.com/users/3257513/yoni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 221, "favorite_count": 0, "accepted_answer_id": 56978222, "answer_count": 1, "score": 1, "last_activity_date": 1562790722, "creation_date": 1562790045, "question_id": 56978076, "link": "https://stackoverflow.com/questions/56978076/android-the-best-practice-to-pass-big-object-between-activities", "title": "Android The best practice to pass big object between activities?", "body": "<p>I want to pass a big object(Parcelable) between two activities, what is the best practice for that? I can't use Intent because of the limitation of Parcelable:</p>\n\n<pre><code>android.os.TransactionTooLargeException: data parcel size 1002388 bytes\n</code></pre>\n\n<p>So, what is the best practice for that?</p>\n"}, {"tags": ["spring", "http", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 6353, "user_id": 3732958, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4ad4db32f4933b1bfcf0e0fa116781e0?s=128&d=identicon&r=PG", "display_name": "user2121", "link": "https://stackoverflow.com/users/3732958/user2121"}, "edited": false, "score": 0, "creation_date": 1562786674, "post_id": 56977356, "comment_id": 100490870, "body": "i am new to kotlin and spring..can i use spring in android studio...any recommendations on using it+"}, {"owner": {"reputation": 403, "user_id": 1054014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z8rEE.png?s=128&g=1", "display_name": "Hinotori", "link": "https://stackoverflow.com/users/1054014/hinotori"}, "reply_to_user": {"reputation": 6353, "user_id": 3732958, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4ad4db32f4933b1bfcf0e0fa116781e0?s=128&d=identicon&r=PG", "display_name": "user2121", "link": "https://stackoverflow.com/users/3732958/user2121"}, "edited": false, "score": 0, "creation_date": 1562787119, "post_id": 56977356, "comment_id": 100491040, "body": "i&#39;m more a backend programmer rather than mobile developer, but as far as know you can use Spring Boot with your mobile application. Spring has a Mobile project <a href=\"https://projects.spring.io/spring-mobile/\" rel=\"nofollow noreferrer\">projects.spring.io/spring-mobile</a>. If you are new to both Spring and Kotlin, i recommend you to write some Hello World applications"}], "tags": [], "owner": {"reputation": 403, "user_id": 1054014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z8rEE.png?s=128&g=1", "display_name": "Hinotori", "link": "https://stackoverflow.com/users/1054014/hinotori"}, "is_accepted": false, "score": 0, "last_activity_date": 1562786538, "creation_date": 1562786538, "answer_id": 56977356, "question_id": 56977275, "link": "https://stackoverflow.com/questions/56977275/how-to-initlaize-http-api-to-in-spring-boot-and-kotlin/56977356#56977356", "title": "How to initlaize HTTP API to in spring boot and kotlin", "body": "<p>The best way to do this is entering <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a> and selecting the needs of your project. </p>\n\n<p>If you already know Spring, it's a very good way to start. And don't need gradle to run, this can be done with maven too.</p>\n"}], "owner": {"reputation": 6353, "user_id": 3732958, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4ad4db32f4933b1bfcf0e0fa116781e0?s=128&d=identicon&r=PG", "display_name": "user2121", "link": "https://stackoverflow.com/users/3732958/user2121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562786538, "creation_date": 1562786158, "question_id": 56977275, "link": "https://stackoverflow.com/questions/56977275/how-to-initlaize-http-api-to-in-spring-boot-and-kotlin", "title": "How to initlaize HTTP API to in spring boot and kotlin", "body": "<p>I am trying to know how to integrate spring boot with kotlin project. I am refering to this link:</p>\n\n<pre><code>https://spring.io/guides/tutorials/spring-boot-kotlin/  \n</code></pre>\n\n<p>however, it demands using the following link</p>\n\n<pre><code>https://start.spring.io/#!language=kotlin&amp;type=gradle-project \n</code></pre>\n\n<p>to integrate kotlin and gradle</p>\n\n<p>and this link:</p>\n\n<pre><code>https://docs.spring.io/initializr/docs/current/reference/htmlsingle/#command-line\n</code></pre>\n\n<p>to Initializr HTTP API</p>\n\n<p>however the last link is not working and actually it is not clear why i should use it.</p>\n\n<p>the question is, how can i use such link as it is down, is there any alternative??</p>\n"}, {"tags": ["json", "kotlin", "moshi"], "answers": [{"tags": [], "owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "is_accepted": true, "score": 5, "last_activity_date": 1562836010, "creation_date": 1562836010, "answer_id": 56985541, "question_id": 56976656, "link": "https://stackoverflow.com/questions/56976656/moshi-in-kotlin-json-vs-fieldjson/56985541#56985541", "title": "(Moshi in kotlin) @Json vs @field:Json", "body": "<p>Whatever you put between <code>@</code> and <code>:</code> in your annotation specifies the exact <code>target</code> for your Annotation.</p>\n\n<p>When using Kotlin with JVM there is a substantial number of things generated, therefore your Annotation could be put in many places. If you don't specify a <code>target</code> you're letting the Kotlin compiler choose where the Annotation should be put. When you specify the <code>target</code> -> you're in charge.</p>\n\n<p>To better see the difference you should inspect the decompiled Java code of the Kotlin Bytecode in IntelliJ/Android Studio.</p>\n\n<hr>\n\n<p><strong>Example kotlin code:</strong></p>\n\n<pre><code>class Example {\n\n    @ExampleAnnotation\n    val a: String = TODO()\n\n    @get:ExampleAnnotation\n    val b: String = TODO()\n\n    @field:ExampleAnnotation\n    val c: String = TODO()\n}\n</code></pre>\n\n<p><strong>Decompiled Java code:</strong></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public final class Example {\n   @NotNull\n   private final String a;\n   @NotNull\n   private final String b;\n   @ExampleAnnotation\n   @NotNull\n   private final String c;\n\n   /** @deprecated */\n   // $FF: synthetic method\n   @ExampleAnnotation\n   public static void a$annotations() {\n   }\n\n   @NotNull\n   public final String getA() {\n      return this.a;\n   }\n\n   @ExampleAnnotation\n   @NotNull\n   public final String getB() {\n      return this.b;\n   }\n\n   @NotNull\n   public final String getC() {\n      return this.c;\n   }\n\n   public Example() {\n      boolean var1 = false;\n      throw (Throwable)(new NotImplementedError((String)null, 1, (DefaultConstructorMarker)null));\n   }\n}\n</code></pre>\n\n<hr>\n\n<p><em>For more info go to <a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"noreferrer\">Kotlin docs</a>.</em></p>\n"}], "owner": {"reputation": 833, "user_id": 5584709, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/z4rwC.jpg?s=128&g=1", "display_name": "Jegan Babu", "link": "https://stackoverflow.com/users/5584709/jegan-babu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1967, "favorite_count": 4, "accepted_answer_id": 56985541, "answer_count": 1, "score": 11, "last_activity_date": 1562836010, "creation_date": 1562783370, "question_id": 56976656, "link": "https://stackoverflow.com/questions/56976656/moshi-in-kotlin-json-vs-fieldjson", "title": "(Moshi in kotlin) @Json vs @field:Json", "body": "<p>Serialization does not happen properly when I use <strong>@Json</strong> in the fields but it started working after changing to <strong>@field:Json</strong>.</p>\n\n<p>I came through this change after reading some bug thread and I think this is specific to kotlin. I would like to know what difference does @field:Json bring and is it really specific to kotlin?</p>\n"}, {"tags": ["android", "json", "kotlin", "gson", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "edited": false, "score": 0, "creation_date": 1562788906, "post_id": 56976813, "comment_id": 100491777, "body": "<code>Any</code> is the superclass. So unfortunately what you are saying doesn&#39;t make sense."}], "tags": [], "owner": {"reputation": 3271, "user_id": 764624, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bcb73d4a76eb0dbb40705de0cee1d23?s=128&d=identicon&r=PG", "display_name": "Ivan Wooll", "link": "https://stackoverflow.com/users/764624/ivan-wooll"}, "is_accepted": false, "score": 0, "last_activity_date": 1562784011, "creation_date": 1562784011, "answer_id": 56976813, "question_id": 56976388, "link": "https://stackoverflow.com/questions/56976388/android-kotlin-gson-doesnt-parse-correctly-some-fields-json/56976813#56976813", "title": "Android/Kotlin: GSON doesn&#39;t parse correctly some fields JSON", "body": "<p>You have firstName and lastName as <code>Any</code> in your data class. Change them to <code>String</code> and you should be good. Also if they are sometimes null mark them as nullable and check when accessing them.</p>\n"}, {"tags": [], "owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "is_accepted": true, "score": 0, "last_activity_date": 1562789087, "creation_date": 1562789087, "answer_id": 56977883, "question_id": 56976388, "link": "https://stackoverflow.com/questions/56976388/android-kotlin-gson-doesnt-parse-correctly-some-fields-json/56977883#56977883", "title": "Android/Kotlin: GSON doesn&#39;t parse correctly some fields JSON", "body": "<p>I found the bug, when I create the <code>GSON</code> client, I'm putting a filter  as follows:    </p>\n\n<pre><code>fun provideGson(): Gson {\n        return GsonBuilder()\n            .setFieldNamingPolicy(FieldNamingPolicy.LOWER_CASE_WITH_UNDERSCORES)\n            .create()\n    }\n</code></pre>\n\n<p>so I just removed this filter, so that's why on <code>lifenId</code>, <code>firstName</code> and <code>lastName</code>, <code>GSON</code> didn't get these fields.  </p>\n"}], "owner": {"reputation": 2046, "user_id": 7937498, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gALg5Y0jqEQ/AAAAAAAAAAI/AAAAAAAAACA/BKOqJMASFaY/photo.jpg?sz=128", "display_name": "Itoun", "link": "https://stackoverflow.com/users/7937498/itoun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 56977883, "answer_count": 2, "score": 0, "last_activity_date": 1562789087, "creation_date": 1562782186, "question_id": 56976388, "link": "https://stackoverflow.com/questions/56976388/android-kotlin-gson-doesnt-parse-correctly-some-fields-json", "title": "Android/Kotlin: GSON doesn&#39;t parse correctly some fields JSON", "body": "<p><code>GSON</code> doesn't parse correctly my <code>JSON</code> and returns <code>null</code> for some fields only.<br>\nIndeed, I correctly get for every <code>doctor</code> the <code>rpps</code> and <code>code</code> but I have <code>null</code> for <code>lifenId</code>, <code>firstName</code> and <code>lastName</code>.<br>\nI have a <code>JSON</code> which is a list of <code>doctor</code> looks like this :</p>\n\n<pre><code>[\n    {\n        \"lifenId\": \"238536\",\n        \"rpps\": \"10002732211\",\n        \"firstName\": \"Yolande \",\n        \"lastName\": \"Couffinhal\",\n        \"email\": null,\n        \"postalCode\": null,\n        \"city\": null,\n        \"address\": null,\n        \"code\": \"M\u00e9decin Neuro-psychiatrie \",\n        \"phone\": null\n    },\n...\n]\n</code></pre>\n\n<p>I'm sure that my <code>JSON</code> is correct because the <code>JSON</code> I receive is exactly the one I post here so these value are not null (for example, I'm not talking about the phone which is <code>null</code> in the <code>JSON</code>)<br>\nI tried to parse manually the <code>JSON</code> to get firstName and lastName it works (obviously because I have a good <code>JSON</code>, but I wanted to be sure of that)  </p>\n\n<p>There is my <code>data class Doctor</code> :  </p>\n\n<pre><code>data class Doctor(var phone: String,\n                  var code: String,\n                  var address: MutableList&lt;String&gt;,\n                  var email: String,\n                  var rpps: String,\n                  var city: String,\n                  var lastName: Any,\n                  var firstName: Any,\n                  var lifenId: String,\n                  var postalCode: String) {\n}  \n</code></pre>\n\n<p>My request:  </p>\n\n<pre><code>fun getDoctorsByName(name: String, token: String): Single&lt;List&lt;Doctor&gt;&gt; {\n        val url = \"lifen/name/\" + name\n        return repository.getDoctorsByName(url, token).compose(schedulerProvider.getSchedulersForSingle())\n    }  \n</code></pre>\n\n<p>how I treat the return :  </p>\n\n<pre><code>disposable.add(viewModel.getDoctorsByName(search_bar.query.toString(), activity.token)\n                    .doOnError {\n                        Toast.makeText(activity, it.message, Toast.LENGTH_SHORT).show()\n                    }\n                    .subscribe(\n                        { doctors -&gt;\n                            /*val list = ArrayList&lt;Doctor&gt;()\n                            val doc = Doctor(\"\", \"\",\"\",\"\",\"\",doctors[0][\"lastName\"] as String,doctors[0][\"firstName\"] as String,\"\",\"\") parse manually here\n                            list.add(doc)\n                            adapter.updateList(list)*/\n                            adapter.updateList(doctors)\n                            Toast.makeText(activity, \"LIST COMPLETED\", Toast.LENGTH_SHORT).show()\n                        }, Throwable::printStackTrace\n                    )\n\n                )\n</code></pre>\n"}, {"tags": ["java", "android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 970, "user_id": 783238, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/258b3a7ea358be1710a0eae54f471b63?s=128&d=identicon&r=PG", "display_name": "Shermano", "link": "https://stackoverflow.com/users/783238/shermano"}, "edited": false, "score": 2, "creation_date": 1562780197, "post_id": 56975424, "comment_id": 100488100, "body": "just do the same way you&#39;re doing with Java classes"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 7616206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K6GHX.jpg?s=128&g=1", "display_name": "irajDP", "link": "https://stackoverflow.com/users/7616206/irajdp"}, "edited": false, "score": 0, "creation_date": 1562790179, "post_id": 56977589, "comment_id": 100492256, "body": "I wrote up code but show me error. my cod is  [   intent i =new intent(this, MainActivity.class);startActivity(i);  ] and show red error on startActivity(i) and compiler show to create its function!!"}, {"owner": {"reputation": 3446, "user_id": 11016588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-F6RcLML2H6o/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQO0WVT35BZ4DGhtU0gK3nG_5sC3Ww/mo/photo.jpg?sz=128", "display_name": "Chrisvin Jem", "link": "https://stackoverflow.com/users/11016588/chrisvin-jem"}, "reply_to_user": {"reputation": 21, "user_id": 7616206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K6GHX.jpg?s=128&g=1", "display_name": "irajDP", "link": "https://stackoverflow.com/users/7616206/irajdp"}, "edited": false, "score": 0, "creation_date": 1562790761, "post_id": 56977589, "comment_id": 100492477, "body": "@irajDP Make sure that your kotlin activity has been added in the manifest, also try <code>File -&gt; Invalidate Caches&#47; restart</code>, <code>Clean Project</code> &amp; <code>Rebuild Project</code>. Also, as suggested by aaroncio, add your code to the question along with the exact error message that you get (incase the previous steps didn&#39;t fix your issue)."}], "tags": [], "owner": {"reputation": 3446, "user_id": 11016588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-F6RcLML2H6o/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQO0WVT35BZ4DGhtU0gK3nG_5sC3Ww/mo/photo.jpg?sz=128", "display_name": "Chrisvin Jem", "link": "https://stackoverflow.com/users/11016588/chrisvin-jem"}, "is_accepted": false, "score": 2, "last_activity_date": 1562787621, "creation_date": 1562787621, "answer_id": 56977589, "question_id": 56975424, "link": "https://stackoverflow.com/questions/56975424/how-to-start-a-activity-of-kotlin-from-java-android/56977589#56977589", "title": "How to start a Activity of Kotlin from Java android", "body": "<p>Kotlin is interoperable with Java. Just start the activity using an <code>Intent</code> like you would normally do in Java.</p>\n"}, {"tags": [], "owner": {"reputation": 1534, "user_id": 2228226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6432c50a778bb5d6e86167288534f2?s=128&d=identicon&r=PG", "display_name": "Hardik Bambhania", "link": "https://stackoverflow.com/users/2228226/hardik-bambhania"}, "is_accepted": false, "score": 1, "last_activity_date": 1562836208, "creation_date": 1562836208, "answer_id": 56985611, "question_id": 56975424, "link": "https://stackoverflow.com/questions/56975424/how-to-start-a-activity-of-kotlin-from-java-android/56985611#56985611", "title": "How to start a Activity of Kotlin from Java android", "body": "<p>Yes you can start activity from java to Kotlin and vice versa.</p>\n\n<p>from java</p>\n\n<pre><code>startActivity(new Intent(context,DestinationActivity.class))\n</code></pre>\n\n<p>from kotlin</p>\n\n<pre><code>startActivity(Intent(this, DestinationActivity::class.java))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 125, "user_id": 12663246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/756e996dcd75b3d84c33a6c0a6056546?s=128&d=identicon&r=PG&f=1", "display_name": "yazan", "link": "https://stackoverflow.com/users/12663246/yazan"}, "is_accepted": false, "score": 0, "last_activity_date": 1598645258, "creation_date": 1598645258, "answer_id": 63640271, "question_id": 56975424, "link": "https://stackoverflow.com/questions/56975424/how-to-start-a-activity-of-kotlin-from-java-android/63640271#63640271", "title": "How to start a Activity of Kotlin from Java android", "body": "<p>in java, it is</p>\n<pre><code> startActivity(new Intent(currentActivity.this, nextActivity.class);\n</code></pre>\n<p>if you want to send data to the next activity in java</p>\n<pre><code> Intent intent = new Intent(MainActivity.this, nextActivity.class);\n\n intent.putExtra(&quot;anyName&quot;, value);\n\n startActivity(intent);\n</code></pre>\n<p>for kotlin it is</p>\n<pre><code>startActivity(Intent(this@MainActivity, nextActivity::class.java)\n</code></pre>\n<p>if you want to send data to the next activity in kotlin</p>\n<pre><code>        val intent = Intent(this@MainActivity, SecondActivity::class.java)\n        intent.putExtra(&quot;Name&quot;, name)\n        intent.putExtra(&quot;Email&quot;, email)\n        intent.putExtra(&quot;Phone&quot;, phone)\n        startActivity(intent)\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 7616206, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K6GHX.jpg?s=128&g=1", "display_name": "irajDP", "link": "https://stackoverflow.com/users/7616206/irajdp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 771, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1598645258, "creation_date": 1562777994, "question_id": 56975424, "link": "https://stackoverflow.com/questions/56975424/how-to-start-a-activity-of-kotlin-from-java-android", "title": "How to start a Activity of Kotlin from Java android", "body": "<p>Can I do this below prossess in android studio? </p>\n\n<p>I have a Kotlin project that I create another activity with \nits Java class and I want to start activity of Kotlin with clicking botton in activity of java then it start Kotlin activity</p>\n"}, {"tags": ["android", "kotlin", "null"], "answers": [{"tags": [], "owner": {"reputation": 574, "user_id": 5038638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db9d7685d2e617db07bcb9eb87320a3?s=128&d=identicon&r=PG", "display_name": "Arpit Rastogi", "link": "https://stackoverflow.com/users/5038638/arpit-rastogi"}, "is_accepted": true, "score": 8, "last_activity_date": 1562777542, "creation_date": 1562777542, "answer_id": 56975324, "question_id": 56975323, "link": "https://stackoverflow.com/questions/56975323/kotlin-how-to-use-if-else-like-condition-with-let-block-for-null-checks/56975324#56975324", "title": "Kotlin : How to use if-else like condition with let block for &#39;null&#39; checks", "body": "<p>Source - kotlinlang.org</p>\n\n<ul>\n<li>?. performs a safe call (calls a method or accesses a property if the receiver is non-null)</li>\n<li>?: takes the right-hand value if the left-hand value is null (the elvis operator)</li>\n</ul>\n\n<p>Change <strong>?.</strong> with <strong>?:</strong> will solve this issue,</p>\n\n<p>Code base as following, will run either let or run block based upon the null check.</p>\n\n<pre><code>var someValue : String? = null\nsomeValue = \"SOF\"\n\nsomeValue?.let {safeSomeValue-&gt;\n//This code block will run only if someValue is not null\n}?:run {\n//This code block will run only when if someValue is null, like else condition\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "is_accepted": false, "score": 4, "last_activity_date": 1562778852, "creation_date": 1562778852, "answer_id": 56975618, "question_id": 56975323, "link": "https://stackoverflow.com/questions/56975323/kotlin-how-to-use-if-else-like-condition-with-let-block-for-null-checks/56975618#56975618", "title": "Kotlin : How to use if-else like condition with let block for &#39;null&#39; checks", "body": "<p>You can create an extension function, like this</p>\n\n<pre><code>fun &lt;T&gt; T?.whenNull(block: () -&gt; Unit) = this ?: block()\n</code></pre>\n\n<p>then you call it like this</p>\n\n<pre><code>somevalue?.let { safeSomeValue -&gt;\n    // TODO\n}.whenNull {\n    // execute when someValue is null\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 2, "creation_date": 1562783047, "post_id": 56975947, "comment_id": 100489357, "body": "+1: Don&#39;t refactor your code away from a solid time-tested solution to something else just because it&#39;s new and fancy or someone told you it was more idiomatic for the language. If you can&#39;t give a tangible reason for the change, then don&#39;t fix what isn&#39;t broken."}, {"owner": {"reputation": 8990, "user_id": 624814, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/3a863d626cfeba2251bdf48ee8b38b7a?s=128&d=identicon&r=PG", "display_name": "SMBiggs", "link": "https://stackoverflow.com/users/624814/smbiggs"}, "edited": false, "score": 0, "creation_date": 1598924551, "post_id": 56975947, "comment_id": 112607531, "body": "To answer your question: why?  <code>let</code> blocks are thread-safe, but if-else are not.  The compiler will not let you access <code>someValue</code> if it thinks that it&#39;s even possible to be null.  At least that&#39;s how I understand my compiler&#39;s errors."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": false, "score": 10, "last_activity_date": 1562780298, "creation_date": 1562780298, "answer_id": 56975947, "question_id": 56975323, "link": "https://stackoverflow.com/questions/56975323/kotlin-how-to-use-if-else-like-condition-with-let-block-for-null-checks/56975947#56975947", "title": "Kotlin : How to use if-else like condition with let block for &#39;null&#39; checks", "body": "<blockquote>\n  <p>I am replacing all the null check with let block in my code</p>\n</blockquote>\n\n<p>The first question here is, why? Is this somehow more readable for you than the regular <code>if-else</code> structure? I'd be generally wary of refactoring just for refactoring's sake.</p>\n\n<p>The second consideration is much more important: this conversion you're doing is not equivalent to the original code, you're actually modifying the behavior with this change. Take the following piece of code:</p>\n\n<pre><code>var someValue : String? = null\nsomeValue = \"SOF\"\n\nsomeValue?.let {safeSomeValue-&gt;\n    foo(someSafeValue)\n    bar(someSafeValue)\n} ?: run {\n    println(\"shouldn't happen if someValue != null\")\n}\n</code></pre>\n\n<p>You expect the <code>run</code> block to execute only if <code>someValue == null</code>, but that's actually not the only case when it will run. The entire <code>someValue?.let { ... }</code> expression can produce <code>null</code> values not just when <code>someValue</code> itself was <code>null</code>, but also if the block passed to <code>let</code> returned <code>null</code>. In this case, if the <code>bar()</code> function call results in <code>null</code>, the <code>run</code> statement will be executed afterwards, therefore running both branches of what you thought was a fancied up <code>if-else</code> statement.</p>\n"}, {"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 5, "last_activity_date": 1562797536, "creation_date": 1562797536, "answer_id": 56979406, "question_id": 56975323, "link": "https://stackoverflow.com/questions/56975323/kotlin-how-to-use-if-else-like-condition-with-let-block-for-null-checks/56979406#56979406", "title": "Kotlin : How to use if-else like condition with let block for &#39;null&#39; checks", "body": "<p>To give a very concrete example of what zsmb13's answer talks about:</p>\n\n<pre><code>val someValue = 0\nsomeValue?.let { safeSomeValue-&gt;\n    println(\"then\")\n    null\n} ?: run {\n    println(\"else\")\n}\n</code></pre>\n\n<p>prints both <code>then</code> and <code>else</code>. You <em>can</em> fix this by using <code>also</code> instead of <code>let</code>:</p>\n\n<pre><code>val someValue = 0\nsomeValue?.also { safeSomeValue-&gt;\n    println(\"then\")\n    null\n} ?: run {\n    println(\"else\")\n}\n</code></pre>\n\n<p>will only print <code>then</code>. It may be useful to read <a href=\"https://kotlinlang.org/docs/reference/scope-functions.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/scope-functions.html</a> and figure out why, and to prove it's indeed always equivalent to the original <code>if ... else</code>. But I also agree with zsmb13 that it's probably a bad idea.</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 4174446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1jjHc.jpg?s=128&g=1", "display_name": "firefly", "link": "https://stackoverflow.com/users/4174446/firefly"}, "is_accepted": false, "score": 0, "last_activity_date": 1609334252, "creation_date": 1609334252, "answer_id": 65507589, "question_id": 56975323, "link": "https://stackoverflow.com/questions/56975323/kotlin-how-to-use-if-else-like-condition-with-let-block-for-null-checks/65507589#65507589", "title": "Kotlin : How to use if-else like condition with let block for &#39;null&#39; checks", "body": "<p>You can write two extension functions, eg: &quot;ifSafe&quot; and &quot;ifNull&quot;, that can be used individually or chained together to mimic the if/else pattern:</p>\n<pre><code>fun &lt;T&gt; T?.ifSafe(block: (t:T?) -&gt; Unit) = if (this!=null) block(this) else this\nfun Any?.ifNull(block: () -&gt; Unit?) = if (this==null) block().also{return null} else this\n\nfun main() {\n\n    var someValue = 4\n    var nullValue = null\n    \n    someValue.ifSafe { safeSomeValue -&gt;\n        println(&quot;someValue: &quot;+safeSomeValue.toString())\n        null\n    }.ifNull{\n        println(&quot;someValue is null.&quot;)\n    }\n    \n    someValue.ifNull{\n        println(&quot;someValue is null.&quot;)\n    }.ifSafe{ safeSomeValue -&gt;\n        println(safeSomeValue)\n    }\n    \n    nullValue.ifNull{\n         println(&quot;nullValue is null.&quot;)\n    }\n    \n}\n</code></pre>\n"}], "owner": {"reputation": 574, "user_id": 5038638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3db9d7685d2e617db07bcb9eb87320a3?s=128&d=identicon&r=PG", "display_name": "Arpit Rastogi", "link": "https://stackoverflow.com/users/5038638/arpit-rastogi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3513, "favorite_count": 2, "accepted_answer_id": 56975324, "answer_count": 5, "score": 10, "last_activity_date": 1609334252, "creation_date": 1562777542, "last_edit_date": 1589528971, "question_id": 56975323, "link": "https://stackoverflow.com/questions/56975323/kotlin-how-to-use-if-else-like-condition-with-let-block-for-null-checks", "title": "Kotlin : How to use if-else like condition with let block for &#39;null&#39; checks", "body": "<p>I am replacing all the null checks with let block in my code as part of a code review process.</p>\n\n<p>1.\nCode example with null check:</p>\n\n<pre><code>if(someValue != null){//run if someValue is not null}\nelse {//run if someValue is null}\n</code></pre>\n\n<p>2.\nCode base after using let-run block if for null check,</p>\n\n<pre><code>var someValue : String? = null\nsomeValue = \"SOF\"\n\nsomeValue?.let {safeSomeValue-&gt;\n//This code block will run only if someValue is not null\n}?.run {\n//This code block should run only when if someValue is null, like else condition\n}\n</code></pre>\n\n<p>Now problem with let-run block is that both the code blocks are running even if the someValue is not null. So i am not able to replicate behaviour of if-else condition in code example 1 to run-let condition in code example 2.</p>\n\n<p>Expected behaviour is to execute either let or run code block based upon if value is null or not-null.</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 379, "user_id": 2569709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28228dd27493c55b79f55dfbf4c52865?s=128&d=identicon&r=PG", "display_name": "JCN", "link": "https://stackoverflow.com/users/2569709/jcn"}, "edited": false, "score": 0, "creation_date": 1562779194, "post_id": 56975235, "comment_id": 100487647, "body": "Thank you. Looks like &quot;Destructuring Declarations&quot; is the concept I need to read about. It&#39;s tricky with learning a new language when you see a new construct and don&#39;t know how to refer to it for research. Also I think you are right about the out thing, it&#39;s probably just there to satisfy the signature."}, {"owner": {"reputation": 1971, "user_id": 368657, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/134190f7aeec482ff17a7ad101a37f67?s=128&d=identicon&r=PG", "display_name": "Juarrow", "link": "https://stackoverflow.com/users/368657/juarrow"}, "reply_to_user": {"reputation": 379, "user_id": 2569709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28228dd27493c55b79f55dfbf4c52865?s=128&d=identicon&r=PG", "display_name": "JCN", "link": "https://stackoverflow.com/users/2569709/jcn"}, "edited": false, "score": 1, "creation_date": 1562779433, "post_id": 56975235, "comment_id": 100487776, "body": "Glad i could be of help :)"}], "tags": [], "owner": {"reputation": 1971, "user_id": 368657, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/134190f7aeec482ff17a7ad101a37f67?s=128&d=identicon&r=PG", "display_name": "Juarrow", "link": "https://stackoverflow.com/users/368657/juarrow"}, "is_accepted": true, "score": 2, "last_activity_date": 1562777499, "last_edit_date": 1562777499, "creation_date": 1562777186, "answer_id": 56975235, "question_id": 56975153, "link": "https://stackoverflow.com/questions/56975153/kotlin-syntax-issue/56975235#56975235", "title": "Kotlin syntax issue", "body": "<pre><code>val (_, _, uiEvent, player) = context\n</code></pre>\n\n<p>You are extracting the 3rd and 4th value from the context and ignoring the first two.</p>\n\n<p>Compare <a href=\"https://kotlinlang.org/docs/reference/multi-declarations.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/multi-declarations.html</a> .</p>\n\n<p>About <code>out</code>: i don't see it being used in the code snippet you're showing. You might want to show the full method.\nAlso, maybe it is there only for the purpose of overriding the method, to match the signature of the function.</p>\n"}, {"tags": [], "owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "is_accepted": false, "score": 1, "last_activity_date": 1562800045, "creation_date": 1562800045, "answer_id": 56979683, "question_id": 56975153, "link": "https://stackoverflow.com/questions/56975153/kotlin-syntax-issue/56979683#56979683", "title": "Kotlin syntax issue", "body": "<p>To cover the little bit that Incubbus's otherwise-great answer missed:</p>\n\n<p>In the declaration</p>\n\n<pre><code>override fun update(entity: GameEntity&lt;out EntityType&gt;, // \u2026\n</code></pre>\n\n<p>the <code>out</code> means that you could call the function and pass a <code>GameEntity&lt;SubclassOfEntityType&gt;</code> (or even a <code>SubclassOfGameEntity&lt;SubclassOfEntityType&gt;</code>).</p>\n\n<p>With no <code>out</code>, you'd have to pass a <code>GameEntity&lt;EntityType&gt;</code> (or a <code>SubclassOfGameEntity&lt;EntityType&gt;</code>).</p>\n\n<p>I guess that's inherited from the superclass method that you're overriding.\u00a0 After all, if the superclass method could be called with a <code>GameEntity&lt;SubclassOfEntityType&gt;</code>, then your override will need to handle that too.\u00a0 (The <a href=\"https://en.wikipedia.org/wiki/Liskov_substitution_principle\" rel=\"nofollow noreferrer\">Liskov substitution principle</a> in action!)</p>\n"}], "owner": {"reputation": 379, "user_id": 2569709, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28228dd27493c55b79f55dfbf4c52865?s=128&d=identicon&r=PG", "display_name": "JCN", "link": "https://stackoverflow.com/users/2569709/jcn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 56975235, "answer_count": 2, "score": 0, "last_activity_date": 1562800045, "creation_date": 1562776835, "question_id": 56975153, "link": "https://stackoverflow.com/questions/56975153/kotlin-syntax-issue", "title": "Kotlin syntax issue", "body": "<p>Sorry for the terrible title, but I can't seem to find an allowable way to ask this question, because I don't know how to refer to the code constructs I am looking at.</p>\n\n<p>Looking at this file: <a href=\"https://github.com/Hexworks/caves-of-zircon-tutorial/blob/master/src/main/kotlin/org/hexworks/cavesofzircon/systems/InputReceiver.kt\" rel=\"nofollow noreferrer\">https://github.com/Hexworks/caves-of-zircon-tutorial/blob/master/src/main/kotlin/org/hexworks/cavesofzircon/systems/InputReceiver.kt</a></p>\n\n<p>I don't understand what is going on here:</p>\n\n<pre><code>    override fun update(entity: GameEntity&lt;out EntityType&gt;, context: GameContext): Boolean {\n    val (_, _, uiEvent, player) = context\n</code></pre>\n\n<p>I can understand some things.</p>\n\n<p>We are overriding the update function, which is defined in the Behavior class, which is a superclass of this class.</p>\n\n<p>The update function accepts two parameters. A GameEntity named entity, and a GameContext called context.</p>\n\n<p>The function returns a Boolean result.</p>\n\n<p>However, I do not understand the next line at all. Just open and close parentheses, two underscores as the first two parameters, and then an assignment to the context argument. What is it we are assigning the value of context to?</p>\n\n<p>Based on IDE behavior, apparently the open-close parentheses are related to the constructor for GameContext. But I would not know that otherwise. I also don't understand what the meaning is of the underscores in the argument list.</p>\n\n<p>And finally, I have read about the declaration-site variance keyword \"out\", but I don't really understand what it means here. We have GameEntity&lt;out EntityType&gt;. So as I understand it, that means this method produces EntityType, but does not consume it. How is that demonstrated in this code?</p>\n"}, {"tags": ["android", "kotlin", "flutter"], "comments": [{"owner": {"reputation": 5141, "user_id": 10660823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6ppOg.jpg?s=128&g=1", "display_name": "Saed Nabil", "link": "https://stackoverflow.com/users/10660823/saed-nabil"}, "edited": false, "score": 0, "creation_date": 1563235005, "post_id": 56975128, "comment_id": 100623997, "body": "did you try making a backing field for samples?"}, {"owner": {"reputation": 42863, "user_id": 5381331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be17225d9277060275486934d07d7a72?s=128&d=identicon&r=PG&f=1", "display_name": "Phan Van Linh", "link": "https://stackoverflow.com/users/5381331/phan-van-linh"}, "edited": false, "score": 0, "creation_date": 1563243816, "post_id": 56975128, "comment_id": 100625559, "body": "which Kotlin version you have used? I just check and see that <code>copyInto</code> available from 1.3"}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "reply_to_user": {"reputation": 5141, "user_id": 10660823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6ppOg.jpg?s=128&g=1", "display_name": "Saed Nabil", "link": "https://stackoverflow.com/users/10660823/saed-nabil"}, "edited": false, "score": 0, "creation_date": 1563251407, "post_id": 56975128, "comment_id": 100626962, "body": "@SaedNabil I&#39;m not sure what you mean. I&#39;m relatively new to Kotlin, but it was my understanding that putting <code>private val samples</code> in the primary constructor definition implicitly made <code>samples</code> into a private class field. Why would I need to have a backing field for it? It&#39;s not null, as I can perform other actions on it (like printing it), I just can&#39;t do <code>copyInto</code> for some reason."}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "reply_to_user": {"reputation": 42863, "user_id": 5381331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be17225d9277060275486934d07d7a72?s=128&d=identicon&r=PG&f=1", "display_name": "Phan Van Linh", "link": "https://stackoverflow.com/users/5381331/phan-van-linh"}, "edited": false, "score": 1, "creation_date": 1563252049, "post_id": 56975128, "comment_id": 100627096, "body": "@PhanVanLinh In the project gradle.build, it said <code>ext.kotlin_version = &#39;1.2.71&#39;</code>. I changed this to <code>ext.kotlin_version = &#39;1.3.40&#39;</code> and it worked. If you want to post an answer I&#39;ll mark it as correct."}, {"owner": {"reputation": 5141, "user_id": 10660823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6ppOg.jpg?s=128&g=1", "display_name": "Saed Nabil", "link": "https://stackoverflow.com/users/10660823/saed-nabil"}, "edited": false, "score": 0, "creation_date": 1563252731, "post_id": 56975128, "comment_id": 100627219, "body": "You are totally correct, but it was not clear to me that you can access the object but not the the specific copyinto ,it doesn&#39;t make any sense to me, so I thought may be that was the problem,No worries , hence it solved now,"}, {"owner": {"reputation": 5141, "user_id": 10660823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6ppOg.jpg?s=128&g=1", "display_name": "Saed Nabil", "link": "https://stackoverflow.com/users/10660823/saed-nabil"}, "edited": false, "score": 0, "creation_date": 1563253088, "post_id": 56975128, "comment_id": 100627300, "body": "@Abion47 How it was available from the Intellisense if it was not available ,any ideas?"}, {"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "reply_to_user": {"reputation": 5141, "user_id": 10660823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6ppOg.jpg?s=128&g=1", "display_name": "Saed Nabil", "link": "https://stackoverflow.com/users/10660823/saed-nabil"}, "edited": false, "score": 0, "creation_date": 1563290004, "post_id": 56975128, "comment_id": 100646434, "body": "@SaedNabil My guess is the Kotlin plugin was configured to use the latest version of Kotlin for the Intellisense while the compiler was set to use an older version."}, {"owner": {"reputation": 5141, "user_id": 10660823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6ppOg.jpg?s=128&g=1", "display_name": "Saed Nabil", "link": "https://stackoverflow.com/users/10660823/saed-nabil"}, "edited": false, "score": 0, "creation_date": 1563296917, "post_id": 56975128, "comment_id": 100649929, "body": "yes, apparently that is the case ."}], "answers": [{"tags": [], "owner": {"reputation": 42863, "user_id": 5381331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be17225d9277060275486934d07d7a72?s=128&d=identicon&r=PG&f=1", "display_name": "Phan Van Linh", "link": "https://stackoverflow.com/users/5381331/phan-van-linh"}, "is_accepted": true, "score": 4, "last_activity_date": 1563253030, "creation_date": 1563253030, "answer_id": 57050278, "question_id": 56975128, "link": "https://stackoverflow.com/questions/56975128/unresolved-reference-at-compile-but-available-by-intellisense/57050278#57050278", "title": "Unresolved reference at compile but available by Intellisense", "body": "<p>The <code>copyInto</code> function available since kotlin <code>1.3</code>. Currently, you are using <code>1.2.71</code> then you get error <code>Unresolved reference: copyInto</code>.<br>\nTherefore, update your app kotlin version to >= 1.3 will solve your problem </p>\n"}], "owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 939, "favorite_count": 0, "accepted_answer_id": 57050278, "answer_count": 1, "score": 1, "last_activity_date": 1563296706, "creation_date": 1562776711, "last_edit_date": 1563296706, "question_id": 56975128, "link": "https://stackoverflow.com/questions/56975128/unresolved-reference-at-compile-but-available-by-intellisense", "title": "Unresolved reference at compile but available by Intellisense", "body": "<p>I'm working on an audio processing library for Flutter, and I'm running into an issue with one of my native Kotlin classes. In the code sample below, the compiler is complaining that the call to <code>copyInto</code> on the <code>samples</code> array is an unresolved reference. As far as I can tell, I've made sure that it is an <code>IntArray</code>, and Intellisense in Android Studio even brings up <code>copyInto</code> as an option when I type \"samples.\".</p>\n\n<p>Here is my class code:</p>\n\n<pre><code>package com.----.audio_channels\n\nimport kotlin.math.abs\nimport kotlin.math.min\n\nabstract class AudioTrackBuffer constructor(val loop: Boolean) {\n    var position: Int = 0\n\n    abstract fun getSamples(sampleCount: Int): IntArray\n    abstract fun isComplete(): Boolean\n    abstract fun dispose()\n}\n\nclass RawAudioBuffer constructor(private val samples: IntArray, loop: Boolean, delay: Int): AudioTrackBuffer(loop) {\n\n    init {\n        position = -delay\n    }\n\n    override fun getSamples(sampleCount: Int): IntArray {\n        val slice: IntArray\n\n        if (position &lt; 0) {\n            slice = IntArray(sampleCount) { 0 }\n\n            if (position + sampleCount &lt; 0) {\n                position += sampleCount\n                return slice\n            }\n\n            val offset = abs(position)\n            samples.copyInto(slice, offset, 0, min(sampleCount - offset, samples.size)) // Error\n        } else {\n            slice = samples.copyOfRange(position, min(position + sampleCount, samples.size))\n            position += slice.size\n        }\n\n        return slice\n    }\n\n    override fun isComplete(): Boolean {\n        return position &gt;= samples.size\n    }\n\n    override fun dispose() {}\n}\n</code></pre>\n\n<p>And here is the compile error:</p>\n\n<pre><code>Launching lib\\main.dart on SM N960U in debug mode...\nInitializing gradle...\nResolving dependencies...\nRunning Gradle task 'assembleDebug'...\ne: E:\\flutter\\workspace\\audio_channels\\android\\src\\main\\kotlin\\com\\----\\audio_channels\\AudioTrackBuffer.kt: (33, 21): Unresolved reference: copyInto\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':audio_channels:compileDebugKotlin'.\n&gt; Compilation error. See log for more details\n\n* Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1s\nFinished with error: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n"}, {"tags": ["java", "spring-boot", "kotlin", "spring-data-jpa", "spring-data"], "comments": [{"owner": {"reputation": 1367, "user_id": 7538821, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FaRRO.jpg?s=128&g=1", "display_name": "sam", "link": "https://stackoverflow.com/users/7538821/sam"}, "edited": false, "score": 0, "creation_date": 1562776162, "post_id": 56974972, "comment_id": 100486233, "body": "Intellij has a tool. Go to persistence tab and u can create your entity class from tables. But u have to add your foreign keys on your own"}, {"owner": {"reputation": 528, "user_id": 8748083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ujhav.png?s=128&g=1", "display_name": "RobOhRob", "link": "https://stackoverflow.com/users/8748083/robohrob"}, "edited": false, "score": 0, "creation_date": 1562776163, "post_id": 56974972, "comment_id": 100486235, "body": "Hrrmm I know some JPA providers (Hibernate for example) do not allow you to change the primary key"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 11766033, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219635222457912/picture?type=large", "display_name": "bitsPlease94", "link": "https://stackoverflow.com/users/11766033/bitsplease94"}, "edited": false, "score": 0, "creation_date": 1562777557, "post_id": 56975238, "comment_id": 100486893, "body": "I just added this, and it ended up creating a 3rd table in the db called user_conversations. Hmm"}], "tags": [], "owner": {"reputation": 2261, "user_id": 7327572, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/111afeb457014dbcc846245eec06e492?s=128&d=identicon&r=PG&f=1", "display_name": "FilipRistic", "link": "https://stackoverflow.com/users/7327572/filipristic"}, "is_accepted": false, "score": 0, "last_activity_date": 1562783205, "last_edit_date": 1562783205, "creation_date": 1562777197, "answer_id": 56975238, "question_id": 56974972, "link": "https://stackoverflow.com/questions/56974972/how-to-convert-tables-into-spring-data-entities/56975238#56975238", "title": "How to convert tables into Spring Data entities?", "body": "<p>In JPA relations only work in 1 way, in other to have <code>Converation</code> deleted when <code>User</code> is deleted you need to have <code>@OneToMany</code> relation to <code>Converation</code> from <code>User</code>. Same thing applies for update as well.</p>\n\n<p>So adding property like this inside <code>User</code> should solve your problem:</p>\n\n<pre><code>@OneToMany(cascade = CascadeType.ALL)\nval conversations: List&lt;Conversation&gt;  \n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>JPA creates separate table, it is usually solved by adding <code>mappedBy = \"mappingFieldName\"</code> to  <code>@OneToMany</code>, but considering your case where you have 2 fields this is a bit tricky and much broader problem. You will either have to do a lot of custom querying or simply keep duplicate entries, meaning that for each new Conversation you will actually have 2 of them, so then you can say <code>mappedBy = \"user1\"</code>, just remember to every time save 2 Conversations, 1 where user1 is actual user1 and another where you swap user1 and user2.</p>\n"}], "owner": {"reputation": 33, "user_id": 11766033, "user_type": "registered", "profile_image": "https://graph.facebook.com/10219635222457912/picture?type=large", "display_name": "bitsPlease94", "link": "https://stackoverflow.com/users/11766033/bitsplease94"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 300, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1562783205, "creation_date": 1562775992, "question_id": 56974972, "link": "https://stackoverflow.com/questions/56974972/how-to-convert-tables-into-spring-data-entities", "title": "How to convert tables into Spring Data entities?", "body": "<p>I\u2019m looking for some help in converting the following tables into Spring Data Entities. I was somewhat able to do it but I can\u2019t figure out enforcing the on delete and on update constraints. I have a users table that will contain info about a user. The conversations table will then have a conversation id and 2 columns to represent both id\u2019s of the participating users. I\u2019m writing my Solution in Kotlin, but I\u2019m fine with advice in Java as well. Using Postgres. At the end of the day, I just want to end up with these 2 tables with the ability to change the primary key in the users table and have that carry over to the conversations table.</p>\n\n<pre><code>CREATE TABLE users (\n    id uuid PRIMARY KEY,\n    bio character varying(255),\n    first_name character varying(255) NOT NULL,\n    last_name character varying(255) NOT NULL,\n    password character varying(255) NOT NULL,\n    username character varying(255) NOT NULL UNIQUE,\n    zip_code character varying(255) NOT NULL\n);\n\nCREATE TABLE conversations (\n    convoid BIGSERIAL PRIMARY KEY,\n    user_id1 uuid REFERENCES users(id) on delete cascade on update cascade,\n    user_id2 uuid REFERENCES users(id) on delete cascade on update cascade\n);\n</code></pre>\n\n<p>Here's what I tried:</p>\n\n<pre><code>@Data\n@NoArgsConstructor\n@Entity\n@Table(name = \"users\")\ndata class User(\n\n        @Id //primary key\n        var id: UUID = UUID.randomUUID(),\n\n        @Column(nullable = false)\n        var firstName: String,\n\n        @Column(nullable = false)\n        var lastName: String,\n\n        @Column(nullable = false, unique = true)\n        var username: String,\n\n        @Column(nullable = false)\n        var password: String,\n\n        @Transient \n        var confirmPassword: String,\n\n        @Column(nullable = false)\n        var zipCode: String,\n\n        @Column(nullable=true)\n        var bio: String?\n\n)\n\n@Data\n@NoArgsConstructor\n@Entity\n@Table(name = \"conversations\")\ndata class Conversation(\n\n        @Id //primary key\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        val convoID: Long,\n\n        @ManyToOne(cascade = [CascadeType.ALL])\n        @JoinColumn(name = \"user_id1\")\n        val user1: User, //FK of user table PK\n\n        @ManyToOne(cascade = [CascadeType.ALL])\n        @JoinColumn(name = \"user_id2\")\n        val user2: User, //FK of user table PK\n\n        @Transient\n        var participants: List&lt;WebSocketSession&gt;\n\n)\n</code></pre>\n\n<p>I'm trying to update the primary key in the users table but it isn't allowing me due to foreign key constraint. Clearly the Cascade isn't working.</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "edited": false, "score": 0, "creation_date": 1562785575, "post_id": 56974908, "comment_id": 100490425, "body": "You can change the return type of <code>exportPdf</code> to <code>Response&lt;Any&gt;</code> and then check the response code. If it&#39;s ok then read the body as stream. If it&#39;s not then try to deserialize <code>ExportResponse</code>."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "reply_to_user": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "edited": false, "score": 0, "creation_date": 1562852238, "post_id": 56974908, "comment_id": 100515686, "body": "@AndreiTanana, thank you very much! I will check tomorrow. If it will be right, will ask you to make an answer here."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "reply_to_user": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "edited": false, "score": 0, "creation_date": 1562945501, "post_id": 56974908, "comment_id": 100552841, "body": "@AndreiTanana, please, add your answer here so that I could accept it. Later I will add my answer. I changed a bit: <code>Response&lt;String&gt;</code> and <code>.addConverterFactory(ScalarsConverterFactory.create())</code>, after that could get the file."}, {"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "edited": false, "score": 0, "creation_date": 1563004829, "post_id": 56974908, "comment_id": 100565690, "body": "ok, I think that I&#39;ve found a better solution"}], "answers": [{"comments": [{"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1563166560, "post_id": 57017338, "comment_id": 100595343, "body": "Thanks! I also read a file as a byte stream. Will add my answer soon after testing."}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1563204370, "post_id": 57017338, "comment_id": 100613405, "body": "Sorry, this variant leads to an error: &quot;java.lang.IllegalArgumentException: Unable to create converter for retrofit2.Call&lt;okhttp3.ResponseBody&gt; for method exportPdf&quot;. I tried the first variant (using Response&lt;String&gt; and ScalarsConverterFactory), it almost works, but returning PDF is almost 2 times more in size, than original. I keep creating custom ConverterFactory for Retrofit instead of ScalarsConverterFactory."}, {"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "reply_to_user": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 1, "creation_date": 1563222075, "post_id": 57017338, "comment_id": 100620752, "body": "That&#39;s strange. I&#39;ve declared my test queries class as <code>interface Queries {     @GET     fun exportPdf(@Url url: HttpUrl): Call&lt;ResponseBody&gt; }</code> and have no errors with converters"}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1563267237, "post_id": 57017338, "comment_id": 100633295, "body": "Thank you! I tried, maybe did something wrong, but again got an exception: &quot;java.lang.IllegalArgumentException: Unable to create converter for retrofit2.Call&lt;okhttp3.ResponseBody&gt; for method Api.exportPdf&quot;. I use Retrofit 2.6.0. Also, I use POST query."}, {"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "reply_to_user": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1563277310, "post_id": 57017338, "comment_id": 100638622, "body": "I&#39;m also using Retrofit 2.6.0. I don&#39;t think that GET or POST really matters. Please, check update 2 in my answer"}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 0, "creation_date": 1563284649, "post_id": 57017338, "comment_id": 100642981, "body": "Sorry, I didn&#39;t execute your example, but wrote similar code with POST request. You are right, first, I should write the same as you. Thank you for your help!"}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "edited": false, "score": 1, "creation_date": 1563464269, "post_id": 57017338, "comment_id": 100717564, "body": "Your code works for GET as well as for POST requests. I added Internet, storage permissions, FileProvider, coroutines, changed links. Then I changed to POST request and got the exception: &quot;Unable to create converter for retrofit2.Call&lt;okhttp3.ResponseBody&gt; for method Queries.exportPdf. Caused by: java.lang.IllegalArgumentException: Could not locate ResponseBody converter for retrofit2.Call&lt;okhttp3.ResponseBody&gt;&quot;. It is increadible, but my mistake was in the request! A day of tourment and I found it. I used <code>suspend</code> in <code>fun exportPdf</code>, that lead to various exceptions!!!"}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 0, "creation_date": 1570788044, "post_id": 57017338, "comment_id": 103033311, "body": "Caused by: java.io.FileNotFoundException: 1570788011550.pdf (Read-only file system)"}], "tags": [], "owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "is_accepted": true, "score": 8, "last_activity_date": 1563277411, "last_edit_date": 1563277411, "creation_date": 1563005362, "answer_id": 57017338, "question_id": 56974908, "link": "https://stackoverflow.com/questions/56974908/how-to-download-pdf-file-with-retrofit-and-kotlin-coroutines/57017338#57017338", "title": "How to download PDF file with Retrofit and Kotlin coroutines?", "body": "<p>You can change the return type of <code>exportPdf</code> to <code>Call&lt;ResponseBody&gt;</code> and then check the response code. If it's ok then read the body as a stream. If it's not then try to deserialize ExportResponse.\nIt will look something like this I guess:</p>\n\n<pre><code>val response = restAdapter.apiRequest().execute()\nif (response.isSuccessful) {\n    response.body()?.byteStream()//do something with stream\n} else {\n    response.errorBody()?.string()//try to deserialize json from string\n}\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>Here is a complete listing of my test:</p>\n\n<pre><code>import okhttp3.HttpUrl\nimport okhttp3.OkHttpClient\nimport okhttp3.ResponseBody\nimport retrofit2.Call\nimport retrofit2.Retrofit\nimport retrofit2.http.GET\nimport retrofit2.http.Url\nimport java.io.File\nimport java.io.InputStream\n\nfun main() {\n    val queries = buildQueries()\n    check(queries, \"http://127.0.0.1:5000/error\")\n    check(queries, \"http://127.0.0.1:5000/pdf\")\n}\n\nprivate fun check(queries: Queries, url: String) {\n    val response = queries.exportPdf(HttpUrl.get(url)).execute()\n    if (response.isSuccessful) {\n        response.body()?.byteStream()?.saveToFile(\"${System.currentTimeMillis()}.pdf\")\n    } else {\n        println(response.errorBody()?.string())\n    }\n}\n\nprivate fun InputStream.saveToFile(file: String) = use { input -&gt;\n    File(file).outputStream().use { output -&gt;\n        input.copyTo(output)\n    }\n}\n\nprivate fun buildRetrofit() = Retrofit.Builder()\n    .baseUrl(\"http://127.0.0.1:5000/\")\n    .client(OkHttpClient())\n    .build()\n\nprivate fun buildQueries() = buildRetrofit().create(Queries::class.java)\n\ninterface Queries {\n    @GET\n    fun exportPdf(@Url url: HttpUrl): Call&lt;ResponseBody&gt;\n}\n</code></pre>\n\n<p>and here is simple sever built with Flask:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from flask import Flask, jsonify, send_file\n\napp = Flask(__name__)\n\n\n@app.route('/')\ndef hello():\n    return 'Hello, World!'\n\n\n@app.route('/error')\ndef error():\n    response = jsonify(error=(dict(body='some error')))\n    response.status_code = 400\n    return response\n\n\n@app.route('/pdf')\ndef pdf():\n    return send_file('pdf-test.pdf')\n</code></pre>\n\n<p>all works fine for me</p>\n\n<p><strong>Update 2</strong></p>\n\n<p>Looks like you have to write this in your Api:</p>\n\n<pre><code>@FormUrlEncoded\n@Streaming // You can also comment this line.\n@POST(\"export-pdf/\")\nfun exportPdf(\n    @Field(\"token\") token: String\n): Call&lt;ResponseBody&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "edited": false, "score": 0, "creation_date": 1563263471, "post_id": 57052410, "comment_id": 100631273, "body": "Have you tried to use <code>Call&lt;ResponseBody&gt;</code> instead of <code>Response&lt;String&gt;</code>? For me, it works fine and doesn&#39;t double the file size. I&#39;ve updated my answer with full listing"}, {"owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "reply_to_user": {"reputation": 6499, "user_id": 1554633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdb2108d3fd119d4d380e9e4a2b5611?s=128&d=identicon&r=PG", "display_name": "Andrei Tanana", "link": "https://stackoverflow.com/users/1554633/andrei-tanana"}, "edited": false, "score": 0, "creation_date": 1563265151, "post_id": 57052410, "comment_id": 100632134, "body": "@AndreiTanana, yes, I tried, also received many errors. Thank you very much!"}], "tags": [], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "is_accepted": false, "score": 2, "last_activity_date": 1575887829, "last_edit_date": 1575887829, "creation_date": 1563263184, "answer_id": 57052410, "question_id": 56974908, "link": "https://stackoverflow.com/questions/56974908/how-to-download-pdf-file-with-retrofit-and-kotlin-coroutines/57052410#57052410", "title": "How to download PDF file with Retrofit and Kotlin coroutines?", "body": "<p>Thanks to @AndreiTanana I found a mistake. A problem was in <code>suspend</code> in the request definition. All other requests retain their <code>suspend</code> modifier, but this request removed it. I changed the code so.</p>\n\n<pre><code>interface Api {\n    @FormUrlEncoded\n    @Streaming\n    @POST(\"export-pdf/\")\n    fun exportPdf(\n        @Field(\"token\") token: String\n    ): Call&lt;ResponseBody&gt;\n\n    // Any another request. Note 'suspend' here.\n    @FormUrlEncoded\n    @POST(\"reject/\")\n    suspend fun reject(): RejectResponse\n}\n</code></pre>\n\n<p>Then in it's implementation, ApiImpl:</p>\n\n<pre><code>class ApiImpl : Api {\n\n    private val retrofit by lazy { ApiClient.getRetrofit().create(Api::class.java) }\n\n    override fun exportPdf(\n        token: String\n    ): Call&lt;ResponseBody&gt; =\n        retrofit.exportPdf(token)\n\n    override suspend fun reject(): RejectResponse =\n        // Here can be another instance of Retrofit.\n        retrofit.reject()\n}\n</code></pre>\n\n<p>Retrofit client:</p>\n\n<pre><code>class ApiClient {\n\n    companion object {\n\n        private val retrofit: Retrofit\n\n\n        init {\n\n            val okHttpClient = OkHttpClient().newBuilder()\n                .connectTimeout(60, TimeUnit.SECONDS)\n                .readTimeout(60, TimeUnit.SECONDS)\n                .writeTimeout(60, TimeUnit.SECONDS)\n                .build()\n\n            val gson = GsonBuilder().setLenient().create()\n\n            retrofit = Retrofit.Builder()\n                .baseUrl(SERVER_URL)\n                .client(okHttpClient)\n                // .addConverterFactory(GsonConverterFactory.create(gson)) - you can add this line, I think.\n                .build()\n        }\n\n        fun getRetrofit(): Retrofit = retrofit\n}\n</code></pre>\n\n<p>Interactor:</p>\n\n<pre><code>interface Interactor {\n    // Note 'suspend' here. This is for coroutine chain.\n    suspend fun exportPdf(\n        token: String\n    ): Call&lt;ResponseBody&gt;\n}\n\nclass InteractorImpl(private val api: Api) : Interactor {\n    override suspend fun exportPdf(\n        token: String\n    ): Call&lt;ResponseBody&gt; =\n        api.exportPdf(token)\n}\n</code></pre>\n\n<p>Then in fragment:</p>\n\n<pre><code>private fun exportPdf(view: View, token: String) {\n    showProgress(view)\n    launch(Dispatchers.IO) {\n        try {\n            val response = interactor.exportPdf(token).execute()\n            var error: String? = null\n            if (response.headers().get(\"Content-Type\")?.contains(\n                    \"application/json\") == true) {\n                // Received JSON with an error.\n                val json: String? = response.body()?.string()\n                error = json?.let {\n                    val export = ApiClient.getGson().fromJson(json,\n                        ExportPdfResponse::class.java)\n                    export.errors?.common?.firstOrNull()\n                } ?: getString(R.string.request_error)\n            } else {\n                // Received PDF.\n                val buffer = response.body()?.byteStream()\n                if (buffer != null) {\n                    val file = context?.let { createFile(it, \"pdf\") }\n                    if (file != null) {\n                        copyStreamToFile(buffer, file)\n                        launch(Dispatchers.Main) {\n                            if (isAdded) {\n                                hideProgress(view)\n                            }\n                        }\n                    }\n                }\n            }\n            if (error != null) {\n                launch(Dispatchers.Main) {\n                    if (isAdded) {\n                        hideProgress(view)\n                        showErrorDialog(error)\n                    }\n                }\n            }\n        } catch (e: Exception) {\n            launch(Dispatchers.Main) {\n                if (isAdded) {\n                    showErrorDialog(getString(R.string.connection_timeout))\n                    hideProgress(view)\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 16055, "user_id": 2914140, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Ik94c.jpg?s=128&g=1", "display_name": "CoolMind", "link": "https://stackoverflow.com/users/2914140/coolmind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10602, "favorite_count": 0, "accepted_answer_id": 57017338, "answer_count": 2, "score": 5, "last_activity_date": 1575905306, "creation_date": 1562775716, "question_id": 56974908, "link": "https://stackoverflow.com/questions/56974908/how-to-download-pdf-file-with-retrofit-and-kotlin-coroutines", "title": "How to download PDF file with Retrofit and Kotlin coroutines?", "body": "<p>I saw topics like <a href=\"https://stackoverflow.com/questions/32878478/how-to-download-file-in-android-using-retrofit-library\">How to download file in Android using Retrofit library?</a>, they use <code>@Streaming</code> and RxJava / callbacks.</p>\n\n<p>I have Kotlin, coroutines, Retrofit 2.6.0 and queries like in <a href=\"https://stackoverflow.com/a/56473934/2914140\">https://stackoverflow.com/a/56473934/2914140</a>:</p>\n\n<pre><code>@FormUrlEncoded\n@Streaming\n@POST(\"export-pdf/\")\nsuspend fun exportPdf(\n    @Field(\"token\") token: String\n): ExportResponse\n</code></pre>\n\n<p>I have a Retrofit client:</p>\n\n<pre><code>retrofit = Retrofit.Builder()\n    .baseUrl(SERVER_URL)\n    .client(okHttpClient)\n    .build()\n\nservice = retrofit.create(Api::class.java)\n</code></pre>\n\n<p>If a token parameter is right, the query returns PDF file:</p>\n\n<pre><code>%PDF-1.4\n%\ufffd\ufffd\ufffd\ufffd\n...\n</code></pre>\n\n<p>If it is wrong, it will return JSON with error description:</p>\n\n<pre><code>{\n    \"success\": 0,\n    \"errors\": {\n        \"message\": \"...\"\n    }\n}\n</code></pre>\n\n<p>So, ExportResponse is a data class containing JSON fields, POJO.</p>\n\n<p>I cannot access file data with</p>\n\n<pre><code>Response response = restAdapter.apiRequest();\n\ntry {\n    //you can now get your file in the InputStream\n    InputStream is = response.getBody().in();\n} catch (IOException e) {\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>because ExportResponse is a data class, so <code>val response: ExportResponse = interactor.exportPdf(token)</code> will return data, not Retrofit object.</p>\n"}, {"tags": ["android", "kotlin", "observable", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10385585, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/--NFqqaXhLec/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaP6sTaKskQN5pyGla6Jq7_rScfMVw/mo/photo.jpg?sz=128", "display_name": "B3nedikt", "link": "https://stackoverflow.com/users/10385585/b3nedikt"}, "is_accepted": false, "score": 0, "last_activity_date": 1562784918, "creation_date": 1562784918, "answer_id": 56977016, "question_id": 56974424, "link": "https://stackoverflow.com/questions/56974424/how-to-print-emissions-from-observableobservablelistresponseallphotos-respons/56977016#56977016", "title": "How to print emissions from Observable&lt;Observable&lt;List&lt;ResponseAllPhotos.Response&gt;&gt;&gt;?", "body": "<p>Can be done simply like this:</p>\n\n<pre><code>var disposable = setupCommRequestService()?.\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribeOn(Schedulers.io())\n                .subscribe {\n                    r.forEach {Log.i(LOG_TAG, \"\" + it.title + \"...\") }\n                }*/\n        }\n    }\n</code></pre>\n\n<p>You will get the list in subscribe in this example, so you can just tread it like a normal kotlin std list.</p>\n"}], "owner": {"reputation": 6353, "user_id": 3732958, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4ad4db32f4933b1bfcf0e0fa116781e0?s=128&d=identicon&r=PG", "display_name": "user2121", "link": "https://stackoverflow.com/users/3732958/user2121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562784918, "creation_date": 1562773887, "last_edit_date": 1562782238, "question_id": 56974424, "link": "https://stackoverflow.com/questions/56974424/how-to-print-emissions-from-observableobservablelistresponseallphotos-respons", "title": "How to print emissions from Observable&lt;Observable&lt;List&lt;ResponseAllPhotos.Response&gt;&gt;&gt;?", "body": "<p>In the below code, i make http request via retrofit. as shown below the method getAllPhotos() returns <code>Observable&lt;List&lt;ResponseAllPhotos.Response&gt;&gt;</code>\nwhat i want to achieve is, have a subscriber that emits in log statements, the url,title,thumbnailUrl and all the values in the data class shown below.</p>\n\n<p>in the code section posted below, i attempt to display the above mentioned values which exist in the data class but the logs in the subscribe method never displays.</p>\n\n<p><strong>code</strong>:</p>\n\n<pre><code>//first attempt\n/*var e = setupCommRequestService()?.\n    flatMap {\n        it.map {\n            Observable.fromIterable(it)\n                /*.map {\n                    it\n                }\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribeOn(Schedulers.io())\n                .subscribe {\n                    r-&gt;Log.i(LOG_TAG, \"\" + r.title)\n                }*/\n        }\n    }*/\n\n    //second attempt\n    var e = setupCommRequestService()?.\n        flatMap {\n            it\n        }\n\n    var r = e?.map { \n        it\n    }\n\n    var t = r?.map { \n        Observable.fromIterable(it)\n            .map { \n                it\n            }\n    }\n\n    var z = t?.observeOn(AndroidSchedulers.mainThread())\n        ?.subscribeOn(Schedulers.io())\n        ?.subscribe {\n                r-&gt;Log.i(LOG_TAG, \"\" + r.url)//never works\n        }\n</code></pre>\n\n<p><strong>interface</strong></p>\n\n<p>interface CommunicationRequestService {</p>\n\n<pre><code>@GET(\"/photos\")\nfun getAllPhotos(): Observable&lt;List&lt;ResponseAllPhotos.Response&gt;&gt;\n\ncompanion object {\n    fun initRetrofit(ctx : Context) : Single&lt;CommunicationRequestService&gt;? {\n        return Single.just(\n            Retrofit.Builder()\n                .addCallAdapterFactory(\n                    RxJava2CallAdapterFactory.create()\n                )\n                .addConverterFactory(\n                    GsonConverterFactory.create()\n                )\n                .baseUrl(ctx.getString(R.string.BASE_URL))\n                .build())\n            .flatMap { retrofit -&gt; Maybe.just(retrofit)\n                .map { it-&gt; it.create(CommunicationRequestService::class.java) }\n                .toSingle()\n            }\n    }\n}\n}\n</code></pre>\n\n<p><strong>model</strong>:</p>\n\n<pre><code>public object ResponseAllPhotos {\ndata class Response(val albumId : Int,val id : Int,val title : String,val url : String,val thumbnailUrl : String)\n</code></pre>\n"}, {"tags": ["java", "android", "svg", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 5956552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/305428ba81bf18b4463c8ea8a9407b37?s=128&d=identicon&r=PG&f=1", "display_name": "jcdsvg", "link": "https://stackoverflow.com/users/5956552/jcdsvg"}, "is_accepted": true, "score": 1, "last_activity_date": 1562784656, "creation_date": 1562784656, "answer_id": 56976950, "question_id": 56974221, "link": "https://stackoverflow.com/questions/56974221/write-scaled-text-in-svg-shape/56976950#56976950", "title": "Write scaled text in Svg shape", "body": "<p>You need to nest the SVG elements in a SVG container with a fixed aspect ratio. You can then establish a font size for either HTML text or the SVG text in relation to the fixed aspect ratio of the root container SVG.</p>\n"}], "owner": {"reputation": 37, "user_id": 6128255, "user_type": "registered", "profile_image": "https://graph.facebook.com/937476903015221/picture?type=large", "display_name": "Alexandr Goriunov", "link": "https://stackoverflow.com/users/6128255/alexandr-goriunov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 56976950, "answer_count": 1, "score": 3, "last_activity_date": 1562784656, "creation_date": 1562773178, "question_id": 56974221, "link": "https://stackoverflow.com/questions/56974221/write-scaled-text-in-svg-shape", "title": "Write scaled text in Svg shape", "body": "<p>I'm am trying to draw a scaled text with position number for each Svg shape on Android. </p>\n\n<p>Something like this:\n<a href=\"http://static-4.app4smart.me/uploads/posts/thumbs/13284/f-9553-1971d66549.jpg\" rel=\"nofollow noreferrer\">http://static-4.app4smart.me/uploads/posts/thumbs/13284/f-9553-1971d66549.jpg</a></p>\n\n<p>Does anyone have any idea how it can be implemented? \nThe main problem is to find the better place for placing the text inside shape, and to scale it according to size of svg shape.</p>\n\n<p>Actually I figured out how to put and scale text like in example below:</p>\n\n<pre><code>&lt;svg x=\"0px\" y=\"0px\"\n viewBox=\"0 0 800 800\" style=\"enable-background:new 0 0 800 \n800;\" xml:space=\"preserve\"&gt;\n&lt;polygon style=\"fill:#E2BE9C;\" points=\"509.8,704.8 517.4,799.3 \n436.4,799.3 399.5,757.9 409.6,661.6 440,620.3 \"/&gt;\n&lt;text xmlns=\"http://www.w3.org/2000/svg\" x=\"458\" y=\"709\" text- \nanchor=\"middle\" textLength=\"20\" lengthAdjust=\"spacingAndGlyphs\" \nfont- \nsize=\"10\"&gt;Hey!&lt;/text&gt;\n&lt;/svg&gt;\n</code></pre>\n\n<p>Here I just get the RectF of Path object and get the exact center where I put the text. \nBut I still can't find the better place to put the text and how big/ small it must be scaled. </p>\n\n<p>Because for such shape this approach can't be applied.</p>\n\n<pre><code> &lt;svg x=\"0px\" y=\"0px\"\n         viewBox=\"0 0 800 800\" style=\"enable-background:new 0 0 800 \n    800;\" xml:space=\"preserve\"&gt;\n    &lt;polygon style=\"fill:#58585A;\" points=\"201.7,175.9 294.4,146.9 \n    414.9,170.2 252.5,191.4 159.6,231.3 110.1,263.9 127.4,226 \"/&gt;\n    &lt;/svg&gt;\n</code></pre>\n\n<p>And for  elements this approach isn't good too.\nIt seems that I must find the biggest rectangle inside the svg shape and inside this rectangle place my text, scaled to rectangle dimensions. \nAny idea how to do it? </p>\n\n<p>Path object from android.graphics package doesn't provide any method to find real center of the shape.</p>\n"}, {"tags": ["kotlin", "coroutine"], "comments": [{"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 2, "creation_date": 1562774964, "post_id": 56973984, "comment_id": 100485605, "body": "Simply use a <code>return</code> statement."}, {"owner": {"reputation": 493, "user_id": 6604777, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-m94TKba8Sp0/AAAAAAAAAAI/AAAAAAAAAFE/1XaUDRENJZE/photo.jpg?sz=128", "display_name": "Zoilo Reyes", "link": "https://stackoverflow.com/users/6604777/zoilo-reyes"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1562775407, "post_id": 56973984, "comment_id": 100485858, "body": "it&#39;s a coroutine scope, not a function"}, {"owner": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 2, "creation_date": 1562777999, "post_id": 56973984, "comment_id": 100487086, "body": "It is a lambda. You can return from it using <code>return@launch</code>."}, {"owner": {"reputation": 493, "user_id": 6604777, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-m94TKba8Sp0/AAAAAAAAAAI/AAAAAAAAAFE/1XaUDRENJZE/photo.jpg?sz=128", "display_name": "Zoilo Reyes", "link": "https://stackoverflow.com/users/6604777/zoilo-reyes"}, "reply_to_user": {"reputation": 79983, "user_id": 147024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b35432f97606c0a31da17084d2414966?s=128&d=identicon&r=PG", "display_name": "yole", "link": "https://stackoverflow.com/users/147024/yole"}, "edited": false, "score": 0, "creation_date": 1562783695, "post_id": 56973984, "comment_id": 100489618, "body": "Looks like I need a visit to the docs. It worked! . Post it as an answer"}], "answers": [{"tags": [], "owner": {"reputation": 300, "user_id": 6790423, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mxEcneVYcgY/AAAAAAAAAAI/AAAAAAAAADA/AjvqgojORW8/photo.jpg?sz=128", "display_name": "Sajjad", "link": "https://stackoverflow.com/users/6790423/sajjad"}, "is_accepted": false, "score": 2, "last_activity_date": 1585391662, "creation_date": 1585391662, "answer_id": 60899996, "question_id": 56973984, "link": "https://stackoverflow.com/questions/56973984/cancelling-a-coroutine-internally/60899996#60899996", "title": "Cancelling a coroutine internally?", "body": "<p>You have two ways:</p>\n\n<ol>\n<li>Simply return from your coroutine body with <code>return@launch</code> statement.</li>\n<li>Throw an <code>CancellationException</code> just like what <code>this.cancel()</code> does.</li>\n</ol>\n\n<p>And the reason that your code doesn't stop working is because <a href=\"https://kotlinlang.org/docs/reference/coroutines/cancellation-and-timeouts.html#cancellation-is-cooperative\" rel=\"nofollow noreferrer\">Cancellation is cooperative</a> in coroutines, your code should be cooperate with checking for <code>isActive</code> Or calling <code>yield()</code>, (just like what <a href=\"https://kotlinlang.org/docs/reference/coroutines/cancellation-and-timeouts.html#cancellation-is-cooperative\" rel=\"nofollow noreferrer\">docs</a> says) to achive such a functionality that you want</p>\n"}], "owner": {"reputation": 493, "user_id": 6604777, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-m94TKba8Sp0/AAAAAAAAAAI/AAAAAAAAAFE/1XaUDRENJZE/photo.jpg?sz=128", "display_name": "Zoilo Reyes", "link": "https://stackoverflow.com/users/6604777/zoilo-reyes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1587459714, "creation_date": 1562772354, "last_edit_date": 1587459714, "question_id": 56973984, "link": "https://stackoverflow.com/questions/56973984/cancelling-a-coroutine-internally", "title": "Cancelling a coroutine internally?", "body": "<p>I need to exit a coroutine in kotlin if a condition is not met. I would like to avoid using nested condition to keep my code clean. This is what I have:</p>\n\n<pre><code>GlobalScope.launch {\n    var condition: Boolean = false\n    if (!condition) {\n        //this does nothing\n        this.cancel()\n    }\n    println(\"I shouldn't print\")\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-sqlite"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 1, "creation_date": 1562771161, "post_id": 56973588, "comment_id": 100483437, "body": "@JohnJoe: No, it is not. There is <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper\" rel=\"nofollow noreferrer\">no zero-parameter constructor on <code>SQLiteOpenHelper</code></a>."}], "answers": [{"tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": true, "score": 2, "last_activity_date": 1562771390, "creation_date": 1562771390, "answer_id": 56973721, "question_id": 56973588, "link": "https://stackoverflow.com/questions/56973588/how-to-use-sqlite-in-android-fragments/56973721#56973721", "title": "How to use SQLite in android fragments?", "body": "<p>The first parameter to a <code>SQLiteOpenHelper</code> constructor is a <code>Context</code>. <code>Fragment</code> is not a <code>Context</code>.</p>\n\n<p>Tactically, replace:</p>\n\n<pre><code>class sql(context: FragmentTwo):SQLiteOpenHelper(context, DATABASE_NAME, null, DATABASE_VER) {\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>class sql(fragment: FragmentTwo):SQLiteOpenHelper(fragment.requireContext(), DATABASE_NAME, null, DATABASE_VER) {\n</code></pre>\n\n<p>However, in modern Android app development, a fragment should not be working directly with a <code>SQLiteOpenHelper</code>. At minimum, the fragment should be working with a <code>ViewModel</code>, which in turn works with a singleton <code>SQLiteOpenHelper</code>. Make sure that whatever books or courses you are using to learn Android app development are showing you how to work with the Jetpack/AndroidX libraries, including things like <code>ViewModel</code> and <code>LiveData</code>.</p>\n"}], "owner": {"reputation": 109, "user_id": 11011125, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3kSOdb8kVpA/AAAAAAAAAAI/AAAAAAAAS4c/qqfeqNx2Qeg/photo.jpg?sz=128", "display_name": "delet-dis", "link": "https://stackoverflow.com/users/11011125/delet-dis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 527, "favorite_count": 1, "accepted_answer_id": 56973721, "answer_count": 1, "score": 1, "last_activity_date": 1562771921, "creation_date": 1562770980, "last_edit_date": 1562771921, "question_id": 56973588, "link": "https://stackoverflow.com/questions/56973588/how-to-use-sqlite-in-android-fragments", "title": "How to use SQLite in android fragments?", "body": "<p>I am an aspiring android developer. I wanted to make a simple project with SQLtite support, but I ran into the problem of SQLite whith Fragment. </p>\n\n<p>Thanks in advance for your help</p>\n\n<p>I tried replacing <code>context: FragmentTwo</code> with <code>context: MainActivity</code>.</p>\n\n<p>It turned out another mistake.</p>\n\n<p>Based on this, I concluded that this is not a solution to the problem.\ud83d\ude15\ud83d\ude15\ud83d\ude15</p>\n\n<pre><code>class sql(context: FragmentTwo):SQLiteOpenHelper(context, DATABASE_NAME, null, DATABASE_VER) {\n    companion object{\n        private val DATABASE_VER=1\n        private val DATABASE_NAME=\"GUESTS.db\"\n\n        private val TABLE_NAME= \"GUESTS\"\n        private val COL_ID= \"Id\"\n        private val COL_NAME= \"Name\"\n        private val COL_CITY= \"City\"\n\n    }\n    override fun onCreate(db: SQLiteDatabase?) {\n        val CREATE_TABLE_QUERY = (\"CREATE TABLE $TABLE_NAME +($COL_ID INTEGER PRIMARY KEY,$COL_NAME TEXT, $COL_CITY TEXT)\")\n        db!!.execSQL(CREATE_TABLE_QUERY)\n\n    }\n\n    override fun onUpgrade(db: SQLiteDatabase?, p1: Int, p2: Int) {\n        db!!.execSQL(\"DROP TABLE IF EXISTS $TABLE_NAME\")\n        onCreate(db!!)\n    }\n    val allguest:List&lt;guest&gt;\n    get(){\n        val listguest = ArrayList&lt;guest&gt;()\n        val selectQuery = \"SELECT * FROM $TABLE_NAME\"\n        val db = this.writableDatabase\n        val cursor = db.rawQuery(selectQuery, null)\n        if (cursor.moveToFirst()){\n            do {\n                val guest= guest()\n                guest.id=cursor.getInt(cursor.getColumnIndex(COL_ID))\n                guest.name=cursor.getString(cursor.getColumnIndex(COL_NAME))\n                guest.city=cursor.getString(cursor.getColumnIndex(COL_CITY))\n\n                listguest.add(guest)\n\n            }\n                while (cursor.moveToNext())\n        }\n        db.close()\n        return listguest\n    }\n    fun addGuest(guest: guest){\n\n        val db = this.writableDatabase\n        val values = ContentValues()\n        values.put(COL_ID, guest.id)\n        values.put(COL_NAME, guest.name)\n        values.put(COL_CITY, guest.city)\n\n        db.insert(TABLE_NAME, null, values)\n        db.close()\n    }\n\n    fun updateGuest(guest: guest):Int{\n\n        val db = this.writableDatabase\n        val values = ContentValues()\n        values.put(COL_ID, guest.id)\n        values.put(COL_NAME, guest.name)\n        values.put(COL_CITY, guest.city)\n\n        return db.update(TABLE_NAME, values, \"$COL_ID=?\", arrayOf(guest.id.toString()))\n\n    }\n\n    fun deleteGuest(guest: guest){\n\n        val db = this.writableDatabase\n\n\n\n        db.delete(TABLE_NAME, \"$COL_ID=?\", arrayOf(guest.id.toString()))\n        db.close()\n\n    }\n}\n</code></pre>\n\n<p>None of the following functions can be called with the arguments supplied:</p>\n\n<pre><code>public constructor SQLiteOpenHelper(@RecentlyNullable p0: Context!, @RecentlyNullable p1: String!, @RecentlyNullable p2: ((SQLiteDatabase!, SQLiteCursorDriver!, String!, SQLiteQuery!) -&gt; Cursor!)!, p3: Int) defined in android.database.sqlite.SQLiteOpenHelper\npublic constructor SQLiteOpenHelper(@RecentlyNullable p0: Context!, @RecentlyNullable p1: String!, @RecentlyNullable p2: SQLiteDatabase.CursorFactory!, p3: Int) defined in android.database.sqlite.SQLiteOpenHelper\npublic constructor SQLiteOpenHelper(@RecentlyNullable p0: Context!, @RecentlyNullable p1: String!, p2: Int, @RecentlyNonNull p3: SQLiteDatabase.OpenParams!) defined in android.database.sqlite.SQLiteOpenHelper\n</code></pre>\n"}, {"tags": ["android", "android-layout", "kotlin"], "comments": [{"owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "edited": false, "score": 0, "creation_date": 1562768749, "post_id": 56972659, "comment_id": 100482016, "body": "Can you share how you add <code>ArticleView</code> to some other layout?"}, {"owner": {"reputation": 390, "user_id": 3578585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c9e3db3e6d482d346a6615c831af0f8e?s=128&d=identicon&r=PG&f=1", "display_name": "mhashim6", "link": "https://stackoverflow.com/users/3578585/mhashim6"}, "reply_to_user": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "edited": false, "score": 0, "creation_date": 1562769304, "post_id": 56972659, "comment_id": 100482359, "body": "I updated the post."}], "answers": [{"comments": [{"owner": {"reputation": 390, "user_id": 3578585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c9e3db3e6d482d346a6615c831af0f8e?s=128&d=identicon&r=PG&f=1", "display_name": "mhashim6", "link": "https://stackoverflow.com/users/3578585/mhashim6"}, "edited": false, "score": 0, "creation_date": 1562770177, "post_id": 56973259, "comment_id": 100482877, "body": "If I lose root parameters when I use merge, that makes using it absolutely useless."}, {"owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "reply_to_user": {"reputation": 390, "user_id": 3578585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c9e3db3e6d482d346a6615c831af0f8e?s=128&d=identicon&r=PG&f=1", "display_name": "mhashim6", "link": "https://stackoverflow.com/users/3578585/mhashim6"}, "edited": false, "score": 0, "creation_date": 1562770971, "post_id": 56973259, "comment_id": 100483328, "body": "You&#39;re trading 3 parameters you have to set programmatically for not having an additional layout in your layout hierarchy. So most definitely I wouldn&#39;t say &quot;absolutely useless&quot;."}, {"owner": {"reputation": 390, "user_id": 3578585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c9e3db3e6d482d346a6615c831af0f8e?s=128&d=identicon&r=PG&f=1", "display_name": "mhashim6", "link": "https://stackoverflow.com/users/3578585/mhashim6"}, "edited": false, "score": 0, "creation_date": 1562771260, "post_id": 56973259, "comment_id": 100483490, "body": "Setting parameters programmatically can be painful sometimes."}, {"owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "reply_to_user": {"reputation": 390, "user_id": 3578585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c9e3db3e6d482d346a6615c831af0f8e?s=128&d=identicon&r=PG&f=1", "display_name": "mhashim6", "link": "https://stackoverflow.com/users/3578585/mhashim6"}, "edited": false, "score": 1, "creation_date": 1562771654, "post_id": 56973259, "comment_id": 100483741, "body": "It can be &quot;painful&quot; for you as a dev, but having additional layouts in a hierarchy can be really painful for users."}, {"owner": {"reputation": 390, "user_id": 3578585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c9e3db3e6d482d346a6615c831af0f8e?s=128&d=identicon&r=PG&f=1", "display_name": "mhashim6", "link": "https://stackoverflow.com/users/3578585/mhashim6"}, "edited": false, "score": 1, "creation_date": 1562771793, "post_id": 56973259, "comment_id": 100483822, "body": "I could use that as quote for the whole android framework lol. Thanks for the answer."}], "tags": [], "owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "is_accepted": true, "score": 1, "last_activity_date": 1562769985, "creation_date": 1562769985, "answer_id": 56973259, "question_id": 56972659, "link": "https://stackoverflow.com/questions/56972659/compound-view-is-invisible-when-using-merge-tag/56973259#56973259", "title": "compound view is invisible when using merge tag", "body": "<p>It's probably because you're losing your root parameters:</p>\n\n<pre><code>android:layout_width=\"@dimen/media_width\"\nandroid:layout_height=\"match_parent\"\nandroid:orientation=\"vertical\"\n</code></pre>\n\n<p>therefore:</p>\n\n<ol>\n<li><p>The size of added <code>ArticleViews</code> is determined by the the <code>generateDefaultLayoutParams()</code> of the enclosing layout.</p></li>\n<li><p>The orientation is the default orientation of the <code>LinearLayout</code> which (if I'm not mistaken) is the <code>horizontal</code>.</p></li>\n</ol>\n"}], "owner": {"reputation": 390, "user_id": 3578585, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/c9e3db3e6d482d346a6615c831af0f8e?s=128&d=identicon&r=PG&f=1", "display_name": "mhashim6", "link": "https://stackoverflow.com/users/3578585/mhashim6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 156, "favorite_count": 0, "accepted_answer_id": 56973259, "answer_count": 1, "score": 2, "last_activity_date": 1563118568, "creation_date": 1562768071, "last_edit_date": 1563118568, "question_id": 56972659, "link": "https://stackoverflow.com/questions/56972659/compound-view-is-invisible-when-using-merge-tag", "title": "compound view is invisible when using merge tag", "body": "<p>I have this compound view <code>ArticleView</code>,\nWhen I replace the root <code>LinearLayout</code> with <code>merge</code> the view is not visible on my test device, nor the emulator. Why does this happen?</p>\n\n<hr>\n\n<p><code>ArticleView.kt</code>:</p>\n\n<pre><code>import android.content.Context\nimport android.util.AttributeSet\nimport android.view.LayoutInflater\nimport android.widget.LinearLayout\nimport com.kaf.hajjcompanion.R\nimport kotlinx.android.synthetic.main.article_view.view.*\nimport net.cachapa.expandablelayout.ExpandableLayout.State.EXPANDED\n\nclass ArticleView @JvmOverloads constructor(\n    context: Context,\n    attrs: AttributeSet? = null,\n    defStyleAttr: Int = 0\n) : LinearLayout(context, attrs, defStyleAttr) {\n\n    private val header by lazy { question_header }\n    private val paragraph by lazy { paragraph_view }\n    private val expandableParagraph by lazy { expandable_paragraph }\n\n    init {\n        inflate()\n    }\n\n    private fun inflate() {\n        LayoutInflater.from(context).inflate(R.layout.article_view, this, true)\n\n        header.setOnClickListener {\n            expandableParagraph.toggle()\n        }\n        expandableParagraph.setOnExpansionUpdateListener { _, state -&gt;\n            header.setCompoundDrawablesRelativeWithIntrinsicBounds(\n                0, 0,\n                if (state == EXPANDED) R.drawable.ic_expand_less_white_24dp else R.drawable.ic_expand_more_white_24dp,\n                0\n            )\n        }\n    }\n\n    fun render(viewState: ArticleViewState) {\n        with(viewState) {\n            header.setText(title)\n            paragraph.text = paragraphText\n        }\n    }\n}\n</code></pre>\n\n<p>article_view.xml:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;LinearLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"@dimen/media_width\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;androidx.appcompat.widget.AppCompatTextView\n        android:id=\"@+id/question_header\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@color/hajj_black\"\n        android:drawableEnd=\"@drawable/ic_expand_more_white_24dp\"\n        android:elevation=\"@dimen/default_elevation\"\n        android:padding=\"8dp\"\n        android:textAlignment=\"viewStart\"\n        android:textColor=\"@android:color/white\"\n        android:textSize=\"@dimen/entry_title_size\"\n        tools:text=\"@string/hajj_comp_how_to\"\n        /&gt;\n\n    &lt;net.cachapa.expandablelayout.ExpandableLayout\n        android:id=\"@+id/expandable_paragraph\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        app:el_duration=\"500\"\n        app:el_expanded=\"false\"&gt;\n\n        &lt;com.kaf.hajjcompanion.ui.commons.EmbeddedParagraphView\n            android:id=\"@+id/paragraph_view\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"@dimen/paragraph_height\"/&gt;\n    &lt;/net.cachapa.expandablelayout.ExpandableLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>In my fragment:</p>\n\n<pre><code>    private fun renderState(state: SectionState) {\n        when (state) {\n            //..\n            is SectionState.Article -&gt; ArticleView(context!!).run {\n                render(state.what)\n                root.addView(this)\n            }\n            //..\n        }\n    }\n</code></pre>\n\n<p>fragment:</p>\n\n<pre><code>&lt;ScrollView\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"@dimen/media_width\"\n    android:layout_height=\"wrap_content\"\n    android:layout_marginStart=\"8dp\"\n    android:layout_marginTop=\"8dp\"\n    android:layout_marginEnd=\"8dp\"\n    android:layout_gravity=\"center\"\n    android:scrollbars=\"none\"&gt;\n\n    &lt;LinearLayout\n        android:id=\"@+id/root\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:divider=\"@drawable/entries_divider\"\n        android:orientation=\"vertical\"\n        android:showDividers=\"middle\"/&gt;\n\n&lt;/ScrollView&gt;\n</code></pre>\n\n<hr>\n\n<p>please note that I'm not using a <code>RecyclerView</code> because I'm dealing with static data that are less than 5 elements.</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview", "androidx", "gridlayoutmanager"], "comments": [{"owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "edited": false, "score": 0, "creation_date": 1563145065, "post_id": 56972440, "comment_id": 100592348, "body": "See if <a href=\"https://github.com/google/flexbox-layout#flexboxlayoutmanager-within-recyclerview\" rel=\"nofollow noreferrer\">FlexboxLayoutManager</a> will work for you."}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "reply_to_user": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "edited": false, "score": 0, "creation_date": 1563189964, "post_id": 56972440, "comment_id": 100605251, "body": "I tried to play with flexbox demo, but I couldn&#39;t achieve horizontally scrollable view. Can you give any clue?"}, {"owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "edited": false, "score": 0, "creation_date": 1563192514, "post_id": 56972440, "comment_id": 100606566, "body": "Here is a quick demo: Download the <a href=\"https://github.com/google/flexbox-layout\" rel=\"nofollow noreferrer\">FlexboxLayout project</a> and run the <i>demo-cat-gallery</i> app. You will see a vertical scrolling gallery. Now, in <i>MainActivity.kt</i> change <code>flexDirection = FlexDirection.ROW</code> to <code>flexDirection = FlexDirection.COLUMN</code> and run the app. You will now see a horizontal scroll of the same gallery. This is the idea."}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "reply_to_user": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "edited": false, "score": 0, "creation_date": 1563192978, "post_id": 56972440, "comment_id": 100606828, "body": "I&#39;ve checked that now, correct me if I&#39;m wrong, but this would work I could specify height of the <code>RecyclerView</code>. With <code>FlexboxLayoutManager</code> I am unable to specify column count."}, {"owner": {"reputation": 49581, "user_id": 6287910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xdW09.png?s=128&g=1", "display_name": "Cheticamp", "link": "https://stackoverflow.com/users/6287910/cheticamp"}, "edited": false, "score": 0, "creation_date": 1563193464, "post_id": 56972440, "comment_id": 100607116, "body": "If you have design constraints that <i>FlexboxLayout</i> can&#39;t accommodate then this isn&#39;t what will work for you."}, {"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 0, "creation_date": 1563447272, "post_id": 56972440, "comment_id": 100707245, "body": "try this: <a href=\"https://stackoverflow.com/a/34225902/4079010\">stackoverflow.com/a/34225902/4079010</a>"}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1563447334, "post_id": 56972440, "comment_id": 100707286, "body": "I tried. It gives the same result like normal GridLayoutManager. Use sample I provided."}, {"owner": {"reputation": 8524, "user_id": 7258332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1162962850406223/picture?type=large", "display_name": "Santanu Sur", "link": "https://stackoverflow.com/users/7258332/santanu-sur"}, "edited": false, "score": 0, "creation_date": 1578379259, "post_id": 56972440, "comment_id": 105409423, "body": "@Nominalista did u get it to work ?"}], "answers": [{"comments": [{"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1562769566, "post_id": 56973080, "comment_id": 100482519, "body": "Actually it&#39;s not working, because it adjust item width, not height, in horizontal <code>RecyclerView</code>."}, {"owner": {"reputation": 1968, "user_id": 9263083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d74d9629591720e7e7bc8ddd3f35c92?s=128&d=identicon&r=PG&f=1", "display_name": "sanoJ", "link": "https://stackoverflow.com/users/9263083/sanoj"}, "reply_to_user": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1562771293, "post_id": 56973080, "comment_id": 100483516, "body": "@Nominalista Sorry i have made a mistake, need to set the orientation to <code>VERTICAL</code>. I updated my answer, have a look"}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1562771438, "post_id": 56973080, "comment_id": 100483611, "body": "Please notice that I mentioned in the description that it must be a horizontal recycler view. There are to many items in a real problem to fit in two columns."}, {"owner": {"reputation": 1968, "user_id": 9263083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d74d9629591720e7e7bc8ddd3f35c92?s=128&d=identicon&r=PG&f=1", "display_name": "sanoJ", "link": "https://stackoverflow.com/users/9263083/sanoj"}, "reply_to_user": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1562772218, "post_id": 56973080, "comment_id": 100484069, "body": "Does the height of a row also change?"}, {"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1562772328, "post_id": 56973080, "comment_id": 100484141, "body": "All items in a row have the same height. But they differ between other rows. I think in this case example above shows exactly how they look like."}], "tags": [], "owner": {"reputation": 1968, "user_id": 9263083, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d74d9629591720e7e7bc8ddd3f35c92?s=128&d=identicon&r=PG&f=1", "display_name": "sanoJ", "link": "https://stackoverflow.com/users/9263083/sanoj"}, "is_accepted": false, "score": -1, "last_activity_date": 1562771236, "last_edit_date": 1562771236, "creation_date": 1562769425, "answer_id": 56973080, "question_id": 56972440, "link": "https://stackoverflow.com/questions/56972440/recyclerview-with-horizontal-gridlayoutmanager-adjusts-its-height-to-largest-row/56973080#56973080", "title": "RecyclerView with horizontal GridLayoutManager adjusts its height to largest row", "body": "<p>Try to use a <a href=\"https://developer.android.com/reference/android/support/v7/widget/StaggeredGridLayoutManager.html\" rel=\"nofollow noreferrer\">StaggeredGridLayoutManager</a> to have different heights. Replace your <code>GridLayoutManager</code> with the below <code>StaggeredGridLayoutManager</code></p>\n\n<pre><code>StaggeredGridLayoutManager layoutManager = new StaggeredGridLayoutManager(2, StaggeredGridLayoutManager.VERTICAL);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/s6rPd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s6rPd.png\" alt=\"enter image description here\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1562769738, "post_id": 56973108, "comment_id": 100482621, "body": "Thanks for the idea, but I made the sample simpler than the real problem. I have many rows in different configurations. So your solution doesn&#39;t apply here."}], "tags": [], "owner": {"reputation": 980, "user_id": 853191, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/fdabb50a1f74d4f4b95e852812ec6583?s=128&d=identicon&r=PG", "display_name": "LiuWenbin_NO.", "link": "https://stackoverflow.com/users/853191/liuwenbin-no"}, "is_accepted": false, "score": -1, "last_activity_date": 1562769543, "creation_date": 1562769543, "answer_id": 56973108, "question_id": 56972440, "link": "https://stackoverflow.com/questions/56972440/recyclerview-with-horizontal-gridlayoutmanager-adjusts-its-height-to-largest-row/56973108#56973108", "title": "RecyclerView with horizontal GridLayoutManager adjusts its height to largest row", "body": "<p>I think GridLayoutManager by default constraints the child views to be exactly same sizes.</p>\n\n<p>I adjust the code to use a <code>LinearLayoutManager</code>, and the view for ViewHolder is to wrap two types views into a <code>RelativeLayout</code>.</p>\n\n<p>See some code below:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"&gt;\n\n    &lt;View\n        android:id=\"@+id/top\"\n        android:layout_width=\"100dp\"\n        android:layout_height=\"50dp\"\n        android:layout_margin=\"8dp\"\n        android:layout_alignParentTop=\"true\"\n        android:background=\"@color/colorAccent\" /&gt;\n\n\n    &lt;View\n        android:id=\"@+id/bottom\"\n        android:layout_width=\"100dp\"\n        android:layout_height=\"100dp\"\n        android:layout_margin=\"8dp\"\n        android:layout_below=\"@+id/top\"\n        android:background=\"@color/colorAccent\" /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>RecyclerAdapter:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>        View view = LayoutInflater.from(viewGroup.getContext()).inflate(\n                R.layout.item_normal,\n                viewGroup,\n                false\n        );\n        ViewHolder viewHolder = new ViewHolder(view);\n        return viewHolder;\n</code></pre>\n\n<p>And set LinearLayoutManager:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>        LinearLayoutManager layoutManager = new LinearLayoutManager(this, RecyclerView.HORIZONTAL, false);\n        recyclerView.setLayoutManager(layoutManager);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/QubVY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QubVY.png\" alt=\"screenshot\"></a></p>\n"}, {"comments": [{"owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "edited": false, "score": 0, "creation_date": 1563209519, "post_id": 57043786, "comment_id": 100616005, "body": "Seems very promising, I will check you solution asap."}], "tags": [], "owner": {"reputation": 927, "user_id": 2015751, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/29d0313be56df012c70064c768046964?s=128&d=identicon&r=PG", "display_name": "daemontus", "link": "https://stackoverflow.com/users/2015751/daemontus"}, "is_accepted": false, "score": 3, "last_activity_date": 1563209808, "last_edit_date": 1563209808, "creation_date": 1563207932, "answer_id": 57043786, "question_id": 56972440, "link": "https://stackoverflow.com/questions/56972440/recyclerview-with-horizontal-gridlayoutmanager-adjusts-its-height-to-largest-row/57043786#57043786", "title": "RecyclerView with horizontal GridLayoutManager adjusts its height to largest row", "body": "<p>Assuming you know the ratios between heights of individual rows, you can try to use <a href=\"https://developer.android.com/reference/android/support/v7/widget/GridLayoutManager.SpanSizeLookup\" rel=\"nofollow noreferrer\"><code>SpanSizeLookup</code></a> to adjust height of each row. In your simple case, the smaller item (50dp) will take one row (span size 1) while the larger item (100dp) will take two rows (span size 2) so the whole grid overall will contain 3 rows.</p>\n\n<p>Of course, for a more complex row configuration, the ratios might get a little more complicated: Say I wanted rows of heights 32dp/48dp/64dp, then the height ratios are 32/144, 48/144 and 64/144, which we can simplify to 2/9, 3/9, 4/9, getting 9 rows in total, with span sizes 2, 3, and 4 for individual items. In extreme cases, this can result in large number of rows (when the fractions cannot be simplified), but assuming you are using some type of grid (x8, x10, etc.) and the items are reasonably sized, it should still be manageable.</p>\n\n<p>Anyway, in your case, the code would be this:</p>\n\n<pre><code>val layoutManager = GridLayoutManager(this, 3, RecyclerView.HORIZONTAL, false)\nlayoutManager.spanSizeLookup = object : GridLayoutManager.SpanSizeLookup() {\n    override fun getSpanSize(position: Int) = when (position % 2) {\n        0 -&gt; 1 // 50dp item\n        else -&gt; 2 // 100dp item\n    }\n}\n</code></pre>\n\n<p>Given more rows, the <code>when</code> statement is going to get more complex, but if you already have the adapter at hand, you can use <code>getItemViewType</code> to differentiate individual rows in the <code>when</code> statement more easily.</p>\n\n<p>If the number of item types is large or changes often (for example different item types on different screens), you can of course also implement the logic above in code, assuming you have access to the heights of the individual item types. Simply sum the heights to obtain the denominator and then find greatest common divisor of all heights and the sum to find the \"simplification factor\".</p>\n"}], "owner": {"reputation": 3629, "user_id": 4386668, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/913cf060881bef437c19b1c8e3be00aa?s=128&d=identicon&r=PG&f=1", "display_name": "Nominalista", "link": "https://stackoverflow.com/users/4386668/nominalista"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2058, "favorite_count": 0, "answer_count": 3, "score": 4, "last_activity_date": 1563209808, "creation_date": 1562767376, "question_id": 56972440, "link": "https://stackoverflow.com/questions/56972440/recyclerview-with-horizontal-gridlayoutmanager-adjusts-its-height-to-largest-row", "title": "RecyclerView with horizontal GridLayoutManager adjusts its height to largest row", "body": "<p>I want to use <code>RecyclerView</code> with <code>GridLayoutManager</code> to achieve something like that:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YIUuPl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YIUuPl.png\" alt=\"Target\"></a></p>\n\n<p>Here is <code>GridLayoutManager</code> with horizontal orientation and 2 rows. What's important for me here is that <code>RecyclerView</code> is set as <code>wrap_content</code>.</p>\n\n<p>So I tried to achieve my goal with such code:</p>\n\n<p><code>MainActivity.kt</code></p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    private val adapter = Adapter()\n    private val layoutManager = GridLayoutManager(this, 2, RecyclerView.HORIZONTAL, false)\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        recyclerView.adapter = adapter\n        recyclerView.layoutManager = layoutManager\n\n        adapter.submitList(listOf(Unit, Unit, Unit, Unit))\n    }\n}\n</code></pre>\n\n<p><code>Adapter.kt</code></p>\n\n<pre><code>class Adapter : ListAdapter&lt;Any, ItemHolder&gt;(DiffCallback()) {\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ItemHolder {\n        val itemView = LayoutInflater.from(parent.context).inflate(viewType, parent, false)\n        return ItemHolder(itemView)\n    }\n\n    override fun onBindViewHolder(holder: ItemHolder, position: Int) {\n    }\n\n    override fun getItemViewType(position: Int): Int {\n        return when {\n            position % 2 == 0 -&gt; R.layout.item_small\n            else -&gt; R.layout.item_normal\n        }\n    }\n\n    class DiffCallback : DiffUtil.ItemCallback&lt;Any&gt;() {\n        override fun areItemsTheSame(oldItem: Any, newItem: Any) = false\n        override fun areContentsTheSame(oldItem: Any, newItem: Any) = false\n    }\n\n    class ItemHolder(itemView: View) : RecyclerView.ViewHolder(itemView)\n}\n</code></pre>\n\n<p><code>activity_main.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=\"@+id/recyclerView\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintEnd_toEndOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n\n<p><code>item_normal.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"100dp\"\n    android:layout_height=\"100dp\"\n    android:layout_margin=\"8dp\"\n    android:background=\"@color/colorAccent\" /&gt;\n</code></pre>\n\n<p><code>item_small.xml</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"100dp\"\n    android:layout_height=\"50dp\"\n    android:layout_margin=\"8dp\"\n    android:background=\"@color/colorAccent\" /&gt;\n</code></pre>\n\n<p>Unfortunately as the result, each row stretches to the largest row in grid:</p>\n\n<p><a href=\"https://i.stack.imgur.com/SohPcl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SohPcl.png\" alt=\"current\"></a></p>\n\n<p>The question is how can I remove the spacing between first row and second row? Keep in mind that I have to have scrollable horizontal grid that its height depends on its content. And items have to have fixed size.</p>\n"}, {"tags": ["android", "kotlin", "android-preferences"], "comments": [{"owner": {"reputation": 414, "user_id": 10776164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2eb84a806a62335ec24b843070ecced?s=128&d=identicon&r=PG&f=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/10776164/louis"}, "edited": false, "score": 0, "creation_date": 1562889752, "post_id": 56972202, "comment_id": 100530932, "body": "Does it work if you don&#39;t use the <code>&lt;fragment</code> tag, and instead just have a layout that you manually add the fragment to from inside onCreate? See <a href=\"https://developer.android.com/guide/topics/ui/settings#java\" rel=\"nofollow noreferrer\">here</a> at the bottom"}, {"owner": {"reputation": 989, "user_id": 6884119, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FNca08XrllI/AAAAAAAAAAI/AAAAAAAAABM/jHFNgZEWSNE/photo.jpg?sz=128", "display_name": "Mervin Hemaraju", "link": "https://stackoverflow.com/users/6884119/mervin-hemaraju"}, "reply_to_user": {"reputation": 414, "user_id": 10776164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2eb84a806a62335ec24b843070ecced?s=128&d=identicon&r=PG&f=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/10776164/louis"}, "edited": false, "score": 0, "creation_date": 1562987083, "post_id": 56972202, "comment_id": 100563256, "body": "You mean use Frame Layout instead ?"}, {"owner": {"reputation": 414, "user_id": 10776164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2eb84a806a62335ec24b843070ecced?s=128&d=identicon&r=PG&f=1", "display_name": "Louis", "link": "https://stackoverflow.com/users/10776164/louis"}, "edited": false, "score": 0, "creation_date": 1563023610, "post_id": 56972202, "comment_id": 100569584, "body": "Yes, or something else if you need more dynamic layouts"}], "owner": {"reputation": 989, "user_id": 6884119, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FNca08XrllI/AAAAAAAAAAI/AAAAAAAAABM/jHFNgZEWSNE/photo.jpg?sz=128", "display_name": "Mervin Hemaraju", "link": "https://stackoverflow.com/users/6884119/mervin-hemaraju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 248, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562766671, "creation_date": 1562766671, "question_id": 56972202, "link": "https://stackoverflow.com/questions/56972202/android-nested-preference-settings-doesnt-work-properly", "title": "Android Nested Preference Settings Doesn&#39;t Work Properly", "body": "<p>I am trying to implement a settings screen within my app which contains 2 nested preference screens namely \"Backup\" and \"About\". I tried to follow the guides from this link: <a href=\"https://developer.android.com/guide/topics/ui/settings/organize-your-settings\" rel=\"nofollow noreferrer\">Organize your Settings</a></p>\n\n<p>Please see my code below:</p>\n\n<p>activity_settings.xml</p>\n\n<pre><code>&lt;layout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\".ui.settings.SettingsActivity\"&gt;\n\n    &lt;ImageButton\n            android:id=\"@+id/back_button\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:background=\"?attr/selectableItemBackgroundBorderless\"\n            android:contentDescription=\"@string/ContentDescription_Icon_Back\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:srcCompat=\"@drawable/ic_back_dark\" android:layout_marginStart=\"16dp\"\n            android:layout_marginTop=\"16dp\"/&gt;\n\n    &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginEnd=\"8dp\"\n            android:layout_marginStart=\"8dp\"\n            android:text=\"Settings\"\n            app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"@+id/back_button\"\n            style=\"@style/Screen_Title_Default\" android:id=\"@+id/textView\"\n            app:layout_constraintBottom_toBottomOf=\"@+id/back_button\"/&gt;\n\n\n    &lt;fragment\n            android:id=\"@+id/fragment_cont\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginTop=\"32dp\"\n            android:layout_marginStart=\"8dp\"\n            android:layout_marginEnd=\"8dp\"\n            android:name=\"com.th3pl4gu3.lifestyle.ui.settings.SettingsMainFragment\"\n            app:layout_constraintTop_toBottomOf=\"@+id/textView\"\n            app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\"/&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n\n<p>SettingsActivity.kt</p>\n\n<pre><code>import androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\nimport androidx.databinding.DataBindingUtil\nimport androidx.preference.Preference\nimport androidx.preference.PreferenceFragmentCompat\nimport com.th3pl4gu3.lifestyle.R\nimport com.th3pl4gu3.lifestyle.databinding.ActivitySettingsBinding\n\nclass SettingsActivity : AppCompatActivity(), PreferenceFragmentCompat.OnPreferenceStartFragmentCallback {\n\noverride fun onPreferenceStartFragment(caller: PreferenceFragmentCompat?, pref: Preference): Boolean {\n    // Instantiate the new Fragment\n    val args = pref.extras\n    val fragment = supportFragmentManager.fragmentFactory.instantiate(\n        classLoader,\n        pref.fragment\n    )\n    fragment.arguments = args\n    fragment.setTargetFragment(caller, 0)\n    // Replace the existing Fragment with the new Fragment\n    supportFragmentManager.beginTransaction()\n        .replace(R.id.fragment_cont, fragment)\n        .addToBackStack(null)\n        .commit()\n    return true\n}\n\n\nprivate lateinit var _binding: ActivitySettingsBinding\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    _binding = DataBindingUtil.setContentView(this, R.layout.activity_settings)\n}\n\noverride fun onStart() {\n    super.onStart()\n\n    _binding.backButton.setOnClickListener {\n        onBackPressed()\n    }\n}\n}\n</code></pre>\n\n<p>preferences_settings_main.xml</p>\n\n<pre><code>&lt;PreferenceScreen\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n&lt;Preference\n        app:key=\"backup_local\"\n        app:title=\"Backup\"\n        app:summary=\"Create and restore backups\"\n        app:fragment=\"com.th3pl4gu3.lifestyle.ui.settings.SettingsBackupFragment\"\n        android:icon=\"@drawable/ic_backup_dark\"/&gt;\n\n&lt;Preference\n        app:key=\"about\"\n        app:title=\"About\"\n        app:summary=\"About this application\"\n        android:icon=\"@drawable/ic_info_dark\"/&gt;\n\n&lt;/PreferenceScreen&gt;\n</code></pre>\n\n<p>SettingsMainFragment.kt</p>\n\n<pre><code>import android.os.Bundle\nimport androidx.preference.PreferenceFragmentCompat\nimport com.th3pl4gu3.lifestyle.R\n\nclass SettingsMainFragment : PreferenceFragmentCompat() {\n    override fun onCreatePreferences(savedInstanceState: Bundle?, rootKey: String?) {\n        setPreferencesFromResource(R.xml.preferences_settings_main, rootKey)\n    }\n}\n</code></pre>\n\n<p>preferences_settings_backup.xml</p>\n\n<pre><code>&lt;PreferenceScreen\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\n\n&lt;PreferenceCategory app:title=\"Backup\"&gt;\n\n    &lt;EditTextPreference\n            android:defaultValue=\"internal/Android\"\n            android:key=\"path\"\n            android:summary=\"The path to create local backup\"\n            android:title=\"Backup Path\"/&gt;\n\n    &lt;Preference\n            app:title=\"Create Backup Locally\"\n            app:summary=\"Creates a backup locally and saves to specified path.\"/&gt;\n\n    &lt;Preference\n            app:title=\"Create Backup in Cloud\"\n            app:summary=\"Creates a backup and saves to Google Drive\"/&gt;\n\n&lt;/PreferenceCategory&gt;\n\n&lt;PreferenceCategory app:title=\"Restore\"&gt;\n\n    &lt;Preference\n            app:title=\"Restore Locally\"\n            app:summary=\"Restore a Backup Locally\"/&gt;\n\n    &lt;Preference\n            app:title=\"Restore from Cloud\"\n            app:summary=\"Restore a Backup from Google Drive\"/&gt;\n\n&lt;/PreferenceCategory&gt;\n</code></pre>\n\n<p></p>\n\n<p>What i wanted was when i click on \"Backup\" on the main preference screen, it would replace the whole fragment and show only the backup preference fragment. Instead, i am having this output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YrJm9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YrJm9.png\" alt=\"Output\"></a></p>\n\n<p>It is showing the fragment on the same screen which i do not want. Can someone help me please?</p>\n"}, {"tags": ["android", "kotlin", "sharedpreferences", "retrofit", "retrofit2"], "comments": [{"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1562765250, "post_id": 56971727, "comment_id": 100479990, "body": "the module is not used to store data, modules are used only for dependency graph"}, {"owner": {"reputation": 775, "user_id": 4903160, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10206270666822810/picture?type=large", "display_name": "Tai Nguyen", "link": "https://stackoverflow.com/users/4903160/tai-nguyen"}, "reply_to_user": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1562765327, "post_id": 56971727, "comment_id": 100480021, "body": "What I have to do is to create an Interceptor right?"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1562765426, "post_id": 56971727, "comment_id": 100480071, "body": "is your sharedPreferences provided by dagger?"}, {"owner": {"reputation": 775, "user_id": 4903160, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10206270666822810/picture?type=large", "display_name": "Tai Nguyen", "link": "https://stackoverflow.com/users/4903160/tai-nguyen"}, "reply_to_user": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1562765536, "post_id": 56971727, "comment_id": 100480121, "body": "Singleton Provides fun provideSharedPreferences(context: Context): SharedPreferences {         return PreferenceManager.getDefaultSharedPreferences(context)     } inside my applicationModule"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1562765599, "post_id": 56971727, "comment_id": 100480155, "body": "ok super, I&#39;m writing an answer than"}], "answers": [{"comments": [{"owner": {"reputation": 775, "user_id": 4903160, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10206270666822810/picture?type=large", "display_name": "Tai Nguyen", "link": "https://stackoverflow.com/users/4903160/tai-nguyen"}, "edited": false, "score": 0, "creation_date": 1562769856, "post_id": 56971936, "comment_id": 100482698, "body": "If I have a api call but I don&#39;t need &quot;Authorization&quot;, it will failed no ?"}], "tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": true, "score": 2, "last_activity_date": 1562769108, "last_edit_date": 1562769108, "creation_date": 1562765771, "answer_id": 56971936, "question_id": 56971727, "link": "https://stackoverflow.com/questions/56971727/sharedpreferences-instance-inside-networkmodule/56971936#56971936", "title": "SharedPreferences instance inside NetworkModule", "body": "<p>If you want to place the value on the interceptor, just call your <code>SharedPreferences</code> instance on the interceptor provider: </p>\n\n<pre><code>@Provides\ninternal fun provideOkHttpClient(sharedPrefs: SharedPrefs): OkHttpClient {\n    return OkHttpClient.Builder().addInterceptor { chain -&gt;\n        val original = chain.request()\n        val requestBuilder = original.newBuilder().addHeader(\"Accept\", \"application/json\")\n        val request = requestBuilder.method(original.method(), original.body()).build()\n        chain.proceed(request)\n    }.build()\n}\n</code></pre>\n\n<p>Now dagger will look for that, but it won't find it, giving you an error. In that case, if you network module is also a singleton too just add a <code>includes = [PreferencesModule::class]</code>, if not, you may need to set the current component dependent on the Singleton where you preferences module is located. </p>\n"}], "owner": {"reputation": 775, "user_id": 4903160, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10206270666822810/picture?type=large", "display_name": "Tai Nguyen", "link": "https://stackoverflow.com/users/4903160/tai-nguyen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 56971936, "answer_count": 1, "score": 1, "last_activity_date": 1562769788, "creation_date": 1562765075, "last_edit_date": 1562769788, "question_id": 56971727, "link": "https://stackoverflow.com/questions/56971727/sharedpreferences-instance-inside-networkmodule", "title": "SharedPreferences instance inside NetworkModule", "body": "<p>I am facing with SharedPreferences problem. I would like to know how I can call SharedPreferences inside Retrofit. I mean, I have this following file : </p>\n\n<pre><code>@Module\nclass NetworkModule {\n\n@Provides\ninternal fun provideGson(): Gson {\n    return GsonBuilder().create()\n}\n\n@Provides\ninternal fun provideOkHttpClient(): OkHttpClient {\n    return OkHttpClient.Builder().addInterceptor { chain -&gt;\n        val original = chain.request()\n        val requestBuilder = original.newBuilder().addHeader(\"Accept\", \"application/json\")\n        val request = requestBuilder.method(original.method(), original.body()).build()\n        chain.proceed(request)\n    }.build()\n}\n\n@Provides\ninternal fun provideRetrofit(gson: Gson, okHttpClient: OkHttpClient): Retrofit {\n    return Retrofit.Builder()\n            .addConverterFactory(GsonConverterFactory.create(gson))\n            .addCallAdapterFactory(RxJava2CallAdapterFactory.create())\n            .baseUrl(BASE_URL)\n            .client(okHttpClient)\n            .build()\n}\n}\n</code></pre>\n\n<p>And in my Presenter, I have this following code: </p>\n\n<pre><code>override fun getSavedToken() {\n    mToken = mSharedPreferences.getString(TOKEN, TOKEN_UNAVAILABLE)\n}\n\n... \n\ninner class GetAccessTokenSubscriber : ResourceObserver&lt;AccessTokenBean&gt;() {\n\n    override fun onNext(@NonNull accessToken: AccessTokenBean) {\n        mSharedPreferences.edit().putString(TOKEN, accessToken.token).apply()\n        getInformation()\n    }\n\n    override fun onError(@NonNull e: Throwable) {\n        mView?.displayError()\n    }\n\n    override fun onComplete() {\n        // Nothing to do\n    }\n}\n</code></pre>\n\n<p>Currently, to set the token I put the Bearer $token in my repository / service</p>\n\n<pre><code>// Repository\nval newToken = \"Bearer $token\"\n    return mService.getInfos(newToken)\n\n// Service\nfun getInfos(@Header(\"Authorization\") token: String\n</code></pre>\n\n<p>I would like to know how I can put the Bearer + token inside my NetworkModule file? </p>\n\n<p>Thank you for your time. </p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 6, "creation_date": 1562764778, "post_id": 56971571, "comment_id": 100479726, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/50570262/how-to-convert-string-to-int-in-kotlin\">How to convert String to Int in Kotlin?</a>"}, {"owner": {"reputation": 865, "user_id": 10922928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcec10c285df503a650a817142f2fef?s=128&d=identicon&r=PG&f=1", "display_name": "solaza", "link": "https://stackoverflow.com/users/10922928/solaza"}, "reply_to_user": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1562767811, "post_id": 56971571, "comment_id": 100481426, "body": "That qustion doesn&#39;t cover making default value and this is point of this one. It is covered in answers but I think this can help some people. I don&#39;t think it&#39;s duplicate but if more people mark it so I&#39;ll delete this post."}, {"owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "edited": false, "score": 0, "creation_date": 1562771678, "post_id": 56971571, "comment_id": 100483759, "body": "the reason why I flagged your question is because it&#39;s covered in one of the answers to that question, as you said. Let&#39;s make the community decide :)"}], "answers": [{"tags": [], "owner": {"reputation": 865, "user_id": 10922928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcec10c285df503a650a817142f2fef?s=128&d=identicon&r=PG&f=1", "display_name": "solaza", "link": "https://stackoverflow.com/users/10922928/solaza"}, "is_accepted": false, "score": 5, "last_activity_date": 1562765286, "last_edit_date": 1562765286, "creation_date": 1562764538, "answer_id": 56971572, "question_id": 56971571, "link": "https://stackoverflow.com/questions/56971571/kotlin-string-to-int-or-zero-default-value/56971572#56971572", "title": "Kotlin String to Int or zero (default value)", "body": "<p>I think the best solution is to tell value is <code>Int</code> and use Elvis operator to assign value 0 if it can't be converted.</p>\n\n<pre><code>val a:String=\"22\"\nval b:Int = a.toIntOrNull()?:0//22\nval c:String=\"a\"\nval d:Int = c.toIntOrNull()?:0//0\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 11724701, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_Kd7h8ablQU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdBIKB2NXCV7E9AobpUFNBsiHeTvg/photo.jpg?sz=128", "display_name": "Valentin Kozlov", "link": "https://stackoverflow.com/users/11724701/valentin-kozlov"}, "is_accepted": false, "score": 3, "last_activity_date": 1562937642, "creation_date": 1562937642, "answer_id": 57007844, "question_id": 56971571, "link": "https://stackoverflow.com/questions/56971571/kotlin-string-to-int-or-zero-default-value/57007844#57007844", "title": "Kotlin String to Int or zero (default value)", "body": "<p>To make code more concise you can create <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">Extension Function</a></p>\n\n<pre><code>fun String?.toIntOrDefault(default: Int = 0): Int {\n    return this?.toIntOrNull()?:default\n}\n</code></pre>\n"}], "owner": {"reputation": 865, "user_id": 10922928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcec10c285df503a650a817142f2fef?s=128&d=identicon&r=PG&f=1", "display_name": "solaza", "link": "https://stackoverflow.com/users/10922928/solaza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1700, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1562937642, "creation_date": 1562764538, "question_id": 56971571, "link": "https://stackoverflow.com/questions/56971571/kotlin-string-to-int-or-zero-default-value", "title": "Kotlin String to Int or zero (default value)", "body": "<p>How can I covert <code>String</code> to <code>Int</code> in Kotlin and if it can't be then return 0 (default value).</p>\n"}, {"tags": ["android", "kotlin", "observable", "rx-java2"], "comments": [{"owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1562765891, "post_id": 56971306, "comment_id": 100480299, "body": "do you need the result?"}, {"owner": {"reputation": 6353, "user_id": 3732958, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4ad4db32f4933b1bfcf0e0fa116781e0?s=128&d=identicon&r=PG", "display_name": "user2121", "link": "https://stackoverflow.com/users/3732958/user2121"}, "reply_to_user": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1562773604, "post_id": 56971306, "comment_id": 100484864, "body": "yes sure..but i cant add any statement or logs to print onnext and others"}, {"owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "edited": false, "score": 0, "creation_date": 1562994737, "post_id": 56971306, "comment_id": 100564099, "body": "<code>Single</code> doesn&#39;t have  <code>onNext</code>, it only emits one value."}], "answers": [{"tags": [], "owner": {"reputation": 1430, "user_id": 4035036, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OtQfl.jpg?s=128&g=1", "display_name": "Mosius", "link": "https://stackoverflow.com/users/4035036/mosius"}, "is_accepted": false, "score": 0, "last_activity_date": 1562994502, "creation_date": 1562994502, "answer_id": 57016327, "question_id": 56971306, "link": "https://stackoverflow.com/questions/56971306/how-to-add-the-body-of-the-subscribe-method/57016327#57016327", "title": "How to add the body of the subscribe method", "body": "<p>There are 4 implementations for <code>subscribe</code> method according <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/Single.html\" rel=\"nofollow noreferrer\"><code>Single</code></a> documentation. In a simple approach, you should implement a strategy for both <code>onSucess</code> and <code>onError</code>. therefor you should use the <code>subscribe</code> method either by passing a <code>BiConsumer</code> or 2 <code>Consumer</code> one for <code>onSucess</code> case and one for <code>onError</code>.</p>\n\n<p>using <code>BiConsumer</code> in lambda:</p>\n\n<pre><code>val disposable = Single.just(1)\n        .subscribe { success, failure -&gt;\n            /* whichever is not null */\n        }\n</code></pre>\n\n<p>or using 2 <code>Consumer</code> in lambda:</p>\n\n<pre><code>val disposable = Single.just(1)\n        .subscribe({ success -&gt;\n            /* success */\n        }, { failure -&gt;\n            /* failure */\n        })\n</code></pre>\n"}], "owner": {"reputation": 6353, "user_id": 3732958, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4ad4db32f4933b1bfcf0e0fa116781e0?s=128&d=identicon&r=PG", "display_name": "user2121", "link": "https://stackoverflow.com/users/3732958/user2121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562994502, "creation_date": 1562763710, "last_edit_date": 1562765399, "question_id": 56971306, "link": "https://stackoverflow.com/questions/56971306/how-to-add-the-body-of-the-subscribe-method", "title": "How to add the body of the subscribe method", "body": "<p>In the below code, I am trying to add the body for the <code>.subscribe()</code>. I tried to add the lambda notation but it never worked. Would you please tell me how to implement the <code>.subscribe()</code> method?</p>\n\n<p>Given that, the <code>setupCommRequestService()</code> returns Single&lt;..></p>\n\n<p><strong>code</strong>:</p>\n\n<pre><code>setupCommRequestService()?.\n        flatMap {\n            it.getAllPhotos()\n                .map {\n                    Observable.fromIterable(it)\n                        .map {\n                            it\n                        }\n                }\n                .toSortedList()\n    }\n        ?.subscribeOn(Schedulers.io())\n        ?.observeOn(AndroidSchedulers.mainThread())\n        ?.subscribe(\n\n        )\n</code></pre>\n"}, {"tags": ["android", "kotlin", "rx-java2", "android-room"], "comments": [{"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 1, "creation_date": 1562763501, "post_id": 56971171, "comment_id": 100478949, "body": "why does your insert return a <code>Single&lt;CurrencyModel&gt;</code>?"}, {"owner": {"reputation": 1282, "user_id": 10003284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1Fv0.jpg?s=128&g=1", "display_name": "milad salimi", "link": "https://stackoverflow.com/users/10003284/milad-salimi"}, "reply_to_user": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 0, "creation_date": 1562763649, "post_id": 56971171, "comment_id": 100479036, "body": "@Blackbelt , i changed it to Maybe and Observable but i faced with that error again!!"}, {"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 1, "creation_date": 1562764115, "post_id": 56971171, "comment_id": 100479300, "body": "why do you need to return something ?"}, {"owner": {"reputation": 1282, "user_id": 10003284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1Fv0.jpg?s=128&g=1", "display_name": "milad salimi", "link": "https://stackoverflow.com/users/10003284/milad-salimi"}, "reply_to_user": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 0, "creation_date": 1562765278, "post_id": 56971171, "comment_id": 100480005, "body": "@Blackbelt , i update my question for reason that i want insert has return , but i solved it when i changed the return type to Long type but i faced to new error"}, {"owner": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 0, "creation_date": 1562765454, "post_id": 56971171, "comment_id": 100480084, "body": "you could use <code>Single.fromCallable</code> and make insert return nothing?"}, {"owner": {"reputation": 1282, "user_id": 10003284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1Fv0.jpg?s=128&g=1", "display_name": "milad salimi", "link": "https://stackoverflow.com/users/10003284/milad-salimi"}, "reply_to_user": {"reputation": 148364, "user_id": 501696, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/shkBF.png?s=128&g=1", "display_name": "Blackbelt", "link": "https://stackoverflow.com/users/501696/blackbelt"}, "edited": false, "score": 0, "creation_date": 1562765871, "post_id": 56971171, "comment_id": 100480293, "body": "@Blackbelt , thank you i solved that but i have new problem"}], "answers": [{"comments": [{"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 1282, "user_id": 10003284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1Fv0.jpg?s=128&g=1", "display_name": "milad salimi", "link": "https://stackoverflow.com/users/10003284/milad-salimi"}, "edited": false, "score": 2, "creation_date": 1562765486, "post_id": 56971814, "comment_id": 100480096, "body": "return a <code>Completable</code> not a <code>Single</code>"}, {"owner": {"reputation": 1282, "user_id": 10003284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1Fv0.jpg?s=128&g=1", "display_name": "milad salimi", "link": "https://stackoverflow.com/users/10003284/milad-salimi"}, "edited": false, "score": 0, "creation_date": 1562765757, "post_id": 56971814, "comment_id": 100480234, "body": "Yes thank you but it solve my first problem i updated my question and i have new error"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 1282, "user_id": 10003284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1Fv0.jpg?s=128&g=1", "display_name": "milad salimi", "link": "https://stackoverflow.com/users/10003284/milad-salimi"}, "edited": false, "score": 1, "creation_date": 1562766003, "post_id": 56971814, "comment_id": 100480344, "body": "I don&#39;t see the <code>Completable</code> keyword on your update"}], "tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": true, "score": 3, "last_activity_date": 1562766021, "last_edit_date": 1562766021, "creation_date": 1562765349, "answer_id": 56971814, "question_id": 56971171, "link": "https://stackoverflow.com/questions/56971171/how-to-solve-error-not-sure-how-to-handle-insert-methods-return-type-in-im/56971814#56971814", "title": "How to solve error : &quot; Not sure how to handle insert method&#39;s return type&quot; in implement room with RX java", "body": "<p>Your:    </p>\n\n<pre><code>    @Insert(onConflict = OnConflictStrategy.REPLACE)\n    fun insert(currencyModel: CurrencyModel): Single&lt;CurrencyModel&gt;\n</code></pre>\n\n<p>Should return a <code>Completable</code> not a <code>Single</code></p>\n\n<pre><code>        @Insert(onConflict = OnConflictStrategy.REPLACE)\n        fun insert(currencyModel: CurrencyModel): Completable\n</code></pre>\n\n<p>That's because there is no need to return anything when your operation is done. It just enters the <code>onComplete</code> block on the background. </p>\n"}], "owner": {"reputation": 1282, "user_id": 10003284, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N1Fv0.jpg?s=128&g=1", "display_name": "milad salimi", "link": "https://stackoverflow.com/users/10003284/milad-salimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2122, "favorite_count": 0, "accepted_answer_id": 56971814, "answer_count": 1, "score": 3, "last_activity_date": 1573640983, "creation_date": 1562763278, "last_edit_date": 1573640983, "question_id": 56971171, "link": "https://stackoverflow.com/questions/56971171/how-to-solve-error-not-sure-how-to-handle-insert-methods-return-type-in-im", "title": "How to solve error : &quot; Not sure how to handle insert method&#39;s return type&quot; in implement room with RX java", "body": "<p><strong>This is my error after that i run the sample project that i developed with <code>Room</code> and <code>RX java</code> occur :</strong></p>\n\n<pre><code>e: /home/milad/workspace/android/WalletMVVM/app/build/tmp/kapt3/stubs/debug/com/example/walletmvvm/data/dao/CurrencyDao.java:15: error: Not sure how to handle insert method's return type.\n    public abstract io.reactivex.Single&lt;com.example.walletmvvm.data.model.CurrencyModel&gt; insert(@org.jetbrains.annotations.NotNull()\n</code></pre>\n\n<p>I searched a lot but i did not find anything.</p>\n\n<p>I could implement <code>Retrofit</code> with <code>RX java</code> and use it and i could run the <code>Room</code> Query in other thread with <code>RX java</code> but i could not set <code>observer</code> and <code>subscribe</code> a <code>observable</code> with <code>RX java</code> yet.</p>\n\n<p>Everything sounds good </p>\n\n<p>This is my <code>Dao</code> :</p>\n\n<pre><code>@Dao\ninterface CurrencyDao {\n\n        @Query(\"SELECT * FROM ${DbConstants.TABLE_CURRENCY} ORDER BY ${DbConstants.NAME_CURRENCY_MODEL} ASC\")\n        fun getCurrencyList(): Observable&lt;List&lt;CurrencyModel&gt;&gt;\n\n        @Insert(onConflict = OnConflictStrategy.REPLACE)\n        fun insert(currencyModel: CurrencyModel): Single&lt;CurrencyModel&gt;\n    }\n</code></pre>\n\n<p>This is my <code>repository</code> :</p>\n\n<pre><code>companion object {\n\n    // For Singleton instantiation\n    @Volatile\n    private var instance: CurrencyRepository? = null\n\n    fun getInstance(currencyDao: CurrencyDao) =\n        instance ?: synchronized(this) {\n            instance ?: CurrencyRepository(currencyDao).also { instance = it }\n        }\n}\n\nfun getCurrencyList(): Observable&lt;List&lt;CurrencyModel&gt;&gt;? {\n\n    return currencyDao.getCurrencyList()\n        .subscribeOn(Schedulers.io())\n        .observeOn(AndroidSchedulers.mainThread())\n\n}\n</code></pre>\n\n<p>This is my <code>fragment</code> that me <code>observer</code> the data :</p>\n\n<pre><code>private fun initObservers() {\n    val getCurrencyListObserver = currencyViewModel.getCurrencyLists()\n    getCurrencyListObserver?.subscribeWith(getCurrenciesFromDatabase())\n}\n\nprivate fun getCurrenciesFromDatabase() : Observer&lt;List&lt;CurrencyModel&gt;&gt; {\n\n\n    return object : Observer&lt;List&lt;CurrencyModel&gt;&gt; {\n        override fun onComplete() {\n\n        }\n\n        override fun onSubscribe(d: Disposable) {\n\n        }\n\n        override fun onNext(t: List&lt;CurrencyModel&gt;) {\n\n            t.let {\n\n                showResult(it.size.toString() + \" items\")\n                setRecyclerData(it)\n                binding.listSize = it.size\n            }\n        }\n\n        override fun onError(e: Throwable) {\n\n        }\n    }\n}\n</code></pre>\n\n<p><strong>For implement this i study <a href=\"https://github.com/googlesamples/android-architecture-components\" rel=\"nofollow noreferrer\">this</a> in medium and study <a href=\"https://codinginfinite.com/android-room-persistent-rxjava/\" rel=\"nofollow noreferrer\">this</a></strong></p>\n\n<p><strong>I see sample code about Kotlin in <a href=\"https://github.com/googlesamples/android-architecture-components\" rel=\"nofollow noreferrer\">googlesamples/android-architecture-components</a> but they dont use observer</strong></p>\n\n<hr>\n\n<p>Update :</p>\n\n<p>because after that i remove <code>single</code> i cant use :</p>\n\n<pre><code>currencyDao.insert(currency)\n            .subscribeOn(Schedulers.io())\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe()\n</code></pre>\n\n<p>And  <code>currencyDao.insert(currency)</code> cant access to <code>.subscribeOn()</code> and other</p>\n\n<hr>\n\n<p>Update :</p>\n\n<p>i solved it when i changed the return type to <code>Long</code> type but i faced to new <code>error</code></p>\n\n<pre><code> @Insert(onConflict = OnConflictStrategy.REPLACE)\n    fun insert(currencyModel: CurrencyModel): Single&lt;Long&gt;\n</code></pre>\n\n<p>And new error is :</p>\n\n<pre><code>e: /home/milad/workspace/android/WalletMVVM/app/build/tmp/kapt3/stubs/debug/com/example/walletmvvm/data/dao/CurrencyDao.java:11: error: Not sure how to convert a Cursor to this method's return type (java.lang.Object).\n    public abstract io.reactivex.Observable&lt;java.lang.Object&gt; getCurrencyList();\n</code></pre>\n\n<hr>\n\n<p>Update :</p>\n\n<p>I changed the <code>insert</code> return type to <code>Completable</code> and it fixed</p>\n"}, {"tags": ["android", "kotlin", "mapbox"], "answers": [{"tags": [], "owner": {"reputation": 1331, "user_id": 6282077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UjCAL.png?s=128&g=1", "display_name": "riastrad", "link": "https://stackoverflow.com/users/6282077/riastrad"}, "is_accepted": false, "score": 1, "last_activity_date": 1562765847, "creation_date": 1562765847, "answer_id": 56971968, "question_id": 56971092, "link": "https://stackoverflow.com/questions/56971092/how-to-customise-a-mapbox-routes-style/56971968#56971968", "title": "How to customise a Mapbox route&#39;s style?", "body": "<p>The the Android Nav SDK documentation goes into specific detail about how to modify the style defaults of the route line here: <a href=\"https://docs.mapbox.com/android/navigation/overview/map-styling/#style-the-map-route\" rel=\"nofollow noreferrer\">https://docs.mapbox.com/android/navigation/overview/map-styling/#style-the-map-route</a></p>\n\n<p>The bottom line is that you can override these defaults by providing an alternative style when you initialize your <code>NavigationMapRoute</code></p>\n\n<p>\u2014\u2014\u2014</p>\n\n<p>\u26a0\ufe0f disclaimer: I currently work at Mapbox \u26a0\ufe0f</p>\n"}], "owner": {"reputation": 5521, "user_id": 6733153, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/64695679246992dbd668a2b4cd46f01e?s=128&d=identicon&r=PG&f=1", "display_name": "Zorgan", "link": "https://stackoverflow.com/users/6733153/zorgan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1562765847, "creation_date": 1562763016, "question_id": 56971092, "link": "https://stackoverflow.com/questions/56971092/how-to-customise-a-mapbox-routes-style", "title": "How to customise a Mapbox route&#39;s style?", "body": "<p>My function successfully renders a route from origin to destination:</p>\n\n<pre><code>private fun renderRouteToDestination(){\n    val origin = Point.fromLngLat(initialLocation!!.longitude, initialLocation!!.latitude)\n    val destination = Point.fromLngLat(143.152001, -37.260811)\n    val navRoute = NavigationRoute.builder(context)\n        .accessToken(getString(R.string.mapbox_access_token))\n        .origin(origin)\n        .profile(DirectionsCriteria.PROFILE_WALKING)\n        .destination(destination)\n        .build()\n    navRoute.getRoute(object : Callback&lt;DirectionsResponse&gt; {\n            override fun onFailure(call: Call&lt;DirectionsResponse&gt;, t: Throwable) {}\n\n            override fun onResponse(call: Call&lt;DirectionsResponse&gt;, response: Response&lt;DirectionsResponse&gt;) {\n                val routeResponse = response ?: return\n                val body = routeResponse.body() ?: return\n                if (body.routes().count() == 0){\n                    Log.d(TAG, \"There were no routes\")\n                    return\n                }\n                if (navigationMapRoute != null) navigationMapRoute?.updateRouteVisibilityTo(false)\n                navigationMapRoute = NavigationMapRoute(null, mapView!!, mapbox)\n                val directionsRoute = body.routes().first()\n                navigationMapRoute?.addRoute(directionsRoute)\n                Log.d(TAG, \"Successful got route to destination\")\n            }\n        })\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/KlAdJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KlAdJ.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>However I would like to customise the route in 2 ways:</p>\n\n<ol>\n<li><p>Change the color of the route </p></li>\n<li><p>Make the route dotted instead of solid</p></li>\n</ol>\n\n<p>How can I achieve these styles?</p>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1562763174, "post_id": 56970839, "comment_id": 100478769, "body": "&quot;why coroutines are introduced&quot; -- Kotlin is used for things other than Android apps. <code>LiveData</code> is an Android thing. &quot;How Suspend and Resume works better than LiveData&quot; -- they are neither &quot;better&quot; nor worse. Coroutines and <code>LiveData</code> frequently work together, just as RxJava and <code>LiveData</code> frequently work together."}, {"owner": {"reputation": 5177, "user_id": 2219208, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/eA3xp.jpg?s=128&g=1", "display_name": "Lakhwinder Singh", "link": "https://stackoverflow.com/users/2219208/lakhwinder-singh"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1562824831, "post_id": 56970839, "comment_id": 100500294, "body": "@CommonsWare if they are not better, then why developers at google are very much talking about them in the IO 2019"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 1, "creation_date": 1562842603, "post_id": 56970839, "comment_id": 100509736, "body": "As I wrote, you use <code>LiveData</code> and coroutines <b>together</b>."}], "answers": [{"tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 3, "last_activity_date": 1570370500, "last_edit_date": 1570370500, "creation_date": 1562762792, "answer_id": 56971028, "question_id": 56970839, "link": "https://stackoverflow.com/questions/56970839/what-are-the-kotlin-coroutines-how-they-are-different-from-live-data/56971028#56971028", "title": "What are the Kotlin Coroutines, How they are different from live data", "body": "<p>Ok first of all coroutines don't really relate too much with <code>LiveData</code> although they might share here and there some concepts. \nCoroutines are used to perform async operation: Retreive data from network, database etc. \nCoroutines can be used as \"LiveData\" if you are talking in the context of Channels or Flows (which I don't recomend because you will lose the lifecycle in it). With coroutines you can switch to threads easily. </p>\n\n<p><code>Suspend</code> functions are just functions that hold and don't run directly. Any suspending function should be inside a coroutine. </p>\n\n<p>The simplest use case I can give you is this: </p>\n\n<pre><code>runBlocking{\n //you are inside of a coroutine\n val data = getDataFromBackground()\n}\n\nsuspend fun getDataFromBackground(): SomeDataType = receiveSomeData()\n</code></pre>\n\n<p>The <code>receiveSomeData</code> method is also marked with <code>suspend</code> keyword. </p>\n\n<p>But of course there is a lot more. <a href=\"https://kotlinlang.org/docs/reference/coroutines/coroutines-guide.html\" rel=\"nofollow noreferrer\">The documentation is perfect way to start</a>. </p>\n\n<p>I also have a <a href=\"https://medium.com/@stavro96/kotlin-coroutines-the-non-confusing-one-5a47ca799578\" rel=\"nofollow noreferrer\">personal article</a> about coroutines, you may find them easy there. </p>\n\n<p>There is only one point I can think of that you can replace data with coroutines, and that's using Channels. The view won't be observing for <code>LiveData</code> but will be consuming values comming from a channel, created and shared with DI or something. </p>\n\n<p>EDIT: \nIf you really want to use LiveData + coroutines please check this <a href=\"https://developer.android.com/topic/libraries/architecture/coroutines#livedata\" rel=\"nofollow noreferrer\">awesome library</a> by the Android team. </p>\n"}, {"tags": [], "owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1562762807, "creation_date": 1562762807, "answer_id": 56971032, "question_id": 56970839, "link": "https://stackoverflow.com/questions/56970839/what-are-the-kotlin-coroutines-how-they-are-different-from-live-data/56971032#56971032", "title": "What are the Kotlin Coroutines, How they are different from live data", "body": "<p>Coroutines is for asynchronous job. Live Data are used to update your View (Activity &amp; Fragment)</p>\n"}], "owner": {"reputation": 5177, "user_id": 2219208, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/eA3xp.jpg?s=128&g=1", "display_name": "Lakhwinder Singh", "link": "https://stackoverflow.com/users/2219208/lakhwinder-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 289, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1570370500, "creation_date": 1562762089, "question_id": 56970839, "link": "https://stackoverflow.com/questions/56970839/what-are-the-kotlin-coroutines-how-they-are-different-from-live-data", "title": "What are the Kotlin Coroutines, How they are different from live data", "body": "<p>I am starting to work with new things that are developed by the developer community Android, one of them is <strong>Coroutines</strong>. I have used the LiveData\nand I assumed while using them, they are also lifecycle safe, then why coroutines are introduced and how they are different from LiveData. I have seen the video on Coroutines at Youtube, from developer channel, but I don't understand that completely. How Suspend and Resume works better than LiveData.</p>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 1534, "user_id": 2228226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6432c50a778bb5d6e86167288534f2?s=128&d=identicon&r=PG", "display_name": "Hardik Bambhania", "link": "https://stackoverflow.com/users/2228226/hardik-bambhania"}, "edited": false, "score": 0, "creation_date": 1562837019, "post_id": 56970827, "comment_id": 100506345, "body": "First try with simple getall &quot;SELECT * FROM ticket_table&quot; without live data.If it is working then let me know."}, {"owner": {"reputation": 146, "user_id": 6845127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4b57b6367c71bfad4bdd7dea9202aa?s=128&d=identicon&r=PG&f=1", "display_name": "A.K.", "link": "https://stackoverflow.com/users/6845127/a-k"}, "reply_to_user": {"reputation": 1534, "user_id": 2228226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6432c50a778bb5d6e86167288534f2?s=128&d=identicon&r=PG", "display_name": "Hardik Bambhania", "link": "https://stackoverflow.com/users/2228226/hardik-bambhania"}, "edited": false, "score": 0, "creation_date": 1562839364, "post_id": 56970827, "comment_id": 100507824, "body": "Hi, i habe tried to select a list without livedata. But the list is also empty."}, {"owner": {"reputation": 1534, "user_id": 2228226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6432c50a778bb5d6e86167288534f2?s=128&d=identicon&r=PG", "display_name": "Hardik Bambhania", "link": "https://stackoverflow.com/users/2228226/hardik-bambhania"}, "edited": false, "score": 0, "creation_date": 1562843465, "post_id": 56970827, "comment_id": 100510212, "body": "with simple quesry &quot;&quot;SELECT * FROM ticket_table&quot;&quot; also you are getting empty ?"}, {"owner": {"reputation": 146, "user_id": 6845127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4b57b6367c71bfad4bdd7dea9202aa?s=128&d=identicon&r=PG&f=1", "display_name": "A.K.", "link": "https://stackoverflow.com/users/6845127/a-k"}, "reply_to_user": {"reputation": 1534, "user_id": 2228226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6432c50a778bb5d6e86167288534f2?s=128&d=identicon&r=PG", "display_name": "Hardik Bambhania", "link": "https://stackoverflow.com/users/2228226/hardik-bambhania"}, "edited": false, "score": 0, "creation_date": 1562923165, "post_id": 56970827, "comment_id": 100540800, "body": "Hi, i tried this and it doesn&#180;t work."}], "answers": [{"comments": [{"owner": {"reputation": 146, "user_id": 6845127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4b57b6367c71bfad4bdd7dea9202aa?s=128&d=identicon&r=PG&f=1", "display_name": "A.K.", "link": "https://stackoverflow.com/users/6845127/a-k"}, "edited": false, "score": 0, "creation_date": 1562780875, "post_id": 56973494, "comment_id": 100488389, "body": "I am working with this tutorial, where livedata is the correct type.   <a href=\"https://codelabs.developers.google.com/codelabs/android-room-with-a-view-kotlin/index.html?index=..%2F..index#5\" rel=\"nofollow noreferrer\">codelabs.developers.google.com/codelabs/&hellip;</a>  I&#180;ve tried to change to List instead of LiveData, but the returned list ist also empty."}], "tags": [], "owner": {"reputation": 1476, "user_id": 3710341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92019ee5ebb2b68bb97d2bd2547dd93f?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar Chapagain", "link": "https://stackoverflow.com/users/3710341/sagar-chapagain"}, "is_accepted": false, "score": 1, "last_activity_date": 1562770695, "creation_date": 1562770695, "answer_id": 56973494, "question_id": 56970827, "link": "https://stackoverflow.com/questions/56970827/android-room-inserting-works-but-select-doesn%c2%b4t-return-any-values/56973494#56973494", "title": "Android Room - Inserting works but select doesn&#180;t return any values", "body": "<p>I think you have a problem while retrieving data from the room. The following code is not tested, but to guide you I am trying to solve. Check and reply in comment if it works or not.</p>\n\n<pre><code>@Dao\ninterface TicketDbDao {\n\n    @Insert\n    suspend fun insert(ticket: TicketDb)\n\n    @Query(\"SELECT * FROM ticket_table ORDER BY id DESC\")\n    fun getAllTickets(): LiveData&lt;List&lt;TicketDb&gt;&gt;\n}\n</code></pre>\n\n<p>I think room query returns list data, but you are trying to get livedata object. So change to following code for <strong>dao</strong> operation.</p>\n\n<pre><code>@Dao\ninterface TicketDbDao {\n\n    @Insert\n    suspend fun insert(ticket: TicketDb)\n\n    @Query(\"SELECT * FROM ticket_table ORDER BY id DESC\")\n    fun getAllTickets(): List&lt;TicketDb&gt;\n}\n</code></pre>\n\n<p><strong>TicketRepository</strong></p>\n\n<pre><code>class TicketRepository (private val ticketDbDao: TicketDbDao) {\n\n    val allTickets: List&lt;TicketDb&gt; \n        get() = ticketDbDao.getAllTickets()\n\n    @WorkerThread\n    suspend fun insert(ticket: TicketDb) {\n        ticketDbDao.insert(ticket)\n    }\n}\n</code></pre>\n\n<p>Now in your <strong>viewmodel</strong></p>\n\n<pre><code>var ticketRepository: TicketRepository\n\nprivate val _allTickets = MutableLiveData&lt;List&lt;TicketDb&gt;&gt;() // backing property should be used for updating values\n\nval allTickets: LiveData&lt;List&lt;TicketDb&gt;&gt; = _allTickets // mutable live data should not be exposed\n\ninit {\n    val ticketDao = MeinLottoDatabase.getDatabase(application, viewModelScope).ticketDbDao()\n    ticketRepository = TicketRepository(ticketDao)\n\n}\n\nfun getTicketValues(){\n    _allTickets.value = ticketRepository.allTickets\n}\n\nfun saveTicket() = viewModelScope.launch(Dispatchers.IO) {\n        ticketRepository.insert(ticket.value!!.toTicketDb())\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 146, "user_id": 6845127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4b57b6367c71bfad4bdd7dea9202aa?s=128&d=identicon&r=PG&f=1", "display_name": "A.K.", "link": "https://stackoverflow.com/users/6845127/a-k"}, "edited": false, "score": 0, "creation_date": 1562939023, "post_id": 57005170, "comment_id": 100549102, "body": "Hi, i have used your example, that works, to adapt my code. Now it&#180;s working. Seems that LiveData doesn&#180;t work as expected."}, {"owner": {"reputation": 706, "user_id": 5422725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a77f5066ddf47d74395b0e5972f53365?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Troyanskii", "link": "https://stackoverflow.com/users/5422725/eugene-troyanskii"}, "edited": false, "score": 2, "creation_date": 1595835092, "post_id": 57005170, "comment_id": 111600045, "body": "It would be great to add some notice what was changed..."}], "tags": [], "owner": {"reputation": 1534, "user_id": 2228226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e6432c50a778bb5d6e86167288534f2?s=128&d=identicon&r=PG", "display_name": "Hardik Bambhania", "link": "https://stackoverflow.com/users/2228226/hardik-bambhania"}, "is_accepted": true, "score": 0, "last_activity_date": 1562927443, "creation_date": 1562927443, "answer_id": 57005170, "question_id": 56970827, "link": "https://stackoverflow.com/questions/56970827/android-room-inserting-works-but-select-doesn%c2%b4t-return-any-values/57005170#57005170", "title": "Android Room - Inserting works but select doesn&#180;t return any values", "body": "<p>I have tried same code with few changes, working fine with me</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val ticket1 = TicketDb(\"1\")\n        val ticket2 = TicketDb(\"12\")\n        val ticket3 = TicketDb(\"1123\")\n        val ticket4 = TicketDb(\"4214\")\n\n        MyDatabase.getDatabase(applicationContext).ticketDbDao()?.run {\n            insert(ticket1)\n            insert(ticket2)\n            insert(ticket3)\n            insert(ticket4)\n        }\n\n        val data = MyDatabase.getDatabase(applicationContext).ticketDbDao().getAllTickets()\n\n        Log.i(\"Hardik\", \"Data :$data\")\n\n    }\n}\n</code></pre>\n\n<p><strong>MyDatabase</strong></p>\n\n<pre><code>@Database(entities = [TicketDb::class], version = 1)\nabstract class MyDatabase : RoomDatabase() {\n\n    abstract fun ticketDbDao(): TicketDbDao\n\n    companion object {\n        @Volatile\n        private var INSTANCE: MyDatabase? = null\n\n        fun getDatabase(context: Context): MyDatabase {\n            val tempInstance = INSTANCE\n            if (tempInstance != null) {\n                return tempInstance\n            }\n            synchronized(this) {\n                val instance = Room.databaseBuilder(\n                    context.applicationContext,\n                    MyDatabase::class.java,\n                    \"my_database\"\n                ).allowMainThreadQueries().build()\n                INSTANCE = instance\n                return instance\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>TicketDb</strong></p>\n\n<pre><code>@Entity(tableName = \"ticket_table\")\ndata class TicketDb(@ColumnInfo(name = \"ticketnumber\") var ticketnumber: String = \"1234567\") {\n    @PrimaryKey(autoGenerate = true)\n    @ColumnInfo(name = \"id\")\n    var id: Int = 0\n}\n</code></pre>\n\n<p><strong>TicketDbDao</strong>\n@Dao\ninterface TicketDbDao {</p>\n\n<pre><code>@Insert\nfun insert(ticket: TicketDb)\n\n@Query(\"SELECT * FROM ticket_table ORDER BY id DESC\")\nfun getAllTickets(): List&lt;TicketDb&gt;\n</code></pre>\n\n<p>}</p>\n\n<p>this give me inserted data in log as below</p>\n\n<pre><code>2019-07-12 15:48:51.179 30262-30262/com.hardik.demos I/Hardik: Data :[TicketDb(ticketnumber=4214), TicketDb(ticketnumber=1123), TicketDb(ticketnumber=12), TicketDb(ticketnumber=1), TicketDb(ticketnumber=4214), TicketDb(ticketnumber=1123), TicketDb(ticketnumber=12), TicketDb(ticketnumber=1), TicketDb(ticketnumber=1), TicketDb(ticketnumber=1), TicketDb(ticketnumber=1)]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6783416, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qU5M7.jpg?s=128&g=1", "display_name": "Geekince", "link": "https://stackoverflow.com/users/6783416/geekince"}, "is_accepted": false, "score": 1, "last_activity_date": 1603110557, "creation_date": 1603110557, "answer_id": 64427370, "question_id": 56970827, "link": "https://stackoverflow.com/questions/56970827/android-room-inserting-works-but-select-doesn%c2%b4t-return-any-values/64427370#64427370", "title": "Android Room - Inserting works but select doesn&#180;t return any values", "body": "<p>You must observe the livedata in your activity or fragment\uff0csuch as</p>\n<pre><code> ViewModel.allTickets.observe(this, new Observer&lt;&gt;() {\n        @Override\n        public void onChanged() {\n          \n        }\n    });\n</code></pre>\n"}], "owner": {"reputation": 146, "user_id": 6845127, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e4b57b6367c71bfad4bdd7dea9202aa?s=128&d=identicon&r=PG&f=1", "display_name": "A.K.", "link": "https://stackoverflow.com/users/6845127/a-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2381, "favorite_count": 0, "accepted_answer_id": 57005170, "answer_count": 3, "score": 2, "last_activity_date": 1603110557, "creation_date": 1562762067, "last_edit_date": 1562923363, "question_id": 56970827, "link": "https://stackoverflow.com/questions/56970827/android-room-inserting-works-but-select-doesn%c2%b4t-return-any-values", "title": "Android Room - Inserting works but select doesn&#180;t return any values", "body": "<p>i want to select data from a database via room.</p>\n\n<p>Here are my code.</p>\n\n<p><strong>Database</strong></p>\n\n<pre><code>@Database(entities = [TicketDb::class], version = 1)\n@TypeConverters(DatabaseConverters::class)\nabstract class MyDatabase : RoomDatabase() {\n\n    abstract fun ticketDbDao(): TicketDbDao\n\n    companion object {\n        @Volatile\n        private var INSTANCE: MyDatabase? = null\n\n        fun getDatabase(context: Context, scope: CoroutineScope): MyDatabase {\n            val tempInstance = INSTANCE\n            if (tempInstance != null) {\n                return tempInstance\n            }\n            synchronized(this) {\n                val instance = Room.databaseBuilder(\n                    context.applicationContext,\n                    MyDatabase::class.java,\n                    \"my_database\"\n                )\n        .build()\n                INSTANCE = instance\n                return instance\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><strong>Data class</strong></p>\n\n<pre><code>@Entity(tableName = \"ticket_table\")\ndata class TicketDb (@ColumnInfo(name = \"ticketnumber\")  var ticketnumber: String = \"1234567\") {\n    @PrimaryKey(autoGenerate = true)\n    @ColumnInfo(name = \"id\") var id: Int = 0\n}\n</code></pre>\n\n<p><strong>Dao</strong></p>\n\n<pre><code>@Dao\ninterface TicketDbDao {\n\n    @Insert\n    suspend fun insert(ticket: TicketDb)\n\n    @Query(\"SELECT * FROM ticket_table ORDER BY id DESC\")\n    fun getAllTickets(): LiveData&lt;List&lt;TicketDb&gt;&gt;\n}\n</code></pre>\n\n<p><strong>Repository</strong></p>\n\n<pre><code>class TicketRepository (private val ticketDbDao: TicketDbDao) {\n\n    val allTickets: LiveData&lt;List&lt;TicketDb&gt;&gt; = ticketDbDao.getAllTickets()\n\n    @WorkerThread\n    suspend fun insert(ticket: TicketDb) {\n        ticketDbDao.insert(ticket)\n    }\n\n}\n</code></pre>\n\n<p><strong>Viewmodel</strong></p>\n\n<pre><code>var ticketRepository: TicketRepository\n\nval allTickets: LiveData&lt;List&lt;TicketDb&gt;&gt;\n\ninit {\n    val ticketDao = MeinLottoDatabase.getDatabase(application, viewModelScope).ticketDbDao()\n    ticketRepository = TicketRepository(ticketDao)\n    allTickets = ticketRepository.allTickets\n}\n\nfun saveTicket() = viewModelScope.launch(Dispatchers.IO) {\n        ticketRepository.insert(ticket.value!!.toTicketDb())\n}\n</code></pre>\n\n<p>The saveTicket method works. I have downloaded the database and all saved entries are present.\nBut whenever I call ticketRepository.allTickets I get an empty list back.</p>\n\n<p>I have set a breakpoint in the auto generated class TicketDbDao_Impl in the call-method in the Callable object, but the breakpoint is never reached.</p>\n\n<pre><code>@Override\n  public LiveData&lt;List&lt;TicketDb&gt;&gt; getAllTickets() {\n    final String _sql = \"SELECT * FROM ticket_table\";\n    final RoomSQLiteQuery _statement = RoomSQLiteQuery.acquire(_sql, 0);\n    return __db.getInvalidationTracker().createLiveData(new String[]{\"ticket_table\"}, false, new Callable&lt;List&lt;TicketDb&gt;&gt;() {\n      @Override\n      public List&lt;TicketDb&gt; call() throws Exception {\n        final Cursor _cursor = DBUtil.query(__db, _statement, false);\n        try {\n          // BREAKPOINT here\n          final int _cursorIndexOfId = CursorUtil.getColumnIndexOrThrow(_cursor, \"id\");\n          final int _cursorIndexOfName = CursorUtil.getColumnIndexOrThrow(_cursor, \"name\");\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1562760730, "post_id": 56970432, "comment_id": 100477401, "body": "what you mean by application ?"}, {"owner": {"reputation": 16050, "user_id": 4168607, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/Z0uMk.jpg?s=128&g=1", "display_name": "ADM", "link": "https://stackoverflow.com/users/4168607/adm"}, "edited": false, "score": 0, "creation_date": 1562760785, "post_id": 56970432, "comment_id": 100477433, "body": "If you are asking about touch event from ADB then see <a href=\"https://stackoverflow.com/questions/18924968/using-adb-to-access-a-particular-ui-control-on-the-screen\" title=\"using adb to access a particular ui control on the screen\">stackoverflow.com/questions/18924968/&hellip;</a> .."}, {"owner": {"reputation": 2874, "user_id": 9522732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/srrqm.jpg?s=128&g=1", "display_name": "Uni", "link": "https://stackoverflow.com/users/9522732/uni"}, "edited": false, "score": 0, "creation_date": 1562760788, "post_id": 56970432, "comment_id": 100477434, "body": "onBackPressed()?"}, {"owner": {"reputation": 2874, "user_id": 9522732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/srrqm.jpg?s=128&g=1", "display_name": "Uni", "link": "https://stackoverflow.com/users/9522732/uni"}, "edited": false, "score": 0, "creation_date": 1562760822, "post_id": 56970432, "comment_id": 100477461, "body": "override fun onBackPressed() {   super.onBackPressed() }"}, {"owner": {"reputation": 29, "user_id": 10329704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4449e4ba8d45c44ac4db27fa748cecd6?s=128&d=identicon&r=PG&f=1", "display_name": "ignn", "link": "https://stackoverflow.com/users/10329704/ignn"}, "edited": false, "score": 0, "creation_date": 1562763407, "post_id": 56970432, "comment_id": 100478893, "body": "Thank you. But onBackPressed for Back button. What if i want click and another buttons?"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 11471642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7qmHE.jpg?s=128&g=1", "display_name": "satyakiran vakada", "link": "https://stackoverflow.com/users/11471642/satyakiran-vakada"}, "is_accepted": false, "score": 1, "last_activity_date": 1562847527, "last_edit_date": 1562847527, "creation_date": 1562763100, "answer_id": 56971115, "question_id": 56970432, "link": "https://stackoverflow.com/questions/56970432/how-programmatically-click-on-android-back-button-from-application/56971115#56971115", "title": "How programmatically click on Android &quot;back button&quot; from application?", "body": "<p>There is default method can be use for back press,</p>\n\n<pre><code>@Override \npublic void onBackPressed() { return; } \n</code></pre>\n\n<p>By Overriding this method you can access Back button grammatically. Usually, Back button is already called as default method in android but backPressed can be useful while using navigation Drawer or menu</p>\n"}], "owner": {"reputation": 29, "user_id": 10329704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4449e4ba8d45c44ac4db27fa748cecd6?s=128&d=identicon&r=PG&f=1", "display_name": "ignn", "link": "https://stackoverflow.com/users/10329704/ignn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 378, "favorite_count": 0, "closed_date": 1562774654, "answer_count": 1, "score": -1, "last_activity_date": 1562847527, "creation_date": 1562760684, "last_edit_date": 1562761175, "question_id": 56970432, "link": "https://stackoverflow.com/questions/56970432/how-programmatically-click-on-android-back-button-from-application", "closed_reason": "Duplicate", "title": "How programmatically click on Android &quot;back button&quot; from application?", "body": "<p>How programmatically click on Android \"back button\" from an application? Is it possible?\nLike <code>adb shell input keyevent 4</code></p>\n"}, {"tags": ["android", "kotlin", "android-preferences", "android-jetpack-navigation"], "comments": [{"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1562764170, "post_id": 56970412, "comment_id": 100479336, "body": "possible duplicate of <a href=\"https://stackoverflow.com/questions/53029821/navigating-to-preference-fragment-using-navigation-component\" title=\"navigating to preference fragment using navigation component\">stackoverflow.com/questions/53029821/&hellip;</a>"}, {"owner": {"reputation": 989, "user_id": 6884119, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FNca08XrllI/AAAAAAAAAAI/AAAAAAAAABM/jHFNgZEWSNE/photo.jpg?sz=128", "display_name": "Mervin Hemaraju", "link": "https://stackoverflow.com/users/6884119/mervin-hemaraju"}, "reply_to_user": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1562765525, "post_id": 56970412, "comment_id": 100480117, "body": "Na, i want to navigate to nested fragments WITHIN my settings activity using Navigation component."}], "answers": [{"tags": [], "owner": {"reputation": 2563, "user_id": 958580, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/CVawG.png?s=128&g=1", "display_name": "Carel", "link": "https://stackoverflow.com/users/958580/carel"}, "is_accepted": false, "score": 6, "last_activity_date": 1566254964, "creation_date": 1566254964, "answer_id": 57564776, "question_id": 56970412, "link": "https://stackoverflow.com/questions/56970412/can-we-use-android-jetpack-navigation-component-with-settings-preferences/57564776#57564776", "title": "Can we use Android Jetpack Navigation Component with Settings preferences?", "body": "<p>The google documentation states that hierarchical nesting of preferences are now deprecated in favour of inter-fragment navigation; that is the structure <code>&lt;PreferencesScreen&gt; ... &lt;PreferencesScreen ...&gt; ... &lt;/PreferenceScreen&gt; ... &lt;/PreferenceScreen&gt;</code> is now out. </p>\n\n<p>The documents propose that one replace the nested <code>&lt;PreferenceScreen/&gt;</code> with a preference and set the <code>app:fragment</code> attribute, hence</p>\n\n<pre><code>&lt;xml ...&gt;\n&lt;PreferencesScreen ...&gt;\n    &lt;Preference\n        android:title=\"Title\"\n        app:fragment=\"TLD.DOMAIN.PACKAGE.preferences.SUBPreferenceFragment\"\n        app:destination=\"@+id/SUBPreferenceFragment\" # Not supported by Schema\n        android:summary=\"Summary\"/&gt; \n&lt;/PreferenceScreen&gt;\n</code></pre>\n\n<p><strong>Note :</strong> <em>It'd be mighty handy if they allowed <code>app:destination=\"@+id/SUBPreferenceFragment\"</code> to identify the navigation destination; I simply duplicate <code>app:destination</code> from the navigation graph's XML file.</em></p>\n\n<p>From the documentation it is then possible to navigate between the <code>PREFERENCEFramgent</code>s by referencing this <code>preference.fragment</code> as follows </p>\n\n<pre><code>class Activity : AppCompatActivity(),\n                  // Preferences Interface\n                  PreferenceFragmentCompat.OnPreferenceStartFragmentCallback\n{\n    ...\n    override fun onPreferenceStartFragment(caller: PreferenceFragmentCompat, preference: Preference): Boolean \n    {\n        // Instantiate the new Fragment\n        val args = preference.extras\n        val fragment = supportFragmentManager.fragmentFactory.instantiate(\n            classLoader,\n            preference.fragment)\n        fragment.arguments = args\n        fragment.setTargetFragment(caller, 0)\n        // Replace the existing Fragment with the new Fragment\n        supportFragmentManager.beginTransaction()\n            .replace(R.id.FRAGMENT, fragment)\n            .addToBackStack(null)\n            .commit()\n       return true\n    }\n    ...\n}\n</code></pre>\n\n<p>There is however a small Snafoo ! <code>R.id.FRAGMENT</code> in a normal activity represents the placeholder within the activities' view where one would swap the main fragments in an out of existence. When using Navigation <code>R.id.FRAGMENT</code> maps to <code>R.id.NAVIGATION</code> and the code above swaps out the entire navigation fragment with the preference. For an activity using Navigation a reformulation is necessary.</p>\n\n<pre><code>class Activity : AppCompatActivity(),\n                  // Preferences Interface\n                  PreferenceFragmentCompat.OnPreferenceStartFragmentCallback\n{\n    ...\n    override fun onPreferenceStartFragment(caller: PreferenceFragmentCompat, preference: Preference): Boolean {\n        // Retrieve the navigation controller\n        val navctrl = findNavController(R.id.navigation)\n        // Identify the Navigation Destination\n        val navDestination = navctrl.graph.find { target -&gt; preference.fragment.endsWith(target.label?:\"\") } \n        // Navigate to the desired destination\n        navDestination?.let { target -&gt; navctrl.navigate(target.id) }\n    }\n    ...\n}\n</code></pre>\n\n<p>While this works I am a bit dubious about the line that determines the <code>navDestination</code>. If you have a better incantation for <code>val navDestination = navctrl.graph.find { target -&gt; preference.fragment.endsWith(target.label?:\"\") }</code> then please edit the question or leave a comment accordingly so I can update the answer.</p>\n"}, {"tags": [], "owner": {"reputation": 195, "user_id": 9317258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8296c458fd9c926ec8e76f09a290e8d5?s=128&d=identicon&r=PG&f=1", "display_name": "V&#237;t Kapitola", "link": "https://stackoverflow.com/users/9317258/v%c3%adt-kapitola"}, "is_accepted": false, "score": 1, "last_activity_date": 1596693139, "creation_date": 1596693139, "answer_id": 63277602, "question_id": 56970412, "link": "https://stackoverflow.com/questions/56970412/can-we-use-android-jetpack-navigation-component-with-settings-preferences/63277602#63277602", "title": "Can we use Android Jetpack Navigation Component with Settings preferences?", "body": "<p>Yes, you can use Navigation components inside Preference fragments.</p>\n<p>I have also a main preference fragment with multiple nested fragments. For me the best way was to navigate just inside preference fragments without any activity. So I created onPreferenceClickListeners and navigate just like you would from a normal fragment.</p>\n<pre><code>findPreference(getString(R.string.PREF_GN_BUTTON_MAIN)).setOnPreferenceClickListener(preference5 -&gt; {\n            Navigation.findNavController(requireView()).navigate(R.id.another_settings_fragment);\n            return true;\n        });\n</code></pre>\n<p>The advantage of this way is that you can use gradle plugin <a href=\"https://developer.android.com/guide/navigation/navigation-pass-data#Safe-args\" rel=\"nofollow noreferrer\">Safe args</a> to navigate between destinations. So it is a little bit safer than to use it only with ids just like <a href=\"https://stackoverflow.com/a/57564776/9317258\">Carel</a> from Activity.</p>\n<p>I tried to override <code>onPreferenceStartFragment</code> in my activity but I could not see any advantages of it. I use single Activity architecture.</p>\n"}], "owner": {"reputation": 989, "user_id": 6884119, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FNca08XrllI/AAAAAAAAAAI/AAAAAAAAABM/jHFNgZEWSNE/photo.jpg?sz=128", "display_name": "Mervin Hemaraju", "link": "https://stackoverflow.com/users/6884119/mervin-hemaraju"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1372, "favorite_count": 2, "answer_count": 2, "score": 11, "last_activity_date": 1596693139, "creation_date": 1562760618, "last_edit_date": 1562822407, "question_id": 56970412, "link": "https://stackoverflow.com/questions/56970412/can-we-use-android-jetpack-navigation-component-with-settings-preferences", "title": "Can we use Android Jetpack Navigation Component with Settings preferences?", "body": "<p>Is it possible to use Android Jetpack Navigation Component to navigate the fragments of a Settings Preferences? I have a Settings screens with multiple nested Preference Fragments. I was wondering if it is feasible to use Android Jetpack Navigation Component to facilitate my task?</p>\n"}, {"tags": ["mongodb", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 1377674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c1065b1af1190349bbf796b861f209?s=128&d=identicon&r=PG", "display_name": "Michelle", "link": "https://stackoverflow.com/users/1377674/michelle"}, "is_accepted": false, "score": 0, "last_activity_date": 1562838539, "creation_date": 1562838539, "answer_id": 56986408, "question_id": 56970255, "link": "https://stackoverflow.com/questions/56970255/convert-mongo-aggregation-query-to-kotlin/56986408#56986408", "title": "Convert mongo aggregation query to kotlin", "body": "<p>I figured it out, like to share the answer here, in case, any one want to do the same thing later: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>val rateQuoteConDoc = org.bson.Document(\"\\$isArray\", \"\\$rateQuotes\")\r\nval rateQuotesCondition = ConditionalOperators.Cond.`when`{ rateQuoteConDoc }\r\n    .thenValueOf { org.bson.Document(\"\\$size\", \"\\$rateQuotes\") }\r\n    .otherwise(0)\r\n\r\nval allShipmentsConDoc = org.bson.Document(\"\\$isArray\", \"\\$allShipments.shipments\")\r\nval allShipmentsCondition = ConditionalOperators.Cond.`when`{ allShipmentsConDoc }\r\n    .thenValueOf { org.bson.Document(\"\\$size\", \"\\$allShipments.shipments\")}\r\n    .otherwise(0)\r\n\r\nval match = match(Criteria.where(dayField).gte(startDate).and(\"type\").`is`(type))\r\n\r\nval aggregation = newAggregation(\r\n    match,\r\n    project(\"day\")\r\n        .and(rateQuotesCondition).`as`(\"rateQuotes\")\r\n        .and(allShipmentsCondition).`as`(\"allShipments\")\r\n)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Thanks!</p>\n"}], "owner": {"reputation": 1, "user_id": 1377674, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52c1065b1af1190349bbf796b861f209?s=128&d=identicon&r=PG", "display_name": "Michelle", "link": "https://stackoverflow.com/users/1377674/michelle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 569, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562838539, "creation_date": 1562759955, "last_edit_date": 1562762058, "question_id": 56970255, "link": "https://stackoverflow.com/questions/56970255/convert-mongo-aggregation-query-to-kotlin", "title": "Convert mongo aggregation query to kotlin", "body": "<p>I have below mongodb query, need to convert it to the kotlin spring data. Can any one help me this:   </p>\n\n<pre><code>db.getCollection('activities').aggregate([{\n    $project: {\n        day: 1,\n        rateQuotes: { $cond: { if: { $isArray: \"$rateQuotes\" }, then: { $size: \"$rateQuotes\" }, else: 0 } }    \n    }\n}])\n</code></pre>\n\n<p>when \"rateQuotes\" is an array, following code will work:  </p>\n\n<pre><code>val aggregation = newAggregation(\n     project(\"day\")\n     .and(\"rateQuotes\").size().`as`(\"rateQuotes\")\n     )\n</code></pre>\n\n<p>need to add the condition to handle null value, I think it should be:</p>\n\n<pre><code>val cond = ConditionalOperators.Cond.***\nval aggregation = newAggregation(\n     project(\"day\")         \n     .and(\"rateQuotes\").applyCondition(cond).size().`as`(\"rateQuotes\")\n)\n</code></pre>\n\n<p>But I have difficulty to create the condition and apply condition. Not sure if the size should be included in the condition. If anyone has experience for this, please let me know, thank you!</p>\n"}, {"tags": ["android", "kotlin", "android-livedata", "android-jetpack"], "comments": [{"owner": {"reputation": 824, "user_id": 9087754, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-dcAptwbQ2h4/AAAAAAAAAAI/AAAAAAAAABc/BvKqPafQgjw/photo.jpg?sz=128", "display_name": "Abdul", "link": "https://stackoverflow.com/users/9087754/abdul"}, "edited": false, "score": 0, "creation_date": 1562758599, "post_id": 56969834, "comment_id": 100476217, "body": "MutableLiveData&lt;Integer&gt; will work i think"}, {"owner": {"reputation": 4010, "user_id": 2590478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mJqdD.jpg?s=128&g=1", "display_name": "MidasLefko", "link": "https://stackoverflow.com/users/2590478/midaslefko"}, "edited": false, "score": 0, "creation_date": 1562758810, "post_id": 56969834, "comment_id": 100476319, "body": "This question is not clear, what do you mean by convert? You want to take the value in <code>text</code> and convert it to an <code>Integer</code>? You want to know how to create a <code>MutableLiveData&lt;Integer&gt;</code>? You want to know how to map from one <code>LiveData</code> to another?"}, {"owner": {"reputation": 865, "user_id": 10922928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcec10c285df503a650a817142f2fef?s=128&d=identicon&r=PG&f=1", "display_name": "solaza", "link": "https://stackoverflow.com/users/10922928/solaza"}, "reply_to_user": {"reputation": 4010, "user_id": 2590478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mJqdD.jpg?s=128&g=1", "display_name": "MidasLefko", "link": "https://stackoverflow.com/users/2590478/midaslefko"}, "edited": false, "score": 0, "creation_date": 1562759123, "post_id": 56969834, "comment_id": 100476502, "body": "@MidasLefko I would like to map it to another <code>MutableLiveData&lt;Int&gt;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 865, "user_id": 10922928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcec10c285df503a650a817142f2fef?s=128&d=identicon&r=PG&f=1", "display_name": "solaza", "link": "https://stackoverflow.com/users/10922928/solaza"}, "edited": false, "score": 0, "creation_date": 1562761190, "post_id": 56970051, "comment_id": 100477638, "body": "I tried Kotlin example. Value in <code>intLiveData</code> is all time null. Inside  <code>val text = NonNullMutableLiveData&lt;String&gt;(&quot;&quot;)</code> value changes but not in <code>intLiveData</code> I am using 2-way databinding to EditText."}, {"owner": {"reputation": 4010, "user_id": 2590478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mJqdD.jpg?s=128&g=1", "display_name": "MidasLefko", "link": "https://stackoverflow.com/users/2590478/midaslefko"}, "reply_to_user": {"reputation": 865, "user_id": 10922928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcec10c285df503a650a817142f2fef?s=128&d=identicon&r=PG&f=1", "display_name": "solaza", "link": "https://stackoverflow.com/users/10922928/solaza"}, "edited": false, "score": 0, "creation_date": 1562761776, "post_id": 56970051, "comment_id": 100477932, "body": "The mapping fun above works. Sounds like you have an issue somewhere else, perhaps your databinding is not posting value to your text LiveData? I think that you should try to debug and add some logging  and if you are still stuck ask another question"}, {"owner": {"reputation": 865, "user_id": 10922928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcec10c285df503a650a817142f2fef?s=128&d=identicon&r=PG&f=1", "display_name": "solaza", "link": "https://stackoverflow.com/users/10922928/solaza"}, "edited": false, "score": 0, "creation_date": 1562762462, "post_id": 56970051, "comment_id": 100478334, "body": "It&#39;s strange..          <code>val a = text.value </code>,  <code>val b = textInt.value</code>  value of <code>a</code> is 2 and <code>b</code> is null.  I copied Kotlin version of code above for  <code>textInt</code>"}], "tags": [], "owner": {"reputation": 4010, "user_id": 2590478, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mJqdD.jpg?s=128&g=1", "display_name": "MidasLefko", "link": "https://stackoverflow.com/users/2590478/midaslefko"}, "is_accepted": false, "score": 0, "last_activity_date": 1562760385, "last_edit_date": 1562760385, "creation_date": 1562759109, "answer_id": 56970051, "question_id": 56969834, "link": "https://stackoverflow.com/questions/56969834/mutablelivedatastring-to-mutablelivedataint/56970051#56970051", "title": "MutableLiveData&lt;String&gt; to MutableLiveData&lt;Int&gt;", "body": "<p>You can use LiveData <a href=\"https://developer.android.com/reference/android/arch/lifecycle/Transformations.html\" rel=\"nofollow noreferrer\">Transformations</a> (specifically <a href=\"https://developer.android.com/reference/android/arch/lifecycle/Transformations.html#map(android.arch.lifecycle.LiveData%3CX%3E,%20android.arch.core.util.Function%3CX,%20Y%3E)\" rel=\"nofollow noreferrer\">map</a>):</p>\n\n<pre><code>LiveData intLiveData = Transformations.map(text, text -&gt; {\n      try {\n          return Integer.parse(text);\n      } catch(NumberFormatException ignored) {\n          return 0;\n      }\n});\n</code></pre>\n\n<p>For Kotlin something like this:</p>\n\n<pre><code>val intLiveData = Transformations.map(text) {\n        try {\n            it.toInt()\n        } catch (e: NumberFormatException) {\n            0\n        }\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 5176220, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1nKxj.gif?s=128&g=1", "display_name": "ehart", "link": "https://stackoverflow.com/users/5176220/ehart"}, "is_accepted": true, "score": 4, "last_activity_date": 1563200473, "last_edit_date": 1563200473, "creation_date": 1562901037, "answer_id": 56999715, "question_id": 56969834, "link": "https://stackoverflow.com/questions/56969834/mutablelivedatastring-to-mutablelivedataint/56999715#56999715", "title": "MutableLiveData&lt;String&gt; to MutableLiveData&lt;Int&gt;", "body": "<p>You should use <code>Transformations.map</code> to get a intLiveData.</p>\n\n<pre><code>val intLiveData = Transformations.map(textLiveData) {\n    try {\n        it.toInt()\n    } catch (e: NumberFormatException) {\n        0\n    }\n}\n</code></pre>\n\n<p>And then <code>intLiveData.value</code> may be still null, even if <code>textLivaData.value</code> is already \"2\". Because <code>intLiveData</code> will NOT CHANGE untill <code>intLiveData</code> was observed and actived.</p>\n\n<p>That means you should set a observer to <code>intLiveData</code>, and wait for the observer to start.</p>\n\n<pre><code>intLiveData.observe(lifecycleOwner,  Observer{ intValue -&gt;\n    // get the int value.\n})\n</code></pre>\n\n<p>As <a href=\"https://developer.android.com/topic/libraries/architecture/livedata#kotlin\" rel=\"nofollow noreferrer\">google</a> says,</p>\n\n<blockquote>\n  <p>You can use transformation methods to carry information across the observer's lifecycle. The transformations aren't calculated unless an observer is watching the returned LiveData object. Because the transformations are calculated lazily, lifecycle-related behavior is implicitly passed down without requiring additional explicit calls or dependencies.</p>\n</blockquote>\n"}], "owner": {"reputation": 865, "user_id": 10922928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcec10c285df503a650a817142f2fef?s=128&d=identicon&r=PG&f=1", "display_name": "solaza", "link": "https://stackoverflow.com/users/10922928/solaza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2694, "favorite_count": 0, "accepted_answer_id": 56999715, "answer_count": 2, "score": 3, "last_activity_date": 1563200473, "creation_date": 1562758363, "last_edit_date": 1562906070, "question_id": 56969834, "link": "https://stackoverflow.com/questions/56969834/mutablelivedatastring-to-mutablelivedataint", "title": "MutableLiveData&lt;String&gt; to MutableLiveData&lt;Int&gt;", "body": "<p>How could I convert <code>MutableLiveData&lt; String&gt;</code> to <code>MutableLiveData&lt; Int&gt;</code>.</p>\n\n<pre><code> val text = NonNullMutableLiveData&lt;String&gt;(\"\")\n</code></pre>\n\n<p>My <em>class NonNullMutableLiveData</em>:</p>\n\n<pre><code> class NonNullMutableLiveData&lt;T&gt;(private val defaultValue: T) :\n        MutableLiveData&lt;T&gt;() {\n        override fun getValue(): T {\n            return super.getValue() ?: defaultValue\n        }\n    }\n</code></pre>\n\n<p>I would like to add another <code>MutableLiveData&lt;Int&gt;</code> in which I have transformed value of <code>MutableLiveData&lt;String&gt;</code></p>\n\n<p>Thanks</p>\n"}, {"tags": ["android", "variables", "kotlin"], "comments": [{"owner": {"reputation": 6153, "user_id": 4729721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a68628b01886ee639255e69111990484?s=128&d=identicon&r=PG&f=1", "display_name": "a_local_nobody", "link": "https://stackoverflow.com/users/4729721/a-local-nobody"}, "edited": false, "score": 0, "creation_date": 1564299494, "post_id": 56969649, "comment_id": 100979270, "body": "hi OP :) check out my answer, maybe it teaches you something or helps you out"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11764608, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6eIGkab3EWo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfAcXyOHOX9k3eQHIVCXCcwNAfZsw/photo.jpg?sz=128", "display_name": "Ausloos", "link": "https://stackoverflow.com/users/11764608/ausloos"}, "edited": false, "score": 0, "creation_date": 1562760905, "post_id": 56969780, "comment_id": 100477509, "body": "If I add something it always goes back to only four items. It add it at first but then it disappears.I try to do the same in the other way but it crashes"}, {"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "reply_to_user": {"reputation": 23, "user_id": 11764608, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6eIGkab3EWo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfAcXyOHOX9k3eQHIVCXCcwNAfZsw/photo.jpg?sz=128", "display_name": "Ausloos", "link": "https://stackoverflow.com/users/11764608/ausloos"}, "edited": false, "score": 0, "creation_date": 1562761310, "post_id": 56969780, "comment_id": 100477706, "body": "if it works for you accept it as answer. Below downvote click on the right sign"}], "tags": [], "owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "is_accepted": true, "score": 1, "last_activity_date": 1562758163, "creation_date": 1562758163, "answer_id": 56969780, "question_id": 56969649, "link": "https://stackoverflow.com/questions/56969649/how-can-i-access-a-variable-from-different-file-in-kotlin/56969780#56969780", "title": "How can I access a variable from different file in kotlin?", "body": "<p>If you're looking for access only variable.</p>\n\n<p>Make it's access specifier public.</p>\n\n<pre><code>public val itemList= arrayListOf(\"one\", \"two\", \"three\", \"four\")\n</code></pre>\n\n<p>Then :</p>\n\n<pre><code>var itemList = MainActivity().itemList\n</code></pre>\n\n<p>Pass your List with intent to Next Activity where you can remove or edit items from it.</p>\n\n<pre><code>listButton.setOnClickListener {\n    val intent = Intent(this, NextActivity::class.java)\n    intent.putStringArrayListExtra(\"itemList\", itemList)\n    startActivity(intent)\n}\n</code></pre>\n\n<p>Get Data from That activity :</p>\n\n<pre><code>var itemList = intent.getStringArrayListExtra(\"itemList\")\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11764608, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6eIGkab3EWo/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfAcXyOHOX9k3eQHIVCXCcwNAfZsw/photo.jpg?sz=128", "display_name": "Ausloos", "link": "https://stackoverflow.com/users/11764608/ausloos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1566, "favorite_count": 0, "accepted_answer_id": 56969780, "answer_count": 1, "score": 1, "last_activity_date": 1562824429, "creation_date": 1562757729, "last_edit_date": 1562758164, "question_id": 56969649, "link": "https://stackoverflow.com/questions/56969649/how-can-i-access-a-variable-from-different-file-in-kotlin", "title": "How can I access a variable from different file in kotlin?", "body": "<p>I am trying to add items to a list and I want to display a list of all the items. I have made a list in <code>MainActivity.kt</code> but how can I access this list in another <code>kotlin</code> file? </p>\n\n<p>Here I make the list and I add items.</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    public val itemList= arrayListOf(\"one\", \"two\", \"three\", \"four\")\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        addItemBtn.setOnClickListener {\n            val new = addItemTxt.text.toString()\n            if (!itemList.contains(new)){\n                itemList.add(new)\n            }\n            addItemTxt.text.clear()\n        }\n\n\n        listButton.setOnClickListener {\n            startActivity(Intent(this, ListChoose::class.java))\n        }\n\n    }\n\n}\n</code></pre>\n"}, {"tags": ["kotlin", "lazy-initialization", "kotlin-lateinit"], "answers": [{"comments": [{"owner": {"reputation": 13306, "user_id": 162698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HnjBG.png?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/162698/rob"}, "edited": false, "score": 5, "creation_date": 1562758090, "post_id": 56969369, "comment_id": 100475955, "body": "I would have thought someone with your rep level would know better than to give code only answers. <a href=\"https://stackoverflow.com/help/how-to-answer\">stackoverflow.com/help/how-to-answer</a>"}], "tags": [], "owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "is_accepted": true, "score": 0, "last_activity_date": 1562756735, "creation_date": 1562756735, "answer_id": 56969369, "question_id": 56969297, "link": "https://stackoverflow.com/questions/56969297/how-to-fix-assignment-are-not-expressions-kotlin-and-only-expression-are-allowed/56969369#56969369", "title": "How to fix assignment are not expressions kotlin and only expression are allowed", "body": "<pre><code>fun setupCommRequestService(): Single&lt;CommunicationRequestService&gt; {\n  initCommRequestService = CommunicationRequestService.initRetrofit(this@MainActivity)!!\n  return initCommRequestService\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8369, "user_id": 2340612, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f11dcabc9115c80a16efc715b54a48b8?s=128&d=identicon&r=PG", "display_name": "user2340612", "link": "https://stackoverflow.com/users/2340612/user2340612"}, "is_accepted": false, "score": 1, "last_activity_date": 1562764224, "creation_date": 1562764224, "answer_id": 56971458, "question_id": 56969297, "link": "https://stackoverflow.com/questions/56969297/how-to-fix-assignment-are-not-expressions-kotlin-and-only-expression-are-allowed/56971458#56971458", "title": "How to fix assignment are not expressions kotlin and only expression are allowed", "body": "<p>To expand on Egor's answer, the issue is not really linked to <code>lateinit</code> or other stuff, it's just that in Kotlin assignment is not an expression, so <code>x = y</code> is a statement and not an expression.\nGiven that <code>return</code> expects an expression (or nothing at all, if jumping out of a function/method returning <code>Unit</code>), <code>return x = y</code> is not allowed as it's wrong from a grammatical point of view.</p>\n\n<p>Note that in Java that would be allowed, though.</p>\n\n<p>As others said, the fix consists in splitting the 2 instructions:</p>\n\n<pre><code>val x = y\nreturn x\n</code></pre>\n"}], "owner": {"reputation": 6353, "user_id": 3732958, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4ad4db32f4933b1bfcf0e0fa116781e0?s=128&d=identicon&r=PG", "display_name": "user2121", "link": "https://stackoverflow.com/users/3732958/user2121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 0, "accepted_answer_id": 56969369, "answer_count": 2, "score": 1, "last_activity_date": 1562764224, "creation_date": 1562756489, "question_id": 56969297, "link": "https://stackoverflow.com/questions/56969297/how-to-fix-assignment-are-not-expressions-kotlin-and-only-expression-are-allowed", "title": "How to fix assignment are not expressions kotlin and only expression are allowed", "body": "<p>in the below, i am trying to lateinit a variable as shown. however after folloing some examples in the internet i understood the concept of it but however i received the below posted error message due to \nthe code stated in the method setupCommRequestService()</p>\n\n<p>error message:</p>\n\n<pre><code>assignment are not expressions kotlin and only expression are allowed\n</code></pre>\n\n<p>please have a look at the code posted below and please let me know how can i fix it</p>\n\n<p><strong>code</strong></p>\n\n<pre><code>lateinit var initCommRequestService : Single&lt;CommunicationRequestService&gt;\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    setupCommRequestService()\n        .map {\n            it.getAllPhotos()\n        }\n\n}\n\nfun setupCommRequestService() : Single&lt;CommunicationRequestService&gt; {\n    return initCommRequestService = CommunicationRequestService.initRetrofit(this@MainActivity)!!\n}\n}\n</code></pre>\n"}, {"tags": ["kotlin", "annotations"], "answers": [{"comments": [{"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 2, "creation_date": 1562763019, "post_id": 56969042, "comment_id": 100478684, "body": "And you can see it&#39;s the target of <code>Target</code>: <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.annotation/-target/index.html\" rel=\"nofollow noreferrer\">kotlinlang.org/api/latest/jvm/stdlib/kotlin.annotation/-targ&zwnj;&#8203;et/&hellip;</a>"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "reply_to_user": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1562763172, "post_id": 56969042, "comment_id": 100478767, "body": "Lol didn&#39;t think about that, it&#39;s so funny"}], "tags": [], "owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "is_accepted": false, "score": 1, "last_activity_date": 1562755538, "creation_date": 1562755538, "answer_id": 56969042, "question_id": 56968723, "link": "https://stackoverflow.com/questions/56968723/kotlin-annotation-only-for-annotation-parameters/56969042#56969042", "title": "Kotlin annotation only for annotation parameters", "body": "<p>I believe it is <code>@Target(AnnotationTarget.ANNOTATION_CLASS)</code> if you click on that constant you will read: </p>\n\n<blockquote>\n  <p>Annotation class only</p>\n</blockquote>\n\n<p>Kotlin version 1.3.41</p>\n"}], "owner": {"reputation": 4037, "user_id": 3124227, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/efoMa.jpg?s=128&g=1", "display_name": "Feedforward", "link": "https://stackoverflow.com/users/3124227/feedforward"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562755538, "creation_date": 1562754368, "question_id": 56968723, "link": "https://stackoverflow.com/questions/56968723/kotlin-annotation-only-for-annotation-parameters", "title": "Kotlin annotation only for annotation parameters", "body": "<p>I'd like to have a Kotlin annotation that can only be used as a parameter on another annotation. Which target should I use for it?</p>\n\n<pre><code>// @Target   &lt;- ?\nannotation class MyConfigurationEntry(\n    val option,\n    val value\n)\n\n@Target(AnnotationTarget.FUNCTION)\nannotation class MyConfiguration(vararg val entries: MyConfigurationEntry)\n</code></pre>\n"}, {"tags": ["android", "kotlin", "ascii", "keycode"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 8955296, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-v6gyk3EYN1w/AAAAAAAAAAI/AAAAAAAAAJg/LkaCPvCn3wI/photo.jpg?sz=128", "display_name": "Tai-Him YIM", "link": "https://stackoverflow.com/users/8955296/tai-him-yim"}, "edited": false, "score": 0, "creation_date": 1562820406, "post_id": 56969132, "comment_id": 100498948, "body": "PERFECT, exactly what I wanted. Works on the first try. Thank you very much"}], "tags": [], "owner": {"reputation": 3446, "user_id": 11016588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-F6RcLML2H6o/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQO0WVT35BZ4DGhtU0gK3nG_5sC3Ww/mo/photo.jpg?sz=128", "display_name": "Chrisvin Jem", "link": "https://stackoverflow.com/users/11016588/chrisvin-jem"}, "is_accepted": true, "score": 0, "last_activity_date": 1562755889, "creation_date": 1562755889, "answer_id": 56969132, "question_id": 56968654, "link": "https://stackoverflow.com/questions/56968654/how-do-you-make-an-in-app-button-keyboard-in-an-activity/56969132#56969132", "title": "How do you make an in app button keyboard in an activity?", "body": "<p>You'll need to dispatch <code>KeyEvents</code> to the <code>WebView</code>. For example, the following code simulates a left key press.</p>\n\n<pre><code>webView.dispatchKeyEvent(KeyEvent(KeyEvent.ACTION_DOWN, KeyEvent.KEYCODE_DPAD_LEFT))\n</code></pre>\n\n<p>Here's an <a href=\"http://jules.dourlens.com/send-keybords-event-android-webview/\" rel=\"nofollow noreferrer\">article</a> for further reference. The list of possible <code>KeyEvent</code> codes is available in the <a href=\"https://developer.android.com/reference/android/view/KeyEvent.html#constants_1\" rel=\"nofollow noreferrer\">official docs</a>.</p>\n"}], "owner": {"reputation": 15, "user_id": 8955296, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-v6gyk3EYN1w/AAAAAAAAAAI/AAAAAAAAAJg/LkaCPvCn3wI/photo.jpg?sz=128", "display_name": "Tai-Him YIM", "link": "https://stackoverflow.com/users/8955296/tai-him-yim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 56969132, "answer_count": 1, "score": 0, "last_activity_date": 1562755923, "creation_date": 1562754114, "last_edit_date": 1562755923, "question_id": 56968654, "link": "https://stackoverflow.com/questions/56968654/how-do-you-make-an-in-app-button-keyboard-in-an-activity", "title": "How do you make an in app button keyboard in an activity?", "body": "<p>How can you make an in-app buttons that works like the keyboard?</p>\n\n<p>I am trying to load a website(which is coded using javascript) into my app using the webView function. But unfortunately, the interactive design of the website requires the user to type in letters from the computer keyboard. I could easily pull up the keyboard on the android device to type, but it is a bit too inconvenient as I only need to use 5 buttons.</p>\n\n<p>I used Kotlin to try inserting a letter to the webView browser, but I can't find a solution just yet. Is there a way to make a shortcut or a set of a library that allows me to do so? Thank you for your replies.</p>\n"}, {"tags": ["android", "swift", "kotlin"], "comments": [{"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1562752924, "post_id": 56968277, "comment_id": 100473268, "body": "<a href=\"https://stackoverflow.com/q/50362347/7666442\">stackoverflow.com/q/50362347/7666442</a>"}, {"owner": {"reputation": 2458, "user_id": 3696602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pl0h0.jpg?s=128&g=1", "display_name": "mike vorisis", "link": "https://stackoverflow.com/users/3696602/mike-vorisis"}, "reply_to_user": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 0, "creation_date": 1562754785, "post_id": 56968277, "comment_id": 100474239, "body": "@NileshRathod I saw this question before I ask and I couldn&#39;t understand how I could do mine, so I believe as new in kotlin this question will help many like me and As it isn&#39;t ask the same thing it isn&#39;t duplicate. Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "is_accepted": true, "score": 1, "last_activity_date": 1562753273, "last_edit_date": 1562753273, "creation_date": 1562753034, "answer_id": 56968337, "question_id": 56968277, "link": "https://stackoverflow.com/questions/56968277/can-i-make-extensions-in-kotlin-as-in-swift/56968337#56968337", "title": "Can i make extensions in Kotlin as in Swift", "body": "<p>Yes, Kotlin allows the use of <a href=\"https://kotlinlang.org/docs/reference/extensions.html\" rel=\"nofollow noreferrer\">Extensions</a>.</p>\n\n<pre><code>fun Int.squared(): Int{\n    // Your code\n    // use `this` parameter to get int value\n    // return value\n}\n</code></pre>\n\n<p>and the use it anywhere like this:</p>\n\n<pre><code>val squared = 3.squared()\n</code></pre>\n\n<blockquote>\n  <p>Import statement will be automatically included if you are trying to\n  use an extension</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 2458, "user_id": 3696602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pl0h0.jpg?s=128&g=1", "display_name": "mike vorisis", "link": "https://stackoverflow.com/users/3696602/mike-vorisis"}, "edited": false, "score": 0, "creation_date": 1562753303, "post_id": 56968356, "comment_id": 100473508, "body": "Thanks for your answer I have to accept Rahul answer though as he answered first"}], "tags": [], "owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "is_accepted": false, "score": 1, "last_activity_date": 1562753093, "creation_date": 1562753093, "answer_id": 56968356, "question_id": 56968277, "link": "https://stackoverflow.com/questions/56968277/can-i-make-extensions-in-kotlin-as-in-swift/56968356#56968356", "title": "Can i make extensions in Kotlin as in Swift", "body": "<p>Extension function:</p>\n\n<pre><code>Integer.squared() : Int{\n   return this*this\n}\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>val squared = 3.squared()\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2458, "user_id": 3696602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pl0h0.jpg?s=128&g=1", "display_name": "mike vorisis", "link": "https://stackoverflow.com/users/3696602/mike-vorisis"}, "edited": false, "score": 0, "creation_date": 1562755791, "post_id": 56968359, "comment_id": 100474778, "body": "Thanks for your answer I have to accept Rahul answer though as he answered first"}], "tags": [], "owner": {"reputation": 2163, "user_id": 3586768, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/9im8U.jpg?s=128&g=1", "display_name": "Gustaf Gun&#233;r", "link": "https://stackoverflow.com/users/3586768/gustaf-gun%c3%a9r"}, "is_accepted": false, "score": 1, "last_activity_date": 1562753101, "creation_date": 1562753101, "answer_id": 56968359, "question_id": 56968277, "link": "https://stackoverflow.com/questions/56968277/can-i-make-extensions-in-kotlin-as-in-swift/56968359#56968359", "title": "Can i make extensions in Kotlin as in Swift", "body": "<p>Yes, in Kotlin you would do it like this</p>\n\n<pre><code>fun Int.squared() : Int = this * this\n</code></pre>\n"}], "owner": {"reputation": 2458, "user_id": 3696602, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Pl0h0.jpg?s=128&g=1", "display_name": "mike vorisis", "link": "https://stackoverflow.com/users/3696602/mike-vorisis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "closed_date": 1562753228, "accepted_answer_id": 56968337, "answer_count": 3, "score": 0, "last_activity_date": 1562754834, "creation_date": 1562752879, "last_edit_date": 1562754834, "question_id": 56968277, "link": "https://stackoverflow.com/questions/56968277/can-i-make-extensions-in-kotlin-as-in-swift", "closed_reason": "Duplicate", "title": "Can i make extensions in Kotlin as in Swift", "body": "<p>Is there any way to make extension of any type in Kotlin like String, Int, Double etc.</p>\n\n<p>Lets say this example in Swift:</p>\n\n<pre><code>extension Int {\n    func squared() -&gt; Int {\n        return self * self\n    }\n}\n</code></pre>\n\n<p>Usage: </p>\n\n<pre><code>var number = 8\nprint(number.squared())\n//Prints 64\n</code></pre>\n\n<p>Can be formatted for Kotlin?</p>\n\n<p>This <a href=\"https://stackoverflow.com/questions/50362347/does-kotlin-has-extension-class-to-interface-like-swift\">question</a> couldn't help me.</p>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1562752907, "post_id": 56968238, "comment_id": 100473255, "body": "What do you expect to be happening?"}, {"owner": {"reputation": 27, "user_id": 11764222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c63023deaee77386e527c47fec4c30d6?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/11764222/doe"}, "reply_to_user": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 0, "creation_date": 1562753033, "post_id": 56968238, "comment_id": 100473352, "body": "1.fun multipyAndDivide should return both the product and quotient of the two parameters by returning a Pair containing two Int values.2. for fun multiplyInferred the return type is inferred to be Int since both number and multiplier are Ints."}, {"owner": {"reputation": 25736, "user_id": 6395627, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8dac5493d339ba8cb379f4efb2485d65?s=128&d=identicon&r=PG&f=1", "display_name": "Slaw", "link": "https://stackoverflow.com/users/6395627/slaw"}, "edited": false, "score": 2, "creation_date": 1562753392, "post_id": 56968238, "comment_id": 100473564, "body": "Your code appears to do just that, and it executes successfully (as indicated by the exit code of <code>0</code>). Are you expecting to <i>see</i> something?"}, {"owner": {"reputation": 27978, "user_id": 981744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJi4S.png?s=128&g=1", "display_name": "Erwin Bolwidt", "link": "https://stackoverflow.com/users/981744/erwin-bolwidt"}, "edited": false, "score": 0, "creation_date": 1562753393, "post_id": 56968238, "comment_id": 100473565, "body": "So what do you expect to be happening when you run the code? Your previous comment doesn&#39;t say"}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1562753859, "post_id": 56968238, "comment_id": 100473791, "body": "@Doe You need to print the result: <code>println(&quot;$product, $quotient&quot;)</code>"}, {"owner": {"reputation": 27, "user_id": 11764222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c63023deaee77386e527c47fec4c30d6?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/11764222/doe"}, "edited": false, "score": 0, "creation_date": 1562754492, "post_id": 56968238, "comment_id": 100474090, "body": "ok thanks I thought with return you do not need print statement."}, {"owner": {"reputation": 27, "user_id": 11764222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c63023deaee77386e527c47fec4c30d6?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/11764222/doe"}, "edited": false, "score": 0, "creation_date": 1562754915, "post_id": 56968238, "comment_id": 100474303, "body": "marstran It worked. thanks man."}], "answers": [{"tags": [], "owner": {"reputation": 1537, "user_id": 4862126, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-SzcVl3nTCuk/AAAAAAAAAAI/AAAAAAAAASI/-5E8yPr4BRI/photo.jpg?sz=128", "display_name": "Er. Kaushik Kajavadara", "link": "https://stackoverflow.com/users/4862126/er-kaushik-kajavadara"}, "is_accepted": false, "score": 0, "last_activity_date": 1562754929, "creation_date": 1562754929, "answer_id": 56968879, "question_id": 56968238, "link": "https://stackoverflow.com/questions/56968238/functions-with-multiple-values-not-returning/56968879#56968879", "title": "functions with multiple values not returning", "body": "<p>I think this way you can use Pair in Kotlin to return multiple values from function:</p>\n\n<pre><code>fun returnTwoValues(): Pair&lt;String, Int&gt;{\n\n    return Pair(\"string_result\", 15)\n}\n</code></pre>\n\n<p>How to Access result:</p>\n\n<pre><code>val p = returnTwoValues()\n\nval result1 = p.first\n\nvar result2 = p.second\n</code></pre>\n\n<p>To see the Result print it like this:</p>\n\n<pre><code>println(\"$result1, $result2\")\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 11764222, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c63023deaee77386e527c47fec4c30d6?s=128&d=identicon&r=PG&f=1", "display_name": "Doe", "link": "https://stackoverflow.com/users/11764222/doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1562754929, "creation_date": 1562752766, "last_edit_date": 1562752825, "question_id": 56968238, "link": "https://stackoverflow.com/questions/56968238/functions-with-multiple-values-not-returning", "title": "functions with multiple values not returning", "body": "<pre><code>fun main(args:Array&lt;String&gt;){\n\n    fun multiplyAndDivide(number: Int, factor: Int): Pair&lt;Int, Int&gt; {\n        return Pair(number * factor, number / factor)\n    }\n    val (product, quotient) = multiplyAndDivide(4, 2)\n\n    fun multiplyInferred(number: Int, multiplier: Int) = number * multiplier\n}\n</code></pre>\n\n<p>Please I have spent hours trying to execute these codes but nothing is happens.\nI only get</p>\n\n<p>Process finished with exit code 0</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 406, "user_id": 8806969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a397c6039334c3579a59073d340ceb8a?s=128&d=identicon&r=PG&f=1", "display_name": "IcedLance", "link": "https://stackoverflow.com/users/8806969/icedlance"}, "edited": false, "score": 0, "creation_date": 1562753483, "post_id": 56968213, "comment_id": 100473610, "body": "One way is to not put execution logic into your buttons, but instead make them call some method in your activity/fragment/whatever (like <code>buttonPressed(buttonId)</code> or smth more specific) and track the cooldown there."}], "answers": [{"tags": [], "owner": {"reputation": 1734, "user_id": 11555065, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--L0r5gTglDU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reu3uDuixeVthoBtPm9Z0JvHQn1kg/mo/photo.jpg?sz=128", "display_name": "DHAVAL ASODARIYA", "link": "https://stackoverflow.com/users/11555065/dhaval-asodariya"}, "is_accepted": false, "score": 0, "last_activity_date": 1562752983, "creation_date": 1562752983, "answer_id": 56968318, "question_id": 56968213, "link": "https://stackoverflow.com/questions/56968213/avoid-click-on-two-button-rapidly-android/56968318#56968318", "title": "Avoid click on two button rapidly android", "body": "<p>Just declare <code>lastClickTime</code> variable global in global scope. And define same on click code on both button with your desire action.</p>\n\n<pre><code>// Make this variable global, Outside of any methods. \nprivate var lastClickTime: Long = 0\n\n\nfun View.setClickListener(debounceTime: Long = CLICK_DEBOUNCE_DURATION, action: () -&gt; Unit) {\n  this.setOnClickListener(object : View.OnClickListener {\n\n    override fun onClick(v: View) {\n      if (SystemClock.elapsedRealtime() - lastClickTime &lt; debounceTime) return\n      else action()\n\n      lastClickTime = SystemClock.elapsedRealtime()\n    }\n  })\n}\n</code></pre>\n"}], "owner": {"reputation": 3262, "user_id": 4161284, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f09d33de1ddbfce1524fc06700cb213?s=128&d=identicon&r=PG&f=1", "display_name": "sagar suri", "link": "https://stackoverflow.com/users/4161284/sagar-suri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562752983, "creation_date": 1562752703, "last_edit_date": 1562752835, "question_id": 56968213, "link": "https://stackoverflow.com/questions/56968213/avoid-click-on-two-button-rapidly-android", "title": "Avoid click on two button rapidly android", "body": "<p>I have two <code>buttons</code> in my <code>layout</code>. Now both buttons perform a different network operation using <code>coroutines</code>. Problem is user rapidly clicks on both the buttons and at a certain point, things get messy. How can I put some throttle in the click of both the buttons? The below method works only for one <code>view</code> at a time.</p>\n\n<pre><code>fun View.setClickListener(debounceTime: Long = CLICK_DEBOUNCE_DURATION, action: () -&gt; Unit) {\n  this.setOnClickListener(object : View.OnClickListener {\n    private var lastClickTime: Long = 0\n\n    override fun onClick(v: View) {\n      if (SystemClock.elapsedRealtime() - lastClickTime &lt; debounceTime) return\n      else action()\n\n      lastClickTime = SystemClock.elapsedRealtime()\n    }\n  })\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "textview"], "comments": [{"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 0, "creation_date": 1562752865, "post_id": 56968061, "comment_id": 100473228, "body": "have you tried <code>.trim()</code> method to string"}, {"owner": {"reputation": 903, "user_id": 2404063, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/dba6ec9670b05d6d5449f5f813929bde?s=128&d=identicon&r=PG", "display_name": "Kannan_SJD", "link": "https://stackoverflow.com/users/2404063/kannan-sjd"}, "edited": false, "score": 0, "creation_date": 1562755294, "post_id": 56968061, "comment_id": 100474515, "body": "is there any reason to use framelayout?  Can you use a constraint layout in your item and align your text view start to parent and set the width to 0dp?      &lt;TextView     android:layout_width=&quot;0dp&quot;     android:layout_height=&quot;wrap_content&quot;     app:layout_constraintStart_toStartOf=&quot;parent&quot;     app:layout_constraintTop_toTopOf=&quot;parent&quot;     /&gt;"}], "owner": {"reputation": 73, "user_id": 2861402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c28e2a36ddd5d0dcf07f3cfb243bc31?s=128&d=identicon&r=PG&f=1", "display_name": "alexmedv", "link": "https://stackoverflow.com/users/2861402/alexmedv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1562754855, "creation_date": 1562752293, "last_edit_date": 1562754855, "question_id": 56968061, "link": "https://stackoverflow.com/questions/56968061/textview-unexpected-padding", "title": "TextView unexpected padding", "body": "<p>The <code>RecyclerView</code> shows simple items. Each item has one <code>TextView</code> inside <code>FrameLayout</code>. <code>TextView</code> has no any paddings, but in some cases they appears unexpectedly. The picture below shows that the padding appears immediately after opening the keyboard. The padding appears only if the text contains newline characters. How to fix it ?</p>\n\n<p><a href=\"https://i.stack.imgur.com/SEDN3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SEDN3.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>MainActivity.kt</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    lateinit var adapter : MyAdapter\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val recyclerView : RecyclerView = findViewById(R.id.recyclerView)\n        val button : Button = findViewById(R.id.button)\n\n        adapter = MyAdapter();\n        recyclerView.adapter = adapter;\n\n        button.setOnClickListener {\n            adapter.notifyDataSetChanged()\n        }\n\n    }\n}\n\nclass MyViewHolder(val view: View) : RecyclerView.ViewHolder(view) {\n    val textView: TextView;\n\n    init {\n        textView = view.findViewById(R.id.txt)\n    }\n}\n\nclass MyAdapter : RecyclerView.Adapter&lt;MyViewHolder&gt;() {\n\n    private val data = listOf(\"Text without \\\\n \", \"multiline\\ntext\")\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int) =\n        MyViewHolder(LayoutInflater.from(parent.context)\n            .inflate(R.layout.list_item, parent, false))\n\n    override fun getItemCount() = data.size;\n\n    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n        holder.textView.text = data[position]\n    }\n\n}\n</code></pre>\n\n<p>list_item.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;FrameLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n             android:orientation=\"vertical\"\n             android:layout_width=\"match_parent\"\n             android:layout_height=\"wrap_content\"&gt;\n\n    &lt;TextView\n            android:background=\"@android:color/holo_blue_light\"\n            android:id=\"@+id/txt\"\n\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"/&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n\n<p>activity_main.xml </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        android:background=\"#ffffff\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"&gt;\n\n    &lt;Button\n            android:text=\"notifyDataSetChanged\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"48dp\"\n            android:id=\"@+id/button\"\n            app:layout_constraintBottom_toBottomOf=\"parent\" app:layout_constraintStart_toStartOf=\"parent\"\n    /&gt;\n    &lt;androidx.recyclerview.widget.RecyclerView\n            android:layout_width=\"0dp\"\n            android:layout_height=\"0dp\"\n            app:layoutManager=\"androidx.recyclerview.widget.LinearLayoutManager\"\n            app:layout_constraintTop_toTopOf=\"parent\" app:layout_constraintStart_toStartOf=\"parent\"\n            app:layout_constraintEnd_toEndOf=\"parent\" app:layout_constraintBottom_toTopOf=\"@+id/button\"\n            android:id=\"@+id/recyclerView\"/&gt;\n    &lt;EditText\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:inputType=\"textPersonName\"\n            android:ems=\"10\"\n            android:id=\"@+id/editText\"\n            app:layout_constraintStart_toEndOf=\"@+id/button\" app:layout_constraintEnd_toEndOf=\"parent\"\n            app:layout_constraintBottom_toBottomOf=\"parent\"/&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-imageview", "android-custom-view"], "answers": [{"comments": [{"owner": {"reputation": 711, "user_id": 8528992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc8cf91c4b5dde63b0c92ecc115be04?s=128&d=identicon&r=PG&f=1", "display_name": "Roman", "link": "https://stackoverflow.com/users/8528992/roman"}, "edited": false, "score": 0, "creation_date": 1562752598, "post_id": 56968087, "comment_id": 100473051, "body": "But how i know texview draws by textview.layout(l,t,r,b). cause its viewgroup"}, {"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "reply_to_user": {"reputation": 711, "user_id": 8528992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc8cf91c4b5dde63b0c92ecc115be04?s=128&d=identicon&r=PG&f=1", "display_name": "Roman", "link": "https://stackoverflow.com/users/8528992/roman"}, "edited": false, "score": 0, "creation_date": 1562752916, "post_id": 56968087, "comment_id": 100473259, "body": "In general I would make custom ImageView with overriding drawing bottom part where you need to leave gap, then would add TextView with background using Constraint layout and thats it"}, {"owner": {"reputation": 711, "user_id": 8528992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc8cf91c4b5dde63b0c92ecc115be04?s=128&d=identicon&r=PG&f=1", "display_name": "Roman", "link": "https://stackoverflow.com/users/8528992/roman"}, "edited": false, "score": 0, "creation_date": 1562753263, "post_id": 56968087, "comment_id": 100473479, "body": "how would u implement this curved white background ?"}, {"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "reply_to_user": {"reputation": 711, "user_id": 8528992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc8cf91c4b5dde63b0c92ecc115be04?s=128&d=identicon&r=PG&f=1", "display_name": "Roman", "link": "https://stackoverflow.com/users/8528992/roman"}, "edited": false, "score": 0, "creation_date": 1562753674, "post_id": 56968087, "comment_id": 100473694, "body": "By extending ImageView  and customizing shape of it and not drawing where curved white background should be"}, {"owner": {"reputation": 711, "user_id": 8528992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc8cf91c4b5dde63b0c92ecc115be04?s=128&d=identicon&r=PG&f=1", "display_name": "Roman", "link": "https://stackoverflow.com/users/8528992/roman"}, "edited": false, "score": 0, "creation_date": 1562754038, "post_id": 56968087, "comment_id": 100473872, "body": "u mean that u will track position of textview ?"}, {"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "reply_to_user": {"reputation": 711, "user_id": 8528992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc8cf91c4b5dde63b0c92ecc115be04?s=128&d=identicon&r=PG&f=1", "display_name": "Roman", "link": "https://stackoverflow.com/users/8528992/roman"}, "edited": false, "score": 0, "creation_date": 1562754301, "post_id": 56968087, "comment_id": 100473993, "body": "No, when have custom image view with cropped curved corner, you can simply add textview on top and thats it"}, {"owner": {"reputation": 711, "user_id": 8528992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc8cf91c4b5dde63b0c92ecc115be04?s=128&d=identicon&r=PG&f=1", "display_name": "Roman", "link": "https://stackoverflow.com/users/8528992/roman"}, "edited": false, "score": 0, "creation_date": 1562756075, "post_id": 56968087, "comment_id": 100474925, "body": "U said that u would use contraintlayout for adding textview, and shape imageview by creating custom view. I cant understand how u will know positions of this two elements. Textview can be more wider. So textview position cant be hardcoded."}, {"owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "reply_to_user": {"reputation": 711, "user_id": 8528992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc8cf91c4b5dde63b0c92ecc115be04?s=128&d=identicon&r=PG&f=1", "display_name": "Roman", "link": "https://stackoverflow.com/users/8528992/roman"}, "edited": false, "score": 0, "creation_date": 1562757394, "post_id": 56968087, "comment_id": 100475612, "body": "Using ConstraintLayout"}], "tags": [], "owner": {"reputation": 2317, "user_id": 5503940, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e3QR3jFocsw/AAAAAAAAAAI/AAAAAAAAACE/jBeWHb1Cpqk/photo.jpg?sz=128", "display_name": "Antonis Radz", "link": "https://stackoverflow.com/users/5503940/antonis-radz"}, "is_accepted": false, "score": 0, "last_activity_date": 1562752393, "creation_date": 1562752393, "answer_id": 56968087, "question_id": 56967901, "link": "https://stackoverflow.com/questions/56967901/create-custom-frame-for-image-in-android/56968087#56968087", "title": "Create custom frame for image in android", "body": "<p>Yes, you can draw <code>TextView</code> on top, just override <code>onDraw()</code> method and last items that you are drawing going to be on top</p>\n"}], "owner": {"reputation": 711, "user_id": 8528992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5dc8cf91c4b5dde63b0c92ecc115be04?s=128&d=identicon&r=PG&f=1", "display_name": "Roman", "link": "https://stackoverflow.com/users/8528992/roman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 202, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1563154550, "creation_date": 1562751817, "last_edit_date": 1563154550, "question_id": 56967901, "link": "https://stackoverflow.com/questions/56967901/create-custom-frame-for-image-in-android", "title": "Create custom frame for image in android", "body": "<p>I have a list of cards. These cards contain images. So I have to create a custom frame for an image with bottom info block.</p>\n\n<p>It must be customizable cause I'm using it diff version few times.</p>\n\n<p>I've tried to create a custom view group with ImageView, one TextView and one Path with corner radius, but it's hard because I can't draw TextView on top of the path which is on top of the ImageView.</p>\n\n<pre><code> override fun onLayout(changed: Boolean, left: Int, top: Int, right: Int, bottom: Int) {\n\n    imageView.layout(\n        left,\n        top,\n        right,\n        bottom - 50\n    )\n\n    textView.layout(\n        500, 700,\n        600,\n        800\n    )\n}\n\noverride fun dispatchDraw(canvas: Canvas?) {\n    super.dispatchDraw(canvas)\n    canvas!!.drawPath(mBottomShape, mBottomShapePaint)\n}\n\noverride fun onMeasure(widthMeasureSpec: Int, heightMeasureSpec: Int) {\n    viewWidth = MeasureSpec.getSize(widthMeasureSpec)\n    viewHeight = MeasureSpec.getSize(heightMeasureSpec)\n\n    val bottom = viewHeight - 50\n\n    mBottomShape.moveTo(viewWidth * 0.47F, bottom.toFloat() * 1.01f)\n    mBottomShape.lineTo(viewWidth * 0.53F, bottom * 0.99F)\n    mBottomShape.lineTo(viewWidth * 0.55F, bottom * 0.93F)\n    mBottomShape.lineTo(viewWidth * 0.7F, bottom * 0.93F)\n    mBottomShape.lineTo(viewWidth * 0.72F, bottom * 0.99F)\n    mBottomShape.lineTo(viewWidth * 0.78F, bottom.toFloat() * 1.01f)\n\n    mBottomShape.close()\n\n    setMeasuredDimension(viewWidth, viewHeight)\n}\n</code></pre>\n\n<p>What i need to achieve : </p>\n\n<p><a href=\"https://i.stack.imgur.com/W04Ll.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W04Ll.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["kotlin", "corda"], "answers": [{"comments": [{"owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "edited": false, "score": 0, "creation_date": 1563284955, "post_id": 56988920, "comment_id": 100643174, "body": "(don&#39;t put version numbers into state class names) - we should version by package name, right?"}, {"owner": {"reputation": 1615, "user_id": 1197682, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/M9j1C.jpg?s=128&g=1", "display_name": "earizon", "link": "https://stackoverflow.com/users/1197682/earizon"}, "edited": false, "score": 0, "creation_date": 1567682969, "post_id": 56988920, "comment_id": 102040622, "body": "I think using a well defined set of constant objects and forcing one of them as default value if no real value is known at object initialization is safer than null.  For example a set of three objects:  [ NEEDS_UPDATE, NEEDS_UPDATE_RAISE_ON_GET, DOES_NOT_APPLY] will allows to create safer getters that can make sensible decisions about when it&#39;s appropriate to abort or continue when requesting for an un-initalized value after state evolution."}], "tags": [], "owner": {"reputation": 1253, "user_id": 2248578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba5684497366deaa0b727ca8a662bf59?s=128&d=identicon&r=PG", "display_name": "Mike Hearn", "link": "https://stackoverflow.com/users/2248578/mike-hearn"}, "is_accepted": true, "score": 4, "last_activity_date": 1562847240, "creation_date": 1562847240, "answer_id": 56988920, "question_id": 56967850, "link": "https://stackoverflow.com/questions/56967850/corda-state-evolution-nullable-vs-default-properties/56988920#56988920", "title": "Corda State Evolution - nullable vs. default properties", "body": "<p>I think you can make that work by marking the constructor with <code>@JvmOverloads</code> like this:</p>\n\n<pre><code>data class DummyState @JvmOverloads constructor(\n    override val participants: List&lt;AbstractParty&gt;,\n    val myNewProperty: String = \"blah\"\n) : ContractState\n</code></pre>\n\n<p>(don't put version numbers into state class names)</p>\n\n<p>The <code>@JvmOverloads</code> makes the \"old\" constructors visible to the deserialisation engine for matching.</p>\n\n<p>But, it's probably better to be explicit here with a line of code like:</p>\n\n<p><code>val inDefault: Boolean get() = myNewProperty ?: false</code></p>\n\n<p>or</p>\n\n<p><code>fun priceOr(default: Amount&lt;Currency&gt; = 0.USD) get() = price ?: default</code></p>\n\n<p>if you really want this.</p>\n\n<p>Backwards compatibility and default values need to be treated quite carefully. A common mistake is to use a default value of zero/empty string/false for newly introduced fields, even when those values are semantically meaningful to the app. That is, knowing that the old message didn't specify something is valuable information that shouldn't be lost or replaced with fragile sentinel values. Consider the new field \"price\". Prices can't be negative, so perhaps a developer sets a default value of zero. But pricing something as free is a meaningful thing to do - maybe not in today's business scenario, but perhaps tomorrow? Now you have a problem.</p>\n\n<p>Kotlin's type system and syntax is very good at dealing with missing values. It's so easy to substitute a default at the use-site using the <code>?:</code> operator, I'd be worried about establishing a convention of always supplying a default at the construction site that junior devs follow without being aware of the potential consequences. Explicitly exposing the fact that a default may be substituted forces people to think about whether that's really logical.</p>\n"}], "owner": {"reputation": 32231, "user_id": 1033686, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/KsvGz.jpg?s=128&g=1", "display_name": "Matthew Layton", "link": "https://stackoverflow.com/users/1033686/matthew-layton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 131, "favorite_count": 0, "accepted_answer_id": 56988920, "answer_count": 1, "score": 2, "last_activity_date": 1562847240, "creation_date": 1562751659, "last_edit_date": 1562752009, "question_id": 56967850, "link": "https://stackoverflow.com/questions/56967850/corda-state-evolution-nullable-vs-default-properties", "title": "Corda State Evolution - nullable vs. default properties", "body": "<p>In Corda, adding new properties to states (state evolution) requires that new properties are nullable in order to remain backwards compatible with previous versions of the state.</p>\n\n<pre><code>data class Version1DummyState(\n    override val participants: List&lt;AbstractParty&gt;\n) : ContractState\n\ndata class Version2DummyState(\n    override val participants: List&lt;AbstractParty&gt;,\n    val myNewProperty: String? = null\n) : ContractState\n</code></pre>\n\n<p>Since Kotlin also supports properties with default values, I'd like to know why state evolution is restricted to properties of <strong>nullable</strong> types only, but not non-nullable properties, provided that those properties have a default value?</p>\n\n<pre><code>data class Version2DumyState(\n    override val participants: List&lt;AbstractParty&gt;,\n    val myNewProperty: String = \"Hello, world.\"\n) : ContractState\n</code></pre>\n\n<p>My rationale for asking this came from looking at the implicit upgrade sample, in which the obligation state is upgraded to allow the obligor to default on their obligation. <code>true</code> and <code>false</code> accurately represent whether the obligor has defaulted, but <code>null</code> does not. The ability to upgrade with a default value of <code>false</code> seems more natural than using a nullable field.</p>\n"}, {"tags": ["android", "listview", "android-fragments", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1734, "user_id": 11555065, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--L0r5gTglDU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reu3uDuixeVthoBtPm9Z0JvHQn1kg/mo/photo.jpg?sz=128", "display_name": "DHAVAL ASODARIYA", "link": "https://stackoverflow.com/users/11555065/dhaval-asodariya"}, "is_accepted": true, "score": 2, "last_activity_date": 1578386233, "last_edit_date": 1578386233, "creation_date": 1562753641, "answer_id": 56968521, "question_id": 56967787, "link": "https://stackoverflow.com/questions/56967787/listview-adapter-in-a-fragment-giving-null-pointer-exception/56968521#56968521", "title": "Listview adapter in a fragment giving null pointer exception", "body": "<p>You are trying to define lvElevator before fragment inflate the xml layout file.\nThere is two way to fix it.</p>\n\n<p><strong>1)</strong> Use <strong><code>onViewCreated()</code></strong> method instead to load data into views. And use onCreateView method to just inflate the view only.</p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    EList.add(E1List(1))\n    EList.add(E1List(2))\n    var EAdapter = EleAdapter(EList)\n    lvElevator.adapter = EAdapter\n}\n</code></pre>\n\n<p><strong>2)</strong> Modify <code>onCreateView()</code> method like below.</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n\n    // Define views manually..\n    val view = inflater.inflate(R.layout.fragment_elevators, container, false)\n    val lvElevator = view.findViewById&lt;ListView&gt;(R.id.lvElevator)\n\n    EList.add(E1List(1))\n    EList.add(E1List(2))\n    var EAdapter = EleAdapter(EList)\n    lvElevator.adapter = EAdapter\n    return view\n}\n</code></pre>\n\n<p>As an experienced developer, I would recommended to use the first way as that method will only come in scope after layout completely inflated.  </p>\n"}], "owner": {"reputation": 13, "user_id": 11697705, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-G7O5ITqug-U/AAAAAAAAAAI/AAAAAAAAAnI/J6lrj0nFIOo/photo.jpg?sz=128", "display_name": "Shafiqur Rahman", "link": "https://stackoverflow.com/users/11697705/shafiqur-rahman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 1, "accepted_answer_id": 56968521, "answer_count": 1, "score": 0, "last_activity_date": 1578386233, "creation_date": 1562751436, "question_id": 56967787, "link": "https://stackoverflow.com/questions/56967787/listview-adapter-in-a-fragment-giving-null-pointer-exception", "title": "Listview adapter in a fragment giving null pointer exception", "body": "<p>I made a listview in a fragment\nThere is a null pointer exception for the adapter of the list view\nBut the Arraylist and the adapter are not null.</p>\n\n<p>Error: lvElevator cannot be null</p>\n\n<p>The error is for the below line</p>\n\n<p><code>lvElevator.adapter = EAdapter</code></p>\n\n<h2>Fragment Class</h2>\n\n<pre><code>\nvar EList=ArrayList&lt;E1List&gt;()\n\nclass EDetails: Fragment() {\n\n    override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        EList.add(E1List(1))\n        EList.add(E1List(2))\n        var EAdapter = EleAdapter(EList)\n        lvElevator.adapter = EAdapter\n        return inflater.inflate(R.layout.fragment_elevators, container, false)\n\n    }\n\n    inner class EleAdapter : BaseAdapter {\n        var EListAdapter = ArrayList&lt;E1List&gt;()\n\n        constructor(EListAdapter: ArrayList&lt;E1List&gt;) : super() {\n            this.EListAdapter = EListAdapter\n        }\n\n        override fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n            var myView = layoutInflater.inflate(R.layout.elevator_ticket, null)\n            var myEle = EListAdapter[position]\n            myView.tvEnum.text = myEle.elevatornum.toString()\n            return myView\n        }\n\n        override fun getItem(position: Int): Any {\n            return EListAdapter[position]\n        }\n\n        override fun getItemId(position: Int): Long {\n            return position.toLong()\n        }\n\n        override fun getCount(): Int {\n            return EListAdapter.size\n        }\n\n    }\n}\n\n</code></pre>\n"}, {"tags": ["javascript", "json", "web", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10062208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c1e05dc999f8d92f075c4871bd69b64?s=128&d=identicon&r=PG&f=1", "display_name": "Sean Park", "link": "https://stackoverflow.com/users/10062208/sean-park"}, "edited": false, "score": 0, "creation_date": 1562751350, "post_id": 56967615, "comment_id": 100472382, "body": "This is actually a test given by my supervisor so I&#39;m pretty sure there is an easier way to do it instead of firebase. I was given a website link that I can edit with html and he told me to do it using android studio and the website"}], "tags": [], "owner": {"reputation": 43, "user_id": 11244457, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/eefc2927afd0d48a9c9c62d9da8ff9d8?s=128&d=identicon&r=PG&f=1", "display_name": "stefan", "link": "https://stackoverflow.com/users/11244457/stefan"}, "is_accepted": false, "score": 0, "last_activity_date": 1562750883, "creation_date": 1562750883, "answer_id": 56967615, "question_id": 56967413, "link": "https://stackoverflow.com/questions/56967413/how-to-send-json-data-from-android-app-to-website/56967615#56967615", "title": "How to send json data from android app to website", "body": "<p>You could use websockets to make the communication real time.</p>\n\n<p>From what I understood you want the data to be shown on the website as soon as it is sent from the android application.</p>\n\n<p>To achieve that use a solution like Firebase that allows you to setup real time databases and make updates in real time. </p>\n\n<p>Go on that link to see how it is done on android <a href=\"https://firebase.google.com/docs/android/setup\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/android/setup</a></p>\n\n<p>And here <a href=\"https://firebase.google.com/docs/web/setup\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/web/setup</a> to check how it is done on the web</p>\n"}], "owner": {"reputation": 1, "user_id": 10062208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c1e05dc999f8d92f075c4871bd69b64?s=128&d=identicon&r=PG&f=1", "display_name": "Sean Park", "link": "https://stackoverflow.com/users/10062208/sean-park"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562751770, "creation_date": 1562750271, "last_edit_date": 1562751770, "question_id": 56967413, "link": "https://stackoverflow.com/questions/56967413/how-to-send-json-data-from-android-app-to-website", "title": "How to send json data from android app to website", "body": "<p>I'm trying to send an Android edittext in JSON form to display the data on a website in webview in the app. This has to work simultaneously as the user clicks a button in the app. I've looked all around stackoverflow and youtube but haven't found a way to do so. The part I'm having trouble is how to send the data to url and how to retrieve it using javascript. I would just like guidance on what to use and how to do so. The person that gave me this work said that I don't need access to a server. Thank you! </p>\n\n<p>For reference:</p>\n\n<p>This is mainactivity from app:</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)    \n        button.setOnClickListener() {\n            val inputValue: String? = input_area.text.toString()\n            if (inputValue == null || inputValue.trim() == \"\") {\n                //if (inputValue.trim() == \"\") {\n                Toast.makeText(this, \"Please input data\", Toast.LENGTH_LONG).show()\n            }\n            else {\n                val toSend= JSONObject()\n                toSend.put(\"input\", inputValue)\n            }\n        }\n    }\n    private inner class Callback : WebViewClient() {  \n\n        override fun shouldOverrideUrlLoading(view: WebView, url: String): Boolean {\n            return false\n        }\n\n    }\n}\n</code></pre>\n\n<p>This is my html for where I need to receive the data:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Hello&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;p id=\"demo\"&gt;&lt;/p&gt;\n\n&lt;script&gt;\n    var xmlhttp = new XMLHttpRequest();\n    xmlhttp.onreadystatechange = function() {\n        if (this.readyState == 4 &amp;&amp; this.status == 200) {\n            var myObj = JSON.parse(this.responseText);\n            document.getElementById(\"demo\").innerHTML = myObj.input;\n        }\n    };\n    xmlhttp.open(\"GET\", \"\", true);\n    xmlhttp.send();\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "observable", "rx-java2"], "answers": [{"tags": [], "owner": {"reputation": 685, "user_id": 5142382, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c7a04c77761b18b2e2f55a1daddb794?s=128&d=identicon&r=PG", "display_name": "ctranxuan", "link": "https://stackoverflow.com/users/5142382/ctranxuan"}, "is_accepted": false, "score": 0, "last_activity_date": 1562847915, "creation_date": 1562847915, "answer_id": 56989149, "question_id": 56967304, "link": "https://stackoverflow.com/questions/56967304/how-to-chain-operator-on-flatmap/56989149#56989149", "title": "How to chain operator on flatmap", "body": "<p>Have you tried to use <code>flatMapMaybe()</code> instead:</p>\n\n\n\n<pre><code>    companion object {\n    fun create(): Single&lt;WikiApiService&gt;? {\n        return Single.just(\n            Retrofit.Builder()\n                .addCallAdapterFactory(\n                    RxJava2CallAdapterFactory.create()\n                )\n                .addConverterFactory(\n                    GsonConverterFactory.create()\n                )\n                .baseUrl(\"https://en.wikipedia.org/w/\")\n                .build())\n            //workin.flatMap {  Maybe.just(it.create(WikiApiService::class.java)).toSingle()}\n            .flatMapMaybe {retrofit-&gt;Maybe.just(retrofit)}\n            .//cant chain any further operators\n\n            }\n    }\n}\n</code></pre>\n\n<p>? or convert the <code>Maybe</code> into a <code>Single</code> depending on what you wish to chain:</p>\n\n\n\n<pre><code>    companion object {\n    fun create(): Single&lt;WikiApiService&gt;? {\n        return Single.just(\n            Retrofit.Builder()\n                .addCallAdapterFactory(\n                    RxJava2CallAdapterFactory.create()\n                )\n                .addConverterFactory(\n                    GsonConverterFactory.create()\n                )\n                .baseUrl(\"https://en.wikipedia.org/w/\")\n                .build())\n            //workin.flatMap {  Maybe.just(it.create(WikiApiService::class.java)).toSingle()}\n            .flatMap {retrofit-&gt;Maybe.just(retrofit).toSingle() }\n            .//cant chain any further operators\n\n            }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11750595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd35dcf4e9f1138bdba7b59a84b36fe6?s=128&d=identicon&r=PG&f=1", "display_name": "Amr", "link": "https://stackoverflow.com/users/11750595/amr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562847915, "creation_date": 1562749842, "question_id": 56967304, "link": "https://stackoverflow.com/questions/56967304/how-to-chain-operator-on-flatmap", "title": "How to chain operator on flatmap", "body": "<p>in the below code, in the companion object, the create method sould return Single. as the code indicates, the final operator i used is flatmap() to convert the retrofit object to Maybe.just to make sure it is not null.\nhowever, when i usse this operator</p>\n\n<pre><code>                 .flatMap {retrofit-&gt;Maybe.just(retrofit)}\n</code></pre>\n\n<p>i could not chain any further operators to convert the returned value from the aforementioned flatmap to Single. please let me know why i cant chain any further operators on the aforementioned code, also\nplease find the code posted below</p>\n\n<p><strong>code</strong></p>\n\n<pre><code>interface WikiApiService {\n@GET(\"api.php\")\nfun hitCountCheck(\n    @Query(\"action\") action: String,\n    @Query(\"format\") format: String,\n    @Query(\"list\") list: String,\n    @Query(\"srsearch\") srsearch: String\n):\n        Observable&lt;ResponseObjectModelForQuery.ResultOfQuery&gt;\n\n@GET(\"api.php\")\nfun hitContinue2(\n    @Query(\"action\") action: String,\n    @Query(\"format\") format: String,\n    @Query(\"list\") list: String,\n    @Query(\"srsearch\") srsearch: String\n):\n        Observable&lt;ResponseObjectModelForContinueSrOffset.ResultOfContinueSrOffset&gt;\n\n@GET(\"api.php\")\nfun hitContinue3(\n    @Query(\"action\") action: String,\n    @Query(\"format\") format: String,\n    @Query(\"list\") list: String,\n    @Query(\"srsearch\") srsearch: String\n):\n        Observable&lt;ResponseObjectModelForContinueContinue.Continue&gt;\n\n//why do we need a companion object\ncompanion object {\n    fun create(): Single&lt;WikiApiService&gt;? {\n        return Single.just(\n            Retrofit.Builder()\n                .addCallAdapterFactory(\n                    RxJava2CallAdapterFactory.create()\n                )\n                .addConverterFactory(\n                    GsonConverterFactory.create()\n                )\n                .baseUrl(\"https://en.wikipedia.org/w/\")\n                .build())\n            //workin.flatMap { Maybe.just(it.create(WikiApiService::class.java)).toSingle()}\n            .flatMap {retrofit-&gt;Maybe.just(retrofit)}\n            .//cant chain any further operators\n\n            }\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-contentprovider", "android-contentresolver"], "answers": [{"comments": [{"owner": {"reputation": 3171, "user_id": 1868207, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/orxp5.jpg?s=128&g=1", "display_name": "Nirav Tukadiya", "link": "https://stackoverflow.com/users/1868207/nirav-tukadiya"}, "edited": false, "score": 0, "creation_date": 1562750866, "post_id": 56967518, "comment_id": 100472064, "body": "in which class MyContentProvider?"}, {"owner": {"reputation": 303, "user_id": 7094064, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J3s73V_Y6cw/AAAAAAAAAAI/AAAAAAAAABo/gIHPX6dD1PM/photo.jpg?sz=128", "display_name": "Akshay Kumar S", "link": "https://stackoverflow.com/users/7094064/akshay-kumar-s"}, "reply_to_user": {"reputation": 3171, "user_id": 1868207, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/orxp5.jpg?s=128&g=1", "display_name": "Nirav Tukadiya", "link": "https://stackoverflow.com/users/1868207/nirav-tukadiya"}, "edited": false, "score": 1, "creation_date": 1562751118, "post_id": 56967518, "comment_id": 100472222, "body": "while you extent ContentProvider in your class, this method should be overridden. <code>class MyContentProvider : ContentProvider()</code>"}, {"owner": {"reputation": 3171, "user_id": 1868207, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/orxp5.jpg?s=128&g=1", "display_name": "Nirav Tukadiya", "link": "https://stackoverflow.com/users/1868207/nirav-tukadiya"}, "edited": false, "score": 0, "creation_date": 1562751309, "post_id": 56967518, "comment_id": 100472355, "body": "you are a life saver, man! Thanks a lot. Accepted the answer."}, {"owner": {"reputation": 187, "user_id": 7505665, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e73e1d9b5f71e8025c370118cc475e6a?s=128&d=identicon&r=PG&f=1", "display_name": "ShadeToD", "link": "https://stackoverflow.com/users/7505665/shadetod"}, "edited": false, "score": 0, "creation_date": 1600688979, "post_id": 56967518, "comment_id": 113156740, "body": "in my case, I removed &quot;?&quot; from projection so adding it again fixed my problem."}], "tags": [], "owner": {"reputation": 303, "user_id": 7094064, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J3s73V_Y6cw/AAAAAAAAAAI/AAAAAAAAABo/gIHPX6dD1PM/photo.jpg?sz=128", "display_name": "Akshay Kumar S", "link": "https://stackoverflow.com/users/7094064/akshay-kumar-s"}, "is_accepted": true, "score": 5, "last_activity_date": 1562750592, "creation_date": 1562750592, "answer_id": 56967518, "question_id": 56967265, "link": "https://stackoverflow.com/questions/56967265/parameter-specified-as-non-null-is-null-parameter-projection-content-provider-k/56967518#56967518", "title": "Parameter specified as non-null is null: parameter projection Content Provider Kotlin", "body": "<p>Can you try this</p>\n\n<pre><code>override fun query(uri: Uri, projection: Array&lt;String&gt;?, selection: String?,\n               selectionArgs: Array&lt;String&gt;?, sortOrder: String?): Cursor? {\n\n//ur code\n\nreturn cursor\n}\n</code></pre>\n\n<p><a href=\"https://www.techotopia.com/index.php/A_Kotlin_Android_Content_Provider_Tutorial\" rel=\"noreferrer\">refer to this link</a></p>\n"}], "owner": {"reputation": 3171, "user_id": 1868207, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/orxp5.jpg?s=128&g=1", "display_name": "Nirav Tukadiya", "link": "https://stackoverflow.com/users/1868207/nirav-tukadiya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 206, "favorite_count": 0, "accepted_answer_id": 56967518, "answer_count": 1, "score": 1, "last_activity_date": 1562750592, "creation_date": 1562749698, "question_id": 56967265, "link": "https://stackoverflow.com/questions/56967265/parameter-specified-as-non-null-is-null-parameter-projection-content-provider-k", "title": "Parameter specified as non-null is null: parameter projection Content Provider Kotlin", "body": "<p>I am trying to query content provider from Kotlin file. Please see the code below:</p>\n\n<pre><code>var URI = Uri.parse(\"content://myprovider\")\nvar nameUri = Uri.withAppendedPath(URI, \"name\")\ncursor = contentResolver.query(nameUri, null, null, null, null)\n</code></pre>\n\n<p>When I run this code, I am getting below error</p>\n\n<pre><code>Caused by: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter projection\n    at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:165)\n    at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:135)\n    at android.content.ContentProviderProxy.query(ContentProviderNative.java:418)\n    at android.content.ContentResolver.query(ContentResolver.java:802)\n</code></pre>\n\n<p>Now, when I checked the query method signature in ContentResolver class, this is what it is</p>\n\n<pre><code>public final @Nullable Cursor query(@RequiresPermission.Read @NonNull Uri uri,\n        @Nullable String[] projection, @Nullable String selection,\n        @Nullable String[] selectionArgs, @Nullable String sortOrder)\n</code></pre>\n\n<p>As you can see, everything apart from Uri can be Nullable, so technically it should not throw this error.</p>\n\n<p>Also, I tried giving projection but then it threw an error for selectionArgs.</p>\n\n<p>Please help. Thanks in advance.</p>\n\n<p><strong><em>Note:</strong> Neither contentResolver not nameUri is null</em></p>\n"}, {"tags": ["java", "android", "kotlin", "android-asynctask", "background"], "comments": [{"owner": {"reputation": 42863, "user_id": 5381331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be17225d9277060275486934d07d7a72?s=128&d=identicon&r=PG&f=1", "display_name": "Phan Van Linh", "link": "https://stackoverflow.com/users/5381331/phan-van-linh"}, "edited": false, "score": 0, "creation_date": 1562746502, "post_id": 56966109, "comment_id": 100469483, "body": "did you call any API from <code>downloader</code>?"}, {"owner": {"reputation": 42863, "user_id": 5381331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be17225d9277060275486934d07d7a72?s=128&d=identicon&r=PG&f=1", "display_name": "Phan Van Linh", "link": "https://stackoverflow.com/users/5381331/phan-van-linh"}, "edited": false, "score": 1, "creation_date": 1562749843, "post_id": 56966109, "comment_id": 100471421, "body": "I found 1 thing interesting. If you remove the function <code>start</code>  in <code>MvpBackgroundInteraction</code>. and use <code>execute</code> function directly, it will not crash. I will try to find why it happened"}, {"owner": {"reputation": 1343, "user_id": 9005383, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-rymLhVRbsIw/AAAAAAAAAAI/AAAAAAAAG20/cTAJhtYO4mY/photo.jpg?sz=128", "display_name": "Tamim Attafi", "link": "https://stackoverflow.com/users/9005383/tamim-attafi"}, "reply_to_user": {"reputation": 42863, "user_id": 5381331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be17225d9277060275486934d07d7a72?s=128&d=identicon&r=PG&f=1", "display_name": "Phan Van Linh", "link": "https://stackoverflow.com/users/5381331/phan-van-linh"}, "edited": false, "score": 0, "creation_date": 1562749925, "post_id": 56966109, "comment_id": 100471474, "body": "@PhanVanLinh that&#39;s exactly what I did, I called excute directly and it worked!"}], "owner": {"reputation": 1343, "user_id": 9005383, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh3.googleusercontent.com/-rymLhVRbsIw/AAAAAAAAAAI/AAAAAAAAG20/cTAJhtYO4mY/photo.jpg?sz=128", "display_name": "Tamim Attafi", "link": "https://stackoverflow.com/users/9005383/tamim-attafi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1562746769, "creation_date": 1562745900, "last_edit_date": 1562746769, "question_id": 56966109, "link": "https://stackoverflow.com/questions/56966109/asynctask-with-generics-java-lang-object-cannot-be-cast-to-java-lang-strin", "title": "AsyncTask with &lt;Generics&gt; - java.lang.Object[] cannot be cast to java.lang.String[]", "body": "<p>I'm trying to consume some API links. So in order to do that I have created a base <code>AsyncTask</code> class that differs by <code>SOURCE</code> and <code>RESULT</code> for each action in the app using generics.</p>\n\n<p>The problem is when I try to initialize one of the sub classes, it returns a <code>ClassCastException</code> error.</p>\n\n<p><strong>Here's the base Async class</strong></p>\n\n<pre><code>abstract class MvpBackgroundInteraction&lt;SOURCE, RESULT&gt; : AsyncTask&lt;SOURCE, Int, RESULT?&gt;(), MvpFeedContract.MvpFeedInteraction&lt;SOURCE, RESULT&gt; {\n\nprotected var isWorking: Boolean = true\nprotected var completeListener : MvpFeedContract.MvpCompleteListener&lt;RESULT&gt;? = null\n\noverride fun start(source: SOURCE) {\n    super.execute(source)\n}\n\noverride fun stop() {\n    isWorking = false\n}\n\n\noverride fun addCompleteListener(completeListener: MvpFeedContract.MvpCompleteListener&lt;RESULT&gt;?) {\n    this.completeListener = completeListener\n}\n\noverride fun onPostExecute(result: RESULT?) {\n    completeListener?.apply {\n        if (result != null) onComplete(result) else onFailure(\"Result is null\")\n    }\n    super.onPostExecute(result)\n}\n\n}\n</code></pre>\n\n<p><strong>Here's MvpFeedContract</strong></p>\n\n<pre><code>interface MvpFeedContract {\n\ninterface MvpFeedInteraction&lt;SOURCE, RESULT&gt; {\n    fun start(source : SOURCE)\n    fun stop()\n    fun addCompleteListener(completeListener: MvpCompleteListener&lt;RESULT&gt;?)\n}\n\ninterface MvpCompleteListener&lt;RESULT&gt; {\n    fun onComplete(result : RESULT)\n    fun onFailure(message : String?)\n}\n}\n</code></pre>\n\n<p><strong>Here's one of the sub classes that returns that error</strong></p>\n\n<pre><code>class MvpDownloader : MvpBackgroundInteraction&lt;String, InputStream&gt;() {\n\noverride fun doInBackground(vararg p0: String): InputStream? {\n    return try {\n        if (isWorking) downloadUrl(p0[0]) else null\n    } catch (e : Exception) {\n        Log.e(\"MvpParser\", e.message ?: \"error\")\n        null\n    }\n}\n\ncompanion object {\n    @Throws(IOException::class)\n    private fun downloadUrl(urlString: String): InputStream? {\n        val url = URL(urlString)\n        return (url.openConnection() as? HttpURLConnection)?.run {\n            readTimeout = 10000\n            connectTimeout = 15000\n            requestMethod = \"GET\"\n            doInput = true\n            connect()\n            inputStream\n        }\n    }\n}\n}\n</code></pre>\n\n<p><strong>Here's how I'm initializing it and some similar classes</strong></p>\n\n<pre><code>private val downloader : MvpDownloader by lazy { MvpDownloader() }\nprivate val parser : MvpParser&lt;OBJECT&gt; by lazy { MvpParser&lt;OBJECT&gt;() }\nprivate val cashier : MvpCashier&lt;OBJECT&gt; by lazy { MvpCashier&lt;OBJECT&gt;(baseDao) }\n</code></pre>\n\n<p><strong>Here's the returned logcat</strong></p>\n\n<pre><code>2019-07-10 14:55:11.962 1708-1729/com.tamimattafi.degitalnomads E/AndroidRuntime: FATAL EXCEPTION: AsyncTask #1\nProcess: com.tamimattafi.degitalnomads, PID: 1708\njava.lang.RuntimeException: An error occurred while executing doInBackground()\n    at android.os.AsyncTask$3.done(AsyncTask.java:330)\n    at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:354)\n    at java.util.concurrent.FutureTask.setException(FutureTask.java:223)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:242)\n    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:255)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\n    at java.lang.Thread.run(Thread.java:776)\n Caused by: java.lang.ClassCastException: java.lang.Object[] cannot be cast to java.lang.String[]\n    at com.tamimattafi.degitalnomads.repository.feed.MvpDownloader.doInBackground(MvpDownloader.kt:10)\n    at android.os.AsyncTask$2.call(AsyncTask.java:316)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:255)\u00a0\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1133)\u00a0\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:607)\u00a0\n    at java.lang.Thread.run(Thread.java:776)\u00a0\n</code></pre>\n\n<p><strong>EDIT</strong>\n<strong>Here's my feed manager</strong></p>\n\n<pre><code>class FeedManager&lt;OBJECT&gt;(baseDao: BaseDao&lt;OBJECT&gt;) : MvpFeedContract.MvpFeedInteraction&lt;String, Boolean&gt; {\n\nprivate var isWorking = true\nprivate var completeListener: MvpFeedContract.MvpCompleteListener&lt;Boolean&gt;? = null\n\nprivate val downloader : MvpDownloader by lazy { MvpDownloader() }\nprivate val parser : MvpParser&lt;OBJECT&gt; by lazy { MvpParser&lt;OBJECT&gt;() }\nprivate val cashier : MvpCashier&lt;OBJECT&gt; by lazy { MvpCashier&lt;OBJECT&gt;(baseDao) }\n\noverride fun start(source: String) {\n    downloadFeed(source)\n}\n\nprivate fun downloadFeed(link : String) {\n    downloader.apply {\n        addCompleteListener(object :\n            MvpFeedContract.MvpCompleteListener&lt;InputStream&gt; {\n            override fun onComplete(result: InputStream) {\n                parseFeed(result)\n            }\n\n            override fun onFailure(message: String?) {\n                completeListener?.onFailure(message)\n            }\n\n        })\n        start(link)\n    }\n}\n\nprivate fun parseFeed(result: InputStream) {\n    parser.apply {\n        addCompleteListener(object :\n            MvpFeedContract.MvpCompleteListener&lt;List&lt;OBJECT&gt;&gt; {\n            override fun onComplete(result: List&lt;OBJECT&gt;) {\n                cashFeed(result)\n            }\n\n            override fun onFailure(message: String?) {\n                completeListener?.onFailure(message)\n            }\n\n        })\n        start(result)\n    }\n}\n\nprivate fun cashFeed(result: List&lt;OBJECT&gt;) {\n    cashier.apply {\n        addCompleteListener(object :\n            MvpFeedContract.MvpCompleteListener&lt;Boolean&gt; {\n            override fun onComplete(result: Boolean) {\n                completeListener?.onComplete(result)\n            }\n\n            override fun onFailure(message: String?) {\n                completeListener?.onFailure(message)\n            }\n\n        })\n        start(result)\n    }\n}\n\n\noverride fun stop() {\n    isWorking = false\n    downloader.stop()\n    parser.stop()\n    cashier.stop()\n}\n\noverride fun addCompleteListener(completeListener: MvpFeedContract.MvpCompleteListener&lt;Boolean&gt;?) {\n    this.completeListener = completeListener\n}\n\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2702, "user_id": 7254873, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jfQVFidpSlo/AAAAAAAAAAI/AAAAAAAAAFM/DBb8C8t0w64/photo.jpg?sz=128", "display_name": "Sumit Shukla", "link": "https://stackoverflow.com/users/7254873/sumit-shukla"}, "edited": false, "score": 0, "creation_date": 1562746059, "post_id": 56966071, "comment_id": 100469279, "body": "<a href=\"https://stackoverflow.com/a/56764829/7254873\">stackoverflow.com/a/56764829/7254873</a>"}, {"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "edited": false, "score": 0, "creation_date": 1562746354, "post_id": 56966071, "comment_id": 100469416, "body": "@AbhishekPharasi check my answer below"}], "answers": [{"comments": [{"owner": {"reputation": 6305, "user_id": 389649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fc842fef375d0c258c3762684d149d1?s=128&d=identicon&r=PG", "display_name": "Cristan", "link": "https://stackoverflow.com/users/389649/cristan"}, "edited": false, "score": 0, "creation_date": 1562748131, "post_id": 56966108, "comment_id": 100470337, "body": "No it doesn&#39;t. But add a question mark and it works: use <code>?.let</code> instead."}, {"owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "reply_to_user": {"reputation": 6305, "user_id": 389649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fc842fef375d0c258c3762684d149d1?s=128&d=identicon&r=PG", "display_name": "Cristan", "link": "https://stackoverflow.com/users/389649/cristan"}, "edited": false, "score": 0, "creation_date": 1562749465, "post_id": 56966108, "comment_id": 100471184, "body": "@Cristan Silly mistake. I just added it. Thanks"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1562753964, "post_id": 56966108, "comment_id": 100473847, "body": "<code>it</code> will not be <code>bucket</code> as in the question."}], "tags": [], "owner": {"reputation": 7494, "user_id": 4079010, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/6JOy3.jpg?s=128&g=1", "display_name": "Rahul Khurana", "link": "https://stackoverflow.com/users/4079010/rahul-khurana"}, "is_accepted": false, "score": 2, "last_activity_date": 1562754470, "last_edit_date": 1562754470, "creation_date": 1562745897, "answer_id": 56966108, "question_id": 56966071, "link": "https://stackoverflow.com/questions/56966071/kotlin-let-null-safety/56966108#56966108", "title": "Kotlin .let {} null safety", "body": "<p>Kotlin <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/let.html\" rel=\"nofollow noreferrer\"><code>.let{}</code></a> method provides null safety</p>\n\n<pre><code>bucket?.assignedVariantName?.let { \n    // use `it` as non-null variable\n    it.determineVariant()\n}\n</code></pre>\n\n<p>You need to use <code>it</code> inside the let block to use it.</p>\n"}, {"tags": [], "owner": {"reputation": 1968, "user_id": 2164363, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/C8NQn.png?s=128&g=1", "display_name": "Bach Vu", "link": "https://stackoverflow.com/users/2164363/bach-vu"}, "is_accepted": false, "score": 4, "last_activity_date": 1562747114, "creation_date": 1562747114, "answer_id": 56966453, "question_id": 56966071, "link": "https://stackoverflow.com/questions/56966071/kotlin-let-null-safety/56966453#56966453", "title": "Kotlin .let {} null safety", "body": "<p>Since <code>bucket</code> is nullable, you don't need to call <code>let</code> on <code>assignedVariantName</code>, do it like this</p>\n\n<pre><code>bucket?.let { \n    it.determineVariant()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8306, "user_id": 10271334, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2ijZhRVumwM/AAAAAAAAAAI/AAAAAAAACes/Tjw_JgqObGI/photo.jpg?sz=128", "display_name": "Jeel Vankhede", "link": "https://stackoverflow.com/users/10271334/jeel-vankhede"}, "is_accepted": false, "score": 2, "last_activity_date": 1562747906, "last_edit_date": 1562747906, "creation_date": 1562747566, "answer_id": 56966577, "question_id": 56966071, "link": "https://stackoverflow.com/questions/56966071/kotlin-let-null-safety/56966577#56966577", "title": "Kotlin .let {} null safety", "body": "<p>Standard function <strong><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/let.html\" rel=\"nofollow noreferrer\">let()</a></strong> provides <strong>block</strong> as lambda method expression to <strong>callback</strong> on invocation. So, variable on which it's being called is passed as it in argument of <strong>block</strong>.</p>\n\n<p>So, if you use it on <strong>safe call operator</strong>, it provides you <strong>non-null variable</strong> as <strong><code>it</code></strong> in callback. You can also rename it whatever you want like below :</p>\n\n<pre><code>bucket?.assignedVariantName?.let { \n    it.determineVariant() //&lt;-- You can directly use it here\n}\n</code></pre>\n\n<p>or rename <strong>it</strong> like anything:</p>\n\n<pre><code>bucket?.assignedVariantName?.let { name -&gt;\n    name.determineVariant() //&lt;-- Renaming `it` to `name`\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 14117845, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b558dc16a16d567414c14ed6240448f6?s=128&d=identicon&r=PG&f=1", "display_name": "PrashanthR", "link": "https://stackoverflow.com/users/14117845/prashanthr"}, "is_accepted": false, "score": 0, "last_activity_date": 1597838786, "creation_date": 1597838786, "answer_id": 63486607, "question_id": 56966071, "link": "https://stackoverflow.com/questions/56966071/kotlin-let-null-safety/63486607#63486607", "title": "Kotlin .let {} null safety", "body": "<p>Because 'bucket' can be nullable variable there are different ways to make null safe calls in Kotlin, one of the standard method is using the 'let' function with safe call operator -'?'</p>\n<p>So if you want to guarantee safety for a bucket in this case, it should be,</p>\n<pre><code>      bucket?.let { nullSafeBucket -&gt;\n        nullSafeBucket.assignedVariantName?.let { nullSafeAssignedVariantName -&gt;\n            nullSafeBucket.determineVariant() -- &gt; bucket is null safe\n            //assignedVariantName is as well null safe\n        }\n    }\n</code></pre>\n<p>}</p>\n<p>Important to note -  bucket!! will throw NPE if the value is null which will lead to a crash, hence it is not recommended unless 100% sure that the value is not null.</p>\n"}], "owner": {"reputation": 11, "user_id": 9308765, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--lQbE80YHPw/AAAAAAAAAAI/AAAAAAAAABk/8KyyIhtw6q4/photo.jpg?sz=128", "display_name": "Abhishek Pharasi", "link": "https://stackoverflow.com/users/9308765/abhishek-pharasi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 507, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1597838786, "creation_date": 1562745761, "last_edit_date": 1562747348, "question_id": 56966071, "link": "https://stackoverflow.com/questions/56966071/kotlin-let-null-safety", "title": "Kotlin .let {} null safety", "body": "<p>When using the .let { } function I noticed that when doing the following: </p>\n\n<pre><code>bucket?.assignedVariantName.let { \n    bucket?.determineVariant() &lt;-- guarantee safety for bucket \n}\n</code></pre>\n\n<p>You have to guarantee safety for a bucket in this case i.e. bucket?. or bucket!! while null safety</p>\n"}, {"tags": ["android", "kotlin", "constructor", "viewmodel"], "comments": [{"owner": {"reputation": 861, "user_id": 7229971, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/AWdZL.jpg?s=128&g=1", "display_name": "KuLdip PaTel", "link": "https://stackoverflow.com/users/7229971/kuldip-patel"}, "edited": false, "score": 2, "creation_date": 1562745909, "post_id": 56965893, "comment_id": 100469195, "body": "do not pass in view in viewmodel class."}, {"owner": {"reputation": 861, "user_id": 7229971, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/AWdZL.jpg?s=128&g=1", "display_name": "KuLdip PaTel", "link": "https://stackoverflow.com/users/7229971/kuldip-patel"}, "edited": false, "score": 0, "creation_date": 1562745974, "post_id": 56965893, "comment_id": 100469231, "body": "also update you class like this &quot;class SettingsViewModel : ViewModel()&quot;."}, {"owner": {"reputation": 861, "user_id": 7229971, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/AWdZL.jpg?s=128&g=1", "display_name": "KuLdip PaTel", "link": "https://stackoverflow.com/users/7229971/kuldip-patel"}, "edited": false, "score": 0, "creation_date": 1562746093, "post_id": 56965893, "comment_id": 100469296, "body": "ViewModel&#39;s only responsibility is to manage the data for the UI. It should never access your view hierarchy or hold a reference back to the Activity or the Fragment. never pass any view in viewmodel class."}], "answers": [{"comments": [{"owner": {"reputation": 1644, "user_id": 2144418, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/dfae44b1577c9a6efeb4564861ffa5fd?s=128&d=identicon&r=PG", "display_name": "Aerim", "link": "https://stackoverflow.com/users/2144418/aerim"}, "edited": false, "score": 0, "creation_date": 1588264572, "post_id": 56966084, "comment_id": 108838736, "body": "Does this also apply to an <code>AndroidViewModel</code> that receives an application param?"}], "tags": [], "owner": {"reputation": 7540, "user_id": 4266957, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh5.googleusercontent.com/-hn2_WWVX1LQ/AAAAAAAAAAI/AAAAAAAAADM/AKc2MeKbj_M/photo.jpg?sz=128", "display_name": "Ricardo", "link": "https://stackoverflow.com/users/4266957/ricardo"}, "is_accepted": false, "score": 5, "last_activity_date": 1562745818, "creation_date": 1562745818, "answer_id": 56966084, "question_id": 56965893, "link": "https://stackoverflow.com/questions/56965893/cannot-create-an-instance-of-class-viewmodel-in-kotlin/56966084#56966084", "title": "Cannot create an instance of class ViewModel in Kotlin", "body": "<p>When you are initialising the ViewModel through ViewModelProviders without a factory, this means that you can only instantiate a ViewModel which has no constructor arguments. Like this: </p>\n\n<pre><code>viewmodel = ViewModelProviders.of(this).get(SettingsViewModel::class.java)\n</code></pre>\n\n<p>Notice that you cannot pass arguments to a .class call because you are not calling the constructor</p>\n\n<p>Since your ViewModel has constructor arguments you need to implement a ViewModelProvider.Factory in order to be able to retrieve its instance with given parameters.</p>\n\n<p>Here is a reference to android devs: <a href=\"https://developer.android.com/reference/android/arch/lifecycle/ViewModelProvider\" rel=\"noreferrer\">https://developer.android.com/reference/android/arch/lifecycle/ViewModelProvider</a></p>\n\n<p>Here refers to an article that can give you a insight on how to implement the factory: <a href=\"https://medium.com/@marco_cattaneo/android-viewmodel-and-factoryprovider-good-way-to-manage-it-with-dagger-2-d9e20a07084c\" rel=\"noreferrer\">https://medium.com/@marco_cattaneo/android-viewmodel-and-factoryprovider-good-way-to-manage-it-with-dagger-2-d9e20a07084c</a></p>\n"}, {"tags": [], "owner": {"reputation": 4200, "user_id": 10699119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aYUPn.jpg?s=128&g=1", "display_name": "sana ebadi", "link": "https://stackoverflow.com/users/10699119/sana-ebadi"}, "is_accepted": false, "score": 1, "last_activity_date": 1599381535, "creation_date": 1599381535, "answer_id": 63762265, "question_id": 56965893, "link": "https://stackoverflow.com/questions/56965893/cannot-create-an-instance-of-class-viewmodel-in-kotlin/63762265#63762265", "title": "Cannot create an instance of class ViewModel in Kotlin", "body": "<p>in my case, I forget to add</p>\n<pre><code>AndroidInjection.inject(this); \n</code></pre>\n<p>in my activity like this :</p>\n<pre><code> @Override\n    public void onCreate(Bundle savedInstanceState) {\n        AndroidInjection.inject(this);\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n</code></pre>\n"}], "owner": {"reputation": 905, "user_id": 6681228, "user_type": "registered", "accept_rate": 43, "profile_image": "https://graph.facebook.com/605116112999300/picture?type=large", "display_name": "Al Walid Ashik", "link": "https://stackoverflow.com/users/6681228/al-walid-ashik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3196, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1599381535, "creation_date": 1562745151, "question_id": 56965893, "link": "https://stackoverflow.com/questions/56965893/cannot-create-an-instance-of-class-viewmodel-in-kotlin", "title": "Cannot create an instance of class ViewModel in Kotlin", "body": "<p>I'm trying to initialize <strong>viewmodel</strong> in Fragment but each time I want to pass the interface in my viewmodel constructor it throws the error <strong>Cannot create an instance of class ViewModel</strong> \nAlso I don't have any problem in <strong>kotlin-kapt</strong> or any <strong>lifecycle annotations</strong></p>\n\n<p>here is my ViewModel class </p>\n\n<pre><code>class SettingsViewModel (\n       var settingsView: SettingsView\n    ) : ViewModel(){ }\n</code></pre>\n\n<p>and here is my fragment where i want to initialize the viewmodel</p>\n\n<pre><code>class SettingsFragment : Fragment(), SettingsView {\n\n     var viewmodel :SettingsViewModel? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n    }\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n\n         viewmodel = ViewModelProviders.of(this).get(SettingsViewModel(this)::class.java)\n\n        val binding =\n            DataBindingUtil.inflate&lt;FragmentSettingsBinding&gt;(inflater, R.layout.fragment_settings, container, false)\n                .apply{}\n\n\n        return binding.root\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "storage-access-framework"], "comments": [{"owner": {"reputation": 2598, "user_id": 930835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/48fcbc9b29db12ce391e5c379fc42203?s=128&d=identicon&r=PG", "display_name": "P5music", "link": "https://stackoverflow.com/users/930835/p5music"}, "edited": false, "score": 0, "creation_date": 1562745529, "post_id": 56965828, "comment_id": 100468989, "body": "As you can see here <a href=\"https://stackoverflow.com/questions/56931484/storage-access-provider-creation-of-folder-in-authorized-directory-fails\" title=\"storage access provider creation of folder in authorized directory fails\">stackoverflow.com/questions/56931484/&hellip;</a> I encountered a similar problem. According to CommonsWare it is because of the &quot;wrong&quot; intent action, although I think that it is SAF&#39;s fault and there is a bug. This is going to be fixed because some feature requests have been filed about this kind of issues by me and CommonsWare. Check my last questions."}, {"owner": {"reputation": 473, "user_id": 2196870, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f5ac5c274ef7dfb8dc92231d67b4f776?s=128&d=identicon&r=PG", "display_name": "m33ts4k0z", "link": "https://stackoverflow.com/users/2196870/m33ts4k0z"}, "reply_to_user": {"reputation": 2598, "user_id": 930835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/48fcbc9b29db12ce391e5c379fc42203?s=128&d=identicon&r=PG", "display_name": "P5music", "link": "https://stackoverflow.com/users/930835/p5music"}, "edited": false, "score": 0, "creation_date": 1562745655, "post_id": 56965828, "comment_id": 100469070, "body": "So in other words, creating an empty file is as far as we can get with your &quot;hack&quot;? We can&#39;t actually use your solution to create files, right?"}, {"owner": {"reputation": 473, "user_id": 2196870, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f5ac5c274ef7dfb8dc92231d67b4f776?s=128&d=identicon&r=PG", "display_name": "m33ts4k0z", "link": "https://stackoverflow.com/users/2196870/m33ts4k0z"}, "reply_to_user": {"reputation": 2598, "user_id": 930835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/48fcbc9b29db12ce391e5c379fc42203?s=128&d=identicon&r=PG", "display_name": "P5music", "link": "https://stackoverflow.com/users/930835/p5music"}, "edited": false, "score": 0, "creation_date": 1562745802, "post_id": 56965828, "comment_id": 100469145, "body": "@P5music Just noticed that just yesterday, the issue you created on google tracker was acknowledged as a defect and was forwarded for a fix. That is great actually. It means it will be fixed."}, {"owner": {"reputation": 2598, "user_id": 930835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/48fcbc9b29db12ce391e5c379fc42203?s=128&d=identicon&r=PG", "display_name": "P5music", "link": "https://stackoverflow.com/users/930835/p5music"}, "edited": false, "score": 0, "creation_date": 1562747081, "post_id": 56965828, "comment_id": 100469797, "body": "Still we have to expect issues and bugs for some time to come, I do not think all is due to the wrong intent action. I think SAF is not fully functional at present time, but it is going to be in the next future because its use will be mandatory as far as I understood. Even if it will not end up being mandatory it is very powerful and we want to use it, so our requests will be listened."}, {"owner": {"reputation": 473, "user_id": 2196870, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f5ac5c274ef7dfb8dc92231d67b4f776?s=128&d=identicon&r=PG", "display_name": "m33ts4k0z", "link": "https://stackoverflow.com/users/2196870/m33ts4k0z"}, "reply_to_user": {"reputation": 2598, "user_id": 930835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/48fcbc9b29db12ce391e5c379fc42203?s=128&d=identicon&r=PG", "display_name": "P5music", "link": "https://stackoverflow.com/users/930835/p5music"}, "edited": false, "score": 0, "creation_date": 1562747197, "post_id": 56965828, "comment_id": 100469858, "body": "But there is no other API in order to gain access to external storage right? We need to use SAF in order to be able to i.e. write in a subfolder in the SD card."}, {"owner": {"reputation": 2598, "user_id": 930835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/48fcbc9b29db12ce391e5c379fc42203?s=128&d=identicon&r=PG", "display_name": "P5music", "link": "https://stackoverflow.com/users/930835/p5music"}, "edited": false, "score": 0, "creation_date": 1562747323, "post_id": 56965828, "comment_id": 100469929, "body": "At present time you can, with suitable permissions in the manifest, using the File class and similar, but not in the future if SAF will be mandatory and no opting-out permissions for legacy apps on newest Android versions will be allowed."}, {"owner": {"reputation": 2598, "user_id": 930835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/48fcbc9b29db12ce391e5c379fc42203?s=128&d=identicon&r=PG", "display_name": "P5music", "link": "https://stackoverflow.com/users/930835/p5music"}, "edited": false, "score": 0, "creation_date": 1562747780, "post_id": 56965828, "comment_id": 100470130, "body": "I want also point out that it is not unlikely that the errors are mutating, because it&#39;s the server that answers with different responses, they maybe change something because they realized that accesses are attempted. So what I got with my early attempts could not be relevant anymore now."}, {"owner": {"reputation": 473, "user_id": 2196870, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f5ac5c274ef7dfb8dc92231d67b4f776?s=128&d=identicon&r=PG", "display_name": "m33ts4k0z", "link": "https://stackoverflow.com/users/2196870/m33ts4k0z"}, "reply_to_user": {"reputation": 2598, "user_id": 930835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/48fcbc9b29db12ce391e5c379fc42203?s=128&d=identicon&r=PG", "display_name": "P5music", "link": "https://stackoverflow.com/users/930835/p5music"}, "edited": false, "score": 0, "creation_date": 1562748801, "post_id": 56965828, "comment_id": 100470776, "body": "This is the exception that I get when I try to write to the file. Creating the file works without errors: Caused by: java.lang.SecurityException: Permission Denial: writing com.google.android.apps.docs.storagebackend.StorageBackendCo&zwnj;&#8203;ntentProvider uri content://com.google.android.apps.docs.storage/document/acc%&zwnj;&#8203;3D1%3Bdoc%3Dencoded%&zwnj;&#8203;3Dj5Pyf60pC5BDC3FJk6&zwnj;&#8203;CGSyRkhpNEse5KHh0TOI&zwnj;&#8203;3xZ6WXB1tLrTSdf8PoN5&zwnj;&#8203;ir from pid=12449, uid=10343 requires android.permission.MANAGE_DOCUMENTS, or grantUriPermission()"}, {"owner": {"reputation": 2598, "user_id": 930835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/48fcbc9b29db12ce391e5c379fc42203?s=128&d=identicon&r=PG", "display_name": "P5music", "link": "https://stackoverflow.com/users/930835/p5music"}, "edited": false, "score": 0, "creation_date": 1562749773, "post_id": 56965828, "comment_id": 100471388, "body": "Yes, I think it&#39;s some new response from the server that causes the middleware react in a different way than before."}, {"owner": {"reputation": 2598, "user_id": 930835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/48fcbc9b29db12ce391e5c379fc42203?s=128&d=identicon&r=PG", "display_name": "P5music", "link": "https://stackoverflow.com/users/930835/p5music"}, "edited": false, "score": 0, "creation_date": 1562749983, "post_id": 56965828, "comment_id": 100471505, "body": "See also <a href=\"https://stackoverflow.com/questions/56931484/storage-access-provider-creation-of-folder-in-authorized-directory-fails\" title=\"storage access provider creation of folder in authorized directory fails\">stackoverflow.com/questions/56931484/&hellip;</a>"}, {"owner": {"reputation": 473, "user_id": 2196870, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f5ac5c274ef7dfb8dc92231d67b4f776?s=128&d=identicon&r=PG", "display_name": "m33ts4k0z", "link": "https://stackoverflow.com/users/2196870/m33ts4k0z"}, "reply_to_user": {"reputation": 2598, "user_id": 930835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/48fcbc9b29db12ce391e5c379fc42203?s=128&d=identicon&r=PG", "display_name": "P5music", "link": "https://stackoverflow.com/users/930835/p5music"}, "edited": false, "score": 0, "creation_date": 1563021865, "post_id": 56965828, "comment_id": 100569183, "body": "@P5music This is how I solved it for now. Check my answer."}], "answers": [{"comments": [{"owner": {"reputation": 2598, "user_id": 930835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/48fcbc9b29db12ce391e5c379fc42203?s=128&d=identicon&r=PG", "display_name": "P5music", "link": "https://stackoverflow.com/users/930835/p5music"}, "edited": false, "score": 0, "creation_date": 1563282271, "post_id": 57019279, "comment_id": 100641471, "body": "I avoid using that kind of APIs because in a few years I should have to rewrite my app because the deprecation of the API. If they can deprecate the File class on locations outside the internal app folders, they can do anything I fear, so better to depend on APIs less possible, for my part"}, {"owner": {"reputation": 473, "user_id": 2196870, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f5ac5c274ef7dfb8dc92231d67b4f776?s=128&d=identicon&r=PG", "display_name": "m33ts4k0z", "link": "https://stackoverflow.com/users/2196870/m33ts4k0z"}, "reply_to_user": {"reputation": 2598, "user_id": 930835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/48fcbc9b29db12ce391e5c379fc42203?s=128&d=identicon&r=PG", "display_name": "P5music", "link": "https://stackoverflow.com/users/930835/p5music"}, "edited": false, "score": 0, "creation_date": 1563293331, "post_id": 57019279, "comment_id": 100648324, "body": "@P5music yeah but actually we dont have a choice since google has deprecated GDAA and there is no other way to save files to drive directly."}, {"owner": {"reputation": 2598, "user_id": 930835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/48fcbc9b29db12ce391e5c379fc42203?s=128&d=identicon&r=PG", "display_name": "P5music", "link": "https://stackoverflow.com/users/930835/p5music"}, "edited": false, "score": 0, "creation_date": 1563453743, "post_id": 57019279, "comment_id": 100710821, "body": "I do not understand very well what your app does, but for now applications still can use the normal functions, mine included, the change will happen in next year as far as I know"}, {"owner": {"reputation": 473, "user_id": 2196870, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f5ac5c274ef7dfb8dc92231d67b4f776?s=128&d=identicon&r=PG", "display_name": "m33ts4k0z", "link": "https://stackoverflow.com/users/2196870/m33ts4k0z"}, "reply_to_user": {"reputation": 2598, "user_id": 930835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/48fcbc9b29db12ce391e5c379fc42203?s=128&d=identicon&r=PG", "display_name": "P5music", "link": "https://stackoverflow.com/users/930835/p5music"}, "edited": false, "score": 0, "creation_date": 1563541354, "post_id": 57019279, "comment_id": 100744911, "body": "Yes it happens in december 2019"}, {"owner": {"reputation": 473, "user_id": 2196870, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f5ac5c274ef7dfb8dc92231d67b4f776?s=128&d=identicon&r=PG", "display_name": "m33ts4k0z", "link": "https://stackoverflow.com/users/2196870/m33ts4k0z"}, "reply_to_user": {"reputation": 2598, "user_id": 930835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/48fcbc9b29db12ce391e5c379fc42203?s=128&d=identicon&r=PG", "display_name": "P5music", "link": "https://stackoverflow.com/users/930835/p5music"}, "edited": false, "score": 0, "creation_date": 1563549473, "post_id": 57019279, "comment_id": 100749388, "body": "@P5music here is the roadmap: <a href=\"https://developers.google.com/drive/android/deprecation\" rel=\"nofollow noreferrer\">developers.google.com/drive/android/deprecation</a>"}, {"owner": {"reputation": 2598, "user_id": 930835, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/48fcbc9b29db12ce391e5c379fc42203?s=128&d=identicon&r=PG", "display_name": "P5music", "link": "https://stackoverflow.com/users/930835/p5music"}, "edited": false, "score": 0, "creation_date": 1563788280, "post_id": 57019279, "comment_id": 100801323, "body": "we are talking about different deprecations, a more drastic deprecation will be about the use of File class outside the private app folder <a href=\"https://commonsware.com/blog/2019/06/05/storage-access-framework-counterpoints.html\" rel=\"nofollow noreferrer\">commonsware.com/blog/2019/06/05/&hellip;</a>"}], "tags": [], "owner": {"reputation": 473, "user_id": 2196870, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f5ac5c274ef7dfb8dc92231d67b4f776?s=128&d=identicon&r=PG", "display_name": "m33ts4k0z", "link": "https://stackoverflow.com/users/2196870/m33ts4k0z"}, "is_accepted": true, "score": 0, "last_activity_date": 1563021827, "creation_date": 1563021827, "answer_id": 57019279, "question_id": 56965828, "link": "https://stackoverflow.com/questions/56965828/storage-access-framework-how-to-append-to-a-created-file-using-its-uri/57019279#57019279", "title": "Storage Access Framework - How to append to a created file using its URI?", "body": "<p>Since this can take forever to get fixed, I ended up using Google Drive's REST API v3 in order to meet my needs. I added another entry in my app's menu inviting the user to choose a google drive path.</p>\n\n<p>I created a new activity with a recyclerview which fetches all folders. I then added a button under each folder which allows the user to choose it as his/hers desired folder. I then save the folder ID in the sharedprefences on button click.</p>\n\n<p>When the time comes to upload the file, I create a new API create() request and I use the saved folder id as the parent of the soon to be uploaded file.</p>\n\n<p>Works pretty well but I didn't like the fact that I needed a second entry in the settings and that I needed 3 days to code all this from scratch.</p>\n"}], "owner": {"reputation": 473, "user_id": 2196870, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/f5ac5c274ef7dfb8dc92231d67b4f776?s=128&d=identicon&r=PG", "display_name": "m33ts4k0z", "link": "https://stackoverflow.com/users/2196870/m33ts4k0z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 0, "accepted_answer_id": 57019279, "answer_count": 1, "score": 2, "last_activity_date": 1563021827, "creation_date": 1562744884, "last_edit_date": 1562747250, "question_id": 56965828, "link": "https://stackoverflow.com/questions/56965828/storage-access-framework-how-to-append-to-a-created-file-using-its-uri", "title": "Storage Access Framework - How to append to a created file using its URI?", "body": "<p>Using the answer in <a href=\"https://stackoverflow.com/a/56633238/2196870\">this</a> post, I was able to use OPEN_CREATE_DOCUMENT as a folder picker in order for GDrive to appear in the list. The code in that answer creates an empty file. Now, I'm trying to append/write to that file. I tried using DocumentFile and openFileDescriptor. Both of them are failing. The latter with a permission denial exception saying that I need to add MANAGE_DOCUMENTS or \n use uripermission(). We cant use MANAGE_DOCUMENTS in the manifest since its a system permission and I haven't found a way to use the uripermission(). Here is the code:</p>\n\n<pre><code> var new_file = DocumentsContract.createDocument(context.contentResolver ,path,\"audio/mp3\",file)\n\n contentresolve.openFileDescriptor(new_file, \"w\")?.use {\n                val pathToNewFile = FileOutputStream(it.fileDescriptor)\n            val inFile = context.openFileInput(file).readBytes()\n            context.openFileOutput(file, Context.MODE_PRIVATE).use {\n                pathToNewFile.write(inFile)\n            }\n            File(absolutePath + File.separator + file).delete()\n        }\n</code></pre>\n\n<p>This is the intent:</p>\n\n<pre><code>folderPicker = Intent(Intent.ACTION_CREATE_DOCUMENT)\nfolderPicker.addFlags(\nIntent.FLAG_GRANT_READ_URI_PERMISSION\n       or Intent.FLAG_GRANT_WRITE_URI_PERMISSION\n       or Intent.FLAG_GRANT_PERSISTABLE_URI_PERMISSION\n       )\nfolderPicker.setType(\"vnd.android.document/directory\")\nstartActivityForResult(folderPicker, READ_REQUEST_BY_USER)\n</code></pre>\n\n<p>And this is the activity result:</p>\n\n<pre><code>            override fun onActivityResult(requestCode: Int, resultCode: Int, resultData: Intent?) {\n            super.onActivityResult(requestCode, resultCode, resultData)\n            if (requestCode == READ_REQUEST_BY_USER &amp;&amp; resultCode == Activity.RESULT_OK) {\n                resultData?.data?.also { uri -&gt;\n                    val takeFlags: Int = folderPicker.flags and (Intent.FLAG_GRANT_READ_URI_PERMISSION or Intent.FLAG_GRANT_WRITE_URI_PERMISSION)\n                    activity!!.contentResolver!!.persistedUriPermissions.forEach {\n                        activity!!.contentResolver!!.releasePersistableUriPermission(it.uri, takeFlags)\n                    }\n                    activity!!.contentResolver!!.takePersistableUriPermission(uri, takeFlags)\n                    val sharedPref = PreferenceManager.getDefaultSharedPreferences(activity?.baseContext)\n                    with (sharedPref.edit()) {\n                        putString(\"savePathURI\", uri.toString())\n                        putString(\"saveAuthority\", uri.authority)\n                        commit()\n                    }\n                }\n            }\n        }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "admob", "interstitial"], "answers": [{"comments": [{"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "reply_to_user": {"reputation": 1, "user_id": 3423740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f145ce5ffb93586775de7e38a9f4a667?s=128&d=identicon&r=PG&f=1", "display_name": "Rcnithi", "link": "https://stackoverflow.com/users/3423740/rcnithi"}, "edited": false, "score": 0, "creation_date": 1562748350, "post_id": 56965603, "comment_id": 100470479, "body": "I don&#39;t have your code in front of me... you have to adapt a little bit on your side"}, {"owner": {"reputation": 1, "user_id": 3423740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f145ce5ffb93586775de7e38a9f4a667?s=128&d=identicon&r=PG&f=1", "display_name": "Rcnithi", "link": "https://stackoverflow.com/users/3423740/rcnithi"}, "edited": false, "score": 0, "creation_date": 1562748415, "post_id": 56965603, "comment_id": 100470513, "body": "can you help me please"}, {"owner": {"reputation": 1, "user_id": 3423740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f145ce5ffb93586775de7e38a9f4a667?s=128&d=identicon&r=PG&f=1", "display_name": "Rcnithi", "link": "https://stackoverflow.com/users/3423740/rcnithi"}, "edited": false, "score": 0, "creation_date": 1562748980, "post_id": 56965603, "comment_id": 100470889, "body": "how to send to you"}, {"owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "reply_to_user": {"reputation": 1, "user_id": 3423740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f145ce5ffb93586775de7e38a9f4a667?s=128&d=identicon&r=PG&f=1", "display_name": "Rcnithi", "link": "https://stackoverflow.com/users/3423740/rcnithi"}, "edited": false, "score": 0, "creation_date": 1562750767, "post_id": 56965603, "comment_id": 100471999, "body": "I think he has other problems (other than the initial problem) in your code. It&#39;s hard to help you"}], "tags": [], "owner": {"reputation": 300, "user_id": 7528285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212123161171300/picture?type=large", "display_name": "diAz", "link": "https://stackoverflow.com/users/7528285/diaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1562744403, "last_edit_date": 1562744403, "creation_date": 1562744092, "answer_id": 56965603, "question_id": 56965439, "link": "https://stackoverflow.com/questions/56965439/how-to-show-interstitial-ads-every-20-seconds-in-kotlin/56965603#56965603", "title": "How to show Interstitial ads every 20 seconds in Kotlin?", "body": "<p>You can use</p>\n\n<pre><code>private val refresh = Runnable { loadAd() }\n\nprivate fun loadAd() {\n        adsHandler.post {\n            mInterstitialAd.loadAd(AdRequest.Builder().build())\n            adsHandler.postDelayed(refresh, 20 * 1000) //called every 20 seconds\n        }\n}\n</code></pre>\n\n<p>and you can start your timer with <code>loadAd()</code></p>\n"}], "owner": {"reputation": 1, "user_id": 3423740, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f145ce5ffb93586775de7e38a9f4a667?s=128&d=identicon&r=PG&f=1", "display_name": "Rcnithi", "link": "https://stackoverflow.com/users/3423740/rcnithi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 558, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1562750088, "creation_date": 1562743442, "last_edit_date": 1562750088, "question_id": 56965439, "link": "https://stackoverflow.com/questions/56965439/how-to-show-interstitial-ads-every-20-seconds-in-kotlin", "title": "How to show Interstitial ads every 20 seconds in Kotlin?", "body": "<p>How to show Interstitial ads every 20 seconds in Kotlin?</p>\n\n<p>i used this steps to load ad after 20 seconds\ni want to load ad every 20 seconds in my app\nplease \nhelp</p>\n\n<pre><code>    //ads\n\n    // Sample AdMob app ID: ca-app-pub-3940256099942544~3347511713\n    MobileAds.initialize(this, \"ca-app-pub-3940256099942544~3347511713\")\n    mAdView = findViewById(R.id.adView)\n    val adRequest = AdRequest.Builder().build()\n    mAdView.loadAd(adRequest)\n    mInterstitialAd = InterstitialAd(this)\n    mInterstitialAd.adUnitId = \"ca-app-pub-3940256099942544/1033173712\"\n    mInterstitialAd.loadAd(AdRequest.Builder().build())\n\n    val adsHandler = object : Handler(Looper.getMainLooper()){\n        override fun handleMessage(msg: Message?) {\n            mInterstitialAd.show()\n        }\n    }\n\n    fun scheduleAd(){\n        adsHandler.sendEmptyMessageDelayed(0, 20)\n    }\n    mInterstitialAd.setAdListener(object : AdListener() {\n        override fun onAdLoaded() {\n            scheduleAd()\n        }\n\n        override fun onAdClosed() {\n            // reschedule\n            scheduleAd()\n        }\n    })\n\n    fun loadAd() {\n        adsHandler.post {\n            mInterstitialAd.loadAd(AdRequest.Builder().build())\n            adsHandler.postDelayed(refresh, 20 * 1000) //called every 20 seconds\n        }\n    }\n    //ads over\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 9541, "user_id": 1568530, "user_type": "registered", "accept_rate": 60, "profile_image": "https://graph.facebook.com/100001179991520/picture?type=large", "display_name": "Vladyslav Matviienko", "link": "https://stackoverflow.com/users/1568530/vladyslav-matviienko"}, "edited": false, "score": 0, "creation_date": 1562742748, "post_id": 56965223, "comment_id": 100467643, "body": "so you want to show this alert only in specific fragment?"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 7621975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aa152514f58bfc1cb5a598a70df424d?s=128&d=identicon&r=PG&f=1", "display_name": "m.karman", "link": "https://stackoverflow.com/users/7621975/m-karman"}, "edited": false, "score": 0, "creation_date": 1562743339, "post_id": 56965287, "comment_id": 100467931, "body": "how to used findFragmentById with fragment Id ?"}], "tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": true, "score": 4, "last_activity_date": 1562745085, "last_edit_date": 1562745085, "creation_date": 1562742857, "answer_id": 56965287, "question_id": 56965223, "link": "https://stackoverflow.com/questions/56965223/how-to-handle-back-pressed-in-kotlin/56965287#56965287", "title": "how to handle back pressed in Kotlin", "body": "<p>At first Check  Visible Fragment</p>\n\n<pre><code>val currentFragment =this@ActivityName.supportFragmentManager.findFragmentById(R.id.Your_id)\n        if(currentFragment is FragmentName)\n        {\n         // AlertDialog()\n        }\n</code></pre>\n\n<p>Finally</p>\n\n<pre><code>override fun onBackPressed() \n{\n        if (drawer_layout.isDrawerOpen(GravityCompat.START)) {\n          drawer_layout.closeDrawer(GravityCompat.START)\n\n        } else \n        {\n\n            val currentFragment =this@ActivityName.supportFragmentManager.findFragmentById(R.id.Your_id)\n            if(currentFragment is SpecificFragmentName)\n            {\n               AlertDialog.Builder(this@ActivityName)\n                    .setTitle(\"Exit Alert\")\n                    .setMessage(\"Do You Want To Exit Petals App?\")\n                    .setPositiveButton(android.R.string.ok) { dialog, whichButton -&gt;\n                        super.onBackPressed()\n                    }\n                    .setNegativeButton(android.R.string.cancel) { dialog, whichButton -&gt;\n\n                    }\n                    .show()\n            }\n            else{\n            super.onBackPressed()\n            }\n\n\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 865, "user_id": 10922928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcec10c285df503a650a817142f2fef?s=128&d=identicon&r=PG&f=1", "display_name": "solaza", "link": "https://stackoverflow.com/users/10922928/solaza"}, "is_accepted": false, "score": 0, "last_activity_date": 1581499203, "creation_date": 1581499203, "answer_id": 60184882, "question_id": 56965223, "link": "https://stackoverflow.com/questions/56965223/how-to-handle-back-pressed-in-kotlin/60184882#60184882", "title": "how to handle back pressed in Kotlin", "body": "<p>You can just:</p>\n\n<pre><code>    val callback = requireActivity().onBackPressedDispatcher.addCallback(this) {\n        // Handle the back button event\n    }\n</code></pre>\n\n<p>For more information you can check <a href=\"https://developer.android.com/guide/navigation/navigation-custom-back\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}], "owner": {"reputation": 45, "user_id": 7621975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aa152514f58bfc1cb5a598a70df424d?s=128&d=identicon&r=PG&f=1", "display_name": "m.karman", "link": "https://stackoverflow.com/users/7621975/m-karman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4146, "favorite_count": 0, "accepted_answer_id": 56965287, "answer_count": 2, "score": 4, "last_activity_date": 1581499203, "creation_date": 1562742635, "question_id": 56965223, "link": "https://stackoverflow.com/questions/56965223/how-to-handle-back-pressed-in-kotlin", "title": "how to handle back pressed in Kotlin", "body": "<p>my app having only two base activity and several fragment,, i want to display an Exit alert when user reach particular base fragment by clicking back press</p>\n\n<pre><code>override fun onBackPressed() {\n        if (drawer_layout.isDrawerOpen(GravityCompat.START)) {\n          drawer_layout.closeDrawer(GravityCompat.START)\n\n        } else {\n         // super.onBackPressed()\n            AlertDialog.Builder(this)\n                .setTitle(\"Exit Alert\")\n                .setMessage(\"Do You Want To Exit Petals App?\")\n                .setPositiveButton(android.R.string.ok) { dialog, whichButton -&gt;\n                    super.onBackPressed()\n                }\n                .setNegativeButton(android.R.string.cancel) { dialog, whichButton -&gt;\n\n                }\n                .show()\n\n        } \n</code></pre>\n\n<p>i used addtosatck on each fragment </p>\n"}, {"tags": ["android", "kotlin", "mvvm"], "comments": [{"owner": {"reputation": 1136, "user_id": 6112276, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/Iut1e.jpg?s=128&g=1", "display_name": "Shid", "link": "https://stackoverflow.com/users/6112276/shid"}, "edited": false, "score": 1, "creation_date": 1583784338, "post_id": 56964912, "comment_id": 107225530, "body": "It is a late response since I just encountered the same problem just recently, the hack I found was that the problem lies in the onBindViewHolder method when you are passing the argument in the onItemClick method, you should use getItem(position) rather than the variable record which will always return the last element on the pagedList rather than the element you clicked on. Then you implement the interface in your fragment."}], "owner": {"reputation": 2516, "user_id": 683482, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/lBysC.jpg?s=128&g=1", "display_name": "Raju yourPepe", "link": "https://stackoverflow.com/users/683482/raju-yourpepe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 480, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1562741593, "creation_date": 1562741593, "question_id": 56964912, "link": "https://stackoverflow.com/questions/56964912/how-to-add-itemclick-on-pagedlistadapter", "title": "How to add ItemClick on PagedListAdapter?", "body": "<p>Here is my first time to apply MVVM concept to my Android Application. I follow the steps at the referenced article</p>\n\n<p><a href=\"https://medium.com/swlh/realtime-firestore-pagination-on-android-with-mvvm-b5e30cea437\" rel=\"nofollow noreferrer\">https://medium.com/swlh/realtime-firestore-pagination-on-android-with-mvvm-b5e30cea437</a></p>\n\n<p>And I am managed to load data successfully. When it comes to implementing the onclick event at the row of my RecyclerView List, it comes out that there has no onlick response . </p>\n\n<p>Would you please suggest the  better method to implement the onCLick method given that I have applied PageListAdapter? </p>\n\n<p>When I study the PageListAdapter documentation on Android, it seems no clue for me to implement the onclick method.</p>\n\n<pre><code>class MovieViewModel(movieRepository: MovieRepository) : ViewModel() {\n    private val viewModelJob = SupervisorJob()\n    private val uiScope = CoroutineScope(Dispatchers.Main + viewModelJob)\n    var selected: MutableLiveData&lt;RealtimeMovie&gt;? = null\n\n    private val config = PagedList.Config.Builder()\n            .setEnablePlaceholders(false)\n            .setPrefetchDistance(10)\n            .setPageSize(20)\n            .build()\n\n    val records: LiveData&lt;PagedList&lt;RealtimeMovie&gt;&gt; =\n            LivePagedListBuilder&lt;String, RealtimeMovie&gt;(\n                    MovieDataSource.Factory(movieRepository, uiScope),\n                    config\n            ).build()\n\n    override fun onCleared() {\n        super.onCleared()\n        viewModelJob.cancel()\n    }\n}\n</code></pre>\n\n<p>Here is my adapter: </p>\n\n<pre><code>class MovieAdapter : PagedListAdapter&lt;RealtimeMovie, MovieAdapter.MovieViewHolder&gt;(\n        object : DiffUtil.ItemCallback&lt;RealtimeMovie&gt;() {\n            override fun areItemsTheSame(old: RealtimeMovie, new: RealtimeMovie): Boolean =\n                    old.id == new.id\n\n            override fun areContentsTheSame(old: RealtimeMovie, new: RealtimeMovie): Boolean =\n                    old == new\n        }\n) {\n\n    private lateinit var onItemClick: (movie: RealtimeMovie) -&gt; Unit\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MovieViewHolder {\n        val view = LayoutInflater.from(parent.context).inflate(\n                R.layout.list_movie,\n                parent,\n                false\n        )\n        return MovieViewHolder(view)\n    }\n\n\n    infix fun setOnItemClick(onClick: (movie: RealtimeMovie) -&gt; Unit) {\n\n        this.onItemClick = onClick\n    }\n\n    override fun onBindViewHolder(holder: MovieViewHolder, position: Int) {\n        val record = getItem(position)\n        holder.bind(record)\n        holder.itemView.setOnClickListener { onItemClick(record!!) }\n    }\n\n    override fun onViewRecycled(holder: MovieViewHolder) {\n        super.onViewRecycled(holder)\n        holder.apply {\n            txtRecordName.text = \"\"\n            crdRecord.isEnabled = true\n            crdRecord.setCardBackgroundColor(\n                    ContextCompat.getColor(\n                            view.context,\n                            android.R.color.white\n                    )\n            )\n            viewHolderDisposables.clear()\n        }\n    }\n\n    inner class MovieViewHolder(val view: View) : RecyclerView.ViewHolder(view) {\n        val viewHolderDisposables = CompositeDisposable()\n\n        val crdRecord by lazy { view.findViewById&lt;MaterialCardView&gt;(R.id.crd_record) }\n        val txtRecordName by lazy { view.findViewById&lt;TextView&gt;(R.id.txt_record_name) }\n\n        fun bind(RealtimeMovie: RealtimeMovie?) {\n            RealtimeMovie?.let {\n                it.record\n                        .subscribeBy(\n                                onNext = {\n                                    txtRecordName.text = it.title\n\n                                },\n                                onError = {\n                                    // Handle error here\n                                    // Record maybe deleted\n                                }\n                        )\n                        .addTo(viewHolderDisposables)\n            }\n        }\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>Here is my fragment : \n..</p>\n\n<pre><code>viewModel = ViewModelProviders.of(this, factory).get(MovieViewModel::class.java)\nviewModel.records.observe(this, Observer {\n    swpRecords.isRefreshing = false\n    recordsAdapter.submitList(it)\n    recordsAdapter.setOnItemClick {\n        print(\"movie : ${it.id}\"   )\n        print(\"movie : ${it.record}\"   )\n    }\n})\n</code></pre>\n"}, {"tags": ["kotlin", "arrow-kt"], "answers": [{"tags": [], "owner": {"reputation": 1893, "user_id": 571787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ff564544d0c3b13a07bcaced0a9ec8d?s=128&d=identicon&r=PG", "display_name": "BobG", "link": "https://stackoverflow.com/users/571787/bobg"}, "is_accepted": true, "score": 1, "last_activity_date": 1564416149, "creation_date": 1564416149, "answer_id": 57257548, "question_id": 56964490, "link": "https://stackoverflow.com/questions/56964490/is-there-any-function-like-ap2-ap3-in-arrow-kt/57257548#57257548", "title": "Is there any function like ap2, ap3 in arrow-kt?", "body": "<p>Once version 0.10 is available Arrow will have a <code>.tupled()</code> method on function types that handles this, so you will be able to write:</p>\n\n<pre><code>Option.applicative()\n      .tupled(Some(7), Some(9))\n      .ap(::add.tupled())\n\nfun add(a: Int, b: Int) = a + b\n</code></pre>\n\n<p>for functions of up to 22 arguments.</p>\n"}], "owner": {"reputation": 1289, "user_id": 6686126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dIaui.jpg?s=128&g=1", "display_name": "galcyurio", "link": "https://stackoverflow.com/users/6686126/galcyurio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 57257548, "answer_count": 1, "score": 0, "last_activity_date": 1564416149, "creation_date": 1562739820, "last_edit_date": 1562809011, "question_id": 56964490, "link": "https://stackoverflow.com/questions/56964490/is-there-any-function-like-ap2-ap3-in-arrow-kt", "title": "Is there any function like ap2, ap3 in arrow-kt?", "body": "<p>I saw scala code using <a href=\"https://typelevel.org/cats/\" rel=\"nofollow noreferrer\">cats</a> in this <a href=\"https://mostafa-asg.github.io/post/practical-scala-cats-applicative-functor/\" rel=\"nofollow noreferrer\">post</a>.</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>val a = Some(7)\nval b = Some(9)\nApplicative[Option].ap2(Some(add))(a,b)\n</code></pre>\n\n<p>And I tried migrating this code to kotlin and arrow like following.</p>\n\n<pre><code>Option.applicative()\n        .tupled(Some(7), Some(9))\n        .ap(Some(::add))\n\n// works but dirty\nfun add(tuple: Tuple2&lt;Int, Int&gt;): Int = tuple.a + tuple.b\n\n// not work, compilation error\n// fun add(a: Int, b: Int): Int = a + b\n</code></pre>\n\n<p>As you noticed, <code>Tuple2</code> must be specified in the <code>add</code> function signature.\nI searched the official document of arrow, but there is no <code>apN</code> function like ap2, ap3, ap4.</p>\n\n<p><strong>Is there any way to use the second function which not included <code>Tuple2</code> type?</strong></p>\n"}, {"tags": ["android", "kotlin", "android-jetpack", "android-viewmodel", "koin"], "comments": [{"owner": {"reputation": 555, "user_id": 5934119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CDegK.png?s=128&g=1", "display_name": "HvSimon", "link": "https://stackoverflow.com/users/5934119/hvsimon"}, "edited": false, "score": 0, "creation_date": 1562838551, "post_id": 56964306, "comment_id": 100507349, "body": "In the traditional nested fragment, we can use <code>by sharedViewModel(from = { parentFragment as ViewModelStoreOwner})</code> to bind ViewModel lifecycle to parent fragment lifecycle. But in the navigation component, I have not idea how to get the parent fragment instance."}, {"owner": {"reputation": 865, "user_id": 10922928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcec10c285df503a650a817142f2fef?s=128&d=identicon&r=PG&f=1", "display_name": "solaza", "link": "https://stackoverflow.com/users/10922928/solaza"}, "reply_to_user": {"reputation": 555, "user_id": 5934119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CDegK.png?s=128&g=1", "display_name": "HvSimon", "link": "https://stackoverflow.com/users/5934119/hvsimon"}, "edited": false, "score": 0, "creation_date": 1562842710, "post_id": 56964306, "comment_id": 100509801, "body": "I managed to bind with Koin and code above but I don&#39;t know how to clear/unboud it and if thats is even needed."}, {"owner": {"reputation": 555, "user_id": 5934119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CDegK.png?s=128&g=1", "display_name": "HvSimon", "link": "https://stackoverflow.com/users/5934119/hvsimon"}, "edited": false, "score": 0, "creation_date": 1562843178, "post_id": 56964306, "comment_id": 100510075, "body": "You don&#39;t need to clear just like <code>by viewModel()</code> can auto clear when the fragment destory."}, {"owner": {"reputation": 865, "user_id": 10922928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcec10c285df503a650a817142f2fef?s=128&d=identicon&r=PG&f=1", "display_name": "solaza", "link": "https://stackoverflow.com/users/10922928/solaza"}, "reply_to_user": {"reputation": 555, "user_id": 5934119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CDegK.png?s=128&g=1", "display_name": "HvSimon", "link": "https://stackoverflow.com/users/5934119/hvsimon"}, "edited": false, "score": 0, "creation_date": 1562843524, "post_id": 56964306, "comment_id": 100510250, "body": "Added code for sharedViewModel. Does it get cleared when fragment is destroyed even if it&#39;s using activity as ViewModelStoreOwner like in code above?"}, {"owner": {"reputation": 555, "user_id": 5934119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CDegK.png?s=128&g=1", "display_name": "HvSimon", "link": "https://stackoverflow.com/users/5934119/hvsimon"}, "edited": false, "score": 0, "creation_date": 1562843626, "post_id": 56964306, "comment_id": 100510304, "body": "Do you use the navigation component? If true, you can not get the parent fragment by calling <code>getParentFragment()</code>. It always returns <code>NavHostFragment</code> not your <code>servisFragment</code>."}, {"owner": {"reputation": 865, "user_id": 10922928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcec10c285df503a650a817142f2fef?s=128&d=identicon&r=PG&f=1", "display_name": "solaza", "link": "https://stackoverflow.com/users/10922928/solaza"}, "reply_to_user": {"reputation": 555, "user_id": 5934119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CDegK.png?s=128&g=1", "display_name": "HvSimon", "link": "https://stackoverflow.com/users/5934119/hvsimon"}, "edited": false, "score": 0, "creation_date": 1562844064, "post_id": 56964306, "comment_id": 100510545, "body": "Yes I am using it. Why do I need parent fragment? As I said I have single Activity Application and all fragments inside that Activity."}, {"owner": {"reputation": 555, "user_id": 5934119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CDegK.png?s=128&g=1", "display_name": "HvSimon", "link": "https://stackoverflow.com/users/5934119/hvsimon"}, "edited": false, "score": 0, "creation_date": 1562844451, "post_id": 56964306, "comment_id": 100510773, "body": "<code>I need that sharedViewModel only in servisFragment and partFragment</code>. In your graph, <code>partFragment</code> is the child fragment and <code>servisFragment</code> is the parent fragment. So, if we can bind <code>sharedViewModel</code> to parent fragment, <code>sharedViewModel</code> will be clear when you navigate the red path."}, {"owner": {"reputation": 555, "user_id": 5934119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CDegK.png?s=128&g=1", "display_name": "HvSimon", "link": "https://stackoverflow.com/users/5934119/hvsimon"}, "edited": false, "score": 0, "creation_date": 1562845012, "post_id": 56964306, "comment_id": 100511087, "body": "Take a look at <a href=\"https://github.com/InsertKoinIO/koin/issues/183\" rel=\"nofollow noreferrer\">github.com/InsertKoinIO/koin/issues/183</a> and its reply"}, {"owner": {"reputation": 865, "user_id": 10922928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcec10c285df503a650a817142f2fef?s=128&d=identicon&r=PG&f=1", "display_name": "solaza", "link": "https://stackoverflow.com/users/10922928/solaza"}, "reply_to_user": {"reputation": 555, "user_id": 5934119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CDegK.png?s=128&g=1", "display_name": "HvSimon", "link": "https://stackoverflow.com/users/5934119/hvsimon"}, "edited": false, "score": 0, "creation_date": 1562845119, "post_id": 56964306, "comment_id": 100511162, "body": "When I use <code>findNavController().navigate(ServisFragmentDirections.Action&zwnj;&#8203;_servisFragment_to_m&zwnj;&#8203;enuFragment())</code> to get back to <code>menuFragment</code> and then go again to <code>servisFragment</code> everything is still in it (Data not cleared)."}, {"owner": {"reputation": 555, "user_id": 5934119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CDegK.png?s=128&g=1", "display_name": "HvSimon", "link": "https://stackoverflow.com/users/5934119/hvsimon"}, "edited": false, "score": 0, "creation_date": 1562845266, "post_id": 56964306, "comment_id": 100511249, "body": "Check your parent fragment in <code>partFragment</code>. If you bind the wrong parent, the ViewModel will not be clear"}, {"owner": {"reputation": 865, "user_id": 10922928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcec10c285df503a650a817142f2fef?s=128&d=identicon&r=PG&f=1", "display_name": "solaza", "link": "https://stackoverflow.com/users/10922928/solaza"}, "reply_to_user": {"reputation": 555, "user_id": 5934119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CDegK.png?s=128&g=1", "display_name": "HvSimon", "link": "https://stackoverflow.com/users/5934119/hvsimon"}, "edited": false, "score": 0, "creation_date": 1562845987, "post_id": 56964306, "comment_id": 100511670, "body": "As you said before <code>getParentFragment()</code> returns <code>NavHostFragment</code>. Is there any way to get <code>servisFragment</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 2040, "user_id": 898018, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/2b11453115f1e1ac9105c596642b7d34?s=128&d=identicon&r=PG", "display_name": "Hayk Melkonyan", "link": "https://stackoverflow.com/users/898018/hayk-melkonyan"}, "is_accepted": false, "score": 3, "last_activity_date": 1565024350, "creation_date": 1565024350, "answer_id": 57363021, "question_id": 56964306, "link": "https://stackoverflow.com/questions/56964306/clearing-sharedviewmodel/57363021#57363021", "title": "Clearing sharedViewModel", "body": "<p>if you need to clear all <code>viewModels</code> from that <code>Fragment</code> try this in your <code>Fragment</code></p>\n\n<pre><code>viewModelStore.clear()\n</code></pre>\n\n<p>if you need to clear concrete <code>ViewModel</code>  try this </p>\n\n<pre><code>getViewModelStore(ViewModelParameters(...)).clear()\n</code></pre>\n"}], "owner": {"reputation": 865, "user_id": 10922928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcec10c285df503a650a817142f2fef?s=128&d=identicon&r=PG&f=1", "display_name": "solaza", "link": "https://stackoverflow.com/users/10922928/solaza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1350, "favorite_count": 2, "answer_count": 1, "score": 8, "last_activity_date": 1565024350, "creation_date": 1562738934, "last_edit_date": 1562843422, "question_id": 56964306, "link": "https://stackoverflow.com/questions/56964306/clearing-sharedviewmodel", "title": "Clearing sharedViewModel", "body": "<p>I am using Koin for injecting viewModel into fragment. My app is single activity. I need that sharedViewModel only in servisFragment and partFragment.\nI would like to clear that viewModel from Activity after navigation marked with red. </p>\n\n<p>How can I do that?</p>\n\n<p><a href=\"https://i.stack.imgur.com/sIsyV.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sIsyV.png\" alt=\"navigation\"></a></p>\n\n<p>Code for injecting viewModel</p>\n\n<pre><code>    private val servisViewModel by sharedViewModel&lt;ServisViewModel&gt;()\n</code></pre>\n\n<p>Koin sharedViewModel</p>\n\n<pre><code>inline fun &lt;reified T : ViewModel&gt; Fragment.sharedViewModel(\n    name: String? = null,\n    noinline from: ViewModelStoreOwnerDefinition = { activity as \n    ViewModelStoreOwner },\n    noinline parameters: ParametersDefinition? = null\n) = lazy { getSharedViewModel&lt;T&gt;(name, from, parameters) }\n</code></pre>\n\n<p>Thank you for any help.</p>\n"}, {"tags": ["android", "json", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 1476, "user_id": 3710341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92019ee5ebb2b68bb97d2bd2547dd93f?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar Chapagain", "link": "https://stackoverflow.com/users/3710341/sagar-chapagain"}, "is_accepted": false, "score": 2, "last_activity_date": 1562726549, "creation_date": 1562726549, "answer_id": 56962736, "question_id": 56962608, "link": "https://stackoverflow.com/questions/56962608/how-to-read-json-file-from-assests-in-android-using-kotlin/56962736#56962736", "title": "How to read json file from assests in android using Kotlin?", "body": "<p>Java codes can be converted to Kotlin from Android Studio too.\nHere is the converted solution with the extension function of <strong>Context</strong>.</p>\n\n<pre><code>@Throws(IOException::class)\nfun Context.readJsonAsset(fileName: String): String {\n    val inputStream = assets.open(fileName)\n    val size = inputStream.available()\n    val buffer = ByteArray(size)\n    inputStream.read(buffer)\n    inputStream.close()\n    return String(buffer, Charsets.UTF_8)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 287, "user_id": 6694035, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7d50728e575f54f2c5110349f6a6d33?s=128&d=identicon&r=PG&f=1", "display_name": "m.ka", "link": "https://stackoverflow.com/users/6694035/m-ka"}, "is_accepted": false, "score": 2, "last_activity_date": 1562738626, "creation_date": 1562738626, "answer_id": 56964243, "question_id": 56962608, "link": "https://stackoverflow.com/questions/56962608/how-to-read-json-file-from-assests-in-android-using-kotlin/56964243#56964243", "title": "How to read json file from assests in android using Kotlin?", "body": "<p>Reading json file from assets folder in Kotlin is very easy, just use the following code</p>\n\n<pre><code>val fileInString: String =\n  applicationContext.assets.open(fileName).bufferedReader().use { it.readText() }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 512, "user_id": 5617322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wGNEK.jpg?s=128&g=1", "display_name": "Amit Gupta", "link": "https://stackoverflow.com/users/5617322/amit-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1562867832, "creation_date": 1562867832, "answer_id": 56994948, "question_id": 56962608, "link": "https://stackoverflow.com/questions/56962608/how-to-read-json-file-from-assests-in-android-using-kotlin/56994948#56994948", "title": "How to read json file from assests in android using Kotlin?", "body": "<p>You can use the following</p>\n\n<pre><code>class LocalJSONParser {\n\ncompanion object {\n    fun inputStreamToString(inputStream: InputStream): String {\n        try {\n            val bytes = ByteArray(inputStream.available())\n            inputStream.read(bytes, 0, bytes.size)\n            return String(bytes)\n        } catch (e: IOException) {\n            return \"\"\n        }\n      }\n    }\n}\n\n// jsonFileName = \"data.json\"\ninline fun &lt;reified T&gt; Context.getObjectFromJson(jsonFileName: String): T {\nval myJson =LocalJSONParser.inputStreamToString(this.assets.open(jsonFileName))\nreturn Gson().fromJson(myJson, T::class.java\n}\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 7113648, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-My_o8R4OWE4/AAAAAAAAAAI/AAAAAAAAABE/wSvIYbYQt6k/photo.jpg?sz=128", "display_name": "Saugat Rai", "link": "https://stackoverflow.com/users/7113648/saugat-rai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5574, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1562867832, "creation_date": 1562725280, "question_id": 56962608, "link": "https://stackoverflow.com/questions/56962608/how-to-read-json-file-from-assests-in-android-using-kotlin", "title": "How to read json file from assests in android using Kotlin?", "body": "<p>I have already done with java but find difficult with Kotlin.</p>\n\n<p>I have already search with google but none of them work for me.</p>\n\n<pre><code>/**\n * Get the json data from json file.\n *\n * @param context  the context to acces the resources.\n * @param fileName the name of the json file\n * @return json as string\n */\npublic static String getJsonFromAsset(Context context, String fileName) {\n    String json = \"\";\n    try {\n        InputStream stream = context.getAssets().open(fileName);\n        int size = stream.available();\n        byte[] buffer = new byte[size];\n        stream.read(buffer);\n        stream.close();\n        json = new String(buffer, \"UTF-8\");\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return json;\n}\n</code></pre>\n\n<p>I want this code in Kotlin.</p>\n"}, {"tags": ["android", "exception", "kotlin"], "comments": [{"owner": {"reputation": 1227, "user_id": 1843385, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/93e35de60e9b0cc8917999a0a8de1496?s=128&d=identicon&r=PG", "display_name": "Arnaldo Ignacio Gaspar V&#233;jar", "link": "https://stackoverflow.com/users/1843385/arnaldo-ignacio-gaspar-v%c3%a9jar"}, "edited": false, "score": 0, "creation_date": 1562723197, "post_id": 56962120, "comment_id": 100462439, "body": "how do you are instantiating vDispFu ?"}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "reply_to_user": {"reputation": 1227, "user_id": 1843385, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/93e35de60e9b0cc8917999a0a8de1496?s=128&d=identicon&r=PG", "display_name": "Arnaldo Ignacio Gaspar V&#233;jar", "link": "https://stackoverflow.com/users/1843385/arnaldo-ignacio-gaspar-v%c3%a9jar"}, "edited": false, "score": 0, "creation_date": 1562724680, "post_id": 56962120, "comment_id": 100462695, "body": "Sorry, another typo. The simplification uses <code>vCl</code>."}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "reply_to_user": {"reputation": 1227, "user_id": 1843385, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/93e35de60e9b0cc8917999a0a8de1496?s=128&d=identicon&r=PG", "display_name": "Arnaldo Ignacio Gaspar V&#233;jar", "link": "https://stackoverflow.com/users/1843385/arnaldo-ignacio-gaspar-v%c3%a9jar"}, "edited": false, "score": 0, "creation_date": 1562724713, "post_id": 56962120, "comment_id": 100462701, "body": "I&#39;ve corrected it."}, {"owner": {"reputation": 1238, "user_id": 3742864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xi2En.png?s=128&g=1", "display_name": "Wesely", "link": "https://stackoverflow.com/users/3742864/wesely"}, "edited": false, "score": 0, "creation_date": 1562725707, "post_id": 56962120, "comment_id": 100462870, "body": "I&#39;ve just tried this in my test file, it passed. you put them in the same file or not?"}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1562726055, "post_id": 56962120, "comment_id": 100462939, "body": "No, I&#39;ve placed the declaration in normal Kotlin file (in the same folder of <code>mainActivity.kt</code> source file)  and the test code in a test Kotlin file, under <code>(test)</code> folder. Both under <code>java</code> folder.  Unfortunately it&#39;s an intermitent error. Now it is ok. Remember that how it&#39;s the same module all global declarations are shareable."}, {"owner": {"reputation": 2500, "user_id": 1497597, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/e86c15a7b980952c674a567853249751?s=128&d=identicon&r=PG", "display_name": "D T", "link": "https://stackoverflow.com/users/1497597/d-t"}, "edited": false, "score": 0, "creation_date": 1562726851, "post_id": 56962120, "comment_id": 100463080, "body": "You must share detail your code occur error."}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1562727461, "post_id": 56962120, "comment_id": 100463188, "body": "Ok, I&#39;ve discovered a pattern."}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1562727889, "post_id": 56962120, "comment_id": 100463271, "body": "I&#39;ve made an update in the end of  my question. I go on researching my problem."}, {"owner": {"reputation": 10133, "user_id": 5156075, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5z8FN.jpg?s=128&g=1", "display_name": "John Joe", "link": "https://stackoverflow.com/users/5156075/john-joe"}, "edited": false, "score": 1, "creation_date": 1562729576, "post_id": 56962120, "comment_id": 100463582, "body": "maybe post full code here?"}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1562730226, "post_id": 56962120, "comment_id": 100463701, "body": "Oh, it&#39;s huge. I will make it better. I will make now a very tiny project to reproduce this error."}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1562730823, "post_id": 56962120, "comment_id": 100463801, "body": "I got it. I wil make a new update!"}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1562732668, "post_id": 56962120, "comment_id": 100464185, "body": "It&#39;s under <b>Update 2</b> in the end of the question. I &#39;ve got to turn on and off the error!"}], "answers": [{"comments": [{"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1562720560, "post_id": 56962148, "comment_id": 100461980, "body": "It&#39;s just a typo when I&#39;ve changed the start message. It&#39;s not a real error in my code. The program would not even run with this error."}], "tags": [], "owner": {"reputation": 106, "user_id": 9352291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a62d002d9e80a6a12907cf1a854ae25?s=128&d=identicon&r=PG&f=1", "display_name": "Joel Libby", "link": "https://stackoverflow.com/users/9352291/joel-libby"}, "is_accepted": false, "score": 0, "last_activity_date": 1562720346, "creation_date": 1562720346, "answer_id": 56962148, "question_id": 56962120, "link": "https://stackoverflow.com/questions/56962120/why-kotlin-throws-an-exception-in-a-very-simple-piece-of-code/56962148#56962148", "title": "Why Kotlin throws an exception in a very simple piece of code?", "body": "<p>Your missing a an quote on your first line. </p>\n"}, {"comments": [{"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1562756685, "post_id": 56964043, "comment_id": 100475221, "body": "I know this, but it&#39;s just a declaration and an initialization. of a variable, it&#39;s not a real usage, because I don&#39;t use <code>timingLogger</code> in my test.  And when I simply change the declaration to another source file, my tiny demo project works perfectly (and the original, much larger, too). It is worth remembering that, within the same module, all declarations, regardless of what file they are in, are executed."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1562759938, "post_id": 56964043, "comment_id": 100476978, "body": "1. Look at the error trace: the exception is thrown in the constructor <code>at android.util.TimingLogger.&lt;init&gt;(TimingLogger.java:59)</code>. This constructor is exactly what&#39;s called by <code>TimingLogger(&quot;MyTag&quot;, &quot;Your&quot;)</code>."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1562760039, "post_id": 56964043, "comment_id": 100477025, "body": "2. &quot;It is worth remembering that, within the same module, all declarations, regardless of what file they are in, are executed.&quot; No, they aren&#39;t. Just replace <code>TimingLogger</code> with your own class which prints something in constructor and you&#39;ll see it gets printed in your current failing case and doesn&#39;t get printed in the successful case."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1562760754, "post_id": 56964043, "comment_id": 100477416, "body": "I&#39;ve extended the answer."}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1562763540, "post_id": 56964043, "comment_id": 100478962, "body": "Wow! It&#39;s crazy. You are right. I made the following test.  I put in <code>MainActivity</code> the following code  <code>open class Fool(val a:Int=5){ init {println(&quot;fool&quot;) }} class SuperFool(a:Int=8):Fool(a){init {println(&quot;what a big fool&quot;)}}</code>. When I put  <code>println(v.a)</code> in <code>compiler.kt</code> has an error. Take out and no error! It is as if Android Studio only executes the declarations in a file if any variable of the scope was used."}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1562763601, "post_id": 56964043, "comment_id": 100479002, "body": "The solution is use <code>lateinit</code> in <code>TimingLogger</code>."}, {"owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "edited": false, "score": 0, "creation_date": 1562763652, "post_id": 56964043, "comment_id": 100479038, "body": "I will write an new update in my question. It&#39;s bizarre."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 3, "last_activity_date": 1562760734, "last_edit_date": 1562760734, "creation_date": 1562737429, "answer_id": 56964043, "question_id": 56962120, "link": "https://stackoverflow.com/questions/56962120/why-kotlin-throws-an-exception-in-a-very-simple-piece-of-code/56964043#56964043", "title": "Why Kotlin throws an exception in a very simple piece of code?", "body": "<p>The problem has nothing to do with Kotlin; you can't just use Android classes in code running directly on your computer and not in an emulator, because the versions in the standard jar will crash on first use. They are just there to provide class files with the same names and method signatures as will exist on the device, so that your code can compile (not run!).</p>\n\n<p>Use <a href=\"http://robolectric.org/getting-started/\" rel=\"nofollow noreferrer\">Robolectric</a> to get a usable-for-JVM-tests version of the Android library.</p>\n\n<blockquote>\n  <p>if I put the below declaration inside MainActivity.kt and run the test.kt again in my computer</p>\n</blockquote>\n\n<p>Then your test doesn't use any Android classes (see below for details).</p>\n\n<blockquote>\n  <p>It is worth remembering that, within the same module, all declarations, regardless of what file they are in, are executed.</p>\n</blockquote>\n\n<p>That's wrong. What happens with top-level <code>val</code>/<code>var</code>/<code>fun</code> declarations in Kotlin is that they get wrapped into a single class for each file, so your code works like this:</p>\n\n<pre><code>// compiler.kt\npackage br.com.greatsolutions.paulo.myerror\n\nobject CompilerKt { // you can actually see the name in the stack trace\n    var timings = TimingLogger(\"MyTag\", \"Your\")\n    val vCl = arrayListOf&lt;Cl&gt;()\n}\n\nclass Cl(\n    var a:Int=0\n)\n\n// test.kt\npackage br.com.greatsolutions.paulo.myerror\n\nobject TestKt {\n    fun main(){\n        println(\"start\")\n        CompilerKt.vCl.clear()\n        println(\"ok\")\n    }\n}\n</code></pre>\n\n<p>So calling <code>TestKt.main()</code> forces loading and initialization of <code>CompilerKt</code> because you reference <code>vCl</code> there. This includes calling the constructor <code>TimingLogger(\"MyTag\", \"Your\")</code> which thrown an exception when the stub library is used.</p>\n\n<p>Calling <code>TestKt.main()</code> does <em>not</em> load <code>MainActivity</code> (which you can confirm by adding some print to that file), so if you move <code>var timings</code> there, nothing in the stub library gets called.</p>\n"}], "owner": {"reputation": 1833, "user_id": 1062727, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b5b9976710eed726413233e9fef7f43e?s=128&d=identicon&r=PG", "display_name": "Paulo Buchsbaum", "link": "https://stackoverflow.com/users/1062727/paulo-buchsbaum"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 138, "favorite_count": 0, "accepted_answer_id": 56964043, "answer_count": 2, "score": 0, "last_activity_date": 1562767293, "creation_date": 1562720025, "last_edit_date": 1562767293, "question_id": 56962120, "link": "https://stackoverflow.com/questions/56962120/why-kotlin-throws-an-exception-in-a-very-simple-piece-of-code", "title": "Why Kotlin throws an exception in a very simple piece of code?", "body": "<ul>\n<li>There are an <strong>update</strong> in the end of the question. Now I've got to turn on and turn off the error with one line change in a tiny project with all code transcribed below.</li>\n<li>The <strong>answer</strong> of <a href=\"https://stackoverflow.com/users/9204/alexey-romanov%20thes\">Alexey Romanov</a> is brilliant. Check in the end of the question. it's an amazing and unknown feature of <em>Android Studio</em> environment. </li>\n</ul>\n\n<p>I've found a very kinky error in <em>Kotlin</em> using updated <em>Android 3.4.2</em>.</p>\n\n<p>First I've run my test code in my computer (not <em>Android</em>) using main modules in any kotlin file in my only module. It always works for me, but it has started to give an error that I comment below and then another error that don't allow to run the main module anymore.</p>\n\n<p>Searching in <code>Stack Overflow</code>, one user as claimed that the last described error ends when one uses <code>test</code> files under <code>java</code> folder (Not <code>Android test</code> files)</p>\n\n<p>However is has  continued to give the first error, which I commented above, which I managed to reduce to the following schematic example:</p>\n\n<pre><code>class Cl(\n  var a:Int=0\n)\nvar vCl = arrayListOf&lt;Cl&gt;()\n</code></pre>\n\n<p>And the main module is:</p>\n\n<pre><code>fun main(){\n    println(\"start\")\n    vCl.clear()  // error points to this line\n    println(\"ok\")\n}   \n</code></pre>\n\n<p>I  just point to <code>fun main()</code> line in <em>test</em> file and click the green icon. </p>\n\n<p>The error message </p>\n\n<pre><code>Exception in thread \"main\" java.lang.ExceptionInInitializerError\n</code></pre>\n\n<p>Suddenly the error stops when I've changed one global statement from one file to another file (in the top part, outside any class or function). </p>\n\n<pre><code>var timings = TimingLogger(\"MyTag\", \"Your\")\n</code></pre>\n\n<p>It's crazy. I'm freaking out! </p>\n\n<p><strong>Update:</strong><br>\n<strong>=======</strong></p>\n\n<p>I've made <code>newerror</code>, a new tiny project with one module to reproduce the error decribed in this question. Below is the complete code:</p>\n\n<p><strong>Gradle</strong>: No change after project creation.</p>\n\n<p><strong>AndroidManifest.xml</strong>: No change after project creation.</p>\n\n<p><strong>activity_main.xml</strong>: It is bare bone because all my views are dinamically created:</p>\n\n\n\n<pre><code>&lt;RelativeLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:id=\"@+id/myLayout\"\n        android:textAllCaps=\"false\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\" tools:context=\n          \"br.com.greatsolutions.paulo.myerror.MainActivity\"&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p>The <strong>MainActivity.kt</strong> code:</p>\n\n<pre><code>package br.com.greatsolutions.paulo.myerror\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n}\n</code></pre>\n\n<p>The <strong>compiler.kt</strong> code</p>\n\n<pre><code>package br.com.greatsolutions.paulo.myerror\n\nimport android.util.TimingLogger\nvar timings = TimingLogger(\"MyTag\", \"Your\")\nclass Cl(\n    var a:Int=0\n)\nvar vCl = arrayListOf&lt;Cl&gt;()\n</code></pre>\n\n<p>Finally the <strong>test.kt</strong> code:</p>\n\n<pre><code>package br.com.greatsolutions.paulo.myerror\n\nfun main(){\n    println(\"start\")\n    vCl.clear()\n    println(\"ok\")\n}\n</code></pre>\n\n<p>The complete error message when I run <em>test.kt</em> code in my computer (not in Android):</p>\n\n<pre><code>start\nException in thread \"main\" java.lang.ExceptionInInitializerError\n    at br.com.greatsolutions.paulo.myerror.TestKt.main(test.kt:5)\n    at br.com.greatsolutions.paulo.myerror.TestKt.main(test.kt)\nCaused by: java.lang.RuntimeException: Stub!\n    at android.util.TimingLogger.&lt;init&gt;(TimingLogger.java:59)\n    at br.com.greatsolutions.paulo.myerror\n              .CompilerKt.&lt;clinit&gt;(compiler.kt:5)\n    ... 2 more\n</code></pre>\n\n<p>And, again, if I put the below declaration inside <strong>MainActivity.kt</strong> and run the <em>test.kt</em> again in my computer ...</p>\n\n<pre><code>var timings = TimingLogger(\"MyTag\", \"Your\")\n</code></pre>\n\n<p>... and the error is gone!</p>\n\n<pre><code>start\nok\n</code></pre>\n\n<p>For those who want to see to believe:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YhGnq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YhGnq.jpg\" alt=\"crazy bug\"></a></p>\n\n<p><strong>Conclusion</strong>: Now I know how to avoid this crazy error, but I don't understand why it works! Ih theory, the source file that I use to make my declarations should be interchangeable, because all files are in the same module!         </p>\n\n<hr>\n\n<pre><code>                              Solution of puzzle          \n</code></pre>\n\n<hr>\n\n<p><a href=\"https://stackoverflow.com/users/9204/alexey-romanov%20thes\">Alexey Romanov</a> has hit the nail on the head! </p>\n\n<p>I've researched a little bit more and I've found that <em>Android Studio</em> only executes the declarations in a file if any variable of the scope was used in a computer test.</p>\n\n<p>When </p>\n\n<pre><code>var timings = TimingLogger(\"MyTag\", \"Your\")\n</code></pre>\n\n<p>is inside <code>MainActivity.kt</code>, no error is shown.</p>\n\n<p>After I put in this file the following code: </p>\n\n<pre><code>open class Fool(val a:Int=5){\n   init { println(\"fool\") }\n} \n\nclass SuperFool(a:Int=8):Fool(a) {\n  init { println(\"what a big fool\") }\n}\nvar v = SuperFool()\n</code></pre>\n\n<p>When I put  <code>println(v.a)</code> my code in <em>test.kt</em> becomes:</p>\n\n<pre><code>package br.com.greatsolutions.paulo.myerror\n\nfun main(){\n    println(\"start\")\n    println(v.a)   // new line\n    vCl.clear()    \n    println(\"ok\")\n}\n</code></pre>\n\n<p>And it gives the same error than before! Take out this line and no error again! </p>\n\n<p>The solution is if one has any declaration of some variable in an <em>Android</em> class in your projet you MUST use <code>lateinit</code> and just initializate in other point of code that will not run in test execution.</p>\n\n<p>In this case one can do</p>\n\n<pre><code>lateinit var timings:TimingLogger\n</code></pre>\n\n<p>And put the initialization in other place (inside <code>onCreate</code> in <code>MainActivity</code> class, for instance. In my case, immediately before the 1st. call <code>addSplit</code>, one of the methods from <code>TimingLogger</code> class</p>\n\n<pre><code>timings = TimingLogger(\"MyTag\", \"Your\")\n</code></pre>\n\n<p>Now my test code gently prints</p>\n\n<pre><code>start\nfool\nwhat a big fool\nok\n</code></pre>\n"}, {"tags": ["android", "kotlin", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1563467956, "post_id": 56966970, "comment_id": 100719507, "body": "Hi John! Can I help you with other informations? If you think that my answer helped you, please consider accepting it (\u2714\ufe0f). I&#39;d appreciate it. Thanks!"}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 0, "last_activity_date": 1562748783, "creation_date": 1562748783, "answer_id": 56966970, "question_id": 56962101, "link": "https://stackoverflow.com/questions/56962101/how-do-you-query-a-collection-whose-documents-have-a-reference-field-and-use-the/56966970#56966970", "title": "How do you query a collection whose documents have a reference field and use the reference field data for the query?", "body": "<blockquote>\n  <p>I want to get documents with a certain value in the reference field.</p>\n</blockquote>\n\n<p>This is definitely possible. If you pass to the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/Query.html#whereEqualTo(java.lang.String,%20java.lang.Object)\" rel=\"nofollow noreferrer\">whereEqualTo(String field, Object value)</a> method as the second argument a reference, your query will work perfectly fine.</p>\n\n<blockquote>\n  <p>Creates and returns a new Query with the additional filter that documents must contain the specified field and the value should be equal to the specified value.</p>\n</blockquote>\n\n<p>So be sure that the <code>type1</code> object is of type DocumentReference. Should look similar to this:</p>\n\n<pre><code>projects/[PROJECT_ID]/databases/[DATABASE_ID]/documents/[DOCUMENT_PATH]\n</code></pre>\n"}], "owner": {"reputation": 5541, "user_id": 1744379, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a413835ed4aa8047dba481793dc9f663?s=128&d=identicon&r=PG", "display_name": "John Ernest Guadalupe", "link": "https://stackoverflow.com/users/1744379/john-ernest-guadalupe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562748914, "creation_date": 1562719874, "last_edit_date": 1562748914, "question_id": 56962101, "link": "https://stackoverflow.com/questions/56962101/how-do-you-query-a-collection-whose-documents-have-a-reference-field-and-use-the", "title": "How do you query a collection whose documents have a reference field and use the reference field data for the query?", "body": "<p>I have a collection with documents that have a reference field and I want to get documents with a certain value in the reference field. </p>\n\n<p>e.g.</p>\n\n<pre><code>firestore.collection(\"collect1\")\n         .whereEqualTo(\"reference.type\", type1)\n         .orderBy(\"reference.date\", DESC)\n         .get()\n</code></pre>\n\n<p>Is something like above possible?</p>\n"}, {"tags": ["android", "kotlin", "functional-programming", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 3113, "user_id": 9968399, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bsdzB.jpg?s=128&g=1", "display_name": "Taseer", "link": "https://stackoverflow.com/users/9968399/taseer"}, "edited": false, "score": 1, "creation_date": 1562722342, "post_id": 56962040, "comment_id": 100462279, "body": "Do you think splitting the code into functions would make the code look nice? Also, please read about <a href=\"https://kotlinlang.org/docs/reference/scope-functions.html\" rel=\"nofollow noreferrer\">scoping functions</a>. I highly recommend them as they improve code readability."}, {"owner": {"reputation": 1238, "user_id": 3742864, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xi2En.png?s=128&g=1", "display_name": "Wesely", "link": "https://stackoverflow.com/users/3742864/wesely"}, "edited": false, "score": 0, "creation_date": 1562727492, "post_id": 56962040, "comment_id": 100463194, "body": "You should at least explain what Type do you want to return. and you can take a look at Kotlin Elvis Operator. I suggest you should not insist to just use one <code>return()</code> if you need so many indent in it. I think readability is more important when you co-op with others than writing fancy piece of code."}], "answers": [{"comments": [{"owner": {"reputation": 117, "user_id": 9996550, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OZXkpw9lFxs/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3-0pmpCUgZtLZ2oMRC0TMW5n72tA/mo/photo.jpg?sz=128", "display_name": "Artur A", "link": "https://stackoverflow.com/users/9996550/artur-a"}, "edited": false, "score": 0, "creation_date": 1562747865, "post_id": 56965985, "comment_id": 100470179, "body": "having cast in filter{} doesn&#39;t effect when I do map because card considers Card type again"}, {"owner": {"reputation": 1455, "user_id": 5978955, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OCRKvaL4GCY/AAAAAAAAAAI/AAAAAAAAA2o/8kd_p2qvt6o/photo.jpg?sz=128", "display_name": "JArgente", "link": "https://stackoverflow.com/users/5978955/jargente"}, "reply_to_user": {"reputation": 117, "user_id": 9996550, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OZXkpw9lFxs/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3-0pmpCUgZtLZ2oMRC0TMW5n72tA/mo/photo.jpg?sz=128", "display_name": "Artur A", "link": "https://stackoverflow.com/users/9996550/artur-a"}, "edited": false, "score": 1, "creation_date": 1562748453, "post_id": 56965985, "comment_id": 100470538, "body": "ok you are rigth instead of filter you should use filterIsInstance. I have edited my answer"}], "tags": [], "owner": {"reputation": 1455, "user_id": 5978955, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OCRKvaL4GCY/AAAAAAAAAAI/AAAAAAAAA2o/8kd_p2qvt6o/photo.jpg?sz=128", "display_name": "JArgente", "link": "https://stackoverflow.com/users/5978955/jargente"}, "is_accepted": true, "score": 1, "last_activity_date": 1562756328, "last_edit_date": 1562756328, "creation_date": 1562745466, "answer_id": 56965985, "question_id": 56962040, "link": "https://stackoverflow.com/questions/56962040/how-it-is-possible-using-kotlin-function-features-make-this-piece-of-code-nicer/56965985#56965985", "title": "How it is possible using Kotlin function features make this piece of code nicer?", "body": "<p>You can replace the previous code with</p>\n\n<pre><code>            return config.mainMenus.mapNotNull { mainMenu -&gt;\n        config.subPages\n                .find{mainMenu.actions.firstOrNull()?.contentId?.equals(it.id)?:false}\n                ?.let{menu-&gt;\n                    MenuItem(mainMenu.type, mainMenu.titles, mainMenu.actions[0].type, menu.items).takeIf{menu.items?.isNotEmpty()==true}\n                }?:null\n    }\n}\n</code></pre>\n\n<p>Te second one could be</p>\n\n<pre><code>  val programs = cards.\n      filterIsInstance&lt;Program&gt;().\n      map { epgRepository.getProgramProgress(currentTime = currentTime, program = card)}\n</code></pre>\n\n<p>In this case you firstly filter the collection getting only the elements that are programs and only those are converted to the type that the function getProgramProcess return</p>\n"}], "owner": {"reputation": 117, "user_id": 9996550, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OZXkpw9lFxs/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3-0pmpCUgZtLZ2oMRC0TMW5n72tA/mo/photo.jpg?sz=128", "display_name": "Artur A", "link": "https://stackoverflow.com/users/9996550/artur-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 56965985, "answer_count": 1, "score": 1, "last_activity_date": 1562756328, "creation_date": 1562719153, "question_id": 56962040, "link": "https://stackoverflow.com/questions/56962040/how-it-is-possible-using-kotlin-function-features-make-this-piece-of-code-nicer", "title": "How it is possible using Kotlin function features make this piece of code nicer?", "body": "<p>I have these piece of codes and I don't like that I have mapNotNull and inside I have else cases which returns null, I think my kotlin knowledge is not enough to make it better, any thoughts?</p>\n\n<pre><code>    return config.mainMenus.mapNotNull { mainMenu -&gt;\n      val subPage = config.subPages.find {\n        if (mainMenu.actions.isNotEmpty()) {\n          it.id == mainMenu.actions.first().contentId\n        } else {\n          false\n        }\n      }\n      if (subPage?.items?.isNotEmpty() != null) {\n        MenuItem(mainMenu.type, mainMenu.titles, mainMenu.actions[0].type, subPage.items)\n      } else {\n        null\n      }\n    }\n  }\n\n\n  val programs = cards.mapNotNull { card -&gt;\n              if (card is Program) {\n                epgRepository.getProgramProgress(currentTime = currentTime, program = card)\n              } else {\n                null\n              }\n            }\n</code></pre>\n"}, {"tags": ["javascript", "android", "kotlin", "web-applications", "webview"], "comments": [{"owner": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 0, "creation_date": 1562738466, "post_id": 56961932, "comment_id": 100465800, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/34732496/can-i-inject-javascript-code-into-chrome-custom-tabs\">Can I inject Javascript code into Chrome Custom Tabs</a>"}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "reply_to_user": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 1, "creation_date": 1562738971, "post_id": 56961932, "comment_id": 100465999, "body": "@MorrisonChang your marked post pointed different question. Please see my update. Requesting to revert your close vote."}, {"owner": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 0, "creation_date": 1562741561, "post_id": 56961932, "comment_id": 100467029, "body": "Unclear how <code>invoke method from web app to my native code via JS interface</code> wouldn&#39;t have the same security issues as in linked duplicate as that would presume the web content &quot;know&quot; something outside of web container (and get a result back). I think you are stuck with only using known web APIs (camera, device orientation, etc) and URI intercept."}, {"owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "reply_to_user": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "edited": false, "score": 1, "creation_date": 1562742202, "post_id": 56961932, "comment_id": 100467378, "body": "@MorrisonChang my suggestion is, please discuss in comment/answer or if you feel edit the post before marking it duplicate on a hurry. This is a specific question for single flow where native has no capability of changing web-app or anything (i.e. js injection). There is no selected answer yet and security concern discussed in most voted answer in your marked post nowhere related to my question. Requesting you again to revert your close vote with respect."}, {"owner": {"reputation": 3616, "user_id": 3196753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/28ruV.jpg?s=128&g=1", "display_name": "tresf", "link": "https://stackoverflow.com/users/3196753/tresf"}, "edited": false, "score": 0, "creation_date": 1583880587, "post_id": 56961932, "comment_id": 107260618, "body": "<code>Unclear how invoke method from web app to my native code via JS interface wouldn&#39;t have the same security issues as in linked duplicate</code>  ... because communication is not the same as code injection.  If the site has a medium for communication and the app has a way to interpret it, it&#39;s reasonable to assume the page was coded with the app in mind.  It shouldn&#39;t be assumed that request for communication is the same as request for code injection.  When tech prevents this, it just means basic communication needs to go through a bloated webservice, which is silly when the app&#39;s right there."}], "answers": [{"tags": [], "owner": {"reputation": 10261, "user_id": 295004, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a29d6038e4dcb7fac98ef41c002975e1?s=128&d=identicon&r=PG", "display_name": "Morrison Chang", "link": "https://stackoverflow.com/users/295004/morrison-chang"}, "is_accepted": false, "score": 1, "last_activity_date": 1562744029, "last_edit_date": 1562744029, "creation_date": 1562743345, "answer_id": 56965414, "question_id": 56961932, "link": "https://stackoverflow.com/questions/56961932/how-to-use-js-bridge-in-chrome-custom-tab/56965414#56965414", "title": "How to use js bridge in chrome custom tab", "body": "<p>Based on <a href=\"https://stackoverflow.com/questions/34732496/can-i-inject-javascript-code-into-chrome-custom-tabs\">Can I Inject Javascript Code into Chrome Custom Tabs</a> the answer appears to be <strong>no</strong>.</p>\n\n<p>Chrome Custom Tab is based on Chrome itself and has the same security model. The web content is only allowed access to the Web APIs (camera, device orientation, etc.) and has no access to the native app. At best the native app can capture a URI.</p>\n\n<p>Even the <a href=\"https://developer.chrome.com/multidevice/android/customtabs\" rel=\"nofollow noreferrer\">Chrome Custom Tab documentation</a> state that the way for a native app to handle content:</p>\n\n<blockquote>\n  <p>Some URLs can be handled by native applications. If the user has the Twitter app installed and clicks on a link to a tweet. She expects that the Twitter application will handle it.</p>\n  \n  <p>Before opening an url from your application, check if a native alternative is available and use it.</p>\n</blockquote>\n\n<p>Implies that either a native app handles a URL or not. My interpretation of Chrome Custom Tab is a skinnable Chrome component adjacent to the native app rather than internal to a native app like a WebView where a Javascript bridge exists.</p>\n\n<p>Your desire for a Javascript bridge from a web app would mean that there would be a arbitrary way for any website code to interact outside of the web container. The rational as to why that is not allowed is given as the responses in the first link.</p>\n"}], "owner": {"reputation": 29080, "user_id": 1084174, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/BsASP.png?s=128&g=1", "display_name": "Sazzad Hissain Khan", "link": "https://stackoverflow.com/users/1084174/sazzad-hissain-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 915, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1562744029, "creation_date": 1562717973, "last_edit_date": 1592644375, "question_id": 56961932, "link": "https://stackoverflow.com/questions/56961932/how-to-use-js-bridge-in-chrome-custom-tab", "title": "How to use js bridge in chrome custom tab", "body": "<p>Google <code>oAuth</code> is not supported in android <code>webView</code>. Google recommends to use chrome custom tab for proceeding oAuth. I have also requirements of js call from my web app to native. How to configure to call native methods from web app using chrome custom tab in android similarly like js interface in <code>webView</code>?</p>\n<h3>Update 1</h3>\n<p>This mod <a href=\"https://stackoverflow.com/users/295004/morrison-chang\">Chang</a> marked the post as duplicate but the post is different. I don't want to run any JS in my web app from native. I want to invoke method from web app to my native code via JS interface. Is there any way for CCT?</p>\n"}, {"tags": ["android", "json", "kotlin", "gson"], "answers": [{"tags": [], "owner": {"reputation": 4857, "user_id": 9199362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tHXd5.png?s=128&g=1", "display_name": "Birju Vachhani", "link": "https://stackoverflow.com/users/9199362/birju-vachhani"}, "is_accepted": false, "score": 9, "last_activity_date": 1592213561, "last_edit_date": 1592213561, "creation_date": 1562740929, "answer_id": 56964746, "question_id": 56961685, "link": "https://stackoverflow.com/questions/56961685/convert-kotlin-data-class-into-json-string/56964746#56964746", "title": "convert kotlin data class into json string", "body": "<p>I can see that you want to serialize the <code>ArrayList&lt;UserPatient&gt;</code>. You can do it easily with <code>Gson</code>.</p>\n\n<p>Example:</p>\n\n<pre class=\"lang-kotlin prettyprint-override\"><code>val response = AccountInfoResponse(/* Here goes the objects that is needed to create instance of this class */)\n\nval jsonString = Gson().toJson(response.userpatients)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{\"userpatients\":[{\"sex\":\"male\",\"date of birth\":\"2010-01-03\",\"image\":\"\",\"clinics\":[1],\"primary_provider\":[{\"clinic\":1,\"patient\":1,\"providers\":1}],\"role\":\"patient\",\"last name\":\"John\",\"address\":\"300 east main st.  San Jose, Ca 95014\",\"first name\":\"John\",\"username\":\"John\",\"email\":\"sameh88@ensofia.com\",\"mobile\":\"+88083918427\"}],\"userpatients\":[{\"sex\":\"female\",\"date of birth\":\"2000-01-01\",\"address\":\"fawal st1\",\"patientID\":1,\"first name\":\"john\",\"clinicName\":\"light house peds\",\"clinicID\":1,\"mobile\":\"8056688042\",\"last name\":\"john\"}]}\n</code></pre>\n"}], "owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12648, "favorite_count": 0, "answer_count": 1, "score": 8, "last_activity_date": 1592213561, "creation_date": 1562715461, "last_edit_date": 1562744227, "question_id": 56961685, "link": "https://stackoverflow.com/questions/56961685/convert-kotlin-data-class-into-json-string", "title": "convert kotlin data class into json string", "body": "<p>I have a data class with this class definition</p>\n\n<pre><code>data class AccountInfoResponse(\n    @SerializedName(\"userprofile\") val userprofiles: ArrayList&lt;UserProfile&gt;,\n    @SerializedName(\"userpatients\") val userpatients: ArrayList&lt;UserPatient&gt;\n)\n\nclass UserPatient (\n    @SerializedName(\"sex\") val sex: String,\n    @SerializedName(\"date of birth\") val date_of_birth: String,\n    @SerializedName(\"address\") val address: String,\n    @SerializedName(\"patientID\") val patientId: Int,\n    @SerializedName(\"first name\") val first_name: String,\n    @SerializedName(\"clinicName\") val clinic_name: String,\n    @SerializedName(\"clinicID\") val clinicId: Int,\n    @SerializedName(\"mobile\") val mobile: String,\n    @SerializedName(\"last name\") val last_name: String\n)\n</code></pre>\n\n<p>I need to convert this class to be json string like this</p>\n\n<pre><code>{\"userpatients\":[{\"sex\":\"male\",\"date of birth\":\"2010-01-03\",\"image\":\"\",\"clinics\":[1],\"primary_provider\":[{\"clinic\":1,\"patient\":1,\"providers\":1}],\"role\":\"patient\",\"last name\":\"John\",\"address\":\"300 east main st.  San Jose, Ca 95014\",\"first name\":\"John\",\"username\":\"John\",\"email\":\"sameh88@ensofia.com\",\"mobile\":\"+88083918427\"}],\"userpatients\":[{\"sex\":\"female\",\"date of birth\":\"2000-01-01\",\"address\":\"fawal st1\",\"patientID\":1,\"first name\":\"john\",\"clinicName\":\"light house peds\",\"clinicID\":1,\"mobile\":\"8056688042\",\"last name\":\"john\"}]}\n</code></pre>\n"}, {"tags": ["kotlin", "blockchain", "corda"], "comments": [{"owner": {"reputation": 480, "user_id": 9514208, "user_type": "registered", "profile_image": "https://graph.facebook.com/10158721469590341/picture?type=large", "display_name": "Nicholas Rogers", "link": "https://stackoverflow.com/users/9514208/nicholas-rogers"}, "edited": false, "score": 0, "creation_date": 1590081861, "post_id": 56961242, "comment_id": 109552305, "body": "Hey @vladich - thanks for your questions. I have a couple of follow-ups. Is this repo available as a PR against the tokens SDK? Is there anyway I could pull down / review? Also how are you deploying your nodes? The root directory of the deployed Corda node is different than the root of the repository (e.g. src/main may not be easily accessible). You may have to create a seperate gradle task to copy the files into the deployed nodes directory (if you are hoping to test locally)"}], "answers": [{"tags": [], "owner": {"reputation": 849, "user_id": 2178438, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/aT0em.jpg?s=128&g=1", "display_name": "davidawad", "link": "https://stackoverflow.com/users/2178438/davidawad"}, "is_accepted": false, "score": 0, "last_activity_date": 1593456161, "creation_date": 1593456161, "answer_id": 62644724, "question_id": 56961242, "link": "https://stackoverflow.com/questions/56961242/issues-during-implementation-of-custom-eth-settler/62644724#62644724", "title": "Issues during implementation of custom ETH settler", "body": "<p>VERY strange that Corda is giving you an out of memory error when running that flow.</p>\n<p>I'd actually say that we'd need to be able to see the code for the flow in order to know how it could have run out of memory.</p>\n<p>Are you running it in a container? Just make sure that you're meeting the requirements to run a JVM with an application on top.</p>\n<p>tl;dr use a 8GB RAM machine to run your Corda node on the latest version of corda that should hopefully solve this issue.</p>\n<p>Here's the docs page on the memory requirements;\n<a href=\"https://docs.corda.net/docs/corda-enterprise/4.5/node/performance-results.html#sizing\" rel=\"nofollow noreferrer\">https://docs.corda.net/docs/corda-enterprise/4.5/node/performance-results.html#sizing</a></p>\n"}], "owner": {"reputation": 61, "user_id": 11761846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f727bacb45cdd3aa1c37b4fda8330eb6?s=128&d=identicon&r=PG", "display_name": "vladich", "link": "https://stackoverflow.com/users/11761846/vladich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 131, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1593456161, "creation_date": 1562711449, "last_edit_date": 1562747039, "question_id": 56961242, "link": "https://stackoverflow.com/questions/56961242/issues-during-implementation-of-custom-eth-settler", "title": "Issues during implementation of custom ETH settler", "body": "<p>I have investigated and played with <code>corda-settler</code> project. Following the recommendations within the documentation, I have created a custom <code>ethereum</code> module (with an outline similar to the <code>ripple</code> module), providing the option to settle obligations using off-ledger payments in <code>ETH</code>. The implementation (<a href=\"https://github.com/vladichhh/corda-settler\" rel=\"noreferrer\">https://github.com/vladichhh/corda-settler</a>)\nconsists of the following significant pieces:</p>\n\n<pre><code>flows\n    MakeEthPayment\nservices\n    ETHClient\n    ETHService\ntypes\n    EthPayment\n    EthSettlement\ntoken\n    registered DigitalCurrency for ETH\noracle\n    added logic for ETH payment verification\n</code></pre>\n\n<p><strong>MakeEthPayment.kt</strong></p>\n\n<pre><code>@Suspendable\noverride fun makePayment(obligation: Obligation&lt;*&gt;, amount: Amount&lt;T&gt;): EthPayment&lt;T&gt; {\n\n    // get ETHService client\n    val ethClient = serviceHub.cordaService(ETHService::class.java).client\n\n    val recipient = obligation.settlementMethod?.accountToPay.toString()\n    val amountToSend = amount.quantity.toString()\n\n    // trigger ETH transfer\n    val txHash = ethClient.sendEth(recipient, amountToSend)\n\n    // return the payment\n    return EthPayment(txHash, amount, PaymentStatus.SENT)\n}\n</code></pre>\n\n<p><strong>ETHClient.kt</strong></p>\n\n<pre><code>fun sendEth(recipient: String, amount: String): String {\n    val weiAmount: BigInteger = Convert.toWei(amount, Convert.Unit.GWEI).toBigInteger()\n\n    val credentials: Credentials = WalletUtils.loadCredentials(walletPassword, walletFile)\n\n    val transactionReceipt: TransactionReceipt = Transfer\n            .sendFunds(web3j, credentials, recipient, BigDecimal(weiAmount), Convert.Unit.WEI)\n            .send()\n\n    return transactionReceipt.transactionHash\n}\n</code></pre>\n\n<p>In order to send the required ETH amount to the specified recipient account, we have to do some Ethereum specific stuff:</p>\n\n<ul>\n<li>we are connecting to Ethereum public blockchain environment, using \u201cweb3j\u201d library</li>\n<li>in order to trigger am Etherem transaction and transfer specified ETH amount, \"web3j\" requires an access to the file, containing encrypted sender's wallet</li>\n<li>thus we have to provide password (to decrypt wallet) and location of the file, containing encrypted sender's wallet</li>\n</ul>\n\n<p>And here are the issues:</p>\n\n<ul>\n<li>I got the exception that the file could not be found, no matter where I am putting it. I have checked even the \u201cswift\u201d implementation and tried to use the class loader to load my file, but without success.</li>\n<li>I suppose, the file with encrypted sender\u2019s wallet should be located on one of the following places:</li>\n</ul>\n\n<pre><code>corda-settler/ethereum/src/main/resources/file.tmp\ncorda-settler/cordapp/src/main/resources/file.tmp\n</code></pre>\n\n<ul>\n<li>Finally I have hardcoded the location in that way:</li>\n</ul>\n\n<pre><code>/Users/vladimirhristov/WebstormProjects/Corda/corda-settler/cordapp/src/main/resources/file.tmp\n</code></pre>\n\n<p>and seems that the file was found but got another exception:</p>\n\n<p><a href=\"https://i.stack.imgur.com/zVK7w.png\" rel=\"noreferrer\">java.lang.OutOfMemoryError - screenshot</a></p>\n\n<p>Seems that the operation of wallet decryption is highly consuming, which breaks maybe the flow. There is an option to reduce the algorithm complexity of the wallet generation, which will reflect in lower resources required to decrypt the same wallet at the next step, but this will reduce the security as well.</p>\n\n<p>And here are my three basic questions ...</p>\n\n<ol>\n<li>How could I specify (location/mechanism) and make flow to find successfully my file, containing the sender\u2019s encrypted wallet ?</li>\n<li>How could I access a files in the flow, or if there is another mechanism to attach only the file with encrypted wallet and pass the decryption to core Corda ?</li>\n<li>Do I need just to increase node resources (tuning JVM params increasing -Xms/-Xmx) in order to avoid OutOfMemoryError ?</li>\n</ol>\n\n<p>Content of the file (containing encrypted sender\u2019s wallet):</p>\n\n<p><strong>file.tmp</strong></p>\n\n<pre><code>{\"version\":3,\"id\":\"ecb51768-8564-498a-bb11-3a5a5c8dc0bb\",\"address\":\"2bafc482bd227dfd5ba250521a00be3a4cc88bbd\",\"crypto\":{\"ciphertext\":\"e0511415792dfa7221ba1b8f32b8ec98e1410f45e612e2100df1aceddfdb22bd\",\"cipherparams\":{\"iv\":\"7ffa2af08f502c63d57e62440ad77539\"},\"cipher\":\"aes-128-ctr\",\"kdf\":\"scrypt\",\"kdfparams\":{\"dklen\":32,\"salt\":\"8051a5df1c02eb3eba81d2920fbb84b76b948a1248bbba62ffff684e733948cf\",\"n\":131072,\"r\":8,\"p\":1},\"mac\":\"be23fe0e261ba38892581d80afd0c86563748377b5cc702b6ed3285a13cceff6\"}}\n</code></pre>\n\n<p>I will appreciate any help! Thanks in advance :)</p>\n"}, {"tags": ["android", "kotlin", "android-recyclerview"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 4465348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kNsEfzwhzx8/AAAAAAAAAAI/AAAAAAAAAAA/LuGdvQs5FIs/photo.jpg?sz=128", "display_name": "dbaddorf", "link": "https://stackoverflow.com/users/4465348/dbaddorf"}, "edited": false, "score": 0, "creation_date": 1562852931, "post_id": 56964948, "comment_id": 100516117, "body": "Thanks so much!  I&#39;ll update my post with the working code."}], "tags": [], "owner": {"reputation": 4857, "user_id": 9199362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tHXd5.png?s=128&g=1", "display_name": "Birju Vachhani", "link": "https://stackoverflow.com/users/9199362/birju-vachhani"}, "is_accepted": true, "score": 0, "last_activity_date": 1562741703, "creation_date": 1562741703, "answer_id": 56964948, "question_id": 56960596, "link": "https://stackoverflow.com/questions/56960596/using-kotlin-to-update-actionbar-in-android-recyclerviewadapter/56964948#56964948", "title": "Using Kotlin to update ActionBar in Android RecyclerViewAdapter", "body": "<p>You can do it by using Kotlin's lambda functions like this:</p>\n\n<p>Adapter:</p>\n\n<pre><code>class ItemRecyclerViewAdapter(\n    private val itemArray: MutableList&lt;ItemObject&gt;,\n    val onItemAdded: (ItemObject) -&gt; Unit = {}\n) :\n    RecyclerView.Adapter&lt;ItemRecyclerViewAdapter.ViewHolder&gt;() {\n\n    override fun getItemCount(): Int {\n        return itemArray.size\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        return ViewHolder(LayoutInflater.from(parent.context).inflate(R.layout.item_layout,parent,false))\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        holder.cardViewAdd.setOnClickListener {\n            updateItemQty(position, itemArray[position].qtyOrdered + 1)\n            onItemAdded(itemArray[position])\n        }\n    }\n\n    class ViewHolder(v: View) : RecyclerView.ViewHolder(v) {\n        val cardViewAdd: Button = v.findViewById(R.id.cardview_item_Add)\n\n        fun bind(item:ItemObject){\n            // bind your data with view here\n        }\n    }\n\n    fun updateItemQty(arrayPosition: Int, pQtyOrdered: Int) {\n        itemArray[arrayPosition].qtyOrdered = pQtyOrdered\n        notifyItemChanged(arrayPosition)\n    }\n}\n</code></pre>\n\n<p>In Your Activity:</p>\n\n<p>class CartActivity : BaseActivity() {\n    internal var cartItemsList: MutableList = ArrayList()</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.cart_master)\n\n    cartItemsList = DatabaseAdapter.cartItems\n    cart_RecyclerView.setHasFixedSize(true)\n    cart_RecyclerView.layoutManager = LinearLayoutManager(this)\n    rvAdapter = ItemRecyclerViewAdapter(cartItemsList, this){item-&gt;\n        // here you can access your ActionBar as perform actions on it\n    }\n    cart_RecyclerView.adapter = rvAdapter\n}\n</code></pre>\n\n<p>}</p>\n"}], "owner": {"reputation": 35, "user_id": 4465348, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kNsEfzwhzx8/AAAAAAAAAAI/AAAAAAAAAAA/LuGdvQs5FIs/photo.jpg?sz=128", "display_name": "dbaddorf", "link": "https://stackoverflow.com/users/4465348/dbaddorf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 56964948, "answer_count": 1, "score": 0, "last_activity_date": 1562853286, "creation_date": 1562706880, "last_edit_date": 1562853286, "question_id": 56960596, "link": "https://stackoverflow.com/questions/56960596/using-kotlin-to-update-actionbar-in-android-recyclerviewadapter", "title": "Using Kotlin to update ActionBar in Android RecyclerViewAdapter", "body": "<p>I have a RecyclerViewAdapter for a shopping cart application written in Kotlin.  When users change the quantity of items in their cart I would like to update the title of the ActionBar with the current cart total.  </p>\n\n<p>I've looked at various code using callbacks, listeners, and passing context to try to access the ActionBar from the RecyclerViewAdapter but I don't know if these are applicable to Kotlin nor do they make too much sense having always kept all of my code within the RecyclerViewAdapter (database lookups, writes, CardView updates, etc.)</p>\n\n<p>Here is the highly abbreviated code for my calling code and the RecyclerViewAdapter (but I hope that I have all of the important components):</p>\n\n<pre><code>class ItemRecyclerViewAdapter(private val itemArray: MutableList&lt;ItemObject&gt;, private val contextABC: Context) : RecyclerView.Adapter&lt;ItemRecyclerViewAdapter.ViewHolder&gt;() {\n\n    inner class ViewHolder(v: View) : RecyclerView.ViewHolder(v) {\n        private val cardViewAdd: Button\n\n        init {\n            cardViewAdd = v.findViewById&lt;View&gt;(R.id.cardview_item_Add) as Button\n\n            // Add one to Qty Ordered\n            cardViewAdd.setOnClickListener { updateItemQty(adapterPosition, itemArray[adapterPosition].qtyOrdered + 1, v) }\n        }\n    }\n\nprivate fun updateItemQty(arrayPosition: Int, pQtyOrdered: Int, v: View) {\n            itemArray[arrayPosition].qtyOrdered = pQtyOrdered\n            notifyItemChanged(arrayPosition)\n    }\n}\n</code></pre>\n\n<pre><code>class CartActivity : BaseActivity() {\n    internal var cartItemsList: MutableList&lt;ItemObject&gt; = ArrayList()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.cart_master)\n\n        cartItemsList = DatabaseAdapter.cartItems\n        cart_RecyclerView.setHasFixedSize(true)\n        cart_RecyclerView.layoutManager = LinearLayoutManager(this)\n        rvAdapter = ItemRecyclerViewAdapter(cartItemsList, this)\n        cart_RecyclerView.adapter = rvAdapter\n    }\n}\n</code></pre>\n\n<p>Can anyone get me going in the correct direction?  I certainly appreciate the help!</p>\n\n<p>[Edit]\nWith the great help of Birju Vachhani, here is my working code:</p>\n\n<pre><code>class ItemRecyclerViewAdapter(private val itemArray: MutableList&lt;ItemObject&gt;,\n    private val contextABC: Context, val updateActionBarTitle: (ItemObject) -&gt; Unit = {})\n : RecyclerView.Adapter&lt;ItemRecyclerViewAdapter.ViewHolder&gt;() {\n\n    inner class ViewHolder(v: View) : RecyclerView.ViewHolder(v) {\n        private val cardViewAdd: Button\n\n        init {\n            cardViewAdd = v.findViewById&lt;View&gt;(R.id.cardview_item_Add) as Button\n\n            // Add one to Qty Ordered\n            cardViewAdd.setOnClickListener { updateItemQty(adapterPosition, itemArray[adapterPosition].qtyOrdered + 1, v) }\n        }\n    }\n\nprivate fun updateItemQty(arrayPosition: Int, pQtyOrdered: Int, v: View) {\n            itemArray[arrayPosition].qtyOrdered = pQtyOrdered\n            notifyItemChanged(arrayPosition)\n            updateActionBarTitle(itemArray[arrayPosition])\n    }\n}\n</code></pre>\n\n<pre><code>class CartActivity : BaseActivity() {\n    internal var cartItemsList: MutableList&lt;ItemObject&gt; = ArrayList()\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.cart_master)\n\n        cartItemsList = DatabaseAdapter.cartItems\n        cart_RecyclerView.setHasFixedSize(true)\n        cart_RecyclerView.layoutManager = LinearLayoutManager(this)\n        rvAdapter = ItemRecyclerViewAdapter(cartItemsList, this){item-&gt;\n            supportActionBar?.setTitle(\"hi\")\n        }\n        cart_RecyclerView.adapter = rvAdapter\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "json", "kotlin", "retrofit"], "comments": [{"owner": {"reputation": 369, "user_id": 10610726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc69550256823872e26986bfa833cb?s=128&d=identicon&r=PG&f=1", "display_name": "underoid", "link": "https://stackoverflow.com/users/10610726/underoid"}, "edited": false, "score": 0, "creation_date": 1562708067, "post_id": 56960314, "comment_id": 100459511, "body": "have you tried <a href=\"https://stackoverflow.com/questions/38687040/remove-back-slash-from-json-string-in-android\">this?</a>"}, {"owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "reply_to_user": {"reputation": 369, "user_id": 10610726, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cafc69550256823872e26986bfa833cb?s=128&d=identicon&r=PG&f=1", "display_name": "underoid", "link": "https://stackoverflow.com/users/10610726/underoid"}, "edited": false, "score": 0, "creation_date": 1562712034, "post_id": 56960314, "comment_id": 100460424, "body": "yes first thing and it did not work"}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 10209025, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7LTwdOg3ZcU/AAAAAAAAAAI/AAAAAAAAACM/gZkrkx3NOig/photo.jpg?sz=128", "display_name": "Sreedev P R", "link": "https://stackoverflow.com/users/10209025/sreedev-p-r"}, "edited": false, "score": 0, "creation_date": 1562740861, "post_id": 56964703, "comment_id": 100466728, "body": "and use val jsonParams : JRDataClass"}], "tags": [], "owner": {"reputation": 131, "user_id": 10209025, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7LTwdOg3ZcU/AAAAAAAAAAI/AAAAAAAAACM/gZkrkx3NOig/photo.jpg?sz=128", "display_name": "Sreedev P R", "link": "https://stackoverflow.com/users/10209025/sreedev-p-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1562740778, "creation_date": 1562740778, "answer_id": 56964703, "question_id": 56960314, "link": "https://stackoverflow.com/questions/56960314/retrofit-generate-unformatted-complex-json-object/56964703#56964703", "title": "retrofit generate unformatted complex json object", "body": "<p>It seems like the problem is with your JR of type String.\nAll the other params are in the proper format right?\nSo, I suggest that you provide type JR to another custom data class like</p>\n\n<p>data class JRDataClass{\nText : String,\n//and the rest of the data types\n}</p>\n"}], "owner": {"reputation": 8214, "user_id": 458700, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/0aae22509915fa4da811f48e757f4860?s=128&d=identicon&r=PG&f=1", "display_name": "Amira Elsayed Ismail", "link": "https://stackoverflow.com/users/458700/amira-elsayed-ismail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562740778, "creation_date": 1562705352, "question_id": 56960314, "link": "https://stackoverflow.com/questions/56960314/retrofit-generate-unformatted-complex-json-object", "title": "retrofit generate unformatted complex json object", "body": "<p>I am having a very strange problem </p>\n\n<p>I am trying to build a complex json object which contains nested json</p>\n\n<p>I have created it but when I send the request it crash </p>\n\n<p>here is the format that I need </p>\n\n<pre><code>{\"JR\":\"{\"Text\":\"\",\"userID\":4,\"Context\":\"\",\"ClinicId\":1}\",\"TO\":\"getWatsonMessage\",\"ver\":2}\n</code></pre>\n\n<p>what I found in the request body as following: </p>\n\n<pre><code>{\"JR\":\"{\\\"Text\\\":\\\"\\\",\\\"userID\\\":4,\\\"Context\\\":\\\"\\\",\\\"ClinicId\\\":1}\",\"TO\":\"getWatsonMessage\",\"ver\":2}\n</code></pre>\n\n<p>which make the app crash</p>\n\n<p>here is my code</p>\n\n<pre><code>data class MyBody @JvmOverloads constructor(\n    @SerializedName(\"ver\") val version: Int,\n    @SerializedName(\"TO\") val methodName: String,\n    @SerializedName(\"JR\") val jsonParams: String,\n    @SerializedName(\"Method\") var methodType: String? = null\n)\n</code></pre>\n\n<p>and this is how I create the sub json object </p>\n\n<pre><code>val jsonJR = JSONObject()\n        jsonJR.put(\"Text\",text)\n        jsonJR.put(\"userID\",userId)\n        jsonJR.put(\"Context\",context)\n        jsonJR.put(\"ClinicId\",clinicId)\n</code></pre>\n\n<p>can anyone please help ?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 0, "creation_date": 1562704845, "post_id": 56960151, "comment_id": 100458400, "body": "I don&#39;t think it&#39;s a good idea to access the fragment manger from inside the view. I think it would be better to have a sort of <code>onLoseListener</code> function in your custom view, just like the standard <code>onClickListener</code> so that the fragment knows when the &quot;lose&quot; event happens and can act accordingly"}, {"owner": {"reputation": 171, "user_id": 3663235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c3d76ec6c9e119b0dbd81c487fe61f?s=128&d=identicon&r=PG&f=1", "display_name": "Joaco", "link": "https://stackoverflow.com/users/3663235/joaco"}, "reply_to_user": {"reputation": 1600, "user_id": 1292745, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eGKY6.gif?s=128&g=1", "display_name": "gpunto", "link": "https://stackoverflow.com/users/1292745/gpunto"}, "edited": false, "score": 0, "creation_date": 1562706400, "post_id": 56960151, "comment_id": 100458976, "body": "ohh, that makes sense, how can i do that?"}], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 3663235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c3d76ec6c9e119b0dbd81c487fe61f?s=128&d=identicon&r=PG&f=1", "display_name": "Joaco", "link": "https://stackoverflow.com/users/3663235/joaco"}, "edited": false, "score": 0, "creation_date": 1562788197, "post_id": 56968260, "comment_id": 100491489, "body": "I tried this and updated the post with code, it gives me an error in GameFragment: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.example.myapplication.Game.setOnLoseListener(kotlin.jvm.&zwnj;&#8203;functions.Function0)&zwnj;&#8203;&#39; on a null object reference         at com.example.myapplication.GameFragment.onCreateView(GameFrag&zwnj;&#8203;ment.kt:55)"}, {"owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "reply_to_user": {"reputation": 171, "user_id": 3663235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c3d76ec6c9e119b0dbd81c487fe61f?s=128&d=identicon&r=PG&f=1", "display_name": "Joaco", "link": "https://stackoverflow.com/users/3663235/joaco"}, "edited": false, "score": 0, "creation_date": 1562788774, "post_id": 56968260, "comment_id": 100491737, "body": "<code>&#47;&#47; assuming you have val customView : CustomView</code> Did you set up your <code>customView</code>?"}, {"owner": {"reputation": 171, "user_id": 3663235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c3d76ec6c9e119b0dbd81c487fe61f?s=128&d=identicon&r=PG&f=1", "display_name": "Joaco", "link": "https://stackoverflow.com/users/3663235/joaco"}, "edited": false, "score": 0, "creation_date": 1562789579, "post_id": 56968260, "comment_id": 100492011, "body": "Sorry im starting to learn Android, i dont uderstand what you mean by this, do you mean like this? Game is the Class of my customView    <code>lateinit var customView : Game</code>"}, {"owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "reply_to_user": {"reputation": 171, "user_id": 3663235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c3d76ec6c9e119b0dbd81c487fe61f?s=128&d=identicon&r=PG&f=1", "display_name": "Joaco", "link": "https://stackoverflow.com/users/3663235/joaco"}, "edited": false, "score": 0, "creation_date": 1562790099, "post_id": 56968260, "comment_id": 100492218, "body": "ok, first you have to set up your <code>customView</code> with something like <code>view.findViewById</code> (depending how you get instances of your <code>Views</code> in your code)"}], "tags": [], "owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "is_accepted": true, "score": 0, "last_activity_date": 1562752843, "creation_date": 1562752843, "answer_id": 56968260, "question_id": 56960151, "link": "https://stackoverflow.com/questions/56960151/use-supportfragmentmanager-inside-customview-inside-fragment/56968260#56968260", "title": "Use supportFragmentManager inside CustomView inside Fragment", "body": "<p>The typical pattern is to add a callback (listener) to your <code>View</code> that you <code>invoke</code> from inside, to signal the event to the code outside.</p>\n\n<pre><code>class CustomView @JvmOverloads constructor(\n    context: Context?,\n    attrs: AttributeSet? = null,\n    defStyleAttr: Int = 0\n) : View(context, attrs, defStyleAttr) {\n\n    var onLoseListener: () -&gt; Unit = {\n        // do nothing by default\n    }\n\n    // to signal the listener call -&gt; `onLoseListener.invoke()`\n}\n</code></pre>\n\n<p>Wherever you have your <code>CustomView</code>:</p>\n\n<pre><code>class CustomFragment : Fragment(){\n    override fun onCreateView(\n        inflater: LayoutInflater,\n        container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        //... inflate\n\n        // assuming you have `val customView : CustomView`\n        // setting up the listener:\n        customView.onLoseListener = {\n            //do something on the listener being invoked by the CustomView\n        }\n        return yourInflatedLayout\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 3663235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7c3d76ec6c9e119b0dbd81c487fe61f?s=128&d=identicon&r=PG&f=1", "display_name": "Joaco", "link": "https://stackoverflow.com/users/3663235/joaco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 173, "favorite_count": 0, "accepted_answer_id": 56968260, "answer_count": 1, "score": 1, "last_activity_date": 1562788098, "creation_date": 1562704410, "last_edit_date": 1562788098, "question_id": 56960151, "link": "https://stackoverflow.com/questions/56960151/use-supportfragmentmanager-inside-customview-inside-fragment", "title": "Use supportFragmentManager inside CustomView inside Fragment", "body": "<p>I have 2 fragments: MainGameFragment and PostGameFragment</p>\n\n<p>When MainActivity gets Launched it goes to MainGameFragment where i have a CustomView with an animation(it would be a game).</p>\n\n<p>Inside the CustomView i check every frame if the player loses, when he loses i call a method.</p>\n\n<p>I need to change to PostGameFragment from inside the CustomView when the player loses and the method is called.</p>\n\n<p>How can i do that?</p>\n\n<p>I tried using supportFragmentManager but i get this: Unresolved reference: supportFragmentManager</p>\n\n<p>Here i my GameFragment code, gameView is the ID of the CustomView that is inside GameFrament and Game is the class for the gameView where i have the onDraw method and the onLoseListener.</p>\n\n<pre><code>private const val ARG_PARAM1 = \"param1\"\nprivate const val ARG_PARAM2 = \"param2\"\n\nclass GameFragment : Fragment() {\nprivate var param1: String? = null\nprivate var param2: String? = null\nprivate var listener: OnFragmentInteractionListener? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n\n    arguments?.let {\n        param1 = it.getString(ARG_PARAM1)\n        param2 = it.getString(ARG_PARAM2)\n\n    }\n}\n\noverride fun onCreateView(\n\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n    // Inflate the layout for this fragment\n\n    val view: View = inflater.inflate(R.layout.fragment_game, container, false)\n\n    gameView.onLoseListener = {\n        println(\"Testing..\")\n    }\n\n    // Return the fragment view/layout\n    return view\n\n}\n\nfun onButtonPressed(uri: Uri) {\n    listener?.onFragmentInteraction(uri)\n}\n\noverride fun onAttach(context: Context) {\n    super.onAttach(context)\n    if (context is OnFragmentInteractionListener) {\n        listener = context\n    } else {\n        throw RuntimeException(context.toString() + \" must implement OnFragmentInteractionListener\")\n    }\n}\n\noverride fun onDetach() {\n    super.onDetach()\n    listener = null\n}\n\n\ninterface OnFragmentInteractionListener {\n    fun onFragmentInteraction(uri: Uri)\n\n}\ncompanion object {       \n    @JvmStatic\n    fun newInstance() =\n        GameFragment().apply {\n            arguments = Bundle().apply {\n\n            }\n        }\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["android", "kotlin", "kotlin-extension"], "answers": [{"tags": [], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "is_accepted": true, "score": 1, "last_activity_date": 1562704662, "creation_date": 1562704662, "answer_id": 56960206, "question_id": 56960079, "link": "https://stackoverflow.com/questions/56960079/how-to-make-this-code-nicer-should-i-have-utils-method-or-extension/56960206#56960206", "title": "How to make this code nicer should I have utils method or extension?", "body": "<p>You could create an extension function:</p>\n\n<pre><code>fun List&lt;Title&gt;.localized(locale: String): Title? =\n     firstOrNull { it.locale == locale }\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 9996550, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-OZXkpw9lFxs/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3-0pmpCUgZtLZ2oMRC0TMW5n72tA/mo/photo.jpg?sz=128", "display_name": "Artur A", "link": "https://stackoverflow.com/users/9996550/artur-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 56960206, "answer_count": 1, "score": 0, "last_activity_date": 1562704662, "creation_date": 1562704037, "question_id": 56960079, "link": "https://stackoverflow.com/questions/56960079/how-to-make-this-code-nicer-should-i-have-utils-method-or-extension", "title": "How to make this code nicer should I have utils method or extension?", "body": "<p>So this <code>getLocalizedTitle()</code> function I have for this 3 type of classes, should I have as utils and pass titles to this function or there can be nicer solution with extensions?</p>\n\n<pre><code>data class Carousel(val id: String, val titles: List&lt;Title&gt;) : ContentItem()\n data class HeroBanner(val titles: List&lt;Title&gt;,\n                        val descriptions: List&lt;Description&gt;,\n                        val images: List&lt;Image&gt;, val id: String) : ContentItem() \n}\n\n\ndata class MenuItem(val type: String, val titles: List&lt;Title&gt;, val actionType: String, val pageComponents: List&lt;PageComponent&gt;) :\n\n\n\n    fun getLocalizedTitle(locale: String): Title? {\n      val titles = titles.filter { it.locale == locale }\n      return if (titles.isNotEmpty()) {\n        titles[0]\n      } else {\n        null\n      }\n    }\n\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "textview", "margins"], "answers": [{"tags": [], "owner": {"reputation": 27113, "user_id": 1993204, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/n4qZa.jpg?s=128&g=1", "display_name": "Bartek Lipinski", "link": "https://stackoverflow.com/users/1993204/bartek-lipinski"}, "is_accepted": false, "score": 1, "last_activity_date": 1562763625, "creation_date": 1562763625, "answer_id": 56971282, "question_id": 56960004, "link": "https://stackoverflow.com/questions/56960004/setting-margins-on-a-textview-on-a-fragment-in-kotlin/56971282#56971282", "title": "Setting margins on a textView on a fragment in kotlin", "body": "<h1>Explanation:</h1>\n\n<p>You've hidden your problem with <code>?</code>.\nOperators that consist of <code>?</code> need to be used with care.</p>\n\n<h3>Operator <code>as?</code></h3>\n\n<pre><code>var params = textView.layoutParams as? LinearLayout.LayoutParams\n</code></pre>\n\n<p><code>as?</code> will return <code>null</code> if <code>textView.layoutParams</code> return <code>null</code>.\nAfter this call your <code>params</code> variable equals <code>null</code>.</p>\n\n<h3>Operator <code>?.</code></h3>\n\n<pre><code>params?.setMargins(48,10,48,10)\n</code></pre>\n\n<p>This is equal to:</p>\n\n<pre><code>if (params != null) {\n    params.setMargins(48, 10, 48, 10)\n}\n</code></pre>\n\n<p>In your case <code>params==null</code> so nothing is executed.</p>\n\n<h3><code>setLayoutParams</code> call (using property syntax)</h3>\n\n<p>The <code>setLayoutParams</code> method requires you to pass <code>non-null</code> <code>LayoutParams</code> argument. From <a href=\"https://developer.android.com/reference/android/view/View#setLayoutParams(android.view.ViewGroup.LayoutParams)\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p><code>ViewGroup.LayoutParams</code>: The layout parameters for this view, <strong>cannot be null</strong></p>\n</blockquote>\n\n<p>That's why when you pass <code>params==null</code> your app crashes.</p>\n\n<hr>\n\n<p><br></p>\n\n<h3>Why <code>textView.layoutParams</code> returns <code>null</code></h3>\n\n<p>From <a href=\"https://developer.android.com/reference/android/view/View#getLayoutParams()\" rel=\"nofollow noreferrer\">docs</a>:</p>\n\n<blockquote>\n  <p>The <code>LayoutParams</code> associated with this view, <strong>or null if no parameters have been set yet</strong></p>\n</blockquote>\n\n<p>You're calling <code>textView.layoutParams</code> for a <code>View</code> that was created manually (not through <code>xml</code> layout), with:</p>\n\n<pre><code>val textView = TextView(activity)\n</code></pre>\n\n<p><code>layoutParams</code> field says how a particular <code>view</code> is attached to the <strong>enclosing layout</strong>. So if you've created your <code>View</code> programmatically and you have not attached it to any <code>ViewGroup</code> (e.g. <code>FrameLayout</code>, <code>LinearLayout</code>, <code>ConstraintLayout</code>, etc.) the <code>getLayoutParams</code> will return <code>null</code> because there is no <strong>enclosing layout</strong> for your <code>View</code>.</p>\n\n<p><br></p>\n\n<h3>How to fix that?</h3>\n\n<p>Either add your <em>programmatically</em> created <code>View</code> to a <code>ViewGroup</code> using (one of) <a href=\"https://developer.android.com/reference/kotlin/android/view/ViewGroup?hl=en#addview\" rel=\"nofollow noreferrer\"><code>addView</code></a> method(s), or create your <code>View</code> in a layout xml file and put it inside a <code>ViewGroup</code> there.</p>\n"}], "owner": {"reputation": 9, "user_id": 11357544, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qtBuVZF0C9k/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3retucULbeHgHK8Qp7G6Wx9N3IzYMA/mo/photo.jpg?sz=128", "display_name": "Daniel Li", "link": "https://stackoverflow.com/users/11357544/daniel-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 244, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1567587555, "creation_date": 1562703663, "last_edit_date": 1567587555, "question_id": 56960004, "link": "https://stackoverflow.com/questions/56960004/setting-margins-on-a-textview-on-a-fragment-in-kotlin", "title": "Setting margins on a textView on a fragment in kotlin", "body": "<p>I am trying to create TextVIew margins in kotlin inside of a fragment. For some reason the parameters are null and the program crashes when the fragment gets executed. </p>\n\n<p>Printing the actual text works, it's just when I try to create margins, it won't work. I've tried placing safe null checks to allow nulls but ultimately ended with an null exception.</p>\n\n<pre><code>val textView = TextView(activity)\ntextView.text = \"Overall Rating: $overall_rating\\n$comments  \\n\" +\n    \" Will live again: $willLiveAgain\\nTimestamp: ${timestamp.toDate()}\\n\"\n\nvar params = textView.layoutParams as? LinearLayout.LayoutParams\nparams?.setMargins(48,10,48,10)\ntextView.id=1\ntextView.layoutParams = params  //nullpointer exception\n</code></pre>\n\n<blockquote>\n  <p>2019-07-08 23:50:26.021 2332-2332/com.example.cribb E/AndroidRuntime:\n  FATAL EXCEPTION: main\n      Process: com.example.cribb, PID: 2332\n      java.lang.NullPointerException: Layout parameters cannot be null\n          at android.view.View.setLayoutParams(View.java:16088)\n          at com.example.cribb.DisplayListingFragment$showReviews$1.onSuccess(DisplayListingFragment.kt:95)\n          at com.example.cribb.DisplayListingFragment$showReviews$1.onSuccess(DisplayListingFragment.kt:32)\n          at com.google.android.gms.tasks.zzn.run(Unknown Source:4)\n          at android.os.Handler.handleCallback(Handler.java:873)\n          at android.os.Handler.dispatchMessage(Handler.java:99)\n          at android.os.Looper.loop(Looper.java:193)\n          at android.app.ActivityThread.main(ActivityThread.java:6669)\n          at java.lang.reflect.Method.invoke(Native Method)\n          at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n          at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n  2019-07-08 23:50:26.039 2332-2332/com.example.cribb I/Process: Sending\n  signal. PID: 2332 SIG: 9</p>\n</blockquote>\n"}, {"tags": ["java", "android", "kotlin", "androidx"], "answers": [{"comments": [{"owner": {"reputation": 406, "user_id": 5194344, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-COFVuAxX0l0/AAAAAAAAAAI/AAAAAAAAJzI/ASEwnb9KXLM/photo.jpg?sz=128", "display_name": "Shyam Sunder", "link": "https://stackoverflow.com/users/5194344/shyam-sunder"}, "edited": false, "score": 1, "creation_date": 1562704382, "post_id": 56960018, "comment_id": 100458239, "body": "Thanks, it worked. Additionally I had to use androidTestImplementation &quot;androidx.test.ext:junit:1.1.1&quot; in my build.gradle for androidx.test.ext.junit.runners.AndroidJUnit4 to work"}, {"owner": {"reputation": 385, "user_id": 9884320, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "User One", "link": "https://stackoverflow.com/users/9884320/user-one"}, "edited": false, "score": 0, "creation_date": 1562706843, "post_id": 56960018, "comment_id": 100459120, "body": "So which Context return ApplicationProvider ?"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 385, "user_id": 9884320, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "User One", "link": "https://stackoverflow.com/users/9884320/user-one"}, "edited": false, "score": 0, "creation_date": 1562706888, "post_id": 56960018, "comment_id": 100459136, "body": "@UserOne: I am sorry, but I do not understand your question."}, {"owner": {"reputation": 385, "user_id": 9884320, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "User One", "link": "https://stackoverflow.com/users/9884320/user-one"}, "edited": false, "score": 0, "creation_date": 1562706997, "post_id": 56960018, "comment_id": 100459164, "body": "Based on this \u300agetInstrumentation().getTargetContext().\u300b ApplicationsProvider also return the App Context under Test"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "reply_to_user": {"reputation": 385, "user_id": 9884320, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "User One", "link": "https://stackoverflow.com/users/9884320/user-one"}, "edited": false, "score": 1, "creation_date": 1562707146, "post_id": 56960018, "comment_id": 100459210, "body": "@UserOne: Ah, I see. Yes, <a href=\"https://developer.android.com/reference/androidx/test/core/app/ApplicationProvider\" rel=\"nofollow noreferrer\"><code>ApplicationProvider</code> has a static <code>getApplicationContext()</code> method</a> that you can use to get the <code>Application</code> singleton for the code under test. I was focused more on modifying the code from the question."}, {"owner": {"reputation": 385, "user_id": 9884320, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "User One", "link": "https://stackoverflow.com/users/9884320/user-one"}, "edited": false, "score": 0, "creation_date": 1562707525, "post_id": 56960018, "comment_id": 100459348, "body": "Ok no problems, we can use it too sometime"}], "tags": [], "owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "is_accepted": false, "score": 1, "last_activity_date": 1562703724, "creation_date": 1562703724, "answer_id": 56960018, "question_id": 56959960, "link": "https://stackoverflow.com/questions/56959960/after-androidx-migration-androidtestcase-androidjunit4-instrumentationregistr/56960018#56960018", "title": "After AndroidX migration AndroidTestCase, AndroidJUnit4 &amp; InstrumentationRegistry.getTargetContext are depricated", "body": "<blockquote>\n  <p>all my Android tests which extends AndroidTestCase stopped working</p>\n</blockquote>\n\n<p><code>AndroidTestCase</code> was deprecated <a href=\"https://developer.android.com/reference/android/test/AndroidTestCase\" rel=\"nofollow noreferrer\">three years ago</a> with the release of Android 7.0.</p>\n\n<blockquote>\n  <p>I have decided to use @RunWith(AndroidJUnit4.class) instead but this is also deprecated</p>\n</blockquote>\n\n<p>Use <code>androidx.test.ext.junit.runners.AndroidJUnit4</code>.</p>\n\n<blockquote>\n  <p>even InstrumentationRegistry.getTargetContext() is also deprecated</p>\n</blockquote>\n\n<p>If you are using <code>androidx.test.platform.app.InstrumentationRegistry</code>, call <code>getInstrumentation().getTargetContext()</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1557, "user_id": 10008183, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-H2oBc1SH68A/AAAAAAAAAAI/AAAAAAAAAuw/w1z-RiIGsvs/photo.jpg?sz=128", "display_name": "Doilio Matsinhe", "link": "https://stackoverflow.com/users/10008183/doilio-matsinhe"}, "is_accepted": false, "score": 1, "last_activity_date": 1594199120, "last_edit_date": 1594199120, "creation_date": 1574927201, "answer_id": 59083952, "question_id": 56959960, "link": "https://stackoverflow.com/questions/56959960/after-androidx-migration-androidtestcase-androidjunit4-instrumentationregistr/59083952#59083952", "title": "After AndroidX migration AndroidTestCase, AndroidJUnit4 &amp; InstrumentationRegistry.getTargetContext are depricated", "body": "<p>Add this line to your build.gradle:</p>\n<pre><code>androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/dEMUN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dEMUN.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://developer.android.com/reference/androidx/test/runner/AndroidJUnit4\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/test/runner/AndroidJUnit4</a></p>\n"}], "owner": {"reputation": 406, "user_id": 5194344, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-COFVuAxX0l0/AAAAAAAAAAI/AAAAAAAAJzI/ASEwnb9KXLM/photo.jpg?sz=128", "display_name": "Shyam Sunder", "link": "https://stackoverflow.com/users/5194344/shyam-sunder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 620, "favorite_count": 1, "answer_count": 2, "score": 4, "last_activity_date": 1594199120, "creation_date": 1562703445, "question_id": 56959960, "link": "https://stackoverflow.com/questions/56959960/after-androidx-migration-androidtestcase-androidjunit4-instrumentationregistr", "title": "After AndroidX migration AndroidTestCase, AndroidJUnit4 &amp; InstrumentationRegistry.getTargetContext are depricated", "body": "<p>After AndroidX migration all my Android tests which extends <code>AndroidTestCase</code> stopped working.\nI have decided to use <code>@RunWith(AndroidJUnit4.class)</code> instead but this is also deprecated, even <code>InstrumentationRegistry.getTargetContext()</code> is also deprecated.\nI want to know right way of updating my tests with out deprecated stuff.</p>\n"}, {"tags": ["android", "kotlin", "android-custom-view", "android-appcompat", "android-actionmode"], "owner": {"reputation": 11, "user_id": 11761468, "user_type": "registered", "profile_image": "https://graph.facebook.com/10212161530988318/picture?type=large", "display_name": "Kenzie Flickinger", "link": "https://stackoverflow.com/users/11761468/kenzie-flickinger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 191, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1562702554, "creation_date": 1562702554, "question_id": 56959801, "link": "https://stackoverflow.com/questions/56959801/wrapping-title-text-in-action-mode-using-a-custom-layout", "title": "Wrapping title text in Action Mode using a custom layout", "body": "<p>I am trying make my contextual action bar, or CAB, behave in a <a href=\"https://material.io/design/components/app-bars-top.html#anatomy\" rel=\"nofollow noreferrer\">Material way</a> such as wrapping title text when it is long. For the regular toolbar, I use appCompat.Toolbar, but for the CAB, I am using appCompat.ActionMode, which its attributes are mostly style-driven, but since the default TextView of the ActionMode does not seem to support line wrapping and instead ellipses, and there is no exposed method to set it to wrap, I am trying to find a solution to drive that behavior via style or programmatically setting it using the setCustomView method within overriding onCreateActionMode. If I don't find a way to do this, the CAB has potential to overlay weirdly on the toolbar that does wrap.</p>\n\n<p>I have tried setting attributes in different parts of styling, creating a custom text view layout for the title of the CAB, setting it both in the style and programmatically using customView, but I can't seem to get anything to work.</p>\n\n<p>I created a custom layout to be used either in my styles or my ContextualActionBar.</p>\n\n<p><em>context_action_mode_title_layout.xml</em>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n\n    &lt;TextView\n            android:id=\"@+id/action_mode_title\"\n            android:textColor=\"@color/warning\"\n            android:layout_height=\"match_parent\"\n            android:layout_width=\"wrap_content\"\n            android:gravity=\"center_vertical\"\n            android:ellipsize=\"none\"\n            android:maxLines=\"2\"/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>In my <em>styles.xml</em>:</p>\n\n<pre><code>&lt;resources&gt;\n&lt;style name=\"CommonAppTheme\" parent=\"Theme.MaterialComponents.Light.NoActionBar\"&gt;\n        &lt;item name=\"toolbarStyle\"&gt;@style/Toolbar&lt;/item&gt;\n&lt;item name=\"actionModeStyle\"&gt;@style/CommonAppTheme.ContextActionBar&lt;/item&gt;\n        &lt;item name=\"actionBarTheme\"&gt;@style/CommonAppTheme.ContextActionBar&lt;/item&gt;\n    &lt;/style&gt;\n\n&lt;style name=\"Toolbar\" parent=\"Widget.AppCompat.Toolbar\"&gt;\n        &lt;item name=\"android:background\"&gt;@color/surface&lt;/item&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/on_background&lt;/item&gt;\n        &lt;item name=\"android:titleTextColor\"&gt;@color/on_background&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"CommonAppTheme.ContextActionBar\" parent=\"Widget.AppCompat.ActionMode\"&gt;\n        &lt;item name=\"background\"&gt;@color/on_surface&lt;/item&gt;\n        &lt;item name=\"titleTextStyle\"&gt;@style/CommonAppTheme.ContextualTextStyle&lt;/item&gt;\n        &lt;item name=\"tint\"&gt;@color/surface&lt;/item&gt;\n        &lt;item name=\"android:displayOptions\"&gt;showCustom&lt;/item&gt;\n        &lt;item name=\"android:customNavigationLayout\"&gt;@layout/context_action_bar_title_layout&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"CommonAppTheme.ContextualTextStyle\"&gt;\n        &lt;item name=\"android:textColor\"&gt;@color/surface&lt;/item&gt;\n        &lt;item name=\"android:displayOptions\"&gt;showCustom&lt;/item&gt;\n        &lt;item name=\"android:customNavigationLayout\"&gt;@layout/context_action_bar_title_layout&lt;/item&gt;\n        &lt;item name=\"android:maxLines\"&gt;2&lt;/item&gt;\n        &lt;item name=\"android:ellipsize\"&gt;none&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n\n<p>My <em>ContextualActionBar.kt</em> component:</p>\n\n<pre><code>class ContextualActionBar : ActionMode.Callback {\n\n    var onActionItemClickListener: OnActionItemClickListener? = null\n\n    private var mode: ActionMode? = null\n    @MenuRes\n    private var menuResId: Int = 0\n    private var title: String? = null\n    private var subtitle: String? = null\n\n    override fun onCreateActionMode(mode: ActionMode?, menu: Menu?): Boolean {\n        this.mode = mode\n        mode?.menuInflater?.inflate(menuResId, menu)\n        mode?.title = title\n        mode?.subtitle = subtitle\n        return true\n    }\n\n    fun startActionMode(view: View,\n                        @MenuRes menuResId: Int,\n                        title: String? = null,\n                        subtitle: String? = null) {\n        this.menuResId = menuResId\n        this.title = title\n        this.subtitle = subtitle\n        view.startActionMode(this)\n    }\n</code></pre>\n\n<p>I create an instance of this in my fragment's VM, then drive populating the title, subtitle, and menu res in the fragment class. </p>\n\n<p><em>These are the sections where I was not quite sure of the syntax of inflating my custom layout to be used when setting the values in the fragment on the CAB.</em></p>\n\n<p>I expected to be able to, in some way, say \"use this custom layout\" and set it with its layout behaviors, such as no ellipses and wrapping text to the amount of maxLines. Then when setting the title on a fragment-to-fragment basis, the CAB can handle long lines of text.</p>\n"}, {"tags": ["spring-boot", "kotlin", "jackson"], "comments": [{"owner": {"reputation": 111, "user_id": 11416795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac46d0f6ef84f1fdf7378e7af0d98f31?s=128&d=identicon&r=PG&f=1", "display_name": "Hullburg", "link": "https://stackoverflow.com/users/11416795/hullburg"}, "edited": false, "score": 1, "creation_date": 1562701962, "post_id": 56959589, "comment_id": 100457364, "body": "Maybe try removing the <code>&lt;*, *&gt;</code> ?"}, {"owner": {"reputation": 27978, "user_id": 981744, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qJi4S.png?s=128&g=1", "display_name": "Erwin Bolwidt", "link": "https://stackoverflow.com/users/981744/erwin-bolwidt"}, "edited": false, "score": 0, "creation_date": 1562707473, "post_id": 56959589, "comment_id": 100459323, "body": "Please don&#39;t post screenshots of errors- post the errors as text"}, {"owner": {"reputation": 538, "user_id": 4129661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3edf4f82816b29a89c7c102f1939c97?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Agarwal", "link": "https://stackoverflow.com/users/4129661/abhay-agarwal"}, "reply_to_user": {"reputation": 111, "user_id": 11416795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac46d0f6ef84f1fdf7378e7af0d98f31?s=128&d=identicon&r=PG&f=1", "display_name": "Hullburg", "link": "https://stackoverflow.com/users/11416795/hullburg"}, "edited": false, "score": 0, "creation_date": 1562825943, "post_id": 56959589, "comment_id": 100500723, "body": "@Hullburg Removing &lt;*, *&gt; is still not working"}], "answers": [{"tags": [], "owner": {"reputation": 3, "user_id": 8650290, "user_type": "registered", "profile_image": "https://graph.facebook.com/1871382256208659/picture?type=large", "display_name": "ippokratoys", "link": "https://stackoverflow.com/users/8650290/ippokratoys"}, "is_accepted": false, "score": 0, "last_activity_date": 1562835243, "creation_date": 1562835243, "answer_id": 56985268, "question_id": 56959589, "link": "https://stackoverflow.com/questions/56959589/how-to-convert-this-java-code-to-kotlin-code/56985268#56985268", "title": "How to convert this Java code to kotlin code", "body": "<p>What about removing <code>&lt;*, *&gt;</code> </p>\n\n<pre><code>            val values = objectMapper.convertValue(order, Map&lt;*, *&gt;::class.java)\n            val values = objectMapper.convertValue(order, Map::class.java)\n</code></pre>\n"}], "owner": {"reputation": 538, "user_id": 4129661, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3edf4f82816b29a89c7c102f1939c97?s=128&d=identicon&r=PG&f=1", "display_name": "Abhay Agarwal", "link": "https://stackoverflow.com/users/4129661/abhay-agarwal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 235, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1562835243, "creation_date": 1562701501, "question_id": 56959589, "link": "https://stackoverflow.com/questions/56959589/how-to-convert-this-java-code-to-kotlin-code", "title": "How to convert this Java code to kotlin code", "body": "<p>I'm learning spring boot. An error is reported when this Java function is converted to kotlin code. How to rewrite this kotlin function?</p>\n\n<p><strong>Java code:</strong></p>\n\n<pre><code>private long saveOrderDetails(Order order) {\n    @SuppressWarnings(\"unchecked\")\n    Map&lt;String, Object&gt; values =\n        objectMapper.convertValue(order, Map.class);\n    values.put(\"placedAt\", order.getPlacedAt());\n    long orderId =\n        orderInserter\n            .executeAndReturnKey(values)\n            .longValue();\n    return orderId;\n}\n</code></pre>\n\n<p><strong>Kotlin code:</strong></p>\n\n<pre><code>private fun saveOrderDetails(order: Order): Long {\n        val values = objectMapper.convertValue(order, Map&lt;*, *&gt;::class.java)\n        values.put(\"placedAt\", order.placedAt)\n        return orderInserter\n                .executeAndReturnKey(values)\n                .longValue()\n    }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/8lVK5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8lVK5.png\" alt=\"Screenshot of error in kotlin code\"></a></p>\n\n<p>This is the error I'm getting after automatically converting java to kotlin</p>\n\n<p>Here, </p>\n\n<pre><code>objectMapper: com.fasterxml.jackson.databind.ObjectMapper\norderInserter: org.springframework.jdbc.core.simple.SimpleJdbcInsert\n</code></pre>\n\n<p>Please suggest how to resolve these errors.</p>\n"}, {"tags": ["java", "android", "google-maps", "kotlin", "geojson"], "comments": [{"owner": {"reputation": 30153, "user_id": 7106086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V7fFc.png?s=128&g=1", "display_name": "Andrew Reid", "link": "https://stackoverflow.com/users/7106086/andrew-reid"}, "edited": false, "score": 1, "creation_date": 1562724223, "post_id": 56959318, "comment_id": 100462616, "body": "Your coordinates aren&#39;t latitude longitude: these are measured in degrees. Your coordinates are projected using an unknown projection (based on the available data) with units in another coordinate space - placing them may be difficult. Where abouts is the example point in the question supposed to be?"}], "answers": [{"tags": [], "owner": {"reputation": 11935, "user_id": 6950238, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/JysE9.jpg?s=128&g=1", "display_name": "Andrii Omelchenko", "link": "https://stackoverflow.com/users/6950238/andrii-omelchenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1562747670, "creation_date": 1562747670, "answer_id": 56966610, "question_id": 56959318, "link": "https://stackoverflow.com/questions/56959318/add-marker-to-google-maps-by-using-geojson/56966610#56966610", "title": "Add marker to google maps by using GeoJson", "body": "<p><a href=\"https://stackoverflow.com/users/7106086/andrew-reid\">Andrew Reid</a> is absolutely right: your <code>GeoJSON</code> data is not in <code>WGS84</code> Latitude/Longitude degrees. You should determine coordinate reference system (CRS) of your <code>GeoJSON</code> e.g. by checking its <a href=\"https://geojson.org/geojson-spec.html#coordinate-reference-system-objects\" rel=\"nofollow noreferrer\"><code>\"crs\"</code></a> tag. If there is <code>\"crs\"</code> <a href=\"https://gis.stackexchange.com/questions/7839/identifying-coordinate-system-of-shapefile-when-unknown\">here</a> is some tips how to determine unknown coordinate system. I would start trying from <a href=\"https://en.wikipedia.org/wiki/Universal_Transverse_Mercator_coordinate_system\" rel=\"nofollow noreferrer\">UTM</a>.</p>\n"}], "owner": {"reputation": 2766, "user_id": 2545964, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dcxr3.jpg?s=128&g=1", "display_name": "gon250", "link": "https://stackoverflow.com/users/2545964/gon250"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562747670, "creation_date": 1562700006, "last_edit_date": 1562724297, "question_id": 56959318, "link": "https://stackoverflow.com/questions/56959318/add-marker-to-google-maps-by-using-geojson", "title": "Add marker to google maps by using GeoJson", "body": "<p>I have no idea how to add a marker from a <strong>GeoJson</strong>. </p>\n\n<p>The data I have to use is something like: </p>\n\n<pre><code>\"geometry\": {  \n        \"type\":\"Point\",\n        \"coordinates\":[  \n           727053.159,\n           4374119.505\n        ]\n     }\n</code></pre>\n\n<p>I supposed the <strong>coordinates</strong> would be <strong>Latitude</strong> and <strong>Longitude</strong> but what I have tried doesn't work: </p>\n\n<pre><code>private fun createMarker(\n    latitude: Double,\n    longitude: Double,\n    title: String,\n    snippet: String\n): Marker {\n    return mMap.addMarker(\n        MarkerOptions()\n            .position(LatLng(latitude, longitude))\n            .title(title)\n            .snippet(snippet)\n    )\n}\n</code></pre>\n\n<p>Any idea how to add the marker from geojson data?</p>\n"}, {"tags": ["android", "kotlin", "observable", "rx-java", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 6353, "user_id": 3732958, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4ad4db32f4933b1bfcf0e0fa116781e0?s=128&d=identicon&r=PG", "display_name": "user2121", "link": "https://stackoverflow.com/users/3732958/user2121"}, "edited": false, "score": 0, "creation_date": 1562751358, "post_id": 56962747, "comment_id": 100472388, "body": "1-why specifically use chose .flatMapMaybe() instead of .map(), could not we simply just use .flatMap() instead of .flatMapMaybe()?"}, {"owner": {"reputation": 737, "user_id": 10715642, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QRLDtnm1-IE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ipSlUb1x7ARbIjnOaLC_Y9VX2jNQ/mo/photo.jpg?sz=128", "display_name": "Damon Baker", "link": "https://stackoverflow.com/users/10715642/damon-baker"}, "reply_to_user": {"reputation": 6353, "user_id": 3732958, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4ad4db32f4933b1bfcf0e0fa116781e0?s=128&d=identicon&r=PG", "display_name": "user2121", "link": "https://stackoverflow.com/users/3732958/user2121"}, "edited": false, "score": 0, "creation_date": 1562773343, "post_id": 56962747, "comment_id": 100484716, "body": "<code>flatMapMaybe</code> is more convenient here since it returns a Maybe, whereas <code>flatMap</code> returns a Single. For your case however, you could avoid using any map altogether by creating your service inside a <code>Maybe.fromCallable</code> block, which will automatically handle nulls for you. <a href=\"http://reactivex.io/RxJava/javadoc/io/reactivex/Maybe.html#fromCallable-java.util.concurrent.Callable-\" rel=\"nofollow noreferrer\">Documentation here</a>"}], "tags": [], "owner": {"reputation": 737, "user_id": 10715642, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QRLDtnm1-IE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ipSlUb1x7ARbIjnOaLC_Y9VX2jNQ/mo/photo.jpg?sz=128", "display_name": "Damon Baker", "link": "https://stackoverflow.com/users/10715642/damon-baker"}, "is_accepted": false, "score": 2, "last_activity_date": 1562726646, "creation_date": 1562726646, "answer_id": 56962747, "question_id": 56959188, "link": "https://stackoverflow.com/questions/56959188/how-to-use-maybe-operator-to-check-nullability/56962747#56962747", "title": "How to use Maybe operator to check nullability", "body": "<p>RxJava will not allow nulls inside the stream, so if <code>map</code> returns null, the stream will be terminated with an error event.</p>\n\n<p>What you can do instead is replace <code>map</code> with <code>flatMapMaybe</code> and return either <code>Maybe.just(service)</code> or <code>Maybe.empty()</code> if the value is null. Then you can assert whether the result was successful or not in your <code>subscribe</code> callback, where <code>onSuccess</code> means the value was not null and <code>onComplete</code> means the value was null.</p>\n\n<p>Two additional notes. The maybe your are returning should not have to be declared nullable, since that information will be captured inside the Maybe itself. However I'm not sure you need to be handling this null case anyway since as far as I can tell, <code>retrofit.create</code> shouldn't be returning null in the first place.</p>\n"}, {"tags": [], "owner": {"reputation": 1759, "user_id": 945808, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/eDoAR.jpg?s=128&g=1", "display_name": "toantran", "link": "https://stackoverflow.com/users/945808/toantran"}, "is_accepted": false, "score": 2, "last_activity_date": 1568291077, "last_edit_date": 1568291077, "creation_date": 1562727963, "answer_id": 56962882, "question_id": 56959188, "link": "https://stackoverflow.com/questions/56959188/how-to-use-maybe-operator-to-check-nullability/56962882#56962882", "title": "How to use Maybe operator to check nullability", "body": "<p>I would recommend to go with a Optional wrapper like <a href=\"https://guava.dev/releases/19.0/api/docs/com/google/common/base/Optional.html\" rel=\"nofollow noreferrer\">Guava implementation</a> </p>\n\n<p>or implement it a simple way like:</p>\n\n<pre><code>class Optional&lt;T&gt;(private val value: T? = null) {\n\n    fun getValue(): T {\n        if (value != null) {\n            return value\n        } else {\n            throw ValueUnavailableException(this.logTag())\n        }\n    }\n\n    private inline fun &lt;reified T&gt; T.logTag() = T::class.java.simpleName\n\n    fun toNullable(): T? = this.value\n\n    fun hasValue(): Boolean {\n        return value != null\n    }\n    class ValueUnavailableException(className: String = \"\") : Exception(\"The optional value for $className is null\")\n}\n</code></pre>\n\n<p>In your stream usage, use </p>\n\n<pre><code>\n.filter { optionalObject.hasValue() }\n\n</code></pre>\n"}], "owner": {"reputation": 6353, "user_id": 3732958, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4ad4db32f4933b1bfcf0e0fa116781e0?s=128&d=identicon&r=PG", "display_name": "user2121", "link": "https://stackoverflow.com/users/3732958/user2121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1086, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1568291077, "creation_date": 1562699349, "last_edit_date": 1562700681, "question_id": 56959188, "link": "https://stackoverflow.com/questions/56959188/how-to-use-maybe-operator-to-check-nullability", "title": "How to use Maybe operator to check nullability", "body": "<p>In the code below, I want to confirm or assert that the returned object or emission from the map operator is not null or if it is null - empty() should be returned.\nPlease let me know if it is correct or not..</p>\n\n<p><strong>Activity</strong></p>\n\n<pre><code>companion object {\n    fun create(): Maybe&lt;WikiApiService&gt;? {\n        return Single.just(\n            Retrofit.Builder()\n                .addCallAdapterFactory(\n                    RxJava2CallAdapterFactory.create()\n                )\n                .addConverterFactory(\n                    GsonConverterFactory.create()\n                )\n                .baseUrl(\"https://en.wikipedia.org/w/\")\n                .build()\n        )\n            .map { retrofit -&gt; retrofit.create(WikiApiService::class.java) }\n            .toMaybe()\n            //.toObservable()\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "firebase-authentication", "firebaseui"], "comments": [{"owner": {"reputation": 453, "user_id": 2647534, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/quZuk.jpg?s=128&g=1", "display_name": "gabocalero", "link": "https://stackoverflow.com/users/2647534/gabocalero"}, "edited": false, "score": 0, "creation_date": 1562786449, "post_id": 56959039, "comment_id": 100490780, "body": "UPDATE: The issue was similar to this one <a href=\"https://stackoverflow.com/questions/53899751/google-auth-migrating-to-androidx-signinhubactivity-does-not-implement-lifecycl\" title=\"google auth migrating to androidx signinhubactivity does not implement lifecycl\">stackoverflow.com/questions/53899751/&hellip;</a> I&#39;ve fixed it by removing this dependency  implementation &quot;androidx.core:core-ktx:+&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 453, "user_id": 2647534, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/quZuk.jpg?s=128&g=1", "display_name": "gabocalero", "link": "https://stackoverflow.com/users/2647534/gabocalero"}, "is_accepted": false, "score": 0, "last_activity_date": 1562786606, "creation_date": 1562786606, "answer_id": 56977374, "question_id": 56959039, "link": "https://stackoverflow.com/questions/56959039/nullpointerexception-starting-firebase-auth-ui-activity-from-kotlin-activity/56977374#56977374", "title": "NullPointerException starting Firebase Auth UI activity from Kotlin activity", "body": "<p>The issue was in Java to Kotlin conversion. In this case I've fixed it by removing the unused dependency</p>\n\n<pre><code>implementation \"androidx.core:core-ktx:+\"\n</code></pre>\n\n<p>I guess when I finish converting all java classes I will have to replace all androidx dependencies by their -ktx counterpart</p>\n"}], "owner": {"reputation": 453, "user_id": 2647534, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/quZuk.jpg?s=128&g=1", "display_name": "gabocalero", "link": "https://stackoverflow.com/users/2647534/gabocalero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 330, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562786606, "creation_date": 1562698537, "last_edit_date": 1562699018, "question_id": 56959039, "link": "https://stackoverflow.com/questions/56959039/nullpointerexception-starting-firebase-auth-ui-activity-from-kotlin-activity", "title": "NullPointerException starting Firebase Auth UI activity from Kotlin activity", "body": "<p>I had a java android app with androidx navigation (supportbar + navigation drawer) and it was launching <a href=\"https://firebase.google.com/docs/auth/android/firebaseui\" rel=\"nofollow noreferrer\">Firebase UI</a> to get the user logged in. Then I've decided to migrate the Activity code to Kotlin using the AS converter and some manual work on the navigation setup.</p>\n\n<p>Despite my efforts it still breaks with this stack</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.gabrielcalero.familytree, PID: 20260\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.gabrielcalero.familytree/com.firebase.ui.auth.KickoffActivity}: java.lang.NullPointerException: Attempt to invoke super method 'void androidx.fragment.app.FragmentActivity.onPanelClosed(int, android.view.Menu)' on a null object reference\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2793)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2864)\n    at android.app.ActivityThread.-wrap12(ActivityThread.java)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1567)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:156)\n    at android.app.ActivityThread.main(ActivityThread.java:6524)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:941)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:831)\n Caused by: java.lang.NullPointerException: Attempt to invoke super method 'void androidx.fragment.app.FragmentActivity.onPanelClosed(int, android.view.Menu)' on a null object reference\n    at androidx.appcompat.app.AppCompatActivity.onPanelClosed(AppCompatActivity.java:505)\n    at androidx.lifecycle.LiveData.observe(LiveData.java:172)\n    at com.firebase.ui.auth.KickoffActivity.onCreate(KickoffActivity.java:35)\n    at android.app.Activity.performCreate(Activity.java:6910)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1123)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2746)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2864)\u00a0\n    at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1567)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n    at android.os.Looper.loop(Looper.java:156)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:6524)\u00a0\n    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:941)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:831)\u00a0\n</code></pre>\n\n<p>The weird thing is that following the stack the exception is onPanelClosed, which means super is null. How is this possible?</p>\n\n<pre><code>@Override\npublic void onPanelClosed(int featureId, Menu menu) {\n    super.onPanelClosed(featureId, menu);\n}\n</code></pre>\n\n<p>UPDATE: here is the activity code</p>\n\n<pre><code>package com.gabrielcalero.familytree.ui\nimport android.content.Intent\nimport android.os.Bundle\nimport android.view.MenuItem\nimport android.widget.ImageView\nimport android.widget.TextView\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.navigation.NavController\nimport androidx.navigation.findNavController\nimport androidx.navigation.ui.AppBarConfiguration\nimport androidx.navigation.ui.setupWithNavController\nimport com.firebase.ui.auth.AuthUI\nimport com.gabrielcalero.familytree.R\nimport com.gabrielcalero.familytree.ServiceLocator\nimport com.gabrielcalero.familytree.entity.Constants\nimport com.gabrielcalero.familytree.ui.picasso.CropCircleTransformation\nimport com.google.android.material.navigation.NavigationView\nimport com.google.firebase.auth.FirebaseAuth\nimport com.squareup.picasso.Picasso\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.util.*\n\nclass MainActivity : AppCompatActivity(), NavigationView.OnNavigationItemSelectedListener, FirebaseAuth.AuthStateListener {\n\nprivate var mUserPicture: ImageView? = null\nprivate var mUserNameTextView: TextView? = null\nprivate var mAuth: FirebaseAuth? = null\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n    setupNavigation()\n\n    mUserPicture = navView.getHeaderView(0).findViewById(R.id.picture)\n    mUserNameTextView = navView.getHeaderView(0).findViewById(R.id.display_name)\n\n    mAuth = FirebaseAuth.getInstance().apply { addAuthStateListener { this } }\n\n    launchSignInUI()\n}\n\noverride fun onStart() {\n    super.onStart()\n    updateLoggedInUser()\n}\n\nprivate fun updateLoggedInUser() {\n    val currentUser = mAuth!!.currentUser\n    if (currentUser == null) {\n        mUserPicture!!.setImageResource(R.drawable.anonymous)\n        mUserNameTextView!!.text = getString(R.string.not_logged_in)\n        navView.menu.findItem(R.id.signout).isVisible = false\n        navView.menu.findItem(R.id.signin).isVisible = true\n        navView.menu.findItem(R.id.personFragment).isEnabled = false\n        navView.menu.findItem(R.id.peopleListFragment).isEnabled = false\n    } else {\n        // show signout\n        mUserNameTextView!!.text = currentUser.displayName\n        Picasso.with(this)\n                .load(currentUser.photoUrl)\n                .placeholder(R.drawable.anonymous)\n                .error(R.drawable.anonymous)\n                .transform(CropCircleTransformation())\n                .resize(resources.getDimension(R.dimen.profile_picture_width).toInt(),\n                        resources.getDimension(R.dimen.profile_picture_height).toInt())\n                .into(mUserPicture)\n        navView.menu.findItem(R.id.signout).isVisible = true\n        navView.menu.findItem(R.id.signin).isVisible = false\n        navView.menu.findItem(R.id.personFragment).isEnabled = true\n        navView.menu.findItem(R.id.peopleListFragment).isEnabled = true\n    }\n}\n\nprivate fun setupNavigation() {\n    setSupportActionBar(toolbar)\n\n    supportActionBar!!.setDisplayShowHomeEnabled(true)\n    supportActionBar!!.setDisplayHomeAsUpEnabled(true)\n\n    val navController : NavController = findNavController(R.id.nav_host_fragment)\n    val appBarConfiguration = AppBarConfiguration(navController.graph, drawerLayout)\n    toolbar.setupWithNavController(navController, appBarConfiguration)\n    navView.setupWithNavController(navController)\n    navView.setNavigationItemSelectedListener(this)\n}\n\nprivate fun launchSignInUI() {\n    // Choose authentication providers\n    val providers = Arrays.asList(\n            AuthUI.IdpConfig.EmailBuilder().build(),\n            AuthUI.IdpConfig.GoogleBuilder().build())\n\n    // Create and launch sign-in intent\n    startActivityForResult(\n            AuthUI.getInstance()\n                    .createSignInIntentBuilder()\n                    .setAvailableProviders(providers)\n                    .setLogo(R.drawable.logo)\n                    .build(),\n            Constants.REQUEST_CODE_SIGN_IN)\n}\n\n\noverride fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n    super.onActivityResult(requestCode, resultCode, data)\n    //updateLoggedInUser()\n}\n\noverride fun onNavigationItemSelected(menuItem: MenuItem): Boolean {\n    val navController = findNavController(R.id.nav_host_fragment)\n    when (menuItem.itemId) {\n        R.id.signout -&gt; signout()\n        R.id.signin -&gt; launchSignInUI()\n        R.id.personFragment -&gt; {\n            navController.popBackStack(R.id.peopleListFragment, false)\n            navController.navigate(R.id.personFragment)\n            drawerLayout?.closeDrawers()\n            return true\n        }\n        else -&gt; {\n            navController.popBackStack(R.id.peopleListFragment, false)\n            drawerLayout?.closeDrawers()\n            return true\n        }\n    }\n    drawerLayout?.closeDrawers()\n    return true\n}\n\nprivate fun signout() {\n    val navController = findNavController(R.id.nav_host_fragment)\n\n    AuthUI.getInstance()\n            .signOut(this)\n            .addOnCompleteListener {\n                navView.menu.findItem(R.id.signout).isVisible = false\n                navController.popBackStack(R.id.peopleListFragment, false)\n            }\n\n}\n\noverride fun onAuthStateChanged(firebaseAuth: FirebaseAuth) {\n    ServiceLocator.getRepository(application).setCurrentUserId(firebaseAuth.uid)\n    updateLoggedInUser()\n}\n\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1655, "user_id": 3659361, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9433ec83ef3295ecff4ba703c441b9f2?s=128&d=identicon&r=PG&f=1", "display_name": "May Rest in Peace", "link": "https://stackoverflow.com/users/3659361/may-rest-in-peace"}, "edited": false, "score": 0, "creation_date": 1562698893, "post_id": 56958953, "comment_id": 100456153, "body": "<code>this</code> in <code>LanguageDialog(this)</code> is referring to Activity context right ? And is the error context is null ?"}, {"owner": {"reputation": 1655, "user_id": 3659361, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9433ec83ef3295ecff4ba703c441b9f2?s=128&d=identicon&r=PG&f=1", "display_name": "May Rest in Peace", "link": "https://stackoverflow.com/users/3659361/may-rest-in-peace"}, "edited": false, "score": 0, "creation_date": 1562699007, "post_id": 56958953, "comment_id": 100456199, "body": "Can you please add the exact crash log ?"}, {"owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "reply_to_user": {"reputation": 1655, "user_id": 3659361, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9433ec83ef3295ecff4ba703c441b9f2?s=128&d=identicon&r=PG&f=1", "display_name": "May Rest in Peace", "link": "https://stackoverflow.com/users/3659361/may-rest-in-peace"}, "edited": false, "score": 0, "creation_date": 1562699314, "post_id": 56958953, "comment_id": 100456324, "body": "@MayRestinPeace added logs of error"}, {"owner": {"reputation": 1655, "user_id": 3659361, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/9433ec83ef3295ecff4ba703c441b9f2?s=128&d=identicon&r=PG&f=1", "display_name": "May Rest in Peace", "link": "https://stackoverflow.com/users/3659361/may-rest-in-peace"}, "edited": false, "score": 0, "creation_date": 1562699765, "post_id": 56958953, "comment_id": 100456511, "body": "from the error it shows <code>mRecyclerView</code>  is null  when you are setting its layout manager which means findViewById returned null. Can you please double check if <code>recycle_languages</code> is present in <code>dialog_languages</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "edited": false, "score": 0, "creation_date": 1562699796, "post_id": 56959197, "comment_id": 100456519, "body": "Did you try your code? it shows me red on your lanes"}], "tags": [], "owner": {"reputation": 1079, "user_id": 7787620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0yDI8.jpg?s=128&g=1", "display_name": "yash786", "link": "https://stackoverflow.com/users/7787620/yash786"}, "is_accepted": true, "score": 0, "last_activity_date": 1562704385, "last_edit_date": 1562704385, "creation_date": 1562699408, "answer_id": 56959197, "question_id": 56958953, "link": "https://stackoverflow.com/questions/56958953/how-to-pass-context-to-dialog-with-kotlin-proper-way/56959197#56959197", "title": "How to pass context to dialog with Kotlin proper way?", "body": "<p>Try to use intialise context in init and remove context from \n   <code>Dialog(context)</code> in <code>LanguageDialog</code></p>\n\n<pre><code>class LanguageDialog(context: Context) : Dialog, LanguageAdapter.ItemClickListener {\n    private var context: Context? = null\n    init\n     {\n       this.context = context\n     }\n    private var mRussianFlagLink = \"https://cdn3.iconfinder.com/data/icons/142-mini-country-flags-16x16px/32/flag-russia2x.png\"\n    private var mEnglishFlagLink = \"https://cdn3.iconfinder.com/data/icons/142-mini-country-flags-16x16px/32/flag-united-kingdom2x.png\"\n\n    private lateinit var mLanguageAdapter : LanguageAdapter\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.dialog_languages)\n\n        val mLanguageList : MutableList&lt;Language&gt; = mutableListOf(Language(\"Russian\", mRussianFlagLink), Language(\"English\", mEnglishFlagLink))\n\n        val mRecyclerView = findViewById&lt;RecyclerView&gt;(R.id.recycle_languages)\n        mRecyclerView.layoutManager = LinearLayoutManager(context)\n        mLanguageAdapter = LanguageAdapter(mLanguageList, context)\n        mLanguageAdapter.setClickListener(this)\n        mRecyclerView.adapter = mLanguageAdapter\n    }\n\n    override fun onItemClick(view: View, position: Int) {\n        Log.d(\"Test\", \"CLICK\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1624, "user_id": 8442666, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh5.googleusercontent.com/-SvkcD0Ze4DY/AAAAAAAAAAI/AAAAAAAAABc/MntZmvRTt7o/photo.jpg?sz=128", "display_name": "Boris Ruzanov", "link": "https://stackoverflow.com/users/8442666/boris-ruzanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 491, "favorite_count": 0, "accepted_answer_id": 56959197, "answer_count": 1, "score": 0, "last_activity_date": 1562704385, "creation_date": 1562698165, "last_edit_date": 1562699298, "question_id": 56958953, "link": "https://stackoverflow.com/questions/56958953/how-to-pass-context-to-dialog-with-kotlin-proper-way", "title": "How to pass context to dialog with Kotlin proper way?", "body": "<p>Sorry for dummy question but just trying Kotlin so little bit confused.\nFrom MainActivity im trying to call dialog with recycler. Part of recycler works fine because I was trying it without dialog separate. But when Im trying to call it in dialog it crash with null pointer. I guess it cant recognize view but I am passing context as an examples from stack but its not working </p>\n\n<p>Dialog class</p>\n\n<pre><code>class LanguageDialog(context: Context) : Dialog(context), LanguageAdapter.ItemClickListener{\n    private var mRussianFlagLink = \"https://cdn3.iconfinder.com/data/icons/142-mini-country-flags-16x16px/32/flag-russia2x.png\"\n    private var mEnglishFlagLink = \"https://cdn3.iconfinder.com/data/icons/142-mini-country-flags-16x16px/32/flag-united-kingdom2x.png\"\n\n    private lateinit var mLanguageAdapter : LanguageAdapter\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.dialog_languages)\n\n        val mLanguageList : MutableList&lt;Language&gt; = mutableListOf(Language(\"Russian\", mRussianFlagLink), Language(\"English\", mEnglishFlagLink))\n\n        val mRecyclerView = findViewById&lt;RecyclerView&gt;(R.id.recycle_languages)\n        mRecyclerView.layoutManager = LinearLayoutManager(context)\n        mLanguageAdapter = LanguageAdapter(mLanguageList, context)\n        mLanguageAdapter.setClickListener(this)\n        mRecyclerView.adapter = mLanguageAdapter\n    }\n\n    override fun onItemClick(view: View, position: Int) {\n        Log.d(\"Test\", \"CLICK\")\n    }\n}\n</code></pre>\n\n<p>Crashes here</p>\n\n<pre><code>            mRecyclerView.layoutManager = LinearLayoutManager(context)\n</code></pre>\n\n<p>Call from MainActivity</p>\n\n<pre><code>private fun callLanguageDialog() {\n    val mDialog = LanguageDialog(this)\n    mDialog.show()\n</code></pre>\n\n<p>Error logs</p>\n\n<pre><code>FATAL EXCEPTION: main\n                                                                     Process: com.example.a3802256.zzzz, PID: 9833\n                                                                     java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.a3802256.zzzz/com.example.a3802256.zzzz.main.MainActivity}: java.lang.IllegalStateException: mRecyclerView must not be null\n                                                                         at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2665)\n                                                                         at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726)\n                                                                         at android.app.ActivityThread.-wrap12(ActivityThread.java)\n                                                                         at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1477)\n                                                                         at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                                         at android.os.Looper.loop(Looper.java:154)\n                                                                         at android.app.ActivityThread.main(ActivityThread.java:6119)\n                                                                         at java.lang.reflect.Method.invoke(Native Method)\n                                                                         at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\n                                                                         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\n                                                                      Caused by: java.lang.IllegalStateException: mRecyclerView must not be null\n                                                                         at com.example.a3802256.zzzz.LanguageDialog.onCreate(LanguageDialog.kt:26)\n                                                                         at android.app.Dialog.dispatchOnCreate(Dialog.java:395)\n                                                                         at android.app.Dialog.show(Dialog.java:294)\n                                                                         at com.example.a3802256.zzzz.main.MainActivity.callLanguageDialog(MainActivity.kt:20)\n                                                                         at com.example.a3802256.zzzz.main.MainActivity.onCreate(MainActivity.kt:15)\n                                                                         at android.app.Activity.performCreate(Activity.java:6679)\n                                                                         at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n                                                                         at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2618)\n                                                                         at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2726)\u00a0\n                                                                         at android.app.ActivityThread.-wrap12(ActivityThread.java)\u00a0\n                                                                         at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1477)\u00a0\n                                                                         at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                                                                         at android.os.Looper.loop(Looper.java:154)\u00a0\n                                                                         at android.app.ActivityThread.main(ActivityThread.java:6119)\u00a0\n                                                                         at java.lang.reflect.Method.invoke(Native Method)\u00a0\n                                                                         at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:886)\u00a0\n                                                                         at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:776)\u00a0\n</code></pre>\n"}, {"tags": ["android", "kotlin", "observable", "rx-java2", "maybe"], "comments": [{"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1562698206, "post_id": 56958851, "comment_id": 100455859, "body": "RxJava 2 enforces non null emissions, so would throw a null pointer if it was.  A better approach would be to create the object, then check what to do next i.e <code>retrofit?.let { Maybe.just(it).map { ... } } ?: Maybe.empty()</code> - assuming that the retrofit object could be null in the first place?"}, {"owner": {"reputation": 11, "user_id": 11750595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd35dcf4e9f1138bdba7b59a84b36fe6?s=128&d=identicon&r=PG&f=1", "display_name": "Amr", "link": "https://stackoverflow.com/users/11750595/amr"}, "reply_to_user": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1562698349, "post_id": 56958851, "comment_id": 100455909, "body": "you mean i should add the code you provided inside the body of the map operator?"}, {"owner": {"reputation": 7365, "user_id": 4252352, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/6nZz0.jpg?s=128&g=1", "display_name": "Mark Keen", "link": "https://stackoverflow.com/users/4252352/mark-keen"}, "edited": false, "score": 0, "creation_date": 1562698630, "post_id": 56958851, "comment_id": 100456038, "body": "I have given pseudo code explaining my suggestion in line to your example, not &quot;copy/paste&quot;. You should do known defensive checking upfront, that&#39;s what I&#39;m suggesting, with the Elvis operator at any point if something is null you can return your fallback, default value."}], "owner": {"reputation": 11, "user_id": 11750595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd35dcf4e9f1138bdba7b59a84b36fe6?s=128&d=identicon&r=PG&f=1", "display_name": "Amr", "link": "https://stackoverflow.com/users/11750595/amr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562739649, "creation_date": 1562697732, "last_edit_date": 1562739649, "question_id": 56958851, "link": "https://stackoverflow.com/questions/56958851/how-to-check-if-an-emission-is-null-or-not", "title": "How to check if an emission is null or not", "body": "<p>in the belwo code, i want to check if the \"retrofit\" object that was used as input to the map operator is null or not.\nwhich operatopr i should use and how.</p>\n\n<p>i would like to use Maybe observable to check the returned retrofit object is null or not before the .map operator is called.</p>\n\n<p><strong>Activity</strong></p>\n\n<pre><code>companion object {\n    fun create(): Observable&lt;WikiApiService&gt;? {\n        return Single.just(\n            Retrofit.Builder()\n                .addCallAdapterFactory(\n                    RxJava2CallAdapterFactory.create()\n                )\n                .addConverterFactory(\n                    GsonConverterFactory.create()\n                )\n                .baseUrl(\"https://en.wikipedia.org/w/\")\n                .build()\n        )\n\n            .map { retrofit -&gt; retrofit.create(WikiApiService::class.java) }\n            .toObservable()\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "null", "nullreferenceexception"], "answers": [{"tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": true, "score": 2, "last_activity_date": 1562695812, "creation_date": 1562695812, "answer_id": 56958408, "question_id": 56958331, "link": "https://stackoverflow.com/questions/56958331/can-the-kotlin-compiler-require-non-null-assertion/56958408#56958408", "title": "Can the Kotlin Compiler Require non-null assertion?", "body": "<p>For <em>platform types</em> (any type ending with <code>!</code>), you can use an explicit type specification to declare whether it is supposed to be nullable or not.</p>\n\n<p>If you want to make it explict that <code>orderResult</code> might be null, then you could write it like this:</p>\n\n<pre><code>val orderResult: Record? = /* trimmed */\n</code></pre>\n\n<p>Conversely, if you want to make it explicit that <code>orderResult</code> can't possibly be null, then you could write:</p>\n\n<pre><code>val orderResult: Record = /* trimmed *\n</code></pre>\n\n<p>By choosing one of these two options, the type will be <code>Record?</code> or <code>Record</code> instead of <code>Record!</code>. And, as such, you will get the null safety you're used to from Kotlin.</p>\n"}], "owner": {"reputation": 1102, "user_id": 615533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea3389cdaee964f43e83239d9ebf9a49?s=128&d=identicon&r=PG", "display_name": "rharriso", "link": "https://stackoverflow.com/users/615533/rharriso"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 56958408, "answer_count": 1, "score": 0, "last_activity_date": 1562695812, "creation_date": 1562695475, "question_id": 56958331, "link": "https://stackoverflow.com/questions/56958331/can-the-kotlin-compiler-require-non-null-assertion", "title": "Can the Kotlin Compiler Require non-null assertion?", "body": "<p>Can the Kotlin Compiler require non-null assertions?</p>\n\n<p>for example. I'm getting a query result from JOOQ, and the relting type is <code>Record!</code>. But the compiler allows me to access members without checking for null.</p>\n\n<pre><code>val orderResult = RowanDatabaseConnector.runInContext(DatabaseContext.BOOKSTORE) {\n    it.select(SPREE_ORDERS.asterisk())\n        .from(SPREE_ORDERS)\n        .where(SPREE_ORDERS.ID.eq(orderId.toInt()))\n        .fetchOne()\n}\n\nreturn Cart(\n    user = currentUser,\n    subTotal = orderResult.get(SPREE_ORDERS.ITEM_TOTAL).toFloat(),\n    taxTotal = orderResult.get(SPREE_ORDERS.ADDITIONAL_TAX_TOTAL).toFloat(),\n    total = orderResult.get(SPREE_ORDERS.TOTAL).toFloat(),\n    lineItems = listOf()\n)        \n</code></pre>\n\n<p>Is there something similar to Typescript's <code>strictNullCheck</code> that would require that I assert that <code>orderResult</code> is not null?</p>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "comments": [{"owner": {"reputation": 11114, "user_id": 1712135, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cErYR.png?s=128&g=1", "display_name": "deHaar", "link": "https://stackoverflow.com/users/1712135/dehaar"}, "edited": false, "score": 0, "creation_date": 1562694716, "post_id": 56957996, "comment_id": 100454374, "body": "Could you post what you have tried so far?"}], "answers": [{"tags": [], "owner": {"reputation": 731, "user_id": 9130759, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7Jm9w.png?s=128&g=1", "display_name": "Mini Chip", "link": "https://stackoverflow.com/users/9130759/mini-chip"}, "is_accepted": false, "score": 1, "last_activity_date": 1562694931, "last_edit_date": 1562694931, "creation_date": 1562694329, "answer_id": 56958071, "question_id": 56957996, "link": "https://stackoverflow.com/questions/56957996/open-fragment-from-another-one-in-kotlin/56958071#56958071", "title": "Open fragment from another one in kotlin", "body": "<p>Use below function inorder to add or replace any fragment </p>\n\n<pre><code>fun addFragment(\nfm: FragmentManager,\nfragment: Fragment,\ncontainer: Int,\nreplace: Boolean,\naddToBackStack: Boolean,\naddAnimation: Boolean\n) {\nval fragmentTransaction = fm.beginTransaction()\nif (addAnimation)\n    fragmentTransaction.setCustomAnimations(\n        R.animator.slide_in_rght,\n        R.animator.slide_out_left,\n        R.animator.slide_in_left,\n        R.animator.slide_out_rght\n    )\nif (replace)\n    fragmentTransaction.replace(container, fragment, fragment.javaClass.name)\nelse\n    fragmentTransaction.add(container, fragment, fragment.javaClass.name)\nif (addToBackStack)\n    fragmentTransaction.addToBackStack(fragment.javaClass.name)\n fragmentTransaction.commit()\n}\n</code></pre>\n\n<p>In your fragment class where you want to open another fragment , you can call the above function :</p>\n\n<pre><code>fragmentManager?.let {\n                        addFragment(\n                            it, ABCFragment(), android.R.id.content, false,  true,\n                            true\n                        )\n                    }\n</code></pre>\n\n<p>or </p>\n\n<pre><code>addFragment(\n                        activity?.supportFragmentManager\n                        , SignupFinalStepFragment.newInstance(\n                            phoneNumber = phoneNumber?:\"\",\n                            emailAddress = emailAddress ?: \"\"\n                        ), android.R.id.content, false, addToBackStack = true,\n                        addAnimation = true\n                    )\n</code></pre>\n\n<p>Both the method calls are same , the only difference is  activity?.supportFragmentManager which should be non null . </p>\n"}, {"comments": [{"owner": {"reputation": 113731, "user_id": 250260, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/mLw78.png?s=128&g=1", "display_name": "Jorgesys", "link": "https://stackoverflow.com/users/250260/jorgesys"}, "edited": false, "score": 1, "creation_date": 1574263482, "post_id": 56958073, "comment_id": 104171127, "body": "This is not Kotlin!"}], "tags": [], "owner": {"reputation": 593, "user_id": 9090647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db28b5874a9f32a26380abe68c6821dd?s=128&d=identicon&r=PG&f=1", "display_name": "Bilal Naeem", "link": "https://stackoverflow.com/users/9090647/bilal-naeem"}, "is_accepted": false, "score": 1, "last_activity_date": 1562694340, "creation_date": 1562694340, "answer_id": 56958073, "question_id": 56957996, "link": "https://stackoverflow.com/questions/56957996/open-fragment-from-another-one-in-kotlin/56958073#56958073", "title": "Open fragment from another one in kotlin", "body": "<p>If you are using a Fragment, you can get the context of the activity and retrieve the fragment manager from it. So, inside your fragment class do this</p>\n\n<pre><code>FragmentManager fm = ((Activity) getContext).getSupportFragmentManager();\n</code></pre>\n\n<p>Not that you have your fragment manager, you only need the id of the container that you want to add/replace your other fragment and you are good to go.</p>\n\n<pre><code>fm.beginTransaction().add(R.layout.container_id, OtherFragmentObject()).commit();\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 113731, "user_id": 250260, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/mLw78.png?s=128&g=1", "display_name": "Jorgesys", "link": "https://stackoverflow.com/users/250260/jorgesys"}, "edited": false, "score": 0, "creation_date": 1574263561, "post_id": 56958087, "comment_id": 104171175, "body": "How could we get childFragmentManager ?"}], "tags": [], "owner": {"reputation": 7766, "user_id": 4517450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/AFIyx.jpg?s=128&g=1", "display_name": "vikas kumar", "link": "https://stackoverflow.com/users/4517450/vikas-kumar"}, "is_accepted": false, "score": 4, "last_activity_date": 1562694420, "creation_date": 1562694420, "answer_id": 56958087, "question_id": 56957996, "link": "https://stackoverflow.com/questions/56957996/open-fragment-from-another-one-in-kotlin/56958087#56958087", "title": "Open fragment from another one in kotlin", "body": "<p>It is simple as it is in activity just do it like this.</p>\n\n<pre><code> override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    childFragmentManager.beginTransaction().replace(R.id.action_container,ChildFragment.getInstance()).commit()\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2952, "user_id": 4413098, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a944fcc2691378e0c49b5c564bd55d2?s=128&d=identicon&r=PG&f=1", "display_name": "mightyWOZ", "link": "https://stackoverflow.com/users/4413098/mightywoz"}, "edited": false, "score": 0, "creation_date": 1578470916, "post_id": 59641491, "comment_id": 105444766, "body": "Thanks for your answer, please try to explain how and why your solution works."}], "tags": [], "owner": {"reputation": 1, "user_id": 7125107, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-EZhxGjmNPNU/AAAAAAAAAAI/AAAAAAAAADY/mxH8APcWHI8/photo.jpg?sz=128", "display_name": "Nv Ncvv", "link": "https://stackoverflow.com/users/7125107/nv-ncvv"}, "is_accepted": false, "score": 0, "last_activity_date": 1578469707, "creation_date": 1578469707, "answer_id": 59641491, "question_id": 56957996, "link": "https://stackoverflow.com/questions/56957996/open-fragment-from-another-one-in-kotlin/59641491#59641491", "title": "Open fragment from another one in kotlin", "body": "<pre><code>   //try it \n    fun commitFragmenttoFragment(fragmentManager: FragmentManager, fragment: Fragment, tag: String) {\n            val fragmentTransaction = fragmentManager.beginTransaction()\n            fragmentTransaction.replace(R.`enter code here`id.fragment_main, fragment)\n            fragmentTransaction.addToBackStack(null)\n            fragmentTransaction.commit()\n        }\n\n    //in this fragment us activity!!.supportFragmentManager\n\n    commitFragmenttoFragment(activity!!.supportFragmentManager,AddManageValue(), AddManageValue().TAG)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13115194, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-XkQF1gd6gK8/AAAAAAAAAAI/AAAAAAAAAAA/AKF05nDzqns85yqofe6taOcLPR8F9xUkWQ/photo.jpg?sz=128", "display_name": "HICHEM MJD", "link": "https://stackoverflow.com/users/13115194/hichem-mjd"}, "is_accepted": false, "score": 0, "last_activity_date": 1586377878, "creation_date": 1586377878, "answer_id": 61109517, "question_id": 56957996, "link": "https://stackoverflow.com/questions/56957996/open-fragment-from-another-one-in-kotlin/61109517#61109517", "title": "Open fragment from another one in kotlin", "body": "<p>if anyone care, I changed second fragment to a <code>FrameLayout</code> after I put this code on my fragment</p>\n\n<pre><code> childFragmentManager.beginTransaction()\n            .replace(R.id.mFragment,secondFragment())\n            .commit()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 3646562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a0dd9162a40bd58533b1fa2cda4303f4?s=128&d=identicon&r=PG&f=1", "display_name": "Dyadee", "link": "https://stackoverflow.com/users/3646562/dyadee"}, "is_accepted": false, "score": 1, "last_activity_date": 1588061556, "creation_date": 1588061556, "answer_id": 61475570, "question_id": 56957996, "link": "https://stackoverflow.com/questions/56957996/open-fragment-from-another-one-in-kotlin/61475570#61475570", "title": "Open fragment from another one in kotlin", "body": "<p>In your CurrentFragment, override the onActivityCreated like so:</p>\n\n<pre><code>override fun onActivityCreated(savedInstanceState: Bundle?) {\n    super.onActivityCreated(savedInstanceState)\n\n    yourOwnButton.setOnClickListener{\n\n        requireActivity().supportFragmentManager.beginTransaction()\n            .replace(R.id.your_fragment_container, AnotherFragment.newInstance())\n            .commit()\n    }\n}\n</code></pre>\n\n<p>and inside your AnotherFragment you should have a companion object like so:</p>\n\n<pre><code>companion object {\n    fun newInstance() = StudentFragment()\n}\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 10445439, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wD4Bc6AE6Qk/AAAAAAAAAAI/AAAAAAAADUY/A6AkhJftuJ4/photo.jpg?sz=128", "display_name": "Lucile S", "link": "https://stackoverflow.com/users/10445439/lucile-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11702, "favorite_count": 1, "answer_count": 6, "score": 2, "last_activity_date": 1588061556, "creation_date": 1562694005, "last_edit_date": 1562748665, "question_id": 56957996, "link": "https://stackoverflow.com/questions/56957996/open-fragment-from-another-one-in-kotlin", "title": "Open fragment from another one in kotlin", "body": "<p>I'm totally desesperate. I try to open/replace fragment from one to another and only docs I can find is from an Activity or only in Java (with the getFragmentManager() method, seems to not exist in Kotlin).</p>\n\n<p>supportFragmentManager is only available inside an Activity, and I'm using a fragment and adapter.</p>\n\n<p>Could you please help me?</p>\n\n<p>I think it's unless to show my code because it's just give nothing, only errors</p>\n\n<p>None of the answers worked for me.\nI tried something else and create an interface :</p>\n\n<pre><code>interface AdapterCallbackAlbum {\nfun onClickItem(album: Album)}\n</code></pre>\n\n<p>And implement this in my first fragment </p>\n\n<pre><code>class ListAlbumsFragment : Fragment(), AdapterCallbackAlbum {\n  override fun onClickItem(album: Album) {\n  val fragment = ListTracksFragment.newInstance()\n  val transaction = childFragmentManager.beginTransaction()\n  transaction.replace(R.id.album_fragment, fragment)\n  transaction.commit()\n}\n</code></pre>\n\n<p>And finally the adapter: </p>\n\n<pre><code>    class AlbumAdapter(val context: Context, private val \n    adapterCallbackAlbum: AdapterCallbackAlbum): Adapter&lt;ViewHolder&gt;() {\n    override fun onBindViewHolder(holder: RecyclerView.ViewHolder, \n    position: Int) {\n        val album = albumList[position]\n        holder.itemView.setOnClickListener { \n          adapterCallbackAlbum.onClickItem(album)\n       }}\n</code></pre>\n\n<p>But the only result I get is the second fragment put on the first one even if I call a :</p>\n\n<pre><code>transaction.remove(ListAlbumFragment.newInstance())\n</code></pre>\n\n<p>A friend of mine finally solved my problem (maybe it could help someone).</p>\n\n<pre><code> override fun onClickItem(album: Album) {\n    val fragment = ListTracksFragment.newInstance()\n    val transaction = fragmentManager.beginTransaction()\n    transaction.replace(R.id.content, fragment)\n    transaction.addToBackStack(null)\n    transaction.commit()\n}\n</code></pre>\n\n<p>The trouble was we start from MainActivity, which load a fragment, inside this fragment, we have to load another one on a click event. So the fragment to replace is not the current fragment, but the content of main_activity.xml.</p>\n\n<p>Thank's to all for your quick answers</p>\n"}, {"tags": ["java", "android", "sqlite", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "reply_to_user": {"reputation": 3502, "user_id": 1261752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OjAfn.png?s=128&g=1", "display_name": "C Perkins", "link": "https://stackoverflow.com/users/1261752/c-perkins"}, "edited": false, "score": 0, "creation_date": 1562695144, "post_id": 56957820, "comment_id": 100454561, "body": "But how can I do it to a String like this one <code>[Water, coke, 7up]</code> to return this value even if the user types CoKe?"}, {"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "reply_to_user": {"reputation": 3502, "user_id": 1261752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OjAfn.png?s=128&g=1", "display_name": "C Perkins", "link": "https://stackoverflow.com/users/1261752/c-perkins"}, "edited": false, "score": 0, "creation_date": 1562703434, "post_id": 56957820, "comment_id": 100457909, "body": "@CPerkins First option works for me now... this one is not, this is the db I&#39;m using : <a href=\"https://sqliteonline.com/#fiddle-5d24f6455d161js6jxw99v6u\" rel=\"nofollow noreferrer\">sqliteonline.com/#fiddle-5d24f6455d161js6jxw99v6u</a>"}, {"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "reply_to_user": {"reputation": 3502, "user_id": 1261752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OjAfn.png?s=128&g=1", "display_name": "C Perkins", "link": "https://stackoverflow.com/users/1261752/c-perkins"}, "edited": false, "score": 0, "creation_date": 1562704353, "post_id": 56957820, "comment_id": 100458225, "body": "@CPerkins Perhaps is you that you don&#39;t want to think, or to check what&#39;s inside the database, it&#39;s clear my question, I have entries like the ones from my question, I just want to get the ones that contains &quot;water&quot; and not &quot;waterera&quot; for instance, if you check the link I sent to you you&#39;ll find that the database is THE SAME but with other values......."}], "answers": [{"comments": [{"owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "edited": false, "score": 0, "creation_date": 1562694544, "post_id": 56958010, "comment_id": 100454298, "body": "Thanks for posting an answer @MikeT I ended up doing it with <code>collate = NOCASE</code> the first thing, but with the list is not working this method, so I&#39;m trying to get whatever word is inside that string"}], "tags": [], "owner": {"reputation": 31155, "user_id": 4744514, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/RQ2Np.jpg?s=128&g=1", "display_name": "MikeT", "link": "https://stackoverflow.com/users/4744514/miket"}, "is_accepted": true, "score": 1, "last_activity_date": 1562708587, "last_edit_date": 1562708587, "creation_date": 1562694064, "answer_id": 56958010, "question_id": 56957820, "link": "https://stackoverflow.com/questions/56957820/how-can-i-get-the-exact-word-in-a-sentence/56958010#56958010", "title": "How can I get the exact word in a sentence", "body": "<p>The following should work :-</p>\n\n<pre><code>@Query(\"SELECT * from drinksList WHERE list||',' LIKE '%'||:name||',%' OR list||',' LIKE :name||',%'\")\n</code></pre>\n\n<p>This based upon/ was tested using :-</p>\n\n<pre><code>DROP TABLE IF EXISTS DrinksList;\nCREATE TABLE IF NOT EXISTS DrinksList (list TEXT UNIQUE NOT NULL);\nINSERT INTO DrinksList VALUES\n    ('Water, spicy, coke'),             -- Should be found when searching for water\n    ('Coke'),                           -- will not be found when seraching for water\n    ('Spicy, water, coke'),             -- Should be found\n    ('Coke, spicy, water'),             -- Should be found\n    ('wateria, spicyer, cokeer'),       -- should not be found\n    ('Water, coke, 7up'),               -- should be found\n    ('Coke, waterera, 7up'),            -- should not be found\n    ('Waterg3d, coke, 7up'),            -- should not be found\n    ('Coke, water23, 7up')              -- should not be found\n    ;\nSELECT * from drinkslist WHERE list||',' LIKE '%'||'water'||',%' OR list||',' LIKE 'water'||',%';\n</code></pre>\n\n<p>Resulting in :-</p>\n\n<p><a href=\"https://i.stack.imgur.com/H6Zia.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H6Zia.png\" alt=\"enter image description here\"></a></p>\n\n<p>The above has been tested and it does work in room as per :-</p>\n\n<p>All lists displays :-</p>\n\n<p><a href=\"https://i.stack.imgur.com/rkv7x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rkv7x.png\" alt=\"enter image description here\"></a></p>\n\n<p>Entering <strong>wAtER</strong> in the edit text and clicking the Selective button results in :-</p>\n\n<p><a href=\"https://i.stack.imgur.com/22jRE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/22jRE.png\" alt=\"enter image description here\"></a></p>\n\n<p>Entering <strong>7Up</strong> :-</p>\n\n<p><a href=\"https://i.stack.imgur.com/qWYfC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qWYfC.png\" alt=\"enter image description here\"></a></p>\n\n<p>and so on.</p>\n\n<p>The query being :-</p>\n\n<pre><code>@Query(\"SELECT * FROM DrinkList WHERE list||',' LIKE '%'||:name||',%' OR list||',' LIKE :name||',%'\")\nList&lt;DrinkList&gt; getSelectiveDrinks(String name);\n</code></pre>\n"}], "owner": {"reputation": 563, "user_id": 4329781, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/d8de523f2be4dd638512684d841d63b0?s=128&d=identicon&r=PG&f=1", "display_name": "StuartDTO", "link": "https://stackoverflow.com/users/4329781/stuartdto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 56958010, "answer_count": 1, "score": 2, "last_activity_date": 1562708587, "creation_date": 1562693293, "last_edit_date": 1562704263, "question_id": 56957820, "link": "https://stackoverflow.com/questions/56957820/how-can-i-get-the-exact-word-in-a-sentence", "title": "How can I get the exact word in a sentence", "body": "<p>If I do this query, I search on a field that contains : </p>\n\n<p>[Water, coke, 7up]</p>\n\n<p>[Coke, water, 7up]</p>\n\n<p>So, then I want also to return these items even if the parameter is written with capital letter, for this I'm using this <code>@Query</code></p>\n\n<pre><code>@Query(\"SELECT * from drinksList WHERE list LIKE '%'||:name||'%'\")\n</code></pre>\n\n<p>What am I missing?</p>\n\n<h2>EDIT</h2>\n\n<p>Now I'm using <code>LIKE %param%</code>but the problem is that if the table is like this : </p>\n\n<p>[Water, coke, 7up]</p>\n\n<p>[Coke, waterera, 7up]</p>\n\n<p>[Waterg3d, coke, 7up]</p>\n\n<p>[Coke, water23, 7up]</p>\n\n<p>And I want to find the \"water\" one it will show all of these records, and I just want to find the word \"water\" doesn't matter if it's lowercase or uppercase.</p>\n"}, {"tags": ["android", "json", "kotlin", "retrofit2"], "comments": [{"owner": {"reputation": 593, "user_id": 9090647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db28b5874a9f32a26380abe68c6821dd?s=128&d=identicon&r=PG&f=1", "display_name": "Bilal Naeem", "link": "https://stackoverflow.com/users/9090647/bilal-naeem"}, "edited": false, "score": 0, "creation_date": 1562692927, "post_id": 56957539, "comment_id": 100453625, "body": "You cannot use keywords for variable/class names. It would be better to refactor it to something similar like <code>ContinueJson</code> or <code>ContinueObj</code>."}, {"owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "edited": false, "score": 0, "creation_date": 1562695652, "post_id": 56957539, "comment_id": 100454789, "body": "Most json parsing frameworks have a way to specify the serialized name differently from the program/field name. For example, Gson will let you annotate your field with <code>@SerializedName(&quot;continue&quot;)</code> and then choose a different (non-keyword) name for the actual field."}], "answers": [{"tags": [], "owner": {"reputation": 410, "user_id": 6623565, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6OPDeSPdKkM/AAAAAAAAAAI/AAAAAAAAAKE/6BV8A2zvb1U/photo.jpg?sz=128", "display_name": "Modi Harsh", "link": "https://stackoverflow.com/users/6623565/modi-harsh"}, "is_accepted": true, "score": 2, "last_activity_date": 1562693382, "creation_date": 1562693382, "answer_id": 56957833, "question_id": 56957539, "link": "https://stackoverflow.com/questions/56957539/how-to-use-continue-as-a-parameter-for-a-method/56957833#56957833", "title": "How to use continue as a parameter for a method", "body": "<p>If you really wanna use <code>keyword</code> as a parameter. You can use like this :</p>\n\n<pre><code>data class ResultOfContinue(val `continue`: Continue) {\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11750595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd35dcf4e9f1138bdba7b59a84b36fe6?s=128&d=identicon&r=PG&f=1", "display_name": "Amr", "link": "https://stackoverflow.com/users/11750595/amr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 56957833, "answer_count": 1, "score": 0, "last_activity_date": 1562693382, "creation_date": 1562692131, "question_id": 56957539, "link": "https://stackoverflow.com/questions/56957539/how-to-use-continue-as-a-parameter-for-a-method", "title": "How to use continue as a parameter for a method", "body": "<p>in the json file i receive as respone it contains a key \"continue\" and to create the model object for the response i have to use \"continue\" as a parameter in the method.</p>\n\n<p><strong>Activity</strong></p>\n\n<pre><code>public object Model {\ndata class ResultOfContinue(val continue: Continue)\n}\n</code></pre>\n\n<p><strong>json</strong></p>\n\n<pre><code>\"batchcomplete\": \"\",\n\"continue\": {\n    \"sroffset\": 10,\n    \"continue\": \"-||\"\n},\n</code></pre>\n"}, {"tags": ["scala", "kotlin", "collections"], "comments": [{"owner": {"reputation": 1686, "user_id": 250917, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Fh1vm.png?s=128&g=1", "display_name": "slugmandrew", "link": "https://stackoverflow.com/users/250917/slugmandrew"}, "edited": false, "score": 1, "creation_date": 1562689116, "post_id": 56956655, "comment_id": 100451981, "body": "Are you asking for the equivalent method names in kotlin?"}, {"owner": {"reputation": 3999, "user_id": 101954, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/37gU2.jpg?s=128&g=1", "display_name": "CW Holeman II", "link": "https://stackoverflow.com/users/101954/cw-holeman-ii"}, "reply_to_user": {"reputation": 1686, "user_id": 250917, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Fh1vm.png?s=128&g=1", "display_name": "slugmandrew", "link": "https://stackoverflow.com/users/250917/slugmandrew"}, "edited": false, "score": 0, "creation_date": 1562691466, "post_id": 56956655, "comment_id": 100453074, "body": "Yes, if  they exist."}, {"owner": {"reputation": 171740, "user_id": 869736, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/671f732e3c68c387c702112a30e5ebd8?s=128&d=identicon&r=PG&f=1", "display_name": "Louis Wasserman", "link": "https://stackoverflow.com/users/869736/louis-wasserman"}, "edited": false, "score": 0, "creation_date": 1562706738, "post_id": 56956655, "comment_id": 100459094, "body": "I don&#39;t believe there&#39;s anything built in.  There are certainly Java libraries which provide these methods, though."}], "answers": [{"tags": [], "owner": {"reputation": 514, "user_id": 2807072, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rqlp.jpg?s=128&g=1", "display_name": "Nurlan", "link": "https://stackoverflow.com/users/2807072/nurlan"}, "is_accepted": false, "score": 0, "last_activity_date": 1592086936, "creation_date": 1592086936, "answer_id": 62366217, "question_id": 56956655, "link": "https://stackoverflow.com/questions/56956655/kotlin-for-scala-list-combinations-and-or-set-subset/62366217#62366217", "title": "Kotlin for Scala List.combinations() and/or Set.subset()?", "body": "<p>Scala's <a href=\"https://www.scala-lang.org/api/current/scala/collection/immutable/List.html#combinations(n:Int):Iterator[C]\" rel=\"nofollow noreferrer\">List#combinations</a> does the same as <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/windowed.html\" rel=\"nofollow noreferrer\">Iterable#windowed</a>. </p>\n\n<blockquote>\n  <p>At the first glance, name <em>combinations</em> seems about all possible\n  combinations, but that is about groups of sequenced elements by given\n  size. It named <em>windowed</em> in kotlin.</p>\n</blockquote>\n\n<p><a href=\"https://www.scala-lang.org/api/current/scala/collection/immutable/Set.html#subsets():Iterator[C]\" rel=\"nofollow noreferrer\">Set#subset</a> haven't seen yet in kotlin. May be achieved by extension:</p>\n\n<pre><code>fun &lt;E&gt; Set&lt;E&gt;.sets(): Set&lt;Set&lt;E&gt;&gt; = this.fold(mutableSetOf&lt;MutableSet&lt;E&gt;&gt;()) { mSet, currentEl -&gt;\n    mset.add(mutableSetOf())\n    mset.forEach{ it.add(currentEl) }\n}\n</code></pre>\n"}], "owner": {"reputation": 3999, "user_id": 101954, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/37gU2.jpg?s=128&g=1", "display_name": "CW Holeman II", "link": "https://stackoverflow.com/users/101954/cw-holeman-ii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1592086936, "creation_date": 1562688506, "last_edit_date": 1562705190, "question_id": 56956655, "link": "https://stackoverflow.com/questions/56956655/kotlin-for-scala-list-combinations-and-or-set-subset", "title": "Kotlin for Scala List.combinations() and/or Set.subset()?", "body": "<p>What are the Kotlin equivalents for the following Scala collection methods, if they even exist?</p>\n\n<ul>\n<li><a href=\"https://www.scala-lang.org/api/current/scala/collection/immutable/List.html#combinations(n:Int):Iterator[C]\" rel=\"nofollow noreferrer\"><code>List#combinations</code></a> </li>\n<li><a href=\"https://www.scala-lang.org/api/current/scala/collection/immutable/Set.html#subsets():Iterator[C]\" rel=\"nofollow noreferrer\"><code>Set#subset</code></a></li>\n</ul>\n"}, {"tags": ["android", "kotlin", "lazy-initialization"], "comments": [{"owner": {"reputation": 1476, "user_id": 3710341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92019ee5ebb2b68bb97d2bd2547dd93f?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar Chapagain", "link": "https://stackoverflow.com/users/3710341/sagar-chapagain"}, "reply_to_user": {"reputation": 2445, "user_id": 2389923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a9332842a945234c71e89f9b9780447?s=128&d=identicon&r=PG", "display_name": "beigirad", "link": "https://stackoverflow.com/users/2389923/beigirad"}, "edited": false, "score": 0, "creation_date": 1562690532, "post_id": 56956652, "comment_id": 100452643, "body": "@beigirad no any workarounds are needed if Kotlin Android Extensions are used. <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/android-plugin.html</a>"}], "answers": [{"tags": [], "owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "is_accepted": false, "score": 0, "last_activity_date": 1562689229, "creation_date": 1562689229, "answer_id": 56956842, "question_id": 56956652, "link": "https://stackoverflow.com/questions/56956652/how-to-initialize-a-ui-component-lazily/56956842#56956842", "title": "how to initialize a UI-component lazily", "body": "<p>I suggest you to use <a href=\"https://developer.android.com/topic/libraries/data-binding\" rel=\"nofollow noreferrer\">DataBinding library</a> to get easier initialization / use of your layout items.</p>\n\n<p>Do as follow :</p>\n\n<pre><code>class YourClassActivity() {\n\n    private var myTextView : TextView? = null    // At first, myTextView is null. Do not use it !\n\n    private var viewModel = YourViewModel()\n\n    override fun onCreate(...) {\n        val binding = DataBindingUtil.setContentView&lt;ActivityYourClassBinding&gt;(this, R.layout.activity_your_class) // DataBinding will set your view\n        binding.viewModel = yourViewModel\n\n        // Init layout variables\n        myTextView = binding.myTextView // If your TextView id is \"my_text_view\"\n\n        /*\n        ** Now you can use 'myTextView' in any of your function (not just onCreate).\n        ** Just do not forget to put the nullable '?' mark after its name.\n        */\n        myTextView?.text = \"Hello World\"\n        myTextView?.setOnClickListener { clear() }\n    }\n\n    private fun clear() {\n        myTextView?.text = \"\" // You can use your variable anywhere you want !\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1476, "user_id": 3710341, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92019ee5ebb2b68bb97d2bd2547dd93f?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar Chapagain", "link": "https://stackoverflow.com/users/3710341/sagar-chapagain"}, "is_accepted": false, "score": 2, "last_activity_date": 1612828276, "last_edit_date": 1612828276, "creation_date": 1562689733, "answer_id": 56956984, "question_id": 56956652, "link": "https://stackoverflow.com/questions/56956652/how-to-initialize-a-ui-component-lazily/56956984#56956984", "title": "how to initialize a UI-component lazily", "body": "<p>Instead of using <code>var</code> you should use <code>val</code></p>\n<pre><code>val mTextViewResult : TextView by lazy { findViewById(R.id.tvResult) }\n</code></pre>\n<p><strong>DEPRECATED</strong>\n<em>Furthermore, if <a href=\"https://kotlinlang.org/docs/tutorials/android-plugin.html\" rel=\"nofollow noreferrer\">kotlin android extensions</a> plugin is applied you do not have to call <code>findViewById()</code> too.</em></p>\n<p>In application level <code>build.gradle</code> add plugin for kotlin android extension</p>\n<pre><code>apply plugin: &quot;com.android.application&quot;\napply plugin: &quot;kotlin-android&quot;\napply plugin: &quot;kotlin-kapt&quot;\napply plugin: &quot;kotlin-android-extensions&quot; // this plugin\n\n...\n</code></pre>\n<p>Now you can use <code>tvResult</code> by importing your layout reference.</p>\n<pre><code>import kotlinx.android.synthetic.main.&lt;layout&gt;.*\n\nclass MainActivity : AppCompatActivity{\n...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6601, "user_id": 5457853, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8ee94ffac93a9a507abbbbd679f4779a?s=128&d=identicon&r=PG&f=1", "display_name": "Thracian", "link": "https://stackoverflow.com/users/5457853/thracian"}, "is_accepted": false, "score": 0, "last_activity_date": 1612783598, "last_edit_date": 1612783598, "creation_date": 1562689981, "answer_id": 56957042, "question_id": 56956652, "link": "https://stackoverflow.com/questions/56956652/how-to-initialize-a-ui-component-lazily/56957042#56957042", "title": "how to initialize a UI-component lazily", "body": "<p>You can't use <code>lazy</code> with <code>var</code>. You can use  <code>var lateinit mTextViewResult : TextView</code> and mTextViewResult = findViewById(...) in onCreate <strike>or you can use <a href=\"https://antonioleiva.com/kotlin-android-extensions/\" rel=\"nofollow noreferrer\">synthetics</a> to access TextView by it's id defined in xml.</strike></p>\n"}], "owner": {"reputation": 6353, "user_id": 3732958, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/4ad4db32f4933b1bfcf0e0fa116781e0?s=128&d=identicon&r=PG", "display_name": "user2121", "link": "https://stackoverflow.com/users/3732958/user2121"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1037, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1612828276, "creation_date": 1562688502, "last_edit_date": 1564293247, "question_id": 56956652, "link": "https://stackoverflow.com/questions/56956652/how-to-initialize-a-ui-component-lazily", "title": "how to initialize a UI-component lazily", "body": "<p>Given the below example, how can I make lazy initialization of the TextView?\nI attempted to do the initialization via <strong>lateinit</strong> and it worked, but it cant be done via lazy lambda function</p>\n\n<p><strong>Activity</strong></p>\n\n<pre><code>    var mTextViewResult : TextView by lazy { findViewById(R.id.tvResult) }\n\n    onCreate(...) {...}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 77669, "user_id": 550966, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/04gz5.png?s=128&g=1", "display_name": "Pankaj Kumar", "link": "https://stackoverflow.com/users/550966/pankaj-kumar"}, "edited": false, "score": 0, "creation_date": 1562687911, "post_id": 56956432, "comment_id": 100451342, "body": "That is just a warning, because compiler is not going to evaluate whole code snippet. It is just evaluating the line with declaration of variable."}, {"owner": {"reputation": 6305, "user_id": 389649, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7fc842fef375d0c258c3762684d149d1?s=128&d=identicon&r=PG", "display_name": "Cristan", "link": "https://stackoverflow.com/users/389649/cristan"}, "edited": false, "score": 0, "creation_date": 1562689082, "post_id": 56956432, "comment_id": 100451965, "body": "When I run your code above, I get a &quot;Unnecessary non-null assertion&quot; warning on the second line. It also doesn&#39;t make sense: either you have to always check for nullability (so getting a surname also would need a <code>!!</code>), or just once (at the <code>if</code>). Please check if the code you posted is correct."}, {"owner": {"reputation": 10456, "user_id": 9241978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d7f9d2a03452f74bfd802e36d50b7db?s=128&d=identicon&r=PG&f=1", "display_name": "Pawel", "link": "https://stackoverflow.com/users/9241978/pawel"}, "edited": false, "score": 0, "creation_date": 1562691606, "post_id": 56956432, "comment_id": 100453135, "body": "How is your <code>user</code> field declared? When I try this code snippet I have to do non-null cast on every single line, if compiler lets you off with 1 cast only that&#39;s weird."}], "answers": [{"tags": [], "owner": {"reputation": 3446, "user_id": 11016588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-F6RcLML2H6o/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQO0WVT35BZ4DGhtU0gK3nG_5sC3Ww/mo/photo.jpg?sz=128", "display_name": "Chrisvin Jem", "link": "https://stackoverflow.com/users/11016588/chrisvin-jem"}, "is_accepted": true, "score": 6, "last_activity_date": 1562692763, "last_edit_date": 1562692763, "creation_date": 1562691762, "answer_id": 56957457, "question_id": 56956432, "link": "https://stackoverflow.com/questions/56956432/kotlin-null-checks-when-nullability-is-already-checked/56957457#56957457", "title": "Kotlin null checks(!!) when nullability is already checked", "body": "<p>There's a reason for that behavior. Basically, it's because the compiler can't ensure that the value of <code>user</code> doesn't become null after the <code>if</code> check. </p>\n\n<p>This behavior is only applicable for <code>var user</code>, not for <code>val user</code>. So for example,</p>\n\n<pre><code>val user: User? = null;\nif (user != null) {\n  // user not null\n  val name = user.name // won't show any errors\n}\n</code></pre>\n\n<pre><code>var user: User? = null;\nif (user != null) {\n  // user might be null\n  // Since the value can be changed at any point inside the if block (or from another thread).\n  val name = user.name // will show an error\n}\n</code></pre>\n\n<p><code>let</code> allows you to ensure immutability even for <code>var</code> variables. <code>let</code> creates a new final value separate from the original variable.</p>\n\n<pre><code>var user: User? = null\nuser?.let {\n  //it == final non null user\n  //If you try to access 'user' directly here, it will show error message,\n  //since only 'it' is assured to be non null, 'user' is still volatile.\n  val name = it.name // won't show any errors\n  val surname = user.surname // will show an error\n}\n</code></pre>\n"}], "owner": {"reputation": 906, "user_id": 5375816, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92fbc2585b529571154517af9a81c2e1?s=128&d=identicon&r=PG&f=1", "display_name": "Lorenzo Vincenzi", "link": "https://stackoverflow.com/users/5375816/lorenzo-vincenzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 56957457, "answer_count": 1, "score": 1, "last_activity_date": 1562692763, "creation_date": 1562687654, "question_id": 56956432, "link": "https://stackoverflow.com/questions/56956432/kotlin-null-checks-when-nullability-is-already-checked", "title": "Kotlin null checks(!!) when nullability is already checked", "body": "<p>I have a question about Kotlin and its null checks warnings.</p>\n\n<p>Let's assume I created an object called \"user\" with some attribute like name, surname, etc etc. The following code is an example:</p>\n\n<pre><code>if(user != null) {\n    val name = user!!.name\n    val surname = user.surname\n    val phoneNumber = user.phoneNumber\n} else \n    // Something else\n</code></pre>\n\n<p>Why, even if I checked that user is not null, Kotlin wants me to use !! the first time I call user? It cannot be null at this point.</p>\n\n<p>I know that I can use the following block but I don't understand this behavior.</p>\n\n<pre><code>user?.let{\n    // Block when user is not null\n}?:run{\n    // Block when user is null\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-coroutines"], "comments": [{"owner": {"reputation": 865, "user_id": 10922928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcec10c285df503a650a817142f2fef?s=128&d=identicon&r=PG&f=1", "display_name": "solaza", "link": "https://stackoverflow.com/users/10922928/solaza"}, "edited": false, "score": 0, "creation_date": 1562740934, "post_id": 56956400, "comment_id": 100466761, "body": "Add checkDatabaseForStats(sessionID, fishSpeciesID) code."}, {"owner": {"reputation": 45, "user_id": 10597274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d59f7193d1b798805ecac10adba8a78?s=128&d=identicon&r=PG&f=1", "display_name": "Lyam.D", "link": "https://stackoverflow.com/users/10597274/lyam-d"}, "reply_to_user": {"reputation": 865, "user_id": 10922928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcec10c285df503a650a817142f2fef?s=128&d=identicon&r=PG&f=1", "display_name": "solaza", "link": "https://stackoverflow.com/users/10922928/solaza"}, "edited": false, "score": 0, "creation_date": 1562750479, "post_id": 56956400, "comment_id": 100471798, "body": "edited and added, but it&#39;s pretty straightforward, not sure it will be very usefull"}, {"owner": {"reputation": 45, "user_id": 10597274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d59f7193d1b798805ecac10adba8a78?s=128&d=identicon&r=PG&f=1", "display_name": "Lyam.D", "link": "https://stackoverflow.com/users/10597274/lyam-d"}, "reply_to_user": {"reputation": 865, "user_id": 10922928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fcec10c285df503a650a817142f2fef?s=128&d=identicon&r=PG&f=1", "display_name": "solaza", "link": "https://stackoverflow.com/users/10922928/solaza"}, "edited": false, "score": 0, "creation_date": 1562752694, "post_id": 56956400, "comment_id": 100473118, "body": "Oh and the database.getStat is used in multiple others situation and work perfectly fine so i&#39;m sure it&#39;s not from there"}, {"owner": {"reputation": 4954, "user_id": 8914336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3ZiaPSSVtqI/AAAAAAAAAAI/AAAAAAAAAZE/Bpxg5UxWaP0/photo.jpg?sz=128", "display_name": "coroutineDispatcher", "link": "https://stackoverflow.com/users/8914336/coroutinedispatcher"}, "edited": false, "score": 0, "creation_date": 1562754385, "post_id": 56956400, "comment_id": 100474035, "body": "try making a Build and Clean of the project"}, {"owner": {"reputation": 45, "user_id": 10597274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d59f7193d1b798805ecac10adba8a78?s=128&d=identicon&r=PG&f=1", "display_name": "Lyam.D", "link": "https://stackoverflow.com/users/10597274/lyam-d"}, "edited": false, "score": 0, "creation_date": 1562755271, "post_id": 56956400, "comment_id": 100474503, "body": "Done a few times, didn&#39;t change nothing, I&#39;ve even tried build the project without the DAO function and then rebuild it with, didn&#39;t worked either. Same after restarting Android Studio / The Computer"}, {"owner": {"reputation": 45, "user_id": 10597274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d59f7193d1b798805ecac10adba8a78?s=128&d=identicon&r=PG&f=1", "display_name": "Lyam.D", "link": "https://stackoverflow.com/users/10597274/lyam-d"}, "edited": false, "score": 0, "creation_date": 1562760531, "post_id": 56956400, "comment_id": 100477290, "body": "I&#39;ve made an edit, I found a solution but I still don&#39;t understand why the previous way has stopped working suddenly"}], "owner": {"reputation": 45, "user_id": 10597274, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d59f7193d1b798805ecac10adba8a78?s=128&d=identicon&r=PG&f=1", "display_name": "Lyam.D", "link": "https://stackoverflow.com/users/10597274/lyam-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 305, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562759827, "creation_date": 1562687571, "last_edit_date": 1562759827, "question_id": 56956400, "link": "https://stackoverflow.com/questions/56956400/coroutine-withcontext-is-no-more-reach-and-read-stop-working-for-no-reason", "title": "Coroutine &quot;withContext&quot; is no more reach and read, stop working for no reason", "body": "<p>I'm using Architecture Components and Room but I don't think it come from there\nI use coroutines to insert and retrieve data from the Database. Everything worked fine until I came to <a href=\"https://stackoverflow.com/questions/56950335/adapter-data-mutablelist-crash-when-modified\">this problem</a></p>\n\n<p>This last problem has been solved but he caused another problem. One of my coroutines to insert data was working fine before, and now the code inside <code>withContext(Dispatchers.IO) { </code> is never read. All the others function are working, and this one was too before. <strong>The app doesn't crash,no error log, but the data is not inserted because withContext is never read</strong></p>\n\n<p>I've tried rebuilding the project, relaunch Android Studio, reinstall the app but nothing made an effect, I've narrow down the bug to this few lines but I didn't find anything about that bug on the web, I've tried renaming it, passing it by another function but nothing, it's Black magic and I've no clue why it's stopped working suddenly like that, I did not even modify the code for the past week.</p>\n\n<pre><code>fun insertNewStats(sessionID: Long, fishSpeciesID: Int) {\n        uiScope.launch {\n            //This access to database is working fine\n            val stats = checkDatabaseForStats(sessionID, fishSpeciesID)\n            if (stats == null) {\n                //This is the call of the function that is not working\n                insertStatsToDatabase(sessionID, fishSpeciesID)\n            } else {\n                stats.numberOfCatch++\n                updateStatsToDatabase(stats)\n            }\n        }\n    }\n</code></pre>\n\n<p>this is checkDatabaseForStats, <strong>if I put the insert here it will work perfectly</strong>, meaning it doesn't come from the DAO function but from the withContext</p>\n\n<pre><code>private suspend fun checkDatabaseForStats(sessionID: Long, fishSpeciesID: Int) : SessionsFishStats?{\n    return withContext(Dispatchers.IO) {\n        val stats = database.getStat(sessionID, fishSpeciesID)\n        stats\n    }\n}\n</code></pre>\n\n<p><strong>The part that doesn't work, the function is reached, not the <em>withContext</em></strong></p>\n\n<pre><code>private suspend fun insertStatsToDatabase(sessionID: Long, fishSpeciesID: Int) {\n        //This function is reached, the code put there will be read and work\n        withContext(Dispatchers.IO) {\n            //And from there nothing, this code is never reached\n            database.insertStats(\n                SessionsFishStats(fk_sessionId = sessionID, fishSpeciesId = fishSpeciesID, numberOfCatch = 1L)\n            )\n        }\n    }\n</code></pre>\n\n<p>This is the query in my DAO</p>\n\n<pre><code>@Insert(onConflict = OnConflictStrategy.REPLACE)\nsuspend fun insertStats(stats: SessionsFishStats)\n</code></pre>\n\n<p>If i put the <code>withContext</code> directly in <code>insertNewStats</code> (not passing by a function) it will not work either</p>\n\n<p>I want to remind that this code <strong>used to worked perfectly fine</strong> and stopped working when a non related bug occurred. The app doesn't crash, it's just code non read. <strong>All the other Insert query in my app work, all the other withContext and DAO function work perfectly fine too</strong>, it just this one that has been cursed for no reason other than black magic</p>\n\n<hr>\n\n<p>I've done that, which is just put everything in the same function, and it worked perfectly fine. It's weird and I don't know why...</p>\n\n<pre><code>fun whyIsThisWorking(sessionID: Long, fishSpeciesID: Int) {\n        uiScope.launch {\n            withContext(Dispatchers.IO) {\n                val stat = database.getStat(sessionID, fishSpeciesID)\n                if (stat == null) {\n                    database.insertStat(\n                        SessionsFishStats(fk_sessionId = sessionID, fishSpeciesId = fishSpeciesID, numberOfCatch = 1L)\n                    )\n                } else {\n                    stat.numberOfCatch++\n                    database.updateStats(stat)\n                }\n            }\n        }\n    }\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger"], "comments": [{"owner": {"reputation": 63777, "user_id": 116472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13753e40e0a6a2ef6b0652e1e05b0af0?s=128&d=identicon&r=PG", "display_name": "Thomas Broyer", "link": "https://stackoverflow.com/users/116472/thomas-broyer"}, "edited": false, "score": 0, "creation_date": 1563184294, "post_id": 56955853, "comment_id": 100602490, "body": "Can you create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">mcve</a> and share it? (e.g. on GitHub/GitLab/Bitbucket, or a downloadable ZIP file)"}, {"owner": {"reputation": 2756, "user_id": 2235972, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZDR82.png?s=128&g=1", "display_name": "denvercoder9", "link": "https://stackoverflow.com/users/2235972/denvercoder9"}, "edited": false, "score": 0, "creation_date": 1578059641, "post_id": 56955853, "comment_id": 105325763, "body": "Did you solve it?"}, {"owner": {"reputation": 363, "user_id": 6311832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14f5b84a6fb31cd1ed9cf3aeab20af8?s=128&d=identicon&r=PG&f=1", "display_name": "ThePMO", "link": "https://stackoverflow.com/users/6311832/thepmo"}, "edited": false, "score": 0, "creation_date": 1585294954, "post_id": 56955853, "comment_id": 107714018, "body": "What does work for me (kind of) is to rebuild the module. Annoying, but at least it works"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 5766839, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-YXpPlxVPnh0/AAAAAAAAAAI/AAAAAAAASp8/C8TcmMiyxRc/photo.jpg?sz=128", "display_name": "Ray Yuan Liou", "link": "https://stackoverflow.com/users/5766839/ray-yuan-liou"}, "is_accepted": false, "score": 0, "last_activity_date": 1608638005, "creation_date": 1608638005, "answer_id": 65408244, "question_id": 56955853, "link": "https://stackoverflow.com/questions/56955853/dagger-component-error-cannot-find-symbol-kotlin-classes/65408244#65408244", "title": "Dagger component: error: cannot find symbol kotlin classes", "body": "<p>does your project use kapt?</p>\n<p>If so, you can disable the cache of kapt.</p>\n<p>Open your <code>build.gradle</code> file in the app module, and set the <code>useBuildCache</code> to false, and sync the Gradle.</p>\n<p>Try to rebuild your code.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>kapt {\n    useBuildCache = false  \n}\n</code></pre>\n<p>If everything goes fine, you can enable <code>useBuildCache</code> again.</p>\n"}], "owner": {"reputation": 291, "user_id": 4907016, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b147a0725062d1b9a54e8ffd38a64639?s=128&d=identicon&r=PG&f=1", "display_name": "Ashraf Atef", "link": "https://stackoverflow.com/users/4907016/ashraf-atef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1202, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1608638005, "creation_date": 1562685695, "last_edit_date": 1595939935, "question_id": 56955853, "link": "https://stackoverflow.com/questions/56955853/dagger-component-error-cannot-find-symbol-kotlin-classes", "title": "Dagger component: error: cannot find symbol kotlin classes", "body": "<p>Generated component of dagger couldn't find symbol of the kotlin classes even if there is no read lines on this component.</p>\n<blockquote>\n<p>Task :app:compileStagingDebugJavaWithJavac FAILED</p>\n</blockquote>\n<pre><code>\\app\\build\\generated\\source\\kapt\\stagingDebug\\...\\DaggerAppComponent.java:49: error: cannot find symbol\nimport com...features.Main.splash_screen.SplashScreenActivity;\n                                                                     ^\nsymbol:   class SplashScreenActivity\nlocation: package com...features.Main.splash_screen\n</code></pre>\n<p><strong>When I type the code in java it runs successfully and this issue only happens in windows. It doesn't appear in mac or <strong>linux</strong>.</strong></p>\n<pre><code>interface ISplashScreen  : IView {\n    fun gotoMainScreen()\n}\n\n@Module\nabstract class SplashModule {\n    @Binds\n    abstract fun provideISplash(splashScreenActivity: SplashScreenActivity): ISplashScreen\n}\n\n\nclass SplashScreenActivity : BaseActivity&lt;SplashScreenPresenter&gt;(), ISplashScreen {\n\n    @Inject\n    lateinit var splashScreenPresenter: SplashScreenPresenter\n\n    override fun gotoMainScreen() {\n        Navigator.goToMainScreen(context)\n    }\n\n    override fun onCreateInit(savedInstanceState: Bundle?) {\n\n    }\n\n    override fun getLayout(): Int = R.layout.activity_splash\n\n    override fun initPresenter(): SplashScreenPresenter = splashScreenPresenter\n}\n\nclass SplashScreenPresenter @Inject constructor(view: ISplashScreen,\n                                                environment: PresenterEnvironment)\n    : BasePresenter&lt;ISplashScreen&gt;(view, environment) {\n\n    // TODO : load project data by API\n    @SuppressLint(&quot;CheckResult&quot;)\n    override fun startLogic(savedInstance: Bundle?) {\n        super.startLogic(savedInstance)\n        Completable.timer(3, TimeUnit.SECONDS)\n                .compose(getDestroyIoTransformer&lt;Unit&gt;())\n                .subscribe {\n                    view.gotoMainScreen()\n                }\n    }\n}\n\n@Module\npublic abstract class ActivityModule {\n\n    @ContributesAndroidInjector(modules = SplashModule.class)\n    abstract SplashScreenActivity bindSplashScreenActivity();\n\n    @ContributesAndroidInjector(modules = { CartFragmentProvider.class, CategoryFragmentProvider.class})\n    abstract MainActivity bindMainActivity();\n}\n\n//Gradle\n\napply plugin: 'com.android.library'\napply plugin: 'kotlin-platform-android'\napply plugin: 'kotlin-kapt'\napply plugin: 'kotlin-android'\n\nimplementation &quot;com.google.dagger:dagger:2.23.1&quot;\nimplementation &quot;com.google.dagger:dagger-android-support:2.23.1&quot;\nkapt &quot;com.google.dagger:dagger-compiler:2.23.1&quot;\nkapt &quot;com.google.dagger:dagger-android-processor:2.23.1&quot;\n\n</code></pre>\n<pre><code>...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\common\\di\\components\\DaggerAppComponent.java:49: error: cannot find symbol\nimport com....features.Main.splash_screen.SplashScreenActivity;\n                                                                     ^\n  symbol:   class SplashScreenActivity\n  location: package com....features.Main.splash_screen\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\common\\di\\components\\DaggerAppComponent.java:51: error: cannot find symbol\nimport com....features.Main.splash_screen.SplashScreenPresenter;\n                                                                     ^\n  symbol:   class SplashScreenPresenter\n  location: package com....features.Main.splash_screen\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\common\\di\\modules\\ActivityModule_BindSplashScreenActivity.java:3: error: cannot find symbol\nimport com....features.Main.splash_screen.SplashModule;\n                                                                     ^\n  symbol:   class SplashModule\n  location: package com....features.Main.splash_screen\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\common\\di\\modules\\ActivityModule_BindSplashScreenActivity.java:4: error: cannot find symbol\nimport com....features.Main.splash_screen.SplashScreenActivity;\n                                                                     ^\n  symbol:   class SplashScreenActivity\n  location: package com....features.Main.splash_screen\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\common\\di\\modules\\ActivityModule_BindSplashScreenActivity.java:25: error: cannot find symbol\n  public interface SplashScreenActivitySubcomponent extends AndroidInjector&lt;SplashScreenActivity&gt; {\n                                                                            ^\n  symbol:   class SplashScreenActivity\n  location: class ActivityModule_BindSplashScreenActivity\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\common\\di\\modules\\ActivityModule_BindSplashScreenActivity.java:27: error: cannot find symbol\n    interface Factory extends AndroidInjector.Factory&lt;SplashScreenActivity&gt; {}\n                                                      ^\n  symbol:   class SplashScreenActivity\n  location: interface SplashScreenActivitySubcomponent\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\common\\di\\components\\DaggerAppComponent.java:217: error: cannot find symbol\n        SplashScreenActivity arg0) {\n        ^\n  symbol:   class SplashScreenActivity\n  location: class DaggerAppComponent.SplashScreenActivitySubcomponentFactory\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\common\\di\\components\\DaggerAppComponent.java:224: error: cannot find symbol\n    private final SplashScreenActivity arg0;\n                  ^\n  symbol:   class SplashScreenActivity\n  location: class DaggerAppComponent.SplashScreenActivitySubcomponentImpl\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\common\\di\\components\\DaggerAppComponent.java:226: error: cannot find symbol\n    private SplashScreenActivitySubcomponentImpl(SplashScreenActivity arg0Param) {\n                                                 ^\n  symbol:   class SplashScreenActivity\n  location: class DaggerAppComponent.SplashScreenActivitySubcomponentImpl\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\common\\di\\components\\DaggerAppComponent.java:233: error: cannot find symbol\n    private SplashScreenPresenter getSplashScreenPresenter() {\n            ^\n  symbol:   class SplashScreenPresenter\n  location: class DaggerAppComponent.SplashScreenActivitySubcomponentImpl\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\common\\di\\components\\DaggerAppComponent.java:237: error: cannot find symbol\n    public void inject(SplashScreenActivity arg0) {\n                       ^\n  symbol:   class SplashScreenActivity\n  location: class DaggerAppComponent.SplashScreenActivitySubcomponentImpl\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\common\\di\\components\\DaggerAppComponent.java:240: error: cannot find symbol\n    private SplashScreenActivity injectSplashScreenActivity(SplashScreenActivity instance) {\n                                                            ^\n  symbol:   class SplashScreenActivity\n  location: class DaggerAppComponent.SplashScreenActivitySubcomponentImpl\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\common\\di\\components\\DaggerAppComponent.java:240: error: cannot find symbol\n    private SplashScreenActivity injectSplashScreenActivity(SplashScreenActivity instance) {\n            ^\n  symbol:   class SplashScreenActivity\n  location: class DaggerAppComponent.SplashScreenActivitySubcomponentImpl\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\features\\Main\\splash_screen\\SplashScreenActivity_MembersInjector.java:14: error: cannot find symbol\npublic final class SplashScreenActivity_MembersInjector implements MembersInjector&lt;SplashScreenActivity&gt; {\n                                                                                   ^\n  symbol: class SplashScreenActivity\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\features\\Main\\splash_screen\\SplashScreenActivity_MembersInjector.java:25: error: cannot find symbol\n  private final Provider&lt;SplashScreenPresenter&gt; splashScreenPresenterProvider;\n                         ^\n  symbol:   class SplashScreenPresenter\n  location: class SplashScreenActivity_MembersInjector\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\features\\Main\\splash_screen\\SplashScreenActivity_MembersInjector.java:33: error: cannot find symbol\n      Provider&lt;SplashScreenPresenter&gt; splashScreenPresenterProvider) {\n               ^\n  symbol:   class SplashScreenPresenter\n  location: class SplashScreenActivity_MembersInjector\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\features\\Main\\splash_screen\\SplashScreenActivity_MembersInjector.java:48: error: cannot find symbol\n      Provider&lt;SplashScreenPresenter&gt; splashScreenPresenterProvider) {\n               ^\n  symbol:   class SplashScreenPresenter\n  location: class SplashScreenActivity_MembersInjector\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\features\\Main\\splash_screen\\SplashScreenActivity_MembersInjector.java:42: error: cannot find symbol\n  public static MembersInjector&lt;SplashScreenActivity&gt; create(\n                                ^\n  symbol:   class SplashScreenActivity\n  location: class SplashScreenActivity_MembersInjector\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\features\\Main\\splash_screen\\SplashScreenActivity_MembersInjector.java:52: error: cannot find symbol\n  public void injectMembers(SplashScreenActivity instance) {\n                            ^\n  symbol:   class SplashScreenActivity\n  location: class SplashScreenActivity_MembersInjector\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\features\\Main\\splash_screen\\SplashScreenActivity_MembersInjector.java:61: error: cannot find symbol\n  public static void injectSplashScreenPresenter(SplashScreenActivity instance,\n                                                 ^\n  symbol:   class SplashScreenActivity\n  location: class SplashScreenActivity_MembersInjector\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\features\\Main\\splash_screen\\SplashScreenActivity_MembersInjector.java:62: error: cannot find symbol\n      SplashScreenPresenter splashScreenPresenter) {\n      ^\n  symbol:   class SplashScreenPresenter\n  location: class SplashScreenActivity_MembersInjector\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\features\\Main\\splash_screen\\SplashScreenPresenter_Factory.java:8: error: cannot find symbol\npublic final class SplashScreenPresenter_Factory implements Factory&lt;SplashScreenPresenter&gt; {\n                                                                    ^\n  symbol: class SplashScreenPresenter\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\features\\Main\\splash_screen\\SplashScreenPresenter_Factory.java:9: error: cannot find symbol\n  private final Provider&lt;ISplashScreen&gt; viewProvider;\n                         ^\n  symbol:   class ISplashScreen\n  location: class SplashScreenPresenter_Factory\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\features\\Main\\splash_screen\\SplashScreenPresenter_Factory.java:13: error: cannot find symbol\n  public SplashScreenPresenter_Factory(Provider&lt;ISplashScreen&gt; viewProvider,\n                                                ^\n  symbol:   class ISplashScreen\n  location: class SplashScreenPresenter_Factory\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\features\\Main\\splash_screen\\SplashScreenPresenter_Factory.java:20: error: cannot find symbol\n  public SplashScreenPresenter get() {\n         ^\n  symbol:   class SplashScreenPresenter\n  location: class SplashScreenPresenter_Factory\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\features\\Main\\splash_screen\\SplashScreenPresenter_Factory.java:24: error: cannot find symbol\n  public static SplashScreenPresenter_Factory create(Provider&lt;ISplashScreen&gt; viewProvider,\n                                                              ^\n  symbol:   class ISplashScreen\n  location: class SplashScreenPresenter_Factory\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\features\\Main\\splash_screen\\SplashScreenPresenter_Factory.java:29: error: cannot find symbol\n  public static SplashScreenPresenter newInstance(ISplashScreen view,\n                                                  ^\n  symbol:   class ISplashScreen\n  location: class SplashScreenPresenter_Factory\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\features\\Main\\splash_screen\\SplashScreenPresenter_Factory.java:29: error: cannot find symbol\n  public static SplashScreenPresenter newInstance(ISplashScreen view,\n                ^\n  symbol:   class SplashScreenPresenter\n  location: class SplashScreenPresenter_Factory\n...\\app\\src\\main\\java\\com\\...\\common\\di\\modules\\ActivityModule.java:3: error: cannot find symbol\nimport com....features.Main.splash_screen.SplashModule;\n                                                                     ^\n  symbol:   class SplashModule\n  location: package com....features.Main.splash_screen\n...\\app\\src\\main\\java\\com\\...\\common\\di\\modules\\ActivityModule.java:4: error: cannot find symbol\nimport com....features.Main.splash_screen.SplashScreenActivity;\n                                                                     ^\n  symbol:   class SplashScreenActivity\n  location: package com....features.Main.splash_screen\n...\\app\\src\\main\\java\\com\\...\\common\\di\\modules\\ActivityModule.java:16: error: cannot find symbol\n    abstract SplashScreenActivity bindSplashScreenActivity();\n             ^\n  symbol:   class SplashScreenActivity\n  location: class ActivityModule\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\common\\di\\modules\\ActivityModule_BindSplashScreenActivity.java:24: error: cannot find symbol\n  @Subcomponent(modules = SplashModule.class)\n                          ^\n  symbol:   class SplashModule\n  location: class ActivityModule_BindSplashScreenActivity\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\common\\di\\modules\\ActivityModule_BindSplashScreenActivity.java:20: error: cannot find symbol\n  @ClassKey(SplashScreenActivity.class)\n            ^\n  symbol:   class SplashScreenActivity\n  location: class ActivityModule_BindSplashScreenActivity\n...\\app\\src\\main\\java\\com\\...\\common\\di\\modules\\ActivityModule.java:15: error: cannot find symbol\n    @ContributesAndroidInjector(modules = SplashModule.class)\n                                          ^\n  symbol:   class SplashModule\n  location: class ActivityModule\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\common\\di\\components\\DaggerAppComponent.java:143: error: cannot find symbol\n    return MapBuilder.&lt;Class&lt;?&gt;, Provider&lt;AndroidInjector.Factory&lt;?&gt;&gt;&gt;newMapBuilder(2).put(SplashScreenActivity.class, (Provider) splashScreenActivitySubcomponentFactoryProvider).put(MainActivity.class, (Provider) mainActivitySubcomponentFactoryProvider).build();}\n                                                                                           ^\n  symbol:   class SplashScreenActivity\n  location: class DaggerAppComponent\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\common\\di\\components\\DaggerAppComponent.java:234: error: cannot find symbol\n      return new SplashScreenPresenter(arg0, DaggerAppComponent.this.providePresenterEnvironmentProvider.get());}\n                 ^\n  symbol:   class SplashScreenPresenter\n  location: class DaggerAppComponent.SplashScreenActivitySubcomponentImpl\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\common\\di\\components\\DaggerAppComponent.java:271: error: cannot find symbol\n      return MapBuilder.&lt;Class&lt;?&gt;, Provider&lt;AndroidInjector.Factory&lt;?&gt;&gt;&gt;newMapBuilder(4).put(SplashScreenActivity.class, (Provider) DaggerAppComponent.this.splashScreenActivitySubcomponentFactoryProvider).put(MainActivity.class, (Provider) DaggerAppComponent.this.mainActivitySubcomponentFactoryProvider).put(CartFragment.class, (Provider) cartFragmentSubcomponentFactoryProvider).put(CategoriesFragment.class, (Provider) categoriesFragmentSubcomponentFactoryProvider).build();}\n                                                                                             ^\n  symbol:   class SplashScreenActivity\n  location: class DaggerAppComponent.MainActivitySubcomponentImpl\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\features\\Main\\splash_screen\\SplashScreenPresenter_Factory.java:21: error: cannot find symbol\n    return new SplashScreenPresenter(viewProvider.get(), environmentProvider.get());\n               ^\n  symbol:   class SplashScreenPresenter\n  location: class SplashScreenPresenter_Factory\n...\\app\\build\\generated\\source\\kapt\\stagingDebug\\com\\...\\features\\Main\\splash_screen\\SplashScreenPresenter_Factory.java:31: error: cannot find symbol\n    return new SplashScreenPresenter(view, environment);\n               ^\n  symbol:   class SplashScreenPresenter\n  location: class SplashScreenPresenter_Factory\nNote: Some input files use or override a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\nNote: Some input files use unchecked or unsafe operations.\nNote: Recompile with -Xlint:unchecked for details.\n39 errors\n\nFAILURE: Build failed with an exception.\n</code></pre>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:compileStagingDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Compilation failed; see the compiler error output for details.</p>\n</blockquote>\n<ul>\n<li><p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></p>\n</li>\n</ul>\n<p>Deprecated Gradle features were used in this build, making it incompatible with Gradle 6.0.\nUse '--warning-mode all' to show the individual deprecation warnings.\nSee <a href=\"https://docs.gradle.org/5.1.1/userguide/command_line_interface.html#sec:command_line_warnings\" rel=\"nofollow noreferrer\">https://docs.gradle.org/5.1.1/userguide/command_line_interface.html#sec:command_line_warnings</a></p>\n<p>BUILD FAILED in 23s\n50 actionable tasks: 9 executed, 41 up-to-date</p>\n"}, {"tags": ["kotlin", "collections"], "answers": [{"comments": [{"owner": {"reputation": 114599, "user_id": 10498828, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1360dd652f1e970ba098d1d5b63c14d?s=128&d=identicon&r=PG&f=1", "display_name": "forpas", "link": "https://stackoverflow.com/users/10498828/forpas"}, "edited": false, "score": 0, "creation_date": 1562704721, "post_id": 56956080, "comment_id": 100458362, "body": "I think the last condition should be: <code>!headersAndContent[index + 1].second.startsWith(&quot;content&quot;)</code>"}, {"owner": {"reputation": 9417, "user_id": 10134209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvJ8z.png?s=128&g=1", "display_name": "gidds", "link": "https://stackoverflow.com/users/10134209/gidds"}, "edited": false, "score": 0, "creation_date": 1562715085, "post_id": 56956080, "comment_id": 100460971, "body": "I suspect that will not work as expected if the list contains any duplicates.  It also won&#39;t perform well on big lists\u2026  (The <code>indexOf()</code> turns it from being linear to quadratic in complexity.)"}], "tags": [], "owner": {"reputation": 12970, "user_id": 2741273, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/71f8f37ebda905a8fffeb75e91b87a89?s=128&d=identicon&r=PG&f=1", "display_name": "Francesc", "link": "https://stackoverflow.com/users/2741273/francesc"}, "is_accepted": false, "score": 0, "last_activity_date": 1562686448, "creation_date": 1562686448, "answer_id": 56956080, "question_id": 56955751, "link": "https://stackoverflow.com/questions/56955751/operator-to-remove-previous-element-from-collection-in-kotlin/56956080#56956080", "title": "Operator to remove previous element from collection in kotlin?", "body": "<p>Something like this</p>\n\n<pre><code>list.removeAll {\n    val index = list.indexOf(it)\n    \"header\" == it.second &amp;&amp; index &lt; list.size - 1 &amp;&amp; \"content\" == list[index + 1].second \n}\n</code></pre>\n\n<p>You may need to tweak the check for \"is content\".</p>\n"}, {"tags": [], "owner": {"reputation": 191, "user_id": 2280156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5ef6c0f58b0dd39f8b149a44879bc52?s=128&d=identicon&r=PG", "display_name": "Mark S", "link": "https://stackoverflow.com/users/2280156/mark-s"}, "is_accepted": true, "score": 1, "last_activity_date": 1562704363, "creation_date": 1562704363, "answer_id": 56960140, "question_id": 56955751, "link": "https://stackoverflow.com/questions/56955751/operator-to-remove-previous-element-from-collection-in-kotlin/56960140#56960140", "title": "Operator to remove previous element from collection in kotlin?", "body": "<p>The answer by @Francesc provides a good practical approach to solving your problem. However, if you (or anyone else) would like a solution in a more functional programming paradigm, consider this code</p>\n\n<pre><code>typealias CustomData = Pair&lt;Int, String&gt;\n\nprivate fun CustomData.isHeader() = second == \"header\"\nprivate fun CustomData.isContent() = !isHeader()\n\nfun dropUnwantedHeaders(data: List&lt;CustomData&gt;) =\n    data.asSequence()\n    // add a duplicate of the last element to the list. this is an easy way in this case to deal with the problem that the map operation\n    // is not the exact inverse of the zipWithNext operation\n    .plusElement(data.last())\n    // combine each element with the one after it since the filter predicate depends on both\n    .zipWithNext()\n    .filterNot { (elem, nextElem) -&gt;\n        // drop element if it is a header and the subsequent element is not content\n        elem.isHeader() &amp;&amp; !nextElem.isContent()\n    }\n    // undo the previous zip operation. this results in dropping the last element of the list\n    .map { it.first }\n    .toList()\n\nfun main() {\n    val unfilteredData = listOf(Pair(1, \"header\"), Pair(2, \"header\"), Pair(3, \"content for 2\"))\n    val expectedResult = listOf(Pair(2, \"header\"), Pair(3, \"content for 2\"))\n    assert(dropUnwantedHeaders(unfilteredData) == expectedResult)\n}\n</code></pre>\n"}], "owner": {"reputation": 21112, "user_id": 296427, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/8692a55fc3524ed4e7cb85b0b3b4693c?s=128&d=identicon&r=PG", "display_name": "pixel", "link": "https://stackoverflow.com/users/296427/pixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "accepted_answer_id": 56960140, "answer_count": 2, "score": 0, "last_activity_date": 1562704363, "creation_date": 1562685347, "question_id": 56955751, "link": "https://stackoverflow.com/questions/56955751/operator-to-remove-previous-element-from-collection-in-kotlin", "title": "Operator to remove previous element from collection in kotlin?", "body": "<p>I have following list:</p>\n\n<pre><code>val headersAndContent = mutableListOf(..., Pair(1, \"header\"), Pair(2, \"header\"), Pair(3, \"content for 2\"), ...)\n</code></pre>\n\n<p>I would like to remove all elements of type <code>header</code> that are not followed by content element. </p>\n\n<p>So by applying such operator result list will look like:</p>\n\n<pre><code>(..., Pair(2, \"header\"), Pair(3, \"content for 2\"), ...)\n</code></pre>\n\n<p>I wonder if such operator exists?</p>\n"}, {"tags": ["java", "android", "kotlin", "android-recyclerview", "nestedrecyclerview"], "comments": [{"owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "edited": false, "score": 0, "creation_date": 1562688334, "post_id": 56955635, "comment_id": 100451539, "body": "Do you want child RecyclerView and parent RecyclerView to scroll together (Child does not scroll but every item is showed), or both RecyclerViews to scroll separately  (Both scroll but is not really user-friendly) ?"}, {"owner": {"reputation": 111, "user_id": 8791149, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-K7Dfd9TIyPA/AAAAAAAAAAI/AAAAAAAAAVs/pOTo0_n8TFA/photo.jpg?sz=128", "display_name": "Karthik", "link": "https://stackoverflow.com/users/8791149/karthik"}, "reply_to_user": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "edited": false, "score": 0, "creation_date": 1562729418, "post_id": 56955635, "comment_id": 100463558, "body": "I want to achieve second one (Both RecyclerViews to scroll)."}], "answers": [{"tags": [], "owner": {"reputation": 111, "user_id": 8791149, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-K7Dfd9TIyPA/AAAAAAAAAAI/AAAAAAAAAVs/pOTo0_n8TFA/photo.jpg?sz=128", "display_name": "Karthik", "link": "https://stackoverflow.com/users/8791149/karthik"}, "is_accepted": false, "score": 0, "last_activity_date": 1592031618, "last_edit_date": 1592031618, "creation_date": 1562737914, "answer_id": 56964119, "question_id": 56955635, "link": "https://stackoverflow.com/questions/56955635/child-recyclerview-doesnt-scroll-internally/56964119#56964119", "title": "Child RecyclerView doesn&#39;t scroll internally", "body": "<p>Okay, I fixed this by setting a listener. </p>\n\n<p>Here's the code below that fixed it:</p>\n\n<pre><code>val mScrollChangeListener = object : RecyclerView.OnItemTouchListener {\n        override fun onTouchEvent(rv: RecyclerView, e: MotionEvent) {}\n\n        override fun onInterceptTouchEvent(rv: RecyclerView, e: MotionEvent): Boolean {\n            when (e.action) {\n                MotionEvent.ACTION_MOVE -&gt; {\n                    rv.parent.requestDisallowInterceptTouchEvent(true)\n                }\n            }\n            return false\n        }\n\n        override fun onRequestDisallowInterceptTouchEvent(disallowIntercept: Boolean) {}\n    }\n    modalRecyclerView.addOnItemTouchListener(mScrollChangeListener)\n</code></pre>\n\n<p>I've added this code in the <strong>onBindViewHolder()</strong> of parent RecyclerView's adapter.</p>\n"}], "owner": {"reputation": 111, "user_id": 8791149, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-K7Dfd9TIyPA/AAAAAAAAAAI/AAAAAAAAAVs/pOTo0_n8TFA/photo.jpg?sz=128", "display_name": "Karthik", "link": "https://stackoverflow.com/users/8791149/karthik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 252, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1592031618, "creation_date": 1562684992, "last_edit_date": 1581505481, "question_id": 56955635, "link": "https://stackoverflow.com/questions/56955635/child-recyclerview-doesnt-scroll-internally", "title": "Child RecyclerView doesn&#39;t scroll internally", "body": "<p>I'm kinda new to Android App Development. Well, I'm playing around with RecyclerView. I have a parent recyclerview with a modal layout. Now the modal layout has a recyclerview (child recyclerview). I have managed to create adapters and scroll the list of main recyclerview. Unfortunately I don't find a way to scroll the child recyclerview. Here is the code that I'm playing around:</p>\n\n<ol>\n<li><p>I've already tried setting the adapter of child recyclerview in onBindViewHolder method of parent recyclerview adapter.</p></li>\n<li><p>Also, I tried setting the attributes nestedScrollingEnabled=true, descendantFocusability=blocksDescendants and focusableInTouchMode=true for child recyclerView.</p></li>\n</ol>\n\n<p>Here's my <strong>activity_main.xml</strong>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\".MainActivity\"&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/recyclerView\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>Parent recyclerview model (model.xml)</strong>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:layout_margin=\"16dp\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:textSize=\"20sp\"\n        android:text=\"Testing\" /&gt;\n\n    &lt;View\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"1dp\"\n        android:background=\"@android:color/darker_gray\"\n        android:layout_marginVertical=\"8dp\"/&gt;\n\n    &lt;android.support.v7.widget.RecyclerView\n        android:id=\"@+id/modalRecyclerView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"100dp\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>Child recyclerview model (child_modal.xml):</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;TextView\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Testing\"/&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p><strong>In the MainActivity:</strong></p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n\n        recyclerView.apply {\n            layoutManager = LinearLayoutManager(this@MainActivity, RecyclerView.VERTICAL, false)\n            adapter = ModalAdapter()\n        }\n    }\n</code></pre>\n\n<p><strong>ModalAdapter:</strong></p>\n\n<pre><code>class ModalAdapter : RecyclerView.Adapter&lt;ModalAdapter.ViewHolder&gt;() {\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val inflater = LayoutInflater.from(parent.context).inflate(R.layout.model, parent, false)\n        return ViewHolder(inflater)\n    }\n\n    override fun getItemCount(): Int {\n        return 5\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n        holder.view.modalRecyclerView.adapter = ChildModalAdapter()\n        holder.view.modalRecyclerView.layoutManager = LinearLayoutManager(holder.view.context, RecyclerView.VERTICAL, false)\n    }\n\n    class ViewHolder(val view: View): RecyclerView.ViewHolder(view)\n}\n</code></pre>\n\n<p><strong>ChildModalAdapter:</strong></p>\n\n<pre><code>class ChildModalAdapter : RecyclerView.Adapter&lt;ChildModalAdapter.ViewHolder&gt;() {\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ViewHolder {\n        val inflater = LayoutInflater.from(parent.context).inflate(R.layout.child_modal, parent, false)\n        return ViewHolder(inflater)\n    }\n\n    override fun getItemCount(): Int {\n        return 10\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder, position: Int) {\n    }\n\n    class ViewHolder(val view: View): RecyclerView.ViewHolder(view)\n}\n</code></pre>\n\n<p>Internal recyclerview doesn't scroll while the parent recyclerview scrolls fine. I'm trying to find a way to make the internal recyclerview to scroll along with parent recyclerview (I want both the recyclerviews to scroll).</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 1, "user_id": 11760386, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ThCWzbzc9Fc/AAAAAAAAAAI/AAAAAAAAAAs/cHrnx0EKVj4/photo.jpg?sz=128", "display_name": "Abdhi Labs", "link": "https://stackoverflow.com/users/11760386/abdhi-labs"}, "edited": false, "score": 0, "creation_date": 1562685119, "post_id": 56955612, "comment_id": 100449717, "body": "this my project on github : <a href=\"https://github.com/abdhilabs/yourcaption\" rel=\"nofollow noreferrer\">github.com/abdhilabs/yourcaption</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11760386, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ThCWzbzc9Fc/AAAAAAAAAAI/AAAAAAAAAAs/cHrnx0EKVj4/photo.jpg?sz=128", "display_name": "Abdhi Labs", "link": "https://stackoverflow.com/users/11760386/abdhi-labs"}, "edited": false, "score": 0, "creation_date": 1562778590, "post_id": 56956687, "comment_id": 100487357, "body": "Sure, my array is not empty, i think the problem is in primary key, isn&#39;t?"}, {"owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "reply_to_user": {"reputation": 1, "user_id": 11760386, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ThCWzbzc9Fc/AAAAAAAAAAI/AAAAAAAAAAs/cHrnx0EKVj4/photo.jpg?sz=128", "display_name": "Abdhi Labs", "link": "https://stackoverflow.com/users/11760386/abdhi-labs"}, "edited": false, "score": 0, "creation_date": 1562784188, "post_id": 56956687, "comment_id": 100489864, "body": "@AbdhiLabs Certainly, are you sure you are using the right primary key ? What do you have in your array ?"}, {"owner": {"reputation": 1, "user_id": 11760386, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ThCWzbzc9Fc/AAAAAAAAAAI/AAAAAAAAAAs/cHrnx0EKVj4/photo.jpg?sz=128", "display_name": "Abdhi Labs", "link": "https://stackoverflow.com/users/11760386/abdhi-labs"}, "edited": false, "score": 0, "creation_date": 1562796873, "post_id": 56956687, "comment_id": 100494467, "body": "In my array just primary key and one data, but primary key is auto generate"}, {"owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "reply_to_user": {"reputation": 1, "user_id": 11760386, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ThCWzbzc9Fc/AAAAAAAAAAI/AAAAAAAAAAs/cHrnx0EKVj4/photo.jpg?sz=128", "display_name": "Abdhi Labs", "link": "https://stackoverflow.com/users/11760386/abdhi-labs"}, "edited": false, "score": 0, "creation_date": 1562836688, "post_id": 56956687, "comment_id": 100506161, "body": "Why would you auto generate a primary key ? How do you access to your data if you do not even know which key to use to get it ?"}], "tags": [], "owner": {"reputation": 825, "user_id": 8286029, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/2b4188ba2c535940200876c2cc665f89?s=128&d=identicon&r=PG&f=1", "display_name": "Elynad", "link": "https://stackoverflow.com/users/8286029/elynad"}, "is_accepted": false, "score": 0, "last_activity_date": 1562688627, "creation_date": 1562688627, "answer_id": 56956687, "question_id": 56955612, "link": "https://stackoverflow.com/questions/56955612/how-to-fix-java-lang-indexoutofboundsexception-index-1-size-1-problem/56956687#56956687", "title": "How to fix &quot;java.lang.IndexOutOfBoundsException: Index: 1, Size: 1&quot; problem?", "body": "<p>IndexOutOfBound means that you are trying to use an element that is too 'far' in the array.\nFor example, if you have an array of size 3, the possible index are : 0, 1, 2.<br>\nSo you can't get array[3].</p>\n\n<p>Are you sure your array is not empty ?<br>\nAre you removing entries of your array inside a <code>forEach</code> loop on your array ?</p>\n"}], "owner": {"reputation": 1, "user_id": 11760386, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ThCWzbzc9Fc/AAAAAAAAAAI/AAAAAAAAAAs/cHrnx0EKVj4/photo.jpg?sz=128", "display_name": "Abdhi Labs", "link": "https://stackoverflow.com/users/11760386/abdhi-labs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 416, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562688627, "creation_date": 1562684916, "question_id": 56955612, "link": "https://stackoverflow.com/questions/56955612/how-to-fix-java-lang-indexoutofboundsexception-index-1-size-1-problem", "title": "How to fix &quot;java.lang.IndexOutOfBoundsException: Index: 1, Size: 1&quot; problem?", "body": "<p>I make database with SQLite in Kotlin, and then when i deleted the first data and then i deleted the last data the problem show up.</p>\n\n<p>I've been trying to make id: Int = 0, but still not work</p>\n\n<p>fun deleteCaption(caption: Caption){</p>\n\n<pre><code>    val db = this.writableDatabase\n    // Delete Caption by ID\n    db.delete(\n        TABLE_CAPTION,\"$COLUMN_CAPTION_ID = ?\",\n        arrayOf(caption.id.toString())\n    )\n    db.close()\n}\n</code></pre>\n\n<p>I expect when i deleted the first data and then i deleted the last data it's work but the actual that's no work</p>\n"}, {"tags": ["android", "kotlin", "opengl-3"], "owner": {"reputation": 21, "user_id": 9762750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87443552bbef668b25139c8af0910327?s=128&d=identicon&r=PG&f=1", "display_name": "M. Miguel-Brebion", "link": "https://stackoverflow.com/users/9762750/m-miguel-brebion"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1562688540, "creation_date": 1562684881, "last_edit_date": 1562688540, "question_id": 56955607, "link": "https://stackoverflow.com/questions/56955607/how-to-provide-and-retrieve-float-data-to-a-gl-shader-storage-buffer-from-androi", "title": "How to provide and retrieve float data to a GL_SHADER_STORAGE_BUFFER from android application", "body": "<p>I encounter problems when trying to use opengl es 3.1 shader storage buffers</p>\n\n<p>I'm able to send data to the gpu using : </p>\n\n<pre><code>        GLES31.glGenBuffers(1,this.storageShaderBufferObject,0)\n        GLES31.glBindBuffer(GLES31.GL_SHADER_STORAGE_BUFFER, this.storageShaderBufferObject[0])\n        GLES31.glBindBufferBase(GLES31.GL_SHADER_STORAGE_BUFFER,3,this.storageShaderBufferObject[0])\n        println(\"SSBO index : \" + storageShaderBufferObject[0])\n\n\n        // nb of element in ssbo\n        val size = this.meshSizeX*this.meshSizeY\n        val ssboData  = FloatArray(size)\n        var count=0\n        for (i in 0 until this.meshSizeX) {\n            for (j in 0 until this.meshSizeY) {\n                ssboData[count]=0F // custom function used to fill the ssbo\n                count++\n            }\n        }\n\n        val vertexDataBuffer = ByteBuffer.allocateDirect(ssboData.size * 4)\n                .order(ByteOrder.nativeOrder())\n                .asFloatBuffer()\n        vertexDataBuffer.put(ssboData)\n        vertexDataBuffer.position(0)\n\n        //sending data \n        GLES31.glBufferData(GLES31.GL_SHADER_STORAGE_BUFFER, ssboData.size * 4, vertexDataBuffer, GLES31.GL_STATIC_COPY)\n\n</code></pre>\n\n<p>After providing the data, I execute this simple compute shader : </p>\n\n<pre><code>#version 310 es\n\n\nlayout(std140, binding = 3) buffer destBuffer\n{\n    float data[];\n} outBuffer;\n\n\nlayout (local_size_x = 8, local_size_y = 8, local_size_z = 1) in;\n\n\nvoid main()\n\n{\n\n    uint gWidth = gl_WorkGroupSize.x * gl_NumWorkGroups.x;\n    uint offset = gl_GlobalInvocationID.x * gWidth + gl_GlobalInvocationID.y;\n    outBuffer.data[offset] = float(offset);\n}\n</code></pre>\n\n<p>And finaly, I'd like to retrieve the data but I don't know how to proceed but I think that the function GLES31.glUnmapBuffer is involved (as used in c/c++ programs).</p>\n\n<p>Any help would be much appreciated.</p>\n"}, {"tags": ["android", "kotlin", "android-jetpack", "android-architecture-navigation", "input-mask"], "answers": [{"tags": [], "owner": {"reputation": 15066, "user_id": 6835358, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d1805209204d7ddbf0e8e08f79cd07d?s=128&d=identicon&r=PG", "display_name": "Bruno Peres", "link": "https://stackoverflow.com/users/6835358/bruno-peres"}, "is_accepted": true, "score": 0, "last_activity_date": 1562758851, "creation_date": 1562758851, "answer_id": 56969983, "question_id": 56955516, "link": "https://stackoverflow.com/questions/56955516/android-jetpack-navigation-component-issue-with-edit-text-masks-and-error-messag/56969983#56969983", "title": "Android Jetpack Navigation Component issue with edit text masks and error messages", "body": "<p>Ok, after a lot of time spent in searching for answers, I found that my issue is related to the Android Data Binding Library. More specifically, I need to set listeners and the error message in the binding object created in the <code>onCreateView</code> of my <code>SignUpFragment</code>, as follows:</p>\n\n<pre><code>private lateinit var binding: FragmentSignUpBinding\n\noverride fun onCreateView(\n    inflater: LayoutInflater, container: ViewGroup?,\n    savedInstanceState: Bundle?\n): View? {\n    val view = inflater.inflate(R.layout.fragment_sign_up, container, false)\n\n    // saving the instance of FragmentSignUpBinding\n    binding = DataBindingUtil.setContentView(activity!!, R.layout.fragment_sign_up)\n\n    binding.signupViewModel = signUpViewModel\n\n    binding.lifecycleOwner = this\n\n    setObservers()\n\n    return view\n}\n</code></pre>\n\n<p>then, in the <code>onViewCreated</code>:</p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n\n    super.onViewCreated(view, savedInstanceState)\n    MaskedTextChangedListener.installOn(\n        binding.editCpf, // insted of simply edit_cpf\n        \"[000].[000].[000]-[00]\",\n        object : MaskedTextChangedListener.ValueListener {\n            override fun onTextChanged(maskFilled: Boolean, extractedValue: String, formattedValue: String) {\n                Log.d(\"TAG\", extractedValue)\n                Log.d(\"TAG\", maskFilled.toString())\n            }\n        }\n    )\n\n}\n</code></pre>\n\n<p>and then it works fine.</p>\n"}], "owner": {"reputation": 15066, "user_id": 6835358, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/4d1805209204d7ddbf0e8e08f79cd07d?s=128&d=identicon&r=PG", "display_name": "Bruno Peres", "link": "https://stackoverflow.com/users/6835358/bruno-peres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 489, "favorite_count": 0, "accepted_answer_id": 56969983, "answer_count": 1, "score": 0, "last_activity_date": 1562758851, "creation_date": 1562684595, "last_edit_date": 1562698286, "question_id": 56955516, "link": "https://stackoverflow.com/questions/56955516/android-jetpack-navigation-component-issue-with-edit-text-masks-and-error-messag", "title": "Android Jetpack Navigation Component issue with edit text masks and error messages", "body": "<p>I'm trying to use <a href=\"https://github.com/RedMadRobot/input-mask-android\" rel=\"nofollow noreferrer\">android-input-mask</a> by <a href=\"https://github.com/RedMadRobot\" rel=\"nofollow noreferrer\">RedMadRobot</a> in my Android Kotlin project. But currently, I'm dealing with very strange behavior. The library only works when I disable the Android Navigation Component.</p>\n\n<p>My <code>activity_main.xml</code> layout has the following fragment:</p>\n\n<pre><code>&lt;fragment\n    android:id=\"@+id/nav_host\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:name=\"androidx.navigation.fragment.NavHostFragment\"\n    app:navGraph=\"@navigation/navigation\"\n    app:defaultNavHost=\"true\"/&gt;\n</code></pre>\n\n<p>Then, in the start destination defined in the navigation component I have:</p>\n\n<pre><code>&lt;EditText\n    android:id=\"@+id/test\"\n    android:inputType=\"number\"\n    android:digits=\"1234567890+-() \"\n    { omitted for sake of simplicity } /&gt;\n</code></pre>\n\n<p>Finally, in the the <code>SignUpFragment.kt</code> file I have these lines of code:</p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n    val listener = MaskedTextChangedListener.installOn(\n        test,\n        \"+7 ([000]) [000]-[00]-[00]\",\n        object : MaskedTextChangedListener.ValueListener {\n            override fun onTextChanged(maskFilled: Boolean, extractedValue: String, formattedValue: String) {\n                Log.d(\"TAG\", extractedValue)\n                Log.d(\"TAG\", maskFilled.toString())\n            }\n        }\n    )\n    test.hint = listener.placeholder()\n}\n</code></pre>\n\n<p>But it does not works, as you can see in the following image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/bE93x.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bE93x.png\" alt=\"Mask is not applyed\"></a></p>\n\n<p>However, when I hard code the signup fragment in the <code>activity_main.xml</code> file all works fine:</p>\n\n<pre><code>&lt;fragment\n    android:id=\"@+id/fragment\"\n    android:name=\"my.app.SignUpFragment\"\n    { omitted for sake of simplicity } /&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/llKED.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/llKED.png\" alt=\"mask is applyed\"></a></p>\n\n<p><strong>My question is:</strong> is there any plausible explanation for this \"bug\"? Am I making some confusion? How can I solve it?</p>\n\n<p>Thanks for the help.</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>Same behavior for error messages. If I put this line of code:</p>\n\n<pre><code>test.error = \"Error message\"\n</code></pre>\n\n<p>using Android Navigation Component no error message is shown. However, if I hard code the fragment in the main activity layout, the error message is displayed.</p>\n"}, {"tags": ["kotlin", "android-livedata", "mutablelivedata"], "comments": [{"owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 2, "creation_date": 1562694536, "post_id": 56955307, "comment_id": 100454296, "body": "There is one more case when <code>Observer</code> is notified. When <code>Observer</code> attaches to a <code>LiveData</code> and that <code>LiveData</code> already contains a value, then that <code>Observer</code> will receive a notification immediately."}, {"owner": {"reputation": 1865, "user_id": 772357, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/EgdvL.jpg?s=128&g=1", "display_name": "Moh Mah", "link": "https://stackoverflow.com/users/772357/moh-mah"}, "reply_to_user": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 0, "creation_date": 1562698532, "post_id": 56955307, "comment_id": 100455996, "body": "Yes, but this happens even after that"}, {"owner": {"reputation": 1865, "user_id": 772357, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/EgdvL.jpg?s=128&g=1", "display_name": "Moh Mah", "link": "https://stackoverflow.com/users/772357/moh-mah"}, "reply_to_user": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 0, "creation_date": 1562700384, "post_id": 56955307, "comment_id": 100456753, "body": "@SanlokLee I&#39;ve updated the question with more information"}, {"owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "edited": false, "score": 0, "creation_date": 1562704008, "post_id": 56955307, "comment_id": 100458115, "body": "I see what you mean now. I will attach an answer shortly."}], "answers": [{"tags": [], "owner": {"reputation": 2865, "user_id": 6587143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d937e3b76600ab1182224aec4710655?s=128&d=identicon&r=PG&f=1", "display_name": "Sanlok Lee", "link": "https://stackoverflow.com/users/6587143/sanlok-lee"}, "is_accepted": true, "score": 3, "last_activity_date": 1562704497, "creation_date": 1562704497, "answer_id": 56960168, "question_id": 56955307, "link": "https://stackoverflow.com/questions/56955307/livedata-of-a-list-notifies-observers-without-calling-setvalue-or-postvalue/56960168#56960168", "title": "LiveData of a list notifies observers without calling setValue or postValue", "body": "<p>When a <code>LiveData</code> sends a notification, <code>LiveData</code> does not send a copy of the item. Instead, it simply pass a reference to the same instance that is holding.</p>\n\n<p>This means that if you modified the data inside the <code>LiveData</code> like this:</p>\n\n<p><code>myLiveData.value?.addAll(listOf(1, 2, 3, 4))</code></p>\n\n<p>The <code>ArrayList</code> object that the observer previously received will also be modified <strong>without <code>Observer.onChanged()</code> getting called</strong>, simply because they are the same object. This is why using a mutable object in <code>LiveData</code> or any Observer/reactive Pattern is generally not a good idea. </p>\n\n<p>To verify that <code>onChanged()</code> is actually called only once, add this line at the end of the test:</p>\n\n<pre><code>    @Test\n    fun `strange live data behavior`() {\n        val myLiveData = MutableLiveData&lt;ArrayList&lt;Int&gt;&gt;()\n        val observer = mock() as Observer&lt;ArrayList&lt;Int&gt;&gt;\n        myLiveData.observeForever(observer)\n        myLiveData.observeForever { println(it) }\n        myLiveData.value = ArrayList()\n        verify(observer).onChanged(ArrayList())\n        myLiveData.value?.addAll(listOf(1, 2, 3, 4))\n        val result = ArrayList&lt;Int&gt;()\n        result.add(1)\n        result.add(2)\n        result.add(3)\n        result.add(4)\n        verify(observer).onChanged(result)\n\n        // Below should pass because onChanged is only called once.\n        verify(observer, times(1)).onChanged(any()) \n    }\n</code></pre>\n"}], "owner": {"reputation": 1865, "user_id": 772357, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/EgdvL.jpg?s=128&g=1", "display_name": "Moh Mah", "link": "https://stackoverflow.com/users/772357/moh-mah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1120, "favorite_count": 0, "accepted_answer_id": 56960168, "answer_count": 1, "score": 0, "last_activity_date": 1562704497, "creation_date": 1562683967, "last_edit_date": 1592644375, "question_id": 56955307, "link": "https://stackoverflow.com/questions/56955307/livedata-of-a-list-notifies-observers-without-calling-setvalue-or-postvalue", "title": "LiveData of a list notifies observers without calling setValue or postValue", "body": "<p>I have a <code>MutableLiveData</code> like this in my view model:</p>\n<pre><code>val liveData = MutableLiveData&lt;ArrayList&lt;*&gt;&gt;()\u200d\u200d\u200d\u200d\u200d\n</code></pre>\n<p>I add the results from an endpoint call to this <code>LiveData</code> like this:</p>\n<pre><code>liveData.value?.addAll(myList)\n</code></pre>\n<p>as far as I know, <code>MutableLiveData</code> shouldn't notify it's <code>Observer</code>s unless you do a <code>setValue</code> or <code>postValue</code> on it but at this point when my code is run, <code>Observer</code>s are notified of the change.</p>\n<p>How is this possible?</p>\n<hr />\n<h3>Update:</h3>\n<p>I came across an even more stranger behavior, this test passes but the list gets printed one time: <code>[]</code></p>\n<pre><code>    @Test\n    fun `strange live data behavior`() {\n        val myLiveData = MutableLiveData&lt;ArrayList&lt;Int&gt;&gt;()\n        val observer = mock() as Observer&lt;ArrayList&lt;Int&gt;&gt;\n        myLiveData.observeForever(observer)\n        myLiveData.observeForever { println(it) }\n        myLiveData.value = ArrayList()\n        verify(observer).onChanged(ArrayList())\n        myLiveData.value?.addAll(listOf(1, 2, 3, 4))\n        val result = ArrayList&lt;Int&gt;()\n        result.add(1)\n        result.add(2)\n        result.add(3)\n        result.add(4)\n        verify(observer).onChanged(result)\n    }\n\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-camera2"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 6735773, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vf-9qHl57Fs/AAAAAAAAAAI/AAAAAAAAADg/VN-DEdGZqtU/photo.jpg?sz=128", "display_name": "Kamran Janjua", "link": "https://stackoverflow.com/users/6735773/kamran-janjua"}, "edited": false, "score": 0, "creation_date": 1562684989, "post_id": 56955588, "comment_id": 100449631, "body": "I am using multicamera API to capture images from dual cameras at the same time (it is working). I tried capturing video, but it did not work. I don&#39;t think that is possible at the moment."}, {"owner": {"reputation": 36, "user_id": 4363034, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9M4MFgAJM6I/AAAAAAAAAAI/AAAAAAAACXs/x3pCK0RW_5Y/photo.jpg?sz=128", "display_name": "Andrea Caruso", "link": "https://stackoverflow.com/users/4363034/andrea-caruso"}, "reply_to_user": {"reputation": 73, "user_id": 6735773, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vf-9qHl57Fs/AAAAAAAAAAI/AAAAAAAAADg/VN-DEdGZqtU/photo.jpg?sz=128", "display_name": "Kamran Janjua", "link": "https://stackoverflow.com/users/6735773/kamran-janjua"}, "edited": false, "score": 0, "creation_date": 1562686101, "post_id": 56955588, "comment_id": 100450309, "body": "I know about this API but I&#39;ve never worked with it. I&#39;m sure that with the approach I suggested you can achieve about 20-25 fps, but using one single camera."}], "tags": [], "owner": {"reputation": 36, "user_id": 4363034, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9M4MFgAJM6I/AAAAAAAAAAI/AAAAAAAACXs/x3pCK0RW_5Y/photo.jpg?sz=128", "display_name": "Andrea Caruso", "link": "https://stackoverflow.com/users/4363034/andrea-caruso"}, "is_accepted": false, "score": 0, "last_activity_date": 1562684823, "creation_date": 1562684823, "answer_id": 56955588, "question_id": 56955066, "link": "https://stackoverflow.com/questions/56955066/how-can-i-capture-multiple-images-under-one-second-and-save-them/56955588#56955588", "title": "How can I capture multiple images under one second and save them?", "body": "<p>Unfortunately taking photos is not the right approach I guess, cause camera has a recycle time that depends on several factors, including the hardware.\nI suggest you to take a video and then retrieve frames.\nYou can use <a href=\"https://developer.android.com/reference/android/media/MediaRecorder\" rel=\"nofollow noreferrer\">MediaRecorder</a> to take and save the video, then you can extract frames using <a href=\"https://developer.android.com/reference/android/media/MediaMetadataRetriever\" rel=\"nofollow noreferrer\">MediaMetadataRetriever</a>.\nMaybe this last class can give you some problems. If it does, you can use <a href=\"https://github.com/wseemann/FFmpegMediaMetadataRetriever\" rel=\"nofollow noreferrer\">FFmpegMediaMetadataRetriever</a> that is way better in my opinion.\nTo take a frame, you can use the method:</p>\n\n<pre><code>retriever.getFrameAtTime(time, MediaMetadataRetriever.OPTION_CLOSEST);\n</code></pre>\n\n<p>Be careful, time is in microseconds, not milliseconds.</p>\n"}], "owner": {"reputation": 73, "user_id": 6735773, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-vf-9qHl57Fs/AAAAAAAAAAI/AAAAAAAAADg/VN-DEdGZqtU/photo.jpg?sz=128", "display_name": "Kamran Janjua", "link": "https://stackoverflow.com/users/6735773/kamran-janjua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562684823, "creation_date": 1562683227, "question_id": 56955066, "link": "https://stackoverflow.com/questions/56955066/how-can-i-capture-multiple-images-under-one-second-and-save-them", "title": "How can I capture multiple images under one second and save them?", "body": "<p>I am trying to capture multiple images under one second, even 10 fps should be fine as well. I am using Huawei Mate20Pro. I tried the handler method but with that 1fps is achieved and reducing the delay any further causes the camera to hang. The code is here:</p>\n\n<pre><code>button.setOnClickListener {\n            prepareUIForCapture()\n            if(isRunning){\n                handler.removeCallbacksAndMessages(null)\n                restartActivity()\n            }else{\n                button.text = \"Stop\"\n                handler.postDelayed(object : Runnable {\n                    override fun run(){\n                        twoLens.reset()\n                        twoLens.isTwoLensShot = true\n                        MainActivity.cameraParams.get(dualCamLogicalId).let {\n                            if (it?.isOpen == true) {\n                                Logd(\"In onClick. Taking Dual Cam Photo on logical camera: \" + dualCamLogicalId)\n                                takePicture(this@MainActivity, it)\n                                Toast.makeText(applicationContext, \"Captured\", Toast.LENGTH_LONG).show()\n                            }\n                        }\n                        handler.postDelayed(this, 1000)\n                    }\n                }, 2000)\n            }\n            isRunning = !isRunning\n        }\n</code></pre>\n\n<p>Here the first shot is after 2 seconds and it captures every 1 second. It works fine. I am looking to increase this rate. I am tring burst capture first.\nHere is what I did until now.\nIn the <code>takePicture()</code> method:</p>\n\n<pre><code>val captureList = ArrayList&lt;CaptureRequest&gt;()\nfor (i in 0 until 10){\n    captureList.add(params.previewBuilder?.build()!!)\n}\nparams.captureSession?.captureBurst(captureList, StillCaptureSessionCallback(activity, params), params.backgroundHandler)\n            params.captureBuilder?.removeTarget(normalParams?.imageReader?.surface!!)\n          params.captureBuilder?.removeTarget(wideParams?.imageReader?.surface!!)\n</code></pre>\n\n<p>I think this is working since there is no error or exception. However, I cannot see the saved images. Here is how I am saving them.</p>\n\n<pre><code>Toast.makeText(activity, \"Burst Captured\", Toast.LENGTH_LONG).show()\nvar tempBitmap: Bitmap = Bitmap.createBitmap(100, 100, Bitmap.Config.ARGB_8888)\n//We need both shots to be done and both images in order to proceed\nif (!twoLens.normalShotDone || !twoLens.wideShotDone || (null == twoLens.normalImage)\n        || (null == twoLens.wideImage))\n        return tempBitmap //Return empty bitmap\n\n    Logd(\"Normal image timestamp: \" + twoLens.normalImage?.timestamp)\n    Logd(\"Wide image timestamp: \" + twoLens.wideImage?.timestamp)\n\n    val wideBuffer: ByteBuffer? = twoLens.wideImage!!.planes[0].buffer\n    val wideBytes = ByteArray(wideBuffer!!.remaining())\n    wideBuffer.get(wideBytes)\n\n    val normalBuffer: ByteBuffer? = twoLens.normalImage!!.planes[0].buffer\n    val normalBytes = ByteArray(normalBuffer!!.remaining())\n    normalBuffer.get(normalBytes)\n    val tempWideBitmap = BitmapFactory.decodeByteArray(wideBytes, 0, wideBytes.size, null)\n    val tempNormalBitmap = BitmapFactory.decodeByteArray(normalBytes, 0, normalBytes.size, null)\n    //Utils.bitmapToMat(tempNormalBitmap, normalMat)\n    save(tempWideBitmap, \"NormalShot\")\n    save(tempNormalBitmap, \"WideShot\")\n</code></pre>\n\n<p>The save method is here:</p>\n\n<pre><code>fun save(bytes: Bitmap, tempName: String) {\n    val timeStamp = SimpleDateFormat(\"yyyyMMdd_HHmmss\").format(Date())\n    val dataDir = File(Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_DOWNLOADS), \"TwoCameraImagesNew\")\n    if (!dataDir.exists()) {\n        dataDir.mkdir()\n    }\n    val fileName = tempName + \"_IMG_$timeStamp.jpg\"\n    val fileDir = File(dataDir.path + File.separator + fileName)\n    try {\n        val fileOutputStream = FileOutputStream(fileDir)\n        bytes.compress(Bitmap.CompressFormat.JPEG, 100, fileOutputStream)\n        //fileOutputStream.write(bytes)\n        fileOutputStream.close()\n    } catch (e: FileNotFoundException) {\n        e.printStackTrace()\n    } catch (e: IOException) {\n        e.printStackTrace()\n    }\n}\n</code></pre>\n\n<p>However, I am unable to see the saved pictures (it worked fine without burst). Is there a separate way to save burst images? \nHere is my onImageAvailableListener:</p>\n\n<pre><code>imageReader = ImageReader.newInstance(960, 720, ImageFormat.JPEG, 20)\nimageReader?.setOnImageAvailableListener(imageAvailableListener, backgroundHandler)\n</code></pre>\n\n<p>The ImageAvailableListener class acquires the next image (is this correct for burst?) and then calls the method to grab the images and save them (shown above). The complete ImageAvailableListener class is given here:</p>\n\n<pre><code>class ImageAvailableListener(private val activity: MainActivity, internal var params: CameraParams) : ImageReader.OnImageAvailableListener {\n    override fun onImageAvailable(reader: ImageReader) {\n        Log.d(MainActivity.LOG_TAG, \"ImageReader. Image is available, about to post.\")\n        val image: Image = reader.acquireNextImage()\n        if (MainActivity.twoLens.isTwoLensShot) {\n\n            if (MainActivity.wideAngleId == params.id) {\n                twoLens.wideImage = image\n\n            } else if (MainActivity.normalLensId == params.id) {\n                twoLens.normalImage = image\n            }\n\n            if (twoLens.wideShotDone &amp;&amp; twoLens.normalShotDone\n                &amp;&amp; null != twoLens.wideImage\n                &amp;&amp; null != twoLens.normalImage) {\n\n                val finalBitmap: Bitmap = DoBokeh(activity, twoLens)\n                setCapturedPhoto(activity, params.capturedPhoto, finalBitmap)\n\n                twoLens.normalImage?.close()\n                twoLens.wideImage?.close()\n            }\n\n        }\n        Log.d(MainActivity.LOG_TAG, \"ImageReader. Post has been set.\")\n    }\n}\n</code></pre>\n\n<p>Is this the correct way to get at least 10fps while capturing photos? If not, how should one proceed? How can I save the burst captured images?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 25612, "user_id": 423105, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ced7f76fd1b5573ce3bdce2f3392df04?s=128&d=identicon&r=PG", "display_name": "LarsH", "link": "https://stackoverflow.com/users/423105/larsh"}, "edited": false, "score": 0, "creation_date": 1562681893, "post_id": 56954330, "comment_id": 100447597, "body": "That path doesn&#39;t look valid. What does <code>file.exists()</code> return? What documentation are you referring to in regard to what exactly should be passed via <code>data.data</code> from the GET_CONTENT?"}], "answers": [{"tags": [], "owner": {"reputation": 13488, "user_id": 1283554, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adcb78a224385051109a02bd4bb60920?s=128&d=identicon&r=PG", "display_name": "bwt", "link": "https://stackoverflow.com/users/1283554/bwt"}, "is_accepted": true, "score": 0, "last_activity_date": 1562682220, "last_edit_date": 1562682220, "creation_date": 1562681891, "answer_id": 56954655, "question_id": 56954330, "link": "https://stackoverflow.com/questions/56954330/zipfile-kotlin-class-returns-java-io-filenotfoundexception-file-doesnt-exist/56954655#56954655", "title": "ZipFile Kotlin class returns java.io.FileNotFoundException: File doesn&#39;t exist", "body": "<p><code>ZipFile</code> only works with files, while the result of <code>ACTION_GET_CONTENT</code> is an Uri, from which you can usually <em>not</em> get a file (see <a href=\"https://commonsware.com/blog/2016/03/15/how-consume-content-uri.html\" rel=\"nofollow noreferrer\">How to Consume Content From a Uri</a> for a detailed explanation).</p>\n\n<p>There are two solutions :</p>\n\n<ul>\n<li><p>Use a <a href=\"https://developer.android.com/reference/java/util/zip/ZipInputStream\" rel=\"nofollow noreferrer\"><code>ZipInputStream</code></a>, which can extract the content of a stream.</p></li>\n<li><p>Copy the stream from the Uri to a local file, then open it with the <code>ZipFile</code></p></li>\n</ul>\n"}], "owner": {"reputation": 25, "user_id": 11647992, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-vtwDieeM30o/AAAAAAAAAAI/AAAAAAAAYj0/EOP99tTdgQI/photo.jpg?sz=128", "display_name": "\u041d\u0438\u043a\u043e\u043b\u0430\u0439 \u041d\u0438\u043a\u0443\u043b\u044c\u0446\u0435\u0432", "link": "https://stackoverflow.com/users/11647992/%d0%9d%d0%b8%d0%ba%d0%be%d0%bb%d0%b0%d0%b9-%d0%9d%d0%b8%d0%ba%d1%83%d0%bb%d1%8c%d1%86%d0%b5%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 922, "favorite_count": 0, "accepted_answer_id": 56954655, "answer_count": 1, "score": 0, "last_activity_date": 1562682220, "creation_date": 1562680870, "question_id": 56954330, "link": "https://stackoverflow.com/questions/56954330/zipfile-kotlin-class-returns-java-io-filenotfoundexception-file-doesnt-exist", "title": "ZipFile Kotlin class returns java.io.FileNotFoundException: File doesn&#39;t exist", "body": "<p>I'm learning how to work with zip files in Kotlin. In theory my app should read files from zip and extract them if needed. For this task I use java.util.zip.ZipFile, but when I pass a file I choose, the app crashes, saying the file doesn't exist.</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val intent = Intent()\n            .setType(\"*/*\")\n            .setAction(Intent.ACTION_GET_CONTENT)\n\n        startActivityForResult(Intent.createChooser(intent, \"Select a file\"), 111)\n    }\n\n    override fun onActivityResult(requestCode: Int, resultCode: Int, data: Intent?) {\n        super.onActivityResult(requestCode, resultCode, data)\n\n        if (requestCode == 111 &amp;&amp; resultCode == RESULT_OK) {\n            val selectedFile = data?.data\n\n            var file = File(selectedFile!!.path)\n            var zipFile = ZipFile(file)\n        }\n    }\n</code></pre>\n\n<p>java.io.FileNotFoundException: File doesn't exist: /document/acc=1;doc=155</p>\n"}, {"tags": ["android", "kotlin", "android-button"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11750595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd35dcf4e9f1138bdba7b59a84b36fe6?s=128&d=identicon&r=PG&f=1", "display_name": "Amr", "link": "https://stackoverflow.com/users/11750595/amr"}, "edited": false, "score": 0, "creation_date": 1562677947, "post_id": 56953408, "comment_id": 100445167, "body": "do you mean in kotliin i cant set the click handler via onClick"}, {"owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "reply_to_user": {"reputation": 11, "user_id": 11750595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd35dcf4e9f1138bdba7b59a84b36fe6?s=128&d=identicon&r=PG&f=1", "display_name": "Amr", "link": "https://stackoverflow.com/users/11750595/amr"}, "edited": false, "score": 0, "creation_date": 1562678378, "post_id": 56953408, "comment_id": 100445403, "body": "@Amr FYI XML onClick Not Recommended.  For good approach Try with <code>setOnClickListener</code>"}, {"owner": {"reputation": 2631, "user_id": 8342718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vm7um.jpg?s=128&g=1", "display_name": "Jasurbek", "link": "https://stackoverflow.com/users/8342718/jasurbek"}, "edited": false, "score": 0, "creation_date": 1562678554, "post_id": 56953408, "comment_id": 100445529, "body": "No you can set, check my answer"}], "tags": [], "owner": {"reputation": 69545, "user_id": 3395198, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/CJtaZ.jpg?s=128&g=1", "display_name": "IntelliJ Amiya", "link": "https://stackoverflow.com/users/3395198/intellij-amiya"}, "is_accepted": false, "score": 4, "last_activity_date": 1562678564, "last_edit_date": 1562678564, "creation_date": 1562677897, "answer_id": 56953408, "question_id": 56953359, "link": "https://stackoverflow.com/questions/56953359/how-to-reference-a-method-inside-a-button-click/56953408#56953408", "title": "How to reference a method inside a button click", "body": "<blockquote>\n  <p>java.lang.IllegalStateException: Could not find method\n  clickHandler(View) in a parent or ancestor Context for android:onClick\n  attribute defined on view class\n  android.support.v7.widget.AppCompatButton with id\n  'btnCheckSearchResult'</p>\n</blockquote>\n\n<p>Remove   <strong><code>android:onClick=\"clickHandler\"</code></strong> from XML</p>\n\n<p>And try with</p>\n\n<pre><code>btnCheckSearchResult.setOnClickListener {\n              beginSearch(\"Trump\")\n            }\n</code></pre>\n\n<p>And</p>\n\n<pre><code>import kotlinx.android.synthetic.main.your_layout.*\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "is_accepted": false, "score": 3, "last_activity_date": 1562678575, "last_edit_date": 1562678575, "creation_date": 1562678004, "answer_id": 56953437, "question_id": 56953359, "link": "https://stackoverflow.com/questions/56953359/how-to-reference-a-method-inside-a-button-click/56953437#56953437", "title": "How to reference a method inside a button click", "body": "<p>Just use</p>\n\n<pre><code>btnCheckSearchResult.setOnClickListener {\n              beginSearch(\"Trump\")\n            }\n</code></pre>\n\n<p>or</p>\n\n<pre><code>btnCheckSearchResult.setOnClickListener({\n            beginSearch(\"Trump\")\n        })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3446, "user_id": 11016588, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-F6RcLML2H6o/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQO0WVT35BZ4DGhtU0gK3nG_5sC3Ww/mo/photo.jpg?sz=128", "display_name": "Chrisvin Jem", "link": "https://stackoverflow.com/users/11016588/chrisvin-jem"}, "is_accepted": false, "score": 3, "last_activity_date": 1562678037, "creation_date": 1562678037, "answer_id": 56953447, "question_id": 56953359, "link": "https://stackoverflow.com/questions/56953359/how-to-reference-a-method-inside-a-button-click/56953447#56953447", "title": "How to reference a method inside a button click", "body": "<p>Function must be public (or protected).</p>\n\n<pre><code>public fun clickHandler(v : View?) : Unit {\n\n    when(v?.id) {\n        R.id.btnCheckSearchResult -&gt; beginSearch(\"Trump\")\n    }\n}\n</code></pre>\n\n<p>P.S - You could also use setOnClickListener as the other answers have pointed out.</p>\n"}, {"tags": [], "owner": {"reputation": 2631, "user_id": 8342718, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vm7um.jpg?s=128&g=1", "display_name": "Jasurbek", "link": "https://stackoverflow.com/users/8342718/jasurbek"}, "is_accepted": false, "score": 2, "last_activity_date": 1562678319, "creation_date": 1562678319, "answer_id": 56953544, "question_id": 56953359, "link": "https://stackoverflow.com/questions/56953359/how-to-reference-a-method-inside-a-button-click/56953544#56953544", "title": "How to reference a method inside a button click", "body": "<p>make your function <code>public</code> </p>\n\n<pre><code>public fun clickHandler(v : View?) : Unit {\n\n    when(v?.id) {\n        R.id.btnCheckSearchResult -&gt; beginSearch(\"Trump\")\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11750595, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd35dcf4e9f1138bdba7b59a84b36fe6?s=128&d=identicon&r=PG&f=1", "display_name": "Amr", "link": "https://stackoverflow.com/users/11750595/amr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 553, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1562678575, "creation_date": 1562677781, "question_id": 56953359, "link": "https://stackoverflow.com/questions/56953359/how-to-reference-a-method-inside-a-button-click", "title": "How to reference a method inside a button click", "body": "<p>I am learning kotlin. i set button click handler in the xml as shown below in the code..when the button is clicked i call the method beginSearch(), but then the App crash and i receive the below posted \nerror.</p>\n\n<p>please let me know how to fix this error.</p>\n\n<p><strong>Activity</strong></p>\n\n<pre><code>private fun clickHandler(v : View?) : Unit {\n\n    when(v?.id) {\n        R.id.btnCheckSearchResult -&gt; beginSearch(\"Trump\")\n    }\n}\n</code></pre>\n\n<p><strong>button</strong>:</p>\n\n<pre><code>&lt;Button\n        android:id=\"@+id/btnCheckSearchResult\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Check Search Result\"\n        android:layout_below=\"@id/etSearchEntry\"\n        android:onClick=\"clickHandler\"/&gt;\n</code></pre>\n\n<p><strong>error</strong>:</p>\n\n<pre><code>    --------- beginning of crash\n    2019-07-09 15:02:06.146 14883-14883/com.example.retrofitkotlin_v10 E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.retrofitkotlin_v10, PID: 14883\n    java.lang.IllegalStateException: Could not find method clickHandler(View) in a parent or ancestor Context for android:onClick attribute defined on view class android.support.v7.widget.AppCompatButton with id 'btnCheckSearchResult'\n    at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.resolveMethod(AppCompatViewInflater.java:424)\n    at android.support.v7.app.AppCompatViewInflater$DeclaredOnClickListener.onClick(AppCompatViewInflater.java:381)\n    at android.view.View.performClick(View.java:6256)\n    at android.view.View$PerformClick.run(View.java:24701)\n    at android.os.Handler.handleCallback(Handler.java:789)\n    at android.os.Handler.dispatchMessage(Handler.java:98)\n    at android.os.Looper.loop(Looper.java:164)\n    at android.app.ActivityThread.main(ActivityThread.java:6541)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n</code></pre>\n"}, {"tags": ["kotlin", "h2"], "comments": [{"owner": {"reputation": 7928, "user_id": 958373, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/XmjH9.jpg?s=128&g=1", "display_name": "Stephane", "link": "https://stackoverflow.com/users/958373/stephane"}, "edited": false, "score": 0, "creation_date": 1576139656, "post_id": 56952955, "comment_id": 104804005, "body": "You found a work around ?"}], "owner": {"reputation": 8853, "user_id": 1022260, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/27a141cb4a1a2f49d43bc09a5fa742b2?s=128&d=identicon&r=PG&f=1", "display_name": "mikeb", "link": "https://stackoverflow.com/users/1022260/mikeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1562676414, "creation_date": 1562676414, "question_id": 56952955, "link": "https://stackoverflow.com/questions/56952955/h2-bindaddress-being-ignored", "title": "h2.bindAddress being ignored", "body": "<p>I'm running a Kotlin &amp; Spring Boot app using h2, and I'm doing the following:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    System.setProperty(\"h2.bindAddress\", \"127.0.0.1\")\n    System.err.println(\"Bind address set for h2\")\n    runApplication&lt;Application&gt;(*args)\n}\n</code></pre>\n\n<p>I can see the code is running and the variable is being set, but I get my old DHCP address from yesterday in the error message:</p>\n\n<p><code>org.h2.jdbc.JdbcSQLException: Connection is broken: \"java.net.SocketTimeoutException: connect timed out: 192.168.0.5:63101\" [90067-197]</code></p>\n\n<p>My DB URL is this:</p>\n\n<p><code>spring.datasource.url=jdbc:h2:/tmp/testdb;DB_CLOSE_ON_EXIT=TRUE;AUTO_SERVER=TRUE;</code></p>\n\n<p>Any ideas why this is not working?  I deleted the database in <code>/tmp/testdb</code> but I am still getting the error.  How do I \"reset\" the bind IP address?</p>\n"}, {"tags": ["kotlin", "koin"], "answers": [{"comments": [{"owner": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "edited": false, "score": 1, "creation_date": 1562725355, "post_id": 56952202, "comment_id": 100462814, "body": "yeah i understand that but what if I also want to provide <code>SpecificClass</code> as <code>BaseClass</code>."}], "tags": [], "owner": {"reputation": 580, "user_id": 11570855, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBfoXN75Xzgk3YY5kUYAMLQ81xO0kEo12uTsdPn=k-s128", "display_name": "Jaime Suarez", "link": "https://stackoverflow.com/users/11570855/jaime-suarez"}, "is_accepted": false, "score": 0, "last_activity_date": 1562673887, "creation_date": 1562673887, "answer_id": 56952202, "question_id": 56951471, "link": "https://stackoverflow.com/questions/56951471/how-to-provide-the-base-class-in-koin/56952202#56952202", "title": "How to provide the base class in Koin?", "body": "<p>You can't inject abstract classes.</p>\n\n<p>In order to inject a class, it must be instantiable and abstract classes are not.</p>\n\n<p>To inject <code>SpecificClass</code> with Koin you need to create a module:</p>\n\n<pre><code>val appModule = module {\n    single {\n        SpecificClass()\n    }\n}\n</code></pre>\n\n<p>Initialize it in your application class:</p>\n\n<pre><code>class MyApplication : Application() {\n  override fun onCreate(){\n    super.onCreate()\n    // start Koin!\n    startKoin {\n      // declare used Android context\n      androidContext(this@MyApplication)\n      // declare modules\n      modules(appModule)\n    }\n  } \n} \n</code></pre>\n\n<p>And use the inject delegation in your activity/fragment</p>\n\n<pre><code>class MyActivity() : AppCompatActivity() {\n\n    val specificClass : SpecificClass by inject()\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4857, "user_id": 9199362, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tHXd5.png?s=128&g=1", "display_name": "Birju Vachhani", "link": "https://stackoverflow.com/users/9199362/birju-vachhani"}, "is_accepted": true, "score": 4, "last_activity_date": 1562739871, "creation_date": 1562739871, "answer_id": 56964497, "question_id": 56951471, "link": "https://stackoverflow.com/questions/56951471/how-to-provide-the-base-class-in-koin/56964497#56964497", "title": "How to provide the base class in Koin?", "body": "<p>You can do it using Koin in 2 ways</p>\n\n<p>Methodn 1</p>\n\n<p>You can create dependencies for both of them like this</p>\n\n<pre><code>single {\n    SpecificClass()\n}\n\nsingle&lt;BaseClass&gt; {\n    get&lt;SpecificClass&gt;()\n}\n</code></pre>\n\n<p>In this way, whenever you inject an instance, it will get injected accordingly</p>\n\n<p>Method 2</p>\n\n<p>You can make use of named dependencies like this</p>\n\n<pre><code>single(\"BaseClassImpl\") {\n        SpecificClass()\n    }\n</code></pre>\n\n<p>And when you want to inject it, provide key for that dependency like this:</p>\n\n<pre><code>class Someclass {\n    ...\n    private specificClass: SpecificClass by inject(\"BaseClassImpl\")\n    ...\n}\n\nclass Someclass {\n    ...\n    private baseClass: BaseClass by inject(\"BaseClassImpl\") \n    // where this BaseClass is just the the same instace of the SpecificClass in the dependency graph\n    ...\n}\n</code></pre>\n"}], "owner": {"reputation": 5737, "user_id": 9291997, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/GyQRY.jpg?s=128&g=1", "display_name": "Archie G. Qui&#241;ones", "link": "https://stackoverflow.com/users/9291997/archie-g-qui%c3%b1ones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1083, "favorite_count": 1, "accepted_answer_id": 56964497, "answer_count": 2, "score": 3, "last_activity_date": 1562740172, "creation_date": 1562671418, "last_edit_date": 1562740172, "question_id": 56951471, "link": "https://stackoverflow.com/questions/56951471/how-to-provide-the-base-class-in-koin", "title": "How to provide the base class in Koin?", "body": "<p>For example I the following classes:</p>\n\n<pre><code>abstract class BaseClass()\n\nclass SpecificClass : BaseClass()\n</code></pre>\n\n<p>Now, I want to provide <code>SpecificClass</code> through <code>koin</code> dependency inject but I also want to provide the base class <code>BaseClass</code> in the same graph.</p>\n\n<p>To be clear I want to do something like:</p>\n\n<pre><code>class Someclass {\n    ...\n    private specificClass: SpecificClass by inject()\n    ...\n}\n\nclass Someclass {\n    ...\n    private baseClass: BaseClass by inject() \n    // where this BaseClass is just the the same instace of the SpecificClass in the dependency graph\n    ...\n}\n</code></pre>\n\n<p>How do I do my module to do this? How can I inject the implementation instance to the baseClass reference?</p>\n"}, {"tags": ["java", "android", "kotlin"], "owner": {"reputation": 11, "user_id": 11759148, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Axwak8mjfwQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re_O1stfOi48l-_ABfUgmU8p645jg/photo.jpg?sz=128", "display_name": "Test We", "link": "https://stackoverflow.com/users/11759148/test-we"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1562671318, "creation_date": 1562670947, "last_edit_date": 1562671318, "question_id": 56951339, "link": "https://stackoverflow.com/questions/56951339/android-paygate-payment-gateway-redirect-error-when-payment-success", "title": "Android - Paygate Payment Gateway Redirect Error when payment success", "body": "<p>We are trying use Paygate with PayHost. We are receiving null map from the Paygate call back. As per checking on notify and success URL. We are receiving data from the PayGate. But didn't get response from the </p>\n\n<p>When we are using paygate testing data that time we are receiving response on map but when we are switching data from live that time we are facing this issue. </p>\n\n<p>We have implemented SSL also crate Notify &amp; Success URL as per PayGate Demo Source Code. </p>\n\n<pre><code> CardPaymentActivity.attachCallback(new CardPaymentActivity.onFinishedTransaction() {\n                                @Override\n                                public void onFinish(HashMap&lt;String, String&gt; map) {\n                                    if (map == null) {\n                                        payGateResponseCallback.onSuccess(data, res);\n                                    } else {\n                                        String csString = payGateId.concat(map.get(\"PAY_REQUEST_ID\")).concat(map.get(\"TRANSACTION_STATUS\")).concat(order.getMerchantOrderId()).concat(password);\n                                        String checksum = new String(Hex.encodeHex(DigestUtils.md5(csString)));\n                                        if (checksum.equalsIgnoreCase(map.get(\"CHECKSUM\"))) {\n                                            payGateResponseCallback.onSuccess(data, \"1\");\n                                        } else {\n                                            payGateResponseCallback.onSuccess(data, \"0\");\n                                        }\n                                    }\n                                }\n                            });\n</code></pre>\n\n<p>On Finish Call Back we are receiving null map from Paygate</p>\n\n<p>Source code is available in this link - <a href=\"https://github.com/PayGate/sample-code-android/blob/master/app/src/main/java/com/appinlet/payhost/Api/WebPaymentApi.java\" rel=\"nofollow noreferrer\">https://github.com/PayGate/sample-code-android/blob/master/app/src/main/java/com/appinlet/payhost/Api/WebPaymentApi.java</a></p>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1562670327, "post_id": 56951056, "comment_id": 100440867, "body": "what you want to try on power button click ?"}, {"owner": {"reputation": 29, "user_id": 10329704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4449e4ba8d45c44ac4db27fa748cecd6?s=128&d=identicon&r=PG&f=1", "display_name": "ignn", "link": "https://stackoverflow.com/users/10329704/ignn"}, "reply_to_user": {"reputation": 5935, "user_id": 10182897, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PuvGT.jpg?s=128&g=1", "display_name": "Ashish", "link": "https://stackoverflow.com/users/10182897/ashish"}, "edited": false, "score": 0, "creation_date": 1562671759, "post_id": 56951056, "comment_id": 100441590, "body": "For lock device screen"}], "owner": {"reputation": 29, "user_id": 10329704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4449e4ba8d45c44ac4db27fa748cecd6?s=128&d=identicon&r=PG&f=1", "display_name": "ignn", "link": "https://stackoverflow.com/users/10329704/ignn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 159, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562669948, "creation_date": 1562669948, "question_id": 56951056, "link": "https://stackoverflow.com/questions/56951056/can-i-with-kotlin-simulate-click-on-physical-button-on-android-device", "title": "Can i with Kotlin simulate click on physical button on Android device?", "body": "<p>Can i with Kotlin simulate click on physical button on device?\n.performClick? \nI need simulate click on power button (KEYCODE_POWER <a href=\"https://developer.android.com/reference/android/view/KeyEvent\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/view/KeyEvent</a>)\nThank you</p>\n"}]