[{"tags": ["android", "android-gradle-plugin", "kotlin", "kapt"], "comments": [{"owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "edited": false, "score": 0, "creation_date": 1509612498, "post_id": 47064234, "comment_id": 81090002, "body": "Please share your gradle file. I have the same  problem because I changed the gradle incorrectly. If you have change it after upgrading, please show both versions."}, {"owner": {"reputation": 130, "user_id": 802798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2af41cc43e9506e3a22a4d847bbb02b?s=128&d=identicon&r=PG", "display_name": "Pentarex", "link": "https://stackoverflow.com/users/802798/pentarex"}, "edited": false, "score": 0, "creation_date": 1509615618, "post_id": 47064234, "comment_id": 81091962, "body": "I have the same issue, with realm and the auto generated proxy object from kapt. I&#39;ve tried reproducing it in a new project, same error. Cannot find symbol @TargetApi(Build.VERSION_CODES.HONEYCOMB). Its driving me nuts. If i change gradle plugin to 2.3.2 - it works...."}, {"owner": {"reputation": 130, "user_id": 802798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2af41cc43e9506e3a22a4d847bbb02b?s=128&d=identicon&r=PG", "display_name": "Pentarex", "link": "https://stackoverflow.com/users/802798/pentarex"}, "edited": false, "score": 0, "creation_date": 1509616113, "post_id": 47064234, "comment_id": 81092262, "body": "I mean when I create a new project with the same dependencies and the same versions - it compiles and it works, only for my working project i receive this error. which is very strange"}, {"owner": {"reputation": 130, "user_id": 802798, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f2af41cc43e9506e3a22a4d847bbb02b?s=128&d=identicon&r=PG", "display_name": "Pentarex", "link": "https://stackoverflow.com/users/802798/pentarex"}, "edited": false, "score": 1, "creation_date": 1509630809, "post_id": 47064234, "comment_id": 81102425, "body": "Ive fixed it and for some reason the error was coming from external library logback-android-classic, i had to exclude group: &#39;com.google.android&#39;, module: &#39;android&#39; in the build.gradle and now it compiles"}], "answers": [{"comments": [{"owner": {"reputation": 934, "user_id": 1815209, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a6cbca63e8eae12b8959f53c6e4e5133?s=128&d=identicon&r=PG", "display_name": "quezak", "link": "https://stackoverflow.com/users/1815209/quezak"}, "edited": false, "score": 0, "creation_date": 1515178268, "post_id": 47078049, "comment_id": 83215559, "body": "It does indeed work. Do you have any explanation <i>why</i> does this fix this error? It doesn&#39;t seem to be connected in any way with the kapt error messages..."}], "tags": [], "owner": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "is_accepted": true, "score": 0, "last_activity_date": 1509633791, "creation_date": 1509633791, "answer_id": 47078049, "question_id": 47064234, "link": "https://stackoverflow.com/questions/47064234/kotlin-kapt-failing-only-sees-android-api-level-1-sources/47078049#47078049", "title": "Kotlin Kapt failing - only sees android api level 1 sources", "body": "<p>Per @pentarex</p>\n\n<blockquote>\n  <p>error was coming from external library logback-android-classic, i had to exclude group: 'com.google.android', module: 'android</p>\n</blockquote>\n\n<pre><code>implementation(libs.logbackAndroidClassic){\n    exclude group: 'com.google.android', module: 'android'\n}\n</code></pre>\n"}], "owner": {"reputation": 10814, "user_id": 891242, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/5719e9d6125bf8f75501a83e68b11412?s=128&d=identicon&r=PG", "display_name": "ZakTaccardi", "link": "https://stackoverflow.com/users/891242/zaktaccardi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 1, "accepted_answer_id": 47078049, "answer_count": 1, "score": 1, "last_activity_date": 1509633791, "creation_date": 1509572881, "last_edit_date": 1509573344, "question_id": 47064234, "link": "https://stackoverflow.com/questions/47064234/kotlin-kapt-failing-only-sees-android-api-level-1-sources", "title": "Kotlin Kapt failing - only sees android api level 1 sources", "body": "<p>I'm seeing some weird behavior that causes <code>:app:kaptQaDebugKotlin</code> to fail when attempting to upgrade to android gradle plugin 3.0.</p>\n\n<ul>\n<li>method annotated with <code>@TargetApi(VERSION_CODES.KITKAT)</code> fails with <code>cannot find symbol</code> (<code>VERSION_CODES.KITKAT</code>)</li>\n<li>...but <code>VERSION_CODES.KITKAT</code> when used inline with a method is found</li>\n<li>can't find symbol <code>DialogInterface.OnShowListener</code> (added in API level 8)</li>\n<li>..but <code>DialogInteface.OnClickListener</code> is found (added in API level 1)</li>\n<li>cannot find symbol <code>Application.ActivityLifecycleCallbacks</code> (added in api level 14)</li>\n<li>note: Android Studio is able to see the source of all these <code>cannot find symbol</code> classes (<code>cmd + B</code>  works)</li>\n</ul>\n\n<p>Versions</p>\n\n<ul>\n<li>compileSdkVersion: <code>25</code></li>\n<li>buildTools: <code>26.0.2</code></li>\n<li>Kotlin version: <code>1.1.51</code></li>\n<li>AGP: <code>3.0.0</code></li>\n<li>gradle wrapper: <code>4.3</code></li>\n<li>Support lib: <code>24.2.1</code> (would be difficult to upgrade this too, but I did try <code>25.4.0</code> and still no luck)</li>\n<li>Dagger: <code>2.0.2</code> (stuck on this old version, can't upgrade unfortunately)</li>\n<li>use AGP 3.0.0 java 8 desugar feature</li>\n<li>using <code>kotlin-kapt</code> plugin. autovalue classes are correctly generated.</li>\n</ul>\n\n<p>Any idea what's going on? It looks like the kapt task is somehow using android api level 1 sources, and I'm not sure how to troubleshoot that</p>\n"}, {"tags": ["android", "build", "module", "kotlin", "kapt"], "answers": [{"comments": [{"owner": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "edited": false, "score": 0, "creation_date": 1510545350, "post_id": 47065910, "comment_id": 81464608, "body": "This is for the original kapt that is deprecated and will be removed soon after the Kotlin 1.2 release."}], "tags": [], "owner": {"reputation": 8575, "user_id": 680420, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Lnhqp.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/680420/jack"}, "is_accepted": false, "score": 0, "last_activity_date": 1509583983, "creation_date": 1509583983, "answer_id": 47065910, "question_id": 47062843, "link": "https://stackoverflow.com/questions/47062843/kotlin-annotation-processor-autoservice/47065910#47065910", "title": "Kotlin Annotation processor + AutoService", "body": "<p>You could try this</p>\n\n<p><code>kapt {\n    correctErrorTypes = true\n}</code></p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/kapt.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/kapt.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "edited": false, "score": 0, "creation_date": 1510545466, "post_id": 47097286, "comment_id": 81464633, "body": "This sounds like a bug. If you can reproduce this on a smaller project, please report it to the Kotlin issue tracker (<a href=\"http://kotl.in/issue\" rel=\"nofollow noreferrer\">kotl.in/issue</a>)."}], "tags": [], "owner": {"reputation": 106, "user_id": 3605025, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001161305150/picture?type=large", "display_name": "user3605025", "link": "https://stackoverflow.com/users/3605025/user3605025"}, "is_accepted": false, "score": 0, "last_activity_date": 1509716737, "creation_date": 1509716737, "answer_id": 47097286, "question_id": 47062843, "link": "https://stackoverflow.com/questions/47062843/kotlin-annotation-processor-autoservice/47097286#47097286", "title": "Kotlin Annotation processor + AutoService", "body": "<p>I did a workaround to make it work (not proud of it \ud83d\ude02 )\nI had to instantiate my own Processor and override the <code>processingOver</code> to always return false.\nIt seems the kapt kept a cache of my resource and after clean the build it doesn't generate the files anymore.</p>\n\n<p>Here it is the code:</p>\n\n<pre><code>public class CustomAutoServiceProcessor extends AutoServiceProcessor {\n\n    public boolean process(Set&lt;? extends TypeElement&gt; annotations, RoundEnvironment roundEnv) {\n        try {\n            Field processingOver = roundEnv.getClass().getDeclaredField(\"processingOver\");\n            processingOver.setAccessible(true);\n            processingOver.set(roundEnv, false);\n        } catch (NoSuchFieldException e) {\n            e.printStackTrace();\n        } catch (IllegalAccessException e) {\n            e.printStackTrace();\n        }\n        return super.process(annotations, roundEnv);\n    }\n}\n</code></pre>\n\n<p>Any better suggestion is welcome!</p>\n"}], "owner": {"reputation": 106, "user_id": 3605025, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001161305150/picture?type=large", "display_name": "user3605025", "link": "https://stackoverflow.com/users/3605025/user3605025"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1638, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1509716737, "creation_date": 1509566798, "question_id": 47062843, "link": "https://stackoverflow.com/questions/47062843/kotlin-annotation-processor-autoservice", "title": "Kotlin Annotation processor + AutoService", "body": "<p>I'm having the following problem:\n- Created few Modules which implement a <code>Component</code> class and it's annotated with <code>@AutoService(Component::class)</code>\n- My Android app is using <code>ServiceLoader</code> to retrieve those classes. But for some reason <code>kapt</code> is not generating the files inside <code>META-INF/services/...</code></p>\n\n<p>My module gradle.file:</p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.2\"\n\n\n    defaultConfig {\n        minSdkVersion 19\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n        javaCompileOptions {\n            annotationProcessorOptions {\n                includeCompileClasspath = true\n            }\n        }\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.android.support:design:26.1.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n\n    implementation project(':common-dependencies')\n    implementation project(':component')\n    compileOnly 'com.google.auto.service:auto-service:1.0-rc3'\n    kapt \"com.google.auto.service:auto-service:1.0-rc3\"\n\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n}\n</code></pre>\n\n<p>My App build.gradle file:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n\nandroid {\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.2\"\n    defaultConfig {\n        applicationId \"com.test.sampleapp\"\n        minSdkVersion 19\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n        javaCompileOptions {\n            annotationProcessorOptions {\n                includeCompileClasspath = true\n            }\n        }\n    }\n\n    flavorDimensions 'required-notused'\n\n    productFlavors {\n        brandA {\n            resValue \"string\", \"app_name\", \"Brand A\"\n        }\n        brandB {\n            resValue \"string\", \"app_name\", \"Brand B\"\n        }\n\n        all { applicationIdSuffix \".${it.name.toLowerCase()}\" }\n    }\n\n    buildTypes {\n        debug\n\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    implementation 'com.android.support:design:26.1.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.1'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.1'\n\n    implementation project(':common-dependencies')\n    implementation project(':component')\n\n    brandAImplementation project(':city-picker')\n    brandAImplementation project(':profile')\n    brandAImplementation project(':matches')\n    brandAImplementation project(':chat')\n\n    brandBImplementation project(':city-picker')\n    brandBImplementation project(':chat')\n\n    compileOnly 'com.google.auto.service:auto-service:1.0-rc3'\n    kapt \"com.google.auto.service:auto-service:1.0-rc3\"\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n}\n\nrepositories {\n    mavenCentral()\n}\n</code></pre>\n\n<p>I'm not sure why, but <code>kapt</code> is basically not generating those files. If I use Java classes it generate it instantly.\nAny guess why?</p>\n"}, {"tags": ["android", "kotlin", "anko"], "answers": [{"comments": [{"owner": {"reputation": 1157, "user_id": 2928241, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/877a945a09003d61faad155090a93b2c?s=128&d=identicon&r=PG&f=1", "display_name": "yasin", "link": "https://stackoverflow.com/users/2928241/yasin"}, "edited": false, "score": 0, "creation_date": 1509710065, "post_id": 47063319, "comment_id": 81139606, "body": "I&#39;m still getting the error &quot;Error:(32, 17) Val cannot be reassigned&quot;"}], "tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 1, "last_activity_date": 1509568864, "creation_date": 1509568864, "answer_id": 47063319, "question_id": 47062528, "link": "https://stackoverflow.com/questions/47062528/anko-running-async-layout-modifications/47063319#47063319", "title": "Anko. Running async layout modifications", "body": "<p>The function <code>activity.getDrawable</code> was introduced in the API 21. You should use <code>activity.resources.getDrawable</code> instead.</p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 9601018, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Zolt&#225;n Tank&#243;", "link": "https://stackoverflow.com/users/9601018/zolt%c3%a1n-tank%c3%b3"}, "is_accepted": false, "score": 0, "last_activity_date": 1540391750, "creation_date": 1540391750, "answer_id": 52971691, "question_id": 47062528, "link": "https://stackoverflow.com/questions/47062528/anko-running-async-layout-modifications/52971691#52971691", "title": "Anko. Running async layout modifications", "body": "<p>You can only modify Views from the UI thread (bg runs on a different thread).</p>\n\n<p>I tried your code, it compiles but does nothing.</p>\n\n<p>Also, if you don't want to return anything from that coroutine, use launch instead of async.</p>\n\n<p>Anyway, drop the bg and it should work. Didn't you, by chance, mean to do something like this?</p>\n\n<pre><code>launch(UI) {\n    val someJob = bg {\n        //Do some work here\n        someResult\n    }\n    doWhateverWithUI(someJob.await())\n}\n</code></pre>\n"}], "owner": {"reputation": 1157, "user_id": 2928241, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/877a945a09003d61faad155090a93b2c?s=128&d=identicon&r=PG&f=1", "display_name": "yasin", "link": "https://stackoverflow.com/users/2928241/yasin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1540391750, "creation_date": 1509565472, "question_id": 47062528, "link": "https://stackoverflow.com/questions/47062528/anko-running-async-layout-modifications", "title": "Anko. Running async layout modifications", "body": "<p>I'm trying to add a button to my activity using anko. I know is possible using RxJava (I've done that). I want to know how to do that using Anko and asynchronous.\nThe code works when is running on a synchronous thread.</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    fun someMethod(){\n        async(UI) {\n            bg {\n                var button = Button(this@MainActivity)\n                button.background = this@MainActivity.getDrawable(R.drawable.ic_action_balloon)\n                myFrame.addView(button)\n            }\n        }\n     }\n</code></pre>\n\n<p>When I build the code, I get this error:</p>\n\n<blockquote>\n  <p>Error:(32, 17) Val cannot be reassigned </p>\n  \n  <p>Error:(32, 55) Unresolved reference: getDrawable</p>\n</blockquote>\n"}, {"tags": ["android", "unit-testing", "android-studio", "mockito", "kotlin"], "comments": [{"owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "edited": false, "score": 1, "creation_date": 1509567948, "post_id": 47061013, "comment_id": 81074334, "body": "Are you using the latest version of Mockito?"}, {"owner": {"reputation": 18638, "user_id": 981715, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6d6386f73f30139271b8f38facf57776?s=128&d=identicon&r=PG", "display_name": "Eugen Martynov", "link": "https://stackoverflow.com/users/981715/eugen-martynov"}, "edited": false, "score": 1, "creation_date": 1509568831, "post_id": 47061013, "comment_id": 81074755, "body": "Same question - did you update mockito also?"}, {"owner": {"reputation": 46, "user_id": 3740485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90c6b61a79f7a0a57b7e2491b35b42d1?s=128&d=identicon&r=PG", "display_name": "Daniel Mallcott", "link": "https://stackoverflow.com/users/3740485/daniel-mallcott"}, "edited": false, "score": 0, "creation_date": 1509573682, "post_id": 47061013, "comment_id": 81076953, "body": "Yep. Mockito is <code>2.11.0</code> (maybe I should try moving to .5?)."}], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 3740485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90c6b61a79f7a0a57b7e2491b35b42d1?s=128&d=identicon&r=PG", "display_name": "Daniel Mallcott", "link": "https://stackoverflow.com/users/3740485/daniel-mallcott"}, "is_accepted": false, "score": 0, "last_activity_date": 1509724429, "creation_date": 1509724429, "answer_id": 47099756, "question_id": 47061013, "link": "https://stackoverflow.com/questions/47061013/failing-kotlin-unit-tests-after-gradle-plugin-3-0/47099756#47099756", "title": "Failing kotlin unit tests after gradle plugin 3.0", "body": "<p>After a bit of playing around turns out it was a combination of things. Besides making sure I was using the latests version of Mockito I also needed to use <code>testImplementation \"org.jetbrains.kotlin:kotlin-test-junit:$kotlin_version\"</code> and <code>testImplementation \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"</code>. NOTE that it's jre8. I was using jre7. </p>\n"}], "owner": {"reputation": 46, "user_id": 3740485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/90c6b61a79f7a0a57b7e2491b35b42d1?s=128&d=identicon&r=PG", "display_name": "Daniel Mallcott", "link": "https://stackoverflow.com/users/3740485/daniel-mallcott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 443, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1509724429, "creation_date": 1509559267, "question_id": 47061013, "link": "https://stackoverflow.com/questions/47061013/failing-kotlin-unit-tests-after-gradle-plugin-3-0", "title": "Failing kotlin unit tests after gradle plugin 3.0", "body": "<p>After updating Android Studio to 3.0 I keep getting failed tests due to the following:</p>\n\n<pre><code>java.lang.NullPointerException\nat org.mockito.internal.util.ConsoleMockitoLogger.log(ConsoleMockitoLogger.java:13)\nat org.mockito.internal.junit.UnusedStubbings.format(UnusedStubbings.java:39)\nat org.mockito.internal.junit.UniversalTestListener.emitWarnings(UniversalTestListener.java:70)\nat org.mockito.internal.junit.UniversalTestListener.testFinished(UniversalTestListener.java:47)\nat org.mockito.internal.junit.JUnitRule$1.evaluate(JUnitRule.java:50)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\nat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\nat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\nat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\nat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\nat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\nat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\nat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.runTestClass(JUnitTestClassExecuter.java:114)\nat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassExecuter.execute(JUnitTestClassExecuter.java:57)\nat org.gradle.api.internal.tasks.testing.junit.JUnitTestClassProcessor.processTestClass(JUnitTestClassProcessor.java:66)\nat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.processTestClass(SuiteTestClassProcessor.java:51)\nat sun.reflect.GeneratedMethodAccessor42.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\nat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\nat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)\nat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\nat com.sun.proxy.$Proxy1.processTestClass(Unknown Source)\nat org.gradle.api.internal.tasks.testing.worker.TestWorker.processTestClass(TestWorker.java:109)\nat sun.reflect.GeneratedMethodAccessor41.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\nat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\nat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:146)\nat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:128)\nat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)\nat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\nat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n\n<p>What's interesting though is it's only happening on kotlin unit tests. Has anyone faced this before? Know what might be happening?</p>\n\n<p>Interestingly enough, line 13 in <code>ConsoleMockitoLogger</code> is a <code>System.out.println(Object)</code>.</p>\n"}, {"tags": ["android", "generics", "kotlin", "kotlin-extension"], "answers": [{"comments": [{"owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 0, "creation_date": 1509559776, "post_id": 47061034, "comment_id": 81069919, "body": "I was reading about them earlier and didn&#39;t go with using <code>out</code> because it specified that that&#39;s used for producer classes. In my case, (I have made the edits for you to see the entire presenter class) having them be prefixed with <code>out</code> caused the line <code>var model: M? = null</code> to get a compile error saying that it occurs as an invariant position in type M. It looks like making it private solves the issue, but do I always have to be conscious of how I&#39;m using the types within the class in order to declare them as out or in?"}, {"owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 0, "creation_date": 1509560105, "post_id": 47061034, "comment_id": 81070115, "body": "In the class I posted, I use it as both a producer and consumer"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1509560346, "last_edit_date": 1509560346, "creation_date": 1509559345, "answer_id": 47061034, "question_id": 47060896, "link": "https://stackoverflow.com/questions/47060896/kotlin-generics-expecting-unexpected-type/47061034#47061034", "title": "Kotlin generics expecting unexpected type", "body": "<p>You need to add <code>out</code> variance to your generic parameters in <code>BasePresenter</code> so that a type like <code>BasePresenter&lt;Venue, VenueView&gt;</code> will be a subtype of <code>BasePresenter&lt;Any?, Any?&gt;</code>.</p>\n\n<pre><code>abstract class BasePresenter&lt;out M, out V&gt;\n</code></pre>\n\n<p>As a short explanation, the <code>out</code> keyword specifies <em>covariance</em>, e.g. if you have a class <code>YourClass&lt;out T&gt;</code>, it means that when <code>A</code> is a subtype of <code>B</code>, then <code>YourClass&lt;A&gt;</code> is also a subtype of <code>YourClass&lt;B&gt;</code>.</p>\n\n<p>See more details about Kotlin generics and variance in the <a href=\"https://kotlinlang.org/docs/reference/generics.html#declaration-site-variance\" rel=\"nofollow noreferrer\">docs</a>.</p>\n\n<hr>\n\n<p>Edit based on comment below:</p>\n\n<p>If you can't make the above change, you could use <em>use site variance</em> at the <code>MvpViewHolder</code> class instead, to accept <code>BasePresenter</code> subtypes with any subtypes of <code>Any?</code> in their type parameters:</p>\n\n<pre><code>abstract class MvpViewHolder&lt;P&gt;(itemView: View) : RecyclerView.ViewHolder(itemView) \n        where P : BasePresenter&lt;out Any?, out Any?&gt;\n</code></pre>\n\n<p>You could do this exact same thing with <a href=\"https://kotlinlang.org/docs/reference/generics.html#star-projections\" rel=\"nofollow noreferrer\">star projection</a> (just a different syntax in this case):</p>\n\n<pre><code>abstract class MvpViewHolder&lt;P&gt;(itemView: View) : RecyclerView.ViewHolder(itemView) \n        where P : BasePresenter&lt;*, *&gt;\n</code></pre>\n\n<p>In both of these cases, anything of type <code>V</code> or <code>M</code> returned from a <code>P</code> will be of type <code>Any?</code>, and you won't be able to pass <code>V</code> or <code>M</code> instances into methods of <code>P</code>. If you need to be able to do that, you could consider adding more generic parameters:</p>\n\n<pre><code>abstract class MvpViewHolder&lt;P, M, V&gt;(itemView: View) : RecyclerView.ViewHolder(itemView)\n        where P : BasePresenter&lt;M, V&gt;\n</code></pre>\n"}], "owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 0, "accepted_answer_id": 47061034, "answer_count": 1, "score": 1, "last_activity_date": 1509560346, "creation_date": 1509558828, "last_edit_date": 1509559655, "question_id": 47060896, "link": "https://stackoverflow.com/questions/47060896/kotlin-generics-expecting-unexpected-type", "title": "Kotlin generics expecting unexpected type", "body": "<p>I've defined the following base class with two generic types and using it two levels deep (for lack of a better phrase). Here's my use case.</p>\n\n<pre><code>abstract class BasePresenter&lt;out M, out V&gt; {\n    var model: M? = null\n\n    var view: WeakReference&lt;V&gt;? = null\n\n    fun setM(model: M?): Unit {\n        this.model = model\n\n        if (setupDone()) {\n            updateView()\n        }\n    }\n\n    fun bindView(view: V) {\n        this.view = WeakReference(view)\n    }\n\n    fun unbindView() {\n        this.view = null\n    }\n\n    abstract fun updateView()\n\n    fun view(): V? {\n        return if (view == null) null else view?.get()\n    }\n\n    fun setupDone(): Boolean {\n        return view() != null &amp;&amp; model != null\n    }\n}\n</code></pre>\n\n<p>I'm extending it using</p>\n\n<pre><code>open class VenueListPresenter: BasePresenter&lt;Venue, VenueView&gt;()  {...}\n</code></pre>\n\n<p>Which works fine, as expected, but then I'm running into issues when I'm trying to use the <code>VenuListPresenter</code> as a type parameter in a different class.</p>\n\n<pre><code>open class VenuesViewHolder(itemView: View): MvpViewHolder&lt;VenueListPresenter&gt;(itemView) {\n</code></pre>\n\n<p>This gives me an error stating that the expected argument in <code>MvpViewHolder</code> is  BasePresenter, and that what was found was a <code>VenueListPresenter</code>. My <code>VenueListPresenter</code> extends a <code>BasePresenter&lt;Venue, VenueView&gt;</code> where <code>Venue</code> and <code>VenueView</code> are of type <code>Any?</code> because by default they extend it. So why isn't it working?</p>\n\n<p>MvpViewHolder is defined like so</p>\n\n<pre><code>abstract class MvpViewHolder&lt;P&gt;(itemView: View) : RecyclerView.ViewHolder(itemView) where P : BasePresenter&lt;Any?, Any?&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 22949, "user_id": 6998684, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cqR2Z.jpg?s=128&g=1", "display_name": "IgorGanapolsky", "link": "https://stackoverflow.com/users/6998684/igorganapolsky"}, "edited": false, "score": 0, "creation_date": 1593717838, "post_id": 47061018, "comment_id": 110885859, "body": "What does <code>MultiDex</code> have to do with Exception Initialization?"}], "tags": [], "owner": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "is_accepted": true, "score": 0, "last_activity_date": 1509559276, "creation_date": 1509559276, "answer_id": 47061018, "question_id": 47060652, "link": "https://stackoverflow.com/questions/47060652/android-kotlin-crash-on-start-4-1-2-exceptionininitializererror/47061018#47061018", "title": "Android/Kotlin Crash on Start 4.1.2 - ExceptionInInitializerError", "body": "<p>It was because while I had <code>multiDexEnabled true</code>, I was not extending <code>MultiDexApplication</code>. That is only required if you're supporting API 20 or lower.</p>\n\n<p>Adding the library to your dependencies.</p>\n\n<pre><code>android {\n    defaultConfig {\n        ...\n        minSdkVersion 15 \n        targetSdkVersion 26\n        multiDexEnabled true\n    }\n    ...\n}\n\ndependencies {\n  compile 'com.android.support:multidex:1.0.1'\n}\n</code></pre>\n\n<p>And extending <code>MultiDexApplication</code>:</p>\n\n<pre><code>public class MyApplication extends MultiDexApplication\n</code></pre>\n\n<p>Answer: <a href=\"https://stackoverflow.com/a/39831657/3106174\">https://stackoverflow.com/a/39831657/3106174</a></p>\n\n<blockquote>\n  <p>I had the same error and I solved it with MultiDex, like described on\n  this link : <a href=\"https://developer.android.com/studio/build/multidex.html\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/build/multidex.html</a></p>\n</blockquote>\n"}], "owner": {"reputation": 4391, "user_id": 3106174, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/mKAhl.jpg?s=128&g=1", "display_name": "Advice-Dog", "link": "https://stackoverflow.com/users/3106174/advice-dog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1710, "favorite_count": 0, "accepted_answer_id": 47061018, "answer_count": 1, "score": 2, "last_activity_date": 1509559276, "creation_date": 1509557930, "last_edit_date": 1509558516, "question_id": 47060652, "link": "https://stackoverflow.com/questions/47060652/android-kotlin-crash-on-start-4-1-2-exceptionininitializererror", "title": "Android/Kotlin Crash on Start 4.1.2 - ExceptionInInitializerError", "body": "<p>I'm using <code>Kotlin</code> within my app; however, when testing on lower API devices, it crashes on start.</p>\n\n<p>Even attaching a debugger to the <code>onCreate</code> for the Splash <code>Activity</code>, it still crashes before any breakpoint.</p>\n\n<p>I was able to get a callstack once, but I can't get any other callstacks.</p>\n\n<p><code>Caused by: java.lang.NoClassDefFoundError: kotlin.jvm.internal.Intrinsics</code></p>\n\n<pre><code>\u2554\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\u2551 Thread: main\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\ufffd\ufffd\ufffd\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u2551 AppCompatDelegateImplBase$1.uncaughtException  (AppCompatDelegateImplBase.java:66)\n\u2551    App$1.uncaughtException  (App.java:59)\n\u255f\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\n\u2551 java.lang.ExceptionInInitializerError\n\u2551   at com.my_company.app.ui.shared.BaseActivity.onStart(BaseActivity.kt:164)\n\u2551   at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1163)\n\u2551   at android.app.Activity.performStart(Activity.java:5018)\n\u2551   at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2032)\n\u2551   at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2084)\n\u2551   at android.app.ActivityThread.access$600(ActivityThread.java:130)\n\u2551   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1195)\n\u2551   at android.os.Handler.dispatchMessage(Handler.java:99)\n\u2551   at android.os.Looper.loop(Looper.java:137)\n\u2551   at android.app.ActivityThread.main(ActivityThread.java:4745)\n\u2551   at java.lang.reflect.Method.invokeNative(Native Method)\n\u2551   at java.lang.reflect.Method.invoke(Method.java:511)\n\u2551   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:786)\n\u2551   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)\n\u2551   at dalvik.system.NativeStart.main(Native Method)\n\u2551 Caused by: java.lang.NoClassDefFoundError: kotlin.jvm.internal.Intrinsics\n\u2551   at com.my_company.app.notification.NotificationType.&lt;init&gt;(NotificationType.kt)\n\u2551   at com.my_company.app.notification.NotificationType.&lt;clinit&gt;(NotificationType.kt:10)\n\u2551   ... 15 more\n\u255a\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n</code></pre>\n\n<p>Which points at:\n<code>val intentFilter = IntentFilter(NotificationType.INVITE_RECEIVED)</code></p>\n\n<p>which is an extension function that allows me pass my NotificationType enum into the IntentFilter.</p>\n\n<pre><code>enum class NotificationType(private val str: String) {\n\n    // Orders\n    ORDER_HOST_PAID(\"ORDER_HOST_PAID\"),\n    ...\n}\n</code></pre>\n\n<p>I don't know what would cause this issue, as I use <code>Kotlin</code> in another app without this issue. Could it a gradle issue?</p>\n\n<p>I'm using <code>ext.kotlin_version = '1.2.0-beta-88'</code></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1509553941, "post_id": 47059483, "comment_id": 81066375, "body": "<code>try-catch</code> works pretty much the same way as it does in Java. You can see it in the docs about exceptions <a href=\"https://kotlinlang.org/docs/reference/exceptions.html\" rel=\"nofollow noreferrer\">here</a>."}, {"owner": {"reputation": 1359, "user_id": 7670489, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0134f1b1831164ab62ebd1b64ed01606?s=128&d=identicon&r=PG&f=1", "display_name": "VolodymyrH", "link": "https://stackoverflow.com/users/7670489/volodymyrh"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1509554118, "post_id": 47059483, "comment_id": 81066477, "body": "@zsmb13 So it&#39;s like I can handle &quot;checked&quot; exceptions, just don&#39;t write throws in method signature? And it&#39;s ok to write like that? If so, pls write it as answer and I will close this question."}, {"owner": {"reputation": 111, "user_id": 6700830, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TmRHUaNDjGI/AAAAAAAAAAI/AAAAAAAABpg/WUC4cyxANRI/photo.jpg?sz=128", "display_name": "CodesInTheDark", "link": "https://stackoverflow.com/users/6700830/codesinthedark"}, "edited": false, "score": 1, "creation_date": 1530820767, "post_id": 47059483, "comment_id": 89379690, "body": "return Try&lt;Int&gt; so that client can call isSuccess or isFailure <a href=\"http://www.java-allandsundry.com/2017/12/kotlin-try-type-for-functional.html\" rel=\"nofollow noreferrer\">java-allandsundry.com/2017/12/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 10, "last_activity_date": 1509554634, "creation_date": 1509554634, "answer_id": 47059690, "question_id": 47059483, "link": "https://stackoverflow.com/questions/47059483/how-to-handle-exceptions-in-kotlin/47059690#47059690", "title": "How to handle exceptions in Kotlin?", "body": "<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ArithmeticException.html\" rel=\"noreferrer\"><code>ArithmeticException</code></a> is a runtime exception, so it would be unchecked in Java as well. Your choices for handling it are the same as in Java too:</p>\n\n<ul>\n<li>Ignore it and get a crash at runtime</li>\n<li>Wrap it with a <code>try-catch</code> block. You catch it anywhere up the stack from where it happens, you don't need any <code>throws</code> declarations.</li>\n</ul>\n\n<p>Since there are no checked exceptions in Kotlin, there isn't a <code>throws</code> keyword either, but if you're mixing Kotlin and Java, and you want to force exception handling of checked exceptions in your Java code, you can annotate your method with a <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-throws/index.html\" rel=\"noreferrer\"><code>@Throws</code></a> annotation.</p>\n\n<p>See the official Kotlin docs about exceptions <a href=\"https://kotlinlang.org/docs/reference/exceptions.html\" rel=\"noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 6, "last_activity_date": 1509561255, "creation_date": 1509561255, "answer_id": 47061485, "question_id": 47059483, "link": "https://stackoverflow.com/questions/47059483/how-to-handle-exceptions-in-kotlin/47061485#47061485", "title": "How to handle exceptions in Kotlin?", "body": "<p>As a plus since try-catach in kotlin can return values your code could look like this:</p>\n\n<pre><code>fun test(a: Int, b: Int) : Int {\n    return try {a / b} catch(ex:Exception){ 0 /*Or any other default value*/ }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 386, "user_id": 8816819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b1c0ab7d389604aace65d97e69f6f09?s=128&d=identicon&r=PG&f=1", "display_name": "Jacky Choi", "link": "https://stackoverflow.com/users/8816819/jacky-choi"}, "is_accepted": false, "score": 15, "last_activity_date": 1509587955, "creation_date": 1509587955, "answer_id": 47066404, "question_id": 47059483, "link": "https://stackoverflow.com/questions/47059483/how-to-handle-exceptions-in-kotlin/47066404#47066404", "title": "How to handle exceptions in Kotlin?", "body": "<p>You may write an extension function to return a default value when encounting exception.</p>\n\n<pre><code>fun &lt;T&gt; tryOrDefault(defaultValue: T, f: () -&gt; T): T {\n    return try {\n        f()\n    } catch (e: Exception) {\n        defaultValue\n    }\n}\n\nfun test(a: Int, b: Int) : Int = tryOrDefault(0) {\n    a / b\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 111, "user_id": 6700830, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TmRHUaNDjGI/AAAAAAAAAAI/AAAAAAAABpg/WUC4cyxANRI/photo.jpg?sz=128", "display_name": "CodesInTheDark", "link": "https://stackoverflow.com/users/6700830/codesinthedark"}, "is_accepted": false, "score": 2, "last_activity_date": 1530821039, "creation_date": 1530821039, "answer_id": 51199059, "question_id": 47059483, "link": "https://stackoverflow.com/questions/47059483/how-to-handle-exceptions-in-kotlin/51199059#51199059", "title": "How to handle exceptions in Kotlin?", "body": "<p>You can return Try so that client can call isSuccess or isFailure\n<a href=\"http://www.java-allandsundry.com/2017/12/kotlin-try-type-for-functional.html\" rel=\"nofollow noreferrer\">http://www.java-allandsundry.com/2017/12/kotlin-try-type-for-functional.html</a></p>\n\n<p>You can also return Int? so that client will know that the value might not exist (when divided by zero).</p>\n"}], "owner": {"reputation": 1359, "user_id": 7670489, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/0134f1b1831164ab62ebd1b64ed01606?s=128&d=identicon&r=PG&f=1", "display_name": "VolodymyrH", "link": "https://stackoverflow.com/users/7670489/volodymyrh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16097, "favorite_count": 3, "accepted_answer_id": 47059690, "answer_count": 4, "score": 11, "last_activity_date": 1572875558, "creation_date": 1509553872, "last_edit_date": 1572875558, "question_id": 47059483, "link": "https://stackoverflow.com/questions/47059483/how-to-handle-exceptions-in-kotlin", "title": "How to handle exceptions in Kotlin?", "body": "<p>I started to learn Kotlin and I can't understand how to handle exceptions. I know there's no checked ones, but anyway, what should I do if my method throws one? For example:</p>\n\n<pre><code>fun test(a: Int, b: Int) : Int {\n    return a / b\n}\n</code></pre>\n\n<p>If I divide by zero, I will have ArithmeticException. So how should I handle such things?</p>\n"}, {"tags": ["java", "android", "kotlin", "realm", "rx-android"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8868770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26476c8e434a7841cd605775efa165d6?s=128&d=identicon&r=PG&f=1", "display_name": "user8868770", "link": "https://stackoverflow.com/users/8868770/user8868770"}, "edited": false, "score": 0, "creation_date": 1509601560, "post_id": 47061426, "comment_id": 81084640, "body": "Thanks for the answer. I am not sure I want to use LinkingObject for now."}], "tags": [], "owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "is_accepted": false, "score": 0, "last_activity_date": 1509561006, "creation_date": 1509561006, "answer_id": 47061426, "question_id": 47058330, "link": "https://stackoverflow.com/questions/47058330/how-to-get-flowablelistfoo-from-bar-object-with-one-to-many-relations-foo/47061426#47061426", "title": "How to get Flowable&lt;List&lt;Foo&gt;&gt; from &#39;Bar&#39; Object with One-to-many relations &#39;Foo&#39; using realm and Rxjava", "body": "<pre><code>open class Cat : RealmObject() {\n    var name: String? = null\n\n    @LinkingObjects(\"cats\")\n    val owners : RealmResults&lt;Person&gt;? = null;\n}\n\nRealmResults&lt;Cat&gt; ownedCats = realm.where(Cat::class.java)\n                                   .isNotEmpty(\"owners\")\n                                   .findAllAsync()...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8868770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26476c8e434a7841cd605775efa165d6?s=128&d=identicon&r=PG&f=1", "display_name": "user8868770", "link": "https://stackoverflow.com/users/8868770/user8868770"}, "is_accepted": false, "score": 0, "last_activity_date": 1509600905, "creation_date": 1509600905, "answer_id": 47068256, "question_id": 47058330, "link": "https://stackoverflow.com/questions/47058330/how-to-get-flowablelistfoo-from-bar-object-with-one-to-many-relations-foo/47068256#47068256", "title": "How to get Flowable&lt;List&lt;Foo&gt;&gt; from &#39;Bar&#39; Object with One-to-many relations &#39;Foo&#39; using realm and Rxjava", "body": "<p>I think I got it which I think the answer for me. I think I have to use map first, then flatMap to flatten as a list and collect and sort these back. Here is a simple program with debug output to show how I get the <code>Flowable&lt;List&lt;Cat&gt;&gt;</code>.  </p>\n\n<pre><code>    mRealm.executeTransaction {\n        val person = mRealm.createObject(Person::class.java, 1)\n        person.name = \"John\"\n\n        val firstCat = mRealm.createObject(Cat::class.java)\n        firstCat.name = \"Kitty\"\n        person.cats.add(firstCat)\n\n        val secondCat = mRealm.createObject(Cat::class.java)\n        secondCat.name = \"Ashes\"\n        person.cats.add(secondCat)\n    }\n\n    mRealm.executeTransaction {\n        val person = mRealm.createObject(Person::class.java, 2)\n        person.name = \"Bob\"\n\n        val firstCat = mRealm.createObject(Cat::class.java)\n        firstCat.name = \"Daisy\"\n        person.cats.add(firstCat)\n\n        val secondCat = mRealm.createObject(Cat::class.java)\n        secondCat.name = \"Missy\"\n        person.cats.add(secondCat)\n    }\n\n    val flowableListOfCat: Flowable&lt;List&lt;Cat&gt;&gt; = mRealm.where(Person::class.java)\n            .findAllAsync().asFlowable()\n            .filter { person -&gt; person.isLoaded }\n            .map { p -&gt; p.flatMap { a -&gt; a.cats }.sortedBy { c -&gt; c.name } }\n\n    flowableListOfCat\n            .observeOn(AndroidSchedulers.mainThread())\n            .subscribe { catList -&gt; catList.forEach { cat -&gt; Log.d(\"Cat\", \"\" + cat.name) } }\n</code></pre>\n\n<p>At debug output,\n<code>\nD/Cat: Ashes\nD/Cat: Daisy\nD/Cat: Kitty\nD/Cat: Missy\n</code></p>\n"}], "owner": {"reputation": 1, "user_id": 8868770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26476c8e434a7841cd605775efa165d6?s=128&d=identicon&r=PG&f=1", "display_name": "user8868770", "link": "https://stackoverflow.com/users/8868770/user8868770"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 475, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1509600905, "creation_date": 1509550207, "last_edit_date": 1509560609, "question_id": 47058330, "link": "https://stackoverflow.com/questions/47058330/how-to-get-flowablelistfoo-from-bar-object-with-one-to-many-relations-foo", "title": "How to get Flowable&lt;List&lt;Foo&gt;&gt; from &#39;Bar&#39; Object with One-to-many relations &#39;Foo&#39; using realm and Rxjava", "body": "<p>Let say I have model class like this. <a href=\"https://github.com/realm/realm-java/blob/master/examples/kotlinExample/src/main/kotlin/io/realm/examples/kotlin/model/Person.kt\" rel=\"nofollow noreferrer\">I copy from here.</a></p>\n\n<pre><code>open class Person(\n        @PrimaryKey var id: Long = 0,\n        var name: String = \"\",\n        var age: Int = 0,\n        var dog: Dog? = null,\n        var cats: RealmList&lt;Cat&gt; = RealmList(),\n\n) : RealmObject() {\n\n}\n</code></pre>\n\n<p>There are many people and each person has one or more cats.</p>\n\n<p>My question is how to I get <code>Flowable&lt;List&lt;Cat&gt;&gt;</code> or similar (every cats that people own). From this flowable list, I want to list every cats (sorted by name) and display with RecyclerView.Adapter. Please help me how to achieve the cat list. Thank you.</p>\n\n<p>So far I can only get <code>Flowable&lt;Cat&gt;</code> by using like the following.</p>\n\n<pre><code>mRealm.where(Person::class.java)\n                .findAllAsync().asFlowable()\n                .filter { p -&gt; p.isLoaded }\n                .flatMap { p -&gt; Flowable.fromIterable(p).flatMap { b -&gt; Flowable.fromIterable(b.cats) } \n</code></pre>\n"}, {"tags": ["java", "list", "interface", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 629, "user_id": 4268119, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e54da3990a7516667cd8690f940cdf4?s=128&d=identicon&r=PG&f=1", "display_name": "Yao", "link": "https://stackoverflow.com/users/4268119/yao"}, "edited": false, "score": 0, "creation_date": 1509578477, "post_id": 47058878, "comment_id": 81078550, "body": "Thank you, the answer is comprehensive, correct and with references."}], "tags": [], "owner": {"reputation": 110088, "user_id": 2196460, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/mAcQx.png?s=128&g=1", "display_name": "hotkey", "link": "https://stackoverflow.com/users/2196460/hotkey"}, "is_accepted": true, "score": 4, "last_activity_date": 1509573537, "last_edit_date": 1509573537, "creation_date": 1509551833, "answer_id": 47058878, "question_id": 47058206, "link": "https://stackoverflow.com/questions/47058206/the-relationship-between-shared-interface-in-java-and-kotlin-ex-list/47058878#47058878", "title": "The relationship between shared Interface in Java and Kotlin (ex: List&lt;&gt;)", "body": "<p>On the JVM platform, the Kotlin interface <code>kotlin.collections.List</code> is <strong>mapped</strong> to Java interface <code>java.util.List</code>, and so is <code>kotlin.collections.MutableList</code>.</p>\n\n<p>It means that the usages of these Kotlin interfaces are compiled to usages of the Java <code>List</code> interface in the bytecode. On the other hand, the Java <code>List</code> interface usages in the signatures read from the libraries are seen as <code>kotlin.collections.(Mutable)List</code>.</p>\n\n<p>There are more mapped types: <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#mapped-types\" rel=\"nofollow noreferrer\">see the reference</a>.</p>\n\n<p>This allows for calling Kotlin from Java and vice versa in a seamless way while still representing the Java types as <code>kotlin.*</code> classes in Kotlin, which, for example, saves us from primitives and arrays not being classes, and introduces <a href=\"https://stackoverflow.com/a/34770659/2196460\">immutability through interfaces</a>.</p>\n"}], "owner": {"reputation": 629, "user_id": 4268119, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/4e54da3990a7516667cd8690f940cdf4?s=128&d=identicon&r=PG&f=1", "display_name": "Yao", "link": "https://stackoverflow.com/users/4268119/yao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 47058878, "answer_count": 1, "score": 1, "last_activity_date": 1509573537, "creation_date": 1509549737, "question_id": 47058206, "link": "https://stackoverflow.com/questions/47058206/the-relationship-between-shared-interface-in-java-and-kotlin-ex-list", "title": "The relationship between shared Interface in Java and Kotlin (ex: List&lt;&gt;)", "body": "<p>The question came up when I took a closer look at kotlin .map inline function. Here's its definition</p>\n\n<pre><code>public inline fun &lt;T, R&gt; Iterable&lt;T&gt;.map(transform: (T) -&gt; R): List&lt;R&gt;{\nreturn mapTo(ArrayList&lt;R&gt;(collectionSizeOrDefault(10)), transform)}\n</code></pre>\n\n<p>In the function definition, it should return a List, which is defined in Collection.kt. However, it is returning an ArrayList, which implements a List interface in Java (List.java)</p>\n\n<p>What is the relationship between Java interface and Kotlin interface ? I imagine there would be more similar examples, maybe Set, or Map?</p>\n"}, {"tags": ["android", "kotlin", "retrofit2", "okhttp3"], "comments": [{"owner": {"reputation": 6571, "user_id": 244702, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/22b3a019954e1e8a25f303a5ed555340?s=128&d=identicon&r=PG", "display_name": "Kevin Robatel", "link": "https://stackoverflow.com/users/244702/kevin-robatel"}, "edited": false, "score": 1, "creation_date": 1509546931, "post_id": 47057164, "comment_id": 81061734, "body": "Try to throw IOException maybe"}, {"owner": {"reputation": 822, "user_id": 5304620, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zxB3k.jpg?s=128&g=1", "display_name": "Amir Raza", "link": "https://stackoverflow.com/users/5304620/amir-raza"}, "edited": false, "score": 0, "creation_date": 1609102657, "post_id": 47057164, "comment_id": 115748934, "body": "May be this can help you &gt; <a href=\"https://stackoverflow.com/questions/58697459/handle-exceptions-thrown-by-a-custom-okhttp-interceptor-in-kotlin-coroutines/65469952#65469952\" title=\"handle exceptions thrown by a custom okhttp interceptor in kotlin coroutines\">stackoverflow.com/questions/58697459/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 31, "last_activity_date": 1592313071, "last_edit_date": 1592313071, "creation_date": 1509550995, "answer_id": 47058587, "question_id": 47057164, "link": "https://stackoverflow.com/questions/47057164/retrofit-crashes-when-i-throw-an-exception-in-an-interceptor/47058587#47058587", "title": "Retrofit crashes when I throw an exception in an interceptor", "body": "<p>OkHttp will only catch the exception that happens in the <code>Interceptor</code> if it's an <code>IOException</code>. You can see the code that does this <a href=\"https://github.com/square/okhttp/blob/b086b8d1835bcb3825d60ceb44bec7dec356405b/okhttp/src/main/kotlin/okhttp3/internal/connection/RealCall.kt\" rel=\"nofollow noreferrer\">here</a>, the relevant parts (simplified) are as below:</p>\n\n<pre><code>try {\n  Response response = getResponseWithInterceptorChain();\n} catch (IOException e) {\n  responseCallback.onFailure(RealCall.this, e);\n}\n</code></pre>\n\n<p>So if you change your code to the following, you'll get a callback in your <code>onFailure</code> method as expected:</p>\n\n<pre><code>val client = OkHttpClient.Builder()\n     // Add interceptor that throws\n     .addInterceptor { chain -&gt;\n         throw IOException(\"test\")\n     }\n     .build()\n</code></pre>\n"}], "owner": {"reputation": 271, "user_id": 7042561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b021f81863ee0241e8e4084a19dfa596?s=128&d=identicon&r=PG&f=1", "display_name": "Djangow", "link": "https://stackoverflow.com/users/7042561/djangow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5266, "favorite_count": 2, "accepted_answer_id": 47058587, "answer_count": 1, "score": 21, "last_activity_date": 1592313071, "creation_date": 1509546406, "question_id": 47057164, "link": "https://stackoverflow.com/questions/47057164/retrofit-crashes-when-i-throw-an-exception-in-an-interceptor", "title": "Retrofit crashes when I throw an exception in an interceptor", "body": "<p>I have an interceptor that handles some authentication things. If the authentication fails it throws and Exception. According to what I could find throwing an exception should result in onFailure getting called where I handle the exception. Unfortunatly this does not happen and the app simply crashes completely. I am sure I must be missing something but I cant seem to figure it out. Hope someone here can help :)</p>\n\n<p>Code and stack trace below:</p>\n\n<pre><code>val client = OkHttpClient.Builder()\n     // Add interceptor that throws\n     .addInterceptor { chain -&gt;\n         throw Exception(\"test\")\n     }\n     .build()\n\nretrofit = Retrofit.Builder()\n                .baseUrl(baseURL)\n                .client(client)\n                .build()\n\napi = retrofit.create(ApiInterface::class.java)\n\n\n// Create api call...\n\napicall.enqueue(object : Callback&lt;T&gt; {\n    override fun onResponse(call: Call&lt;T&gt;?, response: retrofit2.Response&lt;T&gt;?) {\n        // ....\n    }\n\n    override fun onFailure(call: Call&lt;T&gt;?, t: Throwable?) {\n        // Expect to go here to handle the Exception. But the app crashes\n    }\n})\n</code></pre>\n\n<p>Stack trace:</p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: OkHttp Dispatcher\n                  Process: com.testapp.test.debug, PID: 28891\n                  java.lang.Error: java.lang.Exception: test\n                      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1168)\n                      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\n                      at java.lang.Thread.run(Thread.java:764)\n                   Caused by: java.lang.Exception: test\n                      at com.testapp.test.data.networking.RetrofitWebApi$client$1.intercept(RetrofitWebApi.kt:90)\n                      at com.testapp.test.data.networking.RetrofitWebApi$client$1.intercept(RetrofitWebApi.kt:76)\n                      at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:92)\n                      at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.java:67)\n                      at okhttp3.RealCall.getResponseWithInterceptorChain(RealCall.java:185)\n                      at okhttp3.RealCall$AsyncCall.execute(RealCall.java:135)\n                      at okhttp3.internal.NamedRunnable.run(NamedRunnable.java:32)\n                      at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1162)\n                      at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:636)\u00a0\n                      at java.lang.Thread.run(Thread.java:764)\u00a0\n</code></pre>\n"}, {"tags": ["android", "kotlin", "dagger-2", "android-architecture-components"], "comments": [{"owner": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1509612441, "post_id": 47055985, "comment_id": 81089969, "body": "AndroidInjection.inject() creates a new component for each new activity instance. This is specifically why I do not use it."}, {"owner": {"reputation": 206, "user_id": 6691720, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b1ea147a27ad42e946a319003e94114f?s=128&d=identicon&r=PG&f=1", "display_name": "anddev", "link": "https://stackoverflow.com/users/6691720/anddev"}, "reply_to_user": {"reputation": 70518, "user_id": 2413303, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/kLhXq.jpg?s=128&g=1", "display_name": "EpicPandaForce", "link": "https://stackoverflow.com/users/2413303/epicpandaforce"}, "edited": false, "score": 0, "creation_date": 1509702684, "post_id": 47055985, "comment_id": 81134999, "body": "There is not a problem, becouse ViewModel are provided by static factory method:  ViewModelProviders.of(listActivity, factory).get(ListViewModel::class.java)"}, {"owner": {"reputation": 1686, "user_id": 3825913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/C7CcV.png?s=128&g=1", "display_name": "Ismael Di Vita", "link": "https://stackoverflow.com/users/3825913/ismael-di-vita"}, "edited": false, "score": 0, "creation_date": 1509802453, "post_id": 47055985, "comment_id": 81172523, "body": "I faced the same issue, for unknown reason creating a viewmodel in a module using <code>dagger-android-support</code> leads to <code>ViewModelStores</code> fails"}, {"owner": {"reputation": 206, "user_id": 6691720, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b1ea147a27ad42e946a319003e94114f?s=128&d=identicon&r=PG&f=1", "display_name": "anddev", "link": "https://stackoverflow.com/users/6691720/anddev"}, "reply_to_user": {"reputation": 1686, "user_id": 3825913, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/C7CcV.png?s=128&g=1", "display_name": "Ismael Di Vita", "link": "https://stackoverflow.com/users/3825913/ismael-di-vita"}, "edited": false, "score": 0, "creation_date": 1509896886, "post_id": 47055985, "comment_id": 81196823, "body": "@IsmaelDiVita did you find any solution or issue where it is described in detail?"}], "answers": [{"comments": [{"owner": {"reputation": 206, "user_id": 6691720, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b1ea147a27ad42e946a319003e94114f?s=128&d=identicon&r=PG&f=1", "display_name": "anddev", "link": "https://stackoverflow.com/users/6691720/anddev"}, "edited": false, "score": 0, "creation_date": 1510143321, "post_id": 47162401, "comment_id": 81307712, "body": "Thanks for your answer, it is correct. I known your solution but I was trying to provide ViewModel by Dagger to avoid boilerplate code in onCreate() method."}], "tags": [], "owner": {"reputation": 295, "user_id": 1538992, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38ba99e0e0be941ec7f092e8876fbcbf?s=128&d=identicon&r=PG", "display_name": "mcassiano", "link": "https://stackoverflow.com/users/1538992/mcassiano"}, "is_accepted": false, "score": 0, "last_activity_date": 1510071343, "last_edit_date": 1510071343, "creation_date": 1510070725, "answer_id": 47162401, "question_id": 47055985, "link": "https://stackoverflow.com/questions/47055985/new-architecture-with-dagger-and-kotlin/47162401#47162401", "title": "New Architecture with Dagger and Kotlin", "body": "<p>The way I do this is by only providing the <code>ViewModelFactory</code> using Dagger. Then it gets injected in the activity and you call <code>ViewModelProviders.of(listActivity, factory).get(ListViewModel::class.java)</code> from there. The reason your approach doesn't work is that <code>AndroidInjection.inject()</code> will create the ViewModel before onCreate, which leads to undefined behavior.</p>\n\n<p>Also see: <a href=\"https://github.com/googlesamples/android-architecture-components/issues/202\" rel=\"nofollow noreferrer\">https://github.com/googlesamples/android-architecture-components/issues/202</a></p>\n"}, {"tags": [], "owner": {"reputation": 4295, "user_id": 5125212, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/meon0.png?s=128&g=1", "display_name": "Damia Fuentes", "link": "https://stackoverflow.com/users/5125212/damia-fuentes"}, "is_accepted": false, "score": 0, "last_activity_date": 1511291551, "creation_date": 1511291551, "answer_id": 47420914, "question_id": 47055985, "link": "https://stackoverflow.com/questions/47055985/new-architecture-with-dagger-and-kotlin/47420914#47420914", "title": "New Architecture with Dagger and Kotlin", "body": "<p>I don't use <code>AndroidInjection.inject()</code> because it creates a new Dagger component. I create an Dagger Component in the Application class and I use that component instance to call inject in all other places of the app. This way your singletons are initialized only one time.  </p>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 2477412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DPS13.jpg?s=128&g=1", "display_name": "John Michael Pirie", "link": "https://stackoverflow.com/users/2477412/john-michael-pirie"}, "is_accepted": false, "score": 1, "last_activity_date": 1519750053, "creation_date": 1519750053, "answer_id": 49013815, "question_id": 47055985, "link": "https://stackoverflow.com/questions/47055985/new-architecture-with-dagger-and-kotlin/49013815#49013815", "title": "New Architecture with Dagger and Kotlin", "body": "<p>The issue has to do with the order of dagger injection and activity creation.  The view model implementation relies on a non-visual fragment for identity.  By injecting the viewModelProvider before the activity has completed onCreate it is unable to complete this association.</p>\n\n<p>Since <code>super.onCreate</code> does not likely depend on things you are injecting try injecting after the call to <code>super.onCreate</code> and you should be fine.</p>\n\n<p>I had this exact same issue and solved it by this change in order.</p>\n\n<p>Specifically from your code instead of:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    AndroidInjection.inject(this)\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_list)\n</code></pre>\n\n<p>go with:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    AndroidInjection.inject(this)\n    setContentView(R.layout.activity_list)\n</code></pre>\n\n<p>JP</p>\n"}], "owner": {"reputation": 206, "user_id": 6691720, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b1ea147a27ad42e946a319003e94114f?s=128&d=identicon&r=PG&f=1", "display_name": "anddev", "link": "https://stackoverflow.com/users/6691720/anddev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 457, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1519750053, "creation_date": 1509542876, "question_id": 47055985, "link": "https://stackoverflow.com/questions/47055985/new-architecture-with-dagger-and-kotlin", "title": "New Architecture with Dagger and Kotlin", "body": "<p>I have a problem with New Architecture components in Kotlin, when I create ViewModel component in recomended way (in onCreate() method) the result is as suposed:</p>\n\n<ul>\n<li>after activity orientation changes, I got the same instance of ViewModel as before</li>\n</ul>\n\n<p>Here is the way i create this</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    AndroidInjection.inject(this)\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_list)\n\n    val arrayMap = ArrayMap&lt;Class&lt;out ViewModel&gt;, ViewModel&gt;()\n    arrayMap.put(ListViewModel::class.java, ListViewModel(webApi, repoDao))\n    val factory = ViewModelFactory(arrayMap)\n    listViewModel = ViewModelProviders.of(this, factory).get(ListViewModel::class.java)\n\n    listViewModel.items.observe({ this.lifecycle }) {\n        Toast.makeText(this, it?.joinToString { it + \" \" } ?: \"null\", Toast.LENGTH_SHORT).show()\n    }\n</code></pre>\n\n<p>But when I have used Dagger for inject ListViewModel I got new instance of ListViewModel every time Activity was recreated. Here is a code of Dagger ListActivityModel.</p>\n\n<pre><code>@Module @ListActivityScopeclass ListActivityModule {\n@Provides\n@ListActivityScope\nfun provideListViewModel(webApi: WebApi, repoDao: RepoDao, listActivity: ListActivity): ListViewModel {\n    val arrayMap = ArrayMap&lt;Class&lt;out ViewModel&gt;, ViewModel&gt;()\n    arrayMap.put(ListViewModel::class.java, ListViewModel(webApi, repoDao))\n    val factory = ViewModelFactory(arrayMap)\n    val result =  ViewModelProviders.of(listActivity, factory).get(ListViewModel::class.java)\n    return result\n}\n</code></pre>\n\n<p>}\nThen ListActivity onCreate() method looks like:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    AndroidInjection.inject(this)\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_list)\n    listViewModel.items.observe({ this.lifecycle }) {\n        Toast.makeText(this, it?.joinToString { it + \" \" } ?: \"null\", Toast.LENGTH_SHORT).show()\n    }\n}\n</code></pre>\n\n<p>And there is what I have notice after logging:</p>\n\n<pre><code>D/ListActivity: ---&gt; onCreate() ListActivity: = [com.example.dom.app.new_arch.ListActivity@a0f2778]\nD/ListActivity: ---&gt; onCreate() listViewModel: = [com.example.dom.app.new_arch.ListViewModel@54a8e51]\n\n//Activity orientation changes\n\nE/ViewModelStores: Failed to save a ViewModel for com.example.dom.app.new_arch.ListActivity@a0f2778\nD/ListActivity: ---&gt; onCreate() ListActivity: = [com.example.dom.app.new_arch.ListActivity@6813433]\nD/ListActivity: ---&gt; onCreate() listViewModel: = [com.example.dom.app.new_arch.ListViewModel@55cf3f0]\n</code></pre>\n\n<p>The error I have received : </p>\n\n<blockquote>\n  <p>ViewModelStores: Failed to save a ViewModel for</p>\n</blockquote>\n\n<p>comes from Android class HolderFragment with package android.arch.lifecycle.</p>\n\n<p>There is something what I missed working with Dagger and new arch components?</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 4, "creation_date": 1509548801, "post_id": 47055804, "comment_id": 81062969, "body": "Just as a sidenote: When you do <code>funA().await() + funB().await()</code> you are actually running <code>funA()</code> and <code>funB()</code> sequentially. If you want to run them in parallel, you should do <code>val a = funA()</code>, and <code>val b = funB()</code>, and then do <code>a.await() + b.await()</code>."}, {"owner": {"reputation": 482, "user_id": 2064906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f973ed22deafd48758a53e838ea68539?s=128&d=identicon&r=PG", "display_name": "Sharad", "link": "https://stackoverflow.com/users/2064906/sharad"}, "edited": false, "score": 1, "creation_date": 1584061279, "post_id": 47055804, "comment_id": 107328390, "body": "This is really good suggestions. I am new to kotlin, may I know how it makes difference when we use a.await() rather than funA().await(). How come using variable both functions start processing in parallel."}, {"owner": {"reputation": 2760, "user_id": 3593896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yJpxY.jpg?s=128&g=1", "display_name": "Webber", "link": "https://stackoverflow.com/users/3593896/webber"}, "reply_to_user": {"reputation": 482, "user_id": 2064906, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f973ed22deafd48758a53e838ea68539?s=128&d=identicon&r=PG", "display_name": "Sharad", "link": "https://stackoverflow.com/users/2064906/sharad"}, "edited": false, "score": 1, "creation_date": 1594463312, "post_id": 47055804, "comment_id": 111138854, "body": "@Sharad This is because await yields execution (temporarily stops the function) until the promise resolves. If you call two coroutines first, both with start before you reach <code>await</code>. The value of these two variables will be an unresolved promise, which is why you need the await."}, {"owner": {"reputation": 2054, "user_id": 7487335, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/32244f1bdffe72c55bc128e9aa1e7a47?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Correia", "link": "https://stackoverflow.com/users/7487335/josh-correia"}, "edited": false, "score": 0, "creation_date": 1596488940, "post_id": 47055804, "comment_id": 111822312, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/44414272/returning-a-value-produced-in-kotlin-coroutine\">Returning a value produced in Kotlin coroutine</a>"}, {"owner": {"reputation": 5596, "user_id": 7365866, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iNhGH.png?s=128&g=1", "display_name": "Ben Butterworth", "link": "https://stackoverflow.com/users/7365866/ben-butterworth"}, "edited": false, "score": 0, "creation_date": 1612261767, "post_id": 47055804, "comment_id": 116705414, "body": "Can you explain why you want sum to be a non-suspending function? The callers of <code>sum</code> should call it inside a coroutine <b>instead</b> of turning asynchronous code into synchronous, which defeats the purpose of coroutines. You would have to block the caller of <code>fun sum</code>. If your caller is synchronous, then I would think this is the problem, and your question is searching for a band aid for the symptom, not the cause."}], "answers": [{"comments": [{"owner": {"reputation": 1063, "user_id": 9188790, "user_type": "registered", "profile_image": "https://graph.facebook.com/1960869044240152/picture?type=large", "display_name": "Angelina", "link": "https://stackoverflow.com/users/9188790/angelina"}, "edited": false, "score": 7, "creation_date": 1543505411, "post_id": 47057309, "comment_id": 93951672, "body": "is there a way to do the same without Blocking the main thread?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 1063, "user_id": 9188790, "user_type": "registered", "profile_image": "https://graph.facebook.com/1960869044240152/picture?type=large", "display_name": "Angelina", "link": "https://stackoverflow.com/users/9188790/angelina"}, "edited": false, "score": 7, "creation_date": 1543511240, "post_id": 47057309, "comment_id": 93955017, "body": "@Angelina 1. This blocks the thread calling this function, which may or may not be the main thread. 2. The only way to do this without blocking the calling thread is making the fun <code>suspend</code>. See the second link for more."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 42, "last_activity_date": 1594463090, "last_edit_date": 1594463090, "creation_date": 1509546906, "answer_id": 47057309, "question_id": 47055804, "link": "https://stackoverflow.com/questions/47055804/kotlin-coroutines-with-returning-value/47057309#47057309", "title": "Kotlin Coroutines with returning value", "body": "<p>To return exactly <code>Int</code>, you need to get out of the coroutine world and that's what <code>runBlocking</code> is for:</p>\n<pre><code>fun sum(): Int = runBlocking {\n    funA().await() + funB().await()\n}\n</code></pre>\n<p>See <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/docs/basics.md#bridging-blocking-and-non-blocking-worlds\" rel=\"noreferrer\">Bridging blocking and non-blocking worlds</a> in the coroutine guide, and <a href=\"https://github.com/Kotlin/kotlinx.coroutines/blob/master/docs/composing-suspending-functions.md#composing-suspending-functions\" rel=\"noreferrer\">Composing suspending functions</a> for how to do it if you want to use <code>sum</code> <em>inside</em> coroutines.</p>\n"}, {"tags": [], "owner": {"reputation": 149, "user_id": 8269668, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ee99d9374d42c6bffcb4cb72f38e438?s=128&d=identicon&r=PG&f=1", "display_name": "Aleksei Mulin", "link": "https://stackoverflow.com/users/8269668/aleksei-mulin"}, "is_accepted": false, "score": 6, "last_activity_date": 1540558030, "creation_date": 1540558030, "answer_id": 53009093, "question_id": 47055804, "link": "https://stackoverflow.com/questions/47055804/kotlin-coroutines-with-returning-value/53009093#53009093", "title": "Kotlin Coroutines with returning value", "body": "<p>It may be late to answer this question but hopefully someone will find it useful. The code snippet below calculates sum of 3 values A + B + C. Each value is calculated independently in its own background thread in parallel and then all interim results consolidated into one final result and returned to the main thread to display it on a screen.</p>\n\n<p>So it takes 5 seconds to calculate the final value (not 10 seconds = 2 + 3 + 5) and the result is 6 obviously and it's non-blocking, the main thread can handle other events while sum() execution is not complete.</p>\n\n<pre><code>suspend fun sum(scheduler: ThreadPoolExecutor): Int = coroutineScope {\n\n    withContext(scheduler.asCoroutineDispatcher()) {\n        val a = async { funA() }\n        val b = async { funB() }\n        val c = async { funC() }\n\n        a.await() + b.await() + c.await()\n    }\n}\n\nfun funA(): Int {\n    Thread.sleep(2000L)\n    return 1\n}\n\nfun funB(): Int {\n    Thread.sleep(3000L)\n    return 2\n}\n\nfun funC(): Int {\n    Thread.sleep(5000L)\n    return 3\n}\n\nclass MainActivity : AppCompatActivity(), View.OnClickListener {\n    private val tripletsPool = ThreadPoolExecutor(3, 3, 5L, TimeUnit.SECONDS, LinkedBlockingQueue())\n\n   ...\n\n    override fun onClick(view: View?) {\n        if (view == null) {\n            return\n        }\n\n        when (view.id) {\n            R.id.calculate -&gt; {\n                GlobalScope.launch(Dispatchers.Main, CoroutineStart.DEFAULT) {\n                    progressBar.visibility = View.VISIBLE\n                    result.setText(\"${sum(tripletsPool)}\")\n                    progressBar.visibility = View.GONE\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7311, "user_id": 1462282, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/5wvoe.jpg?s=128&g=1", "display_name": "Sahil Chhabra", "link": "https://stackoverflow.com/users/1462282/sahil-chhabra"}, "is_accepted": false, "score": 8, "last_activity_date": 1542986010, "creation_date": 1542986010, "answer_id": 53449114, "question_id": 47055804, "link": "https://stackoverflow.com/questions/47055804/kotlin-coroutines-with-returning-value/53449114#53449114", "title": "Kotlin Coroutines with returning value", "body": "<p>Adding another way of achieving it. </p>\n\n<pre><code>fun sum(): Int {\n    var sum: Int = 0\n    runBlocking {\n        val jobA = async { funA() }\n        val jobB = async { funB() }\n        runBlocking{\n           sum = jobA.await() + jobB.await()\n        }\n    }\n    return sum\n}\n\nsuspend fun funA(): Int {\n    return 1\n}\n\nsuspend fun funB(): Int {\n    return 2\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6407, "user_id": 1250929, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/89099b220ea58bae3f99779f7a8e33c9?s=128&d=identicon&r=PG", "display_name": "Kristy Welsh", "link": "https://stackoverflow.com/users/1250929/kristy-welsh"}, "is_accepted": false, "score": 1, "last_activity_date": 1563187433, "creation_date": 1563187433, "answer_id": 57038068, "question_id": 47055804, "link": "https://stackoverflow.com/questions/47055804/kotlin-coroutines-with-returning-value/57038068#57038068", "title": "Kotlin Coroutines with returning value", "body": "<p>Here is the way I did it, to return a Boolean value when trying to delete a phone number from my Room database.  You can use the same pattern for what you are trying to accomplish.   In my view model:</p>\n\n<pre><code>private var parentJob = Job()\nprivate val coroutineContext: CoroutineContext get() = parentJob + Dispatchers.Main\nprivate val scope = CoroutineScope(coroutineContext)\n\nsuspend fun removePhoneNumber(emailSets: EmailSets, personDetails: PersonDetails) : Boolean  {\n    var successReturn = false\n    scope.async(Dispatchers.IO) {\n        val success = async {removePhoneNumbersAsync(emailSets,personDetails)}\n        successReturn = success.await()\n\n    }\n    return successReturn\n}\n\nfun removePhoneNumbersAsync(emailSets: EmailSets, personDetails : PersonDetails):Boolean {\n    var success = false\n    try {\n        val emailAddressContact = EmailAddressContact(emailSets.databaseId, personDetails.id, personDetails.active)\n        repository.deleteEmailAddressContact(emailAddressContact)\n        val contact = Contact(personDetails.id, personDetails.personName, personDetails.personPhoneNumber, 0)  \n        repository.deleteContact(contact)\n        success = true\n    } catch (exception: Exception) {\n        Timber.e(exception)\n    }\n    return success\n}\n</code></pre>\n\n<p>In my Activity: </p>\n\n<pre><code>runBlocking {\n    if (v.tag != null) {\n            val personDetails = v.tag as PersonDetails\n            val success  = viewModel.removePhoneNumber(emailSets,personDetails)\n            if (success) {\n                val parentView = v.parent as View\n                (parentView as? TableRow)?.visibility = View.GONE\n                val parentViewTable = parentView.parent as ViewGroup\n                (parentViewTable as? TableLayout)\n                parentViewTable.removeView(parentView)\n            }\n     }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7347, "user_id": 172274, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/886b1c9637f9742ff1074d6605a6df7e?s=128&d=identicon&r=PG", "display_name": "still_dreaming_1", "link": "https://stackoverflow.com/users/172274/still-dreaming-1"}, "edited": false, "score": 1, "creation_date": 1582546325, "post_id": 57630225, "comment_id": 106802570, "body": "Could you add the type sum() is returning and the type of resultSum? That is the part that is confusing me. It looks like sum() is already launching a coroutine and returning it as a promise. So why is main() launching another coroutine just to call sum()? Could&#39;t it just call sum() without putting it inside an async (since it&#39;s returning an async) and then still call result.await()?"}, {"owner": {"reputation": 546, "user_id": 10030693, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZIG43NDeCwE/AAAAAAAAAAI/AAAAAAAAAVc/QImMCtmMqy8/photo.jpg?sz=128", "display_name": "Gilboot", "link": "https://stackoverflow.com/users/10030693/gilboot"}, "edited": false, "score": 0, "creation_date": 1617598757, "post_id": 57630225, "comment_id": 118340068, "body": "How come <code>.await()</code> is not available on my suspend function?"}], "tags": [], "owner": {"reputation": 718, "user_id": 10264426, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HXa5fRsKE3I/AAAAAAAAAAI/AAAAAAAAAQM/zKGGc5rv0G4/photo.jpg?sz=128", "display_name": "Cevin Ways", "link": "https://stackoverflow.com/users/10264426/cevin-ways"}, "is_accepted": false, "score": 5, "last_activity_date": 1566578620, "creation_date": 1566578620, "answer_id": 57630225, "question_id": 47055804, "link": "https://stackoverflow.com/questions/47055804/kotlin-coroutines-with-returning-value/57630225#57630225", "title": "Kotlin Coroutines with returning value", "body": "<p>I edit your work, i change the funA and funB into a suspend function and i created a function for sum operator and i call on main function, this the example :</p>\n\n<pre><code>suspend fun funA(): Int{\n    return 1\n}\n\nsuspend fun funB(): Int {\n    return 2\n}\nfun sum() = runBlocking{\n    val resultSum = async { funA.await() + funB.await() }\n    return resultSum\n}\n\nfun main() = runBlocking{\n    val result = async { sum() }\n    println(\"Your result: ${result.await()}\")\n}\n</code></pre>\n\n<p>Hope it will help</p>\n"}, {"tags": [], "owner": {"reputation": 500, "user_id": 8072092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f2bc7fb2189d2e46ef36458a00c5977?s=128&d=identicon&r=PG&f=1", "display_name": "Joonsoo", "link": "https://stackoverflow.com/users/8072092/joonsoo"}, "is_accepted": false, "score": 3, "last_activity_date": 1607584899, "creation_date": 1607584899, "answer_id": 65230079, "question_id": 47055804, "link": "https://stackoverflow.com/questions/47055804/kotlin-coroutines-with-returning-value/65230079#65230079", "title": "Kotlin Coroutines with returning value", "body": "<p>Here's another way to run <code>funA()</code> and <code>funB()</code> in parallel without using <code>runBlocking</code>.</p>\n<pre><code>fun funA() = CoroutineScope(Dispatchers.IO).async {\n    delay(3000)\n    return@async 1\n}\n\nfun funB() = CoroutineScope(Dispatchers.IO).async {\n    delay(3000)\n    return@async 2\n}\n\nfun sum() = CoroutineScope(Dispatchers.IO).async {\n    val a = funA()\n    val b = funB()\n    return@async a.await() + b.await()\n}\n</code></pre>\n<p>And if you want to run <code>sum()</code> without blocking the main thread,</p>\n<pre><code>CoroutineScope(Dispatchers.IO).launch {\n    measureTimeMillis {\n        Log.d(&quot;TAG&quot;, &quot;sum=${sum().await()}&quot;)\n    }.also {\n        Log.d(&quot;TAG&quot;, &quot;Completed in $it ms&quot;)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 8470, "user_id": 682763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/cc4ab410936026ce1b033d77cfca419e?s=128&d=identicon&r=PG", "display_name": "Expert wanna be", "link": "https://stackoverflow.com/users/682763/expert-wanna-be"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46325, "favorite_count": 2, "accepted_answer_id": 47057309, "answer_count": 6, "score": 35, "last_activity_date": 1607584899, "creation_date": 1509542341, "last_edit_date": 1542986069, "question_id": 47055804, "link": "https://stackoverflow.com/questions/47055804/kotlin-coroutines-with-returning-value", "title": "Kotlin Coroutines with returning value", "body": "<p>I want to create a coroutine method which has returning value.</p>\n\n<p>For example)</p>\n\n<pre><code>fun funA() = async(CommonPool) {\n    return 1\n}\n\nfun funB() = async(CommonPool) {\n    return 2\n}\n\nfun sum() {\n    launch {\n        val total = funA().await() + funB().await()\n    }\n}\n</code></pre>\n\n<p>If I want to return total in sum method, how should I do?</p>\n\n<p>like,</p>\n\n<pre><code>fun sum(): Int {\n    launch {\n        val total = funA().await() + funB().await()\n    }   \n\n    return total\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1509542538, "post_id": 47055300, "comment_id": 81058685, "body": "Seems like <code>fun compressBitMap</code> should be changed to <code>suspend fun compressBitMap</code>."}], "answers": [{"tags": [], "owner": {"reputation": 2805, "user_id": 7117454, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oaWD5.png?s=128&g=1", "display_name": "Raymond Arteaga", "link": "https://stackoverflow.com/users/7117454/raymond-arteaga"}, "is_accepted": false, "score": 0, "last_activity_date": 1528261091, "creation_date": 1528261091, "answer_id": 50712520, "question_id": 47055300, "link": "https://stackoverflow.com/questions/47055300/kotlin-coroutines-usage-in-android/50712520#50712520", "title": "Kotlin Coroutines usage in Android", "body": "<p>Coroutines are executed in \"CoroutineContexts\", you appear to be using an older version of the libs, in newer versions you should always specify the context by using launch(UI) or launch(CommonPool). I don't know by default which context is your \"launch\" using, but I guess is UI.\nIf that's correct, you are in deed waiting in the UI thread for the compressBitMap completion, blocking the UI thread (A pointless coroutine use)</p>\n\n<p>Try to use launch(CommonPool) instead and see if the magic happens.</p>\n"}], "owner": {"reputation": 8470, "user_id": 682763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/cc4ab410936026ce1b033d77cfca419e?s=128&d=identicon&r=PG", "display_name": "Expert wanna be", "link": "https://stackoverflow.com/users/682763/expert-wanna-be"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 708, "favorite_count": 2, "answer_count": 1, "score": 4, "last_activity_date": 1528261091, "creation_date": 1509540646, "last_edit_date": 1509541013, "question_id": 47055300, "link": "https://stackoverflow.com/questions/47055300/kotlin-coroutines-usage-in-android", "title": "Kotlin Coroutines usage in Android", "body": "<p>I'm trying to use Kotlin Coroutines for better performance.</p>\n\n<p>But I'm not sure is it the correct way to use it, so I'd like to have experts review.</p>\n\n<p>After taking a photo with camera, the screen is the blackout for half second while the image processing I guess.</p>\n\n<p>The original code was,</p>\n\n<pre><code>fun uploadPhoto(data: Intent): Observable&lt;Response&gt; {\n    val bitmap = data.extras.get(\"data\") as Bitmap\n    val bytes = ByteArrayOutputStream()\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, bytes)\n\n    val baseDir = Environment.getExternalStorageDirectory()\n    val file = File(baseDir, Calendar.getInstance().timeInMillis.toString() + \".jpg\")\n    val fileOutputStream = FileOutputStream(file)\n    fileOutputStream.write(bytes.toByteArray())\n    fileOutputStream.close()\n\n\n    return uploadMedia(file)\n}\n</code></pre>\n\n<p>and after I read this tutorial, <a href=\"https://kotlinlang.org/docs/tutorials/coroutines-basic-jvm.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/tutorials/coroutines-basic-jvm.html</a></p>\n\n<p>I changed it to,</p>\n\n<pre><code>fun uploadPhoto(data: Intent): Observable&lt;Response&gt; {\n    val baseDir = Environment.getExternalStorageDirectory()\n    val file = File(baseDir, Calendar.getInstance().timeInMillis.toString() + \".jpg\")\n\n    launch {\n        val bitmap = data.extras.get(\"data\") as Bitmap\n        val bytes = compressBitMap(bitmap).await()\n        val fileOutputStream = FileOutputStream(file)\n        fileOutputStream.write(bytes.toByteArray())\n        fileOutputStream.close()\n    }\n\n    return uploadMedia(file)\n}\n\nprivate fun compressBitMap(bitmap: Bitmap) = async(CommonPool) {\n    val bytes = ByteArrayOutputStream()\n    bitmap.compress(Bitmap.CompressFormat.JPEG, 100, bytes)\n    return@async bytes\n}\n</code></pre>\n\n<p>But I don't see any difference. </p>\n\n<p>What I want to do thing is, I want to run Compressing Bitmap and fileOutputStream jobs in Background to prevent bothering MainThread.</p>\n\n<p>Does it make the better performance?</p>\n"}, {"tags": ["android", "kotlin", "android-custom-view", "touch-event"], "comments": [{"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1509533625, "post_id": 47052769, "comment_id": 81053272, "body": "No, I have implemented <code>computeScroll()</code>. Does <code>computeScroll()</code> get called regardless of if <code>onTouchEvent()</code> is called? I will edit the question to show my <code>computeScroll()</code> implementation now."}, {"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1509533975, "post_id": 47052769, "comment_id": 81053473, "body": "Thankyou pskink - reviewing now"}, {"owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1509534286, "post_id": 47052769, "comment_id": 81053636, "body": "Nah I always just look at source."}, {"owner": {"reputation": 2261, "user_id": 4672107, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/jWMdh.jpg?s=128&g=1", "display_name": "Carson Holzheimer", "link": "https://stackoverflow.com/users/4672107/carson-holzheimer"}, "edited": false, "score": 0, "creation_date": 1509974356, "post_id": 47052769, "comment_id": 81224920, "body": "do you need <code>getParent().requestDisallowInterceptTouchEvent(true)</code> somewhere?"}], "owner": {"reputation": 2771, "user_id": 5963279, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/10207102799463401/picture?type=large", "display_name": "Thomas Cook", "link": "https://stackoverflow.com/users/5963279/thomas-cook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1509537303, "creation_date": 1509532207, "last_edit_date": 1509537303, "question_id": 47052769, "link": "https://stackoverflow.com/questions/47052769/intercepting-touch-event-and-re-directing-it-depending-on-motion-event-state", "title": "Intercepting touch event and re-directing it depending on motion event state", "body": "<p>I've created a custom view in Android that inherits from RelativeLayout. Inside this view is an OverScroller which is used to handle scrolling of the view when a touch event occurs:</p>\n\n<pre><code>class MyCustomView(context: Context, attrs: AttributeSet?, defStyleAttr: Int) : RelativeLayout(context, attrs, defStyleAttr) {\n    constructor(context: Context) : this(context, null, 0)\n    constructor(context: Context, attrs: AttributeSet) : this(context, attrs, 0)\n    private val scroller = OverScroller(context, FastOutLinearInInterpolator())\n    private var currentY = 0\n    private val gestureDetector = GestureDetectorCompat(context, object : GestureDetector.SimpleOnGestureListener() {\n        override fun onDown(event: MotionEvent?): Boolean {\n            // Stop the current scroll animation\n            scroller.forceFinished(true)\n            // Invalidate the view\n            ViewCompat.postInvalidateOnAnimation(this@MyCustomView)\n            return true\n        }\n\n        override fun onScroll(event1: MotionEvent?, event2: MotionEvent?, distanceX: Float, distanceY: Float): Boolean {\n            scroller.forceFinished(true)\n            currentY -= distanceY.toInt()\n            ViewCompat.postInvalidateOnAnimation(this@MyCustomView)\n            return true\n        }\n\n        override fun onFling(e1: MotionEvent?, e2: MotionEvent?, velocityX: Float, velocityY: Float): Boolean {\n            // Stop any scrolling\n            scroller.forceFinished(true)\n            scroller.fling(0, currentY, 0, velocityY.toInt(), 0, 0,\n                    -5000 + height, 0)\n            // Invalidate the view\n            ViewCompat.postInvalidateOnAnimation(this@MyCustomView)\n            return true\n        }\n    })\n\n    @SuppressLint(\"ClickableViewAccessibility\")\n    override fun onTouchEvent(event: MotionEvent?): Boolean {\n        if (event == null) return false\n        // Return the value from the gesture detector\n        return gestureDetector.onTouchEvent(event)\n    }\n\n    override fun onDraw(canvas: Canvas?) {\n        super.onDraw(canvas)\n        // Draw stuff to canvas, using currentY as origin\n    }\n\n    override fun computeScroll() {\n        // Call to super class method\n        super.computeScroll()\n        if (scroller.computeScrollOffset()) {\n            currentY = scroller.currY\n        }\n        // Invalidate the view\n        ViewCompat.postInvalidateOnAnimation(this@MyCustomView)\n    }\n}\n</code></pre>\n\n<p>This works fine. Next, I added a <code>RelativeLayout</code> view group to hold a load of inflated cells. These cells are clickable. Now, when I try to initiate a scroll with the first touch on one of these inflated cells, the cell swallows the click event (the parent view with the scroller never get's it's <code>onTouchEvent</code> called and therefore doesn't scroll).</p>\n\n<p>Important to note: The <code>RelativeLayout</code> view group which holds the cells is a <code>child</code> view of <code>MyCustomView</code>.</p>\n\n<p>I've tried overriding <code>onInterceptTouchEvent</code> in <code>MyCustomView</code> in order to intercept the touch event before it is dispatched to either view like so:</p>\n\n<pre><code>override fun onInterceptTouchEvent(event: MotionEvent?): Boolean {\n    if (event == null) return false\n    if (event.action == MotionEvent.ACTION_UP) {\n        if (event.historySize &gt; 0) {\n            val startY = event.getHistoricalY(0)\n            val endY = event.getHistoricalY(event.historySize - 1)\n            val distance = Math.abs(endY - startY).toInt()\n            if (distance == 0) {\n                // Consider this a click (so don't swallow it\n                return false\n            }\n        }\n    }\n\n    // Ok this isn't a click, so call this views onTouchEvent\n    return this.onTouchEvent(event)\n}\n</code></pre>\n\n<p>I then determine if the touch event's action code is <code>ACTION_UP</code>, if it is I calculate the total distance between <code>ACTION_DOWN</code> and <code>ACTION_UP</code> and, if it's in a small enough range, I treat it as a click and call <code>super.onInterceptTouchEvent(event)</code> (which will click an inflated cell if the event was on a cell, else it will end up calling my <code>onTouchEvent</code> which will handle scrolling. If the event's action code was not <code>ACTION_UP</code> OR the distance moved was not small enough, it will return <code>this.onTouchEvent(event)</code>.</p>\n\n<p>The problem I'm having is that my solution isn't working, scrolling still cannot be initiated when starting the scroll on top of an inflated cell.</p>\n\n<p>Does anyone know what I'm missing?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4041, "user_id": 495800, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d9cb7002c3b604c61f75e5434ae63306?s=128&d=identicon&r=PG", "display_name": "joecks", "link": "https://stackoverflow.com/users/495800/joecks"}, "edited": false, "score": 0, "creation_date": 1509530218, "post_id": 47052164, "comment_id": 81051269, "body": "Are you missing the reflect library?"}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "reply_to_user": {"reputation": 4041, "user_id": 495800, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/d9cb7002c3b604c61f75e5434ae63306?s=128&d=identicon&r=PG", "display_name": "joecks", "link": "https://stackoverflow.com/users/495800/joecks"}, "edited": false, "score": 0, "creation_date": 1509530411, "post_id": 47052164, "comment_id": 81051371, "body": "I had this one   compile group: &#39;org.jetbrains.kotlin&#39;, name: &#39;kotlin-reflect&#39;, version: &#39;1.2.0-beta-31&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 0, "creation_date": 1509613828, "post_id": 47061801, "comment_id": 81090791, "body": "I have already tried online examples and it worked, I tried for String. Also in my android project I copied and pasted it for String type example but I had the same problem"}, {"owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "edited": false, "score": 0, "creation_date": 1509613995, "post_id": 47061801, "comment_id": 81090878, "body": "also I missed variable name in my question, instead of instance should be k, I have updated code snippet"}], "tags": [], "owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "is_accepted": false, "score": 0, "last_activity_date": 1509562598, "creation_date": 1509562598, "answer_id": 47061801, "question_id": 47052164, "link": "https://stackoverflow.com/questions/47052164/unresolved-reference-unresolved-reference-isinitialized/47061801#47061801", "title": "UNRESOLVED_REFERENCE Unresolved reference: isInitialized", "body": "<p>Is your code valid Kotlin code?\nI tried the following and it seemed to work as expected.</p>\n\n<pre><code>data class SomeObjectType(val value: String) \n\nlateinit var k: SomeObjectType\n\nfun instance(): SomeObjectType {\n    if (::k.isInitialized) {\n        return k \n    } else {\n        return SomeObjectType(\"k was not initialized\")\n    }\n}\n\nfun main(args: Array&lt;String&gt;) {\n    println(\"inst = ${instance()}\")\n    k = SomeObjectType(\"was initialized\")\n    println(\"inst = ${instance()}\")\n}\n</code></pre>\n\n<p>producing :</p>\n\n<pre><code>inst = SomeObjectType(value=k was not initialized)\ninst = SomeObjectType(value=was initialized)\n</code></pre>\n\n<p>When I tried what you have above: (with the added <code>class SomeObjectType()</code></p>\n\n<pre><code>class SomeObjectType()\nlateinit var k: SomeObjectType\nfun instance(): SomeObjectType {\n    if (::k.isInitialized) {\n        instance = SomeObjectType()\n    }\n    return instance\n}\n</code></pre>\n\n<p>it complains about the <code>instance = SomeObjectType()</code> line and the <code>return instance</code> line, which I think makes sense to me. Line 5 being the <code>instance = SomeObjectType()</code> and line 7 being the <code>return instance</code> line.</p>\n\n<pre><code>Error:(5, 8) Function invocation 'instance()' expected\nError:(5, 8) Variable expected\nError:(7, 11) Function invocation 'instance()' expected\n</code></pre>\n\n<p>Here are the links to the online examples.\n<a href=\"https://try.kotlinlang.org/#/UserProjects/7j4veo27s4s8taonktb9isj7db/seh4mii53ubhq583gakg13tokq\" rel=\"nofollow noreferrer\">working example</a>,  <a href=\"https://try.kotlinlang.org/#/UserProjects/dtnhn2c1trjeilji66pkkro2u9/2dtbjng6usiav9c5evl1bptl5t\" rel=\"nofollow noreferrer\">broken example</a></p>\n"}, {"comments": [{"owner": {"reputation": 1586, "user_id": 453083, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/89e6202b8fb0dbcebaf9535e3f37c48d?s=128&d=identicon&r=PG", "display_name": "Neal Sanche", "link": "https://stackoverflow.com/users/453083/neal-sanche"}, "edited": false, "score": 0, "creation_date": 1511888460, "post_id": 47105843, "comment_id": 82030869, "body": "I&#39;m just trying out the final Kotlin 1.2 and 1.2.0 Android Studio 3.0 plugin, and am still seeing the <code>isInitialized</code> as red in my code in the IDE, with tooltip: <code>Unresolved reference: isInitialized</code>. The code, however, compiles and runs as expected. Attempts to display Kotlin bytecode fails with a NullPointerException on that line."}, {"owner": {"reputation": 6781, "user_id": 660982, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/giQX8.png?s=128&g=1", "display_name": "jpihl", "link": "https://stackoverflow.com/users/660982/jpihl"}, "edited": false, "score": 0, "creation_date": 1515506740, "post_id": 47105843, "comment_id": 83319121, "body": "I was also seeing <code>Unresolved reference: isInitialized</code> after trying this, but that was because I was missing this in my <code>build.gradle</code>: <code>implementation &quot;org.jetbrains.kotlin:kotlin-reflect:1.2.10&quot;</code>"}], "tags": [], "owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "is_accepted": true, "score": 4, "last_activity_date": 1509908669, "last_edit_date": 1509908669, "creation_date": 1509752547, "answer_id": 47105843, "question_id": 47052164, "link": "https://stackoverflow.com/questions/47052164/unresolved-reference-unresolved-reference-isinitialized/47105843#47105843", "title": "UNRESOLVED_REFERENCE Unresolved reference: isInitialized", "body": "<p>This is a bug as reported <a href=\"https://youtrack.jetbrains.com/issue/KT-20774#tab=Linked%20Issues\" rel=\"nofollow noreferrer\">here</a> and is released in <a href=\"https://github.com/JetBrains/kotlin/releases/tag/v1.2-rc1\" rel=\"nofollow noreferrer\">v1.2-rc-1</a></p>\n\n<p><strong>Update:</strong> Kotlin 1.2 RC appears to be available as '1.2.0-rc-39', so if you update your plugin and use this version, your issue should be resolved.</p>\n\n<p>As a workaround until you install rc-1, prefixing the variable with <code>this::</code> works as can be shown in this project.</p>\n\n<pre><code>package com.example.john.so2\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\n\ndata class SomeObjectType(val value: String)\nlateinit var k: SomeObjectType\n\nclass MainActivity : AppCompatActivity() {\n\n    lateinit var k: SomeObjectType\n\n    fun instance(): SomeObjectType {\n\n        if (this::k.isInitialized) {\n            return k\n        } else {\n            return SomeObjectType(\"k was not initialized\")\n        }\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        println(\"instance = ${instance()}\")\n        k = SomeObjectType(\"k was initialized\")\n        println(\"instance = ${instance()}\")\n    }\n\n\n}\n</code></pre>\n\n<p>which yields:</p>\n\n<pre><code>11-03 19:31:14.496 31982-31982/com.example.john.so2 I/System.out: instance = SomeObjectType(value=k was not initialized)\n11-03 19:31:14.496 31982-31982/com.example.john.so2 I/System.out: instance = SomeObjectType(value=k was initialized)\n</code></pre>\n\n<p>BTW, I left my original answer as it highlights the fact that the correct syntax works in \"try-online\"</p>\n"}, {"comments": [{"owner": {"reputation": 878, "user_id": 494179, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/286fba55568889a32c0f08d7ca8736ad?s=128&d=identicon&r=PG", "display_name": "saltandpepper", "link": "https://stackoverflow.com/users/494179/saltandpepper"}, "edited": false, "score": 0, "creation_date": 1521036915, "post_id": 48921701, "comment_id": 85562691, "body": "This did not solve it for me. I have:  ext.kotlin_version = &#39;1.2.21&#39; and compile &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:$kotlin_version&quot;, but &quot;isInitialized&quot; appears in red."}], "tags": [], "owner": {"reputation": 13421, "user_id": 2298241, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/kWH39.jpg?s=128&g=1", "display_name": "Ivo Stoyanov", "link": "https://stackoverflow.com/users/2298241/ivo-stoyanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1519284152, "creation_date": 1519284152, "answer_id": 48921701, "question_id": 47052164, "link": "https://stackoverflow.com/questions/47052164/unresolved-reference-unresolved-reference-isinitialized/48921701#48921701", "title": "UNRESOLVED_REFERENCE Unresolved reference: isInitialized", "body": "<p>If <code>isInitialized</code> appears in red, check that you have upgraded your Kotlin version to >1.2</p>\n\n<p>Check both in your Project and Module Gradle files:</p>\n\n<ol>\n<li><p>In your Project Gradle check the row:</p>\n\n<p>ext.kotlin_version = \"1.2.21\"</p></li>\n<li><p>In your Module Gradle check the row:</p>\n\n<p>compile 'org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.2.21'</p></li>\n</ol>\n\n<p>Despite the other comments, in my case it was NOT necessary to add the reflection library:</p>\n\n<pre><code>\"org.jetbrains.kotlin:kotlin-reflect:$kotlinVersion\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2813, "user_id": 3600738, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/vXuZd.png?s=128&g=1", "display_name": "harsh_v", "link": "https://stackoverflow.com/users/3600738/harsh-v"}, "is_accepted": false, "score": 0, "last_activity_date": 1521627636, "creation_date": 1521627636, "answer_id": 49403680, "question_id": 47052164, "link": "https://stackoverflow.com/questions/47052164/unresolved-reference-unresolved-reference-isinitialized/49403680#49403680", "title": "UNRESOLVED_REFERENCE Unresolved reference: isInitialized", "body": "<blockquote>\n  <p>Project_level.gradle</p>\n</blockquote>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.2.30'\n\n    ...\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.1'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    ...\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>App_level.gradle</p>\n</blockquote>\n\n<pre><code>dependencies {\n    ...\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version\"\n    ...\n}\n</code></pre>\n\n<blockquote>\n  <p>Usage</p>\n</blockquote>\n\n<pre><code>class Foo() {\n\n    lateinit var theVariable: String\n\n    // this is required to access isInitialized\n    fun foo() {\n        this::theVariable.isInitialized\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1545, "user_id": 9061224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mzACU.jpg?s=128&g=1", "display_name": "MarGin", "link": "https://stackoverflow.com/users/9061224/margin"}, "is_accepted": false, "score": 1, "last_activity_date": 1578479852, "creation_date": 1578479852, "answer_id": 59644027, "question_id": 47052164, "link": "https://stackoverflow.com/questions/47052164/unresolved-reference-unresolved-reference-isinitialized/59644027#59644027", "title": "UNRESOLVED_REFERENCE Unresolved reference: isInitialized", "body": "<p>isInitialized is not working for local lateinit var but it is working fine for global ones.</p>\n"}], "owner": {"reputation": 4143, "user_id": 6882303, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ynTch.jpg?s=128&g=1", "display_name": "Jemo Mgebrishvili", "link": "https://stackoverflow.com/users/6882303/jemo-mgebrishvili"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3333, "favorite_count": 0, "accepted_answer_id": 47105843, "answer_count": 5, "score": 7, "last_activity_date": 1578479852, "creation_date": 1509530089, "last_edit_date": 1509613940, "question_id": 47052164, "link": "https://stackoverflow.com/questions/47052164/unresolved-reference-unresolved-reference-isinitialized", "title": "UNRESOLVED_REFERENCE Unresolved reference: isInitialized", "body": "<p>I'm trying to use Kotlin's new feature of checking lateinit property status, but got this compile time error <code>Unresolved reference: isInitialized</code></p>\n\n<p>I have configure my build.gradle file with kotlin version of <code>kotlin_version = '1.2.0-beta-31'\n</code>  (android studio version is 3.0)\nand also updated kotlin plugin with same version.\nthis is my code snippet, where I'm using <code>isInitialized</code> check.</p>\n\n<p>also had a reflect library included</p>\n\n<pre><code>compile group: 'org.jetbrains.kotlin', name: 'kotlin-reflect', version: '1.2.0-beta-31'\n</code></pre>\n\n<p>.</p>\n\n<pre><code>lateinit var k: SomeObjectType\nfun instance(): SomeObjectType {\n    if (::k.isInitialized) {\n        k = SomeObjectType()\n    }\n    return k\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 2334, "user_id": 3734172, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-11BdfkCrM24/AAAAAAAAAAI/AAAAAAAAACA/eD3PtIY7Imw/photo.jpg?sz=128", "display_name": "Iulian Popescu", "link": "https://stackoverflow.com/users/3734172/iulian-popescu"}, "edited": false, "score": 0, "creation_date": 1509528780, "post_id": 47051714, "comment_id": 81050479, "body": "As the message says, you are doing too much work on the MainThread which main purpose is to draw the UI, receive callbacks and handle user inputs. Any other expensive work should be moved to a background thread and since you are doing recursion, you definitely should use a background thread for this. Check the AsyncTask for an alternative."}], "answers": [{"comments": [{"owner": {"reputation": 363, "user_id": 4669892, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/--1vbamf063E/AAAAAAAAAAI/AAAAAAAAA1U/zNU8fLIbn9s/photo.jpg?sz=128", "display_name": "Andrei Paciurca", "link": "https://stackoverflow.com/users/4669892/andrei-paciurca"}, "edited": false, "score": 0, "creation_date": 1509529282, "post_id": 47051807, "comment_id": 81050774, "body": "Smth like:   fun do_calc(n: BigInteger) = runBlocking(CommonPool) {         val result = async {              tail_recursion_factorial(n)         }         result.await()     }  Would help?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "reply_to_user": {"reputation": 363, "user_id": 4669892, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/--1vbamf063E/AAAAAAAAAAI/AAAAAAAAA1U/zNU8fLIbn9s/photo.jpg?sz=128", "display_name": "Andrei Paciurca", "link": "https://stackoverflow.com/users/4669892/andrei-paciurca"}, "edited": false, "score": 0, "creation_date": 1509529685, "post_id": 47051807, "comment_id": 81050990, "body": "@AndreiPaciurca like your code states: it&#39;s blocking. You have to make sure to run it really asynchronously."}], "tags": [], "owner": {"reputation": 67098, "user_id": 1235698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/90fd9ad4efef8eb93209f42183c48f3e?s=128&d=identicon&r=PG", "display_name": "Marcin Orlowski", "link": "https://stackoverflow.com/users/1235698/marcin-orlowski"}, "is_accepted": false, "score": 0, "last_activity_date": 1509531406, "last_edit_date": 1509531406, "creation_date": 1509528669, "answer_id": 47051807, "question_id": 47051714, "link": "https://stackoverflow.com/questions/47051714/how-do-deal-with-large-numbe-in-android-kotlin-apps/47051807#47051807", "title": "How do deal with large numbe in Android Kotlin Apps?", "body": "<p>Your code runs on UI <a href=\"https://developer.android.com/guide/components/processes-and-threads.html\" rel=\"nofollow noreferrer\">thread</a> and there are time limits your code can spend running on that thred w/o returning back to the system. Your code exceed that limits and as result your app is considered stalled and get killed by the system because with Application Not Responding dialog. To prevent this, you must move your calculations to separate thread, ie. by using <a href=\"https://github.com/Kotlin/kotlinx.coroutines\" rel=\"nofollow noreferrer\">Kotlin's coroutines</a> or <a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\">AsyncTask</a> or so. </p>\n\n<p>In general you need to read <a href=\"https://developer.android.com/training/articles/perf-anr.html\" rel=\"nofollow noreferrer\">Keeping Your App Responsive</a> and related docs chapters. </p>\n"}, {"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": false, "score": 0, "last_activity_date": 1509528813, "creation_date": 1509528813, "answer_id": 47051850, "question_id": 47051714, "link": "https://stackoverflow.com/questions/47051714/how-do-deal-with-large-numbe-in-android-kotlin-apps/47051850#47051850", "title": "How do deal with large numbe in Android Kotlin Apps?", "body": "<p>You message might not be a the actual error, but states the reason clearly.</p>\n\n<p>The so-called UI-Thread is used to render the frames to the display. If you're doing heavy work on it, you'll block this rendering and your app halts.</p>\n\n<p>So instead of doing everything on the UI-Thread, you have to schedule the work on a different thread and communicate the UI updates back to the UI-Thread.</p>\n\n<p>There are different possible pattern to implement such.</p>\n\n<ul>\n<li><a href=\"https://developer.android.com/reference/android/os/AsyncTask.html\" rel=\"nofollow noreferrer\"><code>AsyncTask</code></a></li>\n<li><a href=\"https://developer.android.com/reference/android/os/HandlerThread.html\" rel=\"nofollow noreferrer\"><code>HandlerThread</code></a></li>\n<li><a href=\"https://github.com/Kotlin/kotlinx.coroutines\" rel=\"nofollow noreferrer\">Kotlin coroutines</a></li>\n<li><a href=\"https://github.com/ReactiveX/RxJava\" rel=\"nofollow noreferrer\"><code>RxJava</code></a></li>\n<li>\u2026</li>\n</ul>\n\n<p>Just have a look and try it yourself. You just need to be aware of only updating view properties on the UI-Thread. Otherwise you'll crash with a different reason again.</p>\n"}], "owner": {"reputation": 363, "user_id": 4669892, "user_type": "registered", "accept_rate": 82, "profile_image": "https://lh4.googleusercontent.com/--1vbamf063E/AAAAAAAAAAI/AAAAAAAAA1U/zNU8fLIbn9s/photo.jpg?sz=128", "display_name": "Andrei Paciurca", "link": "https://stackoverflow.com/users/4669892/andrei-paciurca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1509531406, "creation_date": 1509528390, "question_id": 47051714, "link": "https://stackoverflow.com/questions/47051714/how-do-deal-with-large-numbe-in-android-kotlin-apps", "title": "How do deal with large numbe in Android Kotlin Apps?", "body": "<p>I have a simple Android app that calculates the factorial of a number. The problem is that whenever I enter a number larger then 5 digits the app stops.</p>\n\n<p>Logcat:</p>\n\n<pre><code>Skipped 32 frames!  The application may be doing too much work on its main thread. Background concurrent copying GC freed 131318(3MB) AllocSpace objects, 0(0B) LOS objects, 49% free, 4MB/8MB, paused 80us total 194.279ms\n</code></pre>\n\n<p>Kotlin Code:</p>\n\n<pre><code>package com.example.paciu.factorial\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport kotlinx.android.synthetic.main.activity_main.*\nimport java.math.BigInteger\n\n\nclass MainActivity : AppCompatActivity() {\n\ntailrec fun tail_recursion_factorial(n: BigInteger, factorialOfN: BigInteger = BigInteger.valueOf(2)): BigInteger {\n    return when (n) {\n        BigInteger.ZERO -&gt; BigInteger.ONE\n        BigInteger.ONE -&gt; BigInteger.ONE\n        BigInteger.valueOf(2) -&gt; factorialOfN\n        else -&gt; {\n            tail_recursion_factorial(n.minus(BigInteger.ONE), n.times(factorialOfN))\n        }\n    }\n}\n\noverride fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(R.layout.activity_main)\n\n    btnFact.setOnClickListener {\n        var n = editText.text.toString()\n        try {\n            when {\n                BigInteger(n) &lt; BigInteger.ZERO -&gt; textView.text = \"Sorry bro! Can't do a factorial to a negative number.\"\n                BigInteger(n) &gt;= BigInteger.ZERO -&gt; {\n                    textView.text = \"$n! is ${tail_recursion_factorial(BigInteger(n))}\"\n                    System.gc()\n\n                }\n            }\n        } catch (e: NumberFormatException) {\n            textView.text = \"Sorry bro! Can't do that ...\"\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I'm new to this field, so can anyone help me understanding why this is happening?</p>\n"}, {"tags": ["android", "kotlin", "realm"], "comments": [{"owner": {"reputation": 763, "user_id": 5193608, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c3849643d56abdf4ceef820a2e733268?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Mangla", "link": "https://stackoverflow.com/users/5193608/animesh-mangla"}, "edited": false, "score": 1, "creation_date": 1509528896, "post_id": 47051432, "comment_id": 81050554, "body": "Simply , write  &quot;realm.copyToRealm(data)&quot;"}, {"owner": {"reputation": 31, "user_id": 6885286, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9RtpGRAxZco/AAAAAAAAAAI/AAAAAAAAACQ/rpFc5AEK4Gk/photo.jpg?sz=128", "display_name": "Neko Mimi", "link": "https://stackoverflow.com/users/6885286/neko-mimi"}, "reply_to_user": {"reputation": 763, "user_id": 5193608, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c3849643d56abdf4ceef820a2e733268?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Mangla", "link": "https://stackoverflow.com/users/5193608/animesh-mangla"}, "edited": false, "score": 0, "creation_date": 1509529669, "post_id": 47051432, "comment_id": 81050985, "body": "It work. Thank you guy."}, {"owner": {"reputation": 79, "user_id": 10784151, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IRF8ewUvTIE/AAAAAAAAAAI/AAAAAAAAABI/eQBIqHaMffU/photo.jpg?sz=128", "display_name": "TOUSIF AHAMMAD", "link": "https://stackoverflow.com/users/10784151/tousif-ahammad"}, "edited": false, "score": 0, "creation_date": 1608197516, "post_id": 47051432, "comment_id": 115511196, "body": "Here I insert a list of objects in Realm: <a href=\"https://stackoverflow.com/a/65336647/10784151\">stackoverflow.com/a/65336647/10784151</a>"}], "answers": [{"comments": [{"owner": {"reputation": 763, "user_id": 5193608, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c3849643d56abdf4ceef820a2e733268?s=128&d=identicon&r=PG&f=1", "display_name": "Animesh Mangla", "link": "https://stackoverflow.com/users/5193608/animesh-mangla"}, "edited": false, "score": 0, "creation_date": 1509530344, "post_id": 47052090, "comment_id": 81051334, "body": "Glad to help you :)"}], "tags": [], "owner": {"reputation": 31, "user_id": 6885286, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9RtpGRAxZco/AAAAAAAAAAI/AAAAAAAAACQ/rpFc5AEK4Gk/photo.jpg?sz=128", "display_name": "Neko Mimi", "link": "https://stackoverflow.com/users/6885286/neko-mimi"}, "is_accepted": true, "score": 2, "last_activity_date": 1509529841, "creation_date": 1509529841, "answer_id": 47052090, "question_id": 47051432, "link": "https://stackoverflow.com/questions/47051432/how-to-insert-object-realmlist-with-copytorealm/47052090#47052090", "title": "How to insert object RealmList with copyToRealm", "body": "<p>Finally I found solution. Thank mr.developer</p>\n\n<pre><code>realm.copyToRealmOrUpdate(data)\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 6885286, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9RtpGRAxZco/AAAAAAAAAAI/AAAAAAAAACQ/rpFc5AEK4Gk/photo.jpg?sz=128", "display_name": "Neko Mimi", "link": "https://stackoverflow.com/users/6885286/neko-mimi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 893, "favorite_count": 0, "accepted_answer_id": 47052090, "answer_count": 1, "score": 0, "last_activity_date": 1617722602, "creation_date": 1509527327, "question_id": 47051432, "link": "https://stackoverflow.com/questions/47051432/how-to-insert-object-realmlist-with-copytorealm", "title": "How to insert object RealmList with copyToRealm", "body": "<p>I try to insert realmList object to realm database</p>\n\n<p>Model Data Class</p>\n\n<pre><code>open class Data : RealmObject() {\n\n    @SerializedName(\"Settings\")\n    var settings: Settings? = null\n\n    @SerializedName(\"Item\")\n    var items: RealmList&lt;Items&gt;? = null\n\n}\n\n\nfun insert(data: Data) {\n        mRealm.executeTransactionAsync(\n                Realm.Transaction { realm -&gt;\n                    val mData = realm.createObject(Data::class.java)\n                    mData.settings = data.settings\n                },\n                Realm.Transaction.OnSuccess {\n                    Log.e(\"setting\", \"success\")\n                }\n        )\n}\n</code></pre>\n\n<p>but it's error value is not a valid managed object. Then I found solution from this link <a href=\"https://github.com/realm/realm-java/issues/5238\" rel=\"nofollow noreferrer\">https://github.com/realm/realm-java/issues/5238</a></p>\n\n<pre><code>fun insert(data: Data) {\n        mRealm.executeTransactionAsync(\n                Realm.Transaction { realm -&gt;\n                    val mData = realm.createObject(Data::class.java)\n                    mData.settings = realm.copyToRealm(data.settings)\n                },\n                Realm.Transaction.OnSuccess {\n                    Log.e(\"setting\", \"success\")\n                }\n        )\n}\n</code></pre>\n\n<p>When I try to insert RealmList in this solution is not work.\nPlease help thank a lot. </p>\n\n<pre><code>val mData = realm.createObject(Data::class.java)\nmData.settings = realm.copyToRealm(data.settings) //setting is common object\nmData.item = realm.copyToRealm(data.item)         //item is RealmList\n</code></pre>\n"}, {"tags": ["android", "android-studio", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1509525394, "post_id": 47050922, "comment_id": 81048784, "body": "Is the convert option greyed when you have a Java file open in the editor?"}, {"owner": {"reputation": 1309, "user_id": 898307, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/Sf992.jpg?s=128&g=1", "display_name": "Jim Clermonts", "link": "https://stackoverflow.com/users/898307/jim-clermonts"}, "reply_to_user": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 0, "creation_date": 1509526428, "post_id": 47050922, "comment_id": 81049264, "body": "I&#39;m sorry you&#39;re right, then it is not greyed out."}, {"owner": {"reputation": 533, "user_id": 4547079, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2177516dc64d27f1a28221f694364b61?s=128&d=identicon&r=PG&f=1", "display_name": "Ellisan", "link": "https://stackoverflow.com/users/4547079/ellisan"}, "edited": false, "score": 0, "creation_date": 1509526649, "post_id": 47050922, "comment_id": 81049352, "body": "Did you try the shortcut <code>ctrl+alt+shift+k</code>?"}, {"owner": {"reputation": 573, "user_id": 6537332, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh4.googleusercontent.com/-_k9IJocOktQ/AAAAAAAAAAI/AAAAAAAANqg/rcQjHsOqGuk/photo.jpg?sz=128", "display_name": "Parag Pawar", "link": "https://stackoverflow.com/users/6537332/parag-pawar"}, "edited": false, "score": 0, "creation_date": 1571763443, "post_id": 47050922, "comment_id": 103345917, "body": "Did you find the solution?"}, {"owner": {"reputation": 1309, "user_id": 898307, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/Sf992.jpg?s=128&g=1", "display_name": "Jim Clermonts", "link": "https://stackoverflow.com/users/898307/jim-clermonts"}, "edited": false, "score": 0, "creation_date": 1571764582, "post_id": 47050922, "comment_id": 103346448, "body": "I think I had a problem with hidden chars in the copied code. Pasting it into Sublime editor first removed these and then it worked I think."}], "answers": [{"tags": [], "owner": {"reputation": 4290, "user_id": 6915572, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/M0NbN.jpg?s=128&g=1", "display_name": "Shubhamhackz", "link": "https://stackoverflow.com/users/6915572/shubhamhackz"}, "is_accepted": false, "score": 1, "last_activity_date": 1509525860, "creation_date": 1509525860, "answer_id": 47051050, "question_id": 47050922, "link": "https://stackoverflow.com/questions/47050922/kotlin-convert-doesnt-work-anymore-for-android-studio-3-0/47051050#47051050", "title": "Kotlin convert doesn&#39;t work anymore for Android Studio 3.0", "body": "<p>Please show which code you're pasting. In order for the converter to run, the code you paste must be a valid Java expression, method or class.\nI think that can be problem..\nor </p>\n\n<p>The problem occurs if you insert Java code without the \"import\" section - then the converter does not know that the convertible method needs to be overloaded.</p>\n"}], "owner": {"reputation": 1309, "user_id": 898307, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/Sf992.jpg?s=128&g=1", "display_name": "Jim Clermonts", "link": "https://stackoverflow.com/users/898307/jim-clermonts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1026, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1509526621, "creation_date": 1509525288, "last_edit_date": 1509526230, "question_id": 47050922, "link": "https://stackoverflow.com/questions/47050922/kotlin-convert-doesnt-work-anymore-for-android-studio-3-0", "title": "Kotlin convert doesn&#39;t work anymore for Android Studio 3.0", "body": "<p>Before AS3.0, I could paste Java code and this would be translated into Kotlin automagically with a popup asking me. Now this doesn't work anymore. Also using the shortcut:</p>\n\n<p>\"Main menu\", \"Code\", \"Convert Java File to Kotlin File\"</p>\n\n<p>doesn't work.</p>\n\n<p>Things I've tried:\n- \"File\", \"Invalidate Cache / Restart\"\n- I have the kotlin plugin installed (in 3.0 this should be by default)</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        ActivityMainBinding binding = DataBindingUtil.setContentView(this, R.layout.activity_main);\n\n    }\n}\n</code></pre>\n\n<p>When I copy-paste</p>\n\n<pre><code>    setContentView(R.layout.activity_main);\n</code></pre>\n\n<p>It <strong>does</strong> come up with the convertor popup. And when I paste </p>\n\n<pre><code>ActivityMainBinding binding = DataBindingUtil.setContentView(this, R.layout.activity_main);\n</code></pre>\n\n<p>Right after this, it actually does work. But when I <strong>first</strong> paste </p>\n\n<pre><code>    ActivityMainBinding binding = DataBindingUtil.setContentView(this, R.layout.activity_main);\n</code></pre>\n\n<p>then it doesn't work?</p>\n"}, {"tags": ["java", "mocking", "mockito", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 1890, "user_id": 1385489, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b8ec991b622494f0a9bbc64653c82756?s=128&d=identicon&r=PG", "display_name": "Mousa", "link": "https://stackoverflow.com/users/1385489/mousa"}, "edited": false, "score": 0, "creation_date": 1509525882, "post_id": 47050822, "comment_id": 81049016, "body": "Thank you, I wasn&#39;t aware of this helpful feature :)"}], "tags": [], "owner": {"reputation": 116, "user_id": 8796193, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06cba92c24c1c91dd54efe3475f7e294?s=128&d=identicon&r=PG", "display_name": "Lil Bro", "link": "https://stackoverflow.com/users/8796193/lil-bro"}, "is_accepted": false, "score": 1, "last_activity_date": 1509524759, "creation_date": 1509524759, "answer_id": 47050822, "question_id": 47050723, "link": "https://stackoverflow.com/questions/47050723/what-is-java-equivalent-of-kotlins-function-types/47050822#47050822", "title": "What is java equivalent of Kotlin&#39;s Function Types?", "body": "<p>Why not to try in Android Studio or IntelliJ, to get Java code from Kotlin:</p>\n\n<ul>\n<li>Menu -> Tools -> Kotlin -> Show Kotlin Bytecode</li>\n<li>Click on the -> Decompile Button</li>\n<li>Copy the Java code</li>\n</ul>\n\n<p>This way you can continue your work with Mockito, unfortunately you will get redundant lines of code (not much) because Kotlin deal with bytecode.</p>\n"}, {"comments": [{"owner": {"reputation": 1890, "user_id": 1385489, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b8ec991b622494f0a9bbc64653c82756?s=128&d=identicon&r=PG", "display_name": "Mousa", "link": "https://stackoverflow.com/users/1385489/mousa"}, "edited": false, "score": 0, "creation_date": 1509525837, "post_id": 47050864, "comment_id": 81048992, "body": "Thanks, that was it :)"}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 3, "last_activity_date": 1509525279, "last_edit_date": 1509525279, "creation_date": 1509524968, "answer_id": 47050864, "question_id": 47050723, "link": "https://stackoverflow.com/questions/47050723/what-is-java-equivalent-of-kotlins-function-types/47050864#47050864", "title": "What is java equivalent of Kotlin&#39;s Function Types?", "body": "<p>From the <a href=\"https://www.manning.com/books/kotlin-in-action\" rel=\"nofollow noreferrer\"><em>Kotlin in Action</em></a> book:</p>\n\n<blockquote>\n  <p>The Kotlin standard library defines a series of interfaces, corresponding to different numbers of function arguments: <code>Function0&lt;R&gt;</code> (this function takes no arguments), <code>Function1&lt;P1, R&gt;</code> (this function takes one argument), and so on. Each interface defines a single invoke method, and calling it will execute the function.</p>\n</blockquote>\n\n<p>In this case, these two functions are both <code>Function1</code> instances, since they are functions that take one parameter:</p>\n\n<pre><code>Mockito.doAnswer(invocation -&gt; {\n    Function1&lt;List&lt;Deal&gt;, Unit&gt; resultListener =\n            (Function1&lt;List&lt;Deal&gt;, Unit&gt;) invocation.getArguments()[0];\n    Function1&lt;Throwable, Unit&gt; errorListener =\n            (Function1&lt;Throwable, Unit&gt;) invocation.getArguments()[1];\n\n    resultListener.invoke(new ArrayList&lt;&gt;());\n\n    return null;\n}).when(api).getProductInfo(any(), any());\n</code></pre>\n\n<hr>\n\n<p>On another note, you could try <a href=\"https://github.com/nhaarman/mockito-kotlin\" rel=\"nofollow noreferrer\">mockito-kotlin</a> and the <a href=\"https://stackoverflow.com/a/43310572/4465208\">inline version</a> of Mockito to write your tests in Kotlin as well.</p>\n"}], "owner": {"reputation": 1890, "user_id": 1385489, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b8ec991b622494f0a9bbc64653c82756?s=128&d=identicon&r=PG", "display_name": "Mousa", "link": "https://stackoverflow.com/users/1385489/mousa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1547, "favorite_count": 0, "accepted_answer_id": 47050864, "answer_count": 2, "score": 1, "last_activity_date": 1509525956, "creation_date": 1509524210, "last_edit_date": 1509525956, "question_id": 47050723, "link": "https://stackoverflow.com/questions/47050723/what-is-java-equivalent-of-kotlins-function-types", "title": "What is java equivalent of Kotlin&#39;s Function Types?", "body": "<p>I have code in <code>Kotlin</code> and test code in <code>Java</code>. Since <code>Kotlin</code> and <code>Mockito</code> aren't best friends, I haven't migrated test code to <code>Kotlin</code>.</p>\n\n<p>In <code>Kotlin</code> I have methods with block types. For example:</p>\n\n<pre><code>open fun getProductInfo(resultListener: (List&lt;Deal&gt;)-&gt;Unit, errorListener: (Throwable)-&gt;Unit)\n{\n    ...\n}\n</code></pre>\n\n<p>Now I want to stub this method in <code>Java</code> tests. What's the java equivalent of the types? In other words, what should I write in place of ???s below:</p>\n\n<pre><code>doAnswer(invocation -&gt; {\n    ??? resultListener = (???) invocation.getArguments()[0];\n    // call back resultListener\n    return null;\n}).when(api).getProductInfo(any(), any());\n</code></pre>\n"}, {"tags": ["java", "jaxb", "annotations", "kotlin"], "comments": [{"owner": {"reputation": 2192, "user_id": 1934317, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9b1922893de6094def1ca29690123b9?s=128&d=identicon&r=PG&f=1", "display_name": "awd", "link": "https://stackoverflow.com/users/1934317/awd"}, "edited": false, "score": 0, "creation_date": 1509520301, "post_id": 47049867, "comment_id": 81046685, "body": "you can edit your question to add details, rather than putting in comments."}], "answers": [{"tags": [], "owner": {"reputation": 185247, "user_id": 135589, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/dbd98f264c64096af168747c3ae71a7d?s=128&d=identicon&r=PG", "display_name": "Jesper", "link": "https://stackoverflow.com/users/135589/jesper"}, "is_accepted": false, "score": 16, "last_activity_date": 1509525919, "creation_date": 1509525919, "answer_id": 47051072, "question_id": 47049867, "link": "https://stackoverflow.com/questions/47049867/xmlelement-does-not-work-when-used-in-kotlin/47051072#47051072", "title": "@XmlElement does not work when used in kotlin", "body": "<p>JAXB is a Java API, which expects things to look the way that Java normally does things, and Kotlin does things slightly differently.</p>\n\n<p>To annotate the parameter so that it looks correct to JAXB, you have to use <code>@field:XmlElement</code> so that the annotation is put on the Java field that the Kotlin parameter translates to, like this:</p>\n\n<pre><code>@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\ndata class ReturnValue(val type: String,\n                       @field:XmlElement(name = \"comment\") val summary: String) {\n  constructor() : this(type = \"java.lang.Object\", summary = \"no summary\")\n}\n</code></pre>\n\n<p>More information: <a href=\"https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets\" rel=\"noreferrer\">Annotation Use-site Targets</a> in the Kotlin documentation.</p>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 8517714, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c783a5144f6edffa0e3a13ab0550a8b?s=128&d=identicon&r=PG&f=1", "display_name": "asuras", "link": "https://stackoverflow.com/users/8517714/asuras"}, "is_accepted": false, "score": 0, "last_activity_date": 1563435449, "last_edit_date": 1563435449, "creation_date": 1515081069, "answer_id": 48098859, "question_id": 47049867, "link": "https://stackoverflow.com/questions/47049867/xmlelement-does-not-work-when-used-in-kotlin/48098859#48098859", "title": "@XmlElement does not work when used in kotlin", "body": "<p>If the xml tag and property is written in caps, you can leave out the field-annotations. I had the problem while parsing xml files with some regular fields and some caps fields. <code>@field:XmlElement</code> resolves this issue, thx to @<a href=\"https://stackoverflow.com/users/1934317/awd\">awd</a></p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val xml = \"\"\"&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\" ?&gt;\n                        &lt;Root&gt;\n                            &lt;Child&gt;Text&lt;/Child&gt;\n                        &lt;/Root&gt;\"\"\"\n    val jaxbContext = JAXBContext.newInstance(Root::class.java)\n    val unmarshaller = jaxbContext.createUnmarshaller()\n    val root = unmarshaller.unmarshal(xml.reader())\n    println(root)\n\n    val XML = \"\"\"&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\" ?&gt;\n                        &lt;Root&gt;\n                            &lt;CHILD&gt;Text&lt;/CHILD&gt;\n                        &lt;/Root&gt;\"\"\"\n    val JAXBCONTEXT = JAXBContext.newInstance(CapsRoot::class.java)\n    val UNMARSHALLER = JAXBCONTEXT.createUnmarshaller()\n    val ROOT = UNMARSHALLER.unmarshal(XML.reader())\n    println(ROOT)\n\n    val xmlField = \"\"\"&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\" ?&gt;\n                        &lt;Root&gt;\n                            &lt;Child&gt;Text&lt;/Child&gt;\n                        &lt;/Root&gt;\"\"\"\n    val jaxbContextField = JAXBContext.newInstance(RootField::class.java)\n    val unmarshallerField = jaxbContextField.createUnmarshaller()\n    val rootField = unmarshallerField.unmarshal(xml.reader())\n    println(rootField)\n}\n</code></pre>\n\n<pre><code>@XmlRootElement(name = \"Root\")\ndata class Root(var Child: String? = null)\n\n@XmlRootElement(name = \"Root\")\ndata class CapsRoot(var CHILD: String? = null)\n\n@XmlRootElement(name = \"Root\")\ndata class RootField(@field:XmlElement var Child: String? = null)\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>Root(Child=null)\nCapsRoot(CHILD=Text)\nRootField(Child=Text)\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 5861186, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e369e5d823584a3187c2321495eef731?s=128&d=identicon&r=PG&f=1", "display_name": "owl", "link": "https://stackoverflow.com/users/5861186/owl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4083, "favorite_count": 0, "answer_count": 2, "score": 6, "last_activity_date": 1563435449, "creation_date": 1509520157, "last_edit_date": 1509524445, "question_id": 47049867, "link": "https://stackoverflow.com/questions/47049867/xmlelement-does-not-work-when-used-in-kotlin", "title": "@XmlElement does not work when used in kotlin", "body": "<p>When I serialize an instance of class <code>ReturnValue</code>, I found that <code>@XmlElement</code> doesn't work. the generated xml still had a tag of <code>&lt;summary&gt;</code>, not <code>&lt;comment&gt;</code>.</p>\n\n<p>the ReturnValue class:</p>\n\n<pre><code>@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\ndata class ReturnValue(val type: String,\n                       @XmlElement(name=\"comment\")\n                       val summary: String){\n    constructor(): this(type=\"java.lang.Object\", summary=\"no summary\")\n} \n</code></pre>\n\n<p>the test program:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    val jaxbContext = JAXBContext.newInstance(ReturnValue::class.java)\n    val marshaller = jaxbContext.createMarshaller()\n    marshaller.marshal(\n        ReturnValue(type = \"java.lang.Object\",summary = \"hello\"),\n        System.out)\n}\n</code></pre>\n\n<p>and the output:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?&gt;&lt;returnValue&gt;&lt;type&gt;type2&lt;/type&gt;&lt;summary&gt;hello&lt;/summary&gt;&lt;/returnValue&gt;\n</code></pre>\n\n<p>So, I want to change <code>&lt;summary&gt;</code> to <code>&lt;comment&gt;</code>. How can I do that?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 6089, "user_id": 2086009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e7ab26eda52e199bb9e35d2a76b2dd?s=128&d=identicon&r=PG", "display_name": "alex", "link": "https://stackoverflow.com/users/2086009/alex"}, "edited": false, "score": 0, "creation_date": 1509518494, "post_id": 47049471, "comment_id": 81045986, "body": "Would help to see your code."}, {"owner": {"reputation": 6223, "user_id": 5962715, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/tCJbg.gif?s=128&g=1", "display_name": "Kiran Benny Joseph", "link": "https://stackoverflow.com/users/5962715/kiran-benny-joseph"}, "edited": false, "score": 0, "creation_date": 1509518494, "post_id": 47049471, "comment_id": 81045987, "body": "please share your code snippet"}, {"owner": {"reputation": 23840, "user_id": 2738565, "user_type": "registered", "accept_rate": 29, "profile_image": "https://i.stack.imgur.com/ITCwF.jpg?s=128&g=1", "display_name": "Haresh Chhelana", "link": "https://stackoverflow.com/users/2738565/haresh-chhelana"}, "edited": false, "score": 0, "creation_date": 1509519846, "post_id": 47049471, "comment_id": 81046508, "body": "I have try your given code with Android Studio 3.0 stable version and it&#39;s working fine. have you using same or other version of android studio ?"}, {"owner": {"reputation": 391, "user_id": 8866412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1aebeee33a99eaaad29866c716863a8?s=128&d=identicon&r=PG&f=1", "display_name": "RootKit", "link": "https://stackoverflow.com/users/8866412/rootkit"}, "edited": false, "score": 0, "creation_date": 1509520315, "post_id": 47049471, "comment_id": 81046692, "body": "I am also using Android studio 3.0 But my MainActivity.kt is a baseActivity.kt that inherits from module. BaseActivity.kt inside the common module, MainActivity.kt inside module_main.I do not know if you are trying to do so"}, {"owner": {"reputation": 1240, "user_id": 4907678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AtbORjvk7z8/AAAAAAAAAAI/AAAAAAAAAAA/j24q0gq8FHY/photo.jpg?sz=128", "display_name": "saiedmomen", "link": "https://stackoverflow.com/users/4907678/saiedmomen"}, "edited": false, "score": 3, "creation_date": 1509521140, "post_id": 47049471, "comment_id": 81047044, "body": "I&#39;m seeing the same error after moving to support library version 27.0.0"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1509529463, "post_id": 47049471, "comment_id": 81050878, "body": "<code>Unresolved reference: BaseActivity</code> \u2013 this might be related to a configuration issue with <i>Gradle</i>..."}, {"owner": {"reputation": 391, "user_id": 8866412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1aebeee33a99eaaad29866c716863a8?s=128&d=identicon&r=PG&f=1", "display_name": "RootKit", "link": "https://stackoverflow.com/users/8866412/rootkit"}, "edited": false, "score": 0, "creation_date": 1509530907, "post_id": 47049471, "comment_id": 81051647, "body": "oh, thank you, really is the problem of Gradle. My common module did not apply plugin: &#39;kotlin-android&#39; apply plugin: &#39;kotlin-android-extensions&#39;"}, {"owner": {"reputation": 1864, "user_id": 4253952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Q5GrM.jpg?s=128&g=1", "display_name": "Aba", "link": "https://stackoverflow.com/users/4253952/aba"}, "edited": false, "score": 0, "creation_date": 1509948546, "post_id": 47049471, "comment_id": 81211099, "body": "Maybe this might help: <a href=\"https://stackoverflow.com/questions/47016853/multiple-errors-in-my-fragments-after-updating-the-support-library-to-27-0-0\" title=\"multiple errors in my fragments after updating the support library to 27 0 0\">stackoverflow.com/questions/47016853/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 391, "user_id": 8866412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1aebeee33a99eaaad29866c716863a8?s=128&d=identicon&r=PG&f=1", "display_name": "RootKit", "link": "https://stackoverflow.com/users/8866412/rootkit"}, "edited": false, "score": 0, "creation_date": 1509529295, "post_id": 47051391, "comment_id": 81050783, "body": "Which version can remove &#39;?&#39;"}, {"owner": {"reputation": 869, "user_id": 3224192, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fgUxT.jpg?s=128&g=1", "display_name": "Emmanuel Guther", "link": "https://stackoverflow.com/users/3224192/emmanuel-guther"}, "edited": false, "score": 1, "creation_date": 1511511163, "post_id": 47051391, "comment_id": 81892097, "body": "Also, if you are getting same error but in a fragment, remove &#39;?&#39; in fragmentManager: FragmentManager"}, {"owner": {"reputation": 847, "user_id": 3836294, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/ab7f3902084f168bc6c437c80bb45f12?s=128&d=identicon&r=PG&f=1", "display_name": "romaneso", "link": "https://stackoverflow.com/users/3836294/romaneso"}, "edited": false, "score": 1, "creation_date": 1520516123, "post_id": 47051391, "comment_id": 85353723, "body": "This answer should be selected as the top-answer. Helped me out!"}, {"owner": {"reputation": 4215, "user_id": 1198077, "user_type": "registered", "accept_rate": 41, "profile_image": "https://i.stack.imgur.com/FIEyV.jpg?s=128&g=1", "display_name": "zeeshan", "link": "https://stackoverflow.com/users/1198077/zeeshan"}, "edited": false, "score": 1, "creation_date": 1548858085, "post_id": 47051391, "comment_id": 95694481, "body": "Worked for me on Android Studio 3.3, appcompat-v7:28.0.0, compileSdkVersion 28"}, {"owner": {"reputation": 268, "user_id": 7764067, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea757aacd9693217a072e2b06682a829?s=128&d=identicon&r=PG&f=1", "display_name": "Hannah S.", "link": "https://stackoverflow.com/users/7764067/hannah-s"}, "edited": false, "score": 2, "creation_date": 1569702575, "post_id": 47051391, "comment_id": 102684131, "body": "I&#39;m using Android 3.5 and had the same problem the OP had but for onCreateDialog() not onCreate(). I was using the example from <a href=\"https://developer.android.com/guide/topics/ui/dialogs.html#kotlin\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/ui/dialogs.html#kotlin</a> which had no ? after Bundle, but adding it fixed it. Thanks so much for the suggestion!"}, {"owner": {"reputation": 2985, "user_id": 2304737, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/IyQzE.png?s=128&g=1", "display_name": "mr5", "link": "https://stackoverflow.com/users/2304737/mr5"}, "edited": false, "score": 0, "creation_date": 1593950695, "post_id": 47051391, "comment_id": 110949828, "body": "Had this problem but the solution was to add <code>?</code> in <code>Bundle</code>. I&#39;m using AS: 4.0, Kotlin: 1.3.72, Gradle: 4.9"}, {"owner": {"reputation": 136, "user_id": 4330343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c9fd361984b6d18171ee3e1f07764c3d?s=128&d=identicon&r=PG&f=1", "display_name": "dicarlomagnus", "link": "https://stackoverflow.com/users/4330343/dicarlomagnus"}, "edited": false, "score": 0, "creation_date": 1603750468, "post_id": 47051391, "comment_id": 114130502, "body": "this works as well for override fun onDismiss(dialog: DialogInterface?) removing the nullable parameter to override fun onDismiss(dialog: DialogInterface)"}], "tags": [], "owner": {"reputation": 1040, "user_id": 8037984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce331aa050d15613560b22a596444d80?s=128&d=identicon&r=PG&f=1", "display_name": "Hadi", "link": "https://stackoverflow.com/users/8037984/hadi"}, "is_accepted": false, "score": 85, "last_activity_date": 1510566304, "last_edit_date": 1510566304, "creation_date": 1509527125, "answer_id": 47051391, "question_id": 47049471, "link": "https://stackoverflow.com/questions/47049471/kotlin-oncreate-overrides-nothing/47051391#47051391", "title": "kotlin &#39;onCreate&#39; overrides nothing", "body": "<p>It seems some functions have changed in the last update, \njust remove the '<code>?</code>' from the <code>Bundle</code></p>\n\n<p>Like this:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle) {\n    super.onCreate(savedInstanceState)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1503, "user_id": 8579556, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S8yYmHTyoi0/AAAAAAAAAAI/AAAAAAAAABI/X0nQIekE8Rk/photo.jpg?sz=128", "display_name": "Luca Murra", "link": "https://stackoverflow.com/users/8579556/luca-murra"}, "is_accepted": false, "score": 50, "last_activity_date": 1515151860, "creation_date": 1515151860, "answer_id": 48112765, "question_id": 47049471, "link": "https://stackoverflow.com/questions/47049471/kotlin-oncreate-overrides-nothing/48112765#48112765", "title": "kotlin &#39;onCreate&#39; overrides nothing", "body": "<p>It can happen also in a Fragment class: I found the same issue for the method <code>onCreateView</code>; to avoid that, just remove the <code>?</code> from the <code>LayoutInflater</code> parameter,</p>\n\n<p>Like this:</p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View?\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 505, "user_id": 2568378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21be5ffde4c015da5950eb6fe618f8c2?s=128&d=identicon&r=PG", "display_name": "mr. Nutscracker", "link": "https://stackoverflow.com/users/2568378/mr-nutscracker"}, "is_accepted": false, "score": 0, "last_activity_date": 1520001556, "creation_date": 1520001556, "answer_id": 49071338, "question_id": 47049471, "link": "https://stackoverflow.com/questions/47049471/kotlin-oncreate-overrides-nothing/49071338#49071338", "title": "kotlin &#39;onCreate&#39; overrides nothing", "body": "<p>Update function signatures or revert to compileSdk from 27 to 26</p>\n"}, {"comments": [{"owner": {"reputation": 116, "user_id": 1919549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc02998d68feaa19650a37b77f9d62fe?s=128&d=identicon&r=PG", "display_name": "jbass", "link": "https://stackoverflow.com/users/1919549/jbass"}, "edited": false, "score": 0, "creation_date": 1526513441, "post_id": 50008933, "comment_id": 87778715, "body": "Worked for me for 27.0.2 as well."}, {"owner": {"reputation": 38571, "user_id": 1418457, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/16bebb36e0e28572a316ba0450e190d1?s=128&d=identicon&r=PG", "display_name": "onmyway133", "link": "https://stackoverflow.com/users/1418457/onmyway133"}, "edited": false, "score": 0, "creation_date": 1533550991, "post_id": 50008933, "comment_id": 90371616, "body": "Yeah, otherwise you will get &quot;Caused by: java.lang.IllegalArgumentException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull, parameter savedInstanceState&quot;"}], "tags": [], "owner": {"reputation": 1199, "user_id": 1186358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1984229e37b00ec9405ed5069c06e23e?s=128&d=identicon&r=PG&f=1", "display_name": "Kislingk", "link": "https://stackoverflow.com/users/1186358/kislingk"}, "is_accepted": false, "score": 8, "last_activity_date": 1524595959, "creation_date": 1524595959, "answer_id": 50008933, "question_id": 47049471, "link": "https://stackoverflow.com/questions/47049471/kotlin-oncreate-overrides-nothing/50008933#50008933", "title": "kotlin &#39;onCreate&#39; overrides nothing", "body": "<p>I have to add \"?\" when using appcompat-v7:27.1.1</p>\n\n<pre><code>implementation \"com.android.support:appcompat-v7:27.1.1\n</code></pre>\n\n<p>and</p>\n\n<pre><code>override fun onCreate(savedInstanceState : Bundle?){\n    super.onCreate(savedInstanceState)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10421756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75bc899e5416bd41288bd4816f7db995?s=128&d=identicon&r=PG&f=1", "display_name": "meetsl", "link": "https://stackoverflow.com/users/10421756/meetsl"}, "is_accepted": false, "score": -2, "last_activity_date": 1538018149, "creation_date": 1538018149, "answer_id": 52528908, "question_id": 47049471, "link": "https://stackoverflow.com/questions/47049471/kotlin-oncreate-overrides-nothing/52528908#52528908", "title": "kotlin &#39;onCreate&#39; overrides nothing", "body": "<p>i have fixed this problem. The because of it is you don't config you common module. Please add two lines code at your common module's build.gradle top:\n<code>\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n</code>\nhope this can help you.</p>\n"}], "owner": {"reputation": 391, "user_id": 8866412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e1aebeee33a99eaaad29866c716863a8?s=128&d=identicon&r=PG&f=1", "display_name": "RootKit", "link": "https://stackoverflow.com/users/8866412/rootkit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27114, "favorite_count": 1, "answer_count": 5, "score": 37, "last_activity_date": 1538018149, "creation_date": 1509518172, "last_edit_date": 1509519219, "question_id": 47049471, "link": "https://stackoverflow.com/questions/47049471/kotlin-oncreate-overrides-nothing", "title": "kotlin &#39;onCreate&#39; overrides nothing", "body": "<p>I am using component development, in my common module BaseActivity.kt and BaseFragment.kt. The following problems occur when other modules inherit them</p>\n\n<pre><code>&gt; D:\\Android\\OneDaily\\module_main\\src\\main\\java\\com\\boco\\main\\MainActivity.kt\n&gt; Error:(7, 24) Unresolved reference: base \n&gt; Error:(9, 22) Unresolved reference: BaseActivity \n&gt; Error:(21, 5) 'onCreate' overrides nothing\n&gt; Error:(17, 5) 'getLayoutRes' overrides nothing \n&gt; Error:(22, 15) Unresolved reference: onCreate \n&gt; Error:(27, 22) Unresolved reference: findViewById \n&gt; Error:(42, 34) Unresolved reference: supportFragmentManager\n&gt; D:\\Android\\OneDaily\\module_main\\src\\main\\java\\com\\boco\\main\\TimelineFragment.kt\n&gt; Error:(7, 24) Unresolved reference: base \n&gt; Error:(10, 5) 'getLayoutRes' overrides nothing \n&gt; Error:(9, 26) Unresolved reference: BaseFragment\n&gt; Error:(14, 5) 'onCreateView' overrides nothing \n&gt; Error:(15, 22) Unresolved reference: onCreateView\n</code></pre>\n\n<p>BaseActivity.kt:  </p>\n\n<pre><code>abstract class BaseActivity : AppCompatActivity() {  \n    init {  \n        AppCompatDelegate.setCompatVectorFromResourcesEnabled(true)  \n    }  \n    abstract fun getLayoutRes(): Int  \n    override fun onCreate(savedInstanceState: Bundle?) {  \n        super.onCreate(savedInstanceState)  \n        setContentView(getLayoutRes())  \n    }  \n}  \n</code></pre>\n\n<p>MainActivity.kt  </p>\n\n<pre><code>class MainActivity : BaseActivity() {\n\n    private lateinit var mBottomNav: BottomNavigationView\n\n    private var mFragment1 = TimelineFragment() as Fragment\n    private var mFragment2 = TimelineFragment() as Fragment\n    private var mFragment3 = TimelineFragment() as Fragment\n\n    override fun getLayoutRes(): Int {\n        return R.layout.activity_main\n    }\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n\n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "edited": false, "score": 0, "creation_date": 1509517332, "post_id": 47049254, "comment_id": 81045531, "body": "Just to clarify. You want to create a new fragment when an item in the adapter is clicked?"}, {"owner": {"reputation": 759, "user_id": 6511700, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/758ae0019a1748aa0c0c9acec09b0f80?s=128&d=identicon&r=PG&f=1", "display_name": "Rathi J", "link": "https://stackoverflow.com/users/6511700/rathi-j"}, "reply_to_user": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "edited": false, "score": 0, "creation_date": 1509517448, "post_id": 47049254, "comment_id": 81045564, "body": "Yes ... exactly... the clicking function is working fine... but i dnt know to pass the new fragment."}], "answers": [{"comments": [{"owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "reply_to_user": {"reputation": 759, "user_id": 6511700, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/758ae0019a1748aa0c0c9acec09b0f80?s=128&d=identicon&r=PG&f=1", "display_name": "Rathi J", "link": "https://stackoverflow.com/users/6511700/rathi-j"}, "edited": false, "score": 0, "creation_date": 1509518326, "post_id": 47049381, "comment_id": 81045899, "body": "Where does it fail?"}, {"owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "reply_to_user": {"reputation": 759, "user_id": 6511700, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/758ae0019a1748aa0c0c9acec09b0f80?s=128&d=identicon&r=PG&f=1", "display_name": "Rathi J", "link": "https://stackoverflow.com/users/6511700/rathi-j"}, "edited": false, "score": 1, "creation_date": 1509518530, "post_id": 47049381, "comment_id": 81046001, "body": "Sorry my bad you need to pass AppCompatActivity to get the support fragment manager"}], "tags": [], "owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "is_accepted": false, "score": 0, "last_activity_date": 1509518554, "last_edit_date": 1509518554, "creation_date": 1509517760, "answer_id": 47049381, "question_id": 47049254, "link": "https://stackoverflow.com/questions/47049254/kotlin-new-fragment-from-recyclerview/47049381#47049381", "title": "Kotlin new Fragment from Recyclerview", "body": "<pre><code>internal class ContentAdapter (private val activity: AppCompatActivity, private var dataList: ArrayList&lt;DataList&gt;) : RecyclerView.Adapter&lt;ContentAdapter.ViewHolder&gt;(), View.OnClickListener\n</code></pre>\n\n<p>When you have the activity you can access the manager</p>\n\n<p>You need to pass the activity in the constructor \nAnd a kotlin tip if you have only one primary constructor you don't have to write it.</p>\n"}, {"comments": [{"owner": {"reputation": 11933, "user_id": 471744, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/GDzVT.jpg?s=128&g=1", "display_name": "spierce7", "link": "https://stackoverflow.com/users/471744/spierce7"}, "edited": false, "score": 0, "creation_date": 1509549177, "post_id": 47049386, "comment_id": 81063216, "body": "I disagree with this approach. It&#39;s better to assume the adapter is part of the View code. I&#39;m not sure there is any advantage of trying to separate it out, as the adapter deals with creating and configuring the view anyways. The only reason to do what you are saying is if you wanted to reuse this adapter on multiple screens, which I discourage."}, {"owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "edited": false, "score": 0, "creation_date": 1509551338, "post_id": 47049386, "comment_id": 81064651, "body": "It&#39;s not good to put change in screens like new fragment or anew activity inside adapter. All the change of screen should be part of activity/ fragment. It&#39;s easy for debug as well as change in flow. Moreover adapter reuse will also be possible"}], "tags": [], "owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "is_accepted": false, "score": 2, "last_activity_date": 1509517766, "creation_date": 1509517766, "answer_id": 47049386, "question_id": 47049254, "link": "https://stackoverflow.com/questions/47049254/kotlin-new-fragment-from-recyclerview/47049386#47049386", "title": "Kotlin new Fragment from Recyclerview", "body": "<p>It will be better to use callback to activity to navigate to new fragment.</p>\n\n<p>Change constructor to </p>\n\n<pre><code>internal class ContentAdapter constructor (private var dataList: ArrayList&lt;DataList&gt;,private var callback:()-&gt;Unit) : RecyclerView.Adapter&lt;ContentAdapter.ViewHolder&gt;(), View.OnClickListener \n</code></pre>\n\n<p>Then inside </p>\n\n<p><code>override fun onClick(v: View?)</code> </p>\n\n<p>put </p>\n\n<p><code>callback.invoke();</code></p>\n\n<p>Activity will set adapter by</p>\n\n<pre><code>val adapter = ContentAdapter(datalist)\n{ // Code to navigate to new fragment\n\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1583, "user_id": 5362029, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/yMl70.jpg?s=128&g=1", "display_name": "Gil Goldzweig", "link": "https://stackoverflow.com/users/5362029/gil-goldzweig"}, "is_accepted": false, "score": 1, "last_activity_date": 1509517882, "creation_date": 1509517882, "answer_id": 47049417, "question_id": 47049254, "link": "https://stackoverflow.com/questions/47049254/kotlin-new-fragment-from-recyclerview/47049417#47049417", "title": "Kotlin new Fragment from Recyclerview", "body": "<pre><code>internal class ContentAdapter (private val activity: Activity, private var dataList: ArrayList&lt;DataList&gt;) : RecyclerView.Adapter&lt;ContentAdapter.ViewHolder&gt;(), View.OnClickListener\n</code></pre>\n\n<p>You need to pass the activity in your constructor.\nAnd a nice bonus tip for kotlin: \nIf you have only one primary constructor you don't have to write the \"constructor\" prefix </p>\n"}, {"tags": [], "owner": {"reputation": 11933, "user_id": 471744, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/GDzVT.jpg?s=128&g=1", "display_name": "spierce7", "link": "https://stackoverflow.com/users/471744/spierce7"}, "is_accepted": true, "score": 1, "last_activity_date": 1509517918, "creation_date": 1509517918, "answer_id": 47049420, "question_id": 47049254, "link": "https://stackoverflow.com/questions/47049254/kotlin-new-fragment-from-recyclerview/47049420#47049420", "title": "Kotlin new Fragment from Recyclerview", "body": "<p>A few solutions:</p>\n\n<ol>\n<li><p>Kotlin defaults all classes to <code>static</code>. You have to opt-in to them being <code>inner</code> classes. Put the class inside of an Activity, and add the <code>inner</code> modifier to the class:</p>\n\n<pre><code>internal inner class ContentAdapter constructor (private var dataList: ArrayList&lt;DataList&gt;) : RecyclerView.Adapter&lt;ContentAdapter.ViewHolder&gt;(), View.OnClickListener {\n</code></pre></li>\n<li><p>Keep the ContentAdapter <code>static</code>, but pass the <code>activity</code> in through the constructor:</p>\n\n<pre><code>internal class ContentAdapter(\n        private val activity: AppCompatActivity,\n        private var dataList: ArrayList&lt;DataList&gt;\n) : RecyclerView.Adapter&lt;ContentAdapter.ViewHolder&gt;(), View.OnClickListener {\n</code></pre></li>\n</ol>\n\n<p>It looks like you probably aren't familiar with the ways that Kotlin differs from Java and defaults you to writing better code. It might help for you to read through the Kotlin documentation in entirety. It's not very long. I also recommend Kotlin Koans which are coding exercises JetBrains provides to practice Kotlin.</p>\n\n<p>Kotlin is a huge improvement over Java :-) Don't let this discourage you!</p>\n\n<p>(By the way, it looks like you can probably make your <code>dataList</code> a <code>val</code>. <code>val</code> is always preferred over <code>var</code> when the reference is <code>final</code>.)</p>\n"}, {"tags": [], "owner": {"reputation": 594, "user_id": 7955352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aQkw.png?s=128&g=1", "display_name": "Yogesh Paliyal", "link": "https://stackoverflow.com/users/7955352/yogesh-paliyal"}, "is_accepted": false, "score": 0, "last_activity_date": 1509734661, "creation_date": 1509734661, "answer_id": 47102563, "question_id": 47049254, "link": "https://stackoverflow.com/questions/47049254/kotlin-new-fragment-from-recyclerview/47102563#47102563", "title": "Kotlin new Fragment from Recyclerview", "body": "<p>Use Onclick as alternative of onClickListener, you can use onClick like this.</p>\n\n<pre><code> itemView.regPrice.onClick {\n/ * your action */\n}\n</code></pre>\n"}], "owner": {"reputation": 759, "user_id": 6511700, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/758ae0019a1748aa0c0c9acec09b0f80?s=128&d=identicon&r=PG&f=1", "display_name": "Rathi J", "link": "https://stackoverflow.com/users/6511700/rathi-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2547, "favorite_count": 0, "accepted_answer_id": 47049420, "answer_count": 5, "score": 0, "last_activity_date": 1509734661, "creation_date": 1509517116, "question_id": 47049254, "link": "https://stackoverflow.com/questions/47049254/kotlin-new-fragment-from-recyclerview", "title": "Kotlin new Fragment from Recyclerview", "body": "<p>I'm trying to open a new fragment from the current fragment's RecyclerView Adapter.But i don't know how to set onClickListener.. Here is my code</p>\n\n<pre><code>internal class ContentAdapter constructor (private var dataList: ArrayList&lt;DataList&gt;) : RecyclerView.Adapter&lt;ContentAdapter.ViewHolder&gt;(), View.OnClickListener {\n    override fun onClick(v: View?) {\n        val manager = activity.supportFragmentManager // I cannot resolve activity here \n        val transaction = manager.beginTransaction()\n        val book = IndividualBook()\n        transaction.add(android.R.id.content, book, \"IndividualBook\")\n        transaction.addToBackStack(null)\n        transaction.commit()\n    }\n\n    override fun getItemCount(): Int = dataList.size\n\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ViewHolder {\n        return ViewHolder(LayoutInflater.from(parent!!.context).inflate(R.layout.item,parent,false))\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder?, position: Int) {\n        holder!!.bind(dataList)\n        holder.itemView.setOnClickListener(this)\n    }\n\n    class ViewHolder(itemView: View?) : RecyclerView.ViewHolder(itemView) {\n        fun bind(DataList: ArrayList&lt;DataList&gt;){\n            val dataList = DataList[adapterPosition]\n            itemView.itemTitle.text = dataList.title\n            Glide.with(itemView.context).load(dataList.image).into(itemView.itemImage)\n            itemView.regPrice.text = dataList.regPrice\n            itemView.regPrice.paintFlags = Paint.STRIKE_THRU_TEXT_FLAG\n            itemView.splPrice.text = dataList.splPrice\n        }\n    }\n}\n</code></pre>\n\n<p>Help me to solve the issue. </p>\n"}, {"tags": ["android", "android-fragments", "kotlin", "dagger-2", "dagger"], "answers": [{"comments": [{"owner": {"reputation": 1479, "user_id": 3671978, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/41e5cd2b99a8e7c84f91a8137c8be3ed?s=128&d=identicon&r=PG", "display_name": "ko2ic", "link": "https://stackoverflow.com/users/3671978/ko2ic"}, "edited": false, "score": 0, "creation_date": 1510147441, "post_id": 47050317, "comment_id": 81310553, "body": "Thank you.I understood that there was a problem.But in the above code and by adding AndroidInjection.inject(this) in Fragment#onAttach,  ViewModel of Activity and Fragment are not shared as @ActivityScope.Is there a way to share them?"}], "tags": [], "owner": {"reputation": 17436, "user_id": 5241933, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/n9pSx.jpg?s=128&g=1", "display_name": "David Rawson", "link": "https://stackoverflow.com/users/5241933/david-rawson"}, "is_accepted": false, "score": 0, "last_activity_date": 1509522237, "creation_date": 1509522237, "answer_id": 47050317, "question_id": 47048384, "link": "https://stackoverflow.com/questions/47048384/is-it-a-good-practice-to-use-inject-for-androids-fragment-on-dagger2/47050317#47050317", "title": "Is it a good practice to use @Inject for Android&#39;s Fragment on Dagger2?", "body": "<p>Fragments are managed by, well, the <a href=\"https://developer.android.com/reference/android/app/FragmentManager.html\" rel=\"nofollow noreferrer\"><code>FragmentManager</code></a> in Android. </p>\n\n<p>In subclasses of <code>FragmentActivity</code>, including <code>AppCompatActivity</code>, when <code>onSaveInstanceState(Bundle outBundle)</code> is called on your Activity it will save the state of your Fragments. </p>\n\n<p>Likewise <code>onCreate(Bundle savedInstanceState)</code> will attempt to restore them. You can cause this to happen by turning on <code>Developer Options / Don't keep Activities</code> and navigating in and out of your app.</p>\n\n<p>In this situation, if you request injection of your Fragment field again using Dagger 2, the Activity will reference two copies of the Fragment - the restored Fragment and the newly injected one. You don't want this! Instead, the correct idiom to get a handle on the Fragment in your <code>onCreate</code> is the following:</p>\n\n<pre><code>fragment = fragmentManager.findFragmentByTag(\"MAIN\")\nif (fragment == null) fragment = MainFragment.instantiate(null)\nfragmentManager.beginTransaction()\n            .replace(R.id.container, fragment, \"MAIN\")\n            .commit()\n</code></pre>\n\n<p>where <code>MainFragment.instantiate(Bundle args)</code> is a static method in a <code>companion object</code>.</p>\n"}], "owner": {"reputation": 1479, "user_id": 3671978, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/41e5cd2b99a8e7c84f91a8137c8be3ed?s=128&d=identicon&r=PG", "display_name": "ko2ic", "link": "https://stackoverflow.com/users/3671978/ko2ic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 449, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509522237, "creation_date": 1509511436, "last_edit_date": 1509514592, "question_id": 47048384, "link": "https://stackoverflow.com/questions/47048384/is-it-a-good-practice-to-use-inject-for-androids-fragment-on-dagger2", "title": "Is it a good practice to use @Inject for Android&#39;s Fragment on Dagger2?", "body": "<p>I am using <code>@ContributesAndroidInjector</code> of Dagger 2.11.</p>\n\n<p>It works without problems with the following sources.<br>\n<code>@ActivityScope</code> is also working.</p>\n\n<pre><code>class MainActivity : AppCompatActivity(), HasFragmentInjector {\n    @Inject\n    lateinit var androidInjector: DispatchingAndroidInjector&lt;Fragment&gt;\n    override fun fragmentInjector() = androidInjector\n    @Inject\n    lateinit var fragment: MainFragment\n    @Inject\n    lateinit var viewModel: MainViewModel\n    override fun onCreate(savedInstanceState: Bundle?) {\n        AndroidInjection.inject(this)\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        fragmentManager.beginTransaction()\n                .replace(R.id.container, fragment)\n                .commitAllowingStateLoss()\n        viewModel.start(\"activity\")\n    }\n}\n\nclass MainFragment @Inject constructor() : Fragment() {\n    @Inject\n    lateinit var viewModel: MainViewModel\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n        val view = inflater!!.inflate(R.layout.fragment_main, container, false)\n        return view\n    }\n\n    override fun onAttach(context: Context?) {\n        super.onAttach(context)\n        viewModel.start(\"fragment\")\n    }\n}\n\n@Module\nabstract class AndroidModule {\n    @ActivityScope\n    @ContributesAndroidInjector\n    abstract fun contributeMainActivity(): MainActivity\n}\n\n@ActivityScope\nclass MainViewModel @Inject constructor() {\n...\n</code></pre>\n\n<p>But when I read the <a href=\"https://google.github.io/dagger/android\" rel=\"nofollow noreferrer\">document</a>, \nI felt it was correct to use <code>@ConstructsAndroidInjector</code> as well as activity.</p>\n\n<p>And also in the answer <a href=\"https://stackoverflow.com/questions/44409129/what-is-actual-usage-of-hasfragmentinjector-in-dagger-2\">here</a>, it is written as </p>\n\n<pre><code>public class MainActivity {\n    @Inject CoffeeFragment coffeeFragment; //no! don't do this\n    @Inject TeaFragment teaFragment; //no!\n</code></pre>\n\n<p>Is my implementation problematic?<br>\nWhat problems will occur with my implementation?</p>\n"}, {"tags": ["android", "javafx", "kotlin", "gluon-mobile", "tornadofx"], "comments": [{"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1509531611, "post_id": 47048307, "comment_id": 81052074, "body": "Could you add the Gradle configuration for the Android parts?"}], "answers": [{"tags": [], "owner": {"reputation": 39338, "user_id": 3956070, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qqUhH.png?s=128&g=1", "display_name": "Jos&#233; Pereda", "link": "https://stackoverflow.com/users/3956070/jos%c3%a9-pereda"}, "is_accepted": false, "score": 0, "last_activity_date": 1509984176, "creation_date": 1509984176, "answer_id": 47141035, "question_id": 47048307, "link": "https://stackoverflow.com/questions/47048307/java-lang-classnotfoundexception-didnt-find-class-com-my-app-example-main-on/47141035#47141035", "title": "java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.my.app.example.Main&quot; on path: DexPathList", "body": "<p>This is a very simple sample of a Gluon Mobile project working with Kotlin that can be deployed to Android/iOS.</p>\n\n<p>Using the Gluon plugin for IntelliJ, created a project (Single View), and modify the build.gradle file:</p>\n\n<p><em>build.gradle</em></p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.51'\n    repositories {\n        mavenCentral()\n        jcenter()\n    }\n\n    dependencies {\n        classpath 'org.javafxports:jfxmobile-plugin:1.3.9'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\napply plugin: 'kotlin'\napply plugin: 'idea'\napply plugin: 'java'\napply plugin: 'org.javafxports.jfxmobile'\napply plugin: 'org.jetbrains.kotlin.android.extensions'\n\nrepositories {\n    jcenter()\n    mavenCentral()\n    maven {\n        url 'http://nexus.gluonhq.com/nexus/content/repositories/releases'\n    }\n}\n\nmainClassName = 'com.gluon.kotlin.Main'\n\ndependencies {\n    compile 'com.gluonhq:charm:4.4.1'\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n    compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n    compile 'no.tornado:tornadofx:1.7.12'\n    compile 'no.tornado:tornadofx-android-compat:1.0.1'\n\n}\njfxmobile {\n    downConfig {\n        version = '3.6.0'\n        plugins 'display', 'lifecycle', 'statusbar', 'storage'\n    }\n    android {\n        manifest = 'src/android/AndroidManifest.xml'\n    }\n    ios {\n        infoPList = file('src/ios/Default-Info.plist')\n        forceLinkClasses = [\n                'com.gluonhq.**.*',\n                'javax.annotations.**.*',\n                'javax.inject.**.*',\n                'javax.json.**.*',\n                'org.glassfish.json.**.*'\n        ]\n    }\n}\n</code></pre>\n\n<p>Remove the <code>/src/main/java</code> package, and add the <code>/src/main/kotlin</code> one.</p>\n\n<p>The <code>Main.kt</code> class is in <code>/src/main/kotlin/com/gluon/kotlin/Main.kt</code>:</p>\n\n<p><em>Main.kt</em></p>\n\n<pre><code>package com.gluon.kotlin\n\nimport com.gluonhq.charm.glisten.application.MobileApplication\nimport com.gluonhq.charm.glisten.mvc.View\nimport com.gluonhq.charm.glisten.visual.MaterialDesignIcon\nimport javafx.geometry.Pos\nimport javafx.scene.control.Button\nimport javafx.scene.control.Label\nimport javafx.scene.layout.VBox\nimport tornadofx.plusAssign\n\nclass Main: MobileApplication() {\n\n    override fun init() {\n        addViewFactory(MobileApplication.HOME_VIEW, {\n            val view = View(\"home\")\n\n            val vBox = VBox()\n            with (vBox) {\n                alignment = Pos.CENTER\n                spacing = 30.0\n                this += Button(\"Kotlin\", MaterialDesignIcon.CODE.graphic()).apply {\n                    println(\"Click\")\n                }\n                this += Label(\"Gluon Mobile - Kotlin\")\n            }\n            with(view) {\n                this.center = vBox\n                this.setOnShown {\n                    with(MobileApplication.getInstance().appBar) {\n                        this.navIcon = MaterialDesignIcon.MENU.button().apply {\n                            println(\"Click\")\n                        }\n                        this.titleText = \"Gluon Mobile - Kotlin\"\n                    }\n                }\n            }\n            view\n        })\n    }\n\n}\n</code></pre>\n\n<p>You can run the project on desktop, and <em>without</em> modifying the AndroidManifest file, deploy to an Android device using the <code>androidInstall</code> task.</p>\n\n<p><img src=\"https://i.stack.imgur.com/AxuoP.png\" width=\"300\"></p>\n"}], "owner": {"reputation": 2715, "user_id": 2272445, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d8fed0b827e41acbb8e9028cfc91b65e?s=128&d=identicon&r=PG&f=1", "display_name": "shan", "link": "https://stackoverflow.com/users/2272445/shan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 655, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1509984176, "creation_date": 1509510896, "question_id": 47048307, "link": "https://stackoverflow.com/questions/47048307/java-lang-classnotfoundexception-didnt-find-class-com-my-app-example-main-on", "title": "java.lang.ClassNotFoundException: Didn&#39;t find class &quot;com.my.app.example.Main&quot; on path: DexPathList", "body": "<p>I'm having a hard time exactly <em>what</em> is causing this error on adb because I am using <strong>Kotlin</strong>, <strong>TornadoFX</strong> (<em>a JavaFX Kotlin library</em>) and <strong>Gluon</strong> with <strong>JFXMobile</strong>. When I use Gluon's <code>androidInstall</code> to build my project I encounter this error, along with a black screen:</p>\n\n<p><code>java.lang.ClassNotFoundException: Didn't find class \"com.my.app.example.Main\" on path: DexPathList</code></p>\n\n<p>I'm trying to use JavaFX 3D in this application, but I don't think that it's causing the error.</p>\n\n<p>I checked my Android Manifest, and the package name is the same as my project.</p>\n\n<p>My project hierarchy is like so:</p>\n\n<pre><code>root\n  libs\n  src\n    android\n    ios\n    main\n      kotlin\n        com.my.app.example\n          Main.kt\n</code></pre>\n\n<p>Which might be causing Android to not be able to find the file? Since there's no Java folder.</p>\n\n<p>I have all of the following in my gradle file, compiled successfully:</p>\n\n<pre><code>apply plugin: 'kotlin'\napply plugin: 'idea'\napply plugin: 'java'\napply plugin: 'javafx-gradle-plugin'\napply plugin: 'org.javafxports.jfxmobile'\napply plugin: 'org.jetbrains.kotlin.android.extensions'\n\ndependencies {\n  compile \"org.jetbrains.kotlin:kotlin-stdlib-jre8:$kotlin_version\"\n  compile \"org.jetbrains.kotlin:kotlin-reflect:$kotlin_version\"\n  compile 'no.tornado:tornadofx:1.7.12'\n  compile 'no.tornado:tornadofx-android-compat:1.0.1'\n  compile 'com.gluonhq:charm:4.3.7'\n  compile fileTree(dir: 'libs', include: '*.jar')\n}\n</code></pre>\n\n<p>The <code>fileTree(dir: 'libs', include: '*.jar')</code> is for an external library that I am using to import ObjModels for JavaFX, located in the <code>libs</code> folder of my project.</p>\n\n<p>Things I am suspicious of causing this error:</p>\n\n<ol>\n<li>Me not having the right things in my Gradle file because I am terrible with Gradle.</li>\n<li>The .jar in my <code>libs</code> folder not being included correctly in the Android apk and messing it all up somehow</li>\n<li>Kotlin file hierarchy somehow making Android not able to find the Main class, or the fact that it's Main.kt instead of Main.java</li>\n</ol>\n\n<p><strong>Please note</strong> that this project runs fine on my desktop, so it's not a problem with my source code, just something on the Android-specific end.</p>\n\n<p>Any ideas what is causing this? Thanks for any help!</p>\n"}, {"tags": ["javascript", "kotlin"], "comments": [{"owner": {"reputation": 3968, "user_id": 560902, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/iVnPX.png?s=128&g=1", "display_name": "Jochen Bedersdorfer", "link": "https://stackoverflow.com/users/560902/jochen-bedersdorfer"}, "edited": false, "score": 0, "creation_date": 1509505286, "post_id": 47047488, "comment_id": 81042386, "body": "You need a module loader as well as the kotlin JS files. You can pick AMD (RequireJS et. al), UMD or CommonJS ."}, {"owner": {"reputation": 3968, "user_id": 560902, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/iVnPX.png?s=128&g=1", "display_name": "Jochen Bedersdorfer", "link": "https://stackoverflow.com/users/560902/jochen-bedersdorfer"}, "edited": false, "score": 1, "creation_date": 1509505315, "post_id": 47047488, "comment_id": 81042393, "body": "see <a href=\"https://kotlinlang.org/docs/tutorials/javascript/working-with-modules/working-with-modules.html\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/tutorials/javascript/working-with-module&zwnj;&#8203;s/&hellip;</a>"}, {"owner": {"reputation": 1854, "user_id": 1299270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yXVeD.jpg?s=128&g=1", "display_name": "tkachuko", "link": "https://stackoverflow.com/users/1299270/tkachuko"}, "reply_to_user": {"reputation": 3968, "user_id": 560902, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/iVnPX.png?s=128&g=1", "display_name": "Jochen Bedersdorfer", "link": "https://stackoverflow.com/users/560902/jochen-bedersdorfer"}, "edited": false, "score": 0, "creation_date": 1509506397, "post_id": 47047488, "comment_id": 81042674, "body": "Thanks for clarification. Could you please elaborate on gradle integration to achieve this?"}, {"owner": {"reputation": 2015, "user_id": 1109309, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/f8a2b866ae0dc92a9e774d0094da8f4d?s=128&d=identicon&r=PG", "display_name": "Alexey Andreev", "link": "https://stackoverflow.com/users/1109309/alexey-andreev"}, "edited": false, "score": 0, "creation_date": 1509524322, "post_id": 47047488, "comment_id": 81048335, "body": "<a href=\"https://kotlinlang.org/docs/reference/js-modules.html#from-gradle\" rel=\"nofollow noreferrer\">kotlinlang.org/docs/reference/js-modules.html#from-gradle</a>"}, {"owner": {"reputation": 1854, "user_id": 1299270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yXVeD.jpg?s=128&g=1", "display_name": "tkachuko", "link": "https://stackoverflow.com/users/1299270/tkachuko"}, "edited": false, "score": 0, "creation_date": 1509543052, "post_id": 47047488, "comment_id": 81059020, "body": "I already have that setting specified in <code>build.gradle</code>: <code>kotlinOptions.moduleKind = &quot;commonjs&quot;</code> and indeed I get <code>js</code> artifact of commonjs-style after gradle build. However my question is how it can be turned to something that can be run right away from browser?"}, {"owner": {"reputation": 1081, "user_id": 2157870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oifyV.jpg?s=128&g=1", "display_name": "Tudor", "link": "https://stackoverflow.com/users/2157870/tudor"}, "edited": false, "score": 0, "creation_date": 1530377539, "post_id": 47047488, "comment_id": 89219690, "body": "anything new on this? I still cannot make it run using moduleKind. Made it work by removing     kotlinOptions.moduleKind = &#39;amd/commonjs&#39; from build.gradle and going to IDEA settings/preferences -&gt; kotlin compiler -&gt; Kotlin to Javascript section -&gt; module kind -&gt; Plain (put to global scope)"}, {"owner": {"reputation": 1081, "user_id": 2157870, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oifyV.jpg?s=128&g=1", "display_name": "Tudor", "link": "https://stackoverflow.com/users/2157870/tudor"}, "edited": false, "score": 1, "creation_date": 1530379318, "post_id": 47047488, "comment_id": 89220143, "body": "update: seems that when compiling to commonjs you don&#39;t need to import using &lt;script&gt;. Instead you must use require(&#39;your_kt_file&#39;) in other js files"}], "owner": {"reputation": 1854, "user_id": 1299270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yXVeD.jpg?s=128&g=1", "display_name": "tkachuko", "link": "https://stackoverflow.com/users/1299270/tkachuko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 712, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1509504528, "creation_date": 1509504528, "question_id": 47047488, "link": "https://stackoverflow.com/questions/47047488/kotlin-compiles-to-unrunnable-javascript", "title": "Kotlin compiles to unrunnable javascript", "body": "<p>I have a project in kotlin (i.e. <code>sample-kotlin-project</code>) which is being compiled to javascript using gradle with the following gradle script:</p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.4-3'\n\n    repositories {\n        mavenCentral()\n        maven { url \"https://plugins.gradle.org/m2/\" }\n    }\n    dependencies {\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'com.moowork.gradle:gradle-node-plugin:1.2.0'\n    }\n}\n\napply plugin: 'kotlin2js'\napply plugin: 'com.moowork.node'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    compile \"org.jetbrains.kotlin:kotlin-stdlib-js:$kotlin_version\"\n    testCompile \"org.jetbrains.kotlin:kotlin-test-js:$kotlin_version\"\n}\n\ntask wrapper(type: Wrapper) {\n    gradleVersion = \"4.1\"\n}\n\n[compileKotlin2Js, compileTestKotlin2Js]*.configure {\n    kotlinOptions.moduleKind = \"commonjs\"\n}\n</code></pre>\n\n<p>After execution of <code>gradle clean build</code> I get the following artifacts:</p>\n\n<ol>\n<li><code>kotlin.js</code></li>\n<li><code>sample-kotlin-project_main.js</code></li>\n</ol>\n\n<p>and import them into html file <code>index.html</code>:</p>\n\n<pre><code>&lt;html&gt;\n\n&lt;head&gt;\n    &lt;script src=\"&lt;path-to-target&gt;/kotlin.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;script src=\"&lt;path-to-target&gt;/sample-kotlin-project_main.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Both files are being found (meaning that all setup seems to be working just fine) except the following <strong>error in console</strong> from <code>sample-kotlin-project_main.js</code>:</p>\n\n<pre><code>Uncaught ReferenceError: module is not defined\n</code></pre>\n\n<p>which seems to be an issue for browser. Error occurs for the following lines in <code>sample-kotlin-project_main.js</code>:</p>\n\n<pre><code>  Kotlin.defineModule('sample-kotlin-project_main', _);\n  return _;\n}(module.exports, require('kotlin')));\n</code></pre>\n\n<p>My question is: <strong>why does it happen</strong> and <strong>what should be done in order to fix this issue</strong>?</p>\n\n<p>Thanks a lot beforehand.</p>\n"}, {"tags": ["javafx", "kotlin", "tornadofx"], "comments": [{"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "edited": false, "score": 1, "creation_date": 1509617046, "post_id": 47046743, "comment_id": 81092881, "body": "We&#39;ll definitely look into creating 3D builders for TornadoFX :)"}], "answers": [{"comments": [{"owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "reply_to_user": {"reputation": 2715, "user_id": 2272445, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d8fed0b827e41acbb8e9028cfc91b65e?s=128&d=identicon&r=PG&f=1", "display_name": "shan", "link": "https://stackoverflow.com/users/2272445/shan"}, "edited": false, "score": 0, "creation_date": 1509722283, "post_id": 47053898, "comment_id": 81147891, "body": "My pleasure! :)"}], "tags": [], "owner": {"reputation": 7027, "user_id": 1437402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3fbbcf2a192382575c5cdd4d1a0e98a0?s=128&d=identicon&r=PG", "display_name": "Edvin Syse", "link": "https://stackoverflow.com/users/1437402/edvin-syse"}, "is_accepted": true, "score": 4, "last_activity_date": 1509536098, "creation_date": 1509536098, "answer_id": 47053898, "question_id": 47046743, "link": "https://stackoverflow.com/questions/47046743/why-is-my-scene-null/47053898#47053898", "title": "Why is my Scene null?", "body": "<p>The View is created before the scene is attached, so to manipulate scene, simply override <code>onDock</code> and perform your operations there. When <code>onDock</code> is called, the scene is attached.</p>\n"}], "owner": {"reputation": 2715, "user_id": 2272445, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/d8fed0b827e41acbb8e9028cfc91b65e?s=128&d=identicon&r=PG&f=1", "display_name": "shan", "link": "https://stackoverflow.com/users/2272445/shan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 278, "favorite_count": 0, "accepted_answer_id": 47053898, "answer_count": 1, "score": 2, "last_activity_date": 1509536098, "creation_date": 1509498128, "question_id": 47046743, "link": "https://stackoverflow.com/questions/47046743/why-is-my-scene-null", "title": "Why is my Scene null?", "body": "<p>I'm trying to do some 3D work with Javafx (using the TornadoFX library) and am unable to set my <code>PerspectiveCamera</code> to the <code>Scene</code> as the <code>Scene</code> is returning <code>null</code>.</p>\n\n<p>I launch my program like so:</p>\n\n<pre><code>class ThreeDTest : App(HomeView::class, ThreeDStyles::class) {\n    override fun start(stage: Stage) {\n        super.start(stage)\n        stage.show()\n        stage.scene.fill = Color.BLACK\n\n        val primaryScreenBounds = Screen.getPrimary().visualBounds\n\n        stage.maxWidth = 1920.0\n        stage.maxHeight = 1080.0\n        stage.minWidth = 1920.0\n        stage.minHeight = 1080.0\n    }\n}\n</code></pre>\n\n<p>and then in <code>HomeView</code> class I have this:</p>\n\n<pre><code>class HomeView : View() {\n    override val root = stackpane {\n        val axisGroup = Xform()\n        val world = Xform()\n        val camera = PerspectiveCamera(true)\n        val cameraXform = Xform()\n        val cameraXform2 = Xform()\n        val cameraXform3 = Xform()\n        val cameraInitialDistance = -450.0\n        val cameraInitialXAngle = 70.0\n        val cameraInitialYAngle = 320.0\n        val cameraNearClip = 0.1\n        val cameraFarClip = 10000.0\n\n        //just a builder class to add properties to the camera\n        buildCamera(this, cameraXform, cameraXform2, cameraXform3, camera, cameraNearClip, cameraFarClip, cameraInitialDistance,\n            cameraInitialYAngle, cameraInitialXAngle)\n        buildAxes(axisGroup, world)\n\n        println(scene)\n        //returns null\n        scene.camera = camera\n        //this does not work as scene is null\n}\n</code></pre>\n\n<p>Is there something I'm doing wrong? I have no idea why my <code>Scene</code> is null as I thought TornadoFX <code>View</code> was supposed to create a new <code>Scene</code> when it's initialized? Do I need to manually create it in the App class? I tried overriding the <code>createPrimaryScene</code> function, and also moving my code to an <code>init</code> function within the <code>HomeView</code> view\u2013 both with no success.</p>\n\n<p>Any ideas? Pulling out hairs over here.</p>\n\n<p>(Oh, and on an unrelated note, could I just say that having 3D support in TornadoFX would, quite frankly, make my <em>entire life</em>?)</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 60850, "user_id": 221955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0bc09e1bd45610fc85274cd7bb002c56?s=128&d=identicon&r=PG", "display_name": "Michael Anderson", "link": "https://stackoverflow.com/users/221955/michael-anderson"}, "edited": false, "score": 0, "creation_date": 1509496076, "post_id": 47046474, "comment_id": 81040206, "body": "This question is really just a place to put a reply to a comment in another answer (<a href=\"https://stackoverflow.com/a/40352734/221955\">stackoverflow.com/a/40352734/221955</a>), where my reply was not appropriate and too long to be left as a comment."}], "answers": [{"comments": [{"owner": {"reputation": 332, "user_id": 1084126, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/erfbb.jpg?s=128&g=1", "display_name": "Yajairo87", "link": "https://stackoverflow.com/users/1084126/yajairo87"}, "edited": false, "score": 0, "creation_date": 1511462166, "post_id": 47046498, "comment_id": 81878047, "body": "Great. Thank you so much for your explanation."}], "tags": [], "owner": {"reputation": 60850, "user_id": 221955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0bc09e1bd45610fc85274cd7bb002c56?s=128&d=identicon&r=PG", "display_name": "Michael Anderson", "link": "https://stackoverflow.com/users/221955/michael-anderson"}, "is_accepted": false, "score": 4, "last_activity_date": 1509496242, "creation_date": 1509496242, "answer_id": 47046498, "question_id": 47046474, "link": "https://stackoverflow.com/questions/47046474/what-are-the-advantages-of-a-companion-object-over-a-plain-object/47046498#47046498", "title": "What are the advantages of a companion object over a plain object?", "body": "<p>One of the key differences is visibility of the members. \nIn a companion object, visibility to the containing class is as-if the members were part of the class - this is not the case for a raw object.</p>\n\n<p>The example below shows that you cant use an \"object\" to implement private static internals of a class.</p>\n\n<pre><code>package com.example\n\nclass Boo {\n\n    companion object Boo_Core {\n        // Public \"static\" call that non-Boo classes should not be able to call\n        fun add_pub(a:Int) = a+1;\n\n        // Internal \"static\" call that non-Boo classes should not be able to call\n        private fun add_priv(a:Int) = a+1;\n    }\n\n    // OK: Functions in Boo can call the public members of the companion object\n    fun blah_pub(a:Int) = add_pub(a)\n    // OK: Functions in Boo can call the private members of the companion object\n    fun blah_priv(a:Int) = add_priv(a)\n}\n\n//Same idea as the companion object, but as an \"object\" instead.\nobject Foo_Core {\n    fun add_pub(a:Int) = a+1\n    private fun add_priv(a:Int) = a+1;\n}\n\nclass Foo {\n    // OK Foo can get Foo_Cors add_pub\n    fun blah_pub(a:Int) = Foo_Core.add_pub(a);\n\n    // ERROR: can not get to add_priv\n    // fun blah_priv(a:Int) = Foo_Core.add_priv(a);\n}\n\nclass AnInterloper {\n\n    // OK Other classes can use public entries in Foo.\n    fun blah_foo_pub(a:Int) = Foo_Core.add_pub(a); \n\n    // ERROR Other classes can use public entries in Foo.\n    // fun blah_foo_priv(a:Int) = Foo_Core.add_priv(a); \n\n    // OK: Other classes can use public Boo classes\n    fun blah_boo_pub(a:Int) = Boo.add_pub(a);\n\n    // ERROR: Other classes can not use private Boo classes\n    // fun blah_boo_priv(a:Int) = Boo.add_priv(a);\n}\n</code></pre>\n"}], "owner": {"reputation": 60850, "user_id": 221955, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/0bc09e1bd45610fc85274cd7bb002c56?s=128&d=identicon&r=PG", "display_name": "Michael Anderson", "link": "https://stackoverflow.com/users/221955/michael-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 522, "favorite_count": 1, "answer_count": 1, "score": 7, "last_activity_date": 1509496242, "creation_date": 1509495992, "question_id": 47046474, "link": "https://stackoverflow.com/questions/47046474/what-are-the-advantages-of-a-companion-object-over-a-plain-object", "title": "What are the advantages of a companion object over a plain object?", "body": "<p>Kotlin code like this:</p>\n\n<pre><code>class Foo {\n  companion object {\n     fun a() : Int = 1\n  }\n  fun b() = a() + 1\n}\n</code></pre>\n\n<p>can trivially be changed to </p>\n\n<pre><code>object FooStatic {\n   fun a() : Int = 1\n}\n\nclass Foo {\n  fun b() = FooStatic.a()\n}\n</code></pre>\n\n<p>I'm aware that the companion object can be used to allow use as real java static function, but are there any other advantages to using the companion object?</p>\n"}, {"tags": ["kotlin", "kotlin-android-extensions", "kotlin-extension", "rx-kotlin"], "comments": [{"owner": {"reputation": 2301, "user_id": 1168212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oayHK.jpg?s=128&g=1", "display_name": "Alex Yu", "link": "https://stackoverflow.com/users/1168212/alex-yu"}, "edited": false, "score": 1, "creation_date": 1509507603, "post_id": 47046329, "comment_id": 81042903, "body": "Adam, I suppose you&#39;re joking! Why do you create <code>companion object</code> ? It&#39;s purpose is: <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects\" rel=\"nofollow noreferrer\">Note that, even though the members of companion objects look like static members in other languages, at runtime those are still instance members of real objects,...</a>"}, {"owner": {"reputation": 2301, "user_id": 1168212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oayHK.jpg?s=128&g=1", "display_name": "Alex Yu", "link": "https://stackoverflow.com/users/1168212/alex-yu"}, "edited": false, "score": 1, "creation_date": 1509507828, "post_id": 47046329, "comment_id": 81042951, "body": "Just remove companion object and make your methods as normal members of class."}, {"owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "reply_to_user": {"reputation": 2301, "user_id": 1168212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oayHK.jpg?s=128&g=1", "display_name": "Alex Yu", "link": "https://stackoverflow.com/users/1168212/alex-yu"}, "edited": false, "score": 0, "creation_date": 1509508311, "post_id": 47046329, "comment_id": 81043063, "body": "Thanks @Ingaz! I removed the <code>companion object{}</code> and updated my code exactly as implemented above. It still is using the same QuickSort() instance."}, {"owner": {"reputation": 2301, "user_id": 1168212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oayHK.jpg?s=128&g=1", "display_name": "Alex Yu", "link": "https://stackoverflow.com/users/1168212/alex-yu"}, "edited": false, "score": 0, "creation_date": 1509510779, "post_id": 47046329, "comment_id": 81043609, "body": "Congratulations!  Kotlin is great language, practical and not ugly in the same time.  Also I still can&#39;t understand what you tried to accomplish.  Kotlin has online playground:  <a href=\"https://try.kotlinlang.org/#/UserProjects/9ck28rcs1gco73cerr7ql2hi2g/ksu96t5p1t5e3ti9q05ppec5b9\" rel=\"nofollow noreferrer\">try.kotlinlang.org/#/UserProjects/9ck28rcs1gco73cerr7ql2hi2g&zwnj;&#8203;/&hellip;</a>"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "edited": false, "score": 2, "creation_date": 1509566230, "post_id": 47046329, "comment_id": 81073452, "body": "<code>My goal is to have quickSort1 and quickSort2 be 2 separate instances.</code> Your attempted solution does just that. Full code would be helpful, there is a lot of suspicious looking bits. (Where did <code>quickSortFirst</code> <i>method</i> suddenly come from? Is <code>quickSortOne</code> a function? Both of them operate on the same array list, is that ok?)"}], "answers": [{"comments": [{"owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "edited": false, "score": 1, "creation_date": 1509507178, "post_id": 47046414, "comment_id": 81042819, "body": "Converting QuickSort from an object to a class still results in the same instance being used as seen by the count of the second method including the first calls count."}], "tags": [], "owner": {"reputation": 20461, "user_id": 1452094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a12b28824b215e4886da2e9f376369f?s=128&d=identicon&r=PG", "display_name": "Kiskae", "link": "https://stackoverflow.com/users/1452094/kiskae"}, "is_accepted": false, "score": 8, "last_activity_date": 1509495529, "creation_date": 1509495529, "answer_id": 47046414, "question_id": 47046329, "link": "https://stackoverflow.com/questions/47046329/create-new-instance-of-kotlin-object/47046414#47046414", "title": "Create New Instance of Kotlin Object", "body": "<p><code>object</code> is a kotlin's version of a singleton. By using it you specify that there will only be 1 instance that is shared by all its users.</p>\n\n<p>Turn it into a <code>class</code> and you will be able to create individual instances.</p>\n"}, {"comments": [{"owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "edited": false, "score": 1, "creation_date": 1509507163, "post_id": 47046444, "comment_id": 81042813, "body": "Converting QuickSort from an object to a class still results in the same instance being used as seen by the count of the second method including the first calls count."}, {"owner": {"reputation": 2301, "user_id": 1168212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oayHK.jpg?s=128&g=1", "display_name": "Alex Yu", "link": "https://stackoverflow.com/users/1168212/alex-yu"}, "reply_to_user": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "edited": false, "score": 2, "creation_date": 1509507753, "post_id": 47046444, "comment_id": 81042933, "body": "Of course! Because you wrote <code>companion object</code> - they are somewhat near/equivalent to static members in Java/C#."}], "tags": [], "owner": {"reputation": 2301, "user_id": 1168212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oayHK.jpg?s=128&g=1", "display_name": "Alex Yu", "link": "https://stackoverflow.com/users/1168212/alex-yu"}, "is_accepted": false, "score": 3, "last_activity_date": 1509495791, "creation_date": 1509495791, "answer_id": 47046444, "question_id": 47046329, "link": "https://stackoverflow.com/questions/47046329/create-new-instance-of-kotlin-object/47046444#47046444", "title": "Create New Instance of Kotlin Object", "body": "<p>Adam, you miss the whole point: <code>object</code>s are singeletones by design.</p>\n\n<p>It's one of good scala featuras copied into kotlin.</p>\n\n<p>(In java or C# you have ugly <code>static</code> members mixed with normal class members).</p>\n\n<p>As for your question:</p>\n\n<p>A. No you can't make two instanse of kotlin/scala <code>object</code> as you can't have two different <code>String</code> in Java/C#. </p>\n\n<p>B. Just replace <code>object</code> with <code>class</code> (and do you really need <code>new</code>?  I never missed it in python)</p>\n"}, {"tags": [], "owner": {"reputation": 14340, "user_id": 2612259, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/70fec6995fdcaebf6362e10bd501f34f?s=128&d=identicon&r=PG", "display_name": "nPn", "link": "https://stackoverflow.com/users/2612259/npn"}, "is_accepted": false, "score": 1, "last_activity_date": 1509567256, "last_edit_date": 1509567256, "creation_date": 1509565172, "answer_id": 47062448, "question_id": 47046329, "link": "https://stackoverflow.com/questions/47046329/create-new-instance-of-kotlin-object/47062448#47062448", "title": "Create New Instance of Kotlin Object", "body": "<p>You definitely want to use a class as the object keyword creates only the one instance.  You can use a companion object within the class to keep track of the number of instances of the class that get created.</p>\n\n<p>Here is an example which you also try <a href=\"https://try.kotlinlang.org/#/UserProjects/sjomqn76k9lpqgs642et5cag2i/dnga8fvbj7n3qf2ffg8pei68nu\" rel=\"nofollow noreferrer\">here</a></p>\n\n<pre><code>data class QuickSort(val objectName: String) {\n    init {\n        count++ \n    }\n    companion object {\n        var count = 0\n        fun printCount() = println(\"count = $count\")\n    }   \n}\n\nfun main(args: Array&lt;String&gt;) {\n    QuickSort.printCount()\n    val quickSort1 = QuickSort(\"qs1\")\n    QuickSort.printCount()\n    val quickSort2 = QuickSort(\"qs2\")\n    QuickSort.printCount()  \n    // just to prove you have two instances.\n    println(quickSort1)\n    println(quickSort2)\n    println(\"quickSort1 hashcode = ${quickSort1.hashCode()}, quickSort2 hashcode = ${quickSort2.hashCode()}\")\n}\n</code></pre>\n\n<p>which produces :</p>\n\n<pre><code>count = 0\ncount = 1\ncount = 2\nQuickSort(objectName=qs1)\nQuickSort(objectName=qs2)\nquickSort1 hashcode = 112207, quickSort2 hashcode = 112208\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "is_accepted": true, "score": 2, "last_activity_date": 1509774143, "creation_date": 1509774143, "answer_id": 47107834, "question_id": 47046329, "link": "https://stackoverflow.com/questions/47046329/create-new-instance-of-kotlin-object/47107834#47107834", "title": "Create New Instance of Kotlin Object", "body": "<p>I figured out my issue. I was passing in the same ArrayList to both quickSortOne() and quickSortTwo(). Since the ArrayList was being modified by the first method, the second method was being affected as well.</p>\n"}], "owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28086, "favorite_count": 1, "accepted_answer_id": 47107834, "answer_count": 4, "score": 9, "last_activity_date": 1509774143, "creation_date": 1509494941, "last_edit_date": 1509508169, "question_id": 47046329, "link": "https://stackoverflow.com/questions/47046329/create-new-instance-of-kotlin-object", "title": "Create New Instance of Kotlin Object", "body": "<p>I have an object <em>QuickSort</em> that I am attempting to create 2 instances of. When I try to create 2 separate instances I can see that it is only using one instance because I have a count in the <em>QuickSort</em> class that is inaccurate. Kotlin does not use <strong>new</strong> in the syntax, so how would I go about this?</p>\n\n<pre><code>object QuickSort {\n      var count = 0;\n      quickSortOne(...){\n          ...\n          count++\n          ...\n      }\n      quickSortTwo(...){\n          ...\n          count++\n          ...\n      }\n  } \n</code></pre>\n\n<p>Here is how I am attempting to create my 2 instances.My goal is to have <em>quickSort1</em> and <em>quickSort2</em> be 2 separate instances.</p>\n\n<pre><code>var quickSort1 = QuickSort\nquickSort1.quickSortOne(...)\n\nvar quickSort2 = QuickSort\nquickSort2.quickSortTwo(...)\n</code></pre>\n\n<p><strong>Attempted Solution</strong>: Converting <em>QuickSort</em> from an object to a class. This still results in the same instance being used as seen by the count of the second method including the first calls count.</p>\n\n<pre><code>class QuickSort {\n      var count = 0;\n      quickSortOne(...){\n          ...\n          count++\n          ...\n      }\n      quickSortTwo(...){\n          ...\n          count++\n          ...\n      }\n  }\n</code></pre>\n\n<p>...</p>\n\n<pre><code>var quickSortFirst = QuickSort()\nprintTest(quickSortFirst.quickSortFirst(arrayList, 0, arrayList.size - 1))\n\nvar quickSortLast = QuickSort()\nprintTest(quickSortLast.quickSortLast(arrayList, 0, arrayList.size - 1))\n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 5351, "user_id": 620138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55d02edc21d79a4015690af79f54678a?s=128&d=identicon&r=PG", "display_name": "Aaron He", "link": "https://stackoverflow.com/users/620138/aaron-he"}, "edited": false, "score": 0, "creation_date": 1509496755, "post_id": 47046263, "comment_id": 81040356, "body": "each entry in the map would be String as the key and the list as the value?"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "reply_to_user": {"reputation": 5351, "user_id": 620138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/55d02edc21d79a4015690af79f54678a?s=128&d=identicon&r=PG", "display_name": "Aaron He", "link": "https://stackoverflow.com/users/620138/aaron-he"}, "edited": false, "score": 0, "creation_date": 1509496863, "post_id": 47046263, "comment_id": 81040382, "body": "Right... I can&#39;t find of a good function to do it, except for the conventional way of looping though using immutable collection. Looks not concise."}, {"owner": {"reputation": 12952, "user_id": 2398375, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1a5530da29f23682b10bb5568076f83d?s=128&d=identicon&r=PG", "display_name": "Dioxin", "link": "https://stackoverflow.com/users/2398375/dioxin"}, "edited": false, "score": 0, "creation_date": 1509496925, "post_id": 47046263, "comment_id": 81040401, "body": "You need to do <code>associateBy({it.alpha}, {it.num})</code>"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1509497103, "post_id": 47046263, "comment_id": 81040451, "body": "Not helping, the &quot;a&quot; will only contain 4. What I want is &quot;a&quot; with (1, 4)."}], "answers": [{"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1509502216, "post_id": 47046976, "comment_id": 81041620, "body": "Thanks mate. Your came in late a bit. Else I would give you a tick. Anyway, I upvote your answer!"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1509502272, "post_id": 47046976, "comment_id": 81041629, "body": "If you think my question could help others, do upvote my question ya... Thanks :)"}], "tags": [], "owner": {"reputation": 386, "user_id": 8816819, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b1c0ab7d389604aace65d97e69f6f09?s=128&d=identicon&r=PG&f=1", "display_name": "Jacky Choi", "link": "https://stackoverflow.com/users/8816819/jacky-choi"}, "is_accepted": false, "score": 10, "last_activity_date": 1509500225, "creation_date": 1509500225, "answer_id": 47046976, "question_id": 47046263, "link": "https://stackoverflow.com/questions/47046263/kotlin-how-to-convert-list-to-map-with-list/47046976#47046976", "title": "Kotlin: How to convert list to map with list?", "body": "<p>You may group the list by <code>alpha</code> first and then map the value to <code>List&lt;Int&gt;</code>:</p>\n\n<pre><code>data class Combine(val alpha: String, val num: Int)\nval list = arrayListOf(Combine(\"a\", 1), Combine(\"b\", 2), Combine(\"c\", 3), Combine(\"a\", 4))\nval mapOfList = list\n        .groupBy { it.alpha }\n        .mapValues { it.value.map { it.num } }\nprintln(mapOfList)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 1, "creation_date": 1509502143, "post_id": 47046990, "comment_id": 81041601, "body": "Great! <code>groupBy</code> is indeed the answer. I improve the answer with <code>val result = list.groupBy { it.alpha }.mapValues { it.value.map { it.num } }</code> Thanks. Vote up for you and tick. (If you think my question helps others as well... do give a vote to it :)"}, {"owner": {"reputation": 17307, "user_id": 869184, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/58a3657cee7bdb5f537020660d9711e0?s=128&d=identicon&r=PG&f=1", "display_name": "Ilya", "link": "https://stackoverflow.com/users/869184/ilya"}, "edited": false, "score": 1, "creation_date": 1509538463, "post_id": 47046990, "comment_id": 81056016, "body": "Note that there&#39;s <code>groupBy</code> overload with two selectors: key and value, so you don&#39;t have to call <code>mapValue</code> in the end: <code>groupBy({ it.apha }, { it.num })</code>"}, {"owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "edited": false, "score": 0, "creation_date": 1600314588, "post_id": 47046990, "comment_id": 113050003, "body": "The collection API cheatsheet <a href=\"https://medium.com/mobile-app-development-publication/kotlin-collection-functions-cheat-sheet-975371a96c4b?source=friends_link&amp;sk=5549a09ff615dbfd02694807e4f9d86a\" rel=\"nofollow noreferrer\">medium.com/mobile-app-development-publication/&hellip;</a>"}], "tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": true, "score": 22, "last_activity_date": 1509539388, "last_edit_date": 1509539388, "creation_date": 1509500402, "answer_id": 47046990, "question_id": 47046263, "link": "https://stackoverflow.com/questions/47046263/kotlin-how-to-convert-list-to-map-with-list/47046990#47046990", "title": "Kotlin: How to convert list to map with list?", "body": "<h1>Code</h1>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    data class Combine(val alpha: String, val num: Int)\n    val list = arrayListOf(Combine(\"a\", 1), Combine(\"b\", 2), Combine(\"c\", 3), Combine(\"a\", 4))\n    val mapOfList = list.associateBy ( {it.alpha}, {it.num} )\n    println(mapOfList)\n    val changed = list\n        .groupBy ({ it.alpha }, {it.num})\n    println(changed)\n}\n</code></pre>\n\n<h1>Output</h1>\n\n<pre><code>{a=4, b=2, c=3}\n{a=[1, 4], b=[2], c=[3]}\n</code></pre>\n\n<h1>How it works</h1>\n\n<ul>\n<li>First it takes the list</li>\n<li>It groups the <code>Combine</code>s by their alpha value to their <code>num</code> values</li>\n</ul>\n"}], "owner": {"reputation": 29751, "user_id": 3286489, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yTcB3.png?s=128&g=1", "display_name": "Elye", "link": "https://stackoverflow.com/users/3286489/elye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8444, "favorite_count": 2, "accepted_answer_id": 47046990, "answer_count": 2, "score": 24, "last_activity_date": 1509539388, "creation_date": 1509494484, "last_edit_date": 1509497132, "question_id": 47046263, "link": "https://stackoverflow.com/questions/47046263/kotlin-how-to-convert-list-to-map-with-list", "title": "Kotlin: How to convert list to map with list?", "body": "<p>I have a list as below\n{(\"a\", 1), (\"b\", 2), (\"c\", 3), (\"a\", 4)}</p>\n\n<p>I want to convert it to a map of list as below\n{(\"a\" (1, 4)),  (\"b\", (2)), (\"c\", (3)))}</p>\n\n<p>i.e. for a, we have a list of 1 and 4, since the key is the same.</p>\n\n<p>The answer in\n<a href=\"https://stackoverflow.com/questions/32935470/how-to-convert-list-to-map-in-kotlin\">How to convert List to Map in Kotlin?</a> only show unique value (instead of duplicate one like mine).</p>\n\n<p>I tried <code>associateBy</code> in Kotlin</p>\n\n<pre><code>    data class Combine(val alpha: String, val num: Int)\n    val list = arrayListOf(Combine(\"a\", 1), Combine(\"b\", 2), Combine(\"c\", 3), Combine(\"a\", 4))\n    val mapOfList = list.associateBy ( {it.alpha}, {it.num} )\n    println(mapOfList)\n</code></pre>\n\n<p>But doesn't seems to work. How could I do it in Kotlin?</p>\n"}, {"tags": ["spring", "kotlin", "jooq"], "comments": [{"owner": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "edited": false, "score": 0, "creation_date": 1509529268, "post_id": 47046151, "comment_id": 81050763, "body": "I suspect this question will need a bit more context. What&#39;s your complete configuration? Where is your injectable <code>DSLContext</code> configured?"}, {"owner": {"reputation": 31, "user_id": 7810923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f315b00c5b62c7c3b05465b42daf127?s=128&d=identicon&r=PG&f=1", "display_name": "JustAsking", "link": "https://stackoverflow.com/users/7810923/justasking"}, "reply_to_user": {"reputation": 179634, "user_id": 521799, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/eb96efa7a5664ba1c4ebf586abd4121f?s=128&d=identicon&r=PG", "display_name": "Lukas Eder", "link": "https://stackoverflow.com/users/521799/lukas-eder"}, "edited": false, "score": 0, "creation_date": 1509536265, "post_id": 47046151, "comment_id": 81054706, "body": "I&#39;ve followed the jooq kotlin example and jooq spring boot example. I&#39;ll create small sample project to demonstrate my problem."}], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 7810923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f315b00c5b62c7c3b05465b42daf127?s=128&d=identicon&r=PG&f=1", "display_name": "JustAsking", "link": "https://stackoverflow.com/users/7810923/justasking"}, "is_accepted": false, "score": 1, "last_activity_date": 1509542564, "creation_date": 1509542564, "answer_id": 47055873, "question_id": 47046151, "link": "https://stackoverflow.com/questions/47046151/how-to-inject-jooqs-dslcontext-in-kotlin-class/47055873#47055873", "title": "How to inject JOOQ&#39;s DSLcontext in Kotlin class", "body": "<p>I had a wrong configuratuion as Lukas Eder pointed out. It starts to work after I've added following dependency to pom.xml file:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n   &lt;artifactId&gt;spring-boot-starter-jooq&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Thanks for your help,\nOndrej</p>\n"}], "owner": {"reputation": 31, "user_id": 7810923, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f315b00c5b62c7c3b05465b42daf127?s=128&d=identicon&r=PG&f=1", "display_name": "JustAsking", "link": "https://stackoverflow.com/users/7810923/justasking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 554, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1509542564, "creation_date": 1509493657, "last_edit_date": 1509493837, "question_id": 47046151, "link": "https://stackoverflow.com/questions/47046151/how-to-inject-jooqs-dslcontext-in-kotlin-class", "title": "How to inject JOOQ&#39;s DSLcontext in Kotlin class", "body": "<p>I am using JOOQ with Kotlin, Spring and PostgreSQL. I'm able to run JOOQ generator and query data. The problem is that I am not able to inject DSLcontext in repository class constructor.</p>\n\n<p>It throws following exception: </p>\n\n<p>Field <code>dslContext</code> in someRepository required a bean of type <code>org.jooq.DSLContext</code> that could not be found.</p>\n\n<p>Injection looks like this:</p>\n\n<pre><code>@Repository\nclass SomeRepositoryImpl(private val dslContext: DSLContext): SomeRepository\n{\n\n}\n</code></pre>\n\n<p>Cheers,\nOndrej</p>\n"}, {"tags": ["android", "android-studio", "gradle", "annotations", "kotlin"], "comments": [{"owner": {"reputation": 18360, "user_id": 2911458, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/3a6060bc7ace07fa75791cd5dac2d46a?s=128&d=identicon&r=PG", "display_name": "stkent", "link": "https://stackoverflow.com/users/2911458/stkent"}, "edited": false, "score": 1, "creation_date": 1509486492, "post_id": 47044955, "comment_id": 81037399, "body": "May be relevant: <a href=\"https://discuss.kotlinlang.org/t/kapt-generatestubs/3736/2\" rel=\"nofollow noreferrer\">discuss.kotlinlang.org/t/kapt-generatestubs/3736/2</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 8, "last_activity_date": 1509487091, "creation_date": 1509487091, "answer_id": 47045126, "question_id": 47044955, "link": "https://stackoverflow.com/questions/47044955/kapt-generatestubs-is-not-used-by-the-kotlin-kapt-plugin/47045126#47045126", "title": "&#39;kapt.generateStubs&#39; is not used by the &#39;kotlin-kapt&#39; plugin", "body": "<p>You should apply the kotlin-kapt plugin in your build.gradle file and remove the generateStubs = true</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'kotlin-kapt'\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 761, "user_id": 3763032, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/667ae3c0db85f45c13ba6a9fa845a371?s=128&d=identicon&r=PG", "display_name": "mochadwi", "link": "https://stackoverflow.com/users/3763032/mochadwi"}, "edited": false, "score": 2, "creation_date": 1573500188, "post_id": 47045835, "comment_id": 103894393, "body": "Thanks a lot, you saved my day."}], "tags": [], "owner": {"reputation": 1184, "user_id": 6275756, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c4a6d2e911e7a47db549e946fef4dc1?s=128&d=identicon&r=PG&f=1", "display_name": "Vyacheslav Gerasimov", "link": "https://stackoverflow.com/users/6275756/vyacheslav-gerasimov"}, "is_accepted": true, "score": 63, "last_activity_date": 1509491524, "creation_date": 1509491524, "answer_id": 47045835, "question_id": 47044955, "link": "https://stackoverflow.com/questions/47044955/kapt-generatestubs-is-not-used-by-the-kotlin-kapt-plugin/47045835#47045835", "title": "&#39;kapt.generateStubs&#39; is not used by the &#39;kotlin-kapt&#39; plugin", "body": "<p>It is completely safe to remove <code>kapt { generateStubs = true }</code>. It was originally used by <code>kapt1</code>, which is deprecated now.</p>\n\n<p>Some docs about kapt:\n<a href=\"https://kotlinlang.org/docs/reference/kapt.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/kapt.html</a></p>\n"}], "owner": {"reputation": 16751, "user_id": 602094, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/725306370a270aec71f052f366496ddb?s=128&d=identicon&r=PG", "display_name": "triad", "link": "https://stackoverflow.com/users/602094/triad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11104, "favorite_count": 4, "accepted_answer_id": 47045835, "answer_count": 2, "score": 26, "last_activity_date": 1509491524, "creation_date": 1509486122, "last_edit_date": 1509486480, "question_id": 47044955, "link": "https://stackoverflow.com/questions/47044955/kapt-generatestubs-is-not-used-by-the-kotlin-kapt-plugin", "title": "&#39;kapt.generateStubs&#39; is not used by the &#39;kotlin-kapt&#39; plugin", "body": "<p>I recently updated from Android Studio 2.3 to 3.0, and kotlin <code>1.1.4</code> to <code>1.1.51</code>.</p>\n\n<p>Now I'm seeing this message in my gradle console:</p>\n\n<blockquote>\n  <p>'kapt.generateStubs' is not used by the 'kotlin-kapt' plugin</p>\n</blockquote>\n\n<p>I have this in my <code>build.gradle</code> to get my project working with some libraries using annotation processing:</p>\n\n<blockquote>\n  <p>kapt { generateStubs = true }</p>\n</blockquote>\n\n<p>Is the <code>generateStubs</code> line no longer needed and is it safe to remove? Or is there another action I should take to remove the warning message above?</p>\n"}, {"tags": ["android", "android-layout", "kotlin", "android-relativelayout"], "answers": [{"tags": [], "owner": {"reputation": 44108, "user_id": 8298909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MRxNb.jpg?s=128&g=1", "display_name": "Ben P.", "link": "https://stackoverflow.com/users/8298909/ben-p"}, "is_accepted": true, "score": 1, "last_activity_date": 1509479618, "creation_date": 1509479618, "answer_id": 47043540, "question_id": 47043453, "link": "https://stackoverflow.com/questions/47043453/how-to-explain-this-weird-behaviour-when-programmatically-setting-margins-to-a-v/47043540#47043540", "title": "How to explain this weird behaviour when programmatically setting margins to a view inside RelativeLayout?", "body": "<p>Almost all Java-code dimension values that are just raw <code>int</code> or <code>float</code> use <strong>px</strong> units, <em>not</em> dp. It is very likely that you are executing your code on an hdpi device. If so, your screen density means that <code>1dp</code> == <code>2px</code>, and this would explain why everything seems to be \"divided by 2\".</p>\n\n<p>You can find your current screen density with code like this: </p>\n\n<pre><code>float density = [context].getResources().getDisplayMetrics().density;\n</code></pre>\n\n<p>And you can then multiply any <code>dp</code> values by this <code>density</code> to get the <code>px</code> values.</p>\n\n<p>Alternatively, if you're working with dimensions that you've stored as <code>&lt;dimen&gt;</code> resources, you can just call:</p>\n\n<pre><code>int dimen = [context].getResources().getDimensionPixelSize(R.dimen.my_dimen);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 0, "last_activity_date": 1509479813, "creation_date": 1509479813, "answer_id": 47043589, "question_id": 47043453, "link": "https://stackoverflow.com/questions/47043453/how-to-explain-this-weird-behaviour-when-programmatically-setting-margins-to-a-v/47043589#47043589", "title": "How to explain this weird behaviour when programmatically setting margins to a view inside RelativeLayout?", "body": "<p>The values you are using to update your margins are in px size</p>\n\n<pre><code>params.topMargin = 292\nparams.leftMargin = 292\n</code></pre>\n\n<p>If you want to change them to 292dp you should load a dimen resource or multiply the value for displayMetric density</p>\n\n<p>You can use the anko dip function </p>\n\n<pre><code>fun Context.dip(value: Int): Int = (value * resources.displayMetrics.density).toInt()\n</code></pre>\n\n<p>Your code will look like this:</p>\n\n<pre><code>params.topMargin = dip(292)\nparams.leftMargin = dip(292)\n</code></pre>\n\n<p>Maybe this can fix your issue.</p>\n"}], "owner": {"reputation": 312, "user_id": 8746644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a519bf2c839cd239b8c5e24a1704dca2?s=128&d=identicon&r=PG&f=1", "display_name": "michpohl", "link": "https://stackoverflow.com/users/8746644/michpohl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 47043540, "answer_count": 2, "score": 0, "last_activity_date": 1538698974, "creation_date": 1509479208, "last_edit_date": 1538698974, "question_id": 47043453, "link": "https://stackoverflow.com/questions/47043453/how-to-explain-this-weird-behaviour-when-programmatically-setting-margins-to-a-v", "title": "How to explain this weird behaviour when programmatically setting margins to a view inside RelativeLayout?", "body": "<p>I have a RelativeLayout inside a fragment that one of three tabs in a TabView. See this Screenshot - big pink square is my RelativeLayout:\n<a href=\"https://i.stack.imgur.com/pX8xg.jpg\" rel=\"nofollow noreferrer\">screenshot</a></p>\n\n<p>The view that is inside it is the little blue square in the bottom right corner. Since the RelativeLayout is 300x300dp and the little square is 8x8dp, if I set its top and left margin to 292dp it ends up in that corner.\nNow I want to change its position programmatically, but when I do it, my values keep getting divided by two. So if I change the margins from 292 to 292 it ends up in the center of the RelativeLayout, but if I set each to 292*2, it ends up back in the corner. \nMaybe there is someone who knows what is happening here?</p>\n\n<p>This is my layout file:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\r\n&lt;layout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"&gt;\r\n\r\n  \r\n    &lt;android.support.constraint.ConstraintLayout\r\n\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"match_parent\"&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:width=\"40dp\"\r\n            android:height=\"40dp\"\r\n            android:background=\"@color/colorAccent\"\r\n            android:text=\"Test!\" /&gt;\r\n\r\n        &lt;RelativeLayout\r\n            android:layout_width=\"300dp\"\r\n            android:layout_height=\"300dp\"\r\n            android:background=\"@color/colorAccent\"\r\n            app:layout_constraintBottom_toBottomOf=\"parent\"\r\n            app:layout_constraintLeft_toLeftOf=\"parent\"\r\n            app:layout_constraintRight_toRightOf=\"parent\"\r\n            app:layout_constraintTop_toTopOf=\"parent\"&gt;\r\n\r\n            &lt;View\r\n                android:id=\"@+id/position_dot\"\r\n                android:layout_width=\"8dp\"\r\n                android:layout_height=\"8dp\"\r\n                android:layout_alignParentStart=\"true\"\r\n                android:layout_alignParentTop=\"true\"\r\n                android:background=\"@color/colorPrimary\"\r\n                android:layout_marginLeft=\"292dp\"\r\n                android:layout_marginTop=\"292dp\"/&gt;\r\n\r\n        &lt;/RelativeLayout&gt;\r\n\r\n\r\n    &lt;/android.support.constraint.ConstraintLayout&gt;\r\n\r\n\r\n&lt;/layout&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and this is the method I use to update the margins:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> fun moveDotToCurrentPosition() {\r\n        var params = positionDot.layoutParams as RelativeLayout.LayoutParams\r\n\r\n        params.topMargin = 292\r\n        params.leftMargin = 292\r\n       \r\n        positionDot.layoutParams = params\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I tried to keep the code short and limited to what's relevant, if something important is missing please let me know and I put it in.\nI'm writing this one in Kotlin, but Java answers will be helpful too.\nThank you.</p>\n"}, {"tags": ["java", "android", "kotlin", "bluetooth-lowenergy"], "comments": [{"owner": {"reputation": 11621, "user_id": 556495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a96b42c52adae7773b71378ca52a2fb?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/556495/emil"}, "edited": false, "score": 0, "creation_date": 1509479471, "post_id": 47042818, "comment_id": 81034244, "body": "You should check the hci snoop log file to better find out what happens."}, {"owner": {"reputation": 46, "user_id": 3468029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3252237d39f07064157f7611c58977ad?s=128&d=identicon&r=PG&f=1", "display_name": "Vena", "link": "https://stackoverflow.com/users/3468029/vena"}, "reply_to_user": {"reputation": 11621, "user_id": 556495, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/1a96b42c52adae7773b71378ca52a2fb?s=128&d=identicon&r=PG", "display_name": "Emil", "link": "https://stackoverflow.com/users/556495/emil"}, "edited": false, "score": 0, "creation_date": 1509485415, "post_id": 47042818, "comment_id": 81036979, "body": "Thanks for the reply..I did that but all I can see there is a disconnect request from the phone after successfully connecting to the peripheral."}, {"owner": {"reputation": 5410, "user_id": 1041336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7aaa4c9f281ed2ba443a11704da4b2fa?s=128&d=identicon&r=PG", "display_name": "svenmeier", "link": "https://stackoverflow.com/users/1041336/svenmeier"}, "edited": false, "score": 0, "creation_date": 1576618337, "post_id": 47042818, "comment_id": 104956743, "body": "@Vena did you find the cause of this problem?"}], "owner": {"reputation": 46, "user_id": 3468029, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3252237d39f07064157f7611c58977ad?s=128&d=identicon&r=PG&f=1", "display_name": "Vena", "link": "https://stackoverflow.com/users/3468029/vena"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 810, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1509485658, "creation_date": 1509476478, "last_edit_date": 1509485658, "question_id": 47042818, "link": "https://stackoverflow.com/questions/47042818/ble-unable-to-connect-to-already-bonded-device", "title": "BLE unable to connect to already bonded device", "body": "<p>I have a problem connecting to the bonded BLE device on Android. The first connection to the device, which includes the bonding is successful and I'm able to read all the characteristics and the connection remains stable.</p>\n\n<p>When I kill the app or disconnect manually and try to connect to the device again using the same code except the bonding itself, I'm disconnected from the Android side with error code 22, which means \"Connection terminated by localhost\".</p>\n\n<p>Is there any difference under the hood from Android side in these 2 scenarios that I'm not aware of? I use basically the tutorial code which I can provide if necessary but I've tried basically everything from changing gatt parameters to auto connect/not, adding the <code>BluetoothDevice.TRANSPORT_LE</code> as a transport flag and still nothing.</p>\n\n<p>This problem keeps happening on my Pixel, Moto G4 and all the latest Nexus devices.</p>\n\n<p>The peripheral is using Qualcomm chip CSR1010 uEnergy, is advertising and needs to be paired in order to establish the connection. Here are the snippets of the connection stuff:</p>\n\n<pre><code>val bondCreated = device.createBond()\n</code></pre>\n\n<p>In the Broadcast receiver of the bonding state change I call the connect methods. I've tried to experiment with these two methods omit one and the other, change parameters but nothing</p>\n\n<pre><code>bluetoothGatt = device.connectGatt(context, false, gattCallback, BluetoothDevice.TRANSPORT_LE)\nbluetoothGatt?.connect()\n</code></pre>\n\n<p>If I receive the disconnect info, I call:</p>\n\n<pre><code>bluetoothGatt?.close()\n\nbluetoothGatt?.disconnect()\n</code></pre>\n\n<p>And I try to connect again using the same code as above</p>\n\n<p>I've already tried to put delays everywhere on every gatt operation but still no success. Changing auto connect to true after I'm disconnected by Android doesn't work.</p>\n\n<p>I've also tried some 3rd party iOS apps and all of those connect to the device without a problem. Their Android versions always disconnect the same way mine does.</p>\n\n<p>Could you please provide any help? It will be most appreciated.</p>\n\n<p>The logs are here:</p>\n\n<blockquote>\n  <p>D/BleGattController: DEVICE ALREADY BONDED: Device</p>\n  \n  <p>D/BluetoothGatt: connect() - device: 40:80:08:AF:DC:6B, auto: false</p>\n  \n  <p>D/BluetoothGatt: registerApp()</p>\n  \n  <p>D/BluetoothGatt: onClientRegistered() - status=0 clientIf=8</p>\n  \n  <p>D/BluetoothGatt: onClientConnectionState() - status=0 clientIf=8\n  device=40:80:08:AF:DC:6B</p>\n  \n  <p>D/BleGattController$gattC: onConnectionStateChange 0 - connected</p>\n  \n  <p>D/BleGattController$gattC: STATE_CONNECTED</p>\n  \n  <p>D/BluetoothGatt: onConnectionUpdated() - Device=40:80:08:AF:DC:6B\n  interval=6 latency=0 timeout=500 status=0</p>\n  \n  <p>D/BluetoothGatt: onClientConnectionState() - status=22 clientIf=8\n  device=40:80:08:AF:DC:6B</p>\n  \n  <p>D/BleGattController$gattC: onConnectionStateChange 22 - disconnected</p>\n  \n  <p>D/BleGattController$gattC: STATE_DISCONNECTED</p>\n</blockquote>\n"}, {"tags": ["java", "android", "kotlin", "clean-architecture"], "comments": [{"owner": {"reputation": 2490, "user_id": 7512742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/muuJz.png?s=128&g=1", "display_name": "Adam Vincent", "link": "https://stackoverflow.com/users/7512742/adam-vincent"}, "edited": false, "score": 0, "creation_date": 1509555560, "post_id": 47041495, "comment_id": 81067379, "body": "Short answer, yes there is. Please specify a language."}, {"owner": {"reputation": 4320, "user_id": 3305201, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ydPQH.jpg?s=128&g=1", "display_name": "Bronx", "link": "https://stackoverflow.com/users/3305201/bronx"}, "reply_to_user": {"reputation": 2490, "user_id": 7512742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/muuJz.png?s=128&g=1", "display_name": "Adam Vincent", "link": "https://stackoverflow.com/users/7512742/adam-vincent"}, "edited": false, "score": 0, "creation_date": 1509555709, "post_id": 47041495, "comment_id": 81067472, "body": "@AdamVincent old good Java, but feel free to provide a solution for Kotlin as well (will be useful in the future)"}], "answers": [{"comments": [{"owner": {"reputation": 4320, "user_id": 3305201, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ydPQH.jpg?s=128&g=1", "display_name": "Bronx", "link": "https://stackoverflow.com/users/3305201/bronx"}, "edited": false, "score": 0, "creation_date": 1611838483, "post_id": 65931834, "comment_id": 116582284, "body": "This is a very old question and I actually ended up doing as you said. I completely agree with the answer and I marked it as accepted :)"}, {"owner": {"reputation": 86, "user_id": 6554026, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TS1EB.png?s=128&g=1", "display_name": "grantn", "link": "https://stackoverflow.com/users/6554026/grantn"}, "reply_to_user": {"reputation": 4320, "user_id": 3305201, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ydPQH.jpg?s=128&g=1", "display_name": "Bronx", "link": "https://stackoverflow.com/users/3305201/bronx"}, "edited": false, "score": 0, "creation_date": 1611872855, "post_id": 65931834, "comment_id": 116598130, "body": "Thanks, I hope others find it useful."}], "tags": [], "owner": {"reputation": 86, "user_id": 6554026, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TS1EB.png?s=128&g=1", "display_name": "grantn", "link": "https://stackoverflow.com/users/6554026/grantn"}, "is_accepted": true, "score": 3, "last_activity_date": 1611814047, "creation_date": 1611814047, "answer_id": 65931834, "question_id": 47041495, "link": "https://stackoverflow.com/questions/47041495/easy-way-for-mapping-data-models-to-domain-models/65931834#65931834", "title": "Easy way for mapping data models to domain models", "body": "<p>As <a href=\"https://stackoverflow.com/users/7512742/adam-vincent\">Adam Vincent</a> says, in clean architecture the domain model is central, and beyond that each layer should define it's own model only where it is necessary.</p>\n<p>My day job involves multiple projects that use clean architecture.  We generally find that auto-mapping tools are don't provide much value.  The reason is, clean architecture is fundamentally about eliminating dependencies from your domain layer to implementation/intrastructural layers.  Auto-mapper tools tend to support limited transformations, or even enforce that your persistence layer models (e.g. DTO) match domain types 1-to-1.  This tends to limit the ability of the domain and the persistence layer model to be tailored for their distinct responsiblities.</p>\n<p>In particular, domain classes very often contain a subtly different set of fields to the corresponding persistence layer classes.  We prefer to use patterns such as immutable clases, constructors, and manually implemented mapping logic (the former greatly simplify maintenance of the latter).  This ensures that transformations between domain and persistance models are explicitly and carefully considered.</p>\n"}], "owner": {"reputation": 4320, "user_id": 3305201, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/ydPQH.jpg?s=128&g=1", "display_name": "Bronx", "link": "https://stackoverflow.com/users/3305201/bronx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1878, "favorite_count": 0, "accepted_answer_id": 65931834, "answer_count": 1, "score": 1, "last_activity_date": 1611814047, "creation_date": 1509471759, "last_edit_date": 1509702718, "question_id": 47041495, "link": "https://stackoverflow.com/questions/47041495/easy-way-for-mapping-data-models-to-domain-models", "title": "Easy way for mapping data models to domain models", "body": "<p>I'm following the <code>Clean Architecture</code> pattern in which we have the 3 layers (<code>Presentation</code>, <code>Domain</code>, <code>Data</code>).</p>\n\n<p>Every layer should have its own model and these models should be converted when they are passed to another layer using a mapper.</p>\n\n<p>I wanted to know if there is an easy way (a library?) to map a <code>data model</code> to a <code>domain model</code> without creating a <code>mapper</code>, specially if my <code>data model</code> has a lot of fields (like 40-50).</p>\n\n<p><strong>Edit</strong></p>\n\n<p>I already tried <a href=\"http://modelmapper.org/\" rel=\"nofollow noreferrer\">ModelMapper</a> and <a href=\"https://github.com/DozerMapper/dozer\" rel=\"nofollow noreferrer\">DozerMapper</a> but apparently they don't work well on Android (<a href=\"https://github.com/modelmapper/modelmapper/issues/87\" rel=\"nofollow noreferrer\">ModelMapper issue</a> and <a href=\"https://github.com/DozerMapper/dozer/issues/252\" rel=\"nofollow noreferrer\">DozerMapper issue</a>).</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["android", "kotlin", "kotlin-android-extensions"], "comments": [{"owner": {"reputation": 2245, "user_id": 8548465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33f024c93e8eb6291427b657904b253c?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Magalh&#227;es", "link": "https://stackoverflow.com/users/8548465/jo%c3%a3o-magalh%c3%a3es"}, "edited": false, "score": 0, "creation_date": 1509469885, "post_id": 47040497, "comment_id": 81028612, "body": "How is the view variable defined in the BasePresenter class? Can you post the code? <code>protected var view: V? = null</code> Is it like this?"}], "answers": [{"tags": [], "owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "is_accepted": false, "score": 0, "last_activity_date": 1509469781, "creation_date": 1509469781, "answer_id": 47040907, "question_id": 47040497, "link": "https://stackoverflow.com/questions/47040497/kotlin-parameter-type-mismatch/47040907#47040907", "title": "Kotlin parameter type mismatch", "body": "<p>You cannot directly use this to point to current class. </p>\n\n<p>You need to use </p>\n\n<p><code>this@class_name</code> . </p>\n\n<p>For example if \"<code>Example</code>\" is the <code>class</code> name, you can use</p>\n\n<p><code>this@Example</code></p>\n\n<p>It means <code>this</code> in Java</p>\n\n<p>For more info visit <a href=\"https://kotlinlang.org/docs/reference/this-expressions.html\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/reference/this-expressions.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 0, "creation_date": 1509474501, "post_id": 47041038, "comment_id": 81031498, "body": "I looked into that slightly, but realized that it wasn&#39;t a problem on the Java side. How come it works with the Java code then?"}, {"owner": {"reputation": 2245, "user_id": 8548465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33f024c93e8eb6291427b657904b253c?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Magalh&#227;es", "link": "https://stackoverflow.com/users/8548465/jo%c3%a3o-magalh%c3%a3es"}, "reply_to_user": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 0, "creation_date": 1509476219, "post_id": 47041038, "comment_id": 81032435, "body": "@Rafa I think I know what the problem is. I&#39;ll update the answer"}, {"owner": {"reputation": 2245, "user_id": 8548465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33f024c93e8eb6291427b657904b253c?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Magalh&#227;es", "link": "https://stackoverflow.com/users/8548465/jo%c3%a3o-magalh%c3%a3es"}, "reply_to_user": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 0, "creation_date": 1509476829, "post_id": 47041038, "comment_id": 81032785, "body": "@Rafa can you test the proposed answer?"}, {"owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "edited": false, "score": 0, "creation_date": 1509478403, "post_id": 47041038, "comment_id": 81033652, "body": "That worked, it brought up some other errors regarding type parameters extending the BasePresenter&lt;&gt; class, but I think those are out of the scope of this question, and I can fix now that I understand the solution."}], "tags": [], "owner": {"reputation": 2245, "user_id": 8548465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/33f024c93e8eb6291427b657904b253c?s=128&d=identicon&r=PG", "display_name": "Jo&#227;o Magalh&#227;es", "link": "https://stackoverflow.com/users/8548465/jo%c3%a3o-magalh%c3%a3es"}, "is_accepted": true, "score": 4, "last_activity_date": 1509476722, "last_edit_date": 1509476722, "creation_date": 1509470201, "answer_id": 47041038, "question_id": 47040497, "link": "https://stackoverflow.com/questions/47040497/kotlin-parameter-type-mismatch/47041038#47041038", "title": "Kotlin parameter type mismatch", "body": "<p>Your <code>bindView</code> method requires a <code>View</code> as an argument. </p>\n\n<p>The error you're seeing appears when you define a variable (<code>view</code> defined on BasePresenter) that can hold a null result or, in your case, a View object.</p>\n\n<p>On the code below you're binding <code>this</code> as the argument and MapViewHolder isn't a subclass of View.</p>\n\n<pre><code>abstract class MvpViewHolder&lt;P&gt;(itemView: View) : RecyclerView.ViewHolder(itemView) where P : BasePresenter&lt;*,*&gt; {\n    protected var presenter: P? = null\n\n    fun bindPresenter(presenter: P): Unit {\n        this.presenter = presenter\n        //I get the error here\n        presenter.bindView(this) // -&gt; this references MvpViewHolder which isn't a subclass of View\n    }\n\n    fun unbindPresenter(): Unit {\n        presenter = null\n    }\n}\n</code></pre>\n\n<p>I think that what you want is to attach the itemView to the presenter because it is in fact a <code>View</code> object.</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>The problem has to do with defining <code>BasePresenter&lt;*,*&gt;</code> which means in this case <code>BasePresenter&lt;Nothing, Nothing&gt;</code> (Nothing is an object in kotlin) - read more about <strong>star projections</strong> in kotlin on <a href=\"https://kotlinlang.org/docs/reference/generics.html#star-projections\" rel=\"nofollow noreferrer\">this</a> link.</p>\n\n<p>I would advice defining explicitly the types base presenter is expecting or defining explicitly as <code>BasePresenter&lt;Any?, Any?&gt;</code>.</p>\n"}], "owner": {"reputation": 2506, "user_id": 3079130, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/e1f9a7c19b1487fb867184e4366748d6?s=128&d=identicon&r=PG&f=1", "display_name": "Rafa", "link": "https://stackoverflow.com/users/3079130/rafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4362, "favorite_count": 0, "accepted_answer_id": 47041038, "answer_count": 2, "score": 0, "last_activity_date": 1509476722, "creation_date": 1509468501, "last_edit_date": 1509475207, "question_id": 47040497, "link": "https://stackoverflow.com/questions/47040497/kotlin-parameter-type-mismatch", "title": "Kotlin parameter type mismatch", "body": "<p>I'm trying to convert the following Java Code to Kotlin. It compiles and works fine.</p>\n\n<pre><code>public abstract class MvpViewHolder&lt;P extends BasePresenter&gt; extends RecyclerView.ViewHolder {\n    protected P presenter;\n\n    public MvpViewHolder(View itemView) {\n        super(itemView);\n    }\n\n    public void bindPresenter(P presenter) {\n        this.presenter = presenter;\n        presenter.bindView(this);\n    }\n\n    public void unbindPresenter() {\n        presenter = null;\n    }\n}\n</code></pre>\n\n<p>In the code I currently have, I get an error on the <code>presenter.bindView(this)</code> that states <code>Required: Nothing, Found: MvpViewHolder</code>. </p>\n\n<pre><code>abstract class MvpViewHolder&lt;P&gt;(itemView: View) : RecyclerView.ViewHolder(itemView) where P : BasePresenter&lt;*,*&gt; {\n    protected var presenter: P? = null\n\n    fun bindPresenter(presenter: P): Unit {\n        this.presenter = presenter\n        //I get the error here\n        presenter.bindView(this)\n    }\n\n    fun unbindPresenter(): Unit {\n        presenter = null\n    }\n}\n</code></pre>\n\n<p><code>bindView</code> is defined like so</p>\n\n<pre><code>public abstract class BasePresenter&lt;M,V&gt; {\n    fun bindView(view: V) {\n        this.view = WeakReference(view)\n    }\n}\n</code></pre>\n\n<p>The only thing I can attribute it to right now is not defining the class generics correctly. As far as I can tell, <code>this</code> is still a correct instance of the View generic that is expected as the parameter, I also definitely don't see how it could be <code>Nothing</code>. How can I fix the bug?</p>\n\n<p>EDIT: Java code for BasePresenter</p>\n\n<pre><code>public abstract class BasePresenter&lt;M, V&gt; {\n    protected M model;\n    private WeakReference&lt;V&gt; view;\n\n    public void bindView(@NonNull V view) {\n        this.view = new WeakReference&lt;&gt;(view);\n        if (setupDone()) {\n            updateView();\n        }\n    }\n\n    protected V view() {\n        if (view == null) {\n            return null;\n        } else {\n            return view.get();\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["mongodb", "spring-data", "kotlin", "spring-data-jpa", "spring-data-mongodb"], "comments": [{"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 0, "creation_date": 1509488567, "post_id": 47040029, "comment_id": 81038113, "body": "<a href=\"https://www.clever-cloud.com/blog/engineering/2015/05/20/why-auto-increment-is-a-terrible-idea/\" rel=\"nofollow noreferrer\">Why</a> are you using auto-increments at all?"}], "answers": [{"comments": [{"owner": {"reputation": 228, "user_id": 1936305, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/7bOqq.jpg?s=128&g=1", "display_name": "prakharjain", "link": "https://stackoverflow.com/users/1936305/prakharjain"}, "edited": false, "score": 1, "creation_date": 1556632075, "post_id": 47286808, "comment_id": 98498395, "body": "For persistance, you need to use onBeforeConvert"}], "tags": [], "owner": {"reputation": 612, "user_id": 2673549, "user_type": "registered", "profile_image": "https://graph.facebook.com/710981611/picture?type=large", "display_name": "Sunand Padmanabhan", "link": "https://stackoverflow.com/users/2673549/sunand-padmanabhan"}, "is_accepted": false, "score": 4, "last_activity_date": 1510665252, "creation_date": 1510665252, "answer_id": 47286808, "question_id": 47040029, "link": "https://stackoverflow.com/questions/47040029/prepersist-eventlistener-alternative-for-spring-data-mongo/47286808#47286808", "title": "@PrePersist EventListener alternative for spring-data-mongo", "body": "<p>In Spring data mongo provides event listeners. For example, You can extend <code>AbstractMongoEventListener</code> class and override the below method to achieve the PrePersist equivalent, </p>\n\n<pre><code>public void onBeforeSave(BeforeSaveEvent&lt;E&gt; event) {\n    if (LOG.isDebugEnabled()) {\n      LOG.debug(\"onBeforeSave({}, {})\", event.getSource(), event.getDBObject());\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 7291, "user_id": 5065092, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh3.googleusercontent.com/-ZFrQQ1JOBno/AAAAAAAAAAI/AAAAAAAAAEM/wPeTWiESjWk/photo.jpg?sz=128", "display_name": "Aman Tuladhar", "link": "https://stackoverflow.com/users/5065092/aman-tuladhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1940, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1510665252, "creation_date": 1509466828, "last_edit_date": 1509518536, "question_id": 47040029, "link": "https://stackoverflow.com/questions/47040029/prepersist-eventlistener-alternative-for-spring-data-mongo", "title": "@PrePersist EventListener alternative for spring-data-mongo", "body": "<p>I created a <code>Repository</code> to  auto increment the id of <code>@Document</code> but right now I need to explicitly call the <code>@Id</code> setter method to set the new id. \nIs there a way I can do this using listeners like in JPA <code>@PrePersist</code></p>\n\n<pre><code>@Repository\ninterface UserRepository : MongoRepository&lt;User, Long&gt;, UserRepositoryCustom\n\ninterface UserRepositoryCustom {\n    fun save(user: User): User\n}\n\nclass UserRepositoryImpl(private val mongoOperations: MongoOperations, private val sequenceRepository: SequenceRepository) : UserRepositoryCustom {\n\n    override fun save(user: User): User {\n        // need to call this line for every @Document\n        user.id = sequenceRepository.getNextId(User.SEQUENCE_KEY)\n\n        mongoOperations.insert(user)\n        return user\n    }\n}\n</code></pre>\n\n<p><a href=\"https://github.com/atuladhar-aman/spring-data-mongo-crud/blob/master/src/main/kotlin/atuladhar/aman/mongocrud/user/UserRepository.kt#L23\" rel=\"nofollow noreferrer\">GitHub Code</a></p>\n\n<p>If I implement my code like this I need to call <code>sequenceRepository.getNextId(...)</code> for each and every document before I save it.</p>\n\n<p>In JPA we can use <code>EventListeners</code> like <code>@PrePersist</code>. Is there <code>spring-data-mongo</code> alternative or similar function like to achieve this?</p>\n"}, {"tags": ["android", "menu", "kotlin", "navigation-drawer", "menuitem"], "comments": [{"owner": {"reputation": 329, "user_id": 3792278, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1777695798/picture?type=large", "display_name": "Alleo Indong", "link": "https://stackoverflow.com/users/3792278/alleo-indong"}, "edited": false, "score": 0, "creation_date": 1509463060, "post_id": 47038532, "comment_id": 81024130, "body": "check this related question <a href=\"https://stackoverflow.com/questions/30886453/change-the-color-of-a-checked-menu-item-in-a-navigation-drawer\" title=\"change the color of a checked menu item in a navigation drawer\">stackoverflow.com/questions/30886453/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 3793, "user_id": 1023597, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/OIGyn.png?s=128&g=1", "display_name": "Vishal Pawar", "link": "https://stackoverflow.com/users/1023597/vishal-pawar"}, "is_accepted": false, "score": 0, "last_activity_date": 1509462743, "creation_date": 1509462743, "answer_id": 47038721, "question_id": 47038532, "link": "https://stackoverflow.com/questions/47038532/selected-items-in-menu/47038721#47038721", "title": "Selected items in menu", "body": "<p>Use selector for your menu background </p>\n\n<pre><code>app:itemBackground=\"@drawable/activated_background.xml\"\n</code></pre>\n\n<p>and your selector drawable will be like</p>\n\n<pre><code>&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n            &lt;item android:state_checked=\"false\" android:drawable=\"@drawable/normal\"/&gt;\n\n            &lt;item android:state_checked=\"true\"  android:drawable=\"@drawable/selected\" /&gt;\n\n&lt;/selector&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5698593"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 775, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509540406, "creation_date": 1509462210, "last_edit_date": 1509540406, "question_id": 47038532, "link": "https://stackoverflow.com/questions/47038532/selected-items-in-menu", "title": "Selected items in menu", "body": "<p>How to correctly display the selected items in the menu? via (with grey background):</p>\n\n<p><a href=\"https://i.stack.imgur.com/9LC3H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9LC3H.png\" alt=\"enter image description here\"></a></p>\n\n<p>At the moment:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Fa2cs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fa2cs.png\" alt=\"enter image description here\"></a></p>\n\n<p>Why without grey background?</p>\n\n<p><strong>My XML Menu:</strong></p>\n\n<pre><code>&lt;menu\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n\n    &lt;group&gt;\n\n        &lt;item\n            android:id=\"@+id/night\"\n            android:icon=\"@drawable/ic_brightness_3_black_24dp\"\n            android:title=\"@string/navigation_view_item_1\" /&gt;\n\n        &lt;item\n            android:id=\"@+id/nearbyParkingPlaces\"\n            android:icon=\"@drawable/ic_local_parking_black_24dp\"\n            android:title=\"@string/navigation_view_item_2\" /&gt;\n\n        &lt;item\n            android:id=\"@+id/traffic\"\n            android:icon=\"@drawable/ic_traffic_black_24dp\"\n            android:title=\"@string/navigation_view_item_3\" /&gt;\n\n    &lt;/group&gt;\n\n    ...\n\n&lt;/menu&gt;\n</code></pre>\n\n<p><strong>My code for NavigationItemSelectedListener:</strong></p>\n\n<pre><code>navigation.setNavigationItemSelectedListener { menuItem -&gt;\n        drawerLayout.closeDrawers()\n        when (menuItem.itemId) {\n            R.id.night -&gt; if (menuItem.isChecked) {\n                menuItem.isChecked = false\n                ...\n            } else {\n                menuItem.isChecked = true\n                ...\n            }\n            R.id.nearbyParkingPlaces -&gt; if (menuItem.isChecked) {\n                menuItem.isChecked = false\n                ...\n            } else {\n                menuItem.isChecked = true\n                ...\n            }\n            R.id.traffic -&gt; if (menuItem.isChecked) {\n                menuItem.isChecked = false\n                ...\n            } else {\n                menuItem.isChecked = true\n                ...\n            }\n            ...\n        }\n        false\n    }\n</code></pre>\n\n<p>What am I doing wrong or I missed something?</p>\n\n<hr>\n\n<p>If add <code>android:checkableBehavior=\"all\"</code> in <code>&lt;group&gt;</code> - selected item have grey background, but selected elements are not combine. The previous selected item is reset... I don't understand, why and how fix it?</p>\n\n<hr>\n\n<p><strong>The solution was found</strong></p>\n"}, {"tags": ["android", "service", "kotlin", "android-intentservice", "android-8.0-oreo"], "comments": [{"owner": {"reputation": 2500, "user_id": 3410197, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/pUwL0.jpg?s=128&g=1", "display_name": "Arnav M.", "link": "https://stackoverflow.com/users/3410197/arnav-m"}, "edited": false, "score": 0, "creation_date": 1509517292, "post_id": 47036945, "comment_id": 81045516, "body": "have you defined a different &quot;process&quot; for the service in manifest? how long your service takes to complete?"}], "answers": [{"tags": [], "owner": {"reputation": 36, "user_id": 6528438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yLhBN.jpg?s=128&g=1", "display_name": "susheel", "link": "https://stackoverflow.com/users/6528438/susheel"}, "is_accepted": false, "score": 1, "last_activity_date": 1542646061, "creation_date": 1542646061, "answer_id": 53379209, "question_id": 47036945, "link": "https://stackoverflow.com/questions/47036945/how-to-stop-notifications-service-on-android-oreo/53379209#53379209", "title": "How to stop notification&#39;s service on Android Oreo", "body": "<p>In Android 8.0(Android Oreo) and onwards, we have to bring the service to the foreground before we trigger a Notification.</p>\n\n<p>After which once you have triggered your Notification - you will have to stop the service running in the Foreground for which execute the following code after -</p>\n\n<pre><code>val notification = Notification.Builder(context, SERVICE_CHANNEL_ID)\n        .setSubText(\"subText\") //Not working\n        .setContentText(\"contentText\") //Not working\n        .setSettingsText(\"settingsText\") //Not working\n        .setContentTitle(\"title\") //Not working\n        .build()\nstartForeground(1, notification)\n\nstopForeground(true);\nstopSelf();\n</code></pre>\n"}], "owner": {"reputation": 1417, "user_id": 2430555, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/OenB4.jpg?s=128&g=1", "display_name": "Pedro Paulo Amorim", "link": "https://stackoverflow.com/users/2430555/pedro-paulo-amorim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1122, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1542646061, "creation_date": 1509457472, "last_edit_date": 1509464424, "question_id": 47036945, "link": "https://stackoverflow.com/questions/47036945/how-to-stop-notifications-service-on-android-oreo", "title": "How to stop notification&#39;s service on Android Oreo", "body": "<p>Our app has some services and intent-services that starts running when the user starts the app. These components needs to be started to continue the process running even if the user minimize the app.</p>\n\n<p>On Android Oreo our app started crashing due the missing initialization of these services using <code>startForegroundService(:intent)</code> and <code>startForeground(:id, :notification)</code>. We've fixed it attaching these notifications as requerested but we discovered a strange behaviour. These notifications appear even if the app is in foreground, since it doesn't make sense because our services are really short-running almost all the time, but it needs to be guaranteed to run 100% of the time. That's why the process runs on a service and not in the activity's context. I would like to show these notifications only when the user minimize the app and the service is up. \nIs there any way to do it?</p>\n\n<p><a href=\"https://i.stack.imgur.com/1rCPt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1rCPt.png\" alt=\"enter image description here\"></a></p>\n\n<p><em>I can't change this message, very annoying!</em></p>\n\n<p>Here is some code used to create the channel:</p>\n\n<pre><code>const val SERVICE_CHANNEL_ID = \"com.myFunnyApp.notifications\"\n//.....\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n\n  val notificationService = context.getSystemService(Context.NOTIFICATION_SERVICE)\n  (notificationService as? NotificationManager)?.let { notificationManager -&gt;\n\n    if (notificationManager.getNotificationChannel(SERVICE_CHANNEL_ID) == null) {\n      val channel = NotificationChannel(\n          SERVICE_CHANNEL_ID,\n          context.resources.getString(R.string.test),\n          NotificationManager.IMPORTANCE_MIN)\n      channel.lockscreenVisibility = Notification.VISIBILITY_PUBLIC\n      notificationManager.createNotificationChannel(channel)\n      return\n    }\n\n  }\n\n}\n</code></pre>\n\n<p>On the service, the code runs:</p>\n\n<pre><code>val notification = Notification.Builder(context, SERVICE_CHANNEL_ID)\n        .setSubText(\"subText\") //Not working\n        .setContentText(\"contentText\") //Not working\n        .setSettingsText(\"settingsText\") //Not working\n        .setContentTitle(\"title\") //Not working\n        .build()\nstartForeground(1, notification)\n</code></pre>\n\n<p>Currently I am testing on the emulator, I don't have any Android Oreo device.</p>\n\n<p>Thanks!</p>\n\n<p>EDIT 1: The text only changes if you set the small icon.</p>\n"}, {"tags": ["android", "gradle", "android-gradle-plugin", "kotlin"], "comments": [{"owner": {"reputation": 3306, "user_id": 4229796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x9p0l.jpg?s=128&g=1", "display_name": "Dipali Shah", "link": "https://stackoverflow.com/users/4229796/dipali-shah"}, "edited": false, "score": 1, "creation_date": 1509456273, "post_id": 47036514, "comment_id": 81019350, "body": "Have you tried with this  <code>compile &#39;com.android.support:recyclerview-v7:25.3.1&#39;</code> ?"}, {"owner": {"reputation": 8787, "user_id": 5282585, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/817632218354985/picture?type=large", "display_name": "nhoxbypass", "link": "https://stackoverflow.com/users/5282585/nhoxbypass"}, "edited": false, "score": 0, "creation_date": 1509456333, "post_id": 47036514, "comment_id": 81019393, "body": "You can still use <code>compile</code> in Gradle version 3.0"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8583580"}, "is_accepted": false, "score": 0, "last_activity_date": 1509456537, "creation_date": 1509456537, "answer_id": 47036647, "question_id": 47036514, "link": "https://stackoverflow.com/questions/47036514/how-to-add-recyclerview-dependency-gradle-3/47036647#47036647", "title": "How to add RecyclerView dependency - gradle 3", "body": "<p>Do as shown below:</p>\n\n<pre><code>dependencies {\nimplementation fileTree(dir: 'libs', include: ['*.jar'])\nimplementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\nimplementation 'com.android.support:appcompat-v7:26.0.0-beta1'\nimplementation 'com.android.support.constraint:constraint-layout:1.0.2'\ntestImplementation 'junit:junit:4.12'\nandroidTestImplementation 'com.android.support.test:runner:0.5'\nandroidTestImplementation 'com.android.support.test.espresso:espresso-core:2.2.2'\ncompile 'com.android.support:recyclerview-v7:26.0.0-beta1'\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2743, "user_id": 4792517, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cf670319bfe303171ac2dd0a37f343b0?s=128&d=identicon&r=PG&f=1", "display_name": "Imene Noomene", "link": "https://stackoverflow.com/users/4792517/imene-noomene"}, "is_accepted": true, "score": 1, "last_activity_date": 1509463887, "last_edit_date": 1509463887, "creation_date": 1509457194, "answer_id": 47036858, "question_id": 47036514, "link": "https://stackoverflow.com/questions/47036514/how-to-add-recyclerview-dependency-gradle-3/47036858#47036858", "title": "How to add RecyclerView dependency - gradle 3", "body": "<p>Try to add :     </p>\n\n<pre><code>implementation 'com.android.support:recyclerview-v7:26.0.0-beta1'\n</code></pre>\n"}], "owner": {"reputation": 2766, "user_id": 2545964, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/dcxr3.jpg?s=128&g=1", "display_name": "gon250", "link": "https://stackoverflow.com/users/2545964/gon250"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2275, "favorite_count": 0, "closed_date": 1509540692, "accepted_answer_id": 47036858, "answer_count": 2, "score": 1, "last_activity_date": 1509463887, "creation_date": 1509456090, "question_id": 47036514, "link": "https://stackoverflow.com/questions/47036514/how-to-add-recyclerview-dependency-gradle-3", "closed_reason": "Duplicate", "title": "How to add RecyclerView dependency - gradle 3", "body": "<p>I have started with android and Kotlin and I'm having problems to create a <strong>RecyclerView</strong>. So far what I saw is I have a new gradle version and I can't figure out how include the dependency I need.</p>\n\n<p>Below you can see how looks my dependencies on the build.gradle (app)</p>\n\n<pre><code>dependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation\"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:appcompat-v7:26.0.0-beta1'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:0.5'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:2.2.2'\n}\n</code></pre>\n\n<p>I guess the problem is in the dependen RecyclerView and I cant find how use it.</p>\n"}, {"tags": ["android", "kotlin", "android-gradle-3.0"], "comments": [{"owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "edited": false, "score": 0, "creation_date": 1509471134, "post_id": 47036087, "comment_id": 81029400, "body": "Have you tried to disable Instant Run ?"}, {"owner": {"reputation": 1709, "user_id": 2713641, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8a9bcf4af1a7eb44a4c758c8e801fbbe?s=128&d=identicon&r=PG", "display_name": "simen-andresen", "link": "https://stackoverflow.com/users/2713641/simen-andresen"}, "reply_to_user": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "edited": false, "score": 0, "creation_date": 1509538479, "post_id": 47036087, "comment_id": 81056024, "body": "Yepp, instant run is disabled."}, {"owner": {"reputation": 1559, "user_id": 2759296, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/OoPGq.jpg?s=128&g=1", "display_name": "anthonymonori", "link": "https://stackoverflow.com/users/2759296/anthonymonori"}, "edited": false, "score": 0, "creation_date": 1514890917, "post_id": 47036087, "comment_id": 83091790, "body": "Which version of Android Studio are you running?"}], "answers": [{"tags": [], "owner": {"reputation": 41, "user_id": 6849128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/397c19d796b9a00123143ed413a848c3?s=128&d=identicon&r=PG", "display_name": "J. Roth", "link": "https://stackoverflow.com/users/6849128/j-roth"}, "is_accepted": false, "score": 1, "last_activity_date": 1515702148, "creation_date": 1515702148, "answer_id": 48215230, "question_id": 47036087, "link": "https://stackoverflow.com/questions/47036087/applications-oncreate-not-being-called-for-production-builds/48215230#48215230", "title": "Application&#39;s onCreate not being called for production builds", "body": "<p>I had to restart my computer to overcome this issue.  I tried to disable instant run, clean, rebuild.  Restarted Android Studio.  used the full path in the Application name.  Ended up working after a full restart of my Macbook.</p>\n"}, {"tags": [], "owner": {"reputation": 49025, "user_id": 72437, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/ay0Dg.jpg?s=128&g=1", "display_name": "Cheok Yan Cheng", "link": "https://stackoverflow.com/users/72437/cheok-yan-cheng"}, "is_accepted": false, "score": 1, "last_activity_date": 1564214319, "last_edit_date": 1564214319, "creation_date": 1564124970, "answer_id": 57214833, "question_id": 47036087, "link": "https://stackoverflow.com/questions/47036087/applications-oncreate-not-being-called-for-production-builds/57214833#57214833", "title": "Application&#39;s onCreate not being called for production builds", "body": "<p>The reason Application onCreate is not being called, is due to the undocumented behavior, during backup process. You may find more information <a href=\"https://stackoverflow.com/q/57211036/72437\">Why backup related process might cause Application&#39;s onCreate is not executed?</a></p>\n\n<p>I have created an issue <a href=\"https://issuetracker.google.com/issues/138423608\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/138423608</a> . Please kindly star the issue if you would like this issue to be resolved with higher priority.</p>\n"}], "owner": {"reputation": 1709, "user_id": 2713641, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/8a9bcf4af1a7eb44a4c758c8e801fbbe?s=128&d=identicon&r=PG", "display_name": "simen-andresen", "link": "https://stackoverflow.com/users/2713641/simen-andresen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 370, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1564214319, "creation_date": 1509454808, "question_id": 47036087, "link": "https://stackoverflow.com/questions/47036087/applications-oncreate-not-being-called-for-production-builds", "title": "Application&#39;s onCreate not being called for production builds", "body": "<p>Ever since I upgraded to gradle 3.0 our main <code>Application</code>'s onCreate is not firing from a production-flavour app. When building for our staging flavour however, the Application's onCreate is called just fine. </p>\n\n<p>Since the Application's onCreate is never called, our <code>Realm</code> is never initialized, and the app crashes when trying to access <code>Realm</code> later.</p>\n\n<p>AndroidManifest.xml: </p>\n\n<pre><code> &lt;application\n        android:name=\".App\"\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n....\n</code></pre>\n\n<p>App.kt:</p>\n\n<pre><code>class App : Application() {\n\n    override fun onCreate() {\n        super.onCreate()\n        Realm.init(this)\n        println(\"This is never called\")\n    }\n}\n</code></pre>\n\n<p>build.gradle:</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'realm-android'\napply plugin: 'kotlin-android-extensions'\napply plugin: 'com.github.triplet.play'\n\n....\n\nandroid {\n\n    flavorDimensions \"testing\"\n\n    productFlavors {\n        production {\n            dimension \"testing\"\n            applicationId \"com.imerso.app\"\n        }\n        staging {\n            dimension \"testing\"\n            applicationId \"com.imerso.app.staging\"\n            externalNativeBuild {\n              cmake {\n                targets 'cpp_scan_app', 'unittests'\n              }\n            }\n        }\n    }\n\n    compileSdkVersion 25\n    buildToolsVersion '26.0.2'\n\n    dexOptions {\n      // Sets the maximum number of DEX processes\n      // that can be started concurrently.\n      maxProcessCount 8\n      // Sets the maximum memory allocation pool size\n      // for the dex operation.\n      javaMaxHeapSize \"2g\"\n</code></pre>\n\n<p>....</p>\n\n<p>not sure if our change to gradle 3.0 is the culprit here, but everything worked fine until I did the upgrade.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 2, "creation_date": 1509454416, "post_id": 47035832, "comment_id": 81018043, "body": "It&#39;s just because of the math unary operators (+ and -) <code>+3 == 3 == -(-3)</code>. Check <code>Int.unaryPlus()</code> and <code>Int.unaryMinus</code> in Kotlin docs."}], "answers": [{"comments": [{"owner": {"reputation": 2540, "user_id": 1138751, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0457c25594790b84128e92a33497e09c?s=128&d=identicon&r=PG", "display_name": "Jeremiah Orr", "link": "https://stackoverflow.com/users/1138751/jeremiah-orr"}, "edited": false, "score": 1, "creation_date": 1509454789, "post_id": 47035911, "comment_id": 81018290, "body": "I think you&#39;re right; I just don&#39;t understand why a unary plus all by itself, that isn&#39;t assigned to a variable or used in a method or returned from the method, would be a valid statement. I suppose it&#39;s just a language oddity."}, {"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 2, "creation_date": 1509459401, "post_id": 47035911, "comment_id": 81021552, "body": "You can write a <code>unaryPlus</code> function that performs a side-effect. In that case, doing just <code>+obj</code> will have an effect. Of course, the <code>unaryPlus</code> function on <code>Int</code> doesn&#39;t do this, but they won&#39;t make this special case not compile."}, {"owner": {"reputation": 951, "user_id": 4324545, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/067a9cf7538d753e3be66e77ef951614?s=128&d=identicon&r=PG", "display_name": "Lapshin Dmitry", "link": "https://stackoverflow.com/users/4324545/lapshin-dmitry"}, "reply_to_user": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 0, "creation_date": 1509550877, "post_id": 47035911, "comment_id": 81064323, "body": "@marstran More importanly: if you look the HTML DSL example, you&#39;ll see that text content is added to a tag via <code>+&quot;Text Goes Here&quot;</code> line)"}], "tags": [], "owner": {"reputation": 951, "user_id": 4324545, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/067a9cf7538d753e3be66e77ef951614?s=128&d=identicon&r=PG", "display_name": "Lapshin Dmitry", "link": "https://stackoverflow.com/users/4324545/lapshin-dmitry"}, "is_accepted": true, "score": 2, "last_activity_date": 1509454266, "creation_date": 1509454266, "answer_id": 47035911, "question_id": 47035832, "link": "https://stackoverflow.com/questions/47035832/why-does-the-plus-sign-need-to-be-at-the-end-of-the-line-instead-of-at-the-begin/47035911#47035911", "title": "Why does the plus sign need to be at the end of the line instead of at the beginning on the next line?", "body": "<p>I belive the lines</p>\n\n<pre><code>val a = 5\n+ 6\n</code></pre>\n\n<p>are parsed like two statements:</p>\n\n<ol>\n<li>Define a <code>var</code> with value of expression <code>5</code></li>\n<li>Expression <code>+6</code>, with unary plus.</li>\n</ol>\n\n<p>I had the same trouble in Scala language.</p>\n"}], "owner": {"reputation": 2540, "user_id": 1138751, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/0457c25594790b84128e92a33497e09c?s=128&d=identicon&r=PG", "display_name": "Jeremiah Orr", "link": "https://stackoverflow.com/users/1138751/jeremiah-orr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 230, "favorite_count": 0, "accepted_answer_id": 47035911, "answer_count": 1, "score": 3, "last_activity_date": 1509481572, "creation_date": 1509454059, "question_id": 47035832, "link": "https://stackoverflow.com/questions/47035832/why-does-the-plus-sign-need-to-be-at-the-end-of-the-line-instead-of-at-the-begin", "title": "Why does the plus sign need to be at the end of the line instead of at the beginning on the next line?", "body": "<p>In Kotlin, if you want an addition expression to span multiple lines, you need to put the plus sign at the end of the lines, not at the beginning. For example:</p>\n\n<pre><code>var a = 1\nvar b = 2\nvar c = 3\n\nvar d = a +\n    b +\n    c\n\nprintln(d) // prints \"6\"\n\nvar e = a\n    + b\n    + c\n\nprintln(e) // prints \"1\"\n</code></pre>\n\n<p>From what I can tell, this is because Kotlin is interpreting the second example as three separate statements, like this:</p>\n\n<pre><code>var e = a\n+ b\n+ c\n</code></pre>\n\n<p>But I haven't found any documentation indicating why <code>+ somevariable</code> by itself is a valid statement. It doesn't increment the variable, and <code>println(+somevariable)</code> prints the same value as <code>println(somevariable)</code>.</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "edited": false, "score": 0, "creation_date": 1509464070, "post_id": 47034624, "comment_id": 81024847, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/47016853/multiple-errors-in-my-fragments-after-updating-the-support-library-to-27-0-0\">Multiple errors in my fragments after updating the support library to 27.0.0</a>"}], "answers": [{"comments": [{"owner": {"reputation": 3123, "user_id": 1225669, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/3Tp6R.jpg?s=128&g=1", "display_name": "valerybodak", "link": "https://stackoverflow.com/users/1225669/valerybodak"}, "edited": false, "score": 0, "creation_date": 1512983607, "post_id": 47034990, "comment_id": 82459197, "body": "Why getContext2 in this line @JvmName(&quot;getContext2&quot;) ?"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "reply_to_user": {"reputation": 3123, "user_id": 1225669, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/3Tp6R.jpg?s=128&g=1", "display_name": "valerybodak", "link": "https://stackoverflow.com/users/1225669/valerybodak"}, "edited": false, "score": 1, "creation_date": 1512986447, "post_id": 47034990, "comment_id": 82460883, "body": "@anivaler Good question! <code>val context</code> would get compiled to a <code>getContext()</code> method but there already is the original <code>getContext()</code> method. There&#39;s a conflict and you&#39;d get a compile error. This way, when you override the generated method name, you can make it work. It can be anything else as long as it doesn&#39;t clash."}], "tags": [], "owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "is_accepted": false, "score": 18, "last_activity_date": 1524862018, "last_edit_date": 1524862018, "creation_date": 1509451494, "answer_id": 47034990, "question_id": 47034624, "link": "https://stackoverflow.com/questions/47034624/type-mismatch-inferred-type-is-fragmentactivity-but-context-was-expected-when/47034990#47034990", "title": "Type mismatch: inferred type is FragmentActivity? but Context was expected when updating the support library to 27.0.0", "body": "<p>It's safe to assume that <code>activity</code> or <code>context</code> is not null in any of the fragment's lifecycle methods (between <code>onAttach</code> and <code>onDetach)</code>. In this case</p>\n\n<pre><code>context!!\n</code></pre>\n\n<p>seems better because if it's null when it's definitely <em>NOT</em> supposed to be null, something is terribly wrong and you should just crash.</p>\n\n<p>In asynchronous callbacks of course check for null.</p>\n\n<blockquote>\n  <p>For me \"!!\" is never and option.</p>\n</blockquote>\n\n<p>Then by all means abstract it away. This is what I did in my <code>BaseFragment</code> class:</p>\n\n<pre><code>val context: Context\n    @JvmName(\"getContext2\") \n    get() = getContext()!!\n</code></pre>\n\n<p>And then at use site:</p>\n\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    context // Context is *never* null here.\n}\n\nfun someCallbackMethod() {\n    if (isAdded) {\n        context // Context is also not null here.\n    } else {\n        // But it is null here.\n    }\n}\n</code></pre>\n\n<p>Unfounded null-checks everywhere are just as bad as the non-null assert operator.</p>\n\n<p>This is equal to what would happen before support library 27 where nullability annotations were added. You could access <code>context</code> anywhere and it would crash if it were null and dereferenced.</p>\n\n<p><strong>Update:</strong> Recent support library introduced methods for this case:</p>\n\n<ul>\n<li>requireActivity(): Activity</li>\n<li>requireContext(): Context</li>\n<li>requireHost(): Object</li>\n<li>requireFragmentManager(): FragmentManager</li>\n</ul>\n\n<p>The difference from my suggestion above is that these methods will throw <code>IllegalStateException</code> instead of <code>KotlinNullPointerException</code>.</p>\n"}], "owner": {"reputation": 13421, "user_id": 2298241, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/kWH39.jpg?s=128&g=1", "display_name": "Ivo Stoyanov", "link": "https://stackoverflow.com/users/2298241/ivo-stoyanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9122, "favorite_count": 3, "answer_count": 1, "score": 10, "last_activity_date": 1524862018, "creation_date": 1509450383, "question_id": 47034624, "link": "https://stackoverflow.com/questions/47034624/type-mismatch-inferred-type-is-fragmentactivity-but-context-was-expected-when", "title": "Type mismatch: inferred type is FragmentActivity? but Context was expected when updating the support library to 27.0.0", "body": "<p>I've updated my Kotlin project to use support library 27.0.0. When I try to get the Activity context in a Fragment I'm getting this error:</p>\n\n<pre><code>&gt; Type mismatch: inferred type is FragmentActivity? but Context was expected\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1509449953, "post_id": 47034372, "comment_id": 81015075, "body": "the keyword <b>val</b> means the variable is immutable (cannot be changed). Change it to <b>var</b>"}, {"owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "edited": false, "score": 0, "creation_date": 1509450151, "post_id": 47034372, "comment_id": 81015200, "body": "use <code>return sReminderInstance!!</code>"}, {"owner": {"reputation": 11211, "user_id": 983391, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/WIO1w.jpg?s=128&g=1", "display_name": "Priyank Patel", "link": "https://stackoverflow.com/users/983391/priyank-patel"}, "reply_to_user": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1509450197, "post_id": 47034372, "comment_id": 81015232, "body": "@NSimon Thanks for comment. When I have changed it to var. It show error as &quot;[MUST_BE_INITIALIZED] Property must be initialized&quot; in that line."}, {"owner": {"reputation": 54818, "user_id": 962089, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/b6SVs.jpg?s=128&g=1", "display_name": "chris", "link": "https://stackoverflow.com/users/962089/chris"}, "reply_to_user": {"reputation": 4862, "user_id": 4232337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nauo6.jpg?s=128&g=1", "display_name": "NSimon", "link": "https://stackoverflow.com/users/4232337/nsimon"}, "edited": false, "score": 0, "creation_date": 1509453060, "post_id": 47034372, "comment_id": 81017111, "body": "@NSimon, You can expose a mutable property as immutable just fine."}], "answers": [{"comments": [{"owner": {"reputation": 11211, "user_id": 983391, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/WIO1w.jpg?s=128&g=1", "display_name": "Priyank Patel", "link": "https://stackoverflow.com/users/983391/priyank-patel"}, "edited": false, "score": 0, "creation_date": 1509452831, "post_id": 47034626, "comment_id": 81016957, "body": "Thanks for your answer and perfect explanation."}], "tags": [], "owner": {"reputation": 9209, "user_id": 455322, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/a08eee5080a1750369fc20fe332bcea0?s=128&d=identicon&r=PG", "display_name": "Les", "link": "https://stackoverflow.com/users/455322/les"}, "is_accepted": true, "score": 1, "last_activity_date": 1509451376, "last_edit_date": 1509451376, "creation_date": 1509450384, "answer_id": 47034626, "question_id": 47034372, "link": "https://stackoverflow.com/questions/47034372/get-instance-error-in-kotlin-smart-cast-to-type-is-impossible/47034626#47034626", "title": "Get instance error in kotlin: Smart cast to &#39;type&#39; is impossible", "body": "<p>The error you are seeing is because <code>ReminderRequester</code> is not the same as <code>ReminderRequester?</code>.  By using <code>sReminderInstance!!</code> you are in a sense casting a nullable to a non-nullable object, guaranteeing to the compiler that you know it won't ever be null (but you could be wrong).</p>\n\n<blockquote>\n  <p>...Smart cast to 'ReminderRequester' is impossible,...</p>\n</blockquote>\n\n<p>This error is occurring on the <code>return</code> statement, and if you are using IntelliJ IDEA, there is a red indicator under <code>sReminderInstance</code>.  The error message is sort of weak, but it means that because you are turning <code>sReminderInstance</code> from a function (<code>get()</code>) that has a return type of <code>ReminderRequester</code> (a non-nullable type), the compiler needs to cast the returned variable to <code>ReminderRequester</code>.  But, like I said, <code>sReminderInstance</code> is not a <code>ReminderRequester</code> (it is a <code>ReminderRequester?</code> i.e., a nullable type).</p>\n\n<p>You will see this error a lot in converted Java code.  Where ever you are use to handling possibly null variables, they are often turned into nullable types.  Sometimes, just checking if it is null before using it as a non-nullable will work.  That's called a \"smart cast\".  Other times, the compiler deems that threading might defeat the smart cast, and disallows it (in which case you can use the <code>!!</code> when you are sure threading won't be an issue).</p>\n\n<p>In summary,</p>\n\n<blockquote>\n  <p>What is meaning of above error and how to fix it?</p>\n</blockquote>\n\n<p>It means the compiler attempted a \"smart cast\".  \"Smart cast\" is the terminology for trying to convert a nullable type into it's non-nullable equivalent.  And smart cast will not always be allowed, even though you checked if the variable was null.  To fix, you will usually apply <code>!!</code> to the variable being cast.</p>\n"}, {"comments": [{"owner": {"reputation": 11211, "user_id": 983391, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/WIO1w.jpg?s=128&g=1", "display_name": "Priyank Patel", "link": "https://stackoverflow.com/users/983391/priyank-patel"}, "edited": false, "score": 0, "creation_date": 1509452856, "post_id": 47034910, "comment_id": 81016974, "body": "@Semuel Thanks for your answer."}], "tags": [], "owner": {"reputation": 7021, "user_id": 4620609, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dR89W.jpg?s=128&g=1", "display_name": "Samuel Robert", "link": "https://stackoverflow.com/users/4620609/samuel-robert"}, "is_accepted": false, "score": 2, "last_activity_date": 1509451226, "creation_date": 1509451226, "answer_id": 47034910, "question_id": 47034372, "link": "https://stackoverflow.com/questions/47034372/get-instance-error-in-kotlin-smart-cast-to-type-is-impossible/47034910#47034910", "title": "Get instance error in kotlin: Smart cast to &#39;type&#39; is impossible", "body": "<p>2 solutions</p>\n\n<p>1) Force the return type to have the same type as the property</p>\n\n<pre><code>return sReminderInstance!!;\n</code></pre>\n\n<p>2) Change the property type to match the return type</p>\n\n<pre><code>val instance: ReminderRequester?\n</code></pre>\n"}], "owner": {"reputation": 11211, "user_id": 983391, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/WIO1w.jpg?s=128&g=1", "display_name": "Priyank Patel", "link": "https://stackoverflow.com/users/983391/priyank-patel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1171, "favorite_count": 0, "closed_date": 1509458451, "accepted_answer_id": 47034626, "answer_count": 2, "score": 0, "last_activity_date": 1509451376, "creation_date": 1509449619, "question_id": 47034372, "link": "https://stackoverflow.com/questions/47034372/get-instance-error-in-kotlin-smart-cast-to-type-is-impossible", "closed_reason": "Duplicate", "title": "Get instance error in kotlin: Smart cast to &#39;type&#39; is impossible", "body": "<p>I have converted java file to kotlin using android studio inbuilt file converter. It show below error.</p>\n\n<blockquote>\n  <p>[SMARTCAST_IMPOSSIBLE] Smart cast to 'ReminderRequester' is impossible, because\n  'ReminderRequester' is a mutable property that could have been changed\n  by this time</p>\n</blockquote>\n\n<p>My code snippet is as below.</p>\n\n<pre><code>    private var sReminderInstance: ReminderRequester? = null\n\n    val instance: ReminderRequester\n        get() {\n            if (sReminderInstance == null) {\n                sReminderInstance = ReminderRequester()\n            }\n            return sReminderInstance; // ERROR: Smart cast to 'ReminderRequester' is impossible, because 'ReminderRequester' is a mutable property that could have been changed by this time\n        }\n</code></pre>\n\n<p>I have checked similar type of question but I can not able to understand it properly. </p>\n\n<p>What is meaning of above error and how to fix it?</p>\n"}, {"tags": ["kotlin", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 34292, "user_id": 627727, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/uOIWL.jpg?s=128&g=1", "display_name": "mkobit", "link": "https://stackoverflow.com/users/627727/mkobit"}, "edited": false, "score": 1, "creation_date": 1509505427, "post_id": 47031932, "comment_id": 81042418, "body": "Are you compiling with one version of the library, and running with a different one?"}, {"owner": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1509556259, "post_id": 47031932, "comment_id": 81067806, "body": "This is a compiler bug. Please file an issue to <a href=\"http://kotl.in/issue\" rel=\"nofollow noreferrer\">kotl.in/issue</a>"}, {"owner": {"reputation": 489, "user_id": 905869, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/de6e5d50bb4dcb26e9c8e896527fae77?s=128&d=identicon&r=PG", "display_name": "wilu", "link": "https://stackoverflow.com/users/905869/wilu"}, "reply_to_user": {"reputation": 20308, "user_id": 1051598, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f9c354e780ce562daea0e21b99bfdc0d?s=128&d=identicon&r=PG", "display_name": "Roman  Elizarov", "link": "https://stackoverflow.com/users/1051598/roman-elizarov"}, "edited": false, "score": 0, "creation_date": 1509625451, "post_id": 47031932, "comment_id": 81098683, "body": "@RomanElizarov nope, apparently it&#39;s not compiler bug bud Idea 15.0.3 defect, when I test the code with <i>gradle test</i> it fails as expected with <i>TimeoutCancellationException</i>, otherwise (in IntelliJ) i get NSM exception."}], "answers": [{"comments": [{"owner": {"reputation": 489, "user_id": 905869, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/de6e5d50bb4dcb26e9c8e896527fae77?s=128&d=identicon&r=PG", "display_name": "wilu", "link": "https://stackoverflow.com/users/905869/wilu"}, "edited": false, "score": 1, "creation_date": 1509443128, "post_id": 47032001, "comment_id": 81010871, "body": "Hey, thanks for the answer, my gradle conf contains mentioned declaration (use experimental coroutines). Regarding launch, I thought withTimeout is a direct replacement of launch (with additional time frame for execution). BTW, there&#39;s no UI code, I have just single kotlin script file with one method. Does it mean that kotlin examples are incomplete and some extra code is required?"}, {"owner": {"reputation": 489, "user_id": 905869, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/de6e5d50bb4dcb26e9c8e896527fae77?s=128&d=identicon&r=PG", "display_name": "wilu", "link": "https://stackoverflow.com/users/905869/wilu"}, "edited": false, "score": 0, "creation_date": 1509443460, "post_id": 47032001, "comment_id": 81011070, "body": "<i>EDIT</i>: one more thing, indeed, when I switch from withTimeout to launch it works, nonetheless, I&#39;m more interested in time-out functionality."}, {"owner": {"reputation": 489, "user_id": 905869, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/de6e5d50bb4dcb26e9c8e896527fae77?s=128&d=identicon&r=PG", "display_name": "wilu", "link": "https://stackoverflow.com/users/905869/wilu"}, "edited": false, "score": 1, "creation_date": 1509443843, "post_id": 47032001, "comment_id": 81011327, "body": "sure, I will, but your answer has not helped to solve my problem yet."}], "tags": [], "owner": {"reputation": 1006, "user_id": 2927540, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/1741304250/picture?type=large", "display_name": "Ashish Detroja", "link": "https://stackoverflow.com/users/2927540/ashish-detroja"}, "is_accepted": false, "score": 1, "last_activity_date": 1509442295, "creation_date": 1509442295, "answer_id": 47032001, "question_id": 47031932, "link": "https://stackoverflow.com/questions/47031932/cannot-execute-kotlin-coroutine-no-such-method-exception/47032001#47032001", "title": "Cannot execute kotlin coroutine (no such method exception", "body": "<p>In your case, make sure that in your build.gradle file you enable coroutines :</p>\n\n<pre><code>kotlin {\n    experimental {\n        coroutines \"enable\"\n    }\n}\n</code></pre>\n\n<p>Also you should trigger your coroutine with launch(UI) and call explicitly wait() and the suspended methods. The rest of your code will be executed on the UI thread.</p>\n\n<p>Hope it resolved your issue!</p>\n"}], "owner": {"reputation": 489, "user_id": 905869, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/de6e5d50bb4dcb26e9c8e896527fae77?s=128&d=identicon&r=PG", "display_name": "wilu", "link": "https://stackoverflow.com/users/905869/wilu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 512, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1509445801, "creation_date": 1509442095, "last_edit_date": 1509445801, "question_id": 47031932, "link": "https://stackoverflow.com/questions/47031932/cannot-execute-kotlin-coroutine-no-such-method-exception", "title": "Cannot execute kotlin coroutine (no such method exception", "body": "<p>I took this simple code snippet from kotlin examples:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) = runBlocking&lt;Unit&gt; {\n    withTimeout(1300L) {\n        repeat(1000) { i -&gt;\n            println(\"I'm sleeping $i ...\")\n            delay(500L)\n        }\n    }\n}\n</code></pre>\n\n<p>When I try to run it, it throws</p>\n\n<pre><code>java.lang.NoSuchMethodError: kotlinx.coroutines.experimental.ScheduledKt.withTimeout$default(JLjava/util/concurrent/TimeUnit;Lkotlin/jvm/functions/Function2;ILjava/lang/Object;)Ljava/lang/Object;\n</code></pre>\n\n<p>I use <strong>kotlinVersion = '1.1.51'</strong></p>\n\n<p>Any advice?</p>\n"}, {"tags": ["python", "kotlin"], "comments": [{"owner": {"reputation": 2126, "user_id": 2297550, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/20092a7b6e8eebf36a9c28951bd2261f?s=128&d=identicon&r=PG", "display_name": "user2297550", "link": "https://stackoverflow.com/users/2297550/user2297550"}, "edited": false, "score": 0, "creation_date": 1549296249, "post_id": 47030439, "comment_id": 95842721, "body": "would you mind switching the accepted answer to the second one? thx."}], "answers": [{"tags": [], "owner": {"reputation": 11435, "user_id": 6328256, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PyZe2.png?s=128&g=1", "display_name": "Sash Sinha", "link": "https://stackoverflow.com/users/6328256/sash-sinha"}, "is_accepted": true, "score": 3, "last_activity_date": 1559633236, "last_edit_date": 1559633236, "creation_date": 1509437055, "answer_id": 47030522, "question_id": 47030439, "link": "https://stackoverflow.com/questions/47030439/get-factors-of-numbers-in-kotlin/47030522#47030522", "title": "Get Factors of Numbers in Kotlin", "body": "<p>Not sure how you could do a \"list comprehension\" in Kotlin but instead you can use a function like <code>factorsOfNumbers</code> below:</p>\n\n<pre><code>fun factorsOfNumber(num: Int) : MutableList&lt;Int&gt; {\n  val factors = mutableListOf&lt;Int&gt;()\n  if (num &lt; 1) \n    return factors\n  (1..num / 2)\n    .filter { num % it == 0 }\n    .forEach { factors.add(it) }\n  factors.add(num)\n  return factors\n}\n\nfun main(args: Array&lt;String&gt;) {\n  val number = 24\n  println(\"The factors of $number are: \" + factorsOfNumber(number).joinToString())\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>The factors of 24 are: 1, 2, 3, 4, 6, 8, 12, 24\n</code></pre>\n\n<p>Relevant documentation to understand how it works is below:</p>\n\n<ul>\n<li><a href=\"https://kotlinlang.org/docs/reference/collections.html#collections-list-set-map\" rel=\"nofollow noreferrer\"><strong>Collections: List, Set, Map</strong></a> (<strong><a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-mutable-list/index.html\" rel=\"nofollow noreferrer\">MutableList</a></strong> stuff)</li>\n<li><a href=\"https://kotlinlang.org/docs/reference/ranges.html\" rel=\"nofollow noreferrer\"><strong>Ranges</strong></a> (The <code>(1..num / 2)</code> part)</li>\n<li><a href=\"https://kotlinlang.org/docs/reference/idioms.html\" rel=\"nofollow noreferrer\"><strong>Kotlin Idioms</strong></a> (Everything else)</li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 73428, "user_id": 3679676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c0faaf44a8922cf165ff73d9efd0dade?s=128&d=identicon&r=PG", "display_name": "Jayson Minard", "link": "https://stackoverflow.com/users/3679676/jayson-minard"}, "is_accepted": false, "score": 2, "last_activity_date": 1526228295, "creation_date": 1526228295, "answer_id": 50318157, "question_id": 47030439, "link": "https://stackoverflow.com/questions/47030439/get-factors-of-numbers-in-kotlin/50318157#50318157", "title": "Get Factors of Numbers in Kotlin", "body": "<p>Let's see the exact equivalent between Python and Kotlin...</p>\n\n<p>In Python, the code would be:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>N = 24\n\nfactors = [n for n in range(1, N + 1) if N % n == 0]\n\nprint(factors)\n# outputs [1, 2, 3, 4, 6, 8, 12, 24]\n</code></pre>\n\n<p>Which is not lazy, and materializes as a list.  In Kotlin this is:</p>\n\n\n\n<pre><code>val N = 24\n\nval factors = (1..N).filter { N % it == 0 }\n\nprintln(factors)\n// outputs [1, 2, 3, 4, 6, 8, 12, 24]\n</code></pre>\n\n<p>If you want to make this slightly more efficient:</p>\n\n<pre><code>val factors = (1..N/2).filter { N % it == 0 } + N\n</code></pre>\n\n<p>Now since this is not lazy, it does one copy of the factor results to add the final <code>N</code> value, although that list would be a lot smaller than the original.  And sometimes an eager copy of smaller data structures is faster than a lazy evaluation.  </p>\n\n<p>You can make this whole thing lazy lazy, and process it incrementally taking only the values you want:</p>\n\n<pre><code>val factors = (1..N).asSequence().filter { N % it == 0 }\n</code></pre>\n\n<p>or the variant of only processing half the values: </p>\n\n<pre><code>val factors = (1..N/2).asSequence().filter { N % it == 0 } + N\n</code></pre>\n\n<p>Both of these result in a sequence that can be read lazily and chained with other functions.</p>\n\n<p>You can also use co-routines to write a function that lazily yields the values, and here is written as an extension function on <code>Int</code>:</p>\n\n<pre><code>fun Int.factorsSequence(): Sequence&lt;Int&gt; {\n    val N = this\n    return buildSequence {\n        (1..N/2).forEach {\n            if (N % it == 0) yield(it)\n        }\n        yield(N)\n    }\n}\n</code></pre>\n\n<p>Which can be called like:</p>\n\n<pre><code>val factors = 24.factorsSequence()\nprintln(factors.toList()) // convert to list just for printing\n</code></pre>\n\n<p>Of course, any of the other implementations can be made extension functions as well.</p>\n\n<pre><code>fun Int.factorsList(): List&lt;Int&gt; = \n    (1..this/2).filter { this % it == 0 } + this\n\nval factors = 24.factorsList()\nprintln(factors) \n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 8860806, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5752f0fb66c5809cae7ea310be72da6d?s=128&d=identicon&r=PG&f=1", "display_name": "YoungDumbAndBroke", "link": "https://stackoverflow.com/users/8860806/youngdumbandbroke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 942, "favorite_count": 0, "accepted_answer_id": 47030522, "answer_count": 2, "score": -1, "last_activity_date": 1559633236, "creation_date": 1509436750, "last_edit_date": 1526278162, "question_id": 47030439, "link": "https://stackoverflow.com/questions/47030439/get-factors-of-numbers-in-kotlin", "title": "Get Factors of Numbers in Kotlin", "body": "<p>Brand new to Kotlin, how can I find the factors of a number?</p>\n\n<p>For example 24 should give 1, 2, 3, 4, 6, 8, 12, 24?</p>\n\n<p>I know how to do this python with a list comprehension but not sure how to do it properly in Kotlin.</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 290, "user_id": 2878767, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/X5cQK.png?s=128&g=1", "display_name": "Raghul Sugathan", "link": "https://stackoverflow.com/users/2878767/raghul-sugathan"}, "edited": false, "score": 0, "creation_date": 1509440067, "post_id": 47030351, "comment_id": 81008979, "body": "You are rite @Joshua. Thanks"}], "tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": true, "score": 1, "last_activity_date": 1509436455, "creation_date": 1509436455, "answer_id": 47030351, "question_id": 47030257, "link": "https://stackoverflow.com/questions/47030257/kotlin-how-the-default-parameter-in-fun-mainparameters-arraystring-pr/47030351#47030351", "title": "Kotlin : How the default parameter in &quot; fun main(parameters: Array&lt;String&gt;) &quot; prints &quot;guest&quot; without assigning any values", "body": "<p>It is because you pass <code>guest</code> as parameters. If you tried it in o<a href=\"https://try.kotlinlang.org/#/Examples/Hello,%20world!/Simplest%20version/Simplest%20version.kt\" rel=\"nofollow noreferrer\">nline compiler</a>, you will get <code>Exception in thread \"main\" .java.lang.ArrayIndexOutOfBoundsException: 0</code></p>\n\n<pre><code>fun main(parameters: Array&lt;String&gt;) {\n    println(\"kudus, ${parameters[0]}\")\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 1, "last_activity_date": 1509437205, "creation_date": 1509437205, "answer_id": 47030556, "question_id": 47030257, "link": "https://stackoverflow.com/questions/47030257/kotlin-how-the-default-parameter-in-fun-mainparameters-arraystring-pr/47030556#47030556", "title": "Kotlin : How the default parameter in &quot; fun main(parameters: Array&lt;String&gt;) &quot; prints &quot;guest&quot; without assigning any values", "body": "<p>It\u2019s not happening by default. Probably your IDE adds a parameter when starting the program. You\u2019ve most certainly configured this at any time before. Check the Run config and remove the argument.</p>\n"}], "owner": {"reputation": 290, "user_id": 2878767, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/X5cQK.png?s=128&g=1", "display_name": "Raghul Sugathan", "link": "https://stackoverflow.com/users/2878767/raghul-sugathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 47030351, "answer_count": 2, "score": 0, "last_activity_date": 1509437205, "creation_date": 1509436098, "question_id": 47030257, "link": "https://stackoverflow.com/questions/47030257/kotlin-how-the-default-parameter-in-fun-mainparameters-arraystring-pr", "title": "Kotlin : How the default parameter in &quot; fun main(parameters: Array&lt;String&gt;) &quot; prints &quot;guest&quot; without assigning any values", "body": "<p>I am new to kotlin and I have a doubt on the \"main\" function. When I tried to print the first parameter inside the main function it returns as guest.</p>\n\n<p>From where it returns and I have not assigned any values to the parameters in main function.</p>\n\n<p>Any help should be a great support for my learning</p>\n\n<pre><code>fun main(parameters: Array&lt;String&gt;){\nprintln(\"kudus, ${parameters[0]}\")}\n</code></pre>\n\n<p>Output Obtained is : </p>\n\n<pre><code>kudus, guest\n</code></pre>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1509434135, "post_id": 47029473, "comment_id": 81006039, "body": "Can you post the original <code>fun getFoo(): ...</code> signature. Is it in the interface or in the base class? Is the type of <code>Observable&lt;List&lt;Foo&gt;&gt;</code> a generic in the base class or fixed?"}, {"owner": {"reputation": 4449, "user_id": 1815311, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yKNzM.jpg?s=128&g=1", "display_name": "Lisa Anne", "link": "https://stackoverflow.com/users/1815311/lisa-anne"}, "reply_to_user": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1509435384, "post_id": 47029473, "comment_id": 81006626, "body": "Hi <code>interface FooRepo {     fun getFoo(): Observable&lt;List&lt;Foo&gt;&gt;  }</code>"}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1509437134, "post_id": 47029473, "comment_id": 81007477, "body": "What is <code>Realm</code>? Is this your class or from a library?"}, {"owner": {"reputation": 4449, "user_id": 1815311, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yKNzM.jpg?s=128&g=1", "display_name": "Lisa Anne", "link": "https://stackoverflow.com/users/1815311/lisa-anne"}, "reply_to_user": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "edited": false, "score": 0, "creation_date": 1509438237, "post_id": 47029473, "comment_id": 81008005, "body": "Realm is a database, a library"}, {"owner": {"reputation": 9411, "user_id": 7366707, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EtdGg.png?s=128&g=1", "display_name": "Moira", "link": "https://stackoverflow.com/users/7366707/moira"}, "edited": false, "score": 2, "creation_date": 1509439391, "post_id": 47029473, "comment_id": 81008599, "body": "Are you sure both <code>Observable</code>s are the same type?"}, {"owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "edited": false, "score": 0, "creation_date": 1509442236, "post_id": 47029473, "comment_id": 81010337, "body": "Why you are retruning Observable&lt;List&lt;Foo&gt;&gt;. Observable&lt;List&lt;FooRealm&gt;&gt; is the right way"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1509451109, "post_id": 47029473, "comment_id": 81015813, "body": "Where do you actually get this error at? Is it having issues compiling the code you have there? Is it failing when using <code>getFoo()</code>? There might be different cases where type inference might fail or help you."}], "owner": {"reputation": 4449, "user_id": 1815311, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/yKNzM.jpg?s=128&g=1", "display_name": "Lisa Anne", "link": "https://stackoverflow.com/users/1815311/lisa-anne"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1509432846, "creation_date": 1509432846, "question_id": 47029473, "link": "https://stackoverflow.com/questions/47029473/kotlin-confusion-with-generics", "title": "Kotlin: confusion with generics", "body": "<p>Realm returns a list of <code>FooRealm</code>.\n<code>FooRealm</code> is a <code>Foo</code> </p>\n\n<pre><code>public class FooRealm extends RealmObject implements Foo  \n</code></pre>\n\n<p>But I get a type mismatch:</p>\n\n<pre><code>Type mismatch:\nRequired: Observable&lt;List&lt;FooRealm&gt;&gt;\nFound: Observable&lt;List&lt;Foo&gt;&gt;\n</code></pre>\n\n<p>when I do:</p>\n\n<pre><code>override fun getFoo(): Observable&lt;List&lt;Foo&gt;&gt; {\n    return Realm.getDefaultInstance().use { realm -&gt;\n        realm.where(FooRealm::class.java)\n                .equalTo(\"bar\", true)\n                .findAllAsync()\n                .asObservable()                    \n    }\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-vectordrawable"], "comments": [{"owner": {"reputation": 1454, "user_id": 2000099, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/24acb368d6f831aa7ea51c391f32c2af?s=128&d=identicon&r=PG", "display_name": "vmtrue", "link": "https://stackoverflow.com/users/2000099/vmtrue"}, "edited": false, "score": 0, "creation_date": 1509432451, "post_id": 47029286, "comment_id": 81005313, "body": "Please, add build.gradle file"}, {"owner": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "edited": false, "score": 0, "creation_date": 1509432520, "post_id": 47029286, "comment_id": 81005331, "body": "i think removing AppCompatDelegate.setCompatVectorFromResourcesEnabled(true) from your code&#39;ll work for you."}, {"owner": {"reputation": 2210, "user_id": 3364266, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/04d1edaaf3fafd9a515da1b800d4e95e?s=128&d=identicon&r=PG&f=1", "display_name": "Samir Bhatt", "link": "https://stackoverflow.com/users/3364266/samir-bhatt"}, "edited": false, "score": 0, "creation_date": 1509432562, "post_id": 47029286, "comment_id": 81005348, "body": "<a href=\"https://medium.com/@chrisbanes/appcompat-v23-2-age-of-the-vectors-91cbafa87c88\" rel=\"nofollow noreferrer\">medium.com/@chrisbanes/&hellip;</a> Check this. That might help you"}, {"owner": {"reputation": 8470, "user_id": 682763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/cc4ab410936026ce1b033d77cfca419e?s=128&d=identicon&r=PG", "display_name": "Expert wanna be", "link": "https://stackoverflow.com/users/682763/expert-wanna-be"}, "reply_to_user": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "edited": false, "score": 0, "creation_date": 1509433281, "post_id": 47029286, "comment_id": 81005674, "body": "@savepopulation I tried but still no luck"}, {"owner": {"reputation": 8470, "user_id": 682763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/cc4ab410936026ce1b033d77cfca419e?s=128&d=identicon&r=PG", "display_name": "Expert wanna be", "link": "https://stackoverflow.com/users/682763/expert-wanna-be"}, "reply_to_user": {"reputation": 1454, "user_id": 2000099, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/24acb368d6f831aa7ea51c391f32c2af?s=128&d=identicon&r=PG", "display_name": "vmtrue", "link": "https://stackoverflow.com/users/2000099/vmtrue"}, "edited": false, "score": 0, "creation_date": 1509433318, "post_id": 47029286, "comment_id": 81005689, "body": "@fisher3421 I update my question for your review, could you please take   a look?"}, {"owner": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "edited": false, "score": 0, "creation_date": 1509433744, "post_id": 47029286, "comment_id": 81005868, "body": "so you can try to set as button as mentioned in medium article above. android:button=&quot;@drawable/state_list_icon&quot;"}, {"owner": {"reputation": 8470, "user_id": 682763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/cc4ab410936026ce1b033d77cfca419e?s=128&d=identicon&r=PG", "display_name": "Expert wanna be", "link": "https://stackoverflow.com/users/682763/expert-wanna-be"}, "reply_to_user": {"reputation": 10606, "user_id": 1559852, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/FmZgv.jpg?s=128&g=1", "display_name": "savepopulation", "link": "https://stackoverflow.com/users/1559852/savepopulation"}, "edited": false, "score": 0, "creation_date": 1509433982, "post_id": 47029286, "comment_id": 81005975, "body": "@savepopulation Yes I tried but still I got &#39;invalid drawable tag vector&#39; error"}, {"owner": {"reputation": 1454, "user_id": 2000099, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/24acb368d6f831aa7ea51c391f32c2af?s=128&d=identicon&r=PG", "display_name": "vmtrue", "link": "https://stackoverflow.com/users/2000099/vmtrue"}, "edited": false, "score": 0, "creation_date": 1509443201, "post_id": 47029286, "comment_id": 81010919, "body": "@Expertwannabe I&#39;ve read this <a href=\"https://stackoverflow.com/questions/35761636/is-it-possible-to-use-vectordrawable-in-buttons-and-textviews-using-androiddraw\" title=\"is it possible to use vectordrawable in buttons and textviews using androiddraw\">stackoverflow.com/questions/35761636/&hellip;</a> And I think you can do it only programmatically"}, {"owner": {"reputation": 320, "user_id": 4600231, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-4MLeKpP7qAQ/AAAAAAAAAAI/AAAAAAAAAH8/8O6KMPcOx0I/photo.jpg?sz=128", "display_name": "Mohammad Davari", "link": "https://stackoverflow.com/users/4600231/mohammad-davari"}, "edited": false, "score": 1, "creation_date": 1593424016, "post_id": 47029286, "comment_id": 110766288, "body": "@Expertwannabe Did you fix this problem? I face it right now."}], "answers": [{"tags": [], "owner": {"reputation": 330, "user_id": 2000057, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/kf8dM.png?s=128&g=1", "display_name": "Isaak Osipovich Dunayevsky", "link": "https://stackoverflow.com/users/2000057/isaak-osipovich-dunayevsky"}, "is_accepted": false, "score": 0, "last_activity_date": 1608747114, "creation_date": 1608747114, "answer_id": 65428971, "question_id": 47029286, "link": "https://stackoverflow.com/questions/47029286/how-to-use-vectordrawable-in-android-selector/65428971#65428971", "title": "How to use VectorDrawable in Android &lt;selector&gt;", "body": "<p>use <code>animated-selector</code></p>\n<p>example</p>\n<p><a href=\"https://github.com/alexjlockwood/adp-delightful-details\" rel=\"nofollow noreferrer\">https://github.com/alexjlockwood/adp-delightful-details</a></p>\n<p><a href=\"https://www.androiddesignpatterns.com/2016/11/introduction-to-icon-animation-techniques.html\" rel=\"nofollow noreferrer\">https://www.androiddesignpatterns.com/2016/11/introduction-to-icon-animation-techniques.html</a></p>\n<p>create <code>animated-vector</code> file with this tool</p>\n<p><a href=\"https://shapeshifter.design/\" rel=\"nofollow noreferrer\">https://shapeshifter.design/</a></p>\n"}, {"tags": [], "owner": {"reputation": 2243, "user_id": 3466808, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pr9RU.jpg?s=128&g=1", "display_name": "Sam Chen", "link": "https://stackoverflow.com/users/3466808/sam-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1608755014, "creation_date": 1608755014, "answer_id": 65430496, "question_id": 47029286, "link": "https://stackoverflow.com/questions/47029286/how-to-use-vectordrawable-in-android-selector/65430496#65430496", "title": "How to use VectorDrawable in Android &lt;selector&gt;", "body": "<p>You should apply your custom <code>Drawable</code> to the <code>android:button</code> attribute instead of <code>android:background</code>: <a href=\"https://developer.android.com/reference/android/widget/CompoundButton#attr_android:button\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/widget/CompoundButton#attr_android:button</a></p>\n"}], "owner": {"reputation": 8470, "user_id": 682763, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/cc4ab410936026ce1b033d77cfca419e?s=128&d=identicon&r=PG", "display_name": "Expert wanna be", "link": "https://stackoverflow.com/users/682763/expert-wanna-be"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1156, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1608755014, "creation_date": 1509432037, "last_edit_date": 1509447901, "question_id": 47029286, "link": "https://stackoverflow.com/questions/47029286/how-to-use-vectordrawable-in-android-selector", "title": "How to use VectorDrawable in Android &lt;selector&gt;", "body": "<p>I'm trying to use VectorDrawable for Radio toggle button, but I got '<strong>invalid drawable tag vector</strong>' error in API level 17 device.</p>\n\n<pre><code>&lt;selector xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:drawable=\"@drawable/ic_list_on\" android:state_checked=\"true\" /&gt;\n    &lt;item android:drawable=\"@drawable/ic_list_off\" android:state_checked=\"false\" /&gt;\n&lt;/selector&gt;\n</code></pre>\n\n<p>I'm using this in a fragment, and I set the setCompatVectorFromResourcesEnabled to true in Activity which wraps the fragment.</p>\n\n<pre><code>class MainActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        AppCompatDelegate.setCompatVectorFromResourcesEnabled(true)\n</code></pre>\n\n<p>Also, I set the </p>\n\n<pre><code>vectorDrawables.useSupportLibrary = true\n</code></pre>\n\n<p>in build.gradle</p>\n\n<p>And this is the view xml,</p>\n\n<pre><code>&lt;RadioGroup\n    android:id=\"@+id/list_view_type\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"50dp\"\n    android:layout_gravity=\"end\"\n    android:gravity=\"center_vertical|end\"\n    android:padding=\"15dp\"\n    android:orientation=\"horizontal\"&gt;\n\n    &lt;android.support.v7.widget.AppCompatRadioButton\n        android:id=\"@+id/list_view\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginEnd=\"15dp\"\n        android:layout_marginRight=\"15dp\"\n        android:background=\"@drawable/grid_btn_toggle\"\n        android:button=\"@android:color/transparent\"\n        android:gravity=\"center\"\n        android:maxLines=\"1\"\n        android:text=\"\" /&gt;\n\n    &lt;android.support.v7.widget.AppCompatRadioButton\n        android:id=\"@+id/grid_view\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@drawable/list_btn_toggle\"\n        android:button=\"@android:color/transparent\"\n        android:checked=\"true\"\n        android:gravity=\"center\"\n        android:maxLines=\"1\"\n        android:text=\"\" /&gt;\n&lt;/RadioGroup&gt;\n</code></pre>\n\n<p>This is the one of the vector images content </p>\n\n<pre><code>&lt;vector android:height=\"24dp\" android:viewportHeight=\"21.0\"\n    android:viewportWidth=\"21.0\" android:width=\"24dp\" xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;path android:fillColor=\"#c3c3c3\" android:pathData=\"M2.5,0L2.5,0A2.5,2.5 0,0 1,5 2.5L5,2.5A2.5,2.5 0,0 1,2.5 5L2.5,5A2.5,2.5 0,0 1,0 2.5L0,2.5A2.5,2.5 0,0 1,2.5 0z\"/&gt;\n    &lt;path android:fillColor=\"#c3c3c3\" android:pathData=\"M2.5,8L2.5,8A2.5,2.5 0,0 1,5 10.5L5,10.5A2.5,2.5 0,0 1,2.5 13L2.5,13A2.5,2.5 0,0 1,0 10.5L0,10.5A2.5,2.5 0,0 1,2.5 8z\"/&gt;\n    &lt;path android:fillColor=\"#c3c3c3\" android:pathData=\"M2.5,16L2.5,16A2.5,2.5 0,0 1,5 18.5L5,18.5A2.5,2.5 0,0 1,2.5 21L2.5,21A2.5,2.5 0,0 1,0 18.5L0,18.5A2.5,2.5 0,0 1,2.5 16z\"/&gt;\n    &lt;path android:fillColor=\"#c3c3c3\" android:pathData=\"M7,1.455L20,1.455a1,1 0,0 1,1 1L21,2.455a1,1 0,0 1,-1 1L7,3.455A0,0 0,0 1,7 3.455L7,1.455A0,0 0,0 1,7 1.455Z\"/&gt;\n    &lt;path android:fillColor=\"#c3c3c3\" android:pathData=\"M7,9.455L20,9.455a1,1 0,0 1,1 1L21,10.455a1,1 0,0 1,-1 1L7,11.455A0,0 0,0 1,7 11.455L7,9.455A0,0 0,0 1,7 9.455Z\"/&gt;\n    &lt;path android:fillColor=\"#c3c3c3\" android:pathData=\"M7,17.455L20,17.455a1,1 0,0 1,1 1L21,18.455a1,1 0,0 1,-1 1L7,19.455A0,0 0,0 1,7 19.455L7,17.455A0,0 0,0 1,7 17.455Z\"/&gt;\n&lt;/vector&gt;\n</code></pre>\n\n<p>Is there any way I can use the VectorDrawable in android:drawable in the selector for API level 16 or 17?</p>\n\n<p>Build.grade contents,</p>\n\n<pre><code>apply plugin: 'com.android.application'\n\napply plugin: 'kotlin-android'\n\napply plugin: 'kotlin-android-extensions'\n\napply plugin: 'kotlin-kapt'\n\nandroid {\n\n    compileSdkVersion 26\n    buildToolsVersion \"26.0.2\"\n    dataBinding {\n        enabled = true\n    }\n    defaultConfig {\n        applicationId \"jp.dandoli.dandoliworks\"\n        minSdkVersion 16\n        targetSdkVersion 26\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary = true\n    }\n    buildTypes {\n        debug {\n        }\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:26.1.0'\n    implementation 'com.android.support.constraint:constraint-layout:1.0.2'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:3.0.1', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    compile 'com.android.support:design:26.1.0'\n    compile 'com.android.support:support-v4:26.1.0'\n\n    kapt \"com.android.databinding:compiler:3.0.0-rc2\"\n\n    implementation \"android.arch.lifecycle:runtime:1.0.0\"\n    implementation \"android.arch.lifecycle:extensions:1.0.0-alpha9-1\"\n\n    implementation \"com.android.support:cardview-v7:26.1.0\"\n    implementation \"com.android.support:recyclerview-v7:26.1.0\"\n\n    compile 'io.reactivex.rxjava2:rxandroid:2.0.1'\n    compile 'io.reactivex.rxjava2:rxkotlin:2.1.0'\n\n    compile 'com.squareup.retrofit2:retrofit:2.3.0'\n    compile 'com.squareup.retrofit2:converter-gson:2.3.0'\n    compile 'com.squareup.retrofit2:adapter-rxjava2:2.3.0'\n\n    compile 'com.squareup.okhttp3:okhttp:3.8.1'\n    compile 'com.squareup.okhttp3:logging-interceptor:3.4.0'\n\n    compile 'com.google.code.gson:gson:2.8.0'\n\n    compile 'com.squareup.picasso:picasso:2.5.2'\n}\n</code></pre>\n"}, {"tags": ["constructor", "kotlin", "base-class"], "answers": [{"tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": false, "score": 1, "last_activity_date": 1509432720, "creation_date": 1509432720, "answer_id": 47029442, "question_id": 47029272, "link": "https://stackoverflow.com/questions/47029272/kotlin-how-to-simplify-passing-parameters-to-base-class-constructor/47029442#47029442", "title": "kotlin, how to simplify passing parameters to base class constructor?", "body": "<p>If your subclass really has that many parameters in the constructur -> No way around that. You need to pass them all.</p>\n\n<p>But (mostly) it's no good sign, that a constructor/function has that many parameters...</p>\n\n<p>You are not alone on this. That is already discussed on the gradle-slack channel. Maybe in the future, we will get compiler-help on this, but for now, you need to pass the arguments yourself.</p>\n"}, {"comments": [{"owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "edited": false, "score": 0, "creation_date": 1509767494, "post_id": 47029461, "comment_id": 81164763, "body": "I checked and the first popular python package I could think of sqlalchemy,  and the first major class i looked at, the Table class, literally has 20 optional parameters(this is in addition to the needed parameters,the fields in the Table).  Does this mean they have a problem with their class design?  Is it that probably all python widely used packages have a problem with their design?  I think this is a difference that results from having optional parameters in the language.   In Java, with no optional parameters, yes 20 parameters, given none of them could be optional, would be a disaster."}], "tags": [], "owner": {"reputation": 4677, "user_id": 3673259, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/DPHO1.png?s=128&g=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/3673259/joshua"}, "is_accepted": false, "score": 2, "last_activity_date": 1509432803, "creation_date": 1509432803, "answer_id": 47029461, "question_id": 47029272, "link": "https://stackoverflow.com/questions/47029272/kotlin-how-to-simplify-passing-parameters-to-base-class-constructor/47029461#47029461", "title": "kotlin, how to simplify passing parameters to base class constructor?", "body": "<p>You can skip the name like <code>BaseTree(height, roots)</code> by put the variable in order but you cannot do things like Python because Python is dynamic language.</p>\n\n<p>It is normal that Java have to pass the variables to super class too.</p>\n\n<pre><code>FruitTree(int fruitSize, int height, boolean root) {\n    super(height, root);\n}\n</code></pre>\n\n<blockquote>\n  <p>There are about 20 parameters to the base class, and around 10 subclasses</p>\n</blockquote>\n\n<p>This is most likely a problem of your classes design.</p>\n"}, {"comments": [{"owner": {"reputation": 2261, "user_id": 4672107, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/jWMdh.jpg?s=128&g=1", "display_name": "Carson Holzheimer", "link": "https://stackoverflow.com/users/4672107/carson-holzheimer"}, "edited": false, "score": 0, "creation_date": 1613355782, "post_id": 47106355, "comment_id": 117041753, "body": "You could use the builder pattern. I&#39;d say that is the common solution to your problem in Java, whereas in Kotlin it isn&#39;t used so much since it has default parameters."}, {"owner": {"reputation": 2261, "user_id": 4672107, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/jWMdh.jpg?s=128&g=1", "display_name": "Carson Holzheimer", "link": "https://stackoverflow.com/users/4672107/carson-holzheimer"}, "edited": false, "score": 0, "creation_date": 1613743932, "post_id": 47106355, "comment_id": 117177659, "body": "Here is also some interesting discussion around future Kotlin language features in this area: <a href=\"https://github.com/Kotlin/KEEP/blob/master/notes/value-classes.md#name-based-construction-of-classes\" rel=\"nofollow noreferrer\">github.com/Kotlin/KEEP/blob/master/notes/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "is_accepted": true, "score": 1, "last_activity_date": 1509758130, "last_edit_date": 1509758130, "creation_date": 1509757733, "answer_id": 47106355, "question_id": 47029272, "link": "https://stackoverflow.com/questions/47029272/kotlin-how-to-simplify-passing-parameters-to-base-class-constructor/47106355#47106355", "title": "kotlin, how to simplify passing parameters to base class constructor?", "body": "<p>There is no design pattern to simplify this use case.</p>\n\n<p>Best solution: Refactor the code to use a more Java like approach: using properties in place of optional parameters.</p>\n\n<p>Use case explained:  A widely used class or method having numerous optional parameters is simply not practical in Java, and kotlin is most evolved as way of making java code better.  A python class with 5 optional parameters, translated to Java with no optional parameters, could have 5! ( and 5 factorial is <strong>60</strong>) different Java signatures...in other words a mess.   </p>\n\n<p>Obviously no object should routinely be instanced with a huge parameter list, so normall python classes only evolve for classes when the majority of calls do not need to specify these optional parameters, and the optional parameters are for the exception cases.  The actual use case here is the implementation of a large number of optional parameters, where it should be very rare for any individual object to be instanced using more than 3 of the optional parameter. So a class with 10 optional parameters that is used 500 times in an application, would still expect 3 of the optional parameters to be the maximum ever used in one instance.  But this is simply a design approach not workable in Java, no matter how often the class is reused.</p>\n\n<p>In Java, functions do hot have optional parameters, which means this case where an object is instanced in this way in a Java library simply could never happen.  </p>\n\n<p>Consider an object with one mandatory instance parameter, and five possible options.  In Java these options would each be properties able to be set by setters, and objects would then be instanced, and the setter(s) called for setting any relevant option, but infrequently required change to the default value for that option.</p>\n\n<p>The downside is that these options cannot be set from the constructor and remain immutable, but the resultant code reduces the optional parameters.</p>\n\n<p>Another approach is to have a group of less 'swiss army knife' objects, with a set of specialised tools replacing the one do-it-all tool, even when the code could be seen as just slightly different nuances of the same theme.</p>\n\n<p>Despite the support for Optional parameters in kotlin, The inheritance structure in kotlin is not yet optimised for heavier use of this feature.</p>\n"}, {"tags": [], "owner": {"reputation": 139, "user_id": 6106895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ccde81263aa295bd8674276661b41dd?s=128&d=identicon&r=PG&f=1", "display_name": "recke96", "link": "https://stackoverflow.com/users/6106895/recke96"}, "is_accepted": false, "score": 1, "last_activity_date": 1555540931, "creation_date": 1555540931, "answer_id": 55736911, "question_id": 47029272, "link": "https://stackoverflow.com/questions/47029272/kotlin-how-to-simplify-passing-parameters-to-base-class-constructor/55736911#55736911", "title": "kotlin, how to simplify passing parameters to base class constructor?", "body": "<p>Reading your question I started to experiment myself and this is what I came up with:</p>\n\n<pre><code>interface TreeProperties {\n    val height: Int\n    val roots: Boolean\n}\n\ninterface FruitTreeProperties: TreeProperties {\n    val fruitSize: Int\n}\n\nfun treeProps(height: Int = 10, roots: Boolean = true) = object : TreeProperties {\n    override val height = height\n    override val roots = roots\n}\n\nfun TreeProperties.toFruitProperty(fruitSize: Int): FruitTreeProperties = object: FruitTreeProperties, TreeProperties by this {\n    override val fruitSize = fruitSize\n}\n\nopen class BaseTree(val props: TreeProperties)\n\nopen class FruitTree(props: FruitTreeProperties): BaseTree(props)\n\nfun main(args: Array&lt;String&gt;){\n    val largTree = FruitTree(treeProps(height = 15).toFruitProperty(fruitSize = 5))\n    val rootlessTree = BaseTree(treeProps(roots = false))\n}\n</code></pre>\n\n<p>Basically I define the parameters in an interface and extend the interface for sub-classes using the delegate pattern. For convenience I added functions to generate instances of those interface which also use default parameters.</p>\n\n<p>I think this achieves the goal of repeating parameter lists quite nicely but also has its own overhead. Not sure if it is worth it.</p>\n"}], "owner": {"reputation": 1453, "user_id": 2141659, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FfmvC.jpg?s=128&g=1", "display_name": "innov8", "link": "https://stackoverflow.com/users/2141659/innov8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4484, "favorite_count": 1, "accepted_answer_id": 47106355, "answer_count": 4, "score": 4, "last_activity_date": 1555540931, "creation_date": 1509431944, "last_edit_date": 1509767973, "question_id": 47029272, "link": "https://stackoverflow.com/questions/47029272/kotlin-how-to-simplify-passing-parameters-to-base-class-constructor", "title": "kotlin, how to simplify passing parameters to base class constructor?", "body": "<p>We have a package that we are looking to convert to kotlin from python in order to then be able to migrate systems using that package.</p>\n\n<p>Within the package there are a set of classes that are all variants, or 'flavours' of a common base class.</p>\n\n<p>Most of the code is in the base class which has a significant number of optional parameters.  So consider:</p>\n\n<p>open class BaseTree(val height:Int=10,val roots:Boolean=true, //...... lots more!!</p>\n\n<pre><code>class FruitTree(val fruitSize, height:Int=10, roots:Boolean=true,\n  //  now need all possible parameters for any possible instance\n   ):BaseTree(height=height, roots=roots //... yet another variation of same list\n</code></pre>\n\n<p>The code is not actually trees, I just thought this was a simple way to convey the idea.  There are about 20 parameters to the base class, and around 10 subclasses, and each subclass effectively needs to repeat the same two variations of the parameter list from the base class.  A real nightmare if the parameter list ever changes!</p>\n\n<p><em>Those from a Java background may comment \"20 parameters is too many\", may miss that this is <strong>optional parameters</strong>, the language features which impacts this aspect of design.  20 required parameters would be crazy, but 10 or even 20 optional parameters is not so uncommon, check <a href=\"http://docs.sqlalchemy.org/en/latest/core/metadata.html#sqlalchemy.schema.Table\" rel=\"nofollow noreferrer\">sqlalchemy Table</a> for example.</em> </p>\n\n<p>In python, you to call a base class constructor you can have:</p>\n\n<pre><code>def __init__(self, special, *args, **kwargs):\n   super().__init(*args, **kwargs)  # pass all parameters except special to base constructor\n</code></pre>\n\n<p>Does anyone know a technique, using a different method (perhaps using interfaces or something?)  to avoid repeating this parameter list over and over for each subclass? </p>\n"}, {"tags": ["gradle", "kotlin", "android-studio-3.0"], "comments": [{"owner": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1509422002, "post_id": 47027076, "comment_id": 81002302, "body": "Might be caused somehow by the fact that <code>NetworkComponent</code> implements <code>CodeValidator</code>. Is <code>CodeValidator</code> public?"}, {"owner": {"reputation": 1752, "user_id": 918585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d84c69a270815c947e19baf632dbc15d?s=128&d=identicon&r=PG", "display_name": "Vas", "link": "https://stackoverflow.com/users/918585/vas"}, "reply_to_user": {"reputation": 37094, "user_id": 543539, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/cCXi8.jpg?s=128&g=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/543539/egor"}, "edited": false, "score": 0, "creation_date": 1509424496, "post_id": 47027076, "comment_id": 81002859, "body": "@Egor Yes. It&#39;s in another module. I commented out CodeValidator so that NetworkComponent does not implement it but the result is the same."}], "answers": [{"tags": [], "owner": {"reputation": 1752, "user_id": 918585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d84c69a270815c947e19baf632dbc15d?s=128&d=identicon&r=PG", "display_name": "Vas", "link": "https://stackoverflow.com/users/918585/vas"}, "is_accepted": true, "score": 5, "last_activity_date": 1509428794, "creation_date": 1509428794, "answer_id": 47028615, "question_id": 47027076, "link": "https://stackoverflow.com/questions/47027076/gradle-cant-resolve-references-from-another-module/47028615#47028615", "title": "Gradle can&#39;t resolve references from another module", "body": "<p>Turns out I was missing this key line in my device module build file:</p>\n\n<pre><code>apply plugin: 'kotlin-android'\n</code></pre>\n\n<p>Thanks to this answer for the clue <a href=\"https://stackoverflow.com/a/31671696/918585\">https://stackoverflow.com/a/31671696/918585</a></p>\n"}], "owner": {"reputation": 1752, "user_id": 918585, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d84c69a270815c947e19baf632dbc15d?s=128&d=identicon&r=PG", "display_name": "Vas", "link": "https://stackoverflow.com/users/918585/vas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2849, "favorite_count": 1, "accepted_answer_id": 47028615, "answer_count": 1, "score": 1, "last_activity_date": 1509428794, "creation_date": 1509417691, "last_edit_date": 1509418336, "question_id": 47027076, "link": "https://stackoverflow.com/questions/47027076/gradle-cant-resolve-references-from-another-module", "title": "Gradle can&#39;t resolve references from another module", "body": "<p>I have a project with the following modules:</p>\n\n<ul>\n<li>App</li>\n<li>Device</li>\n</ul>\n\n<p>App depends on device. Device contains a NetworkComponent class that app references. More specifically:</p>\n\n<pre><code>package com.some.package.ui.login;\n\nimport android.content.Intent\nimport android.os.Bundle\nimport android.support.v7.app.AppCompatActivity\nimport com.some.package.R\nimport com.some.package.device.network.NetworkComponent\nimport com.some.package.ui.terms.TermsActivity\n\nclass LoginActivity : AppCompatActivity(),\n        LoginViewModel.Navigator {\n\n    val loginViewModel by lazy { LoginViewModel(this, NetworkComponent()) }\n</code></pre>\n\n<p>Everything resolves fine in Android Studio. Yet when I attempt to build the project, I encounter a build error:</p>\n\n<pre><code>e: /Users/android/some-app-android/app/src/main/kotlin/com/some/package/ui/login/LoginActivity.kt: (7, 27): Unresolved reference: network\ne: /Users/android/some-app-android/app/src/main/kotlin/com/some/package/ui/login/LoginActivity.kt: (13, 55): Unresolved reference: NetworkComponent\n[KOTLIN] deleting /Users/android/some-app-android/app/build/tmp/kotlin-classes/debug on error\n[KOTLIN] deleting /Users/android/some-app-android/app/build/tmp/kotlin-classes/debug on error\n:app:compileDebugKotlin FAILED\n</code></pre>\n\n<p>This is what NetworkComponent looks like:</p>\n\n<pre><code>package com.some.package.device.network\n\nimport com.some.package.domain.datasources.CodeValidator\nimport retrofit2.Retrofit\n\n\nclass NetworkComponent : CodeValidator {\n\n    val codeValidator: CodeValidatorApi\n\n    init {\n        val retrofit = Retrofit.Builder()\n                .baseUrl(\"www.test.com\")\n                .build()\n\n        codeValidator = retrofit.create(CodeValidatorApi::class.java)\n    }\n\n    override fun validate(code: String) = codeValidator.validate(code)\n}\n</code></pre>\n\n<p>Here are the build files:</p>\n\n<p>Top: </p>\n\n<pre><code>buildscript {\n    ext.kotlin_version = '1.1.51'\n    ext.android_tools = '3.0.0'\n    repositories {\n        google()\n        jcenter()\n    }\n\n    dependencies {\n        classpath \"com.android.tools.build:gradle:$android_tools\"\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n    }\n}\n</code></pre>\n\n<p>App:</p>\n\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n    }\n}\n\napply plugin: 'com.android.application'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-kapt'\n\n//apply plugin: 'io.fabric'\n\n// Manifest version information\ndef versionMajor = 0\ndef versionMinor = 0\ndef versionPatch = 1\n\nandroid {\n    compileSdkVersion 27\n\n    defaultConfig {\n        applicationId \"com.some.package\"\n        minSdkVersion 21\n        targetSdkVersion 27\n        versionCode versionMajor * 10000 + versionMinor * 100 + versionPatch\n        versionName \"${versionMajor}.${versionMinor}.${versionPatch}\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n\n    buildTypes {\n        debug {\n//            applicationIdSuffix '.debug'\n            resValue \"string\", \"application_name\", \"TEST APP Debug\"\n            debuggable true\n        }\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n            resValue \"string\", \"application_name\", \"TEST APP\"\n        }\n    }\n\n    dataBinding {\n        enabled = true\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n        debug.java.srcDirs += 'src/debug/kotlin'\n    }\n\n    packagingOptions {\n        exclude 'META-INF/ASL2.0'\n        exclude 'META-INF/LICENSE'\n        exclude 'META-INF/LICENSE.txt'\n        exclude 'META-INF/license.txt'\n        exclude 'META-INF/NOTICE'\n        exclude 'META-INF/NOTICE.txt'\n        exclude 'META-INF/notice.txt'\n        exclude 'META-INF/DEPENDENCIES'\n        exclude 'META-INF/services/javax.annotation.processing.Processor' // butterknife\n    }\n}\n\nrepositories {\n    maven { url 'https://github.com/uPhyca/stetho-realm/raw/master/maven-repo' }\n}\n\ndependencies {\n    implementation project(':device')\n    implementation project(':data')\n    implementation project(':domain')\n\n    implementation fileTree(include: ['*.jar'], dir: 'libs')\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n    implementation 'com.android.support:support-v4:27.0.0'\n    implementation 'com.android.support:appcompat-v7:27.0.0'\n    implementation 'com.android.support:design:27.0.0'\n    implementation 'com.android.support:support-annotations:27.0.0'\n    kapt \"com.android.databinding:compiler:$android_tools\"\n\n    // Logging\n    implementation 'com.jakewharton.timber:timber:4.5.1'\n\n    // Unit tests\n    testImplementation 'junit:junit:4.12'\n//    testImplementation 'org.robolectric:robolectric:3.0'\n    testImplementation 'org.mockito:mockito-core:2.11.0'\n//    testImplementation 'joda-time:joda-time:2.9.4'\n\n//    debugImplementation 'com.squareup.leakcanary:leakcanary-android:1.5.1'\n//    releaseImplementation 'com.squareup.leakcanary:leakcanary-android-no-op:1.5.1'\n//    testImplementation 'com.squareup.leakcanary:leakcanary-android-no-op:1.5.1'\n\n\n\n    implementation 'io.reactivex.rxjava2:rxkotlin:2.1.0'\n\n    debugImplementation 'com.facebook.stetho:stetho:1.4.1'\n    debugImplementation 'com.uphyca:stetho_realm:2.0.0'\n//    implementation('com.crashlytics.sdk.android:crashlytics:2.6.8@aar') {\n//        transitive = true;\n//    }\n}\n</code></pre>\n\n<p>Device:</p>\n\n<pre><code>apply plugin: 'com.android.library'\n\nandroid {\n    compileSdkVersion 27\n\n    defaultConfig {\n        minSdkVersion 21\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0\"\n\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n\n    sourceSets {\n        main.java.srcDirs += 'src/main/kotlin'\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation project(':domain')\n\n    androidTestImplementation('com.android.support.test.espresso:espresso-core:2.2.2', {\n        exclude group: 'com.android.support', module: 'support-annotations'\n    })\n    implementation 'com.android.support:appcompat-v7:27.0.0'\n\n    implementation 'io.reactivex.rxjava2:rxkotlin:2.1.0'\n    implementation \"com.squareup.retrofit2:retrofit:2.3.0\"\n    implementation \"com.squareup.retrofit2:adapter-rxjava2:2.3.0\"\n\n    testImplementation 'junit:junit:4.12'\n}\n</code></pre>\n\n<p>I'm not quite sure how this can happen. I tried downgrading the gradle plugin to 2.3.3, but no luck.</p>\n\n<p>Any ideas?</p>\n"}, {"tags": ["kotlin", "zipkin", "spring-cloud-sleuth", "kotlinx.coroutines"], "comments": [{"owner": {"reputation": 8371, "user_id": 1773866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a384fbfb3e9df1f9f73565863dcd96b8?s=128&d=identicon&r=PG", "display_name": "Marcin Grzejszczak", "link": "https://stackoverflow.com/users/1773866/marcin-grzejszczak"}, "edited": false, "score": 0, "creation_date": 1509431117, "post_id": 47026664, "comment_id": 81004834, "body": "I guess it&#39;s related to <code>async(CommonPool) {...}</code>. I don&#39;t know kotlin so I don&#39;t really know what it does. But if you run stuff in an asynchronous mode you have to ensure that you pass the tracing context."}, {"owner": {"reputation": 145, "user_id": 10936956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b2a4139ea422e9fcef4d15e6e815f69?s=128&d=identicon&r=PG&f=1", "display_name": "J. Buehler", "link": "https://stackoverflow.com/users/10936956/j-buehler"}, "edited": false, "score": 0, "creation_date": 1603363973, "post_id": 47026664, "comment_id": 114016825, "body": "A defect exists for this issue: <a href=\"https://github.com/spring-cloud/spring-cloud-sleuth/issues/1737\" rel=\"nofollow noreferrer\">github.com/spring-cloud/spring-cloud-sleuth/issues/1737</a>"}], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 3548002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f43bd87da62a0b9c0ac710e405186557?s=128&d=identicon&r=PG&f=1", "display_name": "Baca", "link": "https://stackoverflow.com/users/3548002/baca"}, "is_accepted": false, "score": 0, "last_activity_date": 1599035757, "last_edit_date": 1599035757, "creation_date": 1538375827, "answer_id": 52585722, "question_id": 47026664, "link": "https://stackoverflow.com/questions/47026664/spring-sleuth-zipkin-spans-not-nesting-in-kotlin-coroutine/52585722#52585722", "title": "Spring sleuth zipkin spans not nesting in Kotlin coroutine", "body": "<p>I use &quot;TraceCallable&quot; class from &quot;<a href=\"http://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-sleuth-core\" rel=\"nofollow noreferrer\">spring-cloud-sleuth</a>&quot; lib to solve it in my code.</p>\n<p>My code example is:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Component\nclass TracingCallableSupplier(\n    private val tracing: Tracing,\n    private val spanNamer: SpanNamer\n) {\n\n    /**\n     * Supply callable which will use tracing from parent while performing jobs.\n     */\n    fun &lt;T : Any?&gt; supply(function: () -&gt; T): Callable&lt;T&gt; {\n        return TraceCallable(tracing, spanNamer, Callable(function))\n    }\n}\n\n@Service\nclass MyBean{\n    @Autowired\n    lateinit var traceSupplier : TracingCallableSupplier\n\n    fun myMethod {\n        val callable = tracingCallableSupplier.supply {\n            // ... some code to be called asynchronous...\n        }\n\n        // simplest coroutine...\n        GlobalScope.launch {\n            callable.call()\n        }\n\n        // more advanced coroutine usage...\n        val deferred = (0 until 10).map {\n            async {\n                callable.call()\n            }\n        }\n\n        runBlocking {\n            deferred.map {\n                val result = it.await()\n                // ... some processing ...\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 145, "user_id": 10936956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b2a4139ea422e9fcef4d15e6e815f69?s=128&d=identicon&r=PG&f=1", "display_name": "J. Buehler", "link": "https://stackoverflow.com/users/10936956/j-buehler"}, "is_accepted": false, "score": 1, "last_activity_date": 1603363688, "last_edit_date": 1603363688, "creation_date": 1603172508, "answer_id": 64439116, "question_id": 47026664, "link": "https://stackoverflow.com/questions/47026664/spring-sleuth-zipkin-spans-not-nesting-in-kotlin-coroutine/64439116#64439116", "title": "Spring sleuth zipkin spans not nesting in Kotlin coroutine", "body": "<p><em><strong>Attention: This solution does works for logging purposes, but does not work for other Sleuth features like instrumenting RestTemplates to send the tracing headers to other services. So unfortunately, this is not a fully working solution. :(</strong></em></p>\n<p>Some time after adopting @Baca's solution, I discovered that Kotlin Coroutines offer direct integration with slf4j, which is what Spring Sleuth builds on.\nSleuth adds properties <code>X-B3-TraceId</code>, <code>traceId</code>, <code>X-B3-SpanId</code>, and <code>spanId</code> to the thread's MDC.</p>\n<p>You can retain the parent thread's MDC for a coroutine with the code shown below. The coroutine framework will take care of restoring the MDC context on the worker thread whenever the coroutine is executed/resumed. This is the easiest solution I could discover so far. :)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// add your own properties or use the ones already added by Sleuth\nMDC.put(&quot;someLoggerProperty&quot;, &quot;someValue&quot;)\n\nGlobalScope.launch(MDCContext()) {\n    // your code goes here\n}\n</code></pre>\n<p>The launch method takes an optional CoroutineContext and the coroutine-slf4j integration implements the MDCContext. This class captures the calling thread's MDC context (creates a copy) and uses that for the coroutine execution.</p>\n<p>Add this dependency to your build.gradle:</p>\n<pre><code>implementation group: 'org.jetbrains.kotlinx', name: 'kotlinx-coroutines-slf4j', version: '1.3.9'\n</code></pre>\n<p>Project: <a href=\"https://github.com/Kotlin/kotlinx.coroutines/tree/master/integration/kotlinx-coroutines-slf4j\" rel=\"nofollow noreferrer\">https://github.com/Kotlin/kotlinx.coroutines/tree/master/integration/kotlinx-coroutines-slf4j</a>\nDocumentation: <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-slf4j/index.html\" rel=\"nofollow noreferrer\">https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-slf4j/index.html</a></p>\n"}], "owner": {"reputation": 651, "user_id": 451079, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7f8794fd29ce034587af1302fa867be?s=128&d=identicon&r=PG", "display_name": "Allan", "link": "https://stackoverflow.com/users/451079/allan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 661, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1603363688, "creation_date": 1509413795, "last_edit_date": 1509415126, "question_id": 47026664, "link": "https://stackoverflow.com/questions/47026664/spring-sleuth-zipkin-spans-not-nesting-in-kotlin-coroutine", "title": "Spring sleuth zipkin spans not nesting in Kotlin coroutine", "body": "<p>I can see spans being recorded in the Zipkin UI from the following Spring Boot controller code:</p>\n\n<pre><code>@RestController\nclass ConcurrentController {\n    @Autowired\n    lateinit var restTemplate : RestTemplate\n    val urls = arrayListOf&lt;String&gt;(\"http://www.google.com\",\"http://www.facebook.com\")\n    private val logger = Logger.getLogger(this::class.java.getName())\n    @RequestMapping(\"/concurrent1\")\n    fun endPoint1() : String {\n        logger.info(\"/concurrent1\")\n        var s = \"\"\n        runBlocking {\n            val a = urls.map { url -&gt;\n                logger.info(url)\n                async(CommonPool) {\n                logger.info(\"getting $url\")\n                restTemplate.getForObject(url, String::class.java)\n                sleep(5000)\n                logger.info(\"got $url\")\n                }\n            }\n            val b = a.map { it.await() }\n            s = b.joinToString { \"\" }\n        }\n        return s\n    }\n}\n</code></pre>\n\n<p>and the log output looks like:</p>\n\n<pre><code>2017-10-30 20:56:04.525  INFO [coroutinesDemo,eb6fd4fedb6f3a6d,eb6fd4fedb6f3a6d,true] 13547 --- [nio-8080-exec-1] c.e.coroutines.ConcurrentController      : /concurrent1\n2017-10-30 20:56:04.543  INFO [coroutinesDemo,eb6fd4fedb6f3a6d,eb6fd4fedb6f3a6d,true] 13547 --- [nio-8080-exec-1] c.e.coroutines.ConcurrentController      : http://www.google.com\n2017-10-30 20:56:04.548  INFO [coroutinesDemo,eb6fd4fedb6f3a6d,eb6fd4fedb6f3a6d,true] 13547 --- [nio-8080-exec-1] c.e.coroutines.ConcurrentController      : http://www.facebook.com\n2017-10-30 20:56:04.548  INFO [coroutinesDemo,,,] 13547 --- [onPool-worker-9] c.e.coroutines.ConcurrentController      : getting http://www.google.com\n2017-10-30 20:56:04.549  INFO [coroutinesDemo,,,] 13547 --- [onPool-worker-2] c.e.coroutines.ConcurrentController      : getting http://www.facebook.com\n2017-10-30 20:56:09.703  INFO [coroutinesDemo,,,] 13547 --- [onPool-worker-2] c.e.coroutines.ConcurrentController      : got http://www.facebook.com\n2017-10-30 20:56:09.703  INFO [coroutinesDemo,,,] 13547 --- [onPool-worker-9] c.e.coroutines.ConcurrentController      : got http://www.google.com\n</code></pre>\n\n<p>but the traces are independent in the UI.</p>\n\n<p>I would expect the two calls to Google and Facebook urls to be nested concurrently under the call to the <code>/concurrent1</code> endpoint.</p>\n\n<p>I suspect that it's due to the thread that coroutines are executed on being different to the one in which the spring application is started but I have no idea how to move forward with Spring Sleuth at this point!</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 870, "user_id": 1438975, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4b6e6486d9315ee9508943ed8a65c97f?s=128&d=identicon&r=PG", "display_name": "rajahsekar", "link": "https://stackoverflow.com/users/1438975/rajahsekar"}, "edited": false, "score": 0, "creation_date": 1509433946, "post_id": 47026165, "comment_id": 81005957, "body": "what is your filter method does??"}, {"owner": {"reputation": 1, "user_id": 8859397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/811450b47cf40ee01ce6cba74ff12eda?s=128&d=identicon&r=PG&f=1", "display_name": "Yue Z", "link": "https://stackoverflow.com/users/8859397/yue-z"}, "reply_to_user": {"reputation": 870, "user_id": 1438975, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4b6e6486d9315ee9508943ed8a65c97f?s=128&d=identicon&r=PG", "display_name": "rajahsekar", "link": "https://stackoverflow.com/users/1438975/rajahsekar"}, "edited": false, "score": 0, "creation_date": 1509460697, "post_id": 47026165, "comment_id": 81022481, "body": "the adapter takes an ArrayList of my custom objects, which contains a string, so the filter checks whether each object.string contains; if so, the object will be stored in a temp ArrayList, and when it&#39;s done, substitute the old list with the temp list"}, {"owner": {"reputation": 870, "user_id": 1438975, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/4b6e6486d9315ee9508943ed8a65c97f?s=128&d=identicon&r=PG", "display_name": "rajahsekar", "link": "https://stackoverflow.com/users/1438975/rajahsekar"}, "edited": false, "score": 0, "creation_date": 1509513787, "post_id": 47026165, "comment_id": 81044378, "body": "you can use filter in onQueryTextChange() remove (listView.adapter as MessageListAdapter).filter.filter(query) from onQueryTextSubmit()"}], "owner": {"reputation": 1, "user_id": 8859397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/811450b47cf40ee01ce6cba74ff12eda?s=128&d=identicon&r=PG&f=1", "display_name": "Yue Z", "link": "https://stackoverflow.com/users/8859397/yue-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 359, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1509409533, "creation_date": 1509409533, "question_id": 47026165, "link": "https://stackoverflow.com/questions/47026165/update-searchview-while-deleting-query-android", "title": "Update searchView while deleting query android", "body": "<p>I implemented a searchView with a custom searchable ListAdapter. Currently using the code I have, I can achieve most of the functionality I want. However, the query result is not updating inside the SearchView when I press backspace to delete the strings for querying. Did I implement onQueryTextChange() wrong? </p>\n\n<p>MainActivity:</p>\n\n<pre><code>    val searchManager = getSystemService(Context.SEARCH_SERVICE) as SearchManager\n\n    val searchMenuItem = menu!!.findItem(R.id.search)\n\n    val searchView = searchMenuItem.actionView as SearchView\n\n    searchView.setSearchableInfo(searchManager.getSearchableInfo(componentName))\n\n    searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener{\n        override fun onQueryTextSubmit(query: String?): Boolean {\n            (listView.adapter as MessageListAdapter).filter.filter(query)\n            return true\n        }\n\n        override fun onQueryTextChange(newText: String?): Boolean {\n            (listView.adapter as MessageListAdapter).filter.filter(newText)\n            return true\n        }\n    }) \n</code></pre>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 172, "user_id": 2761589, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3iXPy.jpg?s=128&g=1", "display_name": "tomm", "link": "https://stackoverflow.com/users/2761589/tomm"}, "edited": false, "score": 0, "creation_date": 1598101912, "post_id": 47026106, "comment_id": 112351384, "body": "If somebody new to kotlin is curious why it is possible to have maxBy function without parentheses (), reason is that when the only function argument is lambda - which is true for maxBy function, then you can omit parentheses and instead of them put directly curly braces with lambda"}], "answers": [{"comments": [{"owner": {"reputation": 340, "user_id": 5398094, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/878b2f5216164514f2dccd623c21e5b6?s=128&d=identicon&r=PG&f=1", "display_name": "M. Smith", "link": "https://stackoverflow.com/users/5398094/m-smith"}, "edited": false, "score": 0, "creation_date": 1583253168, "post_id": 47026192, "comment_id": 107050406, "body": "What is MaxBy behavior in case of a tie?"}], "tags": [], "owner": {"reputation": 5658, "user_id": 8041461, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/-nR0Gs4YyO0M/AAAAAAAAAAI/AAAAAAAAAKk/ld4ET5Sgzvw/photo.jpg?sz=128", "display_name": "jrtapsell", "link": "https://stackoverflow.com/users/8041461/jrtapsell"}, "is_accepted": true, "score": 29, "last_activity_date": 1509409777, "creation_date": 1509409777, "answer_id": 47026192, "question_id": 47026106, "link": "https://stackoverflow.com/questions/47026106/get-entry-with-max-value-from-map-in-kotlin/47026192#47026192", "title": "Get entry with max value from Map in Kotlin", "body": "<h1>MaxBy</h1>\n\n<p>MaxBy converts the values to a comparable type, and compares by the computed value</p>\n\n<h1>MaxWith</h1>\n\n<p>MaxWith compares the items with each other and sorts them by the return value of the comparator.</p>\n\n<h1>Which one to use</h1>\n\n<p>MaxBy makes more sense usually, because it is usually faster (although YMMV), and because implementations can be simpler, but if the items can only be sorted by comparing then maxWith may be needed.</p>\n\n<h1>How to use it</h1>\n\n<p>This gets the highest value entry:</p>\n\n<pre><code>var maxBy = myMap.maxBy { it.value }\n</code></pre>\n\n<p>The same code with maxWith would look like this:</p>\n\n<pre><code>val maxWith = myMap.maxWith(Comparator({a, b -&gt; a.value.compareTo(b.value)}))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 317, "user_id": 5809078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b3bc397d5f3bd699e6f5d62e56fd468?s=128&d=identicon&r=PG&f=1", "display_name": "Paramatma Sharan", "link": "https://stackoverflow.com/users/5809078/paramatma-sharan"}, "is_accepted": false, "score": 3, "last_activity_date": 1580379660, "creation_date": 1580379660, "answer_id": 59983740, "question_id": 47026106, "link": "https://stackoverflow.com/questions/47026106/get-entry-with-max-value-from-map-in-kotlin/59983740#59983740", "title": "Get entry with max value from Map in Kotlin", "body": "<p>Create a class like below</p>\n\n<pre><code> data class Student(val name: String, val age: Int)\n</code></pre>\n\n<p>Now goto Oncreate</p>\n\n<pre><code> val public = listOf(Student(\"param\",29),\n            Student(\"nilesh\", 19),\n            Student(\"rahul\", 13),\n            Student(\"venkat\", 12),\n            Student(\"Ram\", 22),\n            Student(\"Sonam\", 18))\n</code></pre>\n\n<p>Now for maxBy in Create </p>\n\n<pre><code>val maxAge=public.maxBy { p-&gt; p.age }\n    println(maxAge)\n    println(\"Student Name: ${maxAge?.name}\" )\n    println(\"Student Age: ${maxAge?.age}\" )\n</code></pre>\n\n<p>and for minBy in Create </p>\n\n<pre><code>val minAge = public.minBy { p-&gt;p.age }\n    println(minAge)\n    println(\"Student Name: ${minAge?.name}\" )\n    println(\"Student Age: ${minAge?.age}\" )\n</code></pre>\n"}], "owner": {"reputation": 625, "user_id": 1320862, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b5802ca8d4e55666b51fd5535e1df8da?s=128&d=identicon&r=PG&f=1", "display_name": "Mpac", "link": "https://stackoverflow.com/users/1320862/mpac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 11783, "favorite_count": 2, "accepted_answer_id": 47026192, "answer_count": 2, "score": 13, "last_activity_date": 1580379660, "creation_date": 1509409048, "question_id": 47026106, "link": "https://stackoverflow.com/questions/47026106/get-entry-with-max-value-from-map-in-kotlin", "title": "Get entry with max value from Map in Kotlin", "body": "<p>I cannot understand how to use <code>maxBy</code> and <code>maxWith</code> methods from <em>Map</em> interface. I have this code:</p>\n\n<pre><code>var myMap: Map&lt;String, Int&gt; = mutableMapOf()\n// ...\nvar best = myMap.maxBy { ??? }\n</code></pre>\n\n<p>I'd like to get the entry with max value but I don't know what to pass to <code>maxBy</code> or <code>maxWith</code>.</p>\n"}, {"tags": ["kotlin", "tail-recursion"], "comments": [{"owner": {"reputation": 46728, "user_id": 557179, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/7KJPr.jpg?s=128&g=1", "display_name": "Nikola Despotoski", "link": "https://stackoverflow.com/users/557179/nikola-despotoski"}, "edited": false, "score": 1, "creation_date": 1509404890, "post_id": 47025354, "comment_id": 80998209, "body": "<code>tailrec</code> in Kotlin prevents your function overflow the stack. This modifier is used by the compiler to optimize it."}, {"owner": {"reputation": 11096, "user_id": 2749717, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46af1ef54856d737d52b7667afd240ee?s=128&d=identicon&r=PG&f=1", "display_name": "bipll", "link": "https://stackoverflow.com/users/2749717/bipll"}, "edited": false, "score": 5, "creation_date": 1509405242, "post_id": 47025354, "comment_id": 80998327, "body": "I like how &quot;function factorial&quot; turns into &quot;fun fact&quot; in Kotlin parlance."}], "answers": [{"tags": [], "owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "is_accepted": true, "score": 2, "last_activity_date": 1509405015, "creation_date": 1509405015, "answer_id": 47025586, "question_id": 47025354, "link": "https://stackoverflow.com/questions/47025354/kotlin-recursion/47025586#47025586", "title": "Kotlin recursion", "body": "<p>I'll start saying that the <code>tailrec</code> keyword is used only as an optimization for the compiler that will try to express the function with a loop and not with recursion avoiding the risk of <a href=\"https://en.wikipedia.org/wiki/Stack_overflow\" rel=\"nofollow noreferrer\">stack overflow</a>.</p>\n\n<p>If we avoid recursion, the function could look to something like this:</p>\n\n<pre><code> fun fact(x: Int): Int {\n    var result = x\n    for (i in x - 1 downTo 1) {\n        result *= i\n    }\n    return result\n }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7068, "user_id": 5217712, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xq83n.jpg?s=128&g=1", "display_name": "Enzokie", "link": "https://stackoverflow.com/users/5217712/enzokie"}, "edited": false, "score": 0, "creation_date": 1511850531, "post_id": 47525225, "comment_id": 82006532, "body": "That risk you&#39;re referring is not only exclusive to Kotlin."}, {"owner": {"reputation": 2065, "user_id": 1367192, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/b8541d7729fff6737972059ded409793?s=128&d=identicon&r=PG", "display_name": "dds", "link": "https://stackoverflow.com/users/1367192/dds"}, "edited": false, "score": 0, "creation_date": 1557765883, "post_id": 47525225, "comment_id": 98866633, "body": "This is not true if you have tail recursion optimization, like in the example in the original question."}, {"owner": {"reputation": 641, "user_id": 7957325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ud8G6.jpg?s=128&g=1", "display_name": "Asharali V U", "link": "https://stackoverflow.com/users/7957325/asharali-v-u"}, "edited": false, "score": 0, "creation_date": 1557987055, "post_id": 47525225, "comment_id": 98951365, "body": "Updated the answer"}], "tags": [], "owner": {"reputation": 641, "user_id": 7957325, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ud8G6.jpg?s=128&g=1", "display_name": "Asharali V U", "link": "https://stackoverflow.com/users/7957325/asharali-v-u"}, "is_accepted": false, "score": 2, "last_activity_date": 1557986748, "last_edit_date": 1557986748, "creation_date": 1511850412, "answer_id": 47525225, "question_id": 47025354, "link": "https://stackoverflow.com/questions/47025354/kotlin-recursion/47525225#47525225", "title": "Kotlin recursion", "body": "<p>There is a big risk when you use recursion in Java that is stackoverflow.\n<a href=\"https://i.stack.imgur.com/pKbqZ.png\" rel=\"nofollow noreferrer\">stack</a></p>\n\n<p>As above link recursion works in Java. There will be some maximum size for stack, If our recursion function is going to infinite, then it will cross the max size and it leads to StackOverflow exception. So avoid using recursion and use loop instead</p>\n\n<p>Coming to the current problem. It's a special recursion which is <a href=\"https://en.wikipedia.org/wiki/Tail_call\" rel=\"nofollow noreferrer\">Tail call</a>. On that a function must call itself as the last operation it performs. Tail calls can be implemented without adding a new stack frame to the call stack. So there will not be any risk of StackOverflow. And it's supported in kotlin.</p>\n\n<p>In Kotlin it uses <a href=\"https://en.wikipedia.org/wiki/Tail_call\" rel=\"nofollow noreferrer\">tailrec</a> modifier to show this special recursion.  You cannot use tail recursion when there is more code after the recursive call, and you cannot use it within try/catch/finally blocks. </p>\n"}], "owner": {"reputation": 131, "user_id": 8319427, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/78aec891aa2d1572d7fb712f224eb665?s=128&d=identicon&r=PG&f=1", "display_name": "Ruby", "link": "https://stackoverflow.com/users/8319427/ruby"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 692, "favorite_count": 1, "accepted_answer_id": 47025586, "answer_count": 2, "score": 4, "last_activity_date": 1557986748, "creation_date": 1509403623, "question_id": 47025354, "link": "https://stackoverflow.com/questions/47025354/kotlin-recursion", "title": "Kotlin recursion", "body": "<pre><code>fun fact(x: Int): Int{\n    tailrec fun factTail(y: Int, z: Int): Int{\n        if (y == 0) return z\n        else return factTail(y - 1, y * z)\n    }\n    return factTail(x, 1)\n}\n</code></pre>\n\n<p>Could someone please explain to me how does the above recursion function work in kotlin?</p>\n"}, {"tags": ["validation", "kotlin"], "comments": [{"owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "edited": false, "score": 2, "creation_date": 1509397641, "post_id": 47024119, "comment_id": 80995425, "body": "Checkout this answer:  <a href=\"https://stackoverflow.com/questions/46895821/how-to-have-custom-setter-with-check-of-the-parameter-for-validity/46897164#46897164\" title=\"how to have custom setter with check of the parameter for validity\">stackoverflow.com/questions/46895821/&hellip;</a>"}, {"owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "edited": false, "score": 3, "creation_date": 1509397739, "post_id": 47024119, "comment_id": 80995470, "body": "You can also implement your own &quot;Positive&quot; delegate"}], "answers": [{"tags": [], "owner": {"reputation": 127, "user_id": 636400, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/7td1u.jpg?s=128&g=1", "display_name": "Luca Piccinelli", "link": "https://stackoverflow.com/users/636400/luca-piccinelli"}, "is_accepted": false, "score": 0, "last_activity_date": 1608833512, "last_edit_date": 1608833512, "creation_date": 1608829803, "answer_id": 65441310, "question_id": 47024119, "link": "https://stackoverflow.com/questions/47024119/kotlin-how-to-validate-data-class/65441310#65441310", "title": "Kotlin - how to validate data class", "body": "<p>Maybe I'm a little late on that. You can use the <a href=\"https://github.com/lucapiccinelli/konad/blob/master/src/main/kotlin/io/konad/Result.kt\" rel=\"nofollow noreferrer\">Result</a> class of <a href=\"https://github.com/lucapiccinelli/konad\" rel=\"nofollow noreferrer\">Konad</a> library. You return Result.Ok when validation has success, or Result.Errors if it fails.\nIt also brings a simple API when you need to compose multiple validation results. See <a href=\"https://github.com/lucapiccinelli/konad#usage-example\" rel=\"nofollow noreferrer\">usage example</a> section. For your case you can do:</p>\n<pre><code>data class private constructor Positive(val value: Long){\n     companion object {\n         fun of(x: Long) = \n            if(x &lt; 0) &quot;$x is not positive. Should be positive&quot;.error()\n            else Positive(x).ok()\n     }\n}\n\nfun addPositives(x: Positive, y: Positive, z: Positive): Long = \n    x.value + y.value + z.value\n\nval added: Result&lt;Long&gt; = ::addPositives.curry()\n    .on(Positive.of(1))\n    .on(Positive.of(-1)) // This is invalid -&gt; returns Result.Errors\n    .on(Positive.of(2))\n    .result\n\nwhen(added){\n    is Result.Ok -&gt; added.toString()\n    is Result.Errors -&gt; added.description  \n}.run { println(this) } // This is going to print &quot;-1 is not positive. Should be positive&quot;\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 6148470, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3475846d786f203b0dcd5bc5a063e5e2?s=128&d=identicon&r=PG&f=1", "display_name": "Mario", "link": "https://stackoverflow.com/users/6148470/mario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1355, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1608833512, "creation_date": 1509397432, "question_id": 47024119, "link": "https://stackoverflow.com/questions/47024119/kotlin-how-to-validate-data-class", "title": "Kotlin - how to validate data class", "body": "<p>I have a class:</p>\n\n<pre><code>class Foo{\n  var x:Long = 10\n    set(value) {if( value &lt; 0 ) throw IllegalArgumentException(\"error\"); field=value}\n}\n</code></pre>\n\n<p>Is it possible to validate these values in a more elegant way? For example - I want something like this:</p>\n\n<pre><code>class Foo( @Positive var x: Long) {\n}\n</code></pre>\n\n<p>Is it possible? I want it to be lightweight - no reflections, just check on settler. Any suggestions? </p>\n"}, {"tags": ["kotlin", "ktor"], "answers": [{"tags": [], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "is_accepted": true, "score": 0, "last_activity_date": 1509511627, "creation_date": 1509511627, "answer_id": 47048411, "question_id": 47021672, "link": "https://stackoverflow.com/questions/47021672/where-the-statusfiles-should-be-saved/47048411#47048411", "title": "Where the statusFiles should be saved?", "body": "<p>It looks like <code>statusFiles()</code> does a <code>resolveResource(path)</code>, so it is looking at: <code>src/main/resources/</code> and in order to make it understand/see the <code>statusFiles</code> folder, which is lying inside the <code>resources</code> folder, the <code>filePattern</code> is required to be tuned little nit to reflect it, so the correct code is:</p>\n\n<pre><code>statusFile(HttpStatusCode.NotFound, HttpStatusCode.Unauthorized, filePattern = \"statusFiles/#.html\")\n</code></pre>\n"}], "owner": {"reputation": 15416, "user_id": 2441637, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z8fpp.jpg?s=128&g=1", "display_name": "Hasan A Yousef", "link": "https://stackoverflow.com/users/2441637/hasan-a-yousef"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 47048411, "answer_count": 1, "score": 1, "last_activity_date": 1509511627, "creation_date": 1509387099, "question_id": 47021672, "link": "https://stackoverflow.com/questions/47021672/where-the-statusfiles-should-be-saved", "title": "Where the statusFiles should be saved?", "body": "<p>As mentioned <a href=\"http://ktor.io/features/status-pages.html\" rel=\"nofollow noreferrer\">here</a>, I tried to use <code>Status Files</code> with the below code:</p>\n\n<pre><code>install(StatusPages) {\n    statusFile(HttpStatusCode.NotFound, HttpStatusCode.Unauthorized, filePattern = \"#.html\")\n}\n</code></pre>\n\n<p>and saved the file as below:</p>\n\n<p><a href=\"https://i.stack.imgur.com/iCGmK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iCGmK.png\" alt=\"enter image description here\"></a></p>\n\n<p>But after running it, I got the standard 404 error, which means the file are not seen, do I need to add some thing, or I'm saving them in wrong place?</p>\n"}, {"tags": ["android", "kotlin"], "answers": [{"comments": [{"owner": {"reputation": 97, "user_id": 8401988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c44ea3ca169fd5e369319753d08a955?s=128&d=identicon&r=PG&f=1", "display_name": "DNA", "link": "https://stackoverflow.com/users/8401988/dna"}, "edited": false, "score": 0, "creation_date": 1509459899, "post_id": 47020826, "comment_id": 81021943, "body": "You just taught me so much. I had no idea what A SAM Conversion was or that I needed to pass in an object."}], "tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 2, "last_activity_date": 1509383686, "creation_date": 1509383686, "answer_id": 47020826, "question_id": 47019992, "link": "https://stackoverflow.com/questions/47019992/expected-a-value-of-type-boolean-popup-menu/47020826#47020826", "title": "Expected a value of type Boolean : Popup Menu", "body": "<p>What you have right now is somewhere half way between object expressions and a SAM constructor. Here are some options for fixing it.</p>\n\n<p>You can use the full <a href=\"https://kotlinlang.org/docs/reference/object-declarations.html#object-expressions\" rel=\"nofollow noreferrer\">object expression</a> syntax, which looks like this:</p>\n\n<pre><code>popup.setOnMenuItemClickListener(object: PopupMenu.OnMenuItemClickListener {\n    override fun onMenuItemClick(item: MenuItem): Boolean {\n        when (item.itemId) {\n            R.id.techItem -&gt; {\n                return true\n            }\n            R.id.clothItem -&gt; {\n                return true\n            }\n            else -&gt; return false\n        }\n    }\n})\n</code></pre>\n\n<p>You can improve the above slightly by using <a href=\"https://kotlinlang.org/docs/reference/control-flow.html#when-expression\" rel=\"nofollow noreferrer\"><code>when</code></a> as an expression, and returning it:</p>\n\n<pre><code>popup.setOnMenuItemClickListener(object: PopupMenu.OnMenuItemClickListener {\n    override fun onMenuItemClick(item: MenuItem): Boolean {\n        return when (item.itemId) {\n            R.id.techItem -&gt; {\n                true\n            }\n            R.id.clothItem -&gt; {\n                true\n            }\n            else -&gt; false\n        }\n    }\n})\n</code></pre>\n\n<p>Or you can just use <a href=\"https://kotlinlang.org/docs/reference/java-interop.html#sam-conversions\" rel=\"nofollow noreferrer\">SAM conversion</a> to define the single function that you'd have to implement in a lambda:</p>\n\n<pre><code>popup.setOnMenuItemClickListener { item -&gt;\n    when (item.itemId) {\n        R.id.techItem -&gt; {\n            true\n        }\n        R.id.clothItem -&gt; {\n            true\n        }\n        else -&gt; false\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 97, "user_id": 8401988, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c44ea3ca169fd5e369319753d08a955?s=128&d=identicon&r=PG&f=1", "display_name": "DNA", "link": "https://stackoverflow.com/users/8401988/dna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1644, "favorite_count": 1, "accepted_answer_id": 47020826, "answer_count": 1, "score": 2, "last_activity_date": 1509383686, "creation_date": 1509380749, "last_edit_date": 1509380921, "question_id": 47019992, "link": "https://stackoverflow.com/questions/47019992/expected-a-value-of-type-boolean-popup-menu", "title": "Expected a value of type Boolean : Popup Menu", "body": "<p>I am trying to make a popup menu and have things happen depending on which item is clicked on. The on click listener for the menu items expects a return type of type Boolean. I have given it a return type but it still all shows up in red with a message of \"Expected a value of type Boolean\". Could someone tell me what I have wrong here? ( I am aware I haven't made the menu clicks do anything)</p>\n\n<pre><code>    val menuButton = findViewById&lt;Button&gt;(R.id.categoryImageButton)\n    menuButton.setOnClickListener(View.OnClickListener {\n         fun onClick(view: View){\n             val popup = PopupMenu(this,menuButton)\n             popup.menuInflater.inflate(R.menu.popup_menu, popup.menu)\n\n             popup.setOnMenuItemClickListener(PopupMenu.OnMenuItemClickListener {\n                 **fun onMenuItemClick(item: MenuItem): Boolean {\n                     when (item.itemId) {\n                         R.id.techItem -&gt; {\n                             return true\n                         }\n                         R.id.clothItem -&gt; {\n                             return true\n                         }\n                         else -&gt; return false\n                     }\n                 }**\n             })\n        }\n    })\n</code></pre>\n"}, {"tags": ["java", "api", "jvm", "kotlin", "integration-testing"], "answers": [{"comments": [{"owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1509473872, "post_id": 47022595, "comment_id": 81031130, "body": "It seems that DbUnit does not deal with what data is seeded to the database, although it does provide a way to load prepared xml data."}, {"owner": {"reputation": 494, "user_id": 8843830, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-u98GxMSaCTo/AAAAAAAAAAI/AAAAAAAAEE0/80CGxOFijd4/photo.jpg?sz=128", "display_name": "Florian Wilhelm", "link": "https://stackoverflow.com/users/8843830/florian-wilhelm"}, "reply_to_user": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "edited": false, "score": 0, "creation_date": 1510141220, "post_id": 47022595, "comment_id": 81306451, "body": "If you&#39;re satisfied with the answer, please accept it. Thanks."}], "tags": [], "owner": {"reputation": 494, "user_id": 8843830, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-u98GxMSaCTo/AAAAAAAAAAI/AAAAAAAAEE0/80CGxOFijd4/photo.jpg?sz=128", "display_name": "Florian Wilhelm", "link": "https://stackoverflow.com/users/8843830/florian-wilhelm"}, "is_accepted": false, "score": 1, "last_activity_date": 1509390554, "creation_date": 1509390554, "answer_id": 47022595, "question_id": 47019694, "link": "https://stackoverflow.com/questions/47019694/what-is-the-proper-way-to-setup-and-seed-a-database-with-artificial-data-for-int/47022595#47022595", "title": "What is the proper way to setup and seed a database with artificial data for integration testing", "body": "<p>I think <a href=\"http://dbunit.sourceforge.net/\" rel=\"nofollow noreferrer\">DbUnit</a> might be the right tool for what you're trying to do. You can specify the state of your database before the tests and check the expected state after.</p>\n"}, {"tags": [], "owner": {"reputation": 3845, "user_id": 5982110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3697e0ab47bfe2f56ade505b61527f23?s=128&d=identicon&r=PG&f=1", "display_name": "rpy", "link": "https://stackoverflow.com/users/5982110/rpy"}, "is_accepted": false, "score": 4, "last_activity_date": 1509702765, "creation_date": 1509702765, "answer_id": 47092799, "question_id": 47019694, "link": "https://stackoverflow.com/questions/47019694/what-is-the-proper-way-to-setup-and-seed-a-database-with-artificial-data-for-int/47092799#47092799", "title": "What is the proper way to setup and seed a database with artificial data for integration testing", "body": "<p>First, I do not know any public tool that automates the task of generating test data for arbitrary scenarios.</p>\n\n<p>Actually, this is a hard task in general. You might look for scientific papers and books on the topic. There are may of those. Unfortunately, I have no recommendation on a set of \"good\" ones.</p>\n\n<p>A quite trivial approach is generating random data drawn from a set of potential values per field (column in the database case). (This is what you did already.) For smaller sets you may even generate the full set of potential combinations. E.g. you might have a look at the following <a href=\"http://www.databasetestdata.com/\" rel=\"nofollow noreferrer\">test data generator</a> for an example applying a variant of such an approach.</p>\n\n<p>However, this might not be appropriate for the following reasons:</p>\n\n<ul>\n<li>the resulting data will exhibit significant redundancy, while it may still not cover all interesting cases.</li>\n<li>it might create <em>inconsistent data</em> with respect to logical constraints your application would enforce otherwise (e.g. referential integrity)</li>\n</ul>\n\n<p>You might address such issues by adding some constraints into the process of generating test data for eliminating invalid or redundant combinations (with respect to your application).</p>\n\n<p>The actual restriction possible (and making sense), however, are depending on your business and use cases. So, there is no general rule on such restrictions. E.g. if your API provides special treatment for age values based on gender combinations of age and gender are important for your tests, if no such distinction exists any combination of age and gender will be OK. </p>\n\n<p>As long as you are looking for <em>white box</em> test scenarios, you will need to put in your implementation (or at least specification) details.</p>\n\n<p>For <em>black box</em> testing a full set of combinatorial data will be sufficient. Then only reducing test data to keep runtime of tests within some maximum is an issue.</p>\n\n<p>When dealing with <em>white box</em> testing, you might explicitly look for adding in corner cases. E.g. in your case: department without any student, department with a single student, students without department, as long as such scenario makes sense with your testing purposes. (e.g. when testing error handling or testing how your application would deal with inconsistent data.)</p>\n\n<p>In your case you are looking at your API as the <em>main</em> view to the data. The database content just is the input necessary for achieving all <em>interesting</em> output from that API. The actual task of identifying a proper database content may be described by the mathematical problem of providing an inverse to the mapping provided by your application (from database content to API result). </p>\n\n<p>In lack of any ready tool, you might apply the following steps:</p>\n\n<ol>\n<li>start with a simple combinatorial data generator</li>\n<li>apply some restrictions eliminating <em>useless</em> or <em>illegal</em> records</li>\n<li><p>run tests capturing coverage data add extra data records for improving coverage repeat testing until coverage is OK </p></li>\n<li><p>review and adjust data after any change to your code or schema</p></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 1573, "user_id": 4619784, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9a41d24082ea772179e864e334024ed?s=128&d=identicon&r=PG&f=1", "display_name": "Hany Sakr", "link": "https://stackoverflow.com/users/4619784/hany-sakr"}, "is_accepted": false, "score": 0, "last_activity_date": 1510208260, "creation_date": 1510208260, "answer_id": 47195102, "question_id": 47019694, "link": "https://stackoverflow.com/questions/47019694/what-is-the-proper-way-to-setup-and-seed-a-database-with-artificial-data-for-int/47195102#47195102", "title": "What is the proper way to setup and seed a database with artificial data for integration testing", "body": "<p>If you need to initialize database with tables and dummy data with Junit,</p>\n\n<p>I am using <a href=\"http://www.unitils.org\" rel=\"nofollow noreferrer\">Unitils</a> or <a href=\"http://dbunit.sourceforge.net/\" rel=\"nofollow noreferrer\">DbUnit</a></p>\n\n<p>The data in Unitils could be loaded from XML files inside your resources folder, so once the test runner starts, it'll load all content from xml and insert them in the database, please look at the examples on their website.</p>\n"}], "owner": {"reputation": 2767, "user_id": 4438271, "user_type": "registered", "accept_rate": 81, "profile_image": "https://lh3.googleusercontent.com/-YEpVWeF85FA/AAAAAAAAAAI/AAAAAAAADAY/IsiUAf7h4F8/photo.jpg?sz=128", "display_name": "breezymri", "link": "https://stackoverflow.com/users/4438271/breezymri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1806, "favorite_count": 1, "answer_count": 3, "score": 11, "last_activity_date": 1510208260, "creation_date": 1509379736, "last_edit_date": 1509398812, "question_id": 47019694, "link": "https://stackoverflow.com/questions/47019694/what-is-the-proper-way-to-setup-and-seed-a-database-with-artificial-data-for-int", "title": "What is the proper way to setup and seed a database with artificial data for integration testing", "body": "<p>Let's say I have 2 tables in a database, one called <code>students</code> and the other called <code>departments</code>. <code>students</code> looks like the following:</p>\n\n<pre><code>department_id, student_id, class, name, age, gender, rank\n</code></pre>\n\n<p>and <code>departments</code> looks like:</p>\n\n<pre><code>department_id, department_name, campus_id, number_of_faculty\n</code></pre>\n\n<p>I have an API that can query the database and retrieve various information from the 2 tables. For example, I have an end point that can get number of students on each campus by joining the 2 tables. </p>\n\n<p>I want to do integration testing for my API end points. To do that, I spin up a local database, run migration of the database schemas to create the tables, then populate each table with artificial records such that I know exactly what is in the database. But coming up with a good seeding process has proven to be anything but easy. For the simple example I described above, my current approach involves generating multiple distinct records for each column. For example, I need at least 2 campuses (say <code>main</code> and <code>satellite</code>), and 3 departments (say <code>Electrical Engineering</code> and <code>Mathematics</code> for <code>main</code> campus and <code>English</code> for <code>satellite</code> campus). Then I need at least 2 students in each department or 6 students in total. And if I mix in <code>gender</code>, <code>age</code> and <code>rank</code>, you can easily see that the number of artificial records grows exponentially. Coming up with all these artificial records is manual and thus tedious to maintain.</p>\n\n<p>So my question is: what is the proper way to set up and seed database for integration testing in general? </p>\n"}, {"tags": ["android", "kotlin", "rx-java", "rx-java2"], "answers": [{"comments": [{"owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "edited": false, "score": 0, "creation_date": 1509388185, "post_id": 47019640, "comment_id": 80990813, "body": "I don&#39;t see how the <code>buffer</code> operator helps in this situation."}], "tags": [], "owner": {"reputation": 488, "user_id": 5543325, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/960f8600457a12ef2405ccba25de9809?s=128&d=identicon&r=PG&f=1", "display_name": "Panczur", "link": "https://stackoverflow.com/users/5543325/panczur"}, "is_accepted": false, "score": 0, "last_activity_date": 1509379589, "creation_date": 1509379589, "answer_id": 47019640, "question_id": 47019429, "link": "https://stackoverflow.com/questions/47019429/how-to-remember-state-with-retry-operators-in-rxjava2/47019640#47019640", "title": "How to remember state with retry operators in RxJava2", "body": "<p>Take a close look to <code>buffer()</code> operator: <a href=\"http://reactivex.io/documentation/operators/buffer.html\" rel=\"nofollow noreferrer\">link</a>\nYou could use it like this:</p>\n\n<pre><code>requestOrResume()\n    .buffer(2)\n</code></pre>\n\n<p>From now, your <code>Flowable</code> will return <code>List&lt;Message&gt;</code> with two latests objects</p>\n"}, {"tags": [], "owner": {"reputation": 2773, "user_id": 3925507, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/bXVeK.png?s=128&g=1", "display_name": "concat", "link": "https://stackoverflow.com/users/3925507/concat"}, "is_accepted": true, "score": 1, "last_activity_date": 1509397820, "creation_date": 1509397820, "answer_id": 47024210, "question_id": 47019429, "link": "https://stackoverflow.com/questions/47019429/how-to-remember-state-with-retry-operators-in-rxjava2/47024210#47024210", "title": "How to remember state with retry operators in RxJava2", "body": "<p>Note that, unless you rethrow a wrapper around your last element (not too functionally different from your existing \"hack\"-ish solution but way uglier imo), no error handling operators can recover the last element without some outside help because they only get access to streams of <code>Throwable</code>. Instead, see if the following recursive approach suits your needs:</p>\n\n<pre><code>fun retryWithLast(seed: Flowable&lt;Message&gt;): Flowable&lt;Message&gt; {\n  val last$ = seed.last().cache();\n  return seed.onErrorResumeNext {\n    it.flatMap {\n      retryWithLast(last$.flatMap {\n        requestOrResume(it)\n      })\n    }\n  };\n}\nretryWithLast(requestOrResume());\n</code></pre>\n\n<p>The biggest distinction is caching the trailing value from the last attempt in an Observable with <code>cache</code> rather than doing so manually in a value. Note also that the recursion in the error handler means <code>retryWithLast</code> will continue to extend the stream if subsequent attempts continue failing.</p>\n"}], "owner": {"reputation": 5903, "user_id": 2597143, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6c563c6b8247d907f6fad654da22218d?s=128&d=identicon&r=PG", "display_name": "ESala", "link": "https://stackoverflow.com/users/2597143/esala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "accepted_answer_id": 47024210, "answer_count": 2, "score": 0, "last_activity_date": 1509562913, "creation_date": 1509378912, "last_edit_date": 1509562913, "question_id": 47019429, "link": "https://stackoverflow.com/questions/47019429/how-to-remember-state-with-retry-operators-in-rxjava2", "title": "How to remember state with retry operators in RxJava2", "body": "<p>I have a network client that is able to resume from interruptions, but needs the last message for doing so when there is a retry.</p>\n\n<p>Example in Kotlin:</p>\n\n<pre><code>fun requestOrResume(last: Message? = null): Flowable&lt;Message&gt; =\n    Flowable.create({ emitter -&gt;\n        val connection = if (last != null)\n                             client.start()\n                         else\n                             client.resumeFrom(last.id)\n\n        while (!emitter.isDisposed) {\n            val msg = connection.nextMessage()\n            emitter.onNext(msg)\n        }\n    }, BackpressureStrategy.MISSING)\n\nrequestOrResume()\n    .retryWhen { it.flatMap { Flowable.timer(5, SECONDS) } }\n    // how to pass the resume data when there is a retry?\n</code></pre>\n\n<p><strong>Question</strong>: as you can see, I need the last received message in order to prepare the resume call. How can I keep track of it so that when there is a retry it is available to make the resume request?</p>\n\n<p>One possible solution may be to create a holder class that just holds a reference to the last message and is updated when a new message is received. This way when there is a retry the last message can be obtained from the holder. Example:</p>\n\n<pre><code>class MsgHolder(var last: Message? = null)\n\nfun request(): Flowable&lt;Message&gt; {\n    val holder = MsgHolder()\n    return Flowable.create({ emitter -&gt;\n        val connection = if (holder.last != null)\n                             client.start()\n                         else\n                             client.resumeFrom(holder.last.id)\n\n        while (!emitter.isDisposed) {\n            val msg = connection.nextMessage()\n            holder.last = msg // &lt;-- update holder reference\n            emitter.onNext(msg)\n        }\n    }, BackpressureStrategy.MISSING)\n}\n</code></pre>\n\n<p>I think this might work, but it feels like a hack (thread synchronization issues?).</p>\n\n<p>Is there a better way to keep track of the state so it is available for retries?</p>\n"}, {"tags": ["jackson", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "is_accepted": true, "score": 10, "last_activity_date": 1509384123, "creation_date": 1509384123, "answer_id": 47020930, "question_id": 47019258, "link": "https://stackoverflow.com/questions/47019258/jackson-jsonignoreproperties-multiple-fields-with-kotlin/47020930#47020930", "title": "Jackson @JsonIgnoreProperties multiple fields with Kotlin", "body": "<p>You can use the <a href=\"https://kotlinlang.org/docs/reference/functions.html#variable-number-of-arguments-varargs\" rel=\"noreferrer\">spread operator</a> here, which is what the Java to Kotlin converter does with your example code, and also what Android Studio suggests as a quick fix:</p>\n\n<pre><code>@JsonIgnoreProperties(value = *arrayOf( \"p0\", \"p1\", \"p2\" ))\nclass Example { ... }\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/BgCbp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BgCbp.png\" alt=\"The quick fix intention action\"></a></p>\n\n<p>This works because array types in annotation parameters get converted to varargs in Kotlin, so you could just do this if you're not using an Array from somewhere else:</p>\n\n<pre><code>@JsonIgnoreProperties(\"p0\", \"p1\", \"p2\")\nclass Example\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 6268028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1b77f8d1c913d24b1c34a5ce37feb0?s=128&d=identicon&r=PG&f=1", "display_name": "Dario Coletto", "link": "https://stackoverflow.com/users/6268028/dario-coletto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3284, "favorite_count": 0, "accepted_answer_id": 47020930, "answer_count": 1, "score": 3, "last_activity_date": 1509384123, "creation_date": 1509378423, "last_edit_date": 1509381838, "question_id": 47019258, "link": "https://stackoverflow.com/questions/47019258/jackson-jsonignoreproperties-multiple-fields-with-kotlin", "title": "Jackson @JsonIgnoreProperties multiple fields with Kotlin", "body": "<p>I'm having trouble using @JsonIgnoreProperties with kotlin. I need to ignore more than one property, and I see many tutorial/SO questions where, with java, usually you do something like that:</p>\n\n<pre><code>@JsonIgnoreProperties({ \"p0\", \"p1\", \"p2\" })\nclass Example(){...}\n</code></pre>\n\n<p>So in kotlin it would be:</p>\n\n<pre><code>@JsonIgnoreProperties(value = arrayOf( \"p0\", \"p1\", \"p2\" ))\nclass Example(){...}\n</code></pre>\n\n<p>The <code>value</code> field of the JsonIgnoreProperties interface should accept array, since it's declared in this way:</p>\n\n<pre><code>public String[] value() default { };\n</code></pre>\n\n<p>But the compiler complains and want a string, not an array. \nI can't even duplicate the annotation, so how should I do to ignore more than one field?</p>\n\n<p>EDIT: Seems like it's a kotlin missing feature, implemented since 1.2 beta. it will be possible to use <code>value = [\"p0\", \"p1\", \"p2\"]</code> for annotations. Before 1.2 beta it's possible to use <code>@JsonIgnoreProperties(\"p0\", \"p1\", \"p2\")</code>, no way to prepend the array with <code>value =</code></p>\n"}, {"tags": ["android", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 1587, "user_id": 2139586, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/WlU2h.jpg?s=128&g=1", "display_name": "jack_the_beast", "link": "https://stackoverflow.com/users/2139586/jack-the-beast"}, "edited": false, "score": 0, "creation_date": 1509378562, "post_id": 47019148, "comment_id": 80985236, "body": "I may be wrong but is your query being executed on the UI thread and so your animation get screwed because of time passing? try moving it to another thread and see if it works"}, {"owner": {"reputation": 2249, "user_id": 6878730, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/4c58efbee8b926d150f38158bc3e6055?s=128&d=identicon&r=PG&f=1", "display_name": "Gurleen Sethi", "link": "https://stackoverflow.com/users/6878730/gurleen-sethi"}, "reply_to_user": {"reputation": 1587, "user_id": 2139586, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/WlU2h.jpg?s=128&g=1", "display_name": "jack_the_beast", "link": "https://stackoverflow.com/users/2139586/jack-the-beast"}, "edited": false, "score": 0, "creation_date": 1509379323, "post_id": 47019148, "comment_id": 80985746, "body": "I moved it to another thread using Rx, even executed the query first and then the animation, but no success!"}], "answers": [{"tags": [], "owner": {"reputation": 2249, "user_id": 6878730, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/4c58efbee8b926d150f38158bc3e6055?s=128&d=identicon&r=PG&f=1", "display_name": "Gurleen Sethi", "link": "https://stackoverflow.com/users/6878730/gurleen-sethi"}, "is_accepted": false, "score": 0, "last_activity_date": 1509390123, "creation_date": 1509390123, "answer_id": 47022488, "question_id": 47019148, "link": "https://stackoverflow.com/questions/47019148/animation-not-working-when-saving-to-database/47022488#47022488", "title": "Animation not working when saving to database?", "body": "<p>I was manking the DAO query return a <code>Flowable</code>. In room if you return a <code>Flowable</code> then whenever data changes, all the queries returning <code>Flowable</code> will get initiated automatically. So basically whenever animation was initiated, room would update the data and recycler view would refresh the adapter.</p>\n"}], "owner": {"reputation": 2249, "user_id": 6878730, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/4c58efbee8b926d150f38158bc3e6055?s=128&d=identicon&r=PG&f=1", "display_name": "Gurleen Sethi", "link": "https://stackoverflow.com/users/6878730/gurleen-sethi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1509390123, "creation_date": 1509378009, "question_id": 47019148, "link": "https://stackoverflow.com/questions/47019148/animation-not-working-when-saving-to-database", "title": "Animation not working when saving to database?", "body": "<p>I have a rotate animation on a toggle button as below, if I ran independently it works just fine. </p>\n\n<pre><code>val rotateAnimation = RotateAnimation(0.0f, 360.0f, itemView.toggleButton.pivotX, itemView.toggleButton.pivotY)\nrotateAnimation.duration = AppConstants.ROTATE_ANIMATION_TIME\nrotateAnimation.fillAfter = true\nrotateAnimation.repeatMode = Animation.REVERSE\nitemView.toggleButton.startAnimation(rotateAnimation)\n</code></pre>\n\n<p>But when I am executing a room query after the animation, the animation is not working!</p>\n\n<pre><code>mTaskDAO.update(task)\n</code></pre>\n"}, {"tags": ["generics", "kotlin"], "comments": [{"owner": {"reputation": 1865, "user_id": 2176952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZye3.jpg?s=128&g=1", "display_name": "Jd Prajapati", "link": "https://stackoverflow.com/users/2176952/jd-prajapati"}, "edited": false, "score": 0, "creation_date": 1509376277, "post_id": 47018285, "comment_id": 80983702, "body": "I think <code>ClassY</code> is <code>Class Y</code>. Right?"}, {"owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1509376549, "post_id": 47018285, "comment_id": 80983864, "body": "This is as problematic in Java as in Kotlin. How would you implement this exactly in Java?"}, {"owner": {"reputation": 625, "user_id": 1320862, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b5802ca8d4e55666b51fd5535e1df8da?s=128&d=identicon&r=PG&f=1", "display_name": "Mpac", "link": "https://stackoverflow.com/users/1320862/mpac"}, "reply_to_user": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "edited": false, "score": 0, "creation_date": 1509381368, "post_id": 47018285, "comment_id": 80986932, "body": "@tynn Good question. I tried to implement in Java but it doesn&#39;t work too. So you are right when you say that this is problematic in both languages."}], "answers": [{"comments": [{"owner": {"reputation": 625, "user_id": 1320862, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b5802ca8d4e55666b51fd5535e1df8da?s=128&d=identicon&r=PG&f=1", "display_name": "Mpac", "link": "https://stackoverflow.com/users/1320862/mpac"}, "edited": false, "score": 1, "creation_date": 1509378795, "post_id": 47018733, "comment_id": 80985381, "body": "Thank you for your suggestion but it doesn&#39;t work. I get these errors: <b>Upper bounds of T have empty intersection</b> and <b>Only one of the upper bounds can be a class</b>."}], "tags": [], "owner": {"reputation": 1865, "user_id": 2176952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UZye3.jpg?s=128&g=1", "display_name": "Jd Prajapati", "link": "https://stackoverflow.com/users/2176952/jd-prajapati"}, "is_accepted": false, "score": -1, "last_activity_date": 1509376685, "creation_date": 1509376685, "answer_id": 47018733, "question_id": 47018285, "link": "https://stackoverflow.com/questions/47018285/generic-extending-class-with-companion-object-in-kotlin/47018733#47018733", "title": "Generic extending class with companion object in Kotlin", "body": "<p>You can try your <code>Population</code> class as code like below:</p>\n\n<pre><code> class Population&lt;T : Class&lt;*&gt;&gt;(size: Int) where T: Chromosome {\n...\n}\n</code></pre>\n\n<p>Using above code your <code>Population</code> class can able to get the generic type of class.</p>\n\n<p>I hope it helps you.</p>\n"}, {"tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 2, "last_activity_date": 1509388539, "creation_date": 1509388539, "answer_id": 47022078, "question_id": 47018285, "link": "https://stackoverflow.com/questions/47018285/generic-extending-class-with-companion-object-in-kotlin/47022078#47022078", "title": "Generic extending class with companion object in Kotlin", "body": "<p>The <code>Array</code> type acts the same as the array in <em>Java</em>. Therefore it is special and does not work well with generics. Instead you should use a <em>Java</em> <code>List</code> approach. This means to use <code>MutableList</code> in <em>Kotlin</em>.</p>\n\n<pre><code>class Population&lt;T: Chromosome&gt;(size: Int, factory: () -&gt; T) {\n    var population = MutableList(size, { factory() })\n}\n</code></pre>\n\n<p>Also be sure to implement <code>Chromosome</code> as open or abstract class. Otherwise you wouldn't need to make the population generic and the <code>Array</code> approach would work again.</p>\n"}], "owner": {"reputation": 625, "user_id": 1320862, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/b5802ca8d4e55666b51fd5535e1df8da?s=128&d=identicon&r=PG&f=1", "display_name": "Mpac", "link": "https://stackoverflow.com/users/1320862/mpac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1956, "favorite_count": 0, "accepted_answer_id": 47022078, "answer_count": 2, "score": 2, "last_activity_date": 1509388539, "creation_date": 1509375285, "last_edit_date": 1509382622, "question_id": 47018285, "link": "https://stackoverflow.com/questions/47018285/generic-extending-class-with-companion-object-in-kotlin", "title": "Generic extending class with companion object in Kotlin", "body": "<p>I write the following code but it doesn't works because I get an <strong>unresolved reference</strong> error.</p>\n\n<pre><code>class Chromosome {\n    constructor() {}\n\n    companion object {\n        fun newInstance(): Chromosome {\n            return Chromosome()\n        }\n    }\n}\n\nclass Population&lt;T&gt;(size: Int) where T: Chromosome {\n    var population: Array&lt;T&gt; = Array(size, { _ -&gt; T.newInstance() })\n}\n</code></pre>\n\n<p>I want a generic type T that extends a certain class or interface. I need to call a static factory methods because I cannot write <code>T()</code> in <em>Array</em> class constructor. Are there any way to wrap <em>Array</em> class calling a default constructor?</p>\n\n<p>I tried with a different approach but it still not works. This time I get an <strong>Cannot use 'T' as reified type parameter. Use a class instead</strong> error.</p>\n\n<pre><code>class Population&lt;T&gt;(size: Int, init: () -&gt; T) where T: Chromosome {\n    var population: Array&lt;T&gt; = Array(size, { _ -&gt; init() })\n}\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin", "android-support-library"], "comments": [{"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1509371338, "post_id": 47016853, "comment_id": 80980066, "body": "Please show example code which causes these errors. See <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> for tips about creating a new code example."}], "answers": [{"comments": [{"owner": {"reputation": 1903, "user_id": 417006, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4981cdace7bd78353de53b964c60c296?s=128&d=identicon&r=PG", "display_name": "St&#233;phane P&#233;chard", "link": "https://stackoverflow.com/users/417006/st%c3%a9phane-p%c3%a9chard"}, "edited": false, "score": 5, "creation_date": 1510840523, "post_id": 47016854, "comment_id": 81613720, "body": "Adding <code>?.let{}</code> to an fragment&#39;s activity does not allow me to use it as a method&#39;s argument. The error is <code>Type mismatch: inferred type is FragmentActivity? but Context was expected</code>. Is there another to do this? Furthermore, when I try to access <code>cacheDir</code> for example, I get another one: <code>Smart cast to &#39;FragmentActivity&#39; is impossible, because &#39;activity&#39; is a property that has open or custom getter</code>. Still have to find how to resolve this one."}, {"owner": {"reputation": 1057, "user_id": 3674079, "user_type": "registered", "accept_rate": 28, "profile_image": "https://i.stack.imgur.com/1m1O1.jpg?s=128&g=1", "display_name": "quangkid", "link": "https://stackoverflow.com/users/3674079/quangkid"}, "reply_to_user": {"reputation": 1903, "user_id": 417006, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4981cdace7bd78353de53b964c60c296?s=128&d=identicon&r=PG", "display_name": "St&#233;phane P&#233;chard", "link": "https://stackoverflow.com/users/417006/st%c3%a9phane-p%c3%a9chard"}, "edited": false, "score": 0, "creation_date": 1522392407, "post_id": 47016854, "comment_id": 86147223, "body": "@St&#233;phaneP&#233;chard This will solve your problem. <a href=\"https://stackoverflow.com/questions/41086296/smartcast-is-impossible-because-propery-has-open-or-custom-getter\" title=\"smartcast is impossible because propery has open or custom getter\">stackoverflow.com/questions/41086296/&hellip;</a>"}, {"owner": {"reputation": 36744, "user_id": 1103584, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/15c5208c7b161469ebb5040ab80bb71d?s=128&d=identicon&r=PG", "display_name": "DiscDev", "link": "https://stackoverflow.com/users/1103584/discdev"}, "reply_to_user": {"reputation": 1903, "user_id": 417006, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4981cdace7bd78353de53b964c60c296?s=128&d=identicon&r=PG", "display_name": "St&#233;phane P&#233;chard", "link": "https://stackoverflow.com/users/417006/st%c3%a9phane-p%c3%a9chard"}, "edited": false, "score": 0, "creation_date": 1523813293, "post_id": 47016854, "comment_id": 86704348, "body": "@St&#233;phaneP&#233;chard use &quot;requireContext()&quot; if you&#39;re in a fragment to get a non-null context - it&#39;ll throw an IllegalStateException if the context is null."}, {"owner": {"reputation": 1163, "user_id": 2630728, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/uIluB.jpg?s=128&g=1", "display_name": "Vikash Parajuli", "link": "https://stackoverflow.com/users/2630728/vikash-parajuli"}, "edited": false, "score": 0, "creation_date": 1528869833, "post_id": 47016854, "comment_id": 88664281, "body": "@humazed I am getting this problem in about more than 100 classes so isn&#39;t it a big problem?"}, {"owner": {"reputation": 2487, "user_id": 4190539, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/XGg3k.jpg?s=128&g=1", "display_name": "Kakashi", "link": "https://stackoverflow.com/users/4190539/kakashi"}, "edited": false, "score": 0, "creation_date": 1531598495, "post_id": 47016854, "comment_id": 89659250, "body": "errrrrrrrrr it&#39;s not just replacing 1 or 2 characters but bunch of them, a lot! and in some case it affects the flow of code. better downgrade to 26. seriously it&#39;s annoying. I really made big mistake by using kotlin and android studio i guess."}], "tags": [], "owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "is_accepted": false, "score": 39, "last_activity_date": 1509371217, "creation_date": 1509371217, "answer_id": 47016854, "question_id": 47016853, "link": "https://stackoverflow.com/questions/47016853/multiple-errors-in-my-fragments-after-updating-the-support-library-to-27-0-0/47016854#47016854", "title": "Multiple errors in my fragments after updating the support library to 27.0.0", "body": "<p>The Root cause of all of these errors is that in support library v-27.0.0 <code>@Nullable</code> and <code>@NonNull</code>annotations have been added.<br>\nand since kotlin language is aware of nullability and has a different type for <code>Nullable</code> and <code>NonNull</code>, unlike Java.<br>\nwithout these annotations, the compiler has no way of differentiating between them, and Android studio was trying his best to infer the right type.</p>\n\n<p><strong>TL;DR: change the types to rightly reflect the nullability status.</strong></p>\n\n<hr>\n\n<blockquote>\n  <p>Error: Smart cast to 'Bundle' is impossible, because 'arguments' is a\n  mutable property that could have been changed by this time.</p>\n</blockquote>\n\n<p>change <code>arguments.getString(ARG_NAME)</code> ==> <code>arguments?.getString(ARG_NAME) ?: \"\"</code></p>\n\n<hr>\n\n<blockquote>\n  <p>Error: 'onCreateView' overrides nothing  </p>\n</blockquote>\n\n<p>chane:  </p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View?\n</code></pre>\n\n<p>==></p>\n\n<pre><code>override fun onCreateView(inflater: LayoutInflater, container: ViewGroup?, savedInstanceState: Bundle?): View?\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>Error: 'onViewCreated' overrides nothing</p>\n</blockquote>\n\n<p>change:</p>\n\n<pre><code>override fun onViewCreated(view: View?, savedInstanceState: Bundle?)\n</code></pre>\n\n<p>==></p>\n\n<pre><code>override fun onViewCreated(view: View, savedInstanceState: Bundle?)\n</code></pre>\n\n<hr>\n\n<blockquote>\n  <p>Error: Type mismatch: inferred type is Context? but Context\n  was expected</p>\n</blockquote>\n\n<p>if context is passed as argument to method, just use the quick fix to replace <code>getContext()</code> with <code>getContext()?.let{}</code><br>\nthe same applies to the kotlin short version <code>context</code>.</p>\n\n<p>else if is used to call some method replace <code>getContext().someMethod()</code> with <code>getContext()?.someMethod()</code></p>\n\n<p>the same applies to the kotlin short version <code>context?.someMethod()</code>.</p>\n\n<hr>\n\n<blockquote>\n  <p>Error: Type mismatch: inferred type is FragmentActivity? but\n  Context was expected</p>\n</blockquote>\n\n<p>use the fix of the previous error. </p>\n"}], "owner": {"reputation": 65664, "user_id": 3998402, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/b1deae6b5ee0cdf29e9a4d9f219f547a?s=128&d=identicon&r=PG&f=1", "display_name": "humazed", "link": "https://stackoverflow.com/users/3998402/humazed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6802, "favorite_count": 3, "answer_count": 1, "score": 24, "last_activity_date": 1527356993, "creation_date": 1509371217, "last_edit_date": 1592644375, "question_id": 47016853, "link": "https://stackoverflow.com/questions/47016853/multiple-errors-in-my-fragments-after-updating-the-support-library-to-27-0-0", "title": "Multiple errors in my fragments after updating the support library to 27.0.0", "body": "<p>After updating the support library from v-26.1.0 to v-27.0.0 Multiple errors in my fragments.</p>\n<p>here is a list of some these errors:</p>\n<blockquote>\n<p>Error: Smart cast to 'Bundle' is impossible, because 'arguments' is a\nmutable property that could have been changed by this time.</p>\n<p>Error: 'onCreateView' overrides nothing</p>\n<p>Error: 'onViewCreated' overrides nothing</p>\n<p>Error: Type mismatch: inferred type is View? but View was\nexpected</p>\n<p>Error: Type mismatch: inferred type is Context? but Context\nwas expected</p>\n<p>Error: Type mismatch: inferred type is FragmentActivity? but\nContext was expected</p>\n<p>Error: Type mismatch: inferred type is FragmentActivity? but\nContext was expected</p>\n</blockquote>\n<p>from android studio's template for empty fragment.</p>\n<pre><code>override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    if (arguments != null) {\n        mParam1 = arguments.getString(ARG_PARAM1)\n        mParam2 = arguments.getString(ARG_PARAM2)\n    }\n}\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    return inflater!!.inflate(R.layout.fragment_blank, container, false)\n}\n\noverride fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n    super.onViewCreated(view, savedInstanceState)\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 68863, "user_id": 4465208, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/w14F6.png?s=128&g=1", "display_name": "zsmb13", "link": "https://stackoverflow.com/users/4465208/zsmb13"}, "edited": false, "score": 1, "creation_date": 1509371215, "post_id": 47016590, "comment_id": 80979993, "body": "It&#39;s not just you, this issue has been present for months now. I have a library that I&#39;d like to update with these annotations but they don&#39;t seem to produce lint errors when you&#39;re calling the methods from Kotlin code."}, {"owner": {"reputation": 2261, "user_id": 4672107, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/jWMdh.jpg?s=128&g=1", "display_name": "Carson Holzheimer", "link": "https://stackoverflow.com/users/4672107/carson-holzheimer"}, "edited": false, "score": 0, "creation_date": 1544674502, "post_id": 47016590, "comment_id": 94362430, "body": "2018 with Android stuido 3.3 beta 4 and they still don&#39;t work, for enum parameters at least. It does work for normal functions"}], "answers": [{"tags": [], "owner": {"reputation": 8875, "user_id": 3379437, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/RPALD.png?s=128&g=1", "display_name": "Beloo", "link": "https://stackoverflow.com/users/3379437/beloo"}, "is_accepted": true, "score": 4, "last_activity_date": 1520347355, "creation_date": 1520347355, "answer_id": 49133459, "question_id": 47016590, "link": "https://stackoverflow.com/questions/47016590/stringres-drawableres-layoutres-and-so-on-android-annotations-lint-check-wi/49133459#49133459", "title": "@StringRes, @DrawableRes, @LayoutRes and so on android annotations lint check with kotlin parameters", "body": "<p>It was an issue in Android Studio and was fixed in 3.1. Checked on 3.1-beta4</p>\n"}], "owner": {"reputation": 8875, "user_id": 3379437, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/RPALD.png?s=128&g=1", "display_name": "Beloo", "link": "https://stackoverflow.com/users/3379437/beloo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 9531, "favorite_count": 0, "accepted_answer_id": 49133459, "answer_count": 1, "score": 14, "last_activity_date": 1520347355, "creation_date": 1509370368, "last_edit_date": 1509392497, "question_id": 47016590, "link": "https://stackoverflow.com/questions/47016590/stringres-drawableres-layoutres-and-so-on-android-annotations-lint-check-wi", "title": "@StringRes, @DrawableRes, @LayoutRes and so on android annotations lint check with kotlin parameters", "body": "<p>assuming you have such data class with default parameters</p>\n\n<pre><code>data class Info(\n        @DrawableRes\n        val iconRes: Int = 0,\n        @StringRes\n        val stringRes: Int = 0,\n        @LayoutRes\n        val layoutRes: Int = 0)\n</code></pre>\n\n<p>so you can create this data-class like</p>\n\n<pre><code>    val data = Info(\n        iconRes = R.drawable.icon, \n        stringRes = R.string.text,\n        layoutRes = R.layout.layout)\n</code></pre>\n\n<p>in this case there isn't any lint error</p>\n\n<p>But when i try to use default parameters a lint error is occured:</p>\n\n<pre><code>val data = Info(\n        //here is expected resource of type drawable error\n        stringRes = R.string.text\n        layoutRes = R.layout.layout)\n</code></pre>\n\n<p>Seems that it uses position in parameters, not the exact type &amp; name. </p>\n\n<p>I've tried to use explicit annotation like <code>@param:DrawableRes</code>, but with the same result.</p>\n\n<p>Can i somehow solve this problem? I use latest Android Studio 3.0.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 402, "user_id": 8659898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5831f37460dfdcfbe6fa0a37d81cdfed?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyApple", "link": "https://stackoverflow.com/users/8659898/crazyapple"}, "is_accepted": true, "score": 1, "last_activity_date": 1509369332, "creation_date": 1509369332, "answer_id": 47016214, "question_id": 47016042, "link": "https://stackoverflow.com/questions/47016042/kotlin-work-with-resources-array-and-function-parameter/47016214#47016214", "title": "kotlin work with Resources (array and function parameter)", "body": "<p>You maybe need a <code>Int</code> instead of <code>Resources</code> to reference a resource id:</p>\n\n<pre><code>var x = ArrayList&lt;Int&gt; \nx.add(R.raw.cat)\n\nfun myFun(resId: Int) {\n    mp=MediaPlayer()\n    mp.start(resId)\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 8587980, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213518469932352/picture?type=large", "display_name": "Ameer Alkateeb", "link": "https://stackoverflow.com/users/8587980/ameer-alkateeb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 515, "favorite_count": 0, "accepted_answer_id": 47016214, "answer_count": 1, "score": 1, "last_activity_date": 1509369332, "creation_date": 1509368778, "question_id": 47016042, "link": "https://stackoverflow.com/questions/47016042/kotlin-work-with-resources-array-and-function-parameter", "title": "kotlin work with Resources (array and function parameter)", "body": "<p>I need to define array of RAW Resources by using kotlin for example</p>\n\n<pre><code>    var x = ArrayList&lt;Resources &gt; \n    x.add(R.raw.cat)\n</code></pre>\n\n<p>and the other question is to pass resource to function</p>\n\n<pre><code>fun myFun(res:Resources ){\n   mp=MediaPlayer()\n   mp.start(res)\n }\n</code></pre>\n\n<p>I will be very thanksfull for help</p>\n"}, {"tags": ["kotlin"], "answers": [{"comments": [{"owner": {"reputation": 3801, "user_id": 1012234, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/wOcGR.jpg?s=128&g=1", "display_name": "Val", "link": "https://stackoverflow.com/users/1012234/val"}, "edited": false, "score": 0, "creation_date": 1509374197, "post_id": 47016307, "comment_id": 80982173, "body": "You&#39;ve used <code>subChild: Child = Child()</code> and this is the reason why &quot;everything became ok&quot; not because of the Kotlin&#39;s bug. The original code explicitly defines the type: <code>subChild: Abstr = Child()</code>."}, {"owner": {"reputation": 1586, "user_id": 7717409, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/252d073ff000e1f38cd389d20d136952?s=128&d=identicon&r=PG&f=1", "display_name": "icarumbas", "link": "https://stackoverflow.com/users/7717409/icarumbas"}, "reply_to_user": {"reputation": 3801, "user_id": 1012234, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/wOcGR.jpg?s=128&g=1", "display_name": "Val", "link": "https://stackoverflow.com/users/1012234/val"}, "edited": false, "score": 0, "creation_date": 1509374441, "post_id": 47016307, "comment_id": 80982355, "body": "@Val oh, forget to change back, anyway code compiles fine. Thanks for edit."}, {"owner": {"reputation": 389, "user_id": 2689114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71534c106a2978b7a5289c95067312ea?s=128&d=identicon&r=PG", "display_name": "SergiiGnatiuk", "link": "https://stackoverflow.com/users/2689114/sergiignatiuk"}, "edited": false, "score": 0, "creation_date": 1509377470, "post_id": 47016307, "comment_id": 80984467, "body": "@icarumbas your code does not compile. The same error as I got"}], "tags": [], "owner": {"reputation": 1586, "user_id": 7717409, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/252d073ff000e1f38cd389d20d136952?s=128&d=identicon&r=PG&f=1", "display_name": "icarumbas", "link": "https://stackoverflow.com/users/7717409/icarumbas"}, "is_accepted": false, "score": 0, "last_activity_date": 1509374365, "last_edit_date": 1509374365, "creation_date": 1509369638, "answer_id": 47016307, "question_id": 47015707, "link": "https://stackoverflow.com/questions/47015707/kotlin-cannot-access-protected-abstract-method/47016307#47016307", "title": "Kotlin cannot access protected abstract method", "body": "<p>It's possible a bug.</p>\n\n<p>When i added {} everything became ok.</p>\n\n<pre><code>abstract class Abstr{\n    protected abstract fun m()\n}\n\nclass Child : Abstr(){\n    private val subChild: Abstr = Child()\n\n    override fun m() {\n        subChild.m() // Compiles fine\n    }\n}\n</code></pre>\n\n<p>Create issue on <a href=\"https://discuss.kotlinlang.org/\" rel=\"nofollow noreferrer\">https://discuss.kotlinlang.org/</a> </p>\n\n<p>or write on Slack \n<a href=\"http://slack.kotlinlang.org/\" rel=\"nofollow noreferrer\">http://slack.kotlinlang.org/</a></p>\n"}, {"tags": [], "owner": {"reputation": 3801, "user_id": 1012234, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/wOcGR.jpg?s=128&g=1", "display_name": "Val", "link": "https://stackoverflow.com/users/1012234/val"}, "is_accepted": false, "score": 5, "last_activity_date": 1509373942, "last_edit_date": 1592644375, "creation_date": 1509373942, "answer_id": 47017817, "question_id": 47015707, "link": "https://stackoverflow.com/questions/47015707/kotlin-cannot-access-protected-abstract-method/47017817#47017817", "title": "Kotlin cannot access protected abstract method", "body": "<p>The current behavior is by design.</p>\n<p>By calling <code>subChild.m()</code> you're trying to access an instance of <code>Abstr</code> from outside the object, so <code>protected</code> access prevents you from doing this.</p>\n<h3>Let me show you a short example to clarify the case</h3>\n<pre><code>    abstract class ParentCl {\n        protected var num = 1\n        protected open fun m(){\n        }\n    }\n    \n    class ChildCl : ParentCl() {\n        private val a0 : ParentCl = ChildCl()\n        override fun m() {\n            super.m() // 1-st case\n            num = 2 // 2-nd case            \n            a0.m() // 3-rd case\n        }\n    }\n</code></pre>\n<ol>\n<li>You're calling the <code>protected</code> <code>ParentCl</code>'s fun from the child class. It will work fine.</li>\n<li>You're modifying of <code>protected</code> variable from the child class. It will work fine.</li>\n<li><em>You're calling the <code>protected</code> fun <strong>outside</strong> the context of the child class. This will not work.</em></li>\n</ol>\n<h3>Depends on what was your goal there are two solutions:</h3>\n<ol>\n<li>If you wanted to <strong>call m() from ParentCl</strong> you need to change the visibility from <code>protected</code> to <code>internal</code> or <code>public</code>.</li>\n<li>If you wanted to <strong>call m() from the child class</strong> you need to declare the variable without the explicit type of its parent: <code>private val subChild = Child()</code>.</li>\n</ol>\n<p><em>Note: in case you will <strong>use m() from other children</strong> of ParentCl you need to enlarge the visibility scope inside child class: <code>public override fun m() {...}</code></em></p>\n"}, {"tags": [], "owner": {"reputation": 389, "user_id": 2689114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71534c106a2978b7a5289c95067312ea?s=128&d=identicon&r=PG", "display_name": "SergiiGnatiuk", "link": "https://stackoverflow.com/users/2689114/sergiignatiuk"}, "is_accepted": true, "score": 4, "last_activity_date": 1545836522, "last_edit_date": 1545836522, "creation_date": 1517490331, "answer_id": 48563487, "question_id": 47015707, "link": "https://stackoverflow.com/questions/47015707/kotlin-cannot-access-protected-abstract-method/48563487#48563487", "title": "Kotlin cannot access protected abstract method", "body": "<p>It is designed behavior</p>\n\n<p>Protected modifier in Kotlin similar to Java, but has additional restrictions.</p>\n\n<p><strong>Protected in Java</strong>:</p>\n\n<ul>\n<li>Visible for inheritance</li>\n<li>Visible in package</li>\n</ul>\n\n<p><strong>Protected in Kotlin</strong>:</p>\n\n<ul>\n<li>Visible for inheritance </li>\n</ul>\n\n<p>So, according to the code in question we cannot access protected method </p>\n\n<pre><code>class Child : Abstr(){\n    private val subChild: Abstr = Child()\n\n    override fun m() = subChild.m() //Trying to access not inherited method \n}\n</code></pre>\n\n<p>There is similar restriction in Java, when we trying to access protected member from another package:</p>\n\n<pre><code>// FILE: a/SuperClass.java\npackage a;\npublic class SuperClass {\n    protected void superFunction() {}\n}\n\n// FILE: b/ChildClass.java\npackage b;\npublic class ChildClass extends SuperClass {\n    void testFunction() {\n        ((SuperClass) new ChildClass()).superFunction(); // ERROR: superFunction() has protected access in a.SuperClass\n    }\n}\n</code></pre>\n\n<p>There is answer in issue tracker from Kotlin team:\n<a href=\"https://youtrack.jetbrains.com/issue/KT-21048\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/KT-21048</a></p>\n"}, {"tags": [], "owner": {"reputation": 1274, "user_id": 5331566, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/ZPzfc.png?s=128&g=1", "display_name": "Shaon", "link": "https://stackoverflow.com/users/5331566/shaon"}, "is_accepted": false, "score": 0, "last_activity_date": 1545739623, "creation_date": 1545739623, "answer_id": 53922251, "question_id": 47015707, "link": "https://stackoverflow.com/questions/47015707/kotlin-cannot-access-protected-abstract-method/53922251#53922251", "title": "Kotlin cannot access protected abstract method", "body": "<p>protected \u2014 same as private + visible in subclasses too; </p>\n\n<pre><code>abstract class BaseActivity : AppCompatActivity() {\n   override fun onCreate(savedInstanceState: Bundle?) {\n    super.onCreate(savedInstanceState)\n    setContentView(getLayoutResId())\n\n} \n\n   protected open fun getPageTitle() = SpannableString(getString(R.string.app_name))\n}\n</code></pre>\n\n<p>In your sub class</p>\n\n<pre><code>class EditProfileActivity : BaseActivity() {\n    override fun getPageTitle(): SpannableString = SpannableString(getString(R.string.edit_profile))\n}\n</code></pre>\n\n<p>See the doc for more details</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html\" rel=\"nofollow noreferrer\">visibility-modifiers</a></p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/classes.html\" rel=\"nofollow noreferrer\">Classes</a></p>\n"}], "owner": {"reputation": 389, "user_id": 2689114, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71534c106a2978b7a5289c95067312ea?s=128&d=identicon&r=PG", "display_name": "SergiiGnatiuk", "link": "https://stackoverflow.com/users/2689114/sergiignatiuk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4041, "favorite_count": 1, "accepted_answer_id": 48563487, "answer_count": 4, "score": 10, "last_activity_date": 1545836522, "creation_date": 1509367748, "question_id": 47015707, "link": "https://stackoverflow.com/questions/47015707/kotlin-cannot-access-protected-abstract-method", "title": "Kotlin cannot access protected abstract method", "body": "<p>I have the following classes structure:</p>\n\n<pre><code>abstract class Abstr{\n    protected abstract fun m()\n}\n\nclass Child : Abstr(){\n    private val subChild: Abstr = Child()\n\n    override fun m() = subChild.m()// Error:(12, 18) Kotlin: Cannot access 'm': it is protected in 'Abstr'\n}\n</code></pre>\n\n<p>I got an exception <code>Kotlin: Cannot access 'm': it is protected in 'Abstr'</code></p>\n\n<p>It little bit confusing, because the same structure is legal for java.</p>\n\n<p>According to <a href=\"https://kotlinlang.org/docs/reference/visibility-modifiers.html#classes-and-interfaces\" rel=\"noreferrer\">kotlin docs</a></p>\n\n<blockquote>\n  <ul>\n  <li>protected \u2014 visible inside this class only + visible in subclasses too;</li>\n  </ul>\n</blockquote>\n\n<p>Is it bug or expected behavior?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 1049, "user_id": 3837964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cnu1i.jpg?s=128&g=1", "display_name": "shahid17june", "link": "https://stackoverflow.com/users/3837964/shahid17june"}, "edited": false, "score": 0, "creation_date": 1509367417, "post_id": 47015523, "comment_id": 80977438, "body": "which row is visible? its the first row data or its last?"}, {"owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "reply_to_user": {"reputation": 1049, "user_id": 3837964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cnu1i.jpg?s=128&g=1", "display_name": "shahid17june", "link": "https://stackoverflow.com/users/3837964/shahid17june"}, "edited": false, "score": 0, "creation_date": 1509367455, "post_id": 47015523, "comment_id": 80977460, "body": "The last row is visible."}, {"owner": {"reputation": 1049, "user_id": 3837964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cnu1i.jpg?s=128&g=1", "display_name": "shahid17june", "link": "https://stackoverflow.com/users/3837964/shahid17june"}, "edited": false, "score": 0, "creation_date": 1509367490, "post_id": 47015523, "comment_id": 80977487, "body": "Post your item layout code"}, {"owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "edited": false, "score": 1, "creation_date": 1509367541, "post_id": 47015523, "comment_id": 80977526, "body": "just cross check your <b><code>habit_list_file</code></b> height must be <b><code>wrap_content</code></b>"}, {"owner": {"reputation": 1049, "user_id": 3837964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cnu1i.jpg?s=128&g=1", "display_name": "shahid17june", "link": "https://stackoverflow.com/users/3837964/shahid17june"}, "edited": false, "score": 0, "creation_date": 1509367729, "post_id": 47015523, "comment_id": 80977631, "body": "layout item height should be wrap_content"}, {"owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "edited": false, "score": 1, "creation_date": 1509367756, "post_id": 47015523, "comment_id": 80977650, "body": "Nilesh you are correct, if you write that as a solution I&#39;ll upvote. Thank you."}], "answers": [{"tags": [], "owner": {"reputation": 57589, "user_id": 7666442, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K8FFo.jpg?s=128&g=1", "display_name": "AskNilesh", "link": "https://stackoverflow.com/users/7666442/asknilesh"}, "is_accepted": true, "score": 4, "last_activity_date": 1509367772, "creation_date": 1509367772, "answer_id": 47015719, "question_id": 47015523, "link": "https://stackoverflow.com/questions/47015523/only-last-element-added-to-recyclerview-in-android-kotlin/47015719#47015719", "title": "Only Last Element added to RecyclerView in Android (Kotlin)", "body": "<p>as per my <strong><a href=\"https://stackoverflow.com/questions/47015523/only-last-element-added-to-recyclerview-in-android-kotlin/47015719#comment80977526_47015523\">above comment</a></strong>  just make your <code>ConstraintLayout</code>  height to <code>android:layout_height=\"wrap_content\"</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 235, "user_id": 6823074, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/--JcF2mJNPtg/AAAAAAAAAAI/AAAAAAAAAEw/nZTKW__r6Oc/photo.jpg?sz=128", "display_name": "Tony Sherman", "link": "https://stackoverflow.com/users/6823074/tony-sherman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 550, "favorite_count": 0, "accepted_answer_id": 47015719, "answer_count": 1, "score": 1, "last_activity_date": 1509367772, "creation_date": 1509367157, "last_edit_date": 1509367618, "question_id": 47015523, "link": "https://stackoverflow.com/questions/47015523/only-last-element-added-to-recyclerview-in-android-kotlin", "title": "Only Last Element added to RecyclerView in Android (Kotlin)", "body": "<p>I am passing a list of 7 items to the recyclerview and it is only binding the last one. Through the use of logging I cal see that the getItemCount() is returning 7, but the onBindViewHolder is only being called once. I do know (again through logging) that the list that I pass to the adapter is the complete list.</p>\n\n<p>Could you please help me find out why only the last element is displayed and not the whole list. Thank you.</p>\n\n<p>Activity code:</p>\n\n<pre><code>class HabitActivity : AppCompatActivity() {\n    var adapter: ListHabitsAdapter? = null\n    private var habitList: ArrayList&lt;Habit&gt;? = null\n    private var habitListItems: ArrayList&lt;Habit&gt;? = null\n    private var layoutManager: RecyclerView.LayoutManager? = null\n\n    var dbHandler:HabitDataAdapter? = null\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_habit)\n\n        // Initialize the Class global variables\n        //val mContext = applicationContext\n\n        dbHandler = HabitDataAdapter(this)\n        habitList = ArrayList&lt;Habit&gt;()\n        habitListItems = ArrayList()\n        layoutManager = LinearLayoutManager(this)\n        adapter = ListHabitsAdapter(habitListItems!!,this)\n\n        // Set up the RecyclerView\n        habitListRecyclerViewID.layoutManager = layoutManager\n        habitListRecyclerViewID.adapter = adapter\n\n        // Load the chores\n        habitList = dbHandler!!.readHabits()\n\n        habitList!!.reverse()\n\n        for (h in habitList!!.iterator()){\n            var habit = Habit()\n            habit.habitName = h.habitName\n            habit.habitActive = h.habitActive\n            habit.habitID = h.habitID\n            habitListItems!!.add(habit)\n\n            ///adapter!!.notifyDataSetChanged()\n        }\n        adapter!!.notifyDataSetChanged()\n        printList(habitListItems!!)\n    }\n\n    //TODO - Remove debug before production\n    fun printList(list:ArrayList&lt;Habit&gt;){\n        for (i in 0..list.size - 1){\n            Log.d(DEBUG, \"${list[i].habitName} has ID ${list[i].habitID}\")\n        }\n    }\n\n    fun addHabit(view: View) {\n        var popUpResult:String?=null\n        var db = HabitDataAdapter(applicationContext)\n\n        // pop up a dialog\n        var promptView:View = layoutInflater.inflate(R.layout.habit_pop_up, null)\n        var builder:AlertDialog.Builder =AlertDialog.Builder(this)\n        builder.setView(promptView)\n        builder.setTitle(\"Create a Habit\")\n        builder.setNeutralButton(\"CANCEL\", DialogInterface.OnClickListener({\n            dialog, which -&gt; Toast.makeText(this,\"Boo\",Toast.LENGTH_LONG).show()\n        }))\n        builder.setPositiveButton(\"OK\", DialogInterface.OnClickListener(){\n            dialog, which -&gt;\n            var habitField = promptView.editText.text.toString()\n            db.createHabit(habitField)\n            Toast.makeText(this,habitField,Toast.LENGTH_LONG).show()\n\n        })\n\n        builder.show()\n\n    }\n\n    fun deleteHabit(view: View) {\n\n    }\n\n    fun loadMain(view: View){\n        var intent = Intent(this, MainActivity::class.java)\n        startActivity(intent)\n    }\n</code></pre>\n\n<p>Here is the ListHabitAdapter:</p>\n\n<pre><code>class ListHabitsAdapter(val list:ArrayList&lt;Habit&gt;, context: Context): RecyclerView.Adapter&lt;ListHabitsAdapter.ViewHolder&gt;() {\n\n    val mContext = context\n\n    override fun onCreateViewHolder(parent: ViewGroup?, viewType: Int): ViewHolder {\n        val view = LayoutInflater.from(mContext)\n                .inflate(R.layout.habit_list_file, parent, false)\n\n        return ViewHolder(view, mContext, list)\n    }\n\n    override fun onBindViewHolder(holder: ViewHolder?, position: Int) {\n        Log.d(DEBUG,\"Starting to Bind ${list[position]}\")\n        holder?.bindViews(list[position])\n    }\n\n    override fun getItemCount(): Int {\n        Log.d(DEBUG,\"getItemCount = ${list.size}\")\n        return list.size\n    }\n\n\n    inner class ViewHolder(itemView:View, context: Context, list: ArrayList&lt;Habit&gt;): RecyclerView.ViewHolder(itemView), View.OnClickListener {\n\n        var mContext = context\n        var mList = list\n\n        var habitName = itemView.findViewById&lt;TextView&gt;(R.id.habitNameID)\n        var deleteButton = itemView.findViewById&lt;ImageButton&gt;(R.id.habitDeleteButton)\n        var doneButton = itemView.findViewById&lt;ImageButton&gt;(R.id.habitActiveButton)\n\n        fun bindViews(habit: Habit){\n            habitName.text = habit.habitName\n\n            deleteButton.setOnClickListener(this)\n            doneButton.setOnClickListener(this)\n        }\n\n        override fun onClick(v: View?) {\n            var mPosition:Int = adapterPosition\n            var habit = mList[mPosition]\n\n            Log.d(DEBUG, habitName.text.toString())\n\n            when(v!!.id){\n                deleteButton.id -&gt; Log.d(DEBUG,\"delete button clicked\")\n                doneButton!!.id -&gt; Log.d(DEBUG,\"done button clicked\")\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p>The XML for the layout:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;RelativeLayout\n        android:id=\"@+id/habitListFileID\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"&gt;\n\n        &lt;ImageButton\n            android:id=\"@+id/habitActiveButton\"\n            android:layout_width=\"40dp\"\n            android:layout_height=\"40dp\"\n            app:layout_constraintLeft_toLeftOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\"\n            app:srcCompat=\"@android:drawable/checkbox_on_background\"\n            tools:layout_editor_absoluteX=\"2dp\"\n            tools:layout_editor_absoluteY=\"0dp\" /&gt;\n\n        &lt;ImageButton\n            android:id=\"@+id/habitDeleteButton\"\n            android:layout_width=\"40dp\"\n            android:layout_height=\"40dp\"\n            android:layout_toEndOf=\"@+id/habitNameID\"\n            app:srcCompat=\"@android:drawable/btn_dialog\"\n            tools:layout_editor_absoluteX=\"327dp\"\n            tools:layout_editor_absoluteY=\"0dp\" /&gt;\n\n        &lt;TextView\n            android:id=\"@+id/habitNameID\"\n            android:layout_width=\"281dp\"\n            android:layout_height=\"wrap_content\"\n            android:layout_marginLeft=\"52dp\"\n            android:layout_marginTop=\"8dp\"\n            android:text=\"TextView\"\n            android:textSize=\"18sp\"\n            app:layout_constraintLeft_toLeftOf=\"parent\"\n            app:layout_constraintTop_toTopOf=\"parent\" /&gt;\n    &lt;/RelativeLayout&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["android", "kotlin", "kotlin-null-safety"], "answers": [{"tags": [], "owner": {"reputation": 1644, "user_id": 4048794, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5cKLs.png?s=128&g=1", "display_name": "poss", "link": "https://stackoverflow.com/users/4048794/poss"}, "is_accepted": false, "score": 2, "last_activity_date": 1509364149, "creation_date": 1509364149, "answer_id": 47014534, "question_id": 47014469, "link": "https://stackoverflow.com/questions/47014469/only-safe-or-non-null-assserted-calls-are-allowed-on-a-nullable-receiver-type-of/47014534#47014534", "title": "Only safe or non null assserted calls are allowed on a nullable receiver type of arraylist", "body": "<p>You told compiler that your variable can be null (and assigned null to it).</p>\n\n<p><code>day1[position]</code> is essentially <code>day1.get(position)</code> which will crash with NPE if <code>day1</code> is <code>null</code> -> <code>null.get(position)</code></p>\n\n<p>If you can guarantee that <code>day1</code> will be initialized id recommend <code>lateinit</code> or just straight up assigning new Arraylist with declaration. Of course, simple <code>day1?.get(position)</code> works fine.</p>\n"}, {"tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": false, "score": 6, "last_activity_date": 1509364696, "last_edit_date": 1509364696, "creation_date": 1509364229, "answer_id": 47014559, "question_id": 47014469, "link": "https://stackoverflow.com/questions/47014469/only-safe-or-non-null-assserted-calls-are-allowed-on-a-nullable-receiver-type-of/47014559#47014559", "title": "Only safe or non null assserted calls are allowed on a nullable receiver type of arraylist", "body": "<p>As defined, <code>day1</code> can be <code>null</code> but you're invoking a function by doing <code>[]</code>, which is basically the same as calling <code>day1.get(index)</code>. </p>\n\n<p>This can throw a <code>NullpointerException</code>, which the Kotlin compiler tries to prevend. Thus, only safe calls like this are allowed: <code>day1?.get()</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 7173, "user_id": 3753273, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5135b28f6bb4bf11bc932641a0362fd4?s=128&d=identicon&r=PG&f=1", "display_name": "Android Developer", "link": "https://stackoverflow.com/users/3753273/android-developer"}, "edited": false, "score": 0, "creation_date": 1509364836, "post_id": 47014573, "comment_id": 80975713, "body": "&#39;day1?.get(position)&#39; will return null if day1 is null.Now what will happen if i try to acess fields of dietPlan which is null ?will it throw nullpointer exception?"}, {"owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "reply_to_user": {"reputation": 7173, "user_id": 3753273, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5135b28f6bb4bf11bc932641a0362fd4?s=128&d=identicon&r=PG&f=1", "display_name": "Android Developer", "link": "https://stackoverflow.com/users/3753273/android-developer"}, "edited": false, "score": 2, "creation_date": 1509366122, "post_id": 47014573, "comment_id": 80976530, "body": "When you work with the <code>nullable</code> types, you always have to consider the <code>null</code>-case too. This depends on your code what to do, when <code>dietPlan</code> is <code>null</code>. So think about what should happen, when no diet plan is returned."}], "tags": [], "owner": {"reputation": 8621, "user_id": 5247292, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/fQKn3.png?s=128&g=1", "display_name": "guenhter", "link": "https://stackoverflow.com/users/5247292/guenhter"}, "is_accepted": true, "score": 24, "last_activity_date": 1617529431, "last_edit_date": 1617529431, "creation_date": 1509364284, "answer_id": 47014573, "question_id": 47014469, "link": "https://stackoverflow.com/questions/47014469/only-safe-or-non-null-assserted-calls-are-allowed-on-a-nullable-receiver-type-of/47014573#47014573", "title": "Only safe or non null assserted calls are allowed on a nullable receiver type of arraylist", "body": "<p>The problem is, that you defined the <code>ArrayList</code> as <code>nullable</code>. You have two options here:</p>\n<ol>\n<li>don't define the variable <code>nullable</code> (this depends on your code):</li>\n</ol>\n<pre><code>var day1: ArrayList&lt;DietPlanDetailModel&gt; = ArrayList()\n</code></pre>\n<ol start=\"2\">\n<li>access your data-structure with a null check:</li>\n</ol>\n<pre><code>val dietPlan= day1?.get(position)\n</code></pre>\n"}], "owner": {"reputation": 7173, "user_id": 3753273, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/5135b28f6bb4bf11bc932641a0362fd4?s=128&d=identicon&r=PG&f=1", "display_name": "Android Developer", "link": "https://stackoverflow.com/users/3753273/android-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26242, "favorite_count": 2, "accepted_answer_id": 47014573, "answer_count": 3, "score": 15, "last_activity_date": 1617529431, "creation_date": 1509363925, "question_id": 47014469, "link": "https://stackoverflow.com/questions/47014469/only-safe-or-non-null-assserted-calls-are-allowed-on-a-nullable-receiver-type-of", "title": "Only safe or non null assserted calls are allowed on a nullable receiver type of arraylist", "body": "<p>Just started using kotlin for android development.My arraylist is declared like this-</p>\n\n<pre><code>var day1: ArrayList&lt;DietPlanDetailModel&gt;? = null\n</code></pre>\n\n<p>Now I am trying to access an element by its position</p>\n\n<pre><code>    val dietPlan= day1[position]\n</code></pre>\n\n<p>but i am getting below compile time error-</p>\n\n<blockquote>\n  <p>Only safe or non null assserted calls are allowed  on a nullable\n  receiver type of arraylist</p>\n</blockquote>\n\n<p>Why am i getting this error and how can i resolve it?</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "edited": false, "score": 1, "creation_date": 1509363691, "post_id": 47014019, "comment_id": 80974971, "body": "<code>s.map { &quot;$it&quot;.toInt() }.sum()</code> returns the sum of the digits"}], "answers": [{"tags": [], "owner": {"reputation": 235985, "user_id": 252000, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/082b8ee2b0aebb430b8d4d98e6a5c32f?s=128&d=identicon&r=PG", "display_name": "fredoverflow", "link": "https://stackoverflow.com/users/252000/fredoverflow"}, "is_accepted": true, "score": 3, "last_activity_date": 1509363331, "creation_date": 1509363331, "answer_id": 47014281, "question_id": 47014019, "link": "https://stackoverflow.com/questions/47014019/can-you-map-reduce-a-string-into-an-int/47014281#47014281", "title": "Can you map/reduce a String into an Int?", "body": "<blockquote>\n  <p>When converting a Char to an Int it converts it to the ASCII value so I had to add \"-'0'.toInt()\" is there a faster way (not that it's too much to write, asking out of curiosity)?</p>\n</blockquote>\n\n<p>You can simply write <code>s[it] - '0'</code>, because subtracting Chars in Kotlin already gives you an Int:</p>\n\n<pre><code>public class Char ... {\n    ...\n    /** Subtracts the other Char value from this value resulting an Int. */\n    public operator fun minus(other: Char): Int\n    ...\n}\n</code></pre>\n\n<p>But why are looping over the indexes when you could loop over the Chars directly?</p>\n\n<pre><code>sum = s.sumBy { it - '0' }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 19583, "user_id": 3026283, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/SyT5b.png?s=128&g=1", "display_name": "H&#233;ctor", "link": "https://stackoverflow.com/users/3026283/h%c3%a9ctor"}, "is_accepted": false, "score": 1, "last_activity_date": 1509366642, "creation_date": 1509366642, "answer_id": 47015350, "question_id": 47014019, "link": "https://stackoverflow.com/questions/47014019/can-you-map-reduce-a-string-into-an-int/47015350#47015350", "title": "Can you map/reduce a String into an Int?", "body": "<p>This is a functional (and recursive) style to solve it: </p>\n\n<pre><code>private fun sum(num: String, count: Int) : Int {\n    return num\n        //digit to int\n        .map { \"$it\".toInt() } \n        //sum digits\n        .sum()\n        //sum to string\n        .toString() \n        //if sum's length is more than one, do it again with incremented count. Otherwise, return the current count\n        .let { if (it.length &gt; 1) sum(it, count + 1) else count } \n}\n</code></pre>\n\n<p>And you call it like this:</p>\n\n<pre><code>val number = \"2937649827364918308623946...\" //and so on\nval count = sum(number, 0)\n</code></pre>\n\n<p>Hope it helps!</p>\n"}], "owner": {"reputation": 476, "user_id": 8385605, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cf72d5de38c9cbbb9524d6d85ff864bf?s=128&d=identicon&r=PG&f=1", "display_name": "\u043c\u0430\u0458\u0434\u0435\u0458\u0441\u0430\u0440\u0435\u043c\u0435\u0445", "link": "https://stackoverflow.com/users/8385605/%d0%bc%d0%b0%d1%98%d0%b4%d0%b5%d1%98%d1%81%d0%b0%d1%80%d0%b5%d0%bc%d0%b5%d1%85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 732, "favorite_count": 0, "accepted_answer_id": 47014281, "answer_count": 2, "score": 2, "last_activity_date": 1509366642, "creation_date": 1509362497, "question_id": 47014019, "link": "https://stackoverflow.com/questions/47014019/can-you-map-reduce-a-string-into-an-int", "title": "Can you map/reduce a String into an Int?", "body": "<p>I was solving a problem on codeforces in which I had to sum up the digits of a big number (it can have up to 100k digits) and I'd have to repeat that process until there is only one digit left and count the number of times I did that and I came up with a working solution, however I'd like to know if some things could have been done in a more \"Kotlin-ish like way\", so given:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(transform(readLine()!!))\n}\n\nfun transform(n: String): Int {\n    var count = 0\n    var sum : Int\n    var s = n\n    while(s.length &gt; 1) {\n        sum = (0 until s.length).sumBy { s[it].toInt() - '0'.toInt() }\n        s = sum.toString()\n        count++\n    }\n    return count\n}\n</code></pre>\n\n<ol>\n<li><code>sum = (0 until s.length).sumBy { s[it].toInt() - '0'.toInt() }</code> is there a way to I guess map the sum of digits in the string to the sum variable, or in general a better approach than the one I used?</li>\n<li>When converting a Char to an Int it converts it to the ASCII value so I had to add \"-'0'.toInt()\" is there a faster way (not that it's too much to write, asking out of curiosity)?</li>\n<li>How to make the String n mutable without creating a new String s and manipulating it? Or is that the desired (and only) way?</li>\n</ol>\n\n<p>P.S. I'm a beginner with Kotlin.</p>\n"}, {"tags": ["kotlin"], "answers": [{"tags": [], "owner": {"reputation": 20170, "user_id": 128812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e2a788bccab3ba83583d3f796f14cfb2?s=128&d=identicon&r=PG", "display_name": "gpeche", "link": "https://stackoverflow.com/users/128812/gpeche"}, "is_accepted": true, "score": 8, "last_activity_date": 1509362716, "creation_date": 1509362716, "answer_id": 47014078, "question_id": 47013801, "link": "https://stackoverflow.com/questions/47013801/how-to-work-with-foldright-in-kotlin/47014078#47014078", "title": "How to work with foldRight() in Kotlin?", "body": "<p>foldRight works by accumulating the result from right to left. In your case, it is going to do</p>\n\n<p>(1 - (2 - (4 - 0))) = (1 - (2 - 4)) = 1 - (-2) = 3</p>\n\n<p>Note that your operation has its parameters in the wrong order, foldRight will pass you the next element as the first parameter and the accumulator as the second parameter. See <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/fold-right.html\" rel=\"noreferrer\">https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/fold-right.html</a>. If you swap them, you would have</p>\n\n<p>(((0 - 4) - 2) - 1) = - 7</p>\n\n<p>unless I am getting something wrong</p>\n"}], "owner": {"reputation": 1154, "user_id": 1020887, "user_type": "registered", "accept_rate": 8, "profile_image": "https://i.stack.imgur.com/M7DPx.png?s=128&g=1", "display_name": "tehnolog", "link": "https://stackoverflow.com/users/1020887/tehnolog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1833, "favorite_count": 0, "accepted_answer_id": 47014078, "answer_count": 1, "score": 2, "last_activity_date": 1509362716, "creation_date": 1509361812, "question_id": 47013801, "link": "https://stackoverflow.com/questions/47013801/how-to-work-with-foldright-in-kotlin", "title": "How to work with foldRight() in Kotlin?", "body": "<p>I try this code</p>\n\n<pre><code>        println(listOf(1, 2, 4).foldRight(0) { total, next -&gt;\n            total - next\n        })\n</code></pre>\n\n<p>I thought it works like 0 + 4 - 2 - 1 = 1.\nBut it returns 3. Why?\nSorry for this silly question.</p>\n"}, {"tags": ["android", "kotlin", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1509361128, "post_id": 47013523, "comment_id": 80973479, "body": "Omg... can&#39;t believe I was missing something like that! :O It was right in front of me. Thanks. Going to test it out"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1509361360, "post_id": 47013523, "comment_id": 80973627, "body": "Problem solved, so simple!! :D Curious thing, I only need one val for all the items with the same Key right? :D"}, {"owner": {"reputation": 706, "user_id": 5422725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a77f5066ddf47d74395b0e5972f53365?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Troyanskii", "link": "https://stackoverflow.com/users/5422725/eugene-troyanskii"}, "reply_to_user": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1509361566, "post_id": 47013523, "comment_id": 80973754, "body": "@EduardoGuterres Of Course for this case you have loop. Enjoy firebase and kotlin:D"}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1509362768, "post_id": 47013523, "comment_id": 80974442, "body": "Any idea why my second spinner shows up empty until I click? And if I select an item it doesn&#39;t show up? :/ <a href=\"https://imgur.com/a/7WDbF\" rel=\"nofollow noreferrer\">imgur.com/a/7WDbF</a>"}, {"owner": {"reputation": 706, "user_id": 5422725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a77f5066ddf47d74395b0e5972f53365?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Troyanskii", "link": "https://stackoverflow.com/users/5422725/eugene-troyanskii"}, "reply_to_user": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1509363728, "post_id": 47013523, "comment_id": 80975003, "body": "@EduardoGuterres Check with debug is your retrieved data from firebase is correct. Then create a new question. Provide you code with problem and describe result that you want to achieve. Sorry mate but now I can&#39;t help you because i have no clue what do you want. I GUESS that now you problem is that you use same adapter for each array and it&#39;s overwrite each other."}, {"owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "edited": false, "score": 0, "creation_date": 1509363873, "post_id": 47013523, "comment_id": 80975085, "body": "That&#39;s cool. I debugged it and I was able to see where the value was getting &quot;lost&quot;. Thanks anyways"}], "tags": [], "owner": {"reputation": 706, "user_id": 5422725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a77f5066ddf47d74395b0e5972f53365?s=128&d=identicon&r=PG&f=1", "display_name": "Eugene Troyanskii", "link": "https://stackoverflow.com/users/5422725/eugene-troyanskii"}, "is_accepted": true, "score": 1, "last_activity_date": 1509360958, "creation_date": 1509360958, "answer_id": 47013523, "question_id": 47012873, "link": "https://stackoverflow.com/questions/47012873/firebase-firestore-not-loading-2-documents-information-simultaneously/47013523#47013523", "title": "Firebase-Firestore not loading 2 documents&#39; information simultaneously", "body": "<p>You made a simply misstake. In you screenshot in Firebase you field \"categoryName\" entitled as \"categoryname\" so it's return null and kotlin throw exception.</p>\n"}], "owner": {"reputation": 9, "user_id": 7688524, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/10212413777924402/picture?type=large", "display_name": "Eduardo Guterres", "link": "https://stackoverflow.com/users/7688524/eduardo-guterres"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 47013523, "answer_count": 1, "score": 0, "last_activity_date": 1509360958, "creation_date": 1509358848, "question_id": 47012873, "link": "https://stackoverflow.com/questions/47012873/firebase-firestore-not-loading-2-documents-information-simultaneously", "title": "Firebase-Firestore not loading 2 documents&#39; information simultaneously", "body": "<p>Good morning</p>\n\n<p>So, I am able to load information from my firebase documents and collections, to a certain extent...</p>\n\n<p>When my collections have 1 Document, everything goes smoothly.\nWhen it has more than 1 Document, well, the app breaks.</p>\n\n<p>So, I have this:</p>\n\n<pre><code>db.collection(\"KitListCategorie\").get().addOnSuccessListener { snapshot -&gt;\n        for (document1 in snapshot.documents) {\n            val data1 = document1.data\n            val weights = data1[\"categoryName\"] as String\n            val misc = data1[\"categoryName\"] as String\n\n            categorySpinnerArray.add(weights)\n            categorySpinnerArray.add(misc)\n\n\n        }\n        categorySpinnerArrayAdapter.notifyDataSetChanged()\n    }\n</code></pre>\n\n<p>For this Firestore setup: <a href=\"https://imgur.com/a/pmBcE\" rel=\"nofollow noreferrer\">https://imgur.com/a/pmBcE</a></p>\n\n<p>Then I get this error:    <code>kotlin.TypeCastException: null cannot be cast to non-null type kotlin.String</code></p>\n\n<p>What am I doing wrong?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["java", "android", "kotlin", "rx-java2", "rx-kotlin2"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1509346805, "creation_date": 1509346805, "answer_id": 47009605, "question_id": 47009101, "link": "https://stackoverflow.com/questions/47009101/cannot-zip-rxjava-observables/47009605#47009605", "title": "Cannot zip Rxjava Observables", "body": "<p>The error actually tells you that you <em>can</em> zip them and this produces <code>Observable&lt;Pair&lt;...&gt;&gt;</code>. The problem is that you assign the result to a wrong type. This is like saying \"I can't add <code>Int</code>s\" in <code>val x: String = 1 + 2</code>: of course you can, but the result is not a <code>String</code>.</p>\n\n<p>You need to use <code>zipWith</code> and specify <em>how</em> to merge the values.</p>\n"}, {"tags": [], "owner": {"reputation": 13483, "user_id": 2581314, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a43d08cdfd22550a7532ece34c7123f2?s=128&d=identicon&r=PG", "display_name": "erluxman", "link": "https://stackoverflow.com/users/2581314/erluxman"}, "is_accepted": false, "score": 0, "last_activity_date": 1509351109, "creation_date": 1509351109, "answer_id": 47010582, "question_id": 47009101, "link": "https://stackoverflow.com/questions/47009101/cannot-zip-rxjava-observables/47010582#47010582", "title": "Cannot zip Rxjava Observables", "body": "<p><strong>I had done three Mistakes :</strong> </p>\n\n<ol>\n<li><p>Used Observables.zip() instead of Observable.zip()</p></li>\n<li><p>Did not tell how to zip them. </p></li>\n<li><p>Room DAO does not understand Observable so use Flowable.</p></li>\n</ol>\n\n<p>So to zip those two observables I did :</p>\n\n<pre><code>val combinedObservable = Observable\n    .zip(KMagApp.database?.categories()?.categories()?.toObservable(), newSetting, \n    BiFunction&lt;List&lt;KmagCategory&gt;, List&lt;KmagCategory&gt;, List&lt;KmagCategory&gt;&gt; \n    { s1, s2 -&gt; getCombinedList(s1, s2) })\n</code></pre>\n"}], "owner": {"reputation": 13483, "user_id": 2581314, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/a43d08cdfd22550a7532ece34c7123f2?s=128&d=identicon&r=PG", "display_name": "erluxman", "link": "https://stackoverflow.com/users/2581314/erluxman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 496, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1509351109, "creation_date": 1509344340, "last_edit_date": 1509344846, "question_id": 47009101, "link": "https://stackoverflow.com/questions/47009101/cannot-zip-rxjava-observables", "title": "Cannot zip Rxjava Observables", "body": "<p>I am using RxJava 2.* and I want to merge the results of two observables (one from retrofit and another from room) by using zip operator(feel free to suggest better).</p>\n\n<p>Model objects that come from remote server are different from the one coming out of Room Database. </p>\n\n<ol>\n<li>I want to map the objects from Remote into that of local </li>\n<li>Merge those two results </li>\n<li>Display the result.</li>\n</ol>\n\n<p>My remote API looks like this : </p>\n\n<pre><code>interface CategoryService{\n@GET(\"categories\")\nfun getCategories(): Observable&lt;List&lt;Category&gt;&gt;\n</code></pre>\n\n<p>}</p>\n\n<p>And my Room DAO query looks like this : </p>\n\n<pre><code>@Query(\"SELECT * FROM categories ORDER BY id\")\nabstract fun categories(): Observable&lt;List&lt;KmagCategory&gt;&gt;\n</code></pre>\n\n<p>I have converted Observable> into Observable> like this :</p>\n\n<pre><code>val newCategoryList : Observable&lt;List&lt;KmagCategory&gt;&gt; =settingService.getCategories().flatMap { list -&gt;\n            Observable.fromIterable(list)\n                    .map { item -&gt; KmagCategory(item.id, item.title, item.slug, item.isFav) }\n                    .toList()\n                    .toObservable()\n        }\n</code></pre>\n\n<p>But when I try to zip these two observables like this :</p>\n\n<pre><code>val combinedObservable : Observable&lt;List&lt;KmagCategory&gt;&gt; = Observables.zip(KMagApp.database?.categories()?.categories()!!,newSetting)\n</code></pre>\n\n<p>I get <strong>Type inference failed, Expected type mismatch</strong> \n<a href=\"https://i.stack.imgur.com/KpPz7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KpPz7.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["android", "sql", "sqlite", "kotlin", "android-room"], "comments": [{"owner": {"reputation": 77669, "user_id": 550966, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/04gz5.png?s=128&g=1", "display_name": "Pankaj Kumar", "link": "https://stackoverflow.com/users/550966/pankaj-kumar"}, "edited": false, "score": 0, "creation_date": 1509336449, "post_id": 47007860, "comment_id": 80962576, "body": "I think you should be more clear about what you are asking. Is query not working or you are looking for optimized code?"}, {"owner": {"reputation": 10242, "user_id": 908821, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2c4a1ce95e4e53e7f4a556810232e0e3?s=128&d=identicon&r=PG", "display_name": "Angel Koh", "link": "https://stackoverflow.com/users/908821/angel-koh"}, "reply_to_user": {"reputation": 77669, "user_id": 550966, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/04gz5.png?s=128&g=1", "display_name": "Pankaj Kumar", "link": "https://stackoverflow.com/users/550966/pankaj-kumar"}, "edited": false, "score": 0, "creation_date": 1509337287, "post_id": 47007860, "comment_id": 80962753, "body": "@PankajKumar, I like to know if it is possible to use a single query to retrieve a list of results. (see edit)"}], "answers": [{"tags": [], "owner": {"reputation": 6199, "user_id": 2253682, "user_type": "registered", "accept_rate": 44, "profile_image": "https://i.stack.imgur.com/skbWe.jpg?s=128&g=1", "display_name": "Adam Hurwitz", "link": "https://stackoverflow.com/users/2253682/adam-hurwitz"}, "is_accepted": false, "score": 9, "last_activity_date": 1536540415, "last_edit_date": 1592644375, "creation_date": 1536540415, "answer_id": 52249763, "question_id": 47007860, "link": "https://stackoverflow.com/questions/47007860/how-to-query-a-table-with-two-where-clauses-efficiently-android-room/52249763#52249763", "title": "How to query a table with two WHERE clauses efficiently (Android Room)", "body": "<p>By adding <strong>AND</strong> after your first part of the <strong>WHERE</strong> statement you can append additional <strong>WHERE</strong> logic.</p>\n<h3>Sample</h3>\n<pre><code>@Query(&quot;SELECT * FROM content WHERE timestamp &gt;= :timeframe AND feedType = :feedType ORDER BY qualityScore DESC&quot;)\nfun getMainContent(timeframe: Date, feedType: FeedType): DataSource.Factory&lt;Int, Content&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10242, "user_id": 908821, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2c4a1ce95e4e53e7f4a556810232e0e3?s=128&d=identicon&r=PG", "display_name": "Angel Koh", "link": "https://stackoverflow.com/users/908821/angel-koh"}, "edited": false, "score": 0, "creation_date": 1546497357, "post_id": 53999387, "comment_id": 94871266, "body": "The order of the list is important. assume I want &quot;Peter Parker&quot; and &quot;Clark Kent&quot;. in your query statement - &quot;Peter Kent&quot; and &quot;Clark Parker&quot; will be selected."}, {"owner": {"reputation": 386, "user_id": 1017607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qQT9.jpg?s=128&g=1", "display_name": "N1234", "link": "https://stackoverflow.com/users/1017607/n1234"}, "reply_to_user": {"reputation": 10242, "user_id": 908821, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2c4a1ce95e4e53e7f4a556810232e0e3?s=128&d=identicon&r=PG", "display_name": "Angel Koh", "link": "https://stackoverflow.com/users/908821/angel-koh"}, "edited": false, "score": 1, "creation_date": 1546517581, "post_id": 53999387, "comment_id": 94880033, "body": "Ok, now I get you. I&#39;ll have a little experiment and get back to you (may take a week or so as I&#39;m away for a week from tomorrow). Off the top of my head, I would say make the Person pojo an Entity and then Use a @ForeignKey to return your results. Then if you did not want to store the Person data you can always use the DAO you would create to delete everything in that table after the query returns results. Heres a couple of links that may help: <a href=\"https://developer.android.com/reference/android/arch/persistence/room/Relation\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/arch/persistence/roo&zwnj;&#8203;m/&hellip;</a> <a href=\"https://stackoverflow.com/a/45990201/1017607\">stackoverflow.com/a/45990201/1017607</a>"}], "tags": [], "owner": {"reputation": 386, "user_id": 1017607, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1qQT9.jpg?s=128&g=1", "display_name": "N1234", "link": "https://stackoverflow.com/users/1017607/n1234"}, "is_accepted": false, "score": 3, "last_activity_date": 1546381595, "last_edit_date": 1546381595, "creation_date": 1546381215, "answer_id": 53999387, "question_id": 47007860, "link": "https://stackoverflow.com/questions/47007860/how-to-query-a-table-with-two-where-clauses-efficiently-android-room/53999387#53999387", "title": "How to query a table with two WHERE clauses efficiently (Android Room)", "body": "<p>If I understood your question correctly you are calling the </p>\n\n<pre><code>List&lt;DatabaseTable&gt; getAll(String firstName, String lastName);\n</code></pre>\n\n<p>for every person in your database one at a time. I think what you are looking for is:</p>\n\n<pre><code>@Query(\"SELECT * FROM DatabaseTable\")\nList&lt;DatabaseTable&gt; getAll();\n</code></pre>\n\n<p>This should get you every person the the table - DatabaseTable</p>\n\n<p>For the edit part of the question try this:</p>\n\n<pre><code>@Query(\"SELECT * FROM DatabaseTable WHERE \n    firstName IN (:firstNames) AND secondName IN (:lastNames)\")\ngetAllWithPairs(List&lt;String&gt; firstNames, List&lt;String&gt; lastNames);\n</code></pre>\n"}], "owner": {"reputation": 10242, "user_id": 908821, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2c4a1ce95e4e53e7f4a556810232e0e3?s=128&d=identicon&r=PG", "display_name": "Angel Koh", "link": "https://stackoverflow.com/users/908821/angel-koh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7412, "favorite_count": 3, "answer_count": 2, "score": 9, "last_activity_date": 1608216636, "creation_date": 1509335090, "last_edit_date": 1608216636, "question_id": 47007860, "link": "https://stackoverflow.com/questions/47007860/how-to-query-a-table-with-two-where-clauses-efficiently-android-room", "title": "How to query a table with two WHERE clauses efficiently (Android Room)", "body": "<p>Supposed I have an object </p>\n\n<pre><code>class Person {\n    String firstName;\n    String lastName;\n    ... other fields...\n}\n</code></pre>\n\n<p>and a database that contains </p>\n\n<pre><code>@Entity\nclass DatabaseTable {\n    String firstName;\n    String lastName;\n    ... other unrelated fields from person...\n}\n</code></pre>\n\n<p>now in my Dao, I have  </p>\n\n<pre><code>@Query(\"SELECT * FROM DatabaseTable WHERE \" +\n        \" firstName = :firstName AND lastName = :lastName\")\nList&lt;DatabaseTable&gt; getAll(String firstName, String lastName);\n</code></pre>\n\n<p>I have list that  I want to query DatabaseTable from. </p>\n\n<pre><code>Person(\"Apple\", \"Kohn\", ...)\nPerson(\"Benny\", \"Lorie\", ...)\nPerson(\"Cindy\", \"May\", ...)\n... \n</code></pre>\n\n<p>How would i go about extracting the Database table efficiently? It don't seem right to call the dao for every Person in my list.</p>\n\n<p>EDIT:</p>\n\n<p>I like to know how to use a single query to retrieve a list of results. </p>\n\n<p>I know that under the hood Room uses ContentValue to loop though an entity list. \nIs there a way for us to create our own contentValue to pass into Room?</p>\n\n<p>Is something like the following possible?</p>\n\n<pre><code>getAllWithPairs( List&lt;String&gt; firstNames, List&lt;String&gt; lastNames);\n</code></pre>\n"}, {"tags": ["android", "file", "class", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 46, "user_id": 5386924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c33c97980e5f1bb91edc26c451587f9?s=128&d=identicon&r=PG&f=1", "display_name": "\u9648\u859b\u661f", "link": "https://stackoverflow.com/users/5386924/%e9%99%88%e8%96%9b%e6%98%9f"}, "is_accepted": true, "score": 0, "last_activity_date": 1511146691, "creation_date": 1511146691, "answer_id": 47384466, "question_id": 47006679, "link": "https://stackoverflow.com/questions/47006679/android-kotlin-unable-to-read-class-file/47384466#47384466", "title": "Android kotlin : unable to read class file", "body": "<p>I solved this problem by cleaning project, you can have a try</p>\n"}], "owner": {"reputation": 138, "user_id": 7642750, "user_type": "registered", "profile_image": "https://graph.facebook.com/10154119279975916/picture?type=large", "display_name": "Bruno", "link": "https://stackoverflow.com/users/7642750/bruno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 190, "favorite_count": 0, "accepted_answer_id": 47384466, "answer_count": 1, "score": 0, "last_activity_date": 1511146691, "creation_date": 1509323516, "last_edit_date": 1509324092, "question_id": 47006679, "link": "https://stackoverflow.com/questions/47006679/android-kotlin-unable-to-read-class-file", "title": "Android kotlin : unable to read class file", "body": "<p><strong>EDIT : this was much simplier than I thought, I just needed to clean the project !</strong></p>\n\n<p>I'm trying to define an interface inside a fragment containing a GridView to force any activity that would attach the fragment to implement that interface and the onImageSelected method.\nFor it once I check if the activity correctly implements the Interface, I cast it onto a callback object.</p>\n\n<pre><code>class MasterListFragment : Fragment(){\n\nlateinit var mCallBack: OnImageClickListener\n\ninterface OnImageClickListener{\n    fun onImageSelected(position: Int)\n}\n\noverride fun onAttach(context: Context?) {\n    super.onAttach(context)\n    if(context !is OnImageClickListener)\n        throw ClassCastException(context.toString() + \"must implement OnImageClickListener\")\n    else\n        mCallBack = context\n}\n\noverride fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View? {\n    val view = inflater?.inflate(R.layout.fragment_master_list, container, false)\n    var adapter = MasterListAdapter(context, AndroidImageAssets.getAll())\n    var mGridView = view?.findViewById(R.id.master_grid_view) as GridView\n    mGridView.adapter = adapter\n    mGridView.setOnItemClickListener { _, _, position, _ -&gt; mCallBack.onImageSelected(position) }\n    return view\n}\n</code></pre>\n\n<p>And on my activity I just implement the interface and override the onImageSelected function.</p>\n\n<p>But I run onto this error :</p>\n\n<blockquote>\n  <p>Error:Execution failed for task ':app:compileDebugJavaWithJavac'.</p>\n  \n  <blockquote>\n    <p>Unable to read class file: '***\\tmp\\kotlin-classes\\debug\\com\\example\\android\\myproject\\MasterListFragment$mCallBack$1.class'</p>\n  </blockquote>\n</blockquote>\n\n<p>I tried without using a lateinit var and a simple var with no luck\nWhat I don't get is that even after changing the variable name it still indicate the MasterListFragment$mCallBack$1.class</p>\n\n<p>Thanks for your help !</p>\n"}, {"tags": ["android", "datetime", "kotlin"], "comments": [{"owner": {"reputation": 64281, "user_id": 5772882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58mlb.png?s=128&g=1", "display_name": "Ole V.V.", "link": "https://stackoverflow.com/users/5772882/ole-v-v"}, "edited": false, "score": 3, "creation_date": 1531907941, "post_id": 47006254, "comment_id": 89768953, "body": "For API levels lower than 26 just add <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\">the ThreeTenABP library</a> to your project, import <code>org.threeten.bp.LocalDateTime</code> and then do as you tried: <code>LocalDateTime.now(yourTimeZone)</code> (I recommend specifying time zone, but if you don\u2019t you\u2019ll get the JVM time zone setting). See more in <a href=\"https://stackoverflow.com/questions/38922754/how-to-use-threetenabp-in-android-project\">this question: How to use ThreeTenABP in Android Project</a>."}, {"owner": {"reputation": 2798, "user_id": 3275450, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/RR9XY.jpg?s=128&g=1", "display_name": "Prashant Jajal", "link": "https://stackoverflow.com/users/3275450/prashant-jajal"}, "edited": false, "score": 0, "creation_date": 1566908966, "post_id": 47006254, "comment_id": 101796417, "body": "check this link for your needed solution : <a href=\"https://stackoverflow.com/questions/3747490/android-get-date-before-7-days-one-week/57674721#57674721\" title=\"android get date before 7 days one week\">stackoverflow.com/questions/3747490/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4595, "user_id": 6096029, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7363bc85946e1071f6a3c65c905c471e?s=128&d=identicon&r=PG&f=1", "display_name": "rgoncalv", "link": "https://stackoverflow.com/users/6096029/rgoncalv"}, "edited": false, "score": 0, "creation_date": 1509322761, "post_id": 47006613, "comment_id": 80959818, "body": "The problem is that it gives the date in GMT -0 format. How do I get local time (in my case GMT -3 and GMT -2 ) ?"}, {"owner": {"reputation": 4595, "user_id": 6096029, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7363bc85946e1071f6a3c65c905c471e?s=128&d=identicon&r=PG&f=1", "display_name": "rgoncalv", "link": "https://stackoverflow.com/users/6096029/rgoncalv"}, "edited": false, "score": 0, "creation_date": 1509323320, "post_id": 47006613, "comment_id": 80959924, "body": "Just realized the time was &quot;wrong&quot; because it was the emulator&#39;s time zone that was set to GMT 0. When used it in a real device, everything was fine :)"}], "tags": [], "owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "is_accepted": true, "score": 39, "last_activity_date": 1509322690, "creation_date": 1509322690, "answer_id": 47006613, "question_id": 47006254, "link": "https://stackoverflow.com/questions/47006254/how-to-get-current-local-date-and-time-in-kotlin/47006613#47006613", "title": "How to get current local date and time in Kotlin", "body": "<p><a href=\"https://developer.android.com/reference/java/util/Calendar.html#getInstance()\" rel=\"noreferrer\"><code>java.util.Calendar.getInstance()</code></a> represents the current time using the current locale and timezone.</p>\n\n<p>You could also choose to import and use Joda-Time or one of the <a href=\"https://github.com/dlew/joda-time-android\" rel=\"noreferrer\">forks for Android</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 96259, "user_id": 247696, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/936383b387d6cc6d51279e429e5d7cd9?s=128&d=identicon&r=PG", "display_name": "Flimm", "link": "https://stackoverflow.com/users/247696/flimm"}, "edited": false, "score": 0, "creation_date": 1541509424, "post_id": 50137435, "comment_id": 93234572, "body": "I presume this is <code>SimpleDateFormat</code> from <code>java.text</code>?"}, {"owner": {"reputation": 236, "user_id": 2562033, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/46SJk.jpg?s=128&g=1", "display_name": "Prime624", "link": "https://stackoverflow.com/users/2562033/prime624"}, "edited": false, "score": 6, "creation_date": 1545605326, "post_id": 50137435, "comment_id": 94659965, "body": "Date is mostly deprecated and has been in the process of being phased out for years. I disagree with recommending it to a new learner."}], "tags": [], "owner": {"reputation": 739, "user_id": 9605915, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Shan Mk", "link": "https://stackoverflow.com/users/9605915/shan-mk"}, "is_accepted": false, "score": 67, "last_activity_date": 1525273679, "last_edit_date": 1525273679, "creation_date": 1525272295, "answer_id": 50137435, "question_id": 47006254, "link": "https://stackoverflow.com/questions/47006254/how-to-get-current-local-date-and-time-in-kotlin/50137435#50137435", "title": "How to get current local date and time in Kotlin", "body": "<p>Try this      :</p>\n\n<pre><code> val sdf = SimpleDateFormat(\"dd/M/yyyy hh:mm:ss\")\n val currentDate = sdf.format(Date())\n System.out.println(\" C DATE is  \"+currentDate)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 436, "user_id": 5538849, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/c324dad1aa5e110f37d19e29253994a4?s=128&d=identicon&r=PG&f=1", "display_name": "rTECH", "link": "https://stackoverflow.com/users/5538849/rtech"}, "edited": false, "score": 3, "creation_date": 1571337451, "post_id": 51394768, "comment_id": 103217450, "body": "this should be the accpted answer: easy and clean, I implemented it as a package level function (on package level functions: <a href=\"https://stackoverflow.com/questions/38778882/how-to-create-package-level-functions\" title=\"how to create package level functions\">stackoverflow.com/questions/38778882/&hellip;</a>) to reach it from anywhere"}], "tags": [], "owner": {"reputation": 42863, "user_id": 5381331, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/be17225d9277060275486934d07d7a72?s=128&d=identicon&r=PG&f=1", "display_name": "Phan Van Linh", "link": "https://stackoverflow.com/users/5381331/phan-van-linh"}, "is_accepted": false, "score": 35, "last_activity_date": 1531898757, "last_edit_date": 1531898757, "creation_date": 1531894500, "answer_id": 51394768, "question_id": 47006254, "link": "https://stackoverflow.com/questions/47006254/how-to-get-current-local-date-and-time-in-kotlin/51394768#51394768", "title": "How to get current local date and time in Kotlin", "body": "<p>My utils method for get current date time using <code>Calendar</code> when our minSdkVersion &lt; 26. </p>\n\n<pre><code>fun Date.toString(format: String, locale: Locale = Locale.getDefault()): String {\n    val formatter = SimpleDateFormat(format, locale)\n    return formatter.format(this)\n}\n\nfun getCurrentDateTime(): Date {\n    return Calendar.getInstance().time\n}\n</code></pre>\n\n<p>Using</p>\n\n<pre><code>import ...getCurrentDateTime\nimport ...toString\n...\n...\nval date = getCurrentDateTime()\nval dateInString = date.toString(\"yyyy/MM/dd HH:mm:ss\")\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 7811519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2oqRUenN3tA/AAAAAAAAAAI/AAAAAAAAAAw/Bl9fZPkOlQg/photo.jpg?sz=128", "display_name": "Nawaraj Bista", "link": "https://stackoverflow.com/users/7811519/nawaraj-bista"}, "is_accepted": false, "score": 5, "last_activity_date": 1591329999, "last_edit_date": 1591329999, "creation_date": 1572481115, "answer_id": 58635337, "question_id": 47006254, "link": "https://stackoverflow.com/questions/47006254/how-to-get-current-local-date-and-time-in-kotlin/58635337#58635337", "title": "How to get current local date and time in Kotlin", "body": "<p>Try this:</p>\n\n<pre><code>val date = Calendar.getInstance().time\nval formatter = SimpleDateFormat.getDateTimeInstance() //or use getDateInstance()\nval formatedDate = formatter.format(date)\n</code></pre>\n\n<p>You can use your <strong>own pattern</strong> as well, e.g. </p>\n\n<pre><code>val sdf = SimpleDateFormat(\"yyyy.MM.dd\")\n// 2020.02.02\n</code></pre>\n\n<p>To get local formatting use <code>getDateInstance()</code>, <code>getDateTimeInstance()</code>, or <code>getTimeInstance()</code>, or use new <code>SimpleDateFormat(String template, Locale locale)</code> with for example Locale.US for ASCII dates. \nThe first three options require API level 29.</p>\n"}, {"tags": [], "owner": {"reputation": 584, "user_id": 5840862, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-W1CltV1shNQ/AAAAAAAAAAI/AAAAAAAAAJM/ZzujYDDhj1I/photo.jpg?sz=128", "display_name": "Syed Arsalan Shah", "link": "https://stackoverflow.com/users/5840862/syed-arsalan-shah"}, "is_accepted": false, "score": 1, "last_activity_date": 1572501558, "creation_date": 1572501558, "answer_id": 58637613, "question_id": 47006254, "link": "https://stackoverflow.com/questions/47006254/how-to-get-current-local-date-and-time-in-kotlin/58637613#58637613", "title": "How to get current local date and time in Kotlin", "body": "<p>checkout these easy to use Kotlin extensions for date format</p>\n\n<pre><code>fun String.getStringDate(initialFormat: String, requiredFormat: String, locale: Locale = Locale.getDefault()): String {\n    return this.toDate(initialFormat, locale).toString(requiredFormat, locale)\n}\n\nfun String.toDate(format: String, locale: Locale = Locale.getDefault()): Date = SimpleDateFormat(format, locale).parse(this)\n\nfun Date.toString(format: String, locale: Locale = Locale.getDefault()): String {\n    val formatter = SimpleDateFormat(format, locale)\n    return formatter.format(this)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 208, "user_id": 13139418, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39604972e7600ad64c368085ac1c15c4?s=128&d=identicon&r=PG&f=1", "display_name": "J7bits", "link": "https://stackoverflow.com/users/13139418/j7bits"}, "is_accepted": false, "score": 4, "last_activity_date": 1587751381, "creation_date": 1587751381, "answer_id": 61414652, "question_id": 47006254, "link": "https://stackoverflow.com/questions/47006254/how-to-get-current-local-date-and-time-in-kotlin/61414652#61414652", "title": "How to get current local date and time in Kotlin", "body": "<p>You can get current year, month, day etc  from a calendar instance</p>\n\n<pre><code>val c = Calendar.getInstance()\n\nval year = c.get(Calendar.YEAR)\nval month = c.get(Calendar.MONTH)\nval day = c.get(Calendar.DAY_OF_MONTH)\n\nval hour = c.get(Calendar.HOUR_OF_DAY)\nval minute = c.get(Calendar.MINUTE)\n</code></pre>\n\n<p>If you need it as a LocalDateTime, simply create it by using the parameters you got above</p>\n\n<pre><code>val myLdt = LocalDateTime.of(year, month, day, ... )\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 13293875, "user_type": "registered", "profile_image": "https://graph.facebook.com/920067978435542/picture?type=large", "display_name": "Nguy\u1ec5n T&#253;", "link": "https://stackoverflow.com/users/13293875/nguy%e1%bb%85n-t%c3%bd"}, "is_accepted": false, "score": -2, "last_activity_date": 1596112819, "creation_date": 1596112819, "answer_id": 63173378, "question_id": 47006254, "link": "https://stackoverflow.com/questions/47006254/how-to-get-current-local-date-and-time-in-kotlin/63173378#63173378", "title": "How to get current local date and time in Kotlin", "body": "<p>I use this to fetch data from API every 20 seconds</p>\n<pre><code> private fun isFetchNeeded(savedAt: Long): Boolean {\n        return savedAt + 20000 &lt; System.currentTimeMillis()\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23, "user_id": 13976371, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhJHp7baUZgdLbmZxpyHIvq3ThYllSSKTeqkrNZrQ=k-s128", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/13976371/sebastian"}, "is_accepted": false, "score": -1, "last_activity_date": 1599226568, "creation_date": 1599226568, "answer_id": 63742281, "question_id": 47006254, "link": "https://stackoverflow.com/questions/47006254/how-to-get-current-local-date-and-time-in-kotlin/63742281#63742281", "title": "How to get current local date and time in Kotlin", "body": "<p>Another solution is changing the api level of your project in build.gradle and this will work.</p>\n"}, {"tags": [], "owner": {"reputation": 9356, "user_id": 3792198, "user_type": "registered", "accept_rate": 23, "profile_image": "https://i.stack.imgur.com/lLz4m.jpg?s=128&g=1", "display_name": "Thiago", "link": "https://stackoverflow.com/users/3792198/thiago"}, "is_accepted": false, "score": 0, "last_activity_date": 1608066034, "creation_date": 1608066034, "answer_id": 65313625, "question_id": 47006254, "link": "https://stackoverflow.com/questions/47006254/how-to-get-current-local-date-and-time-in-kotlin/65313625#65313625", "title": "How to get current local date and time in Kotlin", "body": "<p>To get the current Date in Kotlin do this:</p>\n<pre><code>val dateNow = Calendar.getInstance().time\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1181, "user_id": 3102913, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/100005606403833/picture?type=large", "display_name": "pavel", "link": "https://stackoverflow.com/users/3102913/pavel"}, "is_accepted": false, "score": 0, "last_activity_date": 1614664731, "creation_date": 1614664731, "answer_id": 66434065, "question_id": 47006254, "link": "https://stackoverflow.com/questions/47006254/how-to-get-current-local-date-and-time-in-kotlin/66434065#66434065", "title": "How to get current local date and time in Kotlin", "body": "<p>You can use this function</p>\n<pre><code>fun getCurrentDate():String{\nval sdf = SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS&quot;)\nreturn sdf.format(Date())\n}\n</code></pre>\n"}], "owner": {"reputation": 4595, "user_id": 6096029, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7363bc85946e1071f6a3c65c905c471e?s=128&d=identicon&r=PG&f=1", "display_name": "rgoncalv", "link": "https://stackoverflow.com/users/6096029/rgoncalv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116612, "favorite_count": 11, "accepted_answer_id": 47006613, "answer_count": 10, "score": 82, "last_activity_date": 1614664731, "creation_date": 1509319096, "last_edit_date": 1509321403, "question_id": 47006254, "link": "https://stackoverflow.com/questions/47006254/how-to-get-current-local-date-and-time-in-kotlin", "title": "How to get current local date and time in Kotlin", "body": "<p>How to get current Date (day month and year) and time (hour, minutes and seconds) all in local time in Kotlin?</p>\n\n<p>I tried through <code>LocalDateTime.now()</code> but it is giving me an error saying <code>Call requires API Level 26 (curr min is 21)</code>.</p>\n\n<p>How could I get time and date in Kotlin?</p>\n"}, {"tags": ["android", "gradle", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 27486, "user_id": 1129332, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KcrPN.jpg?s=128&g=1", "display_name": "Ilya Gazman", "link": "https://stackoverflow.com/users/1129332/ilya-gazman"}, "is_accepted": true, "score": 8, "last_activity_date": 1509317234, "creation_date": 1509317234, "answer_id": 47006041, "question_id": 47005859, "link": "https://stackoverflow.com/questions/47005859/duplicate-entry-meta-inf-mylibrary-kotlin-module/47006041#47006041", "title": "duplicate entry: META-INF/myLibrary.kotlin_module", "body": "<p>This is so annoying, but running <strong>Clean Project</strong> fixed the problem for me.</p>\n"}, {"comments": [{"owner": {"reputation": 64, "user_id": 8176420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bffebe78cefffcf4475d336255f49d11?s=128&d=identicon&r=PG&f=1", "display_name": "liketechnik", "link": "https://stackoverflow.com/users/8176420/liketechnik"}, "edited": false, "score": 0, "creation_date": 1509318545, "post_id": 47006063, "comment_id": 80958935, "body": "Sorry, I didn&#39;t see your answer in mobile app when I wrote mine. Not sure if I should delete it though?"}], "tags": [], "owner": {"reputation": 64, "user_id": 8176420, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bffebe78cefffcf4475d336255f49d11?s=128&d=identicon&r=PG&f=1", "display_name": "liketechnik", "link": "https://stackoverflow.com/users/8176420/liketechnik"}, "is_accepted": false, "score": 1, "last_activity_date": 1509317412, "creation_date": 1509317412, "answer_id": 47006063, "question_id": 47005859, "link": "https://stackoverflow.com/questions/47005859/duplicate-entry-meta-inf-mylibrary-kotlin-module/47006063#47006063", "title": "duplicate entry: META-INF/myLibrary.kotlin_module", "body": "<p>Looks like a cache error (with kotlin) to me. Running <code>gradle clean</code> or <code>gradle clear</code> (not sure which is the right spelling, sorry, one of these should exist as a gradle task) and rebuilding should fix the error, because all files in cache will be deleted by the task and regenerated by the project build. </p>\n"}, {"tags": [], "owner": {"reputation": 452, "user_id": 5119341, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-c2jABYz9ou4/AAAAAAAAAAI/AAAAAAAAAAA/irNaqKjkQDs/photo.jpg?sz=128", "display_name": "Bernardo Rocha", "link": "https://stackoverflow.com/users/5119341/bernardo-rocha"}, "is_accepted": false, "score": 2, "last_activity_date": 1509377770, "creation_date": 1509377770, "answer_id": 47019077, "question_id": 47005859, "link": "https://stackoverflow.com/questions/47005859/duplicate-entry-meta-inf-mylibrary-kotlin-module/47019077#47019077", "title": "duplicate entry: META-INF/myLibrary.kotlin_module", "body": "<p>Try adding this to your build.gradle . in packagingOptions:</p>\n\n<pre><code>packagingOptions {\n    ...\n    exclude 'META-INF/rxkotlin.properties'\n    exclude 'META-INF/rxkotlin_main.kotlin_module'\n}\n</code></pre>\n"}], "owner": {"reputation": 27486, "user_id": 1129332, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/KcrPN.jpg?s=128&g=1", "display_name": "Ilya Gazman", "link": "https://stackoverflow.com/users/1129332/ilya-gazman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1905, "favorite_count": 1, "accepted_answer_id": 47006041, "answer_count": 3, "score": 6, "last_activity_date": 1509377770, "creation_date": 1509315704, "last_edit_date": 1509316098, "question_id": 47005859, "link": "https://stackoverflow.com/questions/47005859/duplicate-entry-meta-inf-mylibrary-kotlin-module", "title": "duplicate entry: META-INF/myLibrary.kotlin_module", "body": "<p>After updating to Android 3.0, getting Kotlin error:</p>\n\n<pre><code>Execution failed for task ':myLibrary:transformClassesAndResourcesWithPrepareIntermediateJarsForDebug'.\n&gt; java.lang.RuntimeException: java.util.zip.ZipException: duplicate entry: META-INF/myLibrary.kotlin_module\n</code></pre>\n\n<p>This is my library buid.gradle file:</p>\n\n<pre><code>apply plugin: 'com.android.library'\napply plugin: 'kotlin-android'\napply plugin: 'kotlin-android-extensions'\n\n...\n\ndependencies {\n    api \"org.jetbrains.kotlin:kotlin-stdlib-jre7:$kotlin_version\"\n}\n</code></pre>\n\n<p>This is my project build.gradle</p>\n\n<pre><code>ext.kotlin_version = '1.1.51'\nrepositories {\n    jcenter()\n    mavenCentral()\n    google()\n}\ndependencies {\n    classpath 'com.android.tools.build:gradle:3.0.0'\n    classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n}\n</code></pre>\n"}, {"tags": ["android", "kotlin", "android-studio-3.0"], "comments": [{"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1509303277, "post_id": 47003969, "comment_id": 80954447, "body": "there are really a few hundred answers about that topic."}, {"owner": {"reputation": 713, "user_id": 2099888, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/79676f533d594e1748cbe76f30a7b1a3?s=128&d=identicon&r=PG", "display_name": "coutier eric", "link": "https://stackoverflow.com/users/2099888/coutier-eric"}, "reply_to_user": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1509309805, "post_id": 47003969, "comment_id": 80956488, "body": "@Emmanuel S : sorry but it&#39;s not a duplicate : the problem in the question you&#39;ve linked is a runtime exception. In my case, it&#39;s a compile time problem. And, I can correct the bug but the problem is the lack of information"}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1509310428, "post_id": 47003969, "comment_id": 80956717, "body": "I didnt mean that its exactly the same issue, but the solution is always the same. add the proper depdencies, invalidate cache and restart, add kotlin kapt instead of annotationProcessors, ..."}, {"owner": {"reputation": 713, "user_id": 2099888, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/79676f533d594e1748cbe76f30a7b1a3?s=128&d=identicon&r=PG", "display_name": "coutier eric", "link": "https://stackoverflow.com/users/2099888/coutier-eric"}, "reply_to_user": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1509363103, "post_id": 47003969, "comment_id": 80974633, "body": "@Owen Pauling, MikeT, Nilesh Rathod, KeLiuyue, I&#39;m very sorry but, re-read my post attentively, especially my second edit : my problem is not Exception during runtime but a lack of information during compilation. So why mark my question as a duplicate ?"}, {"owner": {"reputation": 7413, "user_id": 2032539, "user_type": "registered", "accept_rate": 7, "profile_image": "https://i.stack.imgur.com/eWqmm.jpg?s=128&g=1", "display_name": "Emanuel S", "link": "https://stackoverflow.com/users/2032539/emanuel-s"}, "edited": false, "score": 0, "creation_date": 1509363153, "post_id": 47003969, "comment_id": 80974659, "body": "post your dao, model and gradle. ill try to help."}, {"owner": {"reputation": 1091, "user_id": 3423539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99231e6fe7118c7409fdbcedd6d3afcc?s=128&d=identicon&r=PG", "display_name": "yanex", "link": "https://stackoverflow.com/users/3423539/yanex"}, "edited": false, "score": 0, "creation_date": 1510546951, "post_id": 47003969, "comment_id": 81464944, "body": "Are there any error messages above the &quot;Error while annotation processing&quot; exception? Also, what Kotlin Gradle plugin version do you use?"}], "owner": {"reputation": 713, "user_id": 2099888, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/79676f533d594e1748cbe76f30a7b1a3?s=128&d=identicon&r=PG", "display_name": "coutier eric", "link": "https://stackoverflow.com/users/2099888/coutier-eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "closed_date": 1509343285, "answer_count": 0, "score": 0, "last_activity_date": 1511218228, "creation_date": 1509303029, "last_edit_date": 1511218228, "question_id": 47003969, "link": "https://stackoverflow.com/questions/47003969/room-peristence-library-and-enigmatic-error", "closed_reason": "Duplicate", "title": "Room Peristence Library and enigmatic error", "body": "<p>I try to use Room in Android Studio 3.0 with kotlin. I have successfully created 3 entities that work well (database is created, i can insert rows and so on). Now, i want to add some functionnalities but i have this enigmatic error:</p>\n\n<pre><code>Warning:warning: Supported source version 'RELEASE_7' from annotation processor 'android.arch.persistence.room.RoomProcessor' less than -source '1.8'\n\nError:Execution failed for task ':app:kaptDebugKotlin'.\n   &gt; Internal compiler error. See log for more details\n</code></pre>\n\n<p>Do you know how can I see \"log for more details\". Is there another way to point excatly where the error is ?</p>\n\n<p>For the moment, I can find where the error is only by commenting one-by-one the portion of new codes i've added, until the compilation success.</p>\n\n<p>By setting --stacktrace --debug for compiler option, the message is even more enigmatic:</p>\n\n<pre><code>Error:org.jetbrains.kotlin.kapt3.diagnostic.KaptError: Error while annotation processing\n</code></pre>\n\n<p><strong>[Edit]</strong>\nIt's not a duplicate : the linked question in Emmanuel S comment is a runtime exception. In my case, it's a compile time problem. And, I can correct the bug but the question I ask is about the lack of information about where is excactly the problem.</p>\n\n<p><strong>[Edit 2]</strong>\nI give some precision to my question by using an example.\nImagine this code:</p>\n\n<pre><code>@Dao\nPersonDao {\n   @Query(\"SELECT * FROM categoryes\")\n   fun getAll() : List&lt;Categ&gt;\n   ...\n}\n</code></pre>\n\n<p>A compile error is fired but I understand why : it's because i've made a type in categor<strong>y</strong>es. But the error message give no idea where the problem is. After correcting the typo, all is good.</p>\n\n<p>So, is there a way to know where the problem is exactly ? I think it's nothing to do with annotationProcessor or kapt in build.gradle</p>\n\n<p><strong>[Edit 3]</strong> Problem has been solved with Kotlin plugin update (from 1.1.51 to version new version 1.1.60)</p>\n\n<p>Now i've a clear error message:</p>\n\n<pre><code>Error:(9, 1) error: There is a problem with the query: [SQLITE_ERROR] SQL error or missing database (no such table: categs)\n</code></pre>\n\n<p>So, was it really a duplicate ???</p>\n\n<p><a href=\"https://i.stack.imgur.com/aiarP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aiarP.png\" alt=\"clear message with new version of Kotlin plugin\"></a></p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 0, "creation_date": 1509295137, "post_id": 47002406, "comment_id": 80951754, "body": "Could you add the part where you instantiate sibice?"}, {"owner": {"reputation": 476, "user_id": 8385605, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cf72d5de38c9cbbb9524d6d85ff864bf?s=128&d=identicon&r=PG&f=1", "display_name": "\u043c\u0430\u0458\u0434\u0435\u0458\u0441\u0430\u0440\u0435\u043c\u0435\u0445", "link": "https://stackoverflow.com/users/8385605/%d0%bc%d0%b0%d1%98%d0%b4%d0%b5%d1%98%d1%81%d0%b0%d1%80%d0%b5%d0%bc%d0%b5%d1%85"}, "reply_to_user": {"reputation": 851, "user_id": 4103578, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Mh0zo.png?s=128&g=1", "display_name": "Xavier Bouclet", "link": "https://stackoverflow.com/users/4103578/xavier-bouclet"}, "edited": false, "score": 0, "creation_date": 1509295366, "post_id": 47002406, "comment_id": 80951828, "body": "val sibice : MutableList&lt;Pair&lt;Int,Int&gt;&gt; = MutableList(m) { Pair(0,0) }  I resolved the issue by making my own Pair class, but that&#39;s beyond the point, anyway I made my own Pair (Par): class Par&lt;T1, T2&gt; constructor(var first : T1, var second : T2)"}, {"owner": {"reputation": 3462, "user_id": 2094298, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/26a93895eedcc45a0ebc3bb0da2cfbe6?s=128&d=identicon&r=PG", "display_name": "Ruckus T-Boom", "link": "https://stackoverflow.com/users/2094298/ruckus-t-boom"}, "edited": false, "score": 1, "creation_date": 1509387243, "post_id": 47002406, "comment_id": 80990295, "body": "You could always define your own <code>data class MutablePair&lt;T, U&gt;(var first: T, var second: U)</code>"}, {"owner": {"reputation": 476, "user_id": 8385605, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cf72d5de38c9cbbb9524d6d85ff864bf?s=128&d=identicon&r=PG&f=1", "display_name": "\u043c\u0430\u0458\u0434\u0435\u0458\u0441\u0430\u0440\u0435\u043c\u0435\u0445", "link": "https://stackoverflow.com/users/8385605/%d0%bc%d0%b0%d1%98%d0%b4%d0%b5%d1%98%d1%81%d0%b0%d1%80%d0%b5%d0%bc%d0%b5%d1%85"}, "edited": false, "score": 0, "creation_date": 1509521642, "post_id": 47002406, "comment_id": 81047243, "body": "&quot;besides creating my own pair is there any other &quot; I solved the problem by doing that, but I wanted to check for alternatives"}], "answers": [{"comments": [{"owner": {"reputation": 878, "user_id": 476942, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1Fh9w.jpg?s=128&g=1", "display_name": "AbuNassar", "link": "https://stackoverflow.com/users/476942/abunassar"}, "edited": false, "score": 0, "creation_date": 1509298653, "post_id": 47003202, "comment_id": 80952911, "body": "It&#39;s the case because that is the tradition, and the expectation, and often the requirement in functional programming."}], "tags": [], "owner": {"reputation": 33367, "user_id": 3385212, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/PmQYG.png?s=128&g=1", "display_name": "tynn", "link": "https://stackoverflow.com/users/3385212/tynn"}, "is_accepted": true, "score": 10, "last_activity_date": 1509298439, "creation_date": 1509298439, "answer_id": 47003202, "question_id": 47002406, "link": "https://stackoverflow.com/questions/47002406/why-arent-the-entries-in-a-kotlin-pair-mutable/47003202#47003202", "title": "Why aren&#39;t the entries in a Kotlin Pair mutable?", "body": "<p>Like with all entities, issues arise with mutability.</p>\n\n<p>In your case you can just update the list-entry with a new pair of values.</p>\n\n<pre><code>val newPair = oldPair.copy(first = oldPair.first-1)\n</code></pre>\n\n<p>Or directly use an array of length 2 instead <code>intArrayOf(0, 0)</code>. So you can access the elements directly.</p>\n\n<pre><code>while(n &gt; 0) {\n    if(sibice[i][0] &gt; 0) {\n        sum += sibice[i][1]\n        sibice[i][0]--\n        n--\n    } else i++\n}\n</code></pre>\n\n<p>You could even define extension values <code>first</code> and <code>second</code> to the <code>IntArray</code> type and use it the same like before.</p>\n\n<pre><code>val IntArray.second get() = get(1)\nvar IntArray.first\n    set(value) = set(0, value)\n    get() = get(0)\n</code></pre>\n"}], "owner": {"reputation": 476, "user_id": 8385605, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/cf72d5de38c9cbbb9524d6d85ff864bf?s=128&d=identicon&r=PG&f=1", "display_name": "\u043c\u0430\u0458\u0434\u0435\u0458\u0441\u0430\u0440\u0435\u043c\u0435\u0445", "link": "https://stackoverflow.com/users/8385605/%d0%bc%d0%b0%d1%98%d0%b4%d0%b5%d1%98%d1%81%d0%b0%d1%80%d0%b5%d0%bc%d0%b5%d1%85"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4826, "favorite_count": 1, "accepted_answer_id": 47003202, "answer_count": 1, "score": 11, "last_activity_date": 1509298439, "creation_date": 1509293715, "question_id": 47002406, "link": "https://stackoverflow.com/questions/47002406/why-arent-the-entries-in-a-kotlin-pair-mutable", "title": "Why aren&#39;t the entries in a Kotlin Pair mutable?", "body": "<p>I have a MutableList of Pairs and I'd like to decrement the value of the first entry so my condition my pass(change):</p>\n\n<pre><code>while(n &gt; 0) {\n    if(sibice[i].first &gt; 0) {\n        sum += sibice[i].second\n        //sibice[i].first-- will not compile\n        n--\n    } else i++\n}\n</code></pre>\n\n<p>But the Pair class doesn't let me do that, besides creating my own pair is there any other workaround and why is this even the case?</p>\n"}, {"tags": ["java", "kotlin", "rx-java"], "answers": [{"comments": [{"owner": {"reputation": 177, "user_id": 8852115, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7097d13dc0db08910937125f2cbccc72?s=128&d=identicon&r=PG&f=1", "display_name": "j jobe", "link": "https://stackoverflow.com/users/8852115/j-jobe"}, "edited": false, "score": 0, "creation_date": 1509303399, "post_id": 47002552, "comment_id": 80954492, "body": "excuse me sir  -&gt; _)  what should i put here _ ??"}, {"owner": {"reputation": 177, "user_id": 8852115, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7097d13dc0db08910937125f2cbccc72?s=128&d=identicon&r=PG&f=1", "display_name": "j jobe", "link": "https://stackoverflow.com/users/8852115/j-jobe"}, "edited": false, "score": 0, "creation_date": 1509303420, "post_id": 47002552, "comment_id": 80954500, "body": "and i didn&#39;t understand what u mean in the comment add this code in after line above"}, {"owner": {"reputation": 690, "user_id": 1410837, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6379614a7db901ad9e0fffd4dd1d8ea0?s=128&d=identicon&r=PG", "display_name": "egon12", "link": "https://stackoverflow.com/users/1410837/egon12"}, "reply_to_user": {"reputation": 177, "user_id": 8852115, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7097d13dc0db08910937125f2cbccc72?s=128&d=identicon&r=PG&f=1", "display_name": "j jobe", "link": "https://stackoverflow.com/users/8852115/j-jobe"}, "edited": false, "score": 0, "creation_date": 1509305551, "post_id": 47002552, "comment_id": 80955191, "body": "My mistake, _ in kotlin ussualy for variable that wont be used. But we need <code>type</code> not <code>variable</code> in lambda. So it is wrong to use _."}], "tags": [], "owner": {"reputation": 690, "user_id": 1410837, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6379614a7db901ad9e0fffd4dd1d8ea0?s=128&d=identicon&r=PG", "display_name": "egon12", "link": "https://stackoverflow.com/users/1410837/egon12"}, "is_accepted": true, "score": 0, "last_activity_date": 1509304013, "last_edit_date": 1509304013, "creation_date": 1509294583, "answer_id": 47002552, "question_id": 47002061, "link": "https://stackoverflow.com/questions/47002061/rxjava-zip-function-return-an-empty-result/47002552#47002552", "title": "rxjava :: zip function return an empty result", "body": "<p>You can't get the result from async immediately. It must wait and ussualy only can be accessed by callback.</p>\n\n<p>When you return x, you return array that initialize in:</p>\n\n<pre><code>var x:ArrayList&lt;arrayitem&gt; = ArrayList()\n</code></pre>\n\n<p>to get the x that filled with result, you can use interface or lambda to get your result.</p>\n\n<p>here are examples using lambda:</p>\n\n<pre><code>fun ini_conection(onResult: ArrayList&lt;arrayitem&gt; -&gt; Unit) {\n    Observable.zip(obs, result2, BiFunction { \n        t1: JSONResponse, \n        t2: List&lt;get&gt; -&gt; Pair(t1, t2) \n    }).subscribe({\n        for (i in 0..5) {\n            x.add(arrayitem(gson.toJson(it.second.get(i).type)))\n            x.add(arrayitem(gson.toJson(it.first.android?.get(i)?.title)))\n        } \n\n        for (s in x) {\n            println(s)\n        }\n        onResult(x)\n    })\n</code></pre>\n\n<p>}</p>\n\n<p>And you can used it like this:</p>\n\n<pre><code>val h = Main_con()\nh.ini_conection({res -&gt; Log.e(\"Work\", res.toString())})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2191, "user_id": 2794332, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/5ea3c23bb50f4cdb54a2008d3e990a0d?s=128&d=identicon&r=PG&f=1", "display_name": "pezetem", "link": "https://stackoverflow.com/users/2794332/pezetem"}, "is_accepted": false, "score": 0, "last_activity_date": 1509298756, "creation_date": 1509298756, "answer_id": 47003259, "question_id": 47002061, "link": "https://stackoverflow.com/questions/47002061/rxjava-zip-function-return-an-empty-result/47003259#47003259", "title": "rxjava :: zip function return an empty result", "body": "<p>you need to rethink your code. As @egon12 pointed out, you will first return empty <code>x</code> and then maybe make some operations on that array in the subscribe block. </p>\n\n<p>There are to ways to solve that.</p>\n\n<ol>\n<li><p>the ugly one, you can use <code>Observable.toBlocking()</code>, which will get you are of the <code>reactive code</code>. </p></li>\n<li><p>Return <code>Observable&lt;ArrayList&lt;arrayitem&gt;&gt;</code> from <code>ini_conection()</code> and subscribe in somewhere else.</p></li>\n</ol>\n\n<p>Normally the second approach would be better to use, as you could operate on observables and not block. </p>\n"}], "owner": {"reputation": 177, "user_id": 8852115, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/7097d13dc0db08910937125f2cbccc72?s=128&d=identicon&r=PG&f=1", "display_name": "j jobe", "link": "https://stackoverflow.com/users/8852115/j-jobe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1064, "favorite_count": 0, "accepted_answer_id": 47002552, "answer_count": 2, "score": 1, "last_activity_date": 1509304013, "creation_date": 1509291618, "last_edit_date": 1509298030, "question_id": 47002061, "link": "https://stackoverflow.com/questions/47002061/rxjava-zip-function-return-an-empty-result", "title": "rxjava :: zip function return an empty result", "body": "<p>i am using Rxjava with  my app so i can fetching my data from tow different API server , to  combine the result using \"zip\" function and here is my code :\nclass1:-</p>\n\n<pre><code>var service = retrofit(1).create&lt;cc&gt;(cc::class.java)\nvar service1 = retrofit(0).create&lt;cc&gt;(cc::class.java)\nvar obs: io.reactivex.Observable&lt;JSONResponse&gt; = service.getsky()\n        .subscribeOn(Schedulers.newThread())\n        .observeOn(AndroidSchedulers.mainThread())\n\nvar result2: io.reactivex.Observable&lt;List&lt;get&gt;&gt; = service1.getTrends()\n        .subscribeOn(Schedulers.newThread())\n        .observeOn(AndroidSchedulers.mainThread())\nvar x:ArrayList&lt;arrayitem&gt; = ArrayList()\n\n\nfun ini_conection() :ArrayList&lt;arrayitem&gt;{\n    Observable.zip(obs, result2, BiFunction { \n        t1: JSONResponse, \n        t2: List&lt;get&gt; -&gt; Pair(t1, t2) }).subscribe({\n\n           for (i in 0..5) {\n                x.add(arrayitem(gson.toJson(it.second.get(i).type)))\n                x.add(arrayitem(gson.toJson(it.first.android?.get(i)?.title)))\n\n            }\n\n            for (s in x) {\n                println(s)\n            }\n\n\n        })\n\n        return x\n}\n</code></pre>\n\n<p>when i call the result in ex: class 2 like this </p>\n\n<pre><code>    val h =Main_con()\n            Log.e(\"hi i am work\", h.ini_conection().toString())\n</code></pre>\n\n<p>the result i get was an empty array list </p>\n\n<p>here also my arrayitem class:</p>\n\n<pre><code>data class arrayitem(var title: String)\n</code></pre>\n\n<p>by the way in this loop in ini_conection() function its print normaly the result that stored in x arraylist \nthis is the loop:-</p>\n\n<pre><code> for (s in x) {\n     println(s)\n }\n</code></pre>\n"}, {"tags": ["android", "textview", "kotlin"], "comments": [{"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 2, "creation_date": 1509288546, "post_id": 47001467, "comment_id": 80949591, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/33023949/0xff0000ff-an-integer-literal-does-not-conform-to-the-expected-type-kotlin-int\">0xFF0000FF An integer literal does not conform to the expected type kotlin.Int</a>"}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 1, "creation_date": 1509289113, "post_id": 47001467, "comment_id": 80949814, "body": "@JBNizet Is there a better way than to use &quot;toInt()&quot;  ? Maybe some kind of a keyword special for Kotlin ? What would you do in the case of long?"}, {"owner": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1509289149, "post_id": 47001467, "comment_id": 80949836, "body": "As far as as I know, no."}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1509289210, "post_id": 47001467, "comment_id": 80949857, "body": "Maybe it doesn&#39;t actually call a function on this case, as it&#39;s constant?"}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "reply_to_user": {"reputation": 630270, "user_id": 571407, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2f0d9dec16bae1e06552af55ddefc11f?s=128&d=identicon&r=PG", "display_name": "JB Nizet", "link": "https://stackoverflow.com/users/571407/jb-nizet"}, "edited": false, "score": 0, "creation_date": 1509289416, "post_id": 47001467, "comment_id": 80949919, "body": "Also, is there maybe a bitwise operation that&#39;s best to cover this case, as alternative to toInt() ?"}, {"owner": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1509322353, "post_id": 47001467, "comment_id": 80959732, "body": "Use <a href=\"https://developer.android.com/guide/topics/resources/more-resources.html#color-element\" rel=\"nofollow noreferrer\">color resources</a>."}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "reply_to_user": {"reputation": 179940, "user_id": 20713, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/09b9758a4a83cc25547eb93891f19df7?s=128&d=identicon&r=PG", "display_name": "ephemient", "link": "https://stackoverflow.com/users/20713/ephemient"}, "edited": false, "score": 0, "creation_date": 1509349998, "post_id": 47001467, "comment_id": 80966896, "body": "@ephemient Both ways are legit. I&#39;m asking about this one."}, {"owner": {"reputation": 2037, "user_id": 8023531, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e9a703033a49e5ceb3e0d07b3674a51e?s=128&d=identicon&r=PG", "display_name": "David Chopin", "link": "https://stackoverflow.com/users/8023531/david-chopin"}, "edited": false, "score": 0, "creation_date": 1596644895, "post_id": 47001467, "comment_id": 111879865, "body": "Yeah, basically the issue is that a hex value is actually a 64bit int, but this method expects a 32bit int to be passed."}], "answers": [{"comments": [{"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1509794219, "post_id": 47102635, "comment_id": 81170358, "body": "Works, but still, it calls a function instead of just using the value as it is, at compile time"}], "tags": [], "owner": {"reputation": 594, "user_id": 7955352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3aQkw.png?s=128&g=1", "display_name": "Yogesh Paliyal", "link": "https://stackoverflow.com/users/7955352/yogesh-paliyal"}, "is_accepted": false, "score": 5, "last_activity_date": 1509735017, "creation_date": 1509735017, "answer_id": 47102635, "question_id": 47001467, "link": "https://stackoverflow.com/questions/47001467/how-to-use-settextcolorhexavalue-on-kotlin-for-android/47102635#47102635", "title": "How to use &quot;setTextColor(hexaValue)&quot; on Kotlin for Android,", "body": "<p>You can try this to set color of your text programmatically.</p>\n\n<pre><code>textview.textColor=Color.parseColor(\"#22aadd\")\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1510041967, "post_id": 47151786, "comment_id": 81254970, "body": "Nice. What if I want the hexa-value of a long, though? Meaning something like this: 0xff000000ff000000 ? For this, it won&#39;t work to use &quot;toLong&quot;, right?"}, {"owner": {"reputation": 1845, "user_id": 653284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/500fb691396f03a4222ecec99402728d?s=128&d=identicon&r=PG", "display_name": "Dmitry Sitnikov", "link": "https://stackoverflow.com/users/653284/dmitry-sitnikov"}, "reply_to_user": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1510088304, "post_id": 47151786, "comment_id": 81284436, "body": "@androiddeveloper that will not work, right. There is no type bigger that long to cast down, so in that case, you should explicitly make it negative like that <code>-0x7f000000ff000000</code>"}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1510089745, "post_id": 47151786, "comment_id": 81285116, "body": "Too bad it&#39;s in this ugly form. hex numbers should be without a sign..."}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1536816424, "post_id": 47151786, "comment_id": 91561426, "body": "Maybe it&#39;s possible to have an extension function, that I give it the value as on Java, and it will convert it to the real value it&#39;s supposed to be?"}, {"owner": {"reputation": 1845, "user_id": 653284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/500fb691396f03a4222ecec99402728d?s=128&d=identicon&r=PG", "display_name": "Dmitry Sitnikov", "link": "https://stackoverflow.com/users/653284/dmitry-sitnikov"}, "reply_to_user": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1536980335, "post_id": 47151786, "comment_id": 91629276, "body": "@android-developer that&#39;s exactly what this property does it takes a value in the familiar format and converts it to int. You can convert setter into a function      fun TextView.setTextColor(color: Long) {        this.setTextColor(color.toInt())     }  and use it a function"}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1536996936, "post_id": 47151786, "comment_id": 91631593, "body": "Oops I meant annotation. Is it possible to somehow have an annotation that will deal with it instead, so that in build time it will be converted to the proper value?"}, {"owner": {"reputation": 1845, "user_id": 653284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/500fb691396f03a4222ecec99402728d?s=128&d=identicon&r=PG", "display_name": "Dmitry Sitnikov", "link": "https://stackoverflow.com/users/653284/dmitry-sitnikov"}, "reply_to_user": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1537138515, "post_id": 47151786, "comment_id": 91662462, "body": "@android-developer technically it&#39;s possible but that will require an extra code-generation step that will parse the annotation and convert the value so it will end up with the same code. AFAIK No ready-to-use annotation for that purpose exists right now. However, Kotlin team is releasing v1.3 soon that should support unsigned integers out of the box (including hex literals). See: <a href=\"https://blog.jetbrains.com/kotlin/2018/08/kotlin-1-3-m2/\" rel=\"nofollow noreferrer\">blog.jetbrains.com/kotlin/2018/08/kotlin-1-3-m2</a> and  <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/unsigned-types.md\" rel=\"nofollow noreferrer\">github.com/Kotlin/KEEP/blob/master/proposals/unsigned-types.&zwnj;&#8203;md</a>"}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1537139215, "post_id": 47151786, "comment_id": 91662584, "body": "What I suggested is maybe have the calculation in build time, so it&#39;s not the same as &quot;toInt()&quot;."}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1537194776, "post_id": 47151786, "comment_id": 91684680, "body": "Can you please update your answer to include the future way of how to use it? Currently I will give you +1, and when it&#39;s finally out, I will accept the answer."}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1537852478, "post_id": 47151786, "comment_id": 91922627, "body": "So you mean <code>textView.setTextColor(0xff000000u) </code> , because I think <code>0xff0000u</code>  might be a different color."}, {"owner": {"reputation": 1845, "user_id": 653284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/500fb691396f03a4222ecec99402728d?s=128&d=identicon&r=PG", "display_name": "Dmitry Sitnikov", "link": "https://stackoverflow.com/users/653284/dmitry-sitnikov"}, "reply_to_user": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 1, "creation_date": 1538075490, "post_id": 47151786, "comment_id": 92027126, "body": "@android-developer Sorry, yep. Updated the answer."}, {"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1570014543, "post_id": 47151786, "comment_id": 102778457, "body": "Today we use <code>1.3.50</code> version of Kotlin, and I still don&#39;t see &quot;u&quot; as something the IDE offers or allows. For example: <code>ColorDrawable(0xfff2f2f2u)</code> isn&#39;t allowed, but <code>ColorDrawable(0xfff2f2f2u.toInt())</code> is allowed. How come?"}, {"owner": {"reputation": 1845, "user_id": 653284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/500fb691396f03a4222ecec99402728d?s=128&d=identicon&r=PG", "display_name": "Dmitry Sitnikov", "link": "https://stackoverflow.com/users/653284/dmitry-sitnikov"}, "reply_to_user": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1570044502, "post_id": 47151786, "comment_id": 102794200, "body": "<a href=\"https://stackoverflow.com/users/878126/android-developer\">stackoverflow.com/users/878126/android-developer</a> even though UInt type is now supported IDE, Android Library doesn&#39;t accept this type yet <code>ColorDrawable</code> constructor only accepts int value, so explicit conversion is still required, unfortunately. Don&#39;t know if Android team is going to add UInt support. So the initial proposal is still valid: custom extension that supports either Long or UInt would do the job."}, {"owner": {"reputation": 1845, "user_id": 653284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/500fb691396f03a4222ecec99402728d?s=128&d=identicon&r=PG", "display_name": "Dmitry Sitnikov", "link": "https://stackoverflow.com/users/653284/dmitry-sitnikov"}, "reply_to_user": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 1, "creation_date": 1571161906, "post_id": 47151786, "comment_id": 103145575, "body": "<a href=\"https://stackoverflow.com/users/878126/android-developer\">stackoverflow.com/users/878126/android-developer</a> yep, &quot;u&quot; works and you can define the extension that takes UInt parameter like <code>textView.setTextColor(0xff000000u)</code> at least that will be less ambiguous than switching b/w original method and extension that takes Long."}], "tags": [], "owner": {"reputation": 1845, "user_id": 653284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/500fb691396f03a4222ecec99402728d?s=128&d=identicon&r=PG", "display_name": "Dmitry Sitnikov", "link": "https://stackoverflow.com/users/653284/dmitry-sitnikov"}, "is_accepted": false, "score": 6, "last_activity_date": 1538075454, "last_edit_date": 1538075454, "creation_date": 1510038058, "answer_id": 47151786, "question_id": 47001467, "link": "https://stackoverflow.com/questions/47001467/how-to-use-settextcolorhexavalue-on-kotlin-for-android/47151786#47151786", "title": "How to use &quot;setTextColor(hexaValue)&quot; on Kotlin for Android,", "body": "<p><code>Oxff000000</code> is resolved to Long in Kotlin so right now there is no way to use this literal as is, however <code>0xff000000.toInt()</code> will give you exactly the same result as <code>-0x1000000</code> so you can use <code>.toInt()</code> approach. \nUnder the hood, it's the equivalent of <code>(int)4278190080L</code> Java cast.</p>\n\n<p>Also, with Kotlin extensions you can write a simple property like that</p>\n\n<pre><code>var TextView.textColor: Long\nget() {\n    //... not important\n}\nset(value: Long) {\n    this.setTextColor(value.toInt())\n}\n</code></pre>\n\n<p>and you'll be able to use a more concise syntax <code>textView.textColor = 0xff000000</code></p>\n\n<p><strong>UPDATE</strong>:\nAs of Kotlin 1.3 it will be possible to use concise syntax like that <code>0xff000000u</code>\nSee: <a href=\"http://blog.jetbrains.com/kotlin/2018/08/kotlin-1-3-m2\" rel=\"nofollow noreferrer\">Jetbrains blog</a> and the <a href=\"http://github.com/Kotlin/KEEP/blob/master/proposals/unsigned-types.md\" rel=\"nofollow noreferrer\">original proposal</a></p>\n"}, {"comments": [{"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1536816408, "post_id": 52304483, "comment_id": 91561417, "body": "Maybe it&#39;s possible to have an extension function, that I give it the value as on Java, and it will convert it to the real value it&#39;s supposed to be?"}], "tags": [], "owner": {"reputation": 961, "user_id": 5045446, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b0f9a0fcf90f4cf01168739431310fed?s=128&d=identicon&r=PG", "display_name": "kiko carisse", "link": "https://stackoverflow.com/users/5045446/kiko-carisse"}, "is_accepted": false, "score": 12, "last_activity_date": 1536792702, "creation_date": 1536792702, "answer_id": 52304483, "question_id": 47001467, "link": "https://stackoverflow.com/questions/47001467/how-to-use-settextcolorhexavalue-on-kotlin-for-android/52304483#52304483", "title": "How to use &quot;setTextColor(hexaValue)&quot; on Kotlin for Android,", "body": "<pre><code>textView.setTextColor(Color.parseColor(\"#0aad3f\"))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1538124418, "post_id": 52549029, "comment_id": 92042067, "body": "I wanted to avoid using extra functions"}], "tags": [], "owner": {"reputation": 106, "user_id": 5090474, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-T-IlR0QVdCY/AAAAAAAAAAI/AAAAAAAARw0/-G3BccmSwCI/photo.jpg?sz=128", "display_name": "Sanket Naik", "link": "https://stackoverflow.com/users/5090474/sanket-naik"}, "is_accepted": false, "score": 1, "last_activity_date": 1538113469, "creation_date": 1538113469, "answer_id": 52549029, "question_id": 47001467, "link": "https://stackoverflow.com/questions/47001467/how-to-use-settextcolorhexavalue-on-kotlin-for-android/52549029#52549029", "title": "How to use &quot;setTextColor(hexaValue)&quot; on Kotlin for Android,", "body": "<pre><code>textview.setTextColor(\"#ffffff\".toColor())\n</code></pre>\n\n<p>toColor() in an extension function defined below. </p>\n\n<pre><code>fun String.toColor(): Int = Color.parseColor(this)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 327, "user_id": 10889271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d035943d1b9d213b47e6b3cdf8680f17?s=128&d=identicon&r=PG", "display_name": "Joozd", "link": "https://stackoverflow.com/users/10889271/joozd"}, "is_accepted": true, "score": 4, "last_activity_date": 1570011107, "creation_date": 1570011107, "answer_id": 58199506, "question_id": 47001467, "link": "https://stackoverflow.com/questions/47001467/how-to-use-settextcolorhexavalue-on-kotlin-for-android/58199506#58199506", "title": "How to use &quot;setTextColor(hexaValue)&quot; on Kotlin for Android,", "body": "<p>Sorry for putting something on such an old question, but an extension function really seemed like the nicest approach:</p>\n\n<pre><code>fun TextView.setTextColor(color: Long) = this.setTextColor(color.toInt())\n</code></pre>\n\n<p>now, you can just go <code>textView.setTextColor(0xff00ff00)</code> again</p>\n"}, {"tags": [], "owner": {"reputation": 175, "user_id": 4779999, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-EjC0ObR6bu4/AAAAAAAAAAI/AAAAAAAAABo/mmIe1R5vNnU/photo.jpg?sz=128", "display_name": "Imtiaz Dipto", "link": "https://stackoverflow.com/users/4779999/imtiaz-dipto"}, "is_accepted": false, "score": 4, "last_activity_date": 1575975488, "last_edit_date": 1575975488, "creation_date": 1575974577, "answer_id": 59265391, "question_id": 47001467, "link": "https://stackoverflow.com/questions/47001467/how-to-use-settextcolorhexavalue-on-kotlin-for-android/59265391#59265391", "title": "How to use &quot;setTextColor(hexaValue)&quot; on Kotlin for Android,", "body": "<p>for changing the text color, you can follow this - </p>\n\n<pre><code>textView.setTextColor(ContextCompat.getColor(applicationContext,R.color.colorAccent))\n</code></pre>\n"}], "owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20838, "favorite_count": 2, "accepted_answer_id": 58199506, "answer_count": 6, "score": 8, "last_activity_date": 1575975488, "creation_date": 1509288084, "last_edit_date": 1509288409, "question_id": 47001467, "link": "https://stackoverflow.com/questions/47001467/how-to-use-settextcolorhexavalue-on-kotlin-for-android", "title": "How to use &quot;setTextColor(hexaValue)&quot; on Kotlin for Android,", "body": "<h2>Background</h2>\n\n<p>In Java, I could directly change the text color of a TextView, using the standard hexa-decimal value of it:</p>\n\n<pre><code>    textView.setTextColor(0xffffffff); //white\n    textView.setTextColor(0x00000000); //transparent\n    textView.setTextColor(0xff000000); //black\n    textView.setTextColor(0xff0000ff); //blue\n    //etc...\n</code></pre>\n\n<p>Very easy...</p>\n\n<h2>The problem</h2>\n\n<p>On Kotlin, if I try to write such a thing, I get with a weird build error:</p>\n\n<blockquote>\n  <p>Error:(15, 18) None of the following functions can be called with the\n  arguments supplied: public open fun setTextColor(p0: ColorStateList!):\n  Unit defined in android.widget.TextView public open fun\n  setTextColor(p0: Int): Unit defined in android.widget.TextView</p>\n</blockquote>\n\n<h2>What I've tried</h2>\n\n<p>I tried to search about this over the Internet, and I couldn't see anything special about hexa-decimal values. Seems the same like on Java:</p>\n\n<p><a href=\"https://kotlinlang.org/docs/reference/basic-types.html\" rel=\"noreferrer\">https://kotlinlang.org/docs/reference/basic-types.html</a></p>\n\n<p>Then I decided to just write in Java, and convert to Kotlin. The result is very unreadable in terms of the color value:</p>\n\n<pre><code>    textView.setTextColor(-0x1) //white\n    textView.setTextColor(0x00000000) //transparent\n    textView.setTextColor(-0x1000000) //black\n    textView.setTextColor(-0xffff01) //blue\n</code></pre>\n\n<p>To me it seem that the hexadecimal value of Integer that is used for Kotlin is signed, while on Java it's converted to signed one automatically, so this causes flipping of values and the need to set a minus sign when needed.</p>\n\n<p>The only thing I can think of, that still allows to read it well, is something like this:</p>\n\n<pre><code>textView.setTextColor(Integer.parseUnsignedInt(\"ffff0000\",16));\n</code></pre>\n\n<p>However, this has multiple disadvantages:</p>\n\n<ol>\n<li>It is way longer.</li>\n<li>It converts a String, so it's much less efficient</li>\n<li>Most importantly: it works only from API 26 (Android O) , which currently is active on about 1% of Android devices worldwide.</li>\n</ol>\n\n<h2>The questions</h2>\n\n<p>Why does it occur?</p>\n\n<p>What exactly can I do to make it the most readable, without string conversions, and work on all Android versions (minSdkVersion 14 in my case) ? </p>\n"}, {"tags": ["reflection", "kotlin", "resultset", "sqlbulkcopy", "packed-decimal"], "answers": [{"tags": [], "owner": {"reputation": 1078, "user_id": 1045135, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/5acc14131a09fcafec2b1dbe8361ad8d?s=128&d=identicon&r=PG", "display_name": "Andrew", "link": "https://stackoverflow.com/users/1045135/andrew"}, "is_accepted": false, "score": 0, "last_activity_date": 1509331533, "creation_date": 1509331533, "answer_id": 47007460, "question_id": 47000818, "link": "https://stackoverflow.com/questions/47000818/kotlin-is-there-a-smart-way-to-throw-notimplementederror-for-all-the-methods-o/47007460#47007460", "title": "Kotlin - Is there a smart way to throw NotImplementedError for all the methods of a class?", "body": "<p>You can crate an Interface <code>MyResultSet</code> which inherit from <code>ResultSet</code>, and implement all methords to throw NotImplementedError. This is like your first solution in Java, but it's now an interface not a class, and give you more flexibility. Hope help.</p>\n\n<pre><code>interface MyResultSet : ResultSet {\n    fun bar() ...\n    fun foo() {\n        throw NotImplementedError()\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 73, "user_id": 8851528, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rD2UJbOc9K4/AAAAAAAAAAI/AAAAAAAAAI4/pOR8Q1vSK20/photo.jpg?sz=128", "display_name": "Fraquack", "link": "https://stackoverflow.com/users/8851528/fraquack"}, "edited": false, "score": 0, "creation_date": 1509441171, "post_id": 47023990, "comment_id": 81009661, "body": "This answer is an improving of @Andrew solutions, but basically shares the same idea. I would extend the interface providing a default implementation with TODO for each method. It&#39;s simple, the IDE would do the job, but I would produce a lot of boilerplate code."}], "tags": [], "owner": {"reputation": 1828, "user_id": 6386664, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d05db73070c86bfb908b2684794f633?s=128&d=identicon&r=PG", "display_name": "Fredy Mederos", "link": "https://stackoverflow.com/users/6386664/fredy-mederos"}, "is_accepted": false, "score": 1, "last_activity_date": 1509396874, "creation_date": 1509396874, "answer_id": 47023990, "question_id": 47000818, "link": "https://stackoverflow.com/questions/47000818/kotlin-is-there-a-smart-way-to-throw-notimplementederror-for-all-the-methods-o/47023990#47023990", "title": "Kotlin - Is there a smart way to throw NotImplementedError for all the methods of a class?", "body": "<p>Checkout the standard TODO function which marks a todo and also throws a NotImplementedError</p>\n\n<pre><code>/**\n * Always throws [NotImplementedError] stating that operation is not implemented.\n *\n * @param reason a string explaining why the implementation is missing.\n */\n@kotlin.internal.InlineOnly\npublic inline fun TODO(reason: String): Nothing = throw NotImplementedError(\"An operation is not implemented: $reason\")\n</code></pre>\n\n<p>Usage:</p>\n\n<pre><code>fun foo() {\n        TODO(\"It will be soon\")\n    }\n</code></pre>\n\n<p>With this way you can also find notImplemented fetures using the IDE \"todo\" tab. It is a plus.</p>\n"}], "owner": {"reputation": 73, "user_id": 8851528, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rD2UJbOc9K4/AAAAAAAAAAI/AAAAAAAAAI4/pOR8Q1vSK20/photo.jpg?sz=128", "display_name": "Fraquack", "link": "https://stackoverflow.com/users/8851528/fraquack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1470, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1559649498, "creation_date": 1509284286, "last_edit_date": 1516314771, "question_id": 47000818, "link": "https://stackoverflow.com/questions/47000818/kotlin-is-there-a-smart-way-to-throw-notimplementederror-for-all-the-methods-o", "title": "Kotlin - Is there a smart way to throw NotImplementedError for all the methods of a class?", "body": "<p>I need to implement an interface (<code>ResultSet</code>) having hundreds of methods. \nFor now, I'm going to implement only a subset of these methods, throwing a <code>NotImplementedError</code> for the others.</p>\n\n<p>In Java I found two solutions:</p>\n\n<ol>\n<li>Create an abstract class <code>AbstractResultSet</code> implementing <code>ResultSet</code>, declaring all methods to throw <code>NotImplementedError</code>. No hacks, but a lot of boilerplate code.</li>\n<li>Use <code>Proxy.newProxyInstance</code> to implement all methods together in the <code>InvocationHandler</code>. Less code but also less immediate to use for other coders.</li>\n</ol>\n\n<p>Is there a third option in Kotlin?</p>\n\n<p>In my case, I need to implement a a <code>ResultSet</code> over an IBM dataset (with packed decimals, binary fields, zoned numbers, rows with variable length, etc.) to import it in a SQLServer via <code>SQLServerBulkCopy</code>. I don't know which <code>ResultSet</code> methods are called by this class, so, for now, I'm going to implement only the \"most used\" methods, logging the calls to unimplemented method.</p>\n"}, {"tags": ["kotlin"], "comments": [{"owner": {"reputation": 19114, "user_id": 4137489, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4d6e58042c9b1e87df5f5df4796b389f?s=128&d=identicon&r=PG&f=1", "display_name": "marstran", "link": "https://stackoverflow.com/users/4137489/marstran"}, "edited": false, "score": 2, "creation_date": 1509277225, "post_id": 46998994, "comment_id": 80946103, "body": "There&#39;s a request to make you able to call it like <code>testClazz !equalsTen value</code> here: <a href=\"https://youtrack.jetbrains.com/issue/KT-5351\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-5351</a>"}], "answers": [{"tags": [], "owner": {"reputation": 402, "user_id": 8659898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5831f37460dfdcfbe6fa0a37d81cdfed?s=128&d=identicon&r=PG&f=1", "display_name": "CrazyApple", "link": "https://stackoverflow.com/users/8659898/crazyapple"}, "is_accepted": false, "score": 2, "last_activity_date": 1509272329, "creation_date": 1509272329, "answer_id": 46999032, "question_id": 46998994, "link": "https://stackoverflow.com/questions/46998994/reversing-an-infix-boolean-result-kotlin/46999032#46999032", "title": "Reversing an infix boolean result kotlin", "body": "<p>There is no syntactic sugar for that, you have to do it like this:</p>\n\n<pre><code>if(!(testClazz equalsTen value))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "is_accepted": true, "score": 4, "last_activity_date": 1509272459, "creation_date": 1509272459, "answer_id": 46999050, "question_id": 46998994, "link": "https://stackoverflow.com/questions/46998994/reversing-an-infix-boolean-result-kotlin/46999050#46999050", "title": "Reversing an infix boolean result kotlin", "body": "<p>You can do it wrapping it with brackets and using the <code>not</code> operator outside them:</p>\n\n<pre><code>if (!(testClazz equalsTen value)) { /* ... */ }\n</code></pre>\n\n<p>If you want to make the <code>infix</code> function more clear, you can create another <code>infix</code> function to reverse it:</p>\n\n<pre><code>infix fun notEqualsTen(value:Int) = !equalsTen(value)\n</code></pre>\n\n<p>And use it in this way: </p>\n\n<pre><code>if (testClazz notEqualsTen value) { /* ... */ }\n</code></pre>\n"}], "owner": {"reputation": 162, "user_id": 6007933, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/f72431438a72df4a67d525e25807e256?s=128&d=identicon&r=PG&f=1", "display_name": "Alon .G.", "link": "https://stackoverflow.com/users/6007933/alon-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 46999050, "answer_count": 2, "score": 0, "last_activity_date": 1509272459, "creation_date": 1509272044, "question_id": 46998994, "link": "https://stackoverflow.com/questions/46998994/reversing-an-infix-boolean-result-kotlin", "title": "Reversing an infix boolean result kotlin", "body": "<p>I have an infix function, let's say it's this one:</p>\n\n<pre><code>class test{\n     infix fun equalsTen(value:Int):Boolean = value.equals(10)\n}\n</code></pre>\n\n<p>Obviously this isn't the real function, just an example.<br>\nAdditionally Lets say that I have this function:</p>\n\n<pre><code>fun doSomething(value: Int){\n    val testClazz = test()\n    if(testClazz equalsTen value){//line 3\n        //do something\n    }\n}\n</code></pre>\n\n<p>How can I reverse the condition in line 3?<br>\nRight now it's basically:</p>\n\n<p><code>if(testClazz.equalsTen(value)){...}</code></p>\n\n<p>How can I change it to be:</p>\n\n<p><code>if(!testClazz.equalsTen(value)){...}</code></p>\n\n<p>While keeping the infix expression?</p>\n"}, {"tags": ["constructor", "kotlin", "init"], "answers": [{"tags": [], "owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "is_accepted": false, "score": 2, "last_activity_date": 1509272059, "creation_date": 1509272059, "answer_id": 46998996, "question_id": 46998128, "link": "https://stackoverflow.com/questions/46998128/when-to-use-lateinit-init-block-and-companion-object-kotlin/46998996#46998996", "title": "when to use lateinit, init block, and companion object. Kotlin", "body": "<blockquote>\n  <p>Please let me know if this is correct usage or thing's for me to\n  change if it is not.</p>\n</blockquote>\n\n<p>There are two things that I'll point out regarding your code.</p>\n\n<ol>\n<li>You don't need the <code>lateinit</code> keyword on both <code>mmServerSocket</code> and <code>mSocketType</code> because you are initializing both variables in the constructor. You would have needed it, if the variables would have been initialized after the creation.</li>\n<li>There's one case that can throw an exception. The variable <code>tmp</code> can be null if an <code>IOException</code> is thrown. In that case, when you assign <code>tmp</code> to <code>mmServerSocket</code> a <code>KotlinNullPointerException</code> will be thrown.\nYou have several possibilities to fix it: you can handle a default case in the <code>catch</code> block, you can make <code>mmServerSocket</code> nullable, etc..</li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "edited": false, "score": 0, "creation_date": 1509302189, "post_id": 47000470, "comment_id": 80954075, "body": "the only problem I am having with this is that I am unable to use Val for mmServerSocket. I am getting a message that property must be initialized or abstract. So don&#39;t use lateinit? Just make it a nullable var? What would you suggest?"}, {"owner": {"reputation": 408, "user_id": 2881550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8kv.jpg?s=128&g=1", "display_name": "ItWillDo", "link": "https://stackoverflow.com/users/2881550/itwilldo"}, "reply_to_user": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "edited": false, "score": 0, "creation_date": 1509306501, "post_id": 47000470, "comment_id": 80955432, "body": "So apparently with try-catch blocks you can&#39;t use val, which sort of makes sense considering the try-catch implies you&#39;re not guaranteed to get a valid value for the variable. So I think the best practice here would be to use a nullable var."}, {"owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "edited": false, "score": 0, "creation_date": 1509306587, "post_id": 47000470, "comment_id": 80955468, "body": "ok thanks for the help. I have made these changes and all is working well."}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "edited": false, "score": 0, "creation_date": 1509337853, "post_id": 47000470, "comment_id": 80962890, "body": "Here, if <code>try-catch</code> fails, you end up with a useless object (at least it seems so to me). So don&#39;t catch it, or if you do, rethrow the exception."}], "tags": [], "owner": {"reputation": 408, "user_id": 2881550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Tq8kv.jpg?s=128&g=1", "display_name": "ItWillDo", "link": "https://stackoverflow.com/users/2881550/itwilldo"}, "is_accepted": true, "score": 3, "last_activity_date": 1509282134, "creation_date": 1509282134, "answer_id": 47000470, "question_id": 46998128, "link": "https://stackoverflow.com/questions/46998128/when-to-use-lateinit-init-block-and-companion-object-kotlin/47000470#47000470", "title": "when to use lateinit, init block, and companion object. Kotlin", "body": "<p>You don't need <code>lateinit</code> here considering you're initialising your variables in the constructor. If you would for example initialise the variables in a lifecycle method like onCreate(), then you could use a <code>lateinit var</code>.</p>\n\n<p>Also, I think you could refactor your init block to eliminate the tmp variable: </p>\n\n<pre><code>inner class AcceptThread(val secure:Boolean) : Thread() {\nval mmServerSocket: BluetoothServerSocket\nval mSocketType: String = if (secure) \"Secure\" else \"Insecure\"\n\ninit {\n    try {\n        mmServerSocket = if (secure) {\n            mAdapter.listenUsingRfcommWithServiceRecord(NAME_SECURE, UUID_SECURE)\n        } else {\n            mAdapter.listenUsingInsecureRfcommWithServiceRecord(NAME_INSECURE, UUID_INSECURE)\n        }\n    } catch (ioe: IOException) {\n        Log.e(TAG, \"Socket Type: $mSocketType listen() failed\", ioe)\n    }\n    mState = STATE_LISTEN\n}\n</code></pre>\n"}], "owner": {"reputation": 466, "user_id": 7780673, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/a9465c6e30757980e2c2d710f824523a?s=128&d=identicon&r=PG", "display_name": "Mox_z", "link": "https://stackoverflow.com/users/7780673/mox-z"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2715, "favorite_count": 0, "accepted_answer_id": 47000470, "answer_count": 2, "score": 1, "last_activity_date": 1509282134, "creation_date": 1509264845, "question_id": 46998128, "link": "https://stackoverflow.com/questions/46998128/when-to-use-lateinit-init-block-and-companion-object-kotlin", "title": "when to use lateinit, init block, and companion object. Kotlin", "body": "<p>I am working on the android Bluetooth chat project from the developer site and i am trying to use Kotlin instead of java. i am new to Kotlin and i am just having some confusion about the \"right\" way to use my init block and lateinit keyword along with my companion objects. in the code that i am posting i do not have a companion object but i am wondering if i should. so far i mainly just use a companion object as a way to sort of imitate java's static class members, or to sometimes contain class constants. as for my init block i am basically using for a constructor. That is other that the assignment of members passed in through the actual constructor defined in the class declaration. As for lateinit, i am using that to declare members that i don't want to immediately initialize but also don't want to make nullable. Please let me know if this is correct usage or thing's for me to change if it is not. Here is my code:</p>\n\n<pre><code>    inner class AcceptThread(val secure:Boolean) : Thread(){\n    lateinit var mmServerSocket:BluetoothServerSocket\n    lateinit var mSocketType:String\n\n    init {\n        var tmp:BluetoothServerSocket? = null\n        mSocketType = if (secure) \"Secure\" else \"Insecure\"\n\n        try {\n            if (secure){\n                tmp = mAdapter.listenUsingRfcommWithServiceRecord(NAME_SECURE, UUID_SECURE)\n            } else{\n                tmp = mAdapter.listenUsingInsecureRfcommWithServiceRecord(NAME_INSECURE, UUID_INSECURE)\n            }\n        }catch (ioe:IOException){\n            Log.e(TAG, \"Socket Type: $mSocketType listen() failed\", ioe)\n        }\n        mmServerSocket = tmp!!\n        mState = STATE_LISTEN\n    }\n}\n</code></pre>\n"}, {"tags": ["kotlin", "actor", "kotlinx.coroutines"], "answers": [{"comments": [{"owner": {"reputation": 182, "user_id": 2734842, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6f1OR.png?s=128&g=1", "display_name": "Elforama", "link": "https://stackoverflow.com/users/2734842/elforama"}, "edited": false, "score": 1, "creation_date": 1509237200, "post_id": 46995213, "comment_id": 80938127, "body": "So basically I have to send a callback in my message, there isn&#39;t a built in method."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 182, "user_id": 2734842, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6f1OR.png?s=128&g=1", "display_name": "Elforama", "link": "https://stackoverflow.com/users/2734842/elforama"}, "edited": false, "score": 1, "creation_date": 1509295115, "post_id": 46995213, "comment_id": 80951741, "body": "Exactly, hope it helped!"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 6, "last_activity_date": 1517063111, "last_edit_date": 1517063111, "creation_date": 1509230631, "answer_id": 46995213, "question_id": 46995149, "link": "https://stackoverflow.com/questions/46995149/kotlin-actor-to-actor-communication/46995213#46995213", "title": "Kotlin actor to actor communication", "body": "<p>You need to request the <code>Actor</code>\u2019s <code>channel</code>,\nas <a href=\"https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines.experimental.channels/actor.html\" rel=\"nofollow noreferrer\">documented</a>:</p>\n\n<blockquote>\n  <p>[The <code>actor</code> coroutine builder] Launches new coroutine that is <em>receiving messages from its mailbox channel</em> and returns a reference to the coroutine as an <code>ActorJob</code>. The resulting object <em>can be used to send messages</em> to this coroutine.</p>\n</blockquote>\n\n<p>Here\u2019s a simple <a href=\"https://github.com/s1monw1/Kotlin_Examples/blob/master/src/main/kotlin/de/swirtz/kotlin/coroutines/ActorExample.kt\" rel=\"nofollow noreferrer\">example</a>.</p>\n"}], "owner": {"reputation": 182, "user_id": 2734842, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/6f1OR.png?s=128&g=1", "display_name": "Elforama", "link": "https://stackoverflow.com/users/2734842/elforama"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1038, "favorite_count": 0, "accepted_answer_id": 46995213, "answer_count": 1, "score": 4, "last_activity_date": 1517063111, "creation_date": 1509230042, "last_edit_date": 1517061788, "question_id": 46995149, "link": "https://stackoverflow.com/questions/46995149/kotlin-actor-to-actor-communication", "title": "Kotlin actor to actor communication", "body": "<p>An actor can be sent a message with <code>actor.send()</code> or <code>actor.offer()</code>\nOnce my actor gets the message from its channel I'd like to return a response. How do I do this? I don't see any obvious built in method.</p>\n"}, {"tags": ["android", "firebase", "kotlin", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 233, "user_id": 3440973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a23376c9bd213dab7014896ba00934d?s=128&d=identicon&r=PG&f=1", "display_name": "ZerroShadows", "link": "https://stackoverflow.com/users/3440973/zerroshadows"}, "edited": false, "score": 0, "creation_date": 1509300445, "post_id": 46999773, "comment_id": 80953494, "body": "What I&#39;m trying to do is get the id into my Client model so that I can reference on click in my list view. I&#39;m not seeing any way to keep a reference to it."}, {"owner": {"reputation": 1461, "user_id": 2489403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f4sCF.jpg?s=128&g=1", "display_name": "amrro", "link": "https://stackoverflow.com/users/2489403/amrro"}, "reply_to_user": {"reputation": 233, "user_id": 3440973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a23376c9bd213dab7014896ba00934d?s=128&d=identicon&r=PG&f=1", "display_name": "ZerroShadows", "link": "https://stackoverflow.com/users/3440973/zerroshadows"}, "edited": false, "score": 0, "creation_date": 1509318484, "post_id": 46999773, "comment_id": 80958926, "body": "Then your question has no business to do with firebase! (depending on your answer too.)  you could create any custom builder you want."}, {"owner": {"reputation": 1461, "user_id": 2489403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f4sCF.jpg?s=128&g=1", "display_name": "amrro", "link": "https://stackoverflow.com/users/2489403/amrro"}, "reply_to_user": {"reputation": 233, "user_id": 3440973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a23376c9bd213dab7014896ba00934d?s=128&d=identicon&r=PG&f=1", "display_name": "ZerroShadows", "link": "https://stackoverflow.com/users/3440973/zerroshadows"}, "edited": false, "score": 0, "creation_date": 1509414012, "post_id": 46999773, "comment_id": 81000445, "body": "Does that answer your question?"}, {"owner": {"reputation": 383, "user_id": 4186208, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-kCSGfbbC2eo/AAAAAAAAAAI/AAAAAAAAAAs/sOBTZtOoX5E/photo.jpg?sz=128", "display_name": "Divya Galla", "link": "https://stackoverflow.com/users/4186208/divya-galla"}, "edited": false, "score": 0, "creation_date": 1514876818, "post_id": 46999773, "comment_id": 83085869, "body": "Hey, can you say  something about getting the document id that satisfies some constraints(we can use queries) in Javascript?"}, {"owner": {"reputation": 1461, "user_id": 2489403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f4sCF.jpg?s=128&g=1", "display_name": "amrro", "link": "https://stackoverflow.com/users/2489403/amrro"}, "reply_to_user": {"reputation": 383, "user_id": 4186208, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh6.googleusercontent.com/-kCSGfbbC2eo/AAAAAAAAAAI/AAAAAAAAAAs/sOBTZtOoX5E/photo.jpg?sz=128", "display_name": "Divya Galla", "link": "https://stackoverflow.com/users/4186208/divya-galla"}, "edited": false, "score": 0, "creation_date": 1515861655, "post_id": 46999773, "comment_id": 83466265, "body": "Hello @DivyaGalla  Sorry for late response. But I guess this would help you, and constrains like what?  <a href=\"https://firebase.google.com/docs/reference/js/firebase.firestore.DocumentSnapshot#~id\" rel=\"nofollow noreferrer\">firebase.google.com/docs/reference/js/&hellip;</a>"}, {"owner": {"reputation": 2004, "user_id": 2529315, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/xraFC.png?s=128&g=1", "display_name": "Johnny", "link": "https://stackoverflow.com/users/2529315/johnny"}, "edited": false, "score": 0, "creation_date": 1524408072, "post_id": 46999773, "comment_id": 86949926, "body": "When I use .add() it sent an empty &#39;id&#39; field to firestore into my document :-/"}], "tags": [], "owner": {"reputation": 1461, "user_id": 2489403, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/f4sCF.jpg?s=128&g=1", "display_name": "amrro", "link": "https://stackoverflow.com/users/2489403/amrro"}, "is_accepted": true, "score": 29, "last_activity_date": 1598850185, "last_edit_date": 1598850185, "creation_date": 1509277576, "answer_id": 46999773, "question_id": 46995080, "link": "https://stackoverflow.com/questions/46995080/how-do-i-get-the-document-id-for-a-firestore-document-using-kotlin-data-classes/46999773#46999773", "title": "How do I get the document ID for a Firestore document using kotlin data classes", "body": "<p>Yes, it's possible to get id without storing it, using <code>DocumentSnapshot</code>. I will try to build complete examples here.</p>\n<p>I created a general Model class to hold the id:</p>\n<pre><code>@IgnoreExtraProperties\npublic class Model {\n    @Exclude\n    public String id;\n\n    public &lt;T extends Model&gt; T withId(@NonNull final String id) {\n        this.id = id;\n        return (T) this;\n    }\n}\n</code></pre>\n<p>Then you extend it with any model, no need to implement anything:</p>\n<pre><code>public class Client extends Model\n</code></pre>\n<p>If I have list of clients here, trying to query the list to get only clients with <code>age == 20</code>:</p>\n<pre><code>clients.whereEqualTo(&quot;age&quot;, 20)\n        .get()\n        .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                if (task.isSuccessful()) {\n                    for (DocumentSnapshot documentSnapshot : task.getResult().getDocuments()) {\n                        // here you can get the id. \n                        Client client = document.toObject(client.class).withId(document.getId());\n                       // you can apply your actions...\n                    }\n                } else {\n\n                }\n            }\n        });\n</code></pre>\n<p>And if you are using <code>EventListener</code>, you can also get the id like the following:</p>\n<pre><code>clients.addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onEvent(QuerySnapshot documentSnapshots, FirebaseFirestoreException e) {\n        for (DocumentChange change : documentSnapshots.getDocumentChanges()) {\n            // here you can get the id. \n            QueryDocumentSnapshot document = change.getDocument();\n            Client client = document.toObject(client.class).withId(document.getId());\n                       // you can apply your actions...\n        }\n    }\n});\n</code></pre>\n<p><a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot.html#getId()\" rel=\"nofollow noreferrer\"><code>documentSnapshot.getId())</code></a> will get you the id of the Document in the collection without saving the id into the document.</p>\n<p>Using Model will not let you edit any of your models, and don't forget using <code>@IgnoreExtraProperties</code></p>\n"}, {"tags": [], "owner": {"reputation": 233, "user_id": 3440973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a23376c9bd213dab7014896ba00934d?s=128&d=identicon&r=PG&f=1", "display_name": "ZerroShadows", "link": "https://stackoverflow.com/users/3440973/zerroshadows"}, "is_accepted": false, "score": 8, "last_activity_date": 1509315827, "creation_date": 1509315827, "answer_id": 47005873, "question_id": 46995080, "link": "https://stackoverflow.com/questions/46995080/how-do-i-get-the-document-id-for-a-firestore-document-using-kotlin-data-classes/47005873#47005873", "title": "How do I get the document ID for a Firestore document using kotlin data classes", "body": "<p>Here is how I solved the problem. </p>\n\n<pre><code>data class Client(\n    val name: String = \"\",\n    val email: String = \"\",\n    val phone: String =\"\",\n    @get:Exclude var id: String = \"\") {\nconstructor():this(\"\",\"\",\"\")\n}\n</code></pre>\n\n<p>I use @get:Exclude on the id to make sure the id doesn't get sent to Firestore on save, and then when fetching the list of clients do:</p>\n\n<pre><code>snapshot.documents.mapTo(list) {\n            var obj = it.toObject(Client::class.java)\n            obj.id = it.id\n            obj\n        }\n</code></pre>\n\n<p>Setting the id of the new object to the id of the document reference.</p>\n"}, {"comments": [{"owner": {"reputation": 849, "user_id": 5199320, "user_type": "registered", "profile_image": "https://graph.facebook.com/965526723469301/picture?type=large", "display_name": "Rafal Zawadzki", "link": "https://stackoverflow.com/users/5199320/rafal-zawadzki"}, "edited": false, "score": 1, "creation_date": 1523769287, "post_id": 49794780, "comment_id": 86692364, "body": "Brilliant! Helped me a lot. Also, still amazes me how Kotlin can make your life so much easier...."}], "tags": [], "owner": {"reputation": 1568, "user_id": 2358040, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/MUizv.jpg?s=128&g=1", "display_name": "iCediCe", "link": "https://stackoverflow.com/users/2358040/icedice"}, "is_accepted": false, "score": 7, "last_activity_date": 1523530689, "creation_date": 1523530689, "answer_id": 49794780, "question_id": 46995080, "link": "https://stackoverflow.com/questions/46995080/how-do-i-get-the-document-id-for-a-firestore-document-using-kotlin-data-classes/49794780#49794780", "title": "How do I get the document ID for a Firestore document using kotlin data classes", "body": "<p>I solved it by creating a extension method on QueryDocumentSnapshot like this:</p>\n\n<pre><code>inline fun &lt;reified T : HasId&gt;QueryDocumentSnapshot.toObjectWithId(): T {\n    val model = this.toObject(T::class.java)\n    model.id = this.id\n    return  model\n}\n</code></pre>\n\n<p>Now I can map like this (which I find to look nice and clean):<br>\n   <code>myModelWithId =  it.toObjectWithId&lt;MyModel&gt;()</code></p>\n\n<p>For this to work I made a simple hasId interface that the model needs to implement: </p>\n\n<pre><code>interface HasId{\n    var id : String\n}\n\n@IgnoreExtraProperties\ndata class MyModel(\n        @get:Exclude override var id : String    = \"\",\n        val data                     : String    = \"\",\n\n): Serializable, HasId\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1711, "user_id": 1898767, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/E1Xt3.jpg?s=128&g=1", "display_name": "Mavamaarten", "link": "https://stackoverflow.com/users/1898767/mavamaarten"}, "edited": false, "score": 0, "creation_date": 1559053897, "post_id": 52030929, "comment_id": 99293977, "body": "I&#39;m not sure how you got this to work. In order for the firebase (de)serializer to work, your <code>User</code> class would need a no-parameter constructor. <code>id</code> being a non-nullable var destroys that ability?"}], "tags": [], "owner": {"reputation": 2852, "user_id": 3047318, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/QPoQU.jpg?s=128&g=1", "display_name": "Pavel Shorokhov", "link": "https://stackoverflow.com/users/3047318/pavel-shorokhov"}, "is_accepted": false, "score": 9, "last_activity_date": 1535330301, "last_edit_date": 1535330301, "creation_date": 1535325417, "answer_id": 52030929, "question_id": 46995080, "link": "https://stackoverflow.com/questions/46995080/how-do-i-get-the-document-id-for-a-firestore-document-using-kotlin-data-classes/52030929#52030929", "title": "How do I get the document ID for a Firestore document using kotlin data classes", "body": "<p>I just improved the solution of @iCediCe, and add methods to DocumentSnapshot and QuerySnapshot.</p>\n\n<pre><code>interface HasId {\n    var id : String\n}\n\ninline fun &lt;reified T : HasId&gt; DocumentSnapshot.toObjectWithId(): T {\n    return this.toObject(T::class.java)!!.also {\n        it.id = this.id\n    }\n}\n\ninline fun &lt;reified T : HasId&gt; QuerySnapshot.toObjectsWithId(): List&lt;T&gt; {\n    return this.documents.map {\n        it.toObjectWithId&lt;T&gt;()\n    }\n}\n</code></pre>\n\n<p>And usage:</p>\n\n<pre><code>data class User(\n    @get:Exclude\n    override var id: String,\n    ...\n): HasId\n\n\nval user = documentSnapshot.toObjectWithId&lt;User&gt;()\nval users = querySnapshot.toObjectsWithId&lt;User&gt;()\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2654, "user_id": 1177083, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/KKeqN.jpg?s=128&g=1", "display_name": "4ndro1d", "link": "https://stackoverflow.com/users/1177083/4ndro1d"}, "is_accepted": false, "score": 0, "last_activity_date": 1552584303, "creation_date": 1552584303, "answer_id": 55168644, "question_id": 46995080, "link": "https://stackoverflow.com/questions/46995080/how-do-i-get-the-document-id-for-a-firestore-document-using-kotlin-data-classes/55168644#55168644", "title": "How do I get the document ID for a Firestore document using kotlin data classes", "body": "<p>I just fetch an id from Firestore before and set it as a field on my object before I create it in Firebase:</p>\n\n<pre><code>    override fun addTodo(todo: Todo) =\n    Completable.fromAction {\n        val id = firestore\n            .collection(COLLECTION_TODOS)\n            .document()\n            .id\n\n        val newTodo = todo.copy(id = id)\n\n        firestore\n            .collection(COLLECTION_TODOS)\n            .document(id)\n            .set(newTodo)\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1888, "user_id": 8536239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef95deb577f83fc571bc5ab416461daa?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff Padgett", "link": "https://stackoverflow.com/users/8536239/jeff-padgett"}, "is_accepted": false, "score": 21, "last_activity_date": 1604246675, "last_edit_date": 1604246675, "creation_date": 1566774915, "answer_id": 57650361, "question_id": 46995080, "link": "https://stackoverflow.com/questions/46995080/how-do-i-get-the-document-id-for-a-firestore-document-using-kotlin-data-classes/57650361#57650361", "title": "How do I get the document ID for a Firestore document using kotlin data classes", "body": "<p>Great solutions.  Looks like Firestore came up with a way to add an annotation to your model to solve this problem.</p>\n<p>You could do:</p>\n<pre><code>@DocumentId\nval documentId: String\n</code></pre>\n<p>And then Firestore will generate that field when calling <code>toObject</code> or <code>toObjects</code>.  When you <code>.set()</code> the document in Firestore, it will exclude this field.</p>\n"}], "owner": {"reputation": 233, "user_id": 3440973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6a23376c9bd213dab7014896ba00934d?s=128&d=identicon&r=PG&f=1", "display_name": "ZerroShadows", "link": "https://stackoverflow.com/users/3440973/zerroshadows"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16357, "favorite_count": 11, "accepted_answer_id": 46999773, "answer_count": 6, "score": 15, "last_activity_date": 1604246675, "creation_date": 1509229425, "question_id": 46995080, "link": "https://stackoverflow.com/questions/46995080/how-do-i-get-the-document-id-for-a-firestore-document-using-kotlin-data-classes", "title": "How do I get the document ID for a Firestore document using kotlin data classes", "body": "<p>I have kotlin data class </p>\n\n<pre><code>data class Client(\n\n    val name: String = \"\",\n    val email: String = \"\",\n    val phone: String =\"\") {\nconstructor():this(\"\",\"\",\"\")}\n</code></pre>\n\n<p>I have firestore populate the data into the class just fine, however I am at a loss trying to figure out how to get the document id into the data class without having to set it in the document itself. Is this possible? </p>\n"}, {"tags": ["intellij-idea", "kotlin", "intellij-idea2017"], "comments": [{"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1509240833, "post_id": 46993414, "comment_id": 80938631, "body": "Shift F10. Why don&#39;t you just look it up in the IntelliJ menu?"}, {"owner": {"reputation": 29, "user_id": 8180535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d987524fcd2d877bc12e9c311bc766?s=128&d=identicon&r=PG&f=1", "display_name": "Chuckinator", "link": "https://stackoverflow.com/users/8180535/chuckinator"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1509241134, "post_id": 46993414, "comment_id": 80938670, "body": "Because it&#39;s not their until you push ctrl+shift+f10. But thank you I eventually figured it out."}, {"owner": {"reputation": 2135, "user_id": 2129937, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6e094c2c15902eb3e9e69ff7768a1959?s=128&d=identicon&r=PG", "display_name": "matt helliwell", "link": "https://stackoverflow.com/users/2129937/matt-helliwell"}, "edited": false, "score": 0, "creation_date": 1509275477, "post_id": 46993414, "comment_id": 80945604, "body": "You can do short-ctrl-a to search for an action by name. Or double shift to search for anything by name."}, {"owner": {"reputation": 29, "user_id": 8180535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d987524fcd2d877bc12e9c311bc766?s=128&d=identicon&r=PG&f=1", "display_name": "Chuckinator", "link": "https://stackoverflow.com/users/8180535/chuckinator"}, "edited": false, "score": 0, "creation_date": 1509280579, "post_id": 46993414, "comment_id": 80947066, "body": "Yeh I saw that when I was spamming buttons, but thanks now I know."}, {"owner": {"reputation": 29, "user_id": 8180535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d987524fcd2d877bc12e9c311bc766?s=128&d=identicon&r=PG&f=1", "display_name": "Chuckinator", "link": "https://stackoverflow.com/users/8180535/chuckinator"}, "edited": false, "score": 0, "creation_date": 1509306638, "post_id": 46993414, "comment_id": 80955481, "body": "It&#39;s related to an IDE(a widely used one at that)."}], "answers": [{"tags": [], "owner": {"reputation": 316, "user_id": 1656012, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Fxpzf.png?s=128&g=1", "display_name": "Trenton Telge", "link": "https://stackoverflow.com/users/1656012/trenton-telge"}, "is_accepted": false, "score": 0, "last_activity_date": 1510072988, "creation_date": 1510072988, "answer_id": 47163158, "question_id": 46993414, "link": "https://stackoverflow.com/questions/46993414/intellij-shortcut-for-run-configuration/47163158#47163158", "title": "IntelliJ shortcut for Run Configuration", "body": "<p>Alt-Shift-F10 on Windows<br>\nOption-Shift-R on Mac OS</p>\n\n<p>It may be helpful to print out the cheat sheet:</p>\n\n<p><a href=\"https://resources.jetbrains.com/storage/products/intellij-idea/docs/IntelliJIDEA_ReferenceCard.pdf\" rel=\"nofollow noreferrer\">https://resources.jetbrains.com/storage/products/intellij-idea/docs/IntelliJIDEA_ReferenceCard.pdf</a></p>\n"}], "owner": {"reputation": 29, "user_id": 8180535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d987524fcd2d877bc12e9c311bc766?s=128&d=identicon&r=PG&f=1", "display_name": "Chuckinator", "link": "https://stackoverflow.com/users/8180535/chuckinator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 341, "favorite_count": 1, "answer_count": 1, "score": -1, "last_activity_date": 1510072988, "creation_date": 1509217542, "question_id": 46993414, "link": "https://stackoverflow.com/questions/46993414/intellij-shortcut-for-run-configuration", "title": "IntelliJ shortcut for Run Configuration", "body": "<p>I recently changed Linux distros and I have forgotten what the keyboard shortcut is for making a run configuration in Kotlin in IntelliJ.\nThank you in advance.</p>\n"}, {"tags": ["android", "android-layout", "android-fragments", "kotlin", "android-nestedscrollview"], "comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1509520447, "post_id": 46992623, "comment_id": 81046753, "body": "Can you post a simple project with that behavior in github?"}, {"owner": {"reputation": 2207, "user_id": 4101826, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BrRYa.jpg?s=128&g=1", "display_name": "Mitesh Vanaliya", "link": "https://stackoverflow.com/users/4101826/mitesh-vanaliya"}, "edited": false, "score": 0, "creation_date": 1509536296, "post_id": 46992623, "comment_id": 81054720, "body": "Can you provide code for @layout/app_bar.xml"}, {"owner": {"reputation": 1271, "user_id": 4763712, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-Pxz1C9E2ZjQ/AAAAAAAAAAI/AAAAAAAAAac/Y2a9HgBEQ48/photo.jpg?sz=128", "display_name": "Amjad Khan", "link": "https://stackoverflow.com/users/4763712/amjad-khan"}, "edited": false, "score": 0, "creation_date": 1509541969, "post_id": 46992623, "comment_id": 81058293, "body": "can you remove CoordinatorLayout n try"}, {"owner": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1509552481, "post_id": 46992623, "comment_id": 81065429, "body": "@azizbekian sure, I&#39;ll do it when I get some time tonight after work!"}, {"owner": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "reply_to_user": {"reputation": 2207, "user_id": 4101826, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/BrRYa.jpg?s=128&g=1", "display_name": "Mitesh Vanaliya", "link": "https://stackoverflow.com/users/4101826/mitesh-vanaliya"}, "edited": false, "score": 0, "creation_date": 1509552488, "post_id": 46992623, "comment_id": 81065432, "body": "@MiteshVanaliya done!"}, {"owner": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "reply_to_user": {"reputation": 1271, "user_id": 4763712, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh3.googleusercontent.com/-Pxz1C9E2ZjQ/AAAAAAAAAAI/AAAAAAAAAac/Y2a9HgBEQ48/photo.jpg?sz=128", "display_name": "Amjad Khan", "link": "https://stackoverflow.com/users/4763712/amjad-khan"}, "edited": false, "score": 0, "creation_date": 1509552496, "post_id": 46992623, "comment_id": 81065443, "body": "@AmjadKhan I tried that and it didn&#39;t help, I still end up with the same result as picture #2"}, {"owner": {"reputation": 1520, "user_id": 5921902, "user_type": "registered", "accept_rate": 30, "profile_image": "https://graph.facebook.com/10208338650813438/picture?type=large", "display_name": "David Seroussi", "link": "https://stackoverflow.com/users/5921902/david-seroussi"}, "edited": false, "score": 0, "creation_date": 1509552881, "post_id": 46992623, "comment_id": 81065689, "body": "Could you try with a LinearLayout instead of a RelativeLayout ? and you can remove the CoordinatorLayout inside the home_fragment.xml, it&#39;s useless"}, {"owner": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "reply_to_user": {"reputation": 1520, "user_id": 5921902, "user_type": "registered", "accept_rate": 30, "profile_image": "https://graph.facebook.com/10208338650813438/picture?type=large", "display_name": "David Seroussi", "link": "https://stackoverflow.com/users/5921902/david-seroussi"}, "edited": false, "score": 0, "creation_date": 1509556690, "post_id": 46992623, "comment_id": 81068111, "body": "@DavidSeroussi Did as you suggested, there was no discernible change - I&#39;ll update my post with the new code!"}, {"owner": {"reputation": 1520, "user_id": 5921902, "user_type": "registered", "accept_rate": 30, "profile_image": "https://graph.facebook.com/10208338650813438/picture?type=large", "display_name": "David Seroussi", "link": "https://stackoverflow.com/users/5921902/david-seroussi"}, "edited": false, "score": 0, "creation_date": 1509566767, "post_id": 46992623, "comment_id": 81073755, "body": "I think the issue comes from the constant height of the NestedScrollView, and perhaps other messed up constraints. You should try building your layout directly in xml, not in edit mode, and avoiding constants. Try using only constraints that are screen-size independant. If you don&#39;t succed I will post a complete answer"}, {"owner": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1509648572, "post_id": 46992623, "comment_id": 81114438, "body": "@azizbekian I added a github link in my original post! It contains the most recent updated code (see the answer given below for more context) and at this point, the NestedScrollView has now stopped scrolling entirely."}], "answers": [{"comments": [{"owner": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "edited": false, "score": 0, "creation_date": 1509644049, "post_id": 47080762, "comment_id": 81111897, "body": "Just to make sure I follow, when you say to get rid of the relativelayout, you&#39;re referring to the one within the NestedScrollView? If that&#39;s the case, that&#39;s not possible, as NestedScrollViews are only allowed one direct child, so I need some form of layout within it so as not to throw errors."}, {"owner": {"reputation": 451, "user_id": 5390707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eMri2.jpg?s=128&g=1", "display_name": "theThapa", "link": "https://stackoverflow.com/users/5390707/thethapa"}, "reply_to_user": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "edited": false, "score": 0, "creation_date": 1509645483, "post_id": 47080762, "comment_id": 81112708, "body": "@TaiM. I edited the answer a bit. I was trying to add that in the comment, but couldn&#39;t do that. This should help."}, {"owner": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "edited": false, "score": 0, "creation_date": 1509646862, "post_id": 47080762, "comment_id": 81113476, "body": "Followed your example, but now the content won&#39;t scroll at all, the recyclerviews work, but the nestedscrollview itself won&#39;t function properly. I think I&#39;m going to create a separate repository with JUST this section of code to see if someone can reproduce the issue I&#39;m going through, I feel that may be easier than just using code snippets."}, {"owner": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "edited": false, "score": 0, "creation_date": 1509648592, "post_id": 47080762, "comment_id": 81114449, "body": "I added the github link to the original post!"}, {"owner": {"reputation": 451, "user_id": 5390707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eMri2.jpg?s=128&g=1", "display_name": "theThapa", "link": "https://stackoverflow.com/users/5390707/thethapa"}, "reply_to_user": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "edited": false, "score": 1, "creation_date": 1509727220, "post_id": 47080762, "comment_id": 81151094, "body": "@TaiM. I checked out your project and ran it. The scrollView are working as expected. Not as responsive though. Maybe you can try optimize your recyclerView implementation by enabling  <code>featuredDestinationsRecycler.setItemViewCacheSize(10)         featuredDestinationsRecycler.isDrawingCacheEnabled = true</code>  And, layout manager, set the prefetch as well:  <code>featuredDestinationsLayoutManager.initialPrefetchItemCount = 5         featuredDestinationsLayoutManager.isItemPrefetchEnabled = true</code>  Please upvote if it helped."}], "tags": [], "owner": {"reputation": 451, "user_id": 5390707, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eMri2.jpg?s=128&g=1", "display_name": "theThapa", "link": "https://stackoverflow.com/users/5390707/thethapa"}, "is_accepted": false, "score": 0, "last_activity_date": 1509645243, "last_edit_date": 1509645243, "creation_date": 1509641920, "answer_id": 47080762, "question_id": 46992623, "link": "https://stackoverflow.com/questions/46992623/fragment-content-is-hidden-behind-bottomnavigationview-when-scrolling/47080762#47080762", "title": "Fragment content is hidden behind BottomNavigationView when scrolling", "body": "<p>@Tai M. \nThe problem seems to be the <strong>hardcoded</strong> height of the NestedScrollView. Since you are already using ConstraintLayout, you can easily lay this view without having to add another Relative layout. </p>\n\n<p>If you want to have the Header images one on top of the other, please wrap those in a <strong>FrameLayout</strong>. Assign an id to the container and add: \n    app:layout_constraintTop_toBottomOf=\"@+id/headerImageContainer\"\nto the NestedScrollView. </p>\n\n<p>Then you can probably get rid of the RelativeLayout and replace it with another ConstraintLayout to structure the rest of the views using constraints only. </p>\n\n<p>Also, by material design definition, the height of the BottomNavigationView is <strong>56dp</strong> which you can assign directly rather than making it wrap content in the \n    activity_home.xml</p>\n\n<pre><code>&lt;ConstraintLayout ...&gt;\n\n    &lt;FrameLayout ...&gt;\n        &lt;ImageView .../&gt;\n\n        &lt;ImageView .../&gt;\n\n    &lt;/FrameLayout&gt;\n\n    &lt;NestenScrollView ... wrap_content&gt;\n        &lt;ConstraintLayout ...&gt;\n            &lt;TextView .../&gt;\n            &lt;RecyclerView .../&gt;\n            &lt;!-- Assign constraints accordingly --&gt;\n            &lt;TextView .../&gt;\n            &lt;RecyclerView .../&gt;\n\n        &lt;/ConstraintLayout&gt;\n\n    &lt;/NestenScrollView&gt;\n\n&lt;/ConstraintLayout&gt;\n</code></pre>\n\n<p>Hope this helps. </p>\n"}, {"comments": [{"owner": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "edited": false, "score": 2, "creation_date": 1509804128, "post_id": 47091226, "comment_id": 81173000, "body": "Worked like a charm! Thanks a bunch!"}], "tags": [], "owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "is_accepted": true, "score": 3, "last_activity_date": 1509806460, "last_edit_date": 1509806460, "creation_date": 1509697162, "answer_id": 47091226, "question_id": 46992623, "link": "https://stackoverflow.com/questions/46992623/fragment-content-is-hidden-behind-bottomnavigationview-when-scrolling/47091226#47091226", "title": "Fragment content is hidden behind BottomNavigationView when scrolling", "body": "<p>I'm not sure what is the expected behavior, I cannot understand that just by reading your question. Having applied <a href=\"https://nofile.io/f/kfSCaH97E1j/unnamed.patch\" rel=\"nofollow noreferrer\">this patch</a>, which just includes <strong>home_fragment.xml</strong> layout changes:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/home_fragment\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:layout_editor_absoluteX=\"0dp\"\n    tools:layout_editor_absoluteY=\"0dp\"&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/header_container\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"wrap_content\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/tokyo_placeholder\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:adjustViewBounds=\"true\"\n            android:scaleType=\"fitStart\"\n            app:srcCompat=\"@drawable/main_screen_placeholder\"\n            tools:ignore=\"ContentDescription\" /&gt;\n\n        &lt;ImageView\n            android:id=\"@+id/airplane_icon\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:layout_gravity=\"center_horizontal|center_vertical\"\n            android:background=\"@drawable/circle_background\"\n            app:srcCompat=\"@drawable/icons8_airplane_48\"\n            tools:ignore=\"ContentDescription\" /&gt;\n    &lt;/FrameLayout&gt;\n\n    &lt;android.support.v4.widget.NestedScrollView\n        android:id=\"@+id/scroll_view\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"0dp\"\n        android:fillViewport=\"true\"\n        android:paddingLeft=\"5dp\"\n        app:layout_constraintBottom_toBottomOf=\"parent\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintStart_toStartOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/header_container\"&gt;\n\n        &lt;android.support.constraint.ConstraintLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:orientation=\"horizontal\"\n            app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/destination_headline\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"@string/featured_destinations_headline\"\n                android:textAllCaps=\"true\"\n                android:textAppearance=\"@style/TextAppearance.AppCompat.Headline\"\n                android:textSize=\"14sp\"\n                android:textStyle=\"bold\" /&gt;\n\n            &lt;android.support.v7.widget.RecyclerView\n                android:id=\"@+id/featured_destinations_recycler_view\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_below=\"@id/destination_headline\"\n                app:layout_constraintBottom_toTopOf=\"@id/saved_trips_headline\"\n                app:layout_constraintLeft_toLeftOf=\"parent\"\n                app:layout_constraintRight_toRightOf=\"parent\"\n                app:layout_constraintTop_toBottomOf=\"@+id/destination_headline\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/saved_trips_headline\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:fontFamily=\"sans-serif\"\n                android:text=\"@string/saved_trips\"\n                android:textAllCaps=\"true\"\n                android:textAppearance=\"@style/TextAppearance.AppCompat.Headline\"\n                android:textSize=\"14sp\"\n                android:textStyle=\"bold\"\n                app:layout_constraintBottom_toBottomOf=\"parent\"\n                app:layout_constraintBottom_toTopOf=\"parent\"\n                app:layout_constraintLeft_toLeftOf=\"parent\"\n                app:layout_constraintRight_toRightOf=\"parent\"\n                app:layout_constraintTop_toBottomOf=\"@id/featured_destinations_recycler_view\" /&gt;\n\n            &lt;android.support.v7.widget.RecyclerView\n                android:id=\"@+id/saved_trips_recycler_view\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                app:layout_constraintBottom_toTopOf=\"@id/app_bar\"\n                app:layout_constraintLeft_toLeftOf=\"parent\"\n                app:layout_constraintRight_toRightOf=\"parent\"\n                app:layout_constraintTop_toBottomOf=\"@id/saved_trips_headline\" /&gt;\n        &lt;/android.support.constraint.ConstraintLayout&gt;\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>Then you'll get this output:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Myrfq.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Myrfq.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 894, "user_id": 2467270, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/6e17d7890dc4410cd04ca6bb49d282f2?s=128&d=identicon&r=PG&f=1", "display_name": "secondubly", "link": "https://stackoverflow.com/users/2467270/secondubly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3995, "favorite_count": 2, "accepted_answer_id": 47091226, "answer_count": 2, "score": 3, "last_activity_date": 1509806460, "creation_date": 1509212454, "last_edit_date": 1509697184, "question_id": 46992623, "link": "https://stackoverflow.com/questions/46992623/fragment-content-is-hidden-behind-bottomnavigationview-when-scrolling", "title": "Fragment content is hidden behind BottomNavigationView when scrolling", "body": "<p>I've researched through this quite heavily and am at a loss on what to do - I have some content in a fragment that is being clipped off by the BottomNavigation bar in the activity and am not sure what to do.  I've tried adding <code>app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"</code> to the NestedScrollView but the bottom piece of the content (the names of the locations) is still being cut off - there's probably an easy fix for this but I can't figure it out.  The XML for my main activity and the \"home\" fragment is as follows:</p>\n\n<p>activity_home.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/home_screen\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"vertical\"&gt;\n\n    &lt;include layout=\"@layout/app_bar\" /&gt;\n\n    &lt;FrameLayout\n        android:id=\"@+id/fragment_container\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"0dp\"\n        android:layout_weight=\"1\"/&gt;\n\n    &lt;android.support.design.widget.BottomNavigationView\n        android:id=\"@+id/bottom_nav\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\"\n        android:layout_gravity=\"start\"\n        android:background=\"@color/navbarBackground\"\n        app:menu=\"@menu/bottom_nav_menu\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>home_fragment.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:id=\"@+id/home_fragment\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:layout_editor_absoluteX=\"0dp\"\n    tools:layout_editor_absoluteY=\"0dp\"&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/tokyo_placeholder\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:adjustViewBounds=\"true\"\n        android:scaleType=\"fitStart\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toTopOf=\"parent\"\n        app:srcCompat=\"@drawable/main_screen_placeholder\" /&gt;\n\n    &lt;ImageView\n        android:id=\"@+id/airplane_icon\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:background=\"@drawable/circle_background\"\n        app:layout_constraintBottom_toBottomOf=\"@+id/tokyo_placeholder\"\n        app:layout_constraintLeft_toLeftOf=\"@+id/tokyo_placeholder\"\n        app:layout_constraintRight_toRightOf=\"@+id/tokyo_placeholder\"\n        app:layout_constraintTop_toTopOf=\"@+id/tokyo_placeholder\"\n        app:srcCompat=\"@drawable/icons8_airplane_48\"\n        tools:layout_constraintBottom_creator=\"1\"\n        tools:layout_constraintLeft_creator=\"1\"\n        tools:layout_constraintRight_creator=\"1\"\n        tools:layout_constraintTop_creator=\"1\" /&gt;\n\n    &lt;android.support.v4.widget.NestedScrollView\n        android:id=\"@+id/scroll_view\"\n        android:layout_width=\"0dp\"\n        android:layout_height=\"286dp\"\n        android:layout_marginBottom=\"@dimen/app_bar_height\"\n        android:layout_marginStart=\"5dp\"\n        android:layout_marginTop=\"5dp\"\n        android:fillViewport=\"true\"\n        app:layout_constraintBottom_toTopOf=\"@id/bottom_nav\"\n        app:layout_constraintLeft_toLeftOf=\"parent\"\n        app:layout_constraintRight_toRightOf=\"parent\"\n        app:layout_constraintTop_toBottomOf=\"@+id/tokyo_placeholder\"\n        tools:layout_constraintLeft_creator=\"1\"\n        tools:layout_constraintRight_creator=\"1\"&gt;\n\n        &lt;RelativeLayout\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"\n            app:layout_behavior=\"@string/appbar_scrolling_view_behavior\"&gt;\n\n            &lt;TextView\n                android:id=\"@+id/destination_headline\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:text=\"@string/featured_destinations_headline\"\n                android:textAllCaps=\"true\"\n                android:textAppearance=\"@style/TextAppearance.AppCompat.Headline\"\n                android:textSize=\"14sp\"\n                android:textStyle=\"bold\" /&gt;\n\n            &lt;android.support.v7.widget.RecyclerView\n                android:id=\"@+id/featured_destinations_recycler_view\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_below=\"@id/destination_headline\" /&gt;\n\n            &lt;TextView\n                android:id=\"@+id/saved_trips_headline\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"wrap_content\"\n                android:layout_below=\"@id/featured_destinations_recycler_view\"\n                android:fontFamily=\"sans-serif\"\n                android:text=\"@string/saved_trips\"\n                android:textAllCaps=\"true\"\n                android:textAppearance=\"@style/TextAppearance.AppCompat.Headline\"\n                android:textSize=\"14sp\"\n                android:textStyle=\"bold\" /&gt;\n\n            &lt;android.support.v7.widget.RecyclerView\n                android:id=\"@+id/saved_trips_recycler_view\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:layout_below=\"@id/saved_trips_headline\" /&gt;\n        &lt;/RelativeLayout&gt;\n    &lt;/android.support.v4.widget.NestedScrollView&gt;\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n\n<p>app_bar.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.v7.widget.Toolbar xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:id=\"@+id/app_bar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"?attr/actionBarSize\"\n    android:elevation=\"4dp\"\n    android:background=\"#fff\"\n    android:theme=\"@style/ThemeOverlay.AppCompat.ActionBar\"\n    android:popupTheme=\"@style/ThemeOverlay.AppCompat.Light\"/&gt;\n</code></pre>\n\n<p>As an example to show what I mean, <a href=\"https://i.imgur.com/PhhlyMr.png\" rel=\"nofollow noreferrer\">here is the content when the navigation bar is moved out of the way</a> and <a href=\"https://i.imgur.com/Fov38kq.png\" rel=\"nofollow noreferrer\">here is the content with the bar in the way</a>. I'm thinking that the problem is some sort of margin/padding issue, but can't quite figure out what to fix.</p>\n\n<p><strong>Edit:</strong> I've create a repository with the relevant code (and a workable emulator example) <a href=\"https://github.com/epitone/test_proj\" rel=\"nofollow noreferrer\">here</a> - please be aware that the code is written in Kotlin, but I don't imagine the issue lies witihn any of the actual code, but more within the layout</p>\n"}, {"tags": ["android", "gradle", "kotlin"], "comments": [{"owner": {"reputation": 1553, "user_id": 5527676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-eNSz5uVuBB8/AAAAAAAAAAI/AAAAAAAAAac/6mMmufHpy4w/photo.jpg?sz=128", "display_name": "Sushin Pv", "link": "https://stackoverflow.com/users/5527676/sushin-pv"}, "edited": false, "score": 0, "creation_date": 1509211000, "post_id": 46992338, "comment_id": 80931361, "body": "paste your error log"}, {"owner": {"reputation": 265, "user_id": 6458468, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/00fbfbeddb29b9b83acd234bb2891676?s=128&d=identicon&r=PG&f=1", "display_name": "mreza sh", "link": "https://stackoverflow.com/users/6458468/mreza-sh"}, "reply_to_user": {"reputation": 1553, "user_id": 5527676, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-eNSz5uVuBB8/AAAAAAAAAAI/AAAAAAAAAac/6mMmufHpy4w/photo.jpg?sz=128", "display_name": "Sushin Pv", "link": "https://stackoverflow.com/users/5527676/sushin-pv"}, "edited": false, "score": 0, "creation_date": 1509214168, "post_id": 46992338, "comment_id": 80932202, "body": "@SushinPv updated the question."}, {"owner": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "edited": false, "score": 4, "creation_date": 1509221312, "post_id": 46992338, "comment_id": 80934390, "body": "Could you post us here also the HomeFragment code please ? Around line 155"}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1509241106, "post_id": 46992338, "comment_id": 80938668, "body": "Post the method <code>HomeFragment#onViewCreated()</code>"}, {"owner": {"reputation": 265, "user_id": 6458468, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/00fbfbeddb29b9b83acd234bb2891676?s=128&d=identicon&r=PG&f=1", "display_name": "mreza sh", "link": "https://stackoverflow.com/users/6458468/mreza-sh"}, "reply_to_user": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1509259355, "post_id": 46992338, "comment_id": 80941594, "body": "@m0skit0 updated. thanks in advanced."}, {"owner": {"reputation": 265, "user_id": 6458468, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/00fbfbeddb29b9b83acd234bb2891676?s=128&d=identicon&r=PG&f=1", "display_name": "mreza sh", "link": "https://stackoverflow.com/users/6458468/mreza-sh"}, "reply_to_user": {"reputation": 676, "user_id": 4806502, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/02ae7b3e71f39d4e64902e113c8ad75e?s=128&d=identicon&r=PG&f=1", "display_name": "Lukas Anda", "link": "https://stackoverflow.com/users/4806502/lukas-anda"}, "edited": false, "score": 0, "creation_date": 1509259379, "post_id": 46992338, "comment_id": 80941601, "body": "@Traabefi updated. thanks in advanced."}, {"owner": {"reputation": 23021, "user_id": 898478, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/EhSlm.jpg?s=128&g=1", "display_name": "m0skit0", "link": "https://stackoverflow.com/users/898478/m0skit0"}, "edited": false, "score": 0, "creation_date": 1509276239, "post_id": 46992338, "comment_id": 80945815, "body": "Which is line 155?"}], "owner": {"reputation": 265, "user_id": 6458468, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/00fbfbeddb29b9b83acd234bb2891676?s=128&d=identicon&r=PG&f=1", "display_name": "mreza sh", "link": "https://stackoverflow.com/users/6458468/mreza-sh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1509259283, "creation_date": 1509210528, "last_edit_date": 1509259283, "question_id": 46992338, "link": "https://stackoverflow.com/questions/46992338/android-getting-illegalaccesserror-only-on-built-apks", "title": "Android: getting IllegalAccessError only on built APKs", "body": "<p>So I'm getting this error only when I'm running the APK and app crashes immediately. (no matter signed, unsigned release mode or debug)</p>\n\n<p>but when I run the app from android studio, everything's fine.\nI have both kotlin and java files in the project.</p>\n\n<p>and the error is caused by a kotlin file by the way.\nany idea ?</p>\n\n<p>here's the error log:</p>\n\n<pre><code> java.lang.IllegalAccessError: com.app.myapp.fragment.HomeFragment$onViewCreated$1\n                                                                                at com.app.myapp.fragment.HomeFragment.onViewCreated(HomeFragment.kt:155)\n                                                                                at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1430)\n                                                                                at android.support.v4.app.FragmentManagerImpl.moveFragmentToExpectedState(FragmentManager.java:1740)\n                                                                                at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1809)\n                                                                                at android.support.v4.app.BackStackRecord.executeOps(BackStackRecord.java:799)\n                                                                                at android.support.v4.app.FragmentManagerImpl.executeOps(FragmentManager.java:2580)\n                                                                                at android.support.v4.app.FragmentManagerImpl.executeOpsTogether(FragmentManager.java:2367)\n                                                                                at android.support.v4.app.FragmentManagerImpl.removeRedundantOperationsAndExecute(FragmentManager.java:2322)\n                                                                                at android.support.v4.app.FragmentManagerImpl.execSingleAction(FragmentManager.java:2199)\n                                                                                at android.support.v4.app.BackStackRecord.commitNowAllowingStateLoss(BackStackRecord.java:651)\n                                                                                at android.support.v4.app.FragmentPagerAdapter.finishUpdate(FragmentPagerAdapter.java:145)\n                                                                                at android.support.v4.view.ViewPager.populate(ViewPager.java:1236)\n                                                                                at android.support.v4.view.ViewPager.populate(ViewPager.java:1084)\n                                                                                at android.support.v4.view.ViewPager.onMeasure(ViewPager.java:1614)\n                                                                                at android.view.View.measure(View.java:20221)\n                                                                                at android.widget.RelativeLayout.measureChildHorizontal(RelativeLayout.java:716)\n                                                                                at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:462)\n                                                                                at android.view.View.measure(View.java:20221)\n                                                                                at android.support.v4.view.ViewPager.onMeasure(ViewPager.java:1630)\n                                                                                at android.view.View.measure(View.java:20221)\n                                                                                at android.widget.RelativeLayout.measureChildHorizontal(RelativeLayout.java:716)\n                                                                                at android.widget.RelativeLayout.onMeasure(RelativeLayout.java:462)\n                                                                                at android.view.View.measure(View.java:20221)\n                                                                                at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6333)\n                                                                                at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n                                                                                at android.support.v7.widget.ContentFrameLayout.onMeasure(ContentFrameLayout.java:139)\n                                                                                at android.view.View.measure(View.java:20221)\n                                                                                at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6333)\n                                                                                at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1464)\n                                                                                at android.widget.LinearLayout.measureVertical(LinearLayout.java:747)\n                                                                                at android.widget.LinearLayout.onMeasure(LinearLayout.java:629)\n                                                                                at android.view.View.measure(View.java:20221)\n                                                                                at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6333)\n                                                                                at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n                                                                                at android.view.View.measure(View.java:20221)\n                                                                                at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6333)\n                                                                                at android.widget.LinearLayout.measureChildBeforeLayout(LinearLayout.java:1464)\n                                                                                at android.widget.LinearLayout.measureVertical(LinearLayout.java:747)\n                                                                                at android.widget.LinearLayout.onMeasure(LinearLayout.java:629)\n                                                                                at android.view.View.measure(View.java:20221)\n                                                                                at android.view.ViewGroup.measureChildWithMargins(ViewGroup.java:6333)\n                                                                                at android.widget.FrameLayout.onMeasure(FrameLayout.java:194)\n                                                                                at com.android.internal.policy.PhoneWindow$DecorView.onMeasure(PhoneWindow.java:3140)\n                                                                                at android.view.View.measure(View.java:20221)\n                                                                                at android.view.ViewRootImpl.performMeasure(ViewRootImpl.java:2687)\n                                                                                at android.view.ViewRootImpl.measureHierarchy(ViewRootImpl.java:1640)\n                                                                                at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1932)\n                                                                                at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1528)\n                                                                                at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7530)\n                                                                                at android.view.Choreographer$CallbackRecord.run(Choreographer.java:911)\n                                                                                at android.view.Choreographer.doCallbacks(Choreographer.java:686)\n                                                                                at android.view.Choreographer.doFrame(Choreographer.java:622)\n                                                                                at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:897)\n                                                                                at android.os.Handler.handleCallback(Handler.java:739)\n                                                                                at android.os.Handler.dispatchMess\n</code></pre>\n\n<p>and here's the onViewCreated method:</p>\n\n<pre><code>override fun onViewCreated(view: View?, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n\n        adapter = MyAdapter(list)\n        adapter!!.addOnItemClickListener { pos , Data-&gt;\n            ...\n\n        }\n}\n</code></pre>\n\n<p>there's an interface in recyclerView's adapter which passes data on each item Click. once again, this code works on debug mode and I used this structure a lot in other java classes.</p>\n\n<p>any help would be appreciated. This thing is driving me crazy ! </p>\n"}, {"tags": ["java", "kotlin", "mangodb"], "comments": [{"owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 0, "creation_date": 1509216336, "post_id": 46992169, "comment_id": 80932898, "body": "Have you tried to use quotes on fields names? (<code>mongoCollection.updateOne(&quot;&quot;&quot;{&quot;name&quot;: &quot;John&quot;}&quot;&quot;&quot;, &quot;&quot;&quot;{&quot;name&quot;: &quot;Adam&quot;}&quot;&quot;&quot;, UpdateOptions())</code>)"}, {"owner": {"reputation": 7291, "user_id": 5065092, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh3.googleusercontent.com/-ZFrQQ1JOBno/AAAAAAAAAAI/AAAAAAAAAEM/wPeTWiESjWk/photo.jpg?sz=128", "display_name": "Aman Tuladhar", "link": "https://stackoverflow.com/users/5065092/aman-tuladhar"}, "reply_to_user": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "edited": false, "score": 0, "creation_date": 1509242860, "post_id": 46992169, "comment_id": 80938938, "body": "Yep doesn&#39;t work"}], "owner": {"reputation": 7291, "user_id": 5065092, "user_type": "registered", "accept_rate": 58, "profile_image": "https://lh3.googleusercontent.com/-ZFrQQ1JOBno/AAAAAAAAAAI/AAAAAAAAAEM/wPeTWiESjWk/photo.jpg?sz=128", "display_name": "Aman Tuladhar", "link": "https://stackoverflow.com/users/5065092/aman-tuladhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1509245602, "creation_date": 1509209258, "last_edit_date": 1509245602, "question_id": 46992169, "link": "https://stackoverflow.com/questions/46992169/kmango-update-collection-with-col-updateone-col-updatemany", "title": "KMango: update collection with col.updateOne / col.updateMany", "body": "<blockquote>\n  <p>I am using <a href=\"http://litote.org/kmongo/#start_coding\" rel=\"nofollow noreferrer\">KMongo</a> to connect my Kotlin app with MongoDB</p>\n</blockquote>\n\n<p>I am trying to update only one document which following expression</p>\n\n<pre><code>mongoCollection.updateOne(\"\"\"{name: \"John\"}\"\"\", \"\"\"{name: \"Adam\"}\"\"\", UpdateOptions())\n</code></pre>\n\n<p><s>Strangely enough this is calling <code>MongoCollection.updateOne(Bson target, Bson update, UpateOption option)</code></s></p>\n\n<p>and I am getting </p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: Invalid BSON field name name\n</code></pre>\n\n<p>How do I fix this?</p>\n"}, {"tags": ["android", "kotlin", "android-support-library"], "comments": [{"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1509195745, "post_id": 46989986, "comment_id": 80926490, "body": "Please edit your question and post the entire Java stack trace, not just the base error message."}, {"owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1509196337, "post_id": 46989986, "comment_id": 80926669, "body": "Done, I&#39;m seing that there are issue with some drawables that are vector assets but I have <code>vectorDrawables.useSupportLibrary = true</code> so I&#39;m still puzzled here."}, {"owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1509197300, "post_id": 46989986, "comment_id": 80926939, "body": "Ok found the reason thanks to this answer: <a href=\"https://stackoverflow.com/a/41857755/600351\">stackoverflow.com/a/41857755/600351</a> disabling <code>vectorDrawables.useSupportLibrary</code> make it works (even if the result is ugly :p )"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1509197464, "post_id": 46989986, "comment_id": 80926992, "body": "I haven&#39;t used that much -- I tend towards <code>vectorDrawables.generatedDensities</code> or <code>minSdkVersion 21</code>. :-)"}, {"owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "reply_to_user": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 0, "creation_date": 1509199555, "post_id": 46989986, "comment_id": 80927653, "body": "I&#39;m going the <code>minSdkVersion</code> route ^^ and do a special delivery to the only friend of mine that is still on 19 ^^"}, {"owner": {"reputation": 905471, "user_id": 115145, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/wDnd8.png?s=128&g=1", "display_name": "CommonsWare", "link": "https://stackoverflow.com/users/115145/commonsware"}, "edited": false, "score": 2, "creation_date": 1509202230, "post_id": 46989986, "comment_id": 80928514, "body": "Given the security problems with old Android devices, perhaps the &quot;special delivery&quot; should be a GoFundMe page to buy a newer device... :-)"}], "owner": {"reputation": 5143, "user_id": 600351, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/7a2a3b9fd62972fa271deb3d0e31256c?s=128&d=identicon&r=PG", "display_name": "Geob-o-matic", "link": "https://stackoverflow.com/users/600351/geob-o-matic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 468, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1509196275, "creation_date": 1509195480, "last_edit_date": 1509196275, "question_id": 46989986, "link": "https://stackoverflow.com/questions/46989986/updating-to-support-27-and-sdk-27-from-25-crash-on-android-4-4-now", "title": "Updating to support 27 and SDK 27 from 25, crash on Android 4.4 now", "body": "<p>I'm updating my app to android SDK\u00a027, and it crashes on Android 4.4 now:</p>\n\n<pre><code>10-28 13:03:16.159 2525-2525/? I/dalvikvm: Could not find method android.content.ContentProviderClient.close, referenced from method fr.geobert.efficio.MainActivity.cleanDatabaseIfTestingMode\n10-28 13:03:16.169 2525-2525/? E/AndroidRuntime: FATAL EXCEPTION: main\n                                                 Process: fr.geobert.efficio, PID: 2525\n                                                 java.lang.RuntimeException: Unable to start activity ComponentInfo{fr.geobert.efficio/fr.geobert.efficio.MainActivity}: android.view.InflateException: Binary XML file line #0: Error inflating class android.support.v7.widget.Toolbar\n                                                     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2195)\n                                                     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2245)\n                                                     at android.app.ActivityThread.access$800(ActivityThread.java:135)\n                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)\n                                                     at android.os.Handler.dispatchMessage(Handler.java:102)\n                                                     at android.os.Looper.loop(Looper.java:136)\n                                                     at android.app.ActivityThread.main(ActivityThread.java:5017)\n                                                     at java.lang.reflect.Method.invokeNative(Native Method)\n                                                     at java.lang.reflect.Method.invoke(Method.java:515)\n                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)\n                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)\n                                                     at dalvik.system.NativeStart.main(Native Method)\n                                                  Caused by: android.view.InflateException: Binary XML file line #0: Error inflating class android.support.v7.widget.Toolbar\n                                                     at android.view.LayoutInflater.createView(LayoutInflater.java:621)\n                                                     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:697)\n                                                     at android.view.LayoutInflater.parseInclude(LayoutInflater.java:817)\n                                                     at android.view.LayoutInflater.rInflate(LayoutInflater.java:746)\n                                                     at android.view.LayoutInflater.rInflate(LayoutInflater.java:759)\n                                                     at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\n                                                     at android.view.LayoutInflater.inflate(LayoutInflater.java:397)\n                                                     at android.view.LayoutInflater.inflate(LayoutInflater.java:353)\n                                                     at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:287)\n                                                     at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:139)\n                                                     at fr.geobert.efficio.MainActivity.onCreate(MainActivity.kt:80)\n                                                     at android.app.Activity.performCreate(Activity.java:5231)\n                                                     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)\n                                                     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2159)\n                                                     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2245)\u00a0\n                                                     at android.app.ActivityThread.access$800(ActivityThread.java:135)\u00a0\n                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)\u00a0\n                                                     at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                                                     at android.os.Looper.loop(Looper.java:136)\u00a0\n                                                     at android.app.ActivityThread.main(ActivityThread.java:5017)\u00a0\n                                                     at java.lang.reflect.Method.invokeNative(Native Method)\u00a0\n                                                     at java.lang.reflect.Method.invoke(Method.java:515)\u00a0\n                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)\u00a0\n                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)\u00a0\n                                                     at dalvik.system.NativeStart.main(Native Method)\u00a0\n                                                  Caused by: java.lang.reflect.InvocationTargetException\n                                                     at java.lang.reflect.Constructor.constructNative(Native Method)\n                                                     at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n                                                     at android.view.LayoutInflater.createView(LayoutInflater.java:595)\n                                                     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:697)\u00a0\n                                                     at android.view.LayoutInflater.parseInclude(LayoutInflater.java:817)\u00a0\n                                                     at android.view.LayoutInflater.rInflate(LayoutInflater.java:746)\u00a0\n                                                     at android.view.LayoutInflater.rInflate(LayoutInflater.java:759)\u00a0\n                                                     at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\u00a0\n                                                     at android.view.LayoutInflater.inflate(LayoutInflater.java:397)\u00a0\n                                                     at android.view.LayoutInflater.inflate(LayoutInflater.java:353)\u00a0\n                                                     at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:287)\u00a0\n                                                     at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:139)\u00a0\n                                                     at fr.geobert.efficio.MainActivity.onCreate(MainActivity.kt:80)\u00a0\n                                                     at android.app.Activity.performCreate(Activity.java:5231)\u00a0\n                                                     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)\u00a0\n                                                     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2159)\u00a0\n                                                     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2245)\u00a0\n                                                     at android.app.ActivityThread.access$800(ActivityThread.java:135)\u00a0\n                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)\u00a0\n                                                     at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                                                     at android.os.Looper.loop(Looper.java:136)\u00a0\n                                                     at android.app.ActivityThread.main(ActivityThread.java:5017)\u00a0\n                                                     at java.lang.reflect.Method.invokeNative(Native Method)\u00a0\n                                                     at java.lang.reflect.Method.invoke(Method.java:515)\u00a0\n                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)\u00a0\n                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)\u00a0\n                                                     at dalvik.system.NativeStart.main(Native Method)\u00a0\n                                                  Caused by: android.content.res.Resources$NotFoundException: File res/drawable/titlebar.xml from drawable resource ID #0x7f080081\n                                                     at android.content.res.Resources.loadDrawable(Resources.java:2101)\n                                                     at android.content.res.TypedArray.getDrawable(TypedArray.java:602)\n                                                     at android.view.View.&lt;init&gt;(View.java:3554)\n                                                     at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:470)\n                                                     at android.support.v7.widget.Toolbar.&lt;init&gt;(Toolbar.java:231)\n                                                     at android.support.v7.widget.Toolbar.&lt;init&gt;(Toolbar.java:227)\n                                                     at java.lang.reflect.Constructor.constructNative(Native Method)\u00a0\n                                                     at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\u00a0\n                                                     at android.view.LayoutInflater.createView(LayoutInflater.java:595)\u00a0\n                                                     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:697)\u00a0\n                                                     at android.view.LayoutInflater.parseInclude(LayoutInflater.java:817)\u00a0\n                                                     at android.view.LayoutInflater.rInflate(LayoutInflater.java:746)\u00a0\n                                                     at android.view.LayoutInflater.rInflate(LayoutInflater.java:759)\u00a0\n                                                     at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\u00a0\n                                                     at android.view.LayoutInflater.inflate(LayoutInflater.java:397)\u00a0\n                                                     at android.view.LayoutInflater.inflate(LayoutInflater.java:353)\u00a0\n                                                     at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:287)\u00a0\n                                                     at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:139)\u00a0\n                                                     at fr.geobert.efficio.MainActivity.onCreate(MainActivity.kt:80)\u00a0\n                                                     at android.app.Activity.performCreate(Activity.java:5231)\u00a0\n                                                     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)\u00a0\n                                                     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2159)\u00a0\n                                                     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2245)\u00a0\n                                                     at android.app.ActivityThread.access$800(ActivityThread.java:135)\u00a0\n                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)\u00a0\n                                                     at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                                                     at android.os.Looper.loop(Looper.java:136)\u00a0\n                                                     at android.app.ActivityThread.main(ActivityThread.java:5017)\u00a0\n                                                     at java.lang.reflect.Method.invokeNative(Native Method)\u00a0\n                                                     at java.lang.reflect.Method.invoke(Method.java:515)\u00a0\n                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)\u00a0\n                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)\u00a0\n                                                     at dalvik.system.NativeStart.main(Native Method)\u00a0\n                                                  Caused by: android.content.res.Resources$NotFoundException: File res/drawable/ic_efficio_title_deco_right.xml from drawable resource ID #0x7f08006b\n                                                     at android.content.res.Resources.loadDrawable(Resources.java:2101)\n                                                     at android.content.res.Resources.getDrawable(Resources.java:700)\n                                                     at android.graphics.drawable.LayerDrawable.inflate(LayerDrawable.java:159)\n                                                     at android.graphics.drawable.Drawable.createFromXmlInner(Drawable.java:937)\n                                                     at android.graphics.drawable.Drawable.createFromXml(Drawable.java:877)\n                                                     at android.content.res.Resources.loadDrawable(Resources.java:2097)\n                                                     at android.content.res.TypedArray.getDrawable(TypedArray.java:602)\u00a0\n                                                     at android.view.View.&lt;init&gt;(View.java:3554)\u00a0\n                                                     at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:470)\u00a0\n                                                     at android.support.v7.widget.Toolbar.&lt;init&gt;(Toolbar.java:231)\u00a0\n                                                     at android.support.v7.widget.Toolbar.&lt;init&gt;(Toolbar.java:227)\u00a0\n                                                     at java.lang.reflect.Constructor.constructNative(Native Method)\u00a0\n                                                     at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\u00a0\n                                                     at android.view.LayoutInflater.createView(LayoutInflater.java:595)\u00a0\n                                                     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:697)\u00a0\n                                                     at android.view.LayoutInflater.parseInclude(LayoutInflater.java:817)\u00a0\n                                                     at android.view.LayoutInflater.rInflate(LayoutInflater.java:746)\u00a0\n                                                     at android.view.LayoutInflater.rInflate(LayoutInflater.java:759)\u00a0\n                                                     at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\u00a0\n                                                     at android.view.LayoutInflater.inflate(LayoutInflater.java:397)\u00a0\n                                                     at android.view.LayoutInflater.inflate(LayoutInflater.java:353)\u00a0\n                                                     at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:287)\u00a0\n                                                     at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:139)\u00a0\n                                                     at fr.geobert.efficio.MainActivity.onCreate(MainActivity.kt:80)\u00a0\n                                                     at android.app.Activity.performCreate(Activity.java:5231)\u00a0\n                                                     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)\u00a0\n                                                     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2159)\u00a0\n                                                     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2245)\u00a0\n                                                     at android.app.ActivityThread.access$800(ActivityThread.java:135)\u00a0\n                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)\u00a0\n                                                     at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                                                     at android.os.Looper.loop(Looper.java:136)\u00a0\n                                                     at android.app.ActivityThread.main(ActivityThread.java:5017)\u00a0\n                                                     at java.lang.reflect.Method.invokeNative(Native Method)\u00a0\n                                                     at java.lang.reflect.Method.invoke(Method.java:515)\u00a0\n                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)\u00a0\n                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)\u00a0\n                                                     at dalvik.system.NativeStart.main(Native Method)\u00a0\n                                                  Caused by: org.xmlpull.v1.XmlPullParserException: Binary XML file line #0: invalid drawable tag vector\n                                                     at android.graphics.drawable.Drawable.createFromXmlInner(Drawable.java:933)\n                                                     at android.graphics.drawable.Drawable.createFromXml(Drawable.java:877)\n                                                     at android.content.res.Resources.loadDrawable(Resources.java:2097)\n                                                     at android.content.res.Resources.getDrawable(Resources.java:700)\u00a0\n                                                     at android.graphics.drawable.LayerDrawable.inflate(LayerDrawable.java:159)\u00a0\n                                                     at android.graphics.drawable.Drawable.createFromXmlInner(Drawable.java:937)\u00a0\n                                                     at android.graphics.drawable.Drawable.createFromXml(Drawable.java:877)\u00a0\n                                                     at android.content.res.Resources.loadDrawable(Resources.java:2097)\u00a0\n                                                     at android.content.res.TypedArray.getDrawable(TypedArray.java:602)\u00a0\n                                                     at android.view.View.&lt;init&gt;(View.java:3554)\u00a0\n                                                     at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:470)\u00a0\n                                                     at android.support.v7.widget.Toolbar.&lt;init&gt;(Toolbar.java:231)\u00a0\n                                                     at android.support.v7.widget.Toolbar.&lt;init&gt;(Toolbar.java:227)\u00a0\n                                                     at java.lang.reflect.Constructor.constructNative(Native Method)\u00a0\n                                                     at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\u00a0\n                                                     at android.view.LayoutInflater.createView(LayoutInflater.java:595)\u00a0\n                                                     at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:697)\u00a0\n                                                     at android.view.LayoutInflater.parseInclude(LayoutInflater.java:817)\u00a0\n                                                     at android.view.LayoutInflater.rInflate(LayoutInflater.java:746)\u00a0\n                                                     at android.view.LayoutInflater.rInflate(LayoutInflater.java:759)\u00a0\n                                                     at android.view.LayoutInflater.inflate(LayoutInflater.java:492)\u00a0\n                                                     at android.view.LayoutInflater.inflate(LayoutInflater.java:397)\u00a0\n                                                     at android.view.LayoutInflater.inflate(LayoutInflater.java:353)\u00a0\n                                                     at android.support.v7.app.AppCompatDelegateImplV9.setContentView(AppCompatDelegateImplV9.java:287)\u00a0\n                                                     at android.support.v7.app.AppCompatActivity.setContentView(AppCompatActivity.java:139)\u00a0\n                                                     at fr.geobert.efficio.MainActivity.onCreate(MainActivity.kt:80)\u00a0\n                                                     at android.app.Activity.performCreate(Activity.java:5231)\u00a0\n                                                     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1087)\u00a0\n                                                     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2159)\u00a0\n                                                     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2245)\u00a0\n                                                     at android.app.ActivityThread.access$800(ActivityThread.java:135)\u00a0\n                                                     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1196)\u00a0\n                                                     at android.os.Handler.dispatchMessage(Handler.java:102)\u00a0\n                                                     at android.os.Looper.loop(Looper.java:136)\u00a0\n                                                     at android.app.ActivityThread.main(ActivityThread.java:5017)\u00a0\n                                                     at java.lang.reflect.Method.invokeNative(Native Method)\u00a0\n                                                     at java.lang.reflect.Method.invoke(Method.java:515)\u00a0\n                                                     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:779)\u00a0\n                                                     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:595)\u00a0\n                                                     at dalvik.system.NativeStart.main(Native Method)\u00a0\n</code></pre>\n\n<p>main_activity.xml:</p>\n\n<pre><code>&lt;android.support.v4.widget.DrawerLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n                                        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n                                        android:id=\"@+id/drawer_layout\"\n                                        android:layout_width=\"match_parent\"\n                                        android:layout_height=\"match_parent\"&gt;\n\n    &lt;!-- This LinearLayout represents the contents of the screen  --&gt;\n    &lt;LinearLayout\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        android:orientation=\"vertical\"&gt;\n\n        &lt;!-- The ActionBar displayed at the top --&gt;\n        &lt;include\n            layout=\"@layout/toolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"/&gt;\n\n        &lt;!-- The main content view where fragments are loaded --&gt;\n        &lt;FrameLayout\n            android:id=\"@+id/flContent\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"match_parent\"/&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;!-- The navigation drawer that comes from the left --&gt;\n    &lt;!-- Note that `android:layout_gravity` needs to be set to 'start' --&gt;\n    &lt;android.support.design.widget.NavigationView\n        android:id=\"@+id/nvView\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"match_parent\"\n        android:layout_gravity=\"start\"\n        android:background=\"@android:color/white\"\n        app:headerLayout=\"@layout/drawer_header\"\n        app:menu=\"@menu/drawer_view\"/&gt;\n&lt;/android.support.v4.widget.DrawerLayout&gt;\n</code></pre>\n\n<p>toolbar.xml:</p>\n\n<pre><code>&lt;android.support.v7.widget.Toolbar\n    xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    android:id=\"@+id/my_toolbar\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    android:background=\"@drawable/titlebar\"\n    android:fitsSystemWindows=\"true\"\n    android:minHeight=\"?attr/actionBarSize\"\n    app:theme=\"@style/ThemeOverlay.AppCompat.Dark.ActionBar\"\n    app:titleTextColor=\"@color/colorPrimaryDark\"&gt;\n\n    &lt;Spinner\n        android:id=\"@+id/store_spinner\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:layout_marginTop=\"2dp\"\n        android:minWidth=\"150dp\"\n        app:popupTheme=\"@style/ToolbarSpinner\"/&gt;\n\n\n&lt;/android.support.v7.widget.Toolbar&gt;\n</code></pre>\n\n<p>styles.xml:</p>\n\n<pre><code>&lt;resources&gt;\n\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=\"AppTheme\" parent=\"Theme.AppCompat.Light.NoActionBar\"&gt;\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=\"colorPrimary\"&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=\"colorPrimaryDark\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=\"colorAccent\"&gt;@color/colorAccent&lt;/item&gt;\n        &lt;item name=\"drawerArrowStyle\"&gt;@style/DrawerArrowStyle&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"ToolbarSpinner\" parent=\"ThemeOverlay.AppCompat.Dark\"&gt;\n        &lt;item name=\"android:background\"&gt;@color/colorPrimary&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;style name=\"DrawerArrowStyle\" parent=\"Widget.AppCompat.DrawerArrowToggle\"&gt;\n        &lt;item name=\"color\"&gt;@color/colorPrimaryDark&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n\n<p>piece of Manifest:</p>\n\n<pre><code>&lt;application\n        android:allowBackup=\"true\"\n        android:hardwareAccelerated=\"true\"\n        android:icon=\"@mipmap/efficio_launcher\"\n        android:label=\"@string/app_name\"\n        android:supportsRtl=\"false\"\n        android:theme=\"@style/AppTheme\"&gt;\n</code></pre>\n\n<p>part of build.gradle:</p>\n\n<pre><code>android {\n    compileSdkVersion 27\n    buildToolsVersion '26.0.2'\n\n    defaultConfig {\n        minSdkVersion 19\n        targetSdkVersion 27\n        versionCode 1\n        versionName \"1.0RC3\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n        vectorDrawables.useSupportLibrary = true\n    }\n}\n\next.android_support = '27.0.0'\n\ndependencies {\n    compile fileTree(dir: 'libs', include: ['*.jar'])\n\n    compile \"com.android.support:support-v4:$android_support\"\n    compile \"com.android.support:design:$android_support\"\n    compile \"com.android.support:cardview-v7:$android_support\"\n    compile \"com.android.support:support-vector-drawable:$android_support\"\n    compile \"org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version\"\n}\n</code></pre>\n\n<p>I've tried to remove <code>?attr/actionBarSize</code> and replace it with 50dp but no luck. I've check that I'm using AppCompat theme everywhere. I'm out of idea now :-/</p>\n"}, {"tags": ["android", "json", "kotlin"], "comments": [{"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1509186337, "post_id": 46987569, "comment_id": 80923863, "body": "byte[] isn&#39;t a subtype of Json. because of that you are getting the exception. You should construct your Json with thos bytes (or passing a string contructed with the bytes)"}, {"owner": {"reputation": 6703, "user_id": 1797950, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/1KyYn.jpg?s=128&g=1", "display_name": "crgarridos", "link": "https://stackoverflow.com/users/1797950/crgarridos"}, "edited": false, "score": 0, "creation_date": 1509186558, "post_id": 46987569, "comment_id": 80923909, "body": "It looks that you can return the proper String/Json/ object using <a href=\"https://github.com/kittinunf/Fuel#result\" rel=\"nofollow noreferrer\">Result</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "is_accepted": true, "score": 7, "last_activity_date": 1509186764, "creation_date": 1509186764, "answer_id": 46988739, "question_id": 46987569, "link": "https://stackoverflow.com/questions/46987569/cast-byte-array-to-json-using-fuel-and-result/46988739#46988739", "title": "Cast byte array to Json using Fuel and Result", "body": "<p>data is of <code>byte []</code> - byte array. You cannot cast it to Json.</p>\n\n<pre><code>val dataJson  = Json(String(data))\n</code></pre>\n\n<p>Above is the right way to do.\n<code>String(data)</code> will convert <code>byte array</code> data to <code>String</code>.</p>\n"}], "owner": {"reputation": 1247, "user_id": 4284745, "user_type": "registered", "accept_rate": 86, "profile_image": "https://lh3.googleusercontent.com/-PPay30ot1_k/AAAAAAAAAAI/AAAAAAAAAFM/j7wqJ8SG30g/photo.jpg?sz=128", "display_name": "Dimitri Danilov", "link": "https://stackoverflow.com/users/4284745/dimitri-danilov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2652, "favorite_count": 0, "accepted_answer_id": 46988739, "answer_count": 1, "score": 2, "last_activity_date": 1509186764, "creation_date": 1509177879, "last_edit_date": 1509178116, "question_id": 46987569, "link": "https://stackoverflow.com/questions/46987569/cast-byte-array-to-json-using-fuel-and-result", "title": "Cast byte array to Json using Fuel and Result", "body": "<p>I want to get my response body in a JSON Object using Fuel and Result.\nThis is my callback code : </p>\n\n<pre><code>private fun LoginCallback(result: Result&lt;Any, Exception&gt;?)\n{\n    mAuthTask = null\n    showProgress(false)\n    val (data, error) = result ?: return (Toast.makeText(applicationContext,\n            R.string.error_wrong, Toast.LENGTH_SHORT).show())\n\n    result.success {\n        val dataJson = data as Json\n        val user: SharedPreferences = getSharedPreferences(SAVED_USER_INFOS, 0)\n        val editor = user.edit()\n        editor.putString(SAVED_ACCESS_TOKEN, dataJson.obj().getString(SAVED_ACCESS_TOKEN))\n        editor.putString(SAVED_TOKEN_LIFETIME, dataJson.obj().getString(SAVED_TOKEN_LIFETIME))\n        editor.apply()\n        finish()\n        startActivity&lt;MainActivity&gt;()\n    }\n    result.failure {\n        showProgress(false)\n        mPasswordView!!.error = getString(R.string.error_incorrect_password)\n        mPasswordView!!.requestFocus()\n    }\n}\n</code></pre>\n\n<p>But when I try to cast my data (byte array) to Json I have this error : </p>\n\n<pre><code>java.lang.ClassCastException: byte[] cannot be cast to com.github.kittinunf.fuel.android.core.Json\n</code></pre>\n\n<p>Any idea where this can come from? The code was working before I changed to another API route. </p>\n\n<p>I verified that a JSON string is stored in data.</p>\n\n<p>And the API response seems to be valid.</p>\n\n<pre><code>                                                        Response : OK\n                                                        Length : 220\n                                                        Body : {\"token\":\"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJfaWQiOiI1OWVlZDU4NzIxMjcwMzc2MDUwZmY2MjAiLCJpYXQiOjE1MDkxNzcds0MjgsImV4cCI6MTU5NTU3NzQyOH0.VwAkLeKW2SL3bMDhQIs-0Pwx0kMg9xgzpDLxprbCUvQ\",\"tokenExpirationDate\":1509263828796}\n                                                        Headers : (13)\n                                                        null : [HTTP/1.1 200 OK]\n                                                        Connection : [Keep-Alive]\n                                                        Content-Length : [220]\n                                                        Content-Type : [application/json; charset=utf-8]\n                                                        Date : [Sat, 28 Oct 2017 07:57:08 GMT]\n                                                        ETag : [W/\"dc-SzYVR7bdKvnAvN0IajN0NVs3SIE\"]\n                                                        Keep-Alive : [timeout=5, max=100]\n                                                        Server : [Apache/2.4.25 (Debian)]\n                                                        X-Android-Received-Millis : [1509177392976]\n                                                        X-Android-Response-Source : [NETWORK 200]\n                                                        X-Android-Selected-Protocol : [http/1.1]\n                                                        X-Android-Sent-Millis : [1509177392520]\n                                                        X-Powered-By : [Express]\n</code></pre>\n\n<p>Got any idea of what could have gone wrong? </p>\n"}, {"tags": ["android", "unit-testing", "kotlin", "dagger-2", "android-studio-3.0"], "comments": [{"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 1, "creation_date": 1509176256, "post_id": 46987161, "comment_id": 80921572, "body": "Have you looked into <a href=\"https://stackoverflow.com/a/42796379/1083957\">this</a>?"}, {"owner": {"reputation": 5412, "user_id": 876603, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YpsjN.jpg?s=128&g=1", "display_name": "dors", "link": "https://stackoverflow.com/users/876603/dors"}, "reply_to_user": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1509313549, "post_id": 46987161, "comment_id": 80957646, "body": "I changed generated/source/apt/ to generated/source/kapt/ and it worked. Thanks!"}, {"owner": {"reputation": 53550, "user_id": 1083957, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/vIOTT.jpg?s=128&g=1", "display_name": "azizbekian", "link": "https://stackoverflow.com/users/1083957/azizbekian"}, "edited": false, "score": 0, "creation_date": 1509314479, "post_id": 46987161, "comment_id": 80957925, "body": "Good! Seems like your questions is duplicate of <a href=\"https://stackoverflow.com/q/42793505/1083957\">this</a>. What do you think of removing it? Or do you want it to be answered?"}], "owner": {"reputation": 5412, "user_id": 876603, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/YpsjN.jpg?s=128&g=1", "display_name": "dors", "link": "https://stackoverflow.com/users/876603/dors"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "closed_date": 1509314624, "answer_count": 0, "score": 0, "last_activity_date": 1509174111, "creation_date": 1509174111, "question_id": 46987161, "link": "https://stackoverflow.com/questions/46987161/dagger-2-component-not-created-in-test-folder-in-an-android-kotlin-project", "closed_reason": "Duplicate", "title": "Dagger 2 component not created in /test folder in an Android Kotlin project", "body": "<p>I have an Android Kotlin project that I write in Android Studio 3.</p>\n\n<p>I want to use a Dagger 2 component (say TestComponent) for my unit tests in the /test folder.</p>\n\n<p>After rebuilding the project, I see that the DaggerTestComponent is not created (When the dagger components in the /java folder are generated successfully)</p>\n\n<p>I <a href=\"https://stackoverflow.com/a/38097727/876603\">read</a> that this should be solved by adding </p>\n\n<pre><code>kaptTest \"com.google.dagger:dagger-compiler:$dagger_version\"\n</code></pre>\n\n<p>but it does not work.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["android", "kotlin"], "comments": [{"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1509170426, "post_id": 46986684, "comment_id": 80920347, "body": "what do you mean by: <code>&quot;which may not get called&quot;</code>?"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1509172060, "post_id": 46986684, "comment_id": 80920669, "body": "@pskink I mean onCreate doesn&#39;t get called after once, it get called once then if there is any change in the data after oncreate is called then how activity get notification of it ?"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1509172138, "post_id": 46986684, "comment_id": 80920686, "body": "so your activity is visible on the screen but you say <code>onCreate</code> was not called?"}, {"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "reply_to_user": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 0, "creation_date": 1509172179, "post_id": 46986684, "comment_id": 80920695, "body": "<code>onCreate</code> is called only once. I mean after it is called if I create new note then how activity get information of newly inserted note"}, {"owner": {"reputation": 20970, "user_id": 2252830, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7f66d50bf99dc20b5aac2f165c31676?s=128&d=identicon&r=PG", "display_name": "pskink", "link": "https://stackoverflow.com/users/2252830/pskink"}, "edited": false, "score": 1, "creation_date": 1509172417, "post_id": 46986684, "comment_id": 80920742, "body": "because you called <code>observe()</code> method with <code>android.arch.lifecycle.Observer</code> and its <code>onChanged()</code> method is called each time the data is changed."}], "answers": [{"comments": [{"owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1509172126, "post_id": 46986831, "comment_id": 80920682, "body": "so if I create new note then will it get passed to activity own ? or do i need to do anything ?"}, {"owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "reply_to_user": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "edited": false, "score": 0, "creation_date": 1509184772, "post_id": 46986831, "comment_id": 80923495, "body": "You need not just to add to the <code>List</code>, but call <code>postValue</code> or <code>setValue</code> on the <code>LiveData</code> afterwards (see docs for the difference)."}], "tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 2, "last_activity_date": 1509171395, "creation_date": 1509171395, "answer_id": 46986831, "question_id": 46986684, "link": "https://stackoverflow.com/questions/46986684/how-livedata-send-the-data-to-activity-if-any-changes/46986831#46986831", "title": "How livedata send the data to activity if any changes", "body": "<p><code>LiveData</code> isn't sending anything to <code>MainActivity</code>, it's \"sending\" to the <code>Observer</code> passed to the <code>observe</code> method. This <code>Observer</code> has a reference to <code>MainActivity</code> where it was created and can call its methods.</p>\n"}], "owner": {"reputation": 27653, "user_id": 2455259, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/PcDfI.png?s=128&g=1", "display_name": "N Sharma", "link": "https://stackoverflow.com/users/2455259/n-sharma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 662, "favorite_count": 0, "accepted_answer_id": 46986831, "answer_count": 1, "score": -1, "last_activity_date": 1509171395, "creation_date": 1509169824, "question_id": 46986684, "link": "https://stackoverflow.com/questions/46986684/how-livedata-send-the-data-to-activity-if-any-changes", "title": "How livedata send the data to activity if any changes", "body": "<p>Hi I am reading this example of <code>LiveData</code> and <code>Observer</code> <a href=\"https://code.tutsplus.com/tutorials/introduction-to-android-architecture--cms-28749\" rel=\"nofollow noreferrer\">https://code.tutsplus.com/tutorials/introduction-to-android-architecture--cms-28749</a> </p>\n\n<p>MainActivityViewModel.kt</p>\n\n<pre><code>class MainActivityViewModel : ViewModel() {\n\n    private var notes: MutableLiveData&lt;List&lt;String&gt;&gt;? = null    \n    fun getNotes(): LiveData&lt;List&lt;String&gt;&gt; {\n        if (notes == null) {\n            notes = MutableLiveData&lt;List&lt;String&gt;&gt;()\n            loadNotes()\n        }\n        return notes!!\n    }\n    private fun loadNotes() {\n        // do async operation to fetch notes\n    }\n}\n</code></pre>\n\n<p>MainActivity.kt</p>\n\n<pre><code>class MainActivity : LifecycleActivity(), AnkoLogger {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val viewModel = ViewModelProviders.of(this)\n                .get(MainActivityViewModel::class.java)\n        viewModel.getNotes().observe(\n                this, Observer { \n                    notes -&gt; info(\"notes: $notes\")\n                }\n        )\n    }\n}\n</code></pre>\n\n<p>How <code>LiveData</code> is sending data to <code>MainActivity</code> if there is any changes in notes (new or delete). I see activity is calling <code>viewModel.getNotes()</code> which may not get called once onCreate method finish.</p>\n"}, {"tags": ["android", "android-studio", "gradle", "kotlin", "android-studio-3.0"], "comments": [{"owner": {"reputation": 11400, "user_id": 3166417, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/i3rUx.jpg?s=128&g=1", "display_name": "itzhar", "link": "https://stackoverflow.com/users/3166417/itzhar"}, "edited": false, "score": 1, "creation_date": 1509894067, "post_id": 46984770, "comment_id": 81195714, "body": "can you show your gradle tasks? do u have apk splits?"}, {"owner": {"reputation": 3132, "user_id": 5364583, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/67aed09085b954ecc27caed47ae20969?s=128&d=identicon&r=PG", "display_name": "J&#233;w&#244;m&#39;", "link": "https://stackoverflow.com/users/5364583/j%c3%a9w%c3%b4m"}, "edited": false, "score": 0, "creation_date": 1510564168, "post_id": 46984770, "comment_id": 81471905, "body": "please show your Gradle"}, {"owner": {"reputation": 16956, "user_id": 8112776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tj3MU.png?s=128&g=1", "display_name": "ashleedawg", "link": "https://stackoverflow.com/users/8112776/ashleedawg"}, "edited": false, "score": 0, "creation_date": 1511034456, "post_id": 46984770, "comment_id": 81693187, "body": "Have you seen <a href=\"https://github.com/flutter/flutter/issues/10629\" rel=\"nofollow noreferrer\">this article</a> describing the exact problem (a known issue) and a workaround?  (First hit on Google.)"}, {"owner": {"reputation": 2155, "user_id": 4201925, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh5.googleusercontent.com/-Cw6gTmQUnXk/AAAAAAAAAAI/AAAAAAAAAEc/vGwNsq3E5Aw/photo.jpg?sz=128", "display_name": "Valentin Baryshev", "link": "https://stackoverflow.com/users/4201925/valentin-baryshev"}, "reply_to_user": {"reputation": 16956, "user_id": 8112776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tj3MU.png?s=128&g=1", "display_name": "ashleedawg", "link": "https://stackoverflow.com/users/8112776/ashleedawg"}, "edited": false, "score": 0, "creation_date": 1511106063, "post_id": 46984770, "comment_id": 81709444, "body": "@ashleedawg what should I do? update android studio? or some libraries?"}, {"owner": {"reputation": 52300, "user_id": 192373, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/83a45711c4c32eeeb3826d279e50f8ab?s=128&d=identicon&r=PG", "display_name": "Alex Cohn", "link": "https://stackoverflow.com/users/192373/alex-cohn"}, "reply_to_user": {"reputation": 16956, "user_id": 8112776, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Tj3MU.png?s=128&g=1", "display_name": "ashleedawg", "link": "https://stackoverflow.com/users/8112776/ashleedawg"}, "edited": false, "score": 4, "creation_date": 1511893351, "post_id": 46984770, "comment_id": 82033745, "body": "@ashleedawg the workaround you mention is, unless I misunderstand it, to stay with older version of gradle plugin. This is not a way to handle deprecation in the long run. In the short run, the warning can be &lt;s&gt;ignored&lt;/s&gt; remembered, but no immediate action needed."}], "answers": [{"comments": [{"owner": {"reputation": 2155, "user_id": 4201925, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh5.googleusercontent.com/-Cw6gTmQUnXk/AAAAAAAAAAI/AAAAAAAAAEc/vGwNsq3E5Aw/photo.jpg?sz=128", "display_name": "Valentin Baryshev", "link": "https://stackoverflow.com/users/4201925/valentin-baryshev"}, "edited": false, "score": 0, "creation_date": 1510655650, "post_id": 47281743, "comment_id": 81516973, "body": "Removed fabric, but still this warning appears."}, {"owner": {"reputation": 6693, "user_id": 695443, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7fbccd9e17cff81a67ad18d620b8141a?s=128&d=identicon&r=PG", "display_name": "thiagolr", "link": "https://stackoverflow.com/users/695443/thiagolr"}, "edited": false, "score": 0, "creation_date": 1511292016, "post_id": 47281743, "comment_id": 81796290, "body": "I&#39;m not using fabric and I have this message!"}, {"owner": {"reputation": 132, "user_id": 7493938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b64a58292f03975f0164b2a6468baa63?s=128&d=identicon&r=PG&f=1", "display_name": "Mario Huizinga", "link": "https://stackoverflow.com/users/7493938/mario-huizinga"}, "edited": false, "score": 3, "creation_date": 1512636642, "post_id": 47281743, "comment_id": 82340949, "body": "Disabling plugin io.fabric reduced 8 of these warnings to 4. So it seems there is more than one source."}, {"owner": {"reputation": 48202, "user_id": 549372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cc12ae5f4b59645f0fbfde098c306756?s=128&d=identicon&r=PG&f=1", "display_name": "Martin Zeitler", "link": "https://stackoverflow.com/users/549372/martin-zeitler"}, "edited": false, "score": 4, "creation_date": 1532774972, "post_id": 47281743, "comment_id": 90107256, "body": "<code>com.google.gms:google-services</code> <code>4.0.1</code> &amp; <code>4.0.2</code> both cause this warning notice."}], "tags": [], "owner": {"reputation": 408, "user_id": 634983, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/a14efec9a01d21bdc39bc63434d3939e?s=128&d=identicon&r=PG", "display_name": "Mate", "link": "https://stackoverflow.com/users/634983/mate"}, "is_accepted": false, "score": -2, "last_activity_date": 1510650853, "creation_date": 1510650853, "answer_id": 47281743, "question_id": 46984770, "link": "https://stackoverflow.com/questions/46984770/registerresgeneratingtask-is-deprecated-use-registergeneratedfoldersfilecollec/47281743#47281743", "title": "RegisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)", "body": "<p>For me this warning disappeared when I turned off fabric gradle plugin, o please check if you use fabric or another plugin that i responsible for this warning.</p>\n"}, {"comments": [{"owner": {"reputation": 2047, "user_id": 7319704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nO22o.jpg?s=128&g=1", "display_name": "Abhinav Gupta", "link": "https://stackoverflow.com/users/7319704/abhinav-gupta"}, "edited": false, "score": 0, "creation_date": 1522313611, "post_id": 48309373, "comment_id": 86110599, "body": "But I am not able to debug code line it shows error"}, {"owner": {"reputation": 2047, "user_id": 7319704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nO22o.jpg?s=128&g=1", "display_name": "Abhinav Gupta", "link": "https://stackoverflow.com/users/7319704/abhinav-gupta"}, "edited": false, "score": 0, "creation_date": 1522314696, "post_id": 48309373, "comment_id": 86111313, "body": "FAILURE: Build failed with an exception.  * What went wrong: Execution failed for task &#39;:app:compileDebugJavaWithJavac&#39;. &gt; Compilation failed; see the compiler error output for details.  * Try: Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.  * Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">help.gradle.org</a>  BUILD FAILED in 4s 29 actionable tasks: 2 executed, 27 up-to-date"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 2047, "user_id": 7319704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nO22o.jpg?s=128&g=1", "display_name": "Abhinav Gupta", "link": "https://stackoverflow.com/users/7319704/abhinav-gupta"}, "edited": false, "score": 0, "creation_date": 1522315540, "post_id": 48309373, "comment_id": 86111921, "body": "@AbhinavGupta that&#39;s not the stacktrace. That&#39;s just a message telling you something went wrong"}, {"owner": {"reputation": 2047, "user_id": 7319704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nO22o.jpg?s=128&g=1", "display_name": "Abhinav Gupta", "link": "https://stackoverflow.com/users/7319704/abhinav-gupta"}, "edited": false, "score": 0, "creation_date": 1522315640, "post_id": 48309373, "comment_id": 86111994, "body": "but I am not able to solve this and cause of this i am not able to install apk in my device"}, {"owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "reply_to_user": {"reputation": 2047, "user_id": 7319704, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nO22o.jpg?s=128&g=1", "display_name": "Abhinav Gupta", "link": "https://stackoverflow.com/users/7319704/abhinav-gupta"}, "edited": false, "score": 0, "creation_date": 1522315980, "post_id": 48309373, "comment_id": 86112252, "body": "@AbhinavGupta so ask a new question on Stack Overflow"}, {"owner": {"reputation": 1070, "user_id": 2213898, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18688796044f5f86fab87580786407b6?s=128&d=identicon&r=PG", "display_name": "Simpler", "link": "https://stackoverflow.com/users/2213898/simpler"}, "edited": false, "score": 0, "creation_date": 1556046621, "post_id": 48309373, "comment_id": 98302271, "body": "Looks like this is in the queue to get fixed soon...  <a href=\"https://github.com/fossasia/open-event-orga-app/pull/1591\" rel=\"nofollow noreferrer\">github.com/fossasia/open-event-orga-app/pull/1591</a>"}], "tags": [], "owner": {"reputation": 23488, "user_id": 6296561, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/zgIdn.png?s=128&g=1", "display_name": "Zoe", "link": "https://stackoverflow.com/users/6296561/zoe"}, "is_accepted": false, "score": 47, "last_activity_date": 1518780756, "last_edit_date": 1518780756, "creation_date": 1516220493, "answer_id": 48309373, "question_id": 46984770, "link": "https://stackoverflow.com/questions/46984770/registerresgeneratingtask-is-deprecated-use-registergeneratedfoldersfilecollec/48309373#48309373", "title": "RegisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)", "body": "<p>From what I can tell, plugins added as classpath dependencies will give problems. I.e. <a href=\"https://github.com/firebase/quickstart-android/issues/271\" rel=\"noreferrer\">Firebase</a> had an issue with it. <a href=\"https://github.com/stanfy/spoon-gradle-plugin/issues/155\" rel=\"noreferrer\">Spoon</a> and <a href=\"https://github.com/flutter/flutter/pull/13492/commits/09e4fd275b0770d9fd922b57585a107bbc101411\" rel=\"noreferrer\">Flutter</a> as well. Doing <a href=\"https://www.google.no/search?q=registerResGeneratingTask+is+deprecated\" rel=\"noreferrer\">this Google search</a> reveals a lot of GitHub repos with an issue raised over the same thing, and all they have in common is the fact that it's a Gradle plugin. Fabric appears to be a cause as well, as mentioned by <a href=\"https://stackoverflow.com/a/47281743/6296561\">Mate</a>*</p>\n\n<p>From what I can tell, the issue comes from a/multiple Gradle plugin (s). It can also be triggered by your Gradle code, but this is most likely not applicable if your project is an app and not a Gradle plugin.</p>\n\n<p>And as mentioned by <a href=\"https://stackoverflow.com/questions/46984770/registerresgeneratingtask-is-deprecated-use-registergeneratedfoldersfilecollec#comment82033745_46984770\">Alex Cohn</a> in a comment, deprecation is a warning. In this case, it means it's a feature that's going to be removed eventually. So for now, assuming it is a plugin (and not made by you), you can ignore it. By the time it's removed, most/all of the major plugins should be updated to fix it.</p>\n\n<p>And, again, <strong>it is a warning;</strong> not an error. You can still run it, and ignore it if there's nothing you can do about the issue. Disabling e.g. the Fabric* plugin is overkill, as it still works.</p>\n\n<p><sub>I don't use Fabric myself, and Fabric isn't open-source, so I don't know if the developers fixed it or not</sub></p>\n\n<p><strong>TL;DR:</strong> Gradle plugins are the cause. It's a warning (not an error), so removing the plugins that cause the issue is overkill. If you can't fix it, leave it alone as long as it is only deprecated at the moment (not removed)</p>\n\n<hr>\n\n<p>If you use Firebase, there is a specific solution to it that's also mentioned in the migration guide (linked later in this post); exclude the guava module</p>\n\n<pre><code>classpath ('com.google.firebase:firebase-plugins:1.1.0') {\n    exclude group: 'com.google.guava', module: 'guava-jdk5'\n}\n</code></pre>\n\n<hr>\n\n<p>The issue itself is fairly hard to detect. From what I can tell, there is no single issue that causes it in all of the plugins I checked (and linked in this answer). If you have coded something that causes the issue (and it's possible to fix it; adding a 3rd party gradle plugin isn't causing it), there are some things you can try to fix it.</p>\n\n<p>From what I can tell as of the actual cause, it's solved by updating the Gradle file (though in the Spoon library, it was fixed by changing a line related to <code>TestVariant</code>) by following the topics in the Gradle plugin 3.0.0 migration guide.</p>\n\n<p>The entire thing is covered <a href=\"https://developer.android.com/studio/build/gradle-plugin-3-0-0-migration.html\" rel=\"noreferrer\">by the developer docs</a>, but here's some of the stuff I think is relevant based on the pull requests done on projects where it's been a problem:</p>\n\n<p>Aside updating the Gradle version and plugin, you also need to add the <code>google()</code> repo under <code>repositories</code>.</p>\n\n<p><code>compile</code> is now <code>implementation</code> or <code>api</code>, but <code>implementation</code> is the recommended one.</p>\n\n<p><code>provided</code> is <code>compileOnly</code> and <code>apk</code> is <code>runtimeOnly</code></p>\n\n<p><code>androidTestCompile</code> has become <code>androidTestImplementation</code>, and <code>testCompile</code> -> <code>testImplementation</code></p>\n\n<p>If you use flavors, you have to use flavor dimensions (covered by the docs).</p>\n\n<p>For build types, you have to include fallbacks in case there is a library that doesn't have that build type. These are defined in the <code>profile</code> block under the <code>android</code> block.</p>\n\n<p>If not done already, the gradle plugin has to be defined first. If you don't have any other classpath dependencies, it isn't a problem. But if you do, make sure the gradle plugin is defined first.</p>\n\n<p>If you use <code>testVariants</code>, make sure you don't call <code>testedVariant</code> in the class. It appears to be the cause for the Spoon library.</p>\n\n<p>These things are, from what I have been able to tell, some of the changes that were made to fix the issue.</p>\n"}, {"comments": [{"owner": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1528792451, "post_id": 49577707, "comment_id": 88630490, "body": "What is it exactly though? Is it worth upgrading ? Does it cause any issues (before and after update) ? We use v2.6.8 and now they have v2.9.3 , but I don&#39;t see how to look at it in the changelog. They have different versions there (&quot;1.4.2 May 24, 2018&quot; for example)"}, {"owner": {"reputation": 34634, "user_id": 2444099, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ad5Vz.jpg?s=128&g=1", "display_name": "Eugen Pechanec", "link": "https://stackoverflow.com/users/2444099/eugen-pechanec"}, "reply_to_user": {"reputation": 107167, "user_id": 878126, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/D5dZW.jpg?s=128&g=1", "display_name": "android developer", "link": "https://stackoverflow.com/users/878126/android-developer"}, "edited": false, "score": 0, "creation_date": 1557070381, "post_id": 49577707, "comment_id": 98634811, "body": "@androiddeveloper You&#39;re confusing Fabric Gradle Plugin and Crashlytics. Check out different components in the left menu."}], "tags": [], "owner": {"reputation": 716, "user_id": 1527309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4d50I.jpg?s=128&g=1", "display_name": "luis_cortes", "link": "https://stackoverflow.com/users/1527309/luis-cortes"}, "is_accepted": false, "score": 10, "last_activity_date": 1522426496, "creation_date": 1522426496, "answer_id": 49577707, "question_id": 46984770, "link": "https://stackoverflow.com/questions/46984770/registerresgeneratingtask-is-deprecated-use-registergeneratedfoldersfilecollec/49577707#49577707", "title": "RegisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)", "body": "<p>Updating to the latest version of the Fabric Gradle Plugin fixes this issue.</p>\n\n<p>From the changelog:</p>\n\n<ul>\n<li>Fixed \u201cregisterResGeneratingTask\u201d deprecation warning.</li>\n</ul>\n\n<p><a href=\"https://docs.fabric.io/android/changelog.html#march-15-2018\" rel=\"noreferrer\">https://docs.fabric.io/android/changelog.html#march-15-2018</a></p>\n"}, {"tags": [], "owner": {"reputation": 726, "user_id": 2840837, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YLA22.jpg?s=128&g=1", "display_name": "Lee Hounshell", "link": "https://stackoverflow.com/users/2840837/lee-hounshell"}, "is_accepted": false, "score": 4, "last_activity_date": 1543351246, "creation_date": 1543351246, "answer_id": 53507787, "question_id": 46984770, "link": "https://stackoverflow.com/questions/46984770/registerresgeneratingtask-is-deprecated-use-registergeneratedfoldersfilecollec/53507787#53507787", "title": "RegisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)", "body": "<p>In my case this was caused by mismatched version of the Android support libraries.\nI updated all modules to the latest version (28.0.0) and that solved it.</p>\n"}, {"tags": [], "owner": {"reputation": 596, "user_id": 1998494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b5b0a464540b41f705a813c5fc998275?s=128&d=identicon&r=PG", "display_name": "user1998494", "link": "https://stackoverflow.com/users/1998494/user1998494"}, "is_accepted": false, "score": 18, "last_activity_date": 1557067805, "last_edit_date": 1557067805, "creation_date": 1544566848, "answer_id": 53733218, "question_id": 46984770, "link": "https://stackoverflow.com/questions/46984770/registerresgeneratingtask-is-deprecated-use-registergeneratedfoldersfilecollec/53733218#53733218", "title": "RegisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)", "body": "<p>I am using the Play services Gradle plugin <code>com.google.gms:google-services</code> with version <code>4.2.0</code>.</p>\n\n<p>In the source code we can see that:\n<a href=\"https://i.stack.imgur.com/zjEMg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/zjEMg.png\" alt=\"enter image description here\"></a></p>\n\n<p>So for me, that was the reason of my warnings and cannot be removed until the plugin gets fixed. The issue is <a href=\"https://github.com/google/play-services-plugins/issues/23\" rel=\"noreferrer\">here</a></p>\n\n<p>As mentioned by @Zoe, this may come from other Gradle Plugins also.</p>\n\n<p>Best</p>\n"}, {"tags": [], "owner": {"reputation": 950, "user_id": 1740195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4dd34bdc370d50aed1f81d8c92b9d6b9?s=128&d=identicon&r=PG", "display_name": "Nithin Raja", "link": "https://stackoverflow.com/users/1740195/nithin-raja"}, "is_accepted": false, "score": 1, "last_activity_date": 1555937435, "creation_date": 1555937435, "answer_id": 55794724, "question_id": 46984770, "link": "https://stackoverflow.com/questions/46984770/registerresgeneratingtask-is-deprecated-use-registergeneratedfoldersfilecollec/55794724#55794724", "title": "RegisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)", "body": "<p>After installing Fabric properly this issue got solved for me </p>\n\n<pre><code>import com.crashlytics.android.Crashlytics;\nimport io.fabric.sdk.android.Fabric;\n\npublic class MyApplication extends Application {\n\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        Fabric.with(this, new Crashlytics());\n\n    }\n}\n</code></pre>\n\n<p>build.gradle</p>\n\n<pre><code>buildscript {\n    repositories {\n        maven { url 'https://maven.fabric.io/public' }\n    }\n\n    dependencies {\n        classpath 'io.fabric.tools:gradle:1.+'\n    }\n}\n\napply plugin: 'com.android.application'\napply plugin: 'io.fabric'\n\ndependencies {\nimplementation 'com.crashlytics.sdk.android:crashlytics:2.9.9'\n}\n\nrepositories {\n    mavenCentral()\n    maven { url 'https://maven.fabric.io/public' }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1070, "user_id": 2213898, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/18688796044f5f86fab87580786407b6?s=128&d=identicon&r=PG", "display_name": "Simpler", "link": "https://stackoverflow.com/users/2213898/simpler"}, "is_accepted": false, "score": 18, "last_activity_date": 1562375466, "creation_date": 1562375466, "answer_id": 56910536, "question_id": 46984770, "link": "https://stackoverflow.com/questions/46984770/registerresgeneratingtask-is-deprecated-use-registergeneratedfoldersfilecollec/56910536#56910536", "title": "RegisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)", "body": "<p>The issue is resolved with Google Services Plugin Version 4.3.0 (Resolved with <a href=\"https://github.com/google/play-services-plugins/commit/4b805592ac337721b58f51cd3696306e2b45043c\" rel=\"noreferrer\">this commit</a>)</p>\n\n<pre><code>buildscript {\n    dependencies {\n        // Change version to 4.3.0\n        classpath 'com.google.gms:google-services:4.3.0'\n    }\n}\n</code></pre>\n\n<p>Found <a href=\"https://stackoverflow.com/a/56845863/2213898\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 603, "user_id": 5705721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/m3qoS.png?s=128&g=1", "display_name": "Makarand", "link": "https://stackoverflow.com/users/5705721/makarand"}, "is_accepted": false, "score": 1, "last_activity_date": 1576155169, "creation_date": 1576155169, "answer_id": 59305052, "question_id": 46984770, "link": "https://stackoverflow.com/questions/46984770/registerresgeneratingtask-is-deprecated-use-registergeneratedfoldersfilecollec/59305052#59305052", "title": "RegisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)", "body": "<p>I had this error message and lot of others like </p>\n\n<p><code>x-version is deprecated and use y-version instead and it'll be removed in 2019</code></p>\n\n<p>and all of my project started giving same error messages suddenly.</p>\n\n<p>Android studio was giving warnings about my antivirus program. I tried configuring it but didn't work.</p>\n\n<p>Finally <strong>I uninstalled QuickHeal antivirus from my system</strong> and all is well now </p>\n"}, {"tags": [], "owner": {"reputation": 1999, "user_id": 2032514, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/0utk8.png?s=128&g=1", "display_name": "0xF", "link": "https://stackoverflow.com/users/2032514/0xf"}, "is_accepted": false, "score": 0, "last_activity_date": 1585841659, "creation_date": 1585841659, "answer_id": 60995311, "question_id": 46984770, "link": "https://stackoverflow.com/questions/46984770/registerresgeneratingtask-is-deprecated-use-registergeneratedfoldersfilecollec/60995311#60995311", "title": "RegisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)", "body": "<p>All the other answers are about problems with <em>third-party components</em>.</p>\n\n<p>Here's how to update <em>your</em> project that uses <code>registerResGeneratingTask</code> directly:</p>\n\n<p>Before:</p>\n\n<pre><code>variant.registerResGeneratingTask generateIcon, ICON_DIR\n</code></pre>\n\n<p>After:</p>\n\n<pre><code>variant.mergeResourcesProvider.get().dependsOn generateIcon\nvariant.registerGeneratedResFolders files(ICON_DIR)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 769, "user_id": 5701063, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-heBOEqutoWs/AAAAAAAAAAI/AAAAAAAAADA/uf2tETPnn9M/photo.jpg?sz=128", "display_name": "Akram Chauhan", "link": "https://stackoverflow.com/users/5701063/akram-chauhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1592315882, "creation_date": 1592315882, "answer_id": 62410270, "question_id": 46984770, "link": "https://stackoverflow.com/questions/46984770/registerresgeneratingtask-is-deprecated-use-registergeneratedfoldersfilecollec/62410270#62410270", "title": "RegisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)", "body": "<p>Project Level Build.Gradle</p>\n\n<p>Use following version of google services dependency.</p>\n\n<pre><code>dependencies {\n    classpath 'com.android.tools.build:gradle:3.4.2'\n    classpath 'com.google.gms:google-services:4.3.0'\n    classpath ('com.google.firebase:firebase-plugins:1.1.0') {\n        exclude group: 'com.google.guava', module: 'guava-jdk5'\n    }\n}\n</code></pre>\n\n<p>Solved issue for me.</p>\n"}], "owner": {"reputation": 2155, "user_id": 4201925, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh5.googleusercontent.com/-Cw6gTmQUnXk/AAAAAAAAAAI/AAAAAAAAAEc/vGwNsq3E5Aw/photo.jpg?sz=128", "display_name": "Valentin Baryshev", "link": "https://stackoverflow.com/users/4201925/valentin-baryshev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58836, "favorite_count": 20, "protected_date": 1525203675, "answer_count": 10, "score": 158, "last_activity_date": 1592315882, "creation_date": 1509147264, "last_edit_date": 1556094105, "question_id": 46984770, "link": "https://stackoverflow.com/questions/46984770/registerresgeneratingtask-is-deprecated-use-registergeneratedfoldersfilecollec", "title": "RegisterResGeneratingTask is deprecated, use registerGeneratedFolders(FileCollection)", "body": "<p>Using new android studio with new 3.0.0 Gradle pluging.<br>\nWhen building some warning happened:</p>\n\n<pre><code>registerResGeneratingTask is deprecated, use\nregisterGeneratedFolders(FileCollection)\n</code></pre>\n"}, {"tags": ["android", "android-fragments", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 65, "user_id": 5405865, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e98fcbffaeabd0af5161f478f42f773f?s=128&d=identicon&r=PG&f=1", "display_name": "Jose Ramon", "link": "https://stackoverflow.com/users/5405865/jose-ramon"}, "is_accepted": true, "score": 0, "last_activity_date": 1509144190, "creation_date": 1509144190, "answer_id": 46984364, "question_id": 46983046, "link": "https://stackoverflow.com/questions/46983046/change-from-a-fragment-inside-a-view-to-another-view/46984364#46984364", "title": "Change from a fragment inside a view to another view?", "body": "<p>Seems that i had to put the method in the view that contains the fragment, that solved it</p>\n"}], "owner": {"reputation": 65, "user_id": 5405865, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/e98fcbffaeabd0af5161f478f42f773f?s=128&d=identicon&r=PG&f=1", "display_name": "Jose Ramon", "link": "https://stackoverflow.com/users/5405865/jose-ramon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 46984364, "answer_count": 1, "score": 0, "last_activity_date": 1509144190, "creation_date": 1509136610, "last_edit_date": 1509141715, "question_id": 46983046, "link": "https://stackoverflow.com/questions/46983046/change-from-a-fragment-inside-a-view-to-another-view", "title": "Change from a fragment inside a view to another view?", "body": "<p>So i have a fragment(initial) inside my home, home has a bottom nav bar, and in that one i manage the fragments i have. In my initial fragment(initial) i want to have a buttom that when you click on it, it loads a new view, but i dont want to have the bottom nav bar there (home).</p>\n\n<p>Here is my method for the buttom:</p>\n\n<pre><code>fun loadCreateView() {\n        val intent = Intent(this, createLobby::class.java)\n        startActivity(intent)\n}\n</code></pre>\n\n<p>I have a red line under Intent saying that:</p>\n\n<pre><code>None of the following functions can be called with the arguments supplied:\n&lt;init&gt;(Context!, Class&lt;*&gt;!)defined in android.content.Intent\n&lt;init&gt;(String!, Uri!)defined in android.content.Intent\n</code></pre>\n\n<p><code>Context!, String!, Uri!</code> beeing underlined with red</p>\n\n<p>if i change <code>this</code> for <code>getcontext()</code> I can compile but app crashes when i click on the botton</p>\n"}, {"tags": ["android", "listview", "kotlin"], "answers": [{"tags": [], "owner": {"reputation": 2640, "user_id": 8405762, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9700e2e55dacc57912e16fbb86ca5375?s=128&d=identicon&r=PG", "display_name": "GuilhermeFGL", "link": "https://stackoverflow.com/users/8405762/guilhermefgl"}, "is_accepted": false, "score": 1, "last_activity_date": 1509134236, "creation_date": 1509134236, "answer_id": 46982519, "question_id": 46982141, "link": "https://stackoverflow.com/questions/46982141/populating-listview-from-array-in-kotlin/46982519#46982519", "title": "Populating ListView from array in Kotlin", "body": "<p>There is an example <a href=\"https://github.com/bidrohi/KotlinListView/blob/master/app/src/main/kotlin/com/bidyut/example/kotlinlistview/ListViewActivity.kt\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Basically, the code is very similar in Java:</p>\n\n<pre><code>class ListExampleAdapter(context: Context) : BaseAdapter() {\n        internal var sList = arrayOf(\"One\", \"Two\", \"Three\", \"Four\", \"Five\", \"Six\", \"Seven\",\n                \"Eight\", \"Nine\", \"Ten\", \"Eleven\", \"Twelve\", \"Thirteen\")\n        private val mInflator: LayoutInflater\n\n        init {\n            this.mInflator = LayoutInflater.from(context)\n        }\n\n        override fun getCount(): Int {\n            return sList.size\n        }\n\n        override fun getItem(position: Int): Any {\n            return sList[position]\n        }\n\n        override fun getItemId(position: Int): Long {\n            return position.toLong()\n        }\n\n        override fun getView(position: Int, convertView: View?, parent: ViewGroup): View? {\n            val view: View?\n            val vh: ListRowHolder\n            if (convertView == null) {\n                view = this.mInflator.inflate(R.layout.list_row, parent, false)\n                vh = ListRowHolder(view)\n                view.tag = vh\n            } else {\n                view = convertView\n                vh = view.tag as ListRowHolder\n            }\n\n            vh.label.text = sList[position]\n            return view\n        }\n    }\n\n    private class ListRowHolder(row: View?) {\n        public val label: TextView\n\n        init {\n            this.label = row?.findViewById(R.id.label) as TextView\n        }\n\n}\n</code></pre>\n\n<p>Then, to include the adapter to your <code>ListView</code>: </p>\n\n<pre><code>val lv = findViewById(R.id.list) as ListView\nlv.adapter = ListExampleAdapter(this)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2279, "user_id": 3451344, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vqk5E.jpg?s=128&g=1", "display_name": "Sangeet Suresh", "link": "https://stackoverflow.com/users/3451344/sangeet-suresh"}, "is_accepted": false, "score": 0, "last_activity_date": 1509178108, "creation_date": 1509178108, "answer_id": 46987592, "question_id": 46982141, "link": "https://stackoverflow.com/questions/46982141/populating-listview-from-array-in-kotlin/46987592#46987592", "title": "Populating ListView from array in Kotlin", "body": "<p>Below adapter will suite your need</p>\n\n<pre><code>class MyArrayAdapter(val contexts: Context, val array: ArrayList&lt;String&gt;)\n: ArrayAdapter&lt;String&gt;(contexts, android.R.layout.simple_list_item_1, array) {\ncompanion object {\n    class Holder {\n        var textView: TextView? = null\n    }\n}\n\noverride fun getView(position: Int, convertView: View?, parent: ViewGroup?): View {\n    var holder: Holder;\n    if (convertView == null) {\n        val view = LayoutInflater.from(context).inflate(android.R.layout.simple_list_item_1, parent, false)\n        holder = Holder()\n        holder.textView = view.findViewById(android.R.id.text1)\n        holder.textView?.text = array[position]\n        view.tag = holder\n        return view;\n    } else {\n        holder = convertView.tag as Holder\n        holder.textView?.text=array[position]\n        return convertView\n    }\n}\n\n\n}\n</code></pre>\n\n<p>Then set adapter </p>\n\n<pre><code>val adapter = MyArrayAdapter&lt;String&gt;(this authors);\n\n    listView.adapter = adapter;\n</code></pre>\n"}], "owner": {"reputation": 3230, "user_id": 424333, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/64dc22704cc201281eac3c1990abc1be?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/424333/sebastian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4993, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1509178108, "creation_date": 1509132365, "question_id": 46982141, "link": "https://stackoverflow.com/questions/46982141/populating-listview-from-array-in-kotlin", "title": "Populating ListView from array in Kotlin", "body": "<p>I'm trying to display an array in a ListView but the final two lines of my MainActivity throwing up an <code>Expecting member declaration</code> message. Any idea why?</p>\n\n<p><strong>MainActivity.kt</strong></p>\n\n<pre><code>package com.example.apple.stories\n\nimport android.support.v7.app.AppCompatActivity\nimport android.os.Bundle\nimport android.widget.ArrayAdapter\nimport android.widget.ListView\nimport org.jetbrains.anko.db.MapRowParser\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n    }\n\n    val authors = arrayOf(\"Conan Doyle, Arthur\", \"Christie, Agatha\", \"Collins, Wilkie\");\n\n    val listView = ListView(this);\n\n    val adapter = ArrayAdapter&lt;String&gt;(this, android.R.layout.simple_list_item_1, authors);\n\n    listView.adapter = adapter;\n\n    activity_main.addView(listView);\n\n}\n</code></pre>\n\n<p><strong>activity_main.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;android.support.constraint.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    tools:context=\"com.example.apple.stories.MainActivity\"&gt;\n\n    &lt;ListView\n        android:fillViewport=\"true\"\n        android:id=\"@+id/listView\" /&gt;\n\n&lt;/android.support.constraint.ConstraintLayout&gt;\n</code></pre>\n"}, {"tags": ["intellij-idea", "kotlin"], "comments": [{"owner": {"reputation": 51929, "user_id": 1524450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BSzDV.png?s=128&g=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/1524450/michael"}, "edited": false, "score": 1, "creation_date": 1509129575, "post_id": 46981406, "comment_id": 80910407, "body": "Your <code>for x</code> loop only contains one statement: the <code>for y</code> loop. Use <code>{}</code> if you want multiple statements within the loop (it a good idea to use braces even for single-statement loops to make it clear where it begins and ends)."}], "answers": [{"comments": [{"owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "reply_to_user": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "edited": false, "score": 0, "creation_date": 1509130062, "post_id": 46981524, "comment_id": 80910610, "body": "@GLHF you asked how to solve the error, I can&#39;t know what&#39;s the purpose of your code"}], "tags": [], "owner": {"reputation": 12677, "user_id": 4237609, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/RwpIW.jpg?s=128&g=1", "display_name": "Giorgio Antonioli", "link": "https://stackoverflow.com/users/4237609/giorgio-antonioli"}, "is_accepted": true, "score": 3, "last_activity_date": 1509129671, "creation_date": 1509129671, "answer_id": 46981524, "question_id": 46981406, "link": "https://stackoverflow.com/questions/46981406/kotlin-unresolved-reference-issue/46981524#46981524", "title": "Kotlin unresolved reference issue", "body": "<p>It happens because you must specify the parenthesis in Kotlin if you have more than one statement to evaluate within the loop.</p>\n\n<p>Actually, your code is exactly the same of this one:</p>\n\n<pre><code>fun main(args:Array&lt;String&gt;) {\n    var liste = IntRange(3,19)\n\n    var bolundu = 1\n\n    for (x in liste) {\n        for (y in IntRange(2,x)) {\n            if (x % y != 0) {\n                bolundu = 0\n            }\n        }\n    }\n    if (bolundu == 1) {\n        print(x)\n    }\n}\n</code></pre>\n\n<p>Instead, you want something like this:</p>\n\n<pre><code>fun main(args:Array&lt;String&gt;) {\n    var liste = IntRange(3,19)\n\n    var bolundu = 1\n\n    for (x in liste) {\n        for (y in IntRange(2,x)) {\n            if (x % y != 0)\n                bolundu = 0\n        }\n        if (bolundu == 1)\n            print(x)\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 3296, "user_id": 4302226, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/rvIT6.png?s=128&g=1", "display_name": "GLHF", "link": "https://stackoverflow.com/users/4302226/glhf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 964, "favorite_count": 0, "accepted_answer_id": 46981524, "answer_count": 1, "score": 0, "last_activity_date": 1509129671, "creation_date": 1509129215, "question_id": 46981406, "link": "https://stackoverflow.com/questions/46981406/kotlin-unresolved-reference-issue", "title": "Kotlin unresolved reference issue", "body": "<p>I was able to do everything so far except this, don't know why but I got this error <code>Unresolved reference:x</code> for last line <code>print(x)</code>.</p>\n\n<pre><code>fun main(args:Array&lt;String&gt;) {\n\n    var liste = IntRange(3,19)\n\n    var bolundu = 1\n\n    for (x in liste)\n        for (y in IntRange(2,x))\n            if (x % y != 0)\n                bolundu = 0\n\n        if (bolundu == 1)\n            print(x)\n}\n</code></pre>\n\n<p>I don't understand what is the problem, why it doesn't match that <code>x</code> with the one in the for loop?</p>\n"}, {"tags": ["jar", "jvm", "package", "kotlin", "manifest"], "answers": [{"comments": [{"owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "edited": false, "score": 0, "creation_date": 1509123784, "post_id": 46980051, "comment_id": 80907654, "body": "does kotlin allow or work with shadowJar?  Is this an odd way to build and package kotlin?  Thanks for the sample build :)      will have to adapt it, then accept."}, {"owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "reply_to_user": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "edited": false, "score": 1, "creation_date": 1509123850, "post_id": 46980051, "comment_id": 80907687, "body": "Sure you can work with shadowJar, you\u2019ll find examples"}, {"owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "edited": false, "score": 0, "creation_date": 1509883176, "post_id": 46980051, "comment_id": 81192200, "body": "to use shadowJar I narrowed the scoped of the question as: <a href=\"https://stackoverflow.com/q/47121264/262852\">stackoverflow.com/q/47121264/262852</a>   and will review your answer.  thanks again :)"}], "tags": [], "owner": {"reputation": 55446, "user_id": 8073652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6ce118b8480086fdd4238693d6291bc8?s=128&d=identicon&r=PG", "display_name": "s1m0nw1", "link": "https://stackoverflow.com/users/8073652/s1m0nw1"}, "is_accepted": true, "score": 1, "last_activity_date": 1509123292, "creation_date": 1509123292, "answer_id": 46980051, "question_id": 46979678, "link": "https://stackoverflow.com/questions/46979678/package-kotlin-kt-class-in-a-jar/46980051#46980051", "title": "package Kotlin .kt class in a JAR", "body": "<p>You should use a build tool like Gradle for that task. </p>\n\n<p>In this example, a Jar with Manifest entry is being created: <a href=\"https://github.com/s1monw1/kotlin_vertx_example/blob/master/build.gradle.kts\" rel=\"nofollow noreferrer\">https://github.com/s1monw1/kotlin_vertx_example/blob/master/build.gradle.kts</a></p>\n"}], "owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 503, "favorite_count": 0, "accepted_answer_id": 46980051, "answer_count": 1, "score": 2, "last_activity_date": 1509123292, "creation_date": 1509121842, "question_id": 46979678, "link": "https://stackoverflow.com/questions/46979678/package-kotlin-kt-class-in-a-jar", "title": "package Kotlin .kt class in a JAR", "body": "<p>How do I build <code>HelloWorld.kt</code> as a <code>JAR</code> so that it runs?</p>\n\n<pre><code>thufir@dur:~/kotlin$ \nthufir@dur:~/kotlin$ kotlinc HelloWorld.kt --include-runtime -d HelloWorld.jar\nerror: invalid argument: --include-runtime\ninfo: use -help for more information\nthufir@dur:~/kotlin$ \nthufir@dur:~/kotlin$ \nthufir@dur:~/kotlin$ kotlinc HelloWorld.kt -d HelloWorld.jar\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.intellij.util.text.StringFactory to constructor java.lang.String(char[],boolean)\nWARNING: Please consider reporting this to the maintainers of com.intellij.util.text.StringFactory\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nthufir@dur:~/kotlin$ \nthufir@dur:~/kotlin$ java -jar HelloWorld.jar \nno main manifest attribute, in HelloWorld.jar\nthufir@dur:~/kotlin$ \nthufir@dur:~/kotlin$ cat HelloWorld.kt \nimport kotlin.jvm.JvmStatic\n\nobject HelloWorld {\n    @JvmStatic\n    public fun main(args: Array&lt;String&gt;) {\n        println(\"Hello, world!\" + args[0])\n    }\n}\nthufir@dur:~/kotlin$ \n</code></pre>\n\n<p>Note that it's declared as a class, and so the method is not on the top level(?).  Would want to include the <code>kotlin</code> runtime as well.</p>\n\n<p>Do I need to manually create a <code>MANIFEST.MF</code> with <code>Main-Class</code> for the <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html\" rel=\"nofollow noreferrer\">entry point</a>?</p>\n"}, {"tags": ["jar", "jvm", "runtime-error", "kotlin", "command-line-interface"], "answers": [{"tags": [], "owner": {"reputation": 25525, "user_id": 750510, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/6995f16e417430a024c8413ae2d4aca1?s=128&d=identicon&r=PG", "display_name": "madhead", "link": "https://stackoverflow.com/users/750510/madhead"}, "is_accepted": true, "score": 2, "last_activity_date": 1509877554, "last_edit_date": 1509877554, "creation_date": 1509137559, "answer_id": 46983263, "question_id": 46978779, "link": "https://stackoverflow.com/questions/46978779/package-a-kotlin-class-file-in-a-jar-for-execution/46983263#46983263", "title": "package a Kotlin .class file in a JAR for execution", "body": "<p>The problem, just like in your other question, is that you are using a class with instance method. It simply won't work, because <code>main</code> must be static (and yours is not). In Kotlin, you don't need a class to define <code>main</code> method, just use functions:</p>\n\n<p><em>Hello.kt</em>:</p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    println(\"Hello, world!\" + args[0])\n}\n</code></pre>\n\n<p><em>kotlinc &amp; shell</em>:</p>\n\n<pre><code>$ kotlinc Hello.kt -include-runtime -d HelloWorld.jar\n$ java -jar HelloWorld.jar test\nHello, world!test\n</code></pre>\n"}], "owner": {"reputation": 7191, "user_id": 262852, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/e4e17e45f2e8cc967a8695131910f365?s=128&d=identicon&r=PG", "display_name": "Thufir", "link": "https://stackoverflow.com/users/262852/thufir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 590, "favorite_count": 0, "accepted_answer_id": 46983263, "answer_count": 1, "score": 0, "last_activity_date": 1509877554, "creation_date": 1509118723, "question_id": 46978779, "link": "https://stackoverflow.com/questions/46978779/package-a-kotlin-class-file-in-a-jar-for-execution", "title": "package a Kotlin .class file in a JAR for execution", "body": "<p>Following a <a href=\"https://turreta.com/2017/05/22/kotlin-compile-and-run-from-windows-command-line/\" rel=\"nofollow noreferrer\">tutorial</a> on \"Kotlin \u2013 Compile and Run from Windows Command Line\" there's a missing manifest:</p>\n\n<pre><code>thufir@dur:~/kotlin$ \nthufir@dur:~/kotlin$ ll\ntotal 32\ndrwxr-xr-x  2 thufir thufir  4096 Oct 27 08:29 ./\ndrwx------ 46 thufir thufir 16384 Oct 27 08:03 ../\n-rw-r--r--  1 thufir thufir   107 Oct 27 08:29 HelloWorld.kt\nthufir@dur:~/kotlin$ \nthufir@dur:~/kotlin$ kotlinc HelloWorld.kt -include-runtime -d HelloWorld.jar\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.intellij.util.text.StringFactory to constructor java.lang.String(char[],boolean)\nWARNING: Please consider reporting this to the maintainers of com.intellij.util.text.StringFactory\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\nthufir@dur:~/kotlin$ \nthufir@dur:~/kotlin$ \nthufir@dur:~/kotlin$ java -jar HelloWorld.jar\nno main manifest attribute, in HelloWorld.jar\nthufir@dur:~/kotlin$ \nthufir@dur:~/kotlin$ cat HelloWorld.kt \nclass HelloWorld {\n\n    fun main(args: Array&lt;String&gt;) {\n        println(\"Hello, world!\" + args[0])\n    }\n}\nthufir@dur:~/kotlin$ \nthufir@dur:~/kotlin$ kotlin -classpath HelloWorld.jar HelloWorldKt\nerror: could not find or load main class HelloWorldKt\nthufir@dur:~/kotlin$ \nthufir@dur:~/kotlin$ kotlin -classpath HelloWorld.jar HelloWorld\nerror: 'main' method of class HelloWorld is not static. Please ensure that 'main' is either a top level Kotlin function, a member function annotated with @JvmStatic, or a static Java method\nthufir@dur:~/kotlin$ \n</code></pre>\n\n<p>Sure enough, the <code>jar</code> lacks a <code>Main-Class</code> attribute as an <a href=\"https://docs.oracle.com/javase/tutorial/deployment/jar/appman.html\" rel=\"nofollow noreferrer\">entry point</a> for execution:</p>\n\n<pre><code>thufir@dur:~/kotlin$ \nthufir@dur:~/kotlin$ jar -xf HelloWorld.jar \nthufir@dur:~/kotlin$ \nthufir@dur:~/kotlin$ tree META-INF/\nMETA-INF/\n\u2514\u2500\u2500 MANIFEST.MF\n\n0 directories, 1 file\nthufir@dur:~/kotlin$ \nthufir@dur:~/kotlin$ cat META-INF/MANIFEST.MF \nManifest-Version: 1.0\nCreated-By: JetBrains Kotlin\n\nthufir@dur:~/kotlin$ \n</code></pre>\n\n<p>Why is the tutorial able to run the <code>jar</code> file they create?</p>\n"}, {"tags": ["android", "kotlin", "parcelable", "parceler"], "answers": [{"tags": [], "owner": {"reputation": 153048, "user_id": 9204, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/c79937a093ff9e963c563e22cd385f30?s=128&d=identicon&r=PG", "display_name": "Alexey Romanov", "link": "https://stackoverflow.com/users/9204/alexey-romanov"}, "is_accepted": true, "score": 5, "last_activity_date": 1509120635, "last_edit_date": 1509120635, "creation_date": 1509120056, "answer_id": 46979155, "question_id": 46978605, "link": "https://stackoverflow.com/questions/46978605/overriding-writetoparcel-is-not-allowed-use-parceler-companion-object-inste/46979155#46979155", "title": "Overriding &#39;writeToParcel&#39; is not allowed. Use &#39;Parceler&#39; companion object instead", "body": "<p>You can <em>either</em> use <code>@Parcelize</code> to tell the compiler to add the methods, <em>or</em> implement them explicitly (generated by IDEA plugin or not, it doesn't matter). It doesn't make sense to have both at once.</p>\n\n<p>You can customize logic used by <code>@Parcelize</code>, but it's still not done by overriding the methods, but as described in <a href=\"https://github.com/Kotlin/KEEP/blob/master/proposals/extensions/android-parcelable.md#custom-parcelables\" rel=\"noreferrer\">https://github.com/Kotlin/KEEP/blob/master/proposals/extensions/android-parcelable.md#custom-parcelables</a> (that's what the \"Use 'Parceler' companion object instead\" part of the message means).</p>\n"}], "owner": {"reputation": 165, "user_id": 8844330, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-iWJuUH9nllo/AAAAAAAAAAI/AAAAAAAABMg/99L3upfiAuo/photo.jpg?sz=128", "display_name": "Daniel Dhawan", "link": "https://stackoverflow.com/users/8844330/daniel-dhawan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1745, "favorite_count": 0, "accepted_answer_id": 46979155, "answer_count": 1, "score": 6, "last_activity_date": 1509120635, "creation_date": 1509118202, "last_edit_date": 1592644375, "question_id": 46978605, "link": "https://stackoverflow.com/questions/46978605/overriding-writetoparcel-is-not-allowed-use-parceler-companion-object-inste", "title": "Overriding &#39;writeToParcel&#39; is not allowed. Use &#39;Parceler&#39; companion object instead", "body": "<p>I used Jetbrains <a href=\"https://github.com/nekocode/android-parcelable-intellij-plugin-kotlin\" rel=\"noreferrer\">plugin</a> for generating Android Parcelable class in Kotlin, and got these two exceptions (not warnings, unlike <a href=\"https://stackoverflow.com/questions/46093364/android-kotlin-create-class-implement-parcelable-give-an-error-in-override-of\">here</a>, so the project doesn't build):</p>\n<blockquote>\n<p>CREATOR_DEFINITION_IS_NOT_ALLOWED: 'CREATOR' definition is not\nallowed. Use 'Parceler' companion object instead.</p>\n<p>OVERRIDING_WRITE_TO_PARCEL_IS_NOT_ALLOWED: Overriding 'writeToParcel' is not allowed. Use 'Parceler' companion object\ninstead.</p>\n</blockquote>\n<p>I have looked through similar questions, and didn't find any solutions for my case.</p>\n<p>My Kotlin version: 1.1.51 (according to Gradle), but this feauture was added in 1.1.4: <a href=\"https://blog.jetbrains.com/kotlin/2017/08/kotlin-1-1-4-is-out/\" rel=\"noreferrer\">https://blog.jetbrains.com/kotlin/2017/08/kotlin-1-1-4-is-out/</a></p>\n<p>The auto-generated code:</p>\n<pre><code>@Parcelize\ndata class User(\n        val id: Int,\n        val cardId: String,\n        val coefficent: Float = 1.0F,\n        val name: String,\n        val surname: String = &quot;&quot;\n) : Parcelable {\n    constructor(source: Parcel) : this(\n            source.readInt(),\n            source.readString(),\n            source.readFloat(),\n            source.readString(),\n            source.readString()\n    )\n\n    companion object {\n        @JvmField\n        val CREATOR: Parcelable.Creator&lt;User&gt; = object : Parcelable.Creator&lt;User&gt; {\n            override fun createFromParcel(source: Parcel): User = User(source)\n            override fun newArray(size: Int): Array&lt;User?&gt; = arrayOfNulls(size)\n        }\n    }\n\n    override fun describeContents() = 0\n\n    override fun writeToParcel(dest: Parcel, flags: Int) = with(dest) {\n        writeInt(id)\n        writeString(cardId)\n        writeFloat(coefficent)\n        writeString(name)\n        writeString(surname)\n    }\n}\n</code></pre>\n"}]